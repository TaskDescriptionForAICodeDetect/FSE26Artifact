[
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int>P;\n\nP v1[200], v2[200];\nbool used1[200], used2[200];\nint main() {\n\tint n;\n\twhile (scanf(\"%d\", &n), n) {\n\t\tmemset(used1, 0, sizeof(used1));\n\t\tmemset(used2, 0, sizeof(used2));\n\t\trep(i, n) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv1[i] = P(h, r);\n\t\t}\n\t\tint m; scanf(\"%d\", &m);\n\t\trep(i, m) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv2[i] = P(h, r);\n\t\t}\n\t\tsort(v1, v1 + n);\n\t\tsort(v2, v2 + m);\n\t\tv1[n] = v2[n] = P(2000, 2000);\n\t\tint cnt1 = 0;\n\t\trep(i, n + 1) {\n\t\t\trep(j, m) {\n\t\t\t\tif ((!i || (v1[i - 1].first < v2[j].first&&v1[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv2[j].first < v1[i].first&&v2[j].second < v1[i].second && !used1[j]) {\n\t\t\t\t\tused1[j] = true;\n\t\t\t\t\tcnt1++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\trep(i, m + 1) {\n\t\t\trep(j, n) {\n\t\t\t\tif ((!i || (v2[i - 1].first < v1[j].first&&v2[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv1[j].first < v2[i].first&&v1[j].second < v2[i].second && !used2[j]) {\n\t\t\t\t\tused2[j] = true;\n\t\t\t\t\tcnt2++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", max(cnt1 + n, cnt2 + m));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n  bool operator<(const data& d){\n    return s < d.s;\n  }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    sort(all(v));\n    ll ans = 0,c = 0;\n    vvl(dp,1002,1002,0);\n    REP(i,0,1001){\n      REP(j,0,1001){\n        if(c >= n+m) break;\n        if(v[c].h <= i && v[c].r <= j){\n          dp[i+1][j+1] = max(dp[i+1][j+1],dp[i][j]+1);\n          ++c;\n        }\n        else{\n          dp[i+1][j+1] = max(dp[i+1][j+1],max(dp[i+1][j],max(dp[i][j],dp[i][j+1])));\n        }\n      }\n    }\n    rep(i,1002){\n      rep(j,1002){\n        ans = max(ans,dp[i][j]);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 114514810;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nvector<P> v;\nint n, m;\nint dp[201][1001];\n\nint solve(int i, int r)\n{\n\tif (i == v.size()) return 0;\n\tif (dp[i][r] >= 0) return dp[i][r];\n\tint res;\n\tif (v[i].second > r)\n\t{\n\t\tres = max(solve(i + 1, r), solve(i + 1, v[i].second) + 1);\n\t}\n\telse res = solve(i + 1, r);\n\treturn dp[i][r] = res;\n}\n\nint main()\n{\n\twhile (cin >> n, n)\n\t{\n\t\tv.clear();\n\t\tMS(dp, -1);\n\t\tREP(i, n)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tcin >> m;\n\t\tREP(i, m)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tsort(ALL(v));\n\t\tREP(i, v.size()-1)\n\t\t{\n\t\t\tif (v[i].first == v[i + 1].first)\n\t\t\t{\n\t\t\t\tv.erase(v.begin()+(v[i].second > v[i + 1].second ? i : i + 1));\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tcout << solve(0, 0) << endl;\n\t}\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r < d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) || (v[i].h > v[j].h && v[i].r > v[j].r) ){\n                    table[i][j] = 1;\n                    table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 0;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]++;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]++;\n    }\n\n    rep(i,1003) rep(j,1003){\n      if(i>0 && j>0){\n\tdp[i][j]=max(dp[i-1][j],dp[i][j-1])+doll[i][j];\n\tif(doll[i][j]){\n\t  for(int k=j+1;k<1003;k++)\n\t    dp[i][k]=dp[i][j];\n\t  break;\n\t}\n      }\n    }\n\n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <map>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int, int> P;\n#define F first\n#define S second\nint main() {\n\tint n, m;\n\twhile (scanf(\"%d\",&n)) {\n\t\tif (n==0) break;\n\t\tP ich[n];\n\t\tfor (int i=0; i<n; i++) scanf(\"%d%d\",&ich[i].F,&ich[i].S);\n\t\tscanf(\"%d\",&m);\n\t\tP ji[m];\n\t\tfor (int i=0; i<m; i++) scanf(\"%d%d\",&ji[i].F,&ji[i].S);\n\t\tP mat[n+m];\n\t\tfor (int i=0; i<n; i++) mat[i]=ich[i];\n\t\tfor (int i=0; i<m; i++) mat[i+n]=ji[i];\n\t\tsort(mat, mat+n+m);\n\t\tint dp[n+m], res=0;\n\t\tdp[0]=1;\n\t\tfor (int i=1; i<n+m; i++) {\n\t\t\tdp[i]=1;\n\t\t\tfor (int j=0; j<i; j++) {\n\t\t\t\tif (mat[j].F<mat[i].F&&mat[j].S<mat[i].S) dp[i]=max(dp[i],dp[j]+1);\n\t\t\t}\n\t\t\tres=max(res,dp[i]);\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint n;\nint m;\npair<int,int> h[200];\n\nint dp[2][200];\n\nint solve(int pos, int size, int s2){\n  if(pos == n+m) return 0;\n\n  int a = 0, b = 0;\n\n  //if(dp[0][pos] == -1)\n  a = solve(pos+1, size, s2);\n\n  if(size < h[pos].s && s2 < h[pos].f){\n    if(dp[1][pos] == -1)\n      b = dp[1][pos] = solve(pos+1, h[pos].s, h[pos].f) + 1;\n    else\n      b = dp[1][pos];\n  }\n\n  return max(a, b);\n}\n\nint main(){\n  while(n = getInt()){\n    REP(i,n){\n      h[i].f = getInt();\n      h[i].s = getInt();\n    }\n\n    m = getInt();\n    REP(i,m){\n      h[i+n].f = getInt();\n      h[i+n].s = getInt();\n    }\n\n    sort(h, h+n+m);\n\n    memset(dp, -1, sizeof(dp));\n\n    print(solve(0,-1,-1));\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\nconst int MAX_NM = 200;\n\nstruct M{\n\tint r, h;\n};\n\nbool ascending_M_r(const M& l, const M& r){\n\treturn l.r < r.r;\n}\n\nbool ascending_M_h(const M& l, const M& r){\n\treturn l.h < r.h;\n}\n\nint main(){\n\tint n, m, dp[MAX_NM];\n\tM a[MAX_NM];\n\twhile(std::cin >> n, n){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstd::cin >> a[i].h >> a[i].r;\n\t\t}\n\t\tstd::cin >> m;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tstd::cin >> a[n+i].h >> a[n+i].r;\n\t\t}\n\t\n\t\tint r_res = 0, h_res = 0;//hの最長増加部分列とrの最長増加部分列\n\t\tstd::sort(a, a+n+m, ascending_M_r);\n\n\t\tdp[0] = 1;\n\t\tfor(int i=1;i<n+m;i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(a[j].r < a[i].r && a[j].h < a[i].h){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tr_res = dp[n+m-1];\n\n\t\tstd::sort(a, a+n+m, ascending_M_h);\n\t\tdp[0] = 1;\n\t\tfor(int i=1;i<n+m;i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(a[j].r < a[i].r && a[j].h < a[i].h){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\th_res = dp[n+m-1];\n\n\t\tprintf(\"%d\\n\", std::max(h_res, r_res));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nstruct doll{\n    int h, r;\n    doll(int height, int radius) : h(height), r(radius) {}\n    bool  operator<(const doll other) const{\n        if(h != other.h)    return h < other.h;\n        else                return r < other.r;\n    }\n};\n\nint main(){\n    while(1){\n        int n, m, h, r;\n        cin >> n;\n\n        if(n == 0)  break;\n\n        vector<doll> dolls;\n\n        for(int i = 0; i < n; i++){\n            cin >> h >> r;\n            dolls.push_back(doll(h,r));\n        }\n\n        cin >> m;\n\n        for(int i = 0; i < m; i++){\n            cin >> h >> r;\n            dolls.push_back(doll(h,r));\n        }\n    \n        sort(dolls.begin(), dolls.end());\n\n        n += m;\n        \n        int len[n];\n        for(int i = 0; i < n; i++)  len[i] = 1;\n\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < i; j++){\n                if(dolls[j].h < dolls[i].h && dolls[j].r < dolls[i].r && len[j] + 1 > len[i]){\n                    len[i] = len[j] + 1;\n                }\n            }\n        }\n\n        int ans = 0;\n        for(int i = 0; i < n; i++)  ans = max(ans, len[i]);\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tbool dp[1000][1000] = {false};\n\t\tint n, m, h, r, ans = 0;\n\t\tcin >>n;\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tcin >>m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tint cnt = 1;\n\t\tfor(int i = cnt; i < 1000; i++){\n\t\t\tfor(int j = cnt; j < 1000; j++){\n\t\t\t\tif(dp[i][j] == true || dp[j][i] == true){\n\t\t\t\t\tans++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcnt++;\n\t\t}\n\t\tcout <<ans <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Pair {\n\tint a, b;\n\tPair(int _a = 0, int _b = 0){ a = _a; b = _b; }\n\tbool operator < (const Pair &t) const {\n\t\treturn a < t.a && b < t.b;\n\t}\n};\n\nint main()\n{\n\tint n;\n\twhile (scanf(\"%d\", &n), n){\n\t\tvector<Pair> v;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint x, y;\n\t\t\tscanf(\"%d %d\", &x, &y);\n\t\t\tv.push_back(Pair(x, y));\n\t\t}\n\t\tscanf(\"%d\", &n);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint x, y;\n\t\t\tscanf(\"%d %d\", &x, &y);\n\t\t\tv.push_back(Pair(x, y));\n\t\t}\n\t\tsort(v.begin(), v.end());\n\t\t\n\t\tvector<Pair> l(v.size());\n\t\tl[0] = v[0];\n\t\tint len = 1;\n\t\tfor (int i = 1; i < v.size(); i++){\n\t\t\tif (l[len - 1] < v[i]){\n\t\t\t\tl[len++] = v[i];\n\t\t\t}\n\t\t\telse {\n\t\t\t\t*lower_bound(l.begin(), l.begin() + len, v[i]) = v[i];\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", len);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tstd::sort(vc.begin(), vc.end());\n\t\t\n\t\tdp[0] = 1;\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tdp[i] = 1;\n\t\t\t\n\t\t\tfor( j = 0; j < i; j++ )\n\t\t\t{\n\t\t\t\tif( vc[j].first < vc[i].first && vc[j].second < vc[i].second )\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max( dp[j]+1, dp[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max( dp[j], dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n//\t\t\tcout << \"dp::\" << dp[i] << endl;\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define iota(i,n,b,s) for(int i=int(b);i!=int((b)+(s)*(n));i+=(s))\n#define range(i,n,m) iota(i,(((n)>(m))?((n)-(m)):((m)-(n))),(n),((n)>(m)?-1:1))\n#define rep(i,n) iota(i,(n),0,1)\n#define loop for(;;)\n\n#define INF (1e9)\n#define EPS (1e-9)\n#define cons(a,b) (make_pair(a,b))\n#define car(a) (a.first)\n#define cdr(a) (a.second)\n#define cadr(a) (car(cdr(a)))\n#define cddr(a) (cdr(cdr(a)))\n#define all(a) a.begin(), a.end()\n#define trace(var) cerr<<\">>> \"<<#var<<\" = \"<<var<<endl;\n\ntypedef long long Integer;\ntypedef double Real;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef map<string,int> Dictionary;\nconst Real PI = acos(-1);\n\ntemplate<class S, class T>\nostream& operator<<(ostream& os, pair<S,T> p) {\n  os << '(' << car(p) << \", \" << cdr(p) << ')';\n  return os;\n}\n\ntemplate<class T>\nostream& operator<<(ostream& os, vector<T> v) {\n  if (v.size() == 0) {\n    os << \"(empty)\";\n    return os;\n  }\n  os << v[0];\n  for (int i=1, len=v.size(); i<len; ++i) os << ' ' << v[i];\n  return os;\n}\n\nint dx[] = { -1, 0, 1, 0 };\nint dy[] = {  0, -1, 0, 1 };\n\nint main() {\n\nmore:\n\n  vector<int> hs;\n  vector<int> rs;\n\n  {\n    int n; cin >> n;\n    if (!n) return 0;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  {\n    int n; cin >> n;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  const int N = hs.size();\n  int d[N][N];\n\n  rep (i, N) {\n    rep (j, N) {\n      if ((hs[i] < hs[j] && rs[i] < rs[j])) {\n        d[i][j] = 1;\n      } else {\n        d[i][j] = 0;\n      }\n    }\n  }\n\n  int ans = 0;\n  rep (i, N) {\n    stack<pair<int,int>> s;\n    s.push(cons(i, 1));\n    while (!s.empty()) {\n      auto t = s.top(); s.pop();\n      rep (j, N) {\n        if (d[car(t)][j]) s.push(cons(j, cdr(t) + 1));\n      }\n      ans = max(ans, cdr(t));\n    }\n  }\n  cout << ans << endl;\n\n  goto more;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint n,m,tmp,ans;\nint x[200],y[200],dp[200];\nint check(int a,int b){\n  return (x[a]>x[b]&&y[a]>y[b]);\n}\nint main(){\n  while(cin>>n&&n){\n    for(int i=0;i<n;i++)cin>>x[i]>>y[i];\n    cin>>m;\n    for(int i=0;i<m;i++)cin>>x[n+i]>>y[n+i];\n    for(int i=n+m-1;i>0;i--){\n      for(int j=0;j<i;j++){\n\tif(x[j]*y[j]>x[j+1]*y[j+1]){\n\t  swap(x[j],x[j+1]);//tmp=x[j];x[j]=x[j+1];x[j+1]=tmp;\n\t  swap(y[j],y[j+1]);//tmp=y[j];y[j]=y[j+1];y[j+1]=tmp;\n\t}\n      }\n    }\n    ans=1;\n    for(int i=0;i<n+m;i++)dp[i]=1;\n    for(int i=1;i<n+m;i++){\n      for(int j=0;j<i;j++){\n\tif(check(i,j))dp[i]=max(dp[i],dp[j]+1);\n      }\n      ans=max(ans,dp[i]);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF INT_MAX/3\n#define ALL(a) (a).begin(),(a).end()\n#define CLR(a) memset(a,0,sizeof(a))\n\ntypedef long long int ll;\n\nusing namespace std;\nint dp[1000][1000];\n\nint main(){\n    while(true){\n\tvector< pair<int,int> > hr;\n\tint n,m;\n\tcin >> n;\n\tif(n == 0) break;\n\tREP(i,n){\n\t    int h,r;\n\t    cin >> h >> r;\n\t    hr.PB( pair<int,int>(h,r) );\n\t}\n\tcin >> m;\n\tREP(i,m){\n\t    int h,r;\n\t    cin >> h >> r;\n\t    hr.PB( pair<int,int>(h,r) );\n\t}\n\tn += m;\n\tint ans = 0;\n\tsort(ALL(hr));\n\tmemset(dp,-1,sizeof(dp));\n\tdp[0][0] = 0;\n\tREP(i,n){\n\t    for(int j=0;j<hr[i].first;j++){\n\t\tfor(int k=0;k<hr[i].second;k++){\n\t\t    if(dp[j][k] >= 0)\n\t\t\tdp[hr[i].first][hr[i].second] = max(dp[hr[i].first][hr[i].second], dp[j][k] + 1);\n\t\t}\n\t    }\n\t}\n\tREP(i,1000)REP(j,1000) ans = max(ans,dp[i][j]);\n\tcout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define ALL(A) A.begin(), A.end()\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nint dp[205];\n\nint main()\n{\n\n\tint n, m;\n\twhile ( cin >> n && n ){\n\t\tvector <P> d;\n\t\td.clear();\n\t\tmemset (dp, 0, sizeof (dp ) );\n\t\trep (i, n ){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back (P (h, r ) );\n\t\t} // end rep \n\t\tcin >> m;\n\t\trep (i, m ){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back (P (h, r ) );\n\t\t} // end rep\n\t\tsort (ALL (d ) );\n\n\t\tint res = 0;\n\t\trep (i, n+m ){\n\t\t\tdp[i] = 1;\n\t\t\trep (j, i ){\n\t\t\t\tif (d[j].first < d[i].first && d[j].second < d[i].second ) {\n\t\t\t\t\tdp[i] = max (dp[i], dp[j]+1 );\n\t\t\t\t} // end if\n\t\t\t} // end rep\n\t\t\tres = max (res, dp[i] );\n\t\t} // end rep\n\t\tcout << res << endl;\n\t} // end loop\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <string>\n#include <bitset>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <sstream>\n#include <fstream>\n//#include <tuple>\n#include <set>\n#include <string.h>\n#include <functional>\n\n#define X first\n#define Y second\n#define MP make_pair\n//#define MT make_tuple\n#define REP(i, a, n) for(int (i) = (a); (i) < (n); ++(i))\n#define FOR(i, n) REP(i, 0, n)\ntypedef long long ll;\nusing namespace std;\nconst int MAX = 101;\n\ntemplate<class T, class U>\nvoid convert(T &t, U &u)\n{\n\tstringstream ss;\n\tss << t;\n\tss >> u;\n}\n\nint dp[1001][1001];\n\nint main()\n{\n\tint n;\n\twhile ( cin >> n && n ){\n\t\tmemset(dp, 0, sizeof(dp));\n\t\t//入力.\n\t\tvector<pair<int, int> > data;\n\t\tFOR( i, n ){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\tdata.push_back( MP( s, t ) );\n\t\t}\n\n\t\tint m; cin >> m;\n\t\tFOR( i, m ){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\tdata.push_back( MP( s, t ) );\n\t\t}\n\t\t\n\t\tsort(data.begin(), data.end());\n\n\n\t\tdp[data[0].first][data[0].second] = 1;\n\t\tFOR(i, data.size()){\n\t\t\tREP(j, i + 1, data.size()){\n\t\t\t\tif (data[i].first < data[j].first && data[i].second < data[j].second){\n\t\t\t\t\tdp[data[j].first][data[j].second] = max(dp[data[j].first][data[j].second], dp[data[i].first][data[i].second] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint maxc = -1;\n\t\tFOR(i, data.size()){\n\t\t\tmaxc = max(maxc, dp[data[i].first][data[i].second]);\n\t\t}\n\n\t\tcout << maxc << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\nint field1[1001];\nint field2[1001];\nusing namespace std;\nint main(void){\n    while(1){\n        for(int i = 0;i <= 1001;i++){\n            field1[i] = 0;\n            field2[i] = 0;\n        }\n        int n; scanf(\"%d\",&n);\n        if(n == 0) break;\n        vector<pair<int,int> > v1;\n        vector<pair<int,int> > v2;\n        pair<int,int> p;\n        p.first = 0; p.second = 0;\n        v1.push_back(p); v2.push_back(p);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        scanf(\"%d\",&n);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        sort(v1.begin(),v1.end()); sort(v2.begin(),v2.end());\n        for(int i = 1;i < v1.size();i++){\n            for(int j = i - 1;j >= 0;j--){\n                if(v1[i].second > v1[j].second && field1[i] <= field1[j]+1){\n                    field1[i] = field1[j]+1;\n                }\n            }\n        }\n\n        for(int i = 1;i < v2.size();i++){\n            for(int j = i-1;j >= 0;j--){\n                if(v2[i].second > v2[j].second && field2[i] <= field2[j]+1){\n                    field2[i] = field2[j]+1;\n                }\n            }\n        }\n        int ans = -1;\n        for(int i = 0;i < v1.size();i++){\n            if(field1[i] >= ans) ans = field1[i];\n            if(field2[i] >= ans) ans = field2[i];\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\nusing namespace std;\n\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\ntypedef vector<string> VS;\ntypedef int INT;\ntypedef vector<INT> VI;\ntypedef vector<VI> VVI;\ntypedef pair <INT, INT> II;\ntypedef vector <II> VII;\n\ntemplate<class T> ostream& operator << ( ostream& os, vector<T> v ) {\n    for ( typename vector<T>::iterator it_i = v.begin(); it_i != v.end(); ++it_i ) {\n        os << *it_i << \", \";\n    }\n    return os;\n}\n\n\nconst int SIZE = 101;\nconst int NONE = -1;\n\nint H[SIZE];\nint R[SIZE];\nint N;\nint dp[1002][1002];\n\nint solve( int hh, int rr ) {\n    int& res = dp[hh][rr];\n    if ( res != NONE ) return res;\n    int maxd = 0;\n    for ( int i = 0; i < N; ++ i ) {\n        if ( H[i] < hh && R[i] < rr ) {\n            maxd = max( maxd, 1 + solve( H[i], R[i] ) );\n        }\n    }\n    return res = maxd;\n}\n\nint main() {\n    int n, m;\n    while ( cin >> n && n ) {\n        for ( int i = 0; i < 1002; ++ i ) {\n            for ( int j = 0; j < 1002; ++ j ) {\n                dp[i][j] = NONE;\n            }\n        }\n        for ( int i = 0; i < n; ++ i ) {\n            cin >> H[i] >> R[i];\n        }\n        cin >> m;\n        for ( int i = n; i < n+m; ++ i ) {\n            cin >> H[i] >> R[i];\n        }\n        N = n + m;\n        cout << solve( 1001, 1001 ) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<vector>\n#include<iostream>\n#include<algorithm>\n\n#define\tmp\tmake_pair\n#define\tpb\tpush_back\n#define\th\tfirst\n#define\tr\tsecond\n\nusing namespace std;\n\ntypedef\tpair<int,int>\tpii;\n\nvector< vector<int> > child;\n//vector<int> memo;\n// max number of matrioshka which i-th matrioshka can have (i-th one is included)\n\nint rec(int i)\n{\n//\tif(memo[i]!=-1)\treturn memo[i];\n\n\tint nmax=1;\n\tfor(int j=0;j<child[i].size();j++)\n\t\tnmax=max(nmax,1+rec(child[i][j]));\n//\treturn memo[i]=nmax;\n\treturn nmax;\n}\n\nint main()\n{\n\twhile(1){\n\t\tvector<pii>\tmat;\n\t\tint n;\tcin>>n;\n\t\tfor(int i=0,h,r;i<n;i++)\tcin>>h>>r,mat.pb(mp(h,r));\n\t\tint m;\tcin>>m;\n\t\tfor(int i=0,h,r;i<m;i++)\tcin>>h>>r,mat.pb(mp(h,r));\n\t\tif(n==0)\tbreak;\n\n\t\tchild=vector< vector<int> >(n+m);\n\t\tfor(int i=0;i<n+m;i++){\n\t\t\tfor(int j=0;j<n+m;j++){\n\t\t\t\tif(mat[i].h>mat[j].h && mat[i].r>mat[j].r)\n\t\t\t\t\tchild[i].pb(j);\n\t\t\t}\n\t\t}\n\n//\t\tmemo=vector<int>(n+m,-1);\n\t\tint ans=0;\n\t\tfor(int i=0;i<n+m;i++)\tans=max(ans,rec(i));\n\t\tcout<<ans<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint N, M, h[200], r[200];\n\nint main() {\n    while (true) {\n        cin >> N;\n        if (N == 0) break;\n        for (int j = 0; j < N; ++j) {\n            cin >> h[j] >> r[j];\n        }\n        cin >> M;\n        for (int j = 0; j < M; ++j) {\n            cin >> h[j+N] >> r[j+N];\n        }\n\n        int arr[1001][1001];\n        for (int j = 0; j <= 100; ++j) fill(arr[j], arr[j] + 1001, 0);\n\n        for (int j = 0; j < N+M; ++j) {\n            arr[h[j]][r[j]] = 1;\n        }\n\n        int dp[1001][1001];\n        for (int j = 0; j <= 100; ++j) fill(dp[j], dp[j] + 1001, 0);\n\n        for (int j = 0; j <= 1000; ++j) {\n            for (int k = 0; k <= 1000; ++k) {\n                if (j > 0 && k > 0) {\n                    dp[j][k] = max(dp[j-1][k-1] + arr[j][k], max(dp[j-1][k], dp[j][k-1]));\n                } else if (j > 0) {\n                    dp[j][k] = dp[j-1][k];\n                } else if (k > 0) {\n                    dp[j][k] = dp[j][k-1];\n                }\n            }\n        }\n\n        cout << dp[1000][1000] << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nconst int MAX = 201;\n\ntypedef struct{\n  int h;\n  int r;\n}DOLL;\n\nint dp[MAX];\nDOLL data[MAX];\nint m,n;\n\nvoid Dsort(){\n  for(int i = 0; i < m+n-1; i++){\n    for(int j = i; j < m+n; j++){\n      if(data[i].r > data[j].r /*&& data[i].h > data[j].h*/){\n\tDOLL tmp  = data[i];\n\tdata[i] = data[j];\n\tdata[j] = tmp;\n      }\n    }\n  }\n}\n\nint solve(){\n  dp[1] = 1;\n  DOLL now = data[0];\n  for(int i = 2; i < m+n; i++){\n    if(data[i].h > now.h && data[i].r > now.r){\n      dp[i] = dp[i-1]+1;\n      now = data[i];\n    }else dp[i] = dp[i-1];\n  }\n  return dp[m+n-1]+1;\n}\n\n\nint main(){\n\n  while(cin >> n && n){\n    fill(dp,dp+MAX,0);\n    for(int i = 0; i < n; i++) cin >> data[i].h >> data[i].r;\n    cin >> m;\n    for(int i = n; i < m+n; i++) cin >> data[i].h >> data[i].r;\n    Dsort();\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint N, M, h[200], r[200];\n\nint main() {\n    while (true) {\n        cin >> N;\n        if (N == 0) break;\n        for (int j = 0; j < N; ++j) {\n            cin >> h[j] >> r[j];\n        }\n        cin >> M;\n        for (int j = 0; j < M; ++j) {\n            cin >> h[j+N] >> r[j+N];\n        }\n\n        int arr[1001][1001];\n        for (int j = 0; j <= 1000; ++j) fill(arr[j], arr[j] + 1001, 0);\n\n        for (int j = 0; j < N+M; ++j) {\n            arr[h[j]][r[j]] = 1;\n        }\n\n        int dp[1001][1001];\n        for (int j = 0; j <= 1000; ++j) fill(dp[j], dp[j] + 1001, 0);\n\n        for (int j = 0; j <= 1000; ++j) {\n            for (int k = 0; k <= 1000; ++k) {\n                if (j > 0 && k > 0) {\n                    dp[j][k] = max(dp[j-1][k-1] + arr[j][k], max(dp[j-1][k], dp[j][k-1]));\n                } else if (j > 0) {\n                    dp[j][k] = dp[j-1][k];\n                } else if (k > 0) {\n                    dp[j][k] = dp[j][k-1];\n                }\n            }\n        }\n\n        cout << dp[1000][1000] << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <memory>\n#include <memory.h>\n#include <cmath>\n#include <fstream>\n#include <cmath>\n#include <numeric>\n#include <vector>\n#include <stack>\n#include <string>\n#include <queue>\n#include <sstream>\n#include <cstdlib>\n#include <cassert>\n#include <cstdio>\n#include <map>\n#include <iomanip>\n#include <list>\n#include <cctype>\n#include <algorithm>\n#include <complex>\n#define USE_MATH_DEFINES\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define rep2(i, m, n) for(int i = m; i < n; i++)\nusing namespace std;\n\ntypedef complex<double> xy_t;\ntypedef pair<xy_t, xy_t> line;\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\ntypedef pair<int, PP> PPP;\nconst int INF = 1 << 29;\nconst double EPS = 1E-10;\n\nint dp[300];\nP ma[300];\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n){\n\t\tmemset(dp, 0, sizeof(dp));\n\t\trep(i, n) cin>> ma[i].first >> ma[i].second;\n\t\tcin >> m;\n\t\trep(i, m) cin >> ma[n+i].first >> ma[n+i].second;\n\t\tsort(ma, ma + n + m);\n\t\tint res = 0;\n\t\trep(i, n + m){\n\t\t\tint best = 0;\n\t\t\trep(j, i){\n\t\t\t\tif(ma[i].first > ma[j].first && ma[i].second > ma[j].second) best = max(best, dp[j]);\n\t\t\t}\n\t\t\tdp[i] = best + 1;\n\t\t\tres = max(res, dp[i]);\n\t\t}\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvector< pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(cin>>n && n){\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=0;j<n+m;j++){\n        if(doll[i].first>doll[j].first && doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n    memset(dp,0,sizeof(dp));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    ll ans = 1,tmp = 1;\n    h = v[0].h,r = v[0].r;\n    sort(all(v),[](const data &a,const data &b){\n        return a.s < b.s;});\n    ll c = 0,mi = inf;\n    while(1){\n      mi = inf;\n      rep(i,n+m){\n        if(v[i].h > h && v[i].r > r && mi > v[i].h -h + v[i].r - r){\n          h = v[i].h;\n          r = v[i].r;\n          c = i;\n          mi = v[i].h - h +v[i].r - r;\n        }\n      }\n      if(mi != inf){\n        ++ans;\n      }\n      else\n        break;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<algorithm>\n#include<bitset>\n#include<cctype>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<deque>\n#include<limits>\n#include<list>\n#include<map>\n#include<set>\n#include<stack>\n#include<string>\n#include<sstream>\n#include<queue>\n#include<vector>\nusing namespace std;\n\n#define MOD 1000000007\n#define INF 0x3f3f3f3f\n#define INFL 0x3f3f3f3f3f3f3f3fLL\n\nint main() {\n\tfor (int N; cin >> N, N;) {\n\t\tvector< pair<int, int> > v;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tint a, b; scanf(\"%d%d\", &a, &b);\n\t\t\tv.push_back(make_pair(a, -b));\n\t\t}\n\t\tint M; cin >> M;\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tint a, b; scanf(\"%d%d\", &a, &b);\n\t\t\tv.push_back(make_pair(a, -b));\n\t\t}\n\t\tsort(v.begin(), v.end());\n\t\tfor (int i = 0; i < N + M; i++) {\n\t\t\tv[i].second *= -1;\n\t\t}\n\n\t\tvector<int> dp(N + M, INF);\n\t\tfor (int i = 0; i < N + M; i++) {\n\t\t\t*lower_bound(dp.begin(), dp.end(), v[i].second) = v[i].second;\n\t\t}\n\t\tint ans = find(dp.begin(), dp.end(), INF) - dp.begin();\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<map>\n#include<algorithm>\nusing namespace std;\nint main(){\n  int n,m,x,y;\n  while(cin >>n,n){\n    vector<pair<int, int> > doll;\n    vector<int> lot;\n    int dp[201] = {0};\n    for(int i=0; i<n; i++){cin >>x>>y;doll.push_back(make_pair(x,y));}\n    cin >>m;\n    for(int i=0; i<m; i++){cin >>x>>y;doll.push_back(make_pair(x,y));}\n    sort(doll.begin(),doll.end());\n    for(int i=0,r=-1; i<doll.size(); i++){\n      if(r != doll[i].first){\n\tr = doll[i].first;\n\tlot.push_back(doll[i].second);\n      }\n    }\n    for(int i=0; i<lot.size(); i++){\n      for(int j=1; j<=i+1; j++){\n\tif(dp[j-1]<lot[i]){\n\t  if(dp[j] == 0 || lot[i]<dp[j]){\n\t    dp[j] = lot[i];\n\t    break;\n\t  }\n\t}\n      }\n    }\n    for(int ans=1;;ans++){\n      if(dp[ans] == 0){cout <<ans-1<<endl;break;}\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip>\n#include <complex>\n#include <string>\n#include <vector>\n#include <list>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm>\n#include <numeric>\n#include <typeinfo>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <ctime>\n\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<\"=\"<<(n)<<endl\n#define debug(n) cout<<__FILE__<<\",\"<<__LINE__<<\": #\"<<#n<<\"=\"<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define rep(i,n) repi(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define foreach(i,c) for(iter(c) i=(c).begin();i!=(c).end();i++)\n#define allof(c) (c).begin(),(c).end()\n#define mp make_pair\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nint LIS(const vector<pii>& a)\n{\n\tint size=a.size();\n\tif(size==0)\n\t\treturn 0;\n\t\n\tvi dp(size);\n\tdp[0]=1;\n\trepi(i,1,size){\n\t\trep(j,i){\n\t\t\tif(a[j].first<a[i].first && a[j].second<a[i].second)\n\t\t\t\tdp[i]=max(dp[i],dp[j]+1);\n\t\t}\n\t}\n\treturn *max_element(allof(dp));\n}\n\nint main()\n{\n\tfor(int n;cin>>n,n;){\n\t\tvector<pii> a(n);\n\t\trep(i,n) cin>>a[i].first>>a[i].second;\n\t\tint m; cin>>m;\n\t\ta.resize(n+m);\n\t\trepi(i,n,n+m)\n\t\t\tcin>>a[i].first>>a[i].second;\n\t\t\n\t\tsort(allof(a));\n\t\tcout<<LIS(a)<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n,m;\n\ntypedef pair<int,int> p1;\ntypedef pair<p1,int> P;\n\nint calc(P d[1000],int c)\n{\n\tint res = 0;\n\tint ok = 0;\n\tP now = P(p1(0,0),0);\n\tfor(int i = 0; i < 1000; i++){\n\t\tif(d[i].first.first > now.first.first && d[i].first.second > now.first.second){\n\t\t\tres++;\n\t\t\tnow = d[i];\n\t\t\tok |= d[i].second;\n\t\t}\n\t}\n\n\tif(ok != 3)\n\t\treturn 0;\n\treturn res;\n}\n\nvoid solve()\n{\n\tP Rs[1000] = {},Hs[1000] = {};\n\tP in;\n\tint c = 0;\n\n\tfor(int i = 0; i < n; i++,c++){\n\t\tcin >> in.first.first >> in.first.second;\n\t\tin.second = 1;\n\t\tRs[c] = in;\n\t\tswap(in.first.first, in.first.second);\n\t\tHs[c] = in;\n\t}\n\tcin >> m;\n\tfor(int j = 0; j < m; j++,c++){\n\t\tin.second = 2;\n\t\tcin >> in.first.first >> in.first.second;\n\t\tRs[c] = in;\n\t\tswap(in.first.first, in.first.second);\n\t\tHs[c] = in;\n\t}\n\tsort(Rs,Rs+c);\n\tsort(Hs,Hs+c);\n\n\tint res = calc(Rs,c);\n\tres = max(res, calc(Hs,c));\n\tcout << res << endl;\n}\n\n\nint main(void)\n{\n\twhile(cin >> n, n){\n\t\tsolve();\n\t}\n\treturn 0;\n}\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint n, m;\nint h1[100], h2[100], r1[100], r2[100];\nint next1[100], next2[100];\n\nint calc(int idx, int d)\n{\n\tstatic int dp[2][100];\n\t\n\tif(idx == 0 && d == 0)\n\t\tfor(int i = 0; i < 2; ++i)\n\t\t\tfor(int j = 0; j < max(n, m); ++j)\n\t\t\t\tdp[i][j] = -1;\t\n\t\n\tint ret = 0;\n\t\n\tif((idx < 0) || (d == 0 && idx >= n) || (d == 1 && idx >= m))\n\t\treturn 0;\n\t\t\n\tif(dp[d][idx] != -1)\n\t\treturn dp[d][idx];\n\t\n\tret = calc(idx + 1, d);\n\tif(d == 0)\n\t\tret = max(ret, calc(next1[idx], 1));\n\telse\n\t\tret = max(ret, calc(next2[idx], 0));\n\t\n\treturn dp[d][idx] = ret + 1;\n}\n\nint main()\n{\n\twhile(true) {\n\t\n\t\tint idx;\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0)\n\t\t\tbreak;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t\tscanf(\"%d%d\", &h1[i], &r1[i]), next1[i] = -1;\n\t\tscanf(\"%d\", &m);\n\t\tif(m == 0)\n\t\t\tbreak;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t\tscanf(\"%d%d\", &h2[i], &r2[i]), next2[i] = -1;\n\t\t\n\t\tidx = 0;\n\t\tfor(int i = 0; i < n; ++i) {\n\t\t\t\n\t\t\twhile(idx < m) {\n\t\t\t\tif(h1[i] < h2[idx] && r1[i] < r2[idx])\n\t\t\t\t\tbreak;\n\t\t\t\t++idx;\n\t\t\t}\n\t\t\tif(idx >= m)\n\t\t\t\tbreak;\n\t\t\tnext1[i] = idx;\n\t\t}\n\t\t\n\t\tidx = 0;\n\t\tfor(int i = 0; i < m; ++i) {\n\t\t\t\n\t\t\twhile(idx < n) {\n\t\t\t\tif(h2[i] < h1[idx] && r2[i] < r1[idx])\n\t\t\t\t\tbreak;\n\t\t\t\t++idx;\n\t\t\t}\n\t\t\tif(idx >= n)\n\t\t\t\tbreak;\n\t\t\tnext2[i] = idx;\n\t\t}\n\t\t\n\t\tint ans = max(calc(0, 0), calc(0, 1));\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct D{int r, h;};\n\nbool ascendDr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascendDh(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[200];\n  D dolls[200];\n  while(cin >> n){\n    if(n == 0) break;\n\n    for(int i = 0; i < n; i++) cin >> dolls[i].h >> dolls[i].r;\n    cin >> m;\n    for(int i = 0; i < m; i++) cin >> dolls[n+i].h >> dolls[n+i].r;\n\n    int lis_r = 0, lis_h = 0;\n    sort(dolls, dolls + n + m, ascendDr);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(dolls, dolls + n + m, ascendDh);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n\tEACH(x,vec) is >> x;\n\treturn is;\n}\n/*\ntemplate<class... T>\nostream& operator<<(ostream& os, tuple<T...>& t) {\n\tfor (size_t i = 0; i < tuple_size< tuple<T...> >::value; ++i) {\n\t\tif (i) os << \" \";\n\t\tos << get<0>(t);\n\t}\n\treturn os;\n}\n*/\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << \" \";\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << endl;\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\n\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N;\n\twhile ( cin >> N, N ) {\n\t\tvector<P> v;\n\t\tREP(i, N) {\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tv.pb( P(h, r) );\n\t\t}\n\t\tint M; cin >> M;\n\t\tREP(i, M) {\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tv.pb( P(h, r) );\n\t\t}\n\t\tsort( ALL(v) );\n\t\tN += M;\n\t\tvector< vector<int> > dp(N+1, vector<int>(N+1, -1)); dp[0][0] = 0;\n\t\tREP(i, N) {\n\t\t\tREP(j, N+1) {\n\t\t\t\tif (dp[i][j] < 0) continue;\n\t\t\t\tdp[i+1][j] = max(dp[i+1][j], dp[i][j]);\n\t\t\t\tif (j == 0 || (v[j-1].first < v[i].first && v[j-1].second < v[i].second)) {\n\t\t\t\t\tdp[i+1][i+1] = max(dp[i+1][i+1], dp[i][j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = -1;\n\t\tREP(i, N+1) ans = max(ans, dp[N][i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nbool involve(P a, P b) {\n  return (a.first<b.first && a.second<b.second);\n}\n\nint main() {\n  int n, m, s, t;\n  int a[200];\n  P dolls[201];\n  while (1) {\n    cin >> n;\n    if (!n) break;\n    dolls[0].first = dolls[0].second = 0;\n    for (int i=1; i<=n; i++) {\n      cin >> dolls[i].first >> dolls[i].second;\n    }\n    cin >> m;\n    for (int i=1; i<=m; i++) {\n      cin >> dolls[i+n].first >> dolls[i+n].second;\n    }\n    s = n+m;\n    sort(dolls, dolls+s);\n    for (int i=0; i<=s; i++) {\n      a[i] = 0;\n    }\n    for (int i=1; i<=s; i++) {\n      for (int j=i-1; j>=0; j--) {\n        if (involve(dolls[j], dolls[i])) {\n          a[i] = max(a[i], a[j]+1);\n        }\n      }\n    }\n    t = 0;\n    for (int i=1; i<=s; i++) {\n      if (t < a[i]) {\n        t = a[i];\n      }\n    }\n    cout << t << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, ans, p, s, s2, s3;\npair<int,int> doll[201];\nint dp[2][201],dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n + 1; i <= n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll + 1, doll + 1 + n + m);\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tp = lower_bound(dp[0] + 1, dp[0] + n + m + 1, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\t*lower_bound(dp2 + 1, dp2 + n + m + 1, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout <<lower_bound(dp2 + 1, dp2 + n + m + 1, INF) - dp2 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000\nusing namespace std;\n\nint r[N],h[N];\n\nint syori(int,int);\nvoid sort(int,int);\n\nint main(){\n  int n1,n2,i,ans;\n \n  while(1){\n \n    for(i=1;i<=N;i++){\n      r[i]=0;\n      h[i]=0;\n    }\n\n\n    r[0]=-1;\n    h[0]=-1;\n   \n    cin >> n1;\n    if(n1==0)break;\n   \n    for(i=1;i<=n1;i++){    // 1©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n   \n    cin >> n2;\n   \n    for(i=n1+1;i<=n1+n2;i++){ // P©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n   \n    sort(n1,n2);\n\n    ans=syori(n1,n2);\n   \n    cout << ans << endl;\n  }\n \n \n}\n\nvoid sort(int n1,int n2){\n  int i,j,max,hi;\n\n  for(i=0;i<=(n1+n2);i++){\n    max=i;\n    for(j=i;j<(n1+n2);j++){\n      if(h[j] < h[max])max=j;\n    }\n      hi=h[max];\n      h[max]=h[i];\n      h[i]=hi;\n   \n         hi=r[max];\n      r[max]=r[i];\n      r[i]=hi;\n\n\n  }\n\n}\n\n\n\nint syori(int n1,int n2){\n  int ANS[N],i,j; //ANS[N]Í·³ð²×ézñ \n  int max=0,res=0;\n \n  for(i=0;i<N;i++){\n    ANS[i]=0;\n    \n  }\n  \n \n  for(i=1;i<=(n1+n2);i++){\n    max=0;\n    //  cout <<endl<< \"h[\"<<i<<\"]--\"<<h[i]<<endl;    \n    // cout << \"r[\"<<i<<\"]--\"<<r[i]<<endl;\n    // cout << \"ANS[\"<<i<<\"]--\"<<ANS[i]<<endl;\n    // cout<< \"Lo[\"<<i<<\"]--\"<<Lo[i]<<endl<<endl;\n\n\n    for(j=0;j<i;j++){\n      if(h[j]<h[i] && r[j]<r[i] && ANS[j]>ANS[max]){\n    max=j;   \n      }\n   \n    }\n ANS[i]=ANS[max]+1;\n      \n  }\n\n  //  for(i=1;i<=(n1+n2);i++){\n  //  cout << \"ANS[\" << i << \"]--\" << ANS[i]<< endl;\n  // }\n\n\n  for(i=1;i<=(n1+n2);i++){\n      if(res<=ANS[i]){\n    res=ANS[i];\n    }\n  }\n  return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n,m;\n\ntypedef pair<int,int> P;\n\nint calc(P d[1000],int c)\n{\n\tint res = 0;\n\tP now = P(0,0);\n\tfor(int i = 0; i < c; i++){\n\t\tif(d[i].first > now.first && d[i].second > now.second){\n\t\t\tres++;\n\t\t\tnow = d[i];\n\t\t}\n\t}\n\treturn res;\n}\n\nvoid solve()\n{\n\tP Rs[1000],Hs[1000];\n\tP in;\n\tint c = 0;\n\n\tfor(int i = 0; i < n; i++,c++){\n\t\tcin >> in.first >> in.second;\n\t\tRs[c] = in;\n\t\tswap(in.first, in.second);\n\t\tHs[c] = in;\n\t}\n\tcin >> m;\n\tfor(int j = 0; j < m; j++,c++){\n\t\tcin >> in.first >> in.second;\n\t\tRs[c] = in;\n\t\tswap(in.first, in.second);\n\t\tHs[c] = in;\n\t}\n\tsort(Rs,Rs+c);\n\tsort(Hs,Hs+c);\n\n\tint res = calc(Rs,c);\n\tres = max(res, calc(Hs,c));\n\tcout << res << endl;\n}\n\n\nint main(void)\n{\n\twhile(cin >> n, n){\n\t\tsolve();\n\t}\n\treturn 0;\n}\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int MAX_SIZE = 1000;\nconst int N = 100;\n\nmain(){\n  int n, m, sizeH, sizeR;\n  int dp[MAX_SIZE+1][MAX_SIZE+1];\n  int dataH[2][N];\n  int dataR[2][N];\n  while(cin >> n && n){\n    sizeH = sizeR = 0;\n    for(int i=0;i<n;++i){\n      cin >> dataH[0][i] >> dataR[0][i];\n      sizeH = max(sizeH, dataH[0][i]);\n      sizeR = max(sizeR, dataR[0][i]);\n    }\n    cin >> m;\n    for(int i=0;i<m;++i){\n      cin >> dataH[1][i] >> dataR[1][i];\n      sizeH = max(sizeH, dataH[1][i]);\n      sizeR = max(sizeR, dataR[1][i]);\n    }\n    fill(dp[0], dp[MAX_SIZE], -1);\n    dp[0][0] = 0;\n    for(int i=0;i<sizeH;++i){\n      for(int j=0;j<sizeR;++j){\n\tif(dp[i][j] == -1) continue;\n\tfor(int k=0;k<n;++k){\n\t  if(dataH[0][k] > i && dataR[0][k] > j) \n\t    dp[dataH[0][k]][dataR[0][k]] = max(dp[dataH[0][k]][dataR[0][k]], dp[i][j] + 1);\n\t}\n\tfor(int k=0;k<m;++k){\n\t  if(dataH[1][k] > i && dataR[1][k] > j) \n\t    dp[dataH[1][k]][dataR[1][k]] = max(dp[dataH[1][k]][dataR[1][k]], dp[i][j] + 1);\n\t}\n      }\n    }\n    int ans = 0;\n    for(int i=0;i<sizeH;++i){\n      for(int j=0;j<sizeR;++j){\n\tans = max(ans, dp[i][j]);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      vector<pair<int,int> >data;\n      for(int i=0;i<n;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t}\n      int m;\n      cin>>m;\n      for(int i=0;i<m;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t}\n      sort(data.begin(),data.end());\n      /*      for(int i=0;i<data.size();i++)\n\tcout<<\"<\"<<data[i].first<<\",\"<<data[i].second<<\"> \";\n\tcout<<endl;\n      */\n      int ans=1;\n      for(int j=data.size()-1;j>=0;j--)\n\t{\n\t  int tmp=1;\n\t  pair<int,int >last=data[j];\n\t  for(int i=j-1;i>=0;i--)\n\t    {\n\t      // cout<<\"<\"<<last.first<<\",\"<<last.second<<\"> \"<<endl;\n\t      if(last.first>data[i].first &&\n\t\t last.second>data[i].second\n\t\t )\n\t\t{\n\t\t  tmp++;\n\t\t  last=data[i];\n\t\t}\n\t    }\n\t  if(tmp>ans)\n\t    ans=tmp;\n\t}\n      cout<<ans<<endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<queue>\n#include<cstring>\n#include<map>\nusing namespace std;\nvector<pair<int,int> >data;\nmap<pair<int,int>,int> dp[201];\n\nint check(int i,pair<int,int> last)\n{\n  //  cout<<i<<\" \"<<endl;\n  if(i<0)\n    return 0;\n\n  if(dp[i].count(last)!=0)\n    return dp[i][last];\n\n\n  int ans=0;\n  if(last.first>data[i].first &&\n     last.second>data[i].second )\n    ans=check(i-1,data[i])+1;\n\n  ans=max(ans,check(i-1,last));\n  dp[i][last]=ans;\n  return ans;\n}\n\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      data.clear();\n      for(int i=0;i<n;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t}\n      int m;\n      cin>>m;\n      for(int i=0;i<m;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t}\n      sort(data.begin(),data.end());\n      // memset(dp,-1,sizeof(dp));\n      //int ans=;\n      for(int i=0;i<201;i++)\n\tdp[i].clear();\n\n      cout<<check(data.size()-1,make_pair(9999,9999))<<endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n\tint n, m;\n\twhile( cin >> n, n ){\n\t\tint doll[1001][1001] = {0};\n\t\tint dp[1001][1001] = {0};\n\t\t\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tint w, h;\n\t\t\tcin >> w >> h;\n\t\t\tdoll[h][w] = 1;\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i=0 ; i < m ; i++ ){\n\t\t\tint w, h;\n\t\t\tcin >> w >> h;\n\t\t\tdoll[h][w] = 1;\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int y=1 ; y < 1001 ; y++ ){\n\t\t\tfor(int x=1 ; x < 1001 ; x++ ){\n\t\t\t\tif( doll[y-1][x-1] == 1 ){\n\t\t\t\t\tdp[y][x] = max( dp[y-1][x-1]+1 , max(dp[y-1][x],dp[y][x-1]) );\n\t\t\t\t\tans = max( ans , dp[y][x] );\n\t\t\t\t}else{\n\t\t\t\t\tdp[y][x] = max(dp[y-1][x],dp[y][x-1]);\n\t\t\t\t\tans = max( ans , dp[y][x] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define repb(i,a,b) for(int i=a;i>=b;i--)\n#define all(a) a.begin(),a.end()\n#define o(a) cout<<a<<endl\n#define pb(a) push_back(a)\n#define int long long\n#define fi first\n#define se second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n\nint dp[1010][1010];\nbool doll[1010][1010];\nint n, m, h, r;\n\nsigned main(){\n\twhile (cin >> n && n) {\n\t\trep(i, 0, 1010) {\n\t\t\trep(j, 0, 1010) {\n\t\t\t\tdoll[i][j] = false;\n\t\t\t\tdp[i][j] = 0;\n\t\t\t}\n\t\t}\n\t\trep(i, 0, n) {\n\t\t\tcin >> h >> r;\n\t\t\tdoll[h][r] = true;\n\t\t}\n\t\tcin >> m;\n\t\trep(i, 0, m) {\n\t\t\tcin >> h >> r;\n\t\t\tdoll[h][r] = true;\n\t\t}\n\t\trep(i, 1, 1010) {\n\t\t\trep(j, 1, 1010) {\n\t\t\t\tif (doll[i][j]) {\n\t\t\t\t\tdp[i][j] = dp[i - 1][j - 1] + 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdp[i][j] = max(dp[i - 1][j], dp[i][j - 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << dp[1001][1001] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 29;\nint n, m, p;\npair<int, int> doll[201];\nint dp[2][201], dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (doll[i].first == doll[i - 1].first){\n\t\t\t\tdoll[i].first = 0;\n\t\t\t\tdoll[i].second = 0;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\t*lower_bound(dp[0], dp[0] + n + m, doll[i].second) = doll[i].second;\n\t\t}\n\t\tcout << lower_bound(dp[0], dp[0] + n + m, INF) - dp[0] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <utility>\nusing namespace std;\n\ntypedef pair<int,int> pii;\n\nbool eqfirst(const pii &p, const pii &q){\n\treturn p.first == q.first;\n}\n\nint main(){\n\tint n, h, r;\n\tconst int INF = 1 << 30;\n\twhile(1){\n\t\tvector<pii> v;\n\t\tfor(int i = 0; i < 2; ++i){\n\t\t\tif(scanf(\"%d\", &n) == EOF){ return 0; }\n\t\t\tfor(int j = 0; j < n; ++j){\n\t\t\t\tscanf(\"%d%d\", &h, &r);\n\t\t\t\tv.push_back(pii(h, r));\n\t\t\t}\n\t\t}\n\t\tsort(v.begin(), v.end());\n\t\tv.erase(unique(v.begin(), v.end(), eqfirst), v.end());\n\n\t\tvector<int> dp(v.size() + 1, INF);\n\t\tfor(int i = 0; i < v.size(); ++i){\n\t\t\tr = v[i].second;\n\t\t\t*upper_bound(dp.begin(), dp.end(), r) = r;\n\t\t}\n\t\tprintf(\"%d\\n\", lower_bound(dp.begin(), dp.end(), INF) - dp.begin());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint MOD = 1000000007;\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector <pair <int, int> > mato;\n        int h, r;\n        for(int i = 0; i < n; i++){\n            cin >> h >> r;\n            mato.push_back(make_pair(h, r));\n        }\n        int m;\n        cin >> m;\n        for(int i = 0; i < m; i++){\n            cin >> h >> r;\n            mato.push_back(make_pair(h, r));\n        }\n        sort(mato.begin(), mato.end());\n        int sum[n + m] = {1}, ans = 0;\n        for(int i = 1; i < n + m; i++){\n            int macs= 0;\n            for(int j = 0; j < i; j++){\n                if(mato[i].first > mato[j].first && mato[i].second > mato[j].second)\n                    macs = max(macs, sum[j]);\n            }\n            sum[i] = macs + 1;\n            ans = max(ans, sum[i]);\n        }\n        cout << ans << endl;\n    }\n    \n}"
  },
  {
    "language": "C++",
    "code": "// AOJ 0157\n#include<iostream>\n#include<map>\n#include<vector>\n#include<string>\n#include<sstream>\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef pair<int,int> P;\n\nconst int NMAX = 150;\n\nvector<P> ichiro, jiro;\nint n, m;\nint idp[NMAX], jdp[NMAX];\nint index[NMAX], jndex[NMAX];\n\nvoid init() {\n  REP(i, NMAX) {\n    idp[i] = jdp[i] = 0;\n    index[i] = jndex[i] = 0;\n  }\n  jiro.clear();\n  ichiro.clear();\n\n  jiro.push_back(make_pair(0,0));\n  ichiro.push_back(make_pair(0,0));\n}\n\nbool bigger(P big, P small) {\n  return (big.first > small.first and big.second > small.second);\n}\n\nint lowerb(P mine, vector<P> his, int len) {\n  for (int i = 1; i < len; i++) {\n    if (not bigger(mine, his[i])) {\n      return i - 1;\n    }\n  }\n  return len - 1;\n}\n\nint rec(int i, int* mine, int* his) {\n  if (i < 0) throw 1;\n  if (i == 0) {\n    return 0;\n  } else {\n    return 1 + max(rec(i - 1, mine, his), rec(mine[i], his, mine));\n  }\n}\n\nint solve() {\n  for (int i = 1; i <= n; i++) {\n    index[i] = lowerb(ichiro[i], jiro, m);\n  }\n\n  for (int j = 1; j <= m; j++) {\n    jndex[j] = lowerb(jiro[j], ichiro, n);\n  }\n\n  return max(rec(n, index, jndex), rec(m, jndex, index));\n}\n\nint main() {\n  while (cin >> n and n) {\n    init();\n    REP(i, n) {\n      int h, r;\n      cin >> h >> r;\n      ichiro.push_back(make_pair(h, r));\n    }\n\n    cin >> m;\n    REP(i, m) {\n      int h, r;\n      cin >> h >> r;\n      jiro.push_back(make_pair(h, r));\n    }\n\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define MP(a, b) make_pair(a, b)\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint n, m;\nvector<pi>s;\nint dp[1024];\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n    s.clear();\n    int h, r;\n    rep(i, n){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n    scanf(\"%d\", &m);\n    rep(i, m){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n\n    sort(s.begin(), s.end());\n    memset(dp, 0, sizeof(dp));\n\n    int res = 0;\n    rep(i, s.size()){\n      dp[i] = 1;\n      rep(j, i) if(s[j].F < s[i].F && s[j].S < s[i].S){\n\tdp[i] = max(dp[i], dp[j] + 1);\n      }\n      res = max(res, dp[i]);\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mk make_pair\n#define f first\n#define s second\nusing namespace std;\nint n,m,p1,p2;\nmap<pair<int,pair<int,int> >,int >m1;\n\nvector<pair<int,int> >v;\n\nint dfs(int d,int h,int w){\n  int res=0;\n  if(m1[mk(d,mk(h,w))])return m1[mk(d,mk(h,w))];\n  if(d==v.size()) return 0;\n  if(v[d].f<h&&v[d].s<w)\n    res=max(res,dfs(d+1,v[d].f,v[d].s))+1;\n  res=max(res,dfs(d+1,h,w));\n  return m1[mk(d,mk(h,w))]=res;\n}\n\nmain(){\n  while(cin>>n,n){\n    m1.clear();\n    v.clear();\n    for(int i=0;i<n;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<v.size();i++)swap(v[i].f,v[i].s);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    cout<<dfs(0,1001,1001)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX_N 1000\nint x[MAX_N], y[MAX_N], X[MAX_N][MAX_N], dist[MAX_N];\nint A, B, N;\nint main() {\n\twhile (true) {\n\t\tcin >> A; if (A == 0) { break; } for (int i = 0; i < A; i++) { cin >> x[i] >> y[i]; }\n\t\tcin >> B; for (int i = A; i < A + B; i++) { cin >> x[i] >> y[i]; }N = A + B;\n\t\tfor (int i = 0; i < N; i++) { for (int j = 0; j < N; j++) { if (x[i] < x[j] && y[i] < y[j]) { X[i][j] = 1; } } }\n\t\tqueue<int>Q; int res = 0; for (int i = 0; i < N; i++) { dist[i] = 0; Q.push(i); }\n\t\twhile (true) {\n\t\t\tint a1 = Q.front(); Q.pop();\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tif (X[a1][i] == 1 && dist[a1] + 1>dist[i]) { dist[i] = dist[a1] + 1; Q.push(i); }\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < N; i++) { if (res < dist[i]) { res = dist[i]; } }cout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<deque>\n#include<map>\n#include<set>\n#include<string>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<cctype>\nusing namespace std;\n#define rep(i, j) for(int i = 0; i < j; i++)\n#define f(i, k, j) for(int i = k; i < j; i++)\n#define P pair<int, int>\nconst int INF = (1 << 26);\nconst int MAX_NM = 201;\n\nint n, m, dp[MAX_NM];\nvector<P> mato;\n\nint loop(int i){\n    if(dp[i] != 0) return dp[i];\n    rep(j, mato.size()) if(mato[i].first > mato[j].first && mato[i].second > mato[j].second) dp[i] = max(dp[i], loop(j) + 1);\n    return dp[i];\n}\n\n\nint main(){\n    while(cin >>n && n != 0){\n        mato.clear();\n        rep(i, MAX_NM) dp[i] = 0;\n\n        rep(i, n){\n            int a, b; cin >>a >>b; mato.push_back( P(a, b) );\n        }\n        cin >>m;\n        rep(i, m){\n            int a, b; cin >>a >>b; mato.push_back( P(a, b) );\n        }\n\n        int ans = 0;\n        rep(i, mato.size()) ans = max(ans, loop(i));\n        cout <<ans + 1 <<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000\nusing namespace std;\nint r[N],h[N];\n\nint syori(int,int);\nvoid sort(int,int);\n\nint main(){\n  int n1,n2,i,ans;\n  \n  while(1){\n  \n    for(i=1;i<=N;i++){\n      r[i]=0;\n      h[i]=0;\n    }\n\n\n    r[0]=-1;\n    h[0]=-1;\n    \n    cin >> n1; \n    if(n1==0)break;\n    \n    for(i=1;i<=n1;i++){    // 1©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n    \n    cin >> n2;\n    \n    for(i=n1+1;i<=n1+n2;i++){ // P©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n    \n    sort(n1,n2);\n\n    ans=syori(n1,n2);\n    \n    cout << ans << endl;\n  }\n  \n  \n}\n\nvoid sort(int n1,int n2){\n  int i,j,max,rr;\n\n  for(i=1;i<=(n1+n2);i++){\n    for(j=1;j<=(n1+n2);j++){\n      if(h[j] > h[i]){\n\t\n\trr=h[i];\n\th[i]=h[j];\n\th[j]=rr;\n\t\n\trr=r[i];\n\tr[i]=r[j];\n\tr[j]=rr;\n\t\n\t\n      }\n    }\n    \n    \n  }\n  \n}\n\n\n\nint syori(int n1,int n2){\n  int ANS[N],i,j; //ANS[N]Í·³ð²×ézñ \n  int max=0,res=0;\n  \n  for(i=0;i<N;i++){\n    ANS[i]=0;\n   \n  }\n \n  \n  for(i=1;i<=(n1+n2);i++){\n    max=0;\n    //  cout <<endl<< \"h[\"<<i<<\"]--\"<<h[i]<<endl;     \n    // cout << \"r[\"<<i<<\"]--\"<<r[i]<<endl;\n    // cout << \"ANS[\"<<i<<\"]--\"<<ANS[i]<<endl;\n   \n\n\n    for(j=0;j<i;j++){\n      if(h[j]<h[i] && r[j]<r[i] && ANS[j]>ANS[max]){\n\tmax=j;    \n      }\n    \n    }\n ANS[i]=ANS[max]+1;\n       \n  }\n\n  //  for(i=1;i<=(n1+n2);i++){\n  //  cout << \"ANS[\" << i << \"]--\" << ANS[i]<< endl;\n  // }\n\n\n  for(i=1;i<=(n1+n2);i++){\n      if(res<=ANS[i]){\n\tres=ANS[i];\n    }\n  }\n  return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\n\nint main(void)\n{\n\tint n,m;\n\tint h,r;\n\tint i1,i2;\n\tint maxx;\n\n\twhile(1){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\n\t\tvector<pair<int,int> > doll;\n\n\t\tfor(i1=0;i1<n;i1++){\n\t\t\tcin>>h>>r;\n\t\t\tdoll.pb(mp(h,r));\n\t\t}\n\t\tcin>>m;\n\t\tfor(i1=0;i1<m;i1++){\n\t\t\tcin>>h>>r;\n\t\t\tdoll.pb(mp(h,r));\n\t\t}\n\n\t\tsort(doll.begin(), doll.end());\n\t\tvector<int> dp(doll.size(),1);\n\t\tmaxx=0;\n\t\t\n\t\tfor(i1=0;i1<doll.size();i1++){\n\t\t\tfor(i2=0;i2<i1;i2++){\n\t\t\t\tif(doll[i1].first>doll[i2].first && doll[i1].second>doll[i2].second) {\n\t\t\t\t\tdp[i1]=max(dp[i1],dp[i2]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmaxx=max(maxx,dp[i1]);\n\t\t}\n\t\tcout<<maxx<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define pb(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<pair<int,int> >v;\n        int m,x,y,x1,y1,x2,y2,a=1,c=1,b=101;\n        g(0,n){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        x1=v[0].f,y1=v[0].s,x2=v[n].f,y2=v[n].s;\n        sort(v.begin(),v.end());\n        x=x1,y=y1;\n        g(0,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                a++;\n                x=v[i].f,y=v[i].s;\n            }\n            else\n                b=min(b,i);\n        }\n        x=x2,y=y2;\n        g(0,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                c++;\n                x=v[i].f,y=v[i].s;\n            }\n        }\n        cout<<max(a,c)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\ntypedef std::pair<int, int> P;\n\nP data[202];\nint dp[202];\n\nint main(){\n\n\tint n, m;\n\twhile (std::cin >> n, n){\n\n\t\tdata[0] = P(0, 0);\n\t\tdp[0] = 0;\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tstd::cin >> data[i].first >> data[i].second;\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 1; i <= m; i++){\n\t\t\tstd::cin >> data[i + n].first >> data[i + n].second;\n\t\t}\n\n\t\tstd::sort(data, data + 1 + n + m);\n\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tfor (int j = 0; j < i; j++){\n\t\t\t\tif (data[i].first > data[j].first&&data[i].second > data[j].second){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint max = 0;\n\t\tfor (int i = 0; i <= n + m; i++){\n\t\t\tif (dp[i] > max)max = dp[i];\n\t\t}\n\t\tstd::cout << max << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\n#include<iomanip>\n#include<math.h>\n#include<complex>\n#include<queue>\n#include<deque>\n#include<stack>\n#include<map>\n#include<set>\n#include<bitset>\n#include<functional>\nusing namespace std;\n#define REP(i,m,n) for(int i=(int)m ; i < (int) n ; ++i )\n#define rep(i,n) REP(i,0,n)\ntypedef long long ll;\ntypedef pair<int,int> pint;\ntypedef pair<ll,int> pli;\nconst int inf=1e9+7;\nconst ll longinf=1LL<<60 ;\nconst ll mod=1e9+7 ;\n\nint main(){\n    int n,m;\n    while(cin>>n,n!=0){\n        int h[200],r[200];\n        rep(i,n)cin>>r[i]>>h[i];\n        int m;cin>>m;\n        rep(i,m)cin>>r[n+i]>>h[n+i];\n        vector<int>ord(n+m);\n        rep(i,n+m)ord[i]=i;\n        sort(ord.begin(),ord.end(),[&](int x,int y){return pint(r[x],-h[x])<pint(r[y],-h[y]);});\n        int dp[222];\n        rep(i,222)dp[i]=inf;\n        dp[0]=0;\n        for(auto i:ord){\n            int idx=lower_bound(dp,dp+222,h[i])-dp;\n            dp[idx]=h[i];\n        }\n        int ans=lower_bound(dp,dp+222,inf)-dp;\n        cout<<ans-1<<endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\nusing namespace std;\n#define MAX 200\n\nclass Doll{\n    public:\n    int h, r;\n    Doll(){}\n    Doll( int h, int r ): h(h), r(r){}\n\n    bool operator < ( const Doll &d ) const {\n\tif ( r == d.r ) return h < d.h;\n\telse return r < d.r;\n    }\n};\n\nDoll dolls[MAX+1];\nint size;\n\nint lis(){\n    int T[MAX+1];\n    T[0] = 0;\n    dolls[0] = Doll( 0, 0 );\n    for ( int i = 1; i <= size; i++ ){\n\tint maxi = 0;\n\tfor ( int j = 0; j <= i - 1; j++ ){\n\t    if ( T[j] > T[maxi] && \n\t\t dolls[j].h < dolls[i].h && dolls[j].r < dolls[i].r ){\n\t\tmaxi = j;\n\t    }\n\t}\n\tT[i] = T[maxi] + 1;\n    }\n\n    int maxv = 0;\n    for ( int i = 1; i <= size; i++ ) maxv = max( maxv, T[i] );\n\n    return maxv;\n}\n\nbool input(){\n    int n, m, h, r;\n    cin >> n;\n    if ( n == 0 ) return false;\n\n    dolls[0] = Doll(0, 0);\n\n    for ( int i = 1; i <= n; i++ ){\n\tcin >> h >> r;\n\tdolls[i] = Doll( h, r );\n    }\n    cin >> m; size = n + m;\n    for ( int i = n + 1; i <= size; i++ ){\n\tcin >> h >> r;\n\tdolls[i] = Doll( h, r );\n    }\n    return true;\n}\n\nint main(){\n    while(input()){\n\tsort( dolls, dolls + size + 1);\n\tcout << lis() << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint n, m;\nint d[200][2], dp[200];\n\nint main(){\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            int max = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]&&d[j][1] < d[i][1]){\n                        a = dp[j];\n                    }\n                }\n                dp[i] += a;\n                if(max <= dp[i]){\n                    max = dp[i];\n                }\n            }\n            cout << max << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\nusing namespace std;\n\n\nint n, m;\nvector<pair<int, int>> d;\nvector<int> dp = { 0 };\n\n\nint solve(){\n\tdp[0] = d[0].second;\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i].second){\n\t\t\tdp.push_back(d[i].second);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i].second) = d[i].second;\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end());\n\n\t\tint ans = solve();\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nconst int MAX = 201;\n\ntypedef struct{\n  int h;\n  int r;\n}DOLL;\n\nint dp[MAX];\nDOLL data[MAX];\nint m,n;\n\nvoid Dsort(){\n  for(int i = 0; i < m+n-1; i++){\n    for(int j = i; j < m+n; j++){\n      if(data[i].r > data[j].r && data[i].h > data[j].h){\n\tDOLL tmp  = data[i];\n\tdata[i] = data[j];\n\tdata[j] = tmp;\n      }\n    }\n  }\n}\n\nint solve(){\n  dp[1] = 1;\n  DOLL now = data[0];\n  int out = 0;\n  for(int i = 2; i < m+n; i++){\n    if(data[i].h > now.h && data[i].r > now.r){\n      dp[i] = dp[i-1]+1;\n      now = data[i];\n    }else dp[i] = dp[i-1];\n    out = max(out,dp[i]);\n  }\n  return out+1;\n}\n\n\nint main(){\n\n  while(cin >> n && n){\n    for(int i = 0; i < n; i++) cin >> data[i].h >> data[i].r;\n    cin >> m;\n    for(int i = n; i < m+n; i++) cin >> data[i].h >> data[i].r;\n    Dsort();\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint n, m;\nint d[200][2], dp[200];\n\nint main(){\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            int maax = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]&&d[j][1] < d[i][1]){\n                        a = dp[j];\n                    }\n                }\n                dp[i] += a;\n                if(maax <= dp[i]){\n                    maax = dp[i];\n                }\n            }\n            cout << maax << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX_N 1000\nint x[MAX_N], y[MAX_N], X[MAX_N][MAX_N], dist[MAX_N];\nint A, B, N;\nint main() {\n\twhile (true) {\n\t\tcin >> A; if (A == 0) { break; } \n\t\tfor (int i = 0; i < A; i++) { cin >> x[i] >> y[i]; }\n\t\tcin >> B; \n\t\tfor (int i = A; i < A + B; i++) { cin >> x[i] >> y[i]; }N = A + B;\n\t\tfor (int i = 0; i < N; i++) { \n\t\t\tfor (int j = 0; j < N; j++) { \n\t\t\t\tif (x[i] < x[j] && y[i] < y[j]) { X[i][j] = 1; }\n\t\t\t\telse { X[i][j] = 0; }\n\t\t\t} \n\t\t}\n\t\tqueue<int>Q; int res = 0; for (int i = 0; i < N; i++) { dist[i] = 1; Q.push(i); }\n\t\twhile (!Q.empty()) {\n\t\t\tint a1 = Q.front(); Q.pop();\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tif (X[a1][i] == 1 && dist[a1] + 1 > dist[i]) { dist[i] = dist[a1] + 1; Q.push(i); }\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < N; i++) { if (res < dist[i]) { res = dist[i]; } }cout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<map>\n#include<algorithm>\nusing namespace std;\nint main(){\n  int n,m,x,y;\n  while(cin >>n,n){\n    vector<pair<int, int> > doll;\n    vector<int> lot;\n    int dp[201] = {0};\n    int ans = 0;\n    for(int i=0; i<n; i++){cin >>x>>y;doll.push_back(make_pair(x,y));}\n    cin >>m;\n    for(int i=0; i<m; i++){cin >>x>>y;doll.push_back(make_pair(x,y));}\n    sort(doll.begin(),doll.end());\n    lot.push_back(0);\n    for(int i=0,r=-1; i<doll.size(); i++){\n      if(r != doll[i].first){\n\tr = doll[i].first;\n\tlot.push_back(doll[i].second);\n      }\n    }\n    for(int i=1; i<lot.size(); i++){\n      int r = 0;\n      for(int j=0; j<i; j++){\n\tif(lot[j]<lot[i] && r<dp[j]){r = dp[j];}\n      }\n      dp[i] = r+1;\n    }\n    for(int i=0;i<lot.size();i++){\n      if(ans<dp[i]){ans = dp[i];}\n    }\n    cout <<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[201];\n  P doll[200];\n  while(cin >> n && n){\n    fill(doll, doll+200, P(0, 0));\n    fill(dp, dp + 200, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      *(upper_bound(dp, dp + 201, doll[i].S)-1) = doll[i].S;\n    }\n    cout << lower_bound(dp, dp + 201, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <queue>\n#include <stack>\n#include <string>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n\n#define rep(i, n) for(int i = 0; i < n; i ++)\n#define COUNT(i, n) for(int i = 1; i <= n; i ++)\n#define ALL(T) T.begin(), T.end()\n#define mp make_pair\n#define pb push_back\n#define ITER(c) __typeof((c).begin())\n#define each(c, it) for(ITER(c) it = (c).begin(); it != (c).end(); it++)\n#define H first\n#define R second\n\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nconst int INF = 1 << 24;\nconst int N = 201;\n\nint dp[N];\n\nint main(void){\n    for(int n; cin >> n, n;){\n        vector<pii> in(N);\n        rep(i, n) cin >> in[i].H >> in[i].R;\n\n        int m; cin >> m;\n        rep(i, m) cin >> in[n + i].H >> in[n + i].R;\n\n        rep(i, n + m)  dp[i] = 0;\n\n        sort(in.begin(), in.begin() + n + m);\n\n        rep(i, n + m) rep(j, i) if(in[j].H < in[i].H && in[j].R < in[i].R) dp[i] = max(dp[i], dp[j] + 1);\n\n        cout << *max_element(dp, dp + m + n) + 1 << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include <math.h>\n#include <cctype>\n\n#include <iostream>\n#include <vector>\n#include <deque>\n#include <queue>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define repi(i,l,n) for(int (i)=(int)(l);(i)<(int)(n);(i)++)\n#define d_arr(arr, h, w) rep(i,(h) ){ cout << \"[\"; rep(j,(w) ) { cout << (arr)[i][j] << \", \"; } cout << \"]\" << endl;}\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x);\n#define fs first\n#define sc second\n#define pb push_back\n\ntypedef pair<int ,int> P;\nvector<P> mv;\nmap<int, int> memo;\n\n//\nint next_of(int i){\n    if( i == mv.size()-1 ) { return mv.size(); }\n    else if( i >= mv.size()-1 ) { return mv.size(); }\n    int h = mv[i].fs;\n    int r = mv[i].sc;\n    int nh = h;\n    int nr = r;\n    while(1){\n        if( nh > h && nr > r) { break; }\n        i++;\n        nh = mv[i].fs;\n        nr = mv[i].sc;\n    }\n    return i;\n}\n\n// mv[i] 以上で作れるマトリョーシカの数の最大値\nint rec(int i){\n    //cout << \"rec : \" << i << endl;\n    if( memo.find(i) != memo.end() ){ return memo[i]; }\n    if( i == mv.size() ){ return 0; }\n    if( mv.size()-1 < i ){\n        return 0;\n    }\n    int e0 = rec(i+1);\n    int e1 = 0;\n    int next = next_of(i);\n    e1 = rec(next) + 1;\n    memo[i] = max(e0,e1);\n    return memo[i];\n}\n\nint main()\n{\n    int n,m;\n    int h,r;\n    while(1){\n        mv.clear();\n        memo.clear();\n        cin >> n;\n        if( n==0 ){ break; }\n        rep(i,n){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        cin >> m;\n        rep(i,m){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        sort(mv.begin(),mv.end());\n        cout << rec(0) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n//#include <utility>\n#include <set>\n#include <iostream>\n//#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n//#include <functional>\n#include <sstream>\n//#include <deque>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstdio>\n//#include <cctype>\n#include <cstring>\n//#include <ctime>\n#include <iterator>\n#include <bitset>\n//#include <numeric>\n//#include <list>\n//#include <iomanip>\n\n#if __cplusplus >= 201103L\n#include <array>\n#include <tuple>\n#include <initializer_list>\n#include <unordered_set>\n#include <unordered_map>\n#include <forward_list>\n\n#define cauto const auto&\n#else\n\n#endif\n\nusing namespace std;\n\n\nnamespace{\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef vector<int> vint;\ntypedef vector<vector<int> > vvint;\ntypedef vector<long long> vll, vLL;\ntypedef vector<vector<long long> > vvll, vvLL;\n\n#define VV(T) vector<vector< T > >\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v, int a, int b, const T &t = T()){\n    v.assign(a, vector<T>(b, t));\n}\n\ntemplate <class F, class T>\nvoid convert(const F &f, T &t){\n    stringstream ss;\n    ss << f;\n    ss >> t;\n}\n\n\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define F first\n#define S second\n#define mkp make_pair\n#define RALL(v) (v).rbegin(),(v).rend()\n\n\n#define MOD 1000000007LL\n#define EPS 1e-8\nstatic const int INF=1<<24;\nvint dp;\nvector<pii> v;\nint foo(int c){\n\tif(dp[c]>=0) return dp[c];\n\tint ret=1;\n\trep(i,v.size()){\n\t\tif(v[c].F<v[i].F&&v[c].S<v[i].S){\n\t\t\tret=max(ret,foo(i)+1);\n\t\t}\n\t}\n\treturn dp[c]=ret;\n}\n\nvoid mainmain(){\n\tint n,m;\n\twhile(cin>>n,n){\n\t\tv.clear();\n\t\trep(i,n){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tv.PB(mkp(a,b));\n\t\t}\n\t\tcin>>m;\n\t\trep(i,m){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tv.PB(mkp(a,b));\n\t\t}\n\t\tdp=vint(n+m,-1);\n\t\trep(i,v.size()){\n\t\t\tfoo(i);\n\t\t}\n\t\tint ans=0;\n\t\trep(i,n+m){\n\t\t\tans=max(ans,dp[i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\n\n\n}\nmain() try{\n    mainmain();\n}\ncatch(...){\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000\nusing namespace std;\n\nint r[N],h[N];\n\nint syori(int,int);\nvoid sort(int,int);\n\nint main(){\n  int n1,n2,i,ans;\n \n  while(1){\n \n    for(i=1;i<=N;i++){\n      r[i]=0;\n      h[i]=0;\n    }\n\n\n    r[0]=-1;\n    h[0]=-1;\n   \n    cin >> n1;\n    if(n1==0)break;\n   \n    for(i=1;i<=n1;i++){    // 1©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n   \n    cin >> n2;\n   \n    for(i=n1+1;i<=n1+n2;i++){ // P©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n   \n    sort(n1,n2);\n\n    ans=syori(n1,n2);\n   \n    cout << ans << endl;\n  }\n \n \n}\n\nvoid sort(int n1,int n2){\n  int i,j,max,hi;\n\n  for(i=0;i<=(n1+n2);i++){\n    max=i;\n    for(j=i;j<(n1+n2);j++){\n      if(h[j] < h[max])max=j;\n    }\n      hi=h[max];\n      h[max]=h[i];\n      h[i]=hi;\n   \n         hi=r[max];\n      r[max]=r[i];\n      r[i]=hi;\n\n\n  }\n\n}\n\n\n\nint syori(int n1,int n2){\n  int ANS[N],i,j; //ANS[N]Í·³ð²×ézñ \n  int max=0,res=0;\n \n  for(i=0;i<N;i++){\n    ANS[i]=0;\n    \n  }\n  \n \n  for(i=1;i<=(n1+n2);i++){\n    max=0;\n    //  cout <<endl<< \"h[\"<<i<<\"]--\"<<h[i]<<endl;    \n    // cout << \"r[\"<<i<<\"]--\"<<r[i]<<endl;\n    // cout << \"ANS[\"<<i<<\"]--\"<<ANS[i]<<endl;\n    // cout<< \"Lo[\"<<i<<\"]--\"<<Lo[i]<<endl<<endl;\n\n\n    for(j=0;j<i;j++){\n      if(h[j]<h[i] && r[j]<r[i] && ANS[j]>ANS[max]){\n    max=j;   \n      }\n   \n    }\n ANS[i]=ANS[max]+1;\n      \n  }\n\n  //  for(i=1;i<=(n1+n2);i++){\n  //  cout << \"ANS[\" << i << \"]--\" << ANS[i]<< endl;\n  // }\n\n\n  for(i=1;i<=(n1+n2);i++){\n      if(res<=ANS[i]){\n    res=ANS[i];\n    }\n  }\n  return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<map>\n#include<algorithm>\nusing namespace std;\nint main(){\n  int n,m,x,y;\n  while(cin >>n,n){\n    vector<pair<int, int> > doll;\n    doll.push_back(make_pair(0,0));\n    int dp[201] = {0};\n    int ans = 0;\n    for(int i=0; i<n; i++){cin >>x>>y;doll.push_back(make_pair(x,y));}\n    cin >>m;\n    for(int i=0; i<m; i++){cin >>x>>y;doll.push_back(make_pair(x,y));}\n    sort(doll.begin(),doll.end());\n    for(int i=1; i<doll.size(); i++){\n      int r = 0;\n      for(int j=0; j<i; j++){\n\tif(doll[j].second<doll[i].second && doll[j].first<doll[i].first && r<dp[j]){r = dp[j];}\n      }\n      dp[i] = r+1;\n    }\n    for(int i=0;i<doll.size();i++){\n      if(ans<dp[i]){ans = dp[i];}\n    }\n    cout <<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n, m;\nint main() {\n\twhile(cin >> n, n) {\n\t\tvector<pair<int, int> > v(n);\n\t\tfor(int i = 0; i < n; i++) cin >> v[i].first >> v[i].second;\n\t\tcin >> m; v.resize(n + m);\n\t\tfor(int i = 0; i < m; i++) cin >> v[n + i].first >> v[n + i].second;\n\t\tn += m;\n\t\tsort(v.begin(), v.end());\n\t\tvector<int> dp(n + 1);\n\t\tfor(int i = 1; i <= n; i++) {\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j = 1; v[j - 1].first < v[i - 1].first; j++) {\n\t\t\t\tif(v[j - 1].second < v[i - 1].second) {\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *max_element(dp.begin(), dp.end()) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//LIS\n#include<iostream>\nusing namespace std;\nint main(){\n  int n,h1[101],r1[101],m,h2[101],r2[101],k;\n  int data[201],data2[201],dp[201];\n\n  data[0]=data2[0]=0;\n\n  \n  while(cin >>n && n!=0){\n    dp[0]=0;\n\n    k=0;\n    for(int i=1;i<=n;i++){\n      cin >>h1[i]>>r1[i];\n      data[i]=h1[i];data2[i]=r1[i];}\n    cin >>m;\n    for(int i=1;i<=m;i++){\n      cin >>h2[i]>>r2[i];\n      data[i+n]=h2[i];data2[i+n]=r2[i];}\n    int key;\n    for(int i=1;i<n+m+1;i++){\n      key=i;\n      for(int j=i;j<n+m+1;j++){\n\tif(data[key]>data[j])key=j;}\n      swap(data[i],data[key]);\n      swap(data2[i],data2[key]);}\n\n    for(int i=1;i<n+m+1;i++){\n      key=0;\n      for(int j=0;j<i;j++){\n\t\n\tif( ( ( data[j]<data[i] && data2[j]<data2[i] )  || key == 0 ) && dp[j]>dp[key]) {\n\t  key=j;\n\t}\n      }\n      dp[i] = dp[key]+1;\n    }\n   \n    for(int i=1;i<n+m+1;i++){\n      if(dp[i]>k)k=dp[i];\n\n    }\n    cout<<k<<endl;\n    /*\n\tfor(int i=0;i<n+m+1;i++){\n      cout<<dp[i]<<endl;\n      cout<<data[i]<<\" \"<<data2[i]<<endl;}\n    */\n  }\n}\n    \n "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Container\n{\npublic:\n\tvoid append( pair< int, int > p )\n\t{\n\t\tmasterList.push_back( p );\n\t}\n\tvoid cSort()\n\t{\n\t\tsort( masterList.begin(), masterList.end() );\n\t\tsortedList.clear();\n\t\tvector< pair< int, int > >::iterator itr = masterList.begin();\n\t\twhile( itr != masterList.end() ){\n\t\t\tvector< pair< int, int > > v;\n\t\t\tint x = itr->first;\n\t\t\tv.push_back( *itr );\n\t\t\t++itr;\n\t\t\tif( itr != masterList.end() && itr->first == x ){\n\t\t\t\tv.push_back( *itr );\n\t\t\t\t++itr;\n\t\t\t}\n\t\t\tsortedList.push_back( v );\n\t\t}\n\t}\n\n\tint countContainment()\n\t{\n\t\tint count = 0;\n\t\tint y = 0;\n\t\tfor( int i = 0; i < (int)sortedList.size(); ++i ){\n\t\t\tvector< pair< int, int > >& v = sortedList[ i ];\n\t\t\tfor( int j = 0; j < (int)v.size(); ++j ){\n\t\t\t\tif( v[ j ].second > y ){\n\t\t\t\t\ty = v[ j ].second;\n\t\t\t\t\t++count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n\n\tvoid cSwap()\n\t{\n\t\tfor( int i = 0; i < (int)masterList.size(); ++i ){\n\t\t\tint t = masterList[ i ].first;\n\t\t\tmasterList[ i ].first = masterList[ i ].second;\n\t\t\tmasterList[ i ].second = t;\n\t\t}\n\t}\n\n\n\tvector< pair< int, int > > masterList;\n\tvector< vector< pair< int ,int > > > sortedList;\n};\n\nint main()\n{\n\tint n, m;\n\n\twhile( cin >> n && n ){\n\t\tContainer cont;\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\n\t\tint result = 0;\n\t\tcont.cSort();\n\t\tresult = cont.countContainment();\n\t\tcont.cSwap();\n\t\tcont.cSort();\n\t\tcout << max( result, cont.countContainment() ) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 0157 最長増加部分列\n#include <iostream>\n#include <algorithm>\n#include <map>\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n\nusing namespace std;\nbool compare_h(pair<int, int> a, pair<int, int> b){\n\treturn a.first < b.first;\n}\nbool compare_r(pair<int, int> a, pair<int, int> b){\n\treturn a.second < b.second;\n}\n\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n){\n\t\tint dp[256];\n\t\t// high, r\n\t\tpair<int, int> dolls[256];\n\t\trep(i, n){\n\t\t\tcin >> dolls[i].first >> dolls[i].second;\n\t\t}\n\t\tcin >> m;\n\t\trep(i, m){\n\t\t\tcin >> dolls[i+n].first >> dolls[i+n].second;\n\t\t}\n\n\n\t\t// hの最長増加部分列\n\t\t// hについてソートしrの最長増加部分列を求める\n\t\tint hlis = 0;\n\t\tsort(dolls, dolls+n+m, compare_h);\n\t\tdp[0] = 1;\n\t\tfor(int i = 1; i < n+m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j = 0; j < i; j++){\n\t\t\t\tif(dolls[j].second < dolls[i].second){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\thlis = max(hlis, dp[i]);\n\t\t}\t\t\t\t\t\n\t\t\n\t\t// rの最長増加部分列\n\t\t// rについてソートしhの最長増加部分列を求める\n\t\tint rlis = 0;\n\t\tsort(dolls, dolls+n+m, compare_r);\n\t\tdp[0] = 1;\n\t\tfor(int i = 1; i < n+m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j = 0; j < i; j++){\n\t\t\t\tif(dolls[j].first < dolls[i].first){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\trlis = max(rlis, dp[i]);\n\t\t}\n\n\t\tcout << max(rlis, hlis) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Doll{\npublic:\n    int h;\n    int r;\n    int have;\n    // static bool Less(const Doll& l, const Doll& r){\n    // \treturn l.h < r.h;\n    // }\n    bool operator < (const Doll &d) const{\n\tif( r == d.r ) return h < d.h;\n\telse return r < d.r;\n    }\n    Doll(int x, int y, int z){\n\th = x; r = y; have = z;\n    }\n};\n\ntypedef vector<Doll> Dolls;\n\nint main(){\n    int n, m, h, r, result=0;\n    Dolls dolls;\n    while(cin >> n, n){\n\tfor(int i=0; i<n; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tcin >> m;\n\tfor(int i=0; i<m; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n//\tsort(dolls.begin(), dolls.end(), Doll::Less);\n\tsort(dolls.begin(), dolls.end());\n\tfor(Dolls::iterator it1=dolls.begin();it1 != dolls.end(); ++it1){\n\t    for(Dolls::iterator it2=dolls.begin();it2 != it1; ++it2){\n\t\tif(it2->h < it1->h && it2->r < it1->r && it1->have <= it2->have){\n\t\t    it1->have = it2->have + 1;\n\t\t    result = max(result, it1->have);\n\t\t}\n\t    }\n\t}\n\tcout << result << endl;\n\tdolls.clear();\n\tresult = 0;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#define _CRT_SECURE_NO_WARNINGS\n#define _USE_MATH_DEFINES\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <memory>\n#include <string>\n\n#include <algorithm>\n#include <complex>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <vector>\n#include <bitset>\n\nusing namespace std;\n\n#ifdef _MSC_VER\n#define __typeof__ decltype\n#define strtok_r strtok_s\n#endif\n\n#define ITER(c)             __typeof__((c).begin())\n#define FOREACH(it, c)      for (ITER(c) it=(c).begin(); it != (c).end(); ++it)\n#define RITER(c)            __typeof__((c).rbegin())\n#define RFOREACH(it, c)     for (RITER(c) it=(c).rbegin(); it != (c).rend(); ++it)\n#define REP(i, n)           REPEAT(i, 0, n)\n#define RREP(i, n)          RREPEAT(i, 0, n)\n#define REPEAT(i, k, n)     for(int i = (k); i < ((k)+(n)); ++i)\n#define RREPEAT(i, k, n)    for(int i = (k)+(n)-1; i >= (k); --i)\n#define FROMTO(i,f,t)       for(int i = f; i < t; i++)\n#define ALL(c)              (c).begin(), (c).end()\n#define LLPOW(p1,p2)        ((ll)pow((double)(p1), (int)p2))\n#define ESIZEOF(A)          (sizeof(A)/sizeof((A)[0]))\n#define CIN_NO_SYNC         do { cin.tie(0); ios_base::sync_with_stdio(false); } while(0)\n#define GETSTR(p)           fgets((p), sizeof(p), stdin)\n#define CHOMP(p)            do{ char *_q = (p) + strlen(p)-1; if(*_q == '\\n' || *_q == '\\r') *_q = 0; } while(0)\n#define FILL(m,v)           memset(m, v, sizeof(m))\n#define mp                  make_pair\n#define pb                  push_back\ntemplate<class _T> _T MAX(_T p1,_T p2){return (p1>p2)?p1:p2;} \ntemplate<class _T> _T MIN(_T p1,_T p2){return (p1<p2)?p1:p2;} \ntemplate <class _Tv> inline string join(const _Tv &v,string sep=\" \"){\n    ostringstream s;FOREACH(it,v){if(it!=v.begin())s<<sep;s<<*it;};return s.str();\n}\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double D;\ntypedef complex<D> P;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\n#define X real()\n#define Y imag()\n#define EPS (1e-9)\n#define DEQ(p1,p2) (abs((p1)-(p2)) < EPS)\n\n#ifdef _DEBUG\ntemplate<class _Tv> inline void _prfe(const char *_n,const _Tv _c,bool _p=false){\n    ITER(_c) _it=_c.begin();\n    if(_p){cout<<_n<<\" = [\"<<endl;for(;_it!=_c.end();++_it)cout<<\"    \"<<*_it<<endl;cout<<\"]\"<<endl; }\n    else{cout<<_n<<\" = [ \"<<*_it++;for(;_it!=_c.end();++_it)cout<<\", \"<<*_it;cout<<\" ]\"<<endl; }\n}\n#define pf printf\n#define pr(n) do{cout<<#n\" = \"<<(n)<<endl;}while(0)\n#define prfe(n) _prfe(#n, n)\n#define prfep(n) _prfe(#n, n, true)\n#define dbgchk(n) do{if(n)throw;}while(0)\n#else\n#define pf(...) /* */\n#define pr(...) /* */\n#define prfe(...) /* */\n#define prfep(...) /* */\n#define dbgchk(...) /* */\n#endif\n\nbool operator<(const pair<int,int> &p1, const pair<int,int> &p2){\n    return (p1.first < p2.first && p1.second < p2.second);\n}\n\nint solve(vector<pair<int,int> > &s){\n    int n = s.size();\n    int dp[210];\n    FILL(dp,0);\n    REP(k,n) REP(i,n){\n        int mx = 0;\n        REP(j,n) if(s[j] < s[i]) mx = MAX(mx, dp[j]);\n        dp[i] = mx + 1;\n    }\n    int mx = 0;\n    REP(i,n) mx = MAX(mx, dp[i]);\n    return mx;\n}\n\nint main(){\n    int n, m;\n    while(cin >> n && n){\n        vector<pair<int,int> > s;\n        int h, r;\n        REP(i,n){\n            cin >> h >> r;\n            s.pb(mp(h,r));\n        }\n        cin >> m;\n        REP(i,m){\n            cin >> h >> r;\n            s.pb(mp(h,r));\n        }\n        cout << solve(s) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r)\n{\n\tint ans = 0;\n\tfor (DOLL &d : d1){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r)+1;\n\t\t\tans = max(ans, a);\n\t\t}\n\t}\n\tfor (DOLL &d : d2){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r)+1;\n\t\t\tans = max(ans, a);\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\t\tint n,m;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tcin >> m;\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, 0, 0);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\n\nclass doll;\n\n\nint n, m;\nvector<doll> d;\nvector<int> dp = { 0 };\n\n\nclass doll{\npublic:\n\tint h;\n\tint r;\n\tdoll(int h, int r) : h(h), r(r){}\n\tint operator[](char* member){\n\t\tif (member == \"h\") return h;\n\t\telse if(member == \"r\") return r;\n\t\telse return -1;\n\t}\n};\n\n\nint solve(char* member){\n\tdp[0] = d[0][member];\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i][member]){\n\t\t\tdp.push_back(d[i][member]);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i][member]) = d[i][member];\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n != 0){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.h < d2.h);\n\t\t});\n\n\t\tint ans = solve(\"r\");\n\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.r < d2.r);\n\t\t});\n\n\t\tans = max(ans, solve(\"h\"));\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000 \nusing namespace std;\nint h1[N],r1[N];\n\nvoid sort(int,int);\nint syori(int,int);\n\nint main(){/*main*/\n  int i,n1,n2,j,res;\n\n  for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n  while(1){\n\n    cin >> n1; // êQÌ}g[VJÌ\n    \n    if(n1 == 0)break;\n    \n    for(i=0;i<n1;i++){\n      cin >> h1[i] >> r1[i]; //(n1-1)ÜÅªêQ\n    }\n    \n    cin >> n2; //ñYÌ}g[VJÌ\n    \n    for(i=n1;i<(n1+n2);i++){\n      cin >> h1[i] >> r1[i]; //n1©ç(n1+n2-1)ÜÅªñY\n    }\n    \n    sort(n1,n2); // ¬³¢ÉÀÑÖ¦\n    \n    //  for(i=0;i<n1+n2;i++){\n    // cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n    // }\n    \n    res=syori(n1,n2);\n    \n    \n    \n    cout << res << endl;\n    res=0;\n    \n  }\n  \n}\n\n\nvoid sort(int n1,int n2){\n  int k,l,max,h;\n\n  for(k=0;k<(n1+n2);k++){\n    max=k;\n    for(l=k;l<(n1+n2);l++){\n      if(h1[l]<h1[max]){ max=l; }\n    }\n    h=h1[max];\n    h1[max]=h1[k];\n    h1[k]=h;\n    \n    h=r1[max];\n    r1[max]=r1[k];\n    r1[k]=h;\n    \n  }\n  \n  \n}\n\n\nint syori(int n1,int n2){\n  int q,i,H[N],Hcount=0,ans=0,I[N],HH[N],count=1,kcount=0,korecount=0;\n  \n  \n  for(q=0;q<N-5;q++){  \n    H[q]=0;\n    I[q]=0;\n    HH[q]=0;\n  }\n  \n  //cout << \"test\" << endl;\n  \n  for(q=0;q<(n1+n2);q++){\n    \n    cout <<\"q--\"<< q << \" \" <<\"count--\" << count << endl; \n    cout << \"korecount--\" << kcount <<endl;    \n    \n    if(h1[q]<h1[q+1] && r1[q]<r1[q+1]){\n      count++; \n      korecount=0;\n      \n    }    \n    if((h1[q]==h1[q+1] || r1[q] == r1[q+1]) && HH[q+1]==0 ){\n      \n  korecount=1; //2ñÈãÍ¢éº      \n\n      if(korecount==1){} \n      else{ count++; }\n      \n    \n \n H[q+1]=count-1;\n HH[q+1]=1;\n Hcount++;\n I[q+1]=q;\n q+=1;\n    }\n    \n    //  cout << Hcount << endl;\n    \n    \n    if(q==(n1+n2-1) && Hcount!=0){\n      Hcount=0;\n      kcount=1;\n      \n      if(count>=ans)ans=count;\n      \n      // cout << \"ans--\" << ans << endl; \n      \n      for(i=0;i<(n1+n2);i++){\n\t\n\tif(HH[i]==1){\n\t  count=H[i];\n\t  H[i]=0;\n\t  HH[i]=0;\n\t  q=I[i];\n\t  break;\n\t}\n\t\n      }\n      \n      \n    }\n    \n    \n    \n  }\n \n  if(kcount==0){ ans=count; } // kcountªOÌÆ«Í¾ÔèÈµ\n  else{ kcount=0; }           // ±ÌvOÅÍ¾ÔçÈ¢ÆansªÅÈ¢kokoayasii\n  \n  \n  \n  for(i=0;i<n1+n2;i++){\n    cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n  }\n  \n  \n  return ans;\n}\n\n//ðÔáÁÄ¢Ü¹ñ©H FE( while(i=5)  CR[ª«èÈ¢)"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[201];\n  P doll[200];\n  while(cin >> n && n){\n    fill(doll, doll+200, P(0, 0));\n    fill(dp, dp + 200, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      *lower_bound(dp, dp + 201, doll[i].S) = doll[i].S;\n    }\n    cout << lower_bound(dp, dp + 201, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  while(1) {\n    vector<int> a, b;\n    for(int k = 0; k < 2; ++k) {\n      int n;\n      cin >> n;\n      if(n == 0) return 0;\n      for(int i = 0; i < n; ++i) {\n        int c, d;\n        cin >> c >> d;\n        a.push_back(c);\n        b.push_back(d);\n      }\n    }\n    int n = a.size();\n    int dp[n];\n    for(int i = 0; i < n; ++i) dp[i] = 1;\n    for(int t = 0; t < n; ++t) {\n      for(int i = 0; i < n; ++i) {\n        for(int j = 0; j < n; ++j) {\n          if(a[i] < a[j] && b[i] < b[j])\n            dp[j] = max(dp[j], dp[i] + 1);\n        }\n      }\n    }\n    cout << *max_element(dp, dp+n) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-10;\nconst int inf=1e9;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvector<pii>in;\n\t\twhile(n--){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tin.pb(pii(a,b));\n\t\t}\n\t\tcin>>n;\n\t\twhile(n--){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tin.pb(pii(a,b));\n\t\t}\n\t\tsort(all(in));\n\t\tn=in.size();\n\t\tvi dp(110,1);\n\t\tloop(i,1,n){\n\t\t\tint ma=0;\n\t\t\trep(j,i)if(in[j].first<in[i].first&&in[j].second<in[i].second)\n\t\t\t\tma=max(ma,dp[j]);\n\t\t\tdp[i]+=ma;\t\t\n\t\t}\n\t\tint ma=0;\n\t\trep(i,n)ma=max(ma,dp[i]);\n\t\tcout<<ma<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\n\n// dp[i]ÍiÜÅÌ}g[VJÅÜÞ±ÆÌÅ«éÅåÌ}g[VJ\nint dp[201];\nint n,m;\nvector<pair<int,int> > mt;\n\nint dfs(int idx){\n\tif(dp[idx]!=-1)\n\t\treturn dp[idx];\n\tint maxMat=0;\n\tfor(int i = 0; i < mt.size(); i++){\n\t\tif(mt[i].first<mt[idx].first&&mt[i].second<mt[idx].second){\n\t\t\tmaxMat=max(maxMat,dfs(i)+1);\n\t\t}\n\t}\n\n\tdp[idx]=maxMat;\n\treturn dp[idx];\n}\n\nint main(){\n\n\twhile(cin>>n&&n!=0){\n\t\tmt.clear();\n\t\tfill(dp,dp+201,-1);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint h,r;\n\t\t\tcin>>h>>r;\n\t\t\tmt.push_back(make_pair(h,r));\n\t\t}\n\t\tcin>>m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tint h,r;\n\t\t\tcin>>h>>r;\n\t\t\tmt.push_back(make_pair(h,r));\n\t\t}\n\t\tint maxMat=0;\n\t\tfor(int i = 0; i < mt.size(); i++){\n\t\t\tmaxMat=max(maxMat,dfs(i));\n\t\t}\n\t\tcout<<maxMat+1<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <utility>\nusing namespace std;\n\ntypedef pair<int,int> pii;\nint dptab[128][1024] = {0};\n\nint main() {\n\tint n, m;\n\twhile(cin >> n, n) {\n\t\tvector<pii> v;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tpii tmp;\n\t\t\tcin >> tmp.first >> tmp.second;\n\t\t\tv.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tpii tmp;\n\t\t\tcin >> tmp.first >> tmp.second;\n\t\t\tv.push_back(tmp);\n\t\t}\n\t\tsort(v.begin(), v.end());\n\n\t\tfor(int i = 0; i < 128; i++)\n\t\t\tfor(int j = 0; j < 1024; j++)\n\t\t\t\tdptab[i][j] = 0;\n\n\t\tfor(int i = 0; i < v.size(); i++) {\n\t\t\tfor(int j = 0; j < 1024; j++) {\n\t\t\t\tif(i > 0 && v[i].first == v[i - 1].first) {\n\t\t\t\t\tdptab[i + 1][j]\n\t\t\t\t\t\t= max(dptab[i][j], v[i].second < j ? dptab[i - 1][v[i].second] + 1 : 0);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdptab[i + 1][j]\n\t\t\t\t\t\t= max(dptab[i][j], v[i].second < j ? dptab[i][v[i].second] + 1 : 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << dptab[n + m][1000] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <complex>\n#include <cstdlib>\n#include <cstring>\n#include <numeric>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\n#define mp       make_pair\n#define pb       push_back\n#define all(x)   (x).begin(),(x).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define repi(i,a,b) for(int i = (a); i < (b); i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\npii dolls[220];\nint dp[220];//dp[i]:=i番目の人形を最後にしたときの最大の人形\nint main(){\n\tint n,m;\n\twhile(cin>>n,n){\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(dolls, 0, sizeof(dolls));\n\t\tfor(int i =0;i <n;i++){\n\t\t\tint h,r;\n\t\t\tcin>>h>>r;\n\t\t\tdolls[i].first=h;\n\t\t\tdolls[i].second=r;\n\t\t}\n\t\tcin>>m;\n\t\tfor(int i =0;i <m;i++){\n\t\t\tint x,y;\n\t\t\tcin>>x>>y;\n\t\t\tdolls[n+i].first=x;\n\t\t\tdolls[n+i].second=y;\n\t\t}\n\t\tfor(int i =0;i <n+m;i++){\n\t\t\tdp[i]=1;\n\t\t}\n\t\tsort(dolls,dolls+n+m);\n\t\tfor(int i =0;i <n+m;i++){//最後の人形\n\t\t\tfor(int j =0;j <n+m;j++){\n\t\t\t\tif(i==j)continue;\n\t\t\t\tif(dolls[i].first>dolls[j].first&&dolls[i].second>dolls[j].second){\n\t\t\t\t\tdp[i]=max(dp[i],dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i =0;i <n+m;i++){\n\t\t\tans=max(ans,dp[i]);\n\t\t}\n\t\tcout <<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : TopCoderCompetition.cpp\n// Author      : taguchi\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <vector>\n#include <numeric>\nusing namespace std;\n#define P pair<int,int>\n#define rep(i,n) for(int i = 0;i<n;i++)\n#define pb(n) push_back(n)\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\nstruct edge{int cost,to;};\n\nvector<string> split(string &in,char delimiter){\n\tvector<string> re; uint cur = 0,next;\n\twhile((next = in.find_first_of(delimiter,cur)) != string::npos){\n\t\tre.pb(string(in,cur,next-cur));\n\t\tcur = next + 1;\n\t}\n\tre.pb(string(in,cur,in.size()-cur));\n\treturn re;\n}\nvector<int> split_int(string &in, char delimiter){\n\tvector<string> str = split(in,delimiter);\n\tvector<int> re;\n\trep(i,str.size()){\n\t\tre.pb(strtol(str[i].c_str(),NULL,10));\n\t}\n\treturn re;\n}\n\n\n\n\n\nint N,M;\nint h[210],r[210];\nint mem[210];\nbool used[210];\nint solve(int p){\n\tif(mem[p]) return mem[p];\n\tused[p] = true;\n\tint ans = 1;\n\tfor(int i = 0;i<N+M;i++){\n\t\tif(h[p] > h[i] && r[p] > r[i] && !used[i]){\n\t\t\tans = max(ans,solve(i) + 1);\n\t\t}\n\t}\n\tused[p] = false;\n\treturn mem[p] = ans;\n}\n\nint main(){\n\twhile(true){\n\t\tcin >> N;\n\t\tif(!N) break;\n\t\trep(i,N){\n\t\t\tcin >> h[i] >> r[i];\n\t\t}\n\t\tcin >> M;\n\t\trep(i,M){\n\t\t\tcin >> h[i+N] >> r[i+N];\n\t\t}\n\t\tmemset(mem,0,sizeof(mem));\n\t\tint ans = 0;\n\t\trep(i,N+M){\n\t\t\tans = max(ans,solve(i));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n\nusing namespace std;\n\nint main(){/*main*/\n  int i,j,k,n,h[201],hn2,hen,r[201],m,hn,count,ans[201],min,max;\n\n  while(1)\n    {/*while*/\n      max=0;\n      hen=0;\n      count=0;\n      h[0]=-1;\n      r[0]=-1;\n      for(i=0;i<201;i++)\n    {\n      ans[i]=0;\n    }\n      ans[0]=0;\n\n      cin >> n ;\n      if(n==0)break;\n      for(i=1;i<=n;i++)\n    {\n      cin >> h[i] >> r[i];\n    }\n\n      cin >> m;\n      for(i=n+1;i<=(m+n);i++)\n    {\n      cin >> h[i] >> r[i];\n    }\n\n      /*\n      for(i=1;i<(n+m);i++)\n      {\n      printf(\"TES_h%d %d  TES_r%d %d\\n\",i,h[i],i,r[i]);\n      }\n      */\n     \n\n\n      for(i=1;i<=(m+n);i++)\n    {/*for1*/\n      min=i;\n      for(j=i;j<=(m+n);j++)\n        {/*for2*/\n          if(h[j]<h[min])\n        {\n          min=j;\n        }\n        }/*E_for2*/\n      hn=h[min];\n      h[min]=h[i];\n      h[i]=hn;\n\n      hn2=r[min];\n      r[min]=r[i];\n      r[i]=hn2;\n    }/*E_for1*/\n\n \n      //    for(i=1;i<=(n+m);i++)\n      // {\n      //\tprintf(\"TES_h[%d] %d  TES_r[%d] %d\\n\",i,h[i],i,r[i]);\n      // }\n     \n\n       /*   for(i=1;i<=(m+n);i++)\n    {\n      if(h[i]>h[i-1] && r[i]>r[i-1])\n        {\n          count+=1;\n          ans[i]=1;\n        }\n      else\n        {\n          ans[i-1]=0;\n          for(j=1;j<=i;j++)\n        {\n          if((h[i]>h[j] && r[i]>r[j]) && ans[j]==0 &&(h[i]!=h[i-1] && r[i]!=r[i-1]))\n            {\n              hen++;\n            }\n\n        }\n          if(hen>0)count++;\n        }\n*/\n\n\n       for(i=1;i<=(m+n);i++)\n\t {\n\t   k=0;\n\t   for(j=1;j<i;j++)\n\t     {\n\t       if(r[i]>r[j] && r[j]>r[k] && ans[j]>ans[k])\n\t\t {\n\t\t   k=j;\n\t\t }\n\t       // cout << \"TES_max\"<< max << endl;\n\t     }\n\t   ans[i]=ans[k]+1;\n\t }\n       \n       max=-1;\n       for(i=1; i<=n+m; i++)\n\t {\n\t   if(max<ans[i])\n\t     {\n\t       max=ans[i];\n\t     }\n\t }\n\n   \n       \n       \n       cout << max << endl;\n       \n       \n    }/*E_while*/\n  return 0;\n}/*E_main*/"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define INF 1<<30\n\ntypedef pair<int,int> pii;\n\nint dp[1000][1000];         // dp[i][j] : ³ i, ¼a j ÜÅÌÍÍÉ¨³Üé\nint m,n;\nint h1[100];\nint r1[100];\nint h2[100];\nint r2[100];\n\nint solve(int h, int r, int x, int y) { // x : êYÌðã©çÇ±ÜÅgÁ½©@y : ñY\n  // printf(\"%d,%d  %d,%d \",h,r,x,y);\n  if (dp[h][r]>=0) {\n//    cout << dp[h][r] << endl;\n    return dp[h][r];\n  }\n  //cout << endl;\n  int res = 0;\n  for (int i=x-1; i>=0; --i) {\n    if (h>h1[i] && r>r1[i])\n      res = max(res, solve(h1[i],r1[i],i,y));\n  }\n  for (int i=y-1; i>=0; --i) {\n    if (h>h2[i] && r>r2[i])\n      res = max(res, solve(h2[i],r2[i],x,i));\n  }\n  return dp[h][r] = res + 1;\n}\n\nint main() {\n  while(cin >> n, n) {\n    REP(i,n) \n      cin >> h1[i] >> r1[i];\n    cin >> m;\n    REP(i,m)\n      cin >> h2[i] >> r2[i];\n    memset(dp,-1,sizeof(dp));\n    cout << max(solve(h1[n-1],r1[n-1], n-1, m), solve(h2[m-1],r2[m-1], n, m-1)) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n\tint n;\n\tint m;\n\tint h[500];\n\tint r[500];\n\tint dp[500];\n\tfor(;;){\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tfor(int i=0; i<n; i++){\n\t\t\tcin >> h[i] >> r[i];\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i=0; i<m; i++){\n\t\t\tcin >> h[i+n] >> r[i+n];\n\t\t}\n\n\t\tfor(int i=(n+m)-1; i>=0; i--){\n\t\t\tfor(int j=0; j<i; j++){\n\t\t\t\tif(h[j]>h[j+1]){\n\t\t\t\t\tint tmp = h[j];\n\t\t\t\t\th[j] = h[j+1];\n\t\t\t\t\th[j+1] = tmp;\n\n\t\t\t\t\ttmp = r[j];\n\t\t\t\t\tr[j] = r[j+1];\n\t\t\t\t\tr[j+1] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n//\t\tfor(int i=0; i<(n+m); i++){\n//\t\t\tcout << h[i] << \" \" << r[i] << endl;\n//\t\t}\n\n\t\tfor(int i=0; i<(n+m); i++){\n\t\t\tdp[i] = 1;\n\t\t}\n\n\t\tfor(int i=0; i<(n+m); i++){\n\t\t\tfor(int j=0; j<i; j++){\n\t\t\t\tif(r[j]<r[i] && h[j]<h[i]){\n\t\t\t\t\tif(dp[i]<dp[j]+1){\n\t\t\t\t\t\tdp[i] = dp[j]+1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint mx = 0;\n\t\tfor(int i=0; i<(n+m); i++){\n\t\t\tif(mx<dp[i]) mx = dp[i];\n\t\t}\n\t\tcout << mx << endl;\n\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n#include <climits>\n#include <cfloat>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n\nusing namespace std;\n\ntypedef unsigned int UI;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define EACH( v, c ) for ( auto &v : c )\n\n#define ITER( c ) __typeof( (c).begin() )\n#define IREP( c, it ) for ( ITER(c) it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nint solve( vector< PII > ary )\n{\n\tconst int N = ary.size();\n\n\tVVI G( N );\n\n\tREP( i, 0, N )\n\t{\n\t\tREP( j, 0, N )\n\t\t{\n\t\t\tif ( i == j )\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( ary[i].fst < ary[j].fst && ary[i].snd < ary[j].snd )\n\t\t\t{\n\t\t\t\tG[i].PB( j );\n\t\t\t}\n\t\t}\n\t}\n\n\tVI dist( N, 1 );\n\n\twhile ( true )\n\t{\n\t\tbool update = false;\n\n\t\tREP( i, 0, N )\n\t\t{\n\t\t\tREP( j, 0, G[i].size() )\n\t\t\t{\n\t\t\t\tif ( dist[ G[i][j] ] < dist[i] + 1 )\n\t\t\t\t{\n\t\t\t\t\tdist[ G[i][j] ] = dist[i] + 1;\n\t\t\t\t\tupdate = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !update )\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn *max_element( ALL( dist ) );\n}\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\twhile ( true )\n\t{\n\t\tint n;\n\t\tcin >> n;\n\n\t\tif ( !n )\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tvector< PII > ary;\n\n\t\tREP( i, 0, n )\n\t\t{\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tary.PB( MP( a, b ) );\n\t\t}\n\n\t\tint m;\n\t\tcin >> m;\n\n\t\tREP( i, 0, m )\n\t\t{\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tary.PB( MP( a, b ) );\n\t\t}\n\n\t\tcout << solve( ary ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvector< pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(cin>>n && n){\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=0;j<n+m;j++){\n        if(doll[i].first>doll[j].first && doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n    memset(dp,0,sizeof(dp));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nstruct Item{\n  int h,r;\n};\n\nint main() {\n  Item A[201];\n  int L[201],P[201];\n  int n; \n  while ( cin >> n, n ) {\n    A[0].h = A[0].r = L[0] = 0;\n    P[0] = -1;\n    \n    for ( int i = 1; i <= n; i++ ) cin >> A[i].h >> A[i].r;\n    int m; cin >> m;\n    for ( int i = n+1; i <= n+m; i++ ) cin >> A[i].h >> A[i].r;\n\n    for (int i = 1; i <= n+m; i++ ) {\n      for ( int j = 1; j < n+m; j++ ) {\n\tif ( A[j].h > A[j+1].h ) swap( A[j],A[j+1] );\n      }\n    }\n\n \n    for ( int i = 1; i <= n+m; i++ ) {\n      int k = 0;\n      for ( int j = 0; j <= i-1; j++ ) {\n\tif ( A[j].h < A[i].h && A[j].r < A[i].r &&\n\t     L[j] > L[k] ) {\n\t  k = j;\n\t}\n\tL[i] = L[k] + 1;\n\tP[i] = k;\n\n\t}\n      }\n    int maxv = 0;\n    for ( int i = 1; i <= n+m; i++ ) maxv = max ( maxv, L[i] );\n    cout << maxv << endl;\n    //  for ( int i = 1; i <= n+m; i++ ){\n    //     cout << \"L[i]\" << \" \" << L[i] << endl;\n\n    //  }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int,int> MAT;\n#define h first\n#define r second\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint main(){\n\tint n,m;\n\twhile(cin >> n , n ){\n\t\tvector<MAT> info(n);\n\t\tint ret = 0;\n\t\trep(i,n){\n\t\t\tMAT t; cin >> t.h >> t.r ; \n\t\t\tinfo.push_back(t);\n\t\t}\n\t\tcin >> m;\n\t\trep(i,m){\n\t\t\tMAT t; cin >> t.h >> t.r ; \n\t\t\tinfo.push_back(t);\n\t\t}\n\t\tn = n + m;\n\t\t\n\t\tint cnt = 1;\n\t\t/* ¼aî */\n\t\tsort(info.begin(),info.end(),greater<MAT>());\n\t\t\n\t\tMAT top = info[0];\n\t\trep(i,n-1){\n\t\t\tif( info[i+1].first < top.first && info[i+1].second < top.second){\n\t\t\t\ttop = info[i+1];\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\tret = max(ret,cnt);\n\t\t/* ³î */\n\t\t\n\t\tcnt = 1;\n\t\trep(i,n)swap(info[i].first,info[i].second);\n\t\tsort(info.begin(),info.end(),greater<MAT>());\n\t\t\n\t\ttop = info[0];\n\t\t\n\t\trep(i,n-1){\n\t\t\tif( info[i+1].first < top.first && info[i+1].second < top.second){\n\t\t\t\ttop = info[i+1];\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\tret = max(ret,cnt);\n\t\t\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define SUPAML 101\n#define SUPBML 101\n\nstruct M{\n\tint h, r, i;\n\tbool operator<(const M& m) const{\n\t\treturn h<m.h;\n\t}\n};\n\nint aml,bml;\nint ml;\nM ams[SUPAML],bms[SUPBML];\nM ms[SUPAML+SUPBML];\nint rs[SUPAML+SUPBML];\n\nint main(){\n\twhile(true){\n\t\tcin >> aml;\t\t\tif(!aml) return 0;\n\t\tFOR(ami,0,aml){\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\tams[ami].h=h; ams[ami].r=r;\n\t\t}\n\t\tcin >> bml;\n\t\tFOR(bmi,0,bml){\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\tbms[bmi].h=h; bms[bmi].r=r;\n\t\t}\n\t\t\n\t\tml = aml+bml;\n\t\tFOR(ami,0,aml) ms[ami]=ams[ami];\n\t\tFOR(bmi,0,bml) ms[aml+bmi]=bms[bmi];\n\t\tsort(ms,ms+ml);\n\n\t\tint ret=0;\n\t\tfill(rs,rs+ml,1);\n\t\tFOR(mi,0,ml){\tM m=ms[mi];\n\t\t\tFOR(ni,0,mi){\tM n=ms[ni];\n\t\t\t\tif(n.h<m.h&&n.r<m.r) rs[mi] = max(rs[mi],rs[ni]+1);\n\t\t\t}\n\t\t\tret = max(ret,rs[mi]);\n\t\t}\n\n\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// 基本テンプレート\n \n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <fstream>\n#include <functional>\nusing namespace std;\n \n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define int long long int\n \ntemplate<typename T> void chmax(T &a, T b) {a = max(a, b);}\ntemplate<typename T> void chmin(T &a, T b) {a = min(a, b);}\ntemplate<typename T> void chadd(T &a, T b) {a = a + b;}\n \ntypedef pair<int, int> pii;\ntypedef long long ll;\n \nint dx[] = {0, 0, 1, -1};\nint dy[] = {1, -1, 0, 0};\nconst ll INF = 1001001001001001LL;\nconst ll MOD = 1000000007LL;\n \nsigned main() {\n    int N, M;\n    while(cin >> N, N) {\n        vector< pair<int, int> > box;\n        for(int i=0; i<N; i++) {\n            int A, B; cin >> A >> B;\n            box.emplace_back(A, B);\n        }\n        cin >> M;\n        for(int i=0; i<M; i++) {\n            int A, B; cin >> A >> B;\n            box.emplace_back(A, B);\n        }\n        sort(box.begin(), box.end());\n\n        N += M;\n        vector<int> dp(N, 0);\n        for(int i=0; i<N; i++) {\n            dp[i] = 1;\n            for(int j=0; j<i; j++) {\n                bool ok = true;\n                ok &= (box[j].first < box[i].first);\n                ok &= (box[j].second < box[i].second);\n\n                if(ok) {\n                    chmax(dp[i], dp[j] + 1);\n                }\n            }\n        }\n        cout << *max_element(dp.begin(), dp.end()) << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint n, m;\nint h1[100], h2[100], r1[100], r2[100];\nint next1[100], next2[100];\n\nint calc(int idx, int d, bool init)\n{\n\tstatic int dp[2][100];\n\t\n\tif(init) {\n\t\tfor(int i = 0; i < n; ++i)\n\t\t\tdp[0][i] = -1;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t\tdp[1][i] = -1;\n\t}\n\t\n\tint ret = 0;\n\t\n\tif((idx < 0) || (d == 0 && idx >= n) || (d == 1 && idx >= m))\n\t\treturn 0;\n\t\t\n\tif(dp[d][idx] != -1) {\n\t\t//printf(\"%d %d -> %d\\n\", d, idx, dp[d][idx]);\n\t\treturn dp[d][idx];\n\t}\n\t\n\tret = calc(idx + 1, d, false);\n\tif(d == 0)\n\t\tret = max(ret, calc(next1[idx], 1, false));\n\telse\n\t\tret = max(ret, calc(next2[idx], 0, false));\n\t\n\t//printf(\"%d %d -> %d\\n\", d, idx, ret + 1);\n\treturn dp[d][idx] = (ret + 1);\n}\n\nint main()\n{\n\twhile(true) {\n\t\n\t\tint idx;\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0)\n\t\t\tbreak;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t\tscanf(\"%d%d\", &h1[i], &r1[i]), next1[i] = -1;\n\t\tscanf(\"%d\", &m);\n\t\tif(m == 0)\n\t\t\tbreak;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t\tscanf(\"%d%d\", &h2[i], &r2[i]), next2[i] = -1;\n\t\t\n\t\tidx = 0;\n\t\tfor(int i = 0; i < n; ++i) {\n\t\t\t\n\t\t\twhile(idx < m) {\n\t\t\t\tif(h1[i] < h2[idx] && r1[i] < r2[idx])\n\t\t\t\t\tbreak;\n\t\t\t\t++idx;\n\t\t\t}\n\t\t\t\n\t\t\tif(idx >= m)\n\t\t\t\tbreak;\n\t\t\tnext1[i] = idx;\n\t\t}\n\t\t\n\t\tidx = 0;\n\t\tfor(int i = 0; i < m; ++i) {\n\t\t\t\n\t\t\twhile(idx < n) {\n\t\t\t\tif(h2[i] < h1[idx] && r2[i] < r1[idx])\n\t\t\t\t\tbreak;\n\t\t\t\t++idx;\n\t\t\t}\n\t\t\t\n\t\t\tif(idx >= n)\n\t\t\t\tbreak;\n\t\t\tnext2[i] = idx;\n\t\t}\n\t\t\n\t\tint ans = calc(0, 0, true);\n\t\tans = max(ans, calc(0, 1, false));\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<cstdio>\n#include<vector>\n#include<algorithm>\nint field1[1001];\nint field2[1001];\nusing namespace std;\nint main(void){\n    while(1){\n        for(int i = 0;i <= 1001;i++){\n            field1[i] = 0;\n            field2[i] = 0;\n        }\n        int n; scanf(\"%d\",&n);\n        if(n == 0) break;\n        vector<pair<int,int> > v1;\n        vector<pair<int,int> > v2;\n        pair<int,int> p;\n        p.first = 0; p.second = 0;\n        v1.push_back(p); v2.push_back(p);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        scanf(\"%d\",&n);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        sort(v1.begin(),v1.end()); sort(v2.begin(),v2.end());\n        for(int i = 1;i < v1.size();i++){\n            for(int j = i - 1;j >= 0;j--){\n                if(v1[i].second > v1[j].second && v1[i].first > v1[j].first && field1[i] <= field1[j]+1){\n                    field1[i] = field1[j]+1;\n                }\n            }\n        }\n\n        for(int i = 1;i < v2.size();i++){\n            for(int j = i-1;j >= 0;j--){\n                if(v2[i].second > v2[j].second && v2[i].first > v2[j].first && field2[i] <= field2[j]+1){\n                    field2[i] = field2[j]+1;\n                }\n            }\n        }\n        int ans = -1;\n        for(int i = 0;i < v1.size();i++){\n            if(field1[i] >= ans) ans = field1[i];\n            if(field2[i] >= ans) ans = field2[i];\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={0,1,0,-1,1,-1,-1,1};\nconst int dy[]={-1,0,1,0,1,1,-1,-1};\nconst int INF = 1<<30;\nconst double EPS = 1e-15;\n#define PB push_back\n#define mk make_pair\n#define fi first\n#define se second\n#define ll long long\n#define reps(i,j,k) for(int i = (j); i < (k); i++)\n#define rep(i,j) reps(i,0,j)\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nvector < Pii > data;\nint N,M;\nint memo[2][1280][1280];\nint solve(int dep,int prev1,int prev2){\n\tif(dep == N+M){\n\t\treturn 0;\n\t}\n\tif(memo[dep%2][prev1][prev2])return memo[dep%2][prev1][prev2];\n\tint ret = 0;\n\treps(i,dep,N+M){\n\t\tif(prev1 < data[i].fi && prev2 < data[i].se){\n\t\t\tret = max(ret , max(1 + solve(i+1,data[i].fi,data[i].se),solve(i+1,prev1,prev2)));\n\t\t}\n\t\telse{\n\t\t\tret = max(ret,solve(i+1,prev1,prev2));\n\t\t}\n\t}\n\treturn memo[dep%2][prev1][prev2] = ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&N),N){\n\t\tdata.clear();\n\t\tmemset(memo,0,sizeof(memo));\n\t\trep(i,N){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tscanf(\"%d\",&M);\n\t\trep(i,M){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tsort(data.begin(),data.end());\n\t\tprintf(\"%d\\n\",solve(0,0,0));\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n#include <cassert>\n#include <iostream>\n#include <cctype>\n#include <sstream>\n#include <string>\n#include <list>\n#include <vector>\n#include <queue>\n#include <set>\n#include <stack>\n#include <map>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <complex>\n#include <fstream>\nusing namespace std;\ntypedef long long ll;\nconst double EPS = 1e-9;\ntypedef vector<int> vint;\ntypedef pair<int, int> pint;\n#define rep(i, n) REP(i, 0, n)\n#define ALL(v) v.begin(), v.end()\n#define MSG(a) cout << #a << \" \" << a << endl;\n#define REP(i, x, n) for(int i = x; i < n; i++)\ntemplate<class T> T RoundOff(T a){ return int(a+.5-(a<0)); }\ntemplate<class T, class C> void chmax(T& a, C b){ if(a < b) a = b; }\ntemplate<class T, class C> void chmin(T& a, C b){ if(b < a) a = b; }\ntemplate<class T, class C> pair<T, C> mp(T a, C b){ return make_pair(a, b); }\n\nstruct RussianDoll\n{\tint h, r; RussianDoll(int h, int r) : h(h), r(r) { }};\n\nbool operator < (RussianDoll left, RussianDoll right)\n{\treturn left.h < right.h && left.r < right.r;\t}\n\nstruct Edge\n{\tint from, to, cost;\tEdge(int from, int to, int cost) : from(from), to(to), cost(cost) { } };\n\nvoid input(vector<RussianDoll>& v, int n)\n{\n\trep(i, n)\n\t{\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tv.push_back(RussianDoll(h, r));\n\t}\n}\n\nint Bellmanford(int n, const vector<Edge>& v)\n{\n\tvint d(n, 0);\n\t\n\tbool update = true;\n\twhile(update)\n\t{\n\t\tupdate = false;\n\t\trep(i, v.size())\n\t\t{\n\t\t\tif(d[v[i].from] + v[i].cost < d[v[i].to])\n\t\t\t{\n\t\t\t\td[v[i].to] = d[v[i].from] + v[i].cost;\n\t\t\t\tupdate = true;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn d[n - 1];\n}\n\nint main()\n{\n    int n;\n\twhile(cin >> n && n)\n\t{\n\t\tvector<RussianDoll> v;\n\t\tvector<Edge> edges;\n\t\t\n\t\tinput(v, n);\n\t\t\n\t\tcin >> n;\n\t\tinput(v, n);\n\t\t\n\t\tn = v.size();\n\t\t\n\t\trep(i, n) edges.push_back(Edge(0, i + 1, -1)), edges.push_back(Edge(i + 1, n + 1, 0));\n\t\trep(i, n) rep(j, n) if(v[i] < v[j]) edges.push_back(Edge(i + 1, j + 1, -1));\n\t\t\t\n\t\tcout << -Bellmanford(n + 2, edges) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      if(doll[i].F != doll[i-1].F)\n\t*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n    }\n     int ans;\n        for(int i=n+m-1; i>=0; --i){\n            if(dp[i] != INF){\n                ans = i + 1;\n                break;\n            }\n        }\n\tcout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tstd::sort(vc.begin(), vc.end());\n\t\t\n\t\tdp[0] = 1;\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tdp[i] = 1;\n\t\t\t\n\t\t\tfor( j = 0; j < i; j++ )\n\t\t\t{\n\t\t\t\tif( vc[j].first < vc[i].first && vc[j].second < vc[i].second )\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max( dp[j]+1, dp[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max( dp[j], dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcout << \"dp::\" << dp[i] << endl;\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define SUPAML 101\n#define SUPBML 101\n\nstruct M{\n\tint h, r, i;\n\tbool operator<(const M& m) const{\n\t\treturn h<m.h;\n\t}\n};\n\nint aml,bml;\nint ml;\nM ams[SUPAML],bms[SUPBML];\nM ms[SUPAML+SUPBML];\nint rs[SUPAML+SUPBML];\n\nint main(){\n\twhile(true){\n\t\tcin >> aml;\t\t\tif(!aml) return 0;\n\t\tFOR(ami,0,aml){\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\tams[ami].h=h; ams[ami].r=r;\n\t\t}\n\t\tcin >> bml;\n\t\tFOR(bmi,0,bml){\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\tbms[bmi].h=h; bms[bmi].r=r;\n\t\t}\n\t\t\n\t\tml = aml+bml;\n\t\tFOR(ami,0,aml) ms[ami]=ams[ami];\n\t\tFOR(bmi,0,bml) ms[aml+bmi]=bms[bmi];\n\t\tsort(ms,ms+ml);\n\n\t\tfill(rs,rs+ml,1);\n\t\tFOR(mi,0,ml){\tM m=ms[mi];\n\t\t\tFOR(ni,0,mi){\tM n=ms[ni];\n\t\t\t\tif(n.h<m.h&&n.r<m.r) rs[mi] = max(rs[mi],rs[ni]+1);\n\t\t\t\telse rs[mi] = max(rs[mi],rs[ni]);\n\t\t\t}\n\t\t}\n\n\t\tcout << rs[ml-1] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000 \nusing namespace std;\nint h1[N],r1[N];\n\nvoid sort(int,int);\nint syori(int,int);\n\nint main(){/*main*/\n  int i,n1,n2,j,res;\n\n  for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n  while(1){\n\n    cin >> n1; // êQÌ}g[VJÌ\n    \n    if(n1 == 0)break;\n    \n    for(i=0;i<n1;i++){\n      cin >> h1[i] >> r1[i]; //(n1-1)ÜÅªêQ\n    }\n    \n    cin >> n2; //ñYÌ}g[VJÌ\n    \n    for(i=n1;i<(n1+n2);i++){\n      cin >> h1[i] >> r1[i]; //n1©ç(n1+n2-1)ÜÅªñY\n    }\n    \n    sort(n1,n2); // ¬³¢ÉÀÑÖ¦\n    \n    //  for(i=0;i<n1+n2;i++){\n    // cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n    // }\n    \n    res=syori(n1,n2);\n    \n    \n    \n    cout << res << endl;\n    res=0;\n    \n   for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n\n\n\n  }\n  \n}\n\n\nvoid sort(int n1,int n2){\n  int k,l,max,h;\n\n  for(k=0;k<(n1+n2);k++){\n    max=k;\n    for(l=k;l<(n1+n2);l++){\n      if(h1[l]<h1[max]){ max=l; }\n    }\n    h=h1[max];\n    h1[max]=h1[k];\n    h1[k]=h;\n    \n    h=r1[max];\n    r1[max]=r1[k];\n    r1[k]=h;\n    \n  }\n  \n  \n}\n\n\nint syori(int n1,int n2){\n  int q,i,H[N]/**/,Hcount=0,ans=0,I[N]/**/,HH[N]/**/,count=1/**/,kcount=0,korecount=0;\n  \n  \n  for(q=0;q<N-5;q++){  \n    H[q]=0;\n    I[q]=0;\n    HH[q]=0;\n  }\n  \n  //cout << \"test\" << endl;\n  \n\n\n\n  for(q=0;q<(n1+n2);q++){\n    \n    //  cout <<\"q--\"<< q << \" \" <<\"count--\" << count << endl; \n    //cout << \"korecount--\" << korecount <<endl;    \n     //      \n\n    if(h1[q-korecount]<h1[q+1] && r1[q-korecount]<r1[q+1]){\n      count++; \n      korecount=0;\n      \n    }  \n\n\n        \n\n    if((h1[q-korecount]==h1[q+1] || r1[q-korecount] == r1[q+1]) && HH[q+1]==0 ){\n      \n  korecount+=1; //2ñÈãÍ¢éº      \n  \n\n      if(korecount>=1){} \n      else{ count++; }\n      \n    \n \n H[q+1]=count-1;\n HH[q+1]=1;\n Hcount++;\n I[q+1]=q;\n // q+=1;\n    }\n\n    }\n    \n    //  cout << Hcount << endl;\n    \n    \n    if(q==(n1+n2-1) && Hcount!=0){\n      Hcount=0;\n      kcount=1;\n      \n      if(count>=ans)ans=count;\n      \n      // cout << \"ans--\" << ans << endl; \n      \n      for(i=0;i<(n1+n2);i++){\n\t\n\tif(HH[i]==1){\n\t  count=H[i];\n\t  H[i]=0;\n\t  HH[i]=0;\n\t  q=I[i];\n\t  break;\n\t}\n\t\n      }\n      \n      \n   \n    \n    \n    \n  }\n \n  if(kcount==0){ ans=count; } // kcountªOÌÆ«Í¾ÔèÈµ\n  else{ kcount=0; }           // ±ÌvOÅÍ¾ÔçÈ¢ÆansªÅÈ¢kokoayasii\n  \n  \n  \n  //    for(i=0;i<n1+n2;i++){\n  //  cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n  //  }\n  \n  \n  return ans;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nstruct doll {\n    int x, h;\n    bool operator<(const doll& o) const {\n        return x < o.x && h < o.h;\n    }\n};\n\nbool compare_by_x(const doll& a, const doll& b) {\n    return a.x < b.x;\n}\n\nint n, m;\nvector<doll> ds;\nvector<int> dp;\n\nint solve(int c) {\n    if (0 <= dp[c]) return dp[c];\n    for (int i = 0; i < c; i++) {\n        if (ds[i] < ds[c]) {\n            dp[c] = max(dp[c], solve(i)+1);\n        }\n    }\n    return dp[c];\n}\n\nint main() {\n    while (cin >> n, n != 0) {\n        ds.clear();\n        for (int i = 0; i < n; i++) {\n            doll d;\n            cin >> d.x >> d.h;\n            ds.push_back(d);\n        }\n        cin >> m;\n        for (int i = 0; i < m; i++) {\n            doll d;\n            cin >> d.x >> d.h;\n            ds.push_back(d);\n        }\n        sort(ds.begin(), ds.end(), compare_by_x);\n        dp.clear();\n        dp.resize(n+m, -1);\n\n        dp[0] = 1;\n        int max_mat = 0;\n        for (int i = 0; i < n+m; i++) \n            max_mat = max(max_mat, solve(i));\n        cout << max_mat << endl;\n    }\n    return 0;\n}\n    "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 114\n#define INF 1145141919\ntypedef pair<int, int> pii;\n\nint main()\n{\n    int N, M;\n    while (cin >> N, N) {\n        vector<pii> v;\n        int a, b;\n        for (int i = 0; i < N; i++) {\n            cin >> a >> b;\n            v.push_back(pii(a, -b));\n        }\n        cin >> M;\n        for (int i = 0; i < M; i++) {\n            cin >> a >> b;\n            v.push_back(pii(a, -b));\n        }\n\n        N += M;\n\n        sort(v.begin(), v.end());\n        int dp[MAX];\n        fill(dp, dp + MAX, INF);\n        for (int i = 0; i < N; i++) {\n            int c = -v[i].second;\n            *lower_bound(dp, dp + N, c) = c;\n        }\n        cout << (lower_bound(dp, dp + N, INF) - dp) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\n#define REP(i,n,m) for(int i=n;i<m;i++)\n#define rep(i,n) REP(i,0,n)\n\ntypedef struct{\n\tint h,r;\n}Doll;\n\nint main(void){\n\tint n,m;\n\tDoll t[200];\n\n\twhile(cin>>n && n){\n\t\trep(i,n) cin>>t[i].h>>t[i].r;\n\t\tcin>>m;\n\t\tREP(i,n,n+m) cin>>t[i].h>>t[i].r;\n\n\t\tn += m;\n\n\t\trep(i,n-1)REP(j,i+1,n){\n\t\t\tif(t[i].h < t[j].h || t[i].h == t[j].h && t[i].r < t[j].r){\n\t\t\t\tDoll tmp = t[i];\n\t\t\t\tt[i] = t[j];\n\t\t\t\tt[j] = tmp;\n\t\t\t}\n\t\t}\n\n\t\tint ans = 0;\n\t\trep(i,n){\n\t\t\tint sum = 1;\n\t\t\tDoll now = t[i];\n\n\t\t\tREP(j,i+1,n){\n\t\t\t\tif(now.h > t[j].h && now.r > t[j].r){\n\t\t\t\t\tnow = t[j];\n\t\t\t\t\tsum++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tans = max(ans,sum);\n\t\t}\n\n\t\tcout<<ans<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <utility>\n\nint N, M;\nstd::pair<int, int> Mat[201];\nint dp[201];\n\nint main(){\n    while(scanf(\"%d\", &N), N){\n        memset(dp, -1, sizeof(dp));\n        \n        for(int i = 0; i < N; ++i)\n            scanf(\"%d %d\", &Mat[i].first, &Mat[i].second);\n    \n        scanf(\"%d\", &M);\n        \n        for(int i = 0; i < M; ++i)\n            scanf(\"%d %d\", &Mat[i + N].first, &Mat[i + N].second);\n        \n        std::sort(Mat, Mat + (M + N));\n        \n        for(int i = 0; i < N + M; ++i)\n            dp[i] = 1;\n        \n        int res = 1;\n        for(int i = 0; i < N + M; ++i){\n            for(int j = 0; j < i; ++j){\n                if(Mat[i].first > Mat[j].first && Mat[i].second > Mat[j].second){\n                    dp[i] = std::max(dp[i], dp[j] + 1);\n                    \n                    res = std::max(res, dp[i]);\n                }\n            }\n        }\n        \n        std::cout << res << std::endl;\n        \n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\twhile(true){\n\t\tP dool[200];//高さ　半径\n\t\tstd::cin>>ichiro;\n\t\tif(!ichiro){\n\t\t\tstd::cout<<\"0\"<<std::endl;\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<ichiro;i++){\n\t\t\tstd::cin>>dool[i].first>>dool[i].second;\n\t\t}\n\t\tstd::cin>>jiro;\n\t\tfor(int i=0;i<jiro;i++){\n\t\t\tstd::cin>>dool[i+ichiro].first>>dool[i+ichiro].second;\n\t\t}\n\t\tstd::sort(dool,dool+ichiro+jiro);\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\t\tfor(int i=1;i<ichiro+jiro;i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tdp[i]=std::max(dp[i],dp[j]+(dool[i].second>dool[j].second));\n\t\t\t}\n\t\t\tM=std::max(M,dp[i]);\n\t\t}\n\t\tstd::cout<<M<<std::endl;\n\t\tM=0;\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=0;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\nclass Container\n{\npublic:\n\tvoid append( pair< int, int > p )\n\t{\n\t\tmasterList.push_back( p );\n\t}\n\tvoid cSort()\n\t{\n\t\tsort( masterList.begin(), masterList.end() );\n\t\tsortedList.clear();\n\t\tvector< pair< int, int > >::iterator itr = masterList.begin();\n\t\twhile( itr != masterList.end() ){\n\t\t\tvector< pair< int, int > > v;\n\t\t\tint x = itr->first;\n\t\t\tv.push_back( *itr );\n\t\t\t++itr;\n\t\t\tif( itr != masterList.end() && itr->first == x ){\n\t\t\t\tv.push_back( *itr );\n\t\t\t\t++itr;\n\t\t\t}\n\t\t\tsortedList.push_back( v );\n\t\t}\n\t}\n\n\tint countContainment()\n\t{\n\t\tint result = 0;\n\t\tint dp[ 201 ][ 1000 ];\n\t\tmemset( dp, 0, sizeof(dp) );\n\t\tfor( int i = 0; i < (int)sortedList.size(); ++i ){\n\t\t\tint r = sortedList[ i ][ 0 ].second;\n\t\t\tfor( int j = 0; j < r; ++j ){\n\t\t\t\tdp[ i + 1 ][ j ] = dp[ i ][ j ];\n\t\t\t}\n\t\t\tfor( int j = r; j < 1000; ++j ){\n\t\t\t\tdp[ i + 1 ][ j ] = max( dp[ i ][ j ], dp[ i ][ r - 1 ] + 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn dp[ sortedList.size() ][ 1000 - 1 ];\n\t}\n\n\tvoid cSwap()\n\t{\n\t\tfor( int i = 0; i < (int)masterList.size(); ++i ){\n\t\t\tint t = masterList[ i ].first;\n\t\t\tmasterList[ i ].first = masterList[ i ].second;\n\t\t\tmasterList[ i ].second = t;\n\t\t}\n\t}\n\n\n\tvector< pair< int, int > > masterList;\n\tvector< vector< pair< int ,int > > > sortedList;\n};\n\nint main()\n{\n\tint n, m;\n\n\twhile( cin >> n && n ){\n\t\tContainer cont;\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\n\t\tint result = 0;\n\t\tcont.cSort();\n\t\tresult = cont.countContainment();\n\t\tcont.cSwap();\n\t\tcont.cSort();\n\t\tcout << max( result, cont.countContainment() ) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Container\n{\npublic:\n\tvoid append( pair< int, int > p )\n\t{\n\t\tmasterList.push_back( p );\n\t}\n\tvoid cSort()\n\t{\n\t\tsort( masterList.begin(), masterList.end() );\n\t\tsortedList.clear();\n\t\tvector< pair< int, int > >::iterator itr = masterList.begin();\n\t\twhile( itr != masterList.end() ){\n\t\t\tvector< pair< int, int > > v;\n\t\t\tint x = itr->first;\n\t\t\tv.push_back( *itr );\n\t\t\t++itr;\n\t\t\tif( itr != masterList.end() && itr->first == x ){\n\t\t\t\tv.push_back( *itr );\n\t\t\t\t++itr;\n\t\t\t}\n\t\t\tsortedList.push_back( v );\n\t\t}\n\t}\n\n\tint countContainment()\n\t{\n\t\tint result = 0;\n\t\tint dp[ 201 ][ 1000 ];\n\t\tmemset( dp, 0, sizeof(dp) );\n\t\tfor( int i = 0; i < (int)sortedList.size(); ++i ){\n\t\t\tint r = sortedList[ i ][ 0 ].second;\n\t\t\tfor( int j = 0; j < r; ++j ){\n\t\t\t\tdp[ i + 1 ][ j ] = dp[ i ][ j ];\n\t\t\t}\n\t\t\tfor( int j = r; j < 1000; ++j ){\n\t\t\t\tdp[ i + 1 ][ j ] = max( dp[ i ][ j ], dp[ i ][ r - 1 ] + 1 );\n\t\t\t}\n\t\t}\n\n\t\treturn dp[ sortedList.size() ][ 1000 - 1 ];\n\t}\n\n\tvoid cSwap()\n\t{\n\t\tfor( int i = 0; i < (int)masterList.size(); ++i ){\n\t\t\tint t = masterList[ i ].first;\n\t\t\tmasterList[ i ].first = masterList[ i ].second;\n\t\t\tmasterList[ i ].second = t;\n\t\t}\n\t}\n\n\n\tvector< pair< int, int > > masterList;\n\tvector< vector< pair< int ,int > > > sortedList;\n};\n\nint main()\n{\n\tint n, m;\n\n\twhile( cin >> n && n ){\n\t\tContainer cont;\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\n\t\tint result = 0;\n\t\tcont.cSort();\n\t\tresult = cont.countContainment();\n\t\tcont.cSwap();\n\t\tcont.cSort();\n\t\tcout << max( result, cont.countContainment() ) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n#define INF 10e6\n#define F first\n#define S second\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tP dolls[200];\n\tP dolls1[200];\n\tint dp[200];\n\tint dp1[200];\n\tint n,m;\n\twhile(cin >> n,n){\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tcin >> m;\n\t\tfor(int i=n;i<n+m;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tdolls1[i].F=dolls[i].S,dolls1[i].S=dolls[i].F;\n\t\tsort(dolls,dolls+n+m);\n\t\tsort(dolls1,dolls1+n+m);\n\t\tint cx,cy;\n\t\tfill(dp,dp+n+m,INF);\n\t\tfill(dp1,dp1+n+m,INF);\n\t\tfor(int i=0;i<n+m;i++){\n\t\t\t*lower_bound(dp,dp+n+m,dolls[i].S)=dolls[i].S;\n\t\t\t*lower_bound(dp1,dp1+n+m,dolls1[i].S)=dolls1[i].S;\n\t\t}\n\t\tcx=lower_bound(dp,dp+n+m,INF)-dp;\n\t\tcy=lower_bound(dp1,dp1+n+m,INF)-dp1;\n\t\tcout << max(cx,cy) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r < d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) /*|| (v[i].h > v[j].h && v[i].r > v[j].r)*/ ){\n                    table[i][j] = 1;\n                    //table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 0;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000\nusing namespace std;\n\nint r[N],h[N];\n\nint syori(int,int);\nvoid sort(int,int);\n\nint main(){\n  int n1,n2,i,ans;\n \n  while(1){\n \n    for(i=1;i<=N;i++){\n      r[i]=0;\n      h[i]=0;\n    }\n\n\n    r[0]=-1;\n    h[0]=-1;\n   \n    cin >> n1;\n    if(n1==0)break;\n   \n    for(i=1;i<=n1;i++){    // 1©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n   \n    cin >> n2;\n   \n    for(i=n1+1;i<=n1+n2;i++){ // P©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n   \n    sort(n1,n2);\n\n    ans=syori(n1,n2);\n   \n    cout << ans << endl;\n  }\n \n \n}\n\nvoid sort(int n1,int n2){\n  int i,j,max,hi;\n\n  for(i=0;i<=(n1+n2);i++){\n    max=i;\n    for(j=i;j<(n1+n2);j++){\n      if(h[j] <= h[max])max=j;\n    }\n      hi=h[max];\n      h[max]=h[i];\n      h[i]=hi;\n   \n         hi=r[max];\n      r[max]=r[i];\n      r[i]=hi;\n\n\n  }\n\n}\n\n\n\nint syori(int n1,int n2){\n  int ANS[N],i,j; //ANS[N]Í·³ð²×ézñ \n  int max=0,res=0;\n \n  for(i=0;i<N;i++){\n    ANS[i]=0;   \n  }\n  \n \n  for(i=1;i<=(n1+n2);i++){\n    max=0;\n    //  cout <<endl<< \"h[\"<<i<<\"]--\"<<h[i]<<endl;    \n    // cout << \"r[\"<<i<<\"]--\"<<r[i]<<endl;\n    // cout << \"ANS[\"<<i<<\"]--\"<<ANS[i]<<endl;\n    // cout<< \"Lo[\"<<i<<\"]--\"<<Lo[i]<<endl<<endl;\n\n\n    for(j=0;j<i;j++){\n      if(h[j]<h[i] && r[j]<r[i] && ANS[j]>ANS[max]){\n    max=j;   \n      }\n   \n    }\n ANS[i]=ANS[max]+1;\n      \n  }\n\n  //  for(i=1;i<=(n1+n2);i++){\n  //  cout << \"ANS[\" << i << \"]--\" << ANS[i]<< endl;\n  // }\n\n\n  for(i=1;i<=(n1+n2);i++){\n      if(res<=ANS[i]){\n    res=ANS[i];\n    }\n  }\n  return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdlib>\nusing namespace std;\n#define MAXR 1000\n\nint dp[1010][1010];\nint doll[1010][1010];\n\nint main()\n{\n    int n,m;\n    while(cin >>n)\n    {\n        if(n==0)break;\n        memset(dp,0,sizeof(dp));\n        memset(doll,0,sizeof(doll));\n        int h,r;\n        for(int i=0;i<n;i++)\n        {\n            cin>>h>>r;\n            doll[h][r]=1;\n        }\n        cin >> m;\n        for(int i=0;i<m;i++)\n        {\n            cin>>h>>r;\n            doll[h][r]=1;\n        }\n\n        for(int i=1;i<MAXR;i++)\n        {\n            for(int j=1;j<MAXR;j++)\n            {\n                int temp;\n                if(doll[i][j]==1)\n                {\n                    temp = max(dp[i-1][j],dp[i][j-1]);\n                    dp[i][j] = max(1+dp[i-1][j-1],temp);\n                }\n                else\n                    dp[i][j] = max(dp[i-1][j],dp[i][j-1]);\n            }\n        }\n        cout << dp[999][999] << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(void){\n  int n,m,h[201],r[201];\n\n  while(cin >> n,n){\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >>m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(h[i]>h[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(r[i]>r[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n\n    int dp[201]={0};\n    dp[0]=1;\n    for(int i=0;i<n+m;i++){\n      for(int j=i+1;j<n+m;j++){\n\tif(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n      }\n    }\n    int res=0;\n    for(int i=0;i<n+m;i++)res=max(res,dp[i]);\n    cout << res << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vbb;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n\n#define loop(i,a,b) for(int i=(a);i<ull(b);++i)\n#define rep(i,n) loop(i,0,n)\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst double inf = (int)1e8;\n\nint main(){\n    int n, m;\n    while(cin >> n, n){\n        vector<pair<int, int> > v;\n        for(int i=0; i< n; i++){\n            int h, r;\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        cin >> m;\n        for(int i=0; i< m; i++){\n            int h, r;\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        sort(v.begin(), v.end());\n        int count = 0;\n        int h = 0, r = 0;\n        for(int i=0; i < v.size(); i++){\n            if(h < v[i].first && r < v[i].second){\n                h = v[i].first; r = v[i].second; count++;\n            }\n        }\n        cout << count << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r > d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint dp[1001][1001] = {0};//h,r\n\nint main() {\n\n    while(1){\n\n        for(int i=0;i<1001;i++){\n            for(int j=0;j<1001;j++){\n                dp[i][j] = 0;\n            }\n        }\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            dp[h][r] = 1;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            dp[h][r] = 1;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n\n\n        for(int k=0;k<n+m;k++) {\n            for (int i = 1; i < v[k].h; i++) {\n                for (int j = 1; j < v[k].r; j++) {\n                    if (dp[i][j] != 0) {\n                        dp[v[k].h][v[k].r] = max(dp[v[k].h][v[k].r], dp[i][j] + 1);\n                    }\n                }\n            }\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[v[i].h][v[i].r],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n\nusing namespace std;\n\nint main(){/*main*/\n  int i,j,k,n,h[201],hn2,hen,r[201],m,hn,count,ans[201],min,max;\n  \n  while(1)\n    {/*while*/\n      max=0;\n      hen=0;\n      count=0;\n      h[0]=-1;\n      r[0]=-1;\n      for(i=0;i<201;i++)\n\t{\n\t  ans[i]=0;\n\t}\n      ans[0]=0;\n      \n      cin >> n ;\n      if(n==0)break;\n      for(i=1;i<=n;i++)\n\t{\n\t  cin >> h[i] >> r[i];\n\t}\n      \n      cin >> m;\n      for(i=n+1;i<=(m+n);i++)\n\t{\n\t  cin >> h[i] >> r[i];\n\t}\n      \n      /*\n\tfor(i=1;i<(n+m);i++)\n\t{\n\tprintf(\"TES_h%d %d  TES_r%d %d\\n\",i,h[i],i,r[i]);\n\t}\n      */\n      \n      \n      \n      for(i=1;i<=(m+n);i++)\n\t{/*for1*/\n\t  min=i;\n\t  for(j=i;j<=(m+n);j++)\n\t    {/*for2*/\n\t      if(h[j]<h[min])\n\t\t{\n\t\t  min=j;\n\t\t}\n\t    }/*E_for2*/\n\t  hn=h[min];\n\t  h[min]=h[i];\n\t  h[i]=hn;\n\t  \n\t  hn2=r[min];\n\t  r[min]=r[i];\n\t  r[i]=hn2;\n\t}/*E_for1*/\n      \n      /*\n      for(i=1;i<=(n+m);i++)\n\t{\n\t  printf(\"TES_h[%d] %d  TES_r[%d] %d\\n\",i,h[i],i,r[i]);\n\t}\n      */\n\n      /*   for(i=1;i<=(m+n);i++)\n\t   {\n\t   if(h[i]>h[i-1] && r[i]>r[i-1])\n\t   {\n\t   count+=1;\n\t   ans[i]=1;\n\t   }\n\t   else\n\t   {\n\t   ans[i-1]=0;\n\t   for(j=1;j<=i;j++)\n\t   {\n\t   if((h[i]>h[j] && r[i]>r[j]) && ans[j]==0 &&(h[i]!=h[i-1] && r[i]!=r[i-1]))\n\t   {\n\t   hen++;\n            }\n\t    \n\t    }\n\t    if(hen>0)count++;\n\t    }\n      */\n      \n      \n       for(i=1;i<=(m+n);i++)\n\t {\n\t   k=0;\n\t   for(j=1;j<i;j++)\n\t     {\n\t       if(r[i]>r[j] && j>k && ans[j]>=ans[k])\n\t\t {\n\t\t   k=j;\n\t\t }\n\t       // cout << \"TES_max\"<< max << endl;\n\t     }\n\t   ans[i]=ans[k]+1;\n\t }\n       \n       max=-1;\n       for(i=1; i<=n+m; i++)\n\t {\n\t   if(max<ans[i])\n\t     {\n\t       max=ans[i];\n\t     }\n\t }\n       \n       cout << max << endl;\n       \n       \n    }/*E_while*/\n  return 0;\n}/*E_main*/"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nconst int MAX = 201;\n\ntypedef struct{\n  int h;\n  int r;\n}DOLL;\n\nint dp[MAX];\nDOLL data[MAX];\nint m,n;\n\nvoid Dsort(){\n  for(int i = 0; i < m+n-1; i++){\n    for(int j = i; j < m+n; j++){\n      if(/*data[i].r > data[j].r &&*/ data[i].h > data[j].h){\n\tDOLL tmp  = data[i];\n\tdata[i] = data[j];\n\tdata[j] = tmp;\n      }\n    }\n  }\n}\n\nint solve(){\n  dp[1] = 1;\n  DOLL now = data[0];\n  for(int i = 2; i < m+n; i++){\n    if(data[i].h > now.h && data[i].r > now.r){\n      dp[i] = dp[i-1]+1;\n      now = data[i];\n    }else dp[i] = dp[i-1];\n  }\n  return dp[m+n-1]+1;\n}\n\n\nint main(){\n\n  while(cin >> n && n){\n    for(int i = 0; i < n; i++) cin >> data[i].h >> data[i].r;\n    cin >> m;\n    for(int i = n; i < m+n; i++) cin >> data[i].h >> data[i].r;\n    Dsort();\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nstruct S{int h,r,c;}a[201];\nint C(S l,S r){return l.h+l.r<r.h+r.r;} \nint main()\n{\n\tint m,n,i,j;\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\tfor(i=0;i<n;a[i++].c=0)scanf(\"%d%d\",&a[i].h,&a[i].r);\n\t\tfor(scanf(\"%d\",&m),n+=m;i<n;a[i++].c=0)scanf(\"%d%d\",&a[i].h,&a[i].r);\n\t\ta[n].h=a[n].r=a[n].c=0;\n\t\tstd::sort(a,a+n+1,C);\n\t\tfor(i=n;i>=0;--i)\n\t\t\tfor(j=i+1;j<=n;++j)\n\t\t\t\tif(a[i].h<a[j].h&&a[i].r<a[j].r)\n\t\t\t\t\ta[i].c=std::max(a[i].c,a[j].c+1);\n\t\tprintf(\"%d\\n\",a[0].c);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\nint low[200],ans;\nmat hr[200];\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    rep(i,n)cin>>hr[i].h>>hr[i].r;\n    int m;\n    cin>>m;\n    rep(i,m)cin>>hr[i+n].h>>hr[i+n].r;\n\n    \n    memset(low,0,sizeof(0));\n\n    stable_sort(hr,hr+m+n,lessr);\n    stable_sort(hr,hr+m+n,lessh);\n\n\n    int ans=0;\n    rep(i,n+m){\n      rep(j,i){\n\tif(hr[j].h<hr[i].h && hr[j].r<hr[i].r){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n    //rep(i,m+n)cout<<hr[i].h<<\" \"<<hr[i].r<<\" \"<<low[i]+1<<endl;\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define fr first\n#define sc second\ntypedef pair<int, int> Pii;\n\nint main() {\n  int n, m, a, b;\n  while( cin >> n, n ) {\n    vector<Pii> v;\n    for(int i=0; i<n; i++) {\n      cin >> a >> b;\n      v.pb(Pii(a, b));\n    }\n\n    cin >> m;\n    for(int i=0; i<m; i++) {\n      cin >> a >> b;\n      v.pb(Pii(a, b));\n    }\n\n    sort(v.begin(), v.end());\n    vector<int> dp(n+m, 0);\n    int res = 0;\n    for(int i=0; i<n+m; i++) {\n      int mx = 0;\n      for(int j=0; j<i; j++) {\n\tif( v[j].fr < v[i].fr && v[j].sc < v[i].sc ) {\n\t  mx = max(mx, dp[j]);\n\t}\n      }\n\n      dp[i] = mx+1;\n      res = max(res, dp[i]);\n    }\n\n    cout << res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#define MAX(a,b)((a)>=(b)?(a):(b))\nint n,m,h[200],r[200],memo[200];\nint solve(int x) {\n\tif(memo[x]!=-1)return memo[x];\n\tint max_d=0;\n\tfor(int i=0;i<(n+m);i++) {\n\t\tif(h[x]>h[i]&&r[x]>r[i]) {\n\t\t\tmax_d=MAX(max_d,1+solve(i));\n\t\t}\n\t}\n\treturn memo[x]=max_d;\n}\nint main() {\n\twhile(scanf(\"%d\",&n),n) {\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tscanf(\"%d %d\",&h[i],&r[i]);\n\t\t}\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++) {\n\t\t\tscanf(\"%d %d\",&h[i+n],&r[i+n]);\n\t\t}\n\t\tmemset(memo,-1,sizeof(memo));\n\t\tint max_d=0;\n\t\tfor(int i=0;i<(n+m);i++) {\n\t\t\tmax_d=MAX(max_d,1+solve(i));\n\t\t}\n\t\tprintf(\"%d\\n\",max_d);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint n, m;\nint d[200][2], dp[200];\n\nint main(){\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            int maax = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]){\n                        if(d[j][1] < d[i][1]){\n                            a = dp[j];\n                        }\n                    }\n                }\n                dp[i] += a;\n                if(maax <= dp[i]){\n                    maax = dp[i];\n                }\n            }\n            cout << maax << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <cstdio>\n#include <map>\nusing namespace std;\n\n#define loop(i,a,b) for(int i=(a);i<int(b);i++)\n#define rep(i,b) loop(i,0,b)\ntypedef pair<int,int> pii;\nint n,m;\npii a[222];\nint dp[222];\n\ninline bool le(pii const& t, pii const& u){\n    return t.first<u.first && t.second<u.second;\n}\n\nint solve(){\n    sort(a,a+n+m,le);\n    dp[0]=1;\n    for(int i=1;i<n+m;i++){\n        for(int j=0;j<i;j++){\n            if(le(a[j],a[i])){\n                dp[i]=max(dp[i],dp[j]+1);\n            }\n        }\n    }\n    int ans=0;\n    for(int i=0;i<n+m;i++){\n        ans=max(ans,dp[i]);\n    }\n    return ans;\n}\n\nint main(){\n    while(cin>>n && n){\n        rep(i,n)cin>>a[i].first>>a[i].second;\n        cin>>m;\n        rep(i,m)cin>>a[i+n].first>>a[i+n].second;\n        cout << solve() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include <iostream>\n#include <math.h>\n#include <numeric>\n#include <vector>\n#include <map>\n#include <functional>\n#include <stdio.h>\n#include <array>\n#include <algorithm>\n#include <string>\n#include <string.h>\n#include <assert.h>\n#include <stdio.h>\n#include <queue>\n#include<iomanip>\n#include<bitset>\n#include<stack>\n#include<set>\n#include<limits>\n#include <complex>\nusing namespace std;\n\n\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define ALL(x) (x).begin(),(x).end()\n\n\n\n\n/* 幾何の基本 */\n\n#include <complex>\n\ntypedef long double ld;\ntypedef complex<ld> Point;\n\nconst ld eps = 1e-9, pi = acos(-1.0);\n\nnamespace std {\n\tbool operator<(const Point &lhs, const Point &rhs) {\n\t\tif (lhs.real() < rhs.real() - eps) return true;\n\t\tif (lhs.real() > rhs.real() + eps) return false;\n\t\treturn lhs.imag() < rhs.imag();\n\t}\n}\n\n// 点の入力\nPoint input_point() {\n\tld x, y;\n\tcin >> x >> y;\n\treturn Point(x, y);\n}\n\n// 誤差つき等号判定\nbool eq(ld a, ld b) {\n\treturn (abs(a - b) < eps);\n}\n\n// 内積\nld dot(Point a, Point b) {\n\treturn real(conj(a) * b);\n}\n\n// 外積\nld cross(Point a, Point b) {\n\treturn imag(conj(a) * b);\n}\n\n// 直線の定義\nclass Line {\npublic:\n\tPoint a, b;\n\tLine() : a(Point(0, 0)), b(Point(0, 0)) {}\n\tLine(Point a, Point b) : a(a), b(b) {}\n};\n\n// 円の定義\nclass Circle {\npublic:\n\tPoint p;\n\tld r;\n\tCircle() : p(Point(0, 0)), r(0) {}\n\tCircle(Point p, ld r) : p(p), r(r) {}\n};\n\n// CCW\nint ccw(Point a, Point b, Point c) {\n\tb -= a; c -= a;\n\tif (cross(b, c) > eps) return 1;   // a,b,cが反時計周りの順に並ぶ\n\tif (cross(b, c) < -eps) return -1; // a,b,cが時計周りの順に並ぶ\n\tif (dot(b, c) < 0) return 2;       // c,a,bの順に直線に並ぶ\n\tif (norm(b) < norm(c)) return -2;  // a,b,cの順に直線に並ぶ\n\treturn 0;                          // a,c,bの順に直線に並ぶ\n}\n\n\n/* 交差判定 */\n\n// 直線と直線の交差判定\nbool isis_ll(Line l, Line m) {\n\treturn !eq(cross(l.b - l.a, m.b - m.a), 0);\n}\n\n// 直線と線分の交差判定\nbool isis_ls(Line l, Line s) {\n\treturn isis_ll(l, s) &&\n\t\t(cross(l.b - l.a, s.a - l.a) * cross(l.b - l.a, s.b - l.a) < eps);\n}\n\n// 線分と線分の交差判定\nbool isis_ss(Line s, Line t) {\n\treturn ccw(s.a, s.b, t.a) * ccw(s.a, s.b, t.b) <= 0 &&\n\t\tccw(t.a, t.b, s.a) * ccw(t.a, t.b, s.b) <= 0;\n}\n\n// 点の直線上判定\nbool isis_lp(Line l, Point p) {\n\treturn (abs(cross(l.b - p, l.a - p)) < eps);\n}\n\n// 点の線分上判定\nbool isis_sp(Line s, Point p) {\n\treturn (abs(s.a - p) + abs(s.b - p) - abs(s.b - s.a) < eps);\n}\n\n// 垂線の足\nPoint proj(Line l, Point p) {\n\tld t = dot(p - l.a, l.a - l.b) / norm(l.a - l.b);\n\treturn l.a + t * (l.a - l.b);\n}\n\n// 直線と直線の交点\nPoint is_ll(Line s, Line t) {\n\tPoint sv = s.b - s.a, tv = t.b - t.a;\n\tassert(cross(sv, tv) != 0);\n\treturn s.a + sv * cross(tv, t.a - s.a) / cross(tv, sv);\n}\n\n// 直線と点の距離\nld dist_lp(Line l, Point p) {\n\treturn abs(p - proj(l, p));\n}\n\n// 直線と直線の距離\nld dist_ll(Line l, Line m) {\n\treturn isis_ll(l, m) ? 0 : dist_lp(l, m.a);\n}\n\n// 直線と線分の距離\nld dist_ls(Line l, Line s) {\n\treturn isis_ls(l, s) ? 0 : min(dist_lp(l, s.a), dist_lp(l, s.b));\n}\n\n// 線分と点の距離\nld dist_sp(Line s, Point p) {\n\tPoint r = proj(s, p);\n\treturn isis_sp(s, r) ? abs(r - p) : min(abs(s.a - p), abs(s.b - p));\n}\n\n// 線分と線分の距離\nld dist_ss(Line s, Line t) {\n\tif (isis_ss(s, t)) return 0;\n\treturn min({ dist_sp(s, t.a), dist_sp(s, t.b), dist_sp(t, s.a), dist_sp(t, s.b) });\n}\n\n\n/* 円 */\n\n// 円と円の交点\nvector<Point> is_cc(Circle c1, Circle c2) {\n\tvector<Point> res;\n\tld d = abs(c1.p - c2.p);\n\tld rc = (d * d + c1.r * c1.r - c2.r * c2.r) / (2 * d);\n\tld dfr = c1.r * c1.r - rc * rc;\n\tif (abs(dfr) < eps) dfr = 0.0;\n\telse if (dfr < 0.0) return res; // no intersection\n\tld rs = sqrt(dfr);\n\tPoint diff = (c2.p - c1.p) / d;\n\tres.push_back(c1.p + diff * Point(rc, rs));\n\tif (dfr != 0.0) res.push_back(c1.p + diff * Point(rc, -rs));\n\treturn res;\n}\n\n// 円と直線の交点\nvector<Point> is_lc(Circle c, Line l) {\n\tvector<Point> res;\n\tld d = dist_lp(l, c.p);\n\tif (d < c.r + eps) {\n\t\tld len = (d > c.r) ? 0.0 : sqrt(c.r * c.r - d * d); //safety;\n\t\tPoint nor = (l.a - l.b) / abs(l.a - l.b);\n\t\tres.push_back(proj(l, c.p) + len * nor);\n\t\tres.push_back(proj(l, c.p) - len * nor);\n\t}\n\treturn res;\n}\n\n// 円と線分の距離\nvector<Point> is_sc(Circle c, Line l) {\n\tvector<Point> v = is_lc(c, l), res;\n\tfor (Point p : v)\n\t\tif (isis_sp(l, p)) res.push_back(p);\n\treturn res;\n}\n\n// 円と点の接線\nvector<Line> tangent_cp(Circle c, Point p) {\n\tvector<Line> ret;\n\tPoint v = c.p - p;\n\tld d = abs(v);\n\tld l = sqrt(norm(v) - c.r * c.r);\n\tif (isnan(l)) { return ret; }\n\tPoint v1 = v * Point(l / d, c.r / d);\n\tPoint v2 = v * Point(l / d, -c.r / d);\n\tret.push_back(Line(p, p + v1));\n\tif (l < eps) return ret;\n\tret.push_back(Line(p, p + v2));\n\treturn ret;\n}\n\n// 円と円の接線\nvector<Line> tangent_cc(Circle c1, Circle c2) {\n\tvector<Line> ret;\n\tif (abs(c1.p - c2.p) - (c1.r + c2.r) > -eps) {\n\t\tPoint center = (c1.p * c2.r + c2.p * c1.r) / (c1.r + c2.r);\n\t\tret = tangent_cp(c1, center);\n\t}\n\tif (abs(c1.r - c2.r) > eps) {\n\t\tPoint out = (-c1.p * c2.r + c2.p * c1.r) / (c1.r - c2.r);\n\t\tvector<Line> nret = tangent_cp(c1, out);\n\t\tret.insert(ret.end(), ALL(nret));\n\t}\n\telse {\n\t\tPoint v = c2.p - c1.p;\n\t\tv /= abs(v);\n\t\tPoint q1 = c1.p + v * Point(0, 1) * c1.r;\n\t\tPoint q2 = c1.p + v * Point(0, -1) * c1.r;\n\t\tret.push_back(Line(q1, q1 + v));\n\t\tret.push_back(Line(q2, q2 + v));\n\t}\n\treturn ret;\n}\n\n\n/* 多角形 */\n\ntypedef vector<Point> Polygon;\n\n// 面積\nld area(const Polygon &p) {\n\tld res = 0;\n\tint n = p.size();\n\tREP(j, n) res += cross(p[j], p[(j + 1) % n]);\n\treturn res / 2;\n}\n\n// 多角形の回転方向\nbool is_counter_clockwise(const Polygon &poly) {\n\tld angle = 0;\n\tint n = poly.size();\n\tREP(i, n) {\n\t\tPoint a = poly[i], b = poly[(i + 1) % n], c = poly[(i + 2) % n];\n\t\tangle += arg((c - b) / (b - a));\n\t}\n\treturn angle > eps;\n}\n\n// 円の内外判定\n// -1 => out\n//  0 => on\n//  1 => in\nint is_in_polygon(const Polygon &poly, Point p) {\n\tld angle = 0;\n\tint n = poly.size();\n\tREP(i, n) {\n\t\tPoint a = poly[i], b = poly[(i + 1) % n];\n\t\tif (isis_sp(Line(a, b), p)) return 1;\n\t\tangle += arg((b - p) / (a - p));\n\t}\n\treturn eq(angle, 0) ? 0 : 2;\n}\n\n// 凸包\nPolygon convex_hull(vector<Point> ps) {\n\tint n = ps.size();\n\tint k = 0;\n\tsort(ps.begin(), ps.end());\n\tPolygon ch(2 * n);\n\tfor (int i = 0; i < n; ch[k++] = ps[i++])\n\t\twhile (k >= 2 && ccw(ch[k - 2], ch[k - 1], ps[i]) <= 0) --k;\n\tfor (int i = n - 2, t = k + 1; i >= 0; ch[k++] = ps[i--])\n\t\twhile (k >= t && ccw(ch[k - 2], ch[k - 1], ps[i]) <= 0) --k;\n\tch.resize(k - 1);\n\treturn ch;\n}\n\n// 凸カット\nPolygon convex_cut(const Polygon &ps, Line l) {\n\tint n = ps.size();\n\tPolygon Q;\n\tREP(i, n) {\n\t\tPoint A = ps[i], B = ps[(i + 1) % n];\n\t\tLine m = Line(A, B);\n\t\tif (ccw(l.a, l.b, A) != -1) Q.push_back(A);\n\t\tif (ccw(l.a, l.b, A) * ccw(l.a, l.b, B) < 0 && isis_ll(l, m))\n\t\t\tQ.push_back(is_ll(l, m));\n\t}\n\treturn Q;\n}\n\n\n/* アレンジメント */\nvoid add_point(vector<Point> &ps, Point p) {\n\tfor (Point q : ps) if (abs(q - p) < eps) return;\n\tps.push_back(p);\n}\n\ntypedef int Weight;\n\nstruct Edge { int from, to; Weight weight; };\n\ntypedef vector<Edge> Edges;\ntypedef vector<Edges> Graph;\n\nvoid add_edge(Graph &g, int from, int to, Weight weight) {\n\tg[from].push_back(Edge{ from, to, weight });\n}\n\nGraph segment_arrangement(const vector<Line> &s, const vector<Point> &p) {\n\tint n = p.size(), m = s.size();\n\tGraph g(n);\n\tREP(i, m) {\n\t\tvector<pair<ld, int>> vec;\n\t\tREP(j, n) if (isis_sp(s[i], p[j]))\n\t\t\tvec.emplace_back(abs(s[i].a - p[j]), j);\n\t\tsort(ALL(vec));\n\t\tREP(j, vec.size() - 1) {\n\t\t\tint from = vec[j].second, to = vec[j + 1].second;\n\t\t\tadd_edge(g, from, to, abs(p[from] - p[to]));\n\t\t}\n\t}\n\treturn g;\n}\n\nGraph circle_arrangement(const vector<Circle> &c, const vector<Point> &p) {\n\tint n = p.size(), m = c.size();\n\tGraph g(n);\n\tREP(i, m) {\n\t\tvector<pair<ld, int>> vec;\n\t\tREP(j, n) if (abs(abs(c[i].p - p[j]) - c[i].r) < eps)\n\t\t\tvec.emplace_back(arg(c[i].p - p[j]), j);\n\t\tsort(ALL(vec));\n\t\tREP(j, vec.size() - 1) {\n\t\t\tint from = vec[j].second, to = vec[j + 1].second;\n\t\t\tld angle = vec[j + 1].first - vec[j].first;\n\t\t\tadd_edge(g, from, to, angle * c[i].r);\n\t\t}\n\t\tif (vec.size() >= 2) {\n\t\t\tint from = vec.back().second, to = vec.front().first;\n\t\t\tld angle = vec.front().first - vec.back().first;\n\t\t\tadd_edge(g, from, to, angle * c[i].r);\n\t\t}\n\t}\n\treturn g;\n}\n\n\n/* 双対グラフ */\n\n// 線分集合は既にアレンジメントされていなければならない．\n// 内側の円は時計回りで，外側の円は反時計回りで得られる．\n// 変数 polygon は，vector<int> で表される多角形の集合であり，\n// vector<int> で表される 多角形のi番目は，その頂点の頂点集合pにおける番号である．\nvector<vector<int>> polygon;\nvector<int> seg2p[1024][1024];\n\nGraph dual_graph(const vector<Line> &s, const vector<Point> &p) {\n\tint N = p.size();\n\tpolygon.clear();\n\tREP(i, 1024) REP(j, 1024) seg2p[i][j].clear();\n\tvector<vector<tuple<ld, int, bool>>> tup(N);\n\tREP(i, s.size()) {\n\t\tint a = -1, b = -1;\n\t\tREP(j, N) if (abs(s[i].a - p[j]) < eps) a = j;\n\t\tREP(j, N) if (abs(s[i].b - p[j]) < eps) b = j;\n\t\tassert(a >= 0 && b >= 0);\n\t\ttup[a].emplace_back(arg(s[i].b - s[i].a), b, false);\n\t\ttup[b].emplace_back(arg(s[i].a - s[i].b), a, false);\n\t}\n\tREP(i, N) sort(ALL(tup[i]));\n\tREP(i, N) {\n\t\tREP(j, tup[i].size()) {\n\t\t\tld angle; int pos = j, from = i, to; bool flag;\n\t\t\ttie(angle, to, flag) = tup[i][j];\n\t\t\tif (flag) continue;\n\t\t\tvector<int> ps;\n\t\t\twhile (!flag) {\n\t\t\t\tps.push_back(from);\n\t\t\t\tget<2>(tup[from][pos]) = true;\n\t\t\t\tseg2p[from][to].push_back(polygon.size());\n\t\t\t\tseg2p[to][from].push_back(polygon.size());\n\t\t\t\tangle += pi + eps;\n\t\t\t\tif (angle > pi) angle -= 2 * pi;\n\t\t\t\tauto it = lower_bound(ALL(tup[to]), make_tuple(angle, 0, false));\n\t\t\t\tif (it == tup[to].end()) it = tup[to].begin();\n\t\t\t\tfrom = to; tie(angle, to, flag) = *it;\n\t\t\t\tpos = it - tup[from].begin();\n\t\t\t}\n\t\t\tpolygon.push_back(ps);\n\t\t}\n\t}\n\tGraph g(polygon.size());\n\tREP(i, N) REP(j, i) {\n\t\tif (seg2p[i][j].size() == 2) {\n\t\t\tint from = seg2p[i][j][0], to = seg2p[i][j][1];\n\t\t\tg[from].push_back(Edge{ from, to });\n\t\t\tg[to].push_back(Edge{ to, from });\n\t\t}\n\t}\n\treturn g;\n}\n\n\n/* ビジュアライザ */\nconst ld zoom = 25;\nconst ld centerX = 6;\nconst ld centerY = 5;\n\nvoid change_color(int r, int g, int b) {\n\tfprintf(stderr, \"c.strokeStyle = 'rgb(%d, %d, %d)';\\n\", r, g, b);\n}\n\nint cordx(Point p) { return 400 + zoom * (p.real() - centerX); }\nint cordy(Point p) { return 400 - zoom * (p.imag() - centerY); }\n\n#define cord(p) cordx(p),cordy(p)\n\nvoid draw_point(Point p) {\n\tfprintf(stderr, \"circle(%d, %d, %d)\\n\", cord(p), 2);\n}\n\nvoid draw_segment(Line l) {\n\tfprintf(stderr, \"line(%d, %d, %d, %d)\\n\", cord(l.a), cord(l.b));\n}\n\nvoid draw_line(Line l) {\n\tPoint v = l.b - l.a;\n\tLine m(l.a - v * Point(1e4, 0), l.b + v * Point(1e4, 0));\n\tfprintf(stderr, \"line(%d, %d, %d, %d)\\n\", cord(m.a), cord(m.b));\n}\n\nvoid draw_polygon(const Polygon &p) {\n\tint n = p.size();\n\tREP(i, n) draw_segment(Line(p[i], p[(i + 1) % n]));\n}\n\nvoid draw_circle(Circle c) {\n\tfprintf(stderr, \"circle(%d, %d, %d)\\n\", cord(c.p), (int)(zoom * c.r));\n}\n\n\nclass Compare {\npublic:\n\tbool operator()(const pair<int, int>&l, const pair<int, int>&r) {\n\t\treturn l.second > r.second;\n\t}\n};\n\n\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<pair<int,int>>ms;\n\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tms.push_back(make_pair(h, r));\n\t\t}\n\t\tint M; cin >> M;\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tms.push_back(make_pair(h, r));\n\t\t}\n\n\t\tsort(ms.begin(), ms.end(), [](const pair<int, int>&l, const pair<int, int>&r) {return l.first == r.first ? l.second < r.second : l.first < r.first; });\n\n\t\tvector<vector<int>>mms(1000);\n\t\tfor (int i = 0; i < ms.size(); ++i) {\n\t\t\tmms[ms[i].first].push_back(ms[i].second);\n\t\t}\n\n\n\t\tvector<int>olddp(1000, 0);\n\t\tvector<int>newdp(1000, 0);\n\t\tfor (int i = 1; i < 1000; ++i) {\n\t\t\t\n\t\t\tfor (auto j : mms[i]) {\n\t\t\t\tfor (int k = 0; k < j; ++k) {\n\t\t\t\t\tnewdp[j] = max(newdp[j], olddp[k] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tolddp = newdp;\n\t\t}\n\t\tcout<<*max_element(olddp.begin(),olddp.end()) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nbool cmpr(doll &a, doll &b)\n{\n \tif( a.first == b.first )\n\t\treturn a.second < b.second;\n\telse\n\t\treturn a.first < b.first;\n}\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tsort(vc.begin(), vc.end(), cmpr);\n\t\t\n\t\tdp[0] = 1;\n\t\tint surface = 0;\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\t\n\t\t\tif( vc[surface].first < vc[i].first && vc[surface].second < vc[i].second )\n\t\t\t{\n\t\t\t\tdp[i] = dp[surface] + 1;\n\t\t\t\tsurface = i;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdp[i] = dp[surface];\n\t\t\t}\n\t\t\t\n//\t\t\tcout << \"dp::\" << dp[i] << endl;\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#define NUM 1000\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tbool dp[NUM][NUM] = {false};\n\t\tint n, m, h, r, ans = 0;\n\t\tcin >>n;\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tcin >>m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tint cnt = 1;\n\t\tfor(int i = cnt; i < NUM; i++){\n\t\t\tfor(int j = cnt; j < NUM; j++){\n\t\t\t\tif(dp[i][j] == true){\n\t\t\t\t\tans++;\n\t\t\t\t\tfor(int k = (i + 1); k < NUM; k++) dp[k][j] = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if(dp[j][i] == true){\n\t\t\t\t\tans++;\n\t\t\t\t\tfor(int k = (i + 1); k < NUM; k++) dp[j][k] = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcnt++;\n\t\t}\n\t\tcout <<ans <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(void){\n  int n,m,h[201],r[201];\n\n  while(cin >> n,n){\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >>m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(h[i]>h[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(r[i]>r[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n\n    int dp[201]={0};\n    dp[0]=1;\n    for(int i=0;i<n+m;i++){\n      for(int j=0;j<n+m;j++){\n\tif(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n      }\n    }\n    int res=0;\n    for(int i=0;i<n+m;i++)res=max(res,dp[i]);\n    cout << res << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF 999999999\n\nint main(){\n    int n,m;\n    bool data[1000][1000]={};\n    \n    while(cin>>n&&n){\n        rep(i,1000)rep(j,1000)data[i][j]=false;\n        rep(i,n){\n            int a,b;\n            cin>>a>>b;\n            data[a][b]=true;\n        }\n        cin>>m;\n        rep(i,m){\n            int a,b;\n            cin>>a>>b;\n            data[a][b]=true;\n        }\n        \n        \n        int dp[1002][1002];\n        rep(i,1002)rep(j,1002)dp[i][j]=0;\n        \n        \n        int maxi = 0;\n        for(int i=999;i>=0;i--){\n            for(int j=999;j>=0;j--){\n                dp[i][j] = max({dp[i][j+1],dp[i+1][j],dp[i+1][j+1]+data[i][j],dp[i][j]});\n                //            cout<<dp[i][j]<<endl;\n                maxi = max(maxi,dp[i][j]);\n            }\n        }\n        cout<<maxi<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\nusing namespace std;\nint n, m, dp[200]; pair<int, int> a[200];\nint main() {\n\twhile(true) {\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++) scanf(\"%d%d\", &a[i].first, &a[i].second);\n\t\tscanf(\"%d\", &m);\n\t\tfor(int i = 0; i < m; i++) scanf(\"%d%d\", &a[n + i].first, &a[n + i].second);\n\t\tsort(a, a + n + m);\n\t\tint ret = 0;\n\t\tfor(int i = 0; i < n + m; i++) dp[i] = -1;\n\t\tfor(int i = 0; i < n + m; i++) {\n\t\t\tbool flag = false;\n\t\t\tfor(int j = 0; j < ret; j++) {\n\t\t\t\tif(dp[j] >= a[i].second) {\n\t\t\t\t\tdp[j] = a[i].second; flag = true; break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!flag) {\n\t\t\t\tdp[ret] = a[i].second, ret++;\n\t\t\t\tint ptr = i;\n\t\t\t\twhile(a[ptr].first == a[i].first) i++; i--;\n\t\t\t}\n\t\t}\n\t\t//for(int i = 0; i < n + m; i++) printf(\"%d %d\\n\", a[i].first, a[i].second);\n\t\t//for(int i = 0; i < ret; i++) printf(\"%d\\n\", dp[i]);\n\t\tprintf(\"%d\\n\", ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define iota(i,n,b,s) for(int i=int(b);i!=int((b)+(s)*(n));i+=(s))\n#define range(i,n,m) iota(i,(((n)>(m))?((n)-(m)):((m)-(n))),(n),((n)>(m)?-1:1))\n#define rep(i,n) iota(i,(n),0,1)\n#define loop for(;;)\n\n#define INF (1e9)\n#define EPS (1e-9)\n#define cons(a,b) (make_pair(a,b))\n#define car(a) (a.first)\n#define cdr(a) (a.second)\n#define cadr(a) (car(cdr(a)))\n#define cddr(a) (cdr(cdr(a)))\n#define all(a) a.begin(), a.end()\n#define trace(var) cerr<<\">>> \"<<#var<<\" = \"<<var<<endl;\n\ntypedef long long Integer;\ntypedef double Real;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef map<string,int> Dictionary;\nconst Real PI = acos(-1);\n\ntemplate<class S, class T>\nostream& operator<<(ostream& os, pair<S,T> p) {\n  os << '(' << car(p) << \", \" << cdr(p) << ')';\n  return os;\n}\n\ntemplate<class T>\nostream& operator<<(ostream& os, vector<T> v) {\n  if (v.size() == 0) {\n    os << \"(empty)\";\n    return os;\n  }\n  os << v[0];\n  for (int i=1, len=v.size(); i<len; ++i) os << ' ' << v[i];\n  return os;\n}\n\nint dx[] = { -1, 0, 1, 0 };\nint dy[] = {  0, -1, 0, 1 };\n\nint main() {\n\nmore:\n\n  vector<int> hs;\n  vector<int> rs;\n\n  {\n    int n; cin >> n;\n    if (!n) return 0;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  {\n    int n; cin >> n;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  const int N = hs.size();\n  int d[N][N];\n\n  rep (i, N) {\n    rep (j, N) {\n      if ((hs[i] < hs[j] && rs[i] < rs[j])) {\n        d[i][j] = 1;\n      } else {\n        d[i][j] = 0;\n      }\n    }\n  }\n\n  int ans = 0;\n  vector<bool>used(N, false);\n  rep (i, N) {\n    if (used[i]) continue;\n    stack<pair<int,int>> s;\n    s.push(cons(i, 1));\n    while (!s.empty()) {\n      auto t = s.top(); s.pop();\n      used[car(t)] = true;\n      rep (j, N) {\n        if (d[car(t)][j]) s.push(cons(j, cdr(t) + 1));\n      }\n      ans = max(ans, cdr(t));\n    }\n  }\n  cout << ans << endl;\n\n  goto more;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n  \n    for(i=1;i<1001;i++){\n      dp[i][1]=dp[i-1][1];\n      for(j=2;j<1001;j++){\n\tif(doll[i][j]){\n\t  dp[i][j]=dp[i-1][j-1]+doll[i][j];\n\t  // printf(\"i=%d j=%d doll=%d\\n\",i,j,dp[i][j]);\n\t  for(int k=j+1;k<1001;k++)\n\t    dp[i][k]=dp[i][j];\n\t  break;\n\t}\n\tdp[i][j]=max(dp[i-1][j],dp[i][j-1])+doll[i][j];\n      }\n    }\n \n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n \nusing namespace std;\ntypedef pair<int, int> P;\n \nvoid solve()\n{\n    int n;\n    while(cin >> n, n)\n    {\n        vector<P> doll;\n        for(int i = 0; i < n; ++i)\n        {\n            int h, r;\n            cin >> h >> r;\n            doll.push_back(P(h, r));\n        }\n        int m;\n        cin >> m;\n        for(int i = 0; i < m; ++i)\n        {\n            int h, r;\n            cin >> h >> r;\n            doll.push_back(P(h, r));\n        }\n        sort(doll.begin(), doll.end());\n        int N = doll.size();\n        vector<int> dp(N, 1);\n        int ans = 1;\n        for(int i = 0; i < N; ++i)\n        {\n            for(int j = 0; j < i; ++j)\n            {\n                if(doll[j].first < doll[i].first && doll[j].second < doll[i].second)\n                {\n                    dp[i] = max(dp[i], dp[j] + 1);\n                }\n            }\n            ans = max(ans, dp[i]);\n        }\n        cout << ans << endl;\n    }\n}\n \nint main()\n{\n    solve();\n    return(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nclass Matryoshka{\npublic:\n  int h;\n  int r; \n\n};\n\nbool LessMatryoshka(const Matryoshka &a, const Matryoshka &b){\n  if( a.h < b.h && a.r < b.r ){\n    return true;\n  }else if( a.h == b.h ){\n    return true;\n  }else{\n    return false;\n  }\n} \n\ntypedef vector< Matryoshka > Dolls;\n\nvoid MaxSubSequenceLength( Dolls &d, vector< int > &ans ){\n  ans[0] = 0;\n  for(int i = 1; i < d.size(); i++){\n    int maxSub = 0, maxj = -1;\n    for(int j = i - 1; j >= 0; j--){\n      if( d[j].r < d[i].r && d[j].h < d[i].h ){\n\tif( maxSub < ans[j] ){\n\t  maxj = j;\n\t  maxSub = ans[j];\n\t}\n      }\n    }\n    if( maxj < 0 ){\n      ans[i] = 1;\n    }else{\n      ans[i] = ans[maxj] + 1;\n    }\n  }\n}\n\nvoid InputMatryoshka( Dolls &d, int num ){\n  for(int i = 0; i < num; i++){\n    Matryoshka m;\n    \n    cin >> m.h;\n    cin >> m.r;\n    d.push_back( m );\n  }\n}\n\nint main(void){\n  while( 1 ){\n    int n, m;\n    Dolls dolls;\n    Matryoshka matryoBanpei;\n    int maxMatryoshkaNum = 0;\n    vector<int> ans;\n\n    cin >> n;\n    if( n == 0 ){\n      break;\n    }\n\n    matryoBanpei.h = -1;\n    matryoBanpei.r = -1;\n    dolls.push_back( matryoBanpei );\n    \n    InputMatryoshka( dolls, n );\n\n    cin >> m;\n    InputMatryoshka( dolls, m );\n\n    sort( dolls.begin(), dolls.end(), LessMatryoshka );\n    ans.resize( n+m+1, 0 );\n    MaxSubSequenceLength( dolls, ans );\n\n    //output\n    for(int i = 0; i < ans.size(); i++){\n      maxMatryoshkaNum = max( maxMatryoshkaNum, ans[i] );\n    }\n    cout << maxMatryoshkaNum << '\\n';\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mk make_pair\n#define f first\n#define s second\nusing namespace std;\nint n,m,p1,p2,dp[201][1001][1001];\nunordered_map<pair<int,pair<int,int> >,int >m1;\n\nvector<pair<int,int> >v;\n\nint dfs(int d,int h,int w){\n  int res=0;\n  if(m1[mk(d,mk(h,w))])return m1[mk(d,mk(h,w))];\n  if(d==v.size()) return 0;\n  if(v[d].f<h&&v[d].s<w)\n    res=max(res,dfs(d+1,v[d].f,v[d].s))+1;\n  res=max(res,dfs(d+1,h,w));\n  return m1[mk(d,mk(h,w))]=res;\n}\n\nmain(){\n  while(cin>>n,n){\n    m1.clear();\n    v.clear();\n    for(int i=0;i<n;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<v.size();i++)swap(v[i].f,v[i].s);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    cout<<dfs(0,1001,1001)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvector< pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(cin>>n && n){\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=0;j<i;j++){\n        if(doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n    memset(dp,0,sizeof(dp));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\ntypedef pair<int, int> P;\n\nconst int MAX_N = 1001;\nint dp[MAX_N];\n//int h[MAX_N * 2], r[MAX_N * 2];\nvector<P> vec;\n// ???????????????\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\t\n\tint n;\n\twhile(cin >> n && n != 0){\n\tcin >> n;\n\t\n\tfor(int i = 0; i < n; ++i){\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tvec.push_back(P(h, r));\n\t\t//cin >> h[i] >> r[i];\n\t}\n\t\n\tint m;\n\tcin >> m;\n\t\n\tfor(int i = n; i < n + m; ++i){\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tvec.push_back(P(h, r));\n\t\t//cin >> h[i] >> r[i];\n\t}\n\t\n\tsort(vec.begin(), vec.end());\n\t\n\tfor(int i = 0; i < n + m; ++i){\n\t\t//cout << vec[i].first << \" \" << vec[i].second << endl;\n\t\tdp[i] = 1;\n\t}\n\t\n\tint ans = 0;\n\tfor(int i = 0; i < n + m; ++i){\n\t\tfor(int j = 0; j < n + m; ++j){\n\t\t\tif(vec[i].first > vec[j].first && vec[i].second > vec[j].second){\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, dp[i]);\n\t\t}\n\t}\n\t\n\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n\ntypedef pair<int,int> P;\nconst int MAX = 201;\nint data[MAX];\n\nint main(){\n  int n,m;\n  while(cin >> n && n){\n    P p;\n    vector<P> V;\n    fill(data,data+MAX,0);\n    V.push_back(P(-1,-1));\n    for(int i = 0; i < n; i++){\n      cin >> p.first >> p.second;\n      V.push_back(p);\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> p.first >> p.second;\n      V.push_back(p);\n    }\n    sort(V.begin(),V.end());\n\n    for(int i = 1; i < V.size(); i++)\n      for(int j = 0; j < i; j++)\n\tif(V[i].first > V[j].first && V[i].second > V[j].second)\n\t  data[i] = max(data[j]+1,data[i]);\n\n    int out = 0;\n    for(int i = 0; i < MAX; i++) out = max(out,data[i]);\n    cout << out << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 114514810;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nvector<P> v;\nint n, m;\nshort dp[201][1001][1001];\n\nint solve(int i, int h, int r)\n{\n\tif (i == v.size()) return 0;\n\tif (dp[i][h][r] >= 0) return dp[i][h][r];\n\tint res;\n\tif (v[i].first > h&&v[i].second > r)\n\t{\n\t\tres = max(solve(i + 1, h, r), solve(i + 1, v[i].first, v[i].second) + 1);\n\t}\n\telse res = solve(i + 1, h, r);\n\treturn dp[i][h][r] = res;\n}\n\nint main()\n{\n\twhile (cin >> n, n)\n\t{\n\t\tv.clear();\n\t\tMS(dp, -1);\n\t\tREP(i, n)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tcin >> m;\n\t\tREP(i, m)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tsort(ALL(v));\n\t\tcout << solve(0, 0, 0) << endl;\n\t}\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n#include <bitset>\n#include <queue>\n#include <stack>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cctype>\nusing namespace std;\n \n#define rep(i,n) for(int i=0; i<n; i++)\n#define repa(i,s,e) for(int i=s; i<=e; i++)\n \ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef long long ll;\n\nint n, m, h, r;\nvector<pii> v;\nint dp[201];\n\nvoid solve() {\n\tsort(v.begin(), v.end());\n\n\tfill(dp, dp+201, 1);\n\tint l = v.size();\n\n\trep(i,l) {\n\t\trepa(j,i+1,l-1) {\n\t\t\tif(v[i].second < v[j].second) {\n\t\t\t\tdp[j] = max(dp[j], dp[i]+1);\n\t\t\t}\n\t\t}\n\t}\n\n\tint maxval = 0;\n\trep(i,l) {\n\t\tmaxval = max(maxval, dp[i]);\n\t}\n\tcout << maxval << endl;\n}\n\nint main() {\n\twhile(cin>>n,n) {\n\t\tv.clear();\n\t\trep(i,n) {\n\t\t\tcin>>h>>r;\n\t\t\tv.push_back(pii(h,r));\n\t\t}\n\t\tcin>>m;\n\t\trep(i,m) {\n\t\t\tcin>>h>>r;\n\t\t\tv.push_back(pii(h,r));\n\t\t}\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define repb(i,a,b) for(int i=a;i>=b;i--)\n#define all(a) a.begin(),a.end()\n#define o(a) cout<<a<<endl\n#define pb(a) push_back(a)\n#define int long long\n#define fi first\n#define se second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n \nint dp[1010][1010];\nint n, m, h, r;\n \nsigned main(){\n    while (cin >> n && n) {\n        rep(i, 0, 1010) {\n            rep(j, 0, 1010) {\n                dp[i][j] = 0;\n            }\n        }\n        vector<pii> doll;\n        rep(i, 0, n) {\n            cin >> h >> r;\n            doll.push_back(make_pair(h, r));\n        }\n        cin >> m;\n        rep(i, 0, m) {\n            cin >> h >> r;\n            doll.push_back(make_pair(h, r));\n        }\n        sort(all(doll));\n        rep(i, 0, n + m + 1) {\n            rep(j, 1, 1010) {\n                if (doll[i].se == j) {\n                    dp[i + 1][j] = dp[i][j - 1] + 1;\n                }\n                else {\n                    dp[i + 1][j] = max(dp[i][j], dp[i + 1][j - 1]);\n                }\n            }\n        }\n        cout << dp[n + m + 1][1001] << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,m,h,r;\n\tvector<P> mat;\n\tvector<int> l;\n\twhile(cin >> n,n){\n\t\tfor(int i = 0;i < n;i++) {\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = n;i < n + m;i++){\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tsort(mat.begin(),mat.end());\n\t\tfor(int i = n + m - 1;i > 0;i--){\n\t\t\tif(mat[i].first == mat[i - 1].first) mat.erase(mat.begin() + i);\n\t\t}\n\t\tfor(int i = 0;i < n + m;i++){\n\t\t\tif(l.empty()) l.push_back(mat[i].second);\n\t\t\telse{\n\t\t\t\tif(l.back() < mat[i].second) l.push_back(mat[i].second);\n\t\t\t\telse l[lower_bound(l.begin(),l.end(),mat[i].second) - l.begin()] = mat[i].second;\n\t\t\t}\n\t\t}\n\t\tcout << l.size() << endl;\n\t\tl.clear();\n\t\tmat.clear();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n,m;\n\ntypedef pair<int,int> P;\n\nint calc(P d[1000],int c)\n{\n\tint res = 0;\n\tP now = P(0,0);\n\tfor(int i = 0; i < 1000; i++){\n\t\tif(d[i].first > now.first && d[i].second > now.second){\n\t\t\tres++;\n\t\t\tnow = d[i];\n\t\t}\n\t}\n\treturn res;\n}\n\nvoid solve()\n{\n\tP Rs[1000] = {},Hs[1000] = {};\n\tP in;\n\tint c = 0;\n\n\tfor(int i = 0; i < n; i++,c++){\n\t\tcin >> in.first >> in.second;\n\t\tRs[c] = in;\n\t\tswap(in.first, in.second);\n\t\tHs[c] = in;\n\t}\n\tcin >> m;\n\tfor(int j = 0; j < m; j++,c++){\n\t\tcin >> in.first >> in.second;\n\t\tRs[c] = in;\n\t\tswap(in.first, in.second);\n\t\tHs[c] = in;\n\t}\n\tsort(Rs,Rs+c);\n\tsort(Hs,Hs+c);\n\n\tint res = calc(Rs,c);\n\tres = max(res, calc(Hs,c));\n\tcout << res << endl;\n}\n\n\nint main(void)\n{\n\twhile(cin >> n, n){\n\t\tsolve();\n\t}\n\treturn 0;\n}\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n  \n  int N;\n  while(cin >> N && N) {\n    \n    vector<pair<int, int> > v1, v2;\n    \n    for(int i=0; i<N; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n      v2.push_back(make_pair(r, h));\n    }\n\n    int M; cin >> M;\n    \n    for(int i=0; i<M; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n      v2.push_back(make_pair(r, h));\n    }\n    \n    sort(v1.begin(), v1.end());\n    sort(v2.begin(), v2.end());\n    \n    int size = N+M;\n    int dp1[size];\n    int ans = 1;\n    for(int i=0; i<size; i++) {\n      dp1[i] = 1;\n      for(int j=0; j<i; j++)\n        if(v1[i].first > v1[j].second &&\n           v1[i].second > v1[j].second) { dp1[i] = max(dp1[i], dp1[j]+1); }\n      ans = max(ans, dp1[i]);\n    }\n    \n    cout << ans << endl;\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define P pair<int,int>\nusing namespace std;\n\nP a[200];\nint b;\nint memo[200];\nint saiki(int c){\n\tif(memo[c]!=-1)return memo[c];\n\tint MAX=1;\n\tfor(int i=0;i<b;i++){\n\t\tif(a[i].first<a[c].first&&a[i].second<a[c].second){MAX=max(MAX,saiki(i)+1);}\n\t\t}\n\t\treturn memo[c]=MAX;\n\t}\nsigned main(){\n\tint c;\n\twhile(cin>>c,c){\n\t\tmemset(memo,-1,sizeof(memo));\n\tfor(int d=0;d<c;d++){\n\t\tscanf(\"%d%d\",&a[d].first,&a[d].second);\n\t\t}\n\t\tb=c;cin>>c;\n\t\tfor(int d=0;d<c;d++){\n\t\tscanf(\"%d%d\",&a[b+d].first,&a[b+d].second);\n\t\t}\n\tb+=c;\n\tint k=0;\n\tfor(int i=0;i<b;i++){\n\t\tk=max(k,saiki(i));\n\t\t}\n\t\tcout<<k<<endl;\n\t}\n\t}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<math.h>\n#include<stdlib.h>\n#include<cstdlib>\nusing namespace std;\n\nstruct ppp {\n  int h;\n  int r;\n};\n\nint tansaku(vector<ppp> c, vector<ppp> d, int cN, int dN, int ans, int cy, int dy) {\n  if(dN >= d.size()) {\n    for(int i = cN; i < c.size(); i++) {\n      cout << dy << endl;\n      if(d[dy].r < c[i].r && d[dy].h < c[i].h) {\n        ans++;\n        d[dy] = c[i];\n      }\n    }\n    return ans;\n  }\n  if(cN >= c.size()) {\n    for(int i = dN; i < d.size(); i++) {\n      if(d[i].r > c[cy].r && d[i].h > c[cy].h) {\n        ans++;\n        c[cy] = d[i];\n      }\n    }\n    return ans;\n  }\n  if(c[cN].h == d[dN].h) {\n    return c[cN].r > d[dN].r ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].r == d[dN].r) {\n    return c[cN].h > d[dN].h ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].h < d[dN].h && c[cN].r < d[dN].r) {\n    return tansaku(c, d, cN + 1, dN, ans + 1, cN, dy);\n  }\n  if(c[cN].h > d[dN].h && c[cN].r > d[dN].r) {\n    return tansaku(c, d, cN, dN + 1, ans + 1, cy, dN);\n  }\n  if((c[cN].h < d[dN].h && c[cN].r > d[dN].r) || (c[cN].h > d[dN].h && c[cN].r < d[dN].r)) {\n    return max(tansaku(c, d, cN + 1, dN, ans + 1, cN, dy), tansaku(c, d, cN, dN + 1, ans + 1, cy, dN));\n  }\n  return ans;\n}\n\nint main() {\n  int a, b;\n  cin >> a;\n  vector<ppp> c(a);\n  for(int i = 0; i < a; i++) {\n    cin >> c[i].h >> c[i].r;\n  }\n  cin >> b;\n  vector<ppp> d(b);\n  for(int i = 0; i < b; i++) {\n    cin >> d[i].h >> d[i].r;\n  }\n  cout << tansaku(c, d, 0, 0, 0, 0, 0) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define F first\n#define S second\nint n, m, ans;\npair<int, int> doll[200];\nint dp[1000][1000];\nint main()\n{\n\twhile(cin >> n && n)\n\t{\n\t\tmemset(dp, -1, sizeof(dp));\n\t\tans = 0;\n\t\tdp[0][0] = 0;\n\t\tfor(int i = 0; i < n; i++)\n\t\t\tcin >> doll[i].F >> doll[i].S;\n\t\tcin >> m;\n\t\tfor(int i = n; i < n + m; i++)\n\t\t\tcin >> doll[i].F >> doll[i].S;\n\t\tsort(doll, doll + n + m);\n\t\tfor(int i = 0; i < n + m; i++)\n\t\t\tfor(int j = 0; j < doll[i].F; j++)\n\t\t\t\tfor(int k = 0; k < doll[i].S; k++)\n\t\t\t\t\tdp[doll[i].F][doll[i].S] = max(dp[doll[i].F][doll[i].S], dp[j][k] + 1);\n\n\t\tfor(int i = 0; i < 1000; i++)\n\t\t\tfor(int j = 0; j < 1000; j++)\n\t\t\t\tans = max(ans, dp[i][j]);\n\t\t\tcout << ans << endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\nusing namespace std;\n\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\ntypedef vector<string> VS;\ntypedef int INT;\ntypedef vector<INT> VI;\ntypedef vector<VI> VVI;\ntypedef pair <INT, INT> II;\ntypedef vector <II> VII;\n\ntemplate<class T> ostream& operator << ( ostream& os, vector<T> v ) {\n    for ( typename vector<T>::iterator it_i = v.begin(); it_i != v.end(); ++it_i ) {\n        os << *it_i << \", \";\n    }\n    return os;\n}\n\n\nconst int SIZE = 201;\nconst int NONE = -1;\n\nint H[SIZE];\nint R[SIZE];\nint N;\nint dp[1002][1002];\n\nint solve( int hh, int rr ) {\n    int& res = dp[hh][rr];\n    if ( res != NONE ) return res;\n    int maxd = 0;\n    for ( int i = 0; i < N; ++ i ) {\n        if ( H[i] < hh && R[i] < rr ) {\n            maxd = max( maxd, 1 + solve( H[i], R[i] ) );\n        }\n    }\n    return res = maxd;\n}\n\nint main() {\n    int n, m;\n    while ( cin >> n && n ) {\n        for ( int i = 0; i < 1002; ++ i ) {\n            for ( int j = 0; j < 1002; ++ j ) {\n                dp[i][j] = NONE;\n            }\n        }\n        for ( int i = 0; i < n; ++ i ) {\n            cin >> H[i] >> R[i];\n        }\n        cin >> m;\n        for ( int i = n; i < n+m; ++ i ) {\n            cin >> H[i] >> R[i];\n        }\n        N = n + m;\n        cout << solve( 1001, 1001 ) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Doll{\npublic:\n    int h;\n    int r;\n    int have;\n    // static bool Less(const Doll& l, const Doll& r){\n    // \treturn l.h < r.h;\n    // }\n    bool operator < (const Doll &d) const{\n\tif( r == d.r ) return h < d.h;\n\telse return r < d.r;\n    }\n    Doll(int x, int y, int z){\n\th = x; r = y; have = z;\n    }\n};\n\ntypedef vector<Doll> Dolls;\n\nint main(){\n    int n, m, h, r, result=0;\n    Dolls dolls;\n    while(cin >> n, n){\n\tfor(int i=0; i<n; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tcin >> m;\n\tfor(int i=0; i<m; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n//\tsort(dolls.begin(), dolls.end(), Doll::Less);\n\tsort(dolls.begin(), dolls.end());\n\tfor(Dolls::iterator it1=dolls.begin();it1 != dolls.end(); ++it1){\n\t    for(Dolls::iterator it2=dolls.begin();it2 != it1; ++it2){\n\t\tif(it2->h < it1->h && it2->r < it1->r && it1->have <= it2->have){\n\t\t    it1->have = it2->have + 1;\n//\t\t    result = max(result, it1->have);\n\t\t}\n\t    }\n\t}\n\tfor(Dolls::iterator it=dolls.begin();it != dolls.end(); ++it)\n\t    result = max(result, it->have);\n\tcout << result << endl;\n\tdolls.clear();\n\tresult = 0;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define pb push_back\n#define mk make_pair\ntypedef vector<pair<int, int> > vec;\n\nint main(){\n\tint n;\n\twhile( cin >> n, n ){\n\t\tvec doll;\n\t\tfor( int i = 0; i < n; i++ ){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdoll.pb(mk(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; i++ ){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdoll.pb(mk(h, r));\n\t\t}\n\t\tsort(doll.begin(), doll.end());\n\t\tvector<int> dp(n+m, 1);\n\t\tint ans = 1;\n\t\tfor( int i = 0; i < n+m; i++ ){\n\t\t\tfor( int j = i; j < n+m; j++ ){\n\t\t\t\tif( doll[i].first < doll[j].first && doll[i].second < doll[j].second ){\n\t\t\t\t\tdp[j] = max(dp[j], dp[i]+1);\n\t\t\t\t}\n\t\t\t\tif( ans < dp[j] ) ans = dp[j];\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n,m;\n\ntypedef pair<int,int> p1;\ntypedef pair<int,p1> P;\n\nint calc(P d[1000],int c)\n{\n\tint res = 0;\n\tint ok = 0;\n\tP now = P(0,p1(0,0));\n\tfor(int i = 0; i < 1000; i++){\n\t\tif(d[i].second.first > now.second.first && d[i].second.second > now.second.second){\n\t\t\tres++;\n\t\t\tnow = d[i];\n\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvoid solve()\n{\n\tP Rs[1000] = {},Hs[1000] = {};\n\tP in;\n\tint c = 0;\n\n\tfor(int i = 0; i < n; i++,c++){\n\t\tcin >> in.second.first >> in.second.second;\n\t\tin.first = (in.second.first-in.second.second) & ~(65536);\n\t\tRs[c] = in;\n\t\tswap(in.second.first, in.second.second);\n\t\tHs[c] = in;\n\t}\n\tcin >> m;\n\tfor(int j = 0; j < m; j++,c++){\n\t\tcin >> in.second.first >> in.second.second;\n\t\tin.first = (in.second.first-in.second.second) & ~(65536);\n\t\tRs[c] = in;\n\t\tswap(in.second.first, in.second.second);\n\t\tHs[c] = in;\n\t}\n\tsort(Rs,Rs+c);\n\tsort(Hs,Hs+c);\n\n\tint res = calc(Rs,c);\n\tres = max(res, calc(Hs,c));\n\n\tfor(int i = 0; i < 1000; i++){\n\t\tRs[i].first = 0;\n\t}\n\n\tfor(int i = 0; i < 1000; i++){\n\t\tHs[i].first = 0;\n\t}\n\tsort(Rs,Rs+c);\n\tsort(Hs,Hs+c);\n\n\tres = max(res, calc(Rs,c));\n\tres = max(res, calc(Hs,c));\n\n\tcout << res << endl;\n}\n\n\nint main(void)\n{\n\twhile(cin >> n, n){\n\t\tsolve();\n\t}\n\treturn 0;\n}\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct D{int h, r;};\n\nbool ascendDr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascendDh(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[200];\n  D dolls[200];\n  while(cin >> n){\n    if(n == 0) break;\n\n    for(int i = 0; i < n; i++) cin >> dolls[i].h >> dolls[i].r;\n    cin >> m;\n    for(int i = 0; i < m; i++) cin >> dolls[n+i].h >> dolls[n+i].r;\n\n    int lis_r = 0, lis_h = 0;\n    sort(dolls, dolls + n + m, ascendDr);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(dolls, dolls + n + m, ascendDh);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string.h>\n#include <algorithm>\n\n#define NM 210\n\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\n\nint dp[NM];\n\nint main(void)\n{\n\tint n,m;\n\tint h,r;\n\tint i1,i2;\n\tint max;\n\n\twhile(1){\n\t\tcin>>n;\n\t\tif(n==0) break;\n\n\t\tvector<pair<int,int> > doll;\n\t\tmemset(dp,0,sizeof(dp));\n\n\t\tfor(i1=0;i1<n;i1++){\n\t\t\tcin>>h>>r;\n\t\t\tdoll.pb(mp(h,r));\n\t\t}\n\t\tcin>>m;\n\t\tfor(i1=0;i1<m;i1++){\n\t\t\tcin>>h>>r;\n\t\t\tdoll.pb(mp(h,r));\n\t\t}\n\n\t\tsort(doll.begin(), doll.end());\n\n\t\tdp[0]=1;\n\t\tfor(i1=1;i1<doll.size();i1++){\n\t\t\tfor(i2=0;i2<=i1;i2++){\n\t\t\t\tif(doll[i1].first==doll[i2].first || doll[i1].second<=doll[i2].second) {\n\t\t\t\t\t//cout<<doll[i1].first<<\" \"<<doll[i1].second<<\"   \";\n\t\t\t\t\t//cout<<doll[i2].first<<\" \"<<doll[i2].second<<endl;\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[i1]=dp[i2-1]+1;\n\t\t}\n\n\t\tmax=0;\n\t\tfor(i1=0;i1<n+m;i1++){\n\t\t\tif(max<dp[i1]) max=dp[i1];\n\t\t}\n\n\t\tcout<<max<<endl;\n\t}\n\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\nconstexpr int MOD = 1000000007;\nconstexpr int INF = 2000000000;\nusing namespace std;\n\n\nint main() {\n\tint N, M;\n\tint dp[300];\n\twhile (cin >> N&&N != 0) {\n\t\tvector<pair<int, int>>n;\n\t\tint a, b;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> a >> b;\n\t\t\tn.emplace_back(a, b);\n\t\t}\n\t\tcin >> M;\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tcin >> a >> b;\n\t\t\tn.emplace_back(a, b);\n\t\t}\n\t\tsort(n.begin(), n.end());\n\t\tfill(dp, dp + N + M, 1);\n\t\tfor (int i = 1; i < N + M; i++) {\n\t\t\tfor (int j = i - 1; j >= 0; j--) {\n\t\t\t\tif (n[i].first > n[j].first&&n[i].second > n[j].second) {\n\t\t\t\t\tdp[i] = max(dp[j] + 1, dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N + M; i++)ans = max(ans, dp[i]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n#include <vector>\n#include <algorithm>\n#include <vector>\n#include <limits>\n\nconstexpr auto INF = std::numeric_limits<int>::max();\n\nusing Pair = std::pair<int, int>;\n\nint n, m;\nPair size[210];\nint dp[210];\n\nint main() {\n    while(std::cin >> n, n) {\n        for(int i = 0; i < n; ++i) {\n            std::cin >> size[i].first >> size[i].second;\n\n            size[i].second *= -1;\n        }\n        std::cin >> m;\n        for(int i = 0; i < m; ++i) {\n            std::cin >> size[n + i].first >> size[n + i].second;\n\n            size[n + i].second *= -1;\n        }\n\n        std::sort(size, size + n + m);\n        std::fill(dp, dp + 210, INF);\n\n        int max = 0;\n        for(int i = 0; i < n + m; ++i) {\n            size[i].second *= -1;\n\n            auto p = std::lower_bound(dp, dp + 210, size[i].second);\n\n            *p = size[i].second;\n\n            max = std::max<int>(max, p - dp);\n        }\n\n        std::cout << max + 1 << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\twhile(true){\n\t\tP dool[200];//高さ　半径\n\t\tstd::cin>>ichiro;\n\t\tif(!ichiro){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<ichiro;i++){\n\t\t\tstd::cin>>dool[i].first>>dool[i].second;\n\t\t}\n\t\tstd::cin>>jiro;\n\t\tfor(int i=0;i<jiro;i++){\n\t\t\tstd::cin>>dool[i+ichiro].first>>dool[i+ichiro].second;\n\t\t}\n\t\tstd::sort(dool,dool+ichiro+jiro);\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\t\tfor(int i=1;i<ichiro+jiro;i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tdp[i]=std::max(dp[i],dp[j]+(dool[i].second>dool[j].second));\n\t\t\t}\n\t\t\tM=std::max(M,dp[i]);\n\t\t}\n\t\tstd::cout<<M<<std::endl;\n\t\tM=0;\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=0;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <utility>\n#include <algorithm>\nusing namespace std;\n#define rep2(x,from,to) for(int x=(from);x<(to);++(x))\n#define rep(x,to) rep2(x,0,to)\n#define pint pair<int, int>\nint main(){\n\tint n, m;\n\twhile(cin >> n, n) {\n\t\tpint p[200];\n\t\trep(i,n) {\n\t\t\tcin >> p[i].first >> p[i].second;\n\t\t}\n\t\tcin >> m;\n\t\trep(i,m) {\n\t\t\tcin >> p[n+i].first >> p[n+i].second;\n\t\t}\n\t\tsort(p,p+m+n);\n\t\tint dp[200], ret = 0;\n\t\trep(i,200) dp[i] = 1;\n\t\trep2(i,1,m+n) {\n\t\t\trep(j,i) {\n\t\t\t\tif(p[j].first < p[i].first && p[j].second < p[i].second) {\n\t\t\t\t\tdp[i] = max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tret = max(ret,dp[i]);\n\t\t}\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n, m;\n    while(cin >> n, n){\n        vector<pair<int, int> > v;\n        for(int i=0; i< n; i++){\n            int h, r;\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        cin >> m;\n        for(int i=0; i< m; i++){\n            int h, r;\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        sort(v.begin(), v.end());\n        int count = 0;\n        int dp[200] = {};\n        for(int i=0; i < v.size(); i++){\n            for(int j=0; j < i; j++){\n                if(v[j].first < v[i].first && v[j].second < v[i].second){\n                    dp[i] = max(dp[i], dp[j]+1);\n                }\n            }\n            count = max(dp[i], count);\n        }\n        cout << count+1 << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX_N 1000\nint x[MAX_N], y[MAX_N], X[MAX_N][MAX_N], dist[MAX_N];\nint A, B, N;\nint main() {\n\twhile (true) {\n\t\tcin >> A; if (A == 0) { break; } for (int i = 0; i < A; i++) { cin >> x[i] >> y[i]; }\n\t\tcin >> B; for (int i = A; i < A + B; i++) { cin >> x[i] >> y[i]; }N = A + B;\n\t\tfor (int i = 0; i < N; i++) { for (int j = 0; j < N; j++) { if (x[i] < x[j] && y[i] < y[j]) { X[i][j] = 1; } } }\n\t\tqueue<int>Q; int res = 0; for (int i = 0; i < N; i++) { dist[i] = 0; Q.push(i); }\n\t\twhile (!Q.empty()) {\n\t\t\tint a1 = Q.front(); Q.pop();\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tif (X[a1][i] == 1 && dist[a1] + 1 > dist[i]) { dist[i] = dist[a1] + 1; Q.push(i); }\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < N; i++) { if (res < dist[i]) { res = dist[i]; } }cout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//28\n#include<iostream>\n#include<utility>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint main(){\n  for(int n;cin>>n,n;){\n    vector<pair<int,int> > v;\n    for(int i=0;i<n;i++){\n      pair<int,int> p;\n      cin>>p.first>>p.second;\n      v.push_back(p);\n    }\n    int m;\n    cin>>m;\n    for(int i=0;i<m;i++){\n      pair<int,int> p;\n      cin>>p.first>>p.second;\n      v.push_back(p);\n    }\n    sort(v.begin(),v.end());\n    int ans=0;\n    int ma[200];\n    fill_n(ma,200,1<<30);\n    for(int i=0;i<v.size();i++){\n      int c=lower_bound(ma,ma+200,v[i].second)-ma;\n      ans=max(ans,c);\n      ma[c]=v[i].second;\n    }\n    cout<<ans+1<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//28\n#include<iostream>\n#include<utility>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nbool cmp(pair<int,int> a,pair<int,int> b){\n  if(a.first!=b.first){\n    return a.first<b.first;\n  }else{\n    return a.second>b.second;\n  }\n}\n\nint main(){\n  for(int n;cin>>n,n;){\n    vector<pair<int,int> > v;\n    for(int i=0;i<n;i++){\n      pair<int,int> p;\n      cin>>p.first>>p.second;\n      v.push_back(p);\n    }\n    int m;\n    cin>>m;\n    for(int i=0;i<m;i++){\n      pair<int,int> p;\n      cin>>p.first>>p.second;\n      v.push_back(p);\n    }\n    sort(v.begin(),v.end(),cmp);\n    int ans=0;\n    int ma[200];\n    fill_n(ma,200,1<<30);\n    for(int i=0;i<v.size();i++){\n      int c=lower_bound(ma,ma+200,v[i].second)-ma;\n      ans=max(ans,c);\n      ma[c]=v[i].second;\n    }\n    cout<<ans+1<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <numeric>\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<((x))<<endl\n#define fi first\n#define se second\n\n#define INF 2147483600\n#define long long long\n\nbool sorter(const pair<int, int> p1, const pair<int, int> p2){\n  if(p1.fi == p2.fi) return p1.se > p2.se;\n  else return p1.fi < p2.fi;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    vector<pair<int, int> > vec(n);\n    rep(i,n) scanf(\"%d %d\", &vec[i].fi, &vec[i].se);\n    int m;\n    cin>>m;\n    vec.resize(n+m);\n    repl(i,n,n+m) scanf(\"%d %d\", &vec[i].fi, &vec[i].se);\n    sort(all(vec), sorter);\n    vector<int> lis(n+m, INF);\n    rep(i,n+m){\n      int idx = lower_bound(all(lis), vec[i].se) - lis.begin();\n      lis[idx] = vec[i].se;\n    }\n    cout << lower_bound(all(lis), INF) - lis.begin() << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nconst int MAX = 201;\n\ntypedef struct{\n  int h;\n  int r;\n}DOLL;\n\nint dp[MAX];\nDOLL data[MAX];\nint m,n;\n\nvoid Dsort(){\n  for(int i = 0; i < m+n-1; i++){\n    for(int j = i; j < m+n; j++){\n      if(data[i].r > data[j].r && data[i].h > data[j].h){\n\tDOLL tmp  = data[i];\n\tdata[i] = data[j];\n\tdata[j] = tmp;\n      }\n    }\n  }\n}\n\nint solve(){\n  dp[1] = 1;\n  DOLL now;\n  now.r = data[0].r;\n  now.h = data[0].h;\n  int out = 1;\n  for(int i = 2; i < m+n; i++){\n    if(data[i].h > now.h && data[i].r > now.r){\n      dp[i] = dp[i-1]+1;\n      now = data[i];\n    }else dp[i] = dp[i-1];\n    out = max(out,dp[i]);\n  }\n  return out+1;\n}\n\n\nint main(){\n\n  while(cin >> n && n){\n    for(int i = 0; i < n; i++) cin >> data[i].h >> data[i].r;\n    cin >> m;\n    for(int i = n; i < m+n; i++) cin >> data[i].h >> data[i].r;\n    Dsort();\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n,m;\n  while(true){\n      cin>>n;\n      if(n==0) break;\n      std::vector<P> v;\n      for(int i=0;i<n;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      cin>>m;\n      for(int i=0;i<m;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      sort(v.begin(),v.end());\n      int res=0,hmin=-1,rmin=-1;\n      for(int i=0;i<(int)v.size();i++){\n          int h=v[i].first,r=v[i].second;\n          if(hmin<h&&rmin<r){\n              rmin=r;hmin=h;\n              res++;\n          }\n      }\n      cout<<res<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int\t\t\t\tlong long\n#define FOR( i, m, n )\tfor( int (i) = (m); (i) < (n); (i)++ )\n#define REP( i, n )\t\tFOR( i, 0, n )\n#define REPR( i, m )\tfor( int (i) = (m); (i) >= 0; (i)-- )\n#define REPONE( i, n )\tFOR( i, 1, n + 1 )\n#define ALL( a )\t\t(a).begin(), (a).end()\n#define MP\t\t\t\tmake_pair\n\ntypedef pair<int, int> P;\n\ntemplate<class T>bool chmax( T& a, const T& b ) { if( a < b ) { a = b; return 1; } return 0; }\ntemplate<class T>bool chmin( T& a, const T& b ) { if( a > b ) { a = b; return 1; } return 0; }\n\nconst int INF = 1e9;\nconst int MOD = 1e9 + 7;\n\nsigned main() {\n\tint N, M;\n\twhile( cin >> N, N ) {\n\t\tP mato[300] = {};\n\t\tint dp[300] = {};\n\n\t\tint cnt = 0;\n\t\tREP( i, N ) {\n\t\t\tcin >> mato[cnt].first >> mato[cnt].second;\n\t\t\tcnt++;\n\t\t}\n\t\tcin >> M;\n\t\tREP( i, M ) {\n\t\t\tcin >> mato[cnt].first >> mato[cnt].second;\n\t\t\tcnt++;\n\t\t}\n\n\t\tsort( mato, mato + 300, greater<>() );\n\n\t\tREP( i, N + M ) {\n\t\t\tdp[i] = 1;\n\t\t\tREP( j, i ) {\n\t\t\t\tif( mato[j].first > mato[i].first && mato[j].second > mato[i].second ) {\n\t\t\t\t\tchmax( dp[i], dp[j] + 1 );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[N + M -1] << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\nint dp[200] = {0};\nint h[200] , r[200];\nint n,m;\n\nint main(){\n\twhile(cin >> n , n){\n\t\trep(i,n)cin >> h[i] >> r[i];\n\t\tcin >> m;\n\t\trep(i,m)cin >> h[n+i] >> r[n+i];\n\t\tint ans = 0;\n\t\trep(i,200)dp[i] = 1;\n\t\trep(x,n+m){\n\t\t\trep(i,n+m)rep(j,n+m){\n\t\t\t\tif(h[j] < h[i] && r[j] < r[i]){\n\t\t\t\t\tdp[i] = max(dp[j]+1,dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << *max_element(dp,dp+n+m) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <vector>\n#include <list>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\nusing namespace std;\n\ntypedef vector <int> VI;\ntypedef pair <int, int> PII;\ntypedef vector <PII> VPII;\n\ndouble get_dist( PII a ) {\n    double x = a.first * a.first;\n    double y = a.second * a.second;\n    return sqrt( x + y );\n}\n\nbool check( PII a, PII b, PII c ) {\n    double da = get_dist( a );\n    double db = get_dist( b );\n    double dc = get_dist( c );\n    bool f1 = a.first < b.first && b.first < c.first;\n    bool f2 = a.second < b.second && b.second < c.second;\n    bool f3 = da < db && db < dc;\n    return f1 && f2 && f3;\n}\n\nint solve( VPII A, VPII B ) {\n    int n = A.size();\n    int m = B.size();\n    int answer = n;\n\n    if ( A[n-1].first < B[0].first && A[n-1].second < B[0].second ) {\n        return n + m;\n    }\n\n    bool used[101];\n    for ( int i = 0; i < m; ++ i ) {\n        used[i] = false;\n    }\n\n    for ( int i = 0; i + 1 < n; ++ i ) {\n        double mind = INT_MAX;\n        int mini = -1;\n        for ( int j = 0; j < m; ++ j ) {\n            if ( used[j] ) continue;\n            if ( ! check( A[i], B[j], A[i+1] ) ) continue;\n            double d = get_dist( B[j] );\n            if ( d < mind ) {\n                mind = d;\n                mini = j;\n            }\n        }\n        if ( mini != -1 ) {\n            used[mini] = true;\n            answer ++;\n        }\n    }\n\n    return answer;\n}\n\nint main() {\n    int n, m;\n    while ( cin >> n && n ) {\n        VPII A( n );\n        for ( int i = 0; i < n; ++ i ) {\n            cin >> A[i].first >> A[i].second;\n        }\n        cin >> m;\n        VPII B( m );\n        for ( int i = 0; i < m; ++ i ) {\n            cin >> B[i].first >> B[i].second;\n        }\n        cout << max( solve( A, B ), solve( B, A ) ) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 114514810;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nvector<P> v;\nint n, m;\nint dp[201][1001];\n\nint solve(int i, int r)\n{\n\tif (i == v.size()) return 0;\n\tif (dp[i][r] >= 0) return dp[i][r];\n\tint res;\n\tif (v[i].second > r)\n\t{\n\t\tres = max(solve(i + 1, r), solve(i + 1, v[i].second) + 1);\n\t}\n\telse res = solve(i + 1, r);\n\treturn dp[i][r] = res;\n}\n\nint main()\n{\n\twhile (cin >> n, n)\n\t{\n\t\tv.clear();\n\t\tMS(dp, -1);\n\t\tREP(i, n)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tcin >> m;\n\t\tREP(i, m)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tsort(ALL(v));\n\t\tcout << solve(0, 0) << endl;\n\t}\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\nusing namespace std;\n\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\ntypedef vector<string> VS;\ntypedef int INT;\ntypedef vector<INT> VI;\ntypedef vector<VI> VVI;\ntypedef pair <INT, INT> II;\ntypedef vector <II> VII;\n\ntemplate<class T> ostream& operator << ( ostream& os, vector<T> v ) {\n    for ( typename vector<T>::iterator it_i = v.begin(); it_i != v.end(); ++it_i ) {\n        os << *it_i << \", \";\n    }\n    return os;\n}\n\n\nconst int SIZE = 101;\nconst int NONE = -1;\n\nint H[SIZE];\nint R[SIZE];\nint N;\nint dp[1002][1002];\n\nint solve( int hh, int rr ) {\n    int& res = dp[hh][rr];\n    if ( res != NONE ) return res;\n    int maxd = 0;\n    for ( int i = 0; i < N; ++ i ) {\n        if ( H[i] < hh && R[i] < rr ) {\n            maxd = max( maxd, 1 + solve( H[i], R[i] ) );\n        }\n    }\n    return res = maxd;\n}\n\nint main() {\n    int n, m;\n    while ( cin >> n && n ) {\n        for ( int i = 0; i < 1002; ++ i ) {\n            for ( int j = 0; j < 1002; ++ j ) {\n                dp[i][j] = NONE;\n            }\n        }\n        for ( int i = 0; i < n; ++ i ) {\n            cin >> H[i] >> R[i];\n        }\n        cin >> m;\n        for ( int i = 0; i < m; ++ i ) {\n            cin >> H[n+i] >> R[n+i];\n        }\n        N = n + m;\n        cout << solve( 1001, 1001 ) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define repb(i,a,b) for(int i=a;i>=b;i--)\n#define all(a) a.begin(),a.end()\n#define o(a) cout<<a<<endl\n#define pb(a) push_back(a)\n#define int long long\n#define fi first\n#define se second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n \nint dp[1010][1010];\nint n, m, h, r;\n \nsigned main(){\n    while (cin >> n && n) {\n        rep(i, 0, 1010) {\n            rep(j, 0, 1010) {\n                dp[i][j] = 0;\n            }\n        }\n        vector<pii> doll;\n        rep(i, 0, n) {\n            cin >> h >> r;\n            doll.push_back(make_pair(h, r));\n        }\n        cin >> m;\n        rep(i, 0, m) {\n            cin >> h >> r;\n            doll.push_back(make_pair(h, r));\n        }\n        sort(all(doll));\n        rep(i, 0, n + m + 1) {\n            rep(j, 1, 1010) {\n                if (doll[i].se == j) {\n                    dp[i + 1][j] = dp[i][j - 1] + 1;\n                }\n                else {\n                    dp[i + 1][j] = max(dp[i][j], dp[i + 1][j - 1]);\n                }\n            }\n        }\n        cout << dp[n + m][1001] << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\tif(p1.first < p2.first) return true;\n\t\telse if(p1.second < p2.second) return true;\n\t\telse false;\n\t}\n};\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tint* dp = new int[n+m];\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(int i=0;i<n+m;i++) dp[i] = 1;\n\n\t\tfor(int i=0;i<dolls.size();i++){\n\t\t\tfor(int j=0;j<dolls.size();j++){\n\t\t\t\tif(dolls[j].first < dolls[i].first\n\t\t\t\t\t&& dolls[j].second < dolls[i].second){\n\t\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[dolls.size()-1] << endl;\n\t\tdelete[] dp;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n#include <iomanip>\n#include <iterator>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair<int,int> Pii;\ntypedef pair<ll,ll> Pll;\n \n#define FOR(i,n) for(int i = 0; i < (n); i++)\n#define sz(c) ((int)c.size())\n\ntypedef unsigned long long ull;\nconst int INF = (int)1e8;\n\nvector<int> cont(const vector<Pii>& r,const vector<Pii>& l){\n\tvector<int> ret((int)r.size());\n\tint r_i = 0, l_i = 0;\n\twhile(r_i < (int)r.size()){\n\t\twhile(l_i < (int)l.size() &&\n\t\t\t(r[r_i].first >= l[l_i].first || r[r_i].second >= l[l_i].second)){\n\t\t\t\tl_i++;\n\t\t}\n\t\tret[r_i] = l_i;\n\t\tr_i++;\n\t}\n\treturn ret;\n}\n\nint memo[1000][2];\n\nvector<int> v[2];\nint func(int val,int a){\n\tif(memo[val][a] != -1) return memo[val][a];\n\tif(val == sz(v[a])) return memo[val][a] = 0;\n\treturn memo[val][a] = max(func(val+1,a),func(v[a][val],a^1)) + 1;\n}\n\nint main(){\n\tint n,m;\n\twhile(cin>>n,n){\n\t\tmemset(memo,-1,sizeof(memo));\n\t\tvector<Pii> a(n);\n\t\tFOR(i,n) cin>>a[i].first>>a[i].second;\n\t\tcin>>m;\n\t\tvector<Pii> b(m);\n\t\tFOR(i,m) cin>>b[i].first>>b[i].second;\n\t\tv[0] = cont(a,b), v[1] = cont(b,a);\n\t\tint ans = max(func(0,0),func(0,1));\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n,m,h,r;\n\nint main(){\n\twhile(scanf(\"%d\",&n),n != 0){\n\t\tvector<pair<int,int> > v = vector<pair<int,int> >(n);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tscanf(\"%d%d\",&h,&r);\n\t\t\tv[i] = make_pair(h,r);\n\t\t}\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tscanf(\"%d%d\",&h,&r);\n\t\t\tv.push_back(make_pair(h,r));\n\t\t}\n\t\tsort(v.begin(),v.end());\n\t\tint ans = 1;\n\t\tpair<int,int> p = v[0];\n\t\tfor(int i = 1; i < n + m; i++){\n\t\t\tif(p.first < v[i].first && p.second < v[i].second){\n\t\t\t\tp = v[i];\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 114514810;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nvector<P> v;\nint n, m;\nint dp[201][1001][1001];\n\nint solve(int i, int h, int r)\n{\n\tif (i == v.size()) return 0;\n\tif (dp[i][h][r] >= 0) return dp[i][h][r];\n\tint res;\n\tif (v[i].first > h&&v[i].second > r)\n\t{\n\t\tres = max(solve(i + 1, h, r), solve(i + 1, v[i].first, v[i].second) + 1);\n\t}\n\telse res = solve(i + 1, h, r);\n\treturn dp[i][h][r] = res;\n}\n\nint main()\n{\n\twhile (cin >> n, n)\n\t{\n\t\tv.clear();\n\t\tMS(dp, -1);\n\t\tREP(i, n)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tcin >> m;\n\t\tREP(i, m)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, b));\n\t\t}\n\t\tsort(ALL(v));\n\t\tcout << solve(0, 0, 0) << endl;\n\t}\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\n\nint n,m;\nstatic int h[200], r[200];\nstatic int dp[200];\n\nint calc(int i) {\n  if(dp[i] == -1) {\n    dp[i] = 1;\n    for(int j = 0; j < n+m; j++) {\n      if(h[j] < h[i] && r[j] < r[i]) {\n        dp[i] = max(dp[i], calc(j)+1);\n      }\n    }\n  }\n  return dp[i];\n}\n\n\nint main() {\n  for(int tci = 0; ; tci++) {\n    scanf(\"%d\", &n); if(n==0) break;\n    for(int i = 0; i < n; i++) {\n      scanf(\"%d%d\", h+i, r+i);\n    }\n    scanf(\"%d\", &m);\n    for(int i = 0; i < m; i++) {\n      scanf(\"%d%d\", h+n+i, r+n+i);\n    }\n    fill(dp, dp+n+m, -1);\n    int mv = 0;\n    for(int i = 0; i < n+m; i++) {\n      mv = max(mv, calc(i));\n      // fprintf(stderr, \"%d / %d+%d : %d\\n\", i, n, m, calc(i));\n    }\n    printf(\"%d\\n\", mv);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main() {\n\tint n;\n\twhile ( cin >> n, n ) {\n\t\tvector<int> h(n), r(n);\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tcin >> h[i] >> r[i];\n\t\t}\n\t\tint M; cin >> M;\n\t\th.resize(n+M);\n\t\tr.resize(n+M);\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tcin >> h[n+i] >> r[n+i];\n\t\t}\n\t\tn += M;\n\n\t\tint m[200][200] = {0};\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tfor (int j = 0; j < n; ++j) {\n\t\t\t\tif (h[i] < h[j] && r[i] < r[j]) {\n\t\t\t\t\tm[i][j] = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int k = 0; k < n; ++k) for (int i = 0; i < n; ++i) for (int j = 0; j < n; ++j) {\n\t\t\tif (m[i][k] && m[k][j]) {\n\t\t\t\tm[i][j] = min(m[i][j], m[i][k] + m[k][j]);\n\t\t\t\tans = min(ans, m[i][j]);\n\t\t\t}\n\t\t}\n\t\tcout << (-ans + 1) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <cmath>\n#include <cstring>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define PI acos(-1)\n\nusing namespace std;\n\nstruct Mato\n{\n\tint x;\n\tint y;\n\n\tMato (int x = 0,int y = 0) : x(x), y(y) {}\n\tbool operator < (const Mato& a) const {\n\t\treturn x == a.x ? y < a.y : x < a.x;\n\t}\n\t\n};\n\nint main()\n{\n\tint n,m;\n\twhile(cin >> n && n)\n\t{\n\t\tvector<Mato> temp;\n\t\tint dp[1000];\n\t\tmemset(dp,0,sizeof(dp));\n\n\t\trep(i,n)\n\t\t{\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\ttemp.push_back(Mato(h,r));\n\t\t}\n\n\t\tcin >> m;\n\n\t\trep(i,m)\n\t\t{\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\ttemp.push_back(Mato(h,r));\n\t\t}\n\n\t\tsort(temp.begin(),temp.end());\n\t\t\n\t\tint ans = 0;\n\n\t\trep(i,temp.size())\n\t\t{\n\t\t\tdp[i] = 1;\n\n\t\t\trep(j,i)\n\t\t\t{\n\t\t\t\tif(temp[j].x < temp[i].x && temp[j].y < temp[i].y)\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max(dp[i],dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = max(ans,dp[i]);\n\t\t}\n\n\t\tcout <<ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n  int i,j,a,b,n,m,hn[100],rn[100],hm[100],rm[100],h[201],r[201],k[2],L[201],max;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n    for(i=0;i<n;i++) cin >> hn[i] >> rn[i];\n    cin >> m;\n    for(i=0;i<m;i++) cin >> hm[i] >> rm[i];\n\n    a = 0;\n    b = 0;\n    h[0] = -1;\n    r[0] = -1;\n    for(i=1;i<=m+n;i++){\n      if(a < n && b < m && hn[a] < hm[b] || a < n && b >= m){\n\t  h[i] = hn[a];\n\t  r[i] = rn[a++];\n\t}\n      else{\n\th[i] = hm[b];\n\tr[i] = rm[b++];\n      }\n    }\n\n      k[0] = 0;\n      L[0] = 0;\n      for(i=1;i<=m+n;i++){\n\tmax = 0;\n\tfor(j=0;j<i;j++){\n\t  if(L[j] > max && h[j] < h[i] && r[j] < r[i]) max = L[j];\n\t}\n\tL[i] = max + 1;\n\tif(k[0] < L[i]) k[0] = L[i];\n      }\n\n    for(i=1;i<=m+n;i++){\n      if(a < n && b < m && rn[a] < rm[b] || a < n && b >= m){\n\t  h[i] = hn[a];\n\t  r[i] = rn[a++];\n\t}\n      else{\n\th[i] = hm[b];\n\tr[i] = rm[b++];\n      }\n    }\n\n      k[1] = 0;\n      L[0] = 0;\n      for(i=1;i<=m+n;i++){\n\tmax = 0;\n\tfor(j=0;j<i;j++){\n\t  if(L[j] > max && h[j] < h[i] && r[j] < r[i]) max = L[j];\n\t}\n\tL[i] = max + 1;\n\tif(k[1] < L[i]) k[1] = L[i];\n      }\n\n      if(k[0] > k[1]) cout << k[0] << endl;\n      else cout << k[1] << endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<map>\n#include<algorithm>\n\nusing namespace std;\ntypedef pair<int,int> P;\nint n,m;\nint dp[201];\nint ans=0;\nvector<P> v;\nint main(void){\n\twhile(1){\n\t\tans=0;\n\t\tv.clear();\n\t\tcin >> n;\n\t\tif(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint a,b;\n\t\t\tcin >> a >> b;\n\t\t\tv.push_back(P(a,b));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint a,b;\n\t\t\tcin >> a >> b;\n\t\t\tv.push_back(P(a,b));\n\t\t}\n\t\tsort(v.begin(),v.end());\n\t\tfor(int i=0;i<v.size();i++)dp[i]=1;\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tfor(int j=0;j<v.size();j++){\n\t\t\t\tif(v[j].first<v[i].first && v[j].second<v[i].second){\n\t\t\t\t\tdp[i]=max(dp[i],dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tans=max(ans,dp[i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nvector<pair<int,int> >v;\nint dp[202];\nint dfs(int i){\n    if(dp[i]!=-1)return dp[i];\n    int ret=0;\n    for(int j=0;j<v.size();j++){\n        if(v[j].first>v[i].first&&v[j].second>v[i].second){\n            ret=max(ret,dfs(j)+1);\n        }\n    }\n    return dp[i]=ret;\n}\nint main(){\n    int n;\n    while(cin>>n,n){\n        v.clear();\n        int m,x,y,x1,y1,x2,y2,a=1,c=1;\n        for(int i=0;i<202;i++)dp[i]=-1;\n        for(int i=0;i<n;i++){\n            cin>>x>>y;\n            v.push_back(make_pair(x, y));\n        }\n        cin>>m;\n        for(int i=0;i<m;i++){\n            cin>>x>>y;\n            v.push_back(make_pair(x, y));\n        }\n        int ans=0;\n        for(int i=0;i<m+n;i++){\n            ans=max(ans,dfs(i)+1);\n        }\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include <math.h>\n#include <cctype>\n\n#include <iostream>\n#include <vector>\n#include <deque>\n#include <queue>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define repi(i,l,n) for(int (i)=(int)(l);(i)<(int)(n);(i)++)\n#define d_arr(arr, h, w) rep(i,(h) ){ cout << \"[\"; rep(j,(w) ) { cout << (arr)[i][j] << \", \"; } cout << \"]\" << endl;}\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x);\n#define fs first\n#define sc second\n#define pb push_back\n\ntypedef pair<int ,int> P;\nvector<P> mv;\nmap<int, int> memo;\n\n//\nint next_of(int i){\n    if( i == mv.size()-1 ) { return mv.size(); }\n    else if( i >= mv.size()-1 ) { return mv.size(); }\n    int h = mv[i].fs;\n    int r = mv[i].sc;\n    int nh = h;\n    int nr = r;\n    while(1){\n        if( nh > h && nr > r) { break; }\n        i++;\n        nh = mv[i].fs;\n        nr = mv[i].sc;\n    }\n    return i;\n}\n\n// mv[i] 以上で作れるマトリョーシカの数の最大値\nint rec(int i){\n    //cout << \"rec : \" << i << endl;\n    if( memo.find(i) != memo.end() ){ return memo[i]; }\n    if( i == mv.size() ){ return 0; }\n    if( mv.size()-1 <= i ){\n        return 0;\n    }\n    int e0 = rec(i+1);\n    int e1 = 0;\n    int next = next_of(i);\n    e1 = rec(next) + 1;\n    memo[i] = max(e0,e1);\n    return memo[i];\n}\n\nint main()\n{\n    int n,m;\n    int h,r;\n    while(1){\n        mv.clear();\n        memo.clear();\n        cin >> n;\n        if( n==0 ){ break; }\n        rep(i,n){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        cin >> m;\n        rep(i,m){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        sort(mv.begin(),mv.end());\n        cout << rec(0) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\nusing namespace std;\n\nconst int MAX = 300;\n\ntypedef pair<int,int> ii;\nint n,m,dp[MAX];\nii input[MAX];\n\nvoid compute(){\n  sort(input,input+(n+m));\n  memset(dp,0,sizeof(dp));\n  rep(i,n+m){\n    rep(j,i){\n      if( input[i].first > input[j].first && input[i].second > input[j].second ) {\n\tdp[i] = max(dp[i],dp[j]+1);\n      }\n    }\n  }\n  int maxi = 0;\n  rep(i,n+m) maxi = max(maxi,dp[i]);\n  printf(\"%d\\n\",maxi+1);\n}\n\nint main(){\n  while( cin >> n, n ){\n    rep(i,n) cin >> input[i].first >> input[i].second;\n    cin >> m;\n    rep(i,m) cin >> input[n+i].first >> input[n+i].second;\n    compute();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tint n;\n\n\twhile(1){\n\t\tvector<P> p;\n\t\tfor(int i=0;i<2;i++){\n\t\t\tcin>>n;\n\t\t\tif(n == 0) return 0;\n\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tint x,y;\n\t\t\t\tcin>>x>>y;\n\t\t\t\tp.push_back(P(x,y));\n\t\t\t}\n\t\t}\n\n\t\tn = p.size();\n\t\tsort(p.begin(),p.end());\n\n\t\tint res = 0;\n\t\tint dp[n];\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(p[j].first < p[i].first &&\n\t\t\t\t\t p[j].second < p[i].second &&\n\t\t\t\t\t dp[i] < dp[j] + 1){\n\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = max(res,dp[i]);\n\t\t}\n\n\t\tcout<<res+1<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\nint solve(map<int,set<int> > &M,int i,int cnt){\n  int mx=0;\n  if(M[i].empty())return cnt;\n  for(set<int>::iterator it=M[i].begin();it!=M[i].end();++it){\n    int t=solve(M,*it,cnt+1);\n    if(mx<t)mx=t;\n  }\n  return mx;\n}\n\nint main(void){\n  int n,m;\n  while(cin>>n,n){\n    vector<pair<int,int> > mat;\n    mat.resize(n);\n    for(int i=0,h,r;i<n;++i){\n      cin>>h>>r;\n      mat[i].first=h;\n      mat[i].second=r;\n    }\n    cin>>m;\n    mat.resize(m+n);\n    for(int i=0,h,r;i<m;++i){\n      cin>>h>>r;\n      mat[n+i].first=h;\n      mat[n+i].second=r;\n    }\n    map<int,set<int> > M;\n    for(int i=0;i<m+n;++i){\n      for(int j=m+n-1;j>i;--j){\n        if(mat[i].first>mat[j].first && mat[i].second>mat[j].second){\n          M[i].insert(j);\n        }\n        if(mat[j].first>mat[i].first && mat[j].second>mat[i].second){\n          M[j].insert(i);\n        }\n      }\n    }\n    int ans=0;\n    for(int i=0;i<m+n;++i){\n      int a=solve(M,i,1);\n      if(a>ans)ans=a;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_N 20000\n#define MAX_M 16\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, m, h, r;\nvector<P> p1, p2;\nbool used[110];\n\nint main(){\n\twhile (cin >> n&&n){\n\t\tfill(used, used + 110, 0);\n\t\tREP(i, n){\n\t\t\tcin >> h >> r;\n\t\t\tp1.push_back(P(h, r));\n\t\t}\n\t\tp1.push_back(P(INF, INF));\n\t\tcin >> m;\n\t\tREP(i, m){\n\t\t\tcin >> h >> r;\n\t\t\tp2.push_back(P(h, r));\n\t\t}\n\t\tsort(ALL(p1));\n\t\tsort(ALL(p2));\n\t\tint ans = n;\n\t\tint nowh = -1, nowr = -1;\n\t\tREP(i, p1.size()){\n\t\t\tREP(j, m){\n\t\t\t\t//cout << used[i] << \" \";\n\t\t\t\tif (used[j] == 0){\n\t\t\t\t\tif (nowh < p2[j].first&&p2[j].first < p1[i].first&&\n\t\t\t\t\t\tnowr < p2[j].second&&p2[j].second < p1[i].second){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t}\n\t\t\t\t\telse if (p1[i].first <= p2[j].first || p1[i].second <= p2[j].second){\n\t\t\t\t\t\tnowh = p1[i].first, nowr = p1[i].second;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tused[j] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << endl;\n\t\t}\n\t\tif (ans < max(m, n))cout << max(m, n) << endl;\n\t\telse cout << ans << endl;\n\t\tp1.clear();\n\t\tp2.clear();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <iostream>\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\nusing namespace std;\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define FORR(i,a,b) for(int i=(a);i>(b);i--)\n#define REP(i,n)  FOR(i,0,n)\n\n#define INF (1<<21)\n\n//conversion\n//------------------------------------------\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n//debug\n//-------------------------------------------\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n//typedef\n//-------------------------------------------\ntypedef long long ll;\ntypedef pair<int, int> doll;\n\nvector<doll> dolls;\nint dp[200];\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while(1) {\n        int n, m;\n        cin >> n;\n        if (!n) break;\n\n        dolls.clear();\n        REP(i, n) {\n            int h, r;\n            cin >> h >> r;\n            dolls.push_back(doll(h, r));\n        }\n        cin >> m;\n        REP(i, m) {\n            int h, r;\n            cin >> h >> r;\n            dolls.push_back(doll(h, r));\n        }\n        sort(dolls.begin(), dolls.end());\n        memset(dp, 0, sizeof(dp));\n        int res = 0;\n\n        REP(i, dolls.size()) {\n            dp[i] = 1;\n            REP(j, i) {\n                if (dolls[j].first < dolls[i].first && dolls[j].second < dolls[i].second) {\n                    dp[i] = max(dp[i], dp[j] + 1);\n                }\n                res = max(res, dp[i]);\n            }\n        }\n        cout << res << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\ntypedef pair<int, int> P;\n\nconst int MAX_N = 100;\nconst int MAX_M = 100;\nint dp[MAX_N];\n//int h[MAX_N * 2], r[MAX_N * 2];\nvector<P> vec;\n// ???????????????\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\t\n\tint n;\n\twhile(cin >> n && n != 0){\n\tcin >> n;\n\t\n\tfor(int i = 0; i < n; ++i){\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tvec.push_back(P(h, r));\n\t\t//cin >> h[i] >> r[i];\n\t}\n\t\n\tint m;\n\tcin >> m;\n\t\n\tfor(int i = n; i < n + m; ++i){\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tvec.push_back(P(h, r));\n\t\t//cin >> h[i] >> r[i];\n\t}\n\t\n\tsort(vec.begin(), vec.end());\n\t\n\tfor(int i = 0; i < n + m; ++i){\n\t\t//cout << vec[i].first << \" \" << vec[i].second << endl;\n\t\tdp[i] = 1;\n\t}\n\t\n\tint ans = 0;\n\tfor(int i = 0; i < n + m; ++i){\n\t\tfor(int j = 0; j < n + m; ++j){\n\t\t\tif(vec[i].first > vec[j].first && vec[i].second > vec[j].second){\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, dp[i]);\n\t\t}\n\t}\n\t\n\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n#include<stack>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\ntypedef vector<string> vstring;\n\nstruct Edge{int to,from,cost;};\n\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep0(i,n) for(i=0;i<(n);++i)\n#define repn(i,m,n) for(int i=(m);i<=(n);++i)\n#define all(n) n.begin(),n.end()\n#define sz(n) ((int)(n).size())\n#define mp make_pair\n#define PUTLINE cout<<\"LINE:\"<<__LINE__<<endl;\n\nconst int INF = 2147483647;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\n\nconst int dx[]={1,-1,0,0,1,-1,1,-1,0};\nconst int dy[]={0,0,1,-1,1,-1,-1,1,0};\n\nvector<pint> s;\nint mem[210];\nint n,m;\n\nint f(int k){\n\tif(mem[k]>-1)return mem[k];\n\tint res=0;\n\trep(i,n+m){\n\t\tif(s[k].first>s[i].first&&s[k].second>s[i].second)chmax(res,f(i)+1);\n\t}\n\treturn mem[k]=res;\n}\n\nint main() {\n\tfor(;;){\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\ts.clear();\n\t\trep(i,n){\n\t\t\tpint buf;\n\t\t\tcin>>buf.first>>buf.second;\n\t\t\ts.push_back(buf);\n\t\t}\n\t\tcin>>m;\n\t\trep(i,m){\n\t\t\tpint buf;\n\t\t\tcin>>buf.first>>buf.second;\n\t\t\ts.push_back(buf);\n\t\t}\n\t\tmemset(mem,-1,sizeof(mem));\n\t\trep(i,n+m)f(i);\n\t\tint res=0;\n\t\trep(i,n+m)chmax(res,mem[i]);\n\t\tcout<<res+1<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define ALL(A) A.begin(), A.end()\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\nint dp[1005][1005];\n\nint main()\n{\n\tint n, m;\n\twhile ( cin >> n && n ){\n\t\tvector <P> d;\n\t\td.clear();\n\t\tmemset (dp, 0, sizeof (dp ) );\n\t\trep (i, n ){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back (P (h, r ) );\n\t\t} // end rep \n\t\tcin >> m;\n\t\trep (i, m ){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back (P (h, r ) );\n\t\t} // end rep\n\t\tsort (ALL (d ) );\n\t\trep (i, n+m ){\n\t\t\tP b = d[i];\n\t\t\tif (dp[b.first][b.second] == 0 )\n\t\t\t\tdp[b.first][b.second] = 1;\n\t\t\tint cnt = dp[b.first][b.second];\n\t\t\trep (j, n+m ){\n\t\t\t\tif (d[j].first > b.first && d[j].second > b.second ){\n\t\t\t\t\tif (dp[d[j].first][d[j].second] < cnt+1 ){\n\t\t\t\t\t\tdp[d[j].first][d[j].second] = cnt+1;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcnt = dp[d[j].first][d[j].second];\n\t\t\t\t\t} // end if\n\t\t\t\t\tb = d[j];\n\t\t\t\t} // end if\n\t\t\t} // end for\n\t\t} // end rep\n\t\tint res = 0;\n\t\trep (i, 1005 )\n\t\t\trep (j, 1005 )\n\t\t\t\tres = max (res, dp[i][j] );\n\t\tcout << res << endl;\n\t\t\n\t} // end loop\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\nint x[100001],d[100001],c[100001];\n\nint lis(int n){\n\tint i,j,I;\n/*\n\tfor(i=-1;I=0,++i<n;d[i]=I+1)\n\t\tfor(j=i-1;~j;j--)\n\t\t\tif(x[j]<x[i]&&I<d[j])I=d[j];\n*/\n\t// http://stackoverflow.com/questions/6129682/longest-increasing-subsequenceonlogn\n\tint sz = 1;\n\tc[1] = x[0];\n\td[0] = 1;\n\tfor(i=0;++i<n;){\n\t\tif(x[i] < c[1]){\n\t\t\tc[1] = x[i];\n\t\t\td[i] = 1;\n\t\t}else if(x[i] > c[sz]){\n\t\t\tc[sz+1] = x[i];\n\t\t\td[i] = sz+1;\n\t\t\tsz++;\n\t\t}else{\n\t\t\tint k = std::lower_bound(c,c+sz,x[i])-c;\n\t\t\tc[k] = x[i];\n\t\t\td[i] = k;\n\t\t}\n\t}\n\tfor(i=j=0;i<n;i++)\n\t\tif(d[i]>d[j])j=i;\n\treturn d[j];\n}\n\nint n;\nint main(){\n\tfor(;;){\n\t\tn=0;\n\t\tstd::vector<std::pair<int,int>>v;\n\t\tint a,b;\n\t\tfor(int k=0;k<2;k++){\n\t\t\tint n0;\n\t\t\tif(scanf(\"%d\",&n0),!n0)return 0;\n\t\t\tfor(n+=n0;n0--;){\n\t\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\t\tv.emplace_back(a,-b);\n\t\t\t}\n\t\t}\n\t\tstd::sort(v.begin(),v.end());\n\t\tfor(int i=0;i<n;i++)x[i]=-v[i].second;\n\t\tprintf(\"%d\\n\",lis(n));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Doll{\npublic:\n    int h;\n    int r;\n    int have;\n    static bool Less(const Doll& l, const Doll& r){\n\treturn l.h < r.h;\n    }\n    Doll(int x, int y, int z){\n\th = x; r = y; have = z;\n    }\n};\n\ntypedef vector<Doll> Dolls;\n\nint main(){\n    int n, m, h, r, result=0;\n    Dolls dolls;\n    while(cin >> n, n){\n\tfor(int i=0; i<n; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tcin >> m;\n\tfor(int i=0; i<m; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tsort(dolls.begin(), dolls.end(), Doll::Less);\n\t\n\tfor(Dolls::iterator it1=dolls.begin();it1 != dolls.end(); ++it1){\n\t    for(Dolls::iterator it2=dolls.begin();it2 != it1; ++it2){\n\t\tif(it2->h < it1->h && it2->r < it1->r && it1->have <= it2->have){\n\t\t    it1->have = it2->have + 1;\n\t\t    result = max(result, it1->have);\n\t\t}\n\t    }\n\t}\n\tcout << result << endl;\n\tdolls.clear();\n\tresult = 0;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<algorithm>\n#define F first\n#define S second\nusing namespace std;\n\nint n, m, i;\npair < int, int > p[222];\n\nint solve(int k, int h, int r){\n  \n  int ret = 0;\n    for(int i=k;i<n+m;i++){\n      if(h < p[i].F && r < p[i].S) ret = max(ret, solve(i+1, p[i].F, p[i].S)+1);\n    }\n    \n    return ret;\n}\n\nint main(){\n  \n  while(cin >> n){\n\n    for(i=0;i<n;i++) cin >> p[i].F >> p[i].S;\n    cin >> m;  \n    for(;i<m+n;i++) cin >> p[i].F >> p[i].S;\n    \n    sort(p, p+n+m);\n    \n    cout << solve(0, 0, 0) << endl;\n  }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip>\n#include <complex>\n#include <string>\n#include <vector>\n#include <list>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm>\n#include <numeric>\n#include <typeinfo>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <ctime>\n\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<\"=\"<<(n)<<endl\n#define debug(n) cout<<__FILE__<<\",\"<<__LINE__<<\": #\"<<#n<<\"=\"<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define rep(i,n) repi(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define foreach(i,c) for(iter(c) i=(c).begin();i!=(c).end();i++)\n#define allof(c) (c).begin(),(c).end()\n#define mp make_pair\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nint LIS(const vi& a)\n{\n\tint size=a.size();\n\tif(size==0)\n\t\treturn 0;\n\t\n\tvi dp(size);\n\tdp[0]=1;\n\trepi(i,1,size){\n\t\trep(j,i){\n\t\t\tif(a[j]<a[i])\n\t\t\t\tdp[i]=max(dp[i],dp[j]+1);\n\t\t}\n\t}\n\treturn *max_element(allof(dp));\n}\n\nint main()\n{\n\tfor(int n;cin>>n,n;){\n\t\tvector<pii> a(n);\n\t\trep(i,n) cin>>a[i].first>>a[i].second;\n\t\tint m; cin>>m;\n\t\ta.resize(n+m);\n\t\trepi(i,n,n+m)\n\t\t\tcin>>a[i].first>>a[i].second;\n\t\t\n\t\tsort(allof(a));\n\t\tvi r(a.size());\n\t\trep(i,r.size())\n\t\t\tr[i]=a[i].second;\n\t\tcout<<LIS(r)<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <utility>\nusing namespace std;\n\ntypedef pair<int,int> pii;\n\nint main(){\n\tint n, h, r;\n\tconst int INF = 1 << 30;\n\twhile(1){\n\t\tvector<pii> v;\n\t\tfor(int i = 0; i < 2; ++i){\n\t\t\tif(scanf(\"%d\", &n) == EOF){ return 0; }\n\t\t\tfor(int j = 0; j < n; ++j){\n\t\t\t\tscanf(\"%d%d\", &h, &r);\n\t\t\t\tv.push_back(pii(h, -r));\n\t\t\t}\n\t\t}\n\t\tsort(v.begin(), v.end());\n\n\t\tvector<int> dp(v.size() + 1, INF);\n\t\tfor(int i = 0; i < v.size(); ++i){\n\t\t\tr = -v[i].second;\n\t\t\t*lower_bound(dp.begin(), dp.end(), r) = r;\n\t\t}\n\t\tprintf(\"%d\\n\", lower_bound(dp.begin(), dp.end(), INF) - dp.begin());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(5)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<short, short> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 114514810;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nvector<P> v;\nint n, m;\nint dp[201][1001];\n\nint solve(int i, int r)\n{\n\tif (i == v.size()) return 0;\n\tif (dp[i][r] >= 0) return dp[i][r];\n\tint res;\n\tif (-v[i].second > r)\n\t{\n\t\tres = max(solve(i + 1, r), solve(i + 1, -v[i].second) + 1);\n\t}\n\telse res = solve(i + 1, r);\n\treturn dp[i][r] = res;\n}\n\nint main()\n{\n\twhile (cin >> n, n)\n\t{\n\t\tv.clear();\n\t\tMS(dp, -1);\n\t\tREP(i, n)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, -b));\n\t\t}\n\t\tcin >> m;\n\t\tREP(i, m)\n\t\t{\n\t\t\tint a, b; cin >> a >> b;\n\t\t\tv.push_back(P(a, -b));\n\t\t}\n\t\tsort(ALL(v));\n\n\t\tcout << solve(0, 0) << endl;\n\t}\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\nusing ll = long long;\n// #define int ll\nusing PII = pair<int, int>;\n \n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n \ntemplate<typename T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<typename T> T &chmax(T &a, const T &b) { return a = max(a, b); }\ntemplate<typename T> bool IN(T a, T b, T x) { return a<=x&&x<b; }\ntemplate<typename T> T ceil(T a, T b) { return a/b + !!(a%b); }\n \ntemplate<typename T> vector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts) { \n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type\nfill_v(T &t, const V &v) { t=v; }\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type\nfill_v(T &t, const V &v ) { for(auto &e:t) fill_v(e,v); }\n \ntemplate<class S,class T>\nostream &operator <<(ostream& out,const pair<S,T>& a){\n  out<<'('<<a.first<<','<<a.second<<')'; return out;\n}\ntemplate<typename T>\nistream& operator >> (istream& is, vector<T>& vec){\n  for(T& x: vec) {is >> x;} return is;\n}\ntemplate<class T>\nostream &operator <<(ostream& out,const vector<T>& a){\n  out<<'['; for(T i: a) {out<<i<<',';} out<<']'; return out;\n}\n \nint dx[] = {0, 1, 0, -1}, dy[] = {1, 0, -1, 0}; // DRUL\nconst int INF = 1<<30;\nconst ll LLINF = 1LL<<60;\nll MOD = 1000000007;\n\ntemplate <typename T>\nclass BIT {\nprivate:\n  // データ\n  vector<T> bit;\n  // 単位元, 要素数\n  int neutral = 0;\n  // 更新クエリ, 区間クエリ\n  function<T(T,T)> f = [](const T l, const T r) -> T { return r; },\n                   g = [](const T l, const T r) -> T { return max(l, r); };\npublic:\n  // 初期化\n  BIT(int n_ = 1e5) { init(n_); }\n  void init(int n_ = 1e5) { bit.assign(n_+1, neutral); }\n  // iに対する点更新クエリ\n  void update(int i, T w) {\n    for(int x = i+1; x < bit.size(); x += x&-x) bit[x] = f(bit[x], w);\n  }\n  // [0,i]に対する区間クエリ\n  T query(int i) {\n    T ret = neutral;\n    for(int x = i+1; x > 0; x -= x & -x) ret = g(ret, bit[x]);\n    return ret;\n  }\n};\n\nsigned main(void)\n{\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(1) {\n    ll n;\n    cin >> n;\n    if(!n) break;\n    vector<PII> v(n);\n    REP(i, n) cin >> v[i].first >> v[i].second;\n    ll m;\n    cin >> m;\n    REP(i, m) {\n      ll h, r;\n      cin >> h >> r;\n      v.push_back({h, r});\n    }\n\n    sort(ALL(v), [](PII l, PII r){\n      if(l.first != r.first) return l.first < r.first;\n      return l.second > r.second;\n    });\n\n    ll ret = 0;\n    BIT<ll> bit(1001);\n    REP(i, n+m) {\n      ll tmp = bit.query(v[i].second) + 1;\n      bit.update(v[i].second, tmp);\n      chmax(ret, tmp);\n    }\n    cout << ret << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <fstream>\n\nstruct MT {\npublic:\n\tint w;\n\tint h;\n};\n\nint max(int a, int b) {\n\treturn a > b ? a : b;\n}\n\nint main() {\n\tstd::ifstream ifs(\"input.txt\");\n\tdo {\n\t\tint n, m;\n\t\tstd::cin >> n;\n\t\tstd::vector<MT> mtA;\n\t\tif (n == 0) break;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint w, h;\n\t\t\tstd::cin >> w;\n\t\t\tstd::cin >> h;\n\t\t\tMT m;\n\t\t\tm.w = w;\n\t\t\tm.h = h;\n\t\t\tmtA.push_back(m);\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tint w, h;\n\t\t\tstd::cin >> w;\n\t\t\tstd::cin >> h;\n\t\t\tMT m;\n\t\t\tm.w = w;\n\t\t\tm.h = h;\n\t\t\tmtA.push_back(m);\n\t\t}\n\n\t\tstd::sort(mtA.begin(), mtA.end(), [](const MT& lhs, const MT& rhs){return lhs.w < rhs.w; });\n\n\t\t/*\n\t\tstd::cout << \"testtest\" << std::endl;\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\tstd::cout << mtA[i].w << std::endl;\n\t\t}\n\t\tstd::cout << \"endtest\" << std::endl;\n\t\t*/\n\n\t\tstd::vector<int> paths(n + m);\n\t\tint minw = mtA[0].w;\n\t\tint mini;\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\tif (mtA[i].w == minw) {\n\t\t\t\tpaths[i] = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmini = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (int i = mini; i < n + m; i++) {\n\t\t\tfor (int j = 0; mtA[j].w != mtA[i].w; j++) {\n\t\t\t\tif (mtA[j].h < mtA[i].h) {\n\t\t\t\t\tpaths[i] = max(paths[i], paths[j] + 1);\n\t\t\t\t\t//std::cout << \"i:\" << i << \"j:\" << j << \" paths[i]:\" << paths[i] << \" paths[j]:\" << paths[j] << std::endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint maxpath = 0;\n\t\tfor (int i = 0; i < n + m ; i++ ) {\n\t\t\tmaxpath = max(maxpath, paths[i]);\n\t\t}\n\t\tstd::cout << maxpath << std::endl;\n\n\t} while (1);\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\ntypedef std::pair<int, int> P;\n\nP data[202];\nint dp[202];\n\nint main(){\n\n\tint n, m;\n\twhile (std::cin >> n, n){\n\n\t\tdata[0] = P(0, 0);\n\t\tdp[0] = 0;\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tstd::cin >> data[i].first >> data[i].second;\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 1; i <= m; i++){\n\t\t\tstd::cin >> data[i + n].first >> data[i + n].second;\n\t\t}\n\n\t\tstd::sort(data, data + 1 + n + m);\n\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tfor (int j = 0; j < i; j++){\n\t\t\t\tif (data[i].first > data[j].first&&data[i].second > data[j].second){\n\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint max = 0;\n\t\tfor (int i = 0; i <= n + m; i++){\n\t\t\tif (dp[i] > max)max = dp[i];\n\t\t}\n\t\tstd::cout << max << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tdp[i] = dp[i - 1];\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstd::cout << dp[n - 1] << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nvoid solve()\n{\n\tint n;\n\twhile(cin >> n, n)\n\t{\n\t\tmap<int, int> data;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tvector<P> doll;\n\t\tmap<int, int>::reverse_iterator rit = data.rbegin();\n\t\twhile(rit != data.rend())\n\t\t{\n\t\t\tdoll.push_back(P(rit->first, rit->second));\n\t\t\t++rit;\n\t\t}\n\t\tint max_doll_count = 0;\n\t\tfor(int i = 0; i < doll.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll[i];\n\t\t\tfor(int j = i + 1; j < doll.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first > doll[j].first && current.second > doll[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvector<P> doll2;\n\t\tmap<int, int>::reverse_iterator rit2 = data.rbegin();\n\t\twhile(rit2 != data.rend())\n\t\t{\n\t\t\tdoll2.push_back(P(rit2->second, rit2->first));\n\t\t\t++rit2;\n\t\t}\n\t\tfor(int i = 0; i < doll2.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll2[i];\n\t\t\tfor(int j = i + 1; j < doll2.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first > doll2[j].first && current.second > doll2[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll2[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}\n\t\tcout << max_doll_count << endl;\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, ans, p, s, s2, s3;\npair<int,int> doll[201];\nint dp[2][201],dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n + 1; i <= n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll + 1, doll + 1 + n + m);\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tp = lower_bound(dp[0] + 1, dp[0] + n + m + 1, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\t*lower_bound(dp2 + 1, dp2 + n + m + 1, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout <<lower_bound(dp2 + 1, dp2 + n + m + 1, INF) - dp2 -1<< endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r > d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        sort(v.begin(),v.end());\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        int dp[1001] = {0};\n\n        for(int i=0;i<n+m;i++){\n            int dm = 0;\n            for(int j=0;j<v[i].r;j++){\n                dm = max(dm,dp[j]);\n            }\n            dp[v[i].r] = dm+1;\n        }\n\n        int ans = 0;\n\n        for(int i=0;i<1001;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> Doll;\nvector<Doll> Dolls;\nint dp[201];\n\nvoid debug(){\n  for(int i = 0; i < Dolls.size(); i++){\n    cout << \"(\" << Dolls[i].first << \", \" << Dolls[i].second << \")\" << endl;\n  }\n}\n\nbool comp(const Doll& d1, const Doll& d2){\n  return ((d1.first <= d2.first) && (d1.second <= d2.second));\n}\n\nint main(void){\n  int n, m;\n  while(cin >> n, n){\n    Dolls.clear();\n    Dolls.push_back(Doll(0, 0));\n    for(int i = 0; i < n; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    sort(Dolls.begin(), Dolls.end(), comp);\n    for(int i = 1; i < Dolls.size(); i++){\n      int max_k = 0;\n      for(int j = 0; j < i; j++){\n        if(Dolls[j].first < Dolls[i].first && Dolls[j].second < Dolls[i].second && dp[max_k] < dp[j]){\n          max_k = j;\n        }\n      }\n      dp[i] = dp[max_k] + 1;\n    }\n    cout << dp[Dolls.size()-1] + 1 << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n\nusing namespace std;\n\nint main(){/*main*/\n  int i,j,k,n,h[201],hn2,hen,r[201],m,hn,count,ans[201],min,max;\n\n  while(1)\n    {/*while*/\n      max=0;\n      hen=0;\n      count=0;\n      h[0]=-1;\n      r[0]=-1;\n      for(i=0;i<201;i++)\n    {\n      ans[i]=0;\n    }\n      ans[0]=0;\n\n      cin >> n ;\n      if(n==0)break;\n      for(i=1;i<=n;i++)\n    {\n      cin >> h[i] >> r[i];\n    }\n\n      cin >> m;\n      for(i=n+1;i<=(m+n);i++)\n    {\n      cin >> h[i] >> r[i];\n    }\n\n      /*\n      for(i=1;i<(n+m);i++)\n      {\n      printf(\"TES_h%d %d  TES_r%d %d\\n\",i,h[i],i,r[i]);\n      }\n      */\n     \n\n\n      for(i=1;i<=(m+n);i++)\n    {/*for1*/\n      min=i;\n      for(j=i;j<=(m+n);j++)\n        {/*for2*/\n          if(h[j]<h[min])\n        {\n          min=j;\n        }\n        }/*E_for2*/\n      hn=h[min];\n      h[min]=h[i];\n      h[i]=hn;\n\n      hn2=r[min];\n      r[min]=r[i];\n      r[i]=hn2;\n    }/*E_for1*/\n\n \n      //    for(i=1;i<=(n+m);i++)\n      // {\n      //\tprintf(\"TES_h[%d] %d  TES_r[%d] %d\\n\",i,h[i],i,r[i]);\n      // }\n     \n\n       /*   for(i=1;i<=(m+n);i++)\n    {\n      if(h[i]>h[i-1] && r[i]>r[i-1])\n        {\n          count+=1;\n          ans[i]=1;\n        }\n      else\n        {\n          ans[i-1]=0;\n          for(j=1;j<=i;j++)\n        {\n          if((h[i]>h[j] && r[i]>r[j]) && ans[j]==0 &&(h[i]!=h[i-1] && r[i]!=r[i-1]))\n            {\n              hen++;\n            }\n\n        }\n          if(hen>0)count++;\n        }\n*/\n\n\n       for(i=1;i<=(m+n);i++)\n\t {\n\t   k=0;\n\t   for(j=1;j<i;j++)\n\t     {\n\t       if(r[i]>r[j] && j>k && ans[j]>ans[k])\n\t\t {\n\t\t   k=j;\n\t\t }\n\t       // cout << \"TES_max\"<< max << endl;\n\t     }\n\t   ans[i]=ans[k]+1;\n\t }\n       \n       max=-1;\n       for(i=1; i<=n+m; i++)\n\t {\n\t   if(max<ans[i])\n\t     {\n\t       max=ans[i];\n\t     }\n\t }\n\n   \n       \n       \n       cout << max << endl;\n       \n       \n    }/*E_while*/\n  return 0;\n}/*E_main*/"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define MP(a, b) make_pair(a, b)\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nstruct D{\n  int h, r;\n  D(int h, int r):h(h),r(r){};\n\n  bool operator<(const D& d)const{\n    return (h < d.h && r < d.r);\n  }\n};\n\nint n, m;\nvector<D>s;\nint dp[1024];\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n    s.clear();\n    int h, r;\n    rep(i, n){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(D(h, r));\n    }\n    scanf(\"%d\", &m);\n    rep(i, m){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(D(h, r));\n    }\n\n    sort(s.begin(), s.end());\n    memset(dp, 0, sizeof(dp));\n\n    int res = 0;\n    rep(i, s.size()){\n      dp[i] = 1;\n      rep(j, i) if(s[j] < s[i]){\n\tdp[i] = max(dp[i], dp[j] + 1);\n      }\n      res = max(res, dp[i]);\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n????int n, m;\n????int dp[2000];\n????P doll[2000];\n????while(cin >> n && n){\n????????fill(doll, doll+2000, P(0, 0));\n????????fill(dp, dp + 2000, INF);\n????????for (int i = 0; i < n; i++){\n????????????int a, b;\n????????????cin >> a >> b;\n????????????doll[i] = P(a, b);\n????????}\n????????cin >> m;\n????????for (int i = n; i < n + m; i++){\n????????????int a, b;\n????????????cin >> a >> b;\n????????????doll[i] = P(a, b);\n????????}\n????????sort(doll, doll + n + m);\n????????for (int i = 0; i < n + m; i++){\n????????*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n????????}\n??????????int ans;\n????????????????for(int i=n+m-1; i>=0; --i){\n????????????????????????if(dp[i] != INF){\n????????????????????????????????ans = i + 1;\n????????????????????????????????break;\n????????????????????????}\n????????????????}\n????????cout << ans << endl;\n????}\n????return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nvoid solve()\n{\n\tint n;\n\twhile(cin >> n, n)\n\t{\n\t\tmap<int, int> data;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tvector<P> doll;\n\t\tmap<int, int>::reverse_iterator rit = data.rbegin();\n\t\twhile(rit != data.rend())\n\t\t{\n\t\t\tdoll.push_back(P(rit->first, rit->second));\n\t\t\t++rit;\n\t\t}\n\t\tint max_doll_count = 0;\n\t\tfor(int i = 0; i < doll.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll[i];\n\t\t\tfor(int j = i + 1; j < doll.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first > doll[j].first && current.second > doll[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvector<P> doll2;\n\t\tmap<int, int>::reverse_iterator rit2 = data.rbegin();\n\t\twhile(rit2 != data.rend())\n\t\t{\n\t\t\tdoll2.push_back(P(rit2->second, rit2->first));\n\t\t\t++rit2;\n\t\t}\n\t\tfor(int i = 0; i < doll2.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll[i];\n\t\t\tfor(int j = i + 1; j < doll2.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first > doll2[j].first && current.second > doll2[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll2[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}\n\t\tcout << max_doll_count << endl;\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n\n#define BIG_NUM 2000000000\n\nusing namespace std;\n\nstruct Info{\n\tInfo(){\n\t\th = 0;\n\t\tr = 0;\n\t\tused = false;\n\t\tmay_in_num = in_num = 0;\n\t}\n\tint h,r,may_in_num,in_num;\n\tbool used;\n};\n\nvoid func(int n){\n\n\tInfo info[401];\n\tint m;\n\n\tfor(int i = 0; i < n; i++){\n\t\tscanf(\"%d %d\",&info[i].h,&info[i].r);\n\t}\n\n\tscanf(\"%d\",&m);\n\n\tfor(int i = 0; i < m; i++){\n\t\tscanf(\"%d %d\",&info[n+i].h,&info[n+i].r);\n\t}\n\n\tint count,maximum = 0,limit = n+m;\n\n\twhile(true){\n\t\tcount = 0;\n\n\t\tfor(int i = 0; i < limit; i++){\n\t\t\tif(info[i].used)continue;\n\t\t\tfor(int k = 0; k < limit; k++){\n\t\t\t\tif(info[k].used == false && info[k].h < info[i].h && info[k].r < info[i].r){\n\t\t\t\t\tinfo[i].may_in_num++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor(int i = 0; i < limit; i++){\n\t\t\tif(info[i].may_in_num == 0){\n\t\t\t\tinfo[i].used = true;\n\n\t\t\t\tfor(int k = 0; k < limit; k++){\n\t\t\t\t\tif(info[k].h > info[i].h && info[k].r > info[i].r){\n\t\t\t\t\t\tif(info[k].in_num < info[i].in_num+1){\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\tinfo[k].in_num = info[i].in_num+1;\n\t\t\t\t\t\t\tmaximum = max(maximum,info[k].in_num);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor(int i = 0; i < limit; i++){\n\t\t\tif(info[i].used == false){\n\t\t\t\tinfo[i].may_in_num = 0;\n\t\t\t}\n\t\t}\n\n\t\tif(count == 0)break;\n\t}\n\n\tprintf(\"%d\\n\",maximum+1);\n\n}\n\nint main(){\n\n\tint n;\n\n\twhile(true){\n\t\tscanf(\"%d\",&n);\n\t\tif(n == 0)break;\n\n\t\tfunc(n);\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 206\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   //  rep(i,n+m){\n   for(int i=0;i<(n+m);i++){\n      dp[i+1] = 1;\n      for(int j=0;j<i;j++)\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i+1]+1,dp[j]+1);\n      }\n   }\n\n   \n   cout << \"test\" << ++test << endl;\n   rep(i,n+m)\n      cout << dp[i] << endl;\n   cout << \"ans\" << endl;\n   cout << dp[n+m] << endl << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      rep(i,n){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+n+m);\n      rep(i,n+m)\n\t cout << Dolls[i].h << \"  \" << Dolls[i].r<<endl;\n      solve();\n\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n#include <climits>\n#include <cfloat>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n\nusing namespace std;\n\ntypedef unsigned int UI;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define EACH( v, c ) for ( auto &v : c )\n\n#define ITER( c ) __typeof( (c).begin() )\n#define IREP( c, it ) for ( ITER(c) it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nvoid addary( vector< PII > &ary, int n )\n{\n\tREP( i, 0, n )\n\t{\n\t\tint a, b;\n\t\tcin >> a >> b;\n\t\tary.PB( MP( a, b ) );\n\t}\n\n\treturn;\n}\n\nstruct Tsort\n{\n\tint N;\n\tVVI G;\n\n\tVI order;\n\tvector< bool > used;\n\n\tTsort( VVI G ) : N( G.size() ), G( G ), used( vector< bool >( N, false ) )\n\t{\n\t\treturn;\n\t}\n\n\tVI solve()\n\t{\n\t\tREP( i, 0, N )\n\t\t{\n\t\t\trec( i );\n\t\t}\n\t\t\n\t\treverse( ALL( order ) );\n\n\t\treturn order;\n\t}\n\n\tvoid rec( int v )\n\t{\n\t\tif ( used[v] )\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tused[v] = true;\n\n\t\tREP( i, 0, G[v].size() )\n\t\t{\n\t\t\trec( G[v][i] );\n\t\t}\n\n\t\torder.PB( v );\n\t}\n};\n\nint solve( vector< PII > ary )\n{\n\tconst int N = ary.size();\n\n\tVVI G( N );\n\n\tREP( i, 0, N )\n\t{\n\t\tREP( j, 0, N )\n\t\t{\n\t\t\tif ( i == j )\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( ary[i].fst < ary[j].fst && ary[i].snd < ary[j].snd )\n\t\t\t{\n\t\t\t\tG[i].PB( j );\n\t\t\t}\n\t\t}\n\t}\n\n\tVI order = Tsort( G ).solve();\n\n\tVI dp( N, 1 );\n\n\tREP( i, 0, N )\n\t{\n\t\tint cur = order[i];\n\n\t\tREP( j, 0, G[ order[i] ].size() )\n\t\t{\n\t\t\tint next = G[ cur ][j];\n\n\t\t\tdp[ next ] = max( dp[ next ], dp[ cur ] + 1 );\n\t\t}\n\t}\n\n\treturn dp[ order.back() ];\n}\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\twhile ( true )\n\t{\n\t\tint n;\n\t\tcin >> n;\n\n\t\tif ( !n )\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tvector< PII > ary;\n\t\taddary( ary, n );\n\n\t\tcin >> n;\n\t\taddary( ary, n );\n\n\t\tcout << solve( ary ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n\t*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n    }\n     int ans;\n        for(int i=n+m-1; i>=0; --i){\n            if(dp[i] != INF){\n                ans = i + 1;\n                break;\n            }\n        }\n\tcout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n  bool operator<(const data& d){\n    return s < d.s;\n  }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r,mh = 0;\n    rep(i,n){\n      cin >> h >> r;\n      mh = max(mh,h);\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      mh = max(mh,h);\n      v.push_back({h,r,h+r});\n    }\n    sort(all(v));\n    ll ans = 0,c = 0;\n    vvl(dp,1002,1002,0);\n    REP(i,1,1001){\n      REP(j,1,1001){\n        if(c >= n+m) break;\n        if(v[c].h <= i && v[c].r <= j){\n          dp[i][j] = max(dp[i][j],dp[i-1][j-1]+1);\n          ++c;\n        }\n        else{\n          dp[i][j] = max(dp[i][j],max(dp[i][j-1],max(dp[i-1][j-1],dp[i-1][j])));\n        }\n      }\n    }\n//     rep(i,30){\n//       scout(3) << i << ' ';\n//     }\n//     cout << endl;\n//     rep(i,30){\n//       scout(3) << i << ' ';\n//       rep(j,30){\n//         scout(3) << dp[i][j] << ' ';\n//       }\n//       cout << endl;\n//     }\n    rep(i,1002){\n      ans = max(ans,dp[mh][i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mk make_pair\n#define f first\n#define s second\nusing namespace std;\nint n,m,p1,p2,dp[201][1001][1001];\nunordered_map<pair<int,pair<int,int> >,int >m1;\n\nvector<pair<int,int> >v;\n\nint dfs(int d,int h,int w){\n  int res=0;\n  if(m1[mk(d,mk(h,w))])return m1[mk(d,mk(h,w))];\n  if(d==v.size()) return 1;\n  if(v[d].f<h&&v[d].s<w)\n    res=max(res,dfs(d+1,v[d].f,v[d].s))+1;\n  res=max(res,dfs(d+1,h,w));\n  return m1[mk(d,mk(h,w))]=res;\n}\n\nmain(){\n  while(cin>>n,n){\n    m1.clear();\n    v.clear();\n    for(int i=0;i<n;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<v.size();i++)swap(v[i].f,v[i].s);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    cout<<dfs(0,1001,1001)-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n    int n, m;\n    int d[200][2], dp[200];\n    \n    for(int p = 0; true; p++){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            int maax = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]){\n                        if(d[j][1] < d[i][1]){\n                            a = dp[j];\n                        }\n                    }\n                }\n                dp[i] += a;\n                if(maax <= dp[i]){\n                    maax = dp[i];\n                }\n            }\n            cout << maax << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint N;\n\nbool g[100][100];\nint m[100][2];\nvector<pair<pair<int, int>, int>> m1, m2;\nvector<int> pa[100];\n\nint dfs(int x)\n{\n  int r = 0;\n  for(auto v: pa[x])\n    r = max(r, dfs(v));\n  return r + 1;\n}\n\nint main()\n{\n  while(true)\n  {\n    fill((bool*)g, (bool*)g + 10000, false);\n    for(int i = 0; i < 100; i++)\n      pa[i].clear(), (m[i][0] = m[i][1] = 0);\n    m1.clear(); m2.clear();\n\n    N = 0;\n    for(int i = 0; i < 2; i++)\n    {\n      int a;\n      cin >> a;\n      if(!a)\n        return 0;\n      for(int j = N; j < a + N; j++)\n      {\n        cin >> m[j][0] >> m[j][1];\n        m1.push_back(make_pair(make_pair(m[j][0], m[j][1]), j));\n        m2.push_back(make_pair(make_pair(m[j][1], m[j][0]), j));\n      } \n      N += a;\n    }\n    sort(m1.begin(), m1.end());\n    sort(m2.begin(), m2.end());\n    for(int i = 0; i < N; i++)\n    {\n      bool b1 = false, b2 = false;\n      for(int j = i + 1; j < N; j++)\n      {\n        if(!b1 && m1[j].first.second > m1[i].first.second)\n          pa[m1[i].second].push_back(m1[j].second), b1 = true;\n        if(!b2 && m2[j].first.second > m2[i].first.second)\n          pa[m2[i].second].push_back(m2[j].second), b1 = true;\n      }\n    }\n    cout << max(dfs(m1[0].second), dfs(m2[0].second)) - 1 << endl;;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int,int> MAT;\n#define h first\n#define r second\n#define rep(i,n) for(int i=0;i<n;i++)\nint dp[1000][1000];\nMAT info[200];\nint n,m;\n\nint dfs(int a,int b){\n\tif(~dp[a][b])return dp[a][b];\n\t\n\tint hoge = 0;\n\trep(i,n){\n\t\tif(info[i].first < a && info[i].second < b){\n\t\t\thoge = max(hoge, dfs(info[i].first,info[i].second)+1);\n\t\t}\n\t}\n\treturn hoge;\n}\nint main(){\n\twhile(cin >> n , n ){\n\t\trep(i,1000)rep(j,1000)dp[i][j] = -1;\n\t\t\n\t\tint ret = 0;\n\t\trep(i,n)cin >> info[i].h >> info[i].r;\n\t\tcin >> m;\n\t\trep(i,m)cin >> info[n+i].h >> info[n+i].r;\n\t\t\n\t\tn = n + m;\n\t\t\n\t\trep(i,n){\n\t\t\tret = max(ret, dfs(info[i].first , info[i].second)+1);\n\t\t}\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1<<29)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nP ma[256];\nint dp[256];\n\nint main(){\n  int n;\n  while(scanf(\"%d\", &n) && n){\n    rep(i,n) scanf(\"%d%d\", &ma[i].first, &ma[i].second);\n    int m;\n    scanf(\"%d\", &m);\n    rep(i,m) scanf(\"%d%d\", &ma[n+i].first, &ma[n+i].second);\n    int V = n+m;\n    sort(ma, ma+V);\n\n    int res = 0;\n    for(int i =0;i<V;i++){\n      dp[i] = 1;\n      for(int j=0;j<i;j++) if(ma[j].first < ma[i].first && ma[j].second < ma[i].second)\n\t  dp[i] = max(dp[i], dp[j]+1);\n      res = max(res, dp[i]);\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint n;\nint m;\npair<int,int> h[200];\n\nint dp[2][200];\n\nint solve(int pos, int size){\n  if(pos == n+m) return 0;\n\n  if(dp[0][pos] == -1)\n    dp[0][pos] = solve(pos+1, size);\n\n  if(size < h[pos].s){\n    if(dp[1][pos] == -1)\n      dp[1][pos] = solve(pos+1, h[pos].s) + 1;\n  }else\n    dp[1][pos] = 0;\n\n  return max(dp[0][pos], dp[1][pos]);\n}\n\nint main(){\n  while(n = getInt()){\n    REP(i,n){\n      h[i].f = getInt();\n      h[i].s = getInt();\n    }\n\n    m = getInt();\n    REP(i,m){\n      h[i+n].f = getInt();\n      h[i+n].s = getInt();\n    }\n\n    sort(h, h+n+m);\n\n    memset(dp, -1, sizeof(dp));\n\n    print(solve(0,-1));\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string.h>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int, int> P;\nconst int INF = 1e+9;\n\nint DP[1000];\n\nint main() {\n\tint n, m, h, r;\n\twhile(cin >> n && n){\n\t\tmemset(DP, 0, sizeof(DP));\n\t\tvector<P> vec;\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> h >> r;\n\t\t\tvec.push_back(P(h, r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i){\n\t\t\tcin >> h >> r;\n\t\t\tvec.push_back(P(h, r));\n\t\t}\n\t\tsort(vec.begin(), vec.end());\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < (n + m); ++i){\n\t\t\tDP[i] = 1;\n\t\t\tfor(int j = 0; j < i; ++j){\n\t\t\t\tif(vec[j].first < vec[i].first && vec[j].second < vec[i].second)\n\t\t\t\t\tDP[i] = max(DP[i], DP[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, DP[i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nstruct Matr {\n    int h;\n    int r;\n};\n\nint solve(Matr const &prev, std::vector<Matr> const &A, int n) {\n    int ret = n;\n    for (auto &x: A) {\n        if (prev.h < x.h && prev.r < x.r) {\n            int tmp = solve(x, A, n+1);\n            if (tmp > ret) ret = tmp;\n        }\n    }\n    return ret;\n}\n\nint main(void)\n{\n    while (true) {\n        int n, m;\n        std::cin >> n;\n        if (n == 0) break;\n        std::vector<Matr> I(n);\n        for (int i = 0; i < n; i++) {\n            int h, r;\n            std::cin >> h >> r;\n            I[i] = {h, r};\n        }\n        assert(I.size() == n);\n        std::cin >> m;\n        std::vector<Matr> J(m);\n        for (int i = 0; i < m; i++) {\n            int h, r;\n            std::cin >> h >> r;\n            J[i] = {h, r};\n        }\n        assert(J.size() == m);\n\n        std::vector<Matr> A; A.reserve(n+m);\n        std::copy(I.begin(), I.end(), std::back_inserter(A));\n        std::copy(J.begin(), J.end(), std::back_inserter(A));\n\n        assert(A.size() == n+m);\n\n        int max_k = 0;\n        for (int i = 0; i < n+m; i++) {\n            int k = solve(A[i], A, 1);\n            if (k > max_k) max_k = k;\n        }\n        std::cout << max_k << std::endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <string>\n#include <map>\n#define rep(i,n) for(int i=0; i<n; ++i)\n\nusing namespace std;\nstruct Doll{\n    int H,R,L;\n    bool operator<(const Doll& right)const {\n        return H<right.H;\n    }\n    Doll(){\n      H=0; R=0; L=0;\n    }\n};\nint N, M;\nint main(){\n  while(cin >> N && N){\n      vector<Doll> D;\n      D.resize(200);\n      rep(i,N){\n        cin >> D[i+1].H >> D[i+1].R;\n      }\n      cin >> M;\n      rep(i,M){\n        cin >> D[N+i+1].H >> D[N+i+1].R;\n      }\n      sort(D.begin()+1, D.begin()+(N+M)+1);\n      int ans = 0;\n      for(int i=1; i<N+M+1; ++i){\n        int m = 0;\n        rep(j,i){\n            if(D[j].R<D[i].R && D[j].H<D[i].H && m<D[j].L){\n                m = D[j].L;\n            }\n        }\n        D[i].L = m+1;\n        ans = max(ans,D[i].L);\n      }\n      cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r,int i0,int i1)\n{\n\tint ans = 0;\n\tfor (int i=i0;i<d1.size();i++){\n\t\tDOLL &d=d1[i];\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r,i+1,i1)+1;\n\t\t\tans = max(a,ans);\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i=i1;i<d2.size();i++){\n\t\tDOLL &d=d2[i];\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r, i0, i+1)+1;\n\t\t\tans = max(a,ans);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\t\tint n,m;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tcin >> m;\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, 0, 0,0,0);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tsort(vc.begin(), vc.end());\n\t\t\n\n\t\t\n\t\tdp[0] = 1;\n\t\tdoll surface(vc[0].first, vc[0].second);\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tif( surface.first < vc[i].first && surface.second < vc[i].second )\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1] + 1;\n\t\t\t\tsurface.first = vc[i].first;\n\t\t\t\tsurface.second = vc[i].second;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int>P;\n\nint main() {\n\tint n;\n\twhile (scanf(\"%d\", &n), n) {\n\t\tvector<P>v1, v2;\n\t\trep(i, n) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv1.push_back(P(h, r));\n\t\t}\n\t\tint m; scanf(\"%d\", &m);\n\t\trep(i, m) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv2.push_back(P(h, r));\n\t\t}\n\t\tsort(v1.begin(), v1.end());\n\t\tsort(v2.begin(), v2.end());\n\t\tv1.push_back(P(2000, 2000));\n\t\tv2.push_back(P(2000, 2000));\n\t\tint cnt1 = 0;\n\t\trep(i, n + 1) {\n\t\t\trep(j, m) {\n\t\t\t\tif ((i&&v1[i - 1].first < v2[j].first&&v1[i - 1].second < v2[j].second) &&\n\t\t\t\t\tv2[j].first < v1[i].first&&v2[j].second < v1[i].second)\n\t\t\t\t\tcnt1++;\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\trep(i, m + 1) {\n\t\t\trep(j, n) {\n\t\t\t\tif ((i&&v2[i - 1].first < v1[j].first&&v2[i - 1].second < v2[j].second) &&\n\t\t\t\t\tv1[j].first < v2[i].first&&v1[j].second < v2[i].second)\n\t\t\t\t\tcnt2++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", max(cnt1 + n, cnt2 + m));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n#define SUPAML 101\n#define SUPBML 101\n\nstruct M{\n\tint h, r, i;\n};\n\nint aml,bml;\nint ml;\nM ams[SUPAML],bms[SUPBML];\nM ms[SUPAML+SUPBML];\nint rs[SUPAML+SUPBML];\n\nint main(){\n\twhile(true){\n\t\tcin >> aml;\t\t\tif(!aml) return 0;\n\t\tFOR(ami,0,aml){\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\tams[ami].h=h; ams[ami].r=r;\n\t\t}\n\t\tcin >> bml;\n\t\tFOR(bmi,0,bml){\n\t\t\tint h,r;\n\t\t\tcin >> h >> r;\n\t\t\tbms[bmi].h=h; bms[bmi].r=r;\n\t\t}\n\t\t\n\t\tml = aml+bml;\n\t\tint ami=0,bmi=0;\n\t\tFOR(mi,0,ml){\n\t\t\tM m;\n\t\t\tif(ami==aml) m=bms[bmi++];\n\t\t\telse if(bmi==bml) m=ams[ami++];\n\t\t\telse { M am=ams[ami], bm=bms[bmi];\n\t\t\t\tif(am.h<bm.h || (am.h==bm.h)&&(am.r<=bm.r)) {m=am; ami++;}\n\t\t\t\telse {m=bm; bmi++;}\n\t\t\t}\n\t\t\tm.i=mi;ms[mi]=m;\n\t\t}\n\n\t\tfill(rs,rs+ml,1);\n\t\tFOR(mi,0,ml){\tM m=ms[mi];\n\t\t\tFOR(ni,0,mi){\tM n=ms[ni];\n\t\t\t\tif(n.h<m.h&&n.r<m.r) rs[mi] = max(rs[mi],rs[ni]+1);\n\t\t\t\telse rs[mi] = max(rs[mi],rs[ni]);\n\t\t\t}\n\t\t}\n\n\t\tcout << rs[ml-1] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n  \n    for(i=1;i<1001;i++){\n      dp[i][1]=dp[i-1][1]+doll[i][1];\n      for(j=2;j<1001;j++){\n\tdp[i][j]=max(dp[i-1][j],dp[i][j-1])+doll[i][j];\n\tif(doll[i][j]){\n\t  // printf(\"i=%d j=%d doll=%d\\n\",i,j,dp[i][j]);\n\t  for(int k=j+1;k<1001;k++)\n\t    dp[i][k]=dp[i][j];\n\t  break;\n\t}\n      }\n    }\n \n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n  \n    for(i=1;i<1001;i++){\n      for(j=1;j<1001;j++){\n\tdp[i][j]=max(max(dp[i-1][j],dp[i][j-1]),dp[i-1][j-1]+doll[i][j]);\n      }\n    }\n \n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\ntypedef pair<int, int> P;\n\nconst int MAX_N = 1001;\nint dp[MAX_N];\n//int h[MAX_N * 2], r[MAX_N * 2];\n// ???????????????\n\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\t\n\tint n;\n\twhile(cin >> n && n != 0){\n\t//cin >> n;\n\tvector<P> vec;\n\t\n\tfor(int i = 0; i < n; ++i){\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tvec.push_back(P(h, r));\n\t\t//cin >> h[i] >> r[i];\n\t}\n\t\n\tint m;\n\tcin >> m;\n\t\n\tfor(int i = n; i < n + m; ++i){\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tvec.push_back(P(h, r));\n\t\t//cin >> h[i] >> r[i];\n\t}\n\t\n\tsort(vec.begin(), vec.end());\n\t\n\tfor(int i = 0; i < n + m; ++i){\n\t\t//cout << vec[i].first << \" \" << vec[i].second << endl;\n\t\tdp[i] = 1;\n\t}\n\t\n\tint ans = 0;\n\tfor(int i = 0; i < n + m; ++i){\n\t\tfor(int j = 0; j < n + m; ++j){\n\t\t\tif(vec[i].first > vec[j].first && vec[i].second > vec[j].second){\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, dp[i]);\n\t\t}\n\t}\n\t\n\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef pair<int,int> pi;\n\nvector<pi> a;\nint A;\n\nint dp[200];\nint dfs(int now)\n{\n    if(dp[now]>=0) return dp[now];\n\n    int ret=1;\n    rep(i,A)\n    {\n        if(a[i].fi<a[now].fi && a[i].se<a[now].se)\n        {\n            ret=max(ret,1+dfs(i));\n        }\n    }\n\n    return dp[now]=ret;\n}\n\nint main()\n{\n    int n,m;\n    while(cin >>n,n)\n    {\n        a.clear();\n\n        rep(i,n)\n        {\n            int h,r;\n            scanf(\" %d %d\", &h, &r);\n            a.pb(pi(h,r));\n        }\n        cin >>m;\n        rep(i,m)\n        {\n            int h,r;\n            scanf(\" %d %d\", &h, &r);\n            a.pb(pi(h,r));\n        }\n\n        //n+m\n        A=a.size();\n\n        int ans=1;\n        memset(dp,-1,sizeof(dp));\n        rep(i,A) ans=max(ans,dfs(i));\n\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main() {\n\tint n;\n\twhile ( cin >> n, n ) {\n\t\tvector<int> h(n), r(n);\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tcin >> h[i] >> r[i];\n\t\t}\n\t\tint M; cin >> M;\n\t\th.resize(n+M);\n\t\tr.resize(n+M);\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tcin >> h[n+i] >> r[n+i];\n\t\t}\n\t\tn += M;\n\n\t\tint m[200][200] = {0};\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tfor (int j = 0; j < n; ++j) {\n\t\t\t\tif (h[i] < h[j] && r[i] < r[j]) {\n\t\t\t\t\tm[i][j] = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int k = 0; k < n; ++k) for (int i = 0; i < n; ++i) for (int j = 0; j < n; ++j) {\n\t\t\tif (m[i][k] && m[k][j]) {\n\t\t\t\tm[i][j] = min(m[i][j], m[i][k] + m[k][j]);\n\t\t\t}\n\t\t\tans = min(ans, m[i][j]);\n\t\t}\n\t\tcout << (-ans + 1) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 31;\nint n, m, p;\npair<int, int> doll[201];\nint dp[2][201], dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tp = lower_bound(dp[0], dp[0] + n + m, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (dp[1][i] == INF) break;\n\t\t\t*lower_bound(dp2, dp2 + n + m, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout << lower_bound(dp2, dp2 + n + m, INF) - dp2 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\nusing namespace std;\nconst int MAX = 100000;\nint dp[200];\n\nint dfs(int index, vector<pair<int, int> > &mato){\n\tif(dp[index]) return dp[index];\n\tif(!index) return 1;\n\tint maxc = 0;\n\tfor(int i = index-1; i >= 0; i--){\n\t\tif((mato[index].first<=mato[i].first)||(mato[index].second<=mato[i].second)) continue;\n\t\tmaxc = max(maxc, dfs(i, mato));\n\t}\n\tdp[index] = maxc+1;\n\treturn dp[index];\n}\n\nvoid substitute(int time, vector<pair<int, int> > &mato){\n\tfor(int i = 0; i < time; i++){\n\t\tpair<int, int> tmp;\n\t\tcin >> tmp.first >> tmp.second;\n\t\tmato.push_back(tmp);\n\t}\n}\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n != 0){\n\t\tfill(dp, dp+200, 0);\n\t\tvector<pair<int, int> > mato;\n\t\tsubstitute(n, mato);\n\t\tcin >> m;\n\t\tsubstitute(m, mato);\n\t\tsort(mato.begin(), mato.end());\n\t\tint maxc = 0;\n\t\tfor(int i = n+m-1; i >= 0; i--) maxc = max(maxc, dfs(i, mato));\n\t\tcout << maxc << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvector< pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(cin>>n && n){\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=0;j<i;j++){\n        if(doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r)\n{\n\tint ans = 0;\n\tfor (DOLL &d : d1){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r)+1;\n\t\t\tans = max(a,ans);\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (DOLL &d : d2){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r)+1;\n\t\t\tans = max(a,ans);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\t\tint n,m;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tcin >> m;\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, 0, 0);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint dp[200];\nvector<pair<int, int>> m;\n\nint main()\n{\n  while(true)\n  {\n    fill(dp, dp + 200, -1);\n    m.clear();\n\n    for(int i = 0; i < 2; i++)\n    {\n      int a;\n      cin >> a;\n      if(!a)\n        return 0;\n      for(int j = 0; j < a; j++)\n      {\n        int x, y;\n        cin >> x >> y;\n        m.push_back(make_pair(x, y));\n      } \n    }\n    sort(m.begin(), m.end());\n    int ans = 0;\n    for(int i = 0; i < m.size(); i++)\n    {\n      dp[i] = 1;\n      for(int j = 0; j < i; j++)\n        if(m[j].first < m[i].first && m[j].second < m[i].second)\n          dp[i] = max(dp[i], dp[j] + 1);\n      ans = max(ans, dp[i]);\n    }\n    cout << ans << endl;;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<int> dp;\nvector<int> x,y;\nint N;\n\nint calc(int id){\n\tif(dp[id]>=0) return dp[id];\n\tint res=1;\n\tfor(int i=0;i<N;i++){\n\t\tif(x[id]>x[i] && y[id]>y[i]){\n\t\t\tres=max(res,calc(i)+1);\n\t\t}\n\t}\n\tdp[id]=res;\n\treturn res;\n}\n\nint main()\n{\n\tint n,m;\n\twhile(cin>>n){\n\t\tif(n==0) break;\n\t\tx=vector<int>();\n\t\ty=vector<int>();\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tx.push_back(a);\n\t\t\ty.push_back(b);\n\t\t}\n\t\tcin>>m;\n\t\tN=n+m;\n\t\tdp=vector<int>(N,-1);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tx.push_back(a);\n\t\t\ty.push_back(b);\n\t\t}\n\t\tint res=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tres=max(res,calc(i));\n\t\t}\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int n, m, h, r;\n    while (cin >> n, n) {\n        vector<pair<int,int> > v;\n        for (int i=0; i<n; ++i) {\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        cin >> m;\n        for (int i=0; i<m; ++i) {\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        sort(v.begin(), v.end());\n        int mx = 0, dp[100];\n        for (int i=0; i<n+m; ++i) {\n            dp[i] = 1;\n            for (int j=0; j<i; ++j) {\n                if (v[j].first < v[i].first && v[j].second < v[i].second) {\n                    dp[i] = max(dp[i], dp[j] + 1);\n                }\n            }\n            mx = max(mx, dp[i]);\n        }\n        cout << mx << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n\nclass Doll{\npublic:\n    int h;\n    int r;\n    int dp;\n    static bool Less(const Doll& l, const Doll& r){\n\treturn l.h < r.h;\n    }\n    Doll(int x, int y, int z){\n\th = x; r = y; dp = z;\n    }\n};\n\ntypedef vector<Doll> Dolls;\n\nint main(){\n    int n, m, h, r, result=0;\n    Dolls dolls;\n    while(cin >> n, n){\n\tfor(int i=0; i<n; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tcin >> m;\n\tfor(int i=0; i<m; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tsort(dolls.begin(), dolls.end(), Doll::Less);\n\t\n\tfor(Dolls::iterator it1=dolls.begin()+1;it1 != dolls.end(); ++it1){\n\t    for(Dolls::iterator it2=dolls.begin();it2 != it1; ++it2){\n\t\tif(it2->h < it1->h && it2->r < it1->r && it1->dp <= it2->dp){\n\t\t    it1->dp = it2->dp + 1;\n\t\t    result = max(result, it1->dp);\n\t\t}\n\t    }\n\t}\n\tcout << result << endl;\n\tdolls.clear();\n\tresult = 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint n, m;\nint d[200][2], dp[200];\n\nint main()\n{\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            int max = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]&&d[j][1] < d[i][1]){\n                        a = dp[j];\n                    }\n                }\n                dp[i] += a;\n                if(max <= dp[i]){\n                    max = dp[i];\n                }\n            }\n            cout << max << endl;\n        }else{\n            break;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\nusing namespace std;\nint n, m, dp[2000]; pair<int, int> a[2000];\nint main() {\n\twhile(true) {\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++) scanf(\"%d%d\", &a[i].first, &a[i].second);\n\t\tscanf(\"%d\", &m);\n\t\tfor(int i = 0; i < m; i++) scanf(\"%d%d\", &a[n + i].first, &a[n + i].second);\n\t\tsort(a, a + n + m);\n\t\tint ret = 0;\n\t\tfor(int i = 0; i < n + m; i++) dp[i] = -1;\n\t\tfor(int i = 0; i < n + m; i++) {\n\t\t\tbool flag = false;\n\t\t\tfor(int j = 0; j < ret; j++) {\n\t\t\t\tif(dp[j] >= a[i].second) {\n\t\t\t\t\tdp[j] = a[i].second; flag = true; break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!flag) dp[ret] = a[i].second, ret++;\n\t\t}\n\t\t//for(int i = 0; i < n + m; i++) printf(\"%d %d\\n\", a[i].first, a[i].second);\n\t\t//for(int i = 0; i < ret; i++) printf(\"%d\\n\", dp[i]);\n\t\tprintf(\"%d\\n\", ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define LL long long\n#define VI vector<int>\n#define VVI vector<vector<int>>\n#define VVVI vector<vector<vector<int>>>\n#define VVVVI vector<vector<vector<vector<int>>>>\n#define VL vector<LL>\n#define VVL vector<vector<LL>>\n#define VVVL vector<vector<vector<LL>>>\n#define VVVVL vector<vector<vector<vector<LL>>>>\n#define VB vector<bool>\n#define FOR(i,a,b) for(int i= (a); i<((int)b); ++i)\n#define RFOR(i,a) for(int i=(a); i >= 0; --i)\n#define FOE(i,a) for(auto i : a)\n#define ALL(c) (c).begin(), (c).end()\n#define RALL(c) (c).rbegin(), (c).rend()\n#define DUMP(x)  cerr << #x << \" = \" << (x) << endl;\n#define SUM(x) std::accumulate(ALL(x), 0LL)\n#define MIN(v) *std::min_element(v.begin(), v.end())\n#define MAX(v) *std::max_element(v.begin(), v.end())\n#define EXIST(v,x) (std::find(v.begin(), v.end(), x) != v.end())\n#define BIT(n) (1LL<<(n))\n#define UNIQUE(v) v.erase(unique(v.begin(), v.end()), v.end());\n#define EPS 1e-14\n\ntemplate<class T> T ceil(T a, T b) { return (a + b - 1) / b; }\ntemplate<class T> void print(T x) { std::cout << x << std::endl; }\n\nconst std::string YES = \"YES\", Yes = \"Yes\", NO = \"NO\", No = \"No\";\nconst std::vector<int> dy = { 0, -1, 0, 1 }, dx = { 1, 0, -1, 0 };    // 4近傍（右, 下, 左, 上）\n\nusing namespace std;\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    while (true) {\n        int N, M;\n        cin >> N;\n        if (N == 0) { break; }\n\n        vector<pair<int, int>> v;\n        FOR(i, 0, N) {\n            int h, r;\n            cin >> h >> r;\n            v.emplace_back(make_pair(h, r));\n        }\n        cin >> M;\n        FOR(i, 0, M) {\n            int h, r;\n            cin >> h >> r;\n            v.emplace_back(make_pair(h, r));\n        }\n        sort(ALL(v));\n\n        VVI dp(v.size() + 1, VI(v.size(), -1));\n        dp[0][0] = 1;\n\n        FOR(i, 0, v.size()) {\n            int h1 = v[i].first, r1 = v[i].second;\n\n            FOR(j, 0, dp[0].size()) {\n                if (dp[i][j] != -1) {\n\n                    dp[i + 1][j] = max(dp[i + 1][j], dp[i][j]);\n\n                    int h2 = v[j].first, r2 = v[j].second;\n                    if (h2 < h1 and r2 < r1) {\n                        dp[i + 1][i] = max(dp[i + 1][i], dp[i][j] + 1);\n                    }\n                }\n            }\n        }\n\n        print(MAX(dp[v.size()]));\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 206\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   //ini\n   for(int i=0;i<=n;i++)      \n      dp[i] =0;\n\n\n   for(int i=0;i<(n+m);i++){\n      dp[i+1] = 1;\n      for(int j=0;j<i;j++)\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i+1]+1,dp[j]+1);\n      }\n   }\n\n   cout << dp[n+m] << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      rep(i,n){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+n+m);\n      /*\n      rep(i,n+m)\n\t cout << Dolls[i].h << \"  \" << Dolls[i].r<<endl;\n      */\n      solve();\n\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\nusing namespace std;\n\n\nint n, m;\nvector<pair<int, int>> d;\nvector<int> dp = { 0 };\n\n\nint solve(){\n\tdp[0] = d[0].second;\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i].second){\n\t\t\tdp.push_back(d[i].second);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i].second) = d[i].second;\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end());\n\n\t\tint ans = solve();\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<utility>\n#include<algorithm>\nusing namespace std;\n#define INF (1<<29)\n\n\n\npair<int,int> doll[200];\nint dp[200];\n\n\nint main(){\n\tint n,m;\n\twhile(cin>>n&&n){\n\t\tfor(int\ti=0;i<n;i++)cin>>doll[i].first>>doll[i].second;\n\t\tcin>>m;\n\t\tfor(int i=0;i<m;i++)cin>>doll[n+i].first>>doll[n+i].second;\n\t\tsort(doll,doll+n+m);\n\t\tfor(int i=0;i<n+m;i++)dp[i]=1;\n\t\tfor(int i=0;i<n+m;i++){\n\t\t\tfor(int j=i+1;j<n+m;j++){\n\t\t\t\tif(doll[i].first<doll[j].first && doll[i].second<doll[j].second){\n\t\t\t\t\tdp[j]=max(dp[j],dp[i]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<*max_element(dp,dp+n+m)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1,const P p2){\n\t\tif(p1.first == p2.first || p1.second == p2.second) return true;\n\t\treturn false;\n\t}\n};\n\nint main(){\n\tint n;\n\t\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\t\tsort(dolls.begin(),dolls.end());\n\t\tvector<P>::iterator it = unique(dolls.begin(),dolls.end(),mycmp());\n\t\tdolls.erase(it,dolls.end());\n\n\t\tint ans=1;\n\t\tfor(int i=0;i+1<dolls.size();i++){\n\t\t\tif(dolls[i].first < dolls[i+1].first\n\t\t\t\t&& dolls[i].second < dolls[i+1].second){\n\t\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[201], dp2[201];\n  P doll[200];\n  while(cin >> n && n){\n    fill(doll, doll+200, P(0, 0));\n    fill(dp, dp + 200, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      int *p;\n      p = lower_bound(dp, dp + 201, doll[i].S);\n\tif(doll[i].F != dp2[p-1-dp]){\n\t  *p = doll[i].S;\n\t  dp2[p-dp]=doll[i].F;\n\t}\n    }\n    cout << lower_bound(dp, dp + 201, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<n; i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define ALL(c) (c).begin(), (c).end() \nusing namespace std;\n\nstruct doll {\n\tint h, r; // h, r <= 1,000\n\tdoll() {}\n\tbool operator<(const doll& right) const {\n\t\treturn h == right.h ? r < right.r : h < right.h;\n\t}\n\tbool bigger_than(const doll d) {\n\t\treturn h > d.h && r > d.r;\n\t}\n};\n\n#define MAX 100\n\nint n, m; // n, m <= 100\nvector<doll> dolls;\nint dp[MAX * 2]; // dp[i]: i??????????????¢?????????????????£????????????\n\nint main()\n{\t\n\tint maxval, i;\n/************** input **************/\n\twhile(cin >> n, n) {\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(i = 0; i < m; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n/************** solve **************/\n\t\tsort(ALL(dolls));\n#if 0\n\t\tfor(int i = 0; i < n + m; i++)\n\t\t\tcout << dolls.at(i).h << \" \" << dolls.at(i).r << endl;\n#endif\n\t\tfor(i = 0; i < n + m; i++) {\n\t\t\tmaxval = 0;\n\t\t\tfor(int j = 0; j < i; j++) \n\t\t\t\tif(dolls.at(i).bigger_than(dolls.at(j)))\n\t\t\t\t\tmaxval = max(maxval, dp[j]);\n\t\t\tdp[i] = maxval + 1;\n\t\t}\n/************** output **************/\n\t\tmaxval = 0;\n\t\tfor(i = 0; i < n + m; i++)\n\t\t\tmaxval = max(maxval, dp[i]);\n\t\tcout << maxval << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 202\n\nstruct D{\n  int r, h;\n};\n\nbool ascending_M_r(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascending_M_h(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[MAX_NM];\n  D a[MAX_NM];\n\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++){\n      cin >> a[i].h >> a[i].r;\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> a[n+i].h >> a[n+i].r;\n    }\n\n    int lis_r = 0, lis_h = 0;\n    sort(a, a + n + m, ascending_M_r);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h && a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(a, a + n + m, ascending_M_h);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h && a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define MP(a, b) make_pair(a, b)\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint n, m;\nvector<pi>s;\nint dp[1024];\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n    s.clear();\n    int h, r;\n    rep(i, n){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n    scanf(\"%d\", &m);\n    rep(i, m){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n\n    sort(s.begin(), s.end());\n    memset(dp, 0, sizeof(dp));\n\n    int res = 0;\n    rep(i, s.size()){\n      dp[i] = 1;\n      rep(j, i) if(s[j].F < s[i].F && s[j].S < s[i].S){\n    dp[i] = max(dp[i], dp[j] + 1);\n      }\n      res = max(res, dp[i]);\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <utility>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(0);\n    while(true) {\n        vector<pair<int,int> > v;\n        for(int i = 0; i < 2; ++i) {\n            int N;\n            cin >> N;\n            if(!N) goto end;\n            while(N--) {\n                int H, R;\n                cin >> H >> R;\n                v.push_back(make_pair(H, R));\n            }\n        }\n        sort(v.begin(), v.end());\n        const int N = v.size();\n        int ans = 1;\n        vector<int> dp(N, 1);\n        for(int i = 0; i < N; ++i) {\n            for(int j = 0; j < i; ++j) {\n                if(v[j].first < v[i].first && v[j].second < v[i].second) {\n                    dp[i] = max(dp[i], dp[j]+1);\n                }\n            }\n            ans = max(ans, dp[i]);\n        }\n        cout << ans << endl;\n    }\nend:\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <limits>\n#include <cmath>\n#include <cfloat>\n\n#define FOR(i,b,n) for(int i=b;i<n;i++)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\n\nusing namespace std;\ntypedef pair<int, int> doll;\n\nint n, m;\nvector<doll> vc;\n\nint solve_rec(int d, int dp[])\n{\n\tint res = 1;\n\t\n\tif( dp[d] != 0 )\n\t{\n\t\treturn dp[d];\n\t}\n\telse\n\t{\n\t\tFOR(i, 0, n+m)\n\t\t{\n\t\t\tif( vc[i].first < vc[d].first && vc[i].second < vc[d].second )\n\t\t\t{\n\t\t\t\tres = max(res, solve_rec(i, dp)+1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdp[d] = res;\n\t\treturn res;\n\t}\n}\n\nint solve()\n{\n\tint res = 1;\n\tint dp[1000] = {0};\n\n\tFOR(i, 0, n+m)\n\t{\n\t\tres = max(res, solve_rec(i, dp));\n\t}\n\t\n\treturn res;\n}\nint main()\n{\n\twhile(cin >> n, n)\n\t{\n\t\tint res = 1;\n\t\tvc.clear();\n\n\t\tFOR(i, 0, n)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\t\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tFOR(i, 0, m)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\t\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcout << solve() << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\twhile(true){\n\t\tP doll[200];//高さ　半径\n\t\tstd::cin>>ichiro;\n\t\tif(!ichiro){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<ichiro;i++){\n\t\t\tstd::cin>>doll[i].first>>doll[i].second;\n\t\t}\n\t\tstd::cin>>jiro;\n\t\tfor(int i=0;i<jiro;i++){\n\t\t\tstd::cin>>doll[i+ichiro].first>>doll[i+ichiro].second;\n\t\t}\n\t\tstd::sort(doll,doll+ichiro+jiro);\n\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\t\tfor(int i=1;i<ichiro+jiro;i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tdp[i]=std::max(dp[i],dp[j]+(doll[i].first!=doll[j].first&&doll[i].second>doll[j].second));\n\t\t\t}\n\t\t\tM=std::max(M,dp[i]);\n\t\t}\n\t\tstd::cout<<M<<std::endl;\n\t\tM=0;\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=0;\n\t}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\n\n\nint main()\n{\n\tint n, m;\n\tint table[250];\n\tpair<int, int> data[250];\n\n\twhile (cin >> n, n)\n\t{\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcin >> data[i].first >> data[i].second;\n\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++)\n\t\t\tcin >> data[n+i].first >> data[n+i].second;\n\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\tfor (int j = i + 1; j < n + m; j++)\n\t\t\t{\n\t\t\t\tif (data[i].first > data[j].first)\n\t\t\t\t\tswap(data[i], data[j]);\n\t\t\t}\n\t\t}\n\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\ttable[i] = 1;\n\t\t\tfor (int j = 0; j < i; j++)\n\t\t\t{\n\t\t\t\tif (data[i].first > data[j].first && data[i].second > data[j].second)\n\t\t\t\t\ttable[i] = max(table[i], table[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, table[i]);\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\n\nint main(){\n\tint n, m, a, b;\n\tP doll[201];\n\tint dp[201];\n\twhile (cin >> n && n){\n\t\tfill(dp, dp + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (doll[i].first != doll[i - 1].first){\n\t\t\t\ta=distance(dp,lower_bound(dp, dp + n + m, doll[i].second));\n\t\t\t\tdp[a] = doll[a].second;\n\t\t\t}\n\t\t}\n\t\tint ans;\n\t\tfor (int i = n + m - 1; i >= 0; --i){\n\t\t\tif (dp[i] != INF){\n\t\t\t\tans = i + 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t\t//cout << lower_bound(dp, dp + n + m, INF) - dp << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n\nusing namespace std;\n\nint main(){/*main*/\n  int i,j,k,n,h[201],hn2,hen,r[201],m,hn,count,ans[201],min,max;\n\n  while(1)\n    {/*while*/\n      max=0;\n      hen=0;\n      count=0;\n      h[0]=-1;\n      r[0]=-1;\n      for(i=0;i<201;i++)\n    {\n      ans[i]=0;\n    }\n      ans[0]=0;\n\n      cin >> n ;\n      if(n==0)break;\n      for(i=1;i<=n;i++)\n    {\n      cin >> h[i] >> r[i];\n    }\n\n      cin >> m;\n      for(i=n+1;i<=(m+n);i++)\n    {\n      cin >> h[i] >> r[i];\n    }\n\n      /*\n      for(i=1;i<(n+m);i++)\n      {\n      printf(\"TES_h%d %d  TES_r%d %d\\n\",i,h[i],i,r[i]);\n      }\n      */\n     \n\n\n      for(i=1;i<=(m+n);i++)\n    {/*for1*/\n      min=i;\n      for(j=i;j<=(m+n);j++)\n        {/*for2*/\n          if(h[j]<h[min])\n        {\n          min=j;\n        }\n        }/*E_for2*/\n      hn=h[min];\n      h[min]=h[i];\n      h[i]=hn;\n\n      hn2=r[min];\n      r[min]=r[i];\n      r[i]=hn2;\n    }/*E_for1*/\n\n \n      //    for(i=1;i<=(n+m);i++)\n      // {\n      //\tprintf(\"TES_h[%d] %d  TES_r[%d] %d\\n\",i,h[i],i,r[i]);\n      // }\n     \n\n       /*   for(i=1;i<=(m+n);i++)\n    {\n      if(h[i]>h[i-1] && r[i]>r[i-1])\n        {\n          count+=1;\n          ans[i]=1;\n        }\n      else\n        {\n          ans[i-1]=0;\n          for(j=1;j<=i;j++)\n        {\n          if((h[i]>h[j] && r[i]>r[j]) && ans[j]==0 &&(h[i]!=h[i-1] && r[i]!=r[i-1]))\n            {\n              hen++;\n            }\n\n        }\n          if(hen>0)count++;\n        }\n*/\n\n\n       for(i=1;i<=(m+n);i++)\n\t {\n\t   k=0;\n\t   for(j=1;j<i;j++)\n\t     {\n\t       if(r[i]>r[j] && j>k && ans[j]>ans[k])\n\t\t {\n\t\t   k=j;\n\t\t }\n\t       // cout << \"TES_max\"<< max << endl;\n\t     }\n\t   ans[i]=ans[k]+1;\n\t }\n       \n       max=-1;\n       for(i=1; i<=n+m; i++)\n\t {\n\t   if(max<ans[i])\n\t     {\n\t       max=ans[i];\n\t     }\n\t }\n\n   \n       \n       \n       cout << max << endl;\n       \n       \n    }/*E_while*/\n  return 0;\n}/*E_main*/"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n \nstruct doll{\n    int h,r;\n};\n \nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r > d2.r;\n    }\n    return d1.h < d2.h;\n}\n \nint main() {\n \n    while(1){\n \n        int n;\n \n        cin >> n;\n \n        if(n==0) break;\n \n        int h,r;\n \n        vector<doll> v;\n        doll tmp;\n \n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n \n        int m;\n \n        cin >> m;\n \n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n \n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n \n        sort(v.begin(),v.end());\n \n        int table[201][201];\n \n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n \n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n \n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) || (v[i].h > v[j].h && v[i].r > v[j].r) ){\n                    table[i][j] = 1;\n                    table[j][i] = 1;\n                }\n            }\n        }\n \n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n \n        int dp[201][201] = {0};\n \n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 0;\n            dp[0][i] = 1;\n        }\n \n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n \n        }\n \n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n \n        int ans = 0;\n \n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n \n        cout << ans << endl;\n \n \n    }\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 202\n\nstruct M{\n  int r, h;\n};\n\nbool ascending_M_r(const M& l, const M& r){\n  return l.r < r.r;\n}\nbool ascending_M_h(const M& l, const M& r){\n  return l.h < r.h;\n}\n\nint main(void){\n  int n, m, dp[MAX_NM];\n  M a[MAX_NM];\n\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++){\n      cin >> a[i].h >> a[i].r;\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> a[n+i].h >> a[n+i].r;\n    }\n\n    int lis_r = 0, lis_h = 0;\n    sort(a, a + n + m, ascending_M_r);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h < a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(a, a + n + m, ascending_M_h);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h < a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    printf(\"%d\\n\", max(lis_h, lis_r));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <functional>\nusing namespace std;\nvoid print(vector<vector<int> > dp){\n  cout << \"---------------\" << endl;\n  for(int i = 0;i  < dp.size();i++){\n\tfor(int j = 0;j < dp.size();j++){\n\t  cout << dp[i][j] << \" \";\n\t}\n\tcout << endl;\n  }\n}\nint cal(vector<pair<int,int> > vec){\n  vector<vector<int> > dp(vec.size(),vector<int>(vec.size(),0));  \n  for(int i = 0;i < vec.size()-1;i++){\n\tfor(int j = 0;j < vec.size();j++){\n\t  for(int k = j+1;k < vec.size();k++){\n\t\tif(vec[j].first > vec[k].first && vec[j].second > vec[k].second){\n\t\t  dp[i+1][k] = max(dp[i][j]+1,dp[i+1][k]);\n\n\t\t}\n\t  }\n\t}\n  }\n  int ans = 0;\n  for(int i = 0;i < vec.size();i++){\n\tans = max(ans,dp[vec.size()-1][i]);\n  }\n  return ans;\n}\nvoid print2(vector<int> vec){\n  for(int i = 0;i < vec.size();i++)\n\tcout << vec[i] << \" \";\n  cout << endl;\n\n}\nint cal2(vector<pair<int,int> > vec){\n  vector<int> dp(vec.size(),0);\n  for(int i = 0;i < vec.size();i++){\n\tfor(int j =i+1;j < vec.size();j++){\n\t  if(vec[i].first > vec[j].first && vec[i].second > vec[j].second){\n\t\tdp[j] = max(dp[i]+1,dp[j]);\n\t  }\n\t}\n//\tprint2(dp);\n  }\n  int ans = 0;\n  for(int i = 0;i < dp.size();i++){\n\tans = max(ans,dp[i]);\n  }\n  return ans;\n}\nint main(){\n  int n;\n\n  while(cin >> n && n!=0){\n\tvector<pair<int,int> > vec;\n\tvec.emplace_back(10000,10000);\n\tfor(int i = 0;i < n;i++){\n\t  int h,r;\n\t  cin >> h >> r;\n\t  vec.emplace_back(h,r);  \n\t}\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t  int h,r;\n\t  cin >> h >> r;\n\t  vec.emplace_back(h,r);\n\t}\n\tsort(vec.begin(),vec.end(),greater<pair<int,int> >());\n\tcout << cal(vec) << endl;\n//\tcout << cnt << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tP dolls[200];\n\tP dolls1[200];\n\tint n,m;\n\twhile(cin >> n,n){\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tcin >> m;\n\t\tfor(int i=n;i<n+m;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tdolls1[i].F=dolls[i].S,dolls1[i].S=dolls[i].F;\n\t\tsort(dolls,dolls+n+m);\n\t\tsort(dolls1,dolls1+n+m);\n\t\tint coux=0,couy=0,cx=0,cy=0;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tif(cx<dolls[i].F&&cy<dolls[i].S)\n\t\t\t\tcx=dolls[i].F,cy=dolls[i].S,coux++;\n\t\tcx=0,cy=0;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tif(cx>dolls1[i].F&&cy>dolls1[i].S)\n\t\t\t\tcx=dolls1[i].F,cy=dolls1[i].S,couy++;\n\t\tcout << max(coux,couy) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#define pb push_back\n\nstruct MTR {\n  int h, r;\n};\n\nint G[1000][1000];\n\nMTR mtr[200];\n\nint dfs(int s, int k, int N) {\n  int ret = 0;\n  \n  bool last = true;\n  for(int i=0; i<N; i++) {\n    if(G[s][i]) {\n      last = false;\n      ret = max(ret, dfs(i, k+1, N));\n    }\n  }\n  if(last) return k;\n  \n  return ret;\n}\n\nint main() {\n  \n  int n, m;\n  while(cin >> n && n) {\n    for(int i=0; i<n; i++) {\n      cin >> mtr[i].h >> mtr[i].r;\n    }\n    \n    cin >> m;\n    for(int i=n; i<n+m; i++) {\n      cin >> mtr[i].h >> mtr[i].r;\n    }\n    \n    fill(G[0], G[1000], 0);\n    \n    int N = n+m;\n    for(int i=0; i<N-1; i++) {\n      for(int j=0; j<N; j++) {\n\tif(mtr[i].h < mtr[j].h && mtr[i].r < mtr[j].r) {\n\t  G[i][j] = 1;\n\t}\n\tif(mtr[j].h < mtr[i].h && mtr[j].r < mtr[i].r) {\n\t  G[j][i] = 1;\n\t}\n      }\n    }\n    \n    int ans = 0;\n    \n    for(int i=0; i<N; i++) {\n      ans = max(ans, dfs(i, 1, N));\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 206\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   dp[1] = 1;\n   for(int i=0;i<(n+m);i++){\n      //dp[i+1] = 1;\n      for(int j=0;j<i;j++){\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i],dp[j+1]+1);\n\t }\n      }\n   }\n\n   cout << dp[n+m] << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      for(int i=0;i<n;i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+(n+m)-1);\n      solve();\n      /*\n      rep(i,n+m)\n\t cout << Dolls[i].h << \" \" << Dolls[i].r << \" \" << dp[i+1] << endl;\n      cout << endl;\n      */\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 206\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   dp[1] = 1;\n   for(int i=0;i<(n+m);i++){\n      //dp[i+1] = 1;\n      for(int j=0;j<i;j++){\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i],dp[j+1]+1);\n\t }\n      }\n   }\n\n   cout << dp[n+m] << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      for(int i=0;i<n;i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+(n+m)-1);\n      solve();\n      rep(i,n+m)\n\t cout << Dolls[i].h << \" \" << Dolls[i].r << \" \" << dp[i+1] << endl;\n      cout << endl;\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<climits>\n#include<string>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#include<cmath>\n#include<queue>\n#include<cstring>\n#include<stack>\n#include<functional>\nusing namespace std;\n\nstruct Doll{\n\tint h,r;\n\tbool operator <(const Doll &a)const{\n\t\treturn h<a.h;\n\t}\n};\n\nint main(){\n\tint N,M;\n\twhile(cin>>N,N){\n\t\tvector<Doll> d;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tDoll in; cin>>in.h>>in.r; d.push_back(in);\n\t\t}\n\t\tcin>>M;\n\t\tfor(int i=0;i<M;i++){\n\t\t\tDoll in; cin>>in.h>>in.r; d.push_back(in);\n\t\t}\n\n\t\tsort(d.begin(),d.end());\n\t\tint dp[201][1000] = {}, ans = 0;\n\t\tfor(int i=0,cnt=0; cnt<d.size(); cnt++){\n\t\t\tif(cnt!=0 && d[cnt-1].h!=d[cnt].h) i++;\n\t\t\tfor(int j=0;j<d[cnt].r;j++){\n\t\t\t\tans = max(ans, dp[i+1][d[cnt].r] = max(dp[i+1][d[cnt].r], dp[i][j]+1));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 0157 最長増加部分列\n#include <iostream>\n#include <algorithm>\n#include <map>\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n\nusing namespace std;\nbool compare_h(pair<int, int> a, pair<int, int> b){\n\treturn a.first < b.first;\n}\nbool compare_r(pair<int, int> a, pair<int, int> b){\n\treturn a.second < b.second;\n}\n\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n){\n\t\tint dp[256];\n\t\t// high, r\n\t\tpair<int, int> dolls[256];\n\t\trep(i, n){\n\t\t\tcin >> dolls[i].first >> dolls[i].second;\n\t\t}\n\t\tcin >> m;\n\t\trep(i, m){\n\t\t\tcin >> dolls[i+n].first >> dolls[i+n].second;\n\t\t}\n\n\n\t\t// hの最長増加部分列\n\t\t// hについてソートしrの最長増加部分列を求める\n\t\tint hlis = 0;\n\t\tsort(dolls, dolls+n+m, compare_h);\n\t\tdp[0] = 1;\n\t\tfor(int i = 1; i < n+m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j = 0; j < i; j++){\n\t\t\t\tif(dolls[j].second < dolls[i].second && dolls[j].first != dolls[i].first){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\thlis = max(hlis, dp[i]);\n\t\t}\t\t\t\t\t\n\t\t\n\t\t// rの最長増加部分列\n\t\t// rについてソートしhの最長増加部分列を求める\n\t\tint rlis = 0;\n\t\tsort(dolls, dolls+n+m, compare_r);\n\t\tdp[0] = 1;\n\t\tfor(int i = 1; i < n+m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j = 0; j < i; j++){\n\t\t\t\tif(dolls[j].first < dolls[i].first && dolls[j].second != dolls[i].second){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\trlis = max(rlis, dp[i]);\n\t\t}\n\n\t\tcout << max(rlis, hlis) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\n\nconst int MAX_N = 201;\nconst int MAX_H = 1001;\nconst int MAX_R = MAX_H;\nint N;\npair<int,int> E[MAX_N];\nint T[MAX_H];\n\nint solve() {\n  int ans = 0;\n  sort(E,E+N);\n  fill(T,T+MAX_N,1);\n  for(int i = 0; i < N; ++i) {\n    for(int j = 0; j < i; ++j) {\n      if(E[i].first > E[j].first && E[i].second > E[j].second) {\n\tT[i] = max(T[i], T[j] + 1);\n\tans = max(ans, T[i]);\n      }\n    }\n  }\n  return ans;\n}\n\nint main() {\n  while(cin >> N && N) {\n    for(int i = 0; i < N; ++i) cin >> E[i].first >> E[i].second;\n    int m;\n    cin >> m;\n    for(int i = 0; i < m; ++i) cin >> E[N+i].first >> E[N+i].second;\n    N += m;\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1<<30;\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvp in;\n\t\trep(i,n){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tin.pb(pii(a,b));\n\t\t}\n\t\tint s=n;\n\t\tcin>>n;\n\t\ts+=n;\n\t\trep(i,n){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tin.pb(pii(a,b));\n\t\t}\n\t\tsort(all(in));\n\t\tvi dp(s);\n\t\tdp[0]=1;\n\t\tloop(i,1,s){\n\t\t\trep(j,i)\n\t\t\t\tif(in[j].first<in[i].first&&\n\t\t\t\t\tin[j].second<in[i].second)\n\t\t\t\t\tdp[i]=max(dp[i],dp[j]+1);\n\t\t}\n\t\tint out=0;\n\t\trep(i,s)out=max(out,dp[i]);\n\t\tcout<<out<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={0,1,0,-1,1,-1,-1,1};\nconst int dy[]={-1,0,1,0,1,1,-1,-1};\nconst int INF = 1<<30;\nconst double EPS = 1e-15;\n#define PB push_back\n#define mk make_pair\n#define fi first\n#define se second\n#define ll long long\n#define reps(i,j,k) for(int i = (j); i < (k); i++)\n#define rep(i,j) reps(i,0,j)\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nvector < Pii > data;\nint N,M;\nint memo[1280][1280];\nint solve(int dep,int prev1,int prev2){\n\tif(dep == N+M){\n\t\treturn 0;\n\t}\n\tif(memo[prev1][prev2])return memo[prev1][prev2];\n\tint ret = 0;\n\treps(i,dep,N+M){\n\t\tif(prev1 < data[i].fi && prev2 < data[i].se){\n\t\t\tret = max(ret ,1 + solve(i+1,data[i].fi,data[i].se));\n\t\t}\n\t}\n\treturn memo[prev1][prev2] = ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&N),N){\n\t\tdata.clear();\n\t\tmemset(memo,0,sizeof(memo));\n\t\trep(i,N){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tscanf(\"%d\",&M);\n\t\trep(i,M){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tsort(data.begin(),data.end());\n\t\tprintf(\"%d\\n\",solve(0,0,0));\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\n\nint main(){\n\tint n, m, a, b;\n\tP doll[201];\n\tint dp[201];\n\twhile (cin >> n && n){\n\t\tfill(dp, dp + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (doll[i].first == doll[i - 1].first){\n\t\t\t\tdoll[i] = P(0, 0);\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\t*lower_bound(dp, dp + n + m, doll[i].second) = doll[i].second;\n\t\t}\n\t\tcout << lower_bound(dp, dp + n + m, INF) - dp << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define pb(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<pair<int,int> >v;\n        int m,x,y,a=1,c=1,b=201;\n        g(0,n){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        sort(v.begin(),v.end());\n        x=v[0].f,y=v[0].s;\n        g(1,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                a++;\n                x=v[i].f,y=v[i].s;\n            }\n            else\n                b=min(b,i);\n        }\n        if(b<201){\n            x=v[b].f,y=v[b].s;\n            g(b+1,m+n){\n                if(v[i].s>y&&v[i].f>x){\n                    c++;\n                    x=v[i].f,y=v[i].s;\n                }\n            }\n        }\n        cout<<max(a,c)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint n, m;\nint d[200][2], dp[200];\n\nint main()\n{\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        int a = d[j][0];\n                        int b = d[j][1];\n                        d[j][0] = d[j - 1][0];\n                        d[j][1] = d[j - 1][1];\n                        d[j - 1][0] = a;\n                        d[j - 1][1] = b;\n                    }\n                }\n            }\n            int max = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]&&d[j][1] < d[i][1]){\n                        a = dp[j];\n                    }\n                }\n                dp[i] += a;\n                if(max <= dp[i]){\n                    max = dp[i];\n                }\n            }\n            cout << max << endl;\n        }else{\n            break;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define p(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\n\nint m,n,x,y;\nvector<pair<int,int> >v;\nint e[101][1001][1001];\nint dfs(int i,int x,int y){\n    if(i==v.size())return 0;\n    if(e[i][x][y]!=-1){\n        return e[i][x][y];\n    }\n    e[i][x][y]=max(dfs(i+1,x,y),(v[i].f>x&&v[i].s>y)?dfs(i+1,v[i].f,v[i].s)+1:0);\n    return e[i][x][y];\n}\nint main(){\n    while(cin>>n,n){\n        g(0, 101)\n        for(int j=0;j<1001;j++)\n            for(int k=0;k<1001;k++)\n                e[i][j][k]=-1;\n        v.clear();\n        g(0,n){\n            cin>>x>>y;\n            v.p(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.p(x, y);\n        }\n        sort(v.begin(),v.end());\n        cout<<dfs(0,0,0)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint dp[210];\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tarr.emplace_back(h, r);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++)\n\t\t{\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tarr.emplace_back(h, r);\n\t\t}\n\n\t\tsort(ALL(arr));\n\t\tfill(dp, dp + n + m, INF);\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\t*(lower_bound(dp, dp + n + m, arr[i].second)) = arr[i].second;\n\t\t}\n\t\tcout << (lower_bound(dp, dp + n + m, INF) - dp) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 202\n\nstruct D{\n  int r, h;\n};\n\nbool ascending_M_r(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascending_M_h(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[MAX_NM];\n  D a[MAX_NM];\n\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++){\n      cin >> a[i].h >> a[i].r;\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> a[n+i].h >> a[n+i].r;\n    }\n\n    int lis_r = 0, lis_h = 0;\n    sort(a, a + n + m, ascending_M_r);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h && a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(a, a + n + m, ascending_M_h);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h && a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    printf(\"%d\\n\", max(lis_h, lis_r));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <map>\n\nusing namespace std;\n\n#define fst first\n#define snd second\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\ntypedef pair<int,int> pii;\n\nint n,m;\nint dp[210];\npii dolls[210];\n\nconst int inf=1<<27;\n\nint main(void){\n\twhile(cin >> n ,n){\n\t\trep(i,210) dp[i]=0;\n\n\t\trep(i,n) cin >> dolls[i].fst >> dolls[i].snd;\n\t\tcin >> m;\n\t\trep(i,m) cin >> dolls[n+i].fst >> dolls[n+i].snd;\n\t\t\n\t\tsort(dolls,dolls+n+m);\n\n\t\tdp[0]=1;\n\t\trep(i,n+m){\n\t\t\trep(j,i){\n\t\t\t\tif(dolls[i].fst > dolls[j].fst && dolls[i].snd > dolls[j].snd)\n\t\t\t\t\tdp[i]=max(dp[i],dp[j]+1);\n\t\t\t}\n\t\t\t//cout << dolls[i].fst << \" \" << dolls[i].snd << endl;\n\t\t\t//cout << i << endl;\n\t\t\t//cout << dp[i] << endl;\n\t\t}\n\t\tint ans=0;\n\t\trep(i,n+m){\n\t\t\tans=max(ans,dp[i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nclass Matryoshka{\npublic:\n  int h;\n  int r; \n\n  bool operator < ( const Matryoshka &m ) const {\n    if( h < m.h  ){\n      return true;\n    }else{\n      return false;\n    }\n  }\n};\n\ntypedef vector< Matryoshka > Dolls;\n\nvoid MaxSubSequenceLength( Dolls &d, vector< int > &ans ){\n  ans[0] = 0;\n  for(int i = 1; i < d.size(); i++){\n    int maxSub = -1, maxj;\n\n    for(int j = i - 1; j >= 0; j--){\n      if( d[j].r < d[i].r && d[j].h < d[i].h ){\n\tif( maxSub < ans[j] ){\n\t  maxj = j;\n\t  maxSub = ans[j];\n\t}\n      }\n    }\n\n    ans[i] = ans[maxj] + 1;\n  }\n}\n\nvoid InputMatryoshka( Dolls &d, int num ){\n  for(int i = 0; i < num; i++){\n    Matryoshka m;\n    \n    cin >> m.h;\n    cin >> m.r;\n    d.push_back( m );\n  }\n}\n\nint main(void){\n  while( 1 ){\n    int n, m;\n    Dolls dolls;\n    Matryoshka matryoBanpei;\n    int maxMatryoshkaNum = 0;\n    vector<int> ans;\n\n    cin >> n;\n    if( n == 0 ){\n      break;\n    }\n\n    matryoBanpei.h = -1;\n    matryoBanpei.r = -1;\n    dolls.push_back( matryoBanpei );\n    \n    InputMatryoshka( dolls, n );\n\n    cin >> m;\n    InputMatryoshka( dolls, m );\n\n    sort( dolls.begin(), dolls.end() );\n    ans.resize( n+m+1, 0 );\n\n    MaxSubSequenceLength( dolls, ans );\n\n    //output\n    for(int i = 0; i < ans.size(); i++){\n      maxMatryoshkaNum = max( maxMatryoshkaNum, ans[i] );\n    }\n    cout << maxMatryoshkaNum << '\\n';\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int MAX = 101;\ntypedef pair<int,int> P;\n\nint main(){\n    int n,m,h,r;\n    \n    while(cin >> n ,n){\n        vector<P> v;\n        int dp[MAX] = {0};\n        \n        for(int i = 0 ; i < n ; i++){\n            cin >> h >> r;\n            v.push_back(P(h,r));\n        }\n        \n        cin >> m;\n        for(int i = 0 ; i < m ; i++){\n            cin >> h >> r;\n            v.push_back(P(h,r));\n        }\n        \n        sort(v.begin(),v.end());\n        \n        int res = 0;\n        for(int i = 0 ; i < n+m ; i++){\n            dp[i] = 1;\n            for(int j = 0 ; j < i ; j++){\n                if(v[j].first < v[i].first && v[j].second < v[i].second){\n                    dp[i] = max(dp[i],dp[j]+1);\n                }\n                res = max(res,dp[i]);\n            }\n        }\n        cout << res << endl;\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int sum=0;\n    int max=1000;\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]++;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]++;\n    }\n\n    for(i=1000;i>0;i--)\n      for(j=max;j>0;j--)\n\tif(doll[i][j]){\n\t  sum++;\n\t  max=j;\n\t  break;\n\t}\n\n    cout<<sum<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tdp[i] = dp[i - 1];\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstd::cout << dp[n - 1] << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,m,h,r;\n\tvector<P> mat;\n\tvector<int> lh,lr;\n\twhile(cin >> n,n){\n\t\tfor(int i = 0;i < n;i++) {\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = n;i < n + m;i++){\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tsort(mat.begin(),mat.end());\n\t\tfor(int i = 0;i < mat.size();i++){\n\t\t\tif(lh.empty()) {\n\t\t\t\tlh.push_back(mat[i].first);\n\t\t\t\tlr.push_back(mat[i].second);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(lr.back() < mat[i].second) {\n\t\t\t\t\tif(lh.back() < mat[i].first) {\n\t\t\t\t\t\tlh.push_back(mat[i].first);\n\t\t\t\t\t\tlr.push_back(mat[i].second);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint pos = lower_bound(lr.begin(),lr.end(),mat[i].second) - lr.begin();\n\t\t\t\t\tlh[pos] = mat[i].first;\n\t\t\t\t\tlr[pos] = mat[i].second;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << lh.size() << endl;\n\t\tlh.clear();\n\t\tlr.clear();\n\t\tmat.clear();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, ans, p, s, s2, s3;\npair<int,int> doll[201];\nint dp[2][201],dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n + 1; i <= n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll + 1, doll + 1 + n + m);\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tp = lower_bound(dp[0] + 1, dp[0] + n + m + 1, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\t*lower_bound(dp2 + 1, dp2 + n + m + 1, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout <<lower_bound(dp2 + 1, dp2 + n + m + 1, INF) - dp2 -1<< endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<n; i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define ALL(c) (c).begin(), (c).end() \nusing namespace std;\n\nstruct doll {\n\tint h, r; // h, r <= 1,000\n\tdoll() {}\n\tbool operator<(const doll& right) const {\n\t\treturn h == right.h ? r < right.r : h < right.h;\n\t}\n\tbool bigger_than(const doll d) {\n\t\treturn h > d.h && r > d.r;\n\t}\n};\n\n#define MAX 100\n\nint n, m; // n, m <= 100\nvector<doll> dolls;\nint dp[MAX * 2]; // dp[i]: i??????????????¢?????????????????£????????????\n\nint main()\n{\t\n\tint maxval, i;\n/************** input **************/\n\twhile(cin >> n, n) {\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(i = 0; i < m; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n/************** solve **************/\n\t\tsort(ALL(dolls));\n#if 0\n\t\tfor(int i = 0; i < n + m; i++)\n\t\t\tcout << dolls.at(i).h << \" \" << dolls.at(i).r << endl;\n#endif\n\t\tfor(i = 0; i < n + m; i++) {\n\t\t\tmaxval = 0;\n\t\t\tfor(int j = i - 1; j >= 0; j--) \n\t\t\t\tif(dolls.at(i).bigger_than(dolls.at(j)))\n\t\t\t\t\tmaxval = max(maxval, dp[j]);\n\t\t\tdp[i] = maxval + 1;\n\t\t}\n/************** output **************/\n\t\tmaxval = 0;\n\t\tfor(i = 0; i < n + m; i++)\n\t\t\tmaxval = max(maxval, dp[i]);\n\t\tcout << maxval << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<n; i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define ALL(c) (c).begin(), (c).end() \nusing namespace std;\n\nstruct doll {\n\tint h, r; // h, r <= 1,000\n\tdoll() {}\n\tbool operator<(const doll& right) const {\n\t\treturn h == right.h ? r < right.r : h < right.h;\n\t}\n\tbool bigger_than(const doll d) {\n\t\treturn h > d.h && r > d.r;\n\t}\n};\n\n#define MAX 100\n\nint n, m; // n, m <= 100\nvector<doll> dolls;\nint dp[MAX * 2]; // dp[i]: i??????????????¢?????????????????£????????????\n\nint main()\n{\t\n\tint maxval, i;\n/************** input **************/\n\twhile(cin >> n, n) {\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(i = 0; i < m; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n/************** solve **************/\n\t\tsort(ALL(dolls));\n#if 0\n\t\tfor(int i = 0; i < n + m; i++)\n\t\t\tcout << dolls.at(i).h << \" \" << dolls.at(i).r << endl;\n#endif\n\t\tfor(i = 0; i < n + m; i++) {\n\t\t\tmaxval = 0;\n\t\t\tfor(int j = i - 1; j >= 0; j--) \n\t\t\t\tif(dolls.at(i).bigger_than(dolls.at(j)))\n\t\t\t\t\tmaxval = max(maxval, dp[j]);\n\t\t\tdp[i] = maxval + 1;\n\t\t}\n/************** output **************/\n\t\tmaxval = 0;\n\t\tfor(i = n + m; i >= 0; i--)\n\t\t\tmaxval = max(maxval, dp[i]);\n\t\tcout << maxval << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<pll> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back(make_pair(h,r));\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back(make_pair(h,r));\n    }\n    ll ans = 1,tmp = 1;\n    h = v[0].fi,r = v[0].se;\n    sort(all(v),[](const pll& a,const pll &b){\n        if(a.fi == b.fi) return a.se < b.se;\n        return a.fi < b.fi;});\n    rep(i,n+m){\n      if(v[i].fi > h && v[i].se > r){\n        h = v[i].fi;\n        r = v[i].se;\n        ++ans;\n      }\n    }\n    sort(all(v),[](const pll& a,const pll &b){\n        if(a.se == b.se) return a.fi < b.fi;\n        return a.se < b.se;});\n    h = v[0].fi,r = v[0].se;\n    rep(i,n+m){\n      if(v[i].fi > h && v[i].se > r){\n        h = v[i].fi;\n        r = v[i].se;\n        ++tmp;\n      }\n    }\n    ans = max(ans,tmp);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<math.h>\n#include<stdlib.h>\n#include<cstdlib>\nusing namespace std;\n\nstruct ppp {\n  int h;\n  int r;\n};\n\nint tansaku(vector<ppp> c, vector<ppp> d, int cN, int dN, int ans, int cy, int dy) {\n  if(dN >= d.size()) {\n    for(int i = cN; i < c.size(); i++) {\n      if(d[dy].r < c[i].r && d[dy].h < c[i].h) {\n        ans++;\n        d[dy] = c[i];\n      }\n    }\n    return ans;\n  }\n  if(cN >= c.size()) {\n    for(int i = dN; i < d.size(); i++) {\n      if(d[i].r > c[cy].r && d[i].h > c[cy].h) {\n        ans++;\n        c[cy] = d[i];\n      }\n    }\n    return ans;\n  }\n  if(c[cN].h == d[dN].h) {\n    return c[cN].r > d[dN].r ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].r == d[dN].r) {\n    return c[cN].h > d[dN].h ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].h < d[dN].h && c[cN].r < d[dN].r) {\n    return tansaku(c, d, cN + 1, dN, ans + 1, cN, dy);\n  }\n  if(c[cN].h > d[dN].h && c[cN].r > d[dN].r) {\n    return tansaku(c, d, cN, dN + 1, ans + 1, cy, dN);\n  }\n  if((c[cN].h < d[dN].h && c[cN].r > d[dN].r) || (c[cN].h > d[dN].h && c[cN].r < d[dN].r)) {\n    return max(tansaku(c, d, cN + 1, dN, ans + 1, cN, dy), tansaku(c, d, cN, dN + 1, ans + 1, cy, dN));\n  }\n  return ans;\n}\n\nint main() {\n  int a, b;\n  int j = 0;\n  while(cin >> a) {\n    j++;\n    vector<ppp> c(a);\n    for(int i = 0; i < a; i++) {\n      cin >> c[i].h >> c[i].r;\n    }\n    cin >> b;\n    vector<ppp> d(b);\n    for(int i = 0; i < b; i++) {\n      cin >> d[i].h >> d[i].r;\n    }\n    cout << tansaku(c, d, 0, 0, 0, 0, 0) << endl;\n    if(j == 3) break;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\nint low[200],ans;\nmat hr[200];\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    rep(i,n)cin>>hr[i].h>>hr[i].r;\n    int m;\n    cin>>m;\n    rep(i,m)cin>>hr[i+n].h>>hr[i+n].r;\n\n    \n    memset(low,0,sizeof(0));\n\n    stable_sort(hr,hr+m+n,lessh);\n    stable_sort(hr,hr+m+n,lessr);\n\n    int ans=0;\n    rep(i,n+m){\n      rep(j,i){\n\tif(hr[j].h<hr[i].h && hr[j].r<hr[i].r){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tdp[i] = dp[i - 1];\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t\t//break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstd::cout << dp[n - 1] << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nvoid solve()\n{\n\tint n;\n\twhile(cin >> n, n)\n\t{\n\t\tmap<int, int> data;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tvector<P> doll;\n\t\t/*map<int, int>::reverse_iterator rit = data.rbegin();\n\t\twhile(rit != data.rend())\n\t\t{\n\t\t\tdoll.push_back(P(rit->first, rit->second));\n\t\t\t++rit;\n\t\t}*/\n\t\tmap<int, int>::iterator it = data.begin();\n\t\twhile(it != data.end())\n\t\t{\n\t\t\tdoll.push_back(P(it->first, it->second));\n\t\t\t++it;\n\t\t}\n\t\tint max_doll_count = 0;\n\t\tfor(int i = 0; i < doll.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll[i];\n\t\t\tfor(int j = i + 1; j < doll.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first < doll[j].first && current.second < doll[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*vector<P> doll2;\n\t\tmap<int, int>::reverse_iterator rit2 = data.rbegin();\n\t\twhile(rit2 != data.rend())\n\t\t{\n\t\t\tdoll2.push_back(P(rit2->second, rit2->first));\n\t\t\t++rit2;\n\t\t}\n\t\tfor(int i = 0; i < doll2.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll2[i];\n\t\t\tfor(int j = i + 1; j < doll2.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first > doll2[j].first && current.second > doll2[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll2[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}*/\n\t\tcout << max_doll_count << endl;\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <map>\n\nusing namespace std;\n\n#define fst first\n#define snd second\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\ntypedef pair<int,int> pii;\n\nint n,m;\nint dp[210];\npii dolls[210];\n\nconst int inf=1<<27;\n\nint main(void){\n\twhile(cin >> n ,n){\n\t\trep(i,210) dp[i]=inf;\n\n\t\trep(i,n) cin >> dolls[i].fst >> dolls[i].snd;\n\t\tcin >> m;\n\t\trep(i,m) cin >> dolls[n+i].fst >> dolls[n+i].snd;\n\t\t\n\t\tsort(dolls,dolls+n+m);\n\n\t\tint prev=-1;\n\t\trep(i,n+m){\n\t\t\tif(prev==dolls[i].fst)\n\t\t\t\tcontinue;\n\t\t\t*lower_bound(dp,dp+n+m,dolls[i].snd)=dolls[i].snd;\n\t\t\tprev=dolls[i].fst;\n\t\t}\n\t\tint ans=lower_bound(dp,dp+n+m,inf)-dp;\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvector< pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(cin>>n && n){\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    //sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=0;j<n+m;j++){\n        if(doll[i].first>doll[j].first && doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n    memset(dp,0,sizeof(dp));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint main(){\n\tint n[2],c[2];\n\twhile(cin>>n[0],n[0]){\n\t\tint h[2][110],r[2][110],mx[2][110];\n\t\trep(q,2){\n\t\t\trep(i,n[q])mx[q][i]=0,cin>>h[q][i]>>r[q][i];\n\t\t\tif(!q)cin>>n[1];\n\t\t}\n\t\tmx[0][0]=(h[0][0]>h[1][0]&&r[0][0]>r[1][0])+1;\n\t\tmx[1][0]=(h[0][0]<h[1][0]&&r[0][0]<r[1][0])+1;\n\t\tint p;\n\t\tc[0]=c[1]=p=0;\n\t\twhile(c[0]<n[0]||c[1]<n[1]){\n\t\t\tint tmax=0,f;\n\t\t\trep(k,2){\n\t\t\t\trep(i,n[k]){\n\t\t\t\t\tf=h[k][i]<h[p][c[p]]&&r[k][i]<r[p][c[p]];\n\t\t\t\t\tif(f&&tmax<mx[k][i])tmax=mx[k][i];\n\t\t\t\t\tif((f&&!mx[k][i])||c[p]==n[p]){\n\t\t\t\t\t\tp^=1;\n\t\t\t\t\t\tgoto NEXT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmx[p][c[p]++]=tmax+1;\n\t\t\tNEXT:;\n\t\t}\n\t\tcout<<max(mx[0][n[0]-1],mx[1][n[1]-1])<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> PII;\ntypedef complex<double> P;\nstatic const double EPS = 1e-8;\nstatic const int INF = (int)1e8;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) for (int i=0; i<(int)(n); ++i)\n#define FOREQ(i,k,n) for (int i=(k); i<=(int)(n); ++i)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FIND(m,w) ((m).find(w)!=(m).end())\nmap<PII,int> memo;\nint dfs(int h,int r,int n,vector<PII>& ich,vector<PII>& ji){\n  if(memo.find(PII(h,r))!=memo.end()){\n    int m = memo[PII(h,r)];\n    if(m>=n) return m;\n  }\n  int ret=n;\n  REP(i,ich.size()){\n    if(ich[i].first<h&&ich[i].second<r){\n      ret = max(ret,dfs(ich[i].first,ich[i].second,n+1,ich,ji));\n      break;\n    }\n  }\n  REP(i,ji.size()){\n    if(ji[i].first<h&&ji[i].second<r){\n      ret = max(ret,dfs(ji[i].first,ji[i].second,n+1,ich,ji));\n      break;\n    }\n  }\n  return ret;\n}\nint main(void){\n  int n,m;\n  while(cin>>n,n){\n    vector<PII> ich;\n    vector<PII> ji;\n    REP(i,n){\n      int h,r;\n      cin>>h>>r;\n      ich.push_back(PII(h,r));\n    } \n    cin>>m;\n    REP(i,m){\n      int h,r;\n      cin>>h>>r;\n      ji.push_back(PII(h,r));\n    }\n    reverse(ich.begin(),ich.end());\n    reverse(ji.begin(),ji.end());\n    cout<<dfs(INF,INF,0,ich,ji)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\n#define EPS (1e-7)\n#define INF (1e9)\n#define PI (acos(-1))\n#define MAXN 201\n#define rep(i,n) for (int i = 0; i < (n); ++i)\nconst ll mod = 1e9+7;\n\nstruct M {\n    int r, h;\n};\n\nbool comp_r (const M& l, const M& r) {\n    return l.r < r.r;\n}\n\nbool comp_h (const M& l, const M& r) {\n    return l.h < r.h;\n}\n\nint main() {\n\n\n    int n, m, dp[MAXN];\n    M a[MAXN];\n\n\n    while (cin >> n, n) {\n        vector<pair <int, int> >A;\n        int h, r;\n        rep(i, n) {\n            cin >> a[i].h >> a[i].r;\n        }\n        cin >> m;\n\n        rep(i, m) {\n            cin >> a[n+i].h >> a[n+i].r;\n        }\n\n        sort(a, a+n+m, comp_r);\n\n        dp[0] = 1;\n\n        for(int i=1; i<n+m; ++i) {\n            dp[i] = 1;\n            for(int j=0; j<i; ++j) {\n                if ( a[j].r < a[i].r and a[j].h < a[i].h ) {\n                    dp[i] = max(dp[i], dp[j]+1);\n                }\n            }\n        }\n\n        int res_r = dp[n+m-1];\n\n        sort(a, a+n+m, comp_h);\n\n        dp[0] = 1;\n        for(int i=1; i<n+m; ++i) {\n            dp[i] = 1;\n            for(int j=0; j<i; ++j) {\n                if ( a[j].r < a[i].r and a[j].h < a[i].h) {\n                    dp[i] = max(dp[i], dp[j]+1);\n                }\n            }\n        }\n        int res_h = dp[n+m-1];\n        cout << max(res_r, res_h) << endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nbool involve(P a, P b) {\n  return (a.first<b.first && a.second<b.second);\n}\n\nint main() {\n  int n, m, s, t;\n  int a[200];\n  P dolls[201];\n  while (1) {\n    cin >> n;\n    if (!n) break;\n    dolls[0].first = dolls[0].second = 0;\n    for (int i=1; i<=n; i++) {\n      cin >> dolls[i].first >> dolls[i].second;\n    }\n    cin >> m;\n    for (int i=1; i<=m; i++) {\n      cin >> dolls[i+n].first >> dolls[i+n].second;\n    }\n    s = n+m;\n    sort(dolls, dolls+s+1);\n    for (int i=0; i<=s; i++) {\n      a[i] = 0;\n    }\n    for (int i=1; i<=s; i++) {\n      for (int j=0; j<i; j++) {\n        if (involve(dolls[j], dolls[i])) {\n          a[i] = max(a[i], a[j]+1);\n        }\n      }\n    }\n    t = 0;\n    for (int i=0; i<=s; i++) {\n      if (t < a[i]) {\n        t = a[i];\n      }\n    }\n    cout << t << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<cstring>\n\ntypedef std::pair<int, int> P;\n\nP data[202];\nint dp[202];\n\nint main(){\n\n\tint n, m;\n\twhile (std::cin >> n, n){\n\n\t\tmemset(data, 0, sizeof(data));\n\t\tmemset(dp, 0, sizeof(dp));\n\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tstd::cin >> data[i].first >> data[i].second;\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 1; i <= m; i++){\n\t\t\tstd::cin >> data[i + n].first >> data[i + n].second;\n\t\t}\n\n\t\tstd::sort(data, data + 1 + n + m);\n\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tfor (int j = 0; j < i; j++){\n\t\t\t\tif (data[i].first > data[j].first&&data[i].second > data[j].second){\n\t\t\t\t\tdp[i] =  dp[j] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint max = 0;\n\t\tfor (int i = 0; i <= n + m; i++){\n\t\t\tif (dp[i] > max)max = dp[i];\n\t\t}\n\t\tstd::cout << max << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <queue>\n\nusing namespace std;\n\nbool exist[2000][2000];\nint max_doll[2000][2000];\n\nint main(){\n\t\n\tint n, m;\n\t\n\twhile(true){\n\t\t\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i <= 1000; i++){\n\t\t\tfor(int j = 0; j <= 1000; j++){\n\t\t\t\texist[i][j] = false;\n\t\t\t\tmax_doll[i][j] = 0;\n\t\t\t}\n\t\t}\n\t\t\n\t\tint h, r;\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> h >> r;\n\t\t\texist[h][r] = true;\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >> h >> r;\n\t\t\texist[h][r] = true;\n\t\t}\n\t\t\n\t\tfor(int i = 1; i <= 1000; i++){\n\t\t\tfor(int j = 1; j <= 1000; j++){\n\t\t\t\tif(exist[i][j]){\n\t\t\t\t\tmax_doll[i][j] = max(max(max_doll[i - 1][j], max_doll[i][j - 1]), max_doll[i - 1][j - 1] + 1);\n\t\t\t\t}else{\n\t\t\t\t\tmax_doll[i][j] = max(max_doll[i - 1][j], max_doll[i][j - 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << max_doll[1000][1000] << endl;\n\t\t\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\tif(p1.first < p2.first) return true;\n\t\telse if(p1.second < p2.second) return true;\n\t\telse false;\n\t}\n};\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tint* dp = new int[n+m];\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(int i=0;i<n+m;i++) dp[i] = 1;\n\n\t\tfor(int i=1;i<dolls.size();i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tif(dolls[j].first < dolls[i].first\n\t\t\t\t\t&& dolls[j].second < dolls[i].second){\n\t\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t\telse dp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[dolls.size()-1] << endl;\n\t\tdelete[] dp;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX_N 1000\nint x[MAX_N], y[MAX_N], X[MAX_N][MAX_N], dist[MAX_N];\nint A, B, N;\nint main() {\n\twhile (true) {\n\t\tcin >> A; if (A == 0) { break; } for (int i = 0; i < A; i++) { cin >> x[i] >> y[i]; }\n\t\tcin >> B; for (int i = B; i < A + B; i++) { cin >> x[i] >> y[i]; }N = A + B;\n\t\tfor (int i = 0; i < N; i++) { for (int j = 0; j < N; j++) { if (x[i] < x[j] && y[i] < y[j]) { X[i][j] = 1; } } }\n\t\tqueue<int>Q; int res = 0; for (int i = 0; i < N; i++) { dist[i] = 0; Q.push(i); }\n\t\twhile (true) {\n\t\t\tint a1 = Q.front(); Q.pop();\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tif (X[a1][i] == 1 && dist[a1] + 1>dist[i]) { dist[i] = dist[a1] + 1; Q.push(i); }\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < N; i++) { if (res < dist[i]) { res = dist[i]; } }cout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,m,h,r;\n\tvector<P> mat;\n\tvector<int> lh,lr;\n\twhile(cin >> n,n){\n\t\tfor(int i = 0;i < n;i++) {\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = n;i < n + m;i++){\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tsort(mat.begin(),mat.end());\n\t\tfor(int i = 0;i < mat.size();i++){\n\t\t\tif(lh.empty()) {\n\t\t\t\tlh.push_back(mat[i].first);\n\t\t\t\tlr.push_back(mat[i].second);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(lr.back() < mat[i].second) {\n\t\t\t\t\tif(lh.back() < mat[i].first) {\n\t\t\t\t\t\tlh.push_back(mat[i].first);\n\t\t\t\t\t\tlr.push_back(mat[i].second);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(lh.back() > mat[i].first){\n\t\t\t\t\t\tint pos = lower_bound(lr.begin(),lr.end(),mat[i].second) - lr.begin();\n\t\t\t\t\t\tlh[pos] = mat[i].first;\n\t\t\t\t\t\tlr[pos] = mat[i].second;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << lh.size() << endl;\n\t\tlh.clear();\n\t\tlr.clear();\n\t\tmat.clear();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nvoid solve()\n{\n\tint n;\n\twhile(cin >> n, n)\n\t{\n\t\tmap<int, int> data;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdata.insert(map<int, int>::value_type(h, r));\n\t\t}\n\t\tvector<P> doll;\n\t\tmap<int, int>::reverse_iterator rit = data.rbegin();\n\t\twhile(rit != data.rend())\n\t\t{\n\t\t\tdoll.push_back(P(rit->first, rit->second));\n\t\t\t++rit;\n\t\t}\n\t\tint max_doll_count = 0;\n\t\tfor(int i = 0; i < doll.size(); ++i)\n\t\t{\n\t\t\tint doll_count = 1;\n\t\t\tP current = doll[i];\n\t\t\tfor(int j = i + 1; j < doll.size(); ++j)\n\t\t\t{\n\t\t\t\tif(current.first > doll[j].first && current.second > doll[j].second)\n\t\t\t\t{\n\t\t\t\t\t++doll_count;\n\t\t\t\t\tcurrent = doll[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(max_doll_count < doll_count)\n\t\t\t{\n\t\t\t\tmax_doll_count = doll_count;\n\t\t\t}\n\t\t}\n\t\tcout << max_doll_count << endl;\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n  int i,a,b,n,m,hn[100],rn[100],hm[100],rm[100],h[100],r[100],k[2];\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n    for(i=0;i<n;i++) cin >> hn[i] >> rn[i];\n    cin >> m;\n    for(i=0;i<m;i++) cin >> hm[i] >> rm[i];\n\n    a = 0;\n    b = 0;\n    for(i=0;i<m+n;i++){\n      if(a < n && b < m && hn[a] < hm[b] || a < n && b >= m){\n\t  h[i] = hn[a];\n\t  r[i] = rn[a++];\n\t}\n      else{\n\th[i] = hm[b];\n\tr[i] = rm[b++];\n      }\n    }\n\n      k[0] = 1;\n      for(i=1;i<m+n;i++){\n\tif(h[i] > h[i-1] && r[i] > r[i-1]) k[0]++;\n      }\n\n    for(i=0;i<m+n;i++){\n      if(a < n && b < m && rn[a] < rm[b] || a < n && b >= m){\n\t  h[i] = hn[a];\n\t  r[i] = rn[a++];\n\t}\n      else{\n\th[i] = hm[b];\n\tr[i] = rm[b++];\n      }\n    }\n\n      k[1] = 1;\n      for(i=1;i<m+n;i++){\n\tif(h[i] > h[i-1] && r[i] > r[i-1]) k[1]++;\n      }\n\n      if(k[0] > k[1]) cout << k[0] << endl;\n      else cout << k[1] << endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\n\nclass doll;\n\n\nint n, m;\nvector<doll> d;\nvector<int> dp = { 0 };\n\n\nclass doll{\npublic:\n\tint h;\n\tint r;\n\tdoll(int h, int r) : h(h), r(r){}\n\tint operator[](char member){\n\t\tif (member == 'h') return h;\n\t\telse if(member == 'r') return r;\n\t\telse return -1;\n\t}\n};\n\n\nint solve(char member){\n\tdp[0] = d[0][member];\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i][member]){\n\t\t\tdp.push_back(d[i][member]);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i][member]) = d[i][member];\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n != 0){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.h < d2.h);\n\t\t});\n\n\t\tint ans = solve('r');\n\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.r < d2.r);\n\t\t});\n\n\t\tans = max(ans, solve('h'));\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\n\nclass doll;\n\n\nint n, m;\nvector<doll> d;\nvector<int> dp = { 0 };\n\n\nclass doll{\npublic:\n\tint h;\n\tint r;\n\tdoll(int h, int r) : h(h), r(r){}\n\tint operator[](char member){\n\t\tif (member == 'h') return h;\n\t\telse if(member == 'r') return r;\n\t\telse return -1;\n\t}\n};\n\n\nint solve(char member){\n\tdp[0] = d[0][member];\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i][member]){\n\t\t\tdp.push_back(d[i][member]);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i][member]) = d[i][member];\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n != 0){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.h < d2.h);\n\t\t});\n\n\t\tint ans = solve('r');\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define MP(a, b) make_pair(a, b)\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint n, m;\nvector<pi>s;\nint dp[1024];\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n    s.clear();\n    int h, r;\n    rep(i, n){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n    scanf(\"%d\", &m);\n    rep(i, m){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n\n    sort(s.begin(), s.end());\n    memset(dp, 0, sizeof(dp));\n\n    int res = 0;\n    rep(i, s.size()){\n      dp[i] = 1;\n      rep(j, i) if(s[j].F < s[i].F && s[j].S < s[i].S){\n\tdp[i] = max(dp[i], dp[j] + 1);\n      }\n      res = max(res, dp[i]);\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\n\nint main(){\n\tint n, m, a, b;\n\tP doll[201];\n\tint dp[201];\n\twhile (cin >> n && n){\n\t\tfill(dp, dp + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (doll[i].first != doll[i - 1].first){\n\t\t\t\t*lower_bound(dp, dp + n + m, doll[i].second) = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tint ans;\n\t\tfor (int i = n + m - 1; i >= 0; --i){\n\t\t\tif (dp[i] != INF){\n\t\t\t\tans = i + 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t\t//cout << lower_bound(dp, dp + n + m, INF) - dp << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int i,j,n,m,ans;\n  int h[200],r[200],dp[200];\n  for(;;){\n    cin >> n;\n    if(!n)break;\n\n    for(i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >> m;\n    for(i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(i=0;i<n+m;i++)\n      for(j=i+1;j<n+m;j++)\n\tif(h[i]>h[j] || (h[i]==h[j] && r[i]>r[j])){\n\t  swap(h[i],h[j]);\n\t  swap(r[i],r[j]);\n\t}\n   \n    ans = 0;\n    dp[0] = 1;\n    for(i=1;i<n+m;i++){\n      dp[i] = 1;\n      for(j=0;j<i;j++)\n\tif(h[i]>h[j] && r[i]>r[j])dp[i] = max(dp[i],dp[j]+1);\n      ans = max(ans,dp[i]);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#include<set>\n#include<complex>\n#include<map>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define CC puts(\"-------ok--------\");\n#define all(in) in.begin(), in.end()\nusing namespace std;\ntypedef pair<int, int> pii;\n#define MAX 99999999\nint main(){\n    vvi d(1040,vi(1040,0));\n    vvi dp(1040,vi(1040,0));\n    int m,n; cin>>m;\n    rep(i,n){\n        pii temp; cin>>temp.first>>temp.second;\n        d[temp.first][temp.second]++;\n    }\n    cin>>m;\n    rep(i,m){\n        pii temp;\n        cin>>temp.first>>temp.second;\n        d[temp.first][temp.second]++;\n    }\n    loop(i, 1, 1001)\n    loop(j,1,1001){\n        dp[i][j]=max(max(dp[i-1][j],dp[i][j-1]),dp[i-1][j-1]+d[i][j]);\n                     \n    }\n    \n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int>P;\n\nP v1[200], v2[200];\nbool used1[200], used2[200];\nint main() {\n\tint n;\n\twhile (scanf(\"%d\", &n), n) {\n\t\tmemset(used1, 0, sizeof(used1));\n\t\tmemset(used2, 0, sizeof(used2));\n\t\trep(i, n) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv1[i] = P(h, r);\n\t\t}\n\t\tint m; scanf(\"%d\", &m);\n\t\trep(i, m) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv2[i] = P(h, r);\n\t\t}\n\t\tsort(v1, v1 + n);\n\t\tsort(v2, v2 + m);\n\t\tv1[n] = v2[m] = P(2000, 2000);\n\t\tint cnt1 = 0;\n\t\trep(i, n + 1) {\n\t\t\trep(j, m) {\n\t\t\t\tif ((!i || (v1[i - 1].first < v2[j].first&&v1[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv2[j].first < v1[i].first&&v2[j].second < v1[i].second && !used1[j]) {\n\t\t\t\t\tused1[j] = true;\n\t\t\t\t\tcnt1++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\trep(i, m + 1) {\n\t\t\trep(j, n) {\n\t\t\t\tif ((!i || (v2[i - 1].first < v1[j].first&&v2[i - 1].second < v1[j].second)) &&\n\t\t\t\t\tv1[j].first < v2[i].first&&v1[j].second < v2[i].second && !used2[j]) {\n\t\t\t\t\tused2[j] = true;\n\t\t\t\t\tcnt2++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", max(cnt1 + n, cnt2 + m));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<vector>\n#include<iostream>\n#include<algorithm>\n\n#define\tmp\tmake_pair\n#define\tpb\tpush_back\n#define\th\tfirst\n#define\tr\tsecond\n\nusing namespace std;\n\ntypedef\tpair<int,int>\tpii;\n\nvector< vector<int> > child;\nvector<int> memo;\n// max number of matrioshka which i-th matrioshka can have (i-th one is included)\n\nint rec(int i)\n{\n\tif(memo[i]!=-1)\treturn memo[i];\n\n\tint nmax=1;\n\tfor(int j=0;j<child[i].size();j++)\n\t\tnmax=max(nmax,1+rec(child[i][j]));\n\treturn memo[i]=nmax;\n}\n\nint main()\n{\n\twhile(1){\n\t\tvector<pii>\tmat;\n\t\tint n;\tcin>>n;\n\t\tfor(int i=0,h,r;i<n;i++)\tcin>>h>>r,mat.pb(mp(h,r));\n\t\tint m;\tcin>>m;\n\t\tfor(int i=0,h,r;i<m;i++)\tcin>>h>>r,mat.pb(mp(h,r));\n\t\tif(n==0)\tbreak;\n\n\t\tchild=vector< vector<int> >(n+m);\n\t\tfor(int i=0;i<n+m;i++){\n\t\t\tfor(int j=0;j<n+m;j++){\n\t\t\t\tif(mat[i].h>mat[j].h && mat[i].r>mat[j].r)\n\t\t\t\t\tchild[i].pb(j);\n\t\t\t}\n\t\t}\n\n\t\tmemo=vector<int>(n+m,-1);\n\t\tint ans=0;\n\t\tfor(int i=0;i<n+m;i++)\tans=max(ans,rec(i));\n\t\tcout<<ans<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <cmath>\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nint m,n;\nint dp[1002][1002];\nvector<P> v(200);\n\nint rec(int h, int r)\n{\n    if(dp[h][r] >= 0) \n        return dp[h][r];\n    \n    int ret = 0;\n    for(int i = 0; i < m + n; i++) {\n        if(v[i].first < h && v[i].second < r) {\n            ret = max(ret, rec(v[i].first, v[i].second) + 1);\n        }\n    }\n    \n    return dp[h][r] = ret;\n}\n\nint main()\n{\n    while(cin >> n && n) {\n        v.clear();\n        int h,r;\n        for(int i = 0; i < n; i++) {\n            cin >> h >> r;\n            v.push_back(P(h, r));\n        }\n\n        cin >> m;\n        for(int i = 0; i < m; i++) {\n            cin >> h >> r;\n            v.push_back(P(h, r));\n        }\n        \n        memset(dp, -1, sizeof(dp));\n        cout << rec(1001, 1001) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1 << 30;\n\ntypedef struct\n{\n  int h, r;\n} Doll;\n\nint solve(int prev, vector<int>& used, const vector<Doll>& doll, vector<int>& dp)\n{\n  if (dp[prev] != -1)\n    return dp[prev];\n\n  int ret = 0;\n  for (int i = 0; i < doll.size(); ++i) {\n    if (!used[i] && doll[prev].h > doll[i].h && doll[prev].r > doll[i].r) {\n      used[i] = 1;\n      ret = max(ret, solve(i, used, doll, dp)+1);\n      used[i] = 0;\n    }\n  }\n  return dp[prev] = ret;\n}\n\nint main()\n{\n  int n;\n  while (cin >> n) {\n    if (n == 0)\n      break;\n\n    vector<Doll> doll;\n    for (int i = 0; i < n; ++i) {\n      int h, r;\n      cin >> h >> r;\n      doll.push_back((Doll){h, r});\n    }\n\n    int m;\n    cin >> m;\n    for (int i = 0; i < m; ++i) {\n      int h, r;\n      cin >> h >> r;\n      doll.push_back((Doll){h, r});\n    }\n\n    doll.push_back((Doll){INF, INF});\n    vector<int> used(n+m+1, 0);\n    vector<int> dp(n+m+1, -1);\n    cout << solve(n+m, used, doll, dp) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tvector<pair<int, int> > mato(200);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> mato[i].first >> mato[i].second;\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >> mato[n + i].first >> mato[n + i].second;\n\t\t}\n\t\tsort(mato.begin(), mato.begin() + m + n);\n\t\tint cnt = 0;\n\t\tint maxh = 0, maxr = 0;\n\t\tfor(int i = 0; i < n + m; i++){\n\t\t\t// cout << mato[i].first << \" \" << mato[i].second;\n\t\t\tif(mato[i].first > maxh && mato[i].second > maxr){\n\t\t\t\tcnt++;\n\t\t\t\tmaxh = mato[i].first;\n\t\t\t\tmaxr = mato[i].second;\n\t\t\t}\n\t\t\t// cout << \" \" << cnt << endl;\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#include <algorithm>\nusing namespace std;\n\nint n, m;\nint ah[110], ar[110];\nint bh[110], br[110];\nint adp[110], bdp[110];\n\nint f_b(int x);\nint f_a(int x) {\n  //cout << \"f_a(\"<<x<<\")\\n\";\n  if (adp[x] != -1) return adp[x];\n  int t = 0;\n  for (int i=0; i<m; i++) {\n    if (ah[x] <= bh[i] || ar[x] <= br[i]) break;\n    t = f_b(i);\n  }\n  if (x > 0) t = max(t, f_a(x-1));\n  return adp[x] = t + 1;\n}\nint f_b(int x) {\n  //cout << \"f_b(\"<<x<<\")\\n\";\n  if (bdp[x] != -1) return bdp[x];\n  int t = 0;\n  for (int i=0; i<n; i++) {\n    if (bh[x] <= ah[i] || br[x] <= ar[i]) break;\n    t = f_a(i);\n  }\n  if (x > 0) t = max(t, f_b(x-1));\n  return bdp[x] = t + 1;\n}\n\nint main() {\n  while (true) {\n    cin >> n;\n    if (n == 0) break;\n    for (int i=0; i<n; i++) {\n      cin >> ah[i] >> ar[i];\n    }\n    cin >> m;\n    for (int i=0; i<m; i++) {\n      cin >> bh[i] >> br[i];\n    }\n\n    //\n    for (int i=0; i<110; i++) {\n      adp[i] = -1;\n      bdp[i] = -1;\n    }\n    adp[0] = 1;\n    bdp[0] = 1;\n    if (ah[0] <= bh[0] && ar[0] <= br[0]) adp[0] += 1;\n    if (bh[0] <= ah[0] && br[0] <= ar[0]) bdp[0] += 1;\n    cout << max(f_a(n-1), f_b(m-1)) << \"\\n\";\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<ll,ll> mp;\n#define inf 1e9\n\n\nint main(){\n    while(1){\n\tint n;\n\tcin>>n;\n\tif(n==0)break;\n\tstack<mp> s1;\n\tint hm=0,rm=0;\n\tfor(int i=0;i<n;i++){\n\t\tint h,r;\n\t\tcin>>h>>r;\n\t\ts1.push(mp(h,r) );\n\t\thm = max(hm,h);\n\t\trm = max(rm,r);\n\t}\n\tint m;\n\tcin>>m;\n\tstack<mp> s2;\n\tfor(int i=0;i<m;i++){\n\t\tint h,r;\n\t\tcin>>h>>r;\n\t\ts2.push(mp(h,r) );\n\t\thm = max(hm,h);\n\t\trm = max(rm,r);\n\t}\n\tvector<vector<int> > dp(hm+2 , vector<int>(rm+2,0) );\n\twhile(!s1.empty()){\n\t\tmp now = s1.top();\n\t\ts1.pop();\n\t\tdp[now.first][now.second] = 1;\n\t}\n\twhile(!s2.empty()){\n\t\tmp now = s2.top();\n\t\ts2.pop();\n\t\tdp[now.first][now.second] = 1;\n\t}\n\tfor(int i=hm;i>=0;i--){\n\t\tfor(int j=rm;j>=0;j--){\n\t\t    if(dp[i][j] == 1) dp[i][j] = dp[i+1][j+1] + 1;\n\t\t\tdp[i][j] =  max(dp[i][j], max(dp[i+1][j],dp[i][j+1]) ) ;\n\t\t}\n\t}\n\tcout<<dp[0][0]<<endl;\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[201], dp2[201];\n  P doll[200];\n  while(cin >> n && n){\n    fill(doll, doll+200, P(0, 0));\n    fill(dp, dp + 201, INF);\n    fill(dp2, dp + 201, 0);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      int *p;\n      p = lower_bound(dp, dp + 201, doll[i].S);\n\tif(doll[i].F != dp2[p-1-dp]){\n\t  *p = doll[i].S;\n\t  dp2[p-dp]=doll[i].F;\n\t}\n    }\n    cout << lower_bound(dp, dp + 201, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\nusing namespace std;\nconst int MAX = 100000;\nint dp[100];\n\nint dfs(int index, vector<pair<int, int> > &mato){\n\tif(dp[index]) return dp[index];\n\tif(!index) return 1;\n\tint maxc = 0;\n\tfor(int i = index-1; i >= 0; i--){\n\t\tif((mato[index].first<=mato[i].first)||(mato[index].second<=mato[i].second)) continue;\n\t\tmaxc = max(maxc, dfs(i, mato));\n\t}\n\tdp[index] = maxc+1;\n\treturn dp[index];\n}\n\nvoid substitute(int time, vector<pair<int, int> > &mato){\n\tfor(int i = 0; i < time; i++){\n\t\tpair<int, int> tmp;\n\t\tcin >> tmp.first >> tmp.second;\n\t\tmato.push_back(tmp);\n\t}\n}\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n != 0){\n\t\tfill(dp, dp+100, 0);\n\t\tvector<pair<int, int> > mato;\n\t\tsubstitute(n, mato);\n\t\tcin >> m;\n\t\tsubstitute(m, mato);\n\t\tsort(mato.begin(), mato.end());\n\t\tint maxc = 0;\n\t\tfor(int i = n+m-1; i >= 0; i--) maxc = max(maxc, dfs(i, mato));\n\t\tcout << maxc << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n  \n  int N;\n  while(cin >> N && N) {\n    \n    vector<pair<int, int> > v1, v2;\n    \n    for(int i=0; i<N; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n      v2.push_back(make_pair(r, h));\n    }\n\n    int M; cin >> M;\n    \n    for(int i=0; i<M; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n      v2.push_back(make_pair(r, h));\n    }\n    \n    sort(v1.begin(), v1.end());\n    sort(v2.begin(), v2.end());\n    \n    int size = N+M;\n    int dp1[size];\n    int ans = 0;\n    for(int i=0; i<=size; i++) {\n      dp1[i] = 1;\n      for(int j=0; j<i; j++)\n        if(v1[i].second > v1[j].second) { dp1[i] = max(dp1[i], dp1[j]+1); }\n      ans = max(ans, dp1[i]);\n    }\n    \n    int dp2[size];\n    for(int i=0; i<=size; i++) {\n      dp2[i] = 1;\n      for(int j=0; j<i; j++)\n        if(v2[i].second > v2[j].second) { dp2[i] = max(dp2[i], dp2[j]+1); }\n      ans = max(ans, dp2[i]);\n    }\n    \n    cout << ans << endl;\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <cstring>\n#include <deque>\n#include <cstdio>\n#include <cmath>\n#include <complex>\n#include <iostream>\n#include <iterator>\n\nusing namespace std;\n\n#define reep(i,f,t) for(int i=f ; i<int(t) ; ++i)\n#define rep(i,n) reep(i, 0, n) \n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n\nconst int INF = 10000000;\nint main()\n{\n\tint n;\n\twhile(scanf(\"%d\", &n), n){\n\t\tvector<pii> doll(n);\n\t\trep(i, n){\n\t\t\tscanf(\"%d%d\", &doll[i].first, &doll[i].second);\n\t\t\tdoll[i].first *= -1;\n\t\t}\n\t\t\n\t\tint m;\n\t\tscanf(\"%d\", &m);\n\t\tdoll.resize(n+m);\n\t\trep(i, m){\n\t\t\tscanf(\"%d%d\", &doll[n+i].first, &doll[n+i].second);\n\t\t\tdoll[n+i].first *= -1;\n\t\t}\n\t\t\n\t\tsort(doll.begin(), doll.end(), greater<pii>());\n\t\tvi dp(n+m, INF);\n\t\trep(i, n+m){\n\t\t\tint id = distance(dp.begin(), lower_bound(dp.begin(), dp.end(), doll[i].second));\n\t\t\tdp[id] = doll[i].second;\n\t\t}\n\t\t\n\t\tint ans;\n\t\tfor(int i=n+m-1; i>=0; --i){\n\t\t\tif(dp[i] != INF){\n\t\t\t\tans = i + 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000], dp2[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    fill(dp2, dp2 + 2000, 0);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      int *p;\n      p = lower_bound(dp, dp + 2000, doll[i].S);\n\tif(doll[i].F != dp2[p-1-dp]){\n\t  *p = doll[i].S;\n\t  dp2[p-dp]=doll[i].F;\n\t}\n    }\n    cout << lower_bound(dp, dp + 2000, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<utility>\n#define rep(i,a) for( int i = 0; i != (a); ++i )\n\nconst int INF = 1 << 30;\n\ntypedef std::pair<int, int> P;\n\nint n, m;\nint dp[200];\n\nint main()\n{\n\twhile( scanf( \"%d\", &n ), n )\n\t{\n\t\tmemset( dp, 0, sizeof( dp ) );\n\n\t\tstd::vector<P> ps;\n\t\trep( i, n )\n\t\t{\n\t\t\tint h, r;\n\t\t\tscanf( \"%d%d\", &h, &r );\n\t\t\tps.push_back( P( h, r ) );\n\t\t}\n\n\t\tscanf( \"%d\", &m );\n\t\trep( i, m )\n\t\t{\n\t\t\tint h, r;\n\t\t\tscanf( \"%d%d\", &h, &r );\n\t\t\tps.push_back( P( h, r ) );\n\t\t}\n\n\t\tstd::sort( ps.begin(), ps.end() );\n\n\t\tint ans = 0;\n\t\trep( i, ps.size() )\n\t\t{\n\t\t\tdp[i] = 1;\n\t\t\t\n\t\t\trep( j, i )\n\t\t\t\tif( ps[i].first > ps[j].first && ps[i].second > ps[j].second )\n\t\t\t\t\tdp[i] = std::max( dp[i], dp[j]+1 );\n\n\t\t\tans = std::max( ans, dp[i] );\n\t\t}\n\n\t\tprintf( \"%d\\n\", ans );\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <utility>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nint nm;\nvector<pair<int,int> > mat;\nvector<vector<int> > DP;\n\nint slave(int h,int r){\n    if(DP[h][r] >= 0) return DP[h][r];\n    int ret = 0;\n    for(int i=0;i<nm;i++){\n        if(h < mat[i].first && r < mat[i].second){\n            ret = max(ret,slave(mat[i].first,mat[i].second)+1);\n        }\n    }\n    return DP[h][r] = ret;\n}\n\nint main(){\n    while(true){\n        mat.clear();\n        DP.clear();\n        int n,m;\n        cin >> n;\n        if(n==0) return 0;\n        for(int i=0;i<n;i++){\n            int h,r;\n            cin >> h >> r;\n            mat.push_back(make_pair(h,r));\n        }\n        cin >> m;\n        for(int i=0;i<m;i++){\n            int h,r;\n            cin >> h >> r;\n            mat.push_back(make_pair(h,r));\n        }\n        nm = n+m;\n        for(int i=0;i<1002;i++){\n            DP.push_back(vector<int>(1002,-1));\n        }\n        cout << slave(0,0) << endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint N;\n\nint m[200][2];\nvector<pair<pair<int, int>, int>> m1, m2;\nvector<int> pa[200];\n\nint dfs(int x)\n{\n  int r = 0;\n  for(auto v: pa[x])\n    r = max(r, dfs(v));\n  return r + 1;\n}\n\nint main()\n{\n  while(true)\n  {\n    for(int i = 0; i < 200; i++)\n      pa[i].clear(), (m[i][0] = m[i][1] = 0);\n    m1.clear(); m2.clear();\n\n    N = 0;\n    for(int i = 0; i < 2; i++)\n    {\n      int a;\n      cin >> a;\n      if(!a)\n        return 0;\n      for(int j = N; j < a + N; j++)\n      {\n        cin >> m[j][0] >> m[j][1];\n        m1.push_back(make_pair(make_pair(m[j][0], m[j][1]), j));\n        m2.push_back(make_pair(make_pair(m[j][1], m[j][0]), j));\n      } \n      N += a;\n    }\n    sort(m1.begin(), m1.end());\n    sort(m2.begin(), m2.end());\n    for(int i = 0; i < N; i++)\n    {\n      bool b1 = false, b2 = false;\n      for(int j = i + 1; j < N; j++)\n      {\n        if(!b1 && m1[j].first.second > m1[i].first.second)\n          pa[m1[i].second].push_back(m1[j].second), b1 = true;\n        if(!b2 && m2[j].first.second > m2[i].first.second)\n          pa[m2[i].second].push_back(m2[j].second), b1 = true;\n      }\n    }\n    cout << max(dfs(m1[0].second), dfs(m2[0].second)) - 1 << endl;;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tstd::fill(dp, dp + n, 1);\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tans = std::max(ans, dp[i]);\n\t\tstd::cout << ans << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define iota(i,n,b,s) for(int i=int(b);i!=int((b)+(s)*(n));i+=(s))\n#define range(i,n,m) iota(i,(((n)>(m))?((n)-(m)):((m)-(n))),(n),((n)>(m)?-1:1))\n#define rep(i,n) iota(i,(n),0,1)\n#define loop for(;;)\n\n#define INF (1e9)\n#define EPS (1e-9)\n#define cons(a,b) (make_pair(a,b))\n#define car(a) (a.first)\n#define cdr(a) (a.second)\n#define cadr(a) (car(cdr(a)))\n#define cddr(a) (cdr(cdr(a)))\n#define all(a) a.begin(), a.end()\n#define trace(var) cerr<<\">>> \"<<#var<<\" = \"<<var<<endl;\n\ntypedef long long Integer;\ntypedef double Real;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef map<string,int> Dictionary;\nconst Real PI = acos(-1);\n\ntemplate<class S, class T>\nostream& operator<<(ostream& os, pair<S,T> p) {\n  os << '(' << car(p) << \", \" << cdr(p) << ')';\n  return os;\n}\n\ntemplate<class T>\nostream& operator<<(ostream& os, vector<T> v) {\n  if (v.size() == 0) {\n    os << \"(empty)\";\n    return os;\n  }\n  os << v[0];\n  for (int i=1, len=v.size(); i<len; ++i) os << ' ' << v[i];\n  return os;\n}\n\nint dx[] = { -1, 0, 1, 0 };\nint dy[] = {  0, -1, 0, 1 };\n\nint main() {\n\nmore:\n\n  vector<int> hs;\n  vector<int> rs;\n\n  {\n    int n; cin >> n;\n    if (!n) return 0;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  {\n    int n; cin >> n;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  const int N = hs.size();\n  vector<vector<int>> d(N);\n\n  rep (i, N) {\n    rep (j, N) {\n      if ((hs[i] < hs[j] && rs[i] < rs[j])) {\n        d[i].push_back(j);\n      }\n    }\n  }\n\n  int ans = 0;\n  vector<bool>used(N, false);\n  rep (i, N) {\n    if (used[i]) continue;\n    stack<pair<int,int>> s;\n    s.push(cons(i, 1));\n    while (!s.empty()) {\n      auto t = s.top(); s.pop();\n      used[car(t)] = true;\n      for (int j : d[car(t)]) {\n        s.push(cons(j, cdr(t) + 1));\n      }\n      ans = max(ans, cdr(t));\n    }\n  }\n  cout << ans << endl;\n\n  goto more;\n}"
  },
  {
    "language": "C++",
    "code": "// AOJ 0157\n#include<iostream>\n#include<map>\n#include<vector>\n#include<string>\n#include<sstream>\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef pair<int,int> P;\n\nconst int NMAX = 150;\n\nvector<P> ichiro, jiro;\nint n, m;\nint idp[NMAX], jdp[NMAX];\nint index[NMAX], jndex[NMAX];\nmap<pair<int,int*>, int> table;\n\nvoid init() {\n  REP(i, NMAX) {\n    idp[i] = jdp[i] = 0;\n    index[i] = jndex[i] = 0;\n  }\n  jiro.clear();\n  ichiro.clear();\n\n  jiro.push_back(make_pair(0,0));\n  ichiro.push_back(make_pair(0,0));\n  table.clear();\n}\n\nbool bigger(P big, P small) {\n  return (big.first > small.first and big.second > small.second);\n}\n\nint lowerb(P mine, vector<P> his) {\n  int len = his.size();\n  for (int i = 1; i < len; i++) {\n    if (not bigger(mine, his[i])) {\n      return i - 1;\n    }\n  }\n  return len - 1;\n}\n\nint rec(int i, int* mine, int* his) {\n  auto it = table.find(make_pair(i, mine));\n  if (it != table.end()) {\n    return it->second;\n  }\n  if (i == 0) {\n    return 0;\n  } else {\n    int ans = 1 + max(rec(i - 1, mine, his), rec(mine[i], his, mine));\n    table.insert(make_pair(make_pair(i, mine), ans));\n    return ans;\n  }\n}\n\nint solve() {\n  for (int i = 1; i <= n; i++) {\n    index[i] = lowerb(ichiro[i], jiro);\n  }\n\n  for (int j = 1; j <= m; j++) {\n    jndex[j] = lowerb(jiro[j], ichiro);\n  }\n\n  return max(rec(n, index, jndex), rec(m, jndex, index));\n}\n\nint main() {\n  while (cin >> n and n) {\n    init();\n    REP(i, n) {\n      int h, r;\n      cin >> h >> r;\n      ichiro.push_back(make_pair(h, r));\n    }\n\n    cin >> m;\n    REP(i, m) {\n      int h, r;\n      cin >> h >> r;\n      jiro.push_back(make_pair(h, r));\n    }\n\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <cstring>\n#include <deque>\n#include <cstdio>\n#include <cmath>\n#include <complex>\n#include <iostream>\n#include <iterator>\n\nusing namespace std;\n\n#define reep(i,f,t) for(int i=f ; i<int(t) ; ++i)\n#define rep(i,n) reep(i, 0, n) \n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n\nconst int INF = 10000000;\nint main()\n{\n\tint n;\n\twhile(scanf(\"%d\", &n), n){\n\t\tvector<pii> doll(n);\n\t\trep(i, n)\n\t\t\tscanf(\"%d%d\", &doll[i].first, &doll[i].second);\n\t\t\n\t\tint m;\n\t\tscanf(\"%d\", &m);\n\t\tdoll.resize(n+m);\n\t\trep(i, m)\n\t\t\tscanf(\"%d%d\", &doll[n+i].first, &doll[n+i].second);\n\t\t\n\t\tsort(doll.begin(), doll.end());\n\t\tvi dp(n+m, INF);\n\t\trep(i, n+m){\n\t\t\tint id = distance(dp.begin(), lower_bound(dp.begin(), dp.end(), doll[i].second));\n\t\t\tdp[id] = doll[i].second;\n\t\t}\n\t\t\n\t\tint ans;\n\t\tfor(int i=n+m-1; i>=0; --i){\n\t\t\tif(dp[i] != INF){\n\t\t\t\tans = i + 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<cstdio>\n#include<vector>\n#include<algorithm>\nint field1[1001];\nint field2[1001];\nusing namespace std;\nint main(void){\n    while(1){\n        int n; scanf(\"%d\",&n);\n        if(n == 0) break;\n        vector<pair<int,int> > v1;\n        vector<pair<int,int> > v2;\n        pair<int,int> p;\n        p.first = 0; p.second = 0;\n        v1.push_back(p); v2.push_back(p);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        scanf(\"%d\",&n);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        sort(v1.begin(),v1.end()); sort(v2.begin(),v2.end());\n        for(int i = 1;i < v1.size();i++){\n            for(int j = i - 1;j >= 0;j--){\n                if(v1[i].second > v1[j].second && v1[i].first > v1[j].first && field1[i] <= field1[j]+1){\n                    field1[i] = field1[j]+1;\n                }\n            }\n        }\n\n        for(int i = 1;i < v2.size();i++){\n            for(int j = i-1;j >= 0;j--){\n                if(v2[i].second > v2[j].second && v2[i].first > v2[j].first && field2[i] <= field2[j]+1){\n                    field2[i] = field2[j]+1;\n                }\n            }\n        }\n        int ans = -1;\n        for(int i = 0;i < v1.size();i++){\n            if(field1[i] >= ans) ans = field1[i];\n            if(field2[i] >= ans) ans = field2[i];\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\t// require sort next_permutation count etc.\n//#include <fstream>\t// require freopen\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nint main()\n{\n//\tcut here before submit \n//\tfreopen (\"testcase.russiandolls\", \"r\", stdin );\n\tint n, m;\n\n\twhile (cin >> n && n ){\n\t\tvector <P> taro (n);\n\n\t\tfor (int i = 0; i < n; ++i){\n\t\t\tcin >> taro[i].first >> taro[i].second;\n\t\t} // end for\n\t\tcin >> m;\n\t\tvector <P> jiro (m);\n\t\tfor (int j = 0; j < m; ++j ){\n\t\t\tcin >> jiro[j].first >> jiro[j].second;\n\t\t} // end for\n\n\t\tvector <P> all (n+m );\n\t\tfor (int k = 0; k < n; ++k ){\n\t\t\tall[k] = taro[k];\n\t\t} // end for\n\t\tfor (int k = n; k < n+m; ++k ){\n\t\t\tall[k] = jiro[k-n];\n\t\t} // end for\n\t\tsort (all.begin(), all.end() );\n\n\n\t\tvector <int> dp(n+m, 0 );\n\n\t\tint res = 0;\n\t\tfor (int i = 0; i < n+m; ++i ){\n\t\t\tdp[i] = 1;\n\t\t\tfor (int j = 0; j < i; ++j ){\n\t\t\t\tif (all[j].first < all[i].first && all[j].second < all[i].second ){\n\t\t\t\t\tdp[i] = max (dp[i], dp[j] + 1 );\n\t\t\t\t} // end if\n\t\t\t} // end for\n\t\t\tres = max (res, dp[i] );\n\t\t} // end for\n\t\tcout << res << endl;\n\t} // end loop\n\t\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000 \nusing namespace std;\nint h1[N],r1[N];\n\nvoid sort(int,int);\nint syori(int,int);\n\nint main(){/*main*/\n  int i,n1,n2,j,res;\n\n  for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n  while(1){\n\n  cin >> n1; // êQÌ}g[VJÌ\n\n  if(n1 == 0)break;\n\n  for(i=0;i<n1;i++){\n    cin >> h1[i] >> r1[i]; //(n1-1)ÜÅªêQ\n  }\n\n  cin >> n2; //ñYÌ}g[VJÌ\n\n  for(i=n1;i<(n1+n2);i++){\n    cin >> h1[i] >> r1[i]; //n1©ç(n1+n2-1)ÜÅªñY\n  }\n\n  sort(n1,n2); // ¬³¢ÉÀÑÖ¦\n\n  //  for(i=0;i<n1+n2;i++){\n  // cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n  // }\n\n   res=syori(n1,n2);\n\n   \n  \n  cout << res << endl;\n  res=0;\n\n  }\n\n}\n\n\nvoid sort(int n1,int n2){\n  int k,l,max,h;\n\n  for(k=0;k<(n1+n2);k++){\n    max=k;\n    for(l=k;l<(n1+n2);l++){\n      if(h1[l]<h1[max]){ max=l; }\n    }\n    h=h1[max];\n    h1[max]=h1[k];\n    h1[k]=h;\n\n    h=r1[max];\n    r1[max]=r1[k];\n    r1[k]=h;\n    \n  }\n\n\n}\n\n\nint syori(int n1,int n2){\n  int q,i,H[N],Hcount=0,ans,I[N],HH[N],count=1,kcount=0;\n  ans=0;\n\n  for(q=0;q<N-5;q++){  \n    H[q]=0;\n    I[q]=0;\n    HH[q]=0;\n  }\n\n  //cout << \"test\" << endl;\n\n  for(q=0;q<(n1+n2);q++){\n    if(h1[q]<h1[q+1] && r1[q]<r1[q+1])count++; \n    \n    if((h1[q]==h1[q+1] || r1[q] == r1[q+1]) && HH[q+1]==0 ){\n      count++; \n      H[q+1]=count-1;\n      HH[q+1]=1;\n      Hcount++;\n      I[q+1]=q+1;\n      q+=1;\n    }\n\n    //  cout << Hcount << endl;\n\n\n    if(q==(n1+n2-1) && Hcount!=0){\n      Hcount=0;\n      kcount=1;\n\n      if(count>=ans)ans=count;\n      \n      // cout << \"ans--\" << ans << endl; \n\n      for(i=0;i<(n1+n2);i++){\n\t\n\tif(HH[i]==1){\n\t  count=H[i];\n\t  H[i]=0;\n\t  HH[i]=0;\n\t  q=I[i];\n\t  break;\n\t}\n\t\n      }\n      \n      \n    }\n\n  \n    \n  }\n     \n  if(kcount==0){ ans=count; } // kcountªOÌÆ«Í¾ÔèÈµ\n  else{ kcount=0; }           // ±ÌvOÅÍ¾ÔçÈ¢ÆansªÅÈ¢\n  \n    return ans;\n}\n  "
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint N, M, h[200], r[200];\n\nint main() {\n    while (true) {\n        cin >> N;\n        if (N == 0) break;\n        for (int j = 0; j < N; ++j) {\n            cin >> h[j] >> r[j];\n        }\n        cin >> M;\n        for (int j = 0; j < M; ++j) {\n            cin >> h[j+N] >> r[j+N];\n        }\n\n        int arr[201][201];\n        for (int j = 0; j <= 200; ++j) fill(arr[j], arr[j] + 201, 0);\n\n        for (int j = 0; j < N+M; ++j) {\n            arr[h[j]][r[j]] = 1;\n        }\n\n        int dp[201][201];\n        for (int j = 0; j <= 200; ++j) fill(dp[j], dp[j] + 201, 0);\n\n        for (int j = 0; j <= 200; ++j) {\n            for (int k = 0; k <= 200; ++k) {\n                if (j > 0 && k > 0) {\n                    dp[j][k] = max(dp[j-1][k-1] + arr[j][k], max(dp[j-1][k], dp[j][k-1]));\n                } else if (j > 0) {\n                    dp[j][k] = dp[j-1][k];\n                } else if (k > 0) {\n                    dp[j][k] = dp[j][k-1];\n                }\n            }\n        }\n\n        cout << dp[200][200] << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <queue>\n\nusing namespace std;\n\ntypedef struct DOLL\n{\n\tint h, r;\n\t\n\tbool operator > (const DOLL& d) const\n\t{\n\t\treturn (h > d.h && r > d.r);\n\t}\n\t\n\tbool operator < (const DOLL& d) const\n\t{\n\t\treturn (h < d.h && r < d.r);\n\t}\n} D;\n\ntypedef struct Node\n{\n\tD d;\n\tint num;\n};\n\nconst int MAX = 100;\n\nint n, m;\nD A[MAX];\nD B[MAX];\n\nint AN[MAX];\nint BN[MAX];\n\nvoid solve()\n{\n\tqueue<Node> q;\n\tmemset(AN, 0, sizeof(int)*n);\n\tmemset(BN, 0, sizeof(int)*m);\n\t\n\tint max =0;\n\tNode n1 = {A[0], 1};\n\tNode n2 = {B[0], 1};\n\tq.push(n1);\n\tq.push(n2);\n\twhile(!q.empty())\n\t{\n\t\tNode current = q.front();\n\t\tq.pop();\n\t\t\n\t\tif(max < current.num)\n\t\t{\n\t\t\tmax = current.num;\n\t\t}\n\t\t\n\t\tfor(int i=0; i<n; i++)\n\t\t{\n\t\t\tif(current.d < A[i])\n\t\t\t{\n\t\t\t\tif(AN[i] >= current.num+1) continue;\n\t\t\t\t\n\t\t\t\tNode new_node = {A[i], current.num+1};\n\t\t\t\tq.push(new_node);\n\t\t\t\tAN[i] = current.num+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i=0; i<m; i++)\n\t\t{\n\t\t\tif(current.d < B[i])\n\t\t\t{\n\t\t\t\tif(BN[i] >= current.num +1) continue;\n\t\t\t\t\n\t\t\t\tNode new_node = {B[i], current.num+1};\n\t\t\t\tq.push(new_node);\n\t\t\t\tBN[i] = current.num+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout << max << endl;\n}\n\nint main(int argc, char** argv)\n{\n\tint h, r;\n\t\n\twhile(cin >> n, n)\n\t{\n\t\tfor(int i=0; i<n; i++)\n\t\t{\n\t\t\tcin >> A[i].h >> A[i].r;\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\tfor(int i=0; i<m; i++)\n\t\t{\n\t\t\tcin >> B[i].h >> B[i].r;\n\t\t}\n\t\t\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<climits>\n#include<string>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#include<cmath>\n#include<queue>\n#include<cstring>\n#include<stack>\n#include<functional>\nusing namespace std;\n\nstruct Doll{\n\tint h,r;\n\tbool operator <(const Doll &a)const{\n\t\treturn h<a.h;\n\t}\n};\n\nint main(){\n\tint N,M;\n\twhile(cin>>N,N){\n\t\tvector<Doll> d;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tDoll in; cin>>in.h>>in.r; d.push_back(in);\n\t\t}\n\t\tcin>>M;\n\t\tfor(int i=0;i<M;i++){\n\t\t\tDoll in; cin>>in.h>>in.r; d.push_back(in);\n\t\t}\n\n\t\tsort(d.begin(),d.end());\n\t\tint dp[101][1001] = {}, ans = 0;\n\t\tfor(int i=0,cnt=0; cnt<d.size(); cnt++){\n\t\t\tif(cnt!=0 && d[cnt-1].h!=d[cnt].h) i++;\n\t\t\tfor(int j=0;j<d[cnt].r;j++){\n\t\t\t\tans = max(ans, dp[i+1][d[cnt].r] = max(dp[i+1][d[cnt].r], dp[i][j]+1));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={0,1,0,-1,1,-1,-1,1};\nconst int dy[]={-1,0,1,0,1,1,-1,-1};\nconst int INF = 1<<30;\nconst double EPS = 1e-15;\n#define PB push_back\n#define mk make_pair\n#define fi first\n#define se second\n#define ll long long\n#define reps(i,j,k) for(int i = (j); i < (k); i++)\n#define rep(i,j) reps(i,0,j)\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nvector < Pii > data;\nint N,M;\nint memo[256][128][128];\nint solve(int dep,int prev1,int prev2){\n\tif(dep == N+M){\n\t\treturn 0;\n\t}\n\tif(memo[dep][prev1][prev2])return memo[dep][prev1][prev2];\n\tint ret = 0;\n\treps(i,dep,N+M){\n\t\tif(prev1 < data[i].fi && prev2 < data[i].se){\n\t\t\tret = max(ret , max(1 + solve(i+1,data[i].fi,data[i].se),solve(i+1,prev1,prev2)));\n\t\t}\n\t\telse{\n\t\t\tret = max(ret,solve(i+1,prev1,prev2));\n\t\t}\n\t}\n\treturn memo[dep][prev1][prev2] = ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&N),N){\n\t\tdata.clear();\n\t\tmemset(memo,0,sizeof(memo));\n\t\trep(i,N){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tscanf(\"%d\",&M);\n\t\trep(i,M){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tsort(data.begin(),data.end());\n\t\tprintf(\"%d\\n\",solve(0,0,0));\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 3000\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   dp[1] = 1;\n   for(int i=0;i<(n+m);i++){\n      dp[i+1] = 1;\n      for(int j=0;j<i;j++){\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i+1],dp[j+1]+1);\n\t }\n      }\n   }\n   int ans=0;\n   for(int i=1;i<=n+m;i++){\n      ans = max(dp[i],ans);\n   }\n   cout << ans << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      for(int i=0;i<n;i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+(n+m)-1);\n      solve();\n      /*\n      rep(i,n+m)\n\t cout << Dolls[i].h << \" \" << Dolls[i].r << \" \" << dp[i+1] << endl;\n      cout << endl;\n      */\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\nusing namespace std;\nint n, m, dp[2000]; pair<int, int> a[2000];\nint main() {\n\twhile(true) {\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++) scanf(\"%d%d\", &a[i].first, &a[i].second);\n\t\tscanf(\"%d\", &m);\n\t\tfor(int i = 0; i < m; i++) scanf(\"%d%d\", &a[n + i].first, &a[n + i].second);\n\t\tsort(a, a + n + m);\n\t\tint ret = 0;\n\t\tfor(int i = 0; i < n + m; i++) dp[i] = -1;\n\t\tfor(int i = 0; i < n + m; i++) {\n\t\t\tbool flag = false;\n\t\t\tfor(int j = 0; j < ret; j++) {\n\t\t\t\tif(dp[j] > a[i].second) {\n\t\t\t\t\tdp[j] = a[i].second; flag = true; break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!flag) dp[ret] = a[i].second, ret++;\n\t\t}\n\t\tprintf(\"%d\\n\", ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n  bool operator<(const data& d){\n    return s < d.s;\n  }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r,mh = 0;\n    rep(i,n){\n      cin >> h >> r;\n      mh = max(mh,h);\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      mh = max(mh,h);\n      v.push_back({h,r,h+r});\n    }\n    sort(all(v));\n    ll ans = 0,c = 0;\n    vary(ll,dp,n+m+1,0);\n    rep(i,n+m){\n      dp[i] = 1;\n      REP(j,0,i){\n        if(v[j].h < v[i].h && v[j].r < v[i].r){\n          dp[i] = max(dp[i],dp[j]+1);\n        }\n      }\n      ans = max(ans,dp[i]);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    ll ans = 1,tmp = 1;\n    h = v[0].h,r = v[0].r;\n    sort(all(v),[](const data &a,const data &b){\n        return a.s < b.s;});\n    ll c = 0,mi = inf;\n    while(1){\n      mi = inf;\n      c = inf;\n      rep(i,n+m){\n        if(v[i].h > h && v[i].r > r && mi > v[i].h -h + v[i].r - r){\n          c = i;\n          mi = v[i].h - h +v[i].r - r;\n        }\n      }\n      if(mi != inf){\n        h = v[c].h;\n        r = v[c].r;\n        ++ans;\n      }\n      else\n        break;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvector< pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(cin>>n && n){\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=i+1;j<n+m;j++){\n        if(doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n    memset(dp,0,sizeof(dp));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint main(){\n\tint n[2],c[2];\n\twhile(cin>>n[0],n[0]){\n\t\tint h[2][110],r[2][110],mx[2][110];\n\t\trep(q,2){\n\t\t\trep(i,n[q])mx[q][i]=0,cin>>h[q][i]>>r[q][i];\n\t\t\tif(!q)cin>>n[1];\n\t\t}\n\t\tmx[0][0]=(h[0][0]>h[1][0]&&r[0][0]>r[1][0])+1;\n\t\tmx[1][0]=(h[0][0]<h[1][0]&&r[0][0]<r[1][0])+1;\n\t\tint p;\n\t\tc[0]=c[1]=p=0;\n\t\twhile(c[0]<n[0]||c[1]<n[1]){\n\t\t\tint tmax=0,f;\n\t\t\trep(k,2){\n\t\t\t\trep(i,n[k]){\n\t\t\t\t\tf=h[k][i]<h[p][c[p]]&&r[k][i]<r[p][c[p]];\n\t\t\t\t\tif(f&&tmax<mx[k][i])tmax=mx[k][i];\n\t\t\t\t\tif(f&&mx[k][i]==0){\n\t\t\t\t\t\tp^=1;\n\t\t\t\t\t\tgoto NEXT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmx[p][c[p]++]=tmax+1;\n\t\t\tNEXT:;\n\t\t}\n\t\tcout<<max(mx[0][n[0]-1],mx[1][n[1]-1])<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n    int n = 0, m = 0;\n    int d[200][2], dp[200];\n\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n                d[i][0] = 0;\n                d[i][1] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            int maax = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]){\n                        if(d[j][1] < d[i][1]){\n                            a = dp[j];\n                        }\n                    }\n                }\n                dp[i] += a;\n                if(maax <= dp[i]){\n                    maax = dp[i];\n                }\n            }\n            cout << maax << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nbool cmpr(const doll &a, const doll &b)\n{\n \tif( a.first == b.first )\n\t\treturn a.second < b.second;\n\telse\n\t\treturn a.first < b.first;\n}\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tsort(vc.begin(), vc.end(), cmpr);\n\t\t\n\t\tdp[0] = 1;\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tdp[i] = 1;\n\t\t\tfor( j = 0; j < i; j++)\n\t\t\t{\n\t\t\t\tif( vc[j].first < vc[i].first && vc[j].second < vc[i].second )\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max( dp[j]+1, dp[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max( dp[j], dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n//\t\t\tcout << \"dp::\" << dp[i] << endl;\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <string>\n#include <bitset>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <sstream>\n#include <fstream>\n//#include <tuple>\n#include <set>\n#include <string.h>\n#include <functional>\n\n#define X first\n#define Y second\n#define MP make_pair\n//#define MT make_tuple\n#define REP(i, a, n) for(int (i) = (a); (i) < (n); ++(i))\n#define FOR(i, n) REP(i, 0, n)\ntypedef long long ll;\nusing namespace std;\nconst int MAX = 101;\n\ntemplate<class T, class U>\nvoid convert(T &t, U &u){\n\tstringstream ss;\n\tss << t;\n\tss >> u;\n}\n\nclass a\n{\npublic:\n\n};\n\nint count(vector<pair<int, int> >& a)\n{\n\tint ans = 0;\n\tpair<int, int> tmp;\n\tFOR(i, a.size()){\n\t\tif (i){\n\t\t\tif (tmp.first > a[i].first){\n\t\t\t\tif (tmp.second > a[i].second){\n\t\t\t\t\ttmp = a[i];\n\t\t\t\t\tans++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse tmp = a[i], ans++;\n\t}\n\n\treturn ans;\n}\n\nint main()\n{\n\n\tint n;\n\twhile (cin >> n && n){\n\t\tvector<pair<int, int> > a, b;\n\t\tFOR(i, n){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\ta.push_back( MP( s, t ) );\n\t\t\tb.push_back( MP( t, s ) );\n\t\t}\n\n\t\tint m; cin >> m;\n\t\tFOR(i, m){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\ta.push_back( MP( s, t ) );\n\t\t\tb.push_back( MP( t, s ) );\n\t\t}\n\n\t\tsort( a.begin(), a.end(), greater<pair<int, int> >() );\n\t\tsort( b.begin(), b.end(), greater<pair<int, int> >() );\n\t\tcout << max( count( a ), count( b ) ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> Doll;\nvector<Doll> Dolls;\nint dp[201];\n\nvoid debug(){\n  for(int i = 0; i < Dolls.size(); i++){\n    cout << \"(\" << Dolls[i].first << \", \" << Dolls[i].second << \")\" << endl;\n  }\n}\n\nbool comp(const Doll& d1, const Doll& d2){\n  return ((d1.first <= d2.first) && (d1.second <= d2.second));\n}\n\nint main(void){\n  int n, m;\n  while(cin >> n, n){\n    Dolls.clear();\n    Dolls.push_back(Doll(0, 0));\n    for(int i = 0; i < n; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    sort(Dolls.begin(), Dolls.end(), comp);\n    for(int i = 1; i < Dolls.size(); i++){\n      int max_k = 0;\n      for(int j = 0; j < i; j++){\n        if(Dolls[j].first < Dolls[i].first && Dolls[j].second < Dolls[i].second && dp[max_k] < dp[j]){\n          max_k = j;\n        }\n      }\n      dp[i] = dp[max_k] + 1;\n    }\n    cout << dp[Dolls.size()-1] + 1 << endl;\n    fill(dp, dp + 200, 0);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    for (int i = 0; i < n + m; i++){\n\t*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n    }\n     int ans;\n        for(int i=n+m-1; i>=0; --i){\n            if(dp[i] != INF){\n                ans = i + 1;\n                break;\n            }\n        }\n\tcout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <cstdio>\n#include <map>\nusing namespace std;\n\n#define loop(i,a,b) for(int i=(a);i<int(b);i++)\n#define rep(i,b) loop(i,0,b)\ntypedef pair<int,int> pii;\nint n,m;\npii a[222];\nint dp[222];\n\ninline bool le(pii const& t, pii const& u){\n    return t.first<u.first && t.second<u.second;\n}\n\nint solve(){\n    sort(a,a+n+m);\n    dp[0]=1;\n    for(int i=1;i<n+m;i++){\n        for(int j=0;j<i;j++){\n            if(le(a[j],a[i])){\n                dp[i]=max(dp[i],dp[j]+1);\n            }\n        }\n    }\n    int ans=0;\n    for(int i=0;i<n+m;i++){\n        ans=max(ans,dp[i]);\n    }\n    return ans;\n}\n\nint main(){\n    while(cin>>n && n){\n        rep(i,n)cin>>a[i].first>>a[i].second;\n        cin>>m;\n        rep(i,m)cin>>a[i+n].first>>a[i+n].second;\n        cout << solve() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\twhile(true){\n\t\tP doll[200];//高さ　半径\n\t\tstd::cin>>ichiro;\n\t\tif(!ichiro){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<ichiro;i++){\n\t\t\tstd::cin>>doll[i].first>>doll[i].second;\n\t\t}\n\t\tstd::cin>>jiro;\n\t\tfor(int i=0;i<jiro;i++){\n\t\t\tstd::cin>>doll[i+ichiro].first>>doll[i+ichiro].second;\n\t\t}\n\t\tstd::sort(doll,doll+ichiro+jiro);\n\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\t\tfor(int i=1;i<ichiro+jiro;i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tif(doll[i].first!=doll[j].first&&doll[i].second>doll[j].second){\n\t\t\t\t\tdp[i]=std::max(dp[i],dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tM=std::max(M,dp[i]);\n\t\t}\n\t\tstd::cout<<M<<std::endl;\n\t\tM=0;\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=0;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> Doll;\nvector<Doll> Dolls;\nint dp[201];\n\nvoid debug(){\n  for(int i = 0; i < Dolls.size(); i++){\n    cout << \"(\" << Dolls[i].first << \", \" << Dolls[i].second << \")\" << endl;\n  }\n}\n\nbool comp(const Doll& d1, const Doll& d2){\n  return ((d1.first <= d2.first) && (d1.second <= d2.second));\n}\n\nint main(void){\n  int n, m;\n  while(cin >> n, n){\n    Dolls.clear();\n    Dolls.push_back(Doll(0, 0));\n    for(int i = 0; i < n; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    sort(Dolls.begin(), Dolls.end(), comp);\n    for(int i = 1; i < Dolls.size(); i++){\n      int max_k = 0;\n      for(int j = 0; j < i; j++){\n        if(Dolls[j].first < Dolls[i].first && Dolls[j].second < Dolls[i].second && dp[max_k] < dp[j]){\n          max_k = j;\n        }\n      }\n      dp[i] = dp[max_k] + 1;\n    }\n    cout << dp[Dolls.size()-1] + 1 << endl;\n    fill(dp, dp + 200, 0);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tdp[i] = dp[i - 1];\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstd::cout << dp[n - 1] << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// AOJ20150414.cpp : テ」ツつウテ」ツδウテ」ツつステ」ツδシテ」ツδォ テ」ツつ「テ」ツδ療」ツδェテ」ツつアテ」ツδシテ」ツつキテ」ツδァテ」ツδウテ」ツ?ョテ」ツつィテ」ツδウテ」ツδ暗」ツδェ テ」ツδ敕」ツつ、テ」ツδウテ」ツδ暗」ツつ津・ツョツ堙ァツセツゥテ」ツ?療」ツ?セテ」ツ?凖」ツ??\n//\n\n#include \"stdafx.h\"\n\n#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r)\n{\n\tint ans = 1;\n\tfor (DOLL &d : d1){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, h, r);\n\t\t\tans = max(ans, a);\n\t\t}\n\t}\n\tfor (DOLL &d : d2){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, h, r);\n\t\t\tans = max(ans, a);\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n == 0) break;\n\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, -1, -1);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n,m;\n  while(true){\n      cin>>n;\n      if(n==0) break;\n      std::vector<P> v;\n      for(int i=0;i<n;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      cin>>m;\n      for(int i=0;i<m;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      sort(v.begin(),v.end());\n      int res=0,hmin=-1,rmin=-1;\n      for(int i=0;i<(int)v.size();i++){\n          int h=v[i].first,r=v[i].second;\n          if(hmin<h&&rmin<r){\n              rmin=r;hmin=h;\n              res++;\n          }\n      }\n      cout<<res<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tvector<pair<int, int> > mato(100);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> mato[i].first >> mato[i].second;\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >> mato[n + i].first >> mato[n + i].second;\n\t\t}\n\t\tsort(mato.begin(), mato.begin() + m + n);\n\t\tint cnt = 0;\n\t\tint maxh = 0, maxr = 0;\n\t\tfor(int i = 0; i < n + m; i++){\n\t\t\t// cout << mato[i].first << \" \" << mato[i].second;\n\t\t\tif(mato[i].first > maxh && mato[i].second > maxr){\n\t\t\t\tcnt++;\n\t\t\t\tmaxh = mato[i].first;\n\t\t\t\tmaxr = mato[i].second;\n\t\t\t}\n\t\t\t// cout << \" \" << cnt << endl;\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <string>\n#include <bitset>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <sstream>\n#include <fstream>\n//#include <tuple>\n#include <set>\n#include <string.h>\n\n#define X first\n#define Y second\n#define MP make_pair\n//#define MT make_tuple\n#define REP(i, a, n) for(int (i) = (a); (i) < (n); ++(i))\n#define FOR(i, n) REP(i, 0, n)\ntypedef long long ll;\nusing namespace std;\nconst int MAX = 101;\n\ntemplate<class T, class U>\nvoid convert(T &t, U &u){\n\tstringstream ss;\n\tss << t;\n\tss >> u;\n}\n\nclass a{\npublic:\n\n};\n\nint count(vector<pair<int, int> >& a){\n\tint ans = 0;\n\tpair<int, int> tmp;\n\tFOR(i, a.size()){\n\t\tif (i){\n\t\t\tif (tmp.first < a[i].first){\n\t\t\t\tif (tmp.second < a[i].second){\n\t\t\t\t\ttmp = a[i];\n\t\t\t\t\tans++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse tmp = a[i], ans++;\n\t}\n\n\treturn ans;\n}\n\nint main(){\n\n\tint n;\n\twhile (cin >> n && n){\n\t\tvector<pair<int, int> > a, b;\n\t\tFOR(i, n){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\ta.push_back( MP( s, t ) );\n\t\t\tb.push_back( MP( t, s ) );\n\t\t}\n\n\t\tint m; cin >> m;\n\t\tFOR(i, m){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\ta.push_back( MP( s, t ) );\n\t\t\tb.push_back( MP( t, s ) );\n\t\t}\n\n\t\tsort( a.begin(), a.end() );\n\t\tsort( b.begin(), b.end() );\n\t\tcout << max( count( a ), count( b ) ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 514\n#define INF 1145141919\ntypedef pair<int, int> pii;\n\nint main()\n{\n    int N, M;\n    while (cin >> N, N) {\n        vector<pii> v;\n        int a, b;        \n        for (int i = 0; i < N; i++) {\n            cin >> a >> b;\n            v.push_back(pii(a, -b));\n        }\n        cin >> M;\n        for (int i = 0; i < M; i++) {\n            cin >> a >> b;\n            v.push_back(pii(a, -b));\n        }\n\n        N += M;\n\n        sort(v.begin(), v.end());\n        int dp[MAX];\n        fill(dp, dp + MAX, INF);\n        for (int i = 0; i < N; i++) {\n            int c = -v[i].second;\n            *lower_bound(dp, dp + N, c) = c;\n        }\n        cout << (lower_bound(dp, dp + N, INF) - dp) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r)\n{\n\tint ans = 1;\n\tfor (DOLL &d : d1){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, h, r);\n\t\t\tans = max(ans, a);\n\t\t}\n\t}\n\tfor (DOLL &d : d2){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, h, r);\n\t\t\tans = max(ans, a);\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\t\tint n, m;\n\t\tcin >> n >> m;\n\t\tif (n == 0) break;\n\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, 0, 0);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n\nusing namespace std;\n\nint main() {\n int mh[200],mr[200],mc[200],c,n,m,i,j,k;\n while(true) {\n c=0;\n for (i=0;i<2;i++) {\n\t cin >> n;\n\t if (n==0) return 0;\n\t for (j=0;j<n;j++) { cin >> mh[c] >> mr[c]; mc[c]=0; c++;}\n\t }\n for (i=0;i<c;i++) for (j=0;j<c;j++) if (mc[j]==i) for (k=0;k<c;k++) if (mh[j]>mh[k] && mr[j]>mr[k]) mc[k]=i+1;\n for (i=0,m=0;i<c;i++) if (m<mc[i]) m=mc[i];\n cout << m+1 << endl;\n }\n return 0;\n }"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include <math.h>\n#include <cctype>\n\n#include <iostream>\n#include <vector>\n#include <deque>\n#include <queue>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define repi(i,l,n) for(int (i)=(int)(l);(i)<(int)(n);(i)++)\n#define d_arr(arr, h, w) rep(i,(h) ){ cout << \"[\"; rep(j,(w) ) { cout << (arr)[i][j] << \", \"; } cout << \"]\" << endl;}\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x);\n#define fs first\n#define sc second\n#define pb push_back\n\ntypedef pair<int ,int> P;\nvector<P> mv;\nmap<int, int> memo;\n\n//\nint next_of(int i){\n    int h = mv[i].fs;\n    int r = mv[i].sc;\n    int nh = h;\n    int nr = r;\n    while(1){\n        if( nh > h && nr > r) { break; }\n        i++;\n        nh = mv[i].fs;\n        nr = mv[i].sc;\n    }\n    return i;\n}\n\n// mv[i] 以上で作れるマトリョーシカの数の最大値\nint rec(int i){\n    //cout << \"rec : \" << i << endl;\n    if( memo.find(i) != memo.end() ){ return memo[i]; }\n    if( i > mv.size()-1 ){\n        return 0;\n    }\n    int e0 = rec(i+1);\n    int next = next_of(i);\n    int e1 = rec(next) + 1;\n\n    memo[i] = max(e0,e1);\n    return memo[i];\n}\n\nint main()\n{\n    int n,m;\n    int h,r;\n    while(1){\n        mv.clear();\n        memo.clear();\n        cin >> n;\n        if( n==0 ){ break; }\n        rep(i,n){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        cin >> m;\n        rep(i,m){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        sort(mv.begin(),mv.end());\n        cout << rec(0) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nstruct S{int h,r,c;int operator<(S s){return h+r<s.h+s.r;}}a[201];\nint main()\n{\n\tint m,n,i,j;\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\tfor(i=0;i<n;a[i++].c=0)scanf(\"%d%d\",&a[i].h,&a[i].r);\n\t\tfor(scanf(\"%d\",&m),n+=m;i<n;a[i++].c=0)scanf(\"%d%d\",&a[i].h,&a[i].r);\n\t\ta[n].h=a[n].r=a[n].c=0;\n\t\tstd::sort(a,a+n+1);\n\t\tfor(i=n;i>=0;--i)\n\t\t\tfor(j=i+1;j<=n;++j)\n\t\t\t\tif(a[i].h<a[j].h&&a[i].r<a[j].r)\n\t\t\t\t\ta[i].c=std::max(a[i].c,a[j].c+1);\n\t\tprintf(\"%d\\n\",a[0].c);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n  int i,j,a,b,n,m,hn[100],rn[100],hm[100],rm[100],h[201],r[201],k[2],L[201],max;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n    for(i=0;i<n;i++) cin >> hn[i] >> rn[i];\n    cin >> m;\n    for(i=0;i<m;i++) cin >> hm[i] >> rm[i];\n\n    a = 0;\n    b = 0;\n    h[0] = -1;\n    r[0] = -1;\n    for(i=1;i<=m+n;i++){\n      if(a < n && b < m && hn[a] < hm[b] || a < n && b >= m){\n\t  h[i] = hn[a];\n\t  r[i] = rn[a++];\n\t}\n      else{\n\th[i] = hm[b];\n\tr[i] = rm[b++];\n      }\n    }\n\n      k[0] = 0;\n      L[0] = 0;\n      for(i=1;i<=m+n;i++){\n\tmax = 0;\n\tfor(j=0;j<i;j++){\n\t  if(L[j] > max && h[j] < h[i] && r[j] < r[i]) max = L[j];\n\t}\n\tL[i] = max + 1;\n\tif(k[0] < L[i]) k[0] = L[i];\n      }\n\n      a = 0;\n      b = 0;\n    for(i=1;i<=m+n;i++){\n      if(a < n && b < m && rn[a] < rm[b] || a < n && b >= m){\n\t  h[i] = hn[a];\n\t  r[i] = rn[a++];\n\t}\n      else{\n\th[i] = hm[b];\n\tr[i] = rm[b++];\n      }\n    }\n\n      k[1] = 0;\n      L[0] = 0;\n      for(i=1;i<=m+n;i++){\n\tmax = 0;\n\tfor(j=0;j<i;j++){\n\t  if(L[j] > max && h[j] < h[i] && r[j] < r[i]) max = L[j];\n\t}\n\tL[i] = max + 1;\n\tif(k[1] < L[i]) k[1] = L[i];\n      }\n\n      if(k[0] > k[1]) cout << k[0] << endl;\n      else cout << k[1] << endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\n#define REP(i,n,m) for(int i=n;i<m;i++)\n#define rep(i,n) REP(i,0,n)\n\ntypedef struct{\n\tint h,r;\n}Doll;\n\nint main(void){\n\tint n,m;\n\tDoll t1[200],t2[200];\n\n\twhile(cin>>n && n){\n\t\trep(i,n){\n\t\t\tcin>>t1[i].h>>t1[i].r;\n\t\t\tt2[i] = t1[i];\n\t\t}\n\t\tcin>>m;\n\t\tREP(i,n,n+m){\n\t\t\tcin>>t1[i].h>>t1[i].r;\n\t\t\tt2[i] = t1[i];\n\t\t}\n\n\t\tn += m;\n\n\t\trep(i,n-1)REP(j,i+1,n){\n\t\t\tif(t1[i].h < t1[j].h || t1[i].h == t1[j].h && t1[i].r < t1[j].r){\n\t\t\t\tDoll tmp = t1[i];\n\t\t\t\tt1[i] = t1[j];\n\t\t\t\tt1[j] = tmp;\n\t\t\t}\n\t\t\tif(t2[i].r < t2[j].r || t2[i].r == t2[j].r && t2[i].h < t2[j].h){\n\t\t\t\tDoll tmp = t2[i];\n\t\t\t\tt2[i] = t2[j];\n\t\t\t\tt2[j] = tmp;\n\t\t\t}\n\t\t}\n\n\t\tint ans = 0;\n\t\t//ツ開ツ始ツ暗環置\n\t\trep(i,n){\n\t\t\tint sum = 1;\n\t\t\tDoll now = t1[i];\n\n\t\t\trep(j,n){\n\t\t\t\tif(now.h > t2[j].h && now.r > t2[j].r){\n\t\t\t\t\tnow = t2[j];\n\t\t\t\t\trep(k,n) if(now.h > t1[k].h && now.r > t1[k].r){\n\t\t\t\t\t\tnow = t1[k];\n\t\t\t\t\t\tsum++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tsum++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tans = max(ans,sum);\n\t\t}\n\n\t\tcout<<ans<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <string>\n#include <map>\n#include <algorithm>\n#define rep(i,n) for(int i=0; i<n; ++i)\n\nusing namespace std;\nstruct Doll{\n    int H,R,L;\n    bool operator<(const Doll& right)const {\n        return H<right.H;\n    }\n    Doll(){\n      H=0; R=0; L=0;\n    }\n};\nint N, M;\nint main(){\n  while(cin >> N && N){\n      vector<Doll> D;\n      D.resize(200);\n      rep(i,N){\n        cin >> D[i+1].H >> D[i+1].R;\n      }\n      cin >> M;\n      rep(i,M){\n        cin >> D[N+i+1].H >> D[N+i+1].R;\n      }\n      sort(D.begin()+1, D.begin()+(N+M)+1);\n      int ans = 0;\n      for(int i=1; i<N+M+1; ++i){\n        int m = 0;\n        rep(j,i){\n            if(D[j].R<D[i].R && D[j].H<D[i].H && m<D[j].L){\n                m = D[j].L;\n            }\n        }\n        D[i].L = m+1;\n        ans = max(ans,D[i].L);\n      }\n      cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nvector<pair<int,int> > doll;\nint dp[200];\nint n,m,tmp1,tmp2;\n\nint main(){\n  while(1){\n    cin>>n;\n    if(n==0) break;\n    for(int i=0;i<n;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>tmp1>>tmp2;\n      doll.push_back(make_pair(tmp1,tmp2));\n    }\n\n    sort(doll.begin(),doll.end());\n\n    int ans=0;\n\n    for(int i=0;i<n+m;i++){\n      dp[i]=1;\n      for(int j=0;j<i;j++){\n        if(doll[i].second>doll[j].second){\n          dp[i]=max(dp[i],dp[j]+1);\n        }\n      }\n      ans=max(ans,dp[i]);\n    }\n\n    cout<<ans<<endl;\n\n    while(doll.size()) doll.pop_back();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <cstdio>\n# include <algorithm>\n\n#define MAX 100\n\nstruct doll{\n\tint high, r;\n\tdoll() {}\n\tdoll(int H, int R) : high(H), r(R) {}\n\tbool operator<(doll d){\n\t\treturn (high < d.high&&r < d.r);\n\t}\n};\n\nstruct doll_c{\n\tdoll d;\n\tint count;\n};\n\nint n, m;\n\ndoll K[MAX * 2];\ndoll_c dp[MAX * 2];\n\nint main(){\n\twhile (1){\n\t\tint h, r;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 1; i <= n; ++i){\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tK[i].high = h; K[i].r = r;\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = n+1; i < m; ++i){\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tK[i].high = h;\n\t\t\tK[i].r = r;\n\t\t}\n\t\tstd::sort(K+1, K + 1 + n + m);\n\t\tdp[0].d = doll(-1, -1); dp[0].count = 0;\n\t\tfor (int i = 1; i <= n + m; ++i){\n\t\t\tif (dp[i - 1].d < K[i])\n\t\t\t\tdp[i].d = K[i]; dp[i].count += 1;\n\t\t}\n\t}\n\tprintf(\"%d\\n\", dp[n + m].count);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint h[201],r[201];\nint num[201];\n\n\nvoid LIS(int n,int m){\n\n  int max;\n\n  h[0]=0;\n  r[0]=0;\n  num[0]=0;\n  \n  for(int i=1 ; i <= m+n ; i++){\n    max=0;\n    for(int j=0 ; j < i ; j++){\n      if(r[j] < r[i] && h[j] < h[i] && max < num[j])max=num[j];\n    }\n    num[i]=max+1;\n  }\n  \n  /*cout <<endl;\n  for(int i=0 ; i <= m+n ; i++){\n    cout <<num[i]<<endl;\n  }\n  */\n\n  max=num[0];\n  for(int i=0 ; i <= n+m ; i++){\n    if(max < num[i])max=num[i];\n  }\n\n  cout <<max<<endl;\n\t\n  \n}\nint main(){\n\n  int n,m;\n\n  while(1){\n    \n    cin >>n;\n    if(n == 0)break;\n    \n    for(int i=1 ; i <= n ; i++){\n      cin >>h[i]>>r[i];\n    }\n    \n    cin >>m;\n    for(int i=n+1 ; i <= m+n ; i++){\n      cin >>h[i]>>r[i];\n    }\n    \n    for(int i=n+m ; i > 1 ; i--){\n      for(int j=1 ; j < i ; j++){\n\tif(h[j] > h[j+1]){\n\t  swap(h[j],h[j+1]);\n\t  swap(r[j],r[j+1]);\n\t}else if(h[j] == h[j+1] && r[j] > r[j+1]){\n\t  swap(r[j],r[j+1]);\n\t}\n      }\n    }\n    \n    //cout <<endl;\n    //for(int i=1 ; i <= n+m ; i++){\n    //  cout <<h[i]<<\" \"<<r[i]<<endl;\n    //}\n    \n    LIS(n,m);\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n#include <climits>\n#include <cfloat>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n\nusing namespace std;\n\ntypedef unsigned int UI;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define EACH( v, c ) for ( auto &v : c )\n\n#define ITER( c ) __typeof( (c).begin() )\n#define IREP( c, it ) for ( ITER(c) it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nvoid addary( vector< PII > &ary, int n )\n{\n\tREP( i, 0, n )\n\t{\n\t\tint a, b;\n\t\tcin >> a >> b;\n\t\tary.PB( MP( a, b ) );\n\t}\n\n\treturn;\n}\n\nint solve( vector< PII > ary )\n{\n\tconst int N = ary.size();\n\n\tVVI G( N ); // 隣接リスト\n\n\tREP( i, 0, N )\n\t{\n\t\tREP( j, 0, N )\n\t\t{\n\t\t\tif ( i == j )\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( ary[i].fst < ary[j].fst && ary[i].snd < ary[j].snd )\n\t\t\t{\n\t\t\t\tG[i].PB( j );\n\t\t\t}\n\t\t}\n\t}\n\n\tVI dist( N, 1 );\n\n\t// ベルマンフォードもどき\n\twhile ( true )\n\t{\n\t\tbool update = false;\n\n\t\tREP( i, 0, N )\n\t\t{\n\t\t\tREP( j, 0, G[i].size() )\n\t\t\t{\n\t\t\t\tif ( dist[ G[i][j] ] < dist[i] + 1 )\n\t\t\t\t{\n\t\t\t\t\tdist[ G[i][j] ] = dist[i] + 1;\n\t\t\t\t\tupdate = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !update )\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn *max_element( ALL( dist ) );\n}\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\twhile ( true )\n\t{\n\t\tint n;\n\t\tcin >> n;\n\n\t\tif ( !n )\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tvector< PII > ary;\n\t\taddary( ary, n );\n\n\t\tcin >> n;\n\t\taddary( ary, n );\n\n\t\tcout << solve( ary ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nvoid solve()\n{\n\tint n;\n\twhile(cin >> n, n)\n\t{\n\t\tvector<P> doll;\n\t\tfor(int i = 0; i < n; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdoll.push_back(P(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i)\n\t\t{\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tdoll.push_back(P(h, r));\n\t\t}\n\t\tsort(doll.begin(), doll.end());\n\t\tint N = doll.size();\n\t\tvector<int> dp(N, 1);\n\t\tint ans = 1;\n\t\tfor(int i = 0; i < N; ++i)\n\t\t{\n\t\t\tfor(int j = 0; j < i; ++j)\n\t\t\t{\n\t\t\t\tif(doll[j].first < doll[i].first && doll[j].second < doll[i].second)\n\t\t\t\t{\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = max(ans, dp[i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r < d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) /*|| (v[i].h > v[j].h && v[i].r > v[j].r)*/ ){\n                    table[i][j] = 1;\n                    //table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 0;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n/*\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n*/\n        cout << dp[n+m][n+m]<< endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<math.h>\n#include<stdlib.h>\n#include<cstdlib>\nusing namespace std;\n\nstruct ppp {\n  int h;\n  int r;\n};\n\nint tansaku(vector<ppp> c, vector<ppp> d, int cN, int dN, int ans, int cy, int dy) {\n  cout << c[cN].h << \" \" << d[dN].h << \" \" << ans << \" \" << cN << \" \" << dN << endl;\n  if(dN >= d.size()) {\n    for(int i = cN; i < c.size(); i++) {\n      cout << dy << endl;\n      if(d[dy].r < c[i].r && d[dy].h < c[i].h) {\n        ans++;\n        d[dy] = c[i];\n      }\n    }\n    return ans;\n  }\n  if(cN >= c.size()) {\n    for(int i = dN; i < d.size(); i++) {\n      if(d[i].r > c[cy].r && d[i].h > c[cy].h) {\n        ans++;\n        c[cy] = d[i];\n      }\n    }\n    return ans;\n  }\n  if(c[cN].h == d[dN].h) {\n    return c[cN].r > d[dN].r ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].r == d[dN].r) {\n    return c[cN].h > d[dN].h ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].h < d[dN].h && c[cN].r < d[dN].r) {\n    return tansaku(c, d, cN + 1, dN, ans + 1, cN, dy);\n  }\n  if(c[cN].h > d[dN].h && c[cN].r > d[dN].r) {\n    return tansaku(c, d, cN, dN + 1, ans + 1, cy, dN);\n  }\n  if((c[cN].h < d[dN].h && c[cN].r > d[dN].r) || (c[cN].h > d[dN].h && c[cN].r < d[dN].r)) {\n    return max(tansaku(c, d, cN + 1, dN, ans + 1, cN, dy), tansaku(c, d, cN, dN + 1, ans + 1, cy, dN));\n  }\n  return ans;\n}\n\nint main() {\n  int a, b;\n  cin >> a;\n  vector<ppp> c(a);\n  for(int i = 0; i < a; i++) {\n    cin >> c[i].h >> c[i].r;\n  }\n  cin >> b;\n  vector<ppp> d(b);\n  for(int i = 0; i < b; i++) {\n    cin >> d[i].h >> d[i].r;\n  }\n  cout << tansaku(c, d, 0, 0, 0, 0, 0) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define between(a,x,b) ((a)<=(x)&&(x)<=(b))\nusing namespace std;\n\nint main(){\n  int n;\n  while(scanf(\"%d\", &n) && n){\n    vector<pair<int, int> >d;\n    pair<int, int>t;\n    int h, r;\n    rep(i, n){\n      scanf(\"%d %d\", &h, &r);\n      t = make_pair(h, r);\n      d.push_back(t);\n    }\n    scanf(\"%d\", &n);\n    rep(i, n){\n      scanf(\"%d%d\", &h, &r);\n      t = make_pair(h, r);\n      d.push_back(t);\n    }\n    sort(d.begin(), d.end());\n\n    rep(i, d.size()-1) if(d[i].first >= d[i+1].first || d[i].second >= d[i+1].second) d.erase(d.begin()+i+1);\n\n    printf(\"%d\\n\", (int)d.size());\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct Doll{\n  int h,r;\n  Doll(int a,int b){h=a;r=b;};\n};\n\nint n;\nint h,r;\nint m;\nvector<Doll>doll;\nint memo[201]={0};\n\nbool comp(Doll a, Doll b){return a.h<b.h && a.r<b.r;};\n\nint rec(int id)\n{\n  if(memo[id]!=0)return memo[id];\n\n  int ans=0;\n  for(int i=0;i<n+m;i++){\n    if(comp(doll[i],doll[id]))ans=max(rec(i)+1,ans);\n  }\n\n  return memo[id]=ans;\n}\n\nint main()\n{\n  while(cin>>n,n){\n    doll.clear();\n    for(int i=0;i<200;i++)memo[i]=0;\n\n    for(int i=0;i<n;i++){\n      cin>>h>>r;\n      doll.push_back(Doll(h,r));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>h>>r;\n      doll.push_back(Doll(h,r));\n    }\n\n    doll.push_back(Doll(1001,1001));\n\n    cout<<rec(n+m)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T> inline void chmax(T &a, const T &b) { if(a < b) a = b; }\n\nvoid input_dolls(vector<pair<int, int>> &dolls, int n) {\n\tfor(int i = 0; i < n; ++i) {\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tdolls.emplace_back(h, r);\n\t}\n}\n\nint main() {\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\n\tfor(int n; cin >> n && n;) {\n\t\tvector<pair<int, int>> dolls;\n\t\tinput_dolls(dolls, n);\n\n\t\tint m;\n\t\tcin >> m;\n\t\tinput_dolls(dolls, m);\n\n\t\tsort(dolls.begin(), dolls.end());\n\n\t\tint prev_h = -1;\n\t\tvector<int> dp(1000, 0);\n\t\tvector<int> tmp(dp);\n\n\t\tfor(const auto &doll : dolls) {\n\t\t\tconst int h = doll.first;\n\t\t\tconst int r = doll.second;\n\n\t\t\tif(prev_h < h) {\n\t\t\t\ttmp = dp;\n\t\t\t\tprev_h = h;\n\t\t\t}\n\n\t\t\tconst int num = *max_element(tmp.begin(), tmp.begin() + r);\n\t\t\tchmax(dp[r], num + 1);\n\t\t}\n\n\t\tcout << *max_element(dp.begin(), dp.end()) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 3000\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   dp[1] = 1;\n   for(int i=0;i<(n+m);i++){\n      //dp[i+1] = 1;\n      for(int j=0;j<i;j++){\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i],dp[j+1]+1);\n\t }\n      }\n   }\n\n   cout << dp[n+m] << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      for(int i=0;i<n;i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+(n+m)-1);\n      solve();\n      /*\n      rep(i,n+m)\n\t cout << Dolls[i].h << \" \" << Dolls[i].r << \" \" << dp[i+1] << endl;\n      cout << endl;\n      */\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define show(x)  cerr << #x << \" = \" << (x) << endl;\nusing namespace std;\n\nconst int MAX_N = 100005;\n\n//[1, n]\nint bit[MAX_N + 1] = {0};\n\nint sum(int i){\n    int s = 0;\n    while(i > 0){\n        s = max(s,bit[i]);\n        i -= i & -i;\n    }\n    return s;\n}\n\nvoid add(int i, int x, int n){\n    while(i <= MAX_N){\n        //bit[i] += x;\n        bit[i] = max(bit[i], x);\n        i += i & - i;\n    }\n}\n\nint main(){\n    int n;\n    while(cin >> n,n){\n        memset(bit,0,sizeof(bit));\n        pair<int, int> p[MAX_N];\n        rep(i,n){\n            cin >> p[i].first >> p[i].second;\n            p[i].second *= -1;\n        }\n        int m;\n        cin >> m;\n        range(i,n,n + m){\n            cin >> p[i].first >> p[i].second;\n            p[i].second *= -1;\n        }\n\n        sort(p, p + n + m);\n        rep(i,n + m) p[i].second *= -1;\n\n        int dp[MAX_N] = {0};\n        rep(i,n + m){\n            dp[i] = sum(p[i].second) + 1;\n            add(p[i].second, dp[i], n + m);\n        }\n        cout << *max_element(dp, dp + MAX_N) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct Doll{\n  int h,r;\n  Doll(int a,int b){h=a;r=b;};\n};\n\nint n;\nint h,r;\nint m;\nvector<Doll>doll;\nint memo[201]={0};\n\nbool comp(Doll a, Doll b){return a.h<b.h && a.r<b.r;};\n\nint rec(int id)\n{\n  int ans=0;\n  for(int i=0;i<n+m;i++){\n    if(comp(doll[i],doll[id]))ans=max(rec(i)+1,ans);\n  }\n\n  return ans;\n}\n\nint main()\n{\n  while(cin>>n,n){\n    doll.clear();\n    for(int i=0;i<200;i++)memo[i]=0;\n\n    for(int i=0;i<n;i++){\n      cin>>h>>r;\n      doll.push_back(Doll(h,r));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>h>>r;\n      doll.push_back(Doll(h,r));\n    }\n\n    doll.push_back(Doll(1001,1001));\n\n    cout<<rec(n+m)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct D{int r, h;};\n\nbool compr_as(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\n\nbool comph_as(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[200];\n  D dolls[200];\n\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++) cin >> dolls[i].h >> dolls[i].r;\n    cin >> m;\n    for(int i = n; i < n + m; i++) cin >> dolls[i].h >> dolls[i].r;\n\n    int lis_r = 0, lis_h = 0;\n    sort(dolls, dolls + n + m, compr_as);\n\n    fill(dp, dp + n + m, 0);\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h < dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(dolls, dolls + n + m, comph_as);\n\n    fill(dp, dp + n + m, 0);\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h < dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nclass Matryoshika{\npublic:\n    int h, r;\n\n    bool operator<(const Matryoshika& m)const{ return h < m.h; }\n    bool operator>(const Matryoshika& m)const{ return h > m.h; }\n    bool operator<<(const Matryoshika& m)const{ return h < m.h && r < m.r; }\n    bool operator>>(const Matryoshika& m)const{ return h > m.h && r > m.r; }\n};\n\nconst int MAX_HR = 1001, MAX_NM = 201;\nint N, M;\nMatryoshika datas[MAX_NM];\nint dp[MAX_NM];\n\nint main(){\n    while(true){\n        std::cin >> N;\n        if(N == 0) break;\n        for(int i = 0; i < N; ++i){\n            std::cin >> datas[i].h >> datas[i].r;\n            dp[i] = 1;\n        }\n        std::cin >> M;\n        for(int i = N; i < N + M; ++i){\n            std::cin >> datas[i].h >> datas[i].r;\n            dp[i] = 1;\n        }\n        std::sort(datas, datas + (N + M));\n\n        int ans = 0;\n        bool flag = true;\n\n        for(int i = 0; i < (N + M - 1); ++i){\n            for(int j = i + 1; j < (N + M); ++j){\n                if(datas[i] << datas[j]){\n                    flag = false;\n                    dp[j] = std::max(dp[i] + 1, dp[j]);\n                    ans = std::max(dp[j], ans);\n                }\n            }\n        }\n        std::cout << ans + flag << std::endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\n\nint main(){\n\tint n, m, a, b, ans;\n\tP doll[201];\n\tint dp[201];\n\twhile (cin >> n && n){\n\t\tfill(dp, dp + 201, 0);\n\t\tans = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tfor (int j = 0; j < i; j++){\n\t\t\t\tif (doll[i].first > doll[j].first&&doll[i].second>doll[j].second){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t\tans = max(ans, dp[i]);\n\t\t\t}\n\t\t}\n\t\tcout << ans + 1 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n\nusing namespace std;\n\nclass doll{\npublic:\n\n\tdoll(int a, int b){\n\t\th = a;\n\t\tr = b;\n\t}\n\n\tint h;\n\tint r;\n\n\tbool operator<(doll arg){\n\t\tif(h < arg.h && r < arg.r){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n};\n\nint main(void){\n\tint n;\n\twhile(cin >> n && n){\n\t\tvector<doll> a,b,c;\n\t\tint h,r,ret;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> h >> r;\n\t\t\ta.push_back(doll(h,r));\n\t\t}\n\t\tcin >> n;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> h >> r;\n\t\t\tb.push_back(doll(h,r));\n\t\t}\n\t\tvector<doll>::iterator it,jt;\n\t\tbool isused[b.size()];\n\t\tmemset(isused,false,sizeof(isused));\n\t\tret = a.size();\n\t\tfor(it=a.begin();it!=a.end();++it){\n\t\t\tjt = it;\n\t\t\t++jt;\n\t\t\tfor(int pos=0;(unsigned int)pos<b.size();pos++){\n\t\t\t\tif(isused[pos]) continue;\n\t\t\t\tif(jt == a.end()){\n\t\t\t\t\tif(*it < b[pos]){\n\t\t\t\t\t\tisused[pos] = true;\n\t\t\t\t\t\tret++;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(*it < b[pos] && b[pos] < *jt){\n\t\t\t\t\t\tisused[pos] = true;\n\t\t\t\t\t\tret++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, ans, p, s, s2, s3;\npair<int,int> doll[201];\nint dp[2][201],dp2[201];\nint d[2][1000];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 1000, INF);\n\t\tfill(dp[1], dp[1] + 1000, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n + 1; i <= n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll + 1, doll + 1 + n + m);\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tp = lower_bound(dp[0] + 1, dp[0] + n + m + 1, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\t*lower_bound(dp2 + 1, dp2 + n + m + 1, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout <<lower_bound(dp2 + 1, dp2 + n + m + 1, INF) - dp2 -1<< endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <utility>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int,int> P;\nP doll[200];\nint memo[200];\nint n,m;\nint solve(int x) {\n\tif(memo[x]>-1) return memo[x];\n\tint sum=0;\n\tfor(int i=x+1;i<(n+m);i++) {\n\t\tif(doll[x].second<doll[i].second)\n\t\t\tsum=max(sum,1+solve(i));\n\t}\n\treturn memo[x]=sum;\n}\nint main() {\n\twhile(scanf(\"%d\",&n),n) {\n\t\tfor(int i=0;i<200;i++) {\n\t\t\tdoll[i].first=doll[i].second=1<<30;\n\t\t}\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdoll[i].first=h,doll[i].second=r;\n\t\t}\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++) {\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdoll[i+n].first=h,doll[i+n].second=r;\n\t\t}\n\t\tsort(doll,doll+n+m);\n\t\tmemset(memo,-1,sizeof(memo));\n\t\tint sum=0;\n\t\tfor(int i=0;i<(n+m);i++) {\n\t\t\tsum=max(sum,1+solve(i));\n\t\t}\n\t\tprintf(\"%d\\n\",sum);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n,m;\n  int h[200],r[200],dp[200];\n\n  while(1){\n    cin >> n;\n    if(!n)break;\n\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n\n    cin >> m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++)\n      for(int j=i+1;j<n+m;j++)\n\tif(h[i]>h[j] || (h[i]==h[j] && r[i]>r[j])){\n\t  swap(h[i],h[j]);\n\t  swap(r[i],r[j]);\n\t}\n   \n    int ans = 0;\n    for(int i=1;i<n+m;i++)dp[i] = 0;\n    dp[0] = 1;\n    for(int i=1;i<n+m;i++){\n      for(int j=0;j<i;j++)\n\tif(h[i]>h[j] && r[i]>r[j])dp[i] = max(dp[i],dp[j]+1);\n      ans = max(ans,dp[i]);\n    }\n    \n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tdp[i] = dp[i - 1];\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstd::cout << dp[n - 1] << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <functional>\nusing namespace std;\nvoid print(vector<vector<int> > dp){\n  cout << \"---------------\" << endl;\n  for(int i = 0;i  < dp.size();i++){\n\tfor(int j = 0;j < dp.size();j++){\n\t  cout << dp[i][j] << \" \";\n\t}\n\tcout << endl;\n  }\n}\nint cal(vector<pair<int,int> > vec){\n  vector<vector<int> > dp(vec.size(),vector<int>(vec.size(),0));  \n  for(int i = 0;i < vec.size()-1;i++){\n\tfor(int j = 0;j < vec.size();j++){\n\t  for(int k = j+1;k < vec.size();k++){\n\t\tif(vec[j].first > vec[k].first && vec[j].second > vec[k].second){\n\t\t  dp[i+1][k] = max(dp[i][j]+1,dp[i+1][k]);\n\n\t\t}\n\t  }\n\t}\n  }\n  int ans = 0;\n  for(int i = 0;i < vec.size();i++){\n\tans = max(ans,dp[vec.size()-1][i]);\n  }\n  return ans;\n}\nvoid print2(vector<int> vec){\n  for(int i = 0;i < vec.size();i++)\n\tcout << vec[i] << \" \";\n  cout << endl;\n\n}\nint cal2(vector<pair<int,int> > vec){\n  vector<int> dp(vec.size(),0);\n  for(int i = 0;i < vec.size();i++){\n\tfor(int j =i+1;j < vec.size();j++){\n\t  if(vec[i].first > vec[j].first && vec[i].second > vec[j].second){\n\t\tdp[j] = max(dp[i]+1,dp[j]);\n\t  }\n\t}\n//\tprint2(dp);\n  }\n  int ans = 0;\n  for(int i = 0;i < dp.size();i++){\n\tans = max(ans,dp[i]);\n  }\n  return ans;\n}\nint main(){\n  int n;\n\n  while(cin >> n && n!=0){\n\tvector<pair<int,int> > vec;\n\tvec.emplace_back(10000,10000);\n\tfor(int i = 0;i < n;i++){\n\t  int h,r;\n\t  cin >> h >> r;\n\t  vec.emplace_back(h,r);  \n\t}\n\tcin >> n;\n\tfor(int i = 0;i < n;i++){\n\t  int h,r;\n\t  cin >> h >> r;\n\t  vec.emplace_back(h,r);\n\t}\n\tsort(vec.begin(),vec.end(),greater<pair<int,int> >());\n\tcout << cal(vec) << endl;\n//\tcout << cnt << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\nint low[200],ans;\nmat hr[200];\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    rep(i,n)cin>>hr[i].h>>hr[i].r;\n    int m;\n    cin>>m;\n    rep(i,m)cin>>hr[i+n].h>>hr[i+n].r;\n\n    \n    memset(low,0,sizeof(0));\n\n    stable_sort(hr,hr+m+n,lessh);\n    stable_sort(hr,hr+m+n,lessr);\n\n\n    int ans=0;\n    rep(i,n+m){\n      rep(j,n+m){\n\tif(hr[j].h<hr[i].h && hr[j].r<hr[i].r){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n    //rep(i,m+n)cout<<hr[i].h<<\" \"<<hr[i].r<<\" \"<<low[i]+1<<endl;\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={0,1,0,-1,1,-1,-1,1};\nconst int dy[]={-1,0,1,0,1,1,-1,-1};\nconst int INF = 1<<30;\nconst double EPS = 1e-15;\n#define PB push_back\n#define mk make_pair\n#define fi first\n#define se second\n#define ll long long\n#define reps(i,j,k) for(int i = (j); i < (k); i++)\n#define rep(i,j) reps(i,0,j)\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nint main(){\n\tint N,M;\n\twhile(scanf(\"%d\",&N),N){\n\t\tvector < Pii > data;\n\t\trep(i,N){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tscanf(\"%d\",&M);\n\t\trep(i,M){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tsort(data.begin(),data.end());\n\t\tint l = -1;\n\t\tint ans = 0;\n\t\tint prev1,prev2;\n\t\tprev1 = prev2 = -1;\n\t\trep(i,N+M){\n\t\t\tif(prev1 < data[i].fi && prev2 < data[i].se){\n\t\t\t\tprev1 = data[i].fi;\n\t\t\t\tprev2 = data[i].se;\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> P;\nconst int INF = 1e+9;\n\nint DP[1000];\n\nint main() {\n\tint n, m, h, r;\n\twhile(cin >> n && n){\n\t\tmemset(DP, 0, sizeof(DP));\n\t\tvector<P> vec;\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> h >> r;\n\t\t\tvec.push_back(P(h, r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; ++i){\n\t\t\tcin >> h >> r;\n\t\t\tvec.push_back(P(h, r));\n\t\t}\n\t\tsort(vec.begin(), vec.end());\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < (n + m); ++i){\n\t\t\tDP[i] = 1;\n\t\t\tfor(int j = 0; j < i; ++j){\n\t\t\t\tif(vec[j].first < vec[i].first && vec[j].second < vec[i].second)\n\t\t\t\t\tDP[i] = max(DP[i], DP[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, DP[i]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cstring>\n#include<cstdlib>\nusing namespace std;\nstruct doll{\n    int r;\n    int h;\n};\nvector<doll> dolls;\nint hen[1010][1010];\nint dollnum;\nint dp[210];\n\nint solve(int n)\n{\n    if(dp[n]!= -1){ return dp[n];}\n    int ans = 0;\n    int temp=0;\n    for(int i=0;i<dollnum;i++)\n    {\n        if(hen[n][i]==1) {temp = solve(i)+1; ans = max(temp,ans);}\n    }\n    dp[n] = ans;\n    return ans;\n}\nint main()\n{\n    int n,m;\n    while(cin>>n)\n    {\n        memset(dp,-1,sizeof(dp));\n        dolls.clear();\n        memset(hen,0,sizeof(hen));\n        if(n==0)break;\n        doll temp;\n        temp.h=0;temp.r=0;\n        dolls.push_back(temp);\n        for(int i=0;i<n;i++)\n        {\n            cin>>temp.h>>temp.r;\n            dolls.push_back(temp);\n        }\n        cin>>m;\n        for(int i=0;i<m;i++)\n        {\n            cin>>temp.h>>temp.r;\n            dolls.push_back(temp);\n        }\n        dollnum = dolls.size();\n        for(int i=0;i<dollnum-1;i++)\n        {\n            for(int j=0;j<dollnum;j++)\n            {\n                if(dolls[i].h<dolls[j].h && dolls[i].r<dolls[j].r){hen[i][j] =1;}\n                if(dolls[i].h>dolls[j].h && dolls[i].r>dolls[j].r){hen[j][i] =1;}\n            }\n        }\n        cout << solve(0)<< endl;\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "/* {{{ Shinobu kawaii */\n/*\n  ______   __        _                  __                 \n.' ____ \\ [  |      (_)                [  |                \n| (___ \\_| | |--.   __   _ .--.   .--.  | |.--.   __   _   \n _.____`.  | .-. | [  | [ `.-. |/ .'`\\ \\| '/'`\\ \\[  | | |  \n| \\____) | | | | |  | |  | | | || \\__. ||  \\__/ | | \\_/ |, \n \\______.'[___]|__][___][___||__]'.__.'[__;.__.'  '.__.'_/ \n\n*/\n/* }}} */\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n// #define int long long\nstruct Fast {Fast(){std::cin.tie(0);ios::sync_with_stdio(false);}} fast;\n\n/* cpp template {{{ */\n\n/* short */\n#define pb push_back\n#define mp make_pair\n#define Fi first\n#define Se second\n#define ALL(v) (v).begin(), (v).end()\n#define X real()\n#define Y imag()\n\n/* REPmacro */\n#define REPS(i, a, n) for (int i = (a); i < (n); ++i)\n#define REP(i, n) REPS(i, 0, n)\n#define RREP(i, n) REPS(i, 1, n + 1)\n#define DEPS(i, a, n) for (int i = (a); i >= n; --i)\n#define DEP(i, n) DEPS(i, n, 0)\n\n/* debug */\n#define debug(x) cerr << x << \" \" << \"(L:\" << __LINE__ << \")\" << '\\n';\n\n/* alias */\nusing ll = long long;\nusing ull = unsigned long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vvvi = vector<vvi>;\nusing pii = pair<int, int>;\nusing D = double;\nusing P = complex<D>;\n\n/* const */\nconst int INF = 1001001001;\nconst ll LINF = 1001001001001001001ll;\nconst int MOD = 1e9 + 7;\nconst D EPS = 1e-9;\nconst int dx[] = {0, 1, 0, -1, 1, -1, 1, -1}, dy[] = {1, 0, -1, 0, 1, -1, -1, 1};\n\n/* func */\ninline bool inside(int y, int x, int H, int W) {return y >= 0 && x >= 0 && y < H && x < W;}\ninline int in() {int x; std::cin >> x; return x;}\ntemplate <typename T> void print(T x) {std::cout << x << '\\n';}\ntemplate <typename T>\nvoid print(std::vector<T>& v, std::string s = \" \") {\n  REP(i, v.size()) {\n    if (i != 0) std::cout << s;\n    std::cout << v[i];\n  }\n  std::cout << '\\n';\n}\n\n/* }}} */\n\nsigned main()\n{\n  for (int n, m; n = in(), n; ) {\n    vector<pii> v;\n    REP(i, n) v.pb(mp(in(), in()));\n    m = in();\n    REP(i, m) v.pb(mp(in(), in()));\n    vi dp(v.size(), 0);\n\n    sort(ALL(v));\n    int ans = -INF;\n    REP(i, v.size()) {\n      dp[i] = 1;\n      REP(j, i) {\n        if (v[j].Fi < v[i].Fi && v[j].Se < v[i].Se) {\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n      ans = max(ans, dp[i]);\n    }\n    print(ans);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nbool cmpr(const doll &a, const doll &b)\n{\n \tif( a.first == b.first )\n\t\treturn a.second < b.second;\n\telse\n\t\treturn a.first < b.first;\n}\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tsort(vc.begin(), vc.end(), cmpr);\n\t\t\n\t\tdp[0] = 1;\n\t\tint surface = 0;\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\t\n\t\t\tif( vc[surface].first < vc[i].first && vc[surface].second < vc[i].second )\n\t\t\t{\n\t\t\t\tdp[i] = dp[surface] + 1;\n\t\t\t\tsurface = i;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdp[i] = dp[surface];\n\t\t\t}\n\t\t\t\n//\t\t\tcout << \"dp::\" << dp[i] << endl;\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n#define INF 10e6\n#define F first\n#define S second\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tP dolls[200];\n\tP dolls1[200];\n\tint dp[200];\n\tint dp1[200];\n\tint n,m;\n\twhile(cin >> n,n){\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tcin >> m;\n\t\tfor(int i=n;i<n+m;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tdolls1[i].F=dolls[i].S,dolls1[i].S=dolls[i].F;\n\t\tsort(dolls,dolls+n+m);\n\t\tsort(dolls1,dolls1+n+m);\n\t\tint cx,cy,ccx=0,ccy=0;\n\t\tfill(dp,dp+n+m,INF);\n\t\tfill(dp1,dp1+n+m,INF);\n\t\tfor(int i=0;i<n+m;i++){\n\t\t\tif(dolls[i].F>ccx)\n\t\t\t*lower_bound(dp,dp+n+m,dolls[i].S)=dolls[i].S,ccx=dolls[i].F;\n\t\t\tif(dolls1[i].F>ccy)\n\t\t\t*lower_bound(dp1,dp1+n+m,dolls1[i].S)=dolls1[i].S,ccy=dolls1[i].F;\n\t\t}\n\t\tcx=lower_bound(dp,dp+n+m,INF)-dp;\n\t\tcy=lower_bound(dp1,dp1+n+m,INF)-dp1;\n\t\tcout << max(cx,cy) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\n\nconst int MAX_N = 201;\nconst int MAX_H = 1001;\nconst int MAX_R = MAX_H;\nint N;\npair<int,int> E[MAX_N];\nint T[MAX_H];\n\nint solve() {\n  int ans = 0;\n  sort(E,E+N);\n  fill(T,T+MAX_N,1);\n  for(int i = 0; i < N; ++i) {\n    for(int j = 0; j < N; ++j) {\n      if(E[i].first > E[j].first && E[i].second > E[j].second) {\n\tT[i] = max(T[i], T[j] + 1);\n\tans = max(ans, T[i]);\n      }\n    }\n  }\n  return ans;\n}\n\nint main() {\n  while(cin >> N && N) {\n    for(int i = 0; i < N; ++i) cin >> E[i].first >> E[i].second;\n    int m;\n    cin >> m;\n    for(int i = 0; i < m; ++i) cin >> E[N+i].first >> E[N+i].second;\n    N += m;\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main()\n{\n    while (true)\n    {\n        int n;\n        cin>>n;\n        if (n==0)\n            break;\n        vector<int> h(n), r(n);\n        for (int i=0; i<n; i++)\n            cin>>h[i]>>r[i];\n        int m;\n        cin>>m;\n        h.resize(n+m);\n        r.resize(n+m);\n        for (int i=n; i<n+m; i++)\n            cin>>h[i]>>r[i];\n\n        vector<int> c(n+m, 1);\n        for (int i=0; i<n+m; i++)\n        for (int j=0; j<n+m; j++)\n        for (int k=0; k<n+m; k++)\n            if (h[k]<h[j] && r[k]<r[j])\n                c[j] = max(c[j], c[k]+1);\n        cout<<*max_element(c.begin(), c.end())<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n#include<cassert>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define rep(i,s,n) for(int i=(s); i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x)\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nconst int _dx[] = {0,1,0,-1};\nconst int _dy[] = {-1,0,1,0};\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\nint n;\nint m;\npair<int,int> h[200];\n\nint dp[2][200];\n\nint solve(int pos, int size, int s2){\n  if(pos == n+m) return 0;\n\n  if(dp[0][pos] == -1)\n    dp[0][pos] = solve(pos+1, size, s2);\n\n  if(size < h[pos].s && s2 < h[pos].f){\n    if(dp[1][pos] == -1)\n      dp[1][pos] = solve(pos+1, h[pos].s, h[pos].f) + 1;\n  }else\n    dp[1][pos] = 0;\n\n  return max(dp[0][pos], dp[1][pos]);\n}\n\nint main(){\n  while(n = getInt()){\n    REP(i,n){\n      h[i].f = getInt();\n      h[i].s = getInt();\n    }\n\n    m = getInt();\n    REP(i,m){\n      h[i+n].f = getInt();\n      h[i+n].s = getInt();\n    }\n\n    sort(h, h+n+m);\n\n    memset(dp, -1, sizeof(dp));\n\n    print(solve(0,-1,-1));\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <vector>\n#include <string>\n#include <map>\n#include <sstream>\n#include <queue>\n#include <cstdlib>\n#include <algorithm>\n#include <iterator>\n#include <stack>\n#include <list>\nusing namespace std;\n#define INF 100000000\ntypedef long long int lli;\ntypedef pair<int,int> P;\n\nbool dp[201][201];\n\nint main(){\n\tint n,m;\n\twhile(cin >> n){\n\t\tif(n==0) break;\n\t\tvector<int> h;\n\t\tvector<int> r;\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tint tmp1,tmp2;\n\t\t\tcin >> tmp1 >> tmp2;\n\t\t\th.push_back(tmp1);\n\t\t\tr.push_back(tmp2);\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i=0; i<m; ++i){\n\t\t\tint tmp1,tmp2;\n\t\t\tcin >> tmp1 >> tmp2;\n\t\t\th.push_back(tmp1);\n\t\t\tr.push_back(tmp2);\n\t\t}\n\t\tfor(int i=0; i<=n+m; ++i){\n\t\t\tfor(int j=0; j<n+m; ++j){\n\t\t\t\tdp[i][j]=false;\n\t\t\t}\n\t\t}\n\t\tfor(int i=0; i<n+m; ++i){\n\t\t\tdp[1][i]=true;\n\t\t}\n\t\tfor(int i=2; i<=n+m; ++i){\n\t\t\tfor(int j=0; j<n+m; ++j){\n\t\t\t\tfor(int k=0; k<n+m; ++k){\n\t\t\t\t\tif(h[k]<h[j]&&r[k]<r[j]&&dp[i-1][k]){\n\t\t\t\t\t\tdp[i][j]=true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=0;\n\t\tfor(int i=1; i<=n+m; ++i){\n\t\t\tfor(int j=0; j<n+m; ++j){\n\t\t\t\tif(dp[i][j]) ans=max(ans,i);\n\t\t\t}\n\t\t}\n\t\tcout << ans << \"\\n\";\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int n, m, h, r;\n    while (cin >> n, n) {\n        vector<pair<int,int> > v;\n        for (int i=0; i<n; ++i) {\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        cin >> m;\n        for (int i=0; i<m; ++i) {\n            cin >> h >> r;\n            v.push_back(make_pair(h, r));\n        }\n        sort(v.begin(), v.end());\n        int mx = 0, dp[200];\n        for (int i=0; i<n+m; ++i) {\n            dp[i] = 1;\n            for (int j=0; j<i; ++j) {\n                if (v[j].first < v[i].first && v[j].second < v[i].second) {\n                    dp[i] = max(dp[i], dp[j] + 1);\n                }\n            }\n            mx = max(mx, dp[i]);\n        }\n        cout << mx << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    ll ans = 1,tmp = 1;\n    h = v[0].h,r = v[0].r;\n    sort(all(v),[](const data &a,const data &b){\n        return a.s < b.s;});\n    rep(i,n+m){\n      if(v[i].h > h && v[i].r > r){\n        h = v[i].h;\n        r = v[i].r;\n        ++ans;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nclass Matryoshka{\npublic:\n  int h;\n  int r; \n\n  bool operator < ( const Matryoshka &m ) const {\n    if( h < m.h && r < m.r ){\n      return true;\n    }else{\n      return false;\n    }\n  }\n};\n\ntypedef vector< Matryoshka > Dolls;\n\nvoid MaxSubSequenceLength( Dolls &d, vector< int > &ans ){\n  ans[0] = 0;\n  for(int i = 1; i < d.size(); i++){\n    int maxSub = -1, maxj;\n\n    for(int j = i - 1; j >= 0; j--){\n      if( d[j].r < d[i].r && d[j].h < d[i].h ){\n\tif( maxSub < ans[j] ){\n\t  maxj = j;\n\t  maxSub = ans[j];\n\t}\n      }\n    }\n\n    ans[i] = ans[maxj] + 1;\n  }\n}\n\nvoid InputMatryoshka( Dolls &d, int num ){\n  for(int i = 0; i < num; i++){\n    Matryoshka m;\n    \n    cin >> m.h;\n    cin >> m.r;\n    d.push_back( m );\n  }\n}\n\nint main(void){\n  while( 1 ){\n    int n, m;\n    Dolls dolls;\n    Matryoshka matryoBanpei;\n    int maxMatryoshkaNum = 0;\n    vector<int> ans;\n\n    cin >> n;\n    if( n == 0 ){\n      break;\n    }\n\n    matryoBanpei.h = -1;\n    matryoBanpei.r = -1;\n    dolls.push_back( matryoBanpei );\n    \n    InputMatryoshka( dolls, n );\n\n    cin >> m;\n    InputMatryoshka( dolls, m );\n\n    sort( dolls.begin(), dolls.end() );\n    ans.resize( n+m+1, 0 );\n\n    MaxSubSequenceLength( dolls, ans );\n\n    //output\n    for(int i = 0; i < ans.size(); i++){\n      maxMatryoshkaNum = max( maxMatryoshkaNum, ans[i] );\n    }\n    cout << maxMatryoshkaNum << '\\n';\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int, int> Doll;\nvector<Doll> Dolls;\nint dp[201];\n\nvoid debug(){\n  for(int i = 0; i < Dolls.size(); i++){\n    cout << \"(\" << Dolls[i].first << \", \" << Dolls[i].second << \")\" << endl;\n  }\n}\n\nbool comp(const Doll& d1, const Doll& d2){\n  return ((d1.first <= d2.first) && (d1.second <= d2.second));\n}\n\nint main(void){\n  int n, m;\n  while(cin >> n, n){\n    Dolls.clear();\n    Dolls.push_back(Doll(0, 0));\n    for(int i = 0; i < n; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      int h, r;\n      cin >> h >> r;\n      Dolls.push_back(Doll(h, r));\n    }\n    sort(Dolls.begin(), Dolls.end(), comp);\n    for(int i = 1; i < Dolls.size(); i++){\n      int max_k = 0;\n      for(int j = 0; j < i; j++){\n        if(Dolls[j].first < Dolls[i].first && Dolls[j].second < Dolls[i].second && dp[max_k] < dp[j]){\n          max_k = j;\n        }\n      }\n      dp[i] = dp[max_k] + 1;\n    }\n    cout << dp[Dolls.size()-1] + 1 << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\nusing namespace std;\n\n\nint n, m;\npair<int, int> doll[200];\nint dp[200] = { 1 };\n\n\nint solve(){\n\tfor (int i = 0; i < n + m; i++){\n\t\tvector<int> mem = { -1 };\n\t\tfor (int j = 0; j < i; j++){\n\t\t\tif (doll[j].first < doll[i].first && doll[j].second < doll[i].second){\n\t\t\t\tmem.push_back(dp[j]);\n\t\t\t}\n\t\t}\n\t\tif (mem.back() != -1)\n\t\t\tdp[i] = *max_element(mem.begin(), mem.end()) + 1;\n\t}\n\treturn *max_element(dp, dp + n + m);\n}\n\n\nvoid clear(){\n\tfor (int i = 0; i < 200; i++){\n\t\tdoll[i] = { 0, 0 };\n\t\tdp[i] = 0;\n\t}\n\tdp[0] = 1;\n}\n\n\nint main(){\n\twhile (cin >> n, n){\n\t\tfor (int i = 0; i < n; i++) cin >> doll[i].first >> doll[i].second;\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++) cin >> doll[i].first >> doll[i].second;\n\n\t\tsort(doll, doll + n + m);\n\n\t\tcout << solve() << endl;\n\n\t\tclear();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,m,h,r;\n\tvector<P> mat;\n\tvector<int> l;\n\twhile(cin >> n,n){\n\t\tfor(int i = 0;i < n;i++) {\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = n;i < n + m;i++){\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tsort(mat.begin(),mat.end());\n\t\tfor(int i = 0;i < n + m;i++){\n\t\t\tif(l.empty()) l.push_back(mat[i].second);\n\t\t\telse{\n\t\t\t\tif(l.back() < mat[i].second) l.push_back(mat[i].second);\n\t\t\t\telse l[lower_bound(l.begin(),l.end(),mat[i].second) - l.begin()] = mat[i].second;\n\t\t\t}\n\t\t}\n\t\tcout << l.size() << endl;\n\t\tl.clear();\n\t\tmat.clear();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int>P;\n\nP v1[200], v2[200];\nbool used1[200], used2[200];\nint main() {\n\tint n;\n\twhile (scanf(\"%d\", &n), n) {\n\t\tmemset(used1, 0, sizeof(used1));\n\t\tmemset(used2, 0, sizeof(used2));\n\t\trep(i, n) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv1[i] = P(h, r);\n\t\t}\n\t\tint m; scanf(\"%d\", &m);\n\t\trep(i, m) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv2[i] = P(h, r);\n\t\t}\n\t\tsort(v1, v1 + n);\n\t\tsort(v2, v2 + m);\n\t\tv1[n] = v2[m] = P(2000, 2000);\n\t\tint cnt1 = 0;\n\t\trep(i, n + 1) {\n\t\t\trep(j, m) {\n\t\t\t\tif ((!i || (v1[i - 1].first < v2[j].first&&v1[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv2[j].first < v1[i].first&&v2[j].second < v1[i].second && !used1[j]) {\n\t\t\t\t\tused1[j] = true;\n\t\t\t\t\tcnt1++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\trep(i, m + 1) {\n\t\t\trep(j, n) {\n\t\t\t\tif ((!i || (v2[i - 1].first < v1[j].first&&v2[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv1[j].first < v2[i].first&&v1[j].second < v2[i].second && !used2[j]) {\n\t\t\t\t\tused2[j] = true;\n\t\t\t\t\tcnt2++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", max(cnt1 + n, cnt2 + m));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <map>\n\nusing namespace std;\n\n#define fst first\n#define snd second\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\ntypedef pair<int,int> pii;\n\nint n,m;\nint dp[210];\npii dolls[210];\n\nconst int inf=1<<27;\n\nint main(void){\n\twhile(cin >> n ,n){\n\t\trep(i,210) dp[i]=inf;\n\n\t\trep(i,n) cin >> dolls[i].fst >> dolls[i].snd;\n\t\tcin >> m;\n\t\trep(i,m) cin >> dolls[n+i].fst >> dolls[n+i].snd;\n\t\t\n\t\tsort(dolls,dolls+n+m);\n\n\t\trep(i,n+m)\t*lower_bound(dp,dp+n+m,dolls[i].snd)=dolls[i].snd;\n\t\tint ans=lower_bound(dp,dp+n+m,inf)-dp;\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n,m,h,r;\n\nint main(){\n\twhile(scanf(\"%d\",&n),n != 0){\n\t\tvector<pair<int,int> > v = vector<pair<int,int> >(n);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tscanf(\"%d%d\",&h,&r);\n\t\t\tv[i] = make_pair(h,r);\n\t\t}\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tscanf(\"%d%d\",&h,&r);\n\t\t\tv.push_back(make_pair(h,r));\n\t\t}\n\t\tsort(v.begin(),v.end());\n\t\tif(n + m == 0){\n\t\t\tprintf(\"0\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tint ans = 1;\n\t\tpair<int,int> p = v[0];\n\t\tfor(int i = 1; i < n + m; i++){\n\t\t\tif(p.first < v[i].first && p.second < v[i].second){\n\t\t\t\tp = v[i];\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct D{int h, r;};\nbool ascendDr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascendDh(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[200];\n  D dolls[200];\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++) cin >> dolls[i].h >> dolls[i].r;\n    cin >> m;\n    for(int i = n; i < n + m; i++) cin >> dolls[i].h >> dolls[i].r;\n\n    int lis_r = 0, lis_h = 0;\n    sort(dolls, dolls + n + m, ascendDr);\n\n    fill(dp, dp + n + m, 0);\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(dolls, dolls + n + m, ascendDh);\n\n    fill(dp, dp + n + m, 0);\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<cstring>\n\ntypedef std::pair<int, int> P;\n\nP data[202];\nint dp[202];\n\nint main(){\n\n\tint n, m;\n\twhile (std::cin >> n, n){\n\n\t\tmemset(data, 0, sizeof(data));\n\t\tmemset(dp, 0, sizeof(dp));\n\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tstd::cin >> data[i].first >> data[i].second;\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 1; i <= m; i++){\n\t\t\tstd::cin >> data[i + n].first >> data[i + n].second;\n\t\t}\n\n\t\tstd::sort(data, data + 1 + n + m);\n\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tfor (int j = 0; j < i; j++){\n\t\t\t\tif (data[i].first > data[j].first&&data[i].second > data[j].second){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint max = 0;\n\t\tfor (int i = 0; i <= n + m; i++){\n\t\t\tif (dp[i] > max)max = dp[i];\n\t\t}\n\t\tstd::cout << max << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define INF 1e8\n#define EPS 1e-9\n\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define rep(i,n) rep2(i,0,n)\n#define ll long long\n#define P pair<int,int>\n#define pb push_back\n\nint n,m,h[200],r[200],d[200][200];\n\nint main(){\n\twhile(cin>>n&&n){\n\t\trep(i,n)cin>>h[i]>>r[i];\n\t\tcin>>m;\n\t\trep(i,m)cin>>h[i+n]>>r[i+n];\n\t\tn+=m;\n\t\trep(i,n+m)fill(d[i],d[i]+n+m,INF);\n\t\trep(i,n)rep(j,n){\n\t\t\tif(i==j)d[i][j]=0;\n\t\t\tif(h[i]>h[j]&&r[i]>r[j])d[i][j]=-1;\n\t\t}\n\t\trep(k,n)rep(i,n)rep(j,n)d[i][j]=min(d[i][j],d[i][k]+d[k][j]);\n\t\tint ans=0;\n\t\trep(i,n)rep(j,n)ans=max(ans,-d[i][j]+1);\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\n\nint main(){\n\tint n, m, a, b;\n\tP doll[201];\n\tint dp[201];\n\twhile (cin >> n && n){\n\t\tfill(dp, dp + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = P(a, b);\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (doll[i].first == doll[i - 1].first){\n\t\t\t\tdoll[i] = P(0, 0);\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\t*lower_bound(dp, dp + n + m, doll[i].second) = doll[i].second;\n\t\t}\n\t\tcout << lower_bound(dp, dp + n + m, INF) - dp << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tstd::sort(vc.begin(), vc.end());\n\t\t\n\n\t\t\n\t\tdp[0] = 1;\n\t\tdoll surface(vc[0].first, vc[0].second);\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tif( surface.first < vc[i].first && surface.second < vc[i].second )\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1] + 1;\n\t\t\t\tsurface.first = vc[i].first;\n\t\t\t\tsurface.second = vc[i].second;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n,m;\n  while(true){\n      cin>>n;\n      if(n==0) break;\n      std::vector<P> v;\n      for(int i=0;i<n;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      cin>>m;\n      for(int i=0;i<m;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      sort(v.begin(),v.end());\n      int res=0,hmin=0,rmin=0;\n      for(int i=0;i<(int)v.size();i++){\n          int h=v[i].first,r=v[i].second;\n          if(hmin<h&&rmin<r){\n              rmin=r;hmin=h;\n              res++;\n          }\n      }\n      cout<<res<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, m, h[201], r[201];\nint dp[201];\nint rec( int idx){\n  if(~dp[idx]) return dp[idx];\n  int ret = 0;\n  for(int i = 0; i < n + m; i++){\n    if(h[idx] > h[i] && r[idx] > r[i]){\n      ret = max( ret, rec(i) + 1);\n    }\n  }\n  return dp[idx] = ret;\n}\nint main(){\n  while( cin >> n, n){\n    fill_n( dp, 201, -1);\n    for(int i = 0; i < n; i++){\n      cin >> h[i] >> r[i];\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> h[n + i] >> r[n + i];\n    }\n    h[n + m] = 1000, r[n + m] = 1000;\n    cout << rec( n + m ) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <fstream>\n#include <list>\nusing namespace std;\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v;}\ntemplate<class T> inline string toStr(T x) { ostringstream sout; sout << x; return sout.str();}\ntypedef vector<int> vi;\ntypedef vector<vi>  vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define FOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define REP(i,n) FOR(i,0,(n)-1)\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nconst int INF = INT_MAX/10;\n\nint main() {\n\tint n;\n\twhile(cin >> n, n) {\n\t\tvvi h(n, vi(2));\n\t\tREP(i, n) {\n\t\t\tREP(j, 2) {\n\t\t\t\tcin >> h[i][j];\n\t\t\t}\n\t\t}\n\n\t\tint m;\n\t\tcin >> m;\n\t\tvvi hr(n+m, vi(2));\n\t\tREP(i, n) {\n\t\t\tREP(j, 2) {\n\t\t\t\thr[i][j] = h[i][j];\n\t\t\t}\n\t\t}\n\t\tREP(i, m) {\n\t\t\tREP(j, 2) {\n\t\t\t\tcin >> hr[n+i][j];\n\t\t\t}\n\t\t}\n\n\t\tsort(ALL(hr));\n\t\tvi dp(n+m, 1);\n\t\tint res = 0;\n\t\tREP(i, n+m) {\n\t\t\tREP(j, i) {\n\t\t\t\tif(hr[j][0] < hr[i][0] && hr[j][1] < hr[i][1]) {\n\t\t\t\t\tdp[i] = max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = max(res, dp[i]);\n\t\t}\n\n\t\tcout << max(res, max(n, m)) << endl;;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\nusing namespace std;\n\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\ntypedef vector<string> VS;\ntypedef int INT;\ntypedef vector<INT> VI;\ntypedef vector<VI> VVI;\ntypedef pair <INT, INT> II;\ntypedef vector <II> VII;\n\ntemplate<class T> ostream& operator << ( ostream& os, vector<T> v ) {\n    for ( typename vector<T>::iterator it_i = v.begin(); it_i != v.end(); ++it_i ) {\n        os << *it_i << \", \";\n    }\n    return os;\n}\n\n\nconst int SIZE = 101;\n\nint H[SIZE];\nint R[SIZE];\nint N;\n\nint solve( int hh, int rr ) {\n    int res = 0;\n    for ( int i = 0; i < N; ++ i ) {\n        if ( H[i] < hh && R[i] < rr )\n            res = max( res, 1 + solve( H[i], R[i] ) );\n    }\n    return res;\n}\n\nint main() {\n    int n, m;\n    while ( cin >> n && n ) {\n        for ( int i = 0; i < n; ++ i ) {\n            cin >> H[i] >> R[i];\n        }\n        cin >> m;\n        for ( int i = 0; i < m; ++ i ) {\n            cin >> H[n+i] >> R[n+i];\n        }\n        N = n + m;\n        cout << solve( INT_MAX, INT_MAX ) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\nusing namespace std;\n\n\nint n, m;\npair<int, int> doll[200];\nint dp[200] = { 1 };\n\n\nint solve(){\n\tfor (int i = 0; i < n + m; i++){\n\t\tvector<int> mem = { -1 };\n\t\tfor (int j = 0; j < i; j++){\n\t\t\tif (doll[j].second < doll[i].second){\n\t\t\t\tmem.push_back(dp[j]);\n\t\t\t}\n\t\t}\n\t\tif (mem.back() != -1)\n\t\t\tdp[i] = *max_element(mem.begin(), mem.end()) + 1;\n\t}\n\treturn *max_element(dp, dp + n + m);\n}\n\n\nvoid clear(){\n\tfor (int i = 0; i < 200; i++){\n\t\tdoll[i] = { 0, 0 };\n\t\tdp[i] = 0;\n\t}\n\tdp[0] = 1;\n}\n\n\nint main(){\n\twhile (cin >> n, n){\n\t\tfor (int i = 0; i < n; i++) cin >> doll[i].first >> doll[i].second;\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++) cin >> doll[i].first >> doll[i].second;\n\n\t\tsort(doll, doll + n + m);\n\n\t\tcout << solve() << endl;\n\n\t\tclear();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    int bj=1;\n\n    for(i=1;i<1003;i++)\n      for(j=bj;j<1003;j++){\n\tdp[i][j]=max(dp[i-1][j],dp[i][j-1])+doll[i][j];\n\tif(doll[i][j]){\n\t  for(int k=j+1;k<1003;k++)\n\t    dp[i][k]=dp[i][j];\n\t  bj=j+1;\n\t  break;\n\t}\n      }\n\n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tvector<pair<int, int> > mato(200);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> mato[i].first >> mato[i].second;\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >> mato[n + i].first >> mato[n + i].second;\n\t\t}\n\t\tsort(mato.begin(), mato.begin() + m + n);\n\t\tint cnt = 0;\n\t\tint maxh = 0, maxr = 0;\n\t\tfor(int i = 0; i < n + m; i++){\n\t\t\t// cout << mato[i].first << \" \" << mato[i].second;\n\t\t\tif(mato[i].first > maxh && mato[i].second > maxr){\n\t\t\t\tcnt++;\n\t\t\t\tmaxh = mato[i].first;\n\t\t\t\tmaxr = mato[i].second;\n\t\t\t}\n\t\t\t// cout << \" \" << cnt << endl;\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint main(){\n\tint n[2],c[2];\n\twhile(cin>>n[0],n[0]){\n\t\tint h[2][110],r[2][110],mx[2][110];\n\t\trep(q,2){\n\t\t\trep(i,n[q])mx[q][i]=0,cin>>h[q][i]>>r[q][i];\n\t\t\tif(!q)cin>>n[1];\n\t\t}\n\t\tmx[0][0]=(h[0][0]>h[1][0]&&r[0][0]>r[1][0])+1;\n\t\tmx[1][0]=(h[0][0]<h[1][0]&&r[0][0]<r[1][0])+1;\n\t\tint p;\n\t\tc[0]=c[1]=p=0;\n\t\twhile(c[0]<n[0]||c[1]<n[1]){\n\t\t\tint tmax=0,f;\n\t\t\tif(c[p]==n[p]){\n\t\t\t\tp^=1;\n\t\t\t\tgoto NEXT;\n\t\t\t}\n\t\t\trep(k,2){\n\t\t\t\trep(i,n[k]){\n\t\t\t\t\tf=h[k][i]<h[p][c[p]]&&r[k][i]<r[p][c[p]];\n\t\t\t\t\tif(f&&tmax<mx[k][i])tmax=mx[k][i];\n\t\t\t\t\tif(f&&mx[k][i]==0){\n\t\t\t\t\t\tp^=1;\n\t\t\t\t\t\tgoto NEXT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmx[p][c[p]++]=tmax+1;\n\t\t\tNEXT:;\n\t\t}\n\t\tcout<<max(mx[0][n[0]-1],mx[1][n[1]-1])<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 0157 最長増加部分列\n#include <iostream>\n#include <algorithm>\n#include <map>\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n\nusing namespace std;\nbool compare_h(pair<int, int> a, pair<int, int> b){\n\treturn a.first < b.first;\n}\nbool compare_r(pair<int, int> a, pair<int, int> b){\n\treturn a.second < b.second;\n}\n\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n){\n\t\tint dp[256];\n\t\t// h, r\n\t\tpair<int, int> dolls[256];\n\t\trep(i, n){\n\t\t\tcin >> dolls[i].first >> dolls[i].second;\n\t\t}\n\t\tcin >> m;\n\t\trep(i, m){\n\t\t\tcin >> dolls[i+n].first >> dolls[i+n].second;\n\t\t}\n\n\n\t\t// hについてソートしrの最長増加部分列を求める\n\t\tint hlis = 0;\n\t\tsort(dolls, dolls+n+m, compare_h);\n\t\tdp[0] = 1;\n\t\tfor(int i = 1; i < n+m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j = 0; j < i; j++){\n\t\t\t\tif(dolls[j].second < dolls[i].second && dolls[j].first != dolls[i].first){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\thlis = max(hlis, dp[i]);\n\t\t}\t\t\t\t\t\n\n\t\tcout << hlis << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i, j, k) for(int i = j; i < k; ++i)\n#define rep(i, j) FOR(i, 0, j)\n#define repr(i, j) for(int i = j; i >= 0; --i)\n#define INF (1 << 30)\n#define MOD 1e9 + 7\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<int, P> Pi;\n\nint N, M;\n\nint main() {\n\twhile (scanf(\"%d\", &N), N) {\n\t\tvector<P> state;\n\t\tint dp[212];\n\t\tint h, r;\n\t\trep(i, N) {\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tstate.push_back(P(h, r));\n\t\t}\n\t\tscanf(\"%d\", &M);\n\t\trep(i, M) {\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tstate.push_back(P(h, r));\n\t\t}\n\t\tsort(state.begin(), state.end());\n\t\tint res = 0;\n\t\trep(i, state.size()) {\n\t\t\tdp[i] = 1;\n\t\t\trep(j, i) if(state[j].first < state[i].first && state[j].second < state[i].second) {\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t}\n\t\trep(i, state.size()) {\n\t\t\tres = max(res, dp[i]);\n\t\t}\n\t\tprintf(\"%d\\n\", res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\nint dp[200] = {0};\nint h[200];\nint r[200];\nint n,m;\n\nint dfs(int id){\n\tif(dp[id])return dp[id];\n\tint ans = 1;\n\trep(i,n){\n\t\tif(h[i] < h[id] && r[i] < r[id]){\n\t\t\tans = max(dfs(i)+1,ans);\n\t\t}\n\t}\n\treturn dp[id] = ans;\n}\nint main(){\n\twhile(cin >> n , n){\n\t\trep(i,200)dp[i] = 0;\n\t\trep(i,n)cin >> h[i] >> r[i];\n\t\tcin >> m;\n\t\trep(i,m)cin >> h[i+n] >> r[i+n];\n\t\tn += m;\n\t\tint ans = 0;\n\t\trep(i,n){\n\t\t\tans = max(ans,dfs(i));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <climits>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n#define ALL(A)\t\t(A).begin(),(A).end()\n#define DUMP(A)    cout<<#A<<\"=\"<<(A)<< endl\n#define SIZE(A)    (int)((A).size())\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint main(){\n    int N,M;\n    for(;;){\n        scanf(\"%d\",&N);\n        vector<P> mats;\n        if(N==0) break;\n        int h,r;\n        for(int i=0;i<N;i++){\n            scanf(\"%d%d\",&h,&r);\n            mats.push_back(P(h,-r));\n        }\n        scanf(\"%d\",&M);\n        for(int i=0;i<M;i++){\n            scanf(\"%d%d\",&h,&r);\n            mats.push_back(P(h,-r));\n        }\n        sort(ALL(mats));\n        vector<int> dp(N+M,INT_MAX);\n        for(int i=0;i<N+M;i++){\n            int now=-mats[i].second;\n            *lower_bound(ALL(dp),now)=now;\n        }\n        printf(\"%d\\n\",distance(dp.begin(),lower_bound(ALL(dp),INT_MAX)));\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nmain(){\n  int n;\n  while(cin>>n,n){\n    vector<pair<int,int> >v;\n    for(int i=0;i<n;i++){\n      int p1,p2;\n      cin>>p1>>p2;\n      v.push_back(make_pair(p2,p1));\n    }\n    int m,pp=0;\n    cin>>m;\n    for(int i=0;i<m;i++){\n      int p1,p2;\n      cin>>p1>>p2;\n      v.push_back(make_pair(p2,p1));\n    }\n    sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<m+n;i++)\n      swap(v[i].second,v[i].first);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int k=0;k<n+m;k++){\n    int sum=1,mh=v[k].first,mw=v[k].second;\n    for(int i=k;i<n+m;i++){\n      if(v[i].second<mw&&v[i].first<mh){\n        mh=v[i].first;\n        mw=v[i].second;\n        sum++;\n      }\n    }\n    pp=max(sum,pp);\n    }\n    cout<<pp<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\nint low[200],ans;\nmat hr[200];\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    rep(i,n)cin>>hr[i].h>>hr[i].r;\n    int m;\n    cin>>m;\n    rep(i,m)cin>>hr[i+n].h>>hr[i+n].r;\n\n    \n    memset(low,0,sizeof(0));\n\n    sort(hr,hr+m+n,lessh);\n    stable_sort(hr,hr+m+n,lessr);\n\n    int ans=0;\n    rep(i,n+m){\n      rep(j,i){\n\tif(hr[j].h<hr[i].h){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n\t// your code goes here\n\tint n,m;\n\tcin>>n;\n\twhile(n!=0){\n\t\tvector<pair<int,int> > ve;\n\t\tint h,r;\n\t\tfor(int i=0;i<n;i++){\n\t\tcin>>h>>r;\n\t\tve.push_back(make_pair(h,r));\n\t\t}\n\t\tcin>>m;\n\t\tfor(int i=0;i<m;i++){\n\t\tcin>>h>>r;\n\t\tve.push_back(make_pair(h,r));\n\t\t}\n\t\tsort(ve.begin(), ve.end());\n\t\tint dp[1010][1010]={0};\n\t\t\n\t\tfor(int y=0;y<n+m;y++){\n\t\t\th=ve[y].first;\n\t\t\tr=ve[y].second;\n\t\t\tdp[h][r]=max(dp[h-1][r-1]+1,dp[h][r]);\n\t\t\tfor(int e=r+1;e<1010;e++) dp[h][e]=max(dp[h][e],dp[h][r]);\n\t\t\tif(y!=n+m-1){\n\t\t\t\tint hr=ve[y+1].first;\n\t\t\t\tfor(int u=h+1;u<=hr;u++){\n\t\t\t\t\tfor(int uu=0;uu<1010;uu++){\n\t\t\t\t\tdp[u][uu]=dp[h][uu];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tcout<<dp[h][1001]<<endl;\n\t\t\n\t\tcin>>n;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//LIS\n#include<iostream>\nusing namespace std;\nint main(){\n  int n,h1[101],r1[101],m,h2[101],r2[101],k;\n  int data[201],data2[201],dp[201];\n\n  data[0]=data2[0]=0;\n\n  \n  while(cin >>n && n!=0){\n    dp[0]=0;\n\n    k=0;\n    for(int i=1;i<=n;i++){\n      cin >>h1[i]>>r1[i];\n      data[i]=h1[i];data2[i]=r1[i];}\n    cin >>m;\n    for(int i=1;i<=m;i++){\n      cin >>h2[i]>>r2[i];\n      data[i+n]=h2[i];data2[i+n]=r2[i];}\n    int key;\n    for(int i=1;i<n+m+1;i++){\n      key=i;\n      for(int j=i;j<n+m+1;j++){\n\tif(data[key]>data[j])key=j;}\n      swap(data[i],data[key]);\n      swap(data2[i],data2[key]);}\n\n    for(int i=1;i<n+m+1;i++){\n      key=0;\n      for(int j=0;j<i;j++){\n\t\n\tif( (  data[j]<data[i] && data2[j]<data2[i] )  && dp[j]>dp[key]) {\n\t  key=j;\n\t}\n      }\n      dp[i] = dp[key]+1;\n    }\n   \n    for(int i=1;i<n+m+1;i++){\n      if(dp[i]>k)k=dp[i];\n\n    }\n    cout<<k<<endl;\n    /*\n\tfor(int i=0;i<n+m+1;i++){\n      cout<<dp[i]<<endl;\n      cout<<data[i]<<\" \"<<data2[i]<<endl;}\n    */\n  }\n}\n    \n    \n  \n  "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int dx[]={0,1,0,-1,1,-1,-1,1};\nconst int dy[]={-1,0,1,0,1,1,-1,-1};\nconst int INF = 1<<30;\nconst double EPS = 1e-15;\n#define PB push_back\n#define mk make_pair\n#define fi first\n#define se second\n#define ll long long\n#define reps(i,j,k) for(int i = (j); i < (k); i++)\n#define rep(i,j) reps(i,0,j)\n#define MOD 1000000007\ntypedef pair<int,int> Pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\nvector < Pii > data;\nint N,M;\nint memo[1280][1280];\nint solve(int dep,int prev1,int prev2){\n\tif(dep == N+M){\n\t\treturn 0;\n\t}\n\tif(memo[prev1][prev2])return memo[prev1][prev2];\n\tint ret = 0;\n\treps(i,dep,N+M){\n\t\tif(prev1 < data[i].fi && prev2 < data[i].se){\n\t\t\tret = max(ret , max(1 + solve(i+1,data[i].fi,data[i].se),solve(i+1,prev1,prev2)));\n\t\t}\n\t\telse{\n\t\t\tret = max(ret,solve(i+1,prev1,prev2));\n\t\t}\n\t}\n\treturn memo[prev1][prev2] = ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&N),N){\n\t\tdata.clear();\n\t\tmemset(memo,0,sizeof(memo));\n\t\trep(i,N){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tscanf(\"%d\",&M);\n\t\trep(i,M){\n\t\t\tint a,b;\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tdata.PB(Pii(a,b));\n\t\t}\n\t\tsort(data.begin(),data.end());\n\t\tprintf(\"%d\\n\",solve(0,0,0));\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nint main() {\n\tint n;\n\twhile (cin >> n) {\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tvector<P> dd;\n\t\tint h, r;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> h >> r;\n\t\t\tdd.push_back(P(h, r));\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> h >> r;\n\t\t\tdd.push_back(P(h, r));\n\t\t}\n\t\tsort(dd.begin(), dd.end());\n\t\tint MAX = 0;\n\t\tvector<int> dp(n+m, 1);\n\t\tfor (int i = 1; i < n+m; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tif (dd[j].first < dd[i].first && dd[j].second < dd[i].second) {\n\t\t\t\t\tdp[i] = max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tMAX = max(MAX, dp[i]);\n\t\t}\n\t\tcout << MAX << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n#include <bitset>\n#include <queue>\n#include <stack>\n#include <utility>\n#include <cstring>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cctype>\nusing namespace std;\n \n#define rep(i,n) for(int i=0; i<n; i++)\n#define repa(i,s,e) for(int i=s; i<=e; i++)\n \ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef long long ll;\n\nint n, m, h, r;\nvector<pii> v;\nint dp[201];\n\nvoid solve() {\n\tsort(v.begin(), v.end());\n\n\tfill(dp, dp+201, 1);\n\tint l = v.size();\n\n\trep(i,l) {\n\t\trepa(j,i+1,l-1) {\n\t\t\tif(v[i].first < v[j].first  && v[i].second < v[j].second) {\n\t\t\t\tdp[j] = max(dp[j], dp[i]+1);\n\t\t\t}\n\t\t}\n\t}\n\n\tint maxval = 0;\n\trep(i,l) {\n\t\tmaxval = max(maxval, dp[i]);\n\t}\n\tcout << maxval << endl;\n}\n\nint main() {\n\twhile(cin>>n,n) {\n\t\tv.clear();\n\t\trep(i,n) {\n\t\t\tcin>>h>>r;\n\t\t\tv.push_back(pii(h,r));\n\t\t}\n\t\tcin>>m;\n\t\trep(i,m) {\n\t\t\tcin>>h>>r;\n\t\t\tv.push_back(pii(h,r));\n\t\t}\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct D{int h, r;};\nbool ascendDr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascendDh(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[200];\n  D dolls[200];\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++) cin >> dolls[i].h >> dolls[i].r;\n    cin >> m;\n    for(int i = n; i < n + m; i++) cin >> dolls[i].h >> dolls[i].r;\n\n    int lis_r = 0, lis_h = 0;\n    sort(dolls, dolls + n + m, ascendDr);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(dolls, dolls + n + m, ascendDh);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(dolls[j].r < dolls[i].r && dolls[j].h && dolls[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-10;\nconst int inf=1e9;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvector<pii>in;\n\t\twhile(n--){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tin.pb(pii(a,b));\n\t\t}\n\t\tcin>>n;\n\t\twhile(n--){\n\t\t\tint a,b;\n\t\t\tcin>>a>>b;\n\t\t\tin.pb(pii(a,b));\n\t\t}\n\t\tsort(all(in));\n\t\tn=in.size();\n\t\tvi dp(210,1);\n\t\tloop(i,1,n){\n\t\t\tint ma=0;\n\t\t\trep(j,i)if(in[j].first<in[i].first&&in[j].second<in[i].second)\n\t\t\t\tma=max(ma,dp[j]);\n\t\t\tdp[i]+=ma;\t\t\n\t\t}\n\t\tint ma=0;\n\t\trep(i,n)ma=max(ma,dp[i]);\n\t\tcout<<ma<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<pair<int, int> > doll(n);\n        for(int i=0; i<n; ++i)\n            cin >> doll[i].first >> doll[i].second;\n\n        int m;\n        cin >> m;\n        doll.resize(n+m);\n        for(int i=0; i<m; ++i)\n            cin >> doll[n+i].first >> doll[n+i].second;\n\n        sort(doll.begin(), doll.end());\n        vector<int> num(n+m, 1);\n        for(int i=0; i<n+m; ++i){\n            for(int j=0; j<i; ++j){\n                if(doll[j].first < doll[i].first && doll[j].second < doll[i].second)\n                    num[i] = max(num[i], num[j] + 1);\n            }\n        }\n        cout << *max_element(num.begin(), num.end()) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#include<set>\n#include<complex>\n#include<map>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define CC puts(\"-------ok--------\");\n#define all(in) in.begin(), in.end()\nusing namespace std;\ntypedef pair<int, int> pii;\n#define MAX 99999999\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<pii>v(1000,pii(0,0));\n        rep(i,n){\n            pii temp;\n            cin>>temp.first>>temp.second;\n            v[i]=temp;\n        }\n        int m; cin>>m;\n        rep(i,m){\n            pii temp;\n            cin>>temp.first>>temp.second;\n            v[n+i]=temp;\n        }\n        vi dp(10000,0);\n        sort(v.begin(),v.begin()+n+m);\n        int ans=0;\n            rep(i,n+m){\n                dp[i]=1;\n                rep(j,i){\n                    if(v[j].first<v[i].first&&v[j].second<v[i].second){\n                        dp[i]=max(dp[i],dp[j]+1);\n                    }\n                    ans=max(ans,dp[i]);\n                }\n            }\n        cout<<ans<<endl;\n    }\n    \n}"
  },
  {
    "language": "C++",
    "code": "# define _CRT_SECURE_NO_WARNINGS 1\n# define _USE_MATH_DEFINES\n# include <iostream>\n# include <numeric>\n# include <string>\n# include <bitset>\n# include <vector>\n# include <algorithm>\n# include <cstdlib>\n# include <cstdio>\n# include <cstring>\n# include <cstdlib>\n# include <iomanip>\n# include <queue>\n# include <sstream>\n# include <climits>\n# include <cmath>\n# include <list>\n# include <functional>\n# include <string>\n# include <ctime>\n# include <set>\n# include <forward_list>\n# include <map>\n# include <stack>\nusing namespace std;\n# define INF ((int)(1<<25))\n# define REP(i,n) for(int i=0;i<(int)n;i++)\n# define FOR(i,n) REP(i,n)\n# define TORAD 2.0*M_PI/360.0\n# define INT(x) int x;cin>>x;\n# define ALL(x) (x).begin(),(x).end()\n# define RALL(x) (x).rbegin(),(x).rend()\n# define DEBUG(x) cout<<#x<<\" :\"<<x<<endl;\n# define EPS 1e-12\ntemplate<class T> void debug(T a) { for (auto i : a)cout << i << endl; }\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<int, pii> piii;\nint dx[4] = { 0,1,0,-1 }, dy[4] = { -1,0,1,0 };\n\nint n;\nvi h, r;\nint memo[2000][2000];\nint dp(int H, int R)\n{\n\tif (memo[H][R] != -1)return memo[H][R];\n\tint ans=0;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tif (h[i] > H&&r[i] > R)\n\t\t{\n\t\t\tans = max(ans, dp(h[i], r[i]));\n\t\t}\n\t}\n\tans++;\n\treturn memo[H][R] = ans;\n}\nint main()\n{\n\twhile (cin >> n&&n)\n\t{\n\t\tmemset(memo, -1, sizeof memo);\n\t\th.clear();\n\t\tr.clear();\n\t\tFOR(i, n)\n\t\t{\n\t\t\tINT(H); INT(R);\n\t\t\th.push_back(H);\n\t\t\tr.push_back(R);\n\t\t}\n\t\tINT(m);\n\t\tn += m;\n\t\tFOR(i, m)\n\t\t{\n\t\t\tINT(H); INT(R);\n\t\t\th.push_back(H);\n\t\t\tr.push_back(R);\n\t\t}\n\t\tcout << dp(0, 0)-1 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\n\nclass doll;\n\n\nint n, m;\nvector<doll> d;\nvector<int> dp = { 0 };\n\n\nclass doll{\npublic:\n\tint h;\n\tint r;\n\tdoll(int h, int r) : h(h), r(r){}\n\tint operator[](char member){\n\t\tif (member == 'h') return h;\n\t\telse if(member == 'r') return r;\n\t\telse return -1;\n\t}\n};\n\n\nint solve(char member){\n\tdp[0] = d[0][member];\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i][member]){\n\t\t\tdp.push_back(d[i][member]);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i][member]) = d[i][member];\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n != 0){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.h < d2.h);\n\t\t});\n\n\t\tint ans = solve('r');\n\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.r < d2.r);\n\t\t});\n\n\t\tans = max(ans, solve('h'));\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\n#define H first\n#define R second\n\ntypedef pair<int, int> pii;\n\nint main ( void )\n{\n\tint n, m;\n\t\n\twhile (cin >> n, n)\n\t{\n\t\tint h, r;\n\t\tvector<pii> iv, jv;\n\t\t\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tcin >> h >> r;\n\t\t\tiv.push_back(make_pair(h, r));\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tcin >> h >> r;\n\t\t\tjv.push_back(make_pair(h, r));\n\t\t}\n\t\t\n\t\tfor (int i = jv.size()-1; i >= 0; --i)\n\t\t{\n\t\t\tpii ip = iv[iv.size()-1], jp = jv[i];\n\t\t\t\n\t\t\tif (ip.H < jp.H && ip.R < jp.R) \n\t\t\t{\n\t\t\t\tiv.push_back(jp);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tip = iv[0];\n\t\t\tif (jp.H < ip.H && jp.R < ip.R)\n\t\t\t{\n\t\t\t\tiv.insert(iv.begin(), jp);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tfor (int j = iv.size()-2; j >= 0; --j)\n\t\t\t{\n\t\t\t\tpii &f = iv[j], &b = iv[j+1]; // front, back\n\t\t\t\t\n\t\t\t\tif (f.H < jp.H && f.R < jp.R && jp.H < b.H && jp.R < b.R)\n\t\t\t\t{\n\t\t\t\t\tiv.insert(iv.begin()+(j+1), jp);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (f.H <= jp.H && f.R <= jp.R && jp.H < b.H && jp.R < b.R)\n\t\t\t\t{\n\t\t\t\t\tf = jp;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << iv.size() << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nint main() {\n\tint n, m;\n\twhile (cin >> n, n) {\n\t\tvector<pair<int,int> > v(200);\n\t\tfor (int i=0; i<n; ++i) cin >> v[i].first >> v[i].second;\n\t\tcin >> m;\n\t\tfor (int i=n; i<n+m; ++i) cin >> v[i].first >> v[i].second;\n\t\tsort(v.begin(), v.begin()+n+m);\n\t\tint mx = 0, dp[200];\n\t\tfor (int i=0; i<n+m; ++i) {\n\t\t\tdp[i] = 1;\n\t\t\tfor (int j=0; j<i; ++j) {\n\t\t\t\tif (v[j].first < v[i].first && v[j].second < v[i].second) {\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmx = max(mx, dp[i]);\n\t\t}\n\t\tcout << mx << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <cctype>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n#ifdef __linux\n#define _U(s) s##_unlocked\n#else\n#define _U(s) _##s##_nolock\n#define _CRT_DISABLE_PERFCRIT_LOCKS\n#endif\n#define gcu _U(getchar)\n#define pcu _U(putchar)\n#define _DEF(r, n, ...) inline r n(__VA_ARGS__) noexcept\n#define _T template <typename T>\n#define _HT template <typename H,typename... T>\n#define _OP(t) inline operator t()\nstruct _in {\n#ifdef _GLIBCXX_STRING\n\t_OP(string){string s;char c;while(isspace(c = gcu()));do{s+=c;}while(c=gcu(),c!=' '&&c!='\\n'&&c!=EOF);return s;}\n#define _S\n#endif\n\t_OP(char){char c=gcu();gcu();return c;}\n\t_OP(double){double d; scanf(\"%lf\",&d); gcu();return d;}\n\t_T _OP(T){T n{},m{1},c;while(isspace(c = gcu()));if(c=='-')m=-1,c=gcu();do{n=10*n+(c-'0'),c=gcu();}while(c>='0'&&c<='9');return m*n;}\n} in;\n#define _SCAN(...) _DEF(bool,scan,__VA_ARGS__)\n#ifdef _S\n_SCAN(string &o) {int c{gcu()};if(c==EOF)return false;else{ungetc(c,stdin);string t=move(in);o=t;return true;}}\n#endif\n_T _SCAN(T &o) {int c{gcu()};return c==EOF?false:(ungetc(c,stdin),o=in,true);}\n_HT _SCAN(H &h,T&&... t){return scan(h)&&scan(t...);}\n#define _OUT(...) _DEF(void,out,__VA_ARGS__)\n#define _OUTL(...) _DEF(void,outl,__VA_ARGS__)\n_OUT(bool b){pcu('0'+b);}\n_OUT(const char *s){while(*s)pcu(*s++);}\n_OUT(char c){pcu(c);}\n#ifdef _S\n_OUT(string &s){for(char c:s)pcu(c);}\n#endif\n_T _OUT(T n){static char b[20];char *p=b;T m=n<0?pcu('-'),-1:1;\n\tif(!n)*p++='0';else while(n)*p++=(char)(n%10*m+'0'),n/=10;while(p!=b)pcu(*--p);}\n_OUTL(){out('\\n');}\n#ifdef _GLIBCXX_VECTOR\n\t_T _OUT(vector<T> &v){for(T &x:v)out(&x == &v[0]?\"\":\" \"),out(x);}\n#endif\n\t_HT _OUT(H &&h, T... t){out(h);out(t...);}\n\ttemplate <typename... T> _OUTL(T... t){out(t...);outl();}\n\tstruct range{\n\t\tint e,b=0,s=1;range(int _b,int _e,int _s):e(_e),b(_b),s(_s){} range(int _b,int _e): e(_e), b(_b){} range(int _e):e(_e){}\n\t\tstruct it{int v,s; it(int _v,int _s):v(_v),s(_s){} operator int()const{return v;} operator int&(){return v;}int operator*()const{return v;}\n\t\t\tit& operator++(){v+=s;return *this;} }; it begin(){return {b,s};} it end(){return {e,s};}};\n#define times(i,n) for(int i=n;i;i--)\n\nusing P = pair<int, int>;\ntemplate <typename T>\nusing V = vector<T>;\n\nint main() {\n\tfor (int n; (n = in);) {\n\t\tV<P> v(n);\n\t\tfor (P &i: v)\n\t\t\ti = {in, in};\n\t\ttimes (i, in)\n\t\t\tv.push_back(P{in, in});\n\t\tsort(begin(v), end(v));\n\t\tV<int> d(v.size(), 1);\n\t\tint r {};\n\t\tfor (int i: range(v.size())) {\n\t\t\tfor (int j: range(i))\n\t\t\t\td[i] = max(d[i], v[j].first < v[i].first && v[j].second < v[i].second ? d[j] + 1: 1);\n\t\t\tr = max(r, d[i]);\n\t\t}\n\t\toutl(r);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<n; i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define ALL(c) (c).begin(), (c).end() \nusing namespace std;\n\nstruct doll {\n\tint h, r; // h, r <= 1,000\n\tdoll() {}\n\tbool operator<(const doll& right) const {\n\t\treturn h == right.h ? r < right.r : h < right.h;\n\t}\n\tbool bigger_than(const doll d) {\n\t\treturn h > d.h && r > d.r;\n\t}\n};\n\n#define MAX 100\n\nint n, m; // n, m <= 100\nvector<doll> dolls;\nint dp[MAX * 2]; // dp[i]: i??????????????¢?????????????????£????????????\n\nint main()\n{\t\n\tint maxval, i;\n/************** input **************/\n\twhile(cin >> n, n) {\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(i = 0; i < m; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n/************** solve **************/\n\t\tsort(ALL(dolls));\n\t\tfor(i = 0; i < n + m; i++) {\n\t\t\tmaxval = 0;\n\t\t\tfor(int j = 0; j < i; j++) \n\t\t\t\tif(dolls.at(i).bigger_than(dolls.at(j)))\n\t\t\t\t\tmaxval = max(maxval, dp[j]);\n\t\t\tdp[i] = maxval + 1;\n\t\t}\n/************** output **************/\n\t\tmaxval = 0;\n\t\tfor(i = 0; i < n + m; i++)\n\t\t\tmaxval = max(maxval, dp[i]);\n\t\tcout << maxval << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tstd::sort(vc.begin(), vc.end());\n\t\t\n\t\t\n\t\tdp[0] = 1;\n\t\tint surface = 0;\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tif( vc[surface].first < vc[i].first && vc[surface].second < vc[i].second )\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1] + 1;\n\t\t\t\tsurface = i;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define REP(i,n) for(int i=0;i<n;i++)\n#define PP(m) REP(i, m.size()) cout << m[i] << endl;\n\n\nstruct Ma {\n  int h,r;\n\n  bool operator<( const Ma& right ) const {\n    return h == right.h ? r < right.r : h < right.h;\n  }\n};\n\nint main() {\n  int n, m;\n  while (cin >> n && n) {\n\n    vector<Ma> ich(n);\n    REP(i, n) cin >> ich[i].h >> ich[i].r;\n    cin >> m;\n    vector<Ma> jir(m);\n    REP(i, m) cin >> jir[i].h >> jir[i].r;\n\n    vector<Ma> mas(n+m);\n    REP(i, n) mas[i] = ich[i];\n    REP(i, m) mas[i+n] = jir[i];\n\n    sort(mas.begin(), mas.end());\n\n    vector<int> dp(n+m, 1);\n\n    int result = 0;\n    REP(i, n+m) {\n      REP(j, n+m) {\n        if (mas[i].h < mas[j].h && mas[i].r < mas[j].r) {\n          dp[j] = max(dp[j], dp[i]+1);\n        }\n        if (result < dp[j]) {\n          result = dp[j];\n        }\n      }\n    }\n\n    cout << result << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <numeric>\n\n#define rep2(x,from,to) for(int (x)=(from);(x)<(to);(x)++)\n#define rep(x,to) rep2((x),0,(to))\n#define all(c) (c).begin(),(c).end()\n#define sz(v) (int)(v).size()\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0157\n\nint main()\n{\n\tint n, m, h, r;\n\twhile(cin >> n && n){\n\t\tvector<pii> dt;\n\t\trep(i,n){\n\t\t\tcin >> h >> r;\n\t\t\tdt.push_back(pii(h,r));\n\t\t}\n\t\tcin >> m;\n\t\trep(i,m){\n\t\t\tcin >> h >> r;\n\t\t\tdt.push_back(pii(h,r));\n\t\t}\n\n\t\tsort(all(dt));\n\t\tm=sz(dt);\n\t\tvector<int> dp(m+2,0);\n\t\trep(i,m){\n\t\t\tdp[i]=1;\n\t\t\trep(j,i) if(dt[i].second > dt[j].second) dp[i]=max(dp[i], dp[j]+1);\n\t\t}\n\n\t\tcout << *max_element(all(dp)) << endl;\n\t}\n\t\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n\nusing namespace std;\n\nint doll[200][2];\nint memo[200];\nint n,m;\n\nint solve(int p) {\n\tif(memo[p]) return memo[p];\n\tmemo[p]=1;\n\tfor(int i=0;i<n+m;i++) {\n\t\tif(doll[p][0]>doll[i][0]&&doll[p][1]>doll[i][1]) memo[p]=max(1+solve(i),memo[p]);\n\t}\n\treturn memo[p];\n}\n\nint main() {\n\twhile(scanf(\"%d\",&n),n) {\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tscanf(\"%d %d\",&doll[i][0],&doll[i][1]);\n\t\t}\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=n;i<n+m;i++) {\n\t\t\tscanf(\"%d %d\",&doll[i][0],&doll[i][1]);\n\t\t}\n\t\tint ans=0;\n\t\tmemset(memo,0,sizeof(memo));\n\t\tfor(int i=0;i<n+m;i++) {\n\t\t\tans=max(ans,solve(i));\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#include <algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 206\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   //ini\n   for(int i=0;i<=n;i++)      \n      dp[i] =0;\n\n\n   for(int i=0;i<(n+m);i++){\n      dp[i+1] = 1;\n      for(int j=0;j<i;j++)\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i+1]+1,dp[j]+1);\n      }\n   }\n\n   cout << dp[n+m] << endl;\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      rep(i,n){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+n+m);\n\n      solve();\n\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, m, h[200], r[200];\nint rec( int idx){\n  int ret = 0;\n  for(int i = 0; i < n + m; i++){\n    if(h[idx] > h[i] && r[idx] > r[i]){\n      ret = max( ret, rec(i) + 1);\n    }\n  }\n  return ret;\n}\nint main(){\n  while( cin >> n, n){\n    for(int i = 0; i < n; i++){\n      cin >> h[i] >> r[i];\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> h[n + i] >> r[n + i];\n    }\n    h[n + m] = 1000, r[n + m] = 1000;\n    cout << rec( n + m ) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<climits>\n#include<string>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#include<cmath>\n#include<queue>\n#include<cstring>\n#include<stack>\n#include<functional>\nusing namespace std;\n\nstruct Doll{\n\tint h,r;\n\tbool operator <(const Doll &a)const{\n\t\treturn h<a.h;\n\t}\n};\n\nint main(){\n\tint N,M;\n\twhile(cin>>N,N){\n\t\tvector<Doll> d;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tDoll in; cin>>in.h>>in.r; d.push_back(in);\n\t\t}\n\t\tcin>>M;\n\t\tfor(int i=0;i<M;i++){\n\t\t\tDoll in; cin>>in.h>>in.r; d.push_back(in);\n\t\t}\n\n\t\tsort(d.begin(),d.end());\n\t\tint dp[201][1000] = {}, ans = 0;\n\t\tfor(int i=0,cnt=0; cnt<d.size(); cnt++){\n\t\t\tif(cnt!=0 && d[cnt-1].h!=d[cnt].h) i++;\n\t\t\tfor(int j=0;j<1000;j++){\n\t\t\t\tdp[i+1][j] = max(dp[i+1][j],dp[i][j]);\n\t\t\t\tif(j<d[cnt].r)\n\t\t\t\t\tans = max(ans, dp[i+1][d[cnt].r] = max(dp[i+1][d[cnt].r], dp[i][j]+1));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 202\n \nstruct D{int r, h;};\n \nbool compr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool comph(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n \nint main(void){\n  int n, m, dp[MAX_NM];\n  D d[MAX_NM];\n \n  while(cin >> n, n){\n    for(int i = 0; i < n; i++) cin >> d[i].h >> d[i].r;\n    cin >> m;\n    for(int i = n; i < n + m; i++) cin >> d[i].h >> d[i].r;\n \n    int lis_r = 0, lis_h = 0;\n    sort(d, d + n + m, compr);\n \n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(d[j].r < d[i].r && d[j].h < d[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n \n    sort(d, d + n + m, comph);\n \n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(d[j].r < d[i].r && d[j].h < d[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n \n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\nusing namespace std;\nconst int MAX = 100000;\nint dp[200];\n\nint dfs(int index, vector<pair<int, int> > &mato){\n\tif(dp[index]) return dp[index];\n\tif(!index) return 1;\n\tint maxc = 0;\n\tfor(int i = index-1; i >= 0; i--){\n\t\tif((mato[index].first<=mato[i].first)||(mato[index].second<=mato[i].second)) continue;\n\t\tmaxc = max(maxc, dfs(i, mato));\n\t}\n\tdp[index] = maxc+1;\n\treturn dp[index];\n}\n\nvoid substitute(int time, vector<pair<int, int> > &mato){\n\tfor(int i = 0; i < time; i++){\n\t\tpair<int, int> tmp;\n\t\tcin >> tmp.first >> tmp.second;\n\t\tmato.push_back(tmp);\n\t}\n}\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n != 0){\n\t\tfill(dp, dp+200, 0);\n\t\tvector<pair<int, int> > mato;\n\t\tsubstitute(n, mato);\n\t\tcin >> m;\n\t\tsubstitute(m, mato);\n\t\tsort(mato.begin(), mato.end());\n\t\tint maxc = 0;\n\t\tfor(int i = n+m-1; i >= 0; i--) maxc = max(maxc, dfs(i, mato));\n\t\tcout << \"ans:\" << maxc << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n\nclass Doll{\npublic:\n    int h;\n    int r;\n    int dp;\n    static bool Less(const Doll& l, const Doll& r){\n\treturn l.h < r.h;\n    }\n    Doll(int x, int y, int z){\n\th = x; r = y; dp = z;\n    }\n};\n\ntypedef vector<Doll> Dolls;\n\nint main(){\n    int n, m, h, r, result=0;\n    Dolls dolls;\n    while(cin >> n, n){\n\tfor(int i=0; i<n; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tcin >> m;\n\tfor(int i=0; i<m; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tsort(dolls.begin(), dolls.end(), Doll::Less);\n\t\n\tfor(Dolls::iterator it1=dolls.begin()+1;it1 != dolls.end(); ++it1){\n\t    for(Dolls::iterator it2=dolls.begin();it2 != it1; ++it2){\n\t\tif(it2->h < it1->h && it2->r < it1->r && it1->dp <= it2->dp){\n\t\t    it1->dp = it2->dp + 1;\n\t\t    result = max(result, it1->dp);\n\t\t}\n\t    }\n\t}\n\tcout << result << endl;\n\tcerr << result << endl;\n\tdolls.clear();\n\tresult = 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int>P;\n\nP v1[200], v2[200];\nint main() {\n\tint n;\n\twhile (scanf(\"%d\", &n), n) {\n\t\trep(i, n) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv1[i] = P(h, r);\n\t\t}\n\t\tint m; scanf(\"%d\", &m);\n\t\trep(i, m) {\n\t\t\tint h, r; scanf(\"%d%d\", &h, &r);\n\t\t\tv2[i] = P(h, r);\n\t\t}\n\t\tsort(v1, v1 + n);\n\t\tsort(v2, v2 + m);\n\t\tv1[n] = v2[n] = P(2000, 2000);\n\t\tint cnt1 = 0;\n\t\trep(i, n + 1) {\n\t\t\trep(j, m) {\n\t\t\t\tif ((!i||(v1[i - 1].first < v2[j].first&&v1[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv2[j].first < v1[i].first&&v2[j].second < v1[i].second)\n\t\t\t\t\tcnt1++;\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\trep(i, m + 1) {\n\t\t\trep(j, n) {\n\t\t\t\tif ((!i||(v2[i - 1].first < v1[j].first&&v2[i - 1].second < v2[j].second)) &&\n\t\t\t\t\tv1[j].first < v2[i].first&&v1[j].second < v2[i].second)\n\t\t\t\t\tcnt2++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", max(cnt1 + n, cnt2 + m));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<pll> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back(make_pair(h,r));\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back(make_pair(h,r));\n    }\n    ll ans = 1,tmp = 1;\n    h = v[0].fi,r = v[0].se;\n    sort(all(v));\n    rep(i,n+m){\n      if(v[i].fi > h && v[i].se > r){\n        h = v[i].fi;\n        r = v[i].se;\n        ++ans;\n      }\n    }\n    sort(all(v),[](const pll& a,const pll &b){return a.se < b.se;});\n    h = v[0].fi,r = v[0].se;\n    rep(i,n+m){\n      if(v[i].fi > h && v[i].se > r){\n        h = v[i].fi;\n        r = v[i].se;\n        ++tmp;\n      }\n    }\n    ans = max(ans,tmp);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<n; i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define ALL(c) (c).begin(), (c).end() \nusing namespace std;\n\nstruct doll {\n\tint h, r; // h, r <= 1,000\n\tdoll() {}\n\tbool operator<(const doll& right) const {\n\t\treturn h == right.h ? r < right.r : h < right.h;\n\t}\n\tbool bigger_than(const doll d) {\n\t\treturn h > d.h && r > d.r;\n\t}\n};\n\n#define MAX 100\n\nint n, m; // n, m <= 100\nvector<doll> dolls;\nint dp[MAX * 2]; // dp[i]: i??????????????¢?????????????????£????????????\n\nint main()\n{\t\n\tint maxval, i;\n/************** input **************/\n\twhile(cin >> n, n) {\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(i = 0; i < m; i++) {\n\t\t\tdoll tmp;\n\t\t\tcin >> tmp.h >> tmp.r;\n\t\t\tdolls.push_back(tmp);\n\t\t}\n/************** solve **************/\n\t\tsort(ALL(dolls));\n#if 0\n\t\tfor(int i = 0; i < n + m; i++)\n\t\t\tcout << dolls.at(i).h << \" \" << dolls.at(i).r << endl;\n#endif\n\t\tfor(i = 0; i < n + m; i++) {\n\t\t\tmaxval = 0;\n\t\t\tfor(int j = i - 1; j >= 0; j--) \n\t\t\t\tif(dolls.at(i).bigger_than(dolls.at(j)))\n\t\t\t\t\tmaxval = max(maxval, dp[j]);\n\t\t\tdp[i] = maxval + 1;\n\t\t}\n/************** output **************/\n\t\tmaxval = 0;\n\t\tfor(i = n + m - 1; i >= 0; i--)\n\t\t\tmaxval = max(maxval, dp[i]);\n\t\tcout << maxval << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\nusing namespace std;\n\n#define REP(i,n,m) for(int i=n;i<m;i++)\n#define rep(i,n) REP(i,0,n)\n\nint n,m;\nint t[201][2];\nint dp[201];\n\nint solve(int idx){\n\tif(dp[idx] != -1) return dp[idx];\n\n\tint res = 0;\n\n\trep(i,n){\n\t\tif(t[idx][0] > t[i][0] && t[idx][1] > t[i][1]){\n\t\t\tres = max(res,solve(i));\n\t\t}\n\t}\n\n\treturn (dp[idx] = res + 1);\n}\n\nint main(void){\n\tt[200][0] = t[200][1] = 1001;\n\n\twhile(cin>>n && n){\n\t\trep(i,n) cin>>t[i][0]>>t[i][1];\n\t\tcin>>m;\n\t\tREP(i,n,n+m) cin>>t[i][0]>>t[i][1];\n\t\tn += m;\n\n\t\tmemset(dp,-1,sizeof(dp));\n\t\tcout<<solve(200)-1<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main(void) {\n    int n,m,a,b;\n    while(cin >> n && n){\n        vector<pair<int,int> > v;\n        for(int i = 0; i < n; i++){\n            cin >> a >> b;\n            v.push_back(make_pair(a,b));\n        }\n        cin >> m;\n        for(int i = 0; i < m; i++){\n            cin >> a >> b;\n            v.push_back(make_pair(a,b));\n        }\n        sort(v.begin(), v.end());\n\n        int sz = v.size();\n        vector<int> dp(sz, 0);\n        int res = 0;\n        for(int i = 0; i < sz; i++){\n            int mx = 0;\n            for(int j = 0; j < i; j++){\n                if(v[j].first < v[i].first && v[j].second < v[i].second){\n                    mx = max(mx, dp[j]);\n                }\n            }\n            dp[i] = mx+1;\n            res = max(res, dp[i]);\n        }\n        cout << res << endl;\n    }\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r < d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) || (v[i].h > v[j].h && v[i].r > v[j].r) ){\n                    table[i][j] = 1;\n                    //table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 0;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <algorithm>\n#include <utility>\n\nint N, M;\nstd::pair<int, int> Mat[201];\nint dp[201];\n\nint main(){\n    while(scanf(\"%d\", &N), N){\n        memset(dp, -1, sizeof(dp));\n        \n        for(int i = 0; i < N; ++i)\n            scanf(\"%d %d\", &Mat[i].first, &Mat[i].second);\n    \n        scanf(\"%d\", &M);\n        \n        for(int i = 0; i < M; ++i)\n            scanf(\"%d %d\", &Mat[i + N].first, &Mat[i + N].second);\n        \n        std::sort(Mat, Mat + (M + N));\n        \n        for(int i = 0; i < N + M; ++i)\n            dp[i] = 1;\n        \n        int res = 1;\n        for(int i = 0; i < N + M; ++i){\n            for(int j = 0; j < i; ++j){\n                if(Mat[i].first > Mat[j].first && Mat[i].second > Mat[j].second){\n                    dp[i] = std::max(dp[i], dp[j] + 1);\n                    \n                    res = std::max(res, dp[i]);\n                }\n            }\n        }\n        \n        std::cout << res << std::endl;\n        \n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include \"bits/stdc++.h\"\n#define rep(i, n) for(int i=0; i<(n); ++i)\n#define FOR(i, m, n) for(int i=(m); i<(n); ++i)\n#define rrep(i, n) for(int i=(n)-1; i>=0; --i)\n#define rfor(i, m, n) for(int i=(m); i>=(n); --i)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n\nusing namespace std;\nusing LL = long long;\t\tusing ld = long double;\nusing VB = vector<bool>;\tusing VVB = vector<VB>;\nusing VI = vector<int>;\t\tusing VVI = vector<VI>;\nusing VL = vector<LL>;\t\tusing VVL = vector<VL>;\nusing VS = vector<string>;\tusing VD = vector<double>;\nusing PII = pair<int, int>;\tusing VP = vector<PII>;\nusing PLL = pair<LL, LL>;\tusing VPL = vector<PLL>;\ntemplate<class T>using pq = priority_queue<T>;\ntemplate<class T>using pqs = priority_queue<T, vector<T>, greater<T>>;\nconstexpr int inf = (int)1e9;\nconstexpr LL inf_ll = (LL)1e18, MOD = 1000000007;\nconst ld PI = acosl(-1.0), EPS = 1e-12;\n\ntemplate<class T>inline void Sort(T& a)noexcept { sort(all(a)); }\ntemplate<class T>inline void RSort(T& a)noexcept { sort(rall(a)); }\ntemplate<class T>inline void Reverse(T& a)noexcept { reverse(all(a)); }\ntemplate<class T>inline void Unique(T& a)noexcept { a.erase(unique(all(a)), a.end()); }\ntemplate<class T>inline T Sorted(T a)noexcept { Sort(a); return a; }\ntemplate<class T>inline T RSorted(T a)noexcept { RSort(a); return a; }\ntemplate<class T>inline T Reversed(T a)noexcept { Reverse(a); return a; }\ntemplate<class T>inline T Uniqued(T a)noexcept { Unique(a); return a; }\ntemplate<class T>inline auto Max(const T& a)noexcept { return *max_element(all(a)); }\ntemplate<class T>inline auto Min(const T& a)noexcept { return *min_element(all(a)); }\ntemplate<class T>inline int MaxPos(const T& a)noexcept { return max_element(all(a)) - a.begin(); }\ntemplate<class T>inline int MinPos(const T& a)noexcept { return min_element(all(a)) - a.begin(); }\ntemplate<class T, class U>inline int Count(const T& a, const  U& v)noexcept { return count(all(a), v); }\ntemplate<class T, class U>inline int Find(const T& a, const U& v)noexcept { auto pos = find(all(a), v); return pos == a.end() ? -1 : pos - a.begin(); }\ntemplate<class T, class U>inline U Sum(const T& a, const U& v)noexcept { return accumulate(all(a), v); }\ntemplate<class T, class U>inline int Lower(const T& a, const U& v)noexcept { return lower_bound(all(a), v) - a.begin(); }\ntemplate<class T, class U>inline int Upper(const T& a, const U& v)noexcept { return upper_bound(all(a), v) - a.begin(); }\ntemplate<class T, class P>inline void RemoveIf(T& a, P f)noexcept { a.erase(remove_if(all(a), f), a.end()); }\ntemplate<class T>inline T Age(T n, T m)noexcept { return (n + m - 1) / m; }\ntemplate<class T>inline T Age2(T n, T m)noexcept { return Age(n, m) * m; }\ntemplate<class T>inline T Tri(T n)noexcept { return (n & 1) ? (n + 1) / 2 * n : n / 2 * (n + 1); }\ntemplate<class T = long long>inline T BIT(int b)noexcept { return T{ 1 } << b; }\ntemplate<class T>inline T Gcd(T n, T m)noexcept { return m ? Gcd(m, n % m) : n; }\ntemplate<class T>inline T Lcm(T n, T m)noexcept { return n / Gcd(n, m) * m; }\ntemplate<class T>inline T Pow(T a, T n)noexcept { T r = 1; while (n > 0) { if (n & 1)r *= a; a *= a; n /= 2; }return r; }\ntemplate<class T>inline T Powmod(T a, T n, T m = MOD)noexcept { T r = 1; while (n > 0) { if (n & 1)r = r * a % m, n--; else a = a * a % m, n /= 2; }return r; }\ntemplate<class T>inline bool chmax(T& a, const T& b)noexcept { if (a < b) { a = b; return true; } return false; }\ntemplate<class T>inline bool chmin(T& a, const T& b)noexcept { if (a > b) { a = b; return true; } return false; }\ntemplate<class T>inline bool inRange(const T& v, const T& min, const T& max)noexcept { return min <= v && v <= max; }\ninline string operator*(string s, int n)noexcept { string ret; rep(i, n)ret += s; return ret; }\n\n// --- input --- //\n#if defined(_MSC_VER) || defined(ONLINE_JUDGE)\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#endif\ninline int gc()noexcept { return getchar_unlocked(); }\ntemplate<class T>inline void InputF(T& v)noexcept { cin >> v; }\ninline void InputF(char& v)noexcept { while (isspace(v = gc())); }\ninline void InputF(string& v)noexcept {\n\tchar c; for (InputF(c); !isspace(c); c = gc())v += c;\n}\ninline void InputF(int& v)noexcept {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(long long& v)noexcept {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(double& v)noexcept {\n\tdouble dp = 1; bool neg = false, adp = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c) || c == '.'; c = gc()) {\n\t\tif (c == '.')adp = true;\n\t\telse if (adp)v += (c - '0') * (dp *= 0.1);\n\t\telse v = v * 10 + (c - '0');\n\t}\n\tif (neg)v = -v;\n}\ntemplate<class T, class U>inline void InputF(pair<T, U>& v)noexcept {\n\tInputF(v.first); InputF(v.second);\n}\ntemplate<class T>inline void InputF(vector<T>& v)noexcept {\n\tfor (auto& e : v)InputF(e);\n}\ntemplate<class T>inline T input() { T v; InputF(v); return v; }\nstruct InputV {\n\tint n, m;\n\tInputV(int N) :n(N), m(0) {}\n\tInputV(pair<int, int> N) :n(N.first), m(N.second) {}\n\ttemplate<class T>operator vector<T>()noexcept {\n\t\tvector<T> v(n); InputF(v); return v;\n\t}\n\ttemplate<class T>operator vector<vector<T>>()noexcept {\n\t\tvector<vector<T>> v(n, vector<T>(m)); InputF(v); return v;\n\t}\n};\nstruct Input {\n\ttemplate<class T>operator T()noexcept { return input<T>(); }\n\tint operator--(int) { int v; InputF(v); v--; return v; }\n\tInputV operator[](int n)noexcept { return InputV(n); }\n\tInputV operator[](pair<int, int> n)noexcept { return InputV(n); }\n\tvoid operator()() {}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tInputF(h); operator()(forward<T>(t)...);\n\t}\n\ttemplate<class T, size_t W>array<vector<T>, W> get(int H) {\n\t\tarray<vector<T>, W> ret;\n\t\trep(i, H)rep(j, W) { T x = *this; ret[j].push_back(x); }\n\t\treturn ret;\n\t}\n}in;\n\n// --- output --- //\nstruct BoolStr {\n\tconst char* t, * f; BoolStr(const char* _t, const char* _f) :t(_t), f(_f) {}\n}Yes(\"Yes\", \"No\"), yes(\"yes\", \"no\"), YES(\"YES\", \"NO\"), Int(\"1\", \"0\");\nstruct DivStr {\n\tconst char* d, * l; DivStr(const char* _d, const char* _l) :d(_d), l(_l) {}\n}spc(\" \", \"\\n\"), no_spc(\"\", \"\\n\"), end_line(\"\\n\", \"\\n\"), comma(\",\", \"\\n\"), no_endl(\" \", \"\");\nclass Output {\n\tBoolStr B{ Yes }; DivStr D{ spc }; bool isPrint = true;\n\tvoid p(double v) { printf(\"%.20f\", v); } void p(long double v) { printf(\"%.20Lf\", v); }\n\tvoid p(int v) { printf(\"%d\", v); }\tvoid p(LL v) { printf(\"%lld\", v); }\n\tvoid p(char v) { putchar(v); }\t\tvoid p(bool v) { printf(\"%s\", v ? B.t : B.f); }\n\ttemplate<class T>void p(const T& v) { cout << v; }\n\ttemplate<class T, class U>void p(const pair<T, U>& v) { p(v.first); printf(\"%s\", D.d); p(v.second); }\n\ttemplate<class T>void p(const vector<T>& v) { rep(i, sz(v)) { if (i)printf(\"%s\", D.d); p(v[i]); } }\n\ttemplate<class T>void p(const vector<vector<T>>& v) { rep(i, sz(v)) { if (i)printf(\"%s\", D.l); p(v[i]); } }\n\tvoid p(const BoolStr& v) { B = v; isPrint = false; } void p(const DivStr& v) { D = v; isPrint = false; }\npublic:\n\tvoid operator()() { printf(\"%s\", D.l); }\n\ttemplate<class H>void operator()(H&& h) {\n\t\tp(h); if (isPrint)printf(\"%s\", D.l); isPrint = true; B = Yes; D = spc;\n\t}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tp(h); if (isPrint)printf(\"%s\", D.d); isPrint = true; operator()(forward<T>(t)...);\n\t}\n\ttemplate<class...T>void exit(T&& ...t) {\n\t\toperator()(forward<T>(t)...); std::exit(EXIT_SUCCESS);\n\t}\n}out;\n\n// --- dump --- //\n#if __has_include(\"dump.hpp\")\n#include \"dump.hpp\"\n#else\n#define dump(...) (void(0))\n#endif\n\n// ---------------------------------------------------------------- //\n\nint main() {\n\twhile (true) {\n\t\tVP a;\n\t\tint n = in;\n\t\tif (!n)break;\n\t\trep(i, n)a.pb(input<PII>());\n\t\tint m = in;\n\t\trep(i, m)a.pb(input<PII>());\n\t\tn += m;\n\n\t\tVI memo(n, -1);\n\t\tfunction<int(int)> dp = [&](int i) {\n\t\t\tif (memo[i] != -1) {\n\t\t\t\treturn memo[i];\n\t\t\t} else {\n\t\t\t\tint m = 0;\n\t\t\t\trep(j, n) {\n\t\t\t\t\tif (a[i].first > a[j].first&& a[i].second > a[j].second)\n\t\t\t\t\t\tchmax(m, dp(j));\n\t\t\t\t}\n\t\t\t\treturn memo[i] = m + 1;\n\t\t\t}\n\t\t};\n\t\trep(i, n)dp(i);\n\t\tint ans = Max(memo);\n\t\tout(ans);\n\t\tdump(ans);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n;\n\twhile(cin >>n){\n\t\tif(n == 0) break;\n\t\tint mato[200][2], i, m;\n\t\tbool dp[200][200] = {false};\n\t\tfor(i = 0; i < n; i++){\n\t\t\tcin >>mato[i][0] >>mato[i][1];\n\t\t}\n\t\tcin >>m;\n\t\tfor(; i < (m + n); i++){\n\t\t\tcin >>mato[i][0] >>mato[i][1];\n\t\t}\n\t\tfor(int j = 0; j < (n + m); j++){\n\t\t\tdp[0][j] = true;\n\t\t}\n\t\tfor(int j = 1; j < (n + m); j++){\n\t\t\tfor(int k = 0; k < (n + m); k++){\n\t\t\t\tif(dp[j - 1][k] == true){\n\t\t\t\t\tfor(int l = 0; l < (n + m); l++){\n\t\t\t\t\t\tif(mato[l][0] > mato[k][0] && mato[l][1] > mato[k][1]){\n\t\t\t\t\t\t\tdp[j][l] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t/*for(int j = 0; j < (n + m); j++){\n\t\t\tcout <<j + 1 <<\" : \";\n\t\t\tfor(int k = 0; k < (n + m); k++){\n\t\t\t\tcout <<dp[j][k] <<\" \";\n\t\t\t}\n\t\t\tcout <<endl;\n\t\t}*/\n\t\tint ans;\n\t\tbool flag = false;\n\t\tfor(ans = (n + m - 1); ans >= 0; ans--){\n\t\t\tfor(int k = 0; k < (n + m); k++){\n\t\t\t\tif(dp[ans][k] == true){\n\t\t\t\t\tflag = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag == true) break;\n\t\t}\n\t\tcout <<ans + 1 <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <functional>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <deque>\n#include <ctime>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define pb push_back\n#define mp make_pair\n#define all(r) r.begin(),r.end()\n#define rall(r) r.rbegin(),r.rend()\n#define fi first\n#define se second\n#define println(X) cout<<X<<endl;\n#define DBG(X) cout<<#X<<\" : \"<<X<<endl;\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\nconst double PI = acos(-1);\n\nint dp[210];\n\nint main(){\n    int n, m;\n    int h, r;\n    while(cin>>n && n){\n        vector<pii> v;\n        rep(i, n) {\n            cin>>h>>r;\n            v.pb(mp(h, r));\n        }\n        cin>>m;\n        rep(i, m){\n            cin>>h>>r;\n            v.pb(mp(h, r));\n        }\n        sort(all(v));\n\n        int ans = 0;\n        for(int i = 0; i < 210; i++) dp[i]=1;\n        for(int i = 1; i < n + m; i++){\n            for(int j = 0; j < i; j++){\n                if(v[j].fi < v[i].fi && v[j].se < v[i].se){\n                    dp[i]=max(dp[j]+1, dp[i]);\n                }\n            }\n            ans = max(ans, dp[i]);\n        }\n        cout<<ans<<endl;\n    }  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <array>\n#include <list>\n#include <string>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <tuple>\n#include <bitset>\n#include <memory>\n#include <cmath>\n#include <algorithm>\n#include <functional>\n#include <iomanip>\n#include <numeric>\n#include <climits>\n#include <cfloat>\n#include <cassert>\n#include <random>\n#include<iostream>\n#include<cmath>\n\nstruct Doll {\n\tint height, radius;\n\tbool can_wrap(const Doll that) const {\n\t\treturn height > that.height && radius > that.radius;\n\t}\n};\nint max_size(int current, const std::vector<std::vector<int>>& prev, std::vector<int>& memo) {\n\tif (memo[current] >= 0) return memo[current];\n\tif (prev[current].empty()) return 1;\n\tint max = 0;\n\tfor (const auto p : prev[current]) {\n\t\tmax = std::max(max, max_size(p, prev, memo) + 1);\n\t}\n\treturn memo[current] = max;\n}\nint main() {\n\twhile (true) {\n\t\tint n; std::cin >> n; if (n == 0) break;\n\t\tstd::vector<Doll> dolls;\n\t\tfor (auto i = 0; i < n; ++i) {\n\t\t\tint height, radius; std::cin >> height >> radius;\n\t\t\tdolls.push_back(Doll{ height, radius });\n\t\t}\n\t\tint m; std::cin >> m;\n\t\tfor (auto i = 0; i < m; ++i) {\n\t\t\tint height, radius; std::cin >> height >> radius;\n\t\t\tdolls.push_back(Doll{ height, radius });\n\t\t}\n\t\tstd::vector<std::vector<int>> prev(n + m);\n\t\tfor (auto i = 0; i < n; ++i) {\n\t\t\tif (i != n - 1) prev[i + 1].push_back(i);\n\t\t\tfor (auto j = n; j < n + m; ++j) if (dolls[j].can_wrap(dolls[i])) {\n\t\t\t\tprev[j].push_back(i);\n\t\t\t}\n\t\t}\n\t\tfor (auto i = n; i < n + m; ++i) {\n\t\t\tif (i != n + m - 1) prev[i + 1].push_back(i);\n\t\t\tfor (auto j = 0; j < n; ++j) if (dolls[j].can_wrap(dolls[i])){\n\t\t\t\tprev[j].push_back(i);\n\t\t\t}\n\t\t}\n\t\tstd::vector<int> memo(n + m, -1);\n\t\tstd::cout << std::max(max_size(n - 1, prev, memo), max_size(n + m - 1, prev, memo)) << '\\n';\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define pb(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<pair<int,int> >v;\n        int m,x,y,a=1,c=1,b=201;\n        g(0,n){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        sort(v.begin(),v.end());\n        x=v[0].f,y=v[0].s;\n        g(1,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                a++;\n                x=v[i].f,y=v[i].s;\n            }\n            else\n                b=min(b,i);\n        }\n        if(b<201){\n            x=v[b].f,y=v[b].s;\n            g(b+1,m+n){\n                if(v[i].s>y&&v[i].f>x){\n                    c++;\n                    x=v[i].f,y=v[i].s;\n                }\n            }\n        }\n        cout<<max(a,b+c)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n\nint n, m;\nint dp[200];\npair<int, int> data[200];\n\nint main() {\n\twhile (cin >> n, n) {\n\t\tREP(i, n) scanf(\"%d %d\", &data[i].first, &data[i].second);\n\t\tcin >> m;\n\t\tFOR(i, n, n + m) scanf(\"%d %d\", &data[i].first, &data[i].second);\n\t\t\n\t\tsort(data, data + n + m);\n\t\tfill(dp, dp + n + m, 1);\n\t\t\n\t\tREP(i, n + m) REP(j, i) {\n\t\t\tif (data[i].first > data[j].first && data[i].second > data[j].second) {\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans = -1;\n\t\tREP(i, n + m) ans = max(ans, dp[i]);\n\t\tcout << ans << endl; \n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 202\n \nstruct D{int r, h;};\n \nbool compr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool comph(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n \nint main(void){\n  int n, m, dp[MAX_NM];\n  D d[MAX_NM];\n \n  while(cin >> n, n){\n    for(int i = 0; i < n; i++) cin >> d[i].h >> d[i].r;\n    cin >> m;\n    for(int i = 0; i < m; i++) cin >> a[n+i].h >> a[n+i].r;\n \n    int lis_r = 0, lis_h = 0;\n    sort(d, d + n + m, compr);\n \n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(d[j].r < d[i].r && d[j].h < d[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n \n    sort(d, d + n + m, comph);\n \n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(d[j].r < d[i].r && d[j].h < d[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n \n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Container\n{\npublic:\n\tvoid append( pair< int, int > p )\n\t{\n\t\tmasterList.push_back( p );\n\t}\n\tvoid cSort()\n\t{\n\t\tsort( masterList.begin(), masterList.end() );\n\t\tsortedList.clear();\n\t\tvector< pair< int, int > >::iterator itr = masterList.begin();\n\t\twhile( itr != masterList.end() ){\n\t\t\tvector< pair< int, int > > v;\n\t\t\tint x = itr->first;\n\t\t\tv.push_back( *itr );\n\t\t\t++itr;\n\t\t\tif( itr != masterList.end() && itr->first == x ){\n\t\t\t\tv.push_back( *itr );\n\t\t\t\t++itr;\n\t\t\t}\n\t\t\tsortedList.push_back( v );\n\t\t}\n\t}\n\n\tint countContainment()\n\t{\n\t\tint count = 0;\n\t\tint y = 0;\n\t\tfor( int i = 0; i < (int)sortedList.size(); ++i ){\n\t\t\tvector< pair< int, int > >& v = sortedList[ i ];\n\t\t\tfor( int j = 0; j < (int)v.size(); ++j ){\n\t\t\t\tif( v[ j ].second > y ){\n\t\t\t\t\ty = v[ j ].second;\n\t\t\t\t\t++count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n\n\tvoid cSwap()\n\t{\n\t\tfor( int i = 0; i < (int)masterList.size(); ++i ){\n\t\t\tint t = masterList[ i ].first;\n\t\t\tmasterList[ i ].first = masterList[ i ].second;\n\t\t\tmasterList[ i ].second = t;\n\t\t}\n\t}\n\n\n\tvector< pair< int, int > > masterList;\n\tvector< vector< pair< int ,int > > > sortedList;\n};\n\nint main()\n{\n\tint n, m;\n\n\twhile( cin >> n && n ){\n\t\tContainer cont;\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\n\t\tint result = 0;\n\t\tcont.cSort();\n\t\tresult = cont.countContainment();\n\t\tcont.cSwap();\n\t\tcout << max( result, cont.countContainment() ) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<list>\n#include<utility>\n#include<algorithm>\nusing namespace std;\n\n\ntypedef list<int> OuterList;\nstruct Doll\n{\n\tint outerCount;\t//±êðüêçêél`ÌÂ\n\tint h, r;\t//å«³\n\tOuterList outerList;\t//±êðüêçêél`ÌQÆæÌCfbNX\n};\nconst int N = 200;\n//ärÖÌ¹¢Å±±É@ÝvÔá¦½H\nDoll doll[N];\n\n//åÌå«¢ÉÀÑÖ¦éæ¤\nbool SortDoll(const Doll &lhv, const Doll &rhv)\n{\n\treturn (lhv.h+lhv.r) > (rhv.h+rhv.r);\n}\n//êÔO¤Ìl`ª½¢ÌðÔ·\n//max_elementÉn·àÌÍAoperator<ãíèÌàÌ\nbool CmpOuterDoll(int lhv, int rhv)\n{\n\treturn doll[lhv].outerCount < doll[rhv].outerCount;\n}\n\nint main()\n{\n\tint n,m,i,j,dollCount;\n\tconst int INVALID_VALUE = -1;\n\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\tfor(i = 0; i < n; ++i)\n\t\t\tscanf(\"%d%d\",&doll[i].h, &doll[i].r);\n\t\tscanf(\"%d\",&m);\n\t\tfor(i = 0; i < m; ++i)\n\t\t\tscanf(\"%d%d\",&doll[i+n].h, &doll[i+n].r);\n\n\t\tdollCount = n+m;\n\t\t//åÌå«¢ÉÀÑÖ¦é\n\t\tsort(doll, doll+dollCount, SortDoll);\n\n\t\t// él`ðàïÅ«él`Ìñ\n\t\tfor(i=0; i < dollCount; ++i)\n\t\t{\n\t\t\tdoll[i].outerCount = INVALID_VALUE;\t//Ü¾mèµÄ¢Ü¹ñæ\n\t\t\tdoll[i].outerList.clear();\t//Á¦È³¢æ\n\t\t\tfor(j = 0; j < dollCount; ++j)\n\t\t\t{\n\t\t\t\t//üèÜ·H\n\t\t\t\tif(doll[i].h < doll[j].h &&\n\t\t\t\t\tdoll[i].r < doll[j].r)\n\t\t\t\t{\n\t\t\t\t\tdoll[i].outerList.push_back(j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint finishCount = 0;\n\t\tint maxDoll = 0;\n\t\t//Sl`ªðI¦éÜÅ[v\n\t\twhile(finishCount < dollCount)\n\t\t{\n\t\t\tfor(i = 0; i < dollCount; ++i)\n\t\t\t{\n\t\t\t\t//Ü¾»Ìl`ÌªIíÁÄ¢È¢Èç\n\t\t\t\tif(doll[i].outerCount == INVALID_VALUE)\n\t\t\t\t{\n\t\t\t\t\tbool f = true;\t//SÄÌO¤ÌzªðI¦Ä¢é©\n\t\t\t\t\tfor(OuterList::iterator ite = doll[i].outerList.begin();\n\t\t\t\t\t\tite != doll[i].outerList.end(); ++ite)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(doll[*ite].outerCount == INVALID_VALUE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tf = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//SÄIíÁÄ¢éÈçA él`ÍA»Ìl`ðÍ¦él`ÌÂ+1@ÂÉÈèÜ·\n\t\t\t\t\tif(f)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(doll[i].outerList.empty())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//½à»êðÍ¤±ÆªoÈ¢l`ÈÌÅ·\n\t\t\t\t\t\t\tdoll[i].outerCount = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//±êð©ÄAY¦ðÇµ½±Æðã÷·éÌÅµ½\n\t\t\t\t\t\t\tdoll[i].outerCount = doll[\n\t\t\t\t\t\t\t\t*max_element(\n\t\t\t\t\t\t\t\t\tdoll[i].outerList.begin(), doll[i].outerList.end(), CmpOuterDoll\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t].outerCount + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmaxDoll = max(maxDoll, doll[i].outerCount);\n\t\t\t\t\t\tfinishCount++;\t//Ü½êÂmèµÜµ½\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", maxDoll);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define eb emplece_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define Edge pair< i_i, int>\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n#define int2(x, y) int x, y; scanf(\"%lld %lld\", &x, &y);\n#define fir first\n#define sec second\n#define ffir first.first\n#define fsec first.second\n#define sfir second.first\n#define ssec second.second\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nsigned main()\n{\n    int n;\n    while (cin >> n, n) {\n        vp yui(n);\n        rep(i, n) {\n            cin >> yui[i].fir >> yui[i].sec;\n            yui[i].sec *= -1;\n        }\n        Int(m);\n        rep(i, m) {\n            i_i kyoko;\n            cin >> kyoko.fir >> kyoko.sec;\n            kyoko.sec *= -1;\n            yui.pb(kyoko);\n        }\n\n        sort(all(yui));\n        vi funami(1010, 0);\n        rep(i, n+m) {\n            int yuikyo = 0;\n            rep(j, -yui[i].sec) {\n                yuikyo = max(yuikyo, funami[j]);\n            }\n            funami[-yui[i].sec] = yuikyo+1;\n        }\n        int yuruyuri = 0;\n        rep(i, 1010) {\n            yuruyuri = max(yuruyuri, funami[i]);\n        }\n        cout << yuruyuri << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\nint low[200],ans;\nmat hr[200];\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    rep(i,n)cin>>hr[i].h>>hr[i].r;\n    int m;\n    cin>>m;\n    rep(i,m)cin>>hr[i+n].h>>hr[i+n].r;\n\n    \n    memset(low,0,sizeof(0));\n\n    sort(hr,hr+m+n,lessh);\n    stable_sort(hr,hr+m+n,lessr);\n\n    int ans=0;\n    rep(i,n+m){\n      rep(j,i){\n\tif(hr[j].h<hr[i].h && hr[j].r<hr[i].r){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 29;\n\nint main(){\n\tint n, m, a, b;\n\tpair<int, int> doll[201];\n\tint dp[201];\n\twhile (cin >> n && n){\n\t\tfill(dp, dp + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = make_pair(a, b);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i] = make_pair(a, b);\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (doll[i].first == doll[i - 1].first){\n\t\t\t\tdoll[i] = make_pair(0, 0);\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\t*lower_bound(dp, dp + n + m, doll[i].second) = doll[i].second;\n\t\t}\n\t\tcout << lower_bound(dp, dp + n + m, INF) - dp << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nconst int MAX = 201;\n\ntypedef struct{\n  int h;\n  int r;\n}DOLL;\n\nint dp[MAX];\nDOLL data[MAX];\nint m,n;\n\nvoid Dsort(){\n  for(int i = 0; i < m+n-1; i++){\n    for(int j = i; j < m+n; j++){\n      if(data[i].r > data[j].r && data[i].h > data[j].h){\n\tDOLL tmp  = data[i];\n\tdata[i] = data[j];\n\tdata[j] = tmp;\n      }\n    }\n  }\n}\n\nint solve(){\n  dp[1] = 1;\n  DOLL now = data[0];\n  for(int i = 2; i < m+n; i++){\n    if(data[i].h > now.h && data[i].r > now.r){\n      dp[i] = dp[i-1]+1;\n      now = data[i];\n    }else dp[i] = dp[i-1];\n  }\n  return dp[m+n-1]+1;\n}\n\n\nint main(){\n\n  while(cin >> n && n){\n    fill(dp,dp+MAX,0);\n    for(int i = 0; i < n; i++) cin >> data[i].h >> data[i].r;\n    cin >> m;\n    for(int i = n; i < m+n; i++) cin >> data[i].h >> data[i].r;\n    Dsort();\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define MP(a, b) make_pair(a, b)\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint n, m;\nvector<pi>s;\nint dp[1024];\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n    s.clear();\n    int h, r;\n    rep(i, n){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n    scanf(\"%d\", &m);\n    rep(i, m){\n      scanf(\"%d%d\", &h, &r);\n      s.push_back(MP(h, r));\n    }\n\n    sort(s.begin(), s.end());\n    memset(dp, 0, sizeof(dp));\n\n    int res = 0;\n    rep(i, s.size()){\n      dp[i] = 1;\n      rep(j, i) if(s[j].F < s[i].F && s[j].S < s[i].S){\n\tdp[i] = max(dp[i], dp[j] + 1);\n      }\n      res = max(res, dp[i]);\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,m,h,r;\n\tvector<P> mat;\n\twhile(cin >> n,n){\n\t\tint dp[201] = {};\n\t\tfor(int i = 0;i < n;i++) {\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t\tdp[i] = 1;\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = n;i < n + m;i++){\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t\tdp[i] = 1;\n\t\t}\n\t\tsort(mat.begin(),mat.end());\n\t\tint ma = 1;\n\t\tfor(int i = 1;i < mat.size();i++){\n\t\t\tfor(int j = 0;j < i;j++){\n\t\t\t\tif(mat[i].second > mat[j].second && mat[i].first > mat[j].first){\n\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t\tma = max(dp[i],ma);\n\t\t\t}\n\t\t}\n\t\tcout << ma << endl;\n\t\tmat.clear();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int,int>P;\nint n,m,ans;\nint cnt;\nP t[200];\nint dp[200];\nint main(){\n  while(cin>>n&&n){\n    cnt=ans=0;\n    for(int i=0;i<n;i++)cin>>t[cnt].first>>t[cnt].second,cnt++;\n    cin>>m;\n    for(int i=0;i<m;i++)cin>>t[cnt].first>>t[cnt].second,cnt++;\n    sort(t,t+cnt);\n    for(int i=0;i<cnt;i++)dp[i]=1;\n\n    for(int i=1;i<cnt;i++){\n      \n      for(int j=0;j<i;j++){\n\tif(t[j].first<t[i].first&&t[j].second<t[i].second){\n\t  dp[i]=max(dp[i],dp[j]+1);\n\t}\n      }\n      ans=max(ans,dp[i]);\n      //cout<<t[i].first<<' '<<t[i].second<<' '<<dp[i]<<endl;\n    }\n    cout<<ans<<endl;\n    \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nvector<P> d;\nint dp[200];\n\nint cmp(P &a, P &b)\n{\n\tif (a.first < b.first && a.second < b.second) return 1;\n\treturn 0;\n}\n\nvoid solve()\n{\n\tint n = d.size();\n\tfill(dp, dp + n, 1);\n\tfor (int i = 1; i < n; i++){\n\t\tfor (int j = 0; j < i; j++){\n\t\t\tif (cmp(d[j], d[i])){\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t}\n\t}\n\tint res = 0;\n\tfor (int i = 0; i < n; i++){\n\t\tres = max(res, dp[i]);\n\t}\n\tprintf(\"%d\\n\", res);\n}\n\nint main()\n{\n\twhile (true){\n\t\td.clear();\n\t\tfor (int c = 0; c < 2; c++){\n\t\t\tint n;\n\t\t\tscanf(\"%d\", &n);\n\t\t\tif (!n) return 0;\n\t\t\tfor (int i = 0; i < n; i++){\n\t\t\t\tint a, b;\n\t\t\t\tscanf(\"%d %d\", &a, &b);\n\t\t\t\td.push_back(P(a, b));\n\t\t\t}\n\t\t}\n\t\tsort(d.begin(), d.end());\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\ntemplate<class T> void chmin(T &a, const T &b){ a = (a < b ? a : b); }\ntemplate<class T> void chmax(T &a, const T &b){ a = (a > b ? a : b); }\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<pair<int, int>> v(n);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d %d\", &v[i].first, &v[i].second);\n        }\n        int m;\n        cin >> m;\n        v.resize(n+m);\n        for (int i = 0; i < m; ++i) {\n            scanf(\"%d %d\", &v[n+i].first, &v[n+i].second);\n        }\n        sort(v.begin(),v.end());\n        vector<int> dp(n+m, 1);\n        for (int i = 0; i < n+m; ++i) {\n            for (int j = 0; j < i; ++j) {\n                if(v[j].first < v[i].first && v[j].second < v[i].second){\n                    chmax(dp[i], dp[j]+1);\n                }\n            }\n        }\n        cout << *max_element(dp.begin(),dp.end()) << \"\\n\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<iostream>\n#include<cstring>\n#include<string>\n#include<map>\nusing namespace std;\n\nint loop,ichirou,zirou,ningyo[110][110],dp[110][110];\n\n\nint main(){\n  while(true){\n    for(int i=0;i<101;i++){\n      for(int j=0;j<101;j++){\n\tningyo[i][j]=dp[i][j]=0;\n      }\n    }\n\n    cin>>ichirou;\n    if(ichirou==0){break;}\n    for(int i=0;i<ichirou;i++){\n      int a,b; \n      cin>>a;\n      cin>>b;\n      ningyo[a][b]=1;\n    }\n    cin>>zirou;\n    for(int i=0;i<zirou;i++){\n      int a,b; \n      cin>>a;\n      cin>>b;\n      ningyo[a][b]=1;\n    }\n\n    int a,b;\n    for(b=1;b<101;b++){\n      for(a=1;a<101;a++){\n\tif(ningyo[a][b]==1){\n\t  dp[a][b]=dp[a-1][b-1]+1;\n\t}\n\telse{\n\t  dp[a][b]=max(dp[a-1][b],dp[a][b-1]);\n\t}\n      }\n    }\n    cout<<dp[100][100]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int MAX = 1001;\ntypedef pair<int,int> P;\n\nint main(){\n    int n,m,h,r;\n    \n    while(cin >> n ,n){\n        vector<P> v;\n        int dp[MAX] = {0};\n        \n        for(int i = 0 ; i < n ; i++){\n            cin >> h >> r;\n            v.push_back(P(h,r));\n        }\n        \n        cin >> m;\n        for(int i = 0 ; i < m ; i++){\n            cin >> h >> r;\n            v.push_back(P(h,r));\n        }\n        \n        sort(v.begin(),v.end());\n        \n        int res = 0;\n        for(int i = 0 ; i < n+m ; i++){\n            dp[i] = 1;\n            for(int j = 0 ; j < i ; j++){\n                if(v[j].first < v[i].first && v[j].second < v[i].second){\n                    dp[i] = max(dp[i],dp[j]+1);\n                }\n                res = max(res,dp[i]);\n            }\n        }\n        cout << res << endl;\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint dp[210];\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tarr.emplace_back(h, r);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++)\n\t\t{\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tarr.emplace_back(h, r);\n\t\t}\n\n\t\tsort(ALL(arr));\n\t\tfill(dp, dp + n + m, INF);\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\t*(lower_bound(dp, dp + n + m, arr[i].second)) = arr[i].second;\n\t\t}\n\t\tcout << (lower_bound(dp, dp + n + m, INF) - dp) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cctype>\n#include <limits.h>\n#include <math.h>\n#include <complex>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iomanip>\n#include <iostream>\n\n#define VARIABLE(x) cerr << #x << \"=\" << x << endl\n#define BINARY(x) static_cast<bitset<16> >(x)\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define REP(i,m,n) for (int i=m;i<(int)(n);i++)\n#define if_range(x, y, w, h) if (0<=(int)(x) && (int)(x)<(int)(w) && 0<=(int)(y) && (int)(y)<(int)(h))\n#define ALL(a) (a).begin(),(a).end()\nconst int INF = 1e9;\nint dx[4]={0, 1, 0, -1}, dy[4]={-1, 0, 1, 0};\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> PII;\n\n/* struct P {\n\tint x, y, n;\n\tP(int n, int x, int y):n(n), x(x), y(y){}\n\tP(){}\n}; */\n\n/** Problem0157 : Russian Dolls **/\n\nbool cmp(const PII &a, const PII &b)\n{\n\treturn a.first > b.first;\n}\n\nbool cmp2(const PII &a, const PII &b)\n{\n\treturn a.second > b.second;\n}\n\nint main()\n{\n\tint N, M;\n\twhile (cin>>N, N) {\n\t\tvector<PII> dolls;\n\t\trep(i, N) {\n\t\t\tint a, b;\n\t\t\tcin>>a>>b;\n\t\t\tdolls.emplace_back(a, b);\n\t\t}\n\t\tcin>>M;\n\t\trep(i, M) {\n\t\t\tint a, b;\n\t\t\tcin>>a>>b;\n\t\t\tdolls.emplace_back(a, b);\n\t\t}\n\t\tN += M;\n\t\t\n\t\tint ans=0;\n\t\tvector<int> dp(N);\n\t\tsort(dolls.begin(), dolls.end(), cmp);\n\t\tfor (int i=0; i<N; i++) {\n\t\t\tdp[i] = 1;\n\t\t\tfor (int j=0; j<i; j++) {\n\t\t\t\tif (dolls[i].first < dolls[j].first && dolls[i].second < dolls[j].second)\n\t\t\t\t\tdp[i] = max(dp[j]+1, dp[i]);\n\t\t\t}\n\t\t}\n\t\tans = max(ans, dp[N-1]);\n\t\t\n\t\tfill(dp.begin(), dp.end(), 0);\n\t\tsort(dolls.begin(), dolls.end(), cmp2);\n\t\tfor (int i=0; i<N; i++) {\n\t\t\tdp[i] = 1;\n\t\t\tfor (int j=0; j<i; j++) {\n\t\t\t\tif (dolls[i].first < dolls[j].first && dolls[i].second < dolls[j].second)\n\t\t\t\t\tdp[i] = max(dp[j]+1, dp[i]);\n\t\t\t}\n\t\t}\n\t\tans = max(ans, dp[N-1]);\n\t\t\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <utility>\n#include <algorithm>\n#include <vector>\nusing namespace std;\ntypedef pair<int,int> pi;\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\nconst int N=1e3+10;\nint main(){\n    int n,ans,d[N];\n    pi temp;\n    vector<pi> v;\n    while(true){\n        scanf(\"%d\",&n);\n        if(n==0)return 0;\n        v.clear();\n        ans=0;\n        while(n--){\n            scanf(\"%d%d\",&temp.F,&temp.S);\n            v.PB(temp);\n        }\n        scanf(\"%d\",&n);\n        while(n--){\n            scanf(\"%d%d\",&temp.F,&temp.S);\n            v.PB(temp);\n        }\n        sort(v.begin(),v.end());\n        for(int i=0;i<v.size();i++){\n            d[i]=1;\n            for(int j=0;j<i;j++)if(v[i].F>v[j].F&&v[i].S>v[j].S)d[i]=max(d[i],d[j]+1);\n            ans=max(ans,d[i]);\n        }\n        printf(\"%d\\n\",ans);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <utility>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define rep2(x,from,to) for(int x=(from);x<(to);++(x))\n#define rep(x,to) rep2(x,0,to)\n#define pint pair<int,int>\nvoid dp(vector<vector<int> > v, int depth, int s, int &ret) {\n\tif(v[s].size() == 0) {\n\t\tif(ret < depth) ret = depth;\n\t\treturn;\n\t}\n\trep(i,v[s].size()) {\n\t\tdp(v,depth+1,v[s][i],ret);\n\t}\n}\nint main(){\n\tint n, m, x, y;\n\twhile(cin >> n, n) {\n\t\tvector<pint> a;\n\t\trep(i,n) {\n\t\t\tcin >> x >> y;\n\t\t\ta.push_back(make_pair(x, y));\n\t\t}\n\t\tcin >> m;\n\t\trep(i,m) {\n\t\t\tcin >> x >> y;\n\t\t\ta.push_back(make_pair(x, y));\n\t\t}\n\t\tsort(a.begin(), a.end());\n\t\tvector<vector<int> > v(n+m);\n\t\trep(i,n+m) {\n\t\t\trep(j,n+m) {\n\t\t\t\tif(a[i].first < a[j].first && a[i].second < a[j].second) {\n\t\t\t\t\tv[i].push_back(j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ret = 0;\n\t\trep(i,n+m) {\n\t\t\tdp(v,1,i,ret);\n\t\t}\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\\#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    for (int i = 0; i < n + m; i++){\n\t*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n    }\n     int ans;\n        for(int i=n+m-1; i>=0; --i){\n            if(dp[i] != INF){\n                ans = i + 1;\n                break;\n            }\n        }\n\tcout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\n\ntypedef struct DOLL\n{\n\tint h, r;\n\t\n\tbool operator > (const DOLL& d) const\n\t{\n\t\treturn (h > d.h && r > d.r);\n\t}\n\t\n\tbool operator < (const DOLL& d) const\n\t{\n\t\treturn (h < d.h && r < d.r);\n\t}\n} D;\n\ntypedef struct Node\n{\n\tD d;\n\tint num;\n};\n\nconst int MAX = 100;\n\nint n, m;\nD A[MAX];\nD B[MAX];\n\nint AN[MAX];\nint BN[MAX];\n\nvoid solve()\n{\n\tqueue<Node> q;\n\tmemset(AN, 0, sizeof(int)*n);\n\tmemset(BN, 0, sizeof(int)*m);\n\t\n\tint max =0;\n\tNode n1 = {A[0], 1};\n\tNode n2 = {B[0], 1};\n\tq.push(n1);\n\tq.push(n2);\n\twhile(!q.empty())\n\t{\n\t\tNode current = q.front();\n\t\tq.pop();\n\t\t\n\t\tif(max < current.num)\n\t\t{\n\t\t\tmax = current.num;\n\t\t}\n\t\t\n\t\tfor(int i=0; i<n; i++)\n\t\t{\n\t\t\tif(current.d < A[i])\n\t\t\t{\n\t\t\t\tif(AN[i] >= current.num+1) continue;\n\t\t\t\t\n\t\t\t\tNode new_node = {A[i], current.num+1};\n\t\t\t\tq.push(new_node);\n\t\t\t\tAN[i] = current.num+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i=0; i<m; i++)\n\t\t{\n\t\t\tif(current.d < B[i])\n\t\t\t{\n\t\t\t\tif(BN[i] >= current.num +1) continue;\n\t\t\t\t\n\t\t\t\tNode new_node = {B[i], current.num+1};\n\t\t\t\tq.push(new_node);\n\t\t\t\tBN[i] = current.num+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout << max << endl;\n}\n\nint main(int argc, char** argv)\n{\n\tint h, r;\n\t\n\twhile(cin >> n, n)\n\t{\n\t\tfor(int i=0; i<n; i++)\n\t\t{\n\t\t\tcin >> A[i].h >> A[i].r;\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\tfor(int i=0; i<m; i++)\n\t\t{\n\t\t\tcin >> B[i].h >> B[i].r;\n\t\t}\n\t\t\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<climits>\n#include<iostream>\n#include<sstream>\n#include<utility>\n#include<map>\n#include<vector>\n#include<queue>\n#include<algorithm>\n#include<set>\n#include<stack>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int>P;\nvector<P>D;\nint N[2],h,r,K,res,dp[205];\nint main()\n{\n\tfor(;;)\n\t{\n\t\tres=0;\n\t\tD.clear();\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(int c=0;c<2;c++)\n\t\t{\n\t\t\tscanf(\"%d\",&N[c]);\n\t\t\tif(!c&&!N[0])return 0;\n\t\t\tfor(int i=0;i<N[c];i++)\n\t\t\t{\n\t\t\t\tscanf(\"%d%d\",&r,&h);\n\t\t\t\tD.push_back(make_pair(r,h));\n\t\t\t}\n\t\t}\n\t\tK=N[0]+N[1];\n\t\tsort(D.begin(),D.end());\n\t\tfor(int i=0;i<K;i++)\n\t\t{\n\t\t\tdp[i]=max(dp[i],1);\n\t\t\tfor(int j=0;j<i;j++)\n\t\t\t\tif(D[i].first>D[j].first&&D[i].second>D[j].second)\n\t\t\t\t\tdp[i]=max(dp[j]+1,dp[i]);\n\t\t\tres=max(dp[i],res);\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# define _CRT_SECURE_NO_WARNINGS\n# include <cstdio>\n# include <algorithm>\n\n#define MAX 100\n\nstruct doll{\n\tint high, r;\n\tdoll() {}\n\tdoll(int H, int R) : high(H), r(R) {}\n\tbool operator<(doll d){\n\t\treturn (high < d.high&&r < d.r);\n\t}\n};\n\nstruct doll_c{\n\tdoll d;\n\tint count;\n};\n\nint n, m;\n\ndoll K[MAX * 2];\ndoll_c dp[MAX * 2];\n\nint main(){\n\twhile (1){\n\t\tint h, r;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 1; i <= n; ++i){\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tK[i].high = h; K[i].r = r;\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = n + 1; i < m; ++i){\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tK[i].high = h;\n\t\t\tK[i].r = r;\n\t\t}\n\t\tstd::sort(K + 1, K + 1 + n + m);\n\t\tdp[0].d = doll(-1, -1); dp[0].count = 0;\n\t\tfor (int i = 1; i <= n + m; ++i){\n\t\t\tif (dp[i - 1].d < K[i]){\n\t\t\t\tdp[i].d = K[i];\n\t\t\t\tdp[i].count = dp[i - 1].count + 1;\n\t\t\t}\n\t\t\telse dp[i] = dp[i - 1];\n\t\t}\n\t\tprintf(\"%d\\n\", dp[n + m].count);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\nusing ll = long long;\n// #define int ll\nusing PII = pair<int, int>;\n \n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n \ntemplate<typename T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<typename T> T &chmax(T &a, const T &b) { return a = max(a, b); }\ntemplate<typename T> bool IN(T a, T b, T x) { return a<=x&&x<b; }\ntemplate<typename T> T ceil(T a, T b) { return a/b + !!(a%b); }\n \ntemplate<typename T> vector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts) { \n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type\nfill_v(T &t, const V &v) { t=v; }\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type\nfill_v(T &t, const V &v ) { for(auto &e:t) fill_v(e,v); }\n \ntemplate<class S,class T>\nostream &operator <<(ostream& out,const pair<S,T>& a){\n  out<<'('<<a.first<<','<<a.second<<')'; return out;\n}\ntemplate<typename T>\nistream& operator >> (istream& is, vector<T>& vec){\n  for(T& x: vec) {is >> x;} return is;\n}\ntemplate<class T>\nostream &operator <<(ostream& out,const vector<T>& a){\n  out<<'['; for(T i: a) {out<<i<<',';} out<<']'; return out;\n}\n \nint dx[] = {0, 1, 0, -1}, dy[] = {1, 0, -1, 0}; // DRUL\nconst int INF = 1<<30;\nconst ll LLINF = 1LL<<60;\nll MOD = 1000000007;\n\ntemplate <typename T>\nclass BIT {\nprivate:\n  // データ\n  vector<T> bit;\n  // 単位元, 要素数\n  int neutral = 0;\n  // 更新クエリ, 区間クエリ\n  function<T(T,T)> f = [](const T l, const T r) -> T { return r; },\n                   g = [](const T l, const T r) -> T { return max(l, r); };\npublic:\n  // 初期化\n  BIT(int n_ = 1e5) { init(n_); }\n  void init(int n_ = 1e5) { bit.assign(n_+1, neutral); }\n  // iに対する点更新クエリ\n  void update(int i, T w) {\n    for(int x = i+1; x < bit.size(); x += x&-x) bit[x] = f(bit[x], w);\n  }\n  // [0,i]に対する区間クエリ\n  T query(int i) {\n    T ret = neutral;\n    for(int x = i+1; x > 0; x -= x & -x) ret = g(ret, bit[x]);\n    return ret;\n  }\n};\n\nsigned main(void)\n{\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(1) {\n    ll n;\n    cin >> n;\n    if(!n) break;\n    vector<PII> v(n);\n    REP(i, n) cin >> v[i].first >> v[i].second;\n    ll m;\n    cin >> m;\n    REP(i, m) {\n      ll h, r;\n      cin >> h >> r;\n      v.push_back({h, r});\n    }\n\n    sort(ALL(v), [](PII l, PII r){\n      if(l.first != r.first) return l.first < r.first;\n      return l.second > r.second;\n    });\n\n    ll ret = 0;\n    BIT<ll> bit(1001);\n    REP(i, n+m) {\n      ll tmp = bit.query(v[i].second-1) + 1;\n      bit.update(v[i].second-1, tmp);\n      chmax(ret, tmp);\n    }\n    cout << ret << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nclass Container\n{\npublic:\n\tvoid append( pair< int, int > p )\n\t{\n\t\tmasterList.push_back( p );\n\t}\n\tvoid cSort()\n\t{\n\t\tsort( masterList.begin(), masterList.end() );\n\t\tsortedList.clear();\n\t\tvector< pair< int, int > >::iterator itr = masterList.begin();\n\t\twhile( itr != masterList.end() ){\n\t\t\tvector< pair< int, int > > v;\n\t\t\tint x = itr->first;\n\t\t\tv.push_back( *itr );\n\t\t\t++itr;\n\t\t\tif( itr != masterList.end() && itr->first == x ){\n\t\t\t\tv.push_back( *itr );\n\t\t\t\t++itr;\n\t\t\t}\n\t\t\tsortedList.push_back( v );\n\t\t}\n\t}\n\n\tint countContainment()\n\t{\n\t\tint result = 0;\n\t\tfor( int k = 0; k < (int)sortedList.size(); ++k ){\n\t\t\tvector< pair< int, int > >& f = sortedList[ k ];\n\t\t\tint y = f[ 0 ].second;\n\t\t\tint count = 1;\n\t\t\tfor( int i = k + 1; i < (int)sortedList.size(); ++i ){\n\t\t\t\tvector< pair< int, int > >& v = sortedList[ i ];\n\t\t\t\tfor( int j = 0; j < (int)v.size(); ++j ){\n\t\t\t\t\tif( v[ j ].second > y ){\n\t\t\t\t\t\ty = v[ j ].second;\n\t\t\t\t\t\t++count;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult = max( result, count );\n\t\t}\n\t\treturn result;\n\t}\n\n\tvoid cSwap()\n\t{\n\t\tfor( int i = 0; i < (int)masterList.size(); ++i ){\n\t\t\tint t = masterList[ i ].first;\n\t\t\tmasterList[ i ].first = masterList[ i ].second;\n\t\t\tmasterList[ i ].second = t;\n\t\t}\n\t}\n\n\n\tvector< pair< int, int > > masterList;\n\tvector< vector< pair< int ,int > > > sortedList;\n};\n\nint main()\n{\n\tint n, m;\n\n\twhile( cin >> n && n ){\n\t\tContainer cont;\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; ++i ){\n\t\t\tpair< int, int > p;\n\t\t\tcin >> p.first >> p.second;\n\t\t\tcont.append( p );\n\t\t}\n\n\t\tint result = 0;\n\t\tcont.cSort();\n\t\tresult = cont.countContainment();\n\t\tcont.cSwap();\n\t\tcont.cSort();\n\t\tcout << max( result, cont.countContainment() ) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing P = std::pair<int, int>;\n\nint n;\n\nP dolls[200];\n\nint dp[200];\n\nint main() {\n\twhile (1) {\n\t\tint m;\n\t\tstd::cin >> n;\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tstd::cin >> m;\n\t\tfor (int i = n; i < n + m; ++i)\n\t\t\tstd::cin >> dolls[i].first >> dolls[i].second;\n\t\tn += m;\n\t\tstd::sort(dolls, dolls + n);\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < n; ++i) {\n\t\t\tdp[i] = dp[i - 1];\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (dolls[i].first > dolls[j].first&&\n\t\t\t\t\tdolls[i].second > dolls[j].second) {\n\t\t\t\t\tdp[i] = std::max(dp[j] + 1, dp[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tstd::cout << dp[n - 1] << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\nusing namespace std;\nint dp[210];\npair<int,int> a[210];\nint main(){\n  int n,m;\n  while(cin>>n&&n){\n    for(int i=0;i<n;i++){\n      int x,y;cin>>x>>y;\n      a[i]=(make_pair(x,y));\n      dp[i]=mod;\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      int x,y;cin>>x>>y;\n      a[i+n]=(make_pair(x,y));\n      dp[i+n]=mod;\n    }\n    dp[n+m]=mod;\n    sort(a,a+n+m);\n    for(int i=0;i<n+m;i++){\n      int it=lower_bound(dp,dp+n+m,a[i].second)-dp;\n      dp[it]=a[i].second;\n    }\n    int ans=0;\n    while(true){\n      if(dp[ans]==mod)break;\n      ans++;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n  \n  int N;\n  while(cin >> N && N) {\n    \n    vector<pair<int, int> > v1, v2;\n    \n    for(int i=0; i<N; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n      v2.push_back(make_pair(r, h));\n    }\n\n    int M; cin >> M;\n    \n    for(int i=0; i<M; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n      v2.push_back(make_pair(r, h));\n    }\n    \n    sort(v1.begin(), v1.end());\n    sort(v2.begin(), v2.end());\n    \n    int size = N+M;\n    int dp1[size];\n    int ans = 1;\n    for(int i=0; i<size; i++) {\n      dp1[i] = 1;\n      for(int j=0; j<i; j++)\n        if(v1[i].second > v1[j].second) { dp1[i] = max(dp1[i], dp1[j]+1); }\n      ans = max(ans, dp1[i]);\n    }\n    \n    int dp2[size];\n    for(int i=0; i<size; i++) {\n      dp2[i] = 1;\n      for(int j=0; j<i; j++)\n        if(v2[i].second > v2[j].second) { dp2[i] = max(dp2[i], dp2[j]+1); }\n      ans = max(ans, dp2[i]);\n    }\n    \n    cout << ans << endl;\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint N;\n\nint m[200][2], dp[200];\nvector<pair<pair<int, int>, int>> m1, m2;\nvector<int> pa[200];\n\n\nint dfs(int x)\n{\n  if(dp[x] != -1)\n    return dp[x];\n  int r = 0;\n  for(auto v: pa[x])\n    r = max(r, dfs(v));\n  return dp[x] = r + 1;\n}\n\nint main()\n{\n  while(true)\n  {\n    fill(dp, dp + 200, -1);\n    for(int i = 0; i < 200; i++)\n      pa[i].clear(), (m[i][0] = m[i][1] = 0);\n    m1.clear(); m2.clear();\n\n    N = 0;\n    for(int i = 0; i < 2; i++)\n    {\n      int a;\n      cin >> a;\n      if(!a)\n        return 0;\n      for(int j = N; j < a + N; j++)\n      {\n        cin >> m[j][0] >> m[j][1];\n        m1.push_back(make_pair(make_pair(m[j][0], m[j][1]), j));\n        m2.push_back(make_pair(make_pair(m[j][1], m[j][0]), j));\n      } \n      N += a;\n    }\n    sort(m1.begin(), m1.end());\n    sort(m2.begin(), m2.end());\n    for(int i = 0; i < N; i++)\n    {\n      bool b1 = false, b2 = false;\n      for(int j = i + 1; j < N; j++)\n      {\n        if(!b1 && m1[j].first.second > m1[i].first.second)\n          pa[m1[i].second].push_back(m1[j].second), b1 = true;\n        if(!b2 && m2[j].first.second > m2[i].first.second)\n          pa[m2[i].second].push_back(m2[j].second), b1 = true;\n      }\n    }\n    cout << max(dfs(m1[0].second), dfs(m2[0].second)) - 1 << endl;;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// AOJ 0157\n#include<iostream>\n#include<map>\n#include<vector>\n#include<string>\n#include<sstream>\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef pair<int,int> P;\n\nconst int NMAX = 150;\n\nvector<P> ichiro, jiro;\nint n, m;\nint idp[NMAX], jdp[NMAX];\nint index[NMAX], jndex[NMAX];\n\nvoid init() {\n  REP(i, NMAX) {\n    idp[i] = jdp[i] = 0;\n    index[i] = jndex[i] = 0;\n  }\n  jiro.clear();\n  ichiro.clear();\n\n  jiro.push_back(make_pair(0,0));\n  ichiro.push_back(make_pair(0,0));\n}\n\nstring str(P p) {\n  stringstream ss;\n  ss << \"(\" << p.first << \",\" << p.second << \")\";\n  return ss.str();\n}\n\nbool bigger(P big, P small) {\n  return (big.first > small.first and big.second > small.second);\n}\n\nint lowerb(P mine, vector<P> his, int len) {\n  for (int i = 1; i < len; i++) {\n    bool f = bigger(mine,his[i]);\n    if (not f) {\n      return i - 1;\n    }\n  }\n  return len - 1;\n}\n\nint rec(int i, int* mine, int* his) {\n  if (i < 0) throw 1;\n  if (i == 0) {\n    return 0;\n  } else {\n    return 1 + max(rec(i - 1, mine, his), rec(mine[i], his, mine));\n  }\n}\n\nint solve() {\n  for (int i = 1; i <= n; i++) {\n    index[i] = lowerb(ichiro[i], jiro, m);\n  }\n\n  for (int j = 1; j <= m; j++) {\n    jndex[j] = lowerb(jiro[j], ichiro, n);\n  }\n\n  return max(rec(n, index, jndex), rec(m, jndex, index));\n}\n\nint main() {\n  while (cin >> n and n) {\n    init();\n    REP(i, n) {\n      int h, r;\n      cin >> h >> r;\n      ichiro.push_back(make_pair(h, r));\n    }\n\n    cin >> m;\n    REP(i, m) {\n      int h, r;\n      cin >> h >> r;\n      jiro.push_back(make_pair(h, r));\n    }\n\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nconst int MAX_N = 201;\nconst int MAX_H = 1001;\nconst int MAX_R = MAX_H;\nint N;\nint H[MAX_N], R[MAX_N];\nint T[MAX_H][MAX_R];\n\nint solve() {\n  int ans = 0;\n  fill(T[0],T[MAX_H],0);\n  for(int j = 0; j < MAX_H; ++j) {\n    for(int k = 0; k < MAX_R; ++k) {\n      for(int i = 0; i < N; ++i) {\n\tif(H[i] > j && R[i] > k) {\n\t  T[H[i]][R[i]] = max(T[H[i]][R[i]], T[j][k] + 1);\n\t  ans = max(ans, T[H[i]][R[i]]);\n\t}\n      }\n    }\n  }\n  return ans;\n}\n\nint main() {\n  while(cin >> N && N) {\n    for(int i = 0; i < N; ++i) cin >> H[i] >> R[i];\n    int m;\n    cin >> m;\n    for(int i = 0; i < m; ++i) cin >> H[N+i] >> R[N+i];\n    N += m;\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(-a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(-a, b);\n    }\n    sort(doll, doll + n + m, greater<P>());\n    for (int i = 0; i < n + m; i++){\n\t*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n    }\n     int ans;\n        for(int i=n+m-1; i>=0; --i){\n            if(dp[i] != INF){\n                ans = i + 1;\n                break;\n            }\n        }\n\tcout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T> inline void chmax(T &a, const T &b) { if(a < b) a = b; }\n\nvoid input_dolls(vector<pair<int, int>> &dolls, int n) {\n\tfor(int i = 0; i < n; ++i) {\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tdolls.emplace_back(h, r);\n\t}\n}\n\nint main() {\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\n\tfor(int n; cin >> n && n;) {\n\t\tvector<pair<int, int>> dolls;\n\t\tinput_dolls(dolls, n);\n\n\t\tint m;\n\t\tcin >> m;\n\t\tinput_dolls(dolls, m);\n\n\t\tsort(dolls.begin(), dolls.end());\n\n\t\tint prev_r = -1;\n\t\tvector<int> dp(1000, 0);\n\t\tvector<int> tmp(dp);\n\n\t\tfor(const auto &doll : dolls) {\n\t\t\tconst int r = doll.second;\n\t\t\tif(prev_r != r) tmp = dp;\n\n\t\t\tconst int num = *max_element(tmp.begin(), tmp.begin() + r);\n\t\t\tchmax(dp[r], num + 1);\n\t\t}\n\n\t\tcout << *max_element(dp.begin(), dp.end()) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 202\n \nstruct D{int r, h;};\n \nbool compr(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool comph(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n \nint main(void){\n  int n, m, dp[MAX_NM];\n  D d[MAX_NM];\n \n  while(cin >> n, n){\n    for(int i = 0; i < n; i++) cin >> d[i].h >> d[i].r;\n    cin >> m;\n    for(int i = 0; i < m; i++) cin >> d[n+i].h >> d[n+i].r;\n \n    int lis_r = 0, lis_h = 0;\n    sort(d, d + n + m, compr);\n \n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(d[j].r < d[i].r && d[j].h < d[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n \n    sort(d, d + n + m, comph);\n \n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(d[j].r < d[i].r && d[j].h < d[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n \n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n  bool operator<(const data& d){\n    return s < d.s;\n  }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    sort(all(v));\n    ll ans = 0,c = 0;\n    vvl(dp,1002,1002,0);\n    REP(i,1,1001){\n      REP(j,1,1001){\n        if(c >= n+m) break;\n        if(v[c].h <= i && v[c].r <= j){\n          dp[i][j] = max(dp[i][j],dp[i-1][j-1]+1);\n          ++c;\n        }\n        else{\n          dp[i][j] = max(dp[i][j],max(dp[i][j-1],max(dp[i-1][j-1],dp[i-1][j])));\n        }\n      }\n    }\n    rep(i,30){\n      rep(j,30){\n//         cout << dp[i][j] << ' ';\n        ans = max(ans,dp[i][j]);\n      }\n//       cout << endl;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#define MAX(A,B)((A)>=(B)?(A):(B))\nint N,M,H[200],R[200],memo[200];\nint solve(int x) {\n\tif(memo[x]>=0) return memo[x];\n\tint ans=0;\n\tfor(int i=0;i<(N+M);i++) {\n\t\tif(H[x]>H[i]&&R[x]>R[i]) {\n\t\t\tans=MAX(ans,1+solve(i));\n\t\t}\n\t}\n\treturn memo[x]=ans;\n}\nint main() {\n\twhile(scanf(\"%d\",&N),N) {\n\t\tfor(int i=0;i<N;i++) {\n\t\t\tscanf(\"%d %d\",&H[i],&R[i]);\n\t\t}\n\t\tscanf(\"%d\",&M);\n\t\tfor(int i=0;i<M;i++) {\n\t\t\tscanf(\"%d %d\",&H[i+N],&R[i+N]);\n\t\t}\n\t\tmemset(memo,-1,sizeof(memo));\n\t\tint ans=0;\n\t\tfor(int i=0;i<(N+M);i++) {\n\t\t\tans=MAX(ans,1+solve(i));\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nclass Doll {\npublic:\n\tint h, r;\n\n\tDoll() {\n\t\th = r = 0;\n\t}\n};\n\nDoll DollData[200];\nint DpResult[200];\n\n\nbool cmp(const Doll& d1, const Doll &d2) {\n\treturn d1.h < d2.h;\n}\n\nint main() {\n\tint n, m, i;\n\n\twhile (cin >> n, n) {\n\t\tfor (i = 0; i < n; i++) {\n\t\t\tcin >> DollData[i].h >> DollData[i].r;\n\t\t}\n\t\tcin >> m;\n\t\tm += n;\n\t\tfor (; i < m; i++) {\n\t\t\tcin >> DollData[i].h >> DollData[i].r;\n\t\t}\n\t\tsort(DollData, DollData + m, cmp);\n\t\tfor (i = 0; i < m; i++) {\n\t\t\tDpResult[i] = 1;\n\t\t}\n\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\tif ( DollData[i].h>DollData[j].h && DollData[i].r>DollData[j].r ) {\n\t\t\t\t\tDpResult[i] = max(DpResult[i], DpResult[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsort(DpResult, DpResult + m);\n\t\tcout << DpResult[m - 1] << endl;\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint memo[1001][1001];\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r,int i1,int i2)\n{\n\tif( memo[r][h] >= 0 ){\n\t\treturn memo[r][h];\n\t}\n\n\n\tint ans = 0;\n\n\tfor(int i=i1;i<d1.size();i++){\n\t\tDOLL &d=d1[i];\n\t\tif( d.r>r && d.h>h ){\n\t\t\tint a = f(d1,d2,d.h,d.r,i+1,i2)+1;\n\t\t\tans = max(a,ans);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tfor(int i=i2;i<d2.size();i++){\n\t\tDOLL &d=d2[i];\n\t\tif( d.r>r && d.h>h ){\n\t\t\tint a = f(d1,d2,d.h,d.r,i1,i2+1)+1;\n\t\t\tans = max(a,ans);\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tmemo[r][h] = ans;\t\n\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\n\t\tfor(int i=0;i<1001;i++){\n\t\t\tfill(memo[i],memo[i]+1001,-1);\n\t\t}\n\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\t\tint n,m;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tcin >> m;\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, 0, 0,0,0);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<map>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int,int> P;\nP mt[200];\nint dp[1000][201];//hでn個のときのrの最小値\nint min(int a,int b){return a<b?a:b;}\nint max(int a,int b){return a>b?a:b;}\nint main(){\n\tint n,m;\n\tint i,j,k;\n\twhile(1){\n\tscanf(\"%d\",&n);\n\tif(n==0)return 0;\n\tfor(i=0;i<n;i++){\n\t\tint a,b;\n\t\tscanf(\"%d %d\",&a,&b);\n\t\tmt[i]=P(a,b);\n\t}\n\tscanf(\"%d\",&m);\n\tfor(i=0;i<m;i++){\n\t\tint a,b;\n\t\tscanf(\"%d %d\",&a,&b);\n\t\tmt[n+i]=P(a,b);\n\t}\n\tsort(mt,mt+m+n);\n\tfor(i=0;i<1000;i++)for(j=0;j<=m+n;j++)dp[i][j]=1000;\n\tfor(i=0;i<m+n;i++){\n\t\tint h=mt[i].first;\n\t\tint r=mt[i].second;\n\t\tdp[h][1]=min(dp[h][1],r);\n\t\tfor(j=0;j<h;j++){\n\t\t\tfor(k=0;k<m+n;k++){\n\t\t\t\tif(r>dp[j][k])dp[h][k+1]=min(dp[h][k+1],r);\n\t\t\t}\n\t\t}\n\t}\n\tint ans=0;\n\tfor(i=0;i<1000;i++)for(j=0;j<=m+n;j++){\n\t\tif(dp[i][j]!=1000)ans=max(ans,j);\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF INT_MAX/3\n#define ALL(a) (a).begin(),(a).end()\n#define CLR(a) memset(a,0,sizeof(a))\n\ntypedef long long int ll;\n\nusing namespace std;\n\nint main(){\n    while(true){\n\tint n,m;\n\tvector< pair<int,int> > hr;\n\tvector< pair<int,int> > rh;\n\tcin >> n;\n\tif(n == 0) break;\n\tREP(i,n){\n\t    int s,t;\n\t    cin >> s >> t;\n\t    hr.PB( pair<int,int>(s,t) );\n\t    rh.PB( pair<int,int>(t,s) );\n\t}\n\tcin >> m;\n\tREP(i,m){\n\t    int s,t;\n\t    cin >> s >> t;\n\t    hr.PB( pair<int,int>(s,t) );\n\t    rh.PB( pair<int,int>(t,s) );\n\t}\n\tsort(ALL(hr));\n\tsort(ALL(rh));\n\tint w,h;\n\tint k = 0,tempk=0;\n\tw = 0;\n\th = 0;\n\tREP(i,n+m){\n\t    if(h < hr[i].first && w < hr[i].second){\n\t\th = hr[i].first;\n\t\tw = hr[i].second;\n\t\ttempk++;\n\t    }\n\t}\n\tk = tempk;\n\ttempk = 0;\n\tw = 0;\n\th = 0;\n\tREP(i,n+m){\n\t    if(w < rh[i].first && h < rh[i].second){\n\t\tw = rh[i].first;\n\t\th = rh[i].second;\n\t\ttempk++;\n\t    }\n\t}\n\tk = max(k,tempk);\n\tcout << k << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\nint map[1010][1010];\nint dp[1010][1010];\nint main()\n{\n    while(1){\n        int n;\n        cin>>n;if(!n)return 0;\n        for(int i=0;i<1010;++i){\n            for(int j=0;j<1010;++j){\n                map[i][j]=0;\n                dp[i][j]=0;\n            }\n        }\n        for(int i=0;i<n;++i){\n            int h,r;\n            cin>>h>>r;\n            map[h+1][r+1]=1;\n        }\n        int m;\n        cin>>m;\n        for(int i=0;i<m;++i){\n            int h,r;\n            cin>>h>>r;\n            map[h+1][r+1]=1;\n        }\n        for(int i=1;i<1002;++i){\n            for(int j=1;j<1002;++j){\n                dp[i][j]=max(dp[i-1][j],dp[i][j-1]);\n                if(map[i][j]){\n                    dp[i][j]=max(dp[i][j],dp[i-1][j-1]+1);\n                }\n            }\n        }\n        cout<<dp[1001][1001]<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mk make_pair\n#define f first\n#define s second\nusing namespace std;\nint n,m,p1,p2,dp[201][1001][1001];\nmap<pair<int,pair<int,int> >,int >m1;\n\nvector<pair<int,int> >v;\n\nint dfs(int d,int h,int w){\n  int res=0;\n  if(m1[mk(d,mk(h,w))])return m1[mk(d,mk(h,w))];\n  if(d==v.size()) return 1;\n  if(v[d].f<h&&v[d].s<w)\n    res=max(res,dfs(d+1,v[d].f,v[d].s))+1;\n  res=max(res,dfs(d+1,h,w));\n  return m1[mk(d,mk(h,w))]=res;\n}\n\nmain(){\n  while(cin>>n,n){\n    m1.clear();\n    v.clear();\n    for(int i=0;i<n;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<v.size();i++)swap(v[i].f,v[i].s);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    cout<<dfs(0,1001,1001)-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\twhile(std::cin>>ichiro,ichiro){\n\t\tP dool[200];//高さ　半径\n\t\tstd::cin>>ichiro;\n\t\tfor(int i=0;i<ichiro;i++){\n\t\t\tstd::cin>>dool[i].first>>dool[i].second;\n\t\t}\n\t\tstd::cin>>jiro;\n\t\tfor(int i=0;i<jiro;i++){\n\t\t\tstd::cin>>dool[i+ichiro].first>>dool[i+ichiro].second;\n\t\t}\n\t\tstd::sort(dool,dool+ichiro+jiro);\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\t\tfor(int i=1;i<ichiro+jiro;i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tdp[i]=std::max(dp[i],dp[j]+(dool[i].second>dool[j].second));\n\t\t\t}\n\t\t\tM=std::max(M,dp[i]);\n\t\t}\n\t\tstd::cout<<M<<std::endl;\n\t\tM=0;\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=0;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define MAX_NM 200\n\nstruct D{int r, h;};\n\nbool ascending_M_r(const D& d1, const D& d2){\n  return d1.r < d2.r;\n}\nbool ascending_M_h(const D& d1, const D& d2){\n  return d1.h < d2.h;\n}\n\nint main(void){\n  int n, m, dp[MAX_NM];\n  D a[MAX_NM];\n\n  while(cin >> n, n){\n    for(int i = 0; i < n; i++){\n      cin >> a[i].h >> a[i].r;\n    }\n    cin >> m;\n    for(int i = 0; i < m; i++){\n      cin >> a[n+i].h >> a[n+i].r;\n    }\n\n    int lis_r = 0, lis_h = 0;\n    sort(a, a + n + m, ascending_M_r);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h && a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_r = dp[n+m-1];\n\n    sort(a, a + n + m, ascending_M_h);\n\n    dp[0] = 1;\n    for(int i = 1; i < n + m; i++){\n      dp[i] = 1;\n      for(int j = 0; j < i; j++){\n        if(a[j].r < a[i].r && a[j].h && a[i].h){\n          dp[i] = max(dp[i], dp[j] + 1);\n        }\n      }\n    }\n    lis_h = dp[n+m-1];\n\n    cout << max(lis_h, lis_r) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define iota(i,n,b,s) for(int i=int(b);i!=int((b)+(s)*(n));i+=(s))\n#define range(i,n,m) iota(i,(((n)>(m))?((n)-(m)):((m)-(n))),(n),((n)>(m)?-1:1))\n#define rep(i,n) iota(i,(n),0,1)\n#define loop for(;;)\n\n#define INF (1e9)\n#define EPS (1e-9)\n#define cons(a,b) (make_pair(a,b))\n#define car(a) (a.first)\n#define cdr(a) (a.second)\n#define cadr(a) (car(cdr(a)))\n#define cddr(a) (cdr(cdr(a)))\n#define all(a) a.begin(), a.end()\n#define trace(var) cerr<<\">>> \"<<#var<<\" = \"<<var<<endl;\n\ntypedef long long Integer;\ntypedef double Real;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef map<string,int> Dictionary;\nconst Real PI = acos(-1);\n\ntemplate<class S, class T>\nostream& operator<<(ostream& os, pair<S,T> p) {\n  os << '(' << car(p) << \", \" << cdr(p) << ')';\n  return os;\n}\n\ntemplate<class T>\nostream& operator<<(ostream& os, vector<T> v) {\n  if (v.size() == 0) {\n    os << \"(empty)\";\n    return os;\n  }\n  os << v[0];\n  for (int i=1, len=v.size(); i<len; ++i) os << ' ' << v[i];\n  return os;\n}\n\nint dx[] = { -1, 0, 1, 0 };\nint dy[] = {  0, -1, 0, 1 };\n\nint main() {\n\nmore:\n\n  vector<int> hs;\n  vector<int> rs;\n\n  {\n    int n; cin >> n;\n    if (!n) return 0;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  {\n    int n; cin >> n;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  const int N = hs.size();\n  int d[N][N];\n\n  rep (i, N) {\n    rep (j, N) {\n      if ((hs[i] < hs[j] && rs[i] < rs[j])) {\n        d[i][j] = 1;\n      } else {\n        d[i][j] = 0;\n      }\n    }\n  }\n\n  /*\n  int ans = 0;\n  vector<bool>used(N, false);\n  rep (i, N) {\n    if (used[i]) continue;\n    stack<pair<int,int>> s;\n    s.push(cons(i, 1));\n    while (!s.empty()) {\n      auto t = s.top(); s.pop();\n      used[car(t)] = true;\n      rep (j, N) {\n        if (d[car(t)][j]) s.push(cons(j, cdr(t) + 1));\n      }\n      ans = max(ans, cdr(t));\n    }\n  }\n  cout << ans << endl;\n  */\n\n  goto more;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nint main(){\n  int n, m;\n  int h, r;\n  while(cin >> n, n){\n    vector<P> v;\n    for(int i = 0 ; i < n ; i++){\n      cin >> h >> r;\n      v.push_back(P(h, r));\n    }\n    cin >> m;\n    for(int i = 0 ; i < m ; i++){\n      cin >> h >> r;\n      v.push_back(P(h, r));\n    }\n    sort(v.begin(), v.end());\n    \n    int dp[210];\n    memset(dp, 0, sizeof(dp));\n    \n    int ans = -1;\n    \n    for(int i = 0 ; i < (int)v.size() ; i++){\n      for(int j = 0 ; j < i ; j++){\n\tif(v[i].first > v[j].first && v[i].second > v[j].second)\n\t  dp[i] = max(dp[i], dp[j]+1);      \n      }\n      ans = max(ans, dp[i]);\n    }\n    \n    cout << ans+1 << endl;\n    \n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<iostream>\n#include<cstring>\n#include<string>\n#include<map>\nusing namespace std;\n\nint ichirou,zirou,ningyo[1010][1010],dp[1010][1010];\n\n\nint main(){\n  while(true){\n    for(int i=0;i<1010;i++){\n      for(int j=0;j<1010;j++){\n\tningyo[i][j]=dp[i][j]=0;\n      }\n    }\n\n    cin>>ichirou;\n    if(ichirou==0){break;}\n    for(int i=0;i<ichirou;i++){\n      int a,b; \n      cin>>a;\n      cin>>b;\n      ningyo[a][b]=1;\n    }\n    cin>>zirou;\n    for(int i=0;i<zirou;i++){\n      int a,b; \n      cin>>a;\n      cin>>b;\n      ningyo[a][b]=1;\n    }\n\n    int a,b;\n    for(b=1;b<1001;b++){\n      for(a=1;a<1001;a++){\n\tif(ningyo[a][b]==1){\n\t  dp[a][b]=dp[a-1][b-1]+1;\n\t}\n\telse{\n\t  dp[a][b]=max(dp[a-1][b],dp[a][b-1]);\n\t}\n      }\n    }\n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <map>\n#include <algorithm>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main() {\n  while(1){\n    int n,m;\n    vector<vector<int>> a(1000);\n    cin >> n;\n    if(!n) break;\n    for (int i = 0; i < n; ++i) {\n      int h,r;\n      cin >> h >> r;\n      a[h].emplace_back(r);\n    }\n    cin >> m;\n    for (int i = 0; i < m; ++i) {\n      int h,r;\n      cin >> h >> r;\n      a[h].emplace_back(r);\n    }\n    vector<vector<int>> dp(1000,vector<int>(1000));\n    for (int i = 1; i < 1000; ++i) {\n      for (int j = 0; j < 1000; ++j) {\n        dp[i][j] = dp[i-1][j];\n        for (int r : a[i]) {\n          if (r > j) continue;\n          dp[i][j] = max(dp[i][j],dp[i-1][r-1]+1);\n        }\n      }\n    }\n    cout << dp[999][999] << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define pb(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<pair<int,int> >v;\n        int m,x,y,a=1,c=1,b=101;\n        g(0,n){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        sort(v.begin(),v.end());\n        x=v[0].f,y=v[0].s;\n        g(1,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                a++;\n                x=v[i].f,y=v[i].s;\n            }\n            else\n                b=min(b,i);\n        }\n        if(b<101){\n            x=v[b].f,y=v[b].s;\n            g(b+1,m+n){\n                if(v[i].s>y&&v[i].f>x){\n                    c++;\n                    x=v[i].f,y=v[i].s;\n                }\n            }\n        }\n        cout<<max(a,c)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define pb(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\nint main(){\n    int n;\n    while(cin>>n,n){\n        vector<pair<int,int> >v;\n        int m,x,y,x1,y1,x2,y2,a=1,c=1,b=101;\n        g(0,n){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        x1=v[0].f,y1=v[0].s,x2=v[n].f,y2=v[n].s;\n        sort(v.begin(),v.end());\n        x=x1,y=y1;\n        g(1,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                a++;\n                x=v[i].f,y=v[i].s;\n            }\n            else\n                b=min(b,i);\n        }\n        x=x2,y=y2;\n        g(1,m+n){\n            if(v[i].s>y&&v[i].f>x){\n                c++;\n                x=v[i].f,y=v[i].s;\n            }\n        }\n        cout<<max(a,c)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, p;\npair<int, int> doll[201];\nint dp[2][201], dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n + 1; i <= n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll + 1, doll + 1 + n + m);\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tp = lower_bound(dp[0] + 1, dp[0] + n + m + 1, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tif (dp[1][i] == INF) break;\n\t\t\t*lower_bound(dp2 + 1, dp2 + n + m + 1, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout << lower_bound(dp2 + 1, dp2 + n + m + 1, INF) - dp2 - 1 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\nusing namespace std;\n\n\nint main()\n{\n\tint n, m;\n\tint table[250];\n\tpair<int, int> data[250];\n\n\twhile (cin >> n)\n\t{\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcin >> data[i].first >> data[i].second;\n\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++)\n\t\t\tcin >> data[n+i].first >> data[n+i].second;\n\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\tfor (int j = i + 1; j < n + m; j++)\n\t\t\t{\n\t\t\t\tif (data[i].first > data[j].first)\n\t\t\t\t\tswap(data[i], data[j]);\n\t\t\t}\n\t\t}\n\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\ttable[i] = 1;\n\t\t\tfor (int j = 0; j < i; j++)\n\t\t\t{\n\t\t\t\tif (data[i].first > data[j].first && data[i].second > data[j].second)\n\t\t\t\t\ttable[i] = max(table[i], table[j] + 1);\n\t\t\t}\n\t\t\tans = max(ans, table[i]);\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint c[1000][1000];\n\nint main() {\n    int n;\n    while (cin >> n, n) {\n        vector<int> hs, rs;\n        int h_max = 0, r_max = 0;\n        for (int i = 0; i < n; i++) {\n            int h, r;\n            cin >> h >> r;\n            hs.push_back(h);\n            rs.push_back(r);\n            h_max = max(h_max, h);\n            r_max = max(r_max, r);\n        }\n        int m;\n        cin >> m;\n        for (int i = 0; i < m; i++) {\n            int h, r;\n            cin >> h >> r;\n            hs.push_back(h);\n            rs.push_back(r);\n            h_max = max(h_max, h);\n            r_max = max(r_max, r);\n        }\n        for (int y = 0; y <= h_max; y++) {\n            for (int x = 0; x <= r_max; x++) {\n                c[y][x] = 0;\n            }\n        }\n        for (int i = 0; i < m+n; i++) {\n            c[hs[i]][rs[i]] = 1;\n        }\n        for (int y = 1; y <= h_max; y++) {\n            for (int x = 1; x <= r_max; x++) {\n                c[y][x] = max(c[y][x] + c[y-1][x-1], max(c[y-1][x], c[y][x-1]));\n            }\n        }\n        cout << c[h_max][r_max] << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\nusing namespace std;\nint main(){\n  int n,m;\n  while(cin>>n&&n){\n    int dp[210],cop[210];\n    vector<int> v[1010];\n    for(int i=0;i<n;i++){\n      int x,y;cin>>x>>y;\n      v[x].push_back(y);\n      dp[i]=mod;\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      int x,y;cin>>x>>y;\n      v[x].push_back(y);\n      dp[i+n]=mod;\n    }\n    dp[n+m]=mod;\n    for(int i=0;i<1010;i++){\n      for(int j=0;j<=n+m;j++)cop[j]=dp[j];\n      for(int j=0;j<v[i].size();j++){\n\tint it=lower_bound(dp,dp+n+m,v[i][j])-dp;\n\tcop[it]=min(cop[it],v[i][j]);\n      }\n      for(int j=0;j<=n+m;j++)dp[j]=cop[j];\n    }\n    int ans=0;\n    while(true){\n      if(dp[ans]==mod)break;\n      ans++;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <iomanip>\nusing namespace std;\n\nconst int SIZE = 200;\n\nstruct Doll\n{\n\tint h;\n\tint r;\n\tbool operator<( const Doll& d ) const\n\t{\n\t\tif( this->h < d.h ) return true;\n\t\tif( this->h > d.h ) return false;\n\t\tif( this->r < d.r ) return true;\n\t\treturn false;\n\t}\n};\n\nint main()\n{\n\n\tint n, m;\n\twhile( cin >> n && n ){\n\t\tint memo[ SIZE ][ SIZE ];\n\t\tDoll doll[ SIZE ];\n\t\tmemset( memo, 0, sizeof(memo) );\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tcin >> doll[ i ].h >> doll[ i ].r;\n\t\t}\n\t\tcin >> m;\n\t\tfor( int i = 0; i < m; ++i ){\n\t\t\tcin >> doll[ n + i ].h >> doll[ n + i ].r;\n\t\t}\n\t\tint numDolls = n + m;\n\t\tsort( doll, doll + numDolls );\n\n\t\tint result = 0;\n\t\tfor( int k = 0; k < numDolls; ++k ){\n\t\t\tfor( int i = 0; i < numDolls; ++i ){\n\t\t\t\tfor( int j = 0; j < numDolls; ++j ){\n\t\t\t\t\tif( doll[ i ].h < doll[ j ].h && doll[ i ].r < doll[ j ].r ){\n\t\t\t\t\t\tmemo[ i ][ j ] = max( memo[ i ][ j ], max( 2, memo[ i ][ k ] + memo[ k ][ j ] - 1 ) );\n\t\t\t\t\t\tif( memo[ i ][ j ] > result ){\n\t\t\t\t\t\t\tresult = memo[ i ][ j ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << result << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, p;\npair<int, int> doll[201];\nint dp[2][201], dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tp = lower_bound(dp[0], dp[0] + n + m, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (dp[1][i] == INF) break;\n\t\t\t*lower_bound(dp2, dp2 + n + m, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout << lower_bound(dp2, dp2 + n + m, INF) - dp2 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <queue>\n#include <stack>\n#include <string>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n\n#define rep(i, n) for(int i = 0; i < n; i ++)\n#define COUNT(i, n) for(int i = 1; i <= n; i ++)\n#define ALL(T) T.begin(), T.end()\n#define mp make_pair\n#define pb push_back\n#define ITER(c) __typeof((c).begin())\n#define each(c, it) for(ITER(c) it = (c).begin(); it != (c).end(); it++)\n#define H first\n#define R second\n\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nconst int INF = 1 << 24;\nconst int N = 201;\n\nint dp[N];\n\nint main(void){\n    for(int n; cin >> n, n;){\n        vector<pii> in(N);\n        rep(i, n) cin >> in[i].H >> in[i].R;\n\n        int m; cin >> m;\n        rep(i, m) cin >> in[n + i].H >> in[n + i].R;\n\n        rep(i, n + m)  dp[i] = 0;\n\n        sort(in.begin(), in.begin() + n + m);\n\n        rep(i, n + m) rep(j, i) if(in[j].R < in[i].R) dp[i] = max(dp[i], dp[j] + 1);\n\n        cout << *max_element(dp, dp + m + n) + 1 << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#define NUM 1000\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tbool dp[NUM][NUM] = {false};\n\t\tint n, m, h, r, ans = 0;\n\t\tcin >>n;\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tcin >>m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tint cnt = 1;\n\t\tfor(int i = cnt; i < NUM; i++){\n\t\t\tfor(int j = cnt; j < NUM; j++){\n\t\t\t\tif(dp[i][j] == true){\n\t\t\t\t\tans++;\n\t\t\t\t\tcnt = j + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout <<ans <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int MAX_SIZE = 1001;\nconst int N = 100;\n\nmain(){\n  int n, m, sizeH, sizeR;\n  int dp[MAX_SIZE+1][MAX_SIZE+1];\n  int dataH[2][N];\n  int dataR[2][N];\n  while(cin >> n && n){\n    sizeH = sizeR = 0;\n    for(int i=0;i<n;++i){\n      cin >> dataH[0][i] >> dataR[0][i];\n      sizeH = max(sizeH, dataH[0][i]);\n      sizeR = max(sizeR, dataR[0][i]);\n    }\n    cin >> m;\n    for(int i=0;i<m;++i){\n      cin >> dataH[1][i] >> dataR[1][i];\n      sizeH = max(sizeH, dataH[1][i]);\n      sizeR = max(sizeR, dataR[1][i]);\n    }\n    fill(dp[0], dp[MAX_SIZE], -1);\n    dp[0][0] = 0;\n    for(int i=0;i<=sizeH;++i){\n      for(int j=0;j<=sizeR;++j){\n\tif(dp[i][j] == -1) continue;\n\tfor(int k=0;k<n;++k){\n\t  if(dataH[0][k] > i && dataR[0][k] > j) \n\t    dp[dataH[0][k]][dataR[0][k]] = max(dp[dataH[0][k]][dataR[0][k]], dp[i][j] + 1);\n\t}\n\tfor(int k=0;k<m;++k){\n\t  if(dataH[1][k] > i && dataR[1][k] > j) \n\t    dp[dataH[1][k]][dataR[1][k]] = max(dp[dataH[1][k]][dataR[1][k]], dp[i][j] + 1);\n\t}\n      }\n    }\n    int ans = 0;\n    for(int i=0;i<=sizeH;++i){\n      for(int j=0;j<=sizeR;++j){\n\tans = max(ans, dp[i][j]);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n#define INF 10e6\n#define F first\n#define S second\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tP dolls[200];\n\tP dolls1[200];\n\tint dp[200];\n\tint dp1[200];\n\tint n,m;\n\twhile(cin >> n,n){\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tcin >> m;\n\t\tfor(int i=n;i<n+m;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tdolls1[i].F=dolls[i].S,dolls1[i].S=dolls[i].F;\n\t\tsort(dolls,dolls+n+m);\n\t\tsort(dolls1,dolls1+n+m);\n\t\tint cx,cy;\n\t\tfill(dp,dp+n+m,INF);\n\t\tfill(dp1,dp1+n+m,INF);\n\t\tfor(int i=0;i<n+m;i++){\n\t\t\t*lower_bound(dp,dp+n+m,dolls[i].S)=dolls[i].S;\n\t\t\t*lower_bound(dp1,dp1+n+m,dolls1[i].S)=dolls1[i].S;\n\t\t}\n\t\tcx=lower_bound(dp,dp+n+m,INF)-dp;\n\t\tcy=lower_bound(dp1,dp1+n+m,INF)-dp1;\n\t\tcout << max(cx,cy) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 30;\nint n, m, ans, p, s, s2, s3;\npair<int, int> doll[2001];\nint dp[2][2001], dp2[2001];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 2001, INF);\n\t\tfill(dp[1], dp[1] + 2001, INF);\n\t\tfill(dp2, dp2 + 2001, INF);\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n + 1; i <= n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll + 1, doll + 1 + n + m);\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tp = lower_bound(dp[0] + 1, dp[0] + n + m + 1, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\t*lower_bound(dp2 + 1, dp2 + n + m + 1, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout << lower_bound(dp2 + 1, dp2 + n + m + 1, INF) - dp2 - 1 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define MAX 206\nusing namespace std;\nint test=0;\nint n,m;\nint dp[MAX+1];\nclass Doll{\npublic:\n   int h;\n   int r;\n   bool operator < (const Doll &d)const{\n      if(h == d.h)return r < d.h;//hが同じ時ｒで比較\n      return h < d.h;//普段はｈで比較\n   }\n};\n\nDoll Dolls[MAX];\n\nvoid solve(void){\n   dp[0] = 0;\n   //  rep(i,n+m){\n   for(int i=0;i<(n+m);i++){\n      dp[i+1] = 1;\n      for(int j=0;j<i;j++)\n\t if(Dolls[j].r < Dolls[i].r){\n\t    dp[i+1] = max(dp[i+1]+1,dp[j]+1);\n      }\n   }\n\n/*\n   cout << \"test\" << ++test << endl;\n   rep(i,n+m)\n      cout << dp[i] << endl;\n   cout << \"ans\" << endl;\n*/\n   cout << dp[n+m] << endl;\n\n}\n\nint main(void){\n   int h,r;\n   while(1){\n      cin >> n;\n      if(n==0)break;\n      rep(i,n){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      cin >> m;\n      for(int i=n;i<(n+m);i++){\n\t cin >> h >> r;\n\t Dolls[i].h = h;\n\t Dolls[i].r = r;\n      }\n      sort(Dolls,Dolls+n+m);\n      /*\n      rep(i,n+m)\n\t cout << Dolls[i].h << \"  \" << Dolls[i].r<<endl;\n      */\n      solve();\n\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int,int> MAT;\n#define h first\n#define r second\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint main(){\n\tint n,m;\n\twhile(cin >> n , n ){\n\t\tvector<MAT> info(n);\n\t\tint ret = 0;\n\t\trep(i,n){\n\t\t\tMAT t; cin >> t.h >> t.r ; \n\t\t\tinfo.push_back(t);\n\t\t}\n\t\tcin >> m;\n\t\trep(i,m){\n\t\t\tMAT t; cin >> t.h >> t.r ; \n\t\t\tinfo.push_back(t);\n\t\t}\n\t\tn = n + m;\n\t\t\n\t\tint cnt = 1;\n\t\t/* ¼aî */\n\t\tsort(info.begin(),info.end(),greater<MAT>());\n\t\t\n\t\trep(st,n){\n\t\t\tMAT top = info[st];\n\t\t\tcnt = 1;\n\t\t\tfor(int i = st + 1 ; i < n ; i++){\n\t\t\t\tif( info[i].first < top.first && info[i].second < top.second){\n\t\t\t\t\ttop = info[i];\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tret = max(ret,cnt);\n\t\t}\n\t\t/* ³î */\n\t\t\n\t\tcnt = 1;\n\t\trep(i,n)swap(info[i].first,info[i].second);\n\t\tsort(info.begin(),info.end(),greater<MAT>());\n\t\t\n\t\trep(st,n){\n\t\t\tMAT top = info[st];\n\t\t\tcnt = 1;\n\t\t\tfor(int i = st + 1 ; i < n ; i++){\n\t\t\t\tif( info[i].first < top.first && info[i].second < top.second){\n\t\t\t\t\ttop = info[i];\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tret = max(ret,cnt);\n\t\t}\n\t\t\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<algorithm>\n#include<cstring>\n#define F first\n#define S second\nusing namespace std;\n\nint n, m, i;\npair < int, int > p[222];\nint memo[222];\n\nint solve(int k){\n  \n  if(memo[k]) return memo[k];\n  \n  int ret = 1;\n  for(int i=0;i<n+m;i++){\n    if(p[k].F > p[i].F && p[k].S > p[i].S) ret = max(ret, solve(i)+1);\n  }\n\n  return memo[k] = ret;\n}\n\nint main(){\n  \n  while(cin >> n, n){\n    \n    for(i=0;i<n;i++) cin >> p[i].F >> p[i].S;\n    cin >> m;  \n    for(;i<m+n;i++) cin >> p[i].F >> p[i].S;\n    \n    memset(memo, 0, sizeof(memo));\n    \n    int ans = 0;\n    for(int j=0;j<n+m;j++) ans = max(solve(j), ans);\n\n    cout << ans << endl;\n  }\n  \n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <utility>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int,int> P;\nP doll[200];\nint memo[200];\nint n,m;\nint solve(int x) {\n\tif(memo[x]>-1) return memo[x];\n\tint sum=0;\n\tfor(int i=x+1;i<(n+m);i++) {\n\t\tif(doll[x].second<doll[i].second)\n\t\t\tsum=max(sum,1+solve(i));\n\t}\n\treturn memo[x]=sum;\n}\nint main() {\n\twhile(scanf(\"%d\",&n),n) {\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdoll[i].first=h,doll[i].second=r;\n\t\t}\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++) {\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdoll[i+n].first=h,doll[i+n].second=r;\n\t\t}\n\t\tsort(doll,doll+n+m);\n\t\tmemset(memo,-1,sizeof(memo));\n\t\tint sum=0;\n\t\tfor(int i=0;i<(n+m);i++) {\n\t\t\tsum=max(sum,1+solve(i));\n\t\t}\n\t\tprintf(\"%d\\n\",sum);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r < d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) || (v[i].h > v[j].h && v[i].r > v[j].r) ){\n                    table[i][j] = 1;\n                    table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 0;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(void){\n  int n,m,h[101],r[101];\n\n  while(cin >> n,n){\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >>m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(h[i]>h[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(r[i]>r[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n\n    int dp[101]={0};\n    dp[0]=1;\n    for(int i=0;i<n+m;i++){\n      for(int j=i+1;j<n+m;j++){\n\tif(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n      }\n    }\n    int res=0;\n    for(int i=0;i<n+m;i++)res=max(res,dp[i]);\n    cout << res << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\nusing namespace std;\nconst int MAX = 100000;\nint dp[200];\n\nint dfs(int index, vector<pair<int, int> > &mato){\n\tif(dp[index]) return dp[index];\n\tif(!index) return 1;\n\tint maxc = 0;\n\tfor(int i = index-1; i >= 0; i--){\n\t\tif((mato[index].first<=mato[i].first)||(mato[index].second<=mato[i].second)) continue;\n\t\tmaxc = max(maxc, dfs(i, mato));\n\t}\n\tdp[index] = maxc+1;\n\treturn dp[index];\n}\n\nvoid substitute(int time, vector<pair<int, int> > &mato){\n\tfor(int i = 0; i < time; i++){\n\t\tpair<int, int> tmp;\n\t\tcin >> tmp.first >> tmp.second;\n\t\tmato.push_back(tmp);\n\t}\n}\n\nint main(){\n\tint n, m;\n\twhile(cin >> n && n != 0){\n\t\tfill(dp, dp+200, 0);\n\t\tvector<pair<int, int> > mato;\n\t\tsubstitute(n, mato);\n\t\tcin >> m;\n\t\tsubstitute(m, mato);\n\t\tsort(mato.begin(), mato.end());\n\t\tint maxc = 0;\n\t\tfor(int i = n+m-1; i >= 0; i--) maxc = max(maxc, dfs(i, mato));\n\t\tcout << \"ans:\" << maxc << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n\nint n, m;\nint dp[100];\npair<int, int> data[200];\n\nint main() {\n\twhile (cin >> n, n) {\n\t\tREP(i, n) scanf(\"%d %d\", &data[i].first, &data[i].second);\n\t\tcin >> m;\n\t\tFOR(i, n, n + m) scanf(\"%d %d\", &data[i].first, &data[i].second);\n\t\t\n\t\tsort(data, data + n + m);\n\t\tfill(dp, dp + n + m, 1);\n\t\t\n\t\tREP(i, n + m) REP(j, i) {\n\t\t\tif (data[i].first > data[j].first && data[i].second > data[j].second) {\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint ans = -1;\n\t\tREP(i, n + m) ans = max(ans, dp[i]);\n\t\tcout << ans << endl; \n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n,m;\n  int h[200],r[200];\n\n  while(1){\n    cin >> n;\n    if(!n)break;\n\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n\n    cin >> m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++)\n      for(int j=i+1;j<n+m;j++)\n\tif(h[i]<h[j] || (h[i]==h[j] && r[i]<r[j])){\n\t  swap(h[i],h[j]);\n\t  swap(r[i],r[j]);\n\t}\n    \n    int ans1 = 1;\n    int prvh = h[0],prvr=r[0];\n    for(int i=1;i<n+m;i++)\n      if(prvh>h[i] && prvr>r[i]){\n\tans1++;\n\tprvh = h[i];\n\tprvr = r[i];\n      }\n\n    for(int i=0;i<n+m;i++)\n      for(int j=i+1;j<n+m;j++)\n\tif(r[i]<r[j] || (r[i]==r[j] && h[i]<h[j])){\n\t  swap(h[i],h[j]);\n\t  swap(r[i],r[j]);\n\t}\n    \n    int ans2 = 1;\n    prvh = h[0],prvr=r[0];\n    for(int i=1;i<n+m;i++)\n      if(prvh>h[i] && prvr>r[i]){\n\tans2++;\n\tprvh = h[i];\n\tprvr = r[i];\n      }\n\n\n\n    cout << max(ans1,ans2) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint dp[210];\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tarr.emplace_back(h, r);\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++)\n\t\t{\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tarr.emplace_back(h, r);\n\t\t}\n\n\t\tsort(ALL(arr), [&](const P& p1, const P& p2){\n\t\t\treturn p1.first != p2.first ? p1.first < p2.first\n\t\t\t\t: p1.second != p2.second ? p1.second > p2.second\n\t\t\t\t: false;\n\t\t});\n\t\tfill(dp, dp + n + m, INF);\n\t\tfor (int i = 0; i < n + m; i++)\n\t\t{\n\t\t\t*(lower_bound(dp, dp + n + m, arr[i].second)) = arr[i].second;\n\t\t}\n\t\tcout << (lower_bound(dp, dp + n + m, INF) - dp) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<queue>\n#define INF doll(10000000,10000000)\nusing namespace std;\nclass doll{\npublic:\n    int h,r;\n    doll(int _h,int _r){\n        h=_h;r=_r;\n    }\n    doll(){}\n    bool operator<(const doll &d)const{\n        return(h<d.h&&r<d.r);\n    }\n    bool operator==(const doll &d)const{\n        return ((h<=d.h&&r>=d.r)||(h>=d.h&&r<=d.r));\n    }\n\n    bool operator>(const doll &d)const{\n        return(h>d.h&&r>d.r);\n    }\n};\nint main(){\n    int n;\n    while(cin>>n,n){\n        queue<doll>N,M;\n        for(int i=0;i<n;i++){\n            int h,r;\n            cin>>h>>r;\n            N.push(doll(h,r));\n        }\n        int m;\n        cin>>m;\n        for(int i=0;i<m;i++){\n            int h,r;\n            cin>>h>>r;\n            M.push(doll(h,r));\n        }\n        N.push(INF);M.push(INF);\n        int cnt=0;\n        while(true){\n            if(N.front()<M.front())N.pop();\n            else if(N.front()>M.front())M.pop();\n            else{\n                if(N.front()==INF)break;\n                N.pop();M.pop();\n            }\n            cnt++;\n        }\n        cout<<cnt<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(void){\n  int n,m,h[201],r[201];\n\n  while(cin >> n,n){\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >>m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n      for(int i=0;i<n+m;i++){\n\t  for(int j=i;j<n+m;j++){\n\t    int t;\n\t      if(h[i]>h[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]>r[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n    int dp[201]={0};\n    dp[0]=1;\n    for(int i=0;i<n+m;i++){\n      for(int j=i+1;j<n+m;j++){\n\tif(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n      }\n    }\n    int res=0;\n    for(int i=0;i<n+m;i++)res=max(res,dp[i]);\n    cout << res << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define INF 1e8\n#define EPS 1e-9\n\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define rep(i,n) rep2(i,0,n)\n#define ll long long\n#define P pair<int,int>\n#define pb push_back\n\nint n,m,h[200],r[200],d[200][200];\n\nint main(){\n\twhile(cin>>n&&n){\n\t\trep(i,n)cin>>h[i]>>r[i];\n\t\tcin>>m;\n\t\trep(i,m)cin>>h[i+n]>>r[i+n];\n\t\tn+=m;\n\t\trep(i,n)fill(d[i],d[i]+n,INF);\n\t\trep(i,n)rep(j,n){\n\t\t\tif(i==j)d[i][j]=0;\n\t\t\tif(h[i]>h[j]&&r[i]>r[j])d[i][j]=-1;\n\t\t}\n\t\trep(k,n)rep(i,n)rep(j,n)d[i][j]=min(d[i][j],d[i][k]+d[k][j]);\n\t\tint ans=0;\n\t\trep(i,n)rep(j,n)ans=max(ans,-d[i][j]+1);\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int,int> P;\nconst int MAX = 201;\n\nint main(){\n  int n;\n\n  while(cin >> n ,n){\n    vector<P> v;\n\n    int x,y;\n    for(int i = 0 ; i < n ; i++){\n      cin >> x >> y;\n      v.push_back(P(x,y));\n    }\n    int m;\n    cin >> m;\n    for(int i = 0 ; i < m ; i++){\n      cin >> x >> y;\n      v.push_back(P(x,y));\n    }\n\n    sort(v.begin(),v.end());\n    int dp[MAX] = {0};\n    int ans = 0;\n\n    for(int i = 0 ; i < n+m ; i++){\n      dp[i] = 1;\n      for(int j = 0 ; j < i ; j++){\n\tif(v[j].first < v[i].first && v[j].second < v[i].second){\n\t  dp[i] = max(dp[i],dp[j]+1);\n\t}\n      }\n      ans = max(ans,dp[i]);\n    }\n\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mk make_pair\n#define f first\n#define s second\nusing namespace std;\nint n,m,p1,p2,dp[201][1001][1001];\nmap<pair<int,pair<int,int> >,int >m1;\n\nvector<pair<int,int> >v;\n\nint dfs(int d,int h,int w){\n  int res=0;\n  if(m1[mk(d,mk(h,w))])return m1[mk(d,mk(h,w))];\n  if(d==v.size()) return 1;\n  if(v[d].f<h&&v[d].s<w)\n    res=max(res,dfs(d+1,v[d].f,v[d].s))+1;\n  res=max(res,dfs(d+1,h,w));\n  return m1[mk(d,mk(h,w))]=res;\n}\n\nmain(){\n  while(cin>>n,n){\n    m1.clear();\n    v.clear();\n    for(int i=0;i<n;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<v.size();i++)swap(v[i].f,v[i].s);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    cout<<dfs(0,1001,1001)-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nclass Matryoshka{\npublic:\n  int h;\n  int r; \n\n};\n\nbool LessMatryoshka(const Matryoshka &a, const Matryoshka &b){\n  if( a.h < b.h && a.r < b.r ){\n    return true;\n  }else if( a.h == b.h || a.r == b.r ){\n    return true;\n  }else{\n    return false;\n  }\n} \n\ntypedef vector< Matryoshka > Dolls;\n\nvoid MaxSubSequenceLength( Dolls &d, vector< int > &ans ){\n  ans[0] = 0;\n  for(int i = 1; i < d.size(); i++){\n    int maxSub = 0, maxj = -1;\n\n    for(int j = i - 1; j >= 0; j--){\n      if( d[j].r < d[i].r && d[j].h < d[i].h ){\n\tif( maxSub < ans[j] ){\n\t  maxj = j;\n\t  maxSub = ans[j];\n\t}\n      }\n    }\n\n    if( maxj < 0 ){\n      ans[i] = 1;\n    }else{\n      ans[i] = ans[maxj] + 1;\n    }\n  }\n}\n\nvoid InputMatryoshka( Dolls &d, int num ){\n  for(int i = 0; i < num; i++){\n    Matryoshka m;\n    \n    cin >> m.h;\n    cin >> m.r;\n    d.push_back( m );\n  }\n}\n\nint main(void){\n  while( 1 ){\n    int n, m;\n    Dolls dolls;\n    Matryoshka matryoBanpei;\n    int maxMatryoshkaNum = 0;\n    vector<int> ans;\n\n    cin >> n;\n    if( n == 0 ){\n      break;\n    }\n\n    matryoBanpei.h = -1;\n    matryoBanpei.r = -1;\n    dolls.push_back( matryoBanpei );\n    \n    InputMatryoshka( dolls, n );\n\n    cin >> m;\n    InputMatryoshka( dolls, m );\n\n    sort( dolls.begin(), dolls.end(), LessMatryoshka );\n    ans.resize( n+m+1, 0 );\n    MaxSubSequenceLength( dolls, ans );\n\n    //output\n    for(int i = 0; i < ans.size(); i++){\n      maxMatryoshkaNum = max( maxMatryoshkaNum, ans[i] );\n    }\n    cout << maxMatryoshkaNum << '\\n';\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[2000], dp2[2000];\n  P doll[2000];\n  while(cin >> n && n){\n    fill(doll, doll+2000, P(0, 0));\n    fill(dp, dp + 2000, INF);\n    fill(dp2, dp2 + 2000, 0);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      if(doll[i].F!=doll[i-1].F)\n\t*lower_bound(dp, dp + 2000, doll[i].S) = doll[i].S;\n    }\n    cout << lower_bound(dp, dp + 2000, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\ntypedef pair<ll, P> P3;\ntypedef pair<P ,P> PP;\nconstexpr ll MOD = ll(1e9) + 7;\nconstexpr int IINF = INT_MAX;\nconstexpr ll LLINF = LLONG_MAX;\nconstexpr int MAX_N = int(2e5) + 5;\nconstexpr double EPS = 1e-9;\nconstexpr int di[] = {0, 1, 0, -1}, dj[] = {1, 0, -1, 0};\n#define REP(i, n) for (int i = 0; i < n; i++)\n#define REPR(i, n) for (int i = n; i > 0; i--)\n#define SORT(v) sort((v).begin(), (v).end())\n#define SORTR(v) sort((v).rbegin(), (v).rend())\n#define ALL(v) (v).begin(), (v).end()\n\n\nint main() {\n    int n, m;\n    while(cin >> n, n){\n        vector<P> v;\n        for(int i=0;i<n;i++){\n            int h, r;\n            cin >> h >> r;\n            v.push_back({h,r});\n        }\n        cin >> m;\n        for(int i=0;i<m;i++){\n            int h, r;\n            cin >> h >> r;\n            v.push_back({h,r});\n        }\n        sort(v.begin(), v.end());\n\n        v.push_back({IINF,IINF});\n        int N = v.size();\n        vector<int> dp(N, 0);\n        for(int i=0;i<N;i++){\n            for(int j=0;j<i;j++){\n                if(v[j].first < v[i].first && v[j].second < v[i].second){\n                    dp[i] = max(dp[i], dp[j]+1);\n                }\n            }\n        }\n        cout << dp[N-1] << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntemplate<class T> inline void chmax(T &a, const T &b) { if(a < b) a = b; }\n\nvoid input_dolls(vector<pair<int, int>> &dolls, int n) {\n\tfor(int i = 0; i < n; ++i) {\n\t\tint h, r;\n\t\tcin >> h >> r;\n\t\tdolls.emplace_back(h, r);\n\t}\n}\n\nint main() {\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\n\tfor(int n; cin >> n && n;) {\n\t\tvector<pair<int, int>> dolls;\n\t\tinput_dolls(dolls, n);\n\n\t\tint m;\n\t\tcin >> m;\n\t\tinput_dolls(dolls, m);\n\n\t\tsort(dolls.begin(), dolls.end());\n\n\t\tint prev_r = -1;\n\t\tvector<int> dp(1000, 0);\n\t\tvector<int> tmp(dp);\n\n\t\tfor(const auto &doll : dolls) {\n\t\t\tconst int r = doll.second;\n\t\t\tif(prev_r != r) {\n\t\t\t\ttmp = dp;\n\t\t\t\tprev_r = r;\n\t\t\t}\n\n\t\t\tconst int num = *max_element(tmp.begin(), tmp.begin() + r);\n\t\t\tchmax(dp[r], num + 1);\n\t\t}\n\n\t\tcout << *max_element(dp.begin(), dp.end()) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <climits>\n#include <ctime>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <set>\n#include <map>\n#include <iostream>\n#include <deque>\n#include <complex>\n#include <string>\n#include <iomanip>\n#include <sstream>\n#include <bitset>\n#include <valarray>\n#include <iterator>\nusing namespace std;\ntypedef long long int lli;\ntypedef unsigned int uint;\ntypedef unsigned char uchar;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\n#define REP(i,x) for(int i=0;i<(int)(x);i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define RREP(i,x) for(int i=(x);i>=0;i--)\n#define RFOR(i,c) for(__typeof((c).rbegin())i=(c).rbegin();i!=(c).rend();i++)\n#define ALL(container) container.begin(), container.end()\n#define SZ(container) ((int)container.size())\n\nconst int INF = 1<<30;\nint LIS(vector<int> v){\n\tvector<int> dp(v.size(), INF);\n\tREP(i, v.size()) *lower_bound(dp.begin(), dp.end(), v[i]) = v[i]; // upper_bound にするとstrict increaseではない部分列\n\treturn lower_bound(dp.begin(), dp.end(), INF) - dp.begin(); // ここはlower_boundのままにする\n}\n\nint n, m;\n\nmain(){\n\twhile(cin >> n, n){\n\t\tvector<pii> x;\n\t\tREP(i, n){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tx.push_back(pii(h, -r));\n\t\t}\n\t\tcin >> n;\n\t\tREP(i, n){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tx.push_back(pii(h, -r));\n\t\t}\n\t\tsort(ALL(x));\n\t\tvector<int> lis;\n\t\tREP(i, x.size()) lis.push_back(-x[i].second);\n\t\tcout << LIS(lis) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <queue>\n#include <stack>\n#include <string>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n\n#define rep(i, n) for(int i = 0; i < n; i ++)\n#define COUNT(i, n) for(int i = 1; i <= n; i ++)\n#define ALL(T) T.begin(), T.end()\n#define mp make_pair\n#define pb push_back\n#define ITER(c) __typeof((c).begin())\n#define each(c, it) for(ITER(c) it = (c).begin(); it != (c).end(); it++)\n#define H first\n#define R second\n\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nconst int INF = 1 << 24;\nconst int N = 201;\n\nint dp[N];\nbool ok[N][N];\n\nint main(void){\n    for(int n; cin >> n, n;){\n        vector<pii> in(N);\n        rep(i, n) cin >> in[i].H >> in[i].R;\n\n        int m; cin >> m;\n        rep(i, m) cin >> in[n + i].H >> in[n + i].R;\n\n        rep(i, n + m)  dp[i] = 0;\n        rep(i, n + m) rep(j, n + m) ok[i][j] = false;\n\n        sort(in.begin(), in.begin() + n + m);\n\n        rep(i, n + m) for(int j = i; j < n + m; j++)\n            if(in[i].R < in[j].R) ok[i][j] = true;\n\n        rep(i, n + m) rep(j, i) if(ok[j][i]) dp[i] = max(dp[i], dp[j] + 1);\n\n        cout << *max_element(dp, dp + m + n) + 1 << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// AOJ 0157\n#include<iostream>\n#include<map>\n#include<vector>\n#include<string>\n#include<sstream>\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef pair<int,int> P;\n\nconst int NMAX = 150;\n\nvector<P> ichiro, jiro;\nint n, m;\nint idp[NMAX], jdp[NMAX];\nint index[NMAX], jndex[NMAX];\n\nvoid init() {\n  REP(i, NMAX) {\n    idp[i] = jdp[i] = 0;\n    index[i] = jndex[i] = 0;\n  }\n  jiro.clear();\n  ichiro.clear();\n\n  jiro.push_back(make_pair(0,0));\n  ichiro.push_back(make_pair(0,0));\n}\n\nstring str(P p) {\n  stringstream ss;\n  ss << \"(\" << p.first << \",\" << p.second << \")\";\n  return ss.str();\n}\n\nbool bigger(P big, P small) {\n//  cout << str(big) << \" \" << str(small) << endl;\n  return (big.first > small.first and big.second > small.second);\n}\n\nint lowerb(P mine, vector<P> his) {\n  int len = his.size();\n  for (int i = 1; i < len; i++) {\n    bool f = bigger(mine,his[i]);\n//    cout << (f ? \"true\" : \"false\") << endl;\n    if (not f) {\n//      cout << i - 1 << endl;\n      return i - 1;\n    }\n  }\n//  cout << len - 1 << endl;\n  return len - 1;\n}\n\nint rec(int i, int* mine, int* his) {\n//  cout << \"rec(\" << i << \",\" << mine << \",\" << his << \")\" << endl;\n  if (i < 0) throw 1;\n  if (i == 0) {\n    return 0;\n  } else {\n    return 1 + max(rec(i - 1, mine, his), rec(mine[i], his, mine));\n  }\n}\n\nint solve() {\n  for (int i = 1; i <= n; i++) {\n    index[i] = lowerb(ichiro[i], jiro);\n  }\n\n  for (int j = 1; j <= m; j++) {\n    jndex[j] = lowerb(jiro[j], ichiro);\n  }\n\n/*  REP(i, n + 1) {\n    cout << index[i] << \" \";\n  }cout << endl;\n  REP(i, m + 1) {\n    cout << jndex[i] << \" \";\n  }cout << endl;*/\n\n  return max(rec(n, index, jndex), rec(m, jndex, index));\n}\n\nint main() {\n  while (cin >> n and n) {\n    init();\n    REP(i, n) {\n      int h, r;\n      cin >> h >> r;\n      ichiro.push_back(make_pair(h, r));\n    }\n\n    cin >> m;\n    REP(i, m) {\n      int h, r;\n      cin >> h >> r;\n      jiro.push_back(make_pair(h, r));\n    }\n\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int MAX_SIZE = 1000;\nconst int N = 100;\n\nmain(){\n   int n, m, sizeH, sizeR;\n   int dp[MAX_SIZE+1][MAX_SIZE+1];\n   int dataH[2][N];\n   int dataR[2][N];\n   while(cin >> n && n){\n      sizeH = sizeR = 0;\n      for(int i=0;i<n;++i){\n         cin >> dataH[0][i] >> dataR[0][i];\n         sizeH = max(sizeH, dataH[0][i]);\n         sizeR = max(sizeR, dataR[0][i]);\n      }\n      cin >> m;\n      for(int i=0;i<m;++i){\n         cin >> dataH[1][i] >> dataR[1][i];\n         sizeH = max(sizeH, dataH[1][i]);\n         sizeR = max(sizeR, dataR[1][i]);\n      }\n      fill(dp[0], dp[MAX_SIZE], -1);\n      dp[0][0] = 1;\n      for(int i=0;i<sizeH;++i){\n         for(int j=0;j<sizeR;++j){\n            if(dp[i][j] == -1) continue;\n            for(int k=0;k<n;++k){\n               if(dataH[0][k] > i && dataR[0][k] > j) dp[dataH[0][k]][dataR[0][k]] = dp[i][j] + 1;\n            }\n            for(int k=0;k<m;++k){\n               if(dataH[1][k] > i && dataR[1][k] > j) dp[dataH[1][k]][dataR[1][k]] = dp[i][j] + 1;\n            }\n         }\n      }\n      int ans = 0;\n      for(int i=0;i<sizeH;++i){\n         for(int j=0;j<sizeR;++j){\n            ans = max(ans, dp[i][j]);\n         }\n      }\n      cout << ans << endl;\n   }\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\nint field1[1001];\nint field2[1001];\nusing namespace std;\nint main(void){\n    while(1){\n        int n; scanf(\"%d\",&n);\n        if(n == 0) break;\n        vector<pair<int,int> > v1;\n        vector<pair<int,int> > v2;\n        pair<int,int> p;\n        p.first = 0; p.second = 0;\n        v1.push_back(p); v2.push_back(p);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        scanf(\"%d\",&n);\n        for(int i = 0;i < n;i++){\n            int h,r; scanf(\"%d%d\",&h,&r);\n            p.first = h; p.second = r;\n            v1.push_back(p);\n            p.first = r; p.second = h;\n            v2.push_back(p);\n        }\n\n        sort(v1.begin(),v1.end()); sort(v2.begin(),v2.end());\n        for(int i = 1;i < v1.size();i++){\n            for(int j = i - 1;j >= 0;j--){\n                if(v1[i].second > v1[j].second && field1[i] <= field1[j]+1){\n                    field1[i] = field1[j]+1;\n                }\n            }\n        }\n\n        for(int i = 1;i < v2.size();i++){\n            for(int j = i-1;j >= 0;j--){\n                if(v2[i].second > v2[j].second && field2[i] <= field2[j]+1){\n                    field2[i] = field2[j]+1;\n                }\n            }\n        }\n        int ans = -1;\n        for(int i = 0;i < v1.size();i++){\n            if(field1[i] >= ans) ans = field1[i];\n            if(field2[i] >= ans) ans = field2[i];\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <cmath>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\n#define INF 999999999\n\nint gcd(int x, int y) {\n\tif (x % y == 0)return y;\n\telse return gcd(y, x%y);\n}\n\nint lcm(int x, int y) {\n\treturn x*y / gcd(x, y);\n}\nvector<pair<int, int> > mt;\nvector<vector<int> > in_list;\nvector<int> inside; //x番目のマトリョーシカに入る最大のマトリョーシカの数\n\nint solve(int x) {\n\tif (inside[x] != -1)return inside[x];\n\tif (in_list[x].empty()) {\n\t\tinside[x] = 0;\n\t\treturn inside[x];\n\t}\n\tint m = -1;\n\tfor (int i = 0; i < in_list[x].size(); i++) {\n\t\tm = max(m, solve(in_list[x][i]));\n\t}\n\tinside[x] = m + 1;\n\treturn inside[x];\n}\n\n\nint main() {\n\twhile (1) {\n\t\tmt.clear();\n\t\tint n, m;\n\t\tcin >> n;\n\t\tif (n == 0)break;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tmt.push_back({ h,r });\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\tmt.push_back({ h,r });\n\t\t}\n\t\tin_list = vector<vector<int> >(m + n, vector<int>());\n\t\tinside = vector<int>(m + n, -1);\n\t\tfor (int i = 0; i < m + n; i++) {\n\t\t\tfor (int j = 0; j < m + n; j++) {\n\t\t\t\tif (mt[i].first > mt[j].first && mt[i].second > mt[j].second) {\n\t\t\t\t\tin_list[i].push_back(j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < m + n; i++)solve(i);\n\t\tcout << *max_element(inside.begin(), inside.end()) + 1 << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n\nclass Doll{\npublic:\n    int h;\n    int r;\n    int dp;\n    static bool Less(const Doll& l, const Doll& r){\n\treturn l.h < r.h;\n    }\n    Doll(int x, int y, int z){\n\th = x; r = y; dp = z;\n    }\n};\n\ntypedef vector<Doll> Dolls;\n\nint main(){\n    int n, m, h, r, result=0;\n    Dolls dolls;\n    while(cin >> n, n){\n\tfor(int i=0; i<n; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tcin >> m;\n\tfor(int i=0; i<m; ++i){\n\t    cin >> h >> r;\n\t    Doll temp(h,r,1);\n\t    dolls.push_back(temp);\n\t}\n\tsort(dolls.begin(), dolls.end(), Doll::Less);\n\t\n\tfor(Dolls::iterator it1=dolls.begin()+1;it1 != dolls.end(); ++it1){\n\t    for(Dolls::iterator it2=dolls.begin();it2 != it1; ++it2){\n\t\tif(it2->h < it1->h && it2->r < it1->r && it1->dp <= it2->dp){\n\t\t    it1->dp = it2->dp + 1;\n\t\t    result = max(result, it1->dp);\n\t\t}\n\t    }\n\t}\n\tcout << result << endl;\n\tdolls.clear();\n\tresult = 0;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nint main()\n{\n\tint n, m;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tint h, r;\n\t\tint mato[1001][1001] = {};\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> h >> r;\n\t\t\tmato[h][r] = 1;\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >> h >> r;\n\t\t\tmato[h][r] = 1;\n\t\t}\n\t\tint result[1001][1001] = {};\n\t\tint ans = 0;\n\t\tfor(int i = 1; i < 1001; i++){\n\t\t\tfor(int j = 1; j < 1001; j++){\n\t\t\t\tresult[i][j] = max(result[i - 1][j - 1] + mato[i][j], max(result[i - 1][j], result[i][j - 1]));\n\t\t\t\tans = max(ans, result[i][j]);\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\n#include<algorithm>\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\nusing namespace std;\ntypedef pair<int,int> pii;\n\nint main(){\n\tint m,n,h,r;\n\tvector<pii> mato;\n\twhile(cin>>n,n){\n\t\tmato.clear();\n\t\trep(i,n){cin>>h>>r;mato.push_back(pii(h,r));}\n\t\tcin>>m;\n\t\trep(i,m){cin>>h>>r;mato.push_back(pii(h,r));}\n\t\tsort(mato.begin(),mato.end());\n\t\tpii now=mato[0];\n\t\tint cnt=1;\n\t\tloop(i,1,mato.size()){\n\t\t\tif(now.first<mato[i].first && now.second<mato[i].second){\n\t\t\t\tnow=mato[i];\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\tcout<<cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <utility>\nusing namespace std;\n\ntypedef pair<int,int> pii;\nint dptab[256][1024] = {0};\n\nint main() {\n\tint n, m;\n\twhile(cin >> n, n) {\n\t\tvector<pii> v;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tpii tmp;\n\t\t\tcin >> tmp.first >> tmp.second;\n\t\t\tv.push_back(tmp);\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tpii tmp;\n\t\t\tcin >> tmp.first >> tmp.second;\n\t\t\tv.push_back(tmp);\n\t\t}\n\t\tsort(v.begin(), v.end());\n\n\t\tfor(int i = 0; i < 256; i++)\n\t\t\tfor(int j = 0; j < 1024; j++)\n\t\t\t\tdptab[i][j] = 0;\n\n\t\tfor(int i = 0; i < v.size(); i++) {\n\t\t\tfor(int j = 0; j < 1024; j++) {\n\t\t\t\tif(i > 0 && v[i].first == v[i - 1].first) {\n\t\t\t\t\tdptab[i + 1][j]\n\t\t\t\t\t\t= max(dptab[i][j], v[i].second < j ? dptab[i - 1][v[i].second] + 1 : 0);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdptab[i + 1][j]\n\t\t\t\t\t\t= max(dptab[i][j], v[i].second < j ? dptab[i][v[i].second] + 1 : 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << dptab[n + m][1010] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\nint low[200],ans;\nmat hr[200];\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    rep(i,n)cin>>hr[i].h>>hr[i].r;\n    int m;\n    cin>>m;\n    rep(i,m)cin>>hr[i+n].h>>hr[i+n].r;\n\n    \n    memset(low,0,sizeof(0));\n\n    stable_sort(hr,hr+m+n,lessh);\n    stable_sort(hr,hr+m+n,lessr);\n\n    int ans=0;\n    rep(i,n+m){\n      rep(j,i){\n\tif(hr[j].h<hr[i].h && hr[j].r<hr[i].r){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\tif(p1.first < p2.first) return true;\n\t\telse if(p1.second < p2.second) return true;\n\t\telse false;\n\t}\n};\n\nint dp[202];\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tmemset(dp,0,sizeof(dp));\n\t\tdp[0] = 1;\n\n\t\tfor(int i=1;i<dolls.size();i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tif(dolls[j].first < dolls[i].first\n\t\t\t\t\t&& dolls[j].second < dolls[i].second){\n\t\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t\telse dp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[dolls.size()-1] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\nlong n,m,i,j,k,h[100],r[100],h2[100],r2[100],c,cc;\nwhile(cin>>n){\nif(n==0)break;\nfor(i=0;i<n;i++)cin>>h[i]>>r[i];\ncin>>m;\nfor(i=0;i<m;i++)cin>>h2[i]>>r2[i];\nk=c=0;\nfor(i=0;i<n;i++){\nfor(j=k;j<m;j++){\nif(h2[j]<h[i]&&r2[j]<r[i]){\nif(i==0||h[i-1]<h2[j]&&r[i-1]<r2[j]){\nk=j+1;c++;\n}\n}\n}\n}\ncc=n+c;\nk=c=0;\nfor(i=0;i<m;i++){\nfor(j=k;j<n;j++){\nif(h[j]<h2[i]&&r[j]<r2[i]){\nif(i==0||h2[i-1]<h[j]&&r2[i-1]<r[j]){\nk=j+1;c++;\n}\n}\n}\n}\nif(cc>m+c)cout<<cc<<endl;else cout<<m+c<<endl;\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\n#include <list>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\ntypedef vector<int> vi;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define F first\n#define S second\n\n\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\n\ntypedef struct{\n  int h,r;\n}mat;\n\nbool lessh(const mat&l,const mat&r){return l.h<r.h;};\nbool lessr(const mat&l,const mat&r){return l.r<r.r;};\n\n\n\n\n\nmain(){\n  int n;\n  while(cin>>n,n){\n    vector<PI> hr;\n    int low[200]={0},ans=0;\n    int h,r;\n    rep(i,n){\n      cin>>h>>r;\n      hr.pb(mp(h,r));\n    }\n\n    int m;\n    cin>>m;\n    rep(i,m){\n      cin>>h>>r;\n      hr.pb(mp(h,r));\n    }\n\n\n    sort(hr.begin(),hr.end());\n\n    rep(i,n+m){\n      rep(j,i){\n\tif(hr[j].F<hr[i].F && hr[j].S<hr[i].S){\n\t  low[i]=max(low[i],low[j]+1);\n\t  ans=max(ans,low[i]);\n\t}\n      }\n    }\n    //rep(i,m+n)cout<<hr[i].h<<\" \"<<hr[i].r<<\" \"<<low[i]+1<<endl;\n    cout<<ans+1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <utility>\n\n#define ll (long long)\n#define REP(i,n) for(int i = 0;i<(int)n;i++)\n#define FOR(i,a,b) for(int i = (a);i < (b);i++)\n#define RFOR(i,a,b) for(int i = (a);i>(b);i--)\n#define COUNTER int i= 0,j = 0,k = 0,l = 0,m = 0, n= 0;\n#define RETURN cout << endl;\n/*vector<vector<int>>ArrayName = vector<vector<int>>(sizeofx, vector<int>(sizeofy, 0));*/\nusing namespace std;\n\n\nint main() {\n    int answer = 0;\n    while (true) {\n        /*pair??§????????§??±???*/\n        vector< pair<int, int> > vp;\n        int dp[205];\n        int n; cin >> n; if (!n) break;\n        for (int i = 0; i < n; i++) {\n            int h, r; cin >> h >> r;\n            vp.push_back(pair<int, int>(h, r));\n        }\n        int m; cin >> m;\n        for (int i = 0; i < m; i++) {\n            int h, r; cin >> h >> r;\n            vp.push_back(pair<int, int>(h, r));\n        }\n        sort(vp.begin(), vp.end());\n        //REP(i,vp.size()){cout << vp[i].first <<\" \" << vp[i].second<< endl;}\n           int checkh = 0,checkr = 0;\n        answer = 0;\n        REP(i, m+n)\n        {\n            //dp???i?????????????????????????´???§??????????????????\n            if(!i)\n                answer++;\n            else\n                if(vp[i].first > checkr && vp[i].second >checkh)\n                {\n                    checkr = vp[i].first;\n                    checkh = vp[i].second;\n                    answer++;\n                }\n            \n            \n        }\n        cout << answer << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<vector>\n#include<list>\n#include<algorithm>\n#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nint f(int r[],int t[],int s[],int d[],int n,int c,int m){\n  int i;\n  int l=m;\n  if(d[c]<m){\n    d[c]=m;\n    for(i=c+1;i<n;i++){\n      if(r[i]<r[c]&&t[i]<t[c])\n\tl=max(l,f(r,t,s,d,n,i,m+1));\n    }\n    return l;\n  }else\n    return 0;\n}  \nint main(){\n  int h,i;\n  int m,n,o,r[200],t[200],s[200],d[200];\n  for(;;){\n    cin>>m;\n    if(m==0)\n      break;\n    for(i=0;i<m;i++){\n      cin>>t[i]>>r[i];\n      s[i]=r[i]*r[i]*t[i];\n    }\n    cin>>n;\n    for(;i<m+n;i++){\n      cin>>t[i]>>r[i];\n      s[i]=r[i]*r[i]*t[i];\n    }\n    do{\n      h=0;\n      for(i=1;i<m+n;i++){\n\tif(s[i-1]<s[i]){\n\t  swap(s[i-1],s[i]);\n\t  swap(t[i-1],t[i]);\n\t  swap(r[i-1],r[i]);\n\t  h=1;\n\t}\n      }\n    }while(h);\n    o=0;\n    memset(d,0,sizeof(d));\n    for(i=0;i<m+n;i++)\n      o=max(o,f(r,t,s,d,m+n,i,1));\n    cout<<o<<endl;\n  }\n  return 0;\n}\n    \n      "
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int> P;\nint N,M,T;\nP H[311];\nint dp[311];\n\nint solve(int id){\n  if( dp[id] != -1 ) return dp[id];\n  if( id == 0 ) return 0;\n  int res = 0;\n  for(int i=0;i<id;i++){\n    if( H[id].first > H[i].first && H[id].second > H[i].second )\n      res = max( res, solve(i) + 1 );\n  }\n  return dp[id] = res;\n}\n\nint main(){\n\n  while( cin >> N && N ){\n    memset(dp,-1,sizeof(dp));\n    for(int i=0;i<N;i++) cin >> H[i].first >> H[i].second;\n    cin >> M;\n    for(int i=0;i<M;i++) cin >> H[i+N].first >> H[i+N].second;\n    \n    sort(H,H+N+M);\n    H[N+M] = P(100000,100000);\n    cout << solve(N+M) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n#define REP(i,n) for(int i=0;i<n;i++)\n#define PP(m) REP(i, m.size()) cout << m[i] << endl;\n\n\nstruct Ma {\n  int h,r;\n\n  bool operator<( const Ma& right ) const {\n    return h == right.h ? r < right.r : h < right.h;\n  }\n};\n\nint main() {\n  int n, m;\n  while (cin >> n && n) {\n\n    vector<Ma> ich(n);\n    REP(i, n) cin >> ich[i].h >> ich[i].r;\n    cin >> m;\n    vector<Ma> jir(m);\n    REP(i, m) cin >> jir[i].h >> jir[i].r;\n\n    vector<Ma> mas(n+m);\n    REP(i, n) mas[i] = ich[i];\n    REP(i, m) mas[i+n] = jir[i];\n\n    sort(mas.begin(), mas.end());\n\n    vector<int> dp(n+m, 1);\n\n    int result = 0;\n    REP(i, n+m) {\n      REP(j, n+m) {\n        if (mas[i].h < mas[j].h && mas[i].r < mas[j].r) {\n          dp[j] = max(dp[j], dp[i]+1);\n        }\n        if (result < dp[j]) {\n          result = dp[j];\n        }\n      }\n    }\n\n    PP(dp);\n\n    cout << result << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\ntypedef vector<int> vi;\n\nint main(){\n\tint n[2],c[2];\n\twhile(cin>>n[0],n[0]){\n\t\tint t1,t2,p;\n\t\tvi h[2],r[2],mx[2];\n\t\trep(p,2){\n\t\t\trep(i,n[p]){\n\t\t\t\tcin>>t1>>t2;\n\t\t\t\th[p].push_back(t1);\n\t\t\t\tr[p].push_back(t2);\n\t\t\t\tmx[p].push_back(0);\n\t\t\t}\n\t\t\tif(!p)cin>>n[1];\n\t\t}\n\t\tmx[0][0]=(h[0][0]>h[1][0]&&r[0][0]>r[1][0])+1;\n\t\tmx[1][0]=(h[0][0]<h[1][0]&&r[0][0]<r[1][0])+1;\n\t\tc[0]=c[1]=p=0;\n\t\twhile(c[0]<n[0]||c[1]<n[1]){\n\t\t\tint tmax=0,f;\n\t\t\trep(k,2){\n\t\t\t\trep(i,n[k]){\n\t\t\t\t\tf=h[k][i]<h[p][c[p]]&&r[k][i]<r[p][c[p]];\n\t\t\t\t\tif(f&&tmax<mx[k][i])tmax=mx[k][i];\n\t\t\t\t\tif(f&&mx[k][i]==0){\n\t\t\t\t\t\tp^=1;\n\t\t\t\t\t\tgoto NEXT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmx[p][c[p]++]=tmax+1;\n\t\t\tNEXT:;\n\t\t}\n\t\tcout<<max(mx[0][n[0]-1],mx[1][n[1]-1])<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# define _CRT_SECURE_NO_WARNINGS\n# include <cstdio>\n# include <algorithm>\n\n#define MAX 100\n\nstruct doll{\n\tint high, r;\n\tdoll() {}\n\tdoll(int H, int R) : high(H), r(R) {}\n\tbool operator<(doll d){\n\t\treturn (high < d.high) ? true : (high == d.high) ? (r < d.r) ? true : false : false;\n\t}\n};\n\nint n, m;\n\ndoll K[MAX * 2];\nint dp[MAX * 2];\n\nint main(){\n\twhile (1){\n\t\tint h, r;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\t\tfor (int i = 0; i < n; ++i){\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tK[i].high = h; K[i].r = r;\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = n; i < m+n; ++i){\n\t\t\tscanf(\"%d %d\", &h, &r);\n\t\t\tK[i].high = h;\n\t\t\tK[i].r = r;\n\t\t}\n\t\tstd::sort(K + 1, K + 1 + n + m);\n\t\tmemset(dp, 0,n+m);\n\t\tfor (int i = 0; i < n + m; ++i){\n\t\t\tfor (int j = 0; j < n + m; ++j){\n\t\t\t\tif (K[j] < K[i])\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j] + 1);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", dp[n + m-1]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\twhile(true){\n\t\tP dool[201];//高さ　半径\n\t\tstd::cin>>ichiro;\n\t\tif(!ichiro){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<ichiro;i++){\n\t\t\tstd::cin>>dool[i].first>>dool[i].second;\n\t\t}\n\t\tstd::cin>>jiro;\n\t\tfor(int i=0;i<jiro;i++){\n\t\t\tstd::cin>>dool[i+ichiro].first>>dool[i+ichiro].second;\n\t\t}\n\t\tstd::sort(dool,dool+ichiro+jiro);\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\t\tfor(int i=1;i<ichiro+jiro;i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tdp[i]=std::max(dp[i],dp[j]+(dool[i].second>dool[j].second));\n\t\t\t}\n\t\t\tM=std::max(M,dp[i]);\n\t\t}\n\t\tstd::cout<<M<<std::endl;\n\t\tM=0;\n\t\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=0;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint dp[200];//iが一番外の最大値\nint h[200];\nint r[200];\nint m,n;\nint max(int a,int b){return a>b?a:b;}\nint dfs(int x){\n\tif(dp[x]!=-1)return dp[x];\n\tint i;\n\tint ans=1;\n\tfor(i=0;i<m+n;i++){\n\t\tif(h[i]<h[x]&&r[i]<r[x])ans=max(ans,dfs(i)+1);\n\t}\n\treturn dp[x]=ans;\n}\nint main(){\n\twhile(1){\n\tscanf(\"%d\",&m);\n\tif(m==0)return 0;\n\tint i;\n\tfor(i=0;i<m;i++)scanf(\"%d %d\",&h[i],&r[i]);\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++)scanf(\"%d %d\",&h[i+m],&r[i+m]);\n\tint ans=1;\n\tfor(i=0;i<m+n;i++)dp[i]=-1;\n\tfor(i=0;i<m+n;i++)ans=max(ans,dfs(i));\n\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <cstdio>\n#include <map>\nusing namespace std;\n\n#define loop(i,a,b) for(int i=(a);i<int(b);i++)\n#define rep(i,b) loop(i,0,b)\ntypedef pair<int,int> pii;\nint n,m;\npii a[222];\nint dp[222];\n\ninline bool le(pii const& t, pii const& u){\n    return t.first<u.first && t.second<u.second;\n}\n\nint solve(){\n    sort(a,a+n+m);\n    memset(dp,0,sizeof(dp));\n    dp[0]=1;\n    for(int i=1;i<n+m;i++){\n        for(int j=0;j<i;j++){\n            if(le(a[j],a[i])){\n                dp[i]=max(dp[i],dp[j]+1);\n            }\n        }\n    }\n    int ans=1;\n    for(int i=0;i<n+m;i++){\n        ans=max(ans,dp[i]);\n    }\n    return ans;\n}\n\nint main(){\n    while(cin>>n && n){\n        rep(i,n)cin>>a[i].first>>a[i].second;\n        cin>>m;\n        rep(i,m)cin>>a[i+n].first>>a[i+n].second;\n        cout << solve() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\nint dp[200] = {0};\nint h[200] , r[200];\nint n,m;\n\nint main(){\n\twhile(cin >> n , n){\n\t\trep(i,n)cin >> h[i] >> r[i];\n\t\tcin >> m;\n\t\trep(i,m)cin >> h[n+i] >> r[n+i];\n\t\tint ans = 0;\n\t\trep(i,200)dp[i] = 1;\n\t\trep(i,200)rep(j,200){\n\t\t\tif(h[j] < h[i] && r[j] < r[i]){\n\t\t\t\tdp[i] = max(dp[j]+1,dp[i])\n\t\t\t}\n\t\t}\n\t\tcout << *max_element(dp,dp+n+m) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <utility>\nusing namespace std;\n\npair<int,int> D[220];\n\nint N, M, h, r;\n\nint main() {\n\n\twhile ( cin >> N && N ) {\n\n\t\tfor ( int i = 0; i < N; i++) {\n\n\t\t\tcin >> h >> r;\n\t\t\tD[i] = make_pair(h, r);\n\n\t\t}\n\n\t\tcin >> M;\n\n\t\tfor ( int i = 0; i < M; i++) {\n\n\t\t\tcin >> h >> r;\n\t\t\tD[N+i] = make_pair(h, r);\n\n\t\t}\n\n\t\tsort(D,D+N+M);\n\n\t\tint A[200];\n\t\t\n\t\tA[0] = 0;\n\n\t\tfor ( int i = 0; i < N + M; i++) {\n\n\t\t\tint maxaj = 0;\n\t\t\t\n\t\t\tfor ( int j = 0; D[j].first < D[i].first; j++ ) {\n\t\t\t\n\t\t\t\tif ( D[j].second < D[i].second ) {\n\t\t\t\t\n\t\t\t\t\tmaxaj = max( maxaj, A[j] );\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tA[i] = 1 + maxaj;\n\n\t\t}\n\t\t\n\t\tint maxai = 0;\n\n\t\tfor ( int i = 0; i < N + M; i++) {\n\t\t\t\n\t\t\tmaxai = max( maxai, A[i] );\n\t\t\t\t\n\t\t}\n\t\t\n\t\tcout << maxai << endl;\n\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\n\ntypedef struct DOLL\n{\n\tint h, r;\n\t\n\tbool operator > (const DOLL& d) const\n\t{\n\t\treturn (h > d.h && r > d.r);\n\t}\n\t\n\tbool operator < (const DOLL& d) const\n\t{\n\t\treturn (h < d.h && r < d.r);\n\t}\n} D;\n\ntypedef struct Node\n{\n\tD d;\n\tint num;\n};\n\nconst int MAX = 100;\n\nint n, m;\nD A[MAX];\nD B[MAX];\n\nvoid solve()\n{\n\tqueue<Node> q;\n\tint max =0;\n\tNode n1 = {A[0], 1};\n\tNode n2 = {B[0], 1};\n\tq.push(n1);\n\tq.push(n2);\n\twhile(!q.empty())\n\t{\n\t\tNode current = q.front();\n\t\tq.pop();\n\t\t\n\t\tif(max < current.num)\n\t\t{\n\t\t\tmax = current.num;\n\t\t}\n\t\t\n\t\tfor(int i=0; i<n; i++)\n\t\t{\n\t\t\tif(current.d < A[i])\n\t\t\t{\n\t\t\t\tNode new_node = {A[i], current.num+1};\n\t\t\t\tq.push(new_node);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i=0; i<m; i++)\n\t\t{\n\t\t\tif(current.d < B[i])\n\t\t\t{\n\t\t\t\tNode new_node = {B[i], current.num+1};\n\t\t\t\tq.push(new_node);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout << max << endl;\n}\n\nint main(int argc, char** argv)\n{\n\tint h, r;\n\t\n\twhile(cin >> n, n)\n\t{\n\t\tfor(int i=0; i<n; i++)\n\t\t{\n\t\t\tcin >> A[i].h >> A[i].r;\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\tfor(int i=0; i<m; i++)\n\t\t{\n\t\t\tcin >> B[i].h >> B[i].r;\n\t\t}\n\t\t\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    int b=1;\n\n    for(i=1;i<1001;i++)\n      for(j=b;j<1001;j++){\n\tdp[i][j]=dp[i-1][j]+doll[i][j];\n\tif(doll[i][j]){\n\t  for(int k=j+1;k<1001;k++)\n\t    dp[i][k]=dp[i][j];\n\t  b=j+1;\n\t  break;\n\t}\n      }\n\n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,a) FOR(i,0,a)\n\nconst int MAX_N=100,MAX_M=100,INF=1e8;\n\nstruct P{\n\tint h,r;\n\tP(){};\n\tP(int h,int r):h(h),r(r){};\n\tbool operator < (const P &a)const{\n\t\tif (h!=a.h){\n\t\t\treturn h<a.h;\n\t\t}\n\t\treturn r>a.r;\n\t}\n};\n\nint N,M;\nP pa[MAX_N+MAX_M];\n\nint dp[MAX_N+MAX_M+1];\n\nint main(){\n\tdo{\n\t\tscanf(\"%d\",&N);\n\t\tif (N){\n\t\t\tint h,r;\n\t\t\tREP(i,N){\n\t\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\t\tpa[i]=P(h,r);\n\t\t\t}\n\t\t\tscanf(\"%d\",&M);\n\t\t\tREP(i,M){\n\t\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\t\tpa[N+i]=P(h,r);\n\t\t\t}\n\t\t\tsort(pa,pa+N+M);\n\t\t\tfill(dp,dp+N+M+1,INF);\n\t\t\tREP(i,N+M){\n\t\t\t\tint ra=pa[i].r;\n\t\t\t\t*lower_bound(dp,dp+N+M+1,ra)=ra;\n\t\t\t}\n\t\t\tprintf(\"%d\\n\",(int)(lower_bound(dp,dp+N+M+1,INF)-dp));\n\t\t}\n\t}while (N);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> PII;\ntypedef complex<double> P;\nstatic const double EPS = 1e-8;\nstatic const int INF = (int)1e8;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) for (int i=0; i<(int)(n); ++i)\n#define FOREQ(i,k,n) for (int i=(k); i<=(int)(n); ++i)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FIND(m,w) ((m).find(w)!=(m).end())\nmap<PII,int> memo;\nint dfs(int h,int r,int n,vector<PII>& ich,vector<PII>& ji){\n  if(memo.find(PII(h,r))!=memo.end()){\n    int m = memo[PII(h,r)];\n    if(m>=n) return m;\n  }\n  memo[PII(h,r)] = n;\n  int ret=n;\n  REP(i,ich.size()){\n    if(ich[i].first<h&&ich[i].second<r){\n      ret = max(ret,dfs(ich[i].first,ich[i].second,n+1,ich,ji));\n      break;\n    }\n  }\n  REP(i,ji.size()){\n    if(ji[i].first<h&&ji[i].second<r){\n      ret = max(ret,dfs(ji[i].first,ji[i].second,n+1,ich,ji));\n      break;\n    }\n  }\n  return ret;\n}\nint main(void){\n  int n,m;\n  while(cin>>n,n){\n    memo.clear();\n    vector<PII> ich;\n    vector<PII> ji;\n    REP(i,n){\n      int h,r;\n      cin>>h>>r;\n      ich.push_back(PII(h,r));\n    } \n    cin>>m;\n    REP(i,m){\n      int h,r;\n      cin>>h>>r;\n      ji.push_back(PII(h,r));\n    }\n    reverse(ich.begin(),ich.end());\n    reverse(ji.begin(),ji.end());\n    cout<<dfs(INF,INF,0,ich,ji)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF 999999999\n\nint main(){\n    int n,m;\n    bool data[1000][1000]={};\n    \n    while(cin>>n&&n){\n        rep(i,1000)rep(j,1000)data[i][j]=false;\n        rep(i,n){\n            int a,b;\n            cin>>a>>b;\n            data[a][b]=true;\n        }\n        cin>>m;\n        rep(i,m){\n            int a,b;\n            cin>>a>>b;\n            data[a][b]=true;\n        }\n        \n        \n        int dp[1002][1002];\n        rep(i,1002)rep(j,1002)dp[i][j]=0;\n        \n        \n        int maxi = 0;\n        for(int i=999;i>=0;i--){\n            for(int j=999;j>=0;j--){\n                dp[i][j] = max({dp[i][j+1],dp[i+1][j],dp[i+1][j+1]+data[i][j],dp[i][j]});\n                //            cout<<dp[i][j]<<endl;\n                maxi = max(maxi,dp[i][j]);\n            }\n        }\n        cout<<maxi<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n  \n  int N;\n  while(cin >> N && N) {\n    \n    vector<pair<int, int> > v1, v2;\n    \n    for(int i=0; i<N; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n    }\n\n    int M; cin >> M;\n    \n    for(int i=0; i<M; i++) {\n      int h, r; cin >> h >> r;\n      v1.push_back(make_pair(h, r));\n    }\n    \n    sort(v1.begin(), v1.end());\n    \n    int size = N+M;\n    int dp1[size];\n    int ans = 1;\n    for(int i=0; i<size; i++) {\n      dp1[i] = 1;\n      for(int j=0; j<i; j++)\n        if(v1[i].first > v1[j].first &&\n           v1[i].second > v1[j].second) { dp1[i] = max(dp1[i], dp1[j]+1); }\n      ans = max(ans, dp1[i]);\n    }\n    \n    cout << ans << endl;\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,m,h,r;\n\tvector<P> mat;\n\tvector<int> l;\n\twhile(cin >> n,n){\n\t\tfor(int i = 0;i < n;i++) {\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tcin >> m;\n\t\tfor(int i = n;i < n + m;i++){\n\t\t\tcin >> h >> r;\n\t\t\tmat.push_back(P(h,r));\n\t\t}\n\t\tsort(mat.begin(),mat.end());\n\t\tfor(int i = n + m - 1;i > 0;i--){\n\t\t\tif(mat[i].first == mat[i - 1].first) mat.erase(mat.begin() + i);\n\t\t}\n\t\tfor(int i = 0;i < mat.size();i++){\n\t\t\tif(l.empty()) l.push_back(mat[i].second);\n\t\t\telse{\n\t\t\t\tif(l.back() < mat[i].second) l.push_back(mat[i].second);\n\t\t\t\telse l[lower_bound(l.begin(),l.end(),mat[i].second) - l.begin()] = mat[i].second;\n\t\t\t}\n\t\t}\n\t\tcout << l.size() << endl;\n\t\tl.clear();\n\t\tmat.clear();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n\nusing namespace std;\n\nint main(){/*main*/\n  int i,j,k,n,h[201],hn2,hen,r[201],m,hn,count,ans[201],min,max;\n  \n  while(1)\n    {/*while*/\n      max=0;\n      hen=0;\n      count=0;\n      h[0]=-1;\n      r[0]=-1;\n      for(i=0;i<201;i++)\n\t{\n\t  ans[i]=0;\n\t}\n      ans[0]=0;\n      \n      cin >> n ;\n      if(n==0)break;\n      for(i=1;i<=n;i++)\n\t{\n\t  cin >> h[i] >> r[i];\n\t}\n      \n      cin >> m;\n      for(i=n+1;i<=(m+n);i++)\n\t{\n\t  cin >> h[i] >> r[i];\n\t}\n      \n      /*\n\tfor(i=1;i<(n+m);i++)\n\t{\n\tprintf(\"TES_h%d %d  TES_r%d %d\\n\",i,h[i],i,r[i]);\n\t}\n      */\n      \n      \n      \n      for(i=1;i<=(m+n);i++)\n\t{/*for1*/\n\t  min=i;\n\t  for(j=i;j<=(m+n);j++)\n\t    {/*for2*/\n\t      if(h[j]<h[min])\n\t\t{\n\t\t  min=j;\n\t\t}\n\t    }/*E_for2*/\n\t  hn=h[min];\n\t  h[min]=h[i];\n\t  h[i]=hn;\n\t  \n\t  hn2=r[min];\n\t  r[min]=r[i];\n\t  r[i]=hn2;\n\t}/*E_for1*/\n      \n      /*\n      for(i=1;i<=(n+m);i++)\n\t{\n\t  printf(\"TES_h[%d] %d  TES_r[%d] %d\\n\",i,h[i],i,r[i]);\n\t}\n      */\n\n      /*   for(i=1;i<=(m+n);i++)\n\t   {\n\t   if(h[i]>h[i-1] && r[i]>r[i-1])\n\t   {\n\t   count+=1;\n\t   ans[i]=1;\n\t   }\n\t   else\n\t   {\n\t   ans[i-1]=0;\n\t   for(j=1;j<=i;j++)\n\t   {\n\t   if((h[i]>h[j] && r[i]>r[j]) && ans[j]==0 &&(h[i]!=h[i-1] && r[i]!=r[i-1]))\n\t   {\n\t   hen++;\n            }\n\t    \n\t    }\n\t    if(hen>0)count++;\n\t    }\n      */\n      \n      \n       for(i=1;i<=(m+n);i++)\n\t {\n\t   k=0;\n\t   for(j=1;j<i;j++)\n\t     {\n\t       if(r[i]>r[j] && i>k && ans[j]>ans[k])\n\t\t {\n\t\t   k=j;\n\t\t }\n\t       // cout << \"TES_max\"<< max << endl;\n\t     }\n\t   ans[i]=ans[k]+1;\n\t }\n       \n       max=-1;\n       for(i=1; i<=n+m; i++)\n\t {\n\t   if(max<ans[i])\n\t     {\n\t       max=ans[i];\n\t     }\n\t }\n       \n       cout << max << endl;\n       \n       \n    }/*E_while*/\n  return 0;\n}/*E_main*/"
  },
  {
    "language": "C++",
    "code": "// AOJ 0157\n#include<iostream>\n#include<map>\n#include<vector>\n#include<string>\n#include<sstream>\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\nusing namespace std;\ntypedef pair<int,int> P;\n\nconst int NMAX = 150;\n\nvector<P> ichiro, jiro;\nint n, m;\nint idp[NMAX], jdp[NMAX];\nint index[NMAX], jndex[NMAX];\n\nvoid init() {\n  REP(i, NMAX) {\n    idp[i] = jdp[i] = 0;\n    index[i] = jndex[i] = 0;\n  }\n  jiro.clear();\n  ichiro.clear();\n\n  jiro.push_back(make_pair(0,0));\n  ichiro.push_back(make_pair(0,0));\n}\n\nstring str(P p) {\n  stringstream ss;\n  ss << \"(\" << p.first << \",\" << p.second << \")\";\n  return ss.str();\n}\n\nbool bigger(P big, P small) {\n//  cout << str(big) << \" \" << str(small) << endl;\n  return (big.first > small.first and big.second > small.second);\n}\n\nint lowerb(P mine, vector<P> his) {\n  int len = his.size();\n  for (int i = 1; i < len; i++) {\n    bool f = bigger(mine,his[i]);\n//    cout << (f ? \"true\" : \"false\") << endl;\n    if (not f) {\n//      cout << i - 1 << endl;\n      return i - 1;\n    }\n  }\n//  cout << len - 1 << endl;\n  return len - 1;\n}\n\nint rec(int i, int* mine, int* his) {\n//  cout << \"rec(\" << i << \",\" << mine << \",\" << his << \")\" << endl;\n  if (i < 0) throw 1;\n  if (i == 0) {\n    return 0;\n  } else {\n    return 1 + max(rec(i - 1, mine, his), rec(mine[i], his, mine));\n  }\n}\n\nint solve() {\n  for (int i = 1; i <= n; i++) {\n    index[i] = lowerb(ichiro[i], jiro);\n  }\n\n  for (int j = 1; j <= m; j++) {\n    jndex[j] = lowerb(jiro[j], ichiro);\n  }\n\n/*  REP(i, n + 1) {\n    cout << index[i] << \" \";\n  }cout << endl;\n  REP(i, m + 1) {\n    cout << jndex[i] << \" \";\n  }cout << endl;*/\n\n  return max(rec(n, index, jndex), rec(m, jndex, index));\n}\n\nint main() {\n  while (cin >> n and n) {\n    init();\n    REP(i, n) {\n      int h, r;\n      cin >> h >> r;\n      ichiro.push_back(make_pair(h, r));\n    }\n\n    cin >> m;\n    REP(i, m) {\n      int h, r;\n      cin >> h >> r;\n      jiro.push_back(make_pair(h, r));\n    }\n\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cstring>\n#include<cstdlib>\nusing namespace std;\nstruct doll{\n    int r;\n    int h;\n};\nvector<doll> dolls;\nint hen[1010][1010];\nint dollnum;\nint solve(int n)\n{\n    int ans = 0;\n    int temp=0;\n    for(int i=0;i<dollnum;i++)\n    {\n        if(hen[n][i]==1) {temp = solve(i)+1; ans = max(temp,ans);}\n    }\n\n    return ans;\n}\nint main()\n{\n    int n,m;\n    while(cin>>n)\n    {\n        dolls.clear();\n        memset(hen,0,sizeof(hen));\n        if(n==0)break;\n        doll temp;\n        temp.h=0;temp.r=0;\n        dolls.push_back(temp);\n        for(int i=0;i<n;i++)\n        {\n            cin>>temp.h>>temp.r;\n            dolls.push_back(temp);\n        }\n        cin>>m;\n        for(int i=0;i<m;i++)\n        {\n            cin>>temp.h>>temp.r;\n            dolls.push_back(temp);\n        }\n        dollnum = dolls.size();\n        for(int i=0;i<dollnum-1;i++)\n        {\n            for(int j=0;j<dollnum;j++)\n            {\n                if(dolls[i].h<dolls[j].h && dolls[i].r<dolls[j].r){hen[i][j] =1;}\n                if(dolls[i].h>dolls[j].h && dolls[i].r>dolls[j].r){hen[j][i] =1;}\n            }\n        }\n        cout << solve(0)<< endl;\n    }\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      vector<pair<int,int> >data;\n      for(int i=0;i<n;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t}\n      int m;\n      cin>>m;\n      for(int i=0;i<m;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t}\n      sort(data.begin(),data.end());\n      /*      for(int i=0;i<data.size();i++)\n\tcout<<\"<\"<<data[i].first<<\",\"<<data[i].second<<\"> \";\n\tcout<<endl;\n      */\n      int ans=1;\n      for(int j=data.size()-1;j>=0;j--)\n\t{\n\t  int tmp=1;\n\t  pair<int,int >last=data[j];\n\t  for(int i=j-1;i>=0;i--)\n\t    {\n\t      // cout<<\"<\"<<last.first<<\",\"<<last.second<<\"> \"<<endl;\n\t      if(last.first>data[i].first &&\n\t\t last.second>data[i].second\n\t\t )\n\t\t{\n\t\t  tmp++;\n\t\t  last=data[i];\n\t\t}\n\t    }\n\t  if(tmp>ans)\n\t    ans=tmp;\n\t}\n      cout<<ans<<endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<stdio.h>\nusing namespace std;\npair<int,int> dat[1000];\nint dp[1000];\nint main(){\n\tint a;\n\twhile(scanf(\"%d\",&a),a){\n\t\tfor(int i=0;i<1000;i++)dp[i]=0;\n\t\tint n=0;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint b,c;\n\t\t\tscanf(\"%d%d\",&b,&c);\n\t\t\tdat[n++]=make_pair(b,c);\n\t\t}\n\t\tscanf(\"%d\",&a);\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint b,c;\n\t\t\tscanf(\"%d%d\",&b,&c);\n\t\t\tdat[n++]=make_pair(b,c);\n\t\t}\n\t\tstd::sort(dat,dat+n);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tdp[i]=1;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(dat[j].first<dat[i].first&&dat[j].second<dat[i].second)dp[i]=max(dp[i],dp[j]+1);\n\t\t\t}\n\t\t}\n\t\tint ret=0;\n\t\tfor(int i=0;i<n;i++)ret=max(ret,dp[i]);printf(\"%d\\n\",ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FOR(i,a,b) for(int i= (a); i<((int)b); ++i)\n#define RFOR(i,a) for(int i=(a); i >= 0; --i)\n#define FOE(i,a) for(auto i : a)\n#define ALL(c) (c).begin(), (c).end()\n#define RALL(c) (c).rbegin(), (c).rend()\n#define DUMP(x)  cerr << #x << \" = \" << (x) << endl;\n#define SUM(x) std::accumulate(ALL(x), 0LL)\n#define MIN(v) *std::min_element(v.begin(), v.end())\n#define MAX(v) *std::max_element(v.begin(), v.end())\n#define EXIST(v,x) (std::find(v.begin(), v.end(), x) != v.end())\n#define BIT(n) (1LL<<(n))\n#define UNIQUE(v) v.erase(unique(v.begin(), v.end()), v.end());\n\ntypedef long long LL;\ntemplate<typename T> using V = std::vector<T>;\ntemplate<typename T> using VV = std::vector<std::vector<T>>;\ntemplate<typename T> using VVV = std::vector<std::vector<std::vector<T>>>;\n\ntemplate<class T> inline T ceil(T a, T b) { return (a + b - 1) / b; }\ntemplate<class T> inline void print(T x) { std::cout << x << std::endl; }\ntemplate<class T> inline void print_vec(const std::vector<T> &v) { for (int i = 0; i < v.size(); ++i) {  if (i != 0) {std::cout << \" \";} std::cout << v[i];} std::cout << \"\\n\"; }\ntemplate<class T> inline bool inside(T y, T x, T H, T W) {return 0 <= y and y < H and 0 <= x and x < W; }\ntemplate<class T> inline double euclidean_distance(T y1, T x1, T y2, T x2) { return sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)); }\ntemplate<class T> inline double manhattan_distance(T y1, T x1, T y2, T x2) { return abs(x1 - x2) + abs(y1 - y2); }\n\nconst int INF = 1L << 30;\nconst double EPS = 1e-9;\nconst std::string YES = \"YES\", Yes = \"Yes\", NO = \"NO\", No = \"No\";\nconst std::vector<int> dy4 = { 0, 1, 0, -1 }, dx4 = { 1, 0, -1, 0 };    // 4近傍（右, 下, 左, 上）\nconst std::vector<int> dy8 = { 0, -1, 0, 1, 1, -1, -1, 1 }, dx8 = { 1, 0, -1, 0, 1, 1, -1, -1 };\n\nusing namespace std;\n\nint main() {\n    cin.tie(0);\n\tios::sync_with_stdio(false);\n\n\twhile (true) {\n\t    int N , M;\n\t    cin >> N;\n\t    if (N == 0) {\n\t        break;\n\t    }\n\t    vector<pair<int, int>> m;\n\t    FOR(i, 0, N) {\n\t        int h, r;\n\t        cin >> h >> r;\n\t        m.emplace_back(make_pair(h, r));\n\t    }\n\t    cin >> M;\n        FOR(i, 0, M) {\n            int h, r;\n            cin >> h >> r;\n            m.emplace_back(make_pair(h, r));\n        }\n\n        vector<vector<int>> dp(1001, vector<int>(1001, -1));\n        dp[0][0] = 0;\n\n        FOR(j, 0, dp.size()) {\n            FOR(k, 0, dp[0].size()) {\n                if (dp[j][k] == -1) {\n                    continue;\n                }\n                FOR(i, 0, m.size()) {\n                    int h = m[i].first;\n                    int r = m[i].second;\n\n                    if (j < h and k < r) {\n                        dp[h][r] = max(dp[h][r], dp[j][k] + 1);\n                    }\n                }\n            }\n        }\n\n        int ans = 0;\n        FOR(j, 0, dp.size()) {\n            FOR(k, 0, dp[0].size()) {\n                ans = max(ans, dp[j][k]);\n            }\n        }\n\n        print(ans);\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000\nusing namespace std;\nint r[N],h[N];\n\nint syori(int,int);\nvoid sort(int,int);\n\nint main(){\n  int n1,n2,i,ans;\n  \n  while(1){\n  \n    for(i=1;i<=N;i++){\n      r[i]=0;\n      h[i]=0;\n    }\n\n\n    r[0]=-1;\n    h[0]=-1;\n    \n    cin >> n1; \n    if(n1==0)break;\n    \n    for(i=1;i<=n1;i++){    // 1ツつゥツづァツづ債つカツづ淞づ?つ「ツづゥツ篠鳴づ可陳債暗?\n      cin >> h[i] >> r[i];\n    }\n    \n    cin >> n2;\n    \n    for(i=n1+1;i<=n1+n2;i++){ // ツ１ツつゥツづァツづ債つカツづ淞づ?つ「ツづゥツ篠鳴づ可陳債暗?\n      cin >> h[i] >> r[i];\n    }\n    \n    sort(n1,n2);\n\n    ans=syori(n1,n2);\n    \n    cout << ans << endl;\n  }\n  \n  \n}\n\nvoid sort(int n1,int n2){\n  int i,j,max,rr;\n\n  for(i=1;i<=(n1+n2);i++){\n    for(j=1;j<=(n1+n2);j++){\n      if(h[j] > h[i]){\n\t\n\trr=h[i];\n\th[i]=h[j];\n\th[j]=rr;\n\t\n\trr=r[i];\n\tr[i]=r[j];\n\tr[j]=rr;\n\t\n\t\n      }\n    }\n    \n    \n  }\n  \n}\n\n\n\nint syori(int n1,int n2){\n  int ANS[N],i,j; //ANS[N]ツづ債陳キツつウツづーツ陳イツづ猟づゥツ配ツ療ア \n  int max=0,res=0;\n  \n  for(i=0;i<N;i++){\n    ANS[i]=0;\n   \n  }\n \n  \n  for(i=1;i<=(n1+n2);i++){\n    max=0;\n    //  cout <<endl<< \"h[\"<<i<<\"]--\"<<h[i]<<endl;     \n    // cout << \"r[\"<<i<<\"]--\"<<r[i]<<endl;\n    // cout << \"ANS[\"<<i<<\"]--\"<<ANS[i]<<endl;\n   \n\n\n    for(j=0;j<i;j++){\n      if(h[j]<h[i] && r[j]<r[i] && ANS[j]>ANS[max]){\n\tmax=j;    \n      }\n    \n    }\n ANS[i]=ANS[max]+1;\n       \n  }\n\n  //  for(i=1;i<=(n1+n2);i++){\n  //  cout << \"ANS[\" << i << \"]--\" << ANS[i]<< endl;\n  // }\n\n\n  for(i=1;i<=(n1+n2);i++){\n      if(res<=ANS[i]){\n\tres=ANS[i];\n    }\n  }\n  return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\nusing ll = long long;\n// #define int ll\nusing PII = pair<int, int>;\n \n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n \ntemplate<typename T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<typename T> T &chmax(T &a, const T &b) { return a = max(a, b); }\ntemplate<typename T> bool IN(T a, T b, T x) { return a<=x&&x<b; }\ntemplate<typename T> T ceil(T a, T b) { return a/b + !!(a%b); }\n \ntemplate<typename T> vector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts) { \n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type\nfill_v(T &t, const V &v) { t=v; }\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type\nfill_v(T &t, const V &v ) { for(auto &e:t) fill_v(e,v); }\n \ntemplate<class S,class T>\nostream &operator <<(ostream& out,const pair<S,T>& a){\n  out<<'('<<a.first<<','<<a.second<<')'; return out;\n}\ntemplate<typename T>\nistream& operator >> (istream& is, vector<T>& vec){\n  for(T& x: vec) {is >> x;} return is;\n}\ntemplate<class T>\nostream &operator <<(ostream& out,const vector<T>& a){\n  out<<'['; for(T i: a) {out<<i<<',';} out<<']'; return out;\n}\n \nint dx[] = {0, 1, 0, -1}, dy[] = {1, 0, -1, 0}; // DRUL\nconst int INF = 1<<30;\nconst ll LLINF = 1LL<<60;\nll MOD = 1000000007;\n\ntemplate <typename T>\nclass BIT {\nprivate:\n  // データ\n  vector<T> bit;\n  // 単位元, 要素数\n  int neutral = 0;\n  // 更新クエリ, 区間クエリ\n  function<T(T,T)> f = [](const T l, const T r) -> T { return max(l, r); },\n                   g = [](const T l, const T r) -> T { return max(l, r); };\npublic:\n  // 初期化\n  BIT(int n_ = 1e5) { init(n_); }\n  void init(int n_ = 1e5) { bit.assign(n_+1, neutral); }\n  // iに対する点更新クエリ\n  void update(int i, T w) {\n    for(int x = i+1; x < bit.size(); x += x&-x) bit[x] = f(bit[x], w);\n  }\n  // [0,i]に対する区間クエリ\n  T query(int i) {\n    T ret = neutral;\n    for(int x = i+1; x > 0; x -= x & -x) ret = g(ret, bit[x]);\n    return ret;\n  }\n};\n\nsigned main(void)\n{\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(1) {\n    ll n;\n    cin >> n;\n    if(!n) break;\n    vector<PII> v(n);\n    REP(i, n) cin >> v[i].first >> v[i].second;\n    ll m;\n    cin >> m;\n    REP(i, m) {\n      ll h, r;\n      cin >> h >> r;\n      v.push_back({h, r});\n    }\n\n    sort(ALL(v), [](PII l, PII r){\n      if(l.first != r.first) return l.first < r.first;\n      return l.second > r.second;\n    });\n\n    ll ret = 0;\n    BIT<ll> bit(1001);\n    REP(i, n+m) {\n      ll tmp = bit.query(v[i].second-1) + 1;\n      bit.update(v[i].second-1, tmp);\n      chmax(ret, tmp);\n    }\n    cout << ret << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#define max(a,b) ((a)>(b) ? (a) : (b))\n\nmain(){\n    int n,m,N;\n    int i,j;\n    int h,r;\n    int map[1000][1000]={{0,},};\n    while(scanf(\"%d\",&n)==1){\n        for(i=0;i<1000;i++)\n            for(j=0;j<1000;j++)\n                map[i][j]=0;\n        if(!n)break;\n        for(i=0;i<n;i++){\n            scanf(\"%d %d\",&h,&r);\n            map[h][r]=1;\n        }\n        scanf(\"%d\",&m);\n        for(;i<n+m;i++){\n            scanf(\"%d %d\",&h,&r);\n            map[h][r]=1;\n        }\n        for(i=1;i<1000;i++){\n            for(j=1;j<1000;j++){\n                map[i][j]=map[i][j]+max(map[i-1][j],map[i][j-1]);\n            }\n        }\n        printf(\"%d\\n\",map[999][999]-1);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<cstring>\n\ntypedef std::pair<int, int> P;\n\nP data[202];\nint dp[202];\n\nint main(){\n\n\tint n, m;\n\twhile (std::cin >> n, n){\n\n\t\tmemset(data, 0, sizeof(data));\n\t\tmemset(dp, 0, sizeof(dp));\n\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tstd::cin >> data[i].first >> data[i].second;\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 1; i <= m; i++){\n\t\t\tstd::cin >> data[i + n].first >> data[i + n].second;\n\t\t}\n\n\t\tstd::sort(data, data + 1 + n + m);\n\n\t\tfor (int i = 1; i <= n + m; i++){\n\t\t\tfor (int j = 0; j < i; j++){\n\t\t\t\tif (data[i].first > data[j].first&&data[i].second > data[j].second){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint max = 0;\n\t\tfor (int i = 0; i <= n + m; i++){\n\t\t\tif (dp[i] > max)max = dp[i];\n\t\t}\n\t\tstd::cout << max << std::endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst int INF = numeric_limits<int>::max() / 2;\nconst int NEG_INF = numeric_limits<int>::min() / 2;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n,m;\n  while(true){\n      cin>>n;\n      if(n==0) break;\n      std::vector<P> v;\n      for(int i=0;i<n;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      cin>>m;\n      for(int i=0;i<m;i++){\n          int h,r;cin>>h>>r;\n          v.push_back(P(h,r));\n      }\n      v.push_back(P(0,0));\n      sort(v.begin(),v.end());\n      ll dp[n+m+1]={};\n      for(int i=1;i<=n+m;i++){\n          for(int j=0;j<i;j++){\n              int h1=v[i].first,r1=v[i].second,h2=v[j].first,r2=v[j].second;\n              if(h2<h1&&r2<r1){\n                  dp[i]=max(dp[i],dp[j]+1);\n              }\n          }\n      }\n      ll res=-1;\n      for(int i=1;i<=n+m;i++)res=max(res,dp[i]);\n          cout<<res<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tP dolls[200];\n\tint n,m;\n\twhile(cin >> n,n){\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tcin >> m;\n\t\tfor(int i=n;i<n+m;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tsort(dolls,dolls+n+m);\n\t\tint cou=0,cx=0,cy=0;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tif(cx<dolls[i].F&&cy<dolls[i].S)\n\t\t\t\tcx=dolls[i].F,cy=dolls[i].S,cou++;\n\t\tcout << cou<< endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\n\nclass doll;\n\n\nint n, m;\nvector<doll> d;\nvector<int> dp = { 0 };\n\n\nclass doll{\npublic:\n\tint h;\n\tint r;\n\tdoll(int h, int r) : h(h), r(r){}\n\tint operator[](char member){\n\t\tif (member == 'h') return h;\n\t\telse if(member == 'r') return r;\n\t\telse return -1;\n\t}\n};\n\n\nint solve(char member){\n\tdp[0] = d[0][member];\n\tfor (int i = 1; i < d.size(); i++){\n\t\tif (dp.back() < d[i][member]){\n\t\t\tdp.push_back(d[i][member]);\n\t\t}\n\t\telse{\n\t\t\t*lower_bound(dp.begin(), dp.end(), d[i][member]) = d[i][member];\n\t\t}\n\t}\n\treturn dp.size();\n}\n\n\ntemplate<typename T>\nvoid clear(vector<T>& v){\n\tvector<T> emp;\n\tswap(v, emp);\n}\n\n\nint main(){\n\twhile (cin >> n, n != 0){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\t\tcin >> m;\n\t\tif (m == 0) return 0;\n\t\tfor (int i = 0; i < m; i++){\n\t\t\tint h, r;\n\t\t\tcin >> h >> r;\n\t\t\td.push_back({ h, r });\n\t\t}\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.h < d2.h);\n\t\t});\n\n\t\tint ans = solve('r');\n\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\n\t\tsort(d.begin(), d.end(), [](doll& d1, doll& d2){\n\t\t\treturn (d1.r < d2.r);\n\t\t});\n\n\t\tans = max(ans, solve('h'));\n\n\t\tcout << ans << endl;\n\n\t\tclear(d);\n\t\tclear(dp);\n\t\tdp.push_back(0);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Solution for aoj:0157 Russian Dolls\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int, int>P;\nconst int INF = 1 << 29;\nint n, m, p;\npair<int, int> doll[201];\nint dp[2][201], dp2[201];\nint main(){\n\twhile (cin >> n){\n\t\tif (!n)\n\t\t\treturn 0;\n\t\tfill(dp[0], dp[0] + 201, INF);\n\t\tfill(dp[1], dp[1] + 201, INF);\n\t\tfill(dp2, dp2 + 201, INF);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tcin >> m;\n\t\tfor (int i = n; i < n + m; i++){\n\t\t\tint a, b;\n\t\t\tcin >> a >> b;\n\t\t\tdoll[i].first = a;\n\t\t\tdoll[i].second = b;\n\t\t}\n\t\tsort(doll, doll + n + m);\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tp = lower_bound(dp[0], dp[0] + n + m, doll[i].first) - dp[0];\n\t\t\tif (dp[1][p] > doll[i].second){\n\t\t\t\tdp[0][p] = doll[i].first;\n\t\t\t\tdp[1][p] = doll[i].second;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n + m; i++){\n\t\t\tif (dp[1][i] == INF) break;\n\t\t\t*lower_bound(dp2, dp2 + n + m, dp[1][i]) = dp[1][i];\n\t\t}\n\t\tcout << lower_bound(dp2, dp2 + n + m, INF) - dp2 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int,int> MAT;\n#define h first\n#define r second\n#define rep(i,n) for(int i=0;i<n;i++)\nint dp[1000][1000];\nMAT info[200];\nint n,m;\n\nint dfs(int a,int b){\n\tif(~dp[a][b])return dp[a][b];\n\t\n\tint hoge = 0;\n\trep(i,n){\n\t\tif(info[i].first < a && info[i].second < b){\n\t\t\thoge = max(hoge, dfs(info[i].first,info[i].second)+1);\n\t\t}\n\t}\n\treturn dp[a][b] = hoge;\n}\nint main(){\n\twhile(cin >> n , n ){\n\t\trep(i,1000)rep(j,1000)dp[i][j] = -1;\n\t\t\n\t\tint ret = 0;\n\t\trep(i,n)cin >> info[i].h >> info[i].r;\n\t\tcin >> m;\n\t\trep(i,m)cin >> info[n+i].h >> info[n+i].r;\n\t\t\n\t\tn = n + m;\n\t\t\n\t\trep(i,n){\n\t\t\tret = max(ret, dfs(info[i].first , info[i].second)+1);\n\t\t}\n\t\tcout << ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint N, M, h[200], r[200];\n\nint main() {\n    while (true) {\n        cin >> N;\n        if (N == 0) break;\n        for (int j = 0; j < N; ++j) {\n            cin >> h[j] >> r[j];\n        }\n        cin >> M;\n        for (int j = 0; j < M; ++j) {\n            cin >> h[j+N] >> r[j+N];\n        }\n\n        int arr[1001][1001];\n        for (int j = 0; j <= 200; ++j) fill(arr[j], arr[j] + 201, 0);\n\n        for (int j = 0; j < N+M; ++j) {\n            arr[h[j]][r[j]] = 1;\n        }\n\n        int dp[1001][1001];\n        for (int j = 0; j <= 200; ++j) fill(dp[j], dp[j] + 201, 0);\n\n        for (int j = 0; j <= 200; ++j) {\n            for (int k = 0; k <= 200; ++k) {\n                if (j > 0 && k > 0) {\n                    dp[j][k] = max(dp[j-1][k-1] + arr[j][k], max(dp[j-1][k], dp[j][k-1]));\n                } else if (j > 0) {\n                    dp[j][k] = dp[j-1][k];\n                } else if (k > 0) {\n                    dp[j][k] = dp[j][k-1];\n                }\n            }\n        }\n\n        cout << dp[200][200] << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000\nusing namespace std;\nint r[N],h[N];\n\nint syori(int,int);\nvoid sort(int,int);\n\nint main(){\n  int n1,n2,i,ans;\n  \n  while(1){\n  \n    for(i=1;i<=N;i++){\n      r[i]=0;\n      h[i]=0;\n    }\n\n\n    r[0]=-1;\n    h[0]=-1;\n    \n    cin >> n1; \n    if(n1==0)break;\n    \n    for(i=1;i<=n1;i++){    // 1©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n    \n    cin >> n2;\n    \n    for(i=n1+1;i<=n1+n2;i++){ // P©çÍ¶ßÄ¢éÉÓ\n      cin >> h[i] >> r[i];\n    }\n    \n    sort(n1,n2);\n\n    ans=syori(n1,n2);\n    \n    cout << ans << endl;\n  }\n  \n  \n}\n\nvoid sort(int n1,int n2){\n  int i,j,max,rr;\n\n  for(i=1;i<=(n1+n2);i++){\n    for(j=1;j<=(n1+n2);j++){\n      if(h[j] > h[i]){\n\t\n\trr=h[i];\n\th[i]=h[j];\n\th[j]=rr;\n\t\n\trr=r[i];\n\tr[i]=r[j];\n\tr[j]=rr;\n\t\n\t\n      }\n    }\n    \n    \n  }\n  \n}\n\n\n\nint syori(int n1,int n2){\n  int ANS[N],i,j; //ANS[N]Í·³ð²×ézñ \n  int max=0,res=0;\n  \n  for(i=0;i<N;i++){\n    ANS[i]=0;\n   \n  }\n \n  \n  for(i=1;i<=(n1+n2);i++){\n    max=0;\n    //  cout <<endl<< \"h[\"<<i<<\"]--\"<<h[i]<<endl;     \n    // cout << \"r[\"<<i<<\"]--\"<<r[i]<<endl;\n    // cout << \"ANS[\"<<i<<\"]--\"<<ANS[i]<<endl;\n   \n\n\n    for(j=0;j<i;j++){\n      if(h[j]<h[i] && r[j]<r[i] && ANS[j]>ANS[max]){\n\tmax=j;    \n      }\n    \n    }\n ANS[i]=ANS[max]+1;\n       \n  }\n\n  //  for(i=1;i<=(n1+n2);i++){\n  //  cout << \"ANS[\" << i << \"]--\" << ANS[i]<< endl;\n  // }\n\n\n  for(i=1;i<=(n1+n2);i++){\n      if(res<=ANS[i]){\n\tres=ANS[i];\n    }\n  }\n  return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r > d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) /*|| (v[i].h > v[j].h && v[i].r > v[j].r)*/ ){\n                    table[i][j] = 1;\n                    //table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 1;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <cstdio>\n#include <map>\nusing namespace std;\n\n#define loop(i,a,b) for(int i=(a);i<int(b);i++)\n#define rep(i,b) loop(i,0,b)\ntypedef pair<int,int> pii;\nint n,m;\npii a[222];\nint dp[222];\n\ninline bool le(pii const& t, pii const& u){\n    return t.first<u.first && t.second<u.second;\n}\n\nint solve(){\n    sort(a,a+n+m);\n    dp[0]=1;\n    for(int i=1;i<n+m;i++){\n        for(int j=0;j<i;j++){\n            if(le(a[j],a[i])){\n                dp[i]=max(dp[i],dp[j]+1);\n            }\n        }\n    }\n    int ans=1;\n    for(int i=0;i<n+m;i++){\n        ans=max(ans,dp[i]);\n    }\n    return ans;\n}\n\nint main(){\n    while(cin>>n && n){\n        rep(i,n)cin>>a[i].first>>a[i].second;\n        cin>>m;\n        rep(i,m)cin>>a[i+n].first>>a[i+n].second;\n        cout << solve() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\nusing namespace std;\nint n, m, dp[200]; pair<int, int> a[200];\nint main() {\n\twhile(true) {\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++) scanf(\"%d%d\", &a[i].first, &a[i].second);\n\t\tscanf(\"%d\", &m);\n\t\tfor(int i = 0; i < m; i++) scanf(\"%d%d\", &a[n + i].first, &a[n + i].second);\n\t\tsort(a, a + n + m);\n\t\tint ret = 0;\n\t\tfor(int i = 0; i < n + m; i++) dp[i] = -1;\n\t\tfor(int i = 0; i < n + m; i++) {\n\t\t\tbool flag = false;\n\t\t\tfor(int j = 0; j < ret; j++) {\n\t\t\t\tif(dp[j] >= a[i].second) {\n\t\t\t\t\tdp[j] = a[i].second; flag = true; break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!flag) {\n\t\t\t\tdp[ret] = a[i].second, ret++;\n\t\t\t\tint ptr = i;\n\t\t\t\twhile(a[ptr].first == a[i].first) i++; i--;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint N,M;\nint dp[222];\nmain()\n{\n\twhile(cin>>N,N)\n\t{\n\t\tvector<pair<int,int> >A;\n\t\tfor(int i=0;i<N;i++)\n\t\t{\n\t\t\tint a,b;cin>>a>>b;\n\t\t\tA.push_back(make_pair(a,-b));\n\t\t}\n\t\tcin>>M;\n\t\tfor(int i=0;i<M;i++)\n\t\t{\n\t\t\tint a,b;cin>>a>>b;\n\t\t\tA.push_back(make_pair(a,-b));\n\t\t}\n\t\tsort(A.begin(),A.end());\n\t\tfor(int i=1;i<=N+M+4;i++)dp[i]=1e9;\n\t\tfor(pair<int,int>p:A)\n\t\t{\n\t\t\tint r=-p.second;\n\t\t\tint L=0,R=N+M+1;\n\t\t\twhile(R-L>1)\n\t\t\t{\n\t\t\t\tint X=L+R>>1;\n\t\t\t\tif(dp[X]<r)L=X;\n\t\t\t\telse R=X;\n\t\t\t}\n\t\t\tdp[R]=r;\n\t\t}\n\t\tint ans=0;\n\t\twhile(dp[ans+1]<1e9)ans++;\n\t\tcout<<ans<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define iota(i,n,b,s) for(int i=int(b);i!=int((b)+(s)*(n));i+=(s))\n#define range(i,n,m) iota(i,(((n)>(m))?((n)-(m)):((m)-(n))),(n),((n)>(m)?-1:1))\n#define rep(i,n) iota(i,(n),0,1)\n#define loop for(;;)\n\n#define INF (1e9)\n#define EPS (1e-9)\n#define cons(a,b) (make_pair(a,b))\n#define car(a) (a.first)\n#define cdr(a) (a.second)\n#define cadr(a) (car(cdr(a)))\n#define cddr(a) (cdr(cdr(a)))\n#define all(a) a.begin(), a.end()\n#define trace(var) cerr<<\">>> \"<<#var<<\" = \"<<var<<endl;\n\ntypedef long long Integer;\ntypedef double Real;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef map<string,int> Dictionary;\nconst Real PI = acos(-1);\n\ntemplate<class S, class T>\nostream& operator<<(ostream& os, pair<S,T> p) {\n  os << '(' << car(p) << \", \" << cdr(p) << ')';\n  return os;\n}\n\ntemplate<class T>\nostream& operator<<(ostream& os, vector<T> v) {\n  if (v.size() == 0) {\n    os << \"(empty)\";\n    return os;\n  }\n  os << v[0];\n  for (int i=1, len=v.size(); i<len; ++i) os << ' ' << v[i];\n  return os;\n}\n\nint dx[] = { -1, 0, 1, 0 };\nint dy[] = {  0, -1, 0, 1 };\n\nint main() {\n\nmore:\n\n  vector<int> hs;\n  vector<int> rs;\n\n  {\n    int n; cin >> n;\n    if (!n) return 0;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  {\n    int n; cin >> n;\n    rep (_, n) {\n      int h, r; cin >> h >> r;\n      hs.push_back(h);\n      rs.push_back(r);\n    }\n  }\n\n  const int N = hs.size();\n  vector<vector<int>> d(N);\n\n  rep (i, N) {\n    rep (j, N) {\n      if ((hs[i] < hs[j] && rs[i] < rs[j])) {\n        d[i].push_back(j);\n      }\n    }\n  }\n\n  int ans = 0;\n  vector<bool>used(N, false);\n  rep (i, N) {\n    if (used[i]) continue;\n    stack<pair<int,int>> s;\n    s.push(cons(i, 1));\n    while (!s.empty()) {\n      auto t = s.top(); s.pop();\n      used[car(t)] = true;\n      //for (int j : d[car(t)]) {\n      //  s.push(cons(j, cdr(t) + 1));\n      //}\n      ans = max(ans, cdr(t));\n    }\n  }\n  cout << ans << endl;\n\n  goto more;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nstruct Doll{\n  int h, r;\n};\n\nint lis(Doll d1[], Doll d2[], int n, int m) {\n  int size = n+m*(n+1)+1;\n  int L[size];\n  Doll A[size];\n  int p = 1;\n  A[0].h = A[0].r = 0;\n  for(int i = 0; i <= n; i++) {\n    for(int j = 0; j < m; j++) {\n      A[p++] = d2[j];\n    }\n    if(i == n) break;\n    A[p++] = d1[i];\n  }\n  for(int i = 0; i < size; i++) {\n    L[i] = 0;\n  }\n\n  for(int i = 1; i < size; i++) {\n    for(int j = 0; j < i; j++) {\n      if(A[j].h < A[i].h && A[j].r < A[i].r && L[j]+1 > L[i]) {\n\tL[i] = L[j] + 1;\n      }\n    }\n  }\n\n  int ans = 0;\n  for(int i = 0; i < size; i++) {\n    if(L[i] > ans) ans = L[i];\n  }\n  return ans;\n}\n\nint main() {\n  while(1) {\n    int n, m;\n\n    cin >> n;\n    if(n == 0) break;\n    Doll d1[n];\n    for(int i = 0; i < n; i++) cin >> d1[i].h >> d1[i].r;\n\n    cin >> m;\n    Doll d2[m];\n    for(int i = 0; i < m; i++) cin >> d2[i].h >> d2[i].r;\n\n    cout << lis(d1, d2, n, m) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <fstream>\n\nstruct MT {\npublic:\n\tint w;\n\tint h;\n};\n\nint max(int a, int b) {\n\treturn a > b ? a : b;\n}\n\nint main() {\n\tstd::ifstream ifs(\"input.txt\");\n\tdo {\n\t\tint n, m;\n\t\tstd::cin >> n;\n\t\tstd::vector<MT> mtA;\n\t\tif (n == 0) break;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint w, h;\n\t\t\tstd::cin >> w;\n\t\t\tstd::cin >> h;\n\t\t\tMT m;\n\t\t\tm.w = w;\n\t\t\tm.h = h;\n\t\t\tmtA.push_back(m);\n\t\t}\n\n\t\tstd::cin >> m;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tint w, h;\n\t\t\tstd::cin >> w;\n\t\t\tstd::cin >> h;\n\t\t\tMT m;\n\t\t\tm.w = w;\n\t\t\tm.h = h;\n\t\t\tmtA.push_back(m);\n\t\t}\n\n\t\tstd::sort(mtA.begin(), mtA.end(), [](const MT& lhs, const MT& rhs){return lhs.w < rhs.w; });\n\n\t\t/*\n\t\tstd::cout << \"testtest\" << std::endl;\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\tstd::cout << mtA[i].w << std::endl;\n\t\t}\n\t\tstd::cout << \"endtest\" << std::endl;\n\t\t*/\n\n\t\tstd::vector<int> paths(n + m);\n\t\tint minw = mtA[0].w;\n\t\tint mini;\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\tif (mtA[i].w == minw) {\n\t\t\t\tpaths[i] = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmini = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (int i = mini; i < n + m; i++) {\n\t\t\tfor (int j = 0; mtA[j].w != mtA[i].w; j++) {\n\t\t\t\tif (mtA[j].h < mtA[i].h) {\n\t\t\t\t\tpaths[i] = max(paths[i], paths[j] + 1);\n\t\t\t\t\t//std::cout << \"i:\" << i << \"j:\" << j << \" paths[i]:\" << paths[i] << \" paths[j]:\" << paths[j] << std::endl;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint maxpath = 0;\n\t\tfor (int i = 0; i < n + m ; i++ ) {\n\t\t\tmaxpath = max(maxpath, paths[i]);\n\t\t}\n\t\tstd::cout << maxpath << std::endl;\n\n\t} while (1);\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#include<set>\n#include<complex>\n#include<map>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define ll long long int\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\n#define ld long double\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define CC puts(\"-------ok--------\");\n#define all(in) in.begin(), in.end()\nusing namespace std;\ntypedef pair<int, int> pii;\n#define MAX 99999999\nint main(){\n    int n;\n    while(cin>>n,n){\n        vvi d(1040,vi(1040,0));\n        vvi dp(1040,vi(1040,0));\n        rep(i,n){\n            pii temp; cin>>temp.first>>temp.second;\n            d[temp.first][temp.second]++;\n        }\n        int m;\n        cin>>m;\n        rep(i,m){\n            pii temp;\n            cin>>temp.first>>temp.second;\n            d[temp.first][temp.second]++;\n        }\n        loop(i,1,1001){\n            loop(j,1,1001){\n                dp[i][j]=max(max(dp[i-1][j],dp[i][j-1]),dp[i-1][j-1]+d[i][j]);\n        \n            }\n        }\n        cout<<dp[999][999]<<endl;\n    }\n    \n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n,m;\n  int h[200],r[200],dp[200];\n\n  while(1){\n    cin >> n;\n    if(!n)break;\n\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n\n    cin >> m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++)\n      for(int j=i+1;j<n+m;j++)\n\tif(h[i]>h[j] || (h[i]==h[j] && r[i]>r[j])){\n\t  swap(h[i],h[j]);\n\t  swap(r[i],r[j]);\n\t}\n   \n    int ans = 0;\n    for(int i=1;i<n+m;i++)dp[i] = 1;\n    dp[0] = 1;\n    for(int i=1;i<n+m;i++){\n      for(int j=0;j<i;j++)\n\tif(h[i]>h[j] && r[i]>r[j])dp[i] = max(dp[i],dp[j]+1);\n      ans = max(ans,dp[i]);\n    }\n    \n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int, int> doll;\n\nint main()\n{\n\tint n, m, i, j;\n\tvector<doll> vc;\n\tint dp[200];\n\t\n\tvc.reserve(200);\n\t\n\twhile( cin >> n, n)\n\t{\n\t\tvc.clear();\n\t\tmemset( dp, 0, sizeof(dp));\n\t\t\n\t\tfor( i = 0; i < n; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tcin >> m;\n\t\t\n\t\tfor( i = 0; i < m; i++)\n\t\t{\n\t\t\tdoll d;\n\t\t\tcin >> d.first >> d.second;\n\t\t\tvc.push_back(d);\n\t\t}\n\t\t\n\t\tstd::sort(vc.begin(), vc.end());\n\t\t\n\n\t\t\n\t\tdp[0] = 1;\n\t\tdoll surface(vc[0].first, vc[0].second);\n\n\t\tfor( i = 1; i < n+m; i++)\n\t\t{\n\t\t\tif( surface.first < vc[i].first && surface.second < vc[i].second )\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1] + 1;\n\t\t\t\tsurface.first = vc[i].first;\n\t\t\t\tsurface.second = vc[i].second;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tcout << dp[n+m-1] << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\n#include<algorithm>\nusing namespace std;\n\ntypedef pair<int,int> PI;\n\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    priority_queue<PI , vector<PI> , greater<PI> > Q;\n    int m;\n    \n    for(int i=0;i<n;i++){\n      int h,r;\n      cin >> h >> r;\n      Q.push( make_pair(h,r));\n    }\n    cin >> m;\n    for(int i=0;i<m;i++){\n      int h,r;\n      cin >> h >>r;\n      Q.push( make_pair(h,r));\n    }\n    int a[m+n][2];//a[i][0] Height a[i][1] radius\n    for(int i=0;i<m+n;i++){\n      a[i][0]=Q.top().first;\n      a[i][1]=Q.top().second;\n      Q.pop();\n    }\n\n    int res[m+n][m+n];\n    for(int i=0;i<m+n;i++){\n      for(int j=0;j<m+n;j++){\n        res[i][j]=0;\n      }\n      res[i][i]=1;\n    }\n    \n    \n    \n    for(int i=0;i<m+n;i++){\n      int ma =1;\n      for(int j=0;j <= i;j++){\n        if ( a[i][0] > a[j][0] && a[i][1] > a[j][1]){\n          res[i][j]=res[j][j]+1;\n          ma = max(res[i][j],ma);\n        }else {\n          /*\n            if ( j>0 && i > 0)res[i][j]=max(res[i][j-1],res[i-1][j]);\n            else if (i == 0 && j > 0)res[i][j]=res[i][j-1];\n            else if (j == 0 && i>0)res[i][j]=res[i-1][j];\n          */\n          if ( j>0)res[i][j]=max(res[i][j-1],ma);\n          \n        }\n      }\n    }\n\n    /*\n    for(int i=0;i<m+n;i++){\n      for(int j=0;j<m+n;j++)cout << res[i][j]<<\"  \";\n      cout << endl;\n    }\n    */\n    \n    int max=0;\n    for(int i=0;i<m+n;i++){\n      if (res[i][i] > max)max = res[i][i];\n    }\n\n    cout << max << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define forever for (;;)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\ntemplate<typename A> using V = std::vector<A>;\ntemplate<typename A> using F = std::function<A>;\ntemplate<typename A, typename B> using P = std::pair<A, B>;\nusing pii = P<int, int>;\nusing vi = V<int>;\nusing vd = V<double>;\nusing vs = V<std::string>;\nusing vpii = V<pii>;\nusing vvi = V<vi>;\nusing vvpii = V<vpii>;\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.14159265358979;\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nconstexpr bool odd(const int n) { return n & 1; }\nconstexpr bool even(const int n) { return ~n & 1; }\ntemplate<typename T> std::istream &operator>>(std::istream &is, std::vector<T> &v) { for (T &x : v) is >> x; return is; }\ntemplate<typename A, typename B> std::istream &operator>>(std::istream &is, std::pair<A, B> &p) { is >> p.first; is >> p.second; return is; }\nusing namespace std;\n// clang-format on\n\ntemplate<typename Monoid> class SegTree {\n  using T = typename Monoid::value_type;\n\n  Monoid m;\n  std::vector<T> tree; // 1-indexed\n  int size = 1;\n\n  void propTo(int i) { tree[i] = m(tree[i * 2], tree[i * 2 + 1]); }\n\npublic:\n  SegTree(const int n = 0) {\n    while (size < n) size *= 2;\n    tree.assign(size * 2, m.id());\n  }\n\n  template<typename InputIterator> SegTree(InputIterator first, InputIterator last) {\n    int n = std::distance(first, last);\n    while (size < n) size *= 2;\n    tree.resize(size * 2, m.id());\n    std::copy(first, last, tree.begin() + size);\n    for (int i = size - 1; i >= 1; i--) propTo(i);\n  }\n\n  T fold(int l, int r) { // [l, r)\n    T accl = m.id(), accr = m.id();\n    for (l += size, r += size; l < r; l /= 2, r /= 2) {\n      if (l & 1) accl = m(accl, tree[l++]);\n      if (r & 1) accr = m(tree[--r], accr);\n    }\n    return m(accl, accr);\n  }\n\n  void update(int i, const T &x) {\n    tree[i += size] = x;\n    while (i /= 2) propTo(i);\n  }\n\n  const T &operator[](int i) const { return tree[i + size]; }\n};\n\ntemplate<typename T, T lowerInf = std::numeric_limits<T>::min()> struct maxMonoid {\n  using value_type = T;\n  constexpr value_type id() { return lowerInf; }\n  constexpr value_type operator()(const value_type &a, const value_type &b) { return a < b ? b : a; }\n};\n\nmain {\n  int n;\n  while (cin >> n, n) {\n    vpii v(n);\n    cin >> v;\n    int m;\n    cin >> m;\n    {\n      vpii w(m);\n      cin >> w;\n      v.reserve(n + m);\n      for (auto &x : w) v.push_back(move(x));\n    }\n    sort(all(v), [](auto &a, auto &b) {\n      if (a.first != b.first) return a.first < b.first;\n      return a.second > b.second;\n    });\n    SegTree<maxMonoid<int, 0>> t(1000);\n    for (auto &p : v) {\n      int &r = p.second;\n      t.update(r, t.fold(0, r) + 1);\n    }\n    cout << t.fold(0, 1000) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <string>\n#include <cmath>\n#include <stack>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <list>\n#include <iostream>\n#include <sstream>\n#include <climits>\n#include <cfloat>\n#include <complex>\n\n\ntypedef long long ll;\nconst double Eps = 1e-4;\n\nusing namespace std;\n\nint main()\n{\n\tint n[2];\n\tint h[2][100];\n\tint r[2][100];\n\n\twhile (scanf(\"%d\", n), *n)\n\t{\n\t\tfor (int i = 1; i <= n[0]; ++i)\n\t\t\tscanf(\"%d %d\", h[0]+i, r[0]+i);\n\t\tscanf(\"%d\", n+1);\n\t\tfor (int i = 1; i <= n[1]; ++i)\n\t\t\tscanf(\"%d %d\", h[1]+i, r[1]+i);\n\t\th[0][0] = h[1][0] = r[0][0] = r[1][0] = 0;\n\t\th[0][n[0]+1] = h[1][n[1]+1] = r[0][n[0]+1] = r[1][n[1]+1] = 10000;\n\n\t\tint ans = 0;\n\t\tfor (int w = 0; w < 2; ++w)\n\t\t{\n\t\t\tint* ha = h[w];\n\t\t\tint* hb = h[(w+1)%2];\n\t\t\tint* ra = r[w];\n\t\t\tint* rb = r[(w+1)%2];\n\n\t\t\tint sum = n[w];\n\t\t\tint j = 1;\n\t\t\tfor (int i = 0; i < n[w]+1 && j <= n[w]; ++i)\n\t\t\t{\n\t\t\t\twhile (hb[j] < ha[i] || rb[j] < ra[i])\n\t\t\t\t\t++j;\n\t\t\t\twhile (ha[i] < hb[j] && hb[j] < ha[i+1]\n\t\t\t\t\t&& ra[i] < rb[j] && rb[j] < ra[i+1])\n\t\t\t\t\t{\n\t\t\t\t\t\t++sum;\n\t\t\t\t\t\t++j;\n\t\t\t\t\t}\n\t\t\t}\n\t\t\tif (sum > ans)\n\t\t\t\tans = sum;\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(void){\n\tP dolls[200];\n\tP dolls1[200];\n\tint n,m;\n\twhile(cin >> n,n){\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tcin >> m;\n\t\tfor(int i=n;i<n+m;i++)\n\t\t\tcin >> dolls[i].F >> dolls[i].S;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tdolls1[i].F=dolls[i].S,dolls1[i].S=dolls[i].F;\n\t\tsort(dolls,dolls+n+m);\n\t\tsort(dolls1,dolls1+n+m);\n\t\tint coux=0,couy=0,cx=0,cy=0;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tif(cx<dolls[i].F&&cy<dolls[i].S)\n\t\t\t\tcx=dolls[i].F,cy=dolls[i].S,coux++;\n\t\tcx=0,cy=0;\n\t\tfor(int i=0;i<n+m;i++)\n\t\t\tif(cx>dolls1[i].F&&cy>dolls1[i].S)\n\t\t\t\tcx=dolls1[i].F,cy=dolls1[i].S,couy++;\n\t\tcout << max(coux,couy) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      vector<pair<int,int> > data;\n      vector<pair<int,int> > sw;\n      for(int i=0;i<n;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t  sw.push_back(make_pair(r,h));\n\t}\n      int m;\n      cin>>m;\n      for(int i=0;i<m;i++)\n\t{\n\t  int h,r;\n\t  cin>>h>>r;\n\t  data.push_back(make_pair(h,r));\n\t  sw.push_back(make_pair(r,h));\n\t}\n      sort(data.begin(),data.end(),greater<pair<int,int> >());\n      sort(sw.begin(),sw.end(),greater<pair<int,int> >());\n\n      pair<int,int> tmp[2]={data[0],sw[0]};\n      int k[2]={1,1};\n      for(int i=1;i<data.size();i++)\n\t{\n\t  if(tmp[0].first>data[i].first &&tmp[0].second>data[i].second)\n\t    {\n\t      k[0]++;\n\t      tmp[0]=data[i];\n\t    }\n\t  if(tmp[1].first>sw[i].first &&tmp[1].second>sw[i].second)\n\t    {\n\t      k[1]++;\n\t      tmp[1]=sw[i];\n\t    }\n\t}\n      cout<<max(k[0],k[1])<<endl;\n\t/*\n\t  cout<<endl;\n\t  for(int i=0;i<data.size();i++)\n\t  cout<<data[i].first<<\" \"<<data[i].second<<endl;\n\t*/\n\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(void){\n  int n,m,h[201],r[201];\n\n  while(cin >> n,n){\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >>m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(h[i]>h[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(r[i]>r[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n\n    int dp[201]={0};\n    dp[0]=1;\n    for(int i=0;i<n+m-1;i++){\n      for(int j=i+1;j<n+m;j++){\n\tif(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n      }\n    }\n    int res=0;\n    for(int i=0;i<n+m;i++)res=max(res,dp[i]);\n    cout << res << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint n, m;\nint d[200][2], dp[200];\n\nint main(){\n    for(;;){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            int maax = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]){\n                        if(d[j][1] < d[i][1]){\n                            a = dp[j];\n                        }\n                    }\n                }\n                dp[i] += a;\n                if(maax <= dp[i]){\n                    maax = dp[i];\n                }\n            }\n            cout << maax << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>P;\nint main(){\n\tfor(int n;cin>>n,n;){\n\t\tvector<P>V;\n\t\tfor(int a,b;n--;){\n\t\t\tcin>>a>>b;\n\t\t\tV.push_back(P(a,b));\n\t\t}\n\t\tcin>>n;\n\t\tfor(int a,b;n--;){\n\t\t\tcin>>a>>b;\n\t\t\tV.push_back(P(a,b));\n\t\t}\n\t\tV.push_back(P(0,0));\n\t\tsort(V.begin(),V.end());\n\t\tint dp[201]={0};\n\t\tint ans=0;\n\t\t\n\t\tfor(int i=0;i<V.size();i++){\n\t\t\tans = max(ans,dp[i]);\n\t\t\tfor(int j=i+1;j<V.size();j++){\n\t\t\t\tif(V[i].first<V[j].first && V[i].second<V[j].second){\n\t\t\t\t\tdp[j] = max(dp[i]+1,dp[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\t\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<cmath>\n#include<utility>\n#define ll long long int\n#define ld long double\n#define INF 1000000000\n#define EPS 0.0000000001\n#define rep(i,n) for(i=0;i<n;i++)\nusing namespace std;\ntypedef pair<int, int> P;\n\nstring str;\n\nint main()\n{\n  int n,m;\n  int i,j;\n  int h,r;\n\n  while(1){\n\n    int doll[1005][1005]={};\n    int dp[1005][1005]={};\n\n    scanf(\"%d\",&n);\n    if(n==0)break;\n    rep(i,n){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    scanf(\"%d\",&m);\n    rep(i,m){\n      scanf(\"%d %d\",&h,&r);\n      doll[h][r]=1;\n    }\n\n    rep(i,1003) rep(j,1003){\n      if(i>0 && j>0){\n\tdp[i][j]=max(dp[i-1][j],dp[i][j-1])+doll[i][j];\n\tif(doll[i][j]){\n\t  for(int k=j+1;k<1003;k++)\n\t    dp[i][k]=dp[i][j];\n\t  break;\n\t}\n      }\n    }\n\n    cout<<dp[1000][1000]<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define forever for (;;)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\ntemplate<typename A> using V = std::vector<A>;\ntemplate<typename A> using F = std::function<A>;\ntemplate<typename A, typename B> using P = std::pair<A, B>;\nusing pii = P<int, int>;\nusing vi = V<int>;\nusing vd = V<double>;\nusing vs = V<std::string>;\nusing vpii = V<pii>;\nusing vvi = V<vi>;\nusing vvpii = V<vpii>;\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.14159265358979;\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nconstexpr bool odd(const int &n) { return n & 1; }\nconstexpr bool even(const int &n) { return ~n & 1; }\ntemplate<typename T> std::istream &operator>>(std::istream &is, std::vector<T> &v) { for (T &x : v) is >> x; return is; }\ntemplate<typename A, typename B> std::istream &operator>>(std::istream &is, std::pair<A, B> &p) { is >> p.first; is >> p.second; return is; }\nusing namespace std;\n// clang-format on\n\nmain {\n  int n;\n  while (cin >> n, n) {\n    int p;\n    vpii v;\n    {\n      vpii a(n);\n      cin >> a;\n      int m;\n      cin >> m;\n      vpii b(m);\n      cin >> b;\n      p = n + m;\n      v.reserve(p);\n      for (auto &x : a) v.push_back(move(x));\n      for (auto &x : b) v.push_back(move(x));\n    }\n    sort(all(v), [](auto &a, auto &b) {\n      if (a.first != b.first) return a.first < b.first;\n      return a.second > b.second;\n    });\n    vi dp(p);\n    rep(i, p) {\n      int s = 0;\n      rep(j, i) if (v[j].second < v[i].second) cmax(s, dp[j]);\n      dp[i] = s + 1;\n    }\n    cout << *max_element(all(dp)) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r > d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        sort(v.begin(),v.end());\n\n        cout << endl;\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        int dp[1001] = {0};\n\n        for(int i=0;i<n+m;i++){\n            int dm = 0;\n            for(int j=0;j<v[i].r;j++){\n                dm = max(dm,dp[j]);\n            }\n            dp[v[i].r] = dm+1;\n        }\n\n        int ans = 0;\n\n        for(int i=0;i<1001;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000 \nusing namespace std;\nint h1[N],r1[N];\n\nvoid sort(int,int);\nint syori(int,int);\n\nint main(){/*main*/\n  int i,n1,n2,j,res;\n\n  for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n  while(1){\n\n    cin >> n1; // êQÌ}g[VJÌ\n    \n    if(n1 == 0)break;\n    \n    for(i=0;i<n1;i++){\n      cin >> h1[i] >> r1[i]; //(n1-1)ÜÅªêQ\n    }\n    \n    cin >> n2; //ñYÌ}g[VJÌ\n    \n    for(i=n1;i<(n1+n2);i++){\n      cin >> h1[i] >> r1[i]; //n1©ç(n1+n2-1)ÜÅªñY\n    }\n    \n    sort(n1,n2); // ¬³¢ÉÀÑÖ¦\n    \n    //  for(i=0;i<n1+n2;i++){\n    // cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n    // }\n    \n    res=syori(n1,n2);\n    \n    \n    \n    cout << res << endl;\n    res=0;\n    \n   for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n\n\n\n  }\n  \n}\n\n\nvoid sort(int n1,int n2){\n  int k,l,max,h;\n\n  for(k=0;k<(n1+n2);k++){\n    max=k;\n    for(l=k;l<(n1+n2);l++){\n      if(h1[l]<h1[max]){ max=l; }\n    }\n    h=h1[max];\n    h1[max]=h1[k];\n    h1[k]=h;\n    \n    h=r1[max];\n    r1[max]=r1[k];\n    r1[k]=h;\n    \n  }\n  \n  \n}\n\n\nint syori(int n1,int n2){\n  int q,i,H[N]/**/,Hcount=0,ans=0,I[N]/**/,HH[N]/**/,count=1/**/,kcount=0,korecount=0;\n  \n  \n  for(q=0;q<N-5;q++){  \n    H[q]=0;\n    I[q]=0;\n    HH[q]=0;\n  }\n  \n  //cout << \"test\" << endl;\n  \n\n\n\n  for(q=0;q<(n1+n2);q++){\n    \n    //  cout <<\"q--\"<< q << \" \" <<\"count--\" << count << endl; \n    //cout << \"korecount--\" << korecount <<endl;    \n     //      \n\n    if(h1[q-korecount]<h1[q+1] && r1[q-korecount]<r1[q+1]){\n      count++; \n      korecount=0;\n      \n    }  \n\n\n        \n\n    if((h1[q-korecount]==h1[q+1] || r1[q-korecount] == r1[q+1]) && HH[q+1]==0 ){\n      \n  korecount+=1; //2ñÈãÍ¢éº      \n  \n\n      if(korecount>=1){} \n      else{ count++; }\n      \n    \n \n H[q+1]=count-1;\n HH[q+1]=1;\n Hcount++;\n I[q+1]=q;\n // q+=1;\n    }\n\n    }\n    \n    //  cout << Hcount << endl;\n    \n    \n    if(q==(n1+n2-1) && Hcount!=0){\n      Hcount=0;\n      kcount=1;\n      \n      if(count>=ans)ans=count;\n      \n      // cout << \"ans--\" << ans << endl; \n      \n      for(i=0;i<(n1+n2);i++){\n\t\n\tif(HH[i]==1){\n\t  count=H[i];\n\t  H[i]=0;\n\t  HH[i]=0;\n\t  q=I[i];\n\t  break;\n\t}\n\t\n      }\n      \n      \n   \n    \n    \n    \n  }\n \n  if(kcount==0){ ans=count; } // kcountªOÌÆ«Í¾ÔèÈµ\n  else{ kcount=0; }           // ±ÌvOÅÍ¾ÔçÈ¢ÆansªÅÈ¢kokoayasii\n  \n  \n  \n  //    for(i=0;i<n1+n2;i++){\n  //  cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n  //  }\n  \n  \n  return ans;\n}\n\n//ðÔáÁÄ¢Ü¹ñ©H FE( while(i=5)  CR[ª«èÈ¢)"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\treturn (p1.first < p2.first && p1.second < p2.second);\n\t}\n};\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tint ans = 1;\n\t\tfor(int i=0;i<dolls.size();i++){\n\t\t\tfor(int j=i+1;j<dolls.size();j++){\n\t\t\t\tif(dolls[i].first < dolls[j].first\n\t\t\t\t\t&& dolls[i].second < dolls[j].second){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\ti=j-1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init));\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nstruct data{\n  ll h,r,s;\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n,m;\n  while(cin >> n && n){\n    vector<data> v,v2;\n    ll h,r;\n    rep(i,n){\n      cin >> h >> r;\n      v.push_back({h,r,h+r});\n    }\n    cin >> m;\n    rep(i,m){\n      cin >> h >> r;\n      v2.push_back({h,r,h+r});\n    }\n    ll ans = 0,tmp = 1,c=0,d=0;\n    h = 0,r = 0;\n    while(c < n || d < m){\n      if(v[c].h <= h || v[c].r <= r) ++c;\n      if(v2[d].h <= h || v2[d].r <= r) ++d;\n      if(c < n && d < m){\n        if(((v[c].h <= v2[d].h && v[c].r <= v2[d].r)||(v2[d].h <= h || v2[d].r <= r)) && v[c].h > h && v[c].r > r){\n          h = v[c].h;\n          r = v[c].r;\n          ++c;\n          ++ans;\n        }\n        else if(v2[d].h > h && v2[d].r > r){\n          h = v2[d].h;\n          r = v2[d].r;\n          ++d;\n          ++ans;\n        }\n        else{\n          ++c;\n          ++d;\n        }\n      }\n      else if(c >= n){\n        if(h < v2[d].h && r < v2[d].r){\n          h = v2[d].h;\n          r = v2[d].r;\n          ++ans;\n        }\n        ++d;\n      }\n      else if(d >= m){\n        if(h < v[c].h && r < v[c].r){\n          h = v[c].h;\n          r = v[c].r;\n          ++ans;\n        }\n        ++c;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nstruct DOLL{\n\tint h;\n\tint r;\n};\n\nint f(vector<DOLL> &d1, vector<DOLL> &d2, int h, int r)\n{\n\tint ans = 0;\n\tfor (DOLL &d : d1){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r)+1;\n\t\t\tif( a<ans ) break;\n\t\t\tans = a;\n\t\t}\n\t}\n\tfor (DOLL &d : d2){\n\t\tif (d.h>h && d.r>r){\n\t\t\tint a = f(d1, d2, d.h, d.r)+1;\n\t\t\tif( a<ans ) break;\n\t\t\tans = a;\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\n\twhile (true){\n\t\tvector<DOLL> d1;\n\t\tvector<DOLL> d2;\n\t\tint n,m;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td1.push_back(d);\n\t\t}\n\n\t\tcin >> m;\n\n\t\tfor (int i = 0; i<m; i++){\n\t\t\tDOLL d;\n\t\t\tcin >> d.h >> d.r;\n\t\t\td2.push_back(d);\n\t\t}\n\n\t\tint ans = f(d1, d2, 0, 0);\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing pii = pair<int, int>;\n\ntemplate <typename T>\nT lis(vector<T>& array, T INF = numeric_limits<T>::max() / 2) {\n  vector<T> dp(array.size(), INF);\n  for (T& i : array) {\n    *lower_bound(dp.begin(), dp.end(), i) = i;\n  }\n  return lower_bound(dp.begin(), dp.end(), INF) - dp.begin();\n}\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n  cout << fixed << setprecision(10);\n  \n  int n;\n  while (cin >> n, n) {\n    vector<pii> v;\n    for (int i = 0; i < n; i++) {\n      int h, r;\n      cin >> h >> r;\n      v.emplace_back(h, r);\n    }\n    int m;\n    cin >> m;\n    for (int i = 0; i < m; i++) {\n      int h, r;\n      cin >> h >> r;\n      v.emplace_back(h, r);\n    }\n    sort(v.begin(), v.end(), [&](pii a, pii b) {\n      return a.first != b.first ? a.first < b.first : a.second > b.second;\n    });\n    vector<int> a;\n    for (int i = 0; i < n + m; i++) {\n      a.emplace_back(v[i].second);\n    }\n    cout << lis<int>(a) << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define f first\n#define s second\n#define pb(a,b) push_back(make_pair(a,b))\n#define g(a,b) for(int i=a;i<b;i++)\n\nint m,n,x,y;\nvector<pair<int,int> >v;\nint dfs(int i,int x,int y){\n    if(i==v.size())return 0;\n    return max(dfs(i+1,x,y),(v[i].f>x&&v[i].s>y)?dfs(i+1,v[i].f,v[i].s)+1:0);\n}\nint main(){\n    while(cin>>n,n){\n        v.clear();\n        g(0,n){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        cin>>m;\n        g(0,m){\n            cin>>x>>y;\n            v.pb(x, y);\n        }\n        sort(v.begin(),v.end());\n        cout<<dfs(0,0,0)<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\n\nint main(){\n\tint n[2],c[2];\n\twhile(cin>>n[0],n[0]){\n\t\tint p;\n\t\tint h[2][110],r[2][110],mx[2][110];\n\t\trep(p,2){\n\t\t\trep(i,n[p])mx[p][i]=0,cin>>h[p][i]>>r[p][i];\n\t\t\tif(!p)cin>>n[1];\n\t\t}\n\t\tmx[0][0]=(h[0][0]>h[1][0]&&r[0][0]>r[1][0])+1;\n\t\tmx[1][0]=(h[0][0]<h[1][0]&&r[0][0]<r[1][0])+1;\n\t\tc[0]=c[1]=p=0;\n\t\twhile(c[0]<n[0]||c[1]<n[1]){\n\t\t\tint tmax=0,f;\n\t\t\trep(k,2){\n\t\t\t\trep(i,n[k]){\n\t\t\t\t\tf=h[k][i]<h[p][c[p]]&&r[k][i]<r[p][c[p]];\n\t\t\t\t\tif(f&&tmax<mx[k][i])tmax=mx[k][i];\n\t\t\t\t\tif(f&&mx[k][i]==0){\n\t\t\t\t\t\tp^=1;\n\t\t\t\t\t\tgoto NEXT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmx[p][c[p]++]=tmax+1;\n\t\t\tNEXT:;\n\t\t}\n\t\tcout<<max(mx[0][n[0]-1],mx[1][n[1]-1])<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct Doll{\n  int h,r;\n  Doll(int a,int b){h=a;r=b;};\n};\n\nint n;\nint h,r;\nint m;\nvector<Doll>doll;\nint memo[201]={0};\n\nbool comp(Doll a, Doll b){return a.h<b.h && a.r<b.r;};\n\nint rec(int id)\n{\n  if(memo[id]!=0)return memo[id];\n\n  int ans=0;\n  for(int i=0;i<n+m;i++){\n    if(comp(doll[i],doll[id]))ans=max(rec(i)+1,ans);\n  }\n\n  return memo[id]=ans;\n}\n\nint main()\n{\n  while(cin>>n,n){\n    doll.clear();\n    for(int i=0;i<200;i++)memo[i]=0;\n\n    for(int i=0;i<n;i++){\n      cin>>h>>r;\n      doll.push_back(Doll(h,r));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>h>>r;\n      doll.push_back(Doll(h,r));\n    }\n\n    doll.push_back(Doll(1001,1001));\n\n    cout<<rec(n+m)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <cstdio>\n#include <map>\nusing namespace std;\n\n#define loop(i,a,b) for(int i=(a);i<int(b);i++)\n#define rep(i,b) loop(i,0,b)\ntypedef pair<int,int> pii;\nint n,m;\npii a[222];\nint dp[222];\n\ninline bool le(pii const& t, pii const& u){\n    return t.first<u.first && t.second<u.second;\n}\n\nint solve(){\n    sort(a,a+n+m);\n    dp[0]=1;\n    for(int i=0;i<n+m;i++){\n        for(int j=0;j<i;j++){\n            if(le(a[j],a[i])){\n                dp[i]=max(dp[i],dp[j]+1);\n            }\n        }\n    }\n    int ans=0;\n    for(int i=0;i<n+m;i++){\n        ans=max(ans,dp[i]);\n    }\n    return ans;\n}\n\nint main(){\n    while(cin>>n && n){\n        rep(i,n)cin>>a[i].first>>a[i].second;\n        cin>>m;\n        rep(i,m)cin>>a[i+n].first>>a[i+n].second;\n        cout << solve() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <string>\n#include <bitset>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <sstream>\n#include <fstream>\n//#include <tuple>\n#include <set>\n#include <string.h>\n#include <functional>\n\n#define X first\n#define Y second\n#define MP make_pair\n//#define MT make_tuple\n#define REP(i, a, n) for(int (i) = (a); (i) < (n); ++(i))\n#define FOR(i, n) REP(i, 0, n)\ntypedef long long ll;\nusing namespace std;\nconst int MAX = 101;\n\ntemplate<class T, class U>\nvoid convert(T &t, U &u)\n{\n\tstringstream ss;\n\tss << t;\n\tss >> u;\n}\n\nint dp[1001][1001];\n\nint main()\n{\n\tint n;\n\twhile ( cin >> n && n ){\n\t\tmemset(dp, 0, sizeof(dp));\n\t\t//入力.\n\t\tvector<pair<int, int> > data;\n\t\tFOR( i, n ){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\tdata.push_back( MP( s, t ) );\n\t\t}\n\n\t\tint m; cin >> m;\n\t\tFOR( i, m ){\n\t\t\tint s, t; cin >> s >> t;\n\t\t\tdata.push_back( MP( s, t ) );\n\t\t}\n\t\t\n\t\tsort(data.begin(), data.end());\n\n\n\t\tdp[data[0].first][data[0].second] = 1;\n\t\tFOR(i, data.size()){\n\t\t\tREP(j, i + 1, data.size()){\n\t\t\t\tif (data[i].first < data[j].first && data[i].second < data[j].second){\n\t\t\t\t\tdp[data[j].first][data[j].second] = dp[data[i].first][data[i].second] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint maxc = -1;\n\t\tFOR(i, data.size()){\n\t\t\tmaxc = max(maxc, dp[data[i].first][data[i].second]);\n\t\t}\n\n\t\tcout << maxc << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint main() {\n  while(1) {\n    vector<pair<int,int>> mt;\n    REP(i,2) {\n      int n;\n      cin >> n;\n      if (!n) return 0;\n      REP(j,n) {\n        int h,r;\n        cin>>h>>r;\n        mt.emplace_back(h,r);\n      }\n    }\n    sort(begin(mt),end(mt));\n    int n = mt.size();\n    vector<int> res(n);\n    REP(i,n) {\n      int mx = 0;\n      REP(j,i) {\n        if (mt[j].first < mt[i].first && mt[j].second < mt[i].second)\n          mx=max(mx, res[j]);\n      }\n      res[i] = mx+1;\n    }\n    cout << *max_element(begin(res),end(res)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <iostream>\nusing namespace std;\nint n;\nint h[200], r[200];\nint memo[200];\n\nint solve(int x) {\n\tif (memo[x] != -1) return memo[x];\n\tint res = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (h[x] < h[i] && r[x] < r[i]) {\n\t\t\tres = max(res, solve(i));\n\t\t}\n\t}\n\treturn memo[x] = (res + 1);\n}\n\nint main () {\n\twhile (cin >> n, n) {\n\t\tmemset(memo, -1, sizeof(memo));\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> h[i] >> r[i];\n\t\t}\n\t\tint m;\n\t\tcin >> m;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> h[n + i] >> r[n + i];\n\t\t}\n\t\tn += m;\n\t\tint res = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tres = max(res, solve(i));\n\t\t}\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tint ans=1;\n\t\tfor(int i=0;i<dolls.size();i++){\n\t\t\tfor(int j=i+1;j<dolls.size();j++){\n\t\t\t\tif(dolls[i].first < dolls[j].first\n\t\t\t\t\t&& dolls[i].second < dolls[j].second){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\ti=j-1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\nconst int MAX_NM = 200;\n\nstruct M{\n\tint r, h;\n};\n\nbool ascending_M_r(const M& l, const M& r){\n\treturn l.r < r.r;\n}\n\nbool ascending_M_h(const M& l, const M& r){\n\treturn l.h < r.h;\n}\n\nint main(){\n\tint n, m, dp[MAX_NM];\n\tM a[MAX_NM];\n\twhile(std::cin >> n, n){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstd::cin >> a[i].h >> a[i].r;\n\t\t}\n\t\tstd::cin >> m;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tstd::cin >> a[n+i].h >> a[n+i].r;\n\t\t}\n\t\n\t\tint r_res = 0, h_res = 0;//hの最長増加部分列とrの最長増加部分列\n\t\tstd::sort(a, a+n+m, ascending_M_r);\n\n\t\tdp[0] = 1;\n\t\tfor(int i=1;i<n+m;i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(a[j].r < a[i].r && a[j].h < a[i].h){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tr_res = dp[n+m-1];\n\n\t\tstd::sort(a, a+n+m, ascending_M_h);\n\t\tdp[0] = 1;\n\t\tfor(int i=1;i<n+m;i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(a[j].r < a[i].r && a[j].h < a[i].h){\n\t\t\t\t\tdp[i] = std::max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\th_res = dp[n+m-1];\n\n\t\tprintf(\"%d\\n\", std::max(h_res, r_res));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<math.h>\n#include<stdlib.h>\n#include<cstdlib>\nusing namespace std;\n\nstruct ppp {\n  int h;\n  int r;\n};\n\nint tansaku(vector<ppp> c, vector<ppp> d, int cN, int dN, int ans, int cy, int dy) {\n  if(dN >= d.size()) {\n    for(int i = cN; i < c.size(); i++) {\n      if(d[dy].r < c[i].r && d[dy].h < c[i].h) {\n        ans++;\n        d[dy] = c[i];\n      }\n    }\n    return ans;\n  }\n  if(cN >= c.size()) {\n    for(int i = dN; i < d.size(); i++) {\n      if(d[i].r > c[cy].r && d[i].h > c[cy].h) {\n        ans++;\n        c[cy] = d[i];\n      }\n    }\n    return ans;\n  }\n  if(c[cN].h == d[dN].h) {\n    return c[cN].r > d[dN].r ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].r == d[dN].r) {\n    return c[cN].h > d[dN].h ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].h < d[dN].h && c[cN].r < d[dN].r) {\n    return tansaku(c, d, cN + 1, dN, ans + 1, cN, dy);\n  }\n  if(c[cN].h > d[dN].h && c[cN].r > d[dN].r) {\n    return tansaku(c, d, cN, dN + 1, ans + 1, cy, dN);\n  }\n  if((c[cN].h < d[dN].h && c[cN].r > d[dN].r) || (c[cN].h > d[dN].h && c[cN].r < d[dN].r)) {\n    return max(tansaku(c, d, cN + 1, dN, ans + 1, cN, dy), tansaku(c, d, cN, dN + 1, ans + 1, cy, dN));\n  }\n  return ans;\n}\n\nint main() {\n  int a, b;\n  cin >> a;\n  for(int j = 0; a != 0; j++) {\n    vector<ppp> c(a);\n    for(int i = 0; i < a; i++) {\n      cin >> c[i].h >> c[i].r;\n    }\n    cin >> b;\n    vector<ppp> d(b);\n    for(int i = 0; i < b; i++) {\n      cin >> d[i].h >> d[i].r;\n    }\n    cout << tansaku(c, d, 0, 0, 0, 0, 0) << endl;\n    cin >> a;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<list>\n#include<utility>\n#include<algorithm>\nusing namespace std;\n\n\ntypedef list<int> OuterList;\nstruct Doll\n{\n\tint outerCount;\t\n\tint h, r;\n\tOuterList outerList;\n};\nconst int N = 200;\nDoll doll[N];\n\nbool SortDoll(const Doll &lhv, const Doll &rhv)\n{\n\treturn (lhv.h+lhv.r) > (rhv.h+rhv.r);\n}\nbool CmpOuterDoll(int lhv, int rhv)\n{\n\treturn doll[lhv].outerCount < doll[rhv].outerCount;\n}\n\nint main()\n{\n\tint n,m,i,j,dollCount;\n\tconst int INVALID_VALUE = -1;\n\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\tfor(i = 0; i < n; ++i)\n\t\t\tscanf(\"%d%d\",&doll[i].h, &doll[i].r);\n\t\tscanf(\"%d\",&m);\n\t\tfor(i = 0; i < m; ++i)\n\t\t\tscanf(\"%d%d\",&doll[i+n].h, &doll[i+n].r);\n\n\t\tdollCount = n+m;\n\t\tsort(doll, doll+dollCount, SortDoll);\n\n\t\tfor(i=0; i < dollCount; ++i)\n\t\t{\n\t\t\tdoll[i].outerCount = INVALID_VALUE;\n\t\t\tdoll[i].outerList.clear();\n\t\t\tfor(j = 0; j < dollCount; ++j)\n\t\t\t{\n\t\t\t\tif(doll[i].h < doll[j].h &&\n\t\t\t\t\tdoll[i].r < doll[j].r)\n\t\t\t\t{\n\t\t\t\t\tdoll[i].outerList.push_back(j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint finishCount = 0;\n\t\tint maxDoll = 0;\n\t\twhile(finishCount < dollCount)\n\t\t{\n\t\t\tfor(i = 0; i < dollCount; ++i)\n\t\t\t{\n\t\t\t\tif(doll[i].outerCount == INVALID_VALUE)\n\t\t\t\t{\n\t\t\t\t\tbool f = true;for(OuterList::iterator ite = doll[i].outerList.begin();\n\t\t\t\t\t\tite != doll[i].outerList.end(); ++ite)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(doll[*ite].outerCount == INVALID_VALUE)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tf = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(f)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(doll[i].outerList.empty())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdoll[i].outerCount = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\tdoll[i].outerCount = doll[\n\t\t\t\t\t\t\t\t*max_element(\n\t\t\t\t\t\t\t\t\tdoll[i].outerList.begin(), doll[i].outerList.end(), CmpOuterDoll\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t].outerCount + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmaxDoll = max(maxDoll, doll[i].outerCount);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", maxDoll);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint n,m;\nstatic int h[200], r[200];\nstatic int dp[200];\nint calc(int i) {if(dp[i] == -1) {\ndp[i] = 1;\nfor(int j = 0; j < n+m; j++) {\nif(h[j] < h[i] && r[j] < r[i]) {\ndp[i] = max(dp[i], calc(j)+1);\n}\n}\n}\nreturn dp[i];\n}\nint main() {\nfor(int tci = 0; ; tci++) {\nscanf(\"%d\", &n); if(n==0) break;\nfor(int i = 0; i < n; i++) {\nscanf(\"%d%d\", h+i, r+i);\n}\nscanf(\"%d\", &m);\nfor(int i = 0; i < m; i++) {\nscanf(\"%d%d\", h+n+i, r+n+i);\n}\nfill(dp, dp+n+m, -1);\nint mv = 0;\nfor(int i = 0; i < n+m; i++) {\nmv = max(mv, calc(i));\n}\nprintf(\"%d\\n\", mv);\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n  int n, m, x, y;\n  \n  while(cin >> n && n) {\n    vector<pair<int, int> > vec;\n    for(int i=0; i<n; i++) {\n      cin >> x >> y;\n      vec.push_back(make_pair(x, y));\n    }\n    \n    cin >> m;\n    for(int i=0; i<m; i++) {\n      cin >> x >> y;\n      vec.push_back(make_pair(x, y));\n    }\n    \n    int N = n+m;\n    \n    vector<int> dp(N, 0);\n    \n    sort(vec.begin(), vec.end());\n    \n    int ans = 0;\n    \n    for(int i=0; i<N; i++) {\n      for(int j=0; j<i; j++) {\n\tif(vec[j].first < vec[i].first && vec[j].second < vec[i].second) {\n\t  dp[i] = max(dp[i], dp[j]+1);\n\t}\n      }\n      ans = max(dp[i], ans);\n    }\n    \n    cout << ans+1 << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#define F first\n#define S second\nusing namespace std;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nint main(){\n  int n, m;\n  int dp[201], dp2[201];\n  P doll[200];\n  while(cin >> n && n){\n    fill(doll, doll+200, P(0, 0));\n    fill(dp, dp + 201, INF);\n    fill(dp2, dp2 + 201, 0);\n    for (int i = 0; i < n; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    cin >> m;\n    for (int i = n; i < n + m; i++){\n      int a, b;\n      cin >> a >> b;\n      doll[i] = P(a, b);\n    }\n    sort(doll, doll + n + m);\n    dp[0] = doll[0].S;\n    for (int i = 1; i < n + m; i++){\n      int *p;\n      p = lower_bound(dp, dp + 201, doll[i].S);\n\tif(doll[i].F != dp2[p-1-dp]){\n\t  *p = doll[i].S;\n\t  dp2[p-dp]=doll[i].F;\n\t}\n    }\n    cout << lower_bound(dp, dp + 201, INF) - dp << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\nusing ll = long long;\n// #define int ll\nusing PII = pair<int, int>;\n \n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n \ntemplate<typename T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<typename T> T &chmax(T &a, const T &b) { return a = max(a, b); }\ntemplate<typename T> bool IN(T a, T b, T x) { return a<=x&&x<b; }\ntemplate<typename T> T ceil(T a, T b) { return a/b + !!(a%b); }\n \ntemplate<typename T> vector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts) { \n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value==0>::type\nfill_v(T &t, const V &v) { t=v; }\ntemplate<typename T,typename V> typename enable_if<is_class<T>::value!=0>::type\nfill_v(T &t, const V &v ) { for(auto &e:t) fill_v(e,v); }\n \ntemplate<class S,class T>\nostream &operator <<(ostream& out,const pair<S,T>& a){\n  out<<'('<<a.first<<','<<a.second<<')'; return out;\n}\ntemplate<typename T>\nistream& operator >> (istream& is, vector<T>& vec){\n  for(T& x: vec) {is >> x;} return is;\n}\ntemplate<class T>\nostream &operator <<(ostream& out,const vector<T>& a){\n  out<<'['; for(T i: a) {out<<i<<',';} out<<']'; return out;\n}\n \nint dx[] = {0, 1, 0, -1}, dy[] = {1, 0, -1, 0}; // DRUL\nconst int INF = 1<<30;\nconst ll LLINF = 1LL<<60;\nll MOD = 1000000007;\n\ntemplate <typename T>\nclass BIT {\nprivate:\n  vector<T> bit;\n  int neutral = 0;\n  // 更新クエリ, 区間クエリ\n  function<T(T,T)> f = [](const T l, const T r) -> T { return max(l, r); },\n                   g = [](const T l, const T r) -> T { return max(l, r); };\npublic:\n  BIT(int n_ = 1e5) { init(n_); }\n  void init(int n_ = 1e5) { bit.assign(n_+1, neutral); }\n  void update(int i, T w) {\n    for(int x = i+1; x < bit.size(); x += x&-x) bit[x] = f(bit[x], w);\n  }\n  // [0,i]\n  T query(int i) {\n    T ret = neutral;\n    for(int x = i+1; x > 0; x -= x & -x) ret = g(ret, bit[x]);\n    return ret;\n  }\n};\n\nsigned main(void)\n{\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  while(1) {\n    ll n;\n    cin >> n;\n    if(!n) break;\n    vector<PII> v(n);\n    REP(i, n) cin >> v[i].first >> v[i].second;\n    ll m;\n    cin >> m;\n    REP(i, m) {\n      ll h, r;\n      cin >> h >> r;\n      v.push_back({h, r});\n    }\n\n    sort(ALL(v), [](PII l, PII r){\n      if(l.first != r.first) return l.first < r.first;\n      return l.second > r.second;\n    });\n\n    ll ret = 0;\n    BIT<ll> bit;\n    REP(i, n+m) {\n      ll tmp = bit.query(v[i].second-1) + 1;\n      bit.update(v[i].second, tmp);\n      chmax(ret, tmp);\n    }\n    cout << ret << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\ntypedef std::pair<int,int> P;\n\nint dp[200];//何番目のまとりょーしかが一番大きいか＝数\n\nint main(){\n\tint ichiro,jiro,M=0;\n\tP dool[200];//高さ　半径\n\tstd::cin>>ichiro;\n\tfor(int i=0;i<ichiro;i++){\n\t\tstd::cin>>dool[i].first>>dool[i].second;\n\t}\n\tstd::cin>>jiro;\n\tfor(int i=0;i<jiro;i++){\n\t\tstd::cin>>dool[i+ichiro].first>>dool[i+ichiro].second;\n\t}\n\tstd::sort(dool,dool+ichiro+jiro);\n\tfor(int i=0;i<ichiro+jiro;i++)dp[i]=1;\n\tfor(int i=1;i<ichiro+jiro;i++){\n\t\tfor(int j=i-1;j>=0;j--){\n\t\t\tdp[i]=std::max(dp[i],dp[j]+(dool[i].second>dool[j].second));\n\t\t}\n\t\tM=std::max(M,dp[i]);\n\t}\n\tstd::cout<<M<<std::endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mk make_pair\n#define f first\n#define s second\nusing namespace std;\nint n,m,p1,p2,dp[201][1001][1001];\n\nvector<pair<int,int> >v;\n\nint dfs(int d,int h,int w){\n  int res=0;\n  if(dp[d][h][w])return dp[d][h][w];\n  if(d==v.size()) return 1;\n  if(v[d].f<h&&v[d].s<w)\n    res=max(res,dfs(d+1,v[d].f,v[d].s))+1;\n  res=max(res,dfs(d+1,h,w));\n  return dp[d][h][w]=res;\n}\n\nmain(){\n  while(cin>>n,n){\n    memset(dp,0,sizeof(dp));\n    v.clear();\n    for(int i=0;i<n;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    cin>>m;\n    for(int i=0;i<m;i++){\n      cin>>p1>>p2;\n      v.push_back(mk(p2,p1));\n    }\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    for(int i=0;i<v.size();i++)swap(v[i].f,v[i].s);\n    stable_sort(v.begin(),v.end(),greater<pair<int,int> >());\n    cout<<dfs(0,1001,1001)-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<math.h>\n#include<stdlib.h>\n#include<cstdlib>\nusing namespace std;\n\nstruct ppp {\n  int h;\n  int r;\n};\n\nint tansaku(vector<ppp> c, vector<ppp> d, int cN, int dN, int ans, int cy, int dy) {\n  if(dN >= d.size()) {\n    for(int i = cN; i < c.size(); i++) {\n      if(d[dy].r < c[i].r && d[dy].h < c[i].h) {\n        ans++;\n        d[dy] = c[i];\n      }\n    }\n    return ans;\n  }\n  if(cN >= c.size()) {\n    for(int i = dN; i < d.size(); i++) {\n      if(d[i].r > c[cy].r && d[i].h > c[cy].h) {\n        ans++;\n        c[cy] = d[i];\n      }\n    }\n    return ans;\n  }\n  if(c[cN].h == d[dN].h) {\n    return c[cN].r > d[dN].r ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].r == d[dN].r) {\n    return c[cN].h > d[dN].h ? tansaku(c, d, cN + 1, dN + 1, ans + 1, cy, dN) :\n    tansaku(c, d, cN + 1, dN + 1, ans + 1, cN, dy);\n  }\n  if(c[cN].h < d[dN].h && c[cN].r < d[dN].r) {\n    return tansaku(c, d, cN + 1, dN, ans + 1, cN, dy);\n  }\n  if(c[cN].h > d[dN].h && c[cN].r > d[dN].r) {\n    return tansaku(c, d, cN, dN + 1, ans + 1, cy, dN);\n  }\n  if((c[cN].h < d[dN].h && c[cN].r > d[dN].r) || (c[cN].h > d[dN].h && c[cN].r < d[dN].r)) {\n    return max(tansaku(c, d, cN + 1, dN, ans + 1, cN, dy), tansaku(c, d, cN, dN + 1, ans + 1, cy, dN));\n  }\n  return ans;\n}\n\nint main() {\n  int a, b;\n  while(cin >> a) {\n    if(a == 0) break;\n    vector<ppp> c(a);\n    for(int i = 0; i < a; i++) {\n      cin >> c[i].h >> c[i].r;\n    }\n    cin >> b;\n    vector<ppp> d(b);\n    for(int i = 0; i < b; i++) {\n      cin >> d[i].h >> d[i].r;\n    }\n    cout << tansaku(c, d, 0, 0, 0, 0, 0) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> PII;\ntypedef complex<double> P;\nstatic const double EPS = 1e-8;\nstatic const int INF = (int)1e8;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) for (int i=0; i<(int)(n); ++i)\n#define FOREQ(i,k,n) for (int i=(k); i<=(int)(n); ++i)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FIND(m,w) ((m).find(w)!=(m).end())\nint dfs(int h,int r,int n,vector<PII>& ich,vector<PII>& ji){\n  int ret=n;\n  REP(i,ich.size()){\n    if(ich[i].first<h&&ich[i].second<r){\n      ret = max(ret,dfs(ich[i].first,ich[i].second,n+1,ich,ji));\n      break;\n    }\n  }\n  REP(i,ji.size()){\n    if(ji[i].first<h&&ji[i].second<r){\n      ret = max(ret,dfs(ji[i].first,ji[i].second,n+1,ich,ji));\n      break;\n    }\n  }\n  return ret;\n}\nint main(void){\n  int n,m;\n  while(cin>>n,n){\n    vector<PII> ich;\n    vector<PII> ji;\n    REP(i,n){\n      int h,r;\n      cin>>h>>r;\n      ich.push_back(PII(h,r));\n    } \n    cin>>m;\n    REP(i,m){\n      int h,r;\n      cin>>h>>r;\n      ji.push_back(PII(h,r));\n    }\n    reverse(ich.begin(),ich.end());\n    reverse(ji.begin(),ji.end());\n    cout<<dfs(INF,INF,0,ich,ji)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<vector>\n#include<utility>\n#define rep(i,a) for( int i = 0; i != (a); ++i )\n\nconst int INF = 1 << 30;\n\ntypedef std::pair<int, int> P;\n\nint n, m;\nint dp[200];\n\nint main()\n{\n\twhile( scanf( \"%d\", &n ), n )\n\t{\n\t\tmemset( dp, 0, sizeof( dp ) );\n\n\t\tstd::vector<P> ps;\n\t\trep( i, n )\n\t\t{\n\t\t\tint h, r;\n\t\t\tscanf( \"%d%d\", &h, &r );\n\t\t\tps.push_back( P( h, r ) );\n\t\t}\n\n\t\tscanf( \"%d\", &m );\n\t\trep( i, m )\n\t\t{\n\t\t\tint h, r;\n\t\t\tscanf( \"%d%d\", &h, &r );\n\t\t\tps.push_back( P( h, r ) );\n\t\t}\n\n\t\tstd::sort( ps.begin(), ps.end() );\n\n\t\tint ans = 0;\n\t\trep( i, ps.size() )\n\t\t{\n\t\t\tdp[i] = 1;\n\t\t\t\n\t\t\trep( j, i )\n\t\t\t\tif( ps[i].first > ps[j].first && ps[i].second > ps[j].second )\n\t\t\t\t\tdp[i] = std::max( dp[i], dp[j]+1 );\n\n\t\t\tans = std::max( ans, dp[i] );\n\t\t}\n\n\t\tprintf( \"%d\\n\", ans );\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\tif(p1.first < p2.first) return true;\n\t\telse if(p1.second < p2.second) return true;\n\t\telse false;\n\t}\n};\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tint* dp = new int[n+m];\n\t\tmemset(dp,0,sizeof(dp));\n\t\tdp[0] = 1;\n\n\t\tfor(int i=1;i<dolls.size();i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tif(dolls[j].first < dolls[i].first\n\t\t\t\t\t&& dolls[j].second < dolls[i].second){\n\t\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t\telse dp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[dolls.size()-1] << endl;\n\t\tdelete[] dp;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\tif(p1.first < p2.first) return true;\n\t\telse if(p1.second < p2.second) return true;\n\t\telse false;\n\t}\n};\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end());\n\n\t\tint* dp = new int[n+m];\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(int i=0;i<n+m;i++) dp[i] = 1;\n\n\t\tfor(int i=0;i<dolls.size();i++){\n\t\t\tfor(int j=0;j<dolls.size();j++){\n\t\t\t\tif(dolls[j].first < dolls[i].first\n\t\t\t\t\t&& dolls[j].second < dolls[i].second){\n\t\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[dolls.size()-1] << endl;\n\t\tdelete[] dp;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <utility>\nusing namespace std;\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\nint main() {\n  ios::sync_with_stdio(false);\n  while(true) {\n    int N; cin >> N;\n    if(N == 0) break;\n    vector<pair<int, int>> doll;\n    REP(i,N) {\n      int h, r; cin >> h >> r;\n      doll.emplace_back(h, r);\n    }\n    int M; cin >> M;\n    N += M;\n    REP(i,M) {\n      int h, r; cin >> h >> r;\n      doll.emplace_back(h, r);\n    }\n    vector<vector<int>> G(N);\n    REP(i,N) {\n      REP(j,N) {\n        if(doll[i].first > doll[j].first && doll[i].second > doll[j].second) {\n          G[i].push_back(j);\n        }\n      }\n    }\n    vector<int> d(N, 1);\n    while(true) {\n      bool update = false;\n      REP(i,N) {\n        for(int next : G[i]) {\n          if(d[next] < d[i] + 1) {\n            d[next] = d[i] + 1;\n            update = true;\n          }\n        }\n      }\n      if(!update) break;\n    }\n    cout << *max_element(d.begin(), d.end()) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n    int n = 0, m =0;\n    int d[200][2], dp[200];\n    \n    for(int p = 0; true; p++){\n        if(cin >> n){\n            for(int i = 0; i < 200; i++){\n                dp[i] = 0;\n                d[i][0] = 0;\n                d[i][1] = 0;\n            }\n            if(n == 0){\n                break;\n            }\n            for(int i = 0; i < n; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            cin >> m;\n            for(int i = n; i < n + m; i++){\n                cin >> d[i][0] >> d[i][1];\n                for(int j = i; j > 0; j--){\n                    if(d[j][0] > d[j - 1][0]){\n                        break;\n                    }else{\n                        swap(d[j][0], d[j - 1][0]);\n                        swap(d[j][1], d[j - 1][1]);\n                    }\n                }\n            }\n            int maax = 0;\n            for(int i = 0; i < n + m; i++){\n                dp[i]++;\n                int a = 0;\n                for(int j = 0; j < i; j++){\n                    if(a <= dp[j]){\n                        if(d[j][1] < d[i][1]){\n                            a = dp[j];\n                        }\n                    }\n                }\n                dp[i] += a;\n                if(maax <= dp[i]){\n                    maax = dp[i];\n                }\n            }\n            cout << maax << endl;\n        }else{\n            break;\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <stdio.h>\n#include <math.h>\n#include <cctype>\n\n#include <iostream>\n#include <vector>\n#include <deque>\n#include <queue>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define repi(i,l,n) for(int (i)=(int)(l);(i)<(int)(n);(i)++)\n#define d_arr(arr, h, w) rep(i,(h) ){ cout << \"[\"; rep(j,(w) ) { cout << (arr)[i][j] << \", \"; } cout << \"]\" << endl;}\n#define IN(x,s,g) ((x) >= (s) && (x) < (g))\n#define ISIN(x,y,w,h) (IN((x),0,(w)) && IN((y),0,(h)))\n#define print(x) printf(\"%d\\n\",x);\n#define fs first\n#define sc second\n#define pb push_back\n\ntypedef pair<int ,int> P;\nvector<P> mv;\nmap<int, int> memo;\n\n//\nint next_of(int i){\n    int h = mv[i].fs;\n    int r = mv[i].sc;\n    int nh = h;\n    int nr = r;\n    while(1){\n        if( nh > h && nr > r) { break; }\n        i++;\n        nh = mv[i].fs;\n        nr = mv[i].sc;\n    }\n    return i;\n}\n\n// mv[i] 以上で作れるマトリョーシカの数の最大値\nint rec(int i){\n    //cout << \"rec : \" << i << endl;\n    if( memo.find(i) != memo.end() ){ return memo[i]; }\n    if( i > mv.size()-1 ){\n        return 0;\n    }\n    int e0 = rec(i+1);\n    int next = next_of(i);\n    int e1 = rec(next) + 1;\n\n    memo[i] = max(e0,e1);\n    return memo[i];\n}\n\nint main()\n{\n    int n,m;\n    int h,r;\n    while(1){\n        mv.clear();\n        memo.clear();\n        cin >> n;\n        if( n==0 ){ break; }\n        rep(i,n){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        cin >> m;\n        rep(i,m){\n            cin >> h >> r;\n            mv.pb(make_pair(h,r));\n        }\n        sort(mv.begin(),mv.end());\n        cout << rec(0) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nstatic const double eps = 10e-8;\n\nclass mycmp{\npublic:\n\tbool operator()(const P p1, const P p2){\n\t\treturn (p1.first < p2.first && p1.second < p2.second);\n\t}\n};\n\nint dp[202];\n\nint main(){\n\tint n;\n\n\twhile(~scanf(\"%d\",&n)){\n\t\tif(n==0) break;\n\t\tvector<P> dolls;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\t\tint m;\n\t\tscanf(\"%d\",&m);\n\t\tfor(int i=0;i<m;i++){\n\t\t\tint h,r;\n\t\t\tscanf(\"%d %d\",&h,&r);\n\t\t\tdolls.push_back(P(h,r));\n\t\t}\n\n\n\t\tsort(dolls.begin(),dolls.end(),mycmp());\n\n\t\tmemset(dp,0,sizeof(dp));\n\t\tdp[0] = 1;\n\n\t\tfor(int i=1;i<dolls.size();i++){\n\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\tif(dolls[j].first < dolls[i].first\n\t\t\t\t\t&& dolls[j].second < dolls[i].second){\n\t\t\t\t\t\tdp[i] = max(dp[i],dp[j] + 1);\n\t\t\t\t}\n\t\t\t\telse dp[i] = dp[i-1];\n\t\t\t}\n\t\t}\n\n\t\tcout << dp[dolls.size()-1] << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nvector<P> d;\nint dp[200];\n\nint cmp(P &a, P &b)\n{\n\tif (a.first < b.first && a.second < b.second) return 1;\n\treturn 0;\n}\n\nvoid solve()\n{\n\tint n = d.size();\n\tfill(dp, dp + n, 1);\n\tfor (int i = 1; i < n; i++){\n\t\tfor (int j = 0; j < i; j++){\n\t\t\tdp[i] = max(dp[i], dp[j] + cmp(d[j], d[i]));\n\t\t}\n\t}\n\tint res = 0;\n\tfor (int i = 0; i < n; i++){\n\t\tres = max(res, dp[i]);\n\t}\n\tprintf(\"%d\\n\", res);\n}\n\nint main()\n{\n\twhile (true){\n\t\td.clear();\n\t\tfor (int c = 0; c < 2; c++){\n\t\t\tint n;\n\t\t\tscanf(\"%d\", &n);\n\t\t\tif (!n) return 0;\n\t\t\tfor (int i = 0; i < n; i++){\n\t\t\t\tint a, b;\n\t\t\t\tscanf(\"%d %d\", &a, &b);\n\t\t\t\td.push_back(P(a, b));\n\t\t\t}\n\t\t}\n\t\tsort(d.begin(), d.end());\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct doll{\n    int h,r;\n};\n\nbool operator<(const doll& d1,const doll& d2){\n    if(d1.h == d2.h){\n        return d1.r < d2.r;\n    }\n    return d1.h < d2.h;\n}\n\nint main() {\n\n    while(1){\n\n        int n;\n\n        cin >> n;\n\n        if(n==0) break;\n\n        int h,r;\n\n        vector<doll> v;\n        doll tmp;\n\n        for(int i=0;i<n;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        int m;\n\n        cin >> m;\n\n        for(int i=0;i<m;i++){\n            cin >> h >> r;\n            tmp.h = h;\n            tmp.r = r;\n            v.push_back(tmp);\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            cout << v[i].h << \" \" << v[i].r << endl;\n        }*/\n\n        sort(v.begin(),v.end());\n\n        int table[201][201];\n\n        for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                table[i][j] = 0;\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            table[i][i] = 1;\n        }*/\n\n        for(int i=0;i<n+m;i++){\n            for(int j=i;j<n+m;j++){\n                if( (v[i].h<v[j].h && v[i].r < v[j].r) /*|| (v[i].h > v[j].h && v[i].r > v[j].r)*/ ){\n                    table[i][j] = 1;\n                    //table[j][i] = 1;\n                }\n            }\n        }\n\n        /*for(int i=0;i<n+m;i++){\n            for(int j=0;j<n+m;j++){\n                cout << table[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int dp[201][201] = {0};\n\n        for(int i=0;i<=n+m;i++){\n            dp[i][0] = 1;\n            dp[0][i] = 1;\n        }\n\n        for(int i=1;i<=n+m;i++){\n            for(int j=1;j<=n+m;j++){\n                if(table[i-1][j-1]==1){\n                    dp[i][j] = max(dp[i-1][j],dp[i-1][j-1]+1);\n                }\n                else{\n                    dp[i][j] = dp[i-1][j];\n                }\n            }\n\n        }\n\n        /*for(int i=0;i<=n+m;i++){\n            for(int j=0;j<=n+m;j++){\n                cout << dp[i][j] << \" \";\n            }\n            cout << endl;\n        }*/\n\n        int ans = 0;\n\n        for(int i=0;i<=n+m;i++){\n            //cout << dp[i] << endl;\n            ans = max(dp[i][n+m],ans);\n        }\n\n        cout << ans << endl;\n\n\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include <iostream>\n#include <math.h>\n#include <numeric>\n#include <vector>\n#include <map>\n#include <functional>\n#include <stdio.h>\n#include <array>\n#include <algorithm>\n#include <string>\n#include <string.h>\n#include <assert.h>\n#include <stdio.h>\n#include <queue>\n#include<iomanip>\n#include<bitset>\n#include<stack>\n#include<set>\n#include<limits>\n#include <complex>\nusing namespace std;\n\n\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define ALL(x) (x).begin(),(x).end()\n\n\n\n\n/* 幾何の基本 */\n\n#include <complex>\n\ntypedef long double ld;\ntypedef complex<ld> Point;\n\nconst ld eps = 1e-9, pi = acos(-1.0);\n\nnamespace std {\n\tbool operator<(const Point &lhs, const Point &rhs) {\n\t\tif (lhs.real() < rhs.real() - eps) return true;\n\t\tif (lhs.real() > rhs.real() + eps) return false;\n\t\treturn lhs.imag() < rhs.imag();\n\t}\n}\n\n// 点の入力\nPoint input_point() {\n\tld x, y;\n\tcin >> x >> y;\n\treturn Point(x, y);\n}\n\n// 誤差つき等号判定\nbool eq(ld a, ld b) {\n\treturn (abs(a - b) < eps);\n}\n\n// 内積\nld dot(Point a, Point b) {\n\treturn real(conj(a) * b);\n}\n\n// 外積\nld cross(Point a, Point b) {\n\treturn imag(conj(a) * b);\n}\n\n// 直線の定義\nclass Line {\npublic:\n\tPoint a, b;\n\tLine() : a(Point(0, 0)), b(Point(0, 0)) {}\n\tLine(Point a, Point b) : a(a), b(b) {}\n};\n\n// 円の定義\nclass Circle {\npublic:\n\tPoint p;\n\tld r;\n\tCircle() : p(Point(0, 0)), r(0) {}\n\tCircle(Point p, ld r) : p(p), r(r) {}\n};\n\n// CCW\nint ccw(Point a, Point b, Point c) {\n\tb -= a; c -= a;\n\tif (cross(b, c) > eps) return 1;   // a,b,cが反時計周りの順に並ぶ\n\tif (cross(b, c) < -eps) return -1; // a,b,cが時計周りの順に並ぶ\n\tif (dot(b, c) < 0) return 2;       // c,a,bの順に直線に並ぶ\n\tif (norm(b) < norm(c)) return -2;  // a,b,cの順に直線に並ぶ\n\treturn 0;                          // a,c,bの順に直線に並ぶ\n}\n\n\n/* 交差判定 */\n\n// 直線と直線の交差判定\nbool isis_ll(Line l, Line m) {\n\treturn !eq(cross(l.b - l.a, m.b - m.a), 0);\n}\n\n// 直線と線分の交差判定\nbool isis_ls(Line l, Line s) {\n\treturn isis_ll(l, s) &&\n\t\t(cross(l.b - l.a, s.a - l.a) * cross(l.b - l.a, s.b - l.a) < eps);\n}\n\n// 線分と線分の交差判定\nbool isis_ss(Line s, Line t) {\n\treturn ccw(s.a, s.b, t.a) * ccw(s.a, s.b, t.b) <= 0 &&\n\t\tccw(t.a, t.b, s.a) * ccw(t.a, t.b, s.b) <= 0;\n}\n\n// 点の直線上判定\nbool isis_lp(Line l, Point p) {\n\treturn (abs(cross(l.b - p, l.a - p)) < eps);\n}\n\n// 点の線分上判定\nbool isis_sp(Line s, Point p) {\n\treturn (abs(s.a - p) + abs(s.b - p) - abs(s.b - s.a) < eps);\n}\n\n// 垂線の足\nPoint proj(Line l, Point p) {\n\tld t = dot(p - l.a, l.a - l.b) / norm(l.a - l.b);\n\treturn l.a + t * (l.a - l.b);\n}\n\n// 直線と直線の交点\nPoint is_ll(Line s, Line t) {\n\tPoint sv = s.b - s.a, tv = t.b - t.a;\n\tassert(cross(sv, tv) != 0);\n\treturn s.a + sv * cross(tv, t.a - s.a) / cross(tv, sv);\n}\n\n// 直線と点の距離\nld dist_lp(Line l, Point p) {\n\treturn abs(p - proj(l, p));\n}\n\n// 直線と直線の距離\nld dist_ll(Line l, Line m) {\n\treturn isis_ll(l, m) ? 0 : dist_lp(l, m.a);\n}\n\n// 直線と線分の距離\nld dist_ls(Line l, Line s) {\n\treturn isis_ls(l, s) ? 0 : min(dist_lp(l, s.a), dist_lp(l, s.b));\n}\n\n// 線分と点の距離\nld dist_sp(Line s, Point p) {\n\tPoint r = proj(s, p);\n\treturn isis_sp(s, r) ? abs(r - p) : min(abs(s.a - p), abs(s.b - p));\n}\n\n// 線分と線分の距離\nld dist_ss(Line s, Line t) {\n\tif (isis_ss(s, t)) return 0;\n\treturn min({ dist_sp(s, t.a), dist_sp(s, t.b), dist_sp(t, s.a), dist_sp(t, s.b) });\n}\n\n\n/* 円 */\n\n// 円と円の交点\nvector<Point> is_cc(Circle c1, Circle c2) {\n\tvector<Point> res;\n\tld d = abs(c1.p - c2.p);\n\tld rc = (d * d + c1.r * c1.r - c2.r * c2.r) / (2 * d);\n\tld dfr = c1.r * c1.r - rc * rc;\n\tif (abs(dfr) < eps) dfr = 0.0;\n\telse if (dfr < 0.0) return res; // no intersection\n\tld rs = sqrt(dfr);\n\tPoint diff = (c2.p - c1.p) / d;\n\tres.push_back(c1.p + diff * Point(rc, rs));\n\tif (dfr != 0.0) res.push_back(c1.p + diff * Point(rc, -rs));\n\treturn res;\n}\n\n// 円と直線の交点\nvector<Point> is_lc(Circle c, Line l) {\n\tvector<Point> res;\n\tld d = dist_lp(l, c.p);\n\tif (d < c.r + eps) {\n\t\tld len = (d > c.r) ? 0.0 : sqrt(c.r * c.r - d * d); //safety;\n\t\tPoint nor = (l.a - l.b) / abs(l.a - l.b);\n\t\tres.push_back(proj(l, c.p) + len * nor);\n\t\tres.push_back(proj(l, c.p) - len * nor);\n\t}\n\treturn res;\n}\n\n// 円と線分の距離\nvector<Point> is_sc(Circle c, Line l) {\n\tvector<Point> v = is_lc(c, l), res;\n\tfor (Point p : v)\n\t\tif (isis_sp(l, p)) res.push_back(p);\n\treturn res;\n}\n\n// 円と点の接線\nvector<Line> tangent_cp(Circle c, Point p) {\n\tvector<Line> ret;\n\tPoint v = c.p - p;\n\tld d = abs(v);\n\tld l = sqrt(norm(v) - c.r * c.r);\n\tif (isnan(l)) { return ret; }\n\tPoint v1 = v * Point(l / d, c.r / d);\n\tPoint v2 = v * Point(l / d, -c.r / d);\n\tret.push_back(Line(p, p + v1));\n\tif (l < eps) return ret;\n\tret.push_back(Line(p, p + v2));\n\treturn ret;\n}\n\n// 円と円の接線\nvector<Line> tangent_cc(Circle c1, Circle c2) {\n\tvector<Line> ret;\n\tif (abs(c1.p - c2.p) - (c1.r + c2.r) > -eps) {\n\t\tPoint center = (c1.p * c2.r + c2.p * c1.r) / (c1.r + c2.r);\n\t\tret = tangent_cp(c1, center);\n\t}\n\tif (abs(c1.r - c2.r) > eps) {\n\t\tPoint out = (-c1.p * c2.r + c2.p * c1.r) / (c1.r - c2.r);\n\t\tvector<Line> nret = tangent_cp(c1, out);\n\t\tret.insert(ret.end(), ALL(nret));\n\t}\n\telse {\n\t\tPoint v = c2.p - c1.p;\n\t\tv /= abs(v);\n\t\tPoint q1 = c1.p + v * Point(0, 1) * c1.r;\n\t\tPoint q2 = c1.p + v * Point(0, -1) * c1.r;\n\t\tret.push_back(Line(q1, q1 + v));\n\t\tret.push_back(Line(q2, q2 + v));\n\t}\n\treturn ret;\n}\n\n\n/* 多角形 */\n\ntypedef vector<Point> Polygon;\n\n// 面積\nld area(const Polygon &p) {\n\tld res = 0;\n\tint n = p.size();\n\tREP(j, n) res += cross(p[j], p[(j + 1) % n]);\n\treturn res / 2;\n}\n\n// 多角形の回転方向\nbool is_counter_clockwise(const Polygon &poly) {\n\tld angle = 0;\n\tint n = poly.size();\n\tREP(i, n) {\n\t\tPoint a = poly[i], b = poly[(i + 1) % n], c = poly[(i + 2) % n];\n\t\tangle += arg((c - b) / (b - a));\n\t}\n\treturn angle > eps;\n}\n\n// 円の内外判定\n// -1 => out\n//  0 => on\n//  1 => in\nint is_in_polygon(const Polygon &poly, Point p) {\n\tld angle = 0;\n\tint n = poly.size();\n\tREP(i, n) {\n\t\tPoint a = poly[i], b = poly[(i + 1) % n];\n\t\tif (isis_sp(Line(a, b), p)) return 1;\n\t\tangle += arg((b - p) / (a - p));\n\t}\n\treturn eq(angle, 0) ? 0 : 2;\n}\n\n// 凸包\nPolygon convex_hull(vector<Point> ps) {\n\tint n = ps.size();\n\tint k = 0;\n\tsort(ps.begin(), ps.end());\n\tPolygon ch(2 * n);\n\tfor (int i = 0; i < n; ch[k++] = ps[i++])\n\t\twhile (k >= 2 && ccw(ch[k - 2], ch[k - 1], ps[i]) <= 0) --k;\n\tfor (int i = n - 2, t = k + 1; i >= 0; ch[k++] = ps[i--])\n\t\twhile (k >= t && ccw(ch[k - 2], ch[k - 1], ps[i]) <= 0) --k;\n\tch.resize(k - 1);\n\treturn ch;\n}\n\n// 凸カット\nPolygon convex_cut(const Polygon &ps, Line l) {\n\tint n = ps.size();\n\tPolygon Q;\n\tREP(i, n) {\n\t\tPoint A = ps[i], B = ps[(i + 1) % n];\n\t\tLine m = Line(A, B);\n\t\tif (ccw(l.a, l.b, A) != -1) Q.push_back(A);\n\t\tif (ccw(l.a, l.b, A) * ccw(l.a, l.b, B) < 0 && isis_ll(l, m))\n\t\t\tQ.push_back(is_ll(l, m));\n\t}\n\treturn Q;\n}\n\n\n/* アレンジメント */\nvoid add_point(vector<Point> &ps, Point p) {\n\tfor (Point q : ps) if (abs(q - p) < eps) return;\n\tps.push_back(p);\n}\n\ntypedef int Weight;\n\nstruct Edge { int from, to; Weight weight; };\n\ntypedef vector<Edge> Edges;\ntypedef vector<Edges> Graph;\n\nvoid add_edge(Graph &g, int from, int to, Weight weight) {\n\tg[from].push_back(Edge{ from, to, weight });\n}\n\nGraph segment_arrangement(const vector<Line> &s, const vector<Point> &p) {\n\tint n = p.size(), m = s.size();\n\tGraph g(n);\n\tREP(i, m) {\n\t\tvector<pair<ld, int>> vec;\n\t\tREP(j, n) if (isis_sp(s[i], p[j]))\n\t\t\tvec.emplace_back(abs(s[i].a - p[j]), j);\n\t\tsort(ALL(vec));\n\t\tREP(j, vec.size() - 1) {\n\t\t\tint from = vec[j].second, to = vec[j + 1].second;\n\t\t\tadd_edge(g, from, to, abs(p[from] - p[to]));\n\t\t}\n\t}\n\treturn g;\n}\n\nGraph circle_arrangement(const vector<Circle> &c, const vector<Point> &p) {\n\tint n = p.size(), m = c.size();\n\tGraph g(n);\n\tREP(i, m) {\n\t\tvector<pair<ld, int>> vec;\n\t\tREP(j, n) if (abs(abs(c[i].p - p[j]) - c[i].r) < eps)\n\t\t\tvec.emplace_back(arg(c[i].p - p[j]), j);\n\t\tsort(ALL(vec));\n\t\tREP(j, vec.size() - 1) {\n\t\t\tint from = vec[j].second, to = vec[j + 1].second;\n\t\t\tld angle = vec[j + 1].first - vec[j].first;\n\t\t\tadd_edge(g, from, to, angle * c[i].r);\n\t\t}\n\t\tif (vec.size() >= 2) {\n\t\t\tint from = vec.back().second, to = vec.front().first;\n\t\t\tld angle = vec.front().first - vec.back().first;\n\t\t\tadd_edge(g, from, to, angle * c[i].r);\n\t\t}\n\t}\n\treturn g;\n}\n\n\n/* 双対グラフ */\n\n// 線分集合は既にアレンジメントされていなければならない．\n// 内側の円は時計回りで，外側の円は反時計回りで得られる．\n// 変数 polygon は，vector<int> で表される多角形の集合であり，\n// vector<int> で表される 多角形のi番目は，その頂点の頂点集合pにおける番号である．\nvector<vector<int>> polygon;\nvector<int> seg2p[1024][1024];\n\nGraph dual_graph(const vector<Line> &s, const vector<Point> &p) {\n\tint N = p.size();\n\tpolygon.clear();\n\tREP(i, 1024) REP(j, 1024) seg2p[i][j].clear();\n\tvector<vector<tuple<ld, int, bool>>> tup(N);\n\tREP(i, s.size()) {\n\t\tint a = -1, b = -1;\n\t\tREP(j, N) if (abs(s[i].a - p[j]) < eps) a = j;\n\t\tREP(j, N) if (abs(s[i].b - p[j]) < eps) b = j;\n\t\tassert(a >= 0 && b >= 0);\n\t\ttup[a].emplace_back(arg(s[i].b - s[i].a), b, false);\n\t\ttup[b].emplace_back(arg(s[i].a - s[i].b), a, false);\n\t}\n\tREP(i, N) sort(ALL(tup[i]));\n\tREP(i, N) {\n\t\tREP(j, tup[i].size()) {\n\t\t\tld angle; int pos = j, from = i, to; bool flag;\n\t\t\ttie(angle, to, flag) = tup[i][j];\n\t\t\tif (flag) continue;\n\t\t\tvector<int> ps;\n\t\t\twhile (!flag) {\n\t\t\t\tps.push_back(from);\n\t\t\t\tget<2>(tup[from][pos]) = true;\n\t\t\t\tseg2p[from][to].push_back(polygon.size());\n\t\t\t\tseg2p[to][from].push_back(polygon.size());\n\t\t\t\tangle += pi + eps;\n\t\t\t\tif (angle > pi) angle -= 2 * pi;\n\t\t\t\tauto it = lower_bound(ALL(tup[to]), make_tuple(angle, 0, false));\n\t\t\t\tif (it == tup[to].end()) it = tup[to].begin();\n\t\t\t\tfrom = to; tie(angle, to, flag) = *it;\n\t\t\t\tpos = it - tup[from].begin();\n\t\t\t}\n\t\t\tpolygon.push_back(ps);\n\t\t}\n\t}\n\tGraph g(polygon.size());\n\tREP(i, N) REP(j, i) {\n\t\tif (seg2p[i][j].size() == 2) {\n\t\t\tint from = seg2p[i][j][0], to = seg2p[i][j][1];\n\t\t\tg[from].push_back(Edge{ from, to });\n\t\t\tg[to].push_back(Edge{ to, from });\n\t\t}\n\t}\n\treturn g;\n}\n\n\n/* ビジュアライザ */\nconst ld zoom = 25;\nconst ld centerX = 6;\nconst ld centerY = 5;\n\nvoid change_color(int r, int g, int b) {\n\tfprintf(stderr, \"c.strokeStyle = 'rgb(%d, %d, %d)';\\n\", r, g, b);\n}\n\nint cordx(Point p) { return 400 + zoom * (p.real() - centerX); }\nint cordy(Point p) { return 400 - zoom * (p.imag() - centerY); }\n\n#define cord(p) cordx(p),cordy(p)\n\nvoid draw_point(Point p) {\n\tfprintf(stderr, \"circle(%d, %d, %d)\\n\", cord(p), 2);\n}\n\nvoid draw_segment(Line l) {\n\tfprintf(stderr, \"line(%d, %d, %d, %d)\\n\", cord(l.a), cord(l.b));\n}\n\nvoid draw_line(Line l) {\n\tPoint v = l.b - l.a;\n\tLine m(l.a - v * Point(1e4, 0), l.b + v * Point(1e4, 0));\n\tfprintf(stderr, \"line(%d, %d, %d, %d)\\n\", cord(m.a), cord(m.b));\n}\n\nvoid draw_polygon(const Polygon &p) {\n\tint n = p.size();\n\tREP(i, n) draw_segment(Line(p[i], p[(i + 1) % n]));\n}\n\nvoid draw_circle(Circle c) {\n\tfprintf(stderr, \"circle(%d, %d, %d)\\n\", cord(c.p), (int)(zoom * c.r));\n}\n\n\nclass Compare {\npublic:\n\tbool operator()(const pair<int, int>&l, const pair<int, int>&r) {\n\t\treturn l.second > r.second;\n\t}\n};\n\n\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<pair<int,int>>ms;\n\t\tmap<int, int>mp;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tint h, r; cin >> h >> r;\n\t\t\tif (mp.find(h)==mp.end()) {\n\t\t\t\tmp[h] = r;\n\t\t\t}\n\t\t\telse if ((mp.find(h))->second>r) {\n\t\t\t\tmp[h] = r;\n\t\t\t}\n\t\t}\n\t\tint M; cin >> M;\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tint h, r; cin >> h >> r;\t\t\t\n\t\t\tif (mp.find(h) == mp.end()) {\n\t\t\t\tmp[h] = r;\n\t\t\t}\n\t\t\telse if ((mp.find(h))->second>r) {\n\t\t\t\tmp[h] = r;\n\t\t\t}\n\t\t}\n\t\t\n\t\tvector<int>dp(N + M);\n\t\tdp[0] = 1;\n\t\tint inum = 0;\n\t\tfor (auto it = mp.begin(); it != mp.end();++it) {\n\t\t\tint jnum = inum+1;\n\t\t\tfor (auto jt = next(it); jt != mp.end(); ++jt) {\n\t\t\t\tif (it->second < jt->second) {\n\t\t\t\t\tdp[jnum] = max(dp[jnum], dp[inum] + 1);\n\t\t\t\t}\n\t\t\t\tjnum++;\n\t\t\t}\n\t\t\tinum++;\n\t\t}\n\t\tcout <<*max_element(dp.begin(),dp.end()) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n\nstruct doll{\n    int first, second;\n    doll(int first, int second) : first(first), second(second) { }\n};\nbool operator < (const doll &a, const doll &b){\n    return a.first*2+a.second==b.first*2+b.second ? (a.first==b.first ? a.second < b.second : a.first < b.first) : a.first*2+a.second < b.first*2+b.second;\n}\n\nint main(){\n    while(true){\n        int n, m;\n        cin >> n;\n        if(n==0) break;\n        vector<doll> v;\n        for(int i=0; i<n; i++){\n            int h, r;\n            cin >> h>> r;\n            v.push_back(doll(h, r));\n        }\n        cin >> m;\n        for(int i=n; i<n+m; i++){\n            int h, r;\n            cin >> h>>r;\n            v.push_back(doll(h, r));\n        }\n        sort(v.begin(), v.end());\n        ll dp[1010];\n        fill(dp, dp+1001, 1);\n        \n        ll ans=0;\n        \n        for(int i=0; i<n+m; i++){\n            for(int j=0; j<i; j++){\n                if(v[i].first-v[j].first>0 && v[i].second-v[j].second>0){\n                    dp[i]=max(dp[j]+1, dp[i]);\n                }\n            }\n            //cout << \"dp[\" << v[i].first << \", \" << v[i].second << \"]=\" << dp[i] << \"\\n\";\n            ans=max(ans, dp[i]);\n        }\n        \n        cout << ans << \"\\n\";\n        \n        \n        \n    }\n    \n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\nint x[100001],d[100001],c[100001];\n\nint lis(int n){\n\tint i,j,I;\n/*\n\tfor(i=-1;I=0,++i<n;d[i]=I+1)\n\t\tfor(j=i-1;~j;j--)\n\t\t\tif(x[j]<x[i]&&I<d[j])I=d[j];\n*/\n\t// http://stackoverflow.com/questions/6129682/longest-increasing-subsequenceonlogn\n\tint sz = 1;\n\tc[1] = x[0];\n\td[0] = 1;\n\tfor(i=0;++i<n;){\n\t\tif(x[i] < c[1]){\n\t\t\tc[1] = x[i];\n\t\t\td[i] = 1;\n\t\t}else if(x[i] > c[sz]){\n\t\t\tc[sz+1] = x[i];\n\t\t\td[i] = sz+1;\n\t\t\tsz++;\n\t\t}else{\n\t\t\tint k = std::lower_bound(c,c+sz,x[i])-c;\n\t\t\tc[k] = x[i];\n\t\t\td[i] = k;\n\t\t}\n\t}\n\tfor(i=j=0;i<n;i++)\n\t\tif(d[i]>d[j])j=i;\n\treturn d[j];\n}\n\nint n;\nint main(){\n\tfor(;;){\n\t\tn=0;\n\t\tstd::vector<std::pair<int,int>>v;\n\t\tint a,b;\n\t\tfor(int k=0;k<2;k++){\n\t\t\tint n0;\n\t\t\tif((!~scanf(\"%d\",&n0)||!n0) && k==0)return 0;\n\t\t\tfor(n+=n0;n0--;){\n\t\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\t\tv.emplace_back(a,-b);\n\t\t\t}\n\t\t}\n\t\tstd::sort(v.begin(),v.end());\n\t\tfor(int i=0;i<n;i++)x[i]=-v[i].second;\n\t\tprintf(\"%d\\n\",lis(n));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define show(x)  cerr << #x << \" = \" << (x) << endl;\nusing namespace std;\n\nconst int MAX_N = 100005;\n\n//[1, n]\nint bit[MAX_N + 1] = {0};\n\nint sum(int i){\n    int s = 0;\n    while(i > 0){\n        s = max(s,bit[i]);\n        i -= i & -i;\n    }\n    return s;\n}\n\nvoid add(int i, int x, int n){\n    while(i <= MAX_N){\n        //bit[i] += x;\n        bit[i] = max(bit[i], x);\n        i += i & - i;\n    }\n}\n\nint main(){\n    int n,m;\n    while(cin >> n,n){\n        memset(bit,0,sizeof(bit));\n        pair<int, int> p[MAX_N];\n        rep(i,n) cin >> p[i].first >> p[i].second;\n        cin >> m;\n        range(i,n,n + m) cin >> p[i].first >> p[i].second;\n\n        rep(i,n + m) p[i].second *= -1;\n        sort(p, p + n + m);\n        rep(i,n + m) p[i].second *= -1;\n\n        int dp[MAX_N] = {0};\n        rep(i,n + m){\n            dp[i] = sum(p[i].second - 1) + 1;\n            add(p[i].second, dp[i], n + m);\n        }\n        cout << *max_element(dp, dp + MAX_N) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <utility>\n\n#define ll (long long)\n#define REP(i,n) for(int i = 0;i<(int)n;i++)\n#define FOR(i,a,b) for(int i = (a);i < (b);i++)\n#define RFOR(i,a,b) for(int i = (a);i>(b);i--)\n#define COUNTER int i= 0,j = 0,k = 0,l = 0,m = 0, n= 0;\n#define RETURN cout << endl;\n/*vector<vector<int>>ArrayName = vector<vector<int>>(sizeofx, vector<int>(sizeofy, 0));*/\nusing namespace std;\n\n\nint main() {\n    int answer = 0;\n    while (true) {\n        /*pair??§????????§??±???*/\n        vector< pair<int, int> > vp;\n        int dp[205];\n        int n; cin >> n; if (!n) break;\n        for (int i = 0; i < n; i++) {\n            int h, r; cin >> h >> r;\n            vp.push_back(pair<int, int>(h, r));\n        }\n        int m; cin >> m;\n        for (int i = 0; i < m; i++) {\n            int h, r; cin >> h >> r;\n            vp.push_back(pair<int, int>(h, r));\n        }\n        sort(vp.begin(), vp.end());\n        //REP(i,vp.size()){cout << vp[i].first <<\" \" << vp[i].second<< endl;}\n           int checkh = 0,checkr = 0;\n        answer = 0;\n        REP(i, m+n)\n        {\n            if(!i)\n                answer++;\n            else\n                if(vp[i].first > checkr && vp[i].second >checkh)\n                {\n                    checkr = vp[i].first;\n                    checkh = vp[i].second;\n                    answer++;\n                }\n            \n            \n        }\n        cout << answer << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing P = pair<int, int>;\n\nint main() {\n    int n;\n    while(cin >> n, n) {\n        vector<P> v(n);\n        for(int i=0; i<n; ++i) {\n            cin >> v[i].first >> v[i].second;\n        }\n        int m;\n        cin >> m;\n        for(int i=0; i<m; ++i) {\n            int h, r;\n            cin >> h >> r;\n            v.emplace_back(h, r);\n        }\n        sort(v.begin(), v.end());\n        vector<int> dp(n+m, 1);\n        for(int i=0; i<n+m; ++i) {\n            for(int j=0; j<i; ++j) {\n                if(v[i].first > v[j].first && v[i].second > v[j].second) {\n                    dp[i] = max(dp[i], dp[j]+1);\n                }\n            }\n        }\n        cout << *max_element(dp.begin(), dp.end()) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#define NUM 1000\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tbool dp[NUM][NUM] = {false};\n\t\tint n, m, h, r, ans = 0;\n\t\tcin >>n;\n\t\tif(n == 0) break;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tcin >>m;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tcin >>h >>r;\n\t\t\tdp[h][r] = true;\n\t\t}\n\t\tint cnt = 1;\n\t\tfor(int i = 1; i < NUM; i++){\n\t\t\tfor(int j = cnt; j < NUM; j++){\n\t\t\t\tif(dp[i][j] == true){\n\t\t\t\t\tans++;\n\t\t\t\t\tcnt = j + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout <<ans <<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\nimport qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\n--import Data.Array\n--import Data.Array.Unboxed\nimport Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\n-- import System.IO.Unsafe\n \nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnBin :: (b -> c -> d) -> (a -> b) -> (a -> c) -> a -> d\nfnBin op f g x = op (f x) $ g x\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nmodifyArray :: (Ix i, MArray a e m) => a i e -> i -> (e -> e) -> m ()\nmodifyArray arr ix f = readArray arr ix >>= writeArray arr ix . f\ndictCompare :: [a -> a -> Ordering] -> a -> a -> Ordering\ndictCompare [] _ _ = EQ\ndictCompare (f:fs) x y = let c = f x y in if c==EQ then dictCompare fs x y else c\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncount :: (a -> Bool) -> [a] -> Int\ncount = (length .) . filter\n-- end of templete\n\n\n\nf aa@(a:as) ba@(b:bs) = max (g a as (filt a ba)) (g b (filt b aa) bs)\n  where\n    g _ [] ys = 1 + length ys\n    g _ xs [] = 1 + length xs\n    g p xa@(x:xs) ya@(y:ys) = 1 + max (g x xs (filt x ya)) (g y (filt y xa) ys)\n    filt (h,r) = dropWhile (\\(h',r') -> h'<=h || r'<=r)\n\nmain = do\n    n <- getInt\n    when (n/=0) $ do\n        a <- map (apply2 (,)) <$> replicateM n getInts\n        m <- getInt\n        b <- map (apply2 (,)) <$> replicateM m getInts\n        print $ f a b\n        main\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\nimport qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\n--import Data.Array\n--import Data.Array.Unboxed\nimport Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\n-- import System.IO.Unsafe\n \nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnBin :: (b -> c -> d) -> (a -> b) -> (a -> c) -> a -> d\nfnBin op f g x = op (f x) $ g x\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nmodifyArray :: (Ix i, MArray a e m) => a i e -> i -> (e -> e) -> m ()\nmodifyArray arr ix f = readArray arr ix >>= writeArray arr ix . f\ndictCompare :: [a -> a -> Ordering] -> a -> a -> Ordering\ndictCompare [] _ _ = EQ\ndictCompare (f:fs) x y = let c = f x y in if c==EQ then dictCompare fs x y else c\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncount :: (a -> Bool) -> [a] -> Int\ncount = (length .) . filter\n-- end of templete\n\n\n\nf :: IOArray Int (Maybe Int) -> (Int,(Int,Int)) -> [(Int,(Int,Int))] -> IO Int\nf memo (i,(h,r)) xs = do\n    c <- readArray memo i\n    when (isNothing c) $ do\n        lt <- sequence [f memo (j,(h',r')) xs | (j,(h',r')) <- xs, h'<h, r'<r]\n        let res = 1 + foldr max 0 lt\n        writeArray memo i $ Just res\n    fromJust <$> readArray memo i\n\n\nmain = do\n    n <- getInt\n    when (n/=0) $ do\n        a <- zipWith (\\i [h,r] -> (i,(h,r))) [1..] <$> replicateM n getInts\n        m <- getInt\n        b <- zipWith (\\i [h,r] -> (i,(h,r))) [n+1..] <$> replicateM m getInts\n        arr <- newArray (1,n+m) Nothing\n        let xs = a ++ b\n        sequence [f arr x xs | x <- xs] >>= print . maximum\n        main\n\n"
  },
  {
    "language": "C",
    "code": "//Russian Dolls\n#include<stdio.h>\n\nint main()\n{\n  int Dh[201], Dr[201];\n  int F[201];\n  int n1, n2;\n  int i, j, k;//L¯Ï\n\n  while(1)\n    {\n      //ú»\n      for(i=0; i<201; i++)\n\t{\n\t  F[i]=0;\n\t  Dr[i]=0;\n\t}\n\n\n      //ÇÌ\n      //Z\n      scanf(\"%d\", &n1);\n      if(n1==0)\n\t{\n\t  break;\n\t}\n      for(i=1; i<=n1; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n      //í\n      scanf(\"%d\", &n2);\n      for(i=n1+1; i<=n1+n2; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n\n\n      //ÀÑÖ¦ ¬³¢I\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  for(j=1; j<=n1+n2; j++)\n\t    {\n\t      if(Dh[i] < Dh[j])\n\t\t{\n\t\t  //³\n\t\t  k=Dh[i];\n\t\t  Dh[i]=Dh[j];\n\t\t  Dh[j]=k;\n\n\t\t  //¼a\n\t\t  k=Dr[i];\n\t\t  Dr[i]=Dr[j];\n\t\t  Dr[j]=k;\n\t\t}\n\t    }\n\t}\n\n\n      //LISJn FÌzñðßé\n      //ú»Å·\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  k=0;\n\t  for(j=1; j<i; j++)\n\t    {\n\t      if(Dr[k]<Dr[j] && Dr[j]<Dr[i] && F[k]<F[i-1])\n\t\t{\n\t\t  k=j;\n\t\t}\n\t    }\n\n\t  F[i]=F[k]+1;\n\t  //printf(\"I%d H%d R%d F%d\\n\", i, Dh[i], Dr[i], F[i]);\n\t}\n\n      //êÔå«¢Fðßé\n      k=-1;\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  if(k<F[i])\n\t    {\n\t      k=F[i];\n\t    }\n\t}\n      //oÍ\n      printf(\"%d\\n\", k);\n    }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "//Russian Dolls\n#include<stdio.h>\n\nint main()\n{\n  int Dh[201], Dr[201];\n  int F[201];\n  int n1, n2;\n  int i, j, k;//L¯Ï\n\n  while(1)\n    {\n      //ú»\n      for(i=0; i<201; i++)\n\t{\n\t  F[i]=0;\n\t  Dr[i]=0;\n\t}\n\n\n      //ÇÌ\n      //Z\n      scanf(\"%d\", &n1);\n      if(n1==0)\n\t{\n\t  break;\n\t}\n      for(i=1; i<=n1; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n      //í\n      scanf(\"%d\", &n2);\n      for(i=n1+1; i<=n1+n2; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n\n\n      //ÀÑÖ¦ ¬³¢I\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  for(j=1; j<=n1+n2; j++)\n\t    {\n\t      if(Dh[i] < Dh[j])\n\t\t{\n\t\t  //³\n\t\t  k=Dh[i];\n\t\t  Dh[i]=Dh[j];\n\t\t  Dh[j]=k;\n\n\t\t  //¼a\n\t\t  k=Dr[i];\n\t\t  Dr[i]=Dr[j];\n\t\t  Dr[j]=k;\n\t\t}\n\t    }\n\t}\n\n\n      //LISJn FÌzñðßé\n      //ú»Å·\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  k=0;\n\t  for(j=1; j<i; j++)\n\t    {\n\t      if(k<j && Dr[j]<Dr[i] && F[k]<F[j])\n\t\t{\n\t\t  k=j;\n\t\t}\n\t    }\n\n\t  F[i]=F[k]+1;\n\t  //printf(\"I%d H%d R%d F%d\\n\", i, Dh[i], Dr[i], F[i]);\n\t}\n\n      //êÔå«¢Fðßé\n      k=-1;\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  if(k<F[i])\n\t    {\n\t      k=F[i];\n\t    }\n\t}\n      //oÍ\n      printf(\"%d\\n\", k);\n    }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[1000],r[1000],p[2000];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n\n    scanf(\"%d\",&n);\n    if(n==0){break;}\n\n    for(i=1;i<=n;i++){\n      scanf(\"%d%d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d%d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n  for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o; \n\t}\n      }\n  }\n  /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i;j>=0;j--){\n\tif(r[i]>r[j] &&p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;  \n\t  }  \n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n\t\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\ntypedef struct d{int h,r;}d;\nd ds[200];\nint n,m,i,j,t,dp[201];\nint c(const void *a,const void *b)\n{\n\td x=*(d*)a,y=*(d*)b;\n\tif(x.r==y.r)\n\t\treturn x.h-y.h;\n\telse\n\t\treturn x.r-y.r;\n}\nint main()\n{\n\tfor(;scanf(\"%d\",&n),n;)\n\t{\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(i=0;i<n;i++)\n\t\t\tscanf(\"%d%d\",&ds[i].h,&ds[i].r);\n\t\tfor(scanf(\"%d\",&m);i-n<m;i++)\n\t\t\tscanf(\"%d%d\",&ds[i].h,&ds[i].r);\n\t\tqsort(ds,n+m,sizeof(d),c);\n\t\tfor(i=1;i<=n+m;i++)\n\t\t{\n\t\t\tfor(j=i,t=0;j>0;j--)\n\t\t\t\tif(ds[j-1].h<ds[i-1].h&&ds[j-1].r<ds[i-1].r)\n\t\t\t\t\tt=t<dp[j]?dp[j]:t;\n\t\t\tdp[i]=dp[i-1]>t+1?dp[i-1]:t+1;\n\t\t}\n\t\tprintf(\"%d\\n\",dp[n+m]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[2000],r[2000],p[4000];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n\n    scanf(\"%d\",&n);\n    if(n==0){break;}\n\n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d %d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o; \n\t}\n      }\n  }\n\n  /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i;j>=0;j--){\n\tif(r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;  \n\t  }  \n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n\t\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint max(int,int);\n\nint main(void){\n  int n,m,h[201],r[201],i,j,t,dp[201],res;\n\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&h[i],&r[i]);\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++)scanf(\"%d %d\",&h[i],&r[i]);\n\n      for(i=0;i<n+m;i++){\n\t  for(j=i;j<n+m;j++){\n\t      if(h[i]>h[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]>r[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t      }\n\t  }\n\t}\n      for(i=0;i<n+m;i++)dp[i]=0;\n      dp[0]=1;\n      \n      for(i=0;i<n+m;i++){\n\tfor(j=i+1;j<n+m;j++){\n\t  if(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n\t}\n      }\n      res=0;\n      for(i=0;i<n+m;i++)res=max(res,dp[i]);\n\n      printf(\"%d\\n\",res);\n  }\n  \n  return 0;\n}\n\nint max(int x,int y){\n  return x>y?x:y;\n}"
  },
  {
    "language": "C",
    "code": "6\n1 1\n4 3\n6 5\n8 6\n10 10\n14 14\n5\n2 2\n5 4\n6 6\n9 8\n15 10\n4\n1 1\n4 3\n6 5\n8 6\n3\n2 2\n5 4\n6 6\n4\n1 1\n4 3\n6 5\n8 6\n4\n10 10\n12 11\n18 15\n24 20\n0"
  },
  {
    "language": "C",
    "code": "#define Z(x)r=x[j],x[j]=x[j+1],x[j+1]=r\nh[201],w[201],d[201];main(n,i,j,r){for(;scanf(\"%d\",&n),n;printf(\"%d\\n\",r)){\nfor(i=0;i<n;i++)scanf(\"%d%d\",h+i,w+i);\nfor(scanf(\"%d\",&r),n+=r;i<n;i++)scanf(\"%d%d\",h+i,w+i);\nfor(i=0;i<n-1;i++)for(j=0;j<n-i-1;j++)if(h[j]>h[j+1])Z(h),Z(w);\nfor(memset(d,0,sizeof(d)),r=i=0;i<n;r=r>d[i]?r:d[i],i++)for(d[i]=1,j=0;j<i;j++)if(h[j]<h[i]&&w[j]<w[i])d[i]=d[j]>=d[i]?d[j]+1:d[i];\n}exit(0);}"
  },
  {
    "language": "C",
    "code": "/*\n   Aizu Vol-1 0157: Russian Dolls\n   2017.8.14 bal4u@uu\n   ???????¢????????????±???????????????????????????LIS???\n*/\n#include <stdio.h>\n\n#define MAX 200\nint h[MAX + 5], r[MAX + 5], N;\nint lis[MAX + 5];   /* LIS */\n\nint LIS(void)\n{\n\tint i, j, m;\n\n\tlis[N - 1] = 1;\n\tfor (i = N - 2; i >= 0; i--) {\n\t\tm = 0;\n\t\tfor (j = i + 1; j < N; j++) {\n\t\t\tif (h[i] < h[j] && r[i] < r[j] && lis[j] > m) m = lis[j];\n\t\t}\n\t\tlis[i] = m + 1;\n\t}\n\treturn lis[0];\n}\n\nint main()\n{\n\tint n, m;\n\tint i, j, k, t;\n\n\twhile (1) {\n\t\tscanf(\"%d\", &n); if (!n) break;\n\t\tN = n, i = 0;\n\t\twhile (n--) scanf(\"%d%d\", h + i, r + i), i++;\n\t\tscanf(\"%d\", &m);\n\t\tN += m;\n\t\twhile (m--) scanf(\"%d%d\", h + i, r + i), i++;\n\t\tfor (i = 0; i < N; i++) {\n\t\t\tk = i;\n\t\t\tfor (j = i + 1; j < N; j++) if (h[k] > h[j]) k = j;\n\t\t\tif (k != i) {\n\t\t\t\tt = h[i], h[i] = h[k], h[k] = t;\n\t\t\t\tt = r[i], r[i] = r[k], r[k] = t;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", LIS());\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint max(int a, int b)\n{\n\tif (a > b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nvoid bubble_sort(int *a, int *b, int n)\n{\n\tint i, j;\n\t\n\tfor (i = 0; i < n - 1; i++){\n\t\tfor (j = 0; j < n - i - 1; j++){\n\t\t\tif (a[j] > a[j + 1]){\n\t\t\t\ta[j] ^= a[j + 1];\n\t\t\t\ta[j + 1] ^= a[j];\n\t\t\t\ta[j] ^= a[j + 1];\n\t\t\t\t\n\t\t\t\tb[j] ^= b[j + 1];\n\t\t\t\tb[j + 1] ^= b[j];\n\t\t\t\tb[j] ^= b[j + 1];\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main(void)\n{\n\tint n, m;\n\tint height[201], width[201];\n\tint i, j;\n\tint res;\n\tint dp[201];\n\t\n\twhile (1){\n\t\tscanf(\"%d\", &n);\n\t\t\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d%d\", &height[i], &width[i]);\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &m);\n\t\t\n\t\tfor (i = 0; i < m; i++){\n\t\t\tscanf(\"%d%d\", &height[i + n], &width[i + n]);\n\t\t}\n\t\t\n\t\tbubble_sort(&height, &width, m + n);\n\t\t\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tres = 0;\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (height[j] < height[i] && width[j] < width[i]){\n\t\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t\tres = max(res, dp[i]);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", res);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n\nint i,j,k,h,r,mat[200][2][2],stk,ans[2];\nint n[2];\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n[0]){\n\t\tfor(i=0;i<n[0];i++)scanf(\"%d %d\",&mat[i][0][0],&mat[i][0][1]);\n\t\tmat[n[0]][0][0]=9999;mat[n[0]][0][1]=9999;\n\t\tscanf(\"%d\",&n[1]);\n\t\tfor(i=0;i<n[1];i++)scanf(\"%d %d\",&mat[i][1][0],&mat[i][1][1]);\n\t\tmat[n[1]][1][0]=9999;mat[n[1]][1][1]=9999;\n\n\t\tans[0]=n[0];ans[1]=n[1];\n\t\tfor(k=0;k<2;k++){\n\t\t\th=0;r=0;\n\t\t\tfor(i=0,j=0;j<n[(k+1)%2];j++){\n\t\t\t\twhile(mat[j][(k+1)%2][0]>=mat[i][k%2][0] || mat[j][(k+1)%2][1]>=mat[i][k%2][1]){\n\t\t\t\t\th=mat[i][k%2][0];r=mat[i][k%2][1];\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tif(mat[j][(k+1)%2][0]>h && mat[j][(k+1)%2][1]>r){\n\t\t\t\t\tans[k%2]++;\n\t\t\t\t\th=mat[j][(k+1)%2][0];r=mat[j][(k+1)%2][1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\",ans[0]>ans[1]?ans[0]:ans[1]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint n, m, h1[101], w1[101], h2[101], w2[101], dp[101][101];\n\nint max(int a, int b){\n    return a > b ? a : b;\n}\n\nint main(void){\n    int x, y;\n    while(scanf(\"%d\", &n) != EOF && n){\n        h1[0] = w1[0] = h2[0] = w2[0] = 0;\n        for(x = 1; x <= n; x++){\n            scanf(\"%d%d\", h1+x, w1+x);\n        }\n        scanf(\"%d\", &m);\n        for(x = 1; x <= m; x++){\n            scanf(\"%d%d\", h2+x, w2+x);\n        }\n        for(x = 0; x <= n; x++){\n            for(y = 0; y <= m; y++){\n            }\n        }\n        dp[0][0] = 0;\n        for(x = 0; x <= n; x++){\n            memset(dp[x], 0, sizeof(dp[x]));\n        }\n        for(x = 0; x <= n; x++){\n            for(y = 0; y <= n; y++){\n                if(x){\n                    dp[x][y] = max(dp[x][y], dp[x-1][y]);\n                    if(h1[x] > h2[y] && w1[x] > w2[y]){\n                        dp[x][y] = max(dp[x][y], dp[x-1][y] + 1);\n                    }\n                }\n                if(y){\n                    dp[x][y] = max(dp[x][y], dp[x][y-1]);\n                    if(h1[x] < h2[y] && w1[x] < w2[y]){\n                        dp[x][y] = max(dp[x][y], dp[x][y-1] + 1);\n                    }\n                }\n            }\n        }\n        printf(\"%d\\n\", dp[n][m]);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,max,w,h;\n  int a[250],b[250],da[250],db[250];\n  while(scanf(\"%d\",&n),n){\n    for(i=max=0;i<n;i++)scanf(\"%d %d\",&a[i],&b[i]);\n    scanf(\"%d\",&m);\n    for(;i<n+m;i++){\n      scanf(\"%d %d\",&w,&h);\n      for(j=i;j;j--){\n\tif(a[j-1]>w){\n\t  a[j]=a[j-1];\n\t  b[j]=b[j-1];\n\t}\n\telse break;\n      }\n      a[j]=w;\n      b[j]=h;\n    }//printf(\"%d %d\\n\",a[0],b[0]);\n    da[0]=a[0];\n    db[0]=b[0];\n    for(i=1;i<n+m;i++){//printf(\"%d %d\\n\",a[i],b[i]);\n      da[i]=db[i]=10000;\n      for(j=1;j<=i;j++){\n\tif(db[j-1]<=b[i]&&db[j]>b[i]&&da[j-1]<a[i]){\n\t  da[j]=a[i];\n\t  db[j]=b[i];\n\t  if(max<j)max=j;\n\t}\n      }\n      //for(j=0;j<=i;j++)printf(\"%d-%d \",da[j],db[j]);printf(\"\\n\");\n    }\n    printf(\"%d\\n\",max+1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>          // printf(), scanf()\n#include <stdlib.h>         // qsort()\n#include <string.h>         // memset()\n#include <stdbool.h>\n\n#define MAX_N (100 * 100)\n#define MAX_V 1001\n\ntypedef struct doll_tbl\n{\n\tint h;\n\tint r;\n} doll_t;\n\nint N;\ndoll_t size1[MAX_N];\ndoll_t size2[MAX_N];\nint dp[MAX_V][MAX_V];\n\nint\ncmp_func1(const void *l_, const void *r_)\n{\n\tconst doll_t *l = (const doll_t*) l_;\n\tconst doll_t *r = (const doll_t*) r_;\n\n\tif (l->h < r->h)\n\t\treturn 1;\n\n\tif (l->h > r->h)\n\t\treturn -1;\n\n\tif (l->r < r->r)\n\t\treturn 1;\n\n\tif (l->r > r->r)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nint\ncmp_func2(const void *l_, const void *r_)\n{\n\tconst doll_t *l = (const doll_t*) l_;\n\tconst doll_t *r = (const doll_t*) r_;\n\n\tif (l->r < r->r)\n\t\treturn 1;\n\n\tif (l->r > r->r)\n\t\treturn -1;\n\n\tif (l->h < r->h)\n\t\treturn 1;\n\n\tif (l->h > r->h)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nint\ndfs(int lh, int lr)\n{\n\tint h1, r1;\n\tint h2, r2;\n\tint i;\n\n\tif (dp[lh][lr] != -1)\n\t\treturn dp[lh][lr];\n\n\tfor (i = 0; i < N; ++i)\n\t{\n\t\tif (size1[i].h < lh && size1[i].r < lr)\n\t\t{\n\t\t\th1 = size1[i].h;\n\t\t\tr1 = size1[i].r;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tint a = 0;\n\tif (i < N)\n\t\ta = dfs(h1, r1) + 1;\n\n\tfor (i = 0; i < N; ++i)\n\t{\n\t\tif (size2[i].h < lh && size2[i].r < lr)\n\t\t{\n\t\t\th2 = size2[i].h;\n\t\t\tr2 = size2[i].r;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tint b = 0;\n\tif (i < N)\n\t\tb = dfs(h2, r2) + 1;\n\n\tdp[lh][lr] = (a > b) ? a : b;\n\treturn dp[lh][lr];\n}\n\nint\nsolve()\n{\n\tfor (int i = 0; i < N; ++i)\n\t\tsize2[i] = size1[i];\n\n\tqsort(size1, N, sizeof(doll_t), cmp_func1);\n\tqsort(size2, N, sizeof(doll_t), cmp_func2);\n\n\tmemset(dp, 0xff, sizeof(dp));\n\treturn dfs(1000, 1000);\n}\n\nint\nmain(int argc, char **argv)\n{\n\twhile (true)\n\t{\n\t\tint n, m;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\n\t\tN = 0;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tscanf(\"%d%d\", &size1[N].h, &size1[N].r);\n\t\t\tN++;\n\t\t}\n\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tscanf(\"%d%d\", &size1[N].h, &size1[N].r);\n\t\t\tN++;\n\t\t}\n\n\t\tprintf(\"%d\\n\", solve());\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,d[210][2],i,j,l,s[210],r[210],a,b;\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&d[i][0],&d[i][1]);\n    for(i=0;i<n;i++)r[i]=i;\n    scanf(\"%d\",&m);\n    for(i=n;i<m+n;i++){\n      scanf(\"%d %d\",&d[i][0],&d[i][1]);\n      for(j=i;j&&d[r[j-1]][0]*2000-d[r[j-1]][1]>d[i][0]*2000-d[i][1];j--)r[j]=r[j-1];\n      r[j]=i;\n    }\n    for(i=l=0;i<n+m;i++){\n      s[i]=10000;//printf(\"%d %d\\n\",d[r[i]][0],d[r[i]][1]);\n      for(j=l;j&&s[j-1]>=d[r[i]][1];j--);\n      s[j]=d[r[i]][1];\n      if(j==l)l++;\n    }\n    printf(\"%d\\n\",l);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n\ntypedef struct {\n\tint height;\n\tint hankei;\n} doll_t;\n\nint qsort_comp(const void* x,const void* y) {\n\tconst doll_t* a=(const doll_t*)x;\n\tconst doll_t* b=(const doll_t*)y;\n\tif((a->height)>(b->height))return 1;\n\tif((a->height)<(b->height))return -1;\n\tif((a->hankei)>(b->hankei))return 1;\n\tif((a->hankei)<(b->hankei))return -1;\n\treturn 0;\n}\n\nint qsort_comp2(const void* x,const void* y) {\n\tconst doll_t* a=(const doll_t*)x;\n\tconst doll_t* b=(const doll_t*)y;\n\tif((a->hankei)>(b->hankei))return 1;\n\tif((a->hankei)<(b->hankei))return -1;\n\tif((a->height)>(b->height))return 1;\n\tif((a->height)<(b->height))return -1;\n\treturn 0;\n}\n\nint doll_num;\ndoll_t dolls[200];\n\nint new_dolls_length[200];\nint new_dolls_length2[200];\n\nint main(void) {\n\tint doll_num_a,doll_num_b;\n\tint i,j;\n\tint result;\n\twhile(1) {\n\t\tscanf(\"%d\",&doll_num_a);\n\t\tif(doll_num_a==0)break;\n\t\tfor(i=0;i<doll_num_a;i++) {\n\t\t\tscanf(\"%d%d\",&dolls[i].height,&dolls[i].hankei);\n\t\t}\n\t\tscanf(\"%d\",&doll_num_b);\n\t\tfor(i=0;i<doll_num_b;i++) {\n\t\t\tscanf(\"%d%d\",\n\t\t\t\t&dolls[doll_num_a+i].height,&dolls[doll_num_a+i].hankei);\n\t\t}\n\t\tdoll_num=doll_num_a+doll_num_b;\n\t\tqsort(dolls,doll_num,sizeof(doll_t),qsort_comp);\n\t\tfor(i=0;i<doll_num;i++) {\n\t\t\tnew_dolls_length[i]=1;\n\t\t\tfor(j=0;j<i;j++) {\n\t\t\t\tif(dolls[j].height<dolls[i].height &&\n\t\t\t\t\t\tdolls[j].hankei<dolls[i].hankei &&\n\t\t\t\t\t\tnew_dolls_length[i]<new_dolls_length[j]+1) {\n\t\t\t\t\tnew_dolls_length[i]=new_dolls_length[j]+1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tqsort(dolls,doll_num,sizeof(doll_t),qsort_comp2);\n\t\tfor(i=0;i<doll_num;i++) {\n\t\t\tnew_dolls_length2[i]=1;\n\t\t\tfor(j=0;j<i;j++) {\n\t\t\t\tif(dolls[j].height<dolls[i].height &&\n\t\t\t\t\t\tdolls[j].hankei<dolls[i].hankei &&\n\t\t\t\t\t\tnew_dolls_length2[i]<new_dolls_length2[j]+1) {\n\t\t\t\t\tnew_dolls_length2[i]=new_dolls_length2[j]+1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tresult=new_dolls_length[doll_num-1];\n\t\tif(result<new_dolls_length2[doll_num-1]) {\n\t\t\tresult=new_dolls_length2[doll_num-1];\n\t\t}\n\t\tprintf(\"%d\\n\",result);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>          // printf(), scanf()\n#include <stdlib.h>         // qsort()\n#include <stdbool.h>\n\n#define MAX_N 200\n#define max(a, b) ((a) > (b) ? (a) : (b))\n\ntypedef struct doll_tbl\n{\n\tshort h;\n\tshort r;\n} doll_t;\n\nshort N;\ndoll_t doll[MAX_N];\n\nint\ncmp_func(const void *l_, const void *r_)\n{\n\tconst doll_t *l = (const doll_t*) l_;\n\tconst doll_t *r = (const doll_t*) r_;\n\n\tif (l->h < r->h)\n\t\treturn -1;\n\n\tif (l->h > r->h)\n\t\treturn 1;\n\n\treturn 0;\n}\n\nint\nsolve()\n{\n\tshort dp[MAX_N];\n\n\tqsort(doll, N, sizeof(doll_t), cmp_func);\n\n\tint count = 0;\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tdp[i] = 1;\n\t\tfor (int j = 0; j < i; ++j)\n\t\t{\n\t\t\tif (doll[j].h < doll[i].h && doll[j].r < doll[i].r)\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t}\n\n\t\tcount = max(count, dp[i]);\n\t}\n\n\treturn count;\n}\n\nint\nmain(int argc, char **argv)\n{\n\twhile (true)\n\t{\n\t\tint n, m;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tscanf(\"%hd%hd\", &doll[i].h, &doll[i].r);\n\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = 0; i < m; ++i)\n\t\t\tscanf(\"%hd%hd\", &doll[n + i].h, &doll[n + i].r);\n\n\t\tN = n + m;\n\t\tprintf(\"%d\\n\", solve());\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n} dolls[100];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    return(1+solve(dolls[index].h, dolls[index].r ,index+1));\n  else\n    return(solve(hh,rr,index+1));\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d %d\\n\",dolls[i].h,dolls[i].r);\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].r,&dolls[i].h);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].r,&dolls[i+n].h);\n      total=n+m;\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct {\n\tint h;\n\tint r;\n} DOLL;\n\nint cmp(const void *a, const void *b)\n{\n\tDOLL x, y;\n\t\n\tx = *(DOLL *)a;\n\ty = *(DOLL *)b;\n\t\n\tif (x.r - y.r){\n\t\treturn (x.r - y.r);\n\t}\n\treturn (x.h - y.h);\n}\n\nint main(void)\n{\n\tDOLL rusd[256];\n\tint dp[256];\n\tint n, m;\n\tint i, j;\n\tint ans;\n\t\n\twhile (1){\n\t\tans = 0;\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) break;\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d %d\", &rusd[i].h, &rusd[i].r);\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tif (m == 0) break;\n\t\tfor (j = 0; j < m; j++){\n\t\t\tscanf(\"%d %d\", &rusd[n + j].h, &rusd[n + j].r);\n\t\t}\n\t\tqsort(rusd, n + m, sizeof(DOLL), cmp);\n\t\t\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (rusd[i].h > rusd[j].h && rusd[i].r > rusd[j].r){\n\t\t\t\t\tif (dp[i] < dp[j] + 1){\n\t\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t\t\tif (ans < dp[i]){\n\t\t\t\t\t\t\tans = dp[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint LIS(void);\n\n\n\nint h[201], r[201], m, n;\n\n\n\nint main(void)\n\n{\n\nint i, j, t;\n\nwhile(1)\n\n{\n\nscanf(\"%d\",&n);\n\nif(n==0)break;\n\n\n\nfor(i=0;i<n;i++)\n\nscanf(\"%d%d\",&h[i] ,&r[i]);\n\n\n\nfor(i=0;i<n+m;i++)\n\n{\n\nfor(j=0;j<n+m;j++)\n\n{\n\nif(h[i]<h[j])\n\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\nif(h[i]==h[j] && r[i]<r[j])\n\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\n}\n\n}\n\nprintf(\"%d\\n\",LIS());\n\n}\n\nreturn 0;\n\n}\n\n\n\nint LIS(void)\n\n{\n\nint i ,j ,k ,L[201] ,max=0;\n\n\n\nfor(i=0;i<201;i++)\n\nL[i]=1;\n\n\n\nfor(i=1;i<n+m;i++)\n\n{\n\nj=i-1;\n\nfor(k=0;k<i;k++)\n\n{\n\nif(r[k]<r[i] && h[k]<h[i]ツ　&& L[k]>=L[i])L[i]=L[k]+1;\n\n}\n\n}\n\nfor(i=0;i<n+m;i++)\n\nif(max<L[i])max=L[i];\n\n\n\nreturn max;\n\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n       printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n      if(r[j]<r[i] && h[i]<=h[j])\n\t{\n\t  L[i]=L[j]+1;\n\t}\n      else \n\t{\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i] && h[k]<h[i] && L[k]>=L[i])L[i]=L[k]+1;\n\t    }\n\t}\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n  \n  /* for(i=0;i<n+m;i++)\n\t printf(\"%d\\n\",L[i]);*/\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>          // printf(), scanf()\n#include <stdlib.h>         // qsort()\n#include <stdbool.h>\n\n#define MAX_N 200\n#define max(a, b) ((a) > (b) ? (a) : (b))\n\ntypedef struct doll_tbl\n{\n\tint h;\n\tint r;\n} doll_t;\n\nint\ncmp_func(const void *l_, const void *r_)\n{\n\tconst doll_t *l = (const doll_t*) l_;\n\tconst doll_t *r = (const doll_t*) r_;\n\n\tif (l->h < r->h)\n\t\treturn -1;\n\n\tif (l->h > r->h)\n\t\treturn 1;\n\n\treturn 0;\n}\n\nint\nsolve(doll_t doll[MAX_N], int N)\n{\n\tint dp[MAX_N];\n\n\tqsort(doll, N, sizeof(doll_t), cmp_func);\n\n\tint count = 0;\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tdp[i] = 1;\n\t\tfor (int j = 0; j < i; ++j)\n\t\t{\n\t\t\tif (doll[j].h < doll[i].h && doll[j].r < doll[i].r)\n\t\t\t\tdp[i] = max(dp[i], dp[j] + 1);\n\t\t}\n\n\t\tcount = max(count, dp[i]);\n\t}\n\n\treturn count;\n}\n\nint\nmain(int argc, char **argv)\n{\n\tdoll_t doll[MAX_N];\n\n\twhile (true)\n\t{\n\t\tint n, m;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tscanf(\"%d%d\", &doll[i].h, &doll[i].r);\n\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = 0; i < m; ++i)\n\t\t\tscanf(\"%d%d\", &doll[n + i].h, &doll[n + i].r);\n\n\t\tprintf(\"%d\\n\", solve(doll, n + m));\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,h[210],r[210],m,k,temp,temp1,y=0;\n  while(1){\n    scanf(\"%d\",&n);\n    if(n==0){\n      break;\n    }\n    k=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    for(i=0;i<n+m-1;i++){\n      for(j=n+m-1;j>i;j--){\n\ty=0;\n\tif(h[j]>h[j-1] && h[j]!=h[j]){\n\t  temp1=r[j];\n\t  r[j]=r[j-1];\n\t  r[j-1]=temp1;\n\t  temp=h[j];\n\t  h[j]=h[j-1];\n\t  h[j-1]=temp;\n\t}\n\tif(h[j]>h[j-1] && h[j]==h[j]){\n\t  if(r[j]>r[j-1]){\n\t    temp1=r[j];\n\t    r[j]=r[j-1];\n\t    r[j-1]=temp1;\n\t    temp=h[j];\n\t    h[j]=h[j-1];\n\t    h[j-1]=temp;\n\t  }\n\t  else{\n\t    y=1;\n\t    continue;\n\t  }\n\t}\n\tif(y==1){\n\t  continue;\n\t}\n      }\n    }\n    for(i=1;i<n+m;i++){\n      if(h[0]>h[i] && r[0]>r[i]){\n\th[0]=h[i];\n\tk++;\n      }\n    }\n    printf(\"%d\\n\",k);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,h[210],r[210],m,k,temp,temp1;\n  while(1){\n    scanf(\"%d\",&n);\n    if(n==0){\n      break;\n    }\n    k=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    for(i=0;i<n+m-1;i++){\n      for(j=n+m-1;j>i;j--){\n\tif(h[j]>h[j-1] && h[j]!=h[j]){\n\t  temp1=r[j];\n\t  r[j]=r[j-1];\n\t  r[j-1]=temp1;\n\t  temp=h[j];\n\t  h[j]=h[j-1];\n\t  h[j-1]=temp;\n\t}\n\tif(h[j]>h[j-1] && h[j]==h[j]){\n\t  if(r[j]>r[j-1]){\n\t    temp1=r[j];\n\t    r[j]=r[j-1];\n\t    r[j-1]=temp1;\n\t    temp=h[j];\n\t    h[j]=h[j-1];\n\t    h[j-1]=temp;\n\t  }\n\t  else{\n\t    continue;\n\t  }\n\t}\n      }\n    }\n    for(i=1;i<n+m;i++){\n      if(h[0]>h[i] && r[0]>r[i]){\n\th[0]=h[i];\n\tk++;\n      }\n    }\n    printf(\"%d\\n\",k);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000 \nusing namespace std;\nint h1[N],r1[N];\n\nvoid sort(int,int);\nint syori(int,int);\n\nint main(){/*main*/\n  int i,n1,n2,j,res;\n\n  for(i=0;i<N;i++){\n    h1[i]=0;\n    r1[i]=0;\n  }\n\n  while(1){\n\n  cin >> n1; // êQÌ}g[VJÌ\n\n  if(n1 == 0)break;\n\n  for(i=0;i<n1;i++){\n    cin >> h1[i] >> r1[i]; //(n1-1)ÜÅªêQ\n  }\n\n  cin >> n2; //ñYÌ}g[VJÌ\n\n  for(i=n1;i<(n1+n2);i++){\n    cin >> h1[i] >> r1[i]; //n1©ç(n1+n2-1)ÜÅªñY\n  }\n\n  sort(n1,n2); // ¬³¢ÉÀÑÖ¦\n\n  //  for(i=0;i<n1+n2;i++){\n  // cout << i << \":\"<< h1[i] << \" \" << r1[i] <<endl;\n  // }\n\n   res=syori(n1,n2);\n\n   \n  \n  cout << res << endl;\n  res=0;\n\n  }\n\n}\n\n\nvoid sort(int n1,int n2){\n  int k,l,max,h;\n\n  for(k=0;k<(n1+n2);k++){\n    max=k;\n    for(l=k;l<(n1+n2);l++){\n      if(h1[l]<h1[max]){ max=l; }\n    }\n    h=h1[max];\n    h1[max]=h1[k];\n    h1[k]=h;\n\n    h=r1[max];\n    r1[max]=r1[k];\n    r1[k]=h;\n    \n  }\n\n\n}\n\n\nint syori(int n1,int n2){\n  int q,i,H[N],Hcount=0,ans,I[N],HH[N],count=1,kcount=0;\n  ans=0;\n\n  for(q=0;q<N-5;q++){  \n    H[q]=0;\n    I[q]=0;\n    HH[q]=0;\n  }\n\n  //cout << \"test\" << endl;\n\n  for(q=0;q<(n1+n2);q++){\n    if(h1[q]<h1[q+1] && r1[q]<r1[q+1])count++; \n    \n    if((h1[q]==h1[q+1] || r1[q] == r1[q+1]) && HH[q+1]==0 ){\n      count++; \n      H[q+1]=count-1;\n      HH[q+1]=1;\n      Hcount++;\n      I[q+1]=q+1;\n      q+=1;\n    }\n\n    //  cout << Hcount << endl;\n\n\n    if(q==(n1+n2-1) && Hcount!=0){\n      Hcount=0;\n      kcount=1;\n\n      if(count>=ans)ans=count;\n      \n      // cout << \"ans--\" << ans << endl; \n\n      for(i=0;i<(n1+n2);i++){\n\t\n\tif(HH[i]==1){\n\t  count=H[i];\n\t  H[i]=0;\n\t  HH[i]=0;\n\t  q=I[i];\n\t  break;\n\t}\n\t\n      }\n      \n      \n    }\n\n  \n    \n  }\n     \n  if(kcount==0){ ans=count; } // kcountªOÌÆ«Í¾ÔèÈµ\n  else{ kcount=0; }           // ±ÌvOÅÍ¾ÔçÈ¢ÆansªÅÈ¢\n  \n    return ans;\n}\n  "
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[2000],r[2000],p[4000];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n    \n    scanf(\"%d\",&n);\n    if(n==0){break;}\n    \n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d %d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o;   \n\t}\n      }\n    }\n \n    /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i-1;j>=0;j--){\n\tif(r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;     \n\t  }\n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n if(m==0){break;}\n    \n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint n, m, h1[101], w1[101], h2[101], w2[101], dp[101][101];\n\nint max(int a, int b){\n    return a > b ? a : b;\n}\n\nint main(void){\n    int x, y;\n    while(scanf(\"%d\", &n) != EOF && n){\n        h1[0] = w1[0] = h2[0] = w2[0] = 0;\n        for(x = 1; x <= n; x++){\n            scanf(\"%d%d\", h1+x, w1+x);\n        }\n        scanf(\"%d\", &m);\n        for(x = 1; x <= m; x++){\n            scanf(\"%d%d\", h2+x, w2+x);\n        }\n        for(x = 0; x <= n; x++){\n            for(y = 0; y <= m; y++){\n            }\n        }\n        dp[0][0] = 0;\n        for(x = 0; x <= n; x++){\n            memset(dp[x], 0, sizeof(dp[x]));\n        }\n        for(x = 0; x <= n; x++){\n            for(y = 0; y <= m; y++){\n                if(x){\n                    dp[x][y] = max(dp[x][y], dp[x-1][y]);\n                    if(h1[x] > h2[y] && w1[x] > w2[y]){\n                        dp[x][y] = max(dp[x][y], dp[x-1][y] + 1);\n                    }\n                }\n                if(y){\n                    dp[x][y] = max(dp[x][y], dp[x][y-1]);\n                    if(h1[x] < h2[y] && w1[x] < w2[y]){\n                        dp[x][y] = max(dp[x][y], dp[x][y-1] + 1);\n                    }\n                }\n            }\n        }\n        printf(\"%d\\n\", dp[n][m]);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct {\n\tint h;\n\tint r;\n} DOLL;\n\nint cmp(const void *a, const void *b)\n{\n\tDOLL x, y;\n\t\n\tx = *(DOLL *)a;\n\ty = *(DOLL *)b;\n\t\n\tif (x.r - y.r){\n\t\treturn (x.r - y.r);\n\t}\n\treturn (x.h - y.h);\n}\n\nint main(void)\n{\n\tDOLL rusd[256];\n\tint dp[256];\n\tint n, m;\n\tint i, j;\n\tint ans;\n\t\n\twhile (1){\n\t\tans = 0;\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) break;\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d %d\", &rusd[i].h, &rusd[i].r);\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (j = 0; j < m; j++){\n\t\t\tscanf(\"%d %d\", &rusd[n + j].h, &rusd[n + j].r);\n\t\t}\n\t\tqsort(rusd, n + m, sizeof(DOLL), cmp);\n\t\t\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (rusd[i].h > rusd[j].h && rusd[i].r > rusd[j].r){\n\t\t\t\t\tif (dp[i] < dp[j] + 1){\n\t\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t\t\tif (ans < dp[i]){\n\t\t\t\t\t\t\tans = dp[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\ntypedef struct {\n\tint w;\n\tint h;\n} mt;\n\nint max(int a, int b) {\n\treturn a > b ? a : b;\n}\n\nint main(void) {\n\twhile(1) {\n\t\tint N, M, i, j;\n\t\tmt M1[100];\n\t\tmt M2[100];\n\t\tmt M3[200];\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) break;\n\t\tfor(i = 0; i < N; i++) {\n\t\t\tscanf(\"%d %d\", &(M1[i].w), &(M1[i].h));\n\t\t}\n\t\tscanf(\"%d\", &M);\n\t\tfor(j = 0; j < M; j++) {\n\t\t\tscanf(\"%d %d\", &(M2[j].w), &(M2[j].h));\n\t\t}\n\t\t\n\t\t//merge\n\t\tint target = 0;\n\t\tint lt = 0, gt = 0;\n\t\twhile(1) {\n\t\t\twhile(lt < N && gt < M && M1[lt].w > M2[gt].w) {\n\t\t\t\tM3[target].w = M2[gt].w;\n\t\t\t\tM3[target].h = M2[gt].h;\n\t\t\t\tgt++;\n\t\t\t\ttarget++;\n\t\t\t}\n\t\t\twhile(lt < N && gt < M && M1[lt].w < M2[gt].w) {\n\t\t\t\tM3[target].w = M1[lt].w;\n\t\t\t\tM3[target].h = M1[lt].h;\n\t\t\t\tlt++;\n\t\t\t\ttarget++;\n\t\t\t}\n\t\t\twhile(lt < N && gt < M && M1[lt].w == M2[gt].w) {\n\t\t\t\tif (M1[lt].h < M2[gt].h) {\n\t\t\t\t\tM3[target].w = M1[lt].w;\n\t\t\t\t\tM3[target].h = M1[lt].h;\n\t\t\t\t\tlt++;\n\t\t\t\t\ttarget++;\n\t\t\t\t} else {\n\t\t\t\t\tM3[target].w = M2[lt].w;\n\t\t\t\t\tM3[target].h = M2[lt].h;\n\t\t\t\t\tgt++;\n\t\t\t\t\ttarget++;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile(lt == N && gt < M) {\n\t\t\t\tM3[target].w = M2[gt].w;\n\t\t\t\tM3[target].h = M2[gt].h;\n\t\t\t\tgt++;\n\t\t\t\ttarget++;\n\t\t\t}\n\t\t\twhile(gt == M && lt < N) {\n\t\t\t\tM3[target].w = M1[lt].w;\n\t\t\t\tM3[target].h = M1[lt].h;\n\t\t\t\tlt++;\n\t\t\t\ttarget++;\n\t\t\t}\n\t\t\tif (lt == N && gt == M) break;\n\t\t}\n\t\t\n\t\t//dp\n\t\tint dp[200] = {0};\n\n\t\tfor(i = 0; i < N + M - 1; i++) {\n\t\t\tfor(j = i + 1; j < N + M; j++) {\n\t\t\t\tif (M3[i].w < M3[j].w && M3[i].h < M3[j].h) {\n\t\t\t\t\tdp[j] = max(dp[j], dp[i] + 1);\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor(i = 0; i < N + M; i++) {\n\t\t\tif (dp[i] > ans) {\n\t\t\t\tans = dp[i];\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans + 1);\n\t}\n\t\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct {\n\tint h;\n\tint r;\n} DOLL;\n\nint cmp(const void *a, const void *b)\n{\n\tDOLL x, y;\n\t\n\tx = *(DOLL *)a;\n\ty = *(DOLL *)b;\n\t\n\tif (x.r - y.r){\n\t\treturn (x.r - y.r);\n\t}\n\tif (x.h - x.h){\n\t\treturn (x.h - y.h);\n\t}\n\t\n\treturn (1);\n}\n\nint main(void)\n{\n\tDOLL rusd[256];\n\tint dp[256];\n\tint n, m;\n\tint i, j;\n\tint ans;\n\t\n\twhile (1){\n\t\tans = 0;\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(rusd, 0, sizeof(rusd));\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) break;\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d %d\", &rusd[i].h, &rusd[i].r);\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (j = 0; j < m; j++){\n\t\t\tscanf(\"%d %d\", &rusd[n + j].h, &rusd[n + j].r);\n\t\t}\n\t\tqsort(rusd, n + m, sizeof(DOLL), cmp);\n\t\t\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (rusd[i].h > rusd[j].h && rusd[i].r > rusd[j].r){\n\t\t\t\t\tif (dp[i] <= dp[j]){\n\t\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t\t\tif (ans < dp[i]){\n\t\t\t\t\t\t\tans = dp[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "h[201],w[201],d[201];main(n,i,j,r){for(;scanf(\"%d\",&n),n;printf(\"%d\\n\",r)){\nfor(i=0;i<n;i++)scanf(\"%d%d\",h+i,w+i);\nfor(scanf(\"%d\",&r),n+=r;i<n;i++)scanf(\"%d%d\",h+i,w+i);\nfor(i=0;i<n-1;i++)for(j=0;j<n-i-1;j++)if(h[j]>h[j+1])r=h[j],h[j]=h[j+1],h[j+1]=r,r=w[j],w[j]=w[j+1],w[j+1]=r;\nfor(memset(d,0,sizeof(d)),r=i=0;i<n;r=r>d[i]?r:d[i],i++)for(d[i]=1,j=0;j<i;j++)if(h[j]<h[i]&&w[j]<w[i])d[i]=d[j]>=d[i]?d[j]+1:d[i];\n}exit(0);}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,a[1010][2],b[1010][2],c[2010],s[1010],i,j,ar=0,br=0,r;\n  while(scanf(\"%d\",&n),n){\n    for(i=ar=0;i<n;i++)scanf(\"%d %d\",&a[i][0],&a[i][1]);\n    scanf(\"%d\",&m);\n    for(i=br=0;i<m;i++)scanf(\"%d %d\",&b[i][0],&b[i][1]);\n    a[n][0]=b[m][0]=10000;\n    for(i=0;i<n+m;i++){\n      if     (a[ar][0]<b[br][0])c[i]=a[ar++][1];\n      else if(a[ar][0]>b[br][0])c[i]=b[br++][1];\n      else{\n\tif   (a[ar][1]<b[br][1])c[i]=b[br++][1];\n\telse                    c[i]=a[ar++][1]; \n      }\n    }\n    //for(i=0;i<n+m;i++)printf(\"%d \",c[i]);printf(\"\\n\");\n    r=1;\n    for(s[i=0]=-1;i<n+m;i++){\n      for(s[j=r]=10000;s[j-1]>c[i];j--);\n      if(s[j]>c[i])s[j]=c[i];\n      if(j==r)r++;\n      //for(j=0;j<r;j++)printf(\"%d \",s[j]);printf(\"\\n\");\n    }\n    printf(\"%d\\n\",r-1);\n  }\n  return 0;\n}\n "
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint LIS(void);\n\n\n\nint h[201], r[201], m, n;\n\n\n\nint main(void)\n\n{\n\nint i, j, t;\n\nwhile(1)\n\n{\n\nscanf(\"%d\",&n);\n\nif(n==0)break;\n\n\n\nfor(i=0;i<n;i++)\n\nscanf(\"%d%d\",&h[i] ,&r[i]);\n\n\n\nscanf(\"%d\",&m);\n\n\n\nfor(i=n;i<n+m;i++)\n\nscanf(\"%d%d\",&h[i],&r[i]);\n\n\n\nfor(i=0;i<n+m;i++)\n\n{\n\nfor(j=0;j<n+m;j++)\n\n{\n\nif(h[i]<h[j])\n\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\nif(h[i]==h[j] && r[i]<r[j])\n\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\n}\n\n}\n\nprintf(\"%d\\n\",LIS());\n\n}\n\nreturn 0;\n\n}\n\n\nint LIS(void)\n\n{\n\nint i, j, k, L[201], max=0;\n\n\n\nfor(i=0;i<201;i++)\n\nL[i]=1;\n\n\n\nfor(i=1;i<n+m;i++)\n\n{\n\nj=i-1;\n\nfor(k=0;k<i;k++)\n\n{\n\nif(r[k]<r[i] && h[k]<h[i] && L[k]>=L[i])L[i]=L[k]+1;\n\n}\n\n}\n\nfor(i=0;i<n+m;i++)\n\nif(max<L[i])max=L[i];\n\n\n\nreturn max;\n\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\ntypedef struct{int h,r;}P;\nint max(int a,int b){return a>b?a:b;}\nint main(void)\n{\n  P t[201]={0},tt;\n  int l[201];\n  int n,m,i,j,p,res;\n  for(;;){\n    scanf(\"%d\",&n);if(!n)break;\n    for(i=1;i<=n;i++)scanf(\"%d%d\",&t[i].h,&t[i].r);\n    scanf(\"%d\",&m);\n    for(i=1;i<=m;i++)scanf(\"%d%d\",&t[i+n].h,&t[i+n].r);\n    res=l[0]=0;//memset(l,0,sizeof(l));\n    for(i=n+m;i>1;i--)\n      for(j=1;j<=i;j++)\n\tif(t[j].h>t[j+1].h)tt=t[j],t[j]=t[j+1],t[j+1]=tt;\n    for(i=1;i<=n+m;i++){p=0;\n      for(j=0;j<=i-1;j++)if(t[j].h<t[i].h&&t[j].r<t[i].r&&l[j]>l[p])p=j;\n      l[i]=l[p]+1;res=max(res,l[i]);\n    }\n    printf(\"%d\\n\",res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,a[1010][2],b[1010][2],c[2010],s[1010],i,j,ar=0,br=0,r;\n  while(scanf(\"%d\",&n),n){\n    for(i=ar=0;i<n;i++)scanf(\"%d %d\",&a[i][0],&a[i][1]);\n    scanf(\"%d\",&m);\n    for(i=br=0;i<m;i++)scanf(\"%d %d\",&b[i][0],&b[i][1]);\n    a[n][0]=b[m][0]=10000;\n    for(i=0;i<n+m;i++){\n      if     (a[ar][0]<b[br][0])c[i]=a[ar++][1];\n      else if(a[ar][0]>b[br][0])c[i]=b[br++][1];\n      else{\n\tif   (a[ar][1]<b[br][1])c[i]=b[br++][1];\n\telse                    c[i]=a[ar++][1]; \n      }\n    }\n    //for(i=0;i<n+m;i++)printf(\"%d \",c[i]);printf(\"\\n\");\n    r=1;\n    for(s[i=0]=-1;i<n+m;i++){\n      for(s[j=r]=10000;s[j]>c[i];j--){\n\tif(s[j-1]<c[i])s[j]=c[i];\n      }\n      if(j==r-1)r++;\n      //for(j=0;j<r;j++)printf(\"%d \",s[j]);printf(\"\\n\");\n    }\n    printf(\"%d\\n\",r-1);\n  }\n  return 0;\n}\n  "
  },
  {
    "language": "C",
    "code": "/*\n   Aizu Vol-1 0157: Russian Dolls\n   2017.8.14 bal4u@uu\n   ???????¢????????????±???????????????????????????LIS???\n*/\n#include <stdio.h>\n\n#define MAX 200\nint h[MAX + 5], r[MAX + 5], N;\nint lis[MAX + 5];   /* LIS */\n\nint LIS(void)\n{\n\tint i, j, m;\n\n\tlis[N - 1] = 1;\n\tfor (i = N - 2; i >= 0; i--) {\n\t\tm = 0;\n\t\tfor (j = i + 1; j < N; j++) {\n\t\t\tif (r[i] < r[j] && lis[j] > m) m = lis[j];\n\t\t}\n\t\tlis[i] = m + 1;\n\t}\n\treturn lis[0];\n}\n\nint main()\n{\n\tint n, m;\n\tint i, j, k, t;\n\n\twhile (1) {\n\t\tscanf(\"%d\", &n); if (!n) break;\n\t\tN = n, i = 0;\n\t\twhile (n--) scanf(\"%d %d\", h + i, r + i), i++;\n\t\tscanf(\"%d\", &m);\n\t\tN += m;\n\t\twhile (m--) scanf(\"%d %d\", h + i, r + i), i++;\n\t\tfor (i = 0; i < N; i++) {\n\t\t\tk = i;\n\t\t\tfor (j = i + 1; j < N; j++) if (h[k] > h[j]) k = j;\n\t\t\tif (k != i) {\n\t\t\t\tt = h[i], h[i] = h[k], h[k] = t;\n\t\t\t\tt = r[i], r[i] = r[k], r[k] = t;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", LIS());\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nvoid sort(int data1[], int data2[], int, int);\nvoid change(int data1[], int data2[], int, int);\n\nmain(){\n  int n, m;\n  int data1[201], data2[201];\n  int l[201];\n  int p[201];\n  int max, i, temp, j, c, k,a;\n\n  while(1){\n    data1[0]=data2[0]=-1;\n    l[0]=0;\n    p[0]=-1;\n    scanf(\"%d\", &n);\n    if(n==0) break;\n\n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\", &data1[i], &data2[i]);\n    }\n    \n    scanf(\"%d\", &m);\n\n    for(i=n+1;i<=n+m;i++){\n      scanf(\"%d %d\", &data1[i], &data2[i]);\n    }\n\n    sort(data1, data2, 0, n+m);\n    /*for(i=0;i<n+m;i++){\n      printf(\"%d %d\\n\", data1[i], data2[i]);\n      }*/\n    \n    for(i=1;i<=n+m;i++){\n      max=-1;\n      temp=-1;\n      for(j=0;j<i;j++){\n\tif(data1[i]>data1[j] && data2[i]>data2[j]){\n\t  if(l[j]>max){\n\t    max=l[j];\n\t    temp=j;\n\t  }\n\t}\n      }\n      p[i]=temp;\n      l[i]=l[temp]+1;\n    }\n\n\n    max=-2;\n    for(i=0;i<=n+m;i++){\n      if(l[i]>max) max=l[i];\n    }\n    \n    printf(\"%d\\n\", max);\n  }\n  return 0;\n}\n\nvoid sort(int data1[], int data2[], int h, int t){\n  int i, j;\n  int temp;\n  int p;\n\n  temp=(h+t)/2;\n  p=data1[temp];\n  i=h;\n  j=t;\n\n  while(1){\n    while(data1[i]<p) i++;\n    while(p<data1[j]) j--;\n    if(i>=j) break;\n    change(data1,data2,i,j);\n    i++;\n    j--;\n  }\n  if(h<i-1) sort(data1,data2,h,i-1);\n  if(j+1<t) sort(data1,data2,j+1,t);\n}\n\nvoid change(int data1[], int data2[], int i, int j){\n  int temp;\n\n  temp=data1[i];\n  data1[i]=data1[j];\n  data1[j]=temp;\n\n  temp=data2[i];\n  data2[i]=data2[j];\n  data2[j]=temp;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[2002],r[2002],p[4004];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n    \n    scanf(\"%d\",&n);\n    if(n==0){break;}\n    \n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d %d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o; \n\t}\n      }\n    }\n    \n    /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i;j>=0;j--){\n\tif(r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;  \n\t  }  \n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n       printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n      /*if(r[j]<r[i] && h[j]<h[i])\n\t{\n\t  L[i]=L[j]+1;\n\t}\n      else \n      {*/\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i] && h[k]<h[i] && L[k]>=L[i])L[i]=L[k]+1;\n\t    }\n\t  //\t}\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint LIS(void);\n\n\n\nint h[201], r[201], m, n;\n\n\n\nint main(void)\n\n{\n\nint i, j, t;\n\nwhile(1)\n\n{\n\nscanf(\"%d\",&n);\n\nif(n==0)break;\n\n\n\nfor(i=0;i<n;i++)\n\nscanf(\"%d%d\",&h[i] ,&r[i]);\n\n\n\nscanf(\"%d\",&m);\n\n\n\nfor(i=n;i<n+m;i++)\n\nscanf(\"%d%d\",&h[i],&r[i]);\n\n\n\nfor(i=0;i<n+m;i++)\n\n{\n\nfor(j=0;j<n+m;j++)\n\n{\n\nif(h[i]<h[j])\n\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\nif(h[i]==h[j] && r[i]<r[j])\n\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\n}\n\n}\n\nprintf(\"%d\\n\",LIS());\n\n}\n\nreturn 0;\n\n}\n\n\n\nint LIS(void)\n\n{\n\nint i ,j ,k ,L[201] ,max=0;\n\n\n\nfor(i=0;i<201;i++)\n\nL[i]=1;\n\n\n\nfor(i=1;i<n+m;i++)\n\n{\n\nj=i-1;\n\nfor(k=0;k<i;k++)\n\n{\n\nif(r[k]<r[i] && h[k]<h[i]ツ　&& L[k]>=L[i])L[i]=L[k]+1;\n\n}\n\n}\n\nfor(i=0;i<n+m;i++)\n\nif(max<L[i])max=L[i];\n\n\n\nreturn max;\n\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n\nint i,j,k,h,r,mat[200][2][2],stk,ans;\nint n,m;\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tfor(i=0;i<n;i++)scanf(\"%d %d\",&mat[i][0][0],&mat[i][0][1]);\n\t\tmat[n][0][0]=9999;mat[n][0][1]=9999;\n\t\tscanf(\"%d\",&m);\n\t\tfor(i=0;i<m;i++)scanf(\"%d %d\",&mat[i][1][0],&mat[i][1][1]);\n\t\tmat[m][1][0]=9999;mat[m][1][1]=9999;\n\n\t\tans=n;h=0;r=0;\n\t\tfor(i=0,j=0;j<m;j++){\n\t\t\twhile(mat[j][1][0]>=mat[i][0][0] || mat[j][1][1]>=mat[i][0][1]){\n\t\t\t\th=mat[i][0][0];r=mat[i][0][1];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(mat[j][1][0]>h && mat[j][1][1]>r){\n\t\t\t\tans++;\n\t\t\t\th=mat[j][1][0];r=mat[j][1][1];\n\t\t\t}\n\t\t}\n\n\t\tstk=m;h=0;r=0;\n\t\tfor(i=0,j=0;i<n;i++){\n\t\t\twhile(mat[i][0][0]>=mat[j][1][0] || mat[i][0][1]>=mat[j][1][1]){\n\t\t\t\th=mat[j][1][0];r=mat[j][1][1];\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif(mat[i][0][0]>h && mat[i][0][1]>r){\n\t\t\t\tstk++;\n\t\t\t\th=mat[i][0][0];r=mat[i][0][1];\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\",stk>ans?stk:ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\nint N,M,m[205][2],i,j,dp[205],R;\n\nint cmp(const void *a,const void *b)\n{\n\tint *x=(int*)a,*y=(int*)b;\n\tif(x[0]==y[0])return x[1]-y[1];\n\treturn x[0]-y[0];\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\",&N),N;)\n\t{\n\t\tfor(i=0;i<N;i++)\n\t\t\tscanf(\"%d%d\",&m[i][0],&m[i][1]);\n\t\tscanf(\"%d\",&M);\n\t\tfor(i=0;i<M;i++)\n\t\t\tscanf(\"%d%d\",&m[i+N][0],&m[i+N][1]);\n\t\tint tmp=N+M;\n\t\tqsort(m,tmp,sizeof(int[2]),cmp);\n\t\tfor(i=0;i<N+M;i++)dp[i]=1;\n\t\tfor(i=R=0;i<N+M;i++)\n\t\t\tfor(j=i;j<N+M;j++)\n\t\t\t\tif(m[j][0]>m[i][0]&&m[j][1]>m[i][1])\n\t\t\t\t{\n\t\t\t\t\tdp[j]=dp[j]<dp[i]+1?dp[i]+1:dp[j];\n\t\t\t\t\tR=dp[j]>R?dp[j]:R;\n\t\t\t\t}\n\t\tprintf(\"%d\\n\",R);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint hLIS(void);\nint rLIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t,x,y;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n      x=hLIS();\n      y=rLIS();\n\n      if(x>=y)printf(\"%d\\n\",y);\n      else printf(\"%d\\n\",x);\n\n    }\n  return 0;\n}\n\nint hLIS(void)\n{\n  int i,j,L[101],max=0;\n\n  L[0]=1;\n  for(i=1;i<n+m;i++)\n    {\n      for(j=0;j<i;j++)\n\t{\n\t  if(h[j]<h[i])L[i]=L[j]+1;\n\t}\n    }\n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}\n\nint rLIS(void)\n{\n  int i,j,L[101],max=0;\n\n  L[0]=1;\n  for(i=1;i<n+m;i++)\n    {\n      for(j=0;j<i;j++)\n\t{\n\t  if(r[j]<r[i])L[i]=L[j]+1;\n\t}\n    }\n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n      printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n      if(r[j]<r[i] && h[i]<=h[j])\n\t{\n\t  L[i]=L[j]+1;\n\t}\n      else \n\t{\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i])L[i]=L[k]+1;\n\t    }\n\t}\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n  \n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\n#define N 200\n#define H 1000\n#define R 1000\n#define MAX(A,B) \\\n  ( (A) > (B) ? (A) : (B) )\n\nstatic int h[ N ];\nstatic int r[ N ];\nstatic int n;\n\nstatic int k_operafan[ H + 1 ][ R + 1 ];\n\nstatic int\ndpFSA (\n  int rh,\n  int rr\n  )\n{\n  int i;\n\n  if ( ~k_operafan[ rh ][ rr ] ) ;\n  else\n  {\n    k_operafan[ rh ][ rr ] = 0;\n\n    for ( i = 0; i < n; ++i )\n    {\n      int res;\n\n      if ( h[ i ] >= rh\n        || r[ i ] >= rr ) continue ;\n\n      res = dpFSA ( h[ i ], r[ i ] ) + 1;\n      k_operafan[ rh ][ rr ] = MAX( k_operafan[ rh ][ rr ], res );\n    }\n  }\n\n  return ( k_operafan[ rh ][ rr ] );\n}\n\n/** Application main entry point. */\nint\nmain (\n  int     argc,\n  char  * argv[ ]\n  )\n{\n  int i;\n\n  for ( ; ; )\n  {\n    n = 0;\n\n    scanf ( \"%d\", &i );\n    if ( !( i ) ) break ;\n    while ( i-- )\n    {\n      scanf ( \"%d%d\", &h[ n ], &r[ n ] );\n      ++n;\n    }\n    scanf ( \"%d\", &i );\n    while ( i-- )\n    {\n      scanf ( \"%d%d\", &h[ n ], &r[ n ] );\n      ++n;\n    }\n\n    memset ( k_operafan, -1, sizeof ( k_operafan ) );\n    printf ( \"%d\\n\", dpFSA ( H, R ) );\n  }\n\n  return ( 0 );\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n       printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i] && h[k]<h[i] && L[k]>=L[i])L[i]=L[k]+1;\n\t    }\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,d[210][2],i,j,l,s[210],r[210],a,b;\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&d[i][0],&d[i][1]);\n    for(i=0;i<n;i++)r[i]=i;\n    scanf(\"%d\",&m);\n    for(i=n;i<m+n;i++){\n      scanf(\"%d %d\",&d[i][0],&d[i][1]);\n      for(j=i;j&&d[r[j-1]][0]*2000-d[r[j-1]][1]>d[i][0]*2000-d[i][1];j--)r[j]=r[j-1];\n      r[j]=i;\n    }\n    for(i=l=0;i<n+m;i++){\n      s[i]=10000;//printf(\"%d %d\\n\",d[r[i]][0],d[r[i]][1]);\n      for(j=l;j&&s[j-1]>d[r[i]][1];j--);\n      s[j]=d[r[i]][1];\n      if(j==l)l++;\n    }\n    printf(\"%d\\n\",l);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint dp[1001][1001];\nint exist[1001][1001];\nint max(int a, int b) {\n\tif(a > b) return a;\n\treturn b;\n}\nint main() {\n\tint n;\n\tint i, j, k;\n\twhile(1) {\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(i = 0; i < 1001; ++ i) for(j = 0; j < 1001; ++ j) dp[i][j] = 0;\n\t\tfor(i = 0; i < 1001; ++ i) for(j = 0; j < 1001; ++ j) exist[i][j] = 0;\n\t\tfor(i = 0; i < n; ++ i) {\n\t\t\tscanf(\"%d %d\", &j, &k);\n\t\t\texist[j][k] = 1;\n\t\t}\n\t\tscanf(\"%d\", &n);\n\t\tfor(i = 0; i < n; ++ i) {\n\t\t\tscanf(\"%d %d\", &j, &k);\n\t\t\texist[j][k] = 1;\n\t\t}\n\t\tfor(i = 0; i < 1000; ++ i) {\n\t\t\tfor(j = 0; j < 1000; ++ j) {\n\t\t\t\tif(exist[i][j]) {\n\t\t\t\t\tdp[i + 1][j + 1] = max(max(dp[i + 1][j], dp[i][j + 1]), dp[i][j] + 1);\n\t\t\t\t} else {\n\t\t\t\t\tdp[i + 1][j + 1] = max(dp[i + 1][j], dp[i][j + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", dp[1000][1000]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#define max(a,b) ((a)>(b) ? (a) : (b))\n#define max3(a,b,c) max(max((a), (b)),(c))\nmain(){\n    int n,m,N;\n    int i,j;\n    int h,r;\n    int map[1000][1000]={{0,},};\n    while(scanf(\"%d\",&n)==1){\n        for(i=0;i<1000;i++)\n            for(j=0;j<1000;j++)\n                map[i][j]=0;\n        if(!n)break;\n        for(i=0;i<n;i++){\n            scanf(\"%d %d\",&h,&r);\n            map[h][r]=1;\n        }\n        scanf(\"%d\",&m);\n        for(;i<n+m;i++){\n            scanf(\"%d %d\",&h,&r);\n            map[h][r]=1;\n        }\n        for(i=1;i<1000;i++){\n            for(j=1;j<1000;j++){\n                map[i][j]=max3(map[i][j]+map[i-1][j-1],map[i-1][j],map[i][j-1]);\n            }\n        }\n        printf(\"%d\\n\",map[999][999]);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\ntypedef struct{int h,r;}P;\nint max(int a,int b){return a>b?a:b;}\nint main(void)\n{\n  P t[201]={0},tt;\n  int l[201];\n  int n,m,i,j,p,res;\n  for(;;){\n    scanf(\"%d\",&n);if(!n)break;\n    for(i=1;i<=n;i++)scanf(\"%d%d\",&t[i].h,&t[i].r);\n    scanf(\"%d\",&m);\n    for(i=1;i<=m;i++)scanf(\"%d%d\",&t[i+n].h,&t[i+n].r);\n    res=l[0]=0;//memset(l,0,sizeof(l));\n    for(i=n+m;i>1;i--)\n      for(j=1;j<i;j++)\n\tif(t[j].h>t[j+1].h)tt=t[j],t[j]=t[j+1],t[j+1]=tt;\n    for(i=1;i<=n+m;i++){p=0;\n      for(j=0;j<=i-1;j++)if(t[j].h<t[i].h&&t[j].r<t[i].r&&l[j]>l[p])p=j;\n      l[i]=l[p]+1;res=max(res,l[i]);\n    }\n    printf(\"%d\\n\",res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint dp[1001][1001];\nint max(int a, int b) {\n\tif(a > b) return a;\n\treturn b;\n}\nint main() {\n\tint n, m;\n\tint i, j, k;\n\tint dolls[200][2];\n\twhile(1) {\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(i = 0; i < n; ++ i) scanf(\"%d %d\", &dolls[i][0], &dolls[i][1]);\n\t\tscanf(\"%d\", &m);\n\t\tfor(i = n; i < m + n; ++ i) scanf(\"%d %d\", &dolls[i][0], &dolls[i][1]);\n\t\tfor(i = 0; i < 1001; ++ i) for(j = 0; j < 1001; ++ j) dp[i][j] = 0;\n\t\tfor(i = 0; i < n + m; ++ i) {\n\t\t\tint n = dp[dolls[i][0]][dolls[i][1]] + 1;\n\t\t\tif(n > dp[dolls[i][0] + 1][dolls[i][1] + 1]) {\n\t\t\t\tfor(j = dolls[i][0] + 1; j < 1001; ++ j) {\n\t\t\t\t\tfor(k = dolls[i][1] + 1; k < 1001; ++ k) {\n\t\t\t\t\t\tdp[j][k] ++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", dp[1000][1000]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#define max(x,y)((x)>(y)?(x):(y))\nD[1000][1000],a[1000][1000];\nn,h,r;\nmain(){\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tmemset(D,0,sizeof(D));\n\t\tmemset(a,0,sizeof(a));\n\t\tfor(;n--;){\n\t\t\tscanf(\"%d%d\",&h,&r);\n\t\t\ta[h][r]=1;\n\t\t}\n\t\tscanf(\"%d\",&n);\n\t\tfor(;n--;){\n\t\t\tscanf(\"%d%d\",&h,&r);\n\t\t\ta[h][r]=1;\n\t\t}\n\t\tfor(h=1;h<1000;h++){\n\t\t\tfor(r=1;r<1000;r++)\n\t\t\t\tD[h][r]=max(max(D[h-1][r],D[h][r-1]),D[h-1][r-1]+a[h][r]);\n\t\t}\n\t\tprintf(\"%d\\n\",D[999][999]);\n\t}\n\texit(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[2000],r[2000],p[4000];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n    \n    scanf(\"%d\",&n);\n    if(n==0){break;}\n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n\n    scanf(\"%d\",&m);\n    if(m==0){break;}\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d %d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o;   \n\t}\n      }\n    }\n \n    /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i-1;j>=0;j--){\n\tif(r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;     \n\t  }\n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "//Russian Dolls\n#include<stdio.h>\n\nint main()\n{\n  int Dh[201], Dr[201];\n  int F[201];\n  int n1, n2;\n  int i, j, k;//L¯Ï\n\n  while(1)\n    {\n      //ú»\n      for(i=0; i<201; i++)\n\t{\n\t  F[i]=0;\n\t  Dr[i]=0;\n\t}\n\n\n      //ÇÌ\n      //Z\n      scanf(\"%d\", &n1);\n      if(n1==0)\n\t{\n\t  break;\n\t}\n      for(i=1; i<=n1; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n      //í\n      scanf(\"%d\", &n2);\n      for(i=n1+1; i<=n1+n2; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n\n\n      //ÀÑÖ¦ ¬³¢I\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  for(j=1; j<=n1+n2; j++)\n\t    {\n\t      if(Dh[i] < Dh[j])\n\t\t{\n\t\t  //³\n\t\t  k=Dh[i];\n\t\t  Dh[i]=Dh[j];\n\t\t  Dh[j]=k;\n\n\t\t  //¼a\n\t\t  k=Dr[i];\n\t\t  Dr[i]=Dr[j];\n\t\t  Dr[j]=k;\n\t\t}\n\t    }\n\t}\n\n\n      //LISJn FÌzñðßé\n      //ú»Å·\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  k=0;\n\t  for(j=1; j<i; j++)\n\t    {\n\t      if(F[k]<F[j])\n\t\t{\n\t\t  if(Dr[j]<Dr[i])\n\t\t    {\n\t\t      k=j;\n\t\t    }\n\t\t}\n\t      /*\n\t      if(Dr[k]<Dr[j] && Dr[j]<Dr[i] && F[k]<F[j])\n\t\t{\n\t\t  k=j;\n\t\t}\n\t      */\n\t    }\n\n\t  F[i]=F[k]+1;\n\t  // printf(\"I%d H%d R%d F%d\\n\", i, Dh[i], Dr[i], F[i]);\n\t}\n\n      //êÔå«¢Fðßé\n      k=-1;\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  if(k<F[i])\n\t    {\n\t      k=F[i];\n\t    }\n\t}\n      //oÍ\n      printf(\"%d\\n\", k);\n    }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n      printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<n+m;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n      if(r[j]<r[i] && h[i]!=h[j])\n\t{\n\t  L[i]=L[j]+1;\n\t}\n      else \n\t{\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i])L[i]=L[k]+1;\n\t    }\n\t}\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n  \n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct {\n\tint h;\n\tint r;\n} DOLL;\n\nint cmp(const void *a, const void *b)\n{\n\tDOLL x, y;\n\t\n\tx = *(DOLL *)a;\n\ty = *(DOLL *)b;\n\t\n\tif (x.r - y.r){\n\t\treturn (x.r - y.r);\n\t}\n\tif (x.h - x.h){\n\t\treturn (x.h - y.h);\n\t}\n\t\n\treturn (1);\n}\n\nint main(void)\n{\n\tDOLL rusd[1024];\n\tint dp[1024];\n\tint n, m;\n\tint i, j;\n\tint ans;\n\t\n\twhile (1){\n\t\tans = 0;\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(rusd, 0, sizeof(rusd));\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) break;\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d %d\", &rusd[i].h, &rusd[i].r);\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (j = 0; j < m; j++){\n\t\t\tscanf(\"%d %d\", &rusd[n + j].h, &rusd[n + j].r);\n\t\t}\n\t\tqsort(rusd, n + m, sizeof(DOLL), cmp);\n\t\t\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (rusd[i].h > rusd[j].h && rusd[i].r > rusd[j].r){\n\t\t\t\t\tif (dp[i] <= dp[j]){\n\t\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (ans < dp[i]){\n\t\t\t\t\t\tans = dp[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n      printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n      if(r[j]<r[i] && h[i]<=h[j])\n\t{\n\t  L[i]=L[j]+1;\n\t}\n      else \n\t{\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i] && L[k]>=L[i])L[i]=L[k]+1;\n\t    }\n\t}\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n  \n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,h[210],r[210],m,k,temp,temp1;\n  while(1){\n    scanf(\"%d\",&n);\n    if(n==0){\n      break;\n    }\n    k=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    for(i=0;i<n+m-1;i++){\n      for(j=n+m-1;j>i;j--){\n\tif(h[j]>h[j-1] && h[j]!=h[j]){\n\t  temp1=r[j];\n\t  r[j]=r[j-1];\n\t  r[j-1]=temp1;\n\t  temp=h[j];\n\t  h[j]=h[j-1];\n\t  h[j-1]=temp;\n\t}\n\telse if(h[j]>h[j-1] && h[j]==h[j]){\n\t  if(r[j]>r[j-1]){\n\t    temp1=r[j];\n\t    r[j]=r[j-1];\n\t    r[j-1]=temp1;\n\t    temp=h[j];\n\t    h[j]=h[j-1];\n\t    h[j-1]=temp;\n\t  }\n\t  else{\n\t    continue;\n\t  }\n\t}\n      }\n    }\n    for(i=1;i<n+m;i++){\n      if(h[0]>h[i] && r[0]>r[i]){\n\th[0]=h[i];\n\tk++;\n      }\n    }\n    printf(\"%d\\n\",k);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint MAX(int a,int b){return a<b?b:a;}\nint main(){\n  int n,i,j,a,b;\n  int d[1010][1010],m[1010][1010];\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<1010*1010;i++)d[i/1010][i%1010]=m[i/1010][i%1010]=0;\n    while(n--){\n      scanf(\"%d %d\",&a,&b);\n      m[a][b]=1;\n    }\n    scanf(\"%d\",&n);\n    while(n--){\n      scanf(\"%d %d\",&a,&b);\n      m[a][b]=1;\n    }\n    for(i=1;i<1010;i++){\n      for(j=1;j<1010;j++){\n\td[i][j]=MAX(MAX(d[i-1][j],d[i][j-1]),d[i-1][j-1]+m[i][j]);\n      }\n    }\n    printf(\"%d\\n\",d[1009][1009]);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct {\n\tint h;\n\tint r;\n} DOLL;\n\nint cmp(const void *a, const void *b)\n{\n\tDOLL x, y;\n\t\n\tx = *(DOLL *)a;\n\ty = *(DOLL *)b;\n\t\n\tif (x.r - y.r){\n\t\treturn (x.r - y.r);\n\t}\n\tif (x.h - x.h){\n\t\treturn (x.h - y.h);\n\t}\n\t\n\treturn (1);\n}\n\nint main(void)\n{\n\tDOLL rusd[256];\n\tint dp[256];\n\tint n, m;\n\tint i, j;\n\tint ans;\n\t\n\twhile (1){\n\t\tans = 0;\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(rusd, 0, sizeof(rusd));\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) break;\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d %d\", &rusd[i].h, &rusd[i].r);\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tif (m == 0) break;\n\t\tfor (j = 0; j < m; j++){\n\t\t\tscanf(\"%d %d\", &rusd[n + j].h, &rusd[n + j].r);\n\t\t}\n\t\tqsort(rusd, n + m, sizeof(DOLL), cmp);\n\t\t\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (rusd[i].h > rusd[j].h && rusd[i].r > rusd[j].r){\n\t\t\t\t\tif (dp[i] <= dp[j]){\n\t\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t\t\tif (ans < dp[i]){\n\t\t\t\t\t\t\tans = dp[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    ret1=1+solve(dolls[index].h, dolls[index].r ,index+1);\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  return(max(ret1,ret2));\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d %d\\n\",dolls[i].h,dolls[i].r);\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].r,&dolls[i].h);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].r,&dolls[i+n].h);\n      total=n+m;\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n  int nextp;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    ret1=1+solve(dolls[index].h, dolls[index].r ,dolls[index].nextp);\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  return(max(ret1,ret2));\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d %d\\n\",dolls[i].h,dolls[i].r);\n}\nvoid calc_nextptr()\n{\n  int i,j,rr;\n\n  for(i=0;i<total;i++)\n    {\n      dolls[i].nextp=total;\n      rr = dolls[i].r;\n      for(j=i+1;j<total;j++)\n\tif(dolls[j].r > rr)\n\t  {\n\t    dolls[i].nextp=j;\n\t    break;\n\t  }\n    }\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].r,&dolls[i].h);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].r,&dolls[i+n].h);\n      total=n+m;\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      calc_nextptr();\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=i;j<n+m;j++)\n\t    {\n\t      if(h[i]>h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]>r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n      printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++)\n    {\n      j=i-1;\n      if(r[j]<r[i] && h[i]!=h[j])\n\t{\n\t  L[i]=L[j]+1;\n\t}\n      else \n\t{\n\t  for(k=0;k<i;k++)\n\t    {\n\t      if(r[k]<r[i])L[i]=L[k]+1;\n\t    }\n\t}\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,max,w,h;\n  int a[250],b[250],da[250],db[250];\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&a[i],&b[i]);\n    scanf(\"%d\",&m);\n    for(;i<n+m;i++){\n      scanf(\"%d %d\",&w,&h);\n      for(j=i;j;j--){\n\tif(a[j-1]>w){\n\t  a[j]=a[j-1];\n\t  b[j]=b[j-1];\n\t}\n\telse break;\n      }\n      a[j]=w;\n      b[j]=h;\n    }//printf(\"%d %d\\n\",a[0],b[0]);\n    da[0]=a[0];\n    db[0]=b[0];\n    for(i=max=1;i<n+m;i++){//printf(\"%d %d\\n\",a[i],b[i]);\n      da[i]=db[i]=10000;\n      for(j=1;j<=i;j++){\n\tif(db[j-1]<=b[i]&&db[j]>b[i]&&da[j-1]<a[i]){\n\t  da[j]=a[i];\n\t  db[j]=b[i];\n\t  if(max<j)max=j;\n\t}\n      }\n      //for(j=0;j<=i;j++)printf(\"%d-%d \",da[j],db[j]);printf(\"\\n\");\n    }\n    printf(\"%d\\n\",max+1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint f(int *n,int l,int min,int max){\n  int r=1,i,j,s[10000];\n  for(s[i=0]=min-1;i<l;i++){\n    for(s[j=r]=max+1;s[j-1]>=n[i];j--);\n    if(s[j]>n[i])s[j]=n[i];\n    if(j==r)r++;\n  }\n  return r-1;\n}\nint main(){\n  int n,m,a[110][2],b[110][2],c[210],i,j,ar,br;\n  while(scanf(\"%d\",&n),n){\n    for(i=ar=0;i<n;i++)scanf(\"%d %d\",&a[i][0],&a[i][1]);\n    scanf(\"%d\",&m);\n    for(i=br=0;i<m;i++)scanf(\"%d %d\",&b[i][0],&b[i][1]);\n    a[n][0]=b[m][0]=10000;\n    for(i=0;i<n+m;i++){\n      if     (a[ar][0]<b[br][0])c[i]=a[ar++][1];\n      else if(a[ar][0]>b[br][0])c[i]=b[br++][1];\n      else{\n\tif   (a[ar][1]<b[br][1])c[i]=b[br++][1];\n\telse                    c[i]=a[ar++][1]; \n      }\n    }\n    printf(\"%d\\n\",f(c,n+m,0,1000));\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,x,y,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n       /*for(i=0;i<n+m;i++)\n\t printf(\"%d \",h[i]);\n       printf(\"\\n\");\n\n       for(i=0;i<n+m;i++)\n\t printf(\"%d \",r[i]);\n       printf(\"\\n\");*/\n\n  \n      /*printf(\"%d\\n\",n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tprintf(\"%d %d\\n\",h[i],r[i]);\n\n      printf(\"%d\\n\",m);\n\n      for(i=n;i<n+m;i++)\n      printf(\"%d %d\\n\",h[i],r[i]);*/\n\n      x=LIS();\n\n      //printf(\"%d %d\\n\",x,y);\n\n      printf(\"%d\\n\",x);\n      //printf(\"\\n\");\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,L[201],max=0;\n\n  L[0]=1;\n  for(i=1;i<n+m;i++)\n    {\n      for(j=0;j<i;j++)\n\t{\n\t  if(r[j]<r[i] && h[i]!=h[j])\n\t    {\n\t      L[i]=L[j]+1;\n\t    }\n\t}\n    }\n\n  //for(i=0;i<n+m;i++)\n    //printf(\"%d\\n\",L[i]);\n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#define I(s)for(s;i<n;i++)scanf(\"%d%d\",h+i,w+i);\n#define Z(x)r=x[j],x[j]=x[j+1],x[j+1]=r\nh[201],w[201],d[201];main(n,i,j,r){for(;scanf(\"%d\",&n),n;printf(\"%d\\n\",r)){\nI(i=0)I((scanf(\"%d\",&r),n+=r))\nfor(i=0;i<n-1;i++)for(j=0;j<n-i-1;j++)if(h[j]>h[j+1])Z(h),Z(w);\nfor(memset(d,0,sizeof(d)),r=i=0;i<n;r=r>d[i]?r:d[i],i++)for(d[i]=1,j=0;j<i;j++)if(h[j]<h[i]&&w[j]<w[i])d[i]=d[j]>=d[i]?d[j]+1:d[i];\n}exit(0);}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>          // printf(), scanf()\n#include <stdlib.h>         // qsort()\n#include <string.h>         // memset()\n#include <stdbool.h>\n\n#define MAX_N (100 * 100)\n#define MAX_V 1001\n\ntypedef struct doll_tbl\n{\n\tint h;\n\tint r;\n} doll_t;\n\nint N;\ndoll_t size1[MAX_N];\ndoll_t size2[MAX_N];\nint dp[MAX_V][MAX_V];\n\nint\ncmp_func1(const void *l_, const void *r_)\n{\n\tconst doll_t *l = (const doll_t*) l_;\n\tconst doll_t *r = (const doll_t*) r_;\n\n\tif (l->h < r->h)\n\t\treturn 1;\n\n\tif (l->h > r->h)\n\t\treturn -1;\n\n\tif (l->r < r->r)\n\t\treturn 1;\n\n\tif (l->r > r->r)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nint\ncmp_func2(const void *l_, const void *r_)\n{\n\tconst doll_t *l = (const doll_t*) l_;\n\tconst doll_t *r = (const doll_t*) r_;\n\n\tif (l->r < r->r)\n\t\treturn 1;\n\n\tif (l->r > r->r)\n\t\treturn -1;\n\n\tif (l->h < r->h)\n\t\treturn 1;\n\n\tif (l->h > r->h)\n\t\treturn -1;\n\n\treturn 0;\n}\n\nint\ndfs(int lh, int lr)\n{\n\tint h, r;\n\tint i;\n\n\tif (dp[lh][lr] != -1)\n\t\treturn dp[lh][lr];\n\n\tfor (i = 0; i < N; ++i)\n\t{\n\t\tif (size1[i].h < lh && size1[i].r < lr)\n\t\t{\n\t\t\th = size1[i].h;\n\t\t\tr = size1[i].r;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tint a = 0;\n\tif (i < N)\n\t\ta = dfs(h, r) + 1;\n\n\tfor (i = 0; i < N; ++i)\n\t{\n\t\tif (size2[i].h < lh && size2[i].r < lr)\n\t\t{\n\t\t\th = size2[i].h;\n\t\t\tr = size2[i].r;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tint b = 0;\n\tif (i < N)\n\t\tb = dfs(h, r) + 1;\n\n\tdp[lh][lr] = (a > b) ? a : b;\n\treturn dp[lh][lr];\n}\n\nint\nsolve()\n{\n\tfor (int i = 0; i < N; ++i)\n\t\tsize2[i] = size1[i];\n\n\tqsort(size1, N, sizeof(doll_t), cmp_func1);\n\tqsort(size2, N, sizeof(doll_t), cmp_func2);\n\n\tmemset(dp, 0xff, sizeof(dp));\n\treturn dfs(1000, 1000);\n}\n\nint\nmain(int argc, char **argv)\n{\n\twhile (true)\n\t{\n\t\tint n, m;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0)\n\t\t\tbreak;\n\n\t\tN = 0;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tscanf(\"%d%d\", &size1[N].h, &size1[N].r);\n\t\t\tN++;\n\t\t}\n\n\t\tscanf(\"%d\", &m);\n\t\tfor (int i = 0; i < m; ++i)\n\t\t{\n\t\t\tscanf(\"%d%d\", &size1[N].h, &size1[N].r);\n\t\t\tN++;\n\t\t}\n\n\t\tprintf(\"%d\\n\", solve());\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\nint N,M,m[205][2],i,j,dp[205],R;\n\nint cmp(const void *a,const void *b)\n{\n\tint *x=(int*)a,*y=(int*)b;\n\tif(x[0]==y[0])return x[1]-y[1];\n\treturn x[0]-y[0];\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\",&N),N;)\n\t{\n\t\tfor(i=0;i<N;i++)\n\t\t\tscanf(\"%d%d\",&m[i][0],&m[i][1]);\n\t\tscanf(\"%d\",&M);\n\t\tfor(i=0;i<M;i++)\n\t\t\tscanf(\"%d%d\",&m[i+N][0],&m[i+N][1]);\n\t\tint tmp=N+M;\n\t\tqsort(m,tmp,sizeof(int[2]),cmp);\n\t\tfor(i=0;i<N+M;i++)dp[i]=1;\n\t\tfor(i=0,R=1;i<N+M;i++)\n\t\t\tfor(j=i;j<N+M;j++)\n\t\t\t\tif(m[j][0]>m[i][0]&&m[j][1]>m[i][1])\n\t\t\t\t{\n\t\t\t\t\tdp[j]=dp[j]<dp[i]+1?dp[i]+1:dp[j];\n\t\t\t\t\tR=dp[j]>R?dp[j]:R;\n\t\t\t\t}\n\t\tprintf(\"%d\\n\",R);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,h[110],r[110],total[1010],m,k=1,temp,temp1,temp2;\n  while(1){\n    scanf(\"%d\",&n);\n    if(n==0){\n      break;\n    }\n    k=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n      total[i]=h[i]+r[i];\n    }\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n      total[i]=h[i]+r[i];\n    }\n    for(i=0;i<n+m-1;i++){\n      for(j=n+m-1;j>i;j--){\n\tif(total[j]>total[j-1]){\n\t  temp=h[j];\n\t  h[j]=h[j-1];\n\t  h[j-1]=temp;\n\t  temp1=r[j];\n\t  r[j]=r[j-1];\n\t  r[j-1]=temp1;\n\t  temp2=total[j];\n\t  total[j]=total[j-1];\n\t  total[j-1]=temp2;\n\t}\n      }\n    }\n    for(i=1;i<n+m;i++){\n      if(h[0]>h[i] && r[0]>r[i]){\n\th[0]=h[i];\n\tk++;\n      }\n    }\n    printf(\"%d\\n\",k);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n       for(i=0;i<n+m;i++)\n\t printf(\"%d \",h[i]);\n       printf(\"\\n\");\n     for(i=0;i<n+m;i++)\n\t printf(\"%d \",r[i]);\n       printf(\"\\n\");\n\n      printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void)\n{\n  int i,j,L[201],max=0,a=0;\n\n  L[0]=1;\n  for(i=1;i<n+m;i++)\n    {\n      if(a<L[i])a=L[i];\n      for(j=0;j<i;j++)\n\t{\n\t  if(r[j]<r[i] && h[i]!=h[j] && L[j]>=a)\n\t    {\n\t      L[i]=L[j]+1;\n\t    }\n\t}\n    }\n\n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "//Russian Dolls\n#include<stdio.h>\n\nint main()\n{\n  int Dh[201], Dr[201];\n  int F[201];\n  int n1, n2;\n  int i, j, k;//L¯Ï\n\n  while(1)\n    {\n      //ú»\n      for(i=0; i<201; i++)\n\t{\n\t  F[i]=0;\n\t  Dr[i]=0;\n\t}\n\n\n      //ÇÌ\n      //Z\n      scanf(\"%d\", &n1);\n      if(n1==0)\n\t{\n\t  break;\n\t}\n      for(i=1; i<=n1; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n      //í\n      scanf(\"%d\", &n2);\n      for(i=n1+1; i<=n1+n2; i++)\n\t{\n\t  scanf(\"%d%d\", &Dh[i], &Dr[i]);\n\t}\n\n\n      //ÀÑÖ¦ ¬³¢I\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  for(j=1; j<=n1+n2; j++)\n\t    {\n\t      if(Dh[i] < Dh[j])\n\t\t{\n\t\t  //³\n\t\t  k=Dh[i];\n\t\t  Dh[i]=Dh[j];\n\t\t  Dh[j]=k;\n\n\t\t  //¼a\n\t\t  k=Dr[i];\n\t\t  Dr[i]=Dr[j];\n\t\t  Dr[j]=k;\n\t\t}\n\t    }\n\t}\n\n\n      //LISJn FÌzñðßé\n      //ú»Å·\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  k=0;\n\t  for(j=1; j<i; j++)\n\t    {\n\t      if(Dr[k]<Dr[i] && Dr[j]<Dr[i] && F[k]<=F[j])\n\t\t{\n\t\t  k=j;\n\t\t}\n\t    }\n\n\t  F[i]=F[k]+1;\n\t  //printf(\"I%d H%d R%d F%d\\n\", i, Dh[i], Dr[i], F[i]);\n\t}\n\n      //êÔå«¢Fðßé\n      k=-1;\n      for(i=1; i<=n1+n2; i++)\n\t{\n\t  if(k<F[i])\n\t    {\n\t      k=F[i];\n\t    }\n\t}\n      //oÍ\n      printf(\"%d\\n\", k);\n    }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\ntypedef struct {\n\tint h;\n\tint r;\n} DOLL;\n\nint cmp(const void *a, const void *b)\n{\n\tDOLL x, y;\n\t\n\tx = *(DOLL *)a;\n\ty = *(DOLL *)b;\n\t\n\tif (x.r - y.r){\n\t\treturn (x.r - y.r);\n\t}\n\tif (x.h - x.h){\n\t\treturn (x.h - y.h);\n\t}\n\t\n\treturn (1);\n}\n\nint main(void)\n{\n\tDOLL rusd[1024];\n\tint dp[1024];\n\tint n, m;\n\tint i, j;\n\tint ans;\n\t\n\twhile (1){\n\t\tans = 0;\n\t\tmemset(dp, 0, sizeof(dp));\n\t\tmemset(rusd, 0, sizeof(rusd));\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) break;\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d %d\", &rusd[i].h, &rusd[i].r);\n\t\t}\n\t\tscanf(\"%d\", &m);\n\t\tfor (j = 0; j < m; j++){\n\t\t\tscanf(\"%d %d\", &rusd[n + j].h, &rusd[n + j].r);\n\t\t}\n\t\tqsort(rusd, n + m, sizeof(DOLL), cmp);\n\t\t\n\t\tfor (i = 0; i < n + m; i++){\n\t\t\tdp[i] = 1;\n\t\t\tfor (j = 0; j < i; j++){\n\t\t\t\tif (rusd[i].h > rusd[j].h && rusd[i].r > rusd[j].r){\n\t\t\t\t\tif (dp[i] <= dp[j]){\n\t\t\t\t\t\tdp[i] = dp[j] + 1;\n\t\t\t\t\t\tif (ans < dp[i]){\n\t\t\t\t\t\t\tans = dp[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint LIS(void);\n\n\n\nint h[201], r[201], m, n;\n\n\n\nint main(void)\n{\n\nint i, j, t;\n\nwhile(1)\n{\n\nscanf(\"%d\",&n);\n\nif(n==0)break;\n\nfor(i=0;i<n;i++)\nscanf(\"%d%d\",&h[i] ,&r[i]);\n\n\n\nfor(i=0;i<n+m;i++)\n{\n\nfor(j=0;j<n+m;j++)\n{\n\nif(h[i]<h[j])\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\nif(h[i]==h[j] && r[i]<r[j])\n{\n\nt=h[i];\n\nh[i]=h[j];\n\nh[j]=t;\n\nt=r[i];\n\nr[i]=r[j];\n\nr[j]=t;\n\n}\n\n}\n\n}\n\nprintf(\"%d\\n\",LIS());\n\n}\n\nreturn 0;\n\n}\n\n\n\nint LIS(void)\n{\n\nint i ,j ,k ,L[201] ,max=0;\n\nfor(i=0;i<201;i++)\nL[i]=1;\n\n\n\nfor(i=1;i<n+m;i++)\n{\n\nj=i-1;\n\nfor(k=0;k<i;k++)\n{\n\nif(r[k]<r[i] && h[k]<h[i]ツ　&& L[k]>=L[i])L[i]=L[k]+1;\n\n}\n\n}\n\nfor(i=0;i<n+m;i++)\nif(max<L[i])max=L[i];\n\n\n\nreturn max;\n\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint hLIS(void);\nint rLIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t,x,y;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n for(i=0;i<n+m;i++)\n\t{\n\t  for(j=0;j<n+m;j++)\n\t    {\n\t      if(h[i]<h[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]<r[j])\n\t\t{\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n\n      x=hLIS();\n      y=rLIS();\n\n      if(x>=y)printf(\"%d\\n\",y);\n      else printf(\"%d\\n\",x);\n\n    }\n  return 0;\n}\n\nint hLIS(void)\n{\n  int i,j,L[201],max=0;\n\n  L[0]=1;\n  for(i=1;i<n+m;i++)\n    {\n      for(j=0;j<i;j++)\n\t{\n\t  if(h[j]<h[i])L[i]=L[j]+1;\n\t}\n    }\n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}\n\nint rLIS(void)\n{\n  int i,j,L[201],max=0;\n\n  L[0]=1;\n  for(i=1;i<n+m;i++)\n    {\n      for(j=0;j<i;j++)\n\t{\n\t  if(r[j]<r[i])L[i]=L[j]+1;\n\t}\n    }\n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,d[210][2],i,j,l,s[210],r[210],a,b;\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&d[i][0],&d[i][1]);\n    for(i=0;i<n;i++)r[i]=i;\n    scanf(\"%d\",&m);\n    for(i=0;i<m;i++){\n      r[i+n]=i+n;\n      scanf(\"%d %d\",&a,&b);\n      for(j=i+n;j&&d[r[j-1]][0]*2000-d[r[j-1]][1]>a*2000-b;j--)r[j]=r[j-1];\n      d[j][0]=a;\n      d[j][1]=b;\n    }\n    for(i=l=0;i<n+m;i++){\n      s[i]=10000;\n      for(j=l;j&&s[j-1]>d[r[i]][1];j--);\n      s[j]=d[r[i]][1];\n      if(j==l)l++;\n    }\n    printf(\"%d\\n\",l);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n  int nextp;\n  int memo;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2,ret;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    {\n    if(dolls[index].memo > 0)\n      ret1=dolls[index].memo;\n    else\n      ret1=1+solve(dolls[index].h, dolls[index].r ,dolls[index].nextp);\n    }\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  ret=max(ret1,ret2);\n  dolls[index].memo = ret;\n  return(ret);\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d %d\\n\",dolls[i].h,dolls[i].r);\n}\nvoid calc_nextptr()\n{\n  int i,j,rr;\n\n  for(i=0;i<total;i++)\n    {\n      dolls[i].nextp=total;\n      rr = dolls[i].r;\n      for(j=i+1;j<total;j++)\n\tif(dolls[j].r > rr)\n\t  {\n\t    dolls[i].nextp=j;\n\t    break;\n\t  }\n    }\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].r,&dolls[i].h);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].r,&dolls[i+n].h);\n      total=n+m;\n      for(i=0;i<total;i++)\n\tdolls[i].memo=0;\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      calc_nextptr();\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[1000],r[1000],p[2000];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n\n    scanf(\"%d\",&n);\n    if(n==0){break;}\n\n    for(i=1;i<=n;i++){\n      scanf(\"%d%d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d%d\",&h[j],&r[j]);\n    }\n    \n    //hツづーsort\n  for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o;\n\t}\n      }\n  }\n    //LIS\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i;j>=0;j--){\n\tif(r[i]>r[j] &&p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;  \n\t  }  \n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n\t\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint LIS(void);\n\nint h[201],r[201],m,n;\n\nint main(void)\n{\n  int i,j,t;\n  while(1)\n    {\n      scanf(\"%d\",&n);\n      if(n==0)break;\n\n      for(i=0;i<n;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n      scanf(\"%d\",&m);\n\n      for(i=n;i<n+m;i++)\n\tscanf(\"%d%d\",&h[i],&r[i]);\n\n\n       for(i=0;i<n+m;i++){\n\t  for(j=0;j<n+m;j++){\n\t      if(h[i]<h[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\n\t      if(h[i]==h[j] && r[i]<r[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t    }\n\t}\n       printf(\"%d\\n\",LIS());\n\n    }\n  return 0;\n}\n\nint LIS(void){\n  int i,j,k,L[201],max=0;\n  \n  for(i=0;i<201;i++)\n    L[i]=1;\n\n  for(i=1;i<n+m;i++){\n      j=i-1;\n\n\t  for(k=0;k<i;k++){\n\t      if(r[k]<r[i] && h[k]<h[i] && L[k]>=L[i])L[i]=L[k]+1;\n\t    }\n    }\n  \n  for(i=0;i<n+m;i++)\n    if(max<L[i])max=L[i];\n\n  return max;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[2002],r[2002],p[4004];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n    \n    scanf(\"%d\",&n);\n    if(n==0){break;}\n    \n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d %d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o; \n\t}\n      }\n    }\n    \n    /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i-1;j>=0;j--){\n\tif(r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;  \n\t  }  \n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint max(int,int);\n\nint main(void){\n  int n,m,h[201],r[201],i,j,t,dp[201],res;\n\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&h[i],&r[i]);\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++)scanf(\"%d %d\",&h[i],&r[i]);\n\n      for(i=0;i<n+m;i++){\n\t  for(j=i;j<n+m;j++){\n\t      if(h[i]>h[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      else if(h[i]==h[j] && r[i]>r[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t      }\n\t  }\n\t}\n      for(i=0;i<n+m;i++)dp[i]=0;\n      dp[0]=1;\n      \n      for(i=0;i<n+m;i++){\n\tfor(j=i+1;j<n+m;j++){\n\t  if(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n\t}\n      }\n      res=0;\n      for(i=0;i<n+m;i++)res=max(res,dp[i]);\n\n      printf(\"%d\\n\",res);\n  }\n  \n  return 0;\n}\n\nint max(int x,int y){\n  return x>y?x:y;\n}"
  },
  {
    "language": "C",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(void){\n  int n,m,h[201],r[201];\n\n  while(cin >> n,n){\n    for(int i=0;i<n;i++)cin >> h[i] >> r[i];\n    cin >>m;\n    for(int i=n;i<n+m;i++)cin >> h[i] >> r[i];\n\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(h[i]>h[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n    for(int i=0;i<n+m;i++){\n      for(int j=i;j<n+m;j++){\n\tif(r[i]>r[j]){\n\t  int t=h[i];\n\t  h[i]=h[j];\n\t  h[j]=t;\n\t  t=r[i];\n\t  r[i]=r[j];\n\t  r[j]=t;\n\t}\n      }\n    }\n\n    int dp[201]={0};\n    dp[0]=1;\n    for(int i=0;i<n+m;i++){\n      for(int j=i+1;j<n+m;j++){\n\tif(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n      }\n    }\n    int res=0;\n    for(int i=0;i<n+m;i++)res=max(res,dp[i]);\n    cout << res << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n  int nextp;\n  int memo;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2,ret;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    {\n    if(dolls[index].memo > 0)\n      ret1=dolls[index].memo;\n    else\n      ret1=1+solve(dolls[index].h, dolls[index].r ,dolls[index].nextp);\n    }\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  ret=max(ret1,ret2);\n  dolls[index].memo = ret;\n  return(ret);\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d :%d %d %d\\n\",i,dolls[i].h,dolls[i].r,dolls[i].nextp);\n  printf(\"---------\\n\");\n}\nvoid calc_nextptr()\n{\n  int i,j,rr;\n\n  for(i=0;i<total;i++)\n    {\n      dolls[i].nextp=total;\n      rr = dolls[i].r;\n      for(j=i+1;j<total;j++)\n\tif(dolls[j].r > rr)\n\t  {\n\t    dolls[i].nextp=j;\n\t    break;\n\t  }\n    }\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].h,&dolls[i].r);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].h,&dolls[i+n].r);\n      total=n+m;\n      for(i=0;i<total;i++)\n\tdolls[i].memo=0;\n      //dump();\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      calc_nextptr();\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint max(int,int);\n\nint main(void){\n  int n,m,h[201],r[201],i,j,t,dp[201],res;\n\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&h[i],&r[i]);\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++)scanf(\"%d %d\",&h[i],&r[i]);\n\n      for(i=0;i<n+m;i++){\n\t  for(j=i;j<n+m;j++){\n\t      if(h[i]>h[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t\t}\n\t      if(h[i]==h[j] && r[i]>r[j]){\n\t\t  t=h[i];\n\t\t  h[i]=h[j];\n\t\t  h[j]=t;\n\t\t  t=r[i];\n\t\t  r [i]=r[j];\n\t\t  r[j]=t;\n\t      }\n\t  }\n\t}\n      for(i=0;i<n+m;i++)dp[201]=0;\n      dp[0]=1;\n      \n      for(i=0;i<n+m;i++){\n\tfor(j=i+1;j<n+m;j++){\n\t  if(h[i]<h[j] && r[i]<r[j] && dp[i]>=dp[j])dp[j]=dp[i]+1;\n\t}\n      }\n      res=0;\n      for(i=0;i<n+m;i++)res=max(res,dp[i]);\n\n      printf(\"%d\\n\",res);\n  }\n  \n  return 0;\n}\n\nint max(int x,int y){\n  return x>y?x:y;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[2000],r[2000],p[4000];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n    \n    scanf(\"%d\",&n);\n    if(n==0){break;}\n    for(i=1;i<=n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d %d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o;   \n\t}\n      }\n    }\n \n    /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i-1;j>=0;j--){\n\tif(h[i]>h[j]&&r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;     \n\t  }\n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<stdlib.h>\n#include<string.h>\ntypedef struct d{int r,h;}d;\nd ds[200];\nint n,m,i,j,t,dp[201];\nint c(const void *a,const void *b)\n{\n\td x=*(d*)a,y=*(d*)b;\n\tif(x.r==y.r)\n\t\treturn x.h-y.h;\n\telse\n\t\treturn x.r-y.r;\n}\nint main()\n{\n\tfor(;scanf(\"%d\",&n),n;)\n\t{\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(i=0;i<n;i++)\n\t\t\tscanf(\"%d%d\",&ds[i].h,&ds[i].r);\n\t\tfor(scanf(\"%d\",&m);i-n<m;i++)\n\t\t\tscanf(\"%d%d\",&ds[i].h,&ds[i].r);\n\t\tqsort(ds,n+m,sizeof(d),c);\n\t\tfor(i=t=0;i<n+m;i++)\n\t\t{\n\t\t\tfor(j=0,dp[i]=1;j<i;j++)\n\t\t\t\tif(ds[j].r<ds[i].r&&ds[j].h<ds[i].h)\n\t\t\t\t\tdp[i]=dp[i]<dp[j]+1?dp[j]+1:dp[i];\n\t\t\tt=t<dp[i]?dp[i]:t;\n\t\t}\n\t\tprintf(\"%d\\n\",t);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,a[1010][2],b[1010][2],c[2010],s[1010],i,j,ar=0,br=0,r;\n  while(scanf(\"%d\",&n),n){\n    for(i=ar=0;i<n;i++)scanf(\"%d %d\",&a[i][0],&a[i][1]);\n    scanf(\"%d\",&m);\n    for(i=br=0;i<m;i++)scanf(\"%d %d\",&b[i][0],&b[i][1]);\n    a[n][0]=b[m][0]=10000;\n    for(i=0;i<n+m;i++){\n      if     (a[ar][0]<b[br][0])c[i]=a[ar++][1];\n      else if(a[ar][0]>b[br][0])c[i]=b[br++][1];\n      else{\n\tif   (a[ar][1]<b[br][1])c[i]=b[br++][1];\n\telse                    c[i]=a[ar++][1]; \n      }\n    }\n    //for(i=0;i<n+m;i++)printf(\"%d \",c[i]);printf(\"\\n\");\n    r=1;\n    for(s[i=0]=-1;i<n+m;i++){\n      for(s[j=r]=10000;s[j-1]>=c[i];j--);\n      if(s[j]>c[i])s[j]=c[i];\n      if(j==r)r++;\n      //for(j=0;j<r;j++)printf(\"%d \",s[j]);printf(\"\\n\");\n    }\n    printf(\"%d\\n\",r-1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,h[210],r[210],m,k,temp,temp1,y=0;\n  while(1){\n    scanf(\"%d\",&n);\n    if(n==0){\n      break;\n    }\n    k=1;\n    for(i=0;i<n;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(i=n;i<n+m;i++){\n      scanf(\"%d %d\",&h[i],&r[i]);\n    }\n    for(i=0;i<n+m-1;i++){\n      y=0;\n      for(j=n+m-1;j>i;j--){\n\ty=0;\n\tif(h[j]>h[j-1]){\n\t  temp1=r[j];\n\t  r[j]=r[j-1];\n\t  r[j-1]=temp1;\n\t  temp=h[j];\n\t  h[j]=h[j-1];\n\t  h[j-1]=temp;\n\t}\n\tif(h[j]==h[j-1]){\n\t  if(r[j]>r[j-1]){\n\t    temp1=r[j];\n\t    r[j]=r[j-1];\n\t    r[j-1]=temp1;\n\t    temp=h[j];\n\t    h[j]=h[j-1];\n\t    h[j-1]=temp;\n\t  }\n\t  else{\n\t    continue;\n\t  }\n\t}\n      }\n    }\n    for(i=1;i<n+m;i++){\n      y=0;\n      if(h[0]>h[i] && r[0]>r[i]){\n\th[0]=h[i];\n\tr[0]=r[i];\n\tk++;\n      }\n      if(h[0]>h[i] && r[0]<r[i]){\n\th[0]=h[i];\n\tr[0]=r[i];\n      }\n      else{\n\tcontinue;\n      }\n    }\n    printf(\"%d\\n\",k);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    return(1+solve(dolls[index].h, dolls[index].r ,index+1));\n  else\n    return(solve(hh,rr,index+1));\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d %d\\n\",dolls[i].h,dolls[i].r);\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].r,&dolls[i].h);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].r,&dolls[i+n].h);\n      total=n+m;\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint f(int *n,int l,int min,int max){\n  int r=1,i,j,s[10000];\n  for(s[i=0]=min-1;i<l;i++){\n    for(s[j=r]=max+1;s[j-1]>=n[i];j--);\n    s[j]=n[i];\n    if(j==r)r++;\n  }\n  return r-1;\n}\nint lub(int l,int r,int n,int *d){\n  int m=(l+r)/2;\n  if(l==r)return m;\n  return n<=d[m]?lub(l,m,n,d):lub(m+1,r,n,d);\n}\nint lis(int *d,int n){\n  int r=0,i,j,s[10000]={d[0]};\n  for(i=1;i<n;i++)s[r]<d[i]?(s[++r]=d[i]):(s[lub(0,r,d[i],s)]=d[i]);\n  return r+1;\n}\nint main(){\n  int n,m,a[110][2],b[110][2],c[210],i,j,ar,br;\n  while(scanf(\"%d\",&n),n){\n    for(i=ar=0;i<n;i++)scanf(\"%d %d\",&a[i][0],&a[i][1]);\n    scanf(\"%d\",&m);\n    for(i=br=0;i<m;i++)scanf(\"%d %d\",&b[i][0],&b[i][1]);\n    a[n][0]=b[m][0]=10000;\n    for(i=0;i<n+m;i++){\n      if     (a[ar][0]<b[br][0])c[i]=a[ar++][1];\n      else if(a[ar][0]>b[br][0])c[i]=b[br++][1];\n      else{\n\tif   (a[ar][1]<b[br][1])c[i]=b[br++][1];\n\telse                    c[i]=a[ar++][1]; \n      }\n    }\n    printf(\"%d\\n\",lis(c,n+m));\n  }\n  return 0;\n}\n  "
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,max,w,h;\n  int a[250],b[250],da[250],db[250];\n  while(scanf(\"%d\",&n),n){\n    for(i=max=0;i<n;i++)scanf(\"%d %d\",&a[i],&b[i]);\n    scanf(\"%d\",&m);\n    for(;i<n+m;i++){\n      scanf(\"%d %d\",&w,&h);\n      for(j=i;j;j--){\n\tif(a[j-1]>w){\n\t  a[j]=a[j-1];\n\t  b[j]=b[j-1];\n\t}\n\telse break;\n      }\n      a[j]=w;\n      b[j]=h;\n    }//printf(\"%d %d\\n\",a[0],b[0]);\n    da[0]=a[0];\n    db[0]=b[0];\n    for(i=1;i<n+m;i++){//printf(\"%d %d\\n\",a[i],b[i]);\n      da[i]=db[i]=10000;\n      for(j=1;j<=i;j++){\n\tif(db[j-1]<b[i]&&db[j]>b[i]){\n\t  da[j]=a[i];\n\t  db[j]=b[i];\n\t  if(max<j)max=j;\n\t}\n      }\n      //for(j=0;j<=i;j++)printf(\"%d-%d \",da[j],db[j]);printf(\"\\n\");\n    }\n    printf(\"%d\\n\",max+1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n  int nextp;\n  int memo;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2,ret;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    {\n    if(dolls[index].memo > 0)\n      ret1=dolls[index].memo;\n    else\n      ret1=1+solve(dolls[index].h, dolls[index].r ,dolls[index].nextp);\n    }\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  ret=max(ret1,ret2);\n  dolls[index].memo = ret;\n  return(ret);\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d :%d %d %d\\n\",i,dolls[i].h,dolls[i].r,dolls[i].nextp);\n  printf(\"---------\\n\");\n}\nvoid calc_nextptr()\n{\n  int i,j,rr;\n\n  for(i=0;i<total;i++)\n    {\n      dolls[i].nextp=total;\n      rr = dolls[i].r;\n      for(j=i+1;j<total;j++)\n\tif(dolls[j].r > rr)\n\t  {\n\t    dolls[i].nextp=j;\n\t    break;\n\t  }\n    }\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].h,&dolls[i].r);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].h,&dolls[i+n].r);\n      total=n+m;\n      for(i=0;i<total;i++)\n\tdolls[i].memo=0;\n      //dump();\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      calc_nextptr();\n      dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n  int nextp;\n  int memo;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2,ret;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    {\n    if(dolls[index].memo > 0)\n      ret1=dolls[index].memo;\n    else\n      ret1=1+solve(dolls[index].h, dolls[index].r ,dolls[index].nextp);\n    }\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  ret=max(ret1,ret2);\n  dolls[index].memo = ret;\n  return(ret);\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d :%d %d %d\\n\",i,dolls[i].h,dolls[i].r,dolls[i].nextp);\n  printf(\"---------\\n\");\n}\nvoid calc_nextptr()\n{\n  int i,j,rr,hh;\n\n  for(i=0;i<total;i++)\n    {\n      dolls[i].nextp=total;\n      rr = dolls[i].r;\n      hh = dolls[i].h;\n      for(j=i+1;j<total;j++)\n\tif(dolls[j].h > hh && dolls[j].r > rr)\n\t  {\n\t    dolls[i].nextp=j;\n\t    break;\n\t  }\n    }\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].h,&dolls[i].r);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].h,&dolls[i+n].r);\n      total=n+m;\n      for(i=0;i<total;i++)\n\tdolls[i].memo=0;\n      //dump();\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      calc_nextptr();\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 0157\n  Title:Russian Dolls\n  @kankichi573\n*/\n#include <stdio.h>\n#define max(x,y) (((x)>(y))?(x):(y))\nint n,m,total;\nstruct doll\n{\n  int h;\n  int r;\n  int nextp;\n  int memo;\n} dolls[200];\n\nint compare_doll(const void *a, const void *b)\n{\n  if (((struct doll *)b)->h > ((struct doll *)a)->h)\n    return(-1);\n  if (((struct doll *)b)->h < ((struct doll *)a)->h)\n    return(1);\n  if (((struct doll *)b)->r > ((struct doll *)a)->r)\n    return(-1);\n  if (((struct doll *)b)->r < ((struct doll *)a)->r)\n    return(1);\n  return(0);\n}\n\nint solve(int hh,int rr,int index)\n{\n  int ret1,ret2,ret;\n\n  if(index==total)\n    return(0);\n  if(dolls[index].h > hh && dolls[index].r > rr)\n    {\n    if(dolls[index].memo > 0)\n      ret1=dolls[index].memo;\n    else\n      ret1=1+solve(dolls[index].h, dolls[index].r ,dolls[index].nextp);\n    }\n  else\n    ret1=0;\n  ret2=solve(hh,rr,index+1);\n  ret=max(ret1,ret2);\n  dolls[index].memo = ret;\n  return(ret);\n}\nvoid dump()\n{\n  int i;\n\n  for(i=0;i<total;i++)\n    printf(\"%d :%d %d %d\\n\",i,dolls[i].h,dolls[i].r,dolls[i].nextp);\n  printf(\"---------\\n\");\n}\nvoid calc_nextptr()\n{\n  int i,j,rr;\n\n  for(i=0;i<total;i++)\n    {\n      dolls[i].nextp=total;\n      rr = dolls[i].r;\n      for(j=i+1;j<total;j++)\n\tif(dolls[j].r > rr)\n\t  {\n\t    dolls[i].nextp=j;\n\t    break;\n\t  }\n    }\n}\nmain()\n{\n  int i;\n\n  while(scanf(\"%d\",&n) && n)\n    {\n      for(i=0;i<n;i++)\n\tscanf(\"%d %d\",&dolls[i].h,&dolls[i].r);\n      scanf(\"%d\",&m);\n      for(i=0;i<m;i++)\n\tscanf(\"%d %d\",&dolls[i+n].h,&dolls[i+n].r);\n      total=n+m;\n      for(i=0;i<total;i++)\n\tdolls[i].memo=0;\n      //dump();\n      qsort(dolls,total,sizeof(struct doll),compare_doll);\n      //dump();\n      calc_nextptr();\n      //dump();\n      int ret=solve(0,0,0);\n      printf(\"%d\\n\",ret);\n      \n    }\n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,k,u,o;\n  int h[1001],r[1001],p[2001];\n  while(1){\n    h[0]=-1;\n    r[0]=-1;\n    p[0]=0;\n\n    scanf(\"%d\",&n);\n    if(n==0){break;}\n\n    for(i=1;i<=n;i++){\n      scanf(\"%d%d\",&h[i],&r[i]);\n    }\n    scanf(\"%d\",&m);\n    for(j=i;j<=n+m;j++){  \n      scanf(\"%d%d\",&h[j],&r[j]);\n    }\n    \n    /*hツづーsort*/\n    for(i=1;i<n+m;i++){\n      for(j=i+1;j<=n+m;j++){\n\tif(h[i]>h[j]){\n\t  u=h[i];\n\t  h[i]=h[j];\n\t  h[j]=u;\n\t  o=r[i];\n\t  r[i]=r[j];\n\t  r[j]=o; \n\t}\n      }\n  }\n\n  /*LIS*/\n    for(i=1;i<=n+m;i++){\n      p[i]=0;\n      for(j=i;j>=0;j--){\n\tif(r[i]>r[j] && p[i]<=p[j])\n\t  {\n\t    p[i]=p[j]+1;  \n\t  }  \n      }\n    }\n    \n    k=0;\n    for(i=1;i<=n+m;i++){\n      if(k<p[i]){\n\tk=p[i];\n      }\n    }\n    printf(\"%d\\n\",k);\n\t\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n\nint i,j,k,h,r,mat[200][2][2],stk,ans;\nint n,m;\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tfor(i=0;i<n;i++)scanf(\"%d %d\",&mat[i][0][0],&mat[i][0][1]);\n\t\tmat[n][0][0]=9999;mat[n][0][1]=9999;\n\t\tscanf(\"%d\",&m);\n\t\tfor(i=0;i<m;i++)scanf(\"%d %d\",&mat[i][1][0],&mat[i][1][1]);\n\t\tmat[m][1][0]=9999;mat[m][1][1]=9999;\n\n\t\tans=n;h=0;r=0;\n\t\tfor(i=0,j=0;j<m;j++){\n\t\t\twhile(mat[j][1][0]>=mat[i][0][0] || mat[j][1][1]>=mat[i][0][1]){\n\t\t\t\th=mat[i][0][0];r=mat[i][0][1];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(mat[j][1][0]>h && mat[j][1][1]>r){\n\t\t\t\tans++;\n\t\t\t\t//printf(\"--%d %d\\n\",j,i);\n\t\t\t\th=mat[j][1][0];r=mat[j][1][1];\n\t\t\t}\n\t\t}\n\n\t\tstk=m;h=0;r=0;\n\t\tfor(i=0,j=0;i<n;i++){\n\t\t\twhile(mat[i][0][0]>=mat[j][1][0] || mat[i][0][1]>=mat[j][1][1]){\n\t\t\t\th=mat[j][1][0];r=mat[j][1][1];\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif(mat[i][0][0]>h && mat[i][0][1]>r){\n\t\t\t\tstk++;\n\t\t\t\t//printf(\"**%d %d\\n\",i,j);\n\t\t\t\th=mat[i][0][0];r=mat[i][0][1];\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\",stk>ans?stk:ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint d1(int[][2], int, int);\n\nint main(void){\n\n\tint i1, i2, i3 = 0, n, m, nm, temp, max, cnt, hr[200][2];\n\n\tscanf(\"%d\",&n);\n\twhile(n != 0){\n\n\t\tmax = 0;\n\t\tfor(i1 = 0; i1 < n; i1++)\n\t\t\tscanf(\"%d %d\",&hr[i1][0],&hr[i1][1]);\n\n\t\tscanf(\"%d\",&m);\n\t\tfor(i1 = n; i1 < n+m;i1++)\n\t\t\tscanf(\"%d %d\",&hr[i1][0],&hr[i1][1]);\n\n\t\tnm = n+m-1;\n\t\tfor(i1 = 0; i1 < nm; i1++){\n\t\t\tfor(i2 = i1+1; i2 < nm+1; i2++){\n\t\t\t\tif(hr[i1][0] > hr[i2][0]){\n\t\t\t\t\ttemp = hr[i1][0];\n\t\t\t\t\thr[i1][0] = hr[i2][0];\n\t\t\t\t\thr[i2][0] = temp;\n\t\t\t\t\ttemp = hr[i1][1];\n\t\t\t\t\thr[i1][1] = hr[i2][1];\n\t\t\t\t\thr[i2][1] = temp;\n\t\t\t\t}\n\t\t\t\telse if(hr[i1][0] == hr[i2][0] && hr[i1][1] > hr[i2][1]){\n\t\t\t\t\ttemp = hr[i1][1];\n\t\t\t\t\thr[i1][1] = hr[i2][1];\n\t\t\t\t\thr[i2][1] = temp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\twhile(nm > 0){\n\t\tcnt = 1;\n\t\tcnt = d1(hr, nm, cnt);\n\t\tif(max < cnt)\n\t\t\tmax = cnt;\n\t\tnm--;\n\t}\n\n\tprintf(\"%d\\n\",max);\n\tscanf(\"%d\",&n);\n\t}\n\t\t\t\n\treturn 0;\n}\n\nint d1(int hr[][2],int s1,int cnt){\n\n\tint s2;\n\ts2 = s1-1;\n\n\twhile(s2 >= 0){\n\n\t\tif(hr[s1][0] > hr[s2][0] && hr[s1][1] > hr[s2][1]){\n\t\t\tcnt++;\n\t\t\treturn d1(hr, s2, cnt);\n\t\t}\n\t\ts2--;\n\n\t}\n\treturn cnt;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,m,i,j,max,w,h;\n  int a[250],b[250],d[250];\n  while(scanf(\"%d\",&n),n){\n    for(i=0;i<n;i++)scanf(\"%d %d\",&a[i],&b[i]);\n    scanf(\"%d\",&m);\n    for(;i<n+m;i++){\n      scanf(\"%d %d\",&w,&h);\n      for(j=i;j;j--){\n\tif(a[j-1]>w){\n\t  a[j]=a[j-1];\n\t  b[j]=b[j-1];\n\t}\n\telse break;\n      }\n      a[j]=w;\n      b[j]=h;\n    }\n    for(i=max=0;i<n+m;i++){\n      d[i]=10000;\n      for(j=0;b[i]>d[j];j++);\n      d[j]=b[i];\n      if(max<j)max=j;\n    }\n    printf(\"%d\\n\",max+1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint f(int *n,int l,int min,int max){\n  int r=1,i,j,s[10000];\n  for(s[i=0]=min-1;i<l;i++){\n    for(s[j=r]=max+1;s[j-1]>=n[i];j--);\n    s[j]=n[i];\n    if(j==r)r++;\n  }\n  return r-1;\n}\nint main(){\n  int n,m,a[110][2],b[110][2],c[210],i,j,ar,br;\n  while(scanf(\"%d\",&n),n){\n    for(i=ar=0;i<n;i++)scanf(\"%d %d\",&a[i][0],&a[i][1]);\n    scanf(\"%d\",&m);\n    for(i=br=0;i<m;i++)scanf(\"%d %d\",&b[i][0],&b[i][1]);\n    a[n][0]=b[m][0]=10000;\n    for(i=0;i<n+m;i++){\n      if     (a[ar][0]<b[br][0])c[i]=a[ar++][1];\n      else if(a[ar][0]>b[br][0])c[i]=b[br++][1];\n      else{\n\tif   (a[ar][1]<b[br][1])c[i]=b[br++][1];\n\telse                    c[i]=a[ar++][1]; \n      }\n    }\n    printf(\"%d\\n\",f(c,n+m,0,1000));\n  }\n  return 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main{\n \n    void solve(){\n        Scanner sc = new Scanner(System.in);\n \n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            ArrayList<int[]> hr = new ArrayList<int[]>();\n\n            for(int i=0; i<n; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            int m = sc.nextInt();\n            for(int i=0; i<m; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            Collections.sort(hr, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n \n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int i=0; i<n+m; i++){\n                for(int j=i-1; j>=0; j--){\n                    if(hr.get(i)[1]<=hr.get(j)[1]) continue;\n                    dp[i] = Math.max(dp[i],dp[j]+1);\n                }\n            }\n \n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n \n            System.out.println(ans);\n        }\n    }\n \n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.awt.CardLayout;\nimport java.lang.reflect.Array;\nimport java.util.*;\n\npublic class Main {\t\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args){\n\t\tnew Main();\n\t}\n\tpublic Main(){\n\t\tnew AOJ0157();\n\t}\n\t\n\tclass AOJ0157{\n\t\tpublic AOJ0157(){\n\t\t\twhile(true){\n\t\t\t\tint a = in.nextInt();\n\t\t\t\tif(a==0)break;\n\t\t\t\tdoll taro[] = new doll[a];\n\t\t\t\tfor(int i=0;i<a;i++){\n\t\t\t\t\tint h = in.nextInt();\n\t\t\t\t\tint r = in.nextInt();\n\t\t\t\t\ttaro[i]=new doll(h, r);\n\t\t\t\t}\n\t\t\t\tint b = in.nextInt();\n\t\t\t\tdoll jiro[] = new doll[b];\n\t\t\t\tfor(int i=0;i<b;i++){\n\t\t\t\t\tint h = in.nextInt();\n\t\t\t\t\tint r = in.nextInt();\n\t\t\t\t\tjiro[i] = new doll(h, r);\n\t\t\t\t}\n\t\t\t\tdoll list[] = new doll[a+b];\n\t\t\t\tfor(int i=0;i<a;i++)list[i]=taro[i];\n\t\t\t\tfor(int i=a;i<a+b;i++)list[i]=jiro[i-a];\n\t\t\t\tArrays.sort(list);\n\t\t\t\tint n = list.length;\n\t\t\t\tint[] dp = new int[n];\n\t\t\t\tfor(int s=0;s<n;s++){\n\t\t\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\t\t\tif(list[i].h<=list[s].h||list[i].r<=list[s].r)continue;\n\t\t\t\t\t\tdp[i] = Math.max(dp[s]+1,dp[i]);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint result = 0;\n\t\t\t\tfor(int i=0;i<n;i++)result = Math.max(dp[i],result);\n\t\t\t\tSystem.out.println(result+1);\n\t\t\t}\n\t\t}\n\t\tclass doll implements Comparable<doll>{\n\t\t\tint h,r,men;\n\t\t\tpublic doll(int h,int r) {\n\t\t\t\tthis.h=h;\n\t\t\t\tthis.r=r;\n\t\t\t\tthis.men = h*r;\n\t\t\t}\n\t\t\tpublic int compareTo(doll a) {\n\t\t\t\tif(a.men>this.men)return -1;\n\t\t\t\telse if(a.men<this.men)return 1;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclass AOJ0112{\n\t\tpublic AOJ0112() {\n\t\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\twhile(true){\n\t\t\t\tint n = in.nextInt();\n\t\t\t\tif(n==0)break;\n\t\t\t\tlist.add(n);\n\t\t\t}\n\t\t\tCollections.sort(list);\n\t\t\tfor(int i=0;i<list.size();i++)System.out.println(list.get(i));\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t}\n\t}\n\t\n\tclass AOJ0106{\n\t\tint n;\n\t\tint bfs(int kei,int kin){\n\t\t\tif(kei>=n)return kin;\n\t\t\tint[] ryou = {200,300,500};\n\t\t\tint[] kakaku = {380,550,850};\n\t\t\tint[] tani = {5,4,3};\n\t\t\tdouble wari[] = {0.8,0.85,0.88};\n\t\t\tint result = Integer.MAX_VALUE/2;\n\t\t\tif(n-kei>=1000)for(int i=0;i<3;i++){\n\t\t\t\tdouble kane = (kakaku[i]*tani[i])*wari[i];\n\t\t\t\tint souryou = ryou[i]*tani[i];\n\t\t\t\tresult = Math.min(result,bfs(souryou+kei,(int)kane+kin));\n\t\t\t}else for(int i=0;i<3;i++){\n\t\t\t\tresult = Math.min(result,bfs(kei+ryou[i],kin+kakaku[i]));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tpublic AOJ0106() {\n\t\t\twhile(true){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tif(n==0)break;\n\t\t\t\tSystem.out.println(bfs(0,0));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t}\n\t\n\tclass AOJ2503{\n\t\tint MAX = 0;\n\t\tpublic AOJ2503() {\n\t\t\tScanner in = new Scanner(System.in);\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\n\t\t\tint[][] cost = new int[n][n];\n\n\t\t\tint[] dp = new int[n];\n\t\t\tfor(int i=0;i<n*n;i++){\n\t\t\t\tcost[i/n][i%n]=MAX;\n\t\t\t}\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tint a = in.nextInt();\n\t\t\t\tint b = in.nextInt();\n\t\t\t\tcost[a][b]=in.nextInt();\n\t\t\t}\t\n\t\t\t//\t\t\tTODO 一番大きいパスを0のポイントからn-1のポイントまでの\n\n\t\t\tfor(int s=1;s<n;s++){\n\t\t\t\tfor(int i=0;i<=s;i++){\n\t\t\t\t\tif(cost[i][s]==MAX)continue;\n\t\t\t\t\tdp[s]=Math.max(dp[s],dp[i]+cost[i][s]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int s=0;s<n;s++)for(int i=0;i<n;i++){\n\t\t\t\tif(cost[s][i]==MAX)continue;\n\t\t\t\tdp[i]=Math.max(dp[s]+cost[s][i],dp[i]);\n\t\t\t}\n\t\t\tfor(int i=0;i<n;i++)System.out.print(dp[i]+\" \");\n\t\t\tSystem.out.println();\n\t\t\tSystem.out.println(dp[n-1]);\n\t\t}\n\t}\n\n\n\n\tclass  AOJ0155{\n\t\tint d[];\n\t\tint n;\n\t\tint x[];\n\t\tint y[];\n\t\tint ban[];\n\t\tboolean sw;\n\t\tArrayList<Integer> result;\n\t\tint back[];\n\t\tint[][] cost;\n\t\tvoid dijkstra(int s,int g){\n\t\t\td = new int[n+1];d[s]=0;\n\t\t\tArrays.fill(d,0);\n\t\t\tboolean used[] = new boolean[n+1];\n\t\t\tint sumn[] = new int[n+1];\n\t\t\tint v=s;\n\t\t\tint save = -1;\n\t\t\tback = new int[n+1];\n\t\t\twhile(true){\n\t\t\t\tsave = v;\n\t\t\t\tv=-1;\n\t\t\t\tfor(int u=1;u<n+1;u++)if(!used[u]&&(v==-1||d[u]<d[v])){\n\t\t\t\t\tv=u;\n\t\t\t\t}\n\t\t\t\tSystem.out.println(v);\n\t\t\t\tif(v==-1)break;\n\t\t\t\telse back[v]=save;\n\t\t\t\tused[v]=true;\n\t\t\t\tfor(int u=1;u<n+1;u++)if(cost[v][u]!=100000)d[u]=Math.min(1+d[v],d[u]);\n\t\t\t}\n\t\t\tfor(int i=1;i<d.length;i++){\n\t\t\t\tSystem.out.println(i+\" \"+d[i]);\n\t\t\t}\n\t\t\tint now=g;\n\t\t\tresult = new ArrayList<Integer>();\n\t\t\tint a=0;\n\t\t\t//\t\t\tfor(int i=0;i<back.length;i++){\n\t\t\t//\t\t\t\tSystem.out.println(i+\" \"+back[i]);\n\t\t\t//\t\t\t}\n\t\t\twhile(true){\n\t\t\t\tif(cost[a][now]==1000000)sw = true;\n\t\t\t\tresult.add(now);\n\t\t\t\tif(now==s)break;\n\t\t\t\ta = now;\n\t\t\t\tnow=back[now];\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tpublic AOJ0155(){\n\t\t\tScanner in = new Scanner(System.in);\n\t\t\twhile(true){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tif(n==0)break;\n\t\t\t\tcost = new int[n+1][n+1];\n\t\t\t\tban = new int[n+1];\n\t\t\t\tx = new int[n+1];\n\t\t\t\ty = new int[n+1];\n\t\t\t\tfor(int i=1;i<n+1;i++){\n\t\t\t\t\tban[i] = in.nextInt();\n\t\t\t\t\tx[ban[i]] = in.nextInt();\n\t\t\t\t\ty[ban[i]] = in.nextInt();\n\t\t\t\t}\n\t\t\t\tfor(int i=1;i<n+1;i++){\n\t\t\t\t\tfor(int s=i+1;s<n+1;s++){\n\t\t\t\t\t\tint x1 = x[i],y1= y[i],x2=x[s],y2=y[s];\n\t\t\t\t\t\tint costs = (int)Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));\t\t\n\t\t\t\t\t\tcost[i][s] = costs > 50 ? 1000000:costs;\n\t\t\t\t\t\tcost[s][i] = cost[i][s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint kai = in.nextInt();\n\t\t\t\tfor(int i=0;i<kai;i++){\n\t\t\t\t\tint s = in.nextInt();\n\t\t\t\t\tint g = in.nextInt();\n\t\t\t\t\tdijkstra(s, g);\n//\t\t\t\t\tif(sw){\n//\t\t\t\t\t\tSystem.out.println(\"NA\");\n//\t\t\t\t\t\tbreak;\n//\t\t\t\t\t}\n\t\t\t\t\tfor(int a=result.size()-1;a>=0;a--){\n\t\t\t\t\t\tSystem.out.print(result.get(a)+\" \");\n\t\t\t\t\t}\n\t\t\t\t\tSystem.out.println();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[][] mato1 = new int[n][2];\n            for(int i=0; i<n; i++){\n                mato1[i][0] = sc.nextInt(); \n                mato1[i][1] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            int[][] mato2 = new int[m][2];\n            for(int i=0; i<m; i++){\n                mato2[i][0] = sc.nextInt();\n                mato2[i][1] = sc.nextInt();\n            }\n            int[][] mato = new int[n+m+1][2];\n            int idx = 1;\n            for(int i=0; i<n; i++) mato[idx++] = mato1[i];\n            for(int i=0; i<m; i++) mato[idx++] = mato2[i];\n\n            Arrays.sort(mato, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n\n            int[] dp = new int[n+m+1];\n            int max = 1;\n            for(int i=0; i<=n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(mato[i][0]>mato[j][0] && mato[i][1]>mato[j][1]){\n                        dp[i] = Math.max(dp[i], dp[j] + 1);\n                        max = Math.max(max, dp[i]);\n                    }\n                }\n            }\n            System.out.println(max);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[][] ns = new int[n][2];\n\t\t\twhile (n-- > 0) {\n\t\t\t\tns[n][0] = scanner.nextInt();\n\t\t\t\tns[n][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint m = scanner.nextInt();\n\t\t\tint[][] ms = new int[m][2];\n\t\t\twhile (m-- > 0) {\n\t\t\t\tms[m][0] = scanner.nextInt();\n\t\t\t\tms[m][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint len = ns.length + ms.length;\n\t\t\tint[][] num = Arrays.copyOf(ns, len);\n\t\t\tSystem.arraycopy(ms, 0, num, ns.length, ms.length);\n\t\t\tArrays.sort(num, new Comparator<int[]>() {\n\t\t\t\t@Override\n\t\t\t\tpublic int compare(int[] a, int[] b) {\n\t\t\t\t\tif (a[0] == b[0]) {\n\t\t\t\t\t\treturn a[1] - b[1];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[0] - b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\t/*for (int[] a : num)\n\t\t\t\tSystem.out.println(Arrays.toString(a));*/\n\t\t\tint[] dp = new int[len];\n\t\t\tArrays.fill(dp, 1);\n\t\t\tfor (int i = 0; i < len; i++) {\n\t\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\t\tif (num[i][0] > num[j][0] && num[i][1] > num[j][1])\n\t\t\t\t\t\tdp[i] = Math.max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ans = 0;\n\t\t\tfor (int i = 0; i < len; i++) {\n\t\t\t\tans = Math.max(ans, dp[i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[] h = new int[200];\n            int[] r = new int[200];\n\n            int idx = 0;\n            for(; idx<n; idx++){\n                h[idx] = sc.nextInt();\n                r[idx] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            for(; idx<n+m; idx++){\n                h[idx] = sc.nextInt();\n                r[idx] = sc.nextInt();\n            }\n\n            idx = 0;\n            int[][] hr = new int[n+m][2];\n            for(; idx<n; idx++){\n                hr[idx][0] = h[idx];\n                hr[idx][1] = r[idx];\n            }\n            for(; idx<n+m; idx++){\n                hr[idx][0] = h[idx];\n                hr[idx][1] = r[idx];\n            }\n\n            Arrays.sort(hr, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        return a[0] - b[0];\n                    }\n                });\n\n\n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int k=0; k<n+m; k++){\n                for(int i=0; i<n+m; i++){\n                    for(int j=0; j<n+m; j++){\n                        if(hr[i][0]<=hr[j][0]) break;\n                        if(hr[i][1]<=hr[j][1]) continue;\n                        dp[i] = Math.max(dp[i],dp[j]+1);\n                    }\n                }\n            }\n\n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n\n            System.out.println(ans);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Doll[] d;\n\tstatic int[][] memo;\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint maxh=0,maxr=0;\n\t\t\tDoll[] tmp = new Doll[N];\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\ttmp[i]=new Doll(a,b);\n\t\t\t}\n\n\t\t\tN = N + cin.nextInt();\n\t\t\td = new Doll[N];\n\t\t\tfor(int i = 0;i<tmp.length;i++){\n\t\t\t\td[i]=tmp[i];\n\t\t\t}\n\n\t\t\tfor(int i = tmp.length;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\td[i]=new Doll(a,b);\n\t\t\t}\n\t\t\tArrays.sort(d);\n\t\t\tmemo = new int[maxh+1][maxr+1];\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\t//System.out.println(d[i].h + \" \" + d[i].r);\n\t\t\t}\n\t\t\tSystem.out.println(search(maxh,maxr));\n\t\t}\n\n\t}\n\tstatic int search(int h,int r){\n\t\tSystem.out.println(h+\" \" +r);\n\t\tint hh=0, rr=0;\n\t\tfor(int i =0;i<d.length;i++){\n\t\t\tif(d[i].h >= h || d[i].r >= r){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\thh=d[i].h;\n\t\t\t\trr=d[i].r;\n\t\t\t}\n\t\t}\n\t\tif(hh==0&&rr==0){\n\t\t\treturn 1;\n\t\t}\n\t\treturn search(hh,rr)+1;\n\t}\n}\n\nclass Doll implements Comparable{\n\tint h;\n\tint r;\n\tDoll(int a,int b){\n\t\th=a;\n\t\tr=b;\n\t}\n\tpublic int compareTo(Object o){\n\t\tDoll d = (Doll)o;\n\t\tif(this.h==d.h){\n\t\t\treturn this.r-d.r;\n\t\t}\n\t\telse{\n\t\t\treturn this.h-d.h;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif(N == 0) break;\n\t\t\tArrayList<Integer> H = new ArrayList<>();\n\t\t\tArrayList<Integer> R = new ArrayList<>();\n\t\t\tH.add(0);\n\t\t\tR.add(0);\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tH.add(h);\n\t\t\t\tR.add(r);\n\t\t\t}\n\t\t\tint M = sc.nextInt();\n\t\t\tfor(int i = 0; i < M; i++) {\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tH.add(h);\n\t\t\t\tR.add(r);\n\t\t\t}\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tH.add(H.get(i));\n\t\t\t\tH.add(H.get(i+1));\n\t\t\t}\n\t\t\tint[] dp = new int[H.size()];\n\t\t\tdp[0] = 0;\n\t\t\tfor(int i = 1; i < H.size(); i++) {\n\t\t\t\tdp[i] = 0;\n\t\t\t\tfor(int j = 0; j < i; j++) {\n\t\t\t\t\tif(H.get(j) < H.get(i) && R.get(j) < R.get(i) && dp[j] + 1 > dp[i]) dp[i] = dp[j] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint max = 0;\n\t\t\tfor(int i = 0; i < dp.length; i++) {\n\t\t\t\tmax = Math.max(max, dp[i]);\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Main {\n    public static void main(String[] args) throws IOException{\n        BufferedReader r = new BufferedReader(new InputStreamReader(System.in), 1);\n        int count = Integer.parseInt(r.readLine().split(\" \")[0]);\n        System.out.println();\n        while(count!=0){\n            List<Integer> list_h1 = new ArrayList<Integer>();\n            List<Integer> list_r1 = new ArrayList<Integer>();\n            List<Integer> list_h2 = new ArrayList<Integer>();\n            List<Integer> list_r2 = new ArrayList<Integer>();\n            int i;\n            for(i=0;i<count;i++){\n                String[] tmp = r.readLine().split(\" \");\n                int tmpi = Integer.parseInt(tmp[0]);\n                int index = list_h1.size();\n                while(index>0&&tmpi<list_h1.get(index-1)){\n                    index--;\n                }\n                list_h1.add(index, tmpi);\n                list_r1.add(index, Integer.parseInt(tmp[1]));\n            }\n            count = Integer.parseInt(r.readLine().split(\" \")[0]);\n            for(i=0;i<count;i++){\n                String[] tmp = r.readLine().split(\" \");\n                int tmpi = Integer.parseInt(tmp[0]);\n                int index = list_h2.size();\n                while(index>0&&tmpi<list_h2.get(index-1)){\n                    index--;\n                }\n                list_h2.add(index, tmpi);\n                list_r2.add(index, Integer.parseInt(tmp[1]));\n            }\n            List<Integer> list_sorted_by_h_h = new ArrayList<Integer>();\n            List<Integer> list_sorted_by_h_r = new ArrayList<Integer>();\n            List<Integer> list_sorted_by_r_h = new ArrayList<Integer>();\n            List<Integer> list_sorted_by_r_r = new ArrayList<Integer>();\n            int i1=0,i2=0;\n            for(i=0;i<list_h1.size()+list_h2.size();i++){\n                if(list_h1.size()==i1){\n                    if(list_sorted_by_h_r.size()==0||list_r2.get(i2)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                        list_sorted_by_h_h.add(list_h2.get(i2));\n                        list_sorted_by_h_r.add(list_r2.get(i2));\n                    }\n                    i2++;\n                }else if(list_h2.size()==i2){\n                    if(list_sorted_by_h_r.size()==0||list_r1.get(i1)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                        list_sorted_by_h_h.add(list_h1.get(i1));\n                        list_sorted_by_h_r.add(list_r1.get(i1));\n                    }\n                    i1++;\n                }else{\n                    if(list_h1.get(i1)<list_h2.get(i2)){\n                        if(list_sorted_by_h_r.size()==0||list_r1.get(i1)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                            list_sorted_by_h_h.add(list_h1.get(i1));\n                            list_sorted_by_h_r.add(list_r1.get(i1));\n                        }\n                        i1++;\n                    }else if(list_h1.get(i1)>list_h2.get(i2)){\n                        if(list_sorted_by_h_r.size()==0||list_r2.get(i2)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                            list_sorted_by_h_h.add(list_h2.get(i2));\n                            list_sorted_by_h_r.add(list_r2.get(i2));\n                        }\n                        i2++;\n                    }else{\n                        if(list_r2.get(i2)>list_r1.get(i1)){\n                            if(list_sorted_by_h_r.size()==0||list_r1.get(i1)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                                list_sorted_by_h_h.add(list_h1.get(i1));\n                                list_sorted_by_h_r.add(list_r1.get(i1));\n                            }\n                        } else {\n                            if(list_sorted_by_h_r.size()==0||list_r2.get(i2)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                                list_sorted_by_h_h.add(list_h2.get(i2));\n                                list_sorted_by_h_r.add(list_r2.get(i2));\n                            }\n                        }\n                        i++;\n                        i1++;\n                        i2++;\n                    }\n                }\n            }\n            i1=0;i2=0;\n            for(i=0;i<list_h1.size()+list_h2.size();i++){\n                if(list_r1.size()==i1){\n                    if(list_sorted_by_r_h.size()==0||list_h2.get(i2)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                        list_sorted_by_r_r.add(list_r2.get(i2));\n                        list_sorted_by_r_h.add(list_h2.get(i2));\n                    }\n                    i2++;\n                }else if(list_r2.size()==i2){\n                    if(list_sorted_by_r_h.size()==0||list_h1.get(i1)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                        list_sorted_by_r_r.add(list_r1.get(i1));\n                        list_sorted_by_r_h.add(list_h1.get(i1));\n                    }\n                    i1++;\n                }else{\n                    if(list_r1.get(i1)<list_r2.get(i2)){\n                        if(list_sorted_by_r_h.size()==0||list_h1.get(i1)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                            list_sorted_by_r_r.add(list_r1.get(i1));\n                            list_sorted_by_r_h.add(list_h1.get(i1));\n                        }\n                        i1++;\n                    }else if(list_r1.get(i1)>list_r2.get(i2)){\n                        if(list_sorted_by_r_h.size()==0||list_h2.get(i2)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                            list_sorted_by_r_r.add(list_r2.get(i2));\n                            list_sorted_by_r_h.add(list_h2.get(i2));\n                        }\n                        i2++;\n                    }else{\n                        if(list_h2.get(i2)>list_h1.get(i1)){\n                            if(list_sorted_by_r_h.size()==0||list_h1.get(i1)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                                list_sorted_by_r_r.add(list_r1.get(i1));\n                                list_sorted_by_r_h.add(list_h1.get(i1));\n                            }\n                        } else {\n                            if(list_sorted_by_r_h.size()==0||list_h2.get(i2)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                                list_sorted_by_r_r.add(list_r2.get(i2));\n                                list_sorted_by_r_h.add(list_h2.get(i2));\n                            }\n                        }\n                        i++;\n                        i1++;\n                        i2++;\n                    }\n                }\n            }\n            System.out.println(calcSize(list_sorted_by_h_h,list_sorted_by_h_r,list_sorted_by_r_h,list_sorted_by_r_r));\n            count = Integer.parseInt(r.readLine().split(\" \")[0]);\n        }\n    }\n\n    private static int calcSize(List<Integer> h_h, List<Integer> h_r, List<Integer> r_h, List<Integer> r_r){\n        int count=0;\n        List<Integer> indexes1 = new ArrayList<Integer>();\n        List<Integer> indexes2 = new ArrayList<Integer>();\n        for(int i:h_h){\n            int index = r_h.indexOf(i);\n            if(index!=-1&&r_r.get(index)==h_r.get(count)){\n                indexes1.add(count);\n                indexes2.add(index);\n            }\n            count++;\n        }\n        if(indexes1.size()<=1){\n            return Math.max(indexes1.size(), indexes2.size());\n        } else {\n            int i;\n            int size=0;\n            int prev1=0,prev2=0;\n            for(i=0;i<indexes1.size();i++){\n                if(indexes1.get(i)-prev1>indexes2.get(i)-prev2){\n                    size+=indexes1.get(i)-prev1;\n                } else {\n                    size+=indexes2.get(i)-prev2;\n                }\n                prev1=indexes1.get(i);\n                prev2=indexes2.get(i);\n            }\n            size+=Math.max(h_h.size()-prev1,r_h.size()-prev2);\n            return size;\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import static java.util.Arrays.*;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.StringTokenizer;\n\npublic class Main {\n\n\tstatic void tr(Object... os) {\n\t\tSystem.err.println(deepToString(os));\n\t}\n\n\tint[][] h = new int[2][];\n\tint[][] r = new int[2][];\n\tint[][] hr;\n\n\tvoid solve() {\n\t\tint n = sc.nextInt();\n\t\tif (n == 0) return;\n\t\th[0] = new int[n];\n\t\tr[0] = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\th[0][i] = sc.nextInt();\n\t\t\tr[0][i] = sc.nextInt();\n\t\t}\n\t\tint m = sc.nextInt();\n\t\th[1] = new int[m];\n\t\tr[1] = new int[m];\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\th[1][i] = sc.nextInt();\n\t\t\tr[1][i] = sc.nextInt();\n\t\t}\n\n\t\thr = new int[n + m][2];\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\thr[i][0] = i < n ? h[0][i] : h[1][i-n];\n\t\t\thr[i][1] = i < n ? r[0][i] : r[1][i-n];\n\t\t}\n\n\t\tArrays.sort(hr, new Comparator<int[]>(){\n\t\t\tpublic int compare(int[] a, int[] b){\n\t\t\t\tif (a[0] != b[0]) return Integer.compare(a[0], b[0]);\n\t\t\t\treturn Integer.compare(a[1], b[1]);\n\t\t\t}\n\t\t});\n\n\t\tint[] dp = new int[hr.length];\n\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < hr.length; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tif (hr[j][0] < hr[i][0] && hr[j][1] < hr[i][1]) dp[i] = 1 + dp[j];\n\t\t\t}\n\t\t}\n\t\tint res = 0;\n\t\tfor (int i = 0; i < hr.length; i++) {\n\t\t\tres = Math.max(res, dp[i]);\n\t\t}\n\t\tout.println(res);\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tnew Main().run();\n\t}\n\n\tMyScanner sc = null;\n\tPrintWriter out = null;\n\tpublic void run() throws Exception {\n\t\tsc = new MyScanner(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tfor (;sc.hasNext();) {\n\t\t\tsolve();\n\t\t\tout.flush();\n\t\t}\n\t\tout.close();\n\t}\n\n\tclass MyScanner {\n\t\tString line;\n\t\tBufferedReader reader;\n\t\tStringTokenizer tokenizer;\n\n\t\tpublic MyScanner(InputStream stream) {\n\t\t\treader = new BufferedReader(new InputStreamReader(stream));\n\t\t\ttokenizer = null;\n\t\t}\n\t\tpublic void eat() {\n\t\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens()) {\n\t\t\t\ttry {\n\t\t\t\t\tline = reader.readLine();\n\t\t\t\t\tif (line == null) {\n\t\t\t\t\t\ttokenizer = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttokenizer = new StringTokenizer(line);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new RuntimeException(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tpublic String next() {\n\t\t\teat();\n\t\t\treturn tokenizer.nextToken();\n\t\t}\n\t\tpublic String nextLine() {\n\t\t\ttry {\n\t\t\t\treturn reader.readLine();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new RuntimeException(e);\n\t\t\t}\n\t\t}\n\t\tpublic boolean hasNext() {\n\t\t\teat();\n\t\t\treturn (tokenizer != null && tokenizer.hasMoreElements());\n\t\t}\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\t\tpublic long nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) a[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tint mod = 1000000007;\n\tint[][] data;\n\tint[] memo;\n\tboolean[] use;\n\tint n, m, N;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tn = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata = new int[201][2];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tdata[i][0] = sc.nextInt();\n\t\t\t\tdata[i][1] = sc.nextInt();\n\t\t\t}\n\t\t\tm = sc.nextInt();\n\t\t\tfor (int i = n; i < m + n; i++) {\n\t\t\t\tdata[i][0] = sc.nextInt();\n\t\t\t\tdata[i][1] = sc.nextInt();\n\t\t\t}\n\n\t\t\tN = n + m;\n\t\t\tmemo = new int[n + m];\n\t\t\tuse = new boolean[n + m];\n\t\t\tint ans = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tans = Math.max(ans, dfs(i));\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tint dfs(int index) {\n\t\tif (memo[index] > 0) {\n\t\t\treturn memo[index];\n\t\t}\n\t\tint res = 1;\n\t\tuse[index] = true;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (!use[i]) {\n\t\t\t\tif (data[i][0] < data[index][0] && data[i][1] < data[index][1]) {\n\t\t\t\t\tres = Math.max(res, dfs(i) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tuse[index] = false;\n\t\treturn memo[index] = res;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(int[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.Scanner;\n\npublic class Main {\n\tclass C implements Comparable<C>{\n\t\tint r,h;\n\n\t\tpublic C(int r, int h) {\n\t\t\tsuper();\n\t\t\tthis.r = r;\n\t\t\tthis.h = h;\n\t\t}\n\n\t\t@Override\n\t\tpublic int compareTo(C a) {\n\t\t\tif(this.h < a.h) return -1;\n\t\t\tif(this.h > a.h) return 1;\n\t\t\treturn 0;\n\t\t}\n\t\t\n\t}\n\n\tprivate void doit() {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif ( n == 0) break;\n\t\t\tArrayList<C> data = new ArrayList<C>();\n\t\t\t\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tdata.add(new C(r,h));\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i=0; i < m; i++){\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tdata.add(new C(r,h));\n\t\t\t}\n\t\t\tCollections.sort(data);\n\t\t\tint len = n + m;\n\t\t\tint [] [] dp = new int [len + 2][len + 2];\n\t\t\tint ans = 0;\n\t\t\tfor(int i= 1; i <= len; i++){\n\t\t\t\tdp[1][i] = data.get(i -1 ).h;\n\t\t\t\tdp[0][i] = data.get(i - 1).r;\n\t\t\t\tfor(int j = i - 1; j >= 0; j--){\n\t\t\t\t\tint h = dp[1][j];\n\t\t\t\t\tint r = dp[0][j];\n\t\t\t\t\tif(dp[1][i] > h && dp[0][i] > r){\n\t\t\t\t\t\t\n\t\t\t\t\t\tint temp =  dp[2][j] + 1;\n\t\t\t\t\t\tdp[2][i] = Math.max(temp, dp[2][i]);\n\t\t\t\t\t\t// debug\n\t\t\t\t\t\t//System.out.println( i + \" \" + j + \" \" +dp[2][i]);\n\t\t\t\t\t\tans = Math.max(ans,\t dp[2][i]);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//System.out.print(\"Answer = \");\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t\t\n\t\t\n\t}\n\tpublic static void main(String[] args) {\n\t\tMain obj = new Main();\n\t\tobj.doit();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Map.Entry;\nimport java.io.*;\nimport java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tFastScanner sc = new FastScanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\t\n\t\t\tif(n == 0) break;\n\t\t\t\n\t\t\tint[] h1 = new int[n+1];\n\t\t\tint[] r1 = new int[n+1];\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\th1[i] = sc.nextInt();\n\t\t\t\tr1[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tint[] h2 = new int[m+1];\n\t\t\tint[] r2 = new int[m+1];\n\t\t\tfor(int i = 1; i <= m; i++){\n\t\t\t\th2[i] = sc.nextInt();\n\t\t\t\tr2[i] = sc.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tint[][] dp = new int[n+1][m+1];\n\t\t\tfor(int i = 0; i <= n; i++)\n\t\t\t\tdp[i][0] = i;\n\t\t\tfor(int j = 0; j <= m; j++)\n\t\t\t\tdp[0][j] = j;\n\t\t\t\n\t\t\tfor(int i = 1; i <= n; i++){\n\t\t\t\tfor(int j = 1; j <= m; j++){\n\t\t\t\t\tif(h1[i] > h2[j] && r1[i] > r2[j]){\n\t\t\t\t\t\tdp[i][j] = dp[i-1][j] + 1;\n\t\t\t\t\t}else if(h2[j] > h1[i] && r2[j] > r1[i]){\n\t\t\t\t\t\tdp[i][j] = dp[i][j-1] + 1;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdp[i][j] = Math.max(dp[i-1][j], dp[i][j-1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(dp[n][m]);\n\t\t}\n\t}\n}\n\nclass FastScanner {\n    private InputStream in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n    public FastScanner(InputStream in) {\n\t\tthis.in = in;\n\t}\n    private boolean hasNextByte() {\n        if (ptr < buflen) {\n            return true;\n        }else{\n            ptr = 0;\n            try {\n                buflen = in.read(buffer);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (buflen <= 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private int readByte() {\n    \tif (hasNextByte()) return buffer[ptr++];\n    \telse return -1;\n    }\n    private static boolean isPrintableChar(int c){\n    \treturn 33 <= c && c <= 126;\n    }\n    public boolean hasNext() {\n    \twhile(hasNextByte() && !isPrintableChar(buffer[ptr]))\n    \t\tptr++; return hasNextByte();\n    }\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while(isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        long n = 0;\n        boolean minus = false;\n        int b = readByte();\n        if (b == '-') {\n            minus = true;\n            b = readByte();\n        }\n        if (b < '0' || '9' < b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0' <= b && b <= '9') {\n                n *= 10;\n                n += b - '0';\n            }else if(b == -1 || !isPrintableChar(b)){\n                return minus ? -n : n;\n            }else{\n                throw new NumberFormatException();\n            }\n            b = readByte();\n        }\n    }\n    public int nextInt() {\n        long nl = nextLong();\n        if (nl < Integer.MIN_VALUE || nl > Integer.MAX_VALUE) throw new NumberFormatException();\n        return (int) nl;\n    }\n    public double nextDouble() {\n    \treturn Double.parseDouble(next());\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import static java.util.Arrays.*;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.StringTokenizer;\n\npublic class Main {\n\n\tstatic void tr(Object... os) {\n\t\tSystem.err.println(deepToString(os));\n\t}\n\n\tint[][] h = new int[2][];\n\tint[][] r = new int[2][];\n\tint[][] hr;\n\n\tvoid solve() {\n\t\tint n = sc.nextInt();\n\t\tif (n == 0) return;\n\t\th[0] = new int[n];\n\t\tr[0] = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\th[0][i] = sc.nextInt();\n\t\t\tr[0][i] = sc.nextInt();\n\t\t}\n\t\tint m = sc.nextInt();\n\t\th[1] = new int[m];\n\t\tr[1] = new int[m];\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\th[1][i] = sc.nextInt();\n\t\t\tr[1][i] = sc.nextInt();\n\t\t}\n\n\t\thr = new int[n + m][2];\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\thr[i][0] = i < n ? h[0][i] : h[1][i-n];\n\t\t\thr[i][1] = i < n ? r[0][i] : r[1][i-n];\n\t\t}\n\n\t\tArrays.sort(hr, new Comparator<int[]>(){\n\t\t\tpublic int compare(int[] a, int[] b){\n\t\t\t\tif (a[0] != b[0]) return a[0] - b[0];\n\t\t\t\treturn a[1] - b[1];\n\t\t\t}\n\t\t});\n\n\t\tint[] dp = new int[hr.length];\n\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < hr.length; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tif (hr[j][0] < hr[i][0] && hr[j][1] < hr[i][1]) dp[i] = 1 + dp[j];\n\t\t\t}\n\t\t}\n\t\tint res = 0;\n\t\tfor (int i = 0; i < hr.length; i++) {\n\t\t\tres = Math.max(res, dp[i]);\n\t\t}\n\t\tout.println(res);\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tnew Main().run();\n\t}\n\n\tMyScanner sc = null;\n\tPrintWriter out = null;\n\tpublic void run() throws Exception {\n\t\tsc = new MyScanner(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tfor (;sc.hasNext();) {\n\t\t\tsolve();\n\t\t\tout.flush();\n\t\t}\n\t\tout.close();\n\t}\n\n\tclass MyScanner {\n\t\tString line;\n\t\tBufferedReader reader;\n\t\tStringTokenizer tokenizer;\n\n\t\tpublic MyScanner(InputStream stream) {\n\t\t\treader = new BufferedReader(new InputStreamReader(stream));\n\t\t\ttokenizer = null;\n\t\t}\n\t\tpublic void eat() {\n\t\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens()) {\n\t\t\t\ttry {\n\t\t\t\t\tline = reader.readLine();\n\t\t\t\t\tif (line == null) {\n\t\t\t\t\t\ttokenizer = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttokenizer = new StringTokenizer(line);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new RuntimeException(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tpublic String next() {\n\t\t\teat();\n\t\t\treturn tokenizer.nextToken();\n\t\t}\n\t\tpublic String nextLine() {\n\t\t\ttry {\n\t\t\t\treturn reader.readLine();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new RuntimeException(e);\n\t\t\t}\n\t\t}\n\t\tpublic boolean hasNext() {\n\t\t\teat();\n\t\t\treturn (tokenizer != null && tokenizer.hasMoreElements());\n\t\t}\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\t\tpublic long nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) a[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[][] hr1 = new int[n][2];\n            for(int i=0; i<n; i++){\n                hr1[i][0] = sc.nextInt();\n                hr1[i][1] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            int[][] mato = new int[n+m][2];\n            for(int i=0; i<n; i++){\n                mato[i][0] = hr1[i][0];\n                mato[i][1] = hr1[i][1];\n            }\n            for(int i=0; i<m; i++){\n                mato[i+n][0] = sc.nextInt();\n                mato[i+n][1] = sc.nextInt();\n            }\n            \n            Arrays.sort(mato, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n\n            int[][] dp = new int[1000][1000];\n            for(int i=0; i<mato.length; i++){\n                int idx1 = mato[i][0], idx2 = mato[i][1];\n                dp[idx1][idx2] = 1;\n                for(int j=0; j<i; j++){\n                    int idx3 = mato[j][0], idx4 = mato[j][1];\n                    if(idx1>idx3 && idx2>idx4)\n                        dp[idx1][idx2] = Math.max(dp[idx1][idx2], dp[idx3][idx4]+1);\n                }\n            }\n\n            int max = 0;\n            for(int i=0; i<1000; i++){\n                for(int j=0; j<1000; j++){\n                    max = Math.max(max, dp[i][j]);\n                }\n            }\n            System.out.println(max);\n        }\n   }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n    public static void main(String[] args){\n\tnew Main().run();\n    }\n    Scanner sc = new Scanner(System.in);\n\n    int n, m;\n    int h, r;\n    int[][] dolls;\n    int[] dp;\n\n    void run(){\n\twhile(sc.hasNext()){\n\t    n = sc.nextInt();\n\t    if(n==0) break;\n\t    input();\n\t    sort();\n\t    // show();\n\t    solve();\n\t}\n    }\n\n    void solve(){\n\tdp = new int[n+m];\n\tArrays.fill(dp, 1);\n\tfor(int i=0; i<dp.length; i++){\n\t    if(i!=0)\n\t\tfor(int k=i-1; k>=0; k--)\n\t\t    if(dolls[k][0]<dolls[i][0] && dolls[k][1]<dolls[i][1])\n\t\t\tdp[i] = Math.max(dp[i], dp[k]+1);\t    \n\t}\n\n\t// showDP();\n\tint ans = 0;\n\tfor(int i=0; i<dp.length; i++)\n\t    ans = Math.max(ans, dp[i]);\n\n\tSystem.out.println(ans);\n    }\n\n    void show(){\n\tfor(int i=0; i<n+m; i++)\n\t    System.out.printf(\"%3d %3d\\n\", dolls[i][0], dolls[i][1]);\n\tSystem.out.println(\"-----------------\");\n    } \n\n    void showDP(){\n\tfor(int i=0; i<dp.length; i++)\n\t    System.out.println(dp[i]);\n\tSystem.out.println(\"-----------------\");\n    }\n\n    void sort(){\n\tArrays.sort(dolls, new Comparator<int[]>(){\n\t\tpublic int compare(int[] a, int[] b){\n\t\t    int x1 = a[0];\n\t\t    int x2 = b[0];\n\t\t    if(x1 != x2) return x1-x2;\n\t\t    else return a[1]-b[1];\n\t\t}\n\t    }\n\t    );\n    }\n    \n    void input(){\n\tint[][] d = new int[n][2]; // tmp\n\tfor(int i=0; i<n; i++){\n\t    d[i][0] = sc.nextInt();\n\t    d[i][1] = sc.nextInt();\n\t}\n\t\n\tm = sc.nextInt();\n\tdolls = new int[n+m][2];\n\tfor(int i=0; i<n; i++){\n\t    dolls[i][0] = d[i][0];\n\t    dolls[i][1] = d[i][1];\n\t}\n\tfor(int i=n; i<n+m; i++){\n\t    dolls[i][0] = sc.nextInt();\n\t    dolls[i][1] = sc.nextInt();\n\t}\n    }\n}\n\t\n\t    \n\n       "
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main{\n    public static void main(String[] args){\n\n\t// テ、ツクツ?ゥツδ偲・ツ青崚」ツ?ョテ」ツδ榲」ツδ暗」ツδェテ」ツδァテ」ツつキテ」ツつォテ」ツ?ョテゥツォツ佚」ツ?陛ァツ板ィテ」ツ?ィテ・ツ債甘・ツセツ?ァツ板ィテッツシツ淌」ツ?ィテ」ツ??ヲツャツ。テゥツδ偲・ツ青崚」ツ?ョテ」ツ?ィテ」ツ?ァテ」ツ??ィツィツ暗・ツ崢崚」ツ?、テゥツ?催・ツ按療」ツ?古・ツソツ?ィツヲツ?」ツ?ォテ」ツ?ェテ」ツつ凝」ツ?ョテ」ツ?凝」ツ?ェテ「ツ?ヲ\n\tScanner sc = new Scanner(System.in);\n\tint ichiroNum = 0, jiroNum = 0; //テ、ツコツコテ・ツスツ「テ」ツ?ョテヲツ閉ーテ・ツ?・テ」ツつ古」ツつ凝」ツ?淌」ツつ?」ツ?ョテ・ツ、ツ嘉ヲツ閉ー\n\n\twhile(sc.hasNext()){\n\n\t    ichiroNum = sc.nextInt(); // テ、ツクツ?ゥツδ偲・ツ青崚」ツ?ョテ、ツコツコテ・ツスツ「テ」ツ?ョテヲツ閉ーテ・ツ?・テ・ツ環崚」ツ?づ」ツ?禿」ツつ古」ツ??テ」ツ??」ツ?」テ」ツ?淌」ツつ嘉ァツオツづ、ツコツ?\n\t    if(ichiroNum==0) break;\n\n\t    // **** テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉、ツクツ?ゥツδ偲」ツ?湘」ツつ禿」ツ?ョテ」ツδ?」ツδシテ」ツつソテ、ツスツ愿ヲツ按?****\n\t    \n\t    int[] ichiroHeight = new int[ichiroNum];\n\t    int[] ichiroWeight = new int[ichiroNum];\n\n\t    for(int i = 0;i<ichiroNum;i++){\n\t\tichiroHeight[i] = sc.nextInt();\n\t\tichiroWeight[i] = sc.nextInt();\n\t    }\n\t    // **********************************\n\n\t    jiroNum = sc.nextInt();\n\n\t    // ***** テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉ヲツャツ。テゥツδ偲・ツ青?***************\n\t    int[] jiroHeight = new int[jiroNum];\n\t    int[] jiroWeight = new int[jiroNum];\n\n\t    for(int i = 0;i<jiroNum;i++){\n\t\tjiroHeight[i] = sc.nextInt();\n\t\tjiroWeight[i] = sc.nextInt();\n\t    }\n\t    // **********************************\n\t    // ***** テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉・ツ按、テ・ツョツ?*****\n\n\t    // テ」ツ?ゥテ」ツ??」ツ?療」ツつ暗」ツ??」ツ?凝」ツ?ェテ」ツ??ゥツォツ佚」ツ?陛ゥツ??」ツ?ォテ、ツクツヲテ」ツ?ケテヲツ崢ソテ」ツ?暗」ツ?ヲテ」ツ?陛」ツつ嘉」ツ?ォテ・ツ債甘・ツセツ?ゥツ??」ツ?ォテ、ツクツヲテ」ツ?ケテヲツ崢ソテ」ツ?暗」ツ?淌」ツつ甘」ツ?療」ツつ暗」ツ??」ツ?凝」ツ?ェテ「ツ?ヲテッツシツ?\n\t    // テ」ツ?ィテ」ツつ甘」ツ?づ」ツ?暗」ツ?堙、ツコツ古、ツコツコテ」ツ?ョテ」ツつ津」ツ?づ」ツつ湘」ツ?崚」ツ?淌ゥツ?催・ツ按療」ツつ津」ツ?セテ」ツ?淌ヲツ鳴ーテ」ツ?療」ツ?湘、ツスツ愿」ツつ催」ツ??」ツ?凝」ツ?ェテ」ツ?づ」ツ?敕」ツつ古」ツ?ァテゥツォツ佚」ツ?陛ゥツ??」ツ?ォテ、ツクツヲテ」ツ?ケテ」ツ?ヲテ」ツ?ソテ」ツつ暗」ツ??\n\t    // テゥツォツ佚」ツ?陛」ツ?ィテ・ツケツ?」ツ?ョテ・ツ、ツァテ・ツーツ湘ゥツ鳴「テ、ツソツづ」ツ?古ゥツ??」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?。テ」ツつε」ツ??」ツつ?」ツ?、テ」ツつづ」ツ?ィテ」ツつ甘」ツ?づ」ツ?暗」ツ?堙ゥツ?催・ツ按療」ツ?ォテ・ツ青ォテ」ツつ?」ツ?ヲテ」ツ??ヲツ閉ーテ」ツつ津ヲツ閉ーテ」ツ?暗」ツつ凝」ツ?ィテ」ツ?催」ツ?ォテ・ツ按、テ・ツョツ堙」ツ?凖」ツつ?\n\n\t    int[] count = new int[ichiroNum+jiroNum];\n\n\t    int[][] dolls = new int[ichiroNum+jiroNum][2];\n\t    \n\t    // テ、ツクツ?ゥツδ偲」ツ?湘」ツつ禿」ツ?ョテ」ツ?ィテヲツャツ。テゥツδ偲・ツ青崚」ツ?ョテ」ツつ津・ツ青暗」ツつ湘」ツ?崚」ツつ?\n\t    for(int i = 0;i<ichiroNum;i++){\n\t    \tdolls[i][0] = ichiroHeight[i];\n\t    \tdolls[i][1] = ichiroWeight[i];\n\t    }\n\t    for(int i = ichiroNum;i<ichiroNum+jiroNum;i++){\n\t    \tdolls[i][0] = jiroHeight[i-ichiroNum];\n\t    \tdolls[i][1] = jiroWeight[i-ichiroNum];\n\t    }\n\t    \n\t    Arrays.sort(dolls, new Comparator<int[]>() {\n\t     public int compare(int[] o1, int[] o2) {\n\t      if(o1[0] != o2[0]) return o1[0] - o2[0];\n\t      return o1[1] - o2[1];\n\t     }\n\t    });\n\t    \n\t    // テ」ツ?禿」ツつ古」ツ?ァテゥツ?催・ツ按療」ツ?ァテ」ツ?催」ツ?淌」ツ?ョテ」ツ?凝」ツ?ェテ」ツδサテ」ツδサテ」ツδサテ」ツつケテ」ツつエテ」ツつ、テッツシツ?\n\n\t    // テ」ツ?陛」ツ?ヲテ」ツ?陛」ツ?ヲテ・ツ按、テ・ツョツ堙・ツ按、テ・ツョツ堙」ツ?づ」ツ?ァテ」ツ?催」ツつ凝」ツ?凝」ツ?ェ\n\t    // テ」ツ??」ツ?凝」ツつ嘉ィツヲツ?」ツ?凖」ツつ凝」ツ?ォテ」ツ??」ツ?セテ」ツ?堙、ツクツ?ァツ閉ェテ」ツ?。テ」ツ??」ツ?陛」ツ??・ツュツ静」ツ?凝」ツつ嘉ィツ?ε」ツ?暗」ツ?ヲテ」ツ??ィツ?ェテ・ツ按?」ツ?古」ツ?ゥテ」ツ?ョテ」ツ?湘」ツつ嘉」ツ??」ツ?ョテ・ツュツ静」ツつ津・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝」ツ?凝」ツつ津ィツ?ε」ツ?暗」ツつ?\n\t    // テ」ツ?ゥテ」ツつ禿」ツ?ゥテ」ツつ禿・ツ、ツァテ」ツ?催」ツ??・ツュツ静」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?ヲテ」ツ??」ツ?」テ」ツ?ヲテ」ツ??ィツ?ェテ・ツ按?」ツ?古・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝・ツュツ静」ツ?ョテ、ツクツュテ」ツ?ァテ、ツクツ?ァツ閉ェテ・ツ、ツァテ」ツ?催」ツ??・ツュツ静」ツ?古・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝ヲツ閉ーテ」ツ?ッティツ?ェテ・ツ按?」ツつづ・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝ヲツ閉ーテ」ツ??」ツ?凝」ツつ嘉」ツ??」ツ?敕」ツつ古」ツ?ォ+1テ」ツ?凖」ツつ古」ツ?ーテ」ツ??」ツ??」ツ?ィテ」ツ??」ツ??」ツ?禿」ツ?ィテ」ツ??」ツつ暗」ツ?ュ\n\t    \n\t    for(int i = 0;i<count.length;i++){\n\t    \tfor(int j = 0;j<i;j++){\n\t    \t\tif(dolls[j][0] < dolls[i][0] && dolls[j][1] < dolls[i][1])\n\t    \t\t\t if(count[i] < count[j] + 1) count[i] = count[j] + 1;\n\t    \t}\n\t    }\n\n\t    Arrays.sort(count);\n\t    \n\t    int countMax = count[count.length-1];\n\t    // countMaxテ」ツ?ッテ」ツ??」ツ?敕」ツ?ョテ」ツ?禿」ツ?古、ツスツ陛・ツ?凝ィツ?ェテ・ツ按?」ツ?ョテ、ツクツュテ」ツ?ォテ・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝」ツ?凝」ツ?ョテヲツ閉ーテ」ツ??」ツ?凝」ツつ?\n\t    // ティツヲツ姪ァツつケテ」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?ヲテ」ツつ凝・ツュツ静」ツ?ョテ・ツ按?」ツつづヲツ閉ーテ」ツ?ォテ・ツ?・テ」ツつ古」ツつ凝」ツ?禿」ツ?ィテ」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?ヲテ」ツ??・ツ?コテ・ツ環崚」ツ?ッ+1テ」ツ?療」ツ?ェテ」ツ?催」ツつεッツシツ?」ツ?づ」ツ?凝」ツつ禿ッツシツ?\n\t    // テ」ツ?禿」ツつ禿」ツ?ェテ」ツ?禿」ツ?ィテ」ツ?ォテ」ツつづヲツーツ療」ツ?・テ」ツ?凝」ツつ禿」ツ?ィテ」ツ?ッテ」ツ??」ツ?づ」ツ?サテ」ツつ?」ツつ催」ツ??ッツシツ?\n\t    System.out.println(countMax+1);\n\n\t    // テ・ツ按敕ヲツ慊淌・ツ個?\n\t    for(int i = 0;i<count.length;i++){\n\t    \tcount[i] = 0;\n\t    }\n\t    ichiroNum = 0;\n\t    jiroNum = 0;\n\t    \n\t}\n\t\n    }\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[][] ns = new int[n][2];\n\t\t\twhile (n-- > 0) {\n\t\t\t\tns[n][0] = scanner.nextInt();\n\t\t\t\tns[n][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint m = scanner.nextInt();\n\t\t\tint[][] ms = new int[m][2];\n\t\t\twhile (m-- > 0) {\n\t\t\t\tms[m][0] = scanner.nextInt();\n\t\t\t\tms[m][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint len = ns.length + ms.length;\n\t\t\tint[][] num = Arrays.copyOf(ns, len);\n\t\t\tSystem.arraycopy(ms, 0, num, ns.length, ms.length);\n\t\t\tArrays.sort(num, new Comparator<int[]>() {\n\t\t\t\t@Override\n\t\t\t\tpublic int compare(int[] a, int[] b) {\n\t\t\t\t\tif (a[0] == b[0]) {\n\t\t\t\t\t\treturn a[1] - b[1];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[0] - b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tint[] now = new int[2];\n\t\t\tnow[0] = num[0][0];\n\t\t\tnow[1] = num[0][1];\n\t\t\tint count = 1;\n\t\t\tfor (int i = 1; i < len; i++) {\n\t\t\t\tif (now[0] < num[i][0] && now[1] < num[i][1]) {\n\t\t\t\t\tcount++;\n\t\t\t\t\tnow[0] = num[i][0];\n\t\t\t\t\tnow[1] = num[i][1];\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.lang.*;\nimport java.math.*;\nimport java.io.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main{\n\n\tScanner sc=new Scanner(System.in);\n\n\tint INF=1<<28;\n\tdouble EPS=1e-9;\n\n\tint n, m;\n\tLinkedList<Integer>[] es;\n\tLinkedList<R> rs;\n\tint[] memo;\n\n\tvoid run(){\n\t\tfor(;;){\n\t\t\tn=sc.nextInt();\n\t\t\tif(n==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trs=new LinkedList<R>();\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tint h=sc.nextInt();\n\t\t\t\tint r=sc.nextInt();\n\t\t\t\trs.add(new R(h, r));\n\t\t\t}\n\t\t\tm=sc.nextInt();\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tint h=sc.nextInt();\n\t\t\t\tint r=sc.nextInt();\n\t\t\t\trs.add(new R(h, r));\n\t\t\t}\n\t\t\tsolve();\n\t\t}\n\t}\n\n\t@SuppressWarnings(\"unchecked\")\n\tvoid solve(){\n\t\tn+=m;\n\t\tes=new LinkedList[n];\n\t\tmemo=new int[n];\n\t\tArrays.fill(memo, -1);\n\t\tfor(int j=0; j<n; j++){\n\t\t\tes[j]=new LinkedList<Integer>();\n\t\t\tR rj=rs.get(j);\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tR ri=rs.get(i);\n\t\t\t\tif(ri.h<rj.h&&ri.r<rj.r){\n\t\t\t\t\tes[j].add(i);\n\t\t\t\t\t// debug(j, i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=0;\n\t\tfor(int i=0; i<n; i++){\n\t\t\tans=Math.max(ans, dfs(i));\n\t\t\t// debug(i, dfs(i));\n\t\t}\n\t\tprintln(\"\"+ans);\n\t}\n\n\tint dfs(int v){\n\t\tint ret=0;\n\t\tfor(int u : es[v]){\n\t\t\tint d;\n\t\t\tif(memo[u]!=-1){\n\t\t\t\td=memo[u];\n\t\t\t}else{\n\t\t\t\td=memo[u]=dfs(u);\n\t\t\t}\n\t\t\tret=Math.max(ret, d);\n\t\t}\n\t\treturn ret+1;\n\t}\n\n\tclass R{\n\t\tint h, r;\n\n\t\tR(int h, int r){\n\t\t\tthis.h=h;\n\t\t\tthis.r=r;\n\t\t}\n\t}\n\n\tvoid debug(Object... os){\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tvoid print(String s){\n\t\tSystem.out.print(s);\n\t}\n\n\tvoid println(String s){\n\t\tSystem.out.println(s);\n\t}\n\n\tpublic static void main(String[] args){\n\t\t// System.setOut(new PrintStream(new BufferedOutputStream(System.out)));\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\t\n\tint s;\n\tMat[] mats;\n\tint[] mem;\n\t\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\n\t\t\tMat[] matA = new Mat[n];\n\t\t\tfor(int i=0;i<n;i++) matA[i] = new Mat(sc.nextInt(), sc.nextInt());\n\t\t\t\n\t\t\tint m = sc.nextInt();\n\t\t\tMat[] matB = new Mat[m];\n\t\t\tfor(int i=0;i<m;i++) matB[i] = new Mat(sc.nextInt(), sc.nextInt());\n\t\t\t\n\t\t\ts = n+m;\n\t\t\tmats = new Mat[s];\n\t\t\tfor(int i=0;i<n;i++) mats[i] = new Mat(matA[i].x, matA[i].y);\n\t\t\tfor(int j=0;j<m;j++) mats[n+j] = new Mat(matB[j].x, matB[j].y);\n\t\t\tsort(mats);\n\t\t\t\n\t\t\tmem = new int[s];\n\t\t\tfill(mem, -1);\n\t\t\t\n\t\t\tdfs(0);\n\t\t\t\n\t\t\tint max = 0;\n\t\t\tfor(int i=0;i<s;i++) max = max(max, mem[i]);\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n\t\n\tint dfs(int i) {\n\t\tif( mem[i] > 0 ) return mem[i];\n\t\t\n\t\tint max = 1;\n\t\tfor(int j=i+1;j<s;j++) if( mats[j].x > mats[i].x && mats[j].y > mats[i].y ) {\n\t\t\tmax = max(max, dfs(j) + 1);\n\t\t}\n\t\t\n\t\treturn mem[i] = max;\n\t}\n\t\n\tclass Mat implements Comparable<Mat> {\n\t\tint x, y;\n\t\tMat(int x, int y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n\t\t@Override\n\t\tpublic int compareTo(Mat o) {\n\t\t\t// TODO 自動生成されたメソッド・スタブ\n\t\t\treturn x - o.x;\n\t\t}\n\t\t\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.Math.*;\nimport static java.lang.System.out;\n\n// AOJ4\npublic class Main {\n\tfinal Scanner sc=new Scanner(System.in);\n\tfinal int[] vx={0,1,0,-1}, vy={-1,0,1,0};\n\tstatic class Point{\n\t\tint x, y;\n\t\tPoint(int x, int y){\tthis.x=x;\tthis.y=y;}\n\t\tPoint(){\tthis.x=0; this.y=0;}\n\t\t@Override public String toString(){\treturn \"(\"+this.x+\",\"+this.y+\")\";}\n\t\tstatic boolean ok(int x,int y,int X,int Y,int min){\treturn (min<=x&&x<X)&&(min<=y&&y<Y);}\n\t\tstatic boolean ok(int x,int y,int X,int Y){\treturn ok(x,y,X,Y,0);}\n\t}\n\tpublic static void main(String[] args) {\n\t\tnew Main().AOJ0157();\n\t}\n\t\n\t// TLE\n\t// steps 320 - 352 - 480\n\tvoid AOJ0157(){\n\t\twhile(sc.hasNext()){\n\t\t\tint N=sc.nextInt();\n\t\t\tif(N==0)\tbreak;\n\t\t\tArrayList<C0157> m=new ArrayList<C0157>();\n\t\t\tfor(int i=0; i<N; i++)\tm.add(new C0157(sc.nextInt(),sc.nextInt()));\n\t\t\tint M=sc.nextInt();\n\t\t\tfor(int i=0; i<M; i++)\tm.add(new C0157(sc.nextInt(),sc.nextInt()));\n\t\t\tCollections.sort(m);\n\t\t\tint ans=solve0157(m,m.get(m.size()-1),1);\tC0157 last=m.get(m.size()-1);\n\t\t\tfor(int i=N+M-2; i>=0; i--){\n\t\t\t\tC0157 now=m.get(i);\n\t\t\t\tif(now.h<=last.h && now.r<=last.r)\tbreak;\n\t\t\t\tm.remove(i);\n\t\t\t\tans=max(ans,solve0157(m,now,1));\n\t\t\t\tm.add(i,now);\n\t\t\t}\n\t\t\tout.println(ans);\n\t\t\t//out.println(cc+\"steps\");\n\t\t}\n\t}\n\tint cc=0;\n\tint solve0157(ArrayList<C0157> M,C0157 now,int c){\n\t\tcc++;\n\t\tint ans=c;\n\t\tArrayList<C0157> m=new ArrayList<C0157>(M);\n\t\tC0157 last=null;\n\t\tfor(int i=m.size()-1; i>=0; i--){\n\t\t\tC0157 temp=m.get(i);\n\t\t\tm.remove(i);\n\t\t\tif(now.r>temp.r && now.h>temp.h){\n\t\t\t\tif(last!=null){\n\t\t\t\t\tif(last.r>temp.r && last.h>temp.h)\tcontinue;\n\t\t\t\t}\n\t\t\t\tans=max(ans,solve0157(m,temp,c+1));\n\t\t\t\tm.add(i, temp);\n\t\t\t\tlast=temp;\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n\tclass C0157 implements Comparable<C0157>{\n\t\tint r,h;\n\t\tC0157(int h,int r){\tthis.r=r;\tthis.h=h;}\n\t\t@Override public int compareTo(C0157 o){\n\t\t\tif(this.r<o.r)\treturn -1;\n\t\t\tif(this.r>o.r)\treturn 1;\n\t\t\tif(this.h<o.h)\treturn -1;\n\t\t\tif(this.h>o.h)\treturn 1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\t// 途中\n\tvoid AOJ0170(){\n\t\twhile(sc.hasNext()){\n\t\t\tint N=sc.nextInt();\n\t\t\tif(N==0)\tbreak;\n\t\t\tC0170[] f=new C0170[N];\n\t\t\tfor(int i=0; i<N; i++)\tf[i]=new C0170(sc.next(),sc.nextInt(),sc.nextInt());\n\t\t\tArrays.sort(f);\n\t\t\tint[] ss=new int[N];\n\t\t\t\n\t\t\tfor(int i=0; i<N; i++)\tss[i]=f[i].w+(i>0?ss[i-1]:0);\n\t\t\tfor(int i=0; i<N; i++){\n\t\t\t\tif(f[i].s<ss[i]);\n\t\t\t}\n\t\t}\n\t}\n\tclass C0170 implements Comparable<C0170>{\n\t\tString name;\tint w,s;\n\t\tC0170(String n,int w,int s){\tthis.name=n;\tthis.w=w;\tthis.s=s;}\n\t\t@Override public int compareTo(C0170 o){\n\t\t\tif(this.w<o.w)\treturn -1;\n\t\t\tif(this.w>o.w)\treturn 1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\tvoid AOJ0169(){\n\t\twhile(sc.hasNext()){\n\t\t\tString[] s=sc.nextLine().split(\" \");\n\t\t\tif(s[0].equals(\"0\"))\tbreak;\n\t\t\tint ans=0,c=0;\n\t\t\tfor(String i:s){\n\t\t\t\tc+=(i.equals(\"1\")?1:0);\n\t\t\t\tans+=solve0169(i);\n\t\t\t}\n\t\t\twhile(--c>=0){\n\t\t\t\tif(ans+10>21)\tbreak;\n\t\t\t\tans+=10;\n\t\t\t}\n\t\t\tout.println((ans<=21?ans:0));\n\t\t}\n\t}\n\tint solve0169(String s){\n\t\tint r=Integer.parseInt(s);\n\t\tif(r>=10)\treturn 10;\n\t\treturn r;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tlong start = System.currentTimeMillis();\n\tlong fin = System.currentTimeMillis();\n\tfinal int MOD = 1000000007;\n\tint[] dx = { 1, 0, 0, -1 };\n\tint[] dy = { 0, 1, -1, 0 };\n\n\tint[][] memo;\n\tArrayList<Integer> lh, lr;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0) return;\n\t\t\tlh = new ArrayList<Integer>();\n\t\t\tlr = new ArrayList<Integer>();\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlh.add(sc.nextInt());\n\t\t\t\tlr.add(sc.nextInt());\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tlh.add(sc.nextInt());\n\t\t\t\tlr.add(sc.nextInt());\n\t\t\t}\n\t\t\tmemo = new int[1001][1001];\n\t\t\tfor (int i = 0; i <= 1000; i++) Arrays.fill(memo[i], -1);\n\t\t\tSystem.out.println(solve(1000, 1000));\n\t\t}\n\t}\n\n\tint solve(int h, int w) {\n\t\tif (memo[h][w] != -1) return memo[h][w];\n\n\t\tint res = 0;\n\t\tfor (int i = 0; i < lh.size(); i++) {\n\t\t\tif (lh.get(i) < h && lr.get(i) < w) res = Math.max(res, solve(lh.get(i), lr.get(i)) + 1);\n\t\t}\n\t\treturn memo[h][w] = res;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(char[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tboolean inner(int h, int w, int limH, int limW) {\n\t\treturn 0 <= h && h < limH && 0 <= w && w < limW;\n\t}\n\n\tvoid swap(int[] x, int a, int b) {\n\t\tint tmp = x[a];\n\t\tx[a] = x[b];\n\t\tx[b] = tmp;\n\t}\n\n\t// find minimum i (a[i] >= border)\n\tint lower_bound(int a[], int border) {\n\t\tint l = -1;\n\t\tint r = a.length;\n\t\twhile (r - l > 1) {\n\t\t\tint mid = (l + r) / 2;\n\t\t\tif (border <= a[mid]) {\n\t\t\t\tr = mid;\n\t\t\t} else {\n\t\t\t\tl = mid;\n\t\t\t}\n\t\t}\n\t\t// r = l + 1\n\t\treturn r;\n\t}\n\n\tboolean palindrome(String s) {\n\t\tfor (int i = 0; i < s.length() / 2; i++) {\n\t\t\tif (s.charAt(i) != s.charAt(s.length() - 1 - i)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] in = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tin[i] = nextInt();\n\t\t\t}\n\t\t\treturn in;\n\t\t}\n\n\t\tint[][] nextInt2dArray(int n, int m) {\n\t\t\tint[][] in = new int[n][m];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tin[i] = nextIntArray(m);\n\t\t\t}\n\t\t\treturn in;\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] in = new double[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tin[i] = nextDouble();\n\t\t\t}\n\t\t\treturn in;\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] in = new long[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tin[i] = nextLong();\n\t\t\t}\n\t\t\treturn in;\n\t\t}\n\n\t\tchar[][] nextCharField(int n, int m) {\n\t\t\tchar[][] in = new char[n][m];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tString s = sc.next();\n\t\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\t\tin[i][j] = s.charAt(j);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn in;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.awt.geom.Point2D;\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Deque;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport java.util.TreeMap;\n\n\n\npublic class Main {\n\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int INF = 2 << 26;\n\tstatic char[][] map;\n\tstatic ArrayList<Data> list = new ArrayList<Data>();\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tlist.clear();\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\t\n\t\t\tCollections.sort(list,new Comp());\n\t\t\tint rmax = 0;\n\t\t\tint hmax = 0;\n\t\t\t\n\t\t\tint dp[] = new int[n+m];\n\t\t\t\n\t\t\tdp[0] = 1;\n\t\t\tfor(int i = 1; i < n + m; i++) {\n\t\t\t\tdp[i] = 1;\n\t\t\t\tfor(int j = 0; j < i; j++) {\n\t\t\t\t\tif(list.get(j).h < list.get(i).h && list.get(j).r < list.get(i).r) {\n\t\t\t\t\t\tdp[i] = Math.max(dp[i], dp[j]+1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\trmax = dp[n + m - 1];\n\t\t\t\n\t\t\tCollections.sort(list, new Comp2());\n\t\t\t\n\t\t\tdp = new int[n+m];\n\t\t\t\n\t\t\tdp[0] = 1;\n\t\t\tfor(int i = 1; i < n + m; i++) {\n\t\t\t\tdp[i] = 1;\n\t\t\t\tfor(int j = 0; j < i; j++) {\n\t\t\t\t\tif(list.get(j).h < list.get(i).h && list.get(j).r < list.get(i).r) {\n\t\t\t\t\t\tdp[i] = Math.max(dp[i], dp[j]+1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\thmax = dp[n + m -1];\n\t\t\t\n\t\t\tout.println(Math.max(rmax, hmax));\n\t\t}\n\t\tout.flush();\n\t}\n\t\n\tstatic class Comp implements Comparator<Data>{\n\n\t\t@Override\n\t\tpublic int compare(Data o1, Data o2) {\n\t\t\treturn o1.r - o2.r;\n\t\t}\n\t\t\n\t\t\n\t}\n\tstatic class Comp2 implements Comparator<Data> {\n\n\t\t@Override\n\t\tpublic int compare(Data o1, Data o2) {\n\t\t\treturn o1.h - o2.h;\n\t\t}\n\t\t\n\t}\n\t\n\tstatic class Data{\n\t\tint h;\n\t\tint r;\n\t\tData(int a, int b) {\n\t\t\th = a;\n\t\t\tr = b;\n\t\t}\n\t}\n\n}\n\n//------------------------------//\n//-----------//\nclass FastScanner {\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n    private boolean hasNextByte() {\n        if (ptr < buflen) {\n            return true;\n        }else{\n            ptr = 0;\n            try {\n                buflen = in.read(buffer);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (buflen <= 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n    private static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n    private void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n    public boolean hasNext() { skipUnprintable(); return hasNextByte();}\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while(isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        long n = 0;\n        boolean minus = false;\n        int b = readByte();\n        if (b == '-') {\n            minus = true;\n            b = readByte();\n        }\n        if (b < '0' || '9' < b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0' <= b && b <= '9') {\n                n *= 10;\n                n += b - '0';\n            }else if(b == -1 || !isPrintableChar(b)){\n                return minus ? -n : n;\n            }else{\n                throw new NumberFormatException();\n            }\n            b = readByte();\n        }\n    }\n    \n    public int nextInt() {\n    \t if (!hasNext()) throw new NoSuchElementException();\n         int n = 0;\n         boolean minus = false;\n         int b = readByte();\n         if (b == '-') {\n             minus = true;\n             b = readByte();\n         }\n         if (b < '0' || '9' < b) {\n             throw new NumberFormatException();\n         }\n         while(true){\n             if ('0' <= b && b <= '9') {\n                 n *= 10;\n                 n += b - '0';\n             }else if(b == -1 || !isPrintableChar(b)){\n                 return minus ? -n : n;\n             }else{\n                 throw new NumberFormatException();\n             }\n             b = readByte();\n         }\n    }\n    \n    public double nextDouble() {\n    \treturn Double.parseDouble(next());\n    }\n    \n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static int depth(int cur, int[] visited, boolean visiting[], boolean[][] adj){\n\t\tif(visited[cur] != -1){\n\t\t\treturn visited[cur];\n\t\t}\n\t\t\n\t\tif(visiting[cur]){\n\t\t\treturn Integer.MIN_VALUE;\n\t\t}\n\t\tvisiting[cur] = true;\n\t\t\n\t\tint deep = 0;\n\t\tfor(int i = 0; i < adj[cur].length; i++){\n\t\t\tif(!adj[cur][i]){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tdeep = Math.max(deep, depth(i, visited, visiting, adj));\n\t\t}\n\t\t\n\t\tvisiting[cur] = false;\n\t\t\n\t\t//System.out.println(cur + \" => \" + (deep + 1));\n\t\t\n\t\treturn visited[cur] = deep + 1;\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tfinal int n = sc.nextInt();\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tint[] h_1 = new int[n];\n\t\t\tint[] r_1 = new int[n];\n\t\t\t\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\th_1[i] = sc.nextInt();\n\t\t\t\tr_1[i] = sc.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tfinal int m = sc.nextInt();\n\t\t\t\n\t\t\tint[] h_2 = new int[m];\n\t\t\tint[] r_2 = new int[m];\n\n\t\t\tfor(int i = 0; i < m; i++){\n\t\t\t\th_2[i] = sc.nextInt();\n\t\t\t\tr_2[i] = sc.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tfinal int size = n + m;\n\t\t\t\n\t\t\tint[] h_c = new int[size];\n\t\t\tint[] r_c = new int[size];\n\t\t\t\n\t\t\tboolean[][] adj = new boolean[size][size];\n\t\t\t\n\t\t\tfor(int i = 0; i < size; i++){\n\t\t\t\th_c[i] = i < n ? h_1[i] : h_2[i - n];\n\t\t\t\tr_c[i] = i < n ? r_1[i] : r_2[i - n];\n\t\t\t}\n\t\t\t\n\t\t\t//outer\n\t\t\tfor(int i = 0; i < size; i++){\n\t\t\t\t//inner\n\t\t\t\tfor(int j = 0; j < size; j++){\n\t\t\t\t\tif(h_c[i] > h_c[j] && r_c[i] > r_c[j]){\n\t\t\t\t\t\tadj[i][j] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint[] visited = new int[size];\n\t\t\tArrays.fill(visited, -1);\n\t\t\tint max = Integer.MIN_VALUE;\n\t\t\tboolean[] visiting = new boolean[size];\n\t\t\tfor(int i = 0; i < size; i++){\n\t\t\t\tif(visited[i] >= 0){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmax = Math.max(max, depth(i, visited, visiting, adj));\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(max);\n\t\t}\n\t\t\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.lang.*;\nimport java.math.*;\nimport java.io.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main{\n\n\tScanner sc=new Scanner(System.in);\n\n\tint INF=1<<28;\n\tdouble EPS=1e-9;\n\n\tint n, m;\n\tLinkedList<Integer>[] es;\n\tLinkedList<R> rs;\n\n\tvoid run(){\n\t\tfor(;;){\n\t\t\tn=sc.nextInt();\n\t\t\tif(n==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\trs=new LinkedList<R>();\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tint h=sc.nextInt();\n\t\t\t\tint r=sc.nextInt();\n\t\t\t\trs.add(new R(h, r));\n\t\t\t}\n\t\t\tm=sc.nextInt();\n\t\t\tfor(int i=0; i<m; i++){\n\t\t\t\tint h=sc.nextInt();\n\t\t\t\tint r=sc.nextInt();\n\t\t\t\trs.add(new R(h, r));\n\t\t\t}\n\t\t\tsolve();\n\t\t}\n\t}\n\n\t@SuppressWarnings(\"unchecked\")\n\tvoid solve(){\n\t\tn+=m;\n\t\tes=new LinkedList[n];\n\t\tfor(int j=0; j<n; j++){\n\t\t\tes[j]=new LinkedList<Integer>();\n\t\t\tR rj=rs.get(j);\n\t\t\tfor(int i=0; i<n; i++){\n\t\t\t\tR ri=rs.get(i);\n\t\t\t\tif(ri.h<rj.h&&ri.r<rj.r){\n\t\t\t\t\tes[j].add(i);\n\t\t\t\t\t// debug(j, i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=0;\n\t\tfor(int i=0; i<n; i++){\n\t\t\tans=Math.max(ans, dfs(i));\n\t\t\t// debug(i, dfs(i));\n\t\t}\n\t\tprintln(\"\"+ans);\n\t}\n\n\tint dfs(int v){\n\t\tint ret=0;\n\t\tfor(int u : es[v]){\n\t\t\tret=Math.max(ret, dfs(u));\n\t\t}\n\t\treturn ret+1;\n\t}\n\n\tclass R{\n\t\tint h, r;\n\n\t\tR(int h, int r){\n\t\t\tthis.h=h;\n\t\t\tthis.r=r;\n\t\t}\n\t}\n\n\tvoid debug(Object... os){\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tvoid print(String s){\n\t\tSystem.out.print(s);\n\t}\n\n\tvoid println(String s){\n\t\tSystem.out.println(s);\n\t}\n\n\tpublic static void main(String[] args){\n\t\t// System.setOut(new PrintStream(new BufferedOutputStream(System.out)));\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Scanner;\n\n//Russian Dolls\npublic class Main{\n\n\tstatic class T implements Comparable<T>{\n\t\tint h,r;\n\t\tpublic T(int h, int r) {\n\t\t\tthis.h = h;\n\t\t\tthis.r = r;\n\t\t}\n\t\tpublic int compareTo(T o) {\n\t\t\treturn h==o.h?r-o.r:h-o.h;\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tList<T> l = new ArrayList<T>();\n\t\t\tfor(int i=0;i<n;i++)l.add(new T(sc.nextInt(), sc.nextInt()));\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i=0;i<m;i++)l.add(new T(sc.nextInt(), sc.nextInt()));\n\t\t\tCollections.sort(l);\n\t\t\tint[] dp = new int[n+m];\n\t\t\tArrays.fill(dp, 1);\n\t\t\tint max = 1;\n\t\t\tfor(int i=1;i<n+m;i++){\n\t\t\t\tT a = l.get(i);\n\t\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\t\tT b = l.get(j);\n\t\t\t\t\tif(b.h<a.h&&b.r<a.r)dp[i]=Math.max(dp[i], dp[j]+1);\n\t\t\t\t}\n\t\t\t\tmax = Math.max(max, dp[i]);\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main{\n    public static void main(String[] args){\n\n\t// テ、ツクツ?ゥツδ偲・ツ青崚」ツ?ョテ」ツδ榲」ツδ暗」ツδェテ」ツδァテ」ツつキテ」ツつォテ」ツ?ョテゥツォツ佚」ツ?陛ァツ板ィテ」ツ?ィテ・ツ債甘・ツセツ?ァツ板ィテッツシツ淌」ツ?ィテ」ツ??ヲツャツ。テゥツδ偲・ツ青崚」ツ?ョテ」ツ?ィテ」ツ?ァテ」ツ??ィツィツ暗・ツ崢崚」ツ?、テゥツ?催・ツ按療」ツ?古・ツソツ?ィツヲツ?」ツ?ォテ」ツ?ェテ」ツつ凝」ツ?ョテ」ツ?凝」ツ?ェテ「ツ?ヲ\n\tScanner sc = new Scanner(System.in);\n\tint ichiroNum = 0, jiroNum = 0; //テ、ツコツコテ・ツスツ「テ」ツ?ョテヲツ閉ーテ・ツ?・テ」ツつ古」ツつ凝」ツ?淌」ツつ?」ツ?ョテ・ツ、ツ嘉ヲツ閉ー\n\n\twhile(sc.hasNext()){\n\n\t    ichiroNum = sc.nextInt(); // テ、ツクツ?ゥツδ偲・ツ青崚」ツ?ョテ、ツコツコテ・ツスツ「テ」ツ?ョテヲツ閉ーテ・ツ?・テ・ツ環崚」ツ?づ」ツ?禿」ツつ古」ツ??テ」ツ??」ツ?」テ」ツ?淌」ツつ嘉ァツオツづ、ツコツ?\n\t    if(ichiroNum==0) break;\n\n\t    // **** テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉、ツクツ?ゥツδ偲」ツ?湘」ツつ禿」ツ?ョテ」ツδ?」ツδシテ」ツつソテ、ツスツ愿ヲツ按?****\n\t    \n\t    int[] ichiroHeight = new int[ichiroNum];\n\t    int[] ichiroWeight = new int[ichiroNum];\n\n\t    for(int i = 0;i<ichiroNum;i++){\n\t\tichiroHeight[i] = sc.nextInt();\n\t\tichiroWeight[i] = sc.nextInt();\n\t    }\n\t    // **********************************\n\n\t    jiroNum = sc.nextInt();\n\n\t    // ***** テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉ヲツャツ。テゥツδ偲・ツ青?***************\n\t    int[] jiroHeight = new int[jiroNum];\n\t    int[] jiroWeight = new int[jiroNum];\n\n\t    for(int i = 0;i<jiroNum;i++){\n\t\tjiroHeight[i] = sc.nextInt();\n\t\tjiroWeight[i] = sc.nextInt();\n\t    }\n\t    // **********************************\n\t    // ***** テ」ツ?禿」ツ?禿」ツ?凝」ツつ嘉・ツ按、テ・ツョツ?*****\n\n\t    // テ」ツ?ゥテ」ツ??」ツ?療」ツつ暗」ツ??」ツ?凝」ツ?ェテ」ツ??ゥツォツ佚」ツ?陛ゥツ??」ツ?ォテ、ツクツヲテ」ツ?ケテヲツ崢ソテ」ツ?暗」ツ?ヲテ」ツ?陛」ツつ嘉」ツ?ォテ・ツ債甘・ツセツ?ゥツ??」ツ?ォテ、ツクツヲテ」ツ?ケテヲツ崢ソテ」ツ?暗」ツ?淌」ツつ甘」ツ?療」ツつ暗」ツ??」ツ?凝」ツ?ェテ「ツ?ヲテッツシツ?\n\t    // テ」ツ?ィテ」ツつ甘」ツ?づ」ツ?暗」ツ?堙、ツコツ古、ツコツコテ」ツ?ョテ」ツつ津」ツ?づ」ツつ湘」ツ?崚」ツ?淌ゥツ?催・ツ按療」ツつ津」ツ?セテ」ツ?淌ヲツ鳴ーテ」ツ?療」ツ?湘、ツスツ愿」ツつ催」ツ??」ツ?凝」ツ?ェテ」ツ?づ」ツ?敕」ツつ古」ツ?ァテゥツォツ佚」ツ?陛ゥツ??」ツ?ォテ、ツクツヲテ」ツ?ケテ」ツ?ヲテ」ツ?ソテ」ツつ暗」ツ??\n\t    // テゥツォツ佚」ツ?陛」ツ?ィテ・ツケツ?」ツ?ョテ・ツ、ツァテ・ツーツ湘ゥツ鳴「テ、ツソツづ」ツ?古ゥツ??」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?。テ」ツつε」ツ??」ツつ?」ツ?、テ」ツつづ」ツ?ィテ」ツつ甘」ツ?づ」ツ?暗」ツ?堙ゥツ?催・ツ按療」ツ?ォテ・ツ青ォテ」ツつ?」ツ?ヲテ」ツ??ヲツ閉ーテ」ツつ津ヲツ閉ーテ」ツ?暗」ツつ凝」ツ?ィテ」ツ?催」ツ?ォテ・ツ按、テ・ツョツ堙」ツ?凖」ツつ?\n\n\t    int[] count = new int[ichiroNum+jiroNum];\n\n\t    int[][] dolls = new int[ichiroNum+jiroNum][2];\n\t    \n\t    // テ、ツクツ?ゥツδ偲」ツ?湘」ツつ禿」ツ?ョテ」ツ?ィテヲツャツ。テゥツδ偲・ツ青崚」ツ?ョテ」ツつ津・ツ青暗」ツつ湘」ツ?崚」ツつ?\n\t    for(int i = 0;i<ichiroNum;i++){\n\t    \tdolls[i][0] = ichiroHeight[i];\n\t    \tdolls[i][1] = ichiroWeight[i];\n\t    }\n\t    for(int i = ichiroNum;i<ichiroNum+jiroNum;i++){\n\t    \tdolls[i][0] = jiroHeight[i-ichiroNum];\n\t    \tdolls[i][1] = jiroWeight[i-ichiroNum];\n\t    }\n\t    \n\t    Arrays.sort(dolls, new Comparator<int[]>() {\n\t     public int compare(int[] o1, int[] o2) {\n\t      if(o1[0] != o2[0]) return o1[0] - o2[0];\n\t      return o1[1] - o2[1];\n\t     }\n\t    });\n\t    \n\t    // テ」ツ?禿」ツつ古」ツ?ァテゥツ?催・ツ按療」ツ?ァテ」ツ?催」ツ?淌」ツ?ョテ」ツ?凝」ツ?ェテ」ツδサテ」ツδサテ」ツδサテ」ツつケテ」ツつエテ」ツつ、テッツシツ?\n\n\t    // テ」ツ?陛」ツ?ヲテ」ツ?陛」ツ?ヲテ・ツ按、テ・ツョツ堙・ツ按、テ・ツョツ堙」ツ?づ」ツ?ァテ」ツ?催」ツつ凝」ツ?凝」ツ?ェ\n\t    // テ」ツ??」ツ?凝」ツつ嘉ィツヲツ?」ツ?凖」ツつ凝」ツ?ォテ」ツ??」ツ?セテ」ツ?堙、ツクツ?ァツ閉ェテ」ツ?。テ」ツ??」ツ?陛」ツ??・ツュツ静」ツ?凝」ツつ嘉ィツ?ε」ツ?暗」ツ?ヲテ」ツ??ィツ?ェテ・ツ按?」ツ?古」ツ?ゥテ」ツ?ョテ」ツ?湘」ツつ嘉」ツ??」ツ?ョテ・ツュツ静」ツつ津・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝」ツ?凝」ツつ津ィツ?ε」ツ?暗」ツつ?\n\t    // テ」ツ?ゥテ」ツつ禿」ツ?ゥテ」ツつ禿・ツ、ツァテ」ツ?催」ツ??・ツュツ静」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?ヲテ」ツ??」ツ?」テ」ツ?ヲテ」ツ??ィツ?ェテ・ツ按?」ツ?古・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝・ツュツ静」ツ?ョテ、ツクツュテ」ツ?ァテ、ツクツ?ァツ閉ェテ・ツ、ツァテ」ツ?催」ツ??・ツュツ静」ツ?古・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝ヲツ閉ーテ」ツ?ッティツ?ェテ・ツ按?」ツつづ・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝ヲツ閉ーテ」ツ??」ツ?凝」ツつ嘉」ツ??」ツ?敕」ツつ古」ツ?ォ+1テ」ツ?凖」ツつ古」ツ?ーテ」ツ??」ツ??」ツ?ィテ」ツ??」ツ??」ツ?禿」ツ?ィテ」ツ??」ツつ暗」ツ?ュ\n\t    \n\t    for(int i = 0;i<count.length;i++){\n\t    \tfor(int j = 0;j<i;j++){\n\t    \t\tif(dolls[j][0] < dolls[i][0] && dolls[j][1] < dolls[i][1])\n\t    \t\t\t if(count[i] < count[j] + 1) count[i] = count[j] + 1;\n\t    \t}\n\t    }\n\n\t    Arrays.sort(count);\n\t    \n\t    int countMax = count[count.length-1];\n\t    // countMaxテ」ツ?ッテ」ツ??」ツ?敕」ツ?ョテ」ツ?禿」ツ?古、ツスツ陛・ツ?凝ィツ?ェテ・ツ按?」ツ?ョテ、ツクツュテ」ツ?ォテ・ツ?・テ」ツつ古」ツつ嘉」ツつ古」ツつ凝」ツ?凝」ツ?ョテヲツ閉ーテ」ツ??」ツ?凝」ツつ?\n\t    // ティツヲツ姪ァツつケテ」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?ヲテ」ツつ凝・ツュツ静」ツ?ョテ・ツ按?」ツつづヲツ閉ーテ」ツ?ォテ・ツ?・テ」ツつ古」ツつ凝」ツ?禿」ツ?ィテ」ツ?ォテ」ツ?ェテ」ツ?」テ」ツ?ヲテ」ツ??・ツ?コテ・ツ環崚」ツ?ッ+1テ」ツ?療」ツ?ェテ」ツ?催」ツつεッツシツ?」ツ?づ」ツ?凝」ツつ禿ッツシツ?\n\t    // テ」ツ?禿」ツつ禿」ツ?ェテ」ツ?禿」ツ?ィテ」ツ?ォテ」ツつづヲツーツ療」ツ?・テ」ツ?凝」ツつ禿」ツ?ィテ」ツ?ッテ」ツ??」ツ?づ」ツ?サテ」ツつ?」ツつ催」ツ??ッツシツ?\n\t    System.out.println(countMax+1);\n\n\t    // テ・ツ按敕ヲツ慊淌・ツ個?\n\t    for(int i = 0;i<count.length;i++){\n\t    \tcount[i] = 0;\n\t    }\n\t    ichiroNum = 0;\n\t    jiroNum = 0;\n\t    \n\t}\n\t\n    }\n\n}"
  },
  {
    "language": "Java",
    "code": "import static java.util.Arrays.*;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.StringTokenizer;\n\npublic class Main {\n\n\tstatic void tr(Object... os) {\n\t\tSystem.err.println(deepToString(os));\n\t}\n\n\tint[][] h = new int[2][];\n\tint[][] r = new int[2][];\n\tint[][] hr;\n\n\tvoid solve() {\n\t\tint n = sc.nextInt();\n\t\tif (n == 0) return;\n\t\th[0] = new int[n];\n\t\tr[0] = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\th[0][i] = sc.nextInt();\n\t\t\tr[0][i] = sc.nextInt();\n\t\t}\n\t\tint m = sc.nextInt();\n\t\th[1] = new int[m];\n\t\tr[1] = new int[m];\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\th[1][i] = sc.nextInt();\n\t\t\tr[1][i] = sc.nextInt();\n\t\t}\n\n\t\thr = new int[n + m][2];\n\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\thr[i][0] = i < n ? h[0][i] : h[1][i-n];\n\t\t\thr[i][1] = i < n ? r[0][i] : r[1][i-n];\n\t\t}\n\n\t\tArrays.sort(hr, new Comparator<int[]>(){\n\t\t\tpublic int compare(int[] a, int[] b){\n\t\t\t\tif (a[0] != b[0]) return a[0] - b[0];\n\t\t\t\treturn a[1] - b[1];\n\t\t\t}\n\t\t});\n\n\t\tint[] dp = new int[hr.length];\n\n\t\tdp[0] = 1;\n\t\tfor (int i = 1; i < hr.length; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tif (hr[j][0] < hr[i][0] && hr[j][1] < hr[i][1])\n\t\t\t\t\tdp[i] = Math.max(dp[i], 1 + dp[j]);\n\t\t\t}\n\t\t}\n\t\tint res = 0;\n\t\tfor (int i = 0; i < hr.length; i++) {\n\t\t\tres = Math.max(res, dp[i]);\n\t\t}\n\t\tout.println(res);\n\t}\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tnew Main().run();\n\t}\n\n\tMyScanner sc = null;\n\tPrintWriter out = null;\n\tpublic void run() throws Exception {\n\t\tsc = new MyScanner(System.in);\n\t\tout = new PrintWriter(System.out);\n\t\tfor (;sc.hasNext();) {\n\t\t\tsolve();\n\t\t\tout.flush();\n\t\t}\n\t\tout.close();\n\t}\n\n\tclass MyScanner {\n\t\tString line;\n\t\tBufferedReader reader;\n\t\tStringTokenizer tokenizer;\n\n\t\tpublic MyScanner(InputStream stream) {\n\t\t\treader = new BufferedReader(new InputStreamReader(stream));\n\t\t\ttokenizer = null;\n\t\t}\n\t\tpublic void eat() {\n\t\t\twhile (tokenizer == null || !tokenizer.hasMoreTokens()) {\n\t\t\t\ttry {\n\t\t\t\t\tline = reader.readLine();\n\t\t\t\t\tif (line == null) {\n\t\t\t\t\t\ttokenizer = null;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttokenizer = new StringTokenizer(line);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new RuntimeException(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tpublic String next() {\n\t\t\teat();\n\t\t\treturn tokenizer.nextToken();\n\t\t}\n\t\tpublic String nextLine() {\n\t\t\ttry {\n\t\t\t\treturn reader.readLine();\n\t\t\t} catch (IOException e) {\n\t\t\t\tthrow new RuntimeException(e);\n\t\t\t}\n\t\t}\n\t\tpublic boolean hasNext() {\n\t\t\teat();\n\t\t\treturn (tokenizer != null && tokenizer.hasMoreElements());\n\t\t}\n\t\tpublic int nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\t\tpublic long nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\t\tpublic double nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\t\tpublic int[] nextIntArray(int n) {\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) a[i] = nextInt();\n\t\t\treturn a;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[][] ns = new int[n][2];\n\t\t\twhile (n-- > 0) {\n\t\t\t\tns[n][0] = scanner.nextInt();\n\t\t\t\tns[n][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint m = scanner.nextInt();\n\t\t\tint[][] ms = new int[m][2];\n\t\t\twhile (m-- > 0) {\n\t\t\t\tms[m][0] = scanner.nextInt();\n\t\t\t\tms[m][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint len = ns.length+ms.length;\n\t\t\tint[][] num = Arrays.copyOf(ns, len);\n\t\t\tSystem.arraycopy(ms, 0, num, ns.length, ms.length);\n\t\t\tArrays.sort(num, new Comparator<int[]>() {\n\t\t\t\t@Override\n\t\t\t\tpublic int compare(int[] a, int[] b) {\n\t\t\t\t\treturn a[0] - b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tint[] now = new int[2];\n\t\t\tnow[0] = num[0][0];\n\t\t\tnow[1] = num[0][1];\n\t\t\tint count = 1;\n\t\t\tfor (int i = 1; i < len; i++) {\n\t\t\t\tif (now[0] < num[i][0] && now[1] < num[i][1]) {\n\t\t\t\t\tcount++;\n\t\t\t\t\tnow[0] = num[i][0];\n\t\t\t\t\tnow[1] = num[i][1];\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n=cin.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tint[][] m = new int[n][2];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tm[i][0]=cin.nextInt();\n\t\t\t\tm[i][1]=cin.nextInt();\n\t\t\t}\n\t\t\tn = n + cin.nextInt();\n\t\t\tint[][] mato=new int[n][3];\n\t\t\tfor(int i=0;i<m.length;i++){\n\t\t\t\tmato[i][0]=m[i][0];\n\t\t\t\tmato[i][1]=m[i][1];\n\t\t\t\tmato[i][2]=1;\n\t\t\t}\n\t\t\tfor(int i=m.length;i<n;i++){\n\t\t\t\tmato[i][0]=cin.nextInt();\n\t\t\t\tmato[i][1]=cin.nextInt();\n\t\t\t\tmato[i][2]=1;\n\t\t\t}\n\t\t\tArrays.sort(mato,new Comparator<int[]>(){\n\t\t\t\tpublic int compare(int[] a,int[] b){\n\t\t\t\t\tif(a[0]==b[0]){\n\t\t\t\t\t\treturn a[1]-b[1];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[0]-b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tfor(int i=0;i<n;i++){\n//\t\t\t\tSystem.out.println(mato[i][0]+\" \"+mato[i][1]);\n\t\t\t}\n\t\t\tint ans=1;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\t\tif(mato[i][0]>mato[j][0]&&mato[i][1]>mato[j][1]){\n\t\t\t\t\t\tmato[i][2]=Math.max(mato[i][2],mato[j][2]+1);\n\t\t\t\t\t\tans=Math.max(ans,mato[i][2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Doll[] d;\n\tstatic int[][] memo;\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint maxh=0,maxr=0;\n\t\t\tDoll[] tmp = new Doll[N];\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\ttmp[i]=new Doll(a,b);\n\t\t\t}\n\n\t\t\tN = N + cin.nextInt();\n\t\t\td = new Doll[N];\n\t\t\tfor(int i = 0;i<tmp.length;i++){\n\t\t\t\td[i]=tmp[i];\n\t\t\t}\n\n\t\t\tfor(int i = tmp.length;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\td[i]=new Doll(a,b);\n\t\t\t}\n\t\t\tArrays.sort(d);\n\t\t\tmemo = new int[maxh+1][maxr+1];\n\t\t\tfor(int i = 0;i<maxh+1;i++){\n\t\t\t\tfor(int j = 0;j<maxr+1;j++){\n\t\t\t\t\tmemo[i][j]=-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\t//System.out.println(d[i].h + \" \" + d[i].r);\n\t\t\t}\n\t\t\tSystem.out.println(search(maxh,maxr));\n\t\t}\n\n\t}\n\tstatic int search(int h,int r){\n\t\t//System.out.println(h+\" \" +r);\n\t\tint hh=0, rr=0, max=0;\n\t\tfor(int i =0;i<d.length;i++){\n\t\t\tif(d[i].h >= h || d[i].r >= r){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\thh=d[i].h;\n\t\t\t\trr=d[i].r;\n\t\t\t\tif(memo[hh][rr]==-1){\n\t\t\t\t\tmemo[hh][rr]=search(hh,rr)+1;\n\t\t\t\t}\n\t\t\t\tmax = Math.max(memo[hh][rr], max);\n\t\t\t}\n\t\t}\n\t\tif(hh==0&&rr==0){\n\t\t\treturn 1;\n\t\t}\n\t\treturn max;\n\t}\n}\n\nclass Doll implements Comparable{\n\tint h;\n\tint r;\n\tDoll(int a,int b){\n\t\th=a;\n\t\tr=b;\n\t}\n\tpublic int compareTo(Object o){\n\t\tDoll d = (Doll)o;\n\t\tif(this.h==d.h){\n\t\t\treturn this.r-d.r;\n\t\t}\n\t\telse{\n\t\t\treturn this.h-d.h;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n    public static void main(String[] args){\n\tnew Main().run();\n    }\n    Scanner sc = new Scanner(System.in);\n\n    int n, m, max;\n    int[][] ichiro, jiro, mat;\n    int[] dp;\n\n    void run(){\n\twhile(true){\n\t    n = sc.nextInt();\n\t    if(n==0) break;\n\t    ichiro = new int[n][2];\n\t    for(int i=0; i<n; i++){\n\t\tichiro[i][0] = sc.nextInt();\n\t\tichiro[i][1] = sc.nextInt();\n\t    }\n\t    m = sc.nextInt();\n\t    jiro = new int[m][2];\n\t    for(int i=0; i<m; i++){\n\t\tjiro[i][0] = sc.nextInt();\n\t\tjiro[i][1] = sc.nextInt();\n\t    }\n\n\t    mat = new int[n+m][2];\n\t    int x=0;\n\t    for(int i=0; i<n; i++){\n\t\tmat[x][0] = ichiro[i][0];\n\t\tmat[x][1] = ichiro[i][1];\n\t\tx++;\n\t    }\n\t    for(int i=0; i<m; i++){\n\t\tmat[x][0] = jiro[i][0];\n\t\tmat[x][1] = jiro[i][1];\n\t\tx++;\n\t    }\n\n\t    Arrays.sort(mat, new Comparator<int[]>(){\n\t\t    public int compare(int[] m1, int[] m2){\n\t\t\tif(m1[0]!=m2[0]) return m1[0]-m2[0];\n\t\t\treturn m1[1]-m2[1];\n\t\t    }\n\t\t}\n\t\t);\n\n\t    dp = new int[n+m];\n\t    Arrays.fill(dp, 1);\n\t    max = 1;\n\n\t    for(int i=0; i<mat.length; i++){\n\t\tfor(int k=i; k>=0; k--){\n\t\t    if(mat[i][0]>mat[k][0] && mat[i][1]>mat[k][1])\n\t\t\tdp[i] = Math.max(dp[i], dp[k]+1);\n\t\t    max = Math.max(max, dp[i]);\n\t\t}\n\t    }\n\n\t    System.out.println(max);\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.Collections;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif(N == 0) break;\n\t\t\tArrayList<Integer> H = new ArrayList<Integer>();\n\t\t\tArrayList<Integer> R = new ArrayList<Integer>();\n\t\t\tH.add(0);\n\t\t\tR.add(0);\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tH.add(h);\n\t\t\t\tR.add(r);\n\t\t\t}\n\t\t\tint M = sc.nextInt();\n\t\t\tfor(int i = 0; i < M; i++) {\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tH.add(h);\n\t\t\t\tR.add(r);\n\t\t\t}\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tH.add(H.get(i));\n\t\t\t\tH.add(H.get(i+1));\n\t\t\t}\n\t\t\tint[] dp = new int[H.size()];\n\t\t\tdp[0] = 0;\n\t\t\tfor(int i = 1; i < H.size(); i++) {\n\t\t\t\tdp[i] = 0;\n\t\t\t\tfor(int j = 0; j < i; j++) {\n\t\t\t\t\tif(H.get(j) < H.get(i) && R.get(j) < R.get(i) && dp[j] + 1 > dp[i]) dp[i] = dp[j] + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint max = 0;\n\t\t\tfor(int i = 0; i < dp.length; i++) {\n\t\t\t\tmax = Math.max(max, dp[i]);\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.awt.geom.Point2D;\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Deque;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport java.util.TreeMap;\n\n\n\npublic class Main {\n\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int INF = 2 << 26;\n\tstatic char[][] map;\n\tstatic ArrayList<Data> list = new ArrayList<Data>();\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tlist.clear();\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\t\n\t\t\tCollections.sort(list,new Comp());\n\t\t\t\n\t\t\tint[] dp = new int[n + m];\n\t\t\tfor(int i = 0; i < n+ m; i++) {\n\t\t\t\tdp[i] = 1;\n\t\t\t}\n\t\t\tfor(int i = 1; i < n + m; i++) {\n\t\t\t\tif(list.get(i).h > list.get(i-1).h && list.get(i).r > list.get(i-1).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-1] + 1);\n\t\t\t\t}\n\t\t\t\tif(i > 1 && list.get(i).h > list.get(i-2).h && list.get(i).r > list.get(i-2).r && list.get(i-1).r == list.get(i-2).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-2] + 1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tArrays.sort(dp);\n\t\t\tout.println(dp[n + m-1]);\n\t\t\t\n\t\t}\n\t\tout.flush();\n\t}\n\t\n\tstatic class Comp implements Comparator<Data>{\n\n\t\t@Override\n\t\tpublic int compare(Data o1, Data o2) {\n\t\t\treturn o1.r - o2.r;\n\t\t}\n\t\t\n\t}\n\t\n\tstatic class Data{\n\t\tint h;\n\t\tint r;\n\t\tData(int a, int b) {\n\t\t\th = a;\n\t\t\tr = b;\n\t\t}\n\t}\n\n}\n\n//------------------------------//\n//-----------//\nclass FastScanner {\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n    private boolean hasNextByte() {\n        if (ptr < buflen) {\n            return true;\n        }else{\n            ptr = 0;\n            try {\n                buflen = in.read(buffer);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (buflen <= 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n    private static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n    private void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n    public boolean hasNext() { skipUnprintable(); return hasNextByte();}\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while(isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        long n = 0;\n        boolean minus = false;\n        int b = readByte();\n        if (b == '-') {\n            minus = true;\n            b = readByte();\n        }\n        if (b < '0' || '9' < b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0' <= b && b <= '9') {\n                n *= 10;\n                n += b - '0';\n            }else if(b == -1 || !isPrintableChar(b)){\n                return minus ? -n : n;\n            }else{\n                throw new NumberFormatException();\n            }\n            b = readByte();\n        }\n    }\n    \n    public int nextInt() {\n    \t if (!hasNext()) throw new NoSuchElementException();\n         int n = 0;\n         boolean minus = false;\n         int b = readByte();\n         if (b == '-') {\n             minus = true;\n             b = readByte();\n         }\n         if (b < '0' || '9' < b) {\n             throw new NumberFormatException();\n         }\n         while(true){\n             if ('0' <= b && b <= '9') {\n                 n *= 10;\n                 n += b - '0';\n             }else if(b == -1 || !isPrintableChar(b)){\n                 return minus ? -n : n;\n             }else{\n                 throw new NumberFormatException();\n             }\n             b = readByte();\n         }\n    }\n    \n    public double nextDouble() {\n    \treturn Double.parseDouble(next());\n    }\n    \n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.util.Map.Entry;\n\n\npublic class Main {\n\tpublic static void main(String args[]){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tint n= sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tMap<Integer,ArrayList<Integer>> map = new TreeMap<Integer,ArrayList<Integer>>();\n\t\t\tint h,r;\n\t\t\t//ArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\th = sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\tArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\t\ttemp.add(r);\n\t\t\t\tmap.put(h, temp);\n\t\t\t}\n\t\t\tint m= sc.nextInt();\n\t\t\tfor(int i=n;i<n+m;i++){\n\t\t\t\th=sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\tif(map.containsKey(h)){\n\t\t\t\t\tArrayList<Integer> a = map.get(h);\n\t\t\t\t\ta.add(r);\n\t\t\t\t\tmap.put(h, a);\n\t\t\t\t}else{\n\t\t\t\t\tArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\t\t\ttemp.add(r);\n\t\t\t\t\tmap.put(h,temp);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] rArray = new int[n+m];\n\t\t\tIterator<Entry<Integer, ArrayList<Integer>>> entries = map.entrySet().iterator();\n\t\t\tint i=0;\n\t\t\twhile(entries.hasNext()) {\n\t\t\t\tMap.Entry entry = entries.next();\n\t\t\t\t//int keyName = (Integer) entry.getKey();\n\t\t\t\tArrayList<Integer> valName = (ArrayList<Integer>)entry.getValue();\n\t\t\t\tfor(int value : valName){\n\t\t\t\t\trArray[i] = value;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] dp = new int[rArray.length+1];\n\t\t\tint max;\n\t\t\tfor(int j=1;j<dp.length;j++){\n\t\t\t\tmax = 0;\n\t\t\t\tfor(int k=1;k<=j;k++){\n\t\t\t\t\tif(rArray[j-1]>rArray[k-1]){\n\t\t\t\t\t\tif(dp[k]>max){\n\t\t\t\t\t\t\tmax = dp[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp[j] = max + 1;\n\t\t\t}\n\t\t\tmax = -1;\n\t\t\tfor(int j=0;j<dp.length;j++){\n\t\t\t\tif(max<dp[j]){\n\t\t\t\t\tmax = dp[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.awt.geom.Point2D;\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Deque;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport java.util.TreeMap;\n\n\n\npublic class Main {\n\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int INF = 2 << 26;\n\tstatic char[][] map;\n\tstatic ArrayList<Data> list = new ArrayList<Data>();\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tlist.clear();\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\t\n\t\t\tCollections.sort(list,new Comp());\n\t\t\t\n\t\t\tint[] dp = new int[n + m];\n\t\t\tdp[0] = 1;\n\t\t\t\n\t\t\tfor(int i = 1; i < n + m; i++) {\n\t\t\t\tif(list.get(i).h > list.get(i-1).h && list.get(i).r > list.get(i-1).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-1] + 1);\n\t\t\t\t}\n\t\t\t\tif(i > 1 && list.get(i).h > list.get(i-2).h && list.get(i).r > list.get(i-2).r && list.get(i-1).r == list.get(i-2).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-2]+1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tArrays.sort(dp);\n\t\t\tout.println(dp[n + m-1]);\n\t\t\t\n\t\t}\n\t\tout.flush();\n\t}\n\t\n\tstatic class Comp implements Comparator<Data>{\n\n\t\t@Override\n\t\tpublic int compare(Data o1, Data o2) {\n\t\t\treturn o1.r - o2.r;\n\t\t}\n\t\t\n\t}\n\t\n\tstatic class Data{\n\t\tint h;\n\t\tint r;\n\t\tData(int a, int b) {\n\t\t\th = a;\n\t\t\tr = b;\n\t\t}\n\t}\n\n}\n\n//------------------------------//\n//-----------//\nclass FastScanner {\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n    private boolean hasNextByte() {\n        if (ptr < buflen) {\n            return true;\n        }else{\n            ptr = 0;\n            try {\n                buflen = in.read(buffer);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (buflen <= 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n    private static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n    private void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n    public boolean hasNext() { skipUnprintable(); return hasNextByte();}\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while(isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        long n = 0;\n        boolean minus = false;\n        int b = readByte();\n        if (b == '-') {\n            minus = true;\n            b = readByte();\n        }\n        if (b < '0' || '9' < b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0' <= b && b <= '9') {\n                n *= 10;\n                n += b - '0';\n            }else if(b == -1 || !isPrintableChar(b)){\n                return minus ? -n : n;\n            }else{\n                throw new NumberFormatException();\n            }\n            b = readByte();\n        }\n    }\n    \n    public int nextInt() {\n    \t if (!hasNext()) throw new NoSuchElementException();\n         int n = 0;\n         boolean minus = false;\n         int b = readByte();\n         if (b == '-') {\n             minus = true;\n             b = readByte();\n         }\n         if (b < '0' || '9' < b) {\n             throw new NumberFormatException();\n         }\n         while(true){\n             if ('0' <= b && b <= '9') {\n                 n *= 10;\n                 n += b - '0';\n             }else if(b == -1 || !isPrintableChar(b)){\n                 return minus ? -n : n;\n             }else{\n                 throw new NumberFormatException();\n             }\n             b = readByte();\n         }\n    }\n    \n    public double nextDouble() {\n    \treturn Double.parseDouble(next());\n    }\n    \n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.awt.geom.Point2D;\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.util.ArrayDeque;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Deque;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.Stack;\nimport java.util.TreeMap;\n\n\n\npublic class Main {\n\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int INF = 2 << 26;\n\tstatic char[][] map;\n\tstatic ArrayList<Data> list = new ArrayList<Data>();\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tlist.clear();\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tlist.add(new Data(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\t\n\t\t\tCollections.sort(list,new Comp());\n\t\t\t\n\t\t\tint[] dp = new int[n + m];\n\t\t\tfor(int i = 0; i < n+ m; i++) {\n\t\t\t\tdp[i] = 1;\n\t\t\t}\n\t\t\tfor(int i = 1; i < n + m; i++) {\n\t\t\t\tif(list.get(i).h > list.get(i-1).h && list.get(i).r > list.get(i-1).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-1] + 1);\n\t\t\t\t}\n\t\t\t\tif(i > 1 && list.get(i).h > list.get(i-2).h && list.get(i).r > list.get(i-2).r && list.get(i-1).r == list.get(i-2).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-2] + 1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tArrays.sort(dp);\n\t\t\tint a = dp[n + m -1];\n\t\t\tCollections.sort(list,new Comp2());\n\t\t\t\n\t\t\tdp = new int[n + m];\n\t\t\tfor(int i = 0; i < n+ m; i++) {\n\t\t\t\tdp[i] = 1;\n\t\t\t}\n\t\t\tfor(int i = 1; i < n + m; i++) {\n\t\t\t\tif(list.get(i).h > list.get(i-1).h && list.get(i).r > list.get(i-1).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-1] + 1);\n\t\t\t\t}\n\t\t\t\tif(i > 1 && list.get(i).h > list.get(i-2).h && list.get(i).r > list.get(i-2).r && list.get(i-1).r == list.get(i-2).r) {\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[i-2] + 1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tArrays.sort(dp);\n\t\t\tint b = dp[n + m - 1];\n\t\t\tout.println(Math.max(a,b));\n\t\t}\n\t\tout.flush();\n\t}\n\t\n\tstatic class Comp implements Comparator<Data>{\n\n\t\t@Override\n\t\tpublic int compare(Data o1, Data o2) {\n\t\t\treturn o1.r - o2.r;\n\t\t}\n\t\t\n\t\t\n\t}\n\tstatic class Comp2 implements Comparator<Data> {\n\n\t\t@Override\n\t\tpublic int compare(Data o1, Data o2) {\n\t\t\treturn o1.h - o2.h;\n\t\t}\n\t\t\n\t}\n\t\n\tstatic class Data{\n\t\tint h;\n\t\tint r;\n\t\tData(int a, int b) {\n\t\t\th = a;\n\t\t\tr = b;\n\t\t}\n\t}\n\n}\n\n//------------------------------//\n//-----------//\nclass FastScanner {\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int buflen = 0;\n    private boolean hasNextByte() {\n        if (ptr < buflen) {\n            return true;\n        }else{\n            ptr = 0;\n            try {\n                buflen = in.read(buffer);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (buflen <= 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n    private int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n    private static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n    private void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n    public boolean hasNext() { skipUnprintable(); return hasNextByte();}\n    public String next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        StringBuilder sb = new StringBuilder();\n        int b = readByte();\n        while(isPrintableChar(b)) {\n            sb.appendCodePoint(b);\n            b = readByte();\n        }\n        return sb.toString();\n    }\n    public long nextLong() {\n        if (!hasNext()) throw new NoSuchElementException();\n        long n = 0;\n        boolean minus = false;\n        int b = readByte();\n        if (b == '-') {\n            minus = true;\n            b = readByte();\n        }\n        if (b < '0' || '9' < b) {\n            throw new NumberFormatException();\n        }\n        while(true){\n            if ('0' <= b && b <= '9') {\n                n *= 10;\n                n += b - '0';\n            }else if(b == -1 || !isPrintableChar(b)){\n                return minus ? -n : n;\n            }else{\n                throw new NumberFormatException();\n            }\n            b = readByte();\n        }\n    }\n    \n    public int nextInt() {\n    \t if (!hasNext()) throw new NoSuchElementException();\n         int n = 0;\n         boolean minus = false;\n         int b = readByte();\n         if (b == '-') {\n             minus = true;\n             b = readByte();\n         }\n         if (b < '0' || '9' < b) {\n             throw new NumberFormatException();\n         }\n         while(true){\n             if ('0' <= b && b <= '9') {\n                 n *= 10;\n                 n += b - '0';\n             }else if(b == -1 || !isPrintableChar(b)){\n                 return minus ? -n : n;\n             }else{\n                 throw new NumberFormatException();\n             }\n             b = readByte();\n         }\n    }\n    \n    public double nextDouble() {\n    \treturn Double.parseDouble(next());\n    }\n    \n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Doll[] d;\n\tstatic int[][] memo;\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint maxh=0,maxr=0;\n\t\t\tDoll[] tmp = new Doll[N];\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\ttmp[i]=new Doll(a,b);\n\t\t\t}\n\n\t\t\tN = N + cin.nextInt();\n\t\t\td = new Doll[N];\n\t\t\tfor(int i = 0;i<tmp.length;i++){\n\t\t\t\td[i]=tmp[i];\n\t\t\t}\n\n\t\t\tfor(int i = tmp.length;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\td[i]=new Doll(a,b);\n\t\t\t}\n\t\t\tArrays.sort(d);\n\t\t\tmemo = new int[maxh+1][maxr+1];\n\t\t\tfor(int i = 0;i<maxh+1;i++){\n\t\t\t\tfor(int j = 0;j<maxr+1;j++){\n\t\t\t\t\tmemo[i][j]=-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\t//System.out.println(d[i].h + \" \" + d[i].r);\n\t\t\t}\n\t\t\tint max = 0;\n\t\t\tfor(int i = 0;i<d.length;i++){\n\t\t\t\tmax = Math.max(max, search(d[i].h,d[i].r));\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\n\t}\n\tstatic int search(int h,int r){\n\t\t//System.out.println(h+\" \" +r);\n\t\tint hh=0, rr=0, max=0;\n\t\tfor(int i =0;i<d.length;i++){\n\t\t\tif(d[i].h >= h || d[i].r >= r){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse{\n\t\t\t\thh=d[i].h;\n\t\t\t\trr=d[i].r;\n\t\t\t\tif(memo[hh][rr]==-1){\n\t\t\t\t\tmemo[hh][rr]=search(hh,rr)+1;\n\t\t\t\t}\n\t\t\t\tmax = Math.max(memo[hh][rr], max);\n\t\t\t}\n\t\t}\n\t\tif(hh==0&&rr==0){\n\t\t\treturn 1;\n\t\t}\n\t\treturn max;\n\t}\n}\n\nclass Doll implements Comparable{\n\tint h;\n\tint r;\n\tDoll(int a,int b){\n\t\th=a;\n\t\tr=b;\n\t}\n\tpublic int compareTo(Object o){\n\t\tDoll d = (Doll)o;\n\t\tif(this.h==d.h){\n\t\t\treturn this.r-d.r;\n\t\t}\n\t\telse{\n\t\t\treturn this.h-d.h;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\n\tclass p2 implements Comparable<p2> {\n\t\tint a;\n\t\tint b;\n\n\t\tp2(int a, int b) {\n\t\t\tthis.a = a;\n\t\t\tthis.b = b;\n\t\t}\n\n\t\tpublic int compareTo(p2 t) {\n\t\t\tif (a - t.a == 0) {\n\t\t\t\treturn b - t.b;\n\t\t\t}\n\t\t\treturn a - t.a;\n\t\t}\n\t}\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint h[] = new int[n];\n\t\t\tint r[] = new int[n];\n\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\th[i] = sc.nextInt();\n\t\t\t\tr[i] = sc.nextInt();\n\t\t\t}\n\n\t\t\tint m = sc.nextInt();\n\t\t\tint h2[] = new int[m];\n\t\t\tint r2[] = new int[m];\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\th2[j] = sc.nextInt();\n\t\t\t\tr2[j] = sc.nextInt();\n\t\t\t}\n\t\t\tp2 d[] = new p2[n + m];\n\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\td[i] = new p2(h[i], r[i]);\n\t\t\t}\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\td[n + j] = new p2(h2[j], r2[j]);\n\t\t\t}\n\n\t\t\tArrays.sort(d);\n\n\t\t\tint dp[] = new int[n + m];\n\t\t\tArrays.fill(dp, 1);\n\t\t\tdp[0] = 1;\n\t\t\tint max = 0;\n\t\t\tfor (int i = 0; i < n + m; i++) {\n\t\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\t\tif (d[i].a > d[j].a && d[i].b > d[j].b) {\n\t\t\t\t\t\tdp[i] = Math.max(dp[i], dp[j] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmax = Math.max(dp[i], max);\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain m = new Main();\n\t\tm.run();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main{\n \n    void solve(){\n        Scanner sc = new Scanner(System.in);\n \n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            ArrayList<int[]> hr = new ArrayList<int[]>();\n\n            for(int i=0; i<n; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            int m = sc.nextInt();\n            for(int i=0; i<m; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            Collections.sort(hr, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n \n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int i=0; i<n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(hr.get(i)[0]==hr.get(j)[0]) break;\n                    if(hr.get(i)[1]<=hr.get(j)[1]) continue;\n                    dp[i] = Math.max(dp[i],dp[j]+1);\n                }\n            }\n \n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n \n            System.out.println(ans);\n        }\n    }\n \n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main{\n \n    void solve(){\n        Scanner sc = new Scanner(System.in);\n \n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            ArrayList<int[]> hr = new ArrayList<int[]>();\n\n            for(int i=0; i<n; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            int m = sc.nextInt();\n            for(int i=0; i<m; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            Collections.sort(hr, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 1;\n                    }\n                });\n \n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int i=0; i<n+m; i++){\n                for(int j=i-1; j>=0; j--){\n                    if(hr.get(i)[1]<=hr.get(j)[1]) continue;\n                    dp[i] = Math.max(dp[i],dp[j]+1);\n                }\n            }\n \n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n \n            System.out.println(ans);\n        }\n    }\n \n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n=cin.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tint[][] m = new int[n][2];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tm[i][0]=cin.nextInt();\n\t\t\t\tm[i][1]=cin.nextInt();\n\t\t\t}\n\t\t\tn = n + cin.nextInt();\n\t\t\tint[][] mato=new int[n][3];\n\t\t\tfor(int i=0;i<m.length;i++){\n\t\t\t\tmato[i][0]=m[i][0];\n\t\t\t\tmato[i][1]=m[i][1];\n\t\t\t\tmato[i][2]=1;\n\t\t\t}\n\t\t\tfor(int i=m.length;i<n;i++){\n\t\t\t\tmato[i][0]=cin.nextInt();\n\t\t\t\tmato[i][1]=cin.nextInt();\n\t\t\t\tmato[i][2]=1;\n\t\t\t}\n\t\t\tArrays.sort(mato,new Comparator<int[]>(){\n\t\t\t\tpublic int compare(int[] a,int[] b){\n\t\t\t\t\treturn a[0]-b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tfor(int i=0;i<n;i++){\n//\t\t\t\tSystem.out.println(mato[i][0]+\" \"+mato[i][1]);\n\t\t\t}\n\t\t\tint ans=0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\t\tif(mato[i][0]>mato[j][0]&&mato[i][1]>mato[j][1]){\n\t\t\t\t\t\tmato[i][2]=Math.max(mato[i][2],mato[j][2]+1);\n\t\t\t\t\t\tans=Math.max(ans,mato[i][2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[][] mato1 = new int[n][2];\n            for(int i=0; i<n; i++){\n                mato1[i][0] = sc.nextInt(); \n                mato1[i][1] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            int[][] mato2 = new int[n][2];\n            for(int i=0; i<m; i++){\n                mato2[i][0] = sc.nextInt();\n                mato2[i][1] = sc.nextInt();\n            }\n            int[][] mato = new int[n+m][2];\n            int idx = 0;\n            for(int i=0; i<n; i++) mato[idx++] = mato1[i];\n            for(int i=0; i<m; i++) mato[idx++] = mato2[i];\n\n            Arrays.sort(mato, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n\n            int[] dp = new int[n+m];\n            dp[0] = 1;\n            int max = 0;\n            for(int i=1; i<n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(mato[i][0]>mato[j][0] && mato[i][1]>mato[j][1]){\n                        dp[i] = Math.max(dp[i], dp[j] + 1);\n                        max = Math.max(max, dp[i]);\n                    }\n                }\n            }\n            System.out.println(max);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\t/**\n\t * @param args\n\t */\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n=cin.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tint[][] m = new int[n][2];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tm[i][0]=cin.nextInt();\n\t\t\t\tm[i][1]=cin.nextInt();\n\t\t\t}\n\t\t\tn = n + cin.nextInt();\n\t\t\tint[][] mato=new int[n][3];\n\t\t\tfor(int i=0;i<m.length;i++){\n\t\t\t\tmato[i][0]=m[i][0];\n\t\t\t\tmato[i][1]=m[i][1];\n\t\t\t\tmato[i][2]=1;\n\t\t\t}\n\t\t\tfor(int i=m.length;i<n;i++){\n\t\t\t\tmato[i][0]=cin.nextInt();\n\t\t\t\tmato[i][1]=cin.nextInt();\n\t\t\t\tmato[i][2]=1;\n\t\t\t}\n\t\t\tArrays.sort(mato,new Comparator<int[]>(){\n\t\t\t\tpublic int compare(int[] a,int[] b){\n\t\t\t\t\tif(a[0]==b[0]){\n\t\t\t\t\t\treturn a[1]-b[1];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[0]-b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tfor(int i=0;i<n;i++){\n//\t\t\t\tSystem.out.println(mato[i][0]+\" \"+mato[i][1]);\n\t\t\t}\n\t\t\tint ans=0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=i-1;j>=0;j--){\n\t\t\t\t\tif(mato[i][0]>mato[j][0]&&mato[i][1]>mato[j][1]){\n\t\t\t\t\t\tmato[i][2]=Math.max(mato[i][2],mato[j][2]+1);\n\t\t\t\t\t\tans=Math.max(ans,mato[i][2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[][] hr1 = new int[n][2];\n            for(int i=0; i<n; i++){\n                hr1[i][0] = sc.nextInt();\n                hr1[i][1] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            int[][] mato = new int[n+m][2];\n            for(int i=0; i<n; i++){\n                mato[i][0] = hr1[i][0];\n                mato[i][1] = hr1[i][1];\n            }\n            for(int i=0; i<m; i++){\n                mato[i+n][0] = sc.nextInt();\n                mato[i+n][1] = sc.nextInt();\n            }\n            \n            Arrays.sort(mato, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n\n            int[][] dp = new int[1000][1000];\n            for(int i=0; i<mato.length; i++){\n                int idx1 = mato[i][0], idx2 = mato[i][1];\n                dp[idx1][idx2] = 1;\n                for(int j=0; j<i; j++){\n                    int idx3 = mato[j][0], idx4 = mato[j][1];\n                    if(idx1>idx3 && idx2>idx4)\n                        dp[idx1][idx2] = Math.max(dp[idx1][idx2], dp[idx3][idx4]+1);\n                    else dp[idx1][idx2] = Math.max(dp[idx1][idx2], dp[idx3][idx4]);\n                }\n            }\n\n            int max = 0;\n            for(int i=0; i<1000; i++){\n                for(int j=0; j<1000; j++){\n                    max = Math.max(max, dp[i][j]);\n                }\n            }\n            System.out.println(max);\n        }\n   }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.Math.*;\nimport static java.lang.System.out;\n\n// AOJ4\npublic class Main {\n\tfinal Scanner sc=new Scanner(System.in);\n\tfinal int[] vx={0,1,0,-1}, vy={-1,0,1,0};\n\tstatic class Point{\n\t\tint x, y;\n\t\tPoint(int x, int y){\tthis.x=x;\tthis.y=y;}\n\t\tPoint(){\tthis.x=0; this.y=0;}\n\t\t@Override public String toString(){\treturn \"(\"+this.x+\",\"+this.y+\")\";}\n\t\tstatic boolean ok(int x,int y,int X,int Y,int min){\treturn (min<=x&&x<X)&&(min<=y&&y<Y);}\n\t\tstatic boolean ok(int x,int y,int X,int Y){\treturn ok(x,y,X,Y,0);}\n\t}\n\tpublic static void main(String[] args) {\n\t\tnew Main().AOJ0157();\n\t}\n\t\n\t// TLE\n\t// steps 37 - 43 - 51\n\tvoid AOJ0157(){\n\t\twhile(sc.hasNext()){\n\t\t\tint N=sc.nextInt();\n\t\t\tif(N==0)\tbreak;\n\t\t\tArrayList<C0157> m=new ArrayList<C0157>();\n\t\t\tfor(int i=0; i<N; i++)\tm.add(new C0157(sc.nextInt(),sc.nextInt()));\n\t\t\tint M=sc.nextInt();\n\t\t\tfor(int i=0; i<M; i++)\tm.add(new C0157(sc.nextInt(),sc.nextInt()));\n\t\t\tCollections.sort(m);\n\t\t\tint ans=solve0157(m,m.get(m.size()-1),1);\tC0157 last=m.get(m.size()-1);\n\t\t\t/*\n\t\t\tfor(int i=N+M-2; i>=0; i--){\n\t\t\t\tC0157 now=m.get(i);\n\t\t\t\tif(now.h<=last.h && now.r<=last.r)\tbreak;\n\t\t\t\tm.remove(i);\n\t\t\t\tans=max(ans,solve0157(m,now,1));\n\t\t\t\tm.add(i,now);\n\t\t\t}*/\n\t\t\tout.println(ans);\n\t\t\t//out.println(cc+\"steps\");\n\t\t}\n\t}\n\tint cc=0;\n\tint solve0157(ArrayList<C0157> M,C0157 now,int c){\n\t\tcc++;\n\t\tint ans=c;\n\t\tArrayList<C0157> m=new ArrayList<C0157>(M);\n\t\tC0157 last=null;\n\t\tfor(int i=m.size()-1; i>=0; i--){\n\t\t\tC0157 temp=m.get(i);\n\t\t\tm.remove(i);\n\t\t\tif(now.r>temp.r && now.h>temp.h){\n\t\t\t\tif(last!=null){\n\t\t\t\t\tif(last.r>temp.r && last.h>temp.h)\tcontinue;\n\t\t\t\t}\n\t\t\t\tans=max(ans,solve0157(m,temp,c+1));\n\t\t\t\t//m.add(i, temp);\n\t\t\t\tlast=temp;\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n\tclass C0157 implements Comparable<C0157>{\n\t\tint r,h;\n\t\tC0157(int h,int r){\tthis.r=r;\tthis.h=h;}\n\t\t@Override public int compareTo(C0157 o){\n\t\t\tif(this.r<o.r)\treturn -1;\n\t\t\tif(this.r>o.r)\treturn 1;\n\t\t\tif(this.h<o.h)\treturn -1;\n\t\t\tif(this.h>o.h)\treturn 1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\t// 途中\n\tvoid AOJ0170(){\n\t\twhile(sc.hasNext()){\n\t\t\tint N=sc.nextInt();\n\t\t\tif(N==0)\tbreak;\n\t\t\tC0170[] f=new C0170[N];\n\t\t\tfor(int i=0; i<N; i++)\tf[i]=new C0170(sc.next(),sc.nextInt(),sc.nextInt());\n\t\t\tArrays.sort(f);\n\t\t\tint[] ss=new int[N];\n\t\t\t\n\t\t\tfor(int i=0; i<N; i++)\tss[i]=f[i].w+(i>0?ss[i-1]:0);\n\t\t\tfor(int i=0; i<N; i++){\n\t\t\t\tif(f[i].s<ss[i]);\n\t\t\t}\n\t\t}\n\t}\n\tclass C0170 implements Comparable<C0170>{\n\t\tString name;\tint w,s;\n\t\tC0170(String n,int w,int s){\tthis.name=n;\tthis.w=w;\tthis.s=s;}\n\t\t@Override public int compareTo(C0170 o){\n\t\t\tif(this.w<o.w)\treturn -1;\n\t\t\tif(this.w>o.w)\treturn 1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\tvoid AOJ0169(){\n\t\twhile(sc.hasNext()){\n\t\t\tString[] s=sc.nextLine().split(\" \");\n\t\t\tif(s[0].equals(\"0\"))\tbreak;\n\t\t\tint ans=0,c=0;\n\t\t\tfor(String i:s){\n\t\t\t\tc+=(i.equals(\"1\")?1:0);\n\t\t\t\tans+=solve0169(i);\n\t\t\t}\n\t\t\twhile(--c>=0){\n\t\t\t\tif(ans+10>21)\tbreak;\n\t\t\t\tans+=10;\n\t\t\t}\n\t\t\tout.println((ans<=21?ans:0));\n\t\t}\n\t}\n\tint solve0169(String s){\n\t\tint r=Integer.parseInt(s);\n\t\tif(r>=10)\treturn 10;\n\t\treturn r;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main{\n \n    void solve(){\n        Scanner sc = new Scanner(System.in);\n \n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            ArrayList<int[]> hr = new ArrayList<int[]>();\n\n            for(int i=0; i<n; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            int m = sc.nextInt();\n            for(int i=0; i<m; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            Collections.sort(hr, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n \n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int i=0; i<n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(hr.get(i)[0]<=hr.get(j)[0]) continue;\n                    if(hr.get(i)[1]<=hr.get(j)[1]) continue;\n                    dp[i] = Math.max(dp[i],dp[j]+1);\n                }\n            }\n \n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n \n            System.out.println(ans);\n        }\n    }\n \n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.util.Map.Entry;\n\n\npublic class Main {\n\tpublic static void main(String args[]){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tint n= sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tMap<Integer,Integer> map = new TreeMap<Integer,Integer>();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tmap.put(sc.nextInt(), sc.nextInt());\n\t\t\t}\n\t\t\tint m= sc.nextInt();\n\t\t\tint h,r;\n\t\t\tfor(int i=n;i<n+m;i++){\n\t\t\t\th=sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\tif(map.containsKey(h)){\n\t\t\t\t\tif(map.get(h)>r){\n\t\t\t\t\t\tmap.put(h, r);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tmap.put(h,r);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] rArray = new int[map.size()];\n\t\t\tIterator<Entry<Integer, Integer>> entries = map.entrySet().iterator();\n\t\t\tint i=0;\n\t\t\twhile(entries.hasNext()) {\n\t\t\t\tMap.Entry entry = entries.next();\n\t\t\t\t//int keyName = (Integer) entry.getKey();\n\t\t\t\tint valName = (Integer)entry.getValue();\n\t\t\t\trArray[i] = valName;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tint[] dp = new int[rArray.length+1];\n\t\t\tint max;\n\t\t\tfor(int j=1;j<dp.length;j++){\n\t\t\t\tmax = 0;\n\t\t\t\tfor(int k=1;k<=j;k++){\n\t\t\t\t\tif(rArray[j-1]>rArray[k-1]){\n\t\t\t\t\t\tif(dp[k]>max){\n\t\t\t\t\t\t\tmax = dp[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp[j] = max + 1;\n\t\t\t}\n\t\t\tmax = -1;\n\t\t\tfor(int j=0;j<dp.length;j++){\n\t\t\t\tif(max<dp[j]){\n\t\t\t\t\tmax = dp[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\t\n\t\t\tArrayList<Integer> x = new ArrayList<Integer>();\n\t\t\tArrayList<Integer> y = new ArrayList<Integer>();\n\t\t\tx.add(-1);\n\t\t\ty.add(-1);\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tx.add(sc.nextInt());\n\t\t\t\ty.add(sc.nextInt());\n\t\t\t}\n\t\t\t\n\t\t\tint m = sc.nextInt();\n\t\t\tint p, q;\n\t\t\tint count = 0;\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tp = sc.nextInt();\n\t\t\t\tq = sc.nextInt();\n\t\t\t\tfor(int j=count;j<x.size();j++){\n\t\t\t\t\tif(x.get(j)<p && y.get(j)<q){\n\t\t\t\t\t\tif(j==x.size()-1 || (x.get(j+1)>p && y.get(j+1)>q)){\n\t\t\t\t\t\t\tx.add(j+1, p);\n\t\t\t\t\t\t\ty.add(j+1, q);\n\t\t\t\t\t\t\tcount = j+1;\n\t\t\t\t\t\t}else if(x.get(j+1)<p && y.get(j+1)<q){\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(x.size()-1);\n\t\t}\t\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[] h = new int[200];\n            int[] r = new int[200];\n\n            int idx = 0;\n            for(; idx<n; idx++){\n                h[idx] = sc.nextInt();\n                r[idx] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            for(; idx<n+m; idx++){\n                h[idx] = sc.nextInt();\n                r[idx] = sc.nextInt();\n            }\n\n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int k=0; k<n+m; k++){\n                for(int i=0; i<n+m; i++){\n                    for(int j=0; j<n+m; j++){\n                        if(h[i]<=h[j] || r[i]<=r[j]) continue;\n                        dp[i] = Math.max(dp[i],dp[j]+1);\n                    }\n                }\n            }\n\n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n\n            System.out.println(ans);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class Main {\n    public static void main(String[] args) throws IOException{\n        BufferedReader r = new BufferedReader(new InputStreamReader(System.in), 1);\n        int count = Integer.parseInt(r.readLine().split(\" \")[0]);\n        while(count!=0){\n            List<Integer> list_h1 = new ArrayList<Integer>();\n            List<Integer> list_r1 = new ArrayList<Integer>();\n            List<Integer> list_h2 = new ArrayList<Integer>();\n            List<Integer> list_r2 = new ArrayList<Integer>();\n            int i;\n            for(i=0;i<count;i++){\n                String[] tmp = r.readLine().split(\" \");\n                int tmpi = Integer.parseInt(tmp[0]);\n                int index = list_h1.size();\n                while(index>0&&tmpi<list_h1.get(index-1)){\n                    index--;\n                }\n                list_h1.add(index, tmpi);\n                list_r1.add(index, Integer.parseInt(tmp[1]));\n            }\n            count = Integer.parseInt(r.readLine().split(\" \")[0]);\n            for(i=0;i<count;i++){\n                String[] tmp = r.readLine().split(\" \");\n                int tmpi = Integer.parseInt(tmp[0]);\n                int index = list_h2.size();\n                while(index>0&&tmpi<list_h2.get(index-1)){\n                    index--;\n                }\n                list_h2.add(index, tmpi);\n                list_r2.add(index, Integer.parseInt(tmp[1]));\n            }\n            List<Integer> list_sorted_by_h_h = new ArrayList<Integer>();\n            List<Integer> list_sorted_by_h_r = new ArrayList<Integer>();\n            List<Integer> list_sorted_by_r_h = new ArrayList<Integer>();\n            List<Integer> list_sorted_by_r_r = new ArrayList<Integer>();\n            int i1=0,i2=0;\n            for(i=0;i<list_h1.size()+list_h2.size();i++){\n                if(list_h1.size()==i1){\n                    if(list_sorted_by_h_r.size()==0||list_r2.get(i2)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                        list_sorted_by_h_h.add(list_h2.get(i2));\n                        list_sorted_by_h_r.add(list_r2.get(i2));\n                    }\n                    i2++;\n                }else if(list_h2.size()==i2){\n                    if(list_sorted_by_h_r.size()==0||list_r1.get(i1)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                        list_sorted_by_h_h.add(list_h1.get(i1));\n                        list_sorted_by_h_r.add(list_r1.get(i1));\n                    }\n                    i1++;\n                }else{\n                    if(list_h1.get(i1)<list_h2.get(i2)){\n                        if(list_sorted_by_h_r.size()==0||list_r1.get(i1)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                            list_sorted_by_h_h.add(list_h1.get(i1));\n                            list_sorted_by_h_r.add(list_r1.get(i1));\n                        }\n                        i1++;\n                    }else if(list_h1.get(i1)>list_h2.get(i2)){\n                        if(list_sorted_by_h_r.size()==0||list_r2.get(i2)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                            list_sorted_by_h_h.add(list_h2.get(i2));\n                            list_sorted_by_h_r.add(list_r2.get(i2));\n                        }\n                        i2++;\n                    }else{\n                        if(list_r2.get(i2)>list_r1.get(i1)){\n                            if(list_sorted_by_h_r.size()==0||list_r1.get(i1)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                                list_sorted_by_h_h.add(list_h1.get(i1));\n                                list_sorted_by_h_r.add(list_r1.get(i1));\n                            }\n                        } else {\n                            if(list_sorted_by_h_r.size()==0||list_r2.get(i2)>list_sorted_by_h_r.get(list_sorted_by_h_r.size()-1)){\n                                list_sorted_by_h_h.add(list_h2.get(i2));\n                                list_sorted_by_h_r.add(list_r2.get(i2));\n                            }\n                        }\n                        i++;\n                        i1++;\n                        i2++;\n                    }\n                }\n            }\n            i1=0;i2=0;\n            for(i=0;i<list_h1.size()+list_h2.size();i++){\n                if(list_r1.size()==i1){\n                    if(list_sorted_by_r_h.size()==0||list_h2.get(i2)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                        list_sorted_by_r_r.add(list_r2.get(i2));\n                        list_sorted_by_r_h.add(list_h2.get(i2));\n                    }\n                    i2++;\n                }else if(list_r2.size()==i2){\n                    if(list_sorted_by_r_h.size()==0||list_h1.get(i1)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                        list_sorted_by_r_r.add(list_r1.get(i1));\n                        list_sorted_by_r_h.add(list_h1.get(i1));\n                    }\n                    i1++;\n                }else{\n                    if(list_r1.get(i1)<list_r2.get(i2)){\n                        if(list_sorted_by_r_h.size()==0||list_h1.get(i1)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                            list_sorted_by_r_r.add(list_r1.get(i1));\n                            list_sorted_by_r_h.add(list_h1.get(i1));\n                        }\n                        i1++;\n                    }else if(list_r1.get(i1)>list_r2.get(i2)){\n                        if(list_sorted_by_r_h.size()==0||list_h2.get(i2)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                            list_sorted_by_r_r.add(list_r2.get(i2));\n                            list_sorted_by_r_h.add(list_h2.get(i2));\n                        }\n                        i2++;\n                    }else{\n                        if(list_h2.get(i2)>list_h1.get(i1)){\n                            if(list_sorted_by_r_h.size()==0||list_h1.get(i1)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                                list_sorted_by_r_r.add(list_r1.get(i1));\n                                list_sorted_by_r_h.add(list_h1.get(i1));\n                            }\n                        } else {\n                            if(list_sorted_by_r_h.size()==0||list_h2.get(i2)>list_sorted_by_r_h.get(list_sorted_by_r_h.size()-1)){\n                                list_sorted_by_r_r.add(list_r2.get(i2));\n                                list_sorted_by_r_h.add(list_h2.get(i2));\n                            }\n                        }\n                        i++;\n                        i1++;\n                        i2++;\n                    }\n                }\n            }\n            System.out.println(calcSize(list_sorted_by_h_h,list_sorted_by_h_r,list_sorted_by_r_h,list_sorted_by_r_r));\n            count = Integer.parseInt(r.readLine().split(\" \")[0]);\n        }\n    }\n\n    private static int calcSize(List<Integer> h_h, List<Integer> h_r, List<Integer> r_h, List<Integer> r_r){\n        int count=0;\n        List<Integer> indexes1 = new ArrayList<Integer>();\n        List<Integer> indexes2 = new ArrayList<Integer>();\n        for(int i:h_h){\n            int index = r_h.indexOf(i);\n            if(index!=-1&&r_r.get(index)==h_r.get(count)){\n                indexes1.add(count);\n                indexes2.add(index);\n            }\n            count++;\n        }\n        if(indexes1.size()<=1){\n            return Math.max(indexes1.size(), indexes2.size());\n        } else {\n            int i;\n            int size=0;\n            int prev1=0,prev2=0;\n            for(i=0;i<indexes1.size();i++){\n                if(indexes1.get(i)-prev1>indexes2.get(i)-prev2){\n                    size+=indexes1.get(i)-prev1;\n                } else {\n                    size+=indexes2.get(i)-prev2;\n                }\n                prev1=indexes1.get(i);\n                prev2=indexes2.get(i);\n            }\n            size+=Math.max(h_h.size()-prev1,r_h.size()-prev2);\n            return size;\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Doll[] d;\n\tstatic int[][] memo;\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint maxh=0,maxr=0;\n\t\t\tDoll[] tmp = new Doll[N];\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\ttmp[i]=new Doll(a,b);\n\t\t\t}\n\n\t\t\tN = N + cin.nextInt();\n\t\t\td = new Doll[N];\n\t\t\tfor(int i = 0;i<tmp.length;i++){\n\t\t\t\td[i]=tmp[i];\n\t\t\t}\n\n\t\t\tfor(int i = tmp.length;i<N;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tmaxh=Math.max(maxh,a);\n\t\t\t\tmaxr=Math.max(maxr,b);\n\t\t\t\td[i]=new Doll(a,b);\n\t\t\t}\n\t\t\tArrays.sort(d);\n\t\t\tmemo = new int[maxh+1][maxr+1];\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\t//System.out.println(d[i].h + \" \" + d[i].r);\n\t\t\t}\n\t\t\tSystem.out.println(search(maxh,maxr));\n\t\t}\n\n\t}\n\tstatic int search(int h,int r){\n\t\t//System.out.println(h+\" \" +r);\n\t\tint hh=0, rr=0;\n\t\tfor(int i =0;i<d.length;i++){\n\t\t\tif(d[i].h >= h || d[i].r >= r){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\thh=d[i].h;\n\t\t\t\trr=d[i].r;\n\t\t\t}\n\t\t}\n\t\tif(hh==0&&rr==0){\n\t\t\treturn 1;\n\t\t}\n\t\treturn search(hh,rr)+1;\n\t}\n}\n\nclass Doll implements Comparable{\n\tint h;\n\tint r;\n\tDoll(int a,int b){\n\t\th=a;\n\t\tr=b;\n\t}\n\tpublic int compareTo(Object o){\n\t\tDoll d = (Doll)o;\n\t\tif(this.h==d.h){\n\t\t\treturn this.r-d.r;\n\t\t}\n\t\telse{\n\t\t\treturn this.h-d.h;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[][] mato1 = new int[n][2];\n            for(int i=0; i<n; i++){\n                mato1[i][0] = sc.nextInt(); \n                mato1[i][1] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            int[][] mato2 = new int[m][2];\n            for(int i=0; i<m; i++){\n                mato2[i][0] = sc.nextInt();\n                mato2[i][1] = sc.nextInt();\n            }\n            int[][] mato = new int[n+m][2];\n            int idx = 0;\n            for(int i=0; i<n; i++) mato[idx++] = mato1[i];\n            for(int i=0; i<m; i++) mato[idx++] = mato2[i];\n\n            Arrays.sort(mato, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n\n            int[] dp = new int[n+m];\n            Arrays.fill(dp, 1);\n            int max = 0;\n            for(int i=1; i<n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(mato[i][0]>mato[j][0] && mato[i][1]>mato[j][1]){\n                        dp[i] = Math.max(dp[i], dp[j] + 1);\n                        max = Math.max(max, dp[i]);\n                    }\n                }\n            }\n            System.out.println(max);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.math.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\n\tclass p2 implements Comparable<p2> {\n\t\tint a;\n\t\tint b;\n\n\t\tp2(int a, int b) {\n\t\t\tthis.a = a;\n\t\t\tthis.b = b;\n\t\t}\n\n\t\tpublic int compareTo(p2 t) {\n\t\t\tif( a - t.a == 0){\n\t\t\t\treturn b -t.b;\n\t\t\t}\n\t\t\treturn a- t.a;\n\t\t}\n\t}\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint h[] = new int[n];\n\t\t\tint r[] = new int[n];\n\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\th[i] = sc.nextInt();\n\t\t\t\tr[i] = sc.nextInt();\n\t\t\t}\n\n\t\t\tint m = sc.nextInt();\n\t\t\tint h2[] = new int[m];\n\t\t\tint r2[] = new int[m];\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\th2[j] = sc.nextInt();\n\t\t\t\tr2[j] = sc.nextInt();\n\t\t\t}\n\t\t\tp2 d[] = new p2[n+m];\n\t\t\t\n\t\t\tfor(int i = 0; i < n ;i++){\n\t\t\t\td[i] = new p2(h[i],r[i]);\n\t\t\t}\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\td[n+j] = new p2(h2[j],r2[j]);\n\t\t\t}\n\t\t\t\n\t\t\tArrays.sort(d);\n\t\t\t\n\t\t\tint dp[] =new int[n+m];\n\t\t\tdp[0] = 1;\n\t\t\tint max = 0;\n\t\t\tfor(int i =0 ; i < n+m;i++){\n\t\t\t\tfor(int j = 0 ; j < i ; j++){\n\t\t\t\t\tint alpha = 0;\n\t\t\t\t\tif(d[i].a > d[j].a && d[i].b>d[j].b){\n\t\t\t\t\t\talpha = 1;\n\t\t\t\t\t}\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[j] + alpha);\n\t\t\t\t}\n\t\t\t\tmax = Math.max(dp[i], max);\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain m = new Main();\n\t\tm.run();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main{\n \n    void solve(){\n        Scanner sc = new Scanner(System.in);\n \n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n \n            int[] h = new int[200];\n            int[] r = new int[200];\n \n            int idx = 0;\n            for(; idx<n; idx++){\n                h[idx] = sc.nextInt();\n                r[idx] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            for(; idx<n+m; idx++){\n                h[idx] = sc.nextInt();\n                r[idx] = sc.nextInt();\n            }\n \n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int k=0; k<n+m; k++){\n                for(int i=0; i<n+m; i++){\n                    for(int j=0; j<n+m; j++){\n                        if(h[i]<=h[j] || r[i]<=r[j]) continue;\n                        dp[i] = Math.max(dp[i],dp[j]+1);\n                    }\n                }\n            }\n \n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n \n            System.out.println(ans);\n        }\n    }\n \n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.util.Map.Entry;\n\n\npublic class Main {\n\tpublic static void main(String args[]){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tint n= sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tMap<Integer,ArrayList<Integer>> map = new TreeMap<Integer,ArrayList<Integer>>();\n\t\t\tint h,r;\n\t\t\t//ArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\th = sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\tArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\t\ttemp.add(r);\n\t\t\t\tmap.put(h, temp);\n\t\t\t}\n\t\t\tint m= sc.nextInt();\n\t\t\tfor(int i=n;i<n+m;i++){\n\t\t\t\th=sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\tif(map.containsKey(h)){\n\t\t\t\t\tArrayList<Integer> a = map.get(h);\n\t\t\t\t\ta.add(r);\n\t\t\t\t\tmap.put(h, a);\n\t\t\t\t}else{\n\t\t\t\t\tArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\t\t\ttemp.add(r);\n\t\t\t\t\tmap.put(h,temp);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] rArray = new int[n+m];\n\t\t\tIterator<Entry<Integer, ArrayList<Integer>>> entries = map.entrySet().iterator();\n\t\t\tint i=0;\n\t\t\twhile(entries.hasNext()) {\n\t\t\t\t@SuppressWarnings(\"rawtypes\")\n\t\t\t\tMap.Entry entry = entries.next();\n\t\t\t\t//int keyName = (Integer) entry.getKey();\n\t\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\t\tArrayList<Integer> valName = (ArrayList<Integer>)entry.getValue();\n\t\t\t\tfor(int value : valName){\n\t\t\t\t\trArray[i] = value;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] dp = new int[rArray.length+1];\n\t\t\tint max;\n\t\t\tfor(int j=1;j<dp.length;j++){\n\t\t\t\tmax = 0;\n\t\t\t\tfor(int k=1;k<=j;k++){\n\t\t\t\t\tif(rArray[j-1]>rArray[k-1]){\n\t\t\t\t\t\tif(dp[k]>max){\n\t\t\t\t\t\t\tmax = dp[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp[j] = max + 1;\n\t\t\t}\n\t\t\tmax = -1;\n\t\t\tfor(int j=0;j<dp.length;j++){\n\t\t\t\tif(max<dp[j]){\n\t\t\t\t\tmax = dp[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main{\n \n    void solve(){\n        Scanner sc = new Scanner(System.in);\n \n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            ArrayList<int[]> hr = new ArrayList<int[]>();\n\n            for(int i=0; i<n; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            int m = sc.nextInt();\n            for(int i=0; i<m; i++) \n                hr.add(new int[]{sc.nextInt(), sc.nextInt()});\n\n            Collections.sort(hr, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n \n            int[] dp = new int[n+m];\n            Arrays.fill(dp,1);\n            for(int i=0; i<n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(hr.get(i)[1]<=hr.get(j)[1]) continue;\n                    dp[i] = Math.max(dp[i],dp[j]+1);\n                }\n            }\n \n            int ans = 0;\n            for(int i=0; i<n+m; i++) ans = Math.max(ans, dp[i]);\n \n            System.out.println(ans);\n        }\n    }\n \n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws Exception {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tList<Doll> dolls = new ArrayList<Doll>();\n\t\t\tdolls.add(new Doll(0, 0));\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tdolls.add(new Doll(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tdolls.add(new Doll(sc.nextInt(), sc.nextInt()));\n\t\t\t}\n\t\t\tint dp[][] = new int[n + m + 1][n + m + 1];\n\t\t\tint ans = 0;\n\t\t\t// dp[i][j] : j個目の人形を内側からi番目に配置したときに作れるマトリョーシカの数。\n\t\t\tArrays.fill(dp[1], 1);\n\t\t\tfor (int i = 1; i < n + m; i++) {\n\t\t\t\tfor (int j = 1; j <= n + m; j++) {\n\t\t\t\t\tif (dp[i][j] == 0) {\n\t\t\t\t\t\tdp[i + 1][j] = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tint max = 0;\n\t\t\t\t\t\tDoll d1 = dolls.get(j);\n\t\t\t\t\t\tfor (int k = 1; k <= n + m; k++) {\n\t\t\t\t\t\t\tif (j == k)\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tDoll d2 = dolls.get(k);\n\t\t\t\t\t\t\tif (d1.h > d2.h && d1.r > d2.r)\n\t\t\t\t\t\t\t\tmax = Math.max(max, dp[i][k]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdp[i + 1][j] = max+1;\n\t\t\t\t\t\tans = Math.max(ans, max+1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// for (int i = 1; i <= n + m; i++) {\n\t\t\t// System.out.println(Arrays.toString(dp[i]));\n\t\t\t// }\n\t\t\tSystem.out.println(ans);\n\n\t\t\t// 1行目 一郎君のマトリョーシカの人形の数n（100以下の整数）\n\t\t\t// 2行目 一郎君の第一の人形の情報 h1 r1（整数 整数；半角空白区切り）\n\t\t\t// h1：一郎君の第一の人形の高さ（1,000未満の整数）\n\t\t\t// r1：一郎君の第一の人形の半径（1,000未満の整数）\n\t\t\t// 3行目 一郎君の第二の人形の情報 h2 r2（整数 整数；半角空白区切り）\n\t\t\t// ：\n\t\t\t// n+1行目 一郎君の第nの人形の情報 hn rn（整数 整数；半角空白区切り）\n\t\t\t// n+2行目 二郎君のマトリョーシカの人形の数 m（100以下の整数）\n\t\t\t// n+3行目 二郎君の第一の人形の情報 h1 r1（整数 整数；半角空白区切り）\n\t\t\t// h1：二郎君の第一の人形の高さ（1,000未満の整数）\n\t\t\t// r1：二郎君の第一の人形の半径（1,000未満の整数）\n\t\t\t// n+4行目 二郎君の第二の人形の情報 h2 r2（整数 整数；半角空白区切り）\n\t\t\t// ：\n\t\t\t// n+m+2行目 二郎君の第mの人形の情報 hm rm（整数 整数；半角空白区切り）\n\t\t\t//\n\t\t\t// Output\n\t\t\t//\n\t\t\t// 入力データセットごとに新たなマトリョーシカが含む人形の数k（整数）を出力します。\n\t\t}\n\t}\n}\n\nclass Doll {\n\tint h;\n\tint r;\n\n\tDoll(int h, int r) {\n\t\tthis.h = h;\n\t\tthis.r = r;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[][] ns = new int[n][2];\n\t\t\twhile (n-- > 0) {\n\t\t\t\tns[n][0] = scanner.nextInt();\n\t\t\t\tns[n][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint m = scanner.nextInt();\n\t\t\tint[][] ms = new int[m][2];\n\t\t\twhile (m-- > 0) {\n\t\t\t\tms[m][0] = scanner.nextInt();\n\t\t\t\tms[m][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint len = ns.length + ms.length;\n\t\t\tint[][] num = Arrays.copyOf(ns, len);\n\t\t\tSystem.arraycopy(ms, 0, num, ns.length, ms.length);\n\t\t\tArrays.sort(num, new Comparator<int[]>() {\n\t\t\t\t@Override\n\t\t\t\tpublic int compare(int[] a, int[] b) {\n\t\t\t\t\tif (a[0] == b[0]) {\n\t\t\t\t\t\treturn a[1] - b[1];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[0] - b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tint[] dp = new int[len];\n\t\t\tArrays.fill(dp, 1);\n\t\t\tfor (int i = 0; i < len; i++) {\n\t\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\t\tif (num[i][0] <= num[j][0] || num[i][1] <= num[j][1])\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tdp[i] = Math.max(dp[i], dp[j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ans = 0;\n\t\t\tfor(int i=0;i<len;i++){\n\t\t\t\tans = Math.max(ans, dp[i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.util.Map.Entry;\n\n\npublic class Main {\n\tpublic static void main(String args[]){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tint n= sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tMap<Integer,ArrayList<Integer>> map = new TreeMap<Integer,ArrayList<Integer>>();\n\t\t\tint h,r;\n\t\t\t//ArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\tint[] hArray = new int[n];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\th = sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\tArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\t\ttemp.add(r);\n\t\t\t\tmap.put(h, temp);\n\t\t\t\thArray[i] = h;\n\t\t\t}\n\t\t\tint m= sc.nextInt();\n\t\t\tint[] hArray2 = new int[n+m];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\thArray2[i] = hArray[i];\n\t\t\t}\n\t\t\tfor(int i=n;i<n+m;i++){\n\t\t\t\th=sc.nextInt();\n\t\t\t\tr=sc.nextInt();\n\t\t\t\thArray2[i] = h;\n\t\t\t\tif(map.containsKey(h)){\n\t\t\t\t\tArrayList<Integer> a = map.get(h);\n\t\t\t\t\ta.add(r);\n\t\t\t\t\tmap.put(h, a);\n\t\t\t\t}else{\n\t\t\t\t\tArrayList<Integer> temp = new ArrayList<Integer>();\n\t\t\t\t\ttemp.add(r);\n\t\t\t\t\tmap.put(h,temp);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] rArray = new int[n+m];\n\t\t\tIterator<Entry<Integer, ArrayList<Integer>>> entries = map.entrySet().iterator();\n\t\t\tint i=0;\n\t\t\twhile(entries.hasNext()) {\n\t\t\t\t@SuppressWarnings(\"rawtypes\")\n\t\t\t\tMap.Entry entry = entries.next();\n\t\t\t\t//int keyName = (Integer) entry.getKey();\n\t\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\t\tArrayList<Integer> valName = (ArrayList<Integer>)entry.getValue();\n\t\t\t\tfor(int value : valName){\n\t\t\t\t\trArray[i] = value;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tArrays.sort(hArray2);\n\t\t\t\n\t\t\tint[] dp = new int[rArray.length+1];\n\t\t\tint max;\n\t\t\tfor(int j=1;j<dp.length;j++){\n\t\t\t\tmax = 0;\n\t\t\t\tfor(int k=1;k<=j;k++){\n\n\t\t\t\t\tif(hArray2[j-1]>hArray2[k-1]&&rArray[j-1]>rArray[k-1]){\n\t\t\t\t\t\tif(dp[k]>max){\n\t\t\t\t\t\t\tmax = dp[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdp[j] = max + 1;\n\t\t\t}\n\t\t\tmax = -1;\n\t\t\tfor(int j=0;j<dp.length;j++){\n\t\t\t\tif(max<dp[j]){\n\t\t\t\t\tmax = dp[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic int n1,n2;\n\tstatic Doll[] dolls;\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tn1=cin.nextInt();\n\t\t\tif(n1==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint[][] aaa = new int[n1][2];\n\t\t\tfor(int i = 0;i<n1;i++){\n\t\t\t\taaa[i][0] = cin.nextInt();\n\t\t\t\taaa[i][1] = cin.nextInt();\n\t\t\t}\n\t\t\tn2=cin.nextInt();\n\t\t\tdolls = new Doll[n1+n2];\n\t\t\tfor(int i = 0;i<n1;i++){\n\t\t\t\tdolls[i]=new Doll(aaa[i][0],aaa[i][1]);\n\t\t\t}\n\t\t\tfor(int i = 0;i<n2;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tdolls[n1+i]=new Doll(a,b);\n\t\t\t}\n\t\t\tArrays.sort(dolls);\n\t\t\tint max=0;\n\t\t\tfor(int i = n1+n2-1;i>=0;i--){\n\t\t\t\tfor(int j =i;j<n1+n2;j++){\n\t\t\t\t\tif(dolls[i].h < dolls[j].h && dolls[i].r < dolls[j].r){\n\t\t\t\t\t\tdolls[i].max = Math.max(dolls[i].max,dolls[j].max+1);\n\t\t\t\t\t\tmax = Math.max(dolls[i].max, max);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t\t\n\t\t}\n\t}\n}\nclass Doll implements Comparable{\n\tint h;\n\tint r;\n\tint max=1;\n\tDoll(int a,int b){\n\t\th=a;r=b;\n\t\tmax=1;\n\t}\n\tpublic int compareTo(Object o) {\n\t\tDoll d = (Doll)o;\n\t\tif(this.h-d.h==0){\n\t\t\treturn this.r-d.r;\n\t\t}\n\t\telse{\n\t\t\treturn this.h-d.h;\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n    static Scanner kbd = new Scanner(System.in);\n    public static void main(String[] args) {\n\t\n\twhile(kbd.hasNext()){\n\t    int m1  = kbd.nextInt();\n\t    if(m1 != 0){\n\t\tint[] a = new int[m1*2];\n\t\tin1(a, m1*2);\n\t\tint m2 = kbd.nextInt();\n\t\tint[] b = new int[m2*2];\n\t\tin1(b, m2*2);\n\t\tint[][] m = new int[m1+m2][2];\n\t\tin2(a, b, m, m1+m2);\n\t\tsort(m, m1+m2);\n\n\t\t/*\n\t\tfor(int d=0; d<m1+m2; d++){\n\t\t    System.out.println(m[d][0]+\" \"+m[d][1]);\n\t\t}\n\t\t*/\n\n\t\tint ans = 0;\n\t\tint[] dp = new int[m1+m2];\n\t\tdp[0] = 1;\n\t\tfor(int i=1; i<m1+m2; i++){\n\t\t    int max = dp[0];\n\t\t    for(int j=0; j<i; j++){\n\t\t\tif(m[j][0]<m[i][0] && m[j][1]<m[i][1])\n\t\t\t    max = Math.max(max, dp[j]);\n\t\t    }\n\t\t    dp[i] = Math.max(dp[i], max+1);\n\t\t    ans = Math.max(ans, dp[i]);\n\t\t}\n\t\tSystem.out.println(ans);\n\t    }\n\t}\n    }\n\n    static void in1(int[] a, int m1){\n\tint i=0;\n\tfor(; i<m1; i++)\n\t    a[i] = kbd.nextInt();\n    }\n\n    static void in2(int[] a, int[] b, int[][] m, int l){\n\tint i=0, j=0;\n\tfor(; i<l; i++){\n\t    if(j<a.length){\n\t\tm[i][0] = a[j]; j++;\n\t\tm[i][1] = a[j]; j++;\n\t    }\n\t    else {\n\t\t//System.out.println(a.length);\n\t\tm[i][0] = b[j-a.length]; j++;\n\t\tm[i][1] = b[j-a.length]; j++;\n\t    }\n\t}\n    }\n\n    static void sort(int[][] m, int n){  //n = m1+m2\n\tint[] c = new int[2];\n\tint i=0;\n\tfor(; i<n; i++){\n\t    int min = i;\n\t    for(int j=i; j<n; j++){\n\t\tif(m[min][0]>m[j][0]) min=j;\n\t\telse if(m[min][0]==m[j][0] && m[min][1]>m[j][1]) min=j;\n\t\telse ;\n\t    }\n\t    c = m[i];\n\t    m[i] = m[min];\n\t    m[min] = c;\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.awt.CardLayout;\nimport java.awt.geom.Point2D;\nimport java.lang.reflect.Array;\nimport java.math.BigInteger;\nimport java.util.*;\n\npublic class Main {\t\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args){\n\t\tnew Main();\n\t}\n\tpublic Main(){\n\t\tnew AOJ0157();\n\t}\n\t\n\tclass AOJ0157{\n\t\tpublic AOJ0157(){\n\t\t\twhile(true){\n\t\t\t\tint a = in.nextInt();\n\t\t\t\tif(a==0)break;\n\t\t\t\tdoll taro[] = new doll[a];\n\t\t\t\tfor(int i=0;i<a;i++){\n\t\t\t\t\tint h = in.nextInt();\n\t\t\t\t\tint r = in.nextInt();\n\t\t\t\t\ttaro[i]=new doll(h, r);\n\t\t\t\t}\n\t\t\t\tint b = in.nextInt();\n\t\t\t\tdoll jiro[] = new doll[b];\n\t\t\t\tfor(int i=0;i<b;i++){\n\t\t\t\t\tint h = in.nextInt();\n\t\t\t\t\tint r = in.nextInt();\n\t\t\t\t\tjiro[i] = new doll(h, r);\n\t\t\t\t}\n\t\t\t\tdoll list[] = new doll[a+b];\n\t\t\t\tfor(int i=0;i<a;i++)list[i]=taro[i];\n\t\t\t\tfor(int i=a;i<a+b;i++)list[i]=jiro[i-a];\n\t\t\t\tArrays.sort(list);\n\t\t\t\tint n = list.length;\n\t\t\t\tint[] dp = new int[n];\n\t\t\t\tfor(int s=0;s<n;s++){\n\t\t\t\t\tfor(int i=s+1;i<n;i++){\n\t\t\t\t\t\tif(list[i].h<=list[s].h||list[i].r<=list[s].r)continue;\n\t\t\t\t\t\tdp[i] = dp[s]+1;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint result = 0;\n\t\t\t\tfor(int i=0;i<n;i++)result = Math.max(dp[i],result);\n\t\t\t\tSystem.out.println(result+1);\n\t\t\t}\n\t\t}\n\t\tclass doll implements Comparable<doll>{\n\t\t\tint h,r,men;\n\t\t\tpublic doll(int h,int r) {\n\t\t\t\tthis.h=h;\n\t\t\t\tthis.r=r;\n\t\t\t\tthis.men = h*r;\n\t\t\t}\n\t\t\tpublic int compareTo(doll a) {\n\t\t\t\tif(a.men>this.men)return -1;\n\t\t\t\telse if(a.men<this.men)return 1;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tclass AOJ0112{\n\t\tpublic AOJ0112() {\n\t\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\twhile(true){\n\t\t\t\tint n = in.nextInt();\n\t\t\t\tif(n==0)break;\n\t\t\t\tlist.add(n);\n\t\t\t}\n\t\t\tCollections.sort(list);\n\t\t\tfor(int i=0;i<list.size();i++)System.out.println(list.get(i));\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t}\n\t}\n\t\n\tclass AOJ0106{\n\t\tint n;\n\t\tint bfs(int kei,int kin){\n\t\t\tif(kei>=n)return kin;\n\t\t\tint[] ryou = {200,300,500};\n\t\t\tint[] kakaku = {380,550,850};\n\t\t\tint[] tani = {5,4,3};\n\t\t\tdouble wari[] = {0.8,0.85,0.88};\n\t\t\tint result = Integer.MAX_VALUE/2;\n\t\t\tif(n-kei>=1000)for(int i=0;i<3;i++){\n\t\t\t\tdouble kane = (kakaku[i]*tani[i])*wari[i];\n\t\t\t\tint souryou = ryou[i]*tani[i];\n\t\t\t\tresult = Math.min(result,bfs(souryou+kei,(int)kane+kin));\n\t\t\t}else for(int i=0;i<3;i++){\n\t\t\t\tresult = Math.min(result,bfs(kei+ryou[i],kin+kakaku[i]));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tpublic AOJ0106() {\n\t\t\twhile(true){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tif(n==0)break;\n\t\t\t\tSystem.out.println(bfs(0,0));\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t}\n\t\n\tclass AOJ2503{\n\t\tint MAX = 0;\n\t\tpublic AOJ2503() {\n\t\t\tScanner in = new Scanner(System.in);\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\n\t\t\tint[][] cost = new int[n][n];\n\n\t\t\tint[] dp = new int[n];\n\t\t\tfor(int i=0;i<n*n;i++){\n\t\t\t\tcost[i/n][i%n]=MAX;\n\t\t\t}\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tint a = in.nextInt();\n\t\t\t\tint b = in.nextInt();\n\t\t\t\tcost[a][b]=in.nextInt();\n\t\t\t}\t\n\t\t\t//\t\t\tTODO 一番大きいパスを0のポイントからn-1のポイントまでの\n\n\t\t\tfor(int s=1;s<n;s++){\n\t\t\t\tfor(int i=0;i<=s;i++){\n\t\t\t\t\tif(cost[i][s]==MAX)continue;\n\t\t\t\t\tdp[s]=Math.max(dp[s],dp[i]+cost[i][s]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int s=0;s<n;s++)for(int i=0;i<n;i++){\n\t\t\t\tif(cost[s][i]==MAX)continue;\n\t\t\t\tdp[i]=Math.max(dp[s]+cost[s][i],dp[i]);\n\t\t\t}\n\t\t\tfor(int i=0;i<n;i++)System.out.print(dp[i]+\" \");\n\t\t\tSystem.out.println();\n\t\t\tSystem.out.println(dp[n-1]);\n\t\t}\n\t}\n\n\n\n\tclass  AOJ0155{\n\t\tint d[];\n\t\tint n;\n\t\tint x[];\n\t\tint y[];\n\t\tint ban[];\n\t\tboolean sw;\n\t\tArrayList<Integer> result;\n\t\tint back[];\n\t\tint[][] cost;\n\t\tvoid dijkstra(int s,int g){\n\t\t\td = new int[n+1];d[s]=0;\n\t\t\tArrays.fill(d,0);\n\t\t\tboolean used[] = new boolean[n+1];\n\t\t\tint sumn[] = new int[n+1];\n\t\t\tint v=s;\n\t\t\tint save = -1;\n\t\t\tback = new int[n+1];\n\t\t\twhile(true){\n\t\t\t\tsave = v;\n\t\t\t\tv=-1;\n\t\t\t\tfor(int u=1;u<n+1;u++)if(!used[u]&&(v==-1||d[u]<d[v])){\n\t\t\t\t\tv=u;\n\t\t\t\t}\n\t\t\t\tSystem.out.println(v);\n\t\t\t\tif(v==-1)break;\n\t\t\t\telse back[v]=save;\n\t\t\t\tused[v]=true;\n\t\t\t\tfor(int u=1;u<n+1;u++)if(cost[v][u]!=100000)d[u]=Math.min(1+d[v],d[u]);\n\t\t\t}\n\t\t\tfor(int i=1;i<d.length;i++){\n\t\t\t\tSystem.out.println(i+\" \"+d[i]);\n\t\t\t}\n\t\t\tint now=g;\n\t\t\tresult = new ArrayList<Integer>();\n\t\t\tint a=0;\n\t\t\t//\t\t\tfor(int i=0;i<back.length;i++){\n\t\t\t//\t\t\t\tSystem.out.println(i+\" \"+back[i]);\n\t\t\t//\t\t\t}\n\t\t\twhile(true){\n\t\t\t\tif(cost[a][now]==1000000)sw = true;\n\t\t\t\tresult.add(now);\n\t\t\t\tif(now==s)break;\n\t\t\t\ta = now;\n\t\t\t\tnow=back[now];\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tpublic AOJ0155(){\n\t\t\tScanner in = new Scanner(System.in);\n\t\t\twhile(true){\n\t\t\t\tn = in.nextInt();\n\t\t\t\tif(n==0)break;\n\t\t\t\tcost = new int[n+1][n+1];\n\t\t\t\tban = new int[n+1];\n\t\t\t\tx = new int[n+1];\n\t\t\t\ty = new int[n+1];\n\t\t\t\tfor(int i=1;i<n+1;i++){\n\t\t\t\t\tban[i] = in.nextInt();\n\t\t\t\t\tx[ban[i]] = in.nextInt();\n\t\t\t\t\ty[ban[i]] = in.nextInt();\n\t\t\t\t}\n\t\t\t\tfor(int i=1;i<n+1;i++){\n\t\t\t\t\tfor(int s=i+1;s<n+1;s++){\n\t\t\t\t\t\tint x1 = x[i],y1= y[i],x2=x[s],y2=y[s];\n\t\t\t\t\t\tint costs = (int)Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));\t\t\n\t\t\t\t\t\tcost[i][s] = costs > 50 ? 1000000:costs;\n\t\t\t\t\t\tcost[s][i] = cost[i][s];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint kai = in.nextInt();\n\t\t\t\tfor(int i=0;i<kai;i++){\n\t\t\t\t\tint s = in.nextInt();\n\t\t\t\t\tint g = in.nextInt();\n\t\t\t\t\tdijkstra(s, g);\n//\t\t\t\t\tif(sw){\n//\t\t\t\t\t\tSystem.out.println(\"NA\");\n//\t\t\t\t\t\tbreak;\n//\t\t\t\t\t}\n\t\t\t\t\tfor(int a=result.size()-1;a>=0;a--){\n\t\t\t\t\t\tSystem.out.print(result.get(a)+\" \");\n\t\t\t\t\t}\n\t\t\t\t\tSystem.out.println();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tstatic class Matryoshka {\n\t\tint h, r;\n\t\tint degree;\n\t\tMatryoshka neighbor[];\n\t\tint cost;\n\n\t\tMatryoshka(int h, int r) {\n\t\t\tthis.h = h;\n\t\t\tthis.r = r;\n\t\t\tthis.degree = 0;\n\t\t\tthis.cost = 1;\n\t\t}\n\n\t\tstatic public Matryoshka[] cat(Matryoshka a[], Matryoshka b[]) {\n\t\t\tMatryoshka x[] = new Matryoshka[a.length + b.length];\n\t\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\t\tx[i] = a[i];\n\t\t\t}\n\t\t\tfor (int i = 0; i < b.length; i++) {\n\t\t\t\tx[a.length + i] = b[i];\n\t\t\t}\n\t\t\treturn x;\n\t\t}\n\t}\n\n\tpublic static void main(String args[]) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n, m;\n\t\tMatryoshka a[], b[];\n\t\tint max;\n\n\t\twhile (true) {\n\t\t\tmax = 1;\n\t\t\tn = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ta = new Matryoshka[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\ta[i] = new Matryoshka(h, r);\n\t\t\t}\n\t\t\tm = sc.nextInt();\n\t\t\tb = new Matryoshka[m];\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tint h = sc.nextInt();\n\t\t\t\tint r = sc.nextInt();\n\t\t\t\tb[i] = new Matryoshka(h, r);\n\t\t\t}\n\n\t\t\ta = Matryoshka.cat(a, b);\n\t\t\tn = n + m;\n\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\ta[i].neighbor = new Matryoshka[n];\n\t\t\t}\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tfor (int j = 0; j < n; j++) {\n\t\t\t\t\tif (a[i].h < a[j].h && a[i].r < a[j].r) {\n\t\t\t\t\t\ta[j].neighbor[a[j].degree] = a[i];\n\t\t\t\t\t\ta[j].degree++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tboolean flag = true;\n\t\t\twhile (flag) {\n\t\t\t\tflag = false;\n\t\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\t\tfor (int j = 0; j < a[i].degree; j++) {\n\t\t\t\t\t\tif (a[i].neighbor[j].cost < a[i].cost + 1) {\n\t\t\t\t\t\t\ta[i].neighbor[j].cost = a[i].cost + 1;\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif (max < a[i].cost) {\n\t\t\t\t\tmax = a[i].cost;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(max);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tstatic int n, m, N;\n\tstatic int[][] data;\n\tstatic int[] memo;\n\tstatic boolean[] use;\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\n\t\tfor (;;) {\n\t\t\tn = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdata = new int[201][2];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tdata[i][0] = sc.nextInt();\n\t\t\t\tdata[i][1] = sc.nextInt();\n\t\t\t}\n\t\t\tm = sc.nextInt();\n\t\t\tN = n + m;\n\t\t\tmemo = new int[N];\n\t\t\tuse = new boolean[N];\n\t\t\tfor (int i = n; i < N; i++) {\n\t\t\t\tdata[i][0] = sc.nextInt();\n\t\t\t\tdata[i][1] = sc.nextInt();\n\t\t\t}\n\t\t\t\n\t\t\tint ans = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tans = Math.max(ans, dfs(i));\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tstatic int dfs(int nowIndex) {\n\t\tif (memo[nowIndex] > 0) {\n\t\t\treturn memo[nowIndex];\n\t\t}\n\t\tint res = 1;\n\t\tuse[nowIndex] = true;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (!use[i]) {\n\t\t\t\tif (data[nowIndex][0] > data[i][0]\n\t\t\t\t\t\t&& data[nowIndex][1] > data[i][1]) {\n\t\t\t\t\tres = Math.max(res, dfs(i) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tuse[nowIndex] = false;\n\t\treturn memo[nowIndex] = res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\tint[] memo;\n\tArrayList<Integer> lh, lr;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0) return;\n\t\t\tlh = new ArrayList<Integer>();\n\t\t\tlr = new ArrayList<Integer>();\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlh.add(sc.nextInt());\n\t\t\t\tlr.add(sc.nextInt());\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor (int i = 0; i < m; i++) {\n\t\t\t\tlh.add(sc.nextInt());\n\t\t\t\tlr.add(sc.nextInt());\n\t\t\t}\n\t\t\tmemo = new int[lh.size()];\n\t\t\tArrays.fill(memo, -1);\n\t\t\tint max = 0;\n\t\t\tfor (int i = 0; i < lh.size(); i++) max = Math.max(max, solve(i));\n\t\t\tSystem.out.println(++max);\n\t\t}\n\t}\n\n\tint solve(int ii) {\n\t\tif (memo[ii] != -1) return memo[ii];\n\n\t\tint res = 0;\n\t\tfor (int i = 0; i < lh.size(); i++) {\n\t\t\tif (lh.get(i) < lh.get(ii) && lr.get(i) < lr.get(ii)) res = Math.max(res, solve(i) + 1);\n\t\t}\n\t\treturn memo[ii] = res;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic int n1,n2;\n\tstatic Doll[] dolls;\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tn1=cin.nextInt();\n\t\t\tif(n1==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint[][] aaa = new int[n1][2];\n\t\t\tfor(int i = 0;i<n1;i++){\n\t\t\t\taaa[i][0] = cin.nextInt();\n\t\t\t\taaa[i][1] = cin.nextInt();\n\t\t\t}\n\t\t\tn2=cin.nextInt();\n\t\t\tdolls = new Doll[n1+n2];\n\t\t\tfor(int i = 0;i<n1;i++){\n\t\t\t\tdolls[i]=new Doll(aaa[i][0],aaa[i][1]);\n\t\t\t}\n\t\t\tfor(int i = 0;i<n2;i++){\n\t\t\t\tint a = cin.nextInt();\n\t\t\t\tint b = cin.nextInt();\n\t\t\t\tdolls[n1+i]=new Doll(a,b);\n\t\t\t}\n\t\t\tArrays.sort(dolls);\n\t\t\tint max=0;\n\t\t\tfor(int i = n1+n2-1;i>=0;i--){\n\t\t\t\tfor(int j =i;j<n1+n2;j++){\n\t\t\t\t\tif(dolls[i].h < dolls[j].h && dolls[i].r < dolls[j].r){\n\t\t\t\t\t\tdolls[i].max = Math.max(dolls[i].max,dolls[j].max+1);\n\t\t\t\t\t\tmax = Math.max(dolls[i].max, max);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(max);\n\t\t\t\n\t\t}\n\t}\n}\nclass Doll implements Comparable{\n\tint h;\n\tint r;\n\tint max=1;\n\tDoll(int a,int b){\n\t\th=a;r=b;\n\t\tmax=1;\n\t}\n\tpublic int compareTo(Object o) {\n\t\tDoll d = (Doll)o;\n\t\treturn this.h-d.h;\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n    static Scanner kbd = new Scanner(System.in);\n    public static void main(String[] args) {\n\t\n\twhile(kbd.hasNext()){\n\t    int m1  = kbd.nextInt();\n\t    if(m1 != 0){\n\t\tint[] a = new int[m1*2];\n\t\tin1(a, m1*2);\n\t\tint m2 = kbd.nextInt();\n\t\tint[] b = new int[m2*2];\n\t\tin1(b, m2*2);\n\t\tint[][] m = new int[m1+m2][2];\n\t\tin2(a, b, m, m1+m2);\n\t\tsort(m, m1+m2);\n\n\t\tint ans = 0;\n\t\tint[] dp = new int[m1+m2];\n\t\tdp[0] = 1;\n\t\tfor(int i=1; i<m1+m2; i++){\n\t\t    int max = dp[0];\n\t\t    for(int j=0; j<i; j++){\n\t\t\tif(m[j][0]<m[i][0] && m[j][1]<m[i][1])\n\t\t\t    max = Math.max(max, dp[j]);\n\t\t    }\n\t\t    dp[i] = Math.max(dp[i], max+1);\n\t\t    ans = Math.max(ans, dp[i]);\n\t\t}\n\t\tSystem.out.println(ans);\n\t    }\n\t}\n    }\n\n    static void in1(int[] a, int m1){\n\tint i=0;\n\tfor(; i<m1; i++)\n\t    a[i] = kbd.nextInt();\n    }\n\n    static void in2(int[] a, int[] b, int[][] m, int l){\n\tint i=0, j=0;\n\tfor(; i<l; i++){\n\t    if(j<a.length){\n\t\tm[i][0] = a[j]; j++;\n\t\tm[i][1] = a[j]; j++;\n\t    }\n\t    else {\n\t\t//System.out.println(a.length);\n\t\tm[i][0] = b[j-a.length]; j++;\n\t\tm[i][1] = b[j-a.length]; j++;\n\t    }\n\t}\n    }\n\n    static void sort(int[][] m, int n){\n\tint[] c = new int[2];\n\tint i=0;\n\tfor(; i<n; i++){\n\t    int min = i;\n\t    for(int j=i; j<n; j++){\n\t\tif(m[min][0]>m[j][0] && m[min][1]>m[j][1]) min=j;\n\t\telse if(m[min][0]==m[j][0] && m[min][1]>m[j][1]) min=j;\n\t\telse ;\n\t    }\n\t    c = m[i];\n\t    m[i] = m[min];\n\t    m[min] = c;\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\t//DP\n\tint DP(int xy[][],int DP[][]){\n\t\tfor(int i = 1;i < 1001;i++){\n\t\t\tfor(int j = 1;j < 1001;j++){\n\t\t\t\tif(xy[i][j] == 1){\n\t\t\t\t\tif(DP[i][j-1] < DP[i-1][j]){\n\t\t\t\t\t\tDP[i][j] = DP[i][j-1] + 1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tDP[i][j] = DP[i-1][j] + 1;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(DP[i][j-1] < DP[i-1][j]){\n\t\t\t\t\t\tDP[i][j] = DP[i-1][j];\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tDP[i][j] = DP[i][j-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn DP[1000][1000];\n\t}\n\t//最短距離\n\tvoid doIt() { \n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0)break;\n\t\t\tint xy[][] = new int[1001][1001];\n\t\t\tint DP[][] = new int[1001][1001];\n\t\t\tfor(int i = 0;i < n;i++){\n\t\t\t\tint a = sc.nextInt();\n\t\t\t\tint b = sc.nextInt();\n\t\t\t\txy[a][b] = 1;\n\t\t\t}\n\t\t\tint m = sc.nextInt();\n\t\t\tfor(int i = 0;i < m;i++){\n\t\t\t\tint a = sc.nextInt();\n\t\t\t\tint b = sc.nextInt();\n\t\t\t\txy[a][b] = 1;\n\t\t\t}\n\t\t\tSystem.out.println(DP(xy,DP));\n\t\t}\n     }\n    public static void main(String[] args) {\n    \t// TODO Auto-generated method stub\n    \tnew Main().doIt();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            int[][] mato1 = new int[n][2];\n            for(int i=0; i<n; i++){\n                mato1[i][0] = sc.nextInt(); \n                mato1[i][1] = sc.nextInt();\n            }\n            int m = sc.nextInt();\n            int[][] mato2 = new int[m][2];\n            for(int i=0; i<m; i++){\n                mato2[i][0] = sc.nextInt();\n                mato2[i][1] = sc.nextInt();\n            }\n            int[][] mato = new int[n+m][2];\n            int idx = 0;\n            for(int i=0; i<n; i++) mato[idx++] = mato1[i];\n            for(int i=0; i<m; i++) mato[idx++] = mato2[i];\n\n            Arrays.sort(mato, new Comparator<int[]>(){\n                    public int compare(int[] a, int[] b){\n                        if(a[0]<b[0]) return -1;\n                        if(a[0]>b[0]) return 1;\n                        if(a[1]<b[1]) return -1;\n                        if(a[1]>b[1]) return 1;\n                        return 0;\n                    }\n                });\n\n            int[] dp = new int[n+m];\n            dp[0] = 1;\n            int max = 0;\n            for(int i=1; i<n+m; i++){\n                for(int j=0; j<i; j++){\n                    if(mato[i][0]>mato[j][0] && mato[i][1]>mato[j][1]){\n                        dp[i] = Math.max(dp[i], dp[j] + 1);\n                        max = Math.max(max, dp[i]);\n                    }\n                }\n            }\n            System.out.println(max);\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.Math.*;\nimport static java.lang.System.out;\n\n// AOJ4\npublic class Main {\n\tfinal Scanner sc=new Scanner(System.in);\n\tfinal int[] vx={0,1,0,-1}, vy={-1,0,1,0};\n\tstatic class Point{\n\t\tint x, y;\n\t\tPoint(int x, int y){\tthis.x=x;\tthis.y=y;}\n\t\tPoint(){\tthis.x=0; this.y=0;}\n\t\t@Override public String toString(){\treturn \"(\"+this.x+\",\"+this.y+\")\";}\n\t\tstatic boolean ok(int x,int y,int X,int Y,int min){\treturn (min<=x&&x<X)&&(min<=y&&y<Y);}\n\t\tstatic boolean ok(int x,int y,int X,int Y){\treturn ok(x,y,X,Y,0);}\n\t}\n\tpublic static void main(String[] args) {\n\t\tnew Main().AOJ0157();\n\t}\n\t\n\tvoid AOJ0157(){\n\t\twhile(sc.hasNext()){\n\t\t\tint N=sc.nextInt();\n\t\t\tif(N==0)\tbreak;\n\t\t\tArrayList<C0157> m=new ArrayList<C0157>();\n\t\t\tfor(int i=0; i<N; i++)\tm.add(new C0157(sc.nextInt(),sc.nextInt()));\n\t\t\tint M=sc.nextInt();\n\t\t\tfor(int i=0; i<M; i++)\tm.add(new C0157(sc.nextInt(),sc.nextInt()));\n\t\t\tCollections.sort(m);\n\t\t\tint ans=0;\tC0157 now=null,last=null;\n\t\t\tfor(int i=N+M-1; i>=0; i--){\n\t\t\t\tif(last!=null)\tif(now.h<=last.h && now.r<=last.r)\tbreak;\n\t\t\t\tnow=m.get(i);\n\t\t\t\tm.remove(i);\n\t\t\t\tans=max(ans,solve0157(m,now,1));\n\t\t\t\tm.add(i,now);\n\t\t\t\tlast=now;\n\t\t\t}\n\t\t\tout.println(ans);\n\t\t}\n\t}\n\tint solve0157(ArrayList<C0157> M,C0157 now,int c){\n\t\tint ans=c;\n\t\tArrayList<C0157> m=new ArrayList<C0157>(M);\n\t\tfor(int i=m.size()-1; i>=0; i--){\n\t\t\tC0157 temp=m.get(i);\n\t\t\tif(now.r>temp.r && now.h>temp.h){\n\t\t\t\tm.remove(i);\n\t\t\t\tans=max(ans,solve0157(m,temp,c+1));\n\t\t\t\tm.add(i, temp);\n\t\t\t}else if(now.r<temp.r && now.h<temp.h){\n\t\t\t\tm.remove(i);\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n\tclass C0157 implements Comparable<C0157>{\n\t\tint r,h;\n\t\tC0157(int h,int r){\tthis.r=r;\tthis.h=h;}\n\t\t@Override public int compareTo(C0157 o){\n\t\t\tif(this.r<o.r)\treturn -1;\n\t\t\tif(this.r>o.r)\treturn 1;\n\t\t\tif(this.h<o.h)\treturn -1;\n\t\t\tif(this.h>o.h)\treturn 1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\t// 途中\n\tvoid AOJ0170(){\n\t\twhile(sc.hasNext()){\n\t\t\tint N=sc.nextInt();\n\t\t\tif(N==0)\tbreak;\n\t\t\tC0170[] f=new C0170[N];\n\t\t\tfor(int i=0; i<N; i++)\tf[i]=new C0170(sc.next(),sc.nextInt(),sc.nextInt());\n\t\t\tArrays.sort(f);\n\t\t\tint[] ss=new int[N];\n\t\t\t\n\t\t\tfor(int i=0; i<N; i++)\tss[i]=f[i].w+(i>0?ss[i-1]:0);\n\t\t\tfor(int i=0; i<N; i++){\n\t\t\t\tif(f[i].s<ss[i]);\n\t\t\t}\n\t\t}\n\t}\n\tclass C0170 implements Comparable<C0170>{\n\t\tString name;\tint w,s;\n\t\tC0170(String n,int w,int s){\tthis.name=n;\tthis.w=w;\tthis.s=s;}\n\t\t@Override public int compareTo(C0170 o){\n\t\t\tif(this.w<o.w)\treturn -1;\n\t\t\tif(this.w>o.w)\treturn 1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\tvoid AOJ0169(){\n\t\twhile(sc.hasNext()){\n\t\t\tString[] s=sc.nextLine().split(\" \");\n\t\t\tif(s[0].equals(\"0\"))\tbreak;\n\t\t\tint ans=0,c=0;\n\t\t\tfor(String i:s){\n\t\t\t\tc+=(i.equals(\"1\")?1:0);\n\t\t\t\tans+=solve0169(i);\n\t\t\t}\n\t\t\twhile(--c>=0){\n\t\t\t\tif(ans+10>21)\tbreak;\n\t\t\t\tans+=10;\n\t\t\t}\n\t\t\tout.println((ans<=21?ans:0));\n\t\t}\n\t}\n\tint solve0169(String s){\n\t\tint r=Integer.parseInt(s);\n\t\tif(r>=10)\treturn 10;\n\t\treturn r;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[][] ns = new int[n][2];\n\t\t\twhile (n-- > 0) {\n\t\t\t\tns[n][0] = scanner.nextInt();\n\t\t\t\tns[n][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint m = scanner.nextInt();\n\t\t\tint[][] ms = new int[m][2];\n\t\t\twhile (m-- > 0) {\n\t\t\t\tms[m][0] = scanner.nextInt();\n\t\t\t\tms[m][1] = scanner.nextInt();\n\t\t\t}\n\t\t\tint len = ns.length + ms.length;\n\t\t\tint[][] num = Arrays.copyOf(ns, len);\n\t\t\tSystem.arraycopy(ms, 0, num, ns.length, ms.length);\n\t\t\tArrays.sort(num, new Comparator<int[]>() {\n\t\t\t\t@Override\n\t\t\t\tpublic int compare(int[] a, int[] b) {\n\t\t\t\t\tif (a[0] == b[0]) {\n\t\t\t\t\t\treturn a[1] - b[1];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[0] - b[0];\n\t\t\t\t}\n\t\t\t});\n\t\t\tint ans1 = slove(num, len);\n\t\t\tArrays.sort(num, new Comparator<int[]>() {\n\t\t\t\t@Override\n\t\t\t\tpublic int compare(int[] a, int[] b) {\n\t\t\t\t\tif (a[1] == b[1]) {\n\t\t\t\t\t\treturn a[0] - b[0];\n\t\t\t\t\t}\n\t\t\t\t\treturn a[1] - b[1];\n\t\t\t\t}\n\t\t\t});\n\t\t\tint ans2 = slove(num, len);\n\t\t\tSystem.out.println(Math.max(ans1, ans2));\n\t\t}\n\t}\n\n\tprivate static int slove(int[][] num, int len) {\n\t\tint[] now = new int[2];\n\t\tnow[0] = num[0][0];\n\t\tnow[1] = num[0][1];\n\t\tint count = 1;\n\t\tfor (int i = 1; i < len; i++) {\n\t\t\tif (now[0] < num[i][0] && now[1] < num[i][1]) {\n\t\t\t\tcount++;\n\t\t\t\tnow[0] = num[i][0];\n\t\t\t\tnow[1] = num[i][1];\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\n\nimport static java.util.Arrays.*;\nimport static java.util.Collections.*;\nimport static java.lang.Math.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\t//long INF = 1L << 62;\n\tdouble EPS = 1e-10;\n\tboolean[][] use;\n\tMat[] mats;\n\n\tint H = 1000, R = 1000;\n\t\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor (;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif (n == 0) break;\n\t\t\tuse = new boolean[H+1][R+1];\n\t\t\tArrayList<Mat> mats = new ArrayList<Mat>();\n\t\t\tfor (int i=0;i<n;i++) mats.add(new Mat(sc.nextInt(), sc.nextInt()));\n\t\t\t\n\t\t\tint m = sc.nextInt();\n\t\t\tfor (int i=0;i<m;i++) mats.add(new Mat(sc.nextInt(), sc.nextInt()));\n\t\t\tn += m;\n\t\t\t\n\t\t\tthis.mats = mats.toArray(new Mat[]{});\n\t\t\tsort(mats);\n\t\t\tfor (Mat mat : mats) use[mat.h][mat.r] = true;\n\t\t\t\n\t\t\tmem = new int[H+1][R+1];\n\t\t\tfor (int[] a: mem) fill(a, -1);\n\t\t\t\n\t\t\tSystem.out.println(solve(H, R));\n\t\t}\n\t}\n\t\n\tint[][] mem;\n\tint solve(int h, int r) {\n\t\tif (mem[h][r] >= 0) return mem[h][r];\n\t\t\n\t\tint max = 0;\n\t\tfor (int i=0;i<h;i++) for (int j=0;j<r;j++) if (use[i][j]) {\n\t\t\tmax = max(max, solve(i, j)+1);\n\t\t}\n\t\t\n\t\treturn mem[h][r] = max;\n\t}\n\t\n\tclass Mat implements Comparable<Mat>{\n\t\tint h, r;\n\t\tMat(int h, int r) {\n\t\t\tthis.h = h;\n\t\t\tthis.r = r;\n\t\t}\n\n\t\t@Override\n\t\tpublic int compareTo(Mat o) {\n\t\t\t// TODO ティツ?ェテ・ツ仰陛ァツ板淌ヲツ按静」ツ?陛」ツつ古」ツ?淌」ツδ。テ」ツつステ」ツδε」ツδ嘉」ツδサテ」ツつケテ」ツつソテ」ツδ?\n\t\t\tif (h != o.h) return h - o.h;\n\t\t\treturn r - o.r;\n\t\t}\n\t\t\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return h * r - other.h * other.r;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                PriorityQueue<Doll> pq = new PriorityQueue<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    pq.Enqueue(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    pq.Enqueue(temp);\n                }\n\n                Doll cur = pq.Dequeue();\n                int count = 1;\n\n                while (pq.Count > 0)\n                {\n                    Doll next = pq.Dequeue();\n\n                    if (cur.h > next.h && cur.r > next.r)\n                    {\n                        count++;\n                        cur = next;\n                    }\n                }\n                sb.AppendLine(count.ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n\n    class PriorityQueue<T> where T : IComparable\n    {\n        List<T> heap;\n        int size;\n\n        public PriorityQueue()\n        {\n            heap = new List<T>();\n        }\n\n        public int Count { get { return size; } }\n\n        public void Enqueue(T x)\n        {\n            heap.Add(x);\n            int i = size++;\n\n            while (i > 0)\n            {\n                int p = (i - 1) / 2;\n\n                if (Compare(heap[p], x) <= 0) break;\n\n                heap[i] = heap[p];\n                i = p;\n            }\n            heap[i] = x;\n        }\n\n        public T Dequeue()\n        {\n            T ret = heap[0];\n            T x = heap[--size];\n\n            int i = 0;\n            while (i * 2 + 1 < size)\n            {\n                int a = i * 2 + 1;\n                int b = i * 2 + 2;\n\n                if (b < size && Compare(heap[b], heap[a]) < 0)\n                    a = b;\n                if (Compare(heap[a], x) >= 0)\n                    break;\n\n                heap[i] = heap[a];\n                i = a;\n            }\n            heap[i] = x;\n            heap.RemoveAt(size);\n            return ret;\n        }\n\n        private int Compare(T x, T y)\n        {\n            return y.CompareTo(x);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return size - other.size;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                int[] memo = Enumerable.Repeat(1, list.Count).ToArray();\n\n                for (int i = 0; i < list.Count; i++)\n                {\n                    for (int j = 0; j < i; j++)\n                    {\n                        if (list[i].h > list[j].h && list[i].r > list[j].r)\n                        {\n                            memo[i] = Math.Max(memo[i], memo[j] + 1);\n                        }\n                    }\n                }\n                sb.AppendLine(memo.Max().ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class Doll\n{\n    public int h { get; set; }\n    public int r { get; set; }\n}\n\npublic class Hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            var ds = new List<Doll>();\n            readData(ds, n);\n            var m = int.Parse(Console.ReadLine().Trim());\n            readData(ds, m);\n            var ds1 = ds.OrderBy(x => x.h).ThenBy(x => x.r).ToArray();\n            var ret1 = getAns(ds1);\n            Console.WriteLine(ret1);\n        }\n    }\n    public static int getAns (Doll[] d )\n    {\n        var dL = d.Length;\n        var h0 = d[0].h;\n        var r0 = d[0].r;\n        var ret = 1;\n        for (int i = 1; i < dL; i++)\n            if (d[i].h > h0 && d[i].r > r0)\n            {\n                ret++;\n                h0 = d[i].h;\n                r0 = d[i].r;\n            }\n        return ret;\n    }\n    public static void  readData (List<Doll> d , int a )\n    {\n        for (int i = 0; i < a; i++)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var h = int.Parse(line[0]);\n            var r = int.Parse(line[1]);\n            d.Add(new Doll { h = h, r = r });\n        }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class Doll\n{\n    public int h { get; set; }\n    public int r { get; set; }\n}\n\npublic class Hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            var ds = new List<Doll>();\n            readData(ds, n);\n            var m = int.Parse(Console.ReadLine().Trim());\n            readData(ds, m);\n            var ds1 = ds.OrderBy(x => x.h).ThenBy(x => x.r).ToArray();\n            var ret1 = getAns(ds1);\n            var ds2 = ds.OrderBy(x => x.r).ThenBy(x => x.h).ToArray();\n            var ret2 = getAns(ds2);\n            Console.WriteLine(Math.Max(ret1, ret2));\n        }\n    }\n    public static int getAns(Doll[] d)\n    {\n        var dL = d.Length;\n        var h0 = d[0].h;\n        var r0 = d[0].r;\n        var ret = 1;\n        for (int i = 1; i < dL; i++)\n            if (d[i].h > h0 && d[i].r > r0)\n            {\n                ret++;\n                h0 = d[i].h;\n                r0 = d[i].r;\n            }\n        return ret;\n    }\n    public static void readData(List<Doll> d, int a)\n    {\n        for (int i = 0; i < a; i++)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var h = int.Parse(line[0]);\n            var r = int.Parse(line[1]);\n            d.Add(new Doll { h = h, r = r });\n        }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\n\nclass Myon\n{\n    public Myon() { }\n    public static int Main()\n    {\n        new Myon().run();\n        return 0;\n    }\n\n    void run()\n    {\n        Scanner cin = new Scanner();\n        while (true)\n        {\n            int n = cin.nextInt();\n            if (n == 0) break;\n            List<int> lnums = new List<int>();\n            for (int i = 0; i < n; i++)\n            {\n                lnums.Add(cin.nextInt() * 2000 + cin.nextInt());\n            }\n            int m = cin.nextInt();\n            for (int i = 0; i < m; i++)\n            {\n                lnums.Add(cin.nextInt() * 2000 + cin.nextInt());\n            }\n            int[] nums = lnums.ToArray();\n            Array.Sort(nums);\n            int len = nums.Length;\n            int[] h = new int[len];\n            int[] r = new int[len];\n            for (int i = 0; i < len; i++)\n            {\n                h[i] = nums[i] / 2000;\n                r[i] = nums[i] % 2000;\n            }\n\n            int[] dp = new int[len];\n            for (int i = 0; i < len; i++)\n            {\n                dp[i] = 1;\n            }\n\n            int ret = 0;\n            for (int i = 0; i < len; i++)\n            {\n                for (int j = 1; j < len; j++)\n                {\n                    if (h[i] < h[j] && r[i] < r[j])\n                    {\n                        dp[j] = Math.Max(dp[j], dp[i] + 1);\n                    }\n                }\n                ret = Math.Max(dp[i], ret);\n            }\n            Console.WriteLine(ret);\n        }\n\n    }\n\n    bool ok(int y, int x)\n    {\n        return y >= 0 && y < h && x >= 0 && x < w;\n    }\n\n}\n\nclass Scanner\n{\n    string[] s;\n    int i;\n\n    char[] cs = new char[] { ' ' };\n\n    public Scanner()\n    {\n        s = new string[0];\n        i = 0;\n    }\n\n    public string next()\n    {\n        if (i < s.Length) return s[i++];\n        s = Console.ReadLine().Split(cs, StringSplitOptions.RemoveEmptyEntries);\n        i = 0;\n        return s[i++];\n    }\n\n    public int nextInt()\n    {\n        return int.Parse(next());\n    }\n\n    public long nextLong()\n    {\n        return long.Parse(next());\n    }\n\n}"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class Doll\n{\n    public int h { get; set; }\n    public int r { get; set; }\n}\n\npublic class Hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            var ds = new List<Doll>();\n            readData(ds, n);\n            var m = int.Parse(Console.ReadLine().Trim());\n            readData(ds, m);\n            var ds1 = ds.OrderBy(x => x.h).ThenBy(x => x.r).ToArray();\n            var ret1 = getAns(ds1);\n            var ds2 = ds.OrderBy(x => x.r).ThenBy(x => x.h).ToArray();\n            var ret2 = getAns(ds2);\n            Console.WriteLine(Math.Max(ret1, ret2);\n        }\n    }\n    public static int getAns(Doll[] d)\n    {\n        var dL = d.Length;\n        var h0 = d[0].h;\n        var r0 = d[0].r;\n        var ret = 1;\n        for (int i = 1; i < dL; i++)\n            if (d[i].h > h0 && d[i].r > r0)\n            {\n                ret++;\n                h0 = d[i].h;\n                r0 = d[i].r;\n            }\n        return ret;\n    }\n    public static void readData(List<Doll> d, int a)\n    {\n        for (int i = 0; i < a; i++)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var h = int.Parse(line[0]);\n            var r = int.Parse(line[1]);\n            d.Add(new Doll { h = h, r = r });\n        }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System.Collections.Generic;\nusing System.Linq;\nusing System;\n\npublic class D\n{\n    public int h { get; set; }\n    public int r { get; set; }\n}\n\npublic class Hello\n{\n    public const int INF = 1000000001;\n    public static void Main()\n    {\n        while (true)\n        {\n            var d = new List<D>();\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            readData(d, n);\n            var m = int.Parse(Console.ReadLine().Trim());\n            readData(d, m);\n            var a = d.OrderBy(x => x.h).ThenBy(x =>x.r).Select(x => x.r).ToArray();\n            var ret1 = goDP(a);\n            //var b = d.OrderBy(x => x.r).ThenBy(x =>x.h).Select(x => x.h).ToArray();\n            //var ret2 = goDP(b);\n            Console.WriteLine(ret1);\n        }\n    }\n    public static void readData (List<D> d , int n)\n    {\n        for (int i = 0; i < n; i++)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var h = int.Parse(line[0]);\n            var r = int.Parse(line[1]);\n            d.Add(new D { h = h, r = r });\n        }\n    }\n    public static int goDP(int[] a)\n    {\n        var n = a.Length;\n        var dp = new int[n];\n        for (int i = 0; i < n; i++) dp[i] = INF;\n        for (int i = 0; i < n; i++)\n        {\n            var w = LowerBound(dp, a[i]);\n            dp[w] = a[i];\n        }\n        return LowerBound(dp, INF);\n    }\n    public static int LowerBound<T>(T[] arr, int start, int end, T value, IComparer<T> comparer)\n    {\n        int low = start;\n        int high = end;\n        int mid;\n        while (low < high)\n        {\n            mid = ((high - low) >> 1) + low;\n            if (comparer.Compare(arr[mid], value) < 0)\n                low = mid + 1;\n            else\n                high = mid;\n        }\n        return low;\n    }\n    public static int LowerBound<T>(T[] arr, T value) where T : IComparable\n    {\n        return LowerBound(arr, 0, arr.Length, value, Comparer<T>.Default);\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return size - other.size;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                int[] memo = new int[list.Count];\n                int max = 0;\n\n                for (int i = 0; i < list.Count; i++)\n                {\n                    memo[i] = 1;\n\n                    for (int j = 0; j < i; j++)\n                    {\n                        if (list[i].h > list[j].h && list[i].r > list[j].r)\n                        {\n                            memo[i] = Math.Max(memo[i], memo[j] + 1);\n                        }\n                    }\n                }\n                sb.AppendLine(memo.Max().ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return size - other.size;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                int[] memo = new int[list.Count];\n\n                for (int i = 0; i < list.Count; i++)\n                {\n                    memo[i] = 1;\n\n                    for (int j = 0; j < i; j++)\n                    {\n                        if (list[i].h > list[j].h && list[i].r > list[j].r)\n                        {\n                            memo[i] = Math.Max(memo[i], memo[j] + 1);\n                        }\n                    }\n                }\n                sb.AppendLine(memo.Max().ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return other.size - size;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                int[] memo = new int[list.Count];\n\n                for (int i = 0; i < list.Count; i++)\n                {\n                    for (int j = i + 1; j < list.Count; j++)\n                    {\n                        if (list[i].h > list[j].h && list[i].r > list[j].r)\n                        {\n                            memo[i]++;\n                        }\n                    }\n                }\n\n                Array.Sort(memo);\n                int num = memo.Length;\n\n                for (int i = 1; i < num; i++)\n                {\n                    if (memo[i - 1] == memo[i]) num--;\n                }\n                sb.AppendLine(num.ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System.Collections.Generic;\nusing System.Linq;\nusing System;\n\npublic class D\n{\n    public int h { get; set; }\n    public int r { get; set; }\n}\n\npublic class Hello\n{\n    public const int INF = 1000000001;\n    public static void Main()\n    {\n        while (true)\n        {\n            var d = new List<D>();\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            readData(d, n);\n            var m = int.Parse(Console.ReadLine().Trim());\n            readData(d, m);\n            var a = d.OrderBy(x => x.h).Select(x => x.r).ToArray();\n            var ret1 = goDP(a);\n            var b = d.OrderBy(x => x.r).Select(x => x.h).ToArray();\n            var ret2 = goDP(b);\n            Console.WriteLine(Math.Max(ret1, ret2));\n        }\n    }\n    public static void readData (List<D> d , int n)\n    {\n        for (int i = 0; i < n; i++)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var h = int.Parse(line[0]);\n            var r = int.Parse(line[1]);\n            d.Add(new D { h = h, r = r });\n        }\n    }\n    public static int goDP(int[] a)\n    {\n        var n = a.Length;\n        var dp = new int[n];\n        for (int i = 0; i < n; i++) dp[i] = INF;\n        for (int i = 0; i < n; i++)\n        {\n            var w = LowerBound(dp, a[i]);\n            dp[w] = a[i];\n        }\n        return LowerBound(dp, INF);\n    }\n    public static int LowerBound<T>(T[] arr, int start, int end, T value, IComparer<T> comparer)\n    {\n        int low = start;\n        int high = end;\n        int mid;\n        while (low < high)\n        {\n            mid = ((high - low) >> 1) + low;\n            if (comparer.Compare(arr[mid], value) < 0)\n                low = mid + 1;\n            else\n                high = mid;\n        }\n        return low;\n    }\n    public static int LowerBound<T>(T[] arr, T value) where T : IComparable\n    {\n        return LowerBound(arr, 0, arr.Length, value, Comparer<T>.Default);\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace AOJ.Volume1\n{\n    public class RussianDolls\n    {\n        private struct Doll\n        {\n            public int Height;\n            public int Radius;\n        }\n\n        private static void ReadDollSpec(int n, List<Doll> dolls)\n        {\n            for (int i = 0; i < n; i++)\n            {\n                var input = Console.ReadLine().Split(' ');\n                Doll d;\n                d.Height = int.Parse(input[0]);\n                d.Radius = int.Parse(input[1]);\n                dolls.Add(d);\n            }\n        }\n\n        public static int Main()\n        {\n            while (true)\n            {\n                var dolls = new List<Doll>();\n\n                // 一郎くんの人形\n                int n = int.Parse(Console.ReadLine());\n                if (n == 0) { break; }\n                ReadDollSpec(n, dolls);\n\n                // 二郎くんの人形\n                n = int.Parse(Console.ReadLine());\n                ReadDollSpec(n, dolls);\n\n                int tmp_h = 0;\n                int tmp_r = 0;\n                int k = 0;\n                foreach (var d in dolls.OrderBy(x => x.Height))\n                {\n                    if (tmp_h < d.Height && tmp_r < d.Radius)\n                    {\n                        k++;\n                        tmp_h = d.Height;\n                        tmp_r = d.Radius;\n                    }\n                }\n\n                tmp_h = 0;\n                tmp_r = 0;\n                int t = 0;\n                foreach (var d in dolls.OrderBy(x => x.Radius))\n                {\n                    if (tmp_h < d.Height && tmp_r < d.Radius)\n                    {\n                        t++;\n                        tmp_h = d.Height;\n                        tmp_r = d.Radius;\n                    }\n                }\n\n                Console.WriteLine(Math.Max(k, t));\n            }\n            return 0;\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0157\n{\n    public class Matryoshka\n    {\n        public int Height { get; }\n        public int Radius { get; }\n        public Matryoshka(int[] items) { Height = items[0]; Radius = items[1]; }\n    }\n\n    public class Program\n\n    {\n        public static void Main(string[] args)\n        {\n            while (true)\n            {\n                List<Matryoshka> mats = new List<Matryoshka>();\n\n                int n = RInt(); if (n == 0) break;\n                for (int i = 0 ; i < n ; i++) mats.Add(new Matryoshka(RIntAr()));\n\n                int m = RInt();\n                for (int i = 0 ; i < m ; i++) mats.Add(new Matryoshka(RIntAr()));\n\n                List<int> rads = mats.OrderBy(x => x.Height).ThenByDescending(x => x.Radius).Select(x => x.Radius).ToList();\n                Console.WriteLine(LIS(rads));\n            }\n        }\n\n        private static int LIS(List<int> rads)\n        {\n            int[] dp = new int[rads.Count()];\n            for (int i = 0 ; i < dp.Count() ; i++) { dp[i] = int.MaxValue; }\n            for (int i = 0 ; i < rads.Count() ; i++)\n            {\n                dp[LowerBound(dp, rads[i])] = rads[i];\n            }\n\n            return LowerBound(dp, int.MaxValue);\n        }\n\n        public static int LowerBound<T>(T[] arr, int start, int end, T value, IComparer<T> comparer)\n        {\n            int low = start;\n            int high = end;\n            int mid;\n            while (low < high)\n            {\n                mid = ((high - low) >> 1) + low;\n                if (comparer.Compare(arr[mid], value) < 0)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            return low;\n        }\n\n        public static int LowerBound<T>(T[] arr, T value) where T : IComparable\n        {\n            return LowerBound(arr, 0, arr.Length, value, Comparer<T>.Default);\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RStAr(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RIntAr(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RLongAr(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RDoubleAr(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\n\nclass Program\n{ \n\tpublic static int Main()\n\t{\n\t\tScanner cin = new Scanner();\n\t\twhile (true)\n\t\t{\n\t\t\tint n = cin.nextInt();\n\t\t\tif (n == 0)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbool[,] hasdoll = new bool[1000, 1000];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t{\n\t\t\t\thasdoll[cin.nextInt(), cin.nextInt()] = true;\n\t\t\t}\n\t\t\tint m = cin.nextInt();\n\t\t\tfor (int i = 0; i < m; i++)\n\t\t\t{\n\t\t\t\thasdoll[cin.nextInt(), cin.nextInt()] = true;\n\t\t\t}\n\t\t\tint[,] dp = new int[1000, 1000];\n\t\t\tfor (int i = 0; i < 1000; i++)\n\t\t\t{\n\t\t\t\tfor (int j = 0; j < 1000; j++)\n\t\t\t\t{\n\t\t\t\t\tif (hasdoll[i, j])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (i > 0 && j > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = dp[i - 1, j - 1] + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = Math.Max(dp[i, j], hasdoll[i - 1, j] ? dp[i - 1, j] : dp[i - 1, j] + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = Math.Max(dp[i, j], hasdoll[i, j - 1] ? dp[i, j - 1] : dp[i, j - 1] + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i == 0 && j == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (i > 0 && j > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = dp[i - 1, j - 1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = Math.Max(dp[i, j], hasdoll[i - 1, j] ? dp[i - 1, j] - 1: dp[i - 1, j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = Math.Max(dp[i, j], hasdoll[i, j - 1] ? dp[i, j - 1] - 1: dp[i, j - 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i == 0 && j == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i, j] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tConsole.WriteLine(dp[999, 999]);\n\t\t}\n\t\treturn 0;\n\t}\n\n}\n\nclass Scanner {\n\tstring[] s;\n\tint i;\n\n\tchar[] cs = new char[] { ' ' };\n\n\tpublic Scanner() {\n\t\ts = new string[0];\n\t\ti = 0;\n\t}\n\n\tpublic string next() {\n\t\tif (i < s.Length) return s[i++];\n\t\tdo {\n\t\t\ts = Console.ReadLine().Split(cs, StringSplitOptions.RemoveEmptyEntries);\n\t\t} while ((s.Length == 1 && s[0] == \"\") || s.Length == 0);\n\t\ti = 0;\n\t\treturn s[i++];\n\t}\n\n\tpublic int nextInt() {\n\t\treturn int.Parse(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn long.Parse(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn double.Parse(next());\n\t}\n\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return size - other.size;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                PriorityQueue<Doll> pq = new PriorityQueue<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    pq.Enqueue(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    pq.Enqueue(temp);\n                }\n\n                Doll cur = pq.Dequeue();\n                int count = 1;\n\n                while (pq.Count > 0)\n                {\n                    Doll next = pq.Dequeue();\n\n                    if (cur.h > next.h && cur.r > next.r)\n                    {\n                        count++;\n                        cur = next;\n                    }\n                }\n                sb.AppendLine(count.ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n\n    class PriorityQueue<T> where T : IComparable\n    {\n        List<T> heap;\n        int size;\n\n        public PriorityQueue()\n        {\n            heap = new List<T>();\n        }\n\n        public int Count { get { return size; } }\n\n        public void Enqueue(T x)\n        {\n            heap.Add(x);\n            int i = size++;\n\n            while (i > 0)\n            {\n                int p = (i - 1) / 2;\n\n                if (Compare(heap[p], x) <= 0) break;\n\n                heap[i] = heap[p];\n                i = p;\n            }\n            heap[i] = x;\n        }\n\n        public T Dequeue()\n        {\n            T ret = heap[0];\n            T x = heap[--size];\n\n            int i = 0;\n            while (i * 2 + 1 < size)\n            {\n                int a = i * 2 + 1;\n                int b = i * 2 + 2;\n\n                if (b < size && Compare(heap[b], heap[a]) < 0)\n                    a = b;\n                if (Compare(heap[a], x) >= 0)\n                    break;\n\n                heap[i] = heap[a];\n                i = a;\n            }\n            heap[i] = x;\n            heap.RemoveAt(size);\n            return ret;\n        }\n\n        private int Compare(T x, T y)\n        {\n            return y.CompareTo(x);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace AOJ.Volume1\n{\n    public class RussianDolls\n    {\n        private struct Doll\n        {\n            public int Height;\n            public int Radius;\n        }\n\n        private static void ReadDollSpec(int n, List<Doll> dolls)\n        {\n            for (int i = 0; i < n; i++)\n            {\n                var input = Console.ReadLine().Split(' ');\n                Doll d;\n                d.Height = int.Parse(input[0]);\n                d.Radius = int.Parse(input[1]);\n                dolls.Add(d);\n            }\n        }\n\n        public static int Main()\n        {\n            while (true)\n            {\n                var dolls = new List<Doll>();\n\n                // 一郎くんの人形\n                int n = int.Parse(Console.ReadLine());\n                if (n == 0) { break; }\n                ReadDollSpec(n, dolls);\n\n                // 二郎くんの人形\n                n = int.Parse(Console.ReadLine());\n                ReadDollSpec(n, dolls);\n\n                int tmp_h = 0;\n                int tmp_r = 0;\n                int k = 0;\n                foreach (var d in dolls.OrderBy(x => x.Height))\n                {\n                    if (tmp_h < d.Height && tmp_r < d.Radius)\n                    {\n                        k++;\n                        tmp_h = d.Height;\n                        tmp_r = d.Radius;\n                    }\n                }\n\n                Console.WriteLine(k);\n            }\n            return 0;\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\n\nnamespace Test1 {\n\n    class mato{\n        public int h, r;\n        public mato(int h, int r) {\n            this.h = h; this.r = r;\n        }\n        public bool interMid(mato m1, mato m2){\n            if (m1.h < h && m1.r < r && h < m2.h && r < m2.r) { return true; }\n            return false;\n        }\n        public bool bigger(mato m1) {\n            return (m1.h < h && m1.r < r);\n        }\n    }\n\n\n\n    class ClassMain {\n\n\n\n       \n\n        public static void Main(String[] args) {\n            string line;\n            while ((line = Console.ReadLine()) != null) {\n                int n = int.Parse(line);\n                if(n==0){break;}\n                List<mato> mlis = new List<mato>();\n                \n                for (int i = 0; i < n; i++) {\n                    int[] ints = Console.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                    mlis.Add(new mato(ints[0],ints[1]));\n                }\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++) {\n                    int[] ints = Console.ReadLine().Split(' ').Select(int.Parse).ToArray();\n                    mato mat = new mato(ints[0], ints[1]);\n                    for (int j = 0; j < mlis.Count ; j++) {\n                        if (j != mlis.Count - 1) {\n                        //inter mid\n                            if(mat.interMid(mlis.ElementAt(j),mlis.ElementAt(j+1))){\n                                mlis.Insert(j+1,mat);\n                                break;\n                            }\n                        }else{\n                            //last\n                            if(mat.bigger(mlis.ElementAt(mlis.Count-1))){\n                                mlis.Add(mat);\n                                break;\n                            }\n                        }\n                    }                \n                }\n                Console.WriteLine(mlis.Count);\n\n\n            }\n        }\n    \n    }\n\n\n\n    \n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\n\nclass Myon\n{\n    public Myon() { }\n    public static int Main()\n    {\n        new Myon().run();\n        return 0;\n    }\n\n\n    int[] vy = new int[] { 1, 0, -1, 0 };\n    int[] vx = new int[] { 0, 1, 0, -1 };\n    int h, w;\n\n    void run()\n    {\n        Scanner cin = new Scanner();\n        while (true)\n        {\n            int n = cin.nextInt();\n            if (n == 0) break;\n            List<int> lnums = new List<int>();\n            for (int i = 0; i < n; i++)\n            {\n                lnums.Add(cin.nextInt() * 2000 + cin.nextInt());\n            }\n            int m = cin.nextInt();\n            for (int i = 0; i < m; i++)\n            {\n                lnums.Add(cin.nextInt() * 2000 + cin.nextInt());\n            }\n            int[] nums = lnums.ToArray();\n            Array.Sort(nums);\n            int len = nums.Length;\n            int[] h = new int[len];\n            int[] r = new int[len];\n            for (int i = 0; i < len; i++)\n            {\n                h[i] = nums[i] / 2000;\n                r[i] = nums[i] % 2000;\n            }\n\n            int[] dp = new int[len];\n            for (int i = 0; i < len; i++)\n            {\n                dp[i] = 1;\n            }\n\n            int ret = 0;\n            for (int i = 0; i < len; i++)\n            {\n                for (int j = 1; j < len; j++)\n                {\n                    if (h[i] < h[j] && r[i] < r[j])\n                    {\n                        dp[j] = Math.Max(dp[j], dp[i] + 1);\n                    }\n                }\n                ret = Math.Max(dp[i], ret);\n            }\n            Console.WriteLine(ret);\n        }\n\n    }\n\n    bool ok(int y, int x)\n    {\n        return y >= 0 && y < h && x >= 0 && x < w;\n    }\n\n}\n\nclass Scanner\n{\n    string[] s;\n    int i;\n\n    char[] cs = new char[] { ' ' };\n\n    public Scanner()\n    {\n        s = new string[0];\n        i = 0;\n    }\n\n    public string next()\n    {\n        if (i < s.Length) return s[i++];\n        s = Console.ReadLine().Split(cs, StringSplitOptions.RemoveEmptyEntries);\n        i = 0;\n        return s[i++];\n    }\n\n    public int nextInt()\n    {\n        return int.Parse(next());\n    }\n\n    public long nextLong()\n    {\n        return long.Parse(next());\n    }\n\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return size - other.size;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                int[] memo = new int[list.Count];\n                int max = 0;\n\n                for (int i = 0; i < list.Count; i++)\n                {\n                    memo[i] = 1;\n\n                    for (int j = 0; j < i; j++)\n                    {\n                        if (list[i].h > list[j].h && list[i].r > list[j].r)\n                        {\n                            memo[i] = Math.Max(memo[i], memo[j] + 1);\n                        }\n                    }\n                    max = Math.Max(max, memo[i]);\n                }\n                sb.AppendLine(max.ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\n\nclass Myon\n{\n    public Myon() { }\n    public static int Main()\n    {\n        new Myon().run();\n        return 0;\n    }\n\n    void run()\n    {\n        Scanner cin = new Scanner();\n        while (true)\n        {\n            int n = cin.nextInt();\n            if (n == 0) break;\n            List<int> lnums = new List<int>();\n            for (int i = 0; i < n; i++)\n            {\n                lnums.Add(cin.nextInt() * 2000 + cin.nextInt());\n            }\n            int m = cin.nextInt();\n            for (int i = 0; i < m; i++)\n            {\n                lnums.Add(cin.nextInt() * 2000 + cin.nextInt());\n            }\n            int[] nums = lnums.ToArray();\n            Array.Sort(nums);\n            int len = nums.Length;\n            int[] h = new int[len];\n            int[] r = new int[len];\n            for (int i = 0; i < len; i++)\n            {\n                h[i] = nums[i] / 2000;\n                r[i] = nums[i] % 2000;\n            }\n\n            int[] dp = new int[len];\n            for (int i = 0; i < len; i++)\n            {\n                dp[i] = 1;\n            }\n\n            int ret = 0;\n            for (int i = 0; i < len; i++)\n            {\n                for (int j = 1; j < len; j++)\n                {\n                    if (h[i] < h[j] && r[i] < r[j])\n                    {\n                        dp[j] = Math.Max(dp[j], dp[i] + 1);\n                    }\n                }\n                ret = Math.Max(dp[i], ret);\n            }\n            Console.WriteLine(ret);\n        }\n\n    }\n\n}\n\nclass Scanner\n{\n    string[] s;\n    int i;\n\n    char[] cs = new char[] { ' ' };\n\n    public Scanner()\n    {\n        s = new string[0];\n        i = 0;\n    }\n\n    public string next()\n    {\n        if (i < s.Length) return s[i++];\n        s = Console.ReadLine().Split(cs, StringSplitOptions.RemoveEmptyEntries);\n        i = 0;\n        return s[i++];\n    }\n\n    public int nextInt()\n    {\n        return int.Parse(next());\n    }\n\n    public long nextLong()\n    {\n        return long.Parse(next());\n    }\n\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n            return other.size - size;   // rev\n        }\n    }\n\n    class Problem\n    {\n        readonly int n;\n\n        List<Doll> list;\n        int max;\n\n        public Problem(List<Doll> source)\n        {\n            list = source;\n            n = list.Count;\n            max = 0;\n        }\n\n        public int GetMaxCount()\n        {\n            DFS(0, new Doll(), 0);\n            return max;\n        }\n\n        private void DFS(int depth, Doll cur, int cnt)\n        {\n            if (depth == n)\n            {\n                max = Math.Max(max, cnt);\n                return;\n            }\n\n            if (depth + max > n) return;\n\n            if (cur.size == 0)\n            {\n                DFS(depth + 1, list[depth], cnt + 1);\n            }\n            else\n            {\n                Doll temp = list[depth];\n\n                if (cur.h > temp.h && cur.r > temp.r)\n                {\n                    DFS(depth + 1, temp, cnt + 1);\n                }\n\n                DFS(depth + 1, cur, cnt);\n            }\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                Problem pb = new Problem(list);\n                sb.AppendLine(pb.GetMaxCount().ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System.Collections.Generic;\nusing System.Linq;\nusing System;\n\npublic class D\n{\n    public int h { get; set; }\n    public int r { get; set; }\n}\n\npublic class Hello\n{\n    public const int INF = 1000000001;\n    public static void Main()\n    {\n        while (true)\n        {\n            var d = new List<D>();\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            readData(d, n);\n            var m = int.Parse(Console.ReadLine().Trim());\n            readData(d, m);\n            var a = d.OrderBy(x => x.h).ThenBy(x =>x.r).Select(x => x.r).ToArray();\n            var ret1 = goDP(a);\n            var b = d.OrderBy(x => x.r).ThenBy(x =>x.h).Select(x => x.h).ToArray();\n            var ret2 = goDP(b);\n            Console.WriteLine(Math.Max(ret1, ret2));\n        }\n    }\n    public static void readData (List<D> d , int n)\n    {\n        for (int i = 0; i < n; i++)\n        {\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var h = int.Parse(line[0]);\n            var r = int.Parse(line[1]);\n            d.Add(new D { h = h, r = r });\n        }\n    }\n    public static int goDP(int[] a)\n    {\n        var n = a.Length;\n        var dp = new int[n];\n        for (int i = 0; i < n; i++) dp[i] = INF;\n        for (int i = 0; i < n; i++)\n        {\n            var w = LowerBound(dp, a[i]);\n            dp[w] = a[i];\n        }\n        return LowerBound(dp, INF);\n    }\n    public static int LowerBound<T>(T[] arr, int start, int end, T value, IComparer<T> comparer)\n    {\n        int low = start;\n        int high = end;\n        int mid;\n        while (low < high)\n        {\n            mid = ((high - low) >> 1) + low;\n            if (comparer.Compare(arr[mid], value) < 0)\n                low = mid + 1;\n            else\n                high = mid;\n        }\n        return low;\n    }\n    public static int LowerBound<T>(T[] arr, T value) where T : IComparable\n    {\n        return LowerBound(arr, 0, arr.Length, value, Comparer<T>.Default);\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    struct Doll : IComparable\n    {\n        internal int h, r, size, hold;\n\n        public int CompareTo(object obj)\n        {\n            Doll other = (Doll)obj;\n\n            if (hold == other.hold) return other.size - size;\n            return other.hold - hold;\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            StringBuilder sb = new StringBuilder();\n\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n\n                if (n == 0) break;\n\n                List<Doll> list = new List<Doll>();\n\n                for (int i = 0; i < n; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    temp.hold = 0;\n                    list.Add(temp);\n                }\n\n                int m = int.Parse(Console.ReadLine());\n\n                for (int i = 0; i < m; i++)\n                {\n                    string[] input = Console.ReadLine().Split(' ');\n\n                    Doll temp;\n                    temp.h = int.Parse(input[0]);\n                    temp.r = int.Parse(input[1]);\n                    temp.size = temp.h * temp.r * temp.r;\n                    temp.hold = 0;\n                    list.Add(temp);\n                }\n\n                list.Sort();\n\n                for (int i = 0; i < list.Count; i++)\n                {\n                    for (int j = i + 1; j < list.Count; j++)\n                    {\n                        if (list[i].h > list[j].h && list[i].r > list[j].r)\n                        {\n                            Doll temp = list[i];\n                            temp.hold++;\n                            list[i] = temp;\n                        }\n                    }\n                }\n\n                list.Sort();\n\n                Doll cur = list[0];\n                int count = 1;\n\n                for (int i = 1; i < list.Count; i++)\n                {\n                    if (cur.h > list[i].h && cur.r > list[i].r)\n                    {\n                        cur = list[i];\n                        count++;\n                    }\n                }\n                sb.AppendLine(count.ToString());\n            }\n            Console.Write(sb);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nclass Solver\n{\n    void Solve()\n    {\n        while (true)\n        {\n            var n = sc.Integer();\n            if (n == 0)\n                return;\n            var a = new List<Pair<int>>();\n            for (int i = 0; i < n; i++)\n                a.Add(new Pair<int>(sc.IntArray(2)));\n            var m = sc.Integer();\n            for (int i = 0; i < m; i++)\n                a.Add(new Pair<int>(sc.IntArray(2)));\n            var l = a.OrderBy(x => x.H).ThenBy(x => -x.R).ToArray();\n            var dp = new int[n + m + 10];\n            for (int i = 1; i < n + m + 10; i++)\n                dp[i] = 1 << 30;\n            for (int i = 0; i < n + m; i++)\n            {\n                var p = 0;\n                var q = n + m + 10;\n                while (p <= q)\n                {\n                    var r = (p + q) >> 1;\n                    if (l[i].R <= dp[r])\n                        q = r - 1;\n                    else p = r + 1;\n                }\n                dp[p] = l[i].R;\n            }\n            for (int i = n + m + 10 - 1; i >= 0; i--)\n                if (dp[i] < 10000000)\n                {\n                    Printer.PrintLine(i);\n                    break;\n                }\n\n        }\n\n    }\n    static void Main()\n    {\n#if DEBUG\n        var oStream = new System.IO.FileStream(\"debug.txt\", System.IO.FileMode.Create, System.IO.FileAccess.Write);\n        var iStream = new System.IO.FileStream(\"input.txt\", System.IO.FileMode.Open, System.IO.FileAccess.Read, System.IO.FileShare.ReadWrite);\n        Console.SetIn(new System.IO.StreamReader(iStream));\n        System.Diagnostics.Debug.AutoFlush = true;\n        System.Diagnostics.Debug.Listeners.Add(new System.Diagnostics.TextWriterTraceListener(new System.IO.StreamWriter(oStream, System.Text.Encoding.UTF8)));\n        try\n        {\n#endif\n            var solver = new Solver();\n            solver.Solve();\n#if DEBUG\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.Message);\n            Console.WriteLine(ex.StackTrace);\n        }\n        Console.ReadKey(true);\n#endif\n    }\n    _Scanner sc = new _Scanner(Console.In);\n\n}\nstatic public class Printer\n{\n    static readonly private System.IO.TextWriter writer;\n    static readonly private System.Globalization.CultureInfo info;\n    static string Separator { get; set; }\n    static Printer()\n    {\n        writer = Console.Out;\n        info = System.Globalization.CultureInfo.InvariantCulture;\n        Separator = \" \";\n    }\n\n    static public void Print(int num) { writer.Write(num.ToString(info)); }\n    static public void Print(int num, string format) { writer.Write(num.ToString(format, info)); }\n    static public void Print(long num) { writer.Write(num.ToString(info)); }\n    static public void Print(long num, string format) { writer.Write(num.ToString(format, info)); }\n    static public void Print(double num) { writer.Write(num.ToString(info)); }\n    static public void Print(double num, string format) { writer.Write(num.ToString(format, info)); }\n    static public void Print(string str) { writer.Write(str); }\n    static public void Print(string format, params object[] arg) { writer.Write(format, arg); }\n    static public void Print(IEnumerable<char> sources) { writer.Write(sources.AsString()); }\n    static public void Print(params object[] arg)\n    {\n        var res = new System.Text.StringBuilder();\n        foreach (var x in arg)\n        {\n            res.AppendFormat(info, \"{0}\", x);\n            if (!string.IsNullOrEmpty(Separator))\n                res.Append(Separator);\n        }\n        writer.Write(res.ToString(0, res.Length - Separator.Length));\n    }\n    static public void Print<T>(IEnumerable<T> sources)\n    {\n        var res = new System.Text.StringBuilder();\n        foreach (var x in sources)\n        {\n            res.AppendFormat(info, \"{0}\", x);\n            if (string.IsNullOrEmpty(Separator))\n                res.Append(Separator);\n        }\n        writer.Write(res.ToString(0, res.Length - Separator.Length));\n    }\n    static public void PrintLine(int num) { writer.WriteLine(num.ToString(info)); }\n    static public void PrintLine(int num, string format) { writer.WriteLine(num.ToString(format, info)); }\n    static public void PrintLine(long num) { writer.WriteLine(num.ToString(info)); }\n    static public void PrintLine(long num, string format) { writer.WriteLine(num.ToString(format, info)); }\n    static public void PrintLine(double num) { writer.WriteLine(num.ToString(info)); }\n    static public void PrintLine(double num, string format) { writer.WriteLine(num.ToString(format, info)); }\n    static public void PrintLine(string str) { writer.WriteLine(str); }\n    static public void PrintLine(string format, params object[] arg) { writer.WriteLine(format, arg); }\n    static public void PrintLine(IEnumerable<char> sources) { writer.WriteLine(sources.AsString()); }\n    static public void PrintLine(params object[] arg)\n    {\n        var res = new System.Text.StringBuilder();\n        foreach (var x in arg)\n        {\n            res.AppendFormat(info, \"{0}\", x);\n            if (!string.IsNullOrEmpty(Separator))\n                res.Append(Separator);\n        }\n        writer.WriteLine(res.ToString(0, res.Length - Separator.Length));\n    }\n    static public void PrintLine<T>(IEnumerable<T> sources)\n    {\n        var res = new System.Text.StringBuilder();\n        foreach (var x in sources)\n        {\n            res.AppendFormat(info, \"{0}\", x);\n            if (!string.IsNullOrEmpty(Separator))\n                res.Append(Separator);\n        }\n        writer.WriteLine(res.ToString(0, res.Length - Separator.Length));\n    }\n}\npublic class _Scanner\n{\n    readonly private System.Globalization.CultureInfo info;\n    readonly System.IO.TextReader reader;\n    string[] buffer = new string[0];\n    int position;\n\n    public char[] Separator { get; set; }\n    public _Scanner(System.IO.TextReader reader, string separator = null, System.Globalization.CultureInfo info = null)\n    {\n        if (reader == null)\n            throw new ArgumentNullException(\"reader\");\n        this.reader = reader;\n        if (string.IsNullOrEmpty(separator))\n            separator = \" \";\n        this.Separator = separator.ToCharArray();\n        this.info = info ?? System.Globalization.CultureInfo.InvariantCulture;\n    }\n    public string Scan()\n    {\n        if (this.position < this.buffer.Length)\n            return this.buffer[this.position++];\n        this.buffer = this.reader.ReadLine().Split(this.Separator, StringSplitOptions.RemoveEmptyEntries);\n        this.position = 0;\n        return this.buffer[this.position++];\n    }\n\n    public string[] ScanToEndLine()\n    {\n        if (this.position >= this.buffer.Length)\n            return this.reader.ReadLine().Split(this.Separator, StringSplitOptions.RemoveEmptyEntries);\n        var size = this.buffer.Length - this.position;\n        var ar = new string[size];\n        Array.Copy(this.buffer, position, ar, 0, size);\n        return ar;\n\n    }\n\n    public string ScanLine()\n    {\n        if (this.position >= this.buffer.Length)\n            return this.reader.ReadLine();\n        else\n        {\n            var sb = new System.Text.StringBuilder();\n            for (; this.position < buffer.Length; this.position++)\n            {\n                sb.Append(this.buffer[this.position]);\n                sb.Append(' ');\n            }\n            return sb.ToString();\n        }\n    }\n    public string[] ScanArray(int length)\n    {\n        var ar = new string[length];\n        for (int i = 0; i < length; i++)\n        {\n            ar[i] = this.Scan();\n        }\n        return ar;\n    }\n\n    public int Integer()\n    {\n        return int.Parse(this.Scan(), info);\n    }\n    public long Long()\n    {\n        return long.Parse(this.Scan(), info);\n    }\n    public double Double()\n    {\n        return double.Parse(this.Scan(), info);\n    }\n    public double Double(string str)\n    {\n        return double.Parse(str, info);\n    }\n\n    public int[] IntArray(int length)\n    {\n        var a = new int[length];\n        for (int i = 0; i < length; i++)\n            a[i] = this.Integer();\n        return a;\n    }\n    public long[] LongArray(int length)\n    {\n        var a = new long[length];\n        for (int i = 0; i < length; i++)\n            a[i] = this.Long();\n        return a;\n    }\n    public double[] DoubleArray(int length)\n    {\n        var a = new double[length];\n        for (int i = 0; i < length; i++)\n            a[i] = this.Double();\n        return a;\n    }\n\n}\nstatic public partial class EnumerableEx\n{\n    static public string AsString(this IEnumerable<char> source)\n    {\n        return new string(source.ToArray());\n    }\n    static public T[] EnumerateArray<T>(this int count, Func<int, T> selector)\n    {\n        var ret = new T[count];\n        for (int i = 0; i < count; i++)\n            ret[i] = selector(i);\n        return ret;\n    }\n}\n#region Pair<T>\n\npublic struct Pair<T>\n{\n    public T H;\n    public T R;\n    public Pair(T h, T r)\n        : this()\n    {\n        H = h;\n        R = r;\n    }\n    public Pair(params T[] arg)\n        : this(arg[0], arg[1])\n    {\n    }\n    public override string ToString()\n    {\n        return string.Format(\"{0} {1}\", H, R);\n    }\n}\n#endregion\n//*/\n"
  },
  {
    "language": "JavaScript",
    "code": "function Longest(){\n   ary.sort(function(a,b){\n      if(a[0]==b[0])return a[1]-b[1];\n      else return a[0]-b[0]\n   });\n   var A=ary.filter(function(v,i){\n      if(i==0)return true;\n      else if(ary[i-1][0]!=v[0])return true;\n   });\n   A=A.map(function(v){return v[1];});\n   var L=[];\n   L[0] = A[0];\n   var length = 1;\n   for(var i=1;i<A.length;i++){\n      if (L[length-1] < A[i])L[length++] = A[i];\n      else {\n         for(var j=0;j<length;j++){\n            if(L[j]>=A[i]){L[j]=A[i];break;}\n         }\n      }\n   }\n   return length;\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar arr=input.trim().split(\"\\n\");\nwhile(true){\n   var n=arr.shift()-0;\n   if(n==0)break;\n   var ary=[];\n   for(var i=0;i<n;i++)ary.push(arr.shift().split(\" \").map(Number));\n   var m=arr.shift()-0;\n   for(var i=0;i<m;i++)ary.push(arr.shift().split(\" \").map(Number));\n   var R=Longest();\n   ary=ary.map(function(v){return [v[1],v[0]];});\n   var H=Longest();\n   console.log(Math.max(R,H));\n}"
  },
  {
    "language": "Ruby",
    "code": "while line = gets\n  n = line.chomp.to_i\n  break if n == 0\n\n  dolls = []\n  n.times do\n    dolls << gets.chomp.split.map(&:to_i)\n  end\n\n  m = gets.chomp.to_i\n  m.times do\n    dolls << gets.chomp.split.map(&:to_i)\n  end\n\n  dolls.sort! do |a, b|\n    a[0] * a[1] <=> b[0] * b[1]\n  end\n\n  i = 1\n  until i == dolls.size\n    if dolls[i - 1][0] < dolls[i][0] && dolls[i - 1][1] < dolls[i][1]\n      i += 1\n    else\n      dolls.delete_at(i)\n    end\n  end\n\n  puts i\nend"
  },
  {
    "language": "Ruby",
    "code": "def f h,r,a,b\n$h[[h,r]]||=(*c,(d,e)=a\n*c,(d,e)=c until !d||h>d&&r>e\n*o,(p,q)=b\n*o,(p,q)=o until !p||h>p&&r>q\n[d ?f(d,e,c,b)+1:0,p ?f(p,q,a,o)+1:0].max)end\ndef g;gets.split.map &:to_i;end\nwhile 0<n=g[0]\na=(1..n).map{g}\nb=(1..g[0]).map{g}\n$h={}\np f 1e3,1e3,a,b\nend"
  },
  {
    "language": "Ruby",
    "code": "until (n = $<.gets.to_i).zero?\n  dolls = n.times.map {$<.gets.split.map(&:to_i)}\n  m = $<.gets.to_i\n  dolls += m.times.map {$<.gets.split.map(&:to_i)}\n  dolls.sort! {|a, b| (b[0] <=> a[0]).nonzero? || b[1] <=> a[1]}\n  \n  longest = Array.new(n + m, 0)\n  \n  (0..n + m - 2).each do |i|\n    (i + 1...n + m).each do |j|\n      if dolls[i][0] > dolls[j][0] and dolls[i][1] > dolls[j][1]\n        if (a = longest[i] + 1) > longest[j]\n          longest[j] = a\n        end\n      end\n    end\n  end\n  puts longest.last + 1\nend\n"
  },
  {
    "language": "Ruby",
    "code": "while line = gets\n  n = line.chomp.to_i\n  break if n == 0\n\n  dolls = []\n  n.times do\n    dolls << gets.chomp.split.map(&:to_i)\n  end\n\n  m = gets.chomp.to_i\n  m.times do\n    dolls << gets.chomp.split.map(&:to_i)\n  end\n\n  dolls.sort! do |a, b|\n    if a[0] == b[0]\n      a[1] <=> b[1]\n    else\n      a[0] <=> b[0]\n    end\n  end\n\n  dp = Array.new(dolls.size + 1, 0)\n\n  for i in 1..dolls.size\n    for j in 1..i\n      if i - j == 0 || (dolls[i - 1][0] > dolls[i - j - 1][0] && dolls[i - 1][1] > dolls[i - j - 1][1])\n        dp[i] = [dp[i], dp[i - j] + 1].max\n      end\n    end\n  end\n\n  puts dp.max\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n  n = gets.to_i\n  break if n.zero?\n  ss = n.times.map { gets.split.map(&:to_i) }\n  m = gets.to_i\n  ss += m.times.map { gets.split.map(&:to_i) }\n  cs = Array.new n + m, 0\n  es = Array.new(n + m) { [] }\n  rs = Array.new n + m, 0\n  (n+m).times do |i|\n    (n+m).times do |j|\n      next if i == j\n      if ss[i][0] < ss[j][0] && ss[i][1] < ss[j][1]\n        cs[i] += 1\n        es[j] << i\n      end\n    end\n  end\n  stack = []\n  (n+m).times do |i|\n    if cs[i].zero?\n      stack << i\n      rs[i] = 1\n    end\n  end\n  until stack.empty?\n    i = stack.pop\n    es[i].each do |j|\n      rs[j] = [rs[j], rs[i] + 1].max\n      cs[j] -= 1\n      stack << j if cs[j].zero?\n    end\n  end\n  p rs.max\nend"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nwhile (n=gets.to_i)!=0\n\ta=n.times.map{gets.split.map &:to_i}\n\tm=gets.to_i\n\tb=m.times.map{gets.split.map &:to_i}\n\ta=(a+b).sort\n\td=[]\n\t(n+m).times{|i|\n\t\td[i]=1\n\t\ti.times{|j|\n\t\t\tif a[j][1]<a[i][1]\n\t\t\t\td[i]=[d[j]+1,d[i]].max\n\t\t\tend\n\t\t}\n\t}\n\tp d.max\nend"
  },
  {
    "language": "Ruby",
    "code": "while line = gets\n  n = line.chomp.to_i\n  break if n == 0\n\n  dolls = []\n  n.times do\n    dolls << gets.chomp.split.map(&:to_i)\n  end\n\n  m = gets.chomp.to_i\n  m.times do\n    dolls << gets.chomp.split.map(&:to_i)\n  end\n\n  dolls.sort! do |a, b|\n    a[0] * a[1] <=> b[0] * b[1]\n  end\n\n  i = 1\n  until i == dolls.size - 1\n    if dolls[i - 1][0] < dolls[i][0] && dolls[i - 1][1] < dolls[i][1]\n      i += 1\n    else\n      dolls.delete_at(i)\n    end\n  end\n\n  puts dolls.size\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n = gets.to_i\n    break if n == 0\n    a = (1..n).map { gets.split.map(&:to_i) }\n    m = gets.to_i\n    a += (1..m).map { gets.split.map(&:to_i) }\n\n    a.sort!.uniq!\n\n    hash = Hash.new(Float::INFINITY) # tab[k]: min r s.t num = k\n    hash[[0, 0]] = 0\n    a.each do |h, r|\n        new_hash = Hash.new(Float::INFINITY)\n        hash.each do |key, min_r|\n            height, num = key #height <= h\n            new_hash[key] = min_r if min_r < new_hash[key]\n            if height < h and min_r < r\n                new_hash[[h, num+1]] = r if r < new_hash[[h, num+1]]\n            end\n        end\n        hash = new_hash\n    end\n    p hash.keys.map(&:last).max\nend\n\n"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nwhile (n=gets.to_i)!=0\n\ta=n.times.map{gets.split.map &:to_i}\n\tm=gets.to_i\n\tb=m.times.map{gets.split.map &:to_i}\n\ta=(a+b).sort\n\td=[]\n\t(n+m).times{|i|\n\t\td[i]=1\n\t\ti.times{|j|\n\t\t\tif a[j][0]<a[i][0]&&a[j][1]<a[i][1]\n\t\t\t\td[i]=[d[j]+1,d[i]].max\n\t\t\tend\n\t\t}\n\t}\n\tp d.max\nend"
  },
  {
    "language": "Ruby",
    "code": "### global variables\n\n$dcache = []\n\n### subroutines\n\ndef count_dolls(k, dolls)\n  return $dcache[k] if ! $dcache[k].nil?\n\n  dn = dolls.length\n  return ($dcache[k] = 0) if (k >= dn)\n\n  h, w = dolls[k]\n  max_c = 1\n\n  for i in ((k + 1)...dn)\n    hi, wi = dolls[i]\n    if hi > h && wi > w\n      c = count_dolls(i, dolls) + 1\n      max_c = c if max_c < c\n    end\n  end\n\n  $dcache[k] = max_c\nend\n\n### main\n\nwhile true\n  n = gets.strip.to_i\n  break if n == 0\n\n  dolls = n.times.map{gets.strip.split(' ').map{|s| s.to_i}}\n\n  m = gets.strip.to_i\n  dolls += m.times.map{gets.strip.split(' ').map{|s| s.to_i}}\n\n  dolls.sort!{|a, b| cmp = a[0] <=> b[0]; cmp != 0 ? cmp : a[1] <=> b[1]}\n  dn = dolls.length\n\n  $dcache = []\n\n  max_c = 0\n  for i in (0...dolls.length)\n    c = count_dolls(i, dolls)\n    #p \"count_dolls(#{i}) = #{c}\"\n\n    max_c = c if max_c < c\n  end\n\n  puts max_c\nend"
  },
  {
    "language": "Go",
    "code": "package main\n\nimport (\n\t\"bufio\"\n\t\"os\"\n\t\"strconv\"\n\t\"strings\"\n\t\"sort\"\n\t\"fmt\"\n)\n\nvar scanner = bufio.NewScanner(os.Stdin)\n\nfunc main() {\n\tfor scanner.Scan() {\n\t\tn, _ := strconv.Atoi(scanner.Text())\n\t\tif n == 0 {\n\t\t\tbreak\n\t\t}\n\t\thr := make([]entry, 0)\n\t\tfor i := 0; i < n; i++ {\n\t\t\tscanner.Scan()\n\t\t\tbuf := strings.Split(scanner.Text(), \" \")\n\t\t\tfirst, _ := strconv.Atoi(buf[0])\n\t\t\tsecond, _ := strconv.Atoi(buf[1])\n\t\t\tmt := entry{first, second}\n\t\t\thr = append(hr, mt)\n\t\t}\n\t\tscanner.Scan()\n\t\tm, _ := strconv.Atoi(scanner.Text())\n\t\tfor i := 0; i < m; i++ {\n\t\t\tscanner.Scan()\n\t\t\tbuf := strings.Split(scanner.Text(), \" \")\n\t\t\tfirst, _ := strconv.Atoi(buf[0])\n\t\t\tsecond, _ := strconv.Atoi(buf[1])\n\t\t\tmt := entry{first, second}\n\t\t\thr = append(hr, mt)\n\t\t}\n\t\tsort.Sort(ByFirst(hr))\n\t\tfmt.Println(LIS(hr))\n\t}\n}\n\ntype entry struct {\n\tfirst, second int\n}\n\ntype ByFirst []entry\n\nfunc(f ByFirst) Len() int {\n\treturn len(f)\n}\n\nfunc (f ByFirst) Swap(i, j int) {\n\tf[i], f[j] = f[j], f[i]\n}\n\nfunc (f ByFirst) Less(i, j int) bool {\n\treturn f[i].first < f[j].first\n}\n\nfunc LIS(hr []entry) int {\n\tn := len(hr)\n\tlis := make([]int, n)\n\tlis[n-1] = 1\n\tfor i := n-2; i > -1; i-- {\n\t\tm := 0\n\t\tfor j := i+1; j < n; j++ {\n\t\t\tif hr[i].first < hr[j].first && hr[i].second < hr[j].second && lis[j] > m {\n\t\t\t\tm = lis[j]\n\t\t\t}\n\t\t}\n\t\tlis[i] = m+1\n\t}\n\treturn lis[0]\n}\n"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.algorithm;\n\nint[1000][1000] memo;\nint[200] h, r;\nint n, m;\n\nvoid main(){\n\twhile (readf(\"%d\\n\", &n), n) {\n\t\tforeach (i; 0..n) readf(\"%d %d\\n\", &h[i], &r[i]);\n\t\treadf(\"%d\\n\", &m);\n\t\tforeach (i; 0..m) readf(\"%d %d\\n\", &h[n+i], &r[n+i]);\n\t\tn = n + m;\n\t\tforeach (i; 0..1000) memo[i][] = -1;\n\t\twriteln(solve(999, 999));\n\t}\n}\n\nint solve(int xh, int xr){\n\tint res = 0;\n\tif (memo[xh][xr] != -1) return memo[xh][xr];\n\tforeach (i; 0..n)\n\t\tif (h[i] < xh && r[i] < xr)\n\t\t\tres = max(res, solve(h[i], r[i])+1);\n\n\treturn res;\n}"
  },
  {
    "language": "D",
    "code": "import std.algorithm;\nimport std.array;\nimport std.ascii;\nimport std.bigint;\nimport std.complex;\nimport std.container;\nimport std.conv;\nimport std.functional;\nimport std.math;\nimport std.range;\nimport std.stdio;\nimport std.string;\nimport std.typecons;\n\nauto readInts() {\n\treturn array(map!(to!int)(readln().strip().split()));\n}\nauto readInt() {\n\treturn readInts()[0];\n}\nauto readLongs() {\n\treturn array(map!(to!long)(readln().strip().split()));\n}\nauto readLong() {\n\treturn readLongs()[0];\n}\n\nvoid readlnTo(T...)(ref T t) {\n    auto s = readln().split();\n    assert(s.length == t.length);\n    foreach(ref ti; t) {\n        ti = s[0].to!(typeof(ti));\n        s = s[1..$];\n    }\n}\n\nconst real eps = 1e-10;\n\nvoid main(){\n    while(true) {\n        auto n = readInt();\n        if(n == 0) {\n            return;\n        }\n        bool[Tuple!(int, int)] set;\n        foreach(i; iota(n)) {\n            int h, r;\n            readlnTo(h, r);\n            set[tuple(h,r)] = true;\n        }\n        auto m = readInt();\n        foreach(i; iota(m)) {\n            int h, r;\n            readlnTo(h, r);\n            set[tuple(h,r)] = true;\n        }\n        auto dp = new int[][](1000, 1000);\n        foreach(i; iota(1, 1000)) {\n            foreach(j; iota(1, 1000)) {\n                if(tuple(i, j) in set) {\n                    dp[i][j] = max(dp[i-1][j], dp[i][j-1], dp[i-1][j-1] + 1);\n                } else {\n                    dp[i][j] = max(dp[i-1][j], dp[i][j-1]);\n                }\n            }\n        }\n        writeln(dp[$-1][$-1]);\n    }\n}"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.algorithm;\n\nint[1000][1000] memo;\nint[200] h, r;\nint n, m;\n\nvoid main(){\n\twhile (readf(\"%d\\n\", &n), n) {\n\t\tforeach (i; 0..n) readf(\"%d %d\\n\", &h[i], &r[i]);\n\t\treadf(\"%d\\n\", &m);\n\t\tforeach (i; 0..m) readf(\"%d %d\\n\", &h[n+i], &r[n+i]);\n\t\tn = n + m;\n\t\tforeach (i; 0..1000) memo[i][] = -1;\n\t\twriteln(solve(999, 999));\n\t}\n}\n\nint solve(int xh, int xr){\n\tint res = 0;\n\tif (memo[xh][xr] != -1) return memo[xh][xr];\n\tforeach (i; 0..n)\n\t\tif (h[i] < xh && r[i] < xr)\n\t\t\tres = max(res, solve(h[i], r[i])+1);\n\n\treturn memo[xh][xr] = res;\n}"
  },
  {
    "language": "Python",
    "code": "# -*- coding:utf-8 -*-\n\ndef solve(N, M, H1, R1, H2, R2):\n    h = 0\n    r = 0\n    i1 = 0\n    i2 = 0\n    cnt = 0\n    while i1 < N or i2 < M:\n        if i1 < N and i2 < M:\n            if H1[i1] == H2[i2] or R1[i1] == R2[i2]:\n                if H1[i1] == H2[i2]:\n                    if R1[i1] <= R2[i2]:\n                        r = R1[i1]\n                        h = H1[i1]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n                    else:\n                        r = R2[i2]\n                        h = H2[i2]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n                else:\n                    if H1[i1] <= H2[i2]:\n                        r = R1[i1]\n                        h = H1[i1]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n                    else:\n                        h = H2[i2]\n                        r = R2[i2]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n            elif H1[i1] < H2[i2] and R1[i1] < R2[i2]:\n                if h < H1[i1] and r < R1[i1]:\n                    r = R1[i1]\n                    h = H1[i1]\n                    i1 += 1\n                    cnt += 1\n                else:\n                    i1 += 1\n            elif H1[i1] > H2[i2] and R1[i1] > R2[i2]:\n                if h < H2[i2] and r < R2[i2]:\n                    r = R2[i2]\n                    h = H2[i2]\n                    i2 += 1\n                    cnt += 1\n                else:\n                    i2 += 1\n        elif i1 < N:\n            if h < H1[i1] and r < R1[i1]:\n                r = R1[i1]\n                h = H1[i1]\n                i1 += 1\n                cnt += 1\n            else:\n                i1 += 1\n        elif i2 < M:\n            if h < H2[i2] and r < R2[i2]:\n                r = R2[i2]\n                h = H2[i2]\n                i2 += 1\n                cnt += 1\n            else:\n                i2 += 1\n\n    print cnt\n\n\n\nif __name__ == \"__main__\":\n    import sys\n\n    while True:\n        N = int(raw_input())\n        if N == 0:\n            sys.exit()\n        H1 = [0] * N\n        R1 = [0] * N\n        for i in xrange(N):\n            H1[i], R1[i] = map(int, raw_input().split())\n        M = int(raw_input())\n        H2 = [0] * M\n        R2 = [0] * M\n        for i in xrange(M):\n            H2[i], R2[i] = map(int, raw_input().split())\n        solve(N, M, H1, R1, H2, R2)"
  },
  {
    "language": "Python",
    "code": "def storage(Ls,Size,n):\n\tflag=0\n\tmx=0\n\tfor i in range(len(Ls)):\n\t\tls=Ls[:]\n\t\tif ls[i][0]<Size[0] and ls[i][1]<Size[1]:\n\t\t\tsize=ls.pop(i)\n\t\t\tmx=max(mx,storage(ls[i:],size,n+1))\n\t\t\tflag=1\n\treturn mx if flag==1 else n\n\nwhile 1:\n\tn=input()\n\tif n==0:break\n\ttaro=[map(int,raw_input().split()) for i in range(n)]\n\tm=input()\n\tjiro=[map(int,raw_input().split()) for i in range(m)]\n\tmerge=sorted(taro+jiro)[::-1]\n\tprint storage(merge,[1000,1000],0)"
  },
  {
    "language": "Python",
    "code": "while True:\n  n = int(input())\n  if n == 0:\n    break\n  hr_lst = []\n  for _ in range(n):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  m = int(input())\n  for _ in range(m):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  hr_lst.sort(reverse=True)\n\n  r_lst = [[] for _ in range(1001)]\n  for h, r in hr_lst:\n    r_lst[h].append(r)\n  r_lst = [lst for lst in r_lst if lst != []]\n  \n  \"\"\"\n  dp[y] ... 最大yまでの最大入れ子数\n  dp[y] = max(dp[y], dp[v - 1] + 1)\n  \"\"\"\n  dp = [0] * 1001\n  for x in range(len(r_lst)):\n    vlst = r_lst[x]\n    max_v = 1000\n    for v in vlst:\n      dpv1 = dp[v - 1] + 1\n      for y in range(max_v, v - 1, -1):\n        if dp[y] < dpv1:\n          dp[y] = dpv1\n  print(dp[1000])\n"
  },
  {
    "language": "Python",
    "code": "def storage(Ls,Size,n):\n\tflag=0\n\tmx=0\n\tfor i in range(len(Ls)):\n\t\tls=Ls[:]\n\t\tif ls[i][0]<Size[0] and ls[i][1]<Size[1]:\n\t\t\tsize=ls.pop(i)\n\t\t\tmx=max(mx,storage(ls,size,n+1))\n\t\t\tflag=1\n\treturn mx if flag==1 else n\n\nwhile 1:\n\tn=input()\n\tif n==0:break\n\ttaro=[map(int,raw_input().split()) for i in range(n)]\n\tm=input()\n\tjiro=[map(int,raw_input().split()) for i in range(m)]\n\tmerge=sorted(taro+jiro)[::-1]\n\tprint storage(merge,[1000,1000],0)"
  },
  {
    "language": "Python",
    "code": "while True:\n  n = int(input())\n  if n == 0:\n    break\n  hr_lst = []\n  for _ in range(n):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  m = int(input())\n  for _ in range(m):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  hr_lst.sort(reverse=True)\n\n  r_lst = [[] for _ in range(1001)]\n  for h, r in hr_lst:\n    r_lst[h].append(r)\n  r_lst = [lst for lst in r_lst if lst != []]\n  \n  \"\"\"\n  dp[y] ... 最大yまでの最大入れ子数\n  dp[y] = max(dp[y], dp[v - 1] + 1)\n  \"\"\"\n  dp = [0] * 1001\n  for x in range(len(r_lst)):\n    vlst = r_lst[x]\n    max_v = 1000\n    for v in vlst:\n      for y in range(max_v, v - 1, -1):\n        dp[y] = max(dp[y], dp[v - 1] + 1)\n  print(dp[1000])\n"
  },
  {
    "language": "Python",
    "code": "# -*- coding:utf-8 -*-\n\ndef solve(N, M, H1, R1, H2, R2):\n    h = 0\n    r = 0\n    i1 = 0\n    i2 = 0\n    cnt = 0\n    while i1 < N or i2 < M:\n        print i1, i2\n        if i2 >= M:\n            if h < H1[i1] and r < R1[i1]:\n                r = R1[i1]\n                h = H1[i1]\n                i1 += 1\n                cnt += 1\n            else:\n                i1 += 1\n        elif i1 >= N:\n            if h < H2[i2] and r < R2[i2]:\n                r = R2[i2]\n                h = H2[i2]\n                i2 += 1\n                cnt += 1\n            else:\n                i2 += 1\n        else:\n            if H1[i1] == H2[i2]:\n                r = min(R1[i1],R2[i2])\n                h = H1[i1]\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif R1[i1] == R2[i2]:\n                r = R1[i1]\n                h = min(H1[i1],H2[i2])\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif H1[i1]+R1[i1] <= H2[i2]+R2[i2]:\n                if h < H1[i1] and r < R1[i1]:\n                    r = R1[i1]\n                    h = H1[i1]\n                    i1 += 1\n                    cnt += 1\n                else:\n                    i1 += 1\n            elif H1[i1]+R1[i1] > H2[i2]+R2[i2]:\n                if h < H2[i2] and r < R2[i2]:\n                    r = R2[i2]\n                    h = H2[i2]\n                    i2 += 1\n                    cnt += 1\n                else:\n                    i2 += 1\n    print cnt\n\nif __name__ == \"__main__\":\n    import sys\n\n    while True:\n        N = int(raw_input())\n        if N == 0:\n            sys.exit()\n        H1 = [0] * N\n        R1 = [0] * N\n        for i in xrange(N):\n            H1[i], R1[i] = map(int, raw_input().split())\n        M = int(raw_input())\n        H2 = [0] * M\n        R2 = [0] * M\n        for i in xrange(M):\n            H2[i], R2[i] = map(int, raw_input().split())\n\n        solve(N, M, H1, R1, H2, R2)"
  },
  {
    "language": "Python",
    "code": "# -*- coding:utf-8 -*-\n\ndef solve(N, M, H1, R1, H2, R2):\n    h = 0\n    r = 0\n    i1 = 0\n    i2 = 0\n    cnt = 0\n    while i1 < N or i2 < M:\n        if i2 >= M:\n            if h < H1[i1] and r < R1[i1]:\n                r = R1[i1]\n                h = H1[i1]\n                i1 += 1\n                cnt += 1\n            else:\n                i1 += 1\n        elif i1 >= N:\n            if h < H2[i2] and r < R2[i2]:\n                r = R2[i2]\n                h = H2[i2]\n                i2 += 1\n                cnt += 1\n            else:\n                i2 += 1\n        else:\n            if H1[i1] == H2[i2]:\n                r = min(R1[i1],R2[i2])\n                h = H1[i1]\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif R1[i1] == R2[i2]:\n                r = R1[i1]\n                h = min(H1[i1],H2[i2])\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif H1[i1]+R1[i1] <= H2[i2]+R2[i2]:\n                if h < H1[i1] and r < R1[i1]:\n                    r = R1[i1]\n                    h = H1[i1]\n                    i1 += 1\n                    cnt += 1\n                else:\n                    i1 += 1\n            elif H1[i1]+R1[i1] > H2[i2]+R2[i2]:\n                if h < H2[i2] and r < R2[i2]:\n                    r = R2[i2]\n                    h = H2[i2]\n                    i2 += 1\n                    cnt += 1\n                else:\n                    i2 += 1\n    print cnt\n\nif __name__ == \"__main__\":\n    import sys\n\n    while True:\n        N = int(raw_input())\n        if N == 0:\n            sys.exit()\n        H1 = [0] * N\n        R1 = [0] * N\n        for i in xrange(N):\n            H1[i], R1[i] = map(int, raw_input().split())\n        M = int(raw_input())\n        H2 = [0] * M\n        R2 = [0] * M\n        for i in xrange(M):\n            H2[i], R2[i] = map(int, raw_input().split())\n\n        solve(N, M, H1, R1, H2, R2)"
  },
  {
    "language": "Python",
    "code": "while True:\n  n = int(input())\n  if n == 0:\n    break\n  hr_lst = []\n  for _ in range(n):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  m = int(input())\n  for _ in range(m):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  hr_lst.sort(reverse=True)\n\n  r_lst = [[] for _ in range(1001)]\n  for h, r in hr_lst:\n    r_lst[h].append(r)\n  r_lst = [lst for lst in r_lst if lst != []]\n  \n  \"\"\"\n  dp[y] ... 最大yまでの最大入れ子数\n  dp[y] = max(dp[y], dp[v - 1] + 1)\n  \"\"\"\n  dp = [0] * 1001\n  for x in range(len(r_lst)):\n    vlst = r_lst[x]\n    max_v = 1000\n    for v in vlst:\n      dpv1 = dp[v - 1] + 1\n      for y in range(max_v, v - 1, -1):\n        if dp[y] < dpv1:\n          dp[y] = dpv1\n      max_v = v\n  print(dp[1000])\n"
  },
  {
    "language": "Python",
    "code": "import copy\nfrom operator import itemgetter\n\ndef f(f1, f2):\n    res = 1\n    c = 0\n    i = 0\n    _L = copy.deepcopy(L)\n    while c < len(_L)-1:\n        if _L[i][f1] > _L[i+1][f1] and _L[i][f2] > _L[i+1][f2]:\n            res += 1\n            i += 1\n        else:\n            del _L[i+1]\n        c += 1\n    return res\n\nwhile True:\n    n = input()\n    if n == 0: break\n    L = [map(int, raw_input().split()) for i in range(n)]\n    for i in range(input()):\n        L.append(map(int, raw_input().split()))\n    else:\n        h = 0\n        r = 1\n        L.sort(key=itemgetter(0,1), reverse=True)\n        res1 = f(h, r)\n        L.sort(key=itemgetter(1,0), reverse=True)\n        res2 = f(r, h)\n        if res2 < res1:\n            print res1\n        else:\n            print res2"
  },
  {
    "language": "Python",
    "code": "# -*- coding:utf-8 -*-\n\ndef solve(N, M, H1, R1, H2, R2):\n    h = 0\n    r = 0\n    i1 = 0\n    i2 = 0\n    cnt = 0\n    while i1 < N or i2 < M:\n        if i2 >= M:\n            if h < H1[i1] and r < R1[i1]:\n                r = R1[i1]\n                h = H1[i1]\n                i1 += 1\n                cnt += 1\n            else:\n                i1 += 1\n        elif i1 >= N:\n            if h < H2[i2] and r < R2[i2]:\n                r = R2[i2]\n                h = H2[i2]\n                i2 += 1\n                cnt += 1\n            else:\n                i2 += 1\n        else:\n            if H1[i1] == H2[i2]:\n                r = min(R1[i1],R2[i2])\n                h = H1[i1]\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif R1[i1] == R2[i2]:\n                r = R1[i1]\n                h = min(H1[i1],H2[i2])\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif H1[i1] < H2[i2] and R1[i1] < R2[i2]:\n                if h < H1[i1] and r < R1[i1]:\n                    r = R1[i1]\n                    h = H1[i1]\n                    i1 += 1\n                    cnt += 1\n                else:\n                    i1 += 1\n            elif H1[i1] > H2[i2] and R1[i1] > R2[i2]:\n                if h < H2[i2] and r < R2[i2]:\n                    r = R2[i2]\n                    h = H2[i2]\n                    i2 += 1\n                    cnt += 1\n                else:\n                    i2 += 1\n\n    print cnt\n\n\n\nif __name__ == \"__main__\":\n    import sys\n\n    while True:\n        N = int(raw_input())\n        if N == 0:\n            sys.exit()\n        H1 = [0] * N\n        R1 = [0] * N\n        for i in xrange(N):\n            H1[i], R1[i] = map(int, raw_input().split())\n        M = int(raw_input())\n        H2 = [0] * M\n        R2 = [0] * M\n        for i in xrange(M):\n            H2[i], R2[i] = map(int, raw_input().split())\n\n        solve(N, M, H1, R1, H2, R2)"
  },
  {
    "language": "Python",
    "code": "while 1:\n    n = int(input())\n    if n == 0:\n        break\n    objects = []\n    for i in range(n):\n        h,r = (int(x) for x in input().split())\n        objects.append((h,r))\n    n = int(input())\n    for i in range(n):\n        h,r = (int(x) for x in input().split())\n        objects.append((h,r))\n\n    objects = sorted(objects,key=lambda w:(w[0],-1*w[1]))\n    r = [i[1] for i in objects]\n    t = [1] * len(r)\n    \n    for i in range(len(r)):\n        for j in range(i):\n            if r[j] < r[i]:\n                t[i] = max(t[i],t[j] + 1)\n    print(max(t))\n"
  },
  {
    "language": "Python",
    "code": "# AOJ 0157: Russian Dolls\n# Python3 2018.6.19 bal4u\n#   単調増加シーケンスの最長値問題（LIS）\n\ndef LIS(hr):\n\tn = len(hr)\n\tlis = [0]*n\n\tlis[n-1] = 1;\n\tfor i in range(n-2, -1, -1):\n\t\tm = 0;\n\t\tfor j in range(i+1, n):\n\t\t\tif hr[i][0] < hr[j][0] and hr[i][1] < hr[j][1] and lis[j] > m: m = lis[j]\n\t\tlis[i] = m+1\n\treturn lis[0]\n\nwhile True:\n\tn = int(input())\n\tif n == 0: break\n\thr = []\n\tfor i in range(n):\n\t\thr.append(list(map(int, input().split())))\n\tfor i in range(int(input())):\n\t\thr.append(list(map(int, input().split())))\n\thr = list(sorted(hr))\n\tprint(LIS(hr))\n\n"
  },
  {
    "language": "Python",
    "code": "def f(f1, f2):\n    res = 1\n    c = 0\n    i = 0\n    while c < len(L)-1:\n        if L[i][f1] > L[i+1][f1] and L[i][f2] > L[i+1][f2]:\n            res += 1\n            i += 1\n        else:\n            del L[i+1]\n        c += 1\n    return res\n\nwhile True:\n    n = input()\n    if n == 0: break\n    L = [map(int, raw_input().split()) for i in range(n)]\n    for i in range(input()):\n        L.append(map(int, raw_input().split()))\n    else:\n        h = 0\n        r = 1\n        L.sort(key=lambda x: x[h], reverse=True)\n        L.sort(key=lambda x: x[r], reverse=True)\n        res1 = f(h, r)\n        L.sort(key=lambda x: x[r], reverse=True)\n        L.sort(key=lambda x: x[h], reverse=True)\n        res2 = f(r, h)\n        if res2 < res1:\n            print res1\n        else:\n            print res2"
  },
  {
    "language": "Python",
    "code": "# -*- coding:utf-8 -*-\n\ndef solve(N, M, H1, R1, H2, R2):\n    h = 0\n    r = 0\n    i1 = 0\n    i2 = 0\n    cnt = 0\n    while i1 < N or i2 < M:\n        if i2 >= M:\n            if h < H1[i1] and r < R1[i1]:\n                r = R1[i1]\n                h = H1[i1]\n                i1 += 1\n                cnt += 1\n            else:\n                i1 += 1\n        elif i1 >= N:\n            if h < H2[i2] and r < R2[i2]:\n                r = R2[i2]\n                h = H2[i2]\n                i2 += 1\n                cnt += 1\n            else:\n                i2 += 1\n        else:\n            if H1[i1] == H2[i2]:\n                r = min(R1[i1],R2[i2])\n                h = H1[i1]\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif R1[i1] == R2[i2]:\n                r = R1[i1]\n                h = min(H1[i1],H2[i2])\n                i1 += 1\n                i2 += 1\n                cnt += 1\n            elif H1[i1]+R1[i1] <= H2[i2]+R2[i2]:\n                if h < H1[i1] and r < R1[i1]:\n                    r = R1[i1]\n                    h = H1[i1]\n                    i1 += 1\n                    cnt += 1\n                else:\n                    i1 += 1\n            elif H1[i1]+R1[i1] > H2[i2]+R2[i2]:\n                if h < H2[i2] and r < R2[i2]:\n                    r = R2[i2]\n                    h = H2[i2]\n                    i2 += 1\n                    cnt += 1\n                else:\n                    i2 += 1\n    print cnt\n\nif __name__ == \"__main__\":\n    import sys\n\n    while True:\n        N = int(raw_input())\n        if N == 0:\n            sys.exit()\n        H1 = [0] * N\n        R1 = [0] * N\n        for i in xrange(N):\n            H1[i], R1[i] = map(int, raw_input().split())\n        M = int(raw_input())\n        H2 = [0] * M\n        R2 = [0] * M\n        for i in xrange(M):\n            H2[i], R2[i] = map(int, raw_input().split())\n\n        solve(N, M, H1, R1, H2, R2)"
  },
  {
    "language": "Python",
    "code": "# -*- coding:utf-8 -*-\n\ndef solve(N, M, H1, R1, H2, R2):\n    h = 0\n    r = 0\n    i1 = 0\n    i2 = 0\n    cnt = 0\n    while i1 < N or i2 < M:\n        if i1 < N and i2 < M:\n            if H1[i1] == H2[i2] or R1[i1] == R2[i2]:\n                if H1[i1] == H2[i2]:\n                    if R1[i1] <= R2[i2]:\n                        r = R1[i1]\n                        h = H1[i1]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n                    else:\n                        r = R2[i2]\n                        h = H2[i2]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n                else:\n                    if H1[i1] <= H2[i2]:\n                        r = R1[i1]\n                        h = H1[i1]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n                    else:\n                        h = H2[i2]\n                        r = R2[i2]\n                        i1 += 1\n                        i2 += 1\n                        cnt += 1\n            elif H1[i1] < H2[i2] and R1[i1] < R2[i2]:\n                if h < H1[i1] and r < R1[i1]:\n                    r = R1[i1]\n                    h = H1[i1]\n                    i1 += 1\n                    cnt += 1\n                else:\n                    i1 += 1\n            elif H1[i1] > H2[i2] and R1[i1] > R2[i2]:\n                if h < H2[i2] and r < R2[i2]:\n                    r = R2[i2]\n                    h = H2[i2]\n                    i2 += 1\n                    cnt += 1\n                else:\n                    i2 += 1\n        elif i1 < N:\n            if h < H1[i1] and r < R1[i1]:\n                r = R1[i1]\n                h = H1[i1]\n                i1 += 1\n                cnt += 1\n            else:\n                i1 += 1\n        elif i2 < M:\n            if h < H2[i2] and r < R2[i2]:\n                r = R2[i2]\n                h = H2[i2]\n                i2 += 1\n                cnt += 1\n            else:\n                i2 += 1\n        else:\n            raise ValueError(\",\".join(H1)+ \"+\" +\",\".join(H2)+\"+\"+\",\".join(R1)+\"+\"+\",\".join(R2))\n\n    print cnt\n\n\n\nif __name__ == \"__main__\":\n    import sys\n\n    while True:\n        N = int(raw_input())\n        if N == 0:\n            sys.exit()\n        H1 = [0] * N\n        R1 = [0] * N\n        for i in xrange(N):\n            H1[i], R1[i] = map(int, raw_input().split())\n        M = int(raw_input())\n        H2 = [0] * M\n        R2 = [0] * M\n        for i in xrange(M):\n            H2[i], R2[i] = map(int, raw_input().split())\n        solve(N, M, H1, R1, H2, R2)"
  },
  {
    "language": "Python",
    "code": "while 1:\n    N = int(input())\n    if not N:\n        break\n    S = []\n    for i in range(N):\n        h, r = map(int, input().split())\n        S.append((h, r))\n    M = int(input())\n    for i in range(M):\n        h, r = map(int, input().split())\n        S.append((h, r))\n\n    S.sort()\n    memo = [-1]*(N+M)\n    def dfs(i):\n        if memo[i] != -1:\n            return memo[i]\n        hi, ri = S[i]\n        r = 0\n        for j in range(i+1, N+M):\n            hj, rj = S[j]\n            if hi < hj and ri < rj:\n                r = max(r, dfs(j))\n        memo[i] = r+1\n        return r+1\n    print(dfs(0))\n"
  },
  {
    "language": "Python",
    "code": "while True:\n  n = int(input())\n  if n == 0:\n    break\n  hr_lst = []\n  for _ in range(n):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n  \n  m = int(input())\n  for _ in range(m):\n    h, r = map(int, input().split())\n    hr_lst.append((h, r))\n\n  hr_lst.sort()\n  r_lst = [r for _, r in hr_lst]\n  \n  \"\"\"\n  dp[y] ... 最大yまでの最大入れ子数\n  dp[y] = max(dp[y], dp[rlst[x] - 1] + 1)\n  \"\"\"\n  dp = [0] * 1001\n  for x in range(len(r_lst)):\n    vx = r_lst[x]\n    for y in range(vx, 1001):\n      dp[y] = max(dp[y], dp[vx - 1] + 1)\n  print(dp[1000])\n"
  },
  {
    "language": "Python",
    "code": "def f(f1, f2):\n    res = 1\n    c = 0\n    i = 0\n    while c < len(L)-1:\n        if L[i][f1] > L[i+1][f1] and L[i][f2] > L[i+1][f2]:\n            res += 1\n            i += 1\n        else:\n            del L[i+1]\n        c += 1\n    return res\n\nwhile True:\n    n = input()\n    if n == 0: break\n    L = [map(int, raw_input().split()) for i in range(n)]\n    for i in range(input()):\n        L.append(map(int, raw_input().split()))\n    else:\n        h = 0\n        r = 1\n        L.sort(key=lambda x: (x[h], x[r]), reverse=True)\n        res1 = f(h, r)\n        L.sort(key=lambda x: (x[r], x[h]), reverse=True)\n        res2 = f(r, h)\n        if res2 < res1:\n            print res1\n        else:\n            print res2"
  },
  {
    "language": "Python",
    "code": "while True:\n    try:\n        L = [map(int,raw_input().split()) for _ in xrange(input())]\n        L += [map(int,raw_input().split()) for _ in xrange(input())]\n    except EOFError:\n        break\n    L.sort(key = lambda (h,r):r*r*h)\n    DP = [1]*len(L)\n    for i,(h,r) in enumerate(L):\n        for j,(H,R) in enumerate(L):\n            if j > i and (H>h and R>r):\n                DP[j] = max(DP[j],DP[i]+1)\n    print max(DP)"
  },
  {
    "language": "Python",
    "code": "from operator import itemgetter\n\ndef f(f1, f2):\n    res = 1\n    c = 0\n    i = 0\n    while c < len(L)-1:\n        if L[i][f1] > L[i+1][f1] and L[i][f2] > L[i+1][f2]:\n            res += 1\n            i += 1\n        else:\n            del L[i+1]\n        c += 1\n    return res\n\nwhile True:\n    n = input()\n    if n == 0: break\n    L = [map(int, raw_input().split()) for i in range(n)]\n    for i in range(input()):\n        L.append(map(int, raw_input().split()))\n    else:\n        h = 0\n        r = 1\n        L.sort(key=itemgetter(0,1), reverse=True)\n        res1 = f(h, r)\n        L.sort(key=itemgetter(1,0), reverse=True)\n        res2 = f(r, h)\n        if res2 < res1:\n            print res1\n        else:\n            print res2"
  },
  {
    "language": "Python",
    "code": "while True:\n    n=int(input())\n    if n==0:\n        break\n    dolls=[]\n    for i in range(n):\n        h,r=[int(j) for j in input().split(\" \")]\n        dolls.append((h,r))\n    m=int(input())\n    for j in range(m):\n        h,r=[int(j) for j in input().split(\" \")]\n        dolls.append((h,r))\n\n    dolls=sorted(dolls,key=lambda w:(w[0],-1*w[1]))\n    r=[i[1] for i in dolls]\n\n    table=[1 for i in range(len(r))]\n    for i in range(len(r)):\n        for j in range(i):\n            if r[j]<r[i]:\n                table[i]=max(table[i],table[j]+1)\n\n    print(max(table))\n\n"
  },
  {
    "language": "Python",
    "code": "def In(n): return [map(int, raw_input().split()) for _ in [0]*n]\n  \nwhile 1:\n  n = int(raw_input())\n  if n==0: break\n  M1 = In(n)\n  m = int(raw_input())\n  M2 = In(m)\n  j=0\n  f1 = [-1 for _ in [0]*n]\n  f2 = [-1 for _ in [0]*m]\n  for i in range(n):\n    h1, r1 = M1[i]\n    for j in range(m):\n      h2, r2 = M2[j]\n      if h1 < h2 and r1 < r2: f2[j] = i\n      if h1 > h2 and r1 > r2: f1[i] = j\n  c1 = [-1 for _ in [0]*(n+1)]\n  c2 = [-1 for _ in [0]*(m+1)]\n  p1 = p2 = 0\n  while p1<n or p2<m:\n    if p1<n:\n      if f1[p1]<0:\n        if p1==0: c1[0]=1\n        else: c1[p1] = c1[p1-1] + 1\n        p1+=1\n      elif c2[f1[p1]]>=0:\n        c1[p1] = max(c1[p1-1], c2[f1[p1]]) + 1\n        p1+=1\n    if p2<m:\n      if f2[p2]<0:\n        if p2==0: c2[0]=1\n        else: c2[p2] = c2[p2-1]+1\n        p2+=1\n      elif c1[f2[p2]]>=0:\n        c2[p2] = max(c2[p2-1], c1[f2[p2]]) + 1\n        p2+=1\n  print max(c1+c2)"
  },
  {
    "language": "Rust",
    "code": "use std::cmp;\n\nfn main(){\n  loop {\n    let n: usize = read();\n    if n == 0 { break; }\n\n    let mut mt: Vec<Vec<usize>> = Vec::new();\n    \n    for _ in 0 .. n {\n      mt.push(read_vec());\n    }\n    \n    let m: usize = read();\n    \n    for _ in 0 .. m {\n      mt.push(read_vec());\n    }\n    \n    mt.sort();\n\n    let mut dp: Vec<usize> = vec![1;n+m];\n\n    for i in 1 .. n+m {\n      for j in 0 .. i {\n        if mt[i][1] > mt[j][1] && mt[i][0] > mt[j][0] {\n          dp[i] = cmp::max(dp[i], dp[j]+1);\n        }\n      }\n    }\n    \n    println!(\"{}\", dp.iter().max().unwrap());\n  }\n}\n\nfn read<T>() -> T\n  where T: std::str::FromStr,\n        T::Err: std::fmt::Debug\n{\n  let mut buf = String::new();\n  std::io::stdin().read_line(&mut buf).expect(\"failed to read\");\n  buf.trim().parse().unwrap()\n}\n\nfn read_vec<T>() -> Vec<T>\n  where T: std::str::FromStr,\n        T::Err: std::fmt::Debug\n{\n  let mut buf = String::new();\n  std::io::stdin().read_line(&mut buf).expect(\"failed to read\");\n  buf.split_whitespace().map(|e| e.parse().unwrap()).collect()\n}\n\n"
  }
]