In the year 20XX, a mage competition between schools is being held. You are a participant in the final event, where the goal is to destroy all blue objects in a space. The players are allowed to bring competition guns. In this space, there are multiple blue objects, an equal number of red objects, and several spherical obstacles. Each blue object corresponds one-to-one with a red object. Players must shoot from the coordinates of the red objects to destroy the blue objects. Upon contact with an obstacle, regular bullets stop, but a special 'Magic Bullet' can consume magical energy to pass through obstacles. The amount of magic energy needed can differ for various obstacles, and if multiple obstacles are touched simultaneously, magic can activate for each. You want to minimize the magical energy spent to reach the blue objects from the red ones, given that their exact positions are unknown but can be estimated. The input consists of integers representing the number of obstacles and pairs of coordinates for red and blue objects. You need to compute the minimum magical energy required to ensure the bullet reaches the blue object from the red object's position after navigating through the obstacles.