[
  {
    "language": "Scala",
    "code": "import scala.collection.mutable\n\nobject Main extends App {\n  import scala.io.StdIn._\n  val n = readLine.trim.toInt\n  val store = readLine.trim\n  val fromStart = Array.tabulate(n + 1){_ ⇒ Array.tabulate(4){it ⇒ if (it == 0) 1L else 0L}}\n  for (i ← 0 until n){\n    for (j ← 0 until 4) fromStart(i + 1)(j) = fromStart(i)(j)\n    store(i) match{\n      case 'J' ⇒ fromStart(i + 1)(1) += fromStart(i)(0)\n      case 'O' ⇒ fromStart(i + 1)(2) += fromStart(i)(1)\n      case 'I' ⇒ fromStart(i + 1)(3) += fromStart(i)(2)\n      case _ ⇒\n    }\n  }//fromStart(i)(s) [0, i)の店でs個のスタンプをもらう\n  val toEnd = Array.tabulate(n + 1){_ ⇒ Array.tabulate(4){it ⇒ if (it == 0) 1L else 0}}\n  for (i ← (0 until n).reverse){\n    for (j ← 0 until 4) toEnd(i)(j) = toEnd(i + 1)(j)\n    store(i) match{\n      case 'J' ⇒ toEnd(i)(3) += toEnd(i + 1)(2)\n      case 'O' ⇒ toEnd(i)(2) += toEnd(i + 1)(1)\n      case 'I' ⇒ toEnd(i)(1) += toEnd(i + 1)(0)\n      case _ ⇒\n    }\n  }//toEnd(i)(s) [i, n)の店でs個のスタンプをもらう\n  var maxIncrease = 0L\n  for (i ← 0 to n){//i番目の店の前に店を出す場合\n    for (j ← 1 to 3){\n      if (maxIncrease < fromStart(i)(j - 1) * toEnd(i)(3 - j)) maxIncrease = fromStart(i)(j - 1) * toEnd(i)(3 - j)\n    }\n  }\n  println(\n    toEnd(0)(3) + maxIncrease\n  )\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define ll long long\nclass shop {\npublic:\n\tchar stamp;\n\tll num[3];\n\tll dummy;\n\tshop():dummy(-1) {\n\n\t}\n};\n\nint main() {\n\tint time;\n\tcin >> time;\n\tshop *streat;\n\tstreat = new shop[time + 1];\n\tfor (int i = 0; i < 3; ++i) {\n\t\tstreat[0].num[i] = 0;\n\t}\n\tchar dummy;\n\tfor (int i = 1; i <= time; ++i) {\n\t\tcin >> dummy;\n\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\tstreat[i].num[j] = streat[i-1].num[j];\n\t\t}\n\t\tif (dummy == 'J') {\n\t\t\t++streat[i].num[0];\n\t\t}\n\t\telse if (dummy == 'O') {\n\t\t\t++streat[i].num[1];\n\t\t}\n\t\telse {\n\t\t\t++streat[i].num[2];\n\t\t}\n\t\tstreat[i].stamp = dummy;\n\t}\n\tll origin = 0;\n\tll date;\n\tfor (int i = time - 2; i >= 1; --i) {\n\t\tif (streat[i].stamp == 'J') {\n\t\t\tdate = 0;\n\t\t\tfor (int j = i + 1; j <= time; ++j) {\n\t\t\t\tif (streat[j].dummy != -1) {\n\t\t\t\t\tdate += streat[j].dummy;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (streat[j].stamp == 'O') {\n\t\t\t\t\tdate += streat[time].num[2] - streat[j].num[2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tstreat[i].dummy = date;\n\t\t\torigin += date;\n\t\t}\n\t}\n\tdate = 0;\n\tfor (int j = 1; j <= time; ++j) {\n\t\tif (streat[j].stamp == 'O') {\n\t\t\tdate += streat[time].num[2] - streat[j].num[2];\n\t\t}\n\t}\n\tll answer = date;\n\tdate = 0;\n\tfor (int j = time; j >= 1; --j) {\n\t\tif (streat[j].stamp == 'O') {\n\t\t\tdate += streat[j].num[0];\n\t\t}\n\t}\n\tanswer = max(answer, date);\n\tfor (int i = 2; i < time; ++i) {\n\t\tanswer = max(answer, streat[i].num[0] * (streat[time].num[2] - streat[i].num[2]));\n\t}\n\tcout << origin + answer<< endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n;string T;vector<int>v;\nlong long search(string S){\n\tv.clear();\n\tfor(int i=0;i<(int)S.size();i++){\n\t\tif(S[i]=='J')v.push_back(0);\n\t\tif(S[i]=='O')v.push_back(1);\n\t\tif(S[i]=='I')v.push_back(2);\n\t}\n\tvector<vector<int> >dp(v.size()+1,vector<int>(4,0));\n\tdp[0][0]=1;\n\tfor(int i=0;i<(int)v.size();i++){\n\t\tdp[i+1][v[i]+1]+=dp[i][v[i]];\n\t\tfor(int j=0;j<4;j++)dp[i+1][j]+=dp[i][j];\n\t}\n\treturn dp[v.size()][3];\n}\nint main(){\n\tcin>>n>>T;long long ret=0;\n\tret=max(ret,max(search(\"J\"+T),search(T+\"I\")));\n\tint L=1,R=T.size(),c1,c2;\n\tfor(int i=0;i<100;i++){\n\t\tc1=(L+L+R)/3;c2=(L+R+R)/3;\n\t\tlong long E1=search(T.substr(0,c1)+\"O\"+T.substr(c1,T.size()-c1));\n\t\tlong long E2=search(T.substr(0,c2)+\"O\"+T.substr(c2,T.size()-c2));\n\t\tif(E1<E2)L=c1;\n\t\tif(E1>E2)R=c2;\n\t\tret=max(ret,max(E1,E2));\n\t}\n\tcout<<ret<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i, x) for(ll i = 0; i < x; i++)\n#define rep2(i, x) for(ll i = 1; i <= x; i++)\n#define all(a) (a).begin(),(a).end()\nusing ll = long long;\nusing ld = long double;\nusing namespace std;\nconst ll INF = 1000000000000000000;\nconst ll mod = 1000000007;\nconst ld pi = 3.141592653589793238;\n\nsigned main() {\n\tll n; string s; cin >> n >> s;\n\tll j = 0, jo = 0, ans = 0;\n\trep(h, n) {\n\t\tif (s[h] == 'J') { j++; }\n\t\telse if (s[h] == 'O') { jo += j; }\n\t\telse { ans += jo; }\n\t}\n\tll i = 0, oi = 0;\n\tfor (int h = n - 1; h >= 0; h--) {\n\t\tif (s[h] == 'I') { i++; }\n\t\tif (s[h] == 'O') { oi += i; }\n\t}\n\tj = 0; ll ji = 0;\n\trep(h, n) {\n\t\tif (s[h] == 'J') { j++; }\n\t\telse if (s[h] == 'I') { i--; }\n\t\tji = max(ji, j * i);\n\t}\n\tcout << max(jo, max(oi, ji)) + ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,n) for(ll i=0;i<(ll)(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n#define INF (1e9+1)\n//#define INF (1LL<<59)\n\n#define int ll\n\nsigned main(){\n\tint n;\n\tstring s;\n\tcin>>n>>s;\n\t\n\tvector<int> rightI(s.size(),0);\n\tvector<int> rightOI(s.size(),0);\n\tvector<int> leftJ(s.size(),0);\n\tvector<int> leftJO(s.size(),0);\n\n\trep(i,s.size())if(s[i]=='I')rightI[i]++;\n\tfor(int i=s.size()-2;i>=0;i--){\n\t\trightI[i]+=rightI[i+1];\n\t}\n\t\n\trep(i,s.size())if(s[i]=='O')rightOI[i]=rightI[i];\n\tfor(int i=s.size()-2;i>=0;i--){\n\t\trightOI[i]+=rightOI[i+1];\n\t}\n\t\n\trep(i,s.size())if(s[i]=='J')leftJ[i]++;\n\trep(i,s.size()-1){\n\t\tleftJ[i+1]+=leftJ[i];\n\t}\n\t\n\trep(i,s.size())if(s[i]=='O')leftJO[i]=leftJ[i];\n\trep(i,s.size()-1){\n\t\tleftJO[i+1]+=leftJO[i];\n\t}\n\t\n\tint sum = 0;\n\t\n\trep(i,rightOI.size()){\n\t\tif(s[i]=='J')sum+=rightOI[i];\n\t}\n\t\n\tint J = sum+rightOI[0];\n\tint I = sum+leftJO[leftJO.size()-1];\n\tint O = 0;\n\trep(i,s.size()+1){\n\t\tint l=0,r=0;\n\t\tif(i!=0)l = leftJ[i-1];\n\t\tif(i!=s.size())r = rightI[i];\n\t\tO = max(O,l*r);\n\t}\n\tO+=sum;\n\t\n\tcout<<max(J,max(O,I))<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define int long long\n\n#define rep(i,x) for(int i=0;i<x;++i)\n#define rrep(i,x) for(int i=x-1;i>=0;--i)\n#define all(a) a.begin(),a.end()\n\nint N;\n\nint J[100010], O[100010], I[100010];\n\nsigned main()\n{\n    cin >> N;\n    \n    string s; cin >> s;\n\n    rep(i, N) {\n        J[i + 1] = (s[i] == 'J') + J[i];\n        O[i + 1] = (s[i] == 'O') + O[i];\n        I[i + 1] = (s[i] == 'I') + I[i];\n    }\n\n    int ma = 0;\n\n    // J\n    {\n        int curO = 0, curI = 0;\n\n        rep(i, N) {\n            if (s[i] == 'O') {\n                curO += J[i + 1] + 1;\n            }\n            if (s[i] == 'I') {\n                curI += curO;\n            }\n        }\n\n        ma = max(ma, curI);\n    }\n\n    // I\n    {\n        int curO = 0, curJ = 0;\n\n        rrep(i, N) {\n            if (s[i] == 'O') {\n                curO += (I[N] - I[i + 1]) + 1;\n            }\n            if (s[i] == 'J') {\n                curJ += curO;\n            }\n        }\n\n        ma = max(ma, curJ);\n    }\n\n    // O zentansaku\n    {\n        int curJ=0, curO=0, curI=0;\n\n        rep(i, N) {\n            if (s[i] == 'J') {\n                curJ++;\n            }\n            if (s[i] == 'O') {\n                curO += curJ;\n            }\n            if (s[i] == 'I') {\n                curI += curO;\n            }\n        }\n\n        int v = curI;\n\n        rep(i, N+1) {\n            ma = max(ma, v + J[i + 1] * (I[N] - I[i + 1]));\n        }\n    }\n\n    cout << ma << endl;\n}"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <tuple>\n# include <unordered_map>\n# include <numeric>\n# include <complex>\nusing namespace std;\nusing LL = long long;\nusing ULL = unsigned long long;\nconstexpr int INF = 2000000000;\nconstexpr int HINF = INF / 2;\nconstexpr double DINF = 100000000000000000.0;\nconstexpr long long LINF = 9223372036854775807;\nconstexpr long long HLINF = 4500000000000000000;\nconst double PI = acos(-1);\nint dx[4] = { 0,1,0,-1 }, dy[4] = { 1,0,-1,0 };\n# define ALL(x)     (x).begin(),(x).end()\n# define UNIQ(c)    (c).erase(unique(ALL((c))), end((c)))\n# define mp         make_pair\n# define eb         emplace_back\n# define FOR(i,a,b) for(int i=(a);i<(b);++i)\n# define REP(i,n)   FOR(i,0,n)\n# define INIT       std::ios::sync_with_stdio(false);std::cin.tie(0);\n\nint n;\nstring s;\n\nLL dp[100100][4], J[100100], I[100100], oi[3][100100], jo[3][100100];\n\nint main() {\n\tcin >> n;\n\tcin >> s;\n\tdp[0][0] = 1;\n\tfor (int i = 0; i<n; i++) {\n\t\tif (s[i] == 'J')dp[i + 1][1] += dp[i][0];\n\t\telse if (s[i] == 'O')dp[i + 1][2] += dp[i][1];\n\t\telse dp[i + 1][3] += dp[i][2];\n\t\tfor (int j = 0; j<4; j++)dp[i + 1][j] += dp[i][j];\n\t}\n\n\tjo[0][0] = 1;\n\tfor (int i = 0; i<n; i++) {\n\t\tif (s[i] == 'J') {\n\t\t\tJ[i + 1]++;\tjo[1][i + 1] += jo[0][i];\n\t\t}\n\t\telse if (s[i] == 'O')\tjo[2][i + 1] += jo[1][i];\n\t\tJ[i + 1] += J[i];\n\t\tjo[0][i + 1] += jo[0][i];\n\t\tjo[1][i + 1] += jo[1][i];\n\t\tjo[2][i + 1] += jo[2][i];\n\t}\n\n\toi[0][n] = 1;\n\tfor (int i = n - 1; i >= 0; i--) {\n\t\tif (s[i] == 'I') {\n\t\t\tI[i]++;\toi[1][i] += oi[0][i + 1];\n\t\t}\n\t\telse if (s[i] == 'O')oi[2][i] += oi[1][i + 1];\n\t\tI[i] += I[i + 1];\n\t\toi[0][i] += oi[0][i + 1];\n\t\toi[1][i] += oi[1][i + 1];\n\t\toi[2][i] += oi[2][i + 1];\n\t}\n\n\tLL ans = max(oi[2][0], jo[2][n]);\n\tfor (int i = 1; i<n; i++) {\n\t\tLL tmp = max(oi[2][i], jo[2][i]);\n\t\tLL med = max(J[i] * I[i], tmp);\n\t\tans = max(ans, med);\n\t}\n\tcout << ans + dp[n][3] << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define int long long\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>=0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint n;\nstring s;\nint cntj[100005],cnti[100005];\nint dp[100005][4];\nint ans;\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> n;\n    cin >> s;\n    rep(i,n){\n        char c=s[i];\n        if (c=='J') cntj[i]=1;\n        else if (c=='I') cnti[i]=1;\n    }\n    rep(i,n-1){\n        cntj[i+1]+=cntj[i];\n        cnti[n-2-i]+=cnti[n-1-i];\n    }\n    int idx=-1;\n    int cnt=0;\n    rep(i,n-1){\n        if (cnt<cntj[i]*cnti[i+1]){\n            cnt=cntj[i]*cnti[i+1];\n            idx=i+1;\n        }\n    }\n    int ans=0;\n    dp[0][0]=1;\n    rep(k,3){\n        string tmps=s;\n        if (k==0) tmps='J'+tmps;\n        else if (k==1) tmps=tmps+'I';\n        else tmps.insert(tmps.begin()+idx,'O');\n        fill(dp[0],dp[n+2],0);\n        dp[0][0]=1;\n        rep(i,n+1)rep(j,4){\n            char c=tmps[i];\n            dp[i+1][j]+=dp[i][j];\n            if (c=='J'){\n                if (j==1) dp[i+1][j]+=dp[i][j-1];\n            }\n            else if (c=='O'){\n                if (j==2) dp[i+1][j]+=dp[i][j-1];\n            }\n            else{\n                if (j==3) dp[i+1][j]+=dp[i][j-1];\n            }\n        }\n        ans=max(ans,dp[n+1][3]);\n    }\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstring stamp;\nint main(){\n\tint n,m;\n\tint i,j,k;\n\tint a=0,b=0,c=0;\n\tcin>>n;\n\tcin>>stamp;\n\tfor(i=0;i<n;i++){\n\t\tif(stamp[i]=='J')a++;\n\t\tif(stamp[i]=='O')b+=a;\n\t\tif(stamp[i]=='I')c++;\n\t}\n\tm=b,a=0,b=0;\n\tfor(i=0;i<n;i++){\n\t\tif(stamp[i]=='I')a++;\n\t\tif(stamp[i]=='O')b+=a;\n\t}\n\tif(m<b)m=b;\n\ta=0,b=0;\n\tfor(i=0;i<n;i++){\n\t\tif(stamp[i]=='J')a++;\n\t\tif(stamp[i]=='I')c--;\n\t\tif(b<a*c)b=a*c;\n\t}\n\tif(m<b)m=b;\n\tcout<<m<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\ntypedef long long ll;\n\n#define N 100010\n#define LLINF 2000000000000000000LL\n\nint sum[N][3];\nll dp1[N][5],dp2[N][5];\n\nint main(){\n  int n,st[N];\n  char s[N];\n\n  scanf(\"%d%s\",&n,s);\n\n  for(int i=1;i<=n;i++){\n    if(s[i-1]=='J') st[i]=1;\n    if(s[i-1]=='O') st[i]=2;\n    if(s[i-1]=='I') st[i]=3;\n\n    sum[i][st[i]]++;\n  }\n\n  for(int i=1;i<=n;i++){\n    for(int j=0;j<3;j++){\n      sum[i+1][j] += sum[i][j];\n    }\n  }\n\n  ll ans = 0;\n\n  dp1[0][0] = 1;\n\n  for(int i=1;i<=n;i++){\n    dp1[i][st[i]] += dp1[i-1][st[i]-1];\n    for(int j=0;j<=4;j++){\n      dp1[i][j] += dp1[i-1][j];\n    }\n  }\n\n  dp2[n+1][4] = 1;\n\n  for(int i=n;i>=1;i--){\n    dp2[i][st[i]] += dp2[i+1][st[i]+1];\n    for(int j=0;j<=4;j++){\n      dp2[i][j] += dp2[i+1][j];\n    }\n  }\n\n  for(int i=0;i<=n;i++){\n    for(int j=1;j<=4;j++){\n      ans = max(ans,dp1[i][j-1] * dp2[i+1][j+1]);\n    }\n  }\n\n  printf(\"%lld\\n\",ans + dp1[n][3]);\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <future>\n\nconstexpr int MAX_N = (int)1e5;\n\nint n;\nint data[MAX_N];\nint max;\nint sum[MAX_N];\n\nvoid solve0() {\n\tint cnt = 0;\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n}\n\nvoid solve1() {\n\tint cnt = 0;\n\tfor (int i = n - 1; i >= 1; --i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (data[j] == 0)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n}\n\nvoid solve2() {\n\tint cnt = 0;\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 0) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2) {\n\t\t\t\t\t++sum[i];\n\t\t\t\t\t--sum[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 1; i < n; ++i)\n\t\tsum[i] += sum[i - 1];\n\tcnt = 0;\n\tfor (int i = 0; i < n; ++i)\n\t\tcnt = std::max(cnt, sum[i]);\n\tmax = std::max(max, cnt);\n}\n\nint main() {\n\tstd::cin >> n;\n\tchar in;\n\tfor (int i = 0; i < n; ++i) {\n\t\tstd::cin >> in;\n\t\tif (in == 'O')\n\t\t\tdata[i] = 1;\n\t\telse if (in == 'I')\n\t\t\tdata[i] = 2;\n\t}\n\n\tauto th1 = std::thread(solve0);\n\tauto th2 = std::thread(solve1);\n\tauto th3 = std::thread(solve2);\n\tth1.join();\n\tth2.join();\n\tth3.join();\n\n\tfor (int i = 0; i < n; ++i) {\n\t\tif (data[i] == 1)\n\t\t\tmax += sum[i];\n\t}\n\tstd::cout << max << std::endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n#define all(v) (v).begin(),(v).end()\n#define each(it,v) for(__typeof((v).begin()) it=(v).begin();it!=(v).end();it++)\n#define pb push_back\n#define fi first\n#define se second\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\n\nint sumJ[111111],sumI[111111];\n\nsigned main(){\n    int N;\n    string S;\n    cin>>N>>S;\n    rep(i,N){\n        sumJ[i+1]=sumJ[i]+(S[i]=='J');\n        sumI[i+1]=sumI[i]+(S[i]=='I');\n    }\n\n    int base=0;\n    rep(i,N){\n        if(S[i]=='O')base+=sumJ[i]*(sumI[N]-sumI[i]);\n    }\n\n    int ma=0;\n    int tmp=0;\n    rep(i,N)if(S[i]=='O')tmp+=sumI[N]-sumI[i];\n    chmax(ma,base+tmp);\n    tmp=0;\n    rep(i,N)if(S[i]=='O')tmp+=sumJ[i];\n    chmax(ma,base+tmp);\n\n    rep(i,N-1){\n        chmax(ma,base+sumJ[i]*(sumI[N]-sumI[i]));\n    }\n\n    cout<<ma<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<set>\n#include<map>\nusing namespace std;\n#define int long long\ntypedef pair<int, int> P;\nint rj[114514], ro[114514], ri[114514];\nint aj, ao, ai;\nsigned main() {\n\tint n;\n\tcin >> n;\n\tstring s;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'J')rj[i + 1]++;\n\t\telse if (s[i] == 'O')ro[i + 1]++;\n\t\telse ri[i + 1]++;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\trj[i + 1] += rj[i];\n\t\tro[i + 1] += ro[i];\n\t\tri[i + 1] += ri[i];\n\t}\n\n\t//plus'J'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0] + 1;\n\t\t\tint I = ri[n] - ri[i+1];\n\t\t\taj += J*I;\n\t\t}\n\t}\n\t//plus'O'\n\tfor (int i = 0; i < n; i++) {\n\t\tint J = rj[i] - rj[0];\n\t\tint I = ri[n] - ri[i+1];\n\t\tao = max(ao, J*I);\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i+1];\n\t\t\tao += J*I;\n\t\t}\n\t}\n\t//plus'I'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i+1] + 1;\n\t\t\tai += J*I;\n\t\t}\n\t}\n\tcout << max(aj, max(ao, ai)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++){\n\t\tcin>>s[i];\n\t}\n\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\tint TJ[100000]={},TO[100000]={},TI[100000]={};\n\n\tJsum=1;\n\tOsum=0;\n\tIsum=0;\n///J\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\t\tR=max(R,Isum);\n//O\n\tif(s[0]=='J')TJ[0]=1;\n\tfor(int i=1;i<N;i++){\n\t\tTJ[i]=TJ[i-1];\n\t\tTO[i]=TO[i-1];\n\t\tTI[i]=TI[i-1];\n\t\tif(s[i]=='J')TJ[i]+=1;\n\t\tif(s[i]=='O')TO[i]+=1;\n\t\tif(s[i]=='I')TI[i]+=1;\n\t}\n\tint moto;\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\tmoto=Isum;\n\tint x;\n\tfor(int j=1;j<N;j++){\n\t\tx=TJ[j]*(TI[N-1]-TI[j-1]);\n\t\tR=max(R,moto+x);\n\t}\n\n\n\t////I\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  char s[100001];\n  scanf(\"%d\",&n);\n  scanf(\"%s\",s);\n  int J[100001],I[100001];\n  J[0] = 0;\n  for(int i=0;i<n;i++){\n    if(i != 0) J[i] = J[i-1];\n    if(s[i] == 'J') J[i]++;\n  }\n  for(int i=n-1;i>=0;i--){\n    if(i != n-1) I[i] = I[i+1];\n    if(s[i] == 'I') I[i]++;\n  }\n  int ans,sum=0,isum = 0,jsum = 0,oma=0;\n  if(s[0] == 'O') isum = I[1];\n  if(s[n-1] == 'O') jsum = J[n-2];\n  for(int i=1;i<n-1;i++){\n    if(s[i] == 'O'){\n      oma = max(oma,J[i-1]*I[i+1]);\n      sum += J[i-1]*I[i+1];\n      jsum += (J[i-1]+1)*I[i+1];\n      isum += J[i-1]*(I[i+1]+1);\n    }\n  }\n  ans = max(jsum,isum);\n  ans = max(ans,sum+oma);\n  printf(\"%d\\n\",ans);\n  return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int N;\n  string s;\n  cin >> N >> s;\n  long long sum[3][100010] = {{0}};\n  string JOI = \"JOI\";\n  for(int i = 1; i <= N; i++){\n    for(int j = 0; j < 3; j++){\n      sum[j][i] += sum[j][i-1] + (s[i-1] == JOI[j]);\n    }\n  }\n\n  long long ans = 0;\n  for(int i = 0; i < N; i++){\n    if(s[i] == 'O') ans += sum[0][i]*(sum[2][N]-sum[2][i]);\n  }\n\n  long long inO = 0;\n  for(int i = 0; i < N; i++){\n    inO = max(inO, sum[0][i]*(sum[2][N]-sum[2][i]));\n  }\n  long long inJ = 0, inI = 0;\n  for(int i = 0; i < N; i++){\n    if(s[i] == 'O'){\n      inJ += (sum[2][N]-sum[2][i+1]);\n      inI += sum[0][i];\n    }\n  }\n  cout << ans+max(inO, max(inJ, inI)) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int n,icnt[100000] = {},jcnt[100000] = {};\n  string s;\n  cin >> n;\n  cin >> s;\n  if(s[0] == 'J') jcnt[0]++;\n  for(int i = 1;i < n;i++){\n    jcnt[i] = jcnt[i - 1];\n    if(s[i] == 'J') jcnt[i]++;\n  }\n  if(s[n - 1] == 'I') icnt[n - 1]++;\n  for(int i = n - 2;i >= 0;i--){\n    icnt[i] = icnt[i + 1];\n    if(s[i] == 'I') icnt[i]++;\n  }\n  long long int maxij = 0,maxnum[3] = {};\n  for(int i = 0;i < n;i++){\n    long long int ij = icnt[i] * jcnt[i];\n    if(s[i] == 'O') {\n      maxnum[1] += ij;\n      maxnum[0] += (icnt[i] + 1) * jcnt[i];\n      maxnum[2] += icnt[i] * (jcnt[i] + 1);\n    }\n    maxij = max(ij,maxij);\n  }\n  maxnum[1] += maxij;\n  cout << max(max(maxnum[0],maxnum[1]),maxnum[2]) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\n\n#define REP(i,n) for(long long i = 0; i < (n); i++)\n#define FOR(i, m, n) for(long long i = (m);i < (n); ++i)\n#define ALL(obj) (obj).begin(),(obj).end()\n#define SPEED cin.tie(0);ios::sync_with_stdio(false);\n\ntemplate<class T> using V = vector<T>;\ntemplate<class T, class U> using P = pair<T, U>;\n\nconst ll MOD = (ll)1e9 + 7;\nconst ll MOD2 = 998244353;\nconst ll HIGHINF = (ll)1e18;\nconst ll LOWINF = (ll)1e15;\nconst long double PI = 3.1415926535897932384626433;\n\ntemplate <class T> void corner(bool flg, T hoge) {if (flg) {cout << hoge << endl; exit(0);}}\ntemplate <class T, class U>ostream &operator<<(ostream &o, const map<T, U>&obj) {o << \"{\"; for (auto &x : obj) o << \" {\" << x.first << \" : \" << x.second << \"}\" << \",\"; o << \" }\"; return o;}\ntemplate <class T>ostream &operator<<(ostream &o, const set<T>&obj) {o << \"{\"; for (auto itr = obj.begin(); itr != obj.end(); ++itr) o << (itr != obj.begin() ? \", \" : \"\") << *itr; o << \"}\"; return o;}\ntemplate <class T>ostream &operator<<(ostream &o, const multiset<T>&obj) {o << \"{\"; for (auto itr = obj.begin(); itr != obj.end(); ++itr) o << (itr != obj.begin() ? \", \" : \"\") << *itr; o << \"}\"; return o;}\ntemplate <class T>ostream &operator<<(ostream &o, const vector<T>&obj) {o << \"{\"; for (int i = 0; i < (int)obj.size(); ++i)o << (i > 0 ? \", \" : \"\") << obj[i]; o << \"}\"; return o;}\ntemplate <class T, class U>ostream &operator<<(ostream &o, const pair<T, U>&obj) {o << \"{\" << obj.first << \", \" << obj.second << \"}\"; return o;}\ntemplate <template <class tmp>  class T, class U> ostream &operator<<(ostream &o, const T<U> &obj) {o << \"{\"; for (auto itr = obj.begin(); itr != obj.end(); ++itr)o << (itr != obj.begin() ? \", \" : \"\") << *itr; o << \"}\"; return o;}\nvoid print(void) {cout << endl;}\ntemplate <class Head> void print(Head&& head) {cout << head;print();}\ntemplate <class Head, class... Tail> void print(Head&& head, Tail&&... tail) {cout << head << \" \";print(forward<Tail>(tail)...);}\ntemplate <class T> void chmax(T& a, const T b){a=max<T>(a,b);}\ntemplate <class T> void chmin(T& a, const T b){a=min<T>(a,b);}\nvoid YN(bool flg) {cout << ((flg) ? \"YES\" : \"NO\") << endl;}\nvoid Yn(bool flg) {cout << ((flg) ? \"Yes\" : \"No\") << endl;}\nvoid yn(bool flg) {cout << ((flg) ? \"yes\" : \"no\") << endl;}\n\nint main() {\n    int N; cin >> N;\n    string S,W; cin >> S;\n    W.push_back(S[0]);\n    for(int i = 1; i < S.size(); ++i){\n        W.push_back('.');\n        W.push_back(S[i]);\n    }\n\n    N = W.size();\n\n    V<ll> L(N,0),R(N,0);\n\n    for(int i = 0; i < N-1; ++i){\n        if(W[i] == 'J') L[i+1]++;\n        L[i+1] += L[i];\n    }\n    for(int i = N-1; 0 < i; --i){\n        if(W[i] == 'I') R[i-1]++;\n        R[i-1] += R[i];\n    }\n\n    string T = \"J\" + S, U = S + \"I\";\n    ll J,JO,JOI,ans = 0;\n    J = JO = JOI = 0;\n    for(int i = 0; i < T.size(); ++i){\n        if(T[i]=='J') J += 1;\n        if(T[i]=='O') JO += J;\n        if(T[i]=='I') JOI += JO;\n    }\n    chmax(ans,JOI);\n\n    J = JO = JOI = 0;\n    for(int i = 0; i < U.size(); ++i){\n        if(U[i]=='J') J += 1;\n        if(U[i]=='O') JO += J;\n        if(U[i]=='I') JOI += JO;\n    }\n    chmax(ans,JOI);\n\n    ll sum = 0;\n    for(int i = 0; i < N; ++i) if(W[i]=='O') sum += L[i]*R[i];\n    chmax(ans,sum);\n    for(int i = 0; i < N; ++i) if(W[i]=='.') chmax(ans,sum+L[i]*R[i]);\n    cout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  char s[100005];\n  scanf(\"%d\",&n);\n  scanf(\"%s\",s);\n  long long J[100005],I[100005];\n  J[0] = 0;\n  I[n-1] = 0;\n  for(int i=0;i<n;i++){\n    if(i != 0) J[i] = J[i-1];\n    if(s[i] == 'J') J[i]++;\n  }\n  for(int i=n-1;i>=0;i--){\n    if(i != n-1) I[i] = I[i+1];\n    if(s[i] == 'I') I[i]++;\n  }\n  long long ans,sum=0,isum = 0,jsum = 0,oma=0;\n  if(s[0] == 'O') isum = I[1];\n  if(s[n-1] == 'O') jsum = J[n-2];\n  for(int i=1;i<n-1;i++){\n    if(s[i] == 'O'){\n      sum += J[i-1]*I[i+1];\n      jsum += (J[i-1]+1)*I[i+1];\n      isum += J[i-1]*(I[i+1]+1);\n    }\n    oma = max(oma,J[i-1]*I[i]);\n  }\n  oma = max(oma,J[n-2]*I[n-1]);\n  ans = max(jsum,isum);\n  ans = max(ans,sum+oma);\n  printf(\"%lld\\n\",ans);\n  return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#define int long long\nusing namespace std;\n\nsigned main() {\n\tint a; string b;\n\tcin >> a >> b;\n\tint J[100000], I[100000], j = 0, i = 0;\n\tfor (int c = 0; c < a; c++) {\n\t\tif (b[c] == 'J')j++;\n\t\tJ[c] = j;\n\t}\n\tfor (int d = a - 1; d != -1; d--) {\n\t\tif (b[d] == 'I')i++;\n\t\tI[d] = i;\n\t}\n\tint sum, MAX, l, r; sum = MAX = l = r = 0;\n\tfor (int e = 0; e < a; e++) {\n\t\tMAX = max(MAX, J[e] * I[e]);\n\t\tif (b[e] == 'O') {\n\t\t\tsum += J[e] * I[e];\n\t\t\tl += J[e];\n\t\t\tr += I[e];\n\t\t}\n\t}\n\tcout << sum + max(MAX, max(l, r)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<math.h>\n#include<queue>\n#include<set>\n#include<map>\n#include<random>\n\n#define rep(i,n) for(int i=0; i<n; i++)\n\nusing namespace std;\n\ntypedef long long ll;\n\n\n\nint N;\nstring s;\n\nint main() {\n\tcin >> N >> s;\n\n\tint cntI = 0;\n\trep(i, N) {\n\t\tif (s[i] == 'I') cntI++;\n\t}\n\n\tint sumJ = 0, sumI = cntI;\n\tll ret = 0;\n\trep(i, N) {\n\t\tif (s[i] == 'J') sumJ++;\n\t\tif (s[i] == 'O') ret += sumJ * sumI;\n\t\tif (s[i] == 'I') sumI--;\n\t}\n\n\tll crsJ = 0, crsO = 0, crsI = 0;\n\tsumJ = 0; sumI = cntI;\n\trep(i, N) {\n\t\tif (s[i] == 'J') sumJ++;\n\t\tif (s[i] == 'I') sumI--;\n\t\tif (s[i] == 'O') {\n\t\t\tcrsI += sumJ;\n\t\t\tcrsJ += sumI;\n\t\t}\n\t\tcrsO = max(crsO, (ll)sumJ * sumI);\n\t}\n\n\tcout << ret + max({ crsJ, crsO, crsI }) << endl;\n\n\t\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define err(args...) {}\n#ifdef DEBUG\n#include \"_debug.cpp\"\n#endif\nusing namespace std;\nusing ll = long long;\ntemplate <typename T> using lim = numeric_limits<T>;\nint main() {\n    ios_base::sync_with_stdio(false);\n    cin.tie(0);\n    int n;\n    string s;\n    cin >> n >> s;\n    vector<ll> jbefore(n + 1, 0);\n    for(int i = 1; i <= n; i++) {\n        jbefore[i] = jbefore[i - 1] + (s[i - 1] == 'J');\n    }\n    vector<ll> iafter(n + 1, 0);\n    for(int i = n - 1; i >= 0; i--) {\n        iafter[i] = iafter[i + 1] + (s[i] == 'I');\n    }\n    vector<ll> jobefore(n + 1, 0);\n    for(int i = 1; i <= n; i++) {\n        jobefore[i] = jobefore[i - 1] + (s[i - 1] == 'O' ? jbefore[i] : 0);\n    }\n    vector<ll> oiafter(n + 1, 0);\n    for(int i = n - 1; i >= 0; i--) {\n        oiafter[i] = oiafter[i + 1] + (s[i] == 'O' ? iafter[i] : 0);\n    }\n    ll ans = 0;\n    for(int i = 0; i < n; i++) {\n        if(s[i] == 'O') {\n            ans += jbefore[i] * iafter[i];\n        }\n    }\n    ll best = 0;\n    for(int i = 0; i <= n; i++) {\n        best = max({best, oiafter[i], jbefore[i] * iafter[i], jobefore[i]});\n    }\n    cout << ans + best << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define INF 999999999\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<n;++i)\n\nusing namespace std;\n\ntypedef pair<int,int>P;\n\nconst int MAX_N = 100005;\n\nchar c[MAX_N];\nvector<P> a;\nint n;\n\nint main()\n{\n\tint cntj=0,cnti=0;\n\tscanf(\"%d\",&n);\n\tchar x;\n\tscanf(\"%c\",&x);\n\tbool flag = false;\n\trep(i,n){\n\t\tscanf(\"%c\",&c[i]);\n\t\tif(c[i] == 'I'){\n\t\t\tcnti++;\n\t\t}\n\t\tif(c[i] == 'O'){\n\t\t\tflag = true;\n\t\t}\n\t}\n\tif(!flag){\n\t\tll mx = 0;\n\t\trep(i,n){\n\t\t\tif(c[i] == 'J'){\n\t\t\t\tcntj++;\n\t\t\t}else{\n\t\t\t\tcnti--;\n\t\t\t}\n\t\t\tmx = max(mx,(ll)cntj*cnti);\n\t\t}\n\t\tprintf(\"%lld\\n\",mx);\n\t\treturn 0;\n\t}\n\tll mx = 0;\n\tll ans1 = 0;\n\trep(i,n){\n\t\tif(c[i] == 'J'){\n\t\t\tcntj++;\n\t\t}else if(c[i] == 'I'){\n\t\t\tcnti--;\n\t\t}else{\n\t\t\ta.push_back(P(cntj,cnti));\n\t\t\tans1 += (ll)cntj*cnti;\n\t\t\tmx = max(mx,(ll)cntj*cnti);\n\t\t}\n\t}\n\tans1 += mx;\n\tll ans2 = 0;\n\tll ans3 = 0;\n\trep(i,a.size()){\n\t\tans2 += (ll)(a[i].first+1)*a[i].second;\n\t\tans3 += (ll)a[i].first*(a[i].second+1);\n\t}\n\tprintf(\"%lld\\n\",max(max(ans1,ans2),ans3));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <functional>\n\nusing namespace std;\n\n#define rep(i,a,n) for(int i = a; n > i; i++)\n#define REP(i,n) rep(i,0,n)\n#define MP(a,b) make_pair(a,b)\n#define ALL(a) (a).begin(),(a).end()\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n\nint main(){\n\tint n;\n\tscanf(\"%d%*c\", &n);\n\tint jsum = 0,osum = 0,isum = 0;\n\tvector<char> str(n);\n\tREP(i,n){\n\t\tscanf(\"%c\", &str[i]);\n\t\tswitch(str[i]){\n\t\t\tcase 'J':\n\t\t\t\tjsum++;\n\t\t\t\tbreak;\n\t\t\tcase 'O':\n\t\t\t\tosum++;\n\t\t\t\tbreak;\n\t\t\tcase 'I':\n\t\t\t\tisum++;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tint cans[3] = {},Oad = 0, cj = 0,ci = isum;\n\tREP(i,n){\n\t\tif(str[i] == 'O'){\n\t\t\tcans[0] += (cj+1)*ci;\n\t\t\tcans[1] += cj*ci;\n\t\t\tOad = max(Oad, cj*ci);\n\t\t\tcans[2] += cj*(ci+1);\n\t\t}\n\t\telse if(str[i] == 'I'){\n\t\t\tci--;\n\t\t}\n\t\telse{\n\t\t\tcj++;\n\t\t}\n\n\t}\n\n\tcans[1] += Oad;\n\n\tprintf(\"%d\\n\", max({cans[0], cans[1], cans[2]}));\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n\nll n;\nchar s[100001];\nll lj[100001], ljo[100001], ri[100001], roi[100001], joi;\n\nint main() {\n  scanf(\"%lld%s\", &n, s);\n  for (ll i = 0; i < n; i++) {\n    if (i == 0) lj[i] = ljo[i] = joi = 0;\n    else lj[i] = lj[i - 1], ljo[i] = ljo[i - 1];\n    if (s[i] == 'J') lj[i]++;\n    if (s[i] == 'O') ljo[i] += lj[i];\n    if (s[i] == 'I') joi += ljo[i];\n  }\n  for (ll i = n - 1; i >= 0; i--) {\n    if (i == n - 1) ri[i] = roi[i] = 0;\n    else ri[i] = ri[i + 1], roi[i] = roi[i + 1];\n    if (s[i] == 'I') ri[i]++;\n    if (s[i] == 'O') roi[i] += ri[i];\n  }\n  ll ans = max(ljo[n - 1], roi[0]);\n  for (ll i = 0; i < n - 1; i++) {\n    ans = max(ans, lj[i] * ri[i + 1]); // O\n    ans = max(ans, roi[i + 1]); // J\n    ans = max(ans, ljo[i]); // I\n  }\n  printf(\"%lld\\n\", ans + joi);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\ntypedef long long ll;\n\nll ary[100010],jn[100010],in[100010];\nint main(){\n\tint N;\n\tcin>>N;\n\tchar ch;\n\tfor(int i=1;i<=N;i++){\n\t\tcin>>ch;\n\t\tif(ch=='J') ary[i]=0;\n\t\telse if(ch=='O') ary[i]=1;\n\t\telse ary[i]=2;\n\t}\n\tll cnt=0;\n\tfor(int i=1;i<=N;i++){\n\t\tif(ary[i]==0) cnt++;\n\t\tjn[i]=cnt;\n\t}\n\tcnt=0;\n\tfor(int i=N;i>=1;i--){\n\t\tif(ary[i]==2) cnt++;\n\t\tin[i]=cnt;\n\t}\n\tll res[3]={};\n\tcnt=0;\n\tfor(int i=1;i<=N;i++){\n\t\tif(ary[i]==1){\n\t\t\tres[0]+=((jn[i]+1)*in[i]);\n\t\t\tres[1]+=(jn[i]*in[i]);\n\t\t\tres[2]+=(jn[i]*(in[i]+1));\n\t\t}\n\t\tcnt=max(cnt,jn[i]*in[i]);\n\t}\n\tres[1]+=cnt;\n\tcout<<max(res[1],max(res[0],res[2]))<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<utility>\n#include<string>\n#include<vector>\n#include<algorithm>\n#include<deque>\n#include<queue>\n#include<set>\n#include<map>\n#include<functional>\n\nusing namespace std;\n#define LL long long\n#define LLBIG 1999999999999999999\n#define INTBIG 1111111111\n#define PI pair<int,int>\n#define VI vector<int>\n#define VVI vector<vector<int>>\n\nLL N, OI = 0, JO = 0, J[100002] = {}, I[100002] = {}, JOI = 0, ans;\nstring S;\n\nint main() {\n\tcin >> N >> S;\n\t//JO,J\n\tJ[0] = (S[0] == 'J' ? 1 : 0);\n\tfor (int i = 1; i < N; i++) {\n\t\tJ[i] = J[i - 1];\n\t\tif (S[i] == 'J') J[i]++;\n\t\tif (S[i] == 'O') JO += J[i];\n\t}\n\t//JOI,OI,I\n\tI[N - 1] = (S[N - 1] == 'I' ? 1 : 0);\n\tfor (int i = N - 2; i >= 0; i--) {\n\t\tI[i] = I[i + 1];\n\t\tif (S[i] == 'I') I[i]++;\n\t\tif (S[i] == 'O') OI += I[i];\n\t\tif (S[i] == 'J') JOI += OI;\n\t}\n\t\n\tans = max(JOI + JO, JOI + OI);//I,Jをつけたとき\n\n\tfor (int i = 0; i < N - 1; i++) \n\t\tans = max(ans, JOI + J[i] * I[i + 1]);\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  char s[100001];\n  scanf(\"%d\",&n);\n  scanf(\"%s\",s);\n  long long J[100001],I[100001];\n  J[0] = 0;\n  I[n-1] = 0;\n  for(int i=0;i<n;i++){\n    if(i != 0) J[i] = J[i-1];\n    if(s[i] == 'J') J[i]++;\n  }\n  for(int i=n-1;i>=0;i--){\n    if(i != n-1) I[i] = I[i+1];\n    if(s[i] == 'I') I[i]++;\n  }\n  long long ans,sum=0,isum = 0,jsum = 0,oma=0;\n  if(s[0] == 'O') isum = I[1];\n  if(s[n-1] == 'O') jsum = J[n-2];\n  for(int i=1;i<n-1;i++){\n    if(s[i] == 'O'){\n      oma = max(oma,J[i-1]*I[i+1]);\n      sum += J[i-1]*I[i+1];\n      jsum += (J[i-1]+1)*I[i+1];\n      isum += J[i-1]*(I[i+1]+1);\n    }\n    oma = max(oma,J[i-1]*I[i]);\n  }\n  oma = max(oma,J[n-2]*I[n-1]);\n  ans = max(jsum,isum);\n  ans = max(ans,sum+oma);\n  printf(\"%lld\\n\",ans);\n  return (0);\n}"
  },
  {
    "language": "C++",
    "code": "/*\n * 2016-ho-t2.cpp\n *\n *  Created on: 2017/02/09\n *      Author: joi\n */\n\n#include<cstdio>\n#include<cstring>\nint main(void){\n\tchar a[100001];\n\tint n;\n\tlong long cj=0;\n\tlong long co=0;\n\tlong long ci=0;\n\tlong long mj=0;\n\tlong long mi=0;\n\tlong long s;\n\tlong long p;\n\tlong long maxj;\n\tlong long maxi;\n\tlong long max;\n\tscanf(\"%d\",&n);\n\tscanf(\"%s\",a);\n\tfor(int i=0;i<n;i++){\n\t\tif(a[i]=='J')cj++;\n\t\tif(a[i]=='O')co++;\n\t\tif(a[i]=='I')ci++;\n\t}\n\tmj=0;\n    mi=ci;\n    s=0;\n\tfor(int i=0;i<n;i++){\n\t\tif(a[i]=='J'){\n\t\t\tmj++;\n\t\t}\n\t\tif(a[i]=='O'){\np=mj*mi;\ns=s+p;\n\t\t}\n\t\tif(a[i]=='I'){\n\t\t\tmi--;\n\t\t}\n\t}\n\n\tmj=1;\n    mi=ci;\n    maxj=0;\n\tfor(int i=0;i<n;i++){\n\t\tif(a[i]=='J'){\n\t\t\tmj++;\n\t\t}\n\t\tif(a[i]=='O'){\np=mj*mi;\nmaxj=maxj+p;\n\t\t}\n\t\tif(a[i]=='I'){\n\t\t\tmi--;\n\t\t}\n\t}\n\n\tmj=0;\n    mi=ci+1;\n    maxi=0;\n\tfor(int i=0;i<n;i++){\n\t\tif(a[i]=='J'){\n\t\t\tmj++;\n\t\t}\n\t\tif(a[i]=='O'){\np=mj*mi;\nmaxi=maxi+p;\n\t\t}\n\t\tif(a[i]=='I'){\n\t\t\tmi--;\n\t\t}\n\t}\n\n\tmj=0;\n    mi=ci;\n    max=0;\n\tfor(int i=0;i<n;i++){\n\t\tif(a[i]=='J'){\n\t\t\tmj++;\n\t\t}\n\t\tif(a[i]=='I'){\n\t\t\tmi--;\n\t\t}\n\t\tp=mj*mi;\n\t\tif(max<p)max=p;\n\t}\nif(maxj>maxi){\n\tif(maxj>s+max)printf(\"%lld\\n\",maxj);\n\telse printf(\"%lld\\n\",s+max);\n}\nelse {\n\tif(maxi>s+max)printf(\"%lld\\n\",maxi);\n\telse printf(\"%lld\\n\",s+max);\n}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define MAX 100002\nusing namespace std;\n\nint main()\n{\n  string s,js,si;\n  int n,O[MAX]={},CO[MAX]={},I[MAX]={},CI[MAX]={};\n  int numI[MAX]={};\n\n  cin>>n;\n  cin>>s;\n\n  long long count=0,count1=1,ans=0,sum=0,sum1=0,tmp=0;\n  for(int i=0;i<n;i++){\n    if(s[i]=='J'){\n      count++;\n      count1++;\n    }\n    if(s[i]=='O'){\n      O[i]=count;\n      CO[i]=count1;\n    }\n  }\n  count = 0;\n  count1 = 0;\n  for(int i=0;i<n;i++){\n    count+=O[i];\n    count1+=CO[i];\n    if(s[i]=='I'){\n      I[i]=count;\n      CI[i]=count1;\n      sum1+=I[i];\n      sum+=CI[i];\n    }\n  }\n  ans=max(sum1+count,sum);\n\n  count=0;\n  for(int i=n-1;i>=0;i--){\n    if(s[i]=='I')count++;\n    if(s[i]=='O')numI[i]=count;\n  }\n  for(int i=0;i<n;i++){\n    if(s[i]=='O'){\n      ans=max(ans,sum1+O[i]*numI[i]);\n    }\n  }\n  cout<<ans<<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\ntypedef long long ll;\n\nint main(){\n\tint n;\n\tchar s[100001];\n\tll ans = 0;\n\tscanf(\"%d %s\",&n,s);\n\tll J = 0, O = 0, I = 0;\n\tint Iall = 0;\n\tll usi = 0, uma = 0, dugong = 0;\n\tfor(int i=0;i<n;i++) if(s[i]=='I') Iall++;\n\tfor(int i=0;i<n;i++){\n\t\tif(s[i-1]=='O') ans += J * (Iall - I);\n\t\tif(s[i-1]=='J') J++;\n\t\telse if(s[i-1]=='O') O++;\n\t\telse if(s[i-1]=='I') I++;\n\t}\n\tJ = O = I = 0;\n\tfor(int i=0;i<n;i++){\n\t\tif(s[i]=='O') usi += Iall - I;\n\t\telse if(s[i]=='I') I++;\n\t}\n\tJ = O = I = 0;\n\tfor(int i=0;i<n;i++){\n\t\tif(s[i]=='J') J++;\n\t\telse if(s[i]=='O') uma += J;\n\t}\n\tJ = O = I = 0;\n\tfor(int i=0;i<n;i++){\n\t\tif(s[i]=='J') J++;\n\t\telse if(s[i]=='I') I++;\n\t\tdugong = max(dugong,J*(Iall-I));\n\t}\n\tusi = max(usi,uma);\n\tdugong = max(dugong,usi);\n\tans += dugong;\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<set>\n#include<map>\nusing namespace std;\n#define int long long\ntypedef pair<int, int> P;\nint rj[114514], ro[114514], ri[114514];\nint aj, ao, ai;\nsigned main() {\n\tint n;\n\tcin >> n;\n\tstring s;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'J')rj[i + 1]++;\n\t\telse if (s[i] == 'O')ro[i + 1]++;\n\t\telse ri[i + 1]++;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\trj[i + 1] += rj[i];\n\t\tro[i + 1] += ro[i];\n\t\tri[i + 1] += ri[i];\n\t}\n\n\t//plus'J'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0] + 1;\n\t\t\tint I = ri[n] - ri[i];\n\t\t\taj += J*I;\n\t\t}\n\t}\n\t//plus'O'\n\tfor (int i = 0; i < n; i++) {\n\t\tint J = rj[i] - rj[0];\n\t\tint I = ri[n] - ri[i];\n\t\tao = max(ao, J*I);\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i];\n\t\t\tao += J*I;\n\t\t}\n\t}\n\t//plus'I'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = rj[n] - rj[i] + 1;\n\t\t\tai += J*I;\n\t\t}\n\t}\n\tcout << max(aj, max(ao, ai)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nlong long solve(string t) {\n\tint sumj = 0, sumi = 0;\n\tfor(int i = 0; i < t.size(); i++) {\n\t\tif(t[i] == 'I') sumi++;\n\t}\n\tlong long ret = 0;\n\tfor(int i = 0; i < t.size(); i++) {\n\t\tif(t[i] == 'O') ret += 1LL * sumj * sumi;\n\t\tif(t[i] == 'J') sumj++;\n\t\tif(t[i] == 'I') sumi--;\n\t}\n\treturn ret;\n}\nint n; string s;\nint main() {\n\tcin >> n >> s;\n\tlong long retj = solve(\"J\" + s);\n\tlong long reti = solve(s + \"I\");\n\tlong long ret = max(retj, reti);\n\tlong long sum = solve(s);\n\tint sumj = 0, sumi = 0;\n\tfor(int i = 0; i < n; i++) {\n\t\tif(s[i] == 'I') sumi++;\n\t}\n\tfor(int i = 0; i < n; i++) {\n\t\tret = max(ret, sum + 1LL * sumj * sumi);\n\t\tif(s[i] == 'J') sumj++;\n\t\tif(s[i] == 'I') sumi--;\n\t}\n\tcout << ret << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<bits//stdc++.h>\n#include<functional>\nusing namespace std;\nint a[100000];\nint main() {\n\tint n;\n\tstring s;\n\tcin>>n>>s;\n\tfill(a,a+n,0);\n\tlong long sum6=0;\n\tfor(int i=n;i>=0;i--){\n\t\tif(s[i]=='O'){\n\t\t\tfor(int j=i+1;j<n;j++){\n\t\t\t\tif(s[j]=='I')a[i]++;\n\t\t\t\telse if(s[i]=='O') {\n\t\t\t\t\ta[i]+=a[j];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if(s[i]=='J'){\n\t\t\tfor(int j=i+1;j<n;j++){\n\t\t\t\tif(s[j]=='J'){\n\t\t\t\t\ta[i]+=a[j];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if(s[j]=='O'){\n\t\t\t\t\ta[i]+=a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tsum6+=a[i];\n\t\t}\n\t}\n\tlong long sum=0;\n\tfor(int i=0;i<n;i++){\n\t\tlong long sum2=0;\n\t\tfor(int j=i+1;j<n;j++){\n\t\t\tif(s[j]=='J'){\n\t\t\t\tsum2+=a[j];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if(s[j]=='O'){\n\t\t\t\tsum2+=a[j];\n\t\t\t}\n\t\t}\n\t\tsum=max(sum,sum2);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tlong long sum2=0;\n\t\tfor(int j=i+1;j<n;j++){\n\t\t\tif(s[j]=='I'){\n\t\t\t\tsum2++;\n\t\t\t}\n\t\t\telse if(s[j]=='O'){\n\t\t\t\tsum2+=a[j];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlong long sum3=0;\n\t\tfor(int j=i;j>=0;j--){\n\t\t\tif(s[j]=='J'){\n\t\t\t\tsum3+=sum2;\n\t\t\t}\n\t\t}\n\t\tsum=max(sum,sum3);\n\t}\n\tcout<<sum+sum6<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ALL(a) begin(a), end(a)\n#define TPL template\n#define TNM typename\n\nusing ll = long long;\nusing ull = unsigned long long;\n\nTPL<TNM T> using vec = vector<T>;\nTPL<TNM T> using vec2 = vec<vec<T>>;\nTPL<TNM T> using vec3 = vec<vec2<T>>;\nTPL<TNM T> using vec4 = vec<vec3<T>>;\nTPL<TNM T> using vec5 = vec<vec4<T>>;\n\nTPL<TNM T> inline istream& operator >> (istream& is, vector<T>& vec) { for (T& x : vec) is >> x; return is; }\nTPL<TNM V, TNM H> void resize(vector<V>& _v, const H _h) { _v.resize(_h); }\nTPL<TNM V, TNM H, TNM ... T> void resize(vector<V>& _v, const H& _h, const T& ... _t) { _v.resize(_h); for (auto& __v : _v) resize(__v, _t ...); }\nTPL<TNM V, TNM T> TNM enable_if<!is_class<V>::value>::type fill(vector<V>& _v, const T& _t) { std::fill(ALL(_v), _t); }\nTPL<TNM V, TNM T> TNM enable_if<is_class<V>::value>::type fill(vector<V>& _v, const T& _t) { for (auto& _e : _v) fill(_e, _t); }\nTPL<TNM T> inline void UNIQUE(vector<T>& _v) { sort(ALL(_v)); _v.erase(unique(ALL(_v)), _v.end()); }\nstruct pre_ { pre_() { cin.tie(nullptr); ios::sync_with_stdio(false); cout << fixed << setprecision(10); } } pre__;\n\n//0-indexed \ntemplate<class T = int>\nstruct CumulativeSum1D\n{\n\tbool builded;\n\tvector<T> data;\n\tCumulativeSum1D(int N) { builded = false; data.resize(N + 1, 0); }\n\tinline void add(int i, T x)\n\t{\n\t\tdata[i + 1] = x;\n\t\tbuilded = false;\n\t}\n\n\tvoid build()\n\t{\n\t\tint n = data.size();\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tdata[i] += data[i - 1];\n\t\t}\n\t\tbuilded = true;\n\t}\n\t//0-indexed [l, r]\n\tinline T query(int l, int r) { assert(builded); return data[r + 1] - data[l]; }\n};\n\nint main(void) {\n\tint N;\n\tcin >> N;\n\tstring S;\n\tcin >> S;\n\tCumulativeSum1D<int> J(N), I(N);\n\tfor (int i = 0; i < N; ++i) {\n\t\tif (S[i] == 'J')J.add(i, 1);\n\t\tif (S[i] == 'I')I.add(i, 1);\n\t}\n\tJ.build();\n\tI.build();\n\tll mx = 0;\n\tll id = -1;\n\tfor (int i = 1; i < N - 1; ++i) {\n\t\tll p = 1;\n\t\tll l = J.query(0, i - 1);\n\t\tll r = I.query(i, N - 1);\n\t\tp = l * r;\n\t\tif (mx < p) {\n\t\t\tmx = p;\n\t\t\tid = i;\n\t\t}\n\t}\n\tll Jmax = 0, Imax = 0, Omax = mx;\n\tfor (int i = 0; i < N; ++i) {\n\t\tll l = J.query(0, i - 1);\n\t\tll r = I.query(i + 1, N - 1);\n\t\tif (S[i] == 'O') {\n\t\t\tJmax += ((l + 1) * r);\n\t\t\tImax += (l) * (r + 1);\n\t\t\tOmax += l * r;\n\t\t}\n\t}\n\n\tcout << max({ Jmax, Imax, Omax }) << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n;string T;vector<int>v;\nlong long search(string S){\n\tv.clear();\n\tfor(int i=0;i<(int)S.size();i++){\n\t\tif(S[i]=='J')v.push_back(0);\n\t\tif(S[i]=='O')v.push_back(1);\n\t\tif(S[i]=='I')v.push_back(2);\n\t}\n\tvector<vector<int> >dp(v.size()+1,vector<int>(4,0));\n\tdp[0][0]=1;\n\tfor(int i=0;i<(int)v.size();i++){\n\t\tdp[i+1][v[i]+1]+=dp[i][v[i]];\n\t\tfor(int j=0;j<4;j++)dp[i+1][j]+=dp[i][j];\n\t}\n\treturn dp[v.size()][3];\n}\nint main(){\n\tcin>>n>>T;long long ret=0;\n\tret=max(ret,max(search(\"J\"+T),search(T+\"I\")));\n\tfor(int i=1;i<=(int)T.size()-1;i++){\n\t\tret=max(ret,search(T.substr(0,i)+\"O\"+T.substr(i,T.size()-i)));\n\t}\n\tcout<<ret<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(void){\n\tlong long n,i,jwa[100001],iwa[100001],mx,sum,x,js,is;\n\tchar s[100001];\n\tcin>>n>>s;\n\tfor(i=0;i<=n;i++)jwa[i]=0,iwa[i]=0;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=0) jwa[i]=jwa[i-1];\n\t\tif(s[i]=='J') jwa[i]++;\n\t}\n\tfor(i=n-1;i>=0;i--){\n\t\tif(i!=n-1) iwa[i]=iwa[i+1];\n\t\tif(s[i]=='I') iwa[i]++;\n\t}\n\tmx=0; sum=0; js=0; is=0;\n\tfor(i=0;i<n;i++){\n\t\tx=jwa[i]*iwa[i];\n\t\tif(s[i]=='O') js+=iwa[i],is+=jwa[i],sum+=x;\n\t\tmx=max(mx,x);\n\t}\n\tmx=max(mx,js);\n\tmx=max(mx,is);\n\tcout<<sum+mx<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll N, ruisekiwa[100001][3];\nchar in[100000];\n\nint main() {\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tchar c;\n\t\tcin >> c;\n\t\tif (c == 'J')ruisekiwa[i + 1][0]++;\n\t\tif (c == 'O')ruisekiwa[i + 1][1]++;\n\t\tif (c == 'I')ruisekiwa[i + 1][2]++;\n\t\tfor (int j = 0; j < 3; j++)ruisekiwa[i + 1][j] += ruisekiwa[i][j];\n\t\tin[i] = c;\n\t}\n\n\tll hajime = 0;\n\tfor (int i = 0; i < N - 1; i++) {\n\t\tif (in[i] == 'O') {\n\t\t\thajime += ((ruisekiwa[i + 1][0] - ruisekiwa[0][0]) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2]));\n\t\t}\n\t}\n\tll ans = hajime, tmp = 0;\n\t//J????????? ????????????????????????????????????\n\tfor (int i = 0; i < N - 1; i++) {\n\t\tif (in[i] == 'O') {\n\t\t\ttmp += ((ruisekiwa[i + 1][0] - ruisekiwa[0][0] + 1) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2]));\n\t\t}\n\t}\n\tans = max(ans, tmp), tmp = 0;\n\n\t//O????????? ??¨????????????\n\n\tfor (int i = 0; i < N - 1; i++) {\n\t\ttmp = max(tmp, \n\t\t\t(ruisekiwa[i + 1][0] - ruisekiwa[0][0]) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2]));\n\t}\n\tans = max(ans, hajime + tmp), tmp = 0;\n\n\t//I????????????????????????????????????????????????\n\tfor (int i = 0; i < N - 1; i++) {\n\t\tif (in[i] == 'O') {\n\t\t\ttmp += ((ruisekiwa[i + 1][0] - ruisekiwa[0][0]) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2] + 1));\n\t\t}\n\t}\n\tans = max(ans, tmp), tmp = 0;\n\t\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef double db;\n\n#define fr first\n#define sc second\n#define pb push_back\n#define rep(i,x) for(ll i=0;i<x;i++)\n#define rep1(i,x) for(ll i=1;i<=x;i++)\n#define rrep(i,x) for(ll i=x-1;i>=0;i--)\n#define rrep1(i,x) for(ll i=x;i>0;i--)\n\nstring s;\nll N;\nll J[100000],O[100000],I[100000];\nll rJ[100000],rO[100000],rI[100000];\nll ans=0;\nll OI,JO;\nint main()\n{\n\tcin>>N;\n\tcin>>s;\n\trep(i,N){\n\t\tif(s[i]=='J'){\n\t\t\tJ[i]++;\n\t\t\trJ[i]++;\n\t\t}\n\t\telse if(s[i]=='O'){\n\t\t\tO[i]++;\n\t\t\trO[i]++;\n\t\t}\n\t\telse {\n\t\t\tI[i]++;\n\t\t\trI[i]++;\n\t\t}\n\t}\n\trep(i,N-1){\n\t\tJ[i+1]+=J[i];\n\t\tO[i+1]+=O[i];\n\t\tI[i+1]+=I[i];\n\t}\n\trrep(i,N-1){\n\t\trJ[i]+=rJ[i+1];\n\t\trO[i]+=rO[i+1];\n\t\trI[i]+=rI[i+1];\n\t}\n\tll cnt=0;\n\trep(i,N){\n\t\tif(s[i]=='O'){\n\t\t\tans+=J[i]*rI[i];\n\t\t\tOI+=rI[i];\n\t\t\tJO+=J[i];\n\t\t}\n\t\tcnt=max(cnt,J[i]*rI[i]);\n\t}\n\tcout<<ans+max(cnt,max(JO,OI))<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\n\nconst long double PI = acos(-1);\nconstexpr long double EPS = 1e-15;\nconstexpr int inf = 2e9;\nconstexpr ll INF = 2e18;\nconstexpr ll MOD = 1e9+7;\nconstexpr ll MOD1 = 998244353;\ntypedef pair<ll,ll> P;\n\n//#define all(v) (v).begin(), (v).end()\n#define rep(i,a,b) for (int i = (a); i < (b); i++)\n#define REP(i,n) rep(i,0,n)\n#define sz(s) (s).size()\n#define pb push_back\n#define fi first\n#define se second\n//#define mp make_pair\n\nll numj[1000010];\nll numi[1000010];\nll numjo[1000010];\nll numoi[1000010];\n\nint main(){\n    int n;\n    cin >> n;\n        string s;\n        cin >> s;\n        REP(i,n) {\n            if (s[i] == 'J') {\n                numj[i+1]++;\n            }\n            if (s[i] == 'I') {\n                numi[i+1]++;\n            }\n            numj[i+1] += numj[i];\n            numi[i+1] += numi[i];\n        }\n        numj[n+1] = numj[n];\n        numi[n+1] = numi[n];\n        ll ans = 0;\n        numoi[n+1] = 0;\n        REP(i,n) {\n            if (s[i] == 'O') {\n                numjo[i+1] = numj[i];\n            }\n            numjo[i+1] += numjo[i];\n        }\n        for (int i = n-1; i >= 0; i--) {\n            if (s[i] == 'O') {\n                numoi[i+1] = numi[n+1] - numi[i+1];\n            }\n            numoi[i+1] += numoi[i+2];\n        }\n        ll mx = 0;\n        REP(i,n) {\n            if (s[i] == 'O') {\n                ans += numj[i] * (numi[n+1] - numi[i+1]);\n            }\n        }\n        REP(i,n+1) {\n            mx = max(mx,numj[i] * (numi[n+1] - numi[i]));\n        }\n        mx = max(mx,numjo[n]);\n        mx = max(mx,numoi[1]);\n        // REP(i,n+2) {\n        //     cout << numj[i] << \" \";\n        // }\n        // cout << endl;\n        // REP(i,n+2) {\n        //     cout << numi[i] << \" \";\n        // }\n        // cout << endl;\n        // REP(i,n+2) {\n        //     cout << numjo[i] << \" \";\n        // }\n        // cout << endl;\n        // REP(i,n+2) {\n        //     cout << numoi[i] << \" \";\n        // }\n        // cout << endl;\n        cout << ans + mx << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n \n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n#define SORT(c) sort((c).begin(),(c).end())\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\n \ntypedef long long ll;\ntypedef pair<int, int> ii;\n\nstring joi = \"JOI\";\n\nint main() {\n\tint n;\n\tstring s;\n\tcin >> n >> s;\n\t\n\tvector<vector<ll>> v1(3, vector<ll>(n+2, 0));//0 - n\n\tvector<vector<ll>> v2(3, vector<ll>(n+2, 0));//1 - n+1\n\n\tREP(i, 1, n+1){\n\t\tv1[0][i] = v1[0][i-1] + (s[i-1] == 'J' ? 1 : 0);\n\t\tv1[1][i] = v1[1][i-1] + (s[i-1] == 'O' ? v1[0][i-1] : 0);\n\t\tv1[2][i] = v1[2][i-1] + (s[i-1] == 'I' ? v1[1][i-1] : 0);\n\t}\n\t\n\tfor(int i = n; i >= 1; i--){\n\t\tv2[0][i] = v2[0][i+1] + (s[i-1] == 'J' ? v2[1][i+1] : 0);\n\t\tv2[1][i] = v2[1][i+1] + (s[i-1] == 'O' ? v2[2][i+1] : 0);\n\t\tv2[2][i] = v2[2][i+1] + (s[i-1] == 'I' ? 1 : 0);\n\t}\n\t\n\tll ans = v1[2][n];\n\tll maxi = 0;\n\trep(i, n+1){\n\t\tmaxi = max(maxi, v2[1][i+1]);//J\n\t\tmaxi = max(maxi, v1[0][i]*v2[2][i+1]);//'O'\n\t\tmaxi = max(maxi, v1[1][i+1]);//'I'\n\t}\n\tans += maxi;\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++){\n\t\tcin>>s[i];\n\t}\n\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\tint TJ[100000]={},TO[100000]={},TI[100000]={};\n\n\tJsum=1;\n\tOsum=0;\n\tIsum=0;\n///J\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\t\tR=max(R,Isum);\n//O\n\tif(s[0]=='J')TJ[0]=1;\n\tfor(int i=1;i<N;i++){\n\t\tTJ[i]=TJ[i-1];\n\t\tTO[i]=TO[i-1];\n\t\tTI[i]=TI[i-1];\n\t\tif(s[i]=='J')TJ[i]+=1;\n\t\tif(s[i]=='O')TO[i]+=1;\n\t\tif(s[i]=='I')TI[i]+=1;\n\t}\n\tint moto;\n\tfor(int j=0;j<N;j++){\n\t\tJsum=0;\n\t\tOsum=0;\n\t\tIsum=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tif(s[i]=='J')Jsum+=1;\n\t\t\tif(s[i]=='O')Osum+=Jsum;\n\t\t\tif(s[i]=='I')Isum+=Osum;\n\t\t}\n\t}\n\tmoto=Isum;\n\tint x;\n\tfor(int j=0;j<N;j++){\n\t\tx=TJ[j-1]*TI[N]-TI[j];\n\n\n\t\tR=max(R,moto+x);\n\t}\n\n\n\t////I\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nconstexpr int MAX_N = (int)1e5;\n\nint n;\nint data[MAX_N];\n\nint main() {\n\tstd::cin >> n;\n\tchar in;\n\tfor (int i = 0; i < n; ++i) {\n\t\tstd::cin >> in;\n\t\tif (in == 'O')\n\t\t\tdata[i] = 1;\n\t\telse if (in == 'I')\n\t\t\tdata[i] = 2;\n\t}\n\tint max = 0, cnt = 0;\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n\tcnt = 0;\n\tfor (int i = n - 1; i >= 1; --i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (data[j] == 0)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n\tint sum[MAX_N] = { 0 };\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 0) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2) {\n\t\t\t\t\t++sum[i];\n\t\t\t\t\t--sum[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 1; i < n; ++i)\n\t\tsum[i] += sum[i - 1];\n\tcnt = 0;\n\tfor (int i = 0; i < n; ++i)\n\t\tcnt = std::max(cnt, sum[i]);\n\tmax = std::max(max, cnt);\n\n\tfor (int i = 0; i < n; ++i) {\n\t\tif (data[i] == 1)\n\t\t\tmax += sum[i];\n\t}\n\tstd::cout << max << std::endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  char s[100001];\n  scanf(\"%d\",&n);\n  scanf(\"%s\",s);\n  int J[100001],I[100001];\n  J[0] = 0;\n  for(int i=0;i<n;i++){\n    if(i != 0) J[i] = J[i-1];\n    if(s[i] == 'J') J[i]++;\n  }\n  for(int i=n-1;i>=0;i--){\n    if(i != n-1) I[i] = I[i+1];\n    if(s[i] == 'I') I[i]++;\n  }\n  int ans,sum=0,isum = 0,jsum = 0,oma=0;\n  if(s[0] == 'O') isum = I[1];\n  if(s[n-1] == 'O') jsum = J[n-2];\n  for(int i=1;i<n-1;i++){\n    if(s[i] == 'O'){\n      oma = max(oma,J[i-1]*I[i+1]);\n      sum += J[i-1]*I[i+1];\n      jsum += (J[i-1]+1)*I[i+1];\n      isum += J[i-1]*(I[i+1]+1);\n    } else {\n      oma = max(oma,J[i-1]*I[i]);\n      oma = max(oma,J[i]*I[i+1]);\n    }\n  }\n  ans = max(jsum,isum);\n  ans = max(ans,sum+oma);\n  printf(\"%d\\n\",ans);\n  return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n;string T;vector<int>v;\nlong long search(string S){\n\tv.clear();\n\tfor(int i=0;i<(int)S.size();i++){\n\t\tif(S[i]=='J')v.push_back(0);\n\t\tif(S[i]=='O')v.push_back(1);\n\t\tif(S[i]=='I')v.push_back(2);\n\t}\n\tvector<vector<long long> >dp(v.size()+1,vector<long long>(4,0));\n\tdp[0][0]=1;\n\tfor(int i=0;i<(int)v.size();i++){\n\t\tdp[i+1][v[i]+1]+=dp[i][v[i]];\n\t\tfor(int j=0;j<4;j++)dp[i+1][j]+=dp[i][j];\n\t}\n\treturn dp[v.size()][3];\n}\nint main(){\n\tcin>>n>>T;long long ret=0;\n\tret=max(ret,max(search(\"J\"+T),search(T+\"I\")));\n\tlong long c1=0,c2=0,w=search(T);\n\tfor(int i=0;i<(int)T.size();i++){if(T[i]=='I')c2++;}\n\tfor(int i=0;i<(int)T.size();i++){\n\t\tif(T[i]=='J')c1++;if(T[i]=='I')c2--;\n\t\tret=max(ret,w+c1*c2);\n\t}\n\tcout<<ret<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing PII = pair<int, int>;\nusing LL = long long;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing PLL = pair<LL, LL>;\nusing VS = vector<string>;\n\n#define ALL(a)  begin((a)),end((a))\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort(ALL((c)))\n#define RSORT(c) sort(RALL((c)))\n#define UNIQ(c) (c).erase(unique(ALL((c))), end((c)))\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n#define FF first\n#define SS second\ntemplate<class S, class T>\nistream& operator>>(istream& is, pair<S,T>& p){\n  return is >> p.FF >> p.SS;\n}\ntemplate<class S, class T>\nostream& operator<<(ostream& os, const pair<S,T>& p){\n  return os << p.FF << \" \" << p.SS;\n}\ntemplate<class T>\nvoid maxi(T& x, T y){\n  if(x < y) x = y;\n}\ntemplate<class T>\nvoid mini(T& x, T y){\n  if(x > y) x = y;\n}\n\n\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst LL MOD = 1e9+7;\n\nstring JOI = \"JOI\";\nLL calc(string& S){\n  int N = SZ(S);\n  VVL cnt(N+1, VL(3));\n  REP(i,N){\n\tREP(j,3)\n\t  cnt[i+1][j] = cnt[i][j] + (JOI[j] == S[i]);\n  }\n\n  LL res = 0;\n  REP(i,N){\n\tif(S[i] == 'O'){\n\t  res += cnt[i][0] * (cnt[N][2] - cnt[i][2]);\n\t}\n  }\n  return res;\n}\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N;\n  cin >> N;\n  string S;\n  cin >> S;\n\n  string J = \"J\" + S;\n  string I = S + \"I\";\n  cout << max(calc(J), max(calc(I), calc(S)*2)) << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i = 0; i < n; i++)\n#define repp(i, m, n) for(int i = m; i < n; i++)\n#define reps(i, n) for(int i = 1; i <= n; i++)\nconst int    INF = 100000000;\nconst double EPS = 1e-10;\nconst int    MOD = 1000000007;\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pai;\ntypedef pair<ll,ll> pal;\n\n\nint n;\nstring s;\n\nint main()\n{\n\tcin >> n >> s;\n\tll js[100010]={}, is[100010]={};\n\tll osl[100010]={}, osr[100010]={};\n\tll ans=0, ans1=0, ans2=0, mx=0;\n\trep(i, n-1)\n\t{\n\t\tjs[i]=js[i-1]+(s[i-1]=='J');\n\t\tis[n-2-i]=is[n-1-i]+(s[n-1-i]=='I');\n\t}\n\trep(i, n)\n\t{\n\t\tosl[i+1]=osl[i]+(s[i]=='O');\n\t\tosr[n-1-i]=osr[n-i]+(s[n-i]=='O');\n\t\tans+=((s[i]=='O')*js[i]*is[i]);\n\t\tans1+=((s[i]=='O')*(js[i]+1)*is[i]);\n\t\tans2+=((s[i]=='O')*js[i]*(is[i]+1));\n\t\tmx=max(mx, js[i]*is[i]);\n\t}\n\tans=ans+mx;\n\tcout << max(ans, max(ans1, ans2)) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\nusing namespace std;\nlong long mmin(long long &a,long long b) {\n\ta = min(a, b);\n\treturn a;\n}\nlong long mmax(long long &a,long long b) {\n\ta = max(a, b);\n\treturn a;\n}\nint nibu(vector<int> &v, int tan) {\n\tint up = v.size()-1;\n\tint lo = 0;\n\tif (tan <= v[0]) {\n\t\treturn 0;\n\t}\n\twhile (up - lo > 1) {\n\t\tint mi = (up + lo) / 2;\n\t\tif (tan <= v[mi]) {\n\t\t\tup = mi;\n\t\t}\n\t\tif (v[mi] < tan) {\n\t\t\tlo = mi;\n\t\t}\n\t}\n\treturn up;\n}\nint main() {\n\tstring he = \"JOI\";\n\tint n; cin >> n;\n\tstring s; cin >> s;\n\tvector<int> ss(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int k = 0; k < 3; k++) {\n\t\t\tif (s[i] == he[k]) {\n\t\t\t\tss[i] = k;\n\t\t\t}\n\t\t}\n\t}\n\tvector<long long> j(n,0);\n\tvector<long long> jo(n,0);\n\tvector<long long> joi(n,0);\n\tif (ss[0] == 0) {\n\t\tj[0] = 1;\n\t}\n\tfor (int i = 1; i < n; i++) {\n\t\tj[i] = j[i - 1];\n\t\tjo[i] = jo[i - 1];\n\t\tjoi[i] = joi[i - 1];\n\t\tint x = ss[i];\n\t\tif (x == 0) {\n\t\t\tj[i]++;\n\t\t}\n\t\telse if(x==1){\n\t\t\tjo[i] += j[i - 1];\n\t\t}\n\t\telse {\n\t\t\tjoi[i] += jo[i - 1];\n\t\t}\n\t}\n\tvector<long long> oi(n,0);\n\tvector<long long> si(n,0);\n\tif (ss[n - 1] == 2) {\n\t\tsi[n - 1] = 1;\n\t}\n\tfor (int i = n - 2; i >= 0; i--) {\n\t\toi[i] = oi[i + 1];\n\t\tsi[i] = si[i + 1];\n\t\tint x = ss[i];\n\t\tif (x == 2) {\n\t\t\tsi[i]++;\n\t\t}\n\t\telse if (x == 1) {\n\t\t\toi[i] += si[i + 1];\n\t\t}\n\t}\n\tlong long mo = joi[n - 1];\n\tlong long ch = 0;\n\tfor (int i = 0; i + 1 < n - 1; i++) {\n\t\tmmax(ch, j[i] * si[i + 1]);\n\t}\n\tlong long ans = mo+max(ch, max(jo[n - 1], oi[0]));\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing ll=long long int;\n\nconstexpr int MAX_N=100000;\n\nint n;\nint street[MAX_N];\n\nint sum;\n\nint main() {\n\tstd::cin>>n;\n\tchar ch;\n\tfor(int i=0;i<n;++i){\n\t\tstd::cin>>ch;\n\t\tif(ch=='O'){\n\t\t\tstreet[i]=1;\n\t\t}\n\t\telse if(ch=='I'){\n\t\t\tstreet[i]=2;\n\t\t\t++sum;\n\t\t}\n\t}\n\tll base=0;\n\tint count=0,count1=0;\n\tfor(int i=0;i<n;++i){\n\t\tif(!street[i])\n\t\t\t++count;\n\t\telse if(street[i]==1){\n\t\t\tbase+=count*(sum-count1);\n\t\t}\n\t\telse if(street[i]==2)\n\t\t\t++count1;\n\t}\n\tll ans=0;\n\n\tcount=0;\n\n\tfor(int i=0;i<n;++i){\n\t\tif(!street[i])\n\t\t\t++count;\n\t\telse if(street[i]==1)\n\t\t\tans+=count;\n\t}\n\n\tcount=0;\n\tll tmp=0;\n\n\tfor(int i=n-1;i>=0;--i){\n\t\tif(street[i]==2)\n\t\t\t++count;\n\t\telse if(street[i]==1)\n\t\t\ttmp+=count;\n\t}\n\n\n\tans=std::max(ans,tmp);\n\n\ttmp=0;\n\tcount=0;\n\tcount1=0;\n\n\tfor(int i=0;i<n;++i){\n\t\tif(!street[i])\n\t\t\t++count;\n\t\telse if(street[i]==2)\n\t\t\t++count1;\n\t\tans=std::max(ans,(ll)count*(sum-count1));\n\t}\n\n\tstd::cout<<ans+base<<std::endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(void){\n\tint n,i,jwa[100001],iwa[100001],mx,sum,x,js,is;\n\tchar s[100001];\n\tcin>>n>>s;\n\tfor(i=0;i<=n;i++)jwa[i]=0,iwa[i]=0;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=0) jwa[i]=jwa[i-1];\n\t\tif(s[i]=='J') jwa[i]++;\n\t}\n\tfor(i=n-1;i>=0;i--){\n\t\tif(i!=n-1) iwa[i]=iwa[i+1];\n\t\tif(s[i]=='I') iwa[i]++;\n\t}\n\tmx=0; sum=0; js=0; is=0;\n\tfor(i=0;i<n;i++){\n\t\tx=jwa[i]*iwa[i];\n\t\tif(s[i]=='O') js+=iwa[i],is+=jwa[i],sum+=x;\n\t\tmx=max(mx,x);\n\t}\n\tmx=max(mx,js);\n\tmx=max(mx,is);\n\tcout<<sum+mx<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++){\n\t\tcin>>s[i];\n\t}\n\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\tint TJ[100000]={},TO[100000]={},TI[100000]={};\n\n\tJsum=1;\n\tOsum=0;\n\tIsum=0;\n///J\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\t\tR=max(R,Isum);\n//O\n\tif(s[0]=='J')TJ[0]=1;\n\tfor(int i=1;i<N;i++){\n\t\tTJ[i]=TJ[i-1];\n\t\tTO[i]=TO[i-1];\n\t\tTI[i]=TI[i-1];\n\t\tif(s[i]=='J')TJ[i]+=1;\n\t\tif(s[i]=='O')TO[i]+=1;\n\t\tif(s[i]=='I')TI[i]+=1;\n\t}\n\tint moto;\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\tmoto=Isum;\n\tint x;\n\tfor(int j=0;j<N;j++){\n\t\tx=TJ[j]*(TI[N-1]-TI[j]);\n\n\n\t\tR=max(R,moto+x);\n\t}\n\n\n\t////I\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint main()\n{\n    ll N;\n    ll base = 0;\n    string S;\n\n    cin >> N >> S;\n    ll icnt = 0, jcnt = 0;\n    ll ians = 0, jans = 0, oadd = 0;\n    for(int i = 0; i < N; i++) if(S[i] == 'I') icnt++;\n    for(int i = 0; i < N; i++) {\n        if(S[i] == 'J') {\n            jcnt++;\n        }\n        oadd = max(oadd, icnt * jcnt);\n        if(S[i] == 'I') {\n            icnt--;\n        }\n        if(S[i] == 'O') {\n            base += icnt * jcnt;\n            ians += (icnt + 1) * jcnt;\n            jans += icnt * (jcnt + 1);\n        }\n    }\n    cout << max(base + oadd, max(ians, jans)) << endl;\n    return (0);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"math.h\"\n#include \"utility\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"iomanip\"\n#include \"random\"\n\nusing namespace std;\nconst long long int MOD = 1000000007;\n\nint N;\nstring S;\nlong long int J[100001];\nlong long int O[100001];\nlong long int I[100001];\nlong long int fst, fnl;\nlong long int ans;\nlong long int bag;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin >> N;\n\tcin >> S;\n\tS = '0' + S;\n\tfor (int i = 1; i <= N; i++) {\n\t\tJ[i] = J[i - 1];\n\t\tO[i] = O[i - 1];\n\t\tI[i] = I[i - 1];\n\t\tif (S[i] == 'J') J[i]++;\n\t\telse if (S[i] == 'O')O[i]++;\n\t\telse I[i]++;\n\t}\n\tfor (int i = 1; i <= N; i++) {\n\t\tif (S[i] == 'O')bag += J[i] * (I[N] - I[i]);\n\t}\n\tlong long int box = 0;\n\tfor (int i = 1; i <= N; i++) {\n\t\tif (S[i] == 'O')box += I[N] - I[i];\n\t}\n\tans = box;\n\tbox = 0;\n\tfor (int i = 1; i <= N; i++) {\n\t\tif (S[i] == 'J')box += O[N] - O[i];\n\t}\n\tans = max(ans, box);\n\tfor (int i = 1; i < N; i++) {\n\t\tans = max(ans, J[i] * (I[N] - I[i]));\n\t}\n\tcout << ans + bag << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n#include <vector>\n#include <string>\n\nint main(){\n  long long int ans=0,mans=0;\n  string s;\n  int n;\n  cin >> n;\n  cin >> s;\n  int J=0,O=0,I=1;\n  \n  for(int i = n-1; i >= 0; i--){\n  \n    if(s[i]=='I')I++;\n    if(s[i]=='O'){\n      O++;\n      J+=I;\n     \n    }\n    if(s[i]=='J'){\n      ans+= J;\n    }\n  }\n \n  mans =ans;\n  J=0;O=0;I=0;ans = 0;\n  for(int i = n-1; i >= 0; i--){\n    if(s[i]=='I')I++;\n    if(s[i]=='O'){\n      O++;\n      J+=I;\n    }\n    if(s[i]=='J'){\n      ans+=J;\n    }\n  }\n \n  if(mans < ans+J)mans = ans+J;\n  J=0;\n  int k=0;\n  for(int i = 0; i < n; i++){\n    if(k < I*J)k = I*J;\n    if(s[i]=='I'){\n      I--;\n    }\n    if(s[i]=='J'){\n      J++;\n    }\n  }  \n \n  if(mans < ans+k)mans = ans+k;\n  \n  cout << mans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define ll long long\nclass shop {\npublic:\n\tchar stamp;\n\tll num[3];\n\tll dummy;\n\tshop():dummy(-1) {\n\n\t}\n};\n\nint main() {\n\tint time;\n\tcin >> time;\n\tshop *streat;\n\tstreat = new shop[time + 1];\n\tfor (int i = 0; i < 3; ++i) {\n\t\tstreat[0].num[i] = 0;\n\t}\n\tchar dummy;\n\tfor (int i = 1; i <= time; ++i) {\n\t\tcin >> dummy;\n\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\tstreat[i].num[j] = streat[i-1].num[j];\n\t\t}\n\t\tif (dummy == 'J') {\n\t\t\t++streat[i].num[0];\n\t\t}\n\t\telse if (dummy == 'O') {\n\t\t\t++streat[i].num[1];\n\t\t}\n\t\telse {\n\t\t\t++streat[i].num[2];\n\t\t}\n\t\tstreat[i].stamp = dummy;\n\t}\n\tll origin = 0;\n\tll date;\n\tfor (int i = time - 2; i >= 1; --i) {\n\t\tif (streat[i].stamp == 'J') {\n\t\t\tdate = 0;\n\t\t\tfor (int j = i + 1; j <= time; ++j) {\n\t\t\t\tif (streat[j].dummy != -1) {\n\t\t\t\t\tdate += streat[j].dummy;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (streat[j].stamp == 'O') {\n\t\t\t\t\tdate += streat[time].num[2] - streat[j].num[2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tstreat[i].dummy = date;\n\t\t\torigin += date;\n\t\t}\n\t}\n\tdate = 0;\n\tfor (int j = 1; j <= time; ++j) {\n\t\tif (streat[j].stamp == 'O') {\n\t\t\tdate += streat[time].num[2] - streat[j].num[2];\n\t\t}\n\t}\n\tll answer = date;\n\tdate = 0;\n\tfor (int j = 1; j >= 1; --j) {\n\t\tif (streat[j].stamp == 'O') {\n\t\t\tdate += streat[j].num[0];\n\t\t}\n\t}\n\tanswer = max(answer, date);\n\tfor (int i = 2; i < time; ++i) {\n\t\tif (streat[i].stamp == 'O') {\n\t\t\tanswer = max(answer, streat[i].num[0] * (streat[time].num[2] - streat[i].num[2]));\n\t\t}\n\t}\n\tcout << origin + answer<< endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define int long long\n\n#define rep(i,x) for(int i=0;i<x;++i)\n#define rrep(i,x) for(int i=x-1;i>=0;--i)\n#define all(a) a.begin(),a.end()\n\nint N;\n\nint J[100010], O[100010], I[100010];\n\nsigned main()\n{\n    cin >> N;\n    \n    string s; cin >> s;\n\n    rep(i, N) {\n        J[i + 1] = (s[i] == 'J') + J[i];\n        O[i + 1] = (s[i] == 'O') + O[i];\n        I[i + 1] = (s[i] == 'I') + I[i];\n    }\n\n    int ma = 0;\n\n    // J\n    {\n        int curO = 0, curI = 0;\n\n        rep(i, N) {\n            if (s[i] == 'O') {\n                curO += J[i] + 1;\n            }\n            if (s[i] == 'I') {\n                curI += curO;\n            }\n        }\n\n        ma = max(ma, curI);\n    }\n\n    // I\n    {\n        int curO = 0, curJ = 0;\n\n        rrep(i, N) {\n            if (s[i] == 'O') {\n                curO += I[i] + 1;\n            }\n            if (s[i] == 'J') {\n                curJ += curO;\n            }\n        }\n\n        ma = max(ma, curJ);\n    }\n\n    // O zentansaku\n    {\n        int curJ=0, curO=0, curI=0;\n\n        rep(i, N) {\n            if (s[i] == 'J') {\n                curJ++;\n            }\n            if (s[i] == 'O') {\n                curO += curJ;\n            }\n            if (s[i] == 'I') {\n                curI += curO;\n            }\n        }\n\n        int v = curI;\n\n        rep(i, N+1) {\n            ma = max(ma, v + J[i] * (I[N] - I[i]));\n        }\n    }\n\n    cout << ma << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<set>\n#include<map>\nusing namespace std;\n#define int long long\ntypedef pair<int, int> P;\nint rj[114514], ro[114514], ri[114514];\nint aj, ao, ai;\nsigned main() {\n\tint n;\n\tcin >> n;\n\tstring s;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'J')rj[i + 1]++;\n\t\telse if (s[i] == 'O')ro[i + 1]++;\n\t\telse ri[i + 1]++;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\trj[i + 1] += rj[i];\n\t\tro[i + 1] += ro[i];\n\t\tri[i + 1] += ri[i];\n\t}\n\n\t//plus'J'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0] + 1;\n\t\t\tint I = ri[n] - ri[i+1];\n\t\t\taj += J*I;\n\t\t}\n\t}\n\t//plus'O'\n\tfor (int i = 0; i < n; i++) {\n\t\tint J = rj[i] - rj[0];\n\t\tint I = ri[n] - ri[i+1];\n\t\tao = max(ao, J*I);\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i+1];\n\t\t\tao += J*I;\n\t\t}\n\t}\n\t//plus'I'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = rj[n] - rj[i+1] + 1;\n\t\t\tai += J*I;\n\t\t}\n\t}\n\tcout << max(aj, max(ao, ai)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\nint main()\n{\n\tios::sync_with_stdio(false), cin.tie(0);\n\tint N;\n\tstring S;\n\tcin >> N >> S;\n\tvector<ll> jc(N), ic(N);\n\tfor (int i = 0; i < N; i++) {\n\t\tjc[i] = S[i] == 'J';\n\t\tic[i] = S[i] == 'I';\n\t}\n\tfor (int i = 1; i < N; i++) {\n\t\tjc[i] += jc[i - 1];\n\t}\n\tfor (int i = N - 2; i >= 0; i--) {\n\t\tic[i] += ic[i + 1];\n\t}\n\tll cnt = 0;\n\tfor (int i = 1; i < N - 1; i++) {\n\t\tif (S[i] == 'O') {\n\t\t\tcnt += jc[i - 1] * ic[i + 1];\n\t\t}\n\t}\n\tll ma = 0;\n\tfor (int i = 0; i < N; i++) {\n\t\tma = max(ma, jc[i]);\n\t}\n\tfor (int i = 1; i < N; i++) {\n\t\tma = max(ma, jc[i - 1] * ic[i]);\n\t}\n\tfor (int i = 0; i < N; i++) {\n\t\tma = max(ma, ic[i]);\n\t}\n\tcout << cnt + ma << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\nint main() {\n\tint n; cin >> n;\n\tstring st; cin >> st;\n\tlong long int base = 0;\n\tlong long int fstj = 0;\n\tlong long int lsti = 0;\n\tlong long int mido = 0;\n\t{\n\t\tlong long int jnum = 0;\n\t\tlong long int inum = count(st.begin(), st.end(), 'I');\n\t\tfor (int i = 0; i < st.size(); ++i) {\n\t\t\t\n\t\t\tif (st[i] == 'I') {\n\t\t\t\tinum--;\n\t\t\t}\n\t\t\telse if (st[i] == 'O') {\n\t\t\t\tbase += jnum*inum;\n\t\t\t\tfstj += inum;\n\t\t\t\tlsti += jnum;\n\t\t\t\tmido = max(jnum*inum, mido);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tjnum++;\n\t\t\t}\n\t\t}\n\t}\n\tcout << base + max(max(fstj, lsti), mido) << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int N;\n  string s;\n  cin >> N >> s;\n  int sum[3][100010] = {{0}};\n  string JOI = \"JOI\";\n  for(int i = 1; i <= N; i++){\n    for(int j = 0; j < 3; j++){\n      sum[j][i] += sum[j][i-1] + (s[i-1] == JOI[j]);\n    }\n  }\n\n  int ans = 0;\n  for(int i = 0; i < N; i++){\n    if(s[i] == 'O') ans += sum[0][i]*(sum[2][N]-sum[2][i]);\n  }\n\n  int inO = 0;\n  for(int i = 0; i < N; i++){\n    inO = max(inO, sum[0][i]*(sum[2][N]-sum[2][i]));\n  }\n  int inJ = 0, inI = 0;\n  for(int i = 0; i < N; i++){\n    if(s[i] == 'O'){\n      inJ += (sum[2][N]-sum[2][i+1]);\n      inI += sum[0][i];\n    }\n  }\n  cout << ans+max(inO, max(inJ, inI)) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <cstdint>\n#include <cstdio>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <vector>\nusing namespace std;\n#define rep(i, n) for(int(i) = 0; (i) < (n); (i)++)\n#define FOR(i, m, n) for(int(i) = (m); (i) < (n); (i)++)\n#define All(v) (v).begin(), (v).end()\n#define pb push_back\n#define MP(a, b) make_pair((a), (b))\nusing ll = long long;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\nconst int INF = 1 << 30;\nconst ll LINF = 1LL << 60;\nconst int MOD = 1e9 + 7;\n\nint main() {\n    int N;\n    cin >> N;\n    string S;\n    cin >> S;\n    ll res = 0;\n    ll jtmp = 0, itmp = 0, tmp = 0, ma = 0;\n    ll jcnt = 0, icnt = 0;\n    rep(i, N) {\n        if(S[i] == 'I')\n            icnt++;\n    }\n    rep(i, N) {\n        if(S[i] == 'J')\n            jcnt++;\n        if(S[i] == 'I')\n            icnt--;\n        if(S[i] == 'O') {\n            jtmp += (jcnt + 1) * icnt;\n            itmp += jcnt * (icnt + 1);\n            tmp += jcnt * icnt;\n        }\n        ma = max(ma, jcnt * icnt);\n    }\n    cout << max(jtmp, max(itmp, tmp + ma)) << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<map>\n#include<set>\n#include<list>\n#include<iomanip>\n#include<vector>\n#include<functional>\n#include<algorithm>\n#include<cstdio>\n#include<unordered_map>\nusing namespace std;\ntypedef long long ll;\nll J[100000], O[100000], I[100000];\nint main() {\n\tint n;\n\tstring a;\n\tcin >> n >> a;\n\tll b = 0, c = 0, d = 0, e = 0, f = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (a[i] == 'J')\n\t\t\tb++;\n\t\tJ[i] = b;\n\t}\n\tfor (int i = n - 1; i >= 0; i--) {\n\t\tif (a[i] == 'I')\n\t\t\tc++;\n\t\tI[i] = c;\n\t\tif (a[i] == 'O') {\n\t\t\tO[i] = (J[i] * I[i]);\n\t\t\td += I[i];\n\t\t\te += O[i];\n\t\t\tf += J[i];\n\t\t}\n\t}\n\tll sum = max(e + d, f + e);\n\tfor (int i = 1; i < n; i++) {\n\t\tsum = max(sum, e + (I[i] * J[i - 1]));\n\t}\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n; string s;\nint main() {\n\tcin >> n >> s;\n\tint cnti = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'I') cnti++;\n\t}\n\tint sumj = 0, sumi = cnti, sumo = 0;\n\tlong long ret = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi--;\n\t\tif (s[i] == 'O') sumo++, ret += 1LL * sumj * sumi;\n\t}\n\tsumi = cnti;\n\tlong long res = max(1LL * sumj * sumo, 1LL * sumo * sumi);\n\tsumj = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi--;\n\t\tres = max(res, 1LL * sumj * sumi);\n\t}\n\tcout << ret + res << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n;string T;vector<int>v;\nlong long search(string S){\n\tv.clear();\n\tfor(int i=0;i<(int)S.size();i++){\n\t\tif(S[i]=='J')v.push_back(0);\n\t\tif(S[i]=='O')v.push_back(1);\n\t\tif(S[i]=='I')v.push_back(2);\n\t}\n\tvector<vector<int> >dp(v.size()+1,vector<int>(4,0));\n\tdp[0][0]=1;\n\tfor(int i=0;i<(int)v.size();i++){\n\t\tdp[i+1][v[i]+1]+=dp[i][v[i]];\n\t\tfor(int j=0;j<4;j++)dp[i+1][j]+=dp[i][j];\n\t}\n\treturn dp[v.size()][3];\n}\nint main(){\n\tcin>>n>>T;long long ret=0;\n\tret=max(ret,max(search(\"J\"+T),search(T+\"I\")));\n\tlong long c1=0,c2=0,w=search(T);\n\tfor(int i=0;i<T.size();i++){if(T[i]=='I')c2++;}\n\tfor(int i=0;i<T.size();i++){\n\t\tif(T[i]=='J')c1++;if(T[i]=='I')c2--;\n\t\tret=max(ret,w+c1*c2);\n\t}\n\tcout<<ret<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define INF 999999999\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<n;++i)\n\nusing namespace std;\n\ntypedef pair<int,int>P;\n\nconst int MAX_N = 100005;\n\nchar c[MAX_N];\nvector<P> a;\nint n;\n\nint main()\n{\n\tint cntj=0,cnti=0;\n\tscanf(\"%d\",&n);\n\tchar x;\n\tscanf(\"%c\",&x);\n\trep(i,n){\n\t\tscanf(\"%c\",&c[i]);\n\t\tif(c[i] == 'I'){\n\t\t\tcnti++;\n\t\t}\n\t}\n\tll mx = 0;\n\tll ans1 = 0;\n\trep(i,n){\n\t\tif(c[i] == 'J'){\n\t\t\tcntj++;\n\t\t}else if(c[i] == 'I'){\n\t\t\tcnti--;\n\t\t}else{\n\t\t\ta.push_back(P(cntj,cnti));\n\t\t\tans1 += (ll)cntj*cnti;\n\t\t}\n\t\tmx = max(mx,(ll)cntj*cnti);\n\t}\n\tans1 += mx;\n\tll ans2 = 0;\n\tll ans3 = 0;\n\trep(i,a.size()){\n\t\tans2 += (ll)(a[i].first+1)*a[i].second;\n\t\tans3 += (ll)a[i].first*(a[i].second+1);\n\t}\n\tprintf(\"%lld\\n\",max(max(ans1,ans2),ans3));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <cctype>\n#include <cmath>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <list>\n#include <stdio.h>\n#include <string.h>\n#include <cstdlib>\n#include <math.h>\n#include <bitset>\n#include <iterator>\t\n#include <iomanip>\n#include <sstream>\n#include <numeric>\n#include <cassert>\n#define INF 2000000000000000\n#define MOD 1000000007\n#define sym cout<<\"---------\"<<endl;\n#define ll long long\n#define mk make_pair\n#define en endl\n#define RE return 0\n#define int ll\n#define P pair<int,int>\nusing namespace std;\nint dx[4]={1,0,-1,0},dy[4]={0,1,0,-1};\nint gcd(int a,int b){if(a%b==0){return b;}else return gcd(b,a%b);}\nint lcm(int a,int b){if(a==0){return b;} return a/gcd(a,b)*b;}\n\nint n;\n#define MAX 100005\nint i_n[MAX],j_n[MAX],o_n[MAX],cnt=0;\n\nsigned main(){\n\tcin>>n;\n\tstring s; cin>>s;\n\ts=\" \"+s;\n\t\n\tint j=0,o=0,i=0;\n\tint J=0,I=0;\n\tfor(int k=1; k<=n; k++){\n\t\tif(s[k]=='J'){\n\t\t\tj++;\n\t\t}else if(s[k]=='O'){\n\t\t\to++;\n\t\t\tI+=j;\n\t\t}else{\n\t\t\ti++;\n\t\t\tcnt+=I;\n\t\t}\n\t\tj_n[k]=j;\n\t\ti_n[k]=i;\n\t}\n\tint ii=0,oo=0;\n\tfor(int k=n; k>=1; k--){\n\t\tif(s[k]=='I'){\n\t\t\tii++;\n\t\t}else if(s[k]=='O'){\n\t\t\tJ+=ii;\n\t\t}\n\t}\n\t\n\tint O=-1;\n\tfor(int k=1; k<=n; k++){\n\t\tO=max(O, j_n[k]*(i-i_n[k]));\n\t}\n//\tcout<<cnt<<en;\n//\tcout<<\"  \"<<J<<\"  \"<<O<<\"  \"<<I<<en;\n\tcout<<cnt+max(J, max(O, I))<<en;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n\nint main(){\n    int n;\n    string s;\n    cin >> n >> s;\n\n    vector<ll> dp(2, 0), jdp(2, 0);\n    jdp[0] = 1;\n    ll origin = 0, jplus = 0, oplus = 0;\n    ll icnt = count(s.begin(), s.end(), 'I');\n    for(int i = 0; i < n; i++){\n        oplus = max(oplus, dp[0]*icnt);\n        if(s[i] == 'J') dp[0]++, jdp[0]++;\n        if(s[i] == 'O') dp[1] += dp[0], jdp[1] += jdp[0];\n        if(s[i] == 'I') origin += dp[1], jplus += jdp[1], icnt--;\n    }\n    ll iplus = dp[1]+origin;\n    oplus += origin;\n    cout << max({jplus, oplus, iplus}) << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++){\n\t\tcin>>s[i];\n\t}\n\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\tint TJ[100000]={},TO[100000]={},TI[100000]={};\n\n\tJsum=1;\n\tOsum=0;\n\tIsum=0;\n///J\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\t\tR=max(R,Isum);\n//O\n\tif(s[0]=='J')TJ[0]=1;\n\tfor(int i=1;i<N;i++){\n\t\tTJ[i]=TJ[i-1];\n\t\tTO[i]=TO[i-1];\n\t\tTI[i]=TI[i-1];\n\t\tif(s[i]=='J')TJ[i]+=1;\n\t\tif(s[i]=='O')TO[i]+=1;\n\t\tif(s[i]=='I')TI[i]+=1;\n\t}\n\tint moto;\n\tfor(int j=0;j<N;j++){\n\t\tJsum=0;\n\t\tOsum=0;\n\t\tIsum=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tif(s[i]=='J')Jsum+=1;\n\t\t\tif(s[i]=='O')Osum+=Jsum;\n\t\t\tif(s[i]=='I')Isum+=Osum;\n\t\t}\n\t}\n\tmoto=Isum;\n\tint x;\n\tfor(int j=0;j<N;j++){\n\t\tx=TJ[j]*(TI[N-1]-TI[j]);\n\n\n\t\tR=max(R,moto+x);\n\t}\n\n\n\t////I\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\ntypedef long long ll;\n\n#define N 100010\n#define LLINF 2000000000000000000LL\n\nint sum[N][3];\nll dp1[N][5],dp2[N][6];\n\nint main(){\n  int n,st[N];\n  char s[N];\n\n  scanf(\"%d%s\",&n,s);\n\n  for(int i=1;i<=n;i++){\n    if(s[i-1]=='J') st[i]=1;\n    if(s[i-1]=='O') st[i]=2;\n    if(s[i-1]=='I') st[i]=3;\n\n    sum[i][st[i]]++;\n  }\n\n  for(int i=1;i<=n;i++){\n    for(int j=0;j<3;j++){\n      sum[i+1][j] += sum[i][j];\n    }\n  }\n\n  ll ans = 0;\n\n  dp1[0][0] = 1;\n\n  for(int i=1;i<=n;i++){\n    dp1[i][st[i]] += dp1[i-1][st[i]-1];\n    for(int j=0;j<=4;j++){\n      dp1[i][j] += dp1[i-1][j];\n    }\n  }\n\n  dp2[n+1][4] = 1;\n\n  for(int i=n;i>=1;i--){\n    dp2[i][st[i]] += dp2[i+1][st[i]+1];\n    for(int j=0;j<=4;j++){\n      dp2[i][j] += dp2[i+1][j];\n    }\n  }\n\n  for(int i=0;i<=n;i++){\n    for(int j=1;j<=4;j++){\n      ans = max(ans,dp1[i][j-1] * dp2[i+1][j+1]);\n    }\n  }\n\n  printf(\"%lld\\n\",ans + dp1[n][3]);\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\ntypedef long long int ll;\nstatic const int MAX_N = 100000;\n\nint N;\nchar S[MAX_N + 1];\nll memo1[MAX_N + 1], memo2[MAX_N + 1], memo3[MAX_N + 1];\nll memo4[MAX_N + 1], memo5[MAX_N + 1];\n\nint main(){\n\tscanf(\"%d\", &N);\n\tscanf(\"%s\", S);\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tif(S[i] == 'J') memo1[i + 1]++;\n\t\tif(S[i] == 'O') memo2[i + 1]++;\n\t\tif(S[i] == 'I') memo3[i + 1]++;\n\t}\n\tfor(int i = 1; i < N + 1; i++){\n\t\tmemo1[i] += memo1[i - 1];\n\t\tmemo2[i] += memo2[i - 1];\n\t\tmemo3[i] += memo3[i - 1];\n\t}\n\tll res = 0LL;\n\tfor(int i = 1; i < N; i++){\n\t\tif(S[i] == 'O') res += memo1[i] * (memo3[N] - memo3[i]);\n\t}\n\tfor(int i = 0; i < N + 1; i++){\n\t\tif(S[i] == 'O'){\n\t\t\tmemo4[i] += memo1[i];\n\t\t\tmemo5[i] += memo3[N] - memo3[i];\n\t\t}\n\t}\n\tfor(int i = 1; i < N + 1; i++) memo4[i] += memo4[i - 1];\n\tfor(int i = N - 1; i >= 0; i--) memo5[i] += memo5[i + 1];\n\tll res2 = 0LL;\n\tfor(int i = 0; i < N + 1; i++){\n\t\tres2 = max(res2, memo4[i]);\n\t\tres2 = max(res2, memo5[i]);\n\t\tres2 = max(res2, memo1[i] * (memo3[N] - memo3[i]));\n\t}\n\tres += res2;\n\tprintf(\"%lld\\n\", res);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n#define int long long\n#define PB push_back\n#define PPB pop_back\ntypedef pair<int, int> pii;\ntypedef pair<double, double> pdd;\ntypedef pair<string, int> psi;\n\nstatic const int INF = 1LL << 60;\nstatic const int MAX_N = 100005;\n\nint n, ruij[MAX_N], ruii[MAX_N], dj[] = {1, 0}, di[] = {0, 1};\nstring s;\n\nsigned main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\n    cin >> n >> s;\n    for (int i = 0; i < n; ++i) {\n        ruij[i] += s[i] == 'J';\n        ruii[i] += s[i] == 'I';\n        ruij[i + 1] = ruij[i];\n        ruii[i + 1] = ruii[i];\n    }\n\n    int ans = 0;\n    for (int i = 0; i < 2; ++i) {\n        int t = 0;\n        for (int j = 0; j < n; ++j) {\n            if (s[j] != 'O') continue;\n            int numj = ruij[j] + dj[i], numi = ruii[n] - ruii[j] + di[i];\n            t += numj * numi;\n        }\n\n        ans = max(ans, t);\n    }\n    {\n        int t = 0, tmax = 0;\n        for (int i = 0; i < n; ++i) {\n            if (s[i] != 'O') continue;\n            int numi = ruii[n] - ruii[i], temp = ruij[i] * numi;\n            t += temp;\n            tmax = max(tmax, temp);\n        }\n        ans = max(ans, t + tmax);\n    }\n\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\n\nint main(void) {\n  int n;\n  string s;\n  cin >> n >> s;\n\n  vector<ll> cumj(n, 0), cumi(n, 0);\n  for (int i = 0; i < n; i++) {\n    cumj[i] = s[i] == 'J';\n    cumi[i] = s[i] == 'I';\n  }\n  for (int i = 1; i < n; i++) {\n    cumj[i] += cumj[i - 1];\n  }\n  for (int i = n - 2; i >= 0; i--) {\n    cumi[i] += cumi[i + 1];\n  }\n\n  ll cntj = 0, cnto = 0, cnti = 0, maxo = 0;\n  for (int i = 0; i < n; i++) {\n    maxo = max(maxo, cumj[i] * cumi[i]);\n    if (s[i] != 'O') continue;\n    cntj += (cumj[i] + 1) * cumi[i];\n    cnto += cumj[i] * cumi[i];\n    cnti += cumj[i] * (cumi[i] + 1);\n  }\n\n  cout << max(cntj, max(cnto + maxo, cnti)) << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n;\nchar t[100010];\nlong long int js[100010], is[100010];\nlong long int ans, ma;\n\nint main(){\n\tscanf(\"%d %s\", &n, t);\n\n\tfor(int i=0; i<n; ++i){\n\t\tif(t[i] == 'J') ++js[i+1];\n\t\telse if(t[i] == 'I') ++is[i];\n\t}\n//\tfor(int i=0; i<=n; ++i) printf(\"%lld %lld\\n\", js[i], is[i]);\n\tfor(int i=0; i<n; ++i){\n\t\tjs[i+1] += js[i];\n\t\tis[n-i-1] += is[n-i];\n\t}\n//\tfor(int i=0; i<=n; ++i) printf(\"%lld %lld\\n\", js[i], is[i]);\n//\tfor(int i=0; i<=n; ++i) printf(\"%lld %lld\\n\", js[i], is[i]);\n\tfor(int i=0; i<=n; ++i)\n\t\tma = max(ma, js[i] * is[i]);\n\tfor(int i=0; i<=n; ++i)\n\t\tif(i == n || t[i] != 'O'){\n\t\t\tjs[i] = 0;\n\t\t\tis[i] = 0;\n\t\t}\n\tfor(int i=0; i<n; ++i)\n\t\tjs[i+1] += js[i];\n\tfor(int i=n; i>0; --i)\n\t\tis[i-1] += is[i];\n\tfor(int i=0; i<=n; ++i)\n\t\tif(t[i] == 'J') ans += is[i];\n//\tprintf(\"%lld\\n\", ans);\n/*\tfor(int i=0; i<=n; ++i)\n\t\tif(t[i] == 'I') ans += js[i];\n\tprintf(\"%lld\\n\", ans);\n*/\n\tma = max(ma, max(is[0], js[n]));\n\tans += ma;\n\tprintf(\"%lld\\n\", ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MAX_N 100005\ntypedef long long ll;\nint N;\nchar s[MAX_N];\nll J[MAX_N],JO,JOI,I,OI,ans;\nint main(){\n  scanf(\"%d %s\",&N,s);\n  for(int i=1;i<=N;i++){\n    J[i]=J[i-1];\n    if(s[i-1]=='J')J[i]++;\n    if(s[i-1]=='O')JO+=J[i];\n    if(s[i-1]=='I')JOI+=JO;\n  }\n  ans=JO;\n  for(int i=N;i>=1;i--){\n    if(s[i-1]=='I')I++;\n    if(s[i-1]=='O')OI+=I;\n    ans=max(ans,I*J[i]);\n  }\n  ans=max(ans,OI);\n  printf(\"%lld\\n\",ans+JOI);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++){\n\t\tcin>>s[i];\n\t}\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\tint TJ[100000]={},TO[100000]={},TI[100000]={};\n\n\t///J\n\tJsum=1;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\tR=max(R,Isum);\n//O\n\tif(s[0]=='J')TJ[0]=1;\n\tfor(int i=1;i<N;i++){\n\t\tTJ[i]=TJ[i-1];\n\t\tTO[i]=TO[i-1];\n\t\tTI[i]=TI[i-1];\n\t\tif(s[i]=='J')TJ[i]+=1;\n\t\tif(s[i]=='O')TO[i]+=1;\n\t\tif(s[i]=='I')TI[i]+=1;\n\t}\n\tint moto;\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\tmoto=Isum;\n\tint x;\n\tfor(int i=0;i<N;i++){\n\t\tx=TJ[i]*(TI[N-1]-TI[i]);\n\t\tR=max(R,moto+x);\n\t}\n\n\n\t////I\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\n#define MAX(a,b) ((a)>(b)?(a):(b))\n#define MIN(a,b) ((a)<(b)?(a):(b))\n\nint main()\n{\n    int N;\n    string instr;\n    cin >> N >> instr;\n\n    vector<long long> J(N);\n    vector<long long> O(N);\n    vector<long long> I(N);\n\n    J[0]=O[0]=I[0]=0;\n    switch(instr[0]) {\n    case 'J' :\n        ++J[0]; break;\n    case 'O' :\n        ++O[0]; break;\n    case 'I' :\n        ++I[0]; break;\n    }\n\n    for(int i=1; i<N; ++i) {\n        J[i]=J[i-1]; O[i]=O[i-1]; I[i]=I[i-1];\n        switch(instr[i]) {\n        case 'J' :\n            ++J[i]; break;\n        case 'O' :\n            ++O[i]; break;\n        case 'I' :\n            ++I[i]; break;\n        }\n    }\n\n    long long cnt1=0,cnt2=0,cnt3=0;\n    long long mx=-1;\n\n    for(int i=0; i<N; ++i) {\n        if(instr[i]!='O') {\n            if(instr[i]=='J') mx=MAX(mx,J[i]*(I[N-1]-I[i]));\n            else mx=MAX(mx,J[i]*(I[N-1]-I[i]+1));\n            continue;\n        }\n        cnt1+=(J[i]+1)*(I[N-1]-I[i]);\n        cnt2+=J[i]*(I[N-1]-I[i]);\n        cnt3+=J[i]*(I[N-1]-I[i]+1);\n        mx=MAX(mx,J[i]*(I[N-1]-I[i]));\n    }\n\n    cnt2+=mx;\n\n    long long ans=cnt1;\n    ans=MAX(ans,cnt2);\n    ans=MAX(ans,cnt3);\n\n    cout << ans << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)   FOR(i,0,n)\n#define pb emplace_back\ntypedef long long ll;\ntypedef pair<int,int> pint;\n\nll cj[100001],ci[100001];\nint main(){\n    int n;\n    string s;\n    cin>>n>>s;\n    ll sum=0,jo=0,j=0;\n    rep(i,n){\n        cj[i]=j;\n        if(s[i]=='J')++j;\n        else if(s[i]=='O') jo+=j;\n        else sum+=jo;\n    }\n    ll mx=jo;\n    ll ii=0,oi=0;\n    for(int i=n-1;i>=0;--i){\n        ci[i]=ii;\n        if(s[i]=='I') ++ii;\n        else if(s[i]=='O') oi+=ci[i];  \n    }\n    mx=max(oi,mx);\n    FOR(i,1,n-1){\n        mx=max(mx,cj[i]*ci[i]);\n    }\n    cout<<sum+mx<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n; string s;\nint main() {\n\tcin >> n >> s;\n\tint cnti = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'I') cnti++;\n\t}\n\tint sumj = 0, sumi = cnti, sumo = 0;\n\tlong long ret = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi--;\n\t\tif (s[i] == 'O') sumo++, ret += 1LL * sumj * sumi;\n\t}\n\tlong long res = max(1LL * sumj * sumo, 1LL * sumo * sumi);\n\tsumj = 0, sumi = cnti;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi--;\n\t\tres = max(res, 1LL * sumj * sumi);\n\t}\n\tcout << ret + res << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long\nusing namespace std;\nint j[100001]={0};\nint i[100001]={0};\nint main(void){\n\tint n;\n\tstring x,xj,xi;\n\tint a,b;\n\tint cnt1,cnt2;\n\tLL mx1,mx2,mx3;\n\tcin>>n;\n\tcin>>x;\n\t\n\txj=x;\n\txj.push_back('J');\n\tfor(a=0;a<xj.size();a++){\n\t\tswap(xj[a],xj[xj.size()-1]);\n\t}\n\t//cout<<xj<<endl;\n\tcnt1=0;\n\tfor(a=1;a<=xj.size();a++){\n\t\tif(xj[a-1]=='J')\tcnt1++;\n\t\tj[a]=cnt1;\n\t}\n\t/* for(a=0;a<=xj.size();a++){\n\t\tcout<<j[a]<<endl;\n\t} */\n\tcnt2=0;\n\tfor(a=xj.size();a>0;a--){\n\t\tif(xj[a-1]=='I')\tcnt2++;\n\t\ti[a]=cnt2;\n\t}\n\t/* for(a=0;a<=xj.size();a++){\n\t\tcout<<i[a]<<endl;\n\t} */\n\tmx1=0;\n\tfor(a=1;a<=xj.size();a++){\n\t\tif(xj[a-1]=='O')\tmx1+=(LL)j[a]*i[a];\n\t}\n\t//cout<<mx1<<endl;\n\t\n\tfor(a=0;a<=xj.size();a++){\n\t\tj[a]=0;\n\t\ti[a]=0;\n\t}\n\txi=x;\n\txi.push_back('I');\n\t//cout<<xi<<endl;\n\tcnt1=0;\n\tfor(a=1;a<=xi.size();a++){\n\t\tif(xi[a-1]=='J')\tcnt1++;\n\t\tj[a]=cnt1;\n\t}\n\tcnt2=0;\n\tfor(a=xi.size();a>0;a--){\n\t\tif(xi[a-1]=='I')\tcnt2++;\n\t\ti[a]=cnt2;\n\t}\n\tmx2=0;\n\tfor(a=1;a<=xi.size();a++){\n\t\tif(xi[a-1]=='O')\tmx2+=(LL)j[a]*i[a];\n\t}\n\t//cout<<mx2<<endl;\n\t\n\tfor(a=0;a<=xi.size();a++){\n\t\tj[a]=0;\n\t\ti[a]=0;\n\t}\n\t//cout<<x<<endl;\n\tcnt1=0;\n\tfor(a=1;a<=x.size();a++){\n\t\tif(x[a-1]=='J')\t\tcnt1++;\n\t\tj[a]=cnt1;\n\t}\n\tcnt2=0;\n\tfor(a=x.size();a>0;a--){\n\t\tif(x[a-1]=='I')\t\tcnt2++;\n\t\ti[a]=cnt2;\n\t}\n\t/* for(a=0;a<=x.size();a++){\n\t\tcout<<j[a]<<\" \"<<i[a]<<endl;\n\t} */\n\tint sum=0;\n\tfor(a=1;a<=x.size();a++){\n\t\tif(x[a-1]=='O')\t\tsum+=(LL)j[a]*i[a];\n\t}\n\tmx3=-1;\n\tint c,d;\n\tfor(a=0;a<x.size()-1;a++){\n\t\tc=j[a+1];\n\t\td=i[a+2];\n\t\tif(mx3<c*d){\n\t\t\tmx3=(LL)c*d;\n\t\t}\n\t}\n\t\n\t//cout<<mx3<<\" \"<<mx3+sum<<endl;\n\tcout<<max(mx3+sum,max(mx2,mx1))<<endl;\n\treturn 0;\n}\n\t\t\n\t\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  char s[100005];\n  scanf(\"%d\",&n);\n  scanf(\"%s\",s);\n  long long J[100005],I[100005];\n  J[0] = 0;\n  I[n-1] = 0;\n  for(int i=0;i<n;i++){\n    if(i != 0) J[i] = J[i-1];\n    if(s[i] == 'J') J[i]++;\n  }\n  for(int i=n-1;i>=0;i--){\n    if(i != n-1) I[i] = I[i+1];\n    if(s[i] == 'I') I[i]++;\n  }\n  long long ans,sum=0,isum = 0,jsum = 0,oma=0;\n  if(s[0] == 'O') jsum = I[1];\n  if(s[n-1] == 'O') isum = J[n-2];\n  for(int i=1;i<n-1;i++){\n    if(s[i] == 'O'){\n      sum += J[i-1]*I[i+1];\n      jsum += (J[i-1]+1)*I[i+1];\n      isum += J[i-1]*(I[i+1]+1);\n    }\n    oma = max(oma,J[i-1]*I[i]);\n  }\n  oma = max(oma,J[n-2]*I[n-1]);\n  ans = max(jsum,isum);\n  ans = max(ans,sum+oma);\n  printf(\"%lld\\n\",ans);\n  return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstring stamp;\nint main(){\n\tlong long int n,m;\n\tint i,j,k;\n\tlong long int a=0,b=0,c=0;\n\tlong long int s=0;\n\tcin>>n;\n\tcin>>stamp;\n\tfor(i=0;i<n;i++){\n\t\tif(stamp[i]=='J')a++;\n\t\tif(stamp[i]=='O')b+=a;\n\t\tif(stamp[i]=='I')c++,s+=b;\n\t}\n\tm=b,a=0,b=0;\n\tfor(i=n-1;i>=0;i--){\n\t\tif(stamp[i]=='I')a++;\n\t\tif(stamp[i]=='O')b+=a;\n\t}\n\tif(m<b)m=b;\n\ta=0,b=0;\n\tfor(i=0;i<n;i++){\n\t\tif(stamp[i]=='J')a++;\n\t\tif(stamp[i]=='I')c--;\n\t\tif(b<a*c)b=a*c;\n\t}\n\tif(m<b)m=b;\n\tcout<<s+m<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define MAX 100001\n#define ll long long\n#define dmp make_pair\n#define dpb push_back\n#define P pair<int,int>\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\nconst int inf = 1e9;\nconst ll INF = 1e18;\n#define B 100\n\nchar a[MAX], c[4] = \"JOI\";\nll b[MAX][2], dp[MAX][5];\nint main(){\n\tll n, ans = 0, res = 0;\n\tscanf(\"%lld%s\", &n, a);\n\t\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,5)dp[i][j] += dp[i-1][j];\n\t\tif(a[i-1] == 'J')b[i][0]++;b[i][0] += b[i-1][0];\n\t\t\n\t\tif(a[i-1] == 'J')dp[i][0] += 1;\n\t\tif(a[i-1] == 'O'){\n\t\t\tdp[i][1] += dp[i-1][0];\n\t\t\tdp[i][3] += 1;\n\t\t}\n\t\tif(a[i-1] == 'I'){\n\t\t\tdp[i][2] += dp[i-1][1];\n\t\t\tdp[i][4] += dp[i-1][3];\n\t\t}\n\t}\n\tfor(int i = n;i >= 1;i--){\n\t\tif(a[i-1] == 'I')b[i][1]++;\n\t\tb[i-1][1] += b[i][1];\n\t}\n\t\n\tfor(int i = 1;i <= n;i++){\n\t\tres = max(res, b[i][0]*b[i][1]);\n\t\t//printf(\"%lld %lld\\n\", b[i][0], b[i][1]);\n\t}\n\tans = max(dp[n][2]+dp[n][4], dp[n][1]+dp[n][1]);\n\tans = max(ans, res);\n\t/*rep(i,n)printf(\"%c\\n\", a[i]);\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,3)printf(\"%d \", dp[i][j]);\n\t\tprintf(\"\\n\");\n\t}*/\n\t//rrep(i,n)printf(\"%d %d\\n\", b[i][0], b[i][1]);\n\t/*rep(i,5)printf(\"%lld \", dp[n][i]);\n\tprintf(\"%lld\", res);\n\tprintf(\"\\n\");*/\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nlong long dp[110000][4], n; string T; char F[5] = \"JOI!\";\nlong long solve(string S) {\n\tfor (int i = 0; i < 440000; i++)dp[i / 4][i % 4] = 0; dp[0][0] = 1;\n\tfor (int i = 0; i < S.size(); i++) {\n\t\tfor (int j = 0; j < 4; j++) {\n\t\t\tif (F[j] == S[i])dp[i + 1][j + 1] += dp[i][j];\n\t\t\tdp[i + 1][j] += dp[i][j];\n\t\t}\n\t}\n\treturn dp[S.size()][3];\n}\nint main() {\n\tcin >> n >> T;\n\tlong long J = 0, I = 0; for (int i = 0; i < T.size(); i++)if (T[i] == 'I')I++;\n\tint maxn = 0, maxid = 0;\n\tfor (int j = 0; j < T.size(); j++) {\n\t\tif (T[j] == 'J')J++; if (T[j] == 'I')I--;\n\t\tif (J*I > maxn) { maxn = J*I; maxid = j + 1; }\n\t}\n\tstring T1 = 'J' + T, T2 = T + 'I', T3 = T.substr(0, maxid) + 'O' + T.substr(maxid, T.size() - maxid);\n\tcout << max(solve(T1), max(solve(T2), solve(T3)));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  char s[100001];\n  scanf(\"%d\",&n);\n  scanf(\"%s\",s);\n  long long J[100001],I[100001];\n  J[0] = 0;\n  for(int i=0;i<n;i++){\n    if(i != 0) J[i] = J[i-1];\n    if(s[i] == 'J') J[i]++;\n  }\n  for(int i=n-1;i>=0;i--){\n    if(i != n-1) I[i] = I[i+1];\n    if(s[i] == 'I') I[i]++;\n  }\n  long long ans,sum=0,isum = 0,jsum = 0,oma=0;\n  if(s[0] == 'O') isum = I[1];\n  if(s[n-1] == 'O') jsum = J[n-2];\n  for(int i=1;i<n-1;i++){\n    if(s[i] == 'O'){\n      oma = max(oma,J[i-1]*I[i+1]);\n      sum += J[i-1]*I[i+1];\n      jsum += (J[i-1]+1)*I[i+1];\n      isum += J[i-1]*(I[i+1]+1);\n    }\n    oma = max(oma,J[i-1]*I[i]);\n  }\n  oma = max(oma,J[n-2]*I[n-1]);\n  ans = max(jsum,isum);\n  ans = max(ans,sum+oma);\n  printf(\"%lld\\n\",ans);\n  return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <vector>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <cmath>\n#include <map>\n#include <set>\n#include <stack>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n\n#define INF_LL 1e18\n#define INF 1e9\n\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n\n#define fst first\n#define snd second\n\nusing namespace std;\n\nusing ll = long long;\nusing PII = pair<int, int>;\n\nclass Union_find{\nprivate:\n\tvector<int> par;\n\tvector<int> rank;\n\tint n;\n\npublic:\n\tUnion_find(int a){\n\t\tn = a;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\trank.push_back(0);\n\t\t}\n\t}\n\n\tint find(int x){\n\t\tif(par[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn par[x] = find(par[x]);\n\t\t}\n\t}\n\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y) return;\n\n\t\tif(rank[x] < rank[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t}\n\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n\nint main(void){\n\tll J[100010] = {}, O[100010] = {},I[100010] = {};\n\tint N;\n\tll resj = 0, reso = 0, resi = 0;\n\tstring s;\n\tcin >> N;\n\tcin >> s;\n\tREP(i, s.size()){\n\t\tif(i > 0)\n\t\t\tJ[i] = J[i-1]; O[i] = O[i-1]; I[i] = I[i-1];\n\t\tif(s[i] == 'J'){\n\t\t\tJ[i]++;\n\t\t}else if(s[i] == 'O'){\n\t\t\tO[i]++;\n\t\t}else{\n\t\t\tI[i]++;\n\t\t}\n\t}\n\n\tll plus = 0;\n\tREP(i, s.size()){\n\t\tif(s[i] == 'O'){\n\t\t\tresj += (J[i]+1)*(I[N-1]-I[i]);\n\t\t\tresi += (J[i])*(I[N-1]-I[i]+1);\n\t\t\treso += (J[i])*(I[N-1]-I[i]);\n\t\t}\n\t\tplus = max(J[i]*(I[N-1]-I[i]), plus);\n\t}\n\tcout << max(resj, max(resi, reso+plus)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n//h16-2 スタンプラリー2(解き直し)\n#include <iostream>\n#include <fstream>\n#include <stdio.h>\n#include <math.h>\n#include <time.h>\n#include <string>\n#include <vector>\n#include <map>\n#include <list>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstdlib>\n#include <algorithm>\n#include <random>\n#include <cassert>\nusing namespace std;\n#include <boost/multiprecision/cpp_int.hpp>\nnamespace boost_multiprecision = boost::multiprecision;\n#define LL long long\n#define CINT boost_multiprecision::cpp_int\n#undef INT_MIN\n#undef INT_MAX\n#define INT_MIN -2147483648\n#define INT_MAX 2147483647\n#define LL_MIN -9223372036854775807\n#define LL_MAX 9223372036854775807\n#define segment_size 65536\n#define ROOP() while (true)\n\nint N;\nstring S;\n\nvector<int> J;\nvector<int> O;\nvector<int> I;\n\nint main(){\n\n    cin >> N >> S;\n\n    for(int i=0; i<N; i++){\n        if(S[i] == 'J'){\n            J.push_back(i);\n        }\n        if(S[i] == 'O'){\n            O.push_back(i);\n        }\n        if(S[i] == 'I'){\n            I.push_back(i);\n        }\n    }\n\n    LL sum = 0;\n    for(int i=0; i<O.size(); i++){\n        auto itr = lower_bound(J.begin(), J.end(), O[i]);\n        int a = itr - J.begin();\n        auto itr2 = lower_bound(I.begin(), I.end(), O[i]);\n        int b = itr2 - I.begin();\n        b = I.size() - b;\n        sum += a * b;\n    }\n\n    LL ans = 0;\n\n    //O\n    for(int i=0; i<N+1; i++){\n        auto itr = lower_bound(J.begin(), J.end(), i);\n        int a = itr - J.begin();\n        auto itr2 = lower_bound(I.begin(), I.end(), i);\n        int b = itr2 - I.begin();\n        b = I.size() - b;\n        ans = max(ans, sum + a*b);\n        //cout << sum + a*b << endl;\n    }\n\n    //J\n    LL tmp = 0;\n    J.insert(J.begin(), -1);\n    for(int i=0; i<O.size(); i++){\n        auto itr = lower_bound(J.begin(), J.end(), O[i]);\n        int a = itr - J.begin();\n        auto itr2 = lower_bound(I.begin(), I.end(), O[i]);\n        int b = itr2 - I.begin();\n        b = I.size() - b;\n        tmp += a * b;\n    }\n    J.erase(J.begin());\n    ans = max(ans,tmp);\n    //cout << tmp << endl;\n\n    //I\n    tmp = 0;\n    I.push_back(N);\n    for(int i=0; i<O.size(); i++){\n        auto itr = lower_bound(J.begin(), J.end(), O[i]);\n        int a = itr - J.begin();\n        auto itr2 = lower_bound(I.begin(), I.end(), O[i]);\n        int b = itr2 - I.begin();\n        b = I.size() - b;\n        tmp += a * b;\n    }\n    ans = max(ans,tmp);\n    //cout << tmp << endl;\n\n    cout << ans << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <queue>\n#include <vector>\n#include <iterator>\n\nusing namespace std;\n\nlong long int const LL_MAX = 10000000000000000; // 10^16\n\nlong long int DP[3][100001];\n\nlong long int total(int N, string str){\n\t\n\tDP[0][0] = 0;\n\tDP[1][0] = 0;\n\tDP[2][0] = 0;\n\t\n\tstr = \" \" + str;\n\t\n\tfor(int i = 1; i <= N; i++){\n\t\tif(str[i] == 'J'){\n\t\t\tDP[0][i] = DP[0][i - 1] + 1;\n\t\t}else{\n\t\t\tDP[0][i] = DP[0][i - 1];\n\t\t}\n\t}\n\tfor(int i = 1; i <= N; i++){\n\t\tif(str[i] == 'O'){\n\t\t\tDP[1][i] = DP[1][i - 1] + DP[0][i - 1];\n\t\t}else{\n\t\t\tDP[1][i] = DP[1][i - 1];\n\t\t}\n\t}\n\tfor(int i = 1; i <= N; i++){\n\t\tif(str[i] == 'I'){\n\t\t\tDP[2][i] = DP[2][i - 1] + DP[1][i - 1];\n\t\t}else{\n\t\t\tDP[2][i] = DP[2][i - 1];\n\t\t}\n\t}\n\treturn DP[2][N];\n}\n\nint main(){\n\t\n\tstring str;\n\tint N;\n\t\n\tcin >> N;\n\tcin >> str;\n\t\n\tstring str1, str3;\n\t\n\tstr1 = \"J\" + str;\n\tstr3 = str + \"I\";\n\t\n\tlong long int I_sum = 0;\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tif(str[i] == 'I'){\n\t\t\tI_sum++;\n\t\t}\n\t}\n\t\n\tlong long int J_count = 0;\n\tlong long int O_max = 0;\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tif(str[i] == 'J'){\n\t\t\tJ_count++;\n\t\t}else if(str[i] == 'I'){\n\t\t\tI_sum--;\n\t\t}\n\t\tif(J_count * I_sum > O_max){\n\t\t\tO_max = J_count * I_sum;\n\t\t}\n\t}\n\t\n\tlong long int ans = max(max(total(N + 1, str1), total(N + 1, str3)), total(N, str) + O_max);\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int,P> P3;\nconst ll MOD = ll(1e9+7);\nconst int IINF = INT_MAX;\nconst ll LLINF = LLONG_MAX;\nconst int MAX_N = int(1e5 + 5);\nconst double EPS = 1e-6;\nconst int di[] = {0, 1, 0, -1}, dj[] = {1, 0, -1, 0};\n#define REP(i, n) for (int i = 0; i < n; i++)\n#define REPR(i, n) for (int i = n; i >= 0; i--)\n#define SORT(v) sort((v).begin(), (v).end())\n#define ALL(v) (v).begin(), (v).end()\n\nint main() {\n    ll n, dp1[MAX_N]{}, dp2[MAX_N]{}, cnt[3][MAX_N]{};\n    string s, t = \"JOI\";\n    cin >> n >> s;\n\n    // J,O,Iそれぞれの個数の累積和を求める\n    for(int i=0; i<n; i++){\n        for(int j=0; j<3; j++){\n            if(s[i]==t[j]) cnt[j][i+1]++;\n            cnt[j][i+1] += cnt[j][i];\n        }\n    }\n\n    // JO,OIの部分列の個数を求める\n    for(int i=0; i<n; i++){\n        if(s[i]=='O') dp1[i+1] += cnt[0][i];\n        if(s[i]=='I') dp2[i+1] += cnt[1][i];\n        dp1[i+1] += dp1[i];\n        dp2[i+1] += dp2[i];\n    }\n\n    // 元のJOIの部分列の個数を求める\n    // Oそれぞれの(左のJの個数)*(右のIの個数)の総和\n    ll ans = 0, add = 0;\n    for(int i=0; i<n; i++){\n        if(s[i]=='O') ans += cnt[0][i]*(cnt[2][n]-cnt[2][i]);\n    }\n\n    // Oを挿入する位置を全探索\n    for(int i=0; i<n; i++){\n        add = max(add, cnt[0][i]*(cnt[2][n]-cnt[2][i]));\n    }\n    // Jを挿入するなら先頭,Iを挿入するなら末尾が最善\n    add = max(add, dp1[n]);\n    add = max(add, dp2[n]);\n\n    ans += add;\n    cout << ans << endl;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <vector>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <cmath>\n#include <map>\n#include <set>\n#include <stack>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n\n#define INF_LL 1e18\n#define INF 1e9\n\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n\n#define fst first\n#define snd second\n\nusing namespace std;\n\nusing ll = long long;\nusing PII = pair<int, int>;\n\nclass Union_find{\nprivate:\n\tvector<int> par;\n\tvector<int> rank;\n\tint n;\n\npublic:\n\tUnion_find(int a){\n\t\tn = a;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\trank.push_back(0);\n\t\t}\n\t}\n\n\tint find(int x){\n\t\tif(par[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn par[x] = find(par[x]);\n\t\t}\n\t}\n\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y) return;\n\n\t\tif(rank[x] < rank[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t}\n\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n\nint main(void){\n\tll J[100010] = {}, O[100010] = {},I[100010] = {};\n\tint N;\n\tll resj = 0, reso = 0, resi = 0;\n\tstring s;\n\tcin >> N;\n\tcin >> s;\n\tREP(i, s.size()){\n\t\tif(i > 0)\n\t\t\tJ[i] = J[i-1]; O[i] = O[i-1]; I[i] = I[i-1];\n\t\tif(s[i] == 'J'){\n\t\t\tJ[i]++;\n\t\t}else if(s[i] == 'O'){\n\t\t\tO[i]++;\n\t\t}else{\n\t\t\tI[i]++;\n\t\t}\n\t}\n\n\tll plus = 0;\n\tREP(i, s.size()){\n\t\tif(s[i] == 'O'){\n\t\t\tresj += (J[i]+1)*(I[N-1]-I[i]);\n\t\t\tresi += (J[i])*(I[N-1]-I[i]+1);\n\t\t\treso += (J[i])*(I[N-1]-I[i]);\n\t\t\tplus = max(J[i]*(I[N-1]-I[i]), plus);\n\t\t}\n\t}\n\tcout << max(resj, max(resi, reso+plus)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n; string s;\nint main() {\n\tcin >> n >> s;\n\tint cnti = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'I') cnti++;\n\t}\n\tint sumj = 0, sumi = cnti, sumo = 0;\n\tlong long ret = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi--;\n\t\tif (s[i] == 'O') sumo++, ret += 1LL * sumj * sumi;\n\t}\n\tlong long res = max(1LL * sumj * sumo, 1LL * sumo * sumi);\n\tsumj = 0, sumi = cnti;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi++;\n\t\tres = max(res, 1LL * sumj * sumi);\n\t}\n\tcout << ret + res << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <cfloat>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <string>\n#include <iostream>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\nenum Type{\n\tJ,\n\tO,\n\tI,\n};\n\n\nint main(){\n\n\tint N;\n\tscanf(\"%d\",&N);\n\tchar* stamp = new char[N+1];\n\n\tscanf(\"%s\",stamp);\n\n\tll** JOI_table = new ll*[N+1];\n\tfor(int i = 0; i <= N; i++){\n\t\tJOI_table[i] = new ll[3];\n\t\tfor(int k = 0; k < 3; k++)JOI_table[i][k] = 0;\n\t}\n\n\tJOI_table[0][J] = 1;\n\tll sum = 0,maximum;\n\tfor(int i = 0; i < N; i++){\n\t\tswitch(stamp[i]){\n\t\tcase 'J':\n\t\t\tJOI_table[i+1][J] = JOI_table[i][J]+1;\n\t\t\tJOI_table[i+1][O] = JOI_table[i][O];\n\t\t\tbreak;\n\t\tcase 'O':\n\t\t\tJOI_table[i+1][J] = JOI_table[i][J];\n\t\t\tJOI_table[i+1][O] = JOI_table[i][O] + JOI_table[i][J];\n\t\t\tbreak;\n\t\tcase 'I':\n\t\t\tJOI_table[i+1][J] = JOI_table[i][J];\n\t\t\tJOI_table[i+1][O] = JOI_table[i][O];\n\t\t\tJOI_table[i+1][I] = JOI_table[i][O];\n\t\t\tsum += JOI_table[i+1][I];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tmaximum = sum;\n\n\tfor(int i = 0; i <= N; i++){\n\t\tfor(int k = 0; k < 3; k++)JOI_table[i][k] = 0;\n\t}\n\n\tsum = 0;\n\tll normal;\n\tfor(int i = 0; i < N; i++){\n\t\tswitch(stamp[i]){\n\t\tcase 'J':\n\t\t\tJOI_table[i+1][J] = JOI_table[i][J]+1;\n\t\t\tJOI_table[i+1][O] = JOI_table[i][O];\n\t\t\tbreak;\n\t\tcase 'O':\n\t\t\tJOI_table[i+1][J] = JOI_table[i][J];\n\t\t\tJOI_table[i+1][O] = JOI_table[i][O] + JOI_table[i][J];\n\t\t\tbreak;\n\t\tcase 'I':\n\t\t\tJOI_table[i+1][J] = JOI_table[i][J];\n\t\t\tJOI_table[i+1][O] = JOI_table[i][O];\n\t\t\tJOI_table[i+1][I] = JOI_table[i][O];\n\t\t\tsum += JOI_table[i+1][I];\n\t\t\tbreak;\n\t\t}\n\t}\n\tnormal = sum;\n\tsum += JOI_table[N][O];\n\n\tmaximum = max(maximum,sum);\n\n\tll J_num[N+1],I_num[N+1];\n\n\tfor(int i = 0; i <= N; i++){\n\t\tJ_num[i] = 0;\n\t\tI_num[i] = 0;\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\t\tif(stamp[i] == 'J'){\n\t\t\tJ_num[i+1] = J_num[i]+1;\n\t\t}else{\n\t\t\tJ_num[i+1] = J_num[i];\n\t\t}\n\t}\n\n\tif(stamp[N-1] == 'I')I_num[N] = 1;\n\n\tfor(int i = N-2; i >= 0; i--){\n\t\tif(stamp[i] == 'I'){\n\t\t\tI_num[i+1] = I_num[i+2]+1;\n\t\t}else{\n\t\t\tI_num[i+1] = I_num[i+2];\n\t\t}\n\t}\n\n\tll tmp_max = 0;\n\n\tfor(int i = 1; i <= N-1; i++){\n\t\ttmp_max = max(tmp_max,J_num[i]*I_num[i+1]);\n\t}\n\n\tmaximum = max(maximum,normal+tmp_max);\n\n\tprintf(\"%lld\\n\",maximum);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++){\n\t\tcin>>s[i];\n\t}\n\n\tlong long Jsum=0,Osum=0,Isum=0;\n\tlong long R=0;\n\tlong long TJ[100000]={},TO[100000]={},TI[100000]={};\n\n\t///J\n\tJsum=1;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\tR=max(R,Isum);\n//O\n\tif(s[0]=='J')TJ[0]=1;\n\tfor(int i=1;i<N;i++){\n\t\tTJ[i]=TJ[i-1];\n\t\tTO[i]=TO[i-1];\n\t\tTI[i]=TI[i-1];\n\t\tif(s[i]=='J')TJ[i]+=1;\n\t\tif(s[i]=='O')TO[i]+=1;\n\t\tif(s[i]=='I')TI[i]+=1;\n\t}\n\tlong long moto;\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\tmoto=Isum;\n\tlong long x;\n\tfor(int i=0;i<N;i++){\n\t\tx=TJ[i]*(TI[N-1]-TI[i]);\n\t\tR=max(R,moto+x);\n\t}\n\n\n\t////I\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nusing LL = long long;\n\nint N;\nstring S;\nvector<LL> J, I, JO, OI;\n\nLL count() {\n  J = I = JO = OI = vector<LL>(N + 1);\n  for(auto i = 0; i < N; ++i) {\n    J[i+1] += J[i];\n    I[i+1] += I[i];\n    if(S[i] == 'J') ++J[i+1];\n    if(S[i] == 'I') ++I[i+1];\n  }\n\n  for(auto i = 0; i < N; ++i) {\n    JO[i+1] += JO[i];\n    if(S[i] == 'O') JO[i+1] += J[i];\n  }\n\n  for(auto i = N-1; 0 <= i; --i) {\n    OI[i] += OI[i+1];\n    if(S[i] == 'O') OI[i] += I[N] - I[i+1];\n  }\n\n  LL res = 0;\n  for(auto i = 0; i < N; ++i) if(S[i] == 'J') res += OI[i+1];\n  return res;\n}\n\nLL dif(auto i, auto c) {\n  if(c == 'J') return OI[i];\n  if(c == 'O') return J[i] * (I[N] - I[i]);\n  if(c == 'I') return JO[i];\n}\n\nint main() {\n  cin >> N >> S;\n\n  LL ans = 0;\n\n  auto init = count();\n  for(auto c: {'J', 'O', 'I'}) for(auto i = 0; i <= N; ++i) ans = max(ans, init + dif(i, c));\n\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\ntypedef long long int int64;\n\nint N,C[100000][3];\nstring S;\n\nint64 max(int64 a,int64 b)\n{\n\tif(a > b)\n\t\treturn a;\n\telse\n\t\treturn b;\n}\n\nint main(void)\n{\n\tcin >> N;\n\tcin >> S;\n\tint64 ci = 0;\n\tint64 cj = 0;\n\tfor(int i = 0;i < N;i++)\n\t{\n\t\tif(S[i] == 'I')\n\t\t\tci++;\n\t\telse if(S[i] == 'J')\n\t\t\tcj++;\n\t}\n\tint64 ja = 0;\n\tint64 oa = 0;\n\tint64 ia = 0;\n\tfor(int i = 0;i < N;i++)\n\t{\n\t\tif(S[i] == 'O')\n\t\t{\n\t\t\tja += ci;\n\t\t}\n\t\telse if(S[i] == 'I')\n\t\t\tci--;\n\t\tC[i][2] = ci;\n\t}\n\tfor(int i = N - 1;i >= 0;i--)\n\t{\n\t\tif(S[i] == 'O')\n\t\t{\n\t\t\tia += cj;\n\t\t}\n\t\telse if(S[i] == 'J')\n\t\t\tcj--;\n\t\tC[i][0] = cj;\n\t}\n\tfor(int i = 0;i < N - 1;i++)\n\t{\n\t\toa = max(oa,C[i+1][0] * C[i][2]);\n\t}\n\tint64 initial = 0;\n\tfor(int i = 0;i < N;i++)\n\t{\n\t\tif(S[i] == 'J')\n\t\t{\n\t\t\tfor(int t = i;t < N;t++)\n\t\t\t{\n\t\t\t\tif(S[t] == 'O')\n\t\t\t\t\tinitial += C[t][2];\n\t\t\t}\n\t\t}\n\t}\n\tint64 res = initial + max(max(ja,ia),oa);\n\tcout << res << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(void){\n\tint n,i,jwa[100001],iwa[100001],mx,sum,x,js,is;\n\tchar s[100001];\n\tcin>>n>>s;\n\tfor(i=0;i<=n;i++)jwa[i]=0,iwa[i]=0;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=0) jwa[i]=jwa[i-1];\n\t\tif(s[i]=='J') jwa[i]++;\n\t}\n\tfor(i=n-1;i>=0;i--){\n\t\tif(i!=n-1) iwa[i]=iwa[i+1];\n\t\tif(s[i]=='I') iwa[i]++;\n\t}\n\tmx=0; sum=0; js=0; is=0;\n\tfor(i=0;i<n;i++){\n\t\tif(s[i]=='O'){\n\t\t\tx=jwa[i]*iwa[i];\n\t\t\tjs+=iwa[i]; is+=jwa[i];\n\t\t\tsum+=x;\n\t\t\tmx=max(mx,x);\n\t\t}\n\t}\n\tmx=max(mx,js);\n\tmx=max(mx,is);\n\tcout<<sum+mx<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing PII = pair<int, int>;\nusing LL = long long;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing PLL = pair<LL, LL>;\nusing VS = vector<string>;\n\n#define ALL(a)  begin((a)),end((a))\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort(ALL((c)))\n#define RSORT(c) sort(RALL((c)))\n#define UNIQ(c) (c).erase(unique(ALL((c))), end((c)))\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n#define FF first\n#define SS second\ntemplate<class S, class T>\nistream& operator>>(istream& is, pair<S,T>& p){\n  return is >> p.FF >> p.SS;\n}\ntemplate<class S, class T>\nostream& operator<<(ostream& os, const pair<S,T>& p){\n  return os << p.FF << \" \" << p.SS;\n}\ntemplate<class T>\nvoid maxi(T& x, T y){\n  if(x < y) x = y;\n}\ntemplate<class T>\nvoid mini(T& x, T y){\n  if(x > y) x = y;\n}\n\n\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\nconst LL MOD = 1e9+7;\n\nstring JOI = \"JOI\";\nLL calc(string& S){\n  int N = SZ(S);\n  VVL cnt(N+1, VL(3));\n  REP(i,N){\n\tREP(j,3)\n\t  cnt[i+1][j] = cnt[i][j] + (JOI[j] == S[i]);\n  }\n\n  LL res = 0;\n  REP(i,N){\n\tif(S[i] == 'O'){\n\t  res += cnt[i][0] * (cnt[N][2] - cnt[i][2]);\n\t}\n  }\n  return res;\n}\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N;\n  cin >> N;\n  string S;\n  cin >> S;\n\n  string J = \"J\" + S;\n  string I = S + \"I\";\n\n  LL ans = max(calc(J), calc(I));\n\n  VVL cnt(N+1, VL(3));\n  REP(i,N){\n\tREP(j,3)\n\t  cnt[i+1][j] = cnt[i][j] + (JOI[j] == S[i]);\n  }\n  LL orig = calc(S);\n  REP(i,N)\n\tmaxi(ans, orig + cnt[i][0] * (cnt[N][2] - cnt[i][2]));\n  cout << ans << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n; string s;\nint main() {\n\tcin >> n >> s;\n\tint cnti = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'I') cnti++;\n\t}\n\tint sumj = 0, sumi = cnti, sumo = 0;\n\tlong long ret = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'O') sumo++, ret += 1LL * sumj * sumi;\n\t\tif (s[i] == 'I') sumi--;\n\t}\n\tlong long resj = 0, reso = 0, resi = 0;\n\tsumi = cnti, sumj = 0;\n\tfor (int i = 0; i < s.size(); i++) {\n\t\tif (s[i] == 'J') sumj++;\n\t\tif (s[i] == 'I') sumi--;\n\t\tif (s[i] == 'O') {\n\t\t\tresj += sumi;\n\t\t\tresi += sumj;\n\t\t}\n\t\treso = max(reso, 1LL * sumj * sumi);\n\t}\n\tcout << ret + max({ resj, reso, resi }) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define MAX 100001\n#define ll long long\n#define dmp make_pair\n#define dpb push_back\n#define P pair<int,int>\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\nconst int inf = 1e9;\nconst ll INF = 1e18;\n#define B 100\n\nchar a[MAX], c[4] = \"JOI\";\nll b[MAX][2], dp[MAX][3];\nint main(){\n\tll n, ans = 0, res = 0;\n\tscanf(\"%lld%s\", &n, a);\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,3)dp[i][j] += dp[i-1][j];\n\t\tif(a[i-1] == 'J')b[i][0]++;b[i][0] += b[i-1][0];\n\t\tif(a[i-1] == 'I')b[i][1]++;b[i][1] += b[i-1][1];\n\t\tif(a[i-1] == 'J')dp[i][0] += 1;\n\t\tif(a[i-1] == 'O')dp[i][1] += dp[i-1][0];\n\t\tif(a[i-1] == 'I')dp[i][2] += dp[i-1][1];\n\t}\n\t\n\tfor(int i = 1;i <= n;i++){\n\t\tres = max(res, b[i][0]*b[i][1]);\n\t}\n\tans = max(dp[n][2]*2, dp[n][1]*2);\n\tans = max(ans, res);\n\t/*rep(i,n)printf(\"%c\\n\", a[i]);\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,3)printf(\"%d \", dp[i][j]);\n\t\tprintf(\"\\n\");\n\t}*/\n\t//printf(\"%lld %lld\\n\", b[n][0], b[n][1]);\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <functional>\n\nusing namespace std;\n\n#define rep(i,a,n) for(int i = a; n > i; i++)\n#define REP(i,n) rep(i,0,n)\n#define MP(a,b) make_pair(a,b)\n#define ALL(a) (a).begin(),(a).end()\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n#define int ll\nint main(){\n\tint n;\n\tscanf(\"%lld%*c\", &n);\n\tint jsum = 0,osum = 0,isum = 0;\n\tvector<char> str(n);\n\tREP(i,n){\n\t\tscanf(\"%c\", &str[i]);\n\t\tswitch(str[i]){\n\t\t\tcase 'J':\n\t\t\t\tjsum++;\n\t\t\t\tbreak;\n\t\t\tcase 'O':\n\t\t\t\tosum++;\n\t\t\t\tbreak;\n\t\t\tcase 'I':\n\t\t\t\tisum++;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tint cans[3] = {},Oad = 0, cj = 0,ci = isum;\n\tREP(i,n){\n\t\tif(str[i] == 'O'){\n\t\t\tcans[0] += (cj+1)*ci;\n\t\t\tcans[1] += cj*ci;\n\t\t\tOad = max(Oad, cj*ci);\n\t\t\tcans[2] += cj*(ci+1);\n\t\t}\n\t\telse if(str[i] == 'I'){\n\t\t\tci--;\n\t\t}\n\t\telse{\n\t\t\tcj++;\n\t\t}\n\n\t}\n\n\tcans[1] += Oad;\n\n\tprintf(\"%lld\\n\", max({cans[0], cans[1], cans[2]}));\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <utility>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <functional>\n\nusing namespace std;\n\n#define int long long\n\n#define fst first\n#define scd second\n#define PB push_back\n#define MP make_pair\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define omajinai ios::sync_with_stdio(false);cin.tie(0)\n#define rep(i,x) for(int i=0;i<(int)(x);++i)\n#define rep1(i,x) for(int i=1;i<=(int)(x);++i)\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vpii;\n\ntemplate<typename T>T& max(T&a,T&b){if(a>=b)return a;return b;}\ntemplate<typename T>T& min(T&a,T&b){if(a<b)return a;return b;}\ntemplate<typename T>bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T>bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<typename T>T get(){T a;cin>>a;return a;}\ntemplate<typename T>T rev(T a){reverse(all(a));return a;}\ntemplate<typename T>vector<T>&sort(vector<T>&a){sort(all(a));return a;}\n\nconst int inf = 1e9;\nconst ll linf = 3e18;\nconst double eps = 1e-9;\n\nchar S[100010];\n\nint imosJ[100010];\nint imosO[100010];\nint imosI[100010];\n\nint rev_imosJ[100010];\nint rev_imosO[100010];\nint rev_imosI[100010];\n\nsigned main()\n{ // #define int long long ?????????????????§scanf???????????¨???????????????????????\\?????????????????????\n    omajinai;\n    int N; cin >> N;\n\n    rep(i, N) cin >> S[i];\n\n    int ma = 0;\n\n    { // 'J'\n        imosJ[0] += 1;\n\n        rep1(i, N) imosJ[i] += imosJ[i - 1] + (S[i - 1] == 'J');\n        rep1(i, N) imosO[i] += imosO[i - 1] + imosJ[i - 1] * (S[i - 1] == 'O'); // \"JO\" ?????°\n        rep1(i, N) imosI[i] += imosI[i - 1] + imosO[i - 1] * (S[i - 1] == 'I'); // \"JOI\" ?????°\n\n        ma = max(ma, imosI[N]);\n    }\n\n    { // 'I'\n        memset(imosJ, 0, sizeof(imosJ));\n        memset(imosO, 0, sizeof(imosO));\n        memset(imosI, 0, sizeof(imosI));\n\n        imosI[N] += 1;\n\n        for (int i = N - 1; i >= 0; --i) imosI[i] += imosI[i + 1] + (S[i] == 'I');\n        for (int i = N - 1; i >= 0; --i) imosO[i] += imosO[i + 1] + imosI[i + 1] * (S[i] == 'O');\n        for (int i = N - 1; i >= 0; --i) imosJ[i] += imosJ[i + 1] + imosO[i + 1] * (S[i] == 'J');\n\n        ma = max(ma, imosJ[0]);\n    }\n\n    { // 'O'\n        memset(imosJ, 0, sizeof(imosJ));\n        memset(imosO, 0, sizeof(imosO));\n        memset(imosI, 0, sizeof(imosI));\n        \n        rep1(i, N) imosJ[i] += imosJ[i - 1] + (S[i - 1] == 'J');\n        rep1(i, N) imosO[i] += imosO[i - 1] + imosJ[i - 1] * (S[i - 1] == 'O'); // \"JO\" ?????°\n        rep1(i, N) imosI[i] += imosI[i - 1] + imosO[i - 1] * (S[i - 1] == 'I'); // \"JOI\" ?????°\n\n        int sum = imosI[N];\n\n        for (int i = N - 1; i >= 0; --i) rev_imosI[i] += rev_imosI[i + 1] + (S[i] == 'I');\n        for (int i = N - 1; i >= 0; --i) rev_imosO[i] += rev_imosO[i + 1] + rev_imosI[i + 1] * (S[i] == 'O');\n        for (int i = N - 1; i >= 0; --i) rev_imosJ[i] += rev_imosJ[i + 1] + rev_imosO[i + 1] * (S[i] == 'J');\n\n        rep(i, N) {\n            ma = max(ma, sum + imosJ[i + 1] * rev_imosI[i]);\n        }\n    }\n\n    cout << ma << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nstring str,j=\"joi\",st;\nint sz=0,memo[10][3][2];\n\n\nint joi(int i=0,int m=0,bool y=false){\n\n    int &ans = memo[i][m][y];\n    if(ans!=-1)return ans;\n\n    if(m==3)return 1;\n    else if(i==(sz+1))return 0;\n    else{\n        for(int i=0;i<(sz+1);i++){\n            if(j[m]==str[i]){\n                ans += joi(i+1,m+1,y)+joi(i+1,m,y);\n            }else if(!y){\n                ans += max(joi(i+1,m+1,true),joi(i+1,m,y));\n            }\n        }\n        return ans;\n    }\n}\n\nint main(){\n    cin >> str;\n    sz=str.length();\n    int ans=0;\n    cout << joi() << endl;\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\ntypedef long long ll;\n\n#define N 100010\n#define LLINF 2000000000000000000LL\n\nint sum[N][3];\nll dp1[N][5],dp2[N][5];\n\nint main(){\n  int n,st[N];\n  char s[N];\n\n  scanf(\"%d%s\",&n,s);\n\n  for(int i=1;i<=n;i++){\n    if(s[i-1]=='J') st[i]=1;\n    if(s[i-1]=='O') st[i]=2;\n    if(s[i-1]=='I') st[i]=3;\n\n    sum[i][st[i]]++;\n  }\n\n  for(int i=1;i<=n;i++){\n    for(int j=0;j<3;j++){\n      sum[i+1][j] += sum[i][j];\n    }\n  }\n\n  ll ans = 0;\n\n  dp1[0][0] = 1;\n\n  for(int i=1;i<=n;i++){\n    dp1[i][st[i]] += dp1[i-1][st[i]-1];\n    for(int j=0;j<=4;j++){\n      dp1[i][j] += dp1[i-1][j];\n    }\n  }\n\n  dp2[n+1][4] = 1;\n\n  for(int i=n;i>=1;i--){\n    dp2[i][st[i]] += dp2[i+1][st[i]+1];\n    for(int j=0;j<=4;j++){\n      dp2[i][j] += dp2[i+1][j];\n    }\n  }\n\n  for(int i=0;i<=n;i++){\n    for(int j=1;j<=4;j++){\n      ans = max(ans,dp1[i][j-1] * dp2[i+1][j+1]);\n    }\n  }\n\n  printf(\"%lld\\n\",ans + dp1[n][3]);\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n; string s;\n    cin >> n >> s;\n    ll ans = 0, j = 0, jo = 0, joi = 0, ans2 = 0;\n    for (int i = 0; i < n; ++i) {\n        if(s[i] == 'J') j++;\n        else if(s[i] == 'O') jo += j;\n        else joi += jo;\n    }\n    ans = joi; ans2 = jo;\n    vector<ll> J(n);\n    J[0] = s[0] == 'J';\n    for (int i = 1; i < n; ++i) {\n        J[i] = J[i-1]+ (s[i] == 'J');\n    }\n    ll I = 0, IO = 0;\n    for (int i = n-1; i >= 0; --i) {\n        if(s[i] == 'I') I++;\n        else if(s[i] == 'O') IO += I;\n        ans2 = max(ans2, I*J[i]);\n    }\n    ans2 = max(ans2, IO);\n\n\n    cout << ans+ans2 << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<algorithm>\n#define int long long\nusing namespace std;\n\nsigned main() {\n\tint a; string b;\n\tcin >> a >> b;\n\tint J[100000], I[100000],j = 0, i = 0;\n\tfor (int c = 0; c < a; c++) {\n\t\tif (b[c] == 'J')j++;\n\t\tJ[c] = j;\n\t}\n\tfor (int d = a - 1; d != -1; d--) {\n\t\tif (b[d] == 'I')i++;\n\t\tI[d] = i;\n\t}\n\tint MAX, e, f,sum; MAX = e = f =sum= 0;\n\tfor (int g = 0; g < a; g++) {\n\t\tMAX = max(MAX, J[g] * I[g]);\n\t\tswitch (b[g]) {\n\t\tcase 'J':e += J[g]; break;\n\t\tcase 'O':sum += J[g] * I[g]; break;\n\t\tcase 'I':f += I[g]; break;\n\t\t}\n\t}\n\tsum += max(MAX, max(e, f));\n\tcout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "   #include <bits/stdc++.h>\n \n//    #include <boost/multiprecision/cpp_int.hpp>\n #define int long long\n #define inf  1000000007\n #define pa pair<int,int>\n #define ll long long\n #define pal pair<double,double>\n #define ppap pair<pa,int>\n  #define PI 3.14159265358979323846\n  #define paa pair<int,char>\n  #define  mp make_pair\n  #define  pb push_back\n  #define EPS (1e-8)\n                                          \n    int dx[8]={0,1,0,-1,1,1,-1,-1};\n    int dy[8]={1,0,-1,0,-1,1,1,-1};\n                                            using namespace std;\n                                   \t\t\tclass pa3{\n                                            \tpublic:\n                                            \tint x;\n                                   \t\t\t\tint y,z;\n                                            \tpa3(int x=0,int y=0,int z=0):x(x),y(y),z(z) {}\n                                            \tbool operator < (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\t return z<p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                   \t\t\t\tbool operator > (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\t return z>p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa3 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z;\n                                            \t}\n                                            \t\tbool operator != (const pa3 &p) const{\n                                            \t\t\treturn !( x==p.x && y==p.y && z==p.z);\n                                            \t}\n                                            \n                                            };\n                                            \n                                            class pa4{\n                                            \tpublic:\n                                            \tint x;\n                                            \tint y,z,w;\n                                            \tpa4(int x=0,int y=0,int z=0,int w=0):x(x),y(y),z(z),w(w) {}\n                                            \tbool operator < (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\tif(z!=p.z)return z<p.z;\n                                            \t\treturn w<p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator > (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\tif(z!=p.z)return z>p.z;\n                                            \t\treturn w>p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa4 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z &&w==p.w;\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            class pa2{\n                                            \tpublic:\n                                            \tint x,y;\n                                            \tpa2(int x=0,int y=0):x(x),y(y) {}\n                                            \tpa2 operator + (pa2 p) {return pa2(x+p.x,y+p.y);}\n                                            \tpa2 operator - (pa2 p) {return pa2(x-p.x,y-p.y);}\n                                            \tbool operator < (const pa2 &p) const{\n                                            \t\treturn y != p.y ? y<p.y: x<p.x;\n                                            \t}\n                                            \tbool operator > (const pa2 &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa2 &p) const{\n                                            \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                            \t}\n                                            \tbool operator != (const pa2 &p) const{\n                                            \t\treturn !(abs(x-p.x)==0 && abs(y-p.y)==0);\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            \n \n                      \n                                string itos( int i ) {\n                                ostringstream s ;\n                                s << i ;\n                                return s.str() ;\n                                }\n                                 \n                                int gcd(int v,int b){\n                                \tif(v==0) return b;\n                                \tif(b==0) return v;\n                                \tif(v>b) return gcd(b,v);\n                                \tif(v==b) return b;\n                                \tif(b%v==0) return v;\n                                \treturn gcd(v,b%v);\n                                }\n                 \n                            \n                                int mod;\nint extgcd(int a, int b, int &x, int &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    int d = extgcd(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\npa operator+(const pa & l,const pa & r) {   \n    return {l.first+r.first,l.second+r.second};                                    \n}    \npa operator-(const pa & l,const pa & r) {   \n    return {l.first-r.first,l.second-r.second};                                    \n}  \n                                \n                int pr[10000100];\n                int inv[10000010];\n                \n                int beki(int wa,int rr,int warukazu){\n                \tif(rr==0) return 1%warukazu;\n                \tif(rr==1) return wa%warukazu;\n                \twa%=warukazu;\n                \tif(rr%2==1) return ((ll)beki(wa,rr-1,warukazu)*(ll)wa)%warukazu;\n                \tll zx=beki(wa,rr/2,warukazu);\n                \treturn (zx*zx)%warukazu;\n                }\n \n                \n    \t\t\tint comb(int nn,int rr){\n    \t\t\t\tif(rr<0 || rr>nn || nn<0) return 0;\n    \t\t\t\tint r=pr[nn]*inv[rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\tr*=inv[nn-rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\treturn r;\n    \t\t\t}\n               \n                void gya(int ert){\n                \tpr[0]=1;\n                \tfor(int i=1;i<=ert;i++){\n                \t\tpr[i]=(pr[i-1]*i)%mod;\n                \t}\n                \t\tinv[ert]=beki(pr[ert],mod-2,mod);\n                \tfor(int i=ert-1;i>=0;i--){\n                \t\tinv[i]=inv[i+1]*(i+1)%mod;\n                \t}\n                }\n                \n              //   cin.tie(0);\n    \t\t//\tios::sync_with_stdio(false);\n    \t\t\t//priority_queue<pa3,vector<pa3>,greater<pa3>> pq;            \n                 //sort(ve.begin(),ve.end(),greater<int>());\n //   mt19937(clock_per_sec);\n  //  mt19937_64 rng(chrono::steady_clock::now().time_since_epoch().count()) ;\n      \n       \n\n\nint solve(string s){\n\tint n=s.length();\n\tint t1=0;\n\tint t2=0;\n\tint ans=0;\n\tfor(auto c:s)if(c=='I')t2++;\n\tfor(int i=0;i<n;i++){\n\t\tif(s[i]=='O')ans+=t1*t2;\n\t\tif(s[i]=='J')t1++;\n\t\tif(s[i]=='I')t2--;\n\t}\n\treturn ans;\n}\n\nsigned main(){\n\t\n\t\n   cin.tie(0);\n\tios::sync_with_stdio(false);\n\nint n;\n\tcin>>n;\n\tstring s;\n\tcin>>s;\n\t\n\tint t1=0,t2=0;\n\tfor(auto c:s)if(c=='I')t2++;\n\tint memo=0;\n\tfor(int i=0;i<n;i++){\n\t\tif(s[i]=='J')t1++;\n\t\tif(s[i]=='I')t2--;\n\t\tmemo=max(memo,t1*t2);\n\t}\n\t\t\tcout<<max({memo+solve(s),solve(s+\"I\"),solve(\"J\"+s)})<<endl;\n\t\n\treturn 0;\n\t\n\n \n }\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define int long long\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>=0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint n;\nstring s;\nint cntj[100005],cnti[100005];\nint dp[100005][4];\nint ans;\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> n;\n    cin >> s;\n    rep(i,n){\n        char c=s[i];\n        if (c=='J') cntj[i]=1;\n        else if (c=='I') cnti[i]=1;\n    }\n    rep(i,n-1){\n        cntj[i+1]+=cntj[i];\n        cnti[n-2-i]+=cnti[n-1-i];\n    }\n    int idx=-1;\n    int cnt=0;\n    rep(i,n-1){\n        if (cnt<cntj[i]*cnti[i+1]){\n            cnt=cntj[i]*cnti[i+1];\n            idx=i+1;\n        }\n    }\n    if (cntj[n-1]>=cnti[0]){\n        if (cntj[n-1]>=cnt) s=s+'I';\n        else s.insert(s.begin()+idx,'O');\n    }\n    else{\n        if (cnti[0]>=cnt) s='J'+s;\n        else s.insert(s.begin()+idx,'O');\n    }\n    dp[0][0]=1;\n    rep(i,n+1)rep(j,4){\n        char c=s[i];\n        dp[i+1][j]+=dp[i][j];\n        if (c=='J'){\n            if (j==1) dp[i+1][j]+=dp[i][j-1];\n        }\n        else if (c=='O'){\n            if (j==2) dp[i+1][j]+=dp[i][j-1];\n        }\n        else{\n            if (j==3) dp[i+1][j]+=dp[i][j-1];\n        }\n    }\n    cout << dp[n+1][3] << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<set>\n#include<map>\nusing namespace std;\n#define int long long\ntypedef pair<int, int> P;\nint rj[114514], ro[114514], ri[114514];\nint aj, ao, ai;\nsigned main() {\n\tint n;\n\tcin >> n;\n\tstring s;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'J')rj[i + 1]++;\n\t\telse if (s[i] == 'O')ro[i + 1]++;\n\t\telse ri[i + 1]++;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\trj[i + 1] += rj[i];\n\t\tro[i + 1] += ro[i];\n\t\tri[i + 1] += ri[i];\n\t}\n\n\t//plus'J'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0] + 1;\n\t\t\tint I = ri[n] - ri[i];\n\t\t\taj += J*I;\n\t\t}\n\t}\n\t//plus'O'\n\tfor (int i = 0; i < n; i++) {\n\t\tint J = rj[i] - rj[0];\n\t\tint I = ri[n] - ri[i+1];\n\t\tao = max(ao, J*I);\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i];\n\t\t\tao += J*I;\n\t\t}\n\t}\n\t//plus'I'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = rj[n] - rj[i] + 1;\n\t\t\tai += J*I;\n\t\t}\n\t}\n\tcout << max(aj, max(ao, ai)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nlong long calc(string S)\n{\n  int N = S.size();\n  int J[100000], I[100000];\n  J[0] = (S[0] == 'J');\n  I[N - 1] = (S[N - 1] == 'I');\n  for(int i = 1; i < N; i++) {\n    J[i] = J[i - 1] + (S[i] == 'J');\n  }\n  for(int i = N - 2; i >= 0; i--) {\n    I[i] = I[i + 1] + (S[i] == 'I');\n  }\n  long long sum = 0;\n  for(int i = 0; i < N; i++) {\n    if(S[i] == 'O') {\n      sum += 1LL * J[i] * I[i];\n    }\n  }\n  return(sum);\n}\n\nlong long calc2(string S)\n{\n  int N = S.size();\n  int J[100000], I[100000];\n  J[0] = (S[0] == 'J');\n  I[N - 1] = (S[N - 1] == 'I');\n  for(int i = 1; i < N; i++) {\n    J[i] = J[i - 1] + (S[i] == 'J');\n  }\n  for(int i = N - 2; i >= 0; i--) {\n    I[i] = I[i + 1] + (S[i] == 'I');\n  }\n  long long sum = 0, maximum = 0;\n  for(int i = 0; i < N; i++) {\n    if(S[i] == 'O') {\n      sum += 1LL * J[i] * I[i];\n    }\n    maximum = max(maximum, 1LL * J[i] * I[i]);\n  }\n  return(sum + maximum);\n}\nint main()\n{\n  int N;\n  string S;\n\n  cin >> N;\n  cin >> S;\n  cout << max({calc(\"J\" + S), calc(S + \"I\"), calc2(S)}) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++)cin>>s[i];\n\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\n\tJsum=1;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\tif(s[i]=='O')Osum+=Jsum;\n\t\tif(s[i]=='I')Isum+=Osum;\n\t}\n\t\tR=max(R,Isum);\n\tfor(int j=0;j<N;j++){\n\t\tJsum=0;\n\t\tOsum=0;\n\t\tIsum=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tif(s[i]=='J')Jsum+=1;\n\t\t\tif(s[i]=='O')Osum+=Jsum;\n\t\t\tif(s[i]=='I')Isum+=Osum;\n\t\t\tif(i==j)Osum+=Jsum;\n\t\t}\n\t\tR=max(R,Isum);\n\t}\n\tJsum=0;\n\tOsum=0;\n\tIsum=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\t}\n\tIsum+=Osum;\n\tR=max(R,Isum);\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n\ntemplate<typename T> void chmin(T &a,T b){if(a>b) a=b;}\ntemplate<typename T> void chmax(T &a,T b){if(a<b) a=b;}\n\n//INSERT ABOVE HERE\nsigned main(){\n  auto calc=[](string s,Int f){\n    Int n=s.size();\n    Int res=0,x=0;\n    vector<Int> J(n+1,0);\n    vector<Int> O(n+1,0);\n    vector<Int> I(n+1,0);\n    for(Int i=0;i<n;i++){\n      J[i+1]=J[i]+(s[i]=='J');\n      O[i+1]=O[i]+(s[i]=='O');\n      I[i+1]=I[i]+(s[i]=='I');\n    }\n    for(Int i=0;i<n;i++){\n      if(s[i]=='O') res+=J[i]*(I[n]-I[i]);\n      chmax(x,J[i]*(I[n]-I[i]));\n    }\n    return res+f*x;\n  };\n  Int n;\n  string s;\n  cin>>n>>s;\n  cout<<max({calc(s,1),calc(\"J\"+s,0),calc(s+\"I\",0)})<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <bits/stdc++.h>\n\nusing namespace std;\nusing ll=long long;\nusing ld=long double;\nusing P=pair<ll,ll>;\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORr(i,n,m) for(ll i=n; i>(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  ll N;\n  string s;\n  cin>>N>>s;\n\n  VEC2(v,3,N);\n  FOR(i,0,N){\n    if(s[i]=='J')v[0][i]=1;\n    if(s[i]=='O')v[1][i]=1;\n    if(s[i]=='I')v[2][i]=1;\n  }\n  FOR(i,1,N){\n    v[0][i]+=v[0][i-1];\n    v[2][N-i-1]+=v[2][N-i];\n  }\n  ll res=0,inst=0;\n\n  FOR(i,0,N){\n    inst=max(inst,v[0][i]*v[2][i]);\n    if(v[1][i]==1)res+=v[0][i]*v[2][i];\n  }\n  res+=inst;\n  inst=0;\n  FOR(i,0,N){\n    if(v[1][i]==1){\n      inst+=(v[0][i]+1)*v[2][i];\n    }\n  }\n  res=max(res,inst);\n  inst=0;\n  FOR(i,0,N){\n    if(v[1][i]==1){\n      inst+=(v[2][i]+1)*v[0][i];\n    }\n  }\n  res=max(res,inst);\n  cout<<res<<endl;\n  //coutv(v[0],0,N);\n  //coutv(v[1],0,N);\n  //coutv(v[2],0,N);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define int long long\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>=0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint n;\nstring s;\nint cntj[100005],cnti[100005];\nint dp[100005][4];\nint ans;\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> n;\n    cin >> s;\n    rep(i,n){\n        char c=s[i];\n        if (c=='J') cntj[i]=1;\n        else if (c=='I') cnti[i]=1;\n    }\n    rep(i,n-1){\n        cntj[i+1]+=cntj[i];\n        cnti[n-2-i]+=cnti[n-1-i];\n    }\n    int idx=-1;\n    int cnt=0;\n    rep(i,n-1){\n        if (cnt<cntj[i]*cnti[i+1]){\n            cnt=cntj[i]*cnti[i+1];\n            idx=i+1;\n        }\n    }\n    int ans=0;\n    rep(k,3){\n        string tmps=s;\n        if (k==0) tmps='J'+tmps;\n        else if (k==1) tmps=tmps+'I';\n        else {\n            if (idx==-1) break;\n            tmps.insert(tmps.begin()+idx,'O');\n        }\n        fill(dp[0],dp[n+2],0);\n        dp[0][0]=1;\n        rep(i,n+1)rep(j,4){\n            char c=tmps[i];\n            dp[i+1][j]+=dp[i][j];\n            if (c=='J'){\n                if (j==1) dp[i+1][j]+=dp[i][j-1];\n            }\n            else if (c=='O'){\n                if (j==2) dp[i+1][j]+=dp[i][j-1];\n            }\n            else{\n                if (j==3) dp[i+1][j]+=dp[i][j-1];\n            }\n        }\n        ans=max(ans,dp[n+1][3]);\n    }\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\nusing namespace std;\nlong long mmin(long long &a,long long b) {\n\ta = min(a, b);\n\treturn a;\n}\nlong long mmax(long long &a,long long b) {\n\ta = max(a, b);\n\treturn a;\n}\nint nibu(vector<int> &v, int tan) {\n\tint up = v.size()-1;\n\tint lo = 0;\n\tif (tan <= v[0]) {\n\t\treturn 0;\n\t}\n\twhile (up - lo > 1) {\n\t\tint mi = (up + lo) / 2;\n\t\tif (tan <= v[mi]) {\n\t\t\tup = mi;\n\t\t}\n\t\tif (v[mi] < tan) {\n\t\t\tlo = mi;\n\t\t}\n\t}\n\treturn up;\n}\nint main() {\n\tstring he = \"JOI\";\n\tint n; cin >> n;\n\tstring s; cin >> s;\n\tvector<int> ss(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int k = 0; k < 3; k++) {\n\t\t\tif (s[i] == he[k]) {\n\t\t\t\tss[i] = k;\n\t\t\t}\n\t\t}\n\t}\n\tvector<long long> j(n,0);\n\tvector<long long> jo(n,0);\n\tvector<long long> joi(n,0);\n\tif (ss[0] == 0) {\n\t\tj[0] = 1;\n\t}\n\tfor (int i = 1; i < n; i++) {\n\t\tj[i] = j[i - 1];\n\t\tjo[i] = jo[i - 1];\n\t\tjoi[i] = joi[i - 1];\n\t\tint x = ss[i];\n\t\tif (x == 0) {\n\t\t\tj[i]++;\n\t\t}\n\t\telse if(x==1){\n\t\t\tjo[i] += j[i - 1];\n\t\t}\n\t\telse {\n\t\t\tjoi[i] += jo[i - 1];\n\t\t}\n\t}\n\tvector<long long> oi(n,0);\n\tvector<long long> si(n,0);\n\tif (ss[n - 1] == 2) {\n\t\tsi[n - 1] = 1;\n\t}\n\tfor (int i = n - 2; i >= 0; i--) {\n\t\toi[i] = oi[i + 1];\n\t\tsi[i] = si[i + 1];\n\t\tint x = ss[i];\n\t\tif (x == 2) {\n\t\t\tsi[i]++;\n\t\t}\n\t\telse if (x == 1) {\n\t\t\toi[i] += si[i + 1];\n\t\t}\n\t}\n\tlong long mo = joi[n - 1];\n\tlong long ch = 0;\n\tfor (int i = 0; i + i < n - 1; i++) {\n\t\tmmax(ch, j[i] * si[i + 1]);\n\t}\n\tlong long ans = mo+max(ch, max(jo[n - 1], oi[0]));\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nlong long dp[110000][4], n; string T; char F[5] = \"JOI!\";\nlong long solve(string S) {\n\tfor (int i = 0; i < 440000; i++)dp[i / 4][i % 4] = 0; dp[0][0] = 1;\n\tfor (int i = 0; i < S.size(); i++) {\n\t\tfor (int j = 0; j < 4; j++) {\n\t\t\tif (F[j] == S[i])dp[i + 1][j + 1] += dp[i][j];\n\t\t\tdp[i + 1][j] += dp[i][j];\n\t\t}\n\t}\n\treturn dp[S.size()][3];\n}\nint main() {\n\tcin >> n >> T;\n\tlong long J = 0, I = 0; for (int i = 0; i < T.size(); i++)if (T[i] == 'I')I++;\n\tint maxn = 0, maxid = 0;\n\tfor (int j = 0; j < T.size(); j++) {\n\t\tif (T[j] == 'J')J++; if (T[j] == 'I')I--;\n\t\tif (J*I > maxn) { maxn = J*I; maxid = j + 1; }\n\t}\n\tstring T1 = 'J' + T, T2 = T + 'I', T3 = T.substr(0, maxid) + 'O' + T.substr(maxid, T.size() - maxid);\n\tcout << max(solve(T1), max(solve(T2), solve(T3))) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <stdio.h>\n#include <algorithm>\n\nusing namespace std;\nusing ll = long long;\n\nll num;\nchar str[123456];\n\nll smallans;\nll jans, ians;\nll omax;\n\nint main()\n{\n\tscanf(\"%lld\", &num);\n\tscanf(\"%s\", str);\n\tll inum = 0;\n\tfor (char* c = str; *c != '\\0'; ++c)\n\t{\n\t\tif (*c == 'I')++inum;\n\t}\n\tll jnum = 0;\n\tfor (char* c = str; *c != '\\0'; ++c)\n\t{\n\t\tomax = max(omax,jnum * inum);\n\t\tif (*c == 'O')\n\t\t{\n\t\t\tsmallans += (jnum * inum);\n\t\t\tjans += ((jnum + 1) * inum);\n\t\t\tians += (jnum * (inum + 1));\n\t\t}\n\t\tif (*c == 'J')++jnum;\n\t\tif (*c == 'I')--inum;\n\t}\n\tprintf(\"%lld\\n\", max({ jans,ians,smallans + omax }));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n;\nchar t[100010];\nlong long int js[100010], is[100010];\nlong long int ans, ma;\n\nint main(){\n\tscanf(\"%d %s\", &n, t+1);\n\n\tfor(int i=1; i<=n; ++i){\n\t\tif(t[i] == 'J') ++js[i];\n\t\telse if(t[i] == 'I') ++is[i];\n\t}\n/*\n\tfor(int i=0; i<=n; ++i) printf(\"%d %lld %lld\\n\", i, js[i], is[i]);\n\tprintf(\"\\n\");\n*/\n\tfor(int i=1; i<=n; ++i)\n\t\tjs[i] += js[i-1];\n\tfor(int i=n; i>=0; --i)\n\t\tis[i-1] += is[i];\n\n//\tfor(int i=0; i<=n; ++i) printf(\"%d %lld %lld\\n\", i, js[i], is[i]);\n\n\tfor(int i=0; i<=n; ++i)\n\t\tif(t[i] != 'O'){\n\t\t\tis[i] = 0;\n\t\t\tjs[i] = 0;\n\t\t}\n/*\n\tfor(int i=0; i<=n; ++i) printf(\"%d %lld %lld\\n\", i, js[i], is[i]);\n\tprintf(\"\\n\");\n*/\n\tfor(int i=1; i<n; ++i)\n\t\tif(t[i] == 'O')\n\t\t\tma = max(ma, js[i] * is[i]);\n\n//\tprintf(\"%lld\\n\", ma);\n\n\tfor(int i=1; i<=n; ++i) js[i] += js[i-1];\n\tfor(int i=n; i>=1; --i) is[i-1] += is[i];\n\n//\tfor(int i=0; i<=n; ++i) printf(\"%d %lld %lld\\n\", i, js[i], is[i]);\n\n\tfor(int i=1; i<=n; ++i)\n\t\tif(t[i] == 'J') ans += is[i];\n//\tprintf(\"%lld\\n\", ans);\n\n\tfor(int i=1; i<n; ++i) ma = max(ma, max(is[i], js[i]));\n\tans += ma;\n\n\tprintf(\"%lld\\n\", ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\ntypedef long long ll;\n\nint main(void) {\n  ll i, j, k, n, num = 0, ans, t1 = 0, t2 = 0;\n  scanf(\"%lld\", &n);\n  char s[n +10];\n  ll dp[n][3], sum[n][3];\n  for(i = 0; i < n; ++i) for(j = 0; j < 3; ++j) dp[i][j] = 0, sum[i][j] = 0;\n  scanf(\"%s\", s);\n  if(s[0] == 'J') sum[0][0] = 1;\n  else if(s[0] == 'O') sum[0][1] = 1;\n  else sum[0][2] = 1;\n  for(i = 1; i < n; ++i) {\n    for(j = 0; j < 3; ++j) sum[i][j] = sum[i - 1][j];\n    if(s[i] == 'J') ++sum[i][0];\n    else if(s[i] == 'O') ++sum[i][1];\n    else ++sum[i][2];\n  }\n  if(s[0] == 'O') t1 = sum[n - 1][2] - sum[0][2];\n  for(i = 1; i < n; ++i) if(s[i] == 'O') num += sum[i - 1][0] * (sum[n - 1][2] - sum[i][2]), t1 += (sum[i - 1][0] + 1) * (sum[n - 1][2] - sum[i][2]), t2 += sum[i - 1][0] *(sum[n - 1][2] - sum[i][2] + 1);\n  ans = (t1 > t2 ? t1 : t2);\n  //printf(\"%lld %lld \", t1, t2);\n  for(i = 0; i < n; ++i) if(ans < num + sum[i][0] * (sum[n - 1][2] - sum[i][2])) {\n    ans = num + sum[i][0] * (sum[n - 1][2] - sum[i][2]);\n    //printf(\"%lld\\n\", i);\n  }\n  printf(\"%lld\\n\", ans);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define INF 999999999\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<n;++i)\n\nusing namespace std;\n\ntypedef pair<int,int>P;\n\nconst int MAX_N = 100005;\n\nchar c[MAX_N];\nvector<P> a;\nint n;\n\nint main()\n{\n\tint cntj=0,cnti=0;\n\tscanf(\"%d\",&n);\n\tchar x;\n\tscanf(\"%c\",&x);\n\trep(i,n){\n\t\tscanf(\"%c\",&c[i]);\n\t\tif(c[i] == 'I'){\n\t\t\tcnti++;\n\t\t}\n\t}\n\tll mx = 0;\n\tll ans1 = 0;\n\trep(i,n){\n\t\tif(c[i] == 'J'){\n\t\t\tcntj++;\n\t\t}else if(c[i] == 'I'){\n\t\t\tcnti--;\n\t\t}else{\n\t\t\ta.push_back(P(cntj,cnti));\n\t\t\tans1 += (ll)cntj*cnti;\n\t\t\tmx = max(mx,(ll)cntj*cnti);\n\t\t}\n\t}\n\tans1 += mx;\n\tll ans2 = 0;\n\tll ans3 = 0;\n\trep(i,a.size()){\n\t\tans2 += (ll)(a[i].first+1)*a[i].second;\n\t\tans3 += (ll)a[i].first*(a[i].second+1);\n\t}\n\tprintf(\"%lld\\n\",max(max(ans1,ans2),ans3));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint main(void)\n{\n\tint n,i,j,jcnt,icnt,jj[100000],ii[100000];\n\tlong long cnt1,cnt2,mx,x,m1;\n\tchar buf[100001];\n\tscanf(\"%d\",&n);\n\tscanf(\"%s\",buf);\n\ticnt=0;\tjcnt=0;\n\tfor(i=0;i<n;i++)\t{\n\t\tif(buf[i]=='I')\ticnt++;\n\t\tif(buf[i]=='J')\tjcnt++;\n\t\tii[i]=icnt;\tjj[i]=jcnt;\n\t}\n\tfor(i=0;i<n;i++)\t{\n\t\tii[i]=icnt-ii[i];\n\t\tif(buf[i]=='I')\tii[i]++;\n\t}\n//\tfor(i=0;i<n;i++)\tprintf(\"%d %d\\n\",ii[i],jj[i]);\n\tcnt1=0;\n\tfor(i=0;i<n;i++)\t{\n\t\tif(buf[i]=='O')\t{\n\t\t\tx=(long long)(jj[i]+1)*ii[i];\n\t\t\tcnt1+=x;\n\t\t}\n\t}\n\tcnt2=0;\n\tfor(i=0;i<n;i++)\t{\n\t\tif(buf[i]=='O')\t{\n\t\t\tx=(long long)(jj[i])*(ii[i]+1);\n\t\t\tcnt2+=x;\n\t\t}\n\t}\n\tmx=max(cnt1,cnt2);\n\tcnt1=0;\n\tm1=0;\n\tfor(i=0;i<n;i++)\t{\n\t\tif(buf[i]=='O')\t{\n\t\t\tx=(long long)jj[i]*ii[i];\n\t\t\tcnt1+=x;\n\t\t}\n\t\tm1=max(m1,(long long)jj[i]*ii[i]);\n\t}\n\tcnt1+=m1;\n\tmx=max(cnt1,mx);\n\tprintf(\"%lld\\n\",mx);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define MAX 100002\nusing namespace std;\n\nint main()\n{\n  string s;\n  long long O[MAX]={},CO[MAX]={},I[MAX]={},CI[MAX]={};\n  int n,numI[MAX]={};\n\n  cin>>n;\n  cin>>s;\n\n  long long count=0,count1=1,ans=0,sum=0,sum1=0;\n  for(int i=0;i<n;i++){\n    if(s[i]=='J'){\n      count++;\n      count1++;\n    }\n    O[i]=count;\n    CO[i]=count1;\n  }\n  count = 0;\n  count1 = 0;\n  for(int i=0;i<n;i++){\n    if(s[i]=='O'){\n      count+=O[i];\n      count1+=CO[i];\n    }\n    if(s[i]=='I'){\n      I[i]=count;\n      CI[i]=count1;\n      sum1+=I[i];\n      sum+=CI[i];\n    }\n  }\n  ans=max(sum1+count,sum);\n\n  count=0;\n  for(int i=n-1;i>=0;i--){\n    if(s[i]=='I')count++;\n    numI[i]=count;\n  }\n\n  for(int i=0;i<n;i++){\n    ans=max(ans,sum1+O[i]*numI[i]);\n  }\n  cout<<ans<<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<set>\n#include<map>\nusing namespace std;\n#define int long long\ntypedef pair<int, int> P;\nint rj[114514], ro[114514], ri[114514];\nint aj, ao, ai;\nsigned main() {\n\tint n;\n\tcin >> n;\n\tstring s;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'J')rj[i + 1]++;\n\t\telse if (s[i] == 'O')ro[i + 1]++;\n\t\telse ri[i + 1]++;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\trj[i + 1] += rj[i];\n\t\tro[i + 1] += ro[i];\n\t\tri[i + 1] += ri[i];\n\t}\n\n\t//plus'J'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0] + 1;\n\t\t\tint I = ri[n] - ri[i];\n\t\t\taj += J*I;\n\t\t}\n\t}\n\t//plus'O'\n\tfor (int i = 0; i < n; i++) {\n\t\tint J = rj[i] - rj[0];\n\t\tint I = ri[n] - ri[i];\n\t\tao =max(ao,J*I);\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i];\n\t\t\tao += J*I;\n\t\t}\n\t}\n\t//plus'I'\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') {\n\t\t\tint J = rj[i] - rj[0];\n\t\t\tint I = ri[n] - ri[i] + 1;\n\t\t\tai += J*I;\n\t\t}\n\t}\n\tcout << max(aj, max(ao, ai)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint main(){\n\tstring s;\n\tll n,dsum=0,disum=0,djsum=0,ic=0,jc=0,iic=-1,icount[100001],jcount[100001];\n\tcin>>n>>s;\n\tfor(ll i=n-1;i!=-1;i--){\n\t\tswitch(s[i]){\n\t\t\tcase 'J':dsum+=disum;break;\n\t\t\tcase 'O':disum+=ic;break;\n\t\t\tcase 'I':ic++;\n\t\t}\n\t\ticount[i]=ic;\n\t}\n\tfor(ll i=0;i<n;i++){\n\t\tif(s[i]=='O')djsum+=jc;\n\t\tif(s[i]=='J')jc++;\n\t\tjcount[i]=jc;\n\t}\n\tfor(ll i=1;i<n;i++)iic=max(iic,icount[i]*jcount[i-1]);\n\tcout<<max(iic,max(disum,djsum))+dsum<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\nusing namespace std;\nstring s;\nint n;\nlong long cj[100005] = { 0 }, ci[100005] = { 0 };\nint main() {\n\tcin >> n >> s;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'J') cj[i]++;\n\t\tif (i >= 1) cj[i] += cj[i - 1];\n\t}\n\tfor (int i = n - 1; i >= 0; i--) {\n\t\tif (s[i] == 'I') ci[i] = 1;\n\t\tif (i <= n - 2) ci[i] += ci[i + 1];\n\t}\n\tlong long res = 0, cnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') cnt += (cj[i] + 1)*ci[i];\n\t}\n\tres = max(res, cnt);\n\tcnt = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') cnt += (cj[i])*(ci[i]+1);\n\t}\n\tres = max(res, cnt);\n\tcnt = 0;\n\tlong long mc = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (s[i] == 'O') cnt += cj[i] * ci[i];\n\t\tmc = max(mc, cj[i] * ci[i]);\n\t}\n\tres = max(res, cnt + mc);\n\tcout << res << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nlong long dp[110000][4], n; string T; char F[5] = \"JOI!\";\nlong long solve(string S) {\n\tfor (int i = 0; i < 440000; i++)dp[i / 4][i % 4] = 0; dp[0][0] = 1;\n\tfor (int i = 0; i < S.size(); i++) {\n\t\tfor (int j = 0; j < 4; j++) {\n\t\t\tif (F[j] == S[i])dp[i + 1][j + 1] += dp[i][j];\n\t\t\tdp[i + 1][j] += dp[i][j];\n\t\t}\n\t}\n\treturn dp[S.size()][3];\n}\nint main() {\n\tcin >> n >> T;\n\tlong long J = 0, I = 0; for (int i = 0; i < T.size(); i++)if (T[i] == 'I')I++;\n\tint maxn = 0, maxid = 0;\n\tfor (int j = 0; j < T.size(); j++) {\n\t\tif (T[j] == 'J')J++; if (T[j] == 'I')I--;\n\t\tif (J*I > maxn) { maxn = J*I; maxid = j; }\n\t}\n\tcout << max(solve('J' + T), max(solve(T + 'I'), solve(T.substr(0, maxn) + 'O' + T.substr(maxn, T.size() - maxn))));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nconstexpr int MAX_N = (int)1e5;\n\nint n;\nint data[MAX_N];\n\nint main() {\n\tstd::cin >> n;\n\tchar in;\n\tfor (int i = 0; i < n; ++i) {\n\t\tstd::cin >> in;\n\t\tif (in == 'O')\n\t\t\tdata[i] = 1;\n\t\telse if (in == 'I')\n\t\t\tdata[i] = 2;\n\t}\n\tint max = 0, cnt = 0;\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n\tcnt = 0;\n\tfor (int i = n - 1; i >= 1; --i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (data[j] == 0)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n\tint sum[MAX_N] = { 0 };\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 0) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2) {\n\t\t\t\t\t++sum[i];\n\t\t\t\t\t--sum[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 1; i < n; ++i)\n\t\tsum[i] += sum[i - 1];\n\tcnt = 0;\n\tfor (int i = 0; i < n; ++i)\n\t\tcnt = std::max(cnt, sum[i]);\n\tmax = std::max(max, cnt);\n\n\tfor (int i = 0; i < n - 2; ++i) {\n\t\tif (data[i] == 0) {\n\t\t\tfor (int j = i + 1; j < n - 1; ++j) {\n\t\t\t\tif (data[j] == 1) {\n\t\t\t\t\tfor (int k = j + 1; k < n; ++k) {\n\t\t\t\t\t\tif (data[k] == 2)\n\t\t\t\t\t\t\t++max;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tstd::cout << max << std::endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i = 0; i < n; i++)\n#define repp(i, m, n) for(int i = m; i < n; i++)\n#define reps(i, n) for(int i = 1; i <= n; i++)\nconst int    INF = 100000000;\nconst double EPS = 1e-10;\nconst int    MOD = 1000000007;\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pai;\ntypedef pair<ll,ll> pal;\n\n\nint main()\n{\n\tint n;\n\tstring s;\n\tcin >> n >> s;\n\tll js[100010]={}, is[100010]={};\n\tll ans=0, ans1=0, ans2=0, mx=0;\n\trep(i, n-1)\n\t{\n\t\tjs[i+1]=js[i]+(s[i]=='J');\n\t\tis[n-2-i]=is[n-1-i]+(s[n-1-i]=='I');\n\t}\n\trep(i, n)\n\t{\n\t\tans+=((s[i]=='O')*js[i]*is[i]);\n\t\tans1+=((s[i]=='O')*(js[i]+1)*is[i]);\n\t\tans2+=((s[i]=='O')*js[i]*(is[i]+1));\n\t}\n\trep(i, n) mx=max(mx, js[i+1]*is[i]);\n\tcout << max(ans+mx, max(ans1, ans2)) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\n\nint main() {\n    int n; cin >> n;\n    string s; cin >> s;\n    vector<vector<ll>> sum(n + 1, vector<ll>(3));\n    auto to_i = [] (char c) {\n                    if(c == 'J') return 0;\n                    if(c == 'O') return 1;\n                    if(c == 'I') return 2;\n                    return -1;\n                };\n    for(int i = 0; i < n; ++i) {\n        for(int j = 0; j < 3; ++j) {\n            sum[i + 1][j] = sum[i][j];\n        }\n        sum[i + 1][to_i(s[i])] += 1;\n    }\n    auto solve =\n        [&to_i] (const string& t) {\n            const int m = t.size();\n            vector<ll> dp(4); dp[0] = 1;\n            for(int i = 0; i < m; ++i) {\n                dp[to_i(t[i]) + 1] += dp[to_i(t[i])];\n            }\n            return dp.back();\n        };\n    ll ans = max(solve(\"J\" + s), solve(s + \"I\"));\n    {\n        ll tmp = solve(s);\n        for(int i = 1; i < n; ++i) {\n            ans = max(ans, tmp + (sum[i][0] * (sum[n][2] - sum[i][2])));\n        }\n    }\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint N;\nchar S[100005];\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N;\n\n\tll cntI = 0;\n\tll cntJ = 0;\n\n\tfor (int i = 1;i <= N;i++){\n\t\tcin >> S[i];\n\t\tif(S[i] == 'I') cntI++;\n\t}\n\n\tll J[100005], O[100005], I[100005];\n\tJ[0] = O[0] = I[0] = 0;\n\n\tfor (int i = 1;i <= N;i++){\n\t\tJ[i] = J[i-1];\n\t\tO[i] = O[i-1];\n\t\tI[i] = I[i-1];\n\t\tif(S[i] == 'J') J[i]++;\n\t\telse if(S[i] == 'O') O[i] += J[i];\n\t\telse if(S[i] == 'I') I[i] += O[i];\n\t}\n\n\tll da = I[N];\n\tll ans = O[N] + I[N];\n\n\tJ[0] = 1;\n\tO[0] = I[0] = 0;\n\n\tfor (int i = 1;i <= N;i++){\n\t\tJ[i] = J[i-1];\n\t\tO[i] = O[i-1];\n\t\tI[i] = I[i-1];\n\t\tif(S[i] == 'J') J[i]++;\n\t\telse if(S[i] == 'O') O[i] += J[i];\n\t\telse if(S[i] == 'I') I[i] += O[i];\n\t}\n\n\tans = max(ans,I[N]);\n\n\tll maxO = -1;\n\n\tfor (int i = 1;i < N;i++){\n\t\tif(S[i] == 'J') cntJ++;\n\t\telse if(S[i] == 'I') cntI--;\n\t\tmaxO = max(maxO, cntJ*cntI);\n\t}\n\n\tans = max(da+maxO, ans);\n\n\tcout << ans << endl;\n\n\treturn 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//??????????????\\???\n#include <iostream>\n#define int long long\nusing namespace std;\n\nint n;\nchar s[100002];\nint OI[100001];\t//OI[i] = OI[i, n-1]\nint J[100001];\t//J[i] = J[0, i-1]\nint I[100001];\t//I[i] = I[i, n-1]\nint JO[100001];\t//JO[i] = JO[0, i-1]\n\nsigned main() {\n\tint i;\n\tcin >> n >> s;\n\t\n\tfor (i = n - 1; i >= 0; i--) I[i] = I[i+1] + (s[i] == 'I');\n\tfor (i = n - 1; i >= 0; i--) OI[i] = OI[i+1] + (s[i] == 'O') * I[i];\n\tfor (i = 0; i < n; i++) J[i+1] = J[i] + (s[i] == 'J');\n\tfor (i = 0; i < n; i++) JO[i+1] = JO[i] + (s[i] == 'O') * J[i];\n\n\tint ini = 0;\n\tfor (i = 0; i < n; i++) ini += (s[i] == 'J') * OI[i];\n\t\n\tint ans = 0;\n\tfor (i = 0; i <= n; i++) {\n\t\tans = max(ans, OI[i]);\n\t\tans = max(ans, J[i] * I[i]);\n\t\tans = max(ans, JO[i]);\n\t}\n\tans += ini;\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n;\nint ch(string s){\n  int dp[4][s.size()+1],ans=0;\n  memset(dp,0,sizeof(dp));\n  dp[0][0]=1;\n  s=\"+\"+s;\n  string t=\"+JOI\";\n  for(int i=1;i<4;i++){\n    for(int j=1,x=0;j<s.size();j++){\n      x+=dp[i-1][j-1];\n      if(s[j]==t[i]){\n        dp[i][j]=x;\n        if(i==3)ans+=dp[i][j];\n      }\n    }\n  }\n  return ans;\n}\nint ch2(string s){\n  int ans=0;\n  s=\"@\"+s+\"@\";\n  for(int i=1;i<(int)s.size();i+=2)s.insert(s.begin()+i,'O');\n  int dp1[s.size()]={};\n  int dp2[s.size()]={};\n  for(int i=1;i<s.size();i++)dp1[i]=dp1[i-1]+(s[i-1]=='J');\n  for(int i=s.size()-2;i>=0;i--)dp2[i]=dp2[i+1]+(s[i+1]=='I');\n  for(int i=0;i<s.size();i++)ans=max(ans,dp1[i]*dp2[i]);\n  return ans;\n}\nmain(){\n  string s;\n  cin>>n>>s;\n  int p1=ch(s);\n  int p2=ch(\"J\"+s);\n  int p3=ch(s+\"I\");\n  int p4=p1+ch2(s);\n  cout<<max(p4,max(p3,p2))<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<functional>\nusing namespace std;\nlong long a[100001][3];\nlong long b[100001];\nint main() {\n\tint n;\n\tstring s;\n\twhile (cin >> n >> s) {\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 3; j++) a[i][j] = 0;\n\t\t\tb[i] = 0;\n\t\t}\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (i != 0) {\n\t\t\t\tfor (int j = 0; j < 3; j++) a[i][j] = a[i - 1][j];\n\t\t\t}\n\t\t\tswitch (s[i])\n\t\t\t{\n\t\t\tcase'J': a[i][0]++;\n\t\t\t\tbreak;\n\t\t\tcase 'O':a[i][1]++;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tlong long sum = 0;\n\t\tfor (int i = n - 1; i >= 0; i--) {\n\t\t\tif (i != n - 1) a[i][2] = a[i + 1][2];\n\t\t\tif (s[i] == 'J') {\n\t\t\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\t\t\tif (s[j] == 'O') b[i] += b[j];\n\t\t\t\t\telse if (s[j] == 'J') {\n\t\t\t\t\t\tb[i] += b[j];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (s[i] == 'O') {\n\t\t\t\tlong long sum2 = 0;\n\t\t\t\tsum2 += a[i][2];\n\t\t\t\tsum2 *= a[i][0];\n\t\t\t\tb[i] = sum2;\n\t\t\t\tsum += sum2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta[i][2]++;\n\t\t\t\tlong long sum2 = 0;\n\t\t\t\tfor (int j = i - 1; j >= 0; j--) {\n\t\t\t\t\tif (s[j] == 'O') {\n\t\t\t\t\t\tsum2 += (a[j][0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tb[i] = sum2;\n\t\t\t}\n\t\t}\n\t\tlong long sum2 = 0;\n\t\tfor (int i = -1; i < n; i++) {\n\t\t\tlong long sum3 = 0;\n\t\t\tif (i == 2) {\n\t\t\t\tint o = 0;\n\t\t\t}\n\t\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\t\tif (s[j] == 'O') sum3 += a[j][2];\n\t\t\t\telse if (s[j] == 'J') {\n\t\t\t\t\tsum3 += b[j];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tsum2 = max(sum2, sum3);\n\t\t\tsum3 = 0;\n\t\t\tsum3 += a[i][2];\n\t\t\tsum3 *= a[i][0];\n\t\t\tsum2 = max(sum2, sum3);\n\t\t\tsum3 = 0;\n\t\t\tfor (int j = i - 1; j >= 0; j--) {\n\t\t\t\tif (s[j] == 'O') {\n\t\t\t\t\tsum3 += (a[j][0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsum2 = max(sum2, sum3);\n\t\t}\n\t\tcout << sum + sum2 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\ntypedef long long ll;\n\nll J[2][100000], JO[2][100000], JOI[2][100000];\nll cj[100000], ci[100000];\nchar s[1000000];\n\nint main() {\n\tint n;\n\tscanf(\"%d%s\", &n, s);\n\tJ[1][0] = 1;\n\trep(i, n) {\n\t\tif (i) {\n\t\t\trep(j, 2) {\n\t\t\t\tJ[j][i] += J[j][i - 1];\n\t\t\t\tJO[j][i] += JO[j][i - 1];\n\t\t\t\tJOI[j][i] += JOI[j][i - 1];\n\t\t\t}\n\t\t}\n\t\tswitch (s[i]) {\n\t\tcase 'J':rep(j, 2)J[j][i]++; cj[i]++; break;\n\t\tcase 'O':rep(j, 2)JO[j][i] += J[j][i]; break;\n\t\tcase 'I':rep(j, 2)JOI[j][i] += JO[j][i]; ci[i]++; break;\n\t\t}\n\t}\n\tll Max = max(JOI[0][n - 1] + JO[0][n - 1], JOI[1][n - 1]);\n\tfor (int i = 1; i < n; i++)cj[i] += cj[i - 1];\n\tfor (int i = n - 2; i >= 0; i--)ci[i] += ci[i + 1];\n\trep(i, n - 1) {\n\t\tMax = max(Max, cj[i] * ci[i + 1] + JOI[0][n - 1]);\n\t}\n\tprintf(\"%lld\\n\", Max);\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n#define int long long\n#define PB push_back\n#define PPB pop_back\ntypedef pair<int, int> pii;\ntypedef pair<double, double> pdd;\ntypedef pair<string, int> psi;\n\nstatic const int INF = 1LL << 60;\nstatic const int MAX_N = 100005;\n\nint n, ruij[MAX_N], ruii[MAX_N], dj[] = {1, 0}, di[] = {0, 1};\nstring s;\n\nsigned main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\n    cin >> n >> s;\n    for (int i = 0; i < n; ++i) {\n        ruij[i] += s[i] == 'J';\n        ruii[i] += s[i] == 'I';\n        ruij[i + 1] = ruij[i];\n        ruii[i + 1] = ruii[i];\n    }\n\n    int ans = 0;\n    for (int i = 0; i < 2; ++i) {\n        int t = 0;\n        for (int j = 0; j < n; ++j) {\n            if (s[j] != 'O') continue;\n            int numj = ruij[j] + dj[i], numi = ruii[n] - ruii[j] + di[i];\n            t += numj * numi;\n        }\n\n        ans = max(ans, t);\n    }\n    {\n        int t = 0, tmax = 0;\n        for (int i = 0; i < n; ++i) {\n            int numi = ruii[n] - ruii[i], temp = ruij[i] * numi;\n            if (s[i] == 'O') t += temp;\n            tmax = max(tmax, temp);\n        }\n        ans = max(ans, t + tmax);\n    }\n\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint N;\nchar S[200000];\nint J[200000];\nint O[200000];\nint I[200000];\n\nint main()\n{\n\tstd::cin.sync_with_stdio(false);\n\tstd::cin >> N>>(S+1);\n\tS[0]='I';++N;I[0]=1;\n\tfor(int i = 1;i < N;++i){\n\t\tJ[i]+=J[i-1];\n\t\tO[i]+=O[i-1];\n\t\tI[i]+=I[i-1];\n\t\tif(S[i]=='J'){++J[i];}\n\t\tif(S[i]=='O'){++O[i];}\n\t\tif(S[i]=='I'){++I[i];}\n\t}\n\tint64_t max = 0;\n\t//J\n\tint64_t tmppat = 0;\n\tint64_t Opat = 0;\n\tfor(int i = N-1;i >= 0;--i){\n\t\tif(S[i]=='O'){\n\t\t\tOpat += (I[N-1]-I[i]);\n\t\t}\n\t\tif(S[i]=='J'){\n\t\t\ttmppat +=Opat;\n\t\t}\n\t}\n\ttmppat +=Opat;\n\tmax = std::max(max, tmppat);\n\t//O\n\ttmppat -=Opat;\n\tfor(int i = 1;i <= N;++i){\n\t\t//??´???i????????\\??????\n\t\tmax = std::max(max,tmppat+ int64_t(J[i-1])*(I[N-1]-I[i-1]));\n\t\t#ifdef DEBUG\n\t\tstd::cout << J[i-1]<<' '<< (I[N-1]-I[i-1])<< std::endl;\n\t\t#endif\n\t}\n\t//I\n\ttmppat = 0;\n\tOpat = 0;\n\tfor(int i = 1;i < N;++i){\n\t\tif(S[i]=='O'){\n\t\t\tOpat += J[i-1];\n\t\t}\n\t\tif(S[i]=='I'){\n\t\t\ttmppat +=Opat;\n\t\t}\n\t}\n\ttmppat +=Opat;\n\tmax = std::max(max, tmppat);\n\t\n\tstd::cout << max << std::endl;\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint N;\nstring S;\nstring ns;\nconst string JOI = \"JOI#\";\n\nll IC[100005];\nll JC[100005];\n\nll dp[100005][4];\nll solve(const string &s){\n  memset(dp,0,sizeof(dp));\n  dp[0][0] = 1;\n  for(int i=0;i<s.size();i++){\n    for(int j=0;j<4;j++){\n      if( s[i] == JOI[j] ) dp[i+1][j+1] += dp[i][j];\n      dp[i+1][j] += dp[i][j];\n    }\n  }\n  return dp[s.size()][3];\n}\n\nint main(){\n\n  cin >> N;\n  cin >> S;\n\n  ll res = solve( S );\n\n  S=\"a\"+S;\n\n  for(int i=1;i<=N;i++){\n    if( S[i] == 'J' ) JC[i] = JC[i-1] + 1;\n    else JC[i] = JC[i-1];\n  }\n\n  for(int i=N;i>=1;i--){\n    if( S[i] == 'I' ) IC[i] = IC[i+1] + 1;\n    else IC[i] = IC[i+1];\n  }\n  \n  ll lmax = 0;\n  for(int i=1;i<=N;i++){\n    lmax = max( lmax, JC[i]*IC[i] );\n  }\n  res = res + lmax;\n  \n  S = S.substr(1);\n  ns = \"J\" + S;\n  res = max( res, solve( ns ) );\n  ns = S + \"I\";\n  res = max( res, solve( ns ) );\n\n  cout << res << endl;\n\n\n  \n  \n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <future>\n\nconstexpr int MAX_N = (int)1e5;\n\nint n;\nint data[MAX_N];\nint max;\nint sum[MAX_N];\n\nvoid solve0() {\n\tint cnt = 0;\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n}\n\nvoid solve1() {\n\tint cnt = 0;\n\tfor (int i = n - 1; i >= 1; --i) {\n\t\tif (data[i] == 1) {\n\t\t\tfor (int j = i - 1; j >= 0; --j) {\n\t\t\t\tif (data[j] == 0)\n\t\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\tmax = std::max(max, cnt);\n}\n\nvoid solve2() {\n\tint cnt = 0;\n\tfor (int i = 0; i < n - 1; ++i) {\n\t\tif (data[i] == 0) {\n\t\t\tfor (int j = i + 1; j < n; ++j) {\n\t\t\t\tif (data[j] == 2) {\n\t\t\t\t\t++sum[i];\n\t\t\t\t\t--sum[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 1; i < n; ++i)\n\t\tsum[i] += sum[i - 1];\n\tcnt = 0;\n\tfor (int i = 0; i < n; ++i)\n\t\tcnt = std::max(cnt, sum[i]);\n\tmax = std::max(max, cnt);\n}\n\nint main() {\n\tstd::cin >> n;\n\tchar in;\n\tfor (int i = 0; i < n; ++i) {\n\t\tstd::cin >> in;\n\t\tif (in == 'O')\n\t\t\tdata[i] = 1;\n\t\telse if (in == 'I')\n\t\t\tdata[i] = 2;\n\t}\n\n\tauto th1 = std::thread(solve0);\n\tauto th2 = std::thread(solve1);\n\tauto th3 = std::thread(solve2);\n\tth1.join();\n\tth2.join();\n\tth3.join();\n\n\tfor (int i = 0; i < n; ++i) {\n\t\tif (data[i] == 1)\n\t\t\tmax += sum[i];\n\t}\n\tstd::cout << max << std::endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n\nint main()\n{\n    int n;\n    cin >>n;\n    string s;\n    cin >>s;\n\n    vector<int> J(n,0), I(n,0);\n\n    if(s[0]=='J') J[0]=1;\n    for(int i=1; i<n; ++i) J[i]=J[i-1]+(s[i]=='J');\n\n    if(s[n-1]=='I') I[n-1]=1;\n    for(int i=n-2; i>=0; --i) I[i]=I[i+1]+(s[i]=='I');\n\n    ll def=0;\n    for(int i=1; i<n-1; ++i)\n    {\n        if(s[i]=='O') def+=(ll)J[i-1]*I[i+1];\n    }\n\n    ll add=0;\n    ll t;\n    string ss;\n\n    // ?????????J\n    t=0;\n    ss = \"J\"+s;\n    for(int i=1; i<n; ++i)\n    {\n        if(ss[i]=='O') t+=I[i];\n    }\n    add=max(add,t);\n\n    // ?????????I\n    t=0;\n    ss = s+\"I\";\n    for(int i=1; i<n; ++i)\n    {\n        if(ss[i]=='O') t+=J[i-1];\n    }\n    add=max(add,t);\n\n    // O??????????????¨??¢?´¢\n    rep(i,n-1) add=max(add,(ll)J[i]*I[i+1]);\n\n    cout << def+add << '\\n';\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n \n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n#define SORT(c) sort((c).begin(),(c).end())\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\n \ntypedef long long ll;\ntypedef pair<int, int> ii;\n\nstring joi = \"JOI\";\n\nint main() {\n\tint n;\n\tstring s;\n\tcin >> n >> s;\n\t\n\tvector<vector<ll>> v1(3, vector<ll>(n+2, 0));//0 - n\n\tvector<vector<ll>> v2(3, vector<ll>(n+2, 0));//1 - n+1\n\n\tREP(i, 1, n+1){\n\t\tv1[0][i] = v1[0][i-1] + (s[i-1] == 'J' ? 1 : 0);\n\t\tv1[1][i] = v1[1][i-1] + (s[i-1] == 'O' ? v1[0][i-1] : 0);\n\t\tv1[2][i] = v1[2][i-1] + (s[i-1] == 'I' ? v1[1][i-1] : 0);\n\t}\n\t\n\tfor(int i = n; i >= 1; i--){\n\t\tv2[0][i] = v2[0][i+1] + (s[i-1] == 'J' ? v2[1][i+1] : 0);\n\t\tv2[1][i] = v2[1][i+1] + (s[i-1] == 'O' ? v2[2][i+1] : 0);\n\t\tv2[2][i] = v2[2][i+1] + (s[i-1] == 'I' ? 1 : 0);\n\t}\n\t\n\tll ans = v1[2][n];\n\tll maxi = 0;\n\trep(i, n+1){\n\t\tmaxi = max(maxi, v2[1][i+1]);//J\n\t\tmaxi = max(maxi, v1[0][i]*v2[2][i+1]);//'O'\n\t\tmaxi = max(maxi, v1[1][i+1]);//'I'\n\t}\n\tans += maxi;\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cctype>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define LINF (ll)INF*INF\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define loop(i,a,n) for(int i=a;i<(n);i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\n#define int ll //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\ntypedef vector<pii> vp;\n\nint gcd(int a, int b){\n    if(b==0) return a;\n    return gcd(b,a%b);\n}\nint lcm(int a, int b){\n    return a/gcd(a,b)*b;\n}\n\n\nsigned main(void) {\n    int n;\n    cin >> n;\n    string s;\n    cin >> s;\n    string t = \"JOI\";\n    vector<vi> dp(n+1,vi(4,0));\n    dp[0][0] = 1;\n    rep(i,n)rep(j,4){\n        dp[i+1][j] += dp[i][j];\n        if(j < 3 && s[i] == t[j])dp[i+1][j+1] += dp[i][j];\n    }\n    int ans = dp[n][3];\n    reverse(all(s));\n    reverse(all(t));\n    vector<vi> dp1(n+1,vi(4,0));\n    dp1[0][0] = 1;\n    rep(i,n)rep(j,4){\n        dp1[i+1][j] += dp1[i][j];\n        if(j < 3 && s[i] == t[j])dp1[i+1][j+1] += dp1[i][j];\n    }\n    int ma = 0;\n    ma = dp1[n][2];//先頭にJ\n    rep(i,n){//s[i]とs[i+1]のあいだに入れる\n        int l = n-i;\n        ma = max(ma,dp1[l][2]);//J\n        ma = max(ma,dp[i][1]*dp1[l][1]);//O\n        ma = max(ma,dp[i+1][2]);//I\n    }\n    cout << ans + ma << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\n#include <deque>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int N; cin >> N;\n  string s; cin >> s;\n  ll ans = 0; // ??????\n  ll pm = 0; // ?????????????????????????????????\n  // J???I?????????????????´???\n  ll sumI[N+1], sumJ[N+1];\n  sumJ[0] = sumI[N] = 0;\n  ll J = 0;\n  FOR(i,0,N) {\n    if(s[i] == 'J') J++;\n    sumJ[i+1] = sumJ[i] + (s[i] == 'O' ? J : 0);\n  }\n  ll I = 0;\n  for(int i = N - 1; i >= 0; i--) {\n    if(s[i] == 'I') I++;\n    sumI[i] = sumI[i+1] + (s[i] == 'O' ? I : 0);\n    //cout << sumI[i] << endl;\n  }\n  ll JJ = 0, II = I;\n  FOR(i,0,N) {\n    if(s[i] == 'O') {\n      // J < i\n      pm = max(pm, sumI[i]);\n      // i < I\n      pm = max(pm, sumJ[i+1]);\n    }\n  }\n  // O?????????????????´???\n  JJ = 0;\n  II = I;\n  pm = max(pm, JJ * II);\n  FOR(i,0,N) {\n    if(s[i] == 'O') ans += JJ * II;\n    JJ += s[i] == 'J';\n    II -= s[i] == 'I';\n    pm = max(pm, JJ * II);\n  }\n\n  ans += pm;\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\nusing namespace std;\nint n;\nll J[100010],I[100010];\nll JO[100010],OI[100010];\nint main(){\n  cin>>n;string s;cin>>s;\n  s='x'+s;\n  ll cnt=0;\n  J[0]=0,JO[0]=0;\n  for(int i=1;i<=n;i++){\n    J[i]=J[i-1]+(s[i]=='J');\n    if(s[i]=='O')cnt+=J[i-1];\n    JO[i]=cnt;\n  }\n  cnt=0;\n  I[n+1]=0,OI[n+1]=0;\n  for(int i=n;i>=1;i--){\n    I[i]=I[i+1]+(s[i]=='I');\n    if(s[i]=='O')cnt+=I[i+1];\n    OI[i]=cnt;\n  }\n  cnt=0;\n  for(int i=0;i<=n;i++){\n    cnt=max(cnt,OI[i+1]);\n    cnt=max(cnt,J[i]*I[i+1]);\n    cnt=max(cnt,JO[i]);\n  }\n  for(int i=1;i<=n;i++){\n    if(s[i]=='O')cnt+=J[i-1]*I[i+1];\n  }\n  cout<<cnt<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      :\n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <string>\nusing namespace std;\nchar s[100003];\nint main() {\n\tint N;\n\tcin>>N;\n\tfor(int i=0;i<N;i++)cin>>s[i];\n\n\n\tint Jsum=0,Osum=0,Isum=0;\n\tint R=0;\n\tfor(int i=0;i<N;i++){\n\t\tif(s[i]=='J')Jsum+=1;\n\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\telse if(s[i]=='I')Isum+=Osum;\n\n\t}\n\n\tfor(int j=0;j<N;j++){\n\t\t\tJsum=0;\n\t\t\tOsum=0;\n\t\t\tIsum=0;\n\t\t\tfor(int i=0;i<N;i++){\n\t\t\t\tif(i==j)Jsum+=1;\n\t\t\t\tif(s[i]=='J')Jsum+=1;\n\t\t\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\t\t\telse if(s[i]=='I')Isum+=Osum;\n\n\t\t\t}\n\t\tR=max(R,Isum);\n\t\t}\n\tfor(int j=0;j<N;j++){\n\t\t\tJsum=0;\n\t\t\tOsum=0;\n\t\t\tIsum=0;\n\t\t\tfor(int i=0;i<N;i++){\n\t\t\t\tif(s[i]=='J')Jsum+=1;\n\t\t\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\t\t\telse if(s[i]=='I')Isum+=Osum;\n\t\t\t\tif(i==j)Osum+=Jsum;\n\t\t\t}\n\t\tR=max(R,Isum);\n\t\t}\n\tfor(int j=0;j<N;j++){\n\t\t\tJsum=0;\n\t\t\tOsum=0;\n\t\t\tIsum=0;\n\t\t\tfor(int i=0;i<N;i++){\n\t\t\t\tif(s[i]=='J')Jsum+=1;\n\t\t\t\telse if(s[i]=='O')Osum+=Jsum;\n\t\t\t\telse if(s[i]=='I')Isum+=Osum;\n\t\t\t\tif(i==j)Isum+=Osum;\n\t\t\t}\n\t\tR=max(R,Isum);\n\t\t}\n\tcout<<R<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\nint main() {\n\tint n; cin >> n;\n\tstring st; cin >> st;\n\tlong long int base = 0;\n\tlong long int fstj = 0;\n\tlong long int lsti = 0;\n\tlong long int mido = 0;\n\t{\n\t\tlong long int jnum = 0;\n\t\tlong long int inum = count(st.begin(), st.end(), 'I');\n\t\tfor (int i = 0; i < st.size(); ++i) {\n\n\t\t\tmido = max(jnum*inum, mido);\n\t\t\tif (st[i] == 'I') {\n\t\t\t\tinum--;\n\t\t\t}\n\t\t\telse if (st[i] == 'O') {\n\t\t\t\tbase += jnum*inum;\n\t\t\t\tfstj += inum;\n\t\t\t\tlsti += jnum;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tjnum++;\n\t\t\t}\n\t\t\tmido = max(jnum*inum, mido);\n\t\t}\n\t}\n\tcout << base + max(max(fstj, lsti), mido) << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <functional>\n\nusing namespace std;\n\n#define rep(i,a,n) for(int i = a; n > i; i++)\n#define REP(i,n) rep(i,0,n)\n#define MP(a,b) make_pair(a,b)\n#define ALL(a) (a).begin(),(a).end()\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\nsigned main(){\n\tint n;\n\tscanf(\"%d%*c\", &n);\n\tint isum = 0;\n\tvector<char> str(n);\n\tREP(i,n){\n\t\tscanf(\"%c\", &str[i]);\nif(str[i] == 'I')\n\tisum++;\n\t}\n\tll Oad = 0,cans[3] = {};\n\tint cj = 0,ci = isum;\n\tREP(i,n){\n\t\tif(str[i] == 'O'){\n\t\t\tcans[0] += (ll)(cj+1)*ci;\n\t\t\tcans[1] += (ll)cj*ci;\n\t\t\tcans[2] += (ll)cj*(ci+1);\n\t\t}\n\t\telse if(str[i] == 'I'){\n\t\t\tci--;\n\t\t}\n\t\telse{\n\t\t\tcj++;\n\t\t}\n\t\tOad = max(Oad, (ll)cj*ci);\n\n\t}\n\n\tcans[1] += Oad;\n\n\tprintf(\"%lld\\n\", max({cans[0], cans[1], cans[2]}));\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint N;\nchar A[100003];\n\nlong long f(int s, int e) {\n  long long a = 0, b = 0, c = 0;\n  for (int i=s; i<=e; i++) {\n    if      (A[i] == 'J') a += 1;\n    else if (A[i] == 'O') b += a;\n    else                  c += b;\n  }\n  return c;\n}\n\nint main() {\n  scanf(\"%d\", &N);\n  scanf(\"%s\", A+1);\n  A[0] = 'J';\n  A[N+1] = 'I';\n\n  long long s = f(1, N);\n  long long d = 0, na = 0, nb = 0;\n  for (int i=1; i<=N; i++) {\n    if (A[i] == 'I') nb++;\n  }\n  for (int i=1; i<=N; i++) {\n    if      (A[i] == 'J') na++;\n    else if (A[i] == 'I') nb--;\n    else if (A[i] == 'O') d = max(d, na*nb);\n  }\n  printf(\"%lld\\n\", max({s+d, f(1, N+1), f(0, N)}));\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n#define REP(i,n) for(int i=0;i<n;i++)\n#define RREP(i,n) for(int i=n-1;0<=i;i--)\nint n;\nstring s;\nint _jj[114514];\nint _ii[114514];\nint _jo[114514];\nint _oi[114514];\n\nsigned main(){\n  cin>>n>>s;\n  int *jj=&_jj[1];\n  int *ii=&_ii[1];\n  int *jo=&_jo[1];\n  int *oi=&_oi[1];\n  REP(i,n){\n    jj[i]=jj[i-1];\n    if(s[i]=='J')jj[i]++;\n  }\n  RREP(i,n){\n    ii[i]=ii[i+1];\n    if(s[i]=='I')ii[i]++;\n  }\n  int org=0;\n  REP(i,n){\n    if(s[i]=='O')org+=jj[i-1]*ii[i+1];\n  }\n  REP(i,n){\n    jo[i]=jo[i-1];\n    if(s[i]=='O')jo[i]+=jj[i-1];\n  }\n  RREP(i,n){\n    oi[i]=oi[i+1];\n    if(s[i]=='O')oi[i]+=ii[i+1];\n  }\n  int mx=0;\n  REP(_i,n+1){\n    int i=_i-1;\n    mx=max(mx,oi[i+1]);\n    mx=max(mx,jj[i]*ii[i+1]);\n    mx=max(mx,jo[i]);\n  }\n  cout<<(org+mx)<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define ll long long\nclass shop {\npublic:\n\tchar stamp;\n\tll num[3];\n\tll dummy;\n\tshop():dummy(-1) {\n\n\t}\n};\n\nint main() {\n\tint time;\n\tcin >> time;\n\tshop *streat;\n\tstreat = new shop[time + 1];\n\tfor (int i = 0; i < 3; ++i) {\n\t\tstreat[0].num[i] = 0;\n\t}\n\tchar dummy;\n\tfor (int i = 1; i <= time; ++i) {\n\t\tcin >> dummy;\n\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\tstreat[i].num[j] = streat[i-1].num[j];\n\t\t}\n\t\tif (dummy == 'J') {\n\t\t\t++streat[i].num[0];\n\t\t}\n\t\telse if (dummy == 'O') {\n\t\t\t++streat[i].num[1];\n\t\t}\n\t\telse {\n\t\t\t++streat[i].num[2];\n\t\t}\n\t\tstreat[i].stamp = dummy;\n\t}\n\tll origin = 0;\n\tll date;\n\tfor (int i = time - 2; i >= 1; --i) {\n\t\tif (streat[i].stamp == 'J') {\n\t\t\tdate = 0;\n\t\t\tfor (int j = i + 1; j <= time; ++j) {\n\t\t\t\tif (streat[j].dummy != -1) {\n\t\t\t\t\tdate += streat[j].dummy;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (streat[j].stamp == 'O') {\n\t\t\t\t\tdate += streat[time].num[2] - streat[j].num[2];\n\t\t\t\t}\n\t\t\t}\n\t\t\tstreat[i].dummy = date;\n\t\t\torigin += date;\n\t\t}\n\t}\n\tdate = 0;\n\tfor (int j = 1; j <= time; ++j) {\n\t\tif (streat[j].stamp == 'O') {\n\t\t\tdate += streat[time].num[2] - streat[j].num[2];\n\t\t}\n\t}\n\tll answer = date;\n\tdate = 0;\n\tfor (int j = time; j >= 1; --j) {\n\t\tif (streat[j].stamp == 'O') {\n\t\t\tdate += streat[j].num[0];\n\t\t}\n\t}\n\tanswer = max(answer, date);\n\tfor (int i = 2; i < time; ++i) {\n\t\tif (streat[i].stamp == 'O') {\n\t\t\tanswer = max(answer, streat[i].num[0] * (streat[time].num[2] - streat[i].num[2]));\n\t\t}\n\t}\n\tcout << origin + answer<< endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\ntypedef long long ll;\n\n#define N 100010\n#define LLINF 2000000000000000000LL\n\nint sum[N][3];\nll dp1[N][5],dp2[N][5];\n\nint main(){\n  int n,st[N];\n  char s[N];\n\n  scanf(\"%d%s\",&n,s);\n\n  for(int i=1;i<=n;i++){\n    if(s[i-1]=='J') st[i]=1;\n    if(s[i-1]=='O') st[i]=2;\n    if(s[i-1]=='I') st[i]=3;\n\n    sum[i][st[i]]++;\n  }\n\n  for(int i=1;i<=n;i++){\n    for(int j=0;j<3;j++){\n      sum[i+1][j] += sum[i][j];\n    }\n  }\n\n  ll ans = 0;\n\n  dp1[0][0] = 1;\n\n  for(int i=1;i<=n;i++){\n    dp1[i][st[i]] += dp1[i-1][st[i]-1];\n    for(int j=0;j<=4;j++){\n      dp1[i][j] += dp1[i-1][j];\n    }\n  }\n\n  dp2[n+1][4] = 1;\n\n  for(int i=n;i>=1;i--){\n    dp2[i][st[i]] += dp2[i+1][st[i]+1];\n    for(int j=0;j<=4;j++){\n      dp2[i][j] += dp2[i+1][j];\n    }\n  }\n\n  for(int i=0;i<=n;i++){\n    for(int j=1;j<=4;j++){\n      ans = max(ans,dp1[i][j-1] * dp2[i+1][j+1]);\n    }\n  }\n\n  printf(\"%lld\\n\",ans + dp1[n][3]);\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\ntypedef long long ll;\n\n#define N 100010\n#define LLINF 2000000000000000000LL\n\nint sum[N][3];\nll dp1[N][5],dp2[N][5];\n\nint main(){\n  int n,st[N];\n  char s[N];\n\n  scanf(\"%d%s\",&n,s);\n\n  for(int i=1;i<=n;i++){\n    if(s[i-1]=='J') st[i]=1;\n    if(s[i-1]=='O') st[i]=2;\n    if(s[i-1]=='I') st[i]=3;\n\n    sum[i][st[i]]++;\n  }\n\n  for(int i=1;i<=n;i++){\n    for(int j=0;j<3;j++){\n      sum[i+1][j] += sum[i][j];\n    }\n  }\n\n  ll ans = 0;\n\n  dp1[0][0] = 1;\n\n  for(int i=1;i<=n;i++){\n    dp1[i][st[i]] += dp1[i-1][st[i]-1];\n    for(int j=0;j<=4;j++){\n      dp1[i][j] += dp1[i-1][j];\n    }\n  }\n\n  dp2[n+1][4] = 1;\n\n  for(int i=n;i>=1;i--){\n    dp2[i][st[i]] += dp2[i+1][st[i]+1];\n    for(int j=0;j<=4;j++){\n      dp2[i][j] += dp2[i+1][j];\n    }\n  }\n\n  for(int i=0;i<=n;i++){\n    for(int j=1;j<=4;j++){\n      ans = max(ans,dp1[i][j-1] * dp2[i+1][j+1]);\n    }\n  }\n\n  printf(\"%lld\\n\",ans + dp1[n][3]);\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\n#include <deque>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int N; cin >> N;\n  string s; cin >> s;\n  ll ans = 0; // ??????\n  ll pm = 0; // ?????????????????????????????????\n  // J???I?????????????????´???\n  ll sumI[N+1], sumJ[N+1];\n  sumJ[0] = sumI[N] = 0;\n  ll J = 0;\n  FOR(i,0,N) {\n    if(s[i] == 'J') J++;\n    sumJ[i+1] = sumJ[i] + (s[i] == 'O' ? J : 0);\n  }\n  ll I = 0;\n  for(int i = N - 1; i >= 0; i--) {\n    if(s[i] == 'I') I++;\n    sumI[i] = sumI[i+1] + (s[i] == 'O' ? I : 0);\n    //cout << sumI[i] << endl;\n  }\n  ll JJ = 0, II = I;\n  FOR(i,0,N) {\n    if(s[i] == 'O') {\n      // J < i\n      pm = max(pm, sumI[i+1]);\n      // i < I\n      pm = max(pm, sumJ[i+1]);\n    }\n  }\n  // O?????????????????´???\n  JJ = 0;\n  II = I;\n  pm = max(pm, JJ * II);\n  FOR(i,0,N) {\n    if(s[i] == 'O') ans += JJ * II;\n    JJ += s[i] == 'J';\n    II -= s[i] == 'I';\n    pm = max(pm, JJ * II);\n  }\n\n  ans += pm;\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\ntypedef long long int int64;\n\nint N,C[100000][3];\nstring S;\n\nint64 max(int64 a,int64 b)\n{\n\tif(a > b)\n\t\treturn a;\n\telse\n\t\treturn b;\n}\n\nint main(void)\n{\n\tcin >> N;\n\tcin >> S;\n\tint64 ci = 0;\n\tint64 cj = 0;\n\tfor(int i = 0;i < N;i++)\n\t{\n\t\tif(S[i] == 'I')\n\t\t\tci++;\n\t\telse if(S[i] == 'J')\n\t\t\tcj++;\n\t}\n\tint64 ja = 0;\n\tint64 oa = 0;\n\tint64 ia = 0;\n\tfor(int i = 0;i < N;i++)\n\t{\n\t\tif(S[i] == 'O')\n\t\t{\n\t\t\tja += ci;\n\t\t}\n\t\telse if(S[i] == 'I')\n\t\t\tci--;\n\t\tC[i][2] = ci;\n\t}\n\tfor(int i = N - 1;i >= 0;i--)\n\t{\n\t\tif(S[i] == 'O')\n\t\t{\n\t\t\tia += cj;\n\t\t}\n\t\telse if(S[i] == 'J')\n\t\t\tcj--;\n\t\tC[i][0] = cj;\n\t}\n\tfor(int i = 0;i < N - 1;i++)\n\t{\n\t\toa = max(oa,C[i+1][0] * C[i][2]);\n\t}\n\tint64 initial = 0;\n\tint64 sumo = 0;\n\tfor(int i = 0;i < N;i++)\t\n\t{\n\t\tif(S[i] == 'O')\n\t\t\tsumo += C[i][2];\n\t}\n\tfor(int i = 0;i < N;i++)\n\t{\n\t\tif(S[i] == 'J')\n\t\t{\n\t\t\tinitial += sumo;\n\t\t}\n\t\telse if(S[i] == 'O')\n\t\t{\n\t\t\tsumo -= C[i][2];\n\t\t}\n\t}\n\tint64 res = initial + max(max(ja,ia),oa);\n\tcout << res << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\n#define MAX(a,b) ((a)>(b)?(a):(b))\n#define MIN(a,b) ((a)<(b)?(a):(b))\n\nint main()\n{\n    int N;\n    string instr;\n    cin >> N >> instr;\n\n    vector<long long> J(N);\n    vector<long long> O(N);\n    vector<long long> I(N);\n\n    J[0]=O[0]=I[0]=0;\n    switch(instr[0]) {\n    case 'J' :\n        ++J[0]; break;\n    case 'O' :\n        ++O[0]; break;\n    case 'I' :\n        ++I[0]; break;\n    }\n\n    for(int i=1; i<N; ++i) {\n        J[i]=J[i-1]; O[i]=O[i-1]; I[i]=I[i-1];\n        switch(instr[i]) {\n        case 'J' :\n            ++J[i]; break;\n        case 'O' :\n            ++O[i]; break;\n        case 'I' :\n            ++I[i]; break;\n        }\n    }\n\n    long long cnt1=0,cnt2=0,cnt3=0;\n    long long mx=-1;\n\n    for(int i=0; i<N; ++i) {\n        if(instr[i]!='O') continue;\n        cnt1+=(J[i]+1)*(I[N-1]-I[i]);\n        cnt2+=J[i]*(I[N-1]-I[i]);\n        cnt3+=J[i]*(I[N-1]-I[i]+1);\n        mx=MAX(mx,J[i]*(I[N-1]-I[i]));\n    }\n\n    cnt2+=mx;\n\n    long long ans=cnt1;\n    ans=MAX(ans,cnt2);\n    ans=MAX(ans,cnt3);\n\n    cout << ans << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint N;\nchar A[100003];\n\nlong long f(int s, int e) {\n  long long a = 0, b = 0, c = 0;\n  for (int i=s; i<=e; i++) {\n    if      (A[i] == 'J') a += 1;\n    else if (A[i] == 'O') b += a;\n    else                  c += b;\n  }\n  return c;\n}\n\nint main() {\n  scanf(\"%d\", &N);\n  scanf(\"%s\", A+1);\n  A[0] = 'J';\n  A[N+1] = 'I';\n\n  long long s = f(1, N);\n  long long d = 0, na = 0, nb = 0;\n  for (int i=1; i<=N; i++) {\n    if (A[i] == 'I') nb++;\n  }\n  for (int i=1; i<=N; i++) {\n    if      (A[i] == 'J') na++;\n    else if (A[i] == 'I') nb--;\n    d = max(d, na*nb);\n  }\n  printf(\"%lld\\n\", max({s+d, f(1, N+1), f(0, N)}));\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n;\nint ch(string s){\n  int dp[4][s.size()+1],ans=0;\n  memset(dp,0,sizeof(dp));\n  dp[0][0]=1;\n  s=\"+\"+s;\n  string t=\"+JOI\";\n  for(int i=1;i<4;i++){\n    for(int j=1,x=0;j<s.size();j++){\n      x+=dp[i-1][j-1];\n      if(s[j]==t[i]){\n        dp[i][j]=x;\n        if(i==3)ans+=dp[i][j];\n      }\n    }\n  }\n  return ans;\n}\nint ch2(string s){\n  int ans=0;\n  s=\"@\"+s+\"@\";\n  int dp1[s.size()]={};\n  int dp2[s.size()]={};\n  for(int i=1;i<s.size();i++)dp1[i]=dp1[i-1]+(s[i-1]=='J');\n  for(int i=s.size()-2;i>=0;i--)dp2[i]=dp2[i+1]+(s[i+1]=='I');\n  for(int i=0;i<s.size();i++)ans=max(ans,dp1[i]*dp2[i]);\n  return ans;\n}\nmain(){\n  string s;\n  cin>>n>>s;\n  int p1=ch(s);\n  int p2=ch(\"J\"+s);\n  int p3=ch(s+\"I\");\n  int p4=p1+ch2(s);\n  cout<<max(p4,max(p3,p2))<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint main(){\n\tstring s;\n\tll n,dsum=0,disum=0,djsum=0,ic=0,jc=0,iic=-1,icount[100001],jcount[100001];\n\tcin>>n>>s;\n\tfor(ll i=n-1;i!=-1;i--){\n\t\tswitch(s[i]){\n\t\t\tcase 'J':dsum+=disum;break;\n\t\t\tcase 'O':disum+=ic;break;\n\t\t\tcase 'I':ic++;\n\t\t}\n\t\ticount[i]=ic;\n\t}\n\tfor(ll i=0;i<n;i++){\n\t\tif(s[i]=='O')djsum+=jc;\n\t\tif(s[i]=='J')jc++;\n\t\tjcount[i]=jc;\n\t}\n\tfor(ll i=1;i<n;i++)iic=max(iic,icount[i]*jcount[i-1]);\n\tcout<<max(iic,max(disum,djsum))+dsum<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nll N, ruisekiwa[100001][3];\nchar in[100000];\n\nint main() {\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tchar c;\n\t\tcin >> c;\n\t\tif (c == 'J')ruisekiwa[i + 1][0]++;\n\t\tif (c == 'O')ruisekiwa[i + 1][1]++;\n\t\tif (c == 'I')ruisekiwa[i + 1][2]++;\n\t\tfor (int j = 0; j < 3; j++)ruisekiwa[i + 1][j] += ruisekiwa[i][j];\n\t\tin[i] = c;\n\t}\n\n\tll hajime = 0;\n\tfor (int i = 0; i < N - 1; i++) {\n\t\tif (in[i] == 'O') {\n\t\t\thajime += ((ruisekiwa[i + 1][0] - ruisekiwa[0][0]) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2]));\n\t\t}\n\t}\n\tll ans = hajime, tmp = 0;\n\t//J????????? ????????????????????????????????????\n\tfor (int i = 0; i < N; i++) {\n\t\tif (in[i] == 'O') {\n\t\t\ttmp += ((ruisekiwa[i + 1][0] - ruisekiwa[0][0] + 1) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2]));\n\t\t}\n\t}\n\tans = max(ans, tmp), tmp = 0;\n\n\t//O????????? ??¨????????????\n\n\tfor (int i = 0; i < N - 1; i++) {\n\t\ttmp = max(tmp, \n\t\t\t(ruisekiwa[i + 1][0] - ruisekiwa[0][0]) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2]));\n\t}\n\tans = max(ans, hajime + tmp), tmp = 0;\n\n\t//I????????????????????????????????????????????????\n\tfor (int i = 0; i < N; i++) {\n\t\tif (in[i] == 'O') {\n\t\t\ttmp += ((ruisekiwa[i + 1][0] - ruisekiwa[0][0]) * (ruisekiwa[N][2] - ruisekiwa[i + 1][2] + 1));\n\t\t}\n\t}\n\tans = max(ans, tmp), tmp = 0;\n\t\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <utility>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <functional>\n\nusing namespace std;\n\n#define int long long\n\n#define fst first\n#define scd second\n#define PB push_back\n#define MP make_pair\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define omajinai ios::sync_with_stdio(false);cin.tie(0)\n#define rep(i,x) for(int i=0;i<(int)(x);++i)\n#define rep1(i,x) for(int i=1;i<=(int)(x);++i)\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vpii;\n\ntemplate<typename T>T& max(T&a,T&b){if(a>=b)return a;return b;}\ntemplate<typename T>T& min(T&a,T&b){if(a<b)return a;return b;}\ntemplate<typename T>bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<typename T>bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<typename T>T get(){T a;cin>>a;return a;}\ntemplate<typename T>T rev(T a){reverse(all(a));return a;}\ntemplate<typename T>vector<T>&sort(vector<T>&a){sort(all(a));return a;}\n\nconst int inf = 1e9;\nconst ll linf = 3e18;\nconst double eps = 1e-9;\n\nchar S[100010];\n\nint imosJ[100010];\nint imosO[100010];\nint imosI[100010];\n\nint rev_imosJ[100010];\nint rev_imosO[100010];\nint rev_imosI[100010];\n\nsigned main()\n{ // #define int long long ?????????????????§scanf???????????¨???????????????????????\\?????????????????????\n    int N; cin >> N;\n\n    rep(i, N) cin >> S[i];\n\n    int ma = 0;\n\n    { // 'J'\n        imosJ[0] += 1;\n\n        rep1(i, N) imosJ[i] += imosJ[i - 1] + (S[i - 1] == 'J');\n        rep1(i, N) imosO[i] += imosO[i - 1] + imosJ[i - 1] * (S[i - 1] == 'O'); // \"JO\" ?????°\n        rep1(i, N) imosI[i] += imosI[i - 1] + imosO[i - 1] * (S[i - 1] == 'I'); // \"JOI\" ?????°\n\n        ma = max(ma, imosI[N]);\n    }\n\n    { // 'I'\n        memset(imosJ, 0, sizeof(imosJ));\n        memset(imosO, 0, sizeof(imosO));\n        memset(imosI, 0, sizeof(imosI));\n\n        imosI[N] += 1;\n\n        for (int i = N - 1; i >= 0; --i) imosI[i] += imosI[i + 1] + (S[i] == 'I');\n        for (int i = N - 1; i >= 0; --i) imosO[i] += imosO[i + 1] + imosI[i + 1] * (S[i] == 'O');\n        for (int i = N - 1; i >= 0; --i) imosJ[i] += imosJ[i + 1] + imosO[i + 1] * (S[i] == 'J');\n\n        ma = max(ma, imosJ[0]);\n    }\n\n    { // 'O'\n        memset(imosJ, 0, sizeof(imosJ));\n        memset(imosO, 0, sizeof(imosO));\n        memset(imosI, 0, sizeof(imosI));\n        \n        rep1(i, N) imosJ[i] += imosJ[i - 1] + (S[i - 1] == 'J');\n        rep1(i, N) imosO[i] += imosO[i - 1] + imosJ[i - 1] * (S[i - 1] == 'O'); // \"JO\" ?????°\n        rep1(i, N) imosI[i] += imosI[i - 1] + imosO[i - 1] * (S[i - 1] == 'I'); // \"JOI\" ?????°\n\n        int sum = imosI[N];\n\n        for (int i = N - 1; i >= 0; --i) rev_imosI[i] += rev_imosI[i + 1] + (S[i] == 'I');\n        for (int i = N - 1; i >= 0; --i) rev_imosO[i] += rev_imosO[i + 1] + rev_imosI[i + 1] * (S[i] == 'O');\n        for (int i = N - 1; i >= 0; --i) rev_imosJ[i] += rev_imosJ[i + 1] + rev_imosO[i + 1] * (S[i] == 'J');\n\n        rep(i, N) {\n            ma = max(ma, sum + imosJ[i + 1] * rev_imosI[i]);\n        }\n    }\n\n    cout << ma << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n;\nchar t[100010];\nlong long int js[100010], is[100010];\nlong long int ans, ma;\n\nint main(){\n\tscanf(\"%d %s\", &n, t);\n\n\tfor(int i=0; i<n; ++i){\n\t\tif(t[i] == 'J') ++js[i+1];\n\t\telse if(t[i] == 'I') ++is[i];\n\t}\n//\tfor(int i=0; i<=n; ++i) printf(\"%lld %lld\\n\", js[i], is[i]);\n\tfor(int i=0; i<n; ++i){\n\t\tjs[i+1] += js[i];\n\t\tis[n-i-1] += is[n-i];\n\t}\n//\tfor(int i=0; i<=n; ++i) printf(\"%lld %lld\\n\", js[i], is[i]);\n\tfor(int i=0; i<=n; ++i)\n\t\tif(i == n || t[i] != 'O'){\n\t\t\tjs[i] = 0;\n\t\t\tis[i] = 0;\n\t\t}\n//\tfor(int i=0; i<=n; ++i) printf(\"%lld %lld\\n\", js[i], is[i]);\n\tfor(int i=0; i<=n; ++i)\n\t\tif(t[i] == 'O')\n\t\t\tma = max(ma, js[i] * is[i]);\n\tfor(int i=0; i<n; ++i)\n\t\tjs[i+1] += js[i];\n\tfor(int i=n; i>0; --i)\n\t\tis[i-1] += is[i];\n\tfor(int i=0; i<=n; ++i)\n\t\tif(t[i] == 'J') ans += is[i];\n//\tprintf(\"%lld\\n\", ans);\n/*\tfor(int i=0; i<=n; ++i)\n\t\tif(t[i] == 'I') ans += js[i];\n\tprintf(\"%lld\\n\", ans);\n*/\n\tma = max(ma, max(is[0], js[n]));\n\tans += ma;\n\tprintf(\"%lld\\n\", ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\n#include <deque>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int N; cin >> N;\n  string s; cin >> s;\n  ll ans = 0; // ??????\n  ll pm = 0; // ?????????????????????????????????\n  // J???I?????????????????´???\n  ll sumI[N+1], sumJ[N+1];\n  sumJ[0] = sumI[N] = 0;\n  ll J = 0;\n  FOR(i,0,N) {\n    if(s[i] == 'J') J++;\n    sumJ[i+1] = sumJ[i] + (s[i] == 'O' ? J : 0);\n  }\n  ll I = 0;\n  for(int i = N - 1; i >= 0; i--) {\n    if(s[i] == 'I') I++;\n    sumI[i] = sumI[i+1] + (s[i] == 'O' ? I : 0);\n    //cout << sumI[i] << endl;\n  }\n  ll JJ = 0, II = I;\n  FOR(i,0,N) {\n    if(s[i] == 'O') {\n      // J < i\n      pm = max(pm, sumI[i]);\n      // i < I\n      pm = max(pm, sumJ[i]);\n    }\n  }\n  // O?????????????????´???\n  JJ = 0;\n  II = I;\n  pm = max(pm, JJ * II);\n  FOR(i,0,N) {\n    if(s[i] == 'O') ans += JJ * II;\n    JJ += s[i] == 'J';\n    II -= s[i] == 'I';\n    pm = max(pm, JJ * II);\n  }\n\n  ans += pm;\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint N;\nstring S;\nstring ns;\nconst string JOI = \"JOI#\";\n\nll IC[100005];\nll JC[100005];\n\nll dp[10005][4];\nll solve(const string &s){\n  memset(dp,0,sizeof(dp));\n  dp[0][0] = 1;\n  for(int i=0;i<s.size();i++){\n    for(int j=0;j<4;j++){\n      if( s[i] == JOI[j] ) dp[i+1][j+1] += dp[i][j];\n      dp[i+1][j] += dp[i][j];\n    }\n  }\n  return dp[s.size()][3];\n}\n\nint main(){\n\n  cin >> N;\n  cin >> S;\n\n  ll res = solve( S );\n\n  S=\"a\"+S;\n\n  for(int i=1;i<=N;i++){\n    if( S[i] == 'J' ) JC[i] = JC[i-1] + 1;\n    else JC[i] = JC[i-1];\n  }\n\n  for(int i=N;i>=1;i--){\n    if( S[i] == 'I' ) IC[i] = IC[i+1] + 1;\n    else IC[i] = IC[i+1];\n  }\n  \n  ll lmax = 0;\n  for(int i=1;i<=N;i++){\n    lmax = max( lmax, JC[i]*IC[i] );\n  }\n  res = res + lmax;\n  \n  S = S.substr(1);\n  ns = \"J\" + S;\n  res = max( res, solve( ns ) );\n  ns = S + \"I\";\n  res = max( res, solve( ns ) );\n\n  cout << res << endl;\n\n\n  \n  \n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)   FOR(i,0,n)\n#define pb emplace_back\ntypedef long long ll;\ntypedef pair<int,int> pint;\n\nll cj[100001],ci[100001];\nint main(){\n    int n;\n    string s;\n    cin>>n>>s;\n    ll sum=0,jo=0,j=0;\n    rep(i,n){\n        cj[i]=j;\n        if(s[i]=='J')++j;\n        else if(s[i]=='O') jo+=j;\n        else sum+=jo;\n    }\n    ll mx=jo;\n    ll ii=0,oi=0;\n    for(int i=n-1;i>=0;--i){\n        ci[i]=ii;\n        if(s[i]=='I') ++ii;\n        else if(s[i]=='O') oi+=ci[i];  \n    }\n    mx=max(oi,mx);\n    FOR(i,1,n-1){\n        mx=max(mx,cj[i]*ci[i-1]);\n    }\n    cout<<sum+mx<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint main() {\n\tint a; string b;\n\tcin >> a >> b;\n\tint J[100000], I[100000], j = 0, i = 0;\n\tfor (int c = 0; c < a; c++) {\n\t\tif (b[c] == 'J')j++;\n\t\tJ[c] = j;\n\t}\n\tfor (int d = a - 1; d != -1; d--) {\n\t\tif (b[d] == 'I')i++;\n\t\tI[d] = i;\n\t}\n\tint sum, MAX, l, r; sum = MAX = l = r = 0;\n\tfor (int e = 0; e < a; e++) {\n\t\tMAX = max(MAX, J[e] * I[e]);\n\t\tif (b[e] == 'O') {\n\t\t\tsum += J[e] * I[e];\n\t\t\tl += J[e];\n\t\t\tr += I[e];\n\t\t}\n\t}\n\tcout << sum + max(MAX, max(l, r)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define MAX 100001\n#define ll long long\n#define dmp make_pair\n#define dpb push_back\n#define P pair<int,int>\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\nconst int inf = 1e9;\nconst ll INF = 1e18;\n#define B 100\n\nchar a[MAX], c[4] = \"JOI\";\nll b[MAX][2], dp[MAX][5];\nint main(){\n\tll n, ans = 0, res = 0;\n\tscanf(\"%lld%s\", &n, a);\n\t\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,5)dp[i][j] += dp[i-1][j];\n\t\tif(a[i-1] == 'J')b[i][0]++;b[i][0] += b[i-1][0];\n\t\t\n\t\tif(a[i-1] == 'J')dp[i][0] += 1;\n\t\tif(a[i-1] == 'O'){\n\t\t\tdp[i][1] += dp[i-1][0];\n\t\t\tdp[i][3] += 1;\n\t\t}\n\t\tif(a[i-1] == 'I'){\n\t\t\tdp[i][2] += dp[i-1][1];\n\t\t\tdp[i][4] += dp[i-1][3];\n\t\t}\n\t}\n\t\n\tfor(int i = n;i >= 1;i--){\n\t\tif(a[i-1] == 'I')b[i][1]++;\n\t\tb[i-1][1] += b[i][1];\n\t}\n\tfor(int i = 1;i <= n;i++){\n\t\tres = max(res, b[i][0]*b[i][1]);\n\t}\n\t\n\tans = max(dp[n][2]+dp[n][4], dp[n][2]+dp[n][1]);\n\tans = max(ans, dp[n][2]+res);\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n\nint main()\n{\n\tios::sync_with_stdio(false), cin.tie(0);\n\tint N;\n\tstring S;\n\tcin >> N >> S;\n\tvector<ll> jc(N), ic(N);\n\tfor (int i = 0; i < N; i++) {\n\t\tjc[i] = S[i] == 'J';\n\t\tic[i] = S[i] == 'I';\n\t}\n\tfor (int i = 1; i < N; i++) {\n\t\tjc[i] += jc[i - 1];\n\t}\n\tfor (int i = N - 2; i >= 0; i--) {\n\t\tic[i] += ic[i + 1];\n\t}\n\tll cnt = 0;\n\tfor (int i = 1; i < N - 1; i++) {\n\t\tif (S[i] == 'O') {\n\t\t\tcnt += jc[i - 1] * ic[i + 1];\n\t\t}\n\t}\n\tll ma = 0, sum = 0;\n\tfor (int i = 0; i + 1 < N; i++) {\n\t\tif (S[i] == 'O') {\n\t\t\tsum += ic[i + 1];\n\t\t}\n\t}\n\tma = max(ma, sum);\n\tfor (int i = 1; i < N; i++) {\n\t\tma = max(ma, jc[i - 1] * ic[i]);\n\t}\n\tsum = 0;\n\tfor (int i = 1; i < N; i++) {\n\t\tif (S[i] == 'O') {\n\t\t\tsum += jc[i - 1];\n\t\t}\n\t}\n\tma = max(ma, sum);\n\tcout << cnt + ma << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define MAX 100001\n#define ll long long\n#define dmp make_pair\n#define dpb push_back\n#define P pair<int,int>\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\nconst int inf = 1e9;\nconst ll INF = 1e18;\n#define B 100\n\nchar a[MAX], c[4] = \"JOI\";\nll b[MAX][2], dp[MAX][5];\nint main(){\n\tll n, ans = 0, res = 0;\n\tscanf(\"%lld%s\", &n, a);\n\t\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,5)dp[i][j] += dp[i-1][j];\n\t\tif(a[i-1] == 'J')b[i][0]++;b[i][0] += b[i-1][0];\n\t\tif(a[i-1] == 'I')b[i][1]++;b[i][1] += b[i-1][1];\n\t\t\n\t\tif(a[i-1] == 'J')dp[i][0] += 1;\n\t\tif(a[i-1] == 'O'){\n\t\t\tdp[i][1] += dp[i-1][0];\n\t\t\tdp[i][3] += 1;\n\t\t}\n\t\tif(a[i-1] == 'I'){\n\t\t\tdp[i][2] += dp[i-1][1];\n\t\t\tdp[i][4] += dp[i-1][3];\n\t\t}\n\t}\n\t\n\tfor(int i = 1;i <= n;i++){\n\t\tres = max(res, b[i][0]*b[i][1]);\n\t}\n\tans = max(dp[n][2]+dp[n][4], dp[n][3]+dp[n][1]);\n\tans = max(ans, res);\n\t/*rep(i,n)printf(\"%c\\n\", a[i]);\n\tfor(int i = 1;i <= n;i++){\n\t\trep(j,3)printf(\"%d \", dp[i][j]);\n\t\tprintf(\"\\n\");\n\t}*/\n\t//printf(\"%lld %lld\\n\", b[n][0], b[n][1]);\n\t//printf(\"%lld\\n\", dp[n][4]);\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define MAX 100002\nusing namespace std;\n\nint main()\n{\n  string s;\n  long long O[MAX]={},CO[MAX]={},I[MAX]={},CI[MAX]={};\n  int n,numI[MAX]={};\n\n  cin>>n;\n  cin>>s;\n\n  long long count=0,count1=1,ans=0,sum=0,sum1=0,tmp=0;\n  for(int i=0;i<n;i++){\n    if(s[i]=='J'){\n      count++;\n      count1++;\n    }\n    if(s[i]=='O'){\n      O[i]=count;\n      CO[i]=count1;\n    }\n  }\n  count = 0;\n  count1 = 0;\n  for(int i=0;i<n;i++){\n    count+=O[i];\n    count1+=CO[i];\n    if(s[i]=='I'){\n      I[i]=count;\n      CI[i]=count1;\n      sum1+=I[i];\n      sum+=CI[i];\n    }\n  }\n  ans=max(sum1+count,sum);\n\n  count=0;\n  for(int i=n-1;i>=0;i--){\n    if(s[i]=='I')count++;\n    if(s[i]=='O')numI[i]=count;\n  }\n  for(int i=0;i<n;i++){\n    if(s[i]=='O'){\n      ans=max(ans,sum1+O[i]*numI[i]);\n    }\n  }\n  cout<<ans<<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <functional>\n\nusing namespace std;\n\n#define rep(i,a,n) for(int i = a; n > i; i++)\n#define REP(i,n) rep(i,0,n)\n#define MP(a,b) make_pair(a,b)\n#define ALL(a) (a).begin(),(a).end()\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n#define int ll\nsigned main(){\n\tint n;\n\tscanf(\"%lld%*c\", &n);\n\tint jsum = 0,osum = 0,isum = 0;\n\tvector<char> str(n);\n\tREP(i,n){\n\t\tscanf(\"%c\", &str[i]);\n\t\tswitch(str[i]){\n\t\t\tcase 'J':\n\t\t\t\tjsum++;\n\t\t\t\tbreak;\n\t\t\tcase 'O':\n\t\t\t\tosum++;\n\t\t\t\tbreak;\n\t\t\tcase 'I':\n\t\t\t\tisum++;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tint cans[3] = {},Oad = 0, cj = 0,ci = isum;\n\tREP(i,n){\n\t\tif(str[i] == 'O'){\n\t\t\tcans[0] += (cj+1)*ci;\n\t\t\tcans[1] += cj*ci;\n\t\t\tOad = max(Oad, cj*ci);\n\t\t\tcans[2] += cj*(ci+1);\n\t\t}\n\t\telse if(str[i] == 'I'){\n\t\t\tci--;\n\t\t}\n\t\telse{\n\t\t\tcj++;\n\t\t}\n\n\t}\n\n\tcans[1] += Oad;\n\n\tprintf(\"%lld\\n\", max({cans[0], cans[1], cans[2]}));\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0626 Collecting Stamps 2\n// 2018.2.15 bal4u\n\n#include <stdio.h>\n#include <stdlib.h>\n\ntypedef long long ll;\n\nchar s[100003], *p;\nint J[100003], I[100003];\n\nint main()\n{\n\tint N, i;\n\tll a, b, c, t, ans;\n\n\tfgets(s, 10, stdin), N = atoi(s);\n\tfgets(s, sizeof(s), stdin);\n\n\tp = s; for (i = 0; i < N; i++) {\n\t\tJ[i+1] = J[i] + (*p == 'J');\n\t\tI[i+1] = I[i] + (*p == 'I');\n\t\tp++;\n\t}\n\n\tans = a = b = c = 0;\n\tfor (i = 1; i < N; i++) {\n\t\tt = (ll)J[i] * (I[N]-I[i]);\n\t\tif (a < t) a = t;\n\t}\n\n\tfor (i = 0; i < N; i++) if (s[i] == 'O') {\n\t\tb += I[N] - I[i+1];\n\t\tc += J[i];\n\t\tans += (ll)(I[N]-I[i+1]) * J[i];\n\t}\n\tif (a < b) a = b;\n\tif (a < c) a = c;\n\tprintf(\"%lld\\n\", ans + a);\n\treturn 0;\n}\n\n\n\n\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nlong long MAX(long long a,long long b){return a<b?b:a;}\nint main(){\n  long long max=0,mp=0,d[4][100010]={};\n  int n,i;\n  char s[100010];\n  scanf(\"%d %s\",&n,s);\n  for(i=0;s[i];i++){\n    d[0][i+1]=d[0][i];\n    d[1][i+1]=d[1][i];\n    if(s[i]=='J')d[0][i+1]+=1;\n    if(s[i]=='O')d[1][i+1]+=d[0][i];\n  }\n  for(i=n;i;i--){\n    d[2][i-1]=d[2][i];\n    d[3][i-1]=d[3][i];\n    if(s[i-1]=='I')d[2][i-1]+=1;\n    if(s[i-1]=='O')d[3][i-1]+=d[2][i];\n  }\n  for(i=0;i<=n;i++){\n    max=MAX(max,MAX(d[0][i]*d[3][i],d[1][i]*d[2][i]));\n    mp=MAX(MAX(mp,d[0][i]*d[2][i]),MAX(d[1][i],d[3][i]));\n  }\n  printf(\"%lld\\n\",max+mp);\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nlong long MAX(long long a,long long b){return a<b?b:a;}\nint main(){\n  long long max=0,mp=0,d[4][100010]={};\n  int n,i;\n  char s[100010];\n  scanf(\"%d %s\",&n,s);\n  for(i=0;s[i];i++){\n    d[0][i+1]=d[0][i];\n    d[1][i+1]=d[1][i];\n    if(s[i]=='J')d[0][i+1]+=1;\n    if(s[i]=='O')d[1][i+1]+=d[0][i];\n    if(s[i]=='I')max+=d[1][i];\n  }\n  for(i=n;i;i--){\n    d[2][i-1]=d[2][i];\n    d[3][i-1]=d[3][i];\n    if(s[i-1]=='I')d[2][i-1]+=1;\n    if(s[i-1]=='O')d[3][i-1]+=d[2][i];\n  }\n  for(i=0;i<=n;i++)mp=MAX(MAX(mp,d[0][i]*d[2][i]),MAX(d[1][i],d[3][i]));\n  printf(\"%lld\\n\",max+mp);\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <inttypes.h>\n\nint N;\nchar map[114514];\n\nuint64_t J[114514], I[114514];\nuint64_t JO[114514], OI[114514];\n\nuint64_t memo[114514][4];\n\nuint64_t search(int idx, int status) {\n\tuint64_t answer = 0;\n\tif (idx > N) return status == 3;\n\tif (memo[idx][status]) return ~memo[idx][status];\n\n\tanswer = search(idx + 1, status);\n\tif ((status == 0 && map[idx] == 'J') || (status == 1 && map[idx] == 'O') ||\n\t(status == 2 && map[idx] == 'I')) {\n\t\tanswer += search(idx + 1, status + 1);\n\t}\n\n\treturn ~(memo[idx][status] = ~answer);\n}\n\nint main(void) {\n\tuint64_t koremade;\n\tuint64_t max = 0;\n\tint i;\n\tif (scanf(\"%d\", &N) != 1) return 1;\n\tif (scanf(\"%114512s\", map + 1) != 1) return 1;\n\tkoremade = search(1, 0);\n\tfor (i = 1; i <= N; i++) {\n\t\tJ[i] = J[i - 1] + (map[i] == 'J');\n\t}\n\tfor (i = N; i >= 1; i--) {\n\t\tI[i] = I[i + 1] + (map[i] == 'I');\n\t}\n\tfor (i = 1; i <= N; i++) {\n\t\tJO[i] = JO[i - 1];\n\t\tif (map[i] == 'O') JO[i] += J[i];\n\t}\n\tfor (i = N; i >= 1; i--) {\n\t\tOI[i] = OI[i + 1];\n\t\tif (map[i] == 'O') OI[i] += I[i];\n\t}\n\t/* mise N no tugi ni dasu -> J ya O wo osetemo imi ga nai */\n\tmax = JO[N];\n\t/* mise i no tugi ni dasu */\n\tfor (i = 0; i < N; i++) {\n\t\tuint64_t candidate;\n\t\t/* J */\n\t\tcandidate = OI[i + 1];\n\t\tif (candidate > max) max = candidate;\n\t\t/* O */\n\t\tcandidate = J[i] * I[i + 1];\n\t\tif (candidate > max) max = candidate;\n\t\t/* I */\n\t\tcandidate = JO[i];\n\t\tif (candidate > max) max = candidate;\n\t}\n\tprintf(\"%\" PRIu64 \"\\n\", max + koremade);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        char[] arr = sc.next().toCharArray();\n        int[] leftJ = new int[n + 2];\n        int[] rightI = new int[n + 2];\n        for (int i = 1; i <= n; i++) {\n            leftJ[i] = leftJ[i - 1];\n            if (arr[i - 1] == 'J') {\n                leftJ[i]++;\n            }\n            rightI[n - i + 1] = rightI[n - i + 2];\n            if (arr[n - i] == 'I') {\n                rightI[n - i + 1]++;\n            }\n        }\n        long sumI = 0;\n        long sumJ = 0;\n        long maxO = 0;\n        long total = 0;\n        for (int i = 1; i <= n; i++) {\n            long tmp;\n            if (arr[i - 1] == 'O') {\n                tmp = leftJ[i - 1] * rightI[i + 1];\n                total += tmp;\n                sumJ += (leftJ[i - 1] + 1) * rightI[i + 1];\n                sumI += leftJ[i - 1] * (rightI[i + 1] + 1);\n            } else {\n                tmp = leftJ[i - 1] * rightI[i];\n            }\n            maxO = Math.max(maxO, tmp);\n        }\n        total += maxO;\n        total = Math.max(total, sumJ);\n        total = Math.max(total, sumI);\n        System.out.println(total);\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\n\nnamespace _0626\n{\n\tclass Program\n\t{\n\t\tstatic void Main(string[] args)\n\t\t{\n\t\t\tint n = int.Parse(Console.ReadLine());\n\t\t\tstring s = Console.ReadLine();\n\t\t\tlong[,] joi = new long[n + 1, 3];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t{\n\t\t\t\tfor (int j = 0; j < 3; j++) joi[i + 1, j] = joi[i, j];\n\t\t\t\tswitch (s[i])\n\t\t\t\t{\n\t\t\t\t\tcase 'J': { joi[i + 1, 0]++; break; }\n\t\t\t\t\tcase 'O': { joi[i + 1, 1]++; break; }\n\t\t\t\t\tcase 'I': { joi[i + 1, 2]++; break; }\n\t\t\t\t}\n\t\t\t}\n\t\t\tlong ret = 0; long max = 0; long jcount = 0; long icount = 0;\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t{\n\t\t\t\tlong x = joi[i + 1, 0] * (joi[n, 2] - joi[i + 1, 2]);\n\t\t\t\tif (s[i] == 'O')\n\t\t\t\t{\n\t\t\t\t\tjcount += joi[i + 1, 0]; icount += joi[n, 2] - joi[i + 1, 2];\n\t\t\t\t\tret += x;\n\t\t\t\t}\n\t\t\t\tmax = Math.Max(max, x);\n\t\t\t}\n\t\t\tConsole.WriteLine(ret + Math.Max(max, Math.Max(jcount, icount)));\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C#",
    "code": "using System.Collections.Generic;\nusing System.Linq;\nusing static System.Math;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        var n = int.Parse(Console.ReadLine().Trim());\n        var s = Console.ReadLine().Trim();\n        var s1 = new int[n, 2];\n        var s2 = new int[n + 1, 2];\n        var s3 = new int[n + 1, 2];\n        s2[0, 0] = 1; s2[0, 1] = 0;\n        var a = new List<int>();\n        var jc = 0; var ic = 0;\n        for (int i = 0; i < n; i++)\n        {\n            if (s[i] == 'J') jc++;\n            else if (s[i] == 'O') a.Add(i);\n            else ic++;\n            s1[i, 0] = jc;\n            s1[i, 1] = ic;\n            s2[i + 1, 0] = jc + 1;\n            s2[i + 1, 1] = ic;\n            s3[i, 0] = jc;\n            s3[i, 1] = ic;\n        }\n        s3[n, 0] = s3[n - 1, 0];\n        s3[n, 1] = s3[n - 1, 1] + 1;\n        var ans1 = getIJ(s2, a, 1);\n        var ans2 = getIJ(s3, a, 0);\n        var ans3 = getO(s1, a);\n        var ans = Max(ans1, Max(ans2, ans3));\n        Console.WriteLine(ans);\n    }\n    static long getO(int[,] s, List<int> a)\n    {\n        var ans1 = getIJ(s, a, 0);\n        var ans = new List<long>();\n        var sL = s.GetLength(0);\n        for (int i = 0; i < sL - 1; i++)\n        {\n            var t = s[i, 0] * (s[sL - 1, 1] - s[i, 1]);\n            ans.Add(t);\n        }\n        return ans.Max() + ans1;\n    }\n    static long getIJ(int[,] s, List<int> a, int d)\n    {\n        var sL = s.GetLength(0);\n        var ans = new List<long>();\n        foreach (var x in a)\n        {\n            var t = s[x + d, 0] * (s[sL - 1, 1] - s[x + d, 1]);\n            ans.Add(t);\n        }\n        return ans.Sum();\n    }\n}\n\n\n\n"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\na = gets.chomp.split(\"\")\n\nopt = 0\n\nk = 0\ninum = a.count(?I)\na.each do |c|\n    if c == ?O\n        k += inum\n    elsif c == ?I\n        inum -= 1\n    end\nend\nopt = k if k > opt\n\nk = 0\njnum = a.count(?J)\na.reverse.each do |c|\n    if c == ?O\n        k += jnum\n    elsif c == ?J\n        jnum -= 1\n    end\nend\nopt = k if k > opt\n\ninum = a.count(?I)\njnum = 0\na.each do |c|\n    if c == ?J\n        jnum += 1\n    elsif c == ?I\n        inum -= 1\n    end\n    k = jnum * inum\n    opt = k if k > opt\nend\n\nh = {:_ => 1, :J => 0, :O => 0, :I => 0}\na.each do |c|\n    new_h = h.dup\n    case c\n    when ?J then new_h[:J] += h[:_]\n    when ?O then new_h[:O] += h[:J]\n    when ?I then new_h[:I] += h[:O]\n    end\n    h = new_h\nend\np opt + h[:I]\n\n"
  },
  {
    "language": "Python",
    "code": "N = int(input())\nS = input()\na0 = 0; a1 = 0; a2 = 0\nP = [0]*N\nfor i, c in enumerate(S):\n    if c == 'J':\n        a0 += 1\n    elif c == 'O':\n        a1 += a0\n    else:\n        a2 += a1\n    P[i] = a0\n\nb0 = 0; b1 = 0; b2 = 0\nQ = [0]*N\nfor i, c in enumerate(reversed(S)):\n    if c == 'I':\n        b0 += 1\n    elif c == 'O':\n        b1 += b0\n    else:\n        b2 += b1\n    Q[-1-i] = b0\n\nres = max(a1, b1)\nfor i in range(N):\n    res = max(res, P[i] * Q[i])\nprint(res + a2)\n\n"
  },
  {
    "language": "Python",
    "code": "n = int(input())\ns = input()\njo_cnt = 0\noi_cnt = 0\nj_cnt = 0\no_cnt = 0\ni_cnt = 0\njoi_cnt = 0\nj_acc = []\no_acc = []\ni_acc = []\nfor c in s:\n  if c == \"J\":\n    j_cnt += 1\n  elif c == \"O\":\n    o_cnt += 1\n    jo_cnt += j_cnt\n  else:\n    i_cnt += 1\n    oi_cnt += o_cnt\n    joi_cnt += jo_cnt\n  j_acc.append(j_cnt)\n  o_acc.append(o_cnt)\n  i_acc.append(i_cnt)\n\nji_cnt = max(j_acc[i] * (i_acc[-1] - i_acc[i]) for i in range(n))\nprint(joi_cnt + max(jo_cnt, oi_cnt, ji_cnt))\n"
  },
  {
    "language": "Python",
    "code": "import heapq\nfrom collections import deque\nfrom enum import Enum\nimport sys\nimport math\nfrom _heapq import heappush, heappop\nimport copy\nfrom test.support import _MemoryWatchdog\n\nBIG_NUM = 2000000000\nHUGE_NUM = 99999999999999999\nMOD = 1000000007\nEPS = 0.000000001\nsys.setrecursionlimit(100000)\n\n\nJ = 0\nO = 1\nI = 2\nJO = 3\nOI = 4\n\nnum_JOI = 0\n\nN = int(input())\ninput_str = input()\n\ndp = [[0]*(5) for _ in range(N+1)]\n\nfor i in range(1,(N+1)):\n    if input_str[i-1] == \"J\":\n        dp[i][J] += 1\n    elif input_str[i-1] == \"O\":\n        dp[i][O] += 1\n        dp[i][JO] += dp[i-1][J]\n    else: #input_str[i-1] == \"I\"\n        dp[i][I] += 1\n        dp[i][OI] += dp[i-1][O]\n        num_JOI += dp[i-1][JO]\n    for k in range(5):\n        dp[i][k] += dp[i-1][k] #累積和にする\n\nmaximum = max(dp[N][JO],dp[N][OI]) #右端にIを足した場合と、左端にJを足した場合の大きい方\n\n#最大の加算をもたらすOを探す\nfor i in range(1,(N+1)):\n    if input_str[i-1] == \"J\":\n        maximum = max(maximum,dp[i][J]*(dp[N][I]-dp[i][I]))\n    elif input_str[i-1] == \"O\":\n        maximum = max(maximum,dp[i-1][J]*(dp[N][I]-dp[i][I]))\n    else:\n        maximum = max(maximum,dp[i-1][J]*(dp[N][I]-dp[i][I]+1))\n\nprint(\"%d\"%(num_JOI+maximum))\n\n"
  },
  {
    "language": "Python",
    "code": "# AOJ 0626 Collecting Stamps 2\n# Python3 2018.7.2 bal4u\n\nimport sys\nfrom sys import stdin\ninput = stdin.readline\n\nn = int(input())\nsi, sj = [0]*(n+1), [0]*(n+1)\ns = input().strip()\nfor i in range(n):\n\tsj[i+1] = sj[i] + (s[i] == 'J')\n\tsi[i+1] = si[i] + (s[i] == 'I')\n\nans = a = b = c = 0\nfor i in range(1, n): a = max(a, sj[i] * (si[n]-si[i]))\nfor i in range(n):\n\tif s[i] == 'O':\n\t\tb += si[n]-si[i+1]\n\t\tc += sj[i]\n\t\tans += (si[n]-si[i+1]) * sj[i]\nprint(ans + max(a, b, c))\n"
  }
]