Image recognition that extracts useful information from the image is one of the important research themes in computer science. It is widely applied in digital cameras, driving assistance systems, crime prevention systems, etc. Due to such research, we have many software and program collections that allow us to perform various processes on image analysis. However, by writing programs ourselves, we can understand how it works and enjoy our time. Here, we will try a rather unique image recognition task. You are given an image represented by an N x N matrix where each pixel has an integer value. You need to extract a rectangular border with a thickness of one pixel such that the sum of the pixel values covered by the border is maximized. You also need to consider cases where either the height or width of the rectangle is one or two pixels as valid borders.