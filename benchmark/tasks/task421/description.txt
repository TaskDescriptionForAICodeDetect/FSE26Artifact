There is a grid of size W x H surrounded by walls. Some cells in the grid are occupied by slimes. The slimes want to unite with each other and become a 'King Slime'. In each move, a slime can move in the east, west, south, or north direction until it enters a cell occupied by another slime or hits the surrounding wall. If two slimes come together, they unite and become a new slime. Your task is to write a program that calculates the minimum number of moves required for all the slimes to unite into a King Slime. Assume that slimes move one by one and never simultaneously.