[
  {
    "language": "Scala",
    "code": "object Main extends App {\n  import scala.io.StdIn._\n\n  val Array(n, m) = readLine.trim.split(' ').map(_.toInt)\n  val count = Array.tabulate(n * 2){_ ⇒ 0}\n  for (_ ← 0 until m){\n    val Array(a, l) = readLine.trim.split(' ').map(_.toInt)\n    count(a) += 1\n    count(a + l) -= 1\n  }\n  var bias = 0\n  for (x ← count){\n    if (bias + x >= 0) bias += x\n  }\n  count(0) += bias\n  for (i ← count.indices.tail){\n    count(i) += count(i - 1)\n  }\n  val length = Array.tabulate(n){_ ⇒ 0}\n  for (i ← length.indices){\n    if (count(i) != 0 || count(i + n) != 0) length(i) = 1\n  }\n  for (i ← 1 to 2 * n){\n    if (length(i % n) != 0) {\n      length(i % n) = length((i - 1) % n) + 1\n    }\n  }\n  val separated = length.indices.filter(i ⇒ length(i) != 0 && length((i + 1) % n) == 0)\n  println(if (separated.nonEmpty) separated.map(length).groupBy(i ⇒ i).mapValues(_.length).toArray.sortBy(_._1)(Ordering.Int.reverse).map{case (len, c) ⇒ s\"$len $c\"}.mkString(\"\\n\") else s\"$n 1\")\n\n  implicit class Scope[T](val value: T) extends AnyVal {\n    @inline def also(@inline func: T ⇒ Unit): T = {\n      func(value)\n      value\n    }\n    @inline def let[A](@inline func: T ⇒ A): A = func(value)\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(int i=(a);i<(b);++i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n \n#define MOD 1000000007\n\nint d[300];\n\nint main(){\n  int n,m;\n  cin>>n>>m;\n  clr(d,0);\n  rep(i,0,m){\n    int a,l;\n    cin>>a>>l;\n    rep(i,0,l){\n      d[(a+i)%n]=1;\n    }\n  }\n  int flag = 1;\n  rep(i,0,n){\n    if(d[i]==0){\n      flag = 0;\n    }\n  }\n  if(flag == 1){\n    cout << n << \" 1\" << endl;\n    return 0;\n  }\n  rep(i,0,n){\n    if(d[i]==0)break;\n    d[i+n]=d[i];\n  }\n  map<int,int> ma;\n  rep(i,1,2*n){\n    rep(j,i,2*n){\n      if(d[i-1]==0&&d[i]==1&&d[j]==1&&d[j+1]==0){\n        flag = 1;\n        rep(k,i,j+1){\n          if(d[k]==0)flag=0;\n        }\n        if(flag == 1){\n          ma[j-i+1]++;\n        }\n      }\n    }\n  }\n  map<int,int>::reverse_iterator itr = ma.rbegin();\n  while(itr!=ma.rend()){\n    cout << (*itr).fi << \" \" << (*itr).se << endl;\n    itr++;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nvector< int > Sum;\nvector< bool > v;\nint rec(const vector< int >& Color, int idx) {\n  if(v[idx]) return(0);\n  v[idx] = true;\n  int cnt = 1;\n  if(Color[(idx + Color.size() - 1) % Color.size()] >= 0) cnt += rec(Color, (idx + Color.size() - 1) % Color.size()); \n  if(Color[(idx + 1) % Color.size()] >= 0) cnt += rec(Color, (idx + 1) % Color.size());\n  return(cnt);\n}\n\nint main() {\n  int N, M;\n  cin >> N >> M;\n  vector< int > a(M), L(M);\n  for(int i = 0; i < M; i++) {\n    cin >> a[i] >> L[i];\n  }\n  vector< int > Color(N, -1);\n  for(int i = 0; i < M; i++) {\n    int begin = a[i], end = (a[i] + L[i] - 1) % N;\n    while(begin != end){\n      Color[begin] = i;\n      begin = (begin + 1) % N;\n    }\n    Color[end] = i;\n  }\n\n  Sum.resize(N + 1, 0);\n  v.resize(N + 1, false);\n  for(int i = 0; i < N; i++) {\n    if(Color[i] >= 0 && !v[i]) Sum[rec(Color, i)]++;\n  }\n\n  for(int i = N; i >= 0; i--) {\n    if(Sum[i] > 0) cout << i << \" \" << Sum[i] << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 2000000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define SORT(x) sort((x).begin(),(x).end())\n#define all(x) (x).begin(),(x).end()\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);(i)++)\n#define repn(i,a,n) for(int (i)=(a);(i)<(int)(n);(i)++)\n#define EQ(a,b) (abs((a)-(b))<eps)\nint N,M;\nint a[60],L[60];\nbool used[110];\nmap<int,int> m;\nvector<int> v;\nint main()\n{\n\tmemset(used,false,sizeof(used));\n\tcin >> N >> M;\n\trep(i,M)cin >> a[i] >> L[i];\n\trep(i,M)\n\t{\n\t\tfor(int j=a[i];j<a[i]+L[i];j++)\n\t\t{\n\t\t\tused[j%N]=true;\n\t\t}\n\t}\n\tint cnt=0;\n\trep(i,N)\n\t{\n\t\tif(used[i])cnt++;\n\t\telse\n\t\t{\n\t\t\tif(cnt)v.pb(cnt);\n\t\t\tcnt = 0;\n\t\t}\n\t}\n\tif(cnt)v.pb(cnt);\n\tif(used[0]&&used[N-1]&&v.size()>1)\n\t{\n\t\tint p = v.back();\n\t\tv[0]+=p;\n\t\tv.pop_back();\n\t}\n\tsort(all(v));\n\trep(i,v.size())m[v[i]]++;\n\tv.erase(unique(all(v)),v.end());\n\tint h = v.size();\n\tfor(int i=h-1;i>=0;i--)cout << v[i] << ' ' << m[v[i]] << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\nusing namespace std;\n\nint main()\n{\n  int n, m; cin >> n >> m;\n  vector<bool> v(n, false);\n\n  for (int i = 0; i < m; i++) {\n    int a, l; cin >> a >> l;\n\n    for (int j = 0; j < l; j++)\n      v[(a+j)%n] = true;\n  }\n\n  int slit = -1;\n  for (int i = 0; i < n; i++) {\n    if (v[i] == false && v[(i+1)%n] == true)\n      slit = (i+1)%n;\n  }\n\n  if (slit == -1) {\n    cout << n << \" \" << 1 << endl;\n    return 0;\n  }\n\n  int prev = -1;\n  map<int, int> spans;\n  for (int t = 0; t < n; t++) {\n    int i = (slit + t) % n;\n    if (v[i] == true && v[(i+1)%n] == false) {\n      spans[-(t - prev)]++;\n    }\n    if (v[i] == false && v[(i+1)%n] == true) {\n      prev = t;\n    }\n  }\n\n  for (auto &p: spans)\n    cout << -p.first << \" \" << p.second << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <map>\n#include <algorithm>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint N,M;\n\tscanf(\"%d%d\",&N,&M);\n\tvector<int>v(N);\n\tfor(;M--;){\n\t\tint a,l;\n\t\tscanf(\"%d%d\",&a,&l);\n\t\tfor(int i=0;i<l;i++)v[(a+i)%N]=1;\n\t}\n\trotate(v.begin(),min_element(v.begin(),v.end()),v.end());\n\n\tmap<int,int>m;\n\tfor(int i=0,c=0,x=0;i<N;i++){\n\t\tif(x&&!v[i]){\n\t\t\tm[-c]++;\n\t\t\tc=0;\n\t\t}else if(v[i]){\n\t\t\tc++;\n\t\t}\n\t\tx=v[i];\n\t\tif(i==N-1&&c)m[-c]++;\n\t}\n\tfor(auto &e:m){\n\t\tprintf(\"%d %d\\n\",-e.first,e.second);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cctype>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define LINF (ll)INF*INF\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define loop(i,a,n) for(int i=a;i<(n);i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\n#define int ll //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\ntypedef vector<pii> vp;\n\nint gcd(int a, int b){\n    if(b==0) return a;\n    return gcd(b,a%b);\n}\nint lcm(int a, int b){\n    return a/gcd(a,b)*b;\n}\n\n\nsigned main(void) {\n    int n,m;\n    cin >> n >> m;\n    vi a(n);\n    while(m--){\n        int x,y;\n        cin >> x >> y;\n        rep(i,y)a[(x+i)%n] = 1;\n    }\n    rep(i,n)if(!a[i] && a[(i+1)%n]){\n        vi ans;\n        rep(j,n){\n            if(!a[(i+j)%n] && a[(i+j+1)%n])ans.push_back(0);\n            if(a[(i+j)%n])ans.back()++;\n        }\n        vi cnt(200);\n        rep(j,ans.size())cnt[ans[j]]++;\n        for(int j = 199; j > 0; j--)if(cnt[j])cout << j << \" \" << cnt[j] << endl;\n        return 0;\n    }\n    cout << n << \" \" << 1 << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n//////////////////\n// Union-Find木 //\n//////////////////\n\nclass UnionFind {\nprivate:\n\tstd::vector<int> parent_, size_;\npublic:\n\tUnionFind(const int size)\n\t\t:parent_(size), size_(size, 1)\n\t{\n\t\tfor (int i{}; i < size; i++) parent_[i] = i;\n\t}\n\tint calcRoot(const int index)\n\t{\n\t\tif (parent_[index] == index) return index;\n\t\tconst int p{calcRoot(parent_[index])};\n\t\tparent_[index] = p;\n\t\treturn p;\n\t}\n\tbool areConnected(const int index1, const int index2)\n\t{\n\t\treturn calcRoot(index1) == calcRoot(index2);\n\t}\n\tvoid unite(const int index1, const int index2)\n\t{\n\t\tconst int root1{calcRoot(index1)}, root2{calcRoot(index2)};\n\t\tif (root1 == root2) return;\n\t\tif (size_[root1] <= size_[root2])\n\t\t{\n\t\t\tsize_[root2] += size_[root1];\n\t\t\tparent_[root1] = root2;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsize_[root1] += size_[root2];\n\t\t\tparent_[root2] = root1;\n\t\t}\n\t\treturn;\n\t}\n\tint calcSize(const int index)\n\t{\n\t\treturn size_[calcRoot(index)];\n\t}\n};\n\nint main()\n{\n\tint N, M;\n\tscanf(\"%d%d\", &N, &M);\n\tstd::vector<bool> has_colored(N);\n\tfor (int i{}; i < M; i++)\n\t{\n\t\tint a, L;\n\t\tscanf(\"%d%d\", &a, &L);\n\t\tfor (int i{a}; i < a + L; i++)\n\t\t\thas_colored[i % N] = true;\n\t}\n\t\n\tUnionFind uf(N);\n\tfor (int i{}; i < N; i++)\n\t\tif (has_colored[i] && has_colored[(i + 1) % N])\n\t\t\tuf.unite(i, (i + 1) % N);\n\t\n\tstd::vector<bool> is_root(N);\n\tfor (int i{}; i < N; i++)\n\t\tif (has_colored[i])\n\t\t\tis_root[uf.calcRoot(i)] = true;\n\n\tstd::map<int, int> length;\n\tfor (int i{}; i < N; i++)\n\t\tif (is_root[i])\n\t\t\tlength[uf.calcSize(i)]++;\n\t\n\tfor (auto it{length.rbegin()}; it != length.rend(); it++)\n\t\tprintf(\"%d %d\\n\", it->first, it->second);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint n, m, C[110];\nbool chk[110];\nint main(){\n\tint i, a, b, x, t;\n\tscanf(\"%d%d\", &n, &m);\n\tfor (i = 0; i < m; i++){\n\t\tscanf(\"%d%d\", &a, &b);\n\t\ta %= n;\n\t\twhile (b--){\n\t\t\tchk[a] = true;\n\t\t\ta = (a + 1) % n;\n\t\t}\n\t}\n\tfor (i = 0; i < n; i++)if (!chk[i])break;\n\tif (i == n){\n\t\tprintf(\"%d %d\\n\", n, 1);\n\t\treturn 0;\n\t}\n\tx = i;\n\tt = 0;\n\tfor (i = x + 1; i <= x + n; i++){\n\t\ta = i%n;\n\t\tif (!chk[a]){\n\t\t\tif (t)C[t]++;\n\t\t\tt = 0;\n\t\t}\n\t\telse t++;\n\t}\n\tfor (i = n; i >= 1; i--){\n\t\tif (C[i])printf(\"%d %d\\n\", i, C[i]);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nint main(){\n    int n,m;\n    cin >>n >>m;\n\n    vector<bool> c(n);\n    rep(i,m){\n        int a,l;\n        cin >>a >>l;\n        rep(j,l){\n            int k = (a+j)%n;\n            c[k] = true;\n        }\n    }\n\n    map<int,int> ct;\n    vector<bool> vis(n);\n    rep(i,n)if(c[i]){\n        if(vis[i]) continue;\n        queue<int> que({i});\n        vis[i] = true;\n        int cc = 1;\n        while(!que.empty()){\n            int v = que.front();\n            que.pop();\n            for(int j:{n-1,1}){\n                int nx = (v+j)%n;\n                if(c[nx] && !vis[nx]){\n                    que.push(nx);\n                    vis[nx] = true;\n                    ++cc;\n                }\n            }\n        }\n\n        ++ct[cc];\n    }\n\n    vector<pair<int,int>> ans;\n    for(auto &p:ct) ans.pb(p);\n    reverse(all(ans));\n    for(const auto &p:ans) cout << p.fi << \" \" << p.se << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <algorithm>\t// require sort next_permutation count __gcd reverse etc.\n#include <cstdlib>\t// require abs exit atof atoi \n#include <cstdio>\t\t// require scanf printf\n#include <functional>\n#include <numeric>\t// require accumulate\n#include <cmath>\t\t// require fabs\n#include <climits>\n#include <limits>\n#include <cfloat>\n#include <iomanip>\t// require setw\n#include <sstream>\t// require stringstream \n#include <cstring>\t// require memset\n#include <cctype>\t\t// require tolower, toupper\n#include <fstream>\t// require freopen\n#include <ctime>\t\t// require srand\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define ALL(A) A.begin(), A.end()\n#define each(i,c) for(auto i=(c).begin();i!=(c).end();++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define clr(a) memset((a),0,sizeof(a))\n#define nclr(a) memset((a),-1,sizoef(a))\n#define sz(s) (int)((s).size())\n#define INRANGE(x,s,e) ((s)<=(x) && (x)<(e))\n#define pb push_back\n#define MP(x,y) make_pair((x),(y))\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\nint wall[102];\nint cnt[102];\nvector<int> rank;\n\nint main()\n{\n\tmemset (wall, -1, sizeof (wall ) );\n\tmemset (cnt, 0, sizeof (cnt ) );\n\n\trank.clear();\n\tios_base::sync_with_stdio(0);\n\tint N, M; cin >> N >> M;\n\n\tvector<int> a(M, 0 ), L(M, 0 );\n\trep (i, M ) cin >> a[i] >> L[i];\n\trep (i, M ){\n\t\tint j = a[i], k = 0; \n\t\twhile (k < L[i] ){\n\t\t\twall[j%N] = i;\n\t\t\tj++, k++;\n\t\t} // end while\n\t} // end rep\n\n\tint curr = 0;\n\t// 起点 0 の壁は塗られていない\n\tif (wall[0] == -1 ){\n\t\trep (j, N ){\n\t\t\tif (wall[j] == -1 ){\n\t\t\t\tif (curr != 0 ){\n\t\t\t\t\trank.push_back (curr );\n\t\t\t\t\tcurr = 0;\n\t\t\t\t} // end if\n\t\t\t}else\t\t\t\t\t\t\t\n\t\t\tif (wall[j] != -1 ){\n\t\t\t\tcurr++;\n\t\t\t} // end if\n\t\t} // end rep\n\t\tif (curr != 0 ) rank.push_back (curr );\n\t}else{\n\t// 起点 0 の壁が塗られている（続いている可能性あり）\n\t\trep (j, N ){\n\t\t\tif (wall[j] == -1 ){\n\t\t\t\tif (curr != 0 ){\n\t\t\t\t\trank.push_back (curr );\n\t\t\t\t\tcurr = 0;\n\t\t\t\t} // end if\n\t\t\t}else\t\t\t\t\t\t\t\n\t\t\tif (wall[j] != -1 ){\n\t\t\t\tcurr++;\n\t\t\t} // end if\n\t\t} // end rep\n\t\tif (curr != 0 ){\n\t\t\tif (!rank.empty() ){\n\t\t\t\trank[0] += curr;\n\t\t\t}else{\n\t\t\t\trank.push_back (curr );\n\t\t\t} // end if\n\t\t} // end if\n\t} // end if\n\n\trep (i, rank.size() ){\n\t\tcnt[rank[i]]++;\n\t} // end rep\n\n\tfor (int i = 101; i >= 0; i-- ){\n\t\tif (cnt[i] != 0 ){\n\t\t\tcout << i << ' ' << cnt[i] << endl;\n\t\t} // end if\n\t} // end for\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <vector>\n#include <string>\n#include <set>\n#include <unordered_set>\n#include <map>\n#include <unordered_map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <algorithm>\n#include <functional>\n#include <iterator>\n#include <limits>\n#include <numeric>\n#include <utility>\n#include <cmath>\n#include <cassert>\n#include <cstdio>\n\nusing namespace std; using namespace placeholders;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector< int > VI;\ntypedef vector< vector< int > > VVI;\ntypedef vector< string > VS;\ntypedef stringstream SS;\ntypedef pair< int, int > PII;\ntypedef vector< pair< int, int > > VPII;\n#define VT( T ) vector< T >\n#define VVT( T ) vector< vector< T > >\n#define LIM( T ) numeric_limits< T >\n\ntemplate < typename T > inline istream& operator>>( istream &s, vector< T > &v ){ for ( T &t : v ) { s >> t; } return s; }\ntemplate < typename T > inline ostream& operator<<( ostream &s, const vector< T > &v ){ for ( int i = 0; i < int( v.size() ); ++i ){ s << ( \" \" + !i ) << v[i]; } return s; }\ntemplate < typename T > inline T fromString( const string &s ) { T res; istringstream iss( s ); iss >> res; return res; };\ntemplate < typename T > inline string toString( const T &a ) { ostringstream oss; oss << a; return oss.str(); };\n\n#define REP2( i, n ) REP3( i, 0, n )\n#define REP3( i, m, n ) for ( int i = ( int )( m ); i < ( int )( n ); ++i )\n#define GET_REP( a, b, c, F, ... ) F\n#define REP( ... ) GET_REP( __VA_ARGS__, REP3, REP2 )( __VA_ARGS__ )\n#define FOR( e, c ) for ( auto &e : c )\n#define ALL( c ) ( c ).begin(), ( c ).end()\n#define AALL( a, t ) ( t* )a, ( t* )a + sizeof( a ) / sizeof( t )\n#define DRANGE( c, p ) ( c ).begin(), ( c ).begin() + p, ( c ).end()\n\n#define SZ( v ) ( (int)( v ).size() )\n#define PB push_back\n#define EM emplace\n#define EB emplace_back\n#define BI back_inserter\n\n#define EXIST( c, e ) ( ( c ).find( e ) != ( c ).end() )\n\n#define MP make_pair\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\tint N, M;\n\tcin >> N >> M;\n\n\tVI as( M ), ls( M );\n\tREP( i, M )\n\t{\n\t\tcin >> as[i] >> ls[i];\n\t}\n\n\tVI color( N );\n\tREP( i, M )\n\t{\n\t\tREP( j, ls[i] )\n\t\t{\n\t\t\tcolor[ ( as[i] + j ) % N ] = 1;\n\t\t}\n\t}\n\n\tint pos = find( ALL( color ), 0 ) - color.begin();\n\tif ( pos != N )\n\t{\n\t\trotate( DRANGE( color, pos ) );\n\t}\n\n\tmap< int, int > res;\n\tREP( i, N )\n\t{\n\t\tif ( !color[i] )\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\n\t\tint j = i;\n\t\tfor ( ; j < N && color[j]; ++j );\n\n\t\t++res[ i - j ];\n\n\t\ti = j - 1;\n\t}\n\n\tFOR( p, res )\n\t{\n\t\tcout << -p.fst << ' ' << p.snd << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long int ll;\ntypedef unsigned long long int ull;\n#define BIG_NUM 2000000000\n#define HUGE_NUM 99999999999999999\n#define MOD 1000000007\n#define EPS 0.000000001\nusing namespace std;\n\n\n#define NUM 100\n\nint N,M;\nint boss[NUM],height[NUM],member_num[NUM];\nint len_num[NUM+1];\nbool check[NUM];\n\n//自分のボスのindexを取得しつつ、経路圧縮を行う関数\nint get_boss(int id){\n\tif(boss[id] == id)return id; //自分が代表なら、自分の値を返す\n\telse{\n\t\treturn boss[id] = get_boss(boss[id]); //代表でないなら、自分が所属する組織の代表を返しつつ、経路圧縮\n\t}\n}\n\nint is_same_group(int x,int y){\n\treturn get_boss(x) == get_boss(y);\n}\n\nvoid unite(int x,int y){\n\tint boss_x = get_boss(x);\n\tint boss_y = get_boss(y);\n\n\t//既に同じグループなら何もしない\n\tif(boss_x == boss_y)return;\n\n\t//高さが高い方に吸収する\n\tif(height[x] > height[y]){\n\n\t\tmember_num[boss_x] += member_num[boss_y];\n\t\tboss[boss_y] = boss_x;\n\n\t}else if(height[x] < height[y]){\n\n\t\tmember_num[boss_y] += member_num[boss_x];\n\t\tboss[boss_x] = boss_y;\n\n\t}else{ //height[x] == height[y]\n\n\t\tmember_num[boss_x] += member_num[boss_y];\n\t\tboss[boss_y] = boss_x;\n\t\theight[x]++;\n\t}\n}\n\nint main(){\n\n\tscanf(\"%d %d\",&N,&M);\n\n\tfor(int i = 0; i < N; i++){\n\n\t\tboss[i] = i;\n\t\theight[i] = 0;\n\t\tmember_num[i] = 1;\n\n\t\tcheck[i] = false;\n\t\tlen_num[i+1] = 0;\n\t}\n\n\tint start,len;\n\n\tfor(int loop = 0; loop < M; loop++){\n\n\t\tscanf(\"%d %d\",&start,&len);\n\t\tcheck[(start)%N] = true;\n\n\t\tfor(int i = 1; i <= len-1; i++){\n\n\t\t\tcheck[(start+i)%N] = true;\n\t\t}\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\n\t\tif(check[i] == true && check[(i-1+N)%N] == true){\n\n\t\t\tunite(i,(i-1+N)%N);\n\t\t}\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\t\tif(check[i] == true && i == get_boss(i)){\n\n\t\t\tlen_num[member_num[i]] += 1;\n\t\t}\n\t}\n\n\tfor(int i = N; i >= 1; i--){\n\t\tif(len_num[i] == 0)continue;\n\n\t\tprintf(\"%d %d\\n\",i,len_num[i]);\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<vector>\n#include<cmath>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define it ::iterator\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-10;\nusing namespace std;\nint main(){\n  int m,n;\n  cin>>n>>m;\n  vector<bool>in(m);\n  rep(i,m){\n    int a,b;\n    cin>>a>>b;\n    if(a+b<n)loop(i,a,a+b)in[i]=true;\n    else{\n      loop(i,a,n)in[i]=true;\n      rep(i,(a+b)%n)in[i]=true;\n    }\n  }\n\n  bool count=0;\n  int tmp=0;\n  int out[101]={0};\n  rep(i,n){\n    int co=0;\n    while(in[i]){\n      co++;i++;\n      if(i==n)break;\n    }\n    if(co==0&&i==n-1)out[tmp]++;\n    else if(i>n-1)out[co+tmp]++;\n    else if(count==0);\n    else out[co]++;\n    if(co)i--;\n    if(!count){\n      count=true;\n      tmp=co;\n    }\n  }\n  //rep(i,n)cout<<\" \"<<in[i];\n  //cout<<endl;\n  for(int i=100;i>0;i--)if(out[i])cout<<i<<\" \"<<out[i]<<endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "/*\n * a.cc: \n */\n\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<stack>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n\nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 100;\n\n/* typedef */\n\n/* global variables */\n\nbool as[MAX_N];\nint cnts[MAX_N + 1];\n\n/* subroutines */\n\n/* main */\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n\n  for (int i = 0; i < m; i++) {\n    int ai, li;\n    cin >> ai >> li;\n    for (int j = 0; j < li; j++) as[(ai + j) % n] = true;\n  }\n  //for (int i = 0; i < n; i++) printf(\" %d\", as[i]); putchar('\\n');\n\n  int cnt = 0, k = n;\n  while (k > 0 && as[k - 1]) cnt++, k--;\n\n  for (int i = 0; i < k; i++) {\n    if (as[i]) cnt++;\n    else {\n      if (cnt > 0) cnts[cnt]++;\n      cnt = 0;\n    }\n  }\n  if (cnt > 0) cnts[cnt]++;\n\n  for (int i = n; i > 0; i--)\n    if (cnts[i] > 0) printf(\"%d %d\\n\", i, cnts[i]);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\nusing namespace std;\nint n, m, a[200];\nint x, y, p;\nmap<int, int>dic;\nint main()\n{\n\tcin >> n >> m;\n\tfor (int i = 0; i < m; i++)\t{\n\t\tcin >> x >> y;\n\t\tfor (int j = 0; j < y; j++)\t{\n\t\t\tp = (x + j) % n;\n\t\t\ta[p] = a[p + n] = 1;\n\t\t}\n\t}\n\tx = 1;\n\tfor (int i = 0; i < n; i++)\t{\n\t\tif (a[i])\n\t\t\tcontinue;\n\t\tx = 0;\n\t\tbreak;\n\t}\n\tif (x)\t{\n\t\tcout << n << ' ' << 1 << endl;\n\t\treturn 0;\n\t}\n\n\tint f = a[0];\n\tfor (int i = 0; i <= n;){\n\n\t\tif (a[i]){\n\t\t\tif (f){\n\t\t\t\ti++; continue;\n\t\t\t}\n\t\t\tfor (int j = i; j < 2 * n; j++)\t{\n\t\t\t\tif (a[j])continue;\n\t\t\t\telse {\n\t\t\t\t\tdic[j - i]++;\n\t\t\t\t\ti = j; break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse f = 0;\n\t\ti++;\n\t}\n\tfor (auto it = dic.rbegin(); it != dic.rend(); ++it){\n\t\tauto p = *it;\n\t\tcout << p.first << ' ' << p.second << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define all(c) (c).begin(),(c).end()\n\n#define MAX_N 100\n\nusing namespace std;\n\nint main(){\n\tint N, M, a, L;\n\tcin >> N >> M;\n\tbool field[MAX_N + 1] = {};\n\tfor(int i = 0; i < M; i++){\n\t\tcin >> a >> L;\n\t\tfor(int j = a; j < a + L; j++){\n\t\t\tfield[j % N] = true;\n\t\t}\n\t}\n/*\nfor(int j = 0; j < M; j++){\n\tcout << j << \": \" << field[j] << endl;\n}\n*/\n\n\tint i = 0;\n  int cnt_num[MAX_N + 1] = {};\n  if(field[N - 1])\n\t  for(; field[i] && i < N; i++);\n  if(i == N)\n    cnt_num[N]++;\n  while(i < N)\n  {\n    int j = i;\n    for(; field[j % N]; j++);\n    if(j - i)\n      cnt_num[j - i]++;\n    i = j + 1;\n  }\n\n\tfor(int k = MAX_N; k >= 0; k--){\n\t\tif(cnt_num[k] != 0){\n\t\t\tcout << k << \" \" << cnt_num[k] << endl;\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <numeric>\n#include <cstdio>\n#define REP(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,a) REP(i,0,a)\nusing namespace std;\n\nint N,M,a,L;\nint main(void){\n    cin >> N >> M;\n    int wall[N];\n    fill(wall,wall+N,0);\n    rep(i,M) {\n        cin >> a >> L;\n        REP(j,a,a+L) wall[j%N] = 1;\n    }\n\n    int mn = 1;\n    rep(i,N) mn = min(mn, wall[i]);\n    if (mn == 1) {\n        printf(\"%d %d\\n\", N, 1);\n        return 0;\n    }\n    \n    while (wall[0] != 0) {\n        int nwall[N];\n        rep(i,N-1) nwall[i] = wall[i+1];\n        nwall[N-1] = wall[0];\n        rep(i,N) wall[i] = nwall[i];\n    }\n    \n    int ans[N+1];\n    fill(ans,ans+N+1,0);\n    int l = 0;\n    rep(i,N) {\n        if (wall[i]) ++l;\n        else {\n            ++ans[l];\n            l = 0;\n        }\n    }\n    ++ans[l];\n\n    for(int i = N; i > 0; --i) {\n        if (ans[i] > 0)\n            printf(\"%d %d\\n\", i, ans[i]);\n    }\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n\n  long long int n, m;\n  cin >> n >> m;\n\n  vector< long long int > v;\n  for ( long long int i = 0; i < n; i++ ) {\n    v.push_back( 0 );\n  }\n\n  for ( long long int i = 0; i < m; i++ ) {\n\n    long long int a, l;\n    cin >> a >> l;\n\n    for ( long long int j = 0; j < l; j++ ) {\n      v[ ( a + j ) % n ] = 1;\n    }\n\n  }\n\n  long long int st = -1;\n\n  for ( long long int i = 0; i < n; i++ ) {\n    if ( v[i] == 0 ) {\n      st = i;\n      break;\n    }\n  }\n  if ( st == -1 ) {\n    cout << n << \" \" << 1 << endl;\n    return 0;\n  }\n\n  long long int ans[101] = {};\n\n  long long int cnt = 0;\n  for ( long long int i = 0; i <= n; i++ ) {\n    long long int k = ( st + i ) % n;\n    if ( v[k] == 0 ) {\n      ans[cnt]++;\n      cnt = 0;\n    }else {\n      cnt++;\n    }\n  }\n  for ( long long int i = n; i > 0; i-- ) {\n    if ( ans[i] > 0 ) {\n      cout << i << \" \" << ans[i] << endl;\n    }\n  }\n  return 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int N, M;\n  cin >> N >> M;\n  vector<bool> c(N * 2, false);\n  for (int i = 0; i < M; i++){\n    int a, L;\n    cin >> a >> L;\n    for (int j = a; j < a + L; j++){\n      c[j % N] = true;\n    }\n  }\n  bool all = true;\n  for (int i = 0; i < N; i++){\n    c[N + i] = c[i];\n    if (!c[i]){\n      all = false;\n    }\n  }\n  /*\n  for (int i = 0; i < N * 2; i++){\n    cout << c[i];\n  }\n  cout << endl;\n  */\n  if (all){\n    cout << N << ' ' << 1 << endl;\n  } else {\n    int s = 0;\n    while (c[s]){\n      s++;\n    }\n    map<int, int> mp;\n    int curr = 0;\n    for (int i = s; i <= N + s; i++){\n      if (c[i]){\n        curr++;\n      } else {\n        if (curr != 0){\n          mp[curr]++;\n        }\n        curr = 0;\n      }\n    }\n    vector<pair<int, int>> ans;\n    for (auto P : mp){\n      ans.push_back(make_pair(P.first, P.second));\n    }\n    sort(ans.begin(), ans.end());\n    reverse(ans.begin(), ans.end());\n    int cnt = ans.size();\n    for (int i = 0; i < cnt; i++){\n      cout << ans[i].first << ' ' << ans[i].second << endl;\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n\n#include <map>\n#include <queue>\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\n#include <cstdio>\ninline int getInt(){ int s; scanf(\"%d\", &s); return s; }\n\n#include <set>\n\nusing namespace std;\n\nint main(){\n  const int n = getInt();\n  const int m = getInt();\n  vector<int> v(n, 0);\n\n  REP(i,m){\n    const int a = getInt();\n    const int l = getInt();\n    REP(j,l) v[(a + j) % n] = 1;\n  }\n\n  int zp = -1;\n  REP(i,n) if(v[i] == 0) zp = i;\n\n  map<int, int> memo;\n  if(zp == -1){\n    printf(\"%d 1\\n\", n);\n  }else{\n    int c = 0;\n\n    REP(i,n + 1){\n      const int cc = v[(zp + i) % n];\n      if(cc == 1){\n        ++c;\n      }else{\n        if(c) memo[c]++;\n        c = 0;\n      }\n    }\n\n    vector<pair<int, int> > ans;\n    FOR(it, memo) ans.push_back(*it);\n    sort(ans.rbegin(), ans.rend());\n\n    REP(i,ans.size())\n      printf(\"%d %d\\n\", ans[i].first, ans[i].second);\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define fi first\n#define se second\nusing namespace std;\n\nint n, m;\nint ok[105] = {0};\nvector<int> l, a;\nvector<int> ans;\n\nvoid solve();\n\nint main() {\n  cin >> n >> m;\n  l.resize(m);\n  a.resize(m);\n  ans.assign(n + 1, 0);\n  for(int i = 0; i < m; ++i) cin >> a[i] >> l[i];\n  solve();\n  for(int i = n; i > 0; --i)\n    if(ans[i] > 0) cout << i << \" \" << ans[i] << endl;\n  return 0;\n}\n\nvoid solve() {\n  int num = -1;\n  for(int i = 0; i < m; ++i)\n    for(int j = 0; j < l[i]; ++j) ++ok[(a[i] + j) % n];\n  for(int i = 0; i < n; ++i)\n    if(ok[i] == 0) {\n      num = i;\n      break;\n    }\n  if(num == -1) {\n    ans[n] = 1;\n    return;\n  }\n  for(int i = num + 1; i <= num + n; ++i) {\n    int now = i, cnt = 0;\n    while(ok[now % n] > 0 && now <= (num + n)) {\n      ++cnt;\n      ++now;\n    }\n    ++ans[cnt];\n    i = now;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define fi first\n#define se second\nusing namespace std;\n\nint n, m;\nint ok[105] = {0};\nvector<int> l, a;\nvector<int> ans;\n\nvoid solve();\n\nint main() {\n  cin >> n >> m;\n  l.resize(m);\n  a.resize(m);\n  ans.assign(n + 1, 0);\n  for(int i = 0; i < m; ++i) cin >> a[i] >> l[i];\n  solve();\n  for(int i = n; i > 0; --i)\n    if(ans[i] > 0) cout << i << \" \" << ans[i] << endl;\n  return 0;\n}\n\nvoid solve() {\n  int num = -1;\n  for(int i = 0; i < m; ++i)\n    for(int j = 0; j < l[i]; ++j) ++ok[(a[i] + j) % n];\n  for(int i = 0; i < n; ++i)\n    if(ok[i] == 0) {\n      num = i;\n      break;\n    }\n  if(num == -1) {\n    ans[n] = 1;\n    return;\n  }\n  for(int i = num + 1; i <= num + n; ++i) {\n    int now = i, cnt = 0;\n    while(ok[now % n] > 0 && now <= (num + n)) {\n      ++cnt;\n      ++now;\n    }\n    ++ans[cnt];\n    i = now;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\tint n, m;\n\tcin >> n >> m;\n\tvector<int> c(n);\n\tfor(int i = 0; i < m; ++i){\n\t\tint a, l;\n\t\tcin >> a >> l;\n\t\tfor(int j = 0; j < l; ++j){ c[(a + j) % n] = 1; }\n\t}\n\tint offset = 0;\n\twhile(offset < n && c[offset] != 0){ ++offset; }\n\tmap<int, int> mp;\n\tint cur_len = 0;\n\tfor(int i = 0; i < n; ++i){\n\t\tif(c[(i + offset) % n] == 0){\n\t\t\tif(cur_len > 0){ mp[cur_len]++; }\n\t\t\tcur_len = 0;\n\t\t}else{\n\t\t\t++cur_len;\n\t\t}\n\t}\n\tif(cur_len > 0){ mp[cur_len]++; }\n\tfor(auto it = mp.rbegin(); it != mp.rend(); ++it){\n\t\tcout << it->first << \" \" << it->second << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1e+9;\n\nint main() {\n\tint n, m, a, l;\n\tcin >> n >> m;\n\tbool painted[256] = {0};\n\tfor(int i = 0; i < m; ++i){\n\t\tcin >> a >> l;\n\t\tfor(int j = a; j < a + l; ++j){\n\t\t\tpainted[j % n] = true;\n\t\t}\n\t}\n\tint start = INF;\n\tfor(int i = 0; i < n; ++i){\n\t\tif(!painted[i])\n\t\t\tstart = i;\n\t}\n\tif(start == INF){\n\t\tcout << n << \" \" << \"1\" << endl;\n\t}\n\telse{\n\t\tint cnt = 0;\n\t\tint ans[256] = {0};\n\t\tfor(int i = start + 1; (i % n) != start; ++i){\n\t\t\tif(painted[i % n]){\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tans[cnt]++;\n\t\t\t\tcnt = 0;\n\t\t\t}\n\t\t}\n\t\tif(cnt > 0)\n\t\t\tans[cnt]++;\n\t\tfor(int i = n - 1; i >= 1; --i){\n\t\t\tif(ans[i]){\n\t\t\t\tcout << i << \" \" << ans[i] << endl;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <functional>\n#include <algorithm>\n#include <iostream>\n#include <numeric>\n#include <iomanip>\n#include <utility>\n#include <cstdlib>\n#include <sstream>\n#include <bitset>\n#include <vector>\n#include <cstdio>\n#include <ctime>\n#include <queue>\n#include <deque>\n#include <cmath>\n#include <stack>\n#include <list>\n#include <map>\n#include <set>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n\n\nint main() {\n    int n,m,i,j,s,l,c,r,t;\n    int a[100]={0};\n    int w[100]={0};\n    scanf(\"%d %d\",&n,&m);\n    for(i=0;i<m;i++){\n        scanf(\"%d %d\",&s,&l);\n        for(j=s;j<s+l;j++)w[j%n]=1;\n    }\n    \n\n    \n    \n    for(i=c=r=0;i<n;i++){\n        if(w[i])c++;\n        else{\n            a[r++]=c;\n            c=0;\n        }\n    }\n    a[0]+=c;\n    for(i=0;i<n;i++){\n        for(j=i;j;j--){\n            if(a[j-1]<a[j]){\n                t=a[j];\n                a[j]=a[j-1];\n                a[j-1]=t;\n            }\n        }\n    }\n    \n    for(i=0;i<n;i++){\n        if(a[i]==0)break;\n        printf(\"%d \",a[i]);\n        for(j=1;a[i]==a[i+j];j++);\n        printf(\"%d\\n\",j);\n        i+=j-1;\n    }\n        return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#pragma warning(disable:4996)\nusing namespace std;\n\n\nstruct UnionFind {\n\tvector<int> data;\n\tUnionFind(int size) : data(size, -1) { }\n\tbool unionSet(int x, int y) {\n\t\tx = root(x); y = root(y);\n\t\tif (x != y) {\n\t\t\tif (data[y] < data[x]) swap(x, y);\n\t\t\tdata[x] += data[y]; data[y] = x;\n\t\t}\n\t\treturn x != y;\n\t}\n\tint root(int x) {\n\t\treturn data[x] < 0 ? x : data[x] = root(data[x]);\n\t}\n\tint size(int x) {\n\t\treturn -data[root(x)];\n\t}\n};\n\nint main() {\n\tint N,M;cin>>N>>M;\n\tvector<int>v(N);\n\tfor (int i = 0; i < M; ++i) {\n\t\tint a,b;cin>>a>>b;\n\t\tfor (int x = a; x < a + b; ++x) {\n\t\t\tv[x%N]=true;\n\t\t}\n\t}\n\tUnionFind uf(N);\n\tfor (int i = 0; i < N; ++i) {\n\t\tint l=i;\n\t\tint r=(i+1)%N;\n\t\tif (v[l] && v[r]) {\n\t\t\tuf.unionSet(l,r);\n\t\t}\n\t}\n\tset<int>used;\n\tmap<int,int,greater<int>>mp;\n\tfor (int i = 0; i < N; ++i) {\n\t\tif (v[i]) {\n\t\t\tint r=uf.root(i);\n\t\t\tif (used.find(r) == used.end()) {\n\t\t\t\tused.emplace(r);\n\t\t\t\tmp[uf.size(i)]++;\n\t\t\t}\n\t\t}\n\t}\n\tfor (auto m : mp) {\n\t\tcout<<m.first<<\" \"<<m.second<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<list>\n#include<map>\nusing namespace std;\n\nint main(){\n    int n, m;\n    cin >> n >> m;\n    bool b[100] = {};\n    for(int i = 0; i < m; i++){\n        int a, l;\n        cin >> a >> l;\n        for(int i = 1; i <= l; i++) b[(a+i)%n] = true;\n    }\n    list<int> l;\n    int cur = 0;\n    while(cur < n){\n        if(b[cur]){\n            int next = cur;\n            while(b[next] && next < n)  next++;\n            l.push_back(next-cur);\n            cur = next;\n        }else{\n            cur++;\n        }\n    }\n\n    if(l.size() == 1){\n        cout << l.front() << \" \" << 1 << endl;\n        return 0;\n    }\n\n    if(b[0] && b[n-1]){\n        int x = l.front() + l.back();\n        l.pop_front();  l.pop_back();\n        l.push_back(x);\n    }\n\n    map<int,int> ans;\n    for(auto it = l.begin(); it != l.end(); it++)   ans[*it]++;\n    for(auto it = ans.rbegin(); it != ans.rend(); it++){\n        cout << (*it).first << \" \" << (*it).second << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n,m;\n  cin >> n >> m;\n  int a[n];\n  memset(a,0,sizeof(a));\n  for(int i=0; i<m; i++) {\n    int x,y;\n    cin >> x >> y;\n    for(int j=x; j<x+y; j++) a[j%n]=1;\n  }\n  map<int,int> ans;\n  for(int i=0; i<n; i++) {\n    if(!a[i]) continue;\n    int cnt=1;\n    queue<int> que;\n    que.push(i);\n    a[i]=0;\n    while(!que.empty()) {\n      int x=que.front();que.pop();\n      for(int i=-1; i<=1; i++) {\n        int y=(x+i+n)%n;\n        if(a[y]) {\n          que.push(y);\n          a[y]=0;\n          cnt++;\n        }\n      }\n    }\n    ans[cnt]++;\n  }\n  for(map<int,int>::reverse_iterator it=ans.rbegin(); it!=ans.rend(); it++) cout << it->first << \" \" << it->second << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n#define for_rev(i,a,b) for(int i=a;i>=b;--i)\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define allof(a) a.begin(),a.end()\n#define minit(a,b) memset(a,b,sizeof(a))\n#define size_of(a) (int)a.size()\n\ntypedef long long lint;\ntypedef double Double;\ntypedef pair< int, int > pii;\n\nint N, M, col[110], ans[110];\n\nint main() {\n\tminit(col, 0);\n\t\n\tcin >> N >> M;\n\t\n\tfor_(i,0,M) {\n\t\tint a, l;\n\t\tcin >> a >> l;\n\t\tfor_(j,0,l) col[(a + j) % N] = 1;\n\t}\n\t\n\tminit(ans, 0);\n\t\n\tfor_(i,0,N) {\n\t\tif (col[i]) {\n\t\t\tint len = 0, s = i, t = i + 1;\n\t\t\t\n\t\t\twhile (col[s]) {\n\t\t\t\tcol[s] = 0;\n\t\t\t\t++len;\n\t\t\t\ts = (s - 1 + N) % N;\n\t\t\t}\n\t\t\t\n\t\t\twhile (col[t]) {\n\t\t\t\tcol[t] = 0;\n\t\t\t\t++len;\n\t\t\t\tt = (t + 1) % N;\n\t\t\t}\n\t\t\t\n\t\t\t++ans[len];\n\t\t}\n\t}\n\t\n\tfor_rev(i,105,1) if (ans[i] > 0) cout << i << \" \" << ans[i] << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define rep1(i,n) for(int i=1;i<=(int)(n);i++)\n#define all(c) c.begin(),c.end()\n#define pb push_back\n#define fs first\n#define sc second\n#define show(x) cout << #x << \" = \" << x << endl\n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\nusing namespace std;\nint main(){\n\tbool x[100]={};\n\tint N,M;\n\tcin>>N>>M;\n\trep(i,M){\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\trep(j,b) x[(a+j)%N]=1;\n\t}\n\tint ans[101]={};\n\tint s=-1;\n\trep(i,N) if(!x[i]) s=i;\n\tif(s==-1){\n\t\tcout<<N<<\" \"<<1<<endl;\n\t\treturn 0;\n\t}\n\tint now=0;\n\trep(i,N){\n\t\tint p=(s+i)%N;\n\t\tif(x[p]) now++;\n\t\telse{\n\t\t\tif(now>0) ans[now]++;\n\t\t\tnow=0;\n\t\t}\n\t}\n\tif(now>0) ans[now]++;\n\tfor(int i=N;i>0;i--){\n\t\tif(ans[i]) cout<<i<<\" \"<<ans[i]<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main ()\n{\n    int n, m;\n    cin >> n >> m;\n    vector<bool> v(n, false);\n    for (int i = 0; i < m; i++) {\n        int a, l;\n        cin >> a >> l;\n        for (int k = 0; k < l; k++) {\n            v[(a + k) % n] = true;\n        }\n    }\n\n    int s = 0;\n    while (s < n && v[s]) {\n        s++;\n    }\n\n\n    int count = 0;\n    vector<int> res(n + 1, 0);\n\n    if (s < n) {\n        for (int i = 0; i <= n; i++) {\n            if (v[(i + s) % n]) {\n                count++;\n            } else {\n                if (count > 0) {\n                    res[count]++;\n                }\n                count = 0;\n            }\n        }\n    } else {\n        res[n]++;\n    }\n\n\n    for (int i = n; i; i--) {\n        if (res[i]) cout << i << \" \" << res[i] << endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <cassert>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\ntypedef long long ll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\nint main()\n{\n\tint n,l;\n\tbool x[105]={};\n\tcin >> n >> l;\n\tfor(int i=0;i<l;i++)\n\t{\n\t\tint a,b;cin >> a >> b;\n\t\t\n\t\tfor(int j=0;j<b;j++)\n\t\t{\n\t\t\tx[(a+j)%n]=true;\n\t\t}\n\t}\n\tmap<int,int>ma;\n\t\n\tint cur = -1;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tif(!x[i])\n\t\t{\n\t\t\tcur = i; break;\n\t\t}\n\t}\n\tif(cur == -1)\n\t{\n\t\tcout << n << \" \" << 1 << endl;\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tint f = cur;\n\t\twhile(1)\n\t\t{\n\t\t\twhile(!x[cur])\n\t\t\t{\n\t\t\t\tcur = (cur+1)%n; if(cur == f) goto en;\n\t\t\t}\n\t\t\tint cnt = 0;\n\t\t\twhile(x[cur])\n\t\t\t{\n\t\t\t\tcur = (cur+1)%n; if(cur == f){ma[++cnt]++;goto en;}\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tma[cnt]++;\n\t\t\tif(cur == f) break;\n\t\t}\n\t\ten:; vector<P>vec;\n\t\tfor(map<int,int>::iterator it=ma.begin();it!=ma.end();++it)\n\t\t{\n\t\t\tvec.pb(mp(it->fi,it->sc));\n\t\t}\n\t\tfor(int i=vec.size()-1;i>=0;i--)\n\t\t{\n\t\t\tcout << vec[i].fi << \" \" << vec[i].sc << endl;\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <climits>\n#include <ctime>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <set>\n#include <map>\n#include <iostream>\n#include <deque>\n#include <complex>\n#include <string>\n#include <iomanip>\n#include <sstream>\n#include <bitset>\n#include <valarray>\n#include <unordered_map>\n#include <iterator>\n#include <functional>\n#include <cassert>\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned int uint;\ntypedef unsigned char uchar;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\n\n#define REP(i,x) for(int i=0;i<(int)(x);i++)\n#define REPS(i,x) for(int i=1;i<=(int)(x);i++)\n#define RREP(i,x) for(int i=((int)(x)-1);i>=0;i--)\n#define RREPS(i,x) for(int i=((int)(x));i>0;i--)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define RFOR(i,c) for(__typeof((c).rbegin())i=(c).rbegin();i!=(c).rend();i++)\n#define ALL(container) (container).begin(), (container).end()\n#define RALL(container) (container).rbegin(), (container).rend()\n#define SZ(container) ((int)container.size())\n#define mp(a,b) make_pair(a, b)\n#define pb push_back\n#define eb emplace_back\n#define UNIQUE(v) v.erase( unique(v.begin(), v.end()), v.end() );\n\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"[\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"]\"; return os;\n}\ntemplate<class T> ostream& operator<<(ostream &os, const set<T> &t) {\nos<<\"{\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"}\"; return os;\n}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\ntemplate<class S, class T> pair<S,T> operator+(const pair<S,T> &s, const pair<S,T> &t){ return pair<S,T>(s.first+t.first, s.second+t.second);}\ntemplate<class S, class T> pair<S,T> operator-(const pair<S,T> &s, const pair<S,T> &t){ return pair<S,T>(s.first-t.first, s.second-t.second);}\n\nconst int INF = 1<<28;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\n\nint n, m;\n\nint main(int argc, char *argv[]){\n\tios::sync_with_stdio(false);\n\tcin >> n >> m;\n\tvi d(2*n);\n\tREP(i, m){\n\t\tint l, w;\n\t\tcin >> l >> w;\n\t\tREP(j, w) d[l+j] = 1;\n\t}\n\tREP(i, 2*n) d[i] |= d[(i+n)%(2*n)];\n\tint sum = accumulate(d.begin(), d.begin()+n, 0);\n\tif(sum == n){\n\t\tprintf(\"%d 1\\n\", sum);\n\t\treturn 0;\n\t}\n\tint s = 0;\n\tREP(i, n){\n\t\tif(d[i] == 0 && d[i+1] == 1) s = (i+1) % n;\n\t}\n\tmap<int, int> ans;\n\tint c = 0;\n\tREP(i, n){\n\t\tif(!d[s+i]){\n\t\t\tif(c) ans[c] ++;\n\t\t\tc = 0;\n\t\t}else c ++;\n\t}\n\tvector<pii> ans2;\n\tRFOR(it, ans) printf(\"%d %d\\n\", it->first, it->second);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <limits>\n#include <climits>\n#include <cfloat>\n#include <functional>\nusing namespace std;\n\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n\n    vector<bool> wall(n, false);\n    for(int i=0; i<m; ++i){\n        int a, l;\n        cin >> a >> l;\n        for(int j=0; j<l; ++j)\n            wall[(a+j)%n] = true;\n    }\n\n    if(wall == vector<bool>(n, true)){\n        cout << n << ' ' << 1 << endl;\n        return 0;\n    }\n\n    map<int, int> ans;\n    int i = 0;\n    while(wall[i])\n        ++ i;\n\n    while(i < n){\n        while(!wall[i%n])\n            ++ i;\n        if(i > n)\n            break;\n\n        int cnt = 0;\n        while(wall[i%n]){\n            ++ cnt;\n            ++ i;\n        }\n        ++ ans[cnt];\n    }\n\n    for(auto it=ans.rbegin(); it!=ans.rend(); ++it)\n        cout << it->first << ' ' << it->second << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<map>\n\nusing namespace std;\n\ntypedef pair<int, int> PII;\n\nint main() {\n  int N,M;\n  int a, L;\n  bool arr[210];\n\n  for(int i = 0 ; i < 210 ; i++) arr[i] = false;\n  \n  map<int, int> ans;\n  \n  cin >> N >> M;\n  for(int i = 0 ; i < M ; i++){\n    cin >> a >> L;\n    for(int j = a ; j < a+L ; j++) arr[j%N] = true;\n  }\n  \n  bool f = false;\n  for(int i = 0 ; i < N ; i++){\n    if(!arr[i]) f = true;\n  }\n  if(!f){\n    cout << N << ' ' << 1 << endl;\n    return 0;\n  }\n  \n  \n  for(int i = 0 ; i < N ; i++){\n    arr[N+i] = arr[i];\n  }\n  \n  bool flag = false;\n  for(int i = 0 ; i < N ; i++){\n    int pos = i, len = 0;\n    while(arr[pos]) pos++, len++;\n    i = pos;\n    if(!(arr[0] && arr[N-1] && !flag)) ans[len]++;\n    flag = true;\n  }\n  \n  vector<PII> res;\n  for(map<int,int>::iterator it = ans.begin() ; it != ans.end() ; it++){\n    res.push_back(PII(it->first, it->second));\n  }\n  \n  sort(res.begin(), res.end());\n  reverse(res.begin(), res.end());\n\n  for(int i = 0 ; i < res.size() ; i++){  \n    if(res[i].first == 0) continue;\n    cout << res[i].first << ' ' << res[i].second << endl;\n  }\n  \n  return 0;\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define F first\n#define S second\n#define X real()\n#define Y imag()\n#define PB push_back \n#define BE(c) c.begin(),c.end()\nusing namespace std;\ntypedef long long LL;\ntypedef complex<int> cld;\ntypedef LL ut;\ntypedef vector<ut> VI;\ntypedef pair<ut,ut> pr;\ntypedef vector<pr> Vpr;\ntypedef vector<ut,pr> ppr;\ntypedef priority_queue<pr,Vpr,greater<pr> > PQ;\ntypedef vector<ppr> Vppr;\nconst int SIZE=101;\nconst LL p=7+1e+9;\nint able[SIZE];\nint size[SIZE];\nint main(){\n\tint N,M,x,p;\n\tcin >>N >> M;\n\tREP(i,M){\n\t\tcin >> x >> p;\n\t\table[x]=max(able[x],p);\n\t}\n\tREP(x,N)\n\t\table[(x+1)%N]=max(able[x]-1,able[(x+1)%N]);\n\tREP(x,N)\n\t\table[(x+1)%N]=max(able[x]-1,able[(x+1)%N]);\n\tint ans=0,now=0;\n\tbool first=true;\n\tREP(i,N*2){\n\t\tif(able[i%N]){\n\t\t\tif(first&&i<N) continue;\n\t\t\tnow++;\t\n\t\t} \n\t\telse{\n\t\t\tfirst=false;\n\t\t\tsize[now]++;\n\t\t\tnow=0;\n\t\t\tif(i>=N) break;\n\t\t} \n\t}\n\tif(first)\n\t\tcout << N << \" \" << 1 << endl;\n\tREP(i,N){\n\t\tint k=N-i;\n\t\tif(size[k]){\n\t\t\tcout << k <<\" \" << size[k] << endl;\n\t\t}\n\t}\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <utility>\nusing namespace std;\nusing llong = long long;\n\nllong n, m;\nllong a[55], l[55];\nllong w[128];\nllong b[128];\n\nllong f() {\n    for (int i = 0; i < n; i++) {\n        if (w[i] == 0) return i;\n    }\n    return n;\n}\n\nint main() {\n    cin >> n >> m;\n    for (int i = 0; i < m; i++) {\n        cin >> a[i] >> l[i];\n        for (int j = 0; j < l[i]; j++) {\n            w[(a[i] + j) % n] = 1;\n        }\n    }\n\n    llong s = f();\n\n    if (s == n) {\n        cout << n << ' ' << 1 << endl;\n        return 0;\n    }\n\n    for (int i = s; i < n + s; i++) {\n        llong len = 0;\n        while (w[i % n]) {\n            len++;\n            i++;\n        }\n        b[len]++;\n    }\n\n    for (int i = n; i > 0; i--) {\n        if (b[i]) {\n            cout << i << ' ' << b[i] << endl;\n        }\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <queue>\n\nusing namespace std;\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N, M; cin >> N >> M;\n  vector<bool> covered(N, false);\n  REP(i,M){\n\tint a, l; cin >> a >> l;\n\tREP(i,l)\n\t  covered[(a+i)%N] = true;\n  }\n\n  for(int i=0;i<N && covered.back();++i){\n\tcovered.insert(covered.begin(), true);\n\tcovered.pop_back();\n  }\n\n  VI ans(N+1, 0);\n  int num = 0;\n  REP(i,N){\n\tif(covered[i]) ++num;\n\telse if(num > 0){\n\t  ans[num]++;\n\t  num = 0;\n\t}\n  }\n  if(num > 0)\n\tans[num]++;\n  \n  for(int i=N;i>0;--i)\n\tif(ans[i] > 0)\n\t  cout << i << \" \" << ans[i] << endl;\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define mp make_pair\n#define pb push_back\n#define each(i,c) for(__typeof((c).begin()) i=(c).begin();i!=(c).end();i++)\n#define dbg(x) cerr<<__LINE__<<\": \"<<#x<<\" = \"<<(x)<<endl\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int,int> pi;\nconst int inf = (int)1e9;\nconst double INF = 1e12, EPS = 1e-9;\n\nint dfs(vi &col, int p){\n\tint n = col.size();\n\tif(!col[p]) return 0;\n\tcol[p] = 0;\n\tint res = 1 + dfs(col, (p + 1) % n);\n\tif((p - 1 + n) % n != (p + 1) % n) res += dfs(col, (p - 1 + n) % n);\n\treturn res;\n}\n\nint main(){\n\tint n, m;\n\tcin >> n >> m;\n\tvi col(n);\n\t\n\trep(i, m){\n\t\tint a, l; cin >> a >> l;\n\t\trep(j, l) col[(a + j) % n] = 1;\n\t}\n\tmap<int, int> ans;\n\trep(i, n) if(col[i]) ans[-dfs(col, i)]++;\n\t\n\teach(i, ans) cout << -i->first << \" \" << i->second <<endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\n\nint wall[100];\nint out[51];\n\nint main(void)\n{\n    int N, M;\n    int a, L;\n    int i, j;\n    int start, end, pos;\n    int len;\n    int flag;\n    \n    scanf(\"%d%d\", &N, &M);\n    \n    for (i = 0; i < M; i++){\n        scanf(\"%d%d\", &a, &L);\n        \n        for (j = a; j < a + L; j++){\n            wall[j % N] = 1;\n        }\n    }\n\n#if 0\nfor (i = 0; i < N; i++){\n    printf(\"%d\", wall[i]);\n}\nprintf(\"\\n\");\n#endif\n\n    for (start = 0; start < N; start++){\n        if (wall[start] == 0){\n            break;\n        }\n    }\n    if (start == N){\n        printf(\"%d 1\\n\", N);\n        goto END;\n    }\n//printf(\"start=%d\\n\", start);\n    pos = start;\n    len = 0;\n    flag = 0;\n    do {\n        if (len == 0){\n            if (wall[pos] == 1){\n                len = 1;\n//printf(\"+\");\n            }\n        }\n        else {\n            if (wall[pos] == 1){\n                len++;\n            }\n            else {\n                out[len]++;\n//printf(\"len=%d\\n\", len);\n                len = 0;\n                flag = 1;\n            }\n        }\n        pos++;\n        pos %= N;\n    } while (pos != start);\n    if (len > 0){\n        out[len]++;\n        flag = 1;\n    }\n    \n    if (flag == 0){\n        printf(\"0 0\\n\");\n    }\n    else {\n        for (i = 50; i >= 0; i--){\n            if (out[i] > 0){\n                printf(\"%d %d\\n\", i, out[i]);\n            }\n        }\n    }\n    \nEND:;\n    return (0);\n}\n\n"
  },
  {
    "language": "C",
    "code": "// AOJ 1551: A White Wall\n// 2019.2.21 bal4u\n\n#include <stdio.h>\n#include <stdlib.h>\n\nint wall[102];\n\nint cmp(const void *a, const void *b)\n{\n\treturn *(int *)b - *(int *)a;\n}\n\nint main()\n{\n\tint i, j, N, M, a, L;\n\n\tscanf(\"%d%d\", &N, &M);\n\tfor (i = 0; i < M; i++) {\n\t\tscanf(\"%d%d\", &a, &L);\n\t\tfor (j = 0; j < L; j++) wall[(a + j) % N] = 1;\n\t}\n\tfor (j = 0; j < N; j++) if (wall[j] == 0) break;\n\tif (j == N) printf(\"%d 1\\n\", N);\n\telse {\n\t\tfor (i = 0; i < N; i++) {\n\t\t\tif (wall[(j + i) % N] && wall[(j + i + 1) % N]) {\n\t\t\t\twall[(j + i + 1) % N] += wall[(j + i) % N];\n\t\t\t\twall[(j + i) % N] = 0;\n\t\t\t}\n\t\t}\n\t\tqsort(wall, N, sizeof(int), cmp);\n\t\ta = 1;\n\t\tfor (i = 1; i < N; i++) {\n\t\t\tif (wall[i] == wall[i - 1]) a++;\n\t\t\telse {\n\t\t\t\tprintf(\"%d %d\\n\", wall[i - 1], a);\n\t\t\t\tif (wall[i] == 0) break;\n\t\t\t\ta = 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint n;\nint wall[100];\nint cnt[101];\n\nint delete(int now) {\n\tint len;\n\n\twall[now] = 0;\n\n\tlen = 1;\n\tif (wall[(now + 1) % n])\n\t\tlen += delete((now + 1) % n);\n\tif (wall[(now - 1 + n) % n])\n\t\tlen += delete((now - 1 + n) % n);\n\n\treturn len;\n}\n\nint main(void) {\n\tint i;\n\tint m;\n\n\tscanf(\"%d %d\", &n, &m);\n\n\twhile (m--) {\n\t\tint a, l;\n\n\t\tscanf(\"%d %d\", &a, &l);\n\n\t\tfor (i = 0; i < l; i++)\n\t\t\twall[(a + i) % n] = 1;\n\t}\n\n\tfor (i = 0; i < n; i++)\n\t\tif (wall[i]) {\n\t\t\tcnt[delete(i)]++;\n\t\t}\n\n\tfor (i = 100; i >= 1; i--)\n\t\tif (cnt[i])\n\t\t\tprintf(\"%d %d\\n\", i, cnt[i]);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.Scanner;\n \npublic class Main {\n\t\n\t\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        \n        final int N = sc.nextInt();\n        final int M = sc.nextInt();\n        \n        boolean[] colored = new boolean[N];\n        \n        for(int i = 0; i < M; i++){\n        \tfinal int a = sc.nextInt();\n        \tfinal int L = sc.nextInt();\n        \t\n        \tfor(int j = 0; j < L; j++){\n        \t\tfinal int index = (a + j) % N;\n        \t\t\n        \t\tcolored[index] = true;\n        \t}\n        }\n        \n        int false_pos = -1;\n        for(int i = 0; i < N; i++){\n        \tif(!colored[i]){\n        \t\tfalse_pos = i;\n        \t\tbreak;\n        \t}\n        }\n        \n        if(false_pos == -1){\n        \tSystem.out.println(N + \" \" + 1);\n        \treturn;\n        }\n        \n        int[] counts = new int[N];\n        int count = 0;\n        boolean prev = false;\n        for(int i = 0; i < N; i++){\n        \tfinal int index = (i + false_pos) % N;\n        \t\n        \tif(colored[index]){\n        \t\tif(!prev){\n        \t\t\tprev = true;\n        \t\t}\n        \t\tcount++;\n        \t}else{\n        \t\tif(prev){\n        \t\t\tprev = false;\n        \t\t\tcounts[count]++;\n        \t\t\tcount = 0;\n        \t\t}\n        \t}\n        }\n        \n        if(count != 0){\n        \tcounts[count]++;\n        \tcount = 0;\n        }\n        //System.out.println(Arrays.toString(colored));\n        \n        for(int i = N - 1; i >= 0; i--){\n        \tif(counts[i] > 0){\n        \t\tSystem.out.println(i + \" \" + counts[i]);\n        \t}\n        }\n        \n    }\n     \n} \n"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\n\n/**\n * AIZU ONLINE JUDGE\n * 1551\n *  2020/5/10\n */\npublic class Main {\n\n    PrintStream log = new PrintStream(new OutputStream() { public void write(int b) {} } );\n    PrintStream result = System.out;\n    Scanner sc = new Scanner(System.in);\n\n    void main() throws IOException {\n\n        int N = sc.nextInt();\n        int M = sc.nextInt();\n\n        int[] w = new int[N];\n        for(int i = 0; i < M; i++) {\n            int a = sc.nextInt();\n            int L = sc.nextInt();\n\n            for(int j = 0; j < L; j++) {\n                w[(a + j) % N] = 1;\n            }\n        }\n\n        int[] t = new int[N + 1];\n        int s = 0;\n        int f = 0;\n        int s0 = 0;\n        int i;\n        for(i = 0; i < N; i++) {\n            if (f == 0 && w[i] == 1) {\n                s = i;\n                f = 1;\n            }\n            else if (f == 1 && w[i] == 0) {\n                f = 0;\n                if (s == 0) {\n                    s0 = i;\n                }\n                else {\n                    t[i - s]++;\n                }\n            }\n        }\n        if (f == 1) {\n            t[i - s + s0]++;\n        }\n        else if (s0 != 0) {\n            t[s0]++;\n        }\n\n        for(i = N; i > 0; i--) {\n            if (t[i] > 0) {\n                result.println(i + \" \" + t[i]);\n            }\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n        new Main().main();\n    }\n\n\n}\n\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\tboolean[] painted = new boolean[n];\n\t\tfor(int i=0;i<m;i++) {\n\t\t\tint a = sc.nextInt();\n\t\t\tint l = sc.nextInt();\n\t\t\tfor(int j=0;j<l;j++) {\n\t\t\t\tpainted[(a+j)%n] = true;\n\t\t\t}\n\t\t}\n\t\tint start = 0;\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tif (!painted[i]) {\n\t\t\t\tstart = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n//\t\tSystem.out.println(Arrays.toString(painted));\n\t\tboolean[] p2 = new boolean[n+1];\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tp2[i] = painted[(start+i)%n];\n\t\t}\n\t\tint[] count = new int[n+1];\n\t\tint len = 0;\n\t\tfor(int i=0;i<=n;i++) {\n\t\t\tif (p2[i]) {\n\t\t\t\tlen++;\n\t\t\t}else{\n\t\t\t\tcount[len]++;\n\t\t\t\tlen = 0;\n\t\t\t}\n\t\t}\n\t\tfor(int i=n;i>=1;i--) {\n\t\t\tif (count[i] >= 1) {\n\t\t\t\tSystem.out.println(i + \" \" + count[i]);\n\t\t\t}\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n\tpublic Main() {\n\t\tnew A().doIt();\n\t}\n\t\n\tclass A{\n\t\tvoid doIt(){\n\t\t\tint n = in.nextInt();\n\t\t\tint m = in.nextInt();\n\t\t\tint[] hyou = new int[n];\n\t\t\tfor(int i=0;i<m;i++){\n\t\t\t\tint a = in.nextInt();\n\t\t\t\tint b = in.nextInt();\n\t\t\t\tfor(int s=a;s<a+b;s++){\n\t\t\t\t\tint index = s % n;\n\t\t\t\t\thyou[index] = 1;\n\t\t\t\t}\n\t\t\t}\n//\t\t\tSystem.out.println(Arrays.toString(hyou));\n\t\t\tint[] result = new int[101];\n\t\t\tint sum = 0;\n\t\t\tboolean sw = false;\n\t\t\tint memo = 0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif(hyou[i]>0)sum++;\n\t\t\t\telse {\n\t\t\t\t\tif(!sw){\n\t\t\t\t\t\tsw = true;\n\t\t\t\t\t\tmemo = sum;\n\t\t\t\t\t}else result[sum]++;\n\t\t\t\t\tsum = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(sum > 0){\n\t\t\t\tresult[sum + memo]++;\n\t\t\t}else{\n\t\t\t\tresult[memo]++;\n\t\t\t}\n\t\t\t\n\t\t\tfor(int i=100;i>=1;i--)if(result[i]>0){\n\t\t\t\tSystem.out.println(i+\" \"+result[i]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tclass C{\n\t\tint[][] hyou;\n\t\tvoid doIt(){\n\t\t\tint n = in.nextInt();\n\t\t\tint x = in.nextInt();\n\t\t\thyou = new int[n][2];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\thyou[i][0] = in.nextInt();\n\t\t\t\thyou[i][1] = in.nextInt();\n\t\t\t}\n\t\t\tPriorityQueue<Data> q = new PriorityQueue<Main.C.Data>();\n\t\t\tq.add(new Data(0, 0));\n\t\t\t\n\t\t\tboolean[] closed = new boolean[1500010];\n\t\t\twhile(q.size()>0){\n\t\t\t\tData d = q.remove();\n\t\t\t\tif(d.v == x){\n\t\t\t\t\tSystem.out.println(d.cost);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\t\tint nv = hyou[i][0] + d.v;\n\t\t\t\t\tif(!closed[nv])q.add(new Data(nv, d.cost + hyou[i][1]));\n\t\t\t\t\tnv = d.v - hyou[i][0];\n\t\t\t\t\tif(nv >= 0 && !closed[nv])q.add(new Data(nv, d.cost + hyou[i][1]));\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(\"-1\");\n\t\t}\n\t\t\n\t\tclass Data implements Comparable<Data>{\n\t\t\tint v,cost;\n\t\t\tpublic Data(int v,int cost) {\n\t\t\t\tthis.v = v;\n\t\t\t\tthis.cost = cost;\n\t\t\t}\n\t\t\tpublic int compareTo(Data o) {\n\t\t\t\treturn this.cost - o.cost;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.IO;\nusing System.Linq;\nusing System.Numerics;\nusing System.Text;\nusing System.Text.RegularExpressions;\nusing System.Threading.Tasks;\nusing static System.Math;\nusing MethodImplAttribute = System.Runtime.CompilerServices.MethodImplAttribute;\nusing MethodImplOptions = System.Runtime.CompilerServices.MethodImplOptions;\n\npublic static class P\n{\n    public static void Main()\n    {\n        var nm = Console.ReadLine().Split().Select(int.Parse).ToArray();\n        var n = nm[0];\n        var m = nm[1];\n        bool[] paint = new bool[n];\n        for (int i = 0; i < m; i++)\n        {\n            var al = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            for (int j = 0; j < al[1]; j++)\n            {\n                paint[(j + al[0]) % n] |= true;\n            }\n        }\n\n        UnionFind uf = new UnionFind(n + 1);\n        for (int i = 0; i < n; i++)\n        {\n            if (!paint[i])\n                uf.TryUnite(i, n);\n        }\n        for (int i = 0; i < n - 1; i++)\n        {\n            if (paint[i] && paint[i + 1]) uf.TryUnite(i, i + 1);\n        }\n        if (paint[n - 1] && paint[0]) uf.TryUnite(n - 1, 0);\n\n        Console.WriteLine(string.Join(\"\\n\", Enumerable.Range(0, n).GroupBy(x => uf.Find(x)).Where(x => x.Key != uf.Find(n)).GroupBy(x => x.Count()).OrderByDescending(x => x.Key).Select(x => $\"{x.Key} {x.Count()}\")));\n    }\n}\n\n\nclass UnionFind\n{\n    public int Size { get; private set; }\n    public int GroupCount { get; private set; }\n    public IEnumerable<int> AllRepresents => Parent.Where((x, y) => x == y);\n    int[] Sizes;\n    int[] Parent;\n    public UnionFind(int count)\n    {\n        Size = count;\n        GroupCount = count;\n        Parent = new int[count];\n        Sizes = new int[count];\n        for (int i = 0; i < count; i++) Sizes[Parent[i] = i] = 1;\n    }\n    public bool TryUnite(int x, int y)\n    {\n        int xp = Find(x);\n        int yp = Find(y);\n        if (yp == xp) return false;\n        if (Sizes[xp] < Sizes[yp]) { var tmp = xp; xp = yp; yp = tmp; }\n        GroupCount--;\n        Parent[yp] = xp;\n        Sizes[xp] += Sizes[yp];\n        return true;\n    }\n    [MethodImpl(MethodImplOptions.AggressiveInlining)]\n    public int GetSize(int x) => Sizes[Find(x)];\n    [MethodImpl(MethodImplOptions.AggressiveInlining)]\n    public int Find(int x)\n    {\n        while (x != Parent[x]) x = (Parent[x] = Parent[Parent[x]]);\n        return x;\n    }\n}\n\n"
  },
  {
    "language": "Ruby",
    "code": "n, m = gets.chomp.split.map(&:to_i)\narr = Array.new(n, 0)\n\nm.times{\n    a, l = gets.chomp.split.map(&:to_i)\n    l.times{|i| arr[(a + i) % n] = 1}\n}\n\nzero = arr.index(0)\nif zero.nil?\n    puts \"#{n} 1\"\nelse\n    h = Hash.new{|h, k| h[k] = 0}\n    l = 0\n    zero.upto(zero + n - 1){|i|\n        case arr[i % n]\n        when 0\n            if l != 0\n                h[l] += 1\n                l = 0\n            end\n        when 1\n            l += 1\n        end\n    }\n    h[l] += 1 if l != 0\n    h.sort_by{|k, v| -k}.each{|k, v| puts \"#{k} #{v}\"}\nend\n"
  },
  {
    "language": "Python",
    "code": "N, M = map(int, input().split())\nL = [0]*(N*2)\nfor i in range(M):\n    a, l = map(int, input().split())\n    for ll in range(a, a+l):\n        L[ll] = 1\n\nfor i in range(N, 2*N):\n    L[i-N] = max(L[i-N], L[i])\n\n#print(L)\nleft = 0\ni = 0\nwhile L[i]==1:\n    left += 1\n    i += 1\n    if i==N:\n        print(N, 1)\n        exit()\n\nA = []\ns = 0\n#p = 0\nfor i in range(i, N):\n    li = L[i]\n    if li==0:\n        if s!=0:\n            A.append(s)\n        s = 0\n    else:\n        s += 1\n\n#print(A, left, s)\nif s+left != 0:\n    A.append(s+left)\nA.sort(reverse=True)\n\nv = A[0]\nn = 0\nfor a in A:\n    if a==v:\n        n+=1\n    else:\n        print(v, n)\n        n = 1\n        v = a\nprint(v, n)\n\n"
  }
]