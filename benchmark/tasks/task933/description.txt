Snuke arranged N colorful balls in a row. The i-th ball from the left has color c_i and weight w_i. He can rearrange the balls by performing the following two operations any number of times, in any order: Operation 1: Select two balls with the same color. If the total weight of these balls is at most X, swap the positions of these balls. Operation 2: Select two balls with different colors. If the total weight of these balls is at most Y, swap the positions of these balls. How many different sequences of colors of balls can be obtained? Find the count modulo 10^9 + 7.