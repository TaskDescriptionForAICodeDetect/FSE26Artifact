[
  {
    "language": "Scala",
    "code": "import scala.io.StdIn._\nobject Main extends App {\n\n  val Array(n, m) = readLine.trim.split(' ').map(_.toInt)\n  val bits = readLine.trim.split(' ').map(_.toInt).toRunLength\n  val target = readLine.trim.split(' ').map(_.toInt).toList\n  println(solve(bits, target))\n\n  def solve(from: List[Int], to: List[Int]): Int = {\n    def swap(from: List[Int], to: List[Int]): Option[Int] = {\n      (from, to) match {\n        case (Nil, Nil) ⇒ Some(0)\n        case (0::t, _) ⇒ straight(t, to)\n        case (_, 0::t) ⇒ straight(from, t)\n        case (ff::fs::ft, tf::tt) if tf < fs ⇒ straight(ff::fs-tf::ft, tt).map(_ + tf * ff)\n        case (ff::fs::ft::fr, tf::tt) ⇒ swap(ff+ft::fr, tf-fs::tt).map(_ + fs * ff)\n        case (ff::fs::Nil, tf::tt) ⇒ swap(ff::Nil, tf-fs::tt).map(_ + fs * ff)\n        case _ ⇒ None\n      }\n    }\n    def straight(from: List[Int], to: List[Int]): Option[Int] = {\n      (from, to) match {\n        case (Nil, Nil) ⇒ Some(0)\n        case (0::t, _) ⇒ swap(t, to)\n        case (_, 0::t) ⇒ swap(from, t)\n        case (ff::ft, tf::tt) if ff <= tf ⇒ swap(ft, tf - ff::tt)\n        case (ff::ft, tf::tt) ⇒ swap(ff-tf::ft, tt)\n        case _ ⇒ None\n      }\n    }\n    List(swap(from, to), straight(from, to)).flatten.min\n  }\n  implicit class ArrayWrapper(val value: Array[Int]) {\n    def toRunLength: List[Int] = {\n      var last = 0\n      var result = Nil: List[Int]\n      for (i ← value.indices.tail){\n        if (value(i) != value(i - 1)) {\n          result ::= i - last\n          last = i\n        }\n      }\n      (value.size - last::result).reverse\n    }\n  }\n  implicit class Wrapper[T](val value: List[T]) {\n    def minOption(implicit ord: Ordering[T]): Option[T] = {\n      if (value.isEmpty) None\n      else Some(value.min)\n    }\n  }\n  implicit class Extension[T](val value: T) extends AnyVal {\n    @inline def let[A](@inline func: T ⇒ A): A = func(value)\n    @inline def also(@inline func: T ⇒ Unit): T = {func(value); value}\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "//tempa\n//#pragma GCC optimize (\"-O3\")\n#ifdef _DEBUG\n#include<cassert>\n#include \"bits_stdc++.h\"\n#else\n#include <bits/stdc++.h>\n#endif\n\n#define t_T template<class T>\n\nusing namespace std;\n//@起動時\nstruct initon {\n    initon() {\n        cin.tie(0);\n        ios::sync_with_stdio(false);\n        cout.setf(ios::fixed);\n        cout.precision(3);\n        srand((unsigned) clock() + (unsigned) time(NULL));\n    };\n} __initon;\n//衝突対策\n#define ws ___ws\n#define over4(o1, o2, o3, o4, name, ...) name\n\n#define int long long\n#define ll long long\n#define double long double\n#define ull unsigned long long\nusing dou = double;\nusing itn = int;\nusing str = string;\nusing bo= bool;\n#define au auto\nusing P = pair<ll, ll>;\n\n#define fi first\n#define se second\n#define vec vector\n#define beg begin\n#define rbeg rbegin\n#define con continue\n#define bre break\n#define brk break\n#define is ==\nusing vi = vector<ll>;\nusing vb = vector<bool>;\nusing vs = vector<string>;\nusing vd = vector<double>;\nusing vc = vector<char>;\nusing vp = vector<P>;\n\n//#define V vector\n#define vvt0(t) vector<vector<t>>\n#define vvt1(t, a) vector<vector<t>>a\n#define vvt2(t, a, b) vector<vector<t>>a(b)\n#define vvt3(t, a, b, c) vector<vector<t>> a(b,vector<t>(c))\n#define vvt4(t, a, b, c, d) vector<vector<t>> a(b,vector<t>(c,d))\n\n#define vvi(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(ll,__VA_ARGS__)\n#define vvb(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(bool,__VA_ARGS__)\n#define vvs(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(string,__VA_ARGS__)\n#define vvd(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(double,__VA_ARGS__)\n#define vvc(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(char,__VA_ARGS__)\n#define vvp(...) over4(__VA_ARGS__,vvt4,vvt3,vvt2 ,vvt1,vvt0)(P,__VA_ARGS__)\n\n\n#define v3i(a, b, c, d) vector<vector<vi>> a(b, vector<vi>(c, vi(d)))\n#define v3d(a, b, c, d) vector<vector<vd>> a(b, vector<vd>(c, vd(d)))\n#define v3m(a, b, c, d) vector<vector<vm>> a(b, vector<vm>(c, vm(d)))\n\n\n#define PQ priority_queue<ll, vector<ll>, greater<ll> >\n#define tos to_string\n\nusing mapi = map<int, int>;\nusing mapd = map<dou, int>;\nusing mapc = map<char, int>;\nusing maps = map<str, int>;\nusing seti = set<int>;\nusing setd = set<dou>;\nusing setc = set<char>;\nusing sets = set<str>;\nusing qui = queue<int>;\n#define bset bitset\n#define uset unordered_set\n#define mset multiset\n#define umap unordered_map\n#define umapi unordered_map<int,int>\n#define umapp unordered_map<P,int>\n#define mmap multimap\n\n//マクロ 繰り返し\n#define _overloadrep(_1, _2, _3, _4, name, ...) name\n# define _rep(i, n) for(int i = 0,_lim=n; i < _lim ; i++)\n#define repi(i, m, n) for(int i = m,_lim=n; i < _lim ; i++)\n#define repadd(i, m, n, ad) for(int i = m,_lim=n; i < _lim ; i+= ad)\n#define rep(...) _overloadrep(__VA_ARGS__,repadd,repi,_rep,)(__VA_ARGS__)\n#define _rer(i, n) for(int i = n; i >= 0 ; i--)\n#define reri(i, m, n) for(int i = m,_lim=n; i >= _lim ; i--)\n#define rerdec(i, m, n, dec) for(int i = m,_lim=n; i >= _lim ; i-=dec)\n#define rer(...) _overloadrep(__VA_ARGS__,rerdec,reri,_rer,)(__VA_ARGS__)\n#define fora(a, b) for(auto&& a : b)\n\n//マクロ 定数\n#define k3 1010\n#define k4 10101\n#define k5 101010\n#define k6 1010101\n#define k7 10101010\n\nt_T T MAX() { return numeric_limits<T>::max(); }\nt_T T MIN() { return numeric_limits<T>::min(); }\nconst int inf = (int) 1e9 + 100;\nconst ll linf = (ll) 1e18 + 100;\nt_T T INF() { return MAX<T>() / 2; }\ntemplate<> signed INF() { return inf; }\ntemplate<> ll INF() { return linf; }\ntemplate<> double INF() { return (double) linf * linf; }\n\nconst double eps = 1e-9;\nconst double PI = 3.1415926535897932384626433832795029L;\nll ma = numeric_limits<ll>::min();\nll mi = numeric_limits<ll>::max();\nconst int y4[] = {-1, 1, 0, 0};\nconst int x4[] = {0, 0, -1, 1};\nconst int y8[] = {0, 1, 0, -1, -1, 1, 1, -1};\nconst int x8[] = {1, 0, -1, 0, 1, -1, 1, -1};\n\n//マクロ省略形 関数等\n#define sz(a) ((int)(a).size())\n#define rs resize\n#define mp make_pair\n#define mt make_tuple\n#define pb push_back\n#define pf push_front\n#define eb emplace_back\n#define all(a) (a).begin(),(a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n\n/*@formatter:off*/\ninline void sort(string &a) { sort(all(a)); }\nt_T inline void sort(vector<T> &a) { sort(all(a)); };\nt_T inline void rsort(vector<T> &a) { sort(all(a), greater<T>()); };\ntemplate<class U> inline void sortp(vector<U> &a, vector<U> &b) {    vp c;    int n = sz(a);    assert(n == sz(b));    rep(i, n)c.eb(a[i], b[i]);    sort(c);    rep(i, n) {        a[i] = c[i].first;        b[i] = c[i].second;;    }};//F = T<T>\n//例えばreturn p.fi + p.se;\ntemplate<class U> inline void rsortp(vector<U> &a, vector<U> &b) {    vp c;    int n = sz(a);    assert(n == sz(b));    rep(i, n)c.eb(a[i], b[i]);    rsort(c);    rep(i, n) {        a[i] = c[i].first;        b[i] = c[i].second;    }};\ntemplate<typename V, typename T>\nvoid fill(V &xx, const T vall) {xx = vall;}\ntemplate<typename V, typename T>\nvoid fill(vector<V> &vecc, const T vall) {for (auto &&vx: vecc) fill(vx, vall);}\n\n//@汎用便利関数 入力\ntemplate<typename T = int> T _in() {T x;cin >> x;return (x);}\n#define _overloadin(_1, _2, _3, _4, name, ...) name\n#define in0() _in()\n#define in1(a) cin>>a\n#define in2(a, b) cin>>a>>b\n#define in3(a, b, c) cin>>a>>b>>c\n#define in4(a, b, c, d) cin>>a>>b>>c>>d\n#define in(...) _overloadin(__VA_ARGS__,in4,in3,in2 ,in1,in0)(__VA_ARGS__)\n\n#define _overloaddin(_1, _2, _3, _4, name, ...) name\n#define din1(a) int a;cin>>a\n#define din2(a, b) int a,b;cin>>a>>b\n#define din3(a, b, c) int a,b,c;cin>>a>>b>>c\n#define din4(a, b, c, d) int a,b,c,d;cin>>a>>b>>c>>d\n#define din(...) _overloadin(__VA_ARGS__,din4,din3,din2 ,din1)(__VA_ARGS__)\n\n#define _overloaddind(_1, _2, _3, _4, name, ...) name\n#define din1d(a) int a;cin>>a;a--\n#define din2d(a, b) int a,b;cin>>a>>b;a--,b--\n#define din3d(a, b, c) int a,b,c;cin>>a>>b>>c;a--,b--,c--\n#define din4d(a, b, c, d) int a,b,c,d;cin>>a>>b>>c>>d;;a--,b--,c--,d--\n#define dind(...) _overloaddind(__VA_ARGS__,din4d,din3d,din2d ,din1d)(__VA_ARGS__)\ntemplate<typename W, typename H> void resize(W &vec_, const H head) { vec_.resize(head); }\ntemplate<typename W, typename H, typename ... T> void resize(W &vec_, const H &head, const T ... tail) {vec_.resize(head);for (auto &v: vec_)resize(v, tail...);}\n\n\nstring sin() { return _in<string>(); }\nll lin() { return _in<ll>(); }\nt_T void na(vector<T> &a, ll n) {a.resize(n);rep(i, n)cin >> a[i];}\n#define dna(a, n) vi a; na(a, n);/*nを複数使うと n==in()の時バグる事に注意*/\n#define dnad(a, n) vi a; nad(a, n);\nt_T void nad(vector<T> &a, ll n) {a.resize(n);rep(i, n)cin >> a[i], a[i]--;}\ntemplate<class T, class U> void na2(vector<T> &a, vector<U> &b, ll n) {a.resize(n);b.resize(n);rep(i, n)cin >> a[i] >> b[i];}\n#define dna2(a, b, n) vi a,b; na2(a,b,n);\ntemplate<class T, class U, class W> void na3(vector<T> &a, vector<U> &b, vector<W> &c, ll n) {a.resize(n);b.resize(n);c.resize(n);rep(i, n)cin >> a[i] >> b[i] >> c[i];}\n#define nt(a, h, w) resize(a,h,w);rep(nthi,h)rep(ntwi,w) cin >> a[nthi][ntwi];\n#define ntd(a, h, w) resize(a,h,w);rep(ntdhi,h)rep(ntdwi,w) cin >> a[ntdhi][ntdwi], a[ntdhi][ntdwi]--;\n#define ntp(a, h, w) resize(a,h+2,w+2);fill(a,'#');rep(ntphi,1,h+1)rep(ntpwi,1,w+1) cin >> a[ntphi][ntpwi];\n#define dnt(S, h, w) vvi(S,h,w);nt(S,h,w);\n#define dntc(S, h, w) vvc(S,h,w);nt(S,h,w);\n#define dnts(S, h, w) vvs(S,h,w);nt(S,h,w);\n\n//デバッグ\n#define sp << \" \" <<\nconstexpr int DEB_LEN =20;\nconstexpr int DEB_LEN_H =12;\nstring deb_tos(const int &v) { if (abs(v) == inf || abs(v) == linf)return \"e\"; else return to_string(v); }\ntemplate<class T> string deb_tos(const T &a) {stringstream ss;ss << a;return ss.str();}\ntemplate<class T> string deb_tos(const vector<T> &a, ll W = inf) {    stringstream ss;    if (W == inf)W = min(sz(a), DEB_LEN);    if (sz(a) == 0)return ss.str();    rep(i, W) {        ss << deb_tos(a[i]);        if (typeid(a[i]) == typeid(P)) { ss << endl; } else { ss << \" \"; }    }    return ss.str();}\ntemplate<class T> string deb_tos(const vector<vector<T> > &a, vi H, vi W, int key = -1) {    stringstream ss;    ss << endl;    vi lens(sz(W));    fora(h, H) {        rep(wi, sz(W)) {            lens[wi] = max(lens[wi], sz(deb_tos(a[h][W[wi]])) + 1);            lens[wi] = max(lens[wi], sz(deb_tos(W[wi])) + 1);        }    }    if (key == -1)ss << \" *|\"; else ss << \" \" << key << \"|\";    int wi = 0;    fora(w, W) {        ss << std::right << std::setw(lens[wi]) << w;        wi++;    }    ss << \"\" << endl;    rep(i, sz(W))rep(_, lens[i]) ss << \"_\";    rep(i, 3)ss << \"_\";    ss << \"\" << endl;    fora(h, H) {        ss << std::right << std::setw(2) << h << \"|\";        int wi = 0;        fora(w, W) {            ss << std::right << std::setw(lens[wi]) << deb_tos(a[h][w]);            wi++;        }        ss << \"\" << endl;    }    return ss.str();}\ntemplate<class T> string deb_tos(const vector<vector<T> > &a, ll H = inf, ll W = inf, int key = -1) {    H = (H != inf) ? H : min({H, sz(a), DEB_LEN_H});    W = min({W, sz(a[0]), DEB_LEN_H});    vi hs, ws;    rep(h, H) { hs.push_back(h); }    rep(w, W) { ws.push_back(w); }    return deb_tos(a, hs, ws, key);}\ntemplate<class T> string deb_tos(const vector<vector<vector<T> > > &a, ll H = inf) {    stringstream ss;    if (H == inf)H = DEB_LEN_H;    H = min(H, sz(a));    rep(i, H) {        ss << endl;        ss << deb_tos(a[i], inf, inf, i);    }    return ss.str();}\ntemplate<class T, size_t A> string deb_tos(T (&a)[A]) { return deb_tos(vector<T>(begin(a), end(a))); }\ntemplate<class T, size_t A, size_t B> string deb_tos(T (&a)[A][B]) { return deb_tos(vector<vector<T> >(begin(a), end(a))); }\ntemplate<class T, size_t A, size_t B, size_t C> string deb_tos(T (&a)[A][B][C]) { return deb_tos(vector<vector<vector<T> > >(begin(a), end(a))); }\n\n#define debugName(VariableName) # VariableName\n\n#define _deb1(x) cerr <<  debugName(x)<<\" = \"<<deb_tos(x) << endl\n#define _deb2(x, y) cerr <<  debugName(x)<<\" = \"<<deb_tos(x)<<\", \"<< debugName(y)<<\" = \"<<deb_tos(y)<< endl\n#define _deb3(x, y, z) cerr <<  debugName(x)<<\" = \"<<deb_tos(x)  << \", \" <<  debugName(y)<<\" = \"<<deb_tos(y) <<\", \" debugName(z)<<\" = \"<<deb_tos(z) <<endl\n#define _deb4(x, y, z, a) cerr <<  debugName(x)<<\" = \"<<deb_tos(x) <<\", \" <<   debugName(y)<<\" = \"<<deb_tos(y) <<\", \" <<  debugName(z)<<\" = \"<<deb_tos(z) <<\", \" <<  debugName(a)<<\" = \"<<deb_tos(a)<<endl\n#define _deb5(x, y, z, a, b) cerr <<  debugName(x)<<\" = \"<<deb_tos(x) <<\", \" <<   debugName(y)<<\" = \"<<deb_tos(y) <<\", \" <<  debugName(z)<<\" = \"<<deb_tos(z) <<\", \" <<  debugName(a)<<\" = \"<<deb_tos(a)<<\", \" <<  debugName(b)<<\" = \"<<deb_tos(b)<<endl\n\n\n#define _overloadebug(_1, _2, _3, _4, _5, name, ...) name\n#define debug(...) _overloadebug(__VA_ARGS__,_deb5,_deb4,_deb3,_deb2,_deb1)(__VA_ARGS__)\n#ifdef _DEBUG\n#define deb(...) _overloadebug(__VA_ARGS__,_deb5,_deb4,_deb3,_deb2,_deb1)(__VA_ARGS__)\n#else\n#define deb(...) ;\n#endif\n\n\n#define debugline(x) cerr << x << \" \" << \"(L:\" << __LINE__ << \")\" << '\\n'\n\n\nll gcd(ll a, ll b) { return b ? gcd(b, a % b) : a; }\nll gcd(vi b) {ll res = b[0];for (auto &&v :b)res = gcd(v, res);return res;}\nll lcm(ll a, ll b) { return a / gcd(a, b) * b; }\nll rev(ll a) {    ll res = 0;    while (a) {        res *= 10;        res += a % 10;        a /= 10;    }    return res;}\ntemplate<class T> auto rev(const T &v, int i) {return v[sz(v) - 1 - i];}\nt_T vector<T> rev(vector<T> &a) {    auto b = a;    reverse(all(b));    return b;}\nstr rev(str &a) {str s = a;reverse(all(s));return s;}\nll ceil(ll a, ll b) {if (b == 0) {cerr<<\"ceil\"<<endl;exit(1);return -1;} else return (a + b - 1) / b;}\nll sqrt(ll a) {    if (a < 0) {        cerr<<\"sqrt\"<<endl;        exit(1);    }    ll res = (ll) std::sqrt(a);    while (res * res < a)res++;    return res;}\ndouble log(double e, double x) { return log(x) / log(e); }\nll sig(ll t) { return (1 + t) * t / 2; }\nll sig(ll s, ll t) { return (s + t) * (t - s + 1) / 2; }\n\nvi divisors(int v) {    vi res;    double lim = std::sqrt(v);    rep(i, 1, lim+1){        if (v % i == 0) {            res.pb(i);            if (i != v / i)res.pb(v / i);        }    }    return res;}\nvb isPrime;\nvi primes;\n\nvoid setPrime() {    int len = 4010101;    isPrime.resize(4010101);    fill(isPrime, true);    isPrime[0] = isPrime[1] = false;    for (int i = 2; i <= sqrt(len) + 5; ++i) {        if (!isPrime[i])continue;        for (int j = 2; i * j < len; ++j) {            isPrime[i * j] = false;        }    }    rep(i, len)if (isPrime[i])primes.pb(i);}\n\nvi factorization(int v) {    int tv = v;    vi res;    if (isPrime.size() == 0)setPrime();    for (auto &&p :primes) {        if (v % p == 0)res.push_back(p);        while (v % p == 0) {            v /= p;        }        if (v == 1 || p * p > tv)break;    }    if (v > 1)res.pb(v);    return res;}\ninline bool inside(int h, int w, int H, int W) { return h >= 0 && w >= 0 && h < H && w < W; }\ninline bool inside(int v, int l, int r) { return l <= v && v < r; }\n\n\nt_T vector<T> ruiv(vector<T> &a) {    vector<T> ret(a.size() + 1);    rep(i, a.size())ret[i + 1] = ret[i] + a[i];    return ret;}\n//imoは0-indexed\n//ruiは1-indexed\nt_T vector<T> imo(vector<T> &v) {    vector<T> ret = v;    rep(i, sz(ret) - 1)ret[i + 1] += ret[i];    return ret;}\n\n#define ins inside\nll u0(ll a) { return a < 0 ? 0 : a; }\nt_T vector<T> u(const vector<T> &a) {\n    vector<T> ret = a;fora(v, ret)v = u0(v);return ret;}\n#define MIN(a) numeric_limits<a>::min()\n#define MAX(a) numeric_limits<a>::max()\ntemplate<class T, class U> pair<T,U> operator+(const pair<T,U> &a, const pair<T,U> & b) {return pair<T,U>(a.fi+b.fi,a.se+b.se);}\n\nvoid yn(bool a) {\n    if (a)cout << \"yes\" << endl;\n    else cout << \"no\" << endl;\n}\nvoid Yn(bool a) {\n    if (a)cout << \"Yes\" << endl;\n    else cout << \"No\" << endl;\n}\nvoid YN(bool a) {\n    if (a)cout << \"YES\" << endl;\n    else cout << \"NO\" << endl;\n}\nvoid fyn(bool a) {\n    if (a)cout << \"yes\" << endl;\n    else cout << \"no\" << endl;\n    exit(0);\n}\nvoid fYn(bool a) {\n    if (a)cout << \"Yes\" << endl;\n    else cout << \"No\" << endl;\n    exit(0);\n}\nvoid fYN(bool a) {\n    if (a)cout << \"YES\" << endl;\n    else cout << \"NO\" << endl;\n    exit(0);\n}\nvoid Possible(bool a) {\n    if (a)cout << \"Possible\" << endl;\n    else cout << \"Impossible\" << endl;\n    exit(0);\n}\nvoid POSSIBLE(bool a) {\n    if (a)cout << \"POSSIBLE\" << endl;\n    else cout << \"IMPOSSIBLE\" << endl;\n    exit(0);\n}\ntemplate<class T, class U> set<T> &operator+=(set<T> &a, U v) {\n    a.insert(v);\n    return a;\n}\ntemplate<class T, class U> vector<T> &operator+=(vector<T> &a, U v) {\n    a.push_back(v);\n    return a;\n}\ntemplate<class T> vector<T>& operator+=(vector<T> & a,const vector<T> & b){\n    rep(i, sz(b))a += b[i];\n    return a;\n}\nt_T T sum(vector<T> &v, int s = 0, int t = inf) {    T ret = 0;    rep(i, s, min(sz(v), t))ret += v[i];    return ret;}\nvoid mod(int &a, int m) { a = (a % m + m) % m; }\ntemplate<class F> inline int mgr(int ok, int ng, F f) {\n#define _mgrbody int mid = (ok + ng) / 2; if (f(mid))ok = mid; else ng = mid;\n    if (ok < ng)while (ng - ok > 1) { _mgrbody } else while (ok - ng > 1) { _mgrbody }\n    return ok;\n}\n\ntemplate<class F> inline int mgr(int ok, int ng, int second, F f) {\n#define _mgrbody2 int mid = (ok + ng) / 2; if (f(mid, second))ok = mid; else ng = mid;\n    if (ok < ng) while (ng - ok > 1) { _mgrbody2 } else while (ok - ng > 1) { _mgrbody2 }\n    return ok;\n}\ntemplate<typename T> ostream &operator<<(ostream &os, vector<T> &m) {    rep(i, sz(m)){os << m[i];if(i < sz(m)-1)os<<\" \";}   return os;}\nostream &operator<<(ostream &os, vector<char> &m) {rep(i, sz(m)){os << m[i];}   return os;}\ntemplate<typename T> ostream &operator<<(ostream &os, vector<vector<T>> &m) {rep(i, sz(m)){os << m[i]; if(i < sz(m)-1)os << endl;}   return os;}\nconstexpr bool bget(ll m, int keta) { return (m >> keta) & 1; }\nint bget(ll m, int keta, int sinsuu) {m /= (ll) pow(sinsuu, keta);return m % sinsuu;}\nll bit(int n) { return (1LL << (n)); }\nll bit(int n, int sinsuu) { return (ll) pow(sinsuu, n); }\nint mask(int n) { return (1ll << n) - 1; }\n#define bcou __builtin_popcountll\ntemplate<class T, class U> inline bool chma(T &a, const U &b) {if (a < b) {a = b;return true;}return false;}\ntemplate<class U> inline bool chma(const U &b) { return chma(ma, b); }\ntemplate<class T, class U> inline bool chmi(T &a, const U &b) {    if (b < a) {        a = b;        return true;    }    return false;}\ntemplate<class U> inline bool chmi(const U &b) { return chmi(mi, b); }\n#define unique(v) v.erase( unique(v.begin(), v.end()), v.end() );\nint max(vi &a) {    int res = a[0];    fora(v, a) {        res = max(res, v);    }    return res;}\nint min(vi &a) {    int res = a[0];    fora(v, a) {        res = min(res, v);    }    return res;}\ntemplate<typename T> class fixed_point        : T {public:    explicit constexpr fixed_point(T &&t) noexcept: T(std::forward<T>(t)) {}    template<typename... Args> constexpr decltype(auto) operator()(Args &&... args) const { return T::operator()(*this, std::forward<Args>(args)...); }};template<typename T> static inline constexpr decltype(auto) fix(T &&t) noexcept { return fixed_point<T>{std::forward<T>(t)}; }\nconstexpr ll h4[] = {1, -1, 0, 0};\nconstexpr ll w4[] = {0, 0, -1, 1};\nconstexpr ll h8[] = {0, 1, 0, -1, -1, 1, 1, -1};\nconstexpr ll w8[] = {1, 0, -1, 0, 1, -1, 1, -1};\nint mei_inc(int h, int w, int H, int W, int i) {while (++i < 4) { if (inside(h + h4[i], w + w4[i], H, W))return i; }return i;}\n#define mei(nh, nw, h, w) for (int i = mei_inc(h, w, H, W, -1), nh = i<4? h + h4[i] : 0, nw = i<4? w + w4[i] : 0; i < 4; i=mei_inc(h,w,H,W,i), nh = h+h4[i], nw = w+w4[i])\nint mei_inc8(int h, int w, int H, int W, int i) {    while (++i < 8) {        if (inside(h + h8[i], w + w8[i], H, W))return i;    }    return i;}\n#define mei8(nh, nw, h, w) for (int i = mei_inc8(h, w, H, W, -1), nh = i<8? h + h8[i] : 0, nw = i<8? w + w8[i] : 0; i < 8; i=mei_inc8(h,w,H,W,i), nh = h+h8[i], nw = w+w8[i])\nint mei_incv(int h, int w, int H, int W, int i, vp &p) {    while (++i < sz(p)) { if (inside(h + p[i].fi, w + p[i].se, H, W))return i; }    return i;}\n#define meiv(nh, nw, h, w, p) for (int i = mei_incv(h, w, H, W, -1, p), nh = i<sz(p)? h + p[i].fi : 0, nw = i<sz(p)? w + p[i].se : 0; i < sz(p); i=mei_incv(h,w,H,W,i,p), nh = h+p[i].fi, nw = w+p[i].se)\nvi compress(vi &A) {    vi B = A;    sort(B);    unique(B);    vi inds(sz(B));    rep(i, sz(A)) {        int ind = lower_bound(all(B), A[i]) - B.begin();        inds[ind] = A[i];        A[i] = ind;    }    return inds;}\nvi compress(vi &A, umapi& map){    vi i_v = compress(A);    rep(i, sz(i_v)){        map[i_v[i]] = i;    }    return i_v;}\n\nt_T void out2(T head) {    cout << head;}\ntemplate<class T, class... U> void out2(T head, U ... tail) {    cout << head << \" \";      out2(tail...);}\ntemplate<class T, class... U> void out(T head, U ... tail) {    cout << head << \" \";        out2(tail...);    cout << \"\" << endl;}\nt_T void out(T head) {    cout << head << endl; }\nvoid out() { cout << \"\" << endl; }\n#define lowerIndex(a, v) (lower_bound(all(a),v)-a.begin())\n#define upperIndex(a, v) (uppereturnbound(all(a),v)-a.begin())\ntemplate<typename T> vector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate<typename T, typename... Ts> auto make_v(size_t a, Ts... ts) { return vector<decltype(make_v<T>(ts...))>(a, make_v<T>(ts...)); }\n#define vni(name, ...) auto name = make_v<ll>(__VA_ARGS__)\n#define vnb(name, ...) auto name = make_v<bool>(__VA_ARGS__)\n#define vns(name, ...) auto name = make_v<string>(__VA_ARGS__)\n#define vnd(name, ...) auto name = make_v<double>(__VA_ARGS__)\n#define vnc(name, ...) auto name = make_v<char>(__VA_ARGS__)\n#define vnp(name, ...) auto name = make_v<P>(__VA_ARGS__)\n#define vn(type, name, ...) auto name = make_v<type>(__VA_ARGS__)\n#define VEC vector\n\n/*@formatter:on*/\nint N, M, H, W;\nvi A, B, C;\n\n//14:48\nvoid solve() {\n    in(N, M);\n    na(A, N);\n    vi R_;\n    na(R_, M);\n    vi to;\n    rep(i, M) {\n        rep(_, R_[i]) {\n            to += i % 2;\n        }\n    }\n    deb(A);\n    //1を左に動かす\n    auto check = [&]() {\n        vi tis;\n        vi fis;\n        rep(i, N) {\n            if (to[i]) tis += i;\n            if (A[i])fis += i;\n        }\n        if (sz(tis) != sz(fis))return linf;\n        deb(fis);\n        deb(tis);\n        int ret = 0;\n        rep(i, sz(tis)) {\n            ret += abs(fis[i] - tis[i]);\n        }\n        return ret;\n    };\n    int res = linf;\n    deb(to);\n    chmi(res, check());\n    fora(r, to)r ^= 1;\n    deb(to);\n    chmi(res, check());\n    out(res);\n\n}\n\nsigned main() {\n    solve();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n#include <complex>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n\ntypedef complex<double> Point;\nconst static double EPS = 1e-12;\n\nclass State {\npublic:\n  int bits;\n  int cost;\n  State(int bits,int cost) :\n    bits(bits), cost(cost) {}\n  bool operator<(const State& s) const {\n    return cost < s.cost;\n  }\n  bool operator>(const State& s) const {\n    return cost > s.cost;\n  }\n};\n\nint dp[1<<15];\n\nint main(){\n  int bit_length;\n  int run_length;\n  while(~scanf(\"%d %d\",&bit_length,&run_length)){\n    int init = 0;\n    for(int i = 0; i < bit_length; i++){\n      int bit;\n      scanf(\"%d\",&bit);\n      if(bit > 0) init |= (1<<i);\n    }\n    \n    vector<int> width;\n    for(int i = 0; i < run_length; i++){\n      int run;\n      scanf(\"%d\",&run);\n      width.push_back(run);\n    }\n\n    priority_queue<State,vector<State>,greater<State> > que;\n    que.push(State(init,0));\n    memset(dp,0x3f,sizeof(dp));\n    dp[init] = 0;\n\n    while(!que.empty()){\n      State s = que.top();\n      que.pop();\n      for(int i = 0; i < bit_length; i++){\n        for(int j = i + 1; j < bit_length; j++){\n          int next = s.bits;\n          if((s.bits & (1<<i)) && !(s.bits & (1<<j))){\n            next &= ~(1<<i);\n            next |= (1<<j);\n            if(dp[next] > s.cost + 1){\n              dp[next] = s.cost + 1;\n              que.push(State(next,s.cost + 1));\n            }\n          }\n          else if(!(s.bits & (1<<i)) && (s.bits & (1<<j))){\n            next &= ~(1<<j);\n            next |= (1<<i);\n            if(dp[next] > s.cost + 1){\n              dp[next] = s.cost + 1;\n              que.push(State(next,s.cost + 1));\n            }\n          }\n        }\n      }\n    }\n    \n    int res = INF;\n    for(int S = 0; S < (1<<bit_length); S++){\n      int offset = 0;\n      bool isok = true;\n      for(int i = 0; i < width.size(); i++){\n        if(offset > 0 && ((S >> offset) & 1) == ((S >> (offset-1)) & 1)){\n          isok = false;\n          break;\n        }\n        for(int j = offset; j + 1 < offset + width[i]; j++){\n          if(((S >> j) & 1) != ((S >> (j+1)) & 1)){\n            isok = false;\n            break;\n          }\n        }\n        offset += width[i];\n        if(!isok) break;\n      }\n\n      if(isok){\n        // for(int i = 0; i < bit_length; i++){\n        //   printf(\"%d\",(S & (1<<i)) ? 1 : 0);\n        // }\n        // printf(\"\\n\");\n        res = min(dp[S],res);\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\n#define REP(i,a,b) for(int i=int(a);i<int(b);i++)\n\nusing namespace std;\n\ntypedef long long int lli;\n\nint bitSwap(int num, int p) {\n    int t = (num >> p) & 1;\n    num -= (t << p);\n    int e = (num >> (p + 1)) & 1;\n    num -= (e << (p + 1));\n    return num + (t << (p + 1)) + (e << p);\n}\n\nint main () {\n    int n, m;\n    cin >> n >> m;\n    int num = 0;\n    REP (i, 0, n) {\n        int bit;\n        cin >> bit;\n        num = (num << 1) + bit;\n    }\n    int s0 = 0, s1 = 0;\n    REP (i, 0, m) {\n        int p;\n        cin >> p;\n        REP (j, 0, p) {\n            s0 = (s0 << 1) + (i % 2);\n            s1 = (s1 << 1) + !(i % 2);\n        }\n    }\n    int size = 1 << n;\n    const int inf = 1 << 30;\n    vector<int> dp(size, inf);\n    dp[s0] = dp[s1] = 0;\n    bool run = true;\n    while (run) {\n        run = false;\n        REP (i, 0, size) {\n            if (dp[i] == inf) continue;\n            REP (j, 0, n - 1) {\n                int t = bitSwap(i, j);\n                if (dp[t] > dp[i] + 1) {\n                    dp[t] = dp[i] + 1;\n                    run = true;\n                }\n            }\n        }\n    }\n    cout << dp[num] << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <complex>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <iomanip>\n#include <assert.h>\n#include <array>\n#include <cstdio>\n#include <cstring>\n#include <random>\n#include <functional>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\nstruct before_main{before_main(){cin.tie(0); ios::sync_with_stdio(false);}} before_main;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nint main() {\n\n  int N, M; cin >> N >> M;\n  vector<int> b(N);\n  rep(i, N) cin >> b[i];\n  vector<int> tb1, tb2;\n  int flag = 0;\n  rep(i, M) {\n    int p; cin >> p;\n    rep(j, p) {\n      tb1.push_back(flag);\n      tb2.push_back(flag^1);\n    }\n    flag ^= 1;\n  }\n  set<vector<int>> st = {b};\n  queue<pair<vector<int>, int>> q;\n  q.emplace(b, 0);\n\n  auto check_run_length = [&](vector<int>& v) {\n    return v == tb1 || v == tb2;\n  };\n\n  while(!q.empty()) {\n    vector<int> p; int cost; tie(p, cost) = q.front(); q.pop();\n    if(check_run_length(p)) { cout << cost << endl; return 0; }\n    rep(i, N-1) {\n      swap(p[i], p[i+1]);\n      if(!st.count(p)) {\n        q.emplace(p, cost + 1);\n        st.insert(p);\n      }\n      swap(p[i], p[i+1]);\n    }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define Rep(i,a,b) for(int i=a;i<b;i++)\n#define REP(i,a,b) for(int i=a;i<=b;i++)\n#define itrep(it,v) for(auto it=(v).begin();it!=(v).end();it++)\n#define rev(i,n) for(int i=n-1;i>=0;i--)\n#define vi vector<int>\n#define pb push_back\n#define pi pair<int,int>\n#define vp vector<pair<int,int> >\n#define mp make_pair\n#define all(v) (v).begin(),(v).end()\nusing namespace std;\n\nint ans=1000000000000000ll;\nvoid foo(int n,vi b,vi a){\n    int c=0;\n    rep(i,n){\n        if(b[i]!=a[i]){\n            int j;\n            for(j=i+1;j<n&&b[j]!=a[i];j++);\n            if(j==n)return;\n            for(;j>i;j--)swap(b[j],b[j-1]),c++;\n        }\n    }\n    ans=min(ans,c);\n}\n            \nsigned main(){\n    int n,m;\n    cin>>n>>m;\n    vi b(n);\n    rep(i,n)cin>>b[i];\n    vi p(m);\n    rep(i,m)cin>>p[i];\n    vi a(n);\n    int c=0;\n    int f=0;\n    rep(i,m){\n        rep(j,p[i]){\n            a[c++]=f;\n        }\n        f=!f;\n    }\n    foo(n,b,a);\n    rep(i,n)a[i]=!a[i];\n    foo(n,b,a);\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n#include <complex>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n\ntypedef complex<double> Point;\nconst static double EPS = 1e-12;\n\nclass State {\npublic:\n  int bits;\n  int cost;\n  State(int bits,int cost) :\n    bits(bits), cost(cost) {}\n  bool operator<(const State& s) const {\n    return cost < s.cost;\n  }\n  bool operator>(const State& s) const {\n    return cost > s.cost;\n  }\n};\n\nint dp[1<<15];\n\nint main(){\n  int bit_length;\n  int run_length;\n  while(~scanf(\"%d %d\",&bit_length,&run_length)){\n    int init = 0;\n    for(int i = 0; i < bit_length; i++){\n      int bit;\n      scanf(\"%d\",&bit);\n      if(bit > 0) init |= (1<<i);\n    }\n    \n    vector<int> width;\n    for(int i = 0; i < run_length; i++){\n      int run;\n      scanf(\"%d\",&run);\n      width.push_back(run);\n    }\n\n    priority_queue<State,vector<State>,greater<State> > que;\n    que.push(State(init,0));\n    memset(dp,0x3f,sizeof(dp));\n    dp[init] = 0;\n\n    while(!que.empty()){\n      State s = que.top();\n      que.pop();\n      for(int i = 0; i < bit_length; i++){\n        for(int j = i + 1; j < bit_length; j++){\n          int next = s.bits;\n          if((s.bits & (1<<i)) && !(s.bits & (1<<j))){\n            next &= ~(1<<i);\n            next |= (1<<j);\n            if(dp[next] > s.cost){\n              que.push(State(next,s.cost + 1));\n            }\n          }\n          else if(!(s.bits & (1<<i)) && (s.bits & (1<<j))){\n            next &= ~(1<<i);\n            next |= (1<<j);\n            if(dp[next] > s.cost){\n              dp[next] = s.cost;\n              que.push(State(next,s.cost + 1));\n            }\n          }\n        }\n      }\n    }\n    \n    int res = INF;\n    for(int S = 0; S < (1<<bit_length); S++){\n      int offset = 0;\n      bool isok = true;\n      for(int i = 0; i < width.size(); i++){\n        if(offset > 0 && ((S >> offset) & 1) == ((S >> (offset-1)) & 1)){\n          isok = false;\n          break;\n        }\n        for(int j = offset; j + 1 < offset + width[i]; j++){\n          if(((S >> j) & 1) != ((S >> (j+1)) & 1)){\n            isok = false;\n            break;\n          }\n        }\n        offset += width[i];\n        if(!isok) break;\n      }\n\n      if(isok){\n        // for(int i = 0; i < bit_length; i++){\n        //   printf(\"%d\",(S & (1<<i)) ? 1 : 0);\n        // }\n        // printf(\"\\n\");\n        res = min(dp[S],res);\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<list>\n#include<algorithm>\n#include <utility>\n#include<stdio.h>\n\nusing namespace std;\n\nint main(void){\n    int n,m;\n    int b[15]={},q[15]={};\n    int i,j,k,a[2] = {},s0 = 0,s1 = 0;\n    cin >> n >> m;\n    for(i = 0;i < n;i++){\n        cin >> b[i];\n        if(b[i]) s1++;\n    }\n    for(i = 0,k = 0;i < m;i++){\n        cin >> j;\n        k += j;\n        for(;j > 0;j--){\n            q[k-j] = i%2;\n            if(q[k-j]) s0++;\n        }\n    }\n    if(s0 == s1){\n        for(i = 0,j = 0;i < n;i++){\n            if(b[i]){\n                while(!q[j]) j++;\n                a[0] += abs(i-j);\n                j++;\n            }\n        }\n    }\n    if(n-s1 == s0){\n        for(i = 0,j = 0;i < n;i++){\n            if(b[i]){\n                while(q[j]) j++;\n                a[1] += abs(i-j);\n                j++;\n            }\n        }\n    }\n    cout << min(a[0],a[1]) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint solve(int bit1,int bit2,int n){\n\tvector<int> done(65536,1e9);\n\tqueue<int> Q;\n\tQ.push(bit1);\n\tdone[bit1] = 0;\n\twhile( Q.size() ){\n\t\tint q = Q.front(); Q.pop();\n\t\tfor(int i = 1 ; i < n ; i++){\n\t\t\tif( (q >> (i-1) & 3) == 0 || (q >> (i-1) & 3) == 3 ) continue;\n\t\t\tint nex = q^(3 << (i-1));\n\t\t\tif( done[nex] == 1e9 ){\n\t\t\t\tdone[nex] = done[q] + 1;\n\t\t\t\tQ.push(nex);\n\t\t\t}\n\t\t}\n\t}\n\treturn done[bit2];\n}\nint main(){\n\tint n,m;\n\tcin >> n >> m;\n\tint a = 0;\n\tfor(int i = 0 ; i < n ; i++){\n\t\tint t; cin >> t;\n\t\ta = 2*a + t;\n\t}\n\tint b = 0;\n\t\n\tint l = 0;\n\tfor(int i = 0 ; i < m ; i++){\n\t\tint t; cin >> t;\n\t\twhile(t--) b = b * 2 + (i&1);\n\t}\n\tcout << min( solve(a,b,n), solve(a,b^((1<<n)-1),n) ) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 100000000;\nusing namespace std;\n\nint find(int a, vector<int> b, int i){\n    for(int j = i; j <= INF; j++){\n        if(b[j] == a) return j;\n    }\n    return INF;\n}\n\nbool check(int a[15], vector<int> b, int n){\n    int A = 0, B = 0;\n    rep(i,n){\n        if(a[i] == 1) A++;\n        if(b[i] == 1) B++;\n    }\n    return (A != B);\n}\n\nint countSwap(int a[15], vector<int> b, int n){\n    if(check(a, b, n)) return INF;\n\n    int ret = 0;\n    rep(i,n){\n        if(a[i] != b[i]){\n            int p = find(a[i], b, i);\n            ret += p - i;\n\n            int temp = b[i];\n            b[i] = b[p];\n            b[p] = temp;\n        }\n    }\n    return ret;\n}\n\nint main(){\n    int n, m;\n    int b[15], p[15];\n\n    cin >> n >> m;\n    rep(i,n) cin >> b[i];\n    rep(i,m) cin >> p[i];\n\n    vector<int> v0;\n    vector<int> v1;\n\n    int temp = 1;\n    rep(i,m){\n        rep(j,p[i]){\n            v0.emplace_back((temp + 1) % 2);\n            v1.emplace_back(temp);\n        }\n        if(temp == 1) temp = 0;\n        else temp = 1;\n    }\n    cout << min(countSwap(b, v0, n), countSwap(b, v1, n)) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<queue>\nusing namespace std;\nint N,M;\nint a,b,si,ti,ti2;\n\nint sw(int S,int i,int j){\n  int I=(S>>i&1);\n  int J=(S>>j&1);\n  S-=(I<<i);\n  S+=(J<<i);\n  S-=(J<<j);\n  S+=(I<<j);\n  return S;\n}\n\nint d[(1<<16)];\nint bfs(){\n  for(int i=0;i<(1<<16);i++)d[i]=-1;\n  queue<int> Q;\n  Q.push(si);\n  d[si]=0;\n  while(!Q.empty()){\n    int S=Q.front();Q.pop();\n    if(S==ti||S==ti2){\n      return d[S];\n    }\n    for(int i=0;i+1<N;i++){\n      int to=sw(S,i,i+1);\n      if(d[to]==-1){\n\td[to]=d[S]+1;\n\tQ.push(to);\n      }\n    }\n  }\n}\n\nint main(){\n  cin>>N>>M;\n  si=ti=ti2=0;\n  for(int i=0;i<N;i++){\n    cin>>a;\n    si=si*2+a;\n  }\n  for(int i=0;i<M;i++){\n    cin>>a;\n    b=i%2;\n    for(int j=0;j<a;j++){\n      ti=ti*2+b;\n      ti2=ti2*2+1-b;\n    }\n  }\n  cout<<bfs()<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "testing"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nint main(void)\n{\n  int n,m;\n  cin >> n >> m;\n  vector<int> a;\n  vector<int> b;\n  vector<int> c;\n  REP(i,n){\n    int tmp;\n    cin >> tmp;\n    if(tmp==1) a.push_back(i);\n  }\n  int len=0;\n  REP(i,m){\n    int tmp;\n    cin >> tmp;\n    REP(j,tmp){\n      if(i%2) b.push_back(len+j);\n      else c.push_back(len+j);\n    }\n    len+=tmp;\n  }\n  int answer=1024;\n  if(a.size()==b.size()){\n    int pena=0;\n    REP(i,a.size()) pena+=abs(a[i]-b[i]);\n    answer=min(answer,pena);\n  }\n  if(a.size()==c.size()){\n    int pena=0;\n    REP(i,a.size()) pena+=abs(a[i]-c[i]);\n    answer=min(answer,pena);\n  }\n  cout << answer << endl;\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define repp(i, l, r) for(int i = (l); i < (r); i++)\n#define per(i, n) for(int i = ((n)-1); i >= 0; i--)\n#define perr(i, l, r) for(int i = ((r)-1); i >= (l); i--)\n#define all(x) (x).begin(),(x).end()\n#define MOD 1000000007\n#define IINF 1000000000\n#define LINF 1000000000000000000\n#define SP <<\" \"<<\n#define CYES cout<<\"Yes\"<<endl\n#define CNO cout<<\"No\"<<endl\n#define CFS cin.tie(0);ios::sync_with_stdio(false)\n\ntypedef long long LL;\ntypedef long double LD;\n\nint main(){\n  int n,m;\n  cin >> n >> m;\n  vector<int> b(n);\n  vector<int> v;\n  rep(i,n){\n    cin >> b[i];\n    if(b[i]){\n      v.push_back(i);\n    }\n  }\n  vector<int> p(m);\n  rep(i,m) cin >> p[i];\n\n  vector<int> a;\n  int now=0;\n  rep(i,m){\n    rep(j,p[i]) a.push_back(now);\n    now=1-now;\n  }\n  vector<int> va,vb;\n  rep(i,n){\n    if(a[i]){\n      va.push_back(i);\n    }else{\n      vb.push_back(i);\n    }\n  }\n  int ans=IINF,tmp;\n  if(va.size()==v.size()){\n    tmp=0;\n    rep(i,v.size()) tmp+=abs(va[i]-v[i]);\n    ans=min(ans,tmp);\n  }\n  if(vb.size()==v.size()){\n    tmp=0;\n    rep(i,v.size()) tmp+=abs(vb[i]-v[i]);\n    ans=min(ans,tmp);\n  }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint solve(string bit,string tar){\n\tint n=tar.size();\n\tint ans=0;\n\tfor(int i=0;i<n;++i){\n\t\tif(bit[i]==tar[i])\n\t\t\tcontinue;\n\t\tfor(int j=i+1;j<n;++j){\n\t\t\tif(bit[j]==tar[i]){\n\t\t\t\tfor(int k=j;k>i;--k)\n\t\t\t\t\tans++,swap(bit[k],bit[k-1]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(tar!=bit)\n\t\treturn inf;\n\telse\n\t\treturn ans;\n}\n\nint rsolve(string bit,string tar){\n\tint n=tar.size();\n\tint ans=0;\n\tfor(int i=n-1;i>=0;--i){\n\t\tif(bit[i]==tar[i])\n\t\t\tcontinue;\n\t\tfor(int j=i-1;j>=0;--j){\n\t\t\tif(bit[j]==tar[i]){\n\t\t\t\tfor(int k=j;k<i;++k)\n\t\t\t\t\tans++,swap(bit[k],bit[k+1]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(tar!=bit)\n\t\treturn inf;\n\telse\n\t\treturn ans;\n}\n\nint main(void){\n\tint n,m;\n\tcin >> n >> m;\n\tstring bit=\"\";\n\n\trep(i,n){\n\t\tint in;\n\t\tcin >> in;\n\t\tbit+=(in+'0');\n\t}\n\n\tstring one=\"\",zero=\"\";\n\trep(i,m){\n\t\tint in;\n\t\tcin >> in;\n\t\tif(i&1){\n\t\t\trep(j,in) one+=\"0\";\n\t\t\trep(j,in) zero+=\"1\";\n\t\t}else{\n\t\t\trep(j,in) one+=\"1\";\n\t\t\trep(j,in) zero+=\"0\";\n\t\t}\n\t}\n\n\tint ans=min(solve(bit,zero),solve(bit,zero));\n\tint rans=min(rsolve(bit,zero),rsolve(bit,one));\n\treverse(all(bit));\n\treverse(all(zero));\n\treverse(all(one));\n\n\tans=min(ans,min(solve(bit,zero),solve(bit,zero)));\n\trans=min(rans,min(rsolve(bit,zero),rsolve(bit,one)));\n\t\n\n\tcout << min(ans,rans) << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi acos(-1.0)\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nint main(){\n\tint n, m;\n\tcin >> n >> m;\n\tVI b(n), p(m);\n\tREP(i,n) cin >> b[i];\n\tREP(i,m) cin >> p[i];\n\tint ones = 0;\n\tREP(i,n) ones += b[i];\n\tVI t(n);\n\tint x = p[0];\n\tFOR(i,1,m-1){\n\t\tFOR(j,x,x+p[i]-1){\n\t\t\tt[j] = t[x-1] ^ 1;\n\t\t}\n\t\tx += p[i];\n\t}\n\n\tint ans = 1e9;\n\tint s1 = 0, res1 = 0;\n\tint s2 = 0, res2 = 0;\n\tREP(i,n){\n\t\ts1 += b[i] - t[i];\n\t\tres1 += abs(s1);\n\t\ts2 += b[i] - (t[i] ^ 1);\n\t\tres2 += abs(s2);\n\t}\n\tif (s1 == 0) ans = min(ans, res1);\n\tif (s2 == 0) ans = min(ans, res2);\n\n\tcout << ans << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>  \nusing namespace std;\nconst int INF = 999;\n//世界一競技プログラミングができない人のソース\nint N, M, b, Exit, mask;\nint v[1 << 15];\nint ret;\nvoid rec(int digit, int cnt){\n  if(cnt >= ret) return;\n  if(digit == Exit || digit == ((~Exit) & mask)){\n    ret = min( ret, cnt);\n    return;\n  } else if(v[digit & mask] <= cnt){\n    return;\n  } else {\n    v[digit] = cnt;\n    const int prev = digit;\n    for(int i = 0; i < N - 1; ++i){\n      digit &= ~(3 << i);\n      digit |= ((prev >> i) & 1) << (i + 1);\n      digit |= ((prev >> (i + 1)) & 1) << i;\n      rec( digit, cnt + 1);\n      digit = prev;\n    }\n  }\n}\n\nint main(){\n  fill_n( v, 1 << 15, INF);\n  ret = INF;\n\n  cin >> N >> M;\n  mask = (1 << N) - 1;\n  for(int i = 0; i < N; ++i){\n    bool d;\n    cin >> d;\n    b |= d << (N - i - 1);\n  }\n  int cnt = 0;\n  bool flip = false;\n  for(int i = 0; i < M; ++i){\n    int p;\n    cin >> p;\n    while(p--){\n      Exit |= (int)flip << (N - cnt - 1);\n      ++cnt;\n    }\n    flip ^= 1;\n  }\n  rec(b, 0);\n  cout << ret << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#include <map>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tvector<int>start(n),end1(n),end2(n);\n\tfor(int i=0;i<n;i++)scanf(\"%d\",&start[i]);\n\t{\n\t\tvector<int>p(m);\n\t\tfor(int i=0;i<m;i++)scanf(\"%d\",&p[i]);\n\t\tfor(int i=0,c=0,x=0;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end1[c]=x;\n\t\tfor(int i=0,c=0,x=1;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end2[c]=x;\n\t}\n\tmap<vector<int>,int>depth;\n\tqueue<vector<int> >q;\n\tdepth[start]=1,depth[end1]=depth[end2]=-1;\n\tq.push(start),q.push(end1),q.push(end2);\n\tfor(;!q.empty();){\n\t\tvector<int>cur=q.front();q.pop();\n\t\tint d=depth[cur];\n\t\tfor(int i=0;i<n-1;i++)if(cur[i]!=cur[i+1]){\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t\tmap<vector<int>,int>::iterator it=depth.find(cur);\n\t\t\tif(it==depth.end()){\n\t\t\t\tdepth[cur]=d+(d>0?1:-1);\n\t\t\t\tq.push(cur);\n\t\t\t}else if(it->second*d<0){\n\t\t\t\td-=it->second;\n\t\t\t\tif(d<0)d=-d;\n\t\t\t\tprintf(\"%d\\n\",d-1);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t}\n\t}\n\tputs(\"0\");\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <functional>\nusing namespace std;\n\nint main() {\n  int N, M; cin >> N >> M;\n  vector<int> target(N);\n  for(int i = 0; i < N; ++i) {\n    cin >> target[i];\n  }\n  int minimum = 1e9;\n  vector<int> runlength(M);\n  for(int i = 0; i < M; ++i) {\n    cin >> runlength[i];\n  }\n  int length = accumulate(runlength.begin(), runlength.end(), 0);\n  {\n    vector<int> base(length);\n    int idx = 0;\n    int num = 1;\n    for(int i = 0; i < M; ++i) {\n      for(int j = 0; j < runlength[i]; ++j) {\n        base[idx++] = num;\n      }\n      num = 1 - num;\n    }\n#if 0\n    for(int i = 0; i < length; ++i) {\n      cerr << base[i] << ' ';\n    }\n    cerr << endl;\n#endif\n    int res = 0;\n    for(int i = 0; i < length; ++i) {\n      for(int j = i; j < length; ++j) {\n        if(target[i] == base[j]) {\n          for(int k = j - 1; k >= i; --k) {\n            swap(base[k], base[k + 1]);\n            res++;\n          }\n          break;\n        }\n      }\n    }\n#if 0\n    for(int i = 0; i < length; ++i) {\n      cerr << base[i] << ' ';\n    }\n    cerr << endl;\n#endif\n    if(base == target)\n      minimum = min(minimum, res);\n  }\n  {\n    vector<int> base(length);\n    int idx = 0;\n    int num = 0;\n    for(int i = 0; i < M; ++i) {\n      for(int j = 0; j < runlength[i]; ++j) {\n        base[idx++] = num;\n      }\n      num = 1 - num;\n    }\n#if 0\n    for(int i = 0; i < length; ++i) {\n      cerr << base[i] << ' ';\n    }\n    cerr << endl;\n#endif\n    int res = 0;\n    for(int i = 0; i < length; ++i) {\n      for(int j = i; j < length; ++j) {\n        if(target[i] == base[j]) {\n          for(int k = j - 1; k >= i; --k) {\n            swap(base[k], base[k + 1]);\n            res++;\n          }\n          break;\n        }\n      }\n    }\n#if 0\n    for(int i = 0; i < length; ++i) {\n      cerr << base[i] << ' ';\n    }\n    cerr << endl;\n#endif\n    if(base == target)\n      minimum = min(minimum, res);\n  }\n  cout << minimum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,s,e) for((i)=(s);(i)<(int)(e);(i)++)\n\ntypedef long long ll;\n\nconst int INF = 1000000000;\nconst int N = 15;\nconst int M = 15;\nint n, m;\nint b[N], c[N], x[2][N];\nint p[M];\nbool check[2];\nint xi[N], yi[N];\n\nint main() {\n\tint i, j, k, l, num;\n\tscanf(\"%d%d \", &n, &m);\n\tnum = 0;\n\tfor (i=0; i<n; i++) {\n\t\tscanf(\"%d \", b+i);\n\t\tc[i] = b[i];\n\t\tif (b[i]) num++;\n\t}\n\tfor (i=0; i<m; i++) scanf(\"%d \", p+i); \n\tfor (i=1; i<m; i++) p[i] += p[i-1];\n\n\tfor (i=0; i<2; i++) {\n\t\tint bt = i % 2;\n\t\tk = 0;\n\t\tint numx = 0;\n\t\tfor (j=0; j<n; j++) {\n\t\t\tif (j == p[k]) {\n\t\t\t\tbt = (bt+1) % 2;\n\t\t\t\tk++;\n\t\t\t}\n\t\t\tx[i][j] = bt;\n\t\t\tif (bt) numx++;\n\t\t}\n\n\t\tcheck[i] = (num == numx) ? true : false;\n\t}\n\n/*\n\tprintf(\"b:\");\n\tfor (j=0; j<n; j++)\n\t\tprintf(\"%d \", b[j]);\n\tputs(\"\");\n\tprintf(\"p:\");\n\tfor (j=0; j<m; j++)\n\t\tprintf(\"%d \", p[j]);\n\tputs(\"\");\n\n\tfor (i=0; i<2; i++) {\n\t\tprintf(\"x[%d]:\", i);\n\t\tfor (j=0; j<n; j++) printf(\"%d \", x[i][j]);\n\t\tputs(\"\");\n\t}\n*/\n\n\tint res = INF;\n\tfor (i=0; i<2; i++) {\n\t\tif (check[i]) {\n\t\t\tint cnt = 0;\n\t\t\tk = l = 0;\n\t\t\tfor (j=0; j<n; j++) {\n\t\t\t\tif (x[i][j]) {\n\t\t\t\t\txi[k] = j;\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t\tif (b[j]) {\n\t\t\t\t\tyi[l] = j;\n\t\t\t\t\tl++;\n\t\t\t\t}\n\t\t\t}\n\n/*\n\t\t\tprintf(\"num = %d\\n\", num);\n\n\t\t\tprintf(\"xi:\");\n\t\t\tfor (j=0; j<num; j++)\n\t\t\t\tprintf(\"%d \", xi[j]);\n\t\t\tputs(\"\");\n\t\t\tprintf(\"yi:\");\n\t\t\tfor (j=0; j<num; j++)\n\t\t\t\tprintf(\"%d \", yi[j]);\n\t\t\tputs(\"\");\n*/\n\n\t\t\tfor (j=0; j<num; j++)\n\t\t\t\tcnt += abs(xi[j] - yi[j]);\n\n\t\t\tres = min(res, cnt);\n\t\t}\n\t}\n\n\tprintf(\"%d\\n\", res);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <unordered_set>\n#include <unordered_map>\n#include <array>\n#include <cassert>\n#include <bitset>\nusing namespace std;\nusing LL = long long;\n\nvoid g(vector<int>&clu)\n{\n\tint zer[2] = {};\n\tfor (int i = 0; i < clu.size(); ++i)\n\t{\n\t\tif (clu[i] == 0)zer[0]++; else zer[1]++;\n\t\tclu[i] = clu[i] * 114514 + zer[clu[i]];\n\t}\n}\n\nint f(vector<int>war, vector<int>to, int n)\n{\n\tg(war); g(to);\n\tint cost = 0;\n\tfor (int i = 0; i < n; ++i)\n\t{\n\t\tint val = war[i];\n\t\tint pl = find(to.begin(), to.end(), val) - to.begin();\n\t\tif (pl == n)\n\t\t{\n\t\t\treturn 114514810;\n\t\t}\n\t\tcost += abs(pl - i);\n\t}\n\treturn cost / 2;\n}\n\nint main(void)\n{\n\tint n, m;\n\tcin >> n >> m;\n\tvector<int>war, one, two;\n\tfor (int i = 0; i < n; ++i)\n\t{\n\t\tint tmp; cin >> tmp;\n\t\twar.push_back(tmp);\n\t}\n\tbool flag = false;\n\tfor (int i = 0; i < m; ++i)\n\t{\n\t\tint tmp; cin >> tmp;\n\t\tfor (int j = 0; j < tmp; ++j)\n\t\t{\n\t\t\tone.push_back(flag);\n\t\t\ttwo.push_back(!flag);\n\t\t}\n\t\tflag = !flag;\n\t}\n\tcout << min(f(war, one, n), f(war, two, n)) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define For(i, a, b) for(int (i)=(int)(a); (i)<(int)(b); ++(i))\n#define rFor(i, a, b) for(int (i)=(int)(a)-1; (i)>=(int)(b); --(i))\n#define rep(i, n) For((i), 0, (n))\n#define rrep(i, n) rFor((i), (n), 0)\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long lint;\ntypedef unsigned long long ulint;\ntypedef pair<int, int> pii;\ntemplate<class T> bool chmax(T &a, const T &b){if(a<b){a=b; return true;} return false;}\ntemplate<class T> bool chmin(T &a, const T &b){if(a>b){a=b; return true;} return false;}\ntemplate<class T> T div_floor(T a, T b){\n    if(b < 0) a *= -1, b *= -1;\n    return a>=0 ? a/b : (a+1)/b-1;\n}\ntemplate<class T> T div_ceil(T a, T b){\n    if(b < 0) a *= -1, b *= -1;\n    return a>0 ? (a-1)/b+1 : a/b;\n}\n\nconstexpr lint mod = 1e9+7;\nconstexpr lint INF = mod * mod;\nconstexpr int MAX = 300010;\n\nint n, m, b[15], p[15], a[15];\n\nint f(){\n    int v[n], ret = 0;\n    vector<int> s, t;\n    rep(i, n)if(b[i] == 1) s.push_back(i);\n    rep(i, n)if(a[i] == 1) t.push_back(i);\n    if(s.size() != t.size()) return 1000;\n    rep(i, s.size()) ret += abs(s[i] - t[i]);\n    return ret;\n}\n\nint main(){\n    scanf(\"%d%d\", &n, &m);\n    rep(i, n) scanf(\"%d\", &b[i]);\n    rep(i, m) scanf(\"%d\", &p[i]);\n    int ans = 1000;\n    rep(i, 2){\n        for(int cur=0, j=0; j<m; ++j){\n            rep(k, p[j]) a[cur++] = (j%2) ^ i;\n        }\n        chmin(ans, f());\n    }\n    printf(\"%d\\n\", ans);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <utility>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <cmath>\nusing namespace std;\ntypedef long long ll;\nconst int INF = 1<<30; \nconst int MOD = 1e9 + 7;\nint calc(string s, string target)\n{\n    int res = 0;\n    for(int i = 0; i < s.size(); i++)\n    {\n        if(s[i] == target[i]) continue;\n        bool ok = false;\n        for(int j = i + 1; j < s.size(); j++)\n        {\n            if(target[i] == s[j])\n            {\n                swap(s[i], s[j]);\n                res += j - i;\n                ok = true;\n                break;\n            }\n        }\n        if(not ok) return INF;\n    }\n    return res;\n}\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n, m; cin >> n >> m;\n    string b = \"\", target1 = \"\", target2 = \"\";\n    for(int i = 0; i < n; i++)\n    {\n        char ch; cin >> ch;\n        b += ch;\n    }\n    bool flag;\n    for(int i = 0; i < m; i++)\n    {\n        int x; cin >> x;\n        if(i == 0) flag = true;\n        else if(target1.back() == '1') flag = false;\n        else flag = true;\n        for(int j = 0; j < x; j++)\n        {\n            target1 += (flag ? '1' : '0');\n            target2 += (flag ? '0' : '1');\n        }\n    }\n    int ans = min(calc(b, target1), calc(b, target2));\n    cout << ans << endl;\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <vector>\n#include <stack>\n#include <cmath>\n#include <ctime>\n#include <set>\n\nusing namespace std;\ntypedef long long ll;\n\nconst int inf = 0x3f3f3f3f;\nconst int maxn = (int) 1e6 + 7;\nconst double eps = 1e-10;\nconst ll mod = (int) 1e9 + 7;\n\n#define lson l, mid, rt << 1\n#define rson mid + 1, r, rt << 1 | 1\n#define clr(x) memset(x,0,sizeof(x))\n#define pi 3.1415926\n\nint n, m;\nint a[maxn], b1[maxn], b2[maxn], b[maxn];\n\nint check(int a[], int b[]) {\n    int ans = 0;\n    for (int i = 0; i < n; i++) {\n        if (a[i] == b[i]) {\n            continue;\n        } else {\n            ans++;\n            int op = i + 1;\n            while (a[i] != b[op]) {\n                op++;\n                ans++;\n            }\n            swap(b[i], b[op]);\n        }\n    }\n    return ans;\n}\n\nint main() {\n    std::ios::sync_with_stdio(false);\n#ifndef ONLINE_JUDGE\n    freopen(\"in.txt\", \"r\", stdin);\n#endif\n\n    while (cin >> n >> m) {\n        int sum11 = 0;\n        int sum12 = 0;\n        for (int i = 0; i < n; i++) {\n            cin >> a[i];\n            if (a[i] == 1) {\n                sum11++;\n            } else {\n                sum12++;\n            }\n        }\n\n        for (int i = 0; i < m; i++) {\n            cin >> b[i];\n        }\n\n        int q = 0;\n        int tot = 0;\n        int sum1 = 0;\n        int sum2 = 0;\n        for (int i = 0; i < m; i++) {\n            q = (q + 1) % 2;\n            for (int j = 0; j < b[i]; j++) {\n                b1[tot] = q;\n                if (q == 1) {\n                    sum1++;\n                } else {\n                    sum2++;\n                }\n                b2[tot++] = (q + 1) % 2;\n            }\n        }\n\n//        for(int i = 0;i < n;i++) cout << b1[i] << \" \";\n//        cout << endl;\n//        for(int i = 0;i < n;i++) cout << b2[i] << \" \";\n//        cout << endl;\n\n        int ans1 = 0, ans2 = 0;\n\n        if (sum11 == sum1)\n            ans1 = check(a, b1);\n        else\n            ans1 = inf;\n\n        if (sum11 == sum2)\n            ans2 = check(a, b2);\n        else\n            ans2 = inf;\n\n        cout << min(ans1, ans2) << endl;\n\n    }\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#pragma comment (linker, \"/STACK:526000000\")\n\n#include \"bits/stdc++.h\"\n\nusing namespace std;\ntypedef string::const_iterator State;\n#define eps 1e-11L\n#define MAX_MOD 1000000007LL\n#define GYAKU 500000004LL\n\n#define MOD 998244353LL\n#define seg_size 262144*2LL\n#define pb push_back\n#define mp make_pair\ntypedef long long ll;\n#define REP(a,b) for(long long (a) = 0;(a) < (b);++(a))\n#define ALL(x) (x).begin(),(x).end()\n\nunsigned long xor128() {\n\tstatic unsigned long x = 123456789, y = 362436069, z = 521288629, w = time(NULL);\n\tunsigned long t = (x ^ (x << 11));\n\tx = y; y = z; z = w;\n\treturn (w = (w ^ (w >> 19)) ^ (t ^ (t >> 8)));\n}\n\nvoid init() {\n\tiostream::sync_with_stdio(false);\n\tcout << fixed << setprecision(20);\n}\n\n#define int ll\n\nvoid solve() {\n\tint n, m;\n\tcin >> n >> m;\n\tvector<int> inputs;\n\tREP(i, n) {\n\t\tint a;\n\t\tcin >> a;\n\t\tinputs.push_back(a);\n\t}\n\tvector<int> tmp;\n\ttmp.push_back(0);\n\tREP(i, m) {\n\t\tint a;\n\t\tcin >> a;\n\t\ttmp.push_back(a);\n\t}\n\tint ans = 1e9;\n\tREP(teas, 2) {\n\t\tint now = 0;\n\t\tint cnter = 0;\n\t\tREP(i, tmp.size()) {\n\t\t\tREP(q, tmp[i]) {\n\t\t\t\tint cnt = 0;\n\t\t\t\tREP(j, n) {\n\t\t\t\t\tif ((1 << j) & now) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (inputs[j] == i % 2) {\n\t\t\t\t\t\tnow += (1 << j);\n\t\t\t\t\t\tcnter += cnt;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (now == (1 << n) - 1) {\n\t\t\tans = min(ans, cnter);\n\t\t}\n\t\ttmp.erase(tmp.begin());\n\t}\n\tcout << ans << endl;\n}\n\n#undef int\nint main() {\n\tinit();\n\tsolve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#include <map>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tvector<int>start(n),end1(n),end2(n);\n\tfor(int i=0;i<n;i++)scanf(\"%d\",&start[i]);\n\t{\n\t\tvector<int>p(m);\n\t\tfor(int i=0;i<m;i++)scanf(\"%d\",&p[i]);\n\t\tfor(int i=0,c=0,x=0;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end1[c]=x;\n\t\tfor(int i=0,c=0,x=1;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end2[c]=x;\n\t}\n\tmap<vector<int>,int>depth;\n\tqueue<vector<int> >q;\n\tdepth[start]=1,depth[end1]=depth[end2]=-1;\n\tq.push(start),q.push(end1),q.push(end2);\n\tfor(;!q.empty();){\n\t\tvector<int>cur=q.front();q.pop();\n\t\tint d=depth[cur];\n\t\tfor(int i=0;i<n-1;i++)if(cur[i]!=cur[i+1]){\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t\tmap<vector<int>,int>::iterator it=depth.find(cur);\n\t\t\tif(it==depth.end()){\n\t\t\t\tdepth[cur]=d+(d>0?1:-1);\n\t\t\t\tq.push(cur);\n\t\t\t}else if(it->second*d<0){\n\t\t\t\td-=it->second;\n\t\t\t\tif(d<0)d=-d;\n\t\t\t\tprintf(\"%d\\n\",d-1);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<cmath>\n#include<cstdlib>\n#include<cstring>\n#include<string>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<stack>\n#include<map>\n#include<numeric>\n#include<limits>\n#include<bitset>\n#include<unordered_map>\n#include<functional>\nusing namespace std;\n\n#define rep(i,s,n) for(int i=s;i<n;i++)\n#define dow(i,n,s) for(int i=n-1;i>=s;i--)\n#define all(a) a.begin(),a.end()\n#define Sort(a) sort(all(a))\n#define Qsort(a,size) qsort(a,size,sizeof(*a),compare_int)\n//#define DEBUG\n//#define DEBUG2\ntypedef pair<int,int> II;\ntypedef unsigned long ul;\ntypedef long long ll;\ntypedef unsigned long long ull;\nbool compare_by_second(II a,II b) { return a.second != b.second ? a.second < b.second : a.first < b.first; }\nbool compare_int(const void *a,const void *b) { return *(int *)a - *(int *)b; }\n\nconst int INF = 1e+9;\nconst int MAX_N = 15;\nconst int MAX_M = 15;\n\nint N,M;\nint pos[MAX_N];\nvector<II> from_to;\nint ans;\nvector<II> zero_ans,one_ans;\nint zero_count = 0,zero_ans_count = 0,one_ans_count = 0;\nint zero_min = 0,one_min = 0;\n\nvoid solve();\n\nint main() {\n  cin>>N>>M;\n  from_to.resize(N);\n  rep(i,0,N) {\n    cin>>pos[i];\n    if(pos[i] == 0) zero_count++;\n    from_to[i].first = i;\n  }\n  rep(i,0,M) {\n    cin>>ans;\n    rep(j,0,ans) {\n      if(i%2==0) zero_ans_count++;\n      else one_ans_count++;\n      zero_ans.push_back(II(i%2==0?0:1,zero_ans.size()));\n      one_ans.push_back(II(i%2==0?1:0,one_ans.size()));\n    }\n  }\n\n#ifdef DEBUG\n  rep(i,0,zero_ans.size()) cout<<zero_ans[i].first<<\" , \"<<zero_ans[i].second<<endl;\n  cout<<endl;\n  rep(i,0,one_ans.size()) cout<<one_ans[i].first<<\" , \"<<one_ans[i].second<<endl;\n  cout<<endl;\n#endif\n\n  solve();\n\n  return 0;\n}\n\nvoid solve() {\n\n  if(zero_count == zero_ans_count) {\n    rep(i,0,from_to.size()) {\n      rep(j,0,zero_ans.size()) {\n        if(pos[from_to[i].first] == zero_ans[j].first) {\n          from_to[i].second = zero_ans[j].second;\n          zero_ans.erase(zero_ans.begin()+j);\n          break;\n        }\n      }\n    }\n\n  #ifdef DEBUG2\n    rep(i,0,from_to.size()) cout<<from_to[i].first<<\" , \"<<from_to[i].second<<endl;\n    cout<<endl;\n  #endif\n\n    rep(i,0,from_to.size()-1) {\n      rep(j,i+1,from_to.size()) {\n        if(from_to[i].second > from_to[j].second) zero_min++;\n      }\n    }\n  }else { zero_min = INF; }\n\n  if(zero_count == one_ans_count) {\n    rep(i,0,from_to.size()) {\n      rep(j,0,one_ans.size()) {\n        if(pos[from_to[i].first] == one_ans[j].first) {\n          from_to[i].second = one_ans[j].second;\n          one_ans.erase(one_ans.begin()+j);\n          break;\n        }\n      }\n    }\n\n  #ifdef DEBUG2\n    rep(i,0,from_to.size()) cout<<from_to[i].first<<\" , \"<<from_to[i].second<<endl;\n    cout<<endl;\n  #endif\n\n    rep(i,0,from_to.size()-1) {\n      rep(j,i+1,from_to.size()) {\n        if(from_to[i].second > from_to[j].second) one_min++;\n      }\n    }\n  }else { one_min = INF; }\n\n  cout<<min(zero_min,one_min)<<endl;\n  return ;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nint f(const vector<int> &b, const vector<int> &a){\n  int n=b.size();\n  {\n    int s1=0, s2=0;\n    rep(i, n) s1+=b[i], s2+=a[i];\n    if(s1!=s2) return 10000000;\n  }\n  vector<int> c=b;\n  int s=0;\n  rep(i, n)if(c[i]!=a[i]){\n    int j=i;\n    while(c[j]!=a[i]) j++;\n    s+=(j-i);\n    for(int k=j; k>i; k--) swap(c[k-1], c[k]);\n  }\n  return s;\n}\n\nint main(){\n\n  int n, m; cin>> n>> m;\n  vector<int> b(n);\n  rep(i, n) cin>> b[i];\n  vector<int> p(m);\n  rep(i, m) cin>> p[i];\n\n  vector<int> a0, a1;\n  rep(i, m){\n    rep(_, p[i]){\n      a0.push_back(i%2);\n      a1.push_back(i&1);\n    }\n  }\n\n  cout<< min(f(b, a0), f(b, a1))<< endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconstexpr int inf = 1e9;\n\nint main() {\n    int n, m; cin >> n >> m;\n    vector<int> b(n), p(m);\n    for(int i = 0; i < n; ++i) {\n        cin >> b[i];\n    }\n    for(int i = 0; i < m; ++i) {\n        cin >> p[i];\n    }\n\n    auto solve = [&] (int st) {\n        auto a = b;\n        int res = 0;\n        for(int i = 0, pos = 0; i < m; ++i) {\n            for(int j = 0; j < p[i]; ++j, ++pos) {\n                const int k = find(begin(a) + pos, end(a), st) - begin(a);\n                if(k == n) return inf; // no solution\n                res += k - pos;\n                for(int l = k; l - 1 >= pos; --l) {\n                    swap(a[l - 1], a[l]);\n                }\n            }\n            st = !st;\n        }\n        return res;\n    };\n\n    cout << min(solve(0), solve(1)) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <limits>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n    vector<int> bs;\n    for (int i = 0; i < n; ++i) {\n        int b;\n        cin >> b;\n        bs.push_back(b);\n    }\n    vector<int> ps;\n    for (int i = 0; i < m; ++i) {\n        int p;\n        cin >> p;\n        ps.push_back(p);\n    }\n    auto expandRunLength = [](const vector<int> rl) {\n        vector<int> startingZero;\n        vector<int> startingOne;\n        bool state = false;\n        for (auto&& i : rl) {\n            for (int j = 0; j < i; ++j) {\n                startingZero.push_back(state ? 1 : 0);\n                startingOne.push_back(state ? 0 : 1);\n            }\n            state = !state;\n        }\n        return make_pair(startingZero, startingOne);\n    };\n    auto countSwap = [& target = bs](const vector<int>& s) {\n        if (count(begin(target), end(target), 1) !=\n            count(begin(s), end(s), 1)) {\n            return numeric_limits<int>::max();\n        }\n        int counter = 0;\n        auto ss = s;\n        for (size_t i = 0; i < target.size(); ++i) {\n            if (ss[i] == target[i]) {\n                continue;\n            }\n\n            for (size_t j = i + 1; j < target.size(); ++j) {\n                if (ss[j] == target[i]) {\n                    counter += (j - i);\n                    swap(ss[j], ss[i]);\n                    break;\n                }\n            }\n        }\n        return counter;\n    };\n    auto ss = expandRunLength(ps);\n    cout << min(countSwap(ss.first), countSwap(ss.second)) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<cstdlib>\n#include<vector>\n#include<set>\n#include<list>\n#include<queue>\n#include<cmath>\n#include<functional>\n#include<algorithm>\n#define INF (1<<29)\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\n\n\n\nint calc(string s,string t){\n\tvector<int> p,q;\n\trep(i,s.size())if(s[i]=='1')p.push_back(i);\n\trep(i,t.size())if(t[i]=='1')q.push_back(i);\n\tif(p.size()!=q.size())return INF;\n\tint ans=0;\n\trep(i,p.size()){\n\t\tans+=abs(p[i]-q[i]);\n\t}\n\treturn ans;\n}\nint main(){\n\tint n,m;\n\tstring a,b;\n\tcin>>n>>m;\n\trep(i,n){\n\t\tchar c;\n\t\tcin>>c;\n\t\ta+=c;\n\t}\n\trep(i,m){\n\t\tint p;\n\t\tcin>>p;\n\t\trep(j,p){\n\t\t\tb+=i&1?'1':'0';\n\t\t}\n\t}\n\tint c=calc(a,b);\n\trep(i,b.size())b[i]=b[i]=='1'?'0':'1';\n\tcout<<min(c,calc(a,b))<<endl;;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <queue>\n#include <tuple>\nusing namespace std;\nusing P = pair<int,int>;\nint main(){\n    int dist[1<<15];\n    fill(dist,dist+(1<<15),1000000000);\n    int N,M;\n    cin>>N>>M;\n    int start=0,goalA=0,goalB=0;\n    for(int i=0;i<N;i++){\n        int b;\n        cin>>b;\n        start<<=1;\n        start+=b;\n    }\n    for(int i=0;i<M;i++){\n        int p;\n        cin>>p;\n        for(int j=0;j<p;j++){\n            goalA<<=1;\n            goalA+=int(i%2==0);\n            goalB<<=1;\n            goalB+=int(i%2==1);\n        }\n    }\n    queue<P> Q;\n    Q.push(P(start,0));\n    dist[start]=0;\n    while(!Q.empty()){\n        int cur, cost;\n        tie(cur,cost)=Q.front(); Q.pop();\n        if(cur==goalA||cur==goalB){\n            cout<<cost<<endl;\n            return 0;\n        }\n        if(dist[cur]<cost) continue;\n        for(int i=0;i<N-1;i++){\n            if(((cur>>i)&1)==((cur>>(i+1))&1)) continue;\n            int next = cur^(3<<i);\n            if(dist[next]<=cost+1) continue;\n            dist[next]=cost+1;\n            Q.push(P(next,cost+1));\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#include <map>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tif(m==1){\n\t\tputs(\"0\");return 0;\n\t}\n\tvector<int>start(n),end1(n),end2(n);\n\tfor(int i=0;i<n;i++)scanf(\"%d\",&start[i]);\n\t{\n\t\tvector<int>p(m);\n\t\tfor(int i=0;i<m;i++)scanf(\"%d\",&p[i]);\n\t\tfor(int i=0,c=0,x=0;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end1[c]=x;\n\t\tfor(int i=0,c=0,x=1;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end2[c]=x;\n\t}\n\tmap<vector<int>,int>depth;\n\tqueue<vector<int> >q;\n\tdepth[start]=1,depth[end1]=depth[end2]=-1;\n\tq.push(start),q.push(end1),q.push(end2);\n\tfor(;!q.empty();){\n\t\tvector<int>cur=q.front();q.pop();\n\t\tint d=depth[cur];\n\t\tfor(int i=0;i<n-1;i++)if(cur[i]!=cur[i+1]){\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t\tmap<vector<int>,int>::iterator it=depth.find(cur);\n\t\t\tif(it==depth.end()){\n\t\t\t\tdepth[cur]=d+(d>0?1:-1);\n\t\t\t\tq.push(cur);\n\t\t\t}else if(it->second*d<0){\n\t\t\t\td-=it->second;\n\t\t\t\tif(d<0)d=-d;\n\t\t\t\tprintf(\"%d\\n\",d-1);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define REP(i,n) for(int i=0;i<n;i++)\n#define REP1(i,n) for(int i=1;i<=n;i++)\n#define SZ(i) int(i.size())\n#ifdef tmd\n#define IOS()\n#define debug(...) fprintf(stderr,\"%s - %d (%s) = \",__PRETTY_FUNCTION__,__LINE__,#__VA_ARGS__);_do(__VA_ARGS__);\ntemplate<typename T> void _do(T &&x){cerr<<x<<endl;}\ntemplate<typename T, typename ...S> void _do(T &&x, S &&...y){cerr<<x<<\", \";_do(y...);}\n#else\n#define IOS() ios_base::sync_with_stdio(0);cin.tie(0);\n#define endl '\\n'\n#define debug(...)\n#endif\n\nconst int MAXN = 21;\nconst ll MOD = 1000000007;\n\nint n, m;\nbool a[2][MAXN], b[2][MAXN];\n\nint solve (int x) {\n    int ans = 0;\n    REP (i, n) {\n        for (int j=i; j<= n; j++) {\n            if (j == n) {\n                return 10000000;\n            }\n            if (a[x][j] == b[x][i]) {\n                debug(x, i, j);\n                for (int k=j; k>i; k--) {\n                    debug(x, k);\n                    swap(a[x][k], a[x][k-1]);\n                    ans++;\n                }\n                break;\n            }\n        }\n    }\n    return ans;\n}\n/*********************GoodLuck***********************/\nint main () {\n    IOS();\n\n    cin >> n >> m;\n    REP (i, n) {\n        cin >> a[0][i];\n        a[1][i] = a[0][i];\n    }\n\n    int idx = 0;\n    REP (i, m) {\n        int d;\n        cin >> d;\n        REP (j, d) {\n            b[0][idx] = i&1;\n            b[1][idx] = (i&1)^1;\n            idx++;\n        }\n    }\n    REP (i, n) {\n        debug(a[0][i], b[0][i], b[1][i]);\n    }\n\n    cout << min(solve(0), solve(1)) << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < n; i++)\n\nsigned main() {\n\tint n, m; cin >> n >> m;\n\tvector<bool> bs(n);\n\trep(i, n) {\n\t\tint x; cin >> x;\n\t\tbs[i] = x;\n\t}\n\tvector<bool> a(n), b(n);\n\tint tb = 0;\n\tint idx = 0;\n\trep(i, m) {\n\t\tint p; cin >> p;\n\t\trep(j, p) {\n\t\t\ta[idx] = tb;\n\t\t\tb[idx] = !tb;\n\t\t\tidx++;\n\t\t}\n\t\ttb = !tb;\n\t}\n\tint mb = 1 << 15;\n\t\n\tusing P = pair<vector<bool>, int>;\n\tunordered_map<vector<bool>, int> visited;\n\tqueue<P> que;\n\tque.push(P(bs, 0));\n\tvisited[bs] = 0;\n\tint ans = -1;\n\t\n\twhile (!que.empty()) {\n\t\tP p = que.front(); que.pop();\n\t\tauto& pb = p.first;\n\t\tauto& pc = p.second;\n\t\tif (pb == a || pb == b) {\n\t\t\tans = pc;\n\t\t\tbreak;\n\t\t}\n\t\trep(i, n - 1) {\n\t\t\tvector<bool> next = pb;\n\t\t\tswap(next[i], next[i + 1]);\n\t\t\tint nc = pc + 1;\n\t\t\tif (visited.count(next)) continue;\n\t\t\tvisited[next] = nc;\n\t\t\tque.emplace(next, nc);\n\t\t}\n\t}\n\tcout << ans << endl;\n\t\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nint tmp[100];\nint koukan(int n,int index,int to)\n{\n\tint ret=0;\n\tint from=tmp[index];\n\tint tar=100;\n\tfor(int i=index;i<n;i++)\n\t{\n\t\tif(tmp[i]==to)\n\t\t{\n\t\t\ttar=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\t//swap\n\tfor(int i=tar;i>index;i--)\n\t{\n\t\tret++;\n\t\tint t=tmp[i];\n\t\ttmp[i]=tmp[i-1];\n\t\ttmp[i-1]=t;\n\t}\n\treturn ret;\n}\nint main()\n{\n\tint n,m;\n\tcin>>n>>m;\n\tint bit[100];\n\tint p[16];\n\tint rui=0;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tcin>>bit[i];\n\t}\n\tfor(int i=0;i<m;i++)\n\t\tcin>>p[i];\n\tcopy(bit,bit+100,tmp);\n\tint ansa=0;\n\tint index=0;\n\tfor(int i=0;i<m;i++)\n\t{\n\t\tfor(int j=0;j<p[i];j++)\n\t\t{\n\t\t\tif(tmp[index]!=(i&1))\n\t\t\t\tansa+=koukan(n,index,i&1);\n\t\t\tindex++;\n\t\t}\n\t}\n\tint ansb=0;\n\tindex=0;\n\tcopy(bit,bit+100,tmp);\n\tfor(int i=0;i<m;i++)\n\t{\n\t\tfor(int j=0;j<p[i];j++)\n\t\t{\n\t\t\tif(tmp[index]!=((i+1)&1))\n\t\t\t\tansb+=koukan(n,index,(i+1)&1);\n\t\t\tindex++;\n\t\t}\n\t}\n\t//cerr<<ansa<<\" \"<<ansb<<endl;\n\tcout<<min(ansa,ansb)<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n\tint N, M, b = 0, bc = 0;\n\tcin >> N >> M;\n\tfor (int i = 0, bit; i < N; i++) {\n\t\tcin >> bit;\n\t\tif (bit) {\n\t\t\tb += 1 << i;\n\t\t\tbc++;\n\t\t}\n\t}\n\tvector<int> p(M);\n\tint o = 0, e = 0, sum = 0, ps = 0;\n\tfor (int i = 0; i < M; i++) {\n\t\tcin >> p[i];\n\t\tif (i & 1) {\n\t\t\tps += ((1 << p[i]) - 1) << sum;\n\t\t\to += p[i];\n\t\t}\n\t\telse {\n\t\t\te += p[i];\n\t\t}\n\t\tsum += p[i];\n\t}\n\tint r1 = 100000, r2 = 100000;\n\tif (bc == o) {\n\t\tr1 = 0;\n\t\tvector<int> pos(bc);\n\t\tfor (int i = 0, j = 0; i < N; i++) {\n\t\t\tif (b & (1 << i)) {\n\t\t\t\tpos[j++] = i;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0, j = 0; i < N; i++) {\n\t\t\tif (ps & (1 << i)) {\n\t\t\t\tr1 += abs(pos[j++] - i);\n\t\t\t}\n\t\t}\n\t}\n\tif (bc == e) {\n\t\tr2 = 0;\n\t\tps = (1 << N) - 1 - ps;\n\t\tvector<int> pos(bc);\n\t\tfor (int i = 0, j = 0; i < N; i++) {\n\t\t\tif (b & (1 << i)) {\n\t\t\t\tpos[j++] = i;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0, j = 0; i < N; i++) {\n\t\t\tif (ps & (1 << i)) {\n\t\t\t\tr2 += abs(pos[j++] - i);\n\t\t\t}\n\t\t}\n\t}\n\tcout << min(r1, r2) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main(void){\n    int n, m;\n    cin >> n >> m;\n    string a,b,c;\n    int cnta = 0, cntb = 0, cntc = 0;\n    for (int i = 0; i < n; i++) {\n        char d; cin >> d;\n        if (d == '1') cnta++;\n        a += d;\n    }\n    for (int i = 0; i< m; i++) {\n        int k; cin >> k;\n        for (int j = 0; j < k; j++) {\n            if (i%2) {\n                b += '1'; cntb++;\n                c += '0';\n            }\n            else {\n                b += '0';\n                c += '1'; cntc++;\n            }\n        }\n    }\n    \n    int ans = 1e9;\n    if (cnta == cntb) {\n        int sum = 0;\n        for (int i = 0; i < n; i++) {\n            if (a[i] != b[i]) {\n                int j = i;\n                while (b[j] != a[i]) j++;\n                sum += j-i;\n                swap(b[i], b[j]);\n            }\n        }\n        ans = min(ans, sum);\n    }\n    \n    if (cnta == cntc) {\n        int sum = 0;\n        for (int i = 0; i < n; i++) {\n            if (a[i] != c[i]) {\n                int j = i;\n                while (c[j] != a[i]) j++;\n                sum += j-i;\n                swap(c[i], c[j]);\n            }\n        }\n        ans = min(ans, sum);\n    }\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint n, m;\nbool search(int* bit, int p, int x, int &ans){\n  for (int i = p; i < n; i++) {\n    if(bit[i] == x){\n      ans += i - p;\n      bit[i] = (x+1)&1;\n      bit[p] = x&1;\n      return true;\n    }\n  }\n  return false;\n}\n\nint main(int argc, char *argv[]){\n  cin >> n >> m;\n  int bit[n], len[m];\n  for (int i = 0; i < n; i++) {\n    cin >> bit[i];\n  }\n  for (int i = 0; i < m; i++) {\n    cin >> len[i];\n  }\n  //1 0??????\n  int x, ans[2] = {0}, tmp;\n  for (int k = 0; k < 2; k++) {\n    tmp = 0;\n    x = k;\n    for (int i = 0; i < m; i++) {\n      x = (x+1)&1;\n      for (int j = 0; j < len[i]; j++) {\n        if(bit[j + tmp] != x){\n          if(!search(bit, j + tmp, x, ans[k]))\n            ans[k] = 1e9;\n        }\n      }\n      tmp += len[i];\n    }\n  }\n  std::cout << min(ans[0], ans[1]) << std::endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nint num[20],check1[20],check2[20];//check1串从1开始，check2串从0开始\nint main()\n{\n    int n,m,a,index=0,numOfOne=0;\n    int check=2;\n    std::ios::sync_with_stdio(false);\n    cin>>n>>m;\n    for (int i=0; i<n; i++)\n    {\n        cin>>num[i];\n        numOfOne+=num[i];\n    }\n    int x=0;\n    for (int i=0; i<m; i++)\n    {\n        cin>>a;\n        if (i%2==0)\n        {\n            for (int j=0; j<a; j++)\n            {\n                check1[index]=1;\n                check2[index++]=0;\n            }\n            x+=a;\n        }\n        else\n            for (int j=0; j<a; j++)\n            {\n                check1[index]=0;\n                check2[index++]=1;\n            }\n    }\n    if (x!=numOfOne)\n        check=0;\n    else if (x!=n-numOfOne)\n        check=1;\n    int ans=0;\n    if (check==2)\n    {\n        int ans1=0,ans2=0;\n        for (int i=0; i<n; i++)\n        {\n            if (num[i]!=check1[i])\n            {\n                int result=find(check1+i,check1+n, num[i])-check1;\n                swap( check1[i],check1[result] );\n                ans1+=result-i;\n\n            }\n        }\n        for (int i=0; i<n; i++)\n        {\n            if (num[i]!=check2[i])\n            {\n                int result=find(check2+i,check2+n, num[i])-check2;\n                swap(check2[i],check2[result] );\n                ans2+=result-i;\n            }\n        }\n        ans=min(ans1,ans2);\n    }\n    else if (check==1)//check1\n    {\n        for (int i=0; i<n; i++)\n        {\n            if (num[i]!=check1[i])\n            {\n                int result=find(check1+i,check1+n, num[i])-check1;\n                swap( check1[i],check1[result] );\n                ans+=result-i;\n\n            }\n        }\n    }\n    else\n    {\n        for (int i=0; i<n; i++)\n        {\n            if (num[i]!=check2[i])\n            {\n                int result=find(check2+i,check2+n, num[i])-check2;\n                swap( check2[i],check2[result] );\n                ans+=result-i;\n            }\n        }\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "/* ---------- STL Libraries ---------- */\n\n// IO library\n#include <cstdio>\n#include <fstream>\n#include <iomanip>\n#include <ios>\n#include <iostream>\n\n// algorithm library\n#include <algorithm>\n#include <cmath>\n#include <numeric>\n\n// container library\n#include <array>\n#include <bitset>\n#include <deque>\n#include <map>\n#include <queue>\n#include <set>\n#include <string>\n#include <vector>\n\n/* ---------- Namespace ---------- */\n\nusing namespace std;\n\n/* ---------- Type Abbreviation ---------- */\n\ntemplate <typename T>\nusing V = vector<T>;\ntemplate <typename T, typename U>\nusing P = pair<T, U>;\ntemplate <typename T>\nusing PQ = priority_queue<T>;\ntemplate <typename T>\nusing GPQ = priority_queue<T, vector<T>, greater<T>>;\n\nusing ll = long long;\n\n#define fst first\n#define snd second\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n\n/* ---------- conversion ---------- */\n\n#define INT(c) static_cast<int>(c)\n#define CHAR(n) static_cast<char>(n)\n#define LL(n) static_cast<ll>(n)\n#define DOUBLE(n) static_cast<double>(n)\n\n/* ---------- container ---------- */\n\n#define ALL(v) (v).begin(), (v).end()\n#define SIZE(v) (LL((v).size()))\n\n#define FIND(v, k) (v).find(k) != (v).end()\n#define VFIND(v, k) find(ALL(v), k) != (v).end()\n\n#define gsort(b, e) sort(b, e, greater<decltype(*b)>())\n#define SORT(v) sort(ALL(v))\n#define GSORT(v) gsort(ALL(v))\n\n/* ---------- repetition ---------- */\n\n#define FOR(i, a, b) for (ll i = (a); i <= (b); ++i)\n#define RFOR(i, a, b) for (ll i = (a); i >= (b); --i)\n\n/* ----------- debug ---------- */\n\ntemplate <class T>\nostream& operator<<(ostream& os, vector<T> v) {\n    os << \"[\";\n    for (auto vv : v)\n        os << vv << \",\";\n    return os << \"]\";\n}\n\ntemplate <class T>\nostream& operator<<(ostream& os, set<T> v) {\n    os << \"[\";\n    for (auto vv : v)\n        os << vv << \",\";\n    return os << \"]\";\n}\n\ntemplate <class L, class R>\nostream& operator<<(ostream& os, pair<L, R> p) {\n    return os << \"(\" << p.fst << \",\" << p.snd << \")\";\n}\n\n/* ---------- Constants ---------- */\n\n// const ll MOD = 1e9 + 7;\n// const int INF = 1 << 25;\n// const ll INF = 1LL << 50;\n// const double PI = acos(-1);\n// const double EPS = 1e-10;\n// const ll dx[4] = {0, -1, 1, 0};\n// const ll dy[4] = {-1, 0, 0, 1};\n\n/* ---------- Short Functions ---------- */\n\ntemplate <typename T>\nT sq(T a) {\n    return a * a;\n}\n\ntemplate <typename T>\nT gcd(T a, T b) {\n    if (a > b) return gcd(b, a);\n    return a == 0 ? b : gcd(b % a, a);\n}\n\ntemplate <typename T, typename U>\nT mypow(T b, U n) {\n    if (n == 0) return 1;\n    if (n == 1) return b /* % MOD */;\n    if (n % 2 == 0) {\n        return mypow(sq(b) /* % MOD */, n / 2);\n    } else {\n        return mypow(b, n - 1) * b /* % MOD */;\n    }\n}\n\nll pcnt(ll b) {\n    return __builtin_popcountll(b);\n}\n\n/* v-v-v-v-v-v-v-v-v Main Part v-v-v-v-v-v-v-v-v */\n\n// #define DEBUG\n// #define DEBUG_CASE_NUM 4\n\nll bubble(string S, string T) {\n    queue<ll> one[2];\n    FOR(i, 0, SIZE(S) - 1) {\n        if (S[i] == '1') one[0].push(i);\n    }\n\n    FOR(i, 0, SIZE(T) - 1) {\n        if (T[i] == '1') one[1].push(i);\n    }\n\n    if (SIZE(one[0]) != SIZE(one[1])) return 10000;\n    ll ret = 0;\n    while (!one[0].empty()) {\n        ll p[2];\n        FOR(i, 0, 1) {\n            p[i] = one[i].front();\n            one[i].pop();\n        }\n\n        ret += abs(p[1] - p[0]);\n    }\n\n    return ret;\n}\n\nvoid solve() {\n    ll N, M;\n    cin >> N >> M;\n\n    string S(N, '0');\n    FOR(i, 0, N - 1) {\n        cin >> S[i];\n    }\n\n    V<ll> p(M);\n    FOR(i, 0, M - 1) {\n        cin >> p[i];\n    }\n\n    ll ans = 10000;\n    FOR(b, 0, 1) {\n        ll now = b;\n        string T;\n\n        for (ll c : p) {\n            T += string(c, now + '0');\n            now = 1 - now;\n        }\n\n        ans = min(ans, bubble(S, T));\n    }\n\n    cout << ans << endl;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    // cout << fixed << setprecision(10);\n\n#ifdef DEBUG\n    freopen(\"input.txt\", \"r\", stdin);\n    FOR(_, 1, DEBUG_CASE_NUM) {\n        solve();\n        cout << \"++++++++++\" << endl;\n    }\n#else\n    solve();\n#endif\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint calc(int x, vector<int> b, const vector<int> &p) {\n\tconst int n = b.size();\n\n\tint res = 0;\n\tint index = 0;\n\n\tfor(const auto &e : p) {\n\t\tfor(int i = 0; i < e; ++i) {\n\t\t\tint next_index = index;\n\t\t\twhile(next_index < n && b[next_index] != x) ++next_index;\n\n\t\t\tif(next_index == n) return INT_MAX;\n\t\t\tres += next_index - index;\n\t\t\tswap(b[index], b[next_index]);\n\t\t\t++index;\n\t\t}\n\n\t\tx ^= 0x1;\n\t}\n\treturn res;\n}\n\nint main() {\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\n\tint n, m;\n\tcin >> n >> m;\n\n\tvector<int> b(n), p(m);\n\tfor(auto &e : b) cin >> e;\n\tfor(auto &e : p) cin >> e;\n\n\tcout << min(calc(1, b, p), calc(0, move(b), p)) << endl;\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<list>\n#include<algorithm>\n#include <utility>\n#include<stdio.h>\n#include<climits>\n\nusing namespace std;\n\nint main(void){\n    int n,m;\n    int b[15]={},q[15]={};\n    int i,j,k,a[2] = {},s0 = 0,s1 = 0;\n    cin >> n >> m;\n    for(i = 0;i < n;i++){\n        cin >> b[i];\n        if(b[i]) s1++;\n    }\n    for(i = 0,k = 0;i < m;i++){\n        cin >> j;\n        k += j;\n        for(;j > 0;j--){\n            q[k-j] = i%2;\n            if(q[k-j]) s0++;\n        }\n    }\n    if(s0 == s1){\n        for(i = 0,j = 0;i < n;i++){\n            if(b[i]){\n                while(!q[j]) j++;\n                a[0] += abs(i-j);\n                j++;\n            }\n        }\n    }else a[0] = INT_MAX;\n    if(n-s1 == s0){\n        for(i = 0,j = 0;i < n;i++){\n            if(b[i]){\n                while(q[j]) j++;\n                a[1] += abs(i-j);\n                j++;\n            }\n        }\n    }else a[1] = INT_MAX;\n    cout << min(a[0],a[1]) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) a.begin(), a.end()\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10 fixed<<setprecision(10)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef long double ld;\nconst int MOD = 1000000007;\nconst int INF = MOD + 1;\nconst ld EPS = 1e-10;\ntemplate<class T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<class T> T &chmax(T &a, const T &b) { return a = max(a, b); }\n\n/*--------------------template--------------------*/\n\nint cnt(vi &a, vi &b)\n{\n\tint n = a.size();\n\tint cnt = 0;\n\tfor (int i = n - 1; i >= 0; i--)\n\t{\n\t\tif (a[i] == b[i]) continue;\n\t\telse\n\t\t{\n\t\t\tint t;\n\t\t\tfor (int j = i - 1; j >= 0; j--)\n\t\t\t{\n\t\t\t\tif (a[j] == b[i])\n\t\t\t\t{\n\t\t\t\t\tt = j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int j = t; j < i; j++)\n\t\t\t{\n\t\t\t\tswap(a[j], a[j + 1]);\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t}\n\treturn cnt;\n}\n\nint main()\n{\n\tint n, m;\n\tcin >> n >> m;\n\tvi v(n), w(m);\n\tREP(i, n) cin >> v[i];\n\tREP(i, m) cin >> w[i];\n\tvi a, b;\n\tint t = 1;\n\tREP(i, m)\n\t{\n\t\tREP(j, w[i])\n\t\t{\n\t\t\ta.push_back(t);\n\t\t\tb.push_back(1 - t);\n\t\t}\n\t\tt = 1 - t;\n\t}\n\tint ans = INF;\n\n\tif (count(ALL(v), 1) == count(ALL(a), 1)) chmin(ans, cnt(a, v));\n\tif (count(ALL(v), 1) == count(ALL(b), 1)) chmin(ans, cnt(b, v));\n\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing i64 = long long int;\nusing ui64 = unsigned long long int;\n\n////////////////////////////////\n\nint main()\n{\n  int n,m;\n  cin >> n >> m;\n  vector<int> a(n);\n  for(auto&& x:a)cin >> x;\n  vector<int> b(m);\n  for(auto&& x:b)cin >> x;\n  vector<int> c,d;\n  c.reserve(n);d.reserve(n);\n  for(int i=0;i<b.size();i++){\n    for(int j=0;j<b[i];j++){\n      if(i&1){\n        c.push_back(0);\n        d.push_back(1);\n      }else{\n        c.push_back(1);\n        d.push_back(0);\n      }\n    }\n  }\n  for(auto&& x:c)cerr << x << \" \";cerr << endl;\n  for(auto&& x:d)cerr << x << \" \";cerr << endl;\n  int lvc = 0, smc = 0, lvd = 0, smd = 0;\n  for(int i=0;i<n;i++){\n    smc += abs(lvc);\n    if(a[i] != c[i]){\n      if(c[i])lvc++;\n      else lvc--;\n    }\n    smd += abs(lvd);\n    if(a[i] != d[i]){\n      if(d[i])lvd++;\n      else lvd--;\n    }\n    cerr << lvc << \" \" << lvd << endl;\n  }\n\n  if(lvc)smc = 1145141919;\n  if(lvd)smd = 1145141919;\n  cerr << smc << \" \" << smd << endl;\n  cout << min(smc,smd) << endl;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <climits>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <queue>\n#include <random>\n#include <cctype>\n#include <complex>\n#include <regex>\n\nusing namespace std;\n\n#define C_MAX(a, b) ((a)>(b)?(a):(b))\n#define SHOW_VECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOW_MAP(v) {std::cerr << #v << endl; for(const auto& xxx: v){std::cerr << xxx.first << \" \" << xxx.second << \"\\n\";}}\n\nint main() {\n\n    int N, M;\n    cin >> N >> M;\n\n    vector<int> b(N);\n    for (int i = 0; i < N; i++) cin >> b[i];\n\n    vector<int> p(M);\n    for (int i = 0; i < M; i++) cin >> p[i];\n\n    int count0 = 0, count1 = 0;\n    for (int i = 0; i < N; i++) if (b[i] == 0) count0++; else count1++;\n\n    int even = 0, odd = 0;\n    for (int i = 0; i < M; i++) if (i % 2 == 0) even += p[i]; else odd += p[i];\n\n    //初手0\n    int ans0 = INT_MAX;\n    if (count0 == even && count1 == odd) {\n        vector<int> a = b;\n        ans0 = 0;\n        int pos = 0;\n        for (int i = 0; i < M; i++) {\n            while (true) {\n                bool good = true;\n                for (int j = 0; j < p[i]; j++) if (a[pos + j] != i % 2) good = false;\n                if (good) break;\n                for (int j = pos; j < N - 1; j++) {\n                    if (a[j] == ((i + 1) % 2) && a[j + 1] == (i % 2)) {\n                        ans0++;\n                        swap(a[j], a[j + 1]);\n                        break;\n                    }\n                }\n            }\n            pos += p[i];\n        }\n    }\n\n    //初手1\n    int ans1 = INT_MAX;\n    if (count1 == even && count0 == odd) {\n        vector<int> a = b;\n        ans1 = 0;\n        int pos = 0;\n        for (int i = 0; i < M; i++) {\n            while (true) {\n                bool good = true;\n                for (int j = 0; j < p[i]; j++) if (a[pos + j] != (i + 1) % 2) good = false;\n                if (good) break;\n                for (int j = pos; j < N - 1; j++) {\n                    if (a[j] == (i % 2) && a[j + 1] == ((i + 1) % 2)) {\n                        ans1++;\n                        swap(a[j], a[j + 1]);\n                        break;\n                    }\n                }\n            }\n            pos += p[i];\n        }\n    }\n\n    cout << min(ans0, ans1) << endl;\n\n    return 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint needswap(vector<int> s, vector<int> g){\n  int res = 0;\n  for(int i = 0; i < s.size() ; i++){\n    if(s[i] != g[i]){\n      int r = -1;\n      for(int k = i; k < s.size(); k++){\n        if(s[k] == g[i]){\n          r = k;\n          break;\n        } \n      }\n      if(r == -1) return 1e8;\n      swap(s[i], s[r]);\n      res += r - i;\n    }\n  }\n  return res;\n}\nint main(){\n  int n, m; cin >> n >> m;\n  vector<int> b(n), p(m);\n  for(int i = 0; i < n; i++){\n    cin >> b[i];\n  }\n  for(int i = 0; i < m; i++){\n    cin >> p[i];\n  }\n  vector<vector<int> > g(2, vector<int>());\n  for(int i = 0; i <= 1; i++){\n    int ff = i;\n    for(int c : p){\n      for(int k = 0; k < c; k++) g[i].push_back(ff);\n      ff = !ff;\n    }\n  }\n  cout << min(needswap(b, g[0]), needswap(b, g[1])) << endl;\n}\n\n/*\n\n0 1 0 1 1\n\n0 0 1 1 1\n1 1 1 0 0\n\n\n0 0 1 1 1 0 0\n\n1 1 0 0 0 0 1 \n 1 2 1 0\n\n0 0 0 1 0 1 1 0\n\n1 1 1 0 0 0 0 0\n 1 2 3 2 2 1 0\n*/ "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<(int)(n); ++i)\nusing namespace std;\ntypedef long long LL;\nint score(vector<int> a, vector<int> b) {\n    int n = a.size();\n    vector<bool> used(n);\n    int ans = 0;\n    for(int i = 0; i < n; i++) {\n        vector<int> c;\n        int cnt = 0;\n        bool ok = false;\n        for(int j = 0; j < n; j++) if(used[j]) {\n            if(b[j] == a[i]) {\n                ans += cnt;\n                ok = true;\n                break;\n            }\n            cnt ++;\n        }\n        if(!ok) return INT_MAX;\n    }\n    return ans;\n}\n\nint main(){\n    int n, m;\n    while(cin >> n >> m) {\n        vector<int> a(n);\n        REP(i, n) cin >> a[i];\n        vector<int> b0, b1;\n        REP(i, m) {\n            int t;\n            cin >> t;\n            REP(j, t) {\n                b0.push_back((i&1));\n                b1.push_back((i&1)^1);\n            }\n        }\n        cout << min(score(a, b0), score(a, b1)) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n\n#include <cstdio>\n#include <cstdlib>\n#include <iostream>\n#include <cmath>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <map>\n#include <list>\n\nusing namespace std;\n\ntypedef pair<long long int, long long int> P;\n\nlong long int INF = 1e18;\nlong long int MOD = 1e9 + 7;\n\nlong long int cnt[100000];\n\nint main(){\n\t\n\tint N, M;\n\tcin >> N >> M;\n\t\n\tint num = 0;\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tint p;\n\t\tcin >> p;\n\t\tnum *= 2;\n\t\tnum += p;\n\t}\n\tqueue<int> que;\n\tque.push(num);\n\t\n\tfor(int i = 0; i < (1 << N); i++){\n\t\tcnt[i] = INF;\n\t}\n\t\n\tfor(int loop = 0; loop < (1 << N); loop++){\n\t\tint sz = que.size();\n\t\tif(sz == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < sz; i++){\n\t\t\tnum = que.front();\n\t\t\tque.pop();\n\t\t\tif(cnt[num] != INF){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcnt[num] = loop;\n\t\t\tfor(int j = 0; j < N - 1; j++){\n\t\t\t\tint d1 = (num & (1 << j));\n\t\t\t\tint d2 = (num & (1 << (j + 1)));\n\t\t\t\tque.push(num + d1 - d2 / 2);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tnum = 0;\n\tint bin = 0;\n\tfor(int i = 0; i < M; i++){\n\t\tint p;\n\t\tcin >> p;\n\t\tfor(int j = 0; j < p; j++){\n\t\t\tnum *= 2;\n\t\t\tnum += bin;\n\t\t}\n\t\tbin++;\n\t\tbin %= 2;\n\t}\n\t\n\tlong long int ans = cnt[num];\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tif(num & (1 << i)){\n\t\t\tnum -= (1 << i);\n\t\t}else{\n\t\t\tnum += (1 << i);\n\t\t}\n\t}\n\t\n\tcout << min(ans, cnt[num]) << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\tint n, m;\n\tint ans = 100000000;\n\tcin >> n >> m;\n\tint a[20], b[20];\n\tfor(int i = 0; i < n; i++) cin >> a[i];\n\tfor(int i = 0; i < m; i++) cin >> b[i];\n\tfor(int u = 0; u < 2; u++){\n\t\tint c[20];\n\t\tint tmp = 0, pos = 0;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tint x = (i+u)%2;\n\t\t\tfor(int j = 0; j < b[i]; j++){\n\t\t\t\tc[pos] = x;\n\t\t\t\tpos++;\n\t\t\t}\n\t\t}\n\t\tint A = 0, C = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tA += a[i];\n\t\t\tC += c[i];\n\t\t}\n\t\tif(A != C) continue;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tif(a[i] == 0) continue;\n\t\t\tfor(int j = 0; j < n; j++){\n\t\t\t\tif(c[j] == 0) continue;\n\t\t\t\ttmp += abs(i-j);\n\t\t\t\tc[j] = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tans = min(ans,tmp);\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n\nint N, M, b[15], p[15], p1[15], p2[15];\n\nvoid solve() {\n\tint ii = 0, v = 0;\n\tfor_(i,0,M) {\n\t\tfor_(j,0,p[i]) p1[ii] = v, p2[ii++] = 1 - v;\n\t\tv = 1 - v;\n\t}\n\t\n\tint cnt = 0, cnt1 = 0, cnt2 = 0;\n\tfor_(i,0,N) cnt += b[i], cnt1 += p1[i], cnt2 += p2[i];\n\tbool f1 = cnt == cnt1, f2 = cnt == cnt2;\n\t\n\t\n\tint ans1 = 0, ans2 = 0, j1 = 0, j2 = 0;\n\tfor_(i,0,N) {\n\t\tif (b[i]) {\n\t\t\tif (f1) {\n\t\t\t\twhile (!p1[j1]) ++j1;\n\t\t\t\tans1 += abs(j1 - i);\n\t\t\t}\n\t\t\tif (f2) {\n\t\t\t\twhile (!p2[j2]) ++j2;\n\t\t\t\tans2 += abs(j2 - i);\n\t\t\t}\n\t\t\t++j1, ++j2;\n\t\t}\n\t}\n\t\n\tcout << min(f1 ? ans1 : 20, f2 ? ans2 : 20) << endl;\n}\n\nint main() {\n\tcin >> N >> M;\n\tfor_(i,0,N) cin >> b[i];\n\tfor_(i,0,M) cin >> p[i];\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<fstream>\n#include<stdio.h>\n#include<string>\n#include<vector>\n#include<map>\n#include<math.h>\n#include<algorithm>\n#include<iomanip>\n#include<set>\n#include<utility>\n\nusing namespace std;\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n  vector<int> b(n);\n  for(int i = 0; i < n; i++) cin >> b[i];\n  vector<int> p(m);\n  for(int i = 0; i < m; i++) cin >> p[i];\n  int ac = 0, bc = 0;\n  for(int i = 0; i < m; i++) {\n    if(i % 2 == 0) ac += p[i];\n    else bc += p[i];\n  }\n  int b0 = 0, b1 = 0;\n  for(int i = 0; i < n; i++) if(b[i] == 1) b1++;\n  else b0++;\n  int ans0 = 1000000, ans1 = 10000000;\n  vector<int> b0p;\n  for(int i = 0; i < n; i++) if(b[i] == 0) b0p.push_back(i);\n  if(b0 == ac) {\n    ans0 = 0;\n    int c = 0, pos = 0;\n    for(int i = 0; i < m; i++) {\n      for(int j = 0; j < p[i]; j++) {\n        if(i % 2 == 1) pos++;\n        else {\n          ans0 += abs(pos - b0p[c]);\n          c++;\n          pos++;\n        }\n      }\n    }\n  }\n  if(b0 == bc) {\n    ans1 = 0;\n    int c = 0, pos = 0;\n    for(int i = 0; i < m; i++) {\n      for(int j = 0; j < p[i]; j++) {\n        if(i % 2 == 0) pos++;\n        else {\n          ans1 += abs(pos - b0p[c]);\n          c++;\n          pos++;\n        }\n      }\n    }\n  }\n  cout << min(ans0, ans1) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\n\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n    int bits = 0;\n    for (int i = 0; i < n; i++) {\n        int input;\n        cin >> input;\n        bits <<= 1;\n        bits |= input;\n    }\n    int goal[2] = {0, 0};\n    int seq;\n    for (int i = 0; i < m; i++) {\n        cin >> seq;\n        for (int j = 0; j < seq; j++) {\n            goal[0] <<= 1;\n            goal[0] |= i % 2;\n        }\n    }\n    int range = (1 << n) - 1;\n    goal[1] = ~goal[0] & range;\n    int mask = 0b11;\n    int dp[65536];\n    fill_n((int *)dp, 65535, -2);\n    dp[bits] = 0;\n    dp[goal[0]] = dp[goal[1]] = -1;\n    queue<int> que;\n    que.push(bits);\n    while(!que.empty()){\n        int p = que.front(); que.pop();\n        for (int i = 0; i < n-1; i++) {\n            int masked = ~p & (mask << i);\n            if (masked == 0 || (p & (mask << i)) == 0) continue;\n            int swaped = masked | (p & ~(mask << i));\n            if (dp[swaped] == -1) {\n                cout << dp[p] + 1 << endl;\n                goto end;\n            }\n            if (dp[swaped] != -2) continue;\n            que.push(swaped);\n            dp[swaped] = dp[p] + 1;\n        }\n    }\n    cout << 0 << endl;\n    end:\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#define PB push_back\nusing namespace std;\nint absint(int a){ return a<0?-a:a; }\nint solve(vector<int> a,vector<int> b)\n{\n  if(a.size()!=b.size()) return 1000;\n  int answer=0;\n  for(int i=0;i<a.size();++i)\n    answer+=absint(a[i]-b[i]);\n  return answer;\n}\nvector<int> bit1(vector<int> a)\n{\n  vector<int> answer;\n  for(int i=0;i<a.size();++i)\n    if(a[i]==1) answer.PB(i);\n  return answer;\n}\nint main(void)\n{\n  vector<int> a,b,c;\n  int n,m;\n  cin >> n >> m;\n  for(int i=0;i<n;++i){\n    int tmp;\n    cin >> tmp;\n    a.PB(tmp);\n  }\n  for(int i=0;i<m;++i){\n    int tmp;\n    cin >> tmp;\n    for(int j=0;j<tmp;++j){\n      b.PB(i%2);\n      c.PB((i+1)%2);\n    }\n  }\n  int answer=1000;\n  int tmp = solve(bit1(a),bit1(b));\n  if(answer>tmp) answer=tmp;\n  tmp = solve(bit1(a),bit1(c));\n  if(answer>tmp) answer=tmp;\n  cout << answer << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,m;\n  cin>>n>>m;\n  int a1[n],a2[n],b1[n],b2[n],l[m],c=0;\n  r(i,n)cin>>a1[i],a2[i]=a1[i];\n  r(i,m)cin>>l[i];\n  r(i,n){\n    for(int p=0;p<l[c];p++,i++)\n      b1[i]=c%2,b2[i]=(c+1)%2;\n    c++;i--;\n  }\n  int pp=0,pp1=0;\n  r(i,n)if(a1[i]!=b1[i])pp++;\n  r(i,n)if(a1[i]!=b2[i])pp1++;\n  if(!pp||!pp1){\n    cout<<0<<endl;\n    return 0;\n  }\n  int p1=0,p2=0,c1=0,c2=0,k;\n  for(int j=0;j<n-1;j++)\n    if(a1[j]!=b1[j])\n      for(int i=j;i<n;i++)\n        if(a1[i]==b1[j]){swap(a1[i],a1[j]),p1+=i-j,c1++;break;}\n  for(int j=0;j<n-1;j++)\n    if(a2[j]!=b2[j])\n      for(int i=j;i<n;i++)\n        if(a2[i]==b2[j]){swap(a2[i],a2[j]),p2+=i-j,c2++;break;}\n  if(c1&&c2)k=max(p1,p2);\n  else if(c1)k=p1;\n  else k=p2;\n  cout<<k<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nconst int INF = 1e+8;\n\nint main() {\n  int n,m;\n  cin>>n>>m;\n  bitset<15> bs;\n  REP(i,n) {\n    int j;\n    cin>>j;\n    bs[n-i-1]=j;\n  }\n  int num = bs.to_ulong();\n  vector<int> dist(1<<n,INF);\n  dist[num] = 0;\n  queue<int> q;\n  q.push(num);\n  while(!q.empty()) {\n    int i=q.front();q.pop();\n    bitset<15> b(i);\n    REP(j,n-1) {\n      auto cp = b;\n      bool tmp = cp[j];\n      cp[j] = cp[j+1];\n      cp[j+1] = tmp;\n      int nb = cp.to_ulong();\n      if (dist[nb] > dist[i] + 1) {\n        dist[nb] = dist[i] + 1;\n        q.push(nb);\n      }\n    }\n  }\n  int g1,g2;\n  REP(i,m) {\n    int k;\n    cin>>k;\n    REP(j,k) {\n      g1 *= 2;\n      g1 |= i & 1;\n      g2 *= 2;\n      g2 |= 1 - (i & 1);\n    }\n  }\n  cout << min(dist[g1], dist[g2]) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint calc(vector<int> &from, vector<int> &to)\n{\n    if (accumulate(from.begin(), from.end(), 0) != accumulate(to.begin(), to.end(), 0))\n        return INT_MAX;\n\n    int res = 0, k = 0;\n    for (int i = 0; i < (int)from.size(); ++i)\n    {\n        if (from[i] == 0)\n            continue;\n        while (to[k] == 0)\n            k++;\n        res += abs(i - k);\n        k++;\n    }\n\n    return res;\n}\n\nint main()\n{\n    int N, M;\n    cin >> N >> M;\n\n    vector<int> b(N);\n    for (int i = 0; i < N; ++i)\n    {\n        cin >> b[i];\n    }\n\n    vector<int> p1(N), p2(N);\n    int k = 0, p;\n    for (int i = 0; i < M; ++i)\n    {\n        cin >> p;\n        while (p--)\n        {\n            p1[k] = i % 2;\n            p2[k] = (i + 1) % 2;\n            k++;\n        }\n    }\n    cout << min(calc(b, p1), calc(b, p2)) << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<queue>\n#include<algorithm>\nusing namespace std;\nint main()\n{\n  int n,m;\n  for(;cin>>n>>m,n;)\n    {\n      string s;\n      for (int i=0; i<n; i++) {\n        char tmp;\n        cin>>tmp;\n        s+=tmp;\n      }\n\n      string ss1,ss2;\n      bool flag=false;\n      for (int i=0; i<m; i++) {\n        int cnt=0;\n        cin>>cnt;\n        ss1+=string(cnt,'0'+flag);\n        ss2+=string(cnt,'0'+!flag);\n        flag=!flag;\n\n      }\n      // cout<<s<<endl;\n      //cout<<ss1<<endl;\n      //cout<<ss2<<endl;\n\n\n      queue<pair<string,int> >qu;\n      set<string> hash;\n      qu.push(make_pair(s,0));\n\n      while(true)\n        {\n          string ss=qu.front().first;\n          int cnt=qu.front().second;\n          qu.pop();\n          if(ss==ss1 || ss==ss2)\n            {\n              cout<<cnt<<endl;\n              break;\n            }\n          for(int i=0;i<ss.size()-1;i++)\n            {\n              string tmp=ss;\n              swap(tmp[i],tmp[i+1]);\n              if(hash.count(tmp)==0)\n                {\n                  hash.insert(tmp);\n                  qu.push(make_pair(tmp,cnt+1));\n                }\n\n            }\n\n\n        }\n\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;++i)\n#define INF 1e9\n\nint N,M;\n\nint solve(vector<int> b, vector<int> goal){\n    int cnt=0;\n    rep(l,N)if(b[l]!=goal[l]){\n        int r=l;\n        do{\n            if(r==N-1)return 1000;\n            r++;\n        }while(b[l]==b[r]);\n\n        while(l<r){\n            swap(b[r],b[r-1]);\n            r--;\n            cnt++;\n        }\n    }\n    return cnt;\n}\n\nint main(void){\n    cin>>N>>M;\n    vector<int> b(N),goal1(N),goal2(N);\n    rep(i,N) cin>>b[i];\n    int index=0;\n    rep(i,M) {\n        int p;\n        cin>>p;\n        rep(j,p){\n            goal1[index] = (i%2==0);\n            goal2[index] = (i%2!=0);\n            index++;\n        }\n    }\n    cout<<min(solve(b,goal1),solve(b,goal2))<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// ACM-ICPCアジア地区予選2013 A. Bit String Reordering\n\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint solve(const vector<int>& _b, const vector<int>& _v, int start){\n\tint n = _b.size();\n\tvector<int> b = _b, target;\n\tfor(int i=0;i<_v.size();i++){\n\t\tfor(int j=0;j<_v[i];j++) target.push_back(start);\n\t\tstart = 1-start;\n\t}\n\tint res = 0;\n\tfor(int i=0;i<n;i++){\n\t\tint p = i;\n\t\tfor(;p<n;p++){\n\t\t\tif(b[p]==target[i]) break;\n\t\t}\n\t\tif(p == n) return 100000000;\n\t\tres += p-i;\n\t\tfor(int j=p-1;j>=i;j--){\n\t\t\tswap(b[j], b[j+1]);\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(){\n\tint N, M;\n\twhile(cin >> N >> M){\n\t\tvector<int> b(N), r(M);\n\t\tfor(int i=0;i<N;i++) cin >> b[i];\n\t\tfor(int i=0;i<M;i++) cin >> r[i];\n\t\tcout << min(solve(b, r, 0), solve(b, r, 1)) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1<<28;\nint N, M;\nvector<int> B, P;\n\nint numOfSwaps(const vector<int> &a) {\n  int n = a.size();\n  int res = 0;\n  for(int i = 0; i < n; ++i) {\n    for(int j = i+1; j < n; ++j) {\n      res += (a[i] > a[j]);\n    }\n  }\n  return res;\n}\n\nint calc(const vector<int> &a) {\n  if(accumulate(a.begin(), a.end(), 0) !=\n     accumulate(B.begin(), B.end(), 0)) return INF;\n  vector<int> b(N, -1);\n  for(int i = 0; i < N; ++i) {\n    for(int j = 0; j < N; ++j) {\n      if(b[j] == -1 && B[j] == a[i]) {\n        b[j] = i;\n        break;\n      }\n    }\n  }\n  return numOfSwaps(b);\n}\n\nint main() {\n  cin >> N >> M;\n  B.resize(N); P.resize(M);\n  for(int i = 0; i < N; ++i) cin >> B[i];\n  for(int i = 0; i < M; ++i) cin >> P[i];\n  vector<int> C(N), D(N);\n  for(int i = 0, j = 0; j < M; ++j) {\n    for(int k = 0; k < P[j]; ++k, ++i) C[i] = j & 1;\n  }\n  for(int i = 0; i < N; ++i) D[i] = 1 - C[i];\n  cout << min(calc(C), calc(D)) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint main() {\n\tint n, m;\n\tcin >> n >> m;\n\n\tvector<int> a(n), b(m);\n\trep(i, n) cin >> a[i];\n\trep(i, m) cin >> b[i];\n\n\n\tvector<int> c, d;\n\trep(i, m) {\n\t\trep(j, b[i]) {\n\t\t\tif(i & 1) {\n\t\t\t\tc.push_back(1);\n\t\t\t\td.push_back(0);\n\t\t\t} else {\n\t\t\t\tc.push_back(0);\n\t\t\t\td.push_back(1);\n\t\t\t}\n\t\t}\n\t}\n\n\tint ans = INF, res = 0;\n\tvector<int> t(a.begin(), a.end());\n\trep(i, n) {\n\t\tif(t[i] == c[i]) continue;\n\n\t\tREP(j, i+1, n) {\n\t\t\tif(c[i] == t[j]) {\n\t\t\t\tfor(int k = j; k-1 >= i; k--) {\n\t\t\t\t\tswap(t[k], t[k-1]);\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tbool flag = true;\n\trep(i, n) {\n\t\tif(t[i] == c[i]) continue;\n\t\tflag = false;\n\t}\n\n\tif(flag) {\n\t\tans = min(ans, res);\n\t}\n\n\tres = 0;\n\trep(i, n) t[i] = a[i];\n\n\trep(i, n) {\n\t\tif(t[i] == d[i]) continue;\n\n\t\tREP(j, i+1, n) {\n\t\t\tif(d[i] == t[j]) {\n\t\t\t\tfor(int k = j; k-1 >= i; k--) {\n\t\t\t\t\tswap(t[k], t[k-1]);\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\t}\n\n\tflag = true;\n\trep(i, n) {\n\t\tif(t[i] == d[i]) continue;\n\t\tflag = false;\n\t}\n\n\tif(flag) {\n\t\tans = min(ans, res);\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#include <iostream>\n#include <math.h>\n#include <assert.h>\n#include <vector>\n#include <queue>\n#include <string>\n#include <map>\n#include <set>\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\nstatic const double EPS = 1e-9;\nstatic const double PI = acos(-1.0);\n\n#define REP(i, n) for (int i = 0; i < (int)(n); i++)\n#define FOR(i, s, n) for (int i = (s); i < (int)(n); i++)\n#define FOREQ(i, s, n) for (int i = (s); i <= (int)(n); i++)\n#define FORIT(it, c) for (__typeof((c).begin())it = (c).begin(); it != (c).end(); it++)\n#define MEMSET(v, h) memset((v), h, sizeof(v))\n\nint n, m;\nint bits[100];\nint len[100];\nint seq[100];\nbool used[100];\nint temp[100];\n\nint main() {\n  while (scanf(\"%d %d\", &n, &m) > 0) {\n    REP(i, n) {\n      scanf(\"%d\", &bits[i]);\n    }\n    REP(i, m) {\n      scanf(\"%d\", &len[i]);\n    }\n    int ans = 1e+9;\n    REP(iter, 2) {\n      REP(i, n) {\n        temp[i] = bits[i] ^ iter;\n      }\n\n      int index = 0;\n      REP(i, m) {\n        REP(j, len[i]) { seq[index++] = i & 1; }\n      }\n      int sum = 0;\n      REP(i, n) {\n        FOR(j, i, n) {\n          if (temp[j] != seq[i]) { continue; }\n          for (int k = j; k > i; k--) {\n            swap(temp[k], temp[k - 1]);\n            sum++;\n          }\n          goto next;\n        }\n        sum += 1000;\nnext:;\n      }\n      ans = min(ans, sum);\n    }\n    printf(\"%d\\n\", ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <queue>\n#include <string>\n#include <vector>\n#include <utility>\n#include <iostream>\n#include <algorithm>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint BFS(string S, string T) // S --> T\n{\n\tmap<string, int> D; D[S] = 1;\n\n\tqueue<pair<string, int> > que; que.push(make_pair(S, 1));\n\n\tif (S == T) { return 0; }\n\n\twhile (!que.empty())\n\t{\n\t\tstring S2 = que.front().first;\n\n\t\tint dist = que.front().second; que.pop();\n\n\t\tfor (int i = 0; i < T.size() - 1; i++)\n\t\t{\n\t\t\tstring S3 = S2;\n\n\t\t\tswap(S3[i], S3[i + 1]);\n\n\t\t\tif (S3 == T) { return dist; }\n\n\t\t\tif (D[S3] == 0)\n\t\t\t{\n\t\t\t\tD[S3] = dist + 1;\n\n\t\t\t\tque.push(make_pair(S3, dist + 1));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn INF;\n}\n\nint main()\n{\n\tint N, M;\n\n\tcin >> N >> M;\n\n\tvector<int> B(N); for (int i = 0; i < N; i++) { cin >> B[i]; }\n\tvector<int> R(M); for (int i = 0; i < M; i++) { cin >> R[i]; }\n\n\tstring S, T1, T2;\n\n\tfor (int i = 0; i < N; i++) { S += B[i] + 48; }\n\n\tfor (int i = 0; i < M; i++)\n\t{\n\t\tfor (int j = 0; j < R[i]; j++) \n\t\t{\n\t\t\tT1 += i % 2 + 48;\n\t\t\tT2 += (i + 1) % 2 + 48;\n\t\t}\n\t}\n\n\tint res1 = BFS(S, T1);\n\tint res2 = BFS(S, T2);\n\n\tcout << min(res1, res2) << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(c) (c).begin(),(c).end()\n#define rrep(i,n) for(int i=(int)(n)-1;i>=0;i--)\n#define REP(i,m,n) for(int i=(int)(m);i<(int)(n);i++)\n#define rep(i,n) REP(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define tr(it,c) for(iter(c) it=(c).begin();it!=(c).end();it++)\n#define mem(a) memset(a,0,sizeof(a))\n#define pd(a) printf(\"%.10f\\n\",a)\n#define pb(a) push_back(a)\n#define in(a) insert(a)\n#define pi M_PI\n#define R cin>>\n#define F first\n#define S second\n#define C class\n#define ll long long\n#define ln cout<<'\\n'\n#define _(_1,_2,_3,N,...)N\n#define pr(...) _(__VA_ARGS__,pr3,pr2,pr1)(__VA_ARGS__)\ntemplate<C T>void pr1(T a){cout<<a;ln;}\ntemplate<C T,C T2>void pr2(T a,T2 b){cout<<a<<' '<<b;ln;}\ntemplate<C T,C T2,C T3>void pr3(T a,T2 b,T3 c){cout<<a<<' '<<b<<' '<<c;ln;}\ntemplate<C T>void PR(T a,int n){rep(i,n){if(i)cout<<' ';cout<<a[i];}ln;}\nbool check(int n,int m,int x,int y){return x>=0&&x<n&&y>=0&&y<m;}\nconst ll MAX=1000000007,MAXL=1LL<<60,dx[4]={-1,0,1,0},dy[4]={0,1,0,-1};\ntypedef pair<int,int> P;\n\nvoid Main() {\n  int n,m;\n  cin >> n >> m;\n  int a[n],b[m],k=0,kk[2]={0,0};\n  rep(i,n) {\n    R a[i];\n    k+=a[i];\n  }\n  rep(i,m) {\n    R b[i];\n    kk[i%2]+=b[i];\n  }\n  int ans=MAX;\n  rep(t,2) {\n    if(k!=kk[t]) continue;\n    int p=!t,d=0;\n    int c[n],cc[n],cnt=0;\n    rep(i,n) cc[i]=a[i];\n    rep(i,m) {\n      REP(j,d,d+b[i]) c[j]=p;\n      d+=b[i];\n      p^=1;\n    }\n    rep(i,n) {\n      int j=i;\n      while(j<n && cc[j]!=c[i]) {\n        cnt++;\n        j++;\n      }\n      swap(cc[j],cc[i]);\n    }\n    ans=min(ans,cnt);\n  }\n  pr(ans);\n}\n\nint main() {\n  ios::sync_with_stdio(0);cin.tie(0);\n  Main();return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include <iostream>\n#include <math.h>\n#include <numeric>\n#include <vector>\n#include <map>\n#include <functional>\n#include <stdio.h>\n#include <array>\n#include <algorithm>\n#include <string>\n#include <assert.h>\n#include <stdio.h>\n#include <queue>\n#include<iomanip>\n#include<bitset>\n#include<stack>\nusing namespace std;\n\n//7:10\n//\n//#define REP(i,n) for(int i=0;i<(int)n;++i)\n//#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n//#define ALL(c) (c).begin(), (c).end()\n//\n//typedef int Weight;\n//struct Edge {\n//\tint src, dst;\n//\tWeight weight;\n//\tEdge(int src, int dst, Weight weight) :\n//\t\tsrc(src), dst(dst), weight(weight) { }\n//};\n//bool operator < (const Edge &e, const Edge &f) {\n//\treturn e.weight != f.weight ? e.weight > f.weight : // !!INVERSE!!\n//\te.src != f.src ? e.src < f.src : e.dst < f.dst;\n//}\n//typedef vector<Edge> Edges;\n//typedef vector<Edges> Graph;\n//\n//typedef vector<Weight> Array;\n//typedef vector<Array> Matrix;\n//\n//#define RESIDUE(s,t) (capacity[s][t]-flow[s][t])\n//Weight maximumFlow(const Graph &g, int s, int t) {\n//\tint n = g.size();\n//\tMatrix flow(n, Array(n)), capacity(n, Array(n));\n//\tREP(u, n) for (auto e = g[u].begin(); e != g[u].end();++e)capacity[e->src][e->dst] += e->weight;\n//\n//\tWeight total = 0;\n//\twhile (1) {\n//\t\tqueue<int> Q; Q.push(s);\n//\t\tvector<int> prev(n, -1); prev[s] = s;\n//\t\twhile (!Q.empty() && prev[t] < 0) {\n//\t\t\tint u = Q.front(); Q.pop();\n//\t\t\tfor (auto e = g[u].begin(); e != g[u].end(); ++e) if (prev[e->dst] < 0 && RESIDUE(u, e->dst) > 0) {\n//\t\t\t\tprev[e->dst] = u;\n//\t\t\t\tQ.push(e->dst);\n//\t\t\t}\n//\t\t}\n//\t\tif (prev[t] < 0) return total; // prev[x] == -1 <=> t-side\n//\t\tWeight inc = 999999999;\n//\t\tfor (int j = t; prev[j] != j; j = prev[j])\n//\t\t\tinc = min(inc, RESIDUE(prev[j], j));\n//\t\tfor (int j = t; prev[j] != j; j = prev[j])\n//\t\t\tflow[prev[j]][j] += inc, flow[j][prev[j]] -= inc;\n//\t\ttotal += inc;\n//\t}\n//\treturn total;\n//}\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define ALL(x) (x).begin(),(x).end()\n\n\nconst int mod = 1000000007;\n\nstruct Mod {\n\tlong long int num;\n\tMod() : num(0) { ; }\n\tMod(long long int n) : num((n % mod + mod) % mod) { ; }\n\toperator long long int() { return num; }\n};\n\nMod operator+(Mod a, Mod b) { return Mod((a.num + b.num) % mod); }\nMod operator-(Mod a, Mod b) { return Mod((mod + a.num - b.num) % mod); }\nMod operator*(Mod a, Mod b) { return Mod(((long long)a.num * b.num) % mod); }\nMod operator+=(Mod &a, Mod b) { return a = a + b; }\nMod operator-=(Mod &a, Mod b) { return a = a - b; }\nMod operator*=(Mod &a, Mod b) { return a = a * b; }\nMod operator^(Mod a, int n) {\n\tif (n == 0) return Mod(1);\n\tMod res = (a * a) ^ (n / 2);\n\tif (n % 2) res = res * a;\n\treturn res;\n}\nMod inv(Mod a) { return a ^ (mod - 2); }\nMod operator/(Mod a, Mod b) { return a * inv(b); }\n\n#define MAX_N 1024000\n\nMod fact[MAX_N], factinv[MAX_N];\nvoid init() {\n\tfact[0] = Mod(1); factinv[0] = 1;\n\tREP(i, MAX_N - 1) {\n\t\tfact[i + 1] = fact[i] * Mod(i + 1);\n\t\tfactinv[i + 1] = factinv[i] / Mod(i + 1);\n\t}\n}\nMod comb(int a, int b) {\n\treturn fact[a] * factinv[b] * factinv[a - b];\n}\n\nlong long int memo[20];//nけた\n\nlong long int powint(long long int a, int b){\n\tif (b == 0)return 1;\n\tif (b == 1)return a;\n\telse{\n\t\tlong long int ans = 1;\n\t\tlong long int c = powint(a, b / 2);\n\t\tans *= c*c;\n\t\tans *= (b % 2) ? a : 1;\n\t\treturn ans;\n\t}\n\n}\n\n\nint backnum[100000][20];\n\nstruct Node{\n\tNode(int aid):children(),ancs(){\n\t\tid=(aid);\n\t\tfor (int i = 0; i < 20; ++i){\n\t\t\tancs[i] = -1;\n\t\t}\n\t}\n\tint id;\n\tvector<int>children;\n\tarray<int, 20>ancs;\n};\n\nint main()\n{\n\tint N,M;\n\tcin >> N >> M;\n\tbitset<15>Moto;\n\tfor (int i = 0; i < N; ++i){\n\t\tint a;\n\t\tcin >> a;\n\t\tMoto[i]=a;\n\t}\n\tvector<int>k;\n\t\n\tfor (int i = 0; i < M; ++i){\n\t\tint a;\n\t\tcin >> a;\n\t\tk.emplace_back(a);\n\t}\n\tint ans = 9999;\n\t{\n\t\tint a = 1;\n\t\tbitset<15> Next1;\n\t\tint count = 0;\n\t\tfor (int i = 0; i < k.size(); ++i){\n\t\t\tfor (int j = 0; j < k[i]; ++j){\n\t\t\t\tNext1[count++] = a;\n\t\t\t\t\n\t\t\t}\n\t\t\tif (a)a = 0;\n\t\t\telse a = 1;\n\t\t}\n\t\tif (Moto.count() != Next1.count()){\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tvector<int>oneplace;\n\t\t\tvector<int>oneplace2;\n\t\t\tfor (int i = 0; i < N; ++i){\n\t\t\t\tif (Moto[i])oneplace.push_back(i);\n\t\t\t\tif (Next1[i])oneplace2.push_back(i);\n\t\t\t}\n\t\t\tif (!oneplace.size()){\n\t\t\t\tans = 0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint kotae = 0;\n\t\t\t\tint mit = oneplace[0];\n\t\t\t\tint nit = oneplace2[0];\n\t\t\t\tkotae += abs(mit - nit);\n\t\t\t\tfor (int i = 1; i < oneplace.size(); ++i){\n\t\t\t\t\tkotae += abs(oneplace[i] - oneplace2[i]);\n\t\t\t\t}\n\t\t\t\tans = min(ans, kotae);\n\t\t\t}\n\t\t}\n\t}\n\t{\n\t\tint a =0;\n\t\tbitset<15> Next1;\n\t\tint count = 0;\n\t\tfor (int i = 0; i < k.size(); ++i){\n\t\t\tfor (int j = 0; j < k[i]; ++j){\n\t\t\t\tNext1[count++] = a;\n\n\t\t\t}\n\t\t\tif (a)a = 0;\n\t\t\telse a = 1;\n\t\t}\n\t\tif (Moto.count() != Next1.count()){\n\n\t\t}\n\t\telse{\n\t\t\tvector<int>oneplace;\n\t\t\tvector<int>oneplace2;\n\t\t\tfor (int i = 0; i < N; ++i){\n\t\t\t\tif (Moto[i])oneplace.push_back(i);\n\t\t\t\tif (Next1[i])oneplace2.push_back(i);\n\t\t\t}\n\t\t\tif (!oneplace.size()){\n\t\t\t\tans = 0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint kotae = 0;\n\t\t\t\tint mit = oneplace[0];\n\t\t\t\tint nit = oneplace2[0];\n\t\t\t\tkotae += abs(mit - nit);\n\t\t\t\tfor (int i = 1; i < oneplace.size(); ++i){\n\t\t\t\t\tkotae += abs(oneplace[i] - oneplace2[i]);\n\t\t\t\t}\n\t\t\t\tans = min(ans, kotae);\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#include <map>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tvector<int>start(n),end1(n),end2(n);\n\tfor(int i=0;i<n;i++)scanf(\"%d\",&start[i]);\n\t{\n\t\tvector<int>p(m);\n\t\tfor(int i=0;i<m;i++)scanf(\"%d\",&p[i]);\n\t\tfor(int i=0,c=0,x=0;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end1[c]=x;\n\t\tfor(int i=0,c=0,x=1;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end2[c]=x;\n\t}\n\tmap<vector<int>,int>depth;\n\tqueue<vector<int> >q;\n\tdepth[start]=1,depth[end1]=depth[end2]=-1;\n\tq.push(start),q.push(end1),q.push(end2);\n\tfor(;!q.empty();){\n\t\tvector<int>cur=q.front();q.pop();\n\t\tint d=depth[cur];\n\t\tfor(int i=0;i<n-1;i++)if(cur[i]!=cur[i+1]){\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t\tmap<vector<int>,int>::iterator it=depth.find(cur);\n\t\t\tif(it==depth.end()){\n\t\t\t\tdepth[cur]=d+(d>0?1:-1);\n\t\t\t\tq.push(cur);\n\t\t\t}else if(it->second*d<0){\n\t\t\t\td-=it->second;\n\t\t\t\tif(d<0)d=-d;\n\t\t\t\tprintf(\"%d\\n\",d-1);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t}\n\t}\n\tputs(\"0\");\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint n, m, res;\nvs target;\nset<string> s;\n\nvoid dfs(int, string);\n\nint main(void){\n    for(; cin >> n >> m; cout << res << endl){\n        res = inf;\n        s.clear();\n\n        string str;\n        rep(i, n){\n            char c; cin >> c;\n            str.pb(c);\n        }\n\n        target = vs(2);\n        bool zero = false;\n        rep(i, m){\n            int p; cin >> p;\n\n            rep(j, p){\n                target[0].pb(zero ? '0':'1');\n                target[1].pb(zero ? '1':'0');\n            }\n            zero = !zero;\n        }\n\n        queue< pair<string, int> > q;\n        q.push(mp(str, 0));\n\n        while(!q.empty()){\n            string curstr = q.front().first;\n            int curcnt = q.front().second;\n            q.pop();\n\n            if(!s.insert(curstr).second) continue;\n\n            if(curstr == target[0] || curstr == target[1]){\n                res = curcnt;\n                break;\n            }\n\n            rep(i, n - 1){\n                string next = curstr;\n                swap(next[i], next[i + 1]);\n\n                q.push(mp(next, curcnt + 1));\n            }\n        }\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\nint solve(int N, int b, int p) {\n    if (__builtin_popcount(b) != __builtin_popcount(p)) return N << 1;\n    int swp = 0;\n    for (int i = 0; i < N && b != p; ++i) {\n        if ((b >> i & 1) == (p >> i & 1)) continue;\n        for (int j = i + 1; j < N; ++j) {\n            if ((p >> i & 1) == (p >> j & 1)) continue;\n            swp += j - i;\n            p ^= 1 << i | 1 << j;\n            break;\n        }\n    }\n    return swp;\n}\n\nint main() {\n    int N, M; cin >> N >> M;\n    int b = 0, p = 0;\n    rep(i, N) {\n        int x; cin >> x;\n        b <<= 1;\n        b |= x;\n    }\n    rep(i, M) {\n        int l = 0; cin >> l;\n        p <<= l;\n        if (i & 1) p |= (1 << l) - 1;\n    }\n    cout << min(solve(N, b, p), solve(N, b, p ^ ((1 << N) - 1))) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  int n, m; cin >> n >> m;\n  vector<int> a1(n), a2(n), b(m);\n  int cntev1 = 0, cntod1 = 0;\n  for(int i=0;i<n;++i) {\n    cin >> a1[i];\n    a2[i] = a1[i];\n    if(a1[i]) {\n      cntod1++;\n    } else {\n      cntev1++;\n    }\n  }\n\n  int cntev2 = 0, cntod2 = 0;\n  bool ev = true;\n  for(int i=0;i<m;++i) {\n    cin >> b[i];\n    if(ev) {\n      cntev2 += b[i];\n    } else {\n      cntod2 += b[i];\n    }\n    ev = !ev;\n  }\n\n  vector<int> s1, s2;\n  int nx1 = 0, nx2 = 1;\n  if(cntev1 != cntev2 || cntod1 != cntod2) {\n    nx1 = -1;\n  } else if(cntev1 != cntod2 || cntod1 != cntev2) {\n    nx2 = -1;\n  }\n/*   cout << cntev1 << \":\" << cntod1 << endl;\n  cout << cntev2 << \":\" << cntod2 << endl; */\n\n  for(int i=0;i<m;++i) {\n    for(int j=0;j<b[i];++j) {\n      if(nx1 != -1) s1.push_back(nx1);\n      if(nx2 != -1) s2.push_back(nx2);\n    }\n    if(nx1 != -1) nx1 = !nx1;\n    if(nx2 != -1) nx2 = !nx2;\n  }\n\n\n  // cout << \"A\" << endl;\n\n  int cnt1 = 0;\n  if(nx1 != -1) {\n    for(int i=0;i<n;++i) {\n      if(a1[i] != s1[i]) {\n        int pos = i;\n        while(a1[pos] != s1[i]) {\n          pos++;\n        }\n        cnt1 += pos - i;\n        int tmppos = a1[pos];\n        a1.erase(a1.begin() + pos);\n        a1.insert(a1.begin() + i, tmppos);\n      }\n    }\n  } else {\n    cnt1 = INF;\n  }\n\n  int cnt2 = 0;\n  if(nx2 != -1) {\n    for(int i=0;i<n;++i) {\n      if(a2[i] != s2[i]) {\n        int pos = i;\n        while(a2[pos] != s2[i]) {\n          pos++;\n        }\n        cnt2 += pos - i;\n        int tmppos = a2[pos];\n        a2.erase(a2.begin() + pos);\n        a2.insert(a2.begin() + i, tmppos);\n      }\n    }\n  } else {\n    cnt2 = INF;\n  }\n\n  cout << min(cnt1, cnt2) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <queue>\n#include <algorithm>\n\nusing namespace std;\n\nint dist[1 << 15];\n\nvoid printBit(int cur, int n) {\n\tfor(int i = n - 1; i >= 0; i--)\n\t\tprintf(\"%d \", (cur & (1 << i)) > 0 ? 1 : 0);\n}\n\nint main(void) {\n\tint n, m, bits = 0, data[15];\n\tscanf(\"%d %d\", &n, &m);\n\tif(n == 1) {\n\t\tprintf(\"0\\n\");\n\t\treturn 0;\n\t}\n\tfor(int i = 0; i < n; i++) {\n\t\tint v;\n\t\tscanf(\"%d\", &v);\n\t\tbits <<= 1;\n\t\tbits += v;\n\t}\n\tint goal[2] = {0, 0};\n\tfor(int i = 0; i < m; i++) {\n\t\tscanf(\"%d\", data + i);\n\t\tfor(int j = 0; j < data[i]; j++) {\n\t\t\tgoal[i % 2] <<= 1;\n\t\t\tgoal[!(i % 2)] = (goal[!(i % 2)] * 2 + 1);\n\t\t}\n\t}\n\n\tfill(dist, dist + (1 << n), -1);\n\tdist[bits] = 0;\n\tqueue<int> q;\n\tq.push(bits);\n\twhile(!q.empty()) {\n\t\tint cur = q.front();\n//\t\tprintBit(cur, n);\n//\t\tprintf(\", %d\\n\", dist[cur]);\n\t\tq.pop();\n\n\t\tfor(int i = 0; i < n - 1; i++) {\n\t\t\tint upper = (((1 << 16) - 1) & cur) >> (i + 2);\n\t\t\tint lower = ((1 << i) - 1) & cur;\n\t\t\tint mid = (cur >> i) & 3;\n\t\t\tif(mid == 1) mid = 2;\n\t\t\telse if(mid == 2) mid = 1;\n\n\t\t\tint next = (((upper << 2) + mid) << i) + lower;\n//\t\t\tprintBit(cur, n);\n//\t\t\tprintf(\"\\t\");\n//\t\t\tprintBit(next, n);\n//\t\t\tprintf(\"\\n\");\n\t\t\tif(dist[next] == -1) {\n\t\t\t\tdist[next] = dist[cur] + 1;\n\t\t\t\tq.push(next);\n\t\t\t}\n\t\t}\n\t}\n\n\tint ans = dist[goal[0]];\n\tif(ans == -1 or (dist[goal[1]] != -1 and ans > dist[goal[1]])) ans = dist[goal[1]];\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#include <map>\n#include <cstdio>\nusing namespace std;\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tif(m==1){\n\t\tputs(\"0\");return 0;\n\t}\n\tvector<int>start(n),end1(n),end2(n);\n\tfor(int i=0;i<n;i++)scanf(\"%d\",&start[i]);\n\t{\n\t\tvector<int>p(m);\n\t\tfor(int i=0;i<m;i++)scanf(\"%d\",&p[i]);\n\t\tfor(int i=0,c=0,x=0;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end1[c]=x;\n\t\tfor(int i=0,c=0,x=1;i<m;i++,x^=1)for(int j=0;j<p[i];j++,c++)end2[c]=x;\n\t}\n\tmap<vector<int>,int>depth;\n\tqueue<vector<int> >q;\n\tdepth[start]=1,depth[end1]=depth[end2]=-1;\n\tq.push(start),q.push(end1),q.push(end2);\n\tfor(;!q.empty();){\n\t\tvector<int>cur=q.front();q.pop();\n\t\tint d=depth[cur];\n\t\tfor(int i=0;i<n-1;i++)if(cur[i]!=cur[i+1]){\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t\tmap<vector<int>,int>::iterator it=depth.find(cur);\n\t\t\tif(it==depth.end()){\n\t\t\t\tdepth[cur]=d+(d>0?1:-1);\n\t\t\t\tq.push(cur);\n\t\t\t}else if(it->second*d<0){\n\t\t\t\td-=it->second;\n\t\t\t\tif(d<0)d=-d;\n\t\t\t\tprintf(\"%d\\n\",d-1);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tswap(cur[i],cur[i+1]);\n\t\t}\n\t}\n\tputs(\"0\");\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <array>\n#include <cassert>\n#include <climits>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n#define REP(i, n) for (int i = 0; (i) < int(n); ++ (i))\n#define REP3(i, m, n) for (int i = (m); (i) < int(n); ++ (i))\n#define ALL(x) begin(x), end(x)\nusing namespace std;\n\nstring deflate_run_length_code(vector<int> const & p, bool initial) {\n    string s;\n    for (int p_i : p) {\n        s += string(p_i, '\\0' + initial);\n        initial ^= 1;\n    }\n    return s;\n}\nint count_swaps(vector<int> b, string const & a) {\n    assert (b.size() == a.size());\n    if (count(ALL(b), 1) != count(ALL(a), 1)) return INT_MAX;\n    int n = a.size();\n    int result = 0;\n    REP (i, n) if (b[i] != a[i]) {\n        REP3 (j, i + 1, n) if (b[i] != b[j]) {\n            swap(b[i], b[j]);\n            result += j - i;\n            break;\n        }\n    }\n    return result;\n}\n\nint main() {\n    int n, m; scanf(\"%d%d\", &n, &m);\n    vector<int> b(n); REP (i, n) scanf(\"%d\", &b[i]);\n    vector<int> p(n); REP (i, m) scanf(\"%d\", &p[i]);\n    int result = min(\n        count_swaps(b, deflate_run_length_code(p, 0)),\n        count_swaps(b, deflate_run_length_code(p, 1)));\n    printf(\"%d\\n\", result);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <algorithm>\n#include <iomanip>\n#include <queue>\nusing ll = long long;\nusing namespace std;\n\nint b[2], p[20];\nint bb[20]; //もとの数列\nint const MOD = 1e9 + 7;\nint main(void)\n{\n    int N, M;\n    cin >> N >> M;\n\n    vector<int> ori1, s1, t1;\n    string ori = \"\";\n    for (int i = 0; i < N; ++i)\n    {\n        char s;\n        cin >> s;\n        ori += s;\n        b[s - '0']++;\n        if (s == '1')\n        {\n            ori1.push_back(i);\n        }\n    }\n    if (N == 1)\n    {\n        cout << 0 << endl;\n        return 0;\n    }\n    int even = 0, odd = 0;\n    for (int i = 0; i < M; ++i)\n    {\n        cin >> p[i];\n        if (i % 2 == 0)\n            even += p[i];\n        else\n            odd += p[i];\n    }\n\n    //b[0]は0の個数, b[1]は1の個数\n    //0が偶数番目に並ぶとき\n    string s = \"\", t = \"\";\n\n    if (b[0] == b[1])\n    {\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '0';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '1';\n                }\n            }\n        }\n\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    t += '1';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    t += '0';\n                }\n            }\n        }\n        for (int i = 0; i < N; ++i)\n        {\n            if (s[i] == '1')\n            {\n                s1.push_back(i);\n            }\n            else\n            {\n                t1.push_back(i);\n            }\n        }\n        int ans = 0, ans1 = 0;\n        for (int i = 0; i < ori1.size(); ++i)\n        {\n            ans += abs(ori1[i] - s1[i]);\n            ans1 += abs(ori1[i] - t1[i]);\n        }\n        cout << min(ans, ans1) << endl;\n        return 0;\n    }\n    else if (b[0] == even)\n    {\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '0';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '1';\n                }\n            }\n        }\n        for (int i = 0; i < N; ++i)\n        {\n            if (s[i] == '1')\n            {\n                s1.push_back(i);\n            }\n        }\n        int ans = 0;\n        for (int i = 0; i < ori1.size(); ++i)\n        {\n            ans += abs(ori1[i] - s1[i]);\n        }\n        cout << ans << endl;\n        return 0;\n    }\n    else\n    {\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '1';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '0';\n                }\n            }\n        }\n        for (int i = 0; i < N; ++i)\n        {\n            if (s[i] == '1')\n            {\n                s1.push_back(i);\n            }\n        }\n        int ans = 0;\n        for (int i = 0; i < ori1.size(); ++i)\n        {\n            ans += abs(ori1[i] - s1[i]);\n        }\n        cout << ans << endl;\n        return 0;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>  \nusing namespace std;\nconst int INF = 1 << 30;\n\nint N, M, b, Exit, mask;\nint v[1 << 15];\nint ret;\nvoid rec(int digit, int cnt){\n  if(cnt >= ret) return;\n  if(digit == Exit || digit == ((~Exit) & mask)){\n    ret = min( ret, cnt);\n    return;\n  } else if(v[digit & mask] <= cnt){\n    return;\n  } else {\n    v[digit] = cnt;\n    const int prev = digit;\n    for(int i = 0; i < N - 1; ++i){\n      digit &= ~(3 << i);\n      digit |= ((prev >> i) & 1) << (i + 1);\n      digit |= ((prev >> (i + 1)) & 1) << i;\n      rec( digit, cnt + 1);\n      digit = prev;\n    }\n  }\n}\n\nint main(){\n  fill_n( v, 1 << 15, INF);\n  ret = INF;\n\n  cin >> N >> M;\n  mask = (1 << N) - 1;\n  for(int i = 0; i < N; ++i){\n    bool d;\n    cin >> d;\n    b |= d << (N - i - 1);\n  }\n  int cnt = 0;\n  bool flip = false;\n  for(int i = 0; i < M; ++i){\n    int p;\n    cin >> p;\n    while(p--){\n      Exit |= (int)flip << (N - cnt - 1);\n      ++cnt;\n    }\n    flip ^= 1;\n  }\n  rec(b, 0);\n  cout << ret << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,m;\n  cin>>n>>m;\n  int a1[n],a2[n],b1[n],b2[n],l[m],c=0;\n  r(i,n)cin>>a1[i],a2[i]=a1[i];\n  r(i,m)cin>>l[i];\n  r(i,n){\n    for(int p=0;p<l[c];p++,i++)\n      b1[i]=c%2,b2[i]=(c+1)%2;\n    c++;i--;\n  }\n  int pp=0,pp1=0;\n  r(i,n)if(a1[i]!=b1[i])pp++;\n  r(i,n)if(a1[i]!=b2[i])pp1++;\n  if(!pp||!pp1){\n    cout<<0<<endl;\n    return 0;\n  }\n  int x1=0,y1=0,z1=0;\n  r(i,n)if(a1[i])x1++;\n  r(i,n)if(b1[i])y1++;\n  r(i,n)if(b2[i])z1++;\n  int p1=0,p2=0,c1=0,c2=0,k;\n  if(x1==y1)for(int j=0;j<n-1;j++)\n    if(a1[j]!=b1[j])\n      for(int i=j;i<n;i++)\n        if(a1[i]==b1[j]){swap(a1[i],a1[j]),p1+=i-j,c1++;break;}\n  if(x1==z1)for(int j=0;j<n-1;j++)\n    if(a2[j]!=b2[j])\n      for(int i=j;i<n;i++)\n        if(a2[i]==b2[j]){swap(a2[i],a2[j]),p2+=i-j,c2++;break;}\n  if(c1&&c2)k=min(p1,p2);\n  else if(c1)k=p1;\n  else k=p2;\n  cout<<k<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define fs first\n#define sc second\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define ALL(A) A.begin(),A.end()\n#define RALL(A) A.rbegin(),A.rend()\ntypedef long long LL;\ntypedef pair<int,int> P;\nconst LL mod=1000000007;\nconst LL LINF=1LL<<62;\nconst LL INF=1<<17;\n\nint solve(vector<int> a,vector<int> b,int N){\n    int c=0;\n    for (int i = 0; i < N; i++) {\n        if(a[i]==1) c++;\n        if(b[i]==1) c--;\n    }\n    if(c!=0) return INF;\n\n    int t=-1,ret=0;\n    for(int i=0;i<N;i++){\n        if(a[i]==1){\n            for(int j=t+1;j<N;j++){\n                if(b[j]==1){\n                    t=j;\n                    ret+=abs(j-i);\n                    break;\n                }\n            }\n        }\n    }\n    return ret;\n}\n\n\n\n\n\n\n\nint main(){\n    int N,M;cin >> N >> M;\n    vector<int> a(N),b,c; \n    for (int i = 0; i < N; i++) {\n        cin >> a[i];\n    }\n    for (int i = 0; i < M; i++) {\n        int t;cin >> t;\n        for (int j = 0; j < t; j++) {\n            b.pb(i%2?1:0);\n            c.pb(i%2?0:1);\n        }\n    }\n    cout << min(solve(a,b,N),solve(a,c,N)) << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\nusing namespace std;\nchar bit[] = {'0','1'};\nstring str = \"\";\nint pos_dif(string s,int index,char op){\n  if(s[index] != str[index] && str[index] == op)return index;\n  return pos_dif(s,index+1,op);\n}\nint swap_bit(int index,string s,int cnt){\n  if(s.size() == 1) return 0;\n  if(index == str.size()){\n\treturn cnt;\n  }\n\n  if(str[index] == s[index]) {\n\treturn swap_bit(index+1,s,cnt);\n  }\n  int pos = pos_dif(s,index+1,s[index]);\n\n  char tmp = s[index];\n  s[index] = s[pos];\n  s[pos] = tmp;\n  return swap_bit(index+1,s,cnt+pos-index);\n}\nint main(){\n  \n  int n,m;\n  cin >> n >> m;\n\n  for(int i = 0;i < n;i++){\n\tstring tmp;\n\tcin >> tmp;\n\tstr += tmp;\n  }\n  string s1 = \"\",s2 = \"\";\n  for(int i = 0;i < m;i++){\n\tint tmp;\n\tcin >> tmp;\n\tfor(int j = i;j < i+tmp;j++){\n\t  s1 += bit[i%2];\n\t  s2 += bit[(i+1)%2];\n\t}\n  }\n  cout << min(swap_bit(0,s1,0),swap_bit(0,s2,0)) << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#define INF (1e9)\n#define N 15\nusing namespace std;\n\nint main(){\n  int n,m,b[N],cpb[N],p[N],cnt0=0,chcnt=0,begin,sample[N],l=0,ans=0,ans2=INF;\n  cin>>n>>m;\n  for(int i=0;i<n;i++) cin>>b[i],cpb[i]=b[i],cnt0+=!b[i];\n  for(int i=0;i<m;i++){\n    cin>>p[i];\n    if(!(i%2)) chcnt+=p[i];\n  }\n  if(cnt0==n-cnt0) begin=3;\n  else if(cnt0==chcnt) begin=0;\n  else begin=1;\n  for(int i=0;i<m;i++)\n    for(int j=0;j<p[i];j++,l++){\n      if(begin==0){\n\tif(!(i%2)) sample[l]=0;\n\telse sample[l]=1;\n      }\n      else{\n\tif(!(i%2)) sample[l]=1;\n\telse sample[l]=0;\n      }\n    }\n  for(int i=0;i<l;i++){\n    if(b[i]==sample[i]) continue;\n    for(int j=i+1;j<l;j++)\n      if(b[j]!=b[i]){\n\tans+=j-i;\n\tswap(b[j],b[i]);\n\tbreak;\n      }\n  }\n  if(begin==3){\n    ans2=0;\n    for(int i=0;i<l;i++) sample[i]=!sample[i],b[i]=cpb[i];\n    for(int i=0;i<l;i++){\n      if(b[i]==sample[i]) continue;\n      for(int j=i+1;j<l;j++){\n\tif(b[j]!=b[i]){\n\t  ans2+=j-i;\n\t  swap(b[j],b[i]);\n\t  break;\n\t}\n      }\n    }\n  }\n  cout<<min(ans,ans2)<<endl;\n  return 0;  \n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<string>\n//#include<>\nusing namespace std;\n\n#define rep(i,j) for(i=0;i<j;(i)++)\n\nint main()\n{\n  int n,m;\n  bool b[15];\n  int p[15];\n  cin>>n>>m;\n  int i,j,k,one_cnt=0,zero_cnt=0;\n  rep(i,n){\n    char ch;\n    cin>>ch;\n    if(ch=='1'){\n      b[i]=true;\n      one_cnt++;\n    }\n    else{\n      b[i]=false;\n      zero_cnt++;\n    }\n  }\n  rep(i,m)cin>>p[i];\n  \n  bool ansline[2][15];\n  int cnt[2]={};\n  k=0;\n  rep(i,m){\n    j=0;\n    while(j++<p[i]){\n      ansline[0][k]=i%2;\n      ansline[1][k++]=(i+1)%2;\n      cnt[i%2]++;\n    }\n  }\n  \n  //  rep(i,n)cout<<ansline[0][i]<<\" \";\n\n\n  //swapしていく\n  bool b2[15];\n  rep(i,n)b2[i]=b[i];\n  int swapcnt=100,swapcnt2=100;\n  i=0;j=0;k=0;\n  //0..1..0..な順の奴\n  if(one_cnt==cnt[1] &&zero_cnt==cnt[0]){\n    swapcnt=0;\n    while(i<n){\n      for(j=i;j<n;j++)if(b[j]==ansline[0][i])break;\n      if(j!=i){\n\tswap(b[i],b[j]);\n\tswapcnt+=j-i;\n      }\n      i++;\n    }\n  }\n  i=0;j=0;k=0;\n  if(one_cnt==cnt[0] &&zero_cnt==cnt[1]){\n    swapcnt2=0;\n    while(i<n){\n      for(j=i;j<n;j++)if(b2[j]==ansline[1][i])break;\n      if(j!=i){\n\tswap(b2[i],b2[j]);\n\tswapcnt2+=j-i;\n      }\n      i++;\n    }\n  }\n  cout<<min(swapcnt,swapcnt2)<<endl;;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <map>\n#include <queue>\n#include <set>\n#include <algorithm>\n\nusing namespace std;\ntypedef pair<string, int> P;\n\nvoid solve()\n{\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tbool used[10000];\n\tmemset(used, 0, sizeof(used));\n\tint N, M;\n\tcin >> N >> M;\n\tstring goal;\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tchar c;\n\t\tcin >> c;\n\t\tgoal += c;\n\t}\n\tstring p;\n\tstring start[2];\n\tbool flag = false;\n\tfor (int i = 0; i < M; ++i)\n\t{\n\t\tint c;\n\t\tcin >> c;\n\t\tfor (int j = 0; j < c; ++j)\n\t\t{\n\t\t\tif (flag)\n\t\t\t{\n\t\t\t\tstart[0] += '0';\n\t\t\t\tstart[1] += '1';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tstart[0] += '1';\n\t\t\t\tstart[1] += '0';\n\t\t\t}\n\t\t}\n\t\tflag = !flag;\n\t}\n\tif (start[0] == goal || start[1] == goal)\n\t{\n\t\tcout << 0 << endl;\n\t\treturn;\n\t}\n\n\tqueue<P> que;\n\tque.push(P(start[0], 0));\n\tque.push(P(start[1], 0));\n\tset<string> found;\n\tfound.insert(start[0]);\n\tfound.insert(start[1]);\n\twhile (!que.empty())\n\t{\n\t\tP digit = que.front();\n\t\tque.pop();\n\t\tfor (int i = 1; i < digit.first.size(); ++i)\n\t\t{\n\t\t\tswap(digit.first[i - 1], digit.first[i]);\n\t\t\tif (found.find(digit.first) != found.end())\n\t\t\t{\n\t\t\t\tswap(digit.first[i - 1], digit.first[i]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (digit.first == goal)\n\t\t\t{\n\t\t\t\tcout << digit.second + 1 << endl;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tque.push(P(digit.first, digit.second + 1));\n\t\t\tfound.insert(digit.first);\n\t\t\tswap(digit.first[i - 1], digit.first[i]);\n\t\t}\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<set>\n#include<cstring>\n#include<string>\n#include<map>\n#include<cmath>\n#include<vector>\nusing namespace std;\n\nconst int INF = 0x3f3f3f3f;\nconst int maxn = 300000+10;\nint n,m,a[20],b[20],st,ed;\nint d[maxn];\nint c[20],cnt,ans;\n\nvoid dfs(int x,int now){\n    if(x==n){\n        cnt=0;\n        memset(c,0,sizeof(c));\n        for(int i=n-1;i>=0;i--){\n            int x=((now&(1<<i))>>i),y=((now&(1<<(i+1)))>>(i+1));\n            if(i==n-1||x==y) c[cnt]++;\n            else  cnt++,c[cnt]=1;\n        }\n        if(cnt==m-1){\n            bool flag=true;\n            for(int i=0;i<=cnt;i++)\n                if(c[i]!=b[i]) flag=false;\n            if(flag) ans=min(ans,d[now|(1<<n)]);\n        }\n        return;\n    }\n    dfs(x+1,now);\n    dfs(x+1,now|(1<<x));\n}\n\nvoid spfa(){\n    queue<int> q;\n    bool inq[maxn];\n    for(int i=0;i<=ed;i++) d[i]=INF,inq[i]=0;\n    d[st]=0,q.push(st);\n    while(!q.empty()){\n        int u=q.front(); q.pop(); inq[u]=0;\n        for(int i=0;i<n-1;i++){\n            int a=(((1<<i)&u)>>i),b=(((1<<(i+1))&u)>>(i+1));\n            if(a!=b){\n                int v=u^(1<<i)^(1<<(i+1));\n                if(d[v]>d[u]+1){\n                    d[v]=d[u]+1;\n                    if(!inq[v]){\n                        q.push(v);\n                        inq[v]=1;\n                    }\n                }\n            }\n        }\n    }\n}\n\nint main(){\n    //freopen(\"a.txt\",\"r\",stdin);\n    scanf(\"%d%d\",&n,&m);\n    for(int i=0;i<n;i++) scanf(\"%d\",&a[n-1-i]);\n    for(int i=0;i<m;i++) scanf(\"%d\",&b[i]);\n    a[n]=1;\n    st=ed=0;\n    //printf(\"%d\\n\",(1<<17));\n    for(int i=0;i<=n;i++){\n        if(a[i]) st|=(1<<i);\n        ed|=(1<<i);\n    }\n    spfa();\n    ans=INF;\n    dfs(0,0);\n    printf(\"%d\\n\",ans);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#ifndef LIB_REPEAT_HPP\n#define LIB_REPEAT_HPP\n#define repeat(i,n) for (int i = 0; i < (n); ++i)\n#define repeat_from(i,m,n) for (int i = (m); i < (n); ++i)\n#define repeat_one(i,n) for (int i = 1; i <= (n); ++i)\n#define repeat_rev(i,n) for (int i = (n)-1; 0 <= i; --i)\n#define foreach(it, cont) for (decltype(cont.begin()) it = cont.begin(); it != cont.end(); ++it)\n#endif\nusing namespace std;\n#define MAX_N 15\nint main() {\n    ios_base::sync_with_stdio(false);\n    int N, M; cin >> N >> M;\n    vector<bool> b(N); repeat (i,N) { int a; cin >> a; b[i] = not not a; }\n    vector<int>  p(M); repeat (i,M) cin >> p[i];\n    int result = MAX_N;\n    repeat (d,2) {\n        vector<int> c, q;\n        repeat (i,N) if (b[i]) c.push_back(i);\n        {\n            int i = 0;\n            repeat (j,M) {\n                repeat (k,p[j]) {\n                    if ((j+d) % 2) q.push_back(i);\n                    i ++;\n                }\n            }\n        }\n        if (c.size() == q.size()) {\n            int acc = 0;\n            repeat (i, (int)c.size()) {\n                acc += labs(c[i] - q[i]);\n            }\n            result = min(result, acc);\n        }\n    }\n    cout << result << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define INF (1<<29)\n\nint N,M;\n\nint bfs(int s,int g){\n  queue<int> Q;\n  Q.push(s);\n  int d[1<<N];\n  fill(d,d+(1<<N),INF);\n  d[s] = 0;\n\n  while(!Q.empty()){\n    int S = Q.front(); Q.pop();\n    if(S == g){ return d[S]; }\n    for(int i = 0 ; i < N-1 ; i++){\n      int nS = S;\n      if(((S >> i) & 1) ^ ((S >> (i+1)) & 1)){\n        nS ^= 1<<i; nS ^= 1<<(i+1);\n        if(d[S] + 1 < d[nS]){\n          d[nS] = d[S] + 1;\n          Q.push(nS);\n        }\n      }\n    }\n  }\n  return INF;\n}\n\nint main(){\n  int in,s,g1,g2,sum;\n  s = g1 = g2 = sum = 0;\n  cin >> N >> M;\n  for(int i = 0 ; i < N ; i++){\n    cin >> in;\n    s += (in ? (1<<i) : 0);\n  }\n  for(int i = 0 ; i < M ; i++){\n    cin >> in;\n    for(int j = 0 ; j < in ; j++){\n      g1 += (i % 2 ? 1<<(sum+j) : 0);\n    }\n    for(int j = 0 ; j < in ; j++){\n      g2 += (i % 2 ? 0 : 1<<(sum+j)); \n    }\n    sum += in;\n  }\n  cout << min(bfs(s,g1),bfs(s,g2)) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nvoid\nprint_bits(vector<bool>v)\n{\n\tfor (auto x:v)\n\t\tcout << x << \" \";\n\tcout << endl;\n}\n\n\tvector<bool>\nbits_start(bool b, const vector<int> p)\n{\n\tbool bit = b;\n\tvector<bool> bits;\n\tfor (int i = 0; i < p.size(); i++)\n\t{\n\t\tfor (int j = 0; j < p[i]; j++)\n\t\t\tbits.push_back(bit);\n\t\tbit = !bit;\n\t}\n\treturn bits;\n}\n\n\tvector<vector<bool> >\ncreate_bits (const vector<int> p)\n{\n\tvector<vector<bool> > created;\n\tcreated.push_back(bits_start(0, p));\n\tcreated.push_back(bits_start(1, p));\n\treturn created;\n}\n\nint\ncount_true (const vector<bool> b)\n{\n\tint count_true = 0;\n\tfor (int i = 0; i < b.size(); i++)\n\t\tif (b[i])\n\t\t\tcount_true++;\n\treturn count_true;\n}\n\n\tint\ncode_distance (const vector<bool> ori, const vector<bool> created)\n{\n\tif (count_true(ori) != count_true(created))\n\t\treturn 20;\n\n\tint len = ori.size();\n\tint distance = 0;\n\tfor (int i = 0; i < len; i++)\n\t\tif (ori[i] != created[i])\n\t\t\tdistance++;\n\treturn distance;\n}\n\nint\nwhich_shorter (const vector<bool> b, \n\t\tconst vector<vector<bool> > bits_list)\n{\n\tif(code_distance(b, bits_list[0]) < \n\t\t\tcode_distance(b, bits_list[1]))\n\t\treturn 0;\n\telse\n\t\treturn 1;\n}\n\nint\nsame_at (vector<bool>ori, vector<bool>created)\n{\n\tint ok = -1;\n\tfor (int i = 0; i < ori.size(); i++)\n\t\tif (ori[i] == created[i])\n\t\t\tok++;\n\t\telse\n\t\t\tbreak;\n\treturn ok;\n}\n\nint\nsearch_closest_true(int suffix, vector<bool>ori, vector<bool> created)\n{\n\tint len = created.size();\n\tint next, before;\n\tnext = before = 100;\n\tint left_terminal = same_at(ori, created);\n#ifdef D\n\tprint_bits(ori);\n\tprint_bits(created);\n\tcout << \"same at \" << left_terminal << endl;\n#endif\n\tif (suffix != 0)\n\t{\n\t\tbefore = 0;\n\t\tint i;\n\t\tfor (i = suffix; left_terminal < i ; i--)\n\t\t\tif (created[i])\n\t\t\t\tbreak;\n\t\t\telse\n\t\t\t\tbefore--;\n\t\tif (left_terminal >= i)\n\t\t\tbefore = 100;\n\t}\n\tif (suffix != len-1)\n\t{\n\t\tnext = 0;\n\t\tfor (int i = suffix; i < len; i++)\n\t\t\tif (created[i])\n\t\t\t\tbreak;\n\t\t\telse\n\t\t\t\tnext++;\n\t}\n#ifdef D\n\tcout << \"before \" << before <<endl;\n\tcout << \"next \" << next <<endl;\n\tcout << \"closest \" << min(abs(before), abs(next)) << endl;\n#endif\n\treturn min(abs(before), abs(next));\n}\n\n\tint\nswap (int step, int dist, int now, vector<bool>& created)\n{\n\tint swap_count = 0;\n\tfor (int i = now; i != dist; i+=step)\n\t{\n\t\tcreated[i] = !created[i];\n\t\tcreated[i+step] = !created[i+step];\n\t\tswap_count++;\n#ifdef D\n\t\tcout << \"created  \";\n\t\tprint_bits(created);\n#endif\n\t}\n\treturn swap_count;\n}\n\n\tint\ndo_swap(int dist, int now, vector<bool>& created)\n{\n\tif (dist < now)\n\t\treturn swap(-1, dist, now, created);\n\telse\n\t\treturn swap(1 , dist, now, created);\n}\n\n\tint\ncode_swap (const vector<bool>ori, vector<bool> created)\n{\n\tint swap_count = 0;\n\tfor (int i = 0; i < ori.size(); i++)\n\t{\n\t\tif (ori[i] && (!created[i]))\n\t\t{\n#ifdef D\n\t\t\tcout << \"ori: i \" << i << \", bool \" << ori[i] <<endl;\n\t\t\tcout << \"cre: i \" << i << \", bool \" << created[i] <<endl;\n#endif\n\t\t\tswap_count += do_swap(i, i+search_closest_true(i, ori, created), created);\n\t\t}\n\t\tif (code_distance(ori, created) == 0)\n\t\t\treturn swap_count;\n\t}\n\treturn swap_count;\n}\n\n\tint\nmain (void)\n{\n\tint n, m; cin >> n >> m;\n\tvector<bool> b;\n\tvector<int>\tp;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tint in; cin >> in;\n\t\tb.push_back(in);\n\t}\n\tfor (int i = 0; i < m; i++)\n\t{\n\t\tint in; cin >> in;\n\t\tp.push_back(in);\n\t}\n\n\tvector<vector<bool> > bits_list;\n\tbits_list = create_bits(p);\n\tint shorter = which_shorter(b, bits_list);\n#ifdef D\n\t{\n\t\tcout << \"original \";\n\t\tprint_bits(b);\n\t\tcout << \"selected \";\n\t\tprint_bits(bits_list[shorter]);\n\t\tcout <<endl;\n\t}\n#endif\n\tcout << code_swap(b, bits_list[shorter]) << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint x[65536];\n\nint inversions(int p, int n, int q, int r) {\n\tint x3[15], y[15], z;\n\tmemset(x, 127, sizeof(x));\n\tx[p] = 0;\n\tfor (int i = 0; i < n * n; i++){\n\t\tfor (int j = 0; j < (1 << n); j++) {\n\t\t\tif (x[j] < 1000) {\n\t\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\t\tx3[k] = (j / (1 << k)) % 2;\n\t\t\t\t}\n\t\t\t\tfor (int k = 0; k < n - 1; k++) {\n\t\t\t\t\tz = 0;\n\t\t\t\t\tif (x3[k] + x3[k + 1] == 1) {\n\t\t\t\t\t\tfor (int l = 0; l < n; l++) {\n\t\t\t\t\t\t\ty[l] = x3[l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ty[k] = x3[k + 1];\n\t\t\t\t\t\ty[k + 1] = x3[k];\n\t\t\t\t\t\tfor (int l = 0; l < n; l++) {\n\t\t\t\t\t\t\tz += y[l] * (1 << l);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tx[z] = min(x[z], x[j] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn min(x[q], x[r]);\n}\n\nint n, m, a, s;\nint x1[15], x2[15], cnt, r1, r2;\n\nint main() {\n\tcin >> n >> m;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> a; s += (1 << i) * a;\n\t}\n\tfor (int i = 0; i < m; i++) {\n\t\tcin >> a;\n\t\tfor (int j = 0; j < a; j++) {\n\t\t\tx1[j + cnt] = i % 2;\n\t\t\tx2[j + cnt] = (i + 1) % 2;\n\t\t}\n\t\tcnt += a;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tr1 += x1[i] * (1 << i);\n\t\tr2 += x2[i] * (1 << i);\n\t}\n\tcout << inversions(s, n, r1, r2) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\nll solve(vector<int> org,vector<int> tar){\n    ll res=0;\n    for(int i=0;i<org.size();i++){\n        if(org[i]!=tar[i]){\n            if(i+1==org.size()){\n                return ll(1e10);\n            }\n            for(int j=i+1;j<org.size();j++){\n                if(tar[i]==org[j]){\n                    res+=j-i;\n                    swap(org[i],org[j]);\n                    break;\n                }\n                if(j+1==org.size()){\n                    return ll(1e10);\n                }\n            }\n        }\n    }\n    return res;\n}\n\nint main(){\n    int n,m;\n    cin>>n>>m;\n    vector<int> b(n);\n    for(int i=0;i<n;i++) cin>>b[i];\n    vector<int> p(n);\n    for(int i=0;i<m;i++) cin>>p[i];\n\n    vector<int> runlen(n);\n    int bit=0;\n    int index=0;\n    for(int i=0;i<m;i++){\n        for(int j=0;j<p[i];j++){\n            runlen[index++]=bit;\n        }\n        bit=!bit;\n    }\n    \n    ll res=solve(b,runlen);\n    bit=1;\n    index=0;\n    for(int i=0;i<m;i++){\n        for(int j=0;j<p[i];j++){\n            runlen[index++]=bit;\n        }\n        bit=!bit;\n    }\n    res=min(res,solve(b,runlen));\n    cout<<res<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nint f(const vector<int> &b, const vector<int> &a){\n  int n=b.size();\n  {\n    int s1=0, s2=0;\n    rep(i, n) s1+=b[i], s2+=a[i];\n    if(s1!=s2) return 10000000;\n  }\n  vector<int> c=b;\n  int s=0;\n  rep(i, n)if(c[i]!=a[i]){\n    int j=i;\n    while(c[j]!=a[i]) j++;\n    s+=(j-i);\n    for(int k=j; k>i; k--) swap(c[k-1], c[k]);\n  }\n  return s;\n}\n\nint main(){\n\n  int n, m; cin>> n>> m;\n  vector<int> b(n);\n  rep(i, n) cin>> b[i];\n  vector<int> p(m);\n  rep(i, m) cin>> p[i];\n\n  vector<int> a0, a1;\n  rep(i, m){\n    rep(_, p[i]){\n      a0.push_back(i%2);\n      a1.push_back((i%2)^1);\n    }\n  }\n\n  cout<< min(f(b, a0), f(b, a1))<< endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n#define FOR(i,bg,ed) for(int i=bg;i<ed;i++)\n#define REP(i,n) FOR(i,0,n)\n\n\ntypedef vector<int> V;\nint f(int bg,V bit,V b){\n    int ret=0;\n    int id=0;\n    int n =bit.size();\n    for(auto &it:b){\n        while(it>0){\n            //cout<<id<<endl;\n            int i;\n            for(i=id;bit[i]!=bg;i++){\n                if(i+1>=n)return 20;\n            }\n            while(i>id){\n                swap(bit[i],bit[i-1]);\n                ret++;\n                i--;\n            }\n            id++;\n            it--;\n        }\n        bg=1-bg;\n    }\n    return ret;\n}\nint main(){\n    int n,m;\n    cin>>n>>m;\n    V a(n);\n    V b(m);\n    REP(i,n)cin>>a[i];\n    REP(i,m)cin>>b[i];\n    cout<<min(f(0,a,b),f(1,a,b))<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(int argc, char *argv[])\n{\n  for(;;) {\n    int n, m;\n    cin >> n >> m;\n    if(n == 0) break;\n    vector<bool> bs;\n    for(int i = 0; i < n; i++) {\n      int c;\n      cin >> c;\n      bs.push_back(c == 1);\n    }\n    vector<bool> ts, fs;\n    int c = 0;\n    bool cur = false;\n    for(int i = 0; i < n; i++) {\n      if(c == 0) { cin >> c; cur = !cur; }\n      ts.push_back(cur);\n      fs.push_back(!cur);\n      c--;\n    }\n    // now, let's swap!\n    auto swaps = [&n](vector<bool> &src, vector<bool> &tgt) {\n      vector<bool> x(src.size());\n      copy(src.begin(), src.end(), x.begin());\n      int cnt = 0;\n      for(int i = 0; i < n; i++) {\n        if(x[i] != tgt[i]) {\n          for(int j = i + 1; j < n; j++) {\n            cnt++;\n            if(x[j] == tgt[i]) {\n              x[j] = x[i];\n              x[i] = tgt[i];\n              break;\n            }\n          }\n        }\n      }\n      return cnt;\n    };\n    cout << min(swaps(bs, ts), swaps(bs,fs)) << endl;\n    break;\n  }\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;++i)\n#define INF 1e9\n\nint solve(bitset<15> b, bitset<15> goal){\n    if(b.count() != goal.count())return INF;\n    int cnt=0;\n    rep(l,14)if(b[l]!=goal[l]){\n        int r=l+1;\n        while(b[l]==b[r]) r++;\n        while(l<r){\n            b[r].flip();\n            r--;\n            b[r].flip();\n            cnt++;\n        }\n    }\n    return cnt;\n}\n\nint main(void){\n    int N,M,p,bit;\n    cin>>N>>M;\n    bitset<15> b,goal1,goal2;\n    rep(i,N) cin>>bit, b[i]=bit;\n    int index=0;\n    rep(i,M) {\n        cin>>p;\n        rep(j,p){\n            goal1[index] = (i%2==0);\n            goal2[index] = (i%2!=0);\n            index++;\n        }\n    }\n    cout<<min(solve(b,goal1),solve(b,goal2))<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for(int i=(int)(a); i<(int)(b); ++i)\n#define REP(i, n) for(int i=0; i<(int)(n); ++i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e)!=(s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SQ(n) (n) * (n)\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int INF = 100000;\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n  int start = 0;\n  REP(i, n){\n    int k;\n    cin >> k;\n    start = (start << 1) | k;\n  }\n  int goal1 = 0, goal2 = 0;\n  int t = 0;\n  REP(i, m){\n    int k;\n    cin >> k;\n    REP(j, k){\n      goal1 = (goal1 << 1) | t;\n      goal2 = (goal2 << 1) | (1 - t);\n    }\n    t = 1 - t;\n  }\n\n  vi dp(1 << (n+1), INF);\n  vi dp_back(1 << (n+1), INF);\n  dp[start] = 0;\n  dp_back[start] = 0;\n\n  // cout << bitset<15>(goal1) << endl;\n  // cout << bitset<15>(goal2) << endl;\n  int step = 0;\n\n  while(min(dp[goal1], dp[goal2]) == INF) {\n    // LOG(\"-------- step : %d\\n\", step);\n    REP(i, 1 << (n+1)){\n      if(dp[i]!=step) continue;\n        // cout <<'s'<< bitset<15>(i) << endl;\n      REP(j, n - 1){\n        int trade = 3 << j;\n        int disable = i & trade;\n        int next = i ^ trade;\n        // cout <<' '<< bitset<15>(next) << endl;\n        if (disable == 0 || disable == trade) continue;\n        if(next >= (1 << n)) continue;\n        dp_back[next] = min(dp_back[next], dp[i] + 1);\n        // cout << bitset<15>(next) << endl;\n        // cout << dp_back[next] << endl;\n      }\n    }\n    dp = dp_back;\n    step ++;\n  }\n  cout << min(dp[goal1], dp[goal2]) << endl;\n  // cout << dp[goal1] << endl;\n  // cout << dp[goal2] << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nint main(void)\n{\n  int n,m;\n  cin >> n >> m;\n  vector<int> a;\n  vector<int> b;\n  vector<int> c;\n  REP(i,n){\n    int tmp;\n    cin >> tmp;\n    if(tmp==1) a.push_back(i);\n  }\n  int sta=0;\n  int len=0;\n  REP(i,m){\n    int tmp;\n    cin >> tmp;\n    REP(j,tmp){\n      if(sta^i) b.push_back(len+j);\n      else c.push_back(len+j);\n    }\n    len+=tmp;\n  }\n  int answer=1024;\n  if(a.size()==b.size()){\n    int pena=0;\n    REP(i,a.size()) pena+=abs(a[i]-b[i]);\n    answer=min(answer,pena);\n  }\n  if(a.size()==c.size()){\n    int pena=0;\n    REP(i,a.size()) pena+=abs(a[i]-c[i]);\n    answer=min(answer,pena);\n  }\n  cout << answer << endl;\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 0\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<\" \";}\n#define dumpl(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\ntemplate<class T> bool chmax(T &a, const T &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a > b) { a = b; return true; } return false; }\n\nint solve(vector<int> a, vector<int> b) {\n\tint ret = 0;\n\trep(i, 0, a.size()) {\n\t\tif (a[i] == b[i])continue;\n\t\tauto it = find(a.begin() + i, a.end(), b[i]);\n\t\tswap(*it, a[i]);\n\t\tret += it - a.begin() - i;\n\t}\n\tdumpc(a);\n\tdumpc(b);\n\treturn ret;\n}\n\nsigned main() {\n\tint N, M; cin >> N >> M;\n\tvector<int> a(N), b(M + 1, 0);\n\trep(i, 0, N)cin >> a[i];\n\trep(i, 0, M)cin >> b[i];\n\tint o = 0, e = 0;\n\tfor (int i = 0; i < M; i += 2) {\n\t\to += b[i];\n\t\te += b[i + 1];\n\t}\n\tvector<int> c;\n\tint c1 = accumulate(all(a), 0);\n\tif (o == e) {\n\t\tfor (int i = 0; i < M; i += 2) {\n\t\t\trep(j, 0, b[i])c.emplace_back(1);\n\t\t\trep(j, 0, b[i + 1])c.emplace_back(0);\n\t\t}\n\t\tint ans = solve(a, c);\n\t\tc.clear();\n\t\tfor (int i = 0; i < M; i += 2) {\n\t\t\trep(j, 0, b[i])c.emplace_back(0);\n\t\t\trep(j, 0, b[i + 1])c.emplace_back(1);\n\t\t}\n\t\tchmin(ans, solve(a, c));\n\t\tcout << ans << endl;\n\t}\n\telse {\n\t\tif (c1 == o) {\n\t\t\tfor (int i = 0; i < M; i += 2) {\n\t\t\t\trep(j, 0, b[i])c.emplace_back(1);\n\t\t\t\trep(j, 0, b[i + 1])c.emplace_back(0);\n\t\t\t}\n\t\t\tcout << solve(a, c) << endl;\n\t\t}\n\t\telse {\n\t\t\tfor (int i = 0; i < M; i += 2) {\n\t\t\t\trep(j, 0, b[i])c.emplace_back(0);\n\t\t\t\trep(j, 0, b[i + 1])c.emplace_back(1);\n\t\t\t}\n\t\t\tcout << solve(a, c) << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-9;\ntypedef vector<int> vi;\ntypedef long long ll;\ntypedef pair<string,string> pss;\nvector<int> fi;\nvector<int> ope;\nint b;\nint p[16];\nvector<int> cands[2];\n//cands[0] 0 start\n//cands[1] 1 start\nbool canuse[2];\nint ans=1e7;\nint tmp=0;\nint N,M,onenum=0,zeronum=0;\nint main(void)\n{\n  memset(canuse,false,sizeof(canuse));\n  cin >> N >> M;\n  for(int i=0;i<N;i++)\n    {\n      int b;\n      cin >> b;\n      fi.push_back(b);\n      if(fi[i]==0) zeronum++;\n      else onenum++;\n    }\n  for(int i=0;i<M;i++)\n    {\n      cin >> p[i];\n    }\n  for(int k=0;k<2;k++)\n    {\n      int cnt=k;\n      for(int j=0;j<M;j++)\n\t{\n\t  for(int i=0;i<p[j];i++)\n\t    {\n\t      cands[k].push_back(cnt%2);\n\t    }\n\t  cnt++;\n\t}\n      if(count(cands[k].begin(),cands[k].end(),1)==onenum) canuse[k]=true;\n    }\n  for(int pat=0;pat<2;pat++)\n    {\n      /*cout << pat << ' ' << canuse[pat] << endl;\n      for(int check=0;check<N;check++)\n\t{\n\t  cout << cands[pat][check] << ' ';\n\t}\n\tcout << endl;*/\n      if(canuse[pat])\n\t{\n\t  ope=fi;\n\t  int now=0;\n\t  tmp=0;\n\t  for(int j=0;j<M;j++)\n\t    {\n\t      //cout << \"now \" << now << endl;\n\t      if(ope==cands[pat]) break;\n\t      for(int i=now;i<now+p[j];i++)\n\t\t{\n\t\t  int target=-1;\n\t\t  if(ope[i]!=(pat+j)%2)\n\t\t    {\n\t\t      target=i;\n\t\t      while(ope[target]!=(pat+j)%2)\n\t\t\t{\n\t\t\t  target++;\n\t\t\t}\n\t\t    }\n\t\t  //cout << target << endl;\n\t\t  if(target!=-1)\n\t\t    {\n\t\t      swap(ope[i],ope[target]);\n\t\t      tmp+=(target-i);\n\t\t    }\n\t\t  // cout << i << ' ' << target << endl;\n\t\t  /*for(int check=0;check<N;check++)\n\t\t    {\n\t\t      cout << ope[check] << ' ';\n\t\t    }\n\t\t    cout << endl;*/\n\t\t}\n\t      now+=p[j];\n\t    }\n\t  ans=min(ans,tmp);\n\t}\n      else continue;\n    }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\nusing namespace std;\nchar bit[] = {'0','1'};\nstring str = \"\";\nint inf = 1<<28;\nint pos_dif(string s,int index,char op){\n  if(index ==  str.size())return -1;\n  if(s[index] != str[index] && str[index] == op)return index;\n  \n  return pos_dif(s,index+1,op);\n}\nint swap_bit(int index,string s,int cnt){\n  if(s.size() == 1) return 0;\n  if(index == str.size()){\n\treturn cnt;\n  }\n\n  if(str[index] == s[index]) {\n\treturn swap_bit(index+1,s,cnt);\n  }\n  int pos = pos_dif(s,index+1,s[index]);\n  if(pos == -1)return inf;\n  char tmp = s[index];\n  s[index] = s[pos];\n  s[pos] = tmp;\n  return swap_bit(index+1,s,cnt+pos-index);\n}\nint main(){\n  \n  int n,m;\n  cin >> n >> m;\n\n  for(int i = 0;i < n;i++){\n\tstring tmp;\n\tcin >> tmp;\n\tstr += tmp;\n  }\n  string s1 = \"\",s2 = \"\";\n  for(int i = 0;i < m;i++){\n\tint tmp;\n\tcin >> tmp;\n\tfor(int j = i;j < i+tmp;j++){\n\t  s1 += bit[i%2];\n\t  s2 += bit[(i+1)%2];\n\t}\n  }\n  cout << min(swap_bit(0,s1,0),swap_bit(0,s2,0)) << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define all(a) a.begin(),a.end()\n\nint solve(vi b, vi p){\n    if(accumulate(all(b),0) != accumulate(all(p),0)) return 1000;\n\n    int cost=0,n=b.size();\n    rep(i,n){\n        int j;\n        for(j=i; p[i]!=b[j] and j<n ;j++);\n        cost+=j-i;\n        swap(b[i],b[j]);\n    }\n    return cost;\n}\n\nint main(){\n    int n,m;\n    cin>>n>>m;\n    \n    vi b(n),p,cp;\n    for(auto &&i:b) cin>>i;\n    rep(i,m){\n        int t; cin>>t;\n        rep(j,t) p.push_back(i%2);\n    }\n    \n    int ans=1000;\n    ans=min(ans,solve(b,p));\n    for(auto &&i:p) i^=1;\n    ans=min(ans,solve(b,p));\n    \n    cout<<ans<<endl;\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "/* attention to typo and overflow */\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <iostream>\n#include <cmath>\n#include <cstdio>\n\nusing namespace std;\nconst int INF=1<<25;\nvoid io(){ cin.tie(0);ios::sync_with_stdio(false);} //attention to use of endl\n/*printf(\"%.9Lf\\n\",cf);*/\nvector <int> s;\nint solve(vector <int> a){\n\tif(a.size()!=s.size()) return INF;\n\tint n=a.size();\n\tint ret=0;\n\tfor(int i=0;i<n;i++){\n\t\tret+=abs(s[i]-a[i]);\n\t}\n\treturn ret;\n}\n\nint main(){\n\tio();\n\tint n,m;\n\tcin>>n>>m;\n\tfor(int i=0;i<n;i++){\n\t\tint a;\n\t\tcin>>a;\n\t\tif(a==1){\n\t\t\ts.push_back(i);\n\t\t}\n\t}\n\tvector <int> obj;\n\tvector <int> obj2;\n\tint sum=0;\n\tfor(int i=0;i<m;i++){\n\t\tif(i%2==0){\n\t\t\tint a;\n\t\t\tcin>>a;\n\t\t\tfor(int j=sum;j<sum+a;j++){\n\t\t\t\tobj.push_back(j);\n\t\t\t}\n\t\t\tsum+=a;\n\t\t}else{\n\t\t\tint a;\n\t\t\tcin>>a;\n\t\t\tfor(int j=sum;j<sum+a;j++){\n\t\t\t\tobj2.push_back(j);\n\t\t\t}\n\t\t\tsum+=a;\n\t\t}\n\t}\n\n\t/*for(int i=0;i<obj.size();i++){\n\t\tcerr<<obj[i]<<' ';\n\t}\n\tcerr<<endl;\n\tfor(int i=0;i<obj2.size();i++){\n\t\tcerr<<obj2[i]<<' ';\n\t}\n\tcerr<<endl;*/\n\n\tcout<<min(solve(obj),solve(obj2))<<endl;\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint n,m;\nint b[16];\nint p[16];\nint fie[31];\nint fie2[31];\n\nint main(void){\n\tscanf(\"%d %d\",&n,&m);\n\tint all=0;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&b[i]);\n\t\tfie[i]=b[i];\n\t\tfie2[i]=b[i];\n\t\tall+=b[i];\n\t}\n\tint all2=0;\n\tfor(int i=0;i<m;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t\tif(i%2==0)all2+=p[i];\n\t}\n\tint cnt=0,cnt2=0,now=0;\n\tfor(int i=0;i<m;i++){\n\t\tfor(int j=now;j<now+p[i];j++){\n\t\t\tif(fie[j]!=i%2){\n\t\t\t\tint k=j;\n\t\t\t\twhile(fie[k]!=i%2 && k<n-1)k++;\n\t\t\t\tfor(int l=k;l>j;l--){\n\t\t\t\t\tswap(fie[l],fie[l-1]);\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(fie2[j]!=(i+1)%2){\n\t\t\t\tint k=j;\n\t\t\t\twhile(fie2[k]!=(i+1)%2  && k<n-1)k++;\n\t\t\t\tfor(int l=k;l>j;l--){\n\t\t\t\t\tswap(fie2[l],fie2[l-1]);\n\t\t\t\t\tcnt2++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnow+=p[i];\n\t}\n\tif(all==n-all)printf(\"%d\\n\",min(cnt,cnt2));\n\telse if(all==all2){\n\t\tprintf(\"%d\\n\",cnt2);\n\t}else printf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1 << 28;\n\nint main () {\n    int n, m;\n    cin >> n >> m;\n\n    vector<int> s(n), t(m);\n    for (auto &i : s) cin >> i;\n    for (auto &i : t) cin >> i;\n\n    vector<int> r(s);\n    int c = 0;\n    int l = 0;\n    int ans1 = 0;\n    for (int i = 0; ans1 >= 0 && i < m; i++) {\n        for (int j = 0; j < t[i]; j++) {\n            if (c != s[l]) {\n                int k = l + 1;\n                while (k < n && c != s[k]) k++;\n                if (k == n) {ans1 = INF; break;}\n                ans1 += (k - l);\n                s[k] = !c;\n            }\n            l++;\n        }\n        c = c ? 0 : 1;\n    }\n\n    c = 1;\n    l = 0;\n    int ans2 = 0;\n    for (int i = 0; ans2 >= 0 && i < m; i++) {\n        for (int j = 0; j < t[i]; j++) {\n            if (c != r[l]) {\n                int k = l + 1;\n                while (k < n && c != r[k]) k++;\n                if (k == n) {ans2 = INF; break;}\n                ans2 += (k - l);\n                r[k] = !c;\n            }\n            l++;\n        }\n        c = c ? 0 : 1;\n    }\n\n    cout << min(ans1, ans2) << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<string> vs;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<30;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-11;\nconst ll mod=1e9+7;\nconst int dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\n\n\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\twhile(1){\n\t\tint n,m;\n\t\tcin>>n>>m;\n\t\tvi a(n),b(m);\n\t\tfor(int i=0;i<n;i++) cin>>a[i];\n\t\tfor(int i=0;i<m;i++) cin>>b[i];\n\t\tint res=inf;\n\t\tfor(int x=0;x<2;x++){\n\t\t\tvi c(n);\n\t\t\tint id=0;\n\t\t\tfor(int i=0;i<m;i++) for(int j=0;j<b[i];j++) c[id++]=(i+x)%2;\n\t\t\tint t=0;\n\t\t\tfor(auto i:a) t+=i;\n\t\t\tfor(auto i:c) t-=i;\n\t\t\tif(t) continue;\n\t\t\tvi d(n),used(n);\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=0;j<n;j++) if(!used[j]&&a[i]==c[j]){\n\t\t\t\t\tused[j]=1;\n\t\t\t\t\td[i]=j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint tmp=0;\n\t\t\tfor(int i=0;i<n;i++) for(int j=i+1;j<n;j++) if(d[i]>d[j]) tmp++;\n\t\t\tres=min(res,tmp);\n\t\t}\n\t\tcout<<res<<endl;\n\t\tbreak;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef pair<int, int> P;\nconst int INF = 1e9;\n\nint N, M;\nvector<int> p;\n\nsigned main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(0);\n  cout << fixed << setprecision(12);\n\n  cin >> N >> M;\n\n  int bit = 0;\n  for ( int i = 0; i < N; i++ ) {\n    int b;\n    cin >> b;\n    bit |= (b<<i);    \n  }\n\n  p = vector<int>(M);\n  for ( int i = 0; i < M; i++ ) {\n    cin >> p[i];    \n  }\n\n  vector<bool> used(1<<N, false);\n  priority_queue<P, vector<P>, greater<P> > Q;\n  Q.push({0, bit});\n\n  while ( !Q.empty() ) {\n    P e = Q.top(); Q.pop();\n    int c = e.first, b = e.second;    \n\n    vector<int> q;\n    int cnt = 1;\n    bool pre = b&1;  \n    for ( int i = 1; i < N; i++ ) {\n      if ( pre != (bool)(b&(1<<i)) ) {\n\tq.emplace_back(cnt);\n\tpre = !pre;\n\tcnt = 1;      \n      } else {\n\tcnt++;      \n      }\n    }\n    q.emplace_back(cnt);\n\n    if ( q == p ) {\n      cout << c << endl;\n      return 0;\n    }\n\n    if ( used[b] ) continue;\n    used[b] = true;\n\n    for ( int i = 0; i < N-1; i++ ) {\n      int nxt = b;\n      nxt &= ~(1<<i);\n      nxt &= ~(1<<(i+1));\n      if ( b & (1<<i) ) nxt |= (1<<(i+1));\n      if ( b & (1<<(i+1)) ) nxt |= (1<<i);\n      Q.push(P(c+1, nxt));      \n    }\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<queue>\n#include<cmath>\n#include<cassert>\n#include<vector>\n#include<iostream>\nusing namespace std;\n\nvector<int> bits;\nvector<int> after;\n\nvoid print(vector<int> v){\n  for(auto i:v){\n    //cerr<<i<<\" \";\n  }//cerr<<endl;\n}\n\nvoid init(){\n  bits.clear();\n  after.clear();\n}\n\nbool input(){\n  int n,m;\n  cin>>n>>m;\n  for(int i=0;i<n;i++){\n    int tmp;\n    cin>>tmp;\n    bits.push_back(tmp);\n  }\n  for(int i=0;i<m;i++){\n    int tmp;\n    cin>>tmp;\n    after.push_back(tmp);\n  }\n  return true;\n}\n\n\nint make_ans(vector<int> pre,vector<int> a,vector<int> b){\n  queue<pair<int,vector<int>>> q;\n  map<vector<int>,int> dp;\n  q.push(make_pair(0,pre));\n  while(!q.empty()){\n    pair<int,vector<int>> now = q.front();q.pop();\n    const vector<int> v = now.second;\n    const int cost = now.first;\n    if(v==a)return cost;\n    if(v==b)return cost;\n    if(dp.count(v)!=0)continue;\n    dp[v]=cost;\n    for(int i=0;i+1<v.size();i++){\n      vector<int> next= v;\n      swap(next[i],next[i+1]);\n      q.push(make_pair(cost+1,next));\n    }\n  }\n  return INT_MAX;\n}\n\nint solve(){\n  vector<int> b;\n  bool jj = false;\n  for(int i=0;i<after.size();i++){\n    for(int j=0;j<after[i];j++){\n      b.push_back(jj);\n    }\n    jj = (!jj);\n  }\n  print(bits);\n  print(b);\n  vector<int> a = b;\n  for(int i=0;i<b.size();i++){\n    a[i] = (!a[i]);\n  }\n  print(b);\n  int ans = make_ans(bits,a,b);\n  return ans;\n}\n\nint main(){\n  init();input();\n  cout<<solve()<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpl(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << endl << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\n\n// ostreams {{{\n// complex\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n\n// pair\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\n\n// vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector<T>& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i]; if (i < len - 1) s << \"\\t\";\n\t}\n\treturn s;\n}\n\n// 2 dimentional vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector< vector<T> >& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i] << endl;\n\t}\n\treturn s;\n}\n\n// map\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const map<T1, T2>& m) {\n\ts << \"{\" << endl;\n\tfor (typeof(m.begin()) itr = m.begin(); itr != m.end(); ++itr) {\n\t\ts << \"\\t\" << (*itr).first << \" : \" << (*itr).second << endl;\n\t}\n\ts << \"}\" << endl;\n\treturn s;\n}\n// }}}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// input and output {{{\ninline void input(string filename) {\n\tfreopen(filename.c_str(), \"r\", stdin);\n}\ninline void output(string filename) {\n\tfreopen(filename.c_str(), \"w\", stdout);\n}\n// }}}\n// }}}\n\n// Header under development {{{\n\nint LCM(int a, int b) {\n\t// FIXME\n\treturn a * b;\n}\n\n// Fraction class {{{\n// ref: http://martin-thoma.com/fractions-in-cpp/\nclass Fraction {\n\tpublic:\n\t\tULL numerator;\n\t\tULL denominator;\n\t\tFraction(ULL _numerator, ULL _denominator) {\n\t\t\tassert(_denominator > 0);\n\t\t\tnumerator = _numerator;\n\t\t\tdenominator = _denominator;\n\t\t};\n\n\t\tFraction operator*(const ULL rhs) {\n\t\t\treturn Fraction(this->numerator * rhs, this->denominator);\n\t\t};\n\n\t\tFraction operator*(const Fraction& rhs) {\n\t\t\treturn Fraction(this->numerator * rhs.numerator, this->denominator * rhs.denominator);\n\t\t}\n\n\t\tFraction operator+(const Fraction& rhs) {\n\t\t\tULL lcm = LCM(this->denominator, rhs.denominator);\n\t\t\tULL numer_lhs = this->numerator * (this->denominator / lcm);\n\t\t\tULL numer_rhs = rhs.numerator * (rhs.numerator / lcm);\n\t\t\treturn Fraction(numer_lhs + numer_rhs, lcm);\n\t\t}\n\n\t\tFraction& operator+=(const Fraction& rhs) {\n\t\t\tFraction result = (*this) + rhs;\n\t\t\tthis->numerator = result.numerator;\n\t\t\tthis->denominator = result.denominator;\n\t\t\treturn *this;\n\t\t}\n};\n\nstd::ostream& operator<<(std::ostream &s, const Fraction &a) {\n\tif (a.denominator == 1) {\n\t\ts << a.numerator;\n\t} else {\n\t\ts << a.numerator << \"/\" << a.denominator;\n\t}\n\treturn s;\n}\n\n// }}}\n\n// }}}\n\nbool opt_debug = false;\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\t// input(\"./inputs/0.txt\");\n\t// output(\"./outputs/0.txt\");\n\n\tint N, M; cin >> N >> M;\n\tVI bits(N);\n\tVI code(M);\n\tREP (i, N) {\n\t\tcin >> bits[i];\n\t}\n\tREP (i, M) {\n\t\tcin >> code[i];\n\t}\n\tVI save_bits = bits;\n\n\tint ans = INF;\n\tREP (start, 2) {\n\t\tbits = save_bits;\n\t\tdump(start);\n\t\tint bit = start;\n\t\tint swap = 0;\n\t\tint bit_index = 0;\n\t\tREP (i, M) {\n\t\t\tdump(bit);\n\t\t\tREP (j, code[i]) {\n\t\t\t\tdump(j);\n\t\t\t\tdump(code[i]);\n\t\t\t\tif (bits[bit_index] == bit) {\n\t\t\t\t\tbit_index++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tint k = bit_index;\n\t\t\t\twhile (bits[k] != bit) {\n\t\t\t\t\tswap++;\n\t\t\t\t\tk++;\n\t\t\t\t\tif (k == bits.size()) {\n\t\t\t\t\t\tswap = INF;\n\t\t\t\t\t\tgoto END;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbits[bit_index] = bit;\n\t\t\t\tbits[k] = !bit;\n\t\t\t\tbit_index++;\n\t\t\t\tdump(bits);\n\t\t\t}\n\t\t\tbit = !bit;\n\t\t}\nEND:\n\t\tans = min(ans, swap);\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint a[20],b[2][20],c[20];\nint main(){\n\tint n,m;scanf(\"%d%d\",&n,&m);\n\trep(i,n)scanf(\"%d\",&a[i]);\n\tint cnt=0;\n\trep(i,m){\n\t\tint d;scanf(\"%d\",&d);\n\t\trep(j,d){\n\t\t\tb[0][cnt]=i%2;\n\t\t\tb[1][cnt++]=!(i%2);\n\t\t}\n\t}\n\tint Min=INT_MAX;\n\trep(i,2){\n\t\trep(j,n)c[j]=a[j];\n\t\tint cnt=0;\n\t\trep(j,n){\n\t\t\tif(c[j]!=b[i][j]){\n\t\t\t\tint k;\n\t\t\t\tfor(k=j+1;k<n;k++){\n\t\t\t\t\tif(c[k]==b[i][j])break;\n\t\t\t\t}\n\t\t\t\tif(k==n){\n\t\t\t\t\tgoto g;\n\t\t\t\t}\n\t\t\t\tfor(int t=k;t>j;t--){\n\t\t\t\t\tcnt++;swap(c[t],c[t-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tMin=min(Min,cnt);\n\t\tg:;\n\t}\n\tprintf(\"%d\\n\",Min);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n#include <iomanip>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = 1e12;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,N) for(int i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n\nll sq(ll num) { return num*num; }\nll mod_pow(ll x, ll n) {\n\tif (n == 0)return 1;\n\tif (n == 1)return x%MOD;\n\tll res = sq(mod_pow(x, n / 2));\n\tres %= MOD;\n\tif (n % 2 == 1) {\n\t\tres *= x;\n\t\tres %= MOD;\n\t}\n\treturn res;\n}\nll mod_add(ll a, ll b) { return (a + b) % MOD; }\nll mod_sub(ll a, ll b) { return (a - b + MOD) % MOD; }\nll mod_mul(ll a, ll b) { return a*b % MOD; }\n\nll n, m;\nbool bb[100];\nll p[100];\n\nint main() {\n\tcin >> n >> m;\n\trep(i, n)cin >> bb[i];\n\trep(i, m)cin >> p[i];\n\tll ans = INF;\n\trep(i, 2) {\n\t\tbool b[100];\n\t\tbool ok = true;\n\t\tll sum = 0;\n\t\tint now = 0;\n\t\tint cnt = 0;\n\t\tbool f = i;\n\t\trep(j, 100)b[j] = bb[j];\n\t\trep(j, n) {\n\t\t\tif (f != b[j]) {\n\t\t\t\t//cout << j;\n\t\t\t\tll pos = -1;\n\t\t\t\tFOR(k, j + 1, n) {\n\t\t\t\t\tif (f == b[k]) {\n\t\t\t\t\t\tpos = k;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pos == -1)ok = false;\n\t\t\t\telse {\n\t\t\t\t\tfor (int k = pos; k > j; k--) {\n\t\t\t\t\t\tswap(b[k], b[k - 1]);\n\t\t\t\t\t\tsum++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcnt++;\n\t\t\tif (cnt == p[now]) {\n\t\t\t\tnow++;\n\t\t\t\tcnt = 0;\n\t\t\t\tf = !f;\n\t\t\t}\n\t\t}\n\t\t//cout << endl;\n\t\t//cout << sum << endl;\n\t\tif (ok)ans = min(ans, sum);\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n\tEACH(x,vec) is >> x;\n\treturn is;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << \" \";\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << endl;\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\n\nvector<int> f(vector<int> v, int val) {\n\tvector<int> res;\n\tREP(i, v.size()) {\n\t\tREP(j, v[i]) {\n\t\t\tres.pb(i % 2 == 0 ? val : !val);\n\t\t}\n\t}\n\treturn res;\n}\nint cnt1(vector<int> a) {\n\tint res = 0;\n\tREP(i, a.size()) {\n\t\tif (a[i] == 1) ++res;\n\t}\n\treturn res;\n}\nint solve(vector<int> a, vector<int> b) {\n\tint n = a.size();\n\tvector<int> A, B;\n\tif ( cnt1(a) != cnt1(b) ) return inf;\n\tREP(i, n) {\n\t\tif (a[i] == 1) {\n\t\t\tA.pb(i);\n\t\t}\n\t}\n\tREP(i, n) {\n\t\tif (b[i] == 1) {\n\t\t\tB.pb(i);\n\t\t}\n\t}\n\tint res = 0;\n\tREP(i, A.size()) {\n\t\tres += abs(A[i] - B[i]);\n\t}\n\treturn res;\n}\n\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tint N, M; cin >> N >> M;\n\tvector<int> v(N); cin >> v;\n\tvector<int> to(M); cin >> to;\n\tint ans = min( solve(v, f(to, 0)), solve(v, f(to, 1)) );\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<queue>\nusing namespace std;\nint main()\n{\n  int n,m;\n  for(;cin>>n>>m,n;)\n    {\n      string s;\n      for (int i=0; i<n; i++) {\n        char tmp;\n        cin>>tmp;\n        s+=tmp;\n      }\n\n      string ss1,ss2;\n      bool flag=false;\n      for (int i=0; i<m; i++) {\n        int cnt=0;\n        cin>>cnt;\n        ss1+=string(cnt,'0'+flag);\n        ss2+=string(cnt,'0'+!flag);\n        flag=!flag;\n\n      }\n      // cout<<s<<endl;\n      //cout<<ss1<<endl;\n      //cout<<ss2<<endl;\n\n\n      queue<pair<string,int> >qu;\n      set<string> hash;\n      qu.push(make_pair(s,0));\n\n      while(true)\n        {\n          string ss=qu.front().first;\n          int cnt=qu.front().second;\n          qu.pop();\n          if(ss==ss1 || ss==ss2)\n            {\n              cout<<cnt<<endl;\n              break;\n            }\n          for(int i=0;i<ss.size()-1;i++)\n            {\n              string tmp=ss;\n              swap(tmp[i],tmp[i+1]);\n              if(hash.count(tmp)==0)\n                {\n                  hash.insert(tmp);\n                  qu.push(make_pair(tmp,cnt+1));\n                }\n\n            }\n\n\n        }\n\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#ifndef LIB_REPEAT_HPP\n#define LIB_REPEAT_HPP\n#define repeat(i,n) for (int i = 0; i < (n); ++i)\n#define repeat_from(i,m,n) for (int i = (m); i < (n); ++i)\n#define repeat_one(i,n) for (int i = 1; i <= (n); ++i)\n#define repeat_rev(i,n) for (int i = (n)-1; 0 <= i; --i)\n#define foreach(it, cont) for (decltype(cont.begin()) it = cont.begin(); it != cont.end(); ++it)\n#endif\nusing namespace std;\n#define MAX_N 15\nint main() {\n    ios_base::sync_with_stdio(false);\n    int N, M; cin >> N >> M;\n    vector<bool> b(N); repeat (i,N) { int a; cin >> a; b[i] = not not a; }\n    vector<int>  p(M); repeat (i,M) cin >> p[i];\n    int result = MAX_N;\n    repeat (d,2) {\n        vector<int> c, q;\n        repeat (i,N) if (b[i]) c.push_back(i);\n        {\n            int i = 0;\n            repeat (j,M) {\n                repeat (k,p[j]) {\n                    if ((j+d) % 2) q.push_back(i);\n                    i ++;\n                }\n            }\n        }\n        if (c.size() == q.size()) {\n            int acc = 0;\n            repeat (i, (int)c.size()) {\n                acc += labs(c[i] - q[i]);\n            }\n            result = min(result, acc);\n        }\n    }\n    cout << result << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define all(x) (x).begin(),(x).end()\nconst int mod=1000000007,MAX=100005,INF=1<<30;\n\nint main(){\n    \n    std::ifstream in(\"text.txt\");\n    std::cin.rdbuf(in.rdbuf());\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    int N,M;cin>>N>>M;\n    vector<int> A(N),B(M),C(N),D(N),save;\n    for(int i=0;i<N;i++) cin>>A[i];\n    for(int i=0;i<M;i++) cin>>B[i];\n    \n    int now=0;\n    for(int i=0;i<M;i++){\n        for(int j=0;j<B[i];j++){\n            C[now+j]=i%2;\n            D[now+j]=1-i%2;\n        }\n        now+=B[i];\n    }\n    save=A;\n    \n    int ans1=0,ans2=0;\n    \n    for(int i=0;i<N;i++){\n        if(A[i]==C[i]) continue;\n        else{\n            int now=i;\n            while(now<N&&A[now]!=C[i]) now++;\n            if(now==N){\n                ans1=INF;\n                break;\n            }\n            ans1+=now-i;\n            for(int j=now;j-1>=i;j--) swap(A[j-1],A[j]);\n        }\n    }\n    A=save;\n    \n    for(int i=0;i<N;i++){\n        if(A[i]==D[i]) continue;\n        else{\n            int now=i;\n            while(now<N&&A[now]!=D[i]) now++;\n            if(now==N){\n                ans2=INF;\n                break;\n            }\n            ans2+=now-i;\n            for(int j=now;j-1>=i;j--) swap(A[j-1],A[j]);\n        }\n    }\n    \n    cout<<min(ans1,ans2)<<endl;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<set>\n#include<cstdio>\n#include<cstdlib>\n#include<cmath>\n//#include<queue>\nusing namespace std;\n#define FOR(i,j,k) for(int i=j;i<=k;i++)\n#define FORD(i,j,k) for(int i=j;i>=k;i--)\n#define LL long long\n#define SZ(x) x.size()\nint vis[40000];\nint x,k,n,m,s,ans,start,end1,end2,dight;\n\nint bfs()\n{\n\tint q1[40000];int L1=1;int R1=0;\t\n\tint q2[40000];int L2=1;int R2=0;\n\tq1[++R1]=start;\n\tq2[++R2]=1;\n\tvis[start]=1;\n\twhile(q1[L1]!=end1&&q1[L1]!=end2)\n\t{\n\t\tint fr=q1[L1];\n\t\tint fv=q2[L2];\n\t\tFOR(i,0,n-2)\n\t\t{\n\t\t\tif((fr&(1<<i))&&!(fr&(1<<(i+1))))\n\t\t\t{\n\t\t\t\tans=fr+(1<<i);\n\t\t\t\tif(!vis[ans]) {vis[ans]=1;q1[++R1]=ans;q2[++R2]=fv+1;}\n\t\t\t}\n\t\t\telse if(!(fr&(1<<i))&&(fr&(1<<(i+1))))\n\t\t\t{\n\t\t\t\tans=fr-(1<<i);\n\t\t\t\tif(!vis[ans]) {vis[ans]=1;q1[++R1]=ans;q2[++R2]=fv+1;}\n\t\t\t}\n\t\t}\n\t\tL1++;\n\t\tL2++;\n\t}\n\treturn q2[L2]-1;\n}\nint main()\n{\ncin>>n>>m;\ndight=1;\nFORD(i,n-1,0)\n{\n\tcin>>x;\n\tstart+=x<<i;\n}\nint c=n;\nFOR(i,1,m)\n{\n\tcin>>x;\n\tFOR(j,1,x)\n\t{\n\t\tc--;\n\t\tend1+=dight<<c;\n\t\tend2+=(1-dight)<<c;\n\t}\n\tdight^=1;\n}\ncout<<bfs()<<endl;\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cassert>\nusing namespace std;\n\nint main() {\n  int N, M;\n  cin >> N >> M;\n  int b[20], p[20];\n  int ones = 0;\n  for (auto i=0; i<N; i++) {\n    cin >> b[i];\n    ones += b[i];\n  }\n  /* for (auto j=0; j<N; j++) {\n    cerr << b[j];\n  }\n  cerr << endl; */\n  for (auto j=0; j<M; j++) {\n    cin >> p[j];\n  }\n  int ans = 100000000;\n  for (int i=0; i<2; i++) {\n    int q[20];\n    int cur = 0;\n    int onesq = 0;\n    for (int j=0; j<M; j++) {\n      for (int k=0; k<p[j]; k++) {\n\tq[cur+k] = (j+i)%2;\n\tonesq += q[cur+k];\n      }\n      cur += p[j];\n    }\n    /* for (auto j=0; j<N; j++) {\n      cerr << q[j];\n    }\n    cerr << endl; */\n    if (ones == onesq) {\n      int tans = 0;\n      for (int j=0; j<N; j++) {\n\tif (q[j] != b[j]) {\n\t  for (int k=j+1; ; k++) {\n\t    assert(k < N);\n\t    if (q[k] == b[j]) {\n\t      swap(q[k], q[j]);\n\t      // cerr << \"swap at \" << k << \" and \" << j << endl;\n\t      tans += k-j;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      if (ans > tans) ans = tans;\n    }\n  }\n  assert(ans < 100000000);\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <utility>\n#include <cmath>\n#include <limits>\n\nint tsurai(const std::vector<int> &s, const std::vector<int> &t) {\n  std::vector<int> u, v;\n  for (size_t i=0; i<s.size(); ++i) {\n    if (s[i] == 0) u.push_back(i);\n    if (t[i] == 0) v.push_back(i);\n  }\n\n  if (u.size() != v.size()) {\n    return std::numeric_limits<int>::max();\n  }\n\n  int res=0;\n  for (size_t i=0; i<u.size(); ++i) {\n    //fprintf(stderr, \"%d, %d\\n\", u[i], v[i]);\n    res += std::abs(u[i]-v[i]);\n  }\n\n  return res;\n}\n\nint main() {\n  int N, M;\n  scanf(\"%d %d\", &N, &M);\n\n  std::vector<int> b(N), c(N), p(M);\n  for (int i=0; i<N; ++i) {\n    scanf(\"%d\", &b[i]);\n    c[i] = b[i] ^ 1;\n  }\n\n  for (int i=0; i<M; ++i)\n    scanf(\"%d\", &p[i]);\n\n  std::vector<int> pb, pc;\n  for (int i=0; i<M; ++i) {\n    for (int j=0; j<p[i]; ++j) {\n      pb.push_back(i&1);\n      pc.push_back(pb.back()^1);\n    }\n  }\n\n  int res=std::numeric_limits<int>::max();\n  for (const auto &bc: {b, c})\n    for (const auto &pbc: {pb, pc})\n      res = std::min(res, tsurai(bc, pbc));\n\n  printf(\"%d\\n\", res);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\n#define reps(i,f,n) for(int i=f;i<int(n);i++)\n#define rep(i,n) reps(i,0,n)\n\n\n\nint main(){\n\tint n,m;\n\tcin>>n>>m;\n\t\n\tvector<int> a;\n\tvector<int> b;\n\tvector<int> c;\n\t\n\trep(i,n){\n\t\tint t;\n\t\tcin>>t;\n\t\tif(t==1)a.push_back(i);\n\t}\n\t\n\tint v = 1;\n\tint cnt = 0;\n\t\n\trep(i,m){\n\t\tint t;\n\t\tcin>>t;\n\t\t\n\t\trep(j,t){\n\t\t\tif(v==1)b.push_back(cnt+j);\n\t\t\telse c.push_back(cnt+j);\n\t\t}\n\t\tcnt+=t;\n\t\tv=(v+1)%2;\n\t}\n\t\n\tif(a.size()!=b.size())b=c;\n\t\n\tint ans = 0;\n\trep(i,a.size()){\n\t\tans += abs(a[i]-b[i]);\n\t}\n\t\n\tprintf(\"%d\\n\",ans);\n\t\n\t\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint calc(int x, vector<int> b, const vector<int> &p) {\n\tconst int n = b.size();\n\n\tint res = 0;\n\tint index = 0;\n\n\tfor(const auto &e : p) {\n\t\tfor(int i = 0; i < e; ++i) {\n\t\t\tint next_index = index;\n\t\t\twhile(next_index < n && b[next_index] != x) ++next_index;\n\n\t\t\tif(next_index == n) return INT_MAX;\n\t\t\tres += next_index - index;\n\t\t\tswap(b[index], b[next_index]);\n\t\t\t++index;\n\t\t}\n\n\t\tx ^= 0x1;\n\t}\n\treturn res;\n}\n\nint main() {\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\n\tint n, m;\n\tcin >> n >> m;\n\n\tvector<int> b(n), p(m);\n\tfor(auto &e : b) cin >> e;\n\tfor(auto &e : p) cin >> e;\n\n\tcout << min(calc(1, b, p), calc(0, b, p)) << endl;\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <functional>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define int long long int\n\ntemplate<typename T> void chmax(T &a, T b) {a = max(a, b);}\ntemplate<typename T> void chmin(T &a, T b) {a = min(a, b);}\ntemplate<typename T> void chadd(T &a, T b) {a = a + b;}\n\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\nint dx[] = {0, 0, 1, -1};\nint dy[] = {1, -1, 0, 0};\nconstexpr ll INF = 1001001001001001LL;\nconstexpr ll MOD = 1000000007LL;\n\nsigned main() {\n    int N, M; cin >> N >> M;\n    vector<int> b(N), p(M);\n    rep(i,0,N) cin >> b[i];\n    rep(i,0,M) cin >> p[i];\n\n    int ans = INF;\n    rep(k,0,2) {\n        int col = k, cnt = 0, idx = 0;\n        vector<int> v;\n        rep(i,0,N) {\n            v.push_back(col);\n            if(++cnt == p[idx]) cnt = 0, idx++, col ^= 1;\n        }\n\n        vector<int> c = b;\n        int cost = 0;\n        rep(i,0,N) {\n            if(c[i] != v[i]) {\n                rep(j,i+1,N) {\n                    if(c[j] == v[i]) {\n                        cost += j - i;\n                        swap(c[i], c[j]);\n                        break;\n                    }\n                }\n                if(c[i] != v[i]) cost = INF;\n            }\n        }\n        chmin(ans, cost);\n    }\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\nusing namespace std;\nconst int INF = (int)1e9 + 7;\n\nint main() {\n    int n, m; cin >> n >> m;\n    string b;\n    vector<int> cnt01(2);\n    for (int i = 0; i < n; i++) {\n        char bi; cin >> bi; b += bi; cnt01[bi - '0']++;\n    }\n    vector<int> p(m);\n    for (int &pi: p) cin >> pi;\n    int cnt = INF;\n    for (int t0: {0, 1}) {\n        int t = t0;\n        string nxt = \"\";\n        vector<int> tmp01(2);\n        for (int i = 0; i < m; i++) {\n            nxt += string(p[i], '0' + t);\n            tmp01[t] += p[i];\n            t ^= 1;\n        }\n        if (tmp01[0] != cnt01[0] || tmp01[1] != cnt01[1]) continue;\n        string cur = b;\n        int tmp = 0;\n        for (int i = 0; i < n; i++) if (cur[i] != nxt[i]) {\n            int it = i;\n            while (cur[it] != nxt[i]) it++;\n            tmp += it - i;\n            swap(cur[it], cur[i]);\n        }\n        cnt = min(cnt, tmp);\n    }\n    cout << cnt << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define rep1(i,n) for(int i=1;i<(n);i++)\n#define all(v) (v).begin(),(v).end()\n#define pb(a) push_back(a)\nconst int INF = 114514810;\nusing namespace std;\ntypedef long long LL;\n\nint main(){\n  int n,m;\n  cin>>n>>m;\n  vector<int> B(n);\n  rep(i,n) cin>>B[i];\n  vector<int> p(m);\n  rep(i,m) cin>>p[i];\n  vector<int> tg(n);\n\n  int k=0;\n  vector<int> b = B;\n  rep(i, p.size())rep(j, p[i]) tg[k++]=i%2;\n  int ans = INF;\n  int tmp = 0;\n  rep(i, n){\n    if(tmp == INF) break;\n    if(b[i] == tg[i]) continue;\n    rep(j, n){\n      if(i+j >= n){\n        tmp = INF;\n        break;\n      }\n      if(b[i+j] == tg[i]){\n        swap(b[i], b[i+j]);\n        tmp += j;\n        break;\n      }\n    }\n  }\n  ans = min(ans, tmp);\n  k=0;\n  rep(i, p.size())rep(j, p[i]) tg[k++]=(i+1)%2;\n  tmp = 0;\n  b = B;\n  rep(i, n){\n    if(tmp == INF) break;\n    if(b[i] == tg[i]) continue;\n    rep(j, n){\n      if(i+j >= n){\n        tmp = INF;\n        break;\n      }\n      if(b[i+j] == tg[i]){\n        swap(b[i], b[i+j]);\n        tmp += j;\n        break;\n      }\n    }\n  }\n  ans = min(ans, tmp);\n  cout << ans << endl;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint a1[20], a2[20], b[20], z[20], o[20];\nint main(){\n\tint n,m;\n\tcin>>n>>m;\n\tint zero=0, one=0;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a1[i];\n\t\ta2[i]=a1[i];\n\t\tif(!a1[i]) zero++;\n\t\telse one++;\n\t}\n\n\tbool f=0;\n\tint one1=0, zero1=0;\n\tint one2=0, zero2=0;\n\tfor(int i=1, k=1;i<=m;i++){\n\t\tcin>>b[i];\n\t\tif(f) one2+=b[i], zero1+=b[i];\n\t\telse one1+=b[i], zero2+=b[i];\n\t\tfor(int j=1;j<=b[i];j++){\n\t\t\tz[k]=f;\n\t\t\to[k]=!f;\n\t\t\tk++;\n\t\t}\n\t\tf=!f;\n\t}\n\n\tint cnt1=0, cnt2=0;\n\tfor(int i=1;i<=n;i++){\n\t\tif(a1[i]!=z[i]){\n\t\t\tfor(int j=i+1;j<=n;j++){\n\t\t\t\tif(z[i]==a1[j]){\n\t\t\t\t\tswap(a1[i], a1[j]);\n\t\t\t\t\tcnt1+=(j-i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfor(int i=1;i<=n;i++){\n\t\tif(a2[i]!=o[i]){\n\t\t\tfor(int j=i+1;j<=n;j++){\n\t\t\t\tif(o[i]==a2[j]){\n\t\t\t\t\tswap(a2[i], a2[j]);\n\t\t\t\t\tcnt2+=(j-i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*cout<<one1<<\" \"<<one2<<\" \"<<zero1<<\" \"<<zero2<<endl;\n\tcout<<one<<\" \"<<zero<<endl;*/\n\tif(one1==one2 && zero1==zero2) cout<<min(cnt1, cnt2)<<endl;\n\telse if(one1==one && zero1==zero) cout<<cnt2<<endl;\n\telse cout<<cnt1<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<'='<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define peri(i,a,b) for(int i=int(b);i-->int(a);)\n#define rep(i,n) repi(i,0,n)\n#define per(i,n) peri(i,0,n)\n#define all(c) begin(c),end(c)\n#define mp make_pair\n#define mt make_tuple\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<string> vs;\n\nconst int INF=1e9;\nconst int MOD=1e9+7;\nconst double EPS=1e-9;\n\ntemplate<typename T1,typename T2>\nostream& operator<<(ostream& os,const pair<T1,T2>& p){\n\treturn os<<'('<<p.first<<','<<p.second<<')';\n}\ntemplate<typename T>\nostream& operator<<(ostream& os,const vector<T>& a){\n\tos<<'[';\n\trep(i,a.size()) os<<(i?\" \":\"\")<<a[i];\n\treturn os<<']';\n}\n\nint calc(vi a,vi b)\n{\n\tif(count(all(a),1)!=count(all(b),1))\n\t\treturn INF;\n\tint n=a.size(),cnt=0;\n\tfor(int i=0,j;i<n;i++){\n\t\tif(a[i]==b[i]) continue;\n\t\tfor(j=i;j<n && b[j]!=a[i];j++);\n\t\tfor(;j>i;j--,cnt++) swap(b[j],b[j-1]);\n\t}\n\treturn cnt;\n}\n\nint main()\n{\n\tfor(int n,m;cin>>n>>m && n|m;){\n\t\tvi a(n),b;\n\t\trep(i,n) cin>>a[i];\n\t\trep(i,m){\n\t\t\tint t; cin>>t;\n\t\t\tint x=b.empty()?0:!b.back();\n\t\t\trep(j,t) b.push_back(x);\n\t\t}\n\t\t\n\t\tint res=calc(a,b);\n\t\trep(i,n) b[i]^=1;\n\t\tres=min(res,calc(a,b));\n\t\tcout<<res<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<sstream>\n#include<utility>\n#include<map>\n#include<vector>\n#include<queue>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n//typedef pair<int,int>P;\n\nint N,M,P,r1,r2;\nvector<int>B,a1,a2;\n\nint ch(vector<int> o,vector<int> s)\n{\n\tint c=0,r=0;\n\tfor(int i=0;i<o.size();i++)\n\t\tif(o[i]!=s[i])c++;\n\tif(c%2)return 1000000000;\n\tfor(int i=0;i<o.size();i++)\n\t{\n\t\tif(o[i]!=s[i])\n\t\t{\n\t\t\tfor(int j=i+1;j<o.size();j++)\n\t\t\t{\n\t\t\t\tif(o[j]!=s[j]&&o[i]!=o[j])\n\t\t\t\t{\n\t\t\t\t\tr+=j-i;\n\t\t\t\t\tswap(o[i],o[j]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(o[i]!=s[i])return 1000000000;\n\t}\n\treturn r;\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&N,&M);\n\tfor(int i=0;i<N;i++)\n\t{\n\t\tint t;\n\t\tscanf(\"%d\",&t);\n\t\tB.push_back(t);\n\t}\n\tfor(int i=0;i<M;i++)\n\t{\n\t\tscanf(\"%d\",&P);\n\t\tfor(int j=0;j<P;j++)\n\t\t{\n\t\t\ta1.push_back(i%2);\n\t\t\ta2.push_back((i+1)%2);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",min(ch(B,a1),ch(B,a2)));\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n, m;\nint b[15], p[16], g[15];\n\nint calc()\n{\n\tint a[15];\n\tint res = 0;\n\tfor (int i = 0; i < n; i++) a[i] = b[i];\n\tfor (int i = 0; i < n; i++){\n\t\tint q = find(a + i, a + n, g[i]) - a;\n\t\tif (q == n) return 1 << 28;\n\t\tfor (int j = q; j > i; j--){\n\t\t\tswap(a[j], a[j - 1]);\n\t\t\tres++;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main()\n{\n\tscanf(\"%d %d\", &n, &m);\n\tfor (int i = 0; i < n; i++) scanf(\"%d\", b + i);\n\tfor (int i = 0; i < m; i++){\n\t\tscanf(\"%d\", p + i + 1);\n\t\tp[i + 1] += p[i];\n\t}\n\t\n\tfor (int i = 0; i < m; i++){\n\t\tfor (int j = p[i]; j < p[i + 1]; j++){\n\t\t\tg[j] = i & 1;\n\t\t}\n\t}\n\t\n\tint res = calc();\n\tfor (int i = 0; i < n; i++) g[i] ^= 1;\n\tres = min(res, calc());\n\t\n\tprintf(\"%d\\n\", res);\n}"
  },
  {
    "language": "C++",
    "code": "#ifndef _GLIBCXX_NO_ASSERT\n#include <cassert>\n#endif\n#include <cctype>\n#include <cerrno>\n#include <cfloat>\n#include <ciso646>\n#include <climits>\n#include <clocale>\n#include <cmath>\n#include <csetjmp>\n#include <csignal>\n#include <cstdarg>\n#include <cstddef>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n\n#ifdef __GXX_EXPERIMENTAL_CXX0X__\n#include <ccomplex>\n#include <cfenv>\n#include <cinttypes>\n#include <cstdbool>\n#include <cstdint>\n#include <ctgmath>\n#include <cwchar>\n#include <cwctype>\n#endif\n\n#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n\n#ifdef __GXX_EXPERIMENTAL_CXX0X__\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n#endif\n\nusing namespace std;\n\nint main ()\n{\n\tint N , M;\n\tcin >> N >> M;\n\tstring str = \"\" , str2 = \"\" , str3 = \"\";\n\tvector<int> data ( M , 0 );\n\tint count = 0;\n\tfor( size_t i = 0; i < N; i++ )\n\t{\n\t\tchar c;\n\t\tcin >> c;\n\t\tstr += c;\n\t\tif( c == '0' )\n\t\t{\n\t\t\tcount++;\n\t\t}\n\t}\n\tint count2 = 0;\n\tfor( size_t i = 0; i < M; i++ )\n\t{\n\t\tcin >> data[i];\n\t\tif( i % 2 )\n\t\t{\n\t\t\tcount2 += data[i];\n\t\t}\n\t\tfor( size_t j = 0; j < data[i]; j++ )\n\t\t{\n\t\t\tif( i % 2 )\n\t\t\t{\n\t\t\t\tstr2 += '0';\n\t\t\t\tstr3 += '1';\n\t\t\t} else\n\t\t\t{\n\t\t\t\tstr2 += '1';\n\t\t\t\tstr3 += '0';\n\t\t\t}\n\t\t}\n\t}\n\tauto f = []( string a , string b )\n\t{\n\t\tint ans = 0;\n\t\tint p = 0 , q = 0;\n\t\tfor( auto x : a )\n\t\t{\n\t\t\tif( x == '0' )p++;\n\t\t}\n\t\tfor( auto x : b )\n\t\t{\n\t\t\tif( x == '0' )q++;\n\t\t}\n\t\tif( p != q )return INT_MAX;\n\t\tfor( size_t i = 0; i < a.size (); i++ )\n\t\t{\n\t\t\tif( a[i] != b[i] )\n\t\t\t{\n\t\t\t\tint y = i;\n\t\t\t\twhile( y != a.size () && a[y] != b[i] )y++;\n\t\t\t\tif( y == a.size () )return INT_MAX;\n\t\t\t\tans += y - i;\n\t\t\t\tfor( int j = y; j > i; j-- )\n\t\t\t\t{\n\t\t\t\t\tswap ( a[j] , a[j - 1] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t};\n\tcout << min ( f ( str2 , str ) , f ( str3 , str ) ) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n\nint n,m;\nint a[22],p[22];\nint a1[22],a2[22];\n\nint main(){\n\tcin.sync_with_stdio(false);\n\tcin>>n>>m;\n\trep(i,n)cin>>a[i];\n\trep(i,m)cin>>p[i];\n\trep(i,m)p[i+1]+=p[i];\n\tint a11=1,a22=0,l=0;\n\trep(i,n){\n\t\tif(l<m&&i==p[l])l++,swap(a11,a22);\n\t\ta1[i]=a11;\n\t\ta2[i]=a22;\n\t}\n\tint cnt=0,cnt1=0,cnt2=0;\n\trep(i,n){\n\t\tif(a[i])cnt++;\n\t\tif(a1[i])cnt1++;\n\t\tif(a2[i])cnt2++;\n\t}\n\tint res=INF;\n\tif(cnt==cnt1){\n\t\tint sum=0,l=0;\n\t\trep(i,n){\n\t\t\tif(a[i]){\n\t\t\t\twhile(a1[l]==0)l++;\n\t\t\t\tsum+=abs(i-l);\n\t\t\t\tl++;\n\t\t\t}\n\t\t}\n\t\tminch(res,sum);\n\t}\n\tif(cnt==cnt2){\n\t\tint sum=0,l=0;\n\t\trep(i,n){\n\t\t\tif(a[i]){\n\t\t\t\twhile(!a2[l])l++;\n\t\t\t\tsum+=abs(i-l);\n\t\t\t\tl++;\n\t\t\t}\n\t\t}\n\t\tminch(res,sum);\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\nusing std::vector;\n\nint min(int a, int b){return (a<b)?a:b;}\nint abs(int x){return (x>0)?x:-x;}\n\nint N, M;\nint count[2];\nvector<int> pos[2];\nvector<int> am[2];\n\nint main(){\n    scanf(\"%d %d\", &N, &M);\n    for(int i=1;i<=N;i++){\n        int an;\n        scanf(\"%d\", &an);\n        pos[an].push_back(i);\n    }\n    int j=1;\n    for(int i=1;i<=M;i++){\n        int m;\n        scanf(\"%d\", &m);\n        for(int k=1;k<=m;k++){\n            am[(i%2)].push_back(j);\n            j++;\n        }\n    }\n    int diff = 100;\n    if(pos[0].size()==am[0].size()){\n        int tmp = 0;\n        for(int i=0;i<pos[0].size();i++){\n            tmp += abs( pos[0][i] - am[0][i] );\n        }\n        diff = min(diff, tmp);\n    }\n    if(pos[0].size()==am[1].size()){\n        int tmp = 0;\n        for(int i=0;i<pos[0].size();i++){\n            tmp += abs( pos[0][i] - am[1][i] );\n        }\n        diff = min(diff, tmp);\n    }\n    printf(\"%d\\n\", diff);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\n#include<queue>\nusing namespace std;\nint p[20];\nint q[20];\nint bfs[1<<15];\nint c[20];\nint main(){\n\tint a,b;scanf(\"%d%d\",&a,&b);\n\tint cnt=0;\n\tfor(int i=0;i<a;i++){\n\t\tscanf(\"%d\",p+i);\n\t\tif(p[i])cnt++;\n\t}\n\tfor(int i=0;i<b;i++)scanf(\"%d\",q+i);\n\tint L=0;\n\tint R=0;\n\tfor(int i=0;i<b;i+=2)R+=q[i];\n\tfor(int i=1;i<b;i+=2)L+=q[i];\n\tint ret=999999999;\n\tqueue<int>Q;\n\tfor(int i=0;i<(1<<a);i++)bfs[i]=-1;\n\tint st=0;\n\tfor(int i=0;i<a;i++){\n\t\tst+=(1<<i)*p[i];\n\t}\n\tbfs[st]=0;Q.push(st);\n\twhile(Q.size()){\n\t\tint at=Q.front();\n\t\tQ.pop();\n\t\tfor(int i=0;i<a-1;i++){\n\t\t\tint to=at;\n\t\t\tif(at&(1<<i)){to-=(1<<i);to+=(1<<(i+1));}\n\t\t\tif(at&(1<<(i+1))){to-=(1<<(i+1));to+=(1<<i);}\n\t\t\tif(!~bfs[to]){\n\t\t\t\tbfs[to]=bfs[at]+1;\n\t\t\t\tQ.push(to);\n\t\t\t}\n\t\t}\n\t}\n\tif(L==cnt){\n\t\tint sz=0;\n\t\tfor(int i=0;i<b;i++){\n\t\t\tfor(int j=0;j<q[i];j++)c[sz++]=i%2;\n\t\t}\n\t\tint at=0;\n\t\tfor(int i=0;i<a;i++)if(c[i])at+=(1<<i);\n\t\tret=min(ret,bfs[at]);\n\t\t//printf(\"%d: %d\\n\",at,bfs[at]);\n\t}\n\tif(R==cnt){\n\t\tint sz=0;\n\t\tfor(int i=0;i<b;i++){\n\t\t\tfor(int j=0;j<q[i];j++)c[sz++]=!(i%2);\n\t\t}\n\t\tint at=0;\n\t\tfor(int i=0;i<a;i++)if(c[i])at+=(1<<i);\n\t\tret=min(ret,bfs[at]);\n\t//\tprintf(\"%d: %d\\n\",at,bfs[at]);\n\t}\n\tprintf(\"%d\\n\",ret);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nint bfs(V &start, V &run) {\n    int N = start.size();\n    int M = run.size();\n\n    map<V, int> d;\n\tqueue<V> que;\n    que.push(start);\n    d[start] = 0;\n\n    V g1;\n    int bit = 0;\n    for (auto x : run) {\n        rep(k, x) g1.emplace_back(bit);\n        bit ^= 1;\n    }\n\n    V g2 = g1;\n    rep(i, N) g2[i] ^= 1;\n\n    while (!que.empty()) {\n        auto now = que.front(); que.pop();\n        if (now == g1 || now == g2) {\n            return d[now];\n        }\n\n        rep(i, N - 1) {\n            V nxt(now);\n            swap(nxt[i], nxt[i + 1]);\n            if (d.count(nxt) == 0) {\n                que.push(nxt);\n                d[nxt] = d[now] + 1;\n            }\n        }\n\n    }\n\n}\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    int N, M;\n    cin >> N >> M;\n    V start(N);\n    rep(i, N) cin >> start[i];\n    V run(M);\n    rep(i, M) cin >> run[i];\n\n    cout << bfs(start, run) << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nbool make_code(int n, int m, int *b, int *p, int *a, int t)\n{\n    for (int i = 0; i < n; ++i)\n        a[i] = -1;\n    int s = 0;\n    for (int i = 0; i < m; ++i) {\n        int k = 0;\n        for (int j = 0; j < p[i]; ++j) {\n            for (; k < n && !(a[k] == -1 && b[k] == t); ++k) {}\n            a[k] = s++;\n        }\n        t = !t;\n    }\n    for (int i = 0; i < n; ++i)\n        if (a[i] == -1)\n            return false;\n    return true;\n}\n\nint bsort(int n, int *a)\n{\n    int ans = 0;\n    for (int i = n; i >= 0; --i) {\n        for (int j = 1; j < i; ++j) {\n            if (a[j - 1] > a[j]) {\n                swap(a[j - 1], a[j]);\n                ++ans;\n            }\n        }\n    }\n    return ans;\n}\n\nint main()\n{\n    int n, m;\n    scanf(\"%d %d\", &n, &m);\n\n    int b[15];\n    for (int i = 0; i < n; ++i)\n        scanf(\"%d\", &b[i]);\n\n    int p[15];\n    for (int i = 0; i < m; ++i)\n        scanf(\"%d\", &p[i]);\n\n    int a[15];\n    int ans = 1000000;\n        //for (int i = 0; i < n; ++i) printf(\" %2d\", a[i]); puts(\"\");\n    if (make_code(n, m, b, p, a, 0)) {\n        ans = min(ans, bsort(n, a));\n    }\n    if (make_code(n, m, b, p, a, 1)) {\n        ans = min(ans, bsort(n, a));\n    }\n    printf(\"%d\\n\", ans);\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\nstruct st{\nint bit;\nint count;\n};\nint main() {\nint n,m;\n\tcin>>n>>m;\n\tint bit=0;\n\tREP(i,n){\n\tint shift;\n\tcin >> shift;\n\tbit |= shift << (n - i-1);\n\t}\n\tvector<int> ans(m);\n\tREP(i,m){\n\t\tcin>>ans[i];\n\t}\n\tint bit_ans=0;\n\tint bit_ans2;\n\tREP(i,m){\n\t\tREP(j, ans[i]){\n\t\t\tbit_ans <<=1;\n\t\t\tif (i % 2 == 0){\n\t\t\tbit_ans|=1;\n\t\t\t}\n\t\t\t\n\t}\n\t}\n\tbit_ans2=bit_ans^((1<<n)-1);\n\tint count=0;\n\tset<int> dp;\n\tdp.insert(bit);\n\tqueue<st> P;\n\tP.push({bit,0});\n\twhile (!P.empty()){\n\t\tst p = P.front(); P.pop();\n\t\tif (p.bit == bit_ans || p.bit == bit_ans2){\n\t\tcount=p.count;\n\t\tbreak;\n\t\t}\n\t\tREP(i,n-1){\n\t\t\tif ((p.bit | 1 << i) != (p.bit | 1 << (i + 1))){\n\t\t\t\tint bitc = p.bit^3<<i;\n\t\t\t\tif (dp.find(bitc) == dp.end()){\n\t\t\t\t\tdp.insert(bitc);\n\t\t\t\t\tP.push({ bitc, p.count + 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<count<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int INF=1e9;\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int N,M; cin >> N >> M;\n    vector<int> b(N),p(M),a(N);\n    for (int i=0;i<N;++i) cin >> b[i];\n    for (int i=0;i<M;++i) cin >> p[i];\n    int now=0,one=1;\n    for (int i=0;i<M;++i){\n        for (int j=0;j<p[i];++j){\n            a[now+j]=(one?1:0);\n        }\n        now+=p[i]; one^=1;\n    }\n    vector<int> pos;\n    for (int i=0;i<N;++i) if (b[i]) pos.emplace_back(i);\n    int ans=INF,cnt=0;\n    now=0,one=0;\n    for (int i=0;i<N;++i) if (a[i]){\n        if (now==pos.size()){cnt=INF; break;}\n        if (a[i]) cnt+=abs(pos[now++]-i),++one;\n    }\n    if (one!=pos.size()) cnt=INF;\n    ans=min(ans,cnt);\n    cnt=now=one=0;\n    for (int i=0;i<N;++i){\n        if (!a[i]){\n            if (now==pos.size()){cnt=INF; break;}\n            cnt+=abs(pos[now++]-i),++one;\n        }\n    }\n    if (one!=pos.size()) cnt=INF;\n    ans=min(ans,cnt);\n    cout << ans << '\\n';\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<set>\n#include<cstdio>\n#include<cstdlib>\n#include<cmath>\n#include<queue>\nusing namespace std;\n#define FOR(i,j,k) for(int i=j;i<=k;i++)\n#define FORD(i,j,k) for(int i=j;i>=k;i--)\n#define LL long long\n#define SZ(x) x.size()\nint vis[40000];\nint x,k,n,m,s,ans,start,end1,end2,dight;\nint bfs()\n{\n\tqueue<int> q1,q2;\n\tq1.push(start);\n\tq2.push(1);\n\tvis[start]=1;\n\twhile(q1.front()!=end1&&q1.front()!=end2)\n\t{\n\t\tint fr=q1.front();\n\t\tint fv=q2.front();\n\t\tFOR(i,0,n-2)\n\t\t{\n\t\t\tif((fr&(1<<i))&&!(fr&(1<<(i+1))))\n\t\t\t{\n\t\t\t\tans=fr+(1<<i);\n\t\t\t\tif(!vis[ans]) {vis[ans]=1;q1.push(ans);q2.push(fv+1);}\n\t\t\t}\n\t\t\telse if(!(fr&(1<<i))&&(fr&(1<<(i+1))))\n\t\t\t{\n\t\t\t\tans=fr-(1<<i);\n\t\t\t\tif(!vis[ans]) {vis[ans]=1;q1.push(ans);q2.push(fv+1);}\n\t\t\t}\n\t\t}\n\t\tq1.pop();\n\t\tq2.pop();\n\t}\n\treturn q2.front()-1;\n}\nint main()\n{\ncin>>n>>m;\ndight=1;\nFORD(i,n-1,0)\n{\n\tcin>>x;\n\tstart+=x<<i;\n}\nint c=n;\nFOR(i,1,m)\n{\n\tcin>>x;\n\tFOR(j,1,x)\n\t{\n\t\tc--;\n\t\tend1+=dight<<c;\n\t\tend2+=(1-dight)<<c;\n\t}\n\tdight^=1;\n}\ncout<<bfs();\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n/*\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=1345\n\n?????????????????????????????????????????????????????????????????????????????????????????°???????????????\n????????????????????£??\\???????????????????????¢?????\\?????????????????¨??????????¨±????????????\n????°??????\\???????????°??§?¨??????§??????????????°????????????????????????\n\n  ???????????????????????????????´??????????????????£??????????????£?????¨?????????\n??????????????????????????¬?????°????????????????????£?????????????????????\n??????????????????????????¬?????°??????????????????????????????0???1????????§??£???????????±?????????\n?????????????????????????????±????????§??????????????¨?????°???\"011100\"???????????¬?????°???????????????\n\"1 3 2\"??§??????.??????????????¬?????°??????????????????????????????????????????????????????????????¨??????????????????????????????\n0???????§???????1,?????????1???????§???????0?????????????????????????????????????????????????????????\n\n??????????????±???????????§?????????????????????\"100101\"???????????¬?????°????????????\"1 3 2\"?????????????????????????????????????????°????????????,\n????????????\"100011\" or \"011100\"?????????????????°?????????????????¨??????????????????\"011100\"????????????????°?????????¨???4????????????\n???????????????????????°?????????????????¨??????????????????\"100011\"???????????????1????????????????????§?????????\n?????????????????????????????????1??????\n\n*/\n\nint main() {\n\tcin.tie(0); ios::sync_with_stdio(false);\n\tint N, M; cin >> N >> M;\n\tvector<int> b1(N), b2(N);\n\tvector<int> p1(M), p2(M);\n\tfor (int i = 0; i < N;i++) cin >> b1[i];\n\tb2 = b1;\n\tfor (int i = 0; i < M;i++) cin >> p1[i];\n\tp2 = p1;\n\n\tint ans1 = 0;\n\tint key = 0;\n\tint at = 0;\n\tfor (int i = 0; i < N;i++) {\n\t\tif (b2[i] != key) {\n\t\t\tbool f = false;\n\t\t\tfor (int j = i + 1; j < N;j++) {\n\t\t\t\tif (b2[j] == key) {\n\t\t\t\t\tans1 += j - i;\n\t\t\t\t\tswap(b2[i], b2[j]);\n\t\t\t\t\tf = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!f) {\n\n\t\t\t\tans1 = (1 << 30);\n\t\t\t}\n\t\t}\n\t\tp2[at]--;\n\t\tif (p2[at] == 0) {\n\t\t\tat++;\n\t\t\tkey = (key == 0 ? 1 : 0);\n\t\t}\n\t}\n\tb2 = b1;\n\tp2 = p1;\n\tint ans2 = 0;\n\tkey = 1;\n    at = 0;\n\tfor (int i = 0; i < N;i++) {\n\t\tif (b2[i] != key) {\n\t\t\tbool f = false;\n\t\t\tfor (int j = i + 1; j < N;j++) {\n\t\t\t\tif (b2[j] == key) {\n\t\t\t\t\tans2 += j - i;\n\t\t\t\t\tswap(b2[i], b2[j]);\n\t\t\t\t\tf = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!f) {\n\t\t\t\tans2 = (1 << 30);\n\t\t\t}\n\t\t}\n\t\tp2[at]--;\n\t\tif (p2[at] == 0) {\n\t\t\tat++;\n\t\t\tkey = (key == 0 ? 1 : 0);\n\t\t}\n\t}\n\tcout << min(ans1, ans2) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n\nint a[20], b[20], c[20];\nint n, m;\n\nint solve(int a[], int b[], int n) {\n  int p[20], vis[20];\n  for (int i = 0; i < n; ++ i) p[i] = -1, vis[i] = 0;\n  for (int i = 0; i < n; ++ i) {\n    for (int j = 0; j < n; ++ j) if (!vis[j] && a[i] == b[j]) {\n      p[i] = j; vis[j] = 1; break;\n    }\n    if (p[i] == -1) return 1e9;\n  }\n  int ret(0);\n  for (int i = 0; i < n; ++ i) {\n    for (int j = i + 1; j < n; ++ j) {\n      ret += p[i] > p[j];\n    }\n  }\n  return ret;\n}\n\nint main() {\n  while (scanf(\"%d%d\", &n, &m) == 2) {\n    for (int i = 0; i < n; ++ i) scanf(\"%d\", a + i);\n    for (int i = 0; i < m; ++ i) scanf(\"%d\", b + i);\n    for (int i = 0, t(0); i < m; ++ i) {\n      for (int j = 0; j < b[i]; ++ j) {\n        c[t ++] = i & 1;\n      }\n    }\n    int ret = solve(a, c, n);\n    for (int i = 0; i < n; ++ i) c[i] ^= 1;\n    ret = min(ret, solve(a, c, n));\n    printf(\"%d\\n\", ret);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n\nint N, M, b[15], p[15], p1[15], p2[15];\n\nvoid solve() {\n\tint ii = 0, v = 0;\n\tfor_(i,0,M) {\n\t\tfor_(j,0,p[i]) p1[ii] = v, p2[ii++] = 1 - v;\n\t\tv = 1 - v;\n\t}\n\t\n\tint cnt = 0, cnt1 = 0, cnt2 = 0;\n\tfor_(i,0,N) cnt += b[i], cnt1 += p1[i], cnt2 += p2[i];\n\tbool f1 = cnt == cnt1, f2 = cnt == cnt2;\t\n\t\n\tint ans1 = 0, ans2 = 0, j1 = 0, j2 = 0;\n\tfor_(i,0,N) {\n\t\tif (b[i]) {\n\t\t\tif (f1) {\n\t\t\t\twhile (!p1[j1]) ++j1;\n\t\t\t\tans1 += abs(j1 - i);\n\t\t\t}\n\t\t\tif (f2) {\n\t\t\t\twhile (!p2[j2]) ++j2;\n\t\t\t\tans2 += abs(j2 - i);\n\t\t\t}\n\t\t\t++j1, ++j2;\n\t\t}\n\t}\n\t\n\tcout << min(f1 ? ans1 : 100, f2 ? ans2 : 100) << endl;\n}\n\nint main() {\n\tcin >> N >> M;\n\tfor_(i,0,N) cin >> b[i];\n\tfor_(i,0,M) cin >> p[i];\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cctype>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define loop(i,a,n) for(i=a;i<(n);i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nint main(void) {\n    int i,j;\n    int n,m;\n    cin >> n >> m;\n    vi a(n);\n    vi p(m);\n    rep(i,n) cin >> a[i];\n    rep(i,m) cin >> p[i];\n    int ans = INF;\n    rep(f,2){\n        vi b(n);\n        int x = f;\n        int k = 0;\n        int left = p[k];\n        rep(i,n){\n            b[i] = x;\n            left--;\n            if(left == 0){\n                k++;\n                left = p[k];\n                x = 1-x;\n            }\n        }\n        int tmp = 0;\n        rep(i,n)if(a[i] != b[i]){\n            j=i;\n            while(a[i] != b[j] && j < n)j++;\n            if(j == n){\n                tmp = INF;\n                break;\n            }\n            tmp += j-i;\n            b[j] = b[i];\n        }\n        ans = min(ans, tmp);\n    }\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <complex>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <deque>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <vector>\n#include <set>\n#include <limits>\n#include <cstdio>\n#include <cctype>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <ctime>\nusing namespace std;\n#define REP(i, j) for(int i = 0; i < (int)(j); ++i)\n#define FOR(i, j, k) for(int i = (int)(j); i < (int)(k); ++i)\n#define SORT(v) sort((v).begin(), (v).end())\n#define REVERSE(v) reverse((v).begin(), (v).end())\ntypedef pair<int, vector<int> > P;\nconst int INF = 1e9;\n\nint N, M, a, b;\nvector<int> v, d;\nset< vector<int> > S;\nqueue<P> open;\n\nbool solve(vector<int> &vec){\n  vector<int> tmp;\n  int cnt = 1;\n  FOR(i, 1, vec.size()){\n    if(vec[i] == vec[i - 1]) ++cnt;\n    else{\n      tmp.push_back(cnt);\n      cnt = 1;\n    }\n  }\n  tmp.push_back(cnt);\n  if(M != (int)(tmp.size())) return false;\n  REP(i, M) if(tmp[i] != d[i]) return false;\n  return true;\n}\n\nint main() {\n  cin >>N >>M;\n  int n = 0;\n  d = vector<int>(M);\n  vector<int> v(N);\n  REP(i, N) cin >>v[i];\n  REP(i, M) cin >>d[i];\n  open.push( P(0, v) );\n  while(!open.empty()){\n    P tmp = open.front(); open.pop();\n    int cnt = tmp.first;\n    vector<int> vec = tmp.second;\n    if(solve(vec)){\n      cout <<cnt <<endl;\n      break;\n    }\n    if(S.find(vec) != S.end()) continue;\n    S.insert(vec);\n    FOR(i, 1, vec.size()){\n      if(vec[i] == vec[i - 1]) continue;\n      swap(vec[i], vec[i - 1]);\n      open.push( P(cnt + 1, vec) );\n      swap(vec[i], vec[i - 1]);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1e8;\nint main(){\n\tint n,m;\n\tcin>>n>>m;\n\tvi s;\n\trep(i,n){\n\t\tint a;cin>>a;\n\t\tif(a)s.pb(i);\n\t}\n\tvi in(n);\n\tint t=0;\n\trep(i,m){\n\t\tint a;cin>>a;\n\t\tif(i%2)rep(j,a)in[t+j]=1;\n\t\tt+=a;\n\t}\n\tint out=inf;\n\trep(i,2){\n\t\tvi w;\n\t\trep(j,n)if(in[j]==i)w.pb(j);\n\t\tif(w.size()!=s.size())continue;\n\t\tint sum=0;\n\t\trep(j,w.size())sum+=abs(w[j]-s[j]);\n\t\tout=min(sum,out);\n\t}\n\tcout<<out<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n\nint N, M, b[15], p[15], p1[15], p2[15];\n\nvoid solve() {\n\tint ii = 0, v = 0;\n\tfor_(i,0,M) {\n\t\tfor_(j,0,p[i]) p1[ii] = v, p2[ii++] = 1 - v;\n\t\tv = 1 - v;\n\t}\n\t\n\tint cnt = 0, cnt1 = 0, cnt2 = 0;\n\tfor_(i,0,N) cnt += b[i], cnt1 += p1[i], cnt2 += p2[i];\n\t\n\t\n\tint ans1 = 0, ans2 = 0, j1 = 0, j2 = 0;\n\tfor_(i,0,N) {\n\t\tif (b[i]) {\n\t\t\tif (cnt1 == cnt) while (!p1[j1]) ++j1;\n\t\t\tif (cnt2 == cnt) while (!p2[j2]) ++j2;\n\t\t\tans1 += abs(j1 - i);\n\t\t\tans2 += abs(j2 - i);\n\t\t\t++j1, ++j2;\n\t\t}\n\t}\n\t\n\tcout << min(cnt1 == cnt ? ans1 : 20, cnt2 == cnt ? ans2 : 20) << endl;\n}\n\nint main() {\n\tcin >> N >> M;\n\tfor_(i,0,N) cin >> b[i];\n\tfor_(i,0,M) cin >> p[i];\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\nusing namespace std;\nint main(){\n  int n, m;\n  cin >> n >> m;\n  vector<int> B(n), P(m), one;\n  for(int i = 0; i < n; ++i){\n    cin >> B[i];\n    if(B[i]) one.push_back(i);\n  }\n\n  for(int i = 0; i < m; ++i) cin >> P[i];\n  int ans = 1000000000;\n  for(int i = 0; i < 2; ++i){\n    vector<int> A(n);\n    int t = 0;\n    vector<int> one_;\n    for(int j = 0; j < m; ++j){\n      for(int k = 0; k < P[j]; ++k){\n        A[t] = (i+j)%2;\n        if((i+j)%2) one_.push_back(t);\n        ++t;\n      }\n    }\n    if(one.size() != one_.size()) continue;\n    int d = 0;\n    for(int j = 0; j < one.size(); ++j)\n      d += abs(one[j]-one_[j]);\n    ans = min(d,ans);\n  }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cmath>\nusing namespace std;\n\nconst int INF = 1 << 30;\n\nint calc_cost(vector<int>& b1, vector<int>& b2) {\n    int cnt1 = 0, cnt2 = 0;\n    for (int i = 0; i < b1.size(); i++) {\n        if (b1[i] == 1) cnt1++;\n    }\n    for (int i = 0; i < b2.size(); i++) {\n        if (b2[i] == 1) cnt2++;\n    }\n    if (cnt1 != cnt2) return INF;\n    vector<int> idx1, idx2;\n    for (int i = 0; i < b1.size(); i++) {\n        if (b1[i] == 1) idx1.push_back(i);\n    }\n    for (int i = 0; i < b2.size(); i++) {\n        if (b2[i] == 1) idx2.push_back(i);\n    }\n    int res = 0;\n    for (int i = 0; i < idx1.size(); i++) {\n        res += abs(idx1[i] - idx2[i]);\n    }\n    return res;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int N, M;\n    cin >> N >> M;\n    vector<int> B(N), P(M);\n    for (int i = 0; i < N; i++) cin >> B[i];\n    for (int i = 0; i < M; i++) cin >> P[i];\n    vector<int> b1, b2;\n    for (int i = 0; i < M; i++) {\n        if (i % 2 == 0) {\n            for (int j = 0; j < P[i]; j++) {\n                b1.push_back(1);\n            }\n        }\n        else {\n            for (int j = 0; j < P[i]; j++) {\n                b1.push_back(0);\n            }\n        }\n    }\n    for (int i = 0; i < M; i++) {\n        if (i % 2) {\n            for (int j = 0; j < P[i]; j++) {\n                b2.push_back(1);\n            }\n        }\n        else {\n            for (int j = 0; j < P[i]; j++) {\n                b2.push_back(0);\n            }\n        }\n    }\n    int ans = INF;\n    ans = min(ans, calc_cost(b1, B));\n    ans = min(ans, calc_cost(b2, B));\n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define INF (int)(1e9)\n\nsigned main(){\n\n  int N, M;\n  int ans = 0, ans2 = 0;  vector<int> bit, bit2,  p, e, f;\n  \n  cin>>N>>M;\n\n  bit.resize(N);\n  p.resize(M);\n\n  for(int i = 0; i < N; i++){\n    cin>>bit[i];\n  }\n\n  bit2 = bit;\n  for(int i = 0; i < M; i++){\n    cin>>p[i];\n    if(i%2){\n      for(int j = 0; j < p[i]; j++){\n\te.push_back(0);\n\tf.push_back(1);\n      }\n    \n    } else {\n       for(int j = 0; j < p[i]; j++){\n\te.push_back(1);\n\tf.push_back(0);\n      }\n    }\n  }\n\n  for(int i = 0; i < N; i++){\n    int x = -1;\n    // cout<<\"ei  = \"<<i<<\" \"<<e[i]<<\" \"<<bit[i]<<endl;\n    for(int j = i; j < N; j++){\n      if(e[i] == bit[j]){\n\tx = j;\n\tbreak;\n      }\n    }\n    \n    if(x == -1){\n      ans = INF;\n      break;\n    }\n    for(int j = x-1; j >= i; j--){\n      bit[j+1] = bit[j];\n    }\n    ans += x-i;\n  }\n\n  \n  for(int i = 0; i < N; i++){\n    int x = -1;\n    //  cout<<\"fi  = \"<<i<<\" \"<<f[i]<<\" \"<<bit2[i]<<endl;\n    for(int j = i; j < N; j++){\n      if(f[i] == bit2[j]){\n\tx = j;\n\tbreak;\n      }\n    }\n    \n    if(x == -1){\n      ans2 = INF;\n      break;\n    }\n    for(int j = x-1; j >= i; j--){\n      bit2[j+1] = bit2[j];\n    }\n    ans2 += x-i;\n  }\n\n  cout<<min(ans,ans2)<<endl;\n\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define loop(n, i) for(int i=0;i<n;i++)\n#define all(v) v.begin(),v.end()\n#define HERE cout << \"HERE: \" << __LINE__ << endl;\n#define INSP(v) cout << v << \" at \" << __LINE__ << endl;\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    int n, m; cin >> n >> m;\n    vector<int> T(n);\n    vector<vector<int>> S(2);\n    loop (n, i) cin >> T[i];\n    loop (m, i) {\n        int v; cin >> v;\n        loop (v, j) {\n            S[0].push_back(i%2);\n            S[1].push_back((i+1)%2);\n        }\n    }\n\n    int ans = 1<<29;\n    loop (2, i) {\n        int tpop = 0, spop = 0;\n        for (int v : T) tpop += v;\n        for (int v : S[i]) spop += v;\n        if (tpop != spop) continue;\n\n        int c = tpop < (n - tpop);\n        int ti = 0, si = 0, cnt = 0;\n        while (ti < n && si < n) {\n            while (ti < n && T[ti] != c) ti++;\n            while (si < n && S[i][si] != c) si++;\n            cnt += abs(ti - si);\n            ti++, si++;\n        }\n        ans = min(ans, cnt);\n    }\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nbool bit[16],bit2[16];\nint a[16];\nint n,m;\n\nint check(bool sta){\n  int pos=0,ans=0;\n  for(int i=0;i<m;i++){\n    for(int j=0;j<a[i];j++){\n      int k=pos;\n      while(k<n&&bit[k] !=sta) k++;\n      if(k==n) return 10000000;\n      ans += k-pos;\n      while(k !=pos) bit[k] = bit[k-1],k--;\n      bit[pos] = sta;\n      pos++;\n    }\n    sta =!sta;\n  }\n  return ans;\n}\n\nint main() {\n  cin >> n >> m;\n  for(int i=0;i<n;i++) cin>>bit[i], bit2[i] = bit[i];\n  for(int i=0;i<m;i++) cin>>a[i]; \n  \n  int ans = check(1);\n  for(int i=0;i<n;i++) bit[i] = bit2[i];\n  cout << min(ans,check(0))<<endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\nint main(){\n  int n, m;\n  cin >> n >> m;\n  vector<int> B(n), P(m), one;\n  for(int i = 0; i < n; ++i){\n    cin >> B[i];\n    if(B[i]) one.push_back(i);\n  }\n\n  for(int i = 0; i < m; ++i) cin >> P[i];\n  int ans = 1000000000;\n  for(int i = 0; i < 2; ++i){\n    vector<int> A(n);\n    int t = 0;\n    vector<int> one_;\n    for(int j = 0; j < m; ++j){\n      for(int k = 0; k < P[j]; ++k){\n        A[t] = (i+j)%2;\n        if((i+j)%2) one_.push_back(t);\n        ++t;\n      }\n    }\n    if(one.size() != one_.size()) continue;\n    int d = 0;\n    for(int j = 0; j < one.size(); ++j)\n      d += abs(one[j]-one_[j]);\n    ans = min(d,ans);\n  }\n  cout << ans << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector< vector<int> > vvi;\n\nint n, m;\nint b[15];\nint p[15];\nint pb[15];\n\nint solve() {\n\tint res = 0;\n\trep(i, n) {\n\t\tif(b[i] != pb[i]) {\n\t\t\tfor(int j=i+1; j<n; j++) {\n\t\t\t\tif( b[j] == pb[i] ) {\n\t\t\t\t\tres += j - i;\n\t\t\t\t\tb[j] = 1 - b[j];\n\t\t\t\t\tb[i] = 1 - b[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nvoid create_pb(int num) {\n\tint k = 0;\n\trep(i, m) {\n\t\trep(j, p[i]) {\n\t\t\tpb[k] = num;\n\t\t\tk++;\n\t\t}\n\t\tnum = 1 - num;\n\t}\n}\n\nint main() {\n\tcin >> n >> m;\n\trep(i, n) cin >> b[i];\n\trep(i, m) cin >> p[i];\n\tint odd=0, even=0, cnt0=0, cnt1=0;\n\trep(i, n) {\n\t\tif(b[i]) cnt1++;\n\t\telse cnt0++;\n\t}\n\trep(i, m) {\n\t\tif(i%2) odd += p[i];\n\t\telse    even += p[i];\n\t}\n\tint mini = 10000;\n\tif(odd==cnt0 && even==cnt1) {\n\t\tcreate_pb(1);\n\t\tint tmp[15];\n\t\trep(i,n) tmp[i] = b[i];\n\t\tmini = min(mini, solve());\n\t\trep(i,n) b[i] = tmp[i];\n\t}\n\tif(even==cnt0 && odd==cnt1) {\n\t\tcreate_pb(0);\n\t\tmini = min(mini, solve());\n\t}\n\tcout << mini << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <complex>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <deque>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <vector>\n#include <set>\n#include <limits>\n#include <cstdio>\n#include <cctype>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <ctime>\nusing namespace std;\n#define REP(i, j) for(int i = 0; i < (int)(j); ++i)\n#define FOR(i, j, k) for(int i = (int)(j); i < (int)(k); ++i)\n#define SORT(v) sort((v).begin(), (v).end())\n#define REVERSE(v) reverse((v).begin(), (v).end())\ntypedef pair<int, vector<int> > P;\nconst int INF = 1e9;\n\nint N, M, a, b;\nvector<int> v, d;\nset< vector<int> > S;\nqueue<P> open;\n\nbool solve(vector<int> &vec){\n  vector<int> tmp;\n  int cnt = 1;\n  FOR(i, 1, vec.size()){\n    if(vec[i] == vec[i - 1]) ++cnt;\n    else{\n      tmp.push_back(cnt);\n      cnt = 1;\n    }\n  }\n  tmp.push_back(cnt);\n  if(M != (int)(tmp.size())) return false;\n  REP(i, M) if(tmp[i] != d[i]) return false;\n  return true;\n}\n\nint main() {\n  cin >>N >>M;\n  int n = 0;\n  d = vector<int>(M);\n  vector<int> v(N);\n  REP(i, N) cin >>v[i];\n  REP(i, M) cin >>d[i];\n  open.push( P(0, v) );\n  while(!open.empty()){\n    P tmp = open.front(); open.pop();\n    int cnt = tmp.first;\n    vector<int> vec = tmp.second;\n    if(solve(vec)){\n      cout <<cnt <<endl;\n      break;\n    }\n    if(S.find(vec) != S.end()) continue;\n    S.insert(vec);\n    FOR(i, 1, vec.size()){\n      if(vec[i] == vec[i - 1]) continue;\n      swap(vec[i], vec[i - 1]);\n      open.push( P(cnt + 1, vec) );\n      swap(vec[i], vec[i - 1]);\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n\nint N, M, b[15], p[15], p1[15], p2[15];\n\nvoid solve() {\n\tint ii = 0, v = 0;\n\tfor_(i,0,M) {\n\t\tfor_(j,0,p[i]) p1[ii] = v, p2[ii++] = 1 - v;\n\t\tv = 1 - v;\n\t}\n\t\n\tint c = 0, c1 = 0, c2 = 0;\n\tfor_(i,0,N) c += b[i], c1 += p1[i], c2 += p2[i];\n\tbool f1 = c == c1, f2 = c == c2;\t\n\t\n\tint ans1 = 0, ans2 = 0, j1 = 0, j2 = 0;\n\tfor_(i,0,N) {\n\t\tif (b[i]) {\n\t\t\tif (f1) {\n\t\t\t\twhile (!p1[j1]) ++j1;\n\t\t\t\tans1 += abs(j1 - i);\n\t\t\t}\n\t\t\tif (f2) {\n\t\t\t\twhile (!p2[j2]) ++j2;\n\t\t\t\tans2 += abs(j2 - i);\n\t\t\t}\n\t\t\t++j1, ++j2;\n\t\t}\n\t}\n\t\n\tcout << min(f1 ? ans1 : 50, f2 ? ans2 : 50) << endl;\n}\n\nint main() {\n\tcin >> N >> M;\n\tfor_(i,0,N) cin >> b[i];\n\tfor_(i,0,M) cin >> p[i];\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\n#define rep(i,x,y) for(int i=(x);i<(y);i++)\n\ntypedef long long int ll;\ntypedef pair<int, int> pil;\ntemplate<typename T> using  vec = std::vector<T>;\n\nconst int inf = 1 << 30;\nconst long long int infll = 1LL << 62;\nconst double eps = 1e-9;\nconst int dx[] = { 1,0,-1,0 };\nconst int dy[] = { 0,1,0,-1 };\n\nint main()\n{\n\tstd::cin.tie(0);\n\tstd::ios::sync_with_stdio(false);\n\tcout.setf(ios::fixed);\n\tcout.precision(10);\n\n\tint n, m;\n\n\tcin >> n >> m;\n\n\tbool zeroflag = true;\n\tbool oneflag = true;\n\n\tvec<int> bits(n);\n\tvec<int> p(m);\n\tint zerocount = 0;\n\tint onecount = 0;\n\n\trep(i, 0, n) {\n\t\tcin >> bits[i];\n\n\t\tif (bits[i] == 0) {\n\t\t\tzerocount++;\n\t\t}\n\t\telse {\n\t\t\tonecount++;\n\t\t}\n\t}\n\n\trep(i, 0, m) {\n\t\tcin >> p[i];\n\t}\n\n\tvec<int> ans(n);\n\tint cur = 0;\n\tint zc = 0;\n\tint oc = 0;\n\n\trep(i, 0, m) {\n\t\trep(j, 0, p[i]) {\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tans[cur] = 0;\n\t\t\t\tcur++;\n\t\t\t\tzc++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tans[cur] = 1;\n\t\t\t\tcur++;\n\t\t\t\toc++;\n\t\t\t}\n\t\t}\n\t}\n\n\tint answer = inf;\n\n\tif (zc == zerocount&&oc == onecount) {\n\t\tint tempans = 0;\n\t\tvec<int> tempbits = bits;\n\n\t\trep(i, 0, n) {\n\t\t\tif (tempbits[i] == ans[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\trep(j, i + 1, n) {\n\t\t\t\tif (tempbits[j] == ans[i]) {\n\t\t\t\t\tint temp = tempbits[j];\n\n\t\t\t\t\tfor (int k = j; k > i; k--) {\n\t\t\t\t\t\ttempbits[k] = tempbits[k - 1];\n\t\t\t\t\t}\n\n\t\t\t\t\ttempbits[i] = temp;\n\t\t\t\t\ttempans += j - i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tanswer = min(answer, tempans);\n\t}\n\n\tcur = 0;\n\tzc = 0;\n\toc = 0;\n\n\trep(i, 0, m) {\n\t\trep(j, 0, p[i]) {\n\t\t\tif (i % 2 == 0) {\n\t\t\t\tans[cur] = 1;\n\t\t\t\tcur++;\n\t\t\t\toc++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tans[cur] = 0;\n\t\t\t\tcur++;\n\t\t\t\tzc++;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (zc == zerocount&&oc == onecount) {\n\t\tint tempans = 0;\n\t\tvec<int> tempbits = bits;\n\n\t\trep(i, 0, n) {\n\t\t\tif (tempbits[i] == ans[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\trep(j, i + 1, n) {\n\t\t\t\tif (tempbits[j] == ans[i]) {\n\t\t\t\t\tint temp = tempbits[j];\n\n\t\t\t\t\tfor (int k = j; k > i; k--) {\n\t\t\t\t\t\ttempbits[k] = tempbits[k - 1];\n\t\t\t\t\t}\n\n\t\t\t\t\ttempbits[i] = temp;\n\t\t\t\t\ttempans += j - i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tanswer = min(answer, tempans);\n\t}\n\n\tcout << answer << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <bitset>\n\nusing namespace std;\n\nstruct state{\n\tvector< int > bits;\n\tint depth;\n};\n\nvector< int > count_bits( vector< int > *b ) {\n\tvector< int > v;\n\tint cnt = 0;\n\tfor( int i = 0; i < b ->size(); i++ ) {\n\t\tcnt ++;\n\t\tif( i < b -> size() - 1 && b -> at( i ) != b -> at( i + 1 ) ) {\n\t\t\tv.push_back( cnt );\n\t\t\tcnt = 0;\n\t\t}\n\t}\n\tv.push_back( cnt );\n\treturn v;\n}\n\nbool isEqual( vector< int > *v, vector< int > *w ) {\n\tif( v->size() != w->size() ) return false;\n\tfor( int i = 0; i < v->size(); i++ ) {\n\t\tif( v->at(i) != w->at(i) ) return false;\n\t}\n\treturn true;\n}\n\nvoid swap_bits( vector< int > *b, int pos ) {\n\tint c = b -> at( pos );\n\tb -> at( pos ) = b -> at( pos + 1 );\n\tb -> at( pos + 1 ) = c;\n\treturn;\n}\n\nint main(void){\n\n\tint N, M;\n\tcin >> N >> M;\n\tstate start;\n\tstart.bits = vector< int >( N, 0 );\n\tstart.depth = 0;\n\tvector< int > p( M, 0 );\n\tvector< bool > visited( 1 << N, false );\n\n\tfor( int i = 0; i < N; i++ )\n\t\tcin >> start.bits[i];\n\tfor( int i = 0; i < M; i++ )\n\t\tcin >> p[i];\n\n\tqueue< state > q;\n\tq.push( start );\n\n\twhile( !q.empty() ) {\n\t\t\n\t\tstate cs = q.front();\n\t\tq.pop();\n\t\tvector< int > v = count_bits( &cs.bits );\n\t\tif( isEqual( &v, &p ) ) { \n\t\t\tcout << cs.depth << endl;\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor( int i = 0; i < N - 1; i++ ) {\n\t\t\tstate newstate;\n\t\t\tfor( int j = 0; j < N; j++ )\n\t\t\t\tnewstate.bits.push_back( cs.bits[j] );\n\n\t\t\tint n = 0;\n\t\t\tswap_bits( &newstate.bits, i );\n\n\t\t\tfor( int j = 0; j < N; j++ ) {\n\t\t\t\tif( newstate.bits[j] ) n |= ( 1 << j );\n\t\t\t}\n\n\t\t\tif( visited[ n ] ) continue;\n\t\t\tvisited[n] = true;\n\n\t\t\tnewstate.depth = cs.depth + 1;\n\t\t\t\n\t\t\tq.push( newstate );\n\t\t}\n\n\n\t}\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef vector<int> vi;\n\nvi trans(vi p, int k){\n  vi a;\n  for(int i=0;i<p.size();i++){\n    for(int j=0;j<p[i];j++){\n      a.push_back(k);\n    }\n    k = 1-k;\n  }\n  return a;\n}\n\nvi pos(vi a){\n  vi res;\n  for(int i=0;i<a.size();i++){\n    if(a[i])res.push_back(i);\n  }\n  return res;\n}\n\nint main(){\n  int n,m;\n  cin >> n >> m;\n  vi b(n),p(m);\n  for(int i=0;i<n;i++)cin >> b[i];\n  for(int j=0;j<m;j++)cin >> p[j];\n  \n  int ans = 1e9;\n  for(int c=0;c<2;c++){\n    vi a = trans(p,c);\n    vi pos1 = pos(b), pos2 = pos(a);\n    if(pos1.size() != pos2.size())continue;\n\n    int sum = 0;\n    for(int i=0;i<pos1.size();i++){\n      sum += abs(pos1[i] - pos2[i]);\n    }\n    ans = min(ans,sum);\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n \n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=(int)(a)-1;i>=(int)(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n \n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n \n// #define DEBUG\n \n#ifdef DEBUG\n    #define dump(...) fprintf(stderr, __VA_ARGS__)\n#else\n    #define dump(...)\n#endif\n \ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n \nusing namespace std;\nusing ll=long long;\nusing vi=vector<int>;\nusing vll=vector<ll>;\n \nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nconst ll inf =1LL << 62;\nconst ll mod=1000000007LL;\nconst int dx[4]={1,0,-1,0};\nconst int dy[4]={0,1,0,-1};\n \n \nll extgcd(ll a,ll b,ll& x,ll& y){x=1,y=0;ll g=a;if(b!=0) g=extgcd(b,a%b,y,x),y-=a/b*x;return g;}\nll ADD(const ll &a, const ll &b,const ll &mod) { return (a+b)%mod;}\nll SUB(const ll &a, const ll &b,const ll &mod) { return (a-b+mod)%mod;}\nll MUL(const ll &a, const ll &b,const ll &mod) { return (1LL*a*b)%mod;}\nll DIV(const ll &a, const ll &b,const ll &mod) {ll x,y; extgcd(b,mod,x,y);return MUL(a,(x+mod)%mod,mod);}\n \nrandom_device rd;\nmt19937 mt(rd());\nuniform_int_distribution<int> dice(1,6);\nuniform_real_distribution<double> score(0.0,10.0);\n\nint main(void){\n    int n, m; cin >> n >> m;\n    \n    vi B(n), P(m);\n    for(auto & e : B) cin >> e;\n    for(auto & e : P) cin >> e;\n    string b_org;\n    for(auto & e : B){\n        b_org.push_back('0' + e);\n    }\n\n    int res = 1e9;\n    rep(bi, 2){\n        string p;\n        rep(i, m){\n            rep(j, P[i]){\n                p.push_back('0' + ((bi + i) % 2));\n            }\n        }\n\n        int cur = 0;\n        string b = b_org;\n        if(count(_all(b), '0') != count(_all(p), '0')) continue;\n\n        for(auto & c : p){\n            int pos = b.find(c);\n            cur += pos;\n            b.erase(pos, 1);\n        }\n\n        chmin(res, cur);\n    }\n\n    cout << res << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define im imag()\n#define re real()\n#define r(I, N) for(int I=0;I<N;I++)\n#define f(I, A, B) for(int I=A;I<B;I++)\n#define fd(I, A, B) for(int I=A;I>=B;I--)\n#define ite(x) for(__typeof((x).begin()) it=(x).begin();it!=(x).end();it++)\n#define sz(x) ((int)(x).size())\n#define clr(x) memset(x, 0, sizeof(x))\n\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef long double ld;\ntypedef complex<ld> Point;\ntypedef Point Vector;\n\nconst ld pi = acos(-1.0);\nconst ld eps = 1e-12;\n\nint N, M;\nint r[20], a[20], b[20];\n\nint main()\n{\n      cin >> N >> M;\n      r(i, N) cin >> a[i], b[i] = a[i];\n      r(i, M) cin >> r[i];\n\n      /// Case 1 : 0\n\n      int pt = 0, num = 0, ans1 = 0, ans2 = 0;\n\n      bool flag1 = true;\n\n      r(i, N)\n      {\n            f(j, i, i + r[pt])\n            {\n                  if(a[j] != num)\n                  {\n                        int rt = j;\n                        while(a[rt] != num && rt < N) rt++;\n                        if(rt >= N)\n                        {\n                              flag1 = false;\n                              break;\n                        }\n                        swap(a[rt], a[j]);\n                        ans1 += rt - j;\n                  }\n            }\n            i += r[pt++] - 1;\n            num = !num;\n      }\n\n      /// Case 2 : 1\n      bool flag2 = true;\n      num = 1;\n      pt = 0;\n\n      r(i, N)\n      {\n            f(j, i, i + r[pt])\n            {\n                  if(b[j] != num)\n                  {\n                        int rt = j;\n                        while(b[rt] != num && rt < N) rt++;\n                        if(rt >= N)\n                        {\n                              flag2 = false;\n                              break;\n                        }\n                        swap(b[rt], b[j]);\n                        ans2 += rt - j;\n                  }\n            }\n            i += r[pt++] - 1;\n            num = !num;\n      }\n\n      cout << -min(-flag1 * ans1, -flag2 * ans2) << endl;\n      return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n#define all(c) (c).begin(), (c).end()\n#define loop(i,a,b) for(ll i=a; i<ll(b); i++)\n#define rep(i,b) loop(i,0,b)\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define mt make_tuple\n#define lb lower_bound\n#define ub upper_bound\n#ifdef DEBUG\n#define dump(...) (cerr<<#__VA_ARGS__<<\" = \"<<(DUMP(),__VA_ARGS__).str()<<\" [\"<<__LINE__<<\"]\"<<endl)\nstruct DUMP:ostringstream{template<class T>DUMP &operator,(const T&t){if(this->tellp())*this<<\", \";*this<<t;return *this;}};\n#else\n#define dump(...)\n#endif\ntemplate<class T> ostream& operator<<(ostream& os, vector<T> const& v){\n    rep(i,v.size()) os << v[i] << (i+1==v.size()?\"\":\" \");\n    return os;\n}\n\nint main(){\n    int n,m;\n    while(cin >> n >> m && n){\n        vi b(n), p(m);\n        rep(i,n) cin >> b[i];\n        rep(i,m) cin >> p[i];\n        queue<pair<int,vi>> q;\n        q.emplace(0,b);\n        set<vi> dp;\n        while(q.size()){\n            int step; vi b;\n            tie(step,b) = q.front();\n            q.pop();\n            vi seq = {1};\n            rep(i,b.size()-1){\n                if(b[i]==b[i+1])seq.back()++;\n                else seq.pb(1);\n            }\n            if(seq==p){\n                cout << step << endl;\n                break;\n            }\n            rep(i,b.size()-1){\n                swap(b[i],b[i+1]);\n                if(!dp.count(b)){\n                    dp.insert(b);\n                    q.emplace(step+1,b);\n                }\n                swap(b[i],b[i+1]);\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nld eps = 1e-9;\n\nint main() {\n\tint N, M; cin >> N >> M;\n\tvector<int>nums;\n\tfor (int i = 0; i < N; ++i) {\n\t\tint a; cin >> a;\n\t\tnums.emplace_back(a);\n\t}\n\tconst int whitenum = accumulate(nums.begin(), nums.end(), 0);\n\tvector<int>sizes;\n\tvector<int>finnums;\n\tfor (int i = 0; i < M; ++i) {\n\t\tint a; cin >> a;\n\t\tsizes.emplace_back(a);\n\t\tfor (int j = 0; j < a; ++j) {\n\t\t\tfinnums.push_back(i % 2 == 0);\n\t\t}\n\t}\n\tint firstnum = 0;\n\tint secondnum = 0;\n\t{\n\t\tfor (int i = 0; i < M; i += 2) {\n\t\t\tfirstnum += sizes[i];\n\t\t}\n\t\tsecondnum = N - firstnum;\n\t}\n\tint ans = 1e8;\n\tif (firstnum == whitenum) {\n\t\tauto it = find(nums.begin(), nums.end(), 1);\n\t\tauto jt = find(finnums.begin(), finnums.end(), 1);\n\t\tint nans = 0;\n\t\tfor (int i = 0; i < whitenum; ++i) {\n\t\t\tnans += abs((it - nums.begin()) - (jt - finnums.begin()));\n\t\t\tit = find(next(it), nums.end(), 1);\n\t\t\tjt = find(next(jt), finnums.end(), 1);\n\t\t}\n\t\tans = nans;\n\t}\n\tif (secondnum == whitenum) {\n\t\tauto it = find(nums.begin(), nums.end(), 1);\n\t\tauto jt = find(finnums.begin(), finnums.end(), 0);\n\t\tint nans = 0;\n\t\tfor (int i = 0; i < whitenum; ++i) {\n\t\t\tnans += abs((it - nums.begin()) - (jt - finnums.begin()));\n\t\t\tit = find(next(it), nums.end(), 1);\n\t\t\tjt = find(next(jt), finnums.end(), 0);\n\t\t}\n\t\tans =min(ans, nans);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(int argc, char *argv[])\n{\n  for(;;) {\n    int n, m;\n    cin >> n >> m;\n    if(n == 0) break;\n    vector<bool> bs;\n    for(int i = 0; i < n; i++) {\n      int c;\n      cin >> c;\n      bs.push_back(c == 1);\n    }\n    vector<bool> ts, fs;\n    int c = 0;\n    bool cur = false;\n    for(int i = 0; i < n; i++) {\n      if(c == 0) { cin >> c; cur = !cur; }\n      ts.push_back(cur);\n      fs.push_back(!cur);\n      c--;\n    }\n    auto popcount = [&n](vector<bool> &src) {\n      int c = 0;\n      for(int i = 0; i < src.size(); i++) {\n        if(src[i]) c++;\n      }\n      return c;\n    };\n    // now, let's swap!\n    auto swaps = [&n,&popcount](vector<bool> &src, vector<bool> &tgt) {\n      vector<bool> x(src.size());\n      copy(src.begin(), src.end(), x.begin());\n      if(popcount(src) != popcount(tgt)) return n * n;\n      int cnt = 0;\n      for(int i = 0; i < n; i++) {\n        if(x[i] != tgt[i]) {\n          for(int j = i + 1; j < n; j++) {\n            cnt++;\n            if(x[j] == tgt[i]) {\n              x[j] = x[i];\n              x[i] = tgt[i];\n              break;\n            }\n          }\n        }\n      }\n      return cnt;\n    };\n    cout << min(swaps(bs, ts), swaps(bs,fs)) << endl;\n    break;\n  }\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,m;\n  cin>>n>>m;\n  int a1[n],a2[n],b1[n],b2[n],l[m],c=0;\n  r(i,n)cin>>a1[i],a2[i]=a1[i];\n  r(i,m)cin>>l[i];\n  r(i,n){\n    for(int p=0;p<l[c];p++,i++)\n      b1[i]=c%2,b2[i]=(c+1)%2;\n    c++;i--;\n  }\n  int pp=0,pp1=0;\n  r(i,n)if(a1[i]!=b1[i])pp++;\n  r(i,n)if(a1[i]!=b2[i])pp1++;\n  if(!pp||!pp1){\n    cout<<0<<endl;\n    return 0;\n  }\n  int p1=0,p2=0,c1=0,c2=0,k;\n  for(int j=0;j<n-1;j++)\n    if(a1[j]!=b1[j])\n      for(int i=j;i<n;i++)\n        if(a1[i]==b1[j]){swap(a1[i],a1[j]),p1+=i-j,c1++;break;}\n  for(int j=0;j<n-1;j++)\n    if(a2[j]!=b2[j])\n      for(int i=j;i<n;i++)\n        if(a2[i]==b2[j]){swap(a2[i],a2[j]),p2+=i-j,c2++;break;}\n  if(c1&&c2)k=min(p1,p2);\n  else if(c1)k=p1;\n  else k=p2;\n  cout<<k<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n#define MAX 1000100\n#define N 30\n\nint memo[MAX], n, m, goal[N], ori[N], goalstate;\nqueue<int> que;\n\ninline int encode(int arr[]){\n  int res = 0;\n  for(int i = 0; i < n; i++) res |= (arr[i] << i);\n  return res;\n}\n\ninline void decode(int state, int res[]){ for(int i = 0; i < n; i++) res[i] = (state >> i) & 1; }\n\ninline int fill_bit(int arr[], int start){\n  int sum = 0, res = 0;\n  for(int i = 0; i < m; i++){\n    if(start) for(int j = 0; j < arr[i]; j++) res |= 1 << (sum + j);\n    sum += arr[i];\n    start ^= 1;\n  }\n  return res;\n}\n\nint main(){\n  while(scanf(\"%d%d\", &n, &m) == 2){\n    memset(memo, -1, sizeof(memo));\n    \n    for(int i = 0; i < n; i++) scanf(\"%d\", ori + i);\n    for(int i = 0; i < m; i++) scanf(\"%d\", goal + i);\n    \n    int state = encode(ori), bits[N];\n    que.push(state);\n    memo[state] = 0;\n    while(!que.empty()){\n      state = que.front(); que.pop();\n      decode(state, bits);\n      \n      for(int i = 0; i < n - 1; i++){\n        swap(bits[i], bits[i + 1]);\n        int nxtstate = encode(bits);\n        if(memo[nxtstate] == -1){\n          memo[nxtstate] = memo[state] + 1;\n          que.push(nxtstate);\n        }\n        swap(bits[i], bits[i + 1]);\n      }\n    }\n    \n    int goal1, goal2;\n    goal1 = fill_bit(goal, 0);\n    goal2 = fill_bit(goal, 1);\n    if(memo[goal1] == -1) printf(\"%d\\n\", memo[goal2]);\n    else if(memo[goal2] == -1) printf(\"%d\\n\", memo[goal1]);\n    else printf(\"%d\\n\", min(memo[goal1], memo[goal2]));\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>  \nusing namespace std;\nconst int INF = 1 << 30;\n\nint N, M, b, Exit, mask;\nint v[1 << 15];\nint ret;\nvoid rec(int digit, int cnt){\n  if(cnt >= ret) return;\n  if((digit & mask) == (Exit & mask) || (digit & mask) == ((~Exit) & mask)){\n    ret = min( ret, cnt);\n    return;\n  } else if(v[digit & mask] <= cnt){\n    return;\n  } else {\n    v[digit] = cnt;\n    const int prev = digit;\n    for(int i = 0; i < N - 1; ++i){\n      digit &= ~(3 << i);\n      digit |= ((prev >> i) & 1) << (i + 1);\n      digit |= ((prev >> (i + 1)) & 1) << i;\n      rec( digit, cnt + 1);\n      digit = prev;\n    }\n  }\n}\n\nint main(){\n  fill_n( v, 1 << 15, INF);\n  ret = INF;\n\n  cin >> N >> M;\n  mask = (1 << N) - 1;\n  for(int i = 0; i < N; ++i){\n    bool d;\n    cin >> d;\n    b |= d << (N - i - 1);\n  }\n  int cnt = 0;\n  bool flip = false;\n  for(int i = 0; i < M; ++i){\n    int p;\n    cin >> p;\n    while(p--){\n      Exit |= (int)flip << (N - cnt - 1);\n      ++cnt;\n    }\n    flip ^= 1;\n  }\n  rec(b, 0);\n  cout << ret << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<cstdlib>\n#include<vector>\n#include<set>\n#include<list>\n#include<queue>\n#include<cmath>\n#include<functional>\n#include<algorithm>\n#define INF (1<<29)\n#define rep(i,n) for(int i=0;i<(n);i++)\nusing namespace std;\n\n\n\nint calc(string s,string t){\n\tvector<int> p,q;\n\trep(i,s.size())if(s[i]=='1')p.push_back(i);\n\trep(i,t.size())if(t[i]=='1')q.push_back(i);\n\tif(p.size()!=q.size())return INF;\n\tint ans=0;\n\trep(i,p.size()){\n\t\tans+=abs(p[i]-q[i]);\n\t}\n\treturn ans;\n}\nint main(){\n\tint n,m;\n\tstring a,b;\n\tcin>>n>>m;\n\trep(i,n){\n\t\tchar c;\n\t\tcin>>c;\n\t\ta+=c;\n\t}\n\trep(i,m){\n\t\tint p;\n\t\tcin>>p;\n\t\trep(j,p){\n\t\t\tb+=i&1?'1':'0';\n\t\t}\n\t}\n\tint c=calc(a,b);\n\trep(i,b.size())b[i]=b[i]=='1'?'0':'1';\n\tcout<<min(c,calc(a,b))<<endl;;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<sstream>\n#include<utility>\n#include<map>\n#include<vector>\n#include<queue>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n//typedef pair<int,int>P;\n\ntypedef struct D{\n\tint s;\n\tvector<int> b;\n\tbool operator <(const D &a)const{ return s<a.s;};\n}D;\n\nint N,M,P,r1,r2;\nvector<int>B,a1,a2;\nmap<int,int>flg;\nint b2i(vector<int> s)\n{\n\tint r=0;\n\tfor(int i=0;i<s.size();i++,r*=2)\n\t\tr+=s[i];\n\treturn r;\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&N,&M);\n\tfor(int i=0;i<N;i++)\n\t{\n\t\tint t;\n\t\tscanf(\"%d\",&t);\n\t\tB.push_back(t);\n\t}\n\tfor(int i=0;i<M;i++)\n\t{\n\t\tscanf(\"%d\",&P);\n\t\tfor(int j=0;j<P;j++)\n\t\t{\n\t\t\ta1.push_back(i%2);\n\t\t\ta2.push_back((i+1)%2);\n\t\t}\n\t}\n\tr1=b2i(a1);\n\tr2=b2i(a2);\n\tqueue<D>Q;\n\tD tmp={0,B};\n\tQ.push(tmp);\n\twhile(!Q.empty())\n\t{\n\t\ttmp=Q.front();Q.pop();\n\t\tint f=b2i(tmp.b);\n\t\tif(f==r1||f==r2)break;\n\t\tif(flg.find(f)!=flg.end()&&flg[f]<tmp.s)continue;\n\t\tflg[f]=tmp.s;\n\t\tfor(int i=0;i<N-1;i++)\n\t\t{\n\t\t\tvector<int> t=tmp.b;\n\t\t\tswap(t[i],t[i+1]);\n\t\t\tif(flg.find(b2i(t))==flg.end()||flg[b2i(t)]<tmp.s+1)\n\t\t\t{\n\t\t\t\tD ins={tmp.s+1,t};\n\t\t\t\tQ.push(ins);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",tmp.s);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10 fixed<<setprecision(10)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\nconst int INF = 114514810;\nconst int MOD = 1000000007;\nconst double EPS = 1e-10;\ntypedef int weight;\nstruct edge\n{\n\tint to; weight cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\ntypedef vector<vector<edge>> Graph;\n//int dx[] = { -1, 0, 0, 1 }; int dy[] = { 0, -1, 1, 0 };\ntemplate<class T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<class T> T &chmax(T &a, const T &b) { return a = max(a, b); }\nbool valid(int x, int y, int h, int w) { return (x >= 0 && y >= 0 && x < h&&y < w); }\nint place(int x, int y, int w) { return w*x + y; }\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\n\nint main()\n{\n\tint n, m;\n\tcin >> n >> m;\n\tvi to(n), v(m);\n\tint t = 0;\n\tREP(i, n)\n\t{\n\t\tcin >> to[i];\n\t\tif (to[i]) t++;\n\t}\n\tvector<vi> from(2);\n\tREP(i, m) cin >> v[i];\n\tREP(i, 2)\n\t{\n\t\tint tmp = i;\n\t\tREP(j, m)\n\t\t{\n\t\t\tREP(k, v[j])\n\t\t\t{\n\t\t\t\tfrom[i].push_back(tmp);\n\t\t\t}\n\t\t\ttmp = 1 - tmp;\n\t\t}\n\t}\n\tint ans = INF;\n\tREP(i, 2)\n\t{\n\t\tif (count(ALL(from[i]), 1) != t) continue;\n\t\tint cnt = 0;\n\t\tvi tmp = from[i];\n\t\tREP(j, n)\n\t\t{\n\t\t\tif (tmp[j] != to[j])\n\t\t\t{\n\t\t\t\tfor (int k = j;; k++)\n\t\t\t\t{\n\t\t\t\t\tif (tmp[k] == to[j])\n\t\t\t\t\t{\n\t\t\t\t\t\tcnt += k - j;\n\t\t\t\t\t\tswap(tmp[j], tmp[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tchmin(ans, cnt);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define _CRT_SECURE_NO_WARNINGS\n#include \"bits/stdc++.h\"\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n#define FOR(i, m, n) for (int i = (m); i < (n); ++i)\n#define rrep(i, n) for (int i = (n) - 1; i >= 0; --i)\n#define rfor(i, m, n) for (int i = (m); i >= (n); --i)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define range_it(a, l, r) (a).begin() + (l), (a).begin() + (r)\n\nusing namespace std;\nusing ll = long long;\t\tusing ld = long double;\nusing VB = vector<bool>;\tusing VVB = vector<VB>;\nusing VI = vector<int>;\t\tusing VVI = vector<VI>;\nusing VL = vector<ll>;\t\tusing VVL = vector<VL>;\nusing VS = vector<string>;\tusing VD = vector<ld>;\nusing PII = pair<int, int>;\tusing VP = vector<PII>;\nusing PLL = pair<ll, ll>;\tusing VPL = vector<PLL>;\ntemplate<class T>using PQ = priority_queue<T>;\ntemplate<class T>using PQS = priority_queue<T, vector<T>, greater<T>>;\nconstexpr int inf = (int)1e9;\nconstexpr ll inf_ll = (ll)1e18, MOD = 1000000007;\nconstexpr ld PI = M_PI, EPS = 1e-12;\n\n// --- input --- //\n#ifdef _WIN32\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#define fwrite_unlocked fwrite\n#define fflush_unlocked _fflush_nolock\n#endif\ninline int gc() { return getchar_unlocked(); }\ntemplate<class T>inline void InputF(T& v) { cin >> v; }\ninline void InputF(char& v) { while (isspace(v = gc())); }\ninline void InputF(bool& v) { char c; InputF(c); v = c != '0'; }\ninline void InputF(string& v) {\n\tv.clear(); char c; for (InputF(c); !isspace(c); c = gc())v += c;\n}\ninline void InputF(int& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(long long& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(double& v) {\n\tdouble dp = 1; bool neg = false, adp = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c) || c == '.'; c = gc()) {\n\t\tif (c == '.')adp = true;\n\t\telse if (adp)v += (c - '0') * (dp *= 0.1);\n\t\telse v = v * 10 + (c - '0');\n\t}\n\tif (neg)v = -v;\n}\ntemplate<class T, class U>inline void InputF(pair<T, U>& v) {\n\tInputF(v.first); InputF(v.second);\n}\ntemplate<class T>inline void InputF(vector<T>& v) {\n\tfor (auto& e : v)InputF(e);\n}\ntemplate<class T>inline T InputF() { T v; InputF(v); return v; }\ninline string GetLine() {\n\tstring v; char c; for (InputF(c); c != '\\n' && c != '\\0'; c = gc())v += c; return v;\n}\nstruct InputV {\n\tint n, m;\n\tInputV(int N) :n(N), m(0) {}\n\tInputV(pair<int, int> N) :n(N.first), m(N.second) {}\n\ttemplate<class T>operator vector<T>() {\n\t\tvector<T> v(n); InputF(v); return v;\n\t}\n\ttemplate<class T>operator vector<vector<T>>() {\n\t\tvector<vector<T>> v(n, vector<T>(m)); InputF(v); return v;\n\t}\n};\nstruct Input {\n\ttemplate<class T>operator T() { return InputF<T>(); }\n\tint operator--(int) { int v; InputF(v); v--; return v; }\n\tInputV operator[](int n) { return InputV(n); }\n\tInputV operator[](pair<int, int> n) { return InputV(n); }\n\tvoid operator()() {}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tInputF(h); operator()(forward<T>(t)...);\n\t}\n\ttemplate<class T>Input& operator,(T&& v) {\n\t\tInputF(v); return *this;\n\t}\n}in;\n#define input(T) InputF<T>()\n#define ini input(int)\n#define inl input(ll)\n#define ins input(string)\n#define inputs(T, ...) T __VA_ARGS__; in(__VA_ARGS__)\n#define INT(...) inputs(int, __VA_ARGS__)\n#define LL(...) inputs(ll, __VA_ARGS__)\n#define STR(...) inputs(string, __VA_ARGS__)\n\n// --- output --- //\nstruct BoolStr {\n\tconst char* t, * f; BoolStr(const char* _t, const char* _f) :t(_t), f(_f) {}\n}Yes(\"Yes\", \"No\"), yes(\"yes\", \"no\"), YES(\"YES\", \"NO\"), Int(\"1\", \"0\");\nstruct DivStr {\n\tconst char* d, * l; DivStr(const char* _d, const char* _l) :d(_d), l(_l) {}\n}spc(\" \", \"\\n\"), no_spc(\"\", \"\\n\"), end_line(\"\\n\", \"\\n\"), comma(\",\", \"\\n\"), no_endl(\" \", \"\");\nclass Output {\n\tBoolStr B{ Yes }; DivStr D{ spc };\n\tvoid p(int v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[10]; int i = 0;\n\t\twhile (v)b[i++] = '0' + v % 10, v /= 10;\n\t\tif (!i)b[i++] = '0';\n\t\twhile (i--)putchar_unlocked(b[i]);\n\t}\n\tvoid p(ll v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[20]; int i = 0;\n\t\twhile (v)b[i++] = '0' + v % 10, v /= 10;\n\t\tif (!i)b[i++] = '0';\n\t\twhile (i--)putchar_unlocked(b[i]);\n\t}\n\tvoid p(bool v) { p(v ? B.t : B.f); }\n\tvoid p(char v) { putchar_unlocked(v); }\n\tvoid p(const char* v) { fwrite_unlocked(v, 1, strlen(v), stdout); }\n\tvoid p(double v) { printf(\"%.20f\", v); }\n\tvoid p(ld v) { printf(\"%.20Lf\", v); }\n\ttemplate<class T> void p(const T& v) { cout << v; }\n\ttemplate<class T, class U>void p(const pair<T, U>& v) { p(v.first); p(D.d); p(v.second); }\n\ttemplate<class T>void p(const vector<T>& v) { rep(i, sz(v)) { if (i)p(D.d); p(v[i]); } }\n\ttemplate<class T>void p(const vector<vector<T>>& v) { rep(i, sz(v)) { if (i)p(D.l); p(v[i]); } }\npublic:\n\tOutput& operator()() { p(D.l); return *this; }\n\ttemplate<class H>Output& operator()(H&& h) { p(h); p(D.l); return *this; }\n\ttemplate<class H, class...T>Output& operator()(H&& h, T&& ...t) {\n\t\tp(h); p(D.d); return operator()(forward<T>(t)...);\n\t}\n\ttemplate<class...T>void exit(T&& ...t) { operator()(forward<T>(t)...); std::exit(EXIT_SUCCESS); }\n\tOutput& flush() { fflush_unlocked(stdout); return *this; }\n\tOutput& set(const BoolStr& b) { B = b; return *this; }\n\tOutput& set(const DivStr& d) { D = d; return *this; }\n\tOutput& set(const char* t, const char* f) { B = BoolStr(t, f); return *this; }\n}out;\n\n// --- step --- //\ntemplate<class T>struct Step {\n\tclass It {\n\t\tT a, b, c;\n\tpublic:\n\t\tconstexpr It() : a(T()), b(T()), c(T()) {}\n\t\tconstexpr It(T _b, T _c, T _s) : a(_b), b(_c), c(_s) {}\n\t\tconstexpr It& operator++() { --b; a += c; return *this; }\n\t\tconstexpr It operator++(int) { It tmp = *this; --b; a += c; return tmp; }\n\t\tconstexpr const T& operator*()const { return a; }\n\t\tconstexpr const T* operator->()const { return &a; }\n\t\tconstexpr bool operator==(const It& i)const { return b == i.b; }\n\t\tconstexpr bool operator!=(const It& i)const { return !(b == i.b); }\n\t\tconstexpr T start()const { return a; }\n\t\tconstexpr T count()const { return b; }\n\t\tconstexpr T step()const { return c; }\n\t};\n\tconstexpr Step(T b, T c, T s) : be(b, c, s) {}\n\tconstexpr It begin()const { return be; }\n\tconstexpr It end()const { return en; }\n\tconstexpr T start()const { return be.start(); }\n\tconstexpr T count()const { return be.count(); }\n\tconstexpr T step()const { return be.step(); }\n\tconstexpr T sum()const { return start() * count() + step() * (count() * (count() - 1) / 2); }\n\toperator vector<T>()const { return as_vector(); }\n\tvector<T> as_vector()const {\n\t\tvector<T> res; res.reserve(count()); each([&](T i) {res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>void each(const F& f)const { for (T i : *this)f(i); }\n\ttemplate<class F>auto map(const F& f)const {\n\t\tvector<decay_t<result_of_t<F(T)>>> res; res.reserve(count());\n\t\teach([&](T i) {res.push_back(f(i)); }); return res;\n\t}\n\ttemplate<class F>int count_if(const F& f)const {\n\t\tint res = 0; each([&](T i) {res += static_cast<bool>(f(i)); }); return res;\n\t}\n\ttemplate<class F>vector<T> select(const F& f)const {\n\t\tvector<T> res; each([&](T i) {if (f(i))res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>auto max(const F& f)const {\n\t\tauto v = map(f); return *max_element(v.begin(), v.end());\n\t}\n\ttemplate<class F>auto min(const F& f)const {\n\t\tauto v = map(f); return *min_element(v.begin(), v.end());\n\t}\n\ttemplate<class F, class U = decay_t<result_of_t<F(T)>>>auto sum(const F& f)const {\n\t\tU res = 0; each([&](T i) {res += static_cast<U>(f(i)); }); return res;\n\t}\n\tusing value_type = T;\n\tusing iterator = It;\nprivate:\n\tIt be, en;\n};\ntemplate<class T>inline constexpr auto step(T a) { return Step<T>(0, a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b) { return Step<T>(a, b - a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b, T c) { return Step<T>(a, a < b ? (b - a - 1) / c + 1 : 0, c); }\n\n// --- functions --- //\ninline namespace {\n\ttemplate<class T>inline void Sort(T& a) { sort(all(a)); }\n\ttemplate<class T>inline void RSort(T& a) { sort(rall(a)); }\n\ttemplate<class T>inline T Sorted(T a) { Sort(a); return a; }\n\ttemplate<class T>inline T RSorted(T a) { RSort(a); return a; }\n\ttemplate<class T, class F>inline void Sort(T& a, const F& f) {\n\t\tsort(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline void RSort(T& a, const F& f) {\n\t\tsort(rall(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T>inline void Reverse(T& a) { reverse(all(a)); }\n\ttemplate<class T>inline void Unique(T& a) { a.erase(unique(all(a)), a.end()); }\n\ttemplate<class T>inline void Rotate(T& a, int left) { rotate(a.begin(), a.begin() + left, a.end()); }\n\ttemplate<class T>inline T Reversed(T a) { Reverse(a); return a; }\n\ttemplate<class T>inline T Uniqued(T a) { Unique(a); return a; }\n\ttemplate<class T>inline T Rotated(T a, int left) { Rotate(a, left); return a; }\n\ttemplate<class T>inline auto Max(const T& a) { return *max_element(all(a)); }\n\ttemplate<class T>inline auto Min(const T& a) { return *min_element(all(a)); }\n\ttemplate<class T>inline int MaxPos(const T& a) { return max_element(all(a)) - a.begin(); }\n\ttemplate<class T>inline int MinPos(const T& a) { return min_element(all(a)) - a.begin(); }\n\ttemplate<class T, class F>inline auto Max(const T& a, const F& f) {\n\t\treturn *max_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline auto Min(const T& a, const F& f) {\n\t\treturn *min_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class U>inline int Count(const T& a, const U& v) { return count(all(a), v); }\n\ttemplate<class T, class F>inline int CountIf(const T& a, const F& f) { return count_if(all(a), f); }\n\ttemplate<class T, class U>inline int Find(const T& a, const U& v) { return find(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline int FindIf(const T& a, const F& f) { return find_if(all(a), f) - a.begin(); }\n\ttemplate<class T, class U = typename T::value_type>inline U Sum(const T& a) { return accumulate(all(a), U()); }\n\ttemplate<class T, class F>inline auto Sum(const T& v, const F& f) {\n\t\treturn accumulate(next(v.begin()), v.end(), f(v.front()), [&](auto a, auto b) {return a + f(b); });\n\t}\n\ttemplate<class T, class U>inline int Lower(const T& a, const U& v) { return lower_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class U>inline int Upper(const T& a, const U& v) { return upper_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline void RemoveIf(T& a, const F& f) { a.erase(remove_if(all(a), f), a.end()); }\n\ttemplate<class F>inline auto Vector(size_t size, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t)>>> res(size); for (size_t i = 0; i < size; ++i)res[i] = f(i); return res;\n\t}\n\ttemplate<class T>inline auto Grid(size_t h, size_t w, const T& v = T()) { return vector<vector<T>>(h, vector<T>(w, v)); }\n\ttemplate<class T>inline auto Slice(const T& v, size_t i, size_t len) {\n\t\treturn i < v.size() ? T(v.begin() + i, v.begin() + min(i + len, v.size())) : T();\n\t}\n\ttemplate<class T, class F>inline auto Each(const T& v, const F& f) { for (auto& i : v)f(i); }\n\ttemplate<class T, class F>inline auto Select(const T& v, const F& f) {\n\t\tT res; for (const auto& e : v)if (f(e))res.push_back(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto Map(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (const auto& e : v)res[i++] = f(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto MapIndex(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t, typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (auto it = v.begin(); it != v.end(); ++it, ++i)res[i] = f(i, *it); return res;\n\t}\n\ttemplate<class T, class F>inline auto TrueIndex(const T& v, const F& f) {\n\t\tvector<size_t> res; for (size_t i = 0; i < v.size(); ++i)if (f(v[i]))res.push_back(i); return res;\n\t}\n\tinline string operator*(string s, size_t n) { string ret; for (size_t i = 0; i < n; ++i)ret += s; return ret; }\n\ttemplate<class T>inline T Ceil(T n, T m) { return (n + m - 1) / m; }\n\ttemplate<class T>inline T Ceil2(T n, T m) { return Ceil(n, m) * m; }\n\ttemplate<class T>inline T Tri(T n) { return (n & 1) ? (n + 1) / 2 * n : n / 2 * (n + 1); }\n\ttemplate<class T>inline T nC2(T n) { return (n & 1) ? (n - 1) / 2 * n : n / 2 * (n - 1); }\n\ttemplate<class T>inline T Mid(const T& l, const T& r) { return l + (r - l) / 2; }\n\tinline int pop_count(int n) { return bitset<32>(n).count(); }\n\tinline int pop_count(ll n) { return bitset<64>(n).count(); }\n\ttemplate<class T>inline bool chmax(T& a, const T& b) { if (a < b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool chmin(T& a, const T& b) { if (a > b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool inRange(const T& v, const T& min, const T& max) { return min <= v && v < max; }\n\ttemplate<class T = ll>inline T BIT(int b) { return T(1) << b; }\n\ttemplate<class T>inline T Gcd(T n, T m) { return m ? Gcd(m, n % m) : n; }\n\ttemplate<class T>inline T Lcm(T n, T m) { return n / Gcd(n, m) * m; }\n\ttemplate<class T, class U = typename T::value_type>inline U Gcdv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Gcd<U>);\n\t}\n\ttemplate<class T, class U = typename T::value_type>inline U Lcmv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Lcm<U>);\n\t}\n\ttemplate<class T>inline T Pow(T a, T n) { T r = 1; while (n > 0) { if (n & 1)r *= a; a *= a; n /= 2; } return r; }\n\ttemplate<class T>inline T Powmod(T a, T n, T m = MOD) {\n\t\tT r = 1; while (n > 0) { if (n & 1)r = r * a % m, n--; else a = a * a % m, n /= 2; }return r;\n\t}\n}\n\n// --- dump --- //\n#if __has_include(\"dump.hpp\")\n#include \"dump.hpp\"\n#else\n#define dump(...) ((void)0)\n#endif\n\n// ---------------------------------------------------------------- //\n\nint cnt(VI a, VI b) {\n\tint n = sz(a);\n\tif (n != sz(b) || Sum(a) != Sum(b)) {\n\t\treturn inf;\n\t}\n\n\tint ans = 0;\n\trep(i, n) {\n\t\tif (a[i] != b[i]) {\n\t\t\tint pos = find(range_it(b, i, n), a[i]) - b.begin();\n\t\t\tans += pos - i;\n\t\t\tswap(b[pos], b[i]);\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\tINT(n, m);\n\tVI a = in[n], b = in[m];\n\n\tVI v1, v2;\n\trep(i, m) {\n\t\tVI _0(b[i], 0), _1(b[i], 1);\n\t\tif (i % 2 == 0) {\n\t\t\tv1.insert(v1.end(), all(_0));\n\t\t\tv2.insert(v2.end(), all(_1));\n\t\t} else {\n\t\t\tv1.insert(v1.end(), all(_1));\n\t\t\tv2.insert(v2.end(), all(_0));\n\t\t}\n\t}\n\tout(min(cnt(a, v1), cnt(a, v2)));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<queue>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\n\nint numSwap(vector<int> a,vector<int> b){\n\tint ret = 0;\n\tint x = 0;\n\tfor(int i=0;i<a.size();i++){\n\t\tif(a[i]){\n\t\t\tfor(int j=x;j<a.size();j++){\n\t\t\t\tif(b[j]){\n\t\t\t\t\tret += i-j;\n\t\t\t\t\tx = j+1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main(void){\n\tint N,M;\n\tcin >> N >> M;\n\tvector<int> b(N),p(M);\n\tint cnt = 0;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> b[i];\n\t\tif(b[i])cnt++;\n\t}\n\tfor(int i=0;i<M;i++)\n\t\tcin >> p[i];\n\tvector<int> a1,a2;\n\n\tbool bit = 1;\n\tint cnt1=0,cnt2=0;\n\tfor(int i=0;i<M;i++){\n\t\tfor(int j=0;j<p[i];j++){\n\t\t\ta1.push_back(bit);\n\t\t\tcnt1 += bit;\n\t\t\ta2.push_back(!bit);\n\t\t\tcnt2 += bit;\n\t\t}\n\t\tbit = !bit;\n\t}\n\tif(cnt1 == cnt){\n\t\tcout << numSwap(a1,b) << endl;\n\t}else{\n\t\tcout << numSwap(a2,b) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for(int i=(int)(a); i<(int)(b); ++i)\n#define REP(i, n) for(int i=0; i<(int)(n); ++i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e)!=(s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SQ(n) (n) * (n)\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int INF = 100000;\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n  int start = 0;\n  REP(i, n){\n    int k;\n    cin >> k;\n    start = (start << 1) | k;\n  }\n  int goal1 = 0, goal2 = 0;\n  int t = 0;\n  REP(i, m){\n    int k;\n    cin >> k;\n    REP(j, k){\n      goal1 = (goal1 << 1) | t;\n      goal2 = (goal2 << 1) | (1 - t);\n    }\n    t = 1 - t;\n  }\n\n  vi dp(1 << (n+1), INF);\n  vi dp_back(1 << (n+1), INF);\n  dp[start] = 0;\n  dp_back[start] = 0;\n\n  // cout << bitset<15>(goal1) << endl;\n  // cout << bitset<15>(goal2) << endl;\n  int step = 0;\n\n  while(min(dp[goal1], dp[goal2]) == INF) {\n    // LOG(\"-------- step : %d\\n\", step);\n    REP(i, 1 << (n+1)){\n      if(dp[i]!=step) continue;\n        // cout <<'s'<< bitset<15>(i) << endl;\n      REP(j, n - 1){\n        int trade = 3 << j;\n        int disable = i & trade;\n        int next = i ^ trade;\n        // cout <<' '<< bitset<15>(next) << endl;\n        if (disable == 0 || disable == trade) continue;\n        if(next >= (1 << n)) continue;\n        dp_back[next] = min(dp_back[next], dp[i] + 1);\n        // cout << bitset<15>(next) << endl;\n        // cout << dp_back[next] << endl;\n      }\n    }\n    dp = dp_back;\n    step ++;\n    if(step > 20) break;\n  }\n  cout << min(dp[goal1], dp[goal2]) << endl;\n  // cout << dp[goal1] << endl;\n  // cout << dp[goal2] << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint search_bit(int a[], int from, int b[], int n) {\n  for (int i = from; i < n; i++) {\n    if (b[i] == a[from]) return i;\n  }\n  return -1;\n}\n\nvoid move(int a[], int from, int to) {\n  int temp = a[to];\n  for (int i = from + 1; i <= to; i++) {\n    a[i] = a[i - 1];\n  }\n  a[from] = temp;\n}\n\nvoid display(int a[], int n) {\n  for (int i = 0; i < n; i++) {\n    cout << a[i] << \" \";\n  }\n  cout << endl;\n}\n\nint operate(int init[], int run[], int n) {\n  int count = 0;\n  for (int i = 0; i < n; i++) {\n    //display(run, n);\n    if (init[i] == run[i]) continue;\n    int match = search_bit(init, i, run, n);\n    count += match - i;\n    move(run, i, match);\n  }\n  //display(run, n);\n  return count;\n}\n\nint count_bit(int a[], int n) {\n  int count = 0;\n  for (int i = 0; i < n; i++) {\n    if (a[i]) count++;\n  }\n  return count;\n}\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n  int b[n], p[m];\n  for (int i = 0; i < n; i++) {\n    cin >> b[i];\n  }\n  for (int i = 0; i < m; i++) {\n    cin >> p[i];\n  }\n  int run0[n], run1[n];\n  int pos = 0;\n  int bit = 0;\n  for (int i = 0; i < m; i++) {\n    for (int j = 0; j < p[i]; j++) {\n      run0[pos++] = bit;\n    }\n    bit = 1 - bit;\n  }\n  for (int i = 0; i < n; i++) {\n    run1[i] = (run0[i]) ? 0 : 1;\n  }\n  int count0 = -1, count1 = -1;\n  int res[n];\n  if (count_bit(b, n) == count_bit(run0, n)) {\n    count0 = operate(b, run0, n);\n  }\n  if (count_bit(b, n) == count_bit(run1, n)) {\n    count1 = operate(b, run1, n);\n  }\n  if (count0 == -1) {\n    cout << count1 << endl;\n  } else if (count1 == -1) {\n    cout << count0 << endl;\n  } else {\n    cout << min(count1, count0) << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n#include <math.h>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <bitset>\n#include <complex>\n#include <unistd.h>\n#include <cassert>\n#include <cctype>\n#include <random>\n#define _USE_MATH_DEFINES\n#define _GLIBCXX_DEBUG\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> plglg;\ntypedef tuple<int, int, int> tiii;\ntypedef tuple<ll, ll, ll> tlglglg;\ntypedef complex<double> xy_t;\nint dx[4] = {1, 0, -1, 0};\nint dy[4] = {0, 1, 0, -1};\ndouble pi = 3.141592653589793;\nll mod = 1000000007;\nint intmax = 2147483647;\nint intmin = -2147483648;\nll llmax = 9223372036854775807;\nll llmin = -9223372036854775807;\nint iinf = intmax / 8;\nll inf = llmax / 8;\ndouble eps = 1e-11;\n\nint main() {\n    int N, M;\n    cin >> N >> M;\n    int b[N];\n    int zeros = 0;\n    for (int i = 0; i < N; i++) {\n        cin >> b[i];\n        b[i] = b[i];\n        if (b[i] == 0) {\n            zeros++;\n        }\n    }\n    int sum[2] = {0, 0};\n    int p[M];\n    for (int i = 0; i < M; i++) {\n        cin >> p[i];\n        sum[i % 2] += p[i];\n    }\n    ll ans = 10000;\n    if (zeros == sum[0]) {\n        int bb[N];\n        for (int i = 0; i < N; i++) {\n            bb[i] = b[i];\n        }\n        int tar[N];\n        int num = 0;\n        for (int i = 0; i < M; i++) {\n            for (int j = 0; j < p[i]; j++) {\n                tar[num] = i % 2;\n                num++;\n            }\n        }\n        int sum = 0;\n        for (int i = 0; i < N - 1; i++) {\n            if (bb[i] == tar[i]) {\n                continue;\n            }\n            for (int j = i + 1; j < N; j++) {\n                if (bb[j] == tar[i]) {\n                    sum += j - i;\n                    for (int k = j - 1; k >= i; k--) {\n                        swap(bb[k], bb[k + 1]);\n                    }\n                    break;\n                }\n            }\n        }\n        if (sum < ans) {\n            ans = sum;\n        }\n    }\n    if (zeros == sum[1]) {\n        int bb[N];\n        for (int i = 0; i < N; i++) {\n            bb[i] = b[i];\n        }\n        int tar[N];\n        int num = 0;\n        for (int i = 0; i < M; i++) {\n            for (int j = 0; j < p[i]; j++) {\n                tar[num] = (i + 1) % 2;\n                num++;\n            }\n        }\n        int sum = 0;\n        for (int i = 0; i < N - 1; i++) {\n            if (bb[i] == tar[i]) {\n                continue;\n            }\n            for (int j = i + 1; j < N; j++) {\n                if (bb[j] == tar[i]) {\n                    sum += j - i;\n                    for (int k = j - 1; k >= i; k--) {\n                        swap(bb[k], bb[k + 1]);\n                    }\n                    break;\n                }\n            }\n        }\n        if (sum < ans) {\n            ans = sum;\n        }\n    }\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n// region template\n#define rep(i, a, b) for (int i = (a); i < (b); ++i)\n#define trav(a, x) for (auto &a : x)\n#define all(x) begin(x), end(x)\n#define sz(x) (int)(x).size()\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nll gcd(ll a, ll b) { return __gcd(a, b); }\n\nll euclid(ll a, ll b, ll &x, ll &y) {\n    if (b) { ll d = euclid(b, a % b, y, x);\n        return y -= a/b * x, d; }\n    return x = 1, y = 0, a;\n}\n\ntypedef unsigned long long ull;\ntypedef long double ld;\null mod_mul(ull a, ull b, ull M) {\n    ll ret = a * b - M * ull(ld(a) * ld(b) / ld(M));\n    return ret + M * (ret < 0) - M * (ret >= (ll)M);\n}\null mod_pow(ull b, ull e, ull mod) {\n    ull ans = 1;\n    for (; e; b = mod_mul(b, b, mod), e /= 2)\n        if (e & 1) ans = mod_mul(ans, b, mod);\n    return ans;\n}\n\nconst ll mod = 1000000007;\nstruct Mod {\n    ll x;\n    Mod(ll xx) : x(xx) {}\n    Mod operator+(Mod b) { return Mod((x + b.x) % mod); }\n    Mod operator-(Mod b) { return Mod((x - b.x) % mod); }\n    Mod operator*(Mod b) { return Mod((x * b.x) % mod); }\n    Mod operator/(Mod b) { return *this * invert(b); }\n    Mod invert(Mod a) {\n        ll x, y, g = euclid(a.x, mod, x, y);\n        assert(g == 1); return Mod((x + mod) % mod);\n    }\n    Mod operator^(ll e) {\n        if (!e) return Mod(1);\n        Mod r = *this ^ (e / 2); r = r * r;\n        return e & 1 ? *this * r : r;\n    }\n};\n// endregion\n\nvector<int> outendl(vector<int> v) {\n    // rep(i, 0, v.size()) cout << v[i] << \" \"; cout << endl;\n    return v;\n}\n\nint dist(vector<int> a, vector<int> b) {\n    int d = 0;\n    for (int i = 0; i < a.size(); i++) {\n        if (b[i] != a[i]) {\n            int j = i;\n            while (b[i] != a[j] && j < a.size()) j++;\n            if (j >= a.size()) return 10000;\n            // cout << \"[\" << j << \"]\" << \" \";\n            // rep(k, 0, a.size()) {\n            //     if (k == j) cout << \"(\";\n            //     cout << a[k];\n            //     if (k == j) cout << \")\";\n            //     cout << \" \"; \n            // }\n            // cout << endl;\n            for (int k = j - 1; k >= i; k--) {\n                swap(a[k], a[k + 1]);\n                d++;\n            }\n        }\n            // cout << i <<  \",\" << d << \": \"; outendl(a);\n    }\n    return d;\n}\n\nvector<int> gen(vector<int> p, int init) {\n    vector<int> res;\n    for (int x : p) {\n        rep(i, 0, x) res.push_back(init);\n        init ^= 1;\n    }\n    return outendl(res);\n}\n\nint main() {\n    cin.sync_with_stdio(0); cin.tie(0); cin.exceptions(cin.failbit);\n\n    int n, m; cin >> n >> m;\n    vector<int> bits(n), perm(m);\n    rep(i, 0, n) cin >> bits[i];\n    rep(i, 0, m) cin >> perm[i];\n\n    int d1 = dist(bits, gen(perm, 1));\n    int d2 = dist(bits, gen(perm, 0));\n    cout << min(d1, d2) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr,__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\n#define INF 10000\n\nint main() {\n    int n, m;\n    cin >> n >> m;\n    int start = 0;\n    REP(i, n) {\n        char c;\n        cin >> c;\n        start <<= 1;\n        start |= (c == '1' ? 1 : 0);\n    }\n    int goal = 0;\n    int t = 0;\n    REP(i, m) {\n        int bits;\n        cin >> bits;\n        REP(j, bits) {\n            goal <<= 1;\n            goal |= t & 1;\n        }\n        t = ~t;\n    }\n    int goal2 = ~goal & ((1 << n)-1);\n//    cout << bitset<15>(start) << endl;\n//    cout << bitset<15>(goal) << endl;\n//    cout << bitset<15>(~goal & ((1 << n)-1)) << endl;\n\n    vvi dp(2, vi(1 << n, INF));\n    dp[0][start] = 0;\n    while (1) {\n        dp[1] = dp[0];\n        REP(step, 1 << n) {\n            if (dp[0][step] == INF) continue;\n            REP(i, n-1) {\n                int has_next = (step >> i) & 3;\n                if (has_next != 0 && has_next != 3) {\n                    int next = step;\n                    if (next & (1 << i)) {\n                        next &= ~(1 << i);\n                    } else {\n                        next |= (1 << i);\n                    }\n                    if (next & (1 << (i+1))) {\n                        next &= ~(1 << (i+1));\n                    } else {\n                        next |= (1 << (i+1));\n                    }\n//                    cout << bitset<15>(next) << endl;\n                    dp[1][next] = min(dp[1][next], dp[0][step]+1);\n                }\n            }\n        }\n        dp[0] = dp[1];\n\n        if (min(dp[0][goal], dp[0][goal2]) != INF) {\n            cout << min(dp[0][goal], dp[0][goal2]) << endl;\n            break;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n#define int2(x, y) int x, y; scanf(\"%lld %lld\", &x, &y);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\nvi pat;\nint n, m;\n \nint solve(vi data, int st);\n\nsigned main()\n{\n    cin >> n >> m;\n    vi input(n), fir(n), sec(n);\n    int one = 0, zero = 0;\n    rep(i, n) {\n        cin >> input[i];\n        fir[i] = sec[i] = input[i];\n    }\n    rep(i, m) {\n        int tmp;\n        cin >> tmp;\n        pat.pb(tmp);\n    }\n\n    cout << min(solve(fir, 0), solve(sec, 1)) << endl;\n\n    return 0;\n}\n\nint solve(vi data, int st)\n{\n    int pos = 0, ret = 0;\n    rep(i, m) {\n        int cnt = 0;\n        while (cnt != pat[i]) {\n            if (data[pos] == st) {\n                cnt++;\n                pos++;\n            } else {\n                bool fl = false;\n                for (int j = pos; j + 1 < n; j++) {\n                    if (data[j+1] == st) {\n                        int tmp = data[j];\n                        data[j] = data[j+1];\n                        data[j+1] = tmp;\n                        ret++;\n                        fl = true;\n                        break;\n                    }\n                }\n                if (!fl) {\n                    return INF;\n                }\n            }\n        }\n        st = (st + 1) % 2;\n    }\n    return ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<algorithm>\n#include<vector>\n#include<map>\n#include<string>\n#include<cmath>\nusing namespace std;\ntypedef long long ll;\nint b[55],p[55],c[55];\nint id1[55],id2[55];\nint s1,s2;\nint main()\n{\n    int n,m;\n\n    while(~scanf(\"%d%d\",&n,&m))\n    {\n        s1=0;\n        for(int i=0;i<n;i++)\n        {\n            scanf(\"%d\",b+i);\n            s1+=b[i];\n        }\n        for(int i=0;i<m;i++)\n        {\n            scanf(\"%d\",p+i);\n        }\n        int Ans=1e9;\n        for(int num=0;num<2;num++)\n        {\n\n            s2=0;\n\n            int cnt=0;\n            for(int i=0;i<m;i++)\n            {\n                for(int j=0;j<p[i];j++)\n                {\n                    if(i%2==0)\n                    {\n                        c[cnt++]=num;\n                    }\n                    else\n                    {\n                        c[cnt++]=1-num;\n                    }\n                }\n            }\n\n            int ans=0;\n             for(int i=0;i<cnt;i++)\n            {\n               s2+=c[i];\n            }\n            if(s1!=s2)continue;\n            int cnt1=0;\n            int cnt2=0;\n            for(int i=0;i<cnt;i++)\n            {\n                if(c[i]==1)id2[cnt2++]=i;\n            }\n            for(int i=0;i<n;i++)\n            {\n                if(b[i]==1)id1[cnt1++]=i;\n            }\n            for(int i=0;i<cnt1;i++)\n            {\n                ans+=abs(id2[i]-id1[i]);\n            }\n            Ans=min(Ans,ans);\n        }\n        cout<<Ans<<endl;\n    }\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nvoid\nprint_bits(vector<bool>v)\n{\n\tfor (auto x:v)\n\t\tcout << x << \" \";\n\tcout << endl;\n}\n\n\tvector<bool>\nbits_start(bool b, const vector<int> p)\n{\n\tbool bit = b;\n\tvector<bool> bits;\n\tfor (int i = 0; i < p.size(); i++)\n\t{\n\t\tfor (int j = 0; j < p[i]; j++)\n\t\t\tbits.push_back(bit);\n\t\tbit = !bit;\n\t}\n\treturn bits;\n}\n\n\tvector<vector<bool> >\ncreate_bits (const vector<int> p)\n{\n\tvector<vector<bool> > created;\n\tcreated.push_back(bits_start(0, p));\n\tcreated.push_back(bits_start(1, p));\n\treturn created;\n}\n\nint\ncount_true (const vector<bool> b)\n{\n\tint count_true = 0;\n\tfor (int i = 0; i < b.size(); i++)\n\t\tif (b[i])\n\t\t\tcount_true++;\n\treturn count_true;\n}\n\n\tint\ncode_distance (const vector<bool> ori, const vector<bool> created)\n{\n\tif (count_true(ori) != count_true(created))\n\t\treturn 20;\n\n\tint len = ori.size();\n\tint distance = 0;\n\tfor (int i = 0; i < len; i++)\n\t\tif (ori[i] != created[i])\n\t\t\tdistance++;\n\treturn distance;\n}\n\nint\nwhich_shorter (const vector<bool> b, \n\t\tconst vector<vector<bool> > bits_list)\n{\n\tif(code_distance(b, bits_list[0]) < \n\t\t\tcode_distance(b, bits_list[1]))\n\t\treturn 0;\n\telse\n\t\treturn 1;\n}\n\nint\nsame_at (vector<bool>ori, vector<bool>created)\n{\n\tint ok = -1;\n\tfor (int i = 0; i < ori.size(); i++)\n\t\tif (ori[i] == created[i])\n\t\t\tok++;\n\t\telse\n\t\t\tbreak;\n\treturn ok;\n}\n\nint\nsearch_closest_true(bool target, int suffix, \n\t\tvector<bool>ori, vector<bool> created)\n{\n\tint len = created.size();\n\tint next, before;\n\tnext = before = 100;\n\tint left_terminal = same_at(ori, created);\n#ifdef D\n\tprint_bits(ori);\n\tprint_bits(created);\n\tcout << \"same at \" << left_terminal << endl;\n#endif\n\tif (suffix != 0)\n\t{\n\t\tbefore = 0;\n\t\tint i;\n\t\tfor (i = suffix; left_terminal < i ; i--)\n\t\t\tif (created[i] == target)\n\t\t\t\tbreak;\n\t\t\telse\n\t\t\t\tbefore--;\n\t\tif (left_terminal >= i)\n\t\t\tbefore = 100;\n\t}\n\tif (suffix != len-1)\n\t{\n\t\tnext = 0;\n\t\tfor (int i = suffix; i < len; i++)\n\t\t\tif (created[i] == target)\n\t\t\t\tbreak;\n\t\t\telse\n\t\t\t\tnext++;\n\t}\n#ifdef D\n\tcout << \"before \" << before <<endl;\n\tcout << \"next \" << next <<endl;\n\tcout << \"closest \" << min(abs(before), abs(next)) << endl;\n#endif\n\treturn min(abs(before), abs(next));\n}\n\n\tint\nswap (int step, int dist, int now, vector<bool>& created)\n{\n\tint swap_count = 0;\n\tfor (int i = now; i != dist; i+=step)\n\t{\n\t\tcreated[i] = !created[i];\n\t\tcreated[i+step] = !created[i+step];\n\t\tswap_count++;\n#ifdef D\n\t\tcout << \"created  \";\n\t\tprint_bits(created);\n#endif\n\t}\n\treturn swap_count;\n}\n\n\tint\ndo_swap(int dist, int now, vector<bool>& created)\n{\n\tif (dist < now)\n\t\treturn swap(-1, dist, now, created);\n\telse\n\t\treturn swap(1 , dist, now, created);\n}\n\n\tint\ncode_swap (const vector<bool>ori, vector<bool> created)\n{\n\tint swap_count = 0;\n\tfor (int i = 0; i < ori.size(); i++)\n\t{\n\t\tif (ori[i] != created[i])\n\t\t{\n#ifdef D\n\t\t\tcout << \"ori: i \" << i << \", bool \" << ori[i] <<endl;\n\t\t\tcout << \"cre: i \" << i << \", bool \" << created[i] <<endl;\n#endif\n\t\t\tswap_count += do_swap(i, i+search_closest_true(ori[i], i, ori, created), created);\n\t\t}\n\t\tif (code_distance(ori, created) == 0)\n\t\t{\n#ifdef D\n\t\t\tcout << \"ori \";\n\t\t\tprint_bits(ori);\n\t\t\tcout << \"cre \";\n\t\t\tprint_bits(created);\n#endif\n\t\t\treturn swap_count;\n\t\t}\n\t}\n#ifdef D\n\tcout << \"ori \";\n\tprint_bits(ori);\n\tcout << \"cre \";\n\tprint_bits(created);\n#endif\n\treturn swap_count;\n}\n\n\tint\nmain (void)\n{\n\tint n, m; cin >> n >> m;\n\tvector<bool> b;\n\tvector<int>\tp;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tint in; cin >> in;\n\t\tb.push_back(in);\n\t}\n\tfor (int i = 0; i < m; i++)\n\t{\n\t\tint in; cin >> in;\n\t\tp.push_back(in);\n\t}\n\n\tvector<vector<bool> > bits_list;\n\tbits_list = create_bits(p);\n\tint shorter = which_shorter(b, bits_list);\n#ifdef D\n\t{\n\t\tcout << \"original \";\n\t\tprint_bits(b);\n\t\tcout << \"selected \";\n\t\tprint_bits(bits_list[shorter]);\n\t\tcout <<endl;\n\t}\n#endif\n\tcout << code_swap(b, bits_list[shorter]) << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <climits>\n#include <ctime>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <set>\n#include <map>\n#include <iostream>\n#include <deque>\n#include <complex>\n#include <string>\n#include <iomanip>\n#include <sstream>\n#include <bitset>\n#include <valarray>\n#include <iterator>\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned int uint;\ntypedef unsigned char uchar;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\n#define REP(i,x) for(int i=0;i<(int)(x);i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define RREP(i,x) for(int i=((int)(x)-1);i>=0;i--)\n#define RFOR(i,c) for(__typeof((c).rbegin())i=(c).rbegin();i!=(c).rend();i++)\n#define ALL(container) container.begin(), container.end()\n#define RALL(container) container.rbegin(), container.rend()\n#define SZ(container) ((int)container.size())\n#define mp(a,b) make_pair(a, b)\n#define UNIQUE(v) v.erase( unique(v.begin(), v.end()), v.end() );\n\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"[\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"]\"; return os;\n}\ntemplate<class T> ostream& operator<<(ostream &os, const set<T> &t) {\nos<<\"{\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"}\"; return os;\n}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\n\nconst int INF = 1<<28;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\n\n\nint n, m;\n\nint dist(vi &s, vi &t){\n\tint q=count(ALL(s), 1);\n\tint j=0,k=0;\n\tint res = 0;\n\tREP(i, q){\n\t\twhile(!s[j++]);\n\t\twhile(!t[k++]);\n\t\tres += abs(j-k);\n\t}\n\treturn res;\n}\n\nmain(){\n\tios::sync_with_stdio(false);\n\tcin >> n >> m;\n\tvi d(n), e(m);\n\tREP(i, n) cin >> d[i];\n\tREP(i, m) cin >> e[i];\n\tint ans = INF;\n\tREP(k, 2){\n\t\tvi tar;\n\t\tint t=k;\n\t\tFOR(it, e){\n\t\t\tREP(i, *it) tar.push_back(t);\n\t\t\tt=!t;\n\t\t}\n\t\tif(count(ALL(tar), 0) != count(ALL(d), 0)) continue;\n\t\tans = min(ans, dist(d, tar));\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <utility>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint main() {\n\tvector<int> s;\n\tint N, M;\n\tcin >> N >> M;\n\tfor(int i = 0; i < N; i++) {\n\t\tint tmp;\n\t\tcin >> tmp;\n\t\ts.push_back(tmp + '0');\n\t}\n\tvector<int> p[2];\n\tint fill = 0;\n\tfor(int i = 0; i < M; i++) {\n\t\tint tmp;\n\t\tcin >> tmp;\n\t\tfor(int j = 0; j < tmp; j++) {\n\t\t\tp[0].push_back(!!fill+'0');\n\t\t\tp[1].push_back(!fill+'0');\n\t\t}\n\t\tfill = !fill;\n\t}\n\n\tint ans = 10000;\n\tfor(int i = 0; i < 2; i++) {\n\t\tint tmp = 0;\n\t\tfor(int j = 0; j < s.size(); j++) {\n\t\t\tif(s[j] != p[i][j]) {\n\t\t\t\tint sw = -1;\n\t\t\t\tfor(int k = 1; k + j < s.size(); k++) {\n\t\t\t\t\tif(s[j] == p[i][j+k]) {\n\t\t\t\t\t\tsw = k;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(sw<0) {\n\t\t\t\t//\tcout << i << \",\" << j << endl;\n\t\t\t\t\ttmp = 10000;\n\t\t\t\t}\n\n\t\t\t\telse {\n\t\t\t\t\tfor(int k = j+sw-1; k >= j; k--)\n\t\t\t\t\t\tswap(p[i][k], p[i][k+1]);\n\t\t\t\t\ttmp += sw;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tans = min(ans, tmp);\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint INF = 100000;\nint count(vector<int> &a){\n  int N = a.size();\n  int ans = 0;\n  for (int i = 0; i < N; i++){\n    if (a[i] == 1){\n      ans++;\n    }\n  }\n  return ans;\n}\nint solve(vector<int> a, vector<int> b){\n  int N = a.size();\n  int ans = 0;\n  for (int i = 0; i < N; i++){\n    if (a[i] != b[i]){\n      int p = i;\n      while (a[i] != b[p]){\n        p++;\n      }\n      for (int j = p - 1; j >= i; j--){\n        swap(b[j], b[j + 1]);\n        ans++;\n      }\n    }\n  }\n  return ans;\n}\nint main(){\n  int N, M;\n  cin >> N >> M;\n  vector<int> b(N);\n  for (int i = 0; i < N; i++){\n    cin >> b[i];\n  }\n  vector<int> p(M);\n  for (int i = 0; i < M; i++){\n    cin >> p[i];\n  }\n  vector<int> c;\n  for (int i = 0; i < M; i++){\n    for (int j = 0; j < p[i]; j++){\n      c.push_back(i % 2);\n    }\n  }\n  int ans = INF;\n  if (count(b) == count(c)){\n    ans = min(ans, solve(b, c));\n  }\n  for (int i = 0; i < N; i++){\n    c[i] = 1 - c[i];\n  }\n  if (count(b) == count(c)){\n    ans = min(ans, solve(b, c));\n  }\n  cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\nusing namespace std;\n\nint main() {\n\n  long long int n, m;\n  cin >> n >> m;\n\n  vector< long long int > b;\n\n  long long int cnt_0 = 0;\n  long long int cnt_1 = 0;\n\n  for ( long long int i = 0; i < n; i++ ) {\n\n    long long int in;\n    cin >> in;\n    b.push_back( in );\n\n    if ( in == 0 ) cnt_0++;\n    if ( in == 1 ) cnt_1++;\n\n  }\n\n  vector< long long int > v0, v1;\n  long long int cnt_a = 0;\n  long long int cnt_b = 0;\n\n  for ( long long int i = 0; i < m; i++ ) {\n\n    long long int in;\n    cin >> in;\n\n    if ( ( i % 2 ) == 0 ) {\n      cnt_a += in;\n      for ( long long int j = 0; j < in; j++ ) {\n\tv0.push_back(0);\n\tv1.push_back(1);\n      }\n    }else {\n      cnt_b += in;\n      for ( long long int j = 0; j < in; j++ ) {\n\tv0.push_back(1);\n\tv1.push_back(0);\n      }\n    }\n\n  }\n\n  long long int ans = 100000000;\n\n  if ( cnt_0 == cnt_a ) {\n\n    long long int c = 0;\n    long long int k = 0;\n\n    for ( long long int i = 0; i < n; i++ ) {\n\n      if ( v0[i] == 1 ) continue;\n      while(1) {\n\tif ( b[k] == 0 ) {\n\t  c += abs( k - i );\n\t  break;\n\t}\n\tk++;\n      }\n      k++;\n\n    }\n\n    ans = min( ans, c );\n\n  }\n\n  if ( cnt_0 == cnt_b ) {\n\n    long long int c = 0;\n    long long int k = 0;\n\n    for ( long long int i = 0; i < n; i++ ) {\n\n      if ( v1[i] == 1 ) continue;\n      while(1) {\n\tif ( b[k] == 0 ) {\n\t  c += abs( k - i );\n\t  break;\n\t}\n\tk++;\n      }\n      k++;\n\n    }\n\n    ans = min( ans, c );\n\n  }\n\n  cout << ans << endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define sf scanf\n#define pf printf\n#define pb push_back\n#define mp make_pair\n#define PI ( acos(-1.0) )\n#define pmod 1000000007\n#define maxn 100005\n#define IN freopen(\"input.txt\",\"r\",stdin)\n#define OUT freopen(\"output.txt\",\"w\",stdout)\n#define FOR(i,a,b) for(int i=a ; i<=b ; i++)\n#define INF 1000000000\n#define ll long long int\n#define eps (1e-8)\n#define sq(x) ( (x)*(x) )\n\nusing namespace std;\n\ntypedef pair < int, int > pii;\ntypedef pair < ll, ll > pll;\nint a[1000],b[1000],c[1000],p[1000],r[1000];\nint N,m;\nint  swap1 (int x[1000], int y[1000]){\nint    res=0; int st=1;\n    while (st<=N){\n        if (x[st]==y[st]) {}//st++;\n        else{\n            FOR (i,st+1,N){\n                if (y[i]==x[st]) {\n                    swap(y[i],y[st]);\n                    //st++;\n                    res+=i-st;\n                    break;\n                }\n            }\n        }\n        //cout<<x[st]<<y[st]<<endl;\n        st++;\n    }\n    return res;\n}\nint s1,s0,ss1,ss0;\nint main()\n{\ncin>>N>>m;\nFOR (i,1,N){\n    cin>>a[i];\n    if (a[i]==1) s1++;\nelse s0++;\n\n}\nFOR (i,1,m){\ncin>>p[i];\nr[i]=r[i-1]+p[i];\n}\nFOR (i,1,m){\n    FOR (j,r[i-1]+1,r[i]){\n        b[j]=i%2;c[j]=(i+1)%2;\n        if (b[j]==1) ss1++;\n        else ss0++;\n    }\n\n}\n//cout<<s0<<s1<<ss1<<ss0<<endl;\n//FOR (i,1,N) cout<<c[i];\nint r1=INF; int r2=INF;\nif (ss1==s1) r1=swap1(a,b);\nif (ss0==s1) r2=swap1(a,c);\n//cout<<r1<<endl;\ncout<<min (r1,r2)<<endl;\n         return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint N,M;\nvector<int> p;\n\nvector<int> runlen(const string &s) {\n    vector<int> res;\n    char c=s[0];\n    int cnt=1;\n    for(int i=1;i<s.size();i++) {\n        if(c==s[i]) cnt++;\n        else {\n            res.pb(cnt);\n            c=s[i];\n            cnt=1;\n        }\n    }\n    res.pb(cnt);\n    return res;\n}\nvoid func(string &s, char c) {\n    rep(i,M) {\n        rep(j,p[i]) {\n            s+=c;\n        }\n        if(c=='0') c='1';\n        else c='0';\n    }\n\n}\n\nint f(string s1, string s2) {\n    // cout<<s1<<\",\"<<s2<<endl;\n    int res=0;\n    rep(i,s1.size()) {\n        if(s1[i]==s2[i]) continue;\n        for(int k=i+1;k<s2.size();k++) {\n            if(s1[i]==s2[k]) {\n                // cout<<i<<\",\"<<k<<endl;\n                res+=k-i;\n                swap(s2[i],s2[k]);\n                break;\n            }\n        }\n    }\n    if(s1!=s2) return INF;\n    return res;\n}\n\nint main() {\n    string s;\n    cin>>N>>M;\n    rep(i,N) {\n        char c;\n        cin>>c;\n        s+=c;\n    }\n    rep(i,M) {\n        int x;\n        cin>>x;\n        p.pb(x);\n    }\n    string s0,s1;\n\n    func(s0,'0');\n    func(s1,'1');\n\n    cout<<min(f(s,s0),f(s,s1))<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstdlib>\n#ifndef LIB_REPEAT_HPP\n#define LIB_REPEAT_HPP\n#define repeat(i,n) for (int i = 0; i < (n); ++i)\n#define repeat_from(i,m,n) for (int i = (m); i < (n); ++i)\n#define repeat_one(i,n) for (int i = 1; i <= (n); ++i)\n#define repeat_rev(i,n) for (int i = (n)-1; 0 <= i; --i)\n#define foreach(it, cont) for (decltype(cont.begin()) it = cont.begin(); it != cont.end(); ++it)\n#endif\nusing namespace std;\n#define INF (1<<28)\nint main() {\n    ios_base::sync_with_stdio(false);\n    int N, M; cin >> N >> M;\n    vector<bool> b(N); repeat (i,N) { int a; cin >> a; b[i] = not not a; }\n    vector<int>  p(M); repeat (i,M) cin >> p[i];\n    int result = INF;\n    repeat (d,2) {\n        vector<int> c, q;\n        repeat (i,N) if (b[i]) c.push_back(i);\n        {\n            int i = 0;\n            repeat (j,M) {\n                repeat (k,p[j]) {\n                    if ((j+d) % 2) q.push_back(i);\n                    i ++;\n                }\n            }\n        }\n        if (c.size() == q.size()) {\n            int acc = 0;\n            repeat (i, (int)c.size()) {\n                acc += labs(c[i] - q[i]);\n            }\n            result = min(result, acc);\n        }\n    }\n    cout << result << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(aa, (v).size()) { cout << v[a]; if (a != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\nll min(ll a, int b) { return min(a, ll(b)); }\nll min(int a, ll b) { return min(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tint n, m;\n\tcin >> n >> m;\n\tvi v(n), p(m);\n\tint cnt1 = 0;\n\tREP(i, n) {\n\t\tcin >> v[i];\n\t\tcnt1 += v[i];\n\t}\n\tREP(i, m)cin >> p[i];\n\tvi tar(n);\n\tint cnt = 0;\n\tREP(i, m) {\n\t\tREP(j, p[i]) {\n\t\t\tif (i % 2 == 0) {\n\t\t\t\ttar[cnt] = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttar[cnt] = 0;\n\t\t\t}\n\t\t\tcnt++;\n\t\t}\n\t}\n\tint cnt2 = 0;\n\tint ans = INF;\n\tREP(i, n)cnt2 += tar[i];\n\tif (cnt1 == cnt2) {\n\t\tvi a, b;\n\t\tREP(i, n) {\n\t\t\tif (v[i] == 1)a.push_back(i);\n\t\t\tif (tar[i] == 1)b.push_back(i);\n\t\t}\n\t\tint tmp = 0;\n\t\tREP(i, a.size()) {\n\t\t\ttmp += abs(a[i] - b[i]);\n\t\t}\n\t\tans = min(ans, tmp);\n\t}\n\tREP(i, n)tar[i] = 1 - tar[i];\n\tcnt2 = n - cnt2;\n\tif (cnt1 == cnt2) {\n\t\tvi a, b;\n\t\tREP(i, n) {\n\t\t\tif (v[i] == 1)a.push_back(i);\n\t\t\tif (tar[i] == 1)b.push_back(i);\n\t\t}\n\t\tint tmp = 0;\n\t\tREP(i, a.size()) {\n\t\t\ttmp += abs(a[i] - b[i]);\n\t\t}\n\t\tans = min(ans, tmp);\n\t}\n\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define pb push_back\n#define ppb pop_back\n#define inf 1e9+7\n#define long long long\nusing namespace std;\nvector<int>v;\nint n,m,a,b,c,i,j,k,l,cnt,cnt1,cnt2=0,sum,ans=inf,ar[20],br[20],cr[20];\n\nvoid check()\n{\n    for(j=0,l=0,sum=0;j<n;j++)\n    {\n        for( ;ar[j]&&l<n;l++)\n        {\n            if(cr[l]){sum+=abs(j-l);l++;break;}\n        }\n    }\n}\n\nint main()\n{\n    cin>>n>>m;\n    for(i=0;i<n;i++)cin>>ar[i],cnt2+=ar[i];\n    for(i=0;i<m;i++)cin>>br[i];\n    a=(1<<n)-1;\n    for(i=0;i<=a;i++)\n    {\n        j=i;\n        for(k=0,cnt=0,cnt1=0,l=m-1;k<n;k++)\n        {\n            b=j%2;\n            cr[n-k-1]=b;\n            cnt1+=b;\n            if(k==0||b==c)cnt++;\n            else if(cnt==br[l--])cnt=1;\n            else break;\n            j/=2;\n            c=b;\n        }\n        if(k==n&&cnt1==cnt2){check();if(sum<ans)ans=sum;}\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF (1<<29)\n \nint N,M;\n \nint bfs(int s,int g){\n    queue<int> Q;\n    Q.push(s);\n    int d[1<<N];\n    fill(d,d+(1<<N),INF);\n    d[s] = 0;\n \n    while(!Q.empty()){\n\tint S = Q.front(); Q.pop();\n\tif(S == g) return d[S];\n\tfor(int i = 0 ; i < N-1 ; i++){\n\t    int nS = S;\n\t    if(((S >> i) & 1) ^ ((S >> (i+1)) & 1)){\n\t\tnS ^= 1<<i; nS ^= 1<<(i+1);\n\t\tif(d[S] + 1 < d[nS]){\n\t\t    d[nS] = d[S] + 1;\n\t\t    Q.push(nS);\n\t\t}\n\t    }\n\t}\n    }\n    return INF;\n}\n \nint main(){\n    int in,s,g1,g2,sum;\n    s = g1 = g2 = sum = 0;\n    cin >> N >> M;\n    for(int i = 0 ; i < N ; i++){\n\tcin >> in;\n\ts += (in ? (1<<i) : 0);\n    }\n    for(int i = 0 ; i < M ; i++){\n\tcin >> in;\n\tfor(int j = 0 ; j < in ; j++){\n\t    g1 += (i % 2 ? 1<<(sum+j) : 0);\n\t}\n\tfor(int j = 0 ; j < in ; j++){\n\t    g2 += (i % 2 ? 0 : 1<<(sum+j)); \n\t}\n\tsum += in;\n    }\n    cout << min(bfs(s,g1),bfs(s,g2)) << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<int> f(vector<int> x) {\n\tvector<int> a(1, 1);\n\tfor (int i = 1; i < x.size(); ++ i) {\n\t\tif (x[i-1] == x[i]) {\n\t\t\t++ a.back();\n\t\t} else {\n\t\t\ta.push_back(1);\n\t\t}\n\t}\n\treturn a;\n}\nint func(vector<int> b, vector<int> p) {\n\tif (f(b) == p) return 0;\n\n\tmap<vector<int>, int> dist;\n\tqueue<vector<int> > Q;\n\tdist[b] = 0;\n\tQ.push(b);\n\twhile (!Q.empty()) {\n\t\tvector<int> c = Q.front(); Q.pop();\n\t\tfor (int i = 1; i < c.size(); ++ i) {\n\t\t\tvector<int> d = c;\n\t\t\tswap(d[i-1], d[i]);\n\t\t\tif (!dist.count(d)) {\n\t\t\t\tdist[d] = dist[c] + 1;\n\t\t\t\tif (f(d) == p) return dist[d];\n\t\t\t\tQ.push(d);\n\t\t\t}\n\t\t}\n\t}\n}\nint main() {\n\tint N, M;\n\tcin >> N >> M;\n\tvector<int> b(N), p(M);\n\tfor (int i = 0; i < N; ++ i) cin >> b[i];\n\tfor (int i = 0; i < M; ++ i) cin >> p[i];\n\tcout << func(b, p) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n//幅優先探索\n\nint main(){\n    int n, m; cin >> n >> m;\n    vector<bool> b(n);\n    for(int i = 0; i < n; i++){\n        int in; cin >> in;\n        b[i] = (bool)in;\n    }\n    vector<int> p(m);\n    for(int i = 0; i < m; i++) cin >> p[i];\n    vector<bool> g1;\n    vector<bool> g2;\n    for(int i = 0; i < m; i++){\n        if(i % 2 == 0){\n            for(int j = 0; j < p[i]; j++){\n                g1.push_back(false);\n                g2.push_back(true);\n            }\n        }else{\n            for(int j = 0; j < p[i]; j++){\n                g1.push_back(true);\n                g2.push_back(false);\n            }\n        }\n    }\n\n    set<vector<bool> > used;\n    queue<pair<vector<bool>, int> > q;\n    q.push({b, 0});\n    used.insert(b);\n    \n    while(!q.empty()){\n\n        vector<bool> vec = q.front().first;\n        int cost = q.front().second;\n        q.pop();\n        \n        if(vec == g1 || vec == g2){\n            cout << cost << endl;\n            break;\n        }\n\n        for(int i = 0; i < n - 1; i++){\n            vector<bool> nxt = vec;\n            swap(nxt[i], nxt[i + 1]);\n            if(used.find(nxt) == used.end()){\n                used.insert(nxt);\n                q.push({nxt, cost + 1});\n            }\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n#define FOR(i,bg,ed) for(int i=bg;i<ed;i++)\n#define REP(i,n) FOR(i,0,n)\n\n\ntypedef vector<int> V;\nint f(int bg,V bit,V b){\n    int ret=0;\n    int id=0;\n    int n =bit.size();\n    for(auto &it:b){\n        while(it>0){\n            //cout<<id<<endl;\n            int i;\n            for(i=id;bit[i]!=bg;i++){\n                if(i+1>=n)return 1000000;\n            }\n            while(i>id){\n                swap(bit[i],bit[i-1]);\n                ret++;\n                i--;\n            }\n            id++;\n            it--;\n        }\n        bg=1-bg;\n    }\n    return ret;\n}\nint main(){\n    int n,m;\n    cin>>n>>m;\n    V a(n);\n    V b(m);\n    REP(i,n)cin>>a[i];\n    REP(i,m)cin>>b[i];\n    cout<<min(f(0,a,b),f(1,a,b))<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LOG(...) fprintf(stderr, __VA_ARGS__)\n//#define LOG(...)\n#define FOR(i, a, b) for(int i=(int)(a); i<(int)(b); ++i)\n#define REP(i, n) for(int i=0; i<(int)(n); ++i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EXIST(s, e) ((s).find(e)!=(s).end())\n#define SORT(c) sort(ALL(c))\n#define RSORT(c) sort(RALL(c))\n#define SQ(n) (n) * (n)\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n  int start = 0;\n  REP(i, n){\n    int k;\n    cin >> k;\n    start = (start << 1) | k;\n  }\n  int goal1 = 0, goal2 = 0;\n  int t = 0;\n  REP(i, m){\n    int k;\n    cin >> k;\n    REP(j, k){\n      goal1 = (goal1 << 1) | t;\n      goal2 = (goal2 << 1) | (~t & 1);\n    }\n    t = ~t & 1;\n  }\n\n  vb G(1 << (n + 1));\n  G[start] = true;\n  queue<int> que;\n  que.push(start);\n  que.push(-1);\n  int step = 0;\n  while(!que.empty()) {\n    int p = que.front(); que.pop();\n    if(p == goal1 || p == goal2) {\n      cout << step << endl;\n      break;\n    }\n\n    if(p == -1) {\n      step++;\n      que.push(p);\n      continue;\n    }\n\n    REP(i, n - 1){\n      int trade = 3 << i;\n      int disable = p & trade;\n      int next = p ^ trade;\n      if (disable == 0 || disable == trade) continue;\n      if(next >= (1 << n)) continue;\n      if(G[next]) continue;\n      G[next] = true;\n      que.push(next);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<queue>\n#include<cmath>\n#include<cassert>\n#include<vector>\n#include<iostream>\nusing namespace std;\n\nvector<int> bits;\nvector<int> after;\n\nvoid print(vector<int> v){\n  for(auto i:v){\n    //cerr<<i<<\" \";\n  }//cerr<<endl;\n}\n\nvoid init(){\n  bits.clear();\n  after.clear();\n}\n\nbool input(){\n  int n,m;\n  cin>>n>>m;\n  for(int i=0;i<n;i++){\n    int tmp;\n    cin>>tmp;\n    bits.push_back(tmp);\n  }\n  for(int i=0;i<m;i++){\n    int tmp;\n    cin>>tmp;\n    after.push_back(tmp);\n  }\n  return true;\n}\n\n\nint make_ans(vector<int> pre,vector<int> a,vector<int> b){\n  queue<pair<int,vector<int>>> q;\n  map<vector<int>,int> dp;\n  q.push(make_pair(0,pre));\n  while(!q.empty()){\n    pair<int,vector<int>> now = q.front();q.pop();\n    const vector<int> v = now.second;\n    const int cost = now.first;\n    if(v==a)return cost;\n    if(v==b)return cost;\n    if(dp.count(v)!=0)continue;\n    dp[v]=cost;\n    for(int i=0;i+1<v.size();i++){\n      vector<int> next= v;\n      swap(next[i],next[i+1]);\n      q.push(make_pair(cost+1,next));\n    }\n  }\n  return INT_MAX;\n}\n\nint solve(){\n  vector<int> b;\n  bool jj = false;\n  for(int i=0;i<after.size();i++){\n    for(int j=0;j<after[i];j++){\n      b.push_back(jj);\n    }\n    jj = (!jj);\n  }\n  print(bits);\n  print(b);\n  vector<int> a = b;\n  for(int i=0;i<b.size();i++){\n    a[i] = (!a[i]);\n  }\n  print(b);\n  int ans = make_ans(bits,a,b);\n  return ans;\n}\n\nint main(){\n  init();input();\n  cout<<solve()<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>  \nusing namespace std;\nconst int INF = 9999;\n\nint N, M, b, Exit, mask;\nint v[1 << 15];\nint ret;\nvoid rec(int digit, int cnt){\n  if(cnt >= ret) return;\n  if(digit == Exit || digit == ((~Exit) & mask)){\n    ret = min( ret, cnt);\n    return;\n  } else if(v[digit & mask] <= cnt){\n    return;\n  } else {\n    v[digit] = cnt;\n    const int prev = digit;\n    for(int i = 0; i < N - 1; ++i){\n      digit &= ~(3 << i);\n      digit |= ((prev >> i) & 1) << (i + 1);\n      digit |= ((prev >> (i + 1)) & 1) << i;\n      rec( digit, cnt + 1);\n      digit = prev;\n    }\n  }\n}\n\nint main(){\n  fill_n( v, 1 << 15, INF);\n  ret = INF;\n\n  cin >> N >> M;\n  mask = (1 << N) - 1;\n  for(int i = 0; i < N; ++i){\n    bool d;\n    cin >> d;\n    b |= d << (N - i - 1);\n  }\n  int cnt = 0;\n  bool flip = false;\n  for(int i = 0; i < M; ++i){\n    int p;\n    cin >> p;\n    while(p--){\n      Exit |= (int)flip << (N - cnt - 1);\n      ++cnt;\n    }\n    flip ^= 1;\n  }\n  rec(b, 0);\n  cout << ret << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\n#define REP(i,n) for (int i=0; i<n; i++)\n\nint n, m, b[20], bitstr[20], p[20];\n\nint count(int flg){\n\tint ret=0, c=0, count;\n\tREP(i,n){\n\t\tbitstr[i] = b[i];\n\t}\n\tcount = p[c];\n\tREP(i,n){\n\t\tif (bitstr[i]!=flg){\n\t\t\tbool notfound=1;\n\t\t\tfor (int k=i+1; k<n; k++){\n\t\t\t\tif (bitstr[k]==flg){\n\t\t\t\t\tret += k-i;\n\t\t\t\t\tnotfound = false;\n\t\t\t\t\tbitstr[i] = flg;\n\t\t\t\t\tbitstr[k] = (flg ^ 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (notfound){\n\t\t\t\tret = -1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcount--;\n\t\tif (count==0){\n\t\t\tflg = (flg ^ 1);\n\t\t\tc++;\n\t\t\tcount = p[c];\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main(){\n\tint count0=0, count1=0;\n\t\n\tcin >> n >> m;\n\tREP(i,n){\n\t\tcin >> b[i];\n\t}\n\tREP(i,m){\n\t\tcin >> p[i];\n\t}\n\t\n\t// cout << (flg ^ 1) << endl;\n\tcount0 = count(0);\n\tcount1 = count(1);\n\t\n\t// printf(\"count0: %d, count1: %d\\n\", count0, count1);\n\t\n\tif (count0<0){\n\t\tcout << count1 << endl;\n\t}else if (count1<0){\n\t\tcout << count0 << endl;\n\t}else{\n\t\tcout << min(count0, count1) << endl;\n\t}\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing i64 = long long int;\nusing ui64 = unsigned long long int;\n\n////////////////////////////////\n\nint main()\n{\n  int n,m;\n  cin >> n >> m;\n  vector<int> a(n);\n  for(auto&& x:a)cin >> x;\n  vector<int> b(m);\n  for(auto&& x:b)cin >> x;\n  vector<int> c,d;\n  c.reserve(n);d.reserve(n);\n  for(int i=0;i<b.size();i++){\n    for(int j=0;j<b[i];j++){\n      if(i&1){\n        c.push_back(0);\n        d.push_back(1);\n      }else{\n        c.push_back(1);\n        d.push_back(0);\n      }\n    }\n  }\n  int lvc = 0, smc = 0, lvd = 0, smd = 0;\n  for(int i=0;i<n;i++){\n    smc += abs(lvc);\n    if(a[i] != c[i]){\n      if(c[i])lvc++;\n      else lvc--;\n    }\n    smd += abs(lvd);\n    if(a[i] != d[i]){\n      if(d[i])lvd++;\n      else lvd--;\n    }\n  }\n\n  if(lvc)smc = 1145141919;\n  if(lvd)smd = 1145141919;\n  cout << min(smc,smd) << endl;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<queue>\n#include<algorithm>\nusing namespace std;\nint main()\n{\n  int n,m;\n  for(;cin>>n>>m,n;)\n    {\n      string s;\n      for (int i=0; i<n; i++) {\n        char tmp;\n        cin>>tmp;\n        s+=tmp;\n      }\n\n      string ss1,ss2;\n      bool flag=false;\n      for (int i=0; i<m; i++) {\n        int cnt=0;\n        cin>>cnt;\n        ss1+=string(cnt,'0'+flag);\n        ss2+=string(cnt,'0'+!flag);\n        flag=!flag;\n\n      }\n      // cout<<s<<endl;\n      //cout<<ss1<<endl;\n      //cout<<ss2<<endl;\n\n\n      queue<pair<string,int> >qu;\n      set<string> hash;\n      qu.push(make_pair(s,0));\n\n      while(true)\n        {\n          string ss=qu.front().first;\n          int cnt=qu.front().second;\n          qu.pop();\n          if(ss==ss1 || ss==ss2)\n            {\n              cout<<cnt<<endl;\n              break;\n            }\n          for(int i=0;i<ss.size()-1;i++)\n            {\n              string tmp=ss;\n              swap(tmp[i],tmp[i+1]);\n              if(hash.count(tmp)==0)\n                {\n                  hash.insert(tmp);\n                  qu.push(make_pair(tmp,cnt+1));\n                }\n\n            }\n\n\n        }\n\n\n    }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <algorithm>\n#include <iomanip>\n#include <cmath>\n#include <cassert>\nusing namespace std;\n\nint n, m;\n\nint f(string s, const string t) {\n\tint ret = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tint j = i;\n\t\twhile (t[i] != s[j]) j++;\n\t\tret += abs(i - j);\n\t\tswap(s[i], s[j]);\n\t}\n\treturn ret;\n}\n\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\twhile (cin >> n >> m) {\n\t\tstring s;\n\t\tvector<int> p(m);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tchar c;\n\t\t\tcin >> c;\n\t\t\ts += c;\n\t\t}\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tcin >> p[i];\n\t\t}\n\n\t\tint ans = 1e9;\n\t\tfor (int i = 0; i <= 1; i++) {\n\t\t\tstring t;\n\t\t\tint x = i;\n\t\t\tfor (int j = 0; j < m; j++) {\n\t\t\t\tstring a = string(p[j], char('0' + x));\n\t\t\t\tt += a;\n\t\t\t\tx = !x;\n\t\t\t}\n\t\t\tassert(t.size() == n);\n\t\t\tif (count(s.begin(), s.end(), '0') != count(t.begin(), t.end(), '0')) continue;\n\t\t\tif (count(s.begin(), s.end(), '1') != count(t.begin(), t.end(), '1')) continue;\n\t\t\tans = min(ans, f(s, t));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nusing ll = long long;\nusing ld = long double;\nusing P = pair<int, int>;\nconstexpr ld EPS = 1e-12;\nconstexpr int INF = numeric_limits<int>::max() / 2;\nconstexpr int MOD = 1e9 + 7;\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int n, m;\n    cin >> n >> m;\n    int st = 0;\n    for (int i = 0; i < n; i++)\n    {\n        st *= 2;\n        int b;\n        cin >> b;\n        st += b;\n    }\n    int gt1 = 0, gt2 = 0;\n    for (int i = 0; i < m; i++)\n    {\n        int p;\n        cin >> p;\n        gt1 = gt1 << p;\n        gt2 = gt2 << p;\n        if (i % 2)\n        {\n            gt2 += (1 << p) - 1;\n        }\n        else\n        {\n            gt1 += (1 << p) - 1;\n        }\n    }\n    vector<int> d(1 << 20, INF);\n    vector<int> tmp(n);\n    queue<int> q;\n    d[st] = 0;\n    q.push(st);\n    while (!q.empty())\n    {\n        int v = q.front();\n        q.pop();\n        for (int i = 0; i < n; i++)\n        {\n            tmp[n - 1 - i] = (v >> i) & 1;\n        }\n        for(int i=0;i<n-1;i++){\n            if(tmp[i] == tmp[i+1]) continue;\n            swap(tmp[i], tmp[i+1]);\n            int next=0;\n            for(int j=0;j<n;j++){\n                next *= 2;\n                next += tmp[j];\n            }\n            swap(tmp[i], tmp[i+1]);\n            if(d[next]!=INF) continue;\n            d[next] = d[v] + 1;\n            q.push(next);\n        }\n    }\n    cout << min(d[gt1], d[gt2]) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nconst int INF = 1 << 29;\n\nint N, M, b[15], p[15], bb[15];\n\nint calc(int c) {\n    for (int j = 0; j < N; ++j) b[j] = bb[j];\n\n    int swaps = 0;\n\n    int idx = 0;\n    for (int j = 0; j < M; ++j) {\n        for (int k = 0; k < p[j]; ++k) {\n            int kk = idx+k;\n            while (kk < N && b[kk] != c) ++kk;\n            if (kk == N) return INF;\n\n            swaps += kk-(idx+k);\n            for (int m = kk; m > idx+k; --m) {\n                swap(b[m], b[m-1]);\n            }\n        }\n        c = 1-c;\n        idx += p[j];\n    }\n\n    return swaps;\n}\n\nint main() {\n    cin >> N >> M;\n    for (int j = 0; j < N; ++j) { cin >> b[j]; bb[j] = b[j]; }\n    for (int j = 0; j < M; ++j) { cin >> p[j]; }\n\n    cout << min(calc(0), calc(1)) << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n#define ll long long\n\nstring frm, to;\nll a,b;\nchar ch;\nll n;\n\nint main()\n{\n    ll n;\n    cin>>a>>b;\n    ll ones=0, zeros = 0;\n    for(int i=0; i<a; i++) cin>>n, frm+=(n+'0'), ones+=(frm[i]=='1'), zeros+=(frm[i]=='0');\n    to = \"\";\n    ll one = 0, zero = 0;\n    for(int i=0; i<b; i++)\n    {\n        cin>>n;\n        while(n--)\n        {\n            if(i%2==0) to+='0', zero++;\n            else to+='1', one++;\n        }\n    }\n    string newto=\"null\";\n\n    if(zero!=zeros or one!=ones)\n    {\n        for(int i=0; i<to.size(); i++) to[i] = (!(to[i]-'0'))+'0';\n    }\n    else if(zero==one)\n    {\n        newto = \"\";\n        for(int i=0; i<to.size(); i++) newto += (!(to[i]-'0'))+'0';\n    }\n    ll res = 0, ans = 0;\n\n//    cout << frm << endl;\n//    cout << to << \" \" << newto << endl;\n\n    string newfrm = frm;\n\n    for(int i=0; i<frm.size(); i++)\n    {\n        int tmp = i;\n        if(frm[i]=='0' && to[i]=='1')\n        {\n            int cnt = 0;\n            while(frm[i]=='0' && i<frm.size()) cnt++, i++;\n            swap(frm[i], frm[i-cnt]);\n            res += cnt;\n        }\n        else if(frm[i]=='1' && to[i]=='0')\n        {\n            int cnt = 0;\n            while(frm[i]=='1' && i<frm.size()) cnt++, i++;\n            swap(frm[i], frm[i-cnt]);\n          //  cout << res << \" \" << cnt << endl;\n            res += cnt;\n        }\n        i = tmp;\n    }\n\n    ans = res;\n\n    if(newto!=\"null\")\n    {\n        res = 0;\n        for(int i=0; i<newfrm.size(); i++)\n        {\n            int tmp = i;\n            if(newfrm[i]=='0' && newto[i]=='1')\n            {\n                int cnt = 0;\n                while(newfrm[i]=='0' && i<newfrm.size()) cnt++, i++;\n                swap(newfrm[i], newfrm[i-cnt]);\n                res += cnt;\n            }\n            else if(newfrm[i]=='1' && newto[i]=='0')\n            {\n                int cnt = 0;\n                while(newfrm[i]=='1' && i<frm.size()) cnt++, i++;\n                swap(newfrm[i], newfrm[i-cnt]);\n              //  cout << res << \" \" << cnt << endl;\n                res += cnt;\n            }\n            i = tmp;\n        }\n\n        ans = min(ans, res);\n    }\n\n\n    cout << ans << endl;\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define  _USE_MATH_DEFINES\n\n#define  rep(i, n) for(int i = 0; i < n; i++)\n#define  repx(i, a, n) for(int i = a; i < n; i++)\n#define  loop while(1)\n#define  lli long long int\n \n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <numeric>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <list>\n#include <map>\n#include <utility>\n#include <set>\n\nusing namespace std;\n\nint main() {\n\n  int n, m;\n  cin >> n >> m;\n\n  vector<int> org(n, 0);\n  int tmpx = 0;\n  int cnt  = 0;\n\n  rep (i, n) {\n    cin >> tmpx;\n    cnt += tmpx;\n    org[i] = tmpx;\n  }\n\n  vector<int> tmp(m, 0);\n  rep (i, m) cin >> tmp[i];\n\n  vector<int> goal1(n, 0);\n  vector<int> goal2(n, 0);\n\n  int x = 0;\n  int tmpi = 0;\n\n  int cnt1 = 0;\n  int cnt2 = 0;\n\n  rep (i, m) {\n    x = (x + 1) % 2;\n    rep (j, tmp[i]) {\n      goal1[tmpi] = x;\n      cnt1 += x;\n      goal2[tmpi] = (x + 1) % 2;\n      cnt2 += (x + 1) % 2;\n      tmpi += 1;\n    }\n  }\n\n  int ans1 = 0;\n  int ans2 = 0;\n\n  tmpi = 0;\n  rep (i, n) {\n    if (cnt != cnt1) {\n      ans1 = 1000;\n      break;\n    }\n    if (org[i] == 1) {\n      while (goal1[tmpi] == 0) {\n        tmpi += 1;\n      }\n      ans1 += abs(tmpi - i);\n      tmpi += 1;\n    }\n  }\n\n  tmpi = 0;\n  rep (i, n) {\n    if (cnt != cnt2) {\n      ans2 = 1000;\n      break;\n    }\n    if (org[i] == 1) {\n      while (goal2[tmpi] == 0) {\n        tmpi += 1;\n      }\n      ans2 += abs(tmpi - i);\n      tmpi += 1;\n    }\n  }\n\n  cout << min(ans1, ans2) << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint N,M;\nvector<int> b,p;\n\nint solve(int first) {\n\tint res=0;\n\tint t=0,tsum=0;\n\tvector<int> tmp(b);\n\tfor(int i=0;i<N;++i) {\n\t\tint j=i;\n\t\tif(t&1)\n\t\t\twhile(tmp[j]==first) ++j;\n\t\telse\n\t\t\twhile(tmp[j]!=first) ++j;\n\t\tswap(tmp[i],tmp[j]);\n\t\tres+=j-i;\n\t\t++tsum;\n\t\tif(p[t]==tsum) tsum=0,++t;\n\t}\n\treturn res;\n}\n\nint main() {\n\tcin >> N >> M;\n\tb.resize(N); p.resize(M);\n\tint num1=0,sume=0,sumo=0;\n    for(int i=0;i<N;++i) {\n\t\tcin >> b[i];\n\t\tif(b[i]) ++num1;\n\t}\n\tfor(int i=0;i<M;++i) {\n\t\tcin >> p[i];\n\t\tif(i&1) sumo+=p[i];\n\t\telse sume+=p[i];\n\t}\n\tint ans=1e9;\n\tif(sume>=sumo) ans=min(ans,solve(num1<=N-num1?0:1));\n\tif(sume<=sumo) ans=min(ans,solve(num1<=N-num1?1:0));\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<queue>\n#include<algorithm>\nusing namespace std;\nint main()\n{\n  int n,m;\n  cin>>n>>m;\n\n\n  string s;\n  for (int i=0; i<n; i++) {\n    char tmp;\n    cin>>tmp;\n    s+=tmp;\n  }\n\n  string ss1,ss2;\n  bool flag=false;\n  for (int i=0; i<m; i++) {\n    int cnt=0;\n    cin>>cnt;\n    ss1+=string(cnt,'0'+(int)flag);\n    ss2+=string(cnt,'0'+(int)!flag);\n    flag=!flag;\n\n  }\n  // cout<<s<<endl;\n  //cout<<ss1<<endl;\n  //cout<<ss2<<endl;\n\n\n  queue<pair<string,int> >qu;\n  set<string> hash;\n  qu.push(make_pair(s,0));\n\n  while(!qu.empty())\n    {\n      string ss=qu.front().first;\n      int cnt=qu.front().second;\n      qu.pop();\n      if(ss==ss1 || ss==ss2)\n        {\n          cout<<cnt<<endl;\n          break;\n        }\n      for(int i=0;i<ss.size()-1;i++)\n        {\n          string tmp=ss;\n          swap(tmp[i],tmp[i+1]);\n          if(hash.count(tmp)==0)\n            {\n              hash.insert(tmp);\n              qu.push(make_pair(tmp,cnt+1));\n            }\n\n        }\n    }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n,m,ans=10000000;\nint b[10000];\nint p[1000];\n\n\nvoid f(int t[]){\n    int res=0;\n    int s[1000]={};\n    for(int i=0;i<n;i++){\n        s[i]=t[i];\n    }\n\n    for(int i=0;i<n;i++){\n        int j=i;\n\n        while(j<n && b[i]!=s[j]){\n           j++;\n        }\n        if(j==n) return;\n        for(int k=j;k>i;k--){\n            int c = s[k];\n            s[k] = s[k-1];\n            s[k-1] = c;\n            res++;\n        }\n   }\n\n    ans = min(ans,res);\n}\n\n\nsigned main(){\n    cin>>n>>m;\n    for(int i=0;i<n;i++){\n        int c;\n        cin>>c;\n        b[i] = c;\n    }\n    for(int i=0;i<m;i++){\n        cin>>p[i];\n    }\n\n    int t[1000]={};\n    int sum=0;\n    for(int i=0;i<m;i++){\n        for(int j=0;j<p[i];j++){\n            if(i%2)\n                t[sum+j]=1;\n            else\n                t[sum+j]=0;\n        }\n        sum+=p[i];\n    }\n\n    f(t);\n    for(int i=0;i<n;i++){\n        if(t[i]==1) t[i]=0;\n        else t[i]=1;\n    }\n    f(t);\n\n    cout<<ans<<endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cmath>\n#include<cassert>\n#include<vector>\n#include<iostream>\nusing namespace std;\n\nvector<int> bits;\nvector<int> after;\n\nvoid print(vector<int> a){\n  /*\n  cout<<\":\";\n  for(auto i:a){\n    cout<<i<<\" \";\n  }\n  cout<<endl;\n  */\n}\n\nvoid init(){\n  bits.clear();\n  after.clear();\n}\n\nbool input(){\n  int n,m;\n  cin>>n>>m;\n  for(int i=0;i<n;i++){\n    int tmp;\n    cin>>tmp;\n    bits.push_back(tmp);\n  }\n  for(int i=0;i<m;i++){\n    int tmp;\n    cin>>tmp;\n    after.push_back(tmp);\n  }\n  return true;\n}\n\nint make_ans2(vector<int> a,vector<int> b){\n  int ans = 0;\n\n  for(int i=0,j=0;i<a.size();i++){\n    if(a[i]){\n      while(1){\n        if(b[j]){\n          ans += abs(i-j);\n          j++;\n          break;\n        }\n        j++;\n      }\n    }\n  }\n  return ans;\n}\n\nint make_ans(vector<int> a,vector<int> b){\n  vector<int> tmp;\n  for(int i=0;i<a.size();i++){\n    tmp.push_back(a[i] xor b[i]);\n  }\n  int ans = 0;\n  for(int i=0;i<tmp.size();i++){\n    ans += tmp[i];\n  }\n  if(ans%2==1)return 1000;\n  ans = 0;\n  ans = make_ans2(a,b);\n  ans = min(make_ans2(vector<int>(a.rbegin(),a.rend()),vector<int>(b.rbegin(),b.rend())),ans);\n  return ans;\n\n}\n\nint solve(){\n  vector<int> b;\n \n  print(bits);\n  bool jj = false;\n  for(int i=0;i<after.size();i++){\n    for(int j=0;j<after[i];j++){\n      b.push_back(jj);\n    }\n    jj = (!jj);\n  }\n  int ans = make_ans(bits,b);\n  \n  print(b);\n  for(int i=0;i<b.size();i++){\n    b[i] = (!b[i]);\n  }\n  print(b);\n  ans = min(make_ans(bits,b),ans);\n  return ans;\n\n}\n\n\n\nint main(){\n  init();input();\n  cout<<solve()<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntypedef pair<int,int> PI;\n\nint n,m;\nint b[15];\nint p[15];\nint to[2][15];\t//完成系のビット列(2通りしかない！！)\nint dp[1<<15];\n\nqueue<PI> que;\nint bfs(){\n\tint i,x,tesu;\n\tPI now;\n\t\n\tx = 0;\n\tfor( i = 0; i < n; i++ ){\n\t\tx += (1<<i)*b[i];\n\t}\n\tque.push( PI(x,0) );\n\t\n\twhile(!que.empty() ){\n\t\tnow = que.front();\n\t\tx = now.first;\n\t\ttesu = now.second;\n\t\tque.pop();\n\t\t\n\t\tif( dp[x] <= tesu )\n\t\t\tcontinue;\n\t\tdp[x] = tesu;\n\t\t//cout << x << \" \" << dp[x] << endl;\n\t\t//xの下位iビット目と下位i-1ビット目を交換\n\t\tfor( i = 1; i < n; i++ ){\n\t\t\tint bi = (x>>i)%2;\n\t\t\tint bi_1 = (x>>(i-1))%2;\n\t\t\tint diff;\n\t\t\tif( bi == bi_1 )\n\t\t\t\tcontinue;\n\t\t\telse if( bi == 1 ){\n\t\t\t\tdiff = ( ( 1<<(i-1) ) - (1<<i) );\n\t\t\t}\n\t\t\telse if( bi_1 == 1 ){\n\t\t\t\tdiff =( -( 1<<(i-1) ) + (1<<i) );\n\t\t\t}\n\t\t\tque.push( PI( x + diff, tesu+1 ) );\n\t\t}\n\t}\n\t\n\tint t,u;\n\tt = 0;\n\tu = 0;\n\tfor( i = 0; i < n; i++ ){\n\t\tt += to[0][i]<<i;\n\t\tu += to[1][i]<<i;\n\t}\n\treturn min( dp[t], dp[u] );\n}\n\nint main(){\n\tint i,j;\n\tcin >> n >> m;\n\t\n\tfor( i = 0; i < (1<<15); i++ )\n\t\tdp[i] = 1000000;\n\t\t\n\tfor( i = 0; i < n; i++ )\n\t\tcin >> b[i];\n\tfor( i = 0; i < m; i++ )\n\t\tcin >> p[i];\n\t\n\tint cor = 0;\n\tfor( i = 0; i < m; i++ ){\n\t\tfor( j = 0; j < p[i]; j++ ){\n\t\t\tto[0][cor] = i%2;\n\t\t\tto[1][cor++] = (i+1)%2;\n\t\t}\n\t}\n\tcout << bfs() << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint n,m,a[15],b[15];\nbool one[15];\nbool w[15];\nint ans=1e9;\nmain()\n{\n\tcin>>n>>m;\n\tint sum=0;\n\tfor(int i=0;i<n;i++)cin>>a[i];\n\tfor(int i=0;i<n;i++)sum+=a[i];\n\tfor(int i=0;i<m;i++)cin>>b[i];\n\tfor(int i=0;i<m;i+=2)one[i]=1;\n\tint now=0;\n\tfor(int i=0;i<m;i++)now+=one[i]*b[i];\n\tif(sum==now)\n\t{\n\t\tint asdf=0;\n\t\tfor(int i=0;i<m;i++)\n\t\t{\n\t\t\tfor(int j=0;j<b[i];j++)w[asdf++]=one[i];\n\t\t}\n\t\tint aans=0;\n\t\tint f=0;\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tif(!w[i])continue;\n\t\t\twhile(a[f]==0)f++;\n\t\t\taans+=abs(f-i);\n\t\t\tf++;\n\t\t}\n\t\tans=min(ans,aans);\n\t}\n\tfor(int i=0;i<m;i++)one[i]=0;\n\tfor(int i=1;i<m;i+=2)one[i]=1;\n\tnow=0;\n\tfor(int i=0;i<m;i++)now+=one[i]*b[i];\n\tif(sum==now)\n\t{\n\t\tint asdf=0;\n\t\tfor(int i=0;i<m;i++)\n\t\t{\n\t\t\tfor(int j=0;j<b[i];j++)w[asdf++]=one[i];\n\t\t}\n\t\tint aans=0;\n\t\tint f=0;\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tif(!w[i])continue;\n\t\t\twhile(a[f]==0)f++;\n\t\t\taans+=abs(f-i);\n\t\t\tf++;\n\t\t}\n\t\tans=min(ans,aans);\n\t}\n\tcout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\nusing namespace std;\ntypedef long long ll;\nconst ll MOD = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\nconst double EPS = 1e-9;\ntypedef pair<int, int> P;\ntypedef unsigned int ui;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define per(i,n) for(int i=n-1;i>=0;i--)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define per1(i,n) for(int i=n;i>=1;i--)\n#define Rep1(i,sta,n) for(int i=sta;i<=n;i++)\nint main() {\n    int n, m; cin >> n >> m;\n\tint b[15];int p[15]; vector<int>s;\n\trep(i, n) {\n\t\tcin >> b[i];\n\t\tif (b[i])s.push_back(i);\n\t}\n\trep(i, m) {\n\t\tcin >> p[i];\n\t}\n\tint now = 0; bool f = false;\n\tvector<int>t,u;\n\trep(i, m) {\n\t\trep(j, p[i]) {\n\t\t\tif (f) {\n\t\t\t\tt.push_back(now);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu.push_back(now);\n\t\t\t}\n\t\t\tnow++;\n\t\t}\n\t\tif (f)f = false;\n\t\telse f = true;\n\t}\n\tint mi = 10000; int len = s.size();\n\tif (len==(int)t.size()) {\n\t\tint sum = 0;\n\t\trep(i, len) {\n\t\t\tsum += abs(s[i] - t[i]);\n\t\t}\n\t\tmi = min(mi, sum);\n\t}\n\tif (len==(int)u.size()) {\n\t\tint sum = 0;\n\t\trep(i, len) {\n\t\t\tsum += abs(s[i] - u[i]);\n\t\t}\n\t\tmi = min(mi, sum);\n\t}\n\tcout << mi << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#define INF (1e9)\n#define N 15\nusing namespace std;\n\nint main(){\n  int n,m,b[N],p[N],cnt0=0,chcnt=0,begin,sample[N],l=0,ans=0,ans2=INF;\n  cin>>n>>m;\n  for(int i=0;i<n;i++) cin>>b[i],cnt0+=!b[i];\n  for(int i=0;i<m;i++){\n    cin>>p[i];\n    if(!(i%2)) chcnt+=p[i];\n  }\n  if(cnt0==n-cnt0) begin=3;\n  else if(cnt0==chcnt) begin=0;\n  else begin=1;\n  for(int i=0;i<m;i++)\n    for(int j=0;j<p[i];j++,l++){\n      if(begin==0){\n\tif(!(i%2)) sample[l]=0;\n\telse sample[l]=1;\n      }\n      else{\n\tif(!(i%2)) sample[l]=1;\n\telse sample[l]=0;\n      }\n    }\n  for(int i=0;i<l;i++){\n    if(b[i]==sample[i]) continue;\n    for(int j=i+1;j<l;j++)\n      if(b[j]!=b[i]){\n\tans+=j-i;\n\tswap(b[j],b[i]);\n\tbreak;\n      }\n  }\n  if(begin==3){\n    ans2=0;\n    for(int i=0;i<l;i++) sample[i]=!sample[i],b[i]=!b[i];\n    for(int i=0;i<l;i++){\n      if(b[i]==sample[i]) continue;\n      for(int j=i+1;j<l;j++){\n\tif(b[j]!=b[i]){\n\t  ans2+=j-i;\n\t  swap(b[j],b[i]);\n\t  break;\n\t}\n      }\n    }\n  }\n  cout<<min(ans,ans2)<<endl;\n  return 0;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <queue>\nusing namespace std;\nusing P = pair<int,int>;\nint main(){\n    int dist[1<<15];\n    fill(dist,dist+(1<<15),1000000000);\n    int N,M;\n    cin>>N>>M;\n    int start=0,goalA=0,goalB=0;\n    for(int i=0;i<N;i++){\n        int b;\n        cin>>b;\n        start<<=1;\n        start+=b;\n    }\n    for(int i=0;i<M;i++){\n        int p;\n        cin>>p;\n        for(int j=0;j<p;j++){\n            goalA<<=1;\n            goalA+=int(i%2==0);\n            goalB<<=1;\n            goalB+=int(i%2==1);\n        }\n    }\n    queue<P> Q;\n    Q.push(P(start,0));\n    dist[start]=0;\n    while(!Q.empty()){\n        int cur, cost;\n        tie(cur,cost)=Q.front(); Q.pop();\n        if(cur==goalA||cur==goalB){\n            cout<<cost<<endl;\n            return 0;\n        }\n        if(dist[cur]<cost) continue;\n        for(int i=0;i<N-1;i++){\n            if(((cur>>i)&1)==((cur>>(i+1))&1)) continue;\n            int next = cur^(3<<i);\n            if(dist[next]<=cost+1) continue;\n            dist[next]=cost+1;\n            Q.push(P(next,cost+1));\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <climits>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <queue>\n#include <random>\n#include <complex>\n#include <regex>\n\nusing namespace std;\n\n#define SHOW_VECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOW_MAP(v){std::cerr << #v << endl; for(const auto& xxx: v){std::cerr << xxx.first << \" \" << xxx.second << \"\\n\";}}\n\n\nint main() {\n\n    int N, M;\n    cin >> N >> M;\n\n    vector<int> b(N);\n    for (int i = 0; i < N; i++) cin >> b[i];\n\n    int WHITE = 0, BLACK = 0;\n    for (int i = 0; i < N; i++) {\n        if (b[i] == 0) WHITE++;\n        if (b[i] == 1) BLACK++;\n    }\n\n    vector<int> p(M);\n    for (int i = 0; i < M; i++) cin >> p[i];\n\n    vector<vector<int>> a(2, vector<int>());\n    for (int i = 0; i < 2; i++) {\n        for (int j = 0; j < M; j++) {\n            for (int k = 0; k < p[j]; k++) {\n                a[i].push_back((j + i) % 2);\n            }\n        }\n    }\n\n    int ans = INT_MAX;\n    for (int obeee = 0; obeee < 2; obeee++) {\n        auto d = a[obeee];\n        int w_count = 0, b_count = 0;\n        for (int j = 0; j < d.size(); j++) {\n            if (d[j] == 0) w_count++;\n            if (d[j] == 1) b_count++;\n        }\n        if (w_count != WHITE || b_count != BLACK) continue;\n\n        int sum = 0;\n        for (int i = 0; i < N; i++) {\n            if (b[i] != d[i]) {\n                int index;\n                for (int j = N - 1; j > i; j--) if (d[j] == b[i]) index = j;\n                for (int j = index; j > i; j--) sum++, swap(d[j - 1], d[j]);\n            }\n        }\n        ans = min(ans, sum);\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <queue>\n\nusing namespace std;\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  int N, M; cin >> N >> M;\n  vector<bool> b(N);\n  REP(i,N){\n\tint x; cin >> x;\n\tb[i] = !!x;\n  }\n\n  VI p(M); REP(i,M) cin >> p[i];\n\n  int ans = 123456789;\n  REP(x,2){\n\tint i = 0;\n\tbool init = !!(x % 2);\n\tvector<bool> t(N), orig = b;\n\tREP(k,M){\n\t  REP(j,p[k])\n\t\tt[i++] = init;\n\t  init = !init;\n\t}\n\tif(count(ALL(t), true) != count(ALL(orig), true)) continue;\n\n\tint cnt = 0;\n\tfor(int i=0;i<N;++i){\n\t  if(orig[i] != t[i]){\n\t\tint j = i;\n\t\twhile(orig[j] != t[i]) ++j;\n\t\tcnt += j - i;\n\t\tfor(;j>i;--j){\n\t\t  orig[j] = orig[j-1];\n\t\t  //orig[i] = t[i];\n\t\t}\n\t  }\n\t}\n\tans = min(ans, cnt);\n  }\n\n  cout << ans << endl;\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<math.h>\n#include<queue>\n#include<map>\nusing namespace std;\ntypedef pair<int,int> i_i;\n#define mp(a,b) make_pair(a,b)\nint main(){\n  int n,m;\n  cin >> n >> m;\n  int step[1<<15];\n  int inf = 1<<10;\n  fill(step,step+(1<<15),inf);\n  int i,j,k,c=0,b=0;\n  int in=0;\n  int o1=0,o2=0;\n  for(i=0;i<n;i++) {\n    cin >> k;\n    b+=k;\n    in=in<<1;\n    in+=k;\n  }\n  /*\n  for(i=n-1;i>=0;i--) cout << ((in>>i&1) ? 1:0);\n  cout << endl;\n  */\n  //step[in]=0;\n  for(i=0;i<m;i++) {\n    cin >> k;\n    o1=o1<<k;\n    o2=o2<<k;\n    if(i%2==0) {\n      b+=k;\n      o1+=pow(2,k)-1;\n    }else{\n      o2+=pow(2,k)-1;\n    }\n  }\n  /*\n  for(i=0;i<n;i++) cout << ((o1>>i&1) ? 1:0);\n  cout << endl;\n  for(i=0;i<n;i++) cout << ((o2>>i&1) ? 1:0);\n  cout << endl;\n  */\n\n  queue<i_i> q;\n  i_i x;\n  x.first=in;x.second=0;\n  q.push(x);\n  while(step[o1]==inf&&step[o2]==inf&&!q.empty()){\n    x=q.front();\n    q.pop();\n    /*\n    for(i=n-1;i>=0;i--) cout << ((x.first>>i&1) ? 1:0);\n    cout << endl;\n    */\n    if(step[x.first]>x.second){\n      step[x.first]=x.second;\n      for(i=n-1;i>0;i--){\n\tif((x.first>>i&1)==(x.first>>(i-1)&1)) continue;\n\tif((x.first>>i&1))\n\t  q.push(mp(x.first-pow(2,i)+pow(2,i-1),x.second+1));\n\telse\n\t  q.push(mp(x.first+pow(2,i)-pow(2,i-1),x.second+1));\n      }\n    }\n  }\n  \n  \n  cout << min(step[o1],step[o2]) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint solve(int bit1,int bit2,int n){\n\tvector<int> done(65536,1e9);\n\tqueue<int> Q;\n\tQ.push(bit1);\n\tdone[bit1] = 0;\n\twhile( Q.size() ){\n\t\tint q = Q.front(); Q.pop();\n\t\tfor(int i = 1 ; i < n ; i++){\n\t\t\tif( (q >> (i-1) & 3) == 0 ) continue;\n\t\t\tint nex = q^(3 << (i-1));\n\t\t\tif( done[nex] == 1e9 ){\n\t\t\t\tdone[nex] = done[q] + 1;\n\t\t\t\tQ.push(nex);\n\t\t\t}\n\t\t}\n\t}\n\treturn done[bit2];\n}\nint main(){\n\tint n,m;\n\tcin >> n >> m;\n\tint a = 0;\n\tfor(int i = 0 ; i < n ; i++){\n\t\tint t; cin >> t;\n\t\ta = 2*a + t;\n\t}\n\tint b = 0;\n\t\n\tint l = 0;\n\tfor(int i = 0 ; i < m ; i++){\n\t\tint t; cin >> t;\n\t\twhile(t--) b = b * 2 + (i&1);\n\t}\n\t\n\tcout << min( solve(a,b,n), solve(a,b^((1<<n)-1),n) ) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  Created by TaoSama on 2015-12-04\n//  Copyright (c) 2015 TaoSama. All rights reserved.\n//\n//#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <algorithm>\n#include <cctype>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <string>\n#include <set>\n#include <vector>\n\nusing namespace std;\n#define pr(x) cout << #x << \" = \" << x << \"  \"\n#define prln(x) cout << #x << \" = \" << x << endl\nconst int N = 1e5 + 10, INF = 0x3f3f3f3f, MOD = 1e9 + 7;\n\nint n, m;\nint a[20], b[20];\n\nint get() {\n    if(accumulate(a + 1, a + 1 + n, 0) != accumulate(b + 1, b + 1 + n, 0))\n        return INF;\n    int t[20]; memcpy(t, b, sizeof b);\n    int ret = 0;\n    for(int i = 1; i <= n; ++i) {\n        if(a[i] == t[i]) continue;\n        for(int j = i + 1; j <= n; ++j) {\n            if(t[j] == a[i]) {\n                while(j > i) {\n                    swap(t[j], t[j - 1]);\n                    --j; ++ret;\n                }\n                break;\n            }\n        }\n    }\n    return ret;\n}\n\nint calc() {\n    int ans1 = get();\n    for(int i = 1; i <= n; ++i) b[i] ^= 1;\n    int ans2 = get();\n    return min(ans1, ans2);\n}\n\nint main() {\n#ifdef LOCAL\n    freopen(\"C:\\\\Users\\\\TaoSama\\\\Desktop\\\\in.txt\", \"r\", stdin);\n//  freopen(\"C:\\\\Users\\\\TaoSama\\\\Desktop\\\\out.txt\",\"w\",stdout);\n#endif\n    ios_base::sync_with_stdio(0);\n\n    while(scanf(\"%d%d\", &n, &m) == 2) {\n        for(int i = 1; i <= n; ++i) scanf(\"%d\", a + i);\n        int idx = 1, v = 1;\n        while(m--) {\n            int x; scanf(\"%d\", &x);\n            while(x--) b[idx++] = v;\n            v ^= 1;\n        }\n        printf(\"%d\\n\", calc());\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<sstream>\n#include<utility>\n#include<map>\n#include<vector>\n#include<queue>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n//typedef pair<int,int>P;\n\nint N,M,P,r1,r2;\nvector<int>B,a1,a2;\n\nint ch(vector<int> o,vector<int> s)\n{\n\tint c=0,r=0;\n\tfor(int i=0;i<o.size();i++)\n\t\tif(o[i]!=s[i])c++;\n\tif(c%2)return 1000000;\n\tfor(int i=0;i<o.size();i++)\n\t{\n\t\tif(o[i]!=s[i])\n\t\t{\n\t\t\tfor(int j=i+1;j<o.size();j++)\n\t\t\t{\n\t\t\t\tif(o[j]!=s[j]&&o[i]!=o[j])\n\t\t\t\t{\n\t\t\t\t\tr+=j-i;\n\t\t\t\t\tswap(o[i],o[j]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn r;\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&N,&M);\n\tfor(int i=0;i<N;i++)\n\t{\n\t\tint t;\n\t\tscanf(\"%d\",&t);\n\t\tB.push_back(t);\n\t}\n\tfor(int i=0;i<M;i++)\n\t{\n\t\tscanf(\"%d\",&P);\n\t\tfor(int j=0;j<P;j++)\n\t\t{\n\t\t\ta1.push_back(i%2);\n\t\t\ta2.push_back((i+1)%2);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",min(ch(B,a1),ch(B,a2)));\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n  int N, M;\n  cin >> N >> M;\n  vector<int> bit[2];\n  for(int i = 0; i < N; i++){\n    int b; cin >> b;\n    bit[0].push_back(b);\n    bit[1].push_back(b);\n  }\n  vector<int> run[2];\n  for(int i = 0; i < M; i++){\n    int p; cin >> p;\n    for(int j = 0; j < p; j++)\n      run[0].push_back(i%2), run[1].push_back(!(i%2));    \n  }\n  int ans = 100;\n  for(int i = 0; i < 2; i++){\n    int cnt = 0;\n    for(int j = 0; j < N; j++){\n      if(bit[i][j] == run[i][j]) continue;\n      int pos = j;\n      while(pos < N && bit[i][j] == bit[i][pos]) pos++;\n      if(pos == N){ cnt = 100; break; }\n      for(int k = pos; k > j; k--) swap(bit[i][k], bit[i][k-1]), cnt++;      \n    }\n    ans = min(ans, cnt);\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\nusing namespace std;\n\nint main() {\n\n  long long int n, m;\n  cin >> n >> m;\n\n  vector< long long int > b;\n\n  long long int cnt_0 = 0;\n  long long int cnt_1 = 0;\n\n  for ( long long int i = 0; i < n; i++ ) {\n\n    long long int in;\n    cin >> in;\n    b.push_back( in );\n\n    if ( in == 0 ) cnt_0++;\n    if ( in == 1 ) cnt_1++;\n\n  }\n\n  vector< long long int > v0, v1;\n  long long int cnt_a = 0;\n  long long int cnt_b = 0;\n\n  for ( long long int i = 0; i < m; i++ ) {\n\n    long long int in;\n    cin >> in;\n\n    if ( ( i % 2 ) == 0 ) {\n      cnt_a += in;\n      for ( long long int j = 0; j < in; j++ ) {\n\tv0.push_back(0);\n\tv1.push_back(1);\n      }\n    }else {\n      cnt_b += in;\n      for ( long long int j = 0; j < in; j++ ) {\n\tv0.push_back(1);\n\tv1.push_back(0);\n      }\n    }\n\n  }\n\n  long long int ans = 100000000;\n\n  if ( cnt_0 == cnt_a ) {\n\n    long long int c = 0;\n    long long int k = 0;\n\n    for ( long long int i = 0; i < n; i++ ) {\n\n      if ( v0[i] == 1 ) continue;\n      while(1) {\n\tif ( b[k] == 0 ) {\n\t  c += abs( k - i );\n\t  break;\n\t}\n\tk++;\n      }\n      k++;\n\n    }\n\n    ans = min( ans, c );\n\n  }\n\n  if ( cnt_0 == cnt_b ) {\n\n    long long int c = 0;\n    long long int k = 0;\n\n    for ( long long int i = 0; i < n; i++ ) {\n\n      if ( v1[i] == 1 ) continue;\n      while(1) {\n\tif ( b[k] == 0 ) {\n\t  c += abs( k - i );\n\t  break;\n\t}\n\tk++;\n      }\n      k++;\n\n    }\n\n    ans = min( ans, c );\n\n  }\n\n  cout << ans << endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "     #include <bits/stdc++.h>\n\n//    #include <boost/multiprecision/cpp_int.hpp>\n #define int long long\n #define inf  1000000007\n #define pa pair<int,int>\n #define ll long long\n #define pal pair<double,double>\n #define ppap pair<pa,int>\n  #define PI 3.14159265358979323846\n  #define paa pair<int,char>\n  #define  mp make_pair\n  #define  pb push_back\n  #define EPS (1e-10)\n                                          \n    int dx[8]={0,1,0,-1,1,1,-1,-1};\n    int dy[8]={1,0,-1,0,-1,1,1,-1};\n                                            using namespace std;\n                                   \t\t\tclass pa3{\n                                            \tpublic:\n                                            \tint x,y,z;\n                                            \tpa3(int x=0,int y=0,int z=0):x(x),y(y),z(z) {}\n                                            \tbool operator < (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\t return z<p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                   \t\t\t\tbool operator > (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\t return z>p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa3 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z;\n                                            \t}\n                                            \t\tbool operator != (const pa3 &p) const{\n                                            \t\t\treturn !( x==p.x && y==p.y && z==p.z);\n                                            \t}\n                                            \n                                            };\n                                            \n                                            class pa4{\n                                            \tpublic:\n                                            \tint x;\n                                            \tint y,z,w;\n                                            \tpa4(int x=0,int y=0,int z=0,int w=0):x(x),y(y),z(z),w(w) {}\n                                            \tbool operator < (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\tif(z!=p.z)return z<p.z;\n                                            \t\treturn w<p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator > (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\tif(z!=p.z)return z>p.z;\n                                            \t\treturn w>p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa4 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z &&w==p.w;\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            class pa2{\n                                            \tpublic:\n                                            \tint x,y;\n                                            \tpa2(int x=0,int y=0):x(x),y(y) {}\n                                            \tpa2 operator + (pa2 p) {return pa2(x+p.x,y+p.y);}\n                                            \tpa2 operator - (pa2 p) {return pa2(x-p.x,y-p.y);}\n                                            \tbool operator < (const pa2 &p) const{\n                                            \t\treturn y != p.y ? y<p.y: x<p.x;\n                                            \t}\n                                            \tbool operator > (const pa2 &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa2 &p) const{\n                                            \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                            \t}\n                                            \tbool operator != (const pa2 &p) const{\n                                            \t\treturn !(abs(x-p.x)==0 && abs(y-p.y)==0);\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            \n/*\n                                            class Point{\n                                            \tpublic:\n                                            \tdouble x,y;\n                                            \tPoint(double x=0,double y=0):x(x),y(y) {}\n                                            \tPoint operator + (Point p) {return Point(x+p.x,y+p.y);}\n                                            \tPoint operator - (Point p) {return Point(x-p.x,y-p.y);}\n                                            \tPoint operator * (double a) {return Point(x*a,y*a);}\n                                            \tPoint operator / (double a) {return Point(x/a,y/a);}\n                                            \tdouble absv() {return sqrt(norm());}\n                                            \tdouble norm() {return x*x+y*y;}\n                                            \tbool operator < (const Point &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const Point &p) const{\n                                            \t\treturn fabs(x-p.x)<EPS && fabs(y-p.y)<EPS;\n                                            \t}\n                                            };\n                                            typedef Point Vector;\n                                     #define pl pair<int,pas>\n                                            struct Segment{\n                                            Point p1,p2;\n                                            };\n                                             double dot(Vector a,Vector b){\n                                            \treturn a.x*b.x+a.y*b.y;\n                                            }\n                                            double cross(Vector a,Vector b){\n                                            \treturn a.x*b.y-a.y*b.x;\n                                            }\n                                        \n                bool parareru(Point a,Point b,Point c,Point d){\n                //\tif(abs(cross(a-b,d-c))<EPS)cout<<\"dd \"<<cross(a-b,d-c)<<endl;\n                \treturn abs(cross(a-b,d-c))<EPS;\n                }\n                double distance_ls_p(Point a, Point b, Point c) {\n                  if ( dot(b-a, c-a) < EPS ) return (c-a).absv();\n                  if ( dot(a-b, c-b) < EPS ) return (c-b).absv();\n                  return abs(cross(b-a, c-a)) / (b-a).absv();\n                }\n                bool is_intersected_ls(Segment a,Segment b) {\n                \tif(a.p1==b.p1||a.p2==b.p1||a.p1==b.p2||a.p2==b.p2) return false;\n                \tif(parareru((a.p2),(a.p1),(a.p1),(b.p2))&&parareru((a.p2),(a.p1),(a.p1),(b.p1))){\n                //\t\tcout<<\"sss\"<<endl;\n                \t\tif(dot(a.p1-b.p1,a.p1-b.p2)<EPS) return true;\n                \t\tif(dot(a.p2-b.p1,a.p2-b.p2)<EPS) return true;\n                \t\tif(dot(a.p1-b.p1,a.p2-b.p1)<EPS) return true;\n                \t\tif(dot(a.p1-b.p2,a.p2-b.p2)<EPS) return true;\n                \t\treturn false;\n                \t}\n                  else return ( cross(a.p2-a.p1, b.p1-a.p1) * cross(a.p2-a.p1, b.p2-a.p1) < EPS ) && ( cross(b.p2-b.p1, a.p1-b.p1) * cross(b.p2-b.p1, a.p2-b.p1) < EPS );\n                }\n                 \n                double segment_dis(Segment a,Segment b){\n                \tif(is_intersected_ls(a,b))return 0;\n                \tdouble r=distance_ls_p(a.p1, a.p2, b.p1);\n                \tr=min(r,distance_ls_p(a.p1, a.p2, b.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p1));\n                \treturn r;\n                }\n                Point intersection_ls(Segment a, Segment b) {\n                  Point ba = b.p2-b.p1;\n                  double d1 = abs(cross(ba, a.p1-b.p1));\n                  double d2 = abs(cross(ba, a.p2-b.p1));\n                  double t = d1 / (d1 + d2);\n                 \n                  return a.p1 + (a.p2-a.p1) * t;\n                }\n */                \n                                string itos( int i ) {\n                                ostringstream s ;\n                                s << i ;\n                                return s.str() ;\n                                }\n                                 \n                                int gcd(int v,int b){\n                                \tif(v>b) return gcd(b,v);\n                                \tif(v==b) return b;\n                                \tif(b%v==0) return v;\n                                \treturn gcd(v,b%v);\n                                }\n                 \n                                double distans(double x1,double y1,double x2,double y2){\n                                \tdouble rr=(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);\n                                \treturn sqrt(rr);\n                                \t\n                                }\n                                int mod;\nint extgcd(int a, int b, int &x, int &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    int d = extgcd(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\n    \n                                \n                int pr[1000010];\n                int inv[1000010];\n                \n                int beki(int wa,int rr,int warukazu){\n                \tif(rr==0) return 1%warukazu;\n                \tif(rr==1) return wa%warukazu;\n                \twa%=warukazu;\n                \tif(rr%2==1) return ((ll)beki(wa,rr-1,warukazu)*(ll)wa)%warukazu;\n                \tll zx=beki(wa,rr/2,warukazu);\n                \treturn (zx*zx)%warukazu;\n                }\n    double bekid(double w,int r){\n    \tif(r==0) return 1.0;\n    \tif(r==1) return w;\n    \tif(r%2) return bekid(w,r-1)*w;\n    \tdouble f=bekid(w,r/2);\n    \treturn f*f;\n    }\n                \n    \t\t\tint comb(int nn,int rr){\n    \t\t\t\tint r=pr[nn]*inv[rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\tr*=inv[nn-rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\treturn r;\n    \t\t\t}\n                \n                void gya(int ert){\n                \tpr[0]=1;\n                \tfor(int i=1;i<ert;i++){\n                \t\tpr[i]=(pr[i-1]*i)%mod;\n                \t}\n                \tfor(int i=0;i<ert;i++) inv[i]=beki(pr[i],mod-2,mod);\n                \t\n                }\n                \n              //   cin.tie(0);\n    \t\t//\tios::sync_with_stdio(false);\n    \t\t\t//priority_queue<pa3,vector<pa3>,greater<pa3>> pq;            \n                 //sort(ve.begin(),ve.end(),greater<int>());\n    \n                                     //----------------kokomade tenpure------------\nint ch(vector<int> v1,vector<int> v2){\n\tint n=v1.size();\n\tint t1=0,t2=0;\n\tfor(int i=0;i<n;i++)t1+=v1[i],t2+=v2[i];\n\tif(t1!=t2)return inf;\n\t\n\tvector<int> ve1,ve2;\n\tfor(int i=0;i<n;i++)if(v1[i])ve1.pb(i);\n\tfor(int i=0;i<n;i++)if(v2[i])ve2.pb(i);\n\tint ans=0;\n\tint m=ve1.size();\n\tfor(int i=0;i<m;i++)ans+=abs(ve1[i]-ve2[i]);\n\treturn ans;\n}\n\n\n\n signed main(){\n\n  //  \t       cin.tie(0);\n  // \t\t\tios::sync_with_stdio(false);\n\n\n \t\nint n,m;\n \tcin>>n>>m;\n \tvector<int>ve,r;\n \tfor(int i= 0;i<n;i++){\n \t\tint y;\n \t\tcin>>y;\n \t\tve.pb(y);\n \t}\n \t\n \tfor(int i=0;i<m;i++){\n \t\tint y;\n \t\tcin>>y;\n \t\tfor(int j=0;j<y;j++)r.pb(i%2);\n \t}\n \tint ans=ch(ve,r);\n \tfor(int i=0;i<n;i++)r[i]^=1;\n \tans=min(ans,ch(ve,r));\n \tcout<<ans<<endl;\n \treturn 0;\n  }\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<numeric>\nusing namespace std;\n\nint calc(vector<int> a, vector<int> b){\n    int apos = 0, bpos = 0, ret = 0;\n    while(apos < a.size()){\n        while(a[apos] != 1) apos++;\n        while(b[bpos] != 1) bpos++;\n        ret += abs(bpos-apos);\n        apos++;\n        bpos++;\n    }\n    return ret;\n}\n\nint main(){\n    int n, m;\n    cin >> n >> m;\n\n    vector<int> b(n), p(m);\n    for(int i = 0; i < n; i++)  cin >> b[i];\n    for(int j = 0; j < m; j++)  cin >> p[j];\n\n    vector<int> c;\n    for(int j = 0; j < m; j++){\n        int add = (j % 2 == 0);\n        for(int k = 0; k < p[j]; k++)   c.push_back(add);\n    }\n\n    // sentinel\n    b.push_back(1);\n    c.push_back(1);\n\n    int one = accumulate(b.begin(), b.end(), 0);\n\n    int ans = 1<<21;\n    if(accumulate(c.begin(), c.end(), 0) == one){\n        ans = min(ans, calc(b, c));\n    }\n\n    for(int i = 0; i < n; i++)  c[i] = 1 - c[i];\n    if(accumulate(c.begin(), c.end(), 0) == one){\n        ans = min(ans, calc(b, c));\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<(int)(n); ++i)\nusing namespace std;\ntypedef long long LL;\nint score(vector<int> a, vector<int> b) {\n    int n = a.size();\n    vector<bool> used(n);\n    int ans = 0;\n    for(int i = 0; i < n; i++) {\n        vector<int> c;\n        int cnt = 0;\n        bool ok = false;\n        for(int j = 0; j < n; j++) if(!used[j]) {\n            if(b[j] == a[i]) {\n                used[j] = true;\n                ans += cnt;\n                ok = true;\n                break;\n            }\n            cnt ++;\n        }\n        if(!ok) return INT_MAX;\n    }\n    return ans;\n}\n\nint main(){\n    int n, m;\n    while(cin >> n >> m) {\n        vector<int> a(n);\n        REP(i, n) cin >> a[i];\n        vector<int> b0, b1;\n        REP(i, m) {\n            int t;\n            cin >> t;\n            REP(j, t) {\n                b0.push_back((i&1));\n                b1.push_back((i&1)^1);\n            }\n        }\n        cout << min(score(a, b0), score(a, b1)) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\n#include<queue>\nusing namespace std;\nint p[20];\nint q[20];\nint bfs[1<<15];\nint c[20];\nint main(){\n\tint a,b;scanf(\"%d%d\",&a,&b);\n\tint cnt=0;\n\tfor(int i=0;i<a;i++){\n\t\tscanf(\"%d\",p+i);\n\t\tif(p[i])cnt++;\n\t}\n\tfor(int i=0;i<b;i++)scanf(\"%d\",q+i);\n\tint L=0;\n\tint R=0;\n\tfor(int i=0;i<b;i+=2)R+=q[i];\n\tfor(int i=1;i<b;i+=2)L+=q[i];\n\tint ret=999999999;\n\tqueue<int>Q;\n\tfor(int i=0;i<(1<<a);i++)bfs[i]=-1;\n\tint st=0;\n\tfor(int i=0;i<a;i++){\n\t\tst+=(1<<i)*p[i];\n\t}\n\tbfs[st]=0;Q.push(st);\n\twhile(Q.size()){\n\t\tint at=Q.front();\n\t\tQ.pop();\n\t\tfor(int i=0;i<a-1;i++){\n\t\t\tint to=at;\n\t\t\tif(at&(1<<i)){to-=(1<<i);to+=(1<<(i+1));}\n\t\t\tif(at&(1<<(i+1))){to-=(1<<(i+1));to+=(1<<i);}\n\t\t\tif(!~bfs[to]){\n\t\t\t\tbfs[to]=bfs[at]+1;\n\t\t\t\tQ.push(to);\n\t\t\t}\n\t\t}\n\t}\n\tif(L==cnt){\n\t\tint sz=0;\n\t\tfor(int i=0;i<b;i++){\n\t\t\tfor(int j=0;j<q[i];j++)c[sz++]=i%2;\n\t\t}\n\t\tint at=0;\n\t\tfor(int i=0;i<a;i++)if(c[i])at+=(1<<i);\n\t\tret=min(ret,bfs[at]);\n\t\t//printf(\"%d: %d\\n\",at,bfs[at]);\n\t}\n\tif(R==cnt){\n\t\tint sz=0;\n\t\tfor(int i=0;i<b;i++){\n\t\t\tfor(int j=0;j<q[i];j++)c[sz++]=!(i%2);\n\t\t}\n\t\tint at=0;\n\t\tfor(int i=0;i<a;i++)if(c[i])at+=(1<<i);\n\t\tret=min(ret,bfs[at]);\n\t//\tprintf(\"%d: %d\\n\",at,bfs[at]);\n\t}\n\tprintf(\"%d\\n\",ret);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <cstdlib>\n#include <queue>\n#include <cstring>\n#include <set>\n#include <map>\n\nusing namespace std;\n\n#define FORU(i, l, r) for (int i = l; i <= r; ++i)\n#define FORD(i, r, l) for (int i = r; i >= l; --i)\n#define REPU(i, r) for (int i = 0; i < r; ++i)\n#define LL long long\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\n#define PINT pair < ll, int >\n#define BIT(x, i) ((x >> i) & 1)\n#define NUM_SET_BIT __builtin_popcountll\n\nint n, k, a[20], d[20], q[1 << 20], check[1 << 20];\n\nbool ok(int u) {\n    int c = 1, j = 1;\n    FORD(i, n - 2, 0) {\n        if (BIT(u, i) != BIT(u, i + 1)) {\n            if (j > k) return false;\n            if (c != d[j]) return false;\n            c = 0; ++j;\n        }\n        ++c;\n    }\n    if (j != k) return false;\n    if (c != d[j]) return false;\n    return true;\n}\n\nint main() {\n    cin >> n >> k;\n    FORU(i, 1, n) scanf(\"%d\", &a[i]);\n    FORU(i, 1, k) scanf(\"%d\", &d[i]);\n    reverse(a + 1, a + n + 1);\n    FORU(i, 1, n) q[1] += (a[i] << (i - 1));\n    \n    // BFS\n    int l = 1, r = 1;\n    check[q[1]] = 1;\n    while (l <= r) {\n        int u = q[l++];\n        if (ok(u)) { cout << check[u] - 1 << endl; return 0; }\n        FORU(i, 0, n - 2) {\n            auto j = i + 1;\n            auto bit_i = BIT(u, i);\n            auto bit_j = BIT(u, j);\n            auto v = u - \n                    (bit_i << i) - \n                    (bit_j << j) +\n                    (bit_i << j) +\n                    (bit_j << i);\n            if (check[v]) continue;\n            check[v] = check[u] + 1;\n            q[++r] = v;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n#include <complex>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n\ntypedef complex<double> Point;\nconst static double EPS = 1e-12;\n\nclass State {\npublic:\n  int bits;\n  int cost;\n  State(int bits,int cost) :\n    bits(bits), cost(cost) {}\n  bool operator<(const State& s) const {\n    return cost < s.cost;\n  }\n  bool operator>(const State& s) const {\n    return cost > s.cost;\n  }\n};\n\nint dp[1<<15];\n\nint main(){\n  int bit_length;\n  int run_length;\n  while(~scanf(\"%d %d\",&bit_length,&run_length)){\n    int init = 0;\n    for(int i = 0; i < bit_length; i++){\n      int bit;\n      scanf(\"%d\",&bit);\n      if(bit > 0) init |= (1<<i);\n    }\n    \n    vector<int> width;\n    for(int i = 0; i < run_length; i++){\n      int run;\n      scanf(\"%d\",&run);\n      width.push_back(run);\n    }\n\n    priority_queue<State,vector<State>,greater<State> > que;\n    que.push(State(init,0));\n    memset(dp,0x3f,sizeof(dp));\n    dp[init] = 0;\n\n    while(!que.empty()){\n      State s = que.top();\n      que.pop();\n      for(int i = 0; i + 1 < bit_length; i++){\n        int j = i + 1;\n        int next = s.bits;\n        if((s.bits & (1<<i)) && !(s.bits & (1<<j))){\n          next &= ~(1<<i);\n          next |= (1<<j);\n          if(dp[next] > s.cost + 1){\n            dp[next] = s.cost + 1;\n            que.push(State(next,s.cost + 1));\n          }\n        }\n        else if(!(s.bits & (1<<i)) && (s.bits & (1<<j))){\n          next &= ~(1<<j);\n          next |= (1<<i);\n          if(dp[next] > s.cost + 1){\n            dp[next] = s.cost + 1;\n            que.push(State(next,s.cost + 1));\n          }\n        }\n      }\n    }\n    \n    int res = INF;\n    for(int S = 0; S < (1<<bit_length); S++){\n      int offset = 0;\n      bool isok = true;\n      for(int i = 0; i < width.size(); i++){\n        if(offset > 0 && ((S >> offset) & 1) == ((S >> (offset-1)) & 1)){\n          isok = false;\n          break;\n        }\n        for(int j = offset; j + 1 < offset + width[i]; j++){\n          if(((S >> j) & 1) != ((S >> (j+1)) & 1)){\n            isok = false;\n            break;\n          }\n        }\n        offset += width[i];\n        if(!isok) break;\n      }\n\n      if(isok){\n        res = min(dp[S],res);\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\nusing namespace std;\nint solve(vector<int> a,vector<int> b){\n  if(a.size()!=b.size()) return 1048576;\n  SORT(a);\n  SORT(b);\n  int answer=0;\n  REP(i,a.size()) answer+=abs(a[i]-b[i]);\n  return answer;\n}\nint main(void)\n{\n  int n,m;\n  cin >> n >> m;\n  vector<int> bi(n),ru(m);\n  REP(i,n) cin >> bi[i];\n  REP(i,m) cin >> ru[i];\n  vector<int> bii,ru0i,ru1i;\n  REP(i,n) if(bi[i]) bii.push_back(i);\n  int tmp=0;\n  bool flag=true;\n  REP(i,m-1) ru[i+1]+=ru[i];\n  REP(i,m){\n    for(flag=!flag;tmp<ru[i];++tmp)\n      if(flag) ru0i.push_back(tmp);\n      else ru1i.push_back(tmp);\n  }\n  cout << min(solve(bii,ru0i),solve(bii,ru1i)) << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\nstruct st{\nint bit;\nint count;\n};\nint main() {\nint n,m;\n\tcin>>n>>m;\n\tint bit=0;\n\tREP(i,n){\n\tint shift;\n\tcin >> shift;\n\tbit |= shift << (n - i-1);\n\t}\n\tvector<int> ans(m);\n\tREP(i,m){\n\t\tcin>>ans[i];\n\t}\n\tint bit_ans=0;\n\tint bit_ans2;\n\tREP(i,m){\n\t\tREP(j, ans[i]){\n\t\t\tbit_ans <<=1;\n\t\t\tif (i % 2 == 0){\n\t\t\tbit_ans|=1;\n\t\t\t}\n\t\t\t\n\t}\n\t}\n\tbit_ans2=bit_ans^((1<<n)-1);\n\tint count=0;\n\tset<int> dp;\n\tdp.insert(bit);\n\tqueue<st> P;\n\tP.push({bit,0});\n\twhile (!P.empty()){\n\t\tst p = P.front(); P.pop();\n\t\tif (p.bit == bit_ans || p.bit == bit_ans2){\n\t\tcount=p.count;\n\t\tbreak;\n\t\t}\n\t\tREP(i,n-1){\n\t\t\tif ((p.bit >> i & 1 ) != (p.bit >> (i + 1) & 1)){\n\t\t\t\tint bitc = p.bit^3<<i;\n\t\t\t\tif (dp.find(bitc) == dp.end()){\n\t\t\t\t\tdp.insert(bitc);\n\t\t\t\t\tP.push({ bitc, p.count + 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<count<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef long long int lli;\n\nint main(){\n\tint n,m;\n\tcin >> n >> m;\n\tint b[15], p[15], a[15];\n\tfor(int i=0; i<n; i++){\n\t\tcin >> b[i];\n\t}\n\tfor(int i=0; i<m; i++){\n\t\tcin >> p[i];\n\t}\n\t\n\tint aidx=0;\n\tfor(int i=0; i<m; i++){\n\t\tfor(int j=0; j<p[i]; j++){\n\t\t\ta[aidx] = i%2;\n\t\t\taidx++;\n\t\t}\n\t}\n\t\n\tint ans = 1e9;\n\tfor(int i=0; i<2; i++){\n\t\tvector<vector<int> > st(2);\n\t\tfor(int j=0; j<n; j++){\n\t\t\tif(a[j]==i){\n\t\t\t\tst[0].push_back(j);\n\t\t\t}\n\t\t\tif(b[j]==1){\n\t\t\t\tst[1].push_back(j);\n\t\t\t}\n\t\t}\n\t\tif(st[0].size() != st[1].size()){\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tint count = 0;\n\t\tfor(int j=0; j<(int)st[0].size(); j++){\n\t\t\tcount += abs(st[0][j]-st[1][j]);\n\t\t}\n\t\tans = min(count, ans);\n\t}\n\t\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<queue>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\n\nint numSwap(vector<int> a,vector<int> b){\n\tint ret = 0;\n\tint x = 0;\n\tfor(int i=0;i<a.size();i++){\n\t\tif(a[i]){\n\t\t\tfor(int j=x;j<a.size();j++){\n\t\t\t\tif(b[j]){\n\t\t\t\t\tret += abs(i-j);\n\t\t\t\t\tx = j+1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\n\nint main(void){\n\tint N,M;\n\tcin >> N >> M;\n\tvector<int> b(N),p(M);\n\tint cnt = 0;\n\tfor(int i=0;i<N;i++){\n\t\tcin >> b[i];\n\t\tif(b[i])cnt++;\n\t}\n\tfor(int i=0;i<M;i++)\n\t\tcin >> p[i];\n\n\tvector<int> a1,a2;\n\tbool bit = 1;\n\tint cnt1=0,cnt2=0;\n\tfor(int i=0;i<M;i++){\n\t\tfor(int j=0;j<p[i];j++){\n\t\t\ta1.push_back(bit);\n\t\t\tcnt1 += bit;\n\t\t\ta2.push_back(!bit);\n\t\t\tcnt2 += (!bit);\n\t\t\t//cout << !bit << \" \";\n\t\t}\n\t\tbit = !bit;\n\t}\n/*\n\tfor(int i=0;i<a1.size();i++){\n\t\tcout << a1[i] << \" \";;\n\t}\n\tcout << endl;\n\tfor(int i=0;i<a2.size();i++){\n\t\tcout << a2[i] << \" \";;\n\t}\n\tcout << endl;\n*/\n\tif(cnt1 == cnt && cnt2 == cnt){\n\t\tcout << min(numSwap(a2,b),numSwap(a1,b)) << endl;\n\t}else if(cnt1 == cnt){\n\t\tcout << numSwap(a1,b) << endl;\n\t}else{\n\t\tcout << numSwap(a2,b) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\nint solve(int N, int b, int p) {\n    if (__builtin_popcount(b) != __builtin_popcount(p)) return 1 << 24;\n    int swp = 0;\n    for (int i = 0; i < N && b != p; ++i) {\n        if ((b >> i & 1) == (p >> i & 1)) continue;\n        for (int j = i + 1; j < N; ++j) {\n            if ((p >> i & 1) == (p >> j & 1)) continue;\n            swp += j - i;\n            p ^= 1 << i | 1 << j;\n            break;\n        }\n    }\n    return swp;\n}\n\nint main() {\n    int N, M; cin >> N >> M;\n    int b = 0, p = 0;\n    rep(i, N) {\n        int x; cin >> x;\n        b <<= 1;\n        b |= x;\n    }\n    rep(i, M) {\n        int l = 0; cin >> l;\n        p <<= l;\n        if (i & 1) p |= (1 << l) - 1;\n    }\n    cout << min(solve(N, b, p), solve(N, b, p ^ ((1 << N) - 1))) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n#include <iomanip>\n#include <fstream>\n#include <bitset>\n\nusing namespace std;\n\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\ntemplate <typename T> void print_container(ostream& os, const T& c) { const char* _s = \" \"; if (!c.empty()) { __typeof__(c.begin()) last = --c.end(); foreach (it, c) { os << *it; if (it != last) os << _s; } } }\ntemplate <typename T> ostream& operator<<(ostream& os, const vector<T>& c) { print_container(os, c); return os; }\ntemplate <typename T> ostream& operator<<(ostream& os, const set<T>& c) { print_container(os, c); return os; }\ntemplate <typename T> ostream& operator<<(ostream& os, const multiset<T>& c) { print_container(os, c); return os; }\ntemplate <typename T> ostream& operator<<(ostream& os, const deque<T>& c) { print_container(os, c); return os; }\ntemplate <typename T, typename U> ostream& operator<<(ostream& os, const map<T, U>& c) { print_container(os, c); return os; }\ntemplate <typename T, typename U> ostream& operator<<(ostream& os, const pair<T, U>& p) { os << \"(\" << p.first << \", \" << p.second << \")\"; return os; }\n\ntemplate <typename T> void print(T a, int n, const string& split = \" \") { for (int i = 0; i < n; i++) { cout << a[i]; if (i + 1 != n) cout << split; } cout << endl; }\ntemplate <typename T> void print2d(T a, int w, int h, int width = -1, int br = 0) { for (int i = 0; i < h; ++i) { for (int j = 0; j < w; ++j) { if (width != -1) cout.width(width); cout << a[i][j] << ' '; } cout << endl; } while (br--) cout << endl; }\ntemplate <typename T> void input(T& a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\n#define dump(v) (cerr << #v << \": \" << v << endl)\n\n#define rep(i, n) for (int i = 0; i < (int)(n); ++i)\n#define erep(i, n) for (int i = 0; i <= (int)(n); ++i)\n#define all(a) (a).begin(), (a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define clr(a, x) memset(a, x, sizeof(a))\n#define sz(a) ((int)(a).size())\n#define mp(a, b) make_pair(a, b)\n#define ten(n) ((long long)(1e##n))\n\ntemplate <typename T, typename U> void upmin(T& a, const U& b) { a = min<T>(a, b); }\ntemplate <typename T, typename U> void upmax(T& a, const U& b) { a = max<T>(a, b); }\ntemplate <typename T> void uniq(T& a) { sort(a.begin(), a.end()); a.erase(unique(a.begin(), a.end()), a.end()); }\ntemplate <class T> string to_s(const T& a) { ostringstream os; os << a; return os.str(); }\ntemplate <class T> T to_T(const string& s) { istringstream is(s); T res; is >> res; return res; }\nvoid fast_io() { cin.tie(0); ios::sync_with_stdio(false); }\nbool in_rect(int x, int y, int w, int h) { return 0 <= x && x < w && 0 <= y && y < h; }\n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\n\n\n\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n    vector<int> b(n);\n    input(b, n);\n    vector<int> p(m);\n    input(p, m);\n\n    map<vector<int>, int> dp;\n    dp[b] = 0;\n    queue<vector<int>> q;\n    q.push(b);\n    while (!q.empty())\n    {\n        auto  a = q.front();\n        q.pop();\n\n        int nc = dp[a] + 1;\n\n        rep(i, n - 1)\n        {\n            auto na = a;\n            swap(na[i], na[i + 1]);\n            if (!dp.count(na))\n            {\n                dp[na] = nc;\n                q.push(na);\n            }\n        }\n    }\n\n    vector<int> z, o;\n    rep(i, m)\n    {\n        rep(j, p[i])\n        {\n            z.push_back(i % 2);\n            o.push_back(z.back() ^ 1);\n        }\n    }\n\n    int res = ten(9);\n    if (dp.count(z))\n        upmin(res, dp[z]);\n    if (dp.count(o))\n        upmin(res, dp[o]);\n    cout << res << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\nusing namespace std;\nint main()\n{\n\tint n,m;\n\n\tint bit[20];\n\tint run[20],use[20];\n\tint tmp[20];\n\tint flag;\n\tint ans,tans;\n\tbool fail;\n\n\tscanf(\"%d %d\",&n,&m);\n\tfor(int i=0; i<n; i++)\n\t\tscanf(\"%d\",&bit[i]);\n\tfor(int i=0; i<m; i++)\n\t\tscanf(\"%d\",&run[i]);\n\tfor(int i=0; i<n; i++)\n\t\ttmp[i]=bit[i];\n\tans=10000;\n\tint k;\n\tfor(int i=0; i<m; i++)\n\t\tuse[i]=0;\n\tflag=0;\n\tk=0;\n\ttans=0;\n\tfail=true;\n\tfor(int i=0; i<n; i++){\n\t\tif(k==m){\n\t\t\tfail=false;\n\t\t\tbreak;\n\t\t}\n\t\tfail=false;\n\t\tfor(int j=i; j<n; j++)\n\t\t\tif(tmp[j]==flag){\n\t\t\t\tfail=true;\n\t\t\t\ttans+=j-i;\n\t\t\t\tswap(tmp[i],tmp[j]);\n\t\t\t\tuse[k]++;\n\t\t\t\tif(use[k]==run[k])\n\t\t\t\t\tk++,flag^=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(fail==false)\n\t\t\tbreak;\n\n\t}\n\tif(fail && tans<ans){\n\t\tans=tans;\n\t}\n\tfor(int i=0; i<m; i++)\n\t\tuse[i]=0;\n\tfor(int i=0; i<n; i++)\n\t\ttmp[i]=bit[i];\n\tflag=1;\n\tk=0;\n\ttans=0;\n\tfail=true;\n\tfor(int i=0; i<n; i++){\n\t\tif(k==m){\n\t\t\tfail=false;\n\t\t\tbreak;\n\t\t}\n\t\tfail=false;\n\t\tfor(int j=i; j<n; j++)\n\t\t\tif(tmp[j]==flag){\n\t\t\t\tfail=true;\n\t\t\t\tswap(tmp[i],tmp[j]);\n\t\t\t\ttans+=j-i;\n\t\t\t\tuse[k]++;\n\t\t\t\tif(use[k]==run[k])\n\t\t\t\t\tk++,flag^=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(fail==false)\n\t\t\tbreak;\n\t}\n\tif(fail && tans<ans)\n\t\tans=tans;\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <algorithm>\n#include <iomanip>\n#include <queue>\nusing ll = long long;\nusing namespace std;\n\nint b[2], p[20];\nint bb[20]; //もとの数列\nint const MOD = 1e9 + 7;\nint main(void)\n{\n    int N, M;\n    cin >> N >> M;\n\n    vector<int> ori1, s1, t1;\n    string ori = \"\";\n    for (int i = 0; i < N; ++i)\n    {\n        char s;\n        cin >> s;\n        ori += s;\n        b[s - '0']++;\n        if (s == '1')\n        {\n            ori1.push_back(i);\n        }\n    }\n    if (ori1.size() == 1)\n    {\n        cout << 0 << endl;\n        return 0;\n    }\n    int even = 0, odd = 0;\n    for (int i = 0; i < M; ++i)\n    {\n        cin >> p[i];\n        if (i % 2 == 0)\n            even += p[i];\n        else\n            odd += p[i];\n    }\n\n    //b[0]は0の個数, b[1]は1の個数\n    //0が偶数番目に並ぶとき\n    string s = \"\", t = \"\";\n\n    if (b[0] == b[1])\n    {\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '0';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '1';\n                }\n            }\n        }\n\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    t += '1';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    t += '0';\n                }\n            }\n        }\n        for (int i = 0; i < N; ++i)\n        {\n            if (s[i] == '1')\n            {\n                s1.push_back(i);\n            }\n            else\n            {\n                t1.push_back(i);\n            }\n        }\n        int ans = 0, ans1 = 0;\n        for (int i = 0; i < ori1.size(); ++i)\n        {\n            ans += abs(ori1[i] - s1[i]);\n            ans1 += abs(ori1[i] - t1[i]);\n        }\n        cout << min(ans, ans1) << endl;\n        return 0;\n    }\n    else if (b[0] == even)\n    {\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '0';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '1';\n                }\n            }\n        }\n        for (int i = 0; i < N; ++i)\n        {\n            if (s[i] == '1')\n            {\n                s1.push_back(i);\n            }\n        }\n        int ans = 0;\n        for (int i = 0; i < ori1.size(); ++i)\n        {\n            ans += abs(ori1[i] - s1[i]);\n        }\n        cout << ans << endl;\n        return 0;\n    }\n    else\n    {\n        for (int i = 0; i < M; ++i)\n        {\n            if (i % 2 == 0)\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '1';\n                }\n            }\n            else\n            {\n                for (int j = 0; j < p[i]; ++j)\n                {\n                    s += '0';\n                }\n            }\n        }\n        for (int i = 0; i < N; ++i)\n        {\n            if (s[i] == '1')\n            {\n                s1.push_back(i);\n            }\n        }\n        int ans = 0;\n        for (int i = 0; i < ori1.size(); ++i)\n        {\n            ans += abs(ori1[i] - s1[i]);\n        }\n        cout << ans << endl;\n        return 0;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <climits>\n#include <ctime>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <set>\n#include <map>\n#include <iostream>\n#include <deque>\n#include <complex>\n#include <string>\n#include <iomanip>\n#include <sstream>\n#include <bitset>\n#include <valarray>\n#include <iterator>\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned int uint;\ntypedef unsigned char uchar;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\n#define REP(i,x) for(int i=0;i<(int)(x);i++)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();i++)\n#define RREP(i,x) for(int i=((int)(x)-1);i>=0;i--)\n#define RFOR(i,c) for(__typeof((c).rbegin())i=(c).rbegin();i!=(c).rend();i++)\n#define ALL(container) container.begin(), container.end()\n#define RALL(container) container.rbegin(), container.rend()\n#define SZ(container) ((int)container.size())\n#define mp(a,b) make_pair(a, b)\n#define UNIQUE(v) v.erase( unique(v.begin(), v.end()), v.end() );\n\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"[\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"]\"; return os;\n}\ntemplate<class T> ostream& operator<<(ostream &os, const set<T> &t) {\nos<<\"{\"; FOR(it,t) {if(it!=t.begin()) os<<\",\"; os<<*it;} os<<\"}\"; return os;\n}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\n\nconst int INF = 1<<28;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\n\n\nint n, m;\n\nint dist(vi &s, vi &t){\n\tint q=count(ALL(s), 1);\n\tint j=0,k=0;\n\tint res = 0;\n\tREP(i, q){\n\t\twhile(!s[j++]);\n\t\twhile(!t[k++]);\n\t\tres += abs(j-k);\n\t}\n\treturn res;\n}\n\nmain(){\n\tios::sync_with_stdio(false);\n\tcin >> n >> m;\n\tvi d(n), e(m);\n\tREP(i, n) cin >> d[i];\n\tREP(i, m) cin >> e[i];\n\tint ans = INF;\n\tREP(k, 2){\n\t\tvi tar;\n\t\tint t=k;\n\t\tFOR(it, e){\n\t\t\tREP(i, *it) tar.push_back(t);\n\t\t\tt=!t;\n\t\t}\n\t\tif(count(ALL(tar), 0) != count(ALL(d), 0)) continue;\n\t\tans = min(ans, dist(d, tar));\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n\nint N, M, b[15], p[15], p1[15], p2[15];\n\nvoid solve() {\n\tint ii = 0, v = 0;\n\tfor_(i,0,M) {\n\t\tfor_(j,0,p[i]) {\n\t\t\tp1[ii] = v;\n\t\t\tp2[ii++] = 1 - v;\n\t\t}\n\t\tv = 1 - v;\n\t}\n\t\n\tint cnt = 0, cnt1 = 0, cnt2 = 0;\n\tfor_(i,0,N) { cnt += b[i]; cnt1 += p1[i]; cnt2 += p2[i]; }\n\tbool f1 = cnt == cnt1, f2 = cnt == cnt2;\t\n\t\n\tint ans1 = 0, ans2 = 0, j1 = 0, j2 = 0;\n\tfor_(i,0,N) {\n\t\tif (b[i]) {\n\t\t\tif (f1) {\n\t\t\t\twhile (!p1[j1]) ++j1;\n\t\t\t\tans1 += abs(j1 - i);\n\t\t\t}\n\t\t\tif (f2) {\n\t\t\t\twhile (!p2[j2]) ++j2;\n\t\t\t\tans2 += abs(j2 - i);\n\t\t\t}\n\t\t\t++j1, ++j2;\n\t\t}\n\t}\n\t\n\tcout << min(f1 ? ans1 : 20, f2 ? ans2 : 20) << endl;\n}\n\nint main() {\n\tcin >> N >> M;\n\tfor_(i,0,N) cin >> b[i];\n\tfor_(i,0,M) cin >> p[i];\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cctype>\n#include <limits.h>\n#include <math.h>\n#include <complex>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iomanip>\n#include <iostream>\n\n#define VARIABLE(x) cerr << #x << \"=\" << x << endl\n#define BINARY(x) static_cast<bitset<16> >(x)\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define REP(i,m,n) for (int i=m;i<(int)(n);i++)\n#define if_range(x, y, w, h) if (0<=(int)(x) && (int)(x)<(int)(w) && 0<=(int)(y) && (int)(y)<(int)(h))\n\nconst int INF = 1e9;\nconst double EPS = 1e-8;\nconst double PI = 3.14159;\nint dx[4]={0, 1, 0, -1}, dy[4]={-1, 0, 1, 0};\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n/* struct P {\n\tint x, y, n;\n\tP(int n, int x, int y):n(n), x(x), y(y){}\n\tP(){}\n}; */\n\n\n/** Problem1345 : Bit String Reordering**/\nint main()\n{\n\tint N, M;\n\tcin>>N>>M;\n\tvector<int> target(N), r(M);\n\trep(i, N) cin>>target[i];\n\trep(i, M) cin>>r[i];\n\n\tint tZero = 0;\n\tfor (int i=0; i<N; i++)\n\t\tif (target[i]==0) tZero++;\n\t\n\tint ans=INF;\n\tfor (int k=0; k<2; k++) {\n\t\tvector<int> R(N);\n\t\t\n\t\tint idx=0, nZero=0;\n\t\tbool tone=k;\n\t\tfor (int i=0; i<M; i++) {\n\t\t\tfor (int j=0; j<r[i]; j++) {\n\t\t\t\tR[idx++] = tone;\n\t\t\t\tif (!tone) nZero++;\n\t\t\t}\n\t\t\ttone = !tone;\n\t\t}\n\t\t\n\t\tif (tZero != nZero) continue;\n\t\t\n\t\tint tans = 0;\n\t\tfor (int i=0; i<N; i++) {\n\t\t\tif (target[i] != R[i]) {\n\t\t\t\tfor (int j=i+1; j<N; j++) {\n\t\t\t\t\tif (target[i] == R[j]) {\n\t\t\t\t\t\tfor (int jj=j; jj>=i+1; jj--) {\n\t\t\t\t\t\t\tswap(R[jj-1], R[jj]);\n\t\t\t\t\t\t\ttans++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tans = min(ans, tans);\n\t}\n\t\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nusing ll = long long;\nusing pii = pair<int, int>;\n\ntemplate <typename T>\nvector<T> dijkstra(int s, vector<vector<pair<int, T>>>& G, T INF) {\n  using P = pair<T, int>;\n  int n = G.size();\n  vector<T> d(n, INF);\n  priority_queue<P, vector<P>, greater<P>> que;\n  d[s] = 0;\n  que.emplace(0, s);\n  while (que.size()) {\n    P p = que.top(); que.pop();\n    int u = p.second;\n    if (d[u] < p.first) continue;\n    for (auto& e : G[u]) {\n      int v = e.first;\n      if (d[v] <= d[u] + e.second) continue;\n      d[v] = d[u] + e.second;\n      que.emplace(d[v], v);\n    }\n  }\n  return d;\n}\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n  \n  int n, m;\n  cin >> n >> m;\n\n  vector<int> b(n), p(m);\n  int one = 0, sum = 0, s = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> b[i];\n    one += b[i];\n    s += (b[i] << (n - i - 1));\n  }\n  for (int i = 0; i < m; i++) {\n    cin >> p[i];\n    if ((i & 1) == 0) sum += p[i];\n  }\n\n  vector<int> goal;\n  if (one == sum) {\n    int g = 0, shift = n - 1;\n    for (int i = 0; i < m; i++) {\n      if ((i & 1) == 0) for (int j = 0; j < p[i]; j++) g |= 1 << (shift - j);\n      shift -= p[i];\n    }\n    goal.emplace_back(g);\n  }\n  if (n - one == sum) {\n    int g = 0, shift = n - 1;\n    for (int i = 0; i < m; i++) {\n      if ((i & 1) != 0) for (int j = 0; j < p[i]; j++) g |= 1 << (shift - j);\n      shift -= p[i];\n    }\n    goal.emplace_back(g);\n  }\n\n  vector<vector<pii>> G(1 << n);\n  for (int i = 0; i < 1 << n; i++) {\n    if (__builtin_popcount(i) != one) continue;\n    for (int j = 1; j < n; j++) {\n      if (((i >> (j - 1)) & 1) ^ ((i >> j) & 1)) {\n        int to = i, l = (to >> j) & 1, r = (to >> (j - 1)) & 1;\n        to -= (1 << j) * l + (1 << (j - 1)) * r;\n        to += (1 << j) * r + (1 << (j - 1)) * l;\n        G[i].emplace_back(to, 1);\n      }\n    }\n  }\n\n  auto dis = dijkstra(s, G, 1 << 30);\n  int ans = 1 << 30;\n  for (int i = 0; i < goal.size(); i++) ans = min(ans, dis[goal[i]]);\n  cout << ans << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <fstream>\nusing namespace std;\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v; }\ntemplate<class T> inline string toStr(T x) { ostringstream sout; sout << x; return sout.str(); }\ntypedef vector<int> vi;\ntypedef vector<vi>  vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define FOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define REP(i,n) FOR(i,0,(n)-1)\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nconst int INF = INT_MAX / 10;\n\nvoid show(vi b) {\n\tREP(i, b.size()) {\n\t\tcout << b[i] << \" \";\n\t}\n\tcout << endl;\n}\n\nint main() {\n\tint N, M;\n\tcin >> N >> M;\n\tvi b(N), p(M);\n\tREP(i, N) {\n\t\tcin >> b[i];\n\t}\n\tREP(i, M) {\n\t\tcin >> p[i];\n\t}\n\tFOR(i, 1, M - 1) {\n\t\tp[i] += p[i - 1];\n\t}\n\n\tint ans = INF;\n\tREP(i, 2) {\n\t\tint pp = 0, st = i, step = 0;\n\t\tvi bb(b);\n\t\tREP(j, N) {\n\t\t\tif (j == p[pp]) {\n\t\t\t\tpp++;\n\t\t\t\tst = (st + 1) % 2;\n\t\t\t}\n\t\t\tif (bb[j] != st) {\n\t\t\t\tFOR(l, j, N) {\n\t\t\t\t\tif (l == N) {\n\t\t\t\t\t\tgoto next;\n\t\t\t\t\t}\n\t\t\t\t\tif (bb[l] == st) {\n\t\t\t\t\t\tswap(bb[j], bb[l]);\n\t\t\t\t\t\tstep += l - j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//show(bb);\n\t\t}\n\t\tans = min(ans, step);\n\tnext:;\n\t}\n\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i,n) for(int i=0; i<n; i++)\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector< vector<int> > vvi;\n\nint n, m;\nint b[15];\nint p[15];\nint pb[15];\n\nint solve() {\n\tint res = 0;\n\trep(i, n) {\n\t\tif(b[i] != pb[i]) {\n\t\t\tfor(int j=i+1; j<n; j++) {\n\t\t\t\tif( b[j] == pb[i] ) {\n\t\t\t\t\tres += j - i;\n\t\t\t\t\tb[j] = 1 - b[j];\n\t\t\t\t\tb[i] = 1 - b[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nvoid create_pb(int num) {\n\tint k = 0;\n\trep(i, m) {\n\t\trep(j, p[i]) {\n\t\t\tpb[k] = num;\n\t\t\tk++;\n\t\t}\n\t\tnum = 1 - num;\n\t}\n}\n\nint main() {\n\tcin >> n >> m;\n\trep(i, n) cin >> b[i];\n\trep(i, m) cin >> p[i];\n\tint odd=0, even=0, cnt0=0, cnt1=0;\n\trep(i, n) {\n\t\tif(b[i]) cnt1++;\n\t\telse cnt0++;\n\t}\n\trep(i, m) {\n\t\tif(i%2) odd += p[i];\n\t\telse    even += p[i];\n\t}\n\tint mini = 10000;\n\tif(odd==cnt0 && even==cnt1) {\n\t\tcreate_pb(1);\n\t\tint tmp[15];\n\t\trep(i,n) tmp[i] = p[i];\n\t\tmini = min(mini, solve());\n\t\trep(i,n) p[i] = tmp[i];\n\t}\n\tif(even==cnt0 && odd==cnt1) {\n\t\tcreate_pb(0);\n\t\tmini = min(mini, solve());\n\t}\n\tcout << mini << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#define __USE_MINGW_ANSI_STDIO 0\n#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL << 30)\n#define LLINF (1LL << 60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nint a[20], acnt[2], aa[20], b[20], bcnt[2], p[20], c[20], ccnt[2];\nsigned main(void) {\n  int n, m;\n  cin >> n >> m;\n  REP(i, n) {\n    cin >> a[i];\n\t\taa[i] = a[i];\n    acnt[a[i]]++;\n  }\n  REP(i, m) cin >> p[i];\n\n\tint cnt = 0, t1 = 0, t2 = 1;\n  REP(i, m) {\n    REP(j, p[i]) {\n\t\t\t//cout << cnt << \" \" << t1 << \" \" << t2 << endl;\n      b[cnt] = t1;\n      c[cnt] = t2;\n      cnt++;\n      bcnt[t1]++;\n      ccnt[t2]++;\n    }\n    swap(t1, t2);\n  }\n\n\t//REP(i, n) cout << b[i] << \" \"; cout << endl;\n\t//REP(i, n) cout << c[i] << \" \"; cout << endl;\n\n  int ret1 = INF;\n  if (bcnt[0] == acnt[0] && bcnt[1] == acnt[1]) {\n\t\tret1 = 0;\n    REP(i, n) {\n      if (aa[i] != b[i]) {\n        int idx = i;\n        while (aa[idx] == aa[i])\n          idx++;\n        for (int j = idx; j > i; --j) {\n          swap(aa[j], aa[j - 1]);\n          ret1++;\n        }\n      }\n    }\n  }\n\n\tint ret2 = INF;\n\tif (ccnt[0] == acnt[0] && ccnt[1] == acnt[1]) {\n\t\tret2 = 0;\n    REP(i, n) {\n      if (a[i] != c[i]) {\n        int idx = i;\n        while (a[idx] == a[i])\n          idx++;\n        for (int j = idx; j > i; --j) {\n          swap(a[j], a[j - 1]);\n          ret2++;\n        }\n      }\n    }\n  }\n\t//REP(i, n) cout << aa[i] << \" \"; cout << endl;\n\t//REP(i, n) cout << a[i] << \" \"; cout << endl;\n\n\t//cout << ret1 << \" \" << ret2 << endl;\n\tcout << min(ret1, ret2) << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint judge(int i)\n{\n\tint sum=0;\n\twhile(i)\n\t{\n\t\tif(i&1)sum++;\n\t\ti>>=1;\n\t}\n\treturn sum;\n}\n\nint res(int a,int b,int c)\n{\n\tint x=(a&(1<<b)),y=(a&(1<<c));\n\tif((x&&y)||((!x)&&(!y)))return a;\n\tif(x)\n\t{\n\t\ta^=1<<b;\n\t\ta|=1<<c;\n\t}\n\telse\n\t{\n\t\ta^=1<<c;\n\t\ta|=1<<b;\n\t}\n\treturn a;\n}\n\nint f[70000];\n\nint n,m;\n\nvoid print(int deep,int x)\n{\n\tif(deep==n+1)return;\n\tprint(deep+1,x>>1);\n\tprintf(\"%d\",x&1);\n}\n\nint a1[20],a2[20]; \n\nint main(void)\n{\n\tint x=0,count;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint y;scanf(\"%d\",&y);\n\t\tx=(x|y)<<1;\n\t}\n\tx>>=1;\t\n\tcount=judge(x);\n\tint a=0,b=0;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tint y;\n\t\tscanf(\"%d\",&y);\n\t\tfor(int j=0;j<y;j++)\n\t\tif(i&1)\n\t\t{\n\t\t\ta=(a+1)*2;\n\t\t\tb*=2;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tb=(b+1)*2;\n\t\t\ta*=2;\n\t\t}\n\t}\n\n\ta>>=1;b>>=1;\n\tint y,top1,top2,ans1=0xffffff,ans2=0xffffff;\n\tif(judge(x)==judge(a))\n\t{\t\n\t\ty=a;top1=0,top2=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tif((x^y)&(1<<i))\n\t\t{\n\t\t\tif(y&(1<<i))a1[top1++]=i;\n\t\t\telse a2[top2++]=i;\n\t\t}\n\t\tans1=0;\n\t\tfor(int i=0;i<top1;i++)\n\t\t{\n\t\t\tans1+=abs(a1[i]-a2[i]);\n\t\t}\n\t}\n\tif(judge(x)==judge(b))\n\t{\n\t\ty=b;top1=0,top2=0;\n\t\tfor(int i=0;i<n;i++)\n\t\tif((x^y)&(1<<i))\n\t\t{\n\t\t\tif(y&(1<<i))a1[top1++]=i;\n\t\t\telse a2[top2++]=i;\n\t\t}\n\t\tans2=0;\n\t\tfor(int i=0;i<top1;i++)\n\t\t{\n\t\t\tans2+=abs(a1[i]-a2[i]);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",min(ans1,ans2));\n\t/*\n\tint ans=0,flag=0;\n\tf[x]=2;\n\twhile(true)\n\t{\n\t\tflag=0;\n\t\tfor(int i=0;i<((1<<n)-1);i++)\n\t\tif(f[i]==2)\n\t\tfor(int j=0;j<n;j++)\n\t\tfor(int k=j+1;k<n;k++)\n\t\tif(f[res(i,j,k)]==0)\n\t\t{\n\t\t\tflag=1;\n\t\t\tint x;\n\t\t\tf[x=res(i,j,k)]=1;\n\t\t\tprint(1,x);printf(\"\\n\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t\tans++;\n\t\tfor(int i=0;i<0xffff;i++)if(f[i]==1)f[i]=2;\n\t\tif(f[a]||f[b]){break;}\n\t\tif(flag==0){ans=-1;break;}\n\t}*/\n\t//\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n/*\n6 3\n1 0 0 1 0 1\n1 3 2\n\n\n*/"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cstring>\n#include <climits>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n \ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n \nint MOD = 1000000007;\n\nint calc(vector<int>& v, vector<int>& w) {\n\tif (v.size() != w.size()) return INT_MAX;\n\tint res = 0;\n\tfor (int i = 0; i < v.size(); i++)\n\t\tres += abs(v[i] - w[i]);\n\treturn res;\n}\n\nint main() {\n\tint N, M; cin >> N >> M;\n\tvector<int> v;\n\tfor (int i = 0; i < N; i++) {\n\t\tint b; cin >> b;\n\t\tif (b) v.push_back(i);\n\t}\n\tvector<int> w1, w2;\n\tint i = 0; bool flag = false;\n\twhile (M--) {\n\t\tint p; cin >> p;\n\t\twhile (p--) {\n\t\t\tif (flag) w1.push_back(i);\n\t\t\telse w2.push_back(i);\n\t\t\ti++;\n\t\t}\n\t\tflag = !flag;\n\t}\n\tcout << min(calc(v, w1), calc(v, w2)) << endl;;\n} "
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"unordered_set\"\n#include \"iomanip\"\n#include \"cmath\"\n#include \"random\"\n#include \"bitset\"\n#include \"cstdio\"\n#include \"numeric\"\n#include \"cassert\"\n#include \"ctime\"\n\nusing namespace std;\n\nconstexpr long long int MOD = 1000000007;\n//constexpr int MOD = 1000000007;\n//constexpr int MOD = 998244353;\n//constexpr long long int MOD = 998244353;\nconstexpr double EPS = 1e-12;\n\n//int N, M, K, T, H, W, L, R;\nlong long int N, M, K, T, H, W, L, R;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tcin >> N >> M;\n\tvector<int>v(N);\n\tfor (auto &i : v)cin >> i;\n\tvector<int>w(M);\n\tfor (auto &i : w)cin >> i;\n\tvector<int>dp(1 << N, MOD);\n\tint a = 0, b = 0;\n\tfor (int i = 0; i < M; i++) {\n\t\tfor (int j = 0; j < w[i]; j++) {\n\t\t\ta <<= 1, b <<= 1;\n\t\t\tif (i & 1)a++;\n\t\t\telse b++;\n\t\t}\n\t}\n\tdp[a] = 0;\n\tdp[b] = 0;\n\tqueue<int>Q;\n\tQ.push(a);\n\tQ.push(b);\n\twhile (!Q.empty()) {\n\t\tint cn = Q.front();\n\t\tQ.pop();\n\t\tfor (int i = 1; i < N; i++) {\n\t\t\tif ((cn >> i) % 2 == (cn >> (i - 1)) % 2)continue;\n\t\t\tint nx = cn ^ ((1 << i) | (1 << (i - 1)));\n\t\t\tif (dp[nx] > dp[cn] + 1) {\n\t\t\t\tdp[nx] = dp[cn] + 1;\n\t\t\t\tQ.push(nx);\n\t\t\t}\n\t\t}\n\t}\n\tint ans = 0;\n\tfor (auto i : v) {\n\t\tans <<= 1;\n\t\tans += i;\n\t}\n\tcout << dp[ans] << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main()\n{\n  int N,M,b,n=0,b1[20],b2[20],b3[20],p[20],s1[20],s2[20];\n  int c1=10000000,c2=10000000,c=0;\n  cin>>N>>M;\n  for(int i=0;i<N;i++){\n    cin>>b;\n    b1[i]=b2[i]=b;\n    if(b==1)n++;\n  }\n  for(int i=0;i<M;i++)cin>>p[i];\n  for(int i=1;i<M;i++)p[i]+=p[i-1];\n  \n  for(int i=0;i<p[0];i++)s1[i]=0;\n  for(int i=1;i<M;i++){\n    for(int j=p[i-1];j<p[i];j++)s1[j]=i%2;\n  }\n  for(int i=0;i<p[0];i++)s2[i]=1;\n  for(int i=1;i<M;i++){\n    for(int j=p[i-1];j<p[i];j++)s2[j]=(i+1)%2;\n  }\n\n  for(int i=0;i<N;i++)if(s1[i]==1)c++;\n  if(c==n){\n    c1=0;\n    for(int i=0;i<N;i++){\n      if(b1[i]!=s1[i]){\n\tfor(int j=i+1;j<N;j++){\n\t  if(b1[j]==s1[i]){\n\t    for(int k=j;k>i;k--){\n\t      swap(b1[k-1],b1[k]);\n\t      c1++;\n\t    }\n\t    break;\n\t  }\n\t}\n      }\n    }\n  }\n  c=0;\n  for(int i=0;i<N;i++)if(s2[i]==1)c++;\n  if(c==n){\n    c2=0;\n    for(int i=0;i<N;i++){\n      if(b2[i]!=s2[i]){\n\tfor(int j=i+1;j<N;j++){\n\t  if(b2[j]==s2[i]){\n\t    for(int k=j;k>i;k--){\n\t      swap(b2[k-1],b2[k]);\n\t      c2++;\n\t    }\n\t    break;\n\t  }\n\t}\n      }\n    }\n  }\n  cout<<min(c1,c2)<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <map>\n#include <queue>\n#include <set>\n#include <algorithm>\n\nusing namespace std;\ntypedef pair<string, int> P;\n\nvoid solve()\n{\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tbool used[10000];\n\tmemset(used, 0, sizeof(used));\n\tint N, M;\n\tcin >> N >> M;\n\tstring goal;\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tchar c;\n\t\tcin >> c;\n\t\tgoal += c;\n\t}\n\tstring p;\n\tstring start[2];\n\tbool flag = false;\n\tfor (int i = 0; i < M; ++i)\n\t{\n\t\tint c;\n\t\tcin >> c;\n\t\tfor (int j = 0; j < c; ++j)\n\t\t{\n\t\t\tif (flag)\n\t\t\t{\n\t\t\t\tstart[0] += '0';\n\t\t\t\tstart[1] += '1';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tstart[0] += '1';\n\t\t\t\tstart[1] += '0';\n\t\t\t}\n\t\t}\n\t\tflag = !flag;\n\t}\n\n\tqueue<P> que;\n\tque.push(P(start[0], 0));\n\tque.push(P(start[1], 0));\n\tset<string> found;\n\tfound.insert(start[0]);\n\tfound.insert(start[1]);\n\twhile (!que.empty())\n\t{\n\t\tP digit = que.front();\n\t\tque.pop();\n\t\tfor (int i = 1; i < digit.first.size(); ++i)\n\t\t{\n\t\t\tswap(digit.first[i - 1], digit.first[i]);\n\t\t\tif (found.find(digit.first) != found.end())\n\t\t\t{\n\t\t\t\tswap(digit.first[i - 1], digit.first[i]);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (digit.first == goal)\n\t\t\t{\n\t\t\t\tcout << digit.second + 1 << endl;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tque.push(P(digit.first, digit.second + 1));\n\t\t\tfound.insert(digit.first);\n\t\t\tswap(digit.first[i - 1], digit.first[i]);\n\t\t}\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define sf scanf\n#define pf printf\n#define pb push_back\n#define mp make_pair\n#define PI ( acos(-1.0) )\n#define pmod 1000000007\n#define maxn 100005\n#define IN freopen(\"input.txt\",\"r\",stdin)\n#define OUT freopen(\"output.txt\",\"w\",stdout)\n#define FOR(i,a,b) for(int i=a ; i<=b ; i++)\n#define INF 1000000000\n#define ll long long int\n#define eps (1e-8)\n#define sq(x) ( (x)*(x) )\n\nusing namespace std;\n\ntypedef pair < int, int > pii;\ntypedef pair < ll, ll > pll;\nint a[1000],b[1000],c[1000],p[1000],r[1000];\nint N,m;\nint  swap1 (int x[1000], int y[1000]){\nint    res=0; int st=1;\n    while (st<=N){\n        if (x[st]==y[st]) {}//st++;\n        else{\n            FOR (i,st+1,N){\n                if (y[i]==x[st]) {\n                    swap(y[i],y[st]);\n                    //st++;\n                    res+=i-st;\n                    break;\n                }\n            }\n        }\n        //cout<<x[st]<<y[st]<<endl;\n        st++;\n    }\n    return res;\n}\nint s1,s0,ss1,ss0;\nint main()\n{\ncin>>N>>m;\nFOR (i,1,N){\n    cin>>a[i];\n    if (a[i]==1) s1++;\nelse s0++;\n\n}\nFOR (i,1,m){\ncin>>p[i];\nr[i]=r[i-1]+p[i];\n}\nFOR (i,1,m){\n    FOR (j,r[i-1]+1,r[i]){\n        b[j]=i%2;c[j]=(i+1)%2;\n        if (b[j]==1) ss1++;\n        else ss0++;\n    }\n\n}\n//cout<<s0<<s1<<ss1<<ss0<<endl;\n//FOR (i,1,N) cout<<c[i];\nint r1=INF; int r2=INF;\nif (ss1==s1) r1=swap1(a,b);\nif (ss0==s1) r2=swap1(a,c);\n//cout<<r1<<endl;\ncout<<min (r1,r2);\n         return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cmath>\n#include<cassert>\n#include<vector>\n#include<iostream>\nusing namespace std;\n\nvector<int> bits;\nvector<int> after;\n\nvoid print(vector<int> a){\n  /*\n  cout<<\":\";\n  for(auto i:a){\n    cout<<i<<\" \";\n  }\n  cout<<endl;\n  */\n}\n\nvoid init(){\n  bits.clear();\n  after.clear();\n}\n\nbool input(){\n  int n,m;\n  cin>>n>>m;\n  for(int i=0;i<n;i++){\n    int tmp;\n    cin>>tmp;\n    bits.push_back(tmp);\n  }\n  for(int i=0;i<m;i++){\n    int tmp;\n    cin>>tmp;\n    after.push_back(tmp);\n  }\n  return true;\n}\n\nint make_ans(vector<int> a,vector<int> b){\n  vector<int> tmp;\n  for(int i=0;i<a.size();i++){\n    tmp.push_back(a[i] xor b[i]);\n  }\n  int ans = 0;\n  for(int i=0;i<tmp.size();i++){\n    ans += tmp[i];\n  }\n  if(ans%2==1)return 1000;\n  \n  ans = 0;\n\n  for(int i=0,j=0;i<a.size();i++){\n    if(a[i]){\n      while(1){\n        if(b[j]){\n          ans += abs(i-j);\n          j++;\n          break;\n        }\n        j++;\n      }\n    }\n  }\n  return ans;\n\n}\n\nint solve(){\n  vector<int> b;\n \n  print(bits);\n  bool jj = false;\n  for(int i=0;i<after.size();i++){\n    for(int j=0;j<after[i];j++){\n      b.push_back(jj);\n    }\n    jj = (!jj);\n  }\n  int ans = make_ans(bits,b);\n  \n  print(b);\n  for(int i=0;i<b.size();i++){\n    b[i] = (!b[i]);\n  }\n  print(b);\n  ans = min(make_ans(bits,b),ans);\n  return ans;\n\n}\n\n\n\nint main(){\n  init();input();\n  cout<<solve()<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n * a.cc: \n */\n\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<stack>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n\nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 15;\nconst int MAX_M = 15;\n\nconst int INF = 1 << 30;\n\n/* typedef */\n\n/* global variables */\n\nint bs[MAX_N], ps[MAX_M], as[MAX_N], gs[MAX_N];\n\n/* subroutines */\n\n/* main */\n\nint main() {\n  int n, m;\n  cin >> n >> m;\n\n  int zn = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> bs[i];\n    if (bs[i] == 0) zn++;\n  }\n  for (int i = 0; i < m; i++) cin >> ps[i];\n\n  int ans = INF;\n  \n  for (int ib = 0; ib <= 1; ib++) {\n    for (int i = 0; i < n; i++) as[i] = bs[i];\n\n    int gzn = 0;\n    for (int i = 0, k = 0, b = ib; i < m; i++, b ^= 1) {\n      for (int j = 0; j < ps[i]; j++) gs[k++] = b;\n      if (b == 0) gzn += ps[i];\n    }\n    if (zn != gzn) continue;\n\n    //for (int i = 0; i < n; i++) printf(\"%d\", bs[i]); putchar('\\n');\n    //for (int i = 0; i < n; i++) printf(\"%d\", gs[i]); putchar('\\n');\n\n    int cnt = 0;\n    for (int i = 0; i < n; i++)\n      if (as[i] != gs[i]) {\n\tint k = i + 1;\n\twhile (as[k] != gs[i]) k++;\n\tfor (int j = k; j > i; j--) swap(as[j - 1], as[j]), cnt++;\n      }\n    if (ans > cnt) ans = cnt;\n  }\n\n  printf(\"%d\\n\", ans);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nstring bit;\nstring pattern[2];\n\nint sw(string b,string p){\n\tint n=b.size();\n\tint res=0;\n\tfor(int i=0;i<n;++i){\n\t\tif(b[i]==p[i])\n\t\t\tcontinue;\n\t\tfor(int j=i+1;j<n;++j){\n\t\t\tif(b[j]==p[i]){\n\t\t\t\tres+=(j-i);\n\t\t\t\tswap(b[i],b[j]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(b==p)\n\t\treturn res;\n\treturn inf;\n}\n\nint run[15];\n\nint main(void){\n\tint n,m;\n\tcin >> n >> m;\n\trep(i,n){\n\t\tint in;\n\t\tcin >> in;\n\t\tbit+=(in+'0');\n\t}\n\trep(i,m) cin >> run[i];\n\n\trep(i,2){\n\t\tint cur=i;\n\t\trep(j,m){\n\t\t\trep(k,run[j]) pattern[i]+=('0'+cur);\n\t\t\tcur^=1;\n\t\t}\n\t}\n\tcout << min(sw(bit,pattern[0]),sw(bit,pattern[1])) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstatic const int MAX_N = 15;\nstatic const int MAX_M = 15;\n\nint N, M;\nint b[MAX_N];\nint p[MAX_M];\nint cnt, cnt2;\nint sum, sum2;\n\nint calc(int num){\n\tint b2[MAX_N];\n\tint index = 0;\n\tfor(int i = 0; i < M; i++){\n\t\tfor(int j = 0; j < p[i]; j++){\n\t\t\tb2[index] = (i % 2 + num) % 2;\n\t\t\tindex++;\n\t\t}\n\t}\n\tint res = 0;\n\tfor(int i = 0; i < N; i++){\n\t\tif(b[i] != b2[i]){\n\t\t\tint index = -1;\n\t\t\tfor(int j = i + 1; j < N; j++){\n\t\t\t\tif(b2[j] == b[i]){\n\t\t\t\t\tindex = j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(index == -1) return 1 << 30;\n\t\t\tfor(; index > i; index--){\n\t\t\t\tswap(b2[index], b2[index - 1]);\n\t\t\t\tres++;\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(){\n\tscanf(\"%d %d\", &N, &M);\n\tcnt = 0, cnt2 = 0, sum = 0, sum2 = 0;\n\tfor(int i = 0; i < N; i++){\n\t\tscanf(\"%d\", &b[i]);\n\t\tif(b[i] == 0) cnt++;\n\t\telse cnt2++;\n\t}\n\tfor(int i = 0; i < M; i++){\n\t\tscanf(\"%d\", &p[i]);\n\t\tif(i % 2 == 0) sum += p[i];\n\t\telse sum2 += p[i];\n\t}\n\tprintf(\"%d\\n\", min(calc(0), calc(1)));\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "/*\n  https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&Itemid=8&category=651&page=show_problem&problem=4844\n*/\n\n\n#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing psi=pair<string,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF 1e9\n#define EPS 1e-9\n#define MOD (1e9+7)\nvoid get(){}template<class H,class...T>void get(H&h,T&...t){cin>>h;get(t...);}\ntemplate<class T>void geti(T&a){for(auto&_:a)cin>>_;}\ntemplate<class T>void getii(T&a){for(auto&_:a)geti(_);}\nvoid put(string d){}template<class H,class...T>void put(string d,H&h,T&...t){cout<<h;if(sizeof...(t))cout<<d;put(d,t...);}\ntemplate<class T>void puti(T&a,string d=\" \"){bool f=1;for(auto&_:a)cout<<(exchange(f,0)?\"\":d)<<_;cout<<endl;}\ntemplate<class T>void putii(T&a,string d=\" \"){for(auto&_:a)puti(_,d);}\n#define dcl(...) ll __VA_ARGS__;get(__VA_ARGS__)\n#define dclt(t,...) t __VA_ARGS__;get(__VA_ARGS__)\nvs sepstr(string s,string r){vs res;regex R(\"[^|]+\");for(auto _:r)s=regex_replace(s,regex(\"[\\\\\"+string{_}+\"]\"),\"|\"+string{_}+\"|\");for(sregex_iterator itr(all(s),R),end;itr!=end;++itr)res.pb(itr->str());return res;}\n\ntemplate<class T>string bitstr(T x){return typeid(T)==typeid(int)?bitset<32>(x).to_string('_','#'):bitset<64>(x).to_string();}\ntemplate<class T>int bitcnt(T x){return typeid(T)==typeid(int)?__builtin_popcount(x):__builtin_popcountll(x);}\ntemplate<class T>int bitdig(T x){return x?typeid(T)==typeid(int)?32-__builtin_clz(x):64-__builtin_clzll(x):0;}\ntemplate<class T>int bitpow(T x){return x?typeid(T)==typeid(int)?__builtin_ctz(x):__builtin_ctzll(x):0;}\n\nconstexpr void bitswap(int &b,int p, int q){\n\tint f=(!!(b&(1<<p)))^!!(b&(1<<q));\n\tb^=(1<<p)*f;\n\tb^=(1<<q)*f;\n}\n\n\ninline int solve(int n,int b,int p){\n\tif(bitcnt(b)!=bitcnt(p)) return INT_MAX;\n\tint ans=0;\n\trep(i,n-1){\n\t\tint j;\n\t\tfor(j=i;(!(b&(1<<j)))!=!(p&(1<<i));j++);\n\t\tbitswap(b,i,j);\n\t\tans+=(j-i);\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint n,m;\n\twhile(cin>>n>>m){\n\t\tint b=0;\n\t\tint p=0;\n\t\trep(i,n){\n\t\t\tdcl(t);\n\t\t\tb=b*2+t;\n\t\t}\n\t\trep(i,m){\n\t\t\tdcl(t);\n\t\t\trep(lp,t){\n\t\t\t\tp=p*2+i%2;\n\t\t\t}\n\t\t}\n\t\tcout<<min(solve(n,b,p), solve(n,b,(~p)&((1<<n)-1)))<<endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#include <climits>\n#include <cstring>\n#include <cassert>\n\n#define rep(i, m, n) for(int i=int(m);i<int(n);i++)\n#define all(c) begin(c),end(c)\n\ntemplate<typename T1, typename T2>\ninline void chmin(T1 &a, T2 b) { if (a > b) a = b; }\n\ntemplate<typename T1, typename T2>\ninline void chmax(T1 &a, T2 b) { if (a < b) a = b; }\n\ntypedef long long int ll;\nusing ll = long long int;\nusing ull = long long unsigned int;\nusing Int = long long int;\nusing uInt = long long unsigned int;\nusing Double = long double;\nusing namespace std;\n#define INF (1 << 30) - 1\n#define INFl (ll)5e15\n#define DEBUG 0\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\n#define MOD 1000000007\n\n\n//edit\nclass Solve {\npublic:\n    void solve() {\n        Int N, M;\n        cin >> N >> M;\n        vector<Int> A, B, C;\n        rep(i, 0, N) {\n            Int tmp;\n            cin >> tmp;\n            A.push_back(tmp);\n        }\n\n        rep(i, 0, M) {\n            Int tmp;\n            cin >> tmp;\n            rep(_, 0, tmp) {\n                B.push_back(i % 2);\n                C.push_back(!(i % 2));\n            }\n        }\n\n        auto cnt = [&](vector<Int> X, vector<Int> Y) {\n            vector<Int> xi, yi;\n            rep(i, 0, X.size()) {\n                if (X[i] == 1) xi.push_back(i);\n            }\n            rep(i, 0, Y.size()) {\n                if (Y[i] == 1) yi.push_back(i);\n            }\n\n            if (xi.size() != yi.size()) return INFl;\n            Int ret = 0;\n            rep(i, 0, xi.size()) {\n                Int tmp = abs(xi[i] - yi[i]);\n                ret += tmp;\n            }\n            return ret;\n        };\n\n        Int ans = min(cnt(A, B), cnt(A, C));\n        cout << ans << endl;\n\n    }\n};\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n    Solve().solve();\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<queue>\n#include<cstring>\n#include<iostream>\n#define N (1<<15)\nusing namespace std;\nint dis[N];\nint main(){\n\tint n,m,k,x,i,j;\n\tint p[20],q[20],start=0;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%d\",&x);\n\t\tstart=start<<1|x;\n\t}\n\tfor(i=0;i<m;i++) scanf(\"%d\",&p[i]);\n\tqueue<int> que;\n\tque.push(start);\n\tmemset(dis,0x3f,sizeof(dis));\n\tdis[start]=0;\n\twhile(!que.empty()){\n\t\tk=que.front();\n\t\tque.pop();\n\t\tx=0;\n\t\tint cnt=0;\n\t\tint l=k;\n\t\tint num=n;\n\t\twhile(num){\n\t\t\tif(l&1) q[cnt]=__lg((l+1)&-(l+1));\n\t\t\telse if(l>0) q[cnt]=__lg(l&-l);\n\t\t\telse q[cnt]=num;\n\t\t\tl>>=q[cnt];\n\t\t\tnum-=q[cnt++];\n\t\t}\n\t\tbool flag=true;\n\t\tif(m!=cnt) flag=false;\n\t\tfor(i=0;i<m;i++) if(p[m-1-i]!=q[i]) flag=false;\n\t\tif(flag){\n\t\t\tprintf(\"%d\\n\",dis[k]);\n\t\t\tbreak;\n\t\t}\n\t\tfor(i=0;i<n-1;i++){\n\t\t\tif((k&(1<<i))&&!(k&(1<<i+1))){\n\t\t\t\tif(dis[k+(1<<i)]>dis[k]+1){\n\t\t\t\t\tdis[k+(1<<i)]=dis[k]+1;\n\t\t\t\t\tque.push(k+(1<<i));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(!(k&(1<<i))&&(k&(1<<i+1))){\n\t\t\t\tif(dis[k-(1<<i)]>dis[k]+1){\n\t\t\t\t\tdis[k-(1<<i)]=dis[k]+1;\n\t\t\t\t\tque.push(k-(1<<i));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint x[65536];\n\nint inversions(int p, int n, int q, int r) {\n\tint x[15], y[15], z;\n\tmemset(x, 127, sizeof(x));\n\tx[p] = 0;\n\tfor (int i = 0; i < n * n; i++){\n\t\tfor (int j = 0; j < (1 << n); j++) {\n\t\t\tif (x[j] < 1000) {\n\t\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\t\tx[k] = (j / (1 << k)) % 2;\n\t\t\t\t}\n\t\t\t\tfor (int k = 0; k < n - 1; k++) {\n\t\t\t\t\tif (x[k] + x[k + 1] == 0) {\n\t\t\t\t\t\tfor (int l = 0; l < n; l++) {\n\t\t\t\t\t\t\ty[l] = x[l];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ty[k] = x[k + 1];\n\t\t\t\t\t\ty[k + 1] = x[k];\n\t\t\t\t\t\tfor (int l = 0; l < n; l++) {\n\t\t\t\t\t\t\tz += y[l] * (2 << l);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tx[z] = min(x[z], x[j] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn min(x[q], x[r]);\n}\n\nint n, m, a, s;\nint x1[15], x2[15], cnt, r1, r2;\n\nint main() {\n\tcin >> n >> m;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> a; s += (2 << i);\n\t}\n\tfor (int i = 0; i < m; i++) {\n\t\tcin >> a;\n\t\tfor (int j = 0; j < a; j++) {\n\t\t\tx1[j + cnt] = i % 2;\n\t\t\tx2[j + cnt] = (i + 1) % 2;\n\t\t}\n\t\tcnt += a;\n\t}\n\tfor (int i = 0; i < n; i++) {\n\t\tr1 += x1[i] * (2 << i);\n\t\tr2 += x2[i] * (2 << i);\n\t}\n\tcout << inversions(s, n, r1, r2) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <cstring>\n#include <cassert>\n#include <vector>\n#include <queue>\nusing namespace std;\n\ntemplate<class T>\nostream& operator<<(ostream& os, const vector<T>& vs) {\n    if (vs.empty()) return os << \"[]\";\n    os << \"[\" << vs[0];\n    for (int i = 1; i < vs.size(); i++) os << \" \" << vs[i];\n    return os << \"]\";\n}\n\nint N, M;\nvector<int> S;\nvector<int> T;\nvoid input() {\n    cin >> N >> M;\n    S.clear(); S.resize(N);\n    for (int i = 0; i < N; i++) {\n        cin >> S[i];\n    }\n    T.clear(); T.resize(M);\n    for (int i = 0; i < M; i++) {\n        cin >> T[i];\n    }\n}\n\nvector<int> A, B;\nvoid init() {\n    A.clear(); B.clear();\n    int x = 0;\n    for (int i = 0; i < M; i++) {\n        for (int j = 0; j < T[i]; j++) {\n            A.push_back(x);\n        }\n        x = !x;\n    }\n    x = 1;\n    for (int i = 0; i < M; i++) {\n        for (int j = 0; j < T[i]; j++) {\n            B.push_back(x);\n        }\n        x = !x;\n    }\n}\n\nconst int MAX_N = 15;\n\nstruct State {\n    vector<int> bit;\n    int t;\n    State(vector<int> bit, int t) : bit(bit), t(t) {}\n};\n\nvoid solve() {\n    init();\n    map< vector<int>, bool > used;\n    queue<State> Q;\n    used[S] = true;\n    Q.push(State(S, 0));\n    while (!Q.empty()) {\n        State cur = Q.front(); Q.pop();\n        if (cur.bit == A || cur.bit == B) {\n            cout << cur.t << endl;\n            break;\n        }\n        for (int i = 0; i < N - 1; i++) {\n            vector<int> nbit = cur.bit;\n            if (nbit[i] == nbit[i + 1]) continue;\n            swap(nbit[i], nbit[i + 1]);\n            if (used[nbit]) continue;\n            used[nbit] = true;\n            Q.push(State(nbit, cur.t + 1));\n        }\n    }\n}\n\nint main() {\n    input(); solve();\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\n#define reps(i,f,n) for(int i=f;i<int(n);i++)\n#define rep(i,n) reps(i,0,n)\n\n\n\nint main(){\n\tint n,m;\n\tcin>>n>>m;\n\t\n\tvector<int> a;\n\tvector<int> b;\n\tvector<int> c;\n\t\n\trep(i,n){\n\t\tint t;\n\t\tcin>>t;\n\t\tif(t==1)a.push_back(i);\n\t}\n\t\n\tint v = 1;\n\tint cnt = 0;\n\t\n\trep(i,m){\n\t\tint t;\n\t\tcin>>t;\n\t\t\n\t\trep(j,t){\n\t\t\tif(v==1)b.push_back(cnt+j);\n\t\t\telse c.push_back(cnt+j);\n\t\t}\n\t\tcnt+=t;\n\t\tv=(v+1)%2;\n\t}\n\t\n\tconst int INF = 1000000000;\n\tint ans = INF;\n\t\n\tif(a.size()==b.size()){\n\t\tans = 0;\n\t\trep(i,a.size()){\n\t\t\tans += abs(a[i]-b[i]);\n\t\t}\n\t}\n\t\n\t\n\t\n\tint ans2 = INF;\n\t\n\tif(a.size()==c.size()){\n\t\tans2=0;\n\t\trep(i,a.size()){\n\t\t\tans2 += abs(a[i]-c[i]);\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\",min(ans,ans2));\n\t\n\t\n\t\n}"
  },
  {
    "language": "C++",
    "code": "/* ---------- STL Libraries ---------- */\n\n// IO library\n#include <cstdio>\n#include <fstream>\n#include <iomanip>\n#include <ios>\n#include <iostream>\n\n// algorithm library\n#include <algorithm>\n#include <cmath>\n#include <numeric>\n\n// container library\n#include <array>\n#include <bitset>\n#include <deque>\n#include <map>\n#include <queue>\n#include <set>\n#include <string>\n#include <vector>\n\n/* ---------- Namespace ---------- */\n\nusing namespace std;\n\n/* ---------- Type Abbreviation ---------- */\n\ntemplate <typename T>\nusing V = vector<T>;\ntemplate <typename T, typename U>\nusing P = pair<T, U>;\ntemplate <typename T>\nusing PQ = priority_queue<T>;\ntemplate <typename T>\nusing GPQ = priority_queue<T, vector<T>, greater<T>>;\n\nusing ll = long long;\n\n#define fst first\n#define snd second\n#define pb push_back\n#define mp make_pair\n#define mt make_tuple\n\n/* ---------- conversion ---------- */\n\n#define INT(c) static_cast<int>(c)\n#define CHAR(n) static_cast<char>(n)\n#define LL(n) static_cast<ll>(n)\n#define DOUBLE(n) static_cast<double>(n)\n\n/* ---------- container ---------- */\n\n#define ALL(v) (v).begin(), (v).end()\n#define SIZE(v) (LL((v).size()))\n\n#define FIND(v, k) (v).find(k) != (v).end()\n#define VFIND(v, k) find(ALL(v), k) != (v).end()\n\n#define gsort(b, e) sort(b, e, greater<decltype(*b)>())\n#define SORT(v) sort(ALL(v))\n#define GSORT(v) gsort(ALL(v))\n\n/* ---------- repetition ---------- */\n\n#define FOR(i, a, b) for (ll i = (a); i <= (b); ++i)\n#define RFOR(i, a, b) for (ll i = (a); i >= (b); --i)\n\n/* ----------- debug ---------- */\n\ntemplate <class T>\nostream& operator<<(ostream& os, vector<T> v) {\n    os << \"[\";\n    for (auto vv : v)\n        os << vv << \",\";\n    return os << \"]\";\n}\n\ntemplate <class T>\nostream& operator<<(ostream& os, set<T> v) {\n    os << \"[\";\n    for (auto vv : v)\n        os << vv << \",\";\n    return os << \"]\";\n}\n\ntemplate <class L, class R>\nostream& operator<<(ostream& os, pair<L, R> p) {\n    return os << \"(\" << p.fst << \",\" << p.snd << \")\";\n}\n\n/* ---------- Constants ---------- */\n\n// const ll MOD = 1e9 + 7;\n// const int INF = 1 << 25;\n// const ll INF = 1LL << 50;\n// const double PI = acos(-1);\n// const double EPS = 1e-10;\n// const ll dx[4] = {0, -1, 1, 0};\n// const ll dy[4] = {-1, 0, 0, 1};\n\n/* ---------- Short Functions ---------- */\n\ntemplate <typename T>\nT sq(T a) {\n    return a * a;\n}\n\ntemplate <typename T>\nT gcd(T a, T b) {\n    if (a > b) return gcd(b, a);\n    return a == 0 ? b : gcd(b % a, a);\n}\n\ntemplate <typename T, typename U>\nT mypow(T b, U n) {\n    if (n == 0) return 1;\n    if (n == 1) return b /* % MOD */;\n    if (n % 2 == 0) {\n        return mypow(sq(b) /* % MOD */, n / 2);\n    } else {\n        return mypow(b, n - 1) * b /* % MOD */;\n    }\n}\n\nll pcnt(ll b) {\n    return __builtin_popcountll(b);\n}\n\n/* v-v-v-v-v-v-v-v-v Main Part v-v-v-v-v-v-v-v-v */\n\n// #define DEBUG\n// #define DEBUG_CASE_NUM 4\n\nll bubble(string S, string T) {\n    queue<ll> one[2];\n    FOR(i, 0, 1) {\n        one[i].push(-1);\n    }\n\n    FOR(i, 0, SIZE(S) - 1) {\n        if (S[i] == '1') one[0].push(i);\n    }\n\n    FOR(i, 0, SIZE(T) - 1) {\n        if (T[i] == '1') one[1].push(i);\n    }\n\n    if (SIZE(one[0]) != SIZE(one[1])) return 10000;\n    ll ret = 0;\n    while (!one[0].empty()) {\n        ll p[2];\n        FOR(i, 0, 1) {\n            p[i] = one[i].front();\n            one[i].pop();\n        }\n\n        ret += abs(p[1] - p[0]);\n    }\n\n    return ret;\n}\n\nvoid solve() {\n    ll N, M;\n    cin >> N >> M;\n\n    string S(N, '0');\n    FOR(i, 0, N - 1) {\n        cin >> S[i];\n    }\n\n    V<ll> p(M);\n    FOR(i, 0, M - 1) {\n        cin >> p[i];\n    }\n\n    ll ans = 10000;\n    FOR(b, 0, 1) {\n        ll now = b;\n        string T;\n\n        for (ll c : p) {\n            T += string(c, now + '0');\n            now = 1 - now;\n        }\n\n        ans = min(ans, bubble(S, T));\n    }\n\n    cout << ans << endl;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    // cout << fixed << setprecision(10);\n\n#ifdef DEBUG\n    freopen(\"input.txt\", \"r\", stdin);\n    FOR(_, 1, DEBUG_CASE_NUM) {\n        solve();\n        cout << \"++++++++++\" << endl;\n    }\n#else\n    solve();\n#endif\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//  aoj-1345  / 2015-11-28\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<numeric>\nusing namespace std;\n#define rep(i,j) for(int i=0 ;i<(j);i++)\n#define repeat(i,j,k) for(int i=j ;i<(k);i++)\n#define all(v) v.begin(),v.end()\nint solve(vector<int> b,vector<int> t){\n    if( accumulate(all(b),0) != accumulate(all(t),0)) return 1<<30;\n    int ret = 0;\n    rep(i,b.size()){\n        repeat(j,i,b.size()){\n            if(b[j] == t[i]){\n                b.erase(b.begin()+j);\n                b.insert(b.begin()+i,t[i]);\n                ret += j-i;\n                break;\n            }\n        }\n    }\n    return ret;\n}\n\nint main(){\n    int n,m; cin >> n >> m;\n    vector<int> b(n),p(m);\n    rep(i,n) cin >> b[i];\n    rep(i,m)cin>>p[i];\n    vector<int> t[2];\n    rep(i,2)t[i].resize(n,0);\n    {\n        int now =0;\n        rep(i,m)rep(j,p[i]){\n            if(i%2) t[0][now] = 1;\n            else t[1][now] = 1;\n            now++;\n        }\n    }\n\n    cout << min(solve(b,t[0]),solve(b,t[1])) << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\nconst int N=65536;\nconst int INF=10000000;\n\nint main()\n{\n    int n,m;\n    cin >>n >>m;\n    vector<int> b(n),p(m);\n    rep(i,n) cin >>b[i];\n    rep(i,m) cin >>p[i];\n\n    int start=0;\n    rep(i,n) start+=(b[i]<<(n-i-1));\n\n    int g1=0,g2=0;\n    int ct=0;\n    rep(i,m)\n    {\n        int b=i%2;\n        rep(j,p[i])\n        {\n            g1+=(b<<(n-ct-1));\n            g2+=((!b)<<(n-ct-1));\n            ++ct;\n        }\n    }\n\n    //BFS\n    int dist[N];\n    fill(dist,dist+N,INF);\n    queue<int> que;\n    que.push(start);\n    dist[start]=0;\n    while(!que.empty())\n    {\n        int v=que.front();\n        que.pop();\n        rep(i,n-1)\n        {\n            int t=v;\n            int a=(t>>(n-i-1))&1;\n            int b=(t>>(n-i-2))&1;\n\n            t-=(a<<(n-i-1))+(b<<(n-i-2));\n            t+=(b<<(n-i-1))+(a<<(n-i-2));\n\n\n            if(dist[t]>dist[v]+1)\n            {\n                dist[t]=dist[v]+1;\n                que.push(t);\n            }\n        }\n    }\n\n    printf(\"%d\\n\", min(dist[g1],dist[g2]));\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint n, m;\nbool search(int* bit, int p, int x, int &ans){\n  for (int i = p; i < n; i++) {\n    if(bit[i] == x){\n      ans += i - p;\n      bit[i] = (x+1)&1;\n      bit[p] = x;\n      return true;\n    }\n  }\n  return false;\n}\n\nint main(int argc, char *argv[]){\n  cin >> n >> m;\n  int bit[n], len[m], x = 0, ans = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> bit[i];\n  }\n  for (int i = 0; i < m; i++) {\n    cin >> len[i];\n  }\n  int a = 1e9;\n  //1 0??????\n  for (int k = 0; k < 2; k++) {\n    int tmp = 0;\n    x = k;\n    ans = 0;\n    for (int i = 0; i < m; i++) {\n      x = (x+1)&1;\n      for (int j = 0; j < len[i]; j++) {\n        if(bit[j + tmp] != x){\n          if(!search(bit, j + tmp, x, ans))\n            ans = 1e9;\n        }\n      }\n      tmp += len[i];\n    }\n    a = min(a, ans);\n  }\n  std::cout << a << std::endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\nusing namespace std;\n\nint N,tmp;\n\nint calc(int base[],int next[]){\n\tint count = 0;\n\n\t for(int match_point = 0; match_point <= N-1; match_point++){\n\t\t if(base[match_point] != next[match_point]){\n\t\t\tfor(tmp = match_point+1; tmp <= N; tmp++){\n\t\t\t\tif(base[tmp] == next[match_point])break;\n\t\t\t}\n\t\t\tfor(int i = tmp; i >= match_point+1; i--){\n\t\t\t\tswap(base[i],base[i-1]);\n\t\t\t\tcount++;\n\t\t\t}\n\t\t }\n\t }\n\n\t return count;\n}\n\n int main(){\n\n\t int M,num[2] = {0,0},index_next = 0;\n\t scanf(\"%d %d\",&N,&M);\n\n\t int* base = new int[N];\n\t int* next = new int[N];\n\n\t for(int i = 0; i < N; i++){\n\t\t scanf(\"%d\",&base[i]);\n\t\t num[base[i]]++;\n\t }\n\n\t if(num[0] == num[1]){\n\t\t int* next2 = new int[N];\n\t\t int* base2 = new int[N];\n\n\t\t for(int i = 0; i < N; i++)base2[i] = base[i];\n\n\t\t int index_next2 = 0;\n\n\t\t for(int i = 0; i < M; i++){\n\t\t\t scanf(\"%d\",&tmp);\n\n\t\t\t  for(int k = 0; k < tmp; k++){\n\t\t\t\t next[index_next++] = 1 - (i%2);\n\t\t\t\t next2[index_next2++] = (i%2);\n\t\t\t }\n\t\t }\n\n\t\t printf(\"%d\\n\",min(calc(base,next),calc(base2,next2)));\n\n\t }else{\n\t\t int* work = new int[M];\n\t\t int gu_num = 0;\n\n\t\t for(int i = 0; i < M; i++){\n\t\t\t scanf(\"%d\",&work[i]);\n\t\t\t if(i%2 == 0)gu_num += work[i];\n\t\t }\n\n\n\t\t for(int i = 0; i < M; i++){\n\t\t\t for(int k = 0; k < work[i]; k++){\n\t\t\t\t if(gu_num == num[0]){\n\t\t\t\t\t next[index_next++] = i%2;\n\t\t\t\t }else{\n\t\t\t\t\t next[index_next++] = 1-(i%2);\n\t\t\t\t }\n\t\t\t }\n\t\t }\n\n\t\t printf(\"%d\\n\",calc(base,next));\n\t }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n\nint N, M, b[15], p[15], p1[15], p2[15];\n\nint main() {\n\tcin >> N >> M;\n\tfor_(i,0,N) cin >> b[i];\n\tfor_(i,0,M) cin >> p[i];\n\t\n\tint ii = 0, v = 0;\n\tfor_(i,0,M) {\n\t\tfor_(j,0,p[i]) p1[ii] = v, p2[ii++] = 1 - v;\n\t\tv = 1 - v;\n\t}\n\t\n\tint c = 0, c1 = 0, c2 = 0;\n\tfor_(i,0,N) c += b[i], c1 += p1[i], c2 += p2[i];\n\tbool f1 = c == c1, f2 = c == c2;\t\n\t\n\tint ans1 = 0, ans2 = 0, j1 = 0, j2 = 0;\n\tfor_(i,0,N) {\n\t\tif (b[i]) {\n\t\t\tif (f1) {\n\t\t\t\twhile (!p1[j1]) ++j1;\n\t\t\t\tans1 += abs(j1 - i);\n\t\t\t}\n\t\t\tif (f2) {\n\t\t\t\twhile (!p2[j2]) ++j2;\n\t\t\t\tans2 += abs(j2 - i);\n\t\t\t}\n\t\t\t++j1, ++j2;\n\t\t}\n\t}\n\t\n\tcout << min(f1 ? ans1 : 100, f2 ? ans2 : 100) << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint main() {\n  int N, M;\n  int p[16];\n  int temp;\n  \n  std::vector<int> v;\n  std::cin >> N >> M;\n  for(int i = 0; i < N; ++i) {\n    std::cin >> temp;\n    if( temp == 1 ) {\n      v.push_back(i);\n    }\n  }\n  for(int i = 0; i < M; ++i) {\n    std::cin >> p[i];\n  }\n\n  std::vector<int> tv;\n  std::vector<int> f[2];\n  for(int k = 0; k < 2; ++k) {\n    std::vector<int> tv;\n    for(int i = 0; i < M; ++i) {\n      for(int j = 0; j < p[i]; ++j) {\n        tv.push_back((i + k) % 2);\n      }\n    }\n    for(int i = 0; i < N; ++i) {\n      if( tv[i] == 1 ) {\n        f[k].push_back(i);\n      }\n    }\n  }\n  \n  int res = 1000000;\n  for(int k = 0; k < 2; ++k) {\n    if( f[k].size() == v.size() ) {\n      int tres = 0;\n      for(int i = 0; i < (int)f[k].size(); ++i) {\n        tres += abs(f[k][i] - v[i]);\n      }\n      res = std::min(res, tres);\n    }\n  }\n\n  std::cout << res << std::endl;\n  return 0;\n}\n\n  "
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n  \nusing namespace std;\n\nint n, m;\nstring b = \"\";\nint p[15];\n\nint solve(int  sn)\n{\n    string nowp = \"\";\n    int ans = 0;\n    for(int i = 0; i < m; i++){\n        for(int j = 0; j < p[i]; j++){\n            if(i % 2 == 0) nowp += sn + '0';\n            else nowp += (sn + 1) % 2 + '0';\n        }\n    }\n    // cout << nowp << endl;\n    for(int i = 0; i < nowp.length() - 1; i++){\n        if(nowp[i] != b[i]){\n            int cnt = 1;\n            while(nowp[i + cnt] != b[i] && i + cnt < nowp.length()) cnt++;\n            // cout << cnt << endl;\n            for(int j = i + cnt; j > i; j--){\n                swap(nowp[j], nowp[j - 1]);\n                ans++;\n            }\n        }\n    }\n    // cout << ans << endl;\n    return ans;\n}\n\n\nint main()\n{\n    cin >> n >> m;\n    int bzeronum = 0,pevennum = 0;\n    char c;\n    for(int i = 0; i < n; i++){\n        cin >> c;\n        if(c == '0') bzeronum++;\n        b += c;\n    }\n    for(int i = 0; i < m; i++){\n        cin >> p[i];\n        if(i % 2 == 0) pevennum += p[i];\n    }\n    int ans = 1000;\n    if(bzeronum == pevennum) ans = min(ans, solve(0));\n    if(n - bzeronum == pevennum) ans = min(ans, solve(1));\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1<<29)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N,M;\nint c[2];\n\nint main(){\n  cin >> N >> M;\n  vector<int>ba(N), p(M);\n  rep(i,N) cin >> ba[i];\n  rep(i,M) cin >> p[i];\n  rep(i,N) c[ba[i]]++;\n  int sum=0;\n  for(int i=0;i<M;i+=2) sum+=p[i];\n  \n  int res = INF;\n  rep(loop,2){\n    if(sum!=c[loop]) continue;\n    int pat = loop;\n    //    cout << \"pat \" << pat << endl;\n    vector<int>b; b = ba;\n    int cnt = 0;\n    int pos = 0;\n    rep(i,M){\n      for(int j=0;j<p[i];j++){\n\tif(b[pos] != pat){\n\t  //\t  cout << i << \" \" << j << endl;\n\t  int k = pos;\n\t  while(b[k]!=pat) k++;\n\t  for(int l=k;l>pos;l--){\n\t    swap(b[l], b[l-1]);\n\t    cnt++;\n\t  }\n\t}\n\tpos++;\n\t//\trep(j,N) cout << b[j] << \" \"; cout << endl;\n      }\n      pat ^= 1;\n    }\n    res = min(res, cnt);\n  }\n  cout << res << endl;  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <cstdlib>\n#include <queue>\n#include <cstring>\n#include <set>\n#include <map>\n\nusing namespace std;\n\n#define FORU(i, l, r) for (int i = l; i <= r; ++i)\n#define FORD(i, r, l) for (int i = r; i >= l; --i)\n#define REPU(i, r) for (int i = 0; i < r; ++i)\n#define LL long long\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\n#define PINT pair < ll, int >\n#define BIT(x, i) ((x >> i) & 1)\n#define NUM_SET_BIT __builtin_popcountll\n\nint n, k, a[20], d[20], q[1 << 20], check[1 << 20];\n\nbool ok(int u) {\n    int c = 1, j = 1;\n    FORD(i, n - 2, 0) {\n        if (BIT(u, i) != BIT(u, i + 1)) {\n            if (j > k) return false;\n            if (c != d[j]) return false;\n            c = 0; ++j;\n        }\n        ++c;\n    }\n    if (j != k) return false;\n    if (c != d[j]) return false;\n    return true;\n}\n\nint main() {\n    cin >> n >> k;\n    FORU(i, 1, n) scanf(\"%d\", &a[i]);\n    FORU(i, 1, k) scanf(\"%d\", &d[i]);\n    reverse(a + 1, a + n + 1);\n    FORU(i, 1, n) q[1] += (a[i] << (i - 1));\n    \n    // BFS\n    int l = 1, r = 1;\n    check[q[1]] = 1;\n    while (l <= r) {\n        int u = q[l++];\n        if (ok(u)) { cout << check[u] - 1 << endl; return 0; }\n        FORU(i, 0, n - 2) {\n            auto j = i + 1;\n            auto bit_i = BIT(u, i);\n            auto bit_j = BIT(u, j);\n            auto v = u - \n                    (bit_i << i) - \n                    (bit_j << j) +\n                    (bit_i << j) +\n                    (bit_j << i);\n            if (check[v]) continue;\n            check[v] = check[u] + 1;\n            q[++r] = v;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\nconst int IINF = INT_MAX;\nint n,m,one;\nint b[20],p[20],bc[1<<16],buf[20];\n\nbool isValid(int bitmask){\n  vector<int> vec;\n  rep(i,n){\n    int cnt = 1;\n    int color = ( bitmask >> i ) & 1;\n    while( i+1 < n && ( ( bitmask >> (i+1) ) & 1 ) == color ) {\n      ++cnt;\n      ++i;\n    }\n    vec.push_back(cnt);\n  }\n  if( vec.size() != m ) return false;\n  rep(i,m) if( vec[i] != p[i] ) return false;\n  return true;\n}\n\nvoid compute(){\n  int mini = IINF;\n  rep(bitmask,(1<<n)) if( bc[bitmask] == one ) {\n    if( !isValid(bitmask) ) continue;\n    int cost = 0;\n    rep(i,n) buf[i] = b[i];\n    rep(i,n) if( buf[i] != ( ( bitmask >> i ) & 1 ) ) {\n      int k=-1;\n      REP(j,i+1,n) if( buf[j] == ( ( bitmask >> i ) & 1 ) ) { k = j; break; }\n      for(int j=k;j>i;j--) { swap(buf[j],buf[j-1]); ++cost; }\n    }\n    mini = min(mini,cost);\n  }\n  cout << mini << endl;\n}\n\nint main(){\n  rep(i,(1<<16)) bc[i] = __builtin_popcount(i);\n  cin >> n >> m;\n  rep(i,n) { cin >> b[i]; one += b[i]; }\n  rep(i,m) cin >> p[i];\n\n  compute();\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#define INF (1e9)\n#define N 15\nusing namespace std;\n\nint main(){\n  int n,m,b[N],p[N],cnt0=0,chcnt=0,begin,sample[N],l=0,ans=0,ans2=INF;\n  cin>>n>>m;\n  for(int i=0;i<n;i++) cin>>b[i],cnt0+=!b[i];\n  for(int i=0;i<m;i++){\n    cin>>p[i];\n    if(!(i%2)) chcnt+=p[i];\n  }\n  if(cnt0==n-cnt0) begin=3;\n  else if(cnt0==chcnt) begin=0;\n  else begin=1;\n  for(int i=0;i<m;i++)\n    for(int j=0;j<p[i];j++,l++){\n      if(begin==0){\n\tif(!(i%2)) sample[l]=0;\n\telse sample[l]=1;\n      }\n      else{\n\tif(!(i%2)) sample[l]=1;\n\telse sample[l]=0;\n      }\n    }\n  for(int i=0;i<l;i++){\n    if(b[i]==sample[i]) continue;\n    for(int j=i+1;j<l;j++)\n      if(b[j]!=b[i]){\n\tans+=j-i;\n\tswap(b[j],b[i]);\n\tbreak;\n      }\n  }\n  if(begin==3){\n    ans2=0;\n    for(int i=0;i<l;i++) sample[i]=!sample[i];\n    for(int i=0;i<l;i++){\n      if(b[i]==sample[i]) continue;\n      for(int j=i+1;j<l;j++)\n\tif(b[j]!=b[i]){\n\t  ans2+=j-i;\n\t  swap(b[j],b[i]);\n\t  break;\n\t}\n    }\n  }\n  cout<<min(ans,ans2)<<endl;\n  return 0;  \n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\n#include <complex>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\nint d[1<<15],inf=1e8;\nint main(){\n\tint N,M;\n\tcin>>N>>M;\n\tint s=0;\n\trep(i,N){\n\t\tint a;\n\t\tcin>>a;\n\t\tif(a) s+=(1<<i);\n\t}\n\tint x=0,y=0;\n\tvector<int> vc;\n\trep(i,M){\n\t\tint p;\n\t\tcin>>p;\n\t\trep(j,p) vc.pb(i%2);\n\t}\n\trep(i,N){\n\t\tif(vc[i]) x+=(1<<i);\n\t\telse y+=(1<<i);\n\t}\n\tqueue<int> que;\n\tque.push(s);\n\trep(i,1<<N) d[i]=inf;\n\td[s]=0;\n\twhile(!que.empty()){\n\t\tint q=que.front();\n\t\tque.pop();\n\t\tint a[15]={};\n\t\trep(j,N) a[j]=(q>>j)&1;\n\t\trep(j,N-1){\n\t\t\tif(a[j]==a[j+1]) continue;\n\t\t\tint nt=q;\n\t\t\tif(a[j]) nt+=(1<<(j+1))-(1<<j);\n\t\t\telse nt+=(1<<j)-(1<<(j+1));\n\t\t\tif(d[nt]==inf){\n\t\t\t\tque.push(nt);\n\t\t\t\td[nt]=d[q]+1;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<min(d[x],d[y])<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint n, m;\nbool search(int* bit, int p, int x, int &ans){\n  for (int i = p; i < n; i++) {\n    if(bit[i] == x){\n      ans += i - p;\n      bit[i] = (x+1)&1;\n      bit[p] = x&1;\n      return true;\n    }\n  }\n  return false;\n}\n\nint main(int argc, char *argv[]){\n  cin >> n >> m;\n  int bit[n], len[m], x = 0, ans = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> bit[i];\n  }\n  for (int i = 0; i < m; i++) {\n    cin >> len[i];\n  }\n  int a = 1e9;\n  //1 0??????\n  for (int k = 0; k < 2; k++) {\n    int tmp = 0;\n    x = k;\n    ans = 0;\n    for (int i = 0; i < m; i++) {\n      x = (x+1)&1;\n      for (int j = 0; j < len[i]; j++) {\n        if(bit[j + tmp] != x){\n          if(!search(bit, j + tmp, x, ans))\n            ans = 1e9;\n        }\n      }\n      tmp += len[i];\n    }\n    a = min(a, ans);\n  }\n  std::cout << a << std::endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint f(vector<int> a, vector<int> b) {\n\tvector<int> x[2], y[2];\n\tfor(int i = 0; i < a.size(); ++i) x[a[i]].push_back(i);\n\tfor(int i = 0; i < b.size(); ++i) y[b[i]].push_back(i);\n\tif(x[0].size() != y[0].size() || x[1].size() != y[1].size()) return INT_MAX;\n\tint ret = 0;\n\tfor(int i = 0; i < x[0].size(); ++i) ret += abs(x[0][i] - y[0][i]);\n\tfor(int i = 0; i < x[1].size(); ++i) ret += abs(x[1][i] - y[1][i]);\n\treturn (ret >> 1);\n}\n\nint main() {\n\tint n, m; scanf(\"%d%d\", &n, &m);\n\tvector<int> a(n), b;\n\tfor(auto &v: a) scanf(\"%d\", &v);\n\tfor(int t, j = 0; m-- && scanf(\"%d\", &t); j ^= 1) while(t--) b.push_back(j);\n\tint ans = f(a, b);\n\tfor(auto &v: a) v ^= 1;\n\tprintf(\"%d\\n\", min(ans, f(a, b)));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <unordered_map>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <bitset>\n#include <assert.h>\n#include <unordered_map>\n#include <fstream>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<char> vc;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<double> vd;\ntypedef pair<ll,ll> P;\ntypedef pair<int,int> pii;\ntypedef vector<P> vpl;\ntypedef tuple<ll,ll,ll> tapu;\n#define rep(i,n) for(int i=0; i<(n); i++)\n#define REP(i,a,b) for(int i=(a); i<(b); i++)\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\nconst int inf = 1<<30;\nconst ll linf = 1LL<<62;\nconst int MAX = 510000;\nll dy[8] = {0,-1,0,1,1,-1,1,-1};\nll dx[8] = {1,0,-1,0,1,-1,-1,1};\nconst double pi = acos(-1);\nconst double eps = 1e-7;\ntemplate<typename T1,typename T2> inline bool chmin(T1 &a,T2 b){\n\tif(a>b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T1,typename T2> inline bool chmax(T1 &a,T2 b){\n\tif(a<b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T> inline void print(T &a){\n    rep(i,a.size()) cout << a[i] << \" \";\n    cout << \"\\n\";\n}\ntemplate<typename T1,typename T2> inline void print2(T1 a, T2 b){cout << a << \" \" << b << \"\\n\";}\ntemplate<typename T1,typename T2,typename T3> inline void print3(T1 a, T2 b, T3 c){\n\tcout << a << \" \" << b << \" \" << c << \"\\n\";\n}\nconst ll mod = 1e9 + 7;\n//const int mod = 998244353;\n\nint main(){\n    int n,m; cin >> n >> m;\n    vl b(n), p(m);\n    rep(i,n) cin >> b[i];\n    rep(i,m) cin >> p[i];\n    vvl state(2);\n    int now = 0;\n    rep(i,m){\n        int sw = i & 1;\n        REP(j,now,now+p[i]){\n            state[0].push_back(sw);\n            state[1].push_back(1-sw);\n        }\n        now += p[i];\n    }\n    vl ans(2,0);\n    rep(k,2){\n        vl c = b;\n        rep(i,n){\n            if(c[i] != state[k][i]){\n                int id = -1;\n                REP(j,i+1,n){\n                    if(state[k][i] == c[j]){\n                        id = j;\n                        break;\n                    }\n                }\n                if(id == -1){\n                    ans[k] = inf;\n                    break;\n                }\n                for(int j=id-1; j>=i; j--) swap(c[j],c[j+1]), ans[k]++;\n            }\n        }\n    }\n    cout << min(ans[0], ans[1]) << \"\\n\";\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define valid(y,x,h,w) (0<=y&&y<h&&0<=x&&x<w)\n#define tpl(...) make_tuple(__VA_ARGS__)\nconst int INF = 0x3f3f3f3f;\nconst double EPS = 1e-8;\nconst double PI = acos(-1);\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }\ntemplate<class T>ostream&operator<<(ostream &o,const vector<T>&t){o<<'[';FOR(i,t){if(i!=t.begin())o<<',';o<<*i;}return o<<']';}\ntemplate<class S,class T>ostream&operator<<(ostream &o,const pair<S,T>&t){return o<<'('<<t.first<<','<<t.second<<')';}\ntemplate<int N,class Tp>void output(ostream&,const Tp&){}\ntemplate<int N,class Tp,class,class ...Ts>void output(ostream &o,const Tp&t){if(N)o<<',';o<<get<N>(t);output<N+1,Tp,Ts...>(o,t);}\ntemplate<class ...Ts>ostream&operator<<(ostream&o,const tuple<Ts...>&t){o<<'(';output<0,tuple<Ts...>,Ts...>(o,t);return o<<')';}\ntemplate<class T>void output(T t,char z=10){if(t<0)t=-t,putchar(45);int c[20];\nint k=0;while(t)c[k++]=t%10,t/=10;for(k||(c[k++]=0);k;)putchar(c[--k]^48);putchar(z);}\ntemplate<class T>void outputs(T t){output(t);}\ntemplate<class S,class ...T>void outputs(S a,T...t){output(a,32);outputs(t...);}\ntemplate<class T>void output(T *a,int n){REP(i,n)output(a[i],i!=n-1?',':10);}\ntemplate<class T>void output(T *a,int n,int m){REP(i,n)output(a[i],m);}\ntemplate<class T>bool input(T &t){int n=1,c;for(t=0;!isdigit(c=getchar())&&~c&&c-45;);\nif(!~c)return 0;for(c-45&&(n=0,t=c^48);isdigit(c=getchar());)t=10*t+c-48;t=n?-t:t;return 1;}\ntemplate<class S,class ...T>bool input(S&a,T&...t){input(a);return input(t...);}\n\nint b[20];\nint p[20];\nint q[20];\n\nint main() {\n  int n,m;\n  while(cin>>n>>m) {\n    vector<int> a(n);\n    REP(i,n) {\n      cin >> a[i];\n      b[i] = a[i];\n    }\n    REP(i,m) cin >> p[i];\n    queue<vector<int> > Q;\n    map<vector<int>, int> dist;\n    Q.push(a);\n    dist[a] = 0;\n    int ans = -1;\n    while(!Q.empty()) {\n      vector<int> v = Q.front(); Q.pop();\n      int d = dist[v];\n      int pre = -1;\n      int ct = 0;\n      int h = 0;\n      REP(i,n) {\n        if (pre != v[i]) {\n          if (pre != -1) {\n            q[h++] = ct;\n          }\n          pre = v[i];\n          ct = 1;\n        } else ct++;\n      }\n      q[h++] = ct;\n      if (h == m) {\n        bool ok = 1;\n        REP(i,m) {\n          ok &= p[i] == q[i];\n        }\n        if (ok) {\n          ans = d;\n          break;\n        }\n      }\n      REP(i,n-1) {\n        swap(v[i],v[i+1]);\n        if (dist.count(v) == 0) {\n          dist[v] = d + 1;\n          Q.push(v);\n        }\n        swap(v[i],v[i+1]);\n      }\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define mp make_pair\n#define pb push_back\n#define F first\n#define S second\n#define endl '\\n'\n#define ALL(a) (a).begin(),(a).end()\ntypedef long long ll;\ntypedef pair<int,int> PI;\n\nint main(int argc, char *argv[])\n{\n  int n,m;\n  cin >> n >> m;\n  string a;\n  rep(i,n){\n    char ch;\n    cin >> ch;\n    a += ch;\n  }\n\n  string g1,g2;\n  rep(j,m){\n    int t;\n    cin >> t;\n    rep(jj,t){\n      g1 += char('0'+j%2);\n      g2 += char('1'-j%2);\n    }\n  }\n  \n  queue<pair<int,string> > q;\n  set<string> app;\n  q.push(mp(0,a));\n  while(!q.empty()){\n    auto cv=q.front().S;\n    int cc =q.front().F;\n    q.pop();\n    if(app.count(cv)) continue;\n    app.insert(cv);\n    if(cv == g1 || cv == g2){\n      cout << cc << endl;\n      return 0;\n    }\n    \n    rep(i,n-1){\n      swap(cv[i],cv[i+1]);\n      if(!app.count(cv))\n        q.push(mp(cc+1,cv));\n      swap(cv[i],cv[i+1]);      \n    }\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconstexpr int IINF = INT_MAX;\n\nint n, m;\nint solve(vector<int> b, vector<int> a){\n    int res = 0;\n    for(int i=0;i<n;i++){\n        if(b[i] != a[i]){\n            int j = i+1;\n            while(j<n && b[j]!=a[i]) j++;\n            if(j==n) return IINF;\n            swap(b[i],b[j]);\n            res += j-i;\n        }\n    }\n    return res;\n}\n\nint main() {\n    cin >> n >> m;\n    vector<int> b(n), a(n);\n    for(int i=0;i<n;i++) cin >> b[i];\n    for(int i=0,j=0;i<m;i++){\n        int p;\n        cin >> p;\n        for(int k=0;k<p;k++){\n            a[j++] = i%2;\n        }\n    }\n    int ans;\n    ans = solve(b, a);\n    for(int i=0;i<n;i++) a[i] ^= 1;\n    ans = min(ans, solve(b,a));\n    cout << ans << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdlib>\n#include <bitset>\n#include <tuple>\n#include <assert.h>\n#include <deque>\n#include <bitset>\n#include <iomanip>\n#include <limits>\n#include <chrono>\n#include <random>\n#include <array>\n#include <unordered_map>\n#include <functional>\n#include <complex>\n#include <numeric>\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\nconstexpr long long MAX = 5100000;\nconstexpr long long INF = 1LL << 60;\nconstexpr int inf = 1 << 28;\nconstexpr long long mod = 1000000007LL;\n//constexpr long long mod = 998244353LL;\n\nusing namespace std;\ntypedef unsigned long long ull;\ntypedef long long ll;\n\n\nvoid solve() {\n\tint n, m; scanf(\"%d %d\", &n, &m);\n\tvector<int> b(n); for (int i = 0; i < n; i++) scanf(\"%d\", &b[i]);\n\tvector<int> p(m); for (int i = 0; i < m; i++) scanf(\"%d\", &p[i]);\n\tvector<ll> d((1 << n), INF);\n\tll ini = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (b[i] == 1) ini |= (1 << i);\n\t}\n\td[ini] = 0;\n\tqueue<ll> q; q.push(ini);\n\twhile (!q.empty()) {\n\t\tll cur = q.front();\n\t\tq.pop();\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tif ((cur >> i & 1) != (cur >> (i + 1) & 1)) {\n\t\t\t\tll next = cur;\n\t\t\t\tnext ^= (1 << i);\n\t\t\t\tnext ^= (1 << (i + 1));\n\t\t\t\tif (d[next] != INF) continue;\n\t\t\t\td[next] = d[cur] + 1;\n\t\t\t\tq.push(next);\n\t\t\t}\n\t\t}\n\t}\n\tvector<int> c1, c2;\n\tfor (int i = 0; i < m; i++) {\n\t\tfor (int j = 0; j < p[i]; j++) {\n\t\t\tc1.push_back(i % 2 == 0);\n\t\t\tc2.push_back(i % 2 == 1);\n\t\t}\n\t}\n\tll t1 = 0, t2 = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (c1[i] == 1) t1 |= (1 << i);\n\t\tif (c2[i] == 1) t2 |= (1 << i);\n\t}\n\tcout << min(d[t1], d[t2]) << endl;\n}\n\nint main()\n{\n\t/*\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\t*/\n\n\tint kkt = 1;\n\twhile (kkt--) {\n\t\tsolve();\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <queue>\n#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <cctype>\n#include <cassert>\n#include <limits>\n#include <bitset>\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define rer(i,l,u) for(int (i)=(int)(l);(i)<=(int)(u);++(i))\n#define reu(i,l,u) for(int (i)=(int)(l);(i)<(int)(u);++(i))\n#if defined(_MSC_VER) || __cplusplus > 199711L\n#define aut(r,v) auto r = (v)\n#else\n#define aut(r,v) typeof(v) r = (v)\n#endif\n#define each(it,o) for(aut(it, (o).begin()); it != (o).end(); ++ it)\n#define all(o) (o).begin(), (o).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset(m,v,sizeof(m))\n#define INF 0x3f3f3f3f\n#define INFL 0x3f3f3f3f3f3f3f3fLL\nusing namespace std;\ntypedef vector<int> vi; typedef pair<int,int> pii; typedef vector<pair<int,int> > vpii;\ntypedef long long ll; typedef vector<long long> vl; typedef pair<long long,long long> pll; typedef vector<pair<long long,long long> > vpll;\ntypedef vector<string> vs; typedef long double ld;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if(y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if(x < y) x = y; }\n\nint main() {\n\tint N, M;\n\tscanf(\"%d%d\", &N, &M);\n\tvector<int> b(N), p(M);\n\trep(i, N) scanf(\"%d\", &b[i]);\n\trep(i, M) scanf(\"%d\", &p[i]);\n\tint initbits = 0;\n\trep(i, N)\n\t\tinitbits = initbits * 2 + b[i];\n\tint goal1 = 0, goal2 = 0;\n\t{\tint k = N;\n\t\trep(i, M) {\n\t\t\tk -= p[i];\n\t\t\tint mask = (1 << p[i])-1;\n\t\t\t(i & 1 ? goal1 : goal2) |= mask << k;\n\t\t}\n\t}\n//\tcerr << bitset<15>(initbits) <<\", \" << bitset<15>(goal1) << \", \" << bitset<15>(goal2) << endl;\n\tvector<bool> vis(1 << N, false);\n\tvi q, nq;\n\tnq.push_back(initbits);\n\tint t = 0;\n\twhile(!nq.empty()) {\n\t\tq.swap(nq);\n\t\twhile(!q.empty()) {\n\t\t\tint x = q.back(); q.pop_back();\n\t\t\tif(x == goal1 || x == goal2) {\n\t\t\t\tprintf(\"%d\\n\", t);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(vis[x]) continue;\n\t\t\tvis[x] = true;\n\t\t\trep(i, N-1) {\n\t\t\t\tint y = (x & ~(1 << i) & ~(1 << (i+1))) | ((x >> i & 1) << (i+1)) | ((x >> (i+1) & 1) << i);\n//\t\t\t\tcerr << bitset<15>(x) << \" -> \" << bitset<15>(y) << endl;\n\t\t\t\tif(!vis[y]) nq.push_back(y);\n\t\t\t}\n\t\t}\n\t\t++ t;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <map>\n#include <set>\n#include <bitset>\n#include <numeric>\n#include <utility>\n#include <iomanip>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vint;\ntypedef vector<long long> vll;\ntypedef pair<int,int> pint;\ntypedef pair<long long, long long> pll;\n\n#define MP make_pair\n#define PB push_back\n#define ALL(s) (s).begin(),(s).end()\n#define EACH(i, s) for (__typeof__((s).begin()) i = (s).begin(); i != (s).end(); ++i)\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P) \n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, vector<T> P) \n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\ntemplate<class T> ostream& operator << (ostream &s, vector<vector<T> > P) \n{ for (int i = 0; i < P.size(); ++i) { s << endl << P[i]; } return s << endl; }\ntemplate<class T1, class T2> ostream& operator << (ostream &s, map<T1,T2> P) \n{ EACH(it, P) { s << \"<\" << it->first << \"->\" << it->second << \"> \"; } return s; }\n\n\nint a;\nint N, M;\n\nmap<vint, int> dist;\n\nint main() {\n    while (cin >> N >> M) {\n        vector<int> start(N, 0), goal1(N, 0), goal2(N, 0);\n        for (int i = 0; i < N; ++i) cin >> a, start[i] = a;\n        int t = 0;\n        for (int i = 0; i < M; ++i) {\n            cin >> a;\n            for (int j = 0; j < a; ++j) {\n                goal1[t] = (i&1);\n                goal2[t++] = !(i&1);\n            }\n        }\n        //COUT(start); COUT(goal1); COUT(goal2);\n        \n        dist.clear();\n        dist[start] = 0;\n        queue<vint > que;\n        que.push(start);\n        while (!que.empty()) {\n            vint bit = que.front();\n            int d = dist[bit];\n            que.pop();\n            \n            //cout << bit << \" : \" << d << endl;\n            \n            for (int i = 0; i < N-1; ++i) {\n                swap(bit[i], bit[i+1]);\n                if (!dist.count(bit)) {\n                    dist[bit] = d+1;\n                    que.push(bit);\n                }\n                swap(bit[i], bit[i+1]);\n            }\n        }\n        \n        int res = 1<<29;\n        if (dist.count(goal1)) chmin(res, dist[goal1]);\n        if (dist.count(goal2)) chmin(res, dist[goal2]);\n        cout << res << endl;\n    }\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n, m;\nint A[15], B[15];\n\nint check(int sbit)\n{\n    int C[15];\n\t\n\tfor (int i = 0; i < n; i++){\n\t    C[i] = A[i];\n\t}\n\t\n\tint ans = 0;\n\tint h = 0;\n\tfor (int i = 0; i < m; i++){\n\t    for (int j = 0; j < B[i]; j++){\n\t        if (C[h] != ((sbit + i) & 1)){\n\t            bool ok = false;\n\t            for (int k = h + 1; k < n; k++){\n\t                if (C[k] == ((sbit + i) & 1)){\n\t                    ok = true;\n\t                    ans += k - h;\n\t                    for (int l = k; l >= h + 1; l--){\n\t                        int tmp = C[l];\n\t                        C[l] = C[l - 1];\n\t                        C[l - 1] = tmp;\n\t                    }\n\t                    break;\n\t                }\n\t            }\n\t            if (!ok) return (9999);\n\t        }\n\t        h++;\n\t    }\n\t}\n\t\n\treturn (ans);\n}\n\nint main()\n{\n\tscanf(\"%d %d\", &n, &m);\n\t\n\tfor (int i = 0; i < n; i++) scanf(\"%d\", A + i);\n\t\n\tfor (int i = 0; i < m; i++) scanf(\"%d\", B + i);\n\t\n\tint ans = 9999;\n\t\n\tans = min(ans, check(0));\n\tans = min(ans, check(1));\n\t\n    printf(\"%d\\n\", ans);\n    \n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint cal(string s,string t){\n\tint z1=0,z2=0;\n\tfor(int i=0;i<s.size();i++){\n\t\tif(s[i]=='0')z1++;\n\t\tif(t[i]=='0')z2++;\n\t}\n\tif(z1!=z2)return 1145141919;\n\tint cnt=0;\n\tfor(int i=0;i<s.size();i++){\n\t\tint p=i;\n\t\tfor(;t[p]!=s[i];p++);\n\t\tfor(;p>i;p--){\n\t\t\tswap(t[p],t[p-1]);\n\t\t\tcnt++;\n\t\t}\n\t}\n\t\n\treturn cnt;\n}\n\nint main(){\n\t\n\t\n\tstring s=\"\",s1=\"\",s2=\"\";\n\tint n,m;\n\tcin>>n>>m;\n\tfor(int i=0;i<n;i++){\n\t\tchar c;\n\t\tcin>>c;\n\t\ts+=c;\n\t}\n\tfor(int i=0;i<m;i++){\n\t\tint k;cin>>k;\n\t\tfor(int j=0;j<k;j++){\n\t\t\ts1+=(i%2+'0');\n\t\t\ts2+=((i+1)%2+'0');\n\t\t}\n\t}\n\t\n\tcout<<min(cal(s,s1),cal(s,s2))<<endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <map>\n#include <queue>\n#include <cstdio>\n#include <ctime>\n#include <assert.h>\n#include <chrono>\n#include <random>\n#include <numeric>\n#include <set>\n#include <deque>\n#include <stack>\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned long long ull;\n\nmt19937_64 rng(chrono::steady_clock::now().time_since_epoch().count());\nll myRand(ll B) {\n    return (ull)rng() % B;\n}\n\nint main(){\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n    //freopen(\"input.txt\", \"r\", stdin);\n    //freopen(\"output.txt\", \"w\", stdout);\n    int n,m; cin >> n >> m;\n    vector<int> b(n),p(m);\n    vector<int> v;\n    int one=0;\n    for(int i=0;i<n;i++){\n        cin >> b[i];\n        if(b[i]){one++;v.push_back(i);}\n    }\n    int e=0;\n    for(int i=0;i<m;i++){\n        cin >> p[i];\n        if(i%2==0)e+=p[i];\n    }\n    int res=2e5;\n    if(e==one){\n        int t=-1;\n        int id=0;\n        int sum=0;\n        for(int i=0;i<m;i++){\n            for(int j=0;j<p[i];j++){\n                t++;\n                if(i%2==0){\n                    sum+=abs(t-v[id]);\n                    id++;\n                }\n            }\n        }\n        res=min(res,sum);\n    }\n    if(n-e==one){\n        int t=-1;\n        int id=0;\n        int sum=0;\n        for(int i=0;i<m;i++){\n            for(int j=0;j<p[i];j++){\n                t++;\n                if(i%2==1){\n                    sum+=abs(t-v[id]);\n                    id++;\n                }\n            }\n        }\n        res=min(res,sum);\n    }\n    printf(\"%d\\n\",res);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<int> b,p;\nint o=0,z=0;\nint N,M;\n\nint calc(int d){\n    vector<int> v;\n    for(int i=0;i<M;i++){\n        for(int j=0;j<p[i];j++) v.push_back((i+d)%2);\n    }\n\n    int one = 0;\n    int zero = 0;\n    for(int i=0;i<N;i++){\n        if(v[i]==0)  zero++;\n        else one++;\n    }\n    if(one==o and zero==z){\n        vector<int> s,t;\n        for(int i=0;i<N;i++){\n            if(b[i]==1 and v[i]==0){\n                s.push_back(i);\n            }else if(b[i]==0 and v[i]==1){\n                t.push_back(i);\n            }\n        }\n        int cnt = 0;\n        for(int i=0;i<s.size();i++){\n            cnt += abs(t[i]-s[i]);\n        }\n        return cnt;\n    }\n    return numeric_limits<int>::max();\n}\n\nint main(){\n    int ans = numeric_limits<int>::max();\n    cin >> N >> M;\n    b.resize(N);\n    p.resize(M);\n    for(int i=0;i<N;i++) cin >> b[i];\n    for(int i=0;i<M;i++) cin >> p[i];\n    for(int i=0;i<N;i++) \n        if(b[i]==0) z++;\n        else o++;\n\n    // start from zero\n    vector<int> v;\n    for(int i=0;i<M;i++){\n        for(int j=0;j<p[i];j++) v.push_back(i%2);\n    }\n\n    ans = min(calc(0),calc(1));\n    cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define SZ(x) (int)(x.size())\n#define REP(i, n) for(int i=0;i<(n);++i)\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RREP(i, n) for(int i=(int)(n)-1;i>=0;--i)\n#define RFOR(i, a, b) for(int i=(int)(b)-1;i>=(a);--i)\n#define ALL(a) a.begin(),a.end()\n#define DUMP(x) cerr<<#x<<\" = \"<<(x)<<endl\n#define DEBUG(x) cerr<<#x<<\" = \"<<(x)<<\" (L\"<<__LINE__<<\")\"<< endl;\nusing ll = long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vll = vector<ll>;\nusing vvll = vector<vll>;\nusing P = pair<int, int>;\nconst double eps = 1e-8;\nconst ll MOD = 1000000007;\nconst int INF = INT_MAX / 2;\nconst ll LINF = LLONG_MAX / 2;\ntemplate <typename T1, typename T2>\nbool chmax(T1 &a, const T2 &b) {\n    if (a < b) { a = b; return true; }\n    return false;\n}\ntemplate <typename T1, typename T2>\nbool chmin(T1 &a, const T2 &b) {\n    if (a > b) { a = b; return true; }\n    return false;\n}\ntemplate<typename T>\nostream &operator<<(ostream &os, const vector<T> &v) {\n    os << \"[\";\n    REP(i, SZ(v)) {\n        if (i) os << \", \";\n        os << v[i];\n    }\n    return os << \"]\";\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const map<T1, T2> &mp) {\n    os << \"{\";\n    int a = 0;\n    for (auto &tp : mp) {\n        if (a) os << \", \";\n        a = 1;\n        os << tp;\n    }\n    return os << \"}\";\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const pair<T1, T2> &p) {\n    os << p.first << \":\" << p.second;\n    return os;\n}\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n    int N, M; cin >> N >> M;\n    string b;\n    vi p(M);\n    REP(i, N) {\n        char c; cin >> c; b += c;\n    }\n    REP(i, M) cin >> p[i];\n\n    string g1, g2;\n    REP(k, M) {\n        REP(i, p[k]) {\n            g1 += k & 1 ? '0' : '1';\n            g2 += k & 1 ? '1' : '0';\n        }\n    }\n\n    using Pi = pair<int,string>;\n    priority_queue<Pi, vector<Pi>, greater<Pi>> que;\n    map<string,int> dist;\n\n    int ans = -1;\n\n    que.emplace(0, b); dist[b] = 0;\n    while (!que.empty()) {\n        string s;\n        int cost;\n        tie(cost, s) = que.top(); que.pop();\n        if (s == g1 or s == g2) {\n            ans = cost;\n            break;\n        }\n\n        REP(i, N-1) {\n            string tmp = s;\n            swap(tmp[i], tmp[i+1]);\n            if (dist.count(tmp) == 0 or dist[tmp] > cost + 1) {\n                dist[tmp] = cost + 1;\n                que.emplace(cost + 1, tmp);\n            }\n        }\n    }\n    cout << ans << endl;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<map>\n#include<queue>\n#include<cmath>\n#include<cassert>\n#include<vector>\n#include<iostream>\nusing namespace std;\n\nvector<int> bits;\nvector<int> after;\n\nvoid print(vector<int> v){\n  for(auto i:v){\n    //cerr<<i<<\" \";\n  }//cerr<<endl;\n}\n\nvoid init(){\n  bits.clear();\n  after.clear();\n}\n\nbool input(){\n  int n,m;\n  cin>>n>>m;\n  for(int i=0;i<n;i++){\n    int tmp;\n    cin>>tmp;\n    bits.push_back(tmp);\n  }\n  for(int i=0;i<m;i++){\n    int tmp;\n    cin>>tmp;\n    after.push_back(tmp);\n  }\n  return true;\n}\n\n\nint make_ans(vector<int> pre,vector<int> a,vector<int> b){\n  queue<pair<int,vector<int>>> q;\n  map<vector<int>,int> dp;\n  q.push(make_pair(0,pre));\n  while(!q.empty()){\n    pair<int,vector<int>> now = q.front();q.pop();\n    const vector<int> v = now.second;\n    const int cost = now.first;\n    if(v==a)return cost;\n    if(v==b)return cost;\n    if(dp.count(v)!=0)continue;\n    dp[v]=cost;\n    for(int i=0;i+1<v.size();i++){\n      vector<int> next= v;\n      swap(next[i],next[i+1]);\n      q.push(make_pair(cost+1,next));\n    }\n  }\n  return INT_MAX;\n}\n\nint solve(){\n  vector<int> b;\n  bool jj = false;\n  for(int i=0;i<after.size();i++){\n    for(int j=0;j<after[i];j++){\n      b.push_back(jj);\n    }\n    jj = (!jj);\n  }\n  print(bits);\n  print(b);\n  vector<int> a = b;\n  for(int i=0;i<b.size();i++){\n    a[i] = (!a[i]);\n  }\n  print(b);\n  int ans = make_ans(bits,a,b);\n  return ans;\n}\n\nint main(){\n  init();input();\n  cout<<solve()<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint n, m;\nbool search(int* bit, int p, int x, int &ans){\n  for (int i = p; i < n; i++) {\n    if(bit[i] == x){\n      ans += i - p;\n      bit[i] = (x+1)&1;\n      bit[p] = x&1;\n      return true;\n    }\n  }\n  return false;\n}\n\nint main(int argc, char *argv[]){\n  cin >> n >> m;\n  int bit[n], len[m], bcopy[n];\n  for (int i = 0; i < n; i++) {\n    cin >> bit[i];\n  }\n  for (int i = 0; i < m; i++) {\n    cin >> len[i];\n  }\n  //1 0??????\n  int x, ans[2] = {0}, tmp;\n  for (int k = 0; k < 2; k++) {\n    tmp = 0;\n    x = k;\n    for (int i = 0; i < n; i++) {\n      bcopy[i] = bit[i];\n    }\n    for (int i = 0; i < m; i++) {\n      x = (x+1)&1;\n      for (int j = 0; j < len[i]; j++) {\n        if(bcopy[j + tmp] != x){\n          if(!search(bcopy, j + tmp, x, ans[k]))\n            ans[k] = 1e9;\n        }\n      }\n      tmp += len[i];\n    }\n  }\n  std::cout << min(ans[0], ans[1]) << std::endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\n\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n    int bits = 0;\n    for (int i = 0; i < n; i++) {\n        int input;\n        cin >> input;\n        bits <<= 1;\n        bits |= input;\n    }\n    int goal[2] = {0, 0};\n    int seq;\n    for (int i = 0; i < m; i++) {\n        cin >> seq;\n        for (int j = 0; j < seq; j++) {\n            goal[0] <<= 1;\n            goal[0] |= i % 2;\n        }\n    }\n    int range = (1 << n) - 1;\n    goal[1] = ~goal[0] & range;\n    int mask = 0b11;\n    int dp[65536];\n    fill_n((int *)dp, 65535, -2);\n    dp[bits] = 0;\n    dp[goal[0]] = dp[goal[1]] = -1;\n    if (bits == goal[0] || bits == goal[1]) {\n        cout << 0 << endl;\n        exit(0);\n    }\n    queue<int> que;\n    que.push(bits);\n    while(!que.empty()){\n        int p = que.front(); que.pop();\n        for (int i = 0; i < n-1; i++) {\n            if ((~p & (mask << i)) == 0 || (p & (mask << i)) == 0) continue;\n            int swaped = (~p & (mask << i)) | (p & ~(mask << i));\n            if (dp[swaped] == -1) {\n                cout << dp[p] + 1 << endl;\n                goto end;\n            }\n            if (dp[swaped] != -2) continue;\n            que.push(swaped);\n            dp[swaped] = dp[p] + 1;\n        }\n    }\n    cout << 0 << endl;\n    end:\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    int N, M;\n    int b[16], c[16], p[16];\n    scanf(\"%d%d\", &N, &M);\n    for(int i = 0; i < N; ++i){\n        scanf(\"%d\", b + i);\n        c[i] = b[i];\n    }\n    for(int i = 0; i < M; ++i){\n        scanf(\"%d\", p + i);\n    }\n    int ans = 10000000;\n    bool success;\n    for(int n = 0; n < 2; ++n){\n        success = true;\n        int d = n, i = 0;\n        int n_swap = 0;\n        for(int j = 0; j < M; ++j){\n            for(int k = 0; k < p[j]; ++k, ++i){\n                int l;\n                for(l = i; l < N && b[l] != d; ++l);\n                if(l < N){\n                    n_swap += l - i;\n                    swap(b[i], b[l]);\n                }else{\n                    success = false;\n                    break;\n                }\n            }\n            if(!success) break;\n            d = 1 - d;\n        }\n        if(success){\n            ans = min(n_swap, ans);\n        }\n        for(int i = 0; i < N; ++i){\n            b[i] = c[i];\n        }\n    }\n    printf(\"%d\\n\", ans);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstdlib>\nusing namespace std;\nint n,m,a[16],b[16],p[16];\n\nint main()\n{\n\tcin>>n>>m;\n\tfor (int i = 0; i < n; i++)\n\t\tcin>>a[i];\n\tfor (int i = 0; i < m; i++)\n\t\tcin>>b[i];\n\tp[0]=b[0];\n\tfor (int i = 1; i < m; i++)\n\t\tp[i]=p[i-1]+b[i];\n\tint ret=1<<10;\n\tfor (int u = 0; u < 2; u++){\n\t\tint count=0;\n\t\tfor (int i = 0; i < m; i+=2){\n\t\t\tcount+=b[i];\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tif(a[i]==u)count--;\n\t\t}\n\t\tif(count!=0)continue;\n\n\t\tint t=0,k=0;\n\t\tint score=0;\n\t\tfor (int i = 0; i < m; i+=2){\n\t\t\tfor (; k < n; k++){\n\t\t\t\tif(a[k]==u){\n\t\t\t\t\tscore+=abs(k-t);\n\t\t\t\t\tt++;\n\t\t\t\t\tif(t==p[i]){\n\t\t\t\t\t\tk++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(t!=p[i])\n\t\t\t{\n\t\t\t\tscore = 1<<10;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse t+=b[i+1];\n\t\t}\n\t\tif(t==p[m-1])\n\t\t\tret=min(score,ret);\n\t}\n\tcout<<ret<<endl;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define REP(i, n) rep(i, 0, n)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define int long long\n#define chmax(x, y) x = max(x, y)\n#define chmin(x, y) x = min(x, y)\nusing namespace std;\ntypedef pair<int, int> P;\nconst int mod = 1000000007;\nconst int INF = 1e12;\n\nint n, m;\n\nint calc(vector<int> a, vector<int> t){\n    int res = 0;\n    rep(i, 0, n){\n        if(a[i] == t[i]) continue;\n        int tmp = INF;\n        rep(j, i + 1, n){\n            if(a[j] == t[i]){\n                tmp = j - i;\n                swap(a[i], a[j]);\n                break;\n            }\n        }\n        if(tmp == INF) return INF;\n        res += tmp;\n    }\n    return res;\n}\n\nsigned main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cin >> n >> m;\n    vector<int> b(n), p(m);\n    rep(i, 0, n) cin >> b[i];\n    rep(i, 0, m) cin >> p[i];\n    vector<int> t, s;\n    rep(i, 0, m){\n        rep(j, 0, p[i]){\n            t.push_back(i % 2);\n            s.push_back((i + 1) % 2);\n        }\n    }\n    int ans = min(calc(b, t), calc(b, s));\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n#define all(c) (c).begin(), (c).end()\n#define loop(i,a,b) for(ll i=a; i<ll(b); i++)\n#define rep(i,b) loop(i,0,b)\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define mt make_tuple\n#define lb lower_bound\n#define ub upper_bound\n#ifdef DEBUG\n#define dump(...) (cerr<<#__VA_ARGS__<<\" = \"<<(DUMP(),__VA_ARGS__).str()<<\" [\"<<__LINE__<<\"]\"<<endl)\nstruct DUMP:ostringstream{template<class T>DUMP &operator,(const T&t){if(this->tellp())*this<<\", \";*this<<t;return *this;}};\n#else\n#define dump(...)\n#endif\ntemplate<class T> ostream& operator<<(ostream& os, vector<T> const& v){\n    rep(i,v.size()) os << v[i] << (i+1==v.size()?\"\":\" \");\n    return os;\n}\n\nint main(){\n    int n,m;\n    while(cin >> n >> m && n){\n        vi b(n), p(m);\n        rep(i,n) cin >> b[i];\n        rep(i,m) cin >> p[i];\n        queue<pair<int,vi>> q;\n        q.emplace(0,b);\n        set<vi> dp;\n        while(q.size()){\n            int step; vi b;\n            tie(step,b) = q.front();\n            q.pop();\n            vi seq = {1};\n            rep(i,b.size()-1){\n                if(b[i]==b[i+1])seq.back()++;\n                else seq.pb(1);\n            }\n            if(seq==p){\n                cout << step << endl;\n                break;\n            }\n            rep(i,b.size())rep(j,i){\n                swap(b[i],b[j]);\n                if(!dp.count(b)){\n                    dp.insert(b);\n                    q.emplace(step+1,b);\n                }\n                swap(b[i],b[j]);\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\n#define min(X, Y) ((X)<(Y)?(X):(Y))\n#define swap(X, Y) { int $=X;X=Y;Y=$; }\n\nint a[20], b[20], c[20], n, m;\n\nint func(int zero)\n{\n    for(int i=0,k=0;i<m;++i) {\n        for(int j=0;j<c[i];++j) b[k++]=zero;\n        zero^=1;\n    }\n\n    int res=0;\n    for(int i=0;i<n;++i) if (a[i]!=b[i]) {\n        for(int j=i+1;j<n;++j) if (a[i]==b[j]) {\n            res+=j-i;\n            for(int k=j;k>i;--k) swap(b[k], b[k-1]);\n            break;\n        }\n    }\n    return res;\n}\n\nint main()\n{\n    while (~scanf(\"%d%d\", &n, &m)) {\n        int o=0, z=0;\n        for(int i=0;i<n;++i) {\n            scanf(\"%d\", a+i);\n            a[i]?o++:z++;\n        }\n        int ot=0, zt=0;\n        for(int i=0;i<m;++i) {\n            scanf(\"%d\", c+i);\n            i%2?ot+=c[i]:(zt+=c[i]);\n        }\n        int res=1<<30;\n        if (zt==z) res=func(0);\n        if (ot==z) res=min(res, func(1));\n        printf(\"%d\\n\", res);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n\nint N,M;\nint c[2];\n\nint main(){\n  cin >> N >> M;\n  vector<int>ba(N), p(M);\n  rep(i,N) cin >> ba[i];\n  rep(i,M) cin >> p[i];\n  rep(i,N) c[ba[i]]++;\n  int sum=0;\n  for(int i=0;i<M;i+=2) sum+=p[i];\n  \n  int res = 1<<20;\n  rep(h,2){\n    if(sum!=c[h]) continue;\n    int pat = h;\n    vector<int>b = ba;\n    int cnt = 0;\n    int pos = 0;\n    rep(i,M){\n      for(int j=0;j<p[i];j++){\n\tif(b[pos] != pat){\n\t  int k = pos;\n\t  while(b[k]!=pat) k++;\n\t  for(int l=k;l>pos;l--){\n\t    swap(b[l], b[l-1]);\n\t    cnt++;\n\t  }\n\t}\n\tpos++;\n      }\n      pat ^= 1;\n    }\n    res = min(res, cnt);\n  }\n  cout << res << endl;  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint solve(vector<int> v, vector<int> u){\n    int n = v.size();\n    int ans = 0;\n    for (int i = 0; i < n; ++i) {\n        if(v[i] != u[i]){\n            int x = -1;\n            for (int j = n-1; j >= i+1; --j) {\n                if(v[j] == u[i]) x = j;\n            }\n            if(x == -1) return INF<int>;\n            for (int k = x-1; k >= i; --k) {\n                swap(v[k], v[k+1]);\n                ans++;\n            }\n        }\n    }\n    return ans;\n}\n\nint main() {\n    int n, m;\n    cin >> n >> m;\n    vector<int> v(n), u(n);\n    for (auto &&i : v) scanf(\"%d\", &i);\n    int cur = 0;\n    for (int i = 0; i < m; ++i) {\n        int x;\n        scanf(\"%d\", &x);\n        while(x--){\n            u[cur++] = i&1;\n        }\n    }\n    int ans = solve(v, u);\n    for (int i = 0; i < n; ++i) {\n        u[i] ^= 1;\n    }\n    ans = min(ans, solve(v, u));\n    cout << ans << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n\nint n,m;\nint a[22],p[22];\nint a1[22],a2[22];\n\nint main(){\n\tcin.sync_with_stdio(false);\n\tcin>>n>>m;\n\trep(i,n)cin>>a[i];\n\trep(i,m)cin>>p[i];\n\trep(i,m)p[i+1]+=p[i];\n\tint a11=1,a22=0,l=0;\n\trep(i,n){\n\t\tif(l<m&&i==p[l])l++,swap(a11,a22);\n\t\ta1[i]=a11;\n\t\ta2[i]=a22;\n\t}\n\tint sum=0,sum1=0,sum2=0,cnt=0,cnt1=0,cnt2=0;\n\trep(i,n){\n\t\tif(a[i])sum+=i,cnt++;\n\t\tif(a1[i])sum1+=i,cnt1++;\n\t\tif(a2[i])sum2+=i,cnt2++;\n\t}\n\tint res=INF;\n\tif(cnt==cnt1)minch(res,abs(sum-sum1));\n\tif(cnt==cnt2)minch(res,abs(sum-sum2));\n\tcout<<res<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <utility>\n#include <algorithm>\n#include <set>\nusing namespace std;\n\nconst int INF = (1 << 29);\ntypedef pair<string ,int> psi;\n\nint main(void) {\n\n  int N, M; cin >> N >> M;\n  string b = \"\";\n  for (int i = 0; i < N; i++) {\n    int t; cin >> t;\n    b += t+'0';\n  }\n  string t1 = \"\", t2 = \"\";\n  for (int i = 0; i < M; i++) {\n    int p; cin >> p;\n    for (int j = 0; j < p; j++) {\n      if (i%2) {\n        t1 += '0';\n        t2 += '1';\n      } else {\n        t1 += '1';\n        t2 += '0';\n      }\n    }\n  }\n\n  int ans1 = INF;\n  if (count(t1.begin(), t1.end(), '0') == count(b.begin(), b.end(), '0')) {\n    queue<psi> q1;\n    set<string> used;\n    q1.push(psi(t1,0));\n    used.insert(t1);\n    while (!q1.empty()) {\n      psi s = q1.front(); q1.pop();\n      if (s.first == b) {\n        ans1 = s.second;\n        break;\n      }\n\n      for (int i = 0; i < N-1; i++) {\n        string tmp = s.first;\n        swap(tmp[i], tmp[i+1]);\n        if (used.find(tmp) == used.end()) {\n          q1.push(psi(tmp, s.second+1));\n          used.insert(tmp);\n        }\n      }\n    }\n  }\n\n  int ans2 = INF;\n  if (count(t2.begin(), t2.end(), '0') == count(b.begin(), b.end(), '0')) {\n    queue<psi> q2;\n    set<string> used;\n    q2.push(psi(t2, 0));\n    used.insert(t2);\n    while (!q2.empty()) {\n      psi s = q2.front(); q2.pop();\n      if (s.first == b) {\n        ans2 = s.second;\n        break;\n      }\n\n      for (int i = 0; i < N-1; i++) {\n        string tmp = s.first;\n        swap(tmp[i], tmp[i+1]);\n        if (used.find(tmp) == used.end()) {\n          q2.push(psi(tmp, s.second+1));\n          used.insert(tmp);\n        }\n      }\n    }\n  }\n\n  cout << min(ans1, ans2) << endl;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\ntypedef vector<pint>vpint;\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n#define each(it,v) for(__typeof((v).begin()) it=(v).begin();it!=(v).end();it++)\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n\nsigned main(){\n    int N,M;\n    cin>>N>>M;\n    vint b(N);\n    vint p(M);\n    rep(i,N)cin>>b[i];\n    rep(i,M)cin>>p[i];\n    int cnt=count(all(b),0);\n    int ans=1<<25;\n    rep(i,1<<M){\n        int hoge=0;\n        rep(j,M)if(i>>j&1)hoge+=p[j];\n        for(int j=0;j<M-1;j++){\n            int x=i>>j&1;\n            int y=i>>(j+1)&1;\n            if(x==y)hoge=111111;\n        }\n        if(cnt!=hoge)continue;\n        vint bb(N);\n        int cur=0;\n        rep(j,M){\n            rep(k,p[j]){\n                if(i>>j&1)bb[cur+k]=0;\n                else bb[cur+k]=1;\n            }\n            cur+=p[j];\n        }\n        int foo=0;\n        rep(j,N){\n            int idx=j;\n            while(b[j]!=bb[idx])idx++;\n            while(j!=idx){\n                swap(bb[idx],bb[idx-1]);\n                foo++;\n                idx--;\n            }\n        }\n        chmin(ans,foo);\n    }\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef vector<int> vi;\n\nvi trans(vi p, int k){\n  vi a;\n  for(int i=0;i<p.size();i++){\n    for(int j=0;j<p[i];j++){\n      a.push_back(k);\n    }\n    k = 1-k;\n  }\n  return a;\n}\n\nvi pos(vi a){\n  vi res;\n  for(int i=0;i<a.size();i++){\n    if(a[i])res.push_back(i);\n  }\n  return res;\n}\n\nint main(){\n  int n,m;\n  cin >> n >> m;\n  vi b(n),p(m);\n  for(int i=0;i<n;i++)cin >> b[i];\n  for(int j=0;j<m;j++)cin >> p[j];\n  \n  int ans = 1e9;\n  for(int c=0;c<2;c++){\n    vi a = trans(p,c);\n    vi pos1 = pos(b), pos2 = pos(a);\n    if(pos1.size() != pos2.size())continue;\n\n    int sum = 0;\n    for(int i=0;i<pos1.size();i++){\n      sum += abs(pos1[i] - pos2[i]);\n    }\n    ans = min(ans,sum);\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <queue>\n#include <string>\n#include <vector>\n#include <utility>\n#include <iostream>\n#include <algorithm>\n\n#define INF (1 << 29)\n\nusing namespace std;\n\nint BFS(string S, string T) // S --> T\n{\n\tmap<string, int> D; D[S] = 1;\n\n\tqueue<pair<string, int> > que; que.push(make_pair(S, 1));\n\n\tif (S == T) { return 0; }\n\n\twhile (!que.empty())\n\t{\n\t\tstring S2 = que.front().first;\n\n\t\tint dist = que.front().second; que.pop();\n\n\t\tfor (int i = 0; i < T.size(); i++)\n\t\t{\n\t\t\tfor (int j = 0; j < T.size(); j++)\n\t\t\t{\n\t\t\t\tstring S3 = S2;\n\n\t\t\t\tswap(S3[i], S3[j]);\n\n\t\t\t\tif (S3 == T) { return dist; }\n\n\t\t\t\tif (D[S3] == 0)\n\t\t\t\t{\n\t\t\t\t\tD[S3] = dist + 1;\n\n\t\t\t\t\tque.push(make_pair(S3, dist + 1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn INF;\n}\n\nint main()\n{\n\tint N, M;\n\n\tcin >> N >> M;\n\n\tvector<int> B(N); for (int i = 0; i < N; i++) { cin >> B[i]; }\n\tvector<int> R(M); for (int i = 0; i < M; i++) { cin >> R[i]; }\n\n\tstring S, T1, T2;\n\n\tfor (int i = 0; i < N; i++) { S += B[i] + 48; }\n\n\tfor (int i = 0; i < M; i++)\n\t{\n\t\tfor (int j = 0; j < R[i]; j++) \n\t\t{\n\t\t\tT1 += i % 2 + 48;\n\t\t\tT2 += (i + 1) % 2 + 48;\n\t\t}\n\t}\n\n\tint res1 = BFS(S, T1);\n\tint res2 = BFS(S, T2);\n\n\tcout << min(res1, res2) << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define im imag()\n#define re real()\n#define r(I, N) for(int I=0;I<N;I++)\n#define f(I, A, B) for(int I=A;I<B;I++)\n#define fd(I, A, B) for(int I=A;I>=B;I--)\n#define ite(x) for(__typeof((x).begin()) it=(x).begin();it!=(x).end();it++)\n#define sz(x) ((int)(x).size())\n#define clr(x) memset(x, 0, sizeof(x))\n\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef long double ld;\ntypedef complex<ld> Point;\ntypedef Point Vector;\n\nconst ld pi = acos(-1.0);\nconst ld eps = 1e-12;\n\nint N, M;\nint r[20], a[20], b[20];\n\nint main()\n{\n      cin >> N >> M;\n      r(i, N) cin >> a[i], b[i] = a[i];\n      r(i, M) cin >> r[i];\n\n      /// Case 1 : 0\n\n      int pt = 0, num = 0, ans1 = 0, ans2 = 0;\n\n      bool flag1 = true;\n\n      r(i, N)\n      {\n            f(j, i, i + r[pt])\n            {\n                  if(a[j] != num)\n                  {\n                        int rt = j;\n                        while(a[rt] != num && rt < N) rt++;\n                        if(rt >= N)\n                        {\n                              flag1 = false;\n                              break;\n                        }\n                        swap(a[rt], a[j]);\n                        ans1 += rt - j;\n                  }\n            }\n            i += r[pt++] - 1;\n            num = !num;\n      }\n\n      /// Case 2 : 1\n      bool flag2 = true;\n      num = 1;\n      pt = 0;\n\n      r(i, N)\n      {\n            f(j, i, i + r[pt])\n            {\n                  if(b[j] != num)\n                  {\n                        int rt = j;\n                        while(b[rt] != num && rt < N) rt++;\n                        if(rt >= N)\n                        {\n                              flag2 = false;\n                              break;\n                        }\n                        swap(b[rt], b[j]);\n                        ans2 += rt - j;\n                  }\n            }\n            i += r[pt++] - 1;\n            num = !num;\n      }\n      if(flag1 && !flag2) cout << ans1 << endl;\n      else if(!flag1 && flag2) cout << ans2<< endl;\n      else cout << min(ans1, ans2) << endl;\n      return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint N, M;\nint B[20], Pt[20], P[20];\n\nvoid read();\nvoid solve();\n\nint main() {\n  read();\n  solve();\n  return 0;\n}\n\nvoid read() {\n  cin >> N >> M;\n  for (int i = 0; i < N; ++i)\n    cin >> B[i];\n\n  for (int i = 0; i < M; ++i)\n    cin >> Pt[i];\n}\n\nvoid solve() {\n  int q, res = 100, tmp;\n\n  q = 0;\n  for (int i = 0, k = 0; i < M; ++i, q = 1 - q)\n    for (int j = 0; j < Pt[i]; ++j)\n      P[k++] = q;\n\n  tmp = 0;\n  for (int i = 0; i < N; ++i)\n    if (B[i] != P[i]) {\n      for (int j = i + 1; j < N; ++j) {\n        ++tmp;\n        if (B[i] == P[j]) {\n          swap(P[i], P[j]);\n          break;\n        }\n      }\n\n      if (B[i] != P[i]) {\n        tmp = 100;\n        break;\n      }\n    }\n\n  res = min(res, tmp);\n\n  q = 1;\n  for (int i = 0, k = 0; i < M; ++i, q = 1 - q)\n    for (int j = 0; j < Pt[i]; ++j)\n      P[k++] = q;\n\n  tmp = 0;\n  for (int i = 0; i < N; ++i)\n    if (B[i] != P[i]) {\n      for (int j = i + 1; j < N; ++j) {\n        ++tmp;\n        if (B[i] == P[j]) {\n          swap(P[i], P[j]);\n          break;\n        }\n      }\n\n      if (B[i] != P[i]) {\n        tmp = 100;\n        break;\n      }\n    }\n\n  res = min(res, tmp);\n\n  cout << res << \"\\n\";\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstddef>\n#include <iostream>\n#include <iomanip>\n#include <string>\n#include <sstream>\n#include <vector>\n#include <array>\n#include <unordered_map>\n#include <algorithm>\n#include <numeric>\n#include <limits>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n#include <bitset>\n#include <valarray>\n#include <utility>\n#include <tuple>\n#include <cmath>\n#include <memory>\n#include <random>\n#include <fstream>\n#include <locale>\n\nusing ll = long long;\nusing ull = unsigned long long;\n\ntemplate <class T>\nusing vec = std::vector<T>;\n\ntemplate <class T>\nusing vvec = vec<vec<T>>;\n\nconstexpr std::size_t operator\"\"_sz(ull n) { return std::size_t(n); }\n\n\nint main()\n{\n    using namespace std;\n\n    int n, m;\n    cin >> n >> m;\n\n    vec<int> b(n), target(n);\n    vec<int> p(m);\n    \n    for (auto& e : b)\n        cin >> e;\n\n    for (int i = 0, current = 0, index = 0; i < m; ++i)\n    {\n        int in;\n        cin >> in;\n\n        for (int i = 0; i < in; ++i)\n        {\n            target[index + i] = current;\n        }\n        index += in;\n\n        current ^= 1;\n    }\n\n    vec<int> posB, posT, posT_;\n\n    for (int i = 0; i < n; ++i)\n    {\n        if (b[i] == 1)\n            posB.push_back(i);\n        if (target[i] == 1)\n            posT.push_back(i);\n        else\n            posT_.push_back(i);\n    }\n\n    while (posB.size() < n)\n    {\n        posB.push_back(1000000);\n    }\n\n    while (posT.size() < posB.size())\n    {\n        posT.push_back(1000000);\n    }\n    while (posT_.size() < posB.size())\n    {\n        posT_.push_back(1000000);\n    }\n\n    int ans1{}, ans2{};\n\n    for (int i = 0; i < posB.size(); ++i)\n    {\n        ans1 += abs(posB[i] - posT[i]);\n        ans2 += abs(posB[i] - posT_[i]);\n    }\n\n    cout << min(ans1, ans2) << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "///usr/bin/g++ -O2 $0 -o ${0%.cpp} && echo \"----------\" && ./${0%.cpp}; exit;\n#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> ii; \n\nint a[20], v[20], p[20], n, m;\n\nint solve(int l) {\n\tint cnt = 0, pos = 1; \n\tfor(int i = 1; i <= n; i++) a[i] = v[i];\n\tfor(int k = 1; k <= m; k++) {\n\t\tint x = p[k]; \n\t\twhile(x) {\n\t\t\tint idx = 0; \n\t\t\tfor(int i = pos; i <= n && !idx; i++) \n\t\t\t\tif(a[i] == l) idx = i; \n\t\t\tif(!idx) return 1e9;\n\t\t\tfor(int i = idx; i > pos; i--) \n\t\t\t\tswap(a[i], a[i - 1]), ++cnt; \n\t\t\t++pos; --x;\n\t\t} l ^= 1; \n\t} \n\n\n\treturn cnt; \n}\n\nint main(int argc, char const *argv[]) {\n\tscanf(\"%d %d\", &n, &m);\n\tfor(int i = 1; i <= n; i++) \n\t\tscanf(\"%d\", &v[i]); \n\t\n\tfor(int i = 1; i <= m; i++) \n\t\tscanf(\"%d\", &p[i]);\n\n\tprintf(\"%d\\n\", min(solve(0), solve(1)));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate<typename T> T gcd(T a, T b) {\n    if(!b) return a;\n    return gcd(b, a % b);\n}\ntemplate<typename T> T lcm(T a, T b) {\n    return a * b / gcd(a, b);\n}\n\ntemplate<typename T> void chmin(T& a, T b) { a = (a > b) ? b : a; }\ntemplate<typename T> void chmax(T& a, T b) { a = (a < b) ? b : a; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef unsigned uint;\n\nint N, M;\n\nint func(vector<int> A, vector<int> B) {\n\tint ans = 0;\n\t\n\tvector<int> cntA(2, 0), cntB(2, 0);\n\n\tfor (int i = 0; i < A.size(); i++) {\n\t\tcntA[A[i]] += 1;\n\t}\n\tfor (int i = 0; i < B.size(); i++) {\n\t\tcntB[B[i]] += 1;\n\t}\n\n\tif (cntA[0] != cntB[0] || cntA[1] != cntB[1]) {\n\t\treturn 100101010;\n\t}\n\n\tfor (int i = 0; i < B.size(); i++) {\n\t\tif (A[i] != B[i]) {\n\t\t\tfor (int j = i + 1; j < B.size(); j++) {\n\t\t\t\tif (A[i] == B[j]) {\n\t\t\t\t\twhile (j != i) {\n\t\t\t\t\t\tswap(B[j], B[j - 1]);\n\t\t\t\t\t\tj -= 1;\n\t\t\t\t\t\tans += 1;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\nint main(void) {\n\tcin >> N >> M;\n\n\tvector<int> P(N), A, B;\n\n\tfor (int i = 0; i < N; i++) {\n\t\tcin >> P[i];\n\t}\n\tfor (int i = 0; i < M; i++) {\n\t\tint c;\n\t\tcin >> c;\n\n\t\tfor (int j = 0; j < c; j++) {\n\t\t\tA.push_back(i % 2);\n\t\t}\n\t}\n\tfor (int i = 0; i < A.size(); i++) {\n\t\tB.push_back(A[i] ^ 1);\n\t}\n\n\tint ans = min(func(P, A), func(P, B));\n\n\tcout << ans << \"\\n\";\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define REP(x,y,z) for(int x=y;x<=z;x++)\n#define FORD(x,y,z) for(int x=y;x>=z;x--)\n#define MSET(x,y) memset(x,y,sizeof(x))\n#define FOR(x,y) for(__typeof(y.begin()) x=y.begin();x!=y.end();x++)\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\n#define SZ size()\n#define M 20\nvoid RI(){}\ntemplate<typename... T>\nvoid RI( int& head, T&... tail ) {\n    scanf(\"%d\",&head);\n    RI(tail...);\n}\nusing namespace std;\ntypedef long long LL;\nint n,m,ans,p[M];\nvector<int> in,in2;\nint calc()\n{\n\tif(in.SZ != in2.SZ) return 100000;\n\tint re=0;\n\tREP(i,0,(int)in.SZ-1) re += abs(in[i] - in2[i]);\n\treturn re;\n}\nint main()\n{\n\tint x,pos;\n\tRI(n,m);\n\tREP(i,1,n)\n\t{\n\t\tRI(x);\n\t\tif(x) in.PB(i);\n\t}\n\tREP(i,1,m) RI(p[i]);\n\n\tx=0, pos=0;\n\tREP(i,1,m)\n\t{\n\t\tif(x==1) REP(j,pos+1,pos+p[i]) in2.PB(j);\n\t\tx ^= 1;\n\t\tpos += p[i];\n\t}\n\tans = calc();\n\n\tin2.clear();\n\tx=1, pos=0;\n\tREP(i,1,m)\n\t{\n\t\tif(x==1) REP(j,pos+1,pos+p[i]) in2.PB(j);\n\t\tx ^= 1;\n\t\tpos += p[i];\n\t}\n\tans = min(ans, calc());\n\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <bits/stdc++.h>\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    ll n,k;\n    cin>>n>>k;\n    vector<ll> v(n);\n    cinv(v,0,n);\n    vector<ll> v_zo(k);\n    cinv(v_zo,0,k);\n\n    ll one=0;\n    ll zero=0;\n    FOR(i,0,n){\n      if(v[i] == 1) one++;\n      else zero++;\n    }\n    ll flag=0;\n    FOR(i,0,k){\n      if(i%2==0) flag += v_zo[i];\n    }\n\n    ll flag_start=0;\n    if(one == zero) flag_start=2;\n    else if(flag == one) flag_start=1;\n\n    ll one_sum = 1e9;\n    ll zero_sum = 1e9;\n    vector<ll> tmp_v = v;\n\n    if(flag_start != 0){\n      ll turn = 1;\n      ll sum_x = 0;\n      ll tmp_res = 0;\n      FOR(i,0,k){\n        ll x = v_zo[i];\n        FOR(j,0,x){\n          ll pos = sum_x + j;\n          // 入れ替え\n          if(v[pos] != turn){\n            FOR(p,pos,n){\n              if(v[p] == turn){\n                ll val = v[p];\n                v.erase(v.begin() + p);\n                v.insert(v.begin() + pos, val);\n                tmp_res += p-pos;\n                break;\n              }\n            }\n          }\n        }\n        turn = (turn + 1) % 2;\n        sum_x += x;\n      }\n      one_sum = tmp_res;\n    }\n    v = tmp_v;\n    if(flag_start != 1){\n      ll turn = 0;\n      ll sum_x = 0;\n      ll tmp_res = 0;\n      FOR(i,0,k){\n        ll x = v_zo[i];\n        FOR(j,0,x){\n          ll pos = sum_x + j;\n          // 入れ替え\n          if(v[pos] != turn){\n            FOR(p,pos,n){\n              if(v[p] == turn){\n                ll val = v[p];\n                v.erase(v.begin() + p);\n                v.insert(v.begin() + pos, val);\n                tmp_res += p-pos;\n                break;\n              }\n            }\n          }\n        }\n        turn = (turn + 1) % 2;\n        sum_x += x;\n      }\n      zero_sum = tmp_res;\n    }\n    cout<<min(one_sum, zero_sum)<<endl;\n\n}\n\n"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 1345\n  Title:Bit String Reordering\n  @kankichi573\n*/\n#include <stdio.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\n#define min(x,y) (((x)<(y))?(x):(y))\nint M,N;\nchar b[15];\nint  p[15];\n\nint solve(char bit[],int runlen[],int len,int runlenlen,char start)\n{\n  int pos;\n  char *p;\n\n#ifdef DEBUG  \n  int i;\n  for(i=0;i<len;i++)\n    printf(\"%c|\",bit[i]);\n  printf(\"\\n\");\n  for(i=0;i<runlenlen;i++)\n    printf(\"%d|\",runlen[i]);\n  printf(\"\\n\");\n  printf(\"start=%c\\n\",start);\n#endif\n\n  if(len==1)\n    return(0);\n  if(runlen[0]==0)\n    return(solve(bit,runlen+1,len,runlenlen-1,start=='1'?'0':'1'));\n  else if(bit[0]==start)\n    {\n      runlen[0]--;\n      return(solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='0')\n    {\n      p = strchr(bit,'0');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='1';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='1')\n    {\n      p = strchr(bit,'1');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='0';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n}\n\nmain()\n{\n  int i,ret,c1,ce,ret1,ret2;\n  \n  scanf(\"%d %d \",&N,&M);\n\n  for(i=c1=0;i<N;i++)\n    {  \n      scanf(\"%c \",&b[i]);\n      if(b[i]=='1')\n\tc1++;\n    }\n  for(i=ce=0;i<M;i++)\n    {\n      scanf(\"%d\",&p[i]);\n      if((i & 1)==0)\n\tce += p[i];\n    }\n\n  //printf(\"c1=%d ce=%d\\n\",c1,ce);\n  \n  if(c1*2==N)\n    {\n      ret1=solve(b,p,N,M,'1');\n      ret2=solve(b,p,N,M,'0');\n      ret=min(ret1,ret2);\n    }\n  else if (ce==c1)\n    ret=solve(b,p,N,M,'1');\n  else\n    ret=solve(b,p,N,M,'0');\n  \n\n  printf(\"%d\\n\",ret);\n  \n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 1345\n  Title:Bit String Reordering\n  @kankichi573\n*/\n#include <stdio.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\n#define min(x,y) (((x)<(y))?(x):(y))\nint M,N;\nchar b[15];\nint  p[15];\n\nint solve(char bit[],int runlen[],int len,int runlenlen,char start)\n{\n  int pos;\n  char *p;\n\n#ifdef DEBUG  \n  int i;\n  for(i=0;i<len;i++)\n    printf(\"%c|\",bit[i]);\n  printf(\"\\n\");\n  for(i=0;i<runlenlen;i++)\n    printf(\"%d|\",runlen[i]);\n  printf(\"\\n\");\n  printf(\"start=%c\\n\",start);\n#endif\n\n  if(len==1)\n    return(0);\n  if(len==2)\n    {\n      if(bit[0]==start)\n\treturn(0);\n      else\n\treturn(1);\n    }\n  if(runlen[0]==0)\n    return(solve(bit,runlen+1,len,runlenlen-1,start=='1'?'0':'1'));\n  else if(bit[0]==start)\n    {\n      runlen[0]--;\n      return(solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='0')\n    {\n      p = strchr(bit,'0');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='1';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='1')\n    {\n      p = strchr(bit,'1');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='0';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n}\n\nmain()\n{\n  int i,ret,c1,ce,ret1,ret2;\n  \n  scanf(\"%d %d \",&N,&M);\n\n  for(i=c1=0;i<N;i++)\n    {  \n      scanf(\"%c \",&b[i]);\n      if(b[i]=='1')\n\tc1++;\n    }\n  for(i=ce=0;i<M;i++)\n    {\n      scanf(\"%d\",&p[i]);\n      if((i & 1)==0)\n\tce += p[i];\n    }\n\n  //printf(\"c1=%d ce=%d\\n\",c1,ce);\n  \n  if(c1*2==N)\n    {\n      ret1=solve(b,p,N,M,'1');\n      ret2=solve(b,p,N,M,'0');\n      ret=min(ret1,ret2);\n    }\n  else if (ce==c1)\n    ret=solve(b,p,N,M,'1');\n  else\n    ret=solve(b,p,N,M,'0');\n  \n\n  printf(\"%d\\n\",ret);\n  \n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#define min(A,B) ((A) < (B) ? (A) : (B))\n#define IMPOSSIBLE 1000\n\nvoid swap(int* a, int* b) { int c = *a; *a = *b; *b = c; }\n\n/* 配列aを配列bに並び替えるための最小入れ換え回数を返す */\nint solve(const int* a, const int* b, int n) {\n\tint i, j;\n\n\t/* 含まれる0と1の個数が等しいか確かめる */\n\tint a_sum = 0, b_sum = 0;\n\tfor (i = 0; i < n; i++) a_sum += a[i];\n\tfor (i = 0; i < n; i++) b_sum += b[i];\n\tif (a_sum != b_sum) return IMPOSSIBLE; /* 並び替えても配列は一致しない */\n\n\t/* 並び替え */\n\tint c[15];\n\tfor (i = 0; i < n; i++) c[i] = a[i];\n\n\tint cost = 0;\n\tfor (i = 0; i < n; i++) {\n\t\tfor (j = i; b[i] != c[j] && j < n; j++); /* 目的の要素を探す */\n\t\tif (i != j) swap(c + i, c + j);\n\t\tcost += j - i;\n\t}\n\treturn cost;\n}\n\n/* 略記された配列を0と1に展開する */\nvoid decompress(int* d, const int* s, int m, int base) {\n\tint i, j, k;\n\tfor (i = 0, j = 0, k = 0; i < m; i++) {\n\t\tk += s[i];\n\t\tfor (; j < k; j++) d[j] = (i + base) % 2;\n\t}\n}\n\nint main(void) {\n\tint n, m, b[15], p[15]; /* 入力 */\n\tint p0[15], p1[15], cost0, cost1;\n\tint i;\n\n\t/* データセット毎の処理 */\n\twhile (scanf(\"%d%d\", &n, &m) == 2 && n >= 1 && n <= 15 && m >= 1 && m <= n) {\n\t\tfor (i = 0; i < n; i++) scanf(\"%d\", b + i);\n\t\tfor (i = 0; i < m; i++) scanf(\"%d\", p + i);\n\n\t\t/* p[]を0と1の配列に展開する */\n\t\tdecompress(p0, p, m, 0);\n\t\tdecompress(p1, p, m, 1);\n\n\t\t/* 最小入れ換え回数を求める */\n\t\tcost0 = solve(p0, b, n);\n\t\tcost1 = solve(p1, b, n);\n\n\t\t/* 出力 */\n\t\tprintf(\"%d\\n\", min(cost0, cost1));\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 1345\n  Title:Bit String Reordering\n  @kankichi573\n*/\n#include <stdio.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\n#define min(x,y) (((x)<(y))?(x):(y))\nint M,N;\nchar b[15];\nchar b1[15];\nint  p[15];\nint  p1[15];\n\nint solve(char bit[],int runlen[],int len,int runlenlen,char start)\n{\n  int pos;\n  char *p;\n\n  if(len==1)\n    return(0);\n  if(runlen[0]==0)\n    return(solve(bit,runlen+1,len,runlenlen-1,start=='1'?'0':'1'));\n  if(len==2)\n    {\n      if(bit[0]==start)\n\treturn(0);\n      else\n\treturn(1);\n    }\n  else if(bit[0]==start)\n    {\n      runlen[0]--;\n      return(solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='0')\n    {\n      p = strchr(bit,'0');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='1';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='1')\n    {\n      p = strchr(bit,'1');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='0';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n}\n\nmain()\n{\n  int i,ret,c1,ce,ret1,ret2;\n  \n  scanf(\"%d %d \",&N,&M);\n\n  for(i=c1=0;i<N;i++)\n    {  \n      scanf(\"%c \",&b[i]);\n      if(b[i]=='1')\n\tc1++;\n    }\n  for(i=ce=0;i<M;i++)\n    {\n      scanf(\"%d\",&p[i]);\n      if((i & 1)==0)\n\tce += p[i];\n    }\n\n    if(c1*2==N)\n    {\n      memcpy(b1,b,sizeof(b));\n      memcpy(p1,p,sizeof(p));\n      ret1=solve(b,p,N,M,'1');\n      ret2=solve(b1,p1,N,M,'0');\n      ret=min(ret1,ret2);\n    }\n  else if (ce==c1)\n    ret=solve(b,p,N,M,'1');\n  else\n    ret=solve(b,p,N,M,'0');\n  \n\n  printf(\"%d\\n\",ret);\n  \n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint n,m,bit[15],tmp[15],i,j,k,tgt[15],tgb[15],sw,bitsum=0,tgsum=0;\n\tscanf(\"%d %d\",&n,&m);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%d\",&bit[i]);\n\t\ttmp[i]=bit[i];\n\t\tbitsum+=bit[i];\n\t}\n\tfor(i=0;i<m;i++){\n\t\tscanf(\"%d\",&tgt[i]);\n\t}\n\ti=j=k=0;\n\tsw=0;\n\twhile(1){\n\t\tif(sw%2==0){\n\t\t\ttgb[k]=0;\n\t\t}\n\t\telse{\n\t\t\ttgb[k]=1;\n\t\t\ttgsum++;\n\t\t}\n\t\tk++;\n\t\ti++;\n\t\tif(i==tgt[j]){\n\t\t\tj++;\n\t\t\tsw++;\n\t\t\ti=0;\n\t\t}\n\t\tif(j==m){\n\t\t\tbreak;\n\t\t}\n\t}\n\t//0start\n\tint zero=0;\n\tif(bitsum==tgsum){\n\t\twhile(1){\n\t\t\tsw=0;\n\t\t\tfor(i=0;i<n;i++){\n\t\t\t\tif(tgb[i]!=tmp[i]){\n\t\t\t\t\tsw++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(sw==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor(i=0;i<n;i++){\n\t\t\t\tif(tgb[i]!=tmp[i]){\n\t\t\t\t\tk=i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(i=k+1;i<n;i++){\n\t\t\t\tif(tmp[k]!=tmp[i]){\n\t\t\t\t\tzero+=i-k;\n\t\t\t\t\tj=tmp[k];\n\t\t\t\t\ttmp[k]=tmp[i];\n\t\t\t\t\ttmp[i]=j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse{\n\t\tzero=1000000;\n\t}\n\tfor(i=0;i<n;i++){\n\t\tif(tgb[i]==1){\n\t\t\ttgb[i]=0;\n\t\t}\n\t\telse{\n\t\t\ttgb[i]=1;\n\t\t}\n\t}\n\tfor(i=0;i<n;i++){\n\t\ttmp[i]=bit[i];\n\t}\n\t//1start\n\tint one=0;\n\ttgsum=n-tgsum;\n\tif(bitsum==tgsum){\n\t\twhile(1){\n\t\t\tsw=0;\n\t\t\tfor(i=0;i<n;i++){\n\t\t\t\tif(tgb[i]!=tmp[i]){\n\t\t\t\t\tsw++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(sw==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor(i=0;i<n;i++){\n\t\t\t\tif(tgb[i]!=tmp[i]){\n\t\t\t\t\tk=i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(i=k+1;i<n;i++){\n\t\t\t\tif(tmp[k]!=tmp[i]){\n\t\t\t\t\tone+=i-k;\n\t\t\t\t\tj=tmp[k];\n\t\t\t\t\ttmp[k]=tmp[i];\n\t\t\t\t\ttmp[i]=j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse{\n\t\tone=1000000;\n\t}\n\tif(one>zero){\n\t\tprintf(\"%d\\n\",zero);\n\t}\n\telse{\n\t\tprintf(\"%d\\n\",one);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 1345\n  Title:Bit String Reordering\n  @kankichi573\n*/\n#include <stdio.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\n#define min(x,y) (((x)<(y))?(x):(y))\nint M,N;\nchar b[15];\nint  p[15];\n\nint solve(char bit[],int runlen[],int len,int runlenlen,char start)\n{\n  int pos;\n  char *p;\n\n#ifdef DEBUG  \n  int i;\n  for(i=0;i<len;i++)\n    printf(\"%c|\",bit[i]);\n  printf(\"\\n\");\n  for(i=0;i<runlenlen;i++)\n    printf(\"%d|\",runlen[i]);\n  printf(\"\\n\");\n  printf(\"start=%c\\n\",start);\n#endif\n\n  if(len==1)\n    return(0);\n  if(runlen[0]==0)\n    return(solve(bit,runlen+1,len,runlenlen-1,start=='1'?'0':'1'));\n  else if(bit[0]==start)\n    {\n      runlen[0]--;\n      return(solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='0')\n    {\n      p = strchr(bit,'0');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='1';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='1')\n    {\n      p = strchr(bit,'1');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='0';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n}\n\nmain()\n{\n  int i,ret,c1,ce,ret1,ret2;\n  \n  scanf(\"%d %d \",&N,&M);\n\n  for(i=c1=0;i<N;i++)\n    {  \n      scanf(\"%c \",&b[i]);\n      if(b[i]=='1')\n\tc1++;\n    }\n  for(i=ce=0;i<M;i++)\n    {\n      scanf(\"%d\",&p[i]);\n      if((i & 1)==0)\n\tce += p[i];\n    }\n\n  //printf(\"c1=%d ce=%d\\n\",c1,ce);\n  if (N < 3)\n    ret=0;\n  else if(c1*2==N)\n    {\n      ret1=solve(b,p,N,M,'1');\n      ret2=solve(b,p,N,M,'0');\n      ret=min(ret1,ret2);\n    }\n  else if (ce==c1)\n    ret=solve(b,p,N,M,'1');\n  else\n    ret=solve(b,p,N,M,'0');\n  \n\n  printf(\"%d\\n\",ret);\n  \n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\n#define MAX 15\n\nint guchoku(const int *start, const int *goal, int num) {\n\tint status[MAX];\n\tint i, j;\n\tint count = 0;\n\tfor (i = 0; i < num; i++) {\n\t\tstatus[i] = start[i];\n\t}\n\tfor (i = 0; i < num; i++) {\n\t\tif (status[i] != goal[i]) {\n\t\t\tfor (j = i + 1; j < num; j++) {\n\t\t\t\tif (status[j] == goal[i]) break;\n\t\t\t}\n\t\t\tif (j >= num) return MAX * MAX + 10;\n\t\t\tfor (; j > i; j--) {\n\t\t\t\tint temp = status[j];\n\t\t\t\tstatus[j] = status[j - 1];\n\t\t\t\tstatus[j - 1] = temp;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t}\n\treturn count;\n}\n\nint main(void) {\n\tint N, M;\n\tint b[MAX];\n\tint p[MAX];\n\tint target[MAX];\n\tint start, current, phase, left;\n\tint i;\n\tint answer = -1, candidate;\n\tif (scanf(\"%d%d\", &N, &M) != 2) return 1;\n\tfor (i = 0; i < N; i++) {\n\t\tif (scanf(\"%d\", &b[i]) != 1) return 1;\n\t}\n\tfor (i = 0; i < M; i++) {\n\t\tif (scanf(\"%d\", &p[i]) != 1) return 1;\n\t}\n\tfor (start = 0; start <= 1; start++) {\n\t\tcurrent = start;\n\t\tphase = 0;\n\t\tleft = p[0];\n\t\tfor (i = 0; i < N; i++) {\n\t\t\ttarget[i] = current;\n\t\t\tleft--;\n\t\t\tif (left <= 0) {\n\t\t\t\tcurrent = 1 - current;\n\t\t\t\tphase++;\n\t\t\t\tleft = p[phase];\n\t\t\t}\n\t\t}\n\t\tcandidate = guchoku(b, target, N);\n\t\tif (answer < 0 || candidate < answer) answer = candidate;\n\t}\n\tprintf(\"%d\\n\", answer);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n  AOJ 1345\n  Title:Bit String Reordering\n  @kankichi573\n*/\n#include <stdio.h>\n#include <string.h>\n\n#define max(x,y) (((x)>(y))?(x):(y))\n#define min(x,y) (((x)<(y))?(x):(y))\nint M,N;\nchar b[15];\nint  p[15];\n\nint solve(char bit[],int runlen[],int len,int runlenlen,char start)\n{\n  int pos;\n  char *p;\n\n#ifdef DEBUG  \n  int i;\n  for(i=0;i<len;i++)\n    printf(\"%c|\",bit[i]);\n  printf(\"\\n\");\n  for(i=0;i<runlenlen;i++)\n    printf(\"%d|\",runlen[i]);\n  printf(\"\\n\");\n  printf(\"start=%c\\n\",start);\n#endif\n\n  if(len<=2)\n    return(0);\n \n  if(runlen[0]==0)\n    return(solve(bit,runlen+1,len,runlenlen-1,start=='1'?'0':'1'));\n  else if(bit[0]==start)\n    {\n      runlen[0]--;\n      return(solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='0')\n    {\n      p = strchr(bit,'0');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='1';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n  else if(start=='1')\n    {\n      p = strchr(bit,'1');\n      pos =  p - bit;\n      runlen[0]--;\n      *p='0';\n      return(pos+solve(bit+1,runlen,len-1,runlenlen,start));\n    }\n}\n\nmain()\n{\n  int i,ret,c1,ce,ret1,ret2;\n  \n  scanf(\"%d %d \",&N,&M);\n\n  for(i=c1=0;i<N;i++)\n    {  \n      scanf(\"%c \",&b[i]);\n      if(b[i]=='1')\n\tc1++;\n    }\n  for(i=ce=0;i<M;i++)\n    {\n      scanf(\"%d\",&p[i]);\n      if((i & 1)==0)\n\tce += p[i];\n    }\n\n  //printf(\"c1=%d ce=%d\\n\",c1,ce);\n  \n  if(c1*2==N)\n    {\n      ret1=solve(b,p,N,M,'1');\n      ret2=solve(b,p,N,M,'0');\n      ret=min(ret1,ret2);\n    }\n  else if (ce==c1)\n    ret=solve(b,p,N,M,'1');\n  else\n    ret=solve(b,p,N,M,'0');\n  \n\n  printf(\"%d\\n\",ret);\n  \n  return(0);\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 1345: Bit String Reordering\n// 2017.12.4 bal4u@uu\n\n#include <stdio.h>\n\n#define INF 1000\n\nint b[16];\nint zero[16], one[16];\n\nint swap(int *a, int goal, int fr, int to)\n{\n\tint i;\n\n\tfor (i = fr+1; i < to; i++) {\n\t\tif (a[i] == goal) { a[i] = a[fr], a[fr] = goal; return i - fr; }\n\t}\n\treturn INF;\n}\n\nint main()\n{\n\tint n, m, p, i, j, bit, cnt0, cnt1;\n\n\tscanf(\"%d%d\", &n, &m);\n\tfor (i = 0; i < n; i++) scanf(\"%d\", b+i);\n\tfor (bit = 0, j = i = 0; i < m; i++, bit = !bit) {\n\t\tscanf(\"%d\", &p);\n\t\twhile (p--) zero[j] = bit, one[j++] = !bit;\n\t}\n\n\tfor (cnt0 = cnt1 = 0, i = 0; i < n; i++) {\n\t\tif (zero[i] != b[i]) cnt0 += swap(zero, b[i], i, n);\n\t\tif ( one[i] != b[i]) cnt1 += swap( one, b[i], i, n);\n\t}\n\tif (cnt0 > cnt1) cnt0 = cnt1;\n\tprintf(\"%d\\n\", cnt0);\n\treturn 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\nimport java.util.*;\n \npublic class Main {\n\tfinal int INF = (int)1e9 + 7;\n\tint N,M;\n\tint[] B,P,one,zero,tmp;\n\tpublic int dfs(int n,int[] array)\n\t{\n\t\tif(n == N){\n\t\t\treturn 0;\n\t\t}\n\t\tint ret = 0;\n\t\tif(array[n] == tmp[n]){\n\t\t\tret = dfs(n + 1,array);\n\t\t}else{\n\t\t\tint count = 0;\n\t\t\tfor(int i = n + 1;i < N;i++){\n\t\t\t\tcount++;\n\t\t\t\tif(array[i] == tmp[n]){\n\t\t\t\t\tint copy = array[i];\n\t\t\t\t\tfor(int j = i; j > n;j--){\n\t\t\t\t\t\tarray[j] = array[j - 1];\n\t\t\t\t\t}\n\t\t\t\t\tarray[n] = copy;\n\t\t\t\t\tret = dfs(n + 1,array);\n\t\t\t\t\tif(ret == INF){\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\t\t\t\t\tret += count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(count == 0){\n\t\t\t\treturn INF;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn ret;\n\t}\n\t\n\tpublic void solve() {\n\t\tN = nextInt();\n\t\tM = nextInt();\n\t\t\n\t\tB = new int[N];\n\t\tP = new int[M];\n\t\tfor(int i = 0;i < N;i++){\n\t\t\tB[i] = nextInt();\n\t\t}\n\t\t\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tP[i] = nextInt();\n\t\t}\n\t\tone = new int[N];\n\t\tzero = new int[N];\n\t\tint k = 0;\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tfor(int j = 0;j < P[i];j++){\n\t\t\t\tone[k + j] = i % 2 == 0 ? 1 : 0;\n\t\t\t}\n\t\t\tk += P[i];\n\t\t}\n\t\tk = 0;\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tfor(int j = 0;j < P[i];j++){\n\t\t\t\tzero[k + j] = i % 2 == 0 ? 0 : 1;\n\t\t\t}\n\t\t\tk += P[i];\n\t\t}\n\t\ttmp = Arrays.copyOf(B,N);\n\t\tint ans = dfs(0,one);\n\t\ttmp = Arrays.copyOf(B,N);\n\t\tans = Math.min(ans,dfs(0,zero));\n\t\tout.println(ans);\n\t}\n \n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n \n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n \n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n \n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n \n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n \n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n \n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n \n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n \n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n \n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\tstatic Scanner sc = new Scanner(System.in);\n\tstatic int[] B;\n\n\tpublic static void main(String[] args) {\n\t\tint N = sc.nextInt();\n\t\tint M = sc.nextInt();\n\t\tB = new int[N];\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tB[i] = sc.nextInt();\n\t\t}\n\t\tint[] target = new int[N];\n\t\tint pos = 0;\n\t\tint val = 0;\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tint P = sc.nextInt();\n\t\t\tfor (int j = 0; j < P; ++j) {\n\t\t\t\ttarget[pos++] = val;\n\t\t\t}\n\t\t\tval ^= 1;\n\t\t}\n\t\tint ans = solve(target);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\ttarget[i] ^= 1;\n\t\t}\n\t\tans = Math.min(ans, solve(target));\n\t\tSystem.out.println(ans);\n\t}\n\n\tstatic int solve(int[] target) {\n\t\tint sum = 0;\n\t\tfor (int i = 0; i < B.length; ++i) {\n\t\t\tsum += B[i];\n\t\t\tsum -= target[i];\n\t\t}\n\t\tif (sum != 0) return 999;\n\t\tArrayList<Integer> pos1 = new ArrayList<Integer>();\n\t\tArrayList<Integer> pos2 = new ArrayList<Integer>();\n\t\tfor (int i = 0; i < B.length; ++i) {\n\t\t\tif (B[i] == 0) pos1.add(i);\n\t\t\tif (target[i] == 0) pos2.add(i);\n\t\t}\n\t\tint ret = 0;\n\t\tfor (int i = 0; i < pos1.size(); ++i) {\n\t\t\tret += Math.abs(pos1.get(i) - pos2.get(i));\n\t\t}\n\t\treturn ret;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\nimport static java.util.Arrays.*;\nimport static java.util.Collections.*;\nimport static java.lang.Math.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\t//long INF = 1L << 62;\n\tdouble EPS = 1e-10;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\tString a = \"\";\n\t\tString s1 = \"\", s2 = \"\";\n\t\tint x = 0;\n\t\tfor (int i=0;i<n;i++) a += sc.nextInt();\n\t\tfor (int j=0;j<m;j++) {\n\t\t\tfor (int k=0, p=sc.nextInt();k<p;k++) {\n\t\t\t\ts1 += x; s2 += 1 -x;\n\t\t\t}\n\t\t\tx = 1-x;\n\t\t}\n\t\t\n\t\tSystem.out.println(min(len(a, s1), len(a, s2)));\n\t}\n\t\n\tint len (String a, String b) {\n\t\tint l = a.length(), n = 0;\n\t\tint[] A = new int[l], B = new int[l];\n\t\tfor (int i=0;i<l;i++) A[i] = a.charAt(i) - '0';\n\t\tfor (int i=0;i<l;i++) B[i] = b.charAt(i) - '0';\n\t\tfor (int i=0;i<l;i++) {\n\t\t\tif (A[i] == 1) n++;\n\t\t\tif (B[i] == 1) n--;\n\t\t}\n\t\tif (n != 0) return INF;\n\t\tint cnt = 0;\n\t\tfor (int i=0;i<l;i++) {\n\t\t\tif(A[i] == B[i])\n\t\t\t\tcontinue;\n\t\t\t\n\t\t\tfor (int j=i;j<l;j++) {\n\t\t\t\tif (B[i] == A[j]) {\n\t\t\t\t\tint tmp = A[i];\n\t\t\t\t\tA[i] = A[j];\n\t\t\t\t\tA[j] = tmp;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n//\t\t\tdebug(A, B);\n\t\t}\n//\t\tdebug(A, B, cnt);\n\t\treturn cnt;\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n \npublic class Main{\n\tint N;\n\tint M;\n\tint[] bits;\n\tint[] rl;\n\tpublic void solve(){\n\t\tN = nextInt();\n\t\tM = nextInt();\n\t\tbits = new int[N];\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tbits[i] = nextInt();\n\t\t}\n\t\t\n\t\trl = new int[M];\n\t\tfor(int i = 0; i < M; i++){\n\t\t\trl[i] = nextInt();\n\t\t}\n\t\tint[] bb = new int[N];\n\t\tint idx = 0;\n\t\tfor(int i = 0; i < M; i++){\n\t\t\tfor(int j = 0; j < rl[i]; j++){\n\t\t\t\tbb[idx++] = i % 2;\n\t\t\t}\n\t\t}\n\t\tint a = swap(bits, bb);\n\n\t\tidx = 0;\n\t\tfor(int i = 0; i < M; i++){\n\t\t\tfor(int j = 0; j < rl[i]; j++){\n\t\t\t\tbb[idx++] = (i + 1) % 2;\n\t\t\t}\n\t\t}\n\t\tint b = swap(bits, bb);\n\t\tout.println(Math.min(a, b));\n\t}\n\t\n\tpublic int swap(int[] a, int[] b){\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < a.length; i++){\n\t\t\tif(a[i] != b[i]){\n\t\t\t\t\n\t\t\t\tint idx = -1;\n\t\t\t\tfor(int j = i + 1; j < b.length; j++){\n\t\t\t\t\tif(a[i] == b[j]){\n\t\t\t\t\t\tidx = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(idx == -1) return Integer.MAX_VALUE;\n\t\t\t\tfor(int j = idx; j > i; j--){\n\t\t\t\t\tswap(b, j, j - 1);\n\t\t\t\t\tans++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n \n\tpublic void swap(int[] a, int i, int j){\n\t\tint tmp = a[i];\n\t\ta[i] = a[j];\n\t\ta[j] = tmp;\n\t}\n\t\n\tprivate static PrintWriter out;\n\tpublic static void main(String[] args){\n\t\tout = new PrintWriter(System.out);\n\t\tnew Main().solve();\n\t\tout.flush();\n\t}\n\t\n\t\n\t\n\tpublic static int nextInt(){\n\t\tint num = 0;\n\t\tString str = next();\n\t\tboolean minus = false;\n\t\tint i = 0;\n\t\tif(str.charAt(0) == '-'){\n\t\t\tminus = true;\n\t\t\ti++;\n\t\t}\n\t\tint len = str.length();\n\t\tfor(;i < len; i++){\n\t\t\tchar c = str.charAt(i);\n\t\t\tif(!('0' <= c && c <= '9')) throw new RuntimeException();\n\t\t\tnum = num * 10 + (c - '0');\n\t\t}\n\t\treturn minus ? -num : num;\n\t}\n\t\n\tpublic static long nextLong(){\n\t\tlong num = 0;\n\t\tString str = next();\n\t\tboolean minus = false;\n\t\tint i = 0;\n\t\tif(str.charAt(0) == '-'){\n\t\t\tminus = true;\n\t\t\ti++;\n\t\t}\n\t\tint len = str.length();\n\t\tfor(;i < len; i++){\n\t\t\tchar c = str.charAt(i);\n\t\t\tif(!('0' <= c && c <= '9')) throw new RuntimeException();\n\t\t\tnum = num * 10l + (c - '0');\n\t\t}\n\t\treturn minus ? -num : num;\n\t}\n\tpublic static String next(){\n\t\tint c;\n\t\twhile(!isAlNum(c = read())){}\n\t\tStringBuilder build = new StringBuilder();\n\t\tbuild.append((char)c);\n\t\twhile(isAlNum(c = read())){\n\t\t\tbuild.append((char)c);\n\t\t}\n\t\treturn build.toString();\n\t}\n\t\n\t\n\tprivate static byte[] inputBuffer = new byte[1024];\n\tprivate static int bufferLength = 0;\n\tprivate static int bufferIndex = 0;\n\tprivate static int read(){\n\t\tif(bufferLength < 0) throw new RuntimeException();\n\t\tif(bufferIndex >= bufferLength){\n\t\t\ttry{\n\t\t\t\tbufferLength = System.in.read(inputBuffer);\n\t\t\t\tbufferIndex = 0;\n\t\t\t}catch(IOException e){\n\t\t\t\tthrow new RuntimeException(e);\n\t\t\t}\n\t\t\tif(bufferLength <= 0) return (bufferLength = -1);\n\t\t}\n\t\treturn inputBuffer[bufferIndex++];\n\t}\n\t\n\tprivate static boolean isAlNum(int c){\n\t\treturn '!' <= c && c <= '~';\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "public class Main{\n\tpublic void run(java.io.InputStream in,java.io.PrintStream out){\n\t\tjava.util.Scanner sc = new java.util.Scanner(in);\n\n/*answer*/\n\t\tint N, M;\n\t\tint[] b, p;\n\t\tint od, ev, ze, i, count;\n\n\t\tN = sc.nextInt();\n\t\tM = sc.nextInt();\n\t\tb = new int[N];\n\t\tp = new int[M];\n\t\tod = 0;\n\t\tev = 0;\n\t\tze = 0;\n\t\tcount = 0;\n\n\t\tfor(i = 0;i < N;i++){\n\t\t\tb[i] = sc.nextInt();\n\t\t\tif(b[i] == 0)ze++;\n\t\t}\n\t\tfor(i = 0;i < M;i++){\n\t\t\tp[i] = sc.nextInt();\n\t\t\tif(i % 2 == 0){\n\t\t\t\tev += p[i];\n\t\t\t}else{\n\t\t\t\tod += p[i];\n\t\t\t}\n\t\t}\n\t\tsc.close();\n\n\t\tif(ev != od){\n\t\t\tif(ev == ze){\n\t\t\t\tcount = zerosort(b, p, N, M);\n\t\t\t}else{\n\t\t\t\tfor(i = 0;i < N;i++){\n\t\t\t\t\tb[i] = (b[i] + 1) % 2;\n\t\t\t\t}\n\t\t\t\tcount = zerosort(b, p, N, M);\n\t\t\t}\n\t\t}else{\n\t\t\tcount = zerosort(b, p, N, M);\n\t\t\tfor(i = 0;i < N;i++){\n\t\t\t\tb[i] = (b[i] + 1) % 2;\n\t\t\t}\n\t\t\tze = zerosort(b, p, N, M);\n\t\t\tif(count > ze)count = ze;\n\t\t}\n\n\t\tSystem.out.println(count);\n\n\t}\n\tpublic static void main(String[] args){\n\t\t(new Main()).run(System.in,System.out);\n\t}\n\n\tprivate static int zerosort(int[] b, int[] p, int N, int M){\n\t\tint i, j, k, a, count, xx;\n\t\tint[] ans, b2;\n\n\t\tans = new int[N];\n\t\tb2 = new int[N];\n\n\t\ta = 0;\n\t\tk = 0;\n\t\tcount = 0;\n\t\tfor(i = 0;i < M;i++){\n\t\t\tfor(j = 0;j < p[i];j++){\n\t\t\t\tans[j + k] = a;\n\t\t\t}\n\t\t\tk += p[i];\n\t\t\ta = (a + 1) % 2;\n\t\t}\n\n\t\tfor(i = 0;i < N;i++){\n\t\t\tb2[i] = b[i];\n\t\t}\n\n\t\tfor(i = 0;i < (N - 1);i++){\n\t\t\tfor(j = i;j < N;j++){\n\t\t\t\tif(ans[i] == b2[j]){\n\t\t\t\t\ta = b2[i];\n\t\t\t\t\tb2[i] = b2[j];\n\t\t\t\t\tb2[j] = a;\n\t\t\t\t\tcount = count + (j - i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "public class Main{\n\tpublic void run(java.io.InputStream in,java.io.PrintStream out){\n\t\tjava.util.Scanner sc = new java.util.Scanner(in);\n\n/*answer*/\n\t\tint N, M;\n\t\tint[] b, p;\n\t\tint od, ev, ze, i, count;\n\n\t\tN = sc.nextInt();\n\t\tM = sc.nextInt();\n\t\tb = new int[N];\n\t\tp = new int[M];\n\t\tod = 0;\n\t\tev = 0;\n\t\tze = 0;\n\t\tcount = 0;\n\n\t\tfor(i = 0;i < N;i++){\n\t\t\tb[i] = sc.nextInt();\n\t\t\tif(b[i] == 0)ze++;\n\t\t}\n\t\tfor(i = 0;i < M;i++){\n\t\t\tp[i] = sc.nextInt();\n\t\t\tif(i % 2 == 0){\n\t\t\t\tev += p[i];\n\t\t\t}else{\n\t\t\t\tod += p[i];\n\t\t\t}\n\t\t}\n\t\tsc.close();\n\n\t\tif(ev != od){\n\t\t\tif(ev == ze){\n\t\t\t\tcount = zerosort(b, p, N, M);\n\t\t\t}else{\n\t\t\t\tfor(i = 0;i < N;i++){\n\t\t\t\t\tb[i] = (b[i] + 1) % 2;\n\t\t\t\t}\n\t\t\t\tcount = zerosort(b, p, N, M);\n\t\t\t}\n\t\t}else{\n\t\t\tcount = zerosort(b, p, N, M);\n\t\t\tfor(i = 0;i < N;i++){\n\t\t\t\tb[i] = (b[i] + 1) % 2;\n\t\t\t}\n\t\t\tze = zerosort(b, p, N, M);\n\t\t\tif(count > ze)count = ze;\n\t\t}\n\n\t\tSystem.out.println(count);\n\n\t}\n\tpublic static void main(String[] args){\n\t\t(new Main()).run(System.in,System.out);\n\t}\n\n\tprivate static int zerosort(int[] b, int[] p, int N, int M){\n\t\tint i, j, k, a, count;\n\t\tint[] ans;\n\t\tans = new int[N];\n\n\t\ta = 0;\n\t\tk = 0;\n\t\tcount = 0;\n\t\tfor(i = 0;i < M;i++){\n\t\t\tfor(j = 0;j < p[i];j++){\n\t\t\t\tans[j + k] = a;\n\t\t\t}\n\t\t\tk += p[i];\n\t\t\ta = (a + 1) % 2;\n\t\t}\n\n/*warning*/\n\t\tfor(i = 0;i < (N - 1);i++){\n\t\t\tfor(j = i;j < N;j++){\n\t\t\t\tif(ans[i] == b[j]){\n\t\t\t\t\ta = b[i];\n\t\t\t\t\tb[i] = b[j];\n\t\t\t\t\tb[j] = a;\n\t\t\t\t\tcount = count + (j - i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Scanner;\nimport java.util.Vector;\n\npublic class Main{\n\n\tpublic static void main(String[] args) {\n\t\t// TODO Auto-generated method stub\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\t\n\t\tint inputBinary[] = new int[n];\n\t\tint numZero = 0;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tinputBinary[i] = sc.nextInt();\n\t\t\tif(inputBinary[i] == 0) {\n\t\t\t\tnumZero++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tint inputSegment[] = new int[m];\n\t\t\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tinputSegment[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tboolean isZero = true;\n\t\tVector<Integer> vec1 = new Vector<Integer>();\n\t\tVector<Integer> vec2 = new Vector<Integer>();\n\t\t\n\t\tint index = 0;\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tfor(int j = 0; j < inputSegment[i]; j++) {\n\t\t\t\tif(isZero) {\n\t\t\t\t\tvec1.add(index);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvec2.add(index);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\tisZero = !isZero;\n\t\t}\n\t\t\n\t\tint vecIndex = 0;\n\t\tint result1 = Integer.MAX_VALUE;\n\t\tif(numZero == vec1.size()) {\n\t\t\tresult1 = 0;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(inputBinary[i] == 0) {\n\t\t\t\t\tresult1 += Math.abs(i - vec1.get(vecIndex));\n\t\t\t\t\tvecIndex++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvecIndex = 0;\n\t\tint result2 = Integer.MAX_VALUE;\n\t\tif(numZero == vec2.size()) {\n\t\t\tresult2 = 0;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(inputBinary[i] == 0) {\n\t\t\t\t\tresult2 += Math.abs(i - vec2.get(vecIndex));\n\t\t\t\t\tvecIndex++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\n\t\tSystem.out.println(Math.min(result1, result2));\n\t}\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\n\tvoid run() {\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\tint[] bit = new int[n];\n\t\tint[] len = new int[m];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tbit[i] = sc.nextInt();\n\t\t}\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tlen[i] = sc.nextInt();\n\t\t}\n\t\tint[] goal1 = new int[n];\n\t\tint[] goal2 = new int[n];\n\t\tboolean turn = false;\n\t\tint index = 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tturn = !turn;\n\t\t\tfor (int j = 0; j < len[i]; j++) {\n\t\t\t\tgoal1[index] = turn ? 1 : 0;\n\t\t\t\tgoal2[index++] = turn ? 0 : 1;\n\t\t\t}\n\t\t}\n\t\t//debug(goal1);\n\t\t//debug(goal2);\n\n\t\tint[] p1 = new int[n];\n\t\tint[] p2 = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tp1[i] = bit[i];\n\t\t\tp2[i] = bit[i];\n\t\t}\n\t\t//debug(p1);\n\t\t//debug(p2);\n\t\tint cnt1 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p1[i] != goal1[i]) {\n\t\t\t\tint s = i;\n\t\t\t\tint t = -1;\n\t\t\t\tfor (int j = i; j < n; j++) {\n\t\t\t\t\tif (p1[i] != p1[j]) {\n\t\t\t\t\t\tt = j;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (t != -1) {\n\t\t\t\t\tint tmp = p1[s];\n\t\t\t\t\tp1[s] = p1[t];\n\t\t\t\t\tp1[t] = tmp;\n\t\t\t\t\tcnt1 += t - s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tboolean able1 = true;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p1[i] != goal1[i]) {\n\t\t\t\table1 = false;\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p2[i] != goal2[i]) {\n\t\t\t\tint s = i;\n\t\t\t\tint t = -1;\n\t\t\t\tfor (int j = i; j < n; j++) {\n\t\t\t\t\tif (p2[i] != p2[j]) {\n\t\t\t\t\t\tt = j; \n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (t != -1) {\n\t\t\t\t\tint tmp = p2[s];\n\t\t\t\t\tp2[s] = p2[t];\n\t\t\t\t\tp2[t] = tmp;\n\t\t\t\t\tcnt2 += t - s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tboolean able2 = true;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p2[i] != goal2[i]) {\n\t\t\t\table2 = false;\n\t\t\t}\n\t\t}\n\t\tif (!able1 && !able2) {\n\t\t\tSystem.out.println(0);\n\t\t} else {\n\t\t\tif (!able1 && able2) {\n\t\t\t\tSystem.out.println(cnt2);\n\t\t\t} else if (able1 && !able2) {\n\t\t\t\tSystem.out.println(cnt1);\n\t\t\t} else {\n\t\t\t\tSystem.out.println(Math.min(cnt1, cnt2));\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\nimport static java.util.Arrays.*;\nimport static java.util.Collections.*;\nimport static java.lang.Math.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\t//long INF = 1L << 62;\n\tdouble EPS = 1e-10;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\tString a = \"\";\n\t\tString s1 = \"\", s2 = \"\";\n\t\tint x = 0;\n\t\tfor (int i=0;i<n;i++) a += sc.nextInt();\n\t\tfor (int j=0;j<m;j++) {\n\t\t\tfor (int k=0, p=sc.nextInt();k<p;k++) {\n\t\t\t\ts1 += x; s2 += 1 -x;\n\t\t\t}\n\t\t\tx = 1-x;\n\t\t}\n\t\t\n\t\tSystem.out.println(min(len(a, s1), len(a, s2)));\n\t}\n\t\n\tint len (String a, String b) {\n\t\tint l = a.length(), n = 0;\n\t\tint[] A = new int[l], B = new int[l];\n\t\tfor (int i=0;i<l;i++) A[i] = a.charAt(i) - '0';\n\t\tfor (int i=0;i<l;i++) B[i] = b.charAt(i) - '0';\n\t\tfor (int i=0;i<l;i++) {\n\t\t\tif (A[i] == 1) n++;\n\t\t\tif (B[i] == 1) n--;\n\t\t}\n\t\tif (n != 0) return INF;\n\t\tint t = 0, cnt = 0;\n\t\tfor (int i=0;i<l;i++) {\n\t\t\tfor (int j=i;j<l;j++) {\n\t\t\t\tif (A[i] == B[j]) {\n\t\t\t\t\tint tmp = A[i];\n\t\t\t\t\tA[i] = A[j];\n\t\t\t\t\tA[j] = tmp;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n//\t\tdebug(A, B, cnt);\n\t\treturn cnt;\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.Closeable;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.math.BigInteger;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedHashMap;\nimport java.util.LinkedHashSet;\nimport java.util.LinkedList;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.PriorityQueue;\nimport java.util.StringTokenizer;\nimport java.util.TreeSet;\n \npublic class Main {\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tfinal int n = sc.nextInt();\n\t\tfinal int m = sc.nextInt();\n\t\t\n\t\tArrayList<Integer> one_pos = new ArrayList<Integer>();\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfinal int val = sc.nextInt();\n\t\t\t\n\t\t\tif(val == 1){\n\t\t\t\tone_pos.add(i);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint[] runs = new int[m];\n\t\tfor(int i = 0; i < m; i++){\n\t\t\truns[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tint answer = Integer.MAX_VALUE;\n\t\tfor(int i = 0; i < 2; i++){\n\t\t\tboolean bit = (i == 1);\n\t\t\t\n\t\t\tArrayList<Integer> answer_one_pos = new ArrayList<Integer>();\n\t\t\tint sum = 0;\n\t\t\tfor(int j = 0; j < m; j++){\n\t\t\t\tif(bit){\n\t\t\t\t\tfor(int k = 0; k < runs[j]; k++){\n\t\t\t\t\t\tanswer_one_pos.add(sum + k);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\tsum += runs[j];\n\t\t\t\tbit = !bit;\n\t\t\t}\n\t\t\t//System.out.println(one_pos + \" \" + answer_one_pos);\n\t\t\tif(one_pos.size() != answer_one_pos.size()){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tint score = 0;\n\t\t\tfor(int j = 0; j < one_pos.size(); j++){\n\t\t\t\tscore += Math.abs(one_pos.get(j) - answer_one_pos.get(j));\n\t\t\t}\n\t\t\t\n\t\t\tanswer = Math.min(answer, score);\n\t\t}\n\t\t\n\t\tSystem.out.println(answer);\n\t}\n \n\tpublic static class Scanner implements Closeable {\n\t\tprivate BufferedReader br;\n\t\tprivate StringTokenizer tok;\n \n\t\tpublic Scanner(InputStream is) throws IOException {\n\t\t\tbr = new BufferedReader(new InputStreamReader(is));\n\t\t}\n \n\t\tprivate void getLine() throws IOException {\n\t\t\twhile (!hasNext()) {\n\t\t\t\ttok = new StringTokenizer(br.readLine());\n\t\t\t}\n\t\t}\n \n\t\tprivate boolean hasNext() {\n\t\t\treturn tok != null && tok.hasMoreTokens();\n\t\t}\n \n\t\tpublic String next() throws IOException {\n\t\t\tgetLine();\n\t\t\treturn tok.nextToken();\n\t\t}\n \n\t\tpublic int nextInt() throws IOException {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n \n\t\tpublic long nextLong() throws IOException {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n \n\t\tpublic void close() throws IOException {\n\t\t\tbr.close();\n\t\t}\n\t}\n \n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.StringTokenizer;\n\npublic class Main{\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tfinal int N = sc.nextInt();\n\t\tfinal int M = sc.nextInt();\n\t\t\n\t\tfinal int N_bits = 1 << N;\n\t\t\n\t\tint[] visited = new int[N_bits];\n\t\tArrays.fill(visited, -1);\n\t\tLinkedList<Integer> queue = new LinkedList<Integer>();\n\t\t\n\t\tint init = 0;\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tinit *= 2;\n\t\t\tinit += sc.nextInt();\n\t\t}\n\t\t\n\t\tint[] arr = new int[M];\n\t\tfor(int i = 0; i < M; i++){\n\t\t\tarr[i] = sc.nextInt();\n\t\t}\n\t\t\n\t\tvisited[init] = 0;\n\t\tqueue.add(init);\n\t\t\n\t\t\n\t\twhile(!queue.isEmpty()){\n\t\t\tfinal int bit = queue.poll();\n\t\t\tboolean flag = true;\n\t\t\t//System.out.println(bit);\n\t\t\t\n\t\t\t\n\t\t\tint prev = ((bit) >> (N - 1)) != 0 ? 1 : 0;\n\t\t\t//System.out.println(prev);\n\t\t\t\n\t\t\tint run = 0;\n\t\t\tint cnt = 1;\n\t\t\tfor(int pos = N - 2; pos >= 0; pos--){\n\t\t\t\t//System.out.println(pos + \" \" + Integer.toBinaryString((1 << (pos + 1)) - 1) + \" \"  + Integer.toBinaryString(bit));\n\t\t\t\tfinal int cur = ((bit & ((1 << (pos + 1)) - 1)) >> pos) != 0 ? 1 : 0;\n\t\t\t\t//System.out.println(\"but\" + \" \" + pos + \" > \" + cur + \" \" + prev + \" \" + cnt + \" \" + run);\n\t\t\t\tif(prev == cur){\n\t\t\t\t\tcnt++;\n\t\t\t\t}else{\n\t\t\t\t\tif(arr[run] == cnt){\n\t\t\t\t\t\trun++;\n\t\t\t\t\t\tcnt = 1;\n\t\t\t\t\t\tprev = cur;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(arr[run] != cnt){\n\t\t\t\tflag = false;\n\t\t\t}else{\n\t\t\t\trun++;\n\t\t\t}\n\t\t\t\n\t\t\tif(flag){\n\t\t\t\tSystem.out.println(visited[bit]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tfor(int fst = 0; fst < N - 1; fst++){\n\t\t\t\t//for(int snd = fst + 1; snd < N; snd++){\n\t\t\t\tfinal int snd = fst + 1;\n\t\t\t\t\tfinal int fst_value = (bit & (1 << fst)) != 0 ? 1 : 0;\n\t\t\t\t\tfinal int snd_value = (bit & (1 << snd)) != 0 ? 1 : 0;\n\t\t\t\t\t\n\t\t\t\t\tfinal int next_bit = (bit & ~(1 << fst) & ~(1 << snd)) | (snd_value << fst) | (fst_value << snd);\n\t\t\t\t\t\n\t\t\t\t\t//System.out.println(next_bit);\n\t\t\t\t\t\n\t\t\t\t\tif(visited[next_bit] >= 0){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvisited[next_bit] = visited[bit] + 1;\n\t\t\t\t\t\n\t\t\t\t\tqueue.add(next_bit);\n\t\t\t\t//}\n\t\t\t}\n\t\t}\n\t\t\n\t\tsc.close();\n\t}\n\n\tpublic static class Scanner {\n\t\tprivate BufferedReader br;\n\t\tprivate StringTokenizer tok;\n\n\t\tpublic Scanner(InputStream is) throws IOException {\n\t\t\tbr = new BufferedReader(new InputStreamReader(is));\n\t\t}\n\n\t\tprivate void getLine() throws IOException {\n\t\t\twhile (!hasNext()) {\n\t\t\t\ttok = new StringTokenizer(br.readLine());\n\t\t\t}\n\t\t}\n\n\t\tprivate boolean hasNext() {\n\t\t\treturn tok != null && tok.hasMoreTokens();\n\t\t}\n\n\t\tpublic String next() throws IOException {\n\t\t\tgetLine();\n\t\t\treturn tok.nextToken();\n\t\t}\n\n\t\tpublic int nextInt() throws IOException {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\t// 他のnextXXXもXXX.parseXXX()メソッドを使って作れるので省略\n\n\t\tpublic void close() throws IOException {\n\t\t\tbr.close();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "public class Main {\n\n  String p( int i ) {\n    return String.format( \"%16s\", Integer.toBinaryString( i ) ).replace( \" \", \"0\" );\n  }\n\n  int getbit( int[] b ) {\n    int bit = 0;\n    for( int i = 0; i < b.length; i++ ) {\n      bit |= ( b[ i ] & 1 );\n      if( i != b.length - 1 ) {\n        bit <<= 1;\n      }\n    }\n    return bit;\n  }\n\n  int[] bit2int( int b, int n ) {\n    int bit = b;\n    int[] ar = new int[ n ];\n    for( int i = n - 1; i >= 0; i-- ) {\n      ar[ i ] = bit % 2;\n      bit /= 2;\n    }\n    return ar;\n  }\n\n  int getReq( int[] req, int[] opt, int first ) {\n    int tmp = first;\n    int bit = 0;\n    for( int i = 0; i < req.length; i++ ) {\n      for( int j = 0; j < req[ i ]; j++ ) {\n        bit |= tmp;\n        bit <<= 1;\n      }\n      tmp = ( tmp == 0 ? 1 : 0 );\n    }\n    bit >>= 1;\n    return opt[ bit ];\n  }\n\n  void run(\n      java.io.InputStream in,\n      java.io.PrintStream out\n      ) {\n    java.util.Scanner sc = new java.util.Scanner( in );\n    int[] opt = new int[ 65536 ];\n\n    java.util.Arrays.fill( opt, Integer.MAX_VALUE );\n\n    java.util.LinkedList<Integer> q =\n      new java.util.LinkedList<Integer>();\n\n    int n = sc.nextInt();\n    int m = sc.nextInt();\n    int[] b = new int[ n ];\n    int[] req = new int[ m ];\n    for( int i = 0; i < n; i++ ) {\n      b[ i ] = sc.nextInt();\n    }\n    for( int i = 0; i < m; i++ ) {\n      req[ i ] = sc.nextInt();\n    }\n\n    opt[ getbit( b ) ] = 0;\n    q.add( getbit( b ) );\n//    out.println( \"opt[\" + p( getbit( b ) ) + \"]: 0\" );\n\n    while( !q.isEmpty() ) {\n      int pbt = q.poll();\n      b = bit2int( pbt, n );\n\n      // b[ i ] <--> b[ i + 1 ]\n      for( int i = 0; i < n - 1; i++ ) {\n        int tmp = b[ i + 1 ];\n        b[ i + 1 ] = b[ i ];\n        b[ i ] = tmp;\n\n        int[] b2 = java.util.Arrays.copyOf( b, b.length );\n        int bt = getbit( b2 );\n\n        if( opt[ bt ] == Integer.MAX_VALUE ) {\n//          out.println( \"opt[\" + p( bt ) + \"]: \" + ( opt[ pbt ] + 1 ) );\n          opt[ bt ] = opt[ pbt ] + 1;\n          q.add( bt );\n        }\n\n        tmp = b[ i + 1 ];\n        b[ i + 1 ] = b[ i ];\n        b[ i ] = tmp;\n      }\n    }\n\n    int req0 = getReq( req, opt, 0 );\n    int req1 = getReq( req, opt, 1 );\n    out.println( Math.min( req0, req1 ) );\n\n  }\n\n  public static void main( String[] args ) {\n    new Main().run( System.in, System.out );\n  }\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\n\t\tint N = sc.nextInt();\n\t\tint M = sc.nextInt();\n\n\t\tint[] seq = new int[N];\n\t\tint[] run = new int[M];\n\n\t\tfor (int i = 0; i < seq.length; i++) {\n\t\t\tseq[i] = sc.nextInt();\n\t\t}\n\n\t\tfor (int i = 0; i < run.length; i++) {\n\t\t\trun[i] = sc.nextInt();\n\t\t}\n\t\tsc.close();\n\n\t\tint zero = swap(seq.clone(), run, 0);\n\t\tint one = swap(seq.clone(), run, 1);\n\t\tSystem.out.println(Math.min(zero, one));\n\n\t}\n\n\tstatic int swap(int[] clone, int[] run, int now) {\n\t\tint swapNum = 0;\n\t\tint k = 0;\n\t\tfor (int i = 0; i < run.length; i++) {\n\t\t\tfor (int j = 0; j < run[i]; j++) {\n\t\t\t\tif (clone[k] != now) {\n\t\t\t\t\tif (k == clone.length - 1) {\n\t\t\t\t\t\treturn Integer.MAX_VALUE;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int l = k + 1; l < clone.length; l++) {\n\t\t\t\t\t\tif (clone[l] == now) {\n\t\t\t\t\t\t\tint tmp = clone[l];\n\t\t\t\t\t\t\tclone[l] = clone[k];\n\t\t\t\t\t\t\tclone[k] = tmp;\n\n\t\t\t\t\t\t\tswapNum += l - k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (l == clone.length - 1) {\n\t\t\t\t\t\t\treturn Integer.MAX_VALUE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tk++;\n\t\t\t}\n\t\t\tnow = (now + 1) % 2;\n\t\t}\n\t\treturn swapNum;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\n/**\n * @author yoshikyoto\n */\nclass Main extends MyUtil{\n\tpublic static void main(String[] args) throws Exception{\n\t\t// ??\\????????????????????????????????£????????£?????????\n\t\tint n = readIntMap(0);\n\t\tint m = readIntMap(1);\n\t\tint[] b = readIntMap();\n\t\tint[] p = readIntMap();\n\t\t\n\t\tint[][] rl_p = new int[2][n];\n\t\t\n\t\tint bit = 0;\n\t\tint index = 0;\n\t\tfor(int i = 0; i < m; i++){\n\t\t\tfor(int j = 0; j < p[i]; j++){\n\t\t\t\trl_p[bit][index] = 1;\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\tbit = (bit + 1) % 2;\n\t\t}\n\t\tint[] zero_start_p = rl_p[1];\n\t\tint[] one_start_p = rl_p[0];\n\t\t\n\t\tint ans = 1 << 28;\n\n\t\t// System.out.println(Arrays.toString(zero_start_p));\n\t\tif(popupBitCount(b) == popupBitCount(zero_start_p)){\n\t\t\tans = Math.min(ans, solve(b, zero_start_p));\n\t\t}\n\n\t\t// System.out.println(Arrays.toString(one_start_p));\n\t\tif(popupBitCount(b) == popupBitCount(one_start_p)){\n\t\t\tans = Math.min(ans, solve(b, one_start_p));\n\t\t}\n\t\t\n\t\tSystem.out.println(ans);\n\t}\n\t\n\tstatic int solve(int[] b, int[] p){\n\t\tint len = b.length;\n\t\tint sum = 0;\n\t\tfor (int i = 0; i < len; i++) {\n\t\t\tif(b[i] != p[i]){\n\t\t\t\t// System.out.println(i + \"???????????????\");\n\t\t\t\tsum += searchSwap(p, i);\n\t\t\t\t// System.out.println(Arrays.toString(p));\n\t\t\t}\n\t\t}\n\t\treturn sum;\n\t}\n\t\n\tstatic int searchSwap(int[] p, int i){\n\t\tint len = p.length;\n\t\tfor(int j = i + 1; j < len; j++){\n\t\t\tif(p[i] != p[j]){\n\t\t\t\t// System.out.println(j + \"????????¨??????\");\n\t\t\t\treturn swap(p, i, j);\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tstatic int swap(int[] p, int i, int j){\n\t\tint cnt = 0;\n\t\tfor(int k = j-1; k >= i; k--){\n\t\t\tint tmp = p[k];\n\t\t\tp[k] = p[k+1];\n\t\t\tp[k+1] = tmp;\n\t\t\tcnt++;\n\t\t}\n\t\treturn cnt;\n\t}\n\t\n\tstatic int popupBitCount(int[] arr){\n\t\tint len = arr.length;\n\t\tint sum = 0;\n\t\tfor(int i = 0; i < len; i++){\n\t\t\tif(arr[i] != 0) sum++;\n\t\t}\n\t\treturn sum;\n\t}\n}\n\nclass BinaryIndexedTree{\n    int n;\n    int[] bit;\n    BinaryIndexedTree(int n){\n        this.n = n;\n        bit = new int[n+1];\n    }\n    int sum(int i){\n        int sum = 0;\n        while(i > 0){\n            sum += bit[i];\n            i -= i & -i;\n        }\n        return sum;\n    }\n    void add(int i, int v){\n        while(i <= n){\n            bit[i] += v;\n            i += i & -i;\n        }\n    }\n}\n\n\n\n// --- ????????????????????????????????? ----------\n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil {\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){\n\t\treturn Integer.parseInt(o.toString());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n\n\tpublic Main(){\n\t\tnew A().doIt();\n\t}\n\t\n\tclass A{\n\t\tint n,m;\n\t\tint[] result;\n\t\tint zero,one;\n\t\tboolean calc(int target){\n\t\t\tint index = 0,num = 1;\n\t\t\tint c = ((target>>0)%2);\n\t\t\tfor(int i=1;i<n;i++){\n\t\t\t\tif(c == (target>>i)%2)num++;\n\t\t\t\telse{\n\t\t\t\t\tif(result[m-index-1]!=num)return false;\n\t\t\t\t\tindex++;\n\t\t\t\t\tnum = 1;\n\t\t\t\t\tc = (target>>i)%2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(result[m-index-1]!=num)return false;\n\t\t\tint z = 0;\n\t\t\tint o = 0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif((target>>i)%2==0)z++;\n\t\t\t\telse o++;\n\t\t\t}\n\t\t\tif(zero==z&&one==o)return true;\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tint solve(ArrayList<Integer> kouho,char[] to){\n\t\t\tint result = Integer.MAX_VALUE/2;\n\t\t\tArrayList<String> list = new ArrayList<String>();\n\t\t\tfor(int i=0;i<kouho.size();i++){\n\t\t\t\tString a = \"\";\n\t\t\t\tfor(int s=n-1;s>=0;s--)a+=((kouho.get(i)>>s)%2);\n\t\t\t\tlist.add(a);\n\t\t\t}\n//\t\t\tSystem.out.println(list);\n\t\t\t\n\t\t\tfor(int i=0;i<list.size();i++){\n\t\t\t\tint cnt = 0;\n\t\t\t\tboolean[] sw = new boolean[n];\n\t\t\t\tString target = list.get(i);\n//\t\t\t\tSystem.out.println(target);\n\t\t\t\tfor(int s=0;s<n;s++)if(target.charAt(s)=='1'){\n\t\t\t\t\tfor(int j=0;j<n;j++){\n//\t\t\t\t\t\tSystem.out.println(s+\" \"+j+\" \"+target.charAt(s)+\" \"+to[j]);\n\t\t\t\t\t\tif(to[j]==target.charAt(s)&&!sw[j]){\n\t\t\t\t\t\t\tsw[j] = true;\n\t\t\t\t\t\t\tcnt += Math.abs(j-s);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n//\t\t\t\t\t\tSystem.out.println(Arrays.toString(sw));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult = Math.min(cnt, result);\n\t\t\t}\n\t\t\t\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\tvoid doIt(){\n\t\t\tn = in.nextInt();\n\t\t\tm = in.nextInt();\n\t\t\tzero = 0;one = 0;\n\t\t\tchar[] input = new char[n];\n\t\t\tfor(int i=0;i<n;i++)input[i] = in.next().charAt(0);\n\t\t\tString input2 = \"\";\n\t\t\tfor(int i=0;i<n;i++)input2+=input[i];\n\t\t\tresult = new int[m];\n\t\t\tfor(int i=0;i<m;i++)result[i] = in.nextInt();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif(input[i]=='0')zero++;\n\t\t\t\telse one++;\n\t\t\t}\n\t\t\tArrayList<Integer> kouho = new ArrayList<Integer>();\n\t\t\tfor(int i=0;i<(1<<n);i++){\n\t\t\t\tif(calc(i))kouho.add(i);\n\t\t\t}\n//\t\t\tSystem.out.println(kouho);\n//\t\t\tfor(int i=0;i<kouho.size();i++)System.out.println(Integer.toBinaryString(kouho.get(i)));\n\t\t\tSystem.out.println(solve(kouho,input));\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.stream.IntStream;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        Scanner in = new Scanner(inputStream);\n        PrintWriter out = new PrintWriter(outputStream);\n        BitStringReordering solver = new BitStringReordering();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class BitStringReordering {\n        public void solve(int testNumber, Scanner in, PrintWriter out) {\n            int N = in.nextInt();\n            int M = in.nextInt();\n            int[] b = new int[N];\n            int[] p = new int[M];\n            for (int i = 0; i < N; i++) {\n                b[i] = in.nextInt();\n            }\n            for (int i = 0; i < M; i++) {\n                p[i] = in.nextInt();\n            }\n            out.println(Math.min(calc(b.clone(), p, 0, 1), calc(b.clone(), p, 1, 0)));\n        }\n\n        public int calc(int[] bit, int[] num, int a, int b) {\n            int[] d = {a, b};\n            final int L = bit.length;\n            int[] result = new int[L];\n            int idx = 0, cnt = 0;\n            for (int el : num) {\n                for (int i = 0; i < el; i++) {\n                    result[idx++] = d[cnt];\n                }\n                cnt = (cnt + 1) % 2;\n            }\n            assert idx == L;\n            if (Arrays.stream(bit).sum() != Arrays.stream(result).sum()) {\n                return (int) 1e9;\n            }\n            int res = 0;\n            for (int i = 0; i < L; i++) {\n                if (bit[i] != result[i]) {\n                    for (int j = i + 1; j < L; j++) {\n                        if (result[i] == bit[j]) {\n                            for (int k = j; k > i; k--) {\n                                swap(bit, k, k - 1);\n                            }\n                            res += j - i;\n                            break;\n                        }\n                    }\n                }\n            }\n            return res;\n        }\n\n        public void swap(int[] ar, int i1, int i2) {\n            int buf = ar[i1];\n            ar[i1] = ar[i2];\n            ar[i2] = buf;\n        }\n\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class Main {\n\n\tint n,m;\n\tList<Integer> b,p;\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tn = stdIn.nextInt();\n\t\tm = stdIn.nextInt();\n\t\tb = new ArrayList<Integer>();\n\t\tp = new ArrayList<Integer>();\n\t\tint zero=0, ichi=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tb.add(stdIn.nextInt());\n\t\t\tif(b.get(i)==1){\n\t\t\t\tichi++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tzero++;\n\t\t\t}\n\t\t}\n\t\tint ki=0, gu=0;\n\t\tfor(int i=0;i<m;i++){\n\t\t\tp.add(stdIn.nextInt());\n\t\t\tif(i%2==0){\n\t\t\t\tgu+=p.get(i);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tki+=p.get(i);\n\t\t\t}\n\t\t}\n\t\tif(ki==gu){\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tmin = Math.min(judge(make(0)),min);\n\t\t\tmin = Math.min(judge(make(1)),min);\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\telse{\n\t\t\tif(ki!=zero){\n\t\t\t\tSystem.out.println(judge(make(0)));\n\t\t\t}\n\t\t\telse{\n\t\t\t\tSystem.out.println(judge(make(1)));\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate int judge(List<Integer> target) {\n//\t\tSystem.out.println(target);\n\t\tint cnt = 0;\n\t\tfor(int i=0;i<target.size();i++){\n\t\t\tif(target.get(i)!=b.get(i)){\n\t\t\t\tfor(int j=target.size()-1;j>=0;j--){\n\t\t\t\t\tif(target.get(j)!=b.get(j)){\n\t\t\t\t\t\tcnt += (j-i);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cnt;\n\t}\n\n\tprivate List<Integer> make(int start) {\n\t\tList<Integer> result = new ArrayList<Integer>();\n\t\tint now = start;\n\t\tfor(int i=0;i<p.size();i++){\n\t\t\tfor(int j=0;j<p.get(i);j++){\n\t\t\t\tresult.add(now);\n\t\t\t}\n\t\t\tif(now==1){\n\t\t\t\tnow = 0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnow = 1;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\n\t\tint N = sc.nextInt();\n\t\tint M = sc.nextInt();\n\n\t\tint[] seq = new int[N];\n\t\tint[] run = new int[M];\n\n\t\tfor (int i = 0; i < seq.length; i++) {\n\t\t\tseq[i] = sc.nextInt();\n\t\t}\n\n\t\tfor (int i = 0; i < run.length; i++) {\n\t\t\trun[i] = sc.nextInt();\n\t\t}\n\t\tsc.close();\n\n\t\tint irregular = 0;\n\t\tint now = 0;\n\t\tint k = 0;\n\t\tfor (int i = 0; i < run.length; i++) {\n\t\t\tfor (int j = 0; j < run[i]; j++) {\n\t\t\t\tif (seq[k] != now) {\n\t\t\t\t\tirregular++;\n\t\t\t\t}\n\t\t\t\tk++;\n\t\t\t}\n\t\t\tnow = (now + 1) % 2;\n\t\t}\n\n\t\tirregular = Math.min(irregular, N - irregular);\n\t\tSystem.out.println(irregular / 2);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.math.*;\nimport java.awt.geom.*;\nimport java.io.*;\n      \n      \npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\tint[] b = new int[n];\n\t\tint[] p = new int[m];\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tb[i] = sc.nextInt();\n\t\t}\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tp[i] = sc.nextInt();\n\t\t}\n\t\tint zeroCount = 0;\n\t\tint oneCount  = 0;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tif(b[i] == 1) {\n\t\t\t\toneCount++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tzeroCount++;\n\t\t\t}\n\t\t}\n\t\tint ACount = 0;\n\t\tint BCount = 0;\n\t\tfor(int i = 0; i < m; i++) {\n\t\t\tif(i % 2 == 0) {\n\t\t\t\tACount += p[i];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tBCount += p[i];\n\t\t\t}\n\t\t}\n\t\tint min = Integer.MAX_VALUE;\n\t\t\n\t\tif(ACount == zeroCount && BCount == oneCount) {\n\t\t\t//StartZero\n\t\t\tint count = 0;\n\t\t\tint[] check = new int[n];\n\t\t\tint id = 0;\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tfor(int j = 0; j < p[i]; j++) {\n\t\t\t\t\tcheck[id++] = i % 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] tmp = Arrays.copyOf(b, b.length);\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(check[i] != tmp[i]) {\n\t\t\t\t\tint target = 0;\n\t\t\t\t\tfor(int j = i+1; j < n; j++) {\n\t\t\t\t\t\tif(tmp[j] == check[i]) {\n\t\t\t\t\t\t\ttarget = j;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j = target; j > i; j--) {\n\t\t\t\t\t\tswap(tmp,j,j-1);\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmin = Math.min(count, min);\n\t\t}\n\t\tif(ACount == oneCount && BCount == zeroCount) {\n\t\t\t//StartOne\n\t\t\tint count = 0;\n\t\t\tint[] check = new int[n];\n\t\t\tint id = 0;\n\t\t\tfor(int i = 0; i < m; i++) {\n\t\t\t\tfor(int j = 0; j < p[i]; j++) {\n\t\t\t\t\tcheck[id++] = (i+1) % 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint[] tmp = Arrays.copyOf(b, b.length);\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(check[i] != tmp[i]) {\n\t\t\t\t\tint target = 0;\n\t\t\t\t\tfor(int j = i+1; j < n; j++) {\n\t\t\t\t\t\tif(tmp[j] == check[i]) {\n\t\t\t\t\t\t\ttarget = j;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j = target; j > i; j--) {\n\t\t\t\t\t\tswap(tmp,j,j-1);\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tmin = Math.min(count, min);\n\t\t}\n\t\tSystem.out.println(min);\n\t\t\n\t\t\n\t\t\n\t}\n\tstatic void swap(int[] a, int b, int c) {\n\t\tint tmp = a[b];\n\t\ta[b] = a[c];\n\t\ta[c] = tmp;\n\t}\n }"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\nimport java.util.*;\n \npublic class Main {\n\tfinal int INF = (int)1e9 + 7;\n\tint N,M;\n\tint[] B,P,one,zero;\n\tpublic int calc(int n,int[] a,int[] b)\n\t{\n\t\tint ret = 0;\n\t\tfor(int i = 0;i < N;i++){\n\t\t\tif(a[i] != b[i]){\n\t\t\t\tboolean find = false;\n\t\t\t\tfor(int j = i + 1;j < N;j++){\n\t\t\t\t\tif(a[j] != b[i])continue;\n\t\t\t\t\tfind = true;\n\t\t\t\t\tret += j - i;\n\t\t\t\t\tint copy = a[j];\n\t\t\t\t\t\n\t\t\t\t\tfor(int k = j;k > i;k--){\n\t\t\t\t\t\n\t\t\t\t\t\ta[k] = a[k - 1];\n\t\t\t\t\t}\n\t\t\t\t\ta[i] = copy;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(!find){\n\t\t\t\t\treturn INF;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t\t\n\t}\n\t\n\tpublic void solve() {\n\t\tN = nextInt();\n\t\tM = nextInt();\n\t\t\n\t\tB = new int[N];\n\t\tP = new int[M];\n\t\tfor(int i = 0;i < N;i++){\n\t\t\tB[i] = nextInt();\n\t\t}\n\t\t\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tP[i] = nextInt();\n\t\t}\n\t\tone = new int[N];\n\t\tzero = new int[N];\n\t\tint k = 0;\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tfor(int j = 0;j < P[i];j++){\n\t\t\t\tone[k + j] = i % 2 == 0 ? 1 : 0;\n\t\t\t}\n\t\t\tk += P[i];\n\t\t}\n\t\tk = 0;\n\t\tfor(int i = 0;i < M;i++){\n\t\t\tfor(int j = 0;j < P[i];j++){\n\t\t\t\tzero[k + j] = i % 2 == 0 ? 0 : 1;\n\t\t\t}\n\t\t\tk += P[i];\n\t\t}\n\t\tint ans = calc(0,Arrays.copyOf(B,N),one);\n\t\tans = Math.min(ans,calc(0,Arrays.copyOf(B,N),zero));\n\t\tout.println(ans);\n\t}\n \n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n \n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n \n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n \n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n \n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n \n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n \n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n \n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n \n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n \n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.io.*;\nimport static java.util.Arrays.*;\nimport static java.util.Collections.*;\nimport static java.lang.Math.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\t//long INF = 1L << 62;\n\tdouble EPS = 1e-10;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt(), m = sc.nextInt();\n\t\tString a = \"\";\n\t\tString s1 = \"\", s2 = \"\";\n\t\tint x = 0;\n\t\tfor (int i=0;i<n;i++) a += sc.nextInt();\n\t\tfor (int j=0;j<m;j++) {\n\t\t\tfor (int k=0, p=sc.nextInt();k<p;k++) {\n\t\t\t\ts1 += x; s2 += 1 -x;\n\t\t\t}\n\t\t\tx = 1-x;\n\t\t}\n\t\t\n\t\tSystem.out.println(min(len(a, s1), len(a, s2)));\n\t}\n\t\n\tint len (String a, String b) {\n\t\tint l = a.length(), n = 0;\n\t\tint[] A = new int[l], B = new int[l];\n\t\tfor (int i=0;i<l;i++) A[i] = a.charAt(i) - '0';\n\t\tfor (int i=0;i<l;i++) B[i] = b.charAt(i) - '0';\n\t\tfor (int i=0;i<l;i++) {\n\t\t\tif (A[i] == 1) n++;\n\t\t\tif (B[i] == 1) n--;\n\t\t}\n\t\tif (n != 0) return INF;\n\t\tint t = 0, cnt = 0;\n\t\tfor (int i=0;i<l;i++) {\n\t\t\tfor (int j=i;j<l;j++) {\n\t\t\t\tif (A[i] == B[j]) {\n\t\t\t\t\tint tmp = A[i];\n\t\t\t\t\tA[i] = A[j];\n\t\t\t\t\tA[j] = tmp;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n//\t\tdebug(A, B, cnt);\n\t\treturn cnt;\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Queue;\nimport java.util.Scanner;\nimport java.util.concurrent.LinkedBlockingDeque;\n\npublic class Main {\n\tstatic class Pair {\n\t\tint fst, snd;\n\n\t\tPair(int fst, int snd) {\n\t\t\tthis.fst = fst;\n\t\t\tthis.snd = snd;\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tScanner s = new Scanner(System.in);\n\t\tint N = s.nextInt();\n\t\tint M = s.nextInt();\n\t\tint[] bits = new int[N];\n\t\tint[] targets = new int[M];\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbits[i] = s.nextInt();\n\t\t}\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\ttargets[i] = s.nextInt();\n\t\t}\n\n\t\tint initial = bitToNum(N, bits);\n\t\tPair ans = getAnswers(targets);\n\t\t\n\t\tif (initial == ans.fst || initial == ans.snd) {\n\t\t\tSystem.out.println(\"0\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tboolean[] reached = new boolean[1 << N];\n\t\tArrays.fill(reached, false);\n\n\t\tQueue<Pair> q = new LinkedBlockingDeque<Pair>();\n\t\tq.add(new Pair(initial, 0));\n\t\treached[initial] = true;\n\t\twhile (!q.isEmpty()) {\n\t\t\tPair pair = q.poll();\n\t\t\tfor (int r = 0; r < N - 1; r++) {\n\t\t\t\tint l = r + 1;\n\t\t\t\tif (isSameBit(pair.fst, r, l)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// System.out.println(\"l = \" + l + \" , r = \"+ r);\n\t\t\t\t// System.out.println(\"lmsk = \" + (pair.fst & (1 << l)) + \" , rm = \"+ (pair.fst & (1 << r)));\n\t\t\t\tint mask = (1 << l) + (1 << r);\n\t\t\t\tint value = pair.fst ^ mask;\n\t\t\t\t// System.out.printf(\"from: %d, to: %d mask: %d%n\", pair.fst, value, mask);\n\t\t\t\tif (value == ans.fst || value == ans.snd) {\n\t\t\t\t\tSystem.out.println(pair.snd + 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!reached[value]) {\n\t\t\t\t\treached[value] = true;\n\t\t\t\t\t// System.out.println(\":- \" + value + \", \" + pair.snd);\n\t\t\t\t\tq.add(new Pair(value, pair.snd + 1));\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static boolean isSameBit(int value, int r, int l) {\n\t\tint left = value & (1 << l);\n\t\tint right = value & (1 << r);\n\t\treturn (left == 0 && right == 0) || (left > 0 && right > 0);\n\t}\n\n\tprivate static Pair getAnswers(int[] targets) {\n\t\tList<Integer> xs = new ArrayList<Integer>();\n\t\tint bit = 0;\n\t\tfor (int i = 0; i < targets.length; i++) {\n\t\t\tfor (int j = 0; j < targets[i]; j++) {\n\t\t\t\txs.add(bit);\n\t\t\t}\n\t\t\tbit = (bit == 0) ? 1 : 0;\n\t\t}\n\t\tList<Integer> ys = new ArrayList<Integer>();\n\t\tbit = 1;\n\t\tfor (int i = 0; i < targets.length; i++) {\n\t\t\tfor (int j = 0; j < targets[i]; j++) {\n\t\t\t\tys.add(bit);\n\t\t\t}\n\t\t\tbit = (bit == 0) ? 1 : 0;\n\t\t}\n\n\t\treturn new Pair(bitToNum(xs), bitToNum(ys));\n\t}\n\n\tprivate static int bitToNum(List<Integer> xs) {\n\t\tint N = xs.size();\n\t\tint[] bits = new int[N];\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbits[i] = xs.get(i);\n\t\t}\n\t\treturn bitToNum(N, bits);\n\t}\n\n\tprivate static int bitToNum(int N, int[] bits) {\n\t\tint initial = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tinitial += (bits[N - i - 1] << i);\n\t\t}\n\t\treturn initial;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\n\tvoid run() {\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\tint[] bit = new int[n];\n\t\tint[] len = new int[m];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tbit[i] = sc.nextInt();\n\t\t}\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tlen[i] = sc.nextInt();\n\t\t}\n\t\tint[] goal1 = new int[n];\n\t\tint[] goal2 = new int[n];\n\t\tboolean turn = false;\n\t\tint index = 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tturn = !turn;\n\t\t\tfor (int j = 0; j < len[i]; j++) {\n\t\t\t\tgoal1[index] = turn ? 1 : 0;\n\t\t\t\tgoal2[index++] = turn ? 0 : 1;\n\t\t\t}\n\t\t}\n\t\t// debug(goal1);\n\t\t// debug(goal2);\n\n\t\tint[] p1 = new int[n];\n\t\tint[] p2 = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tp1[i] = bit[i];\n\t\t\tp2[i] = bit[i];\n\t\t}\n\t\t// debug(p1);\n\t\t// debug(p2);\n\t\tint cnt1 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p1[i] != goal1[i]) {\n\t\t\t\tint s = i;\n\t\t\t\tint t = -1;\n\t\t\t\tfor (int j = i; j < n; j++) {\n\t\t\t\t\tif (p1[i] != p1[j]) {\n\t\t\t\t\t\tt = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (t != -1) {\n\t\t\t\t\tint tmp = p1[s];\n\t\t\t\t\tp1[s] = p1[t];\n\t\t\t\t\tp1[t] = tmp;\n\t\t\t\t\tcnt1 += t - s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tboolean able1 = true;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p1[i] != goal1[i]) {\n\t\t\t\table1 = false;\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p2[i] != goal2[i]) {\n\t\t\t\tint s = i;\n\t\t\t\tint t = -1;\n\t\t\t\tfor (int j = i; j < n; j++) {\n\t\t\t\t\tif (p2[i] != p2[j]) {\n\t\t\t\t\t\tt = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (t != -1) {\n\t\t\t\t\tint tmp = p2[s];\n\t\t\t\t\tp2[s] = p2[t];\n\t\t\t\t\tp2[t] = tmp;\n\t\t\t\t\tcnt2 += t - s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tboolean able2 = true;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p2[i] != goal2[i]) {\n\t\t\t\table2 = false;\n\t\t\t}\n\t\t}\n\t\tint one = 0;\n\t\tint zero = 0;\n\t\tint one1 = 0;\n\t\tint zero1 = 0;\n\t\tint one2 = 0;\n\t\tint zero2 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (bit[i] == 0) {\n\t\t\t\tzero++;\n\t\t\t} else {\n\t\t\t\tone++;\n\t\t\t}\n\t\t\tif (goal1[i] == 0) {\n\t\t\t\tzero1++;\n\t\t\t} else {\n\t\t\t\tone1++;\n\t\t\t}\n\t\t\tif (goal2[i] == 0) {\n\t\t\t\tzero2++;\n\t\t\t} else {\n\t\t\t\tone2++;\n\t\t\t}\n\t\t}\n\t\tif (zero != zero1 || one != one1) {\n\t\t\table1 = false;\n\t\t}\n\t\tif (zero != zero2 || one != one2) {\n\t\t\table2 = false;\n\t\t}\n\t\tif (!able1 && !able2) {\n\t\t\tSystem.out.println(0);\n\t\t} else {\n\t\t\tif (!able1 && able2) {\n\t\t\t\tSystem.out.println(cnt2);\n\t\t\t} else if (able1 && !able2) {\n\t\t\t\tSystem.out.println(cnt1);\n\t\t\t} else {\n\t\t\t\tSystem.out.println(Math.min(cnt1, cnt2));\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "package regional_2014;\n\n\nimport java.io.*;\nimport java.util.*;\n\npublic class Main {\n\tFastScanner in = new FastScanner(System.in);\n\tPrintWriter out = new PrintWriter(System.out);\n\n\tclass State implements Comparable<State> {\n\t\tint cnt;\n\t\tString s;\n\n\t\tState(int cnt, String s) {\n\t\t\tthis.cnt = cnt;\n\t\t\tthis.s = s;\n\t\t}\n\n\t\tpublic int compareTo(State s) {\n\t\t\treturn cnt - s.cnt;\n\t\t}\n\t}\n\t\n\tpublic void run() {\n\t\tint N = in.nextInt(), M = in.nextInt();\n\t\tString base = \"\";\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbase += in.nextInt();\n\t\t}\n\t\t\n\t\tString target1 = \"\", target2 = \"\";\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tint p = in.nextInt();\n\t\t\tfor (int j = 0; j < p; j++) {\n\t\t\t\ttarget1 += (i % 2 == 0) ? 1 : 0;\n\t\t\t\ttarget2 += (i % 2 == 0) ? 0 : 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tHashMap<String, Integer> map = new HashMap<String, Integer>();\n\t\tmap.put(base, 0);\n\t\t\n\t\t\n\t\tPriorityQueue<State> pq = new PriorityQueue<State>();\n\t\tpq.add(new State(0, base));\n\t\t\n\t\twhile (!pq.isEmpty()) {\n\t\t\tState st = pq.poll();\n\t\t\tArrayList<String> list = new ArrayList<String>();\n\t\t\tfor (int i = 0; i < N - 1; i++) {\n\t\t\t\tchar[] next = st.s.toCharArray();\n\t\t\t\tchar temp = next[i];\n\t\t\t\tnext[i] = next[i+1];\n\t\t\t\tnext[i+1] = temp;\n\t\t\t\tlist.add(new String(next));\n\t\t\t}\n\t\t\t\n\t\t\tfor (String next : list) {\n\t\t\t\tif (map.containsKey(next)) {\n\t\t\t\t\tint pvalue = map.get(next);\n\t\t\t\t\tif (st.cnt + 1 < pvalue) {\n\t\t\t\t\t\tmap.put(next, st.cnt + 1);\n\t\t\t\t\t\tpq.add(new State(st.cnt + 1, next));\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(next, st.cnt + 1);\n\t\t\t\t\tpq.add(new State(st.cnt + 1, next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint res = Integer.MAX_VALUE;\n\t\tif (map.containsKey(target1))\n\t\t\tres = Math.min(res, map.get(target1));\n\t\tif (map.containsKey(target2))\n\t\t\tres = Math.min(res, map.get(target2));\n\t\tSystem.out.println(res);\n\t\t\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tSystem.out.println(\"----------------------------\");\n\t\tSystem.out.println();\n\t}\n\n\tpublic void debug(Object... obj) {\n\t\tSystem.out.println(Arrays.deepToString(obj));\n\t}\n\n\tclass FastScanner {\n\t\tprivate InputStream stream;\n\t\tprivate byte[] buf = new byte[1024];\n\t\tprivate int curChar;\n\t\tprivate int numChars;\n\n\t\tpublic FastScanner(InputStream stream) {\n\t\t\tthis.stream = stream;\n\t\t\t//stream = new FileInputStream(new File(\"dec.in\"));\n\n\t\t}\n\n\t\tint read() {\n\t\t\tif (numChars == -1)\n\t\t\t\tthrow new InputMismatchException();\n\t\t\tif (curChar >= numChars) {\n\t\t\t\tcurChar = 0;\n\t\t\t\ttry {\n\t\t\t\t\tnumChars = stream.read(buf);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (numChars <= 0)\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn buf[curChar++];\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static final int INF = 1 << 29;\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\tint[] a = new int[n];\n\t\tint[] b = new int[n];\n\t\tfor(int i=0;i<n;i++) {\n\t\t\ta[i] = sc.nextInt();\n\t\t}\n\t\tint swaps = INF;\n\t\tint i_ = 0;\n\t\tfor(int i=0;i<m;i++) {\n\t\t\tint x = sc.nextInt();\n\t\t\tfor(int j=0;j<x;j++) {\n\t\t\t\tb[i_] = i%2;\n\t\t\t\ti_++;\n\t\t\t}\n\t\t}\n\t\tswaps = Math.min(swaps, swaps(a,b));\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tb[i] = 1 - b[i];\n\t\t}\n\t\tswaps = Math.min(swaps, swaps(a,b));\n\t\tSystem.out.println(swaps);\n\t}\n\n\tpublic static int swaps(int[] a,int[] b) {\n\t\tint n = a.length;\n\t\tint[] ca = Arrays.copyOf(a, n);\n\t\tint[] cb = Arrays.copyOf(b, n);\n\t\tint suma = 0,sumb = 0;\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tsuma += ca[i];\n\t\t\tsumb += cb[i];\n\t\t}\n\t\tif (suma != sumb) {\n\t\t\treturn INF;\n\t\t}\n\t\tint swaps = 0;\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tif (ca[i] == cb[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor(int j=i+1;j<n;j++) {\n\t\t\t\tif (ca[i] == cb[j]) {\n\t\t\t\t\tcb[j] = cb[i];\n\t\t\t\t\tcb[i] = ca[i];\n\t\t\t\t\tswaps += (j-i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn swaps;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\n\tvoid run() {\n\t\tint n = sc.nextInt();\n\t\tint m = sc.nextInt();\n\t\tint[] bit = new int[n];\n\t\tint[] len = new int[m];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tbit[i] = sc.nextInt();\n\t\t}\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tlen[i] = sc.nextInt();\n\t\t}\n\t\tint[] goal1 = new int[n];\n\t\tint[] goal2 = new int[n];\n\t\tboolean turn = false;\n\t\tint index = 0;\n\t\tfor (int i = 0; i < m; i++) {\n\t\t\tturn = !turn;\n\t\t\tfor (int j = 0; j < len[i]; j++) {\n\t\t\t\tgoal1[index] = turn ? 1 : 0;\n\t\t\t\tgoal2[index++] = turn ? 0 : 1;\n\t\t\t}\n\t\t}\n\t\t// debug(goal1);\n\t\t// debug(goal2);\n\n\t\tint[] p1 = new int[n];\n\t\tint[] p2 = new int[n];\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tp1[i] = bit[i];\n\t\t\tp2[i] = bit[i];\n\t\t}\n\t\t// debug(p1);\n\t\t// debug(p2);\n\t\tint cnt1 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p1[i] != goal1[i]) {\n\t\t\t\tint s = i;\n\t\t\t\tint t = -1;\n\t\t\t\tfor (int j = i; j < n; j++) {\n\t\t\t\t\tif (p1[i] != p1[j]) {\n\t\t\t\t\t\tt = j;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (t != -1) {\n\t\t\t\t\tint tmp = p1[s];\n\t\t\t\t\tp1[s] = p1[t];\n\t\t\t\t\tp1[t] = tmp;\n\t\t\t\t\tcnt1 += t - s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tboolean able1 = true;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p1[i] != goal1[i]) {\n\t\t\t\table1 = false;\n\t\t\t}\n\t\t}\n\t\tint cnt2 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p2[i] != goal2[i]) {\n\t\t\t\tint s = i;\n\t\t\t\tint t = -1;\n\t\t\t\tfor (int j = i; j < n; j++) {\n\t\t\t\t\tif (p2[i] != p2[j]) {\n\t\t\t\t\t\tt = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (t != -1) {\n\t\t\t\t\tint tmp = p2[s];\n\t\t\t\t\tp2[s] = p2[t];\n\t\t\t\t\tp2[t] = tmp;\n\t\t\t\t\tcnt2 += t - s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tboolean able2 = true;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (p2[i] != goal2[i]) {\n\t\t\t\table2 = false;\n\t\t\t}\n\t\t}\n\t\tint one = 0;\n\t\tint zero = 0;\n\t\tint one1 = 0;\n\t\tint zero1 = 0;\n\t\tint one2 = 0;\n\t\tint zero2 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (bit[i] == 0) {\n\t\t\t\tzero++;\n\t\t\t} else {\n\t\t\t\tone++;\n\t\t\t}\n\t\t\tif (goal1[i] == 0) {\n\t\t\t\tzero1++;\n\t\t\t} else {\n\t\t\t\tone1++;\n\t\t\t}\n\t\t\tif (goal2[i] == 0) {\n\t\t\t\tzero2++;\n\t\t\t} else {\n\t\t\t\tone2++;\n\t\t\t}\n\t\t}\n\t\tif(zero != zero1 || one != one1) {\n\t\t\table1 = false;\n\t\t}\n\t\tif(zero != zero2 || one != one2) {\n\t\t\table2 = false;\n\t\t}\n\t\tif (!able1 && !able2) {\n\t\t\tSystem.out.println(0);\n\t\t} else {\n\t\t\tif (!able1 && able2) {\n\t\t\t\tSystem.out.println(cnt2);\n\t\t\t} else if (able1 && !able2) {\n\t\t\t\tSystem.out.println(cnt1);\n\t\t\t} else {\n\t\t\t\tSystem.out.println(Math.min(cnt1, cnt2));\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main();\n\t}\n\n\tpublic Main(){\n\t\tnew A().doIt();\n\t}\n\t\n\tclass A{\n\t\tint n,m;\n\t\tint[] result;\n\t\tint zero,one;\n\t\tboolean calc(int target){\n\t\t\tint index = 0,num = 1;\n\t\t\tint c = ((target>>0)%2);\n\t\t\tfor(int i=1;i<n;i++){\n\t\t\t\tif(c == (target>>i)%2)num++;\n\t\t\t\telse{\n\t\t\t\t\tif(result[m-index-1]!=num)return false;\n\t\t\t\t\tindex++;\n\t\t\t\t\tnum = 1;\n\t\t\t\t\tc = (target>>i)%2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(result[m-index-1]!=num)return false;\n\t\t\tint z = 0;\n\t\t\tint o = 0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif((target>>i)%2==0)z++;\n\t\t\t\telse o++;\n\t\t\t}\n\t\t\tif(zero==z&&one==o)return true;\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tint solve(ArrayList<Integer> kouho,char[] to){\n\t\t\tint result = Integer.MAX_VALUE/2;\n\t\t\tArrayList<String> list = new ArrayList<String>();\n\t\t\tfor(int i=0;i<kouho.size();i++){\n\t\t\t\tString a = \"\";\n\t\t\t\tfor(int s=n-1;s>=0;s--)a+=((kouho.get(i)>>s)%2);\n\t\t\t\tlist.add(a);\n\t\t\t}\n//\t\t\tSystem.out.println(list);\n\t\t\t\n\t\t\tfor(int i=0;i<list.size();i++){\n\t\t\t\tint cnt = 0;\n\t\t\t\tboolean[] sw = new boolean[n];\n\t\t\t\tString target = list.get(i);\n//\t\t\t\tSystem.out.println(target);\n\t\t\t\tfor(int s=0;s<n;s++)if(target.charAt(s)=='1'){\n\t\t\t\t\tfor(int j=0;j<n;j++){\n//\t\t\t\t\t\tSystem.out.println(s+\" \"+j+\" \"+target.charAt(s)+\" \"+to[j]);\n\t\t\t\t\t\tif(to[j]==target.charAt(s)&&!sw[j]){\n\t\t\t\t\t\t\tsw[j] = true;\n\t\t\t\t\t\t\tcnt += Math.abs(j-s);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n//\t\t\t\t\t\tSystem.out.println(Arrays.toString(sw));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult = Math.min(cnt, result);\n\t\t\t}\n\t\t\t\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\tvoid doIt(){\n\t\t\tn = in.nextInt();\n\t\t\tm = in.nextInt();\n\t\t\tzero = 0;one = 0;\n\t\t\tchar[] input = new char[n];\n\t\t\tfor(int i=0;i<n;i++)input[i] = in.next().charAt(0);\n\t\t\tString input2 = \"\";\n\t\t\tfor(int i=0;i<n;i++)input2+=input[i];\n\t\t\tresult = new int[m];\n\t\t\tfor(int i=0;i<m;i++)result[i] = in.nextInt();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif(input[i]=='0')zero++;\n\t\t\t\telse one++;\n\t\t\t}\n\t\t\tArrayList<Integer> kouho = new ArrayList<Integer>();\n\t\t\tfor(int i=0;i<(1<<n);i++){\n\t\t\t\tif(calc(i))kouho.add(i);\n\t\t\t}\n//\t\t\tSystem.out.println(kouho);\n//\t\t\tfor(int i=0;i<kouho.size();i++)System.out.println(Integer.toBinaryString(kouho.get(i)));\n\t\t\tSystem.out.println(solve(kouho,input));\n\t\t}\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "\n\nimport java.io.*;\nimport java.util.*;\n\npublic class Main {\n\tFastScanner in = new FastScanner(System.in);\n\tPrintWriter out = new PrintWriter(System.out);\n\n\tclass State implements Comparable<State> {\n\t\tint cnt;\n\t\tString s;\n\n\t\tState(int cnt, String s) {\n\t\t\tthis.cnt = cnt;\n\t\t\tthis.s = s;\n\t\t}\n\n\t\tpublic int compareTo(State s) {\n\t\t\treturn cnt - s.cnt;\n\t\t}\n\t}\n\t\n\tpublic void run() {\n\t\tint N = in.nextInt(), M = in.nextInt();\n\t\tString base = \"\";\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbase += in.nextInt();\n\t\t}\n\t\t\n\t\tString target1 = \"\", target2 = \"\";\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tint p = in.nextInt();\n\t\t\tfor (int j = 0; j < p; j++) {\n\t\t\t\ttarget1 += (i % 2 == 0) ? 1 : 0;\n\t\t\t\ttarget2 += (i % 2 == 0) ? 0 : 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tHashMap<String, Integer> map = new HashMap<String, Integer>();\n\t\tmap.put(base, 0);\n\t\t\n\t\t\n\t\tPriorityQueue<State> pq = new PriorityQueue<State>();\n\t\tpq.add(new State(0, base));\n\t\t\n\t\twhile (!pq.isEmpty()) {\n\t\t\tState st = pq.poll();\n\t\t\tArrayList<String> list = new ArrayList<String>();\n\t\t\tfor (int i = 0; i < N - 1; i++) {\n\t\t\t\tchar[] next = st.s.toCharArray();\n\t\t\t\tchar temp = next[i];\n\t\t\t\tnext[i] = next[i+1];\n\t\t\t\tnext[i+1] = temp;\n\t\t\t\tlist.add(new String(next));\n\t\t\t}\n\t\t\t\n\t\t\tfor (String next : list) {\n\t\t\t\tif (map.containsKey(next)) {\n\t\t\t\t\tint pvalue = map.get(next);\n\t\t\t\t\tif (st.cnt + 1 < pvalue) {\n\t\t\t\t\t\tmap.put(next, st.cnt + 1);\n\t\t\t\t\t\tpq.add(new State(st.cnt + 1, next));\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(next, st.cnt + 1);\n\t\t\t\t\tpq.add(new State(st.cnt + 1, next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint res = Integer.MAX_VALUE;\n\t\tif (map.containsKey(target1))\n\t\t\tres = Math.min(res, map.get(target1));\n\t\tif (map.containsKey(target2))\n\t\t\tres = Math.min(res, map.get(target2));\n\t\tSystem.out.println(res);\n\t\t\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tSystem.out.println(\"----------------------------\");\n\t\tSystem.out.println();\n\t}\n\n\tpublic void debug(Object... obj) {\n\t\tSystem.out.println(Arrays.deepToString(obj));\n\t}\n\n\tclass FastScanner {\n\t\tprivate InputStream stream;\n\t\tprivate byte[] buf = new byte[1024];\n\t\tprivate int curChar;\n\t\tprivate int numChars;\n\n\t\tpublic FastScanner(InputStream stream) {\n\t\t\tthis.stream = stream;\n\t\t\t//stream = new FileInputStream(new File(\"dec.in\"));\n\n\t\t}\n\n\t\tint read() {\n\t\t\tif (numChars == -1)\n\t\t\t\tthrow new InputMismatchException();\n\t\t\tif (curChar >= numChars) {\n\t\t\t\tcurChar = 0;\n\t\t\t\ttry {\n\t\t\t\t\tnumChars = stream.read(buf);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (numChars <= 0)\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn buf[curChar++];\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\npublic class Main {\n\tFastScanner in = new FastScanner(System.in);\n\tPrintWriter out = new PrintWriter(System.out);\n\n\tclass State implements Comparable<State> {\n\t\tint cnt;\n\t\tString s;\n\n\t\tState(int cnt, String s) {\n\t\t\tthis.cnt = cnt;\n\t\t\tthis.s = s;\n\t\t}\n\n\t\tpublic int compareTo(State s) {\n\t\t\treturn cnt - s.cnt;\n\t\t}\n\t}\n\t\n\tpublic void run() {\n\t\tint N = in.nextInt(), M = in.nextInt();\n\t\tString base = \"\";\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbase += in.nextInt();\n\t\t}\n\t\t\n\t\tString target1 = \"\", target2 = \"\";\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\tint p = in.nextInt();\n\t\t\tfor (int j = 0; j < p; j++) {\n\t\t\t\ttarget1 += (i % 2 == 0) ? 1 : 0;\n\t\t\t\ttarget2 += (i % 2 == 0) ? 0 : 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tHashMap<String, Integer> map = new HashMap<String, Integer>();\n\t\tmap.put(base, 0);\n\t\t\n\t\t\n\t\tPriorityQueue<State> pq = new PriorityQueue<State>();\n\t\tpq.add(new State(0, base));\n\t\t\n\t\twhile (!pq.isEmpty()) {\n\t\t\tState st = pq.poll();\n\t\t\tArrayList<String> list = new ArrayList<String>();\n\t\t\tfor (int i = 0; i < N - 1; i++) {\n\t\t\t\tchar[] next = st.s.toCharArray();\n\t\t\t\tchar temp = next[i];\n\t\t\t\tnext[i] = next[i+1];\n\t\t\t\tnext[i+1] = temp;\n\t\t\t\tlist.add(new String(next));\n\t\t\t}\n\t\t\t\n\t\t\tfor (String next : list) {\n\t\t\t\tif (map.containsKey(next)) {\n\t\t\t\t\tint pvalue = map.get(next);\n\t\t\t\t\tif (st.cnt + 1 < pvalue) {\n\t\t\t\t\t\tmap.put(next, st.cnt + 1);\n\t\t\t\t\t\tpq.add(new State(st.cnt + 1, next));\t\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(next, st.cnt + 1);\n\t\t\t\t\tpq.add(new State(st.cnt + 1, next));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint res = Integer.MAX_VALUE;\n\t\tif (map.containsKey(target1))\n\t\t\tres = Math.min(res, map.get(target1));\n\t\tif (map.containsKey(target2))\n\t\t\tres = Math.min(res, map.get(target2));\n\t\tSystem.out.println(res);\n\t\t\n\t\tout.close();\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic void mapDebug(int[][] a) {\n\t\tSystem.out.println(\"--------map display---------\");\n\n\t\tfor (int i = 0; i < a.length; i++) {\n\t\t\tfor (int j = 0; j < a[i].length; j++) {\n\t\t\t\tSystem.out.printf(\"%3d \", a[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tSystem.out.println(\"----------------------------\");\n\t\tSystem.out.println();\n\t}\n\n\tpublic void debug(Object... obj) {\n\t\tSystem.out.println(Arrays.deepToString(obj));\n\t}\n\n\tclass FastScanner {\n\t\tprivate InputStream stream;\n\t\tprivate byte[] buf = new byte[1024];\n\t\tprivate int curChar;\n\t\tprivate int numChars;\n\n\t\tpublic FastScanner(InputStream stream) {\n\t\t\tthis.stream = stream;\n\t\t\t//stream = new FileInputStream(new File(\"dec.in\"));\n\n\t\t}\n\n\t\tint read() {\n\t\t\tif (numChars == -1)\n\t\t\t\tthrow new InputMismatchException();\n\t\t\tif (curChar >= numChars) {\n\t\t\t\tcurChar = 0;\n\t\t\t\ttry {\n\t\t\t\t\tnumChars = stream.read(buf);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\tthrow new InputMismatchException();\n\t\t\t\t}\n\t\t\t\tif (numChars <= 0)\n\t\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn buf[curChar++];\n\t\t}\n\n\t\tboolean isSpaceChar(int c) {\n\t\t\treturn c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n\t\t}\n\n\t\tboolean isEndline(int c) {\n\t\t\treturn c == '\\n' || c == '\\r' || c == -1;\n\t\t}\n\n\t\tint nextInt() {\n\t\t\treturn Integer.parseInt(next());\n\t\t}\n\n\t\tint[] nextIntArray(int n) {\n\t\t\tint[] array = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextInt();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tlong nextLong() {\n\t\t\treturn Long.parseLong(next());\n\t\t}\n\n\t\tlong[] nextLongArray(int n) {\n\t\t\tlong[] array = new long[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextLong();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tdouble[] nextDoubleArray(int n) {\n\t\t\tdouble[] array = new double[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = nextDouble();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString next() {\n\t\t\tint c = read();\n\t\t\twhile (isSpaceChar(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isSpaceChar(c));\n\t\t\treturn res.toString();\n\t\t}\n\n\t\tString[] nextStringArray(int n) {\n\t\t\tString[] array = new String[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tarray[i] = next();\n\n\t\t\treturn array;\n\t\t}\n\n\t\tString nextLine() {\n\t\t\tint c = read();\n\t\t\twhile (isEndline(c))\n\t\t\t\tc = read();\n\t\t\tStringBuilder res = new StringBuilder();\n\t\t\tdo {\n\t\t\t\tres.appendCodePoint(c);\n\t\t\t\tc = read();\n\t\t\t} while (!isEndline(c));\n\t\t\treturn res.toString();\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Queue;\nimport java.util.Scanner;\nimport java.util.concurrent.LinkedBlockingDeque;\n\npublic class Main {\n\tstatic class Pair {\n\t\tint fst, snd;\n\n\t\tPair(int fst, int snd) {\n\t\t\tthis.fst = fst;\n\t\t\tthis.snd = snd;\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tScanner s = new Scanner(System.in);\n\t\tint N = s.nextInt();\n\t\tint M = s.nextInt();\n\t\tint[] bits = new int[N];\n\t\tint[] targets = new int[M];\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbits[i] = s.nextInt();\n\t\t}\n\t\tfor (int i = 0; i < M; i++) {\n\t\t\ttargets[i] = s.nextInt();\n\t\t}\n\n\t\tint initial = bitToNum(N, bits);\n\t\tPair ans = getAnswers(targets);\n\t\t\n\t\tif (initial == ans.fst || initial == ans.snd) {\n\t\t\tSystem.out.println(\"0\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tboolean[] reached = new boolean[1 << N];\n\t\tArrays.fill(reached, false);\n\n\t\tQueue<Pair> q = new LinkedBlockingDeque<Pair>();\n\t\tq.add(new Pair(initial, 0));\n\t\treached[initial] = true;\n\t\twhile (!q.isEmpty()) {\n\t\t\tPair pair = q.poll();\n\t\t\tfor (int r = 0; r < N - 1; r++) {\n\t\t\t\tint l = r + 1;\n\t\t\t\tif ((pair.fst & (1 << l)) == (pair.fst & (1 << r))) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tint mask = (1 << l) + (1 << r);\n\t\t\t\tint value = pair.fst ^ mask;\n\t\t\t\tif (value == ans.fst || value == ans.snd) {\n\t\t\t\t\tSystem.out.println(pair.snd + 1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!reached[value]) {\n\t\t\t\t\treached[value] = true;\n\t\t\t\t\tq.add(new Pair(value, pair.snd + 1));\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static Pair getAnswers(int[] targets) {\n\t\tList<Integer> xs = new ArrayList<Integer>();\n\t\tint bit = 0;\n\t\tfor (int i = 0; i < targets.length; i++) {\n\t\t\tfor (int j = 0; j < targets[i]; j++) {\n\t\t\t\txs.add(bit);\n\t\t\t}\n\t\t\tbit = (bit == 0) ? 1 : 0;\n\t\t}\n\t\tList<Integer> ys = new ArrayList<Integer>();\n\t\tbit = 1;\n\t\tfor (int i = 0; i < targets.length; i++) {\n\t\t\tfor (int j = 0; j < targets[i]; j++) {\n\t\t\t\tys.add(bit);\n\t\t\t}\n\t\t\tbit = (bit == 0) ? 1 : 0;\n\t\t}\n\n\t\treturn new Pair(bitToNum(xs), bitToNum(ys));\n\t}\n\n\tprivate static int bitToNum(List<Integer> xs) {\n\t\tint N = xs.size();\n\t\tint[] bits = new int[N];\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbits[i] = xs.get(i);\n\t\t}\n\t\treturn bitToNum(N, bits);\n\t}\n\n\tprivate static int bitToNum(int N, int[] bits) {\n\t\tint initial = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tinitial += (bits[N - i - 1] << i);\n\t\t}\n\t\treturn initial;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\tstatic Scanner sc = new Scanner(System.in);\n\tstatic int[] B;\n\n\tpublic static void main(String[] args) {\n\t\tint N = sc.nextInt();\n\t\tint M = sc.nextInt();\n\t\tB = new int[N];\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tB[i] = sc.nextInt();\n\t\t}\n\t\tint[] target = new int[N];\n\t\tint pos = 0;\n\t\tint val = 0;\n\t\tfor (int i = 0; i < M; ++i) {\n\t\t\tint P = sc.nextInt();\n\t\t\tfor (int j = 0; j < P; ++j) {\n\t\t\t\ttarget[pos++] = val;\n\t\t\t}\n\t\t\tval ^= 1;\n\t\t}\n\t\tint ans = solve(target);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\ttarget[i] ^= 1;\n\t\t}\n\t\tans = Math.min(ans, solve(target));\n\t\tSystem.out.println(ans);\n\t}\n\n\tstatic int solve(int[] target) {\n\t\tint sum = 0;\n\t\tfor (int i = 0; i < B.length; ++i) {\n\t\t\tsum += B[i];\n\t\t\tsum -= target[i];\n\t\t}\n\t\tif (sum != 0) return 999;\n\t\tArrayList<Integer> pos1 = new ArrayList<>();\n\t\tArrayList<Integer> pos2 = new ArrayList<>();\n\t\tfor (int i = 0; i < B.length; ++i) {\n\t\t\tif (B[i] == 0) pos1.add(i);\n\t\t\tif (target[i] == 0) pos2.add(i);\n\t\t}\n\t\tint ret = 0;\n\t\tfor (int i = 0; i < pos1.size(); ++i) {\n\t\t\tret += Math.abs(pos1.get(i) - pos2.get(i));\n\t\t}\n\t\treturn ret;\n\t}\n\n}"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        string[] line = Console.ReadLine().Trim().Split(' ');\n        var n = int.Parse(line[0]);\n        var m = int.Parse(line[1]);\n        var b0 = new List<int>();\n        var b1 = new List<int>();\n        line = Console.ReadLine().Trim().Split(' ');\n        for (int i = 0; i < n; i++)\n            if (line[i] == \"0\") b0.Add(i);\n            else b1.Add(i);\n\n        line = Console.ReadLine().Trim().Split(' ');\n        var p0 = new List<int>();\n        var p1 = new List<int>();\n        var pos = 0;\n        var wsum = 0;\n        for (int i = 0; i < m; i++)\n        {\n            var w = int.Parse(line[i]);\n            if (i % 2 == 0) getPos(p0, pos + wsum, w);\n            else getPos(p1, pos + wsum, w);\n            wsum += w;\n        }\n        var ans = new List<int>();\n        if (b0.Count() == p0.Count()) ans.Add(getAns(b0, p0));\n        if (b0.Count() == p1.Count()) ans.Add(getAns(b0, p1));\n        if (b1.Count() == p0.Count()) ans.Add(getAns(b1, p0));\n        if (b1.Count() == p1.Count()) ans.Add(getAns(b1, p1));\n        Console.WriteLine(ans.Min());\n    }\n    public static int getAns(List<int> a, List<int> b)\n    {\n        var ret = 0;\n        for (int i = 0; i < a.Count(); i++)\n            ret += Math.Abs(a[i] - b[i]);\n        return ret;\n    }\n    public static void getPos(List<int> a, int pos, int w)\n    {\n        for (int i = 0; i < w; i++)\n            a.Add(i + pos);\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        string[] line = Console.ReadLine().Trim().Split(' ');\n        var n = int.Parse(line[0]);\n        var m = int.Parse(line[1]);\n        var b0 = new List<int>();\n        var b1 = new List<int>();\n        line = Console.ReadLine().Trim().Split(' ');\n        for (int i = 0; i < n; i++)\n            if (line[i] == \"0\") b0.Add(i);\n            else b1.Add(i);\n\n        line = Console.ReadLine().Trim().Split(' ');\n        var p0 = new List<int>();\n        var p1 = new List<int>();\n        var pos = 0;\n        var wsum = 0;\n        for (int i = 0; i < m; i++)\n        {\n            var w = int.Parse(line[i]);\n            if (i % 2 == 0) getPos(p0, pos + wsum, w);\n            else getPos(p1, pos + wsum, w);\n            wsum += w;\n        }\n        if (b0.Count() == b1.Count())\n            Console.WriteLine(Math.Min(getAns(b0, p0), getAns(b0, p1)));\n        else if (b0.Count() == p0.Count()) Console.WriteLine(getAns(b0, p0));\n        else if (b0.Count() == p1.Count()) Console.WriteLine(getAns(b0, p1));\n    }\n    public static int getAns(List<int> a, List<int> b)\n    {\n        var ret = 0;\n        for (int i = 0; i < a.Count(); i++)\n            ret += Math.Abs(a[i] - b[i]);\n        return ret;\n    }\n    public static void getPos(List<int> a, int pos, int w)\n    {\n        for (int i = 0; i < w; i++)\n            a.Add(i + pos);\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        string[] line = Console.ReadLine().Trim().Split(' ');\n        var n = int.Parse(line[0]);\n        var m = int.Parse(line[1]);\n        var b0 = new List<int>();\n        var b1 = new List<int>();\n        line = Console.ReadLine().Trim().Split(' ');\n        for (int i = 0; i < n; i++)\n            if (line[i] == \"0\") b0.Add(i);\n            else b1.Add(i);\n\n        line = Console.ReadLine().Trim().Split(' ');\n        var p0 = new List<int>();\n        var p1 = new List<int>();\n        var pos = 0;\n        var wsum = 0;\n        for (int i = 0; i < m; i++)\n        {\n            var w = int.Parse(line[i]);\n            if (i % 2 == 0) getPos(p0, pos + wsum, w);\n            else getPos(p1, pos + wsum, w);\n            wsum += w;\n        }\n        var ans = new List<int>();\n        if (b0.Count() == b1.Count())\n        {\n            if (b0.Count() == p0.Count()) ans.Add(getAns(b0, p0));\n            if (b0.Count() == p1.Count()) ans.Add(getAns(b0, p1));\n        }\n        else\n        {\n            if (b0.Count() == p0.Count()) ans.Add(getAns(b0, p0));\n            if (b0.Count() == p1.Count()) ans.Add(getAns(b0, p1));\n            if (b1.Count() == p0.Count()) ans.Add(getAns(b1, p0));\n            if (b1.Count() == p1.Count()) ans.Add(getAns(b1, p1));\n        }\n        Console.WriteLine(ans.Min());\n    }\n    public static int getAns(List<int> a, List<int> b)\n    {\n        var ret = 0;\n        for (int i = 0; i < a.Count(); i++)\n            ret += Math.Abs(a[i] - b[i]);\n        return ret;\n    }\n    public static void getPos(List<int> a, int pos, int w)\n    {\n        for (int i = 0; i < w; i++)\n            a.Add(i + pos);\n    }\n}\n"
  },
  {
    "language": "Ruby",
    "code": "require 'set'\n\nn, m = gets.split.map(&:to_i)\ns = gets.split.join.to_i(2)\ng = gets.split.map(&:to_i)\n\nqueue = [s]\nreached = Set[s]\nstep = 0\n\nloop do\n    new_queue = []\n    until queue.empty?\n        x = queue.pop\n        if sprintf(\"%0#{n}b\",x).scan(/0+|1+/).map(&:size) == g\n            p step\n            exit\n        end\n\n        (0..n-2).each do |i|\n            next if [0b11, 0b00].include?((x >> i) & 0b11)\n            y = x ^ (0b11 << i)\n            next if reached.include?(y)\n            reached << y\n            new_queue << y\n        end\n    end\n    queue = new_queue\n    step += 1\n    break if queue.empty?\nend"
  },
  {
    "language": "Ruby",
    "code": "### constant\n\nINF = 1 << 30\n\n### main\n\nn, m = gets.split.map(&:to_i)\n\nbs = gets.split.map(&:to_i)\nst = bs.join.to_i(2)\n#puts st\n\nrls = gets.split.map(&:to_i)\n\nb = 0\nbits = 0\nk = n - 1\nfor i in (0...m)\n  for j in (0...rls[i])\n    bits |= 1 << k if b == 1\n    k -= 1\n  end\n  b ^= 1\nend\n\ngl0 = bits\ngl1 = ((1 << n) - 1) ^ bits\n#p [gl0, gl1]\n\nswaps = []\nmask = 3\nfor i in (1...n)\n  swaps << mask\n  mask <<= 1\nend\n#p swaps.map{|b| b.to_s(2)}\n\ndists = Array.new(1 << n){INF}\ndists[st] = 0\n\nq = [st]\n\nwhile ! q.empty?\n  u = q.shift\n  break if u == gl0 || u == gl1\n\n  for mask in swaps\n    um = u & mask\n    next if um == 0 || um == mask\n    v = u ^ mask\n    if dists[v] >= INF\n      dists[v] = dists[u] + 1\n      q << v\n    end\n  end\nend\n\nputs [dists[gl0], dists[gl1]].min"
  },
  {
    "language": "Ruby",
    "code": "def swap(b,e)\n    return Float::INFINITY if b.count(\"0\") != e.count(\"0\")\n    i = 0\n    ret = 0\n    while i < b.length\n        if b[i] == e[i]\n            i += 1\n            next\n        end\n        j = i + 1\n        while b[j] == b[i]\n            j += 1\n        end\n        ret += j - i\n        b[i], b[j] = b[j], b[i]\n        i += 1\n    end\n    return ret\nend\n\nn, m = gets.split.map(&:to_i)\nb = gets.split.map(&:to_i)\np = gets.split.map(&:to_i)\ns0 = \"\"\ns1 = \"\"\np.each_slice(2) do |d|\n    if d.size == 2\n        s0 << \"0\" * d[0]\n        s0 << \"1\" * d[1]\n    else\n        s0 << \"0\" * d[0]\n    end\nend\np.each_slice(2) do |d|\n    if d.size == 2\n        s1 << \"1\" * d[0]\n        s1 << \"0\" * d[1]\n    else\n        s1 << \"1\" * d[0]\n    end\nend\nputs [swap(b.join,s0), swap(b.join,s1)].min"
  },
  {
    "language": "Ruby",
    "code": "def swap(s, t, n)\n  ret = 0\n  n.times do |i|\n    if s[i] != t[i]\n      k = s[i..-1].index(1 - s[i])\n      s.slice!(i + k)\n      s.insert(i, t[i])\n      ret += k\n    end\n  end\n  @ans << ret\nend\n\ndef turn(t)\n  t.map{|i| 1 - i}\nend\n\nn, m = gets.split.map(&:to_i)\ns = gets.split.map(&:to_i)\nb = gets.split.map(&:to_i)\n\nt = []\nbit = 0\nb.each{ |i| i.times{ t << bit }; bit = 1 - bit }\n@ans = []\nswap(s.dup, t, n) if s.count(0) == t.count(0)\nswap(s, turn(t), n) if s.count(0) == turn(t).count(0)\np @ans.min"
  },
  {
    "language": "Ruby",
    "code": "def swap(s, t, n)\n  ret = 0\n  n.times do |i|\n    if s[i] != t[i]\n      k = s[i..-1].index(1 - s[i])\n      s.slice!(i + k)\n      s.insert(i, t[i])\n      ret += k\n    end\n  end\n  ret\nend\n\ndef turn(t)\n  t.map{|i| 1 - i}\nend\n\nn, m = gets.split.map(&:to_i)\ns = gets.split.map(&:to_i)\nb = gets.split.map(&:to_i)\n\nt = []\nbit = 0\nb.each{ |i| i.times{ t << bit }; bit = 1 - bit }\nans = swap(s.dup, t, n) if s.count(0) == t.count(0)\nif s.count(0) == turn(t).count(0) && ans > (ret = swap(s, turn(t), n))\n  ans = ret\nend\np ans"
  },
  {
    "language": "Python",
    "code": "(N,M),B,P = [map(int,raw_input().split()) for i in xrange(3)]\nC1 = []\nfor i in xrange(M): C1 += [1]*P[i] if i%2 else [0]*P[i]\nC2 = [1-c for c in C1]\n\nans = 1e10\nfor C in [C1,C2]:\n    if sum(B) == sum(C):\n        tmp = 0\n        i = j = 0\n        while not i == j == N-1:\n            if B[i] and C[j]:\n                tmp += abs(i-j)\n                i += 1; j += 1\n            else:\n                i += 1-B[i]; j += 1-C[i]\n            i = min(N-1,i); j = min(N-1,j)\n        ans = min(ans, tmp)\nprint ans"
  },
  {
    "language": "Python",
    "code": "N,M = map(int,raw_input().split())\nB = map(int,raw_input().split())\nP = map(int,raw_input().split())\nC1,C2 = [],[]\nfor i in xrange(M):\n    C1 += [1]*P[i] if i%2 else [0]*P[i]\n    C2 += [0]*P[i] if i%2 else [1]*P[i]\n\nans = 1e10\nfor C in [C1,C2]:\n    if sum(B) == sum(C):\n        tmp = 0\n        i = j = 0\n        while not i == j == N-1:\n            if not B[i]: i = min(N-1, i+1)\n            if not C[j]: j = min(N-1, j+1)\n            if B[i] and C[j]:\n                tmp += abs(i-j)\n                i = min(N-1, i+1)\n                j = min(N-1, j+1)\n        ans = min(ans, tmp)\nprint ans"
  },
  {
    "language": "Python",
    "code": "# -*- coding: utf-8 -*-\n\n( n, m ) = map ( int, input ( ).split ( ) )\nb = tuple ( map ( int, input ( ).split ( ) ) )\np = list ( map ( int, input ( ).split ( ) ) )\n\ncs = 0\nss = { }\nfs = [ ]\nbs = [ b ]\nwhile bs:\n  ( fs, bs ) = ( bs, fs )\n  while fs:\n    b = fs.pop ( )\n    if b not in ss:\n      ss[ b ] = cs\n      b = list ( b )\n      for i in range ( n - 1 ):\n        ( b[ i ], b[ i + 1 ] ) = ( b[ i + 1 ], b[ i ] )\n        bs.append ( tuple ( b ) )\n        ( b[ i + 1 ], b[ i ] ) = ( b[ i ], b[ i + 1 ] )\n  cs = cs + 1\n\nfor ( k, v ) in ss.items ( ):\n  res = [ ]\n  co = 1\n  for i in range ( 1, len ( k ) ):\n    if k[ i - 1 ] == k[ i ]:\n      co = co + 1\n    else:\n      res.append ( co )\n      co = 1\n  res.append ( co )\n  if res == p and v < cs:\n    cs = v\n\nprint ( cs )"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\ndd = [(0,-1),(1,0),(0,1),(-1,0)]\nddn = [(0,-1),(1,-1),(1,0),(1,1),(0,1),(-1,-1),(-1,0),(-1,1)]\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n\n    while True:\n        n,m = LI()\n        b = LI()\n        p = LI()\n        r = inf\n        t = []\n        for i in range(m):\n            t += [i % 2] * p[i]\n        if sorted(collections.Counter(t).items()) == sorted(collections.Counter(b).items()):\n            tr = 0\n            pi = 0\n            for i in range(n):\n                if t[i] != 1:\n                    continue\n                while b[pi] != 1:\n                    pi += 1\n                tr += abs(i-pi)\n                pi += 1\n            r = tr\n\n        t = []\n        for i in range(m):\n            t += [(i+1) % 2] * p[i]\n        if sorted(collections.Counter(t).items()) == sorted(collections.Counter(b).items()):\n            tr = 0\n            pi = 0\n            for i in range(n):\n                if t[i] != 1:\n                    continue\n                while b[pi] != 1:\n                    pi += 1\n                tr += abs(i-pi)\n                pi += 1\n            if r > tr:\n                r = tr\n        rr.append(r)\n        break\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Python",
    "code": "def read():\n  return list(map(int,input().split()))\n\ndef calc(bs,ls,first):\n  if sum(ls[0::2])!=bs.count(first) or sum(ls[1::2])!=bs.count(1-first):\n    return float(\"inf\")\n  res=0\n  i,j=0,0\n  for k in range(0,len(ls),2):\n    if k>0: i+=ls[k-1]\n    for _ in range(ls[k]):\n      j=bs.index(first,j)\n      res+=abs(j-i)\n      i+=1\n      j+=1\n  return res\n\nwhile 1:\n  try:\n    n,m=read()\n    bs=read()\n    ls=read()\n  except: break\n  print(min(calc(bs,ls,i) for i in range(2)))"
  },
  {
    "language": "Python",
    "code": "N, M = map(int, input().split())\n*B, = map(int, input().split())\n*P, = map(int, input().split())\ndef solve(v):\n    C = B[:]\n    D = []\n    for i in range(M):\n        D += [(i & 1) ^ v]*P[i]\n    res = 0\n    for i in range(N):\n        if C[i] != D[i]:\n            for j in range(i, N):\n                if D[i] == C[j]:\n                    C[i], C[j] = C[j], C[i]\n                    res += j - i\n                    break\n            else:\n                return 10**9\n    return res\nprint(min(solve(0), solve(1)))"
  },
  {
    "language": "Python",
    "code": "import copy\n\nN,M = [int(i) for i in input().split()]\n\nb = [int(i) for i in input().split()]\np = [int(i) for i in input().split()]\n\ndef solve(num):\n  ret =  0\n  c = copy.deepcopy(b)\n  c_ = []\n  for i in range(M):\n    c_ += [(int(i%2 == num))] * p[i]\n  #print(c,c_)\n  for i in range(N):\n    if c[i] != c_[i]:\n      for j in range(i,N):\n        if c_[i] == c[j]:\n          ret += j-i\n#          print(j-i)\n          c[i],c[j]=c[j],c[i]\n          break\n      else:\n        return 1000\n  return ret\n\n\nprint(min(solve(0),solve(1)))\n\n"
  },
  {
    "language": "Python",
    "code": "def read():\n  return list(map(int,input().split()))\n\ndef calc(bs,ls,first):\n  if sum(ls[0::2])!=bs.count(first) or sum(ls[1::2])!=bs.count(1-0):\n    return float(\"inf\")\n  res=0\n  i,j=0,0\n  for k in range(0,len(ls),2):\n    if k>0: i+=ls[k-1]\n    for _ in range(ls[k]):\n      j=bs.index(first,j)\n      res+=abs(j-i)\n      i+=1\n      j+=1\n  return res\n\nwhile 1:\n  try:\n    n,m=read()\n    bs=read()\n    ls=read()\n  except: break\n  print(min(calc(bs,ls,i) for i in range(2)))"
  }
]