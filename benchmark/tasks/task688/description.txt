Given three simple undirected graphs X, Y, and Z with N vertices each and M edges, construct another undirected graph W with N^3 vertices. The vertices in W correspond to each combination of vertices from X, Y, and Z. For each edge in X, Y, and Z, span edges in W accordingly. The weight of each vertex in W is determined by its coordinates, and the goal is to find the maximum possible total weight of an independent set in W, printing the result modulo 998,244,353.