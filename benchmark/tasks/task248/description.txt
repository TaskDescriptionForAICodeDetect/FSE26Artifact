You need to write a program that finds the least number of colors required to color a map consisting of multiple countries with polygonal territories. The map data includes multiple territories belonging to countries, and each country's territories must be colored the same while ensuring adjacent countries (those that share a border) are colored differently. You will receive input data that describes the number of territories, their names, their vertices, and the task is to output the minimum number of colors needed for each map data provided.