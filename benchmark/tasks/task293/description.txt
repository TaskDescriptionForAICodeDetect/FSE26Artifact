You need to determine the letters of a secret string based on given hints. The hints include the number of letters in the string, specific letters at certain positions, and information about duplicated substrings. If a letter cannot be deduced, output a question mark '?' for that position. Your input will specify the length of the string, the number of hints provided for fixed letters and duplicated substrings, and the positions for which the letters are queried. You must output the letters at the queried positions in a single line.