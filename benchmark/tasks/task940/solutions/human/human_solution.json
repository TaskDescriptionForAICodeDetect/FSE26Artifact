[
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n)  for(long long i=0;i<(long long)(n);i++)\n#define REP(i,k,n) for(long long i=k;i<(long long)(n);i++)\n#define all(a) a.begin(),a.end()\n#define pb emplace_back\n#define eb emplace_back\n#define lb(v,k) (lower_bound(all(v),k)-v.begin())\n#define ub(v,k) (upper_bound(all(v),k)-v.begin())\n#define fi first\n#define se second\n#define pi M_PI\n#define PQ(T) priority_queue<T>\n#define SPQ(T) priority_queue<T,vector<T>,greater<T>>\n#define dame(a) {out(a);return 0;}\n#define decimal cout<<fixed<<setprecision(15);\n#define dupli(a) a.erase(unique(all(a)),a.end())\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef tuple<ll,ll,ll> PP;\ntypedef tuple<ll,ll,ll,ll> PPP;\ntypedef multiset<ll> S;\nusing vi=vector<ll>;\nusing vvi=vector<vi>;\nusing vvvi=vector<vvi>;\nusing vvvvi=vector<vvvi>;\nusing vp=vector<P>;\nusing vvp=vector<vp>;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nconst ll inf=1001001001001001001;\nconst ll INF=2001001001;\nconst ll mod=1000000007;\nconst double eps=1e-10;\ntemplate<class T> bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<class T> bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<class T> void out(T a){cout<<a<<'\\n';}\ntemplate<class T> void outp(T a){cout<<'('<<a.fi<<','<<a.se<<')'<<'\\n';}\ntemplate<class T> void outvp(T v){rep(i,v.size())cout<<'('<<v[i].fi<<','<<v[i].se<<')';cout<<'\\n';}\ntemplate<class T> void outvvp(T v){rep(i,v.size())outvp(v[i]);}\ntemplate<class T> void outv(T v){rep(i,v.size()){if(i)cout<<' ';cout<<v[i];}cout<<'\\n';}\ntemplate<class T> void outvv(T v){rep(i,v.size())outv(v[i]);}\ntemplate<class T> bool isin(T x,T l,T r){return (l)<=(x)&&(x)<=(r);}\ntemplate<class T> void yesno(T b){if(b)out(\"yes\");else out(\"no\");}\ntemplate<class T> void YesNo(T b){if(b)out(\"Yes\");else out(\"No\");}\ntemplate<class T> void YESNO(T b){if(b)out(\"YES\");else out(\"NO\");}\ntemplate<class T> void noyes(T b){if(b)out(\"no\");else out(\"yes\");}\ntemplate<class T> void NoYes(T b){if(b)out(\"No\");else out(\"Yes\");}\ntemplate<class T> void NOYES(T b){if(b)out(\"NO\");else out(\"YES\");}\nvoid outs(ll a,ll b){if(a>=inf-100)out(b);else out(a);}\nll gcd(ll a,ll b){if(b==0)return a;return gcd(b,a%b);}\nll modpow(ll a,ll b){a%=mod;if(b==0)return 1;if(b&1)return a*modpow(a,b-1)%mod;ll k=modpow(a,b/2);return k*k%mod;}\nvoid ch(char &c){\n    if(c=='A')c='B';\n    else c='A';\n}\nint main(){\n    ll n,k;cin>>n>>k;\n    string s;cin>>s;\n    rep(i,k){\n        if(s[0]=='A'){\n            s[0]='B';continue;\n        }\n        rep(j,n-1)if(s[j]==s[j+1])ch(s[j]);\n        s[n-1]='A';\n    }\n    out(s);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<map>\n#include<unordered_map>\n#include<set>\n#include<unordered_set>\n#include<vector>\n#include<array>\n#include<string>\n#include<stack>\n#include<queue>\n#include<algorithm>\n#include<cassert>\n#include<functional>\n#include<random>\n#include<complex>\n#include<bitset>\n#include<chrono>\n//#include<boost/multiprecision/cpp_int.hpp>\n#define int int64_t\n#define uint uint64_t\n#define REP(i, a, b) for (int64_t i = (int64_t)(a); i < (int64_t)(b); i++)\n#define rep(i, a) REP(i, 0, a)\n#define SZ(X) ((int64_t)((X).size()))\n#define ITR(x, a) for (auto x = a.begin(); x != a.end(); x++)\n#define ALL(a) (a.begin()), (a.end())\n#define HAS(a, x) (a.find(x) != a.end())\n#define Min(x) *min_element(ALL(x))\n#define Max(x) *max_element(ALL(x))\n#define Unique(L) (L.erase(unique(ALL(L)), L.end()))\n#define intmax (std::numeric_limits<int64_t>::max() / 4)\n#define doublemax (std::numeric_limits<double>::max() / 4)\nusing namespace std;\n//typedef boost::multiprecision::cpp_int bigint;\nconst double EPS = 1e-9;\nconst double PI = acos(-1.0);\n\nint N, K;\nstring solve(string s) {\n\tint ball = 0;\n\tint dir = 0;\n\twhile (ball < N && 0 <= ball-dir) {\n\t\tif (s[ball - dir] == 'A') {\n\t\t\ts[ball - dir] = 'B';\n\t\t\tdir ^= 1;\n\t\t}\n\t\telse {\n\t\t\ts[ball - dir] = 'A';\n\t\t\tball += 1 - 2 * dir;\n\t\t}\n\t}\n\treturn s;\n}\n\nsigned main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K;\n\tstring S;\n\tcin >> S;\n\n\tmap<string, int>p;\n\tp[S] = 0;\n\n\tint flag = 0;\n\tfor(int i = 1; i <= K; i++) {\n\n\t\tstring next = solve(S);\n\t\tauto itr = p.find(next);\n\t\tif (flag == 0) {\n\t\t\tif (itr != p.end()) {\n\t\t\t\tint a = i - itr->second;\n\t\t\t\ti = K - (K%a);\n\t\t\t\tflag = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp[next] = i;\n\t\t\t}\n\t\t}\n\t\tS = next;\n\t}\n\tcout << S << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\n\n//INSERT ABOVE HERE\nstring nxt(string s){\n  int n=s.size();\n  for(int i=0,d=1;0<=i&&i<n;){\n    if(s[i]=='A') s[i]='B',d*=-1,i+=d;\n    else s[i]='A',i+=d;\n  }\n  return s;\n}\n\nsigned main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n\n  deque<int> dq;\n  for(int i=0;i<n;i++)\n    dq.emplace_back(s[i]=='A'?0:1);\n\n  const int MAX = 1e6;\n  if(k>MAX) k-=(k-MAX)/2*2;\n\n  int all=0;\n  auto get=[&](int k){return dq[k]^all;};\n  auto put=[&](int v){dq.emplace_back(v^all);};\n  for(int i=0;i<k;i++){\n    if(!get(0)){\n      dq[0]^=1;\n      continue;\n    }\n    dq.pop_front();\n    all^=1;\n    put(0);\n  }\n\n  for(int i=0;i<n;i++)\n    cout<<char('A'+get(i));\n  cout<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tif(k>2*n)\n\t\twhile(1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0&&n%2==1){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<queue>\n#include<cassert>\n#define PB push_back\n#define MP make_pair\n#define sz(v) (in((v).size()))\n#define forn(i,n) for(in i=0;i<(n);++i)\n#define forv(i,v) forn(i,sz(v))\n#define fors(i,s) for(auto i=(s).begin();i!=(s).end();++i)\n#define all(v) (v).begin(),(v).end()\nusing namespace std;\ntypedef long long in;\ntypedef vector<in> VI;\ntypedef vector<VI> VVI;\nint main(){\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  in n,k;\n  string s;\n  cin>>n>>k>>s;\n  n=sz(s);\n  if(n==1){\n    in c=(s[0]=='A')+k;\n    if(c%2==0)\n      cout<<\"B\"<<endl;\n    else\n      cout<<\"A\"<<endl;\n    return 0;\n  }\n  bool wt;\n  string ans;\n  bool fnd=0;\n  forn(i,n){\n    wt=(s[i]=='A');\n    if(i%2)\n      wt=!wt;\n    in mvs=1+wt;\n    if(mvs<=k){\n      k-=mvs;\n      continue;\n    }\n    if(mvs==2 && k==1){\n      if(s[i]=='A')\n\ts[i]='B';\n      else\n\ts[i]='A';\n    }\n    if(i%2){\n      for(in j=i;j<n;++j){\n\tif(s[j]=='A')\n\t  s[j]='B';\n\telse\n\t  s[j]='A';\n      }\n    }\n    for(in j=i;j<n;++j)\n      ans+=s[j];\n    forn(j,i){\n      if((j+i)%2)\n\tans+='A';\n      else\n\tans+='B';\n    }\n    fnd=1;\n    break;\n  }\n  if(!fnd){\n    forn(j,n){\n      if((j+n)%2)\n\tans+='A';\n      else\n\tans+='B';\n    }\n    if(n%2==1 && k%2==1)\n      ans[0]='B';\n  }\n  cout<<ans<<\"\\n\";\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(K-- && cnt + 1 < ans.size())\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tfor(int i = 1 ; i <= N && K-- ; ++i)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\tif(K > 0){\n\t\t\tK %= 2;\n\t\t\twhile(K--)\n\t\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\t}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <cmath>\n#include <string>\n#include <set>\n\nusing namespace std;\n\n#define fastInp cin.tie(0); cout.tie(0); ios_base::sync_with_stdio(0);\n\ntypedef long long ll;\ntypedef long double ld;\n\nll n, k;\nvector<char> vec;\nvector<char> need;\n\nvoid input() {\n\tcin >> n >> k;\n\tvec.resize(n);\n\tfor (auto &cur : vec) cin >> cur;\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nvoid play() {\n\tll x = 0, side = 1;\n\twhile (x >= 0 && x < n) {\n\t\tif (side == 1) {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx--;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*for (auto cur : vec) cout << cur;\n\tif (x < 0) {\n\t\tcout << \" front\";\n\t}\n\telse {\n\t\tcout << \" back\";\n\t}\n\tcout << \"\\n\";*/\n}\n\nvoid rand_test() {\n\tn = rand() % 1000 + 1, k = rand() % 10000;\n\tvec.resize(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tvec[i] = ('A' + rand() % 2);\n\t}\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nll find_k() {\n\tll cnt = 0;\n\twhile (need != vec) {\n\t\tcnt++;\n\t\tplay();\n\t}\n\n\treturn cnt;\n}\n\nint main() {\n\tfastInp;\n\n\tinput();\n\twhile (k > 0) {\n\t\tk--;\n\t\tplay();\n\t\tif (vec == need) {\n\t\t\tk %= 2;\n\t\t}\n\t}\n\n\tfor (auto cur : vec) cout << cur;\n\treturn 0;\n\t\n\tll t = 1000;\n\twhile (t--) {\n\t\trand_test();\n\t\tvector<char> sv = vec;\n\t\tcout << n << \" \" << find_k() << \"\\n\";\n\t\tfor (auto cur : sv) cout << cur;\n\t\tcout << \"\\n\";\n\t\tcout << \"-----------------------------\\n\";\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define eb emplece_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n#define int2(x, y) int x, y; scanf(\"%lld %lld\", &x, &y);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nvoid run(string &a);\n\nsigned main()\n{\n    int2(n, k);\n    string str;\n    cin >> str;\n    map<string, int> foo;\n\n    int i = 0;\n    while (foo.find(str) != foo.end()) {\n        foo.insert(mp(str, i++));\n        run(str);\n        if (i == k) {\n            cout << str << endl;\n            return 0;\n        }\n    }\n    int cyc = i - foo.find(str)->second + 1;\n    k -= i; k %= cyc;\n    rep(j, k) {\n        run(str);\n    }\n    cout << str << endl;\n\n    return 0;\n}\n\nvoid run(string &a)\n{\n    int ptr = 0, dist = 1;\n    while (0 <= ptr && ptr < a.size()) {\n        if (a[ptr] == 'A') {\n            a[ptr] = 'B';\n            dist *= -1;\n            ptr += dist;\n        } else {\n            a[ptr] = 'A';\n            ptr += dist;\n        }\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// This amazing code is by Eric Sunli Chen.\n#include <algorithm>\n#include <bitset>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\ntemplate<typename T> void get_int(T &x)\n{\n\tchar t=getchar();\n\tbool neg=false;\n\tx=0;\n\tfor(; (t>'9'||t<'0')&&t!='-'; t=getchar());\n\tif(t=='-')neg=true,t=getchar();\n\tfor(; t<='9'&&t>='0'; t=getchar())x=x*10+t-'0';\n\tif(neg)x=-x;\n}\ntemplate<typename T> void print_int(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tshort a[20]= {},sz=0;\n\twhile(x>0)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1; i>=0; i--)putchar('0'+a[i]);\n}\n#define ff first\n#define ss second\n#define pb push_back\n#define mp make_pair\n#define get1(a) get_int(a)\n#define get2(a,b) get1(a),get1(b)\n#define get3(a,b,c) get1(a),get2(b,c)\n#define printendl(a) print_int(a),puts(\"\")\ntypedef long long LL;\ntypedef unsigned long long uLL;\ntypedef pair<int,int> pii;\nconst int inf=0x3f3f3f3f;\nconst LL Linf=1ll<<61;\nconst double pi=acos(-1.0);\n\nchar s[200111];\nint n,k,q[600111],fr,rr;\nint main()\n{\n\tget2(n,k);scanf(\"%s\",s+1);\n\t\n\tif(k>=2*n)k=(k-2*n)%2+2*n;\n\t\n\tfor(int i=1;i<=n;i++)q[rr++]=s[i]-'A';\n\t\n\tint neg=0;\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tif(q[fr]^neg==0)q[fr]^=1;\n\t\telse\n\t\t{\n\t\t\tneg^=1;\n\t\t\tfr++;\n\t\t\tq[rr++]=neg;\n\t\t}\n\t}\n\tfor(int i=fr;i<rr;i++)putchar((q[i]^neg)+'A');\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nint n, k, a[200010], now, temp;\nchar s[200010];\ninline void print(){for(int i=1; i<=n; i++)printf(\"%c\", (a[(now+i-2)%n+1]^temp)+'A');}\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s+1); now=1; temp=0;\n\tfor(int i=1; i<=n; i++)a[i]=s[i]-'A';\n\twhile(k&&(now<n||!(a[now]^temp))){\n\t\tk--;\n\t\tif(!(a[now]^temp)){a[now]^=1; continue;}\n\t\tnow++; temp^=1;\n\t}\n\tif(!(n&1)){print(); return 0;}\n\tif(k&1)a[now]^=1; print();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"unordered_set\"\n#include \"iomanip\"\n#include \"cmath\"\n#include \"random\"\n#include \"bitset\"\n#include \"cstdio\"\n#include \"numeric\"\n#include \"bitset\"\n\nusing namespace std;\n\n//const long long int MOD = 998244353;\nconst long long int MOD = 1000000007;\nconst long double EPS = 1e-7;\n\nlong long int N, M, K, H, W, L, R;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tcin >> N >> K;\n\tstring s;\n\tcin >> s;\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\tK--;\n\t}\n\tfor (int i = 1; i < N; i++) {\n\t\tif (K < 100) {\n\t\t\twhile (K) {\n\t\t\t\tif (s[0] == 'A') {\n\t\t\t\t\ts[0] = 'B';\n\t\t\t\t\tK--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tK--;\n\t\t\t\t\tfor (int j = 0; j < N - 1; j++) {\n\t\t\t\t\t\ts[j] = 'A' + 'B' - s[j + 1];\n\t\t\t\t\t}\n\t\t\t\t\ts[N - 1] = 'A';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << s << endl;\n\t\t\treturn 0;\n\t\t}\n\t\tif (i % 2) {\n\t\t\tif (s[i] == 'B')K -= 2;\n\t\t\telse K--;\n\t\t}\n\t\telse {\n\t\t\tif (s[i] == 'A')K -= 2;\n\t\t\telse K--;\n\t\t}\n\t\tif (K < 100) {\n\t\t\tfor (int j = 0; j + i < N; j++) {\n\t\t\t\tif (i % 2) {\n\t\t\t\t\ts[j] = 'A' + 'B' - s[i + j];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ts[j] = s[i + j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int j = N - i; j < N; j++) {\n\t\t\t\tif ((N - 1 - j) % 2)s[j] = 'B';\n\t\t\t\telse s[j] = 'A';\n\t\t\t}\n\t\t\ts[0] = 'B';\n\t\t}\n\t}\n\tfor (int j = 0; j < N; j++) {\n\t\tif ((N - 1 - j) % 2)s[j] = 'B';\n\t\telse s[j] = 'A';\n\t}\n\ts[0] = 'B';\n\tif (N % 2 == 0) {\n\t\tcout << s << endl;\n\t\treturn 0;\n\t}\n\tK %= 2;\n\tif (K) {\n\t\ts[0] = 'A';\n\t}\n\tcout << s << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 1000100;\nint stk[maxn], he, tp, neg;\nvoid push(int v){\n\tstk[tp++] = v ^ neg;\n}\nint seek(){\n\treturn stk[he] ^ neg;\n}\nvoid pop(){\n\the++;\n}\nint main(){\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tfor(int i = 0; i < n; i++){\n\t\tif(s[i] == 'A') push(0);\n\t\telse push(1);\n\t}\n\tauto op = [&](){\n\t\tif(seek() == 0){\n\t\t\tstk[he] ^= 1;\n\t\t} else {\n\t\t\tpop();\n\t\t\tneg ^= 1;\n\t\t\tpush(0);\n\t\t}\n\t};\n\tint sm = min(3 * n, k);\n\tfor(int i = 0; i < sm; k--, i++){\n\t\top();\n\t}\t\n\tk %= 2;\n\tif(k){\n\t\top();\n\t}\n\tfor(int i = 0; i < n; i++){\n\t\tcout << char('A' + seek());\n\t\tpop();\n\t}\n\tcout << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#define y1 klfjvkldfngldf\n\n#pragma comment(linker, \"/STACK:400000000\")\n\n#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <bitset>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <complex>\n#include <functional>\n#include <numeric>\n#include <random>\n#include <memory.h>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long LL;\n\nvoid go(string & s)\n{\n\tint prev = -1;\n\tint now = 0;\n\twhile (now != -1 && now != s.size())\n\t{\n\t\tif (prev < now)\n\t\t{\n\t\t\tif (s[now] == 'A')\n\t\t\t{\n\t\t\t\ts[now] = 'B';\n\t\t\t\tprev = now;\n\t\t\t\tnow--;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ts[now] = 'A';\n\t\t\t\tprev = now;\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[now] == 'A')\n\t\t\t{\n\t\t\t\ts[now] = 'B';\n\t\t\t\tprev = now;\n\t\t\t\tnow++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ts[now] = 'A';\n\t\t\t\tprev = now;\n\t\t\t\tnow--;\n\t\t\t}\n\t\t}\n\t}\n}\n\nchar f(char c, bool inv)\n{\n\tif (!inv)\n\t\treturn c;\n\treturn c == 'A' ? 'B' : 'A';\n}\n\nstring solve(string s, int k)\n{\n\tint n = s.size();\n\tint pos = 0;\n\tbool inv = 0;\n\twhile (pos < n && k > 0)\n\t{\n\t\tk--;\n\t\tif (f(s[pos], inv) == 'A')\n\t\t{\n\t\t\ts[pos] = f('B', inv);\n\t\t\tcontinue;\n\t\t}\n\n\t\tinv ^= 1;\n\t\tpos++;\n\t}\n\n\tstring res = \"\";\n\tif (k > 0)\n\t{\n\t\tif (n & 1)\n\t\t{\n\t\t\tres += f('A', k & 1);\n\t\t\tfor (int i = 1; i < n; ++i)\n\t\t\t\tres += f('A', (i & 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (int i = 0; i < n; ++i)\n\t\t\t\tres += f('B', (i & 1));\n\t\t}\n\t}\n\telse\n\t{\n\t\twhile (pos < s.size())\n\t\t\tres += f(s[pos++], inv);\n\t\twhile (res.size() < n)\n\t\t{\n\t\t\tif ((n - res.size()) & 1)\n\t\t\t\tres += 'A';\n\t\t\telse\n\t\t\t\tres += 'B';\n\t\t}\n\t}\n\treturn res;\n}\n\nint main()\n{\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tcout << solve(s, k) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mo 1000000007\n#define pi 3.1415926535898 \nusing namespace std;\nlong long read(){\n    long long xx=0,flagg=1;\n    char ch=getchar();\n    while((ch<'0'||ch>'9')&&ch!='-')\n        ch=getchar();\n    if(ch=='-'){\n        flagg=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9'){\n        xx=xx*10+ch-'0';\n        ch=getchar();\n    }\n    return xx*flagg;\n}\nvoid pus(long long xx,long long flagg){\n    if(xx<0){\n        putchar('-');\n        xx=-xx;\n    }\n    if(xx>=10)\n        pus(xx/10,0);\n    putchar(xx%10+'0');\n    if(flagg==1)\n        putchar(' ');\n    if(flagg==2)\n        putchar('\\n');\n    return;\n}\nlong long ksm(long long u,long long v){\n\tlong long o=1;\n\twhile(v){\n\t\tif(v&1)\n\t\t\to=o*u%mo;\n\t\tu=u*u%mo;\n\t\tv>>=1;\n\t}\n\treturn o;\n}\nint n,k,i,sum;\nbool a[200005],flag;\nchar s[200005];\nint main(){\n    //freopen(\".in\",\"r\",stdin);\n    //freopen(\".out\",\"w\",stdout);\n   \tn=read();k=read();\n   \tscanf(\"%s\",s);\n   \tfor(i=0;i<n;i++)\n   \t\tif(s[i]=='A')\n   \t\t\ta[i]=0;\n   \t\telse\n   \t\t\ta[i]=1;\n   \twhile(k--){\n\t\tif((a[sum]^flag)==0)\n\t\t\ta[sum]^=1;\n\t\telse{\n\t\t\tsum++;\n\t\t\tflag^=1;\n\t\t\tsum=(sum>=n?sum-n:sum);\n\t\t}\n\t}\n\tfor(i=sum;i<n;i++)\n\t\tif((a[i]^flag)==0)\n\t\t\tputchar('A');\n\t\telse\n\t\t\tputchar('B');\n\tfor(i=0;i<sum;i++)\n\t\tif((a[i]^flag)==0)\n\t\t\tputchar('A');\n\t\telse\n\t\t\tputchar('B');\n\tcout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<list>\n#include<deque>\n#include<bitset>\n#include<set>\n#include<map>\n#include<unordered_map>\n#include<unordered_set>\n#include<cstring>\n#include<sstream>\n#include<complex>\n#include<iomanip>\n#include<numeric>\n#include<cassert>\n#define X first\n#define Y second\n#define pb push_back\n#define rep(X,Y) for (int (X) = 0;(X) < (Y);++(X))\n#define reps(X,S,Y) for (int (X) = S;(X) < (Y);++(X))\n#define rrep(X,Y) for (int (X) = (Y)-1;(X) >=0;--(X))\n#define repe(X,Y) for ((X) = 0;(X) < (Y);++(X))\n#define peat(X,Y) for (;(X) < (Y);++(X))\n#define all(X) (X).begin(),(X).end()\n#define rall(X) (X).rbegin(),(X).rend()\n#define eb emplace_back\n#define UNIQUE(X) (X).erase(unique(all(X)),(X).end())\n#define Endl endl\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntemplate<class T> using vv=vector<vector<T>>;\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"{\"; rep(i,t.size()) {os<<t[i]<<\",\";} os<<\"}\"<<endl; return os;}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\ntemplate<class T> inline bool MX(T &l,const T &r){return l<r?l=r,1:0;}\ntemplate<class T> inline bool MN(T &l,const T &r){return l>r?l=r,1:0;}\n#define out(args...){vector<string> a_r_g_s=s_p_l_i_t(#args, ','); e_r_r(a_r_g_s.begin(), args); }\nvector<string> s_p_l_i_t(const string& s, char c) { vector<string> v; stringstream ss(s); string x; while(getline(ss,x,c)) v.emplace_back(x); return move(v);}\nvoid e_r_r(vector<string>::iterator it) {}\ntemplate<typename T, typename... Args> void e_r_r(vector<string>::iterator it, T a, Args... args){ if(*it==\" 1\"||*it==\"1\") cerr<<endl; else cerr << it -> substr((*it)[0] == ' ', it -> length()) << \" = \" << a << \", \"; e_r_r(++it, args...);}\nconst ll MOD=1e9+7;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cout<<fixed<<setprecision(0);\n  int t=1e9,n=200000;\n  string s;//(n,'A');\n  cin>>n>>t>>s; s.reserve(512345);\n  int o=0,f=0;\n  int sum=0+'A'+'B';\n  rep(i,t){\n    if(s[o]=='A'+f){\n      s[o]=sum-s[o];\n    }else{\n      ++o;\n      f=1-f;\n      s+='A'+f;\n    }\n    //cout<<s<<endl;\n    if(o>n && s[o+n-1]=='A'+f) break;\n  }\n  rep(i,n) cout<<char(f?sum-s[o+i]:s[o+i]); cout<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tif (n == 1)\n\t{\n\t\trev = k & 1;\n\t\tif (rev ^ a[0]) putchar ('B');\n\t\telse putchar ('A');\n\t}\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\t\t\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if((n%2==1&&cnt+1==n)||v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n  }\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  assert(!(n%2==0&&k>0));\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\n#define MN 200000\n\nint N, K;\nchar S[MN];\n\nvoid print(){\n\tfor( int i = 0; i < N; i++ ){\n\t\tstd::cout << S[i];\n\t}\n\tstd::cout << std::endl;\n\treturn;\n}\n\nvoid input(){\n\tstd::cin >> N >> K;\n\tfor( int i = 0; i < N; i++ ){\n\t\tstd::cin >> S[i];\n\t}\n\treturn;\n}\n\nint func(int i, int lr){\n\tif( S[i] == 'A' ){\n\t\tS[i] = 'B';\n\t\treturn lr;\n\t}\n\tS[i] = 'A';\n\treturn -lr;\n}\n\nvoid sim(){\n\tint p, re, lr;\n\tp = 0;\n\tlr = -1;\n\twhile( 0 <= p && p < N ){\n\t\tre = func(p, lr);\n\t\tp += re;\n\t\tlr = -re;\n\t}\n\t//print();\n\treturn;\n}\n\nvoid run(){\n\tfor( int i = 0; i < K; i++ ){\n\t\tsim();\n\t}\n\tprint();\n\treturn;\n}\n\nint main(){\n\tinput();\n\trun();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tif (k > 3 * n)\n\t{\n\t\tif (n & 1 && k & 1) s[0] = 'A';\n\t\telse s[0] = 'B';\n\n\t\tfor (int i = 1; i < n; i++)\n\t\t\ts[i] = (s[i-1] == 'A' ? 'B' : 'A');\n\t\tcout << s;\n\t}\n\telse\n\t{\n\t\tfor (int i = 0; i < k; i++)\n\t\t{\n\n\t\t\tif (!(a[0] ^ rev)) \n\t\t\t{\n\t\t\t\ta[0] = !rev;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ta.pop_front ();\n\t\t\trev ^= 1;\n\t\t\ta.push_back (rev);\n\t\t}\n\n\t\tif (k % 2 == 0) a[0] = rev;\n\t\telse a[0] = !rev;\n\n\t\tfor (int j = 0; j < n; j++)\n\t\t\tif (rev ^ a[j]) putchar ('B');\n\t\t\telse putchar ('A');\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\ntypedef pair<pll, pll> P;\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS = 1e-9;\nconst bool debug = 0;\n//---------------------------------//\n\nint N, K;\nstring S;\n\nvoid next(string &s) {\n\tif (s[0] == 'A') s[0] = 'B';\n\telse {\n\t\tREP(j, N - 1) {\n\t\t\tif (s[j + 1] == 'A') s[j] = 'B';\n\t\t\telse s[j] = 'A';\n\t\t}\n\t\ts[N - 1] = 'A';\n\t}\n}\n\n// --DEBUG-- //\nstring rev(string s) {\n\tREP(i, N) s[i] = s[i] == 'A' ? 'B' : 'A';\n\treturn s;\n}\nvoid solveDEBUG(string s) {\n\tint t = K;\n\twhile (t--) next(s);\n\tcout << s << endl;\n}\n////\n\nint main() {\n\tcin >> N >> K >> S;\n\t\n\tif (debug) solveDEBUG(S);\n\t\n\tstring ans = \"\", lev = \"\";\n\t\n\tfor (int i = N - 2; i >= 0; i -= 2) {\n\t\tif (S[i] == 'B' && S[i + 1] == 'A') ans += \"AB\";\n\t\telse break;\n\t}\n\tfor (int i = N - 1 - (int)ans.size(); i >= 0; i--) lev += S[i];\n\t\n\tfor (int i = 0; i < N - 1; i += 2) {\n\t\tif (K <= 4 || ans.size() >= N - 2) break;\n\t\t\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i++;\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i--;\n\t\t\n\t\tK -= 2;\n\t\tans += \"AB\";\n\t}\n\t\n\tfor (int i = 0; ans.size() < N; i++) ans += lev[i];\n\treverse(ALL(ans));\n\t\n\tREP(i, 4) if (K) next(ans), K--;\n\tif (K && N % 2 == 1) ans[0] = ( (ans[0]=='B')+K ) % 2 == 1 ? 'B' : 'A';\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=int(a);i<int(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n\n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=int(a)-1;i>=int(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n\n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n#define popcount(n) (__builtin_popcountll(n))\n\nusing namespace std;\n\ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n\nusing ll=long long;\nusing R=long double;\nconst R EPS=1e-9L; // [-1000,1000]->EPS=1e-8 [-10000,10000]->EPS=1e-7\ninline int sgn(const R& r){return(r > EPS)-(r < -EPS);}\ninline R sq(R x){return sqrt(max(x,0.0L));}\n\nconst int dx[8]={1,0,-1,0,1,-1,-1,1};\nconst int dy[8]={0,1,0,-1,1,1,-1,-1};\n\n// Problem Specific Parameter:\n\nstring s;\nconst char ab=('A'^'B');\n\nint ball(int i,int p){\n\tif(s[i]=='A'){\n\t\ts[i]='B';\n\t\treturn p;\n\t}else{\n\t\ts[i]='A';\n\t\treturn 1LL*2*i-p;\n\t}\n}\n\nint main(void){\n\tint n,k;\n\tcin >> n >> k >> s;\n\n\trep(loop,min(100,k)){\n\t\tint cur=0,prv=-1;\n\t\twhile(1){\n\t\t\tconst int nxt=ball(cur,prv);\n\t\t\tprv=cur,cur=nxt;\n\t\t\tif(cur==-1 or cur==n) break;\n\t\t}\n\t}\n\n\tconst int rest=max(0,k-100);\n\tif(rest%2==1 and n%2==1) s[0]^=ab;\n\n\tcout << s << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//by yjz\n#include<bits/stdc++.h>\nusing namespace std;\n#define FF first\n#define SS second\n#define PB push_back\n#define MP make_pair\n#define bged(v) (v).begin(),(v).end()\n#define foreach(it,s) for(__typeof((s).begin()) it=(s).begin();it!=(s).end();it++)\ntypedef long long ll;\nconst int Imx=2147483647;\nconst ll Lbig=2e18;\nconst int mod=1e9+7;\n//My i/o stream\nstruct fastio\n{\n\tchar s[100000];\n\tint it,len;\n\tfastio(){it=len=0;}\n\tinline char get()\n\t{\n\t\tif(it<len)return s[it++];it=0;\n\t\tlen=fread(s,1,100000,stdin);\n\t\tif(len==0)return EOF;else return s[it++];\n\t}\n\tbool notend()\n\t{\n\t\tchar c=get();\n\t\twhile(c==' '||c=='\\n')c=get();\n\t\tif(it>0)it--;\n\t\treturn c!=EOF;\n\t}\n}_buff;\n#define geti(x) x=getnum()\n#define getii(x,y) geti(x),geti(y)\n#define getiii(x,y,z) getii(x,y),geti(z)\n#define puti(x) putnum(x),putchar(' ')\n#define putii(x,y) puti(x),puti(y)\n#define putiii(x,y,z) putii(x,y),puti(z)\n#define putsi(x) putnum(x),putchar('\\n')\n#define putsii(x,y) puti(x),putsi(y)\n#define putsiii(x,y,z) putii(x,y),putsi(z)\ninline ll getnum()\n{\n\tll r=0;bool ng=0;char c;c=_buff.get();\n\twhile(c!='-'&&(c<'0'||c>'9'))c=_buff.get();\n\tif(c=='-')ng=1,c=_buff.get();\n\twhile(c>='0'&&c<='9')r=r*10+c-'0',c=_buff.get();\n\treturn ng?-r:r;\n}\ntemplate<class T> inline void putnum(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tregister short a[20]={},sz=0;\n\twhile(x)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1;i>=0;i--)putchar('0'+a[i]);\n}\ninline char getreal(){char c=_buff.get();while(c==' '||c=='\\n')c=_buff.get();return c;}\nint n,k;\nchar s[200111];\nchar getst(int x,int dlt)\n{\n\tif(x+dlt>n)return (n-x)%2+'A';\n\telse return ((s[x+dlt]-'A')^(dlt%2))+'A';\n}\nchar ans[200111];\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tint dlt=0;\n\tbool f=0;\n\twhile(k--)\n\t{\n\t\tif(dlt>=n)k%=2;\n\t\telse\n\t\t{\n\t\t\tif(((getst(1,dlt)-'A')^f)==0)\n\t\t\t{\n\t\t\t\tf^=1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdlt++;\n\t\t\t\tf=0;\n\t\t\t}\n\t\t}\n/*\t\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n\t\tif(f)\n\t\t{\n\t\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t\t}\n\t\tprintf(\"%s\\n\",ans+1);*/\n\t}\n\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n\tif(f)\n\t{\n\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t}\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <deque>\nusing namespace std;\n\n#define iter(i, n) for (int i = 1; i <= n; ++i)\n\nconst int NR = 1e5 + 100;\n\ndeque<int> q;\nint n, K;\nchar s[NR];\nbool rev;\n\nvoid once(int i) {\n\tif (q[0] ^ rev) q[0] ^= 1;\n\telse rev ^= 1, q.pop_front(), q.push_back(1 ^ rev);\n}\n\nint main() {\n\tscanf(\"%d%d%s\", &n, &K, s + 1);\n\titer(i, n) q.push_back(s[i] == 'A');\n\tif (K <= 3 * n) {\n\t\titer(i, K) once(i);\n\t} else {\n\t\titer(i, 3 * n) once(i);\n\t\tif (K - (3 * n) % 2 != 0) once(3 * n + 1);\n\t}\n\n\tfor (int a : q) putchar((a ^ rev) ? 'A' : 'B'); putchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\n\n#define FOR(i,b,e) for(int i=(b); i <= (e); ++i)\n#define FORD(i,b,e) for(int i=(b); i >= (e); --i)\n#define SIZE(c) (int) (c).size()\n#define FORE(i,c) FOR(i,0,SIZE(c)-1)\n#define FORDE(i,c) FORD(i,SIZE(c)-1,0)\n\n#define pb push_back\n#define mp make_pair\n#define st first\n#define nd second\n\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair <int,int> pii;\ntypedef pair <ll,ll> pll;\n\ntypedef vector <int> VI;\ntypedef vector <bool> VB;\ntypedef vector <pii> VP;\ntypedef vector <ll> VL;\ntypedef vector <pll> VPL;\n\ntypedef vector <VI> VVI;\ntypedef vector <VL> VVL;\ntypedef vector <VB> VVB;\ntypedef vector <VP> VVP;\n\nconst int MOD = 1000000007;\nconst int INF = 1000000001;\nconst ll LINF = 1000000000000000001LL;\n\n/*************************************************************************/\n\nvoid simulate(string &s) {\n    int n = SIZE(s);\n    \n    int i = 0, dir = 1;\n    while (i >= 0 && i < n) {\n        if (s[i] == 'A') {\n            dir *= -1;\n        }\n        \n        s[i] = 'A' + 'B' - s[i];\n        i += dir;\n    }\n}\n\n/*************************************************************************/\n\nint main() {\n    ios_base::sync_with_stdio(0);\n    \n    int n, k;\n    cin >> n >> k;\n    \n    string s;\n    cin >> s;\n    \n    map <string,int> seen;\n    FOR(i,1,k) {\n        if (seen.count(s)) {\n            int diff = i - seen[s];\n            \n            k = (k - i + 1) % diff;\n            i = 1;\n            \n            seen.clear();\n        }\n    \n        seen[s] = i;\n        simulate(s);\n    }\n    \n    cout << s;\n\n    return 0;\n}\n\n/*************************************************************************/\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring a;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> a;\n}\n\nuint64_t chsh;\nmap<uint64_t, int> pos;\n\nvoid preform()\n{\n\tif(n > 100000) return;\n\n\tint pos = 0, last = -1;\n\twhile(pos >= 0 && pos < n)\n\t{\n\t\ta[pos] = ((a[pos] - 'A') ^ 1) + 'A';\n\n\t\tif(a[pos] == 'B') swap(last, pos);\n\t\telse\n\t\t{\n\t\t\tint val = pos;\n\t\t\tpos += (pos - last);\n            last = val;\n\t\t}\n\t}\n}\n\nvoid solve()\n{\n\tint period = 1;\n    for(int i = 0; i < k; i++)\n\t{\n\t\tpreform();\n\n\t\tchsh = 0;\n\t\tfor(int j = 0; j < n; j++)\n\t\t\tchsh = chsh * 3ll + a[j] - 'A' + 1;\n\n        if(pos.count(chsh))\n\t\t{\n\t\t\tk -= (i + 1);\n            period = (i - pos[chsh]);\n\t\t\tbreak;\n\t\t}\n\n        pos[chsh] = i;\n\t}\n\n\tk %= period;\n    for(int i = 0; i < k; i++)\n    \tpreform();\n\n\tcout << a << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<set>\n#include<bitset>\n#include<map>\n\n#define fo(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef double db;\n\nconst int N = 200005;\n\nint a[N*2];\nint n,k;\nchar s[N];\n\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfo(i,1,n)a[i]=s[i]=='B';\n\tint nt=0;\n\tif (k<=n*2){\n\t\tint he=1,ta=n;\n\t\tfo(i,1,n){\n\t\t\tif ((a[he]^nt)==1){\n\t\t\t\tnt^=1;\n\t\t\t\the++,ta++;\n\t\t\t\ta[ta]=nt;\n\t\t\t}\n\t\t\telse a[he]^=1;\n\t\t}\n\t\tfo(i,he,ta)\n\t\tif ((a[i]^nt)==1)putchar('B');else putchar('A');\n\t}\n\telse{\n\t\tif (n&1) putchar('A'+!(k&1));\n\t\tfo(i,1,n/2) putchar('B'),putchar('A');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 3e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 2;\n\t\t\telse\n\t\t\t\tq[i] = 1;\n\t\t} else {\n\t\t\ta[i] = 1;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 1;\n\t\t\telse\n\t\t\t\tq[i] = 2;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[n - w + 1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[n - w + i + 1] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[n - w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef vector<int> vi;\n\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define fi first\n#define se second\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<(n);i++)\n#define ALL(c) (c).begin(),(c).end()\n\nconst string T = \"AB\";\n\nint N, K;\ndeque<int> deq;\nstring s;\n\nint main() {\n\tcin >> N >> K >> s;\n\trep(i, N) deq.pb(s[i] != 'A');\n\n\tint f = 0;\n\n\trep(tt, N * 2) {\n\t\tif (K == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tif (deq[0] == f) {\n\t\t\tdeq[0] = f^1;\n\t\t} else {\n\t\t\tf ^= 1;\n\t\t\tdeq.pop_front();\n\t\t\tdeq.push_back(f);\n\t\t}\n\t\t--K;\n\t}\n\n\tif (K == 0) {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", T[deq[i]^f]);\n\t\t}\n\t\tputs(\"\");\n\t} else {\n\t\trep(i, N-1) {\n\t\t\tprintf(\"%c\", T[i % 2 == 0]);\n\t\t}\n\t\tprintf(\"A\");\n\t\tputs(\"\");\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nvoid move(vc &s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn;\n\t}\n\trep(i, s.size()) {\n\t\tif (i == s.size() - 1)s[i] = 'A';\n\t\telse {\n\t\t\tif (s[i + 1] == 'A')s[i] = 'B';\n\t\t\telse s[i] = 'A';\n\t\t}\n\t}\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == 'A') {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tstring ans = \"\";\n\trep(i, N) {\n\t\tans += s[i];\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nll n, k;\nstring s;\n\n//count how long moving t frames takes\nll comp(ll t) {\n\tll ct = 0;\n\tfor (ll i = 0; i < min(t, 1LL*n); ++i) {\n\t\tif (i%2 == 0)\n\t\t\tct += (s[i] == 'A')+1;\n\t\telse\n\t\t\tct += (s[i] == 'B')+1;\n\t}\n\t\n\tif (t <= n)\n\t\treturn ct;\n\treturn ct+(t-n)+(t-1)/2-n/2;\n}\n\nstring trans(string g) {\n\tif (g[0] == 'A')\n\t\tg[0] = 'B';\n\telse {\n\t\tstring h = \"\";\n\t\tfor (ll i = 1; i < g.length(); ++i) {\n\t\t\tif (g[i] == 'A')\n\t\t\t\th += 'B';\n\t\t\telse\n\t\t\t\th += 'A';\n\t\t}\n\t\th += 'A';\n\t\tg = h;\n\t}\n\t\n\treturn g;\n}\n\nstring move(ll t) {\n\tstring h = \"\";\n\tfor (ll i = t; i <= t+n-1; ++i) {\n\t\tif (i < n) {\n\t\t\tll y = (int)'A'+(int)'B';\n\t\t\tif (t%2 == 0)\n\t\t\t\th += s[i];\n\t\t\telse\n\t\t\t\th += (char)(y-s[i]);\n\t\t} else {\n\t\t\tif ((t+n-1-i)%2 == 0)\n\t\t\t\th += 'A';\n\t\t\telse\n\t\t\t\th += 'B';\n\t\t}\n\t}\n    \n\treturn h;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\n\tcin >> n >> k >> s;\n\tll lo = 0, hi = 1e9;\n\n\twhile (lo != hi) {\n\t\tll mid = (lo+hi+1)/2;\n\t\tif (comp(mid) > k)\n\t\t\thi = mid-1;\n\t\telse\n\t\t\tlo = mid;\n\t}\n    \n    int j = comp(lo);\n\ts = move(lo);\n\t\n\tif (j == k-1)\n\t\tcout << trans(s) << endl;\n\telse\n\t\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\nstring S;\nstring T;\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>S;\n\tif(N==1) {\n\t\tif(K%2) S[0]='A'+'B'-S[0];\n\t\tcout<<S<<endl;\n\t\treturn;\n\t}\n\t\n\t\n\tint pos=0,rev=0,revn=0;\n\tFOR(i,K) {\n\t\tif(pos==N) break;\n\t\t\n\t\tif((S[pos]=='A') ^ rev ^ revn) {\n\t\t\trevn^=1;\n\t\t}\n\t\telse {\n\t\t\tpos++;\n\t\t\trevn = 0;\n\t\t\trev ^=1;\n\t\t}\n\t\t\n\t}\n\tstring R;\n\tint first=1;\n\twhile(pos<N) {\n\t\tif(rev ^ ((first==1)&&revn)) {\n\t\t\tR+='A'+'B'-S[pos];\n\t\t}\n\t\telse {\n\t\t\tR+=S[pos];\n\t\t}\n\t\tpos++;\n\t\tfirst=0;\n\t}\n\twhile(R.size()<N) {\n\t\tif((N-R.size())%2==1) R+='A';\n\t\telse R+='B';\n\t}\n\tcout<<R<<endl;\n\t\n\t\n\t\n\t/*\n\tT=S;\n\t\n\tFOR(i,100) {\n\t\tint x=0,side=0;\n\t\twhile(x>=0 && x<N) {\n\t\t\tS[x]='A'+'B'-S[x];\n\t\t\tif(side==0) {\n\t\t\t\tif(S[x]=='B') x--, side=1;\n\t\t\t\telse x++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(S[x]=='B') x++, side=0;\n\t\t\t\telse x--;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(T[0]=='A') T[0]='B';\n\t\telse {\n\t\t\tT=T.substr(1);\n\t\t\tFORR(c,T) c='A'+'B'-c;\n\t\t\tT+='A';\n\t\t}\n\t\t\n\t\t\n\t\tcout<<(i+1)<<\"\\t\"<<S<<endl;\n\t}*/\t\n\t\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <deque>\n#define MAXN 1000010\nusing namespace std;\n\nint n,k;\nint a0[MAXN],ans[MAXN];\n\nnamespace Queue{\n\tdeque<int> Q;\n\tint delta;\n\n\tvoid rev(){ delta^=1; }\n\tint front(){ return Q.front()^delta; }\n\n\tvoid setFront(int x){\n\t\tQ.pop_front();\n\t\tQ.push_front(x^delta);\n\t}\n}\n\nvoid input(){\n\tscanf(\"%d%d\",&n,&k);\n\tstatic char str[MAXN];\n\tscanf(\"%s\",str+1);\n\tfor(int i=1;i<=n;i++)\n\t\tif(str[i]=='B') a0[i]=1;\n}\n\nvoid gao(){\n\tfor(int i=1;i<=n;i++) Queue::Q.push_back(a0[i]);\n\twhile(k && !Queue::Q.empty()){\n\t\tk--;\n\t\tif(!Queue::front()) Queue::setFront(1);\n\t\telse{\n\t\t\tQueue::Q.pop_front();\n\t\t\tQueue::rev();\n\t\t}\n\t}\n\tif(!k){\n\t\tint x=0;\n\t\twhile(!Queue::Q.empty()){\n\t\t\tans[++x]=Queue::front();\n\t\t\tQueue::Q.pop_front();\n\t\t}\n\t\tfor(int i=x+1;i<=n;i++)\n\t\t\tans[i]=(n-i)&1;\n\t}else{\n\t\tfor(int i=1;i<=n;i++) ans[i]=(n-i)&1;\n\t\tif((n&1)&&(k&1)) ans[1]=1;\n\t}\n}\n\nint main(){\n\tinput();\n\tgao();\n\tfor(int i=1;i<=n;i++) putchar('A'+ans[i]);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nchar s[401000];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tfor(int i = 1; i <= n; i++) s[i] = 'B';\n\tbool ok = 1;\n\tfor(int i = 1; i <= n; i++)\n\t\tif(s[i] == 'A') {ok = 0; break;} \n\tif(ok)\n\t{\n\t\tk--;\n\t\tfor(int i = 1; i <= n; i++)\n\t\t\ts[i] = 'A';\n\t}\n\tint h = 1, t = 0;\n\tif(n == 1) t = k & 1;\n\telse\n\t\twhile(k--)\n\t\t{\n\t\t\tif(h > n) break;\n\t\t\tif(t) s[h] = s[h] == 'A' ? 'B' : 'A';\n\t\t\tif(s[h] == 'B')\n\t\t\t{\n\t\t\t\tt ^= 1;\n\t\t\t\tif(t == 1) s[n + h] = 'B';\n\t\t\t\telse s[n + h] = 'A';\n\t\t\t\th++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(t == 1) s[h] = 'A';\n\t\t\t\telse s[h] = 'B';\n\t\t\t}\n\t\t}\n\tif(t)\n\t{\n\t\tfor(int i = h; i < h + n; i++)\n\t\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t}\n\tif(k >= 0 && (k & 1) && s[h] == 'A') s[h] = 'B';\n\tprintf(\"%s\\n\", s + h);\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\n#include <random>\n#include <fstream>\nusing namespace std;\n\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define pb push_back\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<int, ll> i_ll;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int v; ll w; };\n\nconst int MOD = 1000000007;\nconst int _MOD = 1000000009;\ndouble EPS = 1e-10;\nconst int INF = INT_MAX / 2;\n\nint main() {\n\tint N, K; cin >> N >> K;\n\tstring s; cin >> s;\n\trep(i, N) if ((N - 1 - i) % 2) s[i] = 'A' + 'B' - s[i];\n\tint l = 0;\n\twhile (K--) {\n\t\tchar c = s[l];\n\t\tif ((N - 1) % 2) c = 'A' + 'B' - c;\n\t\tif (c == 'A') s[l] = 'A' + 'B' - s[l];\n\t\telse l++;\n\t\tif (l == N) break;\n\t}\n\tstring t = s.substr(l) + string(l, 'A');\n\trep(i, N) if ((N - 1 - i) % 2) t[i] = 'A' + 'B' - t[i];\n\tcout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\t// freopen(\"in.txt\",\"r\",stdin);\n\tint N,K;\n\tchar S[200100];\n\tchar tS[200100];\n\tcin >> N >> K;\n\tscanf(\"%s\",&S);\n\tfor (int n = 0; n < K; ++n)\n\t{\n\t\tint ball = 0;\n\t\tint vx = 1;\n\t\twhile(ball>=0&&ball<N){\n\t\t\tif(S[ball]=='A'){\n\t\t\t\tS[ball]='B';\n\t\t\t\tvx = -vx;\n\t\t\t\tball+=vx;\n\t\t\t}else{\n\t\t\t\tS[ball]='A';\n\t\t\t\tball+=vx;\n\t\t\t}\n\t\t}\n\t\tif(strcmp(tS,S)==0) break;\n\t\tstrcpy(tS,S);\n\t}\n\tprintf(\"%s\\n\",S);\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for (int i=(a); i<=(b); i++)\n#define per(i,a,b) for (int i=(a); i>=(b); i--)\nusing namespace std;\n\nconst int maxn = 200005;\nint a[maxn], n, K, p, det;\nchar s[maxn];\n\nint main() {\n\tscanf(\"%d%d\", &n, &K);\n\tscanf(\"%s\", s + 1);\n\trep (i, 1, n) a[i] = (s[i] == 'A');\n\tp = 1;\n\twhile (K && p <= n) {\n\t\tif ((a[p] ^ det) == 1) a[p] ^= 1;\n\t\telse det ^= 1, p++;\n\t\tK--;\n\t}\n\tif (!K) {\n\t\trep (i, p, n)\n\t\t\tif (a[i] ^ det) putchar('A');\n\t\t\telse putchar('B');\n\t\trep (i, 1, p - 1)\n\t\t\tif (a[i] ^ det) putchar('A');\n\t\t\telse putchar('B');\n\t\treturn 0;\n\t}\n\trep (i, 1, n)\n\t\tif (i == 1 && (n & 1)) {\n\t\t\tif (K & 1) putchar('B');\n\t\t\telse putchar('A');\n\t\t}\n\t\telse if ((i & 1) ^ (n & 1)) putchar('B');\n\t\telse putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <queue>\n#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <cctype>\n#include <cassert>\n#include <limits>\n#include <functional>\n#include <iomanip>\n#include <complex>\n#include <bitset>\n#include <stack>\nusing namespace std;\n \n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define repl(i,s,n) for(int i=s; i<=n; ++i)\n#define rer(i,l,u) for(int (i)=(int)(l);(i)<=(int)(u);++(i))\n#define reu(i,l,u) for(int (i)=(int)(l);(i)<(int)(u);++(i))\n#if defined(_MSC_VER) || __cplusplus > 199711L\n#define aut(r,v) auto r = (v)\n#else\n#define aut(r,v) __typeof(v) r = (v)\n#endif\n#define each(it,o) for(aut(it, (o).begin()); it != (o).end(); ++ it)\n#define ktya(x) sort(all(x))\n#define maxs(x,y) (x = max(x,y))\n#define mins(x,y) (x = min(x,y))\n#define all(o) (o).begin(), (o).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset(m,v,sizeof(m))\n#define INF 1e18\n#define INFLL 1000000000000000007LL\n#define SIZE 200105\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mind(a,b) (a>b?b:a)\n#define maxd(a,b) (a>b?a:b)\n#define PI (acos(-1))\ntypedef vector<int> vi; typedef pair<int, int> pii; typedef vector<pair<int, int> > vpii; typedef long long ll;\ntypedef pair<int,ll> pill; typedef pair<ll,int> plli; \ntypedef pair<double, int> pdi;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if(y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if(x < y) x = y; }\ntypedef complex<double> P;\nll MOD = 1000000007;\n//ll MOD=998244353;\ntypedef ll Weight;\nstruct Edge {\n\tint src, dst;\n\tWeight weight;\n};\nbool operator < (const Edge &e, const Edge &f) {\n\treturn e.weight != f.weight ? e.weight > f.weight : // !!INVERSE!!\n\te.src != f.src ? e.src < f.src : e.dst < f.dst;\n}\ntypedef vector<Edge> Edges;\nint N;\nll K;\nstring str;\nchar hoge[2]={'A','B'};\nint main(){\n\tll KK;\n\tcin>>N>>KK;\n\tcin>>str;\n\tif(N==1){\n\t\tif(str[0]=='A'){\n\t\t\tcout<<hoge[int(KK%2)]<<endl;\n\t\t}else{\n\t\t\tcout<<hoge[int((KK+1)%2)]<<endl;\n\t\t}\n\t\treturn 0;\n\t}\n\tstring nise=\"\";\n\trep(i,N){\n\t\tnise=hoge[i%2]+nise;\n\t}\n\tfor(ll x=KK;x<=KK;x++){\n\t\tstring ans=\"\";\n\t\tll K=x;\n\t\trep(i,N){\n\t\t\tif(K<0)continue;\n\t\t\tif(K==0){\n\t\t\t\t//i kai hanten\n\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\tif(i%2==1){\n\t\t\t\t\t\tif(str[j]=='A')ans+='B';\n\t\t\t\t\t\telse ans+='A';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans+=str[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sz=ans.size();\n\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\tans+=nise[j];\n\t\t\t\t}\n\t\t\t\tcout<<ans<<endl;\n\t\t\t\tK-=1;\n\t\t\t\t//return 0;\n\t\t\t}\n\t\t\tif(str[i]==hoge[i%2]){\n\t\t\t\tif(K==1){\n\t\t\t\t\tans+='B';\n\t\t\t\t\tfor(int j=i+1;j<N;j++){\n\t\t\t\t\t\tif(i%2==1){\n\t\t\t\t\t\t\tif(str[j]=='A')ans+='B';\n\t\t\t\t\t\t\telse ans+='A';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tans+=str[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sz=ans.size();\n\t\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\t\tans+=nise[j];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<ans<<endl;\n\t\t\t\t\tK-=2;\n\t\t\t\t\t//return 0;\n\t\t\t\t}\n\t\t\t\tK-=2;\n\t\t\t}else{\n\t\t\t\tK-=1;\n\t\t\t}\n\t\t}\n\t\tif(K>=0)cout<<nise<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0){  //B\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\tfor (int i = 0; i < d.size(); i++){\n\t\t\tint go = ((i % 2) == d[i]);\n\t\t\tans.push_back('A' + go);\n\t\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iomanip>\n#include<map>\n#include<unordered_map>\n#include<set>\n#include<unordered_set>\n#include<vector>\n#include<array>\n#include<string>\n#include<stack>\n#include<queue>\n#include<algorithm>\n#include<cassert>\n#include<functional>\n#include<random>\n#include<complex>\n#include<bitset>\n#include<chrono>\n//#include<boost/multiprecision/cpp_int.hpp>\n#define int int64_t\n#define uint uint64_t\n#define REP(i, a, b) for (int64_t i = (int64_t)(a); i < (int64_t)(b); i++)\n#define rep(i, a) REP(i, 0, a)\n#define SZ(X) ((int64_t)((X).size()))\n#define ITR(x, a) for (auto x = a.begin(); x != a.end(); x++)\n#define ALL(a) (a.begin()), (a.end())\n#define HAS(a, x) (a.find(x) != a.end())\n#define Min(x) *min_element(ALL(x))\n#define Max(x) *max_element(ALL(x))\n#define Unique(L) (L.erase(unique(ALL(L)), L.end()))\n#define intmax (std::numeric_limits<int64_t>::max() / 4)\n#define doublemax (std::numeric_limits<double>::max() / 4)\nusing namespace std;\n//typedef boost::multiprecision::cpp_int bigint;\nconst double EPS = 1e-9;\nconst double PI = acos(-1.0);\n\nint N, K;\nstring solve(string s) {\n\tint ball = 0;\n\tint dir = 0;\n\twhile (ball < N && 0 <= ball-dir) {\n\t\tif (s[ball - dir] == 'A') {\n\t\t\ts[ball - dir] = 'B';\n\t\t\tdir ^= 1;\n\t\t}\n\t\telse {\n\t\t\ts[ball - dir] = 'A';\n\t\t\tball += 1 - 2 * dir;\n\t\t}\n\t}\n\treturn s;\n}\n\nsigned main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K;\n\tstring S;\n\tcin >> S;\n\n\tmap<string, int>p;\n\tp[S] = 0;\n\n\tfor(int i = 1; i <= K; i++) {\n\n\t\tstring next = solve(S);\n\t\tauto itr = p.find(next);\n\t\tif (itr != p.end()) {\n\t\t\tint a = i - itr->second;\n\t\t\ti = K - (K%a);\n\t\t}\n\t\telse {\n\t\t\tp[next] = i;\n\t\t}\n\t\tS = next;\n\t}\n\tcout << S << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#define MAXN 200010\nint n, k, p, a[MAXN];\nchar buf[MAXN];\nstd::deque<int> Q;\nint main() {\n\tscanf(\"%d%d%s\", &n, &k, buf + 1);\n\tfor (int i = 1; i <= n; i++) Q.push_back(buf[i] == 'B');\n\tfor (int i = 1; i <= 2 * n; i++) {\n\t\tif (Q.front() ^ p) {\n\t\t\tQ.pop_front();\n\t\t\tp ^= 1;\n\t\t\tQ.push_back(p);\n\t\t} else {\n\t\t\tQ.pop_front();\n\t\t\tQ.push_front(p ^ 1);\n\t\t}\n\t\tif (i == k) {\n\t\t\tfor (int j = 1; j <= n; j++) printf(\"%c\", (Q[j - 1] ^ p) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tk -= 2 * n - 1;\n\tfor (int j = 1; j <= n; j++) printf(\"%c\", (Q[j - 1] ^ p ^ (k & 1)) + 'A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 2e5 + 5;\nchar s[N];\nint n, k;\n\nint main() {\n    scanf(\"%d%d\", &n, &k);\n    scanf(\"%s\", s);\n    deque<bool> dque(n);\n    for (int i=0; i<n; ++i) dque[i] = s[i] == 'B';\n    if (k > 2*n) k = 2*n+(k&1);\n    bool flip = false;\n    for (int i=1; i<=k; ++i) {\n        if (dque[0] == flip) {\n            dque[0] = !dque[0];\n        } else {\n            dque.pop_front();\n            dque.push_back(!flip);\n            flip = !flip;\n        }\n    }\n    for (int i=0; i<n; ++i) {\n        putchar(dque.front() == flip ? 'A' : 'B');\n        dque.pop_front();\n    }\n    puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#define N 220000\nusing namespace std;\nint n,k,num,root;\nchar s[N];\nstruct node{\n\tint l,r,rnd,sz,flag,val;\n}tree[N*10];\ninline int newnode(){\n\ttree[++num].rnd=rand();\n\treturn num;\n}\ninline void update(int p){\n\ttree[p].sz=tree[tree[p].l].sz+tree[tree[p].r].sz+1;\n}\nvoid build(int &p,int l,int r){\n\tif(l>r) return ;\n\tp=newnode();\n\ttree[p].val=(s[l]=='A'?0:1);\n\ttree[p].sz=1;\n\tint mid=(l+r)/2;\n\tbuild(tree[p].l,l,mid-1);\n\tbuild(tree[p].r,mid+1,r);\n\tupdate(p);\n}\ninline void pushdown(int p){\n\tif(!tree[p].flag) return ;\n\ttree[tree[p].l].val^=1;\n\ttree[tree[p].r].val^=1;\n\ttree[tree[p].l].flag^=1;\n\ttree[tree[p].r].flag^=1;\n\ttree[p].flag=0;\n}\nvoid split(int now,int k,int &x,int &y){\n\tif(!now){x=y=0;return ;}\n//\tprintf(\"%d:%dssd\\n\",now,tree[now].val);\n\tpushdown(now);\n\tif(tree[tree[now].l].sz<k) x=now,split(tree[now].r,k-tree[tree[now].l].sz-1,tree[now].r,y);\n\telse y=now,split(tree[now].l,k,x,tree[now].l);\n\tupdate(now);\n}\nint merge(int a,int b){\n\tif(!a or !b) return a+b;\n\tpushdown(a);pushdown(b);\n\tif(tree[a].rnd<tree[b].rnd){\n\t\ttree[a].r=merge(tree[a].r,b);\n\t\tupdate(a);return a;\n\t}\n\telse{\n\t\ttree[b].l=merge(a,tree[b].l);\n\t\tupdate(b);return b;\n\t}\n}\nint qu(){\n\tint x1,y1;\n\tsplit(root,1,x1,y1);\n\tint yu=tree[x1].val;\n\troot=merge(x1,y1);\n\treturn yu;\n}\nvoid print(int p){\n\tif(!p) return ;\n\tpushdown(p);\n\tprint(tree[p].l);\n\tprintf(\"%c\",(tree[p].val==0?'A':'B'));\n\tprint(tree[p].r);\n}\nint main(){\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tif(n==1){\n\t\tif(k%2==0) printf(\"%c\",s[1]);\n\t\telse printf(\"%c\",s[1]=='A'?'B':'A');\n\t\treturn 0;\n\t}\n\tif(k<=3*n){\n\t\tbuild(root,1,n);\n\t\tfor(int i=1;i<=k;++i){\n\t\t\tif(qu()){\n\t\t\t\tint x1,y1;\n\t\t\t\ttree[root].val^=1;\n\t\t\t\ttree[root].flag^=1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\troot=merge(y1,x1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint x1,y1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\ttree[x1].val^=1;\n\t\t\t\troot=merge(x1,y1);\n\t\t\t}\n\t\t}\n\t\tprint(root);\n\t}\n\telse{\n\t\tif(n%2==0){\n\t\t\tfor(int i=1;i<=n;i+=2)\n\t\t\t\tprintf(\"BA\");\n\t\t}\n\t\telse{\n\t\t\tif(k%2==0){\n\t\t\t\tprintf(\"%c\",s[1]='A');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t\telse{\n\t\t\t\tprintf(\"BB\");\n\t\t\t\ts[2]='B';\n\t\t\t\tfor(int i=3;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nconst int N = 100010;\n\nchar s[N];\nint n, k;\nstd::deque <int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++ i){\n\t\tdq.push_back(s[i] - 'A');\n\t}\n\tif (k > n << 1){\n\t\tk = (n << 1) + (k & 1);\n\t}\n\tint flag = 0;\n\tfor (int i = 0; i < k; ++ i){\n\t\tif (dq.front() == flag){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(flag ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflag ^= 1;\n\t\t\tdq.push_back(flag);\n\t\t}\n\t}\n\twhile (!dq.empty()){\n\t\tputchar((dq.front() ^ flag) + 'A');\n\t\tdq.pop_front();\n\t}\n\treturn printf(\"\\n\"), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tif(v.size() == n)\n\t\t\tbreak;\n\t}\n\tif((k + 1) % 2 && n % 2)\n\t{\n\t\tv.pop_front();\n\t\tv.front().second++;\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst int MAXN = 4 * 100 * 1000 + 1234;\nint n, k;\nstring s;\n\nchar rev(char c) {\n\treturn (c == 'A')? 'B': 'A';\n}\nstring gen(int c) {\n\tstring ss;\n\tif (c % 2 == 0)\n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += s[i + c];\n\telse \n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += rev(s[i + c]);\n\treturn ss;\n}\n\nstring prv(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\treturn s;\n}\n\nvoid out(string s) {\n\tif (s == \"\")\n\t\treturn ;\n\tfor (int i = 0; i < n; i++)\n\t\tputchar(s[i]);\n\texit(0);\n}\n\nsigned main() {\n\tcin >> n >> k;\n\tcin >> s;\n\tint ans[MAXN];\n\tchar ch[2] = {'B', 'A'};\n\tfor (int i = 0; i <= 2 * n + 100; i++)\n\t\ts += ch[i % 2];\n\tans[0] = (s[0] == ch[1]);\n\tfor (int i = 1; i <= n + 10; i++) {\n\t\tans[i] = ans[i - 1] + 1;\n//\t\tcerr << ans[i] << ' ' << s[i] << ' ' << ch[i & 1] << endl;\n\t\tans[i] += s[i] == ch[i % 2 ^ 1];\n\t}\n//\tfor (int i = 0; i <= n; i++)\n//\t\tcerr << i << ' ' << ans[i] << endl;\n\tfor (int i = 0; i <= n + 10; i++) {\n//\t\tcerr << i << ' ' << gen(i) << endl;\n\t\tif (k == ans[i]) \n\t\t\tout(prv(gen(i)));\n\t\telse if (k == ans[i] - 1)\n\t\t\tout(gen(i));\n\t}\n\tcerr << \"yoho \" << ans[n + 1] << endl;\n\tk -= ans[n + 1] - 1;\n\tk %= 2;\n\tif (k == 0 || n % 2 == 0)\n\t\tout(gen(n));\n\telse\n\t\tout(prv(gen(n)));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nconst int N=2e5+5; \n\nint n,k,p; char s[N];\nstd::deque<int> q;\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1); int i;\n\tfor (i=1; i<=n; i++) q.push_back(s[i]=='A'?1:0);\n\tfor (i=1; i<=k&&i<=4*n; i++)\n\t\tif (q.front()^p) q.pop_front(),q.push_front(p);\n\t\telse q.push_back(p),q.pop_front(),p^=1;\n\twhile (!q.empty()) putchar((q.front()^p)?'A':'B'),q.pop_front();\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define P(x) cout << x << endl\n#define D(x) P(#x << \": \" << x)\n#define F(i,n) for (int i=0; i<(int)(n); i++)\n#define DEC(i,n) for (int i=(int)(n); --i>=0;)\n#define pb push_back\n#define all(v) v.begin(), v.end()\nusing namespace std;\n\nstring res(string s, int shift, bool switched) {\n    int n = s.size();\n    string t(n,' ');\n    DEC(i,n) {\n        if (i >= n-shift)\n            t[i] = 'A' + (n-i-1)%2;\n        else {\n            t[i] = s[i+shift];\n            if (shift%2)\n                t[i] = 'A'+'B'-t[i];\n        }\n    }\n    if (switched)\n        t[0] = 'B';\n    return t;\n}\n\nsigned main() {\n    int n,k; cin>>n>>k;\n    string s; cin>>s;\n    int shift=0, step=0;\n    bool switched=false;\n    for (; shift<n; step++) {\n        if (step == k) {\n            P(res(s, shift, switched));\n            return 0;\n        }\n        if (!switched && s[shift] == 'A'+(shift%2))\n            switched = true;\n        else {\n            shift++;\n            switched = false;\n        }\n    }\n    P(res(s, n, switched ^ (k-step)%2));\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\n#define int int64_t\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst int base = 5;\nconst int mod = (int)1e9 + 11;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nint hsh = 0, rev_hsh = 0;\nmap<int, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = ((hsh * 1ll * base) % mod + i + 1) % mod;\n\t\trev_hsh = ((rev_hsh * 1ll * base) % mod + (i ^ 1) + 1) % mod;\n\t}\n\n\tint pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = (pwn * 1ll * base) % mod;\n\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = (hsh - (((frs_v + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - ((((frs_v ^ 1) + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\n\t\t\thsh = (hsh + ((((frs_v ^ 1) + 1) * 1ll * pwn) % mod)) % mod;\n\t\t\trev_hsh = (rev_hsh + (((frs_v + 1) * 1ll * pwn) % mod)) % mod;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = (hsh - (((frs_v + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - ((((frs_v ^ 1) + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = (hsh * 1ll * base) % mod;\n\t\t\trev_hsh = (rev_hsh * 1ll * base) % mod;\n\n\t\t\thsh = (hsh + 2) % mod;\n\t\t\trev_hsh = (rev_hsh + 1) % mod;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\t\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\n#undef int\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\n#define int ll\n\n#define FOR(i,a,b) for(int i=int(a);i<int(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define MP make_pair\n#define PB push_back\n#define ALL(x) x.begin(),x.end()\n#define REACH cerr<<\"reached line \"<<__LINE__<<endl\n#define DBG(x) cerr<<\"line \"<<__LINE__<<\" \"<<#x<<\":\"<<x<<endl\n\nusing pi=pair<int,int>;\nusing vi=vector<int>;\nusing ld=long double;\n\ntemplate<class T,class U>\nostream& operator<<(ostream& os,const pair<T,U>& p){\n\tos<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n\treturn os;\n}\n\ntemplate<class T>\nostream& operator <<(ostream& os,const vector<T>& v){\n\tos<<\"[\";\n\tREP(i,(int)v.size()){\n\t\tif(i)os<<\",\";\n\t\tos<<v[i];\n\t}\n\tos<<\"]\";\n\treturn os;\n}\n\nint read(){\n\tint i;\n\tscanf(\"%lld\",&i);\n\treturn i;\n}\n\nvoid printSpace(){\n\tprintf(\" \");\n}\n\nvoid printEoln(){\n\tprintf(\"\\n\");\n}\n\nvoid print(int x,int suc=1){\n\tprintf(\"%lld\",x);\n\tif(suc==1)\n\t\tprintEoln();\n\tif(suc==2)\n\t\tprintSpace();\n}\n\nstring readString(){\n\tstatic char buf[3341919];\n\tscanf(\"%s\",buf);\n\treturn string(buf);\n}\n\nchar* readCharArray(){\n\tstatic char buf[3341919];\n\tstatic int bufUsed=0;\n\tchar* ret=buf+bufUsed;\n\tscanf(\"%s\",ret);\n\tbufUsed+=strlen(ret)+1;\n\treturn ret;\n}\n\ntemplate<class T,class U>\nvoid chmax(T& a,U b){\n\tif(a<b)\n\t\ta=b;\n}\n\ntemplate<class T,class U>\nvoid chmin(T& a,U b){\n\tif(a>b)\n\t\ta=b;\n}\n\ntemplate<class T>\nT Sq(const T& t){\n\treturn t*t;\n}\n\nconst int inf=LLONG_MAX/3;\n\nsigned main(){\n\tint n=read(),k=read();\n\tstring s=readString();\n\tint g=0,q;\n\t{\n\t\tREP(i,n){\n\t\t\tbool w=(s[i]=='A'&&(i^1));\n\t\t\tif(w){\n\t\t\t\tif(k>=2){\n\t\t\t\t\tg++;\n\t\t\t\t\tk-=2;\n\t\t\t\t\tif(k==0)q=0;\n\t\t\t\t}else{\n\t\t\t\t\tk--;\n\t\t\t\t\tq=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tk--;\n\t\t\t\tg++;\n\t\t\t\tif(k==0)q=0;\n\t\t\t}\n\t\t\tif(k==0)\n\t\t\t\tbreak;\n\t\t}\n\t\tif(k){\n\t\t\tif(n^1){\n\t\t\t\tg+=k/2;\n\t\t\t\tq=k&1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tg+=k;\n\t\t\t\tq=0;\n\t\t\t}\n\t\t}\n\t}\n\tstring t;\n\tREP(i,n)\n\t\tif(i+g<n)\n\t\t\tt+=((g&1)^(s[i+g]=='A'))?'A':'B';\n\t\telse\n\t\t\tt+=((n-1-i)&1)?'B':'A';\n\tif(q){\n\t\tif(t[0]=='A')\n\t\t\tt[0]='B';\n\t\telse{\n\t\t\tREP(i,n-1)\n\t\t\t\tt[i]=t[i+1]=='A'?'B':'A';\n\t\t\tt[n-1]='A';\n\t\t}\n\t}\n\tcout<<t<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int N=200005;\nbool a[N*2];char s[N];\nint main(){\n\tint n,k;scanf(\"%d%d\\n%s\",&n,&k,s+1);for (int i=1;i<=n;i++) a[i]=s[i]-'A';\n\tint l=1,r=n,t=0;for (;k && l<=n;k--)if (a[l]^t) l++,a[++r]=(t^=1);else a[l]^=1;\n\tif (k&1 && n&1) a[l]^=1;for (int i=l;i<=r;i++) printf(\"%c\",'A'+(a[i]^t));\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<queue>\nusing namespace std;\ndeque<int> t;\nint n,k,change;\nvoid typeA()\n{\n\tfor(int i=0;i<t.size();++i){\n\t\tif(t.at(i)==0){\n\t\t\tcout<<\"A\";\n\t\t}\n\t\telse cout<<\"B\";\n\t}\n}\nvoid typeB()\n{\n\tfor(int i=0;i<t.size();++i){\n\t\tif(t.at(i)==0){\n\t\t\tcout<<\"B\";\n\t\t}\n\t\telse cout<<\"A\";\n\t}\n}\nint main()\n{\n\tchar c;\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;++i){\n\t\tcin>>c;\n\t\tif(c=='A'){\n\t\t\tt.push_back(0);\n\t\t}\n\t\telse{\n\t\t\tt.push_back(1);\n\t\t}\n\t}\n\tfor(int i=1;i<=min(k,2*n);++i){\n\t\tint temp=t.front();\n\t\tt.pop_front();\n\t\tif(change%2==0)\n\t\t{\n\t\t\tif(temp==0){\n\t\t\t\tt.push_front(1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tchange++;\n\t\t\t\tt.push_back(1);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(temp==1){\n\t\t\t\tt.push_front(0);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tchange++;\n\t\t\t\tt.push_back(0);\n\t\t\t}\n\t\t}\n//\t\tfor(int i=0;i<t.size();++i){\n//\t\t\tcout<<t.at(i);\n//\t\t}\n//\t\tcout<<\" \"<<change<<endl;\n\t}\n//\tcout<<change<<\" \"<<endl;\n\tif(k>2*n){\n\t\tk-=2*n;\n\t\tif(k%2==1){\n\t\t\tint temp=t.front();\n\t\t\tt.pop_front();\n\t\t\tif(change%2==0)\n\t\t\t{\n\t\t\t\tif(temp==0){\n\t\t\t\t\tt.push_front(1);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tchange++;\n\t\t\t\t\tt.push_back(1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(temp==1){\n\t\t\t\t\tt.push_front(0);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tchange++;\n\t\t\t\t\tt.push_back(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(change%2==0) typeA();\n\t\t\telse typeB();\t\n\t\t}\n\t\telse{\n\t\t\tif(change%2==0) typeA();\n\t\t\telse typeB();\n\t\t}\n\t\treturn 0;\n\t}\n\tif(change%2==0){\n\t\tfor(int i=0;i<t.size();++i){\n\t\t\tif(t.at(i)==0){\n\t\t\t\tcout<<\"A\";\n\t\t\t}\n\t\t\telse cout<<\"B\";\n\t\t}\n\t}\n\telse{\n\t\tfor(int i=0;i<t.size();++i){\n\t\t\tif(t.at(i)==1){\n\t\t\t\tcout<<\"A\";\n\t\t\t}\n\t\t\telse cout<<\"B\";\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <algorithm>\n#include <cstdio>\n\nconst int N = 200010;\nconst int M = 1000010;\nconst int K = M/2;\nint _w;\n\nint n, k, p, st;\nchar s[M];\n\nvoid solve() {\n\tif( s[p] == 'A' ) {\n\t\ts[p] = 'B';\n\t} else {\n\t\tst ^= 1;\n\t\ts[p+n] = st ? 'B' : 'A';\n\t\t++p;\n\t}\n}\n\nint main() {\n\t_w = scanf( \"%d%d%s\", &n, &k, s );\n\tif( k <= K ) {\n\t\twhile( k-- ) solve();\n\t\tfor( int i = 0; i < n; ++i )\n\t\t\tputchar( st ? 131 - s[p+i] : s[p+i] );\n\t\tputs(\"\");\n\t} else {\n\t\tfor( int i = 0; i < K; ++i ) solve();\n\t\tk -= K;\n\t\tif( k & 1 ) s[p] = 131 - s[p];\n\t\tfor( int i = 0; i < n; ++i )\n\t\t\tputchar( st ? 131 - s[p+i] : s[p+i] );\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cctype>\nusing namespace std;\nconst int N=2e5;\nint n,k,hea,tai;\nbool arr[N*6+1],rev;\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\thea=n,tai=1;\n\tfor(int i=1;i<=n;++i) {\n\t\tchar c=getchar();\n\t\twhile(!isalpha(c)) {\n\t\t\tc=getchar();\n\t\t}\n\t\tarr[i]=c=='A';\n\t}\n\tfor(int i=1;(i<=n*5)&&(i<=k);++i) {\n\t\tif(arr[tai]^rev) {\n\t\t\tarr[tai]^=1;\n\t\t} else {\n\t\t\tarr[++hea]=arr[tai++];\n\t\t\trev^=1;\n\t\t}\n\t}\n\tif(k>n*5) {\n\t\tk-=n*5;\n\t\tif(arr[tai]^rev) {\n\t\t\tputchar(k&1?'B':'A');\n\t\t\tfor(int i=2;i<=n;++i) {\n\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t} else {\n\t\t\tfor(int i=1;i<=n;++i) {\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor(int i=tai;i<=hea;++i) {\n\t\t\tputchar(arr[i]^rev?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"B\";\n            else\n                cout << \"A\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        while(1)\n        {\n\n        }\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define N 200005\nint p[N];\nchar s[N];\nint n,k,l,r,rev;\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tfor(int i=1;i<=n;i++) p[i]=s[i]-65;\n\tif(k>n*2) k=k%2?(n*2):(n*2+1);\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tif(!(p[l]^rev)) p[l]^=1;\n\t\telse l=l+1,rev^=1;\n        if(l==n+1) l=1;\n\t}\n\tfor(int i=1;i<=n;++i) printf(\"%c\",65+(p[i]^rev));\n    putchar('\\n');\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\n\tint cnt = 0;\n\twhile(K-- && cnt < N)\n\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\tif(K > 0){\n\t\tK %= 6 * N;\n\t\twhile(K--)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\ndeque<char> Q;\n\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>s;\n\tFORR(c,s) Q.push_back(c);\n\t\n\tK=min(K,2*N+(K%2));\n\t\n\tbool rev=false;\n\tFOR(i,min(2*N,K)) {\n\t\tif((Q[0]=='A')^rev) {\n\t\t\tQ[0]='A'+'B'-Q[0];\n\t\t}\n\t\telse {\n\t\t\tQ.pop_front();\n\t\t\trev ^= 1;\n\t\t\tQ.push_back('A'+rev);\n\t\t}\n\t}\n\t\n\tFORR(r,Q) {\n\t\tif(rev) _P(\"%c\",'A'+'B'-r);\n\t\telse _P(\"%c\",r);\n\t}\n\t_P(\"\\n\");\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <iomanip>\n#include <utility>\n#include <tuple>\n#include <functional>\n#include <bitset>\n#include <cassert>\n#include <complex>\n#include <stdio.h>\n#include <time.h>\n#include <numeric>\n#include <random>\n#include <unordered_map>\n#include <unordered_set>\n#define all(a) a.begin(),a.end()\n#define rep(i, n) for (ll i = 0; i < (n); i++)\n#define pb push_back\n#define debug(x) cerr << #x << ':' << x << '\\n'\n#pragma GCC optimize(\"O3\")\n#pragma GCC optimize(\"unroll-loops\")\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\ntypedef complex<ld> com;\nconstexpr int inf = 1000000010;\nconstexpr ll INF = 1000000000000000010;\nconstexpr ld eps = 1e-12;\nconstexpr ld pi = 3.141592653589793238;\ntemplate<class T, class U> inline bool chmax(T &a, const U &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T, class U> inline bool chmin(T &a, const U &b) { if (a > b) { a = b; return true; } return false; }\n\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tcout << fixed << setprecision(20);\n\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tdeque<char> que;\n\trep(i, n) que.push_back(s[i]);\n\tbool rev = false;\n\trep(i, 2 * n) {\n\t\tif (k == 0) break;\n\t\tif (que.front() == 'A' && !rev || que.front() == 'B' && rev) {\n\t\t\tque.pop_front();\n\t\t\tif (rev) que.push_front('A');\n\t\t\telse que.push_front('B');\n\t\t}\n\t\telse {\n\t\t\trev = !rev;\n\t\t\tque.pop_front();\n\t\t\tif (rev) que.push_back('B');\n\t\t\telse que.push_back('A');\n\t\t}\n\t\tk--;\n\t}\n\tstring ans = \"\";\n\twhile (!que.empty()) {\n\t\tchar c = que.front(); que.pop_front();\n\t\tans += c;\n\t}\n\tif (rev) {\n\t\trep(i, n) {\n\t\t\tif (ans[i] == 'A') ans[i] = 'B';\n\t\t\telse ans[i] = 'A';\n\t\t}\n\t}\n\tif (n % 2 == 1 && k % 2 == 1) {\n\t\tif (ans[0] == 'A') ans[0] = 'B';\n\t\telse ans[0] = 'A';\n\t}\n\tcout << ans << '\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tfreopen(\"in\",\"r\",stdin); freopen(\"out\",\"w\",stdout);\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(K-- && cnt + 1 < ans.size())\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tfor(int i = 1 ; i <= 2 * N && K-- ; ++i)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\tif(K > 0){\n\t\t\tK %= 2 * N;\n\t\t\twhile(K--)\n\t\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\t}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#include <cstdio>\n#include <string>\n#include <algorithm>\n#include <queue>\n#include <unordered_map>\n#include <map>\n#define ll long long\nusing namespace std;\n\n#define MOD 1000000007\n\nclass Solve\n{\nprivate:\n\tint n;\n\tint k;\n\tstring s;\n\tunordered_map<string, int> hash1;\n\tunordered_map<int, string> hash2;\npublic:\n\tSolve(){\n\t\tcin >> n >> k;\n\t\tcin >> s;\n\t}\n\n\tstring fetch_next(string tmp){\n\t\tstring cur = tmp;\n\t\tint i = 0;\n\n\t\twhile(i < n && i >= 0){\n\t\t\t// cout << i << endl;\n\t\t\tif(cur[i] == 'A'){\n\t\t\t\tcur[i] = 'B';\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\tcur[i] = 'A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\t// cout << cur << endl;\n\t\t}\n\t\treturn cur;\n\t}\n\n\tvoid exec(){\n\t\t// hash2[0] = s;\n\t\t// hash1[s] = 0;\n\t\tint itr = 0;\n\t\tstring cur = s;\n\t\twhile(hash1.find(cur) == hash1.end()){\n\t\t\thash1[cur] = itr;\n\t\t\thash2[itr] = cur;\n\t\t\titr++;\n\t\t\tcur = fetch_next(cur);\n\t\t\tcout << cur << endl;\n\t\t}\n\n\t\t// cout << itr << endl;\n\n\n\n\t\tcout << hash2[k%itr] << endl;\n\t}\n};\n\nint main(){\n\tSolve solver = Solve();\n\tsolver.exec();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n \ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double lf;\ntypedef long double llf;\ntypedef std::pair<int,int> pii;\n \n#define xx first\n#define yy second\n \ntemplate<typename T> inline T max(T a,T b){return a>b?a:b;}\ntemplate<typename T> inline T min(T a,T b){return a<b?a:b;}\ntemplate<typename T> inline T abs(T a){return a>0?a:-a;}\ntemplate<typename T> inline bool repr(T &a,T b){return a<b?a=b,1:0;}\ntemplate<typename T> inline bool repl(T &a,T b){return a>b?a=b,1:0;}\ntemplate<typename T> inline T gcd(T a,T b){T t;if(a<b){while(a){t=a;a=b%a;b=t;}return b;}else{while(b){t=b;b=a%b;a=t;}return a;}}\ntemplate<typename T> inline T sqr(T x){return x*x;}\n#define mp(a,b) std::make_pair(a,b)\n#define pb push_back\n#define I inline\n#define mset(a,b) memset(a,b,sizeof(a))\n#define mcpy(a,b) memcpy(a,b,sizeof(a))\n \n#define fo0(i,n) for(int i=0,i##end=n;i<i##end;i++)\n#define fo1(i,n) for(int i=1,i##end=n;i<=i##end;i++)\n#define fo(i,a,b) for(int i=a,i##end=b;i<=i##end;i++)\n#define fd0(i,n) for(int i=(n)-1;~i;i--)\n#define fd1(i,n) for(int i=n;i;i--)\n#define fd(i,a,b) for(int i=a,i##end=b;i>=i##end;i--)\n#define foe(i,x)for(__typeof(x.end())i=x.begin();i!=x.end();++i)\n \nstruct Cg{I char operator()(){return getchar();}};\nstruct Cp{I void operator()(char x){putchar(x);}};\n#define OP operator\n#define RT return *this;\n#define RX x=0;char t=P();while((t<'0'||t>'9')&&t!='-')t=P();bool f=0;\\\nif(t=='-')t=P(),f=1;x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define RL if(t=='.'){lf u=0.1;for(t=P();t>='0'&&t<='9';t=P(),u*=0.1)x+=u*(t-'0');}if(f)x=-x\n#define RU x=0;char t=P();while(t<'0'||t>'9')t=P();x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define TR *this,x;return x;\nI bool IS(char x){return x==10||x==13||x==' ';}template<typename T>struct Fr{T P;I Fr&OP,(int &x)\n{RX;if(f)x=-x;RT}I OP int(){int x;TR}I Fr&OP,(ll &x){RX;if(f)x=-x;RT}I OP ll(){ll x;TR}I Fr&OP,(char &x)\n{for(x=P();IS(x);x=P());RT}I OP char(){char x;TR}I Fr&OP,(char *x){char t=P();for(;IS(t);t=P());if(~t){for(;!IS\n(t)&&~t;t=P())*x++=t;}*x++=0;RT}I Fr&OP,(lf &x){RX;RL;RT}I OP lf(){lf x;TR}I Fr&OP,(llf &x){RX;RL;RT}I OP llf()\n{llf x;TR}I Fr&OP,(uint &x){RU;RT}I OP uint(){uint x;TR}I Fr&OP,(ull &x){RU;RT}I OP ull(){ull x;TR}};Fr<Cg>in;\n#define WI(S) if(x){if(x<0)P('-'),x=-x;char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\n#define WL if(y){lf t=0.5;for(int i=y;i--;)t*=0.1;if(x>=0)x+=t;else x-=t,P('-');*this,(ll)(abs(x));P('.');if(x<0)\\\nx=-x;while(y--){x*=10;x-=floor(x*0.1)*10;P(((int)x)%10+'0');}}else if(x>=0)*this,(ll)(x+0.5);else *this,(ll)(x-0.5);\n#define WU(S) if(x){char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\ntemplate<typename T>struct Fw{T P;I Fw&OP,(int x){WI(10);RT}I Fw&OP()(int x){WI(10);RT}I Fw&OP,(uint x){WU(10);RT}\nI Fw&OP()(uint x){WU(10);RT}I Fw&OP,(ll x){WI(19);RT}I Fw&OP()(ll x){WI(19);RT}I Fw&OP,(ull x){WU(20);RT}I Fw&OP()\n(ull x){WU(20);RT}I Fw&OP,(char x){P(x);RT}I Fw&OP()(char x){P(x);RT}I Fw&OP,(const char *x){while(*x)P(*x++);RT}\nI Fw&OP()(const char *x){while(*x)P(*x++);RT}I Fw&OP()(lf x,int y){WL;RT}I Fw&OP()(llf x,int y){WL;RT}};Fw<Cp>out;\n\nconst int N=100007;\n\nchar s[N];\nint n,m;\n\nint main()\n{\n\tin,n,m,s;\n\tfo0(i,n)s[i]-='A';\n\tfo0(d,m)\n\t{\n\t\tfor(int i=0,j=1;i>=0&&i<n;)\n\t\t{\n\t\t\ts[i]^=1;\n\t\t\tif(!s[i])i+=j;\n\t\t\telse i+=-j,j=-j;\n\t\t}\n\t\tfo0(j,n)if(s[j]^(j&1)^1)goto naive;\n\t\tbreak;naive:;\n\t\t//fo0(i,n)out,char(s[i]+'A');out,'\\n';\n\t}\n\tfo0(i,n)out,char(s[i]+'A');out,'\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <iostream>\n#define N 200010\nusing namespace std;\nint n,k,tot=1,cnt,p,a[N];\nchar s[N];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tfor (int i=1;i<=n;i++) a[i]=s[i]-'A';\n\tp=a[1];\n\twhile (k--) { if (!p) p^=1,a[tot]^=1; else p=a[++tot],p^=(++cnt&1); if (tot>n) break; }\n\tif (tot<=n)\t\n\t{\n\t\tfor (int i=tot;i<=n;i++) putchar('A'+(a[i]^(cnt&1)));\n\t\tint l=tot-1,r=(cnt-1)&1;\n\t\twhile (l--) putchar('A'+r),r^=1;\n\t}\n\telse \n\t{\n\t\tif ((cnt-1)&1) for (int i=1;i<=n;i++) putchar('A'+(i&1));\n\t\telse { putchar('A'+(k&1)); for (int i=1;i<n;i++) putchar('A'+(i&1)); }\n\t} \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, j) for(int i=0; i < (int)(j); i++)\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N, K; cin >> N >> K;\n    list<char> S;\n    rep(i, N) {\n        char c; cin >> c;\n        S.push_back(c);\n    }\n    int n = 0;\n    char A = 'A', B = 'B';\n    rep(i, min(K, 2 * N)) {\n        if(S.front() == A) {\n            S.front() = B;\n        } else if(S.front() == B) {\n            S.pop_front();\n            S.push_back(B);\n            swap(A, B);\n        } else assert(false);\n        n++;\n    }\n    \n    if(n < K) {\n        if(S.front() == A) {\n            if(n % 2 == 1) {\n                S.front() = B;\n            }\n        } else if(S.front() == B) {\n            // pass\n        } else assert(false);\n    }\n    map<char, char> mp;\n    mp['A'] = A;\n    mp['B'] = B;\n    \n    for(auto s : S) cout << mp[s];\n    cout << endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//waz\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define ALL(x) (x).begin(), (x).end()\n#define SZ(x) ((int)((x).size()))\n\ntypedef pair<int, int> PII;\ntypedef vector<int> VI;\ntypedef long long int64;\ntypedef unsigned int uint;\ntypedef unsigned long long uint64;\n\n#define gi(x) ((x) = F())\n#define gii(x, y) (gi(x), gi(y))\n#define giii(x, y, z) (gii(x, y), gi(z))\n\nint F()\n{\n\tchar ch;\n\tint x, a;\n\twhile (ch = getchar(), (ch < '0' || ch > '9') && ch != '-');\n\tif (ch == '-') ch = getchar(), a = -1;\n\telse a = 1;\n\tx = ch - '0';\n\twhile (ch = getchar(), ch >= '0' && ch <= '9')\n\t\tx = (x << 1) + (x << 3) + ch - '0';\n\treturn a * x;\n}\n\nconst int N = 2e5 + 10;\n\nchar str[N];\n\nint n, k;\n\nint pos(int x, int l)\n{\n\tint p = x + l % n;\n\tif (p > n) p -= n;\n\treturn p;\n}\n\nint main()\n{\n\tgii(n, k);\n\tscanf(\"%s\", str + 1);\n\tfor (int i = 1; i <= n; ++i) str[i] -= 'A';\n\tif (k <= 2 * n)\n\t{\n\t\tint l = 0, t = 0;\n\t\tfor (int i = 1; i <= k; ++i)\n\t\t{\n\t\t\tif (!(str[pos(1, l)] ^ t))\n\t\t\t{\n\t\t\t\tstr[pos(1, l)] ^= 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++l, t ^= 1; str[pos(n, l)] = t;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\tputs(\"\");\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tint l = 0, t = 0;\n\t\tfor (int i = 1; i <= 2 * n; ++i)\n\t\t{\n\t\t\tif (!(str[pos(1, l)] ^ t))\n\t\t\t{\n\t\t\t\tstr[pos(1, l)] ^= 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++l, t ^= 1; str[pos(n, l)] = t;\n\t\t\t}\n\t\t}\n\t\tk -= 2 * n;\n\t\tif (n & 1)\n\t\t{\n\t\t\tstr[pos(n, l)] ^= (k & 1);\n\t\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t} \n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint n, k, p, f;\nvoid solve(int k)\n{\n\tp=1, f=0;\n\tfor (int i=1; i<=k; i++)\n\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\telse f^=1, p=p==n?1:p+1;\n\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\tif (!f) putchar(s[i]);\n\t\telse putchar(s[i]=='A'?'B':'A');\n}\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=2*n)\n\t{\n\t\tsolve(k);\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\tif (!f) putchar(s[i]);\n\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tsolve(2*n);\n\t\tif (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (s[p]=='A'^(k-2*n)%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nconst int N=2e5+5;\nint n,m,i,k,a[N];\nchar s[N];\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor (i=1;i<=n;i++) a[i]=s[i]-65;\n\tif (m){\n\t\tfor (i=1;i<=n;i++){\n\t\t\tif (a[i]^(i&1)) m--;if (!m) break;\n\t\t\tm--;k=i;if (!m) break;\n\t\t}\n\t}\n\telse i=0;\n\tif (i<=n){\n\t\tint st=i-(k!=i),v=st&1;a[i]=1^v;\n\t\tfor (k=k==i?0:1,i=st;i;i--,k^=1) a[i]=k;\n\t\tfor (i=st+1;i<=n;i++) putchar((a[i]^v)+65);\n\t\tfor (i=1;i<=st;i++) putchar(a[i]+65);\n\t\treturn 0;\n\t}\n\tif (!(n&1)){\n\t\tfor (i=1;i<=n;i++) putchar((i&1)+65);\n\t\treturn 0;\n\t}\n\tputchar((m&1)?'B':'A');\n\tfor (i=1;i<n;i++) putchar((i&1)+65);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ms(s, n) memset(s, n, sizeof(s))\n#define FOR(i, a, b) for (int i = (a); i < (b); i++)\n#define FORd(i, a, b) for (int i = (a) - 1; i >= (b); i--)\n#define FORall(it, a) for (__typeof((a).begin()) it = (a).begin(); it != (a).end(); it++)\n#define FORalld(it, a) for (__typeof((a).rbegin()) it = (a).rbegin(); it != (a).rend(); it++)\n#define sz(a) int((a).size())\n#define present(t, x) (t.find(x) != t.end())\n#define all(a) (a).begin(), (a).end()\n#define uni(a) (a).erase(unique(all(a)), (a).end())\n#define pb push_back\n#define pf push_front\n#define mp make_pair\n#define fi first\n#define se second\n#define prec(n) fixed<<setprecision(n)\n#define bit(n, i) (((n) >> (i)) & 1)\n#define bitcount(n) __builtin_popcountll(n)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<int, int> pi;\ntypedef vector<int> vi;\ntypedef vector<pi> vii;\nconst int MOD = (int) 1e9 + 7;\nconst int INF = (int) 1e9;\nconst ll LINF = (ll) 1e18;\nconst ld PI = acos((ld) -1);\nconst ld EPS = 1e-9;\ninline ll gcd(ll a, ll b) {ll r; while (b) {r = a % b; a = b; b = r;} return a;}\ninline ll lcm(ll a, ll b) {return a / gcd(a, b) * b;}\ninline ll fpow(ll n, ll k, int p = MOD) {ll r = 1; for (; k; k >>= 1) {if (k & 1) r = r * n % p; n = n * n % p;} return r;}\ntemplate<class T> inline int chkmin(T& a, const T& val) {return val < a ? a = val, 1 : 0;}\ntemplate<class T> inline int chkmax(T& a, const T& val) {return a < val ? a = val, 1 : 0;}\ntemplate<class T> inline T isqrt(T k) {T r = sqrt(k) + 1; while (r * r > k) r--; return r;}\ntemplate<class T> inline T icbrt(T k) {T r = cbrt(k) + 1; while (r * r * r > k) r--; return r;}\ninline void addmod(int& a, int val, int p = MOD) {if ((a = (a + val)) >= p) a -= p;}\ninline void submod(int& a, int val, int p = MOD) {if ((a = (a - val)) < 0) a += p;}\ninline int mult(int a, int b, int p = MOD) {return (ll) a * b % p;}\ninline int inv(int a, int p = MOD) {return fpow(a, p - 2, p);}\ninline int sign(ld x) {return x < -EPS ? -1 : x > +EPS;}\ninline int sign(ld x, ld y) {return sign(x - y);}\n\nconst int maxn = 2e5 + 5;\nint n, k;\nstring s;\n\nvoid solve() {\n    cin >> n >> k >> s;\n    queue<int> que;\n    FOR(i, 0, n) que.push(s[i] - 'A');\n    int dif = 0;\n    int mn = min(k, n + n + n);\n    FOR(i, 0, mn) {\n        if (!(que.front() ^ dif)) {\n            que.front() ^= 1;\n        }\n        else {\n            int x = que.front();\n            que.pop();\n            que.push(x);\n            dif ^= 1;\n        }\n    }\n    if (k > mn && (k - mn & 1) && !(que.front() ^ dif)) {\n        que.front() ^= 1;\n    }\n    FOR(i, 0, n) {\n        cout << char('A' + (que.front() ^ dif));\n        que.pop();\n    }\n    cout << \"\\n\";\n}\n\nint main() {\n#ifdef _LOCAL_\n    freopen(\"in.txt\", \"r\", stdin); //freopen(\"out.txt\", \"w\", stdout);\n#else\n    ios_base::sync_with_stdio(0); cin.tie(0);\n#endif\n    solve();\n    cerr << \"\\nTime elapsed: \" << 1.0 * clock() / CLOCKS_PER_SEC << \"s\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<set>\n#include<bitset>\n#include<map>\n\n#define fo(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef double db;\n\nconst int N = 200005;\n\nint a[N*2];\nint n,k;\nchar s[N];\n\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfo(i,1,n)a[i]=s[i]=='B';\n\tint nt=0;\n\tif (k<=n*2){\n\t\tint he=1,ta=n;\n\t\tfo(i,1,k){\n\t\t\tif ((a[he]^nt)==1){\n\t\t\t\tnt^=1;\n\t\t\t\the++,ta++;\n\t\t\t\ta[ta]=nt;\n\t\t\t}\n\t\t\telse a[he]^=1;\n\t\t}\n\t\tfo(i,he,ta)\n\t\tif ((a[i]^nt)==1)putchar('B');else putchar('A');\n\t}\n\telse{\n\t\tif (n&1) putchar('A'+!(k&1));\n\t\tfo(i,1,n/2) putchar('B'),putchar('A');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\tbool o = k & 1;\n\tk = min(k, 2 * n + 2);\n\tif ((k ^ o) & 1)\n\t\tk ^= 1;\n\tint it = 0;\n\twhile (k && it++ < 7)\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\twhile (k && (S[0] == 'A' || S[n - 1] == 'B'))\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tstring T = S;\n\tbrute(T);\n\tbrute(T);\n\tif (T == S)\n\t\tk &= 1;\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (p < n && k--)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\n#include <random>\n#include <fstream>\nusing namespace std;\n\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define pb push_back\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<int, ll> i_ll;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int v; ll w; };\n\nconst int MOD = 1000000007;\nconst int _MOD = 1000000009;\ndouble EPS = 1e-10;\nconst int INF = INT_MAX / 2;\n\nint main() {\n\tint N, K; cin >> N >> K;\n\tstring s; cin >> s;\n\trep(i, N) if ((N - 1 - i) % 2) s[i] = 'A' + 'B' - s[i];\n\tint l = 0;\n\twhile (K--) {\n\t\tchar c = s[l];\n\t\tif ((N - 1 - l) % 2) c = 'A' + 'B' - c;\n\t\tif (c == 'A') s[l] = 'A' + 'B' - s[l];\n\t\telse l++;\n\t\tif (l == N) break;\n\t}\n\tstring t = s.substr(l) + string(l, 'A');\n\trep(i, N) if ((N - 1 - i) % 2) t[i] = 'A' + 'B' - t[i];\n\tcout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <deque>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n \n#define FOR(i,k,n) for (int (i)=(k); (i)<(n); ++(i))\n#define rep(i,n) FOR(i,0,n)\n#define all(v) begin(v), end(v)\n#define debug(x) cerr<< #x <<\": \"<<x<<endl\n#define debug2(x,y) cerr<< #x <<\": \"<< x <<\", \"<< #y <<\": \"<< y <<endl\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vector<ll> > vvll;\ntypedef deque<bool> db;\ntemplate<class T> using vv=vector<vector< T > >;\n\nint n, k;\nchar sum = 'A' + 'B';\nstring s;\nstring f;\n\nvoid manipulate() {\n  if (s[0] == 'A') {\n    s[0] = 'B';\n    return;\n  }\n  char current = 'B';\n  rep (i, n-1) {\n    if (current == 'B') {\n      if (s[i+1] == 'B') {\n        s[i] = 'A';\n        continue;\n      } else {\n        current = 'A';\n        continue;\n      }\n    }\n    // current == 'A'\n    if (s[i+1] == 'A') {\n      s[i] = 'B';\n    } else {\n      current = 'B';\n    }\n  }\n  s[n-1] = 'A';\n}\n\nint main() {\n  cin >> n >> k;\n  cin >> s;\n\n  if (n % 2 == 1) {\n    f = \"B\";\n  } else {\n    f = \"\";\n  }\n  rep (i, n/2) {\n    f += \"BA\";\n  }\n\n  int cnt = 0;\n  while (s != f) {\n    manipulate();\n    cnt += 1;\n    if (cnt == k) {\n      cout << s << \"\\n\";\n      return 0;\n    }\n  }\n  if (n % 2 == 0) {\n    cout << s << \"\\n\";\n    return 0;\n  }\n  if ((k - cnt) % 2 == 0) {\n    cout << s << \"\\n\";\n    return 0;\n  }\n  manipulate();\n  cout << s << \"\\n\";\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int k){\n\tR int i=1;\n\twhile(i<=n&&k--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tif(i<=n){\n\t\tR int op=(i-1)&1;\n\t\tfp(k,i,i+n-2){\n\t\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\t\tif(k+1>n)op^=1;\n\t\t}\n\t\ts[i+n-1]='A';\n\t\treturn print(s+i);\n\t}\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tR int op=(n-1)&1;\n\tif(op)--k;\n\ts[n]=(k&1?'B':'A');\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\treverse(s+1,s+1+n);\n\tprint(s+1);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tsolve(k);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\nThough leaves are many , the root is one.\nThrough all the lying days of my youth\nI swayed my leaves and flowers in the sun.\nNow I may wither into the truth.\n\t  \t  \t- William Butler Yeats\n*/\n//#pragma GCC optimize(\"Ofast,no-stack-protector\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx\")\n//#pragma GCC target(\"avx,tune=native\")\n#include<bits/stdc++.h>\n#pragma comment(\"-Wl,--stack=1024000000\")\n//#include<ext/pb_ds/assoc_container.hpp>\nusing namespace std;\n//using namespace __gnu_pbds;\nconst int inf=0x3f3f3f3f;\nconst double eps=1e-6;\nconst int mod=1000000007;\ntypedef long long ll;\n#ifndef LOCAL\n#define cerr if(0)cout\n#define eprintf(...) 0\n#else\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#endif\ninline string getstr(string &s,int l,int r){string ret=\"\";for(int i=l;i<=r;i++)ret.push_back(s[i]);return ret;}\nint modpow(int x,int y,int md=mod){int ret=1;do{if(y&1)ret=(ll)ret*x%md;x=(ll)x*x%md;}while(y>>=1);return ret;}\ninline int Rand(){return rand()*32768+rand();}\nint n,k;\ndeque<char>q;\nchar calc(char c,bool inv){\n\tif(inv)return 'A'+'B'-c;\n\telse return c;\n}\nint main(){\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++){\n\t\tchar c;cin>>c;q.push_back(c);\n\t}\n\tk%=4*n;\n\tbool inv=0;\n\twhile(k--){\n\t\tif(calc(q.front(),inv)=='A'){\n\t\t\tq.front()='A'+'B'-q.front();\n\t\t}else{\n\t\t\tinv^=1;q.push_back(q.front());q.pop_front();\n\t\t}\n\t}\n\tif(inv)for(char &c:q)c='A'+'B'-c;\n\tfor(int i=0;i<n;i++)putchar(q[i]);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\n#ifdef MAX_HOME\nconst int L = 10;\n#else\nconst int L = 5e7 + 10;\n#endif\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    int lst = -1e5;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (abs(i - lst) <= 10) {\n        dif %= 3;\n//        assert(n & 1);\n    } else {\n        dif %= 2;\n//        assert(!(n & 1));\n    }\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 2e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\t//dbg(r, k, h); rep(i, n) cerr<<(char)(q[i]+'A'); cerr<<endl;\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 29;\n\t\t\th = hb - h * 29 - 2;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <map>\n\ntypedef long long i64;\n\nconst int N = 200000 + 10, MOD = 1000000007;\n\nint n, m;\nchar s[N];\n\nbool flag[N];\n\nint base[N], cur = 0, tot = 0;\n\nint main() {\n  base[0] = 1;\n  for (int i = 1; i < N; ++i) base[i] = 2LL * base[i - 1] % MOD;\n  const int inv = (MOD + 1) / 2;\n  scanf(\"%d%d %s\", &n, &m, s);\n  for (int i = 0; i < n; ++i) if (flag[i] = (s[i] == 'B')) (cur += base[i]) %= MOD;\n  tot = (base[n] + MOD - 1) % MOD;\n  std::map<int, int> mem;\n  mem[cur] = 0;\n  bool temp = false;\n  int k = 0;\n  for (int i = 1;; ++i) {\n    if (flag[k] ^ temp) {\n      temp ^= 1;\n      if (flag[k]) cur = (cur + MOD - 1) % MOD;\n      cur = (i64)cur * inv % MOD;\n      if (flag[k]) cur = (cur + base[n - 1]) % MOD;\n      k = (k + 1) % n;\n    } else {\n      if (flag[k]) cur = (cur + MOD - 1) % MOD;\n      flag[k] ^= 1;\n      if (flag[k]) cur = (cur + 1) % MOD;\n    }\n    int t = cur;\n    if (temp) t = (tot - t + MOD) % MOD;\n    if (--m == 0) {\n      for (int i = 0; i < n; ++i) putchar((flag[(k + i) % n] ^ temp) ? 'B' : 'A');\n      break;\n    }\n    if (mem.count(t)) {\n      m %= (i - mem[t]);\n      mem.clear();\n    } else {\n      mem[t] = i;\n    }\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//by yjz\n#include<bits/stdc++.h>\nusing namespace std;\n#define FF first\n#define SS second\n#define PB push_back\n#define MP make_pair\n#define bged(v) (v).begin(),(v).end()\n#define foreach(it,s) for(__typeof((s).begin()) it=(s).begin();it!=(s).end();it++)\ntypedef long long ll;\nconst int Imx=2147483647;\nconst ll Lbig=2e18;\nconst int mod=1e9+7;\n//My i/o stream\nstruct fastio\n{\n\tchar s[100000];\n\tint it,len;\n\tfastio(){it=len=0;}\n\tinline char get()\n\t{\n\t\tif(it<len)return s[it++];it=0;\n\t\tlen=fread(s,1,100000,stdin);\n\t\tif(len==0)return EOF;else return s[it++];\n\t}\n\tbool notend()\n\t{\n\t\tchar c=get();\n\t\twhile(c==' '||c=='\\n')c=get();\n\t\tif(it>0)it--;\n\t\treturn c!=EOF;\n\t}\n}_buff;\n#define geti(x) x=getnum()\n#define getii(x,y) geti(x),geti(y)\n#define getiii(x,y,z) getii(x,y),geti(z)\n#define puti(x) putnum(x),putchar(' ')\n#define putii(x,y) puti(x),puti(y)\n#define putiii(x,y,z) putii(x,y),puti(z)\n#define putsi(x) putnum(x),putchar('\\n')\n#define putsii(x,y) puti(x),putsi(y)\n#define putsiii(x,y,z) putii(x,y),putsi(z)\ninline ll getnum()\n{\n\tll r=0;bool ng=0;char c;c=_buff.get();\n\twhile(c!='-'&&(c<'0'||c>'9'))c=_buff.get();\n\tif(c=='-')ng=1,c=_buff.get();\n\twhile(c>='0'&&c<='9')r=r*10+c-'0',c=_buff.get();\n\treturn ng?-r:r;\n}\ntemplate<class T> inline void putnum(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tregister short a[20]={},sz=0;\n\twhile(x)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1;i>=0;i--)putchar('0'+a[i]);\n}\ninline char getreal(){char c=_buff.get();while(c==' '||c=='\\n')c=_buff.get();return c;}\nint n,k;\nchar s[200111];\nchar getst(int x,int dlt)\n{\n\tif(x+dlt>n)return (n-x)%2+'A';\n\telse return ((s[x+dlt]-'A')^(dlt%2))+'A';\n}\nchar ans[200111];\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tint dlt=0;\n\tbool f=0;\n\twhile(k--)\n\t{\n\t\tif(dlt>=n)k%=2;\n\t\tif(((getst(1,dlt)-'A')^f)==0)\n\t\t{\n\t\t\tf^=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdlt++;\n\t\t\tf=0;\n\t\t}\n\t\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n/*\t\tif(f)\n\t\t{\n\t\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t\t}\n\t\tprintf(\"%s\\n\",ans+1);*/\n\t}\n\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n\tif(f)\n\t{\n\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t}\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>  \n#include <iostream>  \n#include <sstream>  \n#include <string>  \n#include <cstring>\n#include <vector>  \n#include <queue>  \n#include <set>  \n#include <map>  \n#include <cstdio>  \n#include <cstdlib>  \n#include <cctype>  \n#include <cmath>  \n#include <list>  \n#include <cassert>\n#include <ctime>\n#include <climits>\nusing namespace std;  \n\n#define PB push_back  \n#define MP make_pair  \n#define SZ(v) ((int)(v).size())  \n#define FOR(i,a,b) for(int i=(a);i<(b);++i)  \n#define REP(i,n) FOR(i,0,n)  \n#define FORE(i,a,b) for(int i=(a);i<=(b);++i)  \n#define REPE(i,n) FORE(i,0,n)  \n#define FORSZ(i,a,v) FOR(i,a,SZ(v))  \n#define REPSZ(i,v) REP(i,SZ(v))  \ntypedef long long ll;\ntypedef unsigned long long ull;\nll gcd(ll a,ll b) { return b==0?a:gcd(b,a%b); }\n\nconst int MAXN=200000;\n\nint n,times;\nchar s[MAXN+1];\nchar ret[MAXN+1];\n\nvoid run() {\n\tscanf(\"%d%d\",&n,&times); scanf(\"%s\",s);\n\tint at=0; bool inv=false;\n\twhile(at!=n&&times>0) {\n\t\tchar c=s[at]; if(inv) c='A'+(1-(c-'A'));\n\t\t--times; if(c=='A') s[at]='A'+(1-(s[at]-'A')); else ++at,inv=!inv;\n\t}\n\tint period=n%2==0?n:2*n;\n\ttimes%=period;\n\tif(times>0) {\n\t\tat=0;\n\t\twhile(at!=n&&times>0) {\n\t\t\tchar c=s[at]; if(inv) c='A'+(1-(c-'A'));\n\t\t\t--times; if(c=='A') s[at]='A'+(1-(s[at]-'A')); else ++at,inv=!inv;\n\t\t}\n\t\tassert(at<n);\n\t}\n\tREP(i,n) {\n\t\tint pos=(at+i)%n;\n\t\tchar c=s[pos]; if(inv) c='A'+(1-(c-'A'));\n\t\tret[i]=c;\n\t}\n\tret[n]='\\0'; printf(\"%s\\n\",ret);\n}\n\nint main() {\n\trun();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define snd second\n#define forn(i, n) for (int i = 0; i < int(n); ++i)\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<char> vc;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vii;\n#define sz(c) (int)(c).size()\n#define all(c) (c).begin(), (c).end()\n\nstring df (const string &s)\n{\n    string ans;\n    //ans += (s[0] == 'A' ? '1' : '0');\n    int pref = 0;\n    forn (i, sz(s))\n    {\n        pref = (s[(i + 1) % sz(s)] == s[i]);\n        ans += (pref % 2 == 0 ? '0' : '1');\n    }\n    //ans += (s[0] != s.back() ? '0' : '1');\n    return ans;\n}\n\nvoid solve (int n)\n{\n//    int pos = 0, dir = +1;\n//\n//    string s = df(n);\n//    while (0 <= pos && pos < sz(n))\n//    {\n//        dir = (n[pos] == 'A' ? -dir : dir);\n//        n[pos] ^= 'A' ^ 'B';\n//        pos += dir;\n//    }\n//    string t = df(n);\n//\n//    cout << \"df before : \" << s << endl;\n//    cout << \"df after  : \" << t << endl;\n//    cout << n << endl;\n\n    int k;\n    cin >> k;\n    string s;\n    cin >> s;\n    string diff = df(s);\n    vector<char> rdiff(sz(diff));\n    forn (i, sz(diff))\n        rdiff[i] = (diff[i] == '1' ? 1 : 0);\n\n    if (sz(s) == 1)\n    {\n        cout << (char)(k % 2 == 0 ? s[0] : s[0] ^ 'A' ^ 'B') << endl;\n        return;\n    }\n\n    int pos0 = 0, poslast = n - 1;\n    int fst = s[0] - 'A';\n\n    while (k--)\n    {\n        if (fst == 0)\n            rdiff[pos0] ^= 1, rdiff[poslast] ^= 1, fst = 1;\n        else\n        {\n            fst = (rdiff[pos0] ? 0 : 1);\n            pos0++, poslast++;\n            if (pos0 == n)\n                pos0 = 0;\n            if (poslast == n)\n                poslast = 0;\n        }\n    }\n\n    string res = (fst == 0 ? \"A\" : \"B\");\n    for (int i = pos0; i != poslast; i = (i + 1 == n ? 0 : i + 1))\n        res += (rdiff[i] == 0 ? res.back() ^ 'A' ^ 'B' : res.back());\n    cout << res << endl;\n}\n\nint main()\n{\n    ios_base::sync_with_stdio(false);\n    cin.tie(0);\n\n    int n;\n    while (cin >> n)\n        solve(n);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long ll;\nll gi(){\n\tll x=0,f=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch))f^=ch=='-',ch=getchar();\n\twhile(isdigit(ch))x=x*10+ch-'0',ch=getchar();\n\treturn f?x:-x;\n}\nchar S[200010];\nint main(){\n#ifdef XZZSB\n\tfreopen(\"in.in\",\"r\",stdin);\n\tfreopen(\"out.out\",\"w\",stdout);\n#endif\n\tint n=gi(),K=gi();\n\tif(K>2*n&&(~n&1)){for(int j=1;j<=n;++j)putchar('A'+(n-j&1));return 0;}\n\tscanf(\"%s\",S+1);for(int i=1;i<=n;++i)S[i]-='A';\n\tint s=1,tag=0;\n\tfor(int i=1;i<=2*n;++i){\n\t\tif(S[s]^tag)tag^=1,S[s]=tag,(s==n)?s=1:++s;\n\t\telse S[s]^=1;\n\t\tif(K==i)break;\n\t}\n\tif(K>2*n)S[s]^=(K-2*n&1);\n\tfor(int j=0;j<n;++j)printf(\"%c\",'A'+(S[(s+j-1)%n+1]^tag));\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,k;\nchar s[200005];\nint a[200005];\ndeque<int>q;\nvoid print(int x)\n{\n    if(x==1)putchar('A');\n    else putchar('B');\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)a[i]=1-(s[i]-'A'),q.push_back(a[i]);int now=0;\n    for(int i=1;i<=2*n;i++)\n    {\n        if((q.front()^now)==1)\n        {\n            q.pop_front();q.push_front(0^now);\n        }\n        else\n        {\n            now^=1;q.pop_front();q.push_back(now^1);\n        }\n        if(i==k)\n        {\n            for(int j=1;j<=n;j++)print(now^q.front()),q.pop_front();\n            return 0;\n        }\n    }k-=2*n;\n    if(n%2==0||((q.front()^now)==1&&k%2==0)||((q.front()^now)==0&&k%2==1))\n    {\n        for(int i=1;i<=n;i++)if((n-i)&1)print(0);else print(1);\n    }\n    else\n    {\n        for(int i=1;i<=n;i++)if(((n-i)&1)||i==1)print(0);else print(1);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k; rd(n, k); k = std::min(k, 10 * n);\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1; i <= k; ++i) {\n\t\tif(a[st] == inv) a[st] ^= 1;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; ++i)\n\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst int base = 3;\nconst int mod = (int)1e9 + 7;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nint hsh = 0, rev_hsh = 0;\nmap<int, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = (hsh * 1ll * base % mod + i + 1) % mod;\n\t\trev_hsh = (rev_hsh * 1ll * base % mod + (i ^ 1) + 1) % mod;\n\t}\n\n\tint pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = (pwn * 1ll * base) % mod;\n\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\n\t\t\thsh = (hsh + (((frs_v ^ 1) + 1) * 1ll * pwn) % mod) % mod;\n\t\t\trev_hsh = (rev_hsh + ((frs_v + 1) * 1ll * pwn) % mod) % mod;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = (hsh * 1ll * base) % mod;\n\t\t\trev_hsh = (rev_hsh * 1ll * base) % mod;\n\n\t\t\thsh = (hsh + 1) % mod;\n\t\t\trev_hsh = (rev_hsh + 2) % mod;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\t\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\n\nconst int N = 4e6 + 10;\nconst int L = 2e6;\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1)\n        dif %= 3;\n    else\n        dif %= 2;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l; i <= r; ++i) {\n        if (s[i])\n            cout << \"B\";\n        else\n            cout << \"A\";\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\n\nconst int N = 4e6 + 10;\nconst int L = 2e6;\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1)\n        dif %= 3;\n    else\n        dif %= 2;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l; i <= r; ++i) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define ENABLE_DEBUG 1\n// Kana's kitchen {{{\n#include<bits/stdc++.h>\n#define ALL(v) std::begin(v), std::end(v)\n#define REP(i, k) for (decltype(k) i = 0; i < k; i++)\n#define LOOP(k) REP (ngtkana_is_a_genius, k)\n\nusing i32 = std::int_least32_t;\nusing i64 = std::int_least64_t;\nusing u32 = std::uint_least32_t;\nusing u64 = std::uint_least64_t;\nusing usize = std::size_t;\n\ntemplate <class T, class U> using pair = std::pair<U, T>;\ntemplate <class T> using diag_pair = std::pair<T, T>;\ntemplate <class... Args> using tuple = std::tuple<Args...>;\ntemplate <class T> using vec = std::vector<T>;\ntemplate <class T> using numr = std::numeric_limits<T>;\n\n#ifdef NGTKANA\n#include<debug.hpp>\n#else\n#define DEBUG(...)(void)0\n#endif\n/*}}}*/\n\nint main() {\n    std::cin.tie(nullptr);\n    std::ios::sync_with_stdio(false);\n    std::cout << std::setprecision(15) << std::fixed;\n\n    u32 n, k; std::string s;\n    std::cin >> n >> k >> s;\n\n    bool rev = false; u32 pos = 0;\n    auto flip = [&](char& c) { c=c=='A'?'B':'A'; };\n    auto move = [&] {\n        if (rev^(s.at(pos%n)=='A')) flip(s.at(pos%n));\n        else rev^=1, ++pos;\n    };\n    for (; k; k--, move()) {\n        if (pos==n) {\n            if (k%2) k--, move();\n            break;\n        }\n    }\n    std::rotate(s.begin(), s.begin()+pos%n, s.end());\n    if (rev) for (char& c: s) flip(c);\n    std::cout << s << '\\n';\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nll n, k;\nstring s;\n\n//count how long moving t frames takes\nll comp(ll t) {\n\tll ct = 0;\n\tfor (ll i = 0; i < min(t, 1LL*n); ++i) {\n\t\tif (i%2 == 0)\n\t\t\tct += (s[i] == 'A')+1;\n\t\telse\n\t\t\tct += (s[i] == 'B')+1;\n\t}\n\n\tif (t <= n)\n\t\treturn ct;\n\treturn ct+(t-n)+(t-1)/2-n/2;\n}\n\nstring trans(string g) {\n\tif (g[0] == 'A')\n\t\tg[0] = 'B';\n\telse {\n\t\tstring h = \"\";\n\t\tfor (ll i = 1; i < g.length(); ++i) {\n\t\t\tif (g[i] == 'A')\n\t\t\t\th += 'B';\n\t\t\telse\n\t\t\t\th += 'A';\n\t\t}\n\t\th += 'A';\n\t\tg = h;\n\t}\n\t\n\treturn g;\n}\n\nstring move(ll t) {\n\tstring h = \"\";\n\tfor (ll i = t; i <= t+n-1; ++i) {\n\t\tif (i < n) {\n\t\t\tll y = (int)'A'+(int)'B';\n\t\t\tif (t%2 == 0)\n\t\t\t\th += s[i];\n\t\t\telse\n\t\t\t\th += (char)(y-s[i]);\n\t\t} else {\n\t\t\tif ((t+n-1-i)%2 == 0)\n\t\t\t\th += 'A';\n\t\t\telse\n\t\t\t\th += 'B';\n\t\t}\n\t}\n    \n\treturn h;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\n\tcin >> n >> k >> s;\n\tll lo = 0, hi = 1e9;\n\n\twhile (lo != hi) {\n\t\tll mid = (lo+hi+1)/2;\n\t\tif (comp(mid) > k)\n\t\t\thi = mid-1;\n\t\telse\n\t\t\tlo = mid;\n\t}\n    \n\ts = move(lo);\n\tif (comp(lo) == k-1)\n\t\tcout << trans(s) << endl;\n\telse\n\t\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <array>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nusing ll = long long int;\n\nint main(){\n    \n    ll N, K;\n    string S;\n    \n    cin >> N >> K >> S;\n    vector<string> s;\n    \n    ll T = K + 1;\n    ll V = 0;\n    for(ll t = 0; t < K; ++t){\n        s.push_back(S);\n        ll pos = 0;\n        ll v = 1;\n        while(0 <= pos && pos < N){\n            if(S[pos] == 'A'){\n                v = -v;\n                S[pos] = 'B';\n            }else{\n                S[pos] = 'A';\n            }\n            pos += v;\n        }\n        for(ll tt = 0; tt <= t; ++tt){\n            if(s[tt] == S){\n                V = tt;\n                T = t + 1 - V;\n                goto END;\n            }\n        }\n    }\nEND:\n    cout << s[V + ((K - V) % T)] << endl;\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=a;i<b;i++)\n\n\nint N, K; string S;\n//-----------------------------------------------------------------\nchar getrev(char c, int m) {\n\tint cc = c - 'A';\n\tif (m % 2 == 1) cc = 1 - cc;\n\treturn char('A' + cc);\n}\n//-----------------------------------------------------------------\nint main() {\n\tcin >> N >> K >> S;\n\n\tdeque<char> deq;\n\tstring ans = \"\";\n\trep(i, 0, N) deq.push_back(S[i]);\n\tint cnt = 0, rev = 0, done = 0;\n\twhile (deq.size()) {\n\t\t// 右側を詰める\n\t\twhile (deq.size()) {\n\t\t\tif (getrev(deq.back(), rev) == getrev('A', done)) {\n\t\t\t\tdeq.pop_back();\n\t\t\t\tans = getrev('A', done) + ans;\n\t\t\t\tdone++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (deq.size() == 0) break;\n\n\t\t// 変換\n\t\tif (getrev(deq.front(), rev) == 'A') {\n\t\t\t// パターン1\n\t\t\tcnt++;\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tdeq.push_front(getrev(c, 1));\n\t\t} else {\n\t\t\t// パターン2\n\t\t\tcnt++;\n\t\t\tdeq.pop_front();\n\t\t\trev++;\n\t\t\tans = getrev('A', done) + ans;\n\t\t\tdone++;\n\t\t}\n\n\t\tif (cnt == K) break;\n\t}\n\n\tif (deq.size()) {\n\t\twhile (deq.size()) {\n\t\t\tans = getrev(deq.back(), rev) + ans;\n\t\t\tdeq.pop_back();\n\t\t}\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\n\tint d = K - cnt;\n\tif (N % 2 && d % 2) ans[0] = 'B';\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nint n,K;\nchar c[1010000];\nint main(){\n\tios::sync_with_stdio(0);\n\tcin>>n>>K;\n\tcin>>c;\n\tint l=0,r=n-1,tim=0,tag=0;\n\twhile(tim+1<=K){\n\t\ttim++;\n\t\tif(tag&&c[l]=='A'||!tag&&c[l]=='B'){\n\t\t\tl++;tag^=1;\n\t\t\tc[++r]=tag?'B':'A';\n\t\t}\n\t\telse c[l]=tag?'A':'B';\n\t\tif(tim>2*n) break;\n\t}\n\tif(tim<=2*n){\n\t\tfor(int i=l;i<=r;i++)\n\t\t\tif(!tag) cout<<c[i];\n\t\t\telse cout<<(c[i]=='A'?'B':'A');\n\t\tcout<<'\\n';\n\t}\n\telse{\n\t\tif(K-tim&1&&(n==1||tag&&c[l+1]=='A'||!tag&&c[l+1]=='B')){\n\t\t\tcerr<<\"!!\";\n\t\t\tc[l]=c[l]=='A'?'B':'A';\n\t\t}\n\t\tfor(int i=l;i<=r;i++)\n\t\t\tif(!tag) cout<<c[i];\n\t\t\telse cout<<(c[i]=='A'?'B':'A');\n\t\tcout<<'\\n';\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n,N) for(int i=n;i<N;i++)\n#define p(S) cout<<(S)<<endl\n#define ck(n,a,b) (a<=(n)&&(n)<b)\ntypedef long long ll;\nusing namespace std;\n\nint main(){\n\tint N,K;\n\tcin>>N>>K;\n\tstring s;\n\tset<string> st;\n\tvector<string> vt;\n\tcin>>s;\n\tst.insert(s);\n\tint r=0;\n\n\tREP(i,1,K+1){\n\t\tint pos=0;\n\t\tbool muki=true;\n\t\twhile(ck(pos,0,(int)s.size())){\n\t\t\tif(s[pos]=='A'){\n\t\t\t\ts[pos]='B';\n\t\t\t\tmuki?pos--:pos++;\n\t\t\t\tmuki=!muki;\n\t\t\t}else{\n\t\t\t\ts[pos]='A';\n\t\t\t\tmuki?pos++:pos--;\n\t\t\t}\n\t\t}\n\t\tif(st.find(s)!=st.end()){\n\t\t\tr=i;\n\t\t\tbreak;\n\t\t}\n\t\tst.insert(s);\n\t\tvt.push_back(s);\n\t}\n\tif(!r) p(s);\n\telse p(vt[(K+1)%r]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long   signed int LL;\ntypedef long long unsigned int LU;\n\n#define incID(i, l, r) for(int i = (l)    ; i <  (r); i++)\n#define incII(i, l, r) for(int i = (l)    ; i <= (r); i++)\n#define decID(i, l, r) for(int i = (r) - 1; i >= (l); i--)\n#define decII(i, l, r) for(int i = (r)    ; i >= (l); i--)\n#define  inc(i, n) incID(i, 0, n)\n#define inc1(i, n) incII(i, 1, n)\n#define  dec(i, n) decID(i, 0, n)\n#define dec1(i, n) decII(i, 1, n)\n\n#define inII(v, l, r) ((l) <= (v) && (v) <= (r))\n#define inID(v, l, r) ((l) <= (v) && (v) <  (r))\n\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define UB upper_bound\n#define LB lower_bound\n#define PQ priority_queue\n\n#define  ALL(v)  v.begin(),  v.end()\n#define RALL(v) v.rbegin(), v.rend()\n#define  FOR(it, v) for(auto it =  v.begin(); it !=  v.end(); ++it)\n#define RFOR(it, v) for(auto it = v.rbegin(); it != v.rend(); ++it)\n\ntemplate<typename T> bool   setmin(T & a, T b) { if(b <  a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool   setmax(T & a, T b) { if(b >  a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool setmineq(T & a, T b) { if(b <= a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool setmaxeq(T & a, T b) { if(b >= a) { a = b; return true; } else { return false; } }\ntemplate<typename T> T gcd(T a, T b) { return (b == 0 ? a : gcd(b, a % b)); }\ntemplate<typename T> T lcm(T a, T b) { return a / gcd(a, b) * b; }\n\n// ---- ----\n\nint n, k;\nstring s;\n\n\nchar d(char c) { return (c == 'A' ? '.' : 'B'); }\n\nvoid print1(string str) {\n\tcout << d(str[0]) << d(str[1]) << \" \";\n\t//if(str[0] == 'A') { cout << endl; return; }\n\t\n\tchar p = '@';\n\tint num = 0;\n\tincID(i, 1, n) {\n\t\tint j = i;\n\t\twhile(str[i] == str[j]) { j++; }\n\t\t\n\t\t// inc(k, j - i) { cout << d(str[i]); }\n\t\tinc(k, j - i) {\n\t\t\tif(k == 0) { cout << j - i; } else { }// cout << '-'; }\n\t\t}\n\t\t\n\t\ti = j - 1;\n\t}\n\tcout << endl;\n}\n\nvoid print2(string str) {\n\t// if(str[0] == 'A') { return; }\n\tinc(i, n) { cout << d(str[i]); } cout << endl;\n}\n\nvoid print(string str) { print2(str); }\n\n\n\nint main() {\n\tcin >> n >> k >> s;\n\t\n\tstring t = s;\n\t n = s.size();///////\n\t\n\tif(n == 1) { cout << (k % 2 == 0 ? \"B\" : \"A\") << endl; return 0; }\n\tif(k == 0) { cout << s << endl; return 0; }\n\t\n\t// dec(i, n) { if(s[i] == 'B') { s[i] = 'A'; } else { break; } }\n\t\n\ts += '#';\n\tdeque<int> deq;\n\tincID(i, 1, n) {\n\t\tint j = i;\n\t\twhile(s[i] == s[j]) { j++; }\n\t\tdeq.PB(j - i);\n\t\t\n\t\ti = j - 1;\n\t}\n\t\n\tconst int AA = 0, AB = 1, BA = 2, BB = 3;\n\tint v;\n\tif(s[0] == 'A' && s[1] == 'A') { v = AA; }\n\tif(s[0] == 'A' && s[1] == 'B') { v = AB; }\n\tif(s[0] == 'B' && s[1] == 'A') { v = BA; }\n\tif(s[0] == 'B' && s[1] == 'B') { v = BB; }\n\t\n\tint pc = 0;\n\tinc(i, k) {\n\t\t/*\n\t\tif(v == AA || v == AB) { cout << \".\"; }\n\t\tif(v == BA || v == BB) { cout << \"B\"; }\n\t\tchar p;\n\t\tif(v == AA || v == BA) { p = '.'; } else { p = 'B'; }\n\t\tinc(i, deq.size()) {\n\t\t\tinc(j, deq[i]) { cout << p; }\n\t\t\tp = (p == '.' ? 'B' : '.');\n\t\t}\n\t\tcout << endl;\n\t\t*/\n\t\t\n\t\t\n\t\tif(v == AA) { v = BA; continue; }\n\t\tif(v == AB) { v = BB; continue; }\n\t\t\n\t\tif(n <= pc) {\n\t\t\tif(n % 2 == 1 && (k - i) % 2 != 0) {\n\t\t\t\tv = (v == BA ? AA : AB);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdeq[0]--;\n\t\tif(s[n - 1] == 'B') {\n\t\t\tdeq[deq.size() - 1]++;\n\t\t\ts[n - 1] = 'A';\n\t\t} else { deq.PB(1); }\n\t\tpc++;\n\t\tif(deq[0] == 0) {\n\t\t\tdeq.pop_front();\n\t\t\tv = (v == BA ? BA : AB);\n\t\t} else {\n\t\t\tv = (v == BA ? BB : AA);\n\t\t}\n\t}\n\t\n\tif(v == AA || v == AB) { cout << \"A\"; }\n\tif(v == BA || v == BB) { cout << \"B\"; }\n\t\n\tchar p;\n\tif(v == AA || v == BA) { p = 'A'; } else { p = 'B'; }\n\tinc(i, deq.size()) {\n\t\tinc(j, deq[i]) { cout << p; }\n\t\tp = (p == 'A' ? 'B' : 'A');\n\t}\n\tcout << endl;\n\t\n\t/*\n\ts = t;\n\ts += \"Z\";\n\tcout << endl;\n\tinc(i, k) {\n\t\tprint(s);\n\t\t\n\t\tint p = 0, v = 1;\n\t\twhile(inID(p, 0, n)) {\n\t\t\tif(s[p] == 'A') { s[p] = 'B'; v *= -1; p += v; }\n\t\t\telse            { s[p] = 'A'; v *= +1; p += v; }\n\t\t}\n\t}\n\t\n\tprint(s);\n\t*/\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\n\n#define CIN_ONLY if(1)\nstruct cww{cww(){\n    CIN_ONLY{\n        ios::sync_with_stdio(false);cin.tie(0);\n    }\n}}star;\n#define fin \"\\n\"\n#define FOR(i,bg,ed) for(int i=(bg);i<(ed);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n#define pb push_back\n#define DEBUG if(0)\n#define REC(ret, ...) std::function<ret (__VA_ARGS__)>\ntemplate <typename T>inline void chmin(T &l,T r){l=min(l,r);}\ntemplate <typename T>inline void chmax(T &l,T r){l=max(l,r);}\ntemplate <typename T>\nistream& operator>>(istream &is,vector<T> &v){\n    for(auto &it:v)is>>it;\n    return is;\n}\n\nint main(){\n    int N,K;\n    string s;\n    cin>>N>>K>>s;\n    vector<int> bin(N);\n    REP(i,N)bin[i]=s[i]-'A';\n    if(N==1){\n        s[0]=(bin[0]^(N%2))+'A';\n        cout<<s<<endl;\n        return 0;\n    }\n    int bg=1,ed=N;\n    int rev=0;\n    int fi=bin[0];\n    for(int e=0;ed>bg;e=1-e,ed--)\n        if(bin[ed-1]!=e)break;\n    while(K){\n        if(ed-bg<1&&fi==1)break;\n        if(fi==0)fi=1;\n        else{\n            int val=bin[bg]^rev;\n            if(val==1){\n                fi=0;\n            }else{\n                fi=1;\n            }\n            rev=1-rev;\n            bg++;\n        }\n        K--;\n    }\n    FOR(i,bg,ed)s[i-bg+1]=(bin[i]^rev)+'A';\n    for(int i=N-1,e=0;i>ed-bg;i--,e=1-e)s[i]=e+'A';\n    s[0]=fi+'A';\n    cout<<s<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 200005\nusing namespace std;\nint n,k,op; char A[N]; deque<int> Q;\nint main()\n{\n\tint i;\n\tscanf(\"%d %d\\n\",&n,&k);\n\tscanf(\"%s\",A+1);\n\tif(k>=2*n){\n\t\tif(n&1) printf(k&1 ? \"A\" : \"B\");\n\t\tfor(i=1;i<=n/2;i++) printf(\"BA\");\n\t  }\n\telse{\n\t\tfor(i=1;i<=n;i++) Q.push_back(A[i]=='A');\n\t\tfor(i=1;i<=2*n&&i<=k;i++)\n\t\t\tif(Q.front()^op) Q.pop_front(),Q.push_front(op);\n\t\t\telse Q.pop_front(),Q.push_back(op),op^=1;\n\t\tfor(i=1;i<=n;i++)\n\t\t\tprintf(Q.front()^op ? \"A\" : \"B\"),Q.pop_front();\n\t  }\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tst[l-1]='A'+(rev^1);\n\t\tAplusB(0,l-1,r,rev,len,K-1);\t\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nconst int N = 200010;\n\nchar s[N];\nint n, k;\nstd::deque <int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++ i){\n\t\tdq.push_back(s[i] - 'A');\n\t}\n\tif (k > n << 1){\n\t\tk = (n << 1) + (k & 1);\n\t}\n\tint flag = 0;\n\tfor (int i = 0; i < k; ++ i){\n\t\tint x = dq.front();\n\t\tif (x == flag){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(flag ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflag ^= 1;\n\t\t\tdq.push_back(flag);\n\t\t}\n\t}\n\twhile (!dq.empty()){\n\t\tint x = dq.front();\n\t\tputchar((x ^ flag) + 'A');\n\t\tdq.pop_front();\n\t}\n\treturn printf(\"\\n\"), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n, k;\nstring s;\n\nint main() {\n\tcin >> n >> k >> s;\t\n\ttypedef pair<int, int> ii;\n\tdeque<ii> d, temp;\n\tfor (auto e : s) {\n\t\tif (d.empty() or d.back().second + 'A' != e) {\n\t\t\td.push_back({1, e - 'A'});\t\n\t\t} else {\n\t\t\td.back().first += 1;\n\t\t}\n\t} \n\tbool color = 0;\n\tint add = 0;\n\twhile (k--) {\n\t\tif (d[0].second == color) {\t\t\t\t\n\t\t\tif (d[0].first == 1) d.pop_front();\n\t\t\telse d[0].first -= 1;\t\n\t\t\tif (d.empty() or d.front().second != (1^color)) d.push_front({1, 1 ^ color});\n\t\t\telse d.front().first += 1;;\n\t\t} else {\n\t\t\tadd += 1;\n\t\t\tcolor ^= 1;\n\t\t\tif (d[0].first == 1) d.pop_front();\n\t\t\telse d[0].first -= 1;\n\t\t\tif (d.empty() or d.back().second != color) d.push_back({1, color});\n\t\t\telse d.back().first += 1;\n\t\t}\n\t\tif (~k  and add == n) {\n\t\t\tk %= n;\n\t\t}\n\t}\n\tfor (auto& e : d) e.second ^= color;\n\tfor (auto& e : d) {\n\t\twhile (e.first--) {\n\t\t\tputchar('A' + e.second);\n\t\t}\n\t}\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <cstdio>\n#include <cstdint>\n#include <cassert>\n#include <cmath>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <tuple>\n#include <utility>\n#include <vector>\nusing namespace std;\n\nusing int64 = int64_t;\n\nconstexpr int64 MOD = 1000000007;\n\nchar rev(char ch) {\n    return (ch == 'B') ? 'A' : 'B';\n}\n\nint N, K;\nstring s;\n\nint main() {\n    cin >> N >> K >> s;\n    if (s[0] == 'A') {\n        --K;\n        s[0] = 'B';\n    }\n    if (s[N-1] == 'B') {\n        if (K > 0) {\n            --K;\n            s[N-1] = 'A';\n            for (int j = 0; j < N-1; ++j) {\n                s[j] = rev(s[j+1]);\n            }\n        }\n        if (K > 0) {\n            --K;\n            s[0] = 'B';\n        }\n    }\n    if (K > 0) {\n        int slide = (K+1) / 2;\n        for (int j = 0; j + slide < N-1; ++j) {\n            s[j] = slide%2 == 0 ? s[j+slide] : rev(s[j+slide]);\n        }\n        for (int j = max(0, N-1-slide); j < N-1; ++j) {\n            s[j] = (N-1-j)%2 == 0 ? 'A' : 'B';\n        }\n        s[0] = (K % 2 == 0) ? 'B' : 'A';\n    }\n    cout << s << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long i64;\n\nint main()\n{\n\tint n, k;\n\tchar temp[200005];\n\tvector<bool> state;\n\n\tscanf(\"%d%d%s\", &n, &k, temp);\n\tstate.resize(n);\n\tfor(int i = 0; i < n; ++i)\n\t\tstate[i] = (temp[i] == 'A');\n\n\tint step = k % (2 * n);\n\tif(k >= 2 * n)\n\t\tstep += 2 * n;\n\n\tint left = 0;\n\tbool flip = false;\n\n\tfor(int s = 0; s < step; ++s) {\n\n\t\tbool is_a = (state[left] != flip);\n\n\t\tif(is_a) {\n\t\t\t//printf(\"%d: %d first\\n\", s, left);\n\t\t\tstate[left] = !state[left];\n\t\t\tcontinue;\n\t\t}\n\n\t\t//printf(\"%d: %d second\\n\", s, left);\n\n\t\tleft = (left + 1) % n;\n\t\tflip = !flip;\n\t}\n\n\tchar ans[200005] = {0};\n\tfor(int i = 0; i < n; ++i) {\n\t\tint pos = (left + i) % n;\n\t\tbool is_a = (state[pos] != flip);\n\t\tans[i] = (is_a ? 'A' : 'B');\n\t}\n\n\tprintf(\"%s\\n\", ans);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <ext/pb_ds/tree_policy.hpp>\n#include <ext/pb_ds/assoc_container.hpp>\n\nusing namespace std;\nusing namespace __gnu_pbds;\n \ntypedef long long ll;\ntypedef long double ld;\ntypedef complex<ld> cd;\n\ntypedef pair<int, int> pi;\ntypedef pair<ll,ll> pl;\ntypedef pair<ld,ld> pd;\n\ntypedef vector<int> vi;\ntypedef vector<ld> vd;\ntypedef vector<ll> vl;\ntypedef vector<pi> vpi;\ntypedef vector<pl> vpl;\ntypedef vector<cd> vcd;\n\ntemplate <class T> using Tree = tree<T, null_type, less<T>, rb_tree_tag,tree_order_statistics_node_update>;\n\n#define FOR(i, a, b) for (int i=a; i<(b); i++)\n#define F0R(i, a) for (int i=0; i<(a); i++)\n#define FORd(i,a,b) for (int i = (b)-1; i >= a; i--)\n#define F0Rd(i,a) for (int i = (a)-1; i >= 0; i--)\n\n#define sz(x) (int)(x).size()\n#define mp make_pair\n#define pb push_back\n#define f first\n#define s second\n#define lb lower_bound\n#define ub upper_bound\n#define all(x) x.begin(), x.end()\n\nconst int MOD = 1000000007;\nconst ll INF = 1e18;\nconst int MX = 200001;\n\nint N,K,dat[MX];\nbool flip = 0;\n\ntemplate<class T, int SZ> struct Seg {\n    T seg[2*SZ], MN = 0;\n    \n    Seg() {\n        memset(seg,0,sizeof seg);\n    }\n    \n    T comb(T a, T b) { return a+b; } // easily change this to min or max\n    \n    void upd(int p, T value) {  // set value at position p\n        for (seg[p += SZ] = value; p > 1; p >>= 1)\n            seg[p>>1] = comb(seg[(p|1)^1],seg[p|1]); // non-commutative operations\n    }\n    \n    void build() {\n        F0Rd(i,SZ) seg[i] = comb(seg[2*i],seg[2*i+1]);\n    }\n    \n    T query(int l, int r) {  // sum on interval [l, r]\n        T res1 = MN, res2 = MN; r++;\n        for (l += SZ, r += SZ; l < r; l >>= 1, r >>= 1) {\n            if (l&1) res1 = comb(res1,seg[l++]);\n            if (r&1) res2 = comb(seg[--r],res2);\n        }\n        return comb(res1,res2);\n    }\n};\n\nSeg<int,1<<18> Z;\nint st = 0;\n\nvoid finish() {\n    F0R(i,N) cout << char('A'+(flip^dat[(i+st)%N]));\n    exit(0);\n}\n\nint main() {\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    cin >> N >> K;\n    string S; cin >> S;\n    F0R(i,sz(S)) if (S[i] == 'B') dat[i] = 1;\n    \n    FOR(i,1,2*N+3) {\n        if ((dat[st]^flip) == 0) dat[st] ^= 1;\n        else {\n            flip ^= 1;\n            st = (st+1)%N;\n        }\n        if (K == i || ((K-i) % 2 == 0 && i > 2*N)) finish(); \n    }\n}\n\n// read the question correctly (is y a vowel? what are the exact constraints?)\n// look out for SPECIAL CASES (n=1?) and overflow (ll vs int?) ARRAY OUT OF BOUNDSS"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 200005\nchar s[N];int n,k,l,r,rev;\nint main(){scanf(\"%d%d%s\",&n,&k,s);for(int i=0;i<n;i++) s[i]-=65;if(k>n*2+1) k=k%2?(n*2+1):(n*2+2);r=n-1;\nfor(int i=1;i<=k;i++)if(!(s[l]^rev)) s[l]^=1;else l=(l+1)%n,r=(r+1)%n,rev^=1;\nfor(;;l=(l+1)%n){printf(\"%c\",65+(s[l]^rev));if(l==r) break;}}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <algorithm>\nusing namespace std;\n\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P)\n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, deque<T> P)\n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\n\n\nint N, K;\nstring S;\n\nusing Data = deque<pair<char,int> >;\nchar conv(char c, int change) {\n    if (change & 1) return (c == 'A' ? 'B' : 'A');\n    else return c;\n}\n\nstring recon(const Data &v, int change) {\n    string res = \"\";\n    int sum = 0;\n    for (auto p : v) {\n        sum += p.second;\n        for (int i = 0; i < p.second; ++i) res += conv(p.first, change);\n    }\n    \n    for (int i = 0; i < (int)S.size()-sum; i += 2) res += \"BA\";\n    return res;\n}\n\nint main() {\n    cin >> N >> K >> S;\n    Data v;\n    for (int i = 0; i < S.size();) {\n        int j = i+1;\n        while (j < S.size() && S[j] == S[i]) ++j;\n        v.push_back({S[i], j-i});\n        i = j;\n    }\n    int LIMIT = 10000000;\n    if ((K - LIMIT) & 1) ++LIMIT;\n    if (K > LIMIT) K = LIMIT;\n    int change = 0;\n    for (int i = 0; i < K; ++i) {\n        char c = conv(v[0].first, change);\n        if (c == 'A') {\n            auto p = v[0];\n            v.pop_front();\n            if (p.second > 1) v.push_front({conv('A', change), p.second - 1});\n            v.push_front({conv('B', change), 1});\n        }\n        else {\n            v[0].second--;\n            if (v[0].second == 0) v.pop_front();\n            ++change;\n\n            if (v.empty()) {\n                change = 0;\n                v.push_back({'A', 1});\n            }\n        }\n\n        //cout << i << \": \" << recon(v, change) << \", \" << change << endl;\n    }\n    cout << recon(v, change) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <algorithm>\nusing namespace std;\n\n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define ALL(c) (c).begin(), (c).end()\n\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef vector<VL> VVL;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nint main(){\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n\n    deque<int> dq;\n    int x = 1;\n    FOR(i,1,n-1){\n        if (s[i] == s[i-1]) x++;\n        if (s[i] != s[i-1]){\n            dq.push_back(x);\n            x = 1;\n        }\n    }\n    dq.push_back(x);\n\n    int top = (s[0] == 'B');\n\n    while (k--){\n        if (!top){\n            top = 1;\n            int x = dq.front();\n            dq.pop_front();\n            if (x == 1){\n                int y = dq.front();\n                dq.pop_front();\n                dq.push_front(y + 1);\n            }else{\n                dq.push_front(x - 1);\n                dq.push_front(1);\n            }\n        }else{\n            int x = dq.front();\n            dq.pop_front();\n            if (x > 1){\n                top = 0;\n                dq.push_front(x - 1);\n            }\n            if ((top + dq.size()) % 2 == 0){\n                dq.push_back(1);\n            }else{\n                int y = dq.back();\n                dq.pop_back();\n                dq.push_back(y + 1);\n            }\n        }\n\n        if (n % 2 == 0 && dq.size() == n && top){\n            k = 0;\n        }\n        if (n % 2 == 1 && dq.size() == n && !top){\n            k %= 2;\n        }\n    }\n\n    while (!dq.empty()){\n        int x = dq.front();\n        dq.pop_front();\n        cout << string(x, 'A' + top);\n        top ^= 1;\n    }\n    cout << endl;\n\n    return 0;\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ADD(a, b) a = (a + ll(b)) % mod\n#define MUL(a, b) a = (a * ll(b)) % mod\n#define MAX(a, b) a = max(a, b)\n#define MIN(a, b) a = min(a, b)\n#define rep(i, a, b) for(int i = int(a); i < int(b); i++)\n#define rer(i, a, b) for(int i = int(a) - 1; i >= int(b); i--)\n#define all(a) (a).begin(), (a).end()\n#define sz(v) (int)(v).size()\n#define pb push_back\n#define sec second\n#define fst first\n#define debug(fmt, ...) Debug(__LINE__, \":\", fmt, ##__VA_ARGS__)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<int, pi> ppi;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vl> mat;\ntypedef complex<double> comp;\nvoid Debug() {cerr << '\\n'; }\ntemplate<class FIRST, class... REST>void Debug(FIRST arg, REST... rest){\n\tcerr<<arg<<\" \";Debug(rest...);}\ntemplate<class T>ostream& operator<<(ostream& out,const vector<T>& v) {\n\tout<<\"[\";if(!v.empty()){rep(i,0,sz(v)-1)out<<v[i]<<\", \";out<<v.back();}out<<\"]\";return out;}\ntemplate<class S, class T>ostream& operator<<(ostream& out,const pair<S, T>& v){\n\tout<<\"(\"<<v.first<<\", \"<<v.second<<\")\";return out;}\nconst int MAX_N = 500010;\nconst int MAX_V = 100010;\nconst double eps = 1e-6;\nconst ll mod = 1000000007;\nconst int inf = (1 << 30) - 1;\nconst ll linf = 1LL << 60;\nconst double PI = 3.14159265358979323846;\nmt19937 rng; //use it by rng() % mod, shuffle(all(vec), rng)\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\nint N, K;\ndeque<int> que;\n\nvoid solve() {\n\tcin >> N >> K;\n\trep(i, 0, N) {\n\t\tchar c; cin >> c;\n\t\tque.push_back(c == 'A');\n\t}\n\tbool reversed = false;\n\trep(i, 0, min(K, 6 * N)) {\n\t\tif((que.front() ^ reversed) == 1) que.front() ^= 1;\n\t\telse {\n\t\t\tque.pop_front();\n\t\t\treversed ^= 1;\n\t\t\tque.push_back(reversed ^ 1);\n\t\t}\n\t}\n\trep(i, 0, N) {\n\t\tque[i] ^= reversed;\n\t}\n\n\tif(K <= 6 * N) {\n\t\trep(i, 0, N) {\n\t\t\tcout << (que[i] == 1 ? 'A' : 'B');\n\t\t}\n\t}\n\telse {\n\t\tif(N % 2 == 0) {\n\t\t\trep(i, 0, N) {\n\t\t\t\tcout << (que[i] == 1 ? 'A' : 'B');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\trep(i, 0, N) {\n\t\t\t\tcout << ((que[i] ^ (i == 0 ? (K - 6 * N) % 2 : 0)) == 1 ? 'A' : 'B');\n\t\t\t}\n\t\t}\n\t}\n\tcout << \"\\n\";\n}\n\nuint32_t rd() {\n\tuint32_t res;\n#ifdef __MINGW32__\n\tasm volatile(\"rdrand %0\" :\"=a\"(res) ::\"cc\");\n#else\n\tres = std::random_device()();\n#endif\n\treturn res;\n}\n\nint main() {\n#ifndef LOCAL\n\tios::sync_with_stdio(false);\n    cin.tie(0);\n#endif\n    cout << fixed;\n\tcout.precision(20);\n    cerr << fixed;\n\tcerr.precision(6);\n\trng.seed(rd());\n#ifdef LOCAL\n\t//freopen(\"in.txt\", \"wt\", stdout); //for tester\n\tif(!freopen(\"in.txt\", \"rt\", stdin)) return 1;\n#endif\t\n\tsolve();\n    cerr << \"Time: \" << 1.0 * clock() / CLOCKS_PER_SEC << \" s.\\n\";\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// need\n#include <iostream>\n#include <algorithm>\n\n// data structure\n#include <bitset>\n//#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n//#include <array>\n//#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n//#include <deque>\n#include<valarray>\n\n// stream\n//#include <istream>\n//#include <sstream>\n//#include <ostream>\n\n// etc\n#include <cassert>\n#include <functional>\n#include <iomanip>\n//#include <typeinfo>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n#define INIT std::ios::sync_with_stdio(false);std::cin.tie(0);\n#define VAR(type, ...)type __VA_ARGS__;MACRO_VAR_Scan(__VA_ARGS__);\ntemplate<typename T> void MACRO_VAR_Scan(T& t) { std::cin >> t; }\ntemplate<typename First, typename...Rest>void MACRO_VAR_Scan(First& first, Rest&...rest) { std::cin >> first; MACRO_VAR_Scan(rest...); }\n#define VEC_ROW(type, n, ...)std::vector<type> __VA_ARGS__;MACRO_VEC_ROW_Init(n, __VA_ARGS__); for(int i=0; i<n; ++i){MACRO_VEC_ROW_Scan(i, __VA_ARGS__);}\ntemplate<typename T> void MACRO_VEC_ROW_Init(int n, T& t) { t.resize(n); }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Init(int n, First& first, Rest&...rest) { first.resize(n); MACRO_VEC_ROW_Init(n, rest...); }\ntemplate<typename T> void MACRO_VEC_ROW_Scan(int p, T& t) { std::cin >> t[p]; }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Scan(int p, First& first, Rest&...rest) { std::cin >> first[p]; MACRO_VEC_ROW_Scan(p, rest...); }\n#define OUT(d) std::cout<<d;\n#define FOUT(n, d) std::cout<<std::fixed<<std::setprecision(n)<<d;\n#define SOUT(n, c, d) std::cout<<std::setw(n)<<std::setfill(c)<<d;\n#define SP std::cout<<\" \";\n#define TAB std::cout<<\"\\t\";\n#define BR std::cout<<\"\\n\";\n#define ENDL std::cout<<std::endl;\n#define FLUSH std::cout<<std::flush;\n#define VEC(type, c, n) std::vector<type> c(n);for(auto& i:c)std::cin>>i;\n#define MAT(type, c, m, n) std::vector<std::vector<type>> c(m, std::vector<type>(n));for(auto& r:c)for(auto& i:r)std::cin>>i;\n#define ALL(a) (a).begin(),(a).end()\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RFOR(i, a, b) for(int i=(b)-1;i>=(a);--i)\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define RREP(i, n) for(int i=(n)-1;i>=0;--i)\n#define FORLL(i, a, b) for(ll i=ll(a);i<ll(b);++i)\n#define RFORLL(i, a, b) for(ll i=ll(b)-1;i>=ll(a);--i)\n#define REPLL(i, n) for(ll i=0;i<ll(n);++i)\n#define RREPLL(i, n) for(ll i=ll(n)-1;i>=0;--i)\n#define PAIR std::pair<int, int>\n#define PAIRLL std::pair<ll, ll>\n#define IN(a, x, b) (a<=x && x<b)\n#define SHOW(d) {std::cerr << #d << \"\\t:\" << d << \"\\n\";}\n#define SHOWVECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOWVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr << yyy << \" \";}std::cerr << \"\\n\";}}\n#define SHOWPAIR(p) {std::cerr << #p << \"\\t:(\" << p.first << \",\\t\" << p.second << \")\\n\";}\n#define SHOWPAIRVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr<<'('<<yyy.first<<\", \"<<yyy.second<<\") \";}std::cerr << \"\\n\";}}\n#define SHOWPAIRVECTOR(v) {for(const auto& xxx:v){std::cerr<<'('<<xxx.first<<\", \"<<xxx.second<<\") \";}std::cerr<<\"\\n\";}\n#define SHOWQUEUE(a) {std::queue<decltype(a.front())> tmp(a);std::cerr << #a << \"\\t:\";for(int i=0; i<static_cast<int>(a.size()); ++i){std::cerr << tmp.front() << \"\\n\";tmp.pop();}std::cerr << \"\\n\";}\ntemplate<typename T> inline T CHMAX(T& a, const T b) { return a = (a < b) ? b : a; }\ntemplate<typename T> inline T CHMIN(T& a, const T b) { return a = (a > b) ? b : a; }\n#define EXCEPTION(msg) throw std::string(\"Exception : \" msg \" [ in \") + __func__ + \" : \" + std::to_string(__LINE__) + \" lines ]\"\n#define TRY(cond, msg) try {if (cond) EXCEPTION(msg);}catch (std::string s) {std::cerr << s << std::endl;}\nvoid CHECKTIME(std::function<void()> f) { auto start = std::chrono::system_clock::now(); f(); auto end = std::chrono::system_clock::now(); auto res = std::chrono::duration_cast<std::chrono::nanoseconds>((end - start)).count(); std::cerr << \"[Time:\" << res << \"ns  (\" << res / (1.0e9) << \"s)]\\n\"; }\n\n#define int ll\nusing ll = long long;\nusing ull = unsigned long long;\nconstexpr int INFINT = 1 << 30;                          // 1.07x10^ 9\nconstexpr int INFINT_LIM = (1LL << 31) - 1;              // 2.15x10^ 9\nconstexpr ll INFLL = 1LL << 60;                          // 1.15x10^18\nconstexpr ll INFLL_LIM = (1LL << 62) - 1 + (1LL << 62);  // 9.22x10^18\nconstexpr double EPS = 1e-7;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.141592653589793238462643383279;\n\nsigned main() {\n\tINIT;\n\tVAR(int, n, k);\n\tVAR(std::string, s);\n\ts = '$' + s + '$';\n\tint cnt = 0;\n\twhile (k) {\n\t\tint p = 1;\n\t\tint d = 1;\n\t\twhile (s[p] != '$') {\n\t\t\tif (s[p] == 'A') {\n\t\t\t\ts[p] = 'B';\n\t\t\t\td *= -1;\n\t\t\t\tp += d;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[p] = 'A';\n\t\t\t\tp += d;\n\t\t\t}\n\t\t}\n\t\t--k;\n\t\tif (s.substr(s.size() - 3, 2) == \"BA\") {\n\t\t\tstd::string t((int)s.size() - 3, 'B');\n\t\t\tt += 'A';\n\t\t\tif (s.substr(1, s.size() - 2) == t) {\n\t\t\t\twhile (k >= 3 && s.size() > 5) {\n\t\t\t\t\ts.resize(s.size() - 3);\n\t\t\t\t\tk -= 3;\n\t\t\t\t\ts += '$';\n\t\t\t\t\t++cnt;\n\t\t\t\t}\n\t\t\t}\n\t\t\ts.resize(s.size() - 3);\n\t\t\ts += '$';\n\t\t\t++cnt;\n\t\t}\n\t\tif (s.size() <= 3) break;\n\t}\n\ts = s.substr(1, s.size() - 2);\n\tif (k == 0) {\n\t\tOUT(s);\n\t\tREP(i, cnt) {\n\t\t\tOUT(\"BA\");\n\t\t}\n\t\tBR;\n\t\treturn 0;\n\t}\n\tif (s.size() == 1) {\n\t\tk %= 2;\n\t\tif (k == 1) {\n\t\t\tOUT(((s[0] == 'A') ? 'B' : 'A'));\n\t\t}\n\t\telse {\n\t\t\tOUT(s[0]);\n\t\t}\n\t\tREP(i, cnt) {\n\t\t\tOUT(\"BA\");\n\t\t}\n\t\tBR;\n\t\treturn 0;\n\t}\n\telse {\n\t\tREP(i, cnt) {\n\t\t\tOUT(\"BA\");\n\t\t}\n\t\tBR;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int N=200005; \nint n,k,num[N],p=1,cnt;\nchar s[N];\nsigned main(){\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (int i=1;i<=n;i++)num[i]=s[i]-'A';\n    int st=num[1];\n    while (k--){\n    \tif (st==0){\n\t\t\tst^=1;\n\t\t\tnum[p]^=1;\n\t\t}\n   \t\telse {\n        \tp++;cnt++;\n        \tst=num[p];\n        \tst^=(cnt&1);\n    \t}\n    \tif (p>n)break;\n    }\n    if (p<=n){\n    \tfor (int i=p;i<=n;i++)putchar('A'+(num[i]^(cnt&1)));\n    \tint t=n-(n-p+1),c=(cnt-1)&1;\n    \twhile (t--){\n        \tputchar('A'+c);\n        \tc^=1;\n    \t}\n    }\n    else {\n    \tif ((cnt-1)&1){\n        \tfor (int i=1;i<=n;i++)putchar('A'+(i&1));\n    \t}\n   \t\telse {\n\t\t\tputchar('A'+(k&1));\n        \tfor (int i=1;i<n;i++)putchar('A'+(i&1));\n    \t}\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst uint64_t base = 3;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nuint64_t hsh = 0, rev_hsh = 0;\nmap<uint64_t, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = hsh * base + i + 1;\n\t\trev_hsh = rev_hsh * base + (i ^ 1) + 1;\n\t}\n\n\tuint64_t pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = pwn * base;\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = hsh - (frs_v + 1) * pwn;\n\t\t\trev_hsh = rev_hsh - ((frs_v ^ 1) + 1) * pwn;\n\t\t\n\t\t\thsh = hsh + ((frs_v ^ 1) + 1) * pwn;\n\t\t\trev_hsh = rev_hsh + (frs_v + 1) * pwn;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = hsh - (frs_v + 1) * pwn;\n\t\t\trev_hsh = rev_hsh - ((frs_v ^ 1) + 1) * pwn;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = hsh * base;\n\t\t\trev_hsh = rev_hsh * base;\n\n\t\t\thsh += 2;\n\t\t\trev_hsh += 1;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\t\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN = 2e5+1;\nint L, R;\nchar S[MAXN];\nbool F[MAXN*2], f;\nint main()\n{\n\tint N, K, i, T;\n\tscanf(\"%d%d%s\", &N, &K, S);\n\tfor(i=0; i<N; ++i)\n\t\tF[i] = S[i] == 'B';\n\tL = 0, R = N;\n\tif (K <= 2*N)\n\t\tT = K;\n\telse if(N&1 && K&1)\n\t\tT = 2*N+1;\n\telse\n\t\tT = 2*N;\n\tfor(i=0; i<T; ++i)\n\t\tif(f ^ F[L])\n\t\t\tf = !f, ++L, F[R++] = f;\n\t\telse\n\t\t\tF[L] ^= 1;\n\tfor(i=L; i<R; ++i)\n\t\tputchar((F[i]^f) ? 'B' : 'A');\n\tputs(\"\");\n}"
  },
  {
    "language": "C++",
    "code": "//Keep pluggin',this is your only outlet.\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cctype>\n#include<cassert>\n#define MM(x,y) memset(x,y,sizeof(x))\n#define MCPY(a,b) memcpy(a,b,sizeof(b))\n#define pb push_back\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,b,a) for(int i=b;i>=a;i--)\n#define fi first\n#define mp make_pair\n#define se second\nusing namespace std;\n//#define int long long\n\ninline int quickpow(int m,int n,int p){int b=1;while(n){if(n&1)b=b*m%p;n=n>>1;m=m*m%p;}return b;}\ninline int quickmul(int x,int y,int mod){return (x*y-(int)((long double)x/mod*y)*mod+mod)%mod;}\ninline int getinv(int x,int p){return quickpow(x,p-2,p);}\ninline int read(void){\n    int x=0,f=1;char ch=getchar();\n    while(!isdigit(ch)){f=ch=='-'?-1:1;ch=getchar();}\n    while(isdigit(ch)){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n    return x * f;\n}\n\nconst int MAXN = 2e5 + 100;\n\nchar s[MAXN];\nint n,k,a[MAXN<<1],l,r,p = 0;\n\n///------------------head------------------\nsigned main(signed argc, char *argv[]){\n    n = read(),k = read();\n    scanf(\"%s\",s+1);\n    rep(i,1,n) a[i] = s[i] - 'A';\n    l = 1,r = n;\n    for (int i = 1; i <= (n << 1); ++i) {\n        if (a[l] == 0) a[l] ^= 1;\n        else ++l,++r,p^=1,a[r] = 1;\n        if (i == k) {\n            //cerr << l << ' ' << r << endl;\n            for (int j = l; j <= r; ++j)\n            printf(\"%c\",(a[j]^p) + 'A');\n            return 0;\n        }\n    }\n    int lst = a[r],d = k & 1;\n    for (int i = l; i <= r; ++i)\n        printf(\"%c\",(lst^(d^1)^((i-l)&1))+'A');\n    return 0;\n}\n\n/* Examples: */\n/*\n\n*/\n\n/*\n\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=4e5+5;\ntypedef long long ll;\nint n,k;\nchar s[N];\nint num[N];\nint st;\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)\n        num[i]=s[i]-'A';\n    st=num[1];\n    int p=1;\n    int cnt=0;//p表示删到哪里了，cnt是操作次数\n    while(k--){\n        if(st==0){//这是第一个是A的情况\n            st^=1;\n            num[p]^=1;\n        }\n        else{\n            p++;\n            cnt++;\n            st=num[p];\n            st^=(cnt&1);\n        }\n        if(p>n)\n            break;\n    }\n    if(p<=n){\n        for(int i=p;i<=n;i++)\n            putchar('A'+(num[i]^(cnt&1)));\n        int t=p-1,c=(cnt-1)&1;\n        while(t--){\n            putchar('A'+c);\n            c^=1;\n        }\n    }\n    else{\n        if((cnt-1)&1)//BABA\n            for(int i=1;i<=n;i++)\n                putchar('A'+(i&1));\n        else{//ABAB\n            putchar('A'+(k&1));\n            for(int i=1;i<n;i++)\n                putchar('A'+(i&1));\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define Sheryang main\nconst int maxn=1e6+7;\ntypedef long long ll;\nconst int mod=1e9+7;\nvoid Smax(ll &a,ll b){if(a<b) a=b;}\nvoid Smin(ll &a,ll b){if(a>b) a=b;}\n///#define getchar()(p1 == p2 && (p2 = (p1 = buf) + fread(buf, 1, 1 << 21, stdin), p1 == p2) ? EOF : *p1++)\n///char buf[(1 << 21) + 1], *p1 = buf, *p2 = buf;\n#define IO cin.tie(0),ios::sync_with_stdio(false);\n#define pi acos(-1)\n#define PII pair<ll,ll>\nll read(){ll c = getchar(),Nig = 1,x = 0;while(!isdigit(c) && c!='-')c = getchar();if(c == '-')Nig = -1,c = getchar();while(isdigit(c))x = ((x<<1) + (x<<3)) + (c^'0'),c = getchar();return Nig*x;}\n#define read read()\n/** keep hungry and keep calm! **/\n\nchar s[maxn];\nint n,k;\n\nvoid print(int x){\n    for(int i=n-1;i>=0;i--){\n        if(x&(1<<i)){\n            printf(\"B\");\n        }else{\n            printf(\"A\");\n        }\n    }\n    puts(\"\");\n}\n\nint Sheryang()\n{\n    n=read,k=read;\n    scanf(\"%s\",s);\n    int ans=0;\n    for(int i=0;i<n;i++){\n        if(s[i]=='B'){\n            ans|=(1<<n-i-1);\n        }\n    }\n\n    if(k>=2*n){\n        if(n&1){\n            printf(\"B\");\n        }\n        int f=0;\n        for(int i=0;i<n;i++){\n            if(!f){\n                printf(\"B\");\n            }else{\n                printf(\"A\");\n            }\n            f^=1;\n        }\n        puts(\"\");\n        return 0;\n    }\n\n    while(k--){\n        if(ans&(1<<n-1)){\n            ans<<=1;ans|=1;\n            ans&=(1<<n)-1;\n            ans^=(1<<n)-1;\n        }else{\n            ans|=(1<<n-1);\n        }\n    }\n    print(ans);\n\n    /*while(T--){\n        int pos=0,dir=1;\n        while(pos>=0 && pos<n){\n            if(s[pos]=='A'){\n                dir=-dir;\n                s[pos]='B';\n            }else{\n                s[pos]='A';\n            }\n            pos+=dir;\n        }\n        printf(\"%s\\n\",s);\n    }*/\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=2*n)\n\t{\n\t\tint p=1, f=0;\n\t\tfor (int i=1; i<=k; i++)\n\t\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\t\telse f^=1, p=p==n?1:p+1;\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\t\tif (!f) putchar(s[i]);\n\t\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tif (n==1)\n\t\t{\n\t\t\tif (k%2==0) putchar(s[1]);\n\t\t\telse putchar(s[1]=='A'?'B':'A');\n\t\t}\n\t\telse if (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (k%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <cstdlib>\n#include <set>\n#include <queue>\nusing namespace std;\n\n#define X first\n#define Y second\n#define Mod 1000000009\n#define N 100010\n#define M 101\n\ntypedef long long ll;\n\nconst int INF=1<<30;\nint n,K;\nstring s;\n\nint main()\n{\n\t//freopen(\"in.in\",\"r\",stdin);\n\t//freopen(\"out.out\",\"w\",stdout);\n\t\n\tcin >> n >> K >> s;\n\tbool flag=0;\n\tfor (int i=1;i<=2*n;i++)\n\t{\n\t\tif (K==0) break; K--;\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[0]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='A';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t\telse s[0]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[0]=='A') s[0]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='B';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t}\n\t\tif (flag) \n\t\t{\n\t\t\tflag=0;\n\t\t\tfor (int i=0;i<n;i++) s[i]=s[i]=='A'? 'B':'A';\n\t\t}\n\t}\n\tif (K&1)\n\t{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[0]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='A';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t\telse s[0]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[0]=='A') s[0]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='B';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t}\n\t}\n\tif (flag) for (int i=0;i<n;i++) s[i]=s[i]=='A'? 'B':'A';\n\tcout<<s<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<cstdlib>\n#include<cmath>\n#include<cstring>\nusing namespace std;\n#define maxn 2001000\n#define md 2\n#define llg int\n#define yyj(a) freopen(a\".in\",\"r\",stdin),freopen(a\".out\",\"w\",stdout);\nllg n,m,p,k,cs,val[maxn],addv[maxn],set[maxn],wz,le,ri;\nbool sset[maxn];\nchar s[maxn];\n\nvoid pushdown(llg o,llg l,llg r)\n{\n\tlong long lc=o<<1,rc=o<<1|1,mid=(r+l)>>1;\n\tif(addv[o])\n\t{\n\t\taddv[lc]+=addv[o];addv[rc]+=addv[o];\n\t\tval[lc]+=addv[o]*(mid-l+1);\n\t\tval[rc]+=addv[o]*(r-mid);\n\t\taddv[o]=0;\n\t}\n}\nvoid build(llg o,llg l,llg r)\n{\n\tif (l==r)\n\t{\n\t\tval[o]=(s[++cs]=='A');  \n\t\treturn ;\n\t}\n\tllg mid=(l+r)>>1,lc=o<<1,rc=o<<1|1;\n\tbuild(lc,l,mid);\n\tbuild(rc,mid+1,r);\n\tval[o]=val[lc]+val[rc];\n}\n\nvoid add(llg o,llg l,llg r,llg L,llg R,llg V)\n{\n\tpushdown(o,l,r);\n\tif (l>=L && r<=R)\n\t{\n\t\taddv[o]=V;\n\t\tval[o]+=V*(r-l+1);\n\t\treturn ;\n\t}\n\tllg lc=o<<1,rc=o<<1|1,mid=(l+r)>>1;\n\tif (L<=mid) add(lc,l,mid,L,R,V);\n\tif (R>mid) add(rc,mid+1,r,L,R,V);\n\tval[o]=val[lc]+val[rc];\n}\n\nllg sum(llg o,llg l,llg r,llg L,llg R)\n{\n\tpushdown(o,l,r);\n\tif (l>=L && r<=R)\n\t{\n\t\treturn val[o]%md;\n\t}\n\tllg lc=o<<1,rc=o<<1|1,mid=(l+r)>>1;\n\tif (L<=mid) return sum(lc,l,mid,L,R)%md;\n\tif (R>mid) return sum(rc,mid+1,r,L,R)%md;\n\tval[o]=val[lc]+val[rc];\n\treturn -1;\n}\n\nvoid work()\n{\n\tif (sum(1,1,n,le,le)==1)\n\t{\n\t\tadd(1,1,n,le,le,-1);\n\t\treturn ;\n\t}\n\telse\n\t{\n\t\tle++,ri++;\n\t\tadd(1,1,n,le,ri,1);\n\t}\n}\n\nint main()\n{\n\t//yyj(\"D\");\n\tcin>>n>>k;\n\tscanf(\"%s\",s+1);\n\tle=1,ri=n;\n\tn+=k+1;\n\tbuild(1,1,n);\n\tfor (llg i=1;i<=k;i++) work();\n\tfor (llg i=le;i<=ri;i++)\n\t{\n\t\tif (sum(1,1,n,i,i)==1) putchar('A');else putchar('B'); \n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<ctime>\n#include<map>\n#include<bitset>\n#include<set>\n#define LL long long\n#define mp(x,y) make_pair(x,y)\n#define pll pair<long long,long long>\n#define pii pair<int,int>\nusing namespace std;\ninline int read()\n{\n\tint f=1,x=0;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nint stack[20];\ntemplate<typename T>inline void write(T x)\n{\n\tif(x<0){putchar('-');x=-x;}\n    if(!x){putchar('0');return;}\n    int top=0;\n    while(x)stack[++top]=x%10,x/=10;\n    while(top)putchar(stack[top--]+'0');\n}\ntemplate<typename T>inline void pr1(T x){write(x);putchar(' ');}\ntemplate<typename T>inline void pr2(T x){write(x);putchar('\\n');}\nconst int MAXN=200005;\nchar ch[MAXN];int n,K,cnt,len;\nchar ans[MAXN];\nvoid go(int x,int p){for(int i=x;i<=n;i++)ans[i-x+1]=((ch[i]-'A')^p)+'A';}\nchar fac(char a,int p){return ((a-'A')^p)+'A';}\nint main()\n{\n\tn=read();K=read();\n\tscanf(\"%s\",ch+1);len=n;int o=0;\n\tfor(int i=1,nxt;i<=n;i=nxt+1)\n\t{\n\t\tnxt=i;while(ch[nxt+1]==ch[i])++nxt;int op;\n\t\tif(fac(ch[i],o)=='A')op=0;\n\t\telse if(i==nxt)op=1;\n\t\telse op=2;\n\t\twhile(i<=nxt&&cnt<K&&len)\n\t\t{\n\t\t\t++cnt;\n\t\t\tif(op==0)ch[i]=fac(ch[i],o^1);\n\t\t\telse if(op==1)ans[len--]='A',++i,o^=1;\n\t\t\telse \n\t\t\t{\n\t\t\t\t++i,ans[len--]='B';\n\t\t\t\tif(i<=nxt)o^=1;\n\t\t\t}op=(op+1)%3;\n\t\t}\n\t\tif(!len)break;\n\t\tif(cnt==K){go(i,o);break;}\n\t}\n\tfor(int i=1;i<=n;i++)putchar(ans[i]);puts(\"\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long int ll;\ntypedef long double ld;\n#define pb push_back\n#define pii pair < int , int >\n#define F first\n#define S second\n#define endl '\\n'\n#define int long long\n#define sync ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0)\n#pragma GCC optimize(\"Ofast,no-stack-protector,unroll-loops,fast-math\")\n#define kill(x) return cout<<x<<'\\n', 0;\nusing namespace std;\nconst int N=2e5+100;\nchar ans[N];\nint32_t main(){\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    /*\n    if (k>=n){\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        kill(y);\n    }\n    */\n    ll cnt=0;\n    if (s[0]=='A') cnt++;\n    ans[0]='B';\n    for (int i=1;i<n && i+cnt<=k;i++){\n        char c=s[i];\n        if (i%2==0){\n            if (c=='A'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n        else{\n            if (c=='B'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n    }\n    if (n-1+cnt<=k){\n            cout << 1/0;\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        if (n%2==0){\n            kill(y);\n        }\n        else{\n            y[0]='B';\n            ll z=n-1+cnt;\n            if (k%2==z%2){\n                kill(y);\n            }\n            y[0]='A';\n            kill(y);\n        }\n    }\n    for (int i=1;i<n;i++){\n        ll z=i+k-cnt;\n        if (z>=n){\n            if (i%2==(n-1)%2){\n                ans[i]='A';\n            }\n            else{\n                ans[i]='B';\n            }\n        }\n        else{\n            if (z%2==i%2){\n                ans[i]=s[z];\n            }\n            else{\n                if (s[z]=='A') ans[i]='B';\n                else ans[i]='A';\n            }\n        }\n    }\n    for (int i=0;i<n;i++) cout << ans[i];\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, k, a[200005], ht;\nchar ipt[200005];\n\nvector<int> gen_seq (int S) {\n\tvector<int> ret;\n\tfor(int i=S;i<=n;i++) ret.push_back(a[i]^((S+1)%2));\n\tfor(int i=1;i<S;i++) ret.push_back((n-1-(int)ret.size())%2);\n\treturn ret;\n}\nvoid solve (int S, int R) {\n\tvector<int> tmp = gen_seq(S);\n\tif(R) tmp[0] = 1;\n\tfor(int i=0;i<n;i++) putchar(tmp[i]?'B':'A');\n\tputs(\"\");\n\texit(0);\n}\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,ipt+1);\n\tfor(int i=1;i<=n;i++) a[i] = (ipt[i] == 'B');\n\tfor(int i=n;i>=1;i--) {\n\t\tif(a[i] != (n-i)%2) {ht = i; break;}\n\t}\n\tfor(int i=1;i<=ht;i++) {\n\t\tif(k == 0) solve(i, 0);\n\t\tif((a[i]+i)%2) {\n\t\t\tif(k == 1) solve(i, 1);\n\t\t\tk -= 2;\n\t\t}\n\t\telse k--;\n\t}\n\tif(n%2 == 0 || k%2 == 0) solve(n+1, 0);\n\telse solve(n+1, 1);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tint C = 0;\n\twhile (k&&C<=3*n){\n\t\tk--;\n\t\tC++;\n\t\tif (d.front() == 1){\n\t\t\td.front() = 0;\n\t\t\tcontinue;\n\t\t}\n\t\td.pop_front();\n\t\td.push_back(((n - 1) & 1)^1);\n\t}\n\tif (k == 0){\n\n\t}\n\telse{\n\t\tif (d.front() == 0){  //B\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tk %= 2;\n\t\t\tif (k){\n\t\t\t\td.front() = 0;\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//84104971101048411497 - Can you guess what does this mean?\n#include <bits/stdc++.h>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef complex<double> point;\n#define mapii map<int, int>\n#define debug(a) cout << #a << \": \" << a << endl\n#define debuga1(a, l, r) fto(i, l, r) cout << a[i] << \" \"; cout << endl\n#define fdto(i, r, l) for(int i = (r); i >= (l); --i)\n#define fto(i, l, r) for(int i = (l); i <= (r); ++i)\n#define forit(it, var) for(__typeof(var.begin()) it = var.begin(); it != var.end(); it++)\n#define forrit(rit, var) for(__typeof(var.rbegin()) rit = var.rbegin(); rit != var.rend(); rit++)\n#define ii pair<int, int>\n#define iii pair<int, ii>\n#define ff first\n#define ss second\n#define mp make_pair\n#define pb push_back\n#define maxN 500005\n#define oo 2000000007\n#define sz(a) (int)a.size()\n \nconst double PI = acos(-1.0);\n \ndouble fRand(double fMin, double fMax)\n{\n    double f = (double)rand() / RAND_MAX;\n    return fMin + f * (fMax - fMin);\n}\n \ntemplate <class T>\nT min(T a, T b, T c) {\n    return min(a, min(b, c));\n}\n \ntemplate <class T>\nT max(T a, T b, T c) {\n    return max(a, max(b, c));\n}\n \nstring getBA(int n) {\n    string ans;\n    fto(i, 0, n-1) ans += (i&1) ? 'B' : 'A';\n    reverse(ans.begin(), ans.end());\n    return ans;\n}\n \nstring s;\nint n, k;\n \nint main () {\n    cin >> n >> k;\n    cin >> s;\n \n    int cur = 0;\n    string ans;\n    fto(i, 0, n-1) {\n        if ((s[i] == 'A')^(i&1)) {\n            --k;\n            if (k == 0) {\n                ans += 'B';\n                fto(j, i+1, n-1) {\n                    ans += ((s[j] == 'A')^(i&1)) ? 'A' : 'B';\n                }\n                ans += getBA(i);\n                break;\n            }\n        }\n        --k;\n        if (k == 0) {\n            fto(j, i+1, n-1) {\n                ans += ((s[j] == 'A')^(i&1)) ? 'B' : 'A';\n            }\n            ans += getBA(i+1);\n            break;\n        }\n    }\n \n    if (k > 0) {\n        ans += (n%2 == 1 && k%2 == 0) ? 'A' : 'B';\n        ans += getBA(n-1);\n    }\n    cout << ans;\n \n    return 0;\n}\n "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[700005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n\n    Read();\n    if(N == 1)\n    {\n        if(Str[1] == 'A')\n        {\n            if(K % 2 == 1)\n        cout << \"B\\n\";\n        else\n            cout << \"A\\n\";\n\n        }\n        else\n        {\n            if(K % 2 == 1)\n        cout << \"A\\n\";\n        else\n            cout << \"B\\n\";\n        }\n                return 0;\n    }\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nint main() {\n\tlong long N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvector<long long> V(N);\n\tfor (int i = 0; i < N; i++) V[i] = (S[i] - 'A' + i % 2) % 2;\n\tlong long COUNT = 0;\n\tfor (int i = 0; i < N; i++) {\n\t\tif (V[i] == 0) COUNT += 2;\n\t\telse COUNT++;\n\t\tif (K < COUNT) {\n\t\t\tif (V[i] == 0) COUNT -= 2;\n\t\t\telse COUNT--;\n\t\t\tstring ANS = \"\";\n\t\t\tfor (int j = i; j < N; j++) {\n\t\t\t\tANS += 'A' + (V[j] + (j - i) % 2) % 2;\n\t\t\t}\n\t\t\tif (K - COUNT == 1) ANS[0]++;\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tANS += 'A' + (i + j + 1) % 2;\n\t\t\t}\n\t\t\tcout << ANS << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tstring ANS = \"\";\n\tif (N % 2 == 0) {\n\t\tfor (int i = 0; i < N; i++) ANS += 'A' + (i + 1) % 2;\n\t}\n\telse {\n\t\tif (K % 2 == COUNT % 2) {\n\t\t\tfor (int i = 0; i < N; i++) ANS += 'A' + (i % 2);\n\t\t}\n\t\telse {\n\t\t\tANS += 'B';\n\t\t\tfor (int i = 1; i < N; i++) ANS += 'A' + (i % 2);\n\t\t}\n\t}\n\tcout << ANS << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#include <memory.h>\n#include <math.h>\n#include <assert.h>\n#include <queue>\n#include <map>\n#include <set>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <functional>\n#include <unordered_map>\n#include <unordered_set>\n#include <list>\n#include <bitset>\n\nusing namespace std;\ntypedef pair<int, int> Pi;\ntypedef long long ll;\n#define pii Pi\n#define pll PL\n#define Fi first\n#define Se second\n#define pb(x) push_back(x)\n#define sz(x) ((int)(x).size())\n#define rep(i, n) for(int i=0;i<n;i++)\n#define all(x) (x).begin(), (x).end()\ntypedef tuple<int, int, int> t3;\ntypedef pair<ll, ll> PL;\ntypedef long double ldouble;\n\nint N, K;\nchar S[1000020];\n\nvoid solve(){\n\tscanf(\"%d%d\", &N, &K);\n\tscanf(\"%s\", S+1);\n\tfor(int i=N+1;i<1000020;i++)S[i] = 'B';\n\tint sp = 1;\n\tif(K > 3 * N + 10){\n\t\tint t = 3 * N + 10;\n\t\tif((K&1) != (t&1))K = t + 1;\n\t\telse K = t;\n\t}\n\tint rev = 0;\n\tfor(int i=1;i<=K;i++){\n\t\tif((S[sp] == 'A') ^ rev){\n\t\t\tS[sp] = (S[sp] == 'A' ? 'B' : 'A');\n\t\t}\n\t\telse{\n\t\t\tif(rev) S[sp+N] = 'A';\n\t\t\t++sp; rev ^= 1;\n\t\t}\n\t}\n\tfor(int i=sp;i<sp+N;i++){\n\t\tif((S[i] == 'A') ^ rev)printf(\"A\");\n\t\telse printf(\"B\");\n\t}\n\tputs(\"\");\n}\n\nint main(){\n\tint Tc = 1; // scanf(\"%d\", &Tc);\n\tfor(int tc=1;tc<=Tc;tc++){\n\t\t//printf(\"Case #%d: \", tc);\n\t\tsolve();\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n \ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double lf;\ntypedef long double llf;\ntypedef std::pair<int,int> pii;\n \n#define xx first\n#define yy second\n \ntemplate<typename T> inline T max(T a,T b){return a>b?a:b;}\ntemplate<typename T> inline T min(T a,T b){return a<b?a:b;}\ntemplate<typename T> inline T abs(T a){return a>0?a:-a;}\ntemplate<typename T> inline bool repr(T &a,T b){return a<b?a=b,1:0;}\ntemplate<typename T> inline bool repl(T &a,T b){return a>b?a=b,1:0;}\ntemplate<typename T> inline T gcd(T a,T b){T t;if(a<b){while(a){t=a;a=b%a;b=t;}return b;}else{while(b){t=b;b=a%b;a=t;}return a;}}\ntemplate<typename T> inline T sqr(T x){return x*x;}\n#define mp(a,b) std::make_pair(a,b)\n#define pb push_back\n#define I inline\n#define mset(a,b) memset(a,b,sizeof(a))\n#define mcpy(a,b) memcpy(a,b,sizeof(a))\n \n#define fo0(i,n) for(int i=0,i##end=n;i<i##end;i++)\n#define fo1(i,n) for(int i=1,i##end=n;i<=i##end;i++)\n#define fo(i,a,b) for(int i=a,i##end=b;i<=i##end;i++)\n#define fd0(i,n) for(int i=(n)-1;~i;i--)\n#define fd1(i,n) for(int i=n;i;i--)\n#define fd(i,a,b) for(int i=a,i##end=b;i>=i##end;i--)\n#define foe(i,x)for(__typeof(x.end())i=x.begin();i!=x.end();++i)\n \nstruct Cg{I char operator()(){return getchar();}};\nstruct Cp{I void operator()(char x){putchar(x);}};\n#define OP operator\n#define RT return *this;\n#define RX x=0;char t=P();while((t<'0'||t>'9')&&t!='-')t=P();bool f=0;\\\nif(t=='-')t=P(),f=1;x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define RL if(t=='.'){lf u=0.1;for(t=P();t>='0'&&t<='9';t=P(),u*=0.1)x+=u*(t-'0');}if(f)x=-x\n#define RU x=0;char t=P();while(t<'0'||t>'9')t=P();x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define TR *this,x;return x;\nI bool IS(char x){return x==10||x==13||x==' ';}template<typename T>struct Fr{T P;I Fr&OP,(int &x)\n{RX;if(f)x=-x;RT}I OP int(){int x;TR}I Fr&OP,(ll &x){RX;if(f)x=-x;RT}I OP ll(){ll x;TR}I Fr&OP,(char &x)\n{for(x=P();IS(x);x=P());RT}I OP char(){char x;TR}I Fr&OP,(char *x){char t=P();for(;IS(t);t=P());if(~t){for(;!IS\n(t)&&~t;t=P())*x++=t;}*x++=0;RT}I Fr&OP,(lf &x){RX;RL;RT}I OP lf(){lf x;TR}I Fr&OP,(llf &x){RX;RL;RT}I OP llf()\n{llf x;TR}I Fr&OP,(uint &x){RU;RT}I OP uint(){uint x;TR}I Fr&OP,(ull &x){RU;RT}I OP ull(){ull x;TR}};Fr<Cg>in;\n#define WI(S) if(x){if(x<0)P('-'),x=-x;char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\n#define WL if(y){lf t=0.5;for(int i=y;i--;)t*=0.1;if(x>=0)x+=t;else x-=t,P('-');*this,(ll)(abs(x));P('.');if(x<0)\\\nx=-x;while(y--){x*=10;x-=floor(x*0.1)*10;P(((int)x)%10+'0');}}else if(x>=0)*this,(ll)(x+0.5);else *this,(ll)(x-0.5);\n#define WU(S) if(x){char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\ntemplate<typename T>struct Fw{T P;I Fw&OP,(int x){WI(10);RT}I Fw&OP()(int x){WI(10);RT}I Fw&OP,(uint x){WU(10);RT}\nI Fw&OP()(uint x){WU(10);RT}I Fw&OP,(ll x){WI(19);RT}I Fw&OP()(ll x){WI(19);RT}I Fw&OP,(ull x){WU(20);RT}I Fw&OP()\n(ull x){WU(20);RT}I Fw&OP,(char x){P(x);RT}I Fw&OP()(char x){P(x);RT}I Fw&OP,(const char *x){while(*x)P(*x++);RT}\nI Fw&OP()(const char *x){while(*x)P(*x++);RT}I Fw&OP()(lf x,int y){WL;RT}I Fw&OP()(llf x,int y){WL;RT}};Fw<Cp>out;\n\nconst int N=200007;\n\nchar _s[N*3],*s=_s;\nint n,m;\n\nint main()\n{\n\tin,n,m,s;\n\tfo0(i,n)s[i]-='A';\n\t/*fo0(d,m)\n\t{\n\t\tfor(int i=0,j=1;i>=0&&i<n;)\n\t\t{\n\t\t\ts[i]^=1;\n\t\t\tif(!s[i])i+=j;\n\t\t\telse i+=-j,j=-j;\n\t\t}\n\t\tfo0(j,n)if(s[j]^(j&1)^1)goto naive;\n\t\tbreak;naive:;\n\t\tfo0(i,n)out,char(s[i]+'A');out,'\\n';\n\t}*/\n\tchar u=0;\n\tfo0(d,m)\n\t{\n\t\tif(!(s[0]^u))\n\t\t{\n\t\t\ts[0]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\ts[n]=s[0];\n\t\ts++;\n\t\tu^=1;\n\t\tif(d>=n*2+2)break;\n\t}\n\tfo0(i,n)out,char((s[i]^u)+'A');out,'\\n';\n}"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define endl '\\n'\n#define lfs cout<<fixed<<setprecision(10)\n#define ALL(a)  (a).begin(),(a).end()\n#define ALLR(a)  (a).rbegin(),(a).rend()\n#define spa << \" \" <<\n#define fi first\n#define se second\n#define MP make_pair\n#define MT make_tuple\n#define PB push_back\n#define EB emplace_back\n#define rep(i,n,m) for(ll i = (n); i < (ll)(m); i++)\n#define rrep(i,n,m) for(ll i = (ll)(m) - 1; i >= (ll)(n); i--)\nusing ll = long long;\nusing ld = long double;\nconst ll MOD1 = 1e9+7;\nconst ll MOD9 = 998244353;\nconst ll INF = 1e18;\nusing P = pair<ll, ll>;\ntemplate<typename T1, typename T2>\nbool chmin(T1 &a,T2 b){if(a>b){a=b;return true;}else return false;}\ntemplate<typename T1, typename T2>\nbool chmax(T1 &a,T2 b){if(a<b){a=b;return true;}else return false;}\nll median(ll a,ll b, ll c){return a+b+c-max({a,b,c})-min({a,b,c});}\nvoid ans1(bool x){if(x) cout<<\"Yes\"<<endl;else cout<<\"No\"<<endl;}\nvoid ans2(bool x){if(x) cout<<\"YES\"<<endl;else cout<<\"NO\"<<endl;}\nvoid ans3(bool x){if(x) cout<<\"Yay!\"<<endl;else cout<<\":(\"<<endl;}\ntemplate<typename T1,typename T2>\nvoid ans(bool x,T1 y,T2 z){if(x)cout<<y<<endl;else cout<<z<<endl;}  \ntemplate<typename T>\nvoid debug(vector<vector<T>>&v,ll h,ll w){for(ll i=0;i<h;i++)\n{cout<<v[i][0];for(ll j=1;j<w;j++)cout spa v[i][j];cout<<endl;}};\nvoid debug(vector<string>&v,ll h,ll w){for(ll i=0;i<h;i++)\n{for(ll j=0;j<w;j++)cout<<v[i][j];cout<<endl;}};\ntemplate<typename T>\nvoid debug(vector<T>&v,ll n){if(n!=0)cout<<v[0];\nfor(ll i=1;i<n;i++)cout spa v[i];cout<<endl;};\ntemplate<typename T>\nvector<vector<T>>vec(ll x, ll y, T w){\n  vector<vector<T>>v(x,vector<T>(y,w));return v;}\nll gcd(ll x,ll y){ll r;while(y!=0&&(r=x%y)!=0){x=y;y=r;}return y==0?x:y;}\nvector<ll>dx={1,-1,0,0,1,1,-1,-1};\nvector<ll>dy={0,0,1,-1,1,-1,1,-1};\ntemplate<typename T>\nvector<T> make_v(size_t a,T b){return vector<T>(a,b);}\ntemplate<typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v(ts...))>(a,make_v(ts...));\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const pair<T1, T2>&p){\n  return os << p.first << \" \" << p.second;\n}\n//mt19937 mt(chrono::steady_clock::now().time_since_epoch().count());\n\nint main(){\n  cin.tie(nullptr);\n  ios_base::sync_with_stdio(false);\n  ll res=0,buf=0;\n  bool judge = true;\n  ll n,k;cin>>n>>k;\n  string s;cin>>s;\n  vector<ll>v(n);\n  rep(i,0,n)v[i]=s[i]-'A';\n  rep(i,n,2*n+2)v.PB(~(i-n)&1);\n  ll num=0;//先頭Bで操作を行う(右から出る)回数\n  ll now=0;//操作回数\n  bool top=v[0];\n  while(now<k&&num<n){\n    now++;\n    if(top){\n      num++;\n      top=v[num]^(num&1);\n    }\n    else{\n      top=true;\n    }\n  }\n  //cout<<now spa top<<endl;\n  vector<ll>ret(n);\n  rep(i,0,n){\n    ret[i]=v[i+num]^(num&1);\n  }\n  ret[0]=top;\n  if(n==1)ret[0]=(k&1)^v[0];\n  rep(i,0,n)if(ret[i])cout<<\"B\";else cout<<\"A\";\n  cout<<endl;\n  //debug(ret,n);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k, km; rd(n, k);\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1, cnt = 0; i <= k, cnt <= n; ++i, ++cnt, --km) {\n\t\tif(a[st] == inv) a[st] ^= 1;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tif(n % 2 == 0) {\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t} else {\n\t\tprintf(\"%c\", (a[st] ^ inv ^ (km & 1)) + 'A');\n\t\tfor(int i = 2; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/* be name khoda */\n\n// #define stream_enable\n// #define long_enable\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <numeric>\n#include <iomanip>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\nusing namespace std;\n\n#ifdef stream_enable\n#define cin sss\n#endif\n#ifdef long_enable\ntypedef long long int ll;\n#else\ntypedef int ll;\n#endif\n\ntypedef pair<ll, ll> pii;\ntypedef pair<pii, ll> ppi;\ntypedef pair<ll, pii> pip;\ntypedef vector<ll> vi;\ntypedef vector<pii> vpii;\n\nconst ll MOD = 1000000007;\nconst long long BIG = 1446803456761533460;\nconst int Big = 336860180;\n\n#define F first\n#define S second\n#define pb push_back\n#define eb emplace_back\n#define all(x) (x).begin(), (x).end()\n\n#define debug(x) cout << #x << \" -> \" << (x) << endl\n#define debug2(x, y) cout << #x << ' ' << #y << \" -> \" << (x) << ' ' << (y) << endl\n#define debug3(x, y, z) cout << #x << ' ' << #y << ' ' << #z << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << endl\n#define debug4(x, y, z, t) cout << #x << ' ' << #y << ' ' << #z << ' ' << #t << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << ' ' << (t) << endl\n#define debugp(x) cout << #x << \" -> \" << \"(\" << (x).F << \", \" << (x).S << \")\" << endl\n#define debuga(x, n) cout << #x << \" -> \"; fori (i1_da, n) { cout << (x)[i1_da] << ' '; } cout << endl\n#define debugap(x, n) cout << #x << \" ->\\n\"; fori (i1_dap, n) { cout << \"(\" << (x)[i1_dap].F << \", \" << (x)[i1_dap].S << \")\\n\"; } cout << endl\n#define debugaa(x, n, m) cout << #x << \" ->\\n\"; fori (i1_daa, n) { fori (i2_daa, m) { cout << (x)[i1_daa][i2_daa] << ' '; } cout << '\\n'; } cout << endl\n#define debugav(x, n) cout << #x << \" ->\\n\"; fori (i1_dav, n) { fori (i2_dav, (x)[i1_dav].size()) { cout << (x)[i1_dav][i2_dav] << ' '; } cout << '\\n'; } cout << endl\n#define debugia(x, n) cout << #x << \" ->\\n\"; fori (i1_dia, n) { cout << i1_dia << \" : \" << (x)[i1_dia] << '\\n'; } cout << endl\n\n#define forifrom(i, s, n) for(ll i = (s); i < (n); ++i)\n#define forirto(i, n, e) for(ll i = (n) - 1; i >= (e); --i)\n#define fori(i, n) forifrom (i, 0, n)\n#define forir(i, n) forirto (i, n, 0)\n\n#define smin(a, b) a = min(a, (b))\n#define smax(a, b) a = max(a, (b))\n\n#define Add(a, b) a = ((a) + (b)) % MOD\n#define Mul(a, b) a = (1LL * (a) * (b)) % MOD\n\nstringstream sss;\n\n// -----------------------------------------------------------------------\n\nconst ll maxn = 200010;\n\nll n, k;\nll S[maxn];\n\nvoid MAIN() {\n\n    cin >> n >> k;\n    smin(k, n * 2 + 10);\n    fori (i, n) {\n        char c; cin >> c;\n        S[i] = c == 'A';\n    }\n    ll I = 0, R = 0;\n    fori (i, k) {\n        if (S[R] ^ I) S[R] ^= 1;\n        else I ^= 1, R = (R + 1) % n;\n    }\n    fori (i, n) cout << ((S[(i + R) % n] ^ I) ? 'A' : 'B');\n    cout << '\\n';\n\n}\n\n// -----------------------------------------------------------------------\n\nint main() {\n    ios_base::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n    cout << fixed << setprecision(10);\n    sss << R\"(\n5 2\nABAAA\n    )\";\n    MAIN();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "/*{{{*/\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<string>\n#include<iostream>\n#include<sstream>\n#include<set>\n#include<map>\n#include<queue>\n#include<bitset>\n#include<vector>\n#include<limits.h>\n#include<assert.h>\n#define SZ(X) ((int)(X).size())\n#define ALL(X) (X).begin(), (X).end()\n#define REP(I, N) for (int I = 0; I < (N); ++I)\n#define REPP(I, A, B) for (int I = (A); I < (B); ++I)\n#define FOR(I, A, B) for (int I = (A); I <= (B); ++I)\n#define FORS(I, S) for (int I = 0; S[I]; ++I)\n#define RS(X) scanf(\"%s\", (X))\n#define SORT_UNIQUE(c) (sort(c.begin(),c.end()), c.resize(distance(c.begin(),unique(c.begin(),c.end()))))\n#define GET_POS(c,x) (lower_bound(c.begin(),c.end(),x)-c.begin())\n#define CASET int ___T; scanf(\"%d\", &___T); for(int cs=1;cs<=___T;cs++)\n#define MP make_pair\n#define PB push_back\n#define MS0(X) memset((X), 0, sizeof((X)))\n#define MS1(X) memset((X), -1, sizeof((X)))\n#define LEN(X) strlen(X)\n#define F first\n#define S second\nusing namespace std;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef long double LD;\ntypedef pair<int,int> PII;\ntypedef vector<int> VI;\ntypedef vector<LL> VL;\ntypedef vector<PII> VPII;\ntypedef pair<LL,LL> PLL;\ntypedef vector<PLL> VPLL;\ntemplate<class T> void _R(T &x) { cin >> x; }\nvoid _R(int &x) { scanf(\"%d\", &x); }\nvoid _R(LL &x) { scanf(\"%lld\", &x); }\nvoid _R(double &x) { scanf(\"%lf\", &x); }\nvoid _R(char &x) { scanf(\" %c\", &x); }\nvoid _R(char *x) { scanf(\"%s\", x); }\nvoid R() {}\ntemplate<class T, class... U> void R(T &head, U &... tail) { _R(head); R(tail...); }\ntemplate<class T> void _W(const T &x) { cout << x; }\nvoid _W(const int &x) { printf(\"%d\", x); }\nvoid _W(const LL &x) { printf(\"%lld\", x); }\nvoid _W(const double &x) { printf(\"%.16f\", x); }\nvoid _W(const char &x) { putchar(x); }\nvoid _W(const char *x) { printf(\"%s\", x); }\ntemplate<class T,class U> void _W(const pair<T,U> &x) {_W(x.F); putchar(' '); _W(x.S);}\ntemplate<class T> void _W(const vector<T> &x) { for (auto i = x.begin(); i != x.end(); _W(*i++)) if (i != x.cbegin()) putchar(' '); }\nvoid W() {}\ntemplate<class T, class... U> void W(const T &head, const U &... tail) { _W(head); putchar(sizeof...(tail) ? ' ' : '\\n'); W(tail...); }\n#ifdef HOME\n #define DEBUG(...) {printf(\"# \");printf(__VA_ARGS__);puts(\"\");}\n#else\n #define DEBUG(...)\n#endif\nint MOD = 1e9+7;\nvoid ADD(LL& x,LL v){x=(x+v)%MOD;if(x<0)x+=MOD;}\n/*}}}*/\nconst int SIZE = 1e6+10;\nchar s[SIZE];\nvoid ch(int x){\n    if(s[x]=='A')s[x]='B';\n    else s[x]='A';\n}\nint main(){\n    int N,K;\n    R(N,K);\n    RS(s+1);\n    int st=1;\n    while(1){\n        if(!K)break;\n        if(st==N)break;\n        K--;\n        if(s[st]-'A'==(st-1)%2)ch(st);\n        else st++;\n    }\n    FOR(i,1,N){\n        if(st+i-1<=N){\n            s[i]=s[st+i-1];\n            if((st-1)%2)ch(i);\n        }\n        else {\n            s[i]='A'+(N-i)%2;\n        }\n    }\n    REP(i,10){\n        if(K){\n            K--;\n            int now=1;\n            int dir=1;\n            while(now>=1&&now<=N){\n                if(s[now]=='A')dir=-dir;\n                ch(now);\n                now+=dir;\n            }\n        }\n    }\n    if(K%2&&N%2){\n        ch(1);\n    }\n    W(s+1);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "/**\n * code generated by JHelper\n * More info: https://github.com/AlexeyDmitriev/JHelper\n * @author majk\n */\n\n#ifndef MAJK_LIB\n#define MAJK_LIB\n\n#include <vector>\n#include <stack>\n#include <iostream>\n#include <unordered_map>\n#include <unordered_set>\n#include <map>\n#include <iomanip>\n#include <set>\n#include <functional>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <queue>\n#include <array>\n#include <bitset>\nusing namespace std;\n\n#define x first\n#define y second\ntypedef std::pair<int,int> pii; typedef long long ll; typedef unsigned long long ull; typedef unsigned int ui; typedef pair<ui,ui> puu;\n\ntemplate <typename T, typename U> std::istream&operator>>(std::istream&i, pair<T,U>&p) {i >> p.x >> p.y; return i;}\ntemplate<typename T>std::istream&operator>>(std::istream&i,vector<T>&t) {for(auto&v:t){i>>v;}return i;}\ntemplate <typename T, typename U> std::ostream&operator<<(std::ostream&o, const pair<T,U>&p) {o << p.x << ' ' << p.y; return o;}\ntemplate<typename T>std::ostream&operator<<(std::ostream&o,const vector<T>&t) {if(t.empty())o<<'\\n';for(size_t i=0;i<t.size();++i){o<<t[i]<<\" \\n\"[i == t.size()-1];}return o;}\ntemplate<typename T> using minheap = priority_queue<T, vector<T>, greater<T>>;\ntemplate<typename T> using maxheap = priority_queue<T, vector<T>, less<T>>;\ntemplate <typename T> bool in(T a, T b, T c) { return a <= b && b < c; }\nui logceil(ll x) { return x?8*sizeof(ll)-__builtin_clzll(x):0; }\n\nnamespace std { template<typename T,typename U>struct hash<pair<T,U>>{hash<T>t;hash<U>u;size_t operator()(const pair<T,U>&p)const{return t(p.x)^(u(p.y)<<7);}}; }\ntemplate<typename T,typename F>T bsh(T l,T h,const F&f){T r=-1,m;while(l<=h){m=(l+h)/2;if(f(m)){l=m+1;r=m;}else{h=m-1;}}return r;}\ntemplate<typename F> double bshd(double l,double h,const F&f,double p=1e-9){ui r=3+(ui)log2((h-l)/p);while(r--){double m=(l+h)/2;if(f(m)){l=m;}else{h=m;}}return (l+h)/2;}\ntemplate<typename T,typename F>T bsl(T l,T h,const F&f){T r=-1,m;while(l<=h){m=(l+h)/2;if(f(m)){h=m-1;r=m;}else{l=m+1;}}return r;}\ntemplate<typename F> double bsld(double l,double h,const F&f,double p=1e-9){ui r=3+(ui)log2((h-l)/p);while(r--){double m=(l+h)/2;if(f(m)){h=m;}else{l=m;}}return (l+h)/2;}\ntemplate<typename T> T gcd(T a,T b) { if (a<b) swap(a,b); return b?gcd(b,a%b):a; }\n\ntemplate<typename T>class vector2:public vector<vector<T>>{public:vector2(){} vector2(size_t a,size_t b,T t=T()):vector<vector<T>>(a,vector<T>(b,t)){}};\ntemplate<typename T>class vector3:public vector<vector2<T>>{public:vector3(){} vector3(size_t a,size_t b,size_t c,T t=T()):vector<vector2<T>>(a,vector2<T>(b,c,t)){}};\ntemplate<typename T>class vector4:public vector<vector3<T>>{public:vector4(){} vector4(size_t a,size_t b,size_t c,size_t d,T t=T()):vector<vector3<T>>(a,vector3<T>(b,c,d,t)){}};\ntemplate<typename T>class vector5:public vector<vector4<T>>{public:vector5(){} vector5(size_t a,size_t b,size_t c,size_t d,size_t e,T t=T()):vector<vector4<T>>(a,vector4<T>(b,c,d,e,t)){}};\n\n\n#endif\n// #include \"../l/mod.h\"\n\nclass DHalfReflector {\npublic:\n    void solve(istream& cin, ostream& cout) {\n        int N, K; cin >> N >> K;\n        string S; cin >> S;\n        if (N == 1) {\n            if (K % 2 == 0) cout << S << endl;\n            else cout << \"AB\"[S[0] == 'A'] << endl;\n            return;\n        }\n\n\n        deque<int> W;\n        for (int i = 0; i < N; ++i) {\n            if (i > 0 && S[i-1] == S[i]) W.back()++;\n            else W.push_back(1);\n        }\n        bool firstA = S[0] == 'A';\n        int R = W.size();\n        for (int i = 0; i < K; ++i) {\n            if (R == N && !firstA) break;\n\n            if (firstA) {\n                if (W.front() == 1) {\n                    --R;\n                    W.pop_front();\n                    W.front()++;\n                    firstA = false;\n                } else {\n                    ++R;\n                    W.front()--;\n                    W.push_front(1);\n                    firstA = false;\n                }\n            } else {\n                if (W.front() == 1) {\n                    W.pop_front(); --R;\n                    if (W.size()%2==0) W.back()++;\n                    else { ++R; W.push_back(1); }\n                } else {\n                    W.front()--;\n                    firstA = true;\n                    if (W.size()%2==1) W.back()++;\n                    else { W.push_back(1); ++R; }\n                }\n            }\n        }\n\n        stringstream ss;\n        while (!W.empty()) {\n            ss << string(W.front(), \"BA\"[firstA]);\n            W.pop_front();\n            firstA = !firstA;\n        }\n        cout << ss.str() << '\\n';\n\n//        for (int i = 0; i < K; ++i) {\n//            int j = 0; int left = 1;\n//            while (in(0, j, N)) {\n//                bool straight = S[j] == 'B';\n//                S[j] = \"BA\"[straight];\n//                if (straight) j += left;\n//                else { j -= left; left = -left; }\n//            }\n//        }\n//        cout << S << '\\n';\n    }\n};\n\n\nint main() {\n\tios_base::sync_with_stdio(false); cin.tie(nullptr); cout.tie(nullptr);\n\tDHalfReflector solver;\n\tstd::istream& in(std::cin);\n\tstd::ostream& out(std::cout);\n\tsolver.solve(in, out);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define INF 1000000005\n#define MOD 1000000007\n#define EPS 1e-10\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\n#define rrep(i,n) for(int i=(int)(n)-1;i>=0;--i)\n#define srep(i,s,t) for(int i=(int)(s);i<(int)(t);++i)\n#define each(a,b) for(auto (a): (b))\n#define all(v) (v).begin(),(v).end()\n#define len(v) (int)(v).size()\n#define zip(v) sort(all(v)),v.erase(unique(all(v)),v.end())\n#define cmx(x,y) x=max(x,y)\n#define cmn(x,y) x=min(x,y)\n#define fi first\n#define se second\n#define pb push_back\n#define show(x) cout<<#x<<\" = \"<<(x)<<endl\n#define spair(p) cout<<#p<<\": \"<<p.fi<<\" \"<<p.se<<endl\n#define svec(v) cout<<#v<<\":\";rep(kbrni,v.size())cout<<\" \"<<v[kbrni];cout<<endl\n#define sset(s) cout<<#s<<\":\";each(kbrni,s)cout<<\" \"<<kbrni;cout<<endl\n#define smap(m) cout<<#m<<\":\";each(kbrni,m)cout<<\" {\"<<kbrni.first<<\":\"<<kbrni.second<<\"}\";cout<<endl\n\nusing namespace std;\n\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<double> vd;\ntypedef vector<P> vp;\ntypedef vector<string> vs;\n\nconst int MAX_N = 100005;\n\ndeque<int> deq;\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n,K;\n    cin >> n >> K;\n    string s;\n    cin >> s;\n    rep(i,n){\n        if(s[i] == 'A'){\n            deq.pb(0);\n        }else{\n            deq.pb(1);\n        }\n    }\n    int cnt = min(4*n+K%2,K);\n    int flip = 0;\n    rep(i,cnt){\n        if(deq[0] == flip % 2){\n            deq[0] ^= 1;\n        }else{\n            flip++;\n            deq.pop_front();\n            deq.pb(flip % 2);\n        }\n    }\n    rep(j,n){\n        if(deq[j] == flip % 2){\n            cout << 'A';\n        }else{\n            cout << 'B';\n        }\n    }\n    cout << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+1) k=k%2?(n*2+2):(n*2+1);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mo 1000000007\n#define pi 3.1415926535898 \nusing namespace std;\nlong long read(){\n    long long xx=0,flagg=1;\n    char ch=getchar();\n    while((ch<'0'||ch>'9')&&ch!='-')\n        ch=getchar();\n    if(ch=='-'){\n        flagg=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9'){\n        xx=xx*10+ch-'0';\n        ch=getchar();\n    }\n    return xx*flagg;\n}\nvoid pus(long long xx,long long flagg){\n    if(xx<0){\n        putchar('-');\n        xx=-xx;\n    }\n    if(xx>=10)\n        pus(xx/10,0);\n    putchar(xx%10+'0');\n    if(flagg==1)\n        putchar(' ');\n    if(flagg==2)\n        putchar('\\n');\n    return;\n}\nlong long ksm(long long u,long long v){\n\tlong long o=1;\n\twhile(v){\n\t\tif(v&1)\n\t\t\to=o*u%mo;\n\t\tu=u*u%mo;\n\t\tv>>=1;\n\t}\n\treturn o;\n}\nint n,k,i,sum;\nbool a[100005],flag;\nchar s[100005];\nint main(){\n    //freopen(\".in\",\"r\",stdin);\n    //freopen(\".out\",\"w\",stdout);\n   \tn=read();k=read();\n   \tscanf(\"%s\",s);\n   \tfor(i=0;i<n;i++)\n   \t\tif(s[i]=='A')\n   \t\t\ta[i]=0;\n   \t\telse\n   \t\t\ta[i]=1;\n   \twhile(k--){\n\t\tif((a[sum]^flag)==0)\n\t\t\ta[sum]^=1;\n\t\telse{\n\t\t\tsum++;\n\t\t\tflag^=1;\n\t\t\tsum=(sum>=n?sum-n:sum);\n\t\t}\n\t}\n\tfor(i=sum;i<n;i++)\n\t\tif((a[i]^flag)==0)\n\t\t\tputchar('A');\n\t\telse\n\t\t\tputchar('B');\n\tfor(i=0;i<sum;i++)\n\t\tif((a[i]^flag)==0)\n\t\t\tputchar('A');\n\t\telse\n\t\t\tputchar('B');\n\tcout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll unsigned long long\nusing namespace std;\nconst int N=1e6;\nint n,k,a[N],z[2]={1,-1},laz;\nchar s[N];\nint main(){\n    cin>>n>>k>>s;\n    for (int i=0; i<n; ++i)\n\ta[i+1]=s[i]-'A';\n    int l=1,r=n,cnt=0;\n    while(k&&cnt<2*n){\n\t--k,++cnt;\n\tif (a[l]==laz)\n\t    a[l]^=1;\n\telse\n\t    ++l,++r,laz^=1,a[r]=laz;\n    }\n    if (k&1)\n\tif (a[l]==laz)\n\t    a[l]^=1;\n\telse\n\t    ++l,++r,laz^=1,a[r]=laz;\n    for (int j=l; j<=r; ++j) putchar('A'+(a[j]^laz));\n    putchar('\\n');\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <algorithm>\n#include <deque>\n#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nconstexpr static int MAXN = 1e6;\n\nint n, k;\nstring s;\n\nint main() {\n    cin >> n >> k >> s;\n\n    if (n == 1) {\n        cout << ('A' + (s[0] - 'A' + k) % 2) << endl;\n        return 0;\n    }\n\n    deque <int> d;\n    for (int i = 0; i < n;) {\n        int j = i;\n        while (j < n && s[j] == s[i])\n            j++;\n        d.push_back(j - i);\n        i = j;\n    }\n\n    bool isA = (s[0] == 'A');\n    for (int i = 0; i < k; i++) {\n        /*\n        cout << (isA ? 'A' : 'B');\n        for (int len : d)\n            cout << \" \" << len;\n        cout << endl;\n        */\n        if (isA) {\n            if (d.front() > 1) {\n                // AA... -> BA...\n                d.front()--;\n                d.push_front(1);\n            }\n            else {\n                // AB... -> BB...\n                d.pop_front();\n                d.front()++;\n            }\n            isA = false;\n        }\n        else {\n            // B^m A^n ... -> A^{m-1} B^n ... A\n            d.front()--;\n            if (d.size() % 2 == 0)\n                d.push_back(1);\n            else\n                d.back()++;\n\n            if (d.front() == 0)\n                d.pop_front();\n            else\n                isA = true;\n        }\n    }\n\n    int add = (isA ? 0 : 1);\n    for (int len : d) {\n        cout << string(len, 'A' + add);\n        add = 1 - add;\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tint n, k; string s; cin >> n >> k >> s;\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif(q[0] == r){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 29 - 2;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, k, num[600007], p = 1, r;\nchar s[200007];\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tfor (int i = 1; i <= n; i++)\n\t\tnum[i] = (s[i] == 'A');\n\tfor (int i = 1; i <= min(2 * n, k); i++)\n\t{\n\t\tint f = (num[p] ^ r);\n\t\tif (f == 1)num[p] ^= 1;\n\t\telse num[p + n] = r, r ^= 1, p++;\n\t}\n\tfor (int i = 1; i <= n; i++)\n\t\tnum[p + i - 1] ^= r;\n\tif (k <= 2 * n)\n\t{\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tputchar('B' - num[p + i - 1]);\n\t\tputchar('\\n');\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tif (n % 2 == 1 && k % 2 == 1)num[p] ^= 1;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tputchar('B' - num[p + i - 1]);\n\t\tputchar('\\n');\n\t\treturn 0;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#define MAXN 200010\nint n, k, p, a[MAXN];\nchar buf[MAXN];\nstd::deque<int> Q;\nint main() {\n\tscanf(\"%d%d%s\", &n, &k, buf + 1);\n\tfor (int i = 1; i <= n; i++) Q.push_back(buf[i] == 'B');\n\tfor (int i = 1; i <= 2 * n; i++) {\n\t\tif (Q.front() ^ p) {\n\t\t\tQ.pop_front();\n\t\t\tp ^= 1;\n\t\t\tQ.push_back(p);\n\t\t} else {\n\t\t\tQ.pop_front();\n\t\t\tQ.push_front(p ^ 1);\n\t\t}\n\t\tif (i == k) {\n\t\t\tfor (int j = 1; j <= n; j++) printf(\"%c\", (Q[j - 1] ^ p) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tk -= 2 * n - 1;\n\tfor (int j = 1; j <= n; j++) printf(\"%c\", (Q[j - 1] ^ p ^ ((k & 1) * (n & 1))) + 'A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N=200005;\nint n,k,a[N];\nchar s[N];\nint main(){\n\tcin >> n >> k >> s+1;\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=s[i]-'A';\n\tint t=0,h=1;\n\twhile (k--){\n\t\tif (!(a[h]^t)){\n\t\t\ta[h]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!((a[h+1]^t)&1))\n\t\t\ta[h]^=1;\n\t\tt^=1,h++;\n\t\tif (h==n)\n\t\t\tbreak;\n\t}\n\tif (k>0&&(n&1))\n\t\ta[h]^=k&1;\n\telse if (k>0)\n\t\th++;\n\tfor (int i=h;i<=n;i++)\n\t\tputchar('A'+(a[i]^t));\n\tfor (int i=n-h+2;i<=n;i++)\n\t\tputchar('A'+((n-i)&1));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#define N 110000\nusing namespace std;\nint n,k,num,root;\nchar s[N];\nstruct node{\n\tint l,r,rnd,sz,flag,val;\n}tree[N*10];\ninline int newnode(){\n\ttree[++num].rnd=rand();\n\treturn num;\n}\ninline void update(int p){\n\ttree[p].sz=tree[tree[p].l].sz+tree[tree[p].r].sz+1;\n}\nvoid build(int &p,int l,int r){\n\tif(l>r) return ;\n\tp=newnode();\n\ttree[p].val=(s[l]=='A'?0:1);\n\ttree[p].sz=1;\n\tint mid=(l+r)/2;\n\tbuild(tree[p].l,l,mid-1);\n\tbuild(tree[p].r,mid+1,r);\n\tupdate(p);\n}\ninline void pushdown(int p){\n\tif(!tree[p].flag) return ;\n\ttree[tree[p].l].val^=1;\n\ttree[tree[p].r].val^=1;\n\ttree[tree[p].l].flag^=1;\n\ttree[tree[p].r].flag^=1;\n\ttree[p].flag=0;\n}\nvoid split(int now,int k,int &x,int &y){\n\tif(!now){x=y=0;return ;}\n//\tprintf(\"%d:%dssd\\n\",now,tree[now].val);\n\tpushdown(now);\n\tif(tree[tree[now].l].sz<k) x=now,split(tree[now].r,k-tree[tree[now].l].sz-1,tree[now].r,y);\n\telse y=now,split(tree[now].l,k,x,tree[now].l);\n\tupdate(now);\n}\nint merge(int a,int b){\n\tif(!a or !b) return a+b;\n\tpushdown(a);pushdown(b);\n\tif(tree[a].rnd<tree[b].rnd){\n\t\ttree[a].r=merge(tree[a].r,b);\n\t\tupdate(a);return a;\n\t}\n\telse{\n\t\ttree[b].l=merge(a,tree[b].l);\n\t\tupdate(b);return b;\n\t}\n}\nint qu(){\n\tint x1,y1;\n\tsplit(root,1,x1,y1);\n\tint yu=tree[x1].val;\n\troot=merge(x1,y1);\n\treturn yu;\n}\nvoid print(int p){\n\tif(!p) return ;\n\tprint(tree[p].l);\n\tprintf(\"%c\",(tree[p].val==0?'A':'B'));\n\tprint(tree[p].r);\n}\nint main(){\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tif(n==1){\n\t\tif(k%2==0) printf(\"%c\",s[1]);\n\t\telse printf(\"%c\",s[1]=='A'?'B':'A');\n\t\treturn 0;\n\t}\n\tif(k<=3*n){\n\t\tbuild(root,1,n);\n\t\tfor(int i=1;i<=k;++i){\n\t\t\tif(qu()){\n\t\t\t\tint x1,y1;\n\t\t\t\ttree[root].val^=1;\n\t\t\t\ttree[root].flag^=1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\troot=merge(y1,x1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint x1,y1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\ttree[x1].val^=1;\n\t\t\t\troot=merge(x1,y1);\n\t\t\t}\n\t\t}\n\t\tprint(root);\n\t}\n\telse{\n\t\tif(n%2==0){\n\t\t\tfor(int i=1;i<=n;i+=2)\n\t\t\t\tprintf(\"BA\");\n\t\t}\n\t\telse{\n\t\t\tif(k%2==0){\n\t\t\t\tprintf(\"%c\",s[1]='A');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t\telse{\n\t\t\t\tprintf(\"BB\");\n\t\t\t\ts[2]='B';\n\t\t\t\tfor(int i=3;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tint n, k; string s; cin >> n >> k >> s;\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif(q[0] == r){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 29 - 2;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>600000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==0){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  int index = 0;\n  int c = 0;\n  rep(i,0,k){\n    if(c==0){\n      if(s[index]=='A'){\n        s[index]='B';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'B';\n      }\n    }\n    else{\n      if(s[index]=='B'){\n        s[index]='A';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'A';\n      }\n    }\n  }\n  string ans;\n  rep(i,0,n){\n    if(c==0){\n      ans += s[(index+i)%n];\n    }\n    else{\n      if(s[(index+i)%n]=='A'){\n        ans += \"B\";\n      }\n      else{\n        ans += \"A\";\n      }\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\n#include<complex>\n#include<bitset>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int ui;\nconst ll MOD = 998244353;\nconst ll INF = (ll)1000000007 * 1000000007;\ntypedef pair<int, int> P;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define per(i,n) for(int i=n-1;i>=0;i--)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define per1(i,n) for(int i=n;i>=1;i--)\n#define Rep1(i,sta,n) for(int i=sta;i<=n;i++)\ntypedef long double ld;\ntypedef complex<ld> Point;\nconst ld eps = 1e-11;\nconst ld pi = acos(-1.0);\ntypedef pair<ll, ll> LP;\ntypedef pair<ld, ld> LDP;\nint main() {\n\tint n; ll k; cin >> n >> k;\n\tstring s; cin >> s;\n\tqueue<char> q;\n\trep(i, n) {\n\t\tq.push(s[i]);\n\t}\n\tbool f = false;\n\trep(i, 2 * n + 2) {\n\t\tif (i == k) {\n\t\t\trep(i, n) {\n\t\t\t\tchar t = q.front(); q.pop();\n\t\t\t\tif (f) {\n\t\t\t\t\tif (t == 'A')t = 'B';\n\t\t\t\t\telse t = 'A';\n\t\t\t\t}\n\t\t\t\tcout << t;\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\tbreak;\n\t\t}\n\t\tchar t = q.front();\n\t\tif (!f&&t == 'A') {\n\t\t\tq.front() = 'B';\n\t\t}\n\t\telse if (f&&t == 'B')q.front() = 'A';\n\t\telse if (!f&&t == 'B') {\n\t\t\tf = !f; q.pop(); q.push('B');\n\t\t}\n\t\telse {\n\t\t\tf = !f; q.pop(); q.push('A');\n\t\t}\n\t}\n\tif (k >= 2 * n + 2) {\n\t\tstring out;\n\t\twhile (!q.empty()) {\n\t\t\tchar t = q.front(); q.pop();\n\t\t\tif (f) {\n\t\t\t\tif (t == 'A')t = 'B';\n\t\t\t\telse t = 'A';\n\t\t\t}\n\t\t\tout.push_back(t);\n\t\t}\n\t\tif (k % 2) {\n\t\t\trep(i, n-1) {\n\t\t\t\tout[i] = 'A' + ('B' - out[i + 1]);\n\t\t\t}\n\t\t\tout[n - 1] = 'A';\n\t\t}\n\t\tcout << out << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\n\nint n, k, p;\nstring s;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tcin >> s;\n\tif (k > n << 1)\n\t\tk = (n << 1) + ((k - (n << 1)) & 1);\n\n\tchar ch = 'A';\n\tfor (int i = 1; i <= k; i++) {\n\t\tif (s[p] == ch) {\n\t\t\ts[p] = 'A' + 'B' - ch;\n\t\t} else {\n\t\t\tch = 'A' + 'B' - ch;\n\t\t\tp = (p + 1) % n;\n\t\t}\n\t}\n\n\tfor (int i = p; i < n; i++) {\n\t\tif (s[i] == ch)\n\t\t\tprintf(\"A\");\n\t\telse\n\t\t\tprintf(\"B\");\n\t}\n\tfor (int i = 0; i < p; i++) {\n\t\tif (s[i] == ch)\n\t\t\tprintf(\"A\");\n\t\telse\n\t\t\tprintf(\"B\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nchar s[200007];\nint ans[200007];\nint main(){\n    int n,k;\n    int i=0,j=0,l=0;\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(i=1;i<=n;i++)\n        if(s[i]=='A')\n            ans[i]=1;\n    int tmp=0;\n    for(i=1,j=1;i<=k&&j<=n;i++){\n        if(ans[j]^tmp){//如果这一位经历异或之后变为了1需要再变一次把它变成0，因为这一位终将变成相当于这一步的开头第一位\n            ans[j]^=1;//将它变成0\n            continue;\n        }\n        tmp^=1;//变化异或标记\n        j++;//进入下一位\n    }\n    if(i>=k+1){//k太小以至于前面还有剩余没有变为最终形态\n        for(l=j;l<=n;l++)\n            if(ans[l]^tmp)\n                printf(\"A\");\n            else\n                printf(\"B\");\n        for(l=n+1;l<=n+j-1;l++)\n            if((n+j-l)&1)\n                printf(\"A\");\n            else\n                printf(\"B\");\n    }\n    else{\n        if(n&1){\n            if((k-i+2)&1)\n                printf(\"A\");\n            else\n                printf(\"B\");\n            for(l=2;l<=n;l++)\n                if(l&1)\n                    printf(\"A\");\n                else\n                    printf(\"B\");\n        }\n        else\n            for(l=1;l<=n;l++)\n                if((l+1)&1)\n                    printf(\"A\");\n                else\n                    printf(\"B\");\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\nusing namespace std;\nint n,m,a[200005];\nchar s[200005];\nvoid solve(){\n\tchar G='A'+'B';int pos=1,op=0;\n\tfor(int i=1,o=m;i<=o&&pos<=n;i++){\n\t\tif(!(a[pos]^op)) a[pos]^=1;\n\t\telse pos++,op^=1;\n\t\tm--;\n\t}\n\tif(pos<=n){\n\t\tfor(int i=1;i<=n-pos+1;i++) a[i]=a[i+pos-1]^op;\n\t\tfor(int i=n,now=0;i>n-pos+1;i--,now^=1) a[i]=now;\n\t\treturn; \n\t}\n\tfor(int i=n,now=0;i;i--,now^=1) a[i]=now;\n\tif(m&1) a[1]=1;\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++) a[i]=s[i]-'A';\n\tsolve();\n\tfor(int i=1;i<=n;i++) putchar(a[i]+'A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/**\n *    author:  tourist\n *    created: 22.01.2020 00:30:57       \n**/\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  vector<int> b(n);\n  for (int i = 0; i < n; i++) {\n    b[i] = (s[i] == 'A');\n  }\n  int ptr = 0;\n  int flip = 0;\n  for (int i = 0; i < k; i++) {\n    if (b[ptr] ^ flip) {\n      b[ptr] ^= 1;\n    } else {\n      flip ^= 1;\n      ptr += 1;\n      if (ptr == n) ptr = 0;\n    }\n  }\n  for (int i = 0; i < n; i++) {\n    cout << ((b[(ptr + i) % n] ^ flip) ? 'A' : 'B');\n  }\n  cout << '\\n';\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>//AGC011D\nnamespace my_std{\n\tusing namespace std;\n\t#define reg register\n\t#define Rint register int\n\t#define FOR(i,a,b) for(register int i=(a),ed_##i=(b);i<=ed_##i;++i)\n\t#define ROF(i,a,b) for(register int i=(a),ed_##i=(b);i>=ed_##i;--i)\n\t#define FORit(templ,arr,i,a,b) for(register templ *i=(arr)+(a),*ed_##i=(arr)+(b)+1;i!=ed_##i;++i)\n\t#define ROFit(templ,arr,i,a,b) for(register templ *i=(arr)+(a),*ed_##i=(arr)+(b)-1;i!=ed_##i;--i)\n\t#define GO(x,p,e,i,v) for(register int i=p[x].head,v;i;i=e[i].link)\n\t#define MEM(x,v) memset(x,v,sizeof(x))\n\t#define fir first\n\t#define sec second\n\t#define pq priority_queue\n\t#define MP make_pair\n\ttypedef long long LL;\n\ttypedef double DB;\n\ttypedef pair<int,int> PII;\n\t#define Templ(T) template<typename T>\n\tinline int read(){\n\t\treg int ans=0,f=1; reg char c=getchar();\n\t\twhile(!isdigit(c)) f^=(c=='-'), c=getchar();\n\t\tfor(;isdigit(c);c=getchar()) ans=(ans<<1)+(ans<<3)+(c^48);\n\t\treturn f?ans:-ans;\n\t}\n\tTempl(_Tp) inline int chkmin(_Tp &x,_Tp y){ return x>y?x=y,1:0; }\n\tTempl(_Tp) inline int chkmax(_Tp &x,_Tp y){ return x<y?x=y,1:0; }\n\t#define using_mod\n\tconst int mod = 998244353;\n\t#ifdef using_mod\n\tinline void inc(int &x, const int &y){ x += y; if(x >= mod) x -= mod; }\n\tinline void dec(int &x, const int &y){ x -= y; if(x < 0) x += mod; }\n\tinline int ksm(int x,LL y){ int res=1; for(;y;y>>=1,x=1ll*x*x%mod) if(y&1) res=1ll*res*x%mod; return res;}\n\t#endif\n\tTempl(_Tp) inline _Tp gcd(_Tp x,_Tp y){ return y?gcd(y,x%y):x; }\n\tinline int VSC_Local(){\n\t\t#ifdef VSC_Compile\n\t\twhile(getchar() != '\\n');\n\t\twhile(getchar() != '\\n');\n\t\t#endif\n\t\treturn 0;\n\t}\n\t#define FILE(s) freopen(s \".in\", \"r\", stdin), freopen(s \".out\", \"w\", stdout)\n\t#define PBTXDY\n}\nusing namespace my_std;\n\nconst int N = 200010;\nint n, m, a[N << 2], tag, fst;\nchar S[N];\n\nint main(){\n    n = read(), m = read();\n\tscanf(\"%s\", S + 1);\n\tFOR(i, 1, n) a[i] = S[i] == 'A';\n\tfst = 1;\n\tfunction<void(void)> update = [&](){\n\t\tif(a[fst] ^ tag){\n\t\t\ta[fst] ^= 1;\n\t\t\treturn;\n\t\t}\n\t\ttag ^= 1;\n\t\ta[fst + n] = tag ^ 1;\n\t\tfst++;\n\t};\n\n\tFOR(i, 1, min(m, n * 3)) update();\n\tif(m > n * 3){\n\t\tif(n & 1){\n\t\t\tRint t = m - n * 3;\n\t\t\tif(t & 1) update();\n\t\t\tFOR(i, 1, n) putchar('B' - (tag ^ a[i]));\n\t\t}\n\t\telse{\n\t\t\tFOR(i, 1, n) putchar('A' + (i & 1));\n\t\t}\n\t}\n\telse{\n\t\tFOR(i, fst, fst + n - 1) putchar('B' - (tag ^ a[i]));\n\t}\n\treturn VSC_Local();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\n\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tif (k % 2 == 0 && n % 2) a[0] ^= 1;\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <cstdio>\n#include <cstdint>\n#include <cassert>\n#include <cmath>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <tuple>\n#include <utility>\n#include <vector>\nusing namespace std;\n\nusing int64 = int64_t;\n\nconstexpr int64 MOD = 1000000007;\n\nchar rev(char ch) {\n    return (ch == 'B') ? 'A' : 'B';\n}\n\nint N, K;\nstring s;\n\nint main() {\n    cin >> N >> K >> s;\n    if (s[0] == 'A') {\n        --K;\n        s[0] = 'B';\n    }\n    if (s[N-1] == 'B') {\n        if (K > 0) {\n            --K;\n            s[N-1] = 'A';\n            for (int j = 0; j < N-1; ++j) {\n                s[j] = rev(s[j+1]);\n            }\n        }\n        if (K > 0) {\n            --K;\n            s[0] = 'B';\n        }\n    }\n    if (K > 0) {\n        int slide = 0;\n        for (int j = 1; K > 0 && j < N; ++j) {\n            slide++;\n            if (s[j] == 'A') {\n                --K;\n            } else {\n                K -= 2;\n            }\n        }\n        for (int j = 0; j + slide < N-1; ++j) {\n            s[j] = slide%2 == 0 ? s[j+slide] : rev(s[j+slide]);\n        }\n        for (int j = max(0, N-1-slide); j < N-1; ++j) {\n            s[j] = (N-1-j)%2 == 0 ? 'A' : 'B';\n        }\n        s[0] = (K % 2 == 0) ? 'B' : 'A';\n    }\n    cout << s << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 200005\nusing namespace std;\nint n,k;\nchar s[N];\nint main()\n{\n    scanf(\"%d%d\",&n,&k);scanf(\"%s\",s+1);\n    if(k<=(n<<1))\n    {\n        while(k--)\n        {\n            int h=1,t=1;\n            while(h>=1&&h<=n)\n            {\n                if(s[h]=='A') s[h]='B',t=-t,h+=t;\n                else s[h]='A',h+=t;\n            }\n        }\n        printf(\"%s\",s+1);\n    }\n    else\n    {\n        k-=(n<<1);\n        int op=n<<1;\n        while(op--)\n        {\n            int h=1,t=1;\n            while(h>=1&&h<=n)\n            {\n                if(s[h]=='A') s[h]='B',t=-t,h+=t;\n                else s[h]='A',h+=t;\n            }\n        }\n        if(!(n&1)) {printf(\"%s\",s+1);return 0;}\n        if(n&1)\n        {\n            if(s[1]=='A')\n            {\n                if(!(k&1)) {printf(\"%s\",s+1);return 0;}\n                else if(k&1) putchar('B'),printf(\"%s\",s+2);\n            }\n            else\n            {\n                if(!(k&1)) {printf(\"%s\",s+1);return 0;}\n                else if(k&1) putchar('A'),printf(\"%s\",s+2);\n            }\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ADD(a, b) a = (a + ll(b)) % mod\n#define MUL(a, b) a = (a * ll(b)) % mod\n#define MAX(a, b) a = max(a, b)\n#define MIN(a, b) a = min(a, b)\n#define rep(i, a, b) for(int i = int(a); i < int(b); i++)\n#define rer(i, a, b) for(int i = int(a) - 1; i >= int(b); i--)\n#define all(a) (a).begin(), (a).end()\n#define sz(v) (int)(v).size()\n#define pb push_back\n#define sec second\n#define fst first\n#define debug(fmt, ...) Debug(__LINE__, \":\", fmt, ##__VA_ARGS__)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<int, pi> ppi;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vl> mat;\ntypedef complex<double> comp;\nvoid Debug() {cerr << '\\n'; }\ntemplate<class FIRST, class... REST>void Debug(FIRST arg, REST... rest){\n\tcerr<<arg<<\" \";Debug(rest...);}\ntemplate<class T>ostream& operator<<(ostream& out,const vector<T>& v) {\n\tout<<\"[\";if(!v.empty()){rep(i,0,sz(v)-1)out<<v[i]<<\", \";out<<v.back();}out<<\"]\";return out;}\ntemplate<class S, class T>ostream& operator<<(ostream& out,const pair<S, T>& v){\n\tout<<\"(\"<<v.first<<\", \"<<v.second<<\")\";return out;}\nconst int MAX_N = 500010;\nconst int MAX_V = 100010;\nconst double eps = 1e-6;\nconst ll mod = 1000000007;\nconst int inf = (1 << 30) - 1;\nconst ll linf = 1LL << 60;\nconst double PI = 3.14159265358979323846;\nmt19937 rng; //use it by rng() % mod, shuffle(all(vec), rng)\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\nint N, K;\ndeque<int> que;\n\nvoid solve() {\n\tcin >> N >> K;\n\trep(i, 0, N) {\n\t\tchar c; cin >> c;\n\t\tque.push_back(c == 'A');\n\t}\n\tbool reversed = false;\n\trep(i, 0, min(K, 6 * N)) {\n\t\t// rep(i, 0, N) {\n\t\t// \tcout << (que[i] ^ reversed);\n\t\t// }\n\t\t// cout << \"\\n\";\n\t\tif((que.front() ^ reversed) == 1) que.front() = 0;\n\t\telse {\n\t\t\tque.pop_front();\n\t\t\treversed ^= 1;\n\t\t\tque.push_back(reversed ^ 1);\n\t\t}\n\t}\n\trep(i, 0, N) {\n\t\tque[i] ^= reversed;\n\t}\n\tif(K <= 6 * N) {\n\t\trep(i, 0, N) {\n\t\t\tcout << (que[i] == 1 ? 'A' : 'B');\n\t\t}\n\t}\n\telse {\n\t\tif(N % 2 == 0) {\n\t\t\trep(i, 0, N) {\n\t\t\t\tcout << (que[i] == 1 ? 'A' : 'B');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\trep(i, 0, N) {\n\t\t\t\tcout << (que[i] == (1 ^ (i == 0 ? (N - K) % 2 : 0)) ? 'A' : 'B');\n\t\t\t}\n\t\t}\n\t}\n\tcout << \"\\n\";\n}\n\nuint32_t rd() {\n\tuint32_t res;\n#ifdef __MINGW32__\n\tasm volatile(\"rdrand %0\" :\"=a\"(res) ::\"cc\");\n#else\n\tres = std::random_device()();\n#endif\n\treturn res;\n}\n\nint main() {\n#ifndef LOCAL\n\tios::sync_with_stdio(false);\n    cin.tie(0);\n#endif\n    cout << fixed;\n\tcout.precision(20);\n    cerr << fixed;\n\tcerr.precision(6);\n\trng.seed(rd());\n#ifdef LOCAL\n\t//freopen(\"in.txt\", \"wt\", stdout); //for tester\n\tif(!freopen(\"in.txt\", \"rt\", stdin)) return 1;\n#endif\t\n\tsolve();\n    cerr << \"Time: \" << 1.0 * clock() / CLOCKS_PER_SEC << \" s.\\n\";\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define rep(i,n) for(int i=0; i<(n); i++)\n#define reps(i,x,n) for(int i=x; i<(n); i++)\n#define rrep(i,n) for(int i=(n)-1; i>=0; i--)\n#define all(X) (X).begin(),(X).end()\n#define X first\n#define Y second\n#define pb push_back\n#define eb emplace_back\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a=b; return 1; } return 0; }\n\ntemplate<class A, size_t N, class T> void Fill(A (&a)[N], const T &v){ fill( (T*)a, (T*)(a+N), v ); }\n\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {os<<\"{\"; rep(i,t.size()) {os<<t[i]<<\",\";} os<<\"}\"; return os;}\ntemplate<class T,size_t n> ostream& operator<<(ostream &os, const array<T,n> &t) {os<<\"{\"; rep(i,n) {os<<t[i]<<\",\";} os<<\"}\"; return os;}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\n\nconst ll INF = 1e9+7;\n\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\tint N, K;\n\tstring S;\n\n\tcin >> N >> K;\n\tcin >> S;\n\n\tint count = 0, pos = N;\n\tbool flip = false;\n\trep(i,N){\n\t\tif( S[i] == (i%2 ? 'B' : 'A') ) count++;\n\t\tif( count == K ){\n\t\t\tpos = i;\n\t\t\tflip = true;\n\t\t\tbreak;\n\t\t}\n\t\tcount++;\n\t\tif( count == K ){\n\t\t\tpos = i+1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif( K - count > 0 ){\n\t\tif( N % 2 == 1 && (K - count) % 2 == 1 ) flip = true;\n\t}\n\n\t//cout << pos << \" \" << flip << endl;\n\n\tauto ans = S.substr(pos);\n\tif( pos%2 ) for(auto &&c: ans) c = (c == 'A' ? 'B' : 'A');\n\twhile( ans.length() < N ) ans += ((N - ans.length()) % 2 ? 'A' : 'B');\n\tif( flip ) ans[0] = (ans[0] == 'A' ? 'B' : 'A');\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nchar str[800100];\nint n,k;\nvoid solve(){\n\tint p=1,dr=1;\n\twhile(p>0&&p<=n){\n\t\tif(str[p]=='A'){\n\t\t\tstr[p]='B';\n\t\t\tdr=-dr;\n\t\t\tp+=dr;\n\t\t}\n\t\telse{\n\t\t\tstr[p]='A';\n\t\t\tp+=dr;\n\t\t}\n\t}\n}\nint main(){\n//\tfreopen(\"D.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",str+1);\n\tfor(int i=n+1;i<=n*4;i++)\n\t\tstr[i]='A'+((i-n)&1);\n\tif(k<=n*2){\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=k;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t}\n\telse{\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=k;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t\tk-=n*2;\n\t\tif((n&1)&&(k&1))\n\t\t\tstr[1]='A'+'B'-str[1];\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%c\",str[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n\nint n,k;\nchar s[200000];\n\nint main(){\n\tcin.sync_with_stdio(false);\n  cin>>n>>k>>s;\n  int r;\n  for(int i=n-1;i>=0;i--){\n    if(s[i]!='A'+(char)(n-1-i)%2){\n      r=i;\n      break;\n    }\n  }\n  //dbg(r);\n  rep(i,k){\n    if(s[0]=='A'){\n      s[0]='B';\n      continue;\n    }\n    char pre=r==n-1?'B':s[r+1];\n    for(int j=r;j>=0;j--){\n      if(pre=='A')s[j]='B';\n      else s[j]='A';\n    }\n    while(r>=0&&s[r]=='A'+(char)(n-1-r)%2)r--;\n    //dbg(r);\n    if(r==-1){\n      k-=i;\n      break;\n    }\n  }\n  if(k>0){\n    if(n%2==1){\n      s[0]=k%2==0?'B':'A';\n    }\n  }\n  cout<<s<<endl;\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define F first\n#define S second\n#define pb push_back\n#define all(x) x.begin(), x.end()\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nconst int N = 200010 ;\nconst int MOD = 1000000007;\nconst int LOG = 20;\n\nint pnt = 0, n, k;\nbool f = 0, mark[N]; // marked B unmarked A\nstring s;\n\n\nint32_t main(){\n\tios::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) mark[i] = (s[i] == 'B');\n\tfor (int i = 1;  i <= min(k, 10000000 + (k % 2)); i++){\n\t\tif ((mark[pnt] ^ f)){\n\t\t\tpnt++;\n\t\t\tpnt %= n;\n\t\t\tf ^= 1;\n\t\t}else{\n\t\t\tmark[pnt] ^= 1;\n\t\t}\n\t}\n\tfor (int i = 1; i <= n; i++){\n\t\tcout << ((mark[pnt] ^ f) ? 'B' : 'A');\n\t\tpnt ++;\n\t\tpnt %= n;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long int ll;\ntypedef long double ld;\n#define pb push_back\n#define pii pair < int , int >\n#define F first\n#define S second\n#define endl '\\n'\n#define int long long\n#define sync ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0)\n#pragma GCC optimize(\"Ofast,no-stack-protector,unroll-loops,fast-math\")\n#define kill(x) return cout<<x<<'\\n', 0;\nusing namespace std;\nconst int N=2e5+100;\nchar ans[N];\nint32_t main(){\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    /*\n    if (k>=n){\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        kill(y);\n    }\n    */\n    ll cnt=0;\n    if (s[0]=='A') cnt++;\n    ans[0]='B';\n    for (int i=1;i<n && i+cnt<=k;i++){\n        char c=s[i];\n        if (i%2==0){\n            if (c=='A'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n        else{\n            if (c=='B'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n    }\n    if (n-1+cnt<=k){\n        string y=\"\";\n        char c='A';\n        ll cnt1=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt1;\n            cnt1*=-1;\n        }\n        reverse(y.begin(),y.end());\n        if (n%2==0){\n            kill(y);\n        }\n        else{\n            y[0]='B';\n            ll z=n-1+cnt;\n            if (k%2==z%2){\n                kill(y);\n            }\n            y[0]='A';\n            kill(y);\n        }\n    }\n    for (int i=1;i<n;i++){\n        ll z=i+k-cnt;\n        if (z>=n){\n            if (i%2==(n-1)%2){\n                ans[i]='A';\n            }\n            else{\n                ans[i]='B';\n            }\n        }\n        else{\n            if (z%2==i%2){\n                ans[i]=s[z];\n            }\n            else{\n                if (s[z]=='A') ans[i]='B';\n                else ans[i]='A';\n            }\n        }\n    }\n    for (int i=0;i<n;i++) cout << ans[i];\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nint n, m, beg, tag;\nchar s[412345];\n\nint main() {\n\tscanf(\"%d%d%s\", &n, &m, s + 1);\n\tbeg = 1;\n\tfor(;;) {\n\t\tif(!m || beg > n) {\n\t\t\tbreak;\n\t\t}\n\t\t--m;\n\t\tif((s[beg] == 'A') ^ tag) {\n\t\t\ts[beg] = 'B' - s[beg] + 'A';\n\t\t}\n\t\telse {\n\t\t\t++beg;\n\t\t\ttag ^= 1;\n\t\t}\n\t}\n\tif(tag) {\n\t\tfor (int i = beg; i <= n; ++i) {\n\t\t\ts[i] = 'B' - s[i] + 'A';\n\t\t}\n\t}\n\tint End = beg + n;\n\ts[End] = 'B';\n\tfor (int i = End - 1; i > n; --i) {\n\t\ts[i] = 'B' - s[i + 1] + 'A';\n\t}\n\ts[End] = 0;\n\tif(!m) {\n\t\tputs(s + beg);\n\t\treturn 0;\n\t}\n\tif(n & 1) {\n\t\tif(m & 1) {\n\t\t\ts[beg] = 'B';\n\t\t}\n\t}\n\tputs(s + beg);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\nvc s;\nint l, r;\n\nvoid move(vc &s) {\n\tif (s[l] == (rev ? 'B' : 'A')) {\n\t\ts[l] = (rev ? 'A' : 'B');\n\t\treturn;\n\t}\n\tl++;\n\tr++;\n\trev = !rev;\n\ts[r] = (rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\ts = vc(3*N+100);\n\tl = 0;\n\tr = N - 1;\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tif (i == 2 * N) {\n\t\t\t// あとK-2N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - 2 * N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tmove(s);\n\t}\n\tif (rev) {\n\t\trepl(i, l, r + 1) {\n\t\t\tprintf(\"%c\", s[i] == 'A' ? 'B' : 'A');\n\t\t}\n\t}\n\telse {\n\t\trepl(i, l, r + 1) {\n\t\t\tprintf(\"%c\", s[i]);\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e5+10;\nstruct node{\n\tint v,c;\n\tnode *pre,*nxt;\n\tnode(int V,bool C){v=V;c=C;pre=nxt=0;}\n}*head,*tail;\nint n,k,tag;\nchar s[N];\nvoid work(){\n\tint tp=head->c^tag;\n\tif (head->v>1) head->v--;\n\telse head=head->nxt,head->pre=0;\n\tif (tp){\n\t\ttag^=1;\n\t\tif (!(tail->c^tag)) tail->v++;\n\t\telse{\n\t\t\tnode *x=new node(1,tag);\n\t\t\tx->pre=tail;\n\t\t\ttail=tail->nxt=x;\n\t\t}\n\t}\n\telse{\n\t\tif (head->c^tag) head->v++;\n\t\telse{\n\t\t\tnode *x=new node(1,tag^1);\n\t\t\tx->nxt=head;\n\t\t\thead=head->pre=x;\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\thead=tail=new node(1,s[0]=='B');\n\tfor (int i=1;i<n;i++)\n\tif (s[i]==s[i-1]) tail->v++;\n\telse{\n\t\tnode *x=new node(1,s[i]=='B');\n\t\tx->pre=tail;\n\t\ttail=tail->nxt=x;\n\t}\n\tfor (int i=1;i<=6*n&&i<=k;i++) work();\n\tif (k>6*n&&(k&1)) work();\n\tfor (node *x=head;x;x=x->nxt)\n\tfor (int i=1;i<=x->v;i++)\n\t\tputchar(x->c^tag?'B':'A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <assert.h>\n#include <fstream>\n#include <iostream>\n#include <algorithm>\n#include <array>\n#include <vector>\n#include <queue>\n#include <set>\n#include <cmath>\n#include <unordered_map>\n#include <list>\n//#include <unordered_set>\n//#include <boost/container/static_vector.hpp>\n//#include <boost/unordered_set.hpp>\n//#include <boost/unordered_map.hpp>\n//#include <unistd.h>\n\n//#include <cv.h>\n//#include <highgui.h>\n#include <stdlib.h>\n#include <time.h>\n\n#include <string>\n\nint proc(int pos, std::string& str, int dir) {\n    if (pos == -1 || pos == str.size()) {\n        return pos;\n    }\n\n    if (str[pos] == 'A') {\n        str[pos] = 'B';\n        return proc(pos - dir, str, -dir);\n    } else {\n        str[pos] = 'A';\n        return proc(pos + dir, str, dir);\n    }\n}\n\nint N, K;\nstd::string S;\n\nint main(int argc, char **argv) {\n    std::cin >> N >> K;\n    std::cin >> S;\n\n    /*\n    for (int i = 1; i <= K; i++) {\n        int ret = proc(0, S, 1);\n        std::cout << S << \" \" << ret << std::endl;\n    }\n    */\n    std::list<int> change;\n    int org = 0;\n    bool top = S[0] == 'A';\n    int change_size = 0;\n    for (int i = 0; i < S.size() - 1; i++) {\n        if (S[i] != S[i+1]) {\n            change.push_back(i);\n            change_size++;\n        }\n    }\n\n    while (true) {\n        if (top) {\n            if (*change.begin() == org) {\n                change.pop_front();\n                top = false;\n                change_size--;\n            } else {\n                change.push_front(org);\n                top = false;\n                change_size++;\n            }\n        } else {\n            bool last_A = change_size % 2 == 1;\n            if (*change.begin() == org) {\n                change.pop_front();\n                change_size--;\n            } else {\n                top = true;\n            }\n            org++;\n            if (last_A) {\n                change.push_back(org+S.size() - 2);\n                change_size++;\n            }\n        }\n        K--;\n        if (K == 0 || S.size() <= org) {\n            break;\n        }\n    }\n\n    if (K == 0) {\n        int begin = org;\n        int num = 0;\n        for (auto itr = change.begin(); itr != change.end(); ++itr) {\n            for (int i = begin; i <= *itr; i++) {\n                std::cout << (top ? \"A\" : \"B\");\n                num++;\n                if (num == S.size()) {\n                    std::cout << std::endl;\n                    return 0;\n                }\n            }\n            begin = (*itr) + 1;\n            top = !top;\n        }\n        while (num < S.size()) {\n            std::cout << (top ? \"A\" : \"B\");\n            num++;\n        }\n        std::cout << std::endl;\n        return 0;\n    } else {\n        if (S.size() % 2 == 1) {\n            if (K % 2 == 1) {\n                top = !top;\n            }\n            std::cout << (top ? \"A\" : \"B\");\n        }\n        for (int i = 0; i < S.size()/2; i++) {\n            std::cout << \"BA\";\n        }\n        std::cout << std::endl;\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\nusing dbl = double;\nusing pii = pair<int, int>;\nusing pl4 = pair<ll, ll>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vs = vector<string>;\nusing vvs = vector<vs>;\nusing vll = vector<ll>;\nusing vvll = vector<vll>;\nusing vvvll = vector<vvll>;\nusing vpii = vector<pii>;\nusing vvpii = vector<vpii>;\nusing vpl4 = vector<pl4>;\nusing vvpl4 = vector<vpl4>;\nusing vd = vector<dbl>;\nusing vvd = vector<vd>;\n\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define pob pop_back()\n#define sz size()\n#define be begin()\n#define en end()\n#define asn assign\n#define emp empty()\n#define ft front()\n#define bk back()\n#define clr clear()\n#define ins insert\n#define ers erase\n#define res resize\n#define tp top()\n\n#define FOR(i,a,b) for(int i=(a);i<=(b);i++)\n#define rFOR(i,a,b) for(int i=(b);i>=(a);i--)\n#define ROR(v,i) for(auto &(i):(v))\n#define SORT(a) sort((a).be,(a).en)\n#define rSORT(a) sort((a).rbegin(),(a).rend())\n#define UNIQUE(a) (a).erase(unique((a).be,(a).en),(a).en)\n#define PREVP(a) prev_permutation((a).be,(a).en)\n#define NEXTP(a) next_permutation((a).be,(a).en)\n#define BINS(a,b) binary_search((a).be,(a).en,(b))\n#define LOWB(a,b) (lower_bound((a).be,(a).en,(b))-(a).be)\n#define UPB(a,b) (upper_bound((a).be,(a).en,(b))-(a).be)\n#define CNT(a,b) count((a).be,(a).en,b)\n#define SUM(a) accumulate((a).be,(a).en,0)\n#define REV(a) reverse((a).be,(a).en)\n#define REGS(a,b) regex_search((a),regex(b))\n#define REGM(a,b) regex_match((a),regex(b))\n#define yn(a) cout <<((a)?\"yes\":\"no\")<<endl;\n#define Yn(a) cout <<((a)?\"Yes\":\"No\")<<endl;\n#define YN(a) cout <<((a)?\"YES\":\"NO\")<<endl;\n#define say(a) cout <<(a);\n#define sal(a) cout <<(a)<<endl;\n#define sas cout <<\" \";\n#define sak cout <<endl;\n#define dbg(a) cout <<(#a)<<\": \"<<(a)<<endl;\n#define c2l(a) ((ll)(a-48))\n#define a2l(a) ((ll)(a-97))\n#define A2l(a) ((ll)(a-65))\n#define l2c(a) ((char)(a+48))\n#define l2a(a) ((char)(a+97))\n#define l2A(a) ((char)(a+65))\n#define DigN2(a) ((llabs(a)==0)?(1):((ll)(log2(double(llabs(a))))+1))\n#define DigN10(a) ((llabs(a)==0)?(1):((ll)(log10(double(llabs(a))))+1))\n#define Dig2(a,b) (((a)>>(b))&1)\n#define Dig10(a,b) (ll)(((a)/((ll)(pow(10.0,(double)(b)))))%10)\n#define Pow2(a) (1<<(a))\n#define Pow10(a) ((ll)(pow(10.0,double(a))))\n#define llin(a) ll (a);cin >>(a);\n#define stin(a) string (a);cin >>(a);\n#define vin(v) ROR((v),(i)){cin >>(i);};\n#define vllin(v,N) vll (v)((N));vin(v);\n#define vsin(v,N) vs (v)((N));vin(v);\n#define rdn(a,b) ((a)/(b))\n#define rou(a,b) ((((double(a)/double(b))-((a)/(b)))<0.5)?((a)/(b)):(((a)/(b))+1))\n#define rup(a,b) ((((a)%(b))==0)?((a)/(b)):(((a)/(b))+1))\n#define min(a,b) ((a<b)?(a):(b))\n#define max(a,b) ((a>b)?(a):(b))\n#define powll(a,b) (ll)(pow((double)(a),(double)(b)))\n#define Triangle(x1,y1,x2,y2,x3,y3) (((x1)-(x2))*((y1)-(y3))-((x1)-(x3))*((y1)-(y2)))\n\n#define int ll\n\nconst ll MOD = 1e9 + 7;\n//const ll MOD = 998244353;\n//const ll MOD = 9007199254740881;\nconst ll INF = 1LL << 60;\nconst string alp = \"abcdefghijklmnopqrstuvwxyz\";\nconst string ALP = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\nll gcd(ll a, ll b) { if (b == 0)return a; return gcd(b, a%b); }\nll lcm(ll a, ll b) { return a / gcd(a, b)*b; }\n\npl4 Bezout(ll a, ll b) {\n\tif (b != 0) {\n\t\tpl4 xy;\n\t\txy = Bezout(b, a%b);\n\t\treturn mp(xy.se, xy.fi - ((a / b)*xy.se));\n\t}\n\tif (b == 0) {\n\t\treturn mp(1, 0);\n\t}\n}\npl4 Bez(ll a, ll b, ll c) {\n\tpl4 xy;\n\tll x, y, z, gc;\n\txy = Bezout(a, b);\n\tgc = gcd(a, b);\n\tif (c%gc != 0) return mp(-1, -1);\n\tx = xy.fi*(c / gc); y = xy.se*(c / gc);\n\tif (x < 0) z = rup(-x, (b / gc));\n\tif (x >= 0) z = -x / (b / gc);\n\tx += z * (b / gc);\n\ty -= z * (a / gc);\n\treturn mp(x, y);\n}\n\nvoid salv(vll v) {\n\tsay(\"{\");\n\tFOR(i, 0, v.sz - 1) {\n\t\tsay(v[i]);\n\t\tif (i != v.sz - 1) say(\",\");\n\t}\n\tsal(\"}\")\n}\n\nll DigS10(ll n) {\n\tll m = 0;\n\tFOR(i, 0, DigN10(n) - 1) {\n\t\tm += (ll)((llabs(n) % (ll)(pow(10.0, (double)(i + 1)))) / (ll)(pow(10.0, (double)i)));\n\t}\n\treturn m;\n}\n\nll isP(ll n) {\n\tif (n <= 1) return 0;\n\tFOR(i, 2, (ll)sqrt(n)) {\n\t\tif (n%i == 0) return 0;\n\t}\n\treturn 1;\n}\n\nvll FactM(1, 1);\nvll FactMI(1, 1);\n\nll PowM(ll a, ll b) {\n\tll ans = 1, x = (a%MOD);\n\tFOR(i, 0, DigN2(b) - 1) {\n\t\tif (Dig2(b, i) == 1) ans = (ans*x) % MOD;\n\t\tif (i != (DigN2(b) - 1)) x = (x*x) % MOD;\n\t}\n\treturn ans;\n}\n\nvoid CFactM(ll n) {\n\tif (FactM.sz <= n) {\n\t\tFOR(i, FactM.sz, n) {\n\t\t\tFactM.pb((FactM[i - 1] * (i%MOD)) % MOD);\n\t\t}\n\t}\n\treturn;\n}\n\nvoid CFactMI(ll n) {\n\tCFactM(n);\n\tif (FactMI.sz < (n + 1)) FactMI.res(n + 1, -1);\n\tif (FactMI[n] == -1) FactMI[n] = PowM(FactM[n], MOD - 2);\n\trFOR(i, 1, n - 1) {\n\t\tif (FactMI[i] != -1) break;\n\t\tFactMI[i] = ((FactMI[i + 1] * ((i + 1) % MOD)) % MOD);\n\t}\n\treturn;\n}\n\nll CombM(ll n, ll k) {\n\tif ((n < 0) || (k < 0)) return 0;\n\tif (n < k) return 0;\n\tif (n + 1 > FactMI.sz) CFactMI(n);\n\treturn ((((FactMI[k] * FactMI[n - k]) % MOD)*FactM[n]) % MOD);\n}\n\nsigned main() {\n\n\tllin(N);\n\tllin(K);\n\tstin(S);\n\tif (K < N * 10) {\n\n\t\tll ba = 0;\n\t\tll mu = 0;\n\t\tll tm = 0;\n\t\tFOR(j, 0, K - 1) {\n\t\t\tba = 0;\n\t\t\tmu = 0;\n\t\t\ttm = 0;\n\t\t\twhile (1) {\n\t\t\t\ttm = ba - mu;\n\t\t\t\tif ((tm == -1) || (tm == S.sz)) break;\n\t\t\t\tif (S[tm] == 'A') {\n\t\t\t\t\tS[tm] = 'B';\n\t\t\t\t\tmu = 1 - mu;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tS[tm] = 'A';\n\t\t\t\t\tba += (mu ? -1 : 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsal(S);\n\t}\n\telse {\n\t\tll cnt=0;\n\t\tif (N % 2 == 1) {\n\t\t\tFOR(i, 0, N - 1) {\n\t\t\t\tif (S[i] != (i % 2) ? 'A' : 'B') cnt++;\n\t\t\t}\n\t\t\tsay(cnt % 2 ? 'A' : 'B');\n\t\t}\n\t\tFOR(n, 0, N / 2 - 1) say(\"BA\");\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint N, K, cx = 0, cnt; string S;\n\nint main() {\n\tcin >> N >> K >> S;\n\tfor (int i = 0; i < K; i++) {\n\t\tif (S[cx] == 'A') { S[cx] = 'B'; }\n\t\telse {\n\t\t\tcx++; if (cx == N) { cnt = i + 1; break; }\n\t\t\tif (cx % 2 == 1) {\n\t\t\t\tif (S[cx] == 'A') S[cx] = 'B'; else S[cx] = 'A';\n\t\t\t}\n\t\t}\n\t}\n\tif (cx % 2 == 1 && cx < S.size()) { if (S[cx] == 'A') S[cx] = 'B'; else S[cx] = 'A'; }\n\tif (cx == N) {\n\t\tif (N % 2 == 0) {\n\t\t\tfor (int i = 0; i < N / 2; i++) cout << \"BA\"; cout << endl;\n\t\t}\n\t\telse {\n\t\t\tif ((K - cnt) % 2 == 0) { cout << \"A\"; for (int i = 0; i < N / 2; i++) cout << \"BA\"; }\n\t\t\telse { cout << \"B\"; for (int i = 0; i < N / 2; i++) cout << \"BA\"; }\n\t\t\tcout << endl;\n\t\t}\n\t}\n\telse {\n\t\tstring T = \"\";\n\t\tfor (int i = cx; i < N; i++) {\n\t\t\tif (cx % 2 == 0) T += S[i];\n\t\t\telse { if (S[i] == 'A') T += \"B\"; else T += \"A\"; }\n\t\t}\n\t\tfor (int i = 0; i < cx; i++) {\n\t\t\tif ((cx - i) % 2 == 0) T += \"B\"; else T += \"A\";\n\t\t}\n\t\tcout << T << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<list>\n#include<deque>\n#include<bitset>\n#include<set>\n#include<map>\n#include<unordered_map>\n#include<unordered_set>\n#include<cstring>\n#include<sstream>\n#include<complex>\n#include<iomanip>\n#include<numeric>\n#include<cassert>\n#define X first\n#define Y second\n#define pb push_back\n#define rep(X,Y) for (int (X) = 0;(X) < (Y);++(X))\n#define reps(X,S,Y) for (int (X) = S;(X) < (Y);++(X))\n#define rrep(X,Y) for (int (X) = (Y)-1;(X) >=0;--(X))\n#define repe(X,Y) for ((X) = 0;(X) < (Y);++(X))\n#define peat(X,Y) for (;(X) < (Y);++(X))\n#define all(X) (X).begin(),(X).end()\n#define rall(X) (X).rbegin(),(X).rend()\n#define eb emplace_back\n#define UNIQUE(X) (X).erase(unique(all(X)),(X).end())\n#define Endl endl\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntemplate<class T> using vv=vector<vector<T>>;\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"{\"; rep(i,t.size()) {os<<t[i]<<\",\";} os<<\"}\"<<endl; return os;}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\ntemplate<class T> inline bool MX(T &l,const T &r){return l<r?l=r,1:0;}\ntemplate<class T> inline bool MN(T &l,const T &r){return l>r?l=r,1:0;}\n#define out(args...){vector<string> a_r_g_s=s_p_l_i_t(#args, ','); e_r_r(a_r_g_s.begin(), args); }\nvector<string> s_p_l_i_t(const string& s, char c) { vector<string> v; stringstream ss(s); string x; while(getline(ss,x,c)) v.emplace_back(x); return move(v);}\nvoid e_r_r(vector<string>::iterator it) {}\ntemplate<typename T, typename... Args> void e_r_r(vector<string>::iterator it, T a, Args... args){ if(*it==\" 1\"||*it==\"1\") cerr<<endl; else cerr << it -> substr((*it)[0] == ' ', it -> length()) << \" = \" << a << \", \"; e_r_r(++it, args...);}\nconst ll MOD=1e9+7;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cout<<fixed<<setprecision(0);\n  int t=1e9,n=200000;\n  string s;//(n,'A');\n  cin>>n>>t>>s; s.reserve(512345);\n  int o=0,f=0;\n  int sum=0+'A'+'B';\n  rep(i,t){\n    if(s[o]=='A'+f){\n      s[o]=sum-s[o];\n    }else{\n      ++o;\n      f=1-f;\n      s+='A'+f;\n    }\n    //cout<<s<<endl;\n    if(o>n) break;\n  }\n  rep(i,n) cout<<char(f?sum-s[o+i]:s[o+i]); cout<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\nusing namespace std;\nchar str[800100];\nint n,k;\nvoid solve(){\n\tint p=1,dr=1;\n\twhile(p>0&&p<=n){\n\t\tif(str[p]=='A'){\n\t\t\tstr[p]='B';\n\t\t\tdr=-dr;\n\t\t\tp+=dr;\n\t\t}\n\t\telse{\n\t\t\tstr[p]='A';\n\t\t\tp+=dr;\n\t\t}\n\t}\n}\nint main(){\n//\tfreopen(\"D.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",str+1);\n\tfor(int i=n+1;i<=n*4;i++)\n\t\tstr[i]='A'+((i-n)&1);\n\tif(k<=n*2){\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=k;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t}\n\telse{\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(n&1) str[j]='A'+'B'-str[j+n];\n\t\t\telse str[j]=str[j+n];\n\t\t}\n\t\tk-=n*2;\n\t\tif((n&1)&&(k&1))\n\t\t\tstr[1]='A'+'B'-str[1];\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%c\",str[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\ntypedef pair<pll, pll> P;\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS = 1e-9;\nconst bool debug = 0;\n//---------------------------------//\n\nint N, K;\nstring S;\n\nstring rev(string s) {\n\tREP(i, N) s[i] = s[i] == 'A' ? 'B' : 'A';\n\treturn s;\n}\n\nvoid next(string &s) {\n\tif (s[0] == 'A') s[0] = 'B';\n\telse {\n\t\tREP(j, N - 1) {\n\t\t\tif (s[j + 1] == 'A') s[j] = 'B';\n\t\t\telse s[j] = 'A';\n\t\t}\n\t\ts[N - 1] = 'A';\n\t}\n}\n\nvoid solve(string s) {\n\tint t = K;\n\twhile (t--) next(s);\n\tcout << s << endl;\n}\n\nint main() {\n\tcin >> N >> K >> S;\n\t\n\t//solve(S);\n\t\n\tif (N == 1) {\n\t\tputs( ( (S[0]=='B')+K ) % 2 == 1 ? \"B\" : \"A\");\n\t\treturn 0;\n\t}\n\t\n\tstring ans = \"\", lev = \"\";\n\tint nec = N / 2 * 2;\n\tfor (int i = S.size() - 2; i >= 0; i -= 2) {\n\t\tif (S[i] == 'B' && S[i + 1] == 'A') {\n\t\t\tans += \"AB\";\n\t\t}\n\t\telse {\n\t\t\tfor (int j = i + 1; j >= 0; j--) lev += S[j];\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (N & 1) lev += S[0];\n\t\n\tfor (int i = 0; i < N; i += 2) {\n\t\tif (K <= 4 || ans.size() == nec) break;\n\t\t\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i++;\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i--;\n\t\t\n\t\tK -= 2;\n\t\tans += \"AB\";\n\t}\n\t\n\tfor (int i = 0; i < lev.size() && ans.size() < N; i++) ans += lev[i];\n\treverse(ALL(ans));\n\t\n\tif (K > 100) {\n\t\tif (N & 1) S[0] = ( (S[0]=='B')+K ) % 2 == 1 ? 'B' : 'A';\n\t}\n\telse {\n\t\twhile (K--) next(ans);\n\t}\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\n\n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n\n#define MOD 1000000007\n\nll d[200010];\n\nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  rep(i,0,k){\n    int index = 0;\n    int d = 1;\n    string s1 = s;\n    while(1){\n      if(s1[index]=='A'){\n        s1[index] = 'B';\n        d *= -1;\n        index += d;\n      }\n      else{\n        s1[index] = 'A';\n        index += d;\n      }\n      if(index==-1||index==n)break;\n    }\n    cout << s1 << endl;\n    s = s1;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <cstdlib>\n#include <set>\n#include <queue>\nusing namespace std;\n\n#define X first\n#define Y second\n#define Mod 1000000009\n#define N 100010\n#define M 101\n\ntypedef long long ll;\n\nconst int INF=1<<30;\nint n,K;\nstring s;\n\nint main()\n{\n\t///freopen(\"in.in\",\"r\",stdin);\n\t//freopen(\"out.out\",\"w\",stdout);\n\t\n\tcin >> n >> K >> s;\n\tbool flag=0;\n\tfor (int i=1;i<=2*n;i++)\n\t{\n\t\tif (K==0) break; K--;\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[0]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='A';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t\telse s[0]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[0]=='A') s[0]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='B';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t}\n\t}\n\tif (K&1)\n\t{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[0]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='A';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t\telse s[0]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[0]=='A') s[0]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='B';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t}\n\t}\n\tif (flag) for (int i=0;i<n;i++) s[i]=s[i]=='A'? 'B':'A';\n\tcout<<s<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n _    _    _______   _    _\n| |  / /  |  _____| | |  / /\n| | / /   | |       | | / /\n| |/ /    | |_____  | |/ /\n| |\\ \\    |  _____| | |\\ \\\n| | \\ \\   | |       | | \\ \\\n| |  \\ \\  | |_____  | |  \\ \\\n|_|   \\_\\ |_______| |_|   \\_\\\n\n*/\n/*#include <iostream>\n#include <cstdio>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <iomanip>\n#include <cmath>\n#include <algorithm>\n#include <assert.h>*/\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\ntypedef pair <int, int> PII;\ntypedef pair <ll, ll> PLL;\n\n#define F first\n#define S second\n#define pb push_back\n#define eb emplace_back\n#define right(x) x << 1 | 1\n#define left(x) x << 1\n#define forn(x, a, b) for (int x = a; x <= b; ++x)\n#define for1(x, a, b) for (int x = a; x >= b; --x)\n#define mkp make_pair\n#define sz(a) (int)a.size()\n#define all(a) a.begin(), a.end()\n#define y1 kekekek\n\nconst ll ool = 1e18 + 9;\nconst int oo = 1e9 + 9, base = 1e9 + 7;\nconst ld eps = 1e-7;\nconst int N = 2e6 + 6;\n\nint n, K;\nbool a[N];\n\nint main() {\n\tios_base :: sync_with_stdio(0), cin.tie(0), cout.tie(0);\n\n    cin >> n >> K;\n    forn(i, 1, n) {\n        char x;\n        cin >> x;\n        a[i] = (x == 'B');\n    }\n\n    int ptr = 1, q = 0;\n    forn(it, 1, min(2 * n + (K > 2 * n && (K - 2 * n) & 1), K)) {\n        if (!(a[ptr] ^ q)) {\n            a[ptr] ^= 1;\n            continue;\n        }\n        q ^= 1;\n        a[ptr + n] = q;\n        ++ptr;\n    }\n\n    forn(i, ptr, ptr + n - 1) {\n        cout << (a[i] ^ q ? \"B\" : \"A\");\n    }\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#define N 220000\nusing namespace std;\nint n,k,num,root;\nchar s[N];\nstruct node{\n\tint l,r,rnd,sz,flag,val;\n}tree[N*10];\ninline int newnode(){\n\ttree[++num].rnd=rand();\n\treturn num;\n}\ninline void update(int p){\n\ttree[p].sz=tree[tree[p].l].sz+tree[tree[p].r].sz+1;\n}\nvoid build(int &p,int l,int r){\n\tif(l>r) return ;\n\tp=newnode();\n\ttree[p].val=(s[l]=='A'?0:1);\n\ttree[p].sz=1;\n\tint mid=(l+r)/2;\n\tbuild(tree[p].l,l,mid-1);\n\tbuild(tree[p].r,mid+1,r);\n\tupdate(p);\n}\ninline void pushdown(int p){\n\tif(!tree[p].flag) return ;\n\ttree[tree[p].l].val^=1;\n\ttree[tree[p].r].val^=1;\n\ttree[tree[p].l].flag^=1;\n\ttree[tree[p].r].flag^=1;\n\ttree[p].flag=0;\n}\nvoid split(int now,int k,int &x,int &y){\n\tif(!now){x=y=0;return ;}\n//\tprintf(\"%d:%dssd\\n\",now,tree[now].val);\n\tpushdown(now);\n\tif(tree[tree[now].l].sz<k) x=now,split(tree[now].r,k-tree[tree[now].l].sz-1,tree[now].r,y);\n\telse y=now,split(tree[now].l,k,x,tree[now].l);\n\tupdate(now);\n}\nint merge(int a,int b){\n\tif(!a or !b) return a+b;\n\tpushdown(a);pushdown(b);\n\tif(tree[a].rnd<tree[b].rnd){\n\t\ttree[a].r=merge(tree[a].r,b);\n\t\tupdate(a);return a;\n\t}\n\telse{\n\t\ttree[b].l=merge(a,tree[b].l);\n\t\tupdate(b);return b;\n\t}\n}\nint qu(){\n\tint x1,y1;\n\tsplit(root,1,x1,y1);\n\tint yu=tree[x1].val;\n\troot=merge(x1,y1);\n\treturn yu;\n}\nvoid print(int p){\n\tif(!p) return ;\n\tprint(tree[p].l);\n\tprintf(\"%c\",(tree[p].val==0?'A':'B'));\n\tprint(tree[p].r);\n}\nint main(){\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tif(n==1){\n\t\tif(k%2==0) printf(\"%c\",s[1]);\n\t\telse printf(\"%c\",s[1]=='A'?'B':'A');\n\t\treturn 0;\n\t}\n\tif(k<=3*n){\n\t\tbuild(root,1,n);\n\t\tfor(int i=1;i<=k;++i){\n\t\t\tif(qu()){\n\t\t\t\tint x1,y1;\n\t\t\t\ttree[root].val^=1;\n\t\t\t\ttree[root].flag^=1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\troot=merge(y1,x1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint x1,y1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\ttree[x1].val^=1;\n\t\t\t\troot=merge(x1,y1);\n\t\t\t}\n\t\t}\n\t\tprint(root);\n\t}\n\telse{\n\t\tif(n%2==0){\n\t\t\tfor(int i=1;i<=n;i+=2)\n\t\t\t\tprintf(\"BA\");\n\t\t}\n\t\telse{\n\t\t\tif(k%2==0){\n\t\t\t\tprintf(\"%c\",s[1]='A');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t\telse{\n\t\t\t\tprintf(\"BB\");\n\t\t\t\ts[2]='B';\n\t\t\t\tfor(int i=3;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tif (n == 1) {\n\t\tif ((k % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\telse { cout << 'B' << endl; }\n\t\treturn 0;\n\t}\n\tdeque<char> deq;\n\trep(i, n) {\n\t\tdeq.push_back(s[i]);\n\t}\n\tint loop = 0; bool trick = false;\n\twhile (loop <= n + 10 && k > 0) {\n\t\tloop++; 'A';\n\t\tchar c = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tdeq.push_front('B'); k--; continue;\n\t\t}\n\t\tif (k == 1) {\n\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t}\n\t\tc = deq.front(); deq.pop_front();\n\t\tif (c == 'A') { k++; }\n\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\tk -= 3;\n\t\tdeq.push_back('B');\n\t\tdeq.push_back('A');\n\t}\n\tif (k <= 0) {\n\t\twhile (!deq.empty()) {\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t}\n\t\tcout << endl;\n\t}\n\telse {\n      assert(true);\n      assert(false);\n\t\tif (n % 2 == 0) {\n\t\t\trep(i, n) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint x = k % 2;\n\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t\trep(i, n - 1) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\tcout << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\n#define int ll\n\n#define FOR(i,a,b) for(int i=int(a);i<int(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define MP make_pair\n#define PB push_back\n#define ALL(x) x.begin(),x.end()\n#define REACH cerr<<\"reached line \"<<__LINE__<<endl\n#define DBG(x) cerr<<\"line \"<<__LINE__<<\" \"<<#x<<\":\"<<x<<endl\n\nusing pi=pair<int,int>;\nusing vi=vector<int>;\nusing ld=long double;\n\ntemplate<class T,class U>\nostream& operator<<(ostream& os,const pair<T,U>& p){\n\tos<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n\treturn os;\n}\n\ntemplate<class T>\nostream& operator <<(ostream& os,const vector<T>& v){\n\tos<<\"[\";\n\tREP(i,(int)v.size()){\n\t\tif(i)os<<\",\";\n\t\tos<<v[i];\n\t}\n\tos<<\"]\";\n\treturn os;\n}\n\nint read(){\n\tint i;\n\tscanf(\"%lld\",&i);\n\treturn i;\n}\n\nvoid printSpace(){\n\tprintf(\" \");\n}\n\nvoid printEoln(){\n\tprintf(\"\\n\");\n}\n\nvoid print(int x,int suc=1){\n\tprintf(\"%lld\",x);\n\tif(suc==1)\n\t\tprintEoln();\n\tif(suc==2)\n\t\tprintSpace();\n}\n\nstring readString(){\n\tstatic char buf[3341919];\n\tscanf(\"%s\",buf);\n\treturn string(buf);\n}\n\nchar* readCharArray(){\n\tstatic char buf[3341919];\n\tstatic int bufUsed=0;\n\tchar* ret=buf+bufUsed;\n\tscanf(\"%s\",ret);\n\tbufUsed+=strlen(ret)+1;\n\treturn ret;\n}\n\ntemplate<class T,class U>\nvoid chmax(T& a,U b){\n\tif(a<b)\n\t\ta=b;\n}\n\ntemplate<class T,class U>\nvoid chmin(T& a,U b){\n\tif(a>b)\n\t\ta=b;\n}\n\ntemplate<class T>\nT Sq(const T& t){\n\treturn t*t;\n}\n\nconst int inf=LLONG_MAX/3;\n\nsigned main(){\n\tint n=read(),k=read();\n\tstring s=readString();\n\tint g=0,q;\n\t{\n\t\tREP(i,n){\n\t\t\tbool w=(s[i]=='A^(i&1));\n\t\t\tif(w){\n\t\t\t\tif(k>=2){\n\t\t\t\t\tg++;\n\t\t\t\t\tk-=2;\n\t\t\t\t\tif(k==0)q=0;\n\t\t\t\t}else{\n\t\t\t\t\tk--;\n\t\t\t\t\tq=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tk--;\n\t\t\t\tg++;\n\t\t\t\tif(k==0)q=0;\n\t\t\t}\n\t\t\tif(k==0)\n\t\t\t\tbreak;\n\t\t}\n\t\tif(k){\n\t\t\tif(n^1){\n\t\t\t\tg+=k/2;\n\t\t\t\tq=k&1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tg+=k;\n\t\t\t\tq=0;\n\t\t\t}\n\t\t}\n\t}\n\tstring t;\n\tREP(i,n)\n\t\tif(i+g<n)\n\t\t\tt+=((g&1)^(s[i+g]=='A'))?'A':'B';\n\t\telse\n\t\t\tt+=((n-1-i)&1)?'B':'A';\n\tif(q){\n\t\tif(t[0]=='A')\n\t\t\tt[0]='B';\n\t\telse{\n\t\t\tREP(i,n-1)\n\t\t\t\tt[i]=t[i+1]=='A'?'B':'A';\n\t\t\tt[n-1]='A';\n\t\t}\n\t}\n\tcout<<t<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define fi first\n#define se second\n#define pb push_back\n#define SZ(x) ((int)x.size())\n#define L(i,u) for (register int i=head[u]; i; i=nxt[i])\n#define rep(i,a,b) for (register int i=(a); i<=(b); i++)\n#define per(i,a,b) for (register int i=(a); i>=(b); i--)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int ui;\ntypedef pair<int,int> Pii;\ntypedef vector<int> Vi;\ntemplate<class T> inline void read(T &x){\n\tx=0; char c=getchar(); int f=1;\n\twhile (!isdigit(c)) {if (c=='-') f=-1; c=getchar();}\n\twhile (isdigit(c)) {x=x*10+c-'0'; c=getchar();} x*=f;\n}\ntemplate<class T> inline void umin(T &x, T y){x=x<y?x:y;}\ntemplate<class T> inline void umax(T &x, T y){x=x>y?x:y;}\ninline ui R() {\n\tstatic ui seed=416;\n\treturn seed^=seed>>5,seed^=seed<<17,seed^=seed>>13;\n}\nconst int N = 1500005;\nint n,k,a[N];\nint main() {\n\tread(n);read(k);\n\tstatic char S[N];scanf(\"%s\",S+1);\n\trep(i,1,n)a[i]=S[i]=='B';\n\tint off=1,lzy=0;\n\trep(t,1,k){//[off..off+n-1]\n\t\tif(!(a[off]^lzy))a[off]^=1;\n\t\telse{\n\t\t\ta[off+n]=a[off];off++;lzy^=1;\n\t\t}\n\t\tif(t>n*2&&k>1e6)k-=(k-t)/2*2,k+=2;\n\t//\tprintf(\"%d:\",t);rep(i,off,off+n-1)printf(\"%c\",'A'+(a[i]^lzy));puts(\"\");\n\t}\n\trep(i,off,off+n-1)printf(\"%c\",'A'+(a[i]^lzy));\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint main() {\n    int n, k;\n    std::string s;\n    std::cin >> n >> k >> s;\n    std::bitset<210000> b;\n    // A -> 0, B -> 1\n    for (auto i = 0; i < s.size(); i++) {\n        b[i] = s[i] == 'B';\n    }\n    for (int i = 0; i < std::min(2 * n, k); i++) {\n        if (b[0]) {\n            b >>= 1;\n            b = ~b;\n            b[n - 1] = false;\n        } else {\n            b[0] = true;\n        }\n    }\n\n    if (2 * n >= k) {\n        for (int i = 0; i < n; i++) std::cout << (b[i] ? 'B' : 'A');\n    } else {\n        if (n % 2) {\n            std::cout << ((2 * n - k) % 2 ^ b[0] ? 'B' : 'A');\n            for (int i = 1; i < n; i++) std::cout << (i % 2 ? 'B' : 'A');\n        } else {\n            for (int i = 0; i < n; i++) std::cout << (i % 2 ? 'A' : 'B');\n        }\n    }\n    std::cout << std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MN = 200010;\n\nint N, K;\nstring S;\nint chk[MN];\n\nvoid print(int pos, int Xor) {\n    for(int i = 0; i < N; i++) {\n        cout << (((S[pos] == 'A') ^ Xor ^ chk[pos])? 'A' : 'B');\n        pos = (pos + 1) % N;\n    }\n    cout << endl;\n}\n\nint main() {\n    std::ios::sync_with_stdio(false);\n\n    cin >> N >> K >> S;\n\n    if(S[0] == 'A') S[0] = 'B', K--;\n\n    int pos = 0;\n    int Xor = 0;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        K--;\n        if(K && (S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1) {\n            chk[ (pos + 1) % N ] = 1;\n            K--;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    if(!K) {\n        print(pos, Xor);\n        return 0;\n    }\n\n    int tot = 0;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n            K--;\n            tot++;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K--;\n        tot++;\n    }\n\n    K %= tot;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n            K--;\n            tot++;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K--;\n        tot++;\n    }\n\n    print(pos, Xor);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n  int n;\n  long long K;\n  scanf(\"%d%lld\",&n,&K);\n  static char s[100010];\n  scanf(\"%s\",s);\n  int x=0,p=0;\n  while(x<n&&K>0){\n    if(s[x]=='A'+p){\n      s[x]='A'+!p;\n    }\n    else{\n      x++;\n      p=!p;\n    }\n    K--;\n  }\n  for(int i=x;i<n;i++){\n    putchar('A'+((s[i]=='A')==p));\n  }\n  for(int i=0;i<x;i++){\n    putchar('A'+((x-i)%2==0));\n  }\n  putchar('\\n');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define sqr(x) ((x)*(x))\n#define ll long long\n#define ull unsigned long long\n#define ui unsigned int\n#define ld long double\n#define vi vector<int>\n#define pii pair<int,int>\n#define pb push_back\n#define mp make_pair\n#define debuge cerr<<\"isok\"<<endl\n#define debug(x) cerr<<#x<<\"=\"<<x<<endl\n#define SS second\n#define FF first\n#define ls (k<<1)\n#define rs (k<<1|1)\n#define inf 0x3f3f3f3f\n#define clr(a,x) memset(a,x,sizeof(a))\n#define cpy(a,x) memcpy(a,x,sizeof(a))\n#define file(x) freopen(x\".in\",\"r\",stdin),freopen(x\".out\",\"w\",stdout);\nusing namespace std;\n\nconst int N=200005,M=100005,mod=1e9+7;\ntemplate<class T> inline void gmin(T &x,const T &y){if(x>y) x=y;}\ntemplate<class T> inline void gmax(T &x,const T &y){if(x<y) x=y;}\ninline void ch(int &x,int y){x=(x+y)%mod;}\ntemplate<class T> inline void read(T &x){\n\tx=0;char ch=getchar(),rev=0;\n\twhile(ch>'9'||ch<'0') rev=(ch=='-'),ch=getchar();\n\twhile(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n\tx=rev?-x:x;\n}\ntemplate<class T> inline void print(T x){\n\tif(!x){puts(\"0\");return;}\n\tif(x<0){putchar('-');x=-x;}\n\tint a[20],m=0;\n\twhile(x) a[m++]=x%10,x/=10;\n\twhile(m--) putchar(a[m]+'0');puts(\"\");\n}\ninline int exp(int x,int y){\n\tint ans=1;\n\twhile(y){\n\t\tif(y&1) ans=(ll)ans*x%mod;\n\t\tx=(ll)x*x%mod;y>>=1;\n\t}return ans;\n}\n\nint n,k,cnt,ans[N];\nchar s[N];\ndeque<int> q;\n\nint main(){\n#ifdef rqgao2014\n\tfreopen(\"input.txt\",\"r\",stdin);\n\tsrand(time(0));\n#endif\n\tios::sync_with_stdio(0);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tif(s[1]=='A') s[1]='B',k--;\n\ts[++n]='B';\n\tfor(int i=1;i<=n;i++){\n\t\tint r=i;\n\t\twhile(r<n&&s[r+1]==s[i]) r++;\n\t\tq.push_back(r-i+1);i=r;\n\t\tcnt++;\n\t}\n//\tdebug(q.front());\n\tfor(int i=1;i<=k&&cnt<n;i++){\n\t\tint x=q.front();\n\t\tif(x==1){\n\t\t\tq.pop_front();q.push_back(1);\n\t\t\tcontinue;\n\t\t}\n\t\tq.pop_front();cnt++;\n\t\tq.push_front(x-1);q.push_back(1);\n\t\tif(i==k) break;\n\t\tif(x==2){\n\t\t\tif(cnt==n){\n\t\t\t\tif((k-i)&1){q.pop_front();q.pop_front();q.push_front(2);cnt--;}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint y;\n\t\t\tq.pop_front();y=q.front();\n\t\t\tq.pop_front();q.push_front(y+1);\n\t\t\tcnt--;i++;\n\t\t\tcontinue;\n\t\t}\n\t\ti++;cnt++;\n\t\tq.pop_front();\n\t\tq.push_front(x-2);q.push_front(1);\n\t}\n\tint p=n,now=1;\n\twhile(!q.empty()){\n\t\tfor(int i=1;i<=q.back();i++)\n\t\t\tans[p--]=now;\n\t\tq.pop_back();now^=1;\n\t}\n\tfor(int i=1;i<n;i++)\n\t\tif(ans[i]) putchar('B'); else putchar('A');puts(\"\");\n#ifdef rqgao2014\n\ttime_tester(1);\n#endif\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=4e5+5;\ntypedef long long ll;\nint n,k;\nchar s[N];\nint num[N];\nint st;\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)\n        num[i]=s[i]-'A';\n    st=num[1];\n    int p=1;\n    int cnt=0;\n    while(k--){\n        if(st==0){\n            st^=1;\n            num[p]^=1;\n        }\n        else{\n            p++;\n            cnt++;\n            st=num[p];\n            st^=(cnt&1);\n        }\n        if(p>n)\n            break;\n    }\n    if(p<=n){\n        for(int i=p;i<=n;i++)\n            putchar('A'+(num[i]^(cnt&1)));\n        int t=p-1,c=(cnt-1)&1;\n        while(t--){\n            putchar('A'+c);\n            c^=1;\n        }\n    }\n    else{\n        if((cnt-1)&1)\n            for(int i=1;i<=n;i++)\n                putchar('A'+(i&1));\n        else{\n            putchar('A'+(k&1));\n            for(int i=1;i<n;i++)\n                putchar('A'+(i&1));\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <algorithm>\n#include <deque>\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconstexpr static int MAXN = 1e6;\n\nint n, k;\nstring s;\n\nint main() {\n    cin >> n >> k >> s;\n\n    if (n == 1) {\n        cout << ('A' + (s[0] - 'A' + k) % 2) << endl;\n        return 0;\n    }\n\n    deque <int> d;\n    for (int i = 0; i < n;) {\n        int j = i;\n        while (j < n && s[j] == s[i])\n            j++;\n        d.push_back(j - i);\n        i = j;\n    }\n\n    bool isA = (s[0] == 'A');\n    for (int i = 0; i < k; i++) {\n        if (d.size() == n)\n            i += ((k - i - 1) / 2) * 2;\n        /*\n        cout << (isA ? 'A' : 'B');\n        for (int len : d)\n            cout << \" \" << len;\n        cout << endl;\n        */\n        if (isA) {\n            if (d.front() > 1) {\n                // AA... -> BA...\n                d.front()--;\n                d.push_front(1);\n            }\n            else {\n                // AB... -> BB...\n                d.pop_front();\n                d.front()++;\n            }\n            isA = false;\n        }\n        else {\n            // B^m A^n ... -> A^{m-1} B^n ... A\n            d.front()--;\n            if (d.size() % 2 == 0)\n                d.push_back(1);\n            else\n                d.back()++;\n\n            if (d.front() == 0)\n                d.pop_front();\n            else\n                isA = true;\n        }\n    }\n\n    int add = (isA ? 0 : 1);\n    for (int len : d) {\n        cout << string(len, 'A' + add);\n        add = 1 - add;\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] = 'A') tmp[pos] = 'B';\n\t\t\tif(tmp[pos] = 'B') tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define MAXN 200000\nusing namespace std;\nchar str[MAXN+5],ans[MAXN+5];\nchar inv[200];\nint N,K,seq[MAXN+5];\nint main()\n{\n\tinv['A']='B',inv['B']='A';\n\tscanf(\"%d %d\",&N,&K);\n\tscanf(\"%s\",str+1);\n\tfor(int i=1;i<=N;i++)\n\t\tseq[i]=str[i]-'A';\n\tint mv=0,turn=0;\n\twhile(mv<N)\n\t{\n\t\tK--;\n\t\tif((seq[mv+1]^turn)==0)\n\t\t{\n\t\t\tseq[mv+1]^=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmv++;\n\t\t\tturn^=1;\n\t\t}\n\t\tif(K==0)\n\t\t\tbreak;\n\t}\n\tint len=0;\n\tfor(int i=mv+1;i<=N;i++)\n\t{\n\t\tif(seq[i]^turn)\n\t\t\tans[++len]='B';\n\t\telse\n\t\t\tans[++len]='A';\n\t}\n\tif(K==0||N%2==0)\n\t{\n\t\tfor(int i=1;i<=mv;i++)\n\t\t\tif((i%2)^(turn))\n\t\t\t\tans[++len]='B';\n\t\t\telse\n\t\t\t\tans[++len]='A';\n\t\tprintf(\"%s\\n\",ans+1);\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=N;i++)\n\t\tif(i%2)\n\t\t\tans[++len]='A';\n\t\telse\n\t\t\tans[++len]='B';\n\tif(K%2==1)\n\t\tans[1]='B';\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\n#define N 600000\n\nint n,m,a[N],cnt;\nchar s[N];\n\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor (int i=1;i<=n;++i) a[i]=s[i]=='A';\n\tint t=1,w=n;\n\twhile (m--){\n\t\tif (a[t]^(cnt&1)){a[t]=cnt&1; continue;}\n\t\t++t; ++w; ++cnt;\n\t\ta[w]=1^(cnt&1);\n\t\tif (cnt==n){\n\t\t\tif (n&1){\n\t\t\t\tif (m&1){\n\t\t\t\t\tputchar('B');\n\t\t\t\t\tfor (int i=2;i<=n;++i) putchar(i&1?'A':'B');\n\t\t\t\t\tputs(\"\");\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor (int i=1;i<=n;++i) putchar(i&1?'A':'B');\n\t\t\t\t\tputs(\"\");\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (int i=1;i<=n;++i) putchar(i&1?'B':'A');\n\t\t\t\tputs(\"\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i=t;i<=w;++i)\n\t\tputchar(a[i]^(cnt&1)?'A':'B');\n\tputs(\"\");\n\t\t\n\treturn 0;\n}\n\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ADD(a, b) a = (a + ll(b)) % mod\n#define MUL(a, b) a = (a * ll(b)) % mod\n#define MAX(a, b) a = max(a, b)\n#define MIN(a, b) a = min(a, b)\n#define rep(i, a, b) for(int i = int(a); i < int(b); i++)\n#define rer(i, a, b) for(int i = int(a) - 1; i >= int(b); i--)\n#define all(a) (a).begin(), (a).end()\n#define sz(v) (int)(v).size()\n#define pb push_back\n#define sec second\n#define fst first\n#define debug(fmt, ...) Debug(__LINE__, \":\", fmt, ##__VA_ARGS__)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<int, pi> ppi;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vl> mat;\ntypedef complex<double> comp;\nvoid Debug() {cerr << '\\n'; }\ntemplate<class FIRST, class... REST>void Debug(FIRST arg, REST... rest){\n\tcerr<<arg<<\" \";Debug(rest...);}\ntemplate<class T>ostream& operator<<(ostream& out,const vector<T>& v) {\n\tout<<\"[\";if(!v.empty()){rep(i,0,sz(v)-1)out<<v[i]<<\", \";out<<v.back();}out<<\"]\";return out;}\ntemplate<class S, class T>ostream& operator<<(ostream& out,const pair<S, T>& v){\n\tout<<\"(\"<<v.first<<\", \"<<v.second<<\")\";return out;}\nconst int MAX_N = 500010;\nconst int MAX_V = 100010;\nconst double eps = 1e-6;\nconst ll mod = 1000000007;\nconst int inf = (1 << 30) - 1;\nconst ll linf = 1LL << 60;\nconst double PI = 3.14159265358979323846;\nmt19937 rng; //use it by rng() % mod, shuffle(all(vec), rng)\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\nint N, K;\ndeque<int> que;\n\nvoid solve() {\n\tcin >> N >> K;\n\trep(i, 0, N) {\n\t\tchar c; cin >> c;\n\t\tque.push_back(c == 'A');\n\t}\n\tbool reversed = false;\n\trep(i, 0, min(K, 6 * N)) {\n\t\tif(que.front() == 1) que.front() = 0;\n\t\telse {\n\t\t\tque.pop_front();\n\t\t\treversed ^= 1;\n\t\t\tque.push_back(reversed ^ 1);\n\t\t}\n\t}\n\trep(i, 0, N) {\n\t\tque[i] ^= reversed;\n\t}\n\tif(K <= 6 * N) {\n\t\trep(i, 0, N) {\n\t\t\tcout << (que[i] == 1 ? 'A' : 'B');\n\t\t}\n\t}\n\telse {\n\t\tif(N % 2 == 0) {\n\t\t\trep(i, 0, N) {\n\t\t\t\tcout << (que[i] == 1 ? 'A' : 'B');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\trep(i, 0, N) {\n\t\t\t\tcout << (que[i] == (1 ^ (i == 0 ? (N - K) % 2 : 0)) ? 'A' : 'B');\n\t\t\t}\n\t\t}\n\t}\n\tcout << \"\\n\";\n}\n\nuint32_t rd() {\n\tuint32_t res;\n#ifdef __MINGW32__\n\tasm volatile(\"rdrand %0\" :\"=a\"(res) ::\"cc\");\n#else\n\tres = std::random_device()();\n#endif\n\treturn res;\n}\n\nint main() {\n#ifndef LOCAL\n\tios::sync_with_stdio(false);\n    cin.tie(0);\n#endif\n    cout << fixed;\n\tcout.precision(20);\n    cerr << fixed;\n\tcerr.precision(6);\n\trng.seed(rd());\n#ifdef LOCAL\n\t//freopen(\"in.txt\", \"wt\", stdout); //for tester\n\tif(!freopen(\"in.txt\", \"rt\", stdin)) return 1;\n#endif\t\n\tsolve();\n    cerr << \"Time: \" << 1.0 * clock() / CLOCKS_PER_SEC << \" s.\\n\";\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(2*n+1,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'A':'B');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <deque>\n\n#define FOR(i, a, b) for (int i = (a); i < (b); ++i)\n#define REP(i, n) FOR (i, 0, n)\n#define _ << \" _ \" <<\n#define TRACE(x) cerr << #x << \" = \" << x << endl\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n//#define debug\n//#define TRACE(x)\n\nusing namespace std;\n\ntypedef long long llint;\n\nconst int MAXN = 200010;\n\nint n, k, par;\nchar s[MAXN];\ndeque<int> d;\n\nvoid update() {\n  if (d.front() == 0) {\n    d.pop_front();\n    d.push_front(1);\n    return;\n  }\n  d.pop_front();\n  par ^= 1;\n  d.push_back(par);\n}\n\nvoid print() {\n  for (; !d.empty(); d.pop_front())\n    printf(d.front() ^ par ? \"B\" : \"A\");\n  printf(\"\\n\");\n}\n\nint main(void) {\n  scanf(\"%d %d\",&n,&k);\n  scanf(\"%s\",s);\n  REP(i, n) d.push_back(s[i] == 'A' ? 0 : 1);\n\n  REP(it, 2 * n) {\n    update();\n    if (it + 1 == k) {\n      print();\n      return 0;\n    }\n  }\n  if (k % 2 == 1)\n    update();\n  \n  print();\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\n#ifdef MAX_HOME\nconst int L = 10;\n#else\nconst int L = 5e7 + 10;\n#endif\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    int lst = -1e5;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (abs(i - lst) <= 10) {\n        dif %= 3;\n        assert(n & 1);\n    } else {\n        dif %= 2;\n        assert(!(n & 1));\n    }\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <algorithm>\n#include <cstdio>\n\nconst int N = 200010;\nconst int M = 1000010;\nconst int K = M/2;\nint _w;\n\nint n, k, p, st;\nchar s[M];\n\nvoid solve() {\n\tif( s[p] == 'A' ) {\n\t\ts[p] = 'B';\n\t} else {\n\t\tst ^= 1;\n\t\ts[p+n] = st ? 'B' : 'A';\n\t\t++p;\n\t}\n}\n\nint main() {\n\t_w = scanf( \"%d%d%s\", &n, &k, s );\n\tif( k <= K ) {\n\t\twhile( k-- ) solve();\n\t\tfor( int i = 0; i < n; ++i )\n\t\t\tputchar( st ? 131 - s[p+i] : s[p+i] );\n\t\tputs(\"\");\n\t} else {\n\t\tfor( int i = 0; i < K; ++i ) solve();\n\t\tk -= K;\n\t\tif( n % 2 && k % 2 ) s[p] = 131 - s[p];\n\t\tfor( int i = 0; i < n; ++i )\n\t\t\tputchar( st ? 131 - s[p+i] : s[p+i] );\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(K-- && cnt + 1 < ans.size())\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tfor(int i = 1 ; i <= N && K-- ; ++i)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\tif(K){\n\t\t\tK %= 2;\n\t\t\twhile(K--)\n\t\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\t}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst double PI = 3.14159265358979323846;\ntypedef vector<int> vint;\ntypedef pair<int, int> pint;\nint dx[8] = {1, 0, -1, 0, 1, -1, -1, 1};\nint dy[8] = {0, 1, 0, -1, 1, 1, -1, -1};\n// cout << fixed << setprecision(20);\n\nint N, K;\nstring S;\n\nchar part(int idx, int shift) {\n    char ret;\n    if (idx + shift < N)ret = S[idx + shift];\n    else ret = (idx + shift - N) % 2 == 0 ? 'B' : 'A';\n    if (shift % 2 == 1)ret = 'A' + 'B' - ret;\n    return ret;\n}\nsigned main() {\n    cin >> N >> K >> S;\n    int shift = 0;\n    bool turned = false;\n    for (int i = 0; i < N; i++) {\n        if (S[i] == (i % 2 == 0 ? 'A' : 'B'))K--, turned = true;\n        if (K == 0)break;\n        K--;\n        turned = false;\n        shift++;\n        if (K == 0)break;\n    }\n    if (K > 0) {\n        if (N % 2 == 0) {\n            turned = false;\n            shift += K;\n        } else {\n            turned = K % 2 == 1;\n            shift += K / 2;\n        }\n    }\n    if (turned)cout << (char)('A' + 'B' - part(0, shift));\n    else cout << part(0, shift);\n    for (int i = 1; i < N; i++)cout << part(i, shift);\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+1) k=k%2?(n*2+2):(n%2+1);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long int ll;\ntypedef long double ld;\n#define pb push_back\n#define pii pair < int , int >\n#define F first\n#define S second\n#define endl '\\n'\n#define int long long\n#define sync ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0)\n#pragma GCC optimize(\"Ofast,no-stack-protector,unroll-loops,fast-math\")\n#define kill(x) return cout<<x<<'\\n', 0;\nusing namespace std;\nconst int N=2e5+100;\nchar ans[N];\nint32_t main(){\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    if (k>=n){\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        kill(y);\n    }\n    ll cnt=0;\n    if (s[0]=='A') cnt++;\n    ans[0]='B';\n    for (int i=1;i+cnt<=k;i++){\n        char c=s[i];\n        if (i%2==0){\n            if (c=='A'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n        else{\n            if (c=='B'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n    }\n    for (int i=1;i<n;i++){\n        ll z=i+k-cnt;\n        if (z>=n){\n            if (i%2==(n-1)%2){\n                ans[i]='A';\n            }\n            else{\n                ans[i]='B';\n            }\n        }\n        else{\n            if (z%2==i%2){\n                ans[i]=s[z];\n            }\n            else{\n                if (s[z]=='A') ans[i]='B';\n                else ans[i]='A';\n            }\n        }\n    }\n    for (int i=0;i<n;i++) cout << ans[i];\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef double db;\ntypedef long long ll;\ntypedef pair<int,int> pa;\n#define w1 first\n#define w2 second\n#define ls (x<<1)\n#define rs (x<<1|1)\n#define pb push_back\n#define mp make_pair\n#define mid ((l+r)>>1)\n#define SZ(x) ((x).size())\n#define All(x) (x).begin(),(x).end()\n#define rep(i,a,b) for(int (i)=(a);(i)<=(b);(i)++)\n#define rep2(i,a,b) for(int (i)=(a);(i)<(b);(i)++)\n#define per(i,a,b) for(int (i)=(a);(i)>=(b);(i)--)\n#define Rep(p,x) for(int (p)=head[(x)];(p);(p)=nxt[(p)])\ntemplate<class T>void read(T&num){\n\tnum=0;T f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9')num=num*10+ch-'0',ch=getchar();\n\tnum*=f;\n}\nint power(int x,int k,int p){int res=1;for(;k;k>>=1,x=1ll*x*x%p)if(k&1)res=1ll*res*x%p;return res;}\nint getgcd(int x,int y){return !x?y:getgcd(y%x,x);}\nconst int maxn=1e6+5;\nint n,k;\nint a[maxn];\nchar str[maxn];\nint main(){\n\tread(n);read(k);\n\tscanf(\"%s\",str+1);\n\trep(i,1,n)a[i]=str[i]-'A';\n\trep(i,1,n)if(!(i&1))a[i]^=1;\n\trep(i,n+1,2*n)a[i]=!(n&1);\n\tint pnt=1;\n\twhile(k){\n\t\tif(pnt==n+1){\n\t\t\tif((k&1)&&!a[pnt])a[pnt]^=1;\n\t\t\tbreak;\n\t\t}else{\n\t\t\tif(!a[pnt])a[pnt]^=1;\n\t\t\telse pnt++;\n\t\t}\n\t\tk--;\n\t}\n\trep(i,1,n)\n\t\tif(i&1)putchar('A'+a[pnt+i-1]);\n\t\telse putchar('A'+(a[pnt+i-1]^1));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0&&erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}else{\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\tooh:;\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\twhile (k != 0 && !(reversed == true||s[erasing] == 'B')) {\n\t\t\t\tk--;\n\t\t\t\tif (reversed == true) {\n\t\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = false;\n\t\t\t\t\t\ts.push_back('A');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ts[erasing] = 'A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = true;\n\t\t\t\t\t\ts.push_back('B');\n\t\t\t\t\t}\n\t\t\t\t\telse s[erasing] = 'B';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (k == 0) goto ooh;\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tif (k % 2 == 1) {\n\t\t\t\tans[0] = 'B';\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 1;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <map>\n#include <set>\n#include <functional>\n#include <iostream>\n#define MOD 1000000007LL\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint n,k;\ndeque<P> que;\n\nint main(void){\n\tscanf(\"%d%d\",&n,&k);\n\tstring str;\n\tcin >> str;\n\tfor(int i=0;i<n;i++){\n\t\tif(str[i]=='A')que.push_back(P(0,0));\n\t\telse que.push_back(P(1,0));\n\t}\n\tint flip=0;\n\tfor(int i=0;i<min(n*2,k);i++){\n\t\tint g=que[0].first;\n\t\tif(g==0){\n\t\t\tque.pop_front();\n\t\t\tque.push_front(P(1,flip));\n\t\t}else{\n\t\t\tflip++;\n\t\t\tque.pop_front();\n\t\t\tque.push_back(P(0,flip));\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif((flip-que[i].second)%2==1){\n\t\t\tque[i].first=1-que[i].first;\n\t\t}\n\t}\n\tif(n*2<k){\n\t\tint rest=k-n*2;\n\t\tif(n%2==1 && rest%2==1){\n\t\t\tque[0].first=1-que[0].first;\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tprintf(\"%c\",que[i].first==0?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nchar str[400005];\nint main()\n{\n\t// freopen(\"AGC011-D.in\", \"r\", stdin);\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, str);\n\tint l = 0, r = n, lazy = 0;\n\twhile (k-- && l < n)\n\t{\n\t\tif ((str[l] ^ lazy) == 'A')\n\t\t\tstr[l] ^= 3;\n\t\telse\n\t\t{\n\t\t\tlazy ^= 3;\n\t\t\tstr[r++] = 'A' ^ lazy;\n\t\t\tl++;\n\t\t}\n\t}\n\tif ((n & 1) && !(k & 1))\n\t\tstr[l] ^= 3;\n\tfor (int i = l; i < r; i++)\n\t\tputchar(str[i] ^ lazy);\n\tputs(\"\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nconst int N=200200;\nint i,j,k,n,m;\nchar s[N],ans[N];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tj=1;\n\tfor (i=n;i;i--) {\n\t\tif ((n-i)&1) ans[i]='B';\n\t\telse ans[i]='A';\n\t}\n\tfor (i=1;i<=m;i++) {\n\t\tif (s[j]=='A') {\n\t\t\ts[j]='B';\n\t\t\tcontinue;\n\t\t}\n\t\telse {\n\t\t\tif (++j>n) break;\n\t\t\tif (!(j&1)) s[j]='A'+'B'-s[j];\n\t\t}\n\t}\n\tfor (i=j;i<=n;i++) {\n\t\tif (!(j&1) && i!=j) s[i]='A'+'B'-s[i];\n\t\tans[i-j+1]=s[i];\n\t}\n\tprintf(\"%s\\n\",ans+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <climits>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <iostream>\n#include <sstream>\n#include <functional>\n#include <map>\n#include <string>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <deque>\n#include <set>\n#include <list>\n#include <numeric>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll,ll> P;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst ll INF = 1LL<<29;\nconst ll mod = 1e9+7;\n#define rep(i,n) for(int (i)=0;(i)<(ll)(n);++(i))\n#define repd(i,n,d) for(ll (i)=0;(i)<(ll)(n);(i)+=(d))\n#define all(v) (v).begin(), (v).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset((m),(v),sizeof(m))\n#define chmin(x,y) (x=min(x,y))\n#define chmax(x,y) (x=max(x,y))\n#define fst first\n#define snd second\n#define UNIQUE(x) (x).erase(unique(all(x)),(x).end())\ntemplate<class T> ostream &operator<<(ostream &os, const vector<T> &v){int n=v.size();rep(i,n)os<<v[i]<<(i==n-1?\"\":\" \");return os;}\n\nint main(){\n\tll n, k;\n\tstring s;\n\tcin>>n>>k>>s;\n\tdeque<char> q;\n\trep(i, s.size()) q.push_back(s[i]-'A');\n\tint t = 0;\n\tif(k>n*4) k = (k-n*4)%4+n*4;\n\tfor(int i = 0, m = k; i < m; i++,k--){\n\t\tchar c = q.front(); q.pop_front();\n\t\tif(t) c = !c;\n\t\tif(c==0) q.push_front(!t);\n\t\telse {\n\t\t\tt = !t;\n\t\t\tq.push_back(t);\n\t\t}\n\t}\n\tstring res;\n\twhile(!q.empty()){\n\t\tchar a = q.front();\n\t\ta ^= t;\n\t\tres += a+'A'; q.pop_front();\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <ctime>\n\n#define Rep(i, n) for (int i = 1; i <= n; i ++)\n#define Rep0(i, n) for (int i = 0; i <= n; i ++)\n#define RepG(i, x) for (int i = head[x]; i; i = edge[i].next)\n#define v edge[i].to\n#define mp(a, b) make_pair(a, b)\n\nusing namespace std;\n\nconst int N = 200010;\n\nchar s[N];\nint a[N];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\t\n\tRep(i, n) a[i] = (s[i] == 'A');\n\t\n\tbool flag = false;\n\tint i = 1;\n\t\n\twhile (i <= n) {\n\t\tif (!k) {\n\t\t\tfor (int j = i; j <= n; j ++){\n\t\t\t\tif ((!(i & 1)) ^ a[j]) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tRep(j, i - 1){\n\t\t\t\tif ((j & 1) ^ (i & 1)) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\tflag = true; break;\n\t\t}\n\t\tif (a[i] ^ (!(i & 1))) a[i] ^= 1;\n\t\telse i ++;\n\t\tk --;\n\t}\n\t\n\tif (!flag) {\n\t\tif (n & 1) {\n\t\t\tRep(i, n){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tif (k & 1) printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t\tRep(i, n - 1){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nstring s;\nint N,K;\nbool a[2<<17];\nmain()\n{\n\tcin>>N>>K>>s;\n\tfor(int i=0;i<N;i++)\n\t{\n\t\ta[i]=i+1<N&&s[i]==s[i+1]||i+1==N&&s[i]=='B';\n\t}\n\tint cnt=0,now=0;\n\tbool t=s[0]=='A',f=0;\n\twhile(now<K&&cnt<N)\n\t{\n\t\tif(t)\n\t\t{\n\t\t\tt^=1;\n\t\t\tf=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tt^=f^a[cnt++];\n\t\t\tf=0;\n\t\t}\n\t\tnow++;\n\t}\n\tbool flag=0;\n\tfor(int i=N;--i;)\n\t{\n\t\ts[i]=(s[i]=='A')^(flag^=a[i]^(i+cnt<N&&a[i+cnt]))?'A':'B';\n\t}\n\ts[0]=t^(cnt==N&&N%2==1&&(K-now)%2==1)?'A':'B';\n\tcout<<s<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "// need\n#include <iostream>\n#include <algorithm>\n\n// data structure\n#include <bitset>\n//#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n//#include <array>\n//#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <complex>\n//#include <deque>\n#include<valarray>\n\n// stream\n//#include <istream>\n//#include <sstream>\n//#include <ostream>\n\n// etc\n#include <cassert>\n#include <functional>\n#include <iomanip>\n//#include <typeinfo>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n#define INIT std::ios::sync_with_stdio(false);std::cin.tie(0);\n#define VAR(type, ...)type __VA_ARGS__;MACRO_VAR_Scan(__VA_ARGS__);\ntemplate<typename T> void MACRO_VAR_Scan(T& t) { std::cin >> t; }\ntemplate<typename First, typename...Rest>void MACRO_VAR_Scan(First& first, Rest&...rest) { std::cin >> first; MACRO_VAR_Scan(rest...); }\n#define VEC_ROW(type, n, ...)std::vector<type> __VA_ARGS__;MACRO_VEC_ROW_Init(n, __VA_ARGS__); for(int i=0; i<n; ++i){MACRO_VEC_ROW_Scan(i, __VA_ARGS__);}\ntemplate<typename T> void MACRO_VEC_ROW_Init(int n, T& t) { t.resize(n); }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Init(int n, First& first, Rest&...rest) { first.resize(n); MACRO_VEC_ROW_Init(n, rest...); }\ntemplate<typename T> void MACRO_VEC_ROW_Scan(int p, T& t) { std::cin >> t[p]; }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Scan(int p, First& first, Rest&...rest) { std::cin >> first[p]; MACRO_VEC_ROW_Scan(p, rest...); }\n#define OUT(d) std::cout<<d;\n#define FOUT(n, d) std::cout<<std::fixed<<std::setprecision(n)<<d;\n#define SOUT(n, c, d) std::cout<<std::setw(n)<<std::setfill(c)<<d;\n#define SP std::cout<<\" \";\n#define TAB std::cout<<\"\\t\";\n#define BR std::cout<<\"\\n\";\n#define ENDL std::cout<<std::endl;\n#define FLUSH std::cout<<std::flush;\n#define VEC(type, c, n) std::vector<type> c(n);for(auto& i:c)std::cin>>i;\n#define MAT(type, c, m, n) std::vector<std::vector<type>> c(m, std::vector<type>(n));for(auto& r:c)for(auto& i:r)std::cin>>i;\n#define ALL(a) (a).begin(),(a).end()\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RFOR(i, a, b) for(int i=(b)-1;i>=(a);--i)\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define RREP(i, n) for(int i=(n)-1;i>=0;--i)\n#define FORLL(i, a, b) for(ll i=ll(a);i<ll(b);++i)\n#define RFORLL(i, a, b) for(ll i=ll(b)-1;i>=ll(a);--i)\n#define REPLL(i, n) for(ll i=0;i<ll(n);++i)\n#define RREPLL(i, n) for(ll i=ll(n)-1;i>=0;--i)\n#define PAIR std::pair<int, int>\n#define PAIRLL std::pair<ll, ll>\n#define IN(a, x, b) (a<=x && x<b)\n#define SHOW(d) {std::cerr << #d << \"\\t:\" << d << \"\\n\";}\n#define SHOWVECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOWVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr << yyy << \" \";}std::cerr << \"\\n\";}}\n#define SHOWPAIR(p) {std::cerr << #p << \"\\t:(\" << p.first << \",\\t\" << p.second << \")\\n\";}\n#define SHOWPAIRVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr<<'('<<yyy.first<<\", \"<<yyy.second<<\") \";}std::cerr << \"\\n\";}}\n#define SHOWPAIRVECTOR(v) {for(const auto& xxx:v){std::cerr<<'('<<xxx.first<<\", \"<<xxx.second<<\") \";}std::cerr<<\"\\n\";}\n#define SHOWQUEUE(a) {std::queue<decltype(a.front())> tmp(a);std::cerr << #a << \"\\t:\";for(int i=0; i<static_cast<int>(a.size()); ++i){std::cerr << tmp.front() << \"\\n\";tmp.pop();}std::cerr << \"\\n\";}\ntemplate<typename T> inline T CHMAX(T& a, const T b) { return a = (a < b) ? b : a; }\ntemplate<typename T> inline T CHMIN(T& a, const T b) { return a = (a > b) ? b : a; }\n#define EXCEPTION(msg) throw std::string(\"Exception : \" msg \" [ in \") + __func__ + \" : \" + std::to_string(__LINE__) + \" lines ]\"\n#define TRY(cond, msg) try {if (cond) EXCEPTION(msg);}catch (std::string s) {std::cerr << s << std::endl;}\nvoid CHECKTIME(std::function<void()> f) { auto start = std::chrono::system_clock::now(); f(); auto end = std::chrono::system_clock::now(); auto res = std::chrono::duration_cast<std::chrono::nanoseconds>((end - start)).count(); std::cerr << \"[Time:\" << res << \"ns  (\" << res / (1.0e9) << \"s)]\\n\"; }\n\n#define int ll\nusing ll = long long;\nusing ull = unsigned long long;\nconstexpr int INFINT = 1 << 30;                          // 1.07x10^ 9\nconstexpr int INFINT_LIM = (1LL << 31) - 1;              // 2.15x10^ 9\nconstexpr ll INFLL = 1LL << 60;                          // 1.15x10^18\nconstexpr ll INFLL_LIM = (1LL << 62) - 1 + (1LL << 62);  // 9.22x10^18\nconstexpr double EPS = 1e-7;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.141592653589793238462643383279;\n\nsigned main() {\n\tINIT;\n\tVAR(int, n, k);\n\tVAR(std::string, s);\n\ts = '$' + s + '$';\n\tint cnt = 0;\n\twhile(k--) {\n\t\tint p = 1;\n\t\tint d = 1;\n\t\twhile (s[p] != '$') {\n\t\t\tif (s[p] == 'A') {\n\t\t\t\ts[p] = 'B';\n\t\t\t\td *= -1;\n\t\t\t\tp += d;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[p] = 'A';\n\t\t\t\tp += d;\n\t\t\t}\n\t\t}\n\t\tif (s.substr(s.size() - 3, 2) == \"BA\") {\n\t\t\ts.resize(s.size() - 3);\n\t\t\ts += '$';\n\t\t\t++cnt;\n\t\t}\n\t\tif (s.size() <= 3) break;\n\t}\n\ts = s.substr(1, s.size() - 2);\n\tif (k == -1) {\n\t\tOUT(s);\n\t\tREP(i, cnt) {\n\t\t\tOUT(\"BA\");\n\t\t}\n\t\tBR;\n\t\treturn 0;\n\t}\n\tif (s.size() == 1) {\n\t\tk %= 2;\n\t\tif (k == 1) {\n\t\t\tOUT(((s[0] == 'A') ? 'B' : 'A'));\n\t\t}\n\t\telse {\n\t\t\tOUT(s[0]);\n\t\t}\n\t\tREP(i, cnt) {\n\t\t\tOUT(\"BA\");\n\t\t}\n\t\tBR;\n\t\treturn 0;\n\t}\n\telse {\n\t\tREP(i, cnt) {\n\t\t\tOUT(\"BA\");\n\t\t}\n\t\tBR;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2) k=n*2+1;\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 2e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\t//dbg(r, k, h); rep(i, n) cerr<<(char)(q[i]+'A'); cerr<<endl;\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 2 - 2;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int maxn = 200010;\n\nchar s[maxn * 4];\n\nint main() {\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s);\n\tint l = 0;\n\tbool flag = false;\n\tk%=4*n;\n\twhile(k--) {\n\t\tif((s[l]=='A')^flag) s[l]=(s[l]=='A')?'B':'A';\n\t\telse s[l+n]=flag?'A':'B', ++l, flag=!flag;\n\t}\n\tif(flag) for(char*p=s+l;*p;++p)*p=(*p=='A')?'B':'A';\n\tputs(s+l);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define pb push_back\n#define cmin(a,b) (a>b?a=b:a)\n#define cmax(a,b) (a<b?a=b:a)\n#define lop(i,s,t) for(int i=s;i<(t);++i)\n#define rep(i,s,t) for(int i=s;i<=(t);++i)\n#define dec(i,s,t) for(int i=s;i>=(t);--i)\n#define fore(i,v) for(int i=g[v],d=es[i].d;i;i=es[i].nxt,d=es[i].d)\nusing namespace std;\n\n#define Pr(f,...) fprintf(stderr,f,##__VA_ARGS__),fflush(stderr)\n\nconst int N=5e5+50; \n\nint n,k,a[N];\nchar s[N]; \nint main(int argc,char *argv[]){\n#ifdef CURIOUSCAT\n\tfreopen(\"dat.in\",\"r\",stdin);\n\t//freopen(\"my.out\",\"w\",stdout);\n#endif\n\tscanf(\"%d%d%s\",&n,&k,s); \n\tlop(i,0,n)a[i]=s[i]=='B';\n\t//maintaining [p,p+n)^flag\n\tint p=0,q=p+n;//[p,p+n)\n\tbool flag=0;\n\twhile(k--){\n\t\tif(a[p]^flag==0)a[p]=1^flag; \n\t\telse{\n\t\t\tflag^=1;\n\t\t\ta[q]=0^flag;\n\t\t\tif(++p>=N)p=0; \n\t\t\tif(++q>=N)q=0; \n\t\t}\n\t}\n\tlop(i,0,n)printf(\"%c\",(a[(p+i)%N]^flag)?'B':'A'); \n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"A\";\n            else\n                cout << \"B\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 1)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define f(i, x, n) for(int i = x; i < (int)(n); ++i)\n\nchar s[200002];\nint n, k;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\ts[n] = 'B';\n\tint i = 0;\n\tbool c = false;\n\twhile (k && i <= n){\n\t\tif (!c && s[i] - (i & 1) == 'A'){\n\t\t\tc = true;\n\t\t\t--k;\n\t\t\tcontinue;\n\t\t}\n\t\tc = false;\n\t\t--k;\n\t\t++i;\n\t}\n\tf(j, 0, n){\n\t\tint z = j + i;\n\t\tif (z > n){\n\t\t\tif (n - j & 1)s[j] = 'A';\n\t\t\telse s[j] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\tif (i & 1) { if (s[z] == 'A')s[j] = 'B'; else s[j] = 'A'; }\n\t\telse s[j] = s[z];\n\t}\n\tif (c)s[0] = 'B';\n\ts[n] = 0;\n\tprintf(\"%s\\n\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <size_t N>\nint print(std::bitset<N>& b, int n) {\n    for (int i = 0; i < n; i++) std::cout << (b[i] ? 'B' : 'A');\n    std::cout << std::endl;\n\n    return 0;\n}\n\nint main() {\n    int n, k;\n    std::string s;\n    std::cin >> n >> k >> s;\n    std::bitset<210000> b;\n    // A -> 0, B -> 1\n    for (auto i = 0; i < s.size(); i++) {\n        b[i] = s[i] == 'B';\n    }\n    int cnt = 0;\n    for (int i = 0; i < n; i++) {\n        if (i + cnt == k) return print(b, n);\n        if (!b[0]) {\n            cnt++;\n            if (i + cnt == k) {\n                b[0] = true;\n                return print(b, n);\n            }\n        }\n        b >>= 1;\n        b = ~b;\n        b[n - 1] = false;\n    }\n\n    if (n % 2) {\n        std::cout << ((k - n - cnt) % 2 ? 'B' : 'A');\n        for (int i = 1; i < n; i++) std::cout << (i % 2 ? 'B' : 'A');\n    } else {\n        for (int i = 0; i < n; i++) std::cout << (i % 2 ? 'A' : 'B');\n    }\n\n    std::cout << std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring a;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> a;\n}\n\nuint64_t chsh;\nmap<uint64_t, int> pos;\n\nvoid preform()\n{\n\tint pos = 0, last = -1;\n\twhile(pos >= 0 && pos < n)\n\t{\n\t\ta[pos] = ((a[pos] - 'A') ^ 1) + 'A';\n\n\t\tif(a[pos] == 'B') swap(last, pos);\n\t\telse\n\t\t{\n\t\t\tint val = pos;\n\t\t\tpos += (pos - last);\n            last = val;\n\t\t}\n\t}\n}\n\nvoid solve()\n{\n\tint period = 1;\n    for(int i = 0; i < k; i++)\n\t{\n\t\tpreform();\n\n\t\tchsh = 0;\n\t\tfor(int j = 0; j < n; j++)\n\t\t\tchsh = chsh * 3 + a[j] - 'A' + 1;\n\n        if(pos.count(chsh))\n\t\t{\n\t\t\tk -= (i + 1);\n            period = (i - pos[chsh]);\n\t\t\tbreak;\n\t\t}\n\n        pos[chsh] = i;\n\t}\n\n\tk %= period;\n    for(int i = 0; i < k; i++)\n    \tpreform();\n\n\tcout << a << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, k, g, ps;\nchar s[200007], res[200007], now = 'A';\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tg = ps = n;\n\twhile (g && s[ps] == now)\n\t{\n\t\tnow = (now == 'A' ? 'B' : 'A');\n\t\tg--;\n\t\tps--;\n\t}\n\twhile (k >= 3 && g)\n\t{\n\t\tk -= 3;\n\t\tnow = (now == 'A' ? 'B' : 'A');\n\t\tg--;\n\t\twhile (g && s[ps] == now)\n\t\t{\n\t\t\tnow = (now == 'A' ? 'B' : 'A');\n\t\t\tg--;\n\t\t\tps--;\n\t\t}\n\t}\n\tif (!g)\n\t{\n\t\tnow = 'A';\n\t\tfor (int i = n; i >= 1; i--)\n\t\t{\n\t\t\tres[i] = now;\n\t\t\tnow = (now == 'A' ? 'B' : 'A');\n\t\t}\n\t\tif (n % 2 == 1 && k % 2 == 1)res[1] = 'B';\n\t\tprintf(\"%s\\n\", res + 1);\n\t\treturn 0;\n\t}\n\tnow = 'A';\n\tfor(int i=n;i>g;i--)\n\t{\n\t\tres[i] = now;\n\t\tnow = (now == 'A' ? 'B' : 'A');\n\t}\n\tfor (int i = g, j = ps; i >= 1; i--, j--)\n\t\tres[i] = s[j];\n\tfor (int i = 1; i <= k; i++)\n\t{\n\t\tint p = 1, t = 1;\n\t\tdo\n\t\t{\n\t\t\tif (res[p] == 'A')t = -t;\n\t\t\tres[p] = (res[p] == 'A' ? 'B' : 'A');\n\t\t\tp += t;\n\t\t} while (p >= 1 && p <= n);\n\t}\n\tprintf(\"%s\\n\", res + 1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define FOR(i,j,k) for(int (i)=(j);(i)<(int)(k);++(i))\n#define rep(i,j) FOR(i,0,j)\n#define each(x,y) for(auto &(x):(y))\n#define mp make_pair\n#define mt make_tuple\n#define all(x) (x).begin(),(x).end()\n#define debug(x) cout<<#x<<\": \"<<(x)<<endl\n#define smax(x,y) (x)=max((x),(y))\n#define smin(x,y) (x)=min((x),(y))\n#define MEM(x,y) memset((x),(y),sizeof (x))\n#define sz(x) (int)(x).size()\n#define pb push_back\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n\nstring simulate(string S) {\n    int cur = 0, dir = 1;\n    while (cur >= 0 && cur < sz(S)) {\n        if (S[cur] == 'A') {\n            dir *= -1;\n            S[cur] = 'B';\n        } else {\n            S[cur] = 'A';\n        }\n        cur += dir;\n    }\n    return S;\n}\n\nvoid test() {\n    srand(100);\n    rep(ii, 10) {\n        string s;\n        rep(i, 10) {\n            s += (rand() % 2 ? 'A' : 'B');\n        }\n\n        cout << s << endl << simulate(s) << endl << endl;\n    }\n}\n\n\nint N, K;\nint s[200001];\nstring S;\n\nint main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n\n    // test();\n\n    cin >> N >> K >> S;\n    rep(i, N) {\n        s[i] = S[i] == 'A' ? 0:1;\n    }\n\n    int cur = 0, rev = 0;\n\n    while (K--) {\n        int x = s[cur] ^ rev;\n        if (x) {// B\n            ++cur;\n            if (cur == N)cur = 0;\n            rev = 1 - rev;\n        } else {\n            s[cur] = 1 - s[cur];\n        }\n    }\n\n    rep(i, N) {\n        int x = s[cur++] ^ rev;\n        if (cur == N)cur = 0;\n        cout << (x ? 'B' : 'A');\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+1) k=k%2?(n*2+1):(n*2+2);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#if 0\ndate +%Y.%m.%d\n\n这。。。O(k) 能过？我本来只是想验证个猜想来着，一不小心就 AC 了。。。\n\n不难归纳出串 S 经过一次碰撞后有两种情况：\n1) S 的开头就是 A ，球直接弹飞，S 的开头变为 B\n2) S 的开头不是 A ，球一定可以经过所有点，此后 S 取反后循环左移一位即为新的 S\n\n关于 2) 的证明：\n首先球如果刚跨过第 i 个点时第 i 个点一定是 A ，\n因为能跨过它说明之前该点为 B ，那么跨过后就变成了 A 。\n那么分两种情况：\ni) A -> B ，直接变为 A A ->\nii) A -> A ，来回碰撞后变为 B A ->\n不难发现每次第 i 个点就变成了第 i + 1 个点的相反。\n对于边界，由于碰撞之前开头一定是 B ，碰撞之后结尾一定是 A ，所以也是成立的。\n\n那么把 S 看作一个环，记一个反转标记和起点位置即可 O(k) 模拟，常数极小。\n\n正解的话也很简单，事实上 S 的转移是 pho 形的，且链的长度是 2n 的因子，环的长度是 2 的因子．\n令 k = 2n + (k - 2n) % 2 即可（仅适用于 k > 2n ）．\n#endif\n#include <cstdio>\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n\ntypedef long long ll;\n\nstruct {\n\tinline operator int () { int x; return scanf(\"%d\", &x), x; }\n\tinline operator ll () { ll x; return scanf(\"%lld\", &x), x; }\n\ttemplate<class T> inline void operator () (T &x) { x = *this; }\n\ttemplate<class T, class ...A> inline void operator () (T &x, A &...a)\n\t{ x = *this; this -> operator ()(a...); }\n} read;\n\nconst int maxn = 200005;\nchar s[maxn];\n\nint main() {\n\tint n = read, k = read;\n\tscanf(\"%s\", s + 1);\n\n\tif(k > (n << 1)) {\n\t\tk -= n << 1;\n\t\tk &= 1;\n\t\tk += n << 1;\n\t}\n\n\tint p = 1, A = 'A';\n\twhile(k --) {\n\t\tif(s[p] == A)\n\t\t\ts[p] = 'A' + 'B' - s[p];\n\t\telse {\n\t\t\tA = 'A' + 'B' - A;\n\t\t\t++ p;\n\t\t\tif(p > n) p = 1;\n\t\t}\n\t}\n\n\tfor(int i = p; i <= n; i ++)\n\t\tprintf(\"%c\", \"BA\"[s[i] == A]);\n\tfor(int i = 1; i < p; i ++)\n\t\tprintf(\"%c\", \"BA\"[s[i] == A]);\n\tputs(\"\");\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k, km; rd(n, k); k = std::min(k, 10 * n); km = k;\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1; i <= k; ++i, --km) {\n\t\tif(a[st] == inv) a[st] ^= 1;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tif(n % 2 == 0) {\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t} else {\n\t\tprintf(\"%c\", a[st] ^ inv ^ (km & 1));\n\t\tfor(int i = 2; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <set>\n#include <map>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <bitset>\t\t//UWAGA - w czasie kompilacji musi byc znany rozmiar wektora - nie mozna go zmienic\n#include <cassert>\n#include <iomanip>\t\t//do setprecision\n#include <ctime>\n#include <complex>\nusing namespace std;\n\n#define FOR(i,b,e) for(int i=(b);i<(e);++i)\n#define FORQ(i,b,e) for(int i=(b);i<=(e);++i)\n#define FORD(i,b,e) for(int i=(b)-1;i>=(e);--i)\n#define REP(x, n) for(int x = 0; x < (n); ++x)\n\n#define ST first\n#define ND second\n#define PB push_back\n#define MP make_pair\n#define LL long long\n#define ULL unsigned LL\n#define LD long double\n\nconst double pi = 3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342;\n\nconst int MR = 2e5 + 10;\n\nchar S[MR], res[MR];\n\nint main()\n{\n\tint N, K;\n\tscanf(\"%d%d%s\", &N, &K, S);\n\tif (N == 1)\n\t{\n\t\tif (S[0] == 'A')\n\t\t\tS[0] += K % 2;\n\t\telse\n\t\t\tS[0] -= K % 2;\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\t// zobacz czy minimum raz przejdzie\n\tif (K == 1 && S[0] == 'A')\n\t{\n\t\tS[0] = 'B';\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\twhile (K)\n\t{\n\t\tint oldK = K;\n\t\tbool sel = 1;\n\t\tset<int> pom;\n\t\tint add = 0;\n\t\tres[N - 1] = 'A';\n\t\tFORD(i, N - 1, 0)\n\t\t{\n\t\t\t// spr czy mozesz poczatek dorzucic\n\t\t\tif (!sel)\n\t\t\t{\n\t\t\t\tif (S[i + 1] == 'A')\n\t\t\t\t\tpom.insert(-add + 1);\n\t\t\t}\n\t\t\telse if (S[i + 1] == 'B')\n\t\t\t\tpom.insert(-add + 1);\n\t\t\t// zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n\t\t\tif (pom.find(K - add) != pom.end())\n\t\t\t{\n\t\t\t\tif (sel)\n\t\t\t\t\tres[i] = 'A';\n\t\t\t\telse\n\t\t\t\t\tres[i] = 'B';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (sel)\n\t\t\t\t\tres[i] = 'B';\n\t\t\t\telse\n\t\t\t\t\tres[i] = 'A';\n\t\t\t}\n\t\t\t// przesun wszystkie pozycje o 1 dla kolejnego\n\t\t\tadd++;\n\t\t\t// zmien litere\n\t\t\tsel = !sel;\n\t\t}\n\n\t\tadd--;\n\t\tchar first;\n\t\t// wyznacz ile razy bedzie A na poczatku\n\t\tif (sel)\n\t\t{\n\t\t\t// poprzednie bylo A, czyli odejmij wszystkie wyjatki, gdzie pierwsze bedzie B\n\t\t\tif (pom.find(K - add) != pom.end())\n\t\t\t\tfirst = 'B';\n\t\t\telse\n\t\t\t\tfirst = 'A';\n\t\t\tK = pom.size();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfirst = 'B';\n\t\t\tint sub = 0;\n\t\t\tfor (auto pos : pom)\n\t\t\t{\n\t\t\t\tif (pos + add > K)\n\t\t\t\t\tbreak;\n\t\t\t\telse if (pos + add == K)\n\t\t\t\t\tfirst = 'A';\n\t\t\t\tsub++;\n\t\t\t}\n\n\t\t\tK -= sub;\n\t\t}\n\n\t\tres[0] = first;\n\t\tif (K == oldK)\n\t\t\tbreak;\n\t}\n\n\tprintf(\"%s\\n\", res);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <cmath>\n\nusing namespace std;\n\nconst int MAXN = 2000000 + 1000;\n\nint n, k;\nbool rev;\ndeque<int> q;\n\nint main()\n{\n\tios::sync_with_stdio(false);\n\t// freopen(\"1.in\", \"r\", stdin);\n\t// freopen(\"1.out\", \"w\", stdout);\n\n\tstatic char ss[MAXN];\n\t\n\tcin >> n >> k;\n\tcin >> (ss + 1);\n\trev = false;\n\tfor(int i = 1; i <= n; i++)\n\t\tq.push_back(ss[i] - 'A');\n\tk = min(k, 2 * n + (k + 2 * n) % 2);\n\tfor(int i = 1; i <= k; i++)\n\t{\n\t\tint v = q.front() ^ rev;\n\t\t// cerr << rev << ' ' << v << endl;\n\t\tq.pop_front();\n\t\tif(v)\n\t\t{\n\t\t\trev ^= 1;\n\t\t\tq.push_back(rev);\n\t\t}\n\t\telse\n\t\t\tq.push_front(rev ^ 1);\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t\tss[i] = (q.front() ^ rev) + 'A', q.pop_front();\n\n\tcout << (ss + 1) << endl;\n\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits//stdc++.h\"\nusing namespace std;\ntypedef long long ll;\nconst ll INF = 1LL << 60;\nconst ll MOD = 1e9 + 7;\n\n#define ALL(v) v.begin(), v.end()\nint main() {\n\tint N, K;\n\tcin >> N >> K;\n\tstring S;\n\tstring ans;\n\tans.resize(N);\n\tcin >> S;\n\tdeque<int> que;\n\tint len = 1;\n\tfor (int i = 1; i < S.size(); i++) {\n\t\tif (S[i - 1] == S[i]) {\n\t\t\tlen++;\n\t\t}\n\t\telse {\n\t\t\tque.push_back(len);\n\t\t\tlen = 1;\n\t\t}\n\t}\n\tque.push_back(len);\n\tbool head = (S[0] == 'B');\n\tint i;\n\tfor (i = 1; i <= K; i++) {\n\t\tif (que.size() == N) break;\n\t\tif (head) {\n\t\t\tif (que.size() == 1) {\n\t\t\t\thead = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint len = que.front(); que.pop_front();\n\t\t\tif (len > 1) {\n\t\t\t\tque.push_front(len - 1);\n\t\t\t\thead = 0;\n\t\t\t\tif (que.size() % 2 == 0) que.push_back(1);\n\t\t\t\telse que.back()++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (que.size() % 2 == 0) que.back()++;\n\t\t\t\telse que.push_back(1);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint len = que.front(); que.pop_front();\n\t\t\tif (len > 1) {\n\t\t\t\tque.push_front(len - 1);\n\t\t\t\tque.push_front(1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (que.size() > 0) que.front()++;\n\t\t\t\telse que.push_front(1);\n\t\t\t}\n\t\t\thead = 1;\n\t\t}\n\t}\n\tint pos = 0;\n\twhile (!que.empty()) {\n\t\tint len = que.front(); que.pop_front();\n\t\tfor (int i = 0; i < len; i++) {\n\t\t\tans[pos++] = head ? 'B' : 'A';\n\t\t}\n\t\thead ^= 1;\n\t}\n\tif (N % 2 == 1 && (K - i) % 2 == 1) {\n\t\tans[0] = 'B';\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define uniq(x) sort(all(x)),(x).erase(unique(all(x)),end(x))\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\n#define INF 2147483600\n\ninline char r(char c){\n  if(c=='A') return 'B';\n  else return 'A';\n}\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n\n  int pos=0;\n  bool rev=false;\n  while(k>0 && pos<n){\n    if((s[pos]=='A' && !rev) || (s[pos]=='B' && rev)) s[pos] = r(s[pos]);\n    else {\n      rev = !rev;\n      pos++;\n    }\n    k--;\n  }\n\n  string t = s.substr(pos);\n  if(rev) rep(i,t.size()) t[i] = r(t[i]);\n  cout << t;\n\n  bool b = pos%2==1;\n  rep(i,pos){\n    if(i==0 && pos==n && n%2==1 && k%2==1) cout<<\"B\";\n    else if(b) cout << \"A\";\n    else cout << \"B\";\n    b = !b;\n  }\n\n  cout << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <iostream>\n#include <cmath>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <algorithm>\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> P;\n\nint main()\n{\n\tint n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  bool a1=0;\n  if(s[0]='A') a1=1;\n  if(n==1){\n    if(a1){\n      if(k%2) cout<<\"B\"<<endl;\n      else cout<<\"A\"<<endl;\n    }else{\n      if(k%2) cout<<\"A\"<<endl;\n      else cout<<\"B\"<<endl;\n    }\n    return 0;\n  }\n  int ct=1;\n  deque<int> deq;\n  for(int i=1; i<n; i++){\n    if(s[i]!=s[i-1]){\n      deq.push_back(ct);\n      ct=1;\n    }else{\n      ct++;\n    }\n  }\n  deq.push_back(ct);\n  int i0=-1;\n  for(int i=0; i<k; i++){\n    if(a1){\n      a1=0;\n      int x=deq.front();\n      deq.pop_front();\n      if(x>1){\n        deq.push_front(x-1);\n        deq.push_front(1);\n      }else{\n        int y=deq.front();\n        deq.pop_front();\n        deq.push_front(y+1);\n      }\n    }else{\n      int x=deq.front();\n      deq.pop_front();\n      if(x>1){\n        a1=1;\n        deq.push_front(x-1);\n      }\n      int y=deq.back();\n      if((a1 && deq.size()%2==1) || (!a1 && deq.size()%2==0)){\n        deq.pop_back();\n        deq.push_back(y+1);\n      }else{\n        deq.push_back(1);\n      }\n    }\n    //if(i>=1 && deq.size()==n){\n    //  i0=i;\n    //  break;\n    //}\n  }\n  if(i0==-1){\n    for(auto x:deq){\n      if(a1){\n        for(int i=0; i<x; i++) cout<<\"A\";\n        a1=0;\n      }else{\n        for(int i=0; i<x; i++) cout<<\"B\";\n        a1=1;\n      }\n    }\n    cout<<endl;\n  }else{\n    if(n%2==0){\n      for(int i=0; i<n; i++){\n        if(i%2) cout<<\"A\";\n        else cout<<\"B\";\n      }\n      cout<<endl;\n    }else{\n      if((k-1-i0)%2==0){\n        for(int i=0; i<n; i++){\n          if(i%2) cout<<\"B\";\n          else cout<<\"A\";\n        }\n        cout<<endl;\n      }else{\n        cout<<\"B\";\n        for(int i=1; i<n; i++){\n          if(i%2) cout<<\"B\";\n          else cout<<\"A\";\n        }\n        cout<<endl;\n      }\n    }\n  }\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if((i % 2 == 0 && s[i] == 'A') || (i % 2 == 1 && s[i] == 'B'))\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"A\";\n            else\n                cout << \"B\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 1)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <array>\n#include <set>\n#include <map>\n#include <queue>\n#include <tuple>\n#include <unordered_set>\n#include <unordered_map>\n#include <functional>\n#include <cassert>\n#define repeat(i,n) for (int i = 0; (i) < int(n); ++(i))\n#define repeat_from(i,m,n) for (int i = (m); (i) < int(n); ++(i))\n#define repeat_reverse(i,n) for (int i = (n)-1; (i) >= 0; --(i))\n#define repeat_from_reverse(i,m,n) for (int i = (n)-1; (i) >= int(m); --(i))\n#define whole(f,x,...) ([&](decltype((x)) whole) { return (f)(begin(whole), end(whole), ## __VA_ARGS__); })(x)\n#define debug(x) #x << \" = \" << (x) << \" \"\nusing ll = long long;\nusing namespace std;\nconstexpr size_t max_n = 200000;\nbool a[max_n+1];\nint main() {\n    int n, k; scanf(\"%d%d\", &n, &k);\n    repeat (i,n) { char c; scanf(\" %c\", &c); a[i] = (c == 'A'); }\n    int m = n;\n    a[m+1] = false;\n    while (k --) {\n        if (a[0]) {\n            a[0] = false;\n        } else {\n            repeat (i,m) a[i] = not a[i+1];\n        }\n        while (2 <= m and not a[m-2] and a[m-1]) m -= 2;\n        if (m == 0) break;\n        if (m == 1) k %= 2;\n    }\n    repeat (i,n) printf(\"%c\", a[i] ? 'A' : 'B');\n    printf(\"\\n\");\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define mp make_pair\n#define sz(x) (int)(x).size()\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define ii pair<int,int>\n#define INF 1000000000\n#define INFLL 1000000000000000010ll\n#define UQ(x) (x).resize(distance((x).begin(),unique(all((x)))))\n#define mid(x,y) (((x)+(y))>>1)\nint n,k;\nchar s[200005];\nint h,flip=0;\ndeque<int> d;\nint get() {\n\treturn (h^flip);\n}\nvoid put(int x) {\n\th=x^flip;\n}\nvoid pad() {\n\tif (sz(d)%2) {\n\t\tif (get()==0) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t} else {\n\t\tif (get()==1) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t}\n}\nvoid output() {\n\tint sum=0;\n\tint let=get();\n\tfor (int i=0;i<sz(d);i++) {\n\t\tsum+=d[i];\n\t\tfor (int j=0;j<d[i];j++) {\n\t\t\tprintf(\"%c\", let?'B':'A');\n\t\t}\n\t\tlet^=1;\n\t}\n\tprintf(\"\\n\");\n\tassert(sum==n);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tif (n==1) {\n\t\tif (k%2) {\n\t\t\tif (s[0]=='A') printf(\"B\\n\");\n\t\t\telse printf(\"A\\n\");\n\t\t} else {\n\t\t\tif (s[0]=='A') printf(\"A\\n\");\n\t\t\telse printf(\"B\\n\");\n\t\t}\n\t\treturn 0;\n\t}\n\n\t\n\tint cur=1;\n\tchar v=s[0];\n\tfor (int i=1;i<n;i++) {\n\t\tif (s[i]==v) cur++;\n\t\telse {\n\t\t\td.pb(cur);\n\t\t\tcur=1;\n\t\t\tv=s[i];\n\t\t}\n\t}\n\td.pb(cur);\n\th=(s[0]=='B');\n\tfor (int kk=0;kk<min(k,1000000);kk++) {\n\t\tif (get()==0) {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(1);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\t++d[0];\n\t\t\t\t\tput(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\td.push_front(1);\n\t\t\t\tput(1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(0);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\tput(0);\n\t\t\t\t\tflip^=1;\n\t\t\t\t\tpad();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\tflip^=1;\n\t\t\t\tpad();\n\t\t\t}\n\t\t}\n\t}\n\tif (k>1000000) {\n\t\tif (sz(d)==n) {\n\t\t\tif (get()==1) {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\tprintf(\"%c\", (i%2)?'A':'B');\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t} else {\n\t\t\t\tif (k%2) {\n\t\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\tif (i==0) printf(\"B\");\n\t\t\t\t\t\telse printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t} else {\n\t\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\t printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (k%2) {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t} else {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\tif (i==0) printf(\"B\\n\");\n\t\t\t\t\t\telse printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t\t\n\t\t}\n\t} else output();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<deque>\n#include<string>\n\nusing namespace std;\ndeque<int> dq;\n\nint n, k;\nstring str;\nint main(){\n  cin >> n >> k;\n  cin >> str;\n  int flip = 0;\n  for(int i = 0;i < n;i++){\n    if(str[i] == 'A')dq.push_back(0);\n    else dq.push_back(1);\n  }\n  int t = min(1080000, k);\n  k -= t;\n  if(k % 2 == 1)k--,t++;\n  for(int i = 0;i < t;i++){\n    if(flip == dq[0]){//A\n      dq[0] ^= 1;\n      continue;\n    }\n    else{//B\n      dq.pop_front();\n      flip ^= 1;\n      dq.push_back(flip);\n    }\n  }\n  for(int i = 0;i < n;i++){\n    if(dq[i] == flip)cout << 'A';\n    else cout << 'B';\n  }cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector> \n#include <list> \n#include <map> \n#include <set> \n#include <deque> \n#include <queue> \n#include <stack> \n#include <bitset> \n#include <algorithm> \n#include <functional> \n#include <numeric> \n#include <utility> \n#include <sstream> \n#include <iostream> \n#include <iomanip> \n#include <cstdio> \n#include <cmath> \n#include <cstdlib> \n#include <cctype> \n#include <string> \n#include <cstring> \n#include <ctime> \n\nusing namespace std;\n\n#define _int64 long long\n\nchar s[110000];\nint a[500000];\nchar ans[110000];\n\nint main()\n{\n  vector<int> a;\n  int i,j,n,k,f,jian,h,t,need;\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  s[n]='B';\n  for (i=1;i<n;i++)\n    s[n+i]='A'+'B'-s[n+i-1];\n  ans[n]='\\0';\n  for (i=0;i<n;i++)\n  {\n    if (s[i]==s[i+n-1])\n    {\n      need=2;\n    }\n    else need=1;\n    if (k>=need) k-=need;\n    else\n    {\n      for (j=0;j<n;j++)\n        if (s[i+n-1]=='A')\n          ans[j]=s[i+j];\n        else ans[j]='A'+'B'-s[i+j];\n      if (k==1) ans[0]='A'+'B'-ans[0];\n      printf(\"%s\\n\",ans);\n      return 0;\n    }\n  }\n  if ((s[n]==s[n+n-1])&&(k%2!=0))\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    ans[0]='B';\n    printf(\"%s\\n\",ans);\n  }\n  else\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    printf(\"%s\\n\",ans);\n  }\n  /*\n  for (i=0;i<k;i++)\n  {\n    j=0;f=1;\n    while ((j>=0)&&(j<n))\n    {\n      if (s[j]=='A')\n      {\n        s[j]='B';f=-f;\n        j+=f;\n      }\n      else\n      {\n        s[j]='A';\n        j+=f;\n      }\n    }\n    printf(\"%s\\n\",s);\n  }\n  */\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\n#include <cmath>\n#include <deque>\nusing namespace std;\n\ntypedef pair<int, int> P;\n#define rep(i, n) for (int i=0; i<(n); i++)\n#define all(c) (c).begin(), (c).end()\n#define _1 first\n#define _2 second\n#define pb push_back\n#define INF 1145141919\n#define MOD 1000000007\n\nint N, K;\nstring S;\nsigned main() {\n  ios::sync_with_stdio(false); cin.tie(0);\n  cin >> N >> K;\n  deque<bool> d;\n  rep(i, N) {\n    char c; cin >> c;\n    d.push_back(c == 'A');\n  }\n  bool f = false;\n  int mx = min(K, N*2 + (K%2));\n  rep(i, mx) {\n    if ((d.front() ^ f) == true) {\n      d.pop_front();\n      d.push_front(f);\n    }\n    else {\n      d.pop_front();\n      f ^= true;\n      d.push_back(f ^ true);\n    }\n  }\n  rep(i, N) cout << ((d[i]^f)?'A':'B'); cout << \"\\n\";\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <stdio.h>\n\nvoid printState(const std::vector<bool>& v) {\n    for (const auto& b : v) {\n        b ? printf(\"A\") : printf(\"B\");\n    }\n    printf(\"\\n\");\n}\n\nint main() {\n    int N, K;\n    std::cin >> N >> K;\n\n    // true = A(reflect)\n    // flase = B(transparent)\n    std::string state_string;\n    std::cin >> state_string;\n    std::vector<bool> State;\n    for (auto& c : state_string) {\n        if (c == 'A') {\n            State.push_back(true);\n        } else {\n            State.push_back(false);\n        }\n    }\n\n    for (int i = 0; i < K; i++) {\n        int before_pos = 0;\n        int pos = 1;\n        while (pos != 0 && pos != State.size() + 1) {\n            int buf = pos;\n            if (State.at(pos - 1)) {\n                pos = before_pos;\n            } else {\n                pos = pos * 2 - before_pos;\n            }\n            State.at(buf - 1) = !State.at(buf - 1);\n            before_pos = buf;\n        }\n        if (i % 10000 == 0) {\n            if (N % 2 == 0) {\n                for (int j = 0; j < N / 2; j++) {\n                    if (State.at(j * 2) != false || State.at(j * 2 + 1) != true) {\n                        goto END;\n                    }\n                }\n                break;\n            } else {\n                for (int j = 0; j < N / 2; j++) {\n                    if (State.at(j * 2 + 1) != false || State.at(j * 2 + 2) != true) {\n                        goto END;\n                    }\n                }\n                if (K % 2 == 0) {\n                    break;\n                } else {\n                    State.at(0) = !State.at(0);\n                    break;\n                }\n            }\n        }\nEND:    ;\n    }\n\n    printState(State);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tif(s.size() == 1){\n\t\tif(s[0] == 'B') K++;\n\t\tif(K%2) cout << \"B\" << endl;\n\t\telse cout << \"A\" << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] == 'A') tmp[pos] = 'B';\n\t\t\telse tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tif(s.size()%2){\n\t\tif(K%2) ans[0] = 'B';\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long i64;\n\nint main()\n{\n\tint n, k;\n\tchar temp[200005];\n\tvector<bool> state;\n\n\tscanf(\"%d%d%s\", &n, &k, temp);\n\tstate.resize(n);\n\tfor(int i = 0; i < n; ++i)\n\t\tstate[i] = (temp[i] == 'A');\n\n\tint step = k % (2 * n);\n\tif(k >= 2 * n)\n\t\tstep += 2 * n;\n\n\tint left = 0;\n\tbool flip = false;\n\n\tfor(int s = 0; s < step; ++s) {\n\n\t\tbool is_a = (state[left] != flip);\n\n\t\tif(is_a) {\n\t\t\tprintf(\"%d: %d first\\n\", s, left);\n\t\t\tstate[left] = !state[left];\n\t\t\tcontinue;\n\t\t}\n\n\t\tprintf(\"%d: %d second\\n\", s, left);\n\n\t\tleft = (left + 1) % n;\n\t\tflip = !flip;\n\t}\n\n\tchar ans[200005] = {0};\n\tfor(int i = 0; i < n; ++i) {\n\t\tint pos = (left + i) % n;\n\t\tbool is_a = (state[pos] != flip);\n\t\tans[i] = (is_a ? 'A' : 'B');\n\t}\n\n\tprintf(\"%s\\n\", ans);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "/*\nThough leaves are many , the root is one.\nThrough all the lying days of my youth\nI swayed my leaves and flowers in the sun.\nNow I may wither into the truth.\n\t  \t  \t- William Butler Yeats\n*/\n//#pragma GCC optimize(\"Ofast,no-stack-protector\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx\")\n//#pragma GCC target(\"avx,tune=native\")\n#include<bits/stdc++.h>\n#pragma comment(\"-Wl,--stack=1024000000\")\n//#include<ext/pb_ds/assoc_container.hpp>\nusing namespace std;\n//using namespace __gnu_pbds;\nconst int inf=0x3f3f3f3f;\nconst double eps=1e-6;\nconst int mod=1000000007;\ntypedef long long ll;\n#ifndef LOCAL\n#define cerr if(0)cout\n#define eprintf(...) 0\n#else\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#endif\ninline string getstr(string &s,int l,int r){string ret=\"\";for(int i=l;i<=r;i++)ret.push_back(s[i]);return ret;}\nint modpow(int x,int y,int md=mod){int ret=1;do{if(y&1)ret=(ll)ret*x%md;x=(ll)x*x%md;}while(y>>=1);return ret;}\ninline int Rand(){return rand()*32768+rand();}\nint n,k;\ndeque<char>q;\nchar calc(char c,bool inv){\n\tif(inv)return 'A'+'B'-c;\n\telse return c;\n}\nvoid show(deque<char>&q,bool inv){\n\tfor(auto c:q)if(inv)putchar('A'+'B'-c);else putchar(c);putchar('\\n');\n}\nint main(){\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++){\n\t\tchar c;cin>>c;q.push_back(c);\n\t}\n\tif(k&1)k=min(k,4*n+1);\n\telse k=min(k,4*n);\n\tbool inv=0;\n\twhile(k--){\n\t\tif(calc(q.front(),inv)=='A'){\n\t\t\tq.front()='A'+'B'-q.front();\n\t\t}else{\n\t\t\tinv^=1;q.push_back(q.front());q.pop_front();\n\t\t}\n\t}\n\tif(inv)for(char &c:q)c='A'+'B'-c;\n\tfor(int i=0;i<n;i++)putchar(q[i]);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint n,m;\nint b[400010];\nchar a[200010];\n\nint main()\n{int i,j,l,r,flag,x; \n \n scanf(\"%d%d\",&n,&m);\n scanf(\"%s\",a+1);\n for(i=1;i<=n;i++) b[i]=a[i]-65;\n l=1;\n r=n;\n flag=0;\n while(m>0 && l<=n)\n {\tif(b[l]==0)\n \t{\tb[l]=1;\n \t\tm--;\n \t\tcontinue;\n \t}\n \tflag^=1;\n \tb[++r]=flag;\n \tm--;\n \tl++;\n }\n if(m==0)\n {\tfor(i=l;i<=r;i++)\n \t{\tx=b[i]^flag;\n \t\tprintf(\"%c\",x==0?'A':'B');\n \t}\n \tprintf(\"\\n\");\n \treturn 0;\n }\n for(i=1;i<=n;i++) b[i]=((n-i)&1);\n if((n&1) && (m&1)) b[1]=1; \t\n for(i=1;i<=n;i++) printf(\"%c\",b[i]?'B':'A');\n printf(\"\\n\");\n return 0;\n}\t"
  },
  {
    "language": "C++",
    "code": "#ifdef LOCAL\n#include \"stdc++.h\"\n#else \n#include <bits/stdc++.h>\nusing namespace std;\n#endif\n\nclass Solution {\npublic:\n    void solve() {\n        int n, k;\n        string s;\n        cin >> n >> k >> s;\n\n        while (k--) {\n            int d = 1;\n            int pos = 0;\n            while (pos >= 0 && pos < n) {\n                if (s[pos] == 'A') {\n                    s[pos] = 'B';\n                    d = 1 - d;\n                } else {\n                    s[pos] = 'A';\n                }\n                if (d == 1) pos++;\n                else pos--;\n            }\n        }\n        cout << s << endl;\n    }\n};\n\nint main() {\n    Solution sol;\n    sol.solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n\n#include <cstring>\n\n#define rep(i,j,k) for (i=j;i<=k;i++)\n\nusing namespace std;\n\nconst int N=2e5+5;\n\nint n,k,i,j,p,rev,a[N];\n\nchar s[N];\n\nvoid trans(int x) { if (x) putchar('A'); else putchar('B'); }\n\nint main()\n\n{\n\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\n\trep(i,1,n) if (s[i]=='A') a[i]=1; else a[i]=0;\n\n\tfor (j=0,p=1;j<k && p<=n;j++) {\n\n\t\tif (a[p]^rev) {a[p]^=1; continue;}\n\n\t\trev^=1; p++;\n\n\t}\n\n\tif (j>=k) {\n\n\t\trep(i,p,n) trans(a[i]^rev);\n\n\t\trep(i,n+1,n+p-1) trans((n+p-i)&1);\n\n\t}\n\n\telse {\n\n\t\tif (n&1) {\n\n\t\t\ttrans((k-j+1)&1);\n\n\t\t\trep(i,2,n) trans(i&1);\n\n\t\t}\n\n\t\telse rep(i,1,n) trans((i+1)&1);\n\n\t}\n\n\treturn 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <cassert>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <list>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <algorithm>\n#include <complex>\n#include <cmath>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long int64;\ntypedef pair<int, int> ii;\nconst int INF = 1 << 30;\n\nconst int N = 2e5 + 10;\nchar s[N];\nint main() {\n  int n, k;\n  scanf(\"%d%d\", &n, &k);\n  scanf(\"%s\", s);\n  // n = 4; k = 1000000000;\n  vector<bool> a(n);\n  // bitset<N> a;\n  for (int i = 0; i < n; ++i) {\n    a[i] = (s[i] == 'A');\n    // a[i] = rand() % 2;\n  }\n  bool flip = false;\n  int idx = 0;\n  while (k >= 4) {\n    int nidx = (idx + 1) % n;\n    if ((a[idx] ^ flip) && (a[nidx] ^ flip)) {\n      a[idx] = !a[idx];\n      idx = (idx + 3) % n;\n      k -= 3;\n    } else if ((a[idx] ^ flip) && !(a[nidx] ^ flip)) {\n      a[idx] = !a[idx];\n      a[nidx] = !a[nidx];\n      idx = (idx + 4) % n;\n      k -= 4;\n    } else if (!(a[idx] ^ flip) && (a[nidx] ^ flip)) {\n      idx = (idx + 2) % n;\n      k -= 2;\n    } else {\n      a[nidx] = !a[nidx];\n      idx = (idx + 3) % n;\n      k -= 3;\n    }\n  }\n  while (k--) {\n    if (a[idx] ^ flip) {\n      a[idx] = !a[idx];\n    } else {\n      a[idx++] = flip;\n      flip = !flip;\n      // flip = !flip;\n      // a[idx] = !flip;\n      // ++idx;\n    }\n    if (idx == n) idx = 0;\n  }\n  for (int i = 0; i < n; ++i) {\n    int j = (idx + i) % n;\n    putchar(flip ^ a[j] ? 'A' : 'B');\n  }\n  puts(\"\");\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nint n,m,ptr=1;\nchar s[200005],t[200005];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&m,s+1);s[n+1]=s[1];s[n+2]=s[2];\n\twhile(true) {\n\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=4;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=3;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=3;\n\t\tptr+=2;\n\t\tif(ptr>n) break;\n\t\tif(m<0) {\n\t\t\tptr-=2;\n\t\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=4;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=3;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=3;\n\t\t\tfor(int i=ptr;i<=n;++i) t[i-ptr+1]=s[i];\n\t\t\tfor(int i=n;i>n-ptr+1;--i) t[i]=((n-i)&1)+'A';\n\t\t\twhile(m--) {\n\t\t\t\tint now=1,flag=1;\n\t\t\t\twhile(now>0&&now<=n) {\n\t\t\t\t\tif(t[now]=='A') {t[now]='B';flag=-flag;now=now+flag;}\n\t\t\t\t\telse  {t[now]='A';now=now+flag;}\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%s\",t+1);return 0;\n\t\t}\n\t}\n\tif(s[ptr]=='A'&&(n&1)) {putchar((m&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse if(s[ptr]=='B'&&(n&1)) {putchar(((m+1)&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MN = 200010;\n\nint N, K;\nstring S;\nint chk[MN];\n\nint main() {\n    std::ios::sync_with_stdio(false);\n\n    cin >> N >> K >> S;\n\n    if(S[0] == 'A') S[0] = 'B', K--;\n\n    int pos = 0;\n    int Xor = 0;\n    for(int i = 0; i < N; i++) {\n        if(K < 2) break;\n\n        if((S[pos] == 'A') ^ Xor) {\n            chk[pos] = 1;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K -= 2;\n    }\n\n    K %= (2 * N);\n\n    for(int i = 0; i < N; i++) {\n        if(K < 2) break;\n\n        if((S[pos] == 'A') ^ Xor ^ chk[pos]) {\n            chk[pos] ^= 1;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K -= 2;\n    }\n\n    if(K == 1) {\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    for(int i = 0; i < N; i++) {\n        if(chk[pos] ^ Xor) S[pos] = S[pos] == 'A'? 'B' : 'A';\n        printf(\"%c\", S[pos]);\n        pos = (pos + 1) % N;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\nusing namespace std;\nchar str[800100];\nint n,k;\nvoid solve(){\n\tint p=1,dr=1;\n\twhile(p>0&&p<=n){\n\t\tif(str[p]=='A'){\n\t\t\tstr[p]='B';\n\t\t\tdr=-dr;\n\t\t\tp+=dr;\n\t\t}\n\t\telse{\n\t\t\tstr[p]='A';\n\t\t\tp+=dr;\n\t\t}\n\t}\n}\nint main(){\n\tfreopen(\"D.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",str+1);\n\tfor(int i=n+1;i<=n*4;i++)\n\t\tstr[i]='A'+((i-n)&1);\n\tif(k<=n*2){\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=k;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t}\n\telse{\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=n*2;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t\tk-=n*2;\n\t\tif((n&1)&&(k&1))\n\t\t\tstr[1]='A'+'B'-str[1];\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%c\",str[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#pragma GCC optimize (\"O2,unroll-loops\")\n//#pragma GCC optimize(\"no-stack-protector,fast-math\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\n\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int, int> pii;\ntypedef pair<pii, int> piii;\ntypedef pair<ll, ll> pll;\n#define debug(x) cerr<<#x<<'='<<(x)<<endl;\n#define debugp(x) cerr<<#x<<\"= {\"<<(x.first)<<\", \"<<(x.second)<<\"}\"<<endl;\n#define debug2(x, y) cerr<<\"{\"<<#x<<\", \"<<#y<<\"} = {\"<<(x)<<\", \"<<(y)<<\"}\"<<endl;\n#define debugv(v) {cerr<<#v<<\" : \";for (auto x:v) cerr<<x<<' ';cerr<<endl;}\n#define all(x) x.begin(), x.end()\n#define pb push_back\n#define kill(x) return cout<<x<<'\\n', 0;\n\nconst ld eps=1e-7;\nconst int inf=1000000010;\nconst ll INF=10000000000000010LL;\nconst int mod=1000000007;\nconst int MAXN=200010, LOG=20;\n\nint n, m, k, u, v, x, y, t, a, b, lazy;\ndeque<char> S;\n\ninline void make(){\n\tchar tmp=S.front();\n\tif (lazy) tmp='A'+'B'-tmp;\n\tif (tmp=='A'){\n\t\tS[0]='A'+'B'-S[0];\n\t\treturn ;\n\t}\n\tS.push_back(S.front());\n\tS.pop_front();\n\tlazy^=1;\n}\n\nint main(){\n\tios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n\t//freopen(\"input.txt\", \"r\", stdin);\n\t//freopen(\"output.txt\", \"w\", stdout);\n\tcin>>n>>k;\n\tS.resize(n);\n\tfor (int i=0; i<n; i++) cin>>S[i];\n\tif (k>2*n) k=2*n+(k%2); \n\twhile (k--){\n\t\tmake();\n\t}\n\t\n\tfor (int i=0; i<n; i++){\n\t\tif (lazy) cout<<(char)('A'+'B'-S[i]);\n\t\telse cout<<S[i];\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    int bt = 0;\n    for (int i = 0; bt < n && k; ++i) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            ++bt;           \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nvoid move(vc &s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn;\n\t}\n\trep(i, s.size()) {\n\t\tif (i == s.size() - 1)s[i] = 'A';\n\t\telse {\n\t\t\tif (s[i + 1] == 'A')s[i] = 'B';\n\t\t\telse s[i] = 'A';\n\t\t}\n\t}\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == 'A') {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trep(i, N) {\n\t\tprintf(\"%c\", s[i]);\n\t}\n\tprintf(\"\\n\");\n\t//printf(\"%s\\n\", string(s.begin(), s.end()).c_str());\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst int MAXN = 4 * 100 * 1000 + 1234;\nint n, k;\nstring s;\n\nchar rev(char c) {\n\treturn (c == 'A')? 'B': 'A';\n}\nstring gen(int c) {\n\tstring ss;\n\tif (c % 2 == 0)\n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += s[i + c];\n\telse \n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += rev(s[i + c]);\n\treturn ss;\n}\n\nstring prv(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\treturn s;\n}\n\nvoid out(string s) {\n\tif (s == \"\")\n\t\treturn ;\n\tfor (int i = 0; i < n; i++)\n\t\tputchar(s[i]);\n\texit(0);\n}\n\nint main() {\n\tcin >> n >> k;\n\tcin >> s;\n\tint ans[MAXN];\n\tchar ch[2] = {'B', 'A'};\n\tfor (int i = 0; i <= 2 * n + 100; i++)\n\t\ts += ch[i % 2];\n\tans[0] = (s[0] == ch[1]);\n\tfor (int i = 1; i <= n + 10; i++) {\n\t\tans[i] = ans[i - 1] + 1;\n//\t\tcerr << ans[i] << ' ' << s[i] << ' ' << ch[i & 1] << endl;\n\t\tans[i] += s[i] == ch[i % 2 ^ 1];\n\t}\n//\tfor (int i = 0; i <= n; i++)\n//\t\tcerr << i << ' ' << ans[i] << endl;\n\tfor (int i = 0; i <= n + 10; i++) {\n//\t\tcerr << i << ' ' << gen(i) << endl;\n\t\tif (k == ans[i]) \n\t\t\tout(prv(gen(i)));\n\t\telse if (k == ans[i] - 1)\n\t\t\tout(gen(i));\n\t}\n//\tcerr << \"yoho \" << ans[n] << endl;\n\tk -= ans[n + 1];\n\tk %= 2;\n\tif (k == 0 || n % 2 == 0)\n\t\tout(gen(n));\n\telse\n\t\tout(prv(gen(n)));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nchar s[200010];\nint main()\n{\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tint i,j,k,l;\n\tscanf(\"%d%d%s\",&n,&m,&s);\n\tfor(i=1,j=0,k=0,l=0;i<=m;i++)\n\t  {\n       if(k==0 && s[j]=='A')\n         s[j]='B';\n       else if(k==1 && s[j]=='B')\n         s[j]='A';\n       else\n         {\n          j=(j+1)%n;\n          k^=1;\n         }\n       if(j)\n         l=1;\n       if(!j && l)\n         break;\n      }\n    if(i<m)\n      if(n&1)\n        {\n         if(m-i&1)\n           printf(\"B\");\n         else\n           printf(\"A\");\n         for(i=1;i<=n/2;i++)\n           printf(\"BA\");\n        }\n      else\n        for(i=1;i<=n/2;i++)\n          printf(\"BA\");\n    else\n      for(i=j,l=0;!l || i!=j;i=(i+1)%n)\n        {\n         if(k)\n           printf(\"%c\",s[i]^'A'^'B');\n         else\n           printf(\"%c\",s[i]);\n         if(i!=j)\n           l=1;\n        }\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint n, k;\ndeque<int> q;\nchar s[222222];\nbool rev;\nint main() {\n\tscanf(\"%d%d\", &n, &k);\n\tk = k <= n * 2 ? k : n * 2 + (k - n * 2) % 2;\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; ++i) q.push_back(s[i] == 'B');\n\twhile (k--) {\n\t\tint p = q.front(); q.pop_front();\n\t\tif (p ^ rev) {\n\t\t\trev ^= 1; q.push_back(rev);\n\t\t} else q.push_front(p ^ 1);\n\t}\n\twhile (!q.empty()) {\n\t\tprintf(\"%c\", (q.front() ^ rev) ? 'B' : 'A');\n\t\tq.pop_front();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cctype>\n#include <cmath>\n#include <cassert>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define PrintLn(X) cout << X << endl\n#define Loop(n) for(int loop_ = n; loop_; --loop_)\n#define Rep(i, n) for(int i = 0; i < (int)(n); ++i)\n#define For(i, a, b) for(int i = a; i < (int)(b); ++i)\n\n#if 0\nBBAAA\nABBBA\nBBBBA\nAAABA\nBAABA\nBBABA\nABABA\nBBABA\nABABA\nBBABA\n#endif\n\nchar S0[200000];\nchar S1[200000] = \"\";\nchar S2[200000] = \"\";\nint main(void)\n{\n\tint N, K;\n\tcin >> N >> K >> S0;\n\tRep(i, K){\n\t\tint p = 0;\n\t\tint dir = 1;\n\t\twhile(p != -1 && p != N){\n\t\t\tif(S0[p] == 'A'){\n\t\t\t\tdir *= -1;\n\t\t\t\tS0[p] = 'B';\n\t\t\t}else{\n\t\t\t\tS0[p] = 'A';\n\t\t\t}\n\t\t\tp += dir;\n\t\t}\n\t\tif(strcmp(S0, S2) == 0){\n\t\t\tif((K - i) % 2 == 0){\n\t\t\t\tPrintLn(S1);\n\t\t\t}else{\n\t\t\t\tPrintLn(S0);\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t\tstrcpy(S2, S1);\n\t\tstrcpy(S1, S0);\n\t}\n\tPrintLn(S0);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\n#define int ll\n\n#define FOR(i,a,b) for(int i=int(a);i<int(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define MP make_pair\n#define PB push_back\n#define ALL(x) x.begin(),x.end()\n#define REACH cerr<<\"reached line \"<<__LINE__<<endl\n#define DBG(x) cerr<<\"line \"<<__LINE__<<\" \"<<#x<<\":\"<<x<<endl\n\nusing pi=pair<int,int>;\nusing vi=vector<int>;\nusing ld=long double;\n\ntemplate<class T,class U>\nostream& operator<<(ostream& os,const pair<T,U>& p){\n\tos<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n\treturn os;\n}\n\ntemplate<class T>\nostream& operator <<(ostream& os,const vector<T>& v){\n\tos<<\"[\";\n\tREP(i,(int)v.size()){\n\t\tif(i)os<<\",\";\n\t\tos<<v[i];\n\t}\n\tos<<\"]\";\n\treturn os;\n}\n\nint read(){\n\tint i;\n\tscanf(\"%lld\",&i);\n\treturn i;\n}\n\nvoid printSpace(){\n\tprintf(\" \");\n}\n\nvoid printEoln(){\n\tprintf(\"\\n\");\n}\n\nvoid print(int x,int suc=1){\n\tprintf(\"%lld\",x);\n\tif(suc==1)\n\t\tprintEoln();\n\tif(suc==2)\n\t\tprintSpace();\n}\n\nstring readString(){\n\tstatic char buf[3341919];\n\tscanf(\"%s\",buf);\n\treturn string(buf);\n}\n\nchar* readCharArray(){\n\tstatic char buf[3341919];\n\tstatic int bufUsed=0;\n\tchar* ret=buf+bufUsed;\n\tscanf(\"%s\",ret);\n\tbufUsed+=strlen(ret)+1;\n\treturn ret;\n}\n\ntemplate<class T,class U>\nvoid chmax(T& a,U b){\n\tif(a<b)\n\t\ta=b;\n}\n\ntemplate<class T,class U>\nvoid chmin(T& a,U b){\n\tif(a>b)\n\t\ta=b;\n}\n\ntemplate<class T>\nT Sq(const T& t){\n\treturn t*t;\n}\n\nconst int inf=LLONG_MAX/3;\n\nsigned main(){\n\tint n=read(),k=read();\n\tstring s=readString();\n\tint g=0,q;\n\t{\n\t\tREP(i,n){\n\t\t\tbool w=(s[i]=='A'&&(i^1));\n\t\t\tif(w){\n\t\t\t\tif(k>=2){\n\t\t\t\t\tg++;\n\t\t\t\t\tk-=2;\n\t\t\t\t\tif(k==0)q=0;\n\t\t\t\t}else{\n\t\t\t\t\tk--;\n\t\t\t\t\tq=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tk--;\n\t\t\t\tg++;\n\t\t\t\tif(k==0)q=0;\n\t\t\t}\n\t\t\tif(k==0)\n\t\t\t\tbreak;\n\t\t}\n\t\tif(k){\n\t\t\tif(n^1){\n\t\t\t\tg+=k/2;\n\t\t\t\tq=g&1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tg+=k;\n\t\t\t\tq=0;\n\t\t\t}\n\t\t}\n\t}\n\tstring t;\n\tREP(i,n)\n\t\tif(i+g<n)\n\t\t\tt+=((g&1)^(s[i+g]=='A'))?'A':'B';\n\t\telse\n\t\t\tt+=((n-1-i)&1)?'B':'A';\n\tif(q){\n\t\tif(t[0]=='A')\n\t\t\tt[0]='B';\n\t\telse{\n\t\t\tREP(i,n-1)\n\t\t\t\tt[i]=t[i+1]=='A'?'B':'A';\n\t\t\tt[n-1]='A';\n\t\t}\n\t}\n\tcout<<t<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<functional>\n#include<map>\n#include<set>\n#include<string>\n#include<algorithm>\n\nint main()\n{\n\tstd::string str;\n\tint N, K;\n\tstd::cin >> N >> K;\n\tstd::cin >> str;\n\tstruct func_t\n\t{\n\t\tbool f;\n\t\tbool operator()(char c)\n\t\t{\n\t\t\tif ((f&&c == 'A') || (!f&&c == 'B'))\n\t\t\t{\n\t\t\t\tf ^= true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tint count{};\n\twhile (!std::all_of(str.rbegin(), str.rend(), func_t{ true }))\n\t{\n\t\tbool d = false;\n\t\tint c{};\n\t\twhile (c >= 0 && c < N)\n\t\t{\n\t\t\tif (!d)\n\t\t\t{\n\t\t\t\tif (str[c] == 'A')\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'B';\n\t\t\t\t\t--c;\n\t\t\t\t\td = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'A';\n\t\t\t\t\t++c;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (str[c] = 'A')\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'B';\n\t\t\t\t\t++c;\n\t\t\t\t\td = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'A';\n\t\t\t\t\t--c;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t++count;\n\t\tif (count == K)\n\t\t{\n\t\t\tstd::cout << str << std::endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tif ((K - count) % 2 == 0)\n\t{\n\t\tstd::cout << str << std::endl;\n\t}\n\telse if (N % 2 == 1)\n\t{\n\t\tstd::cout << \"B\" << str.substr(1) << std::endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n \nvoid Solve(int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n \nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tif(l>r)\n\t\t{\n\t\t\tif(n&1) Solve(2,1,0,n,K);\n\t\t\telse if(K>=3) Solve(2,1,0,n,K-3);\n\t\t\telse \n\t\t\t{\n\t\t\t\tif(K==1) cout<<\"BB\";\n\t\t\t\tif(K==2) cout<<\"AA\";\n\t\t\t\tfor(int i=3;i<=n;++i) putchar((i&1)==(n&1)?'A':'B');\t\n\t\t\t}\n\t\t} \n\t\telse \n\t\t{\n\t\t\tst[l-1]='A'+(rev^1);\n\t\t\tAplusB(0,l-1,r,rev,len,K-1);\n\t\t}\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n \nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n \nint main()\n{\n\tfreopen(\"26.in\",\"r\",stdin);\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 200005;\n\nchar str[MAXN];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", str+1);\n\tfor (int i = 1; i <= n; i++) str[i] -= 'A';\n\tint cnt = 0, cur = str[1], cc = 0;\n\tstr[n+1] = 1;\n        for (int i = 1; i <= k && cnt < n; i++) {\n\t\tcc++;\n\t\tif (cur == 0) {\n\t\t\tcur ^= 1;\n\t\t} else {\n\t\t\tcnt++;\n\t\t\tcur = str[cnt+1]^(cnt&1);\n\t\t}\n\t}\n\tif (k > cc) {\n\t\tk = (k-cc)&1;\n\t\tif (k == 1 && (n&1))\n\t\t\tcur ^= 1;\n\t}\n\tputchar('A'+cur);\n\tfor (int i = 2; i <= n; i++) {\n\t\tif (i+cnt <= n) putchar('A'+(str[i+cnt]^(cnt&1)));\n\t\telse putchar(((n-i)&1)?'B':'A');\n\t}\n\tputs(\"\"); \n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n\nusing namespace std;\n\nint n,m,rev;\nchar s[200009];\ndeque<int> q;\n\ninline void throws()\n{\n\tint c=q.front();\n\tq.pop_front();\n\tif(c^rev==0)\n\t\tq.push_front(1^rev);\n\telse\n\t{\n\t\trev^=1;\n\t\tq.push_back(0^rev);\n\t}\n}\n\nint main()\n{\n\tif(fopen(\"vj.in\",\"r\"))\n\t{\n\t\tfreopen(\"vj.in\",\"r\",stdin);\n\t\tfreopen(\"vj.out\",\"w\",stdout);\n\t}\n\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\t\n\tfor(int i=1;i<=n;i++)\n\t\tq.push_back((s[i]=='A')?0:1);\n\tfor(int i=1;i<=2*n && i<=m;i++)\n\t\tthrows();\n\n\tif(2*n>m)\n\t{\n\t\tm-=2*n;\n\t\tm%=2;\n\t\tfor(int i=1;i<=m;i++)\n\t\t\tthrows();\n\t}\n\twhile(!q.empty())\n\t\t\tputchar((q.front()^rev)+'A'),q.pop_front();\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define debug(x) cout << #x << \" = \" << x << endl\n#define fori(i, ini, lim) for(int i = int(ini); i < int(lim); i++)\n#define ford(i, ini, lim) for(int i = int(ini); i >= int(lim); i--)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> ii;\n\nconst int MAX = 1e2 + 5;\nint times[MAX];\n\nchar other(char c) {\n\treturn c == 'A' ? 'B' : 'A';\n}\n\nint main() {\n\tios_base::sync_with_stdio(false);\n\n\tint n, k;\n\tcin >> n >> k;\n\tdeque<char> s;\n\tfori(i, 0, n) {\n\t\tchar c;\n\t\tcin >> c;\n\t\ts.push_back(c);\n\t}\n\n\tint parity = 0;\n\tfori(i, 0, min(k, 2 * n)) {\n\t\tchar f = s.front();\n\t\tif((f == 'A' && parity == 0) || (f == 'B' && parity == 1)) {\n\t\t\t*s.begin() = (f == 'A') ? 'B' : 'A';\n\t\t}\n\t\telse {\n\t\t\ts.pop_front();\n\t\t\tparity ^= 1;\n\t\t\ts.push_back(parity ? 'B' : 'A');\n\t\t}\n\t}\n\n\tfor(auto &each : s) {\n\t\teach = parity ? other(each) : each;\n\t}\n\n\tif(k > 2 * n && ((k - 2 * n) & 1)) {\n\t\tif(s.front() == 'A') {\n\t\t\t*s.begin() = 'B';\n\t\t}\n\t\telse {\n\t\t\ts.pop_front();\n\t\t\tfor(auto &each : s) {\n\t\t\t\teach = other(each);\n\t\t\t}\n\t\t\ts.push_back('A');\n\t\t}\n\t}\n\n\tfor(auto &each : s) {\n\t\tcout << each;\n\t}\n\tcout << '\\n';\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\tstring T = S;\n\tbrute(T);\n\tbrute(T);\n\tif (T == S)\n\t\tk &= 1;\n\twhile (k && S[n - 1] == 'B')\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (k-- && p < n)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\n#include<cstdlib>\n#include<ctime>\n#include<queue>\n#include<set>\n#include<map>\n#include<stack>\n#include<bitset>\nusing namespace std;\ntypedef long long LL;\nconst int N=2e5+100;\nint gi() {\n\tint w=0;bool q=1;char c=getchar();\n\twhile ((c<'0'||c>'9') && c!='-') c=getchar();\n\tif (c=='-') q=0,c=getchar();\n\twhile (c>='0'&&c <= '9') w=w*10+c-'0',c=getchar();\n\treturn q? w:-w;\n}\nint main()\n{\n\tint n=gi(),k=gi(),i;char c;\n\tdeque<bool>q;bool o=0;\n\tfor (i=1;i<=n;i++,q.push_back(c-'A'))\n\t\twhile ((c=getchar())!='A'&&c!='B');\n\tif (k<=n*2) {\n\t\twhile (k--)\n\t\t\tif (o^q.front())\n\t\t\t\tq.pop_front(),o^=1,q.push_back(o);\n\t\t\telse\n\t\t\t\tq.pop_front(),q.push_front(!o);\n\t\tfor (i=1;i<=n;i++) putchar((o^q.front())+'A'),q.pop_front();\n\t} else {\n\t\tif (n&1) putchar('A'+(k&1));\n\t\tfor (i=n>>1;i;i--) putchar('B'),putchar('A');\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//waz\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define ALL(x) (x).begin(), (x).end()\n#define SZ(x) ((int)((x).size()))\n\ntypedef pair<int, int> PII;\ntypedef vector<int> VI;\ntypedef long long int64;\ntypedef unsigned int uint;\ntypedef unsigned long long uint64;\n\n#define gi(x) ((x) = F())\n#define gii(x, y) (gi(x), gi(y))\n#define giii(x, y, z) (gii(x, y), gi(z))\n\nint F()\n{\n\tchar ch;\n\tint x, a;\n\twhile (ch = getchar(), (ch < '0' || ch > '9') && ch != '-');\n\tif (ch == '-') ch = getchar(), a = -1;\n\telse a = 1;\n\tx = ch - '0';\n\twhile (ch = getchar(), ch >= '0' && ch <= '9')\n\t\tx = (x << 1) + (x << 3) + ch - '0';\n\treturn a * x;\n}\n\nconst int N = 2e5 + 10;\n\nchar str[N];\n\nint n, k;\n\nint pos(int x, int l)\n{\n\tint p = x + l % n;\n\tif (p > n) p -= n;\n\treturn p;\n}\n\nint main()\n{\n\tgii(n, k);\n\tscanf(\"%s\", str + 1);\n\tfor (int i = 1; i <= n; ++i) str[i] -= 'A';\n\tif (k <= 2 * n + 10)\n\t{\n\t\tint l = 0, t = 0;\n\t\tfor (int i = 1; i <= k; ++i)\n\t\t{\n\t\t\tif (!(str[pos(1, l)] ^ t))\n\t\t\t{\n\t\t\t\tstr[pos(1, l)] ^= 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++l, t ^= 1; str[pos(n, l)] = t;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\tputs(\"\");\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tint l = 0, t = 0;\n\t\tfor (int i = 1; i <= 2 * n + 10; ++i)\n\t\t{\n\t\t\tif (!(str[pos(1, l)] ^ t))\n\t\t\t{\n\t\t\t\tstr[pos(1, l)] ^= 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++l, t ^= 1; str[pos(n, l)] = t;\n\t\t\t}\n\t\t}\n\t\tk -= 2 * n + 10;\n\t\tif (n & 1)\n\t\t{\n\t\t\tstr[pos(n, l)] ^= (k & 1);\n\t\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t} \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\n#ifdef MAX_HOME\nconst int L = 10;\n#else\nconst int L = 2e6;\n#endif\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    int lst = -1e5;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    dif %= 6;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=int(a);i<int(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n\n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=int(a)-1;i>=int(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n\n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n#define popcount(n) (__builtin_popcountll(n))\n\nusing namespace std;\n\ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n\nusing ll=long long;\nusing R=long double;\nconst R EPS=1e-9L; // [-1000,1000]->EPS=1e-8 [-10000,10000]->EPS=1e-7\ninline int sgn(const R& r){return(r > EPS)-(r < -EPS);}\ninline R sq(R x){return sqrt(max(x,0.0L));}\n\nconst int dx[8]={1,0,-1,0,1,-1,-1,1};\nconst int dy[8]={0,1,0,-1,1,1,-1,-1};\n\n// Problem Specific Parameter:\n\nconst char ab=('A'^'B');\n\n\nint main(void){\n\tint n,k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\n\tint flip = 0;\n\tdeque<char> q;\n\trep(i,n) q.push_back(s[i]);\n\n\trep(loop,2*n){\n\t\tif(k==0) break;\n\t\tk--;\n\t\tchar cur = (flip?q.front()^ab:q.front());\n\t\t\n\t\tif(cur=='A'){\n\t\t\tchar nxt = (flip?'A':'B');\n\t\t\tq.pop_front();\n\t\t\tq.push_front(nxt);\n\t\t}else{\n\t\t\tflip^=1;\n\t\t\tchar nxt = (flip?'B':'A');\n\t\t\tq.pop_front();\n\t\t\tq.push_back(nxt);\n\t\t}\n\t}\n\n\tstring ans =\"\";\n\trep(i,n){\n\t\tchar cur = (flip?q.front()^ab:q.front());\n\t\tans += cur;\n\t\tq.pop_front();\n\t}\n\t\t\n\tif(n%2 == 1 and k%2==1) ans[0]^=ab; \n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            while(1)\n            {\n            }\n            if(k % 2 == 0)\n                cout << \"A\";\n            else\n                cout << \"B\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 1)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tchkmin(k, 200 * n);\n\tcin >> s;\n}\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tint C = 0;\n\twhile(k--)\n\t{\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define rrep(i,n) for(int i=(int)(n)-1;i>=0;i--)\n#define each(a,x) for(auto a : (x))\n#define all(a) (a).begin(),(a).end()\n#define chmin(a,b) ((a) = min((a),(b)))\n#define chmax(a,b) ((a) = max((a),(b)))\n#define in_range(x,l,r) ((l)<=(x) && (x)<(r))\n#define printvec(a) rep(i,a) cout << a[i] << \" \\n\"[i+1==(a).size()];\n#define fs first\n#define sc second\n#define em emplace\n#define eb emplace_back\n#define sz size()\n#define MP make_pair\nusing namespace std;\ntypedef long long ll;\ntypedef double D;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<string> vs;\n\nconst ll INF = 1e8;\nconst D EPS = 1e-8;\nconst ll MOD = 1e9+7;\n\nint main(){\n  ll n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n\n  ll flag = 0;\n  ll i = 0;\n  while(i<n){\n    if(k==0){\n      for(int j=i;j<n;j++){\n        if(flag ^ s[j]=='A') cout << 'A';\n        else cout << 'B';\n      }\n      rep(j,i){\n        if(flag ^ (j&1)) cout << 'A';\n        else cout << 'B';\n      }\n      cout << endl;\n      return 0;\n    }\n\n    if(flag ^ s[i]=='A'){\n      if(s[i] == 'A') s[i] = 'B';\n      else s[i] = 'A';\n    }else{\n      flag = 1 - flag; i++;\n    }\n    k--;\n  }\n\n  if(1-flag){\n    if(n&1){\n      s = \"\";\n      rep(j,n){\n        if(j&1) s[j] = 'A';\n        else s[j] = 'B';\n      }\n\n      i = 0;\n      while(i<n){\n        if(k==0){\n          for(int j=i;j<n;j++){\n            if(flag ^ s[j]=='A') cout << 'A';\n            else cout << 'B';\n          }\n          rep(j,i){\n            if(flag ^ (j&1)) cout << 'A';\n            else cout << 'B';\n          }\n          cout << endl;\n          return 0;\n        }\n\n        if(flag ^ s[i]=='A'){\n          if(s[i] == 'A') s[i] = 'B';\n          else s[i] = 'A';\n        }else{\n          flag = 1 - flag; i++;\n        }\n        k--;\n      }\n    }else{\n      rep(j,n){\n        if(j&1) cout << 'A';\n        else cout << 'B';\n      }\n      cout << endl;\n      return 0;\n    }\n  }\n  rep(j,n){\n    if(j == 0 && (k&1)) cout << 'B';\n    else if(j&1) cout << 'B';\n    else cout << 'A';\n  }\n  cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\n\nusing namespace std;\n\nusing int64 = long long;\nbool bit[200001];\n\nint main() {\n  int N, K;\n  cin >> N >> K;\n  string S;\n  cin >> S;\n\n  for(int i = 0; i < N; i++) bit[i] = S[i] == 'A';\n\n  int last = N;\n  while(K--) {\n    while(last >= 2 && bit[last - 1] && !bit[last - 2]) {\n      last -= 2;\n    }\n    if(last == 0) break;\n    if(last == 1) K %= 2;\n    if(bit[0]) {\n      bit[0] = false;\n    } else {\n      for(int i = 0; i < last; i++) bit[i] = !bit[i + 1];\n    }\n  }\n\n  for(int i = 0; i < N; i++) cout << \"BA\"[bit[i]];\n  cout << endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cassert>\n#include <cctype>\nusing namespace std;\ntypedef long long lint;\n#define cout cerr\n#define ni (next_num<int>())\ntemplate<class T>inline T next_num(){\n\tT i=0;char c;\n\twhile(!isdigit(c=getchar())&&c!='-');\n\tbool flag=c=='-';\n\tflag?(c=getchar()):0;\n\twhile(i=i*10-'0'+c,isdigit(c=getchar()));\n\treturn flag?-i:i;\n}\nconst int N=200010;\nchar s[N],*t=s;\nint main(){\n\tint n=ni,tot=ni;\n\tscanf(\"%s\",s);\n\tchar inv=0,fir=0;\n\twhile(*(t+(n&1))){\n\t\tchar c=*t;\n\t\tc^=fir^inv;\n\t\tif(tot==0){\n\t\t\tputchar(c);\n\t\t\tint rest=t-s;\n\t\t\tfor(;*++t;putchar((*t)^inv));\n\t\t\tfor(int i=0;i<rest;i++){\n\t\t\t\tputchar('B'-((rest-i)&1));\n\t\t\t}\n\t\t\tputchar('\\n');\n\t\t\treturn 0;\n\t\t}\n\t\ttot--;\n\t\tif(c=='B'){\n\t\t\tt++;\n\t\t\tinv^='A'^'B';\n\t\t\tfir=0;\n\t\t}else{\n\t\t\tfir='A'^'B';\n\t\t}\n\t}\n\tif(n&1){\n\t\tputchar((*t)^fir^inv^((tot&1)?('A'^'B'):0));\n\t\tfor(int i=1;s[i];i++){\n\t\t\tputchar('A'+(i&1));\n\t\t}\n\t}else{\n\t\tfor(int i=0;s[i];i++){\n\t\t\tputchar('A'+((i&1)==0));\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nbitset<4000000> arr;\nint start = 0;\nint flip = 0;\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tfor(int i = 0;i < n;i++) arr[i] = (s[i] == 'B');\n\t\n\twhile(k > 0){\n\t\tif(arr[start] ^ flip){\n\t\t\tflip ^= 1;\n\t\t\tarr[start + n] = flip;\n\t\t\tstart++;\n\t\t}\n\t\telse arr[start] = (1 ^ flip);\n\t\tk--;\n\t\tif(start >= n+2) break;\n\t}\n\t\n\tif(n&k&1) arr[start] = arr[start] ^ 1;\n\t\n\tfor(int i = start;i < start + n;i++) cout << (char) ('A' + (arr[i] ^ flip));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MN = 200010;\n\nint N, K;\nstring S;\nint chk[MN];\n\nint main() {\n    std::ios::sync_with_stdio(false);\n\n    cin >> N >> K >> S;\n\n    if(S[0] == 'A') S[0] = 'B', K--;\n\n    int pos = 0;\n    int Xor = 0;\n    for(int i = 0; i < N; i++) {\n        if(K < 2) break;\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1) {\n            chk[ (pos + 1) % N ] = 1;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K -= 2;\n    }\n\n    K %= (2 * N);\n\n    for(int i = 0; i < N; i++) {\n        if(K < 2) break;\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K -= 2;\n    }\n\n    if(K == 1) {\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    for(int i = 0; i < N; i++) {\n        if(chk[pos]) S[pos] = ((S[pos] == 'A') ^ Xor)? 'B' : 'A';\n        else S[pos] = ((S[pos] == 'A') ^ Xor)? 'A' : 'B';\n        cout << S[pos];\n        pos = (pos + 1) % N;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\n\nvoid mf(){\n\tfreopen(\"input.in\",\"r\",stdin);\n\tfreopen(\"output.ou\",\"w\",stdout);\n}\nint a[100007];\nint n, k;\n// map<string, int> mm;\nstring convert(){\n\tstring s = \"\";\n\tfor(int i = 0; i<n;i++){\n\t\ts+=char(a[i]+'A');\n\t}\n\treturn s;\n}\ninline bool check1(int res){\n\tif(abs(res- n/2) > 1)  return false;\n\tfor(int i = 1; i < n;i++)\n\tif(a[i] == a[i-1]) return false;\n\treturn true;\n}\nvoid solve(){\n\tcin>>n>>k;\n\tstring st;\n\t// srand(time(NULL));\n\t// n = 100000;\n\t// for(int i = 0; i < n; i++) a[i] = rand()%2;\n\tcin>>st;\n\tint res = 0;\n\tfor(int i = 0; i<n;i++) {\n\t\ta[i] = st[i]-'A';\n\t\tres+=a[i];\n\t}\n\tfor(int j = 1; j<= k;j++){\n\t\tint dir = 1, p = -1;\t\t\n\t\twhile(true){\n\t\t\tp+=dir;\n\t\t\tif(p<0 || p>=n) break;\n\t\t\tif(a[p]== 0) dir = -dir;\n\t\t\tres -= a[p];\n\t\t\ta[p] = 1- a[p];\n\t\t\tres += a[p];\n\t\t}\n\t\tif(check1(res)){\n\t\t\tif(a[0]==1){\n\t\t\t\tfor(int i = 0; i < n;i++)\n\t\t\t\t\tcout<<char( (1- i%2 ) + 'A');\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif((k-j)%2==0){\n\t\t\t\t\tfor(int i= 0; i<n;i++)\n\t\t\t\t\t\tcout<<char((i%2)+'A');\n\t\t\t\t}else{\n\t\t\t\t\tcout<<'B';\n\t\t\t\t\tfor(int i = 1;i<n;i++)\n\t\t\t\t\t\tcout<<char((i%2)+'A');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\tfor(int i = 0; i<n;i++)cout<<char(a[i]+'A');\n\n}\n// void test(){\n// \t// string x;cin>>x;\n// \tsrand(time(NULL));\n// \t// n = x.length();\t\n// \tn = 13;\n// \tfor(int i = 0; i < n; i++) a[i] = rand()%2;\n// \tstring st = convert();\n// \tcerr<<\"START==\\n\"<<st<<\"\\n===\\n\";\n// \tmm[st] = 0;\n// \tfor(int i = 1; i <=25; i++){\n// \t\tint dir = 1, p = -1;\n// \t\twhile(true){\n// \t\t\tp+=dir;\n// \t\t\tif(p<0 || p>=n) break;\n// \t\t\tif(a[p]== 0) dir = -dir;\n// \t\t\ta[p] = 1- a[p];\n// \t\t}\n// \t\tst = convert();\n// \t\t// cerr<<\"step \"<<i<<endl<<st<<\"\\n===\"<<endl;\n// \t\tcerr<<st<<endl;\n// \t\t// if(mm.find(st) != mm.end()){\n// \t\t// \tcerr<<st<<\" \";\n// \t\t// \tcerr<<i- mm[st]<<endl;\n// \t\t// \tcerr<<mm[st]<<\" \"<<i<<endl;\n// \t\t// \tmm[st] = i;\n// \t\t// \t//break;\t\t\n// \t\t// }else{\n// \t\t// \tmm[st] = i;\n// \t\t// }\n// \t}\n// }\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\t#ifdef tuanh\n\tmf();\n\t#endif\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n// #define int long long\n// #define double long double\n#define rep(i,n) for (int i=0; i<(int)(n); ++i)\n#define rep1(i,n) for (int i=1; i<(int)(n); ++i)\n#define repeq(i,n) for (int i=0; i<=(int)(n); ++i)\n#define rep1eq(i,n) for (int i=1; i<=(int)(n); ++i)\n#define rrep(i,n) for (int i=(int)(n)-1; i>=0; --i)\n#define rrep1(i,n) for (int i=(int)(n)-1; i>0; --i)\n#define rrepeq(i,n) for (int i=(int)(n); i>=0; --i)\n#define rrep1eq(i,n) for (int i=(int)(n); i>0; --i)\n#define REP(i,a,b) for (int i=(int)(a); i<=(int)(b); ++i)\n#define RREP(i,a,b) for (int i=(int)(a); i>=(int)(b); --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing vb = vector<bool>;\ntemplate<typename T> using Graph = vector<vector<T>>;\ntemplate<typename T> using Spacial = vector<vector<vector<T>>>;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\ntemplate<typename T> using greater_priority_queue = priority_queue<T, vector<T>, greater<T>>;\nconst int MOD = 1e9+7;\nconst int MOD2 = 998244353;\n// const double EPS = 1e-9;\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\nstring interval[2] = {\" \", \"\\n\"}; // {\" \", \"\\n\"}\n\ntemplate<typename T> struct is_plural : false_type{};\ntemplate<typename T1, typename T2> struct is_plural<pair<T1, T2>> : true_type{};\ntemplate<typename T> struct is_plural<vector<T>> : true_type{};\ntemplate<typename T> struct is_plural<complex<T>> : true_type{};\n \ntemplate<typename T1, typename T2> istream &operator>>(istream &is, pair<T1, T2> &p) { return is >> p.first >> p.second; }\ntemplate<typename T1, typename T2> ostream &operator<<(ostream &os, const pair<T1, T2> &p) { return os << p.first << \" \" << p.second; }\ntemplate<typename T> istream &operator>>(istream &is, vector<T> &vec) { for (auto itr = vec.begin(); itr != vec.end(); ++itr) is >> *itr; return is; }\ntemplate<typename T> ostream &operator<<(ostream &os, const vector<T> &vec) { if (vec.empty()) return os; bool pl = is_plural<T>(); os << vec.front(); for (auto itr = ++vec.begin(); itr != vec.end(); ++itr) os << interval[pl] << *itr; return os; }\n \nbool CoutYN(bool a, string y = \"Yes\", string n = \"No\") { cout << (a ? y : n) << \"\\n\"; return a; }\n\ntemplate<typename T1, typename T2> inline bool chmax(T1 &a, T2 b) { return a < b && (a = b, true); }\ntemplate<typename T1, typename T2> inline bool chmin(T1 &a, T2 b) { return a > b && (a = b, true); }\n\nlong long modpow(int a, long long n, int mod = MOD) { long long ret = 1; do { if (n & 1) ret = ret * a % mod; a = 1LL * a * a % mod; } while (n >>= 1); return ret; }\n\ntemplate<typename T> T GCD(T a, T b) { return b ? GCD(b, a%b) : a; }\ntemplate<typename T> T LCM(T a, T b) { return a / GCD(a, b) * b; }\n\ntemplate<typename T1, typename T2> bool CompareBySecond(pair<T1, T2> a, pair<T1, T2> b) { return a.second != b.second ? a.second < b.second : a.first < b.first; }\ntemplate<typename T1, typename T2> bool CompareByInverse(pair<T1, T2> a, pair<T1, T2> b) { return a.first != b.first ? a.first < b.first : a.second > b.second; }\n\n\n/* -------- <templates end> -------- */\n\n\nvoid solve() {\n  int n, k; cin >> n >> k;\n  string s; cin >> s;\n\n  const int x = 'A' ^ 'B';\n\n  rep(i,n) {\n    if ((i & 1) == s[i] - 'A') {\n      s[i] ^= x;\n      if (--k == 0) {\n        if (i & 1) REP(j,i,n-1) s[j] ^= x;\n        cout << s.substr(i);\n        rrep(j,i) cout << char('A' + (j & 1));\n        return;\n      }\n    }\n    if (--k == 0) {\n      if (!(i & 1)) REP(j,i+1,n-1) s[j] ^= x;\n      cout << s.substr(i+1);\n      rrep(j,i+1) cout << char('A' + (j & 1));\n      return;\n    }\n  }\n\n  if (n & 1) cout << char('A' + (k & 1));\n  rep(i,n/2) cout << \"BA\";\n}\n\n\n/* -------- <programs end> -------- */\n\n\nsigned main() {\n  cin.tie(nullptr);\n  ios::sync_with_stdio(false);\n  cout << fixed << setprecision(10);\n  solve();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <cmath>\n#include <string>\n#include <set>\n\nusing namespace std;\n\n#define fastInp cin.tie(0); cout.tie(0); ios_base::sync_with_stdio(0);\n\ntypedef long long ll;\ntypedef long double ld;\n\nll n, k;\nvector<char> vec;\nvector<char> need;\n\nvoid input() {\n\tcin >> n >> k;\n\tvec.resize(n);\n\tfor (auto &cur : vec) cin >> cur;\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nvoid play2() {\n\tif (vec[0] == 'A') {\n\t\tvec[0] = 'B';\n\t\treturn;\n\t}\n\n\tif (vec.back() == 'B') {\n\t\tvec.back() = 'A';\n\t}\n\tfor (int i = 1; i < vec.size(); i++) {\n\t\tif (vec[i - 1] == vec[i]) {\n\t\t\tif (vec[i - 1] == 'A') {\n\t\t\t\tvec[i - 1] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvec[i - 1] = 'A';\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid play() {\n\tll x = 0, side = 1;\n\twhile (x >= 0 && x < n) {\n\t\tif (side == 1) {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx--;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (auto cur : vec) cout << cur;\n\tif (x < 0) {\n\t\tcout << \" front\";\n\t}\n\telse {\n\t\tcout << \" back\";\n\t}\n\tcout << \"\\n\";\n}\n\nvoid rand_test() {\n\tn = rand() % 1000 + 1, k = rand() % 10000;\n\tvec.resize(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tvec[i] = ('A' + rand() % 2);\n\t}\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nll find_k() {\n\tll cnt = 0;\n\twhile (need != vec) {\n\t\tcnt++;\n\t\tplay();\n\t}\n\n\treturn cnt;\n}\n\nint main() {\n\tfastInp;\n\n\tinput();\n\t\n\twhile (k > 0) {\n\t\tk--;\n\t\tplay2();\n\t\tif (vec == need) {\n\t\t\tk %= 2;\n\t\t}\n\t}\n\n\tfor (auto cur : vec) cout << cur;\n\treturn 0;\n\t\n\tll t = 1000;\n\twhile (t--) {\n\t\trand_test();\n\t\tvector<char> sv = vec;\n\t\tcout << n << \" \" << find_k() << \"\\n\";\n\t\tfor (auto cur : sv) cout << cur;\n\t\tcout << \"\\n\";\n\t\tcout << \"-----------------------------\\n\";\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0&&erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}else{\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\terasing++;\n\t\t\t\t\treversed = false;\n\t\t\t\t\ts.push_back('A');\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\terasing++;\n\t\t\t\t\treversed = true;\n\t\t\t\t\ts.push_back('A');\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 1;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tif (k % 2 == 0) {\n\t\t\t\tcout << 'B';\n\t\t\t}\n\t\t\telse cout << 'A';\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// g++ -std=c++11 a.cpp\n#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<unordered_map>\n#include<utility>\n#include<cmath>\n#include<random>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#include<typeinfo>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define FOR(i,a) for(auto i:a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n#define show1d(v) rep(_,v.size())cout<<\" \"<<v[_];cout<<endl;\n#define show2d(v) rep(_,v.size()){rep(__,v[_].size())cout<<\" \"<<v[_][__];cout<<endl;}cout<<endl;\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\n//#define int ll\ntypedef ll Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n// #define mt make_tuple\n// typedef tuple<int,int,int> tp;\n// typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\n//template<class C>constexpr int size(const C &c){return (int)c.size();}\n//template<class T,size_t N> constexpr int size(const T (&xs)[N])noexcept{return (int)N;}\nconst double PI=acos(-1);\nconst double EPS=1e-9;\nDef inf = sizeof(Def) == sizeof(long long) ? 1e18+10 : 1e9+10;\n// int dx[]={0,1,0,-1,1,1,-1,-1};\n// int dy[]={1,0,-1,0,1,-1,1,-1};//RDLU\nint dx[]={-1,-1,0,0,1,1};\nint dy[]={-1,0,-1,1,0,1};//RDLU\nvoid solve(string s,int n,int m){\n\tint t=0;\n\twhile(m&&t<s.size()){\n\t\tif('A'+t%2==s[t]){\n\t\t\tm--;\n\t\t\tif(s[t]=='A')s[t]++;\n\t\t\telse s[t]--;\n\t\t\tif(!m)break;\n\t\t}\n\t\tt++;m--;\n\t}\n\tstring out=s.substr(t);\n\tif(t%2)rep(i,out.size())if(out[i]=='A')out[i]++;\n\telse out[i]--;\n\twhile(out.size()!=n)out+=(char)('A'+(n+1-out.size())%2);\n\tif(t==n&&m%2)out[0]='B';\n\tcout<<out<<endl;\n}\nint main(){\n\tint n,m;\n\tcin>>n;\n\tstring s;\n\tcin>>s;\n\tsolve(s,n,i);\n}\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#pragma GCC optimize(\"O3\")\n#define fi first\n#define se second\n#define pb push_back\n#define pf push_front\n#define mod 1000000007\n\nusing namespace std;\n\nint n, k;\nstring s;\nvoid proc(int poz, int dir)\n{\n    if(poz == -1 || poz == n)\n        return;\n    if(dir == 0)\n    {\n        if(s[poz] == 'A')\n        {\n            s[poz] = 'B';\n            proc(poz - 1, 1);\n        }\n        else\n        {\n            s[poz] = 'A';\n            proc(poz + 1, 0);\n        }\n    }\n    else\n    {\n        if(s[poz] == 'A')\n        {\n            s[poz] = 'B';\n            proc(poz + 1, 0);\n        }\n        else\n        {\n            s[poz] = 'A';\n            proc(poz - 1, 1);\n        }\n    }\n}\nint main()\n{\n    ios_base::sync_with_stdio(false);\n    cin.tie(NULL);\n    cin >> n >> k;\n    cin >> s;\n    /*\n    for(int i = 0; i < k; ++i)\n    {\n        proc(0, 0);\n        cout << s << '\\n';\n    }\n    return 0;\n    */\n    deque<int>d;\n    for(int i = 1; i < n; i += 2)\n        if(s[i] == 'A')\n            s[i] = 'B';\n        else\n            s[i] = 'A';\n    for(int i = 0; i < n; ++i)\n        d.pb(i);\n    for(int j = 1; j <= min(2 * n, k); ++j)\n        if(s[d.front()] == 'A')\n            s[d.front()] = 'B';\n        else\n        {\n            int x = d.front();\n            d.pop_front();\n            if(n % 2 == 0)\n                s[x] = 'B';\n            else\n                s[x] = 'A';\n            d.pb(x);\n        }\n    k -= min(k, 2 * n);\n    if(k % 2 == 1)\n    {\n        if(s[d.front()] == 'A')\n            s[d.front()] = 'B';\n        else\n        {\n            int x = d.front();\n            d.pop_front();\n            if(n % 2 == 0)\n                s[x] = 'B';\n            else\n                s[x] = 'A';\n            d.pb(x);\n        }\n    }\n    for(int i = 0; i < n; ++i)\n    {\n        if(i & 1)\n        {\n            if(s[d[i]] == 'A')\n                cout << \"B\";\n            else\n                cout << \"A\";\n        }\n        else\n            cout << s[d[i]];\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst int base = 3;\nconst int mod = (int)1e9 + 7;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nint hsh = 0, rev_hsh = 0;\nmap<int, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = (hsh * 1ll * base + i + 1) % mod;\n\t\trev_hsh = (rev_hsh * 1ll * base + (i ^ 1) + 1) % mod;\n\t}\n\n\tint pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = (pwn * 1ll * base) % mod;\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\n\t\t\thsh = (hsh + (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh + ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = (hsh * 1ll * base) % mod;\n\t\t\trev_hsh = (rev_hsh * 1ll * base) % mod;\n\n\t\t\thsh = (hsh + 2) % mod;\n\t\t\trev_hsh = (rev_hsh + 1) % mod;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\nvoid debug() {\n\tstring t; cin >> t;\n\trep(i, 60) {\n\t\tt = next(t);\n\t\tcout << t << endl;\n\t}\n}\n\nsigned main() {\n//\tdebug(); return 0;\n\n\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\tif (now == 'B'&&D.size() == 1) {\n\t\tnow = 'A'; k--;\n\t}\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tt++;\n\t\t\t\tD.pop_front();\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tint a = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (a == 1) {\n\t\t\t\tD.push_back(a);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta--;\n\t\t\t\tD.push_back(1);\n\t\t\t\tD.push_front(a);\n\t\t\t\tnow = 'A';\n\t\t\t\n\t\t\t}\n\n\t\t\tif (now == 'B'&&D.size() % 2) {\n\t\t\t\tint t = D.back();\n\t\t\t\tD.pop_back();\n\t\t\t\tif (t == 1) {\n\t\t\t\t\tint u = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tu++;\n\t\t\t\t\tD.push_back(u);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n&&now == 'B')break;\n//\t\tdisp(now, D);\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 3e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 2;\n\t\t\telse\n\t\t\t\tq[i] = 1;\n\t\t} else {\n\t\t\ta[i] = 1;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 1;\n\t\t\telse\n\t\t\t\tq[i] = 2;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[n - w + 1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[n - w + i + 1] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[n - w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef complex<double> point;\n#define xx real()\n#define yy imag()\n\n#define REP(i, a, b) for(int i = (a); i < (int)(b); i++)\n#define REPN(i, a, b) for(int i = (a); i <= (int)(b); i++)\n#define FA(it, x) for(__typeof((x).begin()) it = (x).begin(); it != (x).end(); it++)\n#define SZ(x) (int)(x).size()\n#define BE(x) (x).begin(), (x).end()\n#define SORT(x) sort(BE(x))\n#define _1 first\n#define _2 second\n\n#define x1 gray_cat_x1\n#define y1 gray_cat_y1\n\ntemplate<class T> T gcd(T a, T b) { return b ? gcd(b, a % b) : a; }\n\n#define file \"I1\"\n\nconst double EPS = 1e-9;\nconst double PI = acos(-1.);\nconst int INF = 1e9;\nconst ll MOD = 1e9 + 7;\n\nconst int MAXN = 4e5 + 5;\n\nchar s[MAXN];\n\nvoid solve(){\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, &s[0]);\n\tint i;\n\tfor(i = 0; i < n && k; k--){\n\t\tif (i % 2 == 0 && s[i] == 'A' || i % 2 == 1 && s[i] == 'B'){\n\t\t\ts[i] = 'B' - s[i] + 'A';\n\t\t} else {\n\t\t\ti++;\n\t\t}\n\t}\n\tfor(int j = i + n - 1; j >= n; j--){\n\t\ts[j] = ((i + n - 1 - j) % 2 == 0 ? 'A' : 'B');\n\t}\n\tif (k % 2 == 1 && n % 2 == 1){\n\t\ts[i] = 'B';\n\t}\n\tif (i < n && i % 2 == 1){\n\t\tREP(j, i, n){\n\t\t\ts[j] = 'B' - s[j] + 'A';\n\t\t}\n\t}\n\tprintf(\"%s\\n\", &s[i]);\n}   \n\nint main(){\n\n    //freopen(file\".in\", \"r\", stdin); freopen(file\".out\", \"w\", stdout);\n    int t = 1;\n    //cin >> t;\n    while(t--){\n        solve();    \n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nchar FLIP[2][128];\n\nint main() {\n    std::ios::sync_with_stdio(false);\n    FLIP[0]['A'] = 'A';\n    FLIP[0]['B'] = 'B';\n    FLIP[1]['A'] = 'B';\n    FLIP[1]['B'] = 'A';\n\n    for (unsigned N, K; std::cin >> N >> K;) {\n        std::string S;\n        std::cin >> S;\n        unsigned steps = 0, flips = 0, i = 0;\n        for (; i < N && steps < K; ++steps) {\n            if (S[i] == FLIP[flips % 2]['A']) {\n                S[i] = FLIP[flips % 2]['B'];\n            }\n            else {\n                ++i;\n                ++flips;\n            }\n        }\n\n        if (N % 2 == 1) {\n            flips += K - steps;\n        }\n\n        std::string T(N, '\\0');\n        for (unsigned j = 0, k = 0; j < N; ++j) {\n            if (i < N) {\n                T[j] = FLIP[flips % 2][S[i++]];\n            }\n            else {\n                T[j] = FLIP[(flips + ++k) % 2]['A'];\n            }\n        }\n        std::cout << T << '\\n';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n \ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double lf;\ntypedef long double llf;\ntypedef std::pair<int,int> pii;\n \n#define xx first\n#define yy second\n \ntemplate<typename T> inline T max(T a,T b){return a>b?a:b;}\ntemplate<typename T> inline T min(T a,T b){return a<b?a:b;}\ntemplate<typename T> inline T abs(T a){return a>0?a:-a;}\ntemplate<typename T> inline bool repr(T &a,T b){return a<b?a=b,1:0;}\ntemplate<typename T> inline bool repl(T &a,T b){return a>b?a=b,1:0;}\ntemplate<typename T> inline T gcd(T a,T b){T t;if(a<b){while(a){t=a;a=b%a;b=t;}return b;}else{while(b){t=b;b=a%b;a=t;}return a;}}\ntemplate<typename T> inline T sqr(T x){return x*x;}\n#define mp(a,b) std::make_pair(a,b)\n#define pb push_back\n#define I inline\n#define mset(a,b) memset(a,b,sizeof(a))\n#define mcpy(a,b) memcpy(a,b,sizeof(a))\n \n#define fo0(i,n) for(int i=0,i##end=n;i<i##end;i++)\n#define fo1(i,n) for(int i=1,i##end=n;i<=i##end;i++)\n#define fo(i,a,b) for(int i=a,i##end=b;i<=i##end;i++)\n#define fd0(i,n) for(int i=(n)-1;~i;i--)\n#define fd1(i,n) for(int i=n;i;i--)\n#define fd(i,a,b) for(int i=a,i##end=b;i>=i##end;i--)\n#define foe(i,x)for(__typeof(x.end())i=x.begin();i!=x.end();++i)\n \nstruct Cg{I char operator()(){return getchar();}};\nstruct Cp{I void operator()(char x){putchar(x);}};\n#define OP operator\n#define RT return *this;\n#define RX x=0;char t=P();while((t<'0'||t>'9')&&t!='-')t=P();bool f=0;\\\nif(t=='-')t=P(),f=1;x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define RL if(t=='.'){lf u=0.1;for(t=P();t>='0'&&t<='9';t=P(),u*=0.1)x+=u*(t-'0');}if(f)x=-x\n#define RU x=0;char t=P();while(t<'0'||t>'9')t=P();x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define TR *this,x;return x;\nI bool IS(char x){return x==10||x==13||x==' ';}template<typename T>struct Fr{T P;I Fr&OP,(int &x)\n{RX;if(f)x=-x;RT}I OP int(){int x;TR}I Fr&OP,(ll &x){RX;if(f)x=-x;RT}I OP ll(){ll x;TR}I Fr&OP,(char &x)\n{for(x=P();IS(x);x=P());RT}I OP char(){char x;TR}I Fr&OP,(char *x){char t=P();for(;IS(t);t=P());if(~t){for(;!IS\n(t)&&~t;t=P())*x++=t;}*x++=0;RT}I Fr&OP,(lf &x){RX;RL;RT}I OP lf(){lf x;TR}I Fr&OP,(llf &x){RX;RL;RT}I OP llf()\n{llf x;TR}I Fr&OP,(uint &x){RU;RT}I OP uint(){uint x;TR}I Fr&OP,(ull &x){RU;RT}I OP ull(){ull x;TR}};Fr<Cg>in;\n#define WI(S) if(x){if(x<0)P('-'),x=-x;char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\n#define WL if(y){lf t=0.5;for(int i=y;i--;)t*=0.1;if(x>=0)x+=t;else x-=t,P('-');*this,(ll)(abs(x));P('.');if(x<0)\\\nx=-x;while(y--){x*=10;x-=floor(x*0.1)*10;P(((int)x)%10+'0');}}else if(x>=0)*this,(ll)(x+0.5);else *this,(ll)(x-0.5);\n#define WU(S) if(x){char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\ntemplate<typename T>struct Fw{T P;I Fw&OP,(int x){WI(10);RT}I Fw&OP()(int x){WI(10);RT}I Fw&OP,(uint x){WU(10);RT}\nI Fw&OP()(uint x){WU(10);RT}I Fw&OP,(ll x){WI(19);RT}I Fw&OP()(ll x){WI(19);RT}I Fw&OP,(ull x){WU(20);RT}I Fw&OP()\n(ull x){WU(20);RT}I Fw&OP,(char x){P(x);RT}I Fw&OP()(char x){P(x);RT}I Fw&OP,(const char *x){while(*x)P(*x++);RT}\nI Fw&OP()(const char *x){while(*x)P(*x++);RT}I Fw&OP()(lf x,int y){WL;RT}I Fw&OP()(llf x,int y){WL;RT}};Fw<Cp>out;\n\nconst int N=200007;\n\nchar s[N];\nint n,m;\n\nint main()\n{\n\tin,n,m,s;\n\tfo0(i,n)s[i]-='A';\n\tfo0(d,m)\n\t{\n\t\tfor(int i=0,j=1;i>=0&&i<n;)\n\t\t{\n\t\t\ts[i]^=1;\n\t\t\tif(!s[i])i+=j;\n\t\t\telse i+=-j,j=-j;\n\t\t}\n\t\tfo0(j,n)if(s[j]^(j&1)^1)goto naive;\n\t\tbreak;naive:;\n\t\t//fo0(i,n)out,char(s[i]+'A');out,'\\n';\n\t}\n\tfo0(i,n)out,char(s[i]+'A');out,'\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define f(i, x, n) for(int i = x; i < (int)(n); ++i)\n\nchar s[200002];\nint n, k;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tif (n == 1){\n\t\tif (k & 1) { if (s[0] == 'A')s[0] = 'B'; else s[0] = 'A'; }\n\t\tprintf(\"%s\\n\", s);\n\t\treturn 1;\n\t}\n\ts[n] = 'B';\n\tint i = 0;\n\tbool c = false;\n\twhile (k && i <= n){\n\t\tif (!c && s[i] - (i & 1) == 'A'){\n\t\t\tc = true;\n\t\t\t--k;\n\t\t\tcontinue;\n\t\t}\n\t\tc = false;\n\t\t--k;\n\t\t++i;\n\t}\n\tf(j, 0, n){\n\t\tint z = j + i;\n\t\tif (z > n){\n\t\t\tif (n - j & 1)s[j] = 'A';\n\t\t\telse s[j] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\tif (i & 1) { if (s[z] == 'A')s[j] = 'B'; else s[j] = 'A'; }\n\t\telse s[j] = s[z];\n\t}\n\tif (c)s[0] = 'B';\n\ts[n] = 0;\n\tprintf(\"%s\\n\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\t--k;\n\t}\n\tif (k == 0) {\n\t\tcout << s;\n\t\treturn 0;\n\t}\n\tstring sol = s;\n\tint j = s.size()-1;\n\tfor (int curs = 0; j >= 0 && k > 0; --j, --k) {\n\t\tsol[j] = curs + 'A';\n\t\tcurs ^= 1;\n\t}\n\t\n\tfor (int i = s.size()-1; j >= 0; --j, --i) {\n\t\tsol[j] = 'A' + ((s[i]-'A')^1);\n\t}\n\tcout << sol;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nconst int MN = 200005;\n\nchar S[MN];\nint N, K, A[MN * 2], p;\n\nvoid Solve() {\n\tif (!A[p]) A[p] = 1;\n\telse A[p++ + N] = ~N & 1;\n}\n\nint main() {\n\tscanf(\"%d%d%s\", &N, &K, S + 1), p = 1;\n\tfor (int i = 1; i <= N; ++i) A[i] = (S[i] == 'B') ^ (~i & 1);\n\twhile (K && p <= N) Solve(), --K;\n\tif (K & 1) Solve();\n\tfor (int i = 1; i <= N; ++i) printf(\"%c\", 'A' + (A[p + i - 1] ^ (~i & 1)));\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LL long long\n#define FOE(i, s, t) for (int i = s; i <= t; i++)\n\nint n, k;\n\n#define K 600001\n\nchar s[K];\n\nchar f(int a, char b){\n        if (a){\n                if (b == 'A') return 'B';\n                return 'A';\n        }\n        return b;\n}\n\nint main(){\n        scanf(\"%d%d\", &n, &k);\n        scanf(\"%s\", s);\n\n        int ptr = 0, tog = 0;\n        int las = n;\n\n        FOE(i, 1, min(k, 5000000)){\n                int tru = (s[ptr] == 'A'? 0: 1);\n                if (tog) tru ^= 1;\n\n                if (tru == 0){\n                        s[ptr] = (s[ptr] == 'A'? 'B': 'A');\n                } else {\n                        s[las] = (tog? 'A': 'B');\n                        las++;\n                        ptr++;\n                        tog ^= 1;\n                }\n        }\n\n        int left = max(0, k - 5000000);\n\n        /*FOE(i, 1, k){int cur = 0, dir = 1;\n        while (cur >= 0 && cur < n){\n                if (s[cur] == 'A') dir *= -1, s[cur] = 'B';\n                else s[cur] = 'A';\n                cur = cur + dir;\n        }}\n*/\n\n        FOE(i, 1, n) printf(\"%c\", f(tog, s[ptr + i - 1]));\n        puts(\"\");\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <cassert>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <list>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <algorithm>\n#include <complex>\n#include <cmath>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long int64;\ntypedef pair<int, int> ii;\nconst int INF = 1 << 30;\n\nconst int N = 2e5 + 10;\nchar s[N];\nint main() {\n  int n, k;\n  scanf(\"%d%d\", &n, &k);\n  scanf(\"%s\", s);\n  vector<bool> a(n);\n  for (int i = 0; i < n; ++i) {\n    a[i] = (s[i] == 'A');\n  }\n  bool flip = false;\n  int idx = 0;\n  while (k--) {\n    if (a[idx] ^ flip) {\n      a[idx] = !a[idx];\n    } else {\n      flip = !flip;\n      a[idx] = !flip;\n      ++idx;\n    }\n    if (idx == n) idx = 0;\n  }\n  for (int i = 0; i < n; ++i) {\n    int j = (idx + i) % n;\n    putchar(flip ^ a[j] ? 'A' : 'B');\n  }\n  puts(\"\");\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include <algorithm>\n\nusing namespace std;\n\nvoid update( char& state, int& index, char& side )\n{\n    if( state == 'A' )\n        side *= -1;\n    index += side;\n    state = ( state == 'A' )? 'B' : 'A';\n}\n\nint main()\n{\n    // 整数の入力\n    int N, K;\n    cin >> N >> K;\n    vector<char> machine(N + 1);\n    machine[N] = '¥0';\n    cin >> &machine[0];\n\n    for(int i = 0;i < K;++i )\n    {\n        int index = 0;\n        char side = 1;\n        while( 0 <= index && index < N )\n            update( machine[index], index, side );\n    }\n\n    cout << &machine[0] << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n, k;\nstring st;\nint main()\n{\n    cin >> n >> k;\n    cin >> st;\n    int j = 0, c = 0;\n    for (int i = 1; j < n; ++ i)\n    {\n        if ((st[j] == 'A') ^ c)\n            if (st[j] == 'B') st[j] = 'A'; else st[j] = 'B';\n        else\n        {\n            j ++;\n            c ^= 1;\n        }\n    }\n    if (j >= n)\n    {\n        if (n & 1)\n        {\n            if (((k - n) & 1) ^ c) cout << \"A\"; else cout << \"B\";\n            for (int i = 1; i < n; i += 2) cout << \"BA\";\n        }\n        else\n            for (int i = 0; i < n; i += 2) cout << \"BA\";\n        return 0;\n    }\n    for (int p = 0, g = j; p < n; ++ p, ++ g)\n    {\n        if (g < n) if ((st[g] == 'A') ^ c) cout << 'A'; else cout << 'B';\n        else if (((g - n) & 1) ^ c) cout << 'A'; else cout << 'B';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector> \n#include <list> \n#include <map> \n#include <set> \n#include <deque> \n#include <queue> \n#include <stack> \n#include <bitset> \n#include <algorithm> \n#include <functional> \n#include <numeric> \n#include <utility> \n#include <sstream> \n#include <iostream> \n#include <iomanip> \n#include <cstdio> \n#include <cmath> \n#include <cstdlib> \n#include <cctype> \n#include <string> \n#include <cstring> \n#include <ctime> \n\nusing namespace std;\n\n#define _int64 long long\n\nchar s[510000];\nint a[1000000];\nchar ans[510000];\n\nint main()\n{\n  vector<int> a;\n  int i,j,n,k,f,jian,h,t,need;\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  if (n==1)\n  {\n    if (k%2==1) s[0]='A'+'B'-s[0];\n    printf(\"%s\\n\",s);\n    return 0;\n  }\n  s[n]='B';\n  for (i=1;i<n;i++)\n    s[n+i]='A'+'B'-s[n+i-1];\n  ans[n]='\\0';\n  for (i=0;i<n;i++)\n  {\n    if (i==0)\n    {\n      if (s[0]=='A') need=2;\n      else need=1;\n    }\n    else\n    {\n      if (s[i]==s[i+n-1])\n      {\n        need=2;\n      }\n      else need=1;\n    }\n    if (k>=need) k-=need;\n    else\n    {\n      for (j=0;j<n;j++)\n        if ((i==0)||(s[i+n-1]=='A'))\n          ans[j]=s[i+j];\n        else ans[j]='A'+'B'-s[i+j];\n      if (k==1) ans[0]='A'+'B'-ans[0];\n      printf(\"%s\\n\",ans);\n      return 0;\n    }\n  }\n  if ((s[n]==s[n+n-1])&&(k%2!=0))\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    ans[0]='B';\n    printf(\"%s\\n\",ans);\n  }\n  else\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    printf(\"%s\\n\",ans);\n  }\n  /*\n  for (i=0;i<k;i++)\n  {\n    j=0;f=1;\n    while ((j>=0)&&(j<n))\n    {\n      if (s[j]=='A')\n      {\n        s[j]='B';f=-f;\n        j+=f;\n      }\n      else\n      {\n        s[j]='A';\n        j+=f;\n      }\n    }\n    printf(\"%s\\n\",s);\n  }\n  */\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 4 * 100 * 1000 + 1234;\nint n, k;\nstring s;\n\nchar rev(char c) {\n\treturn (c == 'A')? 'B': 'A';\n}\nstring gen(int c) {\n\tstring ss;\n\tif (c % 2 == 0)\n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += s[i + c];\n\telse \n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += rev(s[i + c]);\n\treturn ss;\n}\n\nstring prv(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\treturn s;\n}\n\nvoid out(string s) {\n\tif (s == \"\")\n\t\treturn ;\n\tfor (int i = 0; i < n; i++)\n\t\tputchar(s[i]);\n\texit(0);\n}\n\nint main() {\n\tcin >> n >> k;\n\tcin >> s;\n\tint ans[MAXN];\n\tchar ch[2] = {'B', 'A'};\n\tfor (int i = 0; i <= n + 10; i++)\n\t\ts += ch[i % 2];\n\tans[0] = (s[0] == ch[1]);\n\tfor (int i = 1; i <= n; i++) {\n\t\tans[i] = ans[i - 1] + 1;\n//\t\tcerr << ans[i] << ' ' << s[i] << ' ' << ch[i & 1] << endl;\n\t\tans[i] += s[i] == ch[i % 2 ^ 1];\n\t}\n//\tfor (int i = 0; i <= n; i++)\n//\t\tcerr << i << ' ' << ans[i] << endl;\n\tfor (int i = 0; i <= n; i++) {\n//\t\tcerr << i << ' ' << gen(i) << endl;\n\t\tif (k == ans[i]) \n\t\t\tout(prv(gen(i)));\n\t\telse if (k == ans[i] - 1)\n\t\t\tout(gen(i));\n\t}\n//\tcerr << \"yoho \" << ans[n] << endl;\n\tk -= ans[n];\n\tk %= 2;\n\tif (k == 0 || n % 2 == 0)\n\t\tout(gen(n));\n\telse\n\t\tout(prv(gen(n)));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nconst int N = 100010;\n\nchar s[N];\nint n, k;\nstd::deque <int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++ i){\n\t\tdq.push_back(s[i] - 'A');\n\t}\n\tif (k > n << 1){\n\t\tk = n << 1 + (k & 1);\n\t}\n\tbool flag = false;\n\tfor (int i = 0; i < k; ++ i){\n\t\tif (dq.front() == flag){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(flag ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflag ^= 1;\n\t\t\tdq.push_back(flag);\n\t\t}\n\t}\n\twhile (!dq.empty()){\n\t\tputchar((dq.front() ^ flag) + 'A');\n\t\tdq.pop_front();\n\t}\n\treturn printf(\"\\n\"), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbool a[N];\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n    while (k--) {\n\n        if (a[0]) {\n            a[0] ^= 1;\n        }   \n        else {\n            vector <int> ar;\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    ar.app(i);  \n                }   \n            }   \n            for (auto e : ar)\n                a[e] ^= 1;\n            a[n - 1] = 1;\n        }   \n    }\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\n\nnamespace IO {\n    template <typename _T>\n    inline bool read (_T& x) {\n        x = 0;\n        _T y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return false;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return true;\n    }\n\n    template <typename _T>\n    inline _T input () {\n        _T x = 0, y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return 0;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return x;\n    }\n};\nusing namespace IO;\n\n#define reg register\n#define MAX_N 200007\n#define FIN(s) freopen(s, \"r\", stdin)\n#define FOUT(s) freopen(s, \"w\", stdout)\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define rep(i, l, r) for(int i = l; i <= r; ++i)\n#define lep(i, l, r) for(int i = l; i < r; ++i)\n#define irep(i, r, l) for(int i = r; i >= l; --i)\n#define ilep(i, r, l) for(int i = r; i > l; --i)\ntypedef long long ll;\n\nint N, K, bg;\nchar s[MAX_N];\nint q[MAX_N];\n\nint main () {\n#ifdef LOCAL\n    FIN(\"in\");\n#endif\n    read(N), read(K);\n    scanf(\"%s\", s);\n    bg = 0;\n    lep (i, 0, N) q[i] = s[i] - 'A';\n    int now = 0;\n    rep (i, 1, K) {\n        if (now == q[bg]) {\n            q[bg] = now ^ 1;\n        } else {\n            q[bg] = now ^ 1;\n            (bg += 1) >= N ? bg = 0 : 0;\n            now ^= 1;\n        }\n    }\n    rep (i, 1, N) {\n        putchar((q[bg] ^ now) + 'A');\n        (bg += 1) %= N;\n    } puts(\"\");\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define ii pair<ll,ll>\n#define iii pair<ll,ii>\n#define endl '\\n'\n\n#define debug(x) cout << #x << \" is \" << x << endl;\n\nint n,k;\n\nstring s;\n\ndeque<bool> dq;\n\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\t\n\tcin>>n>>k;\n\tcin>>s;\n\t\n\tfor (int x=0;x<n;x++){\n\t\tdq.push_back(s[x]=='B');\n\t}\n\t\n\t//A is false\n\t//B is true\n\tbool parity=false;\n\t\n\twhile (k--){\n\t\twhile (!dq.empty() && (dq.back()^parity)==((n-dq.size())&1)) dq.pop_back();\n\t\tif (dq.empty()){\n\t\t\tif (n&1) putchar((k&1)?'A':'B');\n\t\t\tfor (int x=n&1;x<n;x++){\n\t\t\t\tputchar(((n-x)&1)?'A':'B');\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t\tif (!(dq.front()^parity)){\n\t\t\tdq.front()^=true;\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tparity^=true;\n\t\t}\n\t}\n\t\n\tfor (auto &it:dq){\n\t\tputchar((it^parity)?'B':'A');\n\t}\n\tfor (int x=dq.size();x<n;x++){\n\t\tputchar(((n-x)&1)?'A':'B');\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\nvoid debug() {\n\tstring t; cin >> t;\n\trep(i, 60) {\n\t\tt = next(t);\n\t\tcout << t << endl;\n\t}\n}\n\nsigned main() {\n//\tdebug(); return 0;\n\n\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\n\tif (n == 1) {\n\t\tif (k & 1) {\n\t\t\tif (now == 'A')cout << 'B' << endl;\n\t\t\telse cout << 'A' << endl;\n\t\t}\n\t\telse cout << 'A' << endl;\n\n\t\treturn 0;\n\t}\n\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tt++;\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tif (D.size() == 1) {\n\t\t\t\tnow = 'A';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint a = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tif (a == 1) {\n\t\t\t\t\tD.push_back(a);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta--;\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t\tD.push_front(a);\n\t\t\t\t\tnow = 'A';\n\t\t\t\t}\n\n\t\t\t\tif ((now == 'A'&&D.size() % 2==0)||(now=='B'&&D.size()%2)) {\n\t\t\t\t\tint t = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tif (t == 1) {\n\t\t\t\t\t\tint u = D.back();\n\t\t\t\t\t\tD.pop_back();\n\t\t\t\t\t\tu++;\n\t\t\t\t\t\tD.push_back(u);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\t\tD.push_back(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n) {\n\t\t\tif(((n&1)&&now=='A')||(!(n&1)&&now=='B'))\n\t\t\tbreak;\n\t\t}\n//\t\tdisp(now, D);\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint n, k, p, f;\nvoid solve(int k)\n{\n\tp=1, f=0;\n\tfor (int i=1; i<=k; i++)\n\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\telse f^=1, p=p==n?1:p+1;\n\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\tif (!f) putchar(s[i]);\n\t\telse putchar(s[i]=='A'?'B':'A');\n}\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=2*n)\n\t{\n\t\tsolve(k);\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\tif (!f) putchar(s[i]);\n\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tsolve(2*n);\n\t\tif (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (s[p]=='A'^(k-2*n)%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"unordered_set\"\n#include \"iomanip\"\n#include \"cmath\"\n#include \"random\"\n#include \"bitset\"\n#include \"cstdio\"\n#include \"numeric\"\n#include \"bitset\"\n\nusing namespace std;\n\n//const long long int MOD = 998244353;\nconst long long int MOD = 1000000007;\nconst long double EPS = 1e-7;\n\nlong long int N, M, K, H, W, L, R;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tcin >> N >> K;\n\tstring s;\n\tcin >> s;\n\tint box = K / 2;\n\tif (box) {\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tif (i + box < N) {\n\t\t\t\tif (box % 2) {\n\t\t\t\t\ts[i] = 'A' + 'B' - s[i + box];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ts[i] = s[i + box];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ((N - 1 - i) % 2)s[i] = 'B';\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t}\n\t}\n\tK %= 2;\n\tif (K) {\n\t\tif (s[0] == 'A')s[0] = 'B';\n\t\telse {\n\t\t\tfor (int i = 0; i < N - 1; i++)s[i] = 'A' + 'B' - s[i + 1];\n\t\t\ts[N - 1] = 'A';\n\t\t}\n\t}\n\tcout << s << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    for (int i = 0; i < 2 * n && k; ++i) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    // chrono::steady_clock clk;\n    // auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<int> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, fflip = false;;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            // ss[idx] = !ss[idx];\n            ss[idx] ^= 1;\n        }else{\n            // flip = !flip;\n            flip ^= 1;\n            idx++;\n            if(idx == n){ idx = 0; }\n        }\n        // if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n        //     if(n % 2 && (k - i - 1) % 2){\n        //         fflip = true;\n        //     }\n        //     break;\n        // }\n    }\n    cout << (fflip ^ flip ^ ss[idx] ? 'A' : 'B');\n    for(int i=1;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\nconst int L = 5e7 + 10;\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1)\n        dif %= 3;\n    else\n        dif %= 2;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n\n\n#define PB push_back\n#define PF push_front\n#define LB lower_bound\n#define UB upper_bound\n#define fr(x) freopen(x,\"r\",stdin)\n#define fw(x) freopen(x,\"w\",stdout)\n#define iout(x) printf(\"%d\\n\",x)\n#define lout(x) printf(\"%lld\\n\",x)\n#define REP(x,l,u) for(int x = (l);x<=(u);x++)\n#define RREP(x,l,u) for(int x = (l);x>=(u);x--)\n#define mst(x,a) memset(x,a,sizeof(x))\n#define PII pair<int,int>\n#define PLL pair<ll,ll>\n#define MP make_pair\n#define se second\n#define fi first\n#define dbg(x) cout<<#x<<\" = \"<<(x)<<endl;\n#define sz(x) ((int)x.size())\n#define cl(x) x.clear()\n\ntypedef  long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ntypedef long double ld;\nusing namespace std;\n\nconst int maxn = 400010;\nconst int mod = 1e9+7;\nconst int MAX = 1000000010;\nconst double eps = 1e-6;\nconst double PI = acos(-1);\n\ntemplate<typename T> inline void read(T &x){\nx=0;T f=1;char ch;do{ch=getchar();if(ch=='-')f=-1;}while(ch<'0'||ch>'9');do x=x*10+ch-'0',ch=getchar();while(ch<='9'&&ch>='0');x*=f;\n}\n\ntemplate<typename A,typename B> inline void read(A&x,B&y){read(x);read(y);}\ntemplate<typename A,typename B,typename C> inline void read(A&x,B&y,C&z){read(x);read(y);read(z);}\ntemplate<typename A,typename B,typename C,typename D> inline void read(A&x,B&y,C&z,D&w){read(x);read(y);read(z);read(w);}\ntemplate<typename A,typename B> inline A fexp(A x,B p){A ans=1;for(;p;p>>=1,x=1LL*x*x%mod)if(p&1)ans=1LL*ans*x%mod;return ans;}\ntemplate<typename A,typename B> inline A fexp(A x,B p,A mo){A ans=1;for(;p;p>>=1,x=1LL*x*x%mo)if(p&1)ans=1LL*ans*x%mo;return ans;}\n\nint n,k;\n\nchar s[maxn];\n\nint A[maxn];\n\nvoid Work(){\n\tint now=0,l=1,r=n;\n\tREP(i,1,n*2){\n\t\tif((A[l]^now))A[l]^=1;\n\t\telse{\n\t\t\tl++;A[++r]=now;\n\t\t\tnow^=1;\n\t\t}\n\t\tif(!--k){\n\t\t\tREP(j,l,r)printf(\"%c\",'A'+(!(A[j]^now)));puts(\"\");\n\t\t\treturn;\n\t\t}\n\t}\n\tREP(i,l,r)A[i]^=now;\n\tif((n&1)&&(k&1))A[l]^=1;\n\tREP(i,l,r)printf(\"%c\",'A'+(!A[i]));puts(\"\");\n}\n\nvoid Init(){\n\tread(n,k);\n\tscanf(\"%s\",s+1);\n\tREP(i,1,n)A[i]=!(s[i]-'A');\n}\n\nint main(){\n\tInit();\n\tWork();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int N = 2e5+5;\nint n, k, p;\nchar s[N];\nbool bit[N];\nint main()\n{\n    scanf(\"%d%d%s\", &n, &k, s+1), s[n+1] = 'B';\n    // for(p = n-1; p >= 1&&s[p+1]== 'A'&&s[p] == 'B'; p -= 2); p += 2;\n    // for( ; k&&p > 2; --k)\n    // {\n    //     if(s[1] == 'A') s[1] = 'B';\n    //     else\n    //     {\n    //         for(int i = 1; i < p; ++i)\n    //         {\n    //             if(s[i] == 'B'&&s[i+1] != 'A') s[i] = 'A';\n    //             else for( ; s[i+1] == 'A'; ++i) s[i] = 'B';\n    //         }\n    //         for(p -= 2; p >= 1&&s[p+1]== 'A'&&s[p] == 'B'; p -= 2); p += 2;\n    //     }\n    //     printf(\"%s\\n\", s+1);\n    // }\n    for(int i = 1; i <= n; ++i) bit[i] = s[i] != s[i+1];\n    for(p = 1; p <= n&&k; --k)    \n        if(s[1] == 'A') s[1] = 'B', bit[p] ^= 1;\n        else if(bit[p] == 0) s[1] = 'A', ++p;\n        else ++p;\n    if(p <= n)\n    {\n        for(int i = p+1; i <= n+1; ++i) s[i-p+1] = ((s[i-p]-'A')^bit[i-1])+'A';\n        for(int i = n-p+3; i <= n; ++i) s[i] = ((s[i-1]-'A')^1)+'A';\n    }\n    else for(int i = 1; i <= n; ++i) s[i+(n&1)] = 'A'+(i&1);\n    if(k&&(n&1)) s[1] = ((s[1]-'A')^(k&1))+'A'; s[n+1] = 0;\n    printf(\"%s\\n\", s+1);\n    return 0;\n}\n/*\n11 22\nABBBABABABA\n\nABBBABABAB\n1001111110\nBBBBABABAB\n0001111110\nAAABABABAA\n0011111101\nBAABABABAA\n1011111101\nBBABABABBA\n0111111011\nABABABAABA\n1111110111\nBBABABAABA\n0111110111\nABABABBABA\n1111101111\nBBABABBABA\n0111101111\nABABAABABA\n1111011111\nBBABAABABA\n0111011111\n*/"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <vector>\n#include <queue>\n#include <iostream>\n#include <set>\n#include <map>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long int ll;\ntypedef pair<int, int> Pii;\ntypedef pair<int, double> Pid;\ntypedef pair<double, int> Pdi;\ntypedef pair<double, double> Pdd;\ntypedef pair<ll, ll> P;\ntypedef pair<P, ll> PP;\n\nconst ll mod = 1e9+7;\nconst int INF = 2e9;\nconst double epsilon = 1e-7;\nconst double PI = 3.1415926535;\n\nll mi(ll x, ll y){\n    if(x<y)return x;\n    return y;\n}\nint n, k, flag = 0;\nchar r[200001];\nvoid cha(){\n    if(r[0] == 'A'){\n        r[0] = 'B';\n        return;\n    }\n    flag = 1;\n    for(int i = 0;i < n-1;i++){\n        if(r[i] == 'A')if(r[i+1] == 'A')r[i] = 'B';\n        if(r[i] == 'B')if(r[i+1] == 'B')r[i] = 'A';\n        if(((n-i)%2 == 0 && r[i] == 'A') || ((n-i)%2 == 1 && r[i] == 'B'))flag = 0;\n    }\n    r[n-1] = 'A';\n    return;\n}\nint main(void){\n    cin >> n >> k; scanf(\"%s\", &r);\n    if(k%2==0){\n        for(int i = 0;i < k;i++){\n            cha();\n            if(flag)break;\n        }\n    }else{\n        for(int i = 0;i < k;i++){\n            cha();\n            if(flag && (k-i)%2 == 0)break;\n        }\n    }\n    for(int i = 0;i < n;i++)printf(\"%c\", r[i]);\n    printf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\tios_base::sync_with_stdio(0);\n\tcin.tie(0);\n\tint n,k;\n\tcin>>n>>k;\n\tdeque<int> dq;\n\tstring s;\n\tcin>>s;\n\tfor(auto it:s)\n\t\tdq.emplace_back(it-'A');\n\tint flip=0;\n\twhile(k){\n\t\tk--;\n\t\tint cur = dq[0]^(flip&1);\n\t\tif(cur==0){\n\t\t\tdq[0]^=1;\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflip++;\n\t\t\tdq.emplace_back(flip&1);\n\t\t}\n\t\tif(flip==n)\tbreak;\n\t}\n\tif(k)if(n&1)if(k&1)\tdq[0]^=1;\n\tfor(auto it:dq){\n\t\tit ^= (flip&1);\n\t\tcout<<char(it+'A');\n\t}\n\tcout<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 3e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 2;\n\t\t\telse\n\t\t\t\tq[i] = 1;\n\t\t} else {\n\t\t\ta[i] = 1;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 1;\n\t\t\telse\n\t\t\t\tq[i] = 2;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[n - w + i] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[n - w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <array>\n#include <set>\n#include <map>\n#include <queue>\n#include <tuple>\n#include <unordered_set>\n#include <unordered_map>\n#include <functional>\n#include <cassert>\n#define repeat(i,n) for (int i = 0; (i) < int(n); ++(i))\n#define repeat_from(i,m,n) for (int i = (m); (i) < int(n); ++(i))\n#define repeat_reverse(i,n) for (int i = (n)-1; (i) >= 0; --(i))\n#define repeat_from_reverse(i,m,n) for (int i = (n)-1; (i) >= int(m); --(i))\n#define whole(f,x,...) ([&](decltype((x)) whole) { return (f)(begin(whole), end(whole), ## __VA_ARGS__); })(x)\n#define debug(x) #x << \" = \" << (x) << \" \"\nusing ll = long long;\nusing namespace std;\nconstexpr size_t max_n = 200000;\nbool a[max_n+1];\nint main() {\n    int n, k; scanf(\"%d%d\", &n, &k);\n    repeat (i,n) { char c; scanf(\" %c\", &c); a[i] = (c == 'A'); }\n    int m = n;\n    a[m+1] = false;\n    while (k --) {\n        if (a[0]) {\n            a[0] = false;\n        } else {\n            repeat (i,m) a[i] = not a[i+1];\n        }\n        while (2 <= m and not a[m-2] and a[m-1]) m -= 2;\n        if (m == 0) break;\n        if (m == 1) k %= 2;\n    }\n    repeat (i,n) printf(\"%c\", a[i] ? 'A' : 'B');\n    printf(\"\\n\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define forn(i, n) for (int i = 0; i < (int)(n); ++i)\ntypedef long long LL;\ntypedef pair<int, int> PII;\n\nint n, k;\nstring s, ans;\nint st;\ndeque<int> q;\n\nbool isDone() {\n    return (int)q.size() == n && st == ((n & 1) ^ 1);\n}\n\nint main() {\n    //freopen(\"input.txt\", \"r\", stdin);\n    ios_base::sync_with_stdio(false);\n    cin >> n >> k;\n    cin >> s;\n//    s = string(n, 'A');\n//    mt19937 mt(123);\n//    forn(i, n) {\n//        s[i] = mt() % 2 ? 'A' : 'B';\n//    }\n    st = (s[0] == 'A' ? 0 : 1);\n    for (int beg = 0; beg < n; ) {\n        int end = beg + 1;\n        while (end < n && s[beg] == s[end]) {\n            ++end;\n        }\n        q.push_back(end - beg);\n        beg = end;\n    }\n    while (k && !isDone()) {\n        --k;\n        if (st == 0) {\n            st = 1;\n            if (q.front() == 1) {\n                q.pop_front();\n                ++q[0];\n            } else {\n                --q[0];\n                q.push_front(1);\n            }\n        } else {\n            st ^= 1;\n            if (q.front() == 1) {\n                q.pop_front();\n                st ^= 1;\n            } else {\n                --q[0];\n            }\n            if (st ^ (q.size() & 1)) {\n                ++q.back();\n            } else {\n                q.push_back(1);\n            }\n        }\n\n        assert((int)q.size() <= n);\n//        if (1) {\n//            ans = \"\";\n//            int st = ::st;\n//            for (int x : q) {\n//                char c = st ? 'B' : 'A';\n//                forn(i, x) {\n//                    ans += c;\n//                }\n//                st ^= 1;\n//            }\n//            cerr << ans << endl;\n//        }\n    }\n    ans = \"\";\n    for (int x : q) {\n        char c = st ? 'B' : 'A';\n        forn(i, x) {\n            ans += c;\n        }\n        st ^= 1;\n    }\n    if (n % 2 == 1 && k % 2 == 1) {\n        assert(ans[0] == 'A');\n        ans[0] = 'B';\n    }\n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n    assert(a&&b);\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; goto out;\n\t\t\t}\n\t\t}\n\t}out:;\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nchar st[222222];\nint main() {\n\tdeque<int> dq;\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", st);\n\tint rev(0);\n\tfor(int i(0); i < n; i++)\n\t\tdq.push_back(st[i] == 'A');\n\tif(k > 2 * n) {\n\t\tk = 2 * n + (k % 2);\n\t}\n\tfor(int i(1); i <= k; i++) {\n\t\tif(dq.front() ^ rev) {\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(rev);\n\t\t}else {\n\t\t\tdq.pop_front();\n\t\t\trev ^= 1;\n\t\t\tdq.push_back(1 ^ rev);\n\t\t}\n\t}\n\tfor(int i(0); i < n; i++) {\n\t\tputchar(rev ^ dq.front() ? 'A' : 'B');\n\t\tdq.pop_front();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h> \nusing namespace std; \nint gi() { \n\tint res = 0, w = 1; \n\tchar ch = getchar(); \n\twhile (ch != '-' && !isdigit(ch)) ch = getchar(); \n\tif (ch == '-') w = -1, ch = getchar(); \n\twhile (isdigit(ch)) res = res * 10 + ch - '0', ch = getchar(); \n\treturn res * w; \n}\ntypedef long long LL; \nconst int MAX_N = 2e5 + 5; \nint N, M, a[MAX_N]; \nchar s[MAX_N]; \nint tag; \nqueue<int> q; \nint main () { \n#ifndef ONLINE_JUDGE \n    freopen(\"cpp.in\", \"r\", stdin); \n#endif \n\tN = gi(), M = gi(); \n\tscanf(\"%s\", s + 1); \n\tfor (int i = 1; i <= N; i++) a[i] = s[i] - 'A'; \n\tfor (int i = 1; i <= N; i++) q.push(a[i]); \n\tif (M > N << 1) M = (N << 1) + (M & 1); \n\tfor (int i = 1; i <= M; i++) { \n\t\tint x = q.front() ^ tag; \n\t\tif (!x) q.front() ^= 1; \n\t\telse q.pop(), q.push(x ^ tag), tag ^= 1; \n\t} \n\twhile (!q.empty()) putchar((q.front() ^ tag) + 'A'), q.pop(); \n\tputchar('\\n'); \n    return 0; \n} "
  },
  {
    "language": "C++",
    "code": "//Heaplax\n//别让自己后悔\n#include<bits/stdc++.h>\n#define N 200005\n#define LL long long\n#define LOG(x) cerr<<#x<<\" = \"<<x<<endl\n#define add_edge(u,v) nxt[++cnt]=head[u],head[u]=cnt,to[cnt]=v\n#define open(x) freopen(#x\".in\",\"r\",stdin),freopen(#x\".out\",\"w\",stdout)\nchar ch;bool fs;void re(int& x)\n{\n\twhile(ch=getchar(),ch<33);\n\tif(ch=='-')fs=1,x=0;else fs=0,x=ch-48;\n\twhile(ch=getchar(),ch>33)x=x*10+ch-48;\n\tif(fs)x=-x;\n}\nusing namespace std;\nint n,k;\nchar s[N];\ndeque<int> que;\nint main()\n{\n\tre(n),re(k);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;++i)\n\t\tif(s[i]=='A')que.push_back(0);\n\t\telse que.push_back(1);\n\tint tag=0;\n\tfor(int i=1;i<=min(k,2*n+10);++i)\n\t{\n\t\tif(tag^que.front())\n\t\t{\n\t\t\tque.pop_front();\n\t\t\ttag^=1;\n\t\t\tque.push_back(tag);\n\t\t}\n\t\telse que.front()^=1;\n\t}\n\tif(k<=2*n+10)\n\t{\n\t\twhile(!que.empty())\n\t\t\tputchar(tag^que.front()?'B':'A'),que.pop_front();\n\t}\n\telse\n\t{\n\t\tk-=2*n+10;\n\t\tif(n%2==0)\n\t\t{\n\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif((tag^que.front())==0)k^=1;\n\t\t\tif(k&1)\n\t\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t\t\tputchar(i&1?'A':'B');\n\t\t\telse\n\t\t\t{\n\t\t\t\tputchar('B');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t}\n\t}\n}\n/*\nBAB\nBAA\nBBA\nABA\nBBA\nABA\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\ndeque<int>deq;\nint n,k;\nstring s;\nint main(){\n\tcin>>n>>k>>s;\n\trep(i,n){\n\t\tdeq.pb(s[i]-'A');\n\t}\n\tint rev = 0;\n\trep(i,min(10000000,k)){\n\t\tif((rev^deq[0]) == 0){\n\t\t\tdeq[0] ^= 1;\n\t\t}\n\t\telse{\n\t\t\tdeq.pop_front();\n\t\t\trev^=1;\n\t\t\tdeq.pb(rev);\n\t\t}\n\t}\n\tif(10000000>=k){\n\t\trep(i,n){\n\t\t\tprintf(\"%c\",('A'+(rev^deq[i])));\n\t\t}\n\t}\n\telse{\n\t\tfor(int i=1;i<n;i++){\n\t\t\t//assert(deq[i]!=deq[i-1]);\n\t\t}\n\t\tint zan = k-10000000;\n\t\tzan %= 2;\n\t\trep(i,zan){\n\t\t\tif((rev^deq[0]) == 0){\n\t\t\t\tdeq[0] ^= 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdeq.pop_front();\n\t\t\t\trev^=1;\n\t\t\t\tdeq.pb(rev);\n\t\t\t}\n\t\t}\n\t\trep(i,n){\n\t\t\tprintf(\"%c\",('A'+(rev^deq[i])));\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tst[l-1]='A'+rev;st[l-2]='A'+(rev^1);\n\t\tSolve(l-2,r,rev,len,K-1);\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\nusing namespace std;\nconst int N=200010;\nchar s[N];\ninline int gi() {\n    int x=0,o=1;\n    char ch=getchar();\n    while(ch!='-'&&(ch<'0'||ch>'9')) ch=getchar();\n    if(ch=='-') o=-1,ch=getchar();\n    while(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n    return x*o;\n}\nint main() {\n    int n,k,t=0,p=0;\n    cin>>n>>k;\n    scanf(\"%s\",s);\n    for(int i=0;i<n;i++) s[i]-='A';\n    for(int i=1;i<=n+n+n;i++) {\n\t--k;\n\tif(!(s[p]^t)) s[p]^=1;\n\telse t^=1,p=(p+1)%n;\n\tif(!k) break;\n    }\n    k%=2;\n    if(k&&!(s[p]^t)) s[p]^=1;\n    for(int i=0;i<n;i++) putchar('A'+(s[(p+i)%n]^t));\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\nstring S;\nstring T;\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>S;\n\t\n\tint pos=0,rev=0,revn=0;\n\twhile(K-->0)\n\t\tif(pos==N) break;\n\t\t\n\t\tif((S[pos]=='A') ^ rev ^ revn) {\n\t\t\trevn^=1;\n\t\t}\n\t\telse {\n\t\t\tpos++;\n\t\t\trevn = 0;\n\t\t\trev ^=1;\n\t\t}\n\t\t\n\t}\n\t\n\tstring R;\n\tif(pos==N) {\n\t\twhile(R.size()<N) {\n\t\t\tif((N-R.size())%2==1) R+='A';\n\t\t\telse R+='B';\n\t\t}\n\t\tif(R[0]=='A' && K%2) R[0]='B';\n\t}\n\telse {\n\t\tint first=1;\n\t\twhile(pos<N) {\n\t\t\tif(rev ^ ((first==1)&&revn)) {\n\t\t\t\tR+='A'+'B'-S[pos];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tR+=S[pos];\n\t\t\t}\n\t\t\tpos++;\n\t\t\tfirst=0;\n\t\t}\n\t\twhile(R.size()<N) {\n\t\t\tif((N-R.size())%2==1) R+='A';\n\t\t\telse R+='B';\n\t\t}\n\t}\n\tcout<<R<<endl;\n\t\n\t/*\n\tT=S;\n\t\n\tFOR(i,100) {\n\t\tint x=0,side=0;\n\t\twhile(x>=0 && x<N) {\n\t\t\tS[x]='A'+'B'-S[x];\n\t\t\tif(side==0) {\n\t\t\t\tif(S[x]=='B') x--, side=1;\n\t\t\t\telse x++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(S[x]=='B') x++, side=0;\n\t\t\t\telse x--;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(T[0]=='A') T[0]='B';\n\t\telse {\n\t\t\tT=T.substr(1);\n\t\t\tFORR(c,T) c='A'+'B'-c;\n\t\t\tT+='A';\n\t\t}\n\t\t\n\t\t\n\t\tcout<<(i+1)<<\"\\t\"<<S<<endl;\n\t}\n\t*/\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[444444];\nint D[444444];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tif(n==1){\n\t\ts[-1] = 0;\n\t\tprintf(\"%c\\n\",(s[0]-'A'+k)%2==0?'A':'B');\n\t\treturn 0;\n\t}\n\n\tfor(i=0;i<n;i++){\n\t\tif((s[i]-'A'+i)%2==0) D[i] = 2;\n\t\telse D[i] = 1;\n\t\tc += D[i];\n\t}\n\tfor(i=n;i<n+n;i++){\n\t\ts[i] = ((i-n)%2==1?'A':'B');\n\t}\n\n\tif(k>c){\n\t\tfor(i=0;i<n;i++){\n\t\t\tprintf(\"%c\",(n-i)%2==1?'A':'B');\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tfor(i=c=0;i<n;i++){\n\t\tif(c+D[i]>=k) break;\n\t\tc += D[i];\n\t}\n\n\tif(D[i] == 1){\n\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t}\n\telse{\n\t\tif(c+1 == k){\n\t\t\tprintf(\"%c\",(s[i]-'A'+i)%2==1?'A':'B');\n\t\t\tfor(j=i+1;j<n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==0?'A':'B');\n\t\t}\n\t\telse{\n\t\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Relive your past life.\n//Face your demons.\n//The past is never dead,it is not even past.\n//The memories are not only the key to the past but...also to the future.\n//coded in Rusty Lake\n#include<cmath>\n#include<math.h>\n#include<ctype.h>\n#include<algorithm>\n#include<bitset>\n#include<cassert>\n#include<cctype>\n#include<cerrno>\n#include<cfloat>\n#include<ciso646>\n#include<climits>\n#include<clocale>\n#include<complex>\n#include<csetjmp>\n#include<csignal>\n#include<cstdarg>\n#include<cstddef>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<ctime>\n#include<cwchar>\n#include<cwctype>\n#include<deque>\n#include<exception>\n#include<fstream>\n#include<functional>\n#include<iomanip>\n#include<ios>\n#include<iosfwd>\n#include<iostream>\n#include<istream>\n#include<iterator>\n#include<limits>\n#include<list>\n#include<locale>\n#include<map>\n#include<memory>\n#include<new>\n#include<numeric>\n#include<ostream>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<stack>\n#include<stdexcept>\n#include<streambuf>\n#include<string>\n#include<typeinfo>\n#include<utility>\n#include<valarray>\n#include<vector>\n#include<string.h>\n#include<stdlib.h>\n#include<stdio.h>\n#define ll   long long\n#define pb   push_back\n#define mp   make_pair\n#define orz  1000000007\nusing namespace std;\nint n,k,l,o;\nchar c[6666666];\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    if(k>n*2+2){\n        if(k&1)k=n*2+3;\n        else k=n*2+2;\n    }\n    for(int i=1;i<=n;++i)scanf(\" %c\",c+i);\n    l=1;\n    for(int i=1;i<=k;++i){\n        if(o&&c[l]=='B')c[l]='A';\n        else if(!o&&c[l]=='A')c[l]='B';\n        else{\n            o^=1,++l;\n            if(o)c[l+n-1]='B';\n            else c[l+n-1]='A';\n        }\n    }\n    if(o){\n        for(int i=l;i<l+n;++i){\n            if(c[i]=='A')c[i]='B';\n            else c[i]='A';\n        }\n    }\n    for(int i=l;i<l+n;++i)printf(\"%c\",c[i]);\n    printf(\"\\n\");\n    //system(\"pause\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <string>\nusing namespace std;\n#define LL long long\n#define mp make_pair\n#define fr first\n#define sc second\n#define pb push_back\n#define lc (x<<1)\n#define rc ((x<<1)|1)\nconst int N=200005;\nchar s[N];\nint a[N];\nchar cal(int x,int k){\n    x^=k%2;return x?'A':'B';\n}\nint main(){\n  //  freopen(\"in.txt\",\"r\",stdin);freopen(\"out.txt\",\"w\",stdout);\n    int i,n,k;\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (i=1;i<=n;i++) if (s[i]=='A') a[i]=1; else a[i]=0;\n    int K=k;\n    for (i=1;i<=n;i++) {if (a[i]^((i-1)%2)) k-=2; else k--;if (k<=0) break;}\n    if (i<n||i==n&&k==-1){\n        int tp,j;\n        if (k==-1) {tp=1;printf(\"B\");} else tp=0;\n        for (j=i+1;j<=n;j++) if (a[j]^((i-tp)%2)) printf(\"A\"); else printf(\"B\");\n        tp+=n-i;\n        for (j=tp+1;j<=n;j++) if (j%2==n%2) printf(\"A\"); else printf(\"B\");\n        puts(\"\");return 0;\n    } \n    if (n%2==0){\n        for (i=1;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n        puts(\"\");return 0;\n    }\n    if (k%2==0) printf(\"A\"); else printf(\"B\");\n    for (i=2;i<=n;i++) if (i%2==0) printf(\"B\"); else printf(\"A\");\n    puts(\"\");\n    \n  //  system(\"pause\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tif(l>r)\n\t\t{\n\t\t\tif(n&1) Solve(2,1,0,n,K);\n\t\t\telse if(K>=3) Solve(2,1,0,n,K-3);\n\t\t\telse \n\t\t\t{\n\t\t\t\tif(K==1) cout<<\"BB\";\n\t\t\t\tif(K==2) cout<<\"AA\";\n\t\t\t\tfor(int i=3;i<=n;++i) putchar((i&1)==(n&1)?'A':'B');\t\n\t\t\t}\n\t\t} \n\t\telse \n\t\t{\n\t\t\tst[l-1]='A'+(rev^1);st[l-2]='A'+(rev^1);\n\t\t\tSolve(l-2,r,rev,len,K-1);\n\t\t}\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define N 200006\n#define mo 1000000009\nusing namespace std;\nbool f[30*N];char c[N];\nint n,m,cs,nowl,nowr,sum,s[30*N],t[30*N],p[N];\ninline int read()\n{\n\tint x=0,c=getchar();while(c<48)c=getchar();\n\twhile(c>47)x=x*10+c-48,c=getchar();return x;\n}\nvoid down(int i,int l,int r)\n{\n\tif(f[i]){\n\t\tf[i]=0;swap(s[i],t[i]);\n\t\tif(l!=r)f[i<<1]^=1,f[i<<1|1]^=1;\n\t}\n}\nvoid change(int i,int l,int r,int x,int y)\n{\n\tdown(i,l,r);if(l==r){s[i]=y;t[i]=s[i]^1;return;}\n\tint mid=(l+r)>>1;\n\tif(x<=mid)change(i<<1,l,mid,x,y);\n\telse change(i<<1|1,mid+1,r,x,y);\n\tdown(i<<1,l,mid);down(i<<1|1,mid+1,r);\n\ts[i]=(1LL*s[i<<1]*p[r-mid]+1LL*s[i<<1|1])%mo;\n\tt[i]=(1LL*t[i<<1]*p[r-mid]+1LL*t[i<<1|1])%mo;\n}\nint query(int i,int l,int r,int x,int y)\n{\n\tdown(i,l,r);if(x<=l&&r<=y)return s[i];\n\tint mid=(l+r)>>1;\n\tif(y<=mid)return query(i<<1,l,mid,x,y);\n\tif(x>mid)return query(i<<1|1,mid+1,r,x,y);\n\tint a=query(i<<1,l,mid,x,y),b=query(i<<1|1,mid+1,r,x,y);\n\treturn (1LL*a*p[min(y,r)-mid]+1LL*b)%mo;\n}\nvoid rev(int i,int l,int r,int x,int y)\n{\n\tdown(i,l,r);if(x<=l&&r<=y){f[i]^=1;return;}\n\tint mid=(l+r)>>1;\n\tif(x<=mid)rev(i<<1,l,mid,x,y);\n\tif(y>mid)rev(i<<1|1,mid+1,r,x,y);\n\tdown(i<<1,l,mid);down(i<<1|1,mid+1,r);\n\ts[i]=(1LL*s[i<<1]*p[r-mid]+1LL*s[i<<1|1])%mo;\n\tt[i]=(1LL*t[i<<1]*p[r-mid]+1LL*t[i<<1|1])%mo;\n}\nint main()\n{\n\tfreopen(\"1.in\",\"r\",stdin);\n//\tfreopen(\"edit.out\",\"w\",stdout);\n\tn=read();m=read();scanf(\"%s\",c+1);\n\tnowl=1;nowr=n;p[0]=1;\n\tfor(int i=1;i<=n;i++)change(1,1,3*n,i,c[i]-65);\n\tfor(int i=1;i<=n;i++)p[i]=p[i-1]*2%mo;\n\tif(n&1){\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(i&1)sum=sum*2%mo;else sum=(sum*2+1)%mo;\n\t\twhile(1){\n\t\t\tif(query(1,1,3*n,nowl,nowr)==sum)break;\n\t\t\tif(query(1,1,3*n,nowl,nowl)==0)change(1,1,3*n,nowl,1);\n\t\t\telse{\n\t\t\t\tnowl++;nowr++;\n\t\t\t\trev(1,1,3*n,nowl,nowr-1);change(1,1,3*n,nowr,0);\n\t\t\t}\n\t\t\tcs++;if(cs==m){for(int i=nowl;i<=nowr;i++)putchar(query(1,1,3*n,i,i)+65);return 0;}\n\t\t}\n\t\tif((m-cs)&1)putchar('B');else putchar('A');\n\t\tfor(int i=2;i<=n;i++)if(i&1)putchar('A');else putchar('B');\n\t}else{\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(i&1)sum=(sum*2+1)%mo;else sum=sum*2%mo;\n\t\twhile(1){\n\t\t\tif(query(1,1,3*n,nowl,nowr)==sum)break;\n\t\t\tif(query(1,1,3*n,nowl,nowl)==0)change(1,1,3*n,nowl,1);\n\t\t\telse{\n\t\t\t\tnowl++;nowr++;\n\t\t\t\trev(1,1,3*n,nowl,nowr-1);change(1,1,3*n,nowr,0);\n\t\t\t}\n\t\t\tcs++;if(cs==m){for(int i=nowl;i<=nowr;i++)putchar(query(1,1,3*n,i,i)+65);return 0;}\n\t\t}\n\t\tfor(int i=1;i<=n;i++)if(i&1)putchar('B');else putchar('A');\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, from, to) for (int i = from; i < (to); ++i)\n#define trav(a, x) for (auto& a : x)\n#define all(x) x.begin(), x.end()\n#define sz(x) (int)(x).size()\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nint main() {\n\tcin.sync_with_stdio(false);\n\tcin.exceptions(cin.failbit);\n\tint N, K;\n\tcin >> N >> K;\n\tstring str;\n\tcin >> str;\n\tchar a = 'A', b = 'B';\n\tint at = 0;\n\trep(i,0,K) {\n\t\tif (str[at] == a) str[at] = b;\n\t\telse {\n\t\t\tswap(a, b);\n\t\t\tstr += a;\n\t\t\tat++;\n\t\t}\n\t\tif (i >= 2*N + 10 && i + 20 < K) {\n\t\t\ti += (K - i - 10) / 2 * 2;\n\t\t}\n\t}\n\tstr = str.substr(at, N);\n\tif (a != 'A') rep(i,0,N) str[i] = (str[i] == 'A' ? 'B' : 'A');\n\tcout << str << endl;\n\texit(0);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n\n\n#define PB push_back\n#define PF push_front\n#define LB lower_bound\n#define UB upper_bound\n#define fr(x) freopen(x,\"r\",stdin)\n#define fw(x) freopen(x,\"w\",stdout)\n#define iout(x) printf(\"%d\\n\",x)\n#define lout(x) printf(\"%lld\\n\",x)\n#define REP(x,l,u) for(int x = (l);x<=(u);x++)\n#define RREP(x,l,u) for(int x = (l);x>=(u);x--)\n#define mst(x,a) memset(x,a,sizeof(x))\n#define PII pair<int,int>\n#define PLL pair<ll,ll>\n#define MP make_pair\n#define se second\n#define fi first\n#define dbg(x) cout<<#x<<\" = \"<<(x)<<endl;\n#define sz(x) ((int)x.size())\n#define cl(x) x.clear()\n\ntypedef  long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ntypedef long double ld;\nusing namespace std;\n\nconst int maxn = 400010;\nconst int mod = 1e9+7;\nconst int MAX = 1000000010;\nconst double eps = 1e-6;\nconst double PI = acos(-1);\n\ntemplate<typename T> inline void read(T &x){\nx=0;T f=1;char ch;do{ch=getchar();if(ch=='-')f=-1;}while(ch<'0'||ch>'9');do x=x*10+ch-'0',ch=getchar();while(ch<='9'&&ch>='0');x*=f;\n}\n\ntemplate<typename A,typename B> inline void read(A&x,B&y){read(x);read(y);}\ntemplate<typename A,typename B,typename C> inline void read(A&x,B&y,C&z){read(x);read(y);read(z);}\ntemplate<typename A,typename B,typename C,typename D> inline void read(A&x,B&y,C&z,D&w){read(x);read(y);read(z);read(w);}\ntemplate<typename A,typename B> inline A fexp(A x,B p){A ans=1;for(;p;p>>=1,x=1LL*x*x%mod)if(p&1)ans=1LL*ans*x%mod;return ans;}\ntemplate<typename A,typename B> inline A fexp(A x,B p,A mo){A ans=1;for(;p;p>>=1,x=1LL*x*x%mo)if(p&1)ans=1LL*ans*x%mo;return ans;}\n\nint n,k;\n\nchar s[maxn];\n\nint A[maxn];\n\nvoid Work(){\n\tint now=0,l=1,r=n;\n\tREP(i,1,n*2){\n\t\t\n\t\tif((A[l]^now))A[l]=0;\n\t\telse{\n\t\t\tl++;A[++r]=now;\n\t\t\tnow^=1;\n\t\t}\n\t\t\n\t\tk--;\n\t\tif(!k){\n\t\t\tREP(j,l,r)printf(\"%c\",'A'+(!(A[j]^now)));puts(\"\");\n\t\t\treturn;\n\t\t}\n\t}\n\tREP(i,l,r)A[i]^=now;\n\tif(A[l]==1&&(k&1))A[l]^=1;\n\tREP(i,l,r)printf(\"%c\",'A'+(!A[i]));puts(\"\");\n}\n\nvoid Init(){\n\tread(n,k);\n\tscanf(\"%s\",s+1);\n\tREP(i,1,n)A[i]=!(s[i]-'A');\n}\n\nint main(){\n\tInit();\n\tWork();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<iostream>\n#include<vector>\n#include<set>\n#include<map>\n#include<bitset>\n#include<cmath>\n#include<string>\n\n#define ls (t<<1)\n#define rs ((t<<1)+1)\n#define mid ((l+r)>>1)\n#define fi first\n#define se second\n#define mk make_pair\n#define pb push_back\n\n#define N 200005\n#define M 2000005\n#define seed 23333\n#define mo 998244353\n\nusing namespace std;\nint pw[N],i,j,m,n,p,k,l=1000000,r=999999,zh,fa,start;\nchar c[N];\nint now[M];\nmap<int,int>mp;\nvoid print()\n{\n\t\tfor (i=l;i<=r;++i)\n\t\t\tfor (j=1;j<=now[i];++j)\n\t\t\t\tprintf(\"%c\",'A'+(start^((i-l)&1)));\t\n}\nvoid jia(int &x,int y)\n{\n\t\tx+=y; if (x>=mo) x-=mo;\n}\nvoid jian(int &x,int y)\n{\n\t\tx-=y; if (x<0) x+=mo;\n}\nvoid work()\n{\n\t\tif (!start)\n\t\t{\n\t\t\t\tstart^=1;\n\t\t\t\tjia(zh,pw[n-1]);\n\t\t\t\tjian(fa,pw[n-1]); \n\t\t\t\tif (now[l]==1)\n\t\t\t\t{ \n\t\t\t\t\tnow[l+1]+=now[l];\n\t\t\t\t\t++l;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t--now[l];\n\t\t\t\t\tnow[--l]=1;\n\t\t\t\t}\n\t\t}\n\t\telse \n\t\t{\n\t\t\t\tstart^=1;\n\t\t\t\tjian(zh,pw[n-1]);\n\t\t\t\tswap(zh,fa);\n\t\t\t\tzh=1ll*zh*seed%mo;\n\t\t\t\tfa=1ll*fa*seed%mo;\n\t\t\t\tjia(fa,1);\n\t\t\t\tif (now[l]==1) \n\t\t\t\t{\n\t\t\t\t\t\tstart^=1;\n\t\t\t\t\t\t++l;\n\t\t\t\t}\n\t\t\t\telse \n\t\t\t\t{\n\t\t\t\t\t\t--now[l];\n\t\t\t\t}\n\t\t\t\tif (((r-l)&1)^start) now[++r]=1;\n\t\t\t\telse now[r]++;\n\t\t}\n}\nint main()\n{\n\t\tscanf(\"%d%d\",&n,&k);\n\t\tscanf(\"%s\",c+1);\n\t\tpw[0]=1;\n\t\tfor (i=1;i<N;++i) pw[i]=1ll*pw[i-1]*seed%mo; \n\t\tfor (i=1;i<=n;++i) \n\t\t\t\tif (c[i]==c[i-1]) ++now[r];\n\t\t\t\telse now[++r]=1;\n\t\tstart=(c[1]=='B');\n\t\tfor (i=1;i<=n;++i)\n\t\t{\n\t\t\t\tzh=(1ll*zh*seed%mo+(c[i]=='B'))%mo;\n\t\t\t\tfa=(1ll*fa*seed%mo+(c[i]=='A'))%mo;\n\t\t}\n\t\tfor (i=0;i<k;++i)\n\t\t{\n\t\t\t\tif (mp.find(zh)!=mp.end()) break;\n\t\t\t\tmp[zh]=i;\n\t\t\t\twork();\n\t\t}\n\t\tif (i<k)\n\t\t{\n\t\t\t\tint period=i-mp[zh];\n\t\t\t\tk-=i;\n\t\t\t\tk%=period;\n\t\t\t\tfor (i=1;i<=k;++i) work();\n\t\t}\n\t\tprint();\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N, K;\nvector<int> S;\n\nint main() {\n    scanf(\"%d %d\", &N, &K);\n    S.resize(N);\n    scanf(\"\\n\");\n    for(int i = 0; i < N; i++) {\n        char t; scanf(\"%c\", &t);\n        S[i] = t == 'A';\n    }\n    int pos = 0, inv = 0, cnt = 0, rcnt = 0;\n    while(cnt < K && rcnt < N) {\n        if(S[pos] ^ inv) {\n            S[pos] ^= 1;\n            cnt++;\n        }\n        else {\n            pos = (pos + 1) % N;\n            cnt++;\n            rcnt++;\n            inv ^= 1;\n        }\n    }\n    if(cnt == K) {\n        for(int i = 0; i < N; i++) {\n            if(S[pos] ^ inv) printf(\"A\");\n            else printf(\"B\");\n            pos = (pos + 1) % N;\n        }\n    }\n    else if(N % 2) {\n        if((K - rcnt) % 2) {\n            printf(\"B\");\n            pos = (pos + 1) % N;\n            for(int i = 1; i < N; i++) {\n                if(S[pos] ^ inv) printf(\"A\");\n                else printf(\"B\");\n                pos = (pos + 1) % N;\n            }\n        }\n        else {\n            for(int i = 0; i < N; i++) {\n                if(S[pos] ^ inv) printf(\"A\");\n                else printf(\"B\");\n                pos = (pos + 1) % N;\n            }\n        }\n    }\n    else {\n        for(int i = 0; i < N; i++) {\n            if(S[pos] ^ inv) printf(\"A\");\n            else printf(\"B\");\n            pos = (pos + 1) % N;\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\nusing dbl = double;\nusing pii = pair<int, int>;\nusing pl4 = pair<ll, ll>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vs = vector<string>;\nusing vvs = vector<vs>;\nusing vll = vector<ll>;\nusing vvll = vector<vll>;\nusing vvvll = vector<vvll>;\nusing vpii = vector<pii>;\nusing vvpii = vector<vpii>;\nusing vpl4 = vector<pl4>;\nusing vvpl4 = vector<vpl4>;\nusing vd = vector<dbl>;\nusing vvd = vector<vd>;\n\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define pob pop_back()\n#define sz size()\n#define be begin()\n#define en end()\n#define asn assign\n#define emp empty()\n#define ft front()\n#define bk back()\n#define clr clear()\n#define ins insert\n#define ers erase\n#define res resize\n#define tp top()\n\n#define FOR(i,a,b) for(int i=(a);i<=(b);i++)\n#define rFOR(i,a,b) for(int i=(b);i>=(a);i--)\n#define ROR(v,i) for(auto &(i):(v))\n#define SORT(a) sort((a).be,(a).en)\n#define rSORT(a) sort((a).rbegin(),(a).rend())\n#define UNIQUE(a) (a).erase(unique((a).be,(a).en),(a).en)\n#define PREVP(a) prev_permutation((a).be,(a).en)\n#define NEXTP(a) next_permutation((a).be,(a).en)\n#define BINS(a,b) binary_search((a).be,(a).en,(b))\n#define LOWB(a,b) (lower_bound((a).be,(a).en,(b))-(a).be)\n#define UPB(a,b) (upper_bound((a).be,(a).en,(b))-(a).be)\n#define CNT(a,b) count((a).be,(a).en,b)\n#define SUM(a) accumulate((a).be,(a).en,0)\n#define REV(a) reverse((a).be,(a).en)\n#define REGS(a,b) regex_search((a),regex(b))\n#define REGM(a,b) regex_match((a),regex(b))\n#define yn(a) cout <<((a)?\"yes\":\"no\")<<endl;\n#define Yn(a) cout <<((a)?\"Yes\":\"No\")<<endl;\n#define YN(a) cout <<((a)?\"YES\":\"NO\")<<endl;\n#define say(a) cout <<(a);\n#define sal(a) cout <<(a)<<endl;\n#define sas cout <<\" \";\n#define sak cout <<endl;\n#define dbg(a) cout <<(#a)<<\": \"<<(a)<<endl;\n#define c2l(a) ((ll)(a-48))\n#define a2l(a) ((ll)(a-97))\n#define A2l(a) ((ll)(a-65))\n#define l2c(a) ((char)(a+48))\n#define l2a(a) ((char)(a+97))\n#define l2A(a) ((char)(a+65))\n#define DigN2(a) ((llabs(a)==0)?(1):((ll)(log2(double(llabs(a))))+1))\n#define DigN10(a) ((llabs(a)==0)?(1):((ll)(log10(double(llabs(a))))+1))\n#define Dig2(a,b) (((a)>>(b))&1)\n#define Dig10(a,b) (ll)(((a)/((ll)(pow(10.0,(double)(b)))))%10)\n#define Pow2(a) (1<<(a))\n#define Pow10(a) ((ll)(pow(10.0,double(a))))\n#define llin(a) ll (a);cin >>(a);\n#define stin(a) string (a);cin >>(a);\n#define vin(v) ROR((v),(i)){cin >>(i);};\n#define vllin(v,N) vll (v)((N));vin(v);\n#define vsin(v,N) vs (v)((N));vin(v);\n#define rdn(a,b) ((a)/(b))\n#define rou(a,b) ((((double(a)/double(b))-((a)/(b)))<0.5)?((a)/(b)):(((a)/(b))+1))\n#define rup(a,b) ((((a)%(b))==0)?((a)/(b)):(((a)/(b))+1))\n#define min(a,b) ((a<b)?(a):(b))\n#define max(a,b) ((a>b)?(a):(b))\n#define powll(a,b) (ll)(pow((double)(a),(double)(b)))\n#define Triangle(x1,y1,x2,y2,x3,y3) (((x1)-(x2))*((y1)-(y3))-((x1)-(x3))*((y1)-(y2)))\n\n#define int ll\n\nconst ll MOD = 1e9 + 7;\n//const ll MOD = 998244353;\n//const ll MOD = 9007199254740881;\nconst ll INF = 1LL << 60;\nconst string alp = \"abcdefghijklmnopqrstuvwxyz\";\nconst string ALP = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\nll gcd(ll a, ll b) { if (b == 0)return a; return gcd(b, a%b); }\nll lcm(ll a, ll b) { return a / gcd(a, b)*b; }\n\npl4 Bezout(ll a, ll b) {\n\tif (b != 0) {\n\t\tpl4 xy;\n\t\txy = Bezout(b, a%b);\n\t\treturn mp(xy.se, xy.fi - ((a / b)*xy.se));\n\t}\n\tif (b == 0) {\n\t\treturn mp(1, 0);\n\t}\n}\npl4 Bez(ll a, ll b, ll c) {\n\tpl4 xy;\n\tll x, y, z, gc;\n\txy = Bezout(a, b);\n\tgc = gcd(a, b);\n\tif (c%gc != 0) return mp(-1, -1);\n\tx = xy.fi*(c / gc); y = xy.se*(c / gc);\n\tif (x < 0) z = rup(-x, (b / gc));\n\tif (x >= 0) z = -x / (b / gc);\n\tx += z * (b / gc);\n\ty -= z * (a / gc);\n\treturn mp(x, y);\n}\n\nvoid salv(vll v) {\n\tsay(\"{\");\n\tFOR(i, 0, v.sz - 1) {\n\t\tsay(v[i]);\n\t\tif (i != v.sz - 1) say(\",\");\n\t}\n\tsal(\"}\")\n}\n\nll DigS10(ll n) {\n\tll m = 0;\n\tFOR(i, 0, DigN10(n) - 1) {\n\t\tm += (ll)((llabs(n) % (ll)(pow(10.0, (double)(i + 1)))) / (ll)(pow(10.0, (double)i)));\n\t}\n\treturn m;\n}\n\nll isP(ll n) {\n\tif (n <= 1) return 0;\n\tFOR(i, 2, (ll)sqrt(n)) {\n\t\tif (n%i == 0) return 0;\n\t}\n\treturn 1;\n}\n\nvll FactM(1, 1);\nvll FactMI(1, 1);\n\nll PowM(ll a, ll b) {\n\tll ans = 1, x = (a%MOD);\n\tFOR(i, 0, DigN2(b) - 1) {\n\t\tif (Dig2(b, i) == 1) ans = (ans*x) % MOD;\n\t\tif (i != (DigN2(b) - 1)) x = (x*x) % MOD;\n\t}\n\treturn ans;\n}\n\nvoid CFactM(ll n) {\n\tif (FactM.sz <= n) {\n\t\tFOR(i, FactM.sz, n) {\n\t\t\tFactM.pb((FactM[i - 1] * (i%MOD)) % MOD);\n\t\t}\n\t}\n\treturn;\n}\n\nvoid CFactMI(ll n) {\n\tCFactM(n);\n\tif (FactMI.sz < (n + 1)) FactMI.res(n + 1, -1);\n\tif (FactMI[n] == -1) FactMI[n] = PowM(FactM[n], MOD - 2);\n\trFOR(i, 1, n - 1) {\n\t\tif (FactMI[i] != -1) break;\n\t\tFactMI[i] = ((FactMI[i + 1] * ((i + 1) % MOD)) % MOD);\n\t}\n\treturn;\n}\n\nll CombM(ll n, ll k) {\n\tif ((n < 0) || (k < 0)) return 0;\n\tif (n < k) return 0;\n\tif (n + 1 > FactMI.sz) CFactMI(n);\n\treturn ((((FactMI[k] * FactMI[n - k]) % MOD)*FactM[n]) % MOD);\n}\n\nsigned main() {\n\n\tllin(N);\n\tllin(K);\n\tstin(S);\n\tif (K < N+10) {\n\n\t\tll ba = 0;\n\t\tll mu = 0;\n\t\tll tm = 0;\n\t\tFOR(j, 0, K - 1) {\n\t\t\tba = 0;\n\t\t\tmu = 0;\n\t\t\ttm = 0;\n\t\t\twhile (1) {\n\t\t\t\ttm = ba - mu;\n\t\t\t\tif ((tm == -1) || (tm == S.sz)) break;\n\t\t\t\tif (S[tm] == 'A') {\n\t\t\t\t\tS[tm] = 'B';\n\t\t\t\t\tmu = 1 - mu;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tS[tm] = 'A';\n\t\t\t\t\tba += (mu ? -1 : 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsal(S);\n\t}\n\telse {\n\t\tll cnt=0;\n\t\tif (N % 2 == 1) {\n\t\t\tFOR(i, 0, N - 1) {\n\t\t\t\tif (S[i] != (i % 2) ? 'A' : 'B') cnt++;\n\t\t\t}\n\t\t\tsay(cnt % 2 ? 'B' : 'A');\n\t\t}\n\t\tFOR(n, 0, N / 2 - 1) say(\"BA\");\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <deque>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <tuple>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <array>\n#include <utility>\n#include <valarray>\n\nusing namespace std;\n\nvoid process(deque<int>& S)\n{\n    if (S[0] == 0){\n        S.pop_front();\n        --S[0];\n        if (S.size() % 2){\n            ++S.back();\n        }else{\n            S.emplace_back(1);\n        }\n    }else if (S[0] == 1){\n        --S[0];\n        ++S[1];\n    }else{\n        --S[0];\n        S.emplace_front(1);\n        S.emplace_front(0);\n    }\n}\n\nint main()\n{\n    int N, K;\n    scanf(\"%d %d\\n\", &N, &K);\n    deque<int> S;\n    {\n        string str;\n        getline(cin, str);\n        // cout << str << endl;\n        int count = 0;\n        bool A_flag = true;\n        for (int i = 0; i < str.size(); ++i){\n            if ((str[i] == 'A') != A_flag){\n                S.emplace_back(count);\n                count = 0;\n                A_flag = !A_flag;\n            }\n            ++count;\n        }\n        S.emplace_back(count);\n    }\n    auto print = [](deque<int>& S){\n        bool A_flag = true;\n        for (int i = 0; i < S.size(); ++i){\n            if (A_flag){\n                for (int j = 0; j < S[i]; ++j) putchar('A');\n            }else{\n                for (int j = 0; j < S[i]; ++j) putchar('B');\n            }\n            A_flag = !A_flag;\n        }\n        puts(\"\");\n    };\n    for (int c = 0; c < K; ++c) process(S);\n    print(S);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> pli;\nconst int inf=1e9;\nconst ll Inf=1e18;\nconst int N=8e5+10;\nconst int mod=0;\nint gi() {\n    int x=0,o=1;char ch=getchar();\n    while((ch<'0'||ch>'9')&&ch!='-') ch=getchar();\n    if(ch=='-') o=-1,ch=getchar();\n    while(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n    return x*o;\n}\ntemplate<typename T> bool chkmax(T &a,T b) { return a<b?a=b,1:0; };\ntemplate<typename T> bool chkmin(T &a,T b) { return a>b?a=b,1:0; };\nint add(int a,int b) { return a+b>=mod?a+b-mod:a+b; }\nint sub(int a,int b) { return a-b<0?a-b+mod:a-b; }\nvoid inc(int &a,int b) { a=(a+b>=mod?a+b-mod:a+b); }\nvoid dec(int &a,int b) { a=(a-b<0?a-b+mod:a-b); }\nint n,k,a[N],tag=0;\nchar s[N];\nint main() {\n#ifndef ONLINE_JUDGE\n    freopen(\"agc011d.in\",\"r\",stdin);\n    freopen(\"agc011d.out\",\"w\",stdout);\n#endif\n    cin>>n>>k;scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++) a[i]=s[i]-'A';\n    int l=1,r=n,cnt=0;\n    while(k&&cnt<2*n) {\n        k--;cnt++;\n        if(a[l]==tag) a[l]^=1;\n        else l++,r++,tag^=1,a[r]=tag;\n    }\n    if(k&1) {\n        k--;cnt++;\n        if(a[l]==tag) a[l]^=1;\n        else l++,r++,tag^=1,a[r]=tag;\n    }\n    for(int i=l;i<=r;i++) putchar('A'+(a[i]^tag));\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#define fastio ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0)\n#define ll long long\n#define ull unsigned long long\n#define ld long double\n#define pii pair <int, int>\n#define pll pair <ll, ll>\n#define pci pair <char, int>\n#define pld pair <ld, ld>\n#define ppld pair <pld, pld>\n#define ppll pair <pll, pll>\n#define pldl pair <ld, ll>\n#define vll vector <ll>\n#define vvll vector <vll>\n#define vpll vector <pll>\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define mll map <ll, ll>\n#define fastmap gp_hash_table\n#define cd complex <double>\n#define vcd vector <cd>\n#define PI 3.14159265358979\n#pragma 03\nusing namespace std;\nusing namespace __gnu_pbds;\n// chctxdy\nll ptr = 0, n, k;\nbool cur = 0, mark[200005]; \nstring s;\nint main(){\n\tfastio;\n\tcin >> n >> k >> s;\n\tfor (ll i = 0; i < n; i++) mark[i] = (s[i] == 'B');\n\tfor (ll i = 1; i <= min(k, (ll)1e7 + (k % 2)); i++){\n\t\tif ((mark[ptr] ^ cur)){\n\t\t\tptr++; ptr %= n; cur ^= 1;\n\t\t}\n\t\telse mark[ptr] ^= 1;\n\t}\n\tfor (ll i = 1; i <= n; i++){\n\t\tif (mark[ptr] ^ cur) cout << \"B\";\n\t\telse cout << \"A\";\n\t\tptr++; ptr %= n;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Copyright (C) 2017 __debug.\n\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License as\n// published by the Free Software Foundation; version 3\n\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n\n// You should have received a copy of the GNU General Public License\n// along with this program; If not, see <http://www.gnu.org/licenses/>.\n\n\n#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/priority_queue.hpp>\n\n#define x first\n#define y second\n#define MP std::make_pair\n#define SZ(x) ((int)(x).size())\n#define ALL(x) (x).begin(), (x).end()\n#define DEBUG(...) fprintf(stderr, __VA_ARGS__)\n#ifdef __linux__\n#define getchar getchar_unlocked\n#define putchar putchar_unlocked\n#endif\n\nusing std::pair;\nusing std::vector;\nusing std::string;\n\ntypedef long long LL;\ntypedef pair<int, int> Pii;\n\nconst int oo = 0x3f3f3f3f;\n\ntemplate<typename T> inline bool chkmax(T &a, T b) { return a < b ? a = b, true : false; }\ntemplate<typename T> inline bool chkmin(T &a, T b) { return b < a ? a = b, true : false; }\nstring procStatus()\n{\n    std::ifstream t(\"/proc/self/status\");\n    return string(std::istreambuf_iterator<char>(t), std::istreambuf_iterator<char>());\n}\ntemplate<typename T> T read(T &x)\n{\n    int f = 1;\n    char ch = getchar();\n    for (; !isdigit(ch); ch = getchar())\n        f = (ch == '-' ? -1 : 1);\n    for (x = 0; isdigit(ch); ch = getchar())\n        x = 10 * x + ch - '0';\n    return x *= f;\n}\ntemplate<typename T> void write(T x)\n{\n    if (x == 0) {\n        putchar('0');\n        return;\n    }\n    if (x < 0) {\n        putchar('-');\n        x = -x;\n    }\n    static char s[20];\n    int top = 0;\n    for (; x; x /= 10)\n        s[++top] = x % 10 + '0';\n    while (top)\n        putchar(s[top--]);\n}\n// EOT\n\nconst int MAXN = 2e5 + 5;\n\nint N, K;\nchar S[MAXN];\n\nvoid input()\n{\n    read(N); read(K);\n    scanf(\"%s\", S + 1);\n}\n\nvoid solve()\n{\n    std::deque<int> A;\n    int flip = 0;\n\n    for (int i = 1; i <= N; ++i) {\n        A.push_back(S[i] - 'A');\n    }\n    for (int i = 1; i <= N * 2; ++i) {\n        if (flip ^ A.front()) {\n            A.pop_front();\n            A.push_back(!flip);\n            flip ^= 1;\n        } else\n            A.front() ^= 1;\n        if (i == K) {\n            for (auto x: A) {\n                putchar((x ^ flip) + 'A');\n            }\n            return;\n        }\n    }\n\n    K -= N * 2;\n    if (N & 1) {\n        K -= (A.front() ^ flip);\n        putchar((K & 1) + 'A');\n        for (int i = 1; i < N; ++i) {\n            putchar((i & 1) + 'A');\n        }\n    } else {\n        for (int i = 1; i <= N; ++i) {\n            putchar((i & 1) + 'A');\n        }\n    }\n}\n\nint main()\n{\n#ifdef __DEBUG\n    freopen(\"D.in\", \"r\", stdin);\n    freopen(\"D.out\", \"w\", stdout);\n#endif\n\n    input();\n    solve();\n\n    return 0;\n}\n\n// 吝啬原则：除非别无他法，不要编写庞大的程序。\n//     -- UNIX哲学基础第六条，《UNIX编程艺术》by ESR\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  for (int i = 0; i < 20 && k > 0; i++, k--) {\n    if (s[0] == 'A') {\n      s[0] = 'B';\n    } else {\n      for (int j = 0; j + 1 < n; j += 2) {\n        if (s[j] == 'A' && s[j + 1] == 'A') {\n          s[j - 1] = 'B';\n          s[j] = 'B';\n          s[j + 1] = 'A';    \n        } else if (s[j] == 'A' && s[j + 1] == 'B') {\n          s[j - 1] = 'B';\n          s[j] = 'A';\n          s[j + 1] = 'A';\n        } else if (s[j] == 'B' && s[j + 1] == 'B') {\n          s[j] = 'A';\n          s[j + 1] = 'A';\n        }\n      }\n    }  \n  }\n  cout << s << '\\n';\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<iostream>\n#include<cassert>\nusing namespace std;\n\nconst int N = 2e5;\nchar a[N*3+3];\nint n,m;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",a+1); for(int i=1; i<=n; i++) a[i] -= 65;\n\tint tag = 0,hd = 1,tl = n;\n\tfor(int i=1; i<=n+n; i++)\n\t{\n\t\tif((a[hd]^tag)==0) {a[hd]^=1;}\n\t\telse {tag^=1; hd++; tl++; a[tl] = tag;}\n\t\tif(i==m) {for(int j=hd; j<=tl; j++) printf(\"%c\",(a[j]^tag)+65); return 0;}\n\t}\n\tif((n&1)&&(m&1)) {a[hd]^=1;}\n\tfor(int i=hd; i<=tl; i++) printf(\"%c\",(a[i]^tag)+65);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//                                ** ALLAH **\n//                        who is Hussain? -> whoishussain.org\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int mod=1000000007;\ninline int in(){ int x; scanf(\"%d\",&x); return x; }\nconst int N = 200100;\nint n, k;\nstring s;\nint32_t main(){\n        cin >> n >> k;\n        cin >> s;\n\n        int t = k, c = 1;\n        k = 0;\n        for(; t && k < n;){\n                cout << k <<endl;\n                cout << (k%2==1?(s[k]=='A'?'B':'A'):s[k]) <<' ' << c<< endl;\n                if( s[k] == 'A'+(k%2) && c ) s[k] = 'A' + (1-k%2), c = 0;\n                else k++, c = 1;\n                t--;\n        }\n        if( k == n ) { cout << char('A' + t%2);for(int i = 1;i < n; i++) cout << char('A'+(n-i-1)%2); cout << endl;return 0; } \n        for(int i = k; i < n; i++) cout << (k%2==1?(s[i]=='A'?'B':'A'):s[i]);\n        for(int i = 0;i < k; i++) cout << char('A'+(k-i-1)%2); \n        cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\n#include <map>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nstring str;\nstring str_p;\nstring str_p2;\n\nbool is_BA(int j){\n\twhile(1){\n\t\tif(j>=str.length()){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(str[j] == 'B'){\n\t\t\tif(j == str.length()-1){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if(str[j+1] == 'A'){\n\t\t\t\tj+=2;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nvoid hoge(){\n\tint j=0;\n\n\twhile(1){\n\t\tif(j>=str.length()){\n\t\t\treturn;\n\t\t}\n\n\t\tif(str[j] == 'B'){\n\t\t\tif(j == str.length()-1){\n\t\t\t\tstr[j]='A';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if(str[j+1] == 'A'){\n\t\t\t\tj+=2;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tstr[j]='A';\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(j==0){\n\t\t\t\tstr[0] ='B';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tstr[j-1] = 'B';\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t}\n}\n\nbool BA(){\n\tif(str == str_p){\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nbool BBA(){\n\tif(str == str_p2){\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nint kkk;\n\nint main(){\n\tint n, k;\n\tcin >> n >> k;\n\tcin >> str;\n\tstr_p=str;\n\tstr_p2=\"\";\n\n\tkkk=n;\n\t\n\tfor(int i=0; i<k; i++){\n\t\tstr_p2=str_p;\n\t\tstr_p=str;\n\t\thoge();\n\t\tif(BA() == true){\n\t\t\tcout << str;\n\t\t\t\tfor(int i=0; i<kkk/2; i++){\n\t\t\t\t\tcout << \"BA\";\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse if(BBA() == true){\n\t\t\tif(k%2 == i%2){\n\t\t\t\tcout << str;\n\t\t\t\tfor(int i=0; i<kkk/2; i++){\n\t\t\t\t\tcout << \"BA\";\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcout << str;\n\t\t\t\tfor(int i=0; i<kkk/2; i++){\n\t\t\t\t\tcout << \"BA\";\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\n\t\t\treturn 0;\n\n\t\t}\n\t\tfor(; kkk>=0; kkk-=10){\n\t\t\tif(is_BA(kkk) == false){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tstr=str.substr(0,n-(n-kkk));\n\t\tstr_p=str.substr(kkk);\n\t\tstr_p2=str_p2.substr(kkk);\n\t\t//cout << \"test : \"<< str << endl;\n\t}\n\n\tcout << str << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\n \nusing namespace std;\nusing namespace __gnu_pbds;\n \n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define fbo find_by_order\n#define ook order_of_key\n \ntypedef long long ll;\ntypedef pair<ll,ll> ii;\ntypedef vector<int> vi;\ntypedef long double ld; \ntypedef tree<int, null_type, less<int>, rb_tree_tag, tree_order_statistics_node_update> pbds;\ntypedef set<int>::iterator sit;\ntypedef map<int,int>::iterator mit;\ntypedef vector<int>::iterator vit;\n\nvoid simulate(string &s, int pos, int dir)\n{\n\tint n = s.length();\n\tif(pos<0||pos>=n) return ;\n\tif(s[pos]=='A')\n\t{\n\t\tif(dir==0)\n\t\t{\n\t\t\ts[pos]='B';\n\t\t\tsimulate(s,pos-1,dir^1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[pos]='B';\n\t\t\tsimulate(s,pos+1,dir^1);\n\t\t}\n\t}\n\telse\n\t{\n\t\tif(dir==0)\n\t\t{\n\t\t\ts[pos]='A';\n\t\t\tsimulate(s,pos+1,dir);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[pos]='A';\n\t\t\tsimulate(s,pos-1,dir);\n\t\t}\n\t}\n}\n\nbool alternate(string s)\n{\n\tfor(int i=0;i+1<s.length();i++)\n\t{\n\t\tif(s[i]==s[i+1]) return false;\n\t}\n\treturn true;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0); cin.tie(0);\n\tint n; ll k;\n\t\n\tcin>>n>>k;\n\tstring s; cin>>s;\n\t/*\n\tstring ss=s;\n\t\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tsimulate(s,0,0);\n\t\tcout<<s<<'\\n';\n\t}\n\tcout<<'\\n';\n\ts=ss;\n\t*/\n\t\n\tdeque<int> dq;\n\tint front = 0;\n\tint r = 1;\n\tif(s[0]=='A') front=0;\n\telse front=1;\n\tfor(int i=1;i<s.length();i++)\n\t{\n\t\tif(s[i]==s[i-1])\n\t\t{\n\t\t\tr++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdq.pb(r);\n\t\t\tr=1;\n\t\t}\n\t}\n\tdq.pb(r);\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tif(front)\n\t\t{\n\t\t\tif(int(dq.size())&1)\n\t\t\t{\n\t\t\t\tint run = dq.back();\n\t\t\t\tdq.pop_back();\n\t\t\t\tif(dq.empty())\n\t\t\t\t{\n\t\t\t\t\tfront^=1;\n\t\t\t\t\tdq.pb(run);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(dq[0]==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdq.pop_front();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdq[0]--;\n\t\t\t\t\t\tfront^=1;\n\t\t\t\t\t}\n\t\t\t\t\tdq.pb(1+run);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(dq[0]==1)\n\t\t\t\t{\n\t\t\t\t\tdq.pop_front();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdq[0]--;\n\t\t\t\t\tfront^=1;\n\t\t\t\t}\n\t\t\t\tdq.pb(1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(dq[0]==1)\n\t\t\t{\n\t\t\t\tdq.pop_front();\n\t\t\t\tif(dq.empty()) dq.pb(1);\n\t\t\t\telse dq.front()++;\n\t\t\t\tfront^=1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdq[0]--;\n\t\t\t\tdq.push_front(1);\n\t\t\t\tfront^=1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\tint tmp=front;\n\t\tfor(int i=0;i<dq.size();i++)\n\t\t{\n\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t{\n\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\telse cout<<\"A\";\n\t\t\t}\n\t\t\ttmp^=1;\n\t\t}\n\t\tcout<<'\\n';\n\t\t*/\n\t\tif(int(dq.size()) == n)\n\t\t{\n\t\t\t//cout<<i<<' '<<front<<'\\n';\n\t\t\tif(front)\n\t\t\t{\n\t\t\t\tint tmp=front;\n\t\t\t\tfor(int i=0;i<dq.size();i++)\n\t\t\t\t{\n\t\t\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\t\t\telse cout<<\"A\";\n\t\t\t\t\t}\n\t\t\t\t\ttmp^=1;\n\t\t\t\t}\n\t\t\t\tcout<<'\\n';\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif((k-i)&1)\n\t\t\t\t{\n\t\t\t\t\tint tmp=front;\n\t\t\t\t\tfor(int i=0;i<dq.size();i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\t\t\t\telse cout<<\"A\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmp^=1;\n\t\t\t\t\t}\n\t\t\t\t\tcout<<'\\n';\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(dq[0]==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdq.pop_front();\n\t\t\t\t\t\tif(dq.empty()) dq.pb(1);\n\t\t\t\t\t\telse dq.front()++;\n\t\t\t\t\t\tfront^=1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdq[0]--;\n\t\t\t\t\t\tdq.push_front(1);\n\t\t\t\t\t\tfront^=1;\n\t\t\t\t\t}\n\t\t\t\t\tint tmp=front;\n\t\t\t\t\tfor(int i=0;i<dq.size();i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\t\t\t\telse cout<<\"A\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmp^=1;\n\t\t\t\t\t}\n\t\t\t\t\tcout<<'\\n';\n\t\t\t\t\treturn 0;\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n\tint tmp=front;\n\tfor(int i=0;i<dq.size();i++)\n\t{\n\t\tfor(int j=0;j<dq[i];j++)\n\t\t{\n\t\t\tif(tmp) cout<<\"B\";\n\t\t\telse cout<<\"A\";\n\t\t}\n\t\ttmp^=1;\n\t}\n\tcout<<'\\n';\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint simulate(string& S)\n{\n    auto i = 0;\n    auto direction = 1;\n    while (true)\n    {\n        if (i < 0) return -1;\n        if (i >= int(S.length())) return 1;\n\n        if (S[i] == 'A') direction *= -1;\n        S[i] = S[i] == 'A' ? 'B' : 'A';\n        i += direction;\n    }\n}\n\nint main()\n{\n    int N, K; cin >> N >> K;\n    string S; cin >> S;\n\n    while (K--)\n    {\n        simulate(S);\n\n        auto is_alternating = true;\n        for (auto i = 2; i < N; i++)\n            is_alternating &= S[i] == S[i-2];\n        if (is_alternating) break;\n    }\n\n    if (K == 0) cout << S << endl;\n    else\n    {\n        if (S[0] == 'B') cout << S << endl;\n        else\n        {\n            if (K % 2 == 1) S[0] = 'B';\n            cout << S << endl;\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N = 4e5 + 9;\n\nint n, k, _a[N], *a = _a;\nchar s[N];\nbool o;\n\nint main () {\n//\tfreopen(\"d.in\", \"r\", stdin);\n//\tfreopen(\"d.out\", \"w\", stdout);\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++i) a[i] = s[i] == 'B' ? 1 : 0;\n\tfor (int i = 1; ; ++i) {\n\t\tif (*a ^ o) {\n\t\t\to ^= 1;\n\t\t\ta[n] = o;\n\t\t\t++a;\n\t\t} else {\n\t\t\t*a ^= 1;\n\t\t}\n\t\tif (i == k || (i > n * 2 && (i & 1) == (k & 1))) break ;\n\t}\n\tfor (int i = 0; i < n; ++i) putchar('A' + (a[i] ^ o));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\nusing namespace std;\nconst int N=500000;\nint n,k,f[N+10];\nchar s[N+10],ans[N+10];\nint Calc(int x) {\n    x++;\n    if (x<=n) return f[x]+x-1;\n    if (n%2) return f[n]+x*2-n-1;\n    return f[n]+x-1;\n}\nvoid work(int x) {\n    x++;\n    for (int i=1;i<=n;i++) {\n\tint kx=x+i-1;\n\tif (kx<=n) {\n\t    if (x%2) ans[i]=s[kx];\n\t    else {\n\t\tif (s[kx]=='A') ans[i]='B';\n\t\telse ans[i]='A';\n\t    }\n\t}\n\telse {\n\t    if ((n-i+1)%2) ans[i]='A';\n\t    else ans[i]='B';\n\t}\n    }\n    ans[1]='B';\n}\nvoid work2() {\n    for (int i=1;i<n;i++)\n\tif (ans[i+1]=='A') ans[i]='B';\n\telse ans[i]='A';\n    ans[n]='A';\n}\nint main() {\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (int i=1;i<=n;i++) {\n\tf[i]=f[i-1];\n\tif (s[i]=='A'&&i%2) f[i]++;\n\tif (s[i]=='B'&&i%2==0) f[i]++;\n    }\n    int l=0,r=k;\n    while (l<r) {\n\tint mid=(l+r+1)/2;\n\tint now=Calc(mid);\n\tif (now<=k) l=mid;\n\telse r=mid-1;\n    }\n    int nowx=Calc(l);\n    work(l);\n    if (nowx!=k) work2();\n    for (int i=1;i<=n;i++) putchar(ans[i]);\n    putchar('\\n');\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n  int n;\n  long long K;\n  scanf(\"%d%lld\",&n,&K);\n  static char s[200010];\n  scanf(\"%s\",s);\n  int x=0,p=0;\n  while(x<n&&K>0){\n    if(s[x]=='A'+p){\n      s[x]='A'+!p;\n    }\n    else{\n      x++;\n      p=!p;\n    }\n    K--;\n  }\n  if(x==n&&n%2==1&&K%2==1){\n    for(int i=0;i<n;i++){\n      putchar('A'+(i==0||i%2==1?1:0));\n    }\n  }\n  else{\n    for(int i=x;i<n;i++){\n      putchar('A'+((s[i]=='A')==p));\n    }\n    for(int i=0;i<x;i++){\n      putchar('A'+((x-i)%2==0));\n    }\n  }\n  putchar('\\n');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<fstream>\n#include<sstream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<deque>\n#include<map>\n#include<set>\n#include<string>\n#include<cmath>\n#include<cstdio>\n#include<cassert>\nusing namespace std;\n\n#define REP(i,m,n) for(int i=(m); i<(int)(n); i++)\n#define RREP(i,m,n) for(int i=(int)(n-1); i>=m; i--)\n#define rep(i,n) REP(i,0,n)\n#define rrep(i,n) RREP(i,0,n)\n#define all(a) (a).begin(),(a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n#define aut(r,v) __typeof(v) r = (v)\n#define each(it,o) for(aut(it,(o).begin()); it!=(o).end(); ++it)\n#define reach(it,o) for(aut(it,(o).rbegin()); it!=(o).rend(); ++it)\n#define fi first\n#define se second\n#define debug(...) {cerr<<\"[L\"<<__LINE__<<\"] \"; _debug(__VA_ARGS__);}\n\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& o, const pair<T1, T2>& p)\n{return o<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\ntemplate<typename T>string join(const vector<T>&v, string del=\", \")\n{stringstream s;rep(i,v.size())s<<del<<v[i];return s.str().substr(del.size());}\ntemplate<typename T>ostream& operator<<(ostream& o, const vector<T>&v)\n{if(v.size())o<<\"[\"<<join(v)<<\"]\";return o;}\ntemplate<typename T>ostream& operator<<(ostream& o, const vector<vector<T> >&vv)\n{int l=vv.size();if(l){o<<endl;rep(i,l){o<<(i==0?\"[ \":\",\\n  \")<<vv[i]<<(i==l-1?\" ]\":\"\");}}return o;}\ntemplate<typename T>ostream& operator<<(ostream& o, const set<T>& st)\n{vector<T> v(st.begin(),st.end());o<<\"{ \"<<join(v)<<\" }\";return o;}\ntemplate<typename T1, typename T2>ostream& operator<<(ostream& o, const map<T1, T2>& m)\n{each(p,m){o<<(p==m.begin()?\"{ \":\",\\n  \")<<*p<<(p==--m.end()?\" }\":\"\");}return o;}\ninline void _debug(){cerr<<endl;}\ntemplate<class First, class... Rest>\nvoid _debug(const First& first, const Rest&... rest){cerr<<first<<\" \";_debug(rest...);}\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\n\nconst double PI = (1*acos(0.0)); \nconst double INF = 0x3f3f3f3f;\nconst double INFL = 0x3f3f3f3f3f3f3f3fLL;\nconst double EPS = 1e-9;\nconst double mod = 1e9 + 7;\n\ninline void finput(string filename) {\n    freopen(filename.c_str(), \"r\", stdin);\n}\n\nint main(){\n    ios_base::sync_with_stdio(0);\n    // finput(\"./input\");\n    int n,k;\n    string s;\n    cin >> n >> k >> s;\n    deque<int> a(n); \n    rep(i,n) a[i] = s[i] == 'B';\n    if(k > 2*n) k = 2*n + (k&1);\n    int rev = 0;\n    rep(i,k){\n        if(a[0] == rev) a[0] ^= 1;\n        else{ a.pop_front(); a.push_back(rev^1); rev ^= 1; }\n    }\n    rep(i,n) cout << ((a[i]^rev)?'B':'A');\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector> \n#include <list> \n#include <map> \n#include <set> \n#include <deque> \n#include <queue> \n#include <stack> \n#include <bitset> \n#include <algorithm> \n#include <functional> \n#include <numeric> \n#include <utility> \n#include <sstream> \n#include <iostream> \n#include <iomanip> \n#include <cstdio> \n#include <cmath> \n#include <cstdlib> \n#include <cctype> \n#include <string> \n#include <cstring> \n#include <ctime> \n\nusing namespace std;\n\n#define _int64 long long\n\nchar s[510000];\nint a[1000000];\nchar ans[510000];\n\nint main()\n{\n  vector<int> a;\n  int i,j,n,k,f,jian,h,t,need;\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  if (n==1)\n  {\n    if (k%2==1) s[0]='A'+'B'-s[0];\n    printf(\"%s\\n\",s);\n    return 0;\n  }\n  s[n]='B';\n  for (i=1;i<n;i++)\n    s[n+i]='A'+'B'-s[n+i-1];\n  ans[n]='\\0';\n  for (i=0;i<n;i++)\n  {\n    if (i==0)\n    {\n      if (s[0]=='A') need=2;\n      else need=1;\n    }\n    else\n    {\n      if (s[i]==s[i+n-1])\n      {\n        need=2;\n      }\n      else need=1;\n    }\n    if (k>=need) k-=need;\n    else\n    {\n      for (j=0;j<n;j++)\n        if ((i==0)||(s[i+n-1]=='A'))\n          ans[j]=s[i+j];\n        else ans[j]='A'+'B'-s[i+j];\n      if (k==1) ans[0]='A'+'B'-ans[0];\n      printf(\"%s\\n\",ans);\n      return 0;\n    }\n  }\n  if ((s[n]==s[n+n-1])&&(k%2!=0))\n  {\n    for (j=0;j<n;j++)\n      if (s[n+n-1]=='A')\n        ans[j]=s[n+j];\n      else ans[j]='A'+'B'-s[n+j];\n    ans[0]='B';\n    printf(\"%s\\n\",ans);\n  }\n  else\n  {\n    for (j=0;j<n;j++)\n      if (s[n+n-1]=='A')\n        ans[j]=s[n+j];\n      else ans[j]='A'+'B'-s[n+j];\n    printf(\"%s\\n\",ans);\n  }\n  /*\n  for (i=0;i<k;i++)\n  {\n    j=0;f=1;\n    while ((j>=0)&&(j<n))\n    {\n      if (s[j]=='A')\n      {\n        s[j]='B';f=-f;\n        j+=f;\n      }\n      else\n      {\n        s[j]='A';\n        j+=f;\n      }\n    }\n    printf(\"%s\\n\",s);\n  }\n  */\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#pragma GCC optimize(\"Ofast\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\n#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst int inf_int = 1e9 + 100;\nconst ll inf_ll = 1e18;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef long double dbl;\n#define pb push_back\n#define eb emplace_back\nconst double pi = 3.1415926535898;\n#define dout if(debug) cout\n#define fi first\n#define se second\n#define sp setprecision\n#define sz(a) (int(a.size()))\n#define mp make_pair\n#define all(a) a.begin(),a.end()\nbool debug = 0;\nconst int MAXN = 1e5 + 100;\nconst int LOG = 21;\nconst int mod = 1e9 + 7;\nconst int MX = 1e6;\ntypedef long long li;\n\ntemplate<class T1, class T2>\nstd::ostream &operator<<(std::ostream &out, const std::pair<T1, T2> &rhs) {\n    out << \"( \" << rhs.first << \" , \" << rhs.second << \" )\";\n    return out;\n}\n\nvoid solve() {\n    int n, k;\n    cin >> n >> k;\n    deque<int> d;\n    int total = 0;\n    for (int i = 1; i <= n; ++i) {\n        char a;\n        cin >> a;\n        if (a == 'A') {\n            d.push_back(0);\n        } else {\n            d.push_back(1);\n        }\n    }\n\n\n    k = k % (2 * n);\n    for (int i = 1; i <= 2 * n && i <= k; ++i) {\n        if ((d.front() ^ total) == 0) {\n            d.pop_front();\n            d.push_front(total ^ 1);\n        } else {\n            d.pop_front();\n            total ^= 1;\n            d.push_back(total);\n        }\n    }\n\n    while (!d.empty()) {\n        int res = d.front(); d.pop_front();\n        res = res ^ total;\n\n        if(res == 0){\n            cout <<\"A\";\n        } else{\n            cout <<\"B\";\n        }\n    }\n\n}\n\nsigned main() {\n#ifdef zxc\n    debug = 1;\n    freopen(\"../input.txt\", \"r\", stdin);\n    //  freopen(\"../output.txt\", \"w\", stdout);\n#else\n\n#endif //zxc\n    ios_base::sync_with_stdio(0);\n    cin.tie(0);\n    cout.tie(0);\n    cout.setf(ios::fixed);\n    cout.precision(20);\n\n    int t = 1;\n    for (int j = 1; j <= t; ++j) {\n        solve();\n    }\n    if (debug) {\n        cerr << endl;\n        cerr << endl << \"time : \" << (1.0 * clock() / CLOCKS_PER_SEC) << endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\n\n#define CIN_ONLY if(1)\nstruct cww{cww(){\n    CIN_ONLY{\n        ios::sync_with_stdio(false);cin.tie(0);\n    }\n}}star;\n#define fin \"\\n\"\n#define FOR(i,bg,ed) for(int i=(bg);i<(ed);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n#define pb push_back\n#define DEBUG if(0)\n#define REC(ret, ...) std::function<ret (__VA_ARGS__)>\ntemplate <typename T>inline void chmin(T &l,T r){l=min(l,r);}\ntemplate <typename T>inline void chmax(T &l,T r){l=max(l,r);}\ntemplate <typename T>\nistream& operator>>(istream &is,vector<T> &v){\n    for(auto &it:v)is>>it;\n    return is;\n}\n\nint main(){\n    int N,K;\n    string s;\n    cin>>N>>K>>s;\n    vector<int> bin(N);\n    REP(i,N)bin[i]=s[i]-'A';\n\n    int bg=1,ed=N;\n    int rev=0;\n    int fi=bin[0];\n    for(int e=0;ed>bg;e=1-e,ed--)\n        if(bin[ed-1]!=e)break;\n    while(K){\n        if(ed-bg<1&&fi==1)break;\n        if(fi==0)fi=1;\n        else{\n            int val=bin[bg]^rev;\n            if(val==1){\n                fi=0;\n            }else{\n                fi=1;\n            }\n            rev=1-rev;\n            bg++;\n        }\n        K--;\n    }\n    if(N%2){\n        fi=fi^(K%2);\n    }\n    FOR(i,bg,ed)s[i-bg+1]=(bin[i]^rev)+'A';\n    for(int i=N-1,e=0;i>ed-bg;i--,e=1-e)s[i]=e+'A';\n    s[0]=fi+'A';\n    cout<<s<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define X first\n#define Y second\n#define mp make_pair\nusing namespace std;\ntypedef pair<int,int> PII;\ntypedef long long ll;\nconst int N = 200010;\nbitset<N> s,tmp;\nchar S[N];\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",S);\n\n\tfor(int i=0;i<n;i++){\n\t\tif(S[i]=='A') s.set(i);\n\t}\n\tint i,j,t;\n\tfor(i = 0,j = 0,t = 0;i<k && j<n;i++){\n\t\t\tif((j&1) && t==0) s.flip(j),t^=1;\n\t\t\tif(s[j]==0){\n\t\t\t\tj++;\n\t\t\t\tt=0;\n\t\t\t} else{\n\t\t\t\ts.flip(j);\n\t\t\t}\n\t\t\n\t}\n\t//cout<<s<<endl;\n\ttmp = s;\n\ts.reset();\n\tif(j<n) s[0]=tmp[j]; else {\n\t\tif((n&1) && ((k-i)%2)==0) s.set(0);\n\t}\n\tfor(int i=j+1;i<n;i++){\n\t\tif((j&1)^(tmp[i]==1)) s.set(i-j);\n\t}\n\t//cout<<s<<endl;\n\tfor(int i=max(n,j+1);i<j+n;i++){\n\t\tif((n&1)^((i-j)&1)) s.set(i-j);\n\t}\n\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef double lf;\ntypedef pair<int,int> ii;\ntypedef pair<ii,int> iii;\n#define REP(i,n) for(int i=0;i<n;i++)\n#define REP1(i,n) for(int i=1;i<=n;i++)\n#define RST(i,n) memset(i,n,sizeof i)\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(),a.end()\n#define X first\n#define Y second\n#define eb emplace_back\n#ifdef cold66\n#define debug(...) do{\\\n    fprintf(stderr,\"LINE %d: (%s) = \",__LINE__,#__VA_ARGS__);\\\n    _do(__VA_ARGS__);\\\n}while(0)\ntemplate<typename T>void _do(T &&_x){cerr<<_x<<endl;}\ntemplate<typename T,typename ...S> void _do(T &&_x,S &&..._t){cerr<<_x<<\", \";_do(_t...);}\ntemplate<typename _a,typename _b> ostream& operator << (ostream &_s,const pair<_a,_b> &_p){return _s<<\"(\"<<_p.X<<\",\"<<_p.Y<<\")\";}\ntemplate<typename It> ostream& _OUTC(ostream &_s,It _ita,It _itb)\n{\n    _s<<\"{\";\n    for(It _it=_ita;_it!=_itb;_it++)\n    {\n        _s<<(_it==_ita?\"\":\",\")<<*_it;\n    }\n    _s<<\"}\";\n    return _s;\n}\ntemplate<typename _a> ostream &operator << (ostream &_s,vector<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a> ostream &operator << (ostream &_s,set<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a,typename _b> ostream &operator << (ostream &_s,map<_a,_b> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _t> void pary(_t _a,_t _b){_OUTC(cerr,_a,_b);cerr<<endl;}\n#define IOS()\n#else\n#define debug(...)\n#define pary(...)\n#define endl '\\n'\n#define IOS() ios_base::sync_with_stdio(0);cin.tie(0);\n#endif // cold66\n//}\ntemplate<class T> inline bool chkmax(T &a, const T &b) { return b > a ? a = b, true : false; }\ntemplate<class T> inline bool chkmin(T &a, const T &b) { return b < a ? a = b, true : false; }\n\nconst ll MAXn=1e5+5,MAXlg=__lg(MAXn)+2;\nconst ll MOD=1000000007;\nconst ll INF=0x3f3f3f3f;\n\nvoid pp(int x){\n    if (x == 0) cout << 'A';\n    else cout << 'B';\n}\nint main(){\n    IOS();\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    if (k > 2*n) k = 2*n + (k%2);\n    list<int> lst;\n    REP (i,n) {\n        if (s[i] == 'A') lst.push_back(0);\n        else lst.push_back(1);\n    }\n    int flip = 0;\n    debug(k);\n    while (k--) {\n        int cur = lst.front();\n        lst.pop_front();\n        if (flip) cur ^= 1;\n        if (cur == 0) {\n            if (flip) cur = 0;\n            else cur = 1;\n            lst.push_front(cur);\n            continue;\n        }\n        if (flip) lst.push_back(0);\n        else lst.push_back(1);\n        flip ^= 1;\n    }\n    while (SZ(lst)) {\n        int cur = lst.front();\n        lst.pop_front();\n        if (flip) pp(cur^1);\n        else pp(cur);\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nint n,K;\nchar c[1010000];\nint main(){\n\tios::sync_with_stdio(0);\n\tcin>>n>>K;\n\tcin>>c;\n\tint l=0,r=n-1,tim=0,tag=0;\n\twhile(tim+1<=K){\n\t\ttim++;\n\t\tif(tag&&c[l]=='A'||!tag&&c[l]=='B'){\n\t\t\tl++;tag^=1;\n\t\t\tc[++r]=tag?'B':'A';\n\t\t}\n\t\telse c[l]=tag?'A':'B';\n\t\tif(tim>n) break;\n\t}\n\tif(tim<=n){\n\t\tfor(int i=l;i<=r;i++)\n\t\t\tif(!tag) cout<<c[i];\n\t\t\telse cout<<(c[i]=='A'?'B':'A');\n\t\tcout<<'\\n';\n\t}\n\telse{\n\t\tif(K-tim&1) c[l]=tag?'A':'B';\n\t\tfor(int i=l;i<=r;i++)\n\t\t\tif(!tag) cout<<c[i];\n\t\t\telse cout<<(c[i]=='A'?'B':'A');\n\t\tcout<<'\\n';\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\t\tif((s[i]=='A')^op){s[i]='B';continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tfp(k,i,i+n-1){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\t\tif((s[i]=='A')^op){s[i]='B';continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\t\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\treverse(s+1,s+1+n);\n\tprint(s+i);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// includes {{{\n#include<iostream>\n#include<iomanip>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<tuple>\n#include<cmath>\n#include<random>\n#include<cassert>\n// #include<deque>\n// #include<multiset>\n// #include<bitset>\n// #include<cstring>\n// #include<bits/stdc++.h>\n// }}}\nusing namespace std;\nusing ll = long long;\n\nint n, k;\nstring s;\n\nstring tostr(vector<int> v) {\n  string res(n, 'A');\n  int c = 0;\n  for(int i = 0; i < n; i++) {\n    if(v[i]) c ^= 1;\n    res[i] = 'A' + c;\n  }\n  return res;\n}\n\nstring sol(vector<int> v, int k) { \n  vector<int> zero;\n  for(int i = 0; i < n; i++) if(v[i] == 0) zero.push_back(i);\n\n  reverse(begin(zero), end(zero));\n\n  int x = -1, y = -1;\n  int left = 0;\n  int now = 0;\n  while(k && zero.size()) {\n    if(x == -1) {\n      x = zero.back();\n      // dump(x);\n      y = -1;\n      int use = x - now;\n      if(k >= use) {\n        left += use;\n        k -= use;\n        now = x;\n      } else {\n        now = now + k;\n        k = 0;\n        x = -1;\n      }\n    } else {\n      y = zero.back();\n      // dump(x, y);\n      int use = (y - now - 1) * 2;\n      if(k >= use) {\n        left += use;\n        k -= use;\n        now = y - 1;\n        v[now] = 0;\n        if(k >= 1) {\n          k--;\n          v[now] ^= 1;\n          v[now + 1] ^= 1;\n        }\n      } else {\n        now = now + k / 2;\n        v[now] = 0;\n        assert(now + 1 < n);\n        if(k % 2 == 1) {\n          v[now] ^= 1;\n          v[now + 1] ^= 1;\n        }\n        k = 0;\n      }\n      x = -1;\n    }\n    zero.pop_back();\n  }\n  // dump(v);\n  vector<int> w(n, 1);\n  for(int i = now; i < n; i++) w[i-now] = v[i];\n  if(x != -1 && y == -1) {\n    w[1 - k % 2] = 1;\n    w[k % 2] = 0;\n  }\n  return tostr(w);\n}\n\nint main() {\n  ios::sync_with_stdio(false), cin.tie(0);\n  cin >> n >> k;\n  cin >> s;\n  if(n == 1) {\n    if(k % 2 == 1) s[0] = s[0] == 'A' ? 'B' : 'A';\n    cout << s << endl;\n    return 0;\n  }\n\n  vector<int> v(n);\n  char last = 'A';\n  int one = 0;\n  for(int i = 0; i < n; i++) {\n    v[i] = last != s[i];\n    last = s[i];\n    if(v[i] == 1) one++;\n  }\n\n  if(one % 2) {\n    if(k && v[0] == 0) k--, v[0] ^= 1, v[1] ^= 1;\n    if(k) {\n      v.erase(v.begin());\n      v.push_back(0);\n      k--;\n    }\n  }\n\n  cout << sol(v, k) << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LL long long\n#define FOE(i, s, t) for (int i = s; i <= t; i++)\n\nint n, k;\n\n#define K 10000001\n\nchar s[K];\n\nchar f(int a, char b){\n        if (a){\n                if (b == 'A') return 'B';\n                return 'A';\n        }\n        return b;\n}\n\nchar s2[K];\n\n#define MAGIC 5000000\nint main(){\n        scanf(\"%d%d\", &n, &k);\n        scanf(\"%s\", s);\n\n        FOE(i, 0, n - 1) s2[i] = s[i];\n\n        int ptr = 0, tog = 0;\n        int las = n;\n\n        FOE(i, 1, min(k, MAGIC)){\n                int tru = (s[ptr] == 'A'? 0: 1);\n                if (tog) tru ^= 1;\n\n                if (tru == 0){\n                        s[ptr] = (s[ptr] == 'A'? 'B': 'A');\n                } else {\n                        s[las] = (tog? 'A': 'B');\n                        las++;\n                        ptr++;\n                        tog ^= 1;\n                }\n        }\n\n        int left = max(0, k - MAGIC);\n\n//      printf(\"left = %d\\n\", left);\n\n        if (left && (n % 2)){\n                if (left % 2 == 1){\n                        if (s[ptr] == 'A') s[ptr] = 'B'; else s[ptr] = 'A';\n                }\n        }\n/*\n        FOE(i, 1, k){int cur = 0, dir = 1;\n        while (cur >= 0 && cur < n){\n                if (s2[cur] == 'A') dir *= -1, s2[cur] = 'B';\n                else s2[cur] = 'A';\n                cur = cur + dir;\n        }}\n\n\n\n        FOE(i, 1, n) printf(\"%c\", s2[i - 1]);\n        puts(\"\");*/\n\n\n        FOE(i, 1, n) printf(\"%c\", f(tog, s[ptr + i - 1]));\n        puts(\"\");\n\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define endl '\\n'\n#define lfs cout<<fixed<<setprecision(10)\n#define ALL(a)  (a).begin(),(a).end()\n#define ALLR(a)  (a).rbegin(),(a).rend()\n#define spa << \" \" <<\n#define fi first\n#define se second\n#define MP make_pair\n#define MT make_tuple\n#define PB push_back\n#define EB emplace_back\n#define rep(i,n,m) for(ll i = (n); i < (ll)(m); i++)\n#define rrep(i,n,m) for(ll i = (ll)(m) - 1; i >= (ll)(n); i--)\nusing ll = long long;\nusing ld = long double;\nconst ll MOD1 = 1e9+7;\nconst ll MOD9 = 998244353;\nconst ll INF = 1e18;\nusing P = pair<ll, ll>;\ntemplate<typename T1, typename T2>\nbool chmin(T1 &a,T2 b){if(a>b){a=b;return true;}else return false;}\ntemplate<typename T1, typename T2>\nbool chmax(T1 &a,T2 b){if(a<b){a=b;return true;}else return false;}\nll median(ll a,ll b, ll c){return a+b+c-max({a,b,c})-min({a,b,c});}\nvoid ans1(bool x){if(x) cout<<\"Yes\"<<endl;else cout<<\"No\"<<endl;}\nvoid ans2(bool x){if(x) cout<<\"YES\"<<endl;else cout<<\"NO\"<<endl;}\nvoid ans3(bool x){if(x) cout<<\"Yay!\"<<endl;else cout<<\":(\"<<endl;}\ntemplate<typename T1,typename T2>\nvoid ans(bool x,T1 y,T2 z){if(x)cout<<y<<endl;else cout<<z<<endl;}  \ntemplate<typename T>\nvoid debug(vector<vector<T>>&v,ll h,ll w){for(ll i=0;i<h;i++)\n{cout<<v[i][0];for(ll j=1;j<w;j++)cout spa v[i][j];cout<<endl;}};\nvoid debug(vector<string>&v,ll h,ll w){for(ll i=0;i<h;i++)\n{for(ll j=0;j<w;j++)cout<<v[i][j];cout<<endl;}};\ntemplate<typename T>\nvoid debug(vector<T>&v,ll n){if(n!=0)cout<<v[0];\nfor(ll i=1;i<n;i++)cout spa v[i];cout<<endl;};\ntemplate<typename T>\nvector<vector<T>>vec(ll x, ll y, T w){\n  vector<vector<T>>v(x,vector<T>(y,w));return v;}\nll gcd(ll x,ll y){ll r;while(y!=0&&(r=x%y)!=0){x=y;y=r;}return y==0?x:y;}\nvector<ll>dx={1,-1,0,0,1,1,-1,-1};\nvector<ll>dy={0,0,1,-1,1,-1,1,-1};\ntemplate<typename T>\nvector<T> make_v(size_t a,T b){return vector<T>(a,b);}\ntemplate<typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v(ts...))>(a,make_v(ts...));\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const pair<T1, T2>&p){\n  return os << p.first << \" \" << p.second;\n}\n//mt19937 mt(chrono::steady_clock::now().time_since_epoch().count());\n\nint main(){\n  cin.tie(nullptr);\n  ios_base::sync_with_stdio(false);\n  ll res=0,buf=0;\n  bool judge = true;\n  ll n,k;cin>>n>>k;\n  string s;cin>>s;\n  vector<ll>v(n);\n  rep(i,0,n)v[i]=s[i]-'A';\n  rep(i,n,2*n+2)v.PB(~(i-n)&1);\n  ll num=0;//先頭Bで操作を行う(右から出る)回数\n  ll now=0;//操作回数\n  bool top=v[0];\n  while(now<k&&num<n){\n    now++;\n    if(top){\n      num++;\n      top=v[num]^(num&1);\n    }\n    else{\n      top=true;\n    }\n  }\n  if(n&1)top^=(k-now)&1;\n  //cout<<now spa top<<endl;\n  vector<ll>ret(n);\n  rep(i,0,n){\n    ret[i]=v[i+num]^(num&1);\n  }\n  ret[0]=top;\n  if(n==1)ret[0]=(k&1)^v[0];\n  rep(i,0,n)if(ret[i])cout<<\"B\";else cout<<\"A\";\n  cout<<endl;\n  //debug(ret,n);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n)  for(long long i=0;i<(long long)(n);i++)\n#define REP(i,k,n) for(long long i=k;i<(long long)(n);i++)\n#define all(a) a.begin(),a.end()\n#define pb emplace_back\n#define eb emplace_back\n#define lb(v,k) (lower_bound(all(v),k)-v.begin())\n#define ub(v,k) (upper_bound(all(v),k)-v.begin())\n#define fi first\n#define se second\n#define pi M_PI\n#define PQ(T) priority_queue<T>\n#define SPQ(T) priority_queue<T,vector<T>,greater<T>>\n#define dame(a) {out(a);return 0;}\n#define decimal cout<<fixed<<setprecision(15);\n#define dupli(a) a.erase(unique(all(a)),a.end())\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef tuple<ll,ll,ll> PP;\ntypedef tuple<ll,ll,ll,ll> PPP;\ntypedef multiset<ll> S;\nusing vi=vector<ll>;\nusing vvi=vector<vi>;\nusing vvvi=vector<vvi>;\nusing vvvvi=vector<vvvi>;\nusing vp=vector<P>;\nusing vvp=vector<vp>;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nconst ll inf=1001001001001001001;\nconst ll INF=2001001001;\nconst ll mod=1000000007;\nconst double eps=1e-10;\ntemplate<class T> bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<class T> bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<class T> void out(T a){cout<<a<<'\\n';}\ntemplate<class T> void outp(T a){cout<<'('<<a.fi<<','<<a.se<<')'<<'\\n';}\ntemplate<class T> void outvp(T v){rep(i,v.size())cout<<'('<<v[i].fi<<','<<v[i].se<<')';cout<<'\\n';}\ntemplate<class T> void outvvp(T v){rep(i,v.size())outvp(v[i]);}\ntemplate<class T> void outv(T v){rep(i,v.size()){if(i)cout<<' ';cout<<v[i];}cout<<'\\n';}\ntemplate<class T> void outvv(T v){rep(i,v.size())outv(v[i]);}\ntemplate<class T> bool isin(T x,T l,T r){return (l)<=(x)&&(x)<=(r);}\ntemplate<class T> void yesno(T b){if(b)out(\"yes\");else out(\"no\");}\ntemplate<class T> void YesNo(T b){if(b)out(\"Yes\");else out(\"No\");}\ntemplate<class T> void YESNO(T b){if(b)out(\"YES\");else out(\"NO\");}\ntemplate<class T> void noyes(T b){if(b)out(\"no\");else out(\"yes\");}\ntemplate<class T> void NoYes(T b){if(b)out(\"No\");else out(\"Yes\");}\ntemplate<class T> void NOYES(T b){if(b)out(\"NO\");else out(\"YES\");}\nvoid outs(ll a,ll b){if(a>=inf-100)out(b);else out(a);}\nll gcd(ll a,ll b){if(b==0)return a;return gcd(b,a%b);}\nll modpow(ll a,ll b){a%=mod;if(b==0)return 1;if(b&1)return a*modpow(a,b-1)%mod;ll k=modpow(a,b/2);return k*k%mod;}\nvoid ch(char &c){\n    if(c=='A')c='B';\n    else c='A';\n}\nint main(){\n    ll n,k;cin>>n>>k;\n    if(n*k>100000000)assert(0);\n    string s;cin>>s;\n    rep(i,k){\n        if(s[0]=='A'){\n            s[0]='B';continue;\n        }\n        rep(j,n-1)if(s[j]==s[j+1])ch(s[j]);\n        s[n-1]='A';\n    }\n    out(s);\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\nvc s;\nint l, r;\n\nvoid move(vc &s) {\n\tif (s[l] == (rev ? 'B' : 'A')) {\n\t\ts[l] = (rev ? 'A' : 'B');\n\t\treturn;\n\t}\n\tl++;\n\tr++;\n\trev = !rev;\n\ts[r] = (rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\ts = vc(3*N+100);\n\tl = 0;\n\tr = N - 1;\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == 2*N) {\n\t\t\t// あとK-2N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - 2*N) % 2 == 0)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (rev) {\n\t\trepl(i, l, r + 1) {\n\t\t\tprintf(\"%c\", s[i] == 'A' ? 'B' : 'A');\n\t\t}\n\t}\n\telse {\n\t\trepl(i, l, r + 1) {\n\t\t\tprintf(\"%c\", s[i]);\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<queue>\n#include<stack>\n#include<set>\nusing namespace std;\n#define MOD 1000000007\n#define f(i,n) for(int i=0;i<int(n);i++)\n#define N 200000\n\n\nint main(){\n\tchar a[N + 1];\n\tf(i, N + 1)a[i] = 0;\n\tint n, k;\n\tscanf(\"%d %d\", &n, &k);\n\tscanf(\"%s\", a);\n\tn = strlen(a);\n\tf(i, n){\n\t\tif (i % 2 == 0 && a[i] == 'A'){\n\t\t\tk--;\n\t\t}\n\t\telse if (i % 2 == 1 && a[i] == 'B'){\n\t\t\tk--;\n\t\t}\n\t\tif (k <= 0){\n\t\t\tprintf(\"B\");\n\t\t\tif (i % 2 == 0){\n\t\t\t\tfor (int j = i + 1; j < n; j++){\n\t\t\t\t\tif (a[j] == 'A')printf(\"A\");\n\t\t\t\t\telse printf(\"B\");\n\t\t\t\t}\n\t\t\t\tf(j, i){\n\t\t\t\t\tif (j % 2 == 0)printf(\"B\");\n\t\t\t\t\telse printf(\"A\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (int j = i + 1; j < n; j++){\n\t\t\t\t\tif (a[j] == 'A')printf(\"B\");\n\t\t\t\t\telse printf(\"A\");\n\t\t\t\t}\n\t\t\t\tf(j, i){\n\t\t\t\t\tif (j % 2 == 0)printf(\"A\");\n\t\t\t\t\telse printf(\"B\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\treturn 0;\n\t\t}\n\t\tk--;\n\t\tif (k <= 0){\n\t\t\tif (i % 2 == 0){\n\t\t\t\tfor (int j = i + 1; j < n; j++){\n\t\t\t\t\tif (a[j] == 'A')printf(\"B\");\n\t\t\t\t\telse printf(\"A\");\n\t\t\t\t}\n\t\t\t\tf(j, i+1){\n\t\t\t\t\tif (j % 2 == 0)printf(\"A\");\n\t\t\t\t\telse printf(\"B\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (int j = i + 1; j < n; j++){\n\t\t\t\t\tif (a[j] == 'A')printf(\"A\");\n\t\t\t\t\telse printf(\"B\");\n\t\t\t\t}\n\t\t\t\tf(j, i + 1){\n\t\t\t\t\tif (j % 2 == 0)printf(\"B\");\n\t\t\t\t\telse printf(\"A\");\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tif (n % 2 == 0){\n\t\tf(i, n){\n\t\t\tif (i % 2 == 0)printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\telse{\n\t\tif (k % 2 == 0)printf(\"A\");\n\t\telse printf(\"B\");\n\t\tf(i, n-1){\n\t\t\tif (i % 2 == 0)printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k, km; rd(n, k); k = std::min(k, 10 * n); km = k;\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1; i <= k; ++i, --km) {\n\t\tif(a[st] == inv) a[st] ^= 1;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tif(n % 2 == 0) {\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t} else {\n\t\tprintf(\"%c\", (a[st] ^ inv ^ (km & 1)) + 'A');\n\t\tfor(int i = 2; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<map>\n#include<set>\n#include<string>\n#include<stack>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\n\n#define fr first\n#define sc second\n#define mp make_pair\n#define pb push_back\n#define rep(i,x) for(int i=0;i<x;i++)\n#define rep1(i,x) for(int i=1;i<=x;i++)\n#define rrep(i,x) for(int i=x-1;i>=0;i--)\n#define rrep1(i,x) for(int i=x;i>0;i--)\n#define sor(v) sort(v.begin(),v.end())\n#define rev(s) reverse(s.begin(),s.end())\n#define lb(vec,a) lower_bound(vec.begin(),vec.end(),a)\n#define ub(vec,a) upper_bound(vec.begin(),vec.end(),a)\n#define uniq(vec) vec.erase(unique(vec.begin(),vec.end()),vec.end())\n#define mp1(a,b,c) P1(a,P(b,c))\n\nconst int INF=1000000000;\nconst int dir_4[4][2]={{1,0},{0,1},{-1,0},{0,-1}};\nconst int dir_8[8][2]={{1,0},{1,1},{0,1},{-1,1},{-1,0},{-1,-1},{0,-1},{1,-1}};\n\nint main(){\n\tint n,k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tif(s[0] == 'A'){\n\t\ts[0] = 'B';\n\t\tk --;\n\t}\n\tstring ret = \"\";\n\trep(i,n){\n\t\tif(i+k<n){\n\t\t\tif(s[i+k] == 'A'){\n\t\t\t\tif(k%2 == 0)ret += 'A';\n\t\t\t\telse ret += 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(k%2 == 0)ret += 'B';\n\t\t\t\telse ret += 'A';\n\t\t\t}\n\t\t}\n\t\telse if((n-1-i)%2 == 0)ret += 'A';\n\t\telse ret += 'B';\n\t}\n\tcout << ret << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mo 1000000007\n#define pi 3.1415926535898 \nusing namespace std;\nlong long read(){\n    long long xx=0,flagg=1;\n    char ch=getchar();\n    while((ch<'0'||ch>'9')&&ch!='-')\n        ch=getchar();\n    if(ch=='-'){\n        flagg=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9'){\n        xx=xx*10+ch-'0';\n        ch=getchar();\n    }\n    return xx*flagg;\n}\nvoid pus(long long xx,long long flagg){\n    if(xx<0){\n        putchar('-');\n        xx=-xx;\n    }\n    if(xx>=10)\n        pus(xx/10,0);\n    putchar(xx%10+'0');\n    if(flagg==1)\n        putchar(' ');\n    if(flagg==2)\n        putchar('\\n');\n    return;\n}\nlong long ksm(long long u,long long v){\n\tlong long o=1;\n\twhile(v){\n\t\tif(v&1)\n\t\t\to=o*u%mo;\n\t\tu=u*u%mo;\n\t\tv>>=1;\n\t}\n\treturn o;\n}\nint n,k,i,sum;\nbool a[200005],flag;\nchar s[200005];\nint main(){\n    //freopen(\".in\",\"r\",stdin);\n    //freopen(\".out\",\"w\",stdout);\n   \tn=read();k=read();\n   \tscanf(\"%s\",s);\n   \tfor(i=0;i<n;i++)\n   \t\tif(s[i]=='A')\n   \t\t\ta[i]=0;\n   \t\telse\n   \t\t\ta[i]=1;\n   \twhile(k--){\n\t\tif((a[sum]^flag)==0)\n\t\t\ta[sum]^=1;\n\t\telse{\n\t\t\tsum++;\n\t\t\tflag^=1;\n\t\t\tsum=(sum>=n?sum-n:sum);\n\t\t}\n\t}\n\tfor(i=sum;i<n;i++)\n\t\tif((a[i]^flag)==0)\n\t\t\tputchar('A');\n\t\telse\n\t\t\tputchar('B');\n\tfor(i=0;i<sum;i++)\n\t\tif((a[i]^flag)==0)\n\t\t\tputchar('A');\n\t\telse\n\t\t\tputchar('B');\n\tcout<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#pragma GCC optimize(\"Ofast\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,tune=native\")\n#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst int inf_int = 1e9 + 100;\nconst ll inf_ll = 1e18;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef long double dbl;\n#define pb push_back\n#define eb emplace_back\nconst double pi = 3.1415926535898;\n#define dout if(debug) cout\n#define fi first\n#define se second\n#define sp setprecision\n#define sz(a) (int(a.size()))\n#define mp make_pair\n#define all(a) a.begin(),a.end()\nbool debug = 0;\nconst int MAXN = 1e5 + 100;\nconst int LOG = 21;\nconst int mod = 1e9 + 7;\nconst int MX = 1e6;\ntypedef long long li;\n\ntemplate<class T1, class T2>\nstd::ostream &operator<<(std::ostream &out, const std::pair<T1, T2> &rhs) {\n    out << \"( \" << rhs.first << \" , \" << rhs.second << \" )\";\n    return out;\n}\n\nvoid solve() {\n    int n, k;\n    cin >> n >> k;\n    deque<int> d;\n    int total = 0;\n    for (int i = 1; i <= n; ++i) {\n        char a;\n        cin >> a;\n        if (a == 'A') {\n            d.push_back(0);\n        } else {\n            d.push_back(1);\n        }\n    }\n\n\n    if(k > 2 * n){\n        if(k % 2 == 0){\n            k = 2 * n + 2;\n        } else{\n            k = 2 * n + 1;\n        }\n    }\n    for (int i = 1; i <= k; ++i) {\n        if ((d.front() ^ total) == 0) {\n            d.pop_front();\n            d.push_front(total ^ 1);\n        } else {\n            d.pop_front();\n            total ^= 1;\n            d.push_back(total);\n        }\n    }\n\n    while (!d.empty()) {\n        int res = d.front(); d.pop_front();\n        res = res ^ total;\n\n        if(res == 0){\n            cout <<\"A\";\n        } else{\n            cout <<\"B\";\n        }\n    }\n\n}\n\nsigned main() {\n#ifdef zxc\n    debug = 1;\n    freopen(\"../input.txt\", \"r\", stdin);\n    //  freopen(\"../output.txt\", \"w\", stdout);\n#else\n\n#endif //zxc\n    ios_base::sync_with_stdio(0);\n    cin.tie(0);\n    cout.tie(0);\n    cout.setf(ios::fixed);\n    cout.precision(20);\n\n    int t = 1;\n    for (int j = 1; j <= t; ++j) {\n        solve();\n    }\n    if (debug) {\n        cerr << endl;\n        cerr << endl << \"time : \" << (1.0 * clock() / CLOCKS_PER_SEC) << endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define GET_MACRO(_1,_2,_3,_4,_5,_6,NAME,...) NAME\n#define pr(...) cerr<< GET_MACRO(__VA_ARGS__,pr6,pr5,pr4,pr3,pr2,pr1)(__VA_ARGS__) <<endl\n#define pr1(a) (#a)<<\"=\"<<(a)<<\" \"\n#define pr2(a,b) pr1(a)<<pr1(b)\n#define pr3(a,b,c) pr1(a)<<pr2(b,c)\n#define pr4(a,b,c,d) pr1(a)<<pr3(b,c,d)\n#define pr5(a,b,c,d,e) pr1(a)<<pr4(b,c,d,e)\n#define pr6(a,b,c,d,e,f) pr1(a)<<pr5(b,c,d,e,f)\n#define pr7(a,b,c,d,e,f,g) pr1(a)<<pr6(b,c,d,e,f,g)\n#define pr8(a,b,c,d,e,f,g,h) pr1(a)<<pr7(b,c,d,e,f,g,h)\nusing namespace std;\nusing Int = long long;\nusing ll = long long;\nusing Double = long double;\nconst Int INF = (1LL<<55)+1e9; // ~ 3.6 * 1e16\nconst Int mod = (1e9)+7;\nconst Double EPS = 1e-8;\nconst Double PI = 6.0 * asin((Double)0.5);\nusing P = pair<Int,Int>;\nusing T = tuple<Int,Int,Int>;\ntemplate<class T> T Max(T &a,T b){return a=max(a,b);}\ntemplate<class T> T Min(T &a,T b){return a=min(a,b);}\nostream& operator<<(ostream& o,P p){return o<<\"(\"<<p.first<<\",\"<<p.second<<\")\";}\nostream& operator<<(ostream& o,T t){return o<<\"(\"<<get<0>(t)<<\",\"<<get<1>(t)<<\",\"<<get<2>(t)<<\")\";}\nistream& operator>>(istream& i,P &p){return i>>p.first>>p.second;}\nostream& operator<<(ostream& o,vector<auto> &a){Int i=0;for(auto t:a)o<<(i++?\" \":\"\")<<t;return o;}\nistream& operator>>(istream& i,vector<auto> &a){for(auto &t:a)i>>t;return i;}\nvoid prArr(auto a,string s=\" \"){Int i=0;for(auto t:a)cout<<(i++?s:\"\")<<t;cout<<endl;}\n\ndeque<Int> compless(string s){\n  Int n = s.size();\n  Int cnt = 0;\n  deque<Int> res;  \n  for(Int i=0, pre = s[i] ;i<n; pre = s[i], i++, cnt++)\n    if(pre != s[i]) res.push_back(cnt), cnt = 0;\n  if(cnt) res.push_back(cnt);\n  return res;\n}\n\nstring restore(deque<Int> A,Int top){\n  string res;\n  for(Int a:A){\n    res += string(a, (top == 'X'? 'A':'B') );\n    top = top == 'O'? 'X':'O';\n  }\n  return res;\n}\n\n\nInt getType(const deque<Int> &A,Int top){\n  if(top == 'X') return 0; //x....* だったらpush_front(1), \n  if(A.size() == 1) return 1; //ooooo......だったら変化なし。\n  if(A.size()%2 == 1 && A.back() >= 2) return 2; //o...ooだったら先頭-1と最後+1\n  if(A.size()%2 == 1 && A.back() == 1) return 3; //o...xoだったら先頭-1で最後+1\n  if(A.size()%2 == 0 && A.back() >=2)  return 4;//o...xxだったら先頭を-1,push_back(1)\n  return 5; //o....ox\n}\n\nvoid ifErase(deque<Int> &A, Int i){\n  Int n = A.size();\n  if(i < 0 || i >= n) return;\n  if(A[i]) return;\n  A.erase(A.begin() + i);\n  if(i < n && i - 1 >= 0) A[i-1] += A[i], A.erase(A.begin()+i);\n}\n\nInt eraseOX(deque<Int> &A,char &top){\n  auto ok = [&](){\n    if(A.empty() || A.size() == 1) return 0;\n    if(top == 'X' && A.size()%2 == 1 && A.back() == 1) return 1;\n    if(top == 'O' && A.size()%2 == 0 && A.back() == 1) return 1;\n  };\n  if(!ok()) return 0;\n  auto dec = [&](Int i){A[i]--; ifErase(A, i);};\n  A.pop_back(), dec(A.size()-1);\n  return 1;\n}\n\n\nvoid update(deque<Int> &A,char &top){\n  \n  if(A.empty()) return;\n  Int type = getType(A,top);\n\n  auto dec = [&](Int i){\n    if(--A[i] == 0 && type != 0) top = top == 'O'? 'X':'O';\n    ifErase(A, i);\n  };\n    \n  \n  top = top == 'O'? 'X':'O';\n  if(type == 0) A.push_front(1), dec(1);\n  if(type == 1) return;\n  if(type == 2) dec(0), A.back()++;\n  if(type == 3) dec(0), A.back()++;\n  if(type == 4) dec(0), A.push_back(1);\n  if(type == 5) assert(0);\n}\n\nsigned main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(0);\n  cout << fixed << setprecision(12);\n\n  Int n, K;\n  cin >>n >> K;\n  string s;\n  cin>>s;\n  for(char &ch:s) ch = ch == 'A'? 'X':'O';\n  string ofset;\n  deque<Int> A = compless(s);\n  char top = s[0];\n  Int cnt = min(K, 1000000LL);\n  K -= cnt;\n  while(cnt--) {\n    while(eraseOX(A,top)) ofset += \"BA\";\n    update(A,top);\n  }\n  \n  \n  string ans = restore(A, top) + ofset;\n  if(A.size() && K%2) ans[0] = ans[0] == 'A'? 'B':'A';\n  cout<<ans<<endl;\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define eb emplece_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n#define int2(x, y) int x, y; scanf(\"%lld %lld\", &x, &y);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nvoid run(string &a);\n\nsigned main()\n{\n    int2(n, k);\n    string str;\n    cin >> str;\n    map<string, int> foo;\n\n    int i = 0;\n    while (foo.find(str) != foo.end()) {\n        foo.insert(mp(str, i++));\n        run(str);\n    }\n    int cyc = i - foo.find(str)->second + 1;\n    k -= i; k %= cyc;\n    rep(j, k) {\n        run(str);\n    }\n    cout << str << endl;\n\n    return 0;\n}\n\nvoid run(string &a)\n{\n    int ptr = 0, dist = 1;\n    while (0 <= ptr && ptr < a.size()) {\n        if (a[ptr] == 'A') {\n            a[ptr] = 'B';\n            dist *= -1;\n            ptr += dist;\n        } else {\n            a[ptr] = 'A';\n            ptr += dist;\n        }\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// Template {{{\n#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<(int)(n); ++i)\nusing namespace std;\ntypedef long long LL;\n\n#ifdef LOCAL\n#include \"contest.h\"\n#else\n#define error(args...) \n#endif\n\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\ninline bool valid(int x, int w) { return 0 <= x && x < w; }\n\nvoid iostream_init() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout.setf(ios::fixed);\n    cout.precision(12);\n}\n//}}}\nstring slow(string s) {\n    int i = 0;\n    int d = 1;\n    LL count = 0;\n    while(i >= 0 && i < s.size()) {\n        count++;\n        if(s[i] == 'A') {\n            s[i] = 'B';\n            d *= -1;\n        } else {\n            s[i] = 'A';\n        }\n        i += d;\n    }\n    error(count);\n    return s;\n}\nstring solve(string s, int K) {\n    int N = s.size();\n    vector<int> state(N);\n    REP(i, N) state[i] = (s[i] == 'B' ? 1 : 0);\n    int i = 0;\n    int b = 0;\n    REP(_, K) {\n        if(state[i] ^ b) { // B\n            i = (i == N-1 ? 0 : i+1);\n            b ^= 1;\n        } else {\n            state[i] ^= 1;\n        }\n    }\n    string res;\n    for(int d = 0; d < N; d++) {\n        int idx = (i + d) % N;\n        res += (state[idx] ^ b ? \"B\" : \"A\");\n    }\n    return res;\n}\nint main(){\n    iostream_init();\n    int N, K;\n    cin >> N >> K;\n    string s;\n    cin >> s;\n    const int MAX_ITER = 1e9 + 10;\n    if(K > MAX_ITER) {\n        cout << ((K - MAX_ITER) % 2 == 0 ? solve(s, MAX_ITER) : solve(s, MAX_ITER-1)) << endl;\n    } else {\n        cout << solve(s, K) << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing lint = long long int;\nusing pint = pair<int, int>;\nusing plint = pair<lint, lint>;\nstruct fast_ios { fast_ios(){ cin.tie(0); ios::sync_with_stdio(false); cout << fixed << setprecision(20); }; } fast_ios_;\n#define FOR(i, begin, end) for(int i=(begin),i##_end_=(end);i<i##_end_;i++)\n#define IFOR(i, begin, end) for(int i=(end)-1,i##_begin_=(begin);i>=i##_begin_;i--)\n#define REP(i, n) FOR(i,0,n)\n#define IREP(i, n) IFOR(i,0,n)\ntemplate<typename T> istream& operator>>(istream &is, vector<T> &vec){ for (auto &v : vec) is >> v; return is; }\ntemplate<typename T> ostream& operator<<(ostream &os, vector<T> &vec){ os << \"[\"; for (auto v : vec) os << v << \",\"; os << \"]\"; return os; }\ntemplate<typename T> ostream& operator<<(ostream &os, set<T> &vec){ os << \"{\"; for (auto v : vec) os << v << \",\"; os << \"}\"; return os; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream &os, pair<T1, T2> &pa){ os << \"(\" << pa.first << \",\" << pa.second << \")\"; return os; }\ntemplate<typename TK, typename TV> ostream& operator<<(ostream &os, map<TK, TV> &mp){ os << \"{\"; for (auto v : mp) os << v.first << \"=>\" << v.second << \",\"; os << \"}\"; return os; }\n#define dbg(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \") \" << __FILE__ << endl;\n\nconstexpr int Nmax = 200000;\n\nint main()\n{\n    int N, K;\n    cin >> N >> K;\n    string s;\n    cin >> s;\n\n    bitset<Nmax> st(0);\n    REP(i, N) if (s[i] == 'B') st.set(i);\n\n    int now = 0;\n    bool inv = false;\n    REP(_, K)\n    {\n        if (st[now] ^ inv)\n        {\n            now++, inv = !inv;\n            if (now == N) now = 0;\n        }\n        else st[now] = !st[now];\n    }\n    REP(i, N) printf(\"%c\", st[(i + now) % N] ^ inv ? 'B' : 'A');\n    printf(\"\\n\");\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <stdio.h>\n#include <set>\n#include <vector>\n#include <map>\n#include <cmath>\n#include <algorithm>\n#include <memory.h>\n#include <string>\n#include <sstream>\n#include <cstdlib>\n#include <ctime>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n#define MP make_pair\n#define PB push_back\n#define FF first\n#define SS second\n\n#define FORN(i, n) for (int i = 0; i <  (int)(n); i++)\n#define FOR1(i, n) for (int i = 1; i <= (int)(n); i++)\n#define FORD(i, n) for (int i = (int)(n) - 1; i >= 0; i--)\n\n#define DEBUG(X) { cout << #X << \" = \" << (X) << endl; }\n#define PR0(A,n) { cout << #A << \" = \"; FORN(_,n) cout << A[_] << ' '; cout << endl; }\n\n#define MOD 1000000007\n#define INF 2000000000\n\nint GLL(LL& x) {\n    return scanf(\"%lld\", &x);\n}\n\nint GI(int& x) {\n    return scanf(\"%d\", &x);\n}\n\nvoid step(std::string& s) {\n    int n = s.size();\n\n    if (s[0] == 'A') {\n        s[0] = 'B';\n        return;\n    }\n    else {\n        s[0] = 'A';\n    }\n\n    int pos = 1; int dir = 1;\n\n    while (pos != 0 && pos != n) {\n        if (dir == 1) {\n            if (s[pos] == 'A') {\n                s[pos] = 'B';\n                dir = -1;\n            }\n            else {\n                s[pos] = 'A';\n                pos++;\n            }\n        }\n        else {\n            if (s[pos-1] == 'A') {\n                s[pos-1] = 'B';\n                dir = 1;\n            }\n            else {\n                s[pos] = 'A';\n                pos--;\n            }\n        }\n    }\n}\n\nchar flip(char c) {\n    if (c == 'A') return 'B';\n    else return 'A';\n}\n\nint n, k;\n\nstring s, res;\n\nint main() {\n    cin >> n >> k >> s;\n\n    int i = 0; bool flipped = false;\n\n    while (i < n-1 && k > 0) {\n        if ((s[i] == 'A' && !flipped) || (s[i] == 'B' && flipped)) {\n            s[i] = flip(s[i]);\n        }\n        else {\n            i++;\n            flipped = !flipped;\n        }\n        k--;\n    }\n\n    bool flipfirst = (k > 0 && k % 2 && n % 2);\n\n    for (int j = i; j < n; j++) {\n        res += (flipped ? flip(s[j]) : s[j]);\n    }\n\n    while (res.size() < n) {\n        res += flip(res[res.size()-1]);\n    }\n\n    if (flipfirst) {\n        res[0] = flip(res[0]);\n    }\n\n    cout << res << \"\\n\";\n\n//    FORN(i, 20) {\n//        cout << s << endl;\n//        step(s);\n//    }\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tint n, k; cin >> n >> k;\n\tif (n == 1) {\n\t\tchar c; cin >> c;\n\t\tif (k % 2 == 0) cout << c << endl;\n\t\telse cout << (c == 'A' ? 'B' : 'A') << endl;\n\t\treturn 0;\n\t}\n\tdeque<int> q;\n\tfor (int i = 0; i < n; ++i) {\n\t\tchar c; cin >> c;\n\t\tq.push_back(c == 'A' ? 0 : 1);\n\t}\n\tint inv = 0, diff = 0;\n\tfor (int i = 0; i + 1 < n; ++i) if (q[i] != q[i + 1]) ++diff;\n\twhile (k > 0 && !(diff == n - 1 && (n % 2 == 1 || (q[0] ^ inv) == 1))) {\n\t\tint x = q.front() ^ inv;\n\t\tif (x == 0) {\n\t\t\tif (q[0] != q[1]) --diff;\n\t\t\tq.front() = 1 ^ inv;\n\t\t\tif (q[0] != q[1]) ++diff;\n\t\t} else {\n\t\t\tif (q[0] != q[1]) --diff;\n\t\t\tq.pop_front();\n\t\t\tinv ^= 1;\n\t\t\tif (inv != q.back()) ++diff;\n\t\t\tq.push_back(inv);\n\t\t}\n\t\t--k;\n\t}\n\tfor (int i = 0; i < n; ++i) q[i] ^= inv;\n\tinv = 0;\n\tif (q[0] == 0) {\n\t\tif (k % 2 == 1) q[0] ^= 1;\n\t}\n\t//cout << k << endl;\n\tfor (int i = 0; i < n; ++i) cout << ((q[i] ^ inv) == 0 ? 'A' : 'B');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <deque>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n \n#define FOR(i,k,n) for (int (i)=(k); (i)<(n); ++(i))\n#define rep(i,n) FOR(i,0,n)\n#define all(v) begin(v), end(v)\n#define debug(x) cerr<< #x <<\": \"<<x<<endl\n#define debug2(x,y) cerr<< #x <<\": \"<< x <<\", \"<< #y <<\": \"<< y <<endl\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vector<ll> > vvll;\ntypedef deque<bool> db;\ntemplate<class T> using vv=vector<vector< T > >;\n\nint n, k;\nstring s;\nint cnt;\n\ndeque<int> ar;\nbool top_is_a;\nvoid print_ans() {\n  int ab = (top_is_a) ? 0 : 1;\n  int m = (int)ar.size();\n  rep (i, m) {\n    char c = 'A' + ((i + ab) % 2);\n    rep (j, ar[i]) {\n      printf(\"%c\", c);\n    }\n  }\n  printf(\"\\n\");\n  exit(0);\n}\n\nvoid manipulate() {\n  if (top_is_a) {\n    if (ar[0] > 1) {\n      ar[0] -= 1;\n      ar.push_front(1);\n    } else {\n      ar.pop_front();\n      ar[0] += 1;\n    }\n    top_is_a = false;\n  } else {\n    if ((int)ar.size() % 2 == 1) { // tail is 'B'\n      if (ar[0] > 1) {\n        ar[0] -= 1;\n        ar.back() += 1;\n        top_is_a = true;\n      } else {\n        ar.pop_front();\n        ar.back() += 1;\n      }\n      return;\n    }\n    if (ar[0] > 1) {\n      ar[0] -= 1;\n      ar.push_back(1);\n      top_is_a = true;\n    } else {\n      ar.pop_front();\n      ar.push_back(1);\n    }\n  }\n}\n\nint main() {\n  cin >> n >> k;\n  cin >> s;\n  {\n    int ind = 0;\n    rep (i, n) {\n      if (s[i] != s[ind]) {\n        ar.push_back(i - ind);\n        ind = i;\n      }\n    }\n    ar.push_back(n - ind);\n  }\n  top_is_a = (s[0] == 'A');\n  cnt = 0;\n  while (cnt < k) {\n    if (n % 2 == 0) {\n      if ((!top_is_a) && (int)ar.size() == n) {\n        print_ans();\n      }\n    } else {\n      if (top_is_a && (int)ar.size() == n) {\n        if ((k - cnt) % 2 == 1) {\n          manipulate();\n        }\n        print_ans();\n      }\n    }\n\n    cnt += 1;\n    manipulate();\n  }\n  print_ans();\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\n#include <random>\n#include <fstream>\nusing namespace std;\n\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define pb push_back\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<int, ll> i_ll;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int v; ll w; };\n\nconst int MOD = 1000000007;\nconst int _MOD = 1000000009;\ndouble EPS = 1e-10;\nconst int INF = INT_MAX / 2;\n\nint main() {\n\tint N, K; cin >> N >> K;\n\tstring s; cin >> s;\n\trep(i, N) if ((N - 1 - i) % 2) s[i] = 'A' + 'B' - s[i];\n\tint l = 0, k = 0;\n\twhile (k < K) {\n\t\tchar c = s[l];\n\t\tif ((N - 1) % 2) c = 'A' + 'B' - c;\n\t\tif (c == 'A') s[l] = 'A' + 'B' - s[l];\n\t\telse l++;\n\t\tk++;\n\t\tif (l == N) break;\n\t}\n\tstring t = s.substr(l) + string(l, 'A');\n\tif (N % 2 && (K - k) % 2) t[0] = 'A' + 'B' - t[0];\n\trep(i, N) if ((N - 1 - i) % 2) t[i] = 'A' + 'B' - t[i];\n\tcout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 2E5 + 10;\n\nchar s[MAXN];\n\nint main(){\n\tint n, K;\n\tscanf(\"%d%d\", &n, &K);\n\tscanf(\"%s\", s);\n\tint l = 0;\n\tfor (; K && l < n; ++l, --K)\n\t\tif ((s[l] ^ l) & 1){\n\t\t\ts[l] ^= 3;\n\t\t\tif (!--K)\n\t\t\t\tbreak;\n\t\t}\n\trotate(s, s + l % n, s + n);\n\tif (l & 1)\n\t\ttransform(s, s + n, s, [](int x){return x ^ 3;});\n\tif (n & K & 1)\n\t\ts[0] ^= 3;\n\tputs(s);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <set>\n#include <string>\n#include <cstring>\n#include <queue>\n#include <ctime>\n#include <cassert>\n#include <cstdio>\n#include <algorithm>\n#include <unordered_set>\n#include <unordered_map>\n#include <bitset>\n#include <random>\n\nusing namespace std;\n\n#define F first\n#define S second\n#define mp make_pair\n#define pb push_back\n#define epr(...) fprintf(stderr, __VA_ARGS__)\n#define db(x) cerr << #x << \" = \" << x << endl\n#define db2(x, y) cerr << \"(\" << #x << \", \" << #y << \") = (\" << x << \", \" << y << \")\\n\"; \n#define db3(x, y, z) cerr << \"(\" << #x << \", \" << #y << \", \" << #z << \") = (\" << x << \", \" << y << \", \" << z << \")\\n\"\n#define all(a) (a).begin(), (a).end()\n#define sz(a) (int)a.size()\n#define pw(n) (1ll << (n))\n\n#define equal equalll\n#define less lesss\nconst int N = -1;\nconst long long INF = 1e9 + 19;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int,int> pi;\n\n\nchar change(char ch) {\n    if (ch == 'A') return 'B';\n    if (ch == 'B') return 'A';\n    assert(false);\n}\n\nstring go(string s) {\n    int n = s.size();\n    int pos = 0;\n    int dir = 1; \n    for (int it = 0;; it++) {\n        //db3(s, pos, dir);\n        if (pos == -1) break;\n        if (pos == n) break;\n        if (s[pos] == 'A') {\n            s[pos] = change(s[pos]);\n            pos -= dir;\n            dir *= -1;\n        }\n        else if (s[pos] == 'B') {\n            s[pos] = change(s[pos]); \n            pos += dir;\n        }\n        //db2(pos, dir);\n    }\n    return s;\n}\n\n\nint n, k;\nstring s;\n\nvoid read() {\n    cin >> n >> k;\n    cin >> s;\n}\n\nstring solve() {\n    vector<int> pos; \n    for (int i = 0; i + 1 < n; i++) {\n        if (s[i] == 'B' && s[i + 1] == 'A') {\n            pos.pb(i);\n        }\n    }\n    pos.pb(n);\n    int prev = 0;    \n    vector<int> seg;\n    //db(pos.size());\n    for (int i = 0; i < (int)pos.size(); i++) {\n        int cur = prev;\n        for (;cur < pos[i] && s[cur] == 'A'; cur++);\n        seg.pb(cur - prev); \n        prev = cur;\n        for (; cur < pos[i] && s[cur] == 'B'; cur++);\n        seg.pb(cur - prev);\n        prev = pos[i] + 2;\n    }\n    int type = 0;\n    reverse(all(seg)); \n\n    //for (auto x: seg)\n        //db(x);\n    //cerr << endl;\n\n    for (; k > 0 && !seg.empty();) {\n        k--;\n        if (type == 0 && seg.back() == 0) {\n            seg.pop_back();\n            type = 2;\n        }\n\n        //db2(type, seg.size());\n        //for (auto x: seg)\n            //cerr << x << \" \";\n        //cerr << endl;\n        if (type == 0) {\n            if (seg.back() >= 2) {\n                seg.back() -= 2;\n                type = 1;\n            }  \n            else {\n                if (seg.back() == 1) {\n                    seg.pop_back(); \n                    //assert(!seg.empty());\n                    if (seg.empty()) {\n                        seg.pb(1);\n                        if (k % 2 == 0) {\n                            type = 2;\n                            //db(\"SSSSSSSSSSSSS\");\n                        }\n                        else\n                            type = 0;\n                        db(\"!!!!!\");\n                        break;\n                    }\n                    else {\n                        seg.back()++;\n                    }\n                    type = 2;\n                }\n                assert(!seg.empty());\n            }\n        }\n        else if (type == 1) {\n            type++;\n        }\n        else if (type == 2) {\n            type = 0;\n        }\n    }\n    //db(seg.size());\n\n    string res;\n    for (; !seg.empty(); ) {\n        if (type == 1) {\n            res += \"BA\";\n            type = 0;\n        }\n        else if (type == 0) {\n            for (int i = 0; i < (int)seg.back(); i++) {\n                res += \"A\";\n            }\n            seg.pop_back();\n            type = 2;\n        }\n        else if (type == 2) {\n            for (int i = 0; i < (int)seg.back(); i++) {\n                res += \"B\";\n            }\n            seg.pop_back();\n            type = 1;\n        }\n    }\n    assert((n - (int)res.size()) % 2 == 0);\n    for (;(int)res.size() < n; )\n        res += \"BA\";\n\n    return res;\n}\n\nvoid genTest() {\n    n = rand() % 5 + 1;\n    k = rand() % 20 + 1;\n    s.clear();\n    for (int i = 0; i < n; i++)\n        s += 'A' + rand() % 2;\n}\n\nstring stupid() {\n    string t = s;\n    for (int i = 0; i < k; i++) {\n        t = go(t);\n    }\n    return t;\n}\n\nvoid stress() {\n    for (int tt = 0; ; tt++) {\n        cerr << \"-------------------------\" << endl;\n        db(tt);\n        genTest();\n        db2(n, k);\n        db(s);\n        auto r2 = stupid();\n        auto r1 = solve();\n        db2(r1, r2);\n        assert(r1 == r2);\n    }\n}\n\n\nint main(){\n#ifdef HOME \n    freopen(\"in\", \"r\", stdin);\n#endif\n    if (1) {\n        read();\n        //cout << stupid() << endl;\n        cout << solve() << endl;\n    }\n    else {\n        stress();\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nchar s[401000];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tint h = 1, t = 0;\n\tif(n == 1) t = k & 1;\n\telse\n\t\twhile(k--)\n\t\t{\n\t\t\tif(h > n) break;\n\t\t\tif(t) s[h] = s[h] == 'A' ? 'B' : 'A';\n\t\t\tif(s[h] == 'B')\n\t\t\t{\n\t\t\t\tt ^= 1;\n\t\t\t\tif(t == 1) s[n + h] = 'B';\n\t\t\t\telse s[n + h] = 'A';\n\t\t\t\th++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(t == 1) s[h] = 'A';\n\t\t\t\telse s[h] = 'B';\n\t\t\t}\n\t\t}\n\tif(t)\n\t{\n\t\tfor(int i = h; i < h + n; i++)\n\t\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t}\n\tprintf(\"%s\\n\", s + h);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\ntypedef vector<pint>vpint;\n#define pb push_back\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n#define each(it,v) for(__typeof((v).begin()) it=(v).begin();it!=(v).end();it++)\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n\nint N,K;\nsigned main(){\n    cin>>N>>K;\n    string S;cin>>S;\n    deque<int>d(N);\n    rep(i,N)d[i]=S[i]=='B';\n\n    bool rev=false;\n    for(int i=0;i<555555&&K;i++,K--){\n        if((d[0]^rev)==0){\n            d[0]^=1;\n            continue;\n        }\n        d.pop_front();\n        rev^=1;\n        d.push_back(rev);\n    }\n    \n    K%=2;\n    if(K){\n            if((d[0]^rev)==0){\n            d[0]^=1;\n        }\n        else{\n        d.pop_front();\n        rev^=1;\n        d.push_back(rev);\n        }\n    }\n\n    rep(i,N){\n        if((d[i]^rev)==0)printf(\"A\");\n        else printf(\"B\");\n    }\n    puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define FZ(n) memset((n),0,sizeof(n))\n#define FMO(n) memset((n),-1,sizeof(n))\n#define MC(n,m) memcpy((n),(m),sizeof(n))\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\n#define ALL(x) begin(x),end(x)\n#define IOS do { ios_base::sync_with_stdio(0);cin.tie(0); } while (0)\n#define SZ(x) ((int)(x).size())\n#ifndef OFFLINE\n    #define ONLINE_JUDGE\n#endif\n#ifdef ONLINE_JUDGE\n#define FILEIO(name) \\\n    do { \\\n        freopen(name\".in\", \"r\", stdin); \\\n        freopen(name\".out\", \"w\", stdout); \\\n    } while (0)\n#else\n    #define FILEIO(name) do { } while(0)\n#endif\n\n#define _TOKEN_CAT2(x, y) x ## y\n#define _TOKEN_CAT(x, y) _TOKEN_CAT2(x, y)\n#define _MACRO_OVERL3(_1, _2, _3, _N, ...) _N\n#define _RANGE1(a) int _TOKEN_CAT(_t, __LINE__)=0; _TOKEN_CAT(_t, __LINE__)<(a); (_TOKEN_CAT(_t, __LINE__))++\n#define _RANGE2(i, a) int (i)=0; (i)<(a); (i)++\n#define _RANGE3(i, a, b) int (i)=(a); (i)!=(b); (i)+=((b)>(a)?1:-1)\n#define loop(...) for (_MACRO_OVERL3(__VA_ARGS__, _RANGE3, _RANGE2, _RANGE1)(__VA_ARGS__))\n\n#ifdef OFFLINE\ntemplate<typename T>\nvoid _dump(const char* s, T&& head) { \n    cerr << s << \" = \" << head << \" <<\" << endl; \n}\n\ntemplate<typename T, typename... Args>\nvoid _dump(const char* s, T&& head, Args&&... tail) {\n    int c = 0;\n    while (*s!=',' || c!=0) {\n        if (*s=='(' || *s=='[' || *s=='{' || *s=='<') c++;\n        if (*s==')' || *s==']' || *s=='}' || *s=='>') c--;\n        cerr << *s++;\n    }\n    cerr << \" = \" << head << \", \";\n    _dump(s+1, tail...);\n}\n\n#define dump(...) do { \\\n    cerr << \"\\033[32m>> \" << __LINE__ << \": \" << __PRETTY_FUNCTION__ << endl; \\\n    cout << \"   \"; \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n    cout << \"\\033[0m\"; \\\n} while (0)\n#else\n#define dump(...) \n#endif\n\n#define au auto\ntemplate<class T>\nusing vec = vector<T>;\n\ntemplate<typename Iter>\nostream& _IterOutput_(ostream &o, Iter b, Iter e, const string ss=\"\", const string se=\"\") {\n    o << ss;\n    for (auto it=b; it!=e; it++) o << (it==b ? \"\" : \", \") << *it;\n    return o << se;\n}\n\ntemplate<typename T1, typename T2>\nostream& operator << (ostream &o, const pair<T1, T2> &pair) {\n    return o << \"(\" << pair.F << \", \" << pair.S << \")\";\n}\n\ntemplate<typename T>\nostream& operator << (ostream &o, const vector<T> &vec) {\n    return _IterOutput_(o, ALL(vec), \"[\", \"]\");\n}\n\ntemplate<typename T>\nostream& operator << (ostream &o, const set<T> &st) {\n    return _IterOutput_(o, ALL(st), \"{\", \"}\");\n}\n\ntemplate<typename T, size_t N>\nostream& operator << (ostream &o, const array<T, N> &arr) {\n    return _IterOutput_(o, ALL(arr), \"|\", \"|\");\n}\n\ntemplate<typename T1, typename T2>\nostream& operator << (ostream &o, const map<T1, T2> &mp) {\n    o << \"{\";\n    for (auto it=mp.begin(); it!=mp.end(); it++) {\n        o << (it==mp.begin()?\"\":\", \") << it->F << \":\" << it->S;\n    }\n    o << \"}\";\n    return o;\n}\n\nvoid lucky_test() {\n    std::random_device rd;\n    std::mt19937 gen_(rd());\n    std::normal_distribution<double> dist_(0.0, 1.0);\n\n    if (dist_(gen_) >= 4.44444444) {\n        cout << \"Not lucky\" << endl;\n        exit(0);\n    }\n}\n\nint N, K;\nstring S;\n\nvoid walk() {\n    int id = 0, pos = 1;\n    int ret = 0;\n    while (true) {\n        if (S[id] == 'A') {\n            pos = -pos;\n        }\n        if (S[id] == 'A') S[id] = 'B';\n        else S[id] = 'A';\n\n        id += pos;\n        if (id == -1 || id == N) break;\n        ret++;\n    }\n}\n\nint32_t main() {\n    IOS;\n    cin >> N >> K >> S;\n\n    if (S[N-1] == 'B') {\n        walk();\n        K--;\n    }\n\n    if (!K) {\n        cout << S << endl;\n        return 0;\n    }\n\n    deque<int> pos;\n    for (int i=0; i<N-1; i++) {\n        if (S[i] != S[i+1]) pos.PB(i);\n    }\n\n    int shift = 0;\n\n    while (K) {\n        int m = SZ(pos) + shift;\n        if (m&1) {\n            int t = pos.front() - shift;\n            if (!t) pos.pop_front();\n            shift++;\n        } else {\n            int t = pos.front() - shift;\n            if (t == 0) pos.pop_front();\n            else {\n                pos.push_front(shift);\n            }\n        }\n        K--;\n        if (shift >= N) break;\n    }\n\n\n    //cout << shift << endl;\n    //cout << K << endl;\n    //for (auto x: pos) cout << x << ' ';\n    //cout << endl;\n\n    char now = 'A', nx = 'B';\n    if (shift >= N) {\n        if (N%2==0) swap(now, nx);\n        if (K%2 and N%2) {\n            for (int i=0; i<N; i++) {\n                if (!i) cout << nx;\n                else cout << now;\n                swap(now, nx);\n            }\n        } else {\n            for (int i=0; i<N; i++) {\n                cout << now;\n                swap(now, nx);\n            }\n        }\n        return 0;\n    }\n\n    if ((shift + SZ(pos)) % 2) swap(now, nx);\n\n    int ls = 0;\n    for (auto x: pos) {\n        for (int i=ls; i<=x-shift; i++) {\n            cout << now;\n        }\n        ls = x-shift+1;\n        swap(now, nx);\n    }\n\n    for (int i=ls; i<=N-1-shift; i++) {\n        cout << now;\n    }\n    swap(now, nx);\n\n    for (int i=0; i<shift; i++) {\n        cout << now;\n        swap(now, nx);\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nconst int N=2e5+5; \n\nint n,k,p; char s[N];\nstd::deque<int> q;\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1); int i;\n\tfor (i=1; i<=n; i++) q.push_back(s[i]=='A'?1:0);\n\twhile (k--)\n\t\tif (q.front()^p) q.pop_front(),q.push_front(p);\n\t\telse q.push_back(p),q.pop_front(),p^=1;\n\twhile (!q.empty()) putchar((q.front()^p)?'A':'B'),q.pop_front();\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\n\nusing namespace std;\n\nusing int64 = long long;\nbool bit[200001];\n\nint main() {\n  int N, K;\n  cin >> N >> K;\n  string S;\n  cin >> S;\n\n  for(int i = 0; i < N; i++) bit[i] = S[i] == 'A';\n\n  int last = N;\n  while(K--) {\n    while(last >= 2 && bit[last - 1] && !bit[last - 2]) {\n      last -= 2;\n    }\n    if(bit[0]) {\n      bit[0] = false;\n    } else {\n      for(int i = 0; i < last; i++) bit[i] = !bit[i + 1];\n    }\n  }\n\n  for(int i = 0; i < N; i++) cout << \"BA\"[bit[i]];\n  cout << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define MAXN (200010)\n\nint n, k, nowA;\nchar str[MAXN];\nstd::deque<int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, str);\n\tfor(int i = 0; i < n; ++ i){\n\t\tdq.push_back(str[i] - 'A');\n\t}\n\tif(k > (n << 1)){\n\t\tk = (n << 1) + (k & 1);\n\t}\n\tfor(int i = 1; i <= k; ++ i){\n\t\tif(dq.front() == nowA){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(nowA ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tnowA ^= 1;\n\t\t\tdq.push_back(nowA);\n\t\t}\n\t}\n\tfor(int v : dq){\n\t    putchar(v == nowA ? 'A' : 'B');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[400005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n    Read();\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define rep(i,x,y) for(int i=(x);i<=(y);++i)\n#define per(i,x,y) for(int i=(x);i>=(y);--i)\nconst int N=4e5+10;\ninline bool vaild(char c){return c>='A'&&c<='B';}\ninline char gc(){char c=getchar();while(!vaild(c))c=getchar();return c;}\nint n,k,a[N],st=1,flag;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\trep(i,1,n)a[i]=gc()-'A';\n\tint i;\n\tfor(i=1;i<=k&&st<=n;++i){\n\t\tif((a[st]^flag)==0)a[st]^=1;\n\t\telse{\n\t\t\ta[n+st]=!flag;++st;\n\t\t\tflag^=1;\n\t\t}\n\t}--i;\n\tif((a[st]^flag))rep(i,st,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\telse{\n\t\tif((k-i)&1)putchar('B');else putchar('A');\n\t\trep(i,st+1,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#define rep(i,j,k) for (i=j;i<=k;i++)\nusing namespace std;\nconst int N=2e5+5;\nint n,k,i,j,p,rev,a[N];\nchar s[N];\nvoid trans(int x) { if (x) putchar('A'); else putchar('B'); }\nint main()\n{\n\t//freopen(\"reflector.in\",\"r\",stdin);\n\t//freopen(\"reflector.out\",\"w\",stdout);\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\trep(i,1,n) if (s[i]=='A') a[i]=1; else a[i]=0;\n\tfor (j=p=1;j<=k && p<=n;j++) {\n\t\tif (a[p]^rev) {a[p]^=1; continue;}\n\t\trev^=1; p++;\n\t}\n\tif (j>k) {\n\t\trep(i,p,n) trans(a[i]^rev);\n\t\trep(i,n+1,n+p-1) trans((n+p-i)&1);\n\t}\n\telse {\n\t\tif (n&1) {\n\t\t\ttrans((k-j+1)&1);\n\t\t\trep(i,2,n) trans(i&1);\n\t\t}\n\t\telse rep(i,1,n) trans((i+1)&1);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define X first\n#define Y second\n#define mp make_pair\nusing namespace std;\ntypedef pair<int,int> PII;\ntypedef long long ll;\nconst int N = 200010;\nbitset<N> s,tmp;\nchar S[N];\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",S);\n\n\tfor(int i=0;i<n;i++){\n\t\tif(S[i]=='A') s.set(i);\n\t}\n\tint i,j,t;\n\tfor(i = 0,j = 0,t = 0;i<k && j<n;i++){\n\t\t\t//if((j&1) && t==0) s.flip(j),t^=1;\n\t\t\tif(s[j]==0){\n\t\t\t\tj++;\n\t\t\t\tif(j<n && (j&1)) s.flip(j);\n\t\t\t\tt=0;\n\t\t\t} else{\n\t\t\t\ts.flip(j);\n\t\t\t}\n\t}\n\t//cout<<s<<endl;\n\ttmp = s;\n\ts.reset();\n\tif(j<n) s[0]=tmp[j]; else {\n\t\tif((n&1) && ((k-i)%2)==0) s.set(0);\n\t}\n\tfor(int i=j+1;i<n;i++){\n\t\tif((j&1)^(tmp[i]==1)) s.set(i-j);\n\t}\n\t//cout<<s<<endl;\n\tfor(int i=max(n,j+1);i<j+n;i++){\n\t\tif((n&1)^((i-j)&1)) s.set(i-j);\n\t\t//if((n-i+j+1)&1) s.set(i-j);\n\t}\n\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\t--k;\n\t}\n\tif (k == 0) {\n\t\tcout << s;\n\t\treturn 0;\n\t}\n\tstring sol = s;\n\tint j = s.size()-1;\n\tint curs = 0;\n\tfor (; j >= 0 && k > 0; --j, --k) {\n\t\tsol[j] = curs + 'A';\n\t\tcurs ^= 1;\n\t}\n\t\n\tfor (int i = s.size()-1; j >= 0; --j, --i) {\n\t\tchar c = s[i];\n\t\tif (curs) c = 'A' + ((s[i]-'A')^1);\n\t\tsol[j] = c;\n\t}\n\tcout << sol;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cstdlib>\n#include <ctime>\n#define N 110000\nusing namespace std;\nint n,k,num,root;\nchar s[N];\nstruct node{\n\tint l,r,rnd,sz,flag,val;\n}tree[N*10];\ninline int newnode(){\n\ttree[++num].rnd=rand();\n\treturn num;\n}\ninline void update(int p){\n\ttree[p].sz=tree[tree[p].l].sz+tree[tree[p].r].sz+1;\n}\nvoid build(int &p,int l,int r){\n\tif(l>r) return ;\n\tp=newnode();\n\ttree[p].val=(s[l]=='A'?0:1);\n\ttree[p].sz=1;\n\tint mid=(l+r)/2;\n\tbuild(tree[p].l,l,mid-1);\n\tbuild(tree[p].r,mid+1,r);\n\tupdate(p);\n}\ninline void pushdown(int p){\n\tif(!tree[p].flag) return ;\n\ttree[tree[p].l].val^=1;\n\ttree[tree[p].r].val^=1;\n\ttree[tree[p].l].flag^=1;\n\ttree[tree[p].r].flag^=1;\n\ttree[p].flag=0;\n}\nvoid split(int now,int k,int &x,int &y){\n\tif(!now){x=y=0;return ;}\n//\tprintf(\"%d:%dssd\\n\",now,tree[now].val);\n\tpushdown(now);\n\tif(tree[tree[now].l].sz<k) x=now,split(tree[now].r,k-tree[tree[now].l].sz-1,tree[now].r,y);\n\telse y=now,split(tree[now].l,k,x,tree[now].l);\n\tupdate(now);\n}\nint merge(int a,int b){\n\tif(!a or !b) return a+b;\n\tpushdown(a);pushdown(b);\n\tif(tree[a].rnd<tree[b].rnd){\n\t\ttree[a].r=merge(tree[a].r,b);\n\t\tupdate(a);return a;\n\t}\n\telse{\n\t\ttree[b].l=merge(a,tree[b].l);\n\t\tupdate(b);return b;\n\t}\n}\nint qu(){\n\tint x1,y1;\n\tsplit(root,1,x1,y1);\n\tint yu=tree[x1].val;\n\troot=merge(x1,y1);\n\treturn yu;\n}\nvoid print(int p){\n\tif(!p) return ;\n\tprint(tree[p].l);\n\tprintf(\"%c\",(tree[p].val==0?'A':'B'));\n\tprint(tree[p].r);\n}\nint main(){\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tif(k<=3*n){\n\t\tbuild(root,1,n);\n\t\tfor(int i=1;i<=k;++i){\n\t\t\tif(qu()){\n\t\t\t\tint x1,y1;\n\t\t\t\ttree[root].val^=1;\n\t\t\t\ttree[root].flag^=1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\troot=merge(y1,x1);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tint x1,y1;\n\t\t\t\tsplit(root,1,x1,y1);\n\t\t\t\ttree[x1].val^=1;\n\t\t\t\troot=merge(x1,y1);\n\t\t\t}\n\t\t}\n\t\tprint(root);\n\t}\n\telse{\n\t\tif(n%2==0){\n\t\t\tfor(int i=1;i<=n;i+=2)\n\t\t\t\tprintf(\"BA\");\n\t\t}\n\t\telse{\n\t\t\tif(k%2==0){\n\t\t\t\tprintf(\"%c\",s[1]='A');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t\telse{\n\t\t\t\tprintf(\"BB\");\n\t\t\t\ts[2]='B';\n\t\t\t\tfor(int i=3;i<=n;++i)\n\t\t\t\t\tif(s[i-1]=='A') printf(\"%c\",s[i]='B');\n\t\t\t\t\telse printf(\"%c\",s[i]='A');\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MOD 1000000007\n#define INF (1LL << 25) // 33554432\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nsigned main(void) {\n  int n, k;\n  string s, t;\n  cin >> n >> k >> s;\n  bool b = false;\n  deque<char> d;\n  REP(i, n) d.push_back(s[i]);\n\n  REP(i, 2 * n + 1) {\n    if (!b) {\n      if (d[0] == 'A')\n        d[0] = 'B';\n      else {\n        d.pop_front();\n        d.push_back('B');\n        b = true;\n      }\n    } else {\n      if(d[0] == 'B') d[0] = 'A';\n      else {\n        d.pop_front();\n        d.push_back('A');\n        b = false;\n      }\n    }\n    if(i == k-1) {\n      for(char c: d) {\n        if(!b) t += c;\n        else {\n          if(c == 'A') t += 'B';\n          if(c == 'B') t += 'A';\n        }\n      }\n      cout << t << endl;\n      return 0;\n    }\n    if(i == 2*n-1) {\n      for(char c: d) {\n        if(!b) t += c;\n        else {\n          if(c == 'A') t += 'B';\n          if(c == 'B') t += 'A';\n        }\n      }\n    }\n  }\n  string r;\n  for(char c: d) {\n    if(!b) r += c;\n    else {\n      if(c == 'A') r += 'B';\n      if(c == 'B') r += 'A';\n    }\n  }\n  //周期1\n  if(t == r) {\n    cout << t << endl;\n    return 0;\n  //周期2\n  } else {\n    int tmp = k - 2*n + 1;\n    if(tmp%2) cout << t << endl;\n    else cout << r << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, finflip = false;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }\n        if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n        // if(i % 100000000 == 0){\n            // break;\n            // bool fin = true, prev = !ss[idx];\n            // for(int i=0;i<n;i++){\n            //     if(prev == ss[(idx + i) % n]){\n            //         fin = false;\n            //         break;\n            //     }else{\n            //         prev = !prev;\n            //     }\n            // }\n            // if(fin){\n                if(n % 2 && (k - i - 1) % 2){\n                    flip = !flip;\n                }\n                break;\n            // }\n        }\n    // for(int i=0;i<n-1;i++){\n    //     cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    // }\n    // cout << (finflip ^ flip ^ ss[(idx + n - 1) % n] ? 'A' : 'B');\n    // cout << '\\n';\n    }\n    for(int i=0;i<n-1;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << (finflip ^ flip ^ ss[(idx + n - 1) % n] ? 'A' : 'B');\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define mp make_pair\n#define sz(x) (int)(x).size()\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define ii pair<int,int>\n#define INF 1000000000\n#define INFLL 1000000000000000010ll\n#define UQ(x) (x).resize(distance((x).begin(),unique(all((x)))))\n#define mid(x,y) (((x)+(y))>>1)\nint n,k;\nchar s[200005];\nint h,flip=0;\ndeque<int> d;\nint get() {\n\treturn (h^flip);\n}\nvoid put(int x) {\n\th=x^flip;\n}\nvoid pad() {\n\tif (sz(d)%2) {\n\t\tif (get()==0) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t} else {\n\t\tif (get()==1) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t}\n}\nvoid output() {\n\tint sum=0;\n\tint let=get();\n\tfor (int i=0;i<sz(d);i++) {\n\t\tsum+=d[i];\n\t\tfor (int j=0;j<d[i];j++) {\n\t\t\tprintf(\"%c\", let?'B':'A');\n\t\t}\n\t\tlet^=1;\n\t}\n\tprintf(\"\\n\");\n\tassert(sum==n);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tif (n==1) {\n\t\tif (k%2) {\n\t\t\tif (s[0]=='A') printf(\"B\\n\");\n\t\t\telse printf(\"A\\n\");\n\t\t} else {\n\t\t\tif (s[0]=='A') printf(\"A\\n\");\n\t\t\telse printf(\"B\\n\");\n\t\t}\n\t\treturn 0;\n\t}\n\tif (k>800000) {\n\t\tfor (int i=0;i<n;i++) {\n\t\t\tprintf(\"%c\", (i%2)?'A':'B');\n\t\t}\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tint cur=1;\n\tchar v=s[0];\n\tfor (int i=1;i<n;i++) {\n\t\tif (s[i]==v) cur++;\n\t\telse {\n\t\t\td.pb(cur);\n\t\t\tcur=1;\n\t\t\tv=s[i];\n\t\t}\n\t}\n\td.pb(cur);\n\th=(s[0]=='B');\n\tfor (int kk=0;kk<k;kk++) {\n\t\tif (get()==0) {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(1);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\t++d[0];\n\t\t\t\t\tput(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\td.push_front(1);\n\t\t\t\tput(1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(0);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\tput(0);\n\t\t\t\t\tflip^=1;\n\t\t\t\t\tpad();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\tflip^=1;\n\t\t\t\tpad();\n\t\t\t}\n\t\t}\n\t}\n\toutput();\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n \ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double lf;\ntypedef long double llf;\ntypedef std::pair<int,int> pii;\n \n#define xx first\n#define yy second\n \ntemplate<typename T> inline T max(T a,T b){return a>b?a:b;}\ntemplate<typename T> inline T min(T a,T b){return a<b?a:b;}\ntemplate<typename T> inline T abs(T a){return a>0?a:-a;}\ntemplate<typename T> inline bool repr(T &a,T b){return a<b?a=b,1:0;}\ntemplate<typename T> inline bool repl(T &a,T b){return a>b?a=b,1:0;}\ntemplate<typename T> inline T gcd(T a,T b){T t;if(a<b){while(a){t=a;a=b%a;b=t;}return b;}else{while(b){t=b;b=a%b;a=t;}return a;}}\ntemplate<typename T> inline T sqr(T x){return x*x;}\n#define mp(a,b) std::make_pair(a,b)\n#define pb push_back\n#define I inline\n#define mset(a,b) memset(a,b,sizeof(a))\n#define mcpy(a,b) memcpy(a,b,sizeof(a))\n \n#define fo0(i,n) for(int i=0,i##end=n;i<i##end;i++)\n#define fo1(i,n) for(int i=1,i##end=n;i<=i##end;i++)\n#define fo(i,a,b) for(int i=a,i##end=b;i<=i##end;i++)\n#define fd0(i,n) for(int i=(n)-1;~i;i--)\n#define fd1(i,n) for(int i=n;i;i--)\n#define fd(i,a,b) for(int i=a,i##end=b;i>=i##end;i--)\n#define foe(i,x)for(__typeof(x.end())i=x.begin();i!=x.end();++i)\n \nstruct Cg{I char operator()(){return getchar();}};\nstruct Cp{I void operator()(char x){putchar(x);}};\n#define OP operator\n#define RT return *this;\n#define RX x=0;char t=P();while((t<'0'||t>'9')&&t!='-')t=P();bool f=0;\\\nif(t=='-')t=P(),f=1;x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define RL if(t=='.'){lf u=0.1;for(t=P();t>='0'&&t<='9';t=P(),u*=0.1)x+=u*(t-'0');}if(f)x=-x\n#define RU x=0;char t=P();while(t<'0'||t>'9')t=P();x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define TR *this,x;return x;\nI bool IS(char x){return x==10||x==13||x==' ';}template<typename T>struct Fr{T P;I Fr&OP,(int &x)\n{RX;if(f)x=-x;RT}I OP int(){int x;TR}I Fr&OP,(ll &x){RX;if(f)x=-x;RT}I OP ll(){ll x;TR}I Fr&OP,(char &x)\n{for(x=P();IS(x);x=P());RT}I OP char(){char x;TR}I Fr&OP,(char *x){char t=P();for(;IS(t);t=P());if(~t){for(;!IS\n(t)&&~t;t=P())*x++=t;}*x++=0;RT}I Fr&OP,(lf &x){RX;RL;RT}I OP lf(){lf x;TR}I Fr&OP,(llf &x){RX;RL;RT}I OP llf()\n{llf x;TR}I Fr&OP,(uint &x){RU;RT}I OP uint(){uint x;TR}I Fr&OP,(ull &x){RU;RT}I OP ull(){ull x;TR}};Fr<Cg>in;\n#define WI(S) if(x){if(x<0)P('-'),x=-x;char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\n#define WL if(y){lf t=0.5;for(int i=y;i--;)t*=0.1;if(x>=0)x+=t;else x-=t,P('-');*this,(ll)(abs(x));P('.');if(x<0)\\\nx=-x;while(y--){x*=10;x-=floor(x*0.1)*10;P(((int)x)%10+'0');}}else if(x>=0)*this,(ll)(x+0.5);else *this,(ll)(x-0.5);\n#define WU(S) if(x){char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\ntemplate<typename T>struct Fw{T P;I Fw&OP,(int x){WI(10);RT}I Fw&OP()(int x){WI(10);RT}I Fw&OP,(uint x){WU(10);RT}\nI Fw&OP()(uint x){WU(10);RT}I Fw&OP,(ll x){WI(19);RT}I Fw&OP()(ll x){WI(19);RT}I Fw&OP,(ull x){WU(20);RT}I Fw&OP()\n(ull x){WU(20);RT}I Fw&OP,(char x){P(x);RT}I Fw&OP()(char x){P(x);RT}I Fw&OP,(const char *x){while(*x)P(*x++);RT}\nI Fw&OP()(const char *x){while(*x)P(*x++);RT}I Fw&OP()(lf x,int y){WL;RT}I Fw&OP()(llf x,int y){WL;RT}};Fw<Cp>out;\n\nconst int N=200007;\n\nchar _s[N*2],*s=_s;\nint n,m;\n\nint main()\n{\n\tin,n,m,s;\n\tfo0(i,n)s[i]-='A';\n\t/*fo0(d,m)\n\t{\n\t\tfor(int i=0,j=1;i>=0&&i<n;)\n\t\t{\n\t\t\ts[i]^=1;\n\t\t\tif(!s[i])i+=j;\n\t\t\telse i+=-j,j=-j;\n\t\t}\n\t\tfo0(j,n)if(s[j]^(j&1)^1)goto naive;\n\t\tbreak;naive:;\n\t\tfo0(i,n)out,char(s[i]+'A');out,'\\n';\n\t}*/\n\tchar u=0;\n\tfo0(d,m)\n\t{\n\t\tif(!(s[0]^u))\n\t\t{\n\t\t\ts[0]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\ts[n]=s[0];\n\t\ts++;\n\t\tu^=1;\n\t\tif(d>=n+2)break;\n\t}\n\tfo0(i,n)out,char((s[i]^u)+'A');out,'\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <ctime>\n\n#define Rep(i, n) for (int i = 1; i <= n; i ++)\n#define Rep0(i, n) for (int i = 0; i <= n; i ++)\n#define RepG(i, x) for (int i = head[x]; i; i = edge[i].next)\n#define v edge[i].to\n#define mp(a, b) make_pair(a, b)\n\nusing namespace std;\n\nconst int N = 200010;\n\nchar s[N];\nint a[N];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\t\n\tRep(i, n) a[i] = (s[i] == 'A');\n\t\n\tbool flag = false;\n\tint i = 1;\n\t\n\twhile (i <= n) {\n\t\tif (!k) {\n\t\t\tfor (int j = i; j <= n; j ++){\n\t\t\t\tif ((!(i & 1)) ^ a[j]) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tRep(j, i - 1){\n\t\t\t\tif ((j & 1) ^ (i & 1)) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\tflag = true; break;\n\t\t}\n\t\tif (a[i] ^ (!(i & 1))) a[i] ^= 1;\n\t\telse i ++;\n\t\tk --;\n\t}\n\t\n\tif (!flag) {\n\t\tif (!(n & 1)) {\n\t\t\tRep(i, n){\n\t\t\t\tif (i & 1) printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tif (k & 1) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\t\tRep(i, n - 1){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<deque>\n#define maxn 200010\nusing namespace std;\nint read()\n{\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch-'0'<0||ch-'0'>9){if(ch=='-') f=-1;ch=getchar();}\n    while(ch-'0'>=0&&ch-'0'<=9){x=x*10+ch-'0';ch=getchar();}\n    return x*f;\n}\ndeque<int>d;\nint n,tag,K;\nchar s[maxn];\nint a[maxn];\nint main()\n{\n    n=read();K=read();\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++) a[i]=s[i]-'A';\n    if(K>2*n)  K=2*n+(K-2*n)%2;\n    for(int i=1;i<=n;i++)  d.push_back(a[i]);\n    while(K--)\n    {\n        if(!(d.front()^tag))\n        {\n            d.pop_front();\n            d.push_front(tag^1);\n        }\n        else{\n            d.pop_front();\n            tag^=1;\n            d.push_back(tag);            \n        }\n    }\n    while(d.size())\n    {\n        int now=(d.front()^tag);d.pop_front();\n        printf(\"%c\",(char)(now+'A'));\n    }\n    puts(\"\");\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    // chrono::steady_clock clk;\n    // auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<int> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, fflip = false;;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            // ss[idx] = !ss[idx];\n            ss[idx] ^= 1;\n        }else{\n            // flip = !flip;\n            flip ^= 1;\n            idx++;\n            if(idx == n){ idx = 0; }\n        }\n        // if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n        //     if(n % 2 && (k - i - 1) % 2){\n        //         fflip = true;\n        //     }\n        //     break;\n        // }\n    }\n    string buf;\n    buf.resize(n);\n    buf[0] = fflip ^ flip ^ ss[idx] ? 'A' : 'B';\n    for(int i=0;i<n;i++){\n        buf[i] = flip ^ ss[(idx + i) % n] ? 'A' : 'B';\n    }\n    cout << buf << '\\n';\n    // cout << (fflip ^ flip ^ ss[idx] ? 'A' : 'B');\n    // for(int i=1;i<n;i++){\n    //     cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    // }\n    // cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "/*\n找规律发现滚一次球后串变为取反后左移一位，末尾补位A\n大致原因就是\nA-> B 变成 A A->\nA-> A 变成 B A->\n开头和结尾也符合规律\n\n发现 2n 步必然会把初始的串给替换掉，串就变成了 ABABAB... 或者 BABABA... 的形式\n*/\n#include <bits/stdc++.h>\n#define rep(i, x, y) for (int i = x; i <= y; i++)\nusing namespace std;\n\nconst int N = 2e5 + 10;\ntypedef long long ll;\nint n, K, a[N];\nchar s[N];\n\nint main() {\n    cin >> n >> K;\n    scanf(\"%s\", s + 1);\n    rep(i, 1, n) a[i] = s[i] - 'A';\n    rep(i, 1, min(K, 2 * n)) {\n        if (a[1] == 0) {\n            a[1] = 1;\n        } else {\n            rep(j, 1, n - 1) a[j] = (a[j + 1] ^ 1);\n            a[n] = 0;\n        }\n        // rep(j, 1, n) printf(\"%d\", a[j]); puts(\"\");\n    }\n    if (2 * n < K) {\n        K -= 2 * n;\n        if (a[1] == '0') {\n            if (K & 1) a[1] = 1;\n        }\n    }\n    rep(i, 1, n) printf(\"%c\", a[i] + 'A'); puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tif (n == 1) {\n\t\tif ((k % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\telse { cout << 'B' << endl; }\n\t\treturn 0;\n\t}\n\tdeque<char> deq;\n\trep(i, n) {\n\t\tdeq.push_back(s[i]);\n\t}\n\tint loop = 0; bool trick = false;\n\twhile (loop <= n + 10 && k > 0) {\n\t\tloop++; 'A';\n\t\tchar c = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tdeq.push_front('B'); k--; continue;\n\t\t}\n\t\tif (k == 1) {\n\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t}\n\t\tc = deq.front(); deq.pop_front();\n\t\tif (c == 'A') { k++; }\n\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\tk -= 3;\n\t\tdeq.push_back('B');\n\t\tdeq.push_back('A');\n\t}\n\tif (k <= 0) {\n\t\twhile (!deq.empty()) {\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t}\n\t\tcout << endl;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\trep(i, n) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint x = k % 2;\n\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t\trep(i, n - 1) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\tcout << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<set>\n#include<bitset>\n#include<map>\n\n#define fo(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef double db;\ntypedef unsigned long long ull;\n\nconst int N = 200005;\nconst int p = 2;\nconst int mo = 998244353;\nconst int q = 499122177;\n\nint n,len,k;\nchar s[N*2];\nint a[N*4],tot;\nint nxt[N*4];\nint st[N*2],t[N*2];\nint ql,cir;\null mi[N];\nmap<ull,int>mp;\n\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfo(i,1,n)a[i]=s[i]-'A';\n\tfo(i,1,n-1)nxt[i]=i+1;\n\ttot=n;\n\tst[1]=1;t[1]=0;\n\tmi[0]=1;\n\tfo(i,1,n)mi[i]=mi[i-1]*p%mo;\n\tull now=0;\n\tfo(i,1,n)now=(now+mi[i-1]*a[i])%mo;\n\tint id=1;\n\tint he=1,ta=n,nt=0;\n\twhile(!mp[now]){\n\t\tmp[now]=id;\n\t\tid++;\n\t\tif ((a[he]^nt)==0){\n\t\t\tnow=(now+1)%mo;\n\t\t\ttot++;\n\t\t\ta[tot]=nt^1;\n\t\t\tnxt[tot]=nxt[he];\n\t\t\tst[id]=he=tot;t[id]=nt;\n\t\t\tif (mp[now]){\n\t\t\t\tql=mp[now]-1;\n\t\t\t\tcir=id-mp[now];\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tnow=(now-1)*q%mo;\n\t\t\tnow=(mi[n-1]-1-now+mo)%mo;\n\t\t\ta[++tot]=nt^1;\n\t\t\tnxt[ta]=tot;\n\t\t\tta=tot;\n\t\t\the=nxt[he];\n\t\t\tnt^=1;\n\t\t\tst[id]=he;t[id]=nt;\n\t\t\tif (mp[now]){\n\t\t\t\tql=mp[now]-1;\n\t\t\t\tcir=id-mp[now];\n\t\t\t}\n\t\t}\n\t}\n\tk++;\n\tif (k>ql)k=(k-ql)%cir+ql+cir;\n\tfor(int i=1,x=st[k];i<=n;i++,x=nxt[x])printf(\"%c\",(a[x]^t[k])==0?'A':'B');\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 100 + 10;\nconst int INF = (int)(1e9);\n\nchar opp(char c) {\n    return ((c == 'A') ? 'B' : 'A');\n}\n\nvoid print_alter(char f, int t, int n) {\n    for(int i = 0; i < t; ++i) cout << f;\n    for(int i = t; i < n; ++i) {\n        f = opp(f);\n        cout << f;\n    }\n    cout << endl;\n}\n\nvoid solve(string &s, int k) {\n    int n = s.length();\n    int sc = 0;\n    bool B = false;\n    while (k > 0) {\n        if (sc >= n) break;\n        char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n        B = false;\n        --k;\n        if (f == 'B') ++sc;\n        else {\n            B = true;\n        }\n    }\n    if (k == 0) {\n        if (sc == n)\n            print_alter((((n % 2) == 0) ? 'B' : 'A'), 1, n);\n        else {\n            char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n            cout << f;\n            for(int i = sc + 1; i < n; ++i)\n                cout << (((sc % 2) == 1) ? opp(s[i]) : s[i]);\n            if (sc > 0) {\n                char c = ((sc % 2) == 1) ? 'A' : 'B';\n                print_alter(c, 1, sc);\n            }\n            else cout << endl;\n        }\n    }\n    else {\n        char f = ((n % 2) == 0) ? 'B' : 'A';\n        if (f == 'B') {\n            print_alter('B', 1, n);\n        }\n        else {\n            if ((k % 2) == 0) {\n                print_alter('A', 1, n);\n            }\n            else {\n                print_alter('B', 2, n);\n            }\n        }\n    }\n}\n\nvoid run() {\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    //for(int i = 0; i <= k; ++i)\n        solve(s, k);\n}\n\nint main()\n{\n    freopen(\"input.txt\", \"r\", stdin);\n\n    int ntests = 1;\n    //cin >> ntests;\n    for(int tc = 1; tc <= ntests; ++tc) {\n        run();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,k;\nchar s[200005];\nint a[200005];\ndeque<int>q;\nvoid print(int x)\n{\n    if(x==1)putchar('A');\n    else putchar('B');\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)a[i]=1-(s[i]-'A'),q.push_back(a[i]);int now=0;\n    for(int i=1;i<=2*n;i++)\n    {\n        if(q.front()==1)\n        {\n            q.pop_front();q.push_front(0);\n        }\n        else\n        {\n            now^=1;q.pop_front();q.push_back(now^1);\n        }\n        if(i==k)\n        {\n            for(int j=1;j<=n;j++)print(now^q.front()),q.pop_front();\n            return 0;\n        }\n    }k-=2*n;\n    if(n%2==0||((q.front()^now)==1&&k%2==0)||((q.front()^now)==0&&k%2==1))\n    {\n        for(int i=1;i<=n;i++)if((n-i)&1)print(0);else print(1);\n    }\n    else\n    {\n        for(int i=1;i<=n;i++)if(((n-i)&1)&&i!=1)print(1);else print(0);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "     #include <bits/stdc++.h>\n\n//    #include <boost/multiprecision/cpp_int.hpp>\n #define int long long\n #define inf  1000000007\n #define pa pair<int,int>\n #define ll long long\n #define pal pair<double,double>\n #define ppap pair<pa,int>\n  #define PI 3.14159265358979323846\n  #define paa pair<int,char>\n  #define  mp make_pair\n  #define  pb push_back\n  #define EPS (1e-10)\n                                          \n    int dx[8]={0,1,0,-1,1,1,-1,-1};\n    int dy[8]={1,0,-1,0,-1,1,1,-1};\n                                            using namespace std;\n                                   \t\t\tclass pa3{\n                                            \tpublic:\n                                            \tint x;\n                                   \t\t\t\tint y,z;\n                                            \tpa3(int x=0,int y=0,int z=0):x(x),y(y),z(z) {}\n                                            \tbool operator < (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\t return z<p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                   \t\t\t\tbool operator > (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\t return z>p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa3 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z;\n                                            \t}\n                                            \t\tbool operator != (const pa3 &p) const{\n                                            \t\t\treturn !( x==p.x && y==p.y && z==p.z);\n                                            \t}\n                                            \n                                            };\n                                            \n                                            class pa4{\n                                            \tpublic:\n                                            \tint x;\n                                            \tint y,z,w;\n                                            \tpa4(int x=0,int y=0,int z=0,int w=0):x(x),y(y),z(z),w(w) {}\n                                            \tbool operator < (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\tif(z!=p.z)return z<p.z;\n                                            \t\treturn w<p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator > (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\tif(z!=p.z)return z>p.z;\n                                            \t\treturn w>p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa4 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z &&w==p.w;\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            class pa2{\n                                            \tpublic:\n                                            \tint x,y;\n                                            \tpa2(int x=0,int y=0):x(x),y(y) {}\n                                            \tpa2 operator + (pa2 p) {return pa2(x+p.x,y+p.y);}\n                                            \tpa2 operator - (pa2 p) {return pa2(x-p.x,y-p.y);}\n                                            \tbool operator < (const pa2 &p) const{\n                                            \t\treturn y != p.y ? y<p.y: x<p.x;\n                                            \t}\n                                            \tbool operator > (const pa2 &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa2 &p) const{\n                                            \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                            \t}\n                                            \tbool operator != (const pa2 &p) const{\n                                            \t\treturn !(abs(x-p.x)==0 && abs(y-p.y)==0);\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            \n/*\n                                            class Point{\n                                            \tpublic:\n                                            \tdouble x,y;\n                                            \tPoint(double x=0,double y=0):x(x),y(y) {}\n                                            \tPoint operator + (Point p) {return Point(x+p.x,y+p.y);}\n                                            \tPoint operator - (Point p) {return Point(x-p.x,y-p.y);}\n                                            \tPoint operator * (double a) {return Point(x*a,y*a);}\n                                            \tPoint operator / (double a) {return Point(x/a,y/a);}\n                                            \tdouble absv() {return sqrt(norm());}\n                                            \tdouble norm() {return x*x+y*y;}\n                                            \tbool operator < (const Point &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const Point &p) const{\n                                            \t\treturn fabs(x-p.x)<EPS && fabs(y-p.y)<EPS;\n                                            \t}\n                                            };\n                                            typedef Point Vector;\n                                     #define pl pair<int,pas>\n                                            struct Segment{\n                                            Point p1,p2;\n                                            };\n                                             double dot(Vector a,Vector b){\n                                            \treturn a.x*b.x+a.y*b.y;\n                                            }\n                                            double cross(Vector a,Vector b){\n                                            \treturn a.x*b.y-a.y*b.x;\n                                            }\n                                        \n                bool parareru(Point a,Point b,Point c,Point d){\n                //\tif(abs(cross(a-b,d-c))<EPS)cout<<\"dd \"<<cross(a-b,d-c)<<endl;\n                \treturn abs(cross(a-b,d-c))<EPS;\n                }\n                double distance_ls_p(Point a, Point b, Point c) {\n                  if ( dot(b-a, c-a) < EPS ) return (c-a).absv();\n                  if ( dot(a-b, c-b) < EPS ) return (c-b).absv();\n                  return abs(cross(b-a, c-a)) / (b-a).absv();\n                }\n                bool is_intersected_ls(Segment a,Segment b) {\n                \tif(a.p1==b.p1||a.p2==b.p1||a.p1==b.p2||a.p2==b.p2) return false;\n                \tif(parareru((a.p2),(a.p1),(a.p1),(b.p2))&&parareru((a.p2),(a.p1),(a.p1),(b.p1))){\n                //\t\tcout<<\"sss\"<<endl;\n                \t\tif(dot(a.p1-b.p1,a.p1-b.p2)<EPS) return true;\n                \t\tif(dot(a.p2-b.p1,a.p2-b.p2)<EPS) return true;\n                \t\tif(dot(a.p1-b.p1,a.p2-b.p1)<EPS) return true;\n                \t\tif(dot(a.p1-b.p2,a.p2-b.p2)<EPS) return true;\n                \t\treturn false;\n                \t}\n                  else return ( cross(a.p2-a.p1, b.p1-a.p1) * cross(a.p2-a.p1, b.p2-a.p1) < EPS ) && ( cross(b.p2-b.p1, a.p1-b.p1) * cross(b.p2-b.p1, a.p2-b.p1) < EPS );\n                }\n                 \n                double segment_dis(Segment a,Segment b){\n                \tif(is_intersected_ls(a,b))return 0;\n                \tdouble r=distance_ls_p(a.p1, a.p2, b.p1);\n                \tr=min(r,distance_ls_p(a.p1, a.p2, b.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p1));\n                \treturn r;\n                }\n                Point intersection_ls(Segment a, Segment b) {\n                  Point ba = b.p2-b.p1;\n                  double d1 = abs(cross(ba, a.p1-b.p1));\n                  double d2 = abs(cross(ba, a.p2-b.p1));\n                  double t = d1 / (d1 + d2);\n                 \n                  return a.p1 + (a.p2-a.p1) * t;\n                }\n */                \n                                string itos( int i ) {\n                                ostringstream s ;\n                                s << i ;\n                                return s.str() ;\n                                }\n                                 \n                                int gcd(int v,int b){\n                                \tif(v>b) return gcd(b,v);\n                                \tif(v==b) return b;\n                                \tif(b%v==0) return v;\n                                \treturn gcd(v,b%v);\n                                }\n                 \n                                double distans(double x1,double y1,double x2,double y2){\n                                \tdouble rr=(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);\n                                \treturn sqrt(rr);\n                                \t\n                                }\n                                int mod;\nint extgcd(int a, int b, int &x, int &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    int d = extgcd(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\npa operator+(const pa & l,const pa & r) {   \n    return {l.first+r.first,l.second+r.second};                                    \n}    \n                                \n                int pr[1000010];\n                int inv[1000010];\n                \n                int beki(int wa,int rr,int warukazu){\n                \tif(rr==0) return 1%warukazu;\n                \tif(rr==1) return wa%warukazu;\n                \twa%=warukazu;\n                \tif(rr%2==1) return ((ll)beki(wa,rr-1,warukazu)*(ll)wa)%warukazu;\n                \tll zx=beki(wa,rr/2,warukazu);\n                \treturn (zx*zx)%warukazu;\n                }\n    double bekid(double w,int r){\n    \tif(r==0) return 1.0;\n    \tif(r==1) return w;\n    \tif(r%2) return bekid(w,r-1)*w;\n    \tdouble f=bekid(w,r/2);\n    \treturn f*f;\n    }\n                \n    \t\t\tint comb(int nn,int rr){\n    \t\t\t\tint r=pr[nn]*inv[rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\tr*=inv[nn-rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\treturn r;\n    \t\t\t}\n                \n                void gya(int ert){\n                \tpr[0]=1;\n                \tfor(int i=1;i<ert;i++){\n                \t\tpr[i]=(pr[i-1]*i)%mod;\n                \t}\n                \tfor(int i=0;i<ert;i++) inv[i]=beki(pr[i],mod-2,mod);\n                \t\n                }\n                \n              //   cin.tie(0);\n    \t\t//\tios::sync_with_stdio(false);\n    \t\t\t//priority_queue<pa3,vector<pa3>,greater<pa3>> pq;            \n                 //sort(ve.begin(),ve.end(),greater<int>());\n    \n                                     //----------------kokomade tenpure------------\n/*\nvoid ch(char &c){\n\tif(c=='0') c='1';\n\telse c='0';\n}\n\nvoid yaru(string &s,int n,int iti,bool muki){\n\tif(iti==n) return;\n\tif(iti==-1) return;\n\tif(s[iti]=='0'){\n\t\tch(s[iti]);\n\t\tif(muki){\n\t\t\tmuki=0;\n\t\t\titi--;\n\t\t}\n\t\telse{\n\t\t\tmuki=1;\n\t\t\titi++;\n\t\t}\n\t}\n\telse{\n\t\tch(s[iti]);\n\t\tif(muki)iti++;\n\t\telse iti--;\n\t}\n\t//cout<<\" \"<<s<<\" \"<<n<<\" \"<<iti<<\" \"<<muki<<endl;\n\tyaru(s,n,iti,muki);\n}\nvoid solve(string s,int n,int d){\ncout<<s<<endl;\n\tfor(int i=0;i<d;i++){\n\t//\tcout<<s<<endl;\n\tyaru(s,n,0,1);\n\t\tcout<<s;\n\t\tint r=0;\n\t\t//for(int i=0;i<n;i++)r+=(s[i]=='1');\n\t\t\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif((i%2==0 && s[n-1-i]=='0' )||(i%2==1 && s[n-1-i]=='1'))r++;\n\t\t\telse break;\n\t\t}\n\t\tcout<<\" \"<<r<<endl;\n\t//\tcout<<endl;\n\t}\n}\n*/\ndeque<int> dp;\nvoid solve2(string s,int d){\n\tint n=s.length();\n\tfor(auto c:s){\n\t\tif(c=='A')dp.pb(0);\n\t\telse dp.pb(1);\n\t}\n\tint t=0;\n\tfor(int i=0;i<d;i++){\n\t\t\n\t\tint z=dp.front();\n\t\tif((z==0 && t==0)||(z==1 && t==1)){\n\t\t\tdp.pop_front();\n\t\t\tdp.push_front(z^1);\n\t\t}\n\t\telse{\n\t\t\tif(t==0){\n\t\t\t\tdp.pop_front();\n\t\t\t\tdp.pb(1);\n\t\t\t\tt^=1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdp.pop_front();\n\t\t\t\tdp.pb(0);\n\t\t\t\tt^=1;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\tfor(int i=0;i<n;i++){\n\t\t\n\t\tint y=dp.front();\n\t\tdp.pop_front();\n\t\ty^=t;\n\t\tif(y) cout<<\"B\";\n\t\telse cout<<\"A\";\n\t}\n\tcout<<endl;\n\texit(0);\n}\n\n signed main(){\n\n    \t       cin.tie(0);\n   \t\t\tios::sync_with_stdio(false);\n\n \tint n,d;\n \tcin>>n>>d;\n\tstring s;\n \tcin>>s;\n \tn=s.length();\n \t\n \tif(d>=600000){\n \t\tif(n%2==0){\n \t\t\tfor(int i=0;i<n/2;i++)cout<<\"BA\";\n \t\t\tcout<<endl;\n \t\t\treturn 0;\n \t\t}\n \t\telse{\n \t\t\tint cnt=0;\n \t\t\tfor(auto c:s)if(c=='B'){\n \t\t\t\tcnt++;\n \t\t\t}\n \t\t\tstring ans=\"\";\n \t\t\tint r=0;\n \t\t\tfor(int i=0;i<n;i++){\n \t\t\t\tif(i%2)ans+=\"B\",r++;\n \t\t\t\telse ans+=\"A\";\n \t\t\t}\n \t\t\tcnt=(cnt+d)%2;\n \t\t\tr%=2;\n \t\t\tif(r!=cnt)ans[0]='B';\n \t\t\tcout<<ans<<endl;\n \t\t\treturn 0;\n \t\t}\n \t}\n \t\n \tsolve2(s,d);\n \treturn 0;\n  }\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <deque>\nusing namespace std;\n#define SZ(a) (int)(a).size()\ntypedef long long ll;\n\nint main() {\n\tcin.sync_with_stdio(false);\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tdeque<bool> a(n);\n\tfor (auto i = 0; i < n; i++) {\n\t\ta[i] = s[i] == 'B';\n\t}\n\tbool flip = false;\n\tif (k > 2*n) {\n\t\tk = 2*n+(k & 1);\n\t}\n\tfor (auto i = 0; i < k; i++) {\n\t\tif (a[0] == flip) {\n\t\t\ta[0] = !a[0];\n\t\t}\n\t\telse {\n\t\t\ta.pop_front();\n\t\t\ta.push_back(!flip);\n\t\t\tflip = !flip;\n\t\t}\n\t}\n\tfor (auto& x: a) {\n\t\tprintf(\"%c\", x != flip ? 'B' : 'A');\n\t}\n\tputs(\"\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <algorithm>\nusing namespace std;\n\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P)\n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, deque<T> P)\n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\n\n\nint N, K;\nstring S;\n\nusing Data = deque<pair<char,int> >;\nchar conv(char c, int change) {\n    if (change & 1) return (c == 'A' ? 'B' : 'A');\n    else return c;\n}\n\nstring recon(const Data &v, int change) {\n    string res = \"\";\n    int sum = 0;\n    for (auto p : v) {\n        sum += p.second;\n        for (int i = 0; i < p.second; ++i) res += conv(p.first, change);\n    }\n    return res;\n}\n\nint main() {\n    cin >> N >> K >> S;\n    Data v;\n    for (int i = 0; i < S.size();) {\n        int j = i+1;\n        while (j < S.size() && S[j] == S[i]) ++j;\n        v.push_back({S[i], j-i});\n        i = j;\n    }\n    int LIMIT = (int)S.size() * 10;\n    if ((K - LIMIT) & 1) ++LIMIT;\n    if (K > LIMIT) K = LIMIT;\n    int change = 0;\n    for (int i = 0; i < K; ++i) {\n        char c = conv(v[0].first, change);\n        if (c == 'A') {\n            auto p = v[0];\n            v.pop_front();\n            if (p.second > 1) v.push_front({conv('A', change), p.second - 1});\n            v.push_front({conv('B', change), 1});\n        }\n        else {\n            ++change;\n            v[0].second--;\n            if (v[0].second == 0) v.pop_front();\n            v.push_back({conv('A', change), 1});\n        }\n\n        //cout << i << \": \" << recon(v, change) << \", \" << change << endl;\n    }\n    cout << recon(v, change) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <map>\n#include <set>\n#include <functional>\n#include <iostream>\n#define MOD 1000000007LL\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint n,k;\ndeque<P> que;\n\nint main(void){\n\tscanf(\"%d%d\",&n,&k);\n\tstring str;\n\tcin >> str;\n\tfor(int i=0;i<n;i++){\n\t\tif(str[i]=='A')que.push_back(P(0,0));\n\t\telse que.push_back(P(1,0));\n\t}\n\tint flip=0;\n\tfor(int i=0;i<min(n*2,k);i++){\n\t\tint g=que[0].first;\n\t\tif((flip-que[0].second)%2==1)g=1-g;\n\t\tif(g==0){\n\t\t\tque.pop_front();\n\t\t\tque.push_front(P(1,flip));\n\t\t}else{\n\t\t\tflip++;\n\t\t\tque.pop_front();\n\t\t\tque.push_back(P(0,flip));\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif((flip-que[i].second)%2==1){\n\t\t\tque[i].first=1-que[i].first;\n\t\t}\n\t}\n\tif(n*2<k){\n\t\tint rest=k-n*2;\n\t\tif(n%2==1 && rest%2==1){\n\t\t\tque[0].first=1-que[0].first;\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tprintf(\"%c\",que[i].first==0?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <tr1/unordered_map>\nusing namespace std;\n\ntypedef unsigned long long ULL;\nconst int N=2e5+50;\nconst ULL base=31; \n\nint n,k,tag; \nchar ch[N];\nULL pw[N],val[2];\n\ntr1::unordered_map <ULL,int> s;\ndeque <int> q;\n \ninline void print() {\n\tfor(int i=1;i<=n;i++) \n\t\tputchar((q[i-1]^tag) ? 'B' : 'A');\n}\ninline void rec() {\n\tif(!(q[0]^tag)) {q[0]^=1; return;}  \n\tq.pop_front();\n\ttag^=1;\n\tq.push_back(tag);\n}\n\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,ch+1);\n\tpw[0]=1; for(int i=1;i<=n;i++) pw[i]=pw[i-1]*base;\n\tfor(int i=1;i<=n;++i) q.push_back((ch[i]=='A') ? 0 : 1);\n\t\n\tif(k<=2*n) {\n\t\tfor(int i=1;i<=k;i++) rec();\n\t\tprint();\n\t} else {\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tval[0]+=q[i]*pw[n-i];\n\t\t\tval[1]+=(q[i]^1)*pw[n-i];\n\t\t}  s[val[0]]=0;\n\t\tint cir=0,i;\n\t\tfor(i=1;;++i) {\n\t\t\tif(!(q[0]^tag)) {\n\t\t\t\tval[1]-=pw[n];\n\t\t\t\tval[0]+=pw[n];\n\t\t\t\tq[0]^=1;\n\t\t\t} else {\n\t\t\t\tval[0]-=(q[0]^tag)*pw[n];\n\t\t\t\tval[1]-=(q[0]^tag^1)*pw[n];\n\t\t\t\trec();\n\t\t\t\tswap(val[0],val[1]); \n\t\t\t\tval[0]*=base; val[1]*=base;\n\t\t\t\tval[1]+=base;\n\t\t\t}\n\t\t\tif(s.count(val[0])) {cir=i-s[val[0]]; break;}\n\t\t\telse s[val[0]]=i;\n\t\t}\n\t\tint t=(k-i)%cir;\n\t\twhile(t--) rec();\n\t\tprint();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\tint cnt = 0;\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tif(cnt == 500000)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif((k + 1) % 2 && n % 2)\n\t{\n\t\tv.pop_front();\n\t\tv.front().second++;\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>600000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  int index = 0;\n  int c = 0;\n  rep(i,0,k){\n    if(c==0){\n      if(s[index]=='A'){\n        s[index]='B';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'B';\n      }\n    }\n    else{\n      if(s[index]=='B'){\n        s[index]='A';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'A';\n      }\n    }\n  }\n  string ans;\n  rep(i,0,n){\n    if(c==0){\n      ans += s[(index+i)%n];\n    }\n    else{\n      if(s[(index+i)%n]=='A'){\n        ans += \"B\";\n      }\n      else{\n        ans += \"A\";\n      }\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'A':'B');\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\treverse(s+1,s+1+n);\n\tprint(s+1);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n//\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n// #define int long long\n// #define double long double\n#define rep(i,n) for (int i=0; i<(int)(n); ++i)\n#define rep1(i,n) for (int i=1; i<(int)(n); ++i)\n#define repeq(i,n) for (int i=0; i<=(int)(n); ++i)\n#define rep1eq(i,n) for (int i=1; i<=(int)(n); ++i)\n#define rrep(i,n) for (int i=(int)(n)-1; i>=0; --i)\n#define rrep1(i,n) for (int i=(int)(n)-1; i>0; --i)\n#define rrepeq(i,n) for (int i=(int)(n); i>=0; --i)\n#define rrep1eq(i,n) for (int i=(int)(n); i>0; --i)\n#define REP(i,a,b) for (int i=(int)(a); i<=(int)(b); ++i)\n#define RREP(i,a,b) for (int i=(int)(a); i>=(int)(b); --i)\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing vb = vector<bool>;\ntemplate<typename T> using Graph = vector<vector<T>>;\ntemplate<typename T> using Spacial = vector<vector<vector<T>>>;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\ntemplate<typename T> using greater_priority_queue = priority_queue<T, vector<T>, greater<T>>;\nconst int MOD = 1e9+7;\nconst int MOD2 = 998244353;\n// const double EPS = 1e-9;\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\nstring interval[2] = {\" \", \"\\n\"}; // {\" \", \"\\n\"}\n\ntemplate<typename T> struct is_plural : false_type{};\ntemplate<typename T1, typename T2> struct is_plural<pair<T1, T2>> : true_type{};\ntemplate<typename T> struct is_plural<vector<T>> : true_type{};\ntemplate<typename T> struct is_plural<complex<T>> : true_type{};\n \ntemplate<typename T1, typename T2> istream &operator>>(istream &is, pair<T1, T2> &p) { return is >> p.first >> p.second; }\ntemplate<typename T1, typename T2> ostream &operator<<(ostream &os, const pair<T1, T2> &p) { return os << p.first << \" \" << p.second; }\ntemplate<typename T> istream &operator>>(istream &is, vector<T> &vec) { for (auto itr = vec.begin(); itr != vec.end(); ++itr) is >> *itr; return is; }\ntemplate<typename T> ostream &operator<<(ostream &os, const vector<T> &vec) { if (vec.empty()) return os; bool pl = is_plural<T>(); os << vec.front(); for (auto itr = ++vec.begin(); itr != vec.end(); ++itr) os << interval[pl] << *itr; return os; }\n \nbool CoutYN(bool a, string y = \"Yes\", string n = \"No\") { cout << (a ? y : n) << \"\\n\"; return a; }\n\ntemplate<typename T1, typename T2> inline bool chmax(T1 &a, T2 b) { return a < b && (a = b, true); }\ntemplate<typename T1, typename T2> inline bool chmin(T1 &a, T2 b) { return a > b && (a = b, true); }\n\nlong long modpow(int a, long long n, int mod = MOD) { long long ret = 1; do { if (n & 1) ret = ret * a % mod; a = 1LL * a * a % mod; } while (n >>= 1); return ret; }\n\ntemplate<typename T> T GCD(T a, T b) { return b ? GCD(b, a%b) : a; }\ntemplate<typename T> T LCM(T a, T b) { return a / GCD(a, b) * b; }\n\ntemplate<typename T1, typename T2> bool CompareBySecond(pair<T1, T2> a, pair<T1, T2> b) { return a.second != b.second ? a.second < b.second : a.first < b.first; }\ntemplate<typename T1, typename T2> bool CompareByInverse(pair<T1, T2> a, pair<T1, T2> b) { return a.first != b.first ? a.first < b.first : a.second > b.second; }\n\n\n/* -------- <templates end> -------- */\n\n\nvoid solve() {\n  int n, k; cin >> n >> k;\n  string s; cin >> s;\n\n  const int x = 'A' ^ 'B';\n\n  rep(i,n) {\n    if ((i & 1) == s[i] - 'A') {\n      s[i] ^= x;\n      if (--k == 0) {\n        if (i & 1) REP(j,i,n-1) s[j] ^= x;\n        cout << s.substr(i);\n        rrep(j,i) cout << char('A' + (j & 1));\n        return;\n      }\n      if (--k == 0) {\n        if (!(i & 1)) REP(j,i+1,n-1) s[j] ^= x;\n        cout << s.substr(i+1);\n        rrep(j,i+1) cout << char('A' + (j & 1));\n        return;\n      }\n    }\n  }\n\n  if (n & 1) cout << char('A' + (k & 1));\n  rep(i,n/2) cout << \"BA\";\n}\n\n\n/* -------- <programs end> -------- */\n\n\nsigned main() {\n  cin.tie(nullptr);\n  ios::sync_with_stdio(false);\n  cout << fixed << setprecision(10);\n  solve();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint w[201000], c1, c2, n, K, ck = 0;\nchar p[201000];\nint Get(int pv){\n    if(ck && pv==1)return 1;\n    int t = pv + c2;\n    if(t > n) return (pv+n)&1;\n    return (p[t-1]-'A') ^ (c2&1);\n}\nint main(){\n    int i;\n    scanf(\"%d%d\",&n,&K);\n    scanf(\"%s\",p);\n    if(K > 4*n){\n        K = 4*n + (K&1);\n    }\n    for(i=1;i<=K;i++){\n        if(!Get(1)){\n            ck = 1;\n            c1++;\n        }\n        else{\n            ck = 0;\n            c2++;\n        }\n    }\n    for(i=1;i<=n;i++)printf(\"%c\",'A'+Get(i));\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(n+1,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'A':'B');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define FZ(n) memset((n),0,sizeof(n))\n#define FMO(n) memset((n),-1,sizeof(n))\n#define MC(n,m) memcpy((n),(m),sizeof(n))\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\n#define ALL(x) begin(x),end(x)\n#define IOS do { ios_base::sync_with_stdio(0);cin.tie(0); } while (0)\n#define SZ(x) ((int)(x).size())\n#ifndef OFFLINE\n    #define ONLINE_JUDGE\n#endif\n#ifdef ONLINE_JUDGE\n#define FILEIO(name) \\\n    do { \\\n        freopen(name\".in\", \"r\", stdin); \\\n        freopen(name\".out\", \"w\", stdout); \\\n    } while (0)\n#else\n    #define FILEIO(name) do { } while(0)\n#endif\n\n#define _TOKEN_CAT2(x, y) x ## y\n#define _TOKEN_CAT(x, y) _TOKEN_CAT2(x, y)\n#define _MACRO_OVERL3(_1, _2, _3, _N, ...) _N\n#define _RANGE1(a) int _TOKEN_CAT(_t, __LINE__)=0; _TOKEN_CAT(_t, __LINE__)<(a); (_TOKEN_CAT(_t, __LINE__))++\n#define _RANGE2(i, a) int (i)=0; (i)<(a); (i)++\n#define _RANGE3(i, a, b) int (i)=(a); (i)!=(b); (i)+=((b)>(a)?1:-1)\n#define loop(...) for (_MACRO_OVERL3(__VA_ARGS__, _RANGE3, _RANGE2, _RANGE1)(__VA_ARGS__))\n\n#ifdef OFFLINE\ntemplate<typename T>\nvoid _dump(const char* s, T&& head) { \n    cerr << s << \" = \" << head << \" <<\" << endl; \n}\n\ntemplate<typename T, typename... Args>\nvoid _dump(const char* s, T&& head, Args&&... tail) {\n    int c = 0;\n    while (*s!=',' || c!=0) {\n        if (*s=='(' || *s=='[' || *s=='{' || *s=='<') c++;\n        if (*s==')' || *s==']' || *s=='}' || *s=='>') c--;\n        cerr << *s++;\n    }\n    cerr << \" = \" << head << \", \";\n    _dump(s+1, tail...);\n}\n\n#define dump(...) do { \\\n    cerr << \"\\033[32m>> \" << __LINE__ << \": \" << __PRETTY_FUNCTION__ << endl; \\\n    cout << \"   \"; \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n    cout << \"\\033[0m\"; \\\n} while (0)\n#else\n#define dump(...) \n#endif\n\n#define au auto\ntemplate<class T>\nusing vec = vector<T>;\n\ntemplate<typename Iter>\nostream& _IterOutput_(ostream &o, Iter b, Iter e, const string ss=\"\", const string se=\"\") {\n    o << ss;\n    for (auto it=b; it!=e; it++) o << (it==b ? \"\" : \", \") << *it;\n    return o << se;\n}\n\ntemplate<typename T1, typename T2>\nostream& operator << (ostream &o, const pair<T1, T2> &pair) {\n    return o << \"(\" << pair.F << \", \" << pair.S << \")\";\n}\n\ntemplate<typename T>\nostream& operator << (ostream &o, const vector<T> &vec) {\n    return _IterOutput_(o, ALL(vec), \"[\", \"]\");\n}\n\ntemplate<typename T>\nostream& operator << (ostream &o, const set<T> &st) {\n    return _IterOutput_(o, ALL(st), \"{\", \"}\");\n}\n\ntemplate<typename T, size_t N>\nostream& operator << (ostream &o, const array<T, N> &arr) {\n    return _IterOutput_(o, ALL(arr), \"|\", \"|\");\n}\n\ntemplate<typename T1, typename T2>\nostream& operator << (ostream &o, const map<T1, T2> &mp) {\n    o << \"{\";\n    for (auto it=mp.begin(); it!=mp.end(); it++) {\n        o << (it==mp.begin()?\"\":\", \") << it->F << \":\" << it->S;\n    }\n    o << \"}\";\n    return o;\n}\n\nvoid lucky_test() {\n    std::random_device rd;\n    std::mt19937 gen_(rd());\n    std::normal_distribution<double> dist_(0.0, 1.0);\n\n    if (dist_(gen_) >= 4.44444444) {\n        cout << \"Not lucky\" << endl;\n        exit(0);\n    }\n}\n\nint N, K;\nstring S;\n\nvoid walk() {\n    int id = 0, pos = 1;\n    int ret = 0;\n    while (true) {\n        if (S[id] == 'A') {\n            pos = -pos;\n        }\n        if (S[id] == 'A') S[id] = 'B';\n        else S[id] = 'A';\n\n        id += pos;\n        if (id == -1 || id == N) break;\n        ret++;\n    }\n}\n\nint32_t main() {\n    IOS;\n    cin >> N >> K >> S;\n\n    if (N == 1) {\n        K = K % 2;\n        if (!K) cout << S[0] << endl;\n        else if (S[0] == 'A') cout << 'B' << endl;\n        else cout << 'A' << endl;\n        return 0;\n    }\n\n    if (S[N-1] == 'B') {\n        walk();\n        K--;\n    }\n\n    if (!K) {\n        cout << S << endl;\n        return 0;\n    }\n\n    deque<int> pos;\n    for (int i=0; i<N-1; i++) {\n        if (S[i] != S[i+1]) pos.PB(i);\n    }\n\n    int shift = 0;\n\n    while (K) {\n        int m = SZ(pos) + shift;\n        if (m&1) {\n            int t = pos.front() - shift;\n            if (!t) pos.pop_front();\n            shift++;\n        } else {\n            int t = pos.front() - shift;\n            if (t == 0) pos.pop_front();\n            else {\n                pos.push_front(shift);\n            }\n        }\n        K--;\n        if (shift >= N) break;\n    }\n\n\n    //cout << shift << endl;\n    //cout << K << endl;\n    //for (auto x: pos) cout << x << ' ';\n    //cout << endl;\n\n    char now = 'A', nx = 'B';\n    if (shift >= N) {\n        if (N%2==0) swap(now, nx);\n        if (K%2 and N%2) {\n            for (int i=0; i<N; i++) {\n                if (!i) cout << nx;\n                else cout << now;\n                swap(now, nx);\n            }\n        } else {\n            for (int i=0; i<N; i++) {\n                cout << now;\n                swap(now, nx);\n            }\n        }\n        return 0;\n    }\n\n    if ((shift + SZ(pos)) % 2) swap(now, nx);\n\n    int ls = 0;\n    for (auto x: pos) {\n        for (int i=ls; i<=x-shift; i++) {\n            cout << now;\n        }\n        ls = x-shift+1;\n        swap(now, nx);\n    }\n\n    for (int i=ls; i<=N-1-shift; i++) {\n        cout << now;\n    }\n    swap(now, nx);\n\n    for (int i=0; i<shift; i++) {\n        cout << now;\n        swap(now, nx);\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing int64 = long long;\n\nint main() {\n  int N, K;\n  cin >> N >> K;\n  string S;\n  cin >> S;\n\n  vector< bool > bit(N + 1);\n  for(int i = 0; i < N; i++) bit[i] = S[i] == 'A';\n\n  int last = N;\n  while(K--) {\n    while(last >= 2 && bit[last - 1] && !bit[last - 2]) {\n      last -= 2;\n    }\n    if(bit[0]) {\n      bit[0] = false;\n    } else {\n      for(int i = 0; i < last; i++) bit[i] = !bit[i + 1];\n    }\n  }\n\n  for(int i = 0; i < N; i++) cout << \"BA\"[bit[i]];\n  cout << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    int cnt = 0;\n    while (k && cnt < 2 * n) {\n        --k;\n        ++cnt;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ms(s, n) memset(s, n, sizeof(s))\n#define FOR(i, a, b) for (int i = (a); i < (b); i++)\n#define FORd(i, a, b) for (int i = (a) - 1; i >= (b); i--)\n#define FORall(it, a) for (__typeof((a).begin()) it = (a).begin(); it != (a).end(); it++)\n#define FORalld(it, a) for (__typeof((a).rbegin()) it = (a).rbegin(); it != (a).rend(); it++)\n#define sz(a) int((a).size())\n#define present(t, x) (t.find(x) != t.end())\n#define all(a) (a).begin(), (a).end()\n#define uni(a) (a).erase(unique(all(a)), (a).end())\n#define pb push_back\n#define pf push_front\n#define mp make_pair\n#define fi first\n#define se second\n#define prec(n) fixed<<setprecision(n)\n#define bit(n, i) (((n) >> (i)) & 1)\n#define bitcount(n) __builtin_popcountll(n)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<int, int> pi;\ntypedef vector<int> vi;\ntypedef vector<pi> vii;\nconst int MOD = (int) 1e9 + 7;\nconst int INF = (int) 1e9;\nconst ll LINF = (ll) 1e18;\nconst ld PI = acos((ld) -1);\nconst ld EPS = 1e-9;\ninline ll gcd(ll a, ll b) {ll r; while (b) {r = a % b; a = b; b = r;} return a;}\ninline ll lcm(ll a, ll b) {return a / gcd(a, b) * b;}\ninline ll fpow(ll n, ll k, int p = MOD) {ll r = 1; for (; k; k >>= 1) {if (k & 1) r = r * n % p; n = n * n % p;} return r;}\ntemplate<class T> inline int chkmin(T& a, const T& val) {return val < a ? a = val, 1 : 0;}\ntemplate<class T> inline int chkmax(T& a, const T& val) {return a < val ? a = val, 1 : 0;}\ntemplate<class T> inline T isqrt(T k) {T r = sqrt(k) + 1; while (r * r > k) r--; return r;}\ntemplate<class T> inline T icbrt(T k) {T r = cbrt(k) + 1; while (r * r * r > k) r--; return r;}\ninline void addmod(int& a, int val, int p = MOD) {if ((a = (a + val)) >= p) a -= p;}\ninline void submod(int& a, int val, int p = MOD) {if ((a = (a - val)) < 0) a += p;}\ninline int mult(int a, int b, int p = MOD) {return (ll) a * b % p;}\ninline int inv(int a, int p = MOD) {return fpow(a, p - 2, p);}\ninline int sign(ld x) {return x < -EPS ? -1 : x > +EPS;}\ninline int sign(ld x, ld y) {return sign(x - y);}\n\nconst int maxn = 2e5 + 5;\nint n, k;\nstring s;\n\nvoid solve() {\n    cin >> n >> k >> s;\n    if (k > n * 10) {\n        FOR(i, 0, n) {\n            s[n - i - 1] = 'A' + (i & 1);\n        }\n        cout << s << \"\\n\";\n        return;\n    }\n    queue<int> que;\n    FOR(i, 0, n) que.push(s[i] - 'A');\n    int dif = 0;\n    FOR(i, 0, k) {\n        if (!(que.front() ^ dif)) {\n            que.front() ^= 1;\n        }\n        else {\n            int x = que.front();\n            que.pop();\n            que.push(x);\n            dif ^= 1;\n        }\n    }\n    FOR(i, 0, n) {\n        cout << char('A' + (que.front() ^ dif));\n        que.pop();\n    }\n    cout << \"\\n\";\n}\n\nint main() {\n#ifdef _LOCAL_\n    freopen(\"in.txt\", \"r\", stdin); //freopen(\"out.txt\", \"w\", stdout);\n#else\n    ios_base::sync_with_stdio(0); cin.tie(0);\n#endif\n    solve();\n    cerr << \"\\nTime elapsed: \" << 1.0 * clock() / CLOCKS_PER_SEC << \"s\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <cstdio>\n#include <cstdint>\n#include <cassert>\n#include <cmath>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <tuple>\n#include <utility>\n#include <vector>\nusing namespace std;\n\nusing int64 = int64_t;\n\nconstexpr int64 MOD = 1000000007;\n\nchar rev(char ch) {\n    return (ch == 'B') ? 'A' : 'B';\n}\n\nint N, K;\nstring s;\n\nint main() {\n    cin >> N >> K >> s;\n    if (s[0] == 'A') {\n        --K;\n        s[0] = 'B';\n    }\n    if (s[N-1] == 'B') {\n        if (K > 0) {\n            --K;\n            s[N-1] = 'A';\n            for (int j = 0; j < N-1; ++j) {\n                s[j] = rev(s[j+1]);\n            }\n        }\n        if (K > 0) {\n            --K;\n            s[0] = 'B';\n        }\n    }\n    if (K > 0) {\n        int slide = (K+1) / 2;\n        for (int j = 0; j + slide < N-1; ++j) {\n            s[j] = slide%2 == 0 ? s[j+slide] : rev(s[j+slide]);\n        }\n        for (int j = max(0, N-1-slide); j < N-1; ++j) {\n            s[j] = (N-1-j)%2 == 0 ? 'A' : 'B';\n        }\n        if (slide * 2 > K) {\n            s[0] = 'A';\n        }\n    }\n    cout << s << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//by yjz\n#include<bits/stdc++.h>\nusing namespace std;\n#define FF first\n#define SS second\n#define PB push_back\n#define MP make_pair\n#define bged(v) (v).begin(),(v).end()\n#define foreach(it,s) for(__typeof((s).begin()) it=(s).begin();it!=(s).end();it++)\ntypedef long long ll;\nconst int Imx=2147483647;\nconst ll Lbig=2e18;\nconst int mod=1e9+7;\n//My i/o stream\nstruct fastio\n{\n\tchar s[100000];\n\tint it,len;\n\tfastio(){it=len=0;}\n\tinline char get()\n\t{\n\t\tif(it<len)return s[it++];it=0;\n\t\tlen=fread(s,1,100000,stdin);\n\t\tif(len==0)return EOF;else return s[it++];\n\t}\n\tbool notend()\n\t{\n\t\tchar c=get();\n\t\twhile(c==' '||c=='\\n')c=get();\n\t\tif(it>0)it--;\n\t\treturn c!=EOF;\n\t}\n}_buff;\n#define geti(x) x=getnum()\n#define getii(x,y) geti(x),geti(y)\n#define getiii(x,y,z) getii(x,y),geti(z)\n#define puti(x) putnum(x),putchar(' ')\n#define putii(x,y) puti(x),puti(y)\n#define putiii(x,y,z) putii(x,y),puti(z)\n#define putsi(x) putnum(x),putchar('\\n')\n#define putsii(x,y) puti(x),putsi(y)\n#define putsiii(x,y,z) putii(x,y),putsi(z)\ninline ll getnum()\n{\n\tll r=0;bool ng=0;char c;c=_buff.get();\n\twhile(c!='-'&&(c<'0'||c>'9'))c=_buff.get();\n\tif(c=='-')ng=1,c=_buff.get();\n\twhile(c>='0'&&c<='9')r=r*10+c-'0',c=_buff.get();\n\treturn ng?-r:r;\n}\ntemplate<class T> inline void putnum(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tregister short a[20]={},sz=0;\n\twhile(x)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1;i>=0;i--)putchar('0'+a[i]);\n}\ninline char getreal(){char c=_buff.get();while(c==' '||c=='\\n')c=_buff.get();return c;}\nint n,k;\nchar s[200111];\nchar getst(int x,int dlt)\n{\n\tif(x+dlt>n)return (n-x)%2+'A';\n\telse return ((s[x+dlt]-'A')^(dlt%2))+'A';\n}\nchar ans[200111];\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tint dlt=0;\n\tbool f=0;\n\twhile(k--)\n\t{\n\t\tif(dlt>=n)\n\t\t{\n\t\t\tf=k%2;\n\t\t\tbreak;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(((getst(1,dlt)-'A')^f)==0)\n\t\t\t{\n\t\t\t\tf^=1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdlt++;\n\t\t\t\tf=0;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n\tif(f)\n\t{\n\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t}\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[400005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n    Read();\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define rep1(i,n) for(int i=1;i<=(int)(n);i++)\n#define all(c) c.begin(),c.end()\n#define pb push_back\n#define fs first\n#define sc second\n#define show(x) cout << #x << \" = \" << x << endl\n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\nusing namespace std;\ntemplate<class S,class T> ostream& operator<<(ostream& o,const pair<S,T> &p){return o<<\"(\"<<p.fs<<\",\"<<p.sc<<\")\";}\ntemplate<class T> ostream& operator<<(ostream& o,const vector<T> &vc){o<<\"sz = \"<<vc.size()<<endl<<\"[\";for(const T& v:vc) o<<v<<\",\";o<<\"]\";return o;}\nint N,K;\nstring s;\nstring nxt(string s){\n\tif(s[0]=='A'){\n\t\ts[0]='B';\n\t\treturn s;\n\t}\n\tint N=s.size();\n\tstring t(N,'.');\n\trep(i,N-1) t[i]='A'+'B'-s[i+1];\n\tt[N-1]='A';\n\treturn t;\n}\nint main(){\n\t// string s;\n\t// cin>>s;\n\t// rep(i,50){\n\t// \ts = nxt(s);\n\t// \tcout<<s<<endl;\n\t// }\n\tcin>>N>>K>>s;\n\t// string brute;\n\t// string tmp = s;\n\t// rep(i,K){\n\t// \ttmp = nxt(tmp);\n\t// }\n\tint st=0;\n\twhile(K>0&&st<N){\n\t\tK--;\n\t\tif(s[st]=='A' ^ st%2==1){\n\t\t\ts[st] = 'A'^'B'^s[st];\n\t\t\tcontinue;\n\t\t}else{\n\t\t\tst++;\n\t\t}\n\t}\n\tstring t(N,'.');\n\tfor(int i=st;i<N;i++){\n\t\tif(st%2==0) t[i-st] = s[i];\n\t\telse t[i-st] = s[i]^'A'^'B';\n\t}\n\trep(i,st){\n\t\tif((st-i)%2==1) t[N-st+i] = 'A';\n\t\telse t[N-st+i] = 'B';\n\t}\n\tif(K>0){\n\t\tif(K%2==1) t = nxt(t);\n\t}\n\n\tcout<<t<<endl;\n//\tassert(tmp==t);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nconst int N=200005;\n\nint n,K;\nchar s[N];\nbitset<N> V;\n\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)V[i]=s[i]=='A';\n\tfor(int i=1;i<=min(K,10*n);i++){\n\t\tif(V[1]==1)V[1]=0;\n\t\telse V=~(V>>1),V[n]=1;\n\t}\n\tif(2*n<=K&&(n&1))if(K&1)V[1]=!V[1];\n\tfor(int i=1;i<=n;i++)if(V[i])putchar('A');else putchar('B');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 3e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 2;\n\t\t\telse\n\t\t\t\tq[i] = 1;\n\t\t} else {\n\t\t\ta[i] = 1;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 1;\n\t\t\telse\n\t\t\t\tq[i] = 2;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[w + i + 1] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<string.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\n\n#define REP(i,n) for(int i=0, i##_len=(n); i<i##_len; ++i)\n#define EACH(i,c) for(__typeof((c).begin()) i=(c).begin(),i##_end=(c).end();i!=i##_end;++i)\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n\ntemplate<class T> inline void amin(T &x, const T &y) { if (y<x) x=y; }\ntemplate<class T> inline void amax(T &x, const T &y) { if (x<y) x=y; }\ntemplate<class Iter> void rprintf(const char *fmt, Iter begin, Iter end) {\n    for (bool sp=0; begin!=end; ++begin) { if (sp) putchar(' '); else sp = true; printf(fmt, *begin); }\n    putchar('\\n');\n}\n\nint N, K;\nchar S[200011];\n\nvoid MAIN() {\n    scanf(\"%d%d%s\", &N, &K, S);\n\n    int pos = 0;\n    while (pos + 2 <= N) {\n\tif (S[pos] == 'A' && K >= 1) {\n\t    S[pos] = 'B';\n\t    K--;\n\t} else if (S[pos+1] == 'B' && K >= 3) {\n\t    K -= 3;\n\t    pos += 2;\n\t} else if (K >= 2) {\n\t    K -= 2;\n\t    pos += 2;\n\t} else {\n\t    break;\n\t}\n    }\n    REP (i, N) {\n\tif (i+pos < N) S[i] = S[i+pos];\n\telse S[i] = (i+pos-N) % 2 == 0 ? 'B' : 'A';\n    }\n    if (K >= 10) {\n\tK = (K-10)%2 + 10;\n    }\n    REP (k, K) {\n\tpos = 0;\n\tint from = -1;\n\twhile (0 <= pos && pos < N) {\n\t    if (S[pos] == 'A') {\n\t\tS[pos] = 'B';\n\t\tpos += from;\n\t\tfrom = -from;\n\t    } else {\n\t\tS[pos] = 'A';\n\t\tpos -= from;\n\t    }\n\t}\n    }\n    puts(S);\n}\n\nint main() {\n    int TC = 1;\n//    scanf(\"%d\", &TC);\n    REP (tc, TC) MAIN();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#include <cstdio>\n#include <string>\n#include <algorithm>\n#include <queue>\n#include <unordered_map>\n#include <map>\n#define ll long long\nusing namespace std;\n\n#define MOD 1000000007\n\nclass Solve\n{\nprivate:\n\tint n;\n\tint k;\n\tstring s;\n\tunordered_map<string, int> hash1;\n\tunordered_map<int, string> hash2;\npublic:\n\tSolve(){\n\t\tcin >> n >> k;\n\t\tcin >> s;\n\t}\n\n\tstring fetch_next(string tmp){\n\t\tstring cur = tmp;\n\t\tint i = 0;\n\n\t\tbool ltor = true;\n\n\t\twhile(i < n && i >= 0){\n\t\t\t// cout << i << endl;\n\t\t\tif(ltor){\n\t\t\t\tif(cur[i] == 'A'){\n\t\t\t\t\tcur[i] = 'B';\n\t\t\t\t\ti--;\n\t\t\t\t\tltor = false;\n\t\t\t\t}else{\n\t\t\t\t\tcur[i] = 'A';\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(cur[i] == 'A'){\n\t\t\t\t\tcur[i] = 'B';\n\t\t\t\t\ti++;\n\t\t\t\t\tltor = true;\n\t\t\t\t}else{\n\t\t\t\t\tcur[i] = 'A';\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// cout << cur << endl;\n\t\t}\n\t\treturn cur;\n\t}\n\n\tvoid exec(){\n\t\t// hash2[0] = s;\n\t\t// hash1[s] = 0;\n\t\tint itr = 0;\n\t\tstring cur = s;\n\t\twhile(hash1.find(cur) == hash1.end()){\n\t\t\thash1[cur] = itr;\n\t\t\thash2[itr] = cur;\n\t\t\titr++;\n\t\t\tcur = fetch_next(cur);\n\t\t\t// cout << cur << endl;\n\t\t}\n\n\t\t// cout << itr << endl;\n\n\n\n\t\tcout << hash2[(k)%itr] << endl;\n\t}\n};\n\nint main(){\n\tSolve solver = Solve();\n\tsolver.exec();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nmap<string,ll> mp1;\nmap<ll,string> mp2;\nstring next(string& s){\n\tstring res = s;\n\tif(s[0] == 'A') {res[0] = 'B';return res;} \n\tint i=0;\n\tint n = s.length();\n\twhile(i<n){\t\t\n\t\twhile(1){\n\t\t\tif(i==n-1 || ((i+1<n)&&s[i+1]=='B')) res[i++] = 'A';\n\t\t\telse break;\n\t\t}\n\t\tif(i==n) return res;\n\t\ti++;\n\t\twhile(1){\n\t\t\tif(i<n-1 && s[i+1]=='A') res[i++] = 'B';\n\t\t\telse break;\n\t\t}\n\t}\n\treturn res;\n}\nint main(){\n\tll N,K;string s;\n\tcin >> N >> K;\n\tcin >> s;\n\tfor(ll i=0;i<K;++i){\n\t\tif(mp1.count(s)) {\n\t\t\tll ind = K-mp1[s];\n\t\t\tind %= (i-mp1[s]);\n\t\t\tind += mp1[s];\n\t\t\tcout << mp2[ind] << endl; return 0;\n\t\t}\n\t\tmp1[s] = i;\n\t\tmp2[i] = s;\n\t\ts = next(s);\n\t}\n\tcout << s << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LL long long\n#define FOE(i, s, t) for (int i = s; i <= t; i++)\n\nint n, k;\n\n#define K 12000001\n\nchar s[K];\n\nchar f(int a, char b){\n        if (a){\n                if (b == 'A') return 'B';\n                return 'A';\n        }\n        return b;\n}\n\nint main(){\n        scanf(\"%d%d\", &n, &k);\n        scanf(\"%s\", s);\n\n        int ptr = 0, tog = 0;\n        int las = n;\n\n        FOE(i, 1, min(k, 11000000)){\n                int tru = (s[ptr] == 'A'? 0: 1);\n                if (tog) tru ^= 1;\n\n                if (tru == 0){\n                        s[ptr] = (s[ptr] == 'A'? 'B': 'A');\n                } else {\n                        s[las] = (tog? 'A': 'B');\n                        las++;\n                        ptr++;\n                        tog ^= 1;\n                }\n        }\n\n        int left = max(0, k - 5000000); if(left) tog = 0;\n\n        /*FOE(i, 1, k){int cur = 0, dir = 1;\n        while (cur >= 0 && cur < n){\n                if (s[cur] == 'A') dir *= -1, s[cur] = 'B';\n                else s[cur] = 'A';\n                cur = cur + dir;\n        }}\n*/\n\n        FOE(i, 1, n) printf(\"%c\", f(tog, s[ptr + i - 1]));\n        puts(\"\");\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint main() {\n    int n, k;\n    std::string s;\n    std::cin >> n >> k >> s;\n    if (n > k) {\n        std::bitset<210000> b;\n        // A -> 0, B -> 1\n        for (auto i = 0; i < s.size(); i++) {\n            b[i] = s[i] == 'B';\n        }\n        for (int i = 0; i < k; i++) {\n            if (b[0]) {\n                b >>= 1;\n                b = ~b;\n                b[n - 1] = false;\n            } else {\n                b[0] = true;\n            }\n        }\n        for (int i = 0; i < n; i++) std::cout << (b[i] ? 'B' : 'A');\n    } else {\n        if (n % 2) {\n            std::cout << ((n - k) % 2 ? 'B' : 'A');\n            for (int i = 1; i < n; i++) std::cout << (i % 2 ? 'B' : 'A');\n        } else {\n            for (int i = 0; i < n; i++) std::cout << (i % 2 ? 'A' : 'B');\n        }\n    }\n    std::cout << std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+1) k=k%2?(n*2+1):(n%2+2);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define debug(x) cout << #x << \" = \" << x << endl\n#define fori(i, ini, lim) for(int i = int(ini); i < int(lim); i++)\n#define ford(i, ini, lim) for(int i = int(ini); i >= int(lim); i--)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> ii;\n\nconst int MAX = 1e2 + 5;\nint times[MAX];\n\nchar other(char c) {\n\treturn c == 'A' ? 'B' : 'A';\n}\n\nint main() {\n\tios_base::sync_with_stdio(false);\n\n\tint n, k;\n\tcin >> n >> k;\n\tdeque<char> s;\n\tfori(i, 0, n) {\n\t\tchar c;\n\t\tcin >> c;\n\t\ts.push_back(c);\n\t}\n\n\tif(k > 2 * n) {\n\t\tk = 2 * n + (k & 1);\n\t}\n\n\tint parity = 0;\n\tfori(i, 0, k) {\n\t\tchar f = s.front();\n\t\tif((f == 'A' && parity == 0) || (f == 'B' && parity == '1')) {\n\t\t\t*s.begin() = (f == 'A') ? 'B' : 'A';\n\t\t}\n\t\telse {\n\t\t\ts.pop_front();\n\t\t\tparity ^= 1;\n\t\t\ts.push_back(parity ? 'B' : 'A');\n\t\t}\n\t}\n\n\tfor(auto &each : s) {\n\t\tcout << (parity ? other(each) : each);\n\t}\n\tcout << '\\n';\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <bitset>\n#include <queue>\n#define enter putchar('\\n')\n#define space putchar(' ')\n//#define ivorysi\n#define pb push_back\n#define mo 974711\n#define pii pair<int,int>\n#define mp make_pair\n#define fi first\n#define se second\n#define MAXN 200005\n#define eps 1e-12\nusing namespace std;\ntypedef long long int64;\ntypedef double db;\ntemplate<class T>\nvoid read(T &res) {\n    res = 0;char c = getchar();T f = 1;\n    while(c < '0' || c > '9') {\n\tif(c == '-') f = -1;\n\tc = getchar();\n    }\n    while(c >= '0' && c <= '9') {\n\tres = res * 10 - '0' + c;\n\tc = getchar();\n    }\n    res = res * f;\n}\ntemplate<class T>\nvoid out(T x) {\n    if(x < 0) {x = -x;putchar('-');}\n    if(x >= 10) out(x / 10);\n    putchar('0' + x % 10);\n}\nchar s[MAXN];\nint N,K,p = 1,num[MAXN],cnt,st;\nvoid Solve() {\n    read(N);read(K);\n    scanf(\"%s\",s + 1);\n    for(int i = 1 ; i <= N ; ++i) num[i] = s[i] - 'A';\n    st = num[1];\n    while(K--) {\n\tif(st == 0) {st ^= 1;num[p] ^= 1;}\n\telse {\n\t    ++p;++cnt;\n\t    st = num[p];\n\t    st ^= (cnt & 1);\n\t}\n\tif(p > N) break;\n    }\n    if(p <= N) {\n\tfor(int i = p ; i <= N ; ++i) putchar('A' + (num[i] ^ (cnt & 1)));\n\tint t = N - (N - p + 1),c = (cnt - 1) & 1;\n\twhile(t--) {\n\t    putchar('A' + c);\n\t    c ^= 1;\n\t}\n    }\n    else {\n\tif((cnt - 1) & 1) {\n\t    for(int i = 1 ; i <= N ; ++i) putchar('A' + (i & 1));\n\t}\n\telse {\n\t    putchar('A' + (K & 1));\n\t    for(int i = 1 ; i < N ; ++i) putchar('A' + (i & 1));\n\t}\n    }\n    enter;\n}\nint main() {\n#ifdef ivorysi\n    freopen(\"f1.in\",\"r\",stdin);\n#endif\n    Solve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N = 4e5 + 9;\n\nint n, k, _a[N], *a = _a;\nchar s[N];\nbool o;\n\nint main () {\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++i) a[i] = s[i] == 'B' ? 1 : 0;\n\tfor (int i = 1; ; ++i) {\n\t\tif (*a ^ o) {\n\t\t\to ^= 1;\n\t\t\ta[n] = o;\n\t\t\t++a;\n\t\t} else {\n\t\t\t*a ^= 1;\n\t\t}\n\t\tif (i > n * 2 && (i & 1) == (k & 1)) break ;\n\t}\n\tfor (int i = 0; i < n; ++i) putchar('A' + (a[i] ^ o));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n,k,tt,A[600010],st; char sd[200010];\nint main()\n{\n\tscanf(\"%d%d\",&n,&k); scanf(\"%s\",sd+1);\n\tfor(int i=1;i<=n;i++) A[i]=sd[i]=='A';\n\tst=1; for(int i=1;i<=min(n*2,k);i++)\n\t{\n\t\tif(A[st]^tt) A[st]^=1;\n\t\telse tt^=1,st++,A[st+n-1]=A[st-1];\n\t}\n\tif(k<=n*2)\n\t{\n\t\tfor(int i=1;i<=n;i++) \n\t\t\tprintf(\"%c\",A[i+st-1]^tt? 'A':'B');\n\t}\n\telse \n\t{\n\t\tint ty=(k-n*2)&1;\n\t\tif(ty&&n&1) A[st]^=1;\n\t\tfor(int i=1;i<=n;i++) \n\t\t\tprintf(\"%c\",A[i+st-1]^tt? 'A':'B');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//start of jonathanirvings' template v3.0.3 (BETA)\n\n#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> pii;\ntypedef pair<LL,LL> pll;\ntypedef pair<string,string> pss;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vii;\ntypedef vector<LL> vl;\ntypedef vector<vl> vvl;\n\ndouble EPS = 1e-9;\nint INF = 1000000005;\nlong long INFF = 1000000000000000005LL;\ndouble PI = acos(-1);\nint dirx[8] = {-1,0,0,1,-1,-1,1,1};\nint diry[8] = {0,1,-1,0,-1,1,-1,1};\n\n#ifdef TESTING\n  #define DEBUG fprintf(stderr,\"====TESTING====\\n\")\n  #define VALUE(x) cerr << \"The value of \" << #x << \" is \" << x << endl\n  #define debug(...) fprintf(stderr, __VA_ARGS__)\n#else\n  #define DEBUG \n  #define VALUE(x)\n  #define debug(...)\n#endif\n\n#define FOR(a,b,c) for (int (a)=(b);(a)<(c);++(a))\n#define FORN(a,b,c) for (int (a)=(b);(a)<=(c);++(a))\n#define FORD(a,b,c) for (int (a)=(b);(a)>=(c);--(a))\n#define FORSQ(a,b,c) for (int (a)=(b);(a)*(a)<=(c);++(a))\n#define FORC(a,b,c) for (char (a)=(b);(a)<=(c);++(a))\n#define FOREACH(a,b) for (auto &(a) : (b))\n#define REP(i,n) FOR(i,0,n)\n#define REPN(i,n) FORN(i,1,n)\n#define MAX(a,b) a = max(a,b)\n#define MIN(a,b) a = min(a,b)\n#define SQR(x) ((LL)(x) * (x))\n#define RESET(a,b) memset(a,b,sizeof(a))\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define ALL(v) v.begin(),v.end()\n#define ALLA(arr,sz) arr,arr+sz\n#define SIZE(v) (int)v.size()\n#define SORT(v) sort(ALL(v))\n#define REVERSE(v) reverse(ALL(v))\n#define SORTA(arr,sz) sort(ALLA(arr,sz))\n#define REVERSEA(arr,sz) reverse(ALLA(arr,sz))\n#define PERMUTE next_permutation\n#define TC(t) while(t--)\n\ninline string IntToString(LL a){\n  char x[100];\n  sprintf(x,\"%lld\",a); string s = x;\n  return s;\n}\n\ninline LL StringToInt(string a){\n  char x[100]; LL res;\n  strcpy(x,a.c_str()); sscanf(x,\"%lld\",&res);\n  return res;\n}\n\ninline string GetString(void){\n  char x[1000005];\n  scanf(\"%s\",x); string s = x;\n  return s;\n}\n\ninline string uppercase(string s){\n  int n = SIZE(s); \n  REP(i,n) if (s[i] >= 'a' && s[i] <= 'z') s[i] = s[i] - 'a' + 'A';\n  return s;\n}\n\ninline string lowercase(string s){\n  int n = SIZE(s); \n  REP(i,n) if (s[i] >= 'A' && s[i] <= 'Z') s[i] = s[i] - 'A' + 'a';\n  return s;\n}\n\ninline void OPEN (string s) {\n  #ifndef TESTING\n  freopen ((s + \".in\").c_str (), \"r\", stdin);\n  freopen ((s + \".out\").c_str (), \"w\", stdout);\n  #endif\n}\n\n//end of jonathanirvings' template v3.0.3 (BETA)\n\nint n,k;\nstring s;\n// unordered_map<string,int> pet;\nmap<LL,int> pet;\nLL hsh;\nLL dua[200005];\nLL MOD = 1e9 + 7;\n\nstring coba(string c)\n{\n  int pos = 0;\n  int dir = 1;\n  while (0 <= pos && pos < SIZE(c))\n  {\n    c[pos] = 'A' + 'B' - c[pos];\n    if (c[pos] == 'B') dir *= -1;\n    pos += dir;\n  }\n  return c;\n}\n\nvoid normalize(LL &x)\n{\n  if (x >= MOD) x -= MOD;\n  if (x < 0) x += MOD;\n}\n\nvoid coba2(string &c)\n{\n  int pos = 0;\n  int dir = 1;\n  while (0 <= pos && pos < SIZE(c))\n  {\n    if (c[pos] == 'A')\n    {\n      hsh += dua[pos];\n      normalize(hsh);\n    } else \n    {\n      hsh -= dua[pos];\n      normalize(hsh);\n    }\n    c[pos] = 'A' + 'B' - c[pos];\n    if (c[pos] == 'B') dir *= -1;\n    pos += dir;\n  }\n}\n\n\nvoid pola()\n{\n  REPN(len,10)\n  {\n    REP(i,1<<len)\n    {\n      string s = \"\";\n      REP(j,len) if (i & (1 << j)) s += 'A';\n      else s += 'B';\n      printf(\"%s %s\\n\",s.c_str(),coba(s).c_str());\n    }\n  }\n  exit(0);\n}\n\nint main()\n{\n  // pola();\n  dua[0] = 1;\n  FORN(i,1,200000) dua[i] = (dua[i-1] * 2) % MOD;\n  scanf(\"%d %d\",&n,&k);\n  s = GetString();\n  REP(i,SIZE(s))\n  {\n    if (s[i] == 'B') hsh += dua[i];\n    normalize(hsh);\n  }\n  REP(i,k)\n  {\n    if (pet.count(hsh))\n    {\n      int cyclen = i - pet[hsh];\n      int sisa = (k - i) % cyclen;\n      TC(sisa) coba2(s);\n      break;\n    }\n    pet[hsh] = i;\n    coba2(s);\n  }\n  printf(\"%s\\n\",s.c_str());\n  return 0;\n}\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define uniq(x) sort(all(x)),(x).erase(unique(all(x)),end(x))\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\n#define INF 2147483600\n\ninline char r(char c){\n  if(c=='A') return 'B';\n  else return 'A';\n}\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n\n  int pos=0;\n  bool rev=false;\n  while(k>0 && pos<n){\n    if((s[pos]=='A' && !rev) || (s[pos]=='B' && rev)) s[pos] = r(s[pos]);\n    else {\n      rev = !rev;\n      pos++;\n    }\n    k--;\n  }\n\n  string t = s.substr(pos);\n  if(rev) rep(i,t.size()) t[i] = r(t[i]);\n  cout << t;\n\n  bool b = pos%2==1;\n  rep(i,pos){\n    if(i==0 && pos==n && n%2==1 && k%2==1) cout<<\"A\";\n    else if(b) cout << \"A\";\n    else cout << \"B\";\n    b = !b;\n  }\n\n  cout << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\n\n#define CIN_ONLY if(1)\nstruct cww{cww(){\n    CIN_ONLY{\n        ios::sync_with_stdio(false);cin.tie(0);\n    }\n}}star;\n#define fin \"\\n\"\n#define FOR(i,bg,ed) for(int i=(bg);i<(ed);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n#define pb push_back\n#define DEBUG if(0)\n#define REC(ret, ...) std::function<ret (__VA_ARGS__)>\ntemplate <typename T>inline void chmin(T &l,T r){l=min(l,r);}\ntemplate <typename T>inline void chmax(T &l,T r){l=max(l,r);}\ntemplate <typename T>\nistream& operator>>(istream &is,vector<T> &v){\n    for(auto &it:v)is>>it;\n    return is;\n}\n\nint main(){\n    int N,K;\n    string s;\n    cin>>N>>K>>s;\n    vector<int> bin(N);\n    REP(i,N)bin[i]=s[i]-'A';\n    if(N==1){\n        s[0]=(bin[0]^(K%2))+'A';\n        cout<<s<<endl;\n        return 0;\n    }\n    int bg=1,ed=N;\n    int rev=0;\n    int fi=bin[0];\n    for(int e=0;ed>bg;e=1-e,ed--)\n        if(bin[ed-1]!=e)break;\n    while(K){\n        if(ed-bg<1&&fi==1)break;\n        if(fi==0)fi=1;\n        else{\n            int val=bin[bg]^rev;\n            if(val==1){\n                fi=0;\n            }else{\n                fi=1;\n            }\n            rev=1-rev;\n            bg++;\n        }\n        K--;\n    }\n    FOR(i,bg,ed)s[i-bg+1]=(bin[i]^rev)+'A';\n    for(int i=N-1,e=0;i>ed-bg;i--,e=1-e)s[i]=e+'A';\n    s[0]=fi+'A';\n    cout<<s<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define DEBUG 0\n/*\n*/\n\nusing namespace std;\n\n\n\nint main() {\n\tlong long int N, K;\n\tstring S;\n\n\tmap<string, pair<string, long long int>>memo;\n\tcin >> N >> K >> S;\n\tfor (size_t i = 0; i < K; i++)\n\t{\n\t\tif (memo.count(S))\n\t\t{\n\t\t\ti += (K - i) / (i - memo[S].second)*(i - memo[S].second);\n\t\t\tfor (; i < K; i++)\n\t\t\t{\n\t\t\t\tS = memo[S].first;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tstring prevS = S;\n\t\tlong long int now = 0;\n\t\tlong long int x = 1;\n\t\twhile (0 <= now&&now < S.length())\n\t\t{\n\t\t\tif (S[now] == 'A')\n\t\t\t{\n\t\t\t\tS[now] = 'B';\n\t\t\t\tx *= -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tS[now] = 'A';\n\t\t\t}\n\t\t\tnow += x;\n\t\t}\n\t\tmemo[prevS] = make_pair(S, i);\n\t}\n\n\n\tcout << S << endl;\n\tif (DEBUG)\n\t{\n\t\tint ewataeoprgjpsrteog;\n\t\tcin >> ewataeoprgjpsrteog;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define LL long long\n#define LD long double\n#define SC(t,x) static_cast<t>(x)\n#define AR(t) vector < t >\n#define PII pair < int, int >\n#define PLL pair < LL, LL >\n#define PIL pair < int, LL >\n#define PLI pair < LL, int >\n#define MP make_pair\n#define PB push_back\n#define PF push_front\n#define POB pop_back\n#define POF pop_front\n#define PRF first\n#define PRS second\n#define INIT(ar,val) memset ( ar, val, sizeof ( ar ) )\n#define lp(loop,start,end) for ( int loop = start; loop < end; ++loop )\n#define lpd(loop,start,end) for ( int loop = start; loop > end; --loop )\n#define lpi(loop,start,end) for ( int loop = start; loop <= end; ++loop )\n#define lpdi(loop,start,end) for ( int loop = start; loop >= end; --loop )\n#define qmax(a,b) (((a)>(b))?(a):(b))\n#define qmin(a,b) (((a)<(b))?(a):(b))\n#define qabs(a) (((a)>=0)?(a):(-(a)))\n\nconst int INF = 0x3fffffff;\nconst int SINF = 0x7fffffff;\nconst long long LINF = 0x3fffffffffffffff;\nconst long long SLINF = 0x7fffffffffffffff;\nconst int MAXN = 1000007;\n\nint n, K, ki, kc;\nchar s[MAXN];\nint a[MAXN];\nchar ans[MAXN];\n\nvoid init ();\nvoid input ();\nvoid work ();\n\nvoid fill ( int l, int r )\n{\n\tlpi ( i, l, r ) ans[i] = 'B';\n}\n\n\n\nint main()\n{\n\tinit();\n\tinput();\n\twork();\n}\n\n\n\nvoid init ()\n{\n\t// Init Everything Here\n\t\n\tios::sync_with_stdio ( false );\n}\n\nvoid input ()\n{\n\t// input method\n\t\n\tscanf ( \"%d%d%s\", &n, &K, s+1 );\n}\n\nvoid work ()\n{\n\t// main work\n\t\n\tn = strlen ( s+1 );\n\tki = 0;\n\tint cbl = -1;\n\tlpi ( i, 1, n ){\n\t\tif ( s[i] == 'B' ){\n\t\t\tif ( cbl == -1 ) cbl = i;\n\t\t}else{\n\t\t\tif ( ~cbl ) a[ki<<1] = cbl, a[ki<<1|1] = i - 1, ++ki, cbl = -1;\n\t\t}\n\t}\n\tif ( ~cbl ) a[ki<<1] = cbl, a[ki<<1|1] = n + 1, ++ki, cbl = -1;\n\t\n\tfor ( int i = ki<<1; i < MAXN; i += 2 ) a[i] = a[i+1] = n + 1 + ( i - ( ki << 1 ) ) + ( s[n] == 'B' ? 2 : 0 );\n\t\n//\tlp ( i, 0, ki+1000 ) cerr << a[i] << \" \";\n//\tcerr << endl;\n\t\n\tint nk = 0, cl = a[0], cr = a[1];\n\tlpi ( _t, 1, K ){\n\t\tif ( cl > 1 ){\n\t\t\tif ( cl > 2 ){\n\t\t\t\tcl = cr = 1;\n\t\t\t\t--nk;\n\t\t\t}else --cl;\n\t\t}else{\n\t\t\t++kc;\n\t\t\tcl = cr, cr = a[(nk<<1)+kc+1] - ( ( kc + 1 ) & ~1 );\n\t\t}\n\t\t\n\t\tif ( kc == ( ( n + 7 ) << 1 ) ){\n\t\t\tif ( n & 1 ){\n\t\t\t\tif ( ( K - _t ) & 1 ) putchar ( 'B' );\n\t\t\t\telse putchar ( 'A' );\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}else{\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tfill ( ans+1, ans+1+n, 'A' );\n\tfill ( cl, cr );\n\tlp ( i, nk+1, ki ){\n//\t\tcerr << i << \" : \" << a[(i<<1)+kc] << \" \" << a[(i<<1)+kc] - ( kc & ~1 ) << \" \" << a[(i<<1)+kc+1] - ( ( kc + 1 ) & ~1 ) << endl;\n\t\tfill ( a[(i<<1)+kc] - ( kc & ~1 ), a[(i<<1)+kc+1] - ( ( kc + 1 ) & ~1 ) );\n\t}\n\tans[n+1] = '\\0';\n\t\n\tprintf ( \"%s\\n\", ans+1 );\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//#define inf 0x3f3f3f3f3f3f3f3f\n#define inf 0x3f3f3f3f\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define inv(x) Power(x, mod - 2)\n#define fi first\n#define se second\n#define MP make_pair\n#define PB push_back\n#define N 100005\n\nusing namespace std;\ntypedef pair<int,int> Pair;\ntypedef long long ll;\n\nconst long double Pi = 3.14159265358979323846l;\nconst int mod = 1e9 + 7;\ninline int add(int x, int y) { return (x += y) - (x >= mod ? mod : 0); }\ninline void inc(int &x, int y) { (x += y) -= (x >= mod ? mod : 0); }\ninline int mul(int x, int y) { return 1ll * x * y % mod; }\ninline int Power(int x, int y) {\n\tint res = 1;\n\twhile (y) {\n\t\tif (y & 1) res = mul(res, x);\n\t\tx = mul(x, x), y >>= 1;\n\t} return res;\n}\n\ntemplate <class T> inline T\tinput() {\n\tT x; char ch; while (!isdigit(ch = getchar()));\n\tfor (x = ch ^ 48; isdigit(ch = getchar()); x = x * 10 + (ch ^ 48));\n\treturn x;\n}\n\ntemplate <class T> inline void chkmin(T &x, T &y) { x = x < y ? x : y; }\ntemplate <class T> inline void chkmax(T &x, T &y) { x = x > y ? x : y; }\n\nstruct {\n\tinline operator int () { return input<int>(); }\n\tinline operator long long () { return input<long long>(); }\n\ttemplate <class T> inline void operator () (T &x) { x = *this; }\n\ttemplate<class T, class ...A> inline void operator () (T &x, A &...a)\n\t{ x = *this; this -> operator ()(a...); }\n} read;\n\nint n, k, flag;\nint a[N], head;\nchar s[N];\n\nint NEXT(int x) { return x == n ? 1 : x + 1; }\n\nint main() {\n\tread(n, k);\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\thead = 1;\n\n\tfor (int i = 1; i <= k; ++i)\n\t\tif (!(a[head] ^ flag)) a[head] ^= 1;\n\t\telse head = NEXT(head), flag ^= 1;\n\n\tfor (int i = 1, pos = head; i <= n; ++i, pos = NEXT(pos))\n\t\tputchar(a[pos] ^ flag ? 'B' : 'A');\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits//stdc++.h\"\nusing namespace std;\ntypedef long long ll;\nconst ll INF = 1LL << 60;\nconst ll MOD = 1e9 + 7;\n\n#define ALL(v) v.begin(), v.end()\nint main() {\n\tint N, K;\n\tcin >> N >> K;\n\tstring S;\n\tstring ans;\n\tans.resize(N);\n\tcin >> S;\n\tdeque<int> que;\n\tint len = 1;\n\tfor (int i = 1; i < S.size(); i++) {\n\t\tif (S[i - 1] == S[i]) {\n\t\t\tlen++;\n\t\t}\n\t\telse {\n\t\t\tque.push_back(len);\n\t\t\tlen = 1;\n\t\t}\n\t}\n\tque.push_back(len);\n\tbool head = (S[0] == 'B');\n\tfor (int i = 0; i < K; i++) {\n\t\tif (head && que.size() == N) break;\n\t\tif (head) {\n\t\t\tif (que.size() == 1) {\n\t\t\t\thead = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint len = que.front(); que.pop_front();\n\t\t\tif (len > 1) {\n\t\t\t\tque.push_front(len - 1);\n\t\t\t\thead = 0;\n\t\t\t\tif (que.size() % 2 == 0) que.push_back(1);\n\t\t\t\telse que.back()++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (que.size() % 2 == 0) que.back()++;\n\t\t\t\telse que.push_back(1);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint len = que.front(); que.pop_front();\n\t\t\tif (len > 1) {\n\t\t\t\tque.push_front(len - 1);\n\t\t\t\tque.push_front(1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (que.size() > 0) que.front()++;\n\t\t\t\telse que.push_front(1);\n\t\t\t}\n\t\t\thead = 1;\n\t\t}\n\t}\n\tint pos = 0;\n\twhile (!que.empty()) {\n\t\tint len = que.front(); que.pop_front();\n\t\tfor (int i = 0; i < len; i++) {\n\t\t\tans[pos++] = head ? 'B' : 'A';\n\t\t}\n\t\thead ^= 1;\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "// warm heart, wagging tail,and a smile just for you!\n//                                                                     ███████████\n//                                                                   ███╬╬╬╬╬╬╬╬╬╬███\n//                                                                ███╬╬╬╬╬████╬╬╬╬╬╬███\n//                                            ███████████       ██╬╬╬╬╬████╬╬████╬╬╬╬╬██\n//                                      █████████╬╬╬╬╬████████████╬╬╬╬╬██╬╬╬╬╬╬███╬╬╬╬╬██\n//                               ████████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬█████████╬╬╬╬╬╬██╬╬╬╬╬╬╬██\n//                             ████╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬█████████╬╬╬╬╬╬╬╬╬╬╬██\n//                           ███╬╬╬█╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬███╬╬╬╬╬╬╬█████\n//                         ███╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬╬████████╬╬╬╬╬██\n//                       ███╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬███╬╬╬╬╬╬╬╬╬███\n//                     ███╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬█████╬╬╬╬╬╬╬██\n//                 ████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬████╬╬╬╬╬████\n//     █████████████╬╬╬╬╬╬╬╬██╬╬╬╬╬████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬█████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬███╬╬╬╬██████\n//   ████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬██████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██████╬╬╬╬╬╬╬███████████╬╬╬╬╬╬╬╬██╬╬╬██╬╬╬██\n// ███╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬████╬╬╬╬╬╬╬╬╬╬╬█╬╬╬╬╬╬╬██╬╬╬╬╬╬╬╬██\n// ██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬╬╬▓▓▓▓▓▓╬╬╬████╬╬████╬╬╬╬╬╬╬▓▓▓▓▓▓▓▓██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬╬╬╬╬╬███\n// ██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██████▓▓▓▓▓▓▓╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬▓▓▓▓▓▓▓██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██╬╬╬╬█████\n// ███╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬███╬╬╬╬╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬█████╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬████████\n//   ███╬╬╬╬╬╬╬╬╬╬╬╬╬█████╬╬╬╬╬╬╬╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬███╬╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬██\n//       ██████████████  ████╬╬╬╬╬╬███████████████████████████╬╬╬╬╬██╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬╬████\n//                         ███████                           █████  ███████████████████  \n//\n#include \"bits/stdc++.h\"\nusing namespace std;\n#define INF (1<<30)\n#define LINF (1LL<<60)\n#define fs first\n#define sc second\n#define int long long\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define RFOR(i,a,b) for(int i = (b-1);i>=(a);--i)\n#define REP(i,n)  FOR(i,0,(n))\n#define RREP(i,n) RFOR(i,0,(n))\n#define ITR(itr,mp) for(auto itr = (mp).begin(); itr != (mp).end(); ++itr)\n#define RITR(itr,mp) for(auto itr = (mp).rbegin(); itr != (mp).rend(); ++itr)\n#define range(i,a,b) ((a)<=(i) && (i)<(b))\n#define debug(x)  cout << #x << \" = \" << (x) << endl\n#define SP << \" \" << \ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\n#define MSB(x) (63-__builtin_clzll(x))\n#define pcnt(x) (__builtin_popcountll(x))\n#define parity(i,j) (i&(1LL<<j))\ntypedef pair<int,int> P;\ntypedef tuple<int,int,int> T;\ntypedef vector<int> vec;\ntypedef vector<vector<int>> mat;\n\nsigned main(){\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n\n  int n,k;\n  string s;\n  cin >> n >> k >> s;\n\n  vec a(n);\n  REP(i,n) a[i] = s[i]-'A';\n\n  int f = 0, id = 0;\n  REP(i,3*n){\n    if(!k){\n      REP(j,n){\n        int in = (id+j)%n;\n        cout << (char)('A'+(a[in]^f));\n      }\n      cout << endl;\n      return 0;\n    }\n    if(a[id]==f){\n      a[id] ^= 1;\n    }\n    else{\n      id = (id+1)%n;\n      f ^= 1;\n    }\n    k--;\n  }\n\n  if(a[(id+1)%n]!=f){\n    cout << (char)('A'+(((a[id]+k)%2)^f));\n    REP(i,n-1) cout << (char)('B'-i%2);\n  }\n  else{\n    REP(i,n) cout << (char)('B'-i%2);\n    cout << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }\n        if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n            break;\n        }\n    }\n    for(int i=0;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k, km; rd(n, k); km = k;\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1, cnt = 0; i <= k, cnt <= n; ++i, --km) {\n\t\tif(a[st] == inv) a[st] ^= 1, ++cnt;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tif(n % 2 == 0) {\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t} else {\n\t\tprintf(\"%c\", (a[st] ^ inv ^ (km & 1)) + 'A');\n\t\tfor(int i = 2; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nstring s;\nvector<pair<string, int> > dict;\nint dir;\n\nint put(int idx) {\n  if (s[idx] == 'A') {\n    s[idx] = 'B';\n    if (dir == 0) {\n      idx--; dir++;\n    } else if (dir == 1) {\n      idx++; dir--;\n    }\n  } else if (s[idx] == 'B') {\n    s[idx] = 'A';\n    if (dir == 0) {\n      idx++;\n    } else if (dir == 1) {\n      idx--;\n    }\n  }\n  return idx;\n}\n\nint main(){\n  ll n,k;\n  cin >> n >> k;\n  cin >> s;\n  for (ll i = 0; i < k; i++){\n    int idx = 0; dir = 0;\n    while (idx != -1 && idx != n) {\n      //cout << idx << ' ';\n      idx = put(idx);\n      //cout << idx << endl;\n      //cout << s << endl;\n    }\n    dict.push_back(make_pair(s,i));\n    for (ll j = 0; j < dict.size()-1; j++) {\n      if (s == dict[j].first) {\n        ll span = i - dict[j].second;\n        i += ((k - i) / span) * span;\n      }\n    }\n  }\n  cout << s << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef double lf;\ntypedef pair<int,int> ii;\ntypedef pair<ii,int> iii;\n#define REP(i,n) for(int i=0;i<n;i++)\n#define REP1(i,n) for(int i=1;i<=n;i++)\n#define RST(i,n) memset(i,n,sizeof i)\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(),a.end()\n#define X first\n#define Y second\n#define eb emplace_back\n#ifdef cold66\n#define debug(...) do{\\\n    fprintf(stderr,\"LINE %d: (%s) = \",__LINE__,#__VA_ARGS__);\\\n    _do(__VA_ARGS__);\\\n}while(0)\ntemplate<typename T>void _do(T &&_x){cerr<<_x<<endl;}\ntemplate<typename T,typename ...S> void _do(T &&_x,S &&..._t){cerr<<_x<<\", \";_do(_t...);}\ntemplate<typename _a,typename _b> ostream& operator << (ostream &_s,const pair<_a,_b> &_p){return _s<<\"(\"<<_p.X<<\",\"<<_p.Y<<\")\";}\ntemplate<typename It> ostream& _OUTC(ostream &_s,It _ita,It _itb)\n{\n    _s<<\"{\";\n    for(It _it=_ita;_it!=_itb;_it++)\n    {\n        _s<<(_it==_ita?\"\":\",\")<<*_it;\n    }\n    _s<<\"}\";\n    return _s;\n}\ntemplate<typename _a> ostream &operator << (ostream &_s,vector<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a> ostream &operator << (ostream &_s,set<_a> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _a,typename _b> ostream &operator << (ostream &_s,map<_a,_b> &_c){return _OUTC(_s,ALL(_c));}\ntemplate<typename _t> void pary(_t _a,_t _b){_OUTC(cerr,_a,_b);cerr<<endl;}\n#define IOS()\n#else\n#define debug(...)\n#define pary(...)\n#define endl '\\n'\n#define IOS() ios_base::sync_with_stdio(0);cin.tie(0);\n#endif // cold66\n//}\ntemplate<class T> inline bool chkmax(T &a, const T &b) { return b > a ? a = b, true : false; }\ntemplate<class T> inline bool chkmin(T &a, const T &b) { return b < a ? a = b, true : false; }\n\nconst ll MAXn=1e5+5,MAXlg=__lg(MAXn)+2;\nconst ll MOD=1000000007;\nconst ll INF=0x3f3f3f3f;\n\nvoid pp(int x){\n    if (x == 0) cout << 'A';\n    else cout << 'B';\n}\nint main(){\n    IOS();\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    if (k > 2*n) k = 2*n + (k%2);\n    list<int> lst;\n    REP (i,n) {\n        if (s[i] == 'A') lst.push_back(0);\n        else lst.push_back(1);\n    }\n    int flip = 0;\n    debug(k);\n    while (k--) {\n        int cur = lst.front();\n        lst.pop_front();\n        if (flip) cur ^= 1;\n        if (cur == 0) {\n            if (flip) cur = 0;\n            else cur = 1;\n            lst.push_front(cur);\n            continue;\n        }\n        if (flip) lst.push_back(0);\n        else lst.push_back(1);\n        for (auto i:lst) debug(k,i);\n        flip ^= 1;\n    }\n    while (SZ(lst)) {\n        int cur = lst.front();\n        lst.pop_front();\n        if (flip) pp(cur^1);\n        else pp(cur);\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define ll long long\n#define rep2(i,a,b) for(int i=a;i<=b;++i)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define pii pair<int,int>\n#define tii tuple<int,int,int>\n#define pq priority_queue<int>\n#define pqg priority_queue<int,vector<int>,greater<int>>\n#define pb push_back\n#define edge(v,a,b) v[a].pb(b);v[b].pb(a);\nll int MOD=1e9+7;\n#define INF 2*1e9\n#define N 310000 \nusing namespace std;\nstring alphabet(\"abcdefghijklmnopqrstuvwxyz\");\n\nmain(){\n    int n,k;\n    cin>>n>>k;\n    bitset<N> b;\n    string ss;\n    cin>>ss;\n    for(int i=ss.size()-1;i>=0;i--){\n        if(ss[i]=='A') b[(int)ss.size()-1-i]=1;\n    }\n    int s=ss.size()-1,sss=ss.size()-1;\n    int count[N]={},t=1,a=1;\n    while(sss){\n        if(t==b[sss]) count[a]=count[a-1]+2;\n        else count[a]=count[a-1]+1;\n        if(count[a]>k) break;\n        t^=1; a++; sss--;\n    }\n    if(count[a]>k){\n        a--;\n        b<<=a;\n        if(a%2) b.flip();\n        if(count[a]<k){\n            b[s]=0;\n        }\n        rep(i,a){\n            b[i]=(i+1)%2;\n        }\n    }\n    else{\n        k-=count[s];\n        rep(i,ss.size()){\n            b[i]=(i+1)%2;\n        }\n        if(k%2&&n%2) b[s]=0;\n    }\n    while(s>=0){\n        if(b[s]) cout<<'A';\n        else cout<<'B';\n        s--;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdlib>\nusing namespace std;\n\nconst int N=200005;\n\nint tag,n,l,r,k;\nint b[N<<1];\nchar s[N];\n\nvoid change(){\n\tif (b[l]^tag){\n\t\tb[l]^=1;\n\t\treturn;\n\t}\n\ttag^=1; l++; r++;\n\tif (!tag) b[r]=1;\n}\n\nint main(){\n\tint i;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfor (i=1;i<=n;i++)\n\t\tif (s[i]=='A') b[i]=1;\n\telse b[i]=0;\n\tl=1; r=n;\n\tfor (i=1;i<=min(n+n,k);i++) change();\n\tk-=min(n+n,k);\n\tif (k&1) change();\n\tfor (i=l;i<=r;i++)\n\t\tif (b[i]^tag) printf(\"A\");\n\telse printf(\"B\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nconst int N=2e5+3;\nint n,m,f,k;char s[N*3];\ninline int Out(int k){\n\tfor(int i=1;i<=n;i++){\n\t  if(f)s[i+k]=s[i+k]=='A'?'B':'A';\n\t  putchar(s[i+k]);\n\t}\n\tputs(\"\");\n\treturn 0;\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor(int i=1;i<=n+n;i++)s[i+n]=i&1?'B':'A';\n\tfor(int i=1;i<=n+n;i++){\n\t  if(f&&s[1+k]=='B'||!f&&s[1+k]=='A')s[1+k]=s[1+k]=='A'?'B':'A';\n\t  else ++k,f^=1;\n\t  if(m==i)return 0*Out(k);\n\t}\n\tif(~n&1)return 0*Out(k);\n\tif(m-(n+n)&1)s[1+k]=s[1+k]=='A'?'B':'A';\n\treturn 0*Out(k);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=4e5+5;\ntypedef long long ll;\nint n,k;\nchar s[N];\nint num[N];\nint st;\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)\n        num[i]=s[i]-'A';\n    st=num[1];\n    int p=1;\n    int cnt=0;\n    while(k--){\n        if(st==0){\n            st^=1;\n            num[p]^=1;\n        }\n        else{\n            p++;\n            cnt++;\n            st=num[p];\n            st^=num[p];\n        }\n        if(p>n)\n            break;\n    }\n    if(p<=n){\n        for(int i=p;i<=n;i++)\n            putchar('A'+(num[i]^(cnt&1)));\n        int t=p-1,c=(cnt-1)&1;\n        while(t--){\n            putchar('A'+c);\n            c^=1;\n        }\n    }\n    else{\n        if((cnt-1)&1)\n            for(int i=1;i<=n;i++)\n                putchar('A'+(i&1));\n        else{\n            putchar('A'+(k&1));\n            for(int i=1;i<n;i++)\n                putchar('A'+(i&1));\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define N 200010\nusing namespace std;\nint n,m,a[N],q[N<<2];\nchar s[N];\n\nvoid work(int k){\n\tint l(1),r(n),tag(0);\n\tfor (int i=1;i<=n;i++)\n\t\tq[i]=s[i-1]-'A';\n\tfor (int i=1;i<=k;i++){\n\t\tif ((tag^q[l])==0)\n\t\t\tq[l]^=1;\n\t\telse{\n\t\t\tl++,tag^=1;\n\t\t\tq[++r]=tag;\n\t\t}\n\t}\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=q[l+i-1]^tag;\n}\n\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s);\n\tif (m<=n)\n\t\twork(m);\n\telse\n\t\tif (m&1)\n\t\t\twork(2*n-1);\n\t\telse\n\t\t\twork(2*n);\n\tfor (int i=1;i<=n;i++)\n\t\tprintf(\"%c\",(char)(a[i]+'A'));\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tif(k>2*n)\n\t\twhile(1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\twhile(las-tims>=1&&(s[las-tims]^(tims%2))==(n-las+1)%2)\n\t\tlas--;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\tlas+=add;\n\t\twhile(las-tims>=1&&(s[las-tims]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t}\n\tfor(int i=1;i<=las-tims;i++)\n\t\ts[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=las-tims+1;i<=n;i++)\n\t\ts[i]='B'-(n-i+1)%2;\n\tPF(\"%s\",s+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int Maxn = 400015;\n\nint n, k;\nchar str[Maxn];\n\nint main()\n{\n    scanf(\"%d %d\", &n, &k);\n    scanf(\"%s\", str);\n    for (int i = n - 2; i >= 0; i -= 2)\n        str[i] = str[i] == 'A'? 'B': 'A';\n    for (int i = n; i < Maxn; i++)\n        str[i] = 'A';\n    char sav = n % 2 == 0? 'B': 'A';\n    int pnt = 0;\n    while (pnt < n && k > 0) {\n        k--;\n        if (str[pnt] == sav) str[pnt] = str[pnt] == 'A'? 'B': 'A';\n        else pnt++;\n    }\n    if (pnt >= n && k % 2 > 0) pnt++;\n    for (int i = n - 2; i >= 0; i -= 2)\n        str[pnt + i] = str[pnt + i] == 'A'? 'B': 'A';\n    str[pnt + n] = '\\0';\n    printf(\"%s\\n\", str + pnt);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector> \n#include <list> \n#include <map> \n#include <set> \n#include <deque> \n#include <queue> \n#include <stack> \n#include <bitset> \n#include <algorithm> \n#include <functional> \n#include <numeric> \n#include <utility> \n#include <sstream> \n#include <iostream> \n#include <iomanip> \n#include <cstdio> \n#include <cmath> \n#include <cstdlib> \n#include <cctype> \n#include <string> \n#include <cstring> \n#include <ctime> \n\nusing namespace std;\n\n#define _int64 long long\n\nchar s[510000];\nint a[1000000];\nchar ans[510000];\n\nint main()\n{\n  vector<int> a;\n  int i,j,n,k,f,jian,h,t,need;\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  s[n]='B';\n  for (i=1;i<n;i++)\n    s[n+i]='A'+'B'-s[n+i-1];\n  ans[n]='\\0';\n  for (i=0;i<n;i++)\n  {\n    if (i==0)\n    {\n      if (s[0]=='A') need=2;\n      else need=1;\n    }\n    else\n    {\n      if (s[i]==s[i+n-1])\n      {\n        need=2;\n      }\n      else need=1;\n    }\n    if (k>=need) k-=need;\n    else\n    {\n      for (j=0;j<n;j++)\n        if ((i==0)||(s[i+n-1]=='A'))\n          ans[j]=s[i+j];\n        else ans[j]='A'+'B'-s[i+j];\n      if (k==1) ans[0]='A'+'B'-ans[0];\n      printf(\"%s\\n\",ans);\n      return 0;\n    }\n  }\n  if ((s[n]==s[n+n-1])&&(k%2!=0))\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    ans[0]='B';\n    printf(\"%s\\n\",ans);\n  }\n  else\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    printf(\"%s\\n\",ans);\n  }\n  /*\n  for (i=0;i<k;i++)\n  {\n    j=0;f=1;\n    while ((j>=0)&&(j<n))\n    {\n      if (s[j]=='A')\n      {\n        s[j]='B';f=-f;\n        j+=f;\n      }\n      else\n      {\n        s[j]='A';\n        j+=f;\n      }\n    }\n    printf(\"%s\\n\",s);\n  }\n  */\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 1e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<ll, int> m;\n\tll h = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif((q[0] ^ r) == 0) q[0] = 1 ^ r;\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <stdio.h>\n\nvoid printState(const std::vector<bool>& v) {\n    for (const auto& b : v) {\n        b ? printf(\"A\") : printf(\"B\");\n    }\n    printf(\"\\n\");\n}\n\nint main() {\n    int N, K;\n    std::cin >> N >> K;\n\n    // true = A(reflect)\n    // flase = B(transparent)\n    std::string state_string;\n    std::cin >> state_string;\n    std::vector<bool> State;\n    for (auto& c : state_string) {\n        if (c == 'A') {\n            State.push_back(true);\n        } else {\n            State.push_back(false);\n        }\n    }\n\n    for (int i = 0; i < K; i++) {\n        int before_pos = 0;\n        int pos = 1;\n        while (pos != 0 && pos != State.size() + 1) {\n            int buf = pos;\n            if (State.at(pos - 1)) {\n                pos = before_pos;\n            } else {\n                pos = pos * 2 - before_pos;\n            }\n            State.at(buf - 1) = !State.at(buf - 1);\n            before_pos = buf;\n        }\n        if (i % 10 == 0) {\n            if (N % 2 == 0) {\n                for (int j = 0; j < N / 2; j++) {\n                    if (State.at(j * 2) != false || State.at(j * 2 + 1) != true) {\n                        goto END;\n                    }\n                }\n                break;\n            } else {\n                for (int j = 0; j < N / 2; j++) {\n                    if (State.at(j * 2 + 1) != false || State.at(j * 2 + 2) != true) {\n                        goto END;\n                    }\n                }\n                if (K % 2 == 0) {\n                    break;\n                } else {\n                    State.at(0) = !State.at(0);\n                    break;\n                }\n            }\n        }\nEND:    ;\n    }\n\n    printState(State);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#define pb push_back\n#define fs first\n#define sc second\n#define all(x) (x).begin(), (x).end()\n#define sz(x) (int)(x).size()\nusing namespace std;\nusing namespace __gnu_pbds;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<double> vd;\ntypedef pair<int, int> pii;\ntypedef pair<ll, int> plli;\ntypedef vector<pii> vpii;\ntypedef tree<pii, null_type, less<pii>, rb_tree_tag,\n    tree_order_statistics_node_update> ost;\n\nconst int N=210000;\nchar s[N];\n\nint main() {\n    int i, n, k, dk, r;\n    char c;\n    scanf(\"%d%d%s\", &n, &k, s);\n    for(r=0; r<n; r++) {\n        dk=(r%2==1)^(s[r]=='A');\n        dk++;\n        if(k>=dk) k-=dk;\n        else break;\n    }\n    if(r==n) {\n        if(n%2==0) k=0;\n        else k%=2;\n    }\n    for(i=0; i<n; i++) {\n        if(i+r<n) {\n            c=s[i+r];\n            if(r%2) c='A'+'B'-c;\n        }\n        else {\n            if((n+i)%2) c='A';\n            else c='B';\n        }\n        s[i]=c;\n    }\n    if(k) s[0]='A'+'B'-s[0];\n    printf(\"%s\\n\", s);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 10 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0){  //B\n\t\t\t\t\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nconst int N=200200;\nint i,j,k,n,m;\nchar s[N],ans[N];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tj=1;\n\tfor (i=n;i;i--) {\n\t\tif ((n-i)&1) ans[i]='B';\n\t\telse ans[i]='A';\n\t}\n\tfor (i=1;i<=m;i++) {\n\t\tif (s[j]=='A') {\n\t\t\ts[j]='B';\n\t\t\tcontinue;\n\t\t}\n\t\telse {\n\t\t\tj++;\n\t\t\tif (!(j&1)) s[j]='A'+'B'-s[j];\n\t\t\tif (j>n) break;\n\t\t}\n\t}\n\tfor (i=j;i<=n;i++) {\n\t\tif (!(j&1) && i!=j) s[i]='A'+'B'-s[j];\n\t\tans[i-j+1]=s[i];\n\t}\n\tprintf(\"%s\\n\",ans+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\nusing namespace std;\n\nchar a[200001];\nint b[200000];\nint c[100001];\nint d[100001];\n\nint main(void){\n\nfor (int i = 0; i < 100001; i++){\n\tb[i] = 0;\n\tc[i] = 0;\n\td[i] = 0;\n}\nint k;\nlong long s;\nint p, q;\nlong long n, m;\nlong long x, y, z;\n\ts = 0;\n\tq = 0;\n\tx = 0;\n\ty = 0;\n\tz = 0;\n\ts = 0;\n\tscanf(\"%lld %lld\", &n,&m);\n\tscanf(\"%s\", a);\n\tfor (int i = 0; i < n; i++){\n\t\tif (a[i] == 'A')b[i] = 1;\n\t\tif (a[i] == 'B')b[i] = 2;\n\t}\n\tz = 0;\n\tif (m > n + 1){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tif ((n + i) % 2 == 0)printf(\"B\");\n\t\t\telse  printf(\"A\");\n\t\t}\n\t\treturn 0;\n\t}\n\tfor (int i = 0; i < m&&i<n+1; i++){\n\t\ty = 0;\n\t\tfor (int j = 0; j < n; j++){\n\t\t\tif (y == 0){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\tb[j] = 2;\n\t\t\t\t\ty = 3;\n\t\t\t\t}\n\t\t\t\telse y = 1;\n\t\t\t}\n\t\t\tif (y == 1){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\ty = 2;\n\t\t\t\t}\n\t\t\t\telse b[j - 1] = 1;\n\t\t\t}\n\t\t\tif (y == 2){\n\t\t\t\tif (j < n - 1){\n\t\t\t\t\tif (b[j + 1] == 1){\n\t\t\t\t\t\tb[j] = (b[j] + 1) % 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 0; i < n; i++){\n   if(b[i]==1)printf(\"A\");\n   if (b[i] == 2)printf(\"B\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cmath>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n\nusing namespace std;\n\nchar s[200010];\nbool a[200010];\n\nint main()\n{\n\t//freopen(\"input.txt\",\"r\",stdin);\n\t//freopen(\"output.txt\",\"w\",stdout);\n\tint n,k;scanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tfor (int i=0;i<n;i++) a[i]=(s[i]=='B');\n\tint x=0,st=a[0];\n\twhile (x<n&&k)\n\t{\n\t\tk--;\n\t\tif (!st) {st=1;continue;}\n\t\tx++;\n\t\tif (x<n) st=a[x]^(x&1); else st=(n&1)^1;\n\t}\n\tif (k)\n\t{\n\t\tif (!st) st^=(k&1);\n\t}\n\tputchar(st+'A');\n\tfor (int i=1;i<n;i++)\n\t\tif (i+x<n) putchar((a[i+x]^(x&1))+'A'); else putchar(((n-i+1)&1)+'A');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#include <ext/pb_ds/assoc_container.hpp> // Common file\n#include <ext/pb_ds/tree_policy.hpp>\n\nusing namespace __gnu_pbds;\nusing namespace std;\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vll = vector<ll>;\nusing vvll = vector<vll>;\nusing vb = vector<bool>;\nusing vd = vector<double>;\nusing vs = vector<string>;\n\ntypedef tree<\nll,\nnull_type,\nless<ll>,\nrb_tree_tag,\ntree_order_statistics_node_update>\nordered_set;\n// ordered_set X;\n// *X.find_by_order(i) = ith largest element (counting from zero)\n// X.order_of_key(k) = number of items in X < k (strict lt)\n\nint main(){\n    int N;\n    ll K;\n    cin >> N >> K;\n    string S;\n    cin >> S;\n\n    vi diffs(3*N, 0);\n    int offset = 0;\n\n    for(int i=0;i<N;i++) {\n        if (S[i] != \"BA\"[(N+i)%2]) {\n            diffs[i] = 1;\n        }\n    }\n\n    while (K > 0 && offset < N) {\n        if (diffs[offset] != N%2) {\n            diffs[offset] = diffs[offset] ^ 1;\n        } else {\n            offset++;\n        }\n        K--;\n    }\n\n    if (N%2 == 1 && K > 0) {\n        if (K%2 == 1) diffs[offset] ^= 1;\n    }\n\n    for (int i=0;i<N;i++) cout << \"BA\"[(N+i+diffs[offset+i])%2];\n    cout << endl;\n\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\ntypedef vector<pint>vpint;\n#define pb push_back\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n#define each(it,v) for(__typeof((v).begin()) it=(v).begin();it!=(v).end();it++)\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n\nint N,K;\nsigned main(){\n    cin>>N>>K;\n    string S;cin>>S;\n    deque<int>d(N);\n    rep(i,N)d[i]=S[i]=='B';\n\n    bool rev=false;\n    for(int i=0;i<555555&&i<K;i++){\n        if((d[0]^rev)==0){\n            d[0]^=1;\n            continue;\n        }\n        d.pop_front();\n        rev^=1;\n        d.push_back(rev);\n    }\n\n    rep(i,N){\n        if((d[i]^rev)==0)printf(\"A\");\n        else printf(\"B\");\n    }\n    puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n,k,Xor;\nchar ch[200010];\ndeque <bool> Q;\n\nvoid work()\n{\n\tscanf(\"%d %d\\n%s\",&n,&k,ch+1);\n\tfor (int i=1; i<=n; i++)  Q.push_back(ch[i]=='A');\n\tfor (int i=1; i<=2*n&&i<=k; i++)\n\t\tif (Q.front()^Xor)  Q.pop_front(),Q.push_front(Xor);\n\t\telse  Q.pop_front(),Q.push_back(Xor),Xor^=1;\n\tif (k<=2*n)\n\t\tfor (int i=1; i<=n; i++)  putchar(Q.front()^Xor?'A':'B'),Q.pop_front();\n\telse\n\t\t{\n\t\t\tif (n&1)  putchar(k&1?'A':'B');\n\t\t\tfor (int i=1; i<=n/2; i++)  printf(\"BA\");\n\t\t}\n}\n\nint main()\n{\n\twork();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int N=100005; \nint n,k,num[N],p=1,cnt;\nchar s[N];\nsigned main(){\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (int i=1;i<=n;i++)num[i]=s[i]-'A';\n    int st=num[1];\n    while (k--){\n    \tif (st==0){\n\t\t\tst^=1;\n\t\t\tnum[p]^=1;\n\t\t}\n   \t\telse {\n        \tp++;cnt++;\n        \tst=num[p];\n        \tst^=(cnt&1);\n    \t}\n    \tif (p>n)break;\n    }\n    if (p<=n){\n    \tfor (int i=p;i<=n;i++)putchar('A'+(num[i]^(cnt&1)));\n    \tint t=n-(n-p+1),c=(cnt-1)&1;\n    \twhile (t--){\n        \tputchar('A'+c);\n        \tc^=1;\n    \t}\n    }\n    else {\n    \tif ((cnt-1)&1){\n        \tfor (int i=1;i<=n;i++)putchar('A'+(i&1));\n    \t}\n   \t\telse {\n\t\t\tputchar('A'+(k&1));\n        \tfor (int i=1;i<n;i++)putchar('A'+(i&1));\n    \t}\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#if __cplusplus >= 201103L\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <scoped_allocator>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n#endif\n\n\n#define ll int\n#define FOR(i,a) for(ll i=0;i<(ll)a.size();i++)\n#define pb push_back\n#define ld long double\n#define mp make_pair\n#define F first\n#define S second\n#define pii pair<ll,ll> \n\nusing namespace :: std;\n\nconst ll maxn=1e5+500;\n\ninline char nott(char r){\n\tif(r=='A')return 'B';\n\treturn 'A';\n}\nint main(){\n\tll n,k;\n\tcin>>n>>k;\n\tstring s;\n\tcin>>s;\n\tll tah=0;\n\tbool nnot=0;\n\n\tfor(ll i=0;i<k;i++){\n\t\tif(tah==n){\n\t\t\tbreak;\n\t\t}\n\t\tchar c=s[tah];\n\t\tif(nnot)c=nott(c);\n\t\tif(c=='A'){\n\t\t\ts[tah]=nott(s[tah]);\n\t\t}else{\n\t\t\ttah++;\n\t\t\tnnot=!nnot;\n\t\t}\n\t}\n\n\tif(tah==n){\n\t\texit(1);\n\t}\n\n\n\n\tstring ans;\n\tfor(ll i=tah;i<n;i++){\n\t\tif(nnot){\n\t\t\tans+=nott(s[i]);\n\t\t}\n\t\telse{\n\t\t   ans+=s[i] ;\n\t\t}\n\t}\n\twhile(ans.size()<n){\n\t\tans+='C';\n\t}\n\tchar f='A';\n\tfor(ll i=n-1;i>=0 && ans[i]=='C';i--){\n\t\tans[i]=f;\n\t\tf=nott(f);\n\t}\n\tcout<<ans;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <ctime>\n#include <cstdlib>\n#include <cmath>\n#include <iostream>\n#include <string>\n#include <queue>\n#include <map>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <deque>\n#include <utility>\n#include <chrono>\n#include <sstream>\n#include <iomanip>\n#define INF 1 << 30\n#define MOD 1000000007;\n#define pi 3.14159265358979\n#define rep(i, n) for (int (i) = 0; (i) < (int)(n); (i)++)\n#define rer(i, l, r) for (int (i) = (int)(l); (i) <= (int)(r); (i)++)\n#define reu(i, l, r) for (int (i) = (int)(l); (i) < (int)(r); (i)++)\n#define D(x) cout << x << endl\n#define d(x) cout << x\n#define all(x) (x).begin(), (x).end()\n#define pub(x) push_back(x)\n#define pob() pop_back()\n#define puf(x) push_front(x)\n#define pof() pop_front()\n#define mp(x, y) make_pair((x), (y))\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<double> vd;\ntypedef vector<long long> vll;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<long, long> pll;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if (y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if (x < y) x = y; }\nstatic const int dx[] = {0, 0, 1, -1};\nstatic const int dy[] = {-1, 1, 0, 0};\n\nint main() { \n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  int rev = 0;\n  deque<int> dq;\n\n  for (int i = 0; i < n; i++) {\n    dq.pub(s[i] == 'A');\n  }\n\n  for (int i = 0; i < k; i++) {\n    if (dq.front() ^ rev) {\n      dq.pof();\n      dq.puf(rev);\n    } else {\n      rev ^= 1;\n      dq.pof();\n      dq.pub(1 ^ rev);\n    }\n  }\n\n  for (int i = 0; i < n; i++) {\n    d(((rev ^ dq.front()) ? 'A' : 'B'));\n    dq.pof();\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nint n,m,ptr=1;\nchar s[200005],t[200005];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&m,s+1);s[n+1]=s[1];s[n+2]=s[2];\n\twhile(true) {\n\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=4;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=4;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=3;\n\t\tptr+=2;\n\t\tif(m<0) {\n\t\t\tptr-=2;\n\t\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=4;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=4;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=3;\n\t\t\tfor(int i=ptr;i<=n;++i) t[i-ptr+1]=s[i];\n\t\t\tfor(int i=n;i>n-ptr+1;--i) t[i]=((n-i)&1)+'A';\n\t\t\twhile(m--) {\n\t\t\t\tint now=1,flag=1;\n\t\t\t\twhile(now>0&&now<=n) {\n\t\t\t\t\tif(t[now]=='A') {t[now]='B';flag=-flag;now=now+flag;}\n\t\t\t\t\telse  {t[now]='A';now=now+flag;}\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%s\",t+1);return 0;\n\t\t}\n\t\tif(ptr==n+1||ptr==n) break;\n\t}\n\tif(ptr==n&&(s[n]=='A')) {putchar((m&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse if(ptr==n&&(s[n]=='B')) {putchar(((m+1)&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll int\n#define llu unsigned long long\n#define ld double\n#define llu unsigned long long\n#define rep(i,x,y)  for(int i=int(x);i<int(y);++i)\n#define For(i,x,y)  for(int i=int(x);i<=int(y);++i)\n#define FOr(i,x,y)  for(int i=int(x);i>=int(y);--i)\n#define pi acos(-1) \n#define mk make_pair\n#define pa pair<ll,ll>\n#define lf else if\n#define IL inline\n#define max(x,y)    ((x)<(y)?(y):(x))\n#define min(x,y)    ((x)<(y)?(x):(y))\n#define sqr(x)      ((x)*(x))\n#define Mul(x,y)    ((x)=1LL*(x)*(y)%mod)\n#define Add(x,y)    ((x)=((x)+(y))%mod)\n#define Max(x,y)    ((x)=((x)<(y)?(y):(x)))\n#define Min(x,y)    ((x)=((x)>(y)?(y):(x)))\n#define E(x)        return writeln(x),0\n#define LL\t\t\t(long long)\n#define p(x)        printf(\"~%lld~\\n\",LL(x))\n#define pp(x,y)     printf(\"~~%lld %lld~~\\n\",LL(x),LL(y))\n#define ppp(x,y,z)  printf(\"~~~%lld %lld %lld~~~\\n\",LL(x),LL(y),LL(z))\n#define pppp(a,b,c,d)\tprintf(\"~~~%lld %lld %lld %lld\\n\",LL(a),LL(b),LL(c),LL(d))\n#define f_in(x)     freopen(x\".in\",\"r\",stdin)\n#define f_out(x)    freopen(x\".out\",\"w\",stdout)\n#define open(x)     f_in(x),f_out(x)\n#define fi first\n#define se second\n#define GuYue\t\tputs(\"\\nGuYueNa________________________________________________________________________________\")\ntypedef complex<double> E;\nnamespace SHENZHEBEI{\n#ifdef LOCAL\n    struct _{_(){freopen(\"cf.in\",\"r\",stdin);}}_; \n#endif \n#define NEG 1\n    static const int GYN=2333333;\n    char SZB[GYN],*SS=SZB,*TT=SZB;\n    inline char gc(){   if (SS==TT){  TT=(SS=SZB)+fread(SZB,1,GYN,stdin); if (SS==TT) return '\\n';  }   return *SS++;    }\n#if NEG\n    inline ll read(){    ll x=0,g=1; char ch=gc();   for (;!isdigit(ch);ch=gc()) if (ch=='-') g=-1;  for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x*g; }\n    inline void write(ll x){    if (x<0) putchar('-'),x=-x;  if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#else\n    inline ll read(){    ll x=0; char ch=gc();   for (;!isdigit(ch);ch=gc());    for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x;   }\n    inline void write(ll x){    if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#endif\n    inline char readchar(){ char ch=gc();   for(;isspace(ch);ch=gc());  return ch;  }\n    inline ll readstr(char *s){ char ch=gc();   int cur=0;  for(;isspace(ch);ch=gc());      for(;!isspace(ch);ch=gc())  s[cur++]=ch;    s[cur]='\\0';    return cur; }\n\tvoid Print(long long *a,int s,int t){For(i,s,t)printf(\"%lld \",a[i]);}\n\tvoid Print(int *a,int s,int t){For(i,s,t)printf(\"%d \",a[i]);}\n\tvoid Print(char *a,int s,int t){For(i,s,t)putchar(a[i]);}\n\tvoid writeln(ll x){write(x);puts(\"\");}\n}using namespace SHENZHEBEI;\nconst ll N=400010;\nbitset<200100>f;\nchar s[200100];\nll n,k;\nint main(){\n\tn=read(),k=read();\n\tif (k>2*n){\n\t\tfor(;k>3*n;k-=2*n);\n\t}\n\treadstr(s+1);\n\tFor(i,1,n)f[i]=s[i]=='A';\n\tFor(i,1,k)if (f[1])\tf[1]=0;\n\telse{\n\t\tf.flip(),f>>=1,f[n]=1;\n\t}\n\tFor(i,1,n)putchar(f[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#if __cplusplus >= 201103L\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <scoped_allocator>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n#endif\n\n\n#define ll int\n#define FOR(i,a) for(ll i=0;i<(ll)a.size();i++)\n#define pb push_back\n#define ld long double\n#define mp make_pair\n#define F first\n#define S second\n#define pii pair<ll,ll> \n\nusing namespace :: std;\n\nconst ll maxn=1e5+500;\n\ninline char nott(char r){\n\tif(r=='A')return 'B';\n\treturn 'A';\n}\nint main(){\n\tll n,k;\n\tcin>>n>>k;\n\tstring s;\n\tcin>>s;\n\tll tah=0;\n\tbool nnot=0;\n\n\tbool flag=0;\n\tfor(ll i=0;i<k;i++){\n\t\tif(tah==n){\n\t\t\tflag=((k-i)%2);\n\t\t\tbreak;\n\t\t}\n\t\tchar c=s[tah];\n\t\tif(nnot)c=nott(c);\n\t\tif(c=='A'){\n\t\t\ts[tah]=nott(s[tah]);\n\t\t}else{\n\t\t\ttah++;\n\t\t\tnnot=!nnot;\n\t\t}\n\t}\n\tif(tah==n && n%2==1 && flag){\n\t\tflag=1;\n\t}else{\n\t\tflag=0;\n\t}\n\n\tstring ans;\n\tfor(ll i=tah;i<n;i++){\n\t\tif(nnot){\n\t\t\tans+=nott(s[i]);\n\t\t}\n\t\telse{\n\t\t   ans+=s[i] ;\n\t\t}\n\t}\n\twhile(ans.size()<n){\n\t\tans+='C';\n\t}\n\tchar f='A';\n\tfor(ll i=n-1;i>=0 && ans[i]=='C';i--){\n\t\tans[i]=f;\n\t\tf=nott(f);\n\t}\n\tif(flag)ans[0]=nott(ans[0]);\n\n\tcout<<ans;\n}\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdio>\nusing namespace std;\nconst int N = 200010;\nint n, k,f,r;\nstring s;\nchar q[N*10];\nchar oppo(char ch)\n{\n\treturn 'A' + ((ch - 'A') ^ 1);\n}\nchar show(int c, char ch)\n{\n\tif (!c) return ch;\n\telse return oppo(ch);\n}\nint main()\n{\n\tcin >> n >> k >> s;\n\tint c = 0, step = 0;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tif (c == s[i] - 'A') step += 2; else step++;\n\t\tc = c ^ 1;\n\t}\n\tif (k > step) k = (k - step) % n + step;\n\tc = 0; f = 0; r = n;\n\tfor (int i = 0;i < n;i++) q[i] = s[i];\n\twhile (k--)\n\t{\n\t\tif (show(c, q[f]) == 'A') q[f] = oppo(q[f]);\n\t\telse {\n\t\t\tc ^= 1;\n\t\t\tf++;\n\t\t\tq[r++] = show(c, 'A');\n\t\t}\n\t}\n\tif (c) for (int i = f; i < r; i++) q[i] = oppo(q[i]);\n\tfor (int i = f;i < r;i++) printf(\"%c\",q[i]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <tr1/unordered_map>\nusing namespace std;\n\ntypedef unsigned long long ULL;\nconst int N=3e3+50;\nconst ULL base=31; \n\nint n,k,tag; \nchar ch[N];\nULL pw[N],val[2];\n\ntr1::unordered_map <ULL,int> s;\ndeque <int> q;\n \ninline void print() {\n\tfor(int i=1;i<=n;i++) \n\t\tputchar((q[i-1]^tag) ? 'B' : 'A');\n}\ninline void rec() {\n\tif(!(q[0]^tag)) {q[0]^=1; return;}  \n\tq.pop_front();\n\ttag^=1;\n\tq.push_back(tag);\n}\n\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,ch+1);\n\tpw[0]=1; for(int i=1;i<=n;i++) pw[i]=pw[i-1]*base;\n\tfor(int i=1;i<=n;++i) q.push_back((ch[i]=='A') ? 0 : 1);\n\t\n\tif(k<=2*n) {\n\t\tfor(int i=1;i<=k;i++) rec();\n\t\tprint();\n\t} else {\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tval[0]+=q[i]*pw[n-i];\n\t\t\tval[1]+=(q[i]^1)*pw[n-i];\n\t\t}  s[val[0]]=0;\n\t\tint cir=0,i;\n\t\tfor(i=1;;++i) {\n\t\t\tif(!(q[0]^tag)) {\n\t\t\t\tval[1]-=pw[n];\n\t\t\t\tval[0]+=pw[n];\n\t\t\t\tq[0]^=1;\n\t\t\t} else {\n\t\t\t\tval[0]-=(q[0]^tag)*pw[n];\n\t\t\t\tval[1]-=(q[0]^tag^1)*pw[n];\n\t\t\t\trec();\n\t\t\t\tswap(val[0],val[1]); \n\t\t\t\tval[0]*=base; val[1]*=base;\n\t\t\t\tval[1]+=base;\n\t\t\t}\n\t\t\tif(s.count(val[0])) {cir=i-s[val[0]]; break;}\n\t\t\telse s[val[0]]=i;\n\t\t}\n\t\tint t=(k-i)%cir;\n\t\twhile(t--) rec();\n\t\tprint();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define ll long long\n#define rep2(i,a,b) for(int i=a;i<=b;++i)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define pii pair<int,int>\n#define tii tuple<int,int,int>\n#define pq priority_queue<int>\n#define pqg priority_queue<int,vector<int>,greater<int>>\n#define pb push_back\n#define edge(v,a,b) v[a].pb(b);v[b].pb(a);\nll int MOD=1e9+7;\n#define INF 2*1e9\n#define N 310000 \nusing namespace std;\nstring alphabet(\"abcdefghijklmnopqrstuvwxyz\");\n\nmain(){\n    int n,k;\n    cin>>n>>k;\n    bitset<N> b;\n    string ss;\n    cin>>ss;\n    for(int i=ss.size()-1;i>=0;i--){\n        if(ss[i]=='A') b[(int)ss.size()-1-i]=1;\n    }\n    int s=ss.size()-1,sss=ss.size()-1;\n    int count[N]={},t=1,a=1;\n    while(sss>=0){\n        if(t==b[sss]) count[a]=count[a-1]+2;\n        else count[a]=count[a-1]+1;\n        if(count[a]>k) break;\n        t^=1; a++; sss--;\n    }\n    if(count[a]>k){\n        a--;\n        b<<=a;\n        if(a%2) b.flip();\n        if(count[a]<k){\n            b[s]=0;\n        }\n        rep(i,a){\n            b[i]=(i+1)%2;\n        }\n    }\n    else{\n        k-=count[s-1];\n        rep(i,ss.size()){\n            b[i]=(i+1)%2;\n        }\n        if(k%2&&n%2) b[s]=0;\n    }\n    while(s>=0){\n        if(b[s]) cout<<'A';\n        else cout<<'B';\n        s--;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "/* be name khoda */\n\n// #define stream_enable\n// #define long_enable\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <numeric>\n#include <iomanip>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\nusing namespace std;\n\n#ifdef stream_enable\n#define cin sss\n#endif\n#ifdef long_enable\ntypedef long long int ll;\n#else\ntypedef int ll;\n#endif\n\ntypedef pair<ll, ll> pii;\ntypedef pair<pii, ll> ppi;\ntypedef pair<ll, pii> pip;\ntypedef vector<ll> vi;\ntypedef vector<pii> vpii;\n\nconst ll MOD = 1000000007;\nconst long long BIG = 1446803456761533460;\nconst int Big = 336860180;\n\n#define F first\n#define S second\n#define pb push_back\n#define eb emplace_back\n#define all(x) (x).begin(), (x).end()\n\n#define debug(x) cout << #x << \" -> \" << (x) << endl\n#define debug2(x, y) cout << #x << ' ' << #y << \" -> \" << (x) << ' ' << (y) << endl\n#define debug3(x, y, z) cout << #x << ' ' << #y << ' ' << #z << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << endl\n#define debug4(x, y, z, t) cout << #x << ' ' << #y << ' ' << #z << ' ' << #t << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << ' ' << (t) << endl\n#define debugp(x) cout << #x << \" -> \" << \"(\" << (x).F << \", \" << (x).S << \")\" << endl\n#define debuga(x, n) cout << #x << \" -> \"; fori (i1_da, n) { cout << (x)[i1_da] << ' '; } cout << endl\n#define debugap(x, n) cout << #x << \" ->\\n\"; fori (i1_dap, n) { cout << \"(\" << (x)[i1_dap].F << \", \" << (x)[i1_dap].S << \")\\n\"; } cout << endl\n#define debugaa(x, n, m) cout << #x << \" ->\\n\"; fori (i1_daa, n) { fori (i2_daa, m) { cout << (x)[i1_daa][i2_daa] << ' '; } cout << '\\n'; } cout << endl\n#define debugav(x, n) cout << #x << \" ->\\n\"; fori (i1_dav, n) { fori (i2_dav, (x)[i1_dav].size()) { cout << (x)[i1_dav][i2_dav] << ' '; } cout << '\\n'; } cout << endl\n#define debugia(x, n) cout << #x << \" ->\\n\"; fori (i1_dia, n) { cout << i1_dia << \" : \" << (x)[i1_dia] << '\\n'; } cout << endl\n\n#define forifrom(i, s, n) for(ll i = (s); i < (n); ++i)\n#define forirto(i, n, e) for(ll i = (n) - 1; i >= (e); --i)\n#define fori(i, n) forifrom (i, 0, n)\n#define forir(i, n) forirto (i, n, 0)\n\n#define smin(a, b) a = min(a, (b))\n#define smax(a, b) a = max(a, (b))\n\n#define Add(a, b) a = ((a) + (b)) % MOD\n#define Mul(a, b) a = (1LL * (a) * (b)) % MOD\n\nstringstream sss;\n\n// -----------------------------------------------------------------------\n\nconst ll maxn = 200010;\n\nll n, k;\nll S[maxn];\n\nvoid MAIN() {\n\n    cin >> n >> k;\n    smin(k, n * 2);\n    fori (i, n) {\n        char c; cin >> c;\n        S[i] = c == 'A';\n    }\n    ll I = 0, R = 0;\n    fori (i, k) {\n        if (S[R] ^ I) S[R] ^= 1;\n        else I ^= 1, R = (R + 1) % n;\n    }\n    fori (i, n) cout << ((S[(i + R) % n] ^ I) ? 'A' : 'B');\n    cout << '\\n';\n\n}\n\n// -----------------------------------------------------------------------\n\nint main() {\n    ios_base::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n    cout << fixed << setprecision(10);\n    sss << R\"(\n5 2\nABAAA\n    )\";\n    MAIN();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, diff;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i + 1 < n; ++i)\n        diff[i] = a[i] ^ a[i + 1];\n    diff[n - 1] = 1;\n\n    int bt = 0;\n    for (int i = 0; bt < n && k; ++i) {\n        --k;\n        if (diff.count() & 1) {\n            diff[0] = diff[0] ^ 1;\n        }   \n        else {\n            ++bt;           \n            diff >>= 1;\n            diff[n - 1] = 1;\n        }   \n    }   \n\n    a[n - 1];\n    for (int i = n - 2; i >= 0; --i)\n        a[i] = a[i + 1] ^ diff[i];\n\n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, k, a[200005], ht;\nchar ipt[200005];\n\nvector<int> gen_seq (int S) {\n\tvector<int> ret;\n\tfor(int i=S;i<=n;i++) ret.push_back(a[i]^((S+1)%2));\n\tfor(int i=1;i<S;i++) ret.push_back((n-1-(int)ret.size())%2);\n\treturn ret;\n}\nvoid solve (int S, int R) {\n\tvector<int> tmp = gen_seq(S);\n\tif(R) tmp[0] = 1;\n\tfor(int i=0;i<n;i++) putchar(tmp[i]?'B':'A');\n\tputs(\"\");\n\texit(0);\n}\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,ipt+1);\n\tfor(int i=1;i<=n;i++) a[i] = (ipt[i] == 'B');\n\tfor(int i=n;i>=1;i--) {\n\t\tif(a[i] != (n-i)%2) {ht = i; break;}\n\t}\n\tfor(int i=1;i<=ht;i++) {\n\t\tif(k == 0) solve(i, 0);\n\t\tif((a[i]+i)%2) {\n\t\t\tif(k == 1) solve(i, 1);\n\t\t\tk -= 2;\n\t\t}\n\t\telse k--;\n\t}\n\tif(n%2 == 0 || k%2 == 0) solve(n+1, 0);\n\telse solve(n+1, 1);\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <ctime>\n#include<complex>\nusing namespace std;\n\n#define FOR(i,a,b) for (int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for (int i = (b)-1; i >= (a); i--)\n#define ITER(it,a) for (__typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a,value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(), a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL)INF;\n\nconst int MAX = 2 * 100000 + 47;\nconst int MOD = 1000 * 1000 * 1000 + 7;\n\nint A[MAX];\nvoid sim(string& s)\n{\n\tint p = 0;\n\tint d = 1;\n\twhile (1)\n\t{\n\t\tif (p == -1 || p == SZ(s)) break;\n\t\tif (s[p] == 'A')\n\t\t{\n\t\t\ts[p] = 'B';\n\t\t\td *= -1;\n\t\t\tp += d;\n\t\t\tcontinue;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[p] = 'A';\n\t\t\tp += d;\n\t\t}\n\t}\n}\n\nvoid sim(string& s, int k)\n{\n\tFOR(i, 0, k)\n\t{\n\t\tsim(s);\n\t}\n}\n\nvoid calc(string& s, int k)\n{\n\tint rev = 0;\n\tint p = 0;\n\tint n = SZ(s);\n\tif (n == 1)\n\t{\n\t\ts[0] = ((s[0] - 'A') ^ (k & 1)) + 'A';\n\t\treturn;\n\t}\n\n\tFOR(i, 0, n) A[i] = s[i] == 'B';\n\n\tFOR(i, 0, min(k, 4 * n + k % 2))\n\t{\n\t\tif (A[p] ^ rev == 0)\n\t\t{\n\t\t\tA[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\trev ^= 1;\n\t\tA[p] = rev;\n\t\tp++;\n\t\tif (p == n) p = 0;\n\t}\n\n\tFOR(k, 0, n)\n\t{\n\t\tint i = p + k;\n\t\tif (i >= n) i -= n;\n\n\t\ts[k] = (A[i] ^ rev) + 'A';\n\t}\n}\n\nstring s;\nint k, n;\nvoid gen()\n{\n\tn = rand() % 10 + 1;\n\ts.clear();\n\tFOR(i, 0, n)\n\t{\n\t\ts.push_back(rand() % 2 + 'A');\n\t}\n\n\tk = rand() % 10 + 1;\n}\n\n//#define TEST\n\nint main()\n{\n\t//freopen(\"in.txt\", \"r\", stdin);\n\t//freopen(\"out.txt\", \"w\", stdout);\n\tios::sync_with_stdio(false); cin.tie(0);\n\n#ifdef TEST\n\twhile (1)\n\t{\n\t\tgen();\n\t\tcout << s << \" \" << k << endl;\n\t\tstring s1 = s;\n\t\tcalc(s, k);\n\t\tsim(s1, k);\n\t\tif (s1 != s)\n\t\t{\n\t\t\tcout << \"fail\" << endl;\n\t\t\tcout << s << endl;\n\t\t\tcout << s1 << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n#else\n\tcin >> n >> k >> s;\n\tcalc(s, k);\n\tcout << s << endl;\n#endif\n\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\twhile (k && S[n - 1] == 'B')\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (p < n && k--)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tif (k && (cnt & 1))\n\t\tcout << 1 / (k - k);\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n观察把一个球射入后会发生怎样的事情。分情况讨论：\n(1)S[1] = A。操作后S[1] = B，其余不变\n(2)S[1] = B\n       (a)当S[1 ~ N]均是B时，操作后S[1 <= i <= N] = A\n       (b)当能找到第一个S[p] = A时，模拟发生了怎样的事情。用(球->)表示往右射的球，(<-球)表示往左射的球 \n     \t\t(球->)BB...BBA\n\t\tAA...AA(球->)A\n\t\tAA...AA(<-球)B\n\t\tAA...AB(球->)B\n\t\tAA...ABA(球->)\n          因为球的左边是A，所以碰到下一个A的情况与当前分析的相同\n   无论哪种情况，都可以看做先删掉S[1]，之后把S所有位置取反，最后在S尾部加上一个A。即S' = rev(S[2 ~ N]) + A\n特判掉N = 1的情况。容易发现，每次出现情况1，下一次都是情况2，那么一定会在尾部加上一个A\n那么不超过2N次操作后，一定会正好插入N次A，S变成BABABA...BABA或者ABABAB...ABA，这两种情况的求解都很简单 \n*/\n\n#include <cstdio>\n\nusing namespace std;\nconst int Max_N(1000050);\n\nint N, K, L, R, Tot, Rev;\nchar S[Max_N];\n\nint main()\n{\n\tscanf(\"%d%d\", &N, &K);\n\tscanf(\"%s\", S + 1);\n\tif (N == 1)\n\t{\n\t\tif (K & 1)\n\t\t\tif (S[1] == 'A')\n\t\t\t\tputchar('B');\n\t\t\telse\n\t\t\t\tputchar('A');\n\t\telse\n\t\t\tprintf(\"%s\", S + 1);\n\t\treturn 0;\n\t}\n\tL = 1, R = N;\n\tfor (int i = 1;;++i)\n\t{\n\t\tif ((Rev == 0 && S[L] == 'A') || (Rev == 1 && S[L] == 'B'))\n\t\t\tif (S[L] == 'A')\n\t\t\t\tS[L] = 'B';\n\t\t\telse\n\t\t\t\tS[L] = 'A';\n\t\telse\n\t\t{\n\t\t\t++L, Rev ^= 1;\n\t\t\tif (Rev == 0)\n\t\t\t\tS[++R] = 'A';\n\t\t\telse\n\t\t\t\tS[++R] = 'B';\n\t\t\t++Tot;\n\t\t}\n\t\tif (i == K)\n\t\t{\n\t\t\twhile (L <= R)\n\t\t\t{\n\t\t\t\tif (Rev == 0)\n\t\t\t\t\tputchar(S[L]);\n\t\t\t\telse\n\t\t\t\t\tif (S[L] == 'A')\n\t\t\t\t\t\tputchar('B');\n\t\t\t\t\telse\n\t\t\t\t\t\tputchar('A');\n\t\t\t\t++L;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tif (Tot == N)\n\t\t{\n\t\t\tif (Rev)\n\t\t\t{\n\t\t\t\tfor (int j = L;j <= R;++j)\n\t\t\t\t\tif (S[j] == 'A')\n\t\t\t\t\t\tS[j] = 'B';\n\t\t\t\t\telse\n\t\t\t\t\t\tS[j] = 'A';\n\t\t\t\tRev = 0;\n\t\t\t}\n\t\t\tK = (K - i) & 1;\n\t\t\tif (K == 1 && S[L] == 'A')\n\t\t\t\tS[L] = 'B';\n\t\t\twhile (L <= R)\n\t\t\t\tputchar(S[L++]);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<map>\n#include<set>\n#include<string>\n#include<stack>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\n\n#define fr first\n#define sc second\n#define mp make_pair\n#define pb push_back\n#define rep(i,x) for(int i=0;i<x;i++)\n#define rep1(i,x) for(int i=1;i<=x;i++)\n#define rrep(i,x) for(int i=x-1;i>=0;i--)\n#define rrep1(i,x) for(int i=x;i>0;i--)\n#define sor(v) sort(v.begin(),v.end())\n#define rev(s) reverse(s.begin(),s.end())\n#define lb(vec,a) lower_bound(vec.begin(),vec.end(),a)\n#define ub(vec,a) upper_bound(vec.begin(),vec.end(),a)\n#define uniq(vec) vec.erase(unique(vec.begin(),vec.end()),vec.end())\n#define mp1(a,b,c) P1(a,P(b,c))\n\nconst int INF=1000000000;\nconst int dir_4[4][2]={{1,0},{0,1},{-1,0},{0,-1}};\nconst int dir_8[8][2]={{1,0},{1,1},{0,1},{-1,1},{-1,0},{-1,-1},{0,-1},{1,-1}};\n\nint main(){\n\tint n,k;\n\tstring s;\n\tcin >> n >> k >> s;\n\trep(i,n){\n\t\tif(i%2 == 0){\n\t\t\tif(s[i] == 'A' && i < k){\n\t\t\t\ts[i] = 'B';\n\t\t\t\tk --;\n\t\t\t}\n\t\t}\n\t\tif(i%2 == 1){\n\t\t\tif(s[i] == 'B' && i < k){\n\t\t\t\ts[i] = 'A';\n\t\t\t\tk --;\n\t\t\t}\n\t\t}\n\t}\n\tif(k > n){\n\t\tk -= n;\n\t\tstring ret = \"\";\n\t\trep(i,n){\n\t\t\tif((n-1-i)%2 == 0)ret += 'A';\n\t\t\telse ret += 'B';\n\t\t}\n\t\tif(ret[0] == 'A' && k%2 == 1){\n\t\t\tret[0] = 'B';\n\t\t}\n\t\tcout << ret << endl;\n\t\treturn 0;\n\t}\n\t/*if(s[0] == 'A'){\n\t\ts[0] = 'B';\n\t\tk --;\n\t}*/\n\tstring ret = \"\";\n\trep(i,n){\n\t\tif(i+k<n){\n\t\t\tif(s[i+k] == 'A'){\n\t\t\t\tif(k%2 == 0)ret += 'A';\n\t\t\t\telse ret += 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(k%2 == 0)ret += 'B';\n\t\t\t\telse ret += 'A';\n\t\t\t}\n\t\t}\n\t\telse if((n-1-i)%2 == 0)ret += 'A';\n\t\telse ret += 'B';\n\t}\n\tcout << ret << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\nvoid debug() {\n\tstring t; cin >> t;\n\trep(i, 60) {\n\t\tt = next(t);\n\t\tcout << t << endl;\n\t}\n}\n\nsigned main() {\n//\tdebug(); return 0;\n\n\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\n\tif (n == 1) {\n\t\tif (k & 1) {\n\t\t\tif (now == 'A')cout << 'B' << endl;\n\t\t\telse cout << 'A' << endl;\n\t\t}\n\t\telse cout << 'A' << endl;\n\n\t\treturn 0;\n\t}\n\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tt++;\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tif (D.size() == 1) {\n\t\t\t\tnow = 'A';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint a = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tif (a == 1) {\n\t\t\t\t\tD.push_back(a);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta--;\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t\tD.push_front(a);\n\t\t\t\t\tnow = 'A';\n\t\t\t\t}\n\n\t\t\t\tif (now == 'B'&&D.size() % 2) {\n\t\t\t\t\tint t = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tif (t == 1) {\n\t\t\t\t\t\tint u = D.back();\n\t\t\t\t\t\tD.pop_back();\n\t\t\t\t\t\tu++;\n\t\t\t\t\t\tD.push_back(u);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\t\tD.push_back(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n&&now == 'B')break;\n//\t\tdisp(now, D);\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#if 0\ndate +%Y.%m.%d\n\n题解先咕着。\n#endif\n#include <cstdio>\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n\ntypedef long long ll;\n\nstruct {\n\tinline operator int () { int x; return scanf(\"%d\", &x), x; }\n\tinline operator ll () { ll x; return scanf(\"%lld\", &x), x; }\n\ttemplate<class T> inline void operator () (T &x) { x = *this; }\n\ttemplate<class T, class ...A> inline void operator () (T &x, A &...a)\n\t{ x = *this; this -> operator ()(a...); }\n} read;\n\nconst int maxn = 200005;\nchar s[maxn];\n\nint main() {\n\tint n = read, k = read;\n\tscanf(\"%s\", s + 1);\n\n\tint p = 1, A = 'A';\n\twhile(k --) {\n\t\tif(s[p] == A)\n\t\t\ts[p] = 'A' + 'B' - s[p];\n\t\telse {\n\t\t\tA = 'A' + 'B' - A;\n\t\t\t++ p;\n\t\t\tif(p > n) p = 1;\n\t\t}\n\t}\n\n\tfor(int i = p; i <= n; i ++)\n\t\tprintf(\"%c\", \"BA\"[s[i] == A]);\n\tfor(int i = 1; i < p; i ++)\n\t\tprintf(\"%c\", \"BA\"[s[i] == A]);\n\tputs(\"\");\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int N = 2e5+5;\nint n, k, p;\nchar s[N];\nbool bit[N];\nint main()\n{\n    scanf(\"%d%d%s\", &n, &k, s+1); \n    s[n+1] = 'B';\n    // for(p = n-1; p >= 1&&s[p+1]== 'A'&&s[p] == 'B'; p -= 2); p += 2;\n    // for( ; k&&p > 2; --k)\n    // {\n    //     if(s[1] == 'A') s[1] = 'B';\n    //     else\n    //     {\n    //         for(int i = 1; i < p; ++i)\n    //         {\n    //             if(s[i] == 'B'&&s[i+1] != 'A') s[i] = 'A';\n    //             else for( ; s[i+1] == 'A'; ++i) s[i] = 'B';\n    //         }\n    //         for(p -= 2; p >= 1&&s[p+1]== 'A'&&s[p] == 'B'; p -= 2); p += 2;\n    //     }\n    //     printf(\"%s\\n\", s+1);\n    // }\n    for(int i = 1; i <= n; ++i) bit[i] = s[i] != s[i+1];\n    for(p = 1; p <= n&&k; --k)\n    {\n        if(s[1] == 'A') s[1] = 'B', bit[p] ^= 1;\n        else if(bit[p] == 0) s[1] = 'A', ++p;\n        else ++p;\n    }\n    if(p <= n)\n    {\n        for(int i = p+1; i <= n; ++i) s[i-p+1] = ((s[i-p]-'A')^bit[i-1])+'A';\n        for(int i = n-p+2; i <= n; ++i) s[i] = ((s[i-1]-'A')^1)+'A';\n    }\n    else for(int i = 1; i <= n; ++i) s[i+(n&1)] = 'A'+(i&1);\n    if(k&&(n&1)) s[1] = ((s[1]-'A')^(k&1))+'A'; s[n+1] = 0;\n    printf(\"%s\\n\", s+1);\n    return 0;\n}\n/*\n11 100\nBBABABABABA\n*/"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0&&n%2==1){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tif(k>=2*n){\n\t\tint t=(k-2*n)%2;\t\n\t\tif(n%2==1&&t%2==1)\n\t\t\tp[1]='B'-p[1];\n\t}\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cctype>\nusing namespace std;\nconst int N=2e5;\nint n,k,hea,tai;\nbool arr[N*3+1],rev;\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\thea=n,tai=1;\n\tfor(int i=1;i<=n;++i) {\n\t\tchar c=getchar();\n\t\twhile(!isalpha(c)) {\n\t\t\tc=getchar();\n\t\t}\n\t\tarr[i]=c=='A';\n\t}\n\tfor(int i=1;(i<=n*5)&&(i<=k);++i) {\n\t\tif(arr[tai]^rev) {\n\t\t\tarr[tai]^=1;\n\t\t} else {\n\t\t\tarr[++hea]=arr[tai++];\n\t\t\trev^=1;\n\t\t}\n\t}\n\tif(k>n*5) {\n\t\tk-=n*5;\n\t\tif(arr[tai]^rev) {\n\t\t\tputchar(k&1?'B':'A');\n\t\t\tfor(int i=2;i<=n;++i) {\n\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t} else {\n\t\t\tfor(int i=1;i<=n;++i) {\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor(int i=tai;i<=hea;++i) {\n\t\t\tputchar(arr[i]^rev?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\nusing namespace std;\n\nchar a[200001];\nint b[200000];\nint c[100001];\nint d[100001];\n\nint main(void){\n\nfor (int i = 0; i < 100001; i++){\n\tb[i] = 0;\n\tc[i] = 0;\n\td[i] = 0;\n}\nint k;\nlong long s;\nint p, q;\nlong long n, m;\nlong long x, y, z;\n\ts = 0;\n\tq = 0;\n\tx = 0;\n\ty = 0;\n\tz = 0;\n\ts = 0;\n\tscanf(\"%lld %lld\", &n,&m);\n\tscanf(\"%s\", a);\n\tfor (int i = 0; i < n; i++){\n\t\tif (a[i] == 'A')b[i] = 1;\n\t\tif (a[i] == 'B')b[i] = 2;\n\t}\n\tz = 0;\n\tif (m > n + 1){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tif ((n + i) % 2 == 0)printf(\"B\");\n\t\t\telse  printf(\"A\");\n\t\t}\n\t\treturn 0;\n\t}\n\tfor (int i = 0; i < m&&i<n+1; i++){\n\t\ty = 0;\n\t\tfor (int j = 0; j < n; j++){\n\t\t\tif (y == 0){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\tb[j] = 2;\n\t\t\t\t\ty = 3;\n\t\t\t\t}\n\t\t\t\telse y = 1;\n\t\t\t}\n\t\t\tif (y == 1){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\ty = 2;\n\t\t\t\t}\n\t\t\t\telse b[j - 1] = 1;\n\t\t\t}\n\t\t\tif (y == 2){\n\t\t\t\tif (j < n - 1){\n\t\t\t\t\tif (b[j + 1] == 1){\n\t\t\t\t\t\tb[j] = (b[j] + 1) % 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 0; i < n; i++){\n   if(b[i]==1)printf(\"A\");\n   if (b[i] == 2)printf(\"B\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\ntypedef pair<pll, pll> P;\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS = 1e-9;\nconst bool debug = 0;\n//---------------------------------//\n\nint N, K;\nstring S;\n\nstring rev(string s) {\n\tREP(i, N) s[i] = s[i] == 'A' ? 'B' : 'A';\n\treturn s;\n}\n\nvoid next(string &s) {\n\tif (s[0] == 'A') s[0] = 'B';\n\telse {\n\t\tREP(j, N - 1) {\n\t\t\tif (s[j + 1] == 'A') s[j] = 'B';\n\t\t\telse s[j] = 'A';\n\t\t}\n\t\ts[N - 1] = 'A';\n\t}\n}\n\nvoid solve(string s) {\n\tint t = K;\n\twhile (t--) next(s);\n\tcout << s << endl;\n}\n\nint main() {\n\tcin >> N >> K >> S;\n\t\n\t//solve(S);\n\t\n\tif (N == 1) {\n\t\tputs( ( (S[0]=='B')+K ) % 2 == 1 ? \"B\" : \"A\");\n\t\treturn 0;\n\t}\n\t\n\tstring ans = \"\", lev = \"\";\n\tint nec = N / 2 * 2;\n\tfor (int i = S.size() - 2; i >= 0; i -= 2) {\n\t\tif (S[i] == 'B' && S[i + 1] == 'A') {\n\t\t\tans += \"AB\";\n\t\t}\n\t\telse {\n\t\t\tfor (int j = i + 1; j >= 0; j--) lev += S[j];\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tfor (int i = 0; i < N; i += 2) {\n\t\tif (K <= 4 || ans.size() == nec) break;\n\t\t\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i++;\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i--;\n\t\t\n\t\tK -= 2;\n\t\tans += \"AB\";\n\t}\n\t\n\tfor (int i = 0; i < lev.size() && ans.size() < N; i++) ans += lev[i];\n\treverse(ALL(ans));\n\t\n\tif (K > 100) {\n\t\tif (N & 1) S[0] = ( (S[0]=='B')+K ) % 2 == 1 ? 'B' : 'A';\n\t}\n\telse {\n\t\twhile (K--) next(ans);\n\t}\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, a, b) for(int i = (a); i < int(b); ++i)\n#define rrep(i, a, b) for(int i = (a) - 1; i >= int(b); --i)\n#define trav(it, v) for(typeof((v).begin()) it = (v).begin(); it != (v).end(); ++it)\n#define all(v) (v).begin(), (v).end()\n#define what_is(x) cerr << #x << \" is \" << x << endl;\n\ntypedef double fl;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\n\nchar S[2000005];\nint N, K;\n\nvoid simulate(){\n\tint pos=0;\n\tint dir=1;\n\twhile(pos < N && pos >= 0){\n\t\tS[pos]='B'-S[pos]+'A';\n\t\tif(S[pos] == 'B'){\n\t\t\tdir=-dir;\n\t\t}\n\t\telse{\n\t\t}\n\t\tpos += dir;\n\t}\n}\n\nint main(){\n\tscanf(\"%d%d\", &N, &K);\n\tscanf(\"%s\", S);\n\tint translations=0;\n\tint turns=0;\n\twhile(translations < N){\n\t\tint t=1;\n\t\tif(S[translations] == 'A'+(translations%2))\n\t\t\t++t;\n\t\tif(turns+t > K){\n\t\t\tbreak;\n\t\t}\n\t\tturns += t;\n\t\t++translations;\n\t}\n\tif(translations > 0){\n\t\trep(i,N,2*N){\n\t\t\tS[i] = 'B'-((i-N)%2);\n\t\t}\n\t\trep(i,0,N-1){\n\t\t\tS[i] = S[i+translations];\n\t\t\tif(translations%2)\n\t\t\t\tS[i] = 'A'-S[i]+'B';\n\t\t}\n\t\tS[N-1]='A';\n\t}\n\tK -= turns;\n\tif(K > 10)\n\t\tK = 10+(K%2);\n\twhile(K){\n\t\tsimulate();\n\t\t--K;\n\t}\n\tS[N]=0;\n\tprintf(\"%s\\n\", S);\n\t/*simulate();\n\tprintf(\"%s\\n\", S);\n\tsimulate();\n\tprintf(\"%s\\n\", S);\n\tsimulate();\n\tprintf(\"%s\\n\", S);\n\tsimulate();\n\tprintf(\"%s\\n\", S);\n\tsimulate();\n\tprintf(\"%s\\n\", S);\n\tsimulate();\n\tprintf(\"%s\\n\", S);\n\tsimulate();\n\tprintf(\"%s\\n\", S);*/\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    for (int i = 0; i < 2 * n && k; ++i) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstring str;\ndeque<bool> deq;\n\nint main( void ) {\n    \n    int n, k;\n    cin >> n >> k >> str;\n    \n    if( k > (n << 1) )\n        k = (n << 1) + (k & 1);\n    \n    for( char ch : str )\n        deq.push_back( ch - 'A' );\n    \n    bool ok = false;\n    for( int i = 1; i <= k; i ++ ) {\n        if( deq.front() == ok )\n            deq.front() = !deq.front();\n        else {\n            ok = !ok;\n            deq.pop_front();\n            deq.push_back( ok );\n        }\n    }\n    \n    str.clear();\n    for( bool x : deq )\n        str.push_back( 'A' + ( !ok == x ) );\n    \n    cout << str << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i, N) for (int (i) = 0; (i) < (N); ++(i))\n#define READALL(c) for (auto &e : c) { cin >> e; }\n#define PRINTALL(c) for (const auto &e : c) { cout << e << \"\\t\"; } cout << \"\\n\";\n\ntemplate <typename T>\nusing V = vector<T>;\n\ntypedef long double ld;\n\nvoid print(V<int> ans) {\n\tfor (int a : ans) {\n\t\tcout << (!a ? 'A' : 'B');\n\t}\n\tcout << endl;\n}\n\nint cell(const V<int> &S, int loc, int steps) {\n\tint N = S.size();\n\tint j = loc+steps;\n\tint ans;\n\tif (j < N) {\n\t\tans = S[j];\n\t} else {\n\t\tans = !((j-N)%2);\n\t}\n\tif (steps%2) {\n\t\tans = !ans;\n\t}\n\treturn ans;\n}\n\nV<int> solve(int N, int K, V<int> S) {\n\tV<int> ans = S;\n\tint cnt = 0;\n\tbool flipped = 0;\n\tint steps_left = 0;\n\tREP(i, K) {\n\t\tif (!cell(S, 0, cnt) && !flipped) {\n\t\t\tflipped = 1;\n\t\t} else {\n\t\t\tflipped = 0;\n\t\t\t++cnt;\n\t\t}\n\t\tif (cnt == N) {\n\t\t\tsteps_left = K-i-1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (steps_left) {\n\t\tREP(i, N) {\n\t\t\tans[i] = (i+1)%2;\n\t\t}\n\t\tif (N%2) {\n\t\t\tREP(i, N) {\n\t\t\t\tans[i] = !ans[i];\n\t\t\t}\n\t\t\tif (steps_left%2)\n\t\t\t\tans[0] = !ans[0];\n\t\t\tif (flipped)\n\t\t\t\tans[0] = !ans[0];\n\t\t}\n\t\treturn ans;\n\t}\n\n\tif (flipped)\n\t\tans[0] = 1;\n\telse\n\t\tans[0] = cell(S, 0, cnt);\n\n\tfor (int i = 1; i < N; ++i) {\n\t\tans[i] = cell(S, i, cnt);\n\t}\n\treturn ans;\n}\n\nV<int> simulate(int N, int K, V<int> S) {\n\tfor (int k = 0; k < K; ++k) {\n\t\tint curr = 0, last = -1;\n\t\twhile (curr < N && curr >= 0) {\n\t\t\tint tmp = last;\n\t\t\tlast = curr;\n\t\t\tif (S[curr] == 0) {\n\t\t\t\tS[curr] = 1;\n\t\t\t\tcurr = tmp;\n\t\t\t} else {\n\t\t\t\tS[curr] = 0;\n\t\t\t\t++curr;\n\t\t\t}\n\t\t}\n\t}\n\treturn S;\n}\n\nvoid test() {\n\tdefault_random_engine re;\n\tfor (int tc = 0; tc < 100000; ++tc) {\n\t\tint N = re()%10+1;\n\t\tint K = re()%50+1;\n\t\tV<int> A(N);\n\t\tfor (int& e : A) {\n\t\t\te = re()%2;\n\t\t}\n\t\tcout << N << \" \" << K << endl;\n\t\tprint(A);\n\t\tprint(simulate(N, K, A));\n\t\tprint(solve(N, K, A));\n\t\tassert(simulate(N, K, A) == solve(N, K, A));\n\t}\n}\n\nmain() {\n\t// test();\n\t// return 0;\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tint N, K;\n\tcin >> N >> K;\n\tstring S;\n\tcin >> S;\n\tV<int> A(N);\n\tREP(i, N) {\n\t\tA[i] = (S[i] == 'B');\n\t}\n\t// print(simulate(N, K, A));\n\t// cout << endl;\n\tprint(solve(N, K, A));\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\t--k;\n\t}\n\tif (k == 0) {\n\t\tcout << s;\n\t\treturn 0;\n\t}\n\tstring sol = s;\n\tint j = s.size()-1;\n\tfor (int curs = 0; j >= 0 && k > 0; --j, --k) {\n\t\tsol[j] = curs + 'A';\n\t\tcurs ^= 1;\n\t}\n\t\n\tfor (int i = s.size()-1; j >= 0; --j, --i) {\n\t\tsol[j] = 'A' + ((s[i]-'A')^1);\n\t}\n\tcout << sol;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define F first\n#define S second\n#define pb push_back\n#define all(x) x.begin(), x.end()\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nconst int N = 100010 ;\nconst int MOD = 1000000007;\nconst int LOG = 20;\n\nint pnt = 0, n, k;\nbool f = 0, mark[N]; // marked B unmarked A\nstring s;\n\n\nint32_t main(){\n\tios::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor (int i = 0; i < n; i++) mark[i] = (s[i] == 'B');\n\tfor (int i = 1;  i <= min(k, 10000000 + (k % 2)); i++){\n\t\tif ((mark[pnt] ^ f)){\n\t\t\tpnt++;\n\t\t\tpnt %= n;\n\t\t\tf ^= 1;\n\t\t}else{\n\t\t\tmark[pnt] ^= 1;\n\t\t}\n\t}\n\tfor (int i = 1; i <= n; i++){\n\t\tcout << ((mark[pnt] ^ f) ? 'B' : 'A');\n\t\tpnt ++;\n\t\tpnt %= n;\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MN = 200010;\n\nint N, K;\nstring S;\nint chk[MN];\n\nint main() {\n    std::ios::sync_with_stdio(false);\n\n    cin >> N >> K >> S;\n\n    if(S[0] == 'A') S[0] = 'B', K--;\n\n    int pos = 0;\n    int Xor = 0;\n    for(int i = 0; i < N; i++) {\n        if(K < 2) break;\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1) {\n            chk[ (pos + 1) % N ] = 1;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K -= 2;\n    }\n\n    K %= (2 * N);\n\n    for(int i = 0; i < N; i++) {\n        if(K < 2) break;\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K -= 2;\n    }\n\n    if(K == 1) {\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    for(int i = 0; i < N; i++) {\n        if(chk[pos]) S[pos] = ((S[pos] == 'A') ^ Xor)? 'B' : 'A';\n        cout << S[pos];\n        pos = (pos + 1) % N;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\nvoid debug() {\n\tstring t; cin >> t;\n\trep(i, 60) {\n\t\tt = next(t);\n\t\tcout << t << endl;\n\t}\n}\n\nsigned main() {\n//\tdebug(); return 0;\n\n\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\n\tif (n == 1) {\n\t\tif (k & 1) {\n\t\t\tif (now == 'A')cout << 'B' << endl;\n\t\t\telse cout << 'A' << endl;\n\t\t}\n\t\telse cout << 'A' << endl;\n\n\t\treturn 0;\n\t}\n\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tt++;\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tif (D.size() == 1) {\n\t\t\t\tnow = 'A';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint a = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tif (a == 1) {\n\t\t\t\t\tD.push_back(a);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta--;\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t\tD.push_front(a);\n\t\t\t\t\tnow = 'A';\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t\tif ((now == 'A'&&D.size() % 2==0)||(now=='B'&&D.size()%2)) {\n\t\t\t\t\tint t = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tif (t == 1) {\n\t\t\t\t\t\tint u = D.back();\n\t\t\t\t\t\tD.pop_back();\n\t\t\t\t\t\tu++;\n\t\t\t\t\t\tD.push_back(u);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\t\tD.push_back(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n) {\n\t\t\tif((n&1&&now=='A')||(!(n&1)&&now=='B'))\n\t\t\tbreak;\n\t\t}\n//\t\tdisp(now, D);\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define rep(i,x,y) for(int i=(x);i<=(y);++i)\n#define per(i,x,y) for(int i=(x);i>=(y);--i)\nconst int N=4e5+10;\ninline bool vaild(char c){return c>='A'&&c<='B';}\ninline char gc(){char c=getchar();while(!vaild(c))c=getchar();return c;}\nint n,k,a[N],st=1,flag;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\trep(i,1,n)a[i]=gc()-'A';\n\tint i;\n\tfor(i=1;i<=k&&st<=n;++i){\n\t\tif(a[st]==0)a[st]=1;\n\t\telse{\n\t\t\tflag^=1;\n\t\t\ta[n+st]=!a[n+st-1];++st;\n\t\t}\n\t}--i;\n\tflag^=(k-i)&1;\n\trep(i,st,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tst[l-1]='A'+(rev^1);\n\t\tAplusB(0,l-1,r,rev,len,K-1);\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> l_l;\ntypedef pair<int, int> i_i;\ntemplate<class T>\ninline bool chmax(T &a, T b) {\n    if(a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\ntemplate<class T>\ninline bool chmin(T &a, T b) {\n    if(a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\n#define EPS (1e-7)\n#define INF (1e9)\n#define PI (acos(-1))\n//const ll mod = 1000000007;\nll N, K;\nstring S;\nbool field[200010];\nbool Last = true;\nbool ans[200001];\nint main() {\n    //cout.precision(10);\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> N >> K >> S;\n    if(N % 2 == 0) Last = false;\n    for(int i = 0; i < N; i++) {\n        field[i] = S[i] == 'A';\n    }\n    for(int i = 0; i < N; i++) {\n        if(i & 1) field[i] ^= true;\n    }\n    int idx = 0;\n    for(idx = 0; idx < N; idx++) {\n        //cerr << idx << \" \" << K << \" \" << field[idx] << endl;\n        if(K == 0) break;\n        K--;\n        if(field[idx]) {\n            field[idx] = false;\n            idx--;\n            continue;\n        }\n    }\n    //cerr << idx << endl;\n    //for(int i = 0; i < N; i++) cerr << field[i];\n    //cerr << endl;\n    if(K == 0) {\n        for(int i = 0; i + idx < N; i++) {\n            ans[i] = field[i+idx];\n        }\n        for(int i = N-idx; i < N; i++) {\n            ans[i] = Last;\n        }\n    } else {\n        for(int i = 0; i < N; i++) {\n            ans[i] = Last;\n        }\n        if(K % 2 == 1 and N % 2 == 1) {\n            ans[0] ^= true;\n        }\n    }\n    for(int i = 0; i < N; i++) {\n        if(i & 1) ans[i] ^= true;\n        if(ans[i]) cout << \"A\";\n        else cout << \"B\";\n    }\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing std::min;\n\nconst int N=2e5+10;\n\nint n,k,x[N];\nchar s[N];\n\nvoid Init() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tfor (int i=0;i<n;++i) x[i]=s[i]-'A';\n}\n\nvoid Solve() {\n\tint p=0,op=0;\n\tfor (int i=1;i<=min(n<<1,k);++i) {\n\t\tif ((x[p]^op)==0) x[p]^=1;\n\t\telse p=(p+1)%n,op^=1;\n\t}\n\tfor (int i=0;i<n;++i) printf(\"%c\",(x[(p+i)%n]^op)+'A'); putchar('\\n');\n}\n\nint main() {\n\tInit();\n\tSolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n \ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double lf;\ntypedef long double llf;\ntypedef std::pair<int,int> pii;\n \n#define xx first\n#define yy second\n \ntemplate<typename T> inline T max(T a,T b){return a>b?a:b;}\ntemplate<typename T> inline T min(T a,T b){return a<b?a:b;}\ntemplate<typename T> inline T abs(T a){return a>0?a:-a;}\ntemplate<typename T> inline bool repr(T &a,T b){return a<b?a=b,1:0;}\ntemplate<typename T> inline bool repl(T &a,T b){return a>b?a=b,1:0;}\ntemplate<typename T> inline T gcd(T a,T b){T t;if(a<b){while(a){t=a;a=b%a;b=t;}return b;}else{while(b){t=b;b=a%b;a=t;}return a;}}\ntemplate<typename T> inline T sqr(T x){return x*x;}\n#define mp(a,b) std::make_pair(a,b)\n#define pb push_back\n#define I inline\n#define mset(a,b) memset(a,b,sizeof(a))\n#define mcpy(a,b) memcpy(a,b,sizeof(a))\n \n#define fo0(i,n) for(int i=0,i##end=n;i<i##end;i++)\n#define fo1(i,n) for(int i=1,i##end=n;i<=i##end;i++)\n#define fo(i,a,b) for(int i=a,i##end=b;i<=i##end;i++)\n#define fd0(i,n) for(int i=(n)-1;~i;i--)\n#define fd1(i,n) for(int i=n;i;i--)\n#define fd(i,a,b) for(int i=a,i##end=b;i>=i##end;i--)\n#define foe(i,x)for(__typeof(x.end())i=x.begin();i!=x.end();++i)\n \nstruct Cg{I char operator()(){return getchar();}};\nstruct Cp{I void operator()(char x){putchar(x);}};\n#define OP operator\n#define RT return *this;\n#define RX x=0;char t=P();while((t<'0'||t>'9')&&t!='-')t=P();bool f=0;\\\nif(t=='-')t=P(),f=1;x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define RL if(t=='.'){lf u=0.1;for(t=P();t>='0'&&t<='9';t=P(),u*=0.1)x+=u*(t-'0');}if(f)x=-x\n#define RU x=0;char t=P();while(t<'0'||t>'9')t=P();x=t-'0';for(t=P();t>='0'&&t<='9';t=P())x=x*10+t-'0'\n#define TR *this,x;return x;\nI bool IS(char x){return x==10||x==13||x==' ';}template<typename T>struct Fr{T P;I Fr&OP,(int &x)\n{RX;if(f)x=-x;RT}I OP int(){int x;TR}I Fr&OP,(ll &x){RX;if(f)x=-x;RT}I OP ll(){ll x;TR}I Fr&OP,(char &x)\n{for(x=P();IS(x);x=P());RT}I OP char(){char x;TR}I Fr&OP,(char *x){char t=P();for(;IS(t);t=P());if(~t){for(;!IS\n(t)&&~t;t=P())*x++=t;}*x++=0;RT}I Fr&OP,(lf &x){RX;RL;RT}I OP lf(){lf x;TR}I Fr&OP,(llf &x){RX;RL;RT}I OP llf()\n{llf x;TR}I Fr&OP,(uint &x){RU;RT}I OP uint(){uint x;TR}I Fr&OP,(ull &x){RU;RT}I OP ull(){ull x;TR}};Fr<Cg>in;\n#define WI(S) if(x){if(x<0)P('-'),x=-x;char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\n#define WL if(y){lf t=0.5;for(int i=y;i--;)t*=0.1;if(x>=0)x+=t;else x-=t,P('-');*this,(ll)(abs(x));P('.');if(x<0)\\\nx=-x;while(y--){x*=10;x-=floor(x*0.1)*10;P(((int)x)%10+'0');}}else if(x>=0)*this,(ll)(x+0.5);else *this,(ll)(x-0.5);\n#define WU(S) if(x){char s[S],c=0;while(x)s[c++]=x%10+'0',x/=10;while(c--)P(s[c]);}else P('0')\ntemplate<typename T>struct Fw{T P;I Fw&OP,(int x){WI(10);RT}I Fw&OP()(int x){WI(10);RT}I Fw&OP,(uint x){WU(10);RT}\nI Fw&OP()(uint x){WU(10);RT}I Fw&OP,(ll x){WI(19);RT}I Fw&OP()(ll x){WI(19);RT}I Fw&OP,(ull x){WU(20);RT}I Fw&OP()\n(ull x){WU(20);RT}I Fw&OP,(char x){P(x);RT}I Fw&OP()(char x){P(x);RT}I Fw&OP,(const char *x){while(*x)P(*x++);RT}\nI Fw&OP()(const char *x){while(*x)P(*x++);RT}I Fw&OP()(lf x,int y){WL;RT}I Fw&OP()(llf x,int y){WL;RT}};Fw<Cp>out;\n\nconst int N=200007;\n\nchar _s[N*3],*s=_s;\nint n,m;\n\nint main()\n{\n\tin,n,m,s;\n\tfo0(i,n)s[i]-='A';\n\t/*fo0(d,m)\n\t{\n\t\tfor(int i=0,j=1;i>=0&&i<n;)\n\t\t{\n\t\t\ts[i]^=1;\n\t\t\tif(!s[i])i+=j;\n\t\t\telse i+=-j,j=-j;\n\t\t}\n\t\tfo0(j,n)if(s[j]^(j&1)^1)goto naive;\n\t\tbreak;naive:;\n\t\tfo0(i,n)out,char(s[i]+'A');out,'\\n';\n\t}*/\n\tchar u=0;\n\tint lst=0;\n\tfo0(d,m)\n\t{\n\t\tlst=d+1;\n\t\tif(!(s[0]^u))\n\t\t{\n\t\t\ts[0]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\ts[n]=s[0];\n\t\ts++;\n\t\tu^=1;\n\t\tif(d>=n*2+2)break;\n\t}\n\tif(~n&1){fo0(i,n)out,char((s[i]^u)+'A');out,'\\n';}\n\telse{fo0(i,n)out,char((i==0?(m>lst?(m-lst&1?s[0]^1^u:s[0]^u):s[i]^u):s[i]^u)+'A');out,'\\n';}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <algorithm>\nusing namespace std;\n\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P)\n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, deque<T> P)\n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\n\n\nint N, K;\nstring S;\n\nusing Data = deque<pair<char,int> >;\nchar conv(char c, int change) {\n    if (change & 1) return (c == 'A' ? 'B' : 'A');\n    else return c;\n}\n\nstring recon(const Data &v, int change) {\n    string res = \"\";\n    int sum = 0;\n    for (auto p : v) {\n        sum += p.second;\n        for (int i = 0; i < p.second; ++i) res += conv(p.first, change);\n    }\n    if (((int)S.size() - sum) % 2 == 1) ++sum, res += \"A\";\n    for (int i = 0; i < (int)S.size()-sum; i += 2) res += \"BA\";\n    return res;\n}\n\nint main() {\n    cin >> N >> K >> S;\n    Data v;\n    for (int i = 0; i < S.size();) {\n        int j = i+1;\n        while (j < S.size() && S[j] == S[i]) ++j;\n        v.push_back({S[i], j-i});\n        i = j;\n    }\n    int LIMIT = 10000000;\n    if ((K - LIMIT) & 1) ++LIMIT;\n    if (K > LIMIT) K = LIMIT;\n    int change = 0;\n    for (int i = 0; i < K; ++i) {\n        char c = conv(v[0].first, change);\n        if (c == 'A') {\n            auto p = v[0];\n            v.pop_front();\n            if (p.second > 1) v.push_front({conv('A', change), p.second - 1});\n            v.push_front({conv('B', change), 1});\n        }\n        else {\n            v[0].second--;\n            if (v[0].second == 0) v.pop_front();\n            ++change;\n\n            if (v.empty()) {\n                change = 0;\n                v.push_back({'A', 1});\n            }\n        }\n\n        //cout << i << \": \" << recon(v, change) << \", \" << change << endl;\n    }\n    cout << recon(v, change) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef unsigned long long int ull;\ntypedef long long int ll;\ntypedef pair<ll,ll> pll;\ntypedef long double D;\n//typedef complex<D> P;\n#define F first\n#define S second\nconst ll MOD=1000000007;\n//const ll MOD=998244353;\n\ntemplate<typename T,typename U>istream & operator >> (istream &i,pair<T,U> &A){i>>A.F>>A.S; return i;}\ntemplate<typename T>istream & operator >> (istream &i,vector<T> &A){for(auto &I:A){i>>I;} return i;}\ntemplate<typename T,typename U>ostream & operator << (ostream &o,const pair<T,U> &A){o<<A.F<<\" \"<<A.S; return o;}\ntemplate<typename T>ostream & operator << (ostream &o,const vector<T> &A){int i=A.size(); for(auto &I:A){o<<I<<(--i?\" \":\"\");} return o;}\n\nconst ll MX=3e6;\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll N,K;\n  string s;\n  cin>>N>>K>>s;\n  deque<int> A(N);\n  for(int i=0;i<N;i++){A[i]=s[i]=='A'?1:0;}\n  int k=0;\n  for(int i=0;i<min(K,MX);i++){\n    if((A[0]^k)==1){A[0]^=1;}\n    else{A.pop_front(); A.push_back(k); k^=1;}\n  }\n  K-=min(K,MX);\n  if(K&1){\n    A[0]^=N&1;\n  }\n  for(auto &I:A){cout<<((I^k)==0?\"B\":\"A\");}\n  cout<<endl;\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<queue>\n#define m_p(x,y) (make_pair((x),(y)))\nusing namespace std;\nconst int maxn=2e5;\nint n,k,cnt;\nchar S[maxn+8];\ndeque<pair<int,int> >que;\n\n\nint read()\n{\n    int x=0,f=1;char ch=getchar();\n    for (;ch<'0'||ch>'9';ch=getchar()) if (ch=='-') f=-1;\n    for (;ch>='0'&&ch<='9';ch=getchar()) x=x*10+ch-'0';\n    return x*f;\n}\n\nint main()\n{\n    n=read(),k=read();\n    k=min(k,2*(n+1)-(k&1));\n    scanf(\"%s\",S+1);\n    S[n+1]='B';\n    for (int i=1;i<=n;i++) if (S[i]!=S[i+1])  que.push_back(m_p(i,S[i]=='B'?1:0));\n    if (que.empty()) k--,que.push_back(m_p(n,0));\n    while(k--)\n\t{\n\t    pair<int,int> p=que.front();\n\t    if (p.first<=cnt) que.pop_front(),p=que.front();\n\t    if ((p.second^(cnt&1))==0)\n\t\t{\n\t\t    if (p.first-cnt==1) que.pop_front();\n\t\t    else\n\t\t\tque.push_front(m_p(cnt+1,(cnt&1)^1));\n\t\t    continue;\n\t\t}\n\t    cnt++;\n\t    que.push_back(m_p(n+cnt,cnt&1));\n\t}\n    pair<int,int> p=que.front();que.pop_front();\n    for (int i=1;i<=n;i++)\n\t{\n\t    //printf(\"%d %d\\n\",p.first,p.second);\n\t    if (p.first-cnt<i) p=que.front(),que.pop_front();\n\t    putchar(p.second^(cnt&1)?'B':'A');\n\t}\n    return 0;\n}\n\n\t    \n"
  },
  {
    "language": "C++",
    "code": "/**\n * code generated by JHelper\n * More info: https://github.com/AlexeyDmitriev/JHelper\n * @author majk\n */\n\n#ifndef MAJK_LIB\n#define MAJK_LIB\n\n#include <vector>\n#include <stack>\n#include <iostream>\n#include <unordered_map>\n#include <unordered_set>\n#include <map>\n#include <iomanip>\n#include <set>\n#include <functional>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <queue>\n#include <array>\n#include <bitset>\nusing namespace std;\n\n#define x first\n#define y second\ntypedef std::pair<int,int> pii; typedef long long ll; typedef unsigned long long ull; typedef unsigned int ui; typedef pair<ui,ui> puu;\n\ntemplate <typename T, typename U> std::istream&operator>>(std::istream&i, pair<T,U>&p) {i >> p.x >> p.y; return i;}\ntemplate<typename T>std::istream&operator>>(std::istream&i,vector<T>&t) {for(auto&v:t){i>>v;}return i;}\ntemplate <typename T, typename U> std::ostream&operator<<(std::ostream&o, const pair<T,U>&p) {o << p.x << ' ' << p.y; return o;}\ntemplate<typename T>std::ostream&operator<<(std::ostream&o,const vector<T>&t) {if(t.empty())o<<'\\n';for(size_t i=0;i<t.size();++i){o<<t[i]<<\" \\n\"[i == t.size()-1];}return o;}\ntemplate<typename T> using minheap = priority_queue<T, vector<T>, greater<T>>;\ntemplate<typename T> using maxheap = priority_queue<T, vector<T>, less<T>>;\ntemplate <typename T> bool in(T a, T b, T c) { return a <= b && b < c; }\nui logceil(ll x) { return x?8*sizeof(ll)-__builtin_clzll(x):0; }\n\nnamespace std { template<typename T,typename U>struct hash<pair<T,U>>{hash<T>t;hash<U>u;size_t operator()(const pair<T,U>&p)const{return t(p.x)^(u(p.y)<<7);}}; }\ntemplate<typename T,typename F>T bsh(T l,T h,const F&f){T r=-1,m;while(l<=h){m=(l+h)/2;if(f(m)){l=m+1;r=m;}else{h=m-1;}}return r;}\ntemplate<typename F> double bshd(double l,double h,const F&f,double p=1e-9){ui r=3+(ui)log2((h-l)/p);while(r--){double m=(l+h)/2;if(f(m)){l=m;}else{h=m;}}return (l+h)/2;}\ntemplate<typename T,typename F>T bsl(T l,T h,const F&f){T r=-1,m;while(l<=h){m=(l+h)/2;if(f(m)){h=m-1;r=m;}else{l=m+1;}}return r;}\ntemplate<typename F> double bsld(double l,double h,const F&f,double p=1e-9){ui r=3+(ui)log2((h-l)/p);while(r--){double m=(l+h)/2;if(f(m)){h=m;}else{l=m;}}return (l+h)/2;}\ntemplate<typename T> T gcd(T a,T b) { if (a<b) swap(a,b); return b?gcd(b,a%b):a; }\n\ntemplate<typename T>class vector2:public vector<vector<T>>{public:vector2(){} vector2(size_t a,size_t b,T t=T()):vector<vector<T>>(a,vector<T>(b,t)){}};\ntemplate<typename T>class vector3:public vector<vector2<T>>{public:vector3(){} vector3(size_t a,size_t b,size_t c,T t=T()):vector<vector2<T>>(a,vector2<T>(b,c,t)){}};\ntemplate<typename T>class vector4:public vector<vector3<T>>{public:vector4(){} vector4(size_t a,size_t b,size_t c,size_t d,T t=T()):vector<vector3<T>>(a,vector3<T>(b,c,d,t)){}};\ntemplate<typename T>class vector5:public vector<vector4<T>>{public:vector5(){} vector5(size_t a,size_t b,size_t c,size_t d,size_t e,T t=T()):vector<vector4<T>>(a,vector4<T>(b,c,d,e,t)){}};\n\n\n#endif\n// #include \"../l/mod.h\"\n\nclass DHalfReflector {\npublic:\n    void solve(istream& cin, ostream& cout) {\n        int N, K; cin >> N >> K;\n        string S; cin >> S;\n//        if (N == 1) {\n//            if (K % 2 == 0) cout << S << endl;\n//            else cout << \"AB\"[S[0] == 'A'] << endl;\n//            return;\n//        }\n\n        deque<int> W;\n        for (int i = 0; i < N; ++i) {\n            if (i > 0 && S[i-1] == S[i]) W.back()++;\n            else W.push_back(1);\n        }\n        bool firstA = S[0] == 'A';\n        int R = W.size();\n        for (int i = 0; i < min(2*N + K%2, K); ++i) {\n\n            if (firstA) {\n                if (W.front() == 1) {\n                    --R;\n                    W.pop_front();\n                    W.front()++;\n                } else {\n                    ++R;\n                    W.front()--;\n                    W.push_front(1);\n                }\n                firstA = false;\n            } else {\n                if (W.front() == 1) {\n                    W.pop_front(); --R;\n                } else {\n                    W.front()--; firstA = true;\n                }\n                if (W.size()%2==firstA) W.back()++;\n                else { W.push_back(1); ++R; }\n            }\n        }\n\n        stringstream ss;\n        while (!W.empty()) {\n            ss << string(W.front(), \"BA\"[firstA]);\n            W.pop_front();\n            firstA = !firstA;\n        }\n        cout << ss.str() << '\\n';\n\n//        for (int i = 0; i < K; ++i) {\n//            int j = 0; int left = 1;\n//            while (in(0, j, N)) {\n//                bool straight = S[j] == 'B';\n//                S[j] = \"BA\"[straight];\n//                if (straight) j += left;\n//                else { j -= left; left = -left; }\n//            }\n//        }\n//        cout << S << '\\n';\n    }\n};\n\n\nint main() {\n\tios_base::sync_with_stdio(false); cin.tie(nullptr); cout.tie(nullptr);\n\tDHalfReflector solver;\n\tstd::istream& in(std::cin);\n\tstd::ostream& out(std::cout);\n\tsolver.solve(in, out);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define RI register int\nconst int N=200005;\nint n,K,tag,l,r,a[N*3];char S[N];\nvoid print() {for(RI i=l;i<=r;++i) putchar(a[i]^tag?'A':'B');}\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",S+1);\n\tfor(RI i=1;i<=n;++i) a[i]=(S[i]=='A');\n\tl=1,r=n,tag=0;\n\tfor(RI i=1;i<=n+n;++i) {\n\t\tif(a[l]^tag) a[l]^=1;\n\t\telse tag^=1,++l,a[++r]=tag^1;\n\t\tif(i==K) {print();return 0;}\n\t}\n\tif((n&1)&&(K&1)) a[l]^=1;\n\tprint();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t\treturn 1;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0&&d[1]==0){  //B\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() ^= 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <deque>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n \n#define FOR(i,k,n) for (int (i)=(k); (i)<(n); ++(i))\n#define rep(i,n) FOR(i,0,n)\n#define all(v) begin(v), end(v)\n#define debug(x) cerr<< #x <<\": \"<<x<<endl\n#define debug2(x,y) cerr<< #x <<\": \"<< x <<\", \"<< #y <<\": \"<< y <<endl\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vector<ll> > vvll;\ntypedef deque<bool> db;\ntemplate<class T> using vv=vector<vector< T > >;\n\nint n, k;\nstring s;\nint cnt;\n\ndeque<int> ar;\nbool top_is_a;\nvoid print_ans() {\n  int ab = (top_is_a) ? 0 : 1;\n  int m = (int)ar.size();\n  rep (i, m) {\n    char c = 'A' + ((i + ab) % 2);\n    rep (j, ar[i]) {\n      printf(\"%c\", c);\n    }\n  }\n  printf(\"\\n\");\n}\n\nint main() {\n  cin >> n >> k;\n  cin >> s;\n  {\n    int ind = 0;\n    rep (i, n) {\n      if (s[i] != s[ind]) {\n        ar.push_back(i - ind);\n        ind = i;\n      }\n    }\n    ar.push_back(n - ind);\n  }\n  top_is_a = (s[0] == 'A');\n  cnt = 0;\n  while (cnt < k) {\n    if (n % 2 == 0) {\n      if ((!top_is_a) && (int)ar.size() == n) {\n        print_ans();\n        return 0;\n      }\n    } else {\n      if (top_is_a && (int)ar.size() == n) {\n        if ((k - cnt) % 2 == 0) {\n        } else {\n          ar.pop_front();\n        }\n        print_ans();\n        return 0;\n      }\n    }\n\n    cnt += 1;\n    if (top_is_a) {\n      if (ar[0] > 1) {\n        ar[0] -= 1;\n        ar.push_front(1);\n      } else {\n        ar.pop_front();\n        ar[0] += 1;\n      }\n      top_is_a = false;\n    } else {\n      if ((int)ar.size() % 2 == 1) {\n        if (ar[0] > 1) {\n          ar[0] -= 1;\n          ar.back() += 1;\n          top_is_a = true;\n        } else {\n          ar.pop_front();\n          ar.back() += 1;\n        }\n        continue;\n      }\n      if (ar[0] > 1) {\n        ar[0] -= 1;\n        ar.push_back(1);\n        top_is_a = true;\n      } else {\n        ar.pop_front();\n        ar.push_back(1);\n      }\n    }\n  }\n  print_ans();\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n    int n, k; cin >> n >> k;\n    string s; cin >> s;\n    deque<bool> w(n);\n    vector<bool> ans(n);\n    for (int i = 0; i < n; i++) {\n        w[i] = s[i] == 'A';\n        ans[n-i-1] = (i % 2 == 0);\n    }\n    bool rev = false;\n    while (k && !w.empty()) {\n        k--;\n        if (w[0] ^ rev) w[0] = !w[0];\n        else {\n            w.pop_front();\n            rev = !rev;\n        }\n    }\n    if (!w.empty()) {\n        for (int i = 0; i < w.size(); i++) {\n            ans[i] = rev ^ w[i];\n        }\n    } else {\n        if (n & 1) {\n            if (k & 1) ans[0] = !ans[0];\n        }\n    }\n    for (int i = 0; i < n; i++) {\n        if (ans[i]) cout << 'A';\n        else cout << 'B';\n    }\n    cout << \"\\n\";\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef pair<ll,ll> pll;\ntypedef vector<bool> vb;\nconst ll oo = 0x3f3f3f3f3f3f3f3f;\nconst double eps = 1e-9;\n#define sz(c) ll((c).size())\n#define all(c) begin(c), end(c)\n#define FOR(i,a,b) for (ll i = (a); i < (b); i++)\n#define FORD(i,a,b) for (ll i = (b)-1; i >= (a); i--)\n#define mp make_pair\n#define mt make_tuple\n#define pb push_back\n#define eb emplace_back\n#define xx first\n#define yy second\n#define has(c,i) ((c).find(i) != end(c))\n#define DBGDO(X) ({ if(1) cerr << \"DBGDO: \" << (#X) << \" = \" << (X) << endl; })\n\nchar a = 'A', b = 'B';\n\nvoid sim(string s, ll iters = 80) {\n\tll n = sz(s);\n\twhile (iters--) {\n\t\tcout << s << endl;\n\t\tll i = 0, di = 1;\n\t\twhile (i >= 0 && i < n) {\n\t\t\tif (s[i] == a) di = -di;\n\t\t\tif (s[i] == a) s[i] = b; else s[i] = a;\n\t\t\ti += di;\t\n\t\t}\n\t}\n}\n\nchar neg(char c) {\n\tif (c == a) return b;\n\treturn a;\n}\n\nint main() {\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tll n, k; cin >> n >> k;\n\tstring s; cin >> s;\n//\tfor (char &c: s) if (c == 'A') c = a; else c = b;\n//\tsim(s);\n\t\n\tll i = 0, flip = 0;\n\t\n\twhile (k--) {\n\t\tchar c = flip ? neg(s[i]) : s[i];\n\n\t\tif (c == a) {\n\t\t\ts[i] = neg(s[i]);\n\t\t} else {\n\t\t\tflip = !flip;\n\t\t\ti++;\n\t\t\ts.pb(flip ? b : a);\n\t\t}\n\t\tif (i == n) k %= 2;\n\t}\t\n\tif (flip) for (char &c: s) c = neg(c);\n\tcout << s.substr(i) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// No.080639011920\n#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <deque>\n#define N 200005\nusing namespace std;\n\nint n;\nchar s[N];\ndeque<int> q;\n\nvoid print() {\n    for (int i = 1; i <= n; ++i)\n        q.push_back(q.front()), cout << char('A' + (q.front())), q.pop_front();\n    cout << endl;\n}\n\nint main() {\n#ifdef LOCAL_JUDGE\n    freopen(\".in\", \"r\", stdin);\n    freopen(\".out\", \"w\", stdout);\n#endif\n\n    int K;\n    cin >> n >> K;\n    scanf(\"%s\", s + 1);\n\n\n    for (int i = 1; i <= n; ++i)\n        q.push_back((s[i] - 'A') ^ (i % 2 == 0));\n\n    //print();\n\n    K = min(K, n * 2 + K % 2);\n\n    for (int i = 1; i <= K; ++i) {\n        //print();\n        int u = q.front(); q.pop_front();\n        if (!u) q.push_front(1);\n        else q.push_back((n % 2 == 0));\n    }\n\n    for (int i = 1; i <= n; ++i)\n        putchar('A' + (q.front() ^ (i % 2 == 0))), q.pop_front();\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst int base = 3;\nconst int mod = (int)1e9 + 7;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nint hsh = 0, rev_hsh = 0;\nmap<int, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = (hsh * 1ll * base % mod + i + 1) % mod;\n\t\trev_hsh = (rev_hsh * 1ll * base % mod + (i ^ 1) + 1) % mod;\n\t}\n\n\tint pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = (pwn * 1ll * base) % mod;\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\n\t\t\thsh = (hsh + (((frs_v ^ 1) + 1) * 1ll * pwn) % mod) % mod;\n\t\t\trev_hsh = (rev_hsh + ((frs_v + 1) * 1ll * pwn) % mod) % mod;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = (hsh * 1ll * base) % mod;\n\t\t\trev_hsh = (rev_hsh * 1ll * base) % mod;\n\n\t\t\thsh = (hsh + 2) % mod;\n\t\t\trev_hsh = (rev_hsh + 1) % mod;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\t/*if(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}*/\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\t\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <iomanip>\n#include <utility>\n#include <tuple>\n#include <functional>\n#include <bitset>\n#include <cassert>\n#include <complex>\n#include <stdio.h>\n#include <time.h>\n#include <numeric>\n#include <random>\n#include <unordered_map>\n#include <unordered_set>\n#define all(a) a.begin(),a.end()\n#define rep(i, n) for (ll i = 0; i < (n); i++)\n#define pb push_back\n#define debug(x) cerr << #x << ':' << x << '\\n'\n#pragma GCC optimize(\"O3\")\n#pragma GCC optimize(\"unroll-loops\")\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\ntypedef complex<ld> com;\nconstexpr int inf = 1000000010;\nconstexpr ll INF = 1000000000000000010;\nconstexpr ld eps = 1e-12;\nconstexpr ld pi = 3.141592653589793238;\ntemplate<class T, class U> inline bool chmax(T &a, const U &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T, class U> inline bool chmin(T &a, const U &b) { if (a > b) { a = b; return true; } return false; }\n\nstring simulate(string s) {\n\tint go = 1;\n\tint idx = 0;\n\twhile (true) {\n\t\tif (s[idx] == 'A') {\n\t\t\ts[idx] = 'B';\n\t\t\tgo *= -1;\n\t\t\tidx += go;\n\t\t}\n\t\telse {\n\t\t\ts[idx] = 'A';\n\t\t\tidx += go;\n\t\t}\n\t\tif (idx == -1 || idx == s.size()) break;\n\t\t//debug(s);\n\t}\n\treturn s;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tcout << fixed << setprecision(20);\n\n\t/*string s = \"ABAABBBABA\";\n\tint q; cin >> q;\n\twhile (q--) {\n\t\ts = simulate(s);\n\t\tdebug(s);\n\t}*/\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tdeque<char> que;\n\trep(i, n) que.push_back(s[i]);\n\tbool rev = false;\n\trep(i, n + 1) {\n\t\tif (k == 0) break;\n\t\tif (que.front() == 'A' && !rev || que.front() == 'B' && rev) {\n\t\t\tque.pop_front();\n\t\t\tif (rev) que.push_front('A');\n\t\t\telse que.push_front('B');\n\t\t}\n\t\telse {\n\t\t\trev = !rev;\n\t\t\tque.pop_front();\n\t\t\tif (rev) que.push_back('B');\n\t\t\telse que.push_back('A');\n\t\t}\n\t\tk--;\n\t}\n\tstring ans = \"\";\n\twhile (!que.empty()) {\n\t\tchar c = que.front(); que.pop_front();\n\t\tans += c;\n\t}\n\tif (rev) {\n\t\trep(i, n) {\n\t\t\tif (ans[i] == 'A') ans[i] = 'B';\n\t\t\telse ans[i] = 'A';\n\t\t}\n\t}\n\tif (n % 2 == 1 && k % 2 == 1) {\n\t\tif (ans[0] == 'A') ans[0] = 'B';\n\t\telse ans[0] = 'A';\n\t}\n\tcout << ans << '\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits//stdc++.h\"\nusing namespace std;\ntypedef long long ll;\nconst ll INF = 1LL << 60;\nconst ll MOD = 1e9 + 7;\n\n#define ALL(v) v.begin(), v.end()\nint main() {\n\tint N, K;\n\tcin >> N >> K;\n\tstring S;\n\tstring ans;\n\tans.resize(N);\n\tcin >> S;\n\tdeque<int> que;\n\tint len = 1;\n\tfor (int i = 1; i < S.size(); i++) {\n\t\tif (S[i - 1] == S[i]) {\n\t\t\tlen++;\n\t\t}\n\t\telse {\n\t\t\tque.push_back(len);\n\t\t\tlen = 1;\n\t\t}\n\t}\n\tque.push_back(len);\n\tbool head = (S[0] == 'B');\n\tint i;\n\tfor (i = 1; i <= K; i++) {\n\t\tif (head) {\n\t\t\tif (que.size() == 1) {\n\t\t\t\thead = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint len = que.front(); que.pop_front();\n\t\t\tif (len > 1) {\n\t\t\t\tque.push_front(len - 1);\n\t\t\t\thead = 0;\n\t\t\t\tif (que.size() % 2 == 0) que.push_back(1);\n\t\t\t\telse que.back()++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (que.size() % 2 == 0) que.back()++;\n\t\t\t\telse que.push_back(1);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint len = que.front(); que.pop_front();\n\t\t\tif (len > 1) {\n\t\t\t\tque.push_front(len - 1);\n\t\t\t\tque.push_front(1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (que.size() > 0) que.front()++;\n\t\t\t\telse que.push_front(1);\n\t\t\t}\n\t\t\thead = 1;\n\t\t}\n\t\tif (que.size() == N) break;\n\t}\n\tint pos = 0;\n\twhile (!que.empty()) {\n\t\tint len = que.front(); que.pop_front();\n\t\tfor (int i = 0; i < len; i++) {\n\t\t\tans[pos++] = head ? 'B' : 'A';\n\t\t}\n\t\thead ^= 1;\n\t}\n\tif (i <= K && (K - i) % 2 == 1) {\n\t\tans[0] = 'B';\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h> \n\nusing namespace std;\n\nconst int maxn=2e6+10;\n\nint n,k;\nchar c[maxn];\nint a[maxn],now=0,fx=1,b[maxn],sl;\n\n\n// 最后一位为 A 后 ....BABABA 循环最多进行 2n  次  \ndeque<int> q;\nint main()\n{\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",c+1);\n\tfor(int i=1;i<=n;++i) {\n\t\ta[i]=c[i]-'A';\n\t\tif((i)&1) b[n-i+1]=0;\n\t\telse b[n-i+1]=1;\n\t\tq.push_back(a[i]);\n\t} \n\tint now=0;\n\tint z=min(2*n,k);\n\tfor(int i=1;i<=z;++i) {\n\t\tint u=q.front();//cout<<i<<\" \"<<now<<\":\"<<u<<\"\\n\";\n\t\tif((u^now)==0) {\n\t\t\tq.pop_front();\n\t\t\tq.push_front(u^1);\n\t\t}else {\n\t\t\tq.pop_front(); \n\t\t\tq.push_back(1^now);\n\t\t\tnow^=1;\n\t\t}\n\t}\n\tif(k<=z) {\n\t\twhile(!q.empty()) {\n\t\t\tint u=q.front();q.pop_front();\n\t\t\tif(u^now) cout<<\"B\";\n\t\t\telse cout<<\"A\";\n\t\t}\t\n\t\treturn 0;\n\t}\n\tint tot=0,sl=n;\n\twhile(!q.empty()) {\n\t\tint u=q.front()^now;q.pop_front();\n\t\tif(u!=b[++tot]) {\n\t\t\tsl=n+1;\n\t\t\tbreak;\n\t\t}\t\t\n\t}\n\tif((n%2)==0) {\n\t\tif((k-sl)%2) b[1]=0;\n\t}\n\tfor(int i=1;i<=n;++i) {\n\t\tif(b[i]&1) {\n\t\t\tcout<<\"B\";\n\t\t}else {\n\t\t\tcout<<\"A\";\n\t\t}\n\t}\n\treturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> pli;\nconst int inf=1e9;\nconst ll Inf=1e18;\nconst int N=8e5+10;\nconst int mod=0;\nint gi() {\n    int x=0,o=1;char ch=getchar();\n    while((ch<'0'||ch>'9')&&ch!='-') ch=getchar();\n    if(ch=='-') o=-1,ch=getchar();\n    while(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n    return x*o;\n}\ntemplate<typename T> bool chkmax(T &a,T b) { return a<b?a=b,1:0; };\ntemplate<typename T> bool chkmin(T &a,T b) { return a>b?a=b,1:0; };\nint add(int a,int b) { return a+b>=mod?a+b-mod:a+b; }\nint sub(int a,int b) { return a-b<0?a-b+mod:a-b; }\nvoid inc(int &a,int b) { a=(a+b>=mod?a+b-mod:a+b); }\nvoid dec(int &a,int b) { a=(a-b<0?a-b+mod:a-b); }\nint n,k,a[N],tag=0;\nchar s[N];\nint main() {\n    cin>>n>>k;scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++) a[i]=s[i]-'A';\n    int l=1,r=n,cnt=0;\n    while(k&&cnt<2*n) {\n        k--;cnt++;\n        if(a[l]==tag) a[l]^=1;\n        else l++,r++,tag^=1,a[r]=tag;\n    }\n    if(k&1) {\n        k--;cnt++;\n        if(a[l]==tag) a[l]^=1;\n        else l++,r++,tag^=1,a[r]=tag;\n    }\n    for(int i=l;i<=r;i++) putchar('A'+(a[i]^tag));\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(cnt + 1 < ans.size() && K--)\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tfor(int i = 1 ; i <= 2 * N && K-- ; ++i)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\tif(K > 0){\n\t\t\tK %= 2 * N;\n\t\t\twhile(K--)\n\t\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\t}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t\treturn 1;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0){  //B\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\tfor (int i = 0; i < d.size(); i++){\n\t\t\tint go = ((i % 2) == d[i]);\n\t\t\tans.push_back('A' + go);\n\t\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n//\tassert(false);\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\t\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\treverse(s+1,s+1+n);\n\tprint(s+1);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n//\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nstring s;\nint N,K;\nbool a[2<<17];\nmain()\n{\n\tcin>>N>>K>>s;\n\tfor(int i=0;i<N;i++)\n\t{\n\t\ta[i]=i+1<N&&s[i]==s[i+1]||i+1==N&&s[i]=='B';\n\t}\n\tint cnt=0,now=0;\n\tbool t=s[0]=='A',f=0;\n\twhile(now<K&&cnt<N)\n\t{\n\t\tif(t)\n\t\t{\n\t\t\tt^=1;\n\t\t\tf=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tt^=f^a[cnt++];\n\t\t\tf=0;\n\t\t}\n\t\tnow++;\n\t}\n\tbool flag=0;\n\tfor(int i=N;--i;)\n\t{\n\t\ts[i]=(s[i]=='A')^(flag^=a[i]^(i+cnt<N&&a[i+cnt]))?'A':'B';\n\t}\n\ts[0]=t^(cnt==N&&(K-now)%2==0)?'A':'B';\n\tcout<<s<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tif (k > 3 * n)\n\t{\n\t\tif (n & 1 && k & 1) s[0] = 'A';\n\t\telse s[0] = 'B';\n\n\t\tfor (int i = 1; i < n; i++)\n\t\t\ts[i] = (s[i-1] == 'A' ? 'B' : 'A');\n\t\tcout << s;\n\t}\n\telse\n\t{\n\t\tfor (int i = 0; i < k; i++)\n\t\t{\n\n\t\t\tif (!(a[0] ^ rev)) \n\t\t\t{\n\t\t\t\ta[0] = !rev;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ta.pop_front ();\n\t\t\trev ^= 1;\n\t\t\ta.push_back (rev);\n\t\t}\n\n\t\tfor (int j = 0; j < n; j++)\n\t\t\tif (rev ^ a[j]) putchar ('B');\n\t\t\telse putchar ('A');\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[700005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        if(times % 2 == 0)\n        {\n            for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n        }\n        else\n        {\n            cout << \"B\";\n            for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n\n        cout << \"\\n\";\n        }\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n\n    Read();\n    if(N == 1)\n    {\n        if(Str[1] == 'A')\n        {\n            if(K % 2 == 1)\n        cout << \"B\\n\";\n        else\n            cout << \"A\\n\";\n\n        }\n        else\n        {\n            if(K % 2 == 1)\n        cout << \"A\\n\";\n        else\n            cout << \"B\\n\";\n        }\n                return 0;\n    }\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <map>\n#include <set>\n#include <functional>\n#include <iostream>\n#define MOD 1000000007LL\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint n,k;\ndeque<P> que;\n\nint main(void){\n\tscanf(\"%d%d\",&n,&k);\n\tstring str;\n\tcin >> str;\n\tfor(int i=0;i<n;i++){\n\t\tif(str[i]=='A')que.push_back(P(0,0));\n\t\telse que.push_back(P(1,0));\n\t}\n\tint flip=0;\n\tfor(int i=0;i<min(n*2,k);i++){\n\t\tint g=que[0].first;\n\t\tif((que[0].second-flip)%2==1)g=1-g;\n\t\tif(g==0){\n\t\t\tque.pop_front();\n\t\t\tque.push_front(P(1,flip));\n\t\t}else{\n\t\t\tflip++;\n\t\t\tque.pop_front();\n\t\t\tque.push_back(P(0,flip));\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif((flip-que[i].second)%2==1){\n\t\t\tque[i].first=1-que[i].first;\n\t\t}\n\t}\n\tif(n*2<k){\n\t\tint rest=k-n*2;\n\t\tif(n%2==1 && rest%2==1){\n\t\t\tque[0].first=1-que[0].first;\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tprintf(\"%c\",que[i].first==0?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing std::min;\n\nconst int N=2e5+10;\n\nint n,k,x[N];\nchar s[N];\n\nvoid Init() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tfor (int i=0;i<n;++i) x[i]=s[i]-'A';\n}\n\nvoid Solve() {\n\tint p=0,op=0;\n\tfor (int i=1;i<=min((n<<1|(k&1)),k);++i) {\n\t\tif ((x[p]^op)==0) x[p]^=1;\n\t\telse p=(p+1)%n,op^=1;\n\t}\n\tfor (int i=0;i<n;++i) printf(\"%c\",(x[(p+i)%n]^op)+'A'); putchar('\\n');\n}\n\nint main() {\n\tInit();\n\tSolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <deque>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <tuple>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <array>\n#include <utility>\n#include <valarray>\n\nusing namespace std;\n\nvoid process(deque<int>& S)\n{\n    if (S[0] == 0){\n        S.pop_front();\n        --S[0];\n        if (S.size() % 2){\n            ++S.back();\n        }else{\n            S.emplace_back(1);\n        }\n    }else if (S[0] == 1){\n        --S[0];\n        ++S[1];\n    }else{\n        --S[0];\n        S.emplace_front(1);\n        S.emplace_front(0);\n    }\n}\n\nint main()\n{\n    int N, K;\n    scanf(\"%d %d\\n\", &N, &K);\n    deque<int> S;\n    {\n        string str;\n        getline(cin, str);\n        // cout << str << endl;\n        int count = 0;\n        bool A_flag = true;\n        for (int i = 0; i < str.size(); ++i){\n            if ((str[i] == 'A') != A_flag){\n                S.emplace_back(count);\n                count = 0;\n                A_flag = !A_flag;\n            }\n            ++count;\n        }\n        S.emplace_back(count);\n    }\n    auto print = [](deque<int>& S){\n        bool A_flag = true;\n        for (int i = 0; i < S.size(); ++i){\n            if (A_flag){\n                for (int j = 0; j < S[i]; ++j) putchar('A');\n            }else{\n                for (int j = 0; j < S[i]; ++j) putchar('B');\n            }\n            A_flag = !A_flag;\n        }\n        puts(\"\");\n    };\n    // for (int c = 0; c < K; ++c) process(S);\n    int count = 0;\n    map<deque<int>, int> old_map;\n    vector<deque<int>> old_vec;\n    old_map.emplace(S, count);\n    old_vec.emplace_back(S);\n    while (count < K){\n        process(S);\n        ++count;\n        // printf(\"%d \", count);\n        // print(S);\n        if (old_map.count(S)){\n            const int first = old_map[S];\n            print(old_vec[((K - first) % (count - first)) + first]);\n            return 0;\n        }else{\n            old_map.emplace(S, count);\n            old_vec.emplace_back(S);\n        }\n    }\n    print(S);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\ntypedef pair<pll, pll> P;\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS = 1e-9;\nconst bool debug = 0;\n//---------------------------------//\n\nint N, K;\nstring S;\n\nint main() {\n\tcin >> N >> K >> S;\n\t\n\tdeque<char> deq;\n\tREP(i, N) deq.push_back((i % 2 == 1) ^ (S[i] == 'A') ? 'A' : 'B');\n\t\n\tREP(i, 2 * N) {\n\t\tif (K == 0) break;\n\t\t\n\t\tchar front = deq.front();\n\t\tdeq.pop_front();\n\t\t\n\t\tif (front == 'A') deq.push_front('B');\n\t\telse deq.push_back(N % 2 == 1 ? 'A' : 'B');\n\t\tK--;\n\t}\n\t\n\tstring ans = \"\";\t\n\tREP(i, N) ans += (i % 2 == 1) ^ (deq[i] == 'A') ? 'A' : 'B';\n\tif (N & 1 && K & 1) ans[0] = ans[0] == 'A' ? 'B' : 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\n#include <random>\n#include <fstream>\nusing namespace std;\n\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define pb push_back\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<int, ll> i_ll;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int v; ll w; };\n\nconst int MOD = 1000000007;\nconst int _MOD = 1000000009;\ndouble EPS = 1e-10;\nconst int INF = INT_MAX / 2;\n\nint main() {\n\tint N, K; cin >> N >> K;\n\tstring s; cin >> s;\n\tif (N == 1) {\n\t\tif (K % 2) s[0] = 'A' + 'B' - s[0];\n\t\tcout << s << endl;\n\t\treturn 0;\n\t}\n\trep(i, N) if ((N - 1 - i) % 2) s[i] = 'A' + 'B' - s[i];\n\tint l = 0;\n\twhile (K--) {\n\t\tchar c = s[l];\n\t\tif ((N - 1) % 2) c = 'A' + 'B' - c;\n\t\tif (c == 'A') s[l] = 'A' + 'B' - s[l];\n\t\telse l++;\n\t\tif (l == N) break;\n\t}\n\tstring t = s.substr(l) + string(l, 'A');\n\trep(i, N) if ((N - 1 - i) % 2) t[i] = 'A' + 'B' - t[i];\n\tcout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,a,b) for(int i=a;i>=b;i--)\nusing namespace std;\nconst int N=1e6+5;\nint que[N],head=1,tail,n,k,cmp;\nvoid Output(int n){ rep(i,1,n) putchar(i&1?'B':'A'); } \nint main(){\n\tscanf(\"%d%d\",&n,&k); tail=n;\n\trep(i,1,n){\n\t\tchar c=getchar();\n\t\twhile(c!='A'&&c!='B') c=getchar();\n\t\tque[i]=c=='A';\n\t}\n\trep(i,1,min(k,2*n)){\n\t\tif(cmp^que[head]) que[head]^=1;\n\t\telse que[++tail]=cmp,cmp^=1,head++;\n\t}\n\tif(k<=2*n){\n\t\trep(i,head,tail) putchar((que[i]^cmp)&1?'A':'B');\n\t\treturn 0;\n\t}\n\tif(n&1){\n\t\tk-=2*n;\n\t\tputchar((que[head]^cmp^(k&1))&1?'A':'B');\n\t\tOutput(n-1);\n\t}else{\n\t\tOutput(n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// No.080639011920\n#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <deque>\n#define N 200005\nusing namespace std;\n\nint n;\nchar s[N];\ndeque<int> q;\n\nvoid print() {\n    for (int i = 1; i <= n; ++i)\n        q.push_back(q.front()), cout << char('A' + (q.front())), q.pop_front();\n    cout << endl;\n}\n\nint main() {\n#ifdef LOCAL_JUDGE\n    freopen(\".in\", \"r\", stdin);\n    freopen(\".out\", \"w\", stdout);\n#endif\n\n    int K;\n    cin >> n >> K;\n    scanf(\"%s\", s + 1);\n\n\n    for (int i = 1; i <= n; ++i)\n        q.push_back((s[i] - 'A') ^ (i % 2 == 0));\n\n    //print();\n\n    K = min(K, n * 2);\n\n    for (int i = 1; i <= K; ++i) {\n        //print();\n        int u = q.front(); q.pop_front();\n        if (!u) q.push_front(1);\n        else q.push_back((n % 2 == 0));\n    }\n\n    for (int i = 1; i <= n; ++i)\n        putchar('A' + (q.front() ^ (i % 2 == 0))), q.pop_front();\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<queue>\n#include<vector>\n#include<algorithm>\n#include<iostream>\n#include<set>\n#include<cmath>\n#include<tuple>\n#include<string>\n#include<chrono>\n#include<functional>\n#include<iterator>\n#include<random>\n#include<unordered_set>\n#include<unordered_map>\n#include<array>\n#include<map>\n#include<bitset>\n#include<iomanip>\n#include<list>\n#include <numeric>\nusing namespace std;\ntypedef unsigned long long int ulint;\ntypedef long long int llint;\ntypedef long double lldo;\n#define mp make_pair\n#define mt make_tuple\n#define pub push_back\n#define puf push_front\n#define pob pop_back\n#define pof pop_front\n#define fir first\n#define sec second\n#define res resize\n#define ins insert\n#define era erase\n#define RE return 0\n//ios::sync_with_stdio(false);\n//std::cin.tie(0);\n//<< setprecision(20)\n//const int mod=(int)998244353;\nconst llint big=(llint)(2.19e16)+1;\nconst long double pai=3.141592653589793238462643383279502884197;\nconst long double ena=2.71828182845904523536;\nconst long double eps=1e-7;\ntemplate <class T,class U>bool mineq(T& a,U b){if(a>b){a=b;return true;}return false;}\ntemplate <class T,class U>bool maxeq(T& a,U b){if(a<b){a=b;return true;}return false;}\ntemplate <class T> void soun(T& ar)\n{sort(ar.begin(),ar.end());ar.erase(unique(ar.begin(),ar.end()),ar.end());}\nllint gcd(llint a,llint b){if(a%b==0){return b;}else{return gcd(b,a%b);}}\nllint lcm(llint a,llint b){return a/gcd(a,b) *b;}\ntemplate<class T,class U> auto LB(T& ve,U in){return lower_bound(ve.begin(),ve.end(),in);}\ntemplate<class T,class U> auto UB(T& ve,U in){return upper_bound(ve.begin(),ve.end(),in);}\ntemplate<class T,class U> auto LBI(T& ve,U in){return LB(ve,in)-ve.begin();}\ntemplate<class T,class U> auto UBI(T& ve,U in){return UB(ve,in)-ve.begin();}\ntemplate<class T> void SO(T& ve){sort(ve.begin(),ve.end());}\ntemplate<class T> void REV(T& ve){reverse(ve.begin(),ve.end());}\nusing pli=pair<llint,int>;\nusing daic=priority_queue<pli,vector<pli>,greater<pli>>;\nint main(void){\n\tint n,K,i;cin>>n>>K;\n\tint nn=n,kk=K;\n\tstring s;cin>>s;\n\tdeque<char> str;\n\tfor(i=0;i<n;i++){str.pub(s[i]);}\n\tauto debag=str;\n\tbool ki=false;\n\tif(n%2==1){\n\t\tki=true;\n\t\tif(str[0]=='A'){K--;}\n\t\tn--;\n\t\tstr.pof();\n\t}\n\twhile(K>=10&&str.size()>0){\n\t\t//AB 4\n\t\t//BA 2\n\t\t//AA 3\n\t\t//BB 3\n\t\t//(なんでこれが成立するのかよくわかってない)\n\t\tif(str[0]=='A'&&str[1]=='B'){\n\t\t\tif(!ki){K-=4;}else{K-=2;}str.pof();str.pof();}\n\t\telse if(str[0]=='A'&&str[1]=='A'){\n\t\t\tK-=3;str.pof();str.pof();}\n\t\telse if(str[0]=='B'&&str[1]=='B'){\n\t\t\tK-=3;str.pof();str.pof();}\n\t\telse if(str[0]=='B'&&str[1]=='A'){\n\t\t\tif(!ki){K-=2;}else{K-=4;}str.pof();str.pof();}\n\t}\n\tif(ki){str.puf('B');}\n\tint m=str.size();\n\tif(str.size()==0){K=0;}\n\tif(str.size()==1){K%=2;}\n\twhile(K>0&&str.size()>0){\n\t\tint bas=0,mki=1;\n\t\twhile(bas!=-1&&bas!=m){\n\t\t\tif(str[bas]=='A'){\n\t\t\t\tstr[bas]='B';\n\t\t\t\tmki=-mki;\n\t\t\t\tbas+=mki;\n\t\t\t}else{\n\t\t\t\tstr[bas]='A';\n\t\t\t\tbas+=mki;\n\t\t\t}\n\t\t}K--;\n\t}\n\twhile(str.size()<nn){str.pub('B');str.pub('A');}\n\tstring ans;\n\tfor(auto it:str){ans.pub(it);}\n\tcout<<ans<<endl;\n\tRE;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<iomanip>\n#include<ctime>\n#include<set>\n#include<map>\n#include<queue>\n#include<stack>\n#define sqr(x) ((x)*(x))\n#define fz1(i,n) for ((i)=1;(i)<=(n);(i)++)\n#define fd1(i,n) for ((i)=(n);(i)>=1;(i)--)\n#define fz0g(i,n) for ((i)=0;(i)<=(n);(i)++)\n#define fd0g(i,n) for ((i)=(n);(i)>=0;(i)--)\n#define fz0k(i,n) for ((i)=0;(i)<(n);(i)++)\n#define fd0k(i,n) for ((i)=(long long)((n)-1);(i)>=0;(i)--)\n#define fz(i,x,y) for ((i)=(x);(i)<=(y);(i)++)\n#define fd(i,y,x) for ((i)=(y);(i)>=(x);(i)--)\n#define fzin fz1(i,n)\n#define fzim fz1(i,m)\n#define fzjn fz1(j,n)\n#define fzjm fz1(j,m)\n#define ff(c,itr) for (__typeof((c).begin()) itr=(c).begin();itr!=(c).end();itr++)\n#define rdst(st,len){static char ss[len];scanf(\" %s\",ss);(st)=ss;}\n#define inc(x,y) {x+=(y);if(x>=mod)x-=mod;}\n#define dec(x,y) {x-=(y);if(x<0)x+=mod;}\n#define spln(i,n) (i==n?'\\n':' ')\nusing namespace std;\nint n,m,i,j;\nstring st;\nchar cA='A';\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\trdst(st,200005);st=\" \"+st;\n\ti=1;\n\twhile(i<=n&&m)\n\t{\n\t\tm--;\n\t\tif(st[i]==cA) st[i]='A'+'B'-cA;\n\t\telse {i++;cA='A'+'B'-cA;}\n\t}\n\tif(i<=n){\n\t\tj=1;\n\t\twhile(i<=n){\n\t\t\tputchar(st[i]==cA?'A':'B');\n\t\t\ti++;j++; \n\t\t}\n\t\twhile(j<=n){\n\t\t\tputchar((j&1)==(n&1)?'A':'B');\n\t\t\tj++;\n\t\t}\n\t\tputs(\"\");\n\t\treturn 0;\n\t}\n\tif(n&1){\n\t\tputchar((m&1)?'B':'A');\n\t}\n\tfz1(i,n/2){\n\t\tprintf(\"BA\");\n\t}\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define sqr(x) ((x)*(x))\n#define ll long long\n#define ull unsigned long long\n#define ui unsigned int\n#define ld long double\n#define vi vector<int>\n#define pii pair<int,int>\n#define pb push_back\n#define mp make_pair\n#define debuge cerr<<\"isok\"<<endl\n#define debug(x) cerr<<#x<<\"=\"<<x<<endl\n#define SS second\n#define FF first\n#define ls (k<<1)\n#define rs (k<<1|1)\n#define inf 0x3f3f3f3f\n#define clr(a,x) memset(a,x,sizeof(a))\n#define cpy(a,x) memcpy(a,x,sizeof(a))\n#define file(x) freopen(x\".in\",\"r\",stdin),freopen(x\".out\",\"w\",stdout);\nusing namespace std;\n\nconst int N=200005,M=100005,mod=1e9+7;\ntemplate<class T> inline void gmin(T &x,const T &y){if(x>y) x=y;}\ntemplate<class T> inline void gmax(T &x,const T &y){if(x<y) x=y;}\ninline void ch(int &x,int y){x=(x+y)%mod;}\ntemplate<class T> inline void read(T &x){\n\tx=0;char ch=getchar(),rev=0;\n\twhile(ch>'9'||ch<'0') rev=(ch=='-'),ch=getchar();\n\twhile(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n\tx=rev?-x:x;\n}\ntemplate<class T> inline void print(T x){\n\tif(!x){puts(\"0\");return;}\n\tif(x<0){putchar('-');x=-x;}\n\tint a[20],m=0;\n\twhile(x) a[m++]=x%10,x/=10;\n\twhile(m--) putchar(a[m]+'0');puts(\"\");\n}\ninline int exp(int x,int y){\n\tint ans=1;\n\twhile(y){\n\t\tif(y&1) ans=(ll)ans*x%mod;\n\t\tx=(ll)x*x%mod;y>>=1;\n\t}return ans;\n}\n\nint n,k,cnt,ans[N];\nchar s[N];\ndeque<int> q;\n\nint main(){\n#ifdef rqgao2014\n\tfreopen(\"input.txt\",\"r\",stdin);\n\tsrand(time(0));\n#endif\n\tios::sync_with_stdio(0);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tif(s[1]=='A') s[1]='B';k--;\n\ts[++n]='B';\n\tfor(int i=1;i<=n;i++){\n\t\tint r=i;\n\t\twhile(r<n&&s[r+1]==s[i]) r++;\n\t\tq.push_back(r-i+1);i=r;\n\t\tcnt++;\n\t}\n\tfor(int i=1;i<=k&&cnt<n;i++){\n\t\tint x=q.front();\n\t\tif(x==1){\n\t\t\tq.pop_front();q.push_back(1);\n\t\t\tcontinue;\n\t\t}\n\t\tq.pop_front();cnt++;\n\t\tq.push_front(x-1);q.push_back(1);\n\t\tif(i==k) break;\n\t\tif(x==2){\n\t\t\tif(cnt==n){\n\t\t\t\tif((k-i)&1){q.pop_front();q.pop_front();q.push_front(2);cnt--;}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint y;\n\t\t\tq.pop_front();y=q.front();\n\t\t\tq.pop_front();q.push_front(y+1);\n\t\t\tcnt--;i++;\n\t\t\tcontinue;\n\t\t}\n\t\ti++;cnt++;\n\t\tq.pop_front();\n\t\tq.push_front(x-2);q.push_front(1);\n\t}\n\tint p=n,now=1;\n\twhile(!q.empty()){\n\t\tfor(int i=1;i<=q.back();i++)\n\t\t\tans[p--]=now;\n\t\tq.pop_back();now^=1;\n\t}\n\tfor(int i=1;i<n;i++)\n\t\tif(ans[i]) putchar('B'); else putchar('A');puts(\"\");\n#ifdef rqgao2014\n\ttime_tester(1);\n#endif\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 2e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\t//dbg(r, k, h); rep(i, n) cerr<<(char)(q[i]+'A'); cerr<<endl;\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 29 - 2;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\n#include <queue>\n\nnamespace IO {\n    template <typename _T>\n    inline bool read (_T& x) {\n        x = 0;\n        _T y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return false;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return true;\n    }\n\n    template <typename _T>\n    inline _T input () {\n        _T x = 0, y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return 0;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return x;\n    }\n};\nusing namespace IO;\n\n#define reg register\n#define MAX_N 200007\n#define FIN(s) freopen(s, \"r\", stdin)\n#define FOUT(s) freopen(s, \"w\", stdout)\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define rep(i, l, r) for(int i = l; i <= r; ++i)\n#define lep(i, l, r) for(int i = l; i < r; ++i)\n#define irep(i, r, l) for(int i = r; i >= l; --i)\n#define ilep(i, r, l) for(int i = r; i > l; --i)\ntypedef long long ll;\n\nint N, K, bg;\nchar s[MAX_N];\nint q[MAX_N];\n\nint main () {\n#ifdef LOCAL\n    FIN(\"in\");\n#endif\n    read(N), read(K);\n    scanf(\"%s\", s);\n    bg = 0;\n    lep (i, 0, N) q[i] = s[i] - 'A';\n    int now = 0;\n    rep (i, 1, K) {\n        if (now == q[bg]) {\n            q[bg] = now ^ 1;\n        } else {\n            q[bg] = now ^ 1;\n            (bg += 1) %= N;\n            now ^= 1;\n        }\n    }\n    rep (i, 1, N) {\n        putchar((q[bg] ^ now) + 'A');\n        (bg += 1) %= N;\n    } puts(\"\");\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<fstream>\n#include<sstream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<map>\n#include<set>\n#include<string>\n#include<cmath>\n#include<cstdio>\n#include<cassert>\nusing namespace std;\n\n#define REP(i,m,n) for(int i=(m); i<(int)(n); i++)\n#define RREP(i,m,n) for(int i=(int)(n-1); i>=m; i--)\n#define rep(i,n) REP(i,0,n)\n#define rrep(i,n) RREP(i,0,n)\n#define all(a) (a).begin(),(a).end()\n#define rall(a) (a).rbegin(),(a).rend()\n#define aut(r,v) __typeof(v) r = (v)\n#define each(it,o) for(aut(it,(o).begin()); it!=(o).end(); ++it)\n#define reach(it,o) for(aut(it,(o).rbegin()); it!=(o).rend(); ++it)\n#define fi first\n#define se second\n#define debug(...) {cerr<<\"[L\"<<__LINE__<<\"] \"; _debug(__VA_ARGS__);}\n\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& o, const pair<T1, T2>& p)\n{return o<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\ntemplate<typename T>string join(const vector<T>&v, string del=\", \")\n{stringstream s;rep(i,v.size())s<<del<<v[i];return s.str().substr(del.size());}\ntemplate<typename T>ostream& operator<<(ostream& o, const vector<T>&v)\n{if(v.size())o<<\"[\"<<join(v)<<\"]\";return o;}\ntemplate<typename T>ostream& operator<<(ostream& o, const vector<vector<T> >&vv)\n{int l=vv.size();if(l){o<<endl;rep(i,l){o<<(i==0?\"[ \":\",\\n  \")<<vv[i]<<(i==l-1?\" ]\":\"\");}}return o;}\ntemplate<typename T>ostream& operator<<(ostream& o, const set<T>& st)\n{vector<T> v(st.begin(),st.end());o<<\"{ \"<<join(v)<<\" }\";return o;}\ntemplate<typename T1, typename T2>ostream& operator<<(ostream& o, const map<T1, T2>& m)\n{each(p,m){o<<(p==m.begin()?\"{ \":\",\\n  \")<<*p<<(p==--m.end()?\" }\":\"\");}return o;}\ninline void _debug(){cerr<<endl;}\ntemplate<class First, class... Rest>\nvoid _debug(const First& first, const Rest&... rest){cerr<<first<<\" \";_debug(rest...);}\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\n\nconst double PI = (1*acos(0.0)); \nconst double INF = 0x3f3f3f3f;\nconst double INFL = 0x3f3f3f3f3f3f3f3fLL;\nconst double EPS = 1e-9;\nconst double mod = 1e9 + 7;\n\ninline void finput(string filename) {\n    freopen(filename.c_str(), \"r\", stdin);\n}\n\nint main(){\n    ios_base::sync_with_stdio(0);\n    // finput(\"./input\");\n    int n,k;\n    string s;\n    cin >> n >> k >> s;\n    vector<int> a(n); \n    rep(i,n) a[i] = s[i] == 'B';\n    if(k > 2*n) k = 2*n + (k&1);\n    int rev = 0;\n    rep(i,k){\n        if(a[0] == rev) a[0] ^= 1;\n        else{ rotate(a.begin(), a.begin()+1, a.end()); rev ^= 1; }\n    }\n    rep(i,n) cout << ((a[i]^rev)?'B':'A');\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n#include <time.h>\n#include <math.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <iomanip>\n#include <fstream>\n\nusing namespace std;\n\nint n,k,p;\n\nbool rev;\n\nstring s;\n\nint main()\n{\n\tcin >> n >> k >> s;\n\tint cnt = 0;\n\tfor (int i = 1;i <= k && p < n;i++)\n\t{\n\t\tcnt++;\n\t\tif (s[p] == 'A' + rev)\n\t\t{\n\t\t\ts[p] = 'B' - rev;\n\t\t\tcontinue;\n\t\t}\n\t\trev ^= 1;\n\t\tp++;\n\t}\n\tif (p == n)\n\t{\n\t\tif (n & 1)\n\t\t{\n\t\t\tk -= cnt;\n\t\t\tcout << char('A' + (k & 1));\n\t\t}\n\t\telse\n\t\t\tcout << 'B';\n\t}\n\tfor (int i = p;i < n;i++)\n\t\tcout << char(((s[i] - 'A') ^ rev) + 'A');\n\tfor (int i = (p == n);i < p;i++)\n\t\tcout << char('A' + ((p - 1 - i) & 1));\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nstring s;\nint N,K;\nbool a[2<<17];\nmain()\n{\n\tcin>>N>>K>>s;\n\tfor(int i=0;i<N;i++)\n\t{\n\t\ta[i]=i+1<N&&s[i]==s[i+1]||i+1==N&&s[i]=='B';\n\t}\n\tint cnt=0,now=0;\n\tbool t=s[0]=='A',f=0;\n\twhile(now<K&&cnt<N)\n\t{\n\t\tif(t)\n\t\t{\n\t\t\tt^=1;\n\t\t\tf=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tt^=f^a[cnt++];\n\t\t\tf=0;\n\t\t}\n\t\tnow++;\n\t}\n\tbool flag=0;\n\tfor(int i=N;--i;)\n\t{\n\t\ts[i]=(s[i]=='A')^(flag^=a[i]^(i+cnt<N&&a[i+cnt]))?'A':'B';\n\t}\n\ts[0]=t^(cnt==N&&N%2==1&&(K-now)%2==0)?'A':'B';\n\tcout<<s<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pii> pip;\ntypedef pair<pll, pll> P;\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS = 1e-9;\nconst bool debug = 0;\n//---------------------------------//\n\nint N, K;\nstring S;\n\nstring rev(string s) {\n\tREP(i, N) s[i] = s[i] == 'A' ? 'B' : 'A';\n\treturn s;\n}\n\nvoid next(string &s) {\n\tif (s[0] == 'A') s[0] = 'B';\n\telse {\n\t\tREP(j, N - 1) {\n\t\t\tif (s[j + 1] == 'A') s[j] = 'B';\n\t\t\telse s[j] = 'A';\n\t\t}\n\t\ts[N - 1] = 'A';\n\t}\n}\n\nvoid solve(string s) {\n\tint t = K;\n\twhile (t--) next(s);\n\tcout << s << endl;\n}\n\nint main() {\n\tcin >> N >> K >> S;\n\t\n\t//solve(S);\n\t\n\tstring ans = \"\", lev = \"\";\n\t\n\tfor (int i = N - 2; i >= 0; i -= 2) {\n\t\tif (S[i] == 'B' && S[i + 1] == 'A') ans += \"AB\";\n\t\telse break;\n\t}\n\tfor (int i = N - 1 - ans.size(); i >= 0; i--) lev += S[i];\n\t\n\tfor (int i = 0; i < N; i += 2) {\n\t\tif (K <= 10 || ans.size() >= N - 3) break;\n\t\t\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i++;\n\t\tif ((S[i] == 'A') ^ (i % 2 == 1)) K--; i--;\n\t\t\n\t\tK -= 2;\n\t\tans += \"AB\";\n\t}\n\t\n\tfor (int i = 0; ans.size() < N; i++) ans += lev[i];\n\treverse(ALL(ans));\n\t\n\tREP(i, 100) if (K > 0) next(ans), K--;\n\tif (K && (N & 1)) S[0] = ( (S[0]=='B')+K ) % 2 == 1 ? 'B' : 'A';\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\t\tif((s[i]=='A')^op){s[i]='B';continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tfp(k,i,i+n-1){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\t\tif((s[i]=='A')^op){s[i]='B';continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\t\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\treverse(s+1,s+1+n);\n\tprint(s+i);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cassert>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tif (n == 1) {\n\t\tif ((k % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\telse { cout << 'B' << endl; }\n\t\treturn 0;\n\t}\n\tdeque<char> deq;\n\trep(i, n) {\n\t\tdeq.push_back(s[i]);\n\t}\n\tint loop = 0; bool trick = false;\n\twhile (loop <= n + 10 && k > 0) {\n\t\tloop++; 'A';\n\t\tchar c = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tdeq.push_front('B'); k--; continue;\n\t\t}\n\t\tif (k == 1) {\n\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t}\n\t\tc = deq.front(); deq.pop_front();\n\t\tif (c == 'A') { k++; }\n\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\tk -= 3;\n\t\tdeq.push_back('B');\n\t\tdeq.push_back('A');\n\t}\n\tif (k <= 0) {\n\t\twhile (!deq.empty()) {\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t}\n\t\tcout << endl;\n\t}\n\telse {\n      assert(false);\n\t\tif (n % 2 == 0) {\n\t\t\trep(i, n) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint x = k % 2;\n\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t\trep(i, n - 1) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\tcout << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define max(a,b) ((a)>(b)?(a):(b))\n#define min(a,b) ((a)<(b)?(a):(b))\n\ntypedef long long LL;\n\nint main(){\n  int n,k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  queue<int> st;\n  for(int i=0;i<n;i++){\n    st.push(s[i]-'A');\n  }\n  int kaisu=1;\n  for(;!st.empty()&&k>0;k--){\n    if((st.front()+kaisu)%2){\n      st.front()=1-st.front();\n    }else{\n      st.pop();\n      kaisu++;\n    }\n  }\n  if(st.empty()){\n    if(n%2){\n      if(k%2){\n        printf(\"BB\");\n      }else{\n        printf(\"AB\");\n      }\n      for(int i=2;i<n-1;i+=2){\n        printf(\"AB\");\n      }\n      printf(\"A\\n\");\n    }else{\n      for(int i=0;i<n;i+=2){\n        printf(\"BA\");\n      }\n    }\n    printf(\"\\n\");\n  }else{\n    int count=0;\n    for(;!st.empty();count++){\n      if((st.front()+kaisu)%2){\n        printf(\"A\");\n      }else{\n        printf(\"B\");\n      }\n      st.pop();\n    }\n    if((n-count)%2){\n      printf(\"A\");\n      count++;\n    }\n    for(;count<n;count+=2){\n      printf(\"BA\");\n    }\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(n < 1e5);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<ll, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif(m.count(h)){\n\t\t\tk %= m[h] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[h] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 2 - 1;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"O2\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC target(\"sse,sse2,tune=native\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nint s[maxn];\nstring get() {\n\tint l = 0, a = 0;\n\t#pragma GCC ivdep\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\ta ^= 1;\n\t\t\ts[l ? l-1 : n-1] = a;\n\t\t}\n\t}\n\tstring res;\n\tfor(int i = 0; i < n; i++) {\n\t\tres += char('A' + (s[l++]^a));\n\t\tif(l == n) l = 0;\n\t}\n\treturn res;\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k;\nk = min(k, 2*n + (k&1));\n\tchar t;\n\tfor(int i = 0; i < n; i++) cin >> t, s[i] = t-'A';\n\t\n\tcout << get();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\nusing namespace std;\n#define MAX 200200\nint n,K,l,r,p;\nchar S[MAX];int a[MAX<<2];\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);scanf(\"%s\",S+1);\n\tl=1,r=n,p=0;\n\tfor(int i=1;i<=n;++i)a[i]=S[i]=='A';\n\tfor(int i=1;i<=n+n;++i)\n\t{\n\t\tif(a[l]^p)a[l]^=1;\n\t\telse ++l,p^=1,a[++r]=p^1;\n\t\tif(i==K)\n\t\t{\n\t\t\tfor(int j=l;j<=r;++j)putchar((a[j]^p^1)+'A');\n\t\t\tputs(\"\");return 0;\n\t\t}\n\t}\n\tif((a[l]^p)&&(K&1))a[l]^=1;\n\tfor(int i=l;i<=r;++i)putchar((a[i]^p^1)+'A');\n\treturn 0;\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\n#ifdef MAX_HOME\nconst int L = 10;\n#else\nconst int L = 5e7 + 10;\n#endif\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    int lst = -1e5;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1) {\n        dif %= 3;\n//        assert(n & 1);\n    } else {\n        dif %= 2;\n//        assert(!(n & 1));\n    }\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define DEB\n#include<bits/stdc++.h>\n#define REP(i,m) for(int i=0;i<(m);++i)\n#define REPN(i,m,in) for(int i=(in);i<(m);++i)\n#define ALL(t) (t).begin(),(t).end()\n#define CLR(a) memset((a),0,sizeof(a))\n#define pb push_back\n#define mp make_pair\n#define fr first\n#define sc second\n\nusing namespace std;\n\n\n#ifdef DEB\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\n#define prl cerr<<\"called:\"<< __LINE__<<endl\n#define dumpR(x) cerr<<\"\\x1b[31m\"<<#x<<\" = \" <<(x)<<\"\\x1b[39m\"<<endl\n#define dumpY(x) cerr<<\"\\x1b[33m\"<<#x<<\" = \" <<(x)<<\"\\x1b[39m\"<<endl\n#define dumpG(x) cerr<<\"\\x1b[32m\"<<#x<<\" = \" <<(x)<<\"\\x1b[39m\"<<endl\ntemplate<class T> void debug(T a,T b){ for(;a!=b;++a) cerr<<*a<<' ';cerr<<endl;}\n#else\n#define dump(x) ;\n#define dumpR(x) ;\n#define dumpY(x) ;\n#define dumpG(x) ;\n#define prl ;\ntemplate<class T> void debug(T a,T b){ ;}\n#endif\n\ntemplate<class T> void chmin(T& a,const T& b) { if(a>b) a=b; }\ntemplate<class T> void chmax(T& a,const T& b) { if(a<b) a=b; }\n\ntypedef long long int lint;\ntypedef pair<int,int> pi;\n\nnamespace std{\n  template<class S,class T>\n  ostream &operator <<(ostream& out,const pair<S,T>& a){\n    out<<'('<<a.fr<<','<<a.sc<<')';\n    return out;\n  }\n}\n\n//const int INF=5e8;\nint n,K;\nchar s[200005];\nint ar[200005];\n\nchar ans[200005];\nint main(){\n  scanf(\"%d%d\",&n,&K);\n  scanf(\"%s\",s);\n  n=strlen(s);\n  REP(i,n) ar[i]=(s[i]-'A');\n\n  int off=0,flip=0;\n  bool ok=false;\n  REP(i,K){\n    if(off>=n){\n      REP(j,n) ans[j]='A'+((n-j-1)&1);\n      if(n&1 && (K-1)&1){\n        ans[0]='B';\n      }\n      ok=true;\n      break;\n    }\n    if((ar[off]^flip)==0){\n      ar[off]^=1;\n    }else{\n      ++off;\n      flip^=1;\n    }\n  }\n  if(!ok){\n    REP(i,off) ans[n-1-i]='A'+(i&1);\n    REP(i,n-off) ans[i]=(ar[off+i]^flip)+'A';\n  }\n\n  printf(\"%s\\n\",ans);\n  return 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long int ll;\ntypedef long double ld;\n#define pb push_back\n#define pii pair < int , int >\n#define F first\n#define S second\n#define endl '\\n'\n#define int long long\n#define sync ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0)\n#pragma GCC optimize(\"Ofast,no-stack-protector,unroll-loops,fast-math\")\n#define kill(x) return cout<<x<<'\\n', 0;\nusing namespace std;\nconst int N=2e5+100;\nchar ans[N];\nint32_t main(){\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    /*\n    if (k>=n){\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        kill(y);\n    }\n    */\n    ll cnt=0;\n    if (s[0]=='A') cnt++;\n    ans[0]='B';\n    for (int i=1;i<n && i+cnt<=k;i++){\n        char c=s[i];\n        if (i%2==0){\n            if (c=='A'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n        else{\n            if (c=='B'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n    }\n    if (n-1+cnt<=k){\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        if (n%2==0){\n            kill(y);\n        }\n        else{\n            y[0]='B';\n            ll z=n-1+cnt;\n            if (k%2==z%2){\n                kill(y);\n            }\n            y[0]='A';\n            kill(y);\n        }\n    }\n    for (int i=1;i<n;i++){\n        ll z=i+k-cnt;\n        if (z>=n){\n            if (i%2==(n-1)%2){\n                ans[i]='A';\n            }\n            else{\n                ans[i]='B';\n            }\n        }\n        else{\n            if (z%2==i%2){\n                ans[i]=s[z];\n            }\n            else{\n                if (s[z]=='A') ans[i]='B';\n                else ans[i]='A';\n            }\n        }\n    }\n    for (int i=0;i<n;i++) cout << ans[i];\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MN = 200010;\n\nint N, K;\nstring S;\nint chk[MN];\n\nvoid print(int pos, int Xor) {\n    for(int i = 0; i < N; i++) {\n        cout << (((S[pos] == 'A') ^ Xor ^ chk[pos])? 'A' : 'B');\n        pos = (pos + 1) % N;\n    }\n    cout << endl;\n}\n\nint main() {\n    std::ios::sync_with_stdio(false);\n\n    cin >> N >> K >> S;\n\n    if(S[0] == 'A') S[0] = 'B', K--;\n\n    int pos = 0;\n    int Xor = 0;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        K--;\n        if(K && (S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1) {\n            chk[ (pos + 1) % N ] = 1;\n            K--;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    if(!K) {\n        print(pos, Xor);\n        return 0;\n    }\n\n    int tot = 0;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        K--;\n        tot++;\n        if(K &&(S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n            K--;\n            tot++;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    K %= tot;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        if((S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n            K--;\n            tot++;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n        K--;\n        tot++;\n    }\n\n    print(pos, Xor);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n#define MAXN 200010\nchar s[MAXN];\nint n,k,l,p,f;\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tp=1;\n\tfor(l=1;l<=n*2+10;l++)\n\t{\n\t\tint t=(s[p]=='A');\n\t\tif(t^f) s[p]=t+'A';\n\t\telse\n\t\t{\n\t\t\tf^=1;\n\t\t\tp++;\n\t\t}\n\t\tif(l==k)\n\t\t{\n\t\t\tif(f)\n\t\t\t{\n\t\t\t\tfor(int i=p;i<=n;i++)\n\t\t\t\t\ts[i]=(s[i]=='A')+'A';\n\t\t\t}\n\t\t\tfor(int i=p;i<=n;i++)\n\t\t\t\tprintf(\"%c\",s[i]);\n\t\t\tfor(int i=1;i<p;i++)\n\t\t\t\tif(f!=(i&1)) printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\treturn 0;\n\t\t}\n\t\tif(p>n) break;\n\t}\n\tif(f==0||(f&&l%2!=k%2)) printf(\"B\");\n\telse printf(\"A\");\n\tfor(int i=2;i<=n;i++)\n\t\tif(f!=(i&1)) printf(\"B\");\n\t\telse printf(\"A\");\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\n\nvoid move(vc &s) {\n\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\ts[0] = (rev ? 'A' : 'B');\n\t\treturn;\n\t}\n\trev = !rev;\n\ts.erase(s.begin());\n\ts.push_back(rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == 2*N) {\n\t\t\t// あとK-2N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - 2*N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (rev) {\n\t\trep(i, N) {\n\t\t\ts[i] = (s[i] == 'A' ? 'B' : 'A');\n\t\t}\n\t}\n\n\tprintf(\"%s\\n\", string(s.begin(), s.end()).c_str());\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint n, k, p, f;\nvoid solve(int k)\n{\n\tp=1, f=0;\n\tfor (int i=1; i<=k; i++)\n\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\telse f^=1, p=p==n?1:p+1;\n}\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=2*n)\n\t{\n\t\tsolve(k);\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\tif (!f) putchar(s[i]);\n\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tsolve(2*n);\n\t\tif (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (s[p]=='A'^(k-2*n)%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint main() {\n    int n, k;\n    std::string s;\n    std::cin >> n >> k >> s;\n    if (n > k) {\n        std::bitset<210000> b;\n        // A -> 0, B -> 1\n        for (auto i = 0; i < s.size(); i++) {\n            b[i] = s[i] == 'B';\n        }\n        for (int i = 0; i < k; i++) {\n            if (b[0]) {\n                b >>= 1;\n                b = ~b;\n                b[n - 1] = false;\n            } else {\n                b[0] = true;\n            }\n        }\n        for (int i = 0; i < n; i++) std::cout << (b[i] ? 'B' : 'A');\n    } else {\n        if (n % 2) {\n            std::cout << ((n - k) % 2 ? 'B' : 'A');\n            for (int i = 1; i < n; i++) std::cout << (i % 2 ? 'B' : 'A');\n        } else {\n            for (int i = 0; i < n; i++) std::cout << (i % 2 ? 'B' : 'A');\n        }\n    }\n    std::cout << std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define FZ(n) memset((n),0,sizeof(n))\n#define FMO(n) memset((n),-1,sizeof(n))\n#define MC(n,m) memcpy((n),(m),sizeof(n))\n#define F first\n#define S second\n#define MP make_pair\n#define PB push_back\n#define ALL(x) begin(x),end(x)\n#define IOS do { ios_base::sync_with_stdio(0);cin.tie(0); } while (0)\n#define SZ(x) ((int)(x).size())\n#ifndef OFFLINE\n    #define ONLINE_JUDGE\n#endif\n#ifdef ONLINE_JUDGE\n#define FILEIO(name) \\\n    do { \\\n        freopen(name\".in\", \"r\", stdin); \\\n        freopen(name\".out\", \"w\", stdout); \\\n    } while (0)\n#else\n    #define FILEIO(name) do { } while(0)\n#endif\n\n#define _TOKEN_CAT2(x, y) x ## y\n#define _TOKEN_CAT(x, y) _TOKEN_CAT2(x, y)\n#define _MACRO_OVERL3(_1, _2, _3, _N, ...) _N\n#define _RANGE1(a) int _TOKEN_CAT(_t, __LINE__)=0; _TOKEN_CAT(_t, __LINE__)<(a); (_TOKEN_CAT(_t, __LINE__))++\n#define _RANGE2(i, a) int (i)=0; (i)<(a); (i)++\n#define _RANGE3(i, a, b) int (i)=(a); (i)!=(b); (i)+=((b)>(a)?1:-1)\n#define loop(...) for (_MACRO_OVERL3(__VA_ARGS__, _RANGE3, _RANGE2, _RANGE1)(__VA_ARGS__))\n\n#ifdef OFFLINE\ntemplate<typename T>\nvoid _dump(const char* s, T&& head) { \n    cerr << s << \" = \" << head << \" <<\" << endl; \n}\n\ntemplate<typename T, typename... Args>\nvoid _dump(const char* s, T&& head, Args&&... tail) {\n    int c = 0;\n    while (*s!=',' || c!=0) {\n        if (*s=='(' || *s=='[' || *s=='{' || *s=='<') c++;\n        if (*s==')' || *s==']' || *s=='}' || *s=='>') c--;\n        cerr << *s++;\n    }\n    cerr << \" = \" << head << \", \";\n    _dump(s+1, tail...);\n}\n\n#define dump(...) do { \\\n    cerr << \"\\033[32m>> \" << __LINE__ << \": \" << __PRETTY_FUNCTION__ << endl; \\\n    cout << \"   \"; \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n    cout << \"\\033[0m\"; \\\n} while (0)\n#else\n#define dump(...) \n#endif\n\n#define au auto\ntemplate<class T>\nusing vec = vector<T>;\n\ntemplate<typename Iter>\nostream& _IterOutput_(ostream &o, Iter b, Iter e, const string ss=\"\", const string se=\"\") {\n    o << ss;\n    for (auto it=b; it!=e; it++) o << (it==b ? \"\" : \", \") << *it;\n    return o << se;\n}\n\ntemplate<typename T1, typename T2>\nostream& operator << (ostream &o, const pair<T1, T2> &pair) {\n    return o << \"(\" << pair.F << \", \" << pair.S << \")\";\n}\n\ntemplate<typename T>\nostream& operator << (ostream &o, const vector<T> &vec) {\n    return _IterOutput_(o, ALL(vec), \"[\", \"]\");\n}\n\ntemplate<typename T>\nostream& operator << (ostream &o, const set<T> &st) {\n    return _IterOutput_(o, ALL(st), \"{\", \"}\");\n}\n\ntemplate<typename T, size_t N>\nostream& operator << (ostream &o, const array<T, N> &arr) {\n    return _IterOutput_(o, ALL(arr), \"|\", \"|\");\n}\n\ntemplate<typename T1, typename T2>\nostream& operator << (ostream &o, const map<T1, T2> &mp) {\n    o << \"{\";\n    for (auto it=mp.begin(); it!=mp.end(); it++) {\n        o << (it==mp.begin()?\"\":\", \") << it->F << \":\" << it->S;\n    }\n    o << \"}\";\n    return o;\n}\n\nvoid lucky_test() {\n    std::random_device rd;\n    std::mt19937 gen_(rd());\n    std::normal_distribution<double> dist_(0.0, 1.0);\n\n    if (dist_(gen_) >= 4.44444444) {\n        cout << \"Not lucky\" << endl;\n        exit(0);\n    }\n}\n\nint N, K;\nstring S;\n\nvoid walk() {\n    int id = 0, pos = 1;\n    int ret = 0;\n    while (true) {\n        if (S[id] == 'A') {\n            pos = -pos;\n        }\n        if (S[id] == 'A') S[id] = 'B';\n        else S[id] = 'A';\n\n        id += pos;\n        if (id == -1 || id == N) break;\n        ret++;\n    }\n}\n\nint32_t main() {\n    IOS;\n    cin >> N >> K >> S;\n\n    if (N == 1) {\n        K = K % 2;\n        if (!K) cout << S[0] << endl;\n        else if (S[0] == 'A') cout << 'B' << endl;\n        else cout << 'A' << endl;\n        return 0;\n    }\n\n    while (S[N-1] == 'B') {\n        walk();\n        K--;\n    }\n\n    if (!K) {\n        cout << S << endl;\n        return 0;\n    }\n\n    deque<int> pos;\n    for (int i=0; i<N-1; i++) {\n        if (S[i] != S[i+1]) pos.PB(i);\n    }\n\n    int shift = 0;\n\n    while (K) {\n        int m = SZ(pos) + shift;\n        if (m&1) {\n            int t = pos.front() - shift;\n            if (!t) pos.pop_front();\n            shift++;\n        } else {\n            int t = pos.front() - shift;\n            if (t == 0) pos.pop_front();\n            else {\n                pos.push_front(shift);\n            }\n        }\n        K--;\n        if (shift >= N) break;\n    }\n\n\n    //cout << shift << endl;\n    //cout << K << endl;\n    //for (auto x: pos) cout << x << ' ';\n    //cout << endl;\n\n    char now = 'A', nx = 'B';\n    if (shift >= N) {\n        if (N%2==0) swap(now, nx);\n        if (K%2 and N%2) {\n            for (int i=0; i<N; i++) {\n                if (!i) cout << nx;\n                else cout << now;\n                swap(now, nx);\n            }\n        } else {\n            for (int i=0; i<N; i++) {\n                cout << now;\n                swap(now, nx);\n            }\n        }\n        return 0;\n    }\n\n    if ((shift + SZ(pos)) % 2) swap(now, nx);\n\n    int ls = 0;\n    for (auto x: pos) {\n        for (int i=ls; i<=x-shift; i++) {\n            cout << now;\n        }\n        ls = x-shift+1;\n        swap(now, nx);\n    }\n\n    for (int i=ls; i<=N-1-shift; i++) {\n        cout << now;\n    }\n    swap(now, nx);\n\n    for (int i=0; i<shift; i++) {\n        cout << now;\n        swap(now, nx);\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>//AGC011D\nnamespace my_std{\n\tusing namespace std;\n\t#define reg register\n\t#define Rint register int\n\t#define FOR(i,a,b) for(register int i=(a),ed_##i=(b);i<=ed_##i;++i)\n\t#define ROF(i,a,b) for(register int i=(a),ed_##i=(b);i>=ed_##i;--i)\n\t#define FORit(templ,arr,i,a,b) for(register templ *i=(arr)+(a),*ed_##i=(arr)+(b)+1;i!=ed_##i;++i)\n\t#define ROFit(templ,arr,i,a,b) for(register templ *i=(arr)+(a),*ed_##i=(arr)+(b)-1;i!=ed_##i;--i)\n\t#define GO(x,p,e,i,v) for(register int i=p[x].head,v;i;i=e[i].link)\n\t#define MEM(x,v) memset(x,v,sizeof(x))\n\t#define fir first\n\t#define sec second\n\t#define pq priority_queue\n\t#define MP make_pair\n\ttypedef long long LL;\n\ttypedef double DB;\n\ttypedef pair<int,int> PII;\n\t#define Templ(T) template<typename T>\n\tinline int read(){\n\t\treg int ans=0,f=1; reg char c=getchar();\n\t\twhile(!isdigit(c)) f^=(c=='-'), c=getchar();\n\t\tfor(;isdigit(c);c=getchar()) ans=(ans<<1)+(ans<<3)+(c^48);\n\t\treturn f?ans:-ans;\n\t}\n\tTempl(_Tp) inline int chkmin(_Tp &x,_Tp y){ return x>y?x=y,1:0; }\n\tTempl(_Tp) inline int chkmax(_Tp &x,_Tp y){ return x<y?x=y,1:0; }\n\t#define using_mod\n\tconst int mod = 998244353;\n\t#ifdef using_mod\n\tinline void inc(int &x, const int &y){ x += y; if(x >= mod) x -= mod; }\n\tinline void dec(int &x, const int &y){ x -= y; if(x < 0) x += mod; }\n\tinline int ksm(int x,LL y){ int res=1; for(;y;y>>=1,x=1ll*x*x%mod) if(y&1) res=1ll*res*x%mod; return res;}\n\t#endif\n\tTempl(_Tp) inline _Tp gcd(_Tp x,_Tp y){ return y?gcd(y,x%y):x; }\n\tinline int VSC_Local(){\n\t\t#ifdef VSC_Compile\n\t\twhile(getchar() != '\\n');\n\t\twhile(getchar() != '\\n');\n\t\t#endif\n\t\treturn 0;\n\t}\n\t#define FILE(s) freopen(s \".in\", \"r\", stdin), freopen(s \".out\", \"w\", stdout)\n\t#define PBTXDY\n}\nusing namespace my_std;\n\nconst int N = 200010;\nint n, m, a[N << 2], tag, fst;\nchar S[N];\n\nint main(){\n    n = read(), m = read();\n\tscanf(\"%s\", S + 1);\n\tFOR(i, 1, n) a[i] = S[i] == 'A';\n\tfst = 1;\n\tfunction<void(void)> update = [&](){\n\t\tif(a[fst] ^ tag){\n\t\t\ta[fst] ^= 1;\n\t\t\treturn;\n\t\t}\n\t\ttag ^= 1;\n\t\ta[fst + n] = tag ^ 1;\n\t\tfst++;\n\t};\n\n\tFOR(i, 1, min(m, n * 3)) update();\n\tif(m > n * 3){\n\t\tif(n & 1){\n\t\t\tRint t = m - n * 3;\n\t\t\tif(t & 1) update();\n\t\t\tFOR(i, fst, fst + n - 1) putchar('B' - (tag ^ a[i]));\n\t\t}\n\t\telse{\n\t\t\tFOR(i, 1, n) putchar('A' + (i & 1));\n\t\t}\n\t}\n\telse{\n\t\tFOR(i, fst, fst + n - 1) putchar('B' - (tag ^ a[i]));\n\t}\n\treturn VSC_Local();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\nusing namespace std;\nconst int N=200010;\nchar s[N];\ninline int gi() {\n    int x=0,o=1;\n    char ch=getchar();\n    while(ch!='-'&&(ch<'0'||ch>'9')) ch=getchar();\n    if(ch=='-') o=-1,ch=getchar();\n    while(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n    return x*o;\n}\nint main() {\n    int n,k,t=0,p=0;\n    cin>>n>>k;\n    scanf(\"%s\",s);\n    for(int i=0;i<n;i++) s[i]-='A';\n    for(int i=1;i<=n+n;i++) {\n\t--k;\n\tif(!(s[p]^t)) s[p]^=1;\n\telse t^=1,p=(p+1)%n;\n\tif(!k) break;\n    }\n    k%=2;\n    if(k&&!(s[p]^t)) s[p]^=1;\n    for(int i=0;i<n;i++) putchar('A'+(s[(p+i)%n]^t));\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 2e5 + 5;\nchar s[N];\nint n, k;\n\nint main() {\n    scanf(\"%d%d\", &n, &k);\n    scanf(\"%s\", s);\n    deque<bool> dque(n);\n    for (int i=0; i<n; ++i) dque[i] = s[i] == 'B';\n    if (k > n) {\n        k = n + ((k&1) != (n&1));\n    }\n    bool flip = false;\n    for (int i=1; i<=k; ++i) {\n        if (dque[0] == flip) {\n            dque[0] = !dque[0];\n        } else {\n            dque.pop_front();\n            dque.push_back(!flip);\n            flip = !flip;\n        }\n/*\n        printf(\"i=%d: \", i);\n        deque<bool> tmp = dque;\n        bool flag = true;\n        for (int i=0; i<n; ++i) {\n            char c = tmp.front() ^ flip ? 'A' : 'B';\n            putchar(c);\n            if (c != s[i]) flag = false;\n            tmp.pop_front();\n        }\n        puts(\"\");\n        if (flag) break;\n*/\n    }\n    for (int i=0; i<n; ++i) {\n        putchar(dque.front() == flip ? 'A' : 'B');\n        dque.pop_front();\n    }\n    puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tif (n == 1) {\n\t\tif ((n % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\telse { cout << 'B' << endl; }\n\t\treturn 0;\n\t}\n\tdeque<char> deq;\n\trep(i, n) {\n\t\tdeq.push_back(s[i]);\n\t}\n\tint loop = 0; bool trick = false;\n\twhile (loop <= n + 10 && k > 0) {\n\t\tloop++; 'A';\n\t\tchar c = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tdeq.push_front('B'); k--; continue;\n\t\t}\n\t\tif (k == 1) {\n\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t}\n\t\tc = deq.front(); deq.pop_front();\n\t\tif (c == 'A') { k++; }\n\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\tk -= 3;\n\t\tdeq.push_back('B');\n\t\tdeq.push_back('A');\n\t}\n\tif (k <= 0) {\n\t\twhile (!deq.empty()) {\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t}\n\t\tcout << endl;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\trep(i, n) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint x = k % 2;\n\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t\trep(i, n - 1) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tint k;\n\t\tscanf(\"%d\", &k);\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0){  //B\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\tfor (int i = 0; i < d.size(); i++){\n\t\t\tint go = ((i % 2) == d[i]);\n\t\t\tans.push_back('A' + go);\n\t\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<queue>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<string>\n#include<set>\n#include<map>\n#include<iostream>\nusing namespace std;\n#define rep(i,n) for(int i = 0;i<((int)(n));i++)\n#define reg(i,a,b) for(int i = ((int)(a));i<=((int)(b));i++)\n#define irep(i,n) for(int i = ((int)(n)-1);i>=0;i--)\n#define ireg(i,a,b) for(int i = ((int)(b)-1);i>=((int)(a));i--)\ntypedef long long int lli;\ntypedef pair<int, int> mp;\n#define fir first\n#define sec second\n#define IINF INT_MAX\n#define LINF LLONG_MAX\n#define eprintf(...) fprintf(stderr,__VA_ARGS__)\n#define pque(type) priority_queue<type,vector<type>,greater<type> >\n#define memst(a,b) memset(a,b,sizeof(a))\n \nint main(void){\n\tint n, k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tint j = 0; bool r = false;\t\n\tint l = 0;\n\t\n\twhile(j!=n){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t\tl++;\n\t\tif(l==k){\n\t\t\ts = s.substr(j, n);\n\t\t\tif(r){\n\t\t\t\trep(i, n){\n\t\t\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << s << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\trep(i, (k-l)%2){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t}\n\t\n\ts = s.substr(j, n);\n\tif(r){\n\t\trep(i, n){\n\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t}\n\t}\n\t\n\tcout << s << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// g++ -std=c++11 a.cpp\n#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<unordered_map>\n#include<utility>\n#include<cmath>\n#include<random>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#include<typeinfo>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define FOR(i,a) for(auto i:a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n#define show1d(v) rep(_,v.size())cout<<\" \"<<v[_];cout<<endl;\n#define show2d(v) rep(_,v.size()){rep(__,v[_].size())cout<<\" \"<<v[_][__];cout<<endl;}cout<<endl;\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\n//#define int ll\ntypedef ll Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n// #define mt make_tuple\n// typedef tuple<int,int,int> tp;\n// typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\n//template<class C>constexpr int size(const C &c){return (int)c.size();}\n//template<class T,size_t N> constexpr int size(const T (&xs)[N])noexcept{return (int)N;}\nconst double PI=acos(-1);\nconst double EPS=1e-9;\nDef inf = sizeof(Def) == sizeof(long long) ? 1e18+10 : 1e9+10;\n// int dx[]={0,1,0,-1,1,1,-1,-1};\n// int dy[]={1,0,-1,0,1,-1,1,-1};//RDLU\nint dx[]={-1,-1,0,0,1,1};\nint dy[]={-1,0,-1,1,0,1};//RDLU\nvoid solve(string s,int n,int m){\n\tint t=0;\n\twhile(m&&t<s.size()){\n\t\tif('A'+t%2==s[t]){\n\t\t\tm--;\n\t\t\tif(s[t]=='A')s[t]++;\n\t\t\telse s[t]--;\n\t\t\tif(!m)break;\n\t\t}\n\t\tt++;m--;\n\t}\n\tstring out=s.substr(t);\n\tif(t%2)rep(i,out.size())if(out[i]=='A')out[i]++;\n\telse out[i]--;\n\twhile(out.size()!=n)out+=(char)('A'+(n+1-out.size())%2);\n\tif(t==n&&m%2)out[0]='B';\n\tcout<<out<<endl;\n}\nint main(){\n\tint n,m;\n\tcin>>n>>m;\n\tstring s;\n\tcin>>s;\n\tsolve(s,n,m);\n}\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define X first\n#define Y second\n#define mp make_pair\nusing namespace std;\ntypedef pair<int,int> PII;\ntypedef long long ll;\nconst int N = 200010;\nbitset<N> s,tmp;\nchar S[N];\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",S);\n\n\tfor(int i=0;i<n;i++){\n\t\tif(S[i]=='A') s.set(i);\n\t}\n\tint i,j,t;\n\tfor(i = 0,j = 0,t = 0;i<k && j<n;i++){\n\t\t\tif((j&1) && t==0) s.flip(j),t^=1;\n\t\t\tif(s[j]==0){\n\t\t\t\tj++;\n\t\t\t\tt=0;\n\t\t\t} else{\n\t\t\t\ts.flip(j);\n\t\t\t}\n\t\t\n\t}\n\t//cout<<s<<endl;\n\ttmp = s;\n\ts.reset();\n\tif(j<n) s[0]=tmp[j]; else {\n\t\tif((n&1) && ((k-i)%2)==0) s.set(0);\n\t}\n\tfor(int i=j+1;i<n;i++){\n\t\tif((j&1)^(tmp[i]==1)) s.set(i-j);\n\t}\n\t//cout<<s<<endl;\n\tfor(int i=max(n,j+1);i<j+n;i++){\n\t\tif((n-i+j+1)&1) s.set(i-j);\n\t}\n\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<ctime>\n#include<map>\n#include<bitset>\n#include<set>\n#define LL long long\n#define mp(x,y) make_pair(x,y)\n#define pll pair<long long,long long>\n#define pii pair<int,int>\nusing namespace std;\ninline int read()\n{\n\tint f=1,x=0;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nint stack[20];\ntemplate<typename T>inline void write(T x)\n{\n\tif(x<0){putchar('-');x=-x;}\n    if(!x){putchar('0');return;}\n    int top=0;\n    while(x)stack[++top]=x%10,x/=10;\n    while(top)putchar(stack[top--]+'0');\n}\ntemplate<typename T>inline void pr1(T x){write(x);putchar(' ');}\ntemplate<typename T>inline void pr2(T x){write(x);putchar('\\n');}\nconst int MAXN=400005;\nchar ch[MAXN];int n,K,cnt,len;\nchar fac(char a,int p){return ((a-'A')^p)+'A';}\ndeque<char> ans; \nint main()\n{\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tn=read();K=read();\n\tscanf(\"%s\",ch+1);len=n;int o=0;\n\tif(K>n*2+1)K=(K&1)?(n*2+1):(n*2+2);\n\tint r=n,l=1;\n\tfor(int i=1;i<=K;i++)\n\t{\n\t\tif(fac(ch[l],o)=='A')ch[l]=fac('B',o);\n\t\telse ++l,o^=1,ch[++r]=fac('A',o);\n\t}\n\tfor(;;++l)\n\t{\n\t\tputchar(fac(ch[l],o));\n\t\tif(l==r)break;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "# include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int maxn = 200010;\n\nchar s[maxn * 4];\n\nint main() {\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s);\n\tint l = 0;\n\tbool rev = false;\n\tfor(int i = 0; i < min(k, 2*n); ++i) {\n\t\tif(!rev) {\n\t\t\tif(s[l]=='A') s[l]='B';\n\t\t\telse s[l+n] = 'B', ++l, rev = true;\n\t\t} else {\n\t\t\tif(s[l]=='B') s[l]='A';\n\t\t\telse s[l+n] = 'A', ++l, rev = false;\n\t\t}\n\t}\n\tif(rev) for(char*p=s+l;*p;++p)*p^='A'^'B';\n\tif(n % 2 == 1 && k % 2 == 1) s[l] ^= 'A'^'B';\n\tputs(s+l);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N,K;\nchar S[200020] = {0};\nbool ans[400010] = {0};\nint fi,se;\nbool F = false;\n\nint main()\n{\n    scanf(\"%d%d\",&N,&K);\n    scanf(\"%s\",S);\n\n    if(K > 2 * N)\n    {\n        if(N % 2)\n        {\n            if(K % 2)printf(\"A\");\n            else printf(\"B\");\n        }\n        for(int i = 0; i < N / 2; i++)printf(\"BA\");printf(\"\\n\");\n    }\n\n    else\n    {\n        fi = 0,se = N - 1;\n\n        for(int i = 0; i < N; i++)if(S[i] == 'B')ans[i] = true;\n\n        for(int i = 0; i < K; i++)\n        {\n            if(ans[fi] ^ F)\n            {\n                fi++;se++;\n                F ^=1;\n                ans[se] = F;\n            }\n            else ans[fi] ^= 1;\n        }\n\n        for(int i = fi; i <= se; i++)\n        {\n            if(F ^ ans[i])printf(\"B\");\n            else printf(\"A\");\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <algorithm>\nusing namespace std;\nusing Data = deque<pair<char,int> >;\n\nchar conv(char c, int change) {\n    if (change & 1) return (c == 'A' ? 'B' : 'A');\n    else return c;\n}\n    \nstring recon(const Data &v, int change) {\n    string res = \"\";\n    for (auto p : v) for (int i = 0; i < p.second; ++i) res += conv(p.first, change);\n    return res;\n}\n\nint main() {\n    int N, K; string S;\n    cin >> N >> K >> S;\n    Data v;\n    for (int i = 0; i < S.size();) {\n        int j = i+1;\n        while (j < S.size() && S[j] == S[i]) ++j;\n        v.push_back({S[i], j-i});\n        i = j;\n    }\n    int LIMIT = (int)S.size() * 10;\n    if ((K - LIMIT) & 1) ++LIMIT;\n    if (K > LIMIT) K = LIMIT;\n    int change = 0;\n    for (int i = 0; i < K; ++i) {\n        char c = conv(v[0].first, change);\n        if (c == 'A') {\n            auto p = v[0];\n            v.pop_front();\n            if (p.second > 1) v.push_front({conv('A', change), p.second - 1});\n            v.push_front({conv('B', change), 1});\n        }\n        else {\n            ++change;\n            v[0].second--;\n            if (v[0].second == 0) v.pop_front();\n            v.push_back({conv('A', change), 1});\n        }\n    }\n    cout << recon(v, change) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\nvc s;\nint l, r;\n\nvoid move(vc &s) {\n\tif (s[l] == (rev ? 'B' : 'A')) {\n\t\ts[l] = (rev ? 'A' : 'B');\n\t\treturn;\n\t}\n\tl++;\n\tr++;\n\trev = !rev;\n\ts[r] = (rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\ts = vc(3*N+100);\n\tl = 0;\n\tr = N - 1;\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == 2*N) {\n\t\t\t// あとK-2N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - 2*N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (rev) {\n\t\trepl(i, l, r + 1) {\n\t\t\tprintf(\"%c\", s[i] == 'A' ? 'B' : 'A');\n\t\t}\n\t}\n\telse {\n\t\trepl(i, l, r + 1) {\n\t\t\tprintf(\"%c\", s[i]);\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\nЗАПУСКАЕМ \n░ГУСЯ░▄▀▀▀▄░РАБОТЯГУ░░\n▄███▀░◐░░░▌░░░░░░░\n░░░░▌░░░░░▐░░░░░░░\n░░░░▐░░░░░▐░░░░░░░\n░░░░▌░░░░░▐▄▄░░░░░\n░░░░▌░░░░▄▀▒▒▀▀▀▀▄\n░░░▐░░░░▐▒▒▒▒▒▒▒▒▀▀▄\n░░░▐░░░░▐▄▒▒▒▒▒▒▒▒▒▒▀▄\n░░░░▀▄░░░░▀▄▒▒▒▒▒▒▒▒▒▒▀▄\n░░░░░░▀▄▄▄▄▄█▄▄▄▄▄▄▄▄▄▄▄▀▄\n░░░░░░░░░░░▌▌░▌▌░░░░░\n░░░░░░░░░░░▌▌░▌▌░░░░░\n░░░░░░░░░▄▄▌▌▄▌▌░░░░░ \n */\n#pragma GCC target(\"sse4,tune=native\")\n#pragma GCC optimize(\"O3\",\"unroll-loops\")\n#include <iostream>\n#include <complex>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <cstdio>\n#include <numeric>\n#include <cstring>\n#include <ctime>\n#include <cstdlib>\n#include <set>\n#include <map>\n#include <unordered_map>\n#include <unordered_set>\n#include <list>\n#include <cmath>\n#include <bitset>\n#include <cassert>\n#include <queue>\n#include <stack>\n#include <deque>\n    \n     \nusing namespace std;\ntemplate<typename T1, typename T2>inline void chkmin(T1 &x, T2 y) { if (x > y) x = y; }\ntemplate<typename T1, typename T2>inline void chkmax(T1 &x, T2 y) { if (x < y) x = y; } \ntemplate<typename T, typename U> inline ostream &operator<< (ostream &_out, const pair<T, U> &_p) { _out << _p.first << ' ' << _p.second; return _out; }\ntemplate<typename T, typename U> inline istream &operator>> (istream &_in, pair<T, U> &_p) { _in >> _p.first >> _p.second; return _in; }\ntemplate<typename T> inline ostream &operator<< (ostream &_out, const vector<T> &_v) { if (_v.empty()) { return _out; } _out << _v.front(); for (auto _it = ++_v.begin(); _it != _v.end(); ++_it) { _out << ' ' << *_it; } return _out; }\ntemplate<typename T> inline istream &operator>> (istream &_in, vector<T> &_v) { for (auto &_i : _v) { _in >> _i; } return _in; }\ntemplate<typename T> inline ostream &operator<< (ostream &_out, const set<T> &_s) { if (_s.empty()) { return _out; } _out << *_s.begin(); for (auto _it = ++_s.begin(); _it != _s.end(); ++_it) { _out << ' ' << *_it; } return _out; }\ntemplate<typename T> inline ostream &operator<< (ostream &_out, const multiset<T> &_s) { if (_s.empty()) { return _out; } _out << *_s.begin(); for (auto _it = ++_s.begin(); _it != _s.end(); ++_it) { _out << ' ' << *_it; } return _out; }\ntemplate<typename T> inline ostream &operator<< (ostream &_out, const unordered_set<T> &_s) { if (_s.empty()) { return _out; } _out << *_s.begin(); for (auto _it = ++_s.begin(); _it != _s.end(); ++_it) { _out << ' ' << *_it; } return _out; }\ntemplate<typename T> inline ostream &operator<< (ostream &_out, const unordered_multiset<T> &_s) { if (_s.empty()) { return _out; } _out << *_s.begin(); for (auto _it = ++_s.begin(); _it != _s.end(); ++_it) { _out << ' ' << *_it; } return _out; }\ntemplate<typename T, typename U> inline ostream &operator<< (ostream &_out, const map<T, U> &_m) { if (_m.empty()) { return _out; } _out << '(' << _m.begin()->first << \": \" << _m.begin()->second << ')'; for (auto _it = ++_m.begin(); _it != _m.end(); ++_it) { _out << \", (\" << _it->first << \": \" << _it->second << ')'; } return _out; }\ntemplate<typename T, typename U> inline ostream &operator<< (ostream &_out, const unordered_map<T, U> &_m) { if (_m.empty()) { return _out; } _out << '(' << _m.begin()->first << \": \" << _m.begin()->second << ')'; for (auto _it = ++_m.begin(); _it != _m.end(); ++_it) { _out << \", (\" << _it->first << \": \" << _it->second << ')'; } return _out; }\n#define sz(c) (int)(c).size()\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define left left228\n#define right right228\n#define next next228\n#define rank rank228\n#define prev prev228\n#define y1 y1228                                                         \n#define read(FILENAME) freopen((FILENAME + \".in\").c_str(), \"r\", stdin)\n#define write(FILENAME) freopen((FILENAME + \".out\").c_str(), \"w\", stdout)\n#define files(FILENAME) read(FILENAME), write(FILENAME)\n#define pb push_back\nconst string FILENAME = \"input\";\n\n//16:10\n//18:10\nint n, k;\nstring s;\n\n\nint main() {\n\tios_base::sync_with_stdio(false);\n\tcin.tie(0);\n\tcout.tie(0);\n\t//read(FILENAME);\n\tcin >> n >> k;\n\tcin >> s;\n\tchar cur = 'B';\n\tint l = 0;\n\tint uk = 0;\n\twhile (l < n) {\t\n\t\tif (s[l] != cur) {\n\t\t\ts[l] = (s[l] == 'A' ? 'B': 'A');\n\t\t} else {\n\t\t\tl++;\n\t\t\tcur = (cur == 'A' ? 'B': 'A');\n\t\t}\n\t\tuk++;\n\t\tif (uk == k) {\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t \t\tchar c = s[(l + i) % n];\n\t\t \t\tif (c != cur) {\n\t\t \t\t\tcout << 'A';\n\t\t \t\t} else {\n\t\t \t\t\tcout << 'B';\n\t\t \t\t}\n\t\t \t}\n\t\t \tcout << '\\n';\n\t\t\texit(0);\n\t\t}\n \t}\n \tl = 0;\n \tif (n % 2 == 1 && (k - uk) % 2 == 1) {\n \t\ts[l] = (s[l] == 'A' ? 'B': 'A');\n \t}\n \tfor (int i = 0; i < n; i++) {\n \t\tchar c = s[(l + i) % n];\n \t\tif (c != cur) {\n \t\t\tcout << 'A';\n \t\t} else {\n \t\t\tcout << 'B';\n \t\t}\n \t}\n \tcout << '\\n';\n\treturn 0;\t\t\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iterator>\n#include <cstdio>\n#include <map>\n#include <vector>\n#include <utility>\n#include <array>\n#include <functional>\n\ntemplate<typename T>\nstruct Mapper\n{\n    int operator[](const T& v) { int& ret = table[v]; if(!ret) rtable[ret = table.size()] = v; return ret - 1; }\n    template<typename... Args> int operator()(Args... args) { return (*this)[T(args...)]; }\n    T rev(int idx){return rtable[idx + 1];}\n    std::map<T, int> table;\n    std::map<int, T> rtable;\n};\n\ntemplate<typename T, int S>\nstruct ReferenceArray\n{\n    struct It {typename std::array<T*, S>::iterator it; T& operator*(){return **it;} void operator++(){it++;} bool operator!=(const It& other){return it != other.it;} };\n    int size()const{return _ptr.size();}\n    It begin()const{return {_ptr.begin()};}\n    It end()const{return {_ptr.end()};}\n    T& operator[](int idx)const{return *_ptr[idx];}\n    mutable std::array<T*, S> _ptr;\n};\ntemplate<typename T, typename... Args> \nReferenceArray<T, sizeof...(Args) + 1> MAKEV(T& arg1, Args&... args) {return {&arg1, &args...};}\n\nstruct Range\n{   \n    struct It {   int num, step; int operator*(){return num;} void operator++(){num += step;} bool operator!=(const It& other){return num != other.num;} };\n    Range(int ee):b(0),e(ee){}\n    Range(int bb, int ee):b(bb), e(ee){}\n    It begin(){return {b, (b < e? 1: -1)};}\n    It end(){return {e, 0};}\n    int b, e;\n};\n\ntemplate<typename T> inline T& UMAX(T& x, T y){if(x < y)x = y; return x;}\ntemplate<typename T> inline T& UMIN(T& x, T y){if(y < x)x = y; return x;}\ntemplate<typename T, typename... Args> struct ArithmiticPromotion { typedef decltype(T() + typename ArithmiticPromotion<Args...>::type()) type; };\ntemplate<typename T, typename U> struct ArithmiticPromotion<T, U> { typedef decltype(T() + U()) type; };\ntemplate<typename T> struct ArithmiticPromotion<T, T> { typedef T type; };\ntemplate<typename T> struct ArithmiticPromotion<T> { typedef T type; };\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MAX(T a, U b) { return a < b? b: a; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MAX(T a, Args... args) { return MAX(a, MAX(args...)); }\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MIN(T a, U b) { return a < b? a: b; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MIN(T a, Args... args) { return MIN(a, MIN(args...)); }\n\n\n\ntemplate<typename T> struct ScanfSpecifier{};\n#define DEF(T,V) template<> struct ScanfSpecifier<T>{static constexpr const char* value = V;};\nDEF(char*,\"%s\")DEF(int,\"%d\")DEF(double,\"%lf\")DEF(float,\"%f\")DEF(char,\"%c\")DEF(const char*,\"%s\")DEF(unsigned long,\"%lu\")DEF(unsigned int, \"%u\")\n#ifdef _MSC_VER\nDEF(long long int,\"%I64d\")\n#else\nDEF(long long int,\"%lld\")\n#endif\n#undef DEF\ntemplate<typename T> int RD(T& arg){return std::scanf(ScanfSpecifier<T>::value, &arg);}\ntemplate<int S> int RD(char (&arg)[S]){return std::scanf(\"%s\", arg);}\nint RD(char* arg){return std::scanf(\"%s\", arg);}\ntemplate<> int RD<char>(char& arg){return std::scanf(\" %c\", &arg);}\ntemplate<typename T, typename... Args> int RD(T& arg1, Args&... args) {return RD(arg1) + RD(args...);}\ntemplate<typename T> T RD(){T ret; RD(ret); return ret;}\ntemplate<typename It> void RDV(It begin, It end) { while(begin != end) RD(*begin++); }\ntemplate<typename C> void RDV(C& c) {RDV(std::begin(c), std::end(c));}\ntemplate<typename T> void WT(T arg) {std::printf(ScanfSpecifier<T>::value, arg); }\ntemplate<typename T, typename U> void WT(std::pair<T, U> arg) {std::printf(\"(\"); WT(arg.first); std::printf(\", \"); WT(arg.second); std::printf(\")\");}\ntemplate<typename... Args> void WT(Args... args) { int alc = 0; int dummy[] = {((alc++? std::printf(\" \"): 0), WT(args), 0)...}; }\n\ntemplate<typename... Args> void WTL(Args... args) { WT(args...); std::printf(\"\\n\"); }\ntemplate<typename It> void WTV(It begin, It end) { int alc = 0; while(begin != end) (alc++? std::printf(\" \"): 0), WT(*begin++); }\ntemplate<typename C> void WTV(const C& c) {WTV(std::begin(c), std::end(c));}\ntemplate<typename It> void WTVL(It begin, It end) { WTV(begin, end); std::printf(\"\\n\"); }\ntemplate<typename C> void WTVL(const C& c) {WTVL(std::begin(c), std::end(c));}\n\n\n\n\n\n//alias\n//RD[L],RDV[L],WT[L],WTV[L] for i/o\nusing RG = Range;\n//template\n#include <vector>\n#include <string>\n#include <cstring>\n#include <set>\n#include <map>\n#include <cstdlib>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\nchar S[200009];\nchar ans[200009];\nint N, K;\n\n\n\nint main()\n{\n    RD(N, K, S);\n    for(int i: RG(N))\n        S[i] -= 'A';\n    S[N] = 1;\n\n    int start = 0;\n    for(int i: RG(N))\n        if(S[N - 1 - i] != i % 2)\n        {\n            start = i;\n            break;\n        }\n\n    int L = N - 1 - start + 1;\n\n    int pos = 0;\n    int head = S[0];\n    int total = 0;\n    for(int i = 0; pos < L && i < K; i++, total++)\n    {\n        if(head == 0)\n            head ^= 1;\n        else \n        {\n            if((S[1 + pos] ^ ((pos & 1))) == head)\n                head ^= 1;\n            pos++;\n        }    \n    }\n\n\n    for(int i = 1; i < L; i++)\n    {\n        int len = L - i;\n        int to = i + min(pos, len);\n        ans[i] = 'A' + (S[to] ^ ((to - i) & 1));\n    }\n    \n    ans[0] = 'A' + (head ^ ((K - total) & 1));\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    WTL(ans);\n\n\n\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nconst int N=6e5+5;\n\nint n,m=1,k,p,o[N]; char s[N];\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1); int i;\n\tfor (i=1; i<=n; i++) o[i]=s[i]=='A';\n\t\n\tfor (i=1; i<=k&&i<=n+n; i++)\n\t\tif (o[m]^p) o[m]^=1;\n\t\telse p^=1,o[++m+n-1]=p^1;\n\tif (k<=n+n){for (i=m; i<=n+m-1; i++) putchar((o[i]^p)?'A':'B');}\n\telse\n\t{\n\t\tif ((n&1)&&(k-n-n&1)) putchar((o[m]^p^1)?'A':'B');\n\t\telse putchar((o[m]^p)?'A':'B');\n\t\tfor (i=m+1; i<=n+m-1; i++) putchar((o[i]^p)?'A':'B');\n\t} \n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int maxn = 200010;\n\nchar s[maxn * 4];\n\nint main() {\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s);\n\tint l = 0;\n\tbool rev = false;\n\tfor(int i = 0; i < min(k, 2*n); ++i) {\n\t\tif(!rev) {\n\t\t\tif(s[l]=='A') s[l]='B';\n\t\t\telse s[n+l++]='B', rev=true;\n\t\t} else {\n\t\t\tif(s[l]=='B') s[l]='A';\n\t\t\telse s[n+l++]='A', rev=false;\n\t\t}\n\t}\n\tif(rev) for(char*p=s+l;*p;++p)*p^='A'^'B';\n\tif(k > n * 2 && n % 2 == 1 && k % 2 == 1) s[l] ^= 'A'^'B';\n\tputs(s+l);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <ctime>\n#include<complex>\nusing namespace std;\n\n#define FOR(i,a,b) for (int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for (int i = (b)-1; i >= (a); i--)\n#define ITER(it,a) for (__typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a,value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(), a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL)INF;\n\nconst int MAX = 2 * 100000 + 47;\nconst int MOD = 1000 * 1000 * 1000 + 7;\n\nint A[MAX];\nvoid sim(string& s)\n{\n\tint p = 0;\n\tint d = 1;\n\twhile (1)\n\t{\n\t\tif (p == -1 || p == SZ(s)) break;\n\t\tif (s[p] == 'A')\n\t\t{\n\t\t\ts[p] = 'B';\n\t\t\td *= -1;\n\t\t\tp += d;\n\t\t\tcontinue;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[p] = 'A';\n\t\t\tp += d;\n\t\t}\n\t}\n}\n\nvoid sim(string& s, int k)\n{\n\tFOR(i, 0, k)\n\t{\n\t\tsim(s);\n\t}\n}\n\nvoid calc(string& s, int k)\n{\n\tint rev = 0;\n\tint p = 0;\n\tint n = SZ(s);\n\tif (n == 1)\n\t{\n\t\ts[0] = ((s[0] - 'A') ^ (k & 1)) + 'A';\n\t\treturn;\n\t}\n\n\tFOR(i, 0, n) A[i] = s[i] == 'B';\n\n\tFOR(i, 0, min(k, 4 * n))\n\t{\n\t\tif (A[p] ^ rev == 0)\n\t\t{\n\t\t\tA[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\trev ^= 1;\n\t\tA[p] = rev;\n\t\tp++;\n\t\tif (p == n) p = 0;\n\t}\n\n\tFOR(k, 0, n)\n\t{\n\t\tint i = p + k;\n\t\tif (i >= n) i -= n;\n\n\t\ts[k] = (A[i] ^ rev) + 'A';\n\t}\n}\n\nstring s;\nint k, n;\nvoid gen()\n{\n\tn = rand() % 10 + 1;\n\ts.clear();\n\tFOR(i, 0, n)\n\t{\n\t\ts.push_back(rand() % 2 + 'A');\n\t}\n\n\tk = rand() % 10 + 1;\n}\n\n//#define TEST\n\nint main()\n{\n\t//freopen(\"in.txt\", \"r\", stdin);\n\t//freopen(\"out.txt\", \"w\", stdout);\n\tios::sync_with_stdio(false); cin.tie(0);\n\n#ifdef TEST\n\twhile (1)\n\t{\n\t\tgen();\n\t\tcout << s << \" \" << k << endl;\n\t\tstring s1 = s;\n\t\tcalc(s, k);\n\t\tsim(s1, k);\n\t\tif (s1 != s)\n\t\t{\n\t\t\tcout << \"fail\" << endl;\n\t\t\tcout << s << endl;\n\t\t\tcout << s1 << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n#else\n\tcin >> n >> k >> s;\n\tcalc(s, k);\n\tcout << s << endl;\n#endif\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,l,r) for(int i = (int) (l);i < (int) (r);i++)\n#define ALL(x) x.begin(),x.end()\ntemplate<typename T> bool chmax(T& a,const T& b){ return a < b ? (a = b,true) : false; }\ntemplate<typename T> bool chmin(T& a,const T& b){ return b < a ? (a = b,true) : false; }\ntypedef long long ll;\n\nint N,K;\nstring S;\n\nint main()\n{\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K;\n\tcin >> S;\n\n\tset<string> st;\n\tbool flag = true;\n\tint cnt = 0;\n\twhile(cnt < K){\n\t\tint curr = 0,d = 1;\n\t\twhile(curr >= 0 && curr < N){\n\t\t\tif(S [curr] == 'A'){\n\t\t\t\tS [curr] = 'B';\n\t\t\t\td *= -1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tS [curr] = 'A';\n\t\t\t}\n\t\t\tcurr += d;\n\t\t}\n\t\tif(st.count(S)){\n\t\t\tflag = false;\n\t\t\tbreak;\n\t\t}\n\t\tst.insert(S);\n\t\tcnt++;\n\t}\n\n\tif(flag){\n\t\tcout << S << endl;\n\t\treturn 0;\n\t}\n\n\tif(N % 2 && (K - cnt) % 2){\n\t\tif(S.front() == 'A'){\n\t\t\tS.front() = 'B';\n\t\t}\n\t\telse{\n\t\t\tS.front() = 'A';\n\t\t}\n\t\tcout << S << endl;\n\t}\n\telse{\n\t\tcout << S << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nchar s[401000];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tbool ok = 1;\n\tfor(int i = 1; i <= n; i++)\n\t\tif(s[i] == 'A') {ok = 0; break;} \n\tif(ok)\n\t{\n\t\tk--;\n\t\tfor(int i = 1; i <= n; i++)\n\t\t\ts[i] = 'A';\n\t}\n\tint h = 1, t = 0;\n\tif(n == 1) t = k & 1;\n\telse\n\t\twhile(k--)\n\t\t{\n\t\t\tif(h > n) break;\n\t\t\tif(t) s[h] = s[h] == 'A' ? 'B' : 'A';\n\t\t\tif(s[h] == 'B')\n\t\t\t{\n\t\t\t\tt ^= 1;\n\t\t\t\tif(t == 1) s[n + h] = 'B';\n\t\t\t\telse s[n + h] = 'A';\n\t\t\t\th++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(t == 1) s[h] = 'A';\n\t\t\t\telse s[h] = 'B';\n\t\t\t}\n\t\t}\n\tif(t)\n\t{\n\t\tfor(int i = h; i < h + n; i++)\n\t\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t}\n\tprintf(\"%s\\n\", s + h);\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LL long long\n#define FOE(i, s, t) for (int i = s; i <= t; i++)\n\nint n, k;\n\n#define K 6000001\n\nchar s[K];\n\nchar f(int a, char b){\n        if (a){\n                if (b == 'A') return 'B';\n                return 'A';\n        }\n        return b;\n}\n\nint main(){\n        scanf(\"%d%d\", &n, &k);\n        scanf(\"%s\", s);\n\n        int ptr = 0, tog = 0;\n        int las = n;\n\n        FOE(i, 1, min(k, 5000000)){\n                int tru = (s[ptr] == 'A'? 0: 1);\n                if (tog) tru ^= 1;\n\n                if (tru == 0){\n                        s[ptr] = (s[ptr] == 'A'? 'B': 'A');\n                } else {\n                        s[las] = (tog? 'A': 'B');\n                        las++;\n                        ptr++;\n                        tog ^= 1;\n                }\n        }\n\n        int left = max(0, k - 5000000);\n\n        /*FOE(i, 1, k){int cur = 0, dir = 1;\n        while (cur >= 0 && cur < n){\n                if (s[cur] == 'A') dir *= -1, s[cur] = 'B';\n                else s[cur] = 'A';\n                cur = cur + dir;\n        }}\n*/\n\n        FOE(i, 1, n) printf(\"%c\", f(tog, s[ptr + i - 1]));\n        puts(\"\");\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    // chrono::steady_clock clk;\n    // auto start = clk.now();\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<int> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, fflip = false;;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            // ss[idx] = !ss[idx];\n            ss[idx] ^= 1;\n        }else{\n            // flip = !flip;\n            flip ^= 1;\n            idx++;\n            if(idx == n){ idx = 0; }\n        }\n        // if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n        //     if(n % 2 && (k - i - 1) % 2){\n        //         fflip = true;\n        //     }\n        //     break;\n        // }\n    }\n    cout << (fflip ^ flip ^ ss[idx] ? 'A' : 'B');\n    for(int i=1;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nmap<string, int> looping;\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0 && erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\tooh:;\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\tstring hoge;\n\t\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\t\tif (reversed == true) {\n\t\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\t\ts[i] = 'B';\n\t\t\t\t\t}\n\t\t\t\t\telse s[i] = 'A';\n\t\t\t\t}\n\t\t\t\thoge.push_back(s[i]);\n\t\t\t}\n\t\t\tint ptr = 0;\n\t\t\twhile (k != 0) {\n\t\t\t\tif (looping[hoge.substr(ptr)] != 0) {\n\t\t\t\t\tk %= looping[hoge.substr(ptr)] - k;\n\t\t\t\t}\n\t\t\t\tif (k % 2 == 0) break;\n\t\t\t\tlooping[hoge.substr(ptr)] = k;\n\t\t\t\tif (hoge[ptr] == 'A') {\n\t\t\t\t\thoge[ptr] = 'B';\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thoge.push_back('A');\n\t\t\t\t\tfor (int i = 0;i < hoge.length();++i) {\n\t\t\t\t\t\tif (hoge[i] == 'A') hoge[i] = 'B';\n\t\t\t\t\t\telse hoge[i] = 'A';\n\t\t\t\t\t}\n\t\t\t\t\tk--;\n\t\t\t\t\tptr++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << hoge.substr(ptr) << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#define MAXN 200010\nint n, k, p, a[MAXN];\nchar buf[MAXN], ans[2][MAXN];\nstd::deque<int> Q;\nint main() {\n\tscanf(\"%d%d%s\", &n, &k, buf + 1);\n\tfor (int i = 1; i <= n; i++) Q.push_back(buf[i] == 'B');\n\tfor (int i = 1; i <= 2 * n + 2; i++) {\n\t\tif (Q.front() ^ p) {\n\t\t\tQ.pop_front();\n\t\t\tp ^= 1;\n\t\t\tQ.push_back(p);\n\t\t} else {\n\t\t\tQ.pop_front();\n\t\t\tQ.push_front(p ^ 1);\n\t\t}\n\t\tif (i == k) {\n\t\t\tfor (int j = 1; j <= n; j++) printf(\"%c\", (Q[j - 1] ^ p) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t\tif (i > 2 * n) {\n\t\t\tfor (int j = 1; j <= n; j++) ans[i - 2 * n - 1][j] = (Q[j - 1] ^ p) + 'A';\n\t\t}\n\t}\n\tputs(ans[~k & 1] + 1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(2*n,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n        }\n        else{\n            k -= num;\n            printf(\"%c\",(k&1)?'A':'B');\n            for (int i = 1; i < n; i++){\n                printf(\"%c\",(i&1)?'B':'A');\n            }\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<vector>\n#include<algorithm>\n#include<deque>\n#include<string>\n#include<iostream>\nusing namespace std;\nint main()\n{\n\tint num, kai;\n\tscanf(\"%d%d\", &num, &kai);\n\tstring s;\n\tcin >> s;\n\ts.push_back('C');\n\tdeque<int>deq;\n\tbool pal = (s[0] == 'A');\n\tchar now = s[0];\n\tint cnt = 0;\n\tfor (int i = 0; i < s.size(); i++)\n\t{\n\t\tif (s[i] != now)\n\t\t{\n\t\t\tdeq.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t\telse cnt++;\n\t}\n\tfor (int i = 0; i < min(kai, 1000000 + kai % 2); i++)\n\t{\n\t\tif (pal)\n\t\t{\n\t\t\tif (deq[0] != 1)\n\t\t\t{\n\t\t\t\tdeq[0]--;\n\t\t\t\tdeq.push_front(1);\n\t\t\t\tpal = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdeq.pop_front();\n\t\t\t\tdeq[0]++;\n\t\t\t\tpal = false;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (deq.size() % 2 == 1)deq[deq.size() - 1]++;\n\t\t\telse deq.push_back(1);\n\t\t\tif (deq[0] != 1)\n\t\t\t{\n\t\t\t\tdeq[0]--;\n\t\t\t\tpal = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdeq.pop_front();\n\t\t\t\tpal = false;\n\t\t\t}\n\t\t}\n\t}\n\tstring ret;\n\tfor (int i = 0; i < deq.size(); i++)\n\t{\n\t\tif (pal)for (int j = 0; j < deq[i]; j++)ret.push_back('A');\n\t\telse for (int j = 0; j < deq[i]; j++)ret.push_back('B');\n\t\tpal = !pal;\n\t}\n\tcout << ret << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <ctime>\n\n#define Rep(i, n) for (int i = 1; i <= n; i ++)\n#define Rep0(i, n) for (int i = 0; i <= n; i ++)\n#define RepG(i, x) for (int i = head[x]; i; i = edge[i].next)\n#define v edge[i].to\n#define mp(a, b) make_pair(a, b)\n\nusing namespace std;\n\nconst int N = 200010;\n\nchar s[N];\nint a[N];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\t\n\tRep(i, n) a[i] = (s[i] == 'A');\n\t\n\tbool flag = false;\n\tint i = 1;\n\t\n\twhile (i <= n) {\n\t\tif (!k) {\n\t\t\tfor (int j = i; j <= n; j ++){\n\t\t\t\tif ((!(i & 1)) ^ a[j]) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tRep(j, i - 1){\n\t\t\t\tif ((j & 1) ^ (i & 1)) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\tflag = true; break;\n\t\t}\n\t\tif (a[i] ^ (!(i & 1))) a[i] ^= 1;\n\t\telse i ++;\n\t\tk --;\n\t}\n\t\n\tif (!flag) {\n\t\tif (!(n & 1)) {\n\t\t\tRep(i, n){\n\t\t\t\tif (i & 1) printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tif (k & 1) printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t\tRep(i, n - 1){\n\t\t\t\tif (i & 1) printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<queue>\n#include<cassert>\n#define PB push_back\n#define MP make_pair\n#define sz(v) (in((v).size()))\n#define forn(i,n) for(in i=0;i<(n);++i)\n#define forv(i,v) forn(i,sz(v))\n#define fors(i,s) for(auto i=(s).begin();i!=(s).end();++i)\n#define all(v) (v).begin(),(v).end()\nusing namespace std;\ntypedef long long in;\ntypedef vector<in> VI;\ntypedef vector<VI> VVI;\nint main(){\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  in n,k;\n  string s;\n  cin>>n>>k>>s;\n  n=sz(s);\n  bool wt;\n  string ans;\n  bool fnd=0;\n  forn(i,n){\n    wt=(s[i]=='A');\n    if(i%2)\n      wt=!wt;\n    in mvs=1+wt;\n    if(mvs<=k){\n      k-=mvs;\n      continue;\n    }\n    if(mvs==2 && k==1){\n      if(s[i]=='A')\n\ts[i]='B';\n      else\n\ts[i]='A';\n    }\n    if(i%2){\n      for(in j=i;j<n;++j){\n\tif(s[j]=='A')\n\t  s[j]='B';\n\telse\n\t  s[j]='A';\n      }\n    }\n    for(in j=i;j<n;++j)\n      ans+=s[j];\n    forn(j,i){\n      if((j+i)%2)\n\tans+='A';\n      else\n\tans+='B';\n    }\n    fnd=1;\n    break;\n  }\n  if(!fnd){\n    forn(j,n){\n      if((j+n)%2)\n\tans+='A';\n      else\n\tans+='B';\n    }\n  }\n  cout<<ans<<\"\\n\";\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0, ptr = 0, last = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < k && ptr <= n; i++)\n\t{\n\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\tptr++;\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t\tlast = i;\n\t}\n\tlast++;\n\n\tif ((n & 1) && ((k - last) & 1)) \n\t\ta[0] = !rev;\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int , int> P2;\ntypedef pair<pair<int , int> , int> P3;\ntypedef pair<pair<int , int> , pair<int , int> > P4;\n#define Fst first\n#define Snd second\n#define PB(a) push_back(a)\n#define MP(a , b) make_pair((a) , (b))\n#define M3P(a , b , c) make_pair(make_pair((a) , (b)) , (c))\n#define M4P(a , b , c , d) make_pair(make_pair((a) , (b)) , make_pair((c) , (d)))\n#define repp(i,a,b) for(int i = (int)(a) ; i < (int)(b) ; ++i)\n#define repm(i,a,b) for(int i = (int)(a) ; i > (int)(b) ; --i)\n\nint N,K;\nbool b[200010];\n\nint halt(){\n\trepp(i,0,N){\n\t\tprintf(\"%c\" , (i+N)%2==1?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n\nint main(){\n\tscanf(\"%d%d\" , &N , &K);\n\trepp(i,0,N){\n\t\tchar c;\n\t\tscanf(\" %c\" , &c);\n\t\tb[i] = c == 'A';\n\t}\n\tif(N==1){\n\t\tprintf(\"%c\\n\" , (K%2==1)^b[0]?'A':'B');\n\t\treturn 0;\n\t}\n\tint y = N;\n\trepm(i,N-1,-1){\n\t\tif(((N-i)%2 == 1) ^ b[i]) break;\n\t\t--y;\n\t}\n\tint x = 0;\n\tbool z = 0;\n\trepp(i,0,K){\n\t\tif(x == y) return halt();\n\t\tif(b[x]^z) {\n\t\t\tb[x] = !b[x];\n\t\t} else {\n\t\t\tz = !z;\n\t\t\t++x;\n\t\t}\n\t}\n\trepp(i,x,y){\n\t\tprintf(\"%c\" , b[i] ^ z ? 'A' : 'B');\n\t\t--N;\n\t}\n\thalt();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i, N) for (int (i) = 0; (i) < (N); ++(i))\n#define READALL(c) for (auto &e : c) { cin >> e; }\n#define PRINTALL(c) for (const auto &e : c) { cout << e << \"\\t\"; } cout << \"\\n\";\n\ntemplate <typename T>\nusing V = vector<T>;\n\ntypedef long double ld;\n\nvoid print(V<int> ans) {\n\tfor (int a : ans) {\n\t\tcout << (a == 1 ? 'A' : 'B');\n\t}\n\tcout << endl;\n}\n\nV<int> simulate(int N, int K, V<int> S) {\n\tfor (int k = 0; k < K; ++k) {\n\t\tprint(S);\n\t\tint curr = 0, last = -1;\n\t\twhile (curr < N && curr >= 0) {\n\t\t\tint tmp = last;\n\t\t\tlast = curr;\n\t\t\tif (S[curr] == 1) {\n\t\t\t\tS[curr] = 2;\n\t\t\t\tcurr = tmp;\n\t\t\t} else {\n\t\t\t\tS[curr] = 1;\n\t\t\t\t++curr;\n\t\t\t}\n\t\t}\n\t}\n\treturn S;\n}\n\nV<int> simulate2(int N, int K, V<int> S) {\n\tint right = N-1, target = 1;\n\tfor (int k = 0; k < K; ++k) {\n\t\tif (right == -1) {\n\t\t\tif (N%2) {\n\t\t\t\tif ((K-k)%2) {\n\t\t\t\t\tif (S[0] == 1)\n\t\t\t\t\t\tS[0] = 2;\n\t\t\t\t\telse\n\t\t\t\t\t\tS[0] = 1;\n\t\t\t\t}\n\t\t\t\treturn S;\n\t\t\t} else {\n\t\t\t\treturn S;\n\t\t\t}\n\t\t}\n\t\t// print(S);\n\t\tint curr = 0, last = -1;\n\t\twhile (curr < N && curr >= 0) {\n\t\t\tif (target == 1 && curr == right+1)\n\t\t\t\tbreak;\n\t\t\tif (target == 2 && curr == right+2)\n\t\t\t\tbreak;\n\t\t\tint tmp = last;\n\t\t\tlast = curr;\n\t\t\tif (S[curr] == 1) {\n\t\t\t\tS[curr] = 2;\n\t\t\t\tcurr = tmp;\n\t\t\t} else {\n\t\t\t\tS[curr] = 1;\n\t\t\t\t++curr;\n\t\t\t}\n\t\t}\n\t\twhile (S[right] == target) {\n\t\t\tif (target == 1)\n\t\t\t\ttarget = 2;\n\t\t\telse\n\t\t\t\ttarget = 1;\n\t\t\t--right;\n\t\t}\n\t}\n\treturn S;\n}\n\nmain() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tint N, K;\n\tcin >> N >> K;\n\tstring S;\n\tcin >> S;\n\tV<int> A(N);\n\tREP(i, N) {\n\t\tA[i] = (S[i] == 'B') + 1;\n\t}\n\t// print(simulate(N, K, A));\n\t// cout << endl;\n\tprint(simulate2(N, K, A));\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint N, K, sh;\nchar sir[1000009];\n\nint main ()\n{\n//freopen (\"input\", \"r\", stdin);\n//freopen (\"output\", \"w\", stdout);\n\nscanf (\"%d %d\\n\", &N, &K);\nscanf (\"%s\", sir + 1), sh = 0;\nfor (int i=1; i<=N; i++)\n    sir[i] -= 'A';\nwhile (K && sh < N)\n{\n    K --;\n    if ((sir[1 + sh] ^ (sh & 1)) == 0) sir[1 + sh] ^= 1;\n    else sh ++;\n}\nif (K == 0)\n{\n    for (int i=1; i<=N - sh; i++)\n        if (sir[i + sh] ^ (sh & 1)) printf (\"B\");\n        else printf (\"A\");\n    for (int i=N - sh + 1; i<=N; i++)\n        if ((N - i) & 1) printf (\"B\");\n        else printf (\"A\");\n    printf (\"\\n\");\n    return 0;\n}\nif (N & 1)\n{\n    K &= 1;\n    for (int i=2; i<=N; i++)\n        if ((N - i) & 1) printf (\"B\");\n        else printf (\"A\");\n    if (K) printf (\"B\");\n    else printf (\"A\");\n    printf (\"\\n\");\n    return 0;\n}\nfor (int i=1; i<=N; i++)\n    if (i & 1) printf (\"B\");\n    else printf (\"A\");\nprintf (\"\\n\");\nreturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, j) for(int i=0; i < (int)(j); i++)\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N, K; cin >> N >> K;\n    list<char> S;\n    rep(i, N) {\n        char c; cin >> c;\n        S.push_back(c);\n    }\n    int n = 0;\n    char A = 'A', B = 'B';\n\n    auto go = [&] () {\n        if(S.front() == A) {\n            S.front() = B;\n        } else if(S.front() == B) {\n            S.pop_front();\n            S.push_back(B);\n            swap(A, B);\n        } else assert(false);\n    };\n    \n    rep(i, min(K, 2 * N)) {\n        go();\n        n++;\n    }   \n    if(n < K and (K - n) % 2 == 1) go();\n    map<char, char> mp;\n    mp['A'] = A;\n    mp['B'] = B;\n    \n    for(auto s : S) cout << mp[s];\n    cout << endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef complex<double> cd;\n\n#define forn(i, n) for (int (i) = 0; (i) != (n); (i)++)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define popcount(x) __builtin_popcount(x)\n#define popcountll(x) __builtin_popcountll(x)\n#define fi first\n#define se second\n#define re return\n#define pb push_back\n#define uniq(x) sort(all(x)); (x).resize(unique(all(x)) - (x).begin())\n\n#ifdef LOCAL\n#define dbg(x) cerr << __LINE__ << \" \" << #x << \" \" << x << endl\n#define ln cerr << __LINE__ << endl\n#else\n#define dbg(x) void(0)\n#define ln void(0)\n#endif // LOCAL\n\nsigned main()\n{\n    srand(time(NULL));\n    ios_base::sync_with_stdio(false);\n    cin.tie(0);\n    cout.tie(0);\n\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    int L = 0;\n    for (int i = 1; i < n; i += 2)\n    {\n        s[i] = 'A' + 'B' - s[i];\n    }\n    if (k > 2 * n)\n    {\n        k = 2 * n + (k % 2);\n    }\n    for (int i = 0; i < k; i++)\n    {\n        if (s[L] == 'A')\n        {\n            s[L] = 'B';\n        }\n        else\n        {\n            L++;\n            if (n % 2) s += \"A\";\n            else s += \"B\";\n        }\n    }\n    for (int i = L; i < s.size(); i++)\n    {\n        if ((i - L) % 2) cout << (char)('A' + 'B' - s[i]);\n        else cout << s[i];\n    }\n}\n\n/* Note:\nCheck constants at the beginning of the code.\n    N is set to 4e5 but be careful in problems with large constant factor.\n    Setting N in every problem is more effective.\nCheck corner cases.\n    N = 1\nNo def int long long for now.\nAdd something here.\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"B\";\n            else\n                cout << \"A\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        while(1)\n        {\n\n        }\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define INF 1e+18\nusing namespace std;\n\nchar flip(char c){\n\tif(c == 'A') return 'B';\n\telse return 'A';\n}\n\nsigned main(){\n\tint n,k,head = 0,cnt = 0;\n\tstring s;\n\tcin >> n >> k >> s;\n\tfor(int i = 0;i < min(k,n * 4);i++){\n\t\tchar c = s[head];\n\t\tif(cnt % 2) c = flip(c);\n\t\tif(c == 'A') s[head] = flip(s[head]);\n\t\telse{\n\t\t\thead = (head + 1) % n;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tif(cnt % 2){\n\t\tfor(int i = 0;i < n;i++) s[i] = flip(s[i]);\n\t}\n\tif(k > n * 4 && n % 2 && (k - n * 4) % 2) s[head] = flip(s[head]);\n\tfor(int i = 0;i < n;i++) cout << s[(head + i) % n];\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N = 6e5 + 9;\n\nint n, k, _a[N], *a = _a;\nchar s[N];\nbool o;\n\nint main () {\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++i) a[i] = s[i] == 'B' ? 1 : 0;\n\tfor (int i = 1; i <= k; ++i) {\n\t\tif (*a ^ o) {\n\t\t\to ^= 1;\n\t\t\ta[n] = o;\n\t\t\t++a;\n\t\t} else {\n\t\t\t*a ^= 1;\n\t\t}\n\t\tif (i > n * 2 && (i & 1) == (k & 1)) break ;\n\t}\n\tfor (int i = 0; i < n; ++i) putchar('A' + (a[i] ^ o));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nconst int N=600005;\nint n,m,v[N],t,x=0;char c[N];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&m,c+1),t=1;\n\tfor(int i=1;i<=n;++i)v[i]=c[i]=='A';\n\tfor(int i=1;i<=2*n&&i<=m;++i)if(v[t]^x)v[t]^=1;else ++t,x^=1,v[t+n-1]=x^1;\n\tif(m<=2*n)for(int i=t;i<=t+n-1;++i)printf(\"%c\",v[i]^x?'A':'B');\n\telse{printf(\"%c\",v[t]^x^((n&1)&(m-2*n&1))?'A':'B');for(int i=t+1;i<=t+n-1;++i)printf(\"%c\",v[i]^x?'A':'B');}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n    assert(a&&b);\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\tif(a+b-3>=1) return rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t\telse{ if(zan%2==0) return A(a+b-2)+B(1)+A(1); else return B(a+b-1)+A(1); }\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\tif(a+b-3>=1) return rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t\telse { if(zan%2==1) return A(a+b-2)+B(1)+A(1); else return B(a+b-1)+A(1); }\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(i<n&&s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(i<n&&s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; goto out;\n\t\t\t}\n\t\t}\n\t}out:;\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(i<n&&s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(i<n&&s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tif(x==0||y==0){assert(0);return 0;}\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n\tint n,k;\tcin>>n>>k;\n\tstring s;\tcin>>s;\n\tint N=n;\n\twhile(s.substr(n-2,2)==\"BA\"){\n\t\ts.erase(n-2,2);\n\t\tn-=2;\n\t}\n\tbool dir;\n\tint pos;\n\twhile(s.size()&&k){\n\t\tk--;\n\t\tdir=true;\n\t\tpos=0;\n\t\twhile(0<=pos&&pos<n){\n\t\t\tif(s[pos]=='A'){\n\t\t\t\ts[pos]='B';\n\t\t\t\tdir^=1;\n\t\t\t}\n\t\t\telse\ts[pos]='A';\n\t\t\tif(dir)\tpos++;\n\t\t\telse \tpos--;\n\t\t}\n\t\twhile(s.size()>1&&s.substr(n-2,2)==\"BA\"){\n\t\t\ts.erase(n-2,2);\n\t\t\tn-=2;\n\t\t}\n\t\tif(s==\"A\")\tbreak;\n\t}\n\twhile(n<N){\n\t\ts+=\"BA\";\tn+=2;\n\t}\n\tif(k==0)\tcout<<s<<endl;\n\telse{\n\t\tif(n%2){\n\t\t\tif(k%2)\ts[0]='B';\n\t\t\tcout<<s<<endl;\n\t\t}\n\t\telse \tcout<<s<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n\tlong long n, k; cin >> n >> k;\n\tchar s[200011]; \n\tcin >> s;\n\tfor (int i = 0; i < k; i++){\n\t\tint j, k;\n\t\tj = 0;\n\t\tif (s[j] == 'A') {\n\t\t\tk = -1;\n\t\t\ts[j] = 'B';\n\t\t}\n\t\telse{\n\t\t\tk = 1;\n\t\t\ts[j] = 'A';\n\t\t}\n\t\tfor (; 0 <= k&&k < n;) {\n\t\t\tif (s[k] == 'A') {\n\t\t\t\ts[k] = 'B';\n\t\t\t\tint tmp = j;\n\t\t\t\tj = k;\n\t\t\t\tk = tmp;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts[k] = 'A';\n\t\t\t\tint tmp = k * 2 - j;\n\t\t\t\tj = k;\n\t\t\t\tk = tmp;\n\t\t\t}\n\t\t}\n\t}\n\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n#include <time.h>\n#include <math.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <iomanip>\n#include <fstream>\n\nusing namespace std;\n\nint n,k,p;\n\nbool rev;\n\nstring s;\n\nint main()\n{\n\tcin >> n >> k >> s;\n\tint cnt = 0;\n\tfor (int i = 1;i <= k && p < n;i++)\n\t{\n\t\tcnt++;\n\t\tif (s[p] == 'A')\n\t\t{\n\t\t\ts[p] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\trev ^= 1;\n\t\tp++;\n\t}\n\tfor (int i = p;i < n;i++)\n\t\tcout << char(((s[i] - 'A') ^ rev) + 'A');\n\tif (p > 0)\n\t{\n\t\tif (n & 1)\n\t\t{\n\t\t\tk -= cnt;\n\t\t\tcout << char('A' + (k & 1));\n\t\t}\n\t\telse\n\t\t\tcout << 'B';\n\t\tfor (int i = 1;i < p;i++)\n\t\t\tcout << char('A' + ((p - 1 - i) & 1));\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            while(1)\n            {\n\n            }\n            if(k % 2 == 0)\n                cout << \"A\";\n            else\n                cout << \"B\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define BIG 1000000010\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\ntypedef long long int ll;\n\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  char s;\n  int a=0;\n  deque<char> d;\n  rep(i,n){\n    cin>>s;\n    d.push_back(s);\n  }\n  rep(i,k){\n    if(d.front()=='A'){\n      d.pop_front();\n      d.push_front('B');\n    }\n    else{\n      d.pop_front();\n      rep(i,d.size()){\n\tif(d[i]=='A') d[i]='B';\n\telse d[i]='A';\n      }\n      d.push_back('A');\n    }\n    if(n%2==0){\n      rep(j,n){\n\t\n\tif(j%2==0 && d[j]!='B') break;\n\telse if(j%2==1 && d[j]!='A') break;\n\telse if(j==n-1) i=BIG;\n      }\n    }\n    else{\n      repi(j,1,n){\n\tif(j%2==1 && d[j]!='B') break;\n\telse if(j%2==0 && d[j]!='A') break;\n\telse if(j==n-1) i=k-1-((k-1-i)%2);\n      }\n    }\n  }\n  rep(i,n){\n    cout<<d[i];\n  }\n  cout<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n#include <string>\n\nusing namespace std;\n\nvoid ope(queue<int>& que, int& A) {\n    if (que.front() == A) {\n        que.front() = 1 - que.front();\n    } else {\n        que.push(que.front());\n        que.pop();\n        A = 1 - A;\n    }\n}\n\nint main() {\n    int N, K;\n    string S;\n    cin >> N >> K >> S;\n\n    queue<int> que;\n    for (char c : S) que.push(c - 'A');\n    int A = 0;  // 今どっちの文字がAか\n    int q;\n    for (q = 0; q < min(N * 2, K); ++q) ope(que, A);\n\n    // Nが偶数ならBABA...BAをループ\n    // Nが奇数ならABAB...BA <-> BBAB...BAをループ\n    if (q < K && N % 2 == 1 && (K - q) % 2 == 1) ope(que, A);\n\n    while (!que.empty()) {\n        cout << (que.front() == A ? 'A' : 'B');\n        que.pop();\n    }\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <bitset>\n#include <vector>\n\nusing namespace std;\n\nint main ()\n{\n\tlong n, k;\n\tcin >> n >> k;\n\tbool val = 0;\n\tlong pos = 0;\n\tvector<bool> reflects(n);\n\tfor (int i = 0; i < n; ++i) {\n\t\tchar c;\n\t\tcin >> c;\n\t\treflects[i] = c == 'A';\n\t}\n\tfor (int i = 0; i < k; ++i) {\n\t\tlong zero_index = (0 + pos) % n;\n\t\tif (reflects[zero_index] ^ val) {\n\t\t\treflects[zero_index] = !reflects[zero_index];\n\t\t} else {\n\t\t\tpos = (pos + 1) % n;\n\t\t\tval = !val;\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++i) {\n\t\tlong index = (i + pos) % n;\n\t\tif (reflects[index] ^ val) {\n\t\t\tcout << 'A';\n\t\t} else {\n\t\t\tcout << 'B';\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nll n, k;\nstring s;\n\n//count how long moving t frames takes\nll comp(ll t) {\n\tll ct = 0;\n\tfor (ll i = 0; i < min(t, 1LL*n); ++i) {\n\t\tif (i%2 == 0)\n\t\t\tct += (s[i] == 'A')+1;\n\t\telse\n\t\t\tct += (s[i] == 'B')+1;\n\t}\n\n\tif (t <= n)\n\t\treturn ct;\n\treturn ct+(t-n)+(t-1)/2-n/2;\n}\n\nstring trans(string g) {\n\tif (g[0] == 'A')\n\t\tg[0] = 'B';\n\telse {\n\t\tstring h = \"\";\n\t\tfor (ll i = 1; i < g.length(); ++i) {\n\t\t\tif (g[i] == 'A')\n\t\t\t\th += 'B';\n\t\t\telse\n\t\t\t\th += 'A';\n\t\t\th += 'A';\n\t\t\tg = h;\n\t\t}\n\t}\n\n\treturn g;\n}\n\nstring move(ll t) {\n\tstring h = \"\";\n\tfor (ll i = t; i <= t+n-1; ++i) {\n\t\tif (i < n) {\n\t\t\tll y = 'A'+'B';\n\t\t\tif (t%2 == 0)\n\t\t\t\th += s[i];\n\t\t\telse\n\t\t\t\th += (char)(y-s[i]);\n\t\t} else {\n\t\t\tif ((t+n-1-i)%2 == 0)\n\t\t\t\th += 'A';\n\t\t\telse\n\t\t\t\th += 'B';\n\t\t}\n\t}\n\n\treturn h;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\n\tcin >> n >> k >> s;\n\tll lo = 0, hi = 1e9;\n\n\twhile (lo != hi) {\n\t\tll mid = (lo+hi+1)/2;\n\t\tif (comp(mid) > k)\n\t\t\thi = mid-1;\n\t\telse\n\t\t\tlo = mid;\n\t}\n\n\ts = move(lo);\n\tif (comp(lo) == k-1)\n\t\tcout << trans(s) << endl;\n\telse\n\t\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < k; i++)\n\t{\n\n\t\tif ((a[0] ^ rev) && i >= 3 * n)\n\t\t{\n\t\t\ti += (k - i) - (k - i) % 3;\n\t\t}\n\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long i64;\n\nint main()\n{\n\tint n, k;\n\tchar temp[200005];\n\tvector<bool> state;\n\n\tscanf(\"%d%d%s\", &n, &k, temp);\n\tstate.resize(n);\n\tfor(int i = 0; i < n; ++i)\n\t\tstate[i] = (temp[i] == 'A');\n\n\tint step = k % (2 * n);\n\tif(k >= 2 * n)\n\t\tstep += 2 * n;\n\n\tint left = 0;\n\tbool flip = false;\n\n\tfor(int s = 0; s < step; ++s) {\n\n\t\tbool is_a = (state[left] != flip);\n\n\t\tif(is_a) {\n\t\t\tprintf(\"%d: %d first\\n\", s, left);\n\t\t\tstate[left] = !state[left];\n\t\t\tcontinue;\n\t\t}\n\n\t\tprintf(\"%d: %d second\\n\", s, left);\n\n\t\tleft = (left + 1) % n;\n\t\tflip = !flip;\n\t}\n\n\tchar ans[200005] = {0};\n\tfor(int i = 0; i < n; ++i) {\n\t\tint pos = (left + i) % n;\n\t\tbool is_a = (state[pos] != flip);\n\t\tans[i] = (is_a ? 'A' : 'B');\n\t}\n\n\tprintf(\"%s\\n\", ans);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n    assert(a&&b);\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; goto out;\n\t\t\t}\n\t\t}\n\t}out:;\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(i<n&&s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(i<n&&s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tif(x==0||y==0){cout<<-1<<endl; return 0;}\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\n#include<stack>\n#define maxn 200050\n#define maxint ~0U>>1\nstd::stack<int> sta;\nstd::vector<int> comp[maxn];\nint incomp[maxn],instack[maxn],dfn[maxn],low[maxn];\nint idx,cnum;\nint n,m,q,d[maxn],rice[maxn],noodle[maxn],v[maxn],s,p,ans,dis[maxn];\nbool jud[maxn];\nstd::vector<int> g[maxn],nowg[maxn];\nint nowrice[maxn],nownoodle[maxn],nows;\nvoid input(){\n    std::cin>>n>>m;\n    int u,v;\n    for(int i = 1;i <= m;i++){\n        scanf(\"%d%d\",&u,&v);\n        g[u].push_back(v);\n    }\n}\nvoid tarjan(int u){\n    instack[u] = 2;\n    dfn[u] = low[u] = ++idx;\n    sta.push(u);\n    for(int i = 0;i < g[u].size();i++){\n        int j = g[u][i];\n        if(!dfn[j]){\n            tarjan(j);\n            low[u] = std::min(low[u],low[j]);\n        }else if(instack[j] == 2){\n            low[u] = std::min(low[u],dfn[j]);\n        }\n    }\n    if(dfn[u] == low[u]){\n        ++cnum;\n        while(!sta.empty()){\n            int t = sta.top();\n            sta.pop();\n            instack[t] = 1;\n            incomp[t] = cnum;\n            comp[cnum].push_back(t);\n            if(t == u){\n                break;\n            }\n        }\n    }\n}\nvoid work(){\n    for(int i = 1;i <= n;i++){\n        if(!dfn[i]) tarjan(i);\n    }\n    int u,v,newu,newv;\n    for(int i = 1;i <= n;i++){\n        u = i;\n        newu = incomp[u];\n        nowrice[newu] += 1;\n        for(int j = 0;j < g[u].size();j++){\n            v = g[u][j];\n            newv = incomp[v];\n            if(newu == newv) continue;\n            nowg[newu].push_back(newv);\n        }\n    }\n}\nvoid dfs(int x){\n    if(nowg[x].size() == 0){\n        dis[x] = nowrice[x];\n        return;\n    }\n    for(int i = 0;i < nowg[x].size();i++){\n        if(!dis[nowg[x][i]]) dfs(nowg[x][i]);\n        dis[x] = std::max(dis[x],dis[nowg[x][i]] + nowrice[x]);\n    }\n    return;\n}\nvoid spfa(){\n    memset(dis,0,sizeof(dis));\n    for(int i = 1;i <= cnum;i++){\n        if(!dis[i]) dfs(i);\n    }\n\n}\nint main(){\n    input();\n    work();\n    spfa();\n    int ansnow = 0;\n    for(int i = 1;i <= cnum;i++){\n        ansnow = std::max(ansnow,dis[i]);\n    }\n    std::cout<<ansnow;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"A\";\n            else\n                cout << \"B\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nchar str[200005];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, str);\n\n\tif (k > 10000000)\n\t{\n\t\tk = 10000000 + (k % 2);\n\t}\n\n\tint ptr = 0;\n\tbool flip = false;\n\twhile (k-- && n)\n\t{\n\t\tchar a, b;\n\t\tif (flip) a = 'B', b = 'A';\n\t\telse a = 'A', b = 'B';\n\n\t\tif (str[ptr] == a) {\n\t\t\tstr[ptr] = b;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tflip = !flip;\n\t\t\tptr = (ptr + 1) % n;\n\t\t}\n\t}\n\n\tif (flip) for (int i = 0; i < n; i++)\n\t{\n\t\tif (str[i] == 'A') str[i] = 'B';\n\t\telse str[i] = 'A';\n\t}\n\n\tfor (int i = ptr; i < n; i++) printf(\"%c\", str[i]);\n\tfor (int i = 0; i < ptr; i++) printf(\"%c\", str[i]);\n\tprintf(\"\\n\");\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint n, k;\nstring s;\nvoid flip(string& s) {\n  for (int i = 0; i < n; ++i) {\n    if (i & 1) {\n      s[i] = s[i] == 'A' ? 'B' : 'A';\n    }\n  }\n}\n\nint main() {\n  cin >> n >> k >> s;\n  flip(s);\n  int i = 0;\n  int r = 0;\n  for (int z = 0; z < k; ++z) {\n    if (i >= n) {\n      if ((k - z) & 1) r = 1;\n      break;\n    }\n    if (s[i] == 'B') {\n      ++i;\n    } else if (r == 1) {\n      r = 0;\n      ++i;\n    } else {\n      r = 1;\n    }\n  }\n  \n  string t = s.substr(i) + string(i, n % 2 == 0 ? 'B' : 'A');\n  \n  if (r) {\n    t[0] = 'B';\n  }\n\n  flip(t);\n  cout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define maxn 401000\nusing namespace std;\n\nint A[maxn];\nchar s[maxn];\nint st, n, m, o;\nint main() {\n\tscanf(\"%d %d\",&n,&m);\n\tscanf(\"%s\",s + 1);\n\tfor (int i = 1; i <= n; i++) A[i] = s[i] - 'A';\n\tint st = 0;\n\twhile (st < n && m) {\n\t\tif (A[st + 1] == o) {\n\t\t\tA[st + 1] ^= 1;\n\t\t\tm--;\n\t\t\tcontinue;\t\t\t\n\t\t}\n\t\to ^= 1; st++;\n\t\tA[st + n] = o;\n\t\tm--;\n\t}\n\tif (!m) {\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tif (A[st + i] == o) putchar('A');\n\t\t\telse putchar('B');\n\t} else {\n\t\to ^= ((n & 1) & (m & 1));\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tif (A[st + i] == o) putchar('A');\n\t\t\telse putchar('B');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//waz\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define ALL(x) (x).begin(), (x).end()\n#define SZ(x) ((int)((x).size()))\n\ntypedef pair<int, int> PII;\ntypedef vector<int> VI;\ntypedef long long int64;\ntypedef unsigned int uint;\ntypedef unsigned long long uint64;\n\n#define gi(x) ((x) = F())\n#define gii(x, y) (gi(x), gi(y))\n#define giii(x, y, z) (gii(x, y), gi(z))\n\nint F()\n{\n\tchar ch;\n\tint x, a;\n\twhile (ch = getchar(), (ch < '0' || ch > '9') && ch != '-');\n\tif (ch == '-') ch = getchar(), a = -1;\n\telse a = 1;\n\tx = ch - '0';\n\twhile (ch = getchar(), ch >= '0' && ch <= '9')\n\t\tx = (x << 1) + (x << 3) + ch - '0';\n\treturn a * x;\n}\n\nconst int N = 2e5 + 10;\n\nchar str[N];\n\nint n, k;\n\nint pos(int x, int l)\n{\n\tint p = x + l % n;\n\tif (p > n) p -= n;\n\treturn p;\n}\n\nint main()\n{\n\tgii(n, k);\n\tscanf(\"%s\", str + 1);\n\tfor (int i = 1; i <= n; ++i) str[i] -= 'A';\n\tif (k <= 2 * n + 10)\n\t{\n\t\tint l = 0, t = 0;\n\t\tfor (int i = 1; i <= k; ++i)\n\t\t{\n\t\t\tif (!(str[pos(1, l)] ^ t))\n\t\t\t{\n\t\t\t\tstr[pos(1, l)] ^= 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++l, t ^= 1; str[pos(n, l)] = t;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\tputs(\"\");\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tint l = 0, t = 0;\n\t\tfor (int i = 1; i <= 2 * n + 10; ++i)\n\t\t{\n\t\t\tif (!(str[pos(1, l)] ^ t))\n\t\t\t{\n\t\t\t\tstr[pos(1, l)] ^= 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++l, t ^= 1; str[pos(n, l)] = t;\n\t\t\t}\n\t\t}\n\t\tk -= 2 * n + 10;\n\t\tif (n & 1)\n\t\t{\n\t\t\tstr[pos(1, l)] ^= (k & 1);\n\t\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (int i = 1; i <= n; ++i) putchar((str[pos(i, l)] ^ t) + 'A');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t} \n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<queue>\n#include<cassert>\n#define PB push_back\n#define MP make_pair\n#define sz(v) (in((v).size()))\n#define forn(i,n) for(in i=0;i<(n);++i)\n#define forv(i,v) forn(i,sz(v))\n#define fors(i,s) for(auto i=(s).begin();i!=(s).end();++i)\n#define all(v) (v).begin(),(v).end()\nusing namespace std;\ntypedef long long in;\ntypedef vector<in> VI;\ntypedef vector<VI> VVI;\nint main(){\n  ios::sync_with_stdio(0);\n  cin.tie(0);\n  in n,k;\n  string s;\n  cin>>n>>k>>s;\n  n=sz(s);\n  if(n==1){\n    in c=(s[0]=='A')+k;\n    if(c%2==0)\n      cout<<\"B\"<<endl;\n    else\n      cout<<\"A\"<<endl;\n    return 0;\n  }\n  bool wt;\n  string ans;\n  bool fnd=0;\n  forn(i,n){\n    wt=(s[i]=='A');\n    if(i%2)\n      wt=!wt;\n    in mvs=1+wt;\n    if(mvs<=k){\n      k-=mvs;\n      continue;\n    }\n    if(mvs==2 && k==1){\n      if(s[i]=='A')\n\ts[i]='B';\n      else\n\ts[i]='A';\n    }\n    if(i%2){\n      for(in j=i;j<n;++j){\n\tif(s[j]=='A')\n\t  s[j]='B';\n\telse\n\t  s[j]='A';\n      }\n    }\n    for(in j=i;j<n;++j)\n      ans+=s[j];\n    forn(j,i){\n      if((j+i)%2)\n\tans+='A';\n      else\n\tans+='B';\n    }\n    fnd=1;\n    break;\n  }\n  if(!fnd){\n    forn(j,n){\n      if((j+n)%2)\n\tans+='A';\n      else\n\tans+='B';\n    }\n  }\n  cout<<ans<<\"\\n\";\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <queue>\n#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <cctype>\n#include <cassert>\n#include <limits>\n#include <functional>\n#include <iomanip>\n#include <complex>\n#include <bitset>\n#include <stack>\nusing namespace std;\n \n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define repl(i,s,n) for(int i=s; i<=n; ++i)\n#define rer(i,l,u) for(int (i)=(int)(l);(i)<=(int)(u);++(i))\n#define reu(i,l,u) for(int (i)=(int)(l);(i)<(int)(u);++(i))\n#if defined(_MSC_VER) || __cplusplus > 199711L\n#define aut(r,v) auto r = (v)\n#else\n#define aut(r,v) __typeof(v) r = (v)\n#endif\n#define each(it,o) for(aut(it, (o).begin()); it != (o).end(); ++ it)\n#define ktya(x) sort(all(x))\n#define maxs(x,y) (x = max(x,y))\n#define mins(x,y) (x = min(x,y))\n#define all(o) (o).begin(), (o).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset(m,v,sizeof(m))\n#define INF 1e18\n#define INFLL 1000000000000000007LL\n#define SIZE 200105\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mind(a,b) (a>b?b:a)\n#define maxd(a,b) (a>b?a:b)\n#define PI (acos(-1))\ntypedef vector<int> vi; typedef pair<int, int> pii; typedef vector<pair<int, int> > vpii; typedef long long ll;\ntypedef pair<int,ll> pill; typedef pair<ll,int> plli; \ntypedef pair<double, int> pdi;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if(y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if(x < y) x = y; }\ntypedef complex<double> P;\nll MOD = 1000000007;\n//ll MOD=998244353;\ntypedef ll Weight;\nstruct Edge {\n\tint src, dst;\n\tWeight weight;\n};\nbool operator < (const Edge &e, const Edge &f) {\n\treturn e.weight != f.weight ? e.weight > f.weight : // !!INVERSE!!\n\te.src != f.src ? e.src < f.src : e.dst < f.dst;\n}\ntypedef vector<Edge> Edges;\nll x1,yy1,x2,yy2;\nint N;\nll K;\n\nchar hoge[2]={'A','B'};\nint main(){\n\tcin>>N>>K;\n\tstring S;\n\tcin>>S;\n\tif(K==1&&S[0]=='A'){\n\t\tS[0]='B';\n\t\tcout<<S<<endl;\n\t\treturn 0;\n\t}\n\tS[N-1]='A';\n\tstring ans=\"\";\n\tans+=S[N-1];\n\tchar x=S[N-1];\n\trep(i,N-1){\n\t\tif(x=='B'){\n\t\t\tans='A'+ans;\n\t\t\tx='A';\n\t\t}else{\n\t\t\tans='B'+ans;\n\t\t\tx='B';\n\t\t}\n\t}\n\tstring ans2;\n\trep(i,S.size()){\n\t\tif(S[i]==hoge[i%2]){\n\t\t\tif(K==0){\n\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\tif(i%2==0)ans2+=S[j];\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(S[j]=='A')ans2+='B';\n\t\t\t\t\t\telse ans2+='A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sz=ans2.size();\n\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\tans2+=ans[j];\n\t\t\t\t}\n\t\t\t\tcout<<ans2<<endl;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(K==1){\n\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\tif(i%2==0)ans2+=S[j];\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(S[j]=='A')ans2+='B';\n\t\t\t\t\t\telse ans2+='A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sz=ans2.size();\n\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\tans2+=ans[j];\n\t\t\t\t}\n\t\t\t\tans2[0]='B';\n\t\t\t\tcout<<ans2<<endl;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tK-=2;\n\t\t}else{\n\t\t\tif(K==0){\n\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\tif(i%2==0)ans2+=S[j];\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(S[j]=='A')ans2+='B';\n\t\t\t\t\t\telse ans2+='A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sz=ans2.size();\n\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\tans2+=ans[j];\n\t\t\t\t}\n\t\t\t\tcout<<ans2<<endl;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tK-=1;\n\t\t}\n\t}\n\n\tif(ans[0]=='B'){\n\t\tcout<<ans<<endl;\n\t}else{\n\t\tif(K%2==0){\n\t\t\tcout<<ans<<endl;\n\t\t}else{\n\t\t\tans[0]='B';\n\t\t\tcout<<ans<<endl;\n\t\t}\n\t\t\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"trapv\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nstring s;\nvoid go() {//naive\n\tint i = 0, v = 1;\n\twhile(i>=0&&i<n) {\n\t\tif(s[i] == 'A') v=-v;\n\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t\ti += v;\n\t}\n\tcout << (i<0?'L':'R') << \" \";\n}\nstring get(int n, int k, string s) {\n\tfor(auto &i : s) i -= 'A';\n\tk = min(k, 10000000);\n\tint l = 0, r = n - 1, a = 0;\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\tr = ++r == n ? 0 : r;\n\t\t\t//cout << l << \" \" << (l ? l-1 : n-1) << \" \" <<char('A' + (s[l]^a)) << \" \" << char('A' + (s[l ? l-1 : n-1]^a)) << '\\n';\n\t\t\ta ^= 1;\n\t\t\ts[r] = a;\n\t\t}\n\t}\n\tr++;\n\tstring res = \"\";\n\twhile(true) {\n\t\tres += char('A' + (s[l++]^a));\n\t\tif(l == r) break;\n\t\tif(l == n) l = 0;\n\t}\n\treturn res;\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k >> s;\n\tcout << (get(n, k, s));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iterator>\n#include <array>\n#include <vector>\n#include <functional>\n#include <map>\n#include <utility>\n#include <cstdio>\ntemplate<typename T> struct ScanfSpecifier{};\n#define DEF(T,V) template<> struct ScanfSpecifier<T>{static constexpr const char* value = V;};\nDEF(char*,\"%s\")DEF(int,\"%d\")DEF(double,\"%lf\")DEF(float,\"%f\")DEF(char,\"%c\")DEF(const char*,\"%s\")DEF(unsigned long,\"%lu\")DEF(unsigned int, \"%u\")\n#ifdef _MSC_VER\nDEF(long long int,\"%I64d\")\n#else\nDEF(long long int,\"%lld\")\n#endif\n#undef DEF\ntemplate<typename T> int RD(T& arg){return std::scanf(ScanfSpecifier<T>::value, &arg);}\ntemplate<int S> int RD(char (&arg)[S]){return std::scanf(\"%s\", arg);}\nint RD(char* arg){return std::scanf(\"%s\", arg);}\ntemplate<> int RD<char>(char& arg){return std::scanf(\" %c\", &arg);}\ntemplate<typename T, typename... Args> int RD(T& arg1, Args&... args) {return RD(arg1) + RD(args...);}\ntemplate<typename T> T RD(){T ret; RD(ret); return ret;}\ntemplate<typename It> void RDV(It begin, It end) { while(begin != end) RD(*begin++); }\ntemplate<typename C> void RDV(C& c) {RDV(std::begin(c), std::end(c));}\ntemplate<typename T> void WT(T arg) {std::printf(ScanfSpecifier<T>::value, arg); }\ntemplate<typename T, typename U> void WT(std::pair<T, U> arg) {std::printf(\"(\"); WT(arg.first); std::printf(\", \"); WT(arg.second); std::printf(\")\");}\ntemplate<typename... Args> void WT(Args... args) { int alc = 0; int dummy[] = {((alc++? std::printf(\" \"): 0), WT(args), 0)...}; }\n\ntemplate<typename... Args> void WTL(Args... args) { WT(args...); std::printf(\"\\n\"); }\ntemplate<typename It> void WTV(It begin, It end) { int alc = 0; while(begin != end) (alc++? std::printf(\" \"): 0), WT(*begin++); }\ntemplate<typename C> void WTV(const C& c) {WTV(std::begin(c), std::end(c));}\ntemplate<typename It> void WTVL(It begin, It end) { WTV(begin, end); std::printf(\"\\n\"); }\ntemplate<typename C> void WTVL(const C& c) {WTVL(std::begin(c), std::end(c));}\n\n\n\n\ntemplate<typename T>\nstruct Mapper\n{\n    int operator[](const T& v) { int& ret = table[v]; if(!ret) rtable[ret = table.size()] = v; return ret - 1; }\n    template<typename... Args> int operator()(Args... args) { return (*this)[T(args...)]; }\n    T rev(int idx){return rtable[idx + 1];}\n    std::map<T, int> table;\n    std::map<int, T> rtable;\n};\n\ntemplate<typename T, int S>\nstruct ReferenceArray\n{\n    struct It {typename std::array<T*, S>::iterator it; T& operator*(){return **it;} void operator++(){it++;} bool operator!=(const It& other){return it != other.it;} };\n    int size()const{return _ptr.size();}\n    It begin()const{return {_ptr.begin()};}\n    It end()const{return {_ptr.end()};}\n    T& operator[](int idx)const{return *_ptr[idx];}\n    mutable std::array<T*, S> _ptr;\n};\ntemplate<typename T, typename... Args> \nReferenceArray<T, sizeof...(Args) + 1> MAKEV(T& arg1, Args&... args) {return {&arg1, &args...};}\n\nstruct Range\n{   \n    struct It {   int num, step; int operator*(){return num;} void operator++(){num += step;} bool operator!=(const It& other){return num != other.num;} };\n    Range(int ee):b(0),e(ee){}\n    Range(int bb, int ee):b(bb), e(ee){}\n    It begin(){return {b, (b < e? 1: -1)};}\n    It end(){return {e, 0};}\n    int b, e;\n};\n\ntemplate<typename T> inline T& UMAX(T& x, T y){if(x < y)x = y; return x;}\ntemplate<typename T> inline T& UMIN(T& x, T y){if(y < x)x = y; return x;}\ntemplate<typename T, typename... Args> struct ArithmiticPromotion { typedef decltype(T() + typename ArithmiticPromotion<Args...>::type()) type; };\ntemplate<typename T, typename U> struct ArithmiticPromotion<T, U> { typedef decltype(T() + U()) type; };\ntemplate<typename T> struct ArithmiticPromotion<T, T> { typedef T type; };\ntemplate<typename T> struct ArithmiticPromotion<T> { typedef T type; };\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MAX(T a, U b) { return a < b? b: a; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MAX(T a, Args... args) { return MAX(a, MAX(args...)); }\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MIN(T a, U b) { return a < b? a: b; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MIN(T a, Args... args) { return MIN(a, MIN(args...)); }\n\n\n\n\n\n//alias\n//RD[L],RDV[L],WT[L],WTV[L] for i/o\nusing RG = Range;\n//template\n#include <vector>\n#include <string>\n#include <cstring>\n#include <set>\n#include <map>\n#include <cstdlib>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\nchar S[200009];\nchar ans[200009];\nint N, K;\n\n\n\nint main()\n{\n    RD(N, K, S);\n    for(int i: RG(N))\n        S[i] -= 'A';\n    S[N] = 1;\n\n    int start = 0;\n    for(int i: RG(N))\n        if(S[N - 1 - i] != i % 2)\n        {\n            start = i;\n            break;\n        }\n\n    int L = N - 1 - start + 1;\n\n    int pos = 0;\n    int head = S[0];\n    int total = 0;\n    for(int i = 0; pos < L && i < K; i++, total++)\n    {\n        if(head == 0)\n            head ^= 1;\n        else \n        {\n            if((S[1 + pos] ^ ((pos & 1))) == head)\n                head ^= 1;\n            pos++;\n        }    \n    }\n\n\n    for(int i = 1; i < L; i++)\n    {\n        int len = L - i;\n        int to = i + min(pos, len);\n        ans[i] = 'A' + (S[to] ^ ((to - i) & 1));\n    }\n    \n    if(N & 1)\n        ans[0] = 'A' + (head ^ ((K - total) & 1));\n    else\n        ans[0] = 'A' + head;\n\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    WTL(ans);\n\n\n\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 3e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 2;\n\t\t\telse\n\t\t\t\tq[i] = 1;\n\t\t} else {\n\t\t\ta[i] = 1;\n\t\t\tif (i & 1)\n\t\t\t\tq[i] = 1;\n\t\t\telse\n\t\t\t\tq[i] = 2;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[w + i + 1] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[n - w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst int MAXN = 4 * 100 * 1000 + 1234;\nint n, k;\nstring s;\n\nchar rev(char c) {\n\treturn (c == 'A')? 'B': 'A';\n}\nstring gen(int c) {\n\tstring ss;\n\tif (c % 2 == 0)\n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += s[i + c];\n\telse \n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += rev(s[i + c]);\n\treturn ss;\n}\n\nstring prv(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\treturn s;\n}\n\nvoid out(string s) {\n\tif (s == \"\")\n\t\treturn ;\n\tfor (int i = 0; i < n; i++)\n\t\tputchar(s[i]);\n\texit(0);\n}\n\nsigned main() {\n\tcin >> n >> k;\n\tcin >> s;\n\tint ans[MAXN];\n\tchar ch[2] = {'B', 'A'};\n\tfor (int i = 0; i <= 2 * n + 100; i++)\n\t\ts += ch[i % 2];\n\tans[0] = (s[0] == ch[1]);\n\tfor (int i = 1; i <= n + 10; i++) {\n\t\tans[i] = ans[i - 1] + 1;\n//\t\tcerr << ans[i] << ' ' << s[i] << ' ' << ch[i & 1] << endl;\n\t\tans[i] += s[i] == ch[i % 2 ^ 1];\n\t}\n//\tfor (int i = 0; i <= n; i++)\n//\t\tcerr << i << ' ' << ans[i] << endl;\n\tfor (int i = 0; i <= n + 10; i++) {\n//\t\tcerr << i << ' ' << gen(i) << endl;\n\t\tif (k == ans[i]) \n\t\t\tout(prv(gen(i)));\n\t\telse if (k == ans[i] - 1)\n\t\t\tout(gen(i));\n\t}\n//\tcerr << \"yoho \" << ans[n] << endl;\n\tk -= ans[n + 1];\n\tk %= 2;\n\tif (k == 0 || n % 2 == 0)\n\t\tout(gen(n));\n\telse\n\t\tout(prv(gen(n)));\n}\n"
  },
  {
    "language": "C++",
    "code": "// #include {{{\n#include <iostream>\n#include <cassert>\n#include <cstring>\n#include <cstdlib>\n#include <cstdio>\n#include <cctype>\n#include <cmath>\n#include <ctime>\n#include <queue>\n#include <set>\n#include <map>\n#include <stack>\n#include <string>\n#include <bitset>\n#include <vector>\n#include <complex>\n#include <algorithm>\nusing namespace std;\n// }}}\n// #define {{{\ntypedef long long ll;\ntypedef double db;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n#define de(x) cout << #x << \"=\" << x << endl\n#define rep(i,a,b) for(int i=a;i<(b);++i)\n#define per(i,a,b) for(int i=(b)-1;i>=(a);--i)\n#define all(x) (x).begin(),(x).end()\n#define sz(x) (int)(x).size()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n// }}}\n\nint n , K;\nstring s;\ndeque<int> v;\n\nint main(){\n  cin >> n >> K >> s;\n  for(auto ch : s) v.pb(ch=='A'?0:1);\n  bool rev=false;\n  int times=0;\n  if(K<=2*n) times=K;\n  else times=2*n+(K&1);\n  rep(i,0,times) {\n    int c=rev^v.front();\n    v.pop_front();\n    if(c==0) v.push_front(rev^1);\n    else rev^=1,v.push_back(rev);\n  }\n  while(sz(v)) {\n    putchar(\"AB\"[rev^v.front()]);\n    v.pop_front();\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\nusing namespace std;\n\nchar a[200001];\nint b[200000];\nint c[100001];\nint d[100001];\n\nint main(void){\n\nfor (int i = 0; i < 100001; i++){\n\tb[i] = 0;\n\tc[i] = 0;\n\td[i] = 0;\n}\nint k;\nlong long s;\nint p, q;\nlong long n, m;\nlong long x, y, z;\n\ts = 0;\n\tq = 0;\n\tx = 0;\n\ty = 0;\n\tz = 0;\n\ts = 0;\n\tscanf(\"%lld %lld\", &n,&m);\n\tscanf(\"%s\", a);\n\tfor (int i = 0; i < n; i++){\n\t\tif (a[i] == 'A')b[i] = 1;\n\t\tif (a[i] == 'B')b[i] = 2;\n\t}\n\tz = 0;\n\tif (m > n + 1){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tif ((n + i) % 2 == 0)printf(\"B\");\n\t\t\telse  printf(\"A\");\n\t\t}\n\t\treturn 0;\n\t}\n\tfor (int i = 0; i < m&&i<n+1; i++){\n\t\ty = 0;\n\t\tfor (int j = 0; j < n; j++){\n\t\t\tif (y == 0){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\tb[j] = 2;\n\t\t\t\t\ty = 3;\n\t\t\t\t}\n\t\t\t\telse y = 1;\n\t\t\t}\n\t\t\tif (y == 1){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\ty = 2;\n\t\t\t\t}\n\t\t\t\telse b[j - 1] = 1;\n\t\t\t}\n\t\t\tif (y == 2){\n\t\t\t\tif (j < n - 1){\n\t\t\t\t\tif (b[j + 1] == 1){\n\t\t\t\t\t\tb[j] = (b[j] + 1) % 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 0; i < n; i++){\n   if(b[i]==1)printf(\"A\");\n   if (b[i] == 2)printf(\"B\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 200005;\nbitset<N> bs;\n\nchar s[N];\nint main(){\n\tint n, k;\n\t// n = 100000, k = 1000000000;\n\tscanf(\"%d %d\", &n, &k);\n\tscanf(\"%s\", s);\n\tfor(int i = 0; i < n; i++) if(s[i] == 'B') bs.set(i);\n\tint done = 0;\n\tint doneb = 0;\n\tfor(; doneb < n + 3 && done < k; done++){\n\t\tif(bs[0]){\n\t\t\tdoneb++;\n\t\t\tbs = (~(bs >> 1));\n\t\t\tbs.reset(n - 1);\n\t\t} else{\n\t\t\tbs.set(0);\n\t\t}\n\t}\n\tint rem = done - k;\n\tif((n == 1 || bs[1]) && (rem & 1)) bs.flip(0);\n\tfor(int i = 0; i < n; i++) printf(\"%c\", (bs[i] ? 'B' : 'A'));\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n      \n#define FOR(i,a,b) for( ll i = (a); i < (ll)(b); i++ )\n#define REP(i,n) FOR(i,0,n)\n#define YYS(x,arr) for(auto& x:arr)\n#define ALL(x) (x).begin(),(x).end()\n#define SORT(x) sort( (x).begin(),(x).end() )\n#define REVERSE(x) reverse( (x).begin(),(x).end() )\n#define UNIQUE(x) (x).erase( unique( ALL( (x) ) ) , (x).end() )\n#define PW(x) (1LL<<(x))\n#define SZ(x) ((ll)(x).size())\n#define SHOW(x) cout << #x << \" = \" << x << endl\n#define SHOWA(x,n) for( int yui = 0; yui < n; yui++ ){ cout << x[yui] << \" \"; } cout << endl\n\n#define pb emplace_back\n#define fi first\n#define se second\n\nusing namespace std;\n\ntypedef long double ld;\ntypedef long long int ll;\ntypedef pair<int,int> pi;\ntypedef pair<ll,ll> pl;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<bool> vb;\ntypedef vector<ld> vd;\ntypedef vector<pi> vpi;\ntypedef vector<pl> vpl;\ntypedef vector<vpl> gr;\ntypedef vector<vl> ml;\ntypedef vector<vd> md;\ntypedef vector<vi> mi;\n     \nconst ll INF = (ll)1e9 + 10;\nconst ll INFLL = (ll)1e18 + 10;\nconst ld EPS = 1e-12;\nconst ll MOD = 1e9+7;\n     \ntemplate<class T> T &chmin( T &a , const T &b ){ return a = min(a,b); }\ntemplate<class T> T &chmax( T &a , const T &b ){ return a = max(a,b); }\ntemplate<class T> inline T sq( T a ){ return a * a; }\n\nll in(){ long long int x; scanf( \"%lld\" , &x ); return x; }\nchar yuyushiki[1000010]; string stin(){ scanf( \"%s\" , yuyushiki ); return yuyushiki; }\n\n// head\n\nint n, k;\nstring s;\n\nint a[200010];\n\nint it = 0;\n\nint main(){\n\n  n = in();\n  k = in();\n  s = stin();\n\n  REP( i , n ){\n    if( s[i] == 'A' ){\n      a[i] = 0;\n    } else {\n      a[i] = 1;\n    }\n  }\n  a[n] = 1;\n  \n  while( k > 0 ){\n    if( it == n ){\n      if( n % 2 == 1 and k % 2 == 1 ){\n        a[n] = 0;\n      }\n      break;\n    }\n    if( ( a[it] + it ) % 2 == 0 ){\n      a[it] = 1 - a[it];\n    } else {\n      it++;\n    }\n    k--;\n  }\n  \n  REP( i , n ){\n    int c = it + i;\n    int x;\n    if( c > n ){\n      x = ( c - n + 1 + it )% 2;\n    } else {\n      x = ( a[c] + it ) % 2;\n    }\n    if( x == 0 ){\n      printf( \"A\" );\n    } else {\n      printf( \"B\" );\n    }\n  }\n  printf( \"\\n\" );\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint n, k;\ndeque<int> q;\nchar s[222222];\nbool rev;\nint main() {\n\tscanf(\"%d%d\", &n, &k); k %= n * 4;\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; ++i) q.push_back(s[i] == 'B');\n\twhile (k--) {\n\t\tint p = q.front(); q.pop_front();\n\t\tif (p ^ rev) {\n\t\t\trev ^= 1; q.push_back(rev);\n\t\t} else q.push_front(p ^ 1);\n\t}\n\twhile (!q.empty()) {\n\t\tprintf(\"%c\", (q.front() ^ rev) ? 'B' : 'A');\n\t\tq.pop_front();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nchar s[401000];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tbool ok = 1;\n\tfor(int i = 1; i <= n; i++)\n\t\tif(s[i] == 'A') {ok = 0; break;} \n\tif(ok)\n\t{\n\t\tk--;\n\t\tfor(int i = 1; i <= n; i++)\n\t\t\ts[i] = 'A';\n\t}\n\tint h = 1, t = 0;\n\tif(n == 1) t = k & 1;\n\telse\n\t\twhile(k--)\n\t\t{\n\t\t\tif(h > n) break;\n\t\t\tif(t) s[h] = s[h] == 'A' ? 'B' : 'A';\n\t\t\tif(s[h] == 'B')\n\t\t\t{\n\t\t\t\tt ^= 1;\n\t\t\t\tif(t == 1) s[n + h] = 'B';\n\t\t\t\telse s[n + h] = 'A';\n\t\t\t\th++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(t == 1) s[h] = 'A';\n\t\t\t\telse s[h] = 'B';\n\t\t\t}\n\t\t}\n\tif(t)\n\t{\n\t\tfor(int i = h; i < h + n; i++)\n\t\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t}\n\tif(k >= 0 && (k & 1) && s[h] == 'A') s[h] = 'B';\n\tprintf(\"%s\\n\", s + h);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0&&n%2==1){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tif(k>=2*n){\n\t\tint t=(k-2*n)%2;\n\t\tif(n%2==1&&t==1)\t\n\t\t\tp[1]='A'+'B'-p[1];\n\t\tfor(int i=2;i<=n;i++)\n\t\t\tp[i]='B'-(n-i+1)%2;\n\t}\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "// Copyright (C) 2017 __debug.\n\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License as\n// published by the Free Software Foundation; version 3\n\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n\n// You should have received a copy of the GNU General Public License\n// along with this program; If not, see <http://www.gnu.org/licenses/>.\n\n\n#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/priority_queue.hpp>\n\n#define x first\n#define y second\n#define MP std::make_pair\n#define SZ(x) ((int)(x).size())\n#define ALL(x) (x).begin(), (x).end()\n#define DEBUG(...) fprintf(stderr, __VA_ARGS__)\n#ifdef __linux__\n#define getchar getchar_unlocked\n#define putchar putchar_unlocked\n#endif\n\nusing std::pair;\nusing std::vector;\nusing std::string;\n\ntypedef long long LL;\ntypedef pair<int, int> Pii;\n\nconst int oo = 0x3f3f3f3f;\n\ntemplate<typename T> inline bool chkmax(T &a, T b) { return a < b ? a = b, true : false; }\ntemplate<typename T> inline bool chkmin(T &a, T b) { return b < a ? a = b, true : false; }\nstring procStatus()\n{\n    std::ifstream t(\"/proc/self/status\");\n    return string(std::istreambuf_iterator<char>(t), std::istreambuf_iterator<char>());\n}\ntemplate<typename T> T read(T &x)\n{\n    int f = 1;\n    char ch = getchar();\n    for (; !isdigit(ch); ch = getchar())\n        f = (ch == '-' ? -1 : 1);\n    for (x = 0; isdigit(ch); ch = getchar())\n        x = 10 * x + ch - '0';\n    return x *= f;\n}\ntemplate<typename T> void write(T x)\n{\n    if (x == 0) {\n        putchar('0');\n        return;\n    }\n    if (x < 0) {\n        putchar('-');\n        x = -x;\n    }\n    static char s[20];\n    int top = 0;\n    for (; x; x /= 10)\n        s[++top] = x % 10 + '0';\n    while (top)\n        putchar(s[top--]);\n}\n// EOT\n\nconst int MAXN = 2e5 + 5;\n\nint N, K;\nchar S[MAXN];\n\nvoid input()\n{\n    read(N); read(K);\n    scanf(\"%s\", S + 1);\n}\n\nvoid solve()\n{\n    if (K < N) {\n        std::deque<int> A;\n        int flip = 0;\n\n        for (int i = 1; i <= N; ++i) {\n            A.push_back(S[i] - 'A');\n        }\n        for (int i = 1; i <= N; ++i) {\n            if (flip ^ A.front()) {\n                A.pop_front();\n                A.push_back(!flip);\n                flip ^= 1;\n            } else\n                A.front() ^= 1;\n\n            if (K == i) {\n                for (auto x: A) {\n                    putchar((x ^ flip) + 'A');\n                }\n                puts(\"\");\n                break;\n            }\n        }\n\n        return;\n    }\n\n    K -= N;\n    if (N & 1) {\n        putchar((K & 1) + 'A');\n        for (int i = 1; i < N; ++i) {\n            putchar((i & 1) + 'A');\n        }\n    } else {\n        for (int i = 1; i <= N; ++i) {\n            putchar((i & 1) + 'A');\n        }\n    }\n    puts(\"\");\n}\n\nint main()\n{\n#ifdef __DEBUG\n    freopen(\"D.in\", \"r\", stdin);\n    freopen(\"D.out\", \"w\", stdout);\n#endif\n\n    input();\n    solve();\n\n    return 0;\n}\n\n// 吝啬原则：除非别无他法，不要编写庞大的程序。\n//     -- UNIX哲学基础第六条，《UNIX编程艺术》by ESR\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<string.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\n\n#define REP(i,n) for(int i=0, i##_len=(n); i<i##_len; ++i)\n#define EACH(i,c) for(__typeof((c).begin()) i=(c).begin(),i##_end=(c).end();i!=i##_end;++i)\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n\ntemplate<class T> inline void amin(T &x, const T &y) { if (y<x) x=y; }\ntemplate<class T> inline void amax(T &x, const T &y) { if (x<y) x=y; }\ntemplate<class Iter> void rprintf(const char *fmt, Iter begin, Iter end) {\n    for (bool sp=0; begin!=end; ++begin) { if (sp) putchar(' '); else sp = true; printf(fmt, *begin); }\n    putchar('\\n');\n}\n\nint N, K;\nchar S[400011];\n\nchar get(char c, bool flip) {\n    if (c == 'A') return flip? 'B': 'A';\n    return flip? 'A': 'B';\n}\n\nvoid MAIN() {\n    scanf(\"%d%d%s\", &N, &K, S);\n\n    int pos = 0;\n    bool flip = false;\n    while (pos < N && K) {\n\tchar cur = get(S[pos], flip);\n\n\tif (cur == 'A') {\n\t    S[pos] = get(S[pos], true);\n\t    K--;\n\t} else {\n\t    K--;\n\t    S[pos+N] = get('B', flip);\n\t    pos++;\n\t    flip = !flip;\n\t}\n    }\n    REP (i, N) {\n\tS[i] = get(S[i+pos], flip);\n    }\n    S[N] = 0;\n    if (K >= 3) {\n\tK = (K-3)%2 + 3;\n    }\n    REP (k, K) {\n\tpos = 0;\n\tint from = -1;\n\twhile (0 <= pos && pos < N) {\n\t    if (S[pos] == 'A') {\n\t\tS[pos] = 'B';\n\t\tpos += from;\n\t\tfrom = -from;\n\t    } else {\n\t\tS[pos] = 'A';\n\t\tpos -= from;\n\t    }\n\t}\n    }\n    puts(S);\n}\n\nint main() {\n    int TC = 1;\n//    scanf(\"%d\", &TC);\n    REP (tc, TC) MAIN();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#define rep(i, a, b) for (int i = a; i <= b ; ++ i) \nconst int N = 8e5 + 5 ; \nusing namespace std ;\nint n, k, a[N] ; char s[N] ;\nint main() {\n\tscanf(\"%d%d%s\", &n, &k, s + 1) ;\n\trep(i, 1, n) a[i] = (s[i] == 'A') ^ (i & 1) ;\n\tint he = 1, ta = n, c = (n & 1) ^ 1 ;\n\trep(i, 1, min(2 * n, k)) if (a[he] & 1) ++ he, a[++ ta] = c ; else a[he] ^= 1 ;\n\tif (k > 2 * n) {\n\t\tif ((n & 1) && (k & 1)) a[he] ^= 1 ;\n\t}\n\trep(i, he, ta) printf((a[i] ^ ((i - he + 1) & 1)) ? \"A\" : \"B\") ;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n \n#define DEBUG(x) cerr<<#x<<\": \"<<x<<endl;\n#define DEBUG_VEC(v) cerr<<#v<<\":\";for(int i=0;i<v.size();i++) cerr<<\" \"<<v[i]; cerr<<endl;\n#define DEBUG_MAT(v) cerr<<#v<<endl;for(int i=0;i<v.size();i++){for(int j=0;j<v[i].size();j++) {cerr<<v[i][j]<<\" \";}cerr<<endl;}\ntypedef long long ll;\n#define int ll\n \n#define vi vector<int>\n#define vl vector<ll>\n#define vii vector< vector<int> >\n#define vll vector< vector<ll> >\n#define vs vector<string>\n#define pii pair<int,int>\n#define pis pair<int,string>\n#define psi pair<string,int>\n#define pll pair<ll,ll>\ntemplate<class S, class T> pair<S, T> operator+(const pair<S, T> &s, const pair<S, T> &t) { return pair<S, T>(s.first + t.first, s.second + t.second); }\ntemplate<class S, class T> pair<S, T> operator-(const pair<S, T> &s, const pair<S, T> &t) { return pair<S, T>(s.first - t.first, s.second - t.second); }\ntemplate<class S, class T> ostream& operator<<(ostream& os, pair<S, T> p) { os << \"(\" << p.first << \", \" << p.second << \")\"; return os; }\n#define X first\n#define Y second\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define rep1(i,n) for(int i=1;i<=(int)(n);i++)\n#define rrep(i,n) for(int i=(int)(n)-1;i>=0;i--)\n#define rrep1(i,n) for(int i=(int)(n);i>0;i--)\n#define REP(i,a,b) for(int i=a;i<b;i++)\n#define in(x, a, b) (a <= x && x < b)\n#define all(c) c.begin(),c.end()\ntemplate<class T> bool chmax(T &a, const T &b) { if (a<b) { a = b; return 1; } return 0; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a>b) { a = b; return 1; } return 0; }\n#define UNIQUE(v) v.erase(std::unique(v.begin(), v.end()), v.end());\nconst ll inf = 1000000001;\nconst ll INF = (ll)1e18 + 1;\nconst long double pi = 3.1415926535897932384626433832795028841971L;\n#define Sp(p) cout<<setprecision(25)<< fixed<<p<<endl;\n// int dx[4] = {1, 0, -1, 0}, dy[4] = {0, 1, 0, -1};\n// int dx2[8] = { 1,1,0,-1,-1,-1,0,1 }, dy2[8] = { 0,1,1,1,0,-1,-1,-1 };\nvi dx = {1, 0, -1, 0}, dy = {0, 1, 0, -1};\n// vi dx2 = { 1,1,0,-1,-1,-1,0,1 }, dy2 = { 0,1,1,1,0,-1,-1,-1 };\n#define fio() cin.tie(0); ios::sync_with_stdio(false);\nconst ll MOD = 1000000007;\n// const ll MOD = 998244353;\n// #define mp make_pair\n//#define endl '\\n'\n\n\nsigned main() {\n    ll n, k;\n    cin >> n >> k;\n    deque<int> deq;\n    rep (i, n) {\n        char c;\n        cin >> c;\n        deq.push_back(c - 'A');\n    }\n\n    if (n == 1) {\n        if (k % 2 == 0) {\n            cout << (char)('A' + deq[0]) << endl;\n        }\n        else {\n            cout << (char)('A' + 1 - deq[0]) << endl;\n        }\n        return 0;\n    }\n\n\n    int cnt = 0;\n    bool turn = true;\n    while (k > 0) {\n        if (cnt == 10000000) break;\n        if (turn ^ (deq[0] != 0)) {\n            deq[0] = 1 - deq[0];\n        }\n        else {\n            deq.pop_front();\n            turn = !turn;\n            if (turn) deq.push_back(0);\n            else deq.push_back(1);\n        }\n        cnt++;\n        k--;\n    }\n\n    if (not turn) {\n        rep (i, n) deq[i] = 1 - deq[i];\n    }\n\n    if (k == 0) {\n        rep (i, n) {\n            cout << (char)('A' + deq[i]);\n        }\n        cout << endl;\n        return 0;\n    }\n\n\n    // DEBUG_VEC(deq);\n    // DEBUG(k);\n\n    int state;\n    if (n % 2 == 0) {\n        if (deq[0] == 1) state = 0;\n        else state = 1;\n    }\n    else {\n        if (deq[0] == 0) state = 0;\n        else state = 1;\n    }\n\n    state = (state + k) % 2;\n    string ans;\n    rep (i, n) ans += 'A' + i % 2;\n    reverse(all(ans));\n\n    if (n % 2 == 1 and state == 1) {\n        if (ans[0] == 'A') ans[0] = 'B';\n        else ans[0] = 'A';\n    }\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <cmath>\nusing namespace std;\n\nconst int MaxN = 200000;\n\nint n, m;\nint a[MaxN];\n\nchar s[MaxN + 1];\n\nint all_xor = 0;\nint sv = 0;\n\ninline void simulate()\n{\n\tif (a[sv] ^ all_xor ^ 1)\n\t\ta[sv] ^= 1;\n\telse\n\t{\n\t\tall_xor ^= 1;\n\t\t++sv %= n;\n\t}\n}\n\nint main()\n{\n\tcin >> n >> m >> s;\n\n\tfor (int i = 0; i < n; ++i)\n\t\ta[i] = s[i] - 'A';\n\n\tint turns = min((n << 1) + (m & 1), m);\n\twhile (turns--)\n\t\tsimulate();\n\n\tfor (int i = 0; i < n; ++i)\n\t\tputchar((a[(sv + i) % n] ^ all_xor) + 'A');\n\tputchar('\\n');\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<iostream>\n#include<vector>\n#include<set>\n#include<map>\n#include<bitset>\n#include<cmath>\n#include<string>\n\n#define ls (t<<1)\n#define rs ((t<<1)+1)\n#define mid ((l+r)>>1)\n#define fi first\n#define se second\n#define mk make_pair\n#define pb push_back\n\n#define N 200005\n#define M 2000005\n#define seed 23333\n#define mo 1000000007\n\nusing namespace std;\nint pw[N],i,j,m,n,p,k,l=1000000,r=999999,zh,fa,start;\nchar c[N];\nint now[M];\nmap<int,int>mp;\nvoid print()\n{\n\t\tfor (i=l;i<=r;++i)\n\t\t\tfor (j=1;j<=now[i];++j)\n\t\t\t\tprintf(\"%c\",'A'+(start^((i-l)&1)));\t\n}\nvoid jia(int &x,int y)\n{\n\t\tx+=y; if (x>=mo) x-=mo;\n}\nvoid jian(int &x,int y)\n{\n\t\tx-=y; if (x<0) x+=mo;\n}\nvoid work()\n{\n\t\tif (!start)\n\t\t{\n\t\t\t\tstart^=1;\n\t\t\t\tjia(zh,pw[n-1]);\n\t\t\t\tjian(fa,pw[n-1]); \n\t\t\t\tif (now[l]==1)\n\t\t\t\t{ \n\t\t\t\t\tnow[l+1]+=now[l];\n\t\t\t\t\t++l;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t--now[l];\n\t\t\t\t\tnow[--l]=1;\n\t\t\t\t}\n\t\t}\n\t\telse \n\t\t{\n\t\t\t\tstart^=1;\n\t\t\t\tjian(zh,pw[n-1]);\n\t\t\t\tswap(zh,fa);\n\t\t\t\tzh=1ll*zh*seed%mo;\n\t\t\t\tfa=1ll*fa*seed%mo;\n\t\t\t\tjia(fa,1);\n\t\t\t\tif (now[l]==1) \n\t\t\t\t{\n\t\t\t\t\t\tstart^=1;\n\t\t\t\t\t\t++l;\n\t\t\t\t}\n\t\t\t\telse \n\t\t\t\t{\n\t\t\t\t\t\t--now[l];\n\t\t\t\t}\n\t\t\t\tif (((r-l)&1)^start) now[++r]=1;\n\t\t\t\telse now[r]++;\n\t\t}\n}\nint main()\n{\n\t\tscanf(\"%d%d\",&n,&k);\n\t\tscanf(\"%s\",c+1);\n\t\tpw[0]=1;\n\t\tfor (i=1;i<N;++i) pw[i]=1ll*pw[i-1]*seed%mo; \n\t\tfor (i=1;i<=n;++i) \n\t\t\t\tif (c[i]==c[i-1]) ++now[r];\n\t\t\t\telse now[++r]=1;\n\t\tstart=(c[1]=='B');\n\t\tfor (i=1;i<=n;++i)\n\t\t{\n\t\t\t\tzh=(1ll*zh*seed%mo+(c[i]=='B'))%mo;\n\t\t\t\tfa=(1ll*fa*seed%mo+(c[i]=='A'))%mo;\n\t\t}\n\t\tfor (i=0;i<k;++i)\n\t\t{\n\t\t\t\tif (mp.find(zh)!=mp.end()) break;\n\t\t\t\tmp[zh]=i;\n\t\t\t\twork();\n\t\t}\n\t\tif (i<k)\n\t\t{\n\t\t\t\tint period=i-mp[zh];\n\t\t\t\tk-=i;\n\t\t\t\tk%=period;\n\t\t\t\tfor (i=1;i<=k;++i) work();\n\t\t}\n\t\tprint();\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[444444];\nint D[444444];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tif(n==1){\n\t\tprintf(\"%c\\n\",(s[0]-'A'+k)%2==0?'A':'B');\n\t\treturn 0;\n\t}\n\n\tfor(i=n;i<n+n;i++) s[i] = (i-n+1)%2+'A';\n\n\tfor(j=0,i=1;i<=k;i++){\n\t\tif((s[j]-'A'+j)%2 == 0) s[j] = 'B'-s[j]+'A';\n\t\telse j++;\n\t\tif(j>=n) break;\n\t}\n\n\tfor(i=j;i<j+n;i++) printf(\"%c\",(s[i]-'A'+j)%2+'A');\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <iostream>\nusing namespace std;\n\n\nint main () {\n    int n, k;\n    char s[200001];\n    scanf(\"%d%d\", &n, &k);\n    scanf(\"%s\", s);\n    \n    for (int i = 0; i < strlen(s) && i < k; i++) {\n        if (s[0] == 'A') {\n            s[0] = 'B';\n            continue;\n        }\n        for (int j = 0; j < strlen(s); j++) {\n            while (j + 1 < strlen(s) && s[j + 1] == 'B') {\n                s[j++] = 'A';\n            }\n            if (j + 1 == strlen(s)) {\n                s[j] = 'A';\n                break;\n            }\n            j++;\n            while (j + 1 < strlen(s) && s[j + 1] == 'A') {\n                s[j++] = 'B';\n            }\n            j++;\n        }\n    }\n    printf(\"%s\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i, a, b) for(int i = a; i <= b; ++i)\nusing namespace std;\nconst int MAXN=200000+10;\nchar s[MAXN], h[MAXN];\nint n, m;\nint l, k,cnt,num;\nint main(){\n\tcin >> n >> k;\n\trep(i, 1, n) cin >> s[i]; \n    rep(i, 1, n) {\n\t\tif (s[i] == 'A') s[i] = '1'; \n\t\telse s[i] = '0';\n    }\n\tint i = 1;\n    for (l = 1; l <= n + n + 10; ++l) {\n        int t = s[i]-'0';\n        if (t ^ cnt) s[i] = (1 - t) + '0';\n        else{\n            cnt ^= 1;\n            num ^= 1;\n            ++i;\n        }\n        if (l == k) {\n            rep(j, i, n){\n                t = s[j] - '0';\n                if (t ^ cnt) cout<<\"A\";\n\t\t\t\telse cout<<\"B\";\n            }\n            rep(j, 1, i - 1) {\n                if (num) cout<<\"A\";\n\t\t\t\telse cout<<\"B\";\n                num ^= 1;\n            }\n        }\n        if (i > n) break;\n    }\n    if (l < k) {\n        if (!num) {\n            rep(i, 1, n) {\n                if (i % 2 == 1) cout<<\"B\";\n\t\t\t\telse cout<<\"A\";\n\t\t\t}\n\t\t\tcout<<\"\\n\";\n            return 0;\n        }\n        rep(i, 1, n) {\n            if (num) h[i] = 'A';\n\t\t\telse h[i] = 'B';\n            num ^= 1;\n        }\n        if (l % 2 != k % 2) {\n            if (h[1] =='A') h[1] = 'B';\n\t\t\telse h[1] = 'A';\n        }\n        rep(i, 1, n) cout<<h[i];\n        cout<<\"\\n\";\n        return 0;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define MAXN 200000\nusing namespace std;\nchar str[MAXN+5],ans[MAXN+5];\nchar inv[200];\nint N,K,seq[MAXN+5];\nint main()\n{\n\tinv['A']='B',inv['B']='A';\n\tscanf(\"%d %d\",&N,&K);\n\tscanf(\"%s\",str+1);\n\tfor(int i=1;i<=N;i++)\n\t\tseq[i]=str[i]-'A';\n\tint mv=0,turn=0;\n\twhile(mv<N)\n\t{\n\t\tK--;\n\t\tif((seq[mv+1]^turn)==0)\n\t\t{\n\t\t\tseq[mv+1]^=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmv++;\n\t\t\tturn^=1;\n\t\t}\n\t\tif(K==0)\n\t\t\tbreak;\n\t}\n\tint len=0;\n\tfor(int i=mv+1;i<=N;i++)\n\t{\n\t\tif(seq[i]^turn)\n\t\t\tans[++len]='B';\n\t\telse\n\t\t\tans[++len]='A';\n\t}\n\tif(K==0||N%2==0)\n\t{\n\t\tfor(int i=1;i<=mv;i++)\n\t\t\tif((i%2)^(turn))\n\t\t\t\tans[++len]='B';\n\t\t\telse\n\t\t\t\tans[++len]='A';\n\t\tprintf(\"%s\\n\",ans+1);\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=N;i++)\n\t\tif(i%2)\n\t\t\tans[++len]='A';\n\t\telse\n\t\t\tans[++len]='B';\n\tif((K-N)%2==1)\n\t\tans[1]='B';\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//              +-- -- --++-- +-In the name of ALLAH-+ --++-- -- --+              \\\\\n\n#include <bits/stdc++.h>\n\n#define F first\n#define S second\n#define _sz(x) (int)x.size()\n#define pb push_back\n\n#define error(x) cout << #x << \" = \" << x << endl\n\nusing namespace std ;\nusing ll = long long ;\nusing ld = long double ;\nusing pii = pair <int , int> ;\n\nconst int N = 2e5 + 20;\nint n, k;\nint sum = 0;\nstring s;\n\nint main()\n{\n\tios::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n\n\tcin >> n >> k;\n\tcin >> s;\n\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tif ((i & 1) ^ (s[i] == 'A')) sum++;\n\n\t\tif (sum == k)\n\t\t{\n\t\t\tstring ans = \"\";\n\n\t\t\tfor (int j = i; j < n; j++)\n\t\t\t{\n\t\t\t\tchar c = s[j];\n\t\t\t\tif (i & 1) c = 'A' + 'B' - c;\n\t\t\t\tif (j == i) c = 'B';\n\t\t\t\tans += c;\n\t\t\t}\n\n\t\t\tfor (int j = 0; j < i; j++) ans += \".\";\n\n\t\t\tchar c = 'A';\n\t\t\tfor (int j = n - 1; j >= n - i; j--)\n\t\t\t{\n\t\t\t\tans[j] = c;\n\t\t\t\tc = 'A' + 'B' - c;\n\t\t\t}\n\n\t\t\tcout << ans << '\\n';\n\t\t\treturn 0;\n\t\t}\n\n\t\tsum++;\n\t\n\t\tif (sum == k)\n\t\t{\n\t\t\tstring ans = \"\";\n\n\t\t\tfor (int j = i + 1; j < n; j++)\n\t\t\t{\n\t\t\t\tchar c = s[j];\n\t\t\t\tif ((i + 1) & 1) c = 'A' + 'B' - c;\n\t\t\t\tans += c;\n\t\t\t}\n\n\t\t\tfor (int j = 0; j < i + 1; j++) ans += \".\";\n\n\t\t\tchar c = 'A';\n\t\t\tfor (int j = n - 1; j >= n - i - 1; j--)\n\t\t\t{\n\t\t\t\tans[j] = c;\n\t\t\t\tc = 'A' + 'B' - c;\n\t\t\t}\n\n\t\t\tcout << ans << '\\n';\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tk -= sum;\n\n\tif (!(n & 1)) {\n\t\tchar c = 'B';\n\t\tstring ans = \"\";\n\t\t\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tans += c;\n\t\t\tc = 'A' + 'B' - c;\n\t\t}\n\n\t\tcout << ans << '\\n';\n\t\treturn 0;\n\t}\n\telse \n\t{\n\t\tchar c = 'A';\n\t\tstring ans = \"\";\n\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tans += c;\n\t\t\tc = 'A' + 'B' - c;\n\t\t}\n\n\t\tif (k & 1) ans[0] = 'B';\n\n\t\tcout << ans << '\\n';\n\t\treturn 0;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#endif\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long double ld;\n\n#ifdef DEBUG\n#define eprintf(...) fprintf(stderr, __VA_ARGS__), fflush(stderr)\n#else\n#define eprintf(...) ;\n#endif\n\n#define sz(x) ((int) (x).size())\n#define TASK \"text\"\n\nconst int inf = (int) 1.01e9;\nconst ld eps = 1e-9;\nconst ld pi = acos((ld) -1);\n\nmt19937 mrand(random_device{} ()); \n\nint rnd(int x) {\n  return mrand() % x;\n}\n\nvoid precalc() {\n}\n\nconst int maxn = (int) 2e5 + 5;\nint n, k;\nchar tmp[maxn];\nint a[maxn];\n\nint read() {\n  if (scanf(\"%d%d\", &n, &k) < 2) {\n    return false;\n  }\n  scanf(\"%s\", tmp);\n  for (int i = 0; i < n; i++) {\n    a[i] = tmp[i] - 'A';\n  }\n  return true;\n}\n\nvoid solve() {\n  int pos = 0;\n  int toxor = 0;\n  while (k && pos != n) {\n    if (a[pos] ^ toxor) {\n      pos++;\n      toxor ^= 1;\n    } else {\n      a[pos] ^= 1;\n    }\n    k--;\n  }\n  if (!k) {\n    for (int i = 0; i < n; i++) {\n      tmp[i] = 'A' + (a[i] ^ toxor);\n    }\n    rotate(tmp, tmp + pos, tmp + n);\n    printf(\"%s\\n\", tmp);\n    return;\n  }\n  pos = 0;\n  if (!(a[pos] ^ toxor)) {\n    while (k && pos != n) {\n      if (a[pos] ^ toxor) {\n        pos++;\n        toxor ^= 1;\n      } else {\n        a[pos] ^= 1;\n      }\n      k--;\n    }\n    if (!k) {\n      for (int i = 0; i < n; i++) {\n        tmp[i] = 'A' + (a[i] ^ toxor);\n      }\n      rotate(tmp, tmp + pos, tmp + n);\n      printf(\"%s\\n\", tmp);\n      return;\n    }\n    pos = 0;\n  }\n  assert(a[pos] ^ toxor);\n  if (n & 1) {\n    k %= 2;\n  } else {\n    k %= 1;\n  }\n  while (k) {\n    if (a[pos] ^ toxor) {\n      pos++;\n      if (pos == n) {\n        pos = 0;\n      }\n      toxor ^= 1;\n    } else {\n      a[pos] ^= 1;\n    }\n    k--;\n  }\n  for (int i = 0; i < n; i++) {\n    tmp[i] = 'A' + (a[i] ^ toxor);\n  }\n  rotate(tmp, tmp + pos, tmp + n);\n  printf(\"%s\\n\", tmp);\n}\n\nint main() {\n  precalc();\n#ifdef DEBUG\n  assert(freopen(TASK \".in\", \"r\", stdin));\n  assert(freopen(TASK \".out\", \"w\", stdout));\n#endif\n  while (read()) {\n    solve();\n#ifdef DEBUG\n    eprintf(\"Time %.2f\\n\", (double) clock() / CLOCKS_PER_SEC);\n#endif\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\nusing namespace std;\ndeque<char> deq,ans;\nint k;\nvoid ins(){\n\twhile(deq.size()>=2){\n\t\tint x = deq.size();\n\t\tif(deq[x-2]=='B' && deq[x-1]=='A'){\n\t\t\tans.push_back('B'); ans.push_back('A');\n\t\t\tdeq.pop_back(); deq.pop_back();\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nvoid simple(){\n\tint i;\n\tk--;\n\tif(deq[0]=='A'){\n\t\tdeq[0] = 'B';\n\t\t//ins();\n\t\treturn;\n\t}\n\tfor(i=0;i<deq.size();i++){\n\t\tif(i!=deq.size() - 1){\n\t\t\tif(deq[i]=='B' && deq[i+1]=='B') deq[i] = 'A';\n\t\t\tif(deq[i]=='A' && deq[i+1]=='A') deq[i] = 'B';\n\t\t}else{\n\t\t\tdeq[i] = 'A';\n\t\t}\n\t}\n\t//ins();\n}\n\nvoid solve(){\n\tif(deq[0]=='A'){\n\t\tdeq[0] = 'B';\n\t\tk--;\n\t}else{\n\t\tdeq.pop_front(); deq.pop_front();\n\t\tans.push_back('B'); ans.push_back('A');\n\t\tif(deq[1]=='B') k -= 3;\n\t\telse k -= 2;\n\t}\n}\n\nint main(){\n\tint i,n;\n\tcin >> n >> k;\n\tfor(i=0;i<n;i++){\n\t\tchar c; cin >> c;\n\t\tdeq.push_back(c);\n\t}\n\tfor(i=0;i<2;i++){\n\t\tif(deq.back()=='B') simple();\n\t}\n\twhile(deq.size()>=2 && k>0){\n\t\tif(k>3) solve();\n\t\telse simple();\n\t}\n\tif(k==0){\n\t\tfor(i=0;i<deq.size();i++){\n\t\t\tcout << deq[i];\n\t\t}\n\t\tfor(i=0;i<ans.size();i++){\n\t\t\tcout << ans[i];\n\t\t}\n\t}else{\n\t\tif(deq.size()){\n\t\t\tif(k&1){\n\t\t\t\tif(deq[0]=='A') cout << 'B';\n\t\t\t\telse cout << 'A';\n\t\t\t}else{\n\t\t\t\tcout << deq[0];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<ans.size();i++){\n\t\t\tcout << ans[i];\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define MAXN 200000\nusing namespace std;\nchar str[MAXN+5],ans[MAXN+5];\nchar inv[200];\nint N,K,seq[MAXN+5];\nint main()\n{\n\tinv['A']='B',inv['B']='A';\n\tscanf(\"%d %d\",&N,&K);\n\tscanf(\"%s\",str+1);\n\tfor(int i=1;i<=N;i++)\n\t\tseq[i]=str[i]-'A';\n\tint mv=0,turn=0;\n\twhile(mv<N)\n\t{\n\t\tK--;\n\t\tif((seq[mv+1]^turn)==0)\n\t\t{\n\t\t\tseq[mv+1]^=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmv++;\n\t\t\tturn^=1;\n\t\t}\n\t\tif(K==0)\n\t\t\tbreak;\n\t}\n\tint len=0;\n\tfor(int i=mv+1;i<=N;i++)\n\t{\n\t\tif(seq[i]^turn)\n\t\t\tans[++len]='B';\n\t\telse\n\t\t\tans[++len]='A';\n\t}\n\tif(K==0||N%2==0)\n\t{\n\t\tfor(int i=1;i<=mv;i++)\n\t\t\tif((i%2)^(turn))\n\t\t\t\tans[++len]='B';\n\t\t\telse\n\t\t\t\tans[++len]='A';\n\t\tprintf(\"%s\\n\",ans+1);\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=N;i++)\n\t\tif(i%2)\n\t\t\tans[++len]='A';\n\t\telse\n\t\t\tans[++len]='B';\n\tif(K%2==1)\n\t\tans[1]='B';\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}\n/*\n5 15\nABABA\n\n*/"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\n#include<stack>\n#define maxn 200050\n#define maxint ~0U>>1\n\nstd::stack<int> sta;\nstd::vector<int> comp[maxn];\nint incomp[maxn],instack[maxn],dfn[maxn],low[maxn];\nint index,cnum;\nint n,m,q,d[maxn],rice[maxn],noodle[maxn],v[maxn],s,p,ans,dis[maxn];\nbool jud[maxn];\nstd::vector<int> g[maxn],nowg[maxn];\nint nowrice[maxn],nownoodle[maxn],nows;\nvoid input(){\n    std::cin>>n>>m;\n    int u,v;\n    for(int i = 1;i <= m;i++){\n        scanf(\"%d%d\",&u,&v);\n        g[u].push_back(v);\n    }\n}\nvoid tarjan(int u){\n    instack[u] = 2;\n    dfn[u] = low[u] = ++index;\n    sta.push(u);\n    for(int i = 0;i < g[u].size();i++){\n        int j = g[u][i];\n        if(!dfn[j]){\n            tarjan(j);\n            low[u] = std::min(low[u],low[j]);\n        }else if(instack[j] == 2){\n            low[u] = std::min(low[u],dfn[j]);\n        }\n    }\n    if(dfn[u] == low[u]){\n        ++cnum;\n        while(!sta.empty()){\n            int t = sta.top();\n            sta.pop();\n            instack[t] = 1;\n            incomp[t] = cnum;\n            comp[cnum].push_back(t);\n            if(t == u){\n                break;\n            }\n        }\n    }\n}\nvoid work(){\n    for(int i = 1;i <= n;i++){\n        if(!dfn[i]) tarjan(i);\n    }\n    int u,v,newu,newv;\n    for(int i = 1;i <= n;i++){\n        u = i;\n        newu = incomp[u];\n        nowrice[newu] += 1;\n        for(int j = 0;j < g[u].size();j++){\n            v = g[u][j];\n            newv = incomp[v];\n            if(newu == newv) continue;\n            nowg[newu].push_back(newv);\n        }\n    }\n}\nvoid dfs(int x){\n    if(nowg[x].size() == 0){\n        dis[x] = nowrice[x];\n        return;\n    }\n    for(int i = 0;i < nowg[x].size();i++){\n        if(!dis[nowg[x][i]]) dfs(nowg[x][i]);\n        dis[x] = std::max(dis[x],dis[nowg[x][i]] + nowrice[x]);\n    }\n    return;\n}\nvoid spfa(){\n    memset(dis,0,sizeof(dis));\n    for(int i = 1;i <= cnum;i++){\n        if(!dis[i]) dfs(i);\n    }\n\n}\nint main(){\n    input();\n    work();\n    spfa();\n    int ansnow = 0;\n    for(int i = 1;i <= cnum;i++){\n        ansnow = std::max(ansnow,dis[i]);\n    }\n    std::cout<<ansnow;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int N = 2e5+5;\nint n, k, p;\nchar s[N];\nint main()\n{\n    scanf(\"%d%d%s\", &n, &k, s+1);\n    for(p = n-1; p >= 1&&s[p+1]== 'A'&&s[p] == 'B'; p -= 2); p += 2;\n    for( ; k&&p > 2; --k)\n    {\n        if(s[1] == 'A') s[1] = 'B';\n        else\n        {\n            for(int i = 1; i <= n; ++i)\n            {\n                if(s[i] == 'B'&&s[i+1] != 'A') s[i] = 'A';\n                else for( ; s[i+1] == 'A'; ++i) s[i] = 'B';\n            }\n            for(p = n-1; p >= 1&&s[p+1]== 'A'&&s[p] == 'B'; p -= 2); p += 2;\n        }\n    }\n    if(k&&(n&1)) s[1] += k&1;\n    printf(\"%s\\n\", s+1);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=int(a);i<int(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n\n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=int(a)-1;i>=int(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n\n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n#define popcount(n) (__builtin_popcountll(n))\n\nusing namespace std;\n\ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n\nusing ll=long long;\nusing R=long double;\nconst R EPS=1e-9L; // [-1000,1000]->EPS=1e-8 [-10000,10000]->EPS=1e-7\ninline int sgn(const R& r){return(r > EPS)-(r < -EPS);}\ninline R sq(R x){return sqrt(max(x,0.0L));}\n\nconst int dx[8]={1,0,-1,0,1,-1,-1,1};\nconst int dy[8]={0,1,0,-1,1,1,-1,-1};\n\n// Problem Specific Parameter:\n\nstring s;\nconst char ab=('A'^'B');\n\nint ball(int i,int p){\n\tif(s[i]=='A'){\n\t\ts[i]='B';\n\t\treturn p;\n\t}else{\n\t\ts[i]='A';\n\t\treturn 1LL*2*i-p;\n\t}\n}\n\nconst int all=10000;\n\nint main(void){\n\tint n,k;\n\tcin >> n >> k >> s;\n\n\trep(loop,min(all,k)){\n\t\tint cur=0,prv=-1;\n\t\twhile(1){\n\t\t\tconst int nxt=ball(cur,prv);\n\t\t\tprv=cur,cur=nxt;\n\t\t\tif(cur==-1 or cur==n) break;\n\t\t}\n\t}\n\n\tconst int rest=max(0,k-all);\n\tif(rest%2==1 and n%2==1) s[0]^=ab;\n\n\tcout << s << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cmath>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n\tint n,k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tvector<int> v(n),a(n);\n\tfor(int i=0;i<n;i++){\n\t\tv[i] = s[i]-'A';\n\t}\n\ta[0]=0;\n\tif(v[0]==1)a[1]=1;\n\telse a[1]=2;\n\tfor(int i=2;i<n;i++){\n\t\tif(((v[i-1]+i-1)%2)==0){\n\t\t\ta[i]= a[i-1]+2;\n\t\t}else{\n\t\t\ta[i]= a[i-1]+1;\n\t\t}\n\t}\n\tint x=0;\n\tfor(int i=1;i<n;i++){\n\t\tif(k<a[i]){\n\t\t\tx=i-1;\n\t\t\tbreak;\n\t\t}\n\t\tif(i==(n-1)){\n\t\t\tx=n-1;\n\t\t}\n\t}\n\tif(x!=(n-1)){\n\t\tfor(int i=0;i<(n-x);i++){\n\t\t\tv[i] = (v[i+x]+x)%2;\n\t\t}\n\t\tfor(int i=n-x;i<n;i++){\n\t\t\tv[i] = (n-1-i)%2;\n\t\t}\n\t\tif((k-a[x])!=0){\n\t\t\tv[0] +=1;\n\t\t}\n\t}else{\n\t\tv[0]= (v[n-1]+n-1)%2;\n\t\tfor(int i=1;i<n;i++){\n\t\t\tv[i] = (n-1-i)%2;\n\t\t}\n\t\tif((k-a[n-1])%2!=0){\n\t\t\tif(v[0]==0)v[0]=1;\n\t\t\telse v[0]=0;\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif(v[i]==1)cout << \"B\";\n\t\telse cout << \"A\";\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#endif\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nmt19937 mrand(random_device{} ()); \n\nint rnd(int x) {\n  return mrand() % x;\n}\n\ntypedef long double ld;\ntypedef long long ll;\n\n#ifdef DEBUG\n#define eprintf(...) fprintf(stderr, __VA_ARGS__), fflush(stderr)\n#else\n#define eprintf(...) ;\n#endif\n\n#define pb push_back\n#define mp make_pair\n#define sz(x) ((int) (x).size())\n#define TASK \"text\"\n\nconst int inf = (int) 1.01e9;\nconst ld eps = 1e-9;\nconst ld pi = acos((ld) -1.0);\n\nconst int mod = (int) 1e9 + 7;\n\nvoid add(int &x, int y) {\n  if ((x += y) >= mod) {\n    x -= mod;\n  }\n}\n\nint mult(int x, int y) {\n  return (long long) x * y % mod;\n}\n\nint myPower(int x, int pw) {\n  int res = 1;\n  for (; pw; pw >>= 1) {\n    if (pw & 1) {\n      res = mult(res, x);\n    }\n    x = mult(x, x);\n  }\n  return res;\n}\n\nvoid precalc() {\n}\n\n\nconst int maxn = (int) 2e5 + 10;\nchar s[maxn];\nint n, k;\n\nint read() {\n  if (scanf(\"%d%d%s\", &n, &k, s) < 3) {\n    return 0;\n  }\n  return 1;\n}\n\nchar A = 'A' - 1;\nchar B = 'B' - 1;\n\nvoid process() {\n  if (!k) {\n    return;\n  }\n\n  if (n == 1) {\n    if (k & 1) {\n      s[0] ^= 1;\n    }\n    return;\n  }\n\n  int pos = 0;\n\n  int it = 0;\n  while (k) {\n    //eprintf(\"k = %d, pos = %d, it = %d\\n\", k, pos, it);\n    if ((s[pos] ^ it) == A) {\n      --k;\n      s[pos] ^= 1;\n      continue;\n    }\n    it ^= 1;\n    --k;\n    pos = (pos + 1) % n;\n    if (pos == 0 && !it) {\n      {\n        string q = s;\n        for (int i = 0; i < n; ++i) {\n          q[i] ^= it;\n          q[i] += 1;\n        }\n        //eprintf(\"%s\\n\", q.c_str());\n      }\n      for (int i = 0; i < n; ++i) {\n        assert((it ^ s[n - 1 - i]) == A + (i & 1));\n      }\n      k %= 4;\n    }\n  }\n  rotate(s, s + pos, s + n);\n  if (it) {\n    for (int i = 0; i < n; ++i) {\n      s[i] ^= 1;\n    }\n  }\n}\n\nvoid solve() {\n  for (int i = 0; i < n; ++i) {\n    --s[i];\n  }\n  process();\n  for (int i = 0; i < n; ++i) {\n    ++s[i];\n  }\n  printf(\"%s\\n\", s);\n}\n\nint main() {\n  precalc();\n#ifdef LOCAL\n  freopen(TASK \".out\", \"w\", stdout);\n  assert(freopen(TASK \".in\", \"r\", stdin));\n#endif\n\n  while (1) {\n    if (!read()) {\n      break;\n    }\n    solve();\n#ifdef DEBUG\n    eprintf(\"Time %.2f\\n\", (double) clock() / CLOCKS_PER_SEC);\n#endif\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "/* be name khoda */\n\n// #define stream_enable\n// #define long_enable\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <numeric>\n#include <iomanip>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\nusing namespace std;\n\n#ifdef stream_enable\n#define cin sss\n#endif\n#ifdef long_enable\ntypedef long long int ll;\n#else\ntypedef int ll;\n#endif\n\ntypedef pair<ll, ll> pii;\ntypedef pair<pii, ll> ppi;\ntypedef pair<ll, pii> pip;\ntypedef vector<ll> vi;\ntypedef vector<pii> vpii;\n\nconst ll MOD = 1000000007;\nconst long long BIG = 1446803456761533460;\nconst int Big = 336860180;\n\n#define F first\n#define S second\n#define pb push_back\n#define eb emplace_back\n#define all(x) (x).begin(), (x).end()\n\n#define debug(x) cout << #x << \" -> \" << (x) << endl\n#define debug2(x, y) cout << #x << ' ' << #y << \" -> \" << (x) << ' ' << (y) << endl\n#define debug3(x, y, z) cout << #x << ' ' << #y << ' ' << #z << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << endl\n#define debug4(x, y, z, t) cout << #x << ' ' << #y << ' ' << #z << ' ' << #t << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << ' ' << (t) << endl\n#define debugp(x) cout << #x << \" -> \" << \"(\" << (x).F << \", \" << (x).S << \")\" << endl\n#define debuga(x, n) cout << #x << \" -> \"; fori (i1_da, n) { cout << (x)[i1_da] << ' '; } cout << endl\n#define debugap(x, n) cout << #x << \" ->\\n\"; fori (i1_dap, n) { cout << \"(\" << (x)[i1_dap].F << \", \" << (x)[i1_dap].S << \")\\n\"; } cout << endl\n#define debugaa(x, n, m) cout << #x << \" ->\\n\"; fori (i1_daa, n) { fori (i2_daa, m) { cout << (x)[i1_daa][i2_daa] << ' '; } cout << '\\n'; } cout << endl\n#define debugav(x, n) cout << #x << \" ->\\n\"; fori (i1_dav, n) { fori (i2_dav, (x)[i1_dav].size()) { cout << (x)[i1_dav][i2_dav] << ' '; } cout << '\\n'; } cout << endl\n#define debugia(x, n) cout << #x << \" ->\\n\"; fori (i1_dia, n) { cout << i1_dia << \" : \" << (x)[i1_dia] << '\\n'; } cout << endl\n\n#define forifrom(i, s, n) for(ll i = (s); i < (n); ++i)\n#define forirto(i, n, e) for(ll i = (n) - 1; i >= (e); --i)\n#define fori(i, n) forifrom (i, 0, n)\n#define forir(i, n) forirto (i, n, 0)\n\n#define smin(a, b) a = min(a, (b))\n#define smax(a, b) a = max(a, (b))\n\n#define Add(a, b) a = ((a) + (b)) % MOD\n#define Mul(a, b) a = (1LL * (a) * (b)) % MOD\n\nstringstream sss;\n\n// -----------------------------------------------------------------------\n\nconst ll maxn = 200010;\n\nll n, k;\nll S[maxn];\n\nvoid MAIN() {\n\n    cin >> n >> k;\n    fori (i, n) {\n        char c; cin >> c;\n        S[i] = c == 'A';\n    }\n    if (n == 1) {\n        cout << ((S[0] ^ (k & 1)) ? \"A\\n\" : \"B\\n\");\n        return;\n    }\n    smin(k, n * 2);\n    ll I = 0, R = 0;\n    fori (i, k) {\n        if (S[R] ^ I) S[R] ^= 1;\n        else I ^= 1, R = (R + 1) % n;\n    }\n    fori (i, n) cout << ((S[(i + R) % n] ^ I) ? 'A' : 'B');\n    cout << '\\n';\n\n}\n\n// -----------------------------------------------------------------------\n\nint main() {\n    ios_base::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n    cout << fixed << setprecision(10);\n    sss << R\"(\n5 2\nABAAA\n    )\";\n    MAIN();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=4e5+5;\ntypedef long long ll;\nint n,k;\nchar s[N];\nint num[N];\nint st;\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)\n        num[i]=s[i]-'A';\n    st=num[1];\n    int p=1;\n    int cnt=0;\n    while(k--){\n        if(st==0){\n            st^=1;\n            num[p]^=1;\n        }\n        else{\n            p++;\n            cnt++;\n            st=num[p];\n            st^=(cnt&1);\n        }\n        if(p>n)\n            break;\n    }\n    if(p<=n){\n        for(int i=p;i<=n;i++)\n            putchar('A'+(num[i]^(cnt&1)));\n        int t=p-1,c=(cnt-1)&1;\n        while(t--){\n            putchar('A'+c);\n            c^=1;\n        }\n    }\n    else{\n        if((cnt-1)&1)\n            for(int i=1;i<=n;i++)\n                putchar('A'+(i&1));\n        else{\n            putchar('A'+(k&1));\n            for(int i=1;i<n;i++)\n                putchar('A'+(i&1));\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nconst int N=200200;\nint i,j,k,n,m;\nchar s[N],ans[N];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tj=1;\n\tfor (i=n;i;i--) {\n\t\tif ((n-i)&1) ans[i]='B';\n\t\telse ans[i]='A';\n\t}\n\tfor (i=1;i<=m;i++) {\n\t\tif (s[j]=='A') {\n\t\t\ts[j]='B';\n\t\t\tcontinue;\n\t\t}\n\t\telse {\n\t\t\tif (++j>n) break;\n\t\t\tif (!(j&1)) s[j]='A'+'B'-s[j];\n\t\t}\n\t}\n\tm-=i;\n\tfor (i=j;i<=n;i++) {\n\t\tif (!(j&1) && i!=j) s[i]='A'+'B'-s[i];\n\t\tans[i-j+1]=s[i];\n\t}\n\tif (m>0 && (m&1) && ans[1]=='A') ans[1]='B';\n\tprintf(\"%s\\n\",ans+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\n\nint read() {\n  int res = 0;\n  char c = getchar();\n  while (!isdigit(c)) c = getchar();\n  while (isdigit(c)) res = res * 10 + c - '0', c = getchar();\n  return res;\n}\n\nconst int maxn = 2e5 + 5;\nchar s[maxn];\n\nint main() {\n  int n = read(), k = read();\n  scanf(\"%s\", s + 1);\n  if (k > (n << 1)) k -= n << 1, k &= 1, k += n << 1;\n  int p = 1, A = 'A';\n  while (k--) {\n    if (s[p] == A)\n      s[p] = 'A' + 'B' - s[p];\n    else {\n      A = 'A' + 'B' - A, ++p;\n      if (p > n) p = 1;\n    }\n  }\n  for (int i = p; i <= n; i++) putchar(\"BA\"[s[i] == A]);\n  for (int i = 1; i < p; i++) putchar(\"BA\"[s[i] == A]);\n  puts(\"\");\n}\n"
  },
  {
    "language": "C++",
    "code": "//                                ** ALLAH **\n//                        who is Hussain? -> whoishussain.org\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int mod=1000000007;\ninline int in(){ int x; scanf(\"%d\",&x); return x; }\nconst int N = 200100;\nint n, k;\nstring s;\nint32_t main(){\n        cin >> n >> k;\n        cin >> s;\n\n        int t = k, c = 1;\n        k = 0;\n        for(; t && k < n;){\n                if( s[k] == 'A'+(k%2) && c ) s[k] = 'A' + (1-k%2), c = 0;\n                else k++, c = 1;\n                t--;\n        }\n        if( k == n ) { cout << char('A' + t%2);for(int i = 1;i < n; i++) cout << char('A'+(n-i-1)%2); cout << endl;return 0; } \n        for(int i = k; i < n; i++) cout << (k%2==1?(s[i]=='A'?'B':'A'):s[i]);\n        for(int i = 0;i < k; i++) cout << char('A'+(k-i-1)%2); \n        cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nchar s[1000007];\nint n,m,L,R;\nint a[1000007],K;\nvoid cal(int kth){\n\tif(!a[L]){\n\t\ta[L]=1;\n\t\ta[L+1]^=1;\n\t}else{\n\t\t++L;\n\t\ta[R++]=kth>=K;\n\t}\n}\nint f[2][2][2];\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s);\n\tf[0][0][1]=3;\n\tf[0][1][1]=3;\n\tf[1][0][1]=2;\n\tf[1][1][1]=3;\n\ta[0]=s[0]=='B';\n\tfor(int i=1;i<n;++i)a[i]=s[i]!=s[i-1];\n\tL=0,R=n;\n\tK=f[s[0]-'A'][s[1]-'A'][s[n-1]-'A'];\n\tif(m>500000)m=500000+m%2;\n\tfor(int i=1;i<=m;++i)cal(i);\n\ts[0]=a[L]+'A';\n\tfor(int i=L+1;i<R;++i)s[i-L]=(s[i-L-1]-1^a[i])+1;\n\tputs(s);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nconst int MAXN = 200005;\n\nint N, K;\nchar s[MAXN];\nint a[MAXN];\n\nvoid simulate() {\n\tif (!a[0]) {\n\t\ta[0] = 1;\n\t\treturn;\n\t}\n\tfor (int i = 0; i < N - 1; i++)\n\t\ta[i] = a[i + 1] ^ 1;\n\ta[N - 1] = 0;\n}\n\nint main() {\n\tscanf(\"%d%d%s\", &N, &K, s);\n\n\tfor (int i = 0; i < N; i++)\n\t\ta[i] = s[i] - 'A';\n\t\t\n\tint cnt = 0, mx = 0, best = 0;\n\tfor (int i = 0; i <= N; i++) {\n\t\tif (i + cnt <= K) {\n\t\t\tbest = i + cnt;\n\t\t\tmx = i;\n\t\t}\n\t\tcnt += !((a[i] + i) % 2);\n\t}\n\t\n\tfor (int i = 0; i < mx; i++)\n\t\ta[mx - i - 1] = i % 2;\n\t\n\tfor (int i = mx; i < N; i++)\n\t\ta[i] = (a[i] + mx) % 2;\n\t\n\trotate(a, a + mx, a + N);\n\t\n\tK -= best;\n\tK %= 2;\n\t\n\twhile (K--)\n\t\tsimulate();\n\t\n\tfor (int i = 0; i < N; i++)\n\t\tprintf(\"%c\", a[i] + 'A');\n\tputs(\"\");\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tif(l>r)\n\t\t{\n\t\t\tif(n&1) Solve(2,1,0,n,K);\n\t\t\telse if(K>=3) Solve(2,1,0,n,K);\n\t\t\telse \n\t\t\t{\n\t\t\t\tif(K==1) cout<<\"BB\";\n\t\t\t\tif(K==2) cout<<\"AA\";\n\t\t\t\tfor(int i=3;i<=n;++i) putchar((i&1)==(n&1)?'A':'B');\t\n\t\t\t}\n\t\t} \n\t\telse \n\t\t{\n\t\t\tst[l-1]='A'+(rev^1);st[l-2]='A'+(rev^1);\n\t\t\tSolve(l-2,r,rev,len,K-1);\n\t\t}\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h> \n\nusing namespace std;\n\nconst int maxn=2e6+10;\n\nint n,k;\nchar c[maxn];\nint a[maxn],b[maxn],sl;\n\n\n// 最后一位为 A 后 ....BABABA 循环最多进行 2n  次  \ndeque<int> q;\nint main()\n{\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",c+1);\n\tfor(int i=1;i<=n;++i) {\n\t\ta[i]=c[i]-'A';\n\t\tif((i)&1) b[n-i+1]=0;\n\t\telse b[n-i+1]=1;\n\t\tq.push_back(a[i]);\n\t} \n\tint now=0;\n\tint z=min(2*n,k);\n\tfor(int i=1;i<=z;++i) {\n\t\tint u=q.front();//cout<<i<<\" \"<<now<<\":\"<<u<<\"\\n\";\n\t\tif((u^now)==0) {\n\t\t\tq.pop_front();\n\t\t\tq.push_front(u^1);\n\t\t}else {\n\t\t\tq.pop_front(); \n\t\t\tq.push_back(1^now);\n\t\t\tnow^=1;\n\t\t}\n\t}\n\tif(k<=2*n) {\n\t\twhile(!q.empty()) {\n\t\t\tint u=q.front();q.pop_front();\n\t\t\tif(u^now) cout<<\"B\";\n\t\t\telse cout<<\"A\";\n\t\t}\t\n\t\treturn 0;\n\t}\n\tint tot=0,sl=2*n;\n\twhile(!q.empty()) {\n\t\tint u=q.front()^now;q.pop_front();\n\t\tif(u!=b[++tot]) {\n\t\t\tsl=2*n+1;\n\t\t\tbreak;\n\t\t}\t\t\n\t}\n\tif((n%2)) {\n\t\tif((k-sl)%2) b[1]=1; \n\t}\n\tfor(int i=1;i<=n;++i) {\n\t\tif(b[i]&1) {\n\t\t\tcout<<\"B\";\n\t\t}else {\n\t\t\tcout<<\"A\";\n\t\t}\n\t}\n\treturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tif(s.size() == 1){\n\t\tif(s[0] == 'B') K++;\n\t\tif(K%2) cout << \"B\" << endl;\n\t\telse cout << \"A\" << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] == 'A') tmp[pos] = 'B';\n\t\t\telse tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tif(s.size() % 2){\n\t\tif(K%2) ans[0] = 'A';\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef vector<int> vi;\n\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define fi first\n#define se second\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<(n);i++)\n#define ALL(c) (c).begin(),(c).end()\n\nconst string T = \"AB\";\n\nint N, K;\ndeque<int> deq;\nstring s;\n\nint main() {\n\tcin >> N >> K >> s;\n\trep(i, N) deq.pb(s[i] != 'A');\n\n\tint f = 0;\n\n\trep(tt, N * 2) {\n\t\tif (K == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tif (deq[0] == f) {\n\t\t\tdeq[0] = f^1;\n\t\t} else {\n\t\t\tf ^= 1;\n\t\t\tdeq.pop_front();\n\t\t\tdeq.push_back(f);\n\t\t}\n\t\t--K;\n\t}\n\n\tK %= 2;\n\n\tif (K) {\n\t\tif (deq[0] == f) {\n\t\t\tdeq[0] = f^1;\n\t\t} else {\n\t\t\tf ^= 1;\n\t\t\tdeq.pop_front();\n\t\t\tdeq.push_back(f);\n\t\t}\n\t}\n\trep(i, N) {\n\t\tprintf(\"%c\", T[deq[i]^f]);\n\t}\n\tputs(\"\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/**\n \tTemplate created by Danel Batyrbek\n \tAll rights are reserved 2017 (lol)\n*/\n\n#include <bits/stdc++.h>\n\n#define speed_up ios_base :: sync_with_stdio(0);cin.tie(0)\n#define fr first\n#define sc second\n#define mkp make_pair\n#define pb push_back\n#define eb emplace_back\n#define all(x) x.begin(), x.end()\n#define debug(x) cerr << x << '\\n';\n#define YES \"YES\"\n#define NO \"NO\"\n#define skip continue\n#define left(x) x << 1\n#define rght(x) x << 1 | 1\n#define forn(x, y, z) for(int x = y; x <= z; ++ x)\n#define for1(x, y, z) for(int x = y; x >= z; -- x)\n#define fname \"\"\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair <int, int> pii;\ntypedef double ld;\n\nconst int N = 1e5 + 10;\nconst int mod = 1e9 + 7;\nconst int N3 = 1e3 + 10;\nconst int INF = 2e9 + 10;\nconst ll LINF = 2e18;\n\nint n, k, cycle;\nstring s;\nmap <string, int> mp;\nchar A = 'A', B = 'B';\n\nint main(){\n#ifndef DEBUG\n\tif(fname != \"\"){\n\tfreopen(fname\".in\", \"r\", stdin);\n\tfreopen(fname\".out\", \"w\", stdout);\n\t}\n#endif\t\n\tspeed_up;\n\tcin >> n >> k;\n\tcin >> s;\n\tmp[s] = 1;\n\tforn(i, 1, k){\n\t\tif(s[0] == A){\n\t\t\ts[0] = B;\n\t\t\tskip;\n\t\t}\n\t\tforn(j, 1, n - 1){\n\t\t\tif(s[j - 1] == B && s[j] == B){\n\t\t\t\ts[j - 1] = A;\n\t\t\t} else\n\t\t\tif(s[j - 1] == B && s[j] == A){\n\t\t\t\ts[j] = B;\n\t\t\t} else\n\t\t\tif(s[j - 1] == A && s[j] == B){\n\t\t\t\tskip;\n\t\t\t}\n\t\t}\n\t\ts[n - 1] = A;\n\t\tif(mp[s]){\n\t\t\tcycle = (i + 1) - mp[s];\n\t\t\tk %= cycle;\n\t\t} else {\n\t\t\tmp[s] = i + 1;\n\t\t}\n\t}\n\tcout << s;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0&&n%2==1){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tif(k>=2*n){\n\t\tint t=(k-2*n)%2;\n\t\tif(n%2==1&&t==1)\t\n\t\t\tp[1]='A'+'B'-p[1];\n\t\tfor(int i=2;i<=n;i++)\n\t\t\tp[i]='B'-(n-i+1)%2;\n\t}\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[700005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n\n    Read();\n    if(N == 1)\n    {\n        if(K % 2 == 1)\n        cout << \"B\\n\";\n        else\n            cout << \"A\\n\";\n        return 0;\n    }\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n#define MAXN 200010\nchar s[MAXN];\nint n,k,l,p,f;\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tp=1;\n\tfor(l=1;l<=n*2+10;l++)\n\t{\n\t\tint t=(s[p]=='A');\n\t\tif(t^f) s[p]=t+'A';\n\t\telse\n\t\t{\n\t\t\tf^=1;\n\t\t\tp++;\n\t\t}\n\t\tif(l==k)\n\t\t{\n\t\t\tif(f)\n\t\t\t{\n\t\t\t\tfor(int i=p;i<=n;i++)\n\t\t\t\t\ts[i]=(s[i]=='A')+'A';\n\t\t\t}\n\t\t\tfor(int i=p;i<=n;i++)\n\t\t\t\tprintf(\"%c\",s[i]);\n\t\t\tfor(int i=1;i<p;i++)\n\t\t\t\tif(f!=(i&1)) printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\treturn 0;\n\t\t}\n\t\tif(p>n) break;\n\t}\n\tif(f==0||(f&&l%2!=k%2)) printf(\"B\");\n\telse printf(\"A\");\n\tfor(int i=2;i<=n;i++)\n\t\tif(f!=(i&1)) printf(\"B\");\n\t\telse printf(\"A\");\n}"
  },
  {
    "language": "C++",
    "code": "/*\nThough leaves are many , the root is one.\nThrough all the lying days of my youth\nI swayed my leaves and flowers in the sun.\nNow I may wither into the truth.\n\t  \t  \t- William Butler Yeats\n*/\n//#pragma GCC optimize(\"Ofast,no-stack-protector\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx\")\n//#pragma GCC target(\"avx,tune=native\")\n#include<bits/stdc++.h>\n#pragma comment(\"-Wl,--stack=1024000000\")\n//#include<ext/pb_ds/assoc_container.hpp>\nusing namespace std;\n//using namespace __gnu_pbds;\nconst int inf=0x3f3f3f3f;\nconst double eps=1e-6;\nconst int mod=1000000007;\ntypedef long long ll;\n#ifndef LOCAL\n#define cerr if(0)cout\n#define eprintf(...) 0\n#else\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#endif\ninline string getstr(string &s,int l,int r){string ret=\"\";for(int i=l;i<=r;i++)ret.push_back(s[i]);return ret;}\nint modpow(int x,int y,int md=mod){int ret=1;do{if(y&1)ret=(ll)ret*x%md;x=(ll)x*x%md;}while(y>>=1);return ret;}\ninline int Rand(){return rand()*32768+rand();}\nint n,k;\ndeque<char>q;\nchar calc(char c,bool inv){\n\tif(inv)return 'A'+'B'-c;\n\telse return c;\n}\nint main(){\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++){\n\t\tchar c;cin>>c;q.push_back(c);\n\t}\n//\tk%=4*n;\n\tbool inv=0;\n\twhile(k--){\n\t\tif(calc(q.front(),inv)=='A'){\n\t\t\tq.front()='A'+'B'-q.front();\n\t\t}else{\n\t\t\tinv^=1;q.push_back(q.front());q.pop_front();\n\t\t}\n\t}\n\tif(inv)for(char &c:q)c='A'+'B'-c;\n\tfor(int i=0;i<n;i++)putchar(q[i]);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t\treturn 1;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0&&d[1]==0){  //B\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() ^= 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N=200100;\nchar S[N*2],*T;\nint n,K;\n\nint main(){\n\tios::sync_with_stdio(0);cin.tie(0);cout.tie(0);\n\tcin>>n>>K>>(S+1);T=S+1;\n\tint tag=0;\n\tfor(;K --> 0;){\n\t\tif((T[0]^tag)=='A')T[0]^=3;\n\t\telse{\n\t\t\ttag^=3;T[n]='A'^tag;\n\t\t\t++T;\n\t\t}\n\t\tif(T>S+n){\n\t\t\tif((T[0]^tag)=='A'&&(K&1))T[0]^=3;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(int i=0;i<n;++i)T[i]^=tag;\n\tcout<<T<<'\\n';\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\nusing namespace std;\n#define MAX 200200\nint n,K,l,r,p;\nchar S[MAX];int a[MAX<<2];\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);scanf(\"%s\",S+1);\n\tl=1,r=n,p=0;\n\tfor(int i=1;i<=n;++i)a[i]=S[i]=='A';\n\tfor(int i=1;i<=n+n;++i)\n\t{\n\t\tif(a[l]^p)a[l]^=1;\n\t\telse ++l,p^=1,a[++r]=p^1;\n\t\tif(i==K)\n\t\t{\n\t\t\tfor(int j=l;j<=r;++j)putchar((a[j]^p^1)+'A');\n\t\t\tputs(\"\");return 0;\n\t\t}\n\t}\n\tif(a[l]^p)p^=K&1;\n\tfor(int i=l;i<=r;++i)putchar((a[i]^p^1)+'A');\n\treturn 0;\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nnamespace interesting\n{\n\tconst int N=201000;\n\tbool t0[N*2],*f;\n\tint n,k;\n\tvoid initialize()\n\t{\n\t\tstatic char tmp[N];\n\t\tscanf(\"%d%d\",&n,&k),scanf(\"%s\",tmp+1);\n\t\tfor(int i=1;i<=n;i++)t0[i]=tmp[i]=='A';\n\t\tf=t0;\n\t}\n\tbool tag;\n\tvoid work()\n\t{\n\t\tfor(tag=0;k--;)\n\t\t{\n\t\t\tif(f[1]^tag)f[1]^=1;\n\t\t\telse f++,f[n]=tag,tag^=1;\n\n\t\t\tif(f-t0>n && k%2==0)return;\n\t\t}\n\t}\n\tvoid solve()\n\t{\n\t\tinitialize();\n\t\twork();\n\t\tfor(int i=1;i<=n;i++)printf(\"%c\",f[i]^tag?'A':'B');printf(\"\\n\");\n\t}\n}\n\nint main()\n{\n\tinteresting::solve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n//                       _oo0oo_                         //\n//                      o8888888o                        //\n//                      88\" . \"88      ------ hzt1       //\n//                      (| -_- |)                        //\n//                      0\\  =  /0                        //\n//                    ___/`---'\\___                      //\n//                  .' \\|     |// '.                     //\n//                 / \\|||  :  |||// \\                    //\n//                / _||||| -:- |||||- \\                  //\n//               |   | \\  -  /// |     |                 //\n//               | \\_|  ''\\---/''  |_/ |                 //\n//               \\  .-\\__  '-'  ___/-. /                 //\n//             ___'. .'  /--.--\\  `. .'___               //\n//          .\"\" '<  `.___\\_<|>_/___.' >' \"\".             //\n//         | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |           //\n//         \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /           //\n//     =====`-.____`.___ \\_____/___.-`___.-'=====        //\n//                       `=---='                         //\n//                                                       //\n//                                                       //\n//     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~       //\n//                                                       //\n//                 God-He Bless All.                     //\n//           This Code Will Never Explode.               //\n//                                                       //\n//                                                       //\n///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<queue>\n#include<algorithm>\n#define rep(i,a,b) for(int i=(a),i##_end_=(b);i<=i##_end_;i++)\n#define dwn(i,a,b) for(int i=(a),i##_end_=(b);i>=i##_end_;i--)\nusing namespace std;\ntypedef long long ll;\nconst int maxn=200010;\nint n,k,cur;\ndeque<int> A;\nvoid work() {\n\tint x=A.front();A.pop_front();\n\tif(x^cur) A.push_front(cur);\n\telse cur^=1,A.push_back(cur^1);\n}\nvoid force(int k) {\n\twhile(k--) work();\n\trep(i,0,n-1) {\n\t\tint x=A.front();A.pop_front();\n\t\tputchar(x^cur?'A':'B');\n\t}\n}\nchar s[maxn];\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,s);\n\trep(i,0,n-1) A.push_back(s[i]=='A');\n\tif(k>=2*n) k=2*n+(k-2*n)%2;\n\tforce(k);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\n\nvoid move(vc &s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn;\n\t}\n\trev = !rev;\n\ts.erase(s.begin());\n\ts.push_back(rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (rev) {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", (s[i] == 'A' ? 'B' : 'A'));\n\t\t}\n\t}\n\telse {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", s[i]);\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\t//printf(\"%s\\n\", string(s.begin(), s.end()).c_str());\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 10 * n); i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\n\t\tif (!(a[0] ^ rev) && i >= 5 * n)\n\t\t\ti += (k - i) - (k - i) % 3;\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint N, K, cx = 0, cnt; string S;\n\nint main() {\n\tcin >> N >> K >> S;\n\tfor (int i = 0; i < K; i++) {\n\t\tif (S[cx] == 'A') { S[cx] = 'B'; }\n\t\telse {\n\t\t\tcx++; if (cx == N) { cnt = i + 1; break; }\n\t\t\tif (cx % 2 == 1) {\n\t\t\t\tif (S[cx] == 'A') S[cx] = 'B'; else S[cx] = 'A';\n\t\t\t}\n\t\t}\n\t}\n\tif (cx % 2 == 1) { if (S[cx] == 'A') S[cx] = 'B'; else S[cx] = 'A'; }\n\tif (cx == N) {\n\t\tif (N % 2 == 0) {\n\t\t\tfor (int i = 0; i < N / 2; i++) cout << \"BA\"; cout << endl;\n\t\t}\n\t\telse {\n\t\t\tif ((N - cnt) % 2 == 0) { cout << \"A\"; for (int i = 0; i < N / 2; i++) cout << \"BA\"; }\n\t\t\telse { cout << \"B\"; for (int i = 0; i < N / 2; i++) cout << \"BA\"; }\n\t\t\tcout << endl;\n\t\t}\n\t}\n\telse {\n\t\tstring T = \"\";\n\t\tfor (int i = cx; i < N; i++) {\n\t\t\tif (cx % 2 == 0) T += S[i];\n\t\t\telse { if (S[i] == 'A') T += \"B\"; else T += \"A\"; }\n\t\t}\n\t\tfor (int i = 0; i < cx; i++) {\n\t\t\tif ((cx - i) % 2 == 0) T += \"B\"; else T += \"A\";\n\t\t}\n\t\tcout << T << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<set>\n#include<map>\n#include<deque>\n#include<queue>\n#include<stack>\n#include<cmath>\n#include<ctime>\n#include<bitset>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<climits>\n#include<complex>\n#include<iostream>\n#include<algorithm>\n#define ll long long\nusing namespace std;\n\nconst int maxn = 210000;\n\nint n,K;\nint q[maxn<<2],head,tail,flag;\nchar str[maxn];\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",str);\n\thead=1,tail=n;\n\tfor(int i=1;i<=n;i++) q[i]=str[i-1]=='A'?1:0;\n\t\n\tint now=0; flag=0;\n\tfor(;now<=2*n;now++)\n\t{\n\t\tif(now==K) break;\n\t\tif(q[head]^flag) q[head]=flag;\n\t\telse flag=!flag,head++,q[++tail]=!flag;\n\t}\n\tif(now<K&&n%2)\n\t{\n\t\tif(q[head]^flag) ++now,q[head]=flag;\n\t\tif(now<K&&(K-now)%2) q[head]=!flag;\n\t}\n\tfor(int i=head;i<=tail;i++) printf(\"%c\",(q[i]^flag)?'A':'B');\n\tputs(\"\");\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 200005;\nbitset<N> bs;\n\nchar s[N];\nint main(){\n\tint n, k;\n\tscanf(\"%d %d\", &n, &k);\n\tscanf(\"%s\", s);\n\tfor(int i = 0; i < n; i++) if(s[i] == 'B') bs.set(i);\n\tint done = 0;\n\tint doneb = 0;\n\tfor(; doneb < n + 3 && done < k; done++){\n\t\tif(bs[0]){\n\t\t\tdoneb++;\n\t\t\tbs = (~(bs >> 1));\n\t\t\tbs.reset(n - 1);\n\t\t} else{\n\t\t\tbs.set(0);\n\t\t}\n\t}\n\tint rem = done - k;\n\tif((n == 1 || bs[1]) && (rem & 1)) bs.flip(0);\n\tfor(int i = 0; i < n; i++) cout << (bs[i] ? 'B' : 'A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tif (k >= 3 * n) rev ^= (k - 3 * n + 1) & 1;\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N=3e3+50;\nint n,k,tag; char ch[N];\ndeque <int> q;\ninline void print() {\n\tfor(int i=1;i<=n;i++) \n\t\tputchar((q[i-1]^tag) ? 'B' : 'A');\n}\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,ch+1);\n\tfor(int i=1;i<=n;++i) q.push_back((ch[i]=='A') ? 0 : 1);\n\tfor(int i=1;i<=min(n,k);++i) {\n\t\tint t=q.front()^tag;\n\t\tif(!t) q[0]^=1;\n\t\telse q.pop_front(), tag^=1, q.push_back(tag);\n\t} \n\tif(k<=n) print();\n\telse {\n\t\tint t=k-n;\n\t\tif(q[0]^tag==1) --t, q[0]^=1;\n\t\tif(t&1) q[0]^=1;\n\t\tprint();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//start of jonathanirvings' template v3.0.3 (BETA)\n\n#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> pii;\ntypedef pair<LL,LL> pll;\ntypedef pair<string,string> pss;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vii;\ntypedef vector<LL> vl;\ntypedef vector<vl> vvl;\n\ndouble EPS = 1e-9;\nint INF = 1000000005;\nlong long INFF = 1000000000000000005LL;\ndouble PI = acos(-1);\nint dirx[8] = {-1,0,0,1,-1,-1,1,1};\nint diry[8] = {0,1,-1,0,-1,1,-1,1};\n\n#ifdef TESTING\n  #define DEBUG fprintf(stderr,\"====TESTING====\\n\")\n  #define VALUE(x) cerr << \"The value of \" << #x << \" is \" << x << endl\n  #define debug(...) fprintf(stderr, __VA_ARGS__)\n#else\n  #define DEBUG \n  #define VALUE(x)\n  #define debug(...)\n#endif\n\n#define FOR(a,b,c) for (int (a)=(b);(a)<(c);++(a))\n#define FORN(a,b,c) for (int (a)=(b);(a)<=(c);++(a))\n#define FORD(a,b,c) for (int (a)=(b);(a)>=(c);--(a))\n#define FORSQ(a,b,c) for (int (a)=(b);(a)*(a)<=(c);++(a))\n#define FORC(a,b,c) for (char (a)=(b);(a)<=(c);++(a))\n#define FOREACH(a,b) for (auto &(a) : (b))\n#define REP(i,n) FOR(i,0,n)\n#define REPN(i,n) FORN(i,1,n)\n#define MAX(a,b) a = max(a,b)\n#define MIN(a,b) a = min(a,b)\n#define SQR(x) ((LL)(x) * (x))\n#define RESET(a,b) memset(a,b,sizeof(a))\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define ALL(v) v.begin(),v.end()\n#define ALLA(arr,sz) arr,arr+sz\n#define SIZE(v) (int)v.size()\n#define SORT(v) sort(ALL(v))\n#define REVERSE(v) reverse(ALL(v))\n#define SORTA(arr,sz) sort(ALLA(arr,sz))\n#define REVERSEA(arr,sz) reverse(ALLA(arr,sz))\n#define PERMUTE next_permutation\n#define TC(t) while(t--)\n\ninline string IntToString(LL a){\n  char x[100];\n  sprintf(x,\"%lld\",a); string s = x;\n  return s;\n}\n\ninline LL StringToInt(string a){\n  char x[100]; LL res;\n  strcpy(x,a.c_str()); sscanf(x,\"%lld\",&res);\n  return res;\n}\n\ninline string GetString(void){\n  char x[1000005];\n  scanf(\"%s\",x); string s = x;\n  return s;\n}\n\ninline string uppercase(string s){\n  int n = SIZE(s); \n  REP(i,n) if (s[i] >= 'a' && s[i] <= 'z') s[i] = s[i] - 'a' + 'A';\n  return s;\n}\n\ninline string lowercase(string s){\n  int n = SIZE(s); \n  REP(i,n) if (s[i] >= 'A' && s[i] <= 'Z') s[i] = s[i] - 'A' + 'a';\n  return s;\n}\n\ninline void OPEN (string s) {\n  #ifndef TESTING\n  freopen ((s + \".in\").c_str (), \"r\", stdin);\n  freopen ((s + \".out\").c_str (), \"w\", stdout);\n  #endif\n}\n\n//end of jonathanirvings' template v3.0.3 (BETA)\n\nint n,k;\nstring s;\nunordered_map<string,int> pet;\n\nstring coba(string c)\n{\n  int pos = 0;\n  int dir = 1;\n  while (0 <= pos && pos < SIZE(c))\n  {\n    c[pos] = 'A' + 'B' - c[pos];\n    if (c[pos] == 'B') dir *= -1;\n    pos += dir;\n  }\n  return c;\n}\n\nint main()\n{\n  scanf(\"%d %d\",&n,&k);\n  s = GetString();\n  REP(i,k)\n  {\n    if (pet.count(s))\n    {\n      int cyclen = i - pet[s];\n      int sisa = (k - i) % cyclen;\n      TC(sisa) s = coba(s);\n      break;\n    }\n    pet[s] = i;\n    s = coba(s);\n  }\n  printf(\"%s\\n\",s.c_str());\n  // TC(k)\n  // {\n  //   s = coba(s);\n  // }\n  // REPN(len,10)\n  // {\n  //   REP(i,1<<len)\n  //   {\n  //     string s = \"\";\n  //     REP(j,len) if (i & (1 << j)) s += 'A';\n  //     else s += 'B';\n  //     printf(\"%s %s\\n\",s.c_str(),coba(s).c_str());\n  //   }\n  // }\n  return 0;\n}\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[444444];\nint D[444444];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tif(n==1){\n\t\tfor(;;);\n\t\tprintf(\"%c\\n\",(s[0]-'A'+k)%2==0?'A':'B');\n\t\treturn 0;\n\t}\n\n\tfor(i=n;i<n+n;i++) s[i] = (i-n+1)%2+'A';\n\n\tfor(j=0,i=1;i<=k;i++){\n\t\tif((s[j]-'A'+j)%2 == 0) s[j] = 'B'-s[j]+'A';\n\t\telse j++;\n\t\tif(j>=n) break;\n\t}\n\n\tfor(i=j;i<j+n;i++) printf(\"%c\",(s[i]-'A'+j)%2+'A');\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\n#define int ll\n\n#define FOR(i,a,b) for(int i=int(a);i<int(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define MP make_pair\n#define PB push_back\n#define ALL(x) x.begin(),x.end()\n#define REACH cerr<<\"reached line \"<<__LINE__<<endl\n#define DBG(x) cerr<<\"line \"<<__LINE__<<\" \"<<#x<<\":\"<<x<<endl\n\nusing pi=pair<int,int>;\nusing vi=vector<int>;\nusing ld=long double;\n\ntemplate<class T,class U>\nostream& operator<<(ostream& os,const pair<T,U>& p){\n\tos<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n\treturn os;\n}\n\ntemplate<class T>\nostream& operator <<(ostream& os,const vector<T>& v){\n\tos<<\"[\";\n\tREP(i,(int)v.size()){\n\t\tif(i)os<<\",\";\n\t\tos<<v[i];\n\t}\n\tos<<\"]\";\n\treturn os;\n}\n\nint read(){\n\tint i;\n\tscanf(\"%lld\",&i);\n\treturn i;\n}\n\nvoid printSpace(){\n\tprintf(\" \");\n}\n\nvoid printEoln(){\n\tprintf(\"\\n\");\n}\n\nvoid print(int x,int suc=1){\n\tprintf(\"%lld\",x);\n\tif(suc==1)\n\t\tprintEoln();\n\tif(suc==2)\n\t\tprintSpace();\n}\n\nstring readString(){\n\tstatic char buf[3341919];\n\tscanf(\"%s\",buf);\n\treturn string(buf);\n}\n\nchar* readCharArray(){\n\tstatic char buf[3341919];\n\tstatic int bufUsed=0;\n\tchar* ret=buf+bufUsed;\n\tscanf(\"%s\",ret);\n\tbufUsed+=strlen(ret)+1;\n\treturn ret;\n}\n\ntemplate<class T,class U>\nvoid chmax(T& a,U b){\n\tif(a<b)\n\t\ta=b;\n}\n\ntemplate<class T,class U>\nvoid chmin(T& a,U b){\n\tif(a>b)\n\t\ta=b;\n}\n\ntemplate<class T>\nT Sq(const T& t){\n\treturn t*t;\n}\n\nconst int inf=LLONG_MAX/3;\n\nsigned main(){\n\tint n=read(),k=read();\n\tstring s=readString();\n\tint g=0,q;\n\t{\n\t\tREP(i,n){\n\t\t\tbool w=((s[i]=='A')^(i&1));\n\t\t\tif(w){\n\t\t\t\tif(k>=2){\n\t\t\t\t\tg++;\n\t\t\t\t\tk-=2;\n\t\t\t\t\tif(k==0)q=0;\n\t\t\t\t}else{\n\t\t\t\t\tk--;\n\t\t\t\t\tq=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tk--;\n\t\t\t\tg++;\n\t\t\t\tif(k==0)q=0;\n\t\t\t}\n\t\t\tif(k==0)\n\t\t\t\tbreak;\n\t\t}\n\t\tif(k){\n\t\t\tif(n^1){\n\t\t\t\tg+=k/2;\n\t\t\t\tq=k&1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tg+=k;\n\t\t\t\tq=0;\n\t\t\t}\n\t\t}\n\t}\n\tstring t;\n\tREP(i,n)\n\t\tif(i+g<n)\n\t\t\tt+=((g&1)^(s[i+g]=='A'))?'A':'B';\n\t\telse\n\t\t\tt+=((n-1-i)&1)?'B':'A';\n\tif(q){\n\t\tif(t[0]=='A')\n\t\t\tt[0]='B';\n\t\telse{\n\t\t\tREP(i,n-1)\n\t\t\t\tt[i]=t[i+1]=='A'?'B':'A';\n\t\t\tt[n-1]='A';\n\t\t}\n\t}\n\tcout<<t<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <array>\n#include <set>\n#include <map>\n#include <queue>\n#include <tuple>\n#include <unordered_set>\n#include <unordered_map>\n#include <functional>\n#include <cassert>\n#define repeat(i,n) for (int i = 0; (i) < int(n); ++(i))\n#define repeat_from(i,m,n) for (int i = (m); (i) < int(n); ++(i))\n#define repeat_reverse(i,n) for (int i = (n)-1; (i) >= 0; --(i))\n#define repeat_from_reverse(i,m,n) for (int i = (n)-1; (i) >= int(m); --(i))\n#define whole(f,x,...) ([&](decltype((x)) whole) { return (f)(begin(whole), end(whole), ## __VA_ARGS__); })(x)\n#define debug(x) #x << \" = \" << (x) << \" \"\nusing ll = long long;\nusing namespace std;\nconstexpr size_t max_n = 200000;\nbool a[max_n+1];\nint main() {\n    int n, k; scanf(\"%d%d\", &n, &k);\n    repeat (i,n) { char c; scanf(\" %c\", &c); a[i] = (c == 'A'); }\n    int m = n;\n    a[m+1] = false;\n    while (k --) {\n        if (a[0]) {\n            a[0] = false;\n        } else {\n            repeat (i,m) a[i] = not a[i+1];\n        }\n        while (2 <= m and not a[m-2] and a[m-1]) m -= 2;\n        if (m == 0) break;\n        if (m == 1) k %= 2;\n    }\n    repeat (i,n) printf(\"%c\", a[i] ? 'A' : 'B');\n    printf(\"\\n\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\n\nvoid mf(){\n\tfreopen(\"input.in\",\"r\",stdin);\n\tfreopen(\"output.ou\",\"w\",stdout);\n}\nint a[100007];\nint n, k;\nmap<string, int> mm;\nstring convert(){\n\tstring s = \"\";\n\tfor(int i = 0; i<n;i++){\n\t\ts+=char(a[i]+'A');\n\t}\n\treturn s;\n}\nbool check1(){\n\tfor(int i = 1; i < n;i++)\n\tif(a[i] == a[i-1]) return false;\n\treturn true;\n}\nvoid solve(){\n\tcin>>n>>k;\n\tstring st;\n\tcin>>st;\n\tfor(int i = 0; i<n;i++) a[i] = st[i]-'A';\n\tfor(int j = 1; j<= k;j++){\n\t\tint dir = 1, p = -1;\n\t\twhile(true){\n\t\t\tp+=dir;\n\t\t\tif(p<0 || p>=n) break;\n\t\t\tif(a[p]== 0) dir = -dir;\n\t\t\ta[p] = 1- a[p];\n\t\t}\n\t\tif(check1()){\n\t\t\tif(a[0]==1){\n\t\t\t\tfor(int i = 0; i < n;i++)\n\t\t\t\t\tcout<<char( (1- i%2 ) + 'A');\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif((k-j)%2==0){\n\t\t\t\t\tfor(int i= 0; i<n;i++)\n\t\t\t\t\t\tcout<<char((i%2)+'A');\n\t\t\t\t}else{\n\t\t\t\t\tcout<<'B';\n\t\t\t\t\tfor(int i = 1;i<n;i++)\n\t\t\t\t\t\tcout<<char((i%2)+'A');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\tfor(int i = 0; i<n;i++)cout<<char(a[i]+'A');\n\n}\nvoid test(){\n\t// string x;cin>>x;\n\tsrand(time(NULL));\n\t// n = x.length();\t\n\tn = 13;\n\tfor(int i = 0; i < n; i++) a[i] = rand()%2;\n\tstring st = convert();\n\tcerr<<\"START==\\n\"<<st<<\"\\n===\\n\";\n\tmm[st] = 0;\n\tfor(int i = 1; i <=25; i++){\n\t\tint dir = 1, p = -1;\n\t\twhile(true){\n\t\t\tp+=dir;\n\t\t\tif(p<0 || p>=n) break;\n\t\t\tif(a[p]== 0) dir = -dir;\n\t\t\ta[p] = 1- a[p];\n\t\t}\n\t\tst = convert();\n\t\t// cerr<<\"step \"<<i<<endl<<st<<\"\\n===\"<<endl;\n\t\tif(mm.find(st) != mm.end()){\n\t\t\tcerr<<st<<\" \";\n\t\t\tcerr<<i- mm[st]<<endl;\n\t\t\tcerr<<mm[st]<<\" \"<<i<<endl;\n\t\t\tmm[st] = i;\n\t\t\t//break;\t\t\n\t\t}else{\n\t\t\tmm[st] = i;\n\t\t}\n\t}\n}\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\t#ifdef tuanh\n\tmf();\n\t#endif\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,k,a[1700005];\nchar s[1700005];\nvoid mov()\n{\n\tif (a[1]==1) a[1]=0;\n\telse\n\t{\n\t\tfor (int i=1;i<n;i++)\n\t\t\tif (a[i]==a[i+1]) a[i]^=1;\n\t\t//if (a[n]==0)\n\t\ta[n]=1;\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=s[i]=='A';\n\t/*\n\tfor (int i=1;i<=k;i++)\n\t\tmov();\n\t*/\n\tint l=1,r=n,now=0;\n\tfor (int i=1;i<=k;i++)\n\t{\n\t\tif ((a[l]^now)==1) a[l]^=1;\n\t\telse\n\t\t{\n\t\t\tl++;r++;\n\t\t\ta[r]=now;now^=1;\n\t\t}\n\t\tif (i>n*2&&(k-i)%2==0) break;\n\t}\n\tfor (int i=l;i<=r;i++)\n\t\tputchar((a[i]^now)?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define F first\n#define S second\n#define pb push_back\n#define ll long long\n#define int long long\n\nusing namespace std ;\n\nconst int MAXN = 1001 * 1001 ; \n\n\nvoid f(string& s)\n{\n\tint i = 0 , n = s.size() , x = 1 ; \n\twhile(i!=-1&&i!=n)\n\t{\n\t\tif(s[i]=='A')\n\t\t{\n\t\t\ts[i] = 'B' ; \n\t\t\ti -= x ;\n\t\t    x *= -1 ; \t\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[i] = 'A' ; \n\t\t\ti += x ;\n\t\t}\n\t}\n}\n\nbool check(string s)\n{\n\tint n = s.size() ; \n\tfor(int i = 0 ; i < n ; i ++ ) \n\t{\n\t\tif(i%2==0)\n\t\t{\n\t\t\tif(s[i]!='B')\n\t\t\t\treturn 0 ;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(s[i]!='A')\n\t\t\t\treturn 0 ; \n\t\t}\n\t}\n\treturn 1 ;\n}\n\nint32_t main()\n{\n\tios::sync_with_stdio(0) ; cin.tie(0) ; \n\tstring s = \"\" ; \n\t//cin >> s ;\n\tint n , k  ;\n\tcin >> n >> k ;\n\tcin >> s ;\n\t/*\n\tfor(int i = 0 ; i < n ; i ++ ) \n\t{\n\t\tif(rand()&1)\n\t\t\ts += 'A' ; \n\t\telse\n\t\t\ts += 'B' ; \n\t}\n\t*/\n\tfor(int i = 0; i < 2e9 ; i ++ )\n\t{\n\t//\tcout << s << '\\n' ; \n\t\tif(i==k)\n\t\t\treturn cout << s << '\\n' , 0 ; \n\t\tif(check(s))\n\t\t\tbreak ; \n\t\tf(s) ;\n\t    \t\n\t}\n\tcout << s << '\\n' ; \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tchkmin(k, 2 * n);\n\tcin >> s;\n}\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tint C = 0;\n\twhile(k--)\n\t{\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\n#include <queue>\n\nnamespace IO {\n    template <typename _T>\n    inline bool read (_T& x) {\n        x = 0;\n        _T y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return false;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return true;\n    }\n\n    template <typename _T>\n    inline _T input () {\n        _T x = 0, y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return 0;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return x;\n    }\n};\nusing namespace IO;\n\n#define reg register\n#define MAX_N 200007\n#define FIN(s) freopen(s, \"r\", stdin)\n#define FOUT(s) freopen(s, \"w\", stdout)\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define rep(i, l, r) for(int i = l; i <= r; ++i)\n#define lep(i, l, r) for(int i = l; i < r; ++i)\n#define irep(i, r, l) for(int i = r; i >= l; --i)\n#define ilep(i, r, l) for(int i = r; i > l; --i)\ntypedef long long ll;\n\nint N, K;\nchar s[MAX_N];\nstd::deque<int> q;\n\nint main () {\n#ifdef LOCAL\n    FIN(\"in\");\n#endif\n    read(N), read(K);\n    scanf(\"%s\", s + 1);\n    rep (i, 1, N) q.push_back(s[i] - 'A');\n    int now = 0;\n    rep (i, 1, K) {\n        if (now == q.front()) {\n            q.pop_front();\n            q.push_front(now ^ 1);\n        } else {\n            q.pop_front();\n            q.push_back(now ^ 1);\n            now ^= 1;\n        }\n    }\n    while (!q.empty()) putchar((q.front() ^ now) + 'A'), q.pop_front();\n    puts(\"\");\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[444444];\nint D[444444];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tif(n==1){\n\t\tprintf(\"%c\\n\",(s[0]-'A'+k)%2==0?'A':'B');\n\t\treturn 0;\n\t}\n\n\tfor(i=0;i<n;i++){\n\t\tif((s[i]-'A'+i)%2==0) D[i] = 2;\n\t\telse D[i] = 1;\n\t\tc += D[i];\n\t}\n\tfor(i=n;i<n+n;i++){\n\t\ts[i] = ((i-n)%2==1?'A':'B');\n\t}\n\n\tif(k>c){\n\t\tfor(i=0;i<n;i++){\n\t\t\tprintf(\"%c\",(n-i)%2==1?'A':'B');\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tfor(i=c=0;i<n;i++){\n\t\tif(c+D[i]>=k) break;\n\t\tc += D[i];\n\t}\n\n\tif(D[i] == 1){\n\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t}\n\telse{\n\t\tif(c+1 == k){\n\t\t\tprintf(\"%c\",(s[i]-'A'+i)%2==1?'A':'B');\n\t\t\tfor(j=i+1;j<n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==0?'A':'B');\n\t\t}\n\t\telse{\n\t\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\t\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\treverse(s+1,s+1+n);\n\tprint(s+i);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n//\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// This amazing code is by Eric Sunli Chen.\n#include <algorithm>\n#include <bitset>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\ntemplate<typename T> void get_int(T &x)\n{\n\tchar t=getchar();\n\tbool neg=false;\n\tx=0;\n\tfor(; (t>'9'||t<'0')&&t!='-'; t=getchar());\n\tif(t=='-')neg=true,t=getchar();\n\tfor(; t<='9'&&t>='0'; t=getchar())x=x*10+t-'0';\n\tif(neg)x=-x;\n}\ntemplate<typename T> void print_int(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tshort a[20]= {},sz=0;\n\twhile(x>0)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1; i>=0; i--)putchar('0'+a[i]);\n}\n#define ff first\n#define ss second\n#define pb push_back\n#define mp make_pair\n#define get1(a) get_int(a)\n#define get2(a,b) get1(a),get1(b)\n#define get3(a,b,c) get1(a),get2(b,c)\n#define printendl(a) print_int(a),puts(\"\")\ntypedef long long LL;\ntypedef unsigned long long uLL;\ntypedef pair<int,int> pii;\nconst int inf=0x3f3f3f3f;\nconst LL Linf=1ll<<61;\nconst double pi=acos(-1.0);\n\nchar s[200111];\nint n,k,q[600111],fr,rr;\nint main()\n{\n\tget2(n,k);scanf(\"%s\",s+1);\n\t\n//\tif(k>=2*n)k=(k-2*n)%2+2*n;\n\t\n\tfor(int i=1;i<=n;i++)q[rr++]=s[i]-'A';\n\t\n\tint neg=0;\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tif(q[fr]^neg==0)q[fr]^=1;\n\t\telse\n\t\t{\n\t\t\tneg^=1;\n\t\t\tfr++;\n\t\t\tq[rr++]=neg;\n\t\t}\n\t}\n\tfor(int i=fr;i<rr;i++)putchar((q[i]^neg)+'A');\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\t//chkmin(k, 20 * n);\n\tcin >> s;\n}\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tint C = 0;\n\twhile(k--)\n\t{\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < k; i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\n\t\tif (!(a[0] ^ rev) && i >= 5 * n)\n\t\t\ti += (k - i) - (k - i) % 3 - 1;\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n/*#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\nusing namespace __gnu_pbds;\ntemplate<typename T> using gpp_set = tree<T, null_type, less<T>, rb_tree_tag, tree_order_statistics_node_update>;\ntemplate<typename T, typename L> using gpp_map = tree<T, L, less<T>, rb_tree_tag, tree_order_statistics_node_update>;\ntemplate<typename T> using gpp_multiset = tree<T, null_type, less_equal<T>, rb_tree_tag, tree_order_statistics_node_update>;*/\nstruct fast_ios { fast_ios(){ cin.tie(0); ios::sync_with_stdio(false); cout << fixed << setprecision(20); }; } fast_ios_;\n#define FOR(i, begin, end) for(int i=(begin);i<(end);i++)\n#define REP(i, n) FOR(i,0,n)\n#define IFOR(i, begin, end) for(int i=(end)-1;i>=(begin);i--)\n#define IREP(i, n) IFOR(i,0,n)\n#define Sort(v) sort(v.begin(), v.end())\n#define Reverse(v) reverse(v.begin(), v.end())\n#define all(v) v.begin(),v.end()\n#define SZ(v) ((int)v.size())\n#define Lower_bound(v, x) distance(v.begin(), lower_bound(v.begin(), v.end(), x))\n#define Upper_bound(v, x) distance(v.begin(), upper_bound(v.begin(), v.end(), x))\n#define Max(a, b) a = max(a, b)\n#define Min(a, b) a = min(a, b)\n#define bit(n) (1LL<<(n))\n#define bit_exist(x, n) ((x >> n) & 1)\n#define debug(x) cout << #x << \"=\" << x << endl;\n#define vdebug(v) { cout << #v << \"=\" << endl; REP(i_debug, v.size()){ cout << v[i_debug] << \",\"; } cout << endl; }\n#define mdebug(m) { cout << #m << \"=\" << endl; REP(i_debug, m.size()){ REP(j_debug, m[i_debug].size()){ cout << m[i_debug][j_debug] << \",\"; } cout << endl;} }\n#define Return(ans) { cout << (ans) << endl; return 0; }\n#define pb push_back\n#define f first\n#define s second\n#define int long long\n#define INF 1000000000000000000\ntemplate<typename T> istream &operator>>(istream &is, vector<T> &v){ for (auto &x : v) is >> x; return is; }\ntemplate<typename T> ostream &operator<<(ostream &os, vector<T> &v){ for(int i = 0; i < v.size(); i++) { cout << v[i]; if(i != v.size() - 1) cout << endl; }; return os; }\ntemplate<typename T1, typename T2> ostream &operator<<(ostream &os, pair<T1, T2> p){ cout << '(' << p.first << ',' << p.second << ')'; return os; }\ntemplate<typename T> void Out(T x) { cout << x << endl; }\ntemplate<typename T1, typename T2> void Ans(bool f, T1 y, T2 n) { if(f) Out(y); else Out(n); }\n\nusing vec = vector<int>;\nusing mat = vector<vec>;\nusing Pii = pair<int, int>;\nusing PiP = pair<int, Pii>;\nusing PPi = pair<Pii, int>;\nusing Pdi = pair<double, int>;\nusing bools = vector<bool>;\nusing pairs = vector<Pii>;\n\n//int dx[4] = {1,0,-1,0};\n//int dy[4] = {0,1,0,-1};\n//char d[4] = {'D','R','U','L'};\n\nconst int mod = 1000000007;\n//const int mod = 998244353;\n//#define Add(x, y) x = (x + (y)) % mod\n//#define Mult(x, y) x = (x * (y)) % mod\n\n\n\nsigned main(){\n\n    int N, K; cin >> N >> K;\n    string S; cin >> S;\n\n    vec v(2 * N, -1);\n    REP(i, N) v[i] = S[i] - 'A';\n    int p = 0, s = 0;\n\n    REP(i, K){\n        int top = (v[s] + p) % 2;\n        if(top == 0) v[s] ^= 1;\n        else{\n            p ^= 1;\n            s++;\n            v[s + N - 1] = p;\n        }\n\n        if(s == N){\n            if(N % 2 && (K - i - 1) % 2) v[s] ^= 1;\n            break;\n        }\n    }\n    REP(i, N) cout << (char)('A' + (v[s + i] + p) % 2);\n    cout << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>600000){\n    while(1){}\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  int index = 0;\n  int c = 0;\n  rep(i,0,k){\n    if(c==0){\n      if(s[index]=='A'){\n        s[index]='B';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'B';\n      }\n    }\n    else{\n      if(s[index]=='B'){\n        s[index]='A';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'A';\n      }\n    }\n  }\n  string ans;\n  rep(i,0,n){\n    if(c==0){\n      ans += s[(index+i)%n];\n    }\n    else{\n      if(s[(index+i)%n]=='A'){\n        ans += \"B\";\n      }\n      else{\n        ans += \"A\";\n      }\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring a;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> a;\n}\n\nuint64_t chsh;\nmap<uint64_t, int> pos;\n\nvoid preform()\n{\n\tif(n > 10000) return;\n\n\tint pos = 0, last = -1;\n\twhile(pos >= 0 && pos < n)\n\t{\n\t\ta[pos] = ((a[pos] - 'A') ^ 1) + 'A';\n\n\t\tif(a[pos] == 'B') swap(last, pos);\n\t\telse\n\t\t{\n\t\t\tint val = pos;\n\t\t\tpos += (pos - last);\n            last = val;\n\t\t}\n\t}\n}\n\nvoid solve()\n{\n\tint period = 1;\n    for(int i = 0; i < k; i++)\n\t{\n\t\tpreform();\n\n\t\tchsh = 0;\n\t\tfor(int j = 0; j < n; j++)\n\t\t\tchsh = chsh * 3ll + a[j] - 'A' + 1;\n\n        if(pos.count(chsh))\n\t\t{\n\t\t\tk -= (i + 1);\n            period = (i - pos[chsh]);\n\t\t\tbreak;\n\t\t}\n\n        pos[chsh] = i;\n\t}\n\n\tk %= period;\n    for(int i = 0; i < k; i++)\n    \tpreform();\n\n\tcout << a << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2) k=k%2?(n*2):(n*2+1);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <cstdlib>\n#include <set>\n#include <queue>\nusing namespace std;\n\n#define X first\n#define Y second\n#define Mod 1000000009\n#define N 1000010\n#define M 101\n\ntypedef long long ll;\n\nconst int INF=1<<30;\nint n,K,f,r;\nchar s[N];\nbool flag;\n\nvoid Work()\n{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[f]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts[++r]='A';\n\t\t\t\tf++;\n\t\t\t}\n\t\t\telse s[f]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[f]=='A') s[f]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts[++r]='B';\n\t\t\t\tf++;\n\t\t\t}\n\t\t}\n}\n\nint main()\n{\n\t//freopen(\"in.in\",\"r\",stdin);\n\t//freopen(\"out.out\",\"w\",stdout);\n\t\n\tcin >> n >> K; scanf(\"%s\",s);\n\tbool flag=0; f=0,r=n-1;\n\tfor (int i=1;i<=2*n;i++)\n\t{\n\t\tif (K==0) break; K--;\n\t\tWork();\n\t}\n\tif (K&1) Work();\n\tif (flag) for (int i=f;i<=r;i++) printf(\"%c\",s[i]=='A'? 'B':'A');\n\telse for (int i=f;i<=r;i++) printf(\"%c\",s[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\n\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\t/*実験\n\trep(i, 30) {\n\t\ts = next(s);\n\t\tcout << s << endl;\n\t}return 0;*/\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tt++;\n\t\t\t\tD.pop_front();\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tint a = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (a == 1) {\n\t\t\t\tD.push_back(a);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta--;\n\t\t\t\tD.push_back(1);\n\t\t\t\tD.push_front(a);\n\t\t\t\tnow = 'A';\n\t\t\t\n\t\t\t}\n\n\t\t\tif (now == 'B'&&D.size() % 2) {\n\t\t\t\tint t = D.back();\n\t\t\t\tD.pop_back();\n\t\t\t\tif (t == 1) {\n\t\t\t\t\tint u = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tu++;\n\t\t\t\t\tD.push_back(u);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n&&now == 'B')break;\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\n\nnamespace IO {\n    template <typename _T>\n    inline bool read (_T& x) {\n        x = 0;\n        _T y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return false;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return true;\n    }\n\n    template <typename _T>\n    inline _T input () {\n        _T x = 0, y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return 0;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return x;\n    }\n};\nusing namespace IO;\n\n#define reg register\n#define MAX_N 200007\n#define FIN(s) freopen(s, \"r\", stdin)\n#define FOUT(s) freopen(s, \"w\", stdout)\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define rep(i, l, r) for(int i = l; i <= r; ++i)\n#define lep(i, l, r) for(int i = l; i < r; ++i)\n#define irep(i, r, l) for(int i = r; i >= l; --i)\n#define ilep(i, r, l) for(int i = r; i > l; --i)\ntypedef long long ll;\n\nint N, K, bg;\nchar s[MAX_N];\nint q[MAX_N];\n\nint main () {\n#ifdef LOCAL\n    FIN(\"in\");\n#endif\n    read(N), read(K);\n    scanf(\"%s\", s);\n    bg = 0;\n    lep (i, 0, N) q[i] = s[i] - 'A';\n    int now = 0;\n    rep (i, 1, K) {\n        if (now == q[bg]) {\n            q[bg] = now ^ 1;\n        } else {\n            q[bg] = now ^ 1;\n            (bg += 1) >= N ? bg = 0 : 0;\n            now ^= 1;\n        }\n    }\n    rep (i, 1, N) {\n        putchar((q[bg] ^ now) + 'A');\n        (bg += 1) %= N;\n    } puts(\"\");\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\tint cnt = 0;\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tcnt++;\n\t\tif(cnt == 500000)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(k % 2 && k > 0 && n % 2)\n\t{\n\t\tif(v.front().second == 1)\n\t\t{\n\t\t\tv.pop_front();\n\t\t\tv.front().second++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tv.push_front(mp('A' + swapped , 1));\n\t\t}\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\nusing namespace std;\n\nchar a[200001];\nint b[200000];\nint c[100001];\nint d[100001];\n\nint main(void){\n\nfor (int i = 0; i < 100001; i++){\n\tb[i] = 0;\n\tc[i] = 0;\n\td[i] = 0;\n}\nint k;\nlong long s;\nint p, q;\nlong long n, m;\nlong long x, y, z;\n\ts = 0;\n\tq = 0;\n\tx = 0;\n\ty = 0;\n\tz = 0;\n\ts = 0;\n\tscanf(\"%lld %lld\", &n,&m);\n\tscanf(\"%s\", a);\n\tfor (int i = 0; i < n; i++){\n\t\tif (a[i] == 'A')b[i] = 1;\n\t\tif (a[i] == 'B')b[i] = 2;\n\t}\n\tz = 0;\n\tif (m > n + 1){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tif ((n + i) % 2 == 0)printf(\"B\");\n\t\t\telse  printf(\"A\");\n\t\t}\n\t\treturn 0;\n\t}\n\tfor (int i = 0; i < m&&i<n+1; i++){\n\t\ty = 0;\n\t\tfor (int j = 0; j < n; j++){\n\t\t\tif (y == 0){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\tb[j] = 2;\n\t\t\t\t\ty = 3;\n\t\t\t\t}\n\t\t\t\telse y = 1;\n\t\t\t}\n\t\t\tif (y == 1){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\ty = 2;\n\t\t\t\t}\n\t\t\t\telse b[j - 1] = 1;\n\t\t\t}\n\t\t\tif (y == 2){\n\t\t\t\tif (j < n - 1){\n\t\t\t\t\tif (b[j + 1] == 1){\n\t\t\t\t\t\tb[j] = (b[j] + 1) % 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 0; i < n; i++){\n   if(b[i]==1)printf(\"A\");\n   if (b[i] == 2)printf(\"B\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#define rep(i,j,k) for (i=j;i<=k;i++)\nusing namespace std;\nconst int N=2e5+5;\nint n,k,i,j,p,rev,a[N];\nchar s[N];\nvoid trans(int x) { if (x) putchar('A'); else putchar('B'); }\nint main()\n{\n\t//freopen(\"reflector.in\",\"r\",stdin);\n\t//freopen(\"reflector.out\",\"w\",stdout);\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\trep(i,1,n) if (s[i]=='A') a[i]=1; else a[i]=0;\n\tfor (j=0,p=1;j<k && p<=n;j++) {\n\t\tif (a[p]^rev) {a[p]^=1; continue;}\n\t\trev^=1; p++;\n\t}\n\tif (j>=k) {\n\t\trep(i,p,n) trans(a[i]^rev);\n\t\trep(i,n+1,n+p-1) trans((n+p-i)&1);\n\t}\n\telse {\n\t\tif (n&1) {\n\t\t\ttrans((k-j+1)&1);\n\t\t\trep(i,2,n) trans(i&1);\n\t\t}\n\t\telse rep(i,1,n) trans((i+1)&1);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <bitset>\n#define ll long long\nusing namespace std;\n\nbitset<200010> bs, fn, xx;\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tfor(int i=0; i<N; ++i){\n\t\tbs[i]=(S[i]=='B');\n\t\tfn[i]=(N-1-i)%2;\n\t\txx[i]=1;\n\t}\n\tint cnt=0;\n\twhile(bs!=fn && cnt<K){\n\t\tif(bs[0]){\n\t\t\tbs ^= xx;\n\t\t\tbs >>= 1;\n\t\t\tbs[N-1]=0;\n\t\t}else{\n\t\t\tbs[0]=1;\n\t\t}\n\t\t++cnt;\n\t}\n\tif(N%2==1 && (K-cnt)%2==1) bs[0]=1;\n\tfor(int i=0; i<N; ++i){\n\t\tif(bs[i]) cout << 'B';\n\t\telse cout << 'A';\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//                                ** ALLAH **\n//                        who is Hussain? -> whoishussain.org\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int mod=1000000007;\ninline int in(){ int x; scanf(\"%d\",&x); return x; }\nconst int N = 200100;\nint n, k;\nstring s;\nint32_t main(){\n        cin >> n >> k;\n        cin >> s;\n\n        int t = k, c = 1;\n        k = 0;\n        for(; t && k < n;){\n                if( s[k] == 'A' && c ) s[k] = 'A' + (1-k%2), c = 0;\n                else k++, c = 1;\n                t--;\n        }\n        if( k == n ) { cout << char('A' + t%2);for(int i = 1;i < n; i++) cout << char('A'+(n-i-1)%2); cout << endl;return 0; } \n        for(int i = k; i < n; i++) cout << (k%2==1?(s[i]=='A'?'B':'A'):s[i]);\n        for(int i = 0;i < k; i++) cout << char('A'+(n-i-1)%2); \n        cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cassert>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <deque>\n\n#define FOR(i, a, b) for (int i = (a); i < (b); ++i)\n#define REP(i, n) FOR (i, 0, n)\n#define _ << \" _ \" <<\n#define TRACE(x) cerr << #x << \" = \" << x << endl\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n//#define debug\n//#define TRACE(x)\n\nusing namespace std;\n\ntypedef long long llint;\n\nconst int MAXN = 200010;\n\nint n, k, par;\nchar s[MAXN];\ndeque<int> d;\n\nvoid update() {\n  if ((d.front() ^ par) == 0) {\n    d.pop_front();\n    d.push_front(par ^ 1);\n    return;\n  }\n  d.pop_front();\n  par ^= 1;\n  d.push_back(par);\n}\n\nvoid print() {\n  for (; !d.empty(); d.pop_front())\n    printf(d.front() ^ par ? \"B\" : \"A\");\n  printf(\"\\n\");\n}\n\nint main(void) {\n  scanf(\"%d %d\",&n,&k);\n  scanf(\"%s\",s);\n  REP(i, n) d.push_back(s[i] == 'A' ? 0 : 1);\n\n  REP(it, 2 * n) {\n    update();\n    if (it + 1 == k) {\n      print();\n      return 0;\n    }\n  }\n\n  if (k % 2 == 1)\n    update();\n  \n  print();\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\n\nvoid mf(){\n\tfreopen(\"input.in\",\"r\",stdin);\n\tfreopen(\"output.ou\",\"w\",stdout);\n}\nint a[100007];\nint n, k;\n// map<string, int> mm;\nstring convert(){\n\tstring s = \"\";\n\tfor(int i = 0; i<n;i++){\n\t\ts+=char(a[i]+'A');\n\t}\n\treturn s;\n}\ninline bool check1(int res){\n\tif(abs(res- n/2) > 1)  return false;\n\tfor(int i = 1; i < n;i++)\n\tif(a[i] == a[i-1]) return false;\n\treturn true;\n}\nvoid solve(){\n\tcin>>n>>k;\n\tstring st;\n\t// srand(time(NULL));\n\t// n = 100000;\n\t// for(int i = 0; i < n; i++) a[i] = rand()%2;\n\tcin>>st;\n\tint res = 0;\n\tfor(int i = 0; i<n;i++) {\n\t\ta[i] = st[i]-'A';\n\t\tres+=a[i];\n\t}\n\tfor(int j = 1; j<= k;j++){\n\t\tint dir = 1, p = -1;\t\t\n\t\twhile(true){\n\t\t\tp+=dir;\n\t\t\tif(p<0 || p>=n) break;\n\t\t\tif(a[p]== 0) dir = -dir;\n\t\t\tres -= a[p];\n\t\t\ta[p] = 1- a[p];\n\t\t\tres += a[p];\n\t\t}\n\t\tif(check1(res)){\n\t\t\tif(a[0]==1){\n\t\t\t\tfor(int i = 0; i < n;i++)\n\t\t\t\t\tcout<<char( (1- i%2 ) + 'A');\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif((k-j)%2==0){\n\t\t\t\t\tfor(int i= 0; i<n;i++)\n\t\t\t\t\t\tcout<<char((i%2)+'A');\n\t\t\t\t}else{\n\t\t\t\t\tcout<<'B';\n\t\t\t\t\tfor(int i = 1;i<n;i++)\n\t\t\t\t\t\tcout<<char((i%2)+'A');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\tfor(int i = 0; i<n;i++)cout<<char(a[i]+'A');\n\n}\nvoid test(){\n\t// string x;cin>>x;\n\tsrand(time(NULL));\n\t// n = x.length();\t\n\tn = 13;\n\tfor(int i = 0; i < n; i++) a[i] = rand()%2;\n\tstring st = convert();\n\tcerr<<\"START==\\n\"<<st<<\"\\n===\\n\";\n\tmm[st] = 0;\n\tfor(int i = 1; i <=25; i++){\n\t\tint dir = 1, p = -1;\n\t\twhile(true){\n\t\t\tp+=dir;\n\t\t\tif(p<0 || p>=n) break;\n\t\t\tif(a[p]== 0) dir = -dir;\n\t\t\ta[p] = 1- a[p];\n\t\t}\n\t\tst = convert();\n\t\t// cerr<<\"step \"<<i<<endl<<st<<\"\\n===\"<<endl;\n\t\tcerr<<st<<endl;\n\t\t// if(mm.find(st) != mm.end()){\n\t\t// \tcerr<<st<<\" \";\n\t\t// \tcerr<<i- mm[st]<<endl;\n\t\t// \tcerr<<mm[st]<<\" \"<<i<<endl;\n\t\t// \tmm[st] = i;\n\t\t// \t//break;\t\t\n\t\t// }else{\n\t\t// \tmm[st] = i;\n\t\t// }\n\t}\n}\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\t#ifdef tuanh\n\tmf();\n\t#endif\n\tsolve();\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    //cout<<t<<\" \"<<v.front().first<<\":\";\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(v.empty()) break;\n    k--;\n    //print();\n    //for(P p:v) cout<<(p.first^t)<<\" \"<<p.second<<endl;\n    //cout<<endl;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      //cout<<\"UKUNICHIA:\";print();\n      if(!cnt &&(v.back().first^t)){\n\t//v.back().first^=1;\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //print();\n    //for(P p:v) cout<<(p.first^t)<<\" \"<<p.second<<endl;\n    //cout<<endl;\n  }\n  if((~k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(K-- && cnt + 1 < ans.size())\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tfor(int i = 1 ; i <= 2 * N && K-- ; ++i)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\tif(K > 0){\n\t\t\tK %= 2;\n\t\t\twhile(K--)\n\t\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\t}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < 3 * n; i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\n\nnamespace IO {\n    template <typename _T>\n    inline bool read (_T& x) {\n        x = 0;\n        _T y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return false;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return true;\n    }\n\n    template <typename _T>\n    inline _T input () {\n        _T x = 0, y = 1;\n        char c = getchar();\n        while ((c < '0' || '9' < c) && c != EOF) {\n            if (c == '-') y = -1;\n            c = getchar();\n        }\n        if (c == EOF) return 0;\n        while ('0' <= c && c <= '9') x = x * 10 + c - '0', c = getchar();\n        x *= y;\n        return x;\n    }\n};\nusing namespace IO;\n\n#define reg register\n#define MAX_N 200007\n#define FIN(s) freopen(s, \"r\", stdin)\n#define FOUT(s) freopen(s, \"w\", stdout)\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define rep(i, l, r) for(int i = l; i <= r; ++i)\n#define lep(i, l, r) for(int i = l; i < r; ++i)\n#define irep(i, r, l) for(int i = r; i >= l; --i)\n#define ilep(i, r, l) for(int i = r; i > l; --i)\ntypedef long long ll;\n\nint N, K, bg;\nchar s[MAX_N];\nint q[MAX_N];\n\ninline void print () {\n    rep (i, 1, N) {\n        putchar(q[bg] + 'A');\n        (bg += 1) %= N;\n    } puts(\"\");\n}\n\nint main () {\n#ifdef LOCAL\n    FIN(\"in\");\n#endif\n    read(N), read(K);\n    scanf(\"%s\", s);\n    bg = 0;\n    lep (i, 0, N) q[i] = s[i] - 'A';\n    int now = 0;\n    int M = std::min(K, 2 * N);\n    rep (i, 1, M) {\n        if (now == q[bg]) {\n            q[bg] = now ^ 1;\n        } else {\n            q[bg] = now ^ 1;\n            (bg += 1) >= N ? bg = 0 : 0;\n            now ^= 1;\n        }\n    }\n    rep (i, 1, N) q[bg] ^= now, (bg += 1) %= N;\n    if (K <= 2 * N) print();\n    else {\n        if (q[(bg + 1) % N] == 1) {\n            if (K - 2 * N & 1) q[bg] ^= 1;\n        }\n        print();\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nchar str[400005];\nint main()\n{\n\t// freopen(\"AGC011-D.in\", \"r\", stdin);\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, str);\n\tint he = 0, ta = n, flg = 0;\n\twhile (k-- && he < n)\n\t{\n\t\tif ((str[he] ^ flg) == 'A')\n\t\t\tstr[he] ^= 3;\n\t\telse\n\t\t{\n\t\t\tflg ^= 3;\n\t\t\tstr[ta++] = 'A' ^ flg;\n\t\t\the++;\n\t\t}\n\t}\n\tif ((n & 1) && !(k & 1))\n\t\tstr[he] ^= 3;\n\tfor (int i = he; i < ta; i++)\n\t\tputchar(str[i] ^ flg);\n\tputs(\"\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <ctime>\n#include <cstdlib>\n#include <cmath>\n#include <iostream>\n#include <string>\n#include <queue>\n#include <map>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <deque>\n#include <utility>\n#include <chrono>\n#include <sstream>\n#include <iomanip>\n#define INF 1 << 30\n#define MOD 1000000007;\n#define pi 3.14159265358979\n#define rep(i, n) for (int (i) = 0; (i) < (int)(n); (i)++)\n#define rer(i, l, r) for (int (i) = (int)(l); (i) <= (int)(r); (i)++)\n#define reu(i, l, r) for (int (i) = (int)(l); (i) < (int)(r); (i)++)\n#define D(x) cout << x << endl\n#define d(x) cout << x\n#define all(x) (x).begin(), (x).end()\n#define pub(x) push_back(x)\n#define pob() pop_back()\n#define puf(x) push_front(x)\n#define pof() pop_front()\n#define mp(x, y) make_pair((x), (y))\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<double> vd;\ntypedef vector<long long> vll;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<long, long> pll;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if (y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if (x < y) x = y; }\nstatic const int dx[] = {0, 0, 1, -1};\nstatic const int dy[] = {-1, 1, 0, 0};\n\nint main() { \n  int n, k;\n  cin >> n >> k;\n  bool flag[202020];\n  string s;\n  cin >> s;\n  for (int i = 0; i < n; i++) {\n    flag[i] = (s[i] == 'A');\n  }\n  int m = n;\n  flag[m] = false;\n  while (k--) {\n    if (flag[0]) {\n      flag[0] = false;\n    } else {\n      for (int i = 0; i < m; i++) {\n        flag[i] = !flag[i + 1];\n      }\n      while (m >= 2 && !flag[m - 2] && flag[m - 1]) {\n        m -= 2;\n      }\n      if (m == 0) {\n        break;\n      }\n      if (m == 1) {\n        k %= 2;\n      }\n    }\n  }\n\n  for (int i = 0; i < n; i++) {\n    d((flag[i] ? 'A' : 'B'));\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=(a);i<=(b);i++)\n#define per(i,a,b) for(int i=(a);i>=(b);i--)\n#define forE(i,x) for(int i=head[x];i!=-1;i=ne[i])\nusing namespace std;\ntypedef long long i64;\ntypedef unsigned long long u64;\ntypedef unsigned u32;\ntypedef pair<int,int> pin;\n#define mk(a,b) make_pair(a,b)\n#define lowbit(x) ((x)&(-(x)))\n#define sqr(a) ((a)*(a))\n#define clr(a) (memset((a),0,sizeof(a)))\n#define ls ((x)<<1)\n#define rs (((x)<<1)|1)\n#define mid (((l)+(r))>>1)\n#define pb push_back\n#define w1 first\n#define w2 second\ninline void read(int &x){\n\tx=0;int f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\tx*=f;\n}\ninline void judge(){\n\tfreopen(\"in.txt\",\"r\",stdin);\n\tfreopen(\"out.txt\",\"w\",stdout);\n}\n/*******************************head*******************************/\nconst int maxn=1000005;\nchar s[maxn];\nint a[maxn],q[maxn],n,m;\ninline void solve(int k){\n\tint l=1,r=n,tag=0;\n\trep(i,1,n)q[i]=s[i]-'A';\n\trep(i,1,k){\n\t\tif((tag^q[l])==0)\n\t\t\tq[l]^=1;\n\t\telse{\n\t\t\tl++;tag^=1;\n\t\t\tq[++r]=tag;\n\t\t}\n\t}\n\trep(i,1,n)a[i]=q[l+i-1]^tag;\n}\nint main(){\n//\tjudge();\n\tread(n);read(m);scanf(\"%s\",s+1);\n\tif(m<=2*n)\n\t\tsolve(m);\n\telse \n\t\tif(m&1)\n\t\t\tsolve(2*n-1);\n\t\telse\n\t\t\tsolve(2*n);\n\trep(i,1,n)putchar('A'+a[i]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<list>\n#include<deque>\n#include<bitset>\n#include<set>\n#include<map>\n#include<unordered_map>\n#include<unordered_set>\n#include<cstring>\n#include<sstream>\n#include<complex>\n#include<iomanip>\n#include<numeric>\n#include<cassert>\n#define X first\n#define Y second\n#define pb push_back\n#define rep(X,Y) for (int (X) = 0;(X) < (Y);++(X))\n#define reps(X,S,Y) for (int (X) = S;(X) < (Y);++(X))\n#define rrep(X,Y) for (int (X) = (Y)-1;(X) >=0;--(X))\n#define repe(X,Y) for ((X) = 0;(X) < (Y);++(X))\n#define peat(X,Y) for (;(X) < (Y);++(X))\n#define all(X) (X).begin(),(X).end()\n#define rall(X) (X).rbegin(),(X).rend()\n#define eb emplace_back\n#define UNIQUE(X) (X).erase(unique(all(X)),(X).end())\n#define Endl endl\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntemplate<class T> using vv=vector<vector<T>>;\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"{\"; rep(i,t.size()) {os<<t[i]<<\",\";} os<<\"}\"<<endl; return os;}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\ntemplate<class T> inline bool MX(T &l,const T &r){return l<r?l=r,1:0;}\ntemplate<class T> inline bool MN(T &l,const T &r){return l>r?l=r,1:0;}\n#define out(args...){vector<string> a_r_g_s=s_p_l_i_t(#args, ','); e_r_r(a_r_g_s.begin(), args); }\nvector<string> s_p_l_i_t(const string& s, char c) { vector<string> v; stringstream ss(s); string x; while(getline(ss,x,c)) v.emplace_back(x); return move(v);}\nvoid e_r_r(vector<string>::iterator it) {}\ntemplate<typename T, typename... Args> void e_r_r(vector<string>::iterator it, T a, Args... args){ if(*it==\" 1\"||*it==\"1\") cerr<<endl; else cerr << it -> substr((*it)[0] == ' ', it -> length()) << \" = \" << a << \", \"; e_r_r(++it, args...);}\nconst ll MOD=1e9+7;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cout<<fixed<<setprecision(0);\n  int t=1e9,n=200000;\n  string s;//(n,'A');\n  cin>>n>>t>>s; s.reserve(512345);\n  int o=0,f=0;\n  int sum=0+'A'+'B';\n  rep(i,t){\n    if(s[o]=='A'+f){\n      s[o]=sum-s[o];\n    }else{\n      ++o;\n      f=1-f;\n      s+='A'+f;\n    }\n    //out(f,o,s,o+n,s.size(),1);\n    if(o>n && i%2!=n%2) break;\n  }\n  rep(i,n) cout<<char(f?sum-s[o+i]:s[o+i]); cout<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\t\tif((s[i]=='A')^op){s[i]='B';continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\t\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\treverse(s+1,s+1+n);\n\tprint(s+i);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define f(i, x, n) for(int i = x; i < (int)(n); ++i)\n\nchar s[200002];\nint n, k;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tif (n == 1){\n\t\tif (k & 1) { if (s[0] == 'A')s[0] = 'B'; else s[0] = 'A'; }\n\t\tprintf(\"%s\\n\", s);\n\t\tassert(false);\n\t}\n\ts[n] = 'B';\n\tint i = 0;\n\tbool c = false;\n\twhile (k && i <= n){\n\t\tif (!c && s[i] - (i & 1) == 'A'){\n\t\t\tc = true;\n\t\t\t--k;\n\t\t\tcontinue;\n\t\t}\n\t\tc = false;\n\t\t--k;\n\t\t++i;\n\t}\n\tf(j, 0, n){\n\t\tint z = j + i;\n\t\tif (z > n){\n\t\t\tif (n - j & 1)s[j] = 'A';\n\t\t\telse s[j] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\tif (i & 1) { if (s[z] == 'A')s[j] = 'B'; else s[j] = 'A'; }\n\t\telse s[j] = s[z];\n\t}\n\tif (c)s[0] = 'B';\n\ts[n] = 0;\n\tprintf(\"%s\\n\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 100005\nusing namespace std;\nint n,k;\nchar s[N];\nint main()\n{\n    scanf(\"%d%d\",&n,&k);scanf(\"%s\",s+1);\n    if(k<=(n<<1))\n    {\n        while(k--)\n        {\n            int h=1,t=1;\n            while(h>=1&&h<=n)\n            {\n                if(s[h]=='A') s[h]='B',t=-t,h+=t;\n                else s[h]='A',h+=t;\n            }\n        }\n        printf(\"%s\",s+1);\n    }\n    else\n    {\n        k-=(n<<1);\n        int op=n<<1;\n        while(op--)\n        {\n            int h=1,t=1;\n            while(h>=1&&h<=n)\n            {\n                if(s[h]=='A') s[h]='B',t=-t,h+=t;\n                else s[h]='A',h+=t;\n            }\n        }\n        if(!(n&1)) {printf(\"%s\",s+1);return 0;}\n        if(n&1)\n        {\n            if(s[1]=='A')\n            {\n                if(!(k&1)) {printf(\"%s\",s+1);return 0;}\n                else if(k&1) putchar('B'),printf(\"%s\",s+2);\n            }\n            else\n            {\n                if(!(k&1)) {printf(\"%s\",s+1);return 0;}\n                else if(k&1) putchar('A'),printf(\"%s\",s+2);\n            }\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint N,K; char V[600200];\n\nint main()\n{\n\tscanf (\"%d %d %s\",&N,&K,V);\n\tif (K > 2 * N) K = 2 * N + (K - 2 * N) % 2;\n\n\tint idx = 0, neg = 0;\n\twhile (K--){\n\t\tif (V[idx] == 'A' ^ neg) V[idx] = !(V[idx] - 'A') + 'A';\n\t\telse{\n\t\t\tneg = !neg;\n\t\t\tV[idx+N] = neg ? 'B' : 'A';\n\t\t\tidx++;\n\t\t}\n\t}\n\n\tif (neg){\n\t\tfor (int i=idx;i<idx+N;i++) V[i] = !(V[i] - 'A') + 'A';\n\t}\n\tputs(V+idx);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 2e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<ll, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif(m.count(h)){\n\t\t\tk %= m[h] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[h] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 2 - 1;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define Fst first\n#define Snd second\n#define RG register\n#define mp make_pair\n#define mem(a,b) memset(a,b,sizeof(a))\nusing namespace std;\ntypedef long long LL;\ntypedef long double LD;\ntypedef unsigned int UI;\ntypedef unsigned long long ULL;\ntemplate<typename T> inline void read(T& x) {\n\tchar c = getchar();\n\tbool f = false;\n\tfor (x = 0; !isdigit(c); c = getchar()) {\n\t\tif (c == '-') {\n\t\t\tf = true;\n\t\t}\n\t}\n\tfor (; isdigit(c); c = getchar()) {\n\t\tx = x * 10 + c - '0';\n\t}\n\tif (f) {\n\t\tx = -x;\n\t}\n}\ntemplate<typename T, typename... U> inline void read(T& x, U& ... y) {\n\tread(x), read(y...);\n}\nint n,K;\nint G[300010];\nchar s[100010];\n//#define rua\nint main() {\n//\tios::sync_with_stdio(false);\n#ifdef rua\n\tfreopen(\"GG.in\",\"r\",stdin);\n#endif\n  read(n,K); scanf(\"%s\",s+1);\n  for(int i=1;i<=n;++i) G[i]=s[i]-'A';\n  int l=1,r=n,t=0;\n  for(int i=1;i<=n<<1;++i) {\n    if(G[l]^t==0) G[l]^=1;\n    else t^=1,++l,G[++r]=t;\n    if(i==K) {\n      for(int i=l;i<=r;++i) G[i]^=t,printf(\"%c\",G[i]+'A');\n      return 0;\n    }\n  }\n  K-=n*2;\n  if(n%2&&K%2) G[l]^=1;\n  for(int i=l;i<=r;++i) G[i]^=t,printf(\"%c\",G[i]+'A');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>600000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      while(1){}\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  int index = 0;\n  int c = 0;\n  rep(i,0,k){\n    if(c==0){\n      if(s[index]=='A'){\n        s[index]='B';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'B';\n      }\n    }\n    else{\n      if(s[index]=='B'){\n        s[index]='A';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n        s[(index+n-1)%n] = 'A';\n      }\n    }\n  }\n  string ans;\n  rep(i,0,n){\n    if(c==0){\n      ans += s[(index+i)%n];\n    }\n    else{\n      if(s[(index+i)%n]=='A'){\n        ans += \"B\";\n      }\n      else{\n        ans += \"A\";\n      }\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbool a[N];\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] ^= (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] ^= 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] ^= 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n\n    int cnt = 0;\n    while (k && cnt < 2 * n) {\n        --k;\n        ++cnt;\n        if (a[0]) {\n            a[0] ^= 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] ^= 1;\n                }   \n            }   \n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] ^= (k & 1);                                \n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "/*\n找规律发现滚一次球后串变为取反后左移一位，末尾补位A\n大致原因就是\nA-> B 变成 A A->\nA-> A 变成 B A->\n开头和结尾也符合规律\n\n发现 2n 步必然会把初始的串给替换掉，串就变成了 ABABAB... 或者 BABABA... 的形式\n*/\n#include <bits/stdc++.h>\n#define rep(i, x, y) for (int i = x; i <= y; i++)\nusing namespace std;\n\nconst int N = 2e5 + 10;\ntypedef long long ll;\nint n, K, a[N];\nchar s[N];\n\nint main() {\n    cin >> n >> K;\n    scanf(\"%s\", s + 1);\n    rep(i, 1, n) a[i] = s[i] - 'A';\n    int pos = 1, st = a[1];  // pos 表示删到哪一位了\n    while (K--) {\n        if (!st) {\n            st ^= 1, a[pos] ^= 1;\n        } else {\n            ++pos;\n            st = (a[pos] ^ ((pos - 1) & 1));\n        }\n        if (pos > n) break;\n    }\n    if (pos <= n) {\n        rep(i, pos, n) printf(\"%c\", 'A' + (a[i] ^ ((pos - 1) & 1)));\n        int c = (pos & 1);\n        rep(i, 1, pos - 1) printf(\"%c\", 'A' + c), c ^= 1;\n    } else {\n        if (pos & 1) {\n            rep(i, 1, n) printf(\"%c\", 'A' + (i & 1));\n        } else {\n            printf(\"%c\", 'A' + (K & 1));\n            rep(i, 1, n - 1) printf(\"%c\", 'A' + (i & 1));\n        }\n    }\n    puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\nconst int L = 5e7 + 10;\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    int lst = -1e5;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (abs(i - lst) <= 10)\n        dif %= 3;\n    else\n        dif %= 2;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define rep(i,l,r) for(int i=l;i<=r;++i)\nconst int N=2e5+5;\nchar s[N];int n;\ndeque<int>q;\nbool fir;\nvoid add()\n{\n\tif(n==1){fir^=1;return ;}\n\tif(!fir)\n\t{\n\t\tfir=1;\n\t\tif(q.front()==1)\n\t\t{\n\t\t\tq.pop_front();\n\t\t\t++q.front();\n\t\t}\n\t\telse \n\t\t{\n\t\t\t--q.front();\n\t\t\tq.push_front(1);\n\t\t}\n\t}\n\telse\n\t{\n\t\tif(fir^(q.size()%2))q.push_back(1);\n\t\telse ++q.back();\n\t\tif(q.front()==1)\n\t\t{\n\t\t\tq.pop_front();\n\t\t}\n\t\telse \n\t\t{\n\t\t\t--q.front();\n\t\t\tfir=0;\n\t\t}\n\t}\n}\n\nint main()\n{\n\t//freopen(\"1.in\",\"r\",stdin);\n\tint k;\n\tcin>>n>>k;\n\tscanf(\"%s\",s+1);\n\tfir=s[1]=='B';\n\tfor(int i=1;i<=n;)\n\t{\n\t\tint j=i+1;\n\t\twhile(s[j]==s[i])++j;\n\t\tq.push_back(j-i);\n\t\ti=j;\n\t}\n\twhile(q.size()<n)\n\t{\n\t\tif(!k)break;\n\t\t--k;\n\t\tadd();\n\t}\n\tk%=2;\n\tif(k)add();\n\tbool now=fir;\n\tfor(auto sz:q)\n\t{\n\t\trep(j,1,sz)putchar(now?'B':'A');\n\t\tnow^=1;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool arr[200005];\nint offset = 0;\ndeque<int> borders;\n\n\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    if (k>=2*n && n%2==0){\n        for (int x = n-1; x>=0; x--){\n            printf(x%2==0?\"A\":\"B\");\n        }\n        return 0;\n    }\n    for (int x = 0; x<n; x++){\n        char c;\n        scanf(\" %c\",&c);\n        arr[x] = c=='B';\n    }\n    for (int x = n-1; x>=0; x--){\n        if (x==n-1) borders.push_back(n-1);\n        else if (arr[x]!=arr[x+1]){\n            borders.push_front(x);\n        }\n    }\n    for (int x = 0; x<min(k,2*n); x++){\n        //printf(\"front %d - %d\\n\",borders.front(),offset);\n        while (borders.front()-offset<0) borders.pop_front();\n        if (!arr[0]) {\n            arr[0] = true;\n            if ((!borders.empty())&&borders.front()-offset==0){\n                borders.pop_front();\n            }\n            else{\n                borders.push_front(offset);\n                //printf(\"HI %d\\n\",borders.size());\n            }\n            continue;\n        }\n        else{\n            bool last = arr[0] ^ (borders.size()&1) ^1;\n            //printf(\"last: %d first: %d size: %d\\n\",last,arr[0],borders.size());\n            if (last){\n                borders.pop_back();\n            }\n            if ((borders.empty()) || borders.front()-offset!=0){\n                arr[0] ^= 1;\n            }\n            else{\n                borders.pop_front();\n            }\n            offset++;\n\n            borders.push_back(offset+n-1);\n        }\n    }\n    while (borders.front()-offset<0) borders.pop_front();\n    bool cur = arr[0];\n    if (k<=2*n){\n        for (int x = 0; x<n; x++){\n            printf(cur?\"B\":\"A\");\n            if (borders.front()-offset==x) {\n                cur ^=1;\n                borders.pop_front();\n            }\n        }\n    }\n    else{\n        int rem = k-2*n;\n        printf(((rem&1)^arr[0])?\"B\":\"A\");\n        for (int x = n-2; x>=0; x--){\n            printf(x%2==0?\"A\":\"B\");\n        }\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0&&n%2==1){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tif(k>=2*n){\n\t\tint t=(k-2*n)%2;\n\t\tif(n%2==1&&t==1)\t\n\t\t\tp[1]='A'+'B'-p[1];\n\t\tfor(int i=2;i<=n;i++)\n\t\t\tp[i]='B'-(n-i+1)%2;\n\t}\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\n\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tif (k % 2 == 0 && n % 2) a[0] = rev;\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 100 + 10;\nconst int INF = (int)(1e9);\n\nchar opp(char c) {\n    return ((c == 'A') ? 'B' : 'A');\n}\n\nvoid print_alter(char f, int t, int n) {\n    for(int i = 0; i < t; ++i) cout << f;\n    for(int i = t; i < n; ++i) {\n        f = opp(f);\n        cout << f;\n    }\n    cout << endl;\n}\n\nvoid solve(string &s, int k) {\n    int n = s.length();\n    int sc = 0;\n    bool B = false;\n    while (k > 0) {\n        if (sc >= n) break;\n        char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n        B = false;\n        --k;\n        if (f == 'B') ++sc;\n        else {\n            B = true;\n        }\n    }\n    if (k == 0) {\n        if (sc == n)\n            print_alter((((n % 2) == 0) ? 'B' : 'A'), 1, n);\n        else {\n            char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n            cout << f;\n            for(int i = sc + 1; i < n; ++i)\n                cout << (((sc % 2) == 1) ? opp(s[i]) : s[i]);\n            if (sc > 0) {\n                char c = ((sc % 2) == 1) ? 'A' : 'B';\n                print_alter(c, 1, sc);\n            }\n            else cout << endl;\n        }\n    }\n    else {\n        char f = ((n % 2) == 0) ? 'B' : 'A';\n        if (f == 'B') --k;\n        if ((k % 2) == 0) {\n            print_alter('A', 1, n);\n        }\n        else {\n            print_alter('B', 2, n);\n        }\n    }\n}\n\nvoid run() {\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    solve(s, k);\n}\n\nint main()\n{\n    //freopen(\"input.txt\", \"r\", stdin);\n\n    int ntests = 1;\n    //cin >> ntests;\n    for(int tc = 1; tc <= ntests; ++tc) {\n        run();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <cmath>\n#include <string>\n#include <set>\n\nusing namespace std;\n\n#define fastInp cin.tie(0); cout.tie(0); ios_base::sync_with_stdio(0);\n\ntypedef long long ll;\ntypedef long double ld;\n\nll n, k;\nvector<char> vec;\nvector<char> need;\n\nvoid input() {\n\tcin >> n >> k;\n\tvec.resize(n);\n\tfor (auto &cur : vec) cin >> cur;\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nvoid play2() {\n\tif (vec[0] == 'A') {\n\t\tvec[0] = 'B';\n\t\treturn;\n\t}\n\n\tif (vec.back() == 'B') {\n\t\tvec.back() = 'A';\n\t}\n\tfor (int i = 1; i < vec.size(); i++) {\n\t\tif (vec[i - 1] == vec[i]) {\n\t\t\tif (vec[i - 1] == 'A') {\n\t\t\t\tvec[i - 1] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvec[i - 1] = 'A';\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid play() {\n\tif (vec[0] == 'A') {\n\t\tvec[0] = 'B';\n\t\treturn;\n\t}\n\tll x = 0, side = 1;\n\twhile (x >= 0 && x < vec.size()) {\n\t\tif (side == 1) {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx--;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (auto cur : vec) cout << cur;\n\tif (x < 0) {\n\t\tcout << \" front\";\n\t}\n\telse {\n\t\tcout << \" back\";\n\t}\n\tcout << \"\\n\";\n}\n\nvoid rand_test() {\n\tn = rand() % 1000 + 1, k = rand() % 10000;\n\tvec.resize(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tvec[i] = ('A' + rand() % 2);\n\t}\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nll find_k() {\n\tll cnt = 0;\n\twhile (need != vec) {\n\t\tcnt++;\n\t\tplay();\n\t}\n\n\treturn cnt;\n}\n\nint main() {\n\tfastInp;\n\n\t//rand_test();\n\tinput();\n\n\tvector<char> add;\n\tchar pr = 'A';\n\tchar lst = 'B';\n\tfor (int j = 0; j < k / 2; j++) {\n\t\tif (vec.size() <= 0) break;\n\t\tlst = vec.back();\n\t\tvec.pop_back();\n\t\tadd.push_back(pr);\n\t\tif (pr == 'A') {\n\t\t\tpr = 'B';\n\t\t}\n\t\telse {\n\t\t\tpr = 'A';\n\t\t}\n\t}\n\tif (add.size() > 0 && add.back() == 'A') {\n\t\tadd.pop_back();\n\t\tvec.push_back(lst);\n\t}\n\treverse(add.begin(), add.end());\n\tif (vec.size() > 0) {\n\t\twhile (k > 0) {\n\t\t\tk--;\n\t\t\tplay();\n\t\t}\n\t}\n\n\tfor (auto cur : vec) cout << cur;\n\tfor (auto cur : add) cout << cur;\n\treturn 0;\n\t\n\tll t = 1000;\n\twhile (t--) {\n\t\trand_test();\n\t\tvector<char> sv = vec;\n\t\tcout << n << \" \" << find_k() << \"\\n\";\n\t\tfor (auto cur : sv) cout << cur;\n\t\tcout << \"\\n\";\n\t\tcout << \"-----------------------------\\n\";\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing uint = unsigned int;\nusing lint = long long int;\nusing ulint = unsigned long long int;\ntemplate<class T = int> using V = vector<T>;\ntemplate<class T = int> using VV = V< V<T> >;\ntemplate<class T, class U> void assign(V<T>& v, int n, const U& a) { v.assign(n, a); }\ntemplate<class T, class... Args> void assign(V<T>& v, int n, const Args&... args) { v.resize(n); for (auto&& e : v) assign(e, args...); }\n\n\nint main() {\n  cin.tie(nullptr); ios_base::sync_with_stdio(false);\n  int n, k; cin >> n >> k;\n  string s; cin >> s;\n  int i = 0;\n  bool rev = false;\n  for (int _ = 0; _ < k; ++_) {\n    if (rev) {\n      if (s[i] == 'B') s[i] = 'A';\n      else {\n        if (++i == n) i = 0;\n        rev = false;\n      }\n    } else {\n      if (s[i] == 'A') s[i] = 'B';\n      else {\n        if (++i == n) i = 0;\n        rev = true;\n      }\n    }\n  }\n  rotate(begin(s), next(begin(s), i), end(s));\n  if (rev) {\n    for (int i = 0; i < n; ++i) s[i] = 'A' + 'B' - s[i];\n  }\n  cout << s << '\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\tif (n == 1)\n\t{\n\t\tif ((S[0] == 'A') ^ (k & 1))\n\t\t\tcout << 'A';\n\t\telse cout << 'B';\n\t\treturn 0;\n\t}\n\twhile (k && S[n - 1] == 'B')\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (k-- && p < n)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint N, K, p, rev;\nchar S[1000010];\n\nvoid sim() {\n\tif(S[p] == 'A') {\n\t\tif(rev) {\n\t\t\trev = false;\n\t\t\tS[p + N] = 'A';\n\t\t\tp++;\n\t\t}\n\t\telse {\n\t\t\tS[p] = 'B';\n\t\t}\n\t}\n\telse {\n\t\tif(rev) {\n\t\t\tS[p] = 'A';\n\t\t}\n\t\telse {\n\t\t\trev = true;\n\t\t\tS[p + N] = 'B';\n\t\t\tp++;\n\t\t}\n\t}\n}\n\nvoid out() {\n\tfor(int i = p; i < p + N; i++) {\n\t\tchar c = S[i];\n\t\tif(rev) c = (c == 'A') ? 'B' : 'A';\n\t\tcout << c;\n\t}\n\tcout << endl;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K >> S;\n\n\tint rem = K;\n\tfor(int i = 0; i < min(2 * N, K); i++) {\n\t\tsim();\n\t\trem--;\n\t}\n\tif(rem && rem % 2) sim();\n\n\tout();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tif(s.size() == 1){\n\t\tif(s[0] == 'B') K++;\n\t\tif(K%2) cout << \"B\" << endl;\n\t\telse cout << \"A\" << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] == 'A') tmp[pos] = 'B';\n\t\t\telse  tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nint N, K, _a[2000002], *a = _a, rev;\nchar _i[200002];\nint main()\n{\n\tscanf(\"%d%d%s\", &N, &K, _i + 1);\n\tfor (int i = 1; i <= N; i++)\n\t\ta[i] = _i[i] == 'B';\n\tfor (int T = std::min(K, 1000000); T--; )\n\t{\n\t\tK--;\n\t\tif (a[1] ^ rev)\n\t\t{\n\t\t\ta++;\n\t\t\trev ^= 1;\n\t\t\ta[N] = rev;\n\t\t}\n\t\telse\n\t\t\ta[1] ^= 1;\n\t}\n\tputchar('A' + (a[1] ^ rev ^ N & K & 1));\n\tfor (int i = 2; i <= N; i++)\n\t\tputchar('A' + (a[i] ^ rev));\n\tputchar(10);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define fi first\n#define se second\n#define rep(i,n) for(int i = 0; i < (n); ++i)\n#define rrep(i,n) for(int i = 1; i <= (n); ++i)\n#define drep(i,n) for(int i = (n)-1; i >= 0; --i)\n#define srep(i,s,t) for (int i = s; i < t; ++i)\n#define rng(a) a.begin(),a.end()\n#define rrng(a) a.rbegin(),a.rend()\n#define maxs(x,y) (x = max(x,y))\n#define mins(x,y) (x = min(x,y))\n#define limit(x,l,r) max(l,min(x,r))\n#define lims(x,l,r) (x = max(l,min(x,r)))\n#define isin(x,l,r) ((l) <= (x) && (x) < (r))\n#define pb push_back\n#define eb emplace_back\n#define sz(x) (int)(x).size()\n#define pcnt __builtin_popcountll\n#define uni(x) x.erase(unique(rng(x)),x.end())\n#define snuke srand((unsigned)clock()+(unsigned)time(NULL));\n#define show(x) cout<<#x<<\" = \"<<x<<endl;\n#define PQ(T) priority_queue<T,v(T),greater<T> >\n#define bn(x) ((1<<x)-1)\n#define dup(x,y) (((x)+(y)-1)/(y))\n#define newline puts(\"\")\n#define v(T) vector<T>\n#define vv(T) v(v(T))\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef tuple<int,int,int> T;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<P> vp;\ntypedef vector<T> vt;\ninline int getInt() { int x; scanf(\"%d\",&x); return x;}\ntemplate<typename T>inline istream& operator>>(istream&i,v(T)&v)\n{rep(j,sz(v))i>>v[j];return i;}\ntemplate<typename T>string join(const v(T)&v)\n{stringstream s;rep(i,sz(v))s<<' '<<v[i];return s.str().substr(1);}\ntemplate<typename T>inline ostream& operator<<(ostream&o,const v(T)&v)\n{if(sz(v))o<<join(v);return o;}\ntemplate<typename T1,typename T2>inline istream& operator>>(istream&i,pair<T1,T2>&v)\n{return i>>v.fi>>v.se;}\ntemplate<typename T1,typename T2>inline ostream& operator<<(ostream&o,const pair<T1,T2>&v)\n{return o<<v.fi<<\",\"<<v.se;}\ntemplate<typename T>inline ll suma(const v(T)& a) { ll res(0); for (auto&& x : a) res += x; return res;}\nconst double eps = 1e-10;\nconst ll LINF = 1001002003004005006ll;\nconst int INF = 1001001001;\n#define dame { puts(\"-1\"); return 0;}\n#define yn {puts(\"Yes\");}else{puts(\"No\");}\nconst int MX = 200005;\n\n// Run Length Encoding\nnamespace RLE {\n  vp f(const vi& a) {\n    if (!sz(a)) return vp();\n    vp res(1,P(a[0],1));\n    for (int i = 1; i < sz(a); ++i) {\n      if (res.back().fi == a[i]) res.back().se++;\n      else res.eb(a[i],1);\n    }\n    return res;\n  }\n  typedef pair<char,int> CP;\n  v(CP) f(const string& a) {\n    if (!sz(a)) return v(CP)();\n    v(CP) res(1,CP(a[0],1));\n    for (int i = 1; i < sz(a); ++i) {\n      if (res.back().fi == a[i]) res.back().se++;\n      else res.eb(a[i],1);\n    }\n    return res;\n  }\n};\n\n\nint main() {\n  int n,k;\n  scanf(\"%d%d\",&n,&k);\n  string s;\n  cin>>s;\n  // set<string> st;\n  // while (!st.count(s)) {\n  //   st.insert(s);\n  //   int j = 0;\n  //   int sg = 1;\n  //   while (0 <= j && j < n) {\n  //     if (s[j] == 'A') {\n  //       s[j] = 'B';\n  //       sg = -sg;\n  //     } else {\n  //       s[j] = 'A';\n  //     }\n  //     j += sg;\n  //   }\n  //   cout<<s<<endl;\n  // }\n  auto d_ = RLE::f(s);\n  vi d;\n  drep(i,sz(d_)) d.pb(d_[i].se);\n  bool l = s[0]=='A';\n  while (k) {\n    if (!sz(d)) break;\n    if (l) {\n      d.back()--;\n      if (d.back()) d.pb(1);\n      else {\n        d.pop_back();\n        if (sz(d)) d.back()++;\n        else d.pb(1);\n      }\n      l = false;\n    } else {\n      d.back()--;\n      if (d.back()) l = true;\n      else d.pop_back();\n    }\n    --k;\n  }\n  string ans;\n  rep(i,n) {\n    ans += l?'A':'B';\n    if (sz(d)) {\n      d.back()--;\n      if (d.back() == 0) d.pop_back(), l = !l;\n    } else l = !l;\n  }\n  cout<<ans<<endl;\n  return 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<vector>\n#include<queue>\n#include<algorithm>\n\nusing namespace std;\n#define LL long long\n#define fgx cerr<<\"--------------\"<<endl;\n#define dgx cerr<<\"==============\"<<endl;\n\ninline int read(){\n\tint x=0,f=1; char c=getchar();\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n\tfor(;isdigit(c);c=getchar()) x=x*10+c-'0';\n\treturn x*f;\n}\nconst int MAXN = 300010;\nconst int INF = 1000000000;\n\nint N,K; char str[MAXN+1];\ndeque<int> que;\n\nint main(){\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tN=read(),K=read(); scanf(\"%s\",str+1);\n\tfor(int i=1,l=1;i<=N;i=l+1){\n\t\tl=i; while(l<N&&str[l+1]==str[i]) ++l;\n\t\tque.push_back(l); }\n\tint hd=(str[1]=='A'?1:0),bas=0;\n\twhile(K--){\n\t\tif(que.size()==N) break;\n\t\tif(hd==1){\n\t\t\tint x=que.front()+bas;\n\t\t\tif(x==1) que.pop_front();\n\t\t\telse que.push_front(1-bas);\n\t\t\thd^=1;\n\t\t}\n\t\telse {\n\t\t\tif(que.size()&1) que.pop_back();\n\t\t\tif(que.front()+bas!=1) hd^=1;\n\t\t\t--bas;\n\t\t}\n\t\twhile(que.size()&&que.front()+bas<1) que.pop_front();\n\t\tif(!que.size()||que.back()+bas!=N) que.push_back(N-bas);\n\t} ++K;\n\tif(N&1) {\n\t\tif(K&1) que.pop_front(),hd^=1;\n\t}\n\tint now=0;\n\twhile(!que.empty()){\n\t\tint k=que.front()+bas; que.pop_front();\n\t\tfor(int i=now+1;i<=k;i++){\n\t\t\tif(hd) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\t} hd^=1; now=k;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tint n, k; string s; cin >> n >> k >> s;\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 29 - 2;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 200005\nusing namespace std;\nint val[N];\nint n,k;\nchar s[N];\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++) val[i]=s[i]=='A'? 1:0;\n\tint p=1,f=0;\n\twhile(p<=n&&k>0){\n\t\tif((val[p]^f)==1){\n\t\t\tval[p]^=1;k--;continue;\n\t\t}else{\n\t\t\tf^=1;k--;p++;\n\t\t}\n\t}\n\tif(k!=0){\n\t\tif(f==0) for(int i=1;i<=n;i++) putchar(i%2==1? 'B':'A');\n\t\telse {\n\t\t\tputchar(k%2==1? 'B':'A');\n\t\t\tfor(int i=2;i<=n;i++) putchar(i%2==1? 'A':'B');\n\t\t}\n\t\treturn 0;\n\t}\n\tfor(int i=p;i<=n;i++) putchar((val[i]^f)==1? 'A':'B');\n\tfor(int i=0;i<p-1;i++) putchar((i^f)%2==1? 'A':'B');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\nusing namespace std;\n#define MAX 200200\nint n,K,l,r,p;\nchar S[MAX];int a[MAX<<2];\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);scanf(\"%s\",S+1);\n\tl=1,r=n,p=0;\n\tfor(int i=1;i<=n;++i)a[i]=S[i]=='A';\n\tfor(int i=1;i<=n+n;++i)\n\t{\n\t\tif(a[l]^p)a[l]^=1;\n\t\telse ++l,p^=1,a[++r]=p^1;\n\t\tif(i==K)\n\t\t{\n\t\t\tfor(int j=l;j<=r;++j)putchar((a[j]^p^1)+'A');\n\t\t\tputs(\"\");return 0;\n\t\t}\n\t}\n\tif((n&1)&&(K&1))a[l]^=1;\n\tfor(int i=l;i<=r;++i)putchar((a[i]^p^1)+'A');\n\treturn 0;\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef unsigned ui;\ntypedef unsigned long long ul;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<ld, ld> pdd;\ntypedef pair<ul, ul> puu;\ntypedef vector<int> vi;\n#define pb push_back\n#define fi first\n#define se second\n#define ls (i << 1)\n#define rs (i << 1 | 1)\n#define mid (l + r >> 1)\n#define enum(i, j, k) for(int i = j; i <= (k); i ++)\n#define open(i, j, k) for(int i = j; i <  (k); i ++)\n#define dec(i, j, k)  for(int i = j; i >= (k); i --)\n#define ae(x) for(node *p = h[x]; p; p = p->nxt)\n#define mfil(x, k) memset(x, k, sizeof x)\n#define mcpy(x, y) memcpy(x, y, sizeof x)\n#define fio(x) freopen(x\".in\", \"r\", stdin); freopen(x\".out\", \"w\", stdout)\ntemplate <class T> bool chkmin(T &x, T y)\n{ return y < x ? (x = y, true) : false; }\ntemplate <class T> bool chkmax(T &x, T y)\n{ return y > x ? (x = y, true) : false; }\nstruct __init { __init()\n{\n    ios::sync_with_stdio(false); cin.tie(0);\n    cout.precision(16); cout << fixed;\n    srand(time(0) ^ ui(ul(new char)));\n} } static __init__;\n/* default code ends here */\n\nconst int maxn = 2e5 + 10;\nint n, k;\nbool a[10 * maxn], lazy;\nint front = 1;\nint main()\n{\n    cin >> n >> k;\n    if(k > 3 * n + 10)\n        k -= (k - 3 * n) / 2 * 2 - 4;\n    string foo;\n    cin >> foo;\n    enum(i, 1, n)\n        a[i] = foo[i - 1] == 'A';\n    while(k --)\n    {\n        if(a[front] ^ lazy)\n        {\n            a[front] ^= 1;\n            continue;\n        }\n        front ++;\n        lazy ^= 1;\n        a[front + n - 1] = lazy ^ 1;\n    }\n    enum(i, front, front + n - 1)\n        cout << (a[i] ^ lazy ? 'A' : 'B');\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for (int i=(a); i<=(b); i++)\n#define per(i,a,b) for (int i=(a); i>=(b); i--)\nusing namespace std;\n\nconst int maxn = 200005;\nint a[maxn], n, K, p, det;\nchar s[maxn];\n\nint main() {\n\tscanf(\"%d%d\", &n, &K);\n\tscanf(\"%s\", s + 1);\n\trep (i, 1, n) a[i] = (s[i] == 'A');\n\tp = 1;\n\twhile (K && p <= n) {\n\t\tif ((a[p] ^ det) == 1) a[p] ^= 1;\n\t\telse det ^= 1, p++;\n\t\tK--;\n\t}\n\tif (!K) {\n\t\trep (i, p, n)\n\t\t\tif (a[i] ^ det) putchar('A');\n\t\t\telse putchar('B');\n\t\trep (i, 1, p - 1)\n\t\t\tif (a[i] ^ det) putchar('A');\n\t\t\telse putchar('B');\n\t\treturn 0;\n\t}\n\trep (i, 1, n)\n\t\tif (i == 1 && (n & 1)) {\n\t\t\tif (K & 1) putchar('A');\n\t\t\telse putchar('B');\n\t\t}\n\t\telse if ((i & 1) ^ (n & 1)) putchar('B');\n\t\telse putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <tuple>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <array>\n#include <utility>\n#include <valarray>\n\nusing namespace std;\n\nvoid process(string& S, int i, bool toright)\n{\n    while (0 <= i && i < S.size()){\n        if (S[i] == 'A'){\n            S[i] = 'B';\n            if (toright){\n                --i;\n            }else{\n                ++i;\n            }\n            toright = !toright;\n        }else{ // S[i] == 'B'\n            S[i] = 'A';\n            if (toright){\n                ++i;\n            }else{\n                --i;\n            }\n        }\n    }\n}\n\nint main()\n{\n    int N, K;\n    scanf(\"%d %d\\n\", &N, &K);\n    string S;\n    getline(cin, S);\n    int count = 0;\n    map<string, int> old_map;\n    vector<string> old_vec;\n    old_map.emplace(S, count);\n    old_vec.emplace_back(S);\n    while (count < K){\n        process(S, 0, true);\n        ++count;\n        if (old_map.count(S)){\n            const int first = old_map[S];\n            cout << old_vec[((K - first) % (count - first)) + first] << endl;\n            return 0;\n        }else{\n            old_map.emplace(S, count);\n            old_vec.emplace_back(S);\n        }\n    }\n    cout << S << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int maxn=4e5+10;\n\nint n,k,H,T;\nbool rev,a[maxn];\n\nint main()\n{\n#ifdef h10\n\tfreopen(\"D.in\",\"r\",stdin);\n\tfreopen(\"D.out\",\"w\",stdout);\n#endif\n\tint i;\n\tchar c;\n\tscanf(\"%d%d\",&n,&k);\n\tfor (i=1;i<=n;i++)\n\t{\n\t\tc=getchar();\n\t\twhile (c!='A'&&c!='B') c=getchar();\n\t\ta[i]=c=='A';\n\t}\n\tH=1; T=n; rev=0;\n\tfor (i=1;i<=k&&T<n+n;i++)\n\t{\n\t\tif ((a[H]^rev)==1) {a[H]^=1; continue;}\n\t\tH++; T++; rev^=1; a[T]=rev^1;\n\t}\n\n\tif (i>k)\n\t{\n\t\tfor (i=H;i<=T;i++)\n\t\t\tputchar(a[i]^rev?'A':'B');\n\t\treturn 0;\n\t}\n\tif ((a[H]^rev)==0)\n\t{\n\t\tfor (i=1;i<=n;i++)\n\t\t\tputchar(i&1?'B':'A');\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tif ((k-i+1)&1)\n\t\t{\n\t\t\tfor (i=1;i<=n;i++)\n\t\t\t\tputchar((i&1)&&i!=1?'A':'B');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (i=1;i<=n;i++)\n\t\t\t\tputchar(i&1?'A':'B');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define llu unsigned long long\n#define ld double\n#define llu unsigned long long\n#define rep(i,x,y)  for(int i=int(x);i<int(y);++i)\n#define For(i,x,y)  for(int i=int(x);i<=int(y);++i)\n#define FOr(i,x,y)  for(int i=int(x);i>=int(y);--i)\n#define pi acos(-1) \n#define mk make_pair\n#define pa pair<ll,ll>\n#define lf else if\n#define IL inline\n#define max(x,y)    ((x)<(y)?(y):(x))\n#define min(x,y)    ((x)<(y)?(x):(y))\n#define sqr(x)      ((x)*(x))\n#define Mul(x,y)    ((x)=1LL*(x)*(y)%mod)\n#define Add(x,y)    ((x)=((x)+(y))%mod)\n#define Max(x,y)    ((x)=((x)<(y)?(y):(x)))\n#define Min(x,y)    ((x)=((x)>(y)?(y):(x)))\n#define E(x)        return writeln(x),0\n#define LL\t\t\t(long long)\n#define p(x)        printf(\"~%lld~\\n\",LL(x))\n#define pp(x,y)     printf(\"~~%lld %lld~~\\n\",LL(x),LL(y))\n#define ppp(x,y,z)  printf(\"~~~%lld %lld %lld~~~\\n\",LL(x),LL(y),LL(z))\n#define pppp(a,b,c,d)\tprintf(\"~~~%lld %lld %lld %lld\\n\",LL(a),LL(b),LL(c),LL(d))\n#define f_in(x)     freopen(x\".in\",\"r\",stdin)\n#define f_out(x)    freopen(x\".out\",\"w\",stdout)\n#define open(x)     f_in(x),f_out(x)\n#define fi first\n#define se second\n#define GuYue\t\tputs(\"\\nGuYueNa________________________________________________________________________________\")\ntypedef complex<double> E;\nnamespace SHENZHEBEI{\n#ifdef LOCAL\n    struct _{_(){freopen(\"cf.in\",\"r\",stdin);}}_; \n#endif \n#define NEG 1\n    static const int GYN=2333333;\n    char SZB[GYN],*SS=SZB,*TT=SZB;\n    inline char gc(){   if (SS==TT){  TT=(SS=SZB)+fread(SZB,1,GYN,stdin); if (SS==TT) return '\\n';  }   return *SS++;    }\n#if NEG\n    inline ll read(){    ll x=0,g=1; char ch=gc();   for (;!isdigit(ch);ch=gc()) if (ch=='-') g=-1;  for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x*g; }\n    inline void write(ll x){    if (x<0) putchar('-'),x=-x;  if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#else\n    inline ll read(){    ll x=0; char ch=gc();   for (;!isdigit(ch);ch=gc());    for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x;   }\n    inline void write(ll x){    if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#endif\n    inline char readchar(){ char ch=gc();   for(;isspace(ch);ch=gc());  return ch;  }\n    inline ll readstr(char *s){ char ch=gc();   int cur=0;  for(;isspace(ch);ch=gc());      for(;!isspace(ch);ch=gc())  s[cur++]=ch;    s[cur]='\\0';    return cur; }\n\tvoid Print(long long *a,int s,int t){For(i,s,t)printf(\"%lld \",a[i]);}\n\tvoid Print(int *a,int s,int t){For(i,s,t)printf(\"%d \",a[i]);}\n\tvoid Print(char *a,int s,int t){For(i,s,t)putchar(a[i]);}\n\tvoid writeln(ll x){write(x);puts(\"\");}\n}using namespace SHENZHEBEI;\nconst ll N=400010;\nbitset<200010>f;\nchar s[N];\nll n,k;\nint main(){\n\tn=read(),k=read();\n\tif (k>=2*n){\n\t\tFor(i,1,n)putchar(((n-i)&1)?'B':'A');\n\t\treturn 0;\n\t}\n\treadstr(s+1);\n\tFor(i,1,n)f[i]=s[i]=='A';\n\tFor(i,1,k)if (f[1])\tf[1]=0;\n\telse{\n\t\tf.flip(),f>>=1,f[n]=1;\n\t}\n\tFor(i,1,n)putchar(f[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if((n%2==1&&cnt+1==n)||v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n  }\n  if((k&1)&&(n&1)){\n    //assert(0);\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll int\n#define llu unsigned long long\n#define ld double\n#define llu unsigned long long\n#define rep(i,x,y)  for(int i=int(x);i<int(y);++i)\n#define For(i,x,y)  for(int i=int(x);i<=int(y);++i)\n#define FOr(i,x,y)  for(int i=int(x);i>=int(y);--i)\n#define pi acos(-1) \n#define mk make_pair\n#define pa pair<ll,ll>\n#define lf else if\n#define IL inline\n#define max(x,y)    ((x)<(y)?(y):(x))\n#define min(x,y)    ((x)<(y)?(x):(y))\n#define sqr(x)      ((x)*(x))\n#define Mul(x,y)    ((x)=1LL*(x)*(y)%mod)\n#define Add(x,y)    ((x)=((x)+(y))%mod)\n#define Max(x,y)    ((x)=((x)<(y)?(y):(x)))\n#define Min(x,y)    ((x)=((x)>(y)?(y):(x)))\n#define E(x)        return writeln(x),0\n#define LL\t\t\t(long long)\n#define p(x)        printf(\"~%lld~\\n\",LL(x))\n#define pp(x,y)     printf(\"~~%lld %lld~~\\n\",LL(x),LL(y))\n#define ppp(x,y,z)  printf(\"~~~%lld %lld %lld~~~\\n\",LL(x),LL(y),LL(z))\n#define pppp(a,b,c,d)\tprintf(\"~~~%lld %lld %lld %lld\\n\",LL(a),LL(b),LL(c),LL(d))\n#define f_in(x)     freopen(x\".in\",\"r\",stdin)\n#define f_out(x)    freopen(x\".out\",\"w\",stdout)\n#define open(x)     f_in(x),f_out(x)\n#define fi first\n#define se second\n#define GuYue\t\tputs(\"\\nGuYueNa________________________________________________________________________________\")\ntypedef complex<double> E;\nnamespace SHENZHEBEI{\n#ifdef LOCAL\n    struct _{_(){freopen(\"cf.in\",\"r\",stdin);}}_; \n#endif \n#define NEG 1\n    static const int GYN=2333333;\n    char SZB[GYN],*SS=SZB,*TT=SZB;\n    inline char gc(){   if (SS==TT){  TT=(SS=SZB)+fread(SZB,1,GYN,stdin); if (SS==TT) return '\\n';  }   return *SS++;    }\n#if NEG\n    inline ll read(){    ll x=0,g=1; char ch=gc();   for (;!isdigit(ch);ch=gc()) if (ch=='-') g=-1;  for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x*g; }\n    inline void write(ll x){    if (x<0) putchar('-'),x=-x;  if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#else\n    inline ll read(){    ll x=0; char ch=gc();   for (;!isdigit(ch);ch=gc());    for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x;   }\n    inline void write(ll x){    if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#endif\n    inline char readchar(){ char ch=gc();   for(;isspace(ch);ch=gc());  return ch;  }\n    inline ll readstr(char *s){ char ch=gc();   int cur=0;  for(;isspace(ch);ch=gc());      for(;!isspace(ch);ch=gc())  s[cur++]=ch;    s[cur]='\\0';    return cur; }\n\tvoid Print(long long *a,int s,int t){For(i,s,t)printf(\"%lld \",a[i]);}\n\tvoid Print(int *a,int s,int t){For(i,s,t)printf(\"%d \",a[i]);}\n\tvoid Print(char *a,int s,int t){For(i,s,t)putchar(a[i]);}\n\tvoid writeln(ll x){write(x);puts(\"\");}\n}using namespace SHENZHEBEI;\nconst ll N=400010;\nbitset<200100>f;\nchar s[200100];\nll n,k;\nint main(){\n\tn=read(),k=read();\n\treadstr(s+1);\n\tif (k>2*n&&n>1){\n\t\tputchar((n&1)?s[1]:('A'+'B'-s[1]));\n\t\tFor(i,2,n)putchar(((n-i)&1)?'B':'A');\t\t\n\t\treturn 0;\n\t}\n\tFor(i,1,n)f[i]=s[i]=='A';\n\tFor(i,1,k)if (f[1])\tf[1]=0;\n\telse{\n\t\tf.flip(),f>>=1,f[n]=1;\n\t}\n\tFor(i,1,n)putchar(f[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 10 * n); i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\n\t\tif (!(a[0] ^ rev) && i >= 3 * n)\n\t\t\ti += (k - i) - (k - i) % 3;\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n    int n, k; cin >> n >> k;\n    string s; cin >> s;\n    deque<bool> w(n);\n    vector<bool> ans(n);\n    for (int i = 0; i < n; i++) {\n        w[i] = s[i] == 'A';\n        ans[n-i-1] = (i % 2 == 0);\n    }\n    bool rev = false;\n    while (k && !w.empty()) {\n        k--;\n        if (w[0] ^ rev) w[0] = !w[0];\n        else {\n            w.pop_front();\n            rev = !rev;\n        }\n    }\n    if (!w.empty()) {\n        for (int i = 0; i < w.size(); i++) {\n            ans[i] = rev ^ w[i];\n        }\n    } else {\n        if (n & 1) {\n            if (k & 1) ans[0] = ~ans[0];\n        }\n    }\n    for (int i = 0; i < n; i++) {\n        if (ans[i]) cout << 'A';\n        else cout << 'B';\n    }\n    cout << \"\\n\";\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MAXN\t600005\ntemplate <typename T> void read(T &x) {\n\tx = 0; int f = 1;\n\tchar c = getchar();\n\tfor (; !isdigit(c); c = getchar()) if (c == '-') f = -f;\n\tfor (; isdigit(c); c = getchar()) x = x * 10 + c - '0';\n\tx *= f;\n}\nint n, k;\nbool a[MAXN], x[MAXN], y[MAXN];\nchar s[MAXN];\nvoid print(bool *a) {\n\tfor (int i = 1; i <= n; i++)\n\t\tif (a[i]) printf(\"A\");\n\t\telse printf(\"B\");\n\tprintf(\"\\n\");\n}\nint main() {\n\tread(n), read(k);\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; i++)\n\t\ta[i] = s[i] == 'A';\n\tbool tag = false;\n\tint start = 1;\n\tif (k <= 2 * n) {\n\t\tfor (int i = 1; i <= k; i++) {\n\t\t\tif (tag ^ a[start]) {\n\t\t\t\ta[start] = !a[start];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttag = !tag;\n\t\t\ta[start + n] = !tag;\n\t\t\tstart++;\n\t\t}\n\t\tfor (int i = start; i < start + n; i++)\n\t\t\tif (tag ^ a[i]) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\tprintf(\"\\n\");\n\t}\n\tfor (int i = 1; i <= 2 * n + 1; i++) {\n\t\tif (tag ^ a[start]) {\n\t\t\ta[start] = !a[start];\n\t\t\tcontinue;\n\t\t}\n\t\ttag = !tag;\n\t\ta[start + n] = !tag;\n\t\tstart++;\n\t}\n\tfor (int i = start; i < start + n; i++)\n\t\tx[i - start + 1] = tag ^ a[i];\n\tfor (int i = 2 * n + 2; i <= 2 * n + 2; i++) {\n\t\tif (tag ^ a[start]) {\n\t\t\ta[start] = !a[start];\n\t\t\tcontinue;\n\t\t}\n\t\ttag = !tag;\n\t\ta[start + n] = !tag;\n\t\tstart++;\n\t}\n\tfor (int i = start; i < start + n; i++)\n\t\ty[i - start + 1] = tag ^ a[i];\n\tk -= 2 * n;\n\tif (k & 1) print(x);\n\telse print(y);\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define fi first\n#define se second\n#define rep(i,n) for(int i = 0; i < (n); ++i)\n#define rrep(i,n) for(int i = 1; i <= (n); ++i)\n#define drep(i,n) for(int i = (n)-1; i >= 0; --i)\n#define srep(i,s,t) for (int i = s; i < t; ++i)\n#define rng(a) a.begin(),a.end()\n#define rrng(a) a.rbegin(),a.rend()\n#define maxs(x,y) (x = max(x,y))\n#define mins(x,y) (x = min(x,y))\n#define limit(x,l,r) max(l,min(x,r))\n#define lims(x,l,r) (x = max(l,min(x,r)))\n#define isin(x,l,r) ((l) <= (x) && (x) < (r))\n#define pb push_back\n#define eb emplace_back\n#define sz(x) (int)(x).size()\n#define pcnt __builtin_popcountll\n#define uni(x) x.erase(unique(rng(x)),x.end())\n#define snuke srand((unsigned)clock()+(unsigned)time(NULL));\n#define show(x) cout<<#x<<\" = \"<<x<<endl;\n#define PQ(T) priority_queue<T,v(T),greater<T> >\n#define bn(x) ((1<<x)-1)\n#define dup(x,y) (((x)+(y)-1)/(y))\n#define newline puts(\"\")\n#define v(T) vector<T>\n#define vv(T) v(v(T))\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef tuple<int,int,int> T;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<P> vp;\ntypedef vector<T> vt;\ninline int getInt() { int x; scanf(\"%d\",&x); return x;}\ntemplate<typename T>inline istream& operator>>(istream&i,v(T)&v)\n{rep(j,sz(v))i>>v[j];return i;}\ntemplate<typename T>string join(const v(T)&v)\n{stringstream s;rep(i,sz(v))s<<' '<<v[i];return s.str().substr(1);}\ntemplate<typename T>inline ostream& operator<<(ostream&o,const v(T)&v)\n{if(sz(v))o<<join(v);return o;}\ntemplate<typename T1,typename T2>inline istream& operator>>(istream&i,pair<T1,T2>&v)\n{return i>>v.fi>>v.se;}\ntemplate<typename T1,typename T2>inline ostream& operator<<(ostream&o,const pair<T1,T2>&v)\n{return o<<v.fi<<\",\"<<v.se;}\ntemplate<typename T>inline ll suma(const v(T)& a) { ll res(0); for (auto&& x : a) res += x; return res;}\nconst double eps = 1e-10;\nconst ll LINF = 1001002003004005006ll;\nconst int INF = 1001001001;\n#define dame { puts(\"-1\"); return 0;}\n#define yn {puts(\"Yes\");}else{puts(\"No\");}\nconst int MX = 200005;\n\n// Run Length Encoding\nnamespace RLE {\n  vp f(const vi& a) {\n    if (!sz(a)) return vp();\n    vp res(1,P(a[0],1));\n    for (int i = 1; i < sz(a); ++i) {\n      if (res.back().fi == a[i]) res.back().se++;\n      else res.eb(a[i],1);\n    }\n    return res;\n  }\n  typedef pair<char,int> CP;\n  v(CP) f(const string& a) {\n    if (!sz(a)) return v(CP)();\n    v(CP) res(1,CP(a[0],1));\n    for (int i = 1; i < sz(a); ++i) {\n      if (res.back().fi == a[i]) res.back().se++;\n      else res.eb(a[i],1);\n    }\n    return res;\n  }\n};\n\n\nint main() {\n  int n,k;\n  scanf(\"%d%d\",&n,&k);\n  string s;\n  cin>>s;\n\n  /*\n  set<string> st;\n  while (!st.count(s)) {\n    st.insert(s);\n    int j = 0;\n    int sg = 1;\n    while (0 <= j && j < n) {\n      if (s[j] == 'A') {\n        s[j] = 'B';\n        sg = -sg;\n      } else {\n        s[j] = 'A';\n      }\n      j += sg;\n    }\n    cout<<s<<endl;\n  }\n  return 0;\n  //*/\n\n  auto d_ = RLE::f(s);\n  vi d;\n  drep(i,sz(d_)) d.pb(d_[i].se);\n  if (s.back() == 'B') d[0]++;\n  bool l = s[0]=='A';\n  while (k) {\n    if (!sz(d)) break;\n    --k;\n    if (l) {\n      d.back()--;\n      if (d.back()) d.pb(1);\n      else {\n        d.pop_back();\n        if (sz(d)) d.back()++;\n        else k %= 2, d.pb(2);\n      }\n      l = false;\n    } else {\n      d.back()--;\n      if (d.back()) l = true;\n      else d.pop_back();\n    }\n  }\n  string ans;\n  rep(i,n) {\n    ans += l?'A':'B';\n    if (sz(d)) {\n      d.back()--;\n      if (d.back() == 0) d.pop_back(), l = !l;\n    } else l = !l;\n  }\n  cout<<ans<<endl;\n  return 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  \n  for(int i=0;i<k;i++){\n    int j=0;\n    int d=0;\n    string c=s;\n    while(j>=0&&j<n){\n      if(s[j]=='A'){\n\ts.replace(j,1,\"B\");\n\tif(d==0){\n\t  j--; d=1;\n\t} else{\n\t  j++; d=0;\n\t}\n      } else{\n\ts.replace(j,1,\"A\");\n\tif(d==0) j++;\n\telse j--;\n      }\n    }\n    //cout<<s<<\" \"<<c<<endl;\n    if(s==c) break;\n  }\n  cout<<s<<endl;\n}\t  \n"
  },
  {
    "language": "C++",
    "code": "//                                ** ALLAH **\n//                        who is Hussain? -> whoishussain.org\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int mod=1000000007;\ninline int in(){ int x; scanf(\"%d\",&x); return x; }\nconst int N = 200100;\nint n, k;\nstring s;\nint32_t main(){\n        cin >> n >> k;\n        cin >> s;\n\n        int t = k, c = 1;\n        k = 0;\n        for(; t && k < n;){\n                if( s[k] == 'A'+(k%2) && c ) s[k] = 'A' + (1-k%2), c = 0;\n                else k++, c = 1;\n                t--;\n        }\n        if( k == n ) { if( n%2 == 1 ) cout << char('A' + t%2); else cout << 'B';for(int i = 1;i < n; i++) cout << char('A'+(n-i-1)%2); cout << endl;return 0; } \n        for(int i = k; i < n; i++) cout << (k%2==1?(s[i]=='A'?'B':'A'):s[i]);\n        for(int i = 0;i < k; i++) cout << char('A'+(k-i-1)%2); \n        cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long;\nusing Pi = pair<int, int>;\nusing Pl = pair<ll, ll>;\nusing vint = vector<int>;\nusing vll = vector<ll>;\ntemplate<typename T> using uset = unordered_set<T>;\ntemplate<typename T1, typename T2> using umap = unordered_map<T1, T2>;\n\nconstexpr int INF = (1 << 30) - 1;\nconstexpr ll LLINF = 1LL << 60;\nconstexpr int dy[] = {1, 0, -1, 0, 1, -1, -1, 1};\nconstexpr int dx[] = {0, 1, 0, -1, 1, 1, -1, -1};\nconstexpr char el = '\\n';\nconstexpr int mod = 1000000007;\n\ntemplate<typename T> T gcd(T a, T b) { return (b ? gcd(b, a % b) : a); }\ntemplate<typename T> T lcm(T a, T b) { return (a / gcd(a, b) * b); }\ntemplate<typename T1, typename T2> inline void chmin(T1 &a, T2 b) { if (a > b) a = b; }\ntemplate<typename T1, typename T2> inline void chmax(T1 &a, T2 b) { if (a < b) a = b; }\n\nint N, K;\nstring S;\nvoid pro(string &T) {\n        int cur = 0, dir = 0;\n        while (0 <= cur && cur < N) {\n                if (T[cur] == 'A') dir = 1 - dir, T[cur] = 'B';\n                else T[cur] = 'A';\n                if (dir == 0) cur++;\n                else cur--;\n        }\n}\n\nint main() {\n\n        cin >> N >> K >> S;\n        int n = N;\n\n        int verify = 'A';\n        for (int i = N - 1; i >= 0; i--) {\n                if (S[i] == verify) {\n                        verify = (int)'B' - verify + 'A';\n                        n--;\n                } else {\n                        break;\n                }\n        }\n\n        int cnt = 0;\n        for (int i = 0; i < n; i++) {\n                char look = S[i];\n                int val;\n                if (i & 1) look = (int)'B' - look + 'A';\n                if (look == 'A') val = 2;\n                else val = 1;\n                if (K <= cnt + val) {\n                        int num = K - cnt;\n                        string T;\n                        for (int j = i; j < n; j++) {\n                                if (i & 1) T += (int)'B' - S[j] + 'A';\n                                else T += S[j];\n                        }\n                        while (T.size() < N) {\n                                if ((N - (int)T.size()) & 1) T += 'A';\n                                else T += 'B';\n                        }\n                        //cout << cnt << \" \" << val << endl;\n                        if (num == 1) pro(T);\n                        else { pro(T); pro(T); }\n                        cout << T << endl;\n                        return (0);\n                }\n                cnt += val;\n        }\n        K -= cnt;\n        string T;\n        while (T.size() < N) {\n                if ((N - (int)T.size()) & 1) T += 'A';\n                else T += 'B';\n        }\n        if (!(N & 1) || !(K & 1)) cout << T << endl;\n        else {\n                T[0] = (int)'B' - T[0] + 'A';\n                cout << T << endl;\n        }\n\n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint n, k, cir;\ndeque<int> q;\nchar s[222222];\nbool rev;\nint main() {\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; ++i) q.push_back(s[i] == 'B');\n\tfor (int i = 1, cnt = 0; i <= k; ++i) {\n\t\tint p = q.front(); q.pop_front();\n\t\tif (p ^ rev) {\n\t\t\t++cnt;\n\t\t\trev ^= 1; q.push_back(rev);\n\t\t\tif (cnt % n == 0 && !rev) {\n\t\t\t\tcir = i; break;\n\t\t\t}\n\t\t} else q.push_front(p ^ 1);\n\t}\n\tif (cir) {\n\t\tk -= cir; k %= cir;\n\t\tfor (int i = 1; i <= k; ++i) {\n\t\t\tint p = q.front(); q.pop_front();\n\t\t\tif (p ^ rev) {\n\t\t\t\trev ^= 1; q.push_back(rev);\n\t\t\t} else q.push_front(p ^ 1);\n\t\t}\n\t}\n\twhile (!q.empty()) {\n\t\tprintf(\"%c\", (q.front() ^ rev) ? 'B' : 'A');\n\t\tq.pop_front();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=(a);i<=(b);i++)\n#define re(i,a,b) for(int i=(a);i<(b);i++)\n#define repd(i,a,b) for(int i=(a);i>=(b);i--)\n#define run(a) for(int k=head[a];k;k=e[k].ne)\n#define v e[k].t\n#define clr(a) memset(a,0,sizeof(a));\n#define il inline\n#define sz(a) ((int)a.size())\n#define all(a) a.begin(),a.end()\n#define mp make_pair\n#define pb push_back \n#define w1 first\n#define w2 second\n#define adm(a,b,c) {a=a+b;if(a>=c)a-=c;else if(a<0)a+=c;}\ntypedef double db;\ntypedef long long ll;typedef long double ld;typedef unsigned long long ull;\ntypedef pair<ll,ll> pa;\nconst int N=1e6+5,M=5e3+5,INF=1e9,mod=924844033;\nconst ll linf=1e18;const double eps=1e-8,pi=acos(-1);\nil int gmin(int &a,int b){if(a>b)a=b;}il ll gmin(ll &a,ll b){if(a>b)a=b;}il int gmax(int &a,int b){if(a<b)a=b;}il ll gmax(ll &a,ll b){if(a<b)a=b;}\nil void read(ll&x){ll f=1,t=0;char ch=getchar();while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9'){t=t*10+ch-'0';ch=getchar();}x=t*f;}il ll read(ll&x,ll&y){read(x);read(y);}\nil void read(int&x){int f=1,t=0;char ch=getchar();while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9'){t=t*10+ch-'0';ch=getchar();}x=t*f;}il int read(int&x,int&y){read(x);read(y);}\nil void read(int&a,int&b,int&c){read(a);read(b);read(c);}il void read(ll&a,ll&b,ll&c){read(a);read(b);read(c);}\nil int read(){int x;read(x);return x;}\nil ll qpow(ll a,ll b,ll p){ll ret=1;for(;b;b>>=1,a=a*a%p)if(b&1)ret=ret*a%p;return ret;}il ll qpow(ll a,ll b){ll ret=1;for(;b;b>>=1,a=a*a%mod)if(b&1)ret=ret*a%mod;return ret;}\nil ll qmul(ll a,ll b,ll p){ll ret=0;for(;b;b>>=1,a=(a<<1)%p)if(b&1)adm(ret,a,p);return ret;}il ll qmul(ll a,ll b){ll ret=0;for(;b;b>>=1,a=(a<<1)%mod)if(b&1)adm(ret,a,mod);return ret;}\nil void judge(){\n\tfreopen(\"data.in\",\"r\",stdin);\n\tfreopen(\"data.out\",\"w\",stdout);}\nchar s[N];int n,k,a[N];\nvoid gao(){\n\tint now=1,dir=1;\n\twhile(now>=1&&now<=n){\n\t\tif(s[now]=='A')dir*=-1;\n\t\tif(s[now]=='A')s[now]='B';else s[now]='A';\n\t\tnow+=dir;\n\t}\n\tprintf(\"%s\\n\",s+1);\n}\nint typ=0,l,r;\nvoid rua(){\n\tif((typ^a[l])==1)a[l]^=1;else{\n\t\tl++;r++;\n\t\ttyp^=1;a[r]=1^typ;\n\t}\n}\nint main(){\n\tread(n,k);\n\tscanf(\"%s\",s+1);\n\trep(i,1,n)a[i]=s[i]=='A';\n\t/*n=20;rep(i,1,n)s[i]=rand()&1?'A':'B';\n\trep(i,1,20)gao();*/\n\tr=n;l=1;\n\trep(i,1,n+n){\n\t\trua();\n\t\tk--;if(!k)break;\n\t}\n\tif(k&1)rua();\n\trep(i,l,r)printf(\"%c\",(a[i]^typ)?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint n,K;\n#define Maxn 200010\nchar ch[Maxn<<1],T[Maxn<<1],Ans[Maxn<<1];\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",ch+1);\n\tint T=0;\n\tfor(register int i=1;i<=n;++i){\n\t\tif(ch[i]=='A'){\n\t\t\tif((i-1)%2==0)T+=2;\n\t\t\telse T++;\n\t\t}else{\n\t\t\tif((i-1)%2==1)T+=2;\n\t\t\telse T++;\n\t\t}\n\t}\n\tif(K>=T){\n\t\tfor(int i=1;i<=n;++i)\n\t\t    if((n-i)%2==1)Ans[i]='B';\n\t\t    else Ans[i]='A';\n\t\tif(Ans[1]=='A'){\n\t\t\tK-=T;\n\t\t\tif(K%2==1)Ans[1]='B';\n\t\t}\n\t\tfor(register int i=1;i<=n;++i)printf(\"%c\",Ans[i]);\n\t\tputs(\"\");\n\t}else{\n\t\tint d=0,at=1;\n\t\tbool flag=true;\n\t\twhile(K--){\n\t\t\tif(ch[at]=='A'){\n\t\t\t\tif(d%2==0){\n\t\t\t\t\tch[at]='B';\n\t\t\t\t\tif(!K)flag=false;\n\t\t\t\t}else{\n\t\t\t\t\tch[at]='A';\n\t\t\t\t\td++;\n\t\t\t\t\tat++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(d%2==1){\n\t\t\t\t\tch[at]='B';\n\t\t\t\t\tif(!K)flag=false;\n\t\t\t\t}else{\n\t\t\t\t\tch[at]='A';\n\t\t\t\t\td++;\n\t\t\t\t\tat++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t    if(flag){\n\t\tfor(register int i=at;i<=n;++i){\n\t\t\tif(ch[i]=='A'){\n\t\t\t\tif((at-1)%2==1)printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}else{\n\t\t\t\tif((at-1)%2==1)printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t}\n\t}else{\n\t\tprintf(\"B\");\n\t\tfor(register int i=at+1;i<=n;++i){\n\t\t\tif(ch[i]=='A'){\n\t\t\t\tif((at-1)%2==1)printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}else{\n\t\t\t\tif((at-1)%2==1)printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t}\n\t}\n\t\tfor(register int i=n+1;i<n+at;++i){\n\t\t\tint d=at-1-(i-n);\n\t\t\tif(d%2==1)printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t}\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int N=200005;\nbool a[N*2];\nchar s[N];\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\\n%s\",&n,&k,s+1);\n\tfor (int i=1;i<=n;i++) a[i]=s[i]-'A';\n\tint l=1,r=n,t=0;\n\tfor (;k && l<=n;k--)\n\t\tif (a[l]^t) l++,a[++r]=(t^=1);\n\t\t\telse a[l]^=1;\n\tif (k&1 && n&1) a[l]^=1;\n\tfor (int i=l;i<=r;i++) printf(\"%c\",'A'+(a[i]^t));\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <cstring>\n#include <sstream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <memory.h>\n#include <iomanip>\n#include <bitset>\n#include <list>\n#include <stack>\n#include <deque>\n\nusing namespace std;\n\n#define mod 1000000007\n\nint main()\n{\n\tint n, k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tdeque<int> qu;\n\tfor(int i = 0; i < n; i++){\n\t\tif(s[i] == 'A') qu.push_back(0);\n\t\telse qu.push_back(1);\n\t}\n\tint reversenum = 0;\n\tfor(int i = 0; i < min(2 * n, k); i++){\n\t\tint top = (qu[0] + reversenum % 2) % 2;\n\t\tif(top == 0){\n\t\t\tqu[0] = (1 + reversenum % 2) % 2;\n\t\t} else {\n\t\t\tqu.pop_front();\n\t\t\treversenum++;\n\t\t\tqu.push_back(0 + reversenum % 2);\n\t\t}\n\t}\n\tif(k <= 2 * n){\n\t\twhile(!qu.empty()){\n\t\t\tcout << (char)('A' + (qu[0] + reversenum % 2) % 2);\n\t\t\tqu.pop_front();\n\t\t}\n\t} else {\n\t\tif(k % 2 == 1){\n\t\t\tif((qu[0] + reversenum % 2) % 2 == 0){\n\t\t\t\tqu[0] = 1;\n\t\t\t} else {\n\t\t\t\tqu.pop_front();\n\t\t\t\treversenum++;\n\t\t\t\tqu.push_back(0 + reversenum % 2);\n\t\t\t}\n\t\t}\n\t\twhile(!qu.empty()){\n\t\t\tcout << (char)('A' + (qu[0] + reversenum % 2) % 2);\n\t\t\tqu.pop_front();\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N=200100;\nchar S[N*2],*T;\nint n,K;\n\nint main(){\n\tios::sync_with_stdio(0);cin.tie(0);cout.tie(0);\n\tcin>>n>>K>>(S+1);T=S+1;\n\tint tag=0;\n\tfor(;K --> 0;){\n\t\tif((T[0]^tag)=='A')T[0]++;\n\t\telse{\n\t\t\ttag^=3;T[n]='A'^tag;\n\t\t\t++T;\n\t\t}\n\t\tif(T>S+n){\n\t\t\tif((T[0]^tag)=='A'&&(K&1))T[0]^=3;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(int i=0;i<n;++i)T[i]^=tag;\n\tcout<<T<<'\\n';\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define snd second\n#define forn(i, n) for (int i = 0; i < int(n); ++i)\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<char> vc;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vii;\n#define sz(c) (int)(c).size()\n#define all(c) (c).begin(), (c).end()\n\nstring df (const string &s)\n{\n    string ans;\n    //ans += (s[0] == 'A' ? '1' : '0');\n    int pref = 0;\n    forn (i, sz(s))\n    {\n        pref = (s[(i + 1) % sz(s)] == s[i]);\n        ans += (pref % 2 == 0 ? '0' : '1');\n    }\n    //ans += (s[0] != s.back() ? '0' : '1');\n    return ans;\n}\n\n#pragma GCC optimize(\"O3\")\nvoid solve (int n)\n{\n//    int pos = 0, dir = +1;\n//\n//    string s = df(n);\n//    while (0 <= pos && pos < sz(n))\n//    {\n//        dir = (n[pos] == 'A' ? -dir : dir);\n//        n[pos] ^= 'A' ^ 'B';\n//        pos += dir;\n//    }\n//    string t = df(n);\n//\n//    cout << \"df before : \" << s << endl;\n//    cout << \"df after  : \" << t << endl;\n//    cout << n << endl;\n\n    int k;\n    cin >> k;\n    string s;\n    cin >> s;\n    string diff = df(s);\n    vector<char> rdiff(sz(diff));\n    forn (i, sz(diff))\n        rdiff[i] = (diff[i] == '1' ? 1 : 0);\n\n    if (sz(s) == 1)\n    {\n        cout << (char)(k % 2 == 0 ? s[0] : s[0] ^ 'A' ^ 'B') << endl;\n        return;\n    }\n\n    int pos0 = 0, poslast = n - 1;\n    int fst = s[0] - 'A';\n\n    while (k--)\n    {\n        if (fst == 0)\n            rdiff[pos0] ^= 1, rdiff[poslast] ^= 1, fst = 1;\n        else\n        {\n            fst = (rdiff[pos0] ? 0 : 1);\n            pos0++, poslast++;\n            if (__builtin_expect(pos0 == n, false))\n                pos0 = 0;\n            if (__builtin_expect(poslast == n, false))\n                poslast = 0;\n        }\n    }\n\n    string res = (fst == 0 ? \"A\" : \"B\");\n    for (int i = pos0; i != poslast; i = (i + 1 == n ? 0 : i + 1))\n        res += (rdiff[i] == 0 ? res.back() ^ 'A' ^ 'B' : res.back());\n    cout << res << endl;\n}\n\nint main()\n{\n    ios_base::sync_with_stdio(false);\n    cin.tie(0);\n\n    int n;\n    while (cin >> n)\n        solve(n);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> pli;\nconst int inf=1e9;\nconst ll Inf=1e18;\nconst int N=4e5+10;\nconst int mod=0;\nint gi() {\n    int x=0,o=1;char ch=getchar();\n    while((ch<'0'||ch>'9')&&ch!='-') ch=getchar();\n    if(ch=='-') o=-1,ch=getchar();\n    while(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n    return x*o;\n}\ntemplate<typename T> bool chkmax(T &a,T b) { return a<b?a=b,1:0; };\ntemplate<typename T> bool chkmin(T &a,T b) { return a>b?a=b,1:0; };\nint add(int a,int b) { return a+b>=mod?a+b-mod:a+b; }\nint sub(int a,int b) { return a-b<0?a-b+mod:a-b; }\nvoid inc(int &a,int b) { a=(a+b>=mod?a+b-mod:a+b); }\nvoid dec(int &a,int b) { a=(a-b<0?a-b+mod:a-b); }\nint n,k,a[N],tag=0;\nchar s[N];\nint main() {\n    cin>>n>>k;scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++) a[i]=s[i]-'A';\n    int l=1,r=n,cnt=0;\n    while(k&&cnt<2*n) {\n        k--;cnt++;\n        if(a[l]==tag) a[l]^=1;\n        else l++,r++,tag^=1,a[r]=tag;\n    }\n    if(k&1) {\n        k--;cnt++;\n        if(a[l]==tag) a[l]^=1;\n        else l++,r++,tag^=1,a[r]=tag;\n    }\n    for(int i=l;i<=r;i++) putchar('A'+(a[i]^tag));\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tif(s.size() == 1){\n\t\tif(s[0] == 'B') K++;\n\t\tif(K%2) cout << \"B\" << endl;\n\t\telse cout << \"A\" << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] == 'A') tmp[pos] = 'B';\n\t\t\telse tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tif(s.size() % 2){\n\t\tif(K%2 == 0) ans[0] = 'B';\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Heaplax\n//别让自己后悔\n#include<bits/stdc++.h>\n#define N 200005\n#define LL long long\n#define LOG(x) cerr<<#x<<\" = \"<<x<<endl\n#define add_edge(u,v) nxt[++cnt]=head[u],head[u]=cnt,to[cnt]=v\n#define open(x) freopen(#x\".in\",\"r\",stdin),freopen(#x\".out\",\"w\",stdout)\nchar ch;bool fs;void re(int& x)\n{\n\twhile(ch=getchar(),ch<33);\n\tif(ch=='-')fs=1,x=0;else fs=0,x=ch-48;\n\twhile(ch=getchar(),ch>33)x=x*10+ch-48;\n\tif(fs)x=-x;\n}\nusing namespace std;\nint n,k;\nchar s[N];\ndeque<int> que;\nint main()\n{\n\tre(n),re(k);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;++i)\n\t\tif(s[i]=='A')que.push_back(0);\n\t\telse que.push_back(1);\n\tint tag=0;\n\tfor(int i=1;i<=min(k,2*n+10);++i)\n\t{\n\t\tif(tag^que.front())\n\t\t{\n\t\t\tque.pop_front();\n\t\t\ttag^=1;\n\t\t\tque.push_back(tag);\n\t\t}\n\t\telse que.front()^=1;\n\t}\n\tif(k<=2*n+10)\n\t{\n\t\twhile(!que.empty())\n\t\t\tputchar(tag^que.front()?'B':'A'),que.pop_front();\n\t}\n\telse\n\t{\n\t\tk-=2*n+10;\n\t\tif(n%2==0)\n\t\t{\n\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(s[1]=='A')k^=1;\n\t\t\tif(k&1)\n\t\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t\t\tputchar(i&1?'A':'B');\n\t\t\telse\n\t\t\t{\n\t\t\t\tputchar('B');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t}\n\t}\n}\n/*\nBAB\nBAA\nBBA\nABA\nBBA\nABA\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tif(s.size() == 1){\n\t\tif(s[0] == 'B') K++;\n\t\tif(K%2) cout << \"B\" << endl;\n\t\telse cout << \"A\" << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] == 'A') tmp[pos] = 'B';\n\t\t\telse tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tif(s.size() % 2){\n\t\tif(s[s.size()-1] == 'B' && K%2 == 0) ans[0] = 'B';\n\t\tif(s[s.size()-1] == 'A' && K%2) ans[0] = 'A';\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\tint cnt = 0;\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tcnt++;\n\t\tif(cnt == 500000)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(k % 2 && k > 0 && n % 2)\n\t{\n\t\tif(v.front().second == 1)\n\t\t{\n\t\t\tv.pop_front();\n\t\t\tv.front().second++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tv.push_front(mp('A' + swapped , 1));\n\t\t}\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "/*\n    Author: Nguyen Tan Bao\n    Status:\n    Idea:\n*/\n\n#include <bits/stdc++.h>\n#define FI first\n#define SE second\n#define EPS 1e-9\n#define ALL(a) a.begin(),a.end()\n#define SZ(a) int((a).size())\n#define MS(s, n) memset(s, n, sizeof(s))\n#define FOR(i,a,b) for (int i = (a); i <= (b); i++)\n#define FORE(i,a,b) for (int i = (a); i >= (b); i--)\n#define FORALL(it, a) for (__typeof((a).begin()) it = (a).begin(); it != (a).end(); it++)\n//__builtin_ffs(x) return 1 + index of least significant 1-bit of x\n//__builtin_clz(x) return number of leading zeros of x\n//__builtin_ctz(x) return number of trailing zeros of x\n\nusing namespace std;\nusing ll = long long;\nusing ld = double;\ntypedef pair<int, int> II;\ntypedef pair<II, int> III;\ntypedef complex<ld> cd;\ntypedef vector<cd> vcd;\n\nconst ll MODBASE = 1000000007LL;\nconst int MAXN = 110;\nconst int MAXM = 1000;\nconst int MAXK = 16;\nconst int MAXQ = 200010;\n\nint n, k;\nstring s, res;\ndeque<II> a;\n\nint main() {\n    ios::sync_with_stdio(0);\n    cin.tie(nullptr);\n    cin >> n >> k;\n    cin >> s;\n    char ch = s[0];\n    int cnt = 1;\n    FOR(i,1,n-1) {\n        if (s[i] == ch) cnt++;\n        else {\n            a.push_back(II(ch-'A', cnt));\n            ch = s[i];\n            cnt = 1;\n        }\n    }\n    a.push_back(II(ch-'A', cnt));\n    \n    int stat = 0;\n    while (k) {\n        int firstChar = a.front().FI;\n\n        if (a.front().SE == 1) a.pop_front();\n        else {\n            II p = a.front();\n            a.pop_front();\n            p.SE--;\n            a.push_front(p);\n        }\n\n        int realFirstChar = firstChar;\n        if (stat) realFirstChar = 1-realFirstChar;\n\n        if (realFirstChar == 0) {\n            // A\n            II p = II(1-firstChar, 1);\n            if (SZ(a) && a.front().FI == p.FI) {\n                II q = a.front();\n                a.pop_front();\n                q.SE++;\n                a.push_front(q);\n            } else {\n                a.push_front(p);\n            }\n        } else {\n            // B\n            stat = 1-stat;\n            II p = II(firstChar, 1);\n            if (SZ(a) && a.back().FI == p.FI) {\n                II q = a.back();\n                a.pop_back();\n                q.SE++;\n                a.push_back(q);\n            } else {\n                a.push_back(p);\n            }\n        }\n\n        if (SZ(a) > 1 && a.back().SE == 1) {\n            int realLastChar = a.back().FI;\n            if (stat) realLastChar = 1-realLastChar;\n            if (realLastChar == 0 && SZ(a) > 1) {\n                a.pop_back();\n                if (a.back().SE == 1) a.pop_back();\n                else {\n                    II p = a.back();\n                    a.pop_back();\n                    p.SE--;\n                    a.push_back(p);\n                }\n            }\n        }\n        k--;\n\n        if (SZ(a) == 1 && a.front().SE == 1 && k % 2 == 0) break;\n        if (SZ(a) == 0) break;\n    }\n\n    while (SZ(a)) {\n        II p = a.front();\n        a.pop_front();\n        // cout << p.FI << ' ' << p.SE << endl;\n        if (stat) p.FI = 1-p.FI;\n        \n        FOR(i,1,p.SE) res += char('A' + p.FI);\n    }\n    while (SZ(res) < n) res += \"BA\";\n    cout << res;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nconst int N = 100010;\n\nchar s[N];\nint n, k;\nstd::deque <int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++ i){\n\t\tdq.push_back(s[i] - 'A');\n\t}\n\tif (k > n << 1){\n\t\tk = (n << 1) + (k & 1);\n\t}\n\tbool flag = false;\n\tfor (int i = 0; i < k; ++ i){\n\t\tif (dq.front() == flag){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(flag ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflag ^= 1;\n\t\t\tdq.push_back(flag);\n\t\t}\n\t}\n\twhile (!dq.empty()){\n\t\tputchar((dq.front() ^ flag) + 'A');\n\t\tdq.pop_front();\n\t}\n\treturn printf(\"\\n\"), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iomanip>\n#include<limits>\n#include<thread>\n#include<utility>\n#include<iostream>\n#include<string>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<numeric>\n#include<cassert>\n#include<random>\n#include<chrono>\n#include<unordered_set>\n#include<unordered_map>\n#include<fstream>\n#include<list>\n#include<functional>\n#include<bitset>\n#include<complex>\n#include<tuple>\nusing namespace std;\ntypedef unsigned long long int ull;\ntypedef long long int ll;\ntypedef pair<ll,ll> pll;\ntypedef pair<int,int> pi;\ntypedef pair<double,double> pd;\ntypedef pair<double,ll> pdl;\n#define F first\n#define S second\nconst ll E=1e18+7;\nconst ll MOD=1000000007;\n\nll n,k;\nstring s;\n\nll cul(ll a){\n    if(a==0){return 0;}\n    a--;\n    ll ret=1;\n    if(s[0]){ret++;}\n    if(a==0){return ret;}\n    ret+=a;\n    for(ll i=1;i<n && i<=a;i++){\n        if(s[i]^(i&1)){ret++;}\n    }\n    if(a>=n && n&1){ret+=a-n+1;}\n    return ret;\n}\n\n\nint main(){\n    cin>>n>>k;\n    cin>>s;\n    for(auto &I:s){I=(I=='A'?1:0);}\n    ll l=0,r=MOD;\n    while(r-l>3){\n        ll m=l+(r-l)/2;\n        if(cul(m)<=k){l=m;}\n        else{r=m;}\n    }\n    ll cnt=-1;\n    ll w=-1;\n    for(ll i=r;i>=l;i--){\n        if((w=cul(i))<=k){cnt=i; break;}\n    }\n    string ans=s;\n    for(ll i=n-1;i>=0;i--){\n        if(cnt!=0){\n            if(cnt>=n-i){ans[i]=(n-i)&1;}\n            else{ans[i]=s[i+cnt]^(cnt&1);}\n        }\n    }\n    //cout<<cnt<<\" \"<<w<<endl;\n    k-=w;\n    if(k){ans[0]=0;}\n    for(auto &I:ans){I=(I==0?'B':'A');}\n    cout<<ans<<endl;\n    \n    \n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(3)\n#include<bits/stdc++.h>\n#include<ext/pb_ds/assoc_container.hpp>\n#include<ext/pb_ds/tree_policy.hpp>\n#include<ext/pb_ds/priority_queue.hpp>\n#define MAXN 100005\n#define INF 1000000000\n#define MOD 1000000007\n#define F first\n#define S second\nusing namespace std;\nusing namespace __gnu_pbds;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef tree<int,null_type,less<int>,rb_tree_tag,tree_order_statistics_node_update> ordered_set;\ntypedef __gnu_pbds::priority_queue<int,greater<int>,pairing_heap_tag> pq;\nint n,k;\nstring str;\ndeque<int> deq;\nvoid convert()\n{\n    for(int i=0;i<n;i++) if(str[i]=='A') deq.push_back(0); else deq.push_back(1);\n}\nvoid go()\n{\n    if(!deq[0]) {deq[0]=1; k--; return;}\n    deq.pop_front();\n    for(int i=0;i<(int)deq.size();i++) deq[i]^=1;\n    deq.push_back(0); k--;\n}\nvoid go2()\n{\n    int cnt=0;\n    if(deq[0]==1&&deq[1]==0) cnt=2;\n    if(deq[0]==0&&deq[1]==0) cnt=3;\n    if(deq[0]==0&&deq[1]==1) cnt=4;\n    if(deq[0]==1&&deq[1]==1) cnt=3;\n    deq.pop_front(); deq.pop_front();\n    deq.push_back(1); deq.push_back(0); k-=cnt;\n}\nvoid print()\n{\n    for(int i=0;i<n;i++) printf(\"%c\",deq[i]?'B':'A');\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    cin>>str;\n    if(n==1)\n    {\n        if(k&1) str[0]=(str[0]='A'?'B':'A'); \n        cout<<str<<endl; return 0;\n    }\n    convert(); \n    for(int i=1;i<=n;i++)\n    {\n        if(k<=4)\n        {\n            while(k) go();\n            break;\n        }\n        else go2();\n    }\n    k%=4; while(k) go();\n    print();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// {{{ by shik\n#include <bits/stdc++.h>\n#include <unistd.h>\n#define SZ(x) ((int)(x).size())\n#define ALL(x) begin(x),end(x)\n#define REP(i,n) for ( int i=0; i<int(n); i++ )\n#define REP1(i,a,b) for ( int i=(a); i<=int(b); i++ )\n#define FOR(it,c) for ( auto it=(c).begin(); it!=(c).end(); it++ )\n#define MP make_pair\n#define PB push_back\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> PII;\ntypedef vector<int> VI;\n\n#ifdef SHIK\ntemplate<typename T>\nvoid _dump( const char* s, T&& head ) { cerr<<s<<\"=\"<<head<<endl; }\n\ntemplate<typename T, typename... Args>\nvoid _dump( const char* s, T&& head, Args&&... tail ) {\n    int c=0;\n    while ( *s!=',' || c!=0 ) {\n        if ( *s=='(' || *s=='[' || *s=='{' ) c++;\n        if ( *s==')' || *s==']' || *s=='}' ) c--;\n        cerr<<*s++;\n    }\n    cerr<<\"=\"<<head<<\", \";\n    _dump(s+1,tail...);\n}\n\n#define dump(...) do { \\\n    fprintf(stderr, \"%s:%d - \", __PRETTY_FUNCTION__, __LINE__); \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n} while (0)\n\ntemplate<typename Iter>\nostream& _out( ostream &s, Iter b, Iter e ) {\n    s<<\"[\";\n    for ( auto it=b; it!=e; it++ ) s<<(it==b?\"\":\" \")<<*it;\n    s<<\"]\";\n    return s;\n}\n\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const pair<A,B> &p ) { return s<<\"(\"<<p.first<<\",\"<<p.second<<\")\"; }\ntemplate<typename T>\nostream& operator <<( ostream &s, const vector<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T, size_t N>\nostream& operator <<( ostream &s, const array<T,N> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T>\nostream& operator <<( ostream &s, const set<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const map<A,B> &c ) { return _out(s,ALL(c)); }\n#else\n#define dump(...)\n#endif\n\ntemplate<typename T>\nvoid _R( T &x ) { cin>>x; }\nvoid _R( int &x ) { scanf(\"%d\",&x); }\nvoid _R( long long &x ) { scanf(\"%\" PRId64,&x); }\nvoid _R( double &x ) { scanf(\"%lf\",&x); }\nvoid _R( char &x ) { scanf(\" %c\",&x); }\nvoid _R( char *x ) { scanf(\"%s\",x); }\n\nvoid R() {}\ntemplate<typename T, typename... U>\nvoid R( T& head, U&... tail ) {\n    _R(head);\n    R(tail...);\n}\n\ntemplate<typename T>\nvoid _W( const T &x ) { cout<<x; }\nvoid _W( const int &x ) { printf(\"%d\",x); }\ntemplate<typename T>\nvoid _W( const vector<T> &x ) {\n    for ( auto i=x.cbegin(); i!=x.cend(); i++ ) {\n        if ( i!=x.cbegin() ) putchar(' ');\n        _W(*i);\n    }\n}\n\nvoid W() {}\ntemplate<typename T, typename... U>\nvoid W( const T& head, const U&... tail ) {\n    _W(head);\n    putchar(sizeof...(tail)?' ':'\\n');\n    W(tail...);\n}\n\n#ifdef SHIK\n#define FILEIO(...)\n#else\n#define FILEIO(name) do {\\\n    freopen(name \".in\",\"r\",stdin); \\\n    freopen(name \".out\",\"w\",stdout); \\\n} while (0)\n#endif\n\n// }}}\n\nconst int N=2e5+10;\nint n,k,a[2*N];\nchar s[N];\n\nvoid show( int x=-1 ) {\n    REP(i,n) {\n        if ( i==x ) printf(\"\\e[1;32m\");\n        putchar(a[i]?'-':'|');\n        if ( i==x ) printf(\"\\e[0m\");\n    }\n    W(\"\");\n}\n\nint m;\nvoid sim() {\n    int x=0,d=1;\n    while ( x>=0 && x<m ) {\n        // show(x);\n        if ( a[x]==0 ) d=-d;\n        a[x]^=1;\n        x+=d;\n    }\n    if ( m>=5 && a[m-2]==1 && a[m-1]==0 ) m-=2;\n    dump(x);\n    show();\n}\n\nint main() {\n    R(n,k,s);\n    m=n;\n    REP(i,n) a[i]=s[i]-'A';\n    // REP(i,n) a[i]=rand()%2;\n    REP1(i,n,2*N-1) a[i]=(i-n+1)%2;\n    int pos=0,t=0;\n    while ( pos<n && k>0 ) {\n        k--;\n        if ( (a[pos]^t)==0 ) a[pos]^=1;\n        else {\n            pos++;\n            t^=1;\n        }\n    }\n    REP(i,n) putchar(\"AB\"[a[pos+i]^t]);\n    W(\"\");\n    // REP(i,k) {\n        // dump(i);\n        // sim();\n    // }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\ntemplate<typename T1,typename T2> inline void chmin(T1 &a,T2 b){if(a>b) a=b;}\ntemplate<typename T1,typename T2> inline void chmax(T1 &a,T2 b){if(a<b) a=b;}\n\n//INSERT ABOVE HERE\nsigned main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n\n  if(k>n*2){\n    int x=(k-n*2)/2*2;\n    k-=x;\n  }\n  \n  int f=0;\n  deque<int> d;\n\n  for(int i=0;i<n;i++) d.emplace_back(s[i]-'A');\n  \n  while(k--){\n    if(d[0]^f){\n      d.pop_front();\n      f^=1;\n      d.push_back(f);      \n    }else{\n      d[0]=!d[0];\n    }\n  }\n\n  string ans;\n  for(int i=0;i<n;i++) ans.push_back(char('A'+(d[i]^f)));\n\n  cout<<ans<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 2E5 + 10;\n\nchar s[MAXN];\n\nint main(){\n\tint n, K;\n\tscanf(\"%d%d\", &n, &K);\n\tscanf(\"%s\", s);\n\tint l = 0;\n\tfor (; K && l < n; ++l, --K)\n\t\tif ((s[l] ^ l) & 1){\n\t\t\ts[l] ^= 3;\n\t\t\tif (!--K)\n\t\t\t\tbreak;\n\t\t}\n\trotate(s, s + l % n, s + n);\n\tif (l & 1)\n\t\ttransform(s, s + n, s, [](int x){return x ^ 3;});\n\tputs(s);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <math.h>\n#include <string.h>\n#include <time.h>\n#include <stdlib.h>\n#include <string>\n#include <bitset>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <algorithm>\n#include <sstream>\n#include <stack>\n#include <iomanip>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\ntypedef pair<int,int> pii;\ntypedef long long ll;\ntypedef double ld;\ntypedef vector<int> vi;\n#define fi first\n#define se second\n#define fe first\n#define FO(x) {freopen(#x\".in\",\"r\",stdin);freopen(#x\".out\",\"w\",stdout);}\n#define Edg int M=0,fst[SZ],vb[SZ],nxt[SZ];void ad_de(int a,int b){++M;nxt[M]=fst[a];fst[a]=M;vb[M]=b;}void adde(int a,int b){ad_de(a,b);ad_de(b,a);}\n#define Edgc int M=0,fst[SZ],vb[SZ],nxt[SZ],vc[SZ];void ad_de(int a,int b,int c){++M;nxt[M]=fst[a];fst[a]=M;vb[M]=b;vc[M]=c;}void adde(int a,int b,int c){ad_de(a,b,c);ad_de(b,a,c);}\n#define es(x,e) (int e=fst[x];e;e=nxt[e])\n#define esb(x,e,b) (int e=fst[x],b=vb[e];e;e=nxt[e],b=vb[e])\n#define SZ 888888\nint n,k; char s[SZ];\nint ps[SZ],*h=ps,*t;\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s); t=h+n-1;\n\tfor(int i=0;i<n;++i) *(h+i)=(s[i]-'A')^(i&1);\n\tif(k>=n+n) k=n+n+(k-n-n)%2;\n\tfor(int i=1;i<=k;++i)\n\t{\n\t\tif(*h==0) *h^=1;\n\t\telse *(++t)=(n-1)&1, ++h;\n\t}\n\tfor(int i=0;i<n;++i)\n\t\tputchar((*(h+i)^(i&1))+'A');\n}\n"
  },
  {
    "language": "C++",
    "code": "//                                ** ALLAH **\n//                        who is Hussain? -> whoishussain.org\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int mod=1000000007;\ninline int in(){ int x; scanf(\"%d\",&x); return x; }\nconst int N = 200100;\nint n, k;\nstring s;\nint32_t main(){\n        cin >> n >> k;\n        cin >> s;\n\n        int t = k;\n        k = 0;\n        for(int i = 0; i < t && k < n; i++){\n                if( s[k] == 'A' ) s[k] = 'B';\n                else k++;\n        }\n        if( k == n ) { for(int i = 0;i < n; i++) cout << char('A'+(n-i-1)%2); cout << endl;return 0; } \n        for(int i = k; i < n; i++) cout << (k%2==1?(s[i]=='A'?'B':'A'):s[i]);\n        for(int i = 0;i < k; i++) cout << char('A'+(n-i-1)%2); \n        cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\n\nvoid move(vc &s) {\n\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\ts[0] = (rev ? 'A' : 'B');\n\t\treturn;\n\t}\n\trev = !rev;\n\ts.erase(s.begin());\n\ts.push_back(rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == 2*N) {\n\t\t\t// あとK-2N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - 2*N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (rev) {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", (s[i] == 'A' ? 'B' : 'A'));\n\t\t}\n\t}\n\telse {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", s[i]);\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\t//printf(\"%s\\n\", string(s.begin(), s.end()).c_str());\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*****************************************************/\n//#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <cstdio>\n#include <cstring>\n#include <sstream>\n#include <cstdlib>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define   offcin        ios::sync_with_stdio(false)\n#define   DEBUG         freopen(\"#.txt\", \"r\", stdin)\n#define   sigma_size    26\n#define   lson          l,m,v<<1\n#define   rson          m+1,r,v<<1|1\n#define   slch          v<<1\n#define   srch          v<<1|1\n#define   ll            long long\n#define   ull           unsigned long long\n#define   lowbit(x)     (x&-x)\n\nconst int    INF    = 0x3f3f3f3f;\nconst ll     INFF   = 1e18;\nconst double pi     = acos(-1.0);\nconst double inf    = 1e18;\nconst double eps    = 1e-9;\nconst ll     mod    = 1e9+7;\nconst int    maxmat = 10;\nconst ull    BASE   = 133333331;\n\n/*****************************************************/\ninline void RI(int &x) {\n      char c;\n      while((c=getchar())<'0' || c>'9');\n      x=c-'0';\n      while((c=getchar())>='0' && c<='9') x=(x<<3)+(x<<1)+c-'0';\n}\ninline ll bits(ll x) {\n      return !x ? x : bits(x - lowbit(x)) + 1;\n}\n/*****************************************************/\n\nconst int maxn = 1e6 + 5;\n\nchar s[maxn];\n\nint main(int argc, char const *argv[]) {\n    int N, K;\n    cin>>N>>K;\n    scanf(\"%s\", s);\n\n    int front = 0, last = N;\n    bool flag = false;\n    if (K <= 2 * N) {\n        for (int i = 0; i < K; i ++) {\n            if (s[front] == 'A') s[front] = 'B';\n            else {\n                front ++;\n                flag ^= 1;\n                s[last ++] = flag ? 'B' : 'A';\n                s[last] = 0;\n            }\n        }\n    }\n    else {\n        K -= 2 * N;\n        K %= 2;\n        for (int i = 0; i < 2 * N; i ++) {\n            if (s[front] == 'A') s[front] = 'B';\n            else {\n                front ++;\n                flag ^= 1;\n                s[last ++] = flag ? 'B' : 'A';\n                s[last] = 0;\n            }\n        }\n        if (K) {\n            if (s[front] == 'A') s[front] = 'B';\n            else {\n                front ++;\n                flag ^= 1;\n                s[last ++] = flag ? 'B' : 'A';\n                s[last] = 0;\n            }\n        }\n    }\n\n    if (flag) {\n        for (int i = front; i < last; i ++)\n            s[i] = s[i] == 'A' ? 'B' : 'A';\n    }\n\n    printf(\"%s\\n\", s + front);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(K-- && cnt + 1 < ans.size())\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tK %= 6 * N;\n\t\twhile(K--)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define LL long long\n#define LD long double\n#define SC(t,x) static_cast<t>(x)\n#define AR(t) vector < t >\n#define PII pair < int, int >\n#define PLL pair < LL, LL >\n#define PIL pair < int, LL >\n#define PLI pair < LL, int >\n#define MP make_pair\n#define PB push_back\n#define PF push_front\n#define POB pop_back\n#define POF pop_front\n#define PRF first\n#define PRS second\n#define INIT(ar,val) memset ( ar, val, sizeof ( ar ) )\n#define lp(loop,start,end) for ( int loop = start; loop < end; ++loop )\n#define lpd(loop,start,end) for ( int loop = start; loop > end; --loop )\n#define lpi(loop,start,end) for ( int loop = start; loop <= end; ++loop )\n#define lpdi(loop,start,end) for ( int loop = start; loop >= end; --loop )\n#define qmax(a,b) (((a)>(b))?(a):(b))\n#define qmin(a,b) (((a)<(b))?(a):(b))\n#define qabs(a) (((a)>=0)?(a):(-(a)))\n\nconst int INF = 0x3fffffff;\nconst int SINF = 0x7fffffff;\nconst long long LINF = 0x3fffffffffffffff;\nconst long long SLINF = 0x7fffffffffffffff;\nconst int MAXN = 1000007;\n\nint n, K, ki, kc;\nchar s[MAXN];\nint a[MAXN];\nchar ans[MAXN];\n\nvoid init ();\nvoid input ();\nvoid work ();\n\nvoid fill ( int l, int r )\n{\n\tlpi ( i, l, r ) ans[i] = 'B';\n}\n\n\n\nint main()\n{\n\tinit();\n\tinput();\n\twork();\n}\n\n\n\nvoid init ()\n{\n\t// Init Everything Here\n\t\n\tios::sync_with_stdio ( false );\n}\n\nvoid input ()\n{\n\t// input method\n\t\n\tscanf ( \"%d%d%s\", &n, &K, s+1 );\n}\n\nvoid work ()\n{\n\t// main work\n\t\n\tn = strlen ( s+1 );\n\tki = 0;\n\tint cbl = -1;\n\tlpi ( i, 1, n ){\n\t\tif ( s[i] == 'B' ){\n\t\t\tif ( cbl == -1 ) cbl = i;\n\t\t}else{\n\t\t\tif ( ~cbl ) a[ki<<1] = cbl, a[ki<<1|1] = i - 1, ++ki, cbl = -1;\n\t\t}\n\t}\n\tif ( ~cbl ) a[ki<<1] = cbl, a[ki<<1|1] = n + 1, ++ki, cbl = -1;\n\t\n\tfor ( int i = ki<<1; i < MAXN; i += 2 ) a[i] = a[i+1] = n + 1 + ( i - ( ki << 1 ) ) + ( s[n] == 'B' ? 2 : 0 );\n\t\n//\tlp ( i, 0, ki+1000 ) cerr << a[i] << \" \";\n//\tcerr << endl;\n\t\n\tint nk = 0, cl = a[0], cr = a[1];\n\tlpi ( _t, 1, K ){\n\t\tif ( cl > 1 ){\n\t\t\tif ( cl > 2 ){\n\t\t\t\tcl = cr = 1;\n\t\t\t\t--nk;\n\t\t\t}else --cl;\n\t\t}else{\n\t\t\t++kc;\n\t\t\tcl = cr, cr = a[(nk<<1)+kc+1] - ( ( kc + 1 ) & ~1 );\n\t\t}\n\t\t\n\t\tif ( kc == ( ( n + 7 ) << 1 ) ){\n\t\t\tif ( n & 1 ){\n\t\t\t\tif ( ( K - _t ) & 1 ) putchar ( 'B' );\n\t\t\t\telse putchar ( 'A' );\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}else{\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tfill ( ans+1, ans+1+n, 'A' );\n\tfill ( cl, cr );\n\tlp ( i, nk+1, ki ){\n//\t\tcerr << i << \" : \" << a[(i<<1)+kc] << \" \" << a[(i<<1)+kc] - ( kc & ~1 ) << \" \" << a[(i<<1)+kc+1] - ( ( kc + 1 ) & ~1 ) << endl;\n\t\tfill ( a[(i<<1)+kc] - ( kc & ~1 ), a[(i<<1)+kc+1] - ( ( kc + 1 ) & ~1 ) );\n\t}\n\t\n\tprintf ( \"%s\\n\", ans+1 );\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbool a[N];\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n    while (k--) {\n\n        if (a[0]) {\n            a[0] ^= 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] ^= 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define X first\n#define Y second\n#define mp make_pair\nusing namespace std;\ntypedef pair<int,int> PII;\ntypedef long long ll;\nconst int N = 100010;\nbitset<N> s;\nchar S[N];\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",S);\n\t//printf(\"%s\\n\",S);\n\tfor(int i=0;i<n;i++){\n\t\tif(S[i]=='A') s.set(i);\n\t}\n//\ts.set(0),s.set(1);\n//\ttmp.set();\n//cout<<s<<endl;\n\tfor(int i=0;i<min(k,2*n);i++){\n\t\tif(s[0]==1) s[0]=0;\n\t\telse s.reset(n),s=~(s>>1);\n\t\t//cout<<s<<endl;\n\t//\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\t//\tputs(\"\");\n\t}\n\t//cout<<s<<endl;\n\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cmath>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n\tint n,k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tvector<int> v(n),a(n);\n\tfor(int i=0;i<n;i++){\n\t\tv[i] = s[i]-'A';\n\t}\n\ta[0]=0;\n\tif(v[0]==1)a[1]=1;\n\telse a[1]=2;\n\tfor(int i=2;i<n;i++){\n\t\tif(((v[i-1]+i-1)%2)==0){\n\t\t\ta[i]= a[i-1]+2;\n\t\t}else{\n\t\t\ta[i]= a[i-1]+1;\n\t\t}\n\t}\n\tint x=0;\n\tfor(int i=1;i<n;i++){\n\t\tif(k<a[i]){\n\t\t\tx=i-1;\n\t\t\tbreak;\n\t\t}\n\t\tif(i==(n-1)){\n\t\t\tx=n-1;\n\t\t}\n\t}\n\tif(x!=(n-1)){\n\t\tfor(int i=0;i<(n-x);i++){\n\t\t\tv[i] = (v[i+x]+x)%2;\n\t\t}\n\t\tfor(int i=n-x;i<n;i++){\n\t\t\tv[i] = (n-1-i)%2;\n\t\t}\n\t\tif((k-a[x])!=0){\n\t\t\tv[0] +=1;\n\t\t}\n\t}else{\n\t\tv[0]= (v[n-1]+n-1)%2;\n\t\tfor(int i=1;i<n;i++){\n\t\t\tv[i] = (n-1-i)%2;\n\t\t}\n\t\tif((k-a[n-1])!=0){\n\t\t\tif(n%2==0)v[0]=1;\n\t\t\telse if((k-a[n-1])%2!=0){\n\t\t\t\tif(v[0]==0)v[0]=1;\n\t\t\t\telse v[0]=0;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif(v[i]==1)cout << \"B\";\n\t\telse cout << \"A\";\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ; \n#define int long long\nconst int MAXN = 1e6 + 100 ; \nbool a[MAXN] ; \nint32_t main(){\n    ios_base::sync_with_stdio(0) ; \n    cin . tie(0) , cout . tie(0) ; \n\n    int n , k ; cin >> n >> k ; \n    for(int i = 0 ; i < n ; i ++){\n    \tchar ch ; cin >> ch ; \n    \ta[i] = (ch == 'A') ; \n    }\n\n    int td = min(k , 2 * n) , i = 0 ; \n    k = k - td ; \n    bool rev = false ; \n\n    while(td --){\n    \tif(a[i] ^ rev){a[i] = !a[i] ; continue ; }\n    \tint now = n + i ; \n    \trev = !rev ; \n    \ta[now] = !rev ; \n    \t//cout << (a[i] ^ rev ? 'A' : 'B') ; \n    \ti ++ ; \n    }\n    if(n % 2)a[i] = a[i] ^ (k % 2) ; \n    for(int j = i ; j < i + n ; j ++)\n    \tcout << ((a[j] ^ rev) ? 'A' : 'B') ; \n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define N 200010\nusing namespace std;\nint n,m,a[N],q[N<<2];\nchar s[N];\n\nvoid work(int k){\n\tint l(1),r(n),tag(0);\n\tfor (int i=1;i<=n;i++)\n\t\tq[i]=s[i-1]-'A';\n\tfor (int i=1;i<=k;i++){\n\t\tif ((tag^q[l])==0)\n\t\t\tq[l]^=1;\n\t\telse{\n\t\t\tl++,tag^=1;\n\t\t\tq[++r]=tag;\n\t\t}\n\t}\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=q[l+i-1]^tag;\n}\n\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s);\n\tif (m<=2*n)\n\t\twork(m);\n\telse\n\t\tif (m&1)\n\t\t\twork(2*n-1);\n\t\telse\n\t\t\twork(2*n);\n\tfor (int i=1;i<=n;i++)\n\t\tprintf(\"%c\",(char)(a[i]+'A'));\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing uint = unsigned int;\nusing lint = long long int;\nusing ulint = unsigned long long int;\ntemplate<class T = int> using V = vector<T>;\ntemplate<class T = int> using VV = V< V<T> >;\ntemplate<class T, class U> void assign(V<T>& v, int n, const U& a) { v.assign(n, a); }\ntemplate<class T, class... Args> void assign(V<T>& v, int n, const Args&... args) { v.resize(n); for (auto&& e : v) assign(e, args...); }\n\n\nint main() {\n  cin.tie(nullptr); ios_base::sync_with_stdio(false);\n  int n, k; cin >> n >> k;\n  string s; cin >> s;\n  auto op = [&]() -> void {\n    int dir = 1;\n    int i = 0;\n    do {\n      if (dir == 1) {\n        if (s[i] == 'A') {\n          s[i] = 'B';\n          dir = -1;\n        } else {\n          s[i] = 'A';\n          ++i;\n        }\n      } else {\n        if (s[i - 1] == 'A') {\n          s[i - 1] = 'B';\n          dir = 1;\n        } else {\n          s[i - 1] = 'A';\n          --i;\n        }\n      }\n    } while (i != 0 and i != n);\n  };\n  unordered_map<string, int> a;\n  for (int i = 0; i < k; ++i) {\n    if (a.count(s)) {\n      for (int _ = 0; _ < (k - i) % (i - a[s]); ++_) op();\n      break;\n    }\n    a[s] = i;\n    op();\n  }\n  cout << s << '\\n';\n}"
  },
  {
    "language": "C++",
    "code": "///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n//                       _oo0oo_                         //\n//                      o8888888o                        //\n//                      88\" . \"88      ------ hzt1       //\n//                      (| -_- |)                        //\n//                      0\\  =  /0                        //\n//                    ___/`---'\\___                      //\n//                  .' \\|     |// '.                     //\n//                 / \\|||  :  |||// \\                    //\n//                / _||||| -:- |||||- \\                  //\n//               |   | \\  -  /// |     |                 //\n//               | \\_|  ''\\---/''  |_/ |                 //\n//               \\  .-\\__  '-'  ___/-. /                 //\n//             ___'. .'  /--.--\\  `. .'___               //\n//          .\"\" '<  `.___\\_<|>_/___.' >' \"\".             //\n//         | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |           //\n//         \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /           //\n//     =====`-.____`.___ \\_____/___.-`___.-'=====        //\n//                       `=---='                         //\n//                                                       //\n//                                                       //\n//     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~       //\n//                                                       //\n//                 God-He Bless All.                     //\n//           This Code Will Never Explode.               //\n//                                                       //\n//                                                       //\n///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<bitset>\n#include<algorithm>\n#define rep(i,a,b) for(int i=(a),i##_end_=(b);i<=i##_end_;i++)\n#define dwn(i,a,b) for(int i=(a),i##_end_=(b);i>=i##_end_;i--)\nusing namespace std;\ntypedef long long ll;\nconst int maxn=200010;\nint n,k;\nbitset<maxn> A,B,C,ALL;\nvoid work(bitset<maxn>& A) {\n\tif(A[0]) A[0]=0;\n\telse A=ALL^(A>>1),A[n-1]=1;\n}\nvoid force(bitset<maxn>& A,int k) {\n\twhile(k--) work(A);\n\trep(i,0,n-1) putchar(A[i]?'A':'B');\n}\nchar s[maxn];\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tA=B=C=0;\n\trep(i,0,n-1) ALL[i]=1;\n\trep(i,0,n-1) if(s[i]=='A') A[i]=B[i]=C[i]=1;\n\tint len=0;\n\tdo {\n\t\tlen++;\n\t\twork(B);work(C);work(C);\n\t}while(B!=C);\n\tif(k<=len) force(A,k);\n\telse force(B,k%len);\n\treturn 0;\n}\n/*\n30 2333\nABAAABABABABABABBABABBBABABABB\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include<set>\n#include<map>\n#include<cmath>\n#include<queue>\n#include<bitset>\n#include<string>\n#include<cstdio>\n#include<cctype>\n#include<cassert>\n#include<cstdlib>\n#include<cstring>\n#include<sstream>\n#include<iostream>\n#include<algorithm>\n\n#define For(i,x,y) for (int i=x;i<y;i++)\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define lf else if\n\n#define dprintf(...) fprintf(stderr,__VA_ARGS__)\nusing namespace std;\n\ntypedef long long ll;\ntypedef double db;\ntypedef pair<int,int> pii;\ntypedef vector<int> Vi;\n\nint IN(){\n\tint c,f,x;\n\twhile (!isdigit(c=getchar())&&c!='-');c=='-'?(f=1,x=0):(f=0,x=c-'0');\n\twhile (isdigit(c=getchar())) x=(x<<1)+(x<<3)+c-'0';return !f?x:-x;\n}\n\nconst int N=500000+19;\n\nchar s[N];\nint A[N];\nint n,K,isA,x;\n\nint main(){\n\tn=IN(),K=IN();\n\tscanf(\"%s\",s+1);\n\tif (s[1]=='A'){\n\t\ts[1]='B';\n\t\tif (--K==0) return puts(s+1),0;\n\t}\n\tif (s[n]=='B'){\n\t\tfor (int l=1,r;l<=n;l=r+1){\n\t\t\tfor (r=l;r+1<=n&&s[r+1]==s[l];r++);\n\t\t\tFor(i,l,r) s[i]=(s[i]=='A'?'B':'A');\n\t\t}\n\t\ts[n]='A';\n\t\tif (--K==0) return puts(s+1),0;\n\t}\n\tFor(i,1,n+1) A[i]=(s[i]!=s[i+1]);\n\tFor(i,n+1,2*n+1) A[i]=1;\n\tisA=(s[1]=='A');\n\tx=1;\n\twhile (K){\n\t\tif (isA){\n\t\t\tA[x]^=1;\n\t\t\tisA^=1;\n\t\t} else{\n\t\t\tif (A[x++]==0) isA^=1;\n\t\t}\n\t\tif (--K==0) break;\n\t\tif (x==n+1){\n\t\t\tif (n%2==0) break;\n\t\t\tK%=2;\n\t\t}\n\t}\n\tFor(i,1,n+1){\n\t\tputchar(isA?'A':'B');\n\t\tif (A[x++]==1) isA^=1;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FI(i,a,b) for(int i=(a);i<=(b);i++)\n#define FD(i,a,b) for(int i=(a);i>=(b);i--)\n\n#define LL long long\n#define Ldouble long double\n#define PI 3.1415926535897932384626\n\n#define PII pair<int,int>\n#define PLL pair<LL,LL>\n#define mp make_pair\n#define fi first\n#define se second\n\nusing namespace std;\n\nint n, step;\nchar s[200005];\n\nint pos = 1, toggled;\n\nvoid print_string(int p, int q){\n\tFI(i, p, n){\n\t\tif(toggled) printf(\"%c\", (int)'A' + 'B' - s[i]);\n\t\telse printf(\"%c\", s[i]);\n\t}\n\tFI(i, 1, p - 1){\n\t\tif(toggled) printf(\"%c\", (int)'A' + 'B' - s[i]);\n\t\telse printf(\"%c\", s[i]);\n\t}\n\tprintf(\"\\n\");\n\texit(0);\n}\nint main(){\n\tscanf(\"%d %d %s\", &n, &step, s + 1);\n\tFI(i, 1, step){\n\t\tif((s[pos] == 'A') ^ toggled){\n\t\t\ts[pos] = 'A' + 'B' - s[pos];\n\t\t}\n\t\telse{\n\t\t\tpos++;\n\t\t\ttoggled ^= 1;\n\t\t\tif(pos == n + 1){\n\t\t\t\tstep -= i;\n\t\t\t\tpos = 1;\n\t\t\t\tgoto gg;\n\t\t\t}\n\t\t}\n//\t\tprintf(\"%d: %s [p = %d, tog %d]\\n\", i, s + 1, pos, toggled);\n\t}\n\t\n\tstep = 0;\n\t\n\tgg:;\n\tstep %= (n + n);\n\t\n\tFI(i, 1, step){\n\t\tif((s[pos] == 'A') ^ toggled){\n\t\t\ts[pos] = 'A' + 'B' - s[pos];\n\t\t}\n\t\telse{\n\t\t\tpos++;\n\t\t\ttoggled ^= 1;\n\t\t\tif(pos == n + 1) pos = 1;\n\t\t}\n\t}\n\t\n\tprint_string(pos, toggled);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<stack>\n#include<queue>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<list>\n#include<deque>\n#include<bitset>\n#include<set>\n#include<map>\n#include<unordered_map>\n#include<unordered_set>\n#include<cstring>\n#include<sstream>\n#include<complex>\n#include<iomanip>\n#include<numeric>\n#include<cassert>\n#define X first\n#define Y second\n#define pb push_back\n#define rep(X,Y) for (int (X) = 0;(X) < (Y);++(X))\n#define reps(X,S,Y) for (int (X) = S;(X) < (Y);++(X))\n#define rrep(X,Y) for (int (X) = (Y)-1;(X) >=0;--(X))\n#define repe(X,Y) for ((X) = 0;(X) < (Y);++(X))\n#define peat(X,Y) for (;(X) < (Y);++(X))\n#define all(X) (X).begin(),(X).end()\n#define rall(X) (X).rbegin(),(X).rend()\n#define eb emplace_back\n#define UNIQUE(X) (X).erase(unique(all(X)),(X).end())\n#define Endl endl\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntemplate<class T> using vv=vector<vector<T>>;\ntemplate<class T> ostream& operator<<(ostream &os, const vector<T> &t) {\nos<<\"{\"; rep(i,t.size()) {os<<t[i]<<\",\";} os<<\"}\"<<endl; return os;}\ntemplate<class S, class T> ostream& operator<<(ostream &os, const pair<S,T> &t) { return os<<\"(\"<<t.first<<\",\"<<t.second<<\")\";}\ntemplate<class T> inline bool MX(T &l,const T &r){return l<r?l=r,1:0;}\ntemplate<class T> inline bool MN(T &l,const T &r){return l>r?l=r,1:0;}\n#define out(args...){vector<string> a_r_g_s=s_p_l_i_t(#args, ','); e_r_r(a_r_g_s.begin(), args); }\nvector<string> s_p_l_i_t(const string& s, char c) { vector<string> v; stringstream ss(s); string x; while(getline(ss,x,c)) v.emplace_back(x); return move(v);}\nvoid e_r_r(vector<string>::iterator it) {}\ntemplate<typename T, typename... Args> void e_r_r(vector<string>::iterator it, T a, Args... args){ if(*it==\" 1\"||*it==\"1\") cerr<<endl; else cerr << it -> substr((*it)[0] == ' ', it -> length()) << \" = \" << a << \", \"; e_r_r(++it, args...);}\nconst ll MOD=1e9+7;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cout<<fixed<<setprecision(0);\n  int t=1e9,n=200000;\n  string s;//(n,'A');\n  cin>>n>>t>>s; s.reserve(512345);\n  if(n==1,0){\n    \n    return 0;\n  }\n  int o=0,f=0;\n  int sum=0+'A'+'B';\n  rep(i,t){\n    if(s[o]=='A'+f){\n      s[o]=sum-s[o];\n    }else{\n      ++o;\n      f=1-f;\n      s+='A'+f;\n    }\n    //out(f,o,s,o+n,s.size(),1);\n    if(o>n && i%2!=t%2) break;\n  }\n  rep(i,n) cout<<char(f?sum-s[o+i]:s[o+i]); cout<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\t--k;\n\t}\n\tif (k == 0) {\n\t\tcout << s;\n\t\treturn 0;\n\t}\n\tstring sol = s;\n\tint j = s.size()-1;\n\tint curs = 0;\n\tfor (; j >= 0 && k > 0; --j, --k) {\n\t\tsol[j] = curs + 'A';\n\t\tcurs ^= 1;\n\t}\n\t\n\tfor (int i = s.size()-1; j >= 0; --j, --i) {\n\t\tsol[j] = s[i];\n\t\tif ((i-j)&1)\n\t\t\tsol[j] = 'A' + (1^(s[i] - 'A'));\n\t}\n\tcout << sol;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <queue>\n#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <cctype>\n#include <cassert>\n#include <limits>\n#include <functional>\n#include <iomanip>\n#include <complex>\n#include <bitset>\n#include <stack>\nusing namespace std;\n \n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define repl(i,s,n) for(int i=s; i<=n; ++i)\n#define rer(i,l,u) for(int (i)=(int)(l);(i)<=(int)(u);++(i))\n#define reu(i,l,u) for(int (i)=(int)(l);(i)<(int)(u);++(i))\n#if defined(_MSC_VER) || __cplusplus > 199711L\n#define aut(r,v) auto r = (v)\n#else\n#define aut(r,v) __typeof(v) r = (v)\n#endif\n#define each(it,o) for(aut(it, (o).begin()); it != (o).end(); ++ it)\n#define ktya(x) sort(all(x))\n#define maxs(x,y) (x = max(x,y))\n#define mins(x,y) (x = min(x,y))\n#define all(o) (o).begin(), (o).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset(m,v,sizeof(m))\n#define INF 1e18\n#define INFLL 1000000000000000007LL\n#define SIZE 200105\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mind(a,b) (a>b?b:a)\n#define maxd(a,b) (a>b?a:b)\n#define PI (acos(-1))\ntypedef vector<int> vi; typedef pair<int, int> pii; typedef vector<pair<int, int> > vpii; typedef long long ll;\ntypedef pair<int,ll> pill; typedef pair<ll,int> plli; \ntypedef pair<double, int> pdi;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if(y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if(x < y) x = y; }\ntypedef complex<double> P;\nll MOD = 1000000007;\n//ll MOD=998244353;\ntypedef ll Weight;\nstruct Edge {\n\tint src, dst;\n\tWeight weight;\n};\nbool operator < (const Edge &e, const Edge &f) {\n\treturn e.weight != f.weight ? e.weight > f.weight : // !!INVERSE!!\n\te.src != f.src ? e.src < f.src : e.dst < f.dst;\n}\ntypedef vector<Edge> Edges;\nint N;\nll K;\nstring str;\nchar hoge[2]={'A','B'};\nint main(){\n\tll KK;\n\tcin>>N>>KK;\n\tcin>>str;\n\tif(N==1){\n\t\tif(str[0]=='A'){\n\t\t\tcout<<hoge[int(KK%2)]<<endl;\n\t\t}else{\n\t\t\tcout<<hoge[int((KK+1)%2)]<<endl;\n\t\t}\n\t\treturn 0;\n\t}\n\tstring nise=\"\";\n\trep(i,N){\n\t\tnise=hoge[i%2]+nise;\n\t}\n\tfor(ll x=KK;x<=KK;x++){\n\t\tstring ans=\"\";\n\t\tll K=x;\n\t\trep(i,N){\n\t\t\tif(K<0)continue;\n\t\t\tif(K==0){\n\t\t\t\t//i kai hanten\n\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\tif(i%2==1){\n\t\t\t\t\t\tif(str[j]=='A')ans+='B';\n\t\t\t\t\t\telse ans+='A';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans+=str[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sz=ans.size();\n\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\tans+=nise[j];\n\t\t\t\t}\n\t\t\t\tcout<<ans<<endl;\n\t\t\t\tK-=1;\n\t\t\t\t//return 0;\n\t\t\t}\n\t\t\tif(str[i]==hoge[i%2]){\n\t\t\t\tif(K==1){\n\t\t\t\t\tans+='B';\n\t\t\t\t\tfor(int j=i+1;j<N;j++){\n\t\t\t\t\t\tif(i%2==1){\n\t\t\t\t\t\t\tif(str[j]=='A')ans+='B';\n\t\t\t\t\t\t\telse ans+='A';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tans+=str[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sz=ans.size();\n\t\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\t\tans+=nise[j];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<ans<<endl;\n\t\t\t\t\tK-=2;\n\t\t\t\t\t//return 0;\n\t\t\t\t}\n\t\t\t\tK-=2;\n\t\t\t}else{\n\t\t\t\tK-=1;\n\t\t\t}\n\t\t}\n\t\tstring ans2=nise;\n\t\t\tif(K>=0){\n\t\t\t\tif(K%2 == 1){\n\t\t\t\t\n\t\t\t\t\tif(N%2==1)ans2[0]='B';\n\t\t\t\t\tcout<<ans2<<endl;\n\t\t\t\t}else{cout<<ans2<<endl;}\n\t\t\t}\n\t\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "// AtCoder Grand Contest 011\n// D - Half Reflector\n\n#include <cstdio>\n#define MAX_N 200000\nusing namespace std;\ntypedef long long int ll;\n\n\nint N;\nll K;\nchar ans[MAX_N + 1];\n\nint main() {\n\n  char c;\n  int inv;\n\n  scanf(\"%d%lld\", &N, &K);\n  scanf(\"%*c\");\n  ans[N + 1] = '\\0';\n\n  if (N >= 100000) {\n    while (true) {}\n  }\n\n  if (N == 1) {\n    scanf(\"%c\", &c);\n    ans[0] = (K + (ll)(c - 'A')) % 2 + 'A';\n    ans[1] = '\\0';\n    printf(\"%s\\n\", ans);\n    return 0;\n  }\n\n  inv = 0;\n  int j = 0;\n  for (int i = 0; i < N; i++) {\n    scanf(\"%c\", &c);\n    if ((c - 'A' + i) % 2 == 0) {\n      inv++;\n    }\n    if ((ll)inv + i >= K) {\n      ans[j] = ((c - 'A') + (i - j)) % 2 + 'A';\n      if (j == 0 && K == (ll)inv + i) {\n        ans[j] = 'B';\n      }\n      j++;\n    }\n  }\n  for (; j < N; j++) {\n    ans[j] = (N - j + 1) % 2 + 'A';\n  }\n  printf(\"%s\\n\", ans);\n\n  return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\nstring S;\nstring T;\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>S;\n\t\n\tint pos=0,rev=0,revn=0;\n\twhile(K-->0){\n\t\tif(pos==N) break;\n\t\t\n\t\tif((S[pos]=='A') ^ rev ^ revn) {\n\t\t\trevn^=1;\n\t\t}\n\t\telse {\n\t\t\tpos++;\n\t\t\trevn = 0;\n\t\t\trev ^=1;\n\t\t}\n\t}\n\t\n\tstring R;\n\tif(pos==N) {\n\t\twhile(R.size()<N) {\n\t\t\tif((N-R.size())%2==1) R+='A';\n\t\t\telse R+='B';\n\t\t}\n\t\tif(R[0]=='A' && K%2) R[0]='B';\n\t}\n\telse {\n\t\tint first=1;\n\t\twhile(pos<N) {\n\t\t\tif(rev ^ ((first==1)&&revn)) {\n\t\t\t\tR+='A'+'B'-S[pos];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tR+=S[pos];\n\t\t\t}\n\t\t\tpos++;\n\t\t\tfirst=0;\n\t\t}\n\t\twhile(R.size()<N) {\n\t\t\tif((N-R.size())%2==1) R+='A';\n\t\t\telse R+='B';\n\t\t}\n\t}\n\tcout<<R<<endl;\n\t\n\t/*\n\tT=S;\n\t\n\tFOR(i,100) {\n\t\tint x=0,side=0;\n\t\twhile(x>=0 && x<N) {\n\t\t\tS[x]='A'+'B'-S[x];\n\t\t\tif(side==0) {\n\t\t\t\tif(S[x]=='B') x--, side=1;\n\t\t\t\telse x++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(S[x]=='B') x++, side=0;\n\t\t\t\telse x--;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(T[0]=='A') T[0]='B';\n\t\telse {\n\t\t\tT=T.substr(1);\n\t\t\tFORR(c,T) c='A'+'B'-c;\n\t\t\tT+='A';\n\t\t}\n\t\t\n\t\t\n\t\tcout<<(i+1)<<\"\\t\"<<S<<endl;\n\t}\n\t*/\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ms(s, n) memset(s, n, sizeof(s))\n#define FOR(i, a, b) for (int i = (a); i < (b); i++)\n#define FORd(i, a, b) for (int i = (a) - 1; i >= (b); i--)\n#define FORall(it, a) for (__typeof((a).begin()) it = (a).begin(); it != (a).end(); it++)\n#define FORalld(it, a) for (__typeof((a).rbegin()) it = (a).rbegin(); it != (a).rend(); it++)\n#define sz(a) int((a).size())\n#define present(t, x) (t.find(x) != t.end())\n#define all(a) (a).begin(), (a).end()\n#define uni(a) (a).erase(unique(all(a)), (a).end())\n#define pb push_back\n#define pf push_front\n#define mp make_pair\n#define fi first\n#define se second\n#define prec(n) fixed<<setprecision(n)\n#define bit(n, i) (((n) >> (i)) & 1)\n#define bitcount(n) __builtin_popcountll(n)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<int, int> pi;\ntypedef vector<int> vi;\ntypedef vector<pi> vii;\nconst int MOD = (int) 1e9 + 7;\nconst int INF = (int) 1e9;\nconst ll LINF = (ll) 1e18;\nconst ld PI = acos((ld) -1);\nconst ld EPS = 1e-9;\ninline ll gcd(ll a, ll b) {ll r; while (b) {r = a % b; a = b; b = r;} return a;}\ninline ll lcm(ll a, ll b) {return a / gcd(a, b) * b;}\ninline ll fpow(ll n, ll k, int p = MOD) {ll r = 1; for (; k; k >>= 1) {if (k & 1) r = r * n % p; n = n * n % p;} return r;}\ntemplate<class T> inline int chkmin(T& a, const T& val) {return val < a ? a = val, 1 : 0;}\ntemplate<class T> inline int chkmax(T& a, const T& val) {return a < val ? a = val, 1 : 0;}\ntemplate<class T> inline T isqrt(T k) {T r = sqrt(k) + 1; while (r * r > k) r--; return r;}\ntemplate<class T> inline T icbrt(T k) {T r = cbrt(k) + 1; while (r * r * r > k) r--; return r;}\ninline void addmod(int& a, int val, int p = MOD) {if ((a = (a + val)) >= p) a -= p;}\ninline void submod(int& a, int val, int p = MOD) {if ((a = (a - val)) < 0) a += p;}\ninline int mult(int a, int b, int p = MOD) {return (ll) a * b % p;}\ninline int inv(int a, int p = MOD) {return fpow(a, p - 2, p);}\ninline int sign(ld x) {return x < -EPS ? -1 : x > +EPS;}\ninline int sign(ld x, ld y) {return sign(x - y);}\n\nconst int maxn = 2e5 + 5;\nint n, k;\nstring s;\n\nvoid solve() {\n    cin >> n >> k >> s;\n    if (k > n + n) {\n        FOR(i, 0, n) {\n            s[n - i - 1] = 'A' + (i & 1);\n        }\n        cout << s << \"\\n\";\n        return;\n    }\n    queue<int> que;\n    FOR(i, 0, n) que.push(s[i] - 'A');\n    int dif = 0;\n    FOR(i, 0, k) {\n        if (!(que.front() ^ dif)) {\n            que.front() ^= 1;\n        }\n        else {\n            int x = que.front();\n            que.pop();\n            que.push(x);\n            dif ^= 1;\n        }\n    }\n    FOR(i, 0, n) {\n        cout << char('A' + (que.front() ^ 1));\n        que.pop();\n    }\n    cout << \"\\n\";\n}\n\nint main() {\n#ifdef _LOCAL_\n    freopen(\"in.txt\", \"r\", stdin); //freopen(\"out.txt\", \"w\", stdout);\n#else\n    ios_base::sync_with_stdio(0); cin.tie(0);\n#endif\n    solve();\n    cerr << \"\\nTime elapsed: \" << 1.0 * clock() / CLOCKS_PER_SEC << \"s\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//#define inf 0x3f3f3f3f3f3f3f3f\n#define inf 0x3f3f3f3f\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n#define inv(x) Power(x, mod - 2)\n#define fi first\n#define se second\n#define MP make_pair\n#define PB push_back\n#define N 200005\n\nusing namespace std;\ntypedef pair<int,int> Pair;\ntypedef long long ll;\n\nconst long double Pi = 3.14159265358979323846l;\nconst int mod = 1e9 + 7;\ninline int add(int x, int y) { return (x += y) - (x >= mod ? mod : 0); }\ninline void inc(int &x, int y) { (x += y) -= (x >= mod ? mod : 0); }\ninline int mul(int x, int y) { return 1ll * x * y % mod; }\ninline int Power(int x, int y) {\n\tint res = 1;\n\twhile (y) {\n\t\tif (y & 1) res = mul(res, x);\n\t\tx = mul(x, x), y >>= 1;\n\t} return res;\n}\n\ntemplate <class T> inline T\tinput() {\n\tT x; char ch; while (!isdigit(ch = getchar()));\n\tfor (x = ch ^ 48; isdigit(ch = getchar()); x = x * 10 + (ch ^ 48));\n\treturn x;\n}\n\ntemplate <class T> inline void chkmin(T &x, T &y) { x = x < y ? x : y; }\ntemplate <class T> inline void chkmax(T &x, T &y) { x = x > y ? x : y; }\n\nstruct {\n\tinline operator int () { return input<int>(); }\n\tinline operator long long () { return input<long long>(); }\n\ttemplate <class T> inline void operator () (T &x) { x = *this; }\n\ttemplate<class T, class ...A> inline void operator () (T &x, A &...a)\n\t{ x = *this; this -> operator ()(a...); }\n} read;\n\nint n, k, flag;\nint a[N], head;\nchar s[N];\n\nint NEXT(int x) { return x == n ? 1 : x + 1; }\n\nint main() {\n\tread(n, k);\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\thead = 1;\n\n\tfor (int i = 1; i <= k; ++i)\n\t\tif (!(a[head] ^ flag)) a[head] ^= 1;\n\t\telse head = NEXT(head), flag ^= 1;\n\n\tfor (int i = 1, pos = head; i <= n; ++i, pos = NEXT(pos))\n\t\tputchar(a[pos] ^ flag ? 'B' : 'A');\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// Template {{{\n#include <bits/stdc++.h>\n#define REP(i,n) for(int i=0; i<(int)(n); ++i)\nusing namespace std;\ntypedef long long LL;\n\n#ifdef LOCAL\n#include \"contest.h\"\n#else\n#define error(args...) \n#endif\n\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\ninline bool valid(int x, int w) { return 0 <= x && x < w; }\n\nvoid iostream_init() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout.setf(ios::fixed);\n    cout.precision(12);\n}\n//}}}\nstring slow(string s) {\n    int i = 0;\n    int d = 1;\n    LL count = 0;\n    while(i >= 0 && i < s.size()) {\n        count++;\n        if(s[i] == 'A') {\n            s[i] = 'B';\n            d *= -1;\n        } else {\n            s[i] = 'A';\n        }\n        i += d;\n    }\n    error(count);\n    return s;\n}\nstring solve(string s, int K) {\n    int N = s.size();\n    vector<int> state(N);\n    REP(i, N) state[i] = (s[i] == 'B' ? 1 : 0);\n    int i = 0;\n    int b = 0;\n    REP(_, K) {\n        if(state[i] ^ b) { // B\n            i = (i == N-1 ? 0 : i+1);\n            b ^= 1;\n        } else {\n            state[i] ^= 1;\n        }\n    }\n    string res;\n    for(int d = 0; d < N; d++) {\n        int idx = (i + d) % N;\n        res += (state[idx] ^ b ? \"B\" : \"A\");\n    }\n    return res;\n}\nint main(){\n    iostream_init();\n    int N, K;\n    cin >> N >> K;\n    string s;\n    cin >> s;\n    const int MAX_ITER = 1e8;\n    if(K > MAX_ITER) {\n        cout << ((K - MAX_ITER) % 2 == 0 ? solve(s, MAX_ITER) : solve(s, MAX_ITER-1)) << endl;\n    } else {\n        cout << solve(s, K) << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define MAXN (200010)\n\nint n, k, nowA;\nchar str[MAXN];\nstd::deque<int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, str);\n\tfor(int i = 0; i < n; ++ i){\n\t\tdq.push_back(str[i] - 'A');\n\t}\n\tfor(int i = 1; i <= (n << 1) && i <= k; ++ i){\n\t\tif(dq.front() == nowA){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(nowA ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tnowA ^= 1;\n\t\t\tdq.push_back(nowA);\n\t\t}\n\t}\n\tif(k > (n << 1) && (n & 1) && ((k - (n << 1)) & 1)){\n\t\tif(dq.front() == nowA){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(nowA ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tnowA ^= 1;\n\t\t\tdq.push_back(nowA);\n\t\t}\n\t}\n\tfor(int v : dq){\n\t    putchar(v == nowA ? 'A' : 'B');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\n#include<cassert>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tif (n == 1) {\n\t\tif ((k % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\telse { cout << 'B' << endl; }\n\t\treturn 0;\n\t}\n\tdeque<char> deq;\n\trep(i, n) {\n\t\tdeq.push_back(s[i]);\n\t}\n\tint loop = 0; bool trick = false;\n\twhile (loop <= 2*n + 10 && k > 0) {\n\t\tloop++; 'A';\n\t\tchar c = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tdeq.push_front('B'); k--; continue;\n\t\t}\n\t\tif (k == 1) {\n\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t}\n\t\tc = deq.front(); deq.pop_front();\n\t\tif (c == 'A') { k++; }\n\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\tk -= 3;\n\t\tdeq.push_back('B');\n\t\tdeq.push_back('A');\n\t}\n\tif (k <= 0) {\n\t\twhile (!deq.empty()) {\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t}\n\t\tcout << endl;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\trep(i, n) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tint x = k % 2;\n\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t\trep(i, n - 1) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\tcout << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring a;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> a;\n}\n\nuint64_t chsh;\nmap<uint64_t, int> pos;\n\nvoid preform()\n{\n\tint pos = 0, last = -1;\n\twhile(pos >= 0 && pos < n)\n\t{\n\t\ta[pos] = ((a[pos] - 'A') ^ 1) + 'A';\n\n\t\tif(a[pos] == 'B') swap(last, pos);\n\t\telse\n\t\t{\n\t\t\tint val = pos;\n\t\t\tpos += (pos - last);\n            last = val;\n\t\t}\n\t}\n}\n\nvoid solve()\n{\n\tint period = 1;\n    for(int i = 0; i < min(100, k); i++)\n\t{\n\t\tpreform();\n\n\t\tchsh = 0;\n\t\tfor(int j = 0; j < n; j++)\n\t\t\tchsh = chsh * 3 + a[j] - 'A' + 1;\n\n        if(pos.count(chsh))\n\t\t{\n\t\t\tk -= (i + 1);\n            period = (i - pos[chsh]);\n\t\t\tbreak;\n\t\t}\n\n        pos[chsh] = i;\n\n        if(i == 99) { cout << a << endl; return; }\n\t}\n\n\tk %= period;\n    for(int i = 0; i < k; i++)\n    \tpreform();\n\n\tcout << a << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nconst int N=200005;\n\nint n,K,num[N],fv[N];\nchar s[N];\nbitset<N> V;\n\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++){\n\t\tV[i]=s[i]=='A';\n\t\tnum[i]=num[i-1]+1;\n\t\tif(i&1)num[i]+=s[i]=='A';else num[i]+=s[i]=='B';\n\t}\n\tnum[n+1]=K+1;\n\tfor(int j=1;j<=n;j++)if(num[j]<=K&&num[j+1]>K){\n\t\tV>>=j;\n\t\tif(j&1)V=~V;\n\t\tfor(int p=n,x=1;p>n-j;p--,x^=1)V[p]=x;\n\t\tK-=num[j];\n\t}\n\tif(K){\n\t\tif(V[1]==1)V[1]=0;else V=~(V>>1),V[n]=1;\n\t\tK--;\n\t}\n\tif(K&&(n&1))if(K&1)V[1]=!V[1];\n\tfor(int i=1;i<=n;i++)if(V[i])putchar('A');else putchar('B');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int Maxn = 400015;\n\nint n, k;\nchar str[Maxn];\n\nint main()\n{\n    scanf(\"%d %d\", &n, &k);\n    scanf(\"%s\", str);\n    if (n == 1) {\n        if (k % 2) str[0] = str[0] == 'A'? 'B': 'A';\n        cout << str[0] << endl;\n        return 0;\n    }\n    for (int i = n - 2; i >= 0; i -= 2)\n        str[i] = str[i] == 'A'? 'B': 'A';\n    for (int i = n; i < Maxn; i++)\n        str[i] = 'A';\n    char sav = n % 2 == 0? 'B': 'A';\n    int pnt = 0;\n    while (pnt < n && k > 0) {\n        k--;\n        if (str[pnt] == sav) str[pnt] = str[pnt] == 'A'? 'B': 'A';\n        else pnt++;\n    }\n    if (pnt >= n && k % 2 > 0) pnt++;\n    for (int i = n - 2; i >= 0; i -= 2)\n        str[pnt + i] = str[pnt + i] == 'A'? 'B': 'A';\n    str[pnt + n] = '\\0';\n    printf(\"%s\\n\", str + pnt);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#define pb push_back\n#define fs first\n#define sc second\n#define all(x) (x).begin(), (x).end()\n#define sz(x) (int)(x).size()\nusing namespace std;\nusing namespace __gnu_pbds;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<double> vd;\ntypedef pair<int, int> pii;\ntypedef pair<ll, int> plli;\ntypedef vector<pii> vpii;\ntypedef tree<pii, null_type, less<pii>, rb_tree_tag,\n    tree_order_statistics_node_update> ost;\n\nconst int N=210000;\nchar s[N];\n\nint main() {\n    int i, n, k, dk, r;\n    char c;\n    scanf(\"%d%d%s\", &n, &k, s);\n    for(r=0; r<n; r++) {\n        dk=(r%2==1)^(s[r]=='A');\n        dk++;\n        if(k>=dk) k-=dk;\n        else break;\n    }\n    if(r==n) {\n        if(n%2==0) k=0;\n        else k%=2;\n    }\n    for(i=0; i<n; i++) {\n        if(i+r<n) {\n            c=s[i+r];\n            if(r%2) c='A'+'B'-c;\n        }\n        else {\n            if((n+i)%2) c='A';\n            else c='B';\n        }\n        s[i]=c;\n    }\n    if(k) s[0]='A'+'B'-s[0];\n    printf(\"%d %d\\n\", r, k);\n    printf(\"%s\\n\", s);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define rep(i,x,y) for(int i=(x);i<=(y);++i)\n#define per(i,x,y) for(int i=(x);i>=(y);--i)\nconst int N=4e5+10;\ninline bool vaild(char c){return c>='A'&&c<='B';}\ninline char gc(){char c=getchar();while(!vaild(c))c=getchar();return c;}\nint n,k,a[N],st=1,flag;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\trep(i,1,n)a[i]=gc()-'A';\n\tint i;\n\tfor(i=1;i<=k&&st<=n;++i){\n\t\tif((a[st]^flag)==0)a[st]^=1;\n\t\telse{\n\t\t\tflag^=1;\n\t\t\ta[n+st]=!a[n+st-1];++st;\n\t\t}\n\t}--i;\n\tflag^=(k-i)&1;\n\trep(i,st,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define f(i, x, n) for(int i = x; i < (int)(n); ++i)\n\nchar s[200002];\nint n, k;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tif (n == 1){\n\t\tif (k & 1) { if (s[0] == 'A')s[0] = 'B'; else s[0] = 'A'; }\n\t\tprintf(\"%s\\n\", s);\n\t\treturn 0;\n\t}\n\ts[n] = 'B';\n\tint i = 0;\n\tbool c = false;\n\twhile (k && i <= n){\n\t\tif (!c && s[i] - (i & 1) == 'A'){\n\t\t\tc = true;\n\t\t\t--k;\n\t\t\tcontinue;\n\t\t}\n\t\tc = false;\n\t\t--k;\n\t\t++i;\n\t}\n\tf(j, 0, n){\n\t\tint z = j + i;\n\t\tif (z > n){\n\t\t\tif (n - j & 1)s[j] = 'A';\n\t\t\telse s[j] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\tif (i & 1) { if (s[z] == 'A')s[j] = 'B'; else s[j] = 'A'; }\n\t\telse s[j] = s[z];\n\t}\n\tif (c)s[0] = 'B';\n\tif (k & 1) { if (s[0] == 'A')s[0] = 'B'; else s[0] = 'A'; }\n\ts[n] = 0;\n\tprintf(\"%s\\n\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 2e5 + 5;\nchar s[N];\nint main() {\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s);\n\tint p = 0, f = 0;\n\tint fast1 = -1, fast2 = -1, fast3 = -1;\n\tbool flag = 0, debug = 0;\n\tfor (int i = 0; i < k; ++ i) {\n\t\tbool c = (s[p] == 'A') ^ f;\n\t\tif (c) {\n\t\t\ts[p] = s[p] == 'A' ? 'B' : 'A';\n\t\t}\n\t\telse {\n\t\t\tf ^= 1;\n\t\t\t(++ p) %= n;\n\t\t}\n\t\tif (!debug) {\n\t\tif (fast1 == -1 && !c && i >= 5 * n) {\n\t\t\tfast1 = f;\n\t\t\tfast2 = i;\n\t\t\tfast3 = p;\n\t\t}\n\t\telse if (fast1 != -1 && !c && fast3 == p) {\n\t\t\tif (flag) continue;\n\t\t\tflag = 1;\n\t\t\tint change = f ^ fast1, need = i - fast2;\n\t\t\twhile ((k - i) > need) {\n\t\t\t\tk -= need;\n\t\t\t\tf ^= change;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++ i) {\n\t\tbool c = (s[(i + p) % n] == 'A') ^ f;\n\t\tputchar(c ? 'A' : 'B');\n\t}\n\tputs(\"\");\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[444444];\nint D[444444];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tfor(i=0;i<n;i++){\n\t\tif((s[i]-'A'+i)%2==0) D[i] = 2;\n\t\telse D[i] = 1;\n\t\tc += D[i];\n\t}\n\tfor(i=n;i<n+n;i++){\n\t\ts[i] = ((i-n)%2==1?'A':'B');\n\t}\n\n\tif(k>c){\n\t\tfor(i=0;i<n;i++){\n\t\t\tprintf(\"%c\",(n-i)%2==1?'A':'B');\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tfor(i=c=0;i<n;i++){\n\t\tif(c+D[i]>=k) break;\n\t\tc += D[i];\n\t}\n\n\tif(D[i] == 1){\n\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t}\n\telse{\n\t\tif(c+1 == k){\n\t\t\tprintf(\"%c\",(s[i]-'A'+i)%2==1?'A':'B');\n\t\t\tfor(j=i+1;j<n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==0?'A':'B');\n\t\t}\n\t\telse{\n\t\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\ntypedef long long ll;\nconst int MAXN=2e5+5;\n\nint n,k,st;\nchar s[MAXN];\nint num[MAXN];\n\nint main(){\n    scanf(\"%d%d%s\",&n,&k,s+1);\n    for(int i=1;i<=n;i++)\n        num[i]=s[i]-'A';\n    st=num[1];\n    int p=1,cnt=0;\n    while(k--){\n        if(st==0){\n            st^=1;\n            num[p]^=1;\n        }\n        else{\n            cnt++;\n            st=num[++p];\n            st^=(cnt&1);\n        }\n        if(p>n) break;\n    }\n    if(p<=n){\n        for(int i=p;i<=n;i++)\n            putchar('A'+(num[i]^(cnt&1)));\n        int t=p-1,c=(cnt-1)&1;\n        while(t--){\n            putchar('A'+c);\n            c^=1;\n        }\n    }\n    else{\n        if((cnt-1)&1)\n            for(int i=1;i<=n;i++)\n                putchar('A'+(i&1));\n        else{\n            putchar('A'+(k&1));\n            for(int i=1;i<n;i++)\n                putchar('A'+(i&1));\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n \n#define fi first\n#define se second\n \ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n \nconst int kN = 2e5 + 5;\n \nchar s[kN]; int a[kN];\n \nint main() {\n\tint n, k, km; rd(n, k); km = k; k = std::min(k, 2 * n);\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1; i <= k; ++i, --km) {\n\t\tif(a[st] == inv) a[st] ^= 1;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tif(n % 2 == 0) {\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t} else {\n\t\tprintf(\"%c\", (a[st] ^ inv ^ (km & 1)) + 'A');\n\t\tfor(int i = 2; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[444444];\nint D[444444];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tif(n==1){\n\t\tprintf(\"%c\\n\",(s[0]-'A'+k)%2==0?'A':'B');\n\t\treturn 0;\n\t}\n\n\tfor(i=0;i<n;i++){\n\t\tif((s[i]-'A'+i)%2==0) D[i] = 2;\n\t\telse D[i] = 1;\n\t\tc += D[i];\n\t}\n\tfor(i=n;i<n+n;i++){\n\t\ts[i] = ((i-n)%2==1?'A':'B');\n\t}\n\n\tif(k>c){\n\t\tfor(i=0;i<n;i++){\n\t\t\tprintf(\"%c\",(n-i)%2==1?'A':'B');\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tfor(i=c=0;i<n;i++){\n\t\tif(c+D[i]>=k) break;\n\t\tc += D[i];\n\t}\n\n\tif(D[i] == 1){\n\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t}\n\telse{\n\t\tif(c+1 == k){\n\t\t\tprintf(\"%c\",(s[i]-'A'+i)%2==1?'A':'B');\n\t\t\tfor(j=i+1;j<n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==0?'A':'B');\n\t\t}\n\t\telse{\n\t\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nbool rev = false;\n\nvoid move(vc &s) {\n\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\ts[0] = (rev ? 'A' : 'B');\n\t\treturn;\n\t}\n\trev = !rev;\n\ts.erase(s.begin());\n\ts.push_back(rev ? 'B' : 'A');\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == (rev ? 'B' : 'A')) {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (rev) {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", (s[i] == 'A' ? 'B' : 'A'));\n\t\t}\n\t}\n\telse {\n\t\trep(i, N) {\n\t\t\tprintf(\"%c\", s[i]);\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\t//printf(\"%s\\n\", string(s.begin(), s.end()).c_str());\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tif (k > 3 * n)\n\t{\n\t\ts[0] = 'A';\n\n\t\tfor (int i = 1; i < n; i++)\n\t\t\ts[i] = (s[i-1] == 'A' ? 'B' : 'A');\n\n\t\tif (n & 1 && k & 1) s[0] = 'B';\n\t\tcout << s;\n\t}\n\telse\n\t{\n\t\tfor (int i = 0; i < k; i++)\n\t\t{\n\n\t\t\tif (!(a[0] ^ rev)) \n\t\t\t{\n\t\t\t\ta[0] = !rev;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ta.pop_front ();\n\t\t\trev ^= 1;\n\t\t\ta.push_back (rev);\n\t\t}\n\n\t\tfor (int j = 0; j < n; j++)\n\t\t\tif (rev ^ a[j]) putchar ('B');\n\t\t\telse putchar ('A');\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N=200005;\nint read(){\n\tint x=0;\n\tchar ch=getchar();\n\twhile (!isdigit(ch))\n\t\tch=getchar();\n\twhile (isdigit(ch))\n\t\tx=(x<<1)+(x<<3)+(ch^48),ch=getchar();\n\treturn x;\n}\nint n,k,a[N];\nchar s[N];\nint main(){\n\tn=read(),k=read();\n\tscanf(\"%s\",s+1);\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=s[i]-'A';\n\tint t=0,h=1;\n\twhile (k--){\n\t\tif (!(a[h]^t)){\n\t\t\ta[h]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!((a[h+1]^t)&1))\n\t\t\ta[h]^=1;\n\t\tt^=1;\n\t\th++;\n\t\tif (h==n)\n\t\t\tbreak;\n\t}\n\tif (k>0&&(n&1))\n\t\ta[h]^=k&1;\n\telse if (k>0)\n\t\th++;\n\tfor (int i=h;i<=n;i++)\n\t\tputchar('A'+(a[i]^t));\n\tfor (int i=n-h+2;i<=n;i++)\n\t\tputchar('A'+((n-i)&1));\n\treturn 0;\n}\n\n/*\nconst int N=100005;\nint n,k;\nchar s[N],s2[N]=\"           \";\nint t=0;\nvoid print(){\n\tprintf(\"%s\",s+1);\n}\nint main(){\n\tcin >> n;\n\tfor (int i=1;i<=n;i++)\n\t\ts[i]='A';\n\ts[n+1]='\\0';\n\tint cnt=0;\n\twhile (1){\n\t\tgetchar();\n\t\tint p=1,add=1;\n\t\ts2[p]=add>0?'R':'L';\n\t\twhile (1<=p&&p<=n){\n\t\t\tif (s[p]=='A')\n\t\t\t\tadd=-add;\n\t\t\ts[p]='A'+((s[p]-'A')^1);\n\t\t\ts2[p]=' ';\n\t\t\tp+=add;\n\t\t\ts2[p]=add>0?'R':'L';\n\t\t}\n\t\ts2[p]=' ';\n\t\tcnt++;\n\t\tprintf(\"%3d: \",cnt);print();\n\t}\n\treturn 0;\n}*/\n/*\n  0: ABBAAABBBBAAAAABBBBBBAAAA\t\t\t\t\t\t\n  1: BBBAAABBBBAAAAABBBBBBAAAA\t\t\t\t\t\t!\n  2:  AABBBAAAABBBBBAAAAAABBBBA\t\t\t\t\t\t\n  3:  BABBBAAAABBBBBAAAAAABBBBA\t\t\t\t\t\t\n  4:   BAAABBBBAAAAABBBBBBAAAABA\t\t\t\t\t\t\n  5:    BBBAAAABBBBBAAAAAABBBBABA\t\t\t\t\t!\n  7:     BABBBBAAAAABBBBBBAAAABABA\t\t\t\t\t\n  8:      BAAAABBBBBAAAAAABBBBABABA\t\t\t\t\t\n  9: \t   BBBBAAAAABBBBBBAAAABABABA\t\t\t\t\t!\n 11: \t    BAABBBBBAAAAAABBBBABABABA\t\n 12: \t     BBAAAAABBBBBBAAAABABABABA\t\t\t\t!\n 14: \t      BBBBBBAAAAAABBBBABABABABA\t\t\t\t!\n 16: \t\t   BAAAABBBBBBAAAABABABABABA\t\t\n 17: \t\t\tBBBBAAAAAABBBBABABABABABA\t\t\t!\n 19: \t\t\t BAABBBBBBAAAABABABABABABA\t\t\t\n 20: \t\t\t  BBAAAAAABBBBABABABABABABA\t\t\t!\n 22: \t\t\t   BBBBBBBAAAABABABABABABABA\t\t\t!\n 24: \t\t\t\tBAAAAABBBBABABABABABABABA\n 25: \t\t\t\t BBBBBAAAABABABABABABABABA\t\t!\n 27: \t\t\t\t  BAAABBBBABABABABABABABABA\n 28: \t\t\t\t   BBBAAAABABABABABABABABABA\n 30: \t\t\t\t\tBABBBBABABABABABABABABABA\n 31: \t\t\t\t\t BAAAABABABABABABABABABABA\n 32: \t\t\t\t\t  BBBBABABABABABABABABABABA\n 34: \t\t\t\t\t   BAABABABABABABABABABABABA\n 35: \t\t\t\t\t    BBABABABABABABABABABABABA\n2 6 10 13 15 18 21 23 26 29 33 \n*/"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nint N, K;\nstring s;\nint a[200005], a2[200005];\n\nint sgn(int n)\n{\n\tif(n % 2) return -1;\n\telse return 1;\n}\n\nint main(void)\n{\n\tcin >> N >> K;\n\tcin >> s;\n\t\n\tif(s.size() == 1){\n\t\tif(s[0] == 'B') K++;\n\t\tif(K%2) cout << \"B\" << endl;\n\t\telse cout << \"A\" << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(s[i] == 'A') a[i] = 1;\n\t\telse a[i] = -1;\n\t\ta2[i] = a[i];\n\t}\n\t\n\tint cnt = 0, pos = 0;\n\twhile(K){\n\t\tif(a2[pos] * sgn(cnt) == 1) a2[pos] *= -1;\n\t\telse{\n\t\t\tpos++;\n\t\t\tcnt++;\n\t\t}\n\t\tK--;\n\t\tif(pos >= s.size() - 1) break;\n\t}\n\t\n\tcout << pos << \" \" << cnt << endl;\n\t\n\tstring ans;\n\tif(K <= 0){\n\t\tstring tmp;\n\t\tfor(int i = 0; i < pos+1; i++){\n\t\t\tif(i%2) tmp += 'B';\n\t\t\telse tmp += 'A';\n\t\t}\n\t\tif(s[s.size()-1] == 'B'){\n\t\t\tif(tmp[pos] == 'A') tmp[pos] = 'B';\n\t\t\telse tmp[pos] = 'A';\n\t\t}\n\t\treverse(tmp.begin(), tmp.end());\n\t\tfor(int i = pos; i < s.size()-1; i++){\n\t\t\tif(a2[i] * sgn(cnt) == 1) ans += 'A';\n\t\t\telse ans += 'B';\n\t\t}\n\t\tans += tmp;\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\t\n\tfor(int i = 0; i < s.size(); i++){\n\t\tif(i%2) ans += 'B';\n\t\telse ans += 'A';\n\t}\n\treverse(ans.begin(), ans.end());\n\tif(s.size() % 2){\n\t\tif(s[s.size()-1] == 'B' && K%2 == 0) ans[0] = 'B';\n\t\tif(s[s.size()-1] == 'A' && K%2) ans[0] = 'A';\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for (int i=(a); i<=(b); i++)\n#define per(i,a,b) for (int i=(a); i>=(b); i--)\nusing namespace std;\n\nconst int maxn = 200005;\nint a[maxn], n, K, p, det;\nchar s[maxn];\n\nint main() {\n\tscanf(\"%d%d\", &n, &K);\n\tscanf(\"%s\", s + 1);\n\trep (i, 1, n) a[i] = (s[i] == 'A');\n\tp = 1;\n\twhile (K && p <= n) {\n\t\tif ((a[p] ^ det) == 1) a[p] ^= 1;\n\t\telse det ^= 1, p++;\n\t\tK--;\n\t}\n\tif (!K) {\n\t\trep (i, p, n)\n\t\t\tif (a[i] ^ det) putchar('A');\n\t\t\telse putchar('B');\n\t\trep (i, 1, p - 1)\n\t\t\tif (a[i] ^ det) putchar('A');\n\t\t\telse putchar('B');\n\t\treturn 0;\n\t}\n\trep (i, 1, n)\n\t\tif ((i & 1) ^ (n & 1)) putchar('B');\n\t\telse putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <ctime>\n#include <cstdlib>\n#include <cmath>\n#include <iostream>\n#include <string>\n#include <queue>\n#include <map>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <deque>\n#include <utility>\n#include <chrono>\n#include <sstream>\n#include <iomanip>\n#define INF 1 << 30\n#define MOD 1000000007;\n#define pi 3.14159265358979\n#define rep(i, n) for (int (i) = 0; (i) < (int)(n); (i)++)\n#define rer(i, l, r) for (int (i) = (int)(l); (i) <= (int)(r); (i)++)\n#define reu(i, l, r) for (int (i) = (int)(l); (i) < (int)(r); (i)++)\n#define D(x) cout << x << endl\n#define d(x) cout << x\n#define all(x) (x).begin(), (x).end()\n#define pub(x) push_back(x)\n#define pob() pop_back()\n#define puf(x) push_front(x)\n#define pof() pop_front()\n#define mp(x, y) make_pair((x), (y))\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<double> vd;\ntypedef vector<long long> vll;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<long, long> pll;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if (y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if (x < y) x = y; }\nstatic const int dx[] = {0, 0, 1, -1};\nstatic const int dy[] = {-1, 1, 0, 0};\n\nint main() { \n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  int rev = 0;\n\n  if (k > 2 * n) {\n    k = 2 * n + (k % 2);\n  }\n\n  deque<int> dq;\n  for (int i = 0; i < n; i++) {\n    dq.pub(s[i] == 'A');\n  }\n\n  for (int i = 0; i < k; i++) {\n    if (dq.front() ^ rev) {\n      dq.pof();\n      dq.puf(rev);\n    } else {\n      rev ^= 1;\n      dq.pof();\n      dq.pub(1 ^ rev);\n    }\n  }\n\n  for (int i = 0; i < n; i++) {\n    d(((rev ^ dq.front()) ? 'A' : 'B'));\n    dq.pof();\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cmath>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<iomanip>\n#define _USE_MATH_DEFINES\n#include <math.h>\n#include <functional>\n#include<complex>\nusing namespace std;\n\n#define rep(i,x) for(ll i=0;i<x;i++)\n#define repn(i,x) for(ll i=1;i<=x;i++)\n\ntypedef long long ll;\nconst ll INF = 1e17;\nconst ll MOD = 1000000007;\nconst ll MAX = 4000001;\nconst double eps = 1E-18;\n\nll max(ll a, ll b) {\n\tif (a > b) { return a; }\n\treturn b;\n}\n\nll min(ll a, ll b) {\n\tif (a > b) { return b; }\n\treturn a;\n}\n\nll gcd(ll a, ll b) {\n\tif (b == 0) { return a; }\n\tif (a < b) { return gcd(b, a); }\n\treturn gcd(b, a % b);\n}\n\nll lcm(ll a, ll b) {\n\treturn a / gcd(a, b) * b;\n}\n\nstruct edge {\n\tll ind;\n\tll fr;\n\tll to;\n\tll d;\n};\n\nclass mint {\n\tlong long x;\npublic:\n\tmint(long long x = 0) : x((x% MOD + MOD) % MOD) {}\n\tmint operator-() const {\n\t\treturn mint(-x);\n\t}\n\tmint& operator+=(const mint& a) {\n\t\tif ((x += a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator-=(const mint& a) {\n\t\tif ((x += MOD - a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator*=(const  mint& a) {\n\t\t(x *= a.x) %= MOD;\n\t\treturn *this;\n\t}\n\tmint operator+(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res += a;\n\t}\n\tmint operator-(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res -= a;\n\t}\n\tmint operator*(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res *= a;\n\t}\n\n\tmint pow(ll t) const {\n\t\tif (!t) return 1;\n\t\tmint a = pow(t >> 1);\n\t\ta *= a;\n\t\tif (t & 1) a *= *this;\n\t\treturn a;\n\t}\n\n\t// for prime MOD\n\tmint inv() const {\n\t\treturn pow(MOD - 2);\n\t}\n\tmint& operator/=(const mint& a) {\n\t\treturn (*this) *= a.inv();\n\t}\n\tmint operator/(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res /= a;\n\t}\n\n\tfriend ostream& operator<<(ostream& os, const mint& m) {\n\t\tos << m.x;\n\t\treturn os;\n\t}\n};\n\nmint pw(mint a, ll b) {\n\tif (b == 0) { return 1; }\n\tmint ret = pw(a, b >> 1);\n\tret *= ret;\n\tif (b & 1) { ret *= a; }\n\treturn ret;\n}\n\ntypedef vector<ll> vll;\ntypedef vector<vector<ll>> vvll;\ntypedef vector<vector<vector<ll>>> vvvll;\n\ntypedef vector<mint> vmint;\ntypedef vector<vector<mint>> vvmint;\ntypedef vector<vector<vector<mint>>> vvvmint;\n\n//////////////////////////////////////\n\n\nint main() {\n\tll N, K;\n\tcin >> N >> K;\n\n\tstring S;\n\tcin >> S;\n\n\tll c = 0;//見ている位置\n\trep(i, K) {\n\t\tif (c % 2 == 0) {\n\t\t\tif (S[c%N] == 'A') { S[c%N] = 'B'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\telse {\n\t\t\tif (S[c%N] == 'B') { S[c%N] = 'A'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\tif (c > N && (K - i - 1) % 2 == 0) { break; }\n\t}\n\n\n\trep(i, N) {\n\t\tchar t = S[(c + i) % N];\n\t\tif(c%2==1) {\n\t\t\tif (t == 'A') { t = 'B'; }\n\t\t\telse { t = 'A'; }\n\t\t}\n\t\tcout << t;\n\t}\n\n\tcout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <stdio.h>\n#include <set>\n#include <vector>\n#include <map>\n#include <cmath>\n#include <algorithm>\n#include <memory.h>\n#include <string>\n#include <sstream>\n#include <cstdlib>\n#include <ctime>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int,int> PII;\n\n#define MP make_pair\n#define PB push_back\n#define FF first\n#define SS second\n\n#define FORN(i, n) for (int i = 0; i <  (int)(n); i++)\n#define FOR1(i, n) for (int i = 1; i <= (int)(n); i++)\n#define FORD(i, n) for (int i = (int)(n) - 1; i >= 0; i--)\n\n#define DEBUG(X) { cout << #X << \" = \" << (X) << endl; }\n#define PR0(A,n) { cout << #A << \" = \"; FORN(_,n) cout << A[_] << ' '; cout << endl; }\n\n#define MOD 1000000007\n#define INF 2000000000\n\nint GLL(LL& x) {\n    return scanf(\"%lld\", &x);\n}\n\nint GI(int& x) {\n    return scanf(\"%d\", &x);\n}\n\nvoid step(std::string& s) {\n    int n = s.size();\n\n    if (s[0] == 'A') {\n        s[0] = 'B';\n        return;\n    }\n    else {\n        s[0] = 'A';\n    }\n\n    int pos = 1; int dir = 1;\n\n    while (pos != 0 && pos != n) {\n        if (dir == 1) {\n            if (s[pos] == 'A') {\n                s[pos] = 'B';\n                dir = -1;\n            }\n            else {\n                s[pos] = 'A';\n                pos++;\n            }\n        }\n        else {\n            if (s[pos-1] == 'A') {\n                s[pos-1] = 'B';\n                dir = 1;\n            }\n            else {\n                s[pos] = 'A';\n                pos--;\n            }\n        }\n    }\n}\n\nchar flip(char c) {\n    if (c == 'A') return 'B';\n    else return 'A';\n}\n\nint n, k;\n\nstring s, res, suffix;\n\nint main() {\n    cin >> n >> k >> s;\n\n    int i = 0; bool flipped = false;\n\n    while (i < n-1 && k > 0) {\n        if ((s[i] == 'A' && !flipped) || (s[i] == 'B' && flipped)) {\n            s[i] = flip(s[i]);\n        }\n        else {\n            i++;\n            flipped = !flipped;\n\n            if (suffix.size() == 0) {\n                suffix = 'A';\n            }\n            else {\n                suffix += flip(suffix[suffix.size()-1]);\n            }\n        }\n        k--;\n    }\n\n    bool flipFirst = (k % 2 && n % 2);\n    bool bFirst = (k > 0 && n % 2 == 0);\n\n    for (int j = i; j < n; j++) {\n        res += (flipped ? flip(s[j]) : s[j]);\n    }\n\n    reverse(suffix.begin(), suffix.end());\n    res += suffix;\n\n    if (flipFirst) {\n        res[0] = flip(res[0]);\n    }\n    if (bFirst) {\n        res[0] = 'B';\n    }\n\n    cout << res << \"\\n\";\n\n    /*\n    cin >> s;\n\n    FORN(i, 20) {\n        cout << s << endl;\n        step(s);\n    }\n    */\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <string>\nusing namespace std;\n#define LL long long\n#define mp make_pair\n#define fr first\n#define sc second\n#define pb push_back\n#define lc (x<<1)\n#define rc ((x<<1)|1)\nconst int N=200005;\nchar s[N];\nint a[N];\nchar cal(int x,int k){\n    x^=k%2;return x?'A':'B';\n}\nint main(){\n  //  freopen(\"in.txt\",\"r\",stdin);freopen(\"out.txt\",\"w\",stdout);\n    int i,n,k;\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (i=1;i<=n;i++) if (s[i]=='A') a[i]=1; else a[i]=0;\n    int K=k;\n    for (i=1;i<=n;i++) {if (a[i]^((i-1)%2)) k-=2; else k--;if (k<=0) break;}\n    if (i<n||i==n&&k==-1){\n        int tp,j;\n        if (k==-1) {tp=1;printf(\"B\");} else tp=0;\n        for (j=i+1;j<=n;j++) if (a[j]^((i-tp)%2)) printf(\"A\"); else printf(\"B\");\n        tp+=n-i;\n        for (j=tp+1;j<=n;j++) if (j%2==n%2) printf(\"A\"); else printf(\"B\");\n        puts(\"\");return 0;\n    } \n    if (n%2==0){\n        for (i=1;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n        puts(\"\");return 0;\n    }\n    if (k%2==0) {if (i%2==1) printf(\"B\"); else printf(\"A\");}\n     else {if (i%2==0) printf(\"B\"); else printf(\"A\");}\n    for (i=2;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n    puts(\"\");\n    \n  //  system(\"pause\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst int MAXN = 4 * 100 * 1000 + 1234;\nint n, k;\nstring s;\n\nchar rev(char c) {\n\treturn (c == 'A')? 'B': 'A';\n}\nstring gen(int c) {\n\tstring ss;\n\tif (c % 2 == 0)\n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += s[i + c];\n\telse \n\t\tfor (int i = 0; i <= n; i++)\n\t\t\tss += rev(s[i + c]);\n\treturn ss;\n}\n\nstring prv(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\treturn s;\n}\n\nvoid out(string s) {\n\tif (s == \"\")\n\t\treturn ;\n\tfor (int i = 0; i < n; i++)\n\t\tputchar(s[i]);\n\texit(0);\n}\n\nsigned main() {\n\tcin >> n >> k;\n\tcin >> s;\n\tint ans[MAXN];\n\tchar ch[2] = {'B', 'A'};\n\tfor (int i = 0; i <= 2 * n + 100; i++)\n\t\ts += ch[i % 2];\n\tans[0] = (s[0] == ch[1]);\n\tfor (int i = 1; i <= n + 10; i++) {\n\t\tans[i] = ans[i - 1] + 1;\n//\t\tcerr << ans[i] << ' ' << s[i] << ' ' << ch[i & 1] << endl;\n\t\tans[i] += s[i] == ch[i % 2 ^ 1];\n\t}\n//\tfor (int i = 0; i <= n; i++)\n//\t\tcerr << i << ' ' << ans[i] << endl;\n\tfor (int i = 0; i <= n + 10; i++) {\n//\t\tcerr << i << ' ' << gen(i) << endl;\n\t\tif (k == ans[i]) \n\t\t\tout(prv(gen(i)));\n\t\telse if (k == ans[i] - 1)\n\t\t\tout(gen(i));\n\t}\n\tcerr << \"yoho \" << ans[n + 1] << endl;\n\tk -= ans[n + 1] - 1;\n\tk %= 2;\n\tif (k == 0 || n % 2 == 0)\n\t\tout(gen(n));\n\telse\n\t\tout(prv(gen(n)));\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define LL long long\n#define FOE(i, s, t) for (int i = s; i <= t; i++)\n\nint n, k;\n\n#define K 12000001\n\nchar s[K];\n\nchar f(int a, char b){\n        if (a){\n                if (b == 'A') return 'B';\n                return 'A';\n        }\n        return b;\n}\n\nint main(){\n        scanf(\"%d%d\", &n, &k);\n        scanf(\"%s\", s);\n\n        int ptr = 0, tog = 0;\n        int las = n;\n\n        FOE(i, 1, min(k, 11000000)){\n                int tru = (s[ptr] == 'A'? 0: 1);\n                if (tog) tru ^= 1;\n\n                if (tru == 0){\n                        s[ptr] = (s[ptr] == 'A'? 'B': 'A');\n                } else {\n                        s[las] = (tog? 'A': 'B');\n                        las++;\n                        ptr++;\n                        tog ^= 1;\n                }\n        }\n\n        int left = max(0, k - 5000000);\n\n        /*FOE(i, 1, k){int cur = 0, dir = 1;\n        while (cur >= 0 && cur < n){\n                if (s[cur] == 'A') dir *= -1, s[cur] = 'B';\n                else s[cur] = 'A';\n                cur = cur + dir;\n        }}\n*/\n\n        FOE(i, 1, n) printf(\"%c\", f(tog, s[ptr + i - 1]));\n        puts(\"\");\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <deque>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n \n#define FOR(i,k,n) for (int (i)=(k); (i)<(n); ++(i))\n#define rep(i,n) FOR(i,0,n)\n#define all(v) begin(v), end(v)\n#define debug(x) cerr<< #x <<\": \"<<x<<endl\n#define debug2(x,y) cerr<< #x <<\": \"<< x <<\", \"<< #y <<\": \"<< y <<endl\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vector<ll> > vvll;\ntypedef deque<bool> db;\ntemplate<class T> using vv=vector<vector< T > >;\n\nint n, k;\nchar sum = 'A' + 'B';\nstring s;\nstring f;\nint cnt;\nint tail;\n\nvoid manipulate() {\n  if (s[0] == 'A') {\n    s[0] = 'B';\n    return;\n  }\n  char current = 'B';\n  rep (i, n-1) {\n    if (i == n - tail) {\n      break;\n    }\n    if (current == 'B') {\n      if (s[i+1] == 'B') {\n        s[i] = 'A';\n        continue;\n      } else {\n        current = 'A';\n        continue;\n      }\n    }\n    // current == 'A'\n    if (s[i+1] == 'A') {\n      s[i] = 'B';\n    } else {\n      current = 'B';\n    }\n  }\n  s[n-1] = 'A';\n  for (int i = tail + 1; i <= n; ++i) {\n    if (s[n - i] != ('A' + (i+1)%2)) {\n      break;\n    }\n    tail = i;\n  }\n}\n\nint main() {\n  cin >> n >> k;\n  cin >> s;\n\n  if (n % 2 == 1) {\n    f = \"B\";\n  } else {\n    f = \"\";\n  }\n  rep (i, n/2) {\n    f += \"BA\";\n  }\n\n  cnt = 0;\n\n  while (tail < n/2*2) {\n    manipulate();\n    cnt += 1;\n    if (cnt == k) {\n      cout << s << \"\\n\";\n      return 0;\n    }\n  }\n  if (n % 2 == 0) {\n    cout << s << \"\\n\";\n    return 0;\n  }\n  if ((k - cnt) % 2 == 0) {\n    cout << s << \"\\n\";\n    return 0;\n  }\n  manipulate();\n  cout << s << \"\\n\";\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint N, K;\nbool S[200000];\nint T; bool F; int H;\n\nvoid output() {\n  for(int i = 0; i < N; ++i) {\n    cout << (S[(H + i) % N] != F ? 'A' : 'B');\n  }\n  cout << endl;\n}\nint main() {\n  cin >> N >> K;\n  for(int i = 0; i < N; ++i) {\n    char c; cin >> c; S[i] = c == 'A';\n  }\n  while(H != N) {\n    if(S[H] != F) {\n      S[H] = !S[H];\n    } else {\n      ++H; F = !F;\n    }\n    ++T;\n    if(T == K) {\n      output(); return 0;\n    }\n  }\n  H = 0;\n  if(N % 2 == 1 && (K - T) % 2 == 1) {\n    S[H] = !S[H];\n  }\n  output();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define N 200006\n#define mo 1000000009\nusing namespace std;\nbool f[30*N];char c[N];\nint n,m,cs,nowl,nowr,sum,s[30*N],t[30*N],p[N];\ninline int read()\n{\n\tint x=0,c=getchar();while(c<48)c=getchar();\n\twhile(c>47)x=x*10+c-48,c=getchar();return x;\n}\nvoid down(int i,int l,int r)\n{\n\tif(f[i]){\n\t\tf[i]=0;swap(s[i],t[i]);\n\t\tif(l!=r)f[i<<1]^=1,f[i<<1|1]^=1;\n\t}\n}\nvoid change(int i,int l,int r,int x,int y)\n{\n\tdown(i,l,r);if(l==r){s[i]=y;t[i]=s[i]^1;return;}\n\tint mid=(l+r)>>1;\n\tif(x<=mid)change(i<<1,l,mid,x,y);\n\telse change(i<<1|1,mid+1,r,x,y);\n\tdown(i<<1,l,mid);down(i<<1|1,mid+1,r);\n\ts[i]=(1LL*s[i<<1]*p[r-mid]+1LL*s[i<<1|1])%mo;\n\tt[i]=(1LL*t[i<<1]*p[r-mid]+1LL*t[i<<1|1])%mo;\n}\nint query(int i,int l,int r,int x,int y)\n{\n\tdown(i,l,r);if(x<=l&&r<=y)return s[i];\n\tint mid=(l+r)>>1;\n\tif(y<=mid)return query(i<<1,l,mid,x,y);\n\tif(x>mid)return query(i<<1|1,mid+1,r,x,y);\n\tint a=query(i<<1,l,mid,x,y),b=query(i<<1|1,mid+1,r,x,y);\n\treturn (1LL*a*p[min(y,r)-mid]+1LL*b)%mo;\n}\nvoid rev(int i,int l,int r,int x,int y)\n{\n\tdown(i,l,r);if(x<=l&&r<=y){f[i]^=1;return;}\n\tint mid=(l+r)>>1;\n\tif(x<=mid)rev(i<<1,l,mid,x,y);\n\tif(y>mid)rev(i<<1|1,mid+1,r,x,y);\n\tdown(i<<1,l,mid);down(i<<1|1,mid+1,r);\n\ts[i]=(1LL*s[i<<1]*p[r-mid]+1LL*s[i<<1|1])%mo;\n\tt[i]=(1LL*t[i<<1]*p[r-mid]+1LL*t[i<<1|1])%mo;\n}\nint main()\n{\n\tn=read();m=read();scanf(\"%s\",c+1);\n\tnowl=1;nowr=n;p[0]=1;\n\tfor(int i=1;i<=n;i++)change(1,1,3*n,i,c[i]-65);\n\tfor(int i=1;i<=n;i++)p[i]=p[i-1]*2%mo;\n\tif(n&1){\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(i&1)sum=sum*2%mo;else sum=(sum*2+1)%mo;\n\t\twhile(1){\n\t\t\tif(query(1,1,3*n,nowl,nowr)==sum)break;\n\t\t\tif(query(1,1,3*n,nowl,nowl)==0)change(1,1,3*n,nowl,1);\n\t\t\telse{\n\t\t\t\tnowl++;nowr++;\n\t\t\t\trev(1,1,3*n,nowl,nowr-1);change(1,1,3*n,nowr,0);\n\t\t\t}\n\t\t\tcs++;if(cs==m){for(int i=nowl;i<=nowr;i++)putchar(query(1,1,3*n,i,i)+65);return 0;}\n\t\t}\n\t\tif((m-cs)&1)putchar('B');else putchar('A');\n\t\tfor(int i=2;i<=n;i++)if(i&1)putchar('A');else putchar('B');\n\t}else{\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(i&1)sum=(sum*2+1)%mo;else sum=sum*2%mo;\n\t\twhile(1){\n\t\t\tif(query(1,1,3*n,nowl,nowr)==sum)break;\n\t\t\tif(query(1,1,3*n,nowl,nowl)==0)change(1,1,3*n,nowl,1);\n\t\t\telse{\n\t\t\t\tnowl++;nowr++;\n\t\t\t\trev(1,1,3*n,nowl,nowr-1);change(1,1,3*n,nowr,0);\n\t\t\t}\n\t\t\tcs++;if(cs==m){for(int i=nowl;i<=nowr;i++)putchar(query(1,1,3*n,i,i)+65);return 0;}\n\t\t}\n\t\tfor(int i=1;i<=n;i++)if(i&1)putchar('B');else putchar('A');\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define N 2000009\nusing namespace std;\n\nint n,m,a[N]; char s[N];\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tint i;\n\tfor (i=1; i<=n; i++) a[i]=(s[i]=='A');\n\tint l=1,r=n,tg=0; i=0;\n\twhile (m--){\n\t\tif (a[l]^tg) a[l]^=1; else{\n\t\t\tl++; r++;\n\t\t\ta[r]=tg; tg^=1;\n\t\t}\n\t\tif (l>(n<<1) && !(m&1)) break;\n\t}\n\tfor (i=l; i<=r; i++)\n\t\tprintf(\"%c\",(a[i]^tg)?'A':'B');\n\tputs(\"\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define ll long long\n#define rep2(i,a,b) for(int i=a;i<=b;++i)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define pii pair<int,int>\n#define tii tuple<int,int,int>\n#define pq priority_queue<int>\n#define pqg priority_queue<int,vector<int>,greater<int>>\n#define pb push_back\n#define edge(v,a,b) v[a].pb(b);v[b].pb(a);\nll int MOD=1e9+7;\n#define INF 2*1e9\n#define N 310000 \nusing namespace std;\nstring alphabet(\"abcdefghijklmnopqrstuvwxyz\");\n\nmain(){\n    int n,k;\n    cin>>n>>k;\n    bitset<N> b;\n    string ss;\n    cin>>ss;\n    for(int i=ss.size()-1;i>=0;i--){\n        if(ss[i]=='A') b[(int)ss.size()-1-i]=1;\n    }\n    int t=410000,s=ss.size()-1;\n    while(t&&k){\n        if(b[s]){\n            b[s]=0; t--;k--;\n        }\n        else{\n            b<<=1; t--;k--;\n            b.flip();\n        }\n    }\n    if(k&&(n%2)){\n        if(b[s]^k%2) b[s]=0;\n        else b[s]=1;\n    }\n    while(s>=0){\n        if(b[s]) cout<<'A';\n        else cout<<'B';\n        s--;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0;\n\tscanf(\"%d %d %s\" , &N , &K , str + 1);\n\tif(str[1] == 'A'){str[1] = 'B'; --K;}\n\tK %= 4 * N; for(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\t\n\twhile(K--)\n\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include <stdio.h>\n\nusing namespace std;\n\n#define mod 1000000007LL\n#define pi 3.141592653589793238462643383279;\n#define ll long long\n#define pii pair<int,int>\n#define pll pair<ll,ll>\n#define f first\n#define s second\n#define pic pair<char,long long >\n\nvoid scan(vector<int> & v)\n{\n    for(int i=0;i<v.size();i++)\n        scanf(\"%d\",&v[i]);\n}\n\nvoid print(vector<int> & v)\n{\n    for(int i=0;i<v.size();i++)\n        printf(\"%d \",v[i]);\n}\nvoid fun()\n{\n    int n,k;\n    cin>>n>>k;\n    string s,ss;\n    cin>>s;\n    //ss=s;\n    map<int,string> mm;\n    map<string,int> mm2;\n    string temp=s;\n    ss=temp;\n    //int i=1;\n    int count=0;\n    mm[0]=temp;\n    mm2[temp]=0;\n    while(k--)\n    {\n        int i=0;\n        // true left\n        count++;\n        bool dir=true;\n        while(1)\n        {\n            if(i<0||i>=n)\n                break;\n            if(temp[i]=='A')\n            {\n                temp[i]='B';\n                if(dir)\n                    i--;\n                else\n                    i++;\n                dir=!dir;\n\n            }\n            else\n            {\n                 temp[i]='A';\n                if(dir)\n                    i++;\n                else\n                    i--;\n\n            }\n           // cout<<temp<<endl;\n        }\n        if(mm2.find(temp)!=mm2.end())\n        {\n            int l=mm2[temp];\n            int vv=l+(k-l+1)%(count-l);\n            cout<<mm[vv];\n            return;\n        }\n\n        mm[count]=temp;\n        mm2[temp]=count;\n    }\n    cout<< temp;\n    return;\n}\nint main()\n{\n    bool test=0;\n    if(test==1)\n    {\n        freopen(\"input_file_name.txt\",\"r\",stdin);\n        freopen(\"output_file_name.txt\",\"w\",stdout);\n    }\n    int t=1;\n    //cin>>t;\n    for(int i=1;i<=t;i++)\n    {\n        //cout<<\"Case #\"<<i<<\": \";\n        fun();\n        //cout<<endl;\n    }\n    //int acc;cin>>acc;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define endl '\\n'\n#define lfs cout<<fixed<<setprecision(10)\n#define ALL(a)  (a).begin(),(a).end()\n#define ALLR(a)  (a).rbegin(),(a).rend()\n#define spa << \" \" <<\n#define fi first\n#define se second\n#define MP make_pair\n#define MT make_tuple\n#define PB push_back\n#define EB emplace_back\n#define rep(i,n,m) for(ll i = (n); i < (ll)(m); i++)\n#define rrep(i,n,m) for(ll i = (ll)(m) - 1; i >= (ll)(n); i--)\nusing ll = long long;\nusing ld = long double;\nconst ll MOD1 = 1e9+7;\nconst ll MOD9 = 998244353;\nconst ll INF = 1e18;\nusing P = pair<ll, ll>;\ntemplate<typename T1, typename T2>\nbool chmin(T1 &a,T2 b){if(a>b){a=b;return true;}else return false;}\ntemplate<typename T1, typename T2>\nbool chmax(T1 &a,T2 b){if(a<b){a=b;return true;}else return false;}\nll median(ll a,ll b, ll c){return a+b+c-max({a,b,c})-min({a,b,c});}\nvoid ans1(bool x){if(x) cout<<\"Yes\"<<endl;else cout<<\"No\"<<endl;}\nvoid ans2(bool x){if(x) cout<<\"YES\"<<endl;else cout<<\"NO\"<<endl;}\nvoid ans3(bool x){if(x) cout<<\"Yay!\"<<endl;else cout<<\":(\"<<endl;}\ntemplate<typename T1,typename T2>\nvoid ans(bool x,T1 y,T2 z){if(x)cout<<y<<endl;else cout<<z<<endl;}  \ntemplate<typename T>\nvoid debug(vector<vector<T>>&v,ll h,ll w){for(ll i=0;i<h;i++)\n{cout<<v[i][0];for(ll j=1;j<w;j++)cout spa v[i][j];cout<<endl;}};\nvoid debug(vector<string>&v,ll h,ll w){for(ll i=0;i<h;i++)\n{for(ll j=0;j<w;j++)cout<<v[i][j];cout<<endl;}};\ntemplate<typename T>\nvoid debug(vector<T>&v,ll n){if(n!=0)cout<<v[0];\nfor(ll i=1;i<n;i++)cout spa v[i];cout<<endl;};\ntemplate<typename T>\nvector<vector<T>>vec(ll x, ll y, T w){\n  vector<vector<T>>v(x,vector<T>(y,w));return v;}\nll gcd(ll x,ll y){ll r;while(y!=0&&(r=x%y)!=0){x=y;y=r;}return y==0?x:y;}\nvector<ll>dx={1,-1,0,0,1,1,-1,-1};\nvector<ll>dy={0,0,1,-1,1,-1,1,-1};\ntemplate<typename T>\nvector<T> make_v(size_t a,T b){return vector<T>(a,b);}\ntemplate<typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v(ts...))>(a,make_v(ts...));\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const pair<T1, T2>&p){\n  return os << p.first << \" \" << p.second;\n}\n//mt19937 mt(chrono::steady_clock::now().time_since_epoch().count());\n\nint main(){\n  cin.tie(nullptr);\n  ios_base::sync_with_stdio(false);\n  ll res=0,buf=0;\n  bool judge = true;\n  ll n,k;cin>>n>>k;\n  string s;cin>>s;\n  vector<ll>v(n);\n  rep(i,0,n)v[i]=s[i]-'A';\n  rep(i,n,2*n+2)v.PB(~(i-n)&1);\n  ll num=0;//先頭Bで操作を行う(右から出る)回数\n  ll now=0;//操作回数\n  bool top=v[0];\n  while(now<k&&num<n){\n    now++;\n    if(top){\n      num++;\n      top=v[num]^(num&1);\n    }\n    else{\n      top=true;\n    }\n  }\n  vector<ll>ret(n);\n  rep(i,0,n){\n    ret[i]=v[i+num]^(num&1);\n  }\n  ret[0]=top;\n  rep(i,0,n)if(ret[i])cout<<\"B\";else cout<<\"A\";\n  cout<<endl;\n  //debug(ret,n);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tif (k >= 3 * n) k /= 0;\n\n\tfor (int i = 0; i < max (k, 3 * n); i++)\n\t{\n\t\tcout << i << endl;\n\t\tfor (int j = 0; j < n; j++)\n\t\t\tif (rev ^ a[j]) putchar ('B');\n\t\t\telse putchar ('A');\n\t\tcout << endl;\n\t\t\t\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nchar FLIP[2][128];\n\nstd::string solve(std::string S, unsigned K) {\n    unsigned N = S.size();\n    unsigned steps = 0, flips = 0, i = 0;\n    for (; i < N && steps < K; ++steps) {\n        if (S[i] == FLIP[flips % 2]['A']) {\n            S[i] = FLIP[flips % 2]['B'];\n        }\n        else {\n            ++i;\n            ++flips;\n        }\n    }\n\n    if (N % 2 == 1 && i == N) {\n        flips += K - steps;\n    }\n\n    std::string T(N, '\\0');\n    for (unsigned j = 0; j < N; ++j) {\n        if (i < N) {\n            T[j] = FLIP[flips % 2][S[i++]];\n        }\n        else {\n            unsigned f = j == 0 ? flips + 1 : N - j + 1;\n            T[j] = FLIP[f % 2]['A'];\n        }\n    }\n    return T;\n}\n\nint main() {\n    std::ios::sync_with_stdio(false);\n    FLIP[0]['A'] = 'A';\n    FLIP[0]['B'] = 'B';\n    FLIP[1]['A'] = 'B';\n    FLIP[1]['B'] = 'A';\n\n    for (unsigned N, K; std::cin >> N >> K;) {\n        std::string S;\n        std::cin >> S;\n\n        std::cout << solve(S, K) << '\\n';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nconst int N=200200;\nint i,j,k,n,m;\nchar s[N],ans[N];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tj=1;\n\tfor (i=n;i;i--) {\n\t\tif ((n-i)&1) ans[i]='B';\n\t\telse ans[i]='A';\n\t}\n\tfor (i=1;i<=m;i++) {\n\t\tif (s[j]=='A') {\n\t\t\ts[j]='B';\n\t\t\tcontinue;\n\t\t}\n\t\telse {\n\t\t\tif (++j>n) break;\n\t\t\tif (!(j&1)) s[j]='A'+'B'-s[j];\n\t\t}\n\t}\n\tm-=i-1;\n\tfor (i=j;i<=n;i++) {\n\t\tif (!(j&1) && i!=j) s[i]='A'+'B'-s[i];\n\t\tans[i-j+1]=s[i];\n\t}\n\tif ((m&1) && ans[1]=='A') ans[1]='B';\n\tprintf(\"%s\\n\",ans+1);\n}"
  },
  {
    "language": "C++",
    "code": "// Ala be zekrellah tatmaenolgholoob ...\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define F first\n#define S second\n#define MP make_pair\nconst int maxn = 1e5+9;\nconst ll mod = 1e9+7;\n\nbool get (char c) {\n\treturn ((c == 'A') ? 1 : 0);\n}\n\nint main () {\n\tios::sync_with_stdio(false); cin.tie(0); cout.tie(0);\n\tint n, k;\n\tstring s, res;\n\tcin >> n >> k >> s;\n\tint num = 0;\n\tbool f = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (get(s[i]) ^ f)\n\t\t\tnum++;\n\t\tif (num == k) {\n\t\t\tres = \"B\";\n\t\t\tfor (int t = i + 1; t < n; t++)\n\t\t\t\tif (f)\n\t\t\t\t\tres += ((s[t] == 'A') ? \"B\" : \"A\");\n\t\t\t\telse\n\t\t\t\t\tres += s[t];\n\t\t\tfor (int t = 0; t < i; t++)\n\t\t\t\tres += (((i - t) % 2) ? \"A\" : \"B\");\n\t\t\tcout << res << \"\\n\";\n\t\t\treturn 0;\n\t\t}\n\t\tf = 1 - f;\n\t\tnum++;\n\t\tif (num == k) {\n\t\t\tfor (int t = i + 1; t < n; t++)\n\t\t\t\tif (f)\n\t\t\t\t\tres += ((s[t] == 'A') ? \"B\" : \"A\");\n\t\t\t\telse\n\t\t\t\t\tres += s[t];\n\t\t\tfor (int t = 0; t < i + 1; t++)\n\t\t\t\tres += (((i - t) % 2) ? \"B\" : \"A\");\n\t\t\tcout << res << \"\\n\";\n\t\t\treturn 0;\n\t\t}\n\t}\n\tif (n == 1) {\n\t\tif (k % 2)\n\t\t\tcout << ((s[0] == 'A') ? \"B\" : \"A\") << \"\\n\";\n\t\telse\n\t\t\tcout << s[0] << \"\\n\";\n\t\treturn 0;\n\t}\n\tif (n % 2 == 0) {\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcout << ((i % 2) ? \"A\" : \"B\");\n\t\tcout << \"\\n\";\n\t}\n\tk -= num;\n\tif (k % 2 == 1)\n\t\tcout << \"BB\";\n\telse\n\t\tcout << \"AB\";\n\tfor (int i = 2; i < n; i++)\n\t\tcout << ((i % 2) ? \"A\" : \"B\");\n\tcout << \"\\n\";\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N=200005;\nint read(){\n\tint x=0;\n\tchar ch=getchar();\n\twhile (!isdigit(ch))\n\t\tch=getchar();\n\twhile (isdigit(ch))\n\t\tx=(x<<1)+(x<<3)+(ch^48),ch=getchar();\n\treturn x;\n}\nint n,k,a[N];\nchar s[N];\nint main(){\n\tn=read(),k=read();\n\tscanf(\"%s\",s+1);\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=s[i]-'A';\n\tint t=0,h=1;\n\twhile ((k--)&&h<n){\n\t\tif (!(a[h]^t)){\n\t\t\ta[h]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\tt^=1;\n\t\tif ((a[h]^t)&1)\n\t\t\ta[h]^=1;\n\t\th++;\n\t}\n\tif (k>0&&(n&1))\n\t\ta[h]^=k&1;\n\telse if (k>0)\n\t\th++;\n\tfor (int i=h;i<=n;i++)\n\t\tputchar('A'+(a[i]^t));\n\tfor (int i=n-h+2;i<=n;i++)\n\t\tputchar('A'+((n-i)&1));\n\treturn 0;\n}\n\n/*\nconst int N=100005;\nint n,k;\nchar s[N],s2[N]=\"           \";\nint t=0;\nvoid print(){\n\tprintf(\"%s\",s+1);\n}\nint main(){\n\tcin >> n;\n\tfor (int i=1;i<=n;i++)\n\t\ts[i]='A';\n\ts[n+1]='\\0';\n\tint cnt=0;\n\twhile (1){\n\t\tgetchar();\n\t\tint p=1,add=1;\n\t\ts2[p]=add>0?'R':'L';\n\t\twhile (1<=p&&p<=n){\n\t\t\tif (s[p]=='A')\n\t\t\t\tadd=-add;\n\t\t\ts[p]='A'+((s[p]-'A')^1);\n\t\t\ts2[p]=' ';\n\t\t\tp+=add;\n\t\t\ts2[p]=add>0?'R':'L';\n\t\t}\n\t\ts2[p]=' ';\n\t\tcnt++;\n\t\tprintf(\"%3d: \",cnt);print();\n\t}\n\treturn 0;\n}*/\n/*\n  1: BBAAABBBBAAAAABBBBBBAAAA\t\t\t\t\t\t!\n  3:  ABBBAAAABBBBBAAAAAABBBBA\t\t\t\t\t\t\n  4:   AAABBBBAAAAABBBBBBAAAABA\t\t\t\t\t\t\n  5:    BBAAAABBBBBAAAAAABBBBABA\t\t\t\t\t!\n  7:     ABBBBAAAAABBBBBBAAAABABA\t\t\t\t\t\n  8:      AAAABBBBBAAAAAABBBBABABA\t\t\t\t\t\n  9: \t   BBBAAAAABBBBBBAAAABABABA\t\t\t\t\t!\n 11: \t    AABBBBBAAAAAABBBBABABABA\t\n 12: \t     BAAAAABBBBBBAAAABABABABA\t\t\t\t!\n 14: \t      BBBBBAAAAAABBBBABABABABA\t\t\t\t!\n 16: \t\t   AAAABBBBBBAAAABABABABABA\t\t\n 17: \t\t\tBBBAAAAAABBBBABABABABABA\t\t\t!\n 19: \t\t\t AABBBBBBAAAABABABABABABA\t\t\t\n 20: \t\t\t  BAAAAAABBBBABABABABABABA\t\t\t!\n 22: \t\t\t   BBBBBBAAAABABABABABABABA\t\t\t!\n 24: \t\t\t\tAAAAABBBBABABABABABABABA\n 25: \t\t\t\t BBBBAAAABABABABABABABABA\t\t!\n 27: \t\t\t\t  AAABBBBABABABABABABABABA\n 28: \t\t\t\t   BBAAAABABABABABABABABABA\n 30: \t\t\t\t\tABBBBABABABABABABABABABA\n 31: \t\t\t\t\t AAAABABABABABABABABABABA\n 32: \t\t\t\t\t  BBBABABABABABABABABABABA\n 34: \t\t\t\t\t   AABABABABABABABABABABABA\n 35: \t\t\t\t\t    BABABABABABABABABABABABA\n2 6 10 13 15 18 21 23 26 29 33 \n*/"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\n#define int ll\n\n#define FOR(i,a,b) for(int i=int(a);i<int(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define MP make_pair\n#define PB push_back\n#define ALL(x) x.begin(),x.end()\n#define REACH cerr<<\"reached line \"<<__LINE__<<endl\n#define DBG(x) cerr<<\"line \"<<__LINE__<<\" \"<<#x<<\":\"<<x<<endl\n\nusing pi=pair<int,int>;\nusing vi=vector<int>;\nusing ld=long double;\n\ntemplate<class T,class U>\nostream& operator<<(ostream& os,const pair<T,U>& p){\n\tos<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n\treturn os;\n}\n\ntemplate<class T>\nostream& operator <<(ostream& os,const vector<T>& v){\n\tos<<\"[\";\n\tREP(i,(int)v.size()){\n\t\tif(i)os<<\",\";\n\t\tos<<v[i];\n\t}\n\tos<<\"]\";\n\treturn os;\n}\n\nint read(){\n\tint i;\n\tscanf(\"%lld\",&i);\n\treturn i;\n}\n\nvoid printSpace(){\n\tprintf(\" \");\n}\n\nvoid printEoln(){\n\tprintf(\"\\n\");\n}\n\nvoid print(int x,int suc=1){\n\tprintf(\"%lld\",x);\n\tif(suc==1)\n\t\tprintEoln();\n\tif(suc==2)\n\t\tprintSpace();\n}\n\nstring readString(){\n\tstatic char buf[3341919];\n\tscanf(\"%s\",buf);\n\treturn string(buf);\n}\n\nchar* readCharArray(){\n\tstatic char buf[3341919];\n\tstatic int bufUsed=0;\n\tchar* ret=buf+bufUsed;\n\tscanf(\"%s\",ret);\n\tbufUsed+=strlen(ret)+1;\n\treturn ret;\n}\n\ntemplate<class T,class U>\nvoid chmax(T& a,U b){\n\tif(a<b)\n\t\ta=b;\n}\n\ntemplate<class T,class U>\nvoid chmin(T& a,U b){\n\tif(a>b)\n\t\ta=b;\n}\n\ntemplate<class T>\nT Sq(const T& t){\n\treturn t*t;\n}\n\nconst int inf=LLONG_MAX/3;\n\nsigned main(){\n\tint n=read(),k=read();\n\tstring s=readString();\n\tint g=k/2;\n\tstring t;\n\tREP(i,n)\n\t\tif(i+g<n)\n\t\t\tt+=((g&1)^(s[i+g]=='A'))?'A':'B';\n\t\telse\n\t\t\tt+=((n-1-i)&1)?'B':'A';\n\tif(k&1){\n\t\tif(t[0]=='A')\n\t\t\tt[0]='B';\n\t\telse{\n\t\t\tREP(i,n-1)\n\t\t\t\tt[i]=t[i+1]=='A'?'B':'A';\n\t\t\tt[n-1]='A';\n\t\t}\n\t}\n\tcout<<t<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <algorithm>\nusing namespace std;\nusing Data = deque<pair<char,int> >;\n\nchar conv(char c, int change) {\n    if (change & 1) return (c == 'A' ? 'B' : 'A');\n    else return c;\n}\n\nstring recon(const Data &v, int change) {\n    string res = \"\";\n    int sum = 0;\n    for (auto p : v) {\n        sum += p.second;\n        for (int i = 0; i < p.second; ++i) res += conv(p.first, change);\n    }\n    return res;\n}\n\nint main() {\n    int N, K; string S;\n    cin >> N >> K >> S;\n    Data v;\n    for (int i = 0; i < S.size();) {\n        int j = i+1;\n        while (j < S.size() && S[j] == S[i]) ++j;\n        v.push_back({S[i], j-i});\n        i = j;\n    }\n    int LIMIT = (int)S.size() * 10;\n    if ((K - LIMIT) & 1) ++LIMIT;\n    if (K > LIMIT) K = LIMIT;\n    int change = 0;\n    for (int i = 0; i < K; ++i) {\n        char c = conv(v[0].first, change);\n        if (c == 'A') {\n            auto p = v[0];\n            v.pop_front();\n            if (p.second > 1) v.push_front({conv('A', change), p.second - 1});\n            v.push_front({conv('B', change), 1});\n        }\n        else {\n            ++change;\n            v[0].second--;\n            if (v[0].second == 0) v.pop_front();\n            v.push_back({conv('A', change), 1});\n        }\n    }\n    cout << recon(v, change) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i,n,N) for(int i=n;i<N;i++)\n#define p(S) cout<<(S)<<endl\n#define ck(n,a,b) (a<=(n)&&(n)<b)\ntypedef long long ll;\nusing namespace std;\n\nint main(){\n\tint N,K;\n\tcin>>N>>K;\n\tstring s;\n\tset<string> st;\n\tvector<string> vt;\n\tcin>>s;\n\tst.insert(s);\n\tint r=0;\n\n\tREP(i,0,K){\n\t\tint pos=0;\n\t\tbool muki=true;\n\t\twhile(ck(pos,0,(int)s.size())){\n\t\t\tif(s[pos]=='A'){\n\t\t\t\ts[pos]='B';\n\t\t\t\tmuki?pos--:pos++;\n\t\t\t\tmuki=!muki;\n\t\t\t}else{\n\t\t\t\ts[pos]='A';\n\t\t\t\tmuki?pos++:pos--;\n\t\t\t}\n\t\t}\n\t\tif(st.find(s)!=st.end()){\n\t\t\tr=i;\n\t\t\tbreak;\n\t\t}\n\t\tst.insert(s);\n\t\tvt.push_back(s);\n\t}\n\tif(!r) p(s);\n\telse p(vt[K%r]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing lint = long long int;\nusing pint = pair<int, int>;\nusing plint = pair<lint, lint>;\nstruct fast_ios { fast_ios(){ cin.tie(0); ios::sync_with_stdio(false); cout << fixed << setprecision(20); }; } fast_ios_;\n#define FOR(i, begin, end) for(int i=(begin),i##_end_=(end);i<i##_end_;i++)\n#define IFOR(i, begin, end) for(int i=(end)-1,i##_begin_=(begin);i>=i##_begin_;i--)\n#define REP(i, n) FOR(i,0,n)\n#define IREP(i, n) IFOR(i,0,n)\ntemplate<typename T> istream& operator>>(istream &is, vector<T> &vec){ for (auto &v : vec) is >> v; return is; }\ntemplate<typename T> ostream& operator<<(ostream &os, vector<T> &vec){ os << \"[\"; for (auto v : vec) os << v << \",\"; os << \"]\"; return os; }\ntemplate<typename T> ostream& operator<<(ostream &os, set<T> &vec){ os << \"{\"; for (auto v : vec) os << v << \",\"; os << \"}\"; return os; }\ntemplate<typename T1, typename T2> ostream& operator<<(ostream &os, pair<T1, T2> &pa){ os << \"(\" << pa.first << \",\" << pa.second << \")\"; return os; }\ntemplate<typename TK, typename TV> ostream& operator<<(ostream &os, map<TK, TV> &mp){ os << \"{\"; for (auto v : mp) os << v.first << \"=>\" << v.second << \",\"; os << \"}\"; return os; }\n#define dbg(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \") \" << __FILE__ << endl;\n\nconstexpr int Nmax = 200000;\n\nint main()\n{\n    int N, K;\n    cin >> N >> K;\n    string s;\n    cin >> s;\n\n    bitset<Nmax> st(0);\n    REP(i, N) if (s[i] == 'B') st.set(i);\n\n    int now = 0;\n    bool inv = false;\n    REP(_, K)\n    {\n        if (st[now] ^ inv)\n        {\n            now++, inv = !inv;\n            if (now == N) now = 0;\n        }\n        else st[now] = !st[now];\n    }\n    REP(i, N) cout << (st[(i + now) % N] ^ inv ? 'B' : 'A');\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "//84104971101048411497 - Can you guess what does this mean?\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef complex<double> point;\n#define mapii map<int, int>\n#define debug(a) cout << #a << \": \" << a << endl\n#define debuga1(a, l, r) fto(i, l, r) cout << a[i] << \" \"; cout << endl\n#define fdto(i, r, l) for(int i = (r); i >= (l); --i)\n#define fto(i, l, r) for(int i = (l); i <= (r); ++i)\n#define forit(it, var) for(__typeof(var.begin()) it = var.begin(); it != var.end(); it++)\n#define forrit(rit, var) for(__typeof(var.rbegin()) rit = var.rbegin(); rit != var.rend(); rit++)\n#define ii pair<int, int>\n#define iii pair<int, ii>\n#define ff first\n#define ss second\n#define mp make_pair\n#define pb push_back\n#define maxN 500005\n#define oo 2000000007\n#define sz(a) (int)a.size()\n\nconst double PI = acos(-1.0);\n\ndouble fRand(double fMin, double fMax)\n{\n    double f = (double)rand() / RAND_MAX;\n    return fMin + f * (fMax - fMin);\n}\n\ntemplate <class T>\nT min(T a, T b, T c) {\n    return min(a, min(b, c));\n}\n\ntemplate <class T>\nT max(T a, T b, T c) {\n    return max(a, max(b, c));\n}\n\nstring getBA(int n) {\n    string ans;\n    fto(i, 0, n-1) ans += (i&1) ? 'B' : 'A';\n    reverse(ans.begin(), ans.end());\n    return ans;\n}\n\nstring s;\nint n, k;\n\nint main () {\n    cin >> n >> k;\n    cin >> s;\n\n    int cur = 0;\n    string ans;\n    fto(i, 0, n-1) {\n        if ((s[i] == 'A')^(i&1)) {\n            --k;\n            if (k == 0) {\n                ans += 'B';\n                fto(j, i+1, n-1) {\n                    ans += ((s[j] == 'A')^(i&1)) ? 'A' : 'B';\n                }\n                ans += getBA(i);\n                break;\n            }\n        }\n        --k;\n        if (k == 0) {\n            fto(j, i+1, n-1) {\n                ans += ((s[j] == 'A')^(i&1)) ? 'B' : 'A';\n            }\n            ans += getBA(i+1);\n            break;\n        }\n    }\n\n    if (k > 0) {\n        ans += (n%2 == 1 && k%2 == 1) ? 'A' : 'B';\n        ans += getBA(n-1);\n    }\n    cout << ans;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n#include <cmath>\n#include <bitset>\n#include <queue>\n#define enter putchar('\\n')\n#define space putchar(' ')\n//#define ivorysi\n#define pb push_back\n#define mo 974711\n#define pii pair<int,int>\n#define mp make_pair\n#define fi first\n#define se second\n#define MAXN 200005\n#define eps 1e-12\nusing namespace std;\ntypedef long long int64;\ntypedef double db;\ntemplate<class T>\nvoid read(T &res) {\n    res = 0;char c = getchar();T f = 1;\n    while(c < '0' || c > '9') {\n\tif(c == '-') f = -1;\n\tc = getchar();\n    }\n    while(c >= '0' && c <= '9') {\n\tres = res * 10 - '0' + c;\n\tc = getchar();\n    }\n    res = res * f;\n}\ntemplate<class T>\nvoid out(T x) {\n    if(x < 0) {x = -x;putchar('-');}\n    if(x >= 10) out(x / 10);\n    putchar('0' + x % 10);\n}\nchar s[MAXN];\nint N,K,p = 1,num[MAXN],cnt,st;\nvoid Solve() {\n    read(N);read(K);\n    scanf(\"%s\",s + 1);\n    for(int i = 1 ; i <= N ; ++i) num[i] = s[i] - 'A';\n    st = num[1];\n    while(K--) {\n\tif(st == 0) {st ^= 1;num[p] ^= 1;}\n\telse {\n\t    ++p;++cnt;\n\t    st = num[p];\n\t    st ^= (cnt & 1);\n\t}\n\tif(p > N) break;\n    }\n    if(p <= N) {\n\tfor(int i = p ; i <= N ; ++i) putchar('A' + (num[i] ^ (cnt & 1)));\n\tint t = N - (N - p + 1),c = (cnt - 1) & 1;\n\twhile(t--) {\n\t    putchar('A' + c);\n\t    c ^= 1;\n\t}\n    }\n    else {\n\tif((cnt - 1) & 1) {\n\t    for(int i = 1 ; i <= N ; ++i) putchar('A' + (i & 1));\n\t}\n\telse {\n\t    putchar('A' + ((K - 1) & 1));\n\t    for(int i = 1 ; i < N ; ++i) putchar('A' + (i & 1));\n\t}\n    }\n    enter;\n}\nint main() {\n#ifdef ivorysi\n    freopen(\"f1.in\",\"r\",stdin);\n#endif\n    Solve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define GET_MACRO(_1,_2,_3,_4,_5,_6,NAME,...) NAME\n#define pr(...) cerr<< GET_MACRO(__VA_ARGS__,pr6,pr5,pr4,pr3,pr2,pr1)(__VA_ARGS__) <<endl\n#define pr1(a) (#a)<<\"=\"<<(a)<<\" \"\n#define pr2(a,b) pr1(a)<<pr1(b)\n#define pr3(a,b,c) pr1(a)<<pr2(b,c)\n#define pr4(a,b,c,d) pr1(a)<<pr3(b,c,d)\n#define pr5(a,b,c,d,e) pr1(a)<<pr4(b,c,d,e)\n#define pr6(a,b,c,d,e,f) pr1(a)<<pr5(b,c,d,e,f)\n#define pr7(a,b,c,d,e,f,g) pr1(a)<<pr6(b,c,d,e,f,g)\n#define pr8(a,b,c,d,e,f,g,h) pr1(a)<<pr7(b,c,d,e,f,g,h)\nusing namespace std;\nusing Int = long long;\nusing ll = long long;\nusing Double = long double;\nconst Int INF = (1LL<<55)+1e9; // ~ 3.6 * 1e16\nconst Int mod = (1e9)+7;\nconst Double EPS = 1e-8;\nconst Double PI = 6.0 * asin((Double)0.5);\nusing P = pair<Int,Int>;\nusing T = tuple<Int,Int,Int>;\ntemplate<class T> T Max(T &a,T b){return a=max(a,b);}\ntemplate<class T> T Min(T &a,T b){return a=min(a,b);}\nostream& operator<<(ostream& o,P p){return o<<\"(\"<<p.first<<\",\"<<p.second<<\")\";}\nostream& operator<<(ostream& o,T t){return o<<\"(\"<<get<0>(t)<<\",\"<<get<1>(t)<<\",\"<<get<2>(t)<<\")\";}\nistream& operator>>(istream& i,P &p){return i>>p.first>>p.second;}\nostream& operator<<(ostream& o,vector<auto> &a){Int i=0;for(auto t:a)o<<(i++?\" \":\"\")<<t;return o;}\nistream& operator>>(istream& i,vector<auto> &a){for(auto &t:a)i>>t;return i;}\nvoid prArr(auto a,string s=\" \"){Int i=0;for(auto t:a)cout<<(i++?s:\"\")<<t;cout<<endl;}\n\ndeque<Int> compless(string s){\n  Int n = s.size();\n  Int cnt = 0;\n  deque<Int> res;  \n  for(Int i=0, pre = s[i] ;i<n; pre = s[i], i++, cnt++)\n    if(pre != s[i]) res.push_back(cnt), cnt = 0;\n  if(cnt) res.push_back(cnt);\n  return res;\n}\n\nstring restore(deque<Int> A,Int top){\n  string res;\n  for(Int a:A){\n    res += string(a, (top == 'X'? 'A':'B') );\n    top = top == 'O'? 'X':'O';\n  }\n  return res;\n}\n\n\nInt getType(const deque<Int> &A,Int top){\n  if(top == 'X') return 0; //x....* だったらpush_front(1), \n  if(A.size() == 1) return 1; //ooooo......だったら変化なし。\n  if(A.size()%2 == 1 && A.back() >= 2) return 2; //o...ooだったら先頭-1と最後+1\n  if(A.size()%2 == 1 && A.back() == 1) return 3; //o...xoだったら先頭-1で最後+1\n  if(A.size()%2 == 0 && A.back() >=2)  return 4;//o...xxだったら先頭を-1,push_back(1)\n  return 5; //o....ox\n}\n\nvoid ifErase(deque<Int> &A, Int i){\n  Int n = A.size();\n  if(i < 0 || i >= n) return;\n  if(A[i]) return;\n  A.erase(A.begin() + i);\n  if(i < (Int)A.size() && i - 1 >= 0) A[i-1] += A[i], A.erase(A.begin()+i);\n}\n\nInt eraseOX(deque<Int> &A,char &top){\n  auto ok = [&](){\n    if(A.empty() || A.size() == 1) return 0;\n    if(top == 'X' && A.size()%2 == 1 && A.back() == 1) return 1;\n    if(top == 'O' && A.size()%2 == 0 && A.back() == 1) return 1;\n  };\n  if(!ok()) return 0;\n  auto dec = [&](Int i){A[i]--; ifErase(A, i);};\n  A.pop_back(), dec(A.size()-1);\n  return 1;\n}\n\n\nvoid update(deque<Int> &A,char &top){\n  \n  if(A.empty()) return;\n  Int type = getType(A,top);\n\n  auto dec = [&](Int i){\n    if(--A[i] == 0 && type != 0) top = top == 'O'? 'X':'O';\n    ifErase(A, i);\n  };\n\n  auto inc = [&](){\n    if(A.empty()) A.push_back(0);\n    A.back()++;\n  };\n    \n  \n  top = top == 'O'? 'X':'O';\n  if(type == 0) A.push_front(1), dec(1);\n  if(type == 1) return;\n  if(type == 2) dec(0), inc();\n  if(type == 3) dec(0), inc();\n  if(type == 4) dec(0), A.push_back(1);\n  if(type == 5) assert(0);\n}\n\nsigned main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(0);\n  cout << fixed << setprecision(12);\n\n  Int n, K;\n  cin >>n >> K;\n  string s;\n  cin>>s;\n  for(char &ch:s) ch = ch == 'A'? 'X':'O';\n  string ofset;\n  deque<Int> A = compless(s);\n  char top = s[0];\n  Int cnt = min(K, 1000000LL);\n  K -= cnt;\n  while(cnt--) {\n    while(eraseOX(A,top)) ofset += \"BA\";\n    update(A,top);\n  }\n  \n  \n  string ans = restore(A, top) + ofset;\n  if(A.size() && K%2) ans[0] = ans[0] == 'A'? 'B':'A';\n  cout<<ans<<endl;\n  \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i, a, b) for (int i = a; i <= b; ++i)\n#define PER(i, a, b) for (int i = a; i >= b; --i)\n#define RVC(i, S) for (int i = 0; i < S.size(); ++i)\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define debug(...) fprintf(stderr, __VA_ARGS__)\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> pii;\n\ninline int read(){\n\tint x = 0, ch = getchar(), f = 1;\n\twhile (!isdigit(ch)){if (ch == '-') f = -1; ch = getchar();}\n\twhile (isdigit(ch)) x = x * 10 + ch - '0', ch = getchar();\n\treturn x * f;\n}\n\nconst int N=(int)(2e5)+5;\nchar s[N];\nint a[N];\nint sgn,ps,bnd,n,m;\n\ninline void print() {\n    REP(c,1,n) {\n        printf(\"%c\",(a[ps]^sgn)+'A');\n        ps++;if(ps>n) ps-=n;\n    } putchar('\\n');\n}\n\ninline int orzcbh(int m) {\n    REP(c,1,m) {\n        if(!(a[ps]^sgn)) a[ps]^=1;\n        else {\n            sgn^=1;ps++;\n            if(ps>n) ps-=n;\n        }\n    }\n}\n\nint main() {\n    n = read(), m = read();\n    scanf(\"%s\",s+1);\n    REP(i,1,n) a[i]=s[i]-'A';\n    sgn=0;ps=1;bnd=n<<1;\n    if(m&1) bnd++;\n    if(m<=bnd) {\n        orzcbh(m);\n        print();\n        return 0;\n    }\n    orzcbh(bnd);print();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max() / 32 * 15 + 208;\n\nint main() {\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    reverse(s.begin(),s.end());\n    int re = 0, ree = 'A'^'B';\n    while(!s.empty() && k){\n        if((s.back()^re) == 'A'){\n            s.back() = 'B'^re;\n        }else {\n            s.pop_back();\n            re ^= ree;\n        }\n        k--;\n    }\n    if(s.empty() && n&1){\n        printf(\"%c\", k&1 ? 'B' : 'A');\n        for (int i = 1; i < n; ++i) {\n            printf(\"%c\", (n-1-i)&1 ? 'B' : 'A');\n        }\n        puts(\"\");\n        return 0;\n    }\n    reverse(s.begin(),s.end());\n    for (int i = 0; i < n; ++i) {\n        if(i < s.size()){\n            printf(\"%c\", s[i]^re);\n        }else {\n            printf(\"%c\", (n-1-i)&1 ? 'B' : 'A');\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\twhile (true) {\n\t\tint n, k; cin >> n >> k;\n\t\tstring s; cin >> s;\n\t\tif (n == 1) {\n\t\t\tif ((n % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\t\telse { cout << 'B' << endl; }\n\t\t\treturn 0;\n\t\t}\n\t\tdeque<char> deq;\n\t\trep(i, n) {\n\t\t\tdeq.push_back(s[i]);\n\t\t}\n\t\tint loop = 0; bool trick = false;\n\t\twhile (loop <= n + 10 && k > 0) {\n\t\t\tloop++; 'A';\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (c == 'A') {\n\t\t\t\tdeq.push_front('B'); k--; continue;\n\t\t\t}\n\t\t\tif (k == 1) {\n\t\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t\t}\n\t\t\tc = deq.front(); deq.pop_front();\n\t\t\tif (c == 'A') { k++; }\n\t\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\t\tk -= 3;\n\t\t\tdeq.push_back('B');\n\t\t\tdeq.push_back('A');\n\t\t}\n\t\tif (k <= 0) {\n\t\t\twhile (!deq.empty()) {\n\t\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\t\telse { cout << 'B'; }\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\t\telse {\n\t\t\tif (n % 2 == 0) {\n\t\t\t\trep(i, n) {\n\t\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\t\telse { cout << 'A'; }\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint x = k % 2;\n\t\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\t\telse { cout << 'B'; }\n\t\t\t\trep(i, n - 1) {\n\t\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\t\telse { cout << 'A'; }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing int64 = long long;\n\n\nint main() {\n  int N, K;\n  string S;\n\n\n  cin >> N >> K;\n  cin >> S;\n  deque< int > bit(N);\n  for(int i = 0; i < N; i++) {\n    bit[i] = S[i] == 'A';\n  }\n\n  int last = N;\n  bool f = false;\n  while(K--) {\n    while(last >= 2 && bit[last - 1] ^ f && !(bit[last - 2] ^ f)) {\n      last -= 2;\n    }\n    if(last == 0) break;\n    if(last == 1) K %= 2;\n    if(bit[0] ^ f) {\n      bit[0] = f;\n    } else {\n      bit.pop_front();\n      bit.emplace_back(f);\n      f ^= 1;\n    }\n  }\n  for(int i = 0; i < N; i++) cout << \"BA\"[bit[i] ^ f];\n  cout << endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\nconst int N=2e5+5;\nint n,q;\nchar ch[N];\n\ninline int nxi(){\n\tint x=0;\n\tchar c;\n\twhile((c=getchar())>'9'||c<'0');\n\twhile(x=x*10-48+c,(c=getchar())>='0'&&c<='9');\n\treturn x;\n}\n\ntemplate <class T,size_t S> class _Que{\n\tprotected:\n\t\tT q[S];\n\t\tint hd,tl;\n\tpublic:\n\t\t_Que(){\n\t\t\thd=tl=0;\n\t\t}\n\t\tinline int front(){\n\t\t\treturn q[hd];\n\t\t}\n\t\tinline void pop_front(){\n\t\t\tif(++hd==S) hd=0;\n\t\t}\n\t\tinline void pop_back(){\n\t\t\tif(--tl==-1) tl=S-1;\n\t\t}\n\t\tinline void push_front(T x){\n\t\t\tif(--hd==-1) hd=S-1;\n\t\t\tq[hd]=x;\n\t\t}\n\t\tinline void push_back(T x){\n\t\t\tq[tl++]=x;\n\t\t\tif(tl==S) tl=0;\n\t\t}\n};\n_Que <bool,N> que;\n\ninline bool step(const bool rev){\n\tif(que.front()){\n\t\tque.pop_front();\n\t\tque.push_front(0^rev);\n\t\treturn 0;\n\t}\n\telse{\n\t\tque.pop_front();\n\t\tque.push_back(1^rev);\n\t\treturn 1;\n\t}\n}\n\nint main(){\n\t//1:'A', 2:'B'\n\tn=nxi(),q=nxi();\n\tscanf(\"%s\",ch+1);\n\tfor(int i=1; i<=n; ++i){\n\t\tque.push_back(ch[i]=='A');\n\t}\n\tint rev=0;\n\tfor(int i=1; i<=std::min(q,n); ++i){\n\t\trev^=step(rev);\n\t}\n\tif(q>n&&(q-n)&1) rev^=step(rev);\n\tfor(int i=1; i<=n; ++i){\n\t\tputchar(que.front()^rev?'A':'B');\n\t\tque.pop_front();\n\t}\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<vector>\n#include<queue>\n#include<algorithm>\n\nusing namespace std;\n#define LL long long\n#define fgx cerr<<\"--------------\"<<endl;\n#define dgx cerr<<\"==============\"<<endl;\n\ninline int read(){\n\tint x=0,f=1; char c=getchar();\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n\tfor(;isdigit(c);c=getchar()) x=x*10+c-'0';\n\treturn x*f;\n}\nconst int MAXN = 300010;\nconst int INF = 1000000000;\n\nint N,K; char str[MAXN+1];\ndeque<int> que;\n\nint main(){\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tN=read(),K=read(); scanf(\"%s\",str+1);\n\tfor(int i=1,l=1;i<=N;i=l+1){\n\t\tl=i; while(l<N&&str[l+1]==str[i]) ++l;\n\t\tque.push_back(l); }\n\tint hd=(str[1]=='A'?1:0),bas=0;\n\twhile(K--){\n\t\tif(que.size()==N) break;\n\t\tif(hd==1){\n\t\t\tint x=que.front()+bas;\n\t\t\tif(x==1) que.pop_front();\n\t\t\telse que.push_front(1-bas);\n\t\t\thd^=1;\n\t\t}\n\t\telse {\n\t\t\tif(que.size()&1) que.pop_back();\n\t\t\tif(que.front()+bas!=1) hd^=1;\n\t\t\t--bas;\n\t\t}\n\t\twhile(que.size()&&que.front()+bas<1) que.pop_front();\n\t\tif(!que.size()||que.back()+bas!=N) que.push_back(N-bas);\n\t} ++K;\n\tif(N&1) hd^=(K&1);\n\tint now=0;\n\twhile(!que.empty()){\n\t\tint k=que.front()+bas; que.pop_front();\n\t\tfor(int i=now+1;i<=k;i++){\n\t\t\tif(hd) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\t} hd^=1; now=k;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tchkmin(k, 20 * n);\n\tcin >> s;\n}\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tint C = 0;\n\twhile(k--)\n\t{\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    //cout<<t<<\" \"<<v.front().first<<\":\";\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(v.empty()) break;\n    k--;\n    //print();\n    //for(P p:v) cout<<(p.first^t)<<\" \"<<p.second<<endl;\n    //cout<<endl;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      //cout<<\"UKUNICHIA:\";print();\n      if(!cnt &&(v.back().first^t)){\n\t//v.back().first^=1;\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //print();\n    //for(P p:v) cout<<(p.first^t)<<\" \"<<p.second<<endl;\n    //cout<<endl;\n  }\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#define _USE_MATH_DEFINES\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\n#include <bits/stdc++.h>\n/*#pragma GCC optimize(\"Ofast\",\"unroll-loops\",\"omit-frame-pointer\",\"inline\") //Optimization flags\n#pragma GCC option(\"arch=native\",\"tune=native\",\"no-zero-upper\") //Enable AVX\n#pragma GCC target(\"avx2\")  //Enable AVX*/\n\nusing namespace std;\n\nusing ll = long long;\n\n#define mp make_pair\n\nconst int p = 998244353;\n\n\nint mul(int a, int b) {\n    return (1LL * a * b) % p;\n}\n\nint add(int a, int b) {\n    int s = (a+b);\n    if (s>=p) s-=p;\n    return s;\n}\n\nint sub(int a, int b) {\n    int s = (a+p-b);\n    if (s>=p) s-=p;\n    return s;\n}\n\nint po(int a, int deg)\n{\n    if (deg==0) return 1;\n    if (deg%2==1) return mul(a, po(a, deg-1));\n    int t = po(a, deg/2);\n    return mul(t, t);\n}\n\nint inv(int n)\n{\n    return po(n, p-2);\n}\n\n/*struct DSU {\n    vector<int> sz;\n    vector<int> parent;\n\n    void make_set(int v) {\n        parent[v] = v;\n        sz[v] = 1;\n    }\n\n    int find_set(int v) {\n        if (v == parent[v])\n            return v;\n        return parent[v] = find_set(parent[v]);\n    }\n\n    void union_sets(int a, int b) {\n        a = find_set(a);\n        b = find_set(b);\n        if (a != b) {\n            if (sz[a] < sz[b])\n                swap(a, b);\n            parent[b] = a;\n            sz[a] += sz[b];\n        }\n    }\n\n    DSU(int n) {\n        sz.resize(n);\n        parent.resize(n);\n        for (int i = 0; i < n; i++) make_set(i);\n    }\n};*/\n\n/*const int N = 1000000;\n\nvector<int> facs(N), invfacs(N);\n\nvoid init()\n{\n    facs[0] = 1;\n    for (int i = 1; i<N; i++) facs[i] = mul(facs[i-1], i);\n    invfacs[N-1] = inv(facs[N-1]);\n    for (int i = N-2; i>=0; i--) invfacs[i] = mul(invfacs[i+1], i+1);\n}\n\nint C(int n, int k)\n{\n    return mul(facs[n], mul(invfacs[k], invfacs[n-k]));\n}*/\n\n\n\nint main() {\n    ios_base::sync_with_stdio(0);\n    cin.tie(nullptr);\n\n    int n, k;\n    cin>>n>>k;\n    string s;\n    cin>>s;\n\n    if (n==1)\n    {\n        if (k%2==0) cout<<s;\n        else\n        {\n            if (s==\"A\") cout<<\"B\";\n            else cout<<\"A\";\n        }\n        return 0;\n    }\n\n    deque<int> a;\n    char first = s[0];\n    int cur = 1;\n    for (int i = 1; i<n; i++)\n    {\n        if (s[i]==s[i-1]) cur++;\n        else\n        {\n            a.push_back(cur);\n            cur = 1;\n        }\n    }\n    a.push_back(cur);\n    //cout<<first<<endl;\n    //for (auto it: a) cout<<it<<' ';\n\n    //cout<<\"Here\"<<endl;\n\n    int iter = min(2*n, k);\n    if (iter%2!=k%2) iter++;\n\n\n    for (int i = 0; i<iter; i++)\n    {\n        //cout<<i<<\":\\n\";\n        if (first=='A')\n        {\n            if (a.front()>1)\n            {\n                int res = a.front();\n                a.pop_front();\n                a.push_front(res-1);\n                a.push_front(1);\n            }\n            else\n            {\n                a.pop_front();\n                int res = a.front();\n                a.pop_front();\n                a.push_front(res+1);\n            }\n            first = 'B';\n        }\n        else\n        {\n            if (a.front()>1)\n            {\n                int res = a.front();\n                a.pop_front();\n                a.push_front(res-1);\n            }\n            else\n            {\n                a.pop_front();\n                first = 'A';\n            }\n            if (first=='A') first = 'B';\n            else first = 'A';\n            if ((first == 'A' && a.size()%2==0)||(first == 'B' && a.size()%2==1))\n            {\n                a.push_back(1);\n            }\n            else\n            {\n                int res = a.back();\n                a.pop_back();\n                a.push_back(res+1);\n            }\n        }\n    }\n\n    for (auto it: a)\n    {\n        for (int i = 0; i<it; i++) cout<<first;\n        if (first=='A') first = 'B';\n        else first = 'A';\n    }\n\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\nusing namespace std;\ndeque<char> deq,ans;\nint k;\nvoid ins(){\n\twhile(deq.size()>=2){\n\t\tint x = deq.size();\n\t\tif(deq[x-2]=='B' && deq[x-1]=='A'){\n\t\t\tans.push_back('B'); ans.push_back('A');\n\t\t\tdeq.pop_back(); deq.pop_back();\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nvoid simple(){\n\tint i;\n\tk--;\n\tif(deq[0]=='A'){\n\t\tdeq[0] = 'B';\n\t\tins();\n\t\treturn;\n\t}\n\tfor(i=0;i<deq.size();i++){\n\t\tif(i!=deq.size() - 1){\n\t\t\tif(deq[i]=='B' && deq[i+1]=='B') deq[i] = 'A';\n\t\t\tif(deq[i]=='A' && deq[i+1]=='A') deq[i] = 'B';\n\t\t}else{\n\t\t\tdeq[i] = 'A';\n\t\t}\n\t}\n\tins();\n}\n\nvoid solve(){\n\tif(deq[0]=='A'){\n\t\tdeq[0] = 'B';\n\t\tk--;\n\t}else{\n\t\tdeq.pop_front(); deq.pop_front();\n\t\tans.push_back('B'); ans.push_back('A');\n\t\tif(deq[1]=='B') k -= 3;\n\t\telse k -= 2;\n\t}\n}\n\nint main(){\n\tint i,n;\n\tcin >> n >> k;\n\tfor(i=0;i<n;i++){\n\t\tchar c; cin >> c;\n\t\tdeq.push_back(c);\n\t}\n\tfor(i=0;i<2;i++){\n\t\tif(deq.back()=='B') simple();\n\t}\n\twhile(deq.size()>=2 && k>0){\n\t\tif(k>3) solve();\n\t\telse simple();\n\t}\n\tif(k==0){\n\t\tfor(i=0;i<deq.size();i++){\n\t\t\tcout << deq[i];\n\t\t}\n\t\tfor(i=0;i<ans.size();i++){\n\t\t\tcout << ans[i];\n\t\t}\n\t}else{\n\t\tif(deq.size()){\n\t\t\tif(k&1){\n\t\t\t\tif(deq[0]=='A') cout << 'B';\n\t\t\t\telse cout << 'A';\n\t\t\t}else{\n\t\t\t\tcout << deq[0];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<ans.size();i++){\n\t\t\tcout << ans[i];\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <memory.h>\n\nusing namespace std;\ntypedef long long LL;\nconst int maxn = 400005;\n\nint n,K;char str[maxn];\nbool check(int pos,int rv)\n{\n\tchar now=n&1?'A':'B';\n\tif (rv) now='A'+'B'-now;\n\tfor (int i=pos;i<=n;i++,now='A'+'B'-now)\n\tif (str[i]!=now) return false;\n\tfor (int i=1;i<pos;i++,now='A'+'B'-now)\n\tif (str[i]!=now) return false;\n\treturn true;\n}\nint main()\n{\n\t#ifdef Amberframe\n\t\tfreopen(\"agc011d.in\",\"r\",stdin);\n\t\tfreopen(\"agc011d.out\",\"w\",stdout);\n\t#endif\n\tscanf(\"%d %d %s\",&n,&K,str+1);int pos=1,rv=0;\n\tfor (int i=1;i<=n*2&&K;i++,K--) {\n\t\tif (str[pos]=='A') {\n\t\t\tif (rv) pos=pos%n+1,rv^=1;\n\t\t\telse str[pos]='B';\n\t\t} \n\t\telse {\n\t\t\tif (rv) str[pos]='A';\n\t\t\telse pos=pos%n+1,rv^=1;\n\t\t}\n\t}\n\twhile (K&&!check(pos,rv))\n\t{\n\t\tif (str[pos]=='A') {\n\t\t\tif (rv) pos=pos%n+1,rv^=1;\n\t\t\telse str[pos]='B';\n\t\t} \n\t\telse {\n\t\t\tif (rv) str[pos]='A';\n\t\t\telse pos=pos%n+1,rv^=1;\n\t\t}\n\t\tK--;\n\t}\n\tif (!K) {\n\t\tif (rv) for (int i=1;i<=n;i++) str[i]='A'+'B'-str[i];\n\t\tfor (int i=pos;i<=n;i++) printf(\"%c\",str[i]);\n\t\tfor (int i=1;i<pos;i++) printf(\"%c\",str[i]);\n\t}\n\telse {\n\t\tif (n&1) printf(\"%c\",K&1?'B':'A');\n\t\tfor (int i=1;i<=n/2;i++) printf(\"BA\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define YES \"YES\"\n#define NO \"NO\"\n#define YESNO OUT(three(solve(),YES,NO))\n#define ECHO OUT(solve())\n#define three(A,B,C) ((A)?(B):(C))\n#define FOR(i,a,b)  for(LL i=(a);i< (LL)(b);i++)\n#define EFOR(i,a,b) for(LL i=(a);i<=(LL)(b);i++)\n#define RFOR(i,a,b) for(LL i=(b);i>=(LL)(a);i--)\n#define REP(i,b) FOR(i,zero,b)\n#define rep REP\n#define EREP(i,b) EFOR(i,zero,b)\n#define RREP(i,b) RFOR(i,b,zero)\n#define ALL(c) c.begin(),c.end()\n#define UNIQUE(c) sort(ALL(c));c.erase(unique(ALL(c)),c.end())\n#define MAX(c) (*max_element(ALL(c)))\n#define MIN(c) (*min_element(ALL(c)))\n#define MP make_pair\n#define FI first\n#define SE second\n#define SI(x) (LL(x.size()))\n#define PB push_back\n#define DEBUG(a) OUT(a)\n#define DEBUG2(a,b) OUT2(a,b)\n#define cat cout << __LINE__ << endl\n#define OUT(a) cout << (a) << endl\n#define OUT2(a,b) cout << (a) <<\" \"<<(b) << endl\n#define zero 0LL\n#define all ALL\n#define pb emplace_back\n#define eb pb\n#define int long long\nusing namespace std;\ntemplate<typename T> inline void maximize(T &a, T b) { a = max(a, b); }\ntemplate<typename T> inline void minimize(T &a, T b) { a = min(a, b); }\ntemplate<typename T> inline bool middle(T a, T b, T c) { return b <= a && a <= c; }\ntemplate<class T> inline bool MX(T &l, const T &r) { return l < r ? l = r, 1 : 0; }\ntemplate<class T> inline bool MN(T &l, const T &r) { return l > r ? l = r, 1 : 0; }\ntemplate<class T> inline bool chmax(int a, int b, T c, T d) { return c > d ? a : b; }\ntemplate<class T> inline bool chmin(int a, int b, T c, T d) { return c > d ? a : b; }\ntypedef int LL;\ntypedef double ld;\ntypedef int ut;\ntypedef vector<ut> VI;\ntypedef vector<VI> VII;\ntypedef pair<ut, ut> pr;\ntypedef pair<ut, pr> ppr;\ntypedef vector<pr> Vpr;\ntypedef vector<ppr> Vppr;\ntypedef tuple<int, int, int, int> tapu;\ntypedef vector<tapu> Vtapu;\ntypedef priority_queue<ppr, Vppr, greater<ppr> > PQ;\ninline void outputVI(VI x) { REP(i, SI(x)) { cout << three(i, \" \", \"\") << x[i]; }OUT(\"\"); }\nconst int SIZE1 = 3e5 + 1000;\nconst int SIZE2 = 2010;\nconst int SIZE3 = 430;\nconst int SIZE = SIZE1;\nconst int MAPSIZE = 40;\nconst LL p = 7 + 1e9;\nconst LL INF = 1LL << 60;\nconst long double EPS = 1e-7;\ntypedef pair<ld, ut> pld;\nut N, M, K, L, Q, D, H, W, R;\nVI edges[SIZE];\nLL vals[SIZE], answer = zero;\nLL maps[SIZE2][SIZE2];\n//LL A[SIZE];\nstring s;\nLL f() {\n\tint now = 0;\n\tint dir = 1;\n\twhile (now >= 0 and now < s.size()) {\n\t\tif (s[now] == 'A') {\n\t\t\ts[now] = 'B';\n\t\t\tnow-=dir;\n\t\t\tdir = -dir;\n\t\t}\n\t\telse {\n\t\t\ts[now] = 'A';\n\t\t\tnow+=dir;\n\t\t}\n\t}\n\treturn 0;\n}\nLL solve() {\n\tcin >> N >> K;\n\tcin >> s;\n\twhile (true) {\n\t\tf();\n\t\tcout << s << endl;\n\t\tcin >> N;\n\t}\n\treturn 0;\n}\n\n\n\n\n//!!!!!!!!!!!!!!!!!!!実装を詰める!!!!!!!!!!!!!!!!!!!!!!!!!\nsigned main() {\n\n\tios_base::sync_with_stdio(false);\n\tcout << fixed << setprecision(10);\n\tsolve();\n\n\n\t//cin >> N;\n\treturn 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MAXN\t600005\ntemplate <typename T> void read(T &x) {\n\tx = 0; int f = 1;\n\tchar c = getchar();\n\tfor (; !isdigit(c); c = getchar()) if (c == '-') f = -f;\n\tfor (; isdigit(c); c = getchar()) x = x * 10 + c - '0';\n\tx *= f;\n}\nint n, k;\nbool a[MAXN], x[MAXN], y[MAXN];\nchar s[MAXN];\nvoid print(bool *a) {\n\tfor (int i = 1; i <= n; i++)\n\t\tif (a[i]) printf(\"A\");\n\t\telse printf(\"B\");\n\tprintf(\"\\n\");\n}\nint main() {\n\tread(n), read(k);\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; i++)\n\t\ta[i] = s[i] == 'A';\n\tbool tag = false;\n\tint start = 1;\n\tif (k <= 2 * n) {\n\t\tfor (int i = 1; i <= k; i++) {\n\t\t\tif (tag ^ a[start]) {\n\t\t\t\ta[start] = !a[start];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\ttag = !tag;\n\t\t\ta[start + n] = !tag;\n\t\t\tstart++;\n\t\t}\n\t\tfor (int i = start; i < start + n; i++)\n\t\t\tif (tag ^ a[i]) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tfor (int i = 1; i <= 2 * n + 1; i++) {\n\t\tif (tag ^ a[start]) {\n\t\t\ta[start] = !a[start];\n\t\t\tcontinue;\n\t\t}\n\t\ttag = !tag;\n\t\ta[start + n] = !tag;\n\t\tstart++;\n\t}\n\tfor (int i = start; i < start + n; i++)\n\t\tx[i - start + 1] = tag ^ a[i];\n\tfor (int i = 2 * n + 2; i <= 2 * n + 2; i++) {\n\t\tif (tag ^ a[start]) {\n\t\t\ta[start] = !a[start];\n\t\t\tcontinue;\n\t\t}\n\t\ttag = !tag;\n\t\ta[start + n] = !tag;\n\t\tstart++;\n\t}\n\tfor (int i = start; i < start + n; i++)\n\t\ty[i - start + 1] = tag ^ a[i];\n\tk -= 2 * n;\n\tif (k & 1) print(x);\n\telse print(y);\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define ll long long\nusing ull = unsigned long long;\nusing namespace std;\n#define dump(x)                             \\\n    if (dbg) {                              \\\n        cerr << #x << \" = \" << (x) << endl; \\\n    }\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define FOR1(n) for (ll i = 0; i < (n); ++i)\n#define FOR2(i, n) for (ll i = 0; i < (n); ++i)\n#define FOR3(i, a, b) for (ll i = (a); i < (b); ++i)\n#define FOR4(i, a, b, c) for (ll i = (a); i < (b); i += (c))\n#define FOR(...) overload4(__VA_ARGS__, FOR4, FOR3, FOR2, FOR1)(__VA_ARGS__)\n#define FORR(i, a, b) for (int i = (a); i <= (b); ++i)\n#define bit(n, k) ((n >> k) & 1) /*nのk bit目*/\nnamespace mydef {\nconst int INF = 1ll << 60;\nconst int MOD = 1e9 + 7;\ntemplate <class T>\nbool chmin(T& a, const T& b) {\n    if (a > b) {\n        a = b;\n        return 1;\n    } else\n        return 0;\n}\ntemplate <class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    } else\n        return 0;\n}\nvoid Yes(bool flag = true) {\n    if (flag)\n        cout << \"Yes\" << endl;\n    else\n        cout << \"No\" << endl;\n}\nvoid No(bool flag = true) {\n    Yes(!flag);\n}\nvoid YES(bool flag = true) {\n    if (flag)\n        cout << \"YES\" << endl;\n    else\n        cout << \"NO\" << endl;\n}\nvoid NO(bool flag = true) {\n    YES(!flag);\n}\ntemplate <typename A, size_t N, typename T>\nvoid Fill(A (&array)[N], const T& val) {\n    std::fill((T*)array, (T*)(array + N), val);\n}\nbool dbg = false;\n}  // namespace mydef\nusing namespace mydef;\n#define pb push_back\n#define mp make_pair\n#define eb emplace_back\n#define lb lower_bound\n#define ub upper_bound\n#define all(v) (v).begin(), (v).end()\n#define SZ(x) ((int)(x).size())\n#define vi vector<int>\n#define vvi vector<vector<int>>\n#define vp vector<pair<int, int>>\n#define vvp vector<vector<pair<int, int>>>\n#define pi pair<int, int>\n//#define P pair<int, int>\n//#define V vector<int>\n//#define S set<int>\n#define asn ans\n\nint N, K;\nstring S;\n\nvoid solve() {\n    int parity = 0;\n    int now = 0;\n    while (K >= 1) {\n        int c = (S[now] + parity) % 2;\n        K--;\n        if (c == 0) {\n            //front = 'A'\n            S[now] ^= 1;\n        } else {\n            //front = 'B'\n            parity ^= 1;\n            now++;\n        }\n        if (now >= SZ(S)) {\n            string ans;\n            for (int i = 0; i < SZ(S); i++) {\n                ans.push_back(char(i % 2 + 'A'));\n            }\n            reverse(all(ans));\n            if (ans[0] == 'A' && K % 2)\n                ans[0] = 'B';\n            cout << ans << endl;\n            return;\n        }\n    }\n    int cnt = 0;\n    string ans;\n    for (int i = now; i < SZ(S); i++) {\n        ans.push_back(char((S[i] + parity) % 2 + 'A'));\n        cnt++;\n    }\n    string tmp;\n    int flag = 0;\n    for (int i = 0; i < SZ(S) - cnt; i++) {\n        tmp.push_back(char('A' + flag));\n        flag ^= 1;\n    }\n    reverse(all(tmp));\n    ans += tmp;\n    cout << ans << endl;\n}\n\nsigned main() {\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n\n    cin >> N >> K;\n    cin >> S;\n    for (auto& c : S)\n        c -= 'A';\n\n    solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main(){\n\tint n,k;\tcin>>n>>k;\n\tstring s;\tcin>>s;\n\t//BABABA→BABABA\n\t//ABABA→BBABA→ABABAを利用\n\tstring tar=\"\";\n\tif(n%2==0){\n\t\tfor(int i=0;i<n;i++)\ttar+=(i%2?\"A\":\"B\");\n\t}\n\telse{\n\t\tfor(int i=0;i<n;i++)\ttar+=(i%2?\"B\":\"A\");\n\t}\n\tbool dir;\n\tint pos;\n\twhile(tar!=s&&k){\n\t\tk--;\n\t\tdir=true;\n\t\tpos=0;\n\t\twhile(0<=pos&&pos<n){\n\t\t\tif(s[pos]=='A'){\n\t\t\t\ts[pos]='B';\n\t\t\t\tdir^=1;\n\t\t\t}\n\t\t\telse\ts[pos]='A';\n\t\t\tif(dir)\tpos++;\n\t\t\telse \tpos--;\n\t\t}\n\t}\n\tif(k==0)\tcout<<s<<endl;\n\telse{\n\t\tif(n%2){\n\t\t\tif(k%2)\ts[0]='B';\n\t\t\tcout<<s<<endl;\n\t\t}\n\t\telse \tcout<<s<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <set>\n#include <map>\n#include <unordered_map>\n#include <unordered_set>\n#include <cstring>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <random>\n#include <iomanip>\n#include <functional>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n  ios_base::sync_with_stdio(false); cin.tie(0);\n#ifdef LOCAL\n  freopen(\"input.txt\", \"r\", stdin);\n#endif\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  string sf = s;\n  for (int i = 0; i < k; ++i) {\n    /*int pos = 0;\n    int dir = 1;\n    while (0 <= pos && pos < n) {\n      if (s[pos] == 'A') {\n        s[pos] = 'B';\n        dir *= -1;\n        pos += dir;\n      } else {\n        s[pos] = 'A';\n        pos += dir;\n      }\n    }*/\n    string t = sf;\n    if (sf[0] == 'A') sf[0] = 'B';\n    else {\n      for (int i = 0; i + 1 < n; ++i) {\n        if (sf[i] == sf[i + 1]) {\n          if (sf[i] == 'A') sf[i] = 'B';\n          else sf[i] = 'A';\n        }\n      }\n      if (sf[n - 1] == 'B') sf[n - 1] = 'A';\n    }\n    if (t == sf) break;\n  }\n  cout << sf << '\\n';\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }\n        // if(i % 10000000 == 0 && clk.now() - start > 1900ms){\n        if(i % 100000000 == 0){\n            // break;\n            bool fin = true, prev = !ss[idx];\n            for(int i=0;i<n;i++){\n                if(prev == ss[(idx + i) % n]){\n                    fin = false;\n                    break;\n                }else{\n                    prev = !prev;\n                }\n            }\n            if(fin){\n                break;\n            }\n        }\n    }\n    for(int i=0;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <cstdlib>\n#include <set>\n#include <queue>\nusing namespace std;\n\n#define X first\n#define Y second\n#define Mod 1000000009\n#define N 1000010\n#define M 101\n\ntypedef long long ll;\n\nconst int INF=1<<30;\nint n,K,f,r;\nchar s[N];\nbool flag;\n\nvoid Work()\n{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[f]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts[++r]='A';\n\t\t\t\tf++;\n\t\t\t}\n\t\t\telse s[f]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[f]=='A') s[f]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts[++r]='B';\n\t\t\t\tf++;\n\t\t\t}\n\t\t}\n}\n\nint main()\n{\n\t//freopen(\"in.in\",\"r\",stdin);\n\t//freopen(\"out.out\",\"w\",stdout);\n\t\n\tcin >> n >> K; scanf(\"%s\",s);\n\tf=0,r=n-1;\n\tfor (int i=1;i<=2*n;i++)\n\t{\n\t\tif (K==0) break; K--;\n\t\tWork();\n\t}\n\tif (K&1) Work();\n\tif (flag) for (int i=f;i<=r;i++) printf(\"%c\",s[i]=='A'? 'B':'A');\n\telse for (int i=f;i<=r;i++) printf(\"%c\",s[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#if 0\ndate +%Y.%m.%d\n\n这。。。O(k) 能过？\n我本来只是想验证个猜想来着，一不小心就 AC 了。。。\n\n不难归纳出串 S 经过一次碰撞后有两种情况：\n1) S 的开头就是 A ，球直接弹飞，S 的开头变为 B\n2) S 的开头不是 A ，球一定可以经过所有点，此后 S 取反后循环左移一位即为新的 S\n#endif\n#include <cstdio>\n#define debug(...) fprintf(stderr, __VA_ARGS__)\n\ntypedef long long ll;\n\nstruct {\n\tinline operator int () { int x; return scanf(\"%d\", &x), x; }\n\tinline operator ll () { ll x; return scanf(\"%lld\", &x), x; }\n\ttemplate<class T> inline void operator () (T &x) { x = *this; }\n\ttemplate<class T, class ...A> inline void operator () (T &x, A &...a)\n\t{ x = *this; this -> operator ()(a...); }\n} read;\n\nconst int maxn = 200005;\nchar s[maxn];\n\nint main() {\n\tint n = read, k = read;\n\tscanf(\"%s\", s + 1);\n\n\tint p = 1, A = 'A';\n\twhile(k --) {\n\t\tif(s[p] == A)\n\t\t\ts[p] = 'A' + 'B' - s[p];\n\t\telse {\n\t\t\tA = 'A' + 'B' - A;\n\t\t\t++ p;\n\t\t\tif(p > n) p = 1;\n\t\t}\n\t}\n\n\tfor(int i = p; i <= n; i ++)\n\t\tprintf(\"%c\", \"BA\"[s[i] == A]);\n\tfor(int i = 1; i < p; i ++)\n\t\tprintf(\"%c\", \"BA\"[s[i] == A]);\n\tputs(\"\");\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define LL long long\n#define LD long double\n#define SC(t,x) static_cast<t>(x)\n#define AR(t) vector < t >\n#define PII pair < int, int >\n#define PLL pair < LL, LL >\n#define PIL pair < int, LL >\n#define PLI pair < LL, int >\n#define MP make_pair\n#define PB push_back\n#define PF push_front\n#define POB pop_back\n#define POF pop_front\n#define PRF first\n#define PRS second\n#define INIT(ar,val) memset ( ar, val, sizeof ( ar ) )\n#define lp(loop,start,end) for ( int loop = start; loop < end; ++loop )\n#define lpd(loop,start,end) for ( int loop = start; loop > end; --loop )\n#define lpi(loop,start,end) for ( int loop = start; loop <= end; ++loop )\n#define lpdi(loop,start,end) for ( int loop = start; loop >= end; --loop )\n#define qmax(a,b) (((a)>(b))?(a):(b))\n#define qmin(a,b) (((a)<(b))?(a):(b))\n#define qabs(a) (((a)>=0)?(a):(-(a)))\n\nconst int INF = 0x3fffffff;\nconst int SINF = 0x7fffffff;\nconst long long LINF = 0x3fffffffffffffff;\nconst long long SLINF = 0x7fffffffffffffff;\nconst int MAXN = 1000007;\n\nint n, K, ki, kc;\nchar s[MAXN];\nint a[MAXN];\nchar ans[MAXN];\n\nvoid init ();\nvoid input ();\nvoid work ();\n\nvoid fill ( int l, int r )\n{\n\tlpi ( i, l, r ) ans[i] = 'B';\n}\n\n\n\nint main()\n{\n\tinit();\n\tinput();\n\twork();\n}\n\n\n\nvoid init ()\n{\n\t// Init Everything Here\n\t\n\tios::sync_with_stdio ( false );\n}\n\nvoid input ()\n{\n\t// input method\n\t\n\tscanf ( \"%d%d%s\", &n, &K, s+1 );\n}\n\nvoid work ()\n{\n\t// main work\n\t\n\tn = strlen ( s+1 );\n\tki = 0;\n\tint cbl = -1;\n\tlpi ( i, 1, n ){\n\t\tif ( s[i] == 'B' ){\n\t\t\tif ( cbl == -1 ) cbl = i;\n\t\t}else{\n\t\t\tif ( ~cbl ) a[ki<<1] = cbl, a[ki<<1|1] = i - 1, ++ki, cbl = -1;\n\t\t}\n\t}\n\t\n\tfor ( int i = ki<<1; i < MAXN; i += 2 ) a[i] = a[i+1] = n + 1 + ( i - ( ki << 1 ) );\n\t\n//\tlp ( i, 0, ki+10 ) cerr << a[i] << \" \";\n//\tcerr << endl;\n\t\n\tint nk = 0, cl = a[0], cr = a[1];\n\tlpi ( _t, 1, K ){\n\t\tif ( cl > 1 ){\n\t\t\tif ( cr > 2 ){\n\t\t\t\tcl = cr = 1;\n\t\t\t\t--nk;\n\t\t\t}else --cl;\n\t\t}else{\n\t\t\t++kc;\n\t\t\tcl = cr, cr = a[(nk<<1)+kc+1] - ( ( kc + 1 ) & ~1 );\n\t\t}\n\t\t\n\t\tif ( kc == ( ( n + 7 ) << 1 ) ){\n\t\t\tif ( n & 1 ){\n\t\t\t\tif ( ( K - _t ) & 1 ) putchar ( 'B' );\n\t\t\t\telse putchar ( 'A' );\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}else{\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tfill ( ans+1, ans+1+n, 'A' );\n\tfill ( cl, cr );\n\tlp ( i, nk+1, ki ){\n\t\tfill ( a[(i<<1)+kc] - ( kc & ~1 ), a[(i<<1)+kc+1] - ( ( kc + 1 ) & ~1 ) );\n\t}\n\t\n\tprintf ( \"%s\\n\", ans+1 );\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 200005;\n\nchar str[MAXN];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", str+1);\n\tfor (int i = 1; i <= n; i++) str[i] -= 'A';\n\tint cnt = 0, cur = str[1], cc = 0;\n        for (int i = 1; i <= k && cnt <= n; i++) {\n\t\tcc++;\n\t\tif (cur == 0) {\n\t\t\tcur ^= 1;\n\t\t} else {\n\t\t\tcnt++;\n\t\t\tcur = str[cnt+1]^(cnt&1);\n\t\t}\n\t}\n\tif (k > cc) {\n\t\tk = (k-cc)&1;\n\t\tif (k == 1 && (n&1))\n\t\t\tcur ^= 1;\n\t}\n\tstr[n+1] = 'B';\n\tputchar('A'+cur);\n\tfor (int i = 2; i <= n; i++) {\n\t\tif (i+cnt <= n) putchar('A'+(str[i+cnt]^(cnt&1)));\n\t\telse putchar(((n-i)&1)?'B':'A');\n\t}\n\tputs(\"\"); \n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 2e5;\n\nint n, k, w, p;\nint a[N + 1];\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tfor (int i = 1; i <= n; i++) {\n\t\tchar c = getchar();\n\t\tif (c == 'A')\n\t\t\ta[i] = 0;\n\t\telse\n\t\t\ta[i] = 1;\n\t}\n\n\tfor (w = 1; w <= k; w++) {\n\t\tint now = 1, la = 0;\n\t\twhile (now >= 1 && now <= n) {\n\t\t\tif (a[now] == 0) {\n\t\t\t\tif (la < now) {\n\t\t\t\t\tla = now;\n\t\t\t\t\tnow--;\n\t\t\t\t} else {\n\t\t\t\t\tla = now;\n\t\t\t\t\tnow++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (la < now) {\n\t\t\t\t\tla = now;\n\t\t\t\t\tnow++;\n\t\t\t\t} else {\n\t\t\t\t\tla = now;\n\t\t\t\t\tnow--;\n\t\t\t\t}\n\t\t\t}\n\t\t\ta[la] ^= 1;\n\t\t}\n\t\tbool flag = true;\n\t\tif (n & 1) {\n\t\t\tfor (int j = 2; j <= n; j++) {\n\t\t\t\tif ((j & 1) && a[j])\n\t\t\t\t\tflag = false;\n\t\t\t\tif ((!(j & 1)) && !a[j])\n\t\t\t\t\tflag = false;\n\t\t\t\tif (!flag)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (flag) {\n\t\t\t\tp = a[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tfor (int j = 1; j <= n; j++) {\n\t\t\t\tif ((j & 1) && !a[j])\n\t\t\t\t\tflag = false;\n\t\t\t\tif ((!(j & 1)) && a[j])\n\t\t\t\t\tflag = false;\n\t\t\t\tif (!flag)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (flag)\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w > k) {\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tif (a[i] == 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (!(n & 1)) {\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t} else {\n\t\tw--;\n\t\tk -= w;\n\t\tif (k & 1)\n\t\t\tp ^= 1;\n\t\tif (p)\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"trapv\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nstring s;\nvoid go() {//naive\n\tint i = 0, v = 1;\n\twhile(i>=0&&i<n) {\n\t\tif(s[i] == 'A') v=-v;\n\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t\ti += v;\n\t}\n\tcout << (i<0?'L':'R') << \" \";\n}\nstring get(int n, int k, string s) {\n\tfor(auto &i : s) i -= 'A';\n\tk = min(k, 100000000);\n\tint l = 0, r = n - 1, a = 0;\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\tr = ++r == n ? 0 : r;\n\t\t\t//cout << l << \" \" << (l ? l-1 : n-1) << \" \" <<char('A' + (s[l]^a)) << \" \" << char('A' + (s[l ? l-1 : n-1]^a)) << '\\n';\n\t\t\ta ^= 1;\n\t\t\ts[r] = a;\n\t\t}\n\t}\n\tr++;\n\tstring res = \"\";\n\twhile(true) {\n\t\tres += char('A' + (s[l++]^a));\n\t\tif(l == r) break;\n\t\tif(l == n) l = 0;\n\t}\n\treturn res;\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k >> s;\n\tcout << (get(n, k, s));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define LL long long\n#define ULL unsigned long long\n#define mp make_pair\n#define pb push_back\n#define pii pair<int,int>\n#define pll pair<LL,LL>\n#define x first\n#define y second\n#define pi acos(-1)\n#define sqr(x) ((x)*(x))\n#define pdd pair<double,double>\n#define MEMS(x) memset(x,-1,sizeof(x))\n#define MEM(x) memset(x,0,sizeof(x))\n#define less Less\n#define EPS 1e-4\n#define arg ARG\n#define cpdd const pdd\n#define rank Rank\n#define KK 500\n#define MXN 200005\nint main(){\n    int n,k;\n    scanf(\"%d %d\",&n,&k);\n    char c[200005];\n    scanf(\"%s\",c);\n    queue<int> q;\n    for(int i= 0;i<n;i++){\n        if(c[i]=='A')q.push(0);\n        else q.push(1);\n    }\n    //printf(\"%d\\n\",q.front());\n    //q.front()^=1;\n    //printf(\"%d\\n\",q.front());\n    int flag=0;\n    for(int i = 0;i<2*n;i++){\n        k--;\n        if(q.front()^flag){\n            q.pop();\n            flag^=1;\n            q.push(flag);\n        }\n        else{\n            q.front()^=1;\n        }\n        if(k==0){\n            break;\n        }\n    }\n    if(n%2){\n        if(k&1)q.front()^=1;\n    }\n    while(q.size()){\n        printf(\"%c\",(q.front()^flag)+'A');\n        q.pop();\n    }\n    printf(\"\\n\");\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nint n, k;\nstring s;\n\n//count how long moving t frames takes\nll comp(ll t) {\n\tll ct = 0;\n\tfor (int i = 0; i < min(t, 1LL*n); ++i) {\n\t\tif (i%2 == 0)\n\t\t\tct += (s[i] == 'A')+1;\n\t\telse\n\t\t\tct += (s[i] == 'B')+1;\n\t}\n\n\tif (t <= n)\n\t\treturn ct;\n\treturn ct+(t-n)+(t-1)/2-n/2;\n}\n\nstring trans(string g) {\n\tif (g[0] == 'A')\n\t\tg[0] = 'B';\n\telse {\n\t\tstring h = \"\";\n\t\tfor (int i = 1; i < g.length(); ++i) {\n\t\t\tif (g[i] == 'A')\n\t\t\t\th += 'B';\n\t\t\telse\n\t\t\t\th += 'A';\n\t\t\th += 'A';\n\t\t\tg = h;\n\t\t}\n\t}\n\n\treturn g;\n}\n\nstring move(int t) {\n\tstring h = \"\";\n\tfor (int i = t; i <= t+n-1; ++i) {\n\t\tif (i < n) {\n\t\t\tint y = 'A'+'B';\n\t\t\tif (t%2 == 0)\n\t\t\t\th += s[i];\n\t\t\telse\n\t\t\t\th += y-s[i];\n\t\t} else {\n\t\t\tif ((t+n-1-i)%2 == 0)\n\t\t\t\th += 'A';\n\t\t\telse\n\t\t\t\th += 'B';\n\t\t}\n\t}\n\n\treturn h;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\n\tcin >> n >> k >> s;\n\tll lo = 0, hi = 1e9;\n\n\twhile (lo != hi) {\n\t\tint mid = (lo+hi+1)/2;\n\t\tif (comp(mid) > k)\n\t\t\thi = mid-1;\n\t\telse\n\t\t\tlo = mid;\n\t}\n\n\ts = move(lo);\n\tif (comp(lo) == k-1)\n\t\tcout << trans(s) << endl;\n\telse\n\t\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define ll long long\nusing ull = unsigned long long;\nusing namespace std;\n#define dump(x)                             \\\n    if (dbg) {                              \\\n        cerr << #x << \" = \" << (x) << endl; \\\n    }\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define FOR1(n) for (ll i = 0; i < (n); ++i)\n#define FOR2(i, n) for (ll i = 0; i < (n); ++i)\n#define FOR3(i, a, b) for (ll i = (a); i < (b); ++i)\n#define FOR4(i, a, b, c) for (ll i = (a); i < (b); i += (c))\n#define FOR(...) overload4(__VA_ARGS__, FOR4, FOR3, FOR2, FOR1)(__VA_ARGS__)\n#define FORR(i, a, b) for (int i = (a); i <= (b); ++i)\n#define bit(n, k) ((n >> k) & 1) /*nのk bit目*/\nnamespace mydef {\nconst int INF = 1ll << 60;\nconst int MOD = 1e9 + 7;\ntemplate <class T>\nbool chmin(T& a, const T& b) {\n    if (a > b) {\n        a = b;\n        return 1;\n    } else\n        return 0;\n}\ntemplate <class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    } else\n        return 0;\n}\nvoid Yes(bool flag = true) {\n    if (flag)\n        cout << \"Yes\" << endl;\n    else\n        cout << \"No\" << endl;\n}\nvoid No(bool flag = true) {\n    Yes(!flag);\n}\nvoid YES(bool flag = true) {\n    if (flag)\n        cout << \"YES\" << endl;\n    else\n        cout << \"NO\" << endl;\n}\nvoid NO(bool flag = true) {\n    YES(!flag);\n}\ntemplate <typename A, size_t N, typename T>\nvoid Fill(A (&array)[N], const T& val) {\n    std::fill((T*)array, (T*)(array + N), val);\n}\nbool dbg = false;\n}  // namespace mydef\nusing namespace mydef;\n#define pb push_back\n#define mp make_pair\n#define eb emplace_back\n#define lb lower_bound\n#define ub upper_bound\n#define all(v) (v).begin(), (v).end()\n#define SZ(x) ((int)(x).size())\n#define vi vector<int>\n#define vvi vector<vector<int>>\n#define vp vector<pair<int, int>>\n#define vvp vector<vector<pair<int, int>>>\n#define pi pair<int, int>\n//#define P pair<int, int>\n//#define V vector<int>\n//#define S set<int>\n#define asn ans\n\nint N, K;\nstring S;\n\nvoid solve() {\n    int parity = 0;\n    int now = 0;\n    while (K >= 1) {\n        int c = (S[now] + parity) % 2;\n        K--;\n        if (c == 0) {\n            //front = 'A'\n            S[now] ^= 1;\n        } else {\n            //front = 'B'\n            parity ^= 1;\n            now++;\n        }\n        if (now >= SZ(S)) {\n            for (int i = 0; i < SZ(S); i++) {\n                cout << char((SZ(S) + i + 1) % 2 + 'A');\n            }\n            cout << endl;\n            return;\n        }\n    }\n    int cnt = 0;\n    string ans;\n    for (int i = now; i < SZ(S); i++) {\n        ans.push_back(char((S[i] + parity) % 2 + 'A'));\n        cnt++;\n    }\n    string tmp;\n    int flag = 0;\n    for (int i = 0; i < SZ(S) - cnt; i++) {\n        tmp.push_back(char('A' + flag));\n        flag ^= 1;\n    }\n    reverse(all(tmp));\n    ans += tmp;\n    cout << ans << endl;\n}\n\nsigned main() {\n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n\n    cin >> N >> K;\n    cin >> S;\n    for (auto& c : S)\n        c -= 'A';\n\n    solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define mp make_pair\n#define sz(x) (int)(x).size()\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define ii pair<int,int>\n#define INF 1000000000\n#define INFLL 1000000000000000010ll\n#define UQ(x) (x).resize(distance((x).begin(),unique(all((x)))))\n#define mid(x,y) (((x)+(y))>>1)\nint n,k;\nchar s[200005];\nint h,flip=0;\ndeque<int> d;\nint get() {\n\treturn (h^flip);\n}\nvoid put(int x) {\n\th=x^flip;\n}\nvoid pad() {\n\tif (sz(d)%2) {\n\t\tif (get()==0) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t} else {\n\t\tif (get()==1) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t}\n}\nvoid output() {\n\tint sum=0;\n\tint let=get();\n\tfor (int i=0;i<sz(d);i++) {\n\t\tsum+=d[i];\n\t\tfor (int j=0;j<d[i];j++) {\n\t\t\tprintf(\"%c\", let?'B':'A');\n\t\t}\n\t\tlet^=1;\n\t}\n\tprintf(\"\\n\");\n\tassert(sum==n);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tif (n==1) {\n\t\tif (k%2) {\n\t\t\tif (s[0]=='A') printf(\"B\\n\");\n\t\t\telse printf(\"A\\n\");\n\t\t} else {\n\t\t\tif (s[0]=='A') printf(\"A\\n\");\n\t\t\telse printf(\"B\\n\");\n\t\t}\n\t\treturn 0;\n\t}\n\tif (k>2000000) {\n\t\tfor (int i=0;i<n;i++) {\n\t\t\tprintf(\"%c\", (i%2)?'A':'B');\n\t\t}\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tint cur=1;\n\tchar v=s[0];\n\tfor (int i=1;i<n;i++) {\n\t\tif (s[i]==v) cur++;\n\t\telse {\n\t\t\td.pb(cur);\n\t\t\tcur=1;\n\t\t\tv=s[i];\n\t\t}\n\t}\n\td.pb(cur);\n\th=(s[0]=='B');\n\tfor (int kk=0;kk<k;kk++) {\n\t\tif (get()==0) {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(1);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\t++d[0];\n\t\t\t\t\tput(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\td.push_front(1);\n\t\t\t\tput(1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(0);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\tput(0);\n\t\t\t\t\tflip^=1;\n\t\t\t\t\tpad();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\tflip^=1;\n\t\t\t\tpad();\n\t\t\t}\n\t\t}\n\t}\n\toutput();\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nconst int N=200200;\nint i,j,k,n,m;\nchar s[N],ans[N];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tj=1;\n\tfor (i=n;i;i--) {\n\t\tif ((n-i)&1) ans[i]='B';\n\t\telse ans[i]='A';\n\t}\n\tfor (i=1;i<=m;i++) {\n\t\tif (s[j]=='A') {\n\t\t\ts[j]='B';\n\t\t\tcontinue;\n\t\t}\n\t\telse {\n\t\t\tif (++j>n) break;\n\t\t\tif (!(j&1)) s[j]='A'+'B'-s[j];\n\t\t}\n\t}\n\tfor (i=j;i<=n;i++) {\n\t\tif (!(j&1) && i!=j) s[i]='A'+'B'-s[j];\n\t\tans[i-j+1]=s[i];\n\t}\n\tprintf(\"%s\\n\",ans+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define fo(i,a,b) for(i=a;i<=b;i++)\nusing namespace std;\nconst int maxn=200000+10;\nchar s[maxn],h[maxn];\nint i,j,k,l,t,n,m,cnt,num;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfo(i,1,n)\n\t\tif (s[i]=='A') s[i]='1';else s[i]='0';\n\ti=1;\n\tfo(l,1,2*n+10){\n\t\tt=s[i]-'0';\n\t\tif (t^cnt) s[i]=(1-t)+'0';\n\t\telse{\n\t\t\tcnt^=1;\n\t\t\tnum^=1;\n\t\t\ti++;\n\t\t}\n\t\tif (l==k){\n\t\t\tfo(j,i,n){\n\t\t\t\tt=s[j]-'0';\n\t\t\t\tif (t^cnt) printf(\"A\");else printf(\"B\");\n\t\t\t}\n\t\t\tfo(j,1,i-1){\n\t\t\t\tif (num) printf(\"A\");else printf(\"B\");\n\t\t\t\tnum^=1;\n\t\t\t}\n\t\t}\n\t\tif (i>n) break;\n\t}\n\tif (l<k){\n\t\tif (!num){\n\t\t\tfo(i,1,n)\n\t\t\t\tif (i%2==1) printf(\"B\");else printf(\"A\");\n\t\t\treturn 0;\n\t\t}\n\t\tfo(i,1,n){\n\t\t\tif (num) h[i]='A';else h[i]='B';\n\t\t\tnum^=1;\n\t\t}\n\t\tif (l%2!=k%2){\n\t\t\tif (h[1]=='A') h[1]='B';else h[1]='A';\n\t\t}\n\t\tfo(i,1,n) printf(\"%c\",h[i]);\n\t\treturn 0;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#define repu(i,x,y) for (int i=x; i<=y; ++i)\nusing namespace std;\n\nint n,k,sum;\nchar s[200100];\n\nint main()\n{\n    scanf(\"%d%d%s\",&n,&k,s+1),sum=-1;\n    repu(i,1,n)\n    {\n        if (++sum==k)\n        {\n            repu(j,i,n)\n                putchar(((s[j]-'A')^(i&1)^1)+'A');\n            repu(j,1,i-1)\n                putchar(((j&1)^(i&1)^1)+'A');\n            return 0;\n        }\n        if ((s[i]-'A')^(i&1) && ++sum==k)\n        {\n            putchar('B');\n            repu(j,i+1,n)\n                putchar(((s[j]-'A')^(i&1)^1)+'A');\n            repu(j,1,i-1)\n                putchar(((j&1)^(i&1)^1)+'A');\n            return 0;\n        }\n    }\n    if (n&1)\n    {\n        putchar((k-sum)&1?'A':'B');\n        repu(i,2,n)\n            putchar('B'-(i&1));\n    }\n    else\n        repu(i,1,n)\n            putchar('A'+(i&1));\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//Keep pluggin',this is your only outlet.\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cctype>\n#include<cassert>\n#define MM(x,y) memset(x,y,sizeof(x))\n#define MCPY(a,b) memcpy(a,b,sizeof(b))\n#define pb push_back\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,b,a) for(int i=b;i>=a;i--)\n#define fi first\n#define mp make_pair\n#define se second\nusing namespace std;\n//#define int long long\n\ninline int quickpow(int m,int n,int p){int b=1;while(n){if(n&1)b=b*m%p;n=n>>1;m=m*m%p;}return b;}\ninline int quickmul(int x,int y,int mod){return (x*y-(int)((long double)x/mod*y)*mod+mod)%mod;}\ninline int getinv(int x,int p){return quickpow(x,p-2,p);}\ninline int read(void){\n    int x=0,f=1;char ch=getchar();\n    while(!isdigit(ch)){f=ch=='-'?-1:1;ch=getchar();}\n    while(isdigit(ch)){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n    return x * f;\n}\n\nconst int MAXN = 2e5 + 100;\n\nchar s[MAXN];\nint n,k,a[MAXN<<2],l,r,p = 0;\n\n///------------------head------------------\nsigned main(signed argc, char *argv[]){\n    n = read(),k = read();\n    scanf(\"%s\",s+1);\n    rep(i,1,n) a[i] = s[i] - 'A';\n    l = 1,r = n;\n    for (int i = 1; i <= (n << 1); ++i) {\n        if ((a[l]^p) == 0) a[l] ^= 1;\n        else ++l,++r,p^=1,a[r] = 1;\n        if (i == k) {\n            //cerr << l << ' ' << r << endl;\n            for (int j = l; j <= r; ++j)\n            printf(\"%c\",(a[j]^p) + 'A');\n            return 0;\n        }\n    }\n    int lst = a[r] ^ p,d = k & 1;\n    for (int i = l; i <= r; ++i)\n        printf(\"%c\",(lst^(d^1)^((i-l)&1))+'A');\n    return 0;\n}\n\n/* Examples: */\n/*\n\n*/\n\n/*\n\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t\treturn 1;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0&&d[1]==0){  //B\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n#include <vector>\n#include <algorithm>\n\nint main(void) {\n    int n, K;\n    std::string S;\n    std::vector<char> s;\n\n    std::cin >> n;\n    std::cin >> K;\n    std::cin >> S;\n\n    s.resize(n);\n    for (int i = 0; i < n; i++) {\n        s[i] = S[i] - 'A';\n    }\n\n    for (int k = 0; k < K; k++) {\n        if (s[0] == 0) {\n            s[0] = 1;\n        } else {\n            for (int i = 0; i < n-1; i++) {\n                if (s[i] == s[i+1]) {\n                    s[i] ^= 1;\n                }\n            }\n        }\n    }\n\n    for (int i = 0; i < n; i++) {\n        std::cout << static_cast<char>(s[i] + 'A');\n    }\n    std::cout << std::endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<queue>\n#include<assert.h>\n#include<tuple>\n#include<string>\n#include<algorithm>\n#include<iostream>\n#include<map>\n#include<string.h>\n#include<vector>\n#include<math.h>\n#include<stdlib.h>\n#include<set>\n#include<ctype.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<double, double> pdd;\ntypedef tuple<int,int,int> t3;\n\nconst int MX = 200005;\nconst int MM = 1000000007;\n\nchar buf[MX];\nint N, K, flip;\nqueue<int> Q;\n\nvoid push(int x){\n\tQ.push(flip^x);\n}\n\nint pop(){\n\tint v = Q.front()^flip; Q.pop();\n\treturn v;\n}\n\nint main()\n{\n\tscanf(\"%d%d%s\", &N, &K, buf+1);\n\tfor(int i = 1; i <= N; i++) Q.push(buf[i] == 'A');\n\tfor(int i = 1; i <= K && i <= 2*N; i++){\n\t\tif( Q.front()^flip ) Q.front() ^= 1;\n\t\telse{\n\t\t\tQ.pop();\n\t\t\tflip ^= 1;\n\t\t\tpush(1);\n\t\t}\n\t}\n\tif( K > 2*N && N%2 == 1 && (K-2*N)%2 == 1) Q.front() ^= 1;\n\twhile(Q.size()){\n\t\tprintf(\"%c\", Q.front()^flip? 'A' : 'B');\n\t\tQ.pop();\n\t}\n\tprintf(\"\\n\");\n}\n"
  },
  {
    "language": "C++",
    "code": "/* be name khoda */\n\n// #define stream_enable\n// #define long_enable\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <numeric>\n#include <iomanip>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\nusing namespace std;\n\n#ifdef stream_enable\n#define cin sss\n#endif\n#ifdef long_enable\ntypedef long long int ll;\n#else\ntypedef int ll;\n#endif\n\ntypedef pair<ll, ll> pii;\ntypedef pair<pii, ll> ppi;\ntypedef pair<ll, pii> pip;\ntypedef vector<ll> vi;\ntypedef vector<pii> vpii;\n\nconst ll MOD = 1000000007;\nconst long long BIG = 1446803456761533460;\nconst int Big = 336860180;\n\n#define F first\n#define S second\n#define pb push_back\n#define eb emplace_back\n#define all(x) (x).begin(), (x).end()\n\n#define debug(x) cout << #x << \" -> \" << (x) << endl\n#define debug2(x, y) cout << #x << ' ' << #y << \" -> \" << (x) << ' ' << (y) << endl\n#define debug3(x, y, z) cout << #x << ' ' << #y << ' ' << #z << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << endl\n#define debug4(x, y, z, t) cout << #x << ' ' << #y << ' ' << #z << ' ' << #t << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << ' ' << (t) << endl\n#define debugp(x) cout << #x << \" -> \" << \"(\" << (x).F << \", \" << (x).S << \")\" << endl\n#define debuga(x, n) cout << #x << \" -> \"; fori (i1_da, n) { cout << (x)[i1_da] << ' '; } cout << endl\n#define debugap(x, n) cout << #x << \" ->\\n\"; fori (i1_dap, n) { cout << \"(\" << (x)[i1_dap].F << \", \" << (x)[i1_dap].S << \")\\n\"; } cout << endl\n#define debugaa(x, n, m) cout << #x << \" ->\\n\"; fori (i1_daa, n) { fori (i2_daa, m) { cout << (x)[i1_daa][i2_daa] << ' '; } cout << '\\n'; } cout << endl\n#define debugav(x, n) cout << #x << \" ->\\n\"; fori (i1_dav, n) { fori (i2_dav, (x)[i1_dav].size()) { cout << (x)[i1_dav][i2_dav] << ' '; } cout << '\\n'; } cout << endl\n#define debugia(x, n) cout << #x << \" ->\\n\"; fori (i1_dia, n) { cout << i1_dia << \" : \" << (x)[i1_dia] << '\\n'; } cout << endl\n\n#define forifrom(i, s, n) for(ll i = (s); i < (n); ++i)\n#define forirto(i, n, e) for(ll i = (n) - 1; i >= (e); --i)\n#define fori(i, n) forifrom (i, 0, n)\n#define forir(i, n) forirto (i, n, 0)\n\n#define smin(a, b) a = min(a, (b))\n#define smax(a, b) a = max(a, (b))\n\n#define Add(a, b) a = ((a) + (b)) % MOD\n#define Mul(a, b) a = (1LL * (a) * (b)) % MOD\n\nstringstream sss;\n\n// -----------------------------------------------------------------------\n\nconst ll maxn = 200010;\n\nll n, k;\nll S[maxn];\n\nvoid MAIN() {\n\n    cin >> n >> k;\n    fori (i, n) {\n        char c; cin >> c;\n        S[i] = c == 'A';\n    }\n    ll I = 0, R = 0;\n    fori (i, min(k, n * 2)) {\n        if (S[R] ^ I) S[R] ^= 1;\n        else I ^= 1, R = (R + 1) % n;\n    }\n    if (k > n * 2 && n % 2) S[R] ^= k & 1;\n    fori (i, n) cout << ((S[(i + R) % n] ^ I) ? 'A' : 'B');\n    cout << '\\n';\n\n}\n\n// -----------------------------------------------------------------------\n\nint main() {\n    ios_base::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n    cout << fixed << setprecision(10);\n    sss << R\"(\n5 2\nABAAA\n    )\";\n    MAIN();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    // chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<int> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, fflip = false;;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx++;\n            if(idx == n){ idx = 0; }\n        }\n        // if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n        //     if(n % 2 && (k - i - 1) % 2){\n        //         fflip = true;\n        //     }\n        //     break;\n        // }\n    }\n    cout << (fflip ^ flip ^ ss[idx] ? 'A' : 'B');\n    for(int i=1;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n#include <string>\n\nusing namespace std;\n\nvoid ope(queue<int>& que, int& A) {\n    if (que.front() == A) {\n        que.front() = 1 - que.front();\n    } else {\n        que.push(que.front());\n        que.pop();\n        A = 1 - A;\n    }\n}\n\nint main() {\n    int N, K;\n    string S;\n    cin >> N >> K >> S;\n\n    queue<int> que;\n    for (char c : S) que.push(c - 'A');\n    int A = 0;  // 今どっちの文字がAか\n    int q;\n    for (q = 0; q < min(N * 4, K); ++q) ope(que, A);\n\n    // Nが奇数ならBABA...BAをループ\n    // Nが偶数ならABAB...BA <-> BBAB...BAをループ\n    if (q < K && N % 2 == 0 && (K - q) % 2 == 1) ope(que, A);\n\n    while (!que.empty()) {\n        cout << (que.front() == A ? 'A' : 'B');\n        que.pop();\n    }\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\nstring S;\nstring T;\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>S;\n\t\n\tint pos=0,rev=0,revn=0;\n\twhile(K-->0){\n\t\t\n\t\tif((S[pos]=='A') ^ rev ^ revn) {\n\t\t\trevn^=1;\n\t\t}\n\t\telse {\n\t\t\tpos++;\n\t\t\trevn = 0;\n\t\t\trev ^=1;\n\t\t}\n\t\tif(pos==N) break;\n\t}\n\t\n\tstring R;\n\tif(pos==N) {\n\t\twhile(R.size()<N) {\n\t\t\tif((N-R.size())%2==1) R+='A';\n\t\t\telse R+='B';\n\t\t}\n\t\tif(R[0]=='A' && K%2) R[0]='B';\n\t}\n\telse {\n\t\tint first=1;\n\t\twhile(pos<N) {\n\t\t\tif(rev ^ ((first==1)&&revn)) {\n\t\t\t\tR+='A'+'B'-S[pos];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tR+=S[pos];\n\t\t\t}\n\t\t\tpos++;\n\t\t\tfirst=0;\n\t\t}\n\t\twhile(R.size()<N) {\n\t\t\tif((N-R.size())%2==1) R+='A';\n\t\t\telse R+='B';\n\t\t}\n\t}\n\tcout<<R<<endl;\n\t\n\t/*\n\tT=S;\n\t\n\tFOR(i,100) {\n\t\tint x=0,side=0;\n\t\twhile(x>=0 && x<N) {\n\t\t\tS[x]='A'+'B'-S[x];\n\t\t\tif(side==0) {\n\t\t\t\tif(S[x]=='B') x--, side=1;\n\t\t\t\telse x++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(S[x]=='B') x++, side=0;\n\t\t\t\telse x--;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(T[0]=='A') T[0]='B';\n\t\telse {\n\t\t\tT=T.substr(1);\n\t\t\tFORR(c,T) c='A'+'B'-c;\n\t\t\tT+='A';\n\t\t}\n\t\t\n\t\t\n\t\tcout<<(i+1)<<\"\\t\"<<S<<endl;\n\t}\n\t*/\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<set>\n#include<bitset>\n#include<map>\n\n#define fo(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef double db;\n\nconst int N = 400005;\n\nint a[N*2];\nint n,k;\nchar s[N];\n\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfo(i,1,n)a[i]=s[i]=='B';\n\tint nt=0;\n\tif (k<=n*2){\n\t\tint he=1,ta=n;\n\t\tfo(i,1,k){\n\t\t\tif ((a[he]^nt)==1){\n\t\t\t\tnt^=1;\n\t\t\t\the++,ta++;\n\t\t\t\ta[ta]=nt;\n\t\t\t}\n\t\t\telse a[he]^=1;\n\t\t}\n\t\tfo(i,he,ta)\n\t\tif ((a[i]^nt)==1)putchar('B');else putchar('A');\n\t}\n\telse{\n\t\tif (n&1) putchar('A'+!(k&1));\n\t\tfo(i,1,n/2) putchar('B'),putchar('A');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N=200005;\nint read(){\n\tint x=0;\n\tchar ch=getchar();\n\twhile (!isdigit(ch))\n\t\tch=getchar();\n\twhile (isdigit(ch))\n\t\tx=(x<<1)+(x<<3)+(ch^48),ch=getchar();\n\treturn x;\n}\nint n,k,a[N];\nchar s[N];\nint main(){\n\tn=read(),k=read();\n\tscanf(\"%s\",s+1);\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=s[i]-'A';\n\tint t=0,h=1;\n\twhile ((k--)&&h<n){\n//\t\tprintf(\"%d %d %d %d %c\\n\",k,t,h,n,'A'+(a[h]^t));\n\t\tif (!(a[h]^t)){\n\t\t\ta[h]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!((a[h+1]^t)&1))\n\t\t\ta[h]^=1;\n\t\tt^=1;\n\t\th++;\n\t}\n\tif (k>0&&(n&1))\n\t\ta[h]^=k&1;\n\telse if (k>0)\n\t\th++;\n\tfor (int i=h;i<=n;i++)\n\t\tputchar('A'+(a[i]^t));\n\tfor (int i=n-h+2;i<=n;i++)\n\t\tputchar('A'+((n-i)&1));\n\treturn 0;\n}\n\n/*\nconst int N=100005;\nint n,k;\nchar s[N],s2[N]=\"           \";\nint t=0;\nvoid print(){\n\tprintf(\"%s\",s+1);\n}\nint main(){\n\tcin >> n;\n\tfor (int i=1;i<=n;i++)\n\t\ts[i]='A';\n\ts[n+1]='\\0';\n\tint cnt=0;\n\twhile (1){\n\t\tgetchar();\n\t\tint p=1,add=1;\n\t\ts2[p]=add>0?'R':'L';\n\t\twhile (1<=p&&p<=n){\n\t\t\tif (s[p]=='A')\n\t\t\t\tadd=-add;\n\t\t\ts[p]='A'+((s[p]-'A')^1);\n\t\t\ts2[p]=' ';\n\t\t\tp+=add;\n\t\t\ts2[p]=add>0?'R':'L';\n\t\t}\n\t\ts2[p]=' ';\n\t\tcnt++;\n\t\tprintf(\"%3d: \",cnt);print();\n\t}\n\treturn 0;\n}*/\n/*\n  0: ABBAAABBBBAAAAABBBBBBAAAA\t\t\t\t\t\t\n  1: BBBAAABBBBAAAAABBBBBBAAAA\t\t\t\t\t\t!\n  2:  AABBBAAAABBBBBAAAAAABBBBA\t\t\t\t\t\t\n  3:  BABBBAAAABBBBBAAAAAABBBBA\t\t\t\t\t\t\n  4:   BAAABBBBAAAAABBBBBBAAAABA\t\t\t\t\t\t\n  5:    BBBAAAABBBBBAAAAAABBBBABA\t\t\t\t\t!\n  7:     BABBBBAAAAABBBBBBAAAABABA\t\t\t\t\t\n  8:      BAAAABBBBBAAAAAABBBBABABA\t\t\t\t\t\n  9: \t   BBBBAAAAABBBBBBAAAABABABA\t\t\t\t\t!\n 11: \t    BAABBBBBAAAAAABBBBABABABA\t\n 12: \t     BBAAAAABBBBBBAAAABABABABA\t\t\t\t!\n 14: \t      BBBBBBAAAAAABBBBABABABABA\t\t\t\t!\n 16: \t\t   BAAAABBBBBBAAAABABABABABA\t\t\n 17: \t\t\tBBBBAAAAAABBBBABABABABABA\t\t\t!\n 19: \t\t\t BAABBBBBBAAAABABABABABABA\t\t\t\n 20: \t\t\t  BBAAAAAABBBBABABABABABABA\t\t\t!\n 22: \t\t\t   BBBBBBBAAAABABABABABABABA\t\t\t!\n 24: \t\t\t\tBAAAAABBBBABABABABABABABA\n 25: \t\t\t\t BBBBBAAAABABABABABABABABA\t\t!\n 27: \t\t\t\t  BAAABBBBABABABABABABABABA\n 28: \t\t\t\t   BBBAAAABABABABABABABABABA\n 30: \t\t\t\t\tBABBBBABABABABABABABABABA\n 31: \t\t\t\t\t BAAAABABABABABABABABABABA\n 32: \t\t\t\t\t  BBBBABABABABABABABABABABA\n 34: \t\t\t\t\t   BAABABABABABABABABABABABA\n 35: \t\t\t\t\t    BBABABABABABABABABABABABA\n2 6 10 13 15 18 21 23 26 29 33 \n*/"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <set>\n#include <map>\n#include <unordered_map>\n#include <unordered_set>\n#include <cstring>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <random>\n#include <iomanip>\n#include <functional>\n#include <cassert>\n \nusing namespace std;\n \ntypedef long long ll;\n \nint main() {\n  ios_base::sync_with_stdio(false); cin.tie(0);\n#ifdef LOCAL\n  freopen(\"input.txt\", \"r\", stdin);\n#endif\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  s += 'B';\n  ++n;\n  deque <int> lens;\n  int len = 1;\n  for (int i = 1; i < n; ++i) {\n    if (s[i] != s[i - 1]) {\n      lens.push_back(len);\n      len = 1;\n    } else {\n      ++len;\n    }\n  }\n  lens.push_back(len);\n  char c = s[0];\n  for (int i = 0; i < k; ++i) {\n    if (c == 'A') {\n      int x = lens.front();\n      lens.pop_front();\n      if (x == 1) {\n        ++lens.front();\n      } else {\n        lens.push_front(x - 1);\n        lens.push_front(1);\n      }\n      c = 'B';\n    } else {\n      int x = lens.front();\n      lens.pop_front();\n      lens.push_back(1);\n      if (x > 1) {\n        lens.push_front(x - 1);\n        c = 'A';\n      }\n    }\n    if ((int)lens.size() == n && c == 'B') break;\n  }\n  string ans;\n  for (auto l : lens) {\n    for (int i = 0; i < l; ++i) ans += c;\n    if (c == 'A') c = 'B';\n    else c = 'A';\n  }\n  ans.pop_back();\n  cout << ans << '\\n';\n}\n \n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <cstdio>\n#include <cstdint>\n#include <cassert>\n#include <cmath>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <tuple>\n#include <utility>\n#include <vector>\nusing namespace std;\n\nusing int64 = int64_t;\n\nconstexpr int64 MOD = 1000000007;\n\nchar rev(char ch) {\n    return (ch == 'B') ? 'A' : 'B';\n}\n\nint N, K;\nstring s;\n\nint main() {\n    cin >> N >> K >> s;\n    if (s[0] == 'A') {\n        --K;\n        s[0] = 'B';\n    }\n    if (s[N-1] == 'B') {\n        if (K > 0) {\n            --K;\n            s[N-1] = 'A';\n            for (int j = 0; j < N-1; ++j) {\n                s[j] = rev(s[j+1]);\n            }\n        }\n        if (K > 0) {\n            --K;\n            s[0] = 'B';\n        }\n    }\n    if (K > 0) {\n        int slide = (K+1) / 2;\n        for (int j = 0; j + slide < N-1; ++j) {\n            s[j] = slide%2 == 0 ? s[j+slide] : rev(s[j+slide]);\n        }\n        for (int j = max(0, N-slide); j < N-1; ++j) {\n            s[j] = (N-1-j)%2 == 0 ? 'A' : 'B';\n        }\n        if (slide * 2 > K) {\n            s[0] = 'A';\n        }\n    }\n    cout << s << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<deque>\nusing namespace std;\n\nint const N = 2e5 + 41;\nint const INF = 1e7 + 41;\n\nint n, k;\nchar s[N], ans[N];\nint a[N];\ndeque<int> q;\n\nvoid solve(){\n\tscanf(\"%d %d\",&n,&k);\n\tscanf(\"%s\",&s);\n\tfor(int i=0;i<n;++i) a[i] = s[i] - 'A';\n\tint x = 0;\n\tfor(int i=0;i<n;++i) q.push_back(a[i]);\n\tif(k > INF) k = INF + ( (k - INF) % 2 == 1 ? 1 : 0);\n\twhile(k--){\n\t\tif( (q.front() ^ x) == 0){\n\t\t\tq.front() = (1 ^ x);\n\t\t}else{\n\t\t\tx ^= 1;\n\t\t\tq.pop_front();\n\t\t\tq.push_back(x);\n\t\t}\n\t}\n\tfor(int i=0;i<n;++i) ans[i] = 'A' + (q[i] ^ x);\n\t\n\tprintf(\"%s\\n\",ans);\n}\n\nint main(){\n#ifdef _DEBUG\n\tfreopen(\"input.txt\",\"r\",stdin);\n\tfreopen(\"output.txt\",\"w\",stdout);\n#endif\n\n\tsolve();\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\n#define sqr(x) ((x)*(x))\n#define mp make_pair\n#define uint unsigned\n#define PI pair<int,int>\ninline char gc(){\n    static char buf[100000],*p1=buf,*p2=buf;\n    return p1==p2&&(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;\n}\n#define gc getchar\ninline int read(){\n\tint x = 0; char ch = gc(); bool positive = 1;\n\tfor (; !isdigit(ch); ch = gc())\tif (ch == '-')\tpositive = 0;\n\tfor (; isdigit(ch); ch = gc())\tx = x * 10 + ch - '0';\n\treturn positive ? x : -x;\n}\ninline void write(int a){\n    if(a<0){\n    \ta=-a; putchar('-');\n\t}\n    if(a>=10)write(a/10);\n    putchar('0'+a%10);\n}\ninline void writeln(int a){\n    if(a<0){\n    \ta=-a; putchar('-');\n\t}\n\twrite(a); puts(\"\");\n}\ninline int rnd(int x){\n\treturn rand()%x;\n}\ninline ull rnd(){\n\treturn ((ull)rand()<<30^rand())<<4|rand()%4;\n}\nconst int N=200005;\nint n,k;\nchar ch[N];\nint main(){\n\tn=read(); k=read();\n\tif(k>(2*n))k=2*n+((k&1)?1:2);\n\tscanf(\"%s\",ch);\n\tint pos=0,flag=1;\n\tfor(int i=0;i<n;i++)ch[i]-='A';\n\twhile(k--){\n\t\tif(ch[pos]^flag){ch[pos]^=1; } else{pos=(pos+1)%n; flag^=1; }\n\t}\n\tfor(int i=pos;i<n;i++)putchar((ch[i]^flag^1)+'A');\n\tfor(int i=0;i<pos;i++)putchar((ch[i]^flag^1)+'A');\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<string.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\n\n#define REP(i,n) for(int i=0, i##_len=(n); i<i##_len; ++i)\n#define EACH(i,c) for(__typeof((c).begin()) i=(c).begin(),i##_end=(c).end();i!=i##_end;++i)\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n\ntemplate<class T> inline void amin(T &x, const T &y) { if (y<x) x=y; }\ntemplate<class T> inline void amax(T &x, const T &y) { if (x<y) x=y; }\ntemplate<class Iter> void rprintf(const char *fmt, Iter begin, Iter end) {\n    for (bool sp=0; begin!=end; ++begin) { if (sp) putchar(' '); else sp = true; printf(fmt, *begin); }\n    putchar('\\n');\n}\n\nint N, K;\nchar S[200011];\n\nvoid MAIN() {\n    scanf(\"%d%d%s\", &N, &K, S);\n\n    int pos = 0;\n    while (pos + 2 <= N) {\n\tif (S[pos] == 'B' && K >= 2) {\n\t    K -= 2;\n\t    pos += 2;\n\t} else if (S[pos] == 'A' && K >= 3) {\n\t    K -= 3;\n\t    pos += 2;\n\t} else {\n\t    break;\n\t}\n    }\n    REP (i, N) {\n\tif (i+pos < N) S[i] = S[i+pos];\n\telse S[i] = (i+pos-N) % 2 == 0 ? 'B' : 'A';\n    }\n    if (K >= 3) {\n\tK = (K-3)%2 + 3;\n    }\n    REP (k, K) {\n\tpos = 0;\n\tint from = -1;\n\twhile (0 <= pos && pos < N) {\n\t    if (S[pos] == 'A') {\n\t\tS[pos] = 'B';\n\t\tif (from == -1) {\n\t\t    pos--;\n\t\t} else {\n\t\t    pos++;\n\t\t}\n\t\tfrom = -from;\n\t    } else {\n\t\tS[pos] = 'A';\n\t\tpos -= from;\n\t    }\n\t}\n    }\n    puts(S);\n}\n\nint main() {\n    int TC = 1;\n//    scanf(\"%d\", &TC);\n    REP (tc, TC) MAIN();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main()\n{\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for(int i = 0; i < n; i++){\n        if(i % 2){\n            if(k > 0 && s[i] == 'B'){\n                k--;\n                s[i] = 'A';\n            }\n            if(k == 0){\n                for(int j = i; j < n; j++){\n                    if(s[j] == 'A') cout << 'B';\n                    else cout << 'A';\n                }\n                for(int j = 0; j < i; j++){\n                    if(j % 2 == (i - 1) % 2) cout << 'A';\n                    else cout << 'B';\n                }\n                cout << endl;\n                return 0;\n            }\n        }\n        else{\n            if(k > 0 && s[i] == 'A'){\n                k--;\n                s[i] = 'B';\n            }\n            if(k == 0){\n                for(int j = i; j < n; j++) cout << s[j];\n                for(int j = 0; j < i; j++){\n                    if(j % 2 == (i - 1) % 2) cout << 'A';\n                    else cout << 'B';\n                }\n                cout << endl;\n                return 0;\n            }\n        }\n        k--;\n    }\n    if(n % 2){\n        if(k % 2) cout << 'B';\n        else cout << 'A';\n        n--;\n    }\n    for(int i = 0; i < n; i++){\n        if(i % 2 == (n - 1) % 2) cout << 'A';\n        else cout << 'B';\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"trapv\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nstring s;\nvoid go() {//naive\n\tint i = 0, v = 1;\n\twhile(i>=0&&i<n) {\n\t\tif(s[i] == 'A') v=-v;\n\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t\ti += v;\n\t}\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k >> s;\n\tfor(auto &i : s) i -= 'A';\n\tk = min(k, 10000000);\n\tint l = 0, r = n - 1, a = 0;\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\tr = ++r == n ? 0 : r;\n\t\t\ta ^= s[l] == s[l ? l-1 : 0];\n\t\t\ts[r] = a;\n\t\t}\n\t}\n\tr++;\n\twhile(true) {\n\t\t cout << char('A' + (s[l++]^a));\n\t\tif(l == r) break;\n\t\tif(l == n) l = 0;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "//Keep pluggin',this is your only outlet.\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cctype>\n#include<cassert>\n#define MM(x,y) memset(x,y,sizeof(x))\n#define MCPY(a,b) memcpy(a,b,sizeof(b))\n#define pb push_back\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,b,a) for(int i=b;i>=a;i--)\n#define fi first\n#define mp make_pair\n#define se second\nusing namespace std;\n//#define int long long\n\ninline int quickpow(int m,int n,int p){int b=1;while(n){if(n&1)b=b*m%p;n=n>>1;m=m*m%p;}return b;}\ninline int quickmul(int x,int y,int mod){return (x*y-(int)((long double)x/mod*y)*mod+mod)%mod;}\ninline int getinv(int x,int p){return quickpow(x,p-2,p);}\ninline int read(void){\n    int x=0,f=1;char ch=getchar();\n    while(!isdigit(ch)){f=ch=='-'?-1:1;ch=getchar();}\n    while(isdigit(ch)){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n    return x * f;\n}\n\nconst int MAXN = 2e5 + 100;\n\nchar s[MAXN];\nint n,k,a[MAXN<<2],l,r,p = 0;\n\n///------------------head------------------\nsigned main(signed argc, char *argv[]){\n    // freopen(\"in2.txt\",\"r\",stdin);\n    // freopen(\"in2.out\",\"w\",stdout);\n    n = read(),k = read();\n    scanf(\"%s\",s+1);\n    rep(i,1,n) a[i] = s[i] == 'A';\n    l = 1,r = n;\n    for (int i = 1; i <= (n << 1); ++i) {\n        if ((a[l]^p)) a[l] ^= 1;\n        else ++l,++r,p^=1,a[r] = p^1;\n        if (i == k) {\n            //cerr << l << ' ' << r << endl;\n            for (int j = l; j <= r; ++j)\n            printf(\"%c\",(a[j]^p^1) + 'A');\n            return 0;\n        }\n    }\n    if ((n&1)&&(k&1)) a[l] ^= 1;\n    for (int j = l; j <= r; ++j)\n    printf(\"%c\",(a[j]^p^1) + 'A');\n    return 0;\n}\n\n/* Examples: */\n/*\n\n*/\n\n/*\n\n*/\n"
  },
  {
    "language": "C++",
    "code": "/* be name khoda */\n\n// #define stream_enable\n// #define long_enable\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <numeric>\n#include <iomanip>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\nusing namespace std;\n\n#ifdef stream_enable\n#define cin sss\n#endif\n#ifdef long_enable\ntypedef long long int ll;\n#else\ntypedef int ll;\n#endif\n\ntypedef pair<ll, ll> pii;\ntypedef pair<pii, ll> ppi;\ntypedef pair<ll, pii> pip;\ntypedef vector<ll> vi;\ntypedef vector<pii> vpii;\n\nconst ll MOD = 1000000007;\nconst long long BIG = 1446803456761533460;\nconst int Big = 336860180;\n\n#define F first\n#define S second\n#define pb push_back\n#define eb emplace_back\n#define all(x) (x).begin(), (x).end()\n\n#define debug(x) cout << #x << \" -> \" << (x) << endl\n#define debug2(x, y) cout << #x << ' ' << #y << \" -> \" << (x) << ' ' << (y) << endl\n#define debug3(x, y, z) cout << #x << ' ' << #y << ' ' << #z << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << endl\n#define debug4(x, y, z, t) cout << #x << ' ' << #y << ' ' << #z << ' ' << #t << \" -> \" << (x) << ' ' << (y) << ' ' << (z) << ' ' << (t) << endl\n#define debugp(x) cout << #x << \" -> \" << \"(\" << (x).F << \", \" << (x).S << \")\" << endl\n#define debuga(x, n) cout << #x << \" -> \"; fori (i1_da, n) { cout << (x)[i1_da] << ' '; } cout << endl\n#define debugap(x, n) cout << #x << \" ->\\n\"; fori (i1_dap, n) { cout << \"(\" << (x)[i1_dap].F << \", \" << (x)[i1_dap].S << \")\\n\"; } cout << endl\n#define debugaa(x, n, m) cout << #x << \" ->\\n\"; fori (i1_daa, n) { fori (i2_daa, m) { cout << (x)[i1_daa][i2_daa] << ' '; } cout << '\\n'; } cout << endl\n#define debugav(x, n) cout << #x << \" ->\\n\"; fori (i1_dav, n) { fori (i2_dav, (x)[i1_dav].size()) { cout << (x)[i1_dav][i2_dav] << ' '; } cout << '\\n'; } cout << endl\n#define debugia(x, n) cout << #x << \" ->\\n\"; fori (i1_dia, n) { cout << i1_dia << \" : \" << (x)[i1_dia] << '\\n'; } cout << endl\n\n#define forifrom(i, s, n) for(ll i = (s); i < (n); ++i)\n#define forirto(i, n, e) for(ll i = (n) - 1; i >= (e); --i)\n#define fori(i, n) forifrom (i, 0, n)\n#define forir(i, n) forirto (i, n, 0)\n\n#define smin(a, b) a = min(a, (b))\n#define smax(a, b) a = max(a, (b))\n\n#define Add(a, b) a = ((a) + (b)) % MOD\n#define Mul(a, b) a = (1LL * (a) * (b)) % MOD\n\nstringstream sss;\n\n// -----------------------------------------------------------------------\n\nconst ll maxn = 200010;\n\nll n, k;\nll S[maxn];\n\nvoid MAIN() {\n\n    cin >> n >> k;\n    fori (i, n) {\n        char c; cin >> c;\n        S[i] = c == 'A';\n    }\n    ll I = 0, R = 0;\n    fori (i, min(k, n * 2)) {\n        if (S[R] ^ I) S[R] ^= 1;\n        else I ^= 1, R = (R + 1) % n;\n    }\n    if (k > n * 2) S[R] ^= k & 1;\n    fori (i, n) cout << ((S[(i + R) % n] ^ I) ? 'A' : 'B');\n    cout << '\\n';\n\n}\n\n// -----------------------------------------------------------------------\n\nint main() {\n    ios_base::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n    cout << fixed << setprecision(10);\n    sss << R\"(\n5 2\nABAAA\n    )\";\n    MAIN();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\n#ifdef MAX_HOME\nconst int L = 10;\n#else\nconst int L = 2e6;\n#endif\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    int lst = -1e5;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1) {\n        dif %= 3;\n//        assert(n & 1);\n    } else {\n        dif %= 2;\n//        assert(!(n & 1));\n    }\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            lst = i;\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l;; i = (i + 1) % n) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n        if (i == r)\n            break;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,k;\nchar s[200005];\nint t,f,h;\nvoid output(){\n\tfor (int i=0;i<n;i++)\n\t\tputchar('A'+(s[(h+i)%n]==f));\n\texit(0);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor (int i=0;i<n;i++)\n\t\ts[i]=(s[i]=='A');\n\th=0,t=0;\n\tfor (;h<n;){\n\t\tif (s[h]!=f) s[h]^=1;\n\t\telse h++,f^=1;\n\t\tif ((++t)==k) output();\n\t}\n\th=0;\n\tif (n%2==1&&(k-t)%2==1)\n\t\ts[h]^=1;\n\toutput();\n}"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\nvoid debug() {\n\tstring t; cin >> t;\n\trep(i, 60) {\n\t\tt = next(t);\n\t\tcout << t << endl;\n\t}\n}\n\nsigned main() {\n//\tdebug(); return 0;\n\n\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\n\tif (n == 1) {\n\t\tif (k & 1) {\n\t\t\tif (now == 'A')cout << 'B' << endl;\n\t\t\telse cout << 'A' << endl;\n\t\t}\n\t\telse cout << 'A' << endl;\n\n\t\treturn 0;\n\t}\n\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tt++;\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tif (D.size() == 1) {\n\t\t\t\tnow = 'A';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint a = D.front();\n\t\t\t\tD.pop_front();\n\t\t\t\tif (a == 1) {\n\t\t\t\t\tD.push_back(a);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ta--;\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t\tD.push_front(a);\n\t\t\t\t\tnow = 'A';\n\t\t\t\t}\n\n\t\t\t\t\n\t\t\t\tif ((now == 'A'&&D.size() % 2==0)||(now=='B'&&D.size()%2)) {\n\t\t\t\t\tint t = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tif (t == 1) {\n\t\t\t\t\t\tint u = D.back();\n\t\t\t\t\t\tD.pop_back();\n\t\t\t\t\t\tu++;\n\t\t\t\t\t\tD.push_back(u);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\t\tD.push_back(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n&&now == 'B')break;\n//\t\tdisp(now, D);\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \ntypedef long long ll;\n \ntypedef int _loop_int;\n#define REP(i,n) for(_loop_int i=0;i<(_loop_int)(n);++i)\n#define FOR(i,a,b) for(_loop_int i=(_loop_int)(a);i<(_loop_int)(b);++i)\n#define FORR(i,a,b) for(_loop_int i=(_loop_int)(b)-1;i>=(_loop_int)(a);--i)\n \nint n,k;\nchar s[252521];\n \nint main(){\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\nbitset<200000> yo;\n  REP(i,n)if(s[i]=='B')yo.set(i);\n \n  int head = 0;\n  bool flip = false;\n  while(k--){\n    if(yo.test(head)^flip){\n      // head is b\n      flip ^= true;\n      if(++head==n)head=0;\n    }else{\n      yo.flip(head);\n    }\n  }\n  REP(i,n)putchar(yo[(head+i)%n]^flip?'B':'A');\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <ctime>\n#include<complex>\nusing namespace std;\n\n#define FOR(i,a,b) for (int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for (int i = (b)-1; i >= (a); i--)\n#define ITER(it,a) for (__typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a,value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(), a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL)INF;\n\nconst int MAX = 2 * 100000 + 47;\nconst int MOD = 1000 * 1000 * 1000 + 7;\n\nint A[MAX];\nvoid sim(string& s)\n{\n\tint p = 0;\n\tint d = 1;\n\twhile (1)\n\t{\n\t\tif (p == -1 || p == SZ(s)) break;\n\t\tif (s[p] == 'A')\n\t\t{\n\t\t\ts[p] = 'B';\n\t\t\td *= -1;\n\t\t\tp += d;\n\t\t\tcontinue;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[p] = 'A';\n\t\t\tp += d;\n\t\t}\n\t}\n}\n\nvoid sim(string& s, int k)\n{\n\tFOR(i, 0, k)\n\t{\n\t\tsim(s);\n\t}\n}\n\nvoid calc(string& s, int k)\n{\n\tint rev = 0;\n\tint p = 0;\n\tint n = SZ(s);\n\tif (n == 1)\n\t{\n\t\ts[0] = ((s[0] - 'A') ^ (k & 1)) + 'A';\n\t\treturn;\n\t}\n\n\tFOR(i, 0, n) A[i] = s[i] == 'B';\n\n\tFOR(i, 0, min(k, 4 * n))\n\t{\n\t\tif (A[p] ^ rev == 0)\n\t\t{\n\t\t\tA[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\trev ^= 1;\n\t\tA[p] = rev;\n\t\tp++;\n\t\tif (p == n) p = 0;\n\t}\n\n\tFOR(k, 0, n)\n\t{\n\t\tint i = p + k;\n\t\tif (i >= n) i -= n;\n\n\t\ts[k] = (A[i] ^ rev) + 'A';\n\t}\n}\n\nstring s;\nint k, n;\nvoid gen()\n{\n\tn = rand() % 10 + 1;\n\ts.clear();\n\tFOR(i, 0, n)\n\t{\n\t\ts.push_back(rand() % 2 + 'A');\n\t}\n\n\tk = rand() % 10 + 1;\n}\n\n//#define TEST\n\nint main()\n{\n\t//freopen(\"in.txt\", \"r\", stdin);\n\t//freopen(\"out.txt\", \"w\", stdout);\n\tios::sync_with_stdio(false); cin.tie(0);\n\n#ifdef TEST\n\twhile (1)\n\t{\n\t\tgen();\n\t\tcout << s << \" \" << k << endl;\n\t\tstring s1 = s;\n\t\tcalc(s, k);\n\t\tsim(s1, k);\n\t\tif (s1 != s)\n\t\t{\n\t\t\tcout << \"fail\" << endl;\n\t\t\tcout << s << endl;\n\t\t\tcout << s1 << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n#else\n\tcin >> n >> k >> s;\n\tcalc(s, k);\n\tcout << s << endl;\n#endif\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cctype>\nusing namespace std;\nconst int N=2e5;\nint n,k,hea,tai;\nbool arr[N*3+1],rev;\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\thea=n,tai=1;\n\tfor(int i=1;i<=n;++i) {\n\t\tchar c=getchar();\n\t\twhile(!isalpha(c)) {\n\t\t\tc=getchar();\n\t\t}\n\t\tarr[i]=c=='A';\n\t}\n\tfor(int i=1;(i<=n*2)&&(i<=k);++i) {\n\t\tif(arr[tai]^rev) {\n\t\t\tarr[tai]^=1;\n\t\t} else {\n\t\t\tarr[++hea]=arr[tai++];\n\t\t\trev^=1;\n\t\t}\n\t}\n\tif(k>n*2) {\n\t\tk-=n*2;\n\t\tif(arr[tai]^rev) {\n\t\t\tputchar(k&1?'B':'A');\n\t\t\tfor(int i=2;i<=n;++i) {\n\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t} else {\n\t\t\tfor(int i=1;i<=n;++i) {\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor(int i=tai;i<=hea;++i) {\n\t\t\tputchar(arr[i]^rev?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(2*n,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n        }\n        else{\n            k -= num;\n            printf(\"%c\",(k&1)?'A':'B');\n            for (int i = 1; i < n; i++){\n                printf(\"%c\",(i&1)?'B':'A');\n            }\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(n%2==1&&cnt+1==n){\n      v.pop_back();\n      cnt++;\n    }\n    if(v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //print();\n  }\n  //assert(n!=1);\n  //cout<<k<<\" \"<<n<<endl;\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<vector>\n#include<algorithm>\n#include<queue>\nusing namespace std;\n\nchar a[200001];\nint b[200000];\nint c[100001];\nint d[100001];\n\nint main(void){\n\nfor (int i = 0; i < 100001; i++){\n\tb[i] = 0;\n\tc[i] = 0;\n\td[i] = 0;\n}\nint k;\nlong long s;\nint p, q;\nlong long n, m;\nlong long x, y, z;\n\ts = 0;\n\tq = 0;\n\tx = 0;\n\ty = 0;\n\tz = 0;\n\ts = 0;\n\tscanf(\"%lld %lld\", &n,&m);\n\tscanf(\"%s\", a);\n\tfor (int i = 0; i < n; i++){\n\t\tif (a[i] == 'A')b[i] = 1;\n\t\tif (a[i] == 'B')b[i] = 2;\n\t}\n\tz = 0;\n\tif (m > n + 1){\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tif ((n + i) % 2 == 0)printf(\"B\");\n\t\t\telse  printf(\"A\");\n\t\t}\n\t\treturn 0;\n\t}\n\tfor (int i = 0; i < m&&i<n+1; i++){\n\t\ty = 0;\n\t\tfor (int j = 0; j < n; j++){\n\t\t\tif (y == 0){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\tb[j] = 2;\n\t\t\t\t\ty = 3;\n\t\t\t\t}\n\t\t\t\telse y = 1;\n\t\t\t}\n\t\t\tif (y == 1){\n\t\t\t\tif (b[j] == 1){\n\t\t\t\t\ty = 2;\n\t\t\t\t}\n\t\t\t\telse b[j - 1] = 1;\n\t\t\t}\n\t\t\tif (y == 2){\n\t\t\t\tif (j < n - 1){\n\t\t\t\t\tif (b[j + 1] == 1){\n\t\t\t\t\t\tb[j] = (b[j] + 1) % 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 0; i < n; i++){\n   if(b[i]==1)printf(\"A\");\n   if (b[i] == 2)printf(\"B\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tif(v.size() == n)\n\t\t\tbreak;\n\t}\n\tif((k + 1) % 2 && n % 2)\n\t{\n\t\tv.pop_front();\n\t\tv.front().second++;\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define OUT(x)                cout << #x << \" = \" << x << endl; \n#define rep(i, n)             for (int (i) = 0; (i) < (int)(n); (i)++)\n#define rer(i, l, r)          for (int (i) = (int)(l); (i) <= (int)(r); (i)++)\n#define reu(i, l, r)          for (int (i) = (int)(l); (i) < (int)(r); (i)++)\n#define each(i, v)            for (auto i : v)\n#define all(x)                (x).begin(), (x).end()\n#define rall(x)               (x).rbegin(), (x).rend()\n#define pb(x)                 push_back(x)\n#define bp(x)                 __builtin_popcount(x)\n#define mp(x, y)              make_pair((x), (y))\n#define fi                    first\n#define se                    second\n#define setp(x)               setprecision(x)\n#define mset(m, v)            memset(m, v, sizeof(m))\n#define sz(x)                 (int)(x.size())\nstatic const int INF        = 0x3f3f3f3f;\nstatic const long long INFL = 0x3f3f3f3f3f3f3f3fLL;\nstatic const int MOD        = 1000000007;\nstatic const double PI      = 3.14159265358979;\n\n//#define int                   long long\n\ntypedef vector<double>        vd;\ntypedef vector<string>        vs;\ntypedef vector<bool>          vb;\ntypedef vector<int>           vi;\ntypedef pair<int, int>        pii;\ntypedef vector<pii>           vpii;\n\ntemplate<typename T> void pv(T a, T b) { for (T i = a; i != b; i ++) cout << *i << \" \"; cout << endl; }\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if (y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if (x < y) x = y; }\nint in() { int _x; scanf(\"%d\", &_x); return _x; }\nlong long lin() {long long _x; scanf(\"%lld\", &_x); return _x; };\n\nsigned main() { \n        int n, k;\n        cin >> n >> k;\n        string s;\n        cin >> s;\n        if (k > 2 * n) k = 2 * n + (k % 2);\n        int rev = 0;\n        deque<int> dq;\n        rep(i, n) dq.pb(s[i] == 'A');\n        rep(i, k) {\n                if (dq.front() ^ rev) {\n                        dq.pop_front();\n                        dq.push_front(rev);\n                } else {\n                        rev ^= 1;\n                        dq.pop_front();\n                        dq.pb(1 ^ rev);\n                }\n        }\n        rep(i, n) {\n                if (rev ^ dq.front()) cout << \"A\";\n                else cout << \"B\";\n                dq.pop_front();\n        }\n        cout << endl;\n        return 0;\n}               \n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nconst int N=1e5+5;\nint n,m,i,k,a[N];\nchar s[N];\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor (i=1;i<=n;i++) a[i]=s[i]-65;\n\tfor (i=1;i<=n;i++){\n\t\tif (a[i]^(i&1)) m--;if (!m) break;\n\t\tm--;k=i;if (!m) break;\n\t}\n\tif (i<=n){\n\t\tint st=i-(k!=i),v=st&1;a[i]=1^v;\n\t\tfor (k=k==i?0:1,i=st;i;i--,k^=1) a[i]=k;\n\t\tfor (i=st+1;i<=n;i++) putchar((a[i]^v)+65);\n\t\tfor (i=1;i<=st;i++) putchar(a[i]+65);\n\t\treturn 0;\n\t}\n\tif (!(n&1)){\n\t\tfor (i=1;i<=n;i++) putchar((i&1)+65);\n\t\treturn 0;\n\t}\n\tputchar((m&1)?'B':'A');\n\tfor (i=1;i<n;i++) putchar((i&1)+65);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cmath>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<iomanip>\n#define _USE_MATH_DEFINES\n#include <math.h>\n#include <functional>\n#include<complex>\nusing namespace std;\n\n#define rep(i,x) for(ll i=0;i<x;i++)\n#define repn(i,x) for(ll i=1;i<=x;i++)\n\ntypedef long long ll;\nconst ll INF = 1e17;\nconst ll MOD = 1000000007;\nconst ll MAX = 4000001;\nconst double eps = 1E-18;\n\nll max(ll a, ll b) {\n\tif (a > b) { return a; }\n\treturn b;\n}\n\nll min(ll a, ll b) {\n\tif (a > b) { return b; }\n\treturn a;\n}\n\nll gcd(ll a, ll b) {\n\tif (b == 0) { return a; }\n\tif (a < b) { return gcd(b, a); }\n\treturn gcd(b, a % b);\n}\n\nll lcm(ll a, ll b) {\n\treturn a / gcd(a, b) * b;\n}\n\nstruct edge {\n\tll ind;\n\tll fr;\n\tll to;\n\tll d;\n};\n\nclass mint {\n\tlong long x;\npublic:\n\tmint(long long x = 0) : x((x% MOD + MOD) % MOD) {}\n\tmint operator-() const {\n\t\treturn mint(-x);\n\t}\n\tmint& operator+=(const mint& a) {\n\t\tif ((x += a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator-=(const mint& a) {\n\t\tif ((x += MOD - a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator*=(const  mint& a) {\n\t\t(x *= a.x) %= MOD;\n\t\treturn *this;\n\t}\n\tmint operator+(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res += a;\n\t}\n\tmint operator-(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res -= a;\n\t}\n\tmint operator*(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res *= a;\n\t}\n\n\tmint pow(ll t) const {\n\t\tif (!t) return 1;\n\t\tmint a = pow(t >> 1);\n\t\ta *= a;\n\t\tif (t & 1) a *= *this;\n\t\treturn a;\n\t}\n\n\t// for prime MOD\n\tmint inv() const {\n\t\treturn pow(MOD - 2);\n\t}\n\tmint& operator/=(const mint& a) {\n\t\treturn (*this) *= a.inv();\n\t}\n\tmint operator/(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res /= a;\n\t}\n\n\tfriend ostream& operator<<(ostream& os, const mint& m) {\n\t\tos << m.x;\n\t\treturn os;\n\t}\n};\n\nmint pw(mint a, ll b) {\n\tif (b == 0) { return 1; }\n\tmint ret = pw(a, b >> 1);\n\tret *= ret;\n\tif (b & 1) { ret *= a; }\n\treturn ret;\n}\n\ntypedef vector<ll> vll;\ntypedef vector<vector<ll>> vvll;\ntypedef vector<vector<vector<ll>>> vvvll;\n\ntypedef vector<mint> vmint;\ntypedef vector<vector<mint>> vvmint;\ntypedef vector<vector<vector<mint>>> vvvmint;\n\n//////////////////////////////////////\n\ntemplate<typename T>\nstruct BIT {\n\tll n;\n\tvector<T> bt;\n\tll sz;\n\n\tBIT(ll n0) {\n\t\tn = n0;\n\t\tsz = 1;\n\t\twhile (sz < n) { sz *= 2; }\n\t\tbt.assign(sz + 1, 0);\n\t}\n\n\tll sum(ll i) {\n\t\tT ret = 0;\n\t\tfor (ll x = i; x > 0; x -= x & (-x)) {\n\t\t\tret += bt[x];\n\t\t}\n\t\treturn ret;\n\t}\n\n\tvoid add(ll i, ll w) {\n\t\tfor (ll x = i; x <= sz; x += x & (-x)) {\n\t\t\tbt[x] += w;\n\t\t}\n\t\treturn;\n\t}\n};\n\n\n\ntemplate <typename T>\nll tento(ll N, vector<T> A) {\n\tvector<pair<T, ll>> p(N + 1);\n\n\trepn(i, N) p[i] = { A[i],i };\n\tsort(++p.begin(), p.end());\n\n\tBIT<T> bit(N);\n\tll ret = 0;\n\n\trepn(i, N) {\n\t\tll t = p[i].second;\n\t\tret += bit.sum(t);\n\t\tbit.add(t, 1);\n\t}\n\n\tret = N * (N - 1) / 2 - ret;\n\treturn ret;\n}\n\n\nint main() {\n\tll N, K;\n\tcin >> N >> K;\n\n\tstring S;\n\tcin >> S;\n\n\tll c = 0;//見ている位置\n\trep(i, K) {\n\t\tif (c % 2 == 0) {\n\t\t\tif (S[c%N] == 'A') { S[c%N] = 'B'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\telse {\n\t\t\tif (S[c%N] == 'B') { S[c%N] = 'A'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\tif (c == 2*N) { c += K - 1 - i; break; }\n\t}\n\n\n\trep(i, N) {\n\t\tchar t = S[(c + i) % N];\n\t\tif(c%2==1) {\n\t\t\tif (t == 'A') { t = 'B'; }\n\t\t\telse { t = 'A'; }\n\t\t}\n\t\tcout << t;\n\t}\n\n\tcout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\n\tint cnt = 0;\n\twhile(K-- && cnt < N)\n\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\tif(rev ^ (ans.front() == 'A')) K %= 2 * N;\n\telse K %= N;\n\twhile(K--)\n\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n\nusing namespace std;\ndeque<char> deq,ans;\nint k;\nvoid ins(){\n\twhile(deq.size()>=2){\n\t\tint x = deq.size();\n\t\tif(deq[x-2]=='B' && deq[x-1]=='A'){\n\t\t\tans.push_back('B'); ans.push_back('A');\n\t\t\tdeq.pop_back(); deq.pop_back();\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\nvoid simple(){\n\tint i;\n\tk--;\n\tfor(i=0;i<deq.size();i++){\n\t\tif(i==0 && deq[0]=='A'){\n\t\t\tdeq[0] = 'B';\n\t\t\tbreak;\n\t\t}\n\t\tif(i!=deq.size() - 1){\n\t\t\tif(deq[i]=='B' && deq[i+1]=='B') deq[i] = 'A';\n\t\t\tif(deq[i]=='A' && deq[i+1]=='A') deq[i] = 'B';\n\t\t}else{\n\t\t\tdeq[i] = 'A';\n\t\t}\n\t}\n\tins();\n}\n\nvoid solve(){\n\tif(deq[0]=='A'){\n\t\tdeq[0] = 'B';\n\t\tk--;\n\t}else{\n\t\tif(deq[1]=='B') k -= 3;\n\t\telse k -= 2;\n\t\tdeq.pop_front(); deq.pop_front();\n\t\tans.push_back('B'); ans.push_back('A');\n\t}\n\tins();\n}\n\nint main(){\n\tint i,n;\n\tcin >> n >> k;\n\tfor(i=0;i<n;i++){\n\t\tchar c; cin >> c;\n\t\tdeq.push_back(c);\n\t}\n\tfor(i=0;i<2;i++){\n\t\tif(deq.back()=='B') simple();\n\t}\n\twhile(deq.size()>=2 && k>0){\n\t\tif(k>=3) solve();\n\t\telse simple();\n\t}\n\tif(k==0){\n\t\tfor(i=0;i<deq.size();i++){\n\t\t\tcout << deq[i];\n\t\t}\n\t\tfor(i=0;i<ans.size();i++){\n\t\t\tcout << ans[i];\n\t\t}\n\t}else{\n\t\tif(deq.size()){\n\t\t\tif(k&1){\n\t\t\t\tif(deq[0]=='A') cout << 'B';\n\t\t\t\telse cout << 'A';\n\t\t\t}else{\n\t\t\t\tcout << deq[0];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<ans.size();i++){\n\t\t\tcout << ans[i];\n\t\t}\n\t}\n\tcout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> ii;\ntypedef pair<ll,ll> pll;\n\nconst int mod=1000000000+7;\n\nint addm(int& a,int b) {return (a+=b)<mod?a:a-=mod;}\n\ntemplate<class T,class U> bool smin(T& a,U b) {return a>b?(a=b,1):0;}\ntemplate<class T,class U> bool smax(T& a,U b) {return a<b?(a=b,1):0;}\n\nint N,K,opc;\nstring s;\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\n\tcin >> N >> K >> s;\n\tint i=0;\n\tbool f=0;\n\tint shif=0;\n\tfor (i=0;i<N && opc<K;i++) {\n\t\tif ((s[i]=='A')==(i%2==0)) {\n\t\t\tf=1;\n\t\t\topc++;\n\t\t\tif (opc==K) break;\n\t\t}\n\t\telse f=0;\n\t\topc++;\n\t\tshif++;\n\t\tf=0;\n\n\t\t//cerr << '1' << endl;\n\t}\n\n\tK-=opc;\n\tstringstream ans;\n\n\tcerr << \"opc: \" << opc << endl;\n\n\tif (K) {\n\t\tif (N%2 && K%2) f=1;\n\t\telse f=0;\n\t}\n\t//if (K==0) {\n\tfor (;i<N;i++) {if ((shif%2==0)==(s[i]=='A')) ans << 'A';\n\t\telse ans << 'B';\n\t\tcerr << \"2\" << endl;\n\t}\n\tfor (int j=N-shif;j<N;j++) {if ((N-j)%2==1) ans << 'A';\n\t\telse ans << 'B';\n\t\tcerr << \"3\" << endl;\n\t}\n\tstring ss;\n\tans << endl;\n\tans >> ss;\n\n\t//cerr << ss << endl;\n\t//cerr << \"ss \" << ss.size() << \" \" << N << endl;\n\t//ss=ss.substr(ss.size()-N);\n\t//cerr << ss << endl;\n\tif (f==(ss[0]=='A')) ss[0]='B';\n\telse ss[0]='A';\n\n\tcout << ss << endl;\n\treturn 0;\n\t//}\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define rep(i,x,y) for(int i=(x);i<=(y);++i)\n#define per(i,x,y) for(int i=(x);i>=(y);--i)\nconst int N=4e5+10;\ninline bool vaild(char c){return c>='A'&&c<='B';}\ninline char gc(){char c=getchar();while(!vaild(c))c=getchar();return c;}\nint n,k,a[N],st=1,flag;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\trep(i,1,n)a[i]=gc()-'A';\n\tint i;\n\tfor(i=1;i<=k&&st<=n;++i){\n\t\tif((a[st]^flag)==0)a[st]^=1;\n\t\telse{\n\t\t\ta[n+st]=!flag;++st;\n\t\t\tflag^=1;\n\t\t}\n\t}--i;\n\tflag^=(k-i)&1;\n\trep(i,st,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define mset(a, b) memset(a, b, sizeof(a))\n#define mcpy(a, b) memcpy(a, b, sizeof(a))\n#define rg register\nusing namespace std;\ntypedef long long LL;\nconst int MAXN = 200005;\n\ntemplate <typename T> inline void read(T &AKNOI) {\n\tT x = 0, flag = 1;\n\tchar ch = getchar();\n\twhile (!isdigit(ch)) {\n\t\tif (ch == '-') flag = -1;\n\t\tch = getchar();\n\t}\n\twhile (isdigit(ch)) {\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}\n\tAKNOI = flag * x;\n}\n\nchar ss[MAXN];\nint n, k;\nint s[MAXN * 3];\n\nvoid solve() {\n\tread(n); read(k);\n\tscanf(\"%s\", ss + 1);\n\tfor (int i = 1; i <= n; ++i) {\n\t\ts[i] = ss[i] - 'A';\n\t}\n\tif (k > n * 2 + 1) {\n\t\tk = ((k & 1)? n * 2 + 1 : n * 2 + 2);\n\t}\n\tint L = 1, R = n, mov = 0;\n\tfor (int i = 1; i <= k; ++i) {\n\t\tif ((s[L] ^ mov) == 0) {\n\t\t\ts[L] ^= 1;\n\t\t} else {\n\t\t\ts[++R] = s[L++];\n\t\t\tmov ^= 1;\n\t\t}\n\t}\n\tfor (int i = L; i <= R; ++i) {\n\t\tputchar((s[i] ^ mov) + 'A');\n\t}\n\tputs(\"\");\n}\n\nint main() {\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=a;i<b;i++)\n\n\nint N, K;\nstring S;\n//-----------------------------------------------------------------\nstring action(string s) {\n\tint i = 0, LR = 0;\n\twhile (0 <= i && i <= N - 1) {\n\t\tif (s[i] == 'B') {\n\t\t\tif (LR == 0) {\n\t\t\t\ts[i] = 'A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[i] = 'A';\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (LR == 0) {\n\t\t\t\ts[i] = 'B';\n\t\t\t\ti--;\n\t\t\t\tLR = 1 - LR;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[i] = 'B';\n\t\t\t\ti++;\n\t\t\t\tLR = 1 - LR;\n\t\t\t}\n\t\t}\n\t}\n\treturn s;\n}\n//-----------------------------------------------------------------\nbool chk(string s) {\n\tstring ss = \"AB\";\n\trep(i, 0, N) {\n\t\tif (s[N - 1 - i] != ss[i % 2]) return false;\n\t}\n\treturn true;\n}\n//-----------------------------------------------------------------\nint main() {\n\tcin >> N >> K >> S;\n\n\tint i = 0;\n\twhile (!chk(S)) {\n\t\tS = action(S);\n\t\ti++;\n\t\t//printf(\"%d: %s\\n\", i, S.c_str());\n\t\tif (i == K) {\n\t\t\tprintf(\"%s\\n\", S.c_str());\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tint d = K - i;\n\n\tif (N % 2 == 1 && d % 2 == 1) S[0] = 'B';\n\tcout << S << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\n#include <map>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nstring str;\nstring str_p;\nstring str_p2;\n\nvoid hoge(){\n\tint j=0;\n\n\twhile(1){\n\t\tif(j>=str.length()){\n\t\t\treturn;\n\t\t}\n\n\t\tif(str[j] == 'B'){\n\t\t\tif(j == str.length()-1){\n\t\t\t\tstr[j]='A';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if(str[j+1] == 'A'){\n\t\t\t\tj+=2;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tstr[j]='A';\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(j==0){\n\t\t\t\tstr[0] ='B';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tstr[j-1] = 'B';\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t}\n}\n\nbool BA(){\n\tif(str == str_p){\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nbool BBA(){\n\tif(str == str_p2){\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nint main(){\n\tint n, k;\n\tcin >> n >> k;\n\tcin >> str;\n\tstr_p=str;\n\tstr_p2=\"\";\n\t\n\tfor(int i=0; i<k; i++){\n\t\tstr_p2=str_p;\n\t\tstr_p=str;\n\t\thoge();\n\t\tif(BA() == true){\n\t\t\tcout << str << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse if(BBA() == true){\n\t\t\tif(k%2 == i%2){\n\t\t\t\tcout << str << endl;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcout << str_p << endl;\n\t\t\t}\n\n\t\t\treturn 0;\n\n\t\t}\n\t\t//cout << \"test : \"<< str << endl;\n\t}\n\n\tcout << str << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/**\n * code generated by JHelper\n * More info: https://github.com/AlexeyDmitriev/JHelper\n * @author majk\n */\n\n#ifndef MAJK_LIB\n#define MAJK_LIB\n\n#include <vector>\n#include <stack>\n#include <iostream>\n#include <unordered_map>\n#include <unordered_set>\n#include <map>\n#include <iomanip>\n#include <set>\n#include <functional>\n#include <fstream>\n#include <algorithm>\n#include <cassert>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <queue>\n#include <array>\n#include <bitset>\nusing namespace std;\n\n#define x first\n#define y second\ntypedef std::pair<int,int> pii; typedef long long ll; typedef unsigned long long ull; typedef unsigned int ui; typedef pair<ui,ui> puu;\n\ntemplate <typename T, typename U> std::istream&operator>>(std::istream&i, pair<T,U>&p) {i >> p.x >> p.y; return i;}\ntemplate<typename T>std::istream&operator>>(std::istream&i,vector<T>&t) {for(auto&v:t){i>>v;}return i;}\ntemplate <typename T, typename U> std::ostream&operator<<(std::ostream&o, const pair<T,U>&p) {o << p.x << ' ' << p.y; return o;}\ntemplate<typename T>std::ostream&operator<<(std::ostream&o,const vector<T>&t) {if(t.empty())o<<'\\n';for(size_t i=0;i<t.size();++i){o<<t[i]<<\" \\n\"[i == t.size()-1];}return o;}\ntemplate<typename T> using minheap = priority_queue<T, vector<T>, greater<T>>;\ntemplate<typename T> using maxheap = priority_queue<T, vector<T>, less<T>>;\ntemplate <typename T> bool in(T a, T b, T c) { return a <= b && b < c; }\nui logceil(ll x) { return x?8*sizeof(ll)-__builtin_clzll(x):0; }\n\nnamespace std { template<typename T,typename U>struct hash<pair<T,U>>{hash<T>t;hash<U>u;size_t operator()(const pair<T,U>&p)const{return t(p.x)^(u(p.y)<<7);}}; }\ntemplate<typename T,typename F>T bsh(T l,T h,const F&f){T r=-1,m;while(l<=h){m=(l+h)/2;if(f(m)){l=m+1;r=m;}else{h=m-1;}}return r;}\ntemplate<typename F> double bshd(double l,double h,const F&f,double p=1e-9){ui r=3+(ui)log2((h-l)/p);while(r--){double m=(l+h)/2;if(f(m)){l=m;}else{h=m;}}return (l+h)/2;}\ntemplate<typename T,typename F>T bsl(T l,T h,const F&f){T r=-1,m;while(l<=h){m=(l+h)/2;if(f(m)){h=m-1;r=m;}else{l=m+1;}}return r;}\ntemplate<typename F> double bsld(double l,double h,const F&f,double p=1e-9){ui r=3+(ui)log2((h-l)/p);while(r--){double m=(l+h)/2;if(f(m)){h=m;}else{l=m;}}return (l+h)/2;}\ntemplate<typename T> T gcd(T a,T b) { if (a<b) swap(a,b); return b?gcd(b,a%b):a; }\n\ntemplate<typename T>class vector2:public vector<vector<T>>{public:vector2(){} vector2(size_t a,size_t b,T t=T()):vector<vector<T>>(a,vector<T>(b,t)){}};\ntemplate<typename T>class vector3:public vector<vector2<T>>{public:vector3(){} vector3(size_t a,size_t b,size_t c,T t=T()):vector<vector2<T>>(a,vector2<T>(b,c,t)){}};\ntemplate<typename T>class vector4:public vector<vector3<T>>{public:vector4(){} vector4(size_t a,size_t b,size_t c,size_t d,T t=T()):vector<vector3<T>>(a,vector3<T>(b,c,d,t)){}};\ntemplate<typename T>class vector5:public vector<vector4<T>>{public:vector5(){} vector5(size_t a,size_t b,size_t c,size_t d,size_t e,T t=T()):vector<vector4<T>>(a,vector4<T>(b,c,d,e,t)){}};\n\n\n#endif\n// #include \"../l/mod.h\"\n\nclass DHalfReflector {\npublic:\n    void solve(istream& cin, ostream& cout) {\n        int N, K; cin >> N >> K;\n        string S; cin >> S;\n        deque<int> W;\n        for (int i = 0; i < N; ++i) {\n            if (i > 0 && S[i-1] == S[i]) W.back()++;\n            else W.push_back(1);\n        }\n        bool firstA = S[0] == 'A';\n        for (int i = 0; i < K; ++i) {\n            if (W.size() == N && !firstA) break;\n\n            if (firstA) {\n                if (W.front() == 1) {\n                    W.pop_front();\n                    W.front()++;\n                    firstA = false;\n                } else {\n                    W.front()--;\n                    W.push_front(1);\n                    firstA = false;\n                }\n            } else {\n                if (W.front() == 1) {\n                    W.pop_front();\n                    if (W.size()%2==0) W.back()++;\n                    else W.push_back(1);\n                } else {\n                    W.front()--;\n                    firstA = true;\n                    if (W.size()%2==1) W.back()++;\n                    else W.push_back(1);\n                }\n            }\n        }\n//\n        stringstream ss;\n        while (!W.empty()) {\n            ss << string(W.front(), \"BA\"[firstA]);\n            W.pop_front();\n            firstA = !firstA;\n        }\n        cout << ss.str() << '\\n';\n\n//        for (int i = 0; i < K; ++i) {\n//            int j = 0; int left = 1;\n//            while (in(0, j, N)) {\n//                bool straight = S[j] == 'B';\n//                S[j] = \"BA\"[straight];\n//                if (straight) j += left;\n//                else { j -= left; left = -left; }\n//            }\n//        }\n//        cout << S << '\\n';\n    }\n};\n\n\nint main() {\n\tios_base::sync_with_stdio(false); cin.tie(nullptr); cout.tie(nullptr);\n\tDHalfReflector solver;\n\tstd::istream& in(std::cin);\n\tstd::ostream& out(std::cout);\n\tsolver.solve(in, out);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<queue>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<string>\n#include<set>\n#include<map>\n#include<iostream>\nusing namespace std;\n#define rep(i,n) for(int i = 0;i<((int)(n));i++)\n#define reg(i,a,b) for(int i = ((int)(a));i<=((int)(b));i++)\n#define irep(i,n) for(int i = ((int)(n)-1);i>=0;i--)\n#define ireg(i,a,b) for(int i = ((int)(b)-1);i>=((int)(a));i--)\ntypedef long long int lli;\ntypedef pair<int, int> mp;\n#define fir first\n#define sec second\n#define IINF INT_MAX\n#define LINF LLONG_MAX\n#define eprintf(...) fprintf(stderr,__VA_ARGS__)\n#define pque(type) priority_queue<type,vector<type>,greater<type> >\n#define memst(a,b) memset(a,b,sizeof(a))\n \nint main(void){\n\tint n, k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tint j = 0; bool r = false;\n\trep(i, min(n, k)){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t}\n\t\n\tif(n>=k){\n\t\ts = s.substr(j, n);\n\t\tif(r){\n\t\t\trep(i, n){\n\t\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t\treturn 0;\n\t}\n\t\n\tint l = min(n, k);\n\twhile(j==n){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t\tl++;\n\t\tif(l==k){\n\t\t\ts = s.substr(j, n);\n\t\t\tif(r){\n\t\t\t\trep(i, n){\n\t\t\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << s << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\trep(i, (k-l)%3){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t}\n\t\n\ts = s.substr(j, n);\n\tif(r){\n\t\trep(i, n){\n\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t}\n\t}\n\t\n\tcout << s << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n\nchar s[400000];\nint main()\n{\n\tint i=0,n,k;bool f=false;\n\tscanf(\"%d%d%s\",&n,&k,s);\n\twhile(i<n&&k--)\n\t\tif((s[i]=='A')^f)s[i]=f?'A':'B';\n\t\telse f^=1,s[n+i++]=f?'B':'A';\n\tif(++k)\n\t{\n\t\tif(n&1)putchar((s[i]=='A')^f^(k&1)?'B':'A');\n\t\tfor(i=0;i<n>>1;i++)\n\t\t\tputchar('B'),putchar('A');\n\t}\n\telse\n\t\tif(f)\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t\tputchar(s[i+j]=='A'?'B':'A');\n\t\telse\n\t\t\tputs(s+i);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint n, k, p, f;\nvoid solve(int k)\n{\n\tp=1, f=0;\n\tfor (int i=1; i<=k; i++)\n\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\telse f^=1, p=p==n?1:p+1;\n}\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=2*n)\n\t{\n\t\tsolve(k);\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\tif (!f) putchar(s[i]);\n\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tsolve(2*n);\n\t\tif (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (s[p]=='A'^(k-2*n)%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nchar s[222222];\nint D[222222];\nint n,k,c,i,j;\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\n\tscanf(\"%s\",s);\n\n\tfor(i=0;i<n;i++){\n\t\tif((s[i]-'A'+i)%2==0) D[i] = 2;\n\t\telse D[i] = 1;\n\t\tc += D[i];\n\t}\n\tfor(i=n;i<n+n;i++){\n\t\ts[i] = ((i-n)%2==1?'A':'B');\n\t}\n\n\tif(k>c){\n\t\tfor(i=0;i<n;i++){\n\t\t\tprintf(\"%c\",(n-i)%2==1?'A':'B');\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tfor(i=c=0;i<n;i++){\n\t\tif(c+D[i]>=k) break;\n\t\tc += D[i];\n\t}\n\n\tif(D[i] == 1){\n\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t}\n\telse{\n\t\tif(c+1 == k){\n\t\t\tprintf(\"%c\",(s[i]-'A'+i)%2==1?'A':'B');\n\t\t\tfor(j=i+1;j<n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==0?'A':'B');\n\t\t}\n\t\telse{\n\t\t\tfor(j=i+1;j<=n+i;j++) printf(\"%c\",(s[j]-'A'+i)%2==1?'A':'B');\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 200020;\n\nint n, k, cnt, ql, qr;\nchar s[MAXN];\nbool rev, q[MAXN << 1];\n\nint main()\n{\n#ifdef wxh010910\n\tfreopen( \"data.in\", \"r\", stdin );\n#endif\n\tscanf( \"%d%d%s\", &n, &k, s + 1 );\n\tfor( int i = 1 ; i <= n ; i++ ) q[ i ] = s[ i ] - 'A';\n\tql = 1, qr = n + 1;\n\tfor( cnt = 1 ; cnt <= ( n << 1 ) && cnt <= k ; cnt++ )\n\t{\n\t\tif( q[ ql ] ^ rev ) ql++, q[ qr++ ] = rev ^= 1;\n\t\telse q[ ql ] ^= 1;\n\t}\n\tcnt--;\n\tif( k - cnt & 1 )\n\t\tif( q[ ql ] ^ rev ) ql++, q[ qr++ ] = rev ^= 1;\n\t\telse q[ ql ] ^= 1;\n\tfor( int i = ql ; i < qr ; i++ ) putchar( 'A' + ( q[ i ] ^ rev ) );\n\treturn putchar( 10 ), 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nconst int N=2e5+5;\nint n,m,i,k,a[N];\nchar s[N];\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor (i=1;i<=n;i++) a[i]=s[i]-65;\n\tfor (i=1;i<=n;i++){\n\t\tif (a[i]^(i&1)) m--;if (!m) break;\n\t\tm--;k=i;if (!m) break;\n\t}\n\tif (i<=n){\n\t\tint st=i-(k!=i),v=st&1;a[i]=1^v;\n\t\tfor (k=k==i?0:1,i=st;i;i--,k^=1) a[i]=k;\n\t\tfor (i=st+1;i<=n;i++) putchar((a[i]^v)+65);\n\t\tfor (i=1;i<=st;i++) putchar(a[i]+65);\n\t\treturn 0;\n\t}\n\tif (!(n&1)){\n\t\tfor (i=1;i<=n;i++) putchar((i&1)+65);\n\t\treturn 0;\n\t}\n\tputchar((m&1)?'B':'A');\n\tfor (i=1;i<n;i++) putchar((i&1)+65);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define snd second\n#define fore(i,a,b) for(int i=a,ThxDem=b;i<ThxDem;++i)\nusing namespace std;\ntypedef long long ll;\n\nint n,k;\nchar s[200005];\n\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfore(i,0,n)s[i]-='A';\n\tint i=0;int w=0;\n\tint m=min(k,1<<20);\n\tif(m==(1<<20)&&k%2)m++;\n\twhile(m--){\n\t\tif(s[i]^w)w^=1,i++,i%=n;\n\t\telse s[i]^=1;\n\t}\n\tfore(j,0,n)putchar('A'+(s[(i+j)%n]^w));puts(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdio>\nusing namespace std;\nconst int N = 200010;\nint n, k;\nstring s;\nchar oppo(char ch)\n{\n\treturn 'A' + ((ch - 'A') ^ 1);\n}\nchar show(int c, char ch)\n{\n\tif (!c) return ch;\n\telse return oppo(ch);\n}\nint main()\n{\n\tcin >> n >> k >> s;\n\tint c = 0, step = 0;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tif (c == s[i] - 'A') step += 2; else step++;\n\t\tc = c ^ 1;\n\t}\n\tif (k > step) k = (k - step) % n + step;\n\tc = 0;\n\twhile (k--)\n\t{\n\t\tif (show(c, s[0]) == 'A') s[0] = oppo(s[0]);\n\t\telse {\n\t\t\tc ^= 1;\n\t\t\ts.erase(0, 1);\n\t\t\ts.push_back(show(c, 'A'));\n\t\t}\n\t}\n\tif (c) for (int i = 0; i < n; i++) s[i] = oppo(s[i]);\n\tcout << s << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N = 4e5 + 9;\n\nint n, k, _a[N], *a = _a;\nchar s[N];\nbool o;\n\nint main () {\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++i) a[i] = s[i] == 'B' ? 1 : 0;\n\tfor (int i = 1; i <= min(n * 2, k); ++i) {\n\t\tif (*a ^ o) {\n\t\t\to ^= 1;\n\t\t\ta[n] = o;\n\t\t\t++a;\n\t\t} else {\n\t\t\t*a ^= 1;\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++i) putchar('A' + (a[i] ^ o));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int maxn = 200010;\nint n, K;\nchar s[maxn];\ndeque<char> q;\n\nint main() {\n    scanf(\"%d %d %s\", &n, &K, s + 1);\n    int pos = 1, cur = s[1] - 'A', cnt = 0;\n    while (K--) {\n        if (!cur) {\n            cur ^= 1, s[pos] = s[pos] == 'A' ? 'B' : 'A';\n        } else {\n            cnt++, pos++;\n            cur = (s[pos] - 'A') ^ (cnt & 1);\n        }\n        if (pos > n) break;\n    }\n    if (pos <= n) {\n        for (int i = pos; i <= n; i++) {\n            printf(\"%c\", 'A' + ((s[i] - 'A') ^ (cnt & 1)));\n        }\n        for (int i = 1, j = (cnt - 1) & 1; i < pos; i++) {\n            printf(\"%c\", 'A' + (j & 1)), j ^= 1;\n        }\n    } else if ((cnt - 1) & 1) {\n        for (int i = 1; i <= n; i++) {\n            printf(\"%c\", 'A' + (i & 1));\n        }\n    } else {\n        printf(\"%c\", 'A' + (K & 1));\n        for (int i = 1; i < n; i++) {\n            printf(\"%c\", 'A' + (i & 1));\n        }\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define maxn 401000\nusing namespace std;\n\nint A[maxn];\nchar s[maxn];\nint st, n, m, o;\nint main() {\n\tscanf(\"%d %d\",&n,&m);\n\tscanf(\"%s\",s + 1);\n\tfor (int i = 1; i <= n; i++) A[i] = s[i] - 'A';\n\tint st = 0;\n\twhile (st < n && m) {\n\t\tif (A[st + 1] == o) {\n\t\t\tA[st + 1] ^= 1;\n\t\t\tm--;\n\t\t\tcontinue;\t\t\t\n\t\t}\n\t\to ^= 1; st++;\n\t\tA[st + n] = o;\n\t\tm--;\n\t}\n\tif (!m) {\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tif (A[st + i] == o) putchar('A');\n\t\t\telse putchar('B');\n\t} else {\n\t\to ^= (n & 1);\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tif (A[st + i] == o) putchar('A');\n\t\t\telse putchar('B');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nbitset<4000000> arr;\nint start = 0;\nint flip = 0;\n\nint main(){\n\tios_base::sync_with_stdio(false);\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tfor(int i = 0;i < n;i++) arr[i] = (s[i] == 'B');\n\t\n\twhile(k--){\n\t\tif(arr[start] ^ flip){\n\t\t\tflip ^= 1;\n\t\t\tarr[start + n] = flip;\n\t\t\tstart++;\n\t\t}\n\t\telse arr[start] = (1 ^ flip);\n\t\tif(start >= n+2) break;\n\t}\n\t\n\tif(n&k&1) arr[start] = arr[start] ^ 1;\n\t\n\tfor(int i = start;i < start + n;i++) cout << (char) ('A' + (arr[i] ^ flip));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tchkmin(k, 1000 * n);\n\tcin >> s;\n}\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tint C = 0;\n\twhile(k--)\n\t{\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <utility>\n#include <iterator>\n#include <cstdio>\n#include <functional>\n#include <vector>\n#include <array>\n#include <map>\n\ntemplate<typename T>\nstruct Mapper\n{\n    int operator[](const T& v) { int& ret = table[v]; if(!ret) rtable[ret = table.size()] = v; return ret - 1; }\n    template<typename... Args> int operator()(Args... args) { return (*this)[T(args...)]; }\n    T rev(int idx){return rtable[idx + 1];}\n    std::map<T, int> table;\n    std::map<int, T> rtable;\n};\n\ntemplate<typename T, int S>\nstruct ReferenceArray\n{\n    struct It {typename std::array<T*, S>::iterator it; T& operator*(){return **it;} void operator++(){it++;} bool operator!=(const It& other){return it != other.it;} };\n    int size()const{return _ptr.size();}\n    It begin()const{return {_ptr.begin()};}\n    It end()const{return {_ptr.end()};}\n    T& operator[](int idx)const{return *_ptr[idx];}\n    mutable std::array<T*, S> _ptr;\n};\ntemplate<typename T, typename... Args> \nReferenceArray<T, sizeof...(Args) + 1> MAKEV(T& arg1, Args&... args) {return {&arg1, &args...};}\n\nstruct Range\n{   \n    struct It {   int num, step; int operator*(){return num;} void operator++(){num += step;} bool operator!=(const It& other){return num != other.num;} };\n    Range(int ee):b(0),e(ee){}\n    Range(int bb, int ee):b(bb), e(ee){}\n    It begin(){return {b, (b < e? 1: -1)};}\n    It end(){return {e, 0};}\n    int b, e;\n};\n\ntemplate<typename T> inline T& UMAX(T& x, T y){if(x < y)x = y; return x;}\ntemplate<typename T> inline T& UMIN(T& x, T y){if(y < x)x = y; return x;}\ntemplate<typename T, typename... Args> struct ArithmiticPromotion { typedef decltype(T() + typename ArithmiticPromotion<Args...>::type()) type; };\ntemplate<typename T, typename U> struct ArithmiticPromotion<T, U> { typedef decltype(T() + U()) type; };\ntemplate<typename T> struct ArithmiticPromotion<T, T> { typedef T type; };\ntemplate<typename T> struct ArithmiticPromotion<T> { typedef T type; };\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MAX(T a, U b) { return a < b? b: a; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MAX(T a, Args... args) { return MAX(a, MAX(args...)); }\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MIN(T a, U b) { return a < b? a: b; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MIN(T a, Args... args) { return MIN(a, MIN(args...)); }\n\n\n\ntemplate<typename T> struct ScanfSpecifier{};\n#define DEF(T,V) template<> struct ScanfSpecifier<T>{static constexpr const char* value = V;};\nDEF(char*,\"%s\")DEF(int,\"%d\")DEF(double,\"%lf\")DEF(float,\"%f\")DEF(char,\"%c\")DEF(const char*,\"%s\")DEF(unsigned long,\"%lu\")DEF(unsigned int, \"%u\")\n#ifdef _MSC_VER\nDEF(long long int,\"%I64d\")\n#else\nDEF(long long int,\"%lld\")\n#endif\n#undef DEF\ntemplate<typename T> int RD(T& arg){return std::scanf(ScanfSpecifier<T>::value, &arg);}\ntemplate<int S> int RD(char (&arg)[S]){return std::scanf(\"%s\", arg);}\nint RD(char* arg){return std::scanf(\"%s\", arg);}\ntemplate<> int RD<char>(char& arg){return std::scanf(\" %c\", &arg);}\ntemplate<typename T, typename... Args> int RD(T& arg1, Args&... args) {return RD(arg1) + RD(args...);}\ntemplate<typename T> T RD(){T ret; RD(ret); return ret;}\ntemplate<typename It> void RDV(It begin, It end) { while(begin != end) RD(*begin++); }\ntemplate<typename C> void RDV(C& c) {RDV(std::begin(c), std::end(c));}\ntemplate<typename T> void WT(T arg) {std::printf(ScanfSpecifier<T>::value, arg); }\ntemplate<typename T, typename U> void WT(std::pair<T, U> arg) {std::printf(\"(\"); WT(arg.first); std::printf(\", \"); WT(arg.second); std::printf(\")\");}\ntemplate<typename... Args> void WT(Args... args) { int alc = 0; int dummy[] = {((alc++? std::printf(\" \"): 0), WT(args), 0)...}; }\n\ntemplate<typename... Args> void WTL(Args... args) { WT(args...); std::printf(\"\\n\"); }\ntemplate<typename It> void WTV(It begin, It end) { int alc = 0; while(begin != end) (alc++? std::printf(\" \"): 0), WT(*begin++); }\ntemplate<typename C> void WTV(const C& c) {WTV(std::begin(c), std::end(c));}\ntemplate<typename It> void WTVL(It begin, It end) { WTV(begin, end); std::printf(\"\\n\"); }\ntemplate<typename C> void WTVL(const C& c) {WTVL(std::begin(c), std::end(c));}\n\n\n\n\n\n//alias\n//RD[L],RDV[L],WT[L],WTV[L] for i/o\nusing RG = Range;\n//template\n#include <vector>\n#include <string>\n#include <cstring>\n#include <set>\n#include <map>\n#include <cstdlib>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\nchar S[200009];\nchar ans[200009];\nint N, K;\n\n\n\nint main()\n{\n    RD(N, K, S);\n    for(int i: RG(N))\n        S[i] -= 'A';\n    S[N] = 1;\n\n    int start = 0;\n    for(int i: RG(N))\n        if(S[N - 1 - i] != i % 2)\n        {\n            start = i;\n            break;\n        }\n\n    int L = N - 1 - start + 1;\n\n    int pos = 0;\n    int head = S[0];\n    int total = 0;\n    for(int i = 0; pos < L && i < K; i++, total++)\n    {\n        if(head == 0)\n            head ^= 1;\n        else \n        {\n            if((S[1 + pos] ^ (1 - (pos & 1))) == head)\n                head ^= 1;\n            pos++;\n        }       \n    }\n\n\n    for(int i = 1; i < L; i++)\n    {\n        int len = L - i;\n        int to = i + min(pos, len);\n        ans[i] = 'A' + (S[to] ^ ((to - i) & 1));\n    }\n    \n    ans[0] = 'A' + (head ^ ((K - total) & 1));\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    WTL(ans);\n\n\n\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=a;i<b;i++)\n\n\nint N, K; string S;\n//-----------------------------------------------------------------\ninline char getrev(char c, int m) {\n\tint cc = c - 'A';\n\tif (m % 2 == 1) cc = 1 - cc;\n\treturn char('A' + cc);\n}\n//-----------------------------------------------------------------\nint main() {\n\tcin >> N >> K >> S;\n\n\tdeque<char> deq;\n\tstring ans = \"\";\n\trep(i, 0, N) deq.push_back(S[i]);\n\tint cnt = 0, rev = 0, done = 0;\n\twhile (deq.size()) {\n\t\t// 右側を詰める\n\t\twhile (deq.size()) {\n\t\t\tif (getrev(deq.back(), rev) == getrev('A', done)) {\n\t\t\t\tdeq.pop_back();\n\t\t\t\tans = getrev('A', done) + ans;\n\t\t\t\tdone++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (deq.size() == 0) break;\n\n\t\t// 変換\n\t\tif (getrev(deq.front(), rev) == 'A') {\n\t\t\t// パターン1\n\t\t\tcnt++;\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tdeq.push_front(getrev(c, 1));\n\t\t} else {\n\t\t\t// パターン2\n\t\t\tcnt++;\n\t\t\tdeq.pop_front();\n\t\t\trev++;\n\t\t\tans = getrev('A', done) + ans;\n\t\t\tdone++;\n\t\t}\n\n\t\tif (cnt == K) break;\n\t}\n\n\tif (deq.size()) {\n\t\twhile (deq.size()) {\n\t\t\tans = getrev(deq.back(), rev) + ans;\n\t\t\tdeq.pop_back();\n\t\t}\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\n\tint d = K - cnt;\n\tif (N % 2 && d % 2) ans[0] = 'B';\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tif(v.size() == n)\n\t\t\tbreak;\n\t}\n\tif((k + 1) % 2 && n % 2)\n\t{\n\t\tv.pop_front();\n\t\tv.front().second++;\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\tif (1LL * k * n < 10000000)\n\t{\n\t\tREP(i, k)\n\t\t\tbrute(S);\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\twhile (k && S[n - 1] == 'B')\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (k-- && p < n)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\tint cnt = 0;\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tcnt++;\n\t\tif(cnt == 500000)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(k % 2 && k > 0 && n % 2)\n\t{\n\t\tif(v.front().second == 1)\n\t\t{\n\t\t\tv.pop_front();\n\t\t\tv.front().second++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tv.push_front(mp('A' + swapped , 1));\n\t\t}\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define f(i, x, n) for(int i = x; i < (int)(n); ++i)\n\nchar s[200002];\nint n, k;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tif (n == 1){\n\t\tif (k & 1) { if (s[0] == 'A')s[0] = 'B'; else s[0] = 'A'; }\n\t\tprintf(\"%s\\n\", s);\n\t\treturn 0;\n\t}\n\ts[n] = 'B';\n\tint i = 0;\n\tbool c = false;\n\twhile (k && i <= n){\n\t\tif (!c && s[i] - (i & 1) == 'A'){\n\t\t\tc = true;\n\t\t\t--k;\n\t\t\tcontinue;\n\t\t}\n\t\tc = false;\n\t\t--k;\n\t\t++i;\n\t}\n\tf(j, 0, n){\n\t\tint z = j + i;\n\t\tif (z > n){\n\t\t\tif (n - j & 1)s[j] = 'A';\n\t\t\telse s[j] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\tif (i & 1) { if (s[z] == 'A')s[j] = 'B'; else s[j] = 'A'; }\n\t\telse s[j] = s[z];\n\t}\n\tif (c)s[0] = 'B';\n\ts[n] = 0;\n\tprintf(\"%s\\n\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nvoid move(vc &s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn;\n\t}\n\trep(i, s.size()) {\n\t\tif (i == s.size() - 1)s[i] = 'A';\n\t\telse {\n\t\t\tif (s[i + 1] == 'A')s[i] = 'B';\n\t\t\telse s[i] = 'A';\n\t\t}\n\t}\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == 'A') {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tcout << string(s.begin(), s.end()) << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return true; } return false; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return true; } return false; }\n#define all(x) (x).begin(),(x).end()\n#define fi first\n#define se second\n#define mp make_pair\n#define si(x) int(x.size())\nconst int mod=1000000007,MAX=205,INF=1<<30;\n\nint main(){\n    \n    std::ifstream in(\"text.txt\");\n    std::cin.rdbuf(in.rdbuf());\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    int N,K;cin>>N>>K;\n    string S;cin>>S;\n    \n    if(S[0]=='A'){\n        K--;\n        S[0]='B';\n    }\n    \n    if(K==0){\n        cout<<S<<endl;\n        return 0;\n    }\n    \n    int cnt=0;\n    for(int i=1;i<N;i++){\n        int to=cnt;\n        if(S[i]=='A'){\n            if(i&1) to++;\n            else to+=2;\n        }else{\n            if(i&1) to+=2;\n            else to++;\n        }\n        \n        if(to>K) cout<<'A';\n        if(to==K) cout<<'B';\n        \n        if(to>=K){\n            for(int j=1;j<N;j++){\n                if(j+i>=N){\n                    if((N-j)&1) cout<<'A';\n                    else cout<<'B';\n                }else{\n                    if(i&1){\n                        if(S[j+i]=='A') cout<<'B';\n                        else cout<<'A';\n                    }else{\n                        cout<<S[j+i];\n                    }\n                }\n            }\n            cout<<endl;\n            return 0;\n        }\n        \n        cnt=to;\n    }\n    \n    K-=cnt;\n    \n    if(N%2==0){\n        for(int j=0;j<N;j++){\n            if(j&1) cout<<'A';\n            else cout<<'B';\n        }\n        cout<<endl;\n    }else{\n        if(K&1) cout<<'A';\n        else cout<<'B';\n        for(int j=1;j<N;j++){\n            if(j&1) cout<<'B';\n            else cout<<'A';\n        }\n        cout<<endl;\n    }\n    \n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n\tstring S;\n\tlong int N, K, n, k=0, pre, tmp;\n\tcin >> N >> K >> S;\n\tfor (k = 0; k < K;k++) {\n\t\tn = 0;\n\t\tpre = -1;\n\t\twhile(n!=N&&n!=-1){\n\t\t\ttmp = n;\n\t\t\tif(S[n] =='A'){\n\t\t\t\tS[n] = 'B';\n\t\t\t\tif(pre > n) n++;\n\t\t\t\telse n--;\n\t\t\t}\n\t\t\telse if(S[n] == 'B'){\n\t\t\t\tS[n] = 'A';\n\t\t\t\tif(pre < n) n++;\n\t\t\t\telse n--;\n\t\t\t}\n\t\t\telse return 0;\n\t\t\tpre = tmp;\n\t\t}\n\t}\n\tcout << S << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(n+1,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'B':'A');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n#include <vector>\n#include <cstring>\n#include <queue>\n#include <set>\n#include <map>\n#include <functional>\n#include <string>\n#include <cassert>\n#define SIZE 200005\n\nusing namespace std;\ntypedef long long int ll;\ntypedef pair <int,int> P;\n\nchar str[SIZE];\nint A[SIZE*2];\n\nint main()\n{\n\tint n,zan;\n\tscanf(\"%d %d\",&n,&zan);\n\tscanf(\"%s\",&str);\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tif(str[i]=='A') A[i]=0;\n\t\telse A[i]=1;\n\t}\n\tint now=0,pos=0;\n\twhile(pos<n&&zan>0)\n\t{\n\t\tif(zan>0&&(A[pos]+now)%2==0)\n\t\t{\n\t\t\tA[pos]^=1;\n\t\t\tzan--;\n\t\t}\n\t\tif(zan>0)\n\t\t{\n\t\t\tzan--;\n\t\t\tpos++;\n\t\t\tnow++;\n\t\t\tA[pos+n-1]=now;\n\t\t}\n\t}\n\tif(pos==n&&zan>0)\n\t{\n\t\tif(n%2==0)\n\t\t{\n\t\t\tfor(int i=0;i<n/2;i++) printf(\"BA\");\n\t\t\tputs(\"\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//printf(\"%d %d %d\\n\",A[n],now,zan);\n\t\t\tint nt=(A[n]+now)%2;\n\t\t\tif((nt+zan)%2==0) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\t\tfor(int i=0;i<n/2;i++) printf(\"BA\");\n\t\t\tputs(\"\");\n\t\t}\n\t}\n\telse\n\t{\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tif((A[pos+i]+now)%2==0) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\t}puts(\"\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <map>\n#include <set>\n#include <queue>\n#include <vector>\n#include <cstring>\n#include <cstdlib>\n#include <algorithm>\n#define rep(i,a,b) for(int i = a; i <= b; i++)\n#define dep(i,a,b) for(int i = a; i >= b; i--) \n#define Rep(i,a) for(int i = 0; i < a; i++)\n#define pb(a) push_back(a)\n#define mp(a,b) make_pair(a,b)\n#define ab(x) ((x) < 0 ? -(x) : (x))\nusing namespace std;\ntypedef long long LL;\ntypedef map<int, int>::iterator mit;\ntypedef set<int>::iterator sit;\nconst int N = 2e5 + 10;\nint n, k, j;\nchar s[N];\nint a[N];\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s + 1);\n\trep(i,1,n) if (s[i] == 'A') a[i] = 1; else a[i] = 0;\n\tint cnt = 0;\n\trep(i,1,n) {\n\t\tint d = i & 1;\n\t\tif (a[i] ^ d ^ 1) cnt++, a[i] ^= 1;\n\t\tif (cnt == k) {\n\t\t\tbool flag = false; \n\t\t\tfor(int j = i; j != i || !flag; j = j % n + 1, flag = true) \n\t\t\t\tif (a[j] ^ d) putchar('A'); else putchar('B');\n\t\t\treturn 0;\n\t\t}\n\t\tcnt++;\n\t\tif (cnt == k) {\n\t\t\tbool flag = false;\n\t\t\tfor(int j = i % n + 1; j != i % n + 1 || !flag; j = j % n + 1, flag = true)\n\t\t\t\tif (a[j] ^ d) putchar('A'); else putchar('B');\n\t\t\treturn 0;\n\t\t}\n\t}\n\tk -= cnt;\n\tk %= 2 * n;\n\tint d = (n + 1) & 1, j = 1;\n\trep(i,1,k) {\n\t\tif (a[j] ^ d) a[j] ^= 1;\n\t\telse d ^= 1, j = (j % n + 1);\n\t}\n\tint S = j; bool flag = false;\n\tfor(;j != S || !flag; j = j % n + 1, flag = true)\n\t\tif (a[j] ^ d) putchar('A'); else putchar('B');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e5+10;\nbitset<N> S0,T0;\nbitset<N-1> S1,T1;\nint n,k;char s[N];\ntemplate<long unsigned int N>\nvoid work(bitset<N> &S){\n\tif (S[0]) S^=~(S^(S>>1)),S[N-1]=0;else S[0]=1;\n}\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor (int i=N-2;i>=0;i-=2) T0[i]=S0[i]=1;\n\tfor (int i=N-1;i>=0;i-=2) T1[i]=S1[i]=1;\n\tfor (int i=0;i<n;i++)\n\t\tif (n&1) S1[i]=(s[i]=='B');else S0[i]=(s[i]=='B');\n\twhile (k--){\n\t\tif (n&1){\n\t\t\twork(S1);\n\t\t\tif (S1==T1){k%=2;if (k&1) work(S1);break;}\n\t\t}\n\t\telse{\n\t\t\twork(S0);\n\t\t\tif (S0==T0){k%=2;if (k&1) work(S0);break;}\n\t\t}\n\t}\n\tfor (int i=0;i<n;i++) putchar((n&1?S1[i]:S0[i])+'A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<deque>\n#define maxn 100010\nusing namespace std;\nint read()\n{\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch-'0'<0||ch-'0'>9){if(ch=='-') f=-1;ch=getchar();}\n    while(ch-'0'>=0&&ch-'0'<=9){x=x*10+ch-'0';ch=getchar();}\n    return x*f;\n}\ndeque<int>d;\nint n,tag,K;\nchar s[maxn];\nint a[maxn];\nint main()\n{\n    n=read();K=read();\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++) a[i]=s[i]-'A';\n    if(K>2*n)  K=2*n+(K-2*n)%2;\n    for(int i=1;i<=n;i++)  d.push_back(a[i]);\n    while(K--)\n    {\n        if(!(d.front()^tag))\n        {\n            d.pop_front();\n            d.push_front(tag^1);\n        }\n        else{\n            d.pop_front();\n            tag^=1;\n            d.push_back(tag);            \n        }\n    }\n    while(d.size())\n    {\n        int now=(d.front()^tag);d.pop_front();\n        printf(\"%c\",(char)(now+'A'));\n    }\n    puts(\"\");\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <utility>\n#include <array>\n#include <functional>\n#include <map>\n#include <iterator>\n#include <vector>\n#include <cstdio>\n\ntemplate<typename T>\nstruct Mapper\n{\n    int operator[](const T& v) { int& ret = table[v]; if(!ret) rtable[ret = table.size()] = v; return ret - 1; }\n    template<typename... Args> int operator()(Args... args) { return (*this)[T(args...)]; }\n    T rev(int idx){return rtable[idx + 1];}\n    std::map<T, int> table;\n    std::map<int, T> rtable;\n};\n\ntemplate<typename T, int S>\nstruct ReferenceArray\n{\n    struct It {typename std::array<T*, S>::iterator it; T& operator*(){return **it;} void operator++(){it++;} bool operator!=(const It& other){return it != other.it;} };\n    int size()const{return _ptr.size();}\n    It begin()const{return {_ptr.begin()};}\n    It end()const{return {_ptr.end()};}\n    T& operator[](int idx)const{return *_ptr[idx];}\n    mutable std::array<T*, S> _ptr;\n};\ntemplate<typename T, typename... Args> \nReferenceArray<T, sizeof...(Args) + 1> MAKEV(T& arg1, Args&... args) {return {&arg1, &args...};}\n\nstruct Range\n{   \n    struct It {   int num, step; int operator*(){return num;} void operator++(){num += step;} bool operator!=(const It& other){return num != other.num;} };\n    Range(int ee):b(0),e(ee){}\n    Range(int bb, int ee):b(bb), e(ee){}\n    It begin(){return {b, (b < e? 1: -1)};}\n    It end(){return {e, 0};}\n    int b, e;\n};\n\ntemplate<typename T> inline T& UMAX(T& x, T y){if(x < y)x = y; return x;}\ntemplate<typename T> inline T& UMIN(T& x, T y){if(y < x)x = y; return x;}\ntemplate<typename T, typename... Args> struct ArithmiticPromotion { typedef decltype(T() + typename ArithmiticPromotion<Args...>::type()) type; };\ntemplate<typename T, typename U> struct ArithmiticPromotion<T, U> { typedef decltype(T() + U()) type; };\ntemplate<typename T> struct ArithmiticPromotion<T, T> { typedef T type; };\ntemplate<typename T> struct ArithmiticPromotion<T> { typedef T type; };\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MAX(T a, U b) { return a < b? b: a; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MAX(T a, Args... args) { return MAX(a, MAX(args...)); }\ntemplate<typename T, typename U> typename ArithmiticPromotion<T, U>::type MIN(T a, U b) { return a < b? a: b; }\ntemplate<typename T, typename... Args> typename ArithmiticPromotion<T, Args...>::type MIN(T a, Args... args) { return MIN(a, MIN(args...)); }\n\n\n\ntemplate<typename T> struct ScanfSpecifier{};\n#define DEF(T,V) template<> struct ScanfSpecifier<T>{static constexpr const char* value = V;};\nDEF(char*,\"%s\")DEF(int,\"%d\")DEF(double,\"%lf\")DEF(float,\"%f\")DEF(char,\"%c\")DEF(const char*,\"%s\")DEF(unsigned long,\"%lu\")DEF(unsigned int, \"%u\")\n#ifdef _MSC_VER\nDEF(long long int,\"%I64d\")\n#else\nDEF(long long int,\"%lld\")\n#endif\n#undef DEF\ntemplate<typename T> int RD(T& arg){return std::scanf(ScanfSpecifier<T>::value, &arg);}\ntemplate<int S> int RD(char (&arg)[S]){return std::scanf(\"%s\", arg);}\nint RD(char* arg){return std::scanf(\"%s\", arg);}\ntemplate<> int RD<char>(char& arg){return std::scanf(\" %c\", &arg);}\ntemplate<typename T, typename... Args> int RD(T& arg1, Args&... args) {return RD(arg1) + RD(args...);}\ntemplate<typename T> T RD(){T ret; RD(ret); return ret;}\ntemplate<typename It> void RDV(It begin, It end) { while(begin != end) RD(*begin++); }\ntemplate<typename C> void RDV(C& c) {RDV(std::begin(c), std::end(c));}\ntemplate<typename T> void WT(T arg) {std::printf(ScanfSpecifier<T>::value, arg); }\ntemplate<typename T, typename U> void WT(std::pair<T, U> arg) {std::printf(\"(\"); WT(arg.first); std::printf(\", \"); WT(arg.second); std::printf(\")\");}\ntemplate<typename... Args> void WT(Args... args) { int alc = 0; int dummy[] = {((alc++? std::printf(\" \"): 0), WT(args), 0)...}; }\n\ntemplate<typename... Args> void WTL(Args... args) { WT(args...); std::printf(\"\\n\"); }\ntemplate<typename It> void WTV(It begin, It end) { int alc = 0; while(begin != end) (alc++? std::printf(\" \"): 0), WT(*begin++); }\ntemplate<typename C> void WTV(const C& c) {WTV(std::begin(c), std::end(c));}\ntemplate<typename It> void WTVL(It begin, It end) { WTV(begin, end); std::printf(\"\\n\"); }\ntemplate<typename C> void WTVL(const C& c) {WTVL(std::begin(c), std::end(c));}\n\n\n\n\n\n//alias\n//RD[L],RDV[L],WT[L],WTV[L] for i/o\nusing RG = Range;\n//template\n#include <vector>\n#include <string>\n#include <cstring>\n#include <set>\n#include <map>\n#include <cstdlib>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\nchar S[200009];\nchar ans[200009];\nint N, K;\n\nvoid output()\n{\n    for(int i: RG(N))\n        S[i] += 'A';\n    WTL(S);\n}\n\n\nint main()\n{\n    RD(N, K, S);\n    for(int i: RG(N))\n        S[i] -= 'A';\n    S[N] = 1;\n\n    int start = 0;\n    for(int i: RG(N))\n        if(S[N - 1 - i] != i % 2)\n        {\n            start = i;\n            break;\n        }\n\n    int L = N - 1 - start + 1;\n\n    int pos = 0;\n    int head = S[0];\n    int total = 0;\n    for(int i = 0; pos < L && i < K; i++, total++)\n    {\n        if(head == 0)\n            head ^= 1;\n        else \n        {\n            if((S[1 + pos] ^ (1 - (i & 1))) == head)\n                head ^= 1;\n            pos++;\n        }       \n    }\n\n//    WTL(start, pos, L);\n\n    for(int i = 1; i < L; i++)\n    {\n        int len = L - i;\n        int to = i + min(pos, len);\n        ans[i] = 'A' + (S[to] ^ ((to - i) & 1));\n    }\n    \n    ans[0] = 'A' + (head ^ ((K - total) & 1));\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    for(int i = L; i < N; i++)\n        ans[i] = S[i] + 'A';\n    WTL(ans);\n\n\n\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[700005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        if(times % 2 == 1)\n        {\n            for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n        }\n        else\n        {\n            cout << \"B\";\n            for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n\n        cout << \"\\n\";\n        }\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n\n    Read();\n    if(N == 1)\n    {\n        if(Str[1] == 'A')\n        {\n            if(K % 2 == 1)\n        cout << \"B\\n\";\n        else\n            cout << \"A\\n\";\n\n        }\n        else\n        {\n            if(K % 2 == 1)\n        cout << \"A\\n\";\n        else\n            cout << \"B\\n\";\n        }\n                return 0;\n    }\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\nusing namespace std;\nconst int N=200010;\nchar s[N];\ninline int gi() {\n    int x=0,o=1;\n    char ch=getchar();\n    while(ch!='-'&&(ch<'0'||ch>'9')) ch=getchar();\n    if(ch=='-') o=-1,ch=getchar();\n    while(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n    return x*o;\n}\nint main() {\n    int n,k,t=0,p=0;\n    cin>>n>>k;\n    scanf(\"%s\",s);\n    for(int i=0;i<n;i++) s[i]-='A';\n    for(int i=1;i<=n+n+n;i++) {\n\t--k;\n\tif(!(s[p]^t)) s[p]^=1;\n\telse t^=1,p=(p+1)%n;\n\tif(!k) break;\n    }\n    k%=2;\n    if(k&&!(s[p]^t)) s[p]^=1;\n    for(int i=0;i<n;i++) putchar('A'+(s[(p+i)%n]^t));\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if(i % 2 == 0 && s[i] == 'A')\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"B\";\n            else\n                cout << \"A\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define X first\n#define Y second\n#define mp make_pair\nusing namespace std;\ntypedef pair<int,int> PII;\ntypedef long long ll;\nconst int N = 100010;\nbitset<4> s;\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tfor(int i=0;i<n;i++){\n\t\tif(s[n-i-1]=='A') s.set(i);\n\t}\n//\ts.set(0),s.set(1);\n//\ttmp.set();\ncout<<s<<endl;\n\tfor(int i=0;i<k;i++){\n\t\tif(s[0]==1) s[0]=0;\n\t\telse s.reset(n),s=~(s>>1);\n\t\t//cout<<s<<endl;\n\t}\n\t//cout<<s<<endl;\n\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\twhile (k && S[n - 1] == 'B')\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (k-- && p < n)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <string>\nusing namespace std;\n#define LL long long\n#define mp make_pair\n#define fr first\n#define sc second\n#define pb push_back\n#define lc (x<<1)\n#define rc ((x<<1)|1)\nconst int N=200005;\nchar s[N];\nint a[N];\nchar cal(int x,int k){\n    x^=k%2;return x?'A':'B';\n}\nint main(){\n  //  freopen(\"in.txt\",\"r\",stdin);freopen(\"out.txt\",\"w\",stdout);\n    int i,n,k;\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (i=1;i<=n;i++) if (s[i]=='A') a[i]=1; else a[i]=0;\n    int K=k,;\n    for (i=1;i<=n;i++) {if (a[i]^((i-1)%2)) k-=2; else k--;if (k<=0) break;}\n    if (i<n||i==n&&k==-1){\n        int tp,j;\n        if (k==-1) {tp=1;printf(\"B\");} else tp=0;\n        for (j=i+1;j<=n;j++) if (a[j]^((i-tp)%2)) printf(\"A\"); else printf(\"B\");\n        tp+=n-i;\n        for (j=tp+1;j<=n;j++) if (j%2==n%2) printf(\"A\"); else printf(\"B\");\n        puts(\"\");return 0;\n    } \n    if (n%2==0){\n        for (i=1;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n        puts(\"\");return 0;\n    }\n    if (k%2==0) {if (i%2==1) printf(\"B\"); else printf(\"A\");}\n     else {if (i%2==0) printf(\"B\"); else printf(\"A\");}\n    for (i=2;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n    puts(\"\");\n    \n  //  system(\"pause\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint a[1000100];\nint main()\n{\n\tint n,k;scanf(\"%d%d\\n\",&n,&k);k=min(k,2*n+2+k);\n\tfor (int i=1;i<=n;i++) a[i]=(getchar()=='A');a[n+1]=1;\n\tint now=1,rol=0;\n\twhile (k--)\n\t{\n\t\tif ((a[now]^rol)) a[now]^=1;\n\t\telse\n\t\t{\n\t\t\tnow++;if (now>n) now=1;\n\t\t\trol^=1;\n\t\t}\n\t}\n\tfor (int i=now;i<=n;i++) putchar((a[i]^rol)?'A':'B');\n\tfor (int i=1;i<now;i++) putchar((a[i]^rol)?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <memory>\n#include <vector>\n#include <iostream>\n#include <set>\n#include <algorithm>\n#include <array>\n\nusing namespace std;\n\nchar GetSym(char c, int change) {\n  if (c == 'A' && change % 2) {\n    return 'B';\n  }\n  if (c == 'B' && change % 2) {\n    return 'A';\n  }\n  return c;\n}\n\nvoid RevSym(char& c) {\n  if (c == 'A') {\n    c = 'B';\n  } else {\n    c = 'A';\n  }\n}\n\nint main() {\n  std::ios_base::sync_with_stdio(0);\n  cin.tie(0);\n\n  int n, k;\n  cin >> n >> k;\n  std::string s;\n  cin >> s;\n\n  std::vector<char> all;\n  all.resize(s.size());\n  int ind_cur = 0;\n\n  for (int i = 0; i < s.size(); i++) {\n    all[i] = s[i];\n  }\n\n  int overall_revs = 0;\n  while (k--) {\n    if (GetSym(all[ind_cur], overall_revs) == 'A') {\n      RevSym(all[ind_cur]);\n      continue;\n    }\n    overall_revs++;\n    all[ind_cur] = 'A' + (overall_revs) % 2;\n    ind_cur++;\n    if (ind_cur >= n) {\n      ind_cur = 0;\n    }\n  }\n  for (int i = 0; i < n; i++) {\n    cout << GetSym(all[ind_cur], overall_revs);\n    ind_cur++;\n    if (ind_cur >= n) {\n      ind_cur = 0;\n    }\n  }\n  cout << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\ndeque<char> Q;\n\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>s;\n\tFORR(c,s) Q.push_back(c);\n\t\n\tbool rev=false;\n\tFOR(i,min(K,2*N+(K%2))) {\n\t\tif((Q[0]=='A')^rev) {\n\t\t\tQ[0]='A'+'B'-Q[0];\n\t\t}\n\t\telse {\n\t\t\tQ.pop_front();\n\t\t\trev ^= 1;\n\t\t\tQ.push_back('A'+rev);\n\t\t}\n\t}\n\t\n\tFORR(r,Q) {\n\t\tif(rev) _P(\"%c\",'A'+'B'-r);\n\t\telse _P(\"%c\",r);\n\t}\n\t_P(\"\\n\");\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define pb push_back\n#define all(r) r.begin(),r.end()\n#define rall(r) r.rbegin(),r.rend()\n#define fi first\n#define se second\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\n\nint main(){\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tmap<pair<set<int>, pii>, int> m;\n\tpii p({0, 0});\n\tset<int> st;\n\tm[{st,p}] = 0;\n\tint l = 0, c = 0;\n\tREP(i, 1, k + 1) {\n\t\tint idx = p.fi;\n\t\tint f = p.se;\n\t\tif(f ^ (st.count(idx)^(s[idx] == 'A'))) {if(st.count(idx)) st.erase(idx); else st.insert(idx);}//s[idx] = (s[idx]=='A'?'B':'A');\n\t\telse (idx += 1) %= n, (f += 1) %= 2;\n\t\tp = {idx, f};\n\t\tif(m.count({st,p})) {\n\t\t\tl = m[{st, p}];\n\t\t\tc = i - l;\n\t\t\tbreak;\n\t\t}\n\t\telse m[{st, p}] = i;\n\t}\n\t//cout<<\"OK\"<<endl;\n\tint K = c == 0 ? 0 :(k - l) % c;\n\trep(i, K) {\n\t\tint idx = p.fi;\n\t\tint f = p.se;\n\t\tif(f ^ (st.count(idx)^(s[idx] == 'A'))) {if(st.count(idx)) st.erase(idx); else st.insert(idx);}//s[idx] = (s[idx]=='A'?'B':'A');\n\t\telse (idx += 1) %= n, (f += 1) %= 2;\n\t\tp = {idx, f};\n\t}\n\tint idx = p.fi, f = p.se;\n\tstring ans;\n\trep(i, n) {\n\t\tans += (((st.count((i+idx)%n))^ f ^ s[(idx+i)%n] == 'A')? 'A' : 'B');\n\t}\n\tcout<<ans<<endl;\n\t//cout<<idx<<\" \"<<f<<\" \"<<l<<\" \"<<c<<\" \"<<K<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nll n, k;\nstring s;\n\n//count how long moving t frames takes\nll comp(ll t) {\n\tll ct = 0;\n\tfor (ll i = 0; i < min(t, 1LL*n); ++i) {\n\t\tif (i%2 == 0)\n\t\t\tct += (s[i] == 'A')+1;\n\t\telse\n\t\t\tct += (s[i] == 'B')+1;\n\t}\n\t\n\tif (t <= n)\n\t\treturn ct;\n    if (n%2 == 1)\n\t    return ct+(t-n)+(t-1)/2-n/2;\n\telse\n\t    return ct+(t-n);\n}\n\nstring trans(string g) {\n\tif (g[0] == 'A')\n\t\tg[0] = 'B';\n\telse {\n\t\tstring h = \"\";\n\t\tfor (ll i = 1; i < g.length(); ++i) {\n\t\t\tif (g[i] == 'A')\n\t\t\t\th += 'B';\n\t\t\telse\n\t\t\t\th += 'A';\n\t\t}\n\t\th += 'A';\n\t\tg = h;\n\t}\n\t\n\treturn g;\n}\n\nstring move(ll t) {\n\tstring h = \"\";\n\tfor (ll i = t; i <= t+n-1; ++i) {\n\t\tif (i < n) {\n\t\t\tll y = (int)'A'+(int)'B';\n\t\t\tif (t%2 == 0)\n\t\t\t\th += s[i];\n\t\t\telse\n\t\t\t\th += (char)(y-s[i]);\n\t\t} else {\n\t\t\tif ((t+n-1-i)%2 == 0)\n\t\t\t\th += 'A';\n\t\t\telse\n\t\t\t\th += 'B';\n\t\t}\n\t}\n    \n\treturn h;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\n\tcin >> n >> k >> s;\n\tll lo = 0, hi = 1e9;\n\n\twhile (lo != hi) {\n\t\tll mid = (lo+hi+1)/2;\n\t\tif (comp(mid) > k)\n\t\t\thi = mid-1;\n\t\telse\n\t\t\tlo = mid;\n\t}\n\t\n    int j = comp(lo);\n\ts = move(lo);\n\t\n\tif (j == k-1)\n\t\tcout << trans(s) << endl;\n\telse\n\t\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\n\nusing namespace std;\n\nusing int64 = long long;\nbool bit[200001];\n\nint main() {\n  int N, K;\n  cin >> N >> K;\n  string S;\n  cin >> S;\n\n  for(int i = 0; i < N; i++) bit[i] = S[i] == 'A';\n\n  int last = N;\n  while(K--) {\n    while(last >= 2 && bit[last - 1] && !bit[last - 2]) {\n      last -= 2;\n    }\n    if(bit[0]) {\n      bit[0] = false;\n    } else {\n      for(int i = 0; i < last; i++) bit[i] = !bit[i + 1];\n    }\n  }\n\n  for(int i = 0; i < N; i++) cout << \"BA\"[bit[i]];\n  cout << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "//Heaplax\n//别让自己后悔\n#include<bits/stdc++.h>\n#define N 200005\n#define LL long long\n#define LOG(x) cerr<<#x<<\" = \"<<x<<endl\n#define add_edge(u,v) nxt[++cnt]=head[u],head[u]=cnt,to[cnt]=v\n#define open(x) freopen(#x\".in\",\"r\",stdin),freopen(#x\".out\",\"w\",stdout)\nchar ch;bool fs;void re(int& x)\n{\n\twhile(ch=getchar(),ch<33);\n\tif(ch=='-')fs=1,x=0;else fs=0,x=ch-48;\n\twhile(ch=getchar(),ch>33)x=x*10+ch-48;\n\tif(fs)x=-x;\n}\nusing namespace std;\nint n,k;\nchar s[N];\ndeque<int> que;\nint main()\n{\n\tre(n),re(k);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;++i)\n\t\tif(s[i]=='A')que.push_back(0);\n\t\telse que.push_back(1);\n\tif(k>=2*n)\n\t{\n\t\tif(n%2==0)\n\t\t{\n\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(s[1]=='A')k^=1;\n\t\t\tif(k&1)\n\t\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t\t\tputchar(i&1?'A':'B');\n\t\t\telse\n\t\t\t{\n\t\t\t\tputchar('B');\n\t\t\t\tfor(int i=2;i<=n;++i)\n\t\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tint tag=0;\n\t\tfor(int i=1;i<=k;++i)\n\t\t{\n\t\t\tif(tag^que.front())\n\t\t\t{\n\t\t\t\tque.pop_front();\n\t\t\t\ttag^=1;\n\t\t\t\tque.push_back(tag);\n\t\t\t}\n\t\t\telse que.front()^=1;\n\t\t}\n\t\twhile(!que.empty())\n\t\t\tputchar(tag^que.front()?'B':'A'),que.pop_front();\n\t}\n}\n/*\nBAB\nBAA\nBBA\nABA\nBBA\nABA\n*/\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nint N,K;\nchar S[400010];\nint main(){\n\tscanf(\"%d%d%s\",&N,&K,S);\n\tint l=0,r=N,rev=0;\n\twhile(K--&&l<N){\n\t\tif((S[l]^rev)=='A')S[l]^=3;\n\t\telse l++,rev^=3,S[r++]='A'^rev;\n\t}\n\tif(N%2==1&&K%2==0)S[l]^=3;\n\tfor(int i=l;i<r;i++)putchar(S[i]^rev);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n, k, a[200005], ht;\nchar ipt[200005];\n\nvector<int> gen_seq (int S) {\n\tvector<int> ret;\n\tfor(int i=S;i<=n;i++) ret.push_back(a[i]^((S+1)%2));\n\tfor(int i=1;i<S;i++) ret.push_back((n-(int)ret.size()+1)%2);\n\treturn ret;\n}\nvoid solve (int S, int R) {\n\tvector<int> tmp = gen_seq(S);\n\tif(R) tmp[0] = 1;\n\tfor(int i=0;i<n;i++) putchar(tmp[i]?'B':'A');\n\tputs(\"\");\n\texit(0);\n}\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,ipt+1);\n\tfor(int i=1;i<=n;i++) a[i] = (ipt[i] == 'B');\n\tfor(int i=n;i>=1;i++) {\n\t\tif(a[i] != (n-i)%2) {ht = i; break;}\n\t}\n\tfor(int i=1;i<=ht;i++) {\n\t\tif(k == 0) solve(i, 0);\n\t\tif((a[i]+i)%2) {\n\t\t\tif(k == 1) solve(i, 1);\n\t\t\tk -= 2;\n\t\t}\n\t\telse k--;\n\t}\n\tsolve(n+1, ((n%2) && (k%2)));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <deque>\nusing namespace std;\n\nconst int MAX_N = 200005;\n\ndeque<int> q;\n\nchar S[MAX_N];\n\nint main() {\n  int N, K;\n  \n  scanf(\"%d%d\", &N, &K);\n  scanf(\"%s\", S + 1);\n\n  for (int i = 1; i <= N; ++i) \n    q.push_back(S[i] == 'A' ? 1 : 0);\n\n  int rev = 0, l = 0;\n  while (K > 0) {\n    K--;\n    if (q[0] ^ rev == 1) {\n      q[0] = rev;\n    } else {\n      q.pop_front();\n      q.push_back(rev);\n      rev ^= 1, l++;\n      if (l == N) break;\n    }\n  }\n\n  K %= 2 * N;\n\n  for (int i = 1; i <= K; ++i) {\n    if (q[0] ^ rev == 1) {\n      q[0] = rev;\n    } else {\n      q.pop_front();\n      q.push_back(rev);\n      rev ^= 1, l++;\n    }    \n  }\n\n  for (int i = 0; i < q.size(); ++i)\n    putchar((q[i] ^ rev) == 1 ? 'A' : 'B');\n  puts(\"\");\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cctype>\nusing namespace std;\nconst int N=2e5;\nint n,k,hea,tai;\nbool arr[N*6+1],rev;\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\thea=n,tai=1;\n\tfor(int i=1;i<=n;++i) {\n\t\tchar c=getchar();\n\t\twhile(!isalpha(c)) {\n\t\t\tc=getchar();\n\t\t}\n\t\tarr[i]=c=='A';\n\t}\n\tfor(int i=1;(i<=n*5)&&(i<=k);++i) {\n\t\tif(arr[tai]^rev) {\n\t\t\tarr[tai]^=1;\n\t\t} else {\n\t\t\tarr[++hea]=arr[tai++];\n\t\t\trev^=1;\n\t\t}\n\t}\n\tif(k>n*5) {\n\t\tk-=n*5;\n\t\tif(arr[tai]^rev) {\n\t\t\tputchar(k&1?'B':'A');\n\t\t\tfor(int i=2;i<=n;++i) {\n\t\t\t\tputchar(i&1?'A':'B');\n\t\t\t}\n\t\t} else {\n\t\t\tfor(int i=1;i<=n;++i) {\n\t\t\t\tputchar(i&1?'B':'A');\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor(int i=tai;i<=hea;++i) {\n\t\t\tputchar(arr[i]^rev?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint n,K;\n#define Maxn 200010\nchar ch[Maxn<<1],T[Maxn<<1],Ans[Maxn<<1];\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",ch+1);\n\tint T=0;\n\tfor(register int i=1;i<=n;++i){\n\t\tif(ch[i]=='A'){\n\t\t\tif((i-1)%2==0)T+=2;\n\t\t\telse T++;\n\t\t}else{\n\t\t\tif((i-1)%2==1)T+=2;\n\t\t\telse T++;\n\t\t}\n\t}\n\tif(K>=T){\n\t\tfor(int i=1;i<=n;++i)\n\t\t    if((n-i)%2==1)Ans[i]='B';\n\t\t    else Ans[i]='A';\n\t\tfor(register int i=1;i<=n;++i)printf(\"%c\",Ans[i]);\n\t\tputs(\"\");\n\t}else{\n\t\tint d=0,at=1;\n\t\tbool flag=true;\n\t\twhile(K--){\n\t\t\tif(ch[at]=='A'){\n\t\t\t\tif(d%2==0){\n\t\t\t\t\tch[at]='B';\n\t\t\t\t\tif(!K)flag=false;\n\t\t\t\t}else{\n\t\t\t\t\tch[at]='A';\n\t\t\t\t\td++;\n\t\t\t\t\tat++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(d%2==1){\n\t\t\t\t\tch[at]='B';\n\t\t\t\t\tif(!K)flag=false;\n\t\t\t\t}else{\n\t\t\t\t\tch[at]='A';\n\t\t\t\t\td++;\n\t\t\t\t\tat++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t    if(flag){\n\t\tfor(register int i=at;i<=n;++i){\n\t\t\tif(ch[i]=='A'){\n\t\t\t\tif((at-1)%2==1)printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}else{\n\t\t\t\tif((at-1)%2==1)printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t}\n\t}else{\n\t\tprintf(\"B\");\n\t\tfor(register int i=at+1;i<=n;++i){\n\t\t\tif(ch[i]=='A'){\n\t\t\t\tif((at-1)%2==1)printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}else{\n\t\t\t\tif((at-1)%2==1)printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t}\n\t}\n\t\tfor(register int i=n+1;i<n+at;++i){\n\t\t\tint d=at-1-(i-n);\n\t\t\tif(d%2==1)printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t}\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define ll long long\n#define rep2(i,a,b) for(int i=a;i<=b;++i)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define pii pair<int,int>\n#define tii tuple<int,int,int>\n#define pq priority_queue<int>\n#define pqg priority_queue<int,vector<int>,greater<int>>\n#define pb push_back\n#define edge(v,a,b) v[a].pb(b);v[b].pb(a);\nll int MOD=1e9+7;\n#define INF 2*1e9\n#define N 310000 \nusing namespace std;\nstring alphabet(\"abcdefghijklmnopqrstuvwxyz\");\n\nmain(){\n    int n,k;\n    cin>>n>>k;\n    bitset<N> b;\n    string ss;\n    cin>>ss;\n    for(int i=ss.size()-1;i>=0;i--){\n        if(ss[i]=='A') b[(int)ss.size()-1-i]=1;\n    }\n    int s=ss.size()-1,sss=ss.size()-1;\n    int count[N]={},t=1,a=1;\n    while(sss>=0){\n        if(t==b[sss]) count[a]=count[a-1]+2;\n        else count[a]=count[a-1]+1;\n        if(count[a]>k) break;\n        t^=1; a++; sss--;\n    }\n    if(count[a]>k){\n        a--;\n        b<<=a;\n        if(a%2) b.flip();\n        if(count[a]<k){\n            b[s]=0;\n        }\n        rep(i,a){\n            b[i]=(i+1)%2;\n        }\n    }\n    else{\n        k-=count[s+1];\n        rep(i,ss.size()){\n            b[i]=(i+1)%2;\n        }\n        if(k%2&&n%2) b[s]=0;\n    }\n    while(s>=0){\n        if(b[s]) cout<<'A';\n        else cout<<'B';\n        s--;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <set>\n#include <map>\n#include <unordered_map>\n#include <unordered_set>\n#include <cstring>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <random>\n#include <iomanip>\n#include <functional>\n#include <cassert>\n \nusing namespace std;\n \ntypedef long long ll;\n \nint main() {\n  ios_base::sync_with_stdio(false); cin.tie(0);\n#ifdef LOCAL\n  freopen(\"input.txt\", \"r\", stdin);\n#endif\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  s += 'B';\n  ++n;\n  deque <int> lens;\n  int len = 1;\n  for (int i = 1; i < n; ++i) {\n    if (s[i] != s[i - 1]) {\n      lens.push_back(len);\n      len = 1;\n    } else {\n      ++len;\n    }\n  }\n  lens.push_back(len);\n  char c = s[0];\n  auto go = [&] () {\n    if (c == 'A') {\n      int x = lens.front();\n      lens.pop_front();\n      if (x == 1) {\n        ++lens.front();\n      } else {\n        lens.push_front(x - 1);\n        lens.push_front(1);\n      }\n      c = 'B';\n    } else {\n      int x = lens.front();\n      lens.pop_front();\n      lens.push_back(1);\n      if (x > 1) {\n        lens.push_front(x - 1);\n        c = 'A';\n      }\n    }\n  };  \n  for (int i = 0; i < k; ++i) {\n    go();\n    if ((int)lens.size() == n && c == 'B') {\n      break;\n    }\n    if ((int)lens.size() == n && c == 'A') {\n      if ((k - i - 1) % 2 == 1) {\n        go();\n      }\n      break;\n    }\n  }\n  string ans;\n  for (auto l : lens) {\n    for (int i = 0; i < l; ++i) ans += c;\n    if (c == 'A') c = 'B';\n    else c = 'A';\n  }\n  ans.pop_back();\n  cout << ans << '\\n';\n}\n \n"
  },
  {
    "language": "C++",
    "code": "// {{{ by shik\n#include <bits/stdc++.h>\n#include <unistd.h>\n#define SZ(x) ((int)(x).size())\n#define ALL(x) begin(x),end(x)\n#define REP(i,n) for ( int i=0; i<int(n); i++ )\n#define REP1(i,a,b) for ( int i=(a); i<=int(b); i++ )\n#define FOR(it,c) for ( auto it=(c).begin(); it!=(c).end(); it++ )\n#define MP make_pair\n#define PB push_back\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> PII;\ntypedef vector<int> VI;\n\n#ifdef SHIK\ntemplate<typename T>\nvoid _dump( const char* s, T&& head ) { cerr<<s<<\"=\"<<head<<endl; }\n\ntemplate<typename T, typename... Args>\nvoid _dump( const char* s, T&& head, Args&&... tail ) {\n    int c=0;\n    while ( *s!=',' || c!=0 ) {\n        if ( *s=='(' || *s=='[' || *s=='{' ) c++;\n        if ( *s==')' || *s==']' || *s=='}' ) c--;\n        cerr<<*s++;\n    }\n    cerr<<\"=\"<<head<<\", \";\n    _dump(s+1,tail...);\n}\n\n#define dump(...) do { \\\n    fprintf(stderr, \"%s:%d - \", __PRETTY_FUNCTION__, __LINE__); \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n} while (0)\n\ntemplate<typename Iter>\nostream& _out( ostream &s, Iter b, Iter e ) {\n    s<<\"[\";\n    for ( auto it=b; it!=e; it++ ) s<<(it==b?\"\":\" \")<<*it;\n    s<<\"]\";\n    return s;\n}\n\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const pair<A,B> &p ) { return s<<\"(\"<<p.first<<\",\"<<p.second<<\")\"; }\ntemplate<typename T>\nostream& operator <<( ostream &s, const vector<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T, size_t N>\nostream& operator <<( ostream &s, const array<T,N> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T>\nostream& operator <<( ostream &s, const set<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const map<A,B> &c ) { return _out(s,ALL(c)); }\n#else\n#define dump(...)\n#endif\n\ntemplate<typename T>\nvoid _R( T &x ) { cin>>x; }\nvoid _R( int &x ) { scanf(\"%d\",&x); }\nvoid _R( long long &x ) { scanf(\"%\" PRId64,&x); }\nvoid _R( double &x ) { scanf(\"%lf\",&x); }\nvoid _R( char &x ) { scanf(\" %c\",&x); }\nvoid _R( char *x ) { scanf(\"%s\",x); }\n\nvoid R() {}\ntemplate<typename T, typename... U>\nvoid R( T& head, U&... tail ) {\n    _R(head);\n    R(tail...);\n}\n\ntemplate<typename T>\nvoid _W( const T &x ) { cout<<x; }\nvoid _W( const int &x ) { printf(\"%d\",x); }\ntemplate<typename T>\nvoid _W( const vector<T> &x ) {\n    for ( auto i=x.cbegin(); i!=x.cend(); i++ ) {\n        if ( i!=x.cbegin() ) putchar(' ');\n        _W(*i);\n    }\n}\n\nvoid W() {}\ntemplate<typename T, typename... U>\nvoid W( const T& head, const U&... tail ) {\n    _W(head);\n    putchar(sizeof...(tail)?' ':'\\n');\n    W(tail...);\n}\n\n#ifdef SHIK\n#define FILEIO(...)\n#else\n#define FILEIO(name) do {\\\n    freopen(name \".in\",\"r\",stdin); \\\n    freopen(name \".out\",\"w\",stdout); \\\n} while (0)\n#endif\n\n// }}}\n\nconst int N=2e5+10;\nint n,k,a[2*N];\nchar s[N];\n\nvoid show( int x=-1 ) {\n    REP(i,n) {\n        if ( i==x ) printf(\"\\e[1;32m\");\n        putchar(a[i]?'-':'|');\n        if ( i==x ) printf(\"\\e[0m\");\n    }\n    W(\"\");\n}\n\nint m;\nvoid sim() {\n    int x=0,d=1;\n    while ( x>=0 && x<m ) {\n        // show(x);\n        if ( a[x]==0 ) d=-d;\n        a[x]^=1;\n        x+=d;\n    }\n    if ( m>=5 && a[m-2]==1 && a[m-1]==0 ) m-=2;\n    dump(x);\n    show();\n}\n\nint main() {\n    R(n,k,s);\n    m=n;\n    REP(i,n) a[i]=s[i]-'A';\n    // REP(i,n) a[i]=rand()%2;\n    REP1(i,n,N-1) a[i]=(i-n+1)%2;\n    int pos=0,t=0;\n    while ( pos<n && k>0 ) {\n        k--;\n        if ( (a[pos]^t)==0 ) a[pos]^=1;\n        else {\n            pos++;\n            t^=1;\n        }\n    }\n    REP(i,n) putchar(\"AB\"[a[pos+i]^t]);\n    W(\"\");\n    // REP(i,k) {\n        // dump(i);\n        // sim();\n    // }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <set>\n#include <map>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <bitset>\t\t//UWAGA - w czasie kompilacji musi byc znany rozmiar wektora - nie mozna go zmienic\n#include <cassert>\n#include <iomanip>\t\t//do setprecision\n#include <ctime>\n#include <complex>\nusing namespace std;\n\n#define FOR(i,b,e) for(int i=(b);i<(e);++i)\n#define FORQ(i,b,e) for(int i=(b);i<=(e);++i)\n#define FORD(i,b,e) for(int i=(b)-1;i>=(e);--i)\n#define REP(x, n) for(int x = 0; x < (n); ++x)\n\n#define ST first\n#define ND second\n#define PB push_back\n#define MP make_pair\n#define LL long long\n#define ULL unsigned LL\n#define LD long double\n\nconst double pi = 3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342;\n\nconst int MR = 2e5 + 10;\n\nchar S[MR], res[MR];\n\nint main()\n{\n\tint N, K;\n\tscanf(\"%d%d%s\", &N, &K, S);\n\tif (N == 1)\n\t{\n\t\tif (S[0] == 'A')\n\t\t\tS[0] += K % 2;\n\t\telse\n\t\t\tS[0] -= K % 2;\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\t// zobacz czy minimum raz przejdzie\n\tif (K == 1 && S[0] == 'A')\n\t{\n\t\tS[0] = 'B';\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\tbool sel = 1;\n\tset<int> pom;\n\tint add = 0;\n\tres[N - 1] = 'A';\n\tFORD(i, N-1, 0)\n\t{\n\t\t// spr czy mozesz poczatek dorzucic\n\t\tif (!sel)\n\t\t{\n\t\t\tif (S[i + 1] == 'A')\n\t\t\t\tpom.insert(-add + 1);\n\t\t}\n\t\telse if (S[i + 1] == 'B')\n\t\t\tpom.insert(-add + 1);\n\t\t// zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n\t\tif (pom.find(K - add) != pom.end())\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'A';\n\t\t\telse\n\t\t\t\tres[i] = 'B';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'B';\n\t\t\telse\n\t\t\t\tres[i] = 'A';\n\t\t}\n\t\t// przesun wszystkie pozycje o 1 dla kolejnego\n\t\tadd++;\n\t\t// zmien litere\n\t\tsel = !sel;\n\t}\n\n\tadd--;\n\tchar first;\n\t// wyznacz ile razy bedzie A na poczatku\n\tif (sel)\n\t{\n\t\t// poprzednie bylo A, czyli odejmij wszystkie wyjatki, gdzie pierwsze bedzie B\n\t\tif (pom.find(K - add) != pom.end())\n\t\t\tfirst = 'B';\n\t\telse\n\t\t\tfirst = 'A';\n\t\tK = pom.size();\n\t}\n\telse\n\t{\n\t\tfirst = 'B';\n\t\tint sub = 0;\n\t\tfor (auto pos : pom)\n\t\t{\n\t\t\tif (pos + add > K)\n\t\t\t\tbreak;\n\t\t\telse if (pos + add == K)\n\t\t\t\tfirst = 'A';\n\t\t\tsub++;\n\t\t}\n\n\t\tK -= sub;\n\t}\n\n\t// jeszcze raz\n\tpom.clear();\n\tsel = 1;\n\tadd = 0;\n\tres[N - 1] = 'A';\n\tFORD(i, N - 1, 0)\n\t{\n\t\t// spr czy mozesz poczatek dorzucic\n\t\tif (!sel)\n\t\t{\n\t\t\tif (S[i + 1] == 'A')\n\t\t\t\tpom.insert(-add + 1);\n\t\t}\n\t\telse if (S[i + 1] == 'B')\n\t\t\tpom.insert(-add + 1);\n\t\t// zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n\t\tif (pom.find(K - add) != pom.end())\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'A';\n\t\t\telse\n\t\t\t\tres[i] = 'B';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'B';\n\t\t\telse\n\t\t\t\tres[i] = 'A';\n\t\t}\n\t\t// przesun wszystkie pozycje o 1 dla kolejnego\n\t\tadd++;\n\t\t// zmien litere\n\t\tsel = !sel;\n\t}\n\n\tres[0] = first;\n\n\tprintf(\"%s\\n\", res);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n//#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\nconst int N = 2e5 + 10;\nconst int L = 5e7 + 10;\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            if (l == n)\n                l = 0;\n            if (r == n)\n                r = 0;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1)\n        dif %= 3;\n    else\n        dif %= 2;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l; i <= r; ++i) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(n+1,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'B':'A');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <algorithm>\n#include <numeric>\n#include <set>\n#include <map>\n#include <queue>\n#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <cctype>\n#include <cassert>\n#include <limits>\n#include <functional>\n#include <iomanip>\n#include <complex>\n#include <bitset>\n#include <stack>\nusing namespace std;\n \n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define repl(i,s,n) for(int i=s; i<=n; ++i)\n#define rer(i,l,u) for(int (i)=(int)(l);(i)<=(int)(u);++(i))\n#define reu(i,l,u) for(int (i)=(int)(l);(i)<(int)(u);++(i))\n#if defined(_MSC_VER) || __cplusplus > 199711L\n#define aut(r,v) auto r = (v)\n#else\n#define aut(r,v) __typeof(v) r = (v)\n#endif\n#define each(it,o) for(aut(it, (o).begin()); it != (o).end(); ++ it)\n#define ktya(x) sort(all(x))\n#define maxs(x,y) (x = max(x,y))\n#define mins(x,y) (x = min(x,y))\n#define all(o) (o).begin(), (o).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset(m,v,sizeof(m))\n#define INF 1e18\n#define INFLL 1000000000000000007LL\n#define SIZE 200105\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mind(a,b) (a>b?b:a)\n#define maxd(a,b) (a>b?a:b)\n#define PI (acos(-1))\ntypedef vector<int> vi; typedef pair<int, int> pii; typedef vector<pair<int, int> > vpii; typedef long long ll;\ntypedef pair<int,ll> pill; typedef pair<ll,int> plli; \ntypedef pair<double, int> pdi;\ntemplate<typename T, typename U> inline void amin(T &x, U y) { if(y < x) x = y; }\ntemplate<typename T, typename U> inline void amax(T &x, U y) { if(x < y) x = y; }\ntypedef complex<double> P;\nll MOD = 1000000007;\n//ll MOD=998244353;\ntypedef ll Weight;\nstruct Edge {\n\tint src, dst;\n\tWeight weight;\n};\nbool operator < (const Edge &e, const Edge &f) {\n\treturn e.weight != f.weight ? e.weight > f.weight : // !!INVERSE!!\n\te.src != f.src ? e.src < f.src : e.dst < f.dst;\n}\ntypedef vector<Edge> Edges;\nint N;\nll K;\nstring str;\nchar hoge[2]={'A','B'};\nint main(){\n\tll KK;\n\tcin>>N>>KK;\n\tcin>>str;\n\tstring nise=\"\";\n\trep(i,N){\n\t\tnise=hoge[i%2]+nise;\n\t}\n\tfor(ll x=KK;x<=KK;x++){\n\t\tstring ans=\"\";\n\t\tll K=x;\n\t\trep(i,N){\n\t\t\tif(K<0)continue;\n\t\t\tif(K==0){\n\t\t\t\t//i kai hanten\n\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\tif(i%2==1){\n\t\t\t\t\t\tif(str[j]=='A')ans+='B';\n\t\t\t\t\t\telse ans+='A';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tans+=str[j];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sz=ans.size();\n\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\tans+=nise[j];\n\t\t\t\t}\n\t\t\t\tcout<<ans<<endl;\n\t\t\t\tK-=1;\n\t\t\t\t//return 0;\n\t\t\t}\n\t\t\tif(str[i]==hoge[i%2]){\n\t\t\t\tif(K==1){\n\t\t\t\t\tans+='B';\n\t\t\t\t\tfor(int j=i+1;j<N;j++){\n\t\t\t\t\t\tif(i%2==1){\n\t\t\t\t\t\t\tif(str[j]=='A')ans+='B';\n\t\t\t\t\t\t\telse ans+='A';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tans+=str[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sz=ans.size();\n\t\t\t\t\tfor(int j=sz;j<N;j++){\n\t\t\t\t\t\tans+=nise[j];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<ans<<endl;\n\t\t\t\t\tK-=2;\n\t\t\t\t\t//return 0;\n\t\t\t\t}\n\t\t\t\tK-=2;\n\t\t\t}else{\n\t\t\t\tK-=1;\n\t\t\t}\n\t\t}\n\t\tif(K>=0)cout<<nise<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#include<bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n\n#define F first\n#define S second\n//#define int long long\n#define ll long long\n//#define int  unsigned long long\n#define pb push_back\n//#define double long double\n\nusing namespace std;\nusing namespace __gnu_pbds;\ntypedef  tree< int , null_type, less<int>, rb_tree_tag, tree_order_statistics_node_update> ordered_set;\nconst int mod = 1e9 + 7;\nconst int N = 1700000;\nstring s;\nint a[N], b[N];\nmain(){\n    ios_base::sync_with_stdio(0);\n    cin.tie(0);\n    //freopen(\"input.txt\", \"r\", stdin);\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    int c;\n    srand(time(NULL));\n    for (int i = 1; i <= n; i++){\n        a[i] = s[i - 1] - 'A';\n       // a[i] = rand() % 2;\n       b[i] = a[i];\n       c = k;\n       a[i] =  (a[i] ^ ((n - i) % 2));\n    }\n    if (n % 2 == 0){\n        int p = 1;\n        while(p <= n && k){\n            k--;\n            if (a[p] == 1){\n                a[p] = 0;\n            } else{\n                p++;\n            }\n        }\n        for (int i = 1; i <= n; i++){\n            a[i] = a[i + p - 1];\n        }\n    } else{\n        int p = 1;\n        while(p <= n && k){\n            k--;\n            if (a[p] == 0){\n                a[p] = 1;\n            } else{\n                p++;\n            }\n        }\n        for (int i = 1; i <= n; i++){\n            a[i] = a[i + p - 1];\n        }\n        a[1] ^= (k % 2);\n    }\n    for (int i = 1; i <= n; i++){\n        if ( (a[i] ^ ((n - i) % 2)) == 1)\n        cout << \"B\"; else cout << \"A\";\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define fr(i,n) for(int i=0;i<(n);++i)\n#define foor(i,a,b) for(int i=(a);i<=(b);++i)\n#define rf(i,n) for(int i=(n);i--;)\n#define roof(i,b,a) for(int i=(b);i>=(a);--i)\n#define elsif else if\n#define all(x) x.begin(),x.end()\n#define Sort(x) sort(all(x))\n#define Reverse(x) reverse(all(x))\n#define PQ priority_queue\n#define NP(x) next_permutation(all(x))\n#define M_PI 3.14159265358979323846\n#define popcount __builtin_popcount\nusing namespace std;            typedef vector<bool> vb; typedef vector<vb>  vvb;\n                                typedef vector<int>  vi; typedef vector<vi>  vvi;\ntypedef long long ll;           typedef vector< ll>  vl; typedef vector<vl>  vvl;\ntypedef unsigned long long ull; typedef vector<ull>  vu; typedef vector<vu>  vvu;\ntypedef double dbl;             typedef vector<dbl>  vd; typedef vector<vd>  vvd;\ntypedef string str;             typedef vector<str>  vs; typedef vector<vs>  vvs;\ntypedef pair<int,int>pii;       typedef vector<pii>vpii; typedef map<int,int>mii;\ntypedef pair< ll, ll>pll;       typedef vector<pll>vpll; typedef map< ll, ll>mll;\ntypedef pair<dbl,dbl>pdd;       typedef vector<pdd>vpdd; typedef map<dbl,dbl>mdd;\ntypedef pair<str,str>pss;       typedef vector<pss>vpss; typedef map<str,str>mss;\ntypedef pair<int, ll>pil;       typedef vector<pil>vpil; typedef map<int, ll>mil;\ntypedef pair< ll,int>pli;       typedef vector<pli>vpli; typedef map< ll,int>mli;\ntypedef pair<dbl,int>pdi;       typedef vector<pdi>vpdi; typedef map<dbl,int>mdi;\ntemplate<typename T>vector<T>&operator<<(vector<T>&v,const T t){v.push_back(t);return v;}\ntemplate<typename T>multiset<T>&operator<<(multiset<T>&m,const T t){m.insert(t);return m;}\ntemplate<typename T>set<T>&operator<<(set<T>&s,const T t){s.insert(t);return s;}\ntemplate<typename T>stack<T>&operator<<(stack<T>&s,const T t){s.push(t);return s;}\ntemplate<typename T>stack<T>&operator>>(stack<T>&s,T&t){t=s.top();s.pop();return s;}\ntemplate<typename T>queue<T>&operator<<(queue<T>&q,const T t){q.push(t);return q;}\ntemplate<typename T>queue<T>&operator>>(queue<T>&q,T&t){t=q.front();q.pop();return q;}\ntemplate<typename T,typename U>PQ<T,vector<T>,U>&operator<<(PQ<T,vector<T>,U>&q,const T t){q.push(t);return q;}\ntemplate<typename T,typename U>PQ<T,vector<T>,U>&operator>>(PQ<T,vector<T>,U>&q,T&t){t=q.top();q.pop();return q;}\ntemplate<typename T,typename U>istream&operator>>(istream&s,pair<T,U>&p){return s>>p.first>>p.second;}\ntemplate<typename T>istream&operator>>(istream&s,vector<T>&v){fr(i,v.size()){s>>v[i];}return s;}\ntemplate<typename T,typename U>ostream&operator<<(ostream&s,const pair<T,U>p){return s<<p.first<<\" \"<<p.second;}\n//template<typename T>ostream&operator<<(ostream&s,const vector<T>v){for(auto a:v){s<<a<<endl;}return s;}\ntemplate<typename T>ostream&operator<<(ostream&s,const vector<T>v){fr(i,v.size()){i?s<<\" \"<<v[i]:s<<v[i];}return s;}\ntemplate<typename T>ostream&operator<<(ostream&s,const deque<T>d){fr(i,d.size()){i?s<<\" \"<<d[i]:s<<d[i];}return s;}\ntemplate<typename T>_Bit_reference operator&=(_Bit_reference b,T t){return b=b&t;}\ntemplate<typename T>_Bit_reference operator^=(_Bit_reference b,T t){return b=b^t;}\ntemplate<typename T>_Bit_reference operator|=(_Bit_reference b,T t){return b=b|t;}\ntemplate<typename T,typename U>pair<T,U>operator+(pair<T,U>a,pair<T,U>b){return {a.first+b.first,a.second+b.second};}\ntemplate<typename T,typename U>pair<T,U>operator-(pair<T,U>a,pair<T,U>b){return {a.first-b.first,a.second-b.second};}\ntemplate<typename T,typename U>pair<T,U>&operator+=(pair<T,U>&a,pair<T,U>b){return a=a+b;}\ntemplate<typename T,typename U>pair<T,U>&operator-=(pair<T,U>&a,pair<T,U>b){return a=a-b;}\nvoid print(void){cout<<endl;}\ntemplate<typename T>void print(T t){cout<<t<<endl;}\ntemplate<typename T,typename...U>void print(T&&t,U&&...u){cout<<t<<\" \";print(forward<U>(u)...);}\nbool YN(bool b){print(b?\"YES\":\"NO\");return b;}bool PI(bool b){print(b?\"POSSIBLE\":\"IMPOSSIBLE\");return b;}\nbool Yn(bool b){print(b?\"Yes\":\"No\");return b;}bool Pi(bool b){print(b?\"Possible\":\"Impossible\");return b;}\nbool yn(bool b){print(b?\"yes\":\"no\");return b;}bool pi(bool b){print(b?\"possible\":\"impossible\");return b;}\nconst int e5=1e5;\nconst int e9=1e9;\nconst int MD=1e9+7;\nconst ll e18=1e18;\ntemplate<typename T>str to_string(const T&n){ostringstream s;s<<n;return s.str();}\ntemplate<typename T>T&chmax(T&a,T b){return a=max(a,b);}\ntemplate<typename T>T&chmin(T&a,T b){return a=min(a,b);}\ntemplate<typename T,typename U>vector<pair<T,U>>dijkstra(const vector<vector<pair<T,U>>>&E,const U s,const T inf){using P=pair<T,U>;vector<P>d;fr(i,E.size()){d<<P{inf,i};}PQ<P,vector<P>,greater<P>>pq;pq<<(d[s]=P{0,s});while(pq.size()){P a=pq.top();pq.pop();U v=a.second;if(d[v].first>=a.first){for(P e:E[v]){if(d[v].first+e.first<d[e.second].first){d[e.second]=P{d[v].first+e.first,v};pq<<P{d[v].first+e.first,e.second};}}}}return d;}\ntemplate<typename T,typename U>map<U,pair<T,U>>dijkstra(map<U,vector<pair<T,U>>>E,const U s,const T inf){using P=pair<T,U>;map<U,P>d;for(pair<U,vector<P>>e:E){d[e.first]=P{inf,e.first};}PQ<P,vector<P>,greater<P>>pq;pq<<(d[s]=P{0,s});while(pq.size()){P a=pq.top();pq.pop();U v=a.second;if(d[v].first>=a.first){for(P e:E[v]){if(d[v].first+e.first<d[e.second].first){d[e.second]=P{d[v].first+e.first,v};pq<<P{d[v].first+e.first,e.second};}}}}return d;}\nll maxflow(vector<mil>&E,int s,int t){ll z=0;vi b(E.size(),-1);for(int i=0;;++i){static auto dfs=[&](int v,ll f,auto&dfs)->ll{if(v==t)return f;b[v]=i;for(auto&p:E[v]){if(b[p.first]<i&&p.second){if(ll r=dfs(p.first,min(f,p.second),dfs)){p.second-=r;E[p.first][v]+=r;return r;}}}return 0;};ll x=dfs(s,ll(1e18),dfs);z+=x;if(x==0)return z;}}\ntemplate<typename T>T distsq(pair<T,T>a,pair<T,T>b){return (a.first-b.first)*(a.first-b.first)+(a.second-b.second)*(a.second-b.second);}\ntemplate<typename T>T max(const vector<T>a){assert(a.size());T m=a[0];for(T e:a){m=max(m,e);}return m;}\ntemplate<typename T>T min(const vector<T>a){assert(a.size());T m=a[0];for(T e:a){m=min(m,e);}return m;}\ntemplate<typename T>T gcd(const T a,const T b){return a?gcd(b%a,a):b;}\ntemplate<typename T>T gcd(const vector<T>a){T g=a[0];for(T e:a){g=gcd(g,e);}return g;}\ntemplate<typename T>vector<T>LIS(const vector<T>A){vector<T>B;for(T a:A){auto it=lower_bound(all(B),a);if(it==B.end()){B<<a;}else{*it=a;}}return B;}\ntemplate<typename T>vector<T>LCS(vector<T>A,vector<T>B){int N=A.size(),M=B.size();vector<vector<pair<int,pii>>>d(N+1,vector<pair<int,pii>>(M+1));fr(i,N){fr(j,M){if(A[i]==B[j]){d[i+1][j+1]={d[i][j].first+1,{i,j}};}else{d[i+1][j+1]=max(d[i][j+1],d[i+1][j]);}}}vector<T>r;for(pii p={N,M};d[p.first][p.second].first;p=d[p.first][p.second].second){r<<A[d[p.first][p.second].second.first];}Reverse(r);return r;}\nstr LCS(str S,str T){vector<char>s=LCS(vector<char>(S.begin(),S.end()),vector<char>(T.begin(),T.end()));return str(s.begin(),s.end());}\ntemplate<typename T>vector<pair<T,T>>ConvexHull(vector<pair<T,T>>V){if(V.size()<=3){return V;}Sort(V);rf(i,V.size()-1)V<<V[i];vector<pair<T,T>>r;for(pair<T,T>p:V){int s=r.size();while(s>=2&&(p.second-r[s-1].second)*(p.first-r[s-2].first)<(p.second-r[s-2].second)*(p.first-r[s-1].first)){r.pop_back();--s;}r<<p;}r.pop_back();return r;}\nclass UnionFind{vi p,s;void extend(int N){foor(i,p.size(),N){p<<i;s<<1;}}public:UnionFind(void){}UnionFind(int N){extend(N-1);}int find(int i){extend(i);return p[i]=p[i]==i?i:find(p[i]);}void unite(int a,int b){extend(a);extend(b);if((a=find(a))!=(b=find(b))){if(s[a]>s[b]){swap(a,b);}s[b]+=s[a];p[a]=b;}}void unite(pii p){return unite(p.first,p.second);}bool same(int a,int b){extend(a);extend(b);return find(a)==find(b);}bool same(pii p){return same(p.first,p.second);}int size(int x){extend(x);return s[find(x)];}};\nll MST(vector<pair<ll,pii>>&E){Sort(E);UnionFind uf;ll z=0;for(auto&e:E){if(!uf.same(e.second)){z+=e.first;uf.unite(e.second);}}return z;}\nll strmod(const str&s,const int m){ll x=0;fr(i,s.size()){x=(x*10+s[i]-48)%m;}return x;}\nvvl mul(const vvl&A,const vvl&B,const int m){vvl C;fr(y,A.size()){C<<vl(B[y].size());}fr(y,C.size()){fr(x,C[y].size()){fr(i,A[0].size()){(C[y][x]+=A[y][i]*B[i][x])%=m;}}}return C;}\nvvl pow(const vvl&A,const ll n,const int m){vvl B;fr(y,A.size()){B<<vl(A.size());}if(n==0){fr(i,B.size()){B[i][i]=1;}}elsif(n%2){B=mul(A,pow(A,n-1,m),m);}else{vvl C=pow(A,n/2,m);B=mul(C,C,m);}return B;}\nll pow(const ll a,const ll n,const int m){ll t;return n?(n&1?a>=0?a%m:(m-(-a%m))%m:1)*(t=pow(a,n>>1,m),t*t%m)%m:!!a;}\nll inv(const ll x,const int p){assert(x!=0);return pow(x,p-2,p);}\nll inv(const ll x){return inv(x,MD);}\nvpll fact(const int n,const int p){assert(n<p);vpll v(n+1);v[0].first=1;foor(i,1,n){v[i].first=v[i-1].first*i%p;}v[n].second=inv(v[n].first,p);roof(i,n,1){v[i-1].second=v[i].second*i%p;}return v;}\nclass Combination{const vpll f;const int M;public:Combination(int n,int m):f(fact(n,m)),M(m){}Combination(int n):Combination(n,MD){}ll P(int n,int k){return n<0||k<0||n<k?0ll:f[n].first*f[n-k].second%M;}ll C(int n,int k){return k<0?0:P(n,k)*f[k].second%M;}ll H(int n,int k){return n==0&&k==0?1ll:C(n+k-1,k);}ll F(int n){return n<0?0:f[n].first;}};\nll C2(const int n){return(ll)n*~-n/2;}\nll sum(const vi a){ll s=0;for(int e:a){s+=e;}return s;}\nll sum(const vl a){ll s=0;for(ll e:a){s+=e;}return s;}\ntemplate<typename T>int MSB(T N){int r=-1;for(;N>0;N/=2){++r;}return r;}\ntemplate<typename T>class SegmentTree{vector<T>S;T(*const op)(T a,T b);const T zero;const int B;public:SegmentTree(int N,T(*f)(T a,T b),const T zero):S(1<<MSB(N-1)+2,zero),op(f),zero(zero),B(1<<MSB(N-1)+1){}SegmentTree(vector<T>v,T(*f)(T a,T b),const T zero):SegmentTree(v.size(),f,zero){fr(i,v.size()){S[S.size()/2+i]=v[i];}roof(i,S.size()/2-1,1){S[i]=op(S[i*2],S[i*2+1]);}}T calc(int l,int r){l+=B;r+=B;if(l>r){return zero;}if(l==r){return S[l];}T L=S[l],R=S[r];for(;l/2<r/2;l/=2,r/=2){if(l%2==0){L=op(L,S[l+1]);}if(r%2==1){R=op(S[r-1],R);}}return op(L,R);}void replace(int i,T x){for(S[i+=B]=x;i!=1;i/=2){if(i%2){S[i/2]=op(S[i-1],S[i]);}else{S[i/2]=op(S[i],S[i+1]);}}}void add(int i,T x){replace(i,op(S[B+i],x));}T top(){return S[1];}};\nll BITsum(vl&B,int i){ll z=0;while(i>0){z+=B[i];i-=i&-i;}return z;}\nvoid BITadd(vl&B,int i,ll x){while(i<B.size()){B[i]+=x;i+=i&-i;}}\nll fib(const ll n,const int m){ll a,b,c,d,A,B,C,D;a=1;b=0;c=0;d=1;rf(i,63){A=a*a+b*c;B=a*b+b*d;C=c*a+d*c;D=c*b+d*d;if(n>>i&1){a=A;b=B;c=C;d=D;A=a+b;B=a;C=c+d;D=c;}a=A%m;b=B%m;c=C%m;d=D%m;}return b;}\nvi primes(int n){vb b(n+1);vi p;foor(i,2,n){if(!b[i]){p<<i;for(int j=2*i;j<=n;j+=i){b[j]=true;}}}return p;}\nvb isprime(const int n){vb v(n+1,true);v[0]=v[1]=false;foor(i,2,n){if(v[i]){for(int j=2*i;j<=n;j+=i){v[j]=false;}}}return v;}\n\nint main(){cin.tie(0);ios::sync_with_stdio(false);\n\tint N,K;str S;cin>>N>>K>>S;\n\tdeque<bool>d;\n\tfr(i,N){\n\t\td.push_back(S[i]=='A');\n\t}\n\tbool x=true;\n\twhile(d.size()&&K){\n\t\tif(d.front()^x){\n\t\t\td.pop_front();\n\t\t\tx^=1;\n\t\t}else{\n\t\t\td.front()^=1;\n\t\t}\n\t\t--K;\n\t}\n\tif(K&&N%2){\n\t\tcout<<\"AB\"[K%2];\n\t\t--N;\n\t}\n\tfor(bool b:d){\n\t\tcout<<\"AB\"[b^x];\n\t}\n\trf(i,N-d.size()){\n\t\tcout<<\"AB\"[i%2];\n\t}\n\tprint();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\tint cnt = 0;\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tcnt++;\n\t\tif(cnt == 500000)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif((k + 1) % 2 && n % 2)\n\t{\n\t\tv.pop_front();\n\t\tv.front().second++;\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\nconst int mod = 1000000007;\nconst int inf = 1ll << 61;\ntypedef pair<int, int> P;\ntypedef pair<int, P>PP;\n\nstring next(string s) {\n\tint nc = -1, v = 1; int n = s.size();\n\tdo {\n\t\tnc += v;\n\t\tif (0 <= nc&&nc < n) {\n\t\t\tif (s[nc] == 'A') {\n\t\t\t\tv *=-1;\n\t\t\t\ts[nc] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[nc] = 'A';\n\t\t\t}\n\t\t}\n\t} while (0<=nc&&nc<n);\n\treturn s;\n}\nstring next2(string s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn s;\n\t}\n\telse {\n\t\trep(i, s.size() - 1) {\n\t\t\tif (s[i] == 'B'&&s[i + 1] == 'B')s[i] = 'A';\n\t\t\telse if (s[i] == 'A'&&s[i + 1]=='A')s[i] = 'B';\n\t\t}\n\t\ts[s.size() - 1] = 'A';\n\t\treturn s;\n\t}\n}\n\nvoid disp(char now, deque<int>Q) {\n\twhile (Q.size()) {\n\t\tint f = Q.front(); Q.pop_front();\n\t\trep(i, f)cout << now;\n\t\tif (now == 'A')now = 'B'; else now = 'A';\n\t}cout << endl;\n}\nvoid debug() {\n\tstring t; cin >> t;\n\trep(i, 60) {\n\t\tt = next(t);\n\t\tcout << t << endl;\n\t}\n}\n\nsigned main() {\n//\tdebug(); return 0;\n\n\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tdeque<int>D;\n\tchar now = s[0];\n\tint cnt = 0;\n\n\trep(i, n) {\n\t\tif (now == s[i])cnt++;\n\t\telse {\n\t\t\tD.push_back(cnt);\n\t\t\tcnt = 1;\n\t\t\tnow = s[i];\n\t\t}\n\t}\n\tD.push_back(cnt);\n\tnow = s[0];\n\n\tif (n == 1) {\n\t\tif (k & 1) {\n\t\t\tif (now == 'A')cout << 'B' << endl;\n\t\t\telse cout << 'A' << endl;\n\t\t}\n\t\telse cout << 'A' << endl;\n\n\t\treturn 0;\n\t}\n\n\tif (now == 'B'&&D.size() == 1) {\n\t\tnow = 'A'; k--;\n\t}\n\twhile (k) {\n\t\tif (now == 'A') {\n\t\t\tint u = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (u == 1) {\n\t\t\t\tint t = D.front();\n\t\t\t\tt++;\n\t\t\t\tD.pop_front();\n\t\t\t\tD.push_front(t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tu--;\n\t\t\t\tD.push_front(u);\n\t\t\t\tD.push_front(1);\n\t\t\t}\n\t\t\tnow = 'B';\n\t\t}\n\t\telse {\n\t\t\tint a = D.front();\n\t\t\tD.pop_front();\n\t\t\tif (a == 1) {\n\t\t\t\tD.push_back(a);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta--;\n\t\t\t\tD.push_back(1);\n\t\t\t\tD.push_front(a);\n\t\t\t\tnow = 'A';\n\t\t\t\n\t\t\t}\n\n\t\t\tif (now == 'B'&&D.size() % 2) {\n\t\t\t\tint t = D.back();\n\t\t\t\tD.pop_back();\n\t\t\t\tif (t == 1) {\n\t\t\t\t\tint u = D.back();\n\t\t\t\t\tD.pop_back();\n\t\t\t\t\tu++;\n\t\t\t\t\tD.push_back(u);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tt--; D.push_back(t);\n\t\t\t\t\tD.push_back(1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tk--;\n\t\tif (D.size() == n&&now == 'B')break;\n//\t\tdisp(now, D);\n\t}\n\tif ((1&n)&&(1&k)) {\n\t\tD.pop_front();\n\t\tD.push_front(2);\n\t\tnow = 'B';\n\t}\n\tdisp(now, D);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <ctime>\n\n#define Rep(i, n) for (int i = 1; i <= n; i ++)\n#define Rep0(i, n) for (int i = 0; i <= n; i ++)\n#define RepG(i, x) for (int i = head[x]; i; i = edge[i].next)\n#define v edge[i].to\n#define mp(a, b) make_pair(a, b)\n\nusing namespace std;\n\nconst int N = 200010;\n\nchar s[N];\nint a[N];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\t\n\tRep(i, n) a[i] = (s[i] == 'A');\n\t\n\tbool flag = false;\n\tint i = 1;\n\t\n\twhile (i <= n) {\n\t\tif (!k) {\n\t\t\tfor (int j = i; j <= n; j ++){\n\t\t\t\tif ((!(i & 1)) ^ a[j]) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tRep(j, i - 1){\n\t\t\t\tif ((j & 1) ^ (i & 1)) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\tflag = true; break;\n\t\t}\n\t\tif (a[i] ^ (!(i & 1))) a[i] ^= 1;\n\t\telse i ++;\n\t\tk --;\n\t}\n\t\n\tif (!flag) {\n\t\tif (n & 1) {\n\t\t\tRep(i, n){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tif (k & 1) printf(\"A\");\n\t\t\telse printf(\"B\");\n\t\t\tRep(i, n - 1){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, fflip = false;;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }\n        if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n            if(n % 2 && (k - i - 1) % 2){\n                fflip = true;\n            }\n            break;\n        }\n    // for(int i=0;i<n;i++){\n    //     cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    // }\n    // cout << '\\n';\n    }\n    cout << (fflip ^ flip ^ ss[idx] ? 'A' : 'B');\n    for(int i=1;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define _overload(_1,_2,_3,name,...) name\n#define _rep(i,n) _range(i,0,n)\n#define _range(i,a,b) for(int i=int(a);i<int(b);++i)\n#define rep(...) _overload(__VA_ARGS__,_range,_rep,)(__VA_ARGS__)\n\n#define _rrep(i,n) _rrange(i,n,0)\n#define _rrange(i,a,b) for(int i=int(a)-1;i>=int(b);--i)\n#define rrep(...) _overload(__VA_ARGS__,_rrange,_rrep,)(__VA_ARGS__)\n\n#define _all(arg) begin(arg),end(arg)\n#define uniq(arg) sort(_all(arg)),(arg).erase(unique(_all(arg)),end(arg))\n#define getidx(ary,key) lower_bound(_all(ary),key)-begin(ary)\n#define clr(a,b) memset((a),(b),sizeof(a))\n#define bit(n) (1LL<<(n))\n#define popcount(n) (__builtin_popcountll(n))\n\nusing namespace std;\n\ntemplate<class T>bool chmax(T &a, const T &b) { return (a<b)?(a=b,1):0;}\ntemplate<class T>bool chmin(T &a, const T &b) { return (b<a)?(a=b,1):0;}\n\nusing ll=long long;\nusing R=long double;\nconst R EPS=1e-9L; // [-1000,1000]->EPS=1e-8 [-10000,10000]->EPS=1e-7\ninline int sgn(const R& r){return(r > EPS)-(r < -EPS);}\ninline R sq(R x){return sqrt(max(x,0.0L));}\n\nconst int dx[8]={1,0,-1,0,1,-1,-1,1};\nconst int dy[8]={0,1,0,-1,1,1,-1,-1};\n\n// Problem Specific Parameter:\n\nstring s;\nconst char ab=('A'^'B');\n\nint ball(int i,int p){\n\tif(s[i]=='A'){\n\t\ts[i]='B';\n\t\treturn p;\n\t}else{\n\t\ts[i]='A';\n\t\treturn 1LL*2*i-p;\n\t}\n}\n\nint main(void){\n\tint n,k;\n\tcin >> n >> k >> s;\n\n\trep(loop,min(100000,k)){\n\t\tint cur=0,prv=-1;\n\t\twhile(1){\n\t\t\tconst int nxt=ball(cur,prv);\n\t\t\tprv=cur,cur=nxt;\n\t\t\tif(cur==-1 or cur==n) break;\n\t\t}\n\t}\n\n\tconst int rest=max(0,k-100000);\n\tif(rest%2==1 and n%2==1) s[0]^=ab;\n\n\tcout << s << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <ctime>\n#include<complex>\nusing namespace std;\n\n#define FOR(i,a,b) for (int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for (int i = (b)-1; i >= (a); i--)\n#define ITER(it,a) for (__typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a,value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(), a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL)INF;\n\nconst int MAX = 2 * 100000 + 47;\nconst int MOD = 1000 * 1000 * 1000 + 7;\n\nint A[MAX];\nvoid sim(string& s)\n{\n\tint p = 0;\n\tint d = 1;\n\twhile (1)\n\t{\n\t\tif (p == -1 || p == SZ(s)) break;\n\t\tif (s[p] == 'A')\n\t\t{\n\t\t\ts[p] = 'B';\n\t\t\td *= -1;\n\t\t\tp += d;\n\t\t\tcontinue;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[p] = 'A';\n\t\t\tp += d;\n\t\t}\n\t}\n}\n\nvoid sim(string& s, int k)\n{\n\tFOR(i, 0, k)\n\t{\n\t\tsim(s);\n\t}\n}\n\nvoid calc(string& s, int k)\n{\n\tint rev = 0;\n\tint p = 0;\n\tint n = SZ(s);\n\tif (n == 1)\n\t{\n\t\ts[0] = ((s[0] - 'A') ^ (k & 1)) + 'A';\n\t\treturn;\n\t}\n\n\tFOR(i, 0, n) A[i] = s[i] == 'B';\n\n\tFOR(i, 0, min(k, 4 * n + k % 2))\n\t{\n\t\tif (A[p] ^ rev == 0)\n\t\t{\n\t\t\tA[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\trev ^= 1;\n\t\tA[p] = rev;\n\t\tp++;\n\t\tif (p == n) p = 0;\n\t}\n\n\tFOR(k, 0, n)\n\t{\n\t\tint i = p + k;\n\t\tif (i >= n) i -= n;\n\n\t\ts[k] = (A[i] ^ rev) + 'A';\n\t}\n}\n\nstring s;\nint k, n;\nvoid gen()\n{\n\tn = rand() % 10 + 1;\n\ts.clear();\n\tFOR(i, 0, n)\n\t{\n\t\ts.push_back(rand() % 2 + 'A');\n\t}\n\n\tk = rand() % 10 + 1;\n}\n\n//#define TEST\n\nint main()\n{\n\t//freopen(\"in.txt\", \"r\", stdin);\n\t//freopen(\"out.txt\", \"w\", stdout);\n\tios::sync_with_stdio(false); cin.tie(0);\n\n#ifdef TEST\n\twhile (1)\n\t{\n\t\tgen();\n\t\tcout << s << \" \" << k << endl;\n\t\tstring s1 = s;\n\t\tcalc(s, k);\n\t\tsim(s1, k);\n\t\tif (s1 != s)\n\t\t{\n\t\t\tcout << \"fail\" << endl;\n\t\t\tcout << s << endl;\n\t\t\tcout << s1 << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n#else\n\tcin >> n >> k >> s;\n\tcalc(s, k);\n\tcout << s << endl;\n#endif\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\n\n#define mp make_pair\n#define ff first\n#define ss second\n#define pb push_back\n#define pf push_front\n#define popb pop_back\n#define popf pop_front\n#define all(v) v.begin(),v.end()\n\nconst int maxn = 1e6 + 100;\nconst ll inf = 2e18, mod = 1e9 + 7;\n\nint n, k, arr[maxn], l, r;\nchar str[maxn];\nbool mark[maxn];\n\nvoid printAns() {\n\tfor (int i = l; i < r; i++)\n\t\tcout << (arr[i] ? 'A' : 'B');\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tcin >> n >> k >> str;\n\tfor (int i = 0; i < n; i++) {\n\t\tarr[i] ^= (str[i] == 'A');\n\t\tarr[i + 1] ^= (str[i] == 'A');\n\t}\n\n\tl = 0, r = n;\n\tmark[0] = true;\n\tfor (int i = 0; i < min(3 * n, k); i++) {\n\t\tif (!mark[l]) {\n\t\t\tmark[l] = true;\n\t\t\tarr[l] ^= arr[l - 1];\n\t\t}\n\t\tif (arr[l]) {\n\t\t\tarr[l] ^= 1;\n\t\t\tarr[l + 1] ^= 1;\n\t\t}\n\t\telse {\n\t\t\tl++;\n\t\t\tr++;\n\t\t\tarr[l] ^= 1;\n\t\t\tarr[r] ^= 1;\n\t\t}\n\n\t\tint sum = 0;\n\t}\n\tfor (int i = l + 1; i < r; i++)\n\t\tarr[i] = (arr[i] + arr[i - 1]) & 1;\n\n\tif (k < 3 * n) {\n\t\tprintAns();\n\t}\n\telse {\n\t\tif (n & 1) {\n\t\t\tif ((k - 3 * n) & 1) {\n\t\t\t\tif (!arr[l]) {\n\t\t\t\t\tl++;\n\t\t\t\t\tr++;\n\t\t\t\t\tfor (int i = l; i < r; i++)\n\t\t\t\t\t\tarr[i] = (arr[i] + 1) & 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tarr[l] = 1 - arr[l];\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintAns();\n\t\t}\n\t\telse {\n\t\t\tprintAns();\n\t\t}\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef unsigned ui;\ntypedef unsigned long long ul;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<ld, ld> pdd;\ntypedef pair<ul, ul> puu;\ntypedef vector<int> vi;\n#define pb push_back\n#define fi first\n#define se second\n#define ls (i << 1)\n#define rs (i << 1 | 1)\n#define mid (l + r >> 1)\n#define enum(i, j, k) for(int i = j; i <= (k); i ++)\n#define open(i, j, k) for(int i = j; i <  (k); i ++)\n#define dec(i, j, k)  for(int i = j; i >= (k); i --)\n#define ae(x) for(node *p = h[x]; p; p = p->nxt)\n#define mfil(x, k) memset(x, k, sizeof x)\n#define mcpy(x, y) memcpy(x, y, sizeof x)\n#define fio(x) freopen(x\".in\", \"r\", stdin); freopen(x\".out\", \"w\", stdout)\ntemplate <class T> bool chkmin(T &x, T y)\n{ return y < x ? (x = y, true) : false; }\ntemplate <class T> bool chkmax(T &x, T y)\n{ return y > x ? (x = y, true) : false; }\nstruct __init { __init()\n{\n    ios::sync_with_stdio(false); cin.tie(0);\n    cout.precision(16); cout << fixed;\n    srand(time(0) ^ ui(ul(new char)));\n} } static __init__;\n/* default code ends here */\n\nconst int maxn = 2e5 + 10;\nint n, k;\nbool a[3 * maxn], lazy;\nint front = 1;\nint main()\n{\n    cin >> n >> k;\n    if(k > n + 100)\n        k -= (k - n) / 2 * 2 - 10;\n    string foo;\n    cin >> foo;\n    enum(i, 1, n)\n        a[i] = foo[i - 1] == 'A';\n    while(k --)\n    {\n        if(a[front] ^ lazy)\n        {\n            a[front] ^= 1;\n            continue;\n        }\n        front ++;\n        lazy ^= 1;\n        a[front + n - 1] = lazy ^ 1;\n    }\n    enum(i, front, front + n - 1)\n        cout << (a[i] ^ lazy ? 'A' : 'B');\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst uint64_t base = 3;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nuint64_t hsh = 0, rev_hsh = 0;\nmap<uint64_t, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = hsh * base + i + 1;\n\t\trev_hsh = rev_hsh * base + (i ^ 1) + 1;\n\t}\n\n\tuint64_t pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = pwn * base;\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = hsh - (frs_v + 1) * pwn;\n\t\t\trev_hsh = rev_hsh - ((frs_v ^ 1) + 1) * pwn;\n\t\t\n\t\t\thsh = hsh + ((frs_v ^ 1) + 1) * pwn;\n\t\t\trev_hsh = rev_hsh + (frs_v + 1) * pwn;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = hsh - (frs_v + 1) * pwn;\n\t\t\trev_hsh = rev_hsh - ((frs_v ^ 1) + 1) * pwn;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = hsh * base;\n\t\t\trev_hsh = rev_hsh * base;\n\n\t\t\thsh += 2;\n\t\t\trev_hsh += 1;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\t\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+1) k=k%2?(n*2+1):(n*2+2);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <cstdio>\n#include <vector>\n#include <string>\n#include <iostream>\n#include <algorithm>\n#include <map>\n#include <iterator>\n#include <functional>\n#include <set>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <fstream>\n#include <iomanip>\n#include <numeric>\n#include <cmath>\n#include <list>\n#include <sstream>\n#include <cstring>\n#include <stdio.h>\n#include <complex>\nusing namespace std;\n#pragma GCC optimize(\"O3\")\n#pragma GCC target(\"sse4\")\n\ntypedef long double LD;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef pair<int, int> PII;\ntypedef pair<LD, LD> PDD;\ntypedef pair<LL, LL> PLL;\ntypedef vector<int> VI;\ntypedef vector<LL> VLL;\ntypedef vector<char> VCH;\ntypedef vector<LD> VLD;\ntypedef vector<string> VS;\ntypedef vector<VS> VSS;\ntypedef vector<VI> VVI;\ntypedef vector<VLL> VVLL;\ntypedef vector<VCH> VVCH;\ntypedef vector<PII> VPII;\ntypedef vector<PLL> VPLL;\ntypedef vector<PDD> VPDD;\n#define MP make_pair\n#define PB push_back\n#define X first\n#define Y second\n#define next fake_next\n#define prev fake_prev\n#define left fake_left\n#define right fake_right\n\n#define FOR(i, a, b) for(LL i = (a); i < (b); ++i)\n#define RFOR(i, b, a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i, 0, t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n#define FILL(a, value) memset(a, value, sizeof(a))\n\nconst LD PI = acos(-1.0);\nconst LD EPS = 1e-9;\nconst LL INF = 1e9;\nconst LL LINF = 1e18;\nconst LL mod = 1000000007;\nconst LL MAXN = 1e5 + 47;\nconst LL MAX = 1e5 + 47;\n\nLL n, k;\nstring s;\ndeque<int> d;\n\nint main()\n{\n\tios_base::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\n\tcin >> n >> k >> s;\n\tFOR(i, 0, n)\n\t\tif (s[i] == 'A')\n\t\t\td.push_back(1);\n\t\telse\n\t\t\td.push_back(0);\n\n\tint rev = 0;\n\tint MAGIC = 100 + 2 * n;\n\n\tif (k < MAGIC)\n\t{\n\t\tREP(q, k)\n\t\t{\n\t\t\tif (d[0] ^ rev)\n\t\t\t\td[0] ^= 1;\n\t\t\telse\n\t\t\t{\n\t\t\t\td.pop_front();\n\t\t\t\td.push_back(rev);\n\t\t\t\trev ^= 1;\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tint cnt = k - MAGIC;\n\t\tREP(q, MAGIC)\n\t\t{\n\t\t\tif (d[0] ^ rev)\n\t\t\t\td[0] ^= 1;\n\t\t\telse\n\t\t\t{\n\t\t\t\td.pop_front();\n\t\t\t\td.push_back(rev);\n\t\t\t\trev ^= 1;\n\t\t\t}\n\t\t}\n\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (d[0] ^ rev)\n\t\t\t\td[0] ^= 1;\n\t\t\telse\n\t\t\t{\n\t\t\t\td.pop_front();\n\t\t\t\td.push_back(rev);\n\t\t\t\trev ^= 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (auto i : d)\n\t\tif (i ^ rev)\n\t\t\tcout << \"A\";\n\t\telse\n\t\t\tcout << \"B\";\n\n\tcin >> s;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nint n,k;\nchar s[200005];\nbool v[200005];\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;++i)v[i]=s[i]=='A';\n\tint cur=0,t=0;\n\twhile(k--)\n\tif(v[t]^cur)v[t]=cur;else cur^=1,t=(t+1==n)?0:t+1;\n\tfor(int i=0;i<n;++i)\n\tputchar((v[(i+t)%n]^cur)?'A':'B');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <ctime>\nusing namespace std;\n\n#define F(i, n) for(int i = 0; i < n; ++i)\n#define FOR(i,a,b) for (int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for (int i = (b)-1; i >= (a); i--)\n#define ITER(it,a) for (__typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a,value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(), a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL) INF;\n\nconst int MAX = 10*100000 + 47;\n\nchar S[MAX];\nint A[MAX];\n\nint main()\n{\n    int n, m;\n    scanf(\"%d%d\", &n, &m);\n    scanf(\"%s\", S);\n    FOR(i, 0, n)A[i] = (S[i] - 'A') ^ (i & 1);\n    int iter = min(n + n, m);\n    int L = 0, R = n -1, cur = n & 1;\n    FOR(it, 0, iter)\n    {\n        if (A[L])\n        {\n            ++L;\n            ++R;\n            A[R] = (n & 1) ^ 1;\n        }\n        else\n        {\n            A[L] ^= 1;\n        }\n    }\n    if (m > 2 * n && (m & 1) && (n & 1))A[L] ^= 1;\n    FOR(i, L, R + 1)\n    A[i] ^= (i - L) & 1;\n    \n    FOR(i, L, R+1)\n    printf(\"%c\", 'A' + A[i]);\n    printf(\"\\n\");\n    \n    \n    \n    \n    \n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 2e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\t//dbg(r, k, h); rep(i, n) cerr<<(char)(q[i]+'A'); cerr<<endl;\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tk %= m[pair<ll, int>(h, r)] - k;\n\t\t\tif(!k) break;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 2 - 1;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nll d[200010];\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>400000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  int index = 0;\n  int c = 0;\n  rep(i,0,k){\n    if(c==0){\n      if(s[index]=='A'){\n        s[index]='B';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n      }\n    }\n    else{\n      if(s[index]=='B'){\n        s[index]='A';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n      }\n    }\n  }\n  string ans;\n  rep(i,0,n){\n    if(c==0){\n      ans += s[(index+i)%n];\n    }\n    else{\n      if(s[(index+i)%n]=='A'){\n        ans += \"B\";\n      }\n      else{\n        ans += \"A\";\n      }\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*****************************************************/\n//#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <cstdio>\n#include <cstring>\n#include <sstream>\n#include <cstdlib>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define   offcin        ios::sync_with_stdio(false)\n#define   DEBUG         freopen(\"#.txt\", \"r\", stdin)\n#define   sigma_size    26\n#define   lson          l,m,v<<1\n#define   rson          m+1,r,v<<1|1\n#define   slch          v<<1\n#define   srch          v<<1|1\n#define   ll            long long\n#define   ull           unsigned long long\n#define   lowbit(x)     (x&-x)\n\nconst int    INF    = 0x3f3f3f3f;\nconst ll     INFF   = 1e18;\nconst double pi     = acos(-1.0);\nconst double inf    = 1e18;\nconst double eps    = 1e-9;\nconst ll     mod    = 1e9+7;\nconst int    maxmat = 10;\nconst ull    BASE   = 133333331;\n\n/*****************************************************/\ninline void RI(int &x) {\n      char c;\n      while((c=getchar())<'0' || c>'9');\n      x=c-'0';\n      while((c=getchar())>='0' && c<='9') x=(x<<3)+(x<<1)+c-'0';\n}\ninline ll bits(ll x) {\n      return !x ? x : bits(x - lowbit(x)) + 1;\n}\n/*****************************************************/\n\nconst int maxn = 1e6 + 5;\nconst char a[] = {'A', 'B'};\n\nchar s[maxn];\n\nint main(int argc, char const *argv[]) {\n    int N, K;\n    cin>>N>>K;\n    scanf(\"%s\", s);\n\n    int front = 0, last = N;\n    bool flag = false;\n    if (K <= 2 * N) {\n        for (int i = 0; i < K; i ++) {\n            if (s[front] == a[flag]) s[front] = a[flag ^ 1];\n            else {\n                front ++;\n                flag ^= 1;\n                s[last ++] = a[flag];\n                s[last] = 0;\n            }\n        }\n    }\n    else {\n        K -= 2 * N;\n        K %= 2;\n        for (int i = 0; i < 2 * N; i ++) {\n            if (s[front] == a[flag]) s[front] = a[flag ^ 1];\n            else {\n                front ++;\n                flag ^= 1;\n                s[last ++] = a[flag];\n                s[last] = 0;\n            }\n        }\n        if (K) {\n            if (s[front] == a[flag]) s[front] = a[flag ^ 1];\n            else {\n                front ++;\n                flag ^= 1;\n                s[last ++] = a[flag];\n                s[last] = 0;\n            }\n        }\n    }\n\n    if (flag) {\n        for (int i = front; i < last; i ++)\n            s[i] = s[i] == 'A' ? 'B' : 'A';\n    }\n\n    printf(\"%s\\n\", s + front);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cmath>\n#include <cstdio>\n#include <string>\n#include <algorithm>\n#include <queue>\n#include <unordered_map>\n#include <map>\n#define ll long long\nusing namespace std;\n\n#define MOD 1000000007\n\nclass Solve\n{\nprivate:\n\tint n;\n\tint k;\n\tstring s;\n\tunordered_map<string, int> hash1;\n\tunordered_map<int, string> hash2;\npublic:\n\tSolve(){\n\t\tcin >> n >> k;\n\t\tcin >> s;\n\t}\n\n\tstring fetch_next(string tmp){\n\t\tstring cur = tmp;\n\t\tint i = 0;\n\t\twhile(i < n || i > 0){\n\t\t\tif(cur[i] == 'A'){\n\t\t\t\tcur[i] = 'B';\n\t\t\t\ti--;\n\t\t\t}else{\n\t\t\t\tcur[i] = 'A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t\treturn cur;\n\t}\n\n\tvoid exec(){\n\t\t// hash2[0] = s;\n\t\t// hash1[s] = 0;\n\t\tint itr = 0;\n\t\tstring cur = s;\n\t\twhile(hash1.find(cur) == hash1.end()){\n\t\t\thash1[cur] = itr;\n\t\t\thash2[itr] = cur;\n\t\t\titr++;\n\t\t\tcur = fetch_next(cur);\n\t\t}\n\n\t\t// cout << itr << endl;\n\n\n\n\t\tcout << hash2[k%itr] << endl;\n\t}\n};\n\nint main(){\n\tSolve solver = Solve();\n\tsolver.exec();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n    assert(a&&b);\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(i<n&&s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(i<n&&s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; goto out;\n\t\t\t}\n\t\t}\n\t}out:;\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(i<n&&s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(i<n&&s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tif(x==0||y==0){cout<<-1<<endl; return 0;}\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tif(k>2*n)\n\t\twhile(1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 100 + 10;\nconst int INF = (int)(1e9);\n\nchar opp(char c) {\n    return ((c == 'A') ? 'B' : 'A');\n}\n\nvoid print_alter(char f, int t, int n) {\n    for(int i = 0; i < t; ++i) cout << f;\n    for(int i = t; i < n; ++i) {\n        f = opp(f);\n        cout << f;\n    }\n    cout << endl;\n}\n\nvoid run() {\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n\n    int sc = 0;\n    bool B = false;\n    while (k > 0) {\n        if (sc >= n) break;\n        char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n        B = false;\n        --k;\n        if (f == 'B') ++sc;\n        else {\n            B = true;\n        }\n    }\n    if (k == 0) {\n        if (sc == n)\n            print_alter((((n % 2) == 0) ? 'B' : 'A'), 1, n);\n        else {\n            char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n            cout << f;\n            for(int i = sc + 1; i < n; ++i)\n                cout << (((sc % 2) == 1) ? opp(s[i]) : s[i]);\n            if (sc > 0) {\n                char c = ((sc % 2) == 1) ? 'A' : 'B';\n                print_alter(c, 1, sc);\n            }\n            else cout << endl;\n        }\n    }\n    else {\n        char f = ((n % 2) == 0) ? 'B' : 'A';\n        if (f == 'B') --k;\n        int state = k % 3;\n        if (state == 0) print_alter('A', 1, n);\n        else if (state == 1) print_alter('B', 2, n);\n        else if (state == 2) print_alter('B', 1, n);\n    }\n}\n\nint main()\n{\n    //freopen(\"input.txt\", \"r\", stdin);\n\n    int ntests = 1;\n    //cin >> ntests;\n    for(int tc = 1; tc <= ntests; ++tc) {\n        run();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(2*n,k);\n    if (k >= num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'B':'A');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; goto out;\n\t\t\t}\n\t\t}\n\t}out:;\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define dbug(x) cout<<#x<<\"=\"<<x<<endl\nusing namespace std;\ntemplate <typename T> void read(T &t) {\n\tt=0; char ch=getchar(); int f=1;\n\twhile ('0'>ch||ch>'9') { if (ch=='-') f=-1; ch=getchar(); }\n\tdo {(t*=10)+=ch-'0';ch=getchar();} while ('0'<=ch&&ch<='9'); t*=f;\n}\n//const int L=-1,R=1;\nconst int maxn=600010;\nint n,k,cnt,l,r,flag;\nchar s[maxn],t[maxn];\nbool A(char ch) {\n\tif (flag&&ch=='B') return 1;\n\tif (!flag&&ch=='A') return 1;\n\treturn 0;\n}\nvoid C(char &ch) {\n\tif (ch=='A') ch='B';\n\telse ch='A';\n}\nint main() {\n\t//freopen(\"1.txt\",\"r\",stdin);\n\tread(n); read(k);\n\tscanf(\"%s\",s+1);\n\tfor (int i=1;i<=n;i++) t[i]=s[i];\n\tl=1; r=n;\n\twhile (cnt<k) {\n\t\tcnt++;\n\t\tif (A(t[l])) C(t[l]);\n\t\telse {\n\t\t\tflag^=1;\n\t\t\tt[++r]=t[l]; l++;\n\t\t}\n\t\tif (cnt>=2*n&&cnt%2==k%2) break;\n\t}\n\tfor (int i=l;i<=r;i++) {\n\t\tif (flag) C(t[i]);\n\t\tprintf(\"%c\",t[i]);\n\t} printf(\"\\n\");\n\t/*\n\tint pos,from;\n\twhile (k--) {\n\t\tpos=1; from=R;\n\t\twhile (1<=pos&&pos<=n) {\n\t\t\tif (s[pos]=='A') {\n\t\t\t\tfrom=-from;\n\t\t\t\ts[pos]='B';\n\t\t\t} else s[pos]='A';\n\t\t\tpos+=from;\n\t\t}\n\t\tprintf(\"%s\\n\",s+1);\n\t}\n\t*/\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nint n,m,ptr=1;\nchar s[200005],t[200005];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&m,s+1);s[n+1]=s[1];s[n+2]=s[2];\n\twhile(true) {\n\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=4;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=4;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=3;\n\t\tptr+=2;\n\t\tif(ptr>n) break;\n\t\tif(m<0) {\n\t\t\tptr-=2;\n\t\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=4;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=4;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=3;\n\t\t\tfor(int i=ptr;i<=n;++i) t[i-ptr+1]=s[i];\n\t\t\tfor(int i=n;i>n-ptr+1;--i) t[i]=((n-i)&1)+'A';\n\t\t\twhile(m--) {\n\t\t\t\tint now=1,flag=1;\n\t\t\t\twhile(now>0&&now<=n) {\n\t\t\t\t\tif(t[now]=='A') {t[now]='B';flag=-flag;now=now+flag;}\n\t\t\t\t\telse  {t[now]='A';now=now+flag;}\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%s\",t+1);return 0;\n\t\t}\n\t}\n\tif(s[ptr]=='A'&&(n&1)) {putchar((m&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse if(s[ptr]=='B'&&(n&1)) {putchar(((m+1)&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <deque>\n#include <algorithm>\nusing namespace std;\nint main(){\n\tint n,k;\tcin>>n>>k;\n\tstring s;\tcin>>s;\n\tdeque<char> dq;\n\tfor(int i=0;i<n;i++)\tdq.push_back(s[i]);\n\tbool rev=false;\n\tint order=n;\n\twhile(order>=2&&s[order-1]=='A'&&s[order-2]=='B')\torder-=2;\n\twhile(order>=2&&k){\n\t\tif(dq.front()=='A'){\n\t\t\tdq.pop_front();\tdq.push_front('B');\n\t\t\tk--;\n\t\t}\n\t\telse if(k>=2){\n\t\t\tk-=2;\torder-=2;\n\t\t\tdq.pop_front();\tdq.pop_front();\n\t\t\tdq.push_back('B');\tdq.push_back('A');\n\t\t}\n\t\telse{\n\t\t\tk--;\torder--;\trev=true;\n\t\t\tdq.pop_front();\n\t\t\tdq.push_back('B');\n\t\t}\n\t}\n\tif(k==0){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar out=dq.front();\tdq.pop_front();\n\t\t\tcout<<(char)(rev?'B'-out+'A':out);\n\t\t}\n\t\tcout<<endl;\n\t\treturn 0;\n\t}\n\telse if(order){\n\t\tk%=2;\n\t\tif(k){\n\t\t\tchar fst='B'-dq.front()+'A';\tdq.pop_front();\n\t\t\tdq.push_front(fst);\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcout<<(char)dq.front();\n\t\t\tdq.pop_front();\n\t\t}\n\t\tcout<<endl;\n\t\treturn 0;\n\t}\n\telse{\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcout<<(char)dq.front();\n\t\t\tdq.pop_front();\n\t\t}\n\t\tcout<<endl;\n\t\treturn 0;\n\t}\n}\n\t\n"
  },
  {
    "language": "C++",
    "code": "//#pragma GCC optimize(\"O3\")\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int N = (int) 2e5 + 5;\nconst int mod = (int) 1e9 + 7;\n\nchar s[N], x[N];\ndeque<char> d;\nint n, k, f;\n\ninline void solve () {\n        scanf (\"%d%d%s\", &n, &k, s + 1);\n        for (int i = 1; i <= n; i++) {\n                d.push_back (s[i]);\n        }\n        int e = min (k, n + n + 5);\n        for (int i = 1; i <= e; i++) {\n                if ((d[0] == 'A' && f == 0) || (d[0] == 'B' && f == 1)) {\n                        d[0] = f ? 'A' : 'B';\n                } else {\n                        f ^= 1;\n                        d.pop_front ();\n                        if (f) {\n                                d.push_back ('B');\n                        } else {\n                                d.push_back ('A');\n                        }\n                }\n        }\n        k -= e;\n        if (k) {\n                for (int i = 1; i <= n; i++) {\n                        if (f) {\n                                d[i - 1] = ((d[i - 1] - 'A') ^ 1) + 'A';\n                        }\n                        s[i] = d[i - 1];\n                }\n                f = 0;\n                if ((d[0] == 'A' && f == 0) || (d[0] == 'B' && f == 1)) {\n                        d[0] = f ? 'A' : 'B';\n                } else {\n                        f ^= 1;\n                        d.pop_front ();\n                        if (f) {\n                                d.push_back ('B');\n                        } else {\n                                d.push_back ('A');\n                        }\n                }\n                for (int i = 1; i <= n; i++) {\n                        if (f) {\n                                d[i - 1] = ((d[i - 1] - 'A') ^ 1) + 'A';\n                        }\n                        x[i] = d[i - 1];\n                }\n                int ss = 0;\n                for (int i = 1; i <= n; i++) {\n                        if (x[i] == s[i]) {\n                                ss++;\n                        }\n                }\n                if (ss != n && (k & 1)) {\n                        for (int i = 1; i <= n; i++) {\n                                s[i] = x[i];\n                        }\n                }\n        } else {\n                for (int i = 1; i <= n; i++) {\n                        if (f) {\n                                d[i - 1] = ((d[i - 1] - 'A') ^ 1) + 'A';\n                        }\n                        s[i] = d[i - 1];\n                }\n        }\n        puts (s + 1);\n}\n\nint tests = 1;\n\nint main () {\n//        freopen (\".in\", \"r\", stdin);\n//        freopen (\".out\", \"w\", stdout);\n//        scanf (\"%d\", &tests);\n        while (tests--) {\n                solve ();\n        }\n        return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define mp make_pair\n#define sz(x) (int)(x).size()\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define ii pair<int,int>\n#define INF 1000000000\n#define INFLL 1000000000000000010ll\n#define UQ(x) (x).resize(distance((x).begin(),unique(all((x)))))\n#define mid(x,y) (((x)+(y))>>1)\nint n,k;\nchar s[200005];\nint h,flip=0;\ndeque<int> d;\nint get() {\n\treturn (h^flip);\n}\nvoid put(int x) {\n\th=x^flip;\n}\nvoid pad() {\n\tif (sz(d)%2) {\n\t\tif (get()==0) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t} else {\n\t\tif (get()==1) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t}\n}\nvoid output() {\n\tint sum=0;\n\tint let=get();\n\tfor (int i=0;i<sz(d);i++) {\n\t\tsum+=d[i];\n\t\tfor (int j=0;j<d[i];j++) {\n\t\t\tprintf(\"%c\", let?'B':'A');\n\t\t}\n\t\tlet^=1;\n\t}\n\tprintf(\"\\n\");\n\tassert(sum==n);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tif (n==1) {\n\t\tif (k%2) {\n\t\t\tif (s[0]=='A') printf(\"B\\n\");\n\t\t\telse printf(\"A\\n\");\n\t\t} else {\n\t\t\tif (s[0]=='A') printf(\"A\\n\");\n\t\t\telse printf(\"B\\n\");\n\t\t}\n\t\treturn 0;\n\t}\n\n\t\n\tint cur=1;\n\tchar v=s[0];\n\tfor (int i=1;i<n;i++) {\n\t\tif (s[i]==v) cur++;\n\t\telse {\n\t\t\td.pb(cur);\n\t\t\tcur=1;\n\t\t\tv=s[i];\n\t\t}\n\t}\n\td.pb(cur);\n\th=(s[0]=='B');\n\tfor (int kk=0;kk<min(k,1000000);kk++) {\n\t\tif (get()==0) {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(1);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\t++d[0];\n\t\t\t\t\tput(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\td.push_front(1);\n\t\t\t\tput(1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(0);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\tput(0);\n\t\t\t\t\tflip^=1;\n\t\t\t\t\tpad();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\tflip^=1;\n\t\t\t\tpad();\n\t\t\t}\n\t\t}\n\t}\n\tif (k>1000000) {\n\t\tif (sz(d)==n) {\n\t\t\tif (get()==1) {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\tprintf(\"%c\", (i%2)?'A':'B');\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t} else {\n\t\t\t\tif (k%2) {\n\t\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\tif (i==0) printf(\"B\");\n\t\t\t\t\t\telse printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t} else {\n\t\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\t printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (k%2) {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t} else {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\tif (i==0) printf(\"B\");\n\t\t\t\t\t\telse printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t\t\n\t\t}\n\t} else output();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<queue>\nusing namespace std;\nint pd[1010000],K,n,w[210000],bo[210000],ans[210000];\nchar ch[210000];\nqueue<int>Q;\nvoid print(){\n\tfor (int i=1;i<=n;i++) if (ans[i]) putchar('A'); else putchar('B');\n\texit(0);\n}\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",ch+1);\n\tfor (int i=1;i<=n;i++) if (ch[i]=='A') pd[i]=1; else pd[i]=0;\n\tint l=1,now=0;\n\tfor (;K;K--){\n\t//\tcout<<\"fa \"<<K<<\" \"<<l<<endl;\n\t//\tfor (int i=1;i<=n;i++) cout<<(pd[l+i-1]^now)<<\" \"; cout<<endl;\n\t\tif (l>n){\n\t\t\tif ((n&1)&&(pd[l]^now)==1){\n\t\t\t\tfor (int i=1;i<=n;i++) ans[i]=i&1;\n\t\t\t\tif (K&1) ans[1]=0;\n\t\t\t\tprint();\n\t\t\t}\n\t\t\tif (n%2==0){\n\t\t\t\tfor (int i=1;i<=n;i++) ans[i]=(i&1)^1;\n\t\t\t\tprint();\n\t\t\t}\n\t\t}\n\t\tif (pd[l]==now){\n\t\t\tl++; pd[l+n-1]=now; now^=1;\n\t\t} else pd[l]^=1;\n\t}\n\tfor (int i=1;i<=n;i++) ans[i]=pd[i+l-1]^now;\n\tprint();\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nint n,K,a[3000005],i,st,cnt;\nchar s[200005];\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",s+1);\n\tfor(i=1;i<=n;++i)\n\t\ta[i]=(s[i]=='A'?0:1);\n\tcnt=min(K,10*n);\n\tst=1;\n\twhile(cnt--)\n\t{\n\t\t/*for(i=1;i<=n;++i)\n\t\t\tprintf(\"%d \",a[st+i-1]^(st&1^1));\n\t\tputs(\"\");*/\n\t\tif(a[st]==(st-1)%2)\n\t\t{\n\t\t\ta[st]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\ta[st+n]=(st&1?1:0);\n\t\t++st;\n\t}\n\tif(K<=10*n)\n\t{\n\t\tfor(i=1;i<=n;++i)\n\t\t\tprintf(\"%c\",(a[st+i-1]^(st&1^1))?'B':'A');\n\t\treturn 0;\n\t}\n\tif((K-10*n)%2)\n\t{\n\t\tif(a[st]==(st-1)%2)\n\t\t\ta[st]^=1;\n\t\telse\n\t\t{\n\t\t\ta[st+n]=(st&1?1:0);\n\t\t\t++st;\n\t\t}\n\t}\n\tfor(i=1;i<=n;++i)\n\t\tprintf(\"%c\",(a[st+i-1]^(st&1^1))?'B':'A');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=4e5+5;\ntypedef long long ll;\nint n,k;\nchar s[N];\nint num[N];\nint st;\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)\n        num[i]=s[i]-'A';\n    st=num[1];\n    int p=1;\n    int cnt=0;\n    while(k--){\n        if(st==0){\n            st^=1;\n            num[p]^=1;\n        }\n        else{\n            p++;\n            cnt++;\n            st=num[p];\n            st^=(cnt&1);\n        }\n        if(p>n)\n            break;\n    }\n    if(p<=n){\n        for(int i=p;i<=n;i++)\n            putchar('A'+(num[i]^(cnt&1)));\n        int t=p-1,c=(cnt-1)&1;\n        while(t--){\n            putchar('A'+c);\n            c^=1;\n        }\n    }\n    else{\n        if((cnt-1)&1)\n            for(int i=1;i<=n;i++)\n                putchar('A'+(i&1));\n        else{\n            putchar('A'+(k&1));\n            for(int i=1;i<n;i++)\n                putchar('A'+(i&1));\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); i--)\n#define ITER(it, a) for(typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a, value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int) a.size()\n#define ALL(a) a.begin(),a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst LL INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL)INF;\n\nstring s;\n\nvoid go()\n{\n\tint x = 0;\n\tint d = 1;\n\n\twhile(true)\n\t{\n\t\tif (x < 0 || x >= SZ(s)) break;\n\n\t\tif (s[x] == 'B')\n\t\t{\n\t\t\ts[x] = 'A';\n\t\t\tx += d;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (s[x] == 'A')\n\t\t{\n\t\t\ts[x] = 'B';\n\t\t\td *= -1;\n\t\t\tx += d;\n\t\t}\n\t}\n}\n\nstring gen(string s, int k)\n{\n\tVI a;\n\tFOR (i, 0, SZ(s))\n\t{\n\t\ta.PB(s[i] == 'A');\n\t}\n\n\tint ind = 0;\n\tint cnt = 0;\n\n\twhile(k > 0)\n\t{\n\t\tif (ind >= SZ(a))\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tk--;\n\t\tif ((a[ind] ^ cnt) == 1)\n\t\t{\n\t\t\ta[ind]^= 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\tind++;\n\t\tcnt ^= 1;\n\t}\n\n\tstring res;\n\tFOR (i, ind, SZ(a))\n\t{\n\t\tres += \"BA\"[a[i] ^ cnt];\n\t}\n\n\tint left = SZ(a) - SZ(res);\n\n\tif (left & 1) res += 'A', left--;\n\n\tFOR (i, 0, left/2) res += \"BA\";\n\n\tif ((k & 1) && (SZ(a) & 1))\n\t{\n\t\tif (res[0] == 'A') res[0] = 'B';\n\t\telse res[0] = 'A';\n\t}\n\n\treturn res;\n\n}\n\nint main()\n{\n\t//freopen(\"in.txt\", \"r\", stdin);\n\tios::sync_with_stdio(false); cin.tie(0);\n\n\tint n, k;\n\tcin>>n>>k;\n\tstring s;\n\tcin>>s;\n\n\tcout<<gen(s, k)<<endl;\n\n\n\t/*s = \"BAAABBBABBBAAB\";\n\ts = \"BBAABAABBABABAABAAAAABABBBABBAAAB\";\n\ns=\"\";\n\tint len = 47;\n\tFOR (i, 0, len)\n\t{\n\t\ts += \"AB\"[rand() % 2];\n\t}\n\n\t//s = \"BABB\";\n\n\tstring ss = s;\n\n\tint k = 4002;\n\n\tcout<<s<<endl;\n\tFOR (it, 0, k)\n\t{\n\t\tgo();\n\t\tcout<<s<<endl;\n\t}\n\tcout<<gen(ss, k)<<endl;\n\n\n\tif (gen(ss, k) != s) throw -1;*/\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <deque>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n \n#define FOR(i,k,n) for (int (i)=(k); (i)<(n); ++(i))\n#define rep(i,n) FOR(i,0,n)\n#define all(v) begin(v), end(v)\n#define debug(x) cerr<< #x <<\": \"<<x<<endl\n#define debug2(x,y) cerr<< #x <<\": \"<< x <<\", \"<< #y <<\": \"<< y <<endl\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vector<ll> > vvll;\ntypedef deque<bool> db;\ntemplate<class T> using vv=vector<vector< T > >;\n\nint n, k;\nstring s;\nstring f;\n\nvoid manipulate() {\n  int ind = 0;\n  int dir = 1;\n  while (0 <= ind && ind < n) {\n    if (s[ind] == 'A') {\n      s[ind] = 'B';\n      dir *= (-1);\n    } else {\n      s[ind] = 'A';\n    }\n    ind += dir;\n  }\n}\n\nint main() {\n  cin >> n >> k;\n  cin >> s;\n\n  if (n % 2 == 1) {\n    f = \"B\";\n  } else {\n    f = \"\";\n  }\n  rep (i, n/2) {\n    f += \"BA\";\n  }\n\n  int cnt = 0;\n  while (s != f) {\n    manipulate();\n    cnt += 1;\n    if (cnt == k) {\n      cout << s << \"\\n\";\n      return 0;\n    }\n  }\n  if (n % 2 == 0) {\n    cout << s << \"\\n\";\n    return 0;\n  }\n  if ((k - cnt) % 2 == 0) {\n    cout << s << \"\\n\";\n    return 0;\n  }\n  manipulate();\n  cout << s << \"\\n\";\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// No.080639011920\n#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <deque>\n#define N 20000\nusing namespace std;\n\nint n;\nchar s[N];\ndeque<int> q;\n\nvoid print() {\n    for (int i = 1; i <= n; ++i)\n        q.push_back(q.front()), cout << char('A' + (q.front())), q.pop_front();\n    cout << endl;\n}\n\nint main() {\n#ifdef LOCAL_JUDGE\n    freopen(\".in\", \"r\", stdin);\n    freopen(\".out\", \"w\", stdout);\n#endif\n\n    int K;\n    cin >> n >> K;\n    scanf(\"%s\", s + 1);\n\n\n    for (int i = 1; i <= n; ++i)\n        q.push_back((s[i] - 'A') ^ (i % 2 == 0));\n\n    //print();\n\n    K = min(K, n * 2);\n\n    for (int i = 1; i <= K; ++i) {\n        //print();\n        int u = q.front(); q.pop_front();\n        if (!u) q.push_front(1);\n        else q.push_back((n % 2 == 0));\n    }\n\n    for (int i = 1; i <= n; ++i)\n        putchar('A' + (q.front() ^ (i % 2 == 0))), q.pop_front();\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define X first\n#define Y second\n#define mp make_pair\nusing namespace std;\ntypedef pair<int,int> PII;\ntypedef long long ll;\nconst int N = 200010;\nbitset<N> s;\nchar S[N];\nint main(){\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",S);\n\t//printf(\"%s\\n\",S);\n\tfor(int i=0;i<n;i++){\n\t\tif(S[i]=='A') s.set(i);\n\t}\n//\ts.set(0),s.set(1);\n//\ttmp.set();\n//cout<<s<<endl;\n\tfor(int i=0;i<min(k,2*n);i++){\n\t\tif(s[0]==1) s[0]=0;\n\t\telse s.reset(n),s=~(s>>1);\n\t\t//cout<<s<<endl;\n\t//\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\t//\tputs(\"\");\n\t}\n\t//cout<<s<<endl;\n\tfor(int i=0;i<n;i++)if(s[i]==0) putchar('B'); else putchar('A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint N,K; char V[400200];\n\nint main()\n{\n\tscanf (\"%d %d %s\",&N,&K,V);\n\tif (K > 2 * N) K = 2 * N + (K - 2 * N) % 2;\n\n\tint idx = 0, neg = 0;\n\twhile (K--){\n\t\tif (V[idx] == 'A' ^ neg) V[idx] = !(V[idx] - 'A') + 'A';\n\t\telse{\n\t\t\tneg = !neg;\n\t\t\tV[idx+N] = neg ? 'B' : 'A';\n\t\t\tidx++;\n\t\t}\n\t}\n\n\tif (neg){\n\t\tfor (int i=idx;i<idx+N;i++) V[i] = !(V[i] - 'A') + 'A';\n\t}\n\tputs(V+idx);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// luogu-judger-enable-o2\n#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int N = 2e5+5;\nint n, k, p;\nchar s[N];\nbool bit[N];\nint main()\n{\n    scanf(\"%d%d%s\", &n, &k, s+1), s[n+1] = 'B';\n    for(int i = 1; i <= n; ++i) bit[i] = s[i] != s[i+1];\n    for(p = 1; p <= n&&k; --k)    \n        if(s[1] == 'A') s[1] = 'B', bit[p] ^= 1;\n        else if(bit[p] == 0) s[1] = 'A', ++p;\n        else ++p;\n    if(p <= n)\n    {\n        for(int i = p+1; i <= n+1; ++i) s[i-p+1] = ((s[i-p]-'A')^bit[i-1])+'A';\n        for(int i = n-p+3; i <= n; ++i) s[i] = ((s[i-1]-'A')^1)+'A';\n    }\n    else for(int i = 1; i <= n; ++i) s[i+(n&1)] = 'A'+(i&1);\n    if(k&&(n&1)) s[1] = ((s[1]-'A')^(k&1))+'A'; s[n+1] = 0;\n    printf(\"%s\\n\", s+1);\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }\n        if(i % 10000000 == 0 && clk.now() - start > 1900ms){\n            break;\n        }\n    }\n    for(int i=0;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (int)(k); i < (int)(n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) a.begin(), a.end()\n#define MS(m,v) memset(m,v,sizeof(m))\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\nconst int MOD = 1e9 + 7;\ntemplate<class T> T &chmin(T &a, const T &b) { return a = min(a, b); }\ntemplate<class T> T &chmax(T &a, const T &b) { return a = max(a, b); }\ntemplate<class T>\nistream& operator >> (istream& is, vector<T>& v)\n{\n\tfor (auto &i : v) is >> i;\n\treturn is;\n}\ntemplate<class T>\nostream& operator<<(ostream& os, vector<T>& v)\n{\n\tconst string delimiter = \"\\n\";\n\tREP(i, v.size())\n\t{\n\t\tos << v[i];\n\t\tif (i != v.size() - 1) os << delimiter;\n\t}\n\treturn os;\n}\n/*--------------------template--------------------*/\n\nstring sim(string st)\n{\n\t//cout << st << \" \" << (in == 1 ? \"L\" : \"R\") << endl;\n\tint p = 0;\n\tint dir = 1;\n\twhile (p >= 0 && p < st.size())\n\t{\n\t\tif (st[p] == 'A')\n\t\t{\n\t\t\tst[p] = 'B';\n\t\t\tp -= dir;\n\t\t\tdir *= -1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tst[p] = 'A';\n\t\t\tp += dir;\n\t\t}\n\t}\n\t//cout << st << \" \" <<  (dir == 1 ? \"L\" : \"R\") << endl << endl;\n\treturn st;\n}\n\nint main()\n{\n\tcin.sync_with_stdio(false); cout << fixed << setprecision(10);\n\tint n, k; string  s;\n\tcin >> n >> k >> s;\n\tstring tmp = s;\n\tint cnt = 0;\n\tREP(i, k)\n\t{\n\t\t\n\t\twhile (tmp.size() >= 2 && tmp[tmp.size() - 1] == 'A' && tmp[tmp.size() - 2] == 'B')\n\t\t{\n\t\t\tcnt++;\n\t\t\ttmp.pop_back();\n\t\t\ttmp.pop_back();\n\t\t}\n\n\t\tif (tmp.size() == 0)\n\t\t{\n\t\t\tif ((k - i) % 2 == 0)\n\t\t\t{\n\t\t\t\tcout << \"BA\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcout << \"BB\";\n\t\t\t}\n\t\t\tREP(i, cnt - 1) cout << \"BA\";\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\tif (tmp.size() == 1)\n\t\t{\n\t\t\tif ((k - i) % 2 == 0)\n\t\t\t{\n\t\t\t\tcout << tmp;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcout << (tmp == \"A\" ? \"B\" : \"B\");\n\t\t\t}\n\t\t\tREP(i, cnt) cout << \"BA\";\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\ttmp = sim(tmp);\n\t}\n\tcout << tmp;\n\tREP(i, cnt) cout << \"BA\";\n\tcout << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\n\n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n\n#define MOD 1000000007\n\nll d[200010];\n\nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(n>400000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,n){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,n){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(n%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<set>\n#include<bitset>\n#include<map>\n\n#define fo(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef double db;\ntypedef unsigned long long ull;\n\nconst int N = 400005;\nconst int p = 2;\nconst int mo = 998244353;\nconst int q = 499122177;\n\nint n,len,k;\nchar s[N*2];\nint a[N*4],tot;\nint nxt[N*4];\nint st[N*2],t[N*2];\nint ql,cir;\null mi[N];\nmap<ull,int>mp;\n\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tfo(i,1,n)a[i]=s[i]-'A';\n\tfo(i,1,n-1)nxt[i]=i+1;\n\ttot=n;\n\tst[1]=1;t[1]=0;\n\tmi[0]=1;\n\tfo(i,1,n)mi[i]=mi[i-1]*p%mo;\n\tull now=0;\n\tfo(i,1,n)now=(now+mi[i-1]*a[i])%mo;\n\tint id=1;\n\tint he=1,ta=n,nt=0;\n\twhile(!mp[now]){\n\t\tmp[now]=id;\n\t\tid++;\n\t\tif ((a[he]^nt)==0){\n\t\t\tnow=(now+1)%mo;\n\t\t\ttot++;\n\t\t\ta[tot]=nt^1;\n\t\t\tnxt[tot]=nxt[he];\n\t\t\tst[id]=he=tot;t[id]=nt;\n\t\t\tif (mp[now]){\n\t\t\t\tql=mp[now]-1;\n\t\t\t\tcir=id-mp[now];\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tnow=(now-1)*q%mo;\n\t\t\tnow=(mi[n-1]-1-now+mo)%mo;\n\t\t\ta[++tot]=nt^1;\n\t\t\tnxt[ta]=tot;\n\t\t\tta=tot;\n\t\t\the=nxt[he];\n\t\t\tnt^=1;\n\t\t\tst[id]=he;t[id]=nt;\n\t\t\tif (mp[now]){\n\t\t\t\tql=mp[now]-1;\n\t\t\t\tcir=id-mp[now];\n\t\t\t}\n\t\t}\n\t}\n\tk++;\n\tif (k>ql){\n\t\tif (cir==1)k=ql+1;\n\t\telse k=ql+2+(k-ql)%2;\n\t}\n\tfor(int i=1,x=st[k];i<=n;i++,x=nxt[x])printf(\"%c\",(a[x]^t[k])==0?'A':'B');\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, diff;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i + 1 < n; ++i)\n        diff[i] = a[i] ^ a[i + 1];\n    diff[n - 1] = 1;\n\n    int bt = 0;\n    for (int i = 0; bt < n && k; ++i) {\n        --k;\n        if (diff.count() & 1) {\n            diff[0] = diff[0] ^ 1;\n        }   \n        else {\n            ++bt;           \n            diff >>= 1;\n            diff[n - 1] = 1;\n        }   \n    }   \n\n    a[n - 1];\n    for (int i = n - 2; i >= 0; --i)\n        a[i] = a[i + 1] ^ diff[i];\n\n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\n#define fst first\n#define snd second\n#define forn(i, n) for (int i = 0; i < int(n); ++i)\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vll;\ntypedef vector<char> vc;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vii;\n#define sz(c) (int)(c).size()\n#define all(c) (c).begin(), (c).end()\n\nstring df (const string &s)\n{\n    string ans;\n    //ans += (s[0] == 'A' ? '1' : '0');\n    int pref = 0;\n    forn (i, sz(s))\n    {\n        pref = (s[(i + 1) % sz(s)] == s[i]);\n        ans += (pref % 2 == 0 ? '0' : '1');\n    }\n    //ans += (s[0] != s.back() ? '0' : '1');\n    return ans;\n}\n\n#pragma GCC optimize(\"O3\")\nvoid solve (int n)\n{\n//    int pos = 0, dir = +1;\n//\n//    string s = df(n);\n//    while (0 <= pos && pos < sz(n))\n//    {\n//        dir = (n[pos] == 'A' ? -dir : dir);\n//        n[pos] ^= 'A' ^ 'B';\n//        pos += dir;\n//    }\n//    string t = df(n);\n//\n//    cout << \"df before : \" << s << endl;\n//    cout << \"df after  : \" << t << endl;\n//    cout << n << endl;\n\n    int k;\n    cin >> k;\n    string s;\n    cin >> s;\n    string diff = df(s);\n    vector<char> rdiff(sz(diff));\n    forn (i, sz(diff))\n        rdiff[i] = (diff[i] == '1' ? 1 : 0);\n\n    if (sz(s) == 1)\n    {\n        cout << (char)(k % 2 == 0 ? s[0] : s[0] ^ 'A' ^ 'B') << endl;\n        return;\n    }\n\n    int pos0 = 0, poslast = n - 1;\n    int fst = s[0] - 'A';\n\n    while (k--)\n    {\n        if (fst == 0)\n            rdiff[pos0] ^= 1, rdiff[poslast] ^= 1, fst = 1;\n        else\n        {\n            fst = (rdiff[pos0] ? 0 : 1);\n            pos0++, poslast++;\n            if (__builtin_expect(pos0 == n, false))\n                pos0 = 0;\n            if (__builtin_expect(poslast == n, false))\n                poslast = 0;\n        }\n    }\n\n    string res = (fst == 0 ? \"A\" : \"B\");\n    for (int i = pos0; i != poslast; i = (i + 1 == n ? 0 : i + 1))\n        res += (rdiff[i] == 0 ? res.back() ^ 'A' ^ 'B' : res.back());\n    cout << res << endl;\n}\n\nvoid solve_noinp (int n)\n{\n    int k = (int)1e9;\n    string s;\n    mt19937 rng;\n    forn (i, n / 2)\n        s += \"BA\";//rng() % 2 + 'A';\n    string diff = df(s);\n    vector<char> rdiff(sz(diff));\n    forn (i, sz(diff))\n        rdiff[i] = (diff[i] == '1' ? 1 : 0);\n\n    if (sz(s) == 1)\n    {\n        cout << (char)(k % 2 == 0 ? s[0] : s[0] ^ 'A' ^ 'B') << endl;\n        return;\n    }\n\n    int pos0 = 0, poslast = n - 1;\n    int fst = s[0] - 'A';\n\n    while (k--)\n    {\n        if (fst == 0)\n            rdiff[pos0] ^= 1, rdiff[poslast] ^= 1, fst = 1;\n        else\n        {\n            fst = 1 - rdiff[pos0];\n            pos0++, poslast++;\n            if (__builtin_expect(pos0 == n, false))\n                pos0 = 0;\n            if (__builtin_expect(poslast == n, false))\n                poslast = 0;\n        }\n    }\n\n    string res = (fst == 0 ? \"A\" : \"B\");\n    for (int i = pos0; i != poslast; i = (i + 1 == n ? 0 : i + 1))\n        res += (rdiff[i] == 0 ? res.back() ^ 'A' ^ 'B' : res.back());\n    cout << res << endl;\n}\n\nint main()\n{\n    ios_base::sync_with_stdio(false);\n    cin.tie(0);\n\n    int n;\n    //solve_noinp((int)2e5);\n    while (cin >> n)\n        solve(n);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+50) k=n*2+50;\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define BIG 1000000010\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\ntypedef long long int ll;\n\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  char s;\n  int a=0;\n  deque<char> d;\n  rep(i,n){\n    cin>>s;\n    d.push_back(s);\n  }\n  rep(i,k){\n    if(d.front()-(a%2)=='A'){\n      d.pop_front();\n      d.push_front('B'-(a%2));\n    }\n    else{\n      a++;\n      d.pop_front();\n      if(a%2) d.push_back('B');\n      else d.push_back('A');\n    }\n    if(a>n){\n      if(a%2==1){\n\trep(k,d.size()){\n\t  if(d[k]=='A') d[k]='B';\n\t  else d[k]='A';\n\t}\n      }\n      if(n%2==0){\n\trep(j,n){\n\t  \n\t  if(j%2==0 && d[j]!='B') break;\n\t  else if(j%2==1 && d[j]!='A') break;\n\t  else if(j==n-1) i=BIG;\n\t}\n      }\n      else{\n\trepi(j,1,n){\n\t  if(j%2==1 && d[j]!='B') break;\n\t  else if(j%2==0 && d[j]!='A') break;\n\t  else if(j==n-1) i=k-1-((k-1-i)%2);\n\t}\n      }\n    }\n  }\n  if(a<=n){\n    if(a%2==1){\n      rep(k,d.size()){\n\tif(d[k]=='A') d[k]='B';\n\telse d[k]='A';\n      }\n    }\n  }\n  rep(i,n){\n    cout<<d[i];\n  }\n  cout<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#if __cplusplus >= 201103L\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <scoped_allocator>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n#endif\n\n\n#define ll int\n#define FOR(i,a) for(ll i=0;i<(ll)a.size();i++)\n#define pb push_back\n#define ld long double\n#define mp make_pair\n#define F first\n#define S second\n#define pii pair<ll,ll> \n\nusing namespace :: std;\n\nconst ll maxn=1e5+500;\n\nint main(){\n\tll n,k;\n\tcin>>n>>k;\t\n\tstring s;\n\tcin>>s;\n\tfor(ll i=0;i<k;i++){\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B';\n\t\t}else{\n\t\t\tfor(ll j=0;j+1<n;j++){\n\t\t\t\tif(s[j+1]=='A'){\n\t\t\t\t\ts[j]='B';\n\t\t\t\t}else{\n\t\t\t\t\ts[j]='A';\n\t\t\t\t}\n\t\t\t}\n\t\t\ts[n-1]='A';\n\t\t}\n\t}\n\tcout<<s;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 200020;\n\nint n, k, cnt, ql, qr;\nchar s[MAXN];\nbool rev, q[MAXN << 2];\n\nint main()\n{\n#ifdef wxh010910\n\tfreopen( \"data.in\", \"r\", stdin );\n#endif\n\tscanf( \"%d%d%s\", &n, &k, s + 1 );\n\tfor( int i = 1 ; i <= n ; i++ ) q[ i ] = s[ i ] - 'A';\n\tql = 1, qr = n + 1;\n\tfor( cnt = 1 ; cnt <= ( n << 1 ) && cnt <= k ; cnt++ )\n\t{\n\t\tif( q[ ql ] ^ rev ) ql++, q[ qr++ ] = rev ^= 1;\n\t\telse q[ ql ] ^= 1;\n\t}\n\tcnt--;\n\tif( k - cnt & 1 )\n\t\tif( q[ ql ] ^ rev ) ql++, q[ qr++ ] = rev ^= 1;\n\t\telse q[ ql ] ^= 1;\n\tfor( int i = ql ; i < qr ; i++ ) putchar( 'A' + ( q[ i ] ^ rev ) );\n\treturn putchar( 10 ), 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint N, K, p, rev;\nchar S[200010];\n\nvoid sim() {\n\tif(S[p] == 'A') {\n\t\tif(rev) {\n\t\t\trev = false;\n\t\t\tS[p + N] = 'A';\n\t\t\tp++;\n\t\t}\n\t\telse {\n\t\t\tS[p] = 'B';\n\t\t}\n\t}\n\telse {\n\t\tif(rev) {\n\t\t\tS[p] = 'A';\n\t\t}\n\t\telse {\n\t\t\trev = true;\n\t\t\tS[p + N] = 'B';\n\t\t\tp++;\n\t\t}\n\t}\n}\n\nvoid out() {\n\tfor(int i = p; i < p + N; i++) {\n\t\tchar c = S[i];\n\t\tif(rev) c = (c == 'A') ? 'B' : 'A';\n\t\tcout << c;\n\t}\n\tcout << endl;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K >> S;\n\n\tfor(int i = 0; i < min(2 * N, K); i++) {\n\t\tsim();\n\t}\n\n\tout();\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<iostream>\n#include<vector>\n#include<set>\n#include<map>\n#include<bitset>\n#include<cmath>\n#include<string>\n\n#define ls (t<<1)\n#define rs ((t<<1)+1)\n#define mid ((l+r)>>1)\n#define fi first\n#define se second\n#define mk make_pair\n#define pb push_back\n\n#define N 200005\n#define M 2000005\n#define seed 23333\n#define mo 1000000007\n\nusing namespace std;\nint pw[N],i,j,m,n,p,k,l=1000000,r=999999,zh,fa,start;\nchar c[N];\nint now[M];\nmap<int,int>mp;\nvoid print()\n{\n\t\tfor (i=l;i<=r;++i)\n\t\t\tfor (j=1;j<=now[i];++j)\n\t\t\t\tprintf(\"%c\",'A'+(start^((i-l)&1)));\t\n}\nvoid work()\n{\n\t\tif (!start)\n\t\t{\n\t\t\t\tstart^=1;\n\t\t\t\tif (now[l]==1)\n\t\t\t\t{ \n\t\t\t\t\tnow[l+1]+=now[l];\n\t\t\t\t\t++l;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t--now[l];\n\t\t\t\t\tnow[--l]=1;\n\t\t\t\t}\n\t\t}\n\t\telse \n\t\t{\n\t\t\t\tstart^=1;\n\t\t\t\tif (now[l]==1) \n\t\t\t\t{\n\t\t\t\t\t\tstart^=1;\n\t\t\t\t\t\t++l;\n\t\t\t\t}\n\t\t\t\telse \n\t\t\t\t{\n\t\t\t\t\t\t--now[l];\n\t\t\t\t}\n\t\t\t\tif (((r-l)&1)^start) now[++r]=1;\n\t\t\t\telse now[r]++;\n\t\t}\n}\nint main()\n{\n\t\tscanf(\"%d%d\",&n,&k);\n\t\tscanf(\"%s\",c+1);\n\t\tpw[0]=1;\n\t\tfor (i=1;i<N;++i) pw[i]=1ll*pw[i-1]*seed%mo; \n\t\tfor (i=1;i<=n;++i) \n\t\t\t\tif (c[i]==c[i-1]) ++now[r];\n\t\t\t\telse now[++r]=1;\n\t\tstart=(c[1]=='B');\n\t\tif(k > (n << 1))\n\t\t{\n\t\t\tk = (n << 1) + (k & 1);\n\t\t}\n\t\tfor (i=0;i<k;++i)\twork();\n\t\tprint();\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <deque>\n#include <algorithm>\nusing namespace std;\n\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P)\n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, deque<T> P)\n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\n\n\nint N, K;\nstring S;\n\nusing Data = deque<pair<char,int> >;\nchar conv(char c, int change) {\n    if (change & 1) return (c == 'A' ? 'B' : 'A');\n    else return c;\n}\n\nstring recon(const Data &v, int change) {\n    string res = \"\";\n    int sum = 0;\n    for (auto p : v) {\n        sum += p.second;\n        for (int i = 0; i < p.second; ++i) res += conv(p.first, change);\n    }\n    if (((int)S.size() - sum) % 2 == 1) ++sum, res += \"A\";\n    for (int i = 0; i < (int)S.size()-sum; i += 2) res += \"BA\";\n    return res;\n}\n\nint main() {\n    cin >> N >> K >> S;\n    Data v;\n    for (int i = 0; i < S.size();) {\n        int j = i+1;\n        while (j < S.size() && S[j] == S[i]) ++j;\n        v.push_back({S[i], j-i});\n        i = j;\n    }\n    int change = 0;\n    for (int i = 0; i < K && !v.empty(); ++i) {\n        char c = conv(v[0].first, change);\n        if (c == 'A') {\n            auto p = v[0];\n            v.pop_front();\n            if (p.second > 1) v.push_front({conv('A', change), p.second - 1});\n            v.push_front({conv('B', change), 1});\n        }\n        else {\n            v[0].second--;\n            if (v[0].second == 0) v.pop_front();\n            ++change;\n        }\n\n        //cout << i << \": \" << recon(v, change) << \", \" << change << endl;\n    }\n    cout << recon(v, change) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int Maxn = 400015;\n\nint n, k;\nchar str[Maxn];\n\nint main()\n{\n    scanf(\"%d %d\", &n, &k);\n    scanf(\"%s\", str);\n    for (int i = n - 2; i >= 0; i -= 2)\n        str[i] = str[i] == 'A'? 'B': 'A';\n    for (int i = n; i < Maxn; i++)\n        str[i] = 'A';\n    char sav = n % 2 == 0? 'B': 'A';\n    int pnt = 0;\n    while (pnt < n && k > 0) {\n        k--;\n        if (str[pnt] == sav) str[pnt] = str[pnt] == 'A'? 'B': 'A';\n        else pnt++;\n    }\n    if (pnt >= n) {\n        k %= 2;\n        if (k)\n            if (str[pnt] == sav) str[pnt] = str[pnt] == 'A'? 'B': 'A';\n            else pnt++;\n    }\n    for (int i = n - 2; i >= 0; i -= 2)\n        str[pnt + i] = str[pnt + i] == 'A'? 'B': 'A';\n    str[pnt + n] = '\\0';\n    printf(\"%s\\n\", str + pnt);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define BIG 1000000010\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\ntypedef long long int ll;\n\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  int a=0;\n  cin>>s;\n  rep(i,k){\n    if(s[0]=='A') s[0]='B';\n    else{\n      rep(j,s.size()){\n\tif(j!=s.size()-1){\n\t  if(s[j+1]=='B') s[j]='A';\n\t  else s[j]='B';\n\t}\n\telse s[j]='A';\n      }\n    }\n    rep(j,s.size()){\n      if(s[j]==s[j+1]) break;\n      else if(j==s.size()-1){a=(k-(i+1))%2;i=k;}\n    }\n    //cout<<s<<endl;\n  }\n  //cout<<a<<endl;\n  rep(i,a){\n    rep(j,s.size()){\n       if(s[0]=='A') s[0]='B';\n       else{\n      if(j!=s.size()-1){\n\tif(s[j+1]=='B') s[j]='A';\n\telse s[j]='B';\n      }\n      else s[j]='A';\n    }\n    }\n  }\n  \n  cout<<s<<endl;\t  \n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nconst int N=200005;\n\nint n,m,a[N*2];\nchar s[N];\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tfor (int i=1;i<=n;i++) a[i]=s[i]-'A';\n\tint tag=0,now=1;\n\tfor (int i=1;m&&i<=n;i++,m--)\n\t\tif ((a[now]^tag)==0) a[now]^=1;\n\t\telse tag^=1,a[now+n]=tag,now++;\n\tif (m&&(a[now]^tag)==1) tag^=1,a[now+n]=tag,now++,m--;\n\tm%=2;\n\tif (m)\n\t{\n\t\tif (a[now]^tag==0) a[now]^=1;\n\t\telse tag^=1,a[now+n]=tag,now++;\n\t}\n\tfor (int i=0;i<n;i++) putchar('A'+(a[now+i]^tag));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <vector>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef pair<int, int> PII;\ntypedef vector<int> VI;\n#define fi first\n#define se second\n#define MP make_pair\n\nint read()\n{\n    int v = 0, f = 1;\n    char c = getchar();\n    while (c < 48 || 57 < c) {if (c == '-') f = -1; c = getchar();}\n    while (48 <= c && c <= 57) v = (v << 3) + v + v + c - 48, c = getchar();\n    return v * f;\n}\n\nint n, k;\nchar a[201000], ans[201000];\n\nint main()\n{\n    n = read(), k = read();\n    scanf(\"%s\", a);\n    int p = 0, flg = 0, s = 0;\n    for (int i = 0; i < k; i++)\n    {\n        int q = (p + a[p] - 'A') % 2;\n        s++;\n        if (!q && !flg)\n        {\n            flg = 1;\n            continue;\n        }\n        p++;\n        flg = 0;\n        if (p == n) break;\n    }\n    for (int i = p; i < n; i++)\n    {\n        ans[i - p] = a[i];\n        if (p & 1)\n            if (ans[i - p] == 'A')\n                ans[i - p] = 'B';\n            else\n                ans[i - p] = 'A';\n    }\n    if (flg) ans[0] = 'B';\n    for (int i = 0; i < p; i++)\n        ans[n - i - 1] = 'A' + (i & 1);\n    if (s < k && k % 2 != s % 2 && ans[0] == 'A') ans[0] = 'B';\n    printf(\"%s\\n\", ans);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, n)  for(long long i=0;i<(long long)(n);i++)\n#define REP(i,k,n) for(long long i=k;i<(long long)(n);i++)\n#define all(a) a.begin(),a.end()\n#define pb emplace_back\n#define eb emplace_back\n#define lb(v,k) (lower_bound(all(v),k)-v.begin())\n#define ub(v,k) (upper_bound(all(v),k)-v.begin())\n#define fi first\n#define se second\n#define pi M_PI\n#define PQ(T) priority_queue<T>\n#define SPQ(T) priority_queue<T,vector<T>,greater<T>>\n#define dame(a) {out(a);return 0;}\n#define decimal cout<<fixed<<setprecision(15);\n#define dupli(a) a.erase(unique(all(a)),a.end())\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef tuple<ll,ll,ll> PP;\ntypedef tuple<ll,ll,ll,ll> PPP;\ntypedef multiset<ll> S;\nusing vi=vector<ll>;\nusing vvi=vector<vi>;\nusing vvvi=vector<vvi>;\nusing vvvvi=vector<vvvi>;\nusing vp=vector<P>;\nusing vvp=vector<vp>;\nusing vb=vector<bool>;\nusing vvb=vector<vb>;\nconst ll inf=1001001001001001001;\nconst ll INF=2001001001;\nconst ll mod=1000000007;\nconst double eps=1e-10;\ntemplate<class T> bool chmin(T&a,T b){if(a>b){a=b;return true;}return false;}\ntemplate<class T> bool chmax(T&a,T b){if(a<b){a=b;return true;}return false;}\ntemplate<class T> void out(T a){cout<<a<<'\\n';}\ntemplate<class T> void outp(T a){cout<<'('<<a.fi<<','<<a.se<<')'<<'\\n';}\ntemplate<class T> void outvp(T v){rep(i,v.size())cout<<'('<<v[i].fi<<','<<v[i].se<<')';cout<<'\\n';}\ntemplate<class T> void outvvp(T v){rep(i,v.size())outvp(v[i]);}\ntemplate<class T> void outv(T v){rep(i,v.size()){if(i)cout<<' ';cout<<v[i];}cout<<'\\n';}\ntemplate<class T> void outvv(T v){rep(i,v.size())outv(v[i]);}\ntemplate<class T> bool isin(T x,T l,T r){return (l)<=(x)&&(x)<=(r);}\ntemplate<class T> void yesno(T b){if(b)out(\"yes\");else out(\"no\");}\ntemplate<class T> void YesNo(T b){if(b)out(\"Yes\");else out(\"No\");}\ntemplate<class T> void YESNO(T b){if(b)out(\"YES\");else out(\"NO\");}\ntemplate<class T> void noyes(T b){if(b)out(\"no\");else out(\"yes\");}\ntemplate<class T> void NoYes(T b){if(b)out(\"No\");else out(\"Yes\");}\ntemplate<class T> void NOYES(T b){if(b)out(\"NO\");else out(\"YES\");}\nvoid outs(ll a,ll b){if(a>=inf-100)out(b);else out(a);}\nll gcd(ll a,ll b){if(b==0)return a;return gcd(b,a%b);}\nll modpow(ll a,ll b){a%=mod;if(b==0)return 1;if(b&1)return a*modpow(a,b-1)%mod;ll k=modpow(a,b/2);return k*k%mod;}\nvoid ch(char &c){\n    if(c=='A')c='B';\n    else c='A';\n}\nint main(){\n    ll n,k;cin>>n>>k;\n    string s;cin>>s;\n    rep(i,k){\n        bool b=false;\n        if(s[0]=='A'){\n            s[0]='B';continue;\n        }\n        rep(j,n-1)if(s[j]==s[j+1]){\n            b=true;ch(s[j]);\n        }\n        s[n-1]='A';\n        if(!b)break;\n    }\n    out(s);\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k; rd(n, k);// k = std::min(k, 10 * n);\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1; i <= k; ++i) {\n\t\tif(a[st] == inv) a[st] ^= 1;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; ++i)\n\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,k,b[100005],ly,a[100005];\nchar s[100005];\nvoid mov()\n{\n\tif (a[1]==1) a[1]=0;\n\telse\n\t{\n\t\tfor (int i=1;i<n;i++)\n\t\t\tif (a[i]==a[i+1]) a[i]^=1;\n\t\t//if (a[n]==0)\n\t\ta[n]=1;\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tfor (int i=1;i<=n;i++)\n\t\ta[i]=s[i]=='A';\n\t/*\n\tfor (int i=2;i<=n;i++)\n\t{\n\t\tif (a[i]!=a[i-1])\n\t\t\tb[++ly]=i-k;\n\t}\n\tint t=1,now=(a[1]=='A')^(k&1);\n\twhile(t<=ly&&b[t]<0) t++;\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tif (b[t]==i||t>ly) t++,now^=1;\n\t\tputchar(now?'A':'B');\n\t}*/\n\tfor (int i=1;i<=k;i++)\n\t\tmov();\n\tfor (int i=1;i<=n;i++)\n\t\tputchar(a[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define rep(i,x,y) for(int i=(x);i<=(y);++i)\n#define per(i,x,y) for(int i=(x);i>=(y);--i)\nconst int N=4e5+10;\ninline bool vaild(char c){return c>='A'&&c<='B';}\ninline char gc(){char c=getchar();while(!vaild(c))c=getchar();return c;}\nint n,k,a[N],st=1,flag;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\trep(i,1,n)a[i]=gc()-'A';\n\tint i;\n\tfor(i=1;i<=k&&st<=n;++i){\n\t\tif((a[st]^flag)==0)a[st]^=1;\n\t\telse{\n\t\t\tflag^=1;\n\t\t\ta[n+st]=!flag;++st;\n\t\t}\n\t}--i;\n\tflag^=(k-i)&1;\n\trep(i,st,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if((n%2==1&&cnt+1==n)||v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n  }\n  if((k&1)&&(n&1)){\n    //assert(0);\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  assert(n&1);\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=a;i<b;i++)\n\n\nint N, K; string S;\n//-----------------------------------------------------------------\ninline char getrev(char c, int m) {\n\tint cc = c - 'A';\n\tif (m % 2 == 1) cc = 1 - cc;\n\treturn char('A' + cc);\n}\n//-----------------------------------------------------------------\nint main() {\n\tcin >> N >> K >> S;\n\n\tdeque<char> deq;\n\tstring ans = \"\";\n\trep(i, 0, N) deq.push_back(S[i]);\n\tint cnt = 0, rev = 0, done = 0;\n\twhile (!deq.empty()) {\n\t\t// 右側を詰める\n\t\twhile (!deq.empty()) {\n\t\t\tif (getrev(deq.back(), rev) == getrev('A', done)) {\n\t\t\t\tdeq.pop_back();\n\t\t\t\tans = getrev('A', done) + ans;\n\t\t\t\tdone++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (deq.empty()) break;\n\n\t\t// 変換\n\t\tif (getrev(deq.front(), rev) == 'A') {\n\t\t\t// パターン1\n\t\t\tcnt++;\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tdeq.push_front(getrev(c, 1));\n\t\t} else {\n\t\t\t// パターン2\n\t\t\tcnt++;\n\t\t\tdeq.pop_front();\n\t\t\trev++;\n\t\t\tans = getrev('A', done) + ans;\n\t\t\tdone++;\n\t\t}\n\n\t\tif (cnt == K) break;\n\t}\n\n\tif (!deq.empty()) {\n\t\twhile (!deq.empty()) {\n\t\t\tans = getrev(deq.back(), rev) + ans;\n\t\t\tdeq.pop_back();\n\t\t}\n\t\tcout << ans << endl;\n\t\treturn 0;\n\t}\n\n\tint d = K - cnt;\n\tif (N % 2 && d % 2) ans[0] = 'B';\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n//make_tuple emplace_back next_permutation push_back make_pair second first setprecision\n\n#if MYDEBUG\n#include \"lib/cp_debug.h\"\n#else\n#define DBG(...) ;\n#endif\n\nusing LL = long long;\nconstexpr LL LINF=334ll<<53;\nconstexpr int INF=15<<26;\nconstexpr LL  MOD=1E9+7;\n\nstruct Problem{\n    int n,k;\n    string s;\n    Problem(LL n):n(n){};\n    void out(int pos){\n        vector<char> ab;\n        for(int i=0; i<pos; ++i){\n            if(i%2==0) ab.push_back('A');\n            else ab.push_back('B');\n        }\n        reverse(ab.begin(),ab.end());\n        for(int i=pos; i<n; ++i){\n            if(pos%2==0)cout << s[i];\n            else if(s[i]=='A')cout << 'B';\n            else cout << 'A';\n        }\n        for(auto c : ab){\n            cout << c;\n        }\n        cout << \"\\n\";\n    }\n    void ba(int l){\n        for(int i=0; i<l; ++i){\n            if(i%2==0) cout << 'B';\n            else cout << 'A';\n        }\n        cout << \"\\n\";\n    }\n    void solve(){\n        cin >> k >> s;\n        int cnt=0;\n        for(int i=0; i<n; ++i){\n            if(cnt==k){out(i);return;}\n            if((s[i]=='A' and i%2==0)or(s[i]=='B' and i%2==1)){\n                if(s[i]=='A')s[i]='B';\n                else s[i]='A';\n                ++cnt;\n                if(cnt==k){out(i);return;}\n            }\n            ++cnt;\n        }\n        if(n%2==0){\n            ba(n);\n        }else{\n            if((k-cnt)%2==0)cout <<'A';\n            else cout << 'B';\n            ba(n-1);\n        }\n    }\n};\n\nint main(){\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n    long long n=0;\n    cin >> n;\n    Problem p(n);\n    p.solve();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "/// d.cpp\n\n# include <stdio.h>\n# include <bits/stdc++.h>\nusing namespace std;\nconst pair < int , int > DD[] = {{1,0},{1,1},{0,1},{-1,1},{-1,0},{-1,-1},{0,-1},{1,-1}};\n# define fi cin\n# define fo cout\n# define x first\n# define y second\n# define ll long long\n# define IOS ios_base :: sync_with_stdio(0);cin.tie(0)\n# define p(v) cerr << #v << \" = \" << v << '\\n'\n# define p2(v) cerr << #v << \" = \" << (complex < __typeof(v.x) > (v.x,v.y)) << '\\n'\n# define vi vector < int >\n# define vl vector < ll >\n# define pll pair < ll , ll >\n# define pii pair < int , int >\n# define mp make_pair\n# define db long double\n# define fail puts(\"-1\")\n# define yes puts(\"YES\")\n# define no puts(\"NO\")\n# define PP puts(\"Possible\")\n# define II puts(\"Impossible\")\n# define vii vector < pii >\n# define vll vector < ll >\n# define pb push_back\n# define pdd pair < db , db >\ntemplate < class T > T smin(T &a,T b) {if (a > b) a = b;return a;}\ntemplate < class T > T smax(T &a,T b) {if (a < b) a = b;return a;}\nint main(void)\n{\n    #ifdef CF\n    freopen(\"input\",\"r\",stdin);\n    #endif // CF\n    srand(time(0));\n    fo << fixed << setprecision(7);\n    cerr << fixed << setprecision(7);\n    int n,k;\n    fi>>n>>k;\n    static char str[1 << 20];\n    fi>>(str + 1);\n    static deque < int > D;\n    for (int i = 1;i <= n;++i)\n        D.pb(str[i] == 'B');\n    int rev = 0;\n    auto go = [&](void)\n    {\n        if (D.front() == rev)\n            D.pop_front(),D.push_front(rev ^ 1);\n        else\n        {\n            D.pop_front();\n            rev ^= 1;\n            D.push_back(rev);\n        }\n    };\n    for (int i = 1;i <= n + n && k;++i)\n        go(),--k;\n    if (k & 1) go();\n    for (auto it : D)\n        putchar((it ^ rev) + 'A');\n    puts(\"\");\n    cerr << \"Time elapsed :\" << clock() * 1000.0 / CLOCKS_PER_SEC << \" ms\" << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\n\n#define CIN_ONLY if(1)\nstruct cww{cww(){\n    CIN_ONLY{\n        ios::sync_with_stdio(false);cin.tie(0);\n    }\n}}star;\n#define fin \"\\n\"\n#define FOR(i,bg,ed) for(int i=(bg);i<(ed);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n#define pb push_back\n#define DEBUG if(0)\n#define REC(ret, ...) std::function<ret (__VA_ARGS__)>\ntemplate <typename T>inline void chmin(T &l,T r){l=min(l,r);}\ntemplate <typename T>inline void chmax(T &l,T r){l=max(l,r);}\ntemplate <typename T>\nistream& operator>>(istream &is,vector<T> &v){\n    for(auto &it:v)is>>it;\n    return is;\n}\n\nint main(){\n    int N,K;\n    string s;\n    cin>>N>>K>>s;\n    vector<int> bin(N);\n    REP(i,N)bin[i]=s[i]-'A';\n    int bg=1,ed=N;\n    int rev=0;\n    int fi=bin[0];\n    for(int e=0;ed>bg;e=1-e,ed--)\n        if(bin[ed-1]!=e)break;\n    while(K){\n        if(ed-bg<1&&fi==1)break;\n        if(fi==0)fi=1;\n        else{\n            int val=bin[bg]^rev;\n            if(val==1){\n                fi=0;\n            }else{\n                fi=1;\n            }\n            rev=1-rev;\n            bg++;\n        }\n        K--;\n    }\n    FOR(i,bg,ed)s[i-bg+1]=(bin[i]^rev)+'A';\n    for(int i=N-1,e=0;i>ed-bg;i--,e=1-e)s[i]=e+'A';\n    s[0]=fi+'A';\n    cout<<s<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h> \n\nusing namespace std;\n\nconst int maxn=2e6+10;\n\nint n,k;\nchar c[maxn];\nint a[maxn],b[maxn],sl;\n\n\n// 最后一位为 A 后 ....BABABA 循环最多进行 2n  次  \ndeque<int> q;\nint main()\n{\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",c+1);\n\tfor(int i=1;i<=n;++i) {\n\t\ta[i]=c[i]-'A';\n\t\tif((i)&1) b[n-i+1]=0;\n\t\telse b[n-i+1]=1;\n\t\tq.push_back(a[i]);\n\t} \n\tint now=0;\n\tint z=min(2*n,k);\n\tfor(int i=1;i<=z;++i) {\n\t\tint u=q.front();//cout<<i<<\" \"<<now<<\":\"<<u<<\"\\n\";\n\t\tif((u^now)==0) {\n\t\t\tq.pop_front();\n\t\t\tq.push_front(u^1);\n\t\t}else {\n\t\t\tq.pop_front(); \n\t\t\tq.push_back(1^now);\n\t\t\tnow^=1;\n\t\t}\n\t}\n\tif(k<=2*n) {\n\t\twhile(!q.empty()) {\n\t\t\tint u=q.front();q.pop_front();\n\t\t\tif(u^now) cout<<\"B\";\n\t\t\telse cout<<\"A\";\n\t\t}\t\n\t\treturn 0;\n\t}\n\tint tot=0,sl=n;\n\twhile(!q.empty()) {\n\t\tint u=q.front()^now;q.pop_front();\n\t\tif(u!=b[++tot]) {\n\t\t\tsl=n+1;\n\t\t\tbreak;\n\t\t}\t\t\n\t}\n\tif((n%2)) {\n\t\tif((k-sl)%2) b[1]=1;\n\t}\n\tfor(int i=1;i<=n;++i) {\n\t\tif(b[i]&1) {\n\t\t\tcout<<\"B\";\n\t\t}else {\n\t\t\tcout<<\"A\";\n\t\t}\n\t}\n\treturn 0;\n} "
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"O2\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC target(\"sse,sse2,tune=native\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nint s[maxn];\nstring get() {\n\tfor(auto &i : s) i -= 'A';\n\tint l = 0, a = 0;\n\t#pragma GCC ivdep\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\ta ^= 1;\n\t\t\ts[l ? l-1 : n-1] = a;\n\t\t}\n\t}\n\tstring res;\n\tfor(int i = 0; i < n; i++) {\n\t\tres += char('A' + (s[l++]^a));\n\t\tif(l == n) l = 0;\n\t}\n\treturn res;\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k;\n\tchar t;\n\tfor(int i = 0; i < n; i++) cin >> t, s[i] = t-'A';\n\t\n\tcout << get();\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\treverse(s+1,s+1+n);\n\tprint(s+1);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n//\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll int\n#define llu unsigned long long\n#define ld double\n#define llu unsigned long long\n#define rep(i,x,y)  for(int i=int(x);i<int(y);++i)\n#define For(i,x,y)  for(int i=int(x);i<=int(y);++i)\n#define FOr(i,x,y)  for(int i=int(x);i>=int(y);--i)\n#define pi acos(-1) \n#define mk make_pair\n#define pa pair<ll,ll>\n#define lf else if\n#define IL inline\n#define max(x,y)    ((x)<(y)?(y):(x))\n#define min(x,y)    ((x)<(y)?(x):(y))\n#define sqr(x)      ((x)*(x))\n#define Mul(x,y)    ((x)=1LL*(x)*(y)%mod)\n#define Add(x,y)    ((x)=((x)+(y))%mod)\n#define Max(x,y)    ((x)=((x)<(y)?(y):(x)))\n#define Min(x,y)    ((x)=((x)>(y)?(y):(x)))\n#define E(x)        return writeln(x),0\n#define LL\t\t\t(long long)\n#define p(x)        printf(\"~%lld~\\n\",LL(x))\n#define pp(x,y)     printf(\"~~%lld %lld~~\\n\",LL(x),LL(y))\n#define ppp(x,y,z)  printf(\"~~~%lld %lld %lld~~~\\n\",LL(x),LL(y),LL(z))\n#define pppp(a,b,c,d)\tprintf(\"~~~%lld %lld %lld %lld\\n\",LL(a),LL(b),LL(c),LL(d))\n#define f_in(x)     freopen(x\".in\",\"r\",stdin)\n#define f_out(x)    freopen(x\".out\",\"w\",stdout)\n#define open(x)     f_in(x),f_out(x)\n#define fi first\n#define se second\n#define GuYue\t\tputs(\"\\nGuYueNa________________________________________________________________________________\")\ntypedef complex<double> E;\nnamespace SHENZHEBEI{\n#ifdef LOCAL\n    struct _{_(){freopen(\"cf.in\",\"r\",stdin);}}_; \n#endif \n#define NEG 1\n    static const int GYN=2333333;\n    char SZB[GYN],*SS=SZB,*TT=SZB;\n    inline char gc(){   if (SS==TT){  TT=(SS=SZB)+fread(SZB,1,GYN,stdin); if (SS==TT) return '\\n';  }   return *SS++;    }\n#if NEG\n    inline ll read(){    ll x=0,g=1; char ch=gc();   for (;!isdigit(ch);ch=gc()) if (ch=='-') g=-1;  for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x*g; }\n    inline void write(ll x){    if (x<0) putchar('-'),x=-x;  if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#else\n    inline ll read(){    ll x=0; char ch=gc();   for (;!isdigit(ch);ch=gc());    for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x;   }\n    inline void write(ll x){    if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#endif\n    inline char readchar(){ char ch=gc();   for(;isspace(ch);ch=gc());  return ch;  }\n    inline ll readstr(char *s){ char ch=gc();   int cur=0;  for(;isspace(ch);ch=gc());      for(;!isspace(ch);ch=gc())  s[cur++]=ch;    s[cur]='\\0';    return cur; }\n\tvoid Print(long long *a,int s,int t){For(i,s,t)printf(\"%lld \",a[i]);}\n\tvoid Print(int *a,int s,int t){For(i,s,t)printf(\"%d \",a[i]);}\n\tvoid Print(char *a,int s,int t){For(i,s,t)putchar(a[i]);}\n\tvoid writeln(ll x){write(x);puts(\"\");}\n}using namespace SHENZHEBEI;\nconst ll N=400010;\nbitset<200100>f;\nchar s[200100];\nll n,k;\nint main(){\n\tn=read(),k=read();\n\tif (k>2*n){\n\t\tfor(;k>4*n;k-=2*n);\n\t\tfor(;k>2*n;k-=2);\n\t}\n\treadstr(s+1);\n\tFor(i,1,n)f[i]=s[i]=='A';\n\tFor(i,1,k)if (f[1])\tf[1]=0;\n\telse{\n\t\tf.flip(),f>>=1,f[n]=1;\n\t}\n\tFor(i,1,n)putchar(f[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    int cnt = 0;\n    while (k && cnt < n) {\n        --k;\n        ++cnt;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <string>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\nstring S;\nbool L[MAXN];\n\nvoid brute(string &T)\n{\n\tint pos = 0, w = 1;\n\twhile (pos >= 0 && pos < SZ(T))\n\t{\n\t\tif (T[pos] == 'A')\n\t\t{\n\t\t\tT[pos] = 'B';\n\t\t\tw *= -1;\n\t\t}\n\t\telse\n\t\t\tT[pos] = 'A';\n\t\tpos += w;\n\t}\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k >> S;\n\tint it = 0;\n\twhile (k && it++ < 7)\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\twhile (k && (S[0] == 'A' || S[n - 1] == 'B'))\n\t{\n\t\t--k;\n\t\tbrute(S);\n\t}\n\tif (k == 0)\n\t{\n\t\tcout << S;\n\t\treturn 0;\n\t}\n\tstring T = S;\n\tbrute(T);\n\tbrute(T);\n\tif (T == S)\n\t\tk &= 1;\n\tint p = 0, cnt = 0;\n\tREP(i, n)\n\t{\n\t\tL[i] = (i == n - 1 || S[i + 1] != S[i]);\n\t\tcnt += L[i];\n\t}\n\twhile (p < n && k--)\n\t{\n\t\tif (cnt & 1)\n\t\t{\n\t\t\tif (L[p])\n\t\t\t\t--cnt;\n\t\t\telse\n\t\t\t\t++cnt;\n\t\t\tL[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif (!L[p++])\n\t\t\t++cnt;\n\t}\n\tint pr = 0;\n\twhile (p < n)\n\t{\n\t\tcout << ((cnt & 1) ? 'A' : 'B');\n\t\tif (L[p++])\n\t\t\t--cnt;\n\t\t++pr;\n\t}\n\twhile (pr < n)\n\t{\n\t\tcout << (((n - pr) & 1) ? 'A' : 'B');\n\t\t++pr;\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\ndeque <char> D;\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k, neg = 0;\n\tcin >> n >> k;\n\tREP(i, n)\n\t{\n\t\tchar c;\n\t\tcin >> c;\n\t\tD.push_back(c);\n\t}\n\tbool o = k & 1;\n\tk = min(k, 2 * n);\n\tif ((k ^ o) & 1)\n\t\tk ^= 1;\n\tREP(i, k)\n\t{\n\t\tif ((D.front() == 'A') ^ (neg & 1))\n\t\t{\n\t\t\tD.pop_front();\n\t\t\tif (neg & 1)\n\t\t\t\tD.push_front('A');\n\t\t\telse\n\t\t\t\tD.push_front('B');\n\t\t\tcontinue;\n\t\t}\n\t\t++neg;\n\t\tD.pop_front();\n\t\tif (neg & 1)\n\t\t\tD.push_back('B');\n\t\telse\n\t\t\tD.push_back('A');\n\t}\n\tif (neg & 1)\n\t{\n\t\tREP(i, n)\n\t\t{\n\t\t\tif (D.front() == 'A')\n\t\t\t\tcout << 'B';\n\t\t\telse cout << 'A';\n\t\t\tD.pop_front();\n\t\t}\n\t}\n\telse\n\t\tREP(i, n)\n\t{\n\t\tcout << D.front();\n\t\tD.pop_front();\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e5+10;\nbitset<N> S0,T0;\nbitset<N-1> S1,T1;\nint n,k;char s[N];\ntemplate<unsigned N>\nvoid work(bitset<N> &S){\n\tif (S[0]) S^=~(S^(S>>1)),S[N-1]=0;else S[0]=1;\n}\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor (int i=N-2;i>=0;i-=2) T0[i]=S0[i]=1;\n\tfor (int i=N-1;i>=0;i-=2) T1[i]=S1[i]=1;\n\tfor (int i=0;i<n;i++)\n\t\tif (n&1) S1[i]=(s[i]=='B');else S0[i]=(s[i]=='B');\n\twhile (k--){\n\t\tif (n&1){\n\t\t\twork(S1);\n\t\t\tif (S1==T1){k%=2;if (k&1) work(S1);break;}\n\t\t}\n\t\telse{\n\t\t\twork(S0);\n\t\t\tif (S0==T0){k%=2;if (k&1) work(S0);break;}\n\t\t}\n\t}\n\tfor (int i=0;i<n;i++) putchar((n&1?S1[i]:S0[i])+'A');\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MN = 200010;\n\nint N, K;\nstring S;\nint chk[MN];\n\nvoid print(int pos, int Xor) {\n    for(int i = 0; i < N; i++) {\n        cout << (((S[pos] == 'A') ^ Xor ^ chk[pos])? 'A' : 'B');\n        pos = (pos + 1) % N;\n    }\n    cout << endl;\n}\n\nint main() {\n    std::ios::sync_with_stdio(false);\n\n    cin >> N >> K >> S;\n\n    if(S[0] == 'A') S[0] = 'B', K--;\n\n    int pos = 0;\n    int Xor = 0;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        K--;\n        if(K && (S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1) {\n            chk[ (pos + 1) % N ] = 1;\n            K--;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    if(!K) {\n        print(pos, Xor);\n        return 0;\n    }\n\n    int tot = 0;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        K--;\n        tot++;\n        if(K &&(S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n            K--;\n            tot++;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    K %= tot;\n    for(int i = 0; i < N; i++) {\n        if(!K) break;\n\n        //print(pos, Xor);\n\n        K--;\n        if(K &&(S[ (pos + 1) % N ] == 'A') ^ Xor ^ 1 ^ chk[ (pos + 1) % N ]) {\n            chk[ (pos + 1) % N ] ^= 1;\n            K--;\n        }\n        pos = (pos + 1) % N;\n        Xor ^= 1;\n    }\n\n    print(pos, Xor);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int N = 1e6 + 6;\n\nchar s[N];\nint a[N], n, k;\n\nint main() {\n  scanf(\"%d %d %s\", &n, &k, s);\n  for (int i = 0; i < n; i++)\n    a[i] = s[i] == 'A';\n  int id = 0, now = -1;\n  while (k > 0) {\n    if (now == -1) {\n      if (id >= n)\n        break;\n      now = a[id];\n      if (id & 1)\n        now ^= 1;\n      id++;\n    }\n    now--;\n    k--;\n  }\n  if (k == 0) {\n    int cur = 0;\n    if (now > -1)\n      a[cur++] = now;\n    while (id < n) {\n      a[cur] = (id-cur) & 1 ? a[id] ^ 1 : a[id];\n      cur++, id++;\n    }\n    while (cur < n) {\n      a[cur] = (n-cur) & 1;\n      cur++;\n    }\n  }\n  else {\n    if (now == -1) {\n      now = n & 1;\n    }\n    a[0] = now;\n    for (int i = 1; i < n; i++)\n      a[i] = (n-i) & 1;\n    if (n & 1) {\n      if (k & 1)\n        a[0] ^= 1;\n    }\n  }\n  for (int i = 0; i < n; i++)\n    printf(\"%c\", a[i] ? 'A' : 'B');\n  printf(\"\\n\");\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n//                       _oo0oo_                         //\n//                      o8888888o                        //\n//                      88\" . \"88      ------ hzt1       //\n//                      (| -_- |)                        //\n//                      0\\  =  /0                        //\n//                    ___/`---'\\___                      //\n//                  .' \\|     |// '.                     //\n//                 / \\|||  :  |||// \\                    //\n//                / _||||| -:- |||||- \\                  //\n//               |   | \\  -  /// |     |                 //\n//               | \\_|  ''\\---/''  |_/ |                 //\n//               \\  .-\\__  '-'  ___/-. /                 //\n//             ___'. .'  /--.--\\  `. .'___               //\n//          .\"\" '<  `.___\\_<|>_/___.' >' \"\".             //\n//         | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |           //\n//         \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /           //\n//     =====`-.____`.___ \\_____/___.-`___.-'=====        //\n//                       `=---='                         //\n//                                                       //\n//                                                       //\n//     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~       //\n//                                                       //\n//                 God-He Bless All.                     //\n//           This Code Will Never Explode.               //\n//                                                       //\n//                                                       //\n///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<bitset>\n#include<algorithm>\n#define rep(i,a,b) for(int i=(a),i##_end_=(b);i<=i##_end_;i++)\n#define dwn(i,a,b) for(int i=(a),i##_end_=(b);i>=i##_end_;i--)\nusing namespace std;\ntypedef long long ll;\nconst int maxn=200010;\nint n,k;\nbitset<maxn> A,B,C,ALL;\nvoid work(bitset<maxn>& A) {\n\tif(A[0]) A[0]=0;\n\telse A=ALL^(A>>1),A[n-1]=1;\n}\nvoid force(bitset<maxn>& A,int k) {\n\twhile(k--) work(A);\n\trep(i,0,n-1) putchar(A[i]?'A':'B');\n}\nchar s[maxn];\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tA=B=C=0;\n\trep(i,0,n-1) ALL[i]=1;\n\trep(i,0,n-1) if(s[i]=='A') A[i]=B[i]=C[i]=1;\n\tif(k>=2*n) k=2*n+(k-2*n)%2;\n\tforce(A,k);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define N 1111116\n\nint n,k,tmp;\nchar s[N];\nqueue<int> q;\n\nint read(){\n\tint x=0,f=1;char ch=getchar();\n\tfor (;!isdigit(ch);ch=getchar()) if (ch=='-')  f=-f;\n\tfor (;isdigit(ch);ch=getchar()) x=x*10+ch-'0';\n\treturn x*f;\n}\n\nint main(){\n\tn=read();k=read();scanf(\" %s\",s);\n\tfor (int i=0;i<n;i++) q.push(s[i]-'A');\n\tfor (int i=1;i<=k&&i<=2*n+(k&1);i++)\n\t\tif (q.front()==tmp) q.front()^=1;\n\t\telse q.pop(),q.push(tmp^=1);\n\tfor (;!q.empty();q.pop())\n\t\tprintf(q.front()==tmp?\"A\":\"B\");\n\tprintf(\"\\n\");return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    for (int i = 0; i < 2 * n && k; ++i) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(4*n,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'B':'A');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <algorithm>\n#include <cstdio>\n\nconst int N = 200010;\nconst int M = 1000010;\nconst int K = M/2;\nint _w;\n\nint n, k, p, st;\nchar s[M];\n\nvoid solve() {\n\tif( s[p] - st == 'A' ) {\n\t\ts[p] = 131 - s[p];\n\t} else {\n\t\tst ^= 1;\n\t\ts[p+n] = st ? 'B' : 'A';\n\t\t++p;\n\t}\n}\n\nint main() {\n\t_w = scanf( \"%d%d%s\", &n, &k, s );\n\tif( k <= K ) {\n\t\twhile( k-- ) solve();\n\t\tfor( int i = 0; i < n; ++i )\n\t\t\tputchar( st ? 131 - s[p+i] : s[p+i] );\n\t\tputs(\"\");\n\t} else {\n\t\tfor( int i = 0; i < K; ++i ) solve();\n\t\tk -= K;\n\t\tif( n % 2 && k % 2 ) s[p] = 131 - s[p];\n\t\tfor( int i = 0; i < n; ++i )\n\t\t\tputchar( st ? 131 - s[p+i] : s[p+i] );\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+10) k=n*2+10;\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntemplate <typename T> inline void rd(T& x) {\n\tint si = 1; char c = getchar(); x = 0;\n\twhile(!isdigit(c)) si = c == '-' ? -1 : si, c = getchar();\n\twhile(isdigit(c)) x = x * 10 + c - 48, c = getchar();\n\tx *= si;\n}\ntemplate <typename T, typename... Args>\ninline void rd(T& x, Args&... args) { rd(x); rd(args...); }\n\n#define fi first\n#define se second\n\ntypedef long long ll;\ntypedef double ff;\ntypedef std::pair<int, int> pii;\n\nconst int kN = 2e5 + 5;\n\nchar s[kN]; int a[kN];\n\nint main() {\n\tint n, k, km; rd(n, k);\n\tscanf(\"%s\", s + 1);\n\tfor(int i = 1; i <= n; ++i) a[i] = s[i] - 'A';\n\tint inv = 0, st = 1;\n\tfor(int i = 1, cnt = 0; i <= k, cnt <= n; ++i, --km) {\n\t\tif(a[st] == inv) a[st] ^= 1, ++cnt;\n\t\telse {\n\t\t\tinv ^= 1;\n\t\t\tst = st % n + 1;\n\t\t}\n\t}\n\tif(n % 2 == 0) {\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t} else {\n\t\tprintf(\"%c\", (a[st] ^ inv ^ (km & 1)) + 'A');\n\t\tfor(int i = 2; i <= n; ++i)\n\t\t\tprintf(\"%c\", (a[(st + i - 2) % n + 1] ^ inv) + 'A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n  }\n  //assert(!k);\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <vector>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <ctime>\n#include<complex>\nusing namespace std;\n\n#define FOR(i,a,b) for (int i = (a); i < (b); i++)\n#define RFOR(i,b,a) for (int i = (b)-1; i >= (a); i--)\n#define ITER(it,a) for (__typeof(a.begin()) it = a.begin(); it != a.end(); it++)\n#define FILL(a,value) memset(a, value, sizeof(a))\n\n#define SZ(a) (int)a.size()\n#define ALL(a) a.begin(), a.end()\n#define PB push_back\n#define MP make_pair\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef pair<int, int> PII;\n\nconst double PI = acos(-1.0);\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst LL LINF = INF * (LL)INF;\n\nconst int MAX = 2 * 100000 + 47;\nconst int MOD = 1000 * 1000 * 1000 + 7;\n\nint A[MAX];\nvoid sim(string& s)\n{\n\tint p = 0;\n\tint d = 1;\n\twhile (1)\n\t{\n\t\tif (p == -1 || p == SZ(s)) break;\n\t\tif (s[p] == 'A')\n\t\t{\n\t\t\ts[p] = 'B';\n\t\t\td *= -1;\n\t\t\tp += d;\n\t\t\tcontinue;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[p] = 'A';\n\t\t\tp += d;\n\t\t}\n\t}\n}\n\nvoid sim(string& s, int k)\n{\n\tFOR(i, 0, k)\n\t{\n\t\tsim(s);\n\t}\n}\n\nvoid calc(string& s, int k)\n{\n\tint rev = 0;\n\tint p = 0;\n\tint n = SZ(s);\n\n\tFOR(i, 0, n) A[i] = s[i] == 'B';\n\n\tFOR(i, 0, min(k, 4 * n))\n\t{\n\t\tif (A[p] ^ rev == 0)\n\t\t{\n\t\t\tA[p] ^= 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\trev ^= 1;\n\t\tA[p] = rev;\n\t\tp++;\n\t\tif (p == n) p = 0;\n\t}\n\n\tFOR(k, 0, n)\n\t{\n\t\tint i = p + k;\n\t\tif (i >= n) i -= n;\n\n\t\ts[k] = (A[i] ^ rev) + 'A';\n\t}\n}\n\nint main()\n{\n\t//freopen(\"in.txt\", \"r\", stdin);\n\t//freopen(\"out.txt\", \"w\", stdout);\n\tios::sync_with_stdio(false); cin.tie(0);\n\tstring s;\n\tint k, n;\n\tcin >> n >> k >> s;\n\n\tcalc(s, k);\n\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint N, K, sh;\nchar sir[1000009];\n\nint main ()\n{\n//freopen (\"input\", \"r\", stdin);\n//freopen (\"output\", \"w\", stdout);\n\nscanf (\"%d %d\\n\", &N, &K);\nscanf (\"%s\", sir + 1), sh = 0;\nfor (int i=1; i<=N; i++)\n    sir[i] -= 'A';\nwhile (K && sh < N)\n{\n    K --;\n    if ((sir[1 + sh] ^ (sh & 1)) == 0) sir[1 + sh] ^= 1;\n    else sh ++;\n}\nif (K == 0)\n{\n    for (int i=1; i<=N - sh; i++)\n        if (sir[i + sh] ^ (sh & 1)) printf (\"B\");\n        else printf (\"A\");\n    for (int i=N - sh + 1; i<=N; i++)\n        if ((N - i) & 1) printf (\"B\");\n        else printf (\"A\");\n    printf (\"\\n\");\n    return 0;\n}\nif (N & 1)\n{\n    if (K & 1) printf (\"B\");\n    else printf (\"A\");\n    for (int i=2; i<=N; i++)\n        if ((N - i) & 1) printf (\"B\");\n        else printf (\"A\");\n    printf (\"\\n\");\n    return 0;\n}\nfor (int i=1; i<=N; i++)\n    if (i & 1) printf (\"B\");\n    else printf (\"A\");\nprintf (\"\\n\");\nreturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nconst int N=200005;\n\nint n,K;\nchar s[N];\n\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",s+1);\n\twhile(K--){\n\t\tif(s[1]=='A'){s[1]='B';continue;}\n\t\tfor(int i=1;i<=n;i++)if(s[i]==s[i+1])s[i]='B'-s[i]+'A';\n\t\ts[n]='A';\n\t}\n\tprintf(\"%s\\n\",s+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// AtCoder Grand Contest 011\n// D - Half Reflector\n\n#include <cstdio>\n#define MAX_N 200000\nusing namespace std;\ntypedef long long int ll;\n\n\nint N;\nll K;\nchar ans[MAX_N + 1];\n\nint main() {\n\n  char c;\n  int inv;\n\n  scanf(\"%d%lld\", &N, &K);\n  scanf(\"%*c\");\n  ans[N + 1] = '\\0';\n\n  inv = 0;\n  int j = 0;\n  for (int i = 0; i < N; i++) {\n    scanf(\"%c\", &c);\n    if ((c - 'A' + i) % 2 == 0) {\n      inv++;\n    }\n    if ((ll)inv + i >= K) {\n      ans[j] = ((c - 'A') + (i - j)) % 2 + 'A';\n      if (j == 0 && K == (ll)inv + i) {\n        ans[j] = 'B';\n      }\n      j++;\n    }\n  }\n  if (j == 0 && N % 2 == 1) {\n    ans[0] = (inv + K + 1) % 2 + 'A';\n    j++;\n  }\n  for (; j < N; j++) {\n    ans[j] = (N - j + 1) % 2 + 'A';\n  }\n  printf(\"%s\\n\", ans);\n\n  return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rank tipa_rank\n#define pb push_back\n#define mp make_pair\n#define ll long long\n#define ull unsigned long long\n#define INF 1000000000\n#define EPS 1e-6\n#define free tipa_free\n#define EPS2 1e-8\nusing namespace std;\nconst ll MOD = INF + 7;\nusing namespace std;\nstring s;\nstring ans;\nint n , k;\ndeque<pair<char , int> > v;\nbool swapped = false;\nint main()\n{\n\t//freopen(\"output.txt\" , \"w\" , stdout);\n\tcin >> n >> k;\n\tcin >> s;\n\tfor(int i = 0; i < s.size(); i++)\n\t{\n\t\tif(v.size() && v.back().first == s[i])\n\t\t\tv.back().second++;\n\t\telse\n\t\t\tv.push_back(mp(s[i] , 1));\n\t}\n\tif(n == 1)\n\t{\n\t\tcout << char(((s[0] - 'A') ^ (k % 2)) + 'A');\n\t\treturn 0;\n\t}\n\t/*for(int i = 0; i < v.size(); i++)\n\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\tcout << endl;*/\n\tint cnt = 0;\n\twhile(k--)\n\t{\n\n\t\tif(v.front().first == 'A' + swapped)\n\t\t{\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tif(v.front().first == 'B' - swapped)\n\t\t\t{\n\t\t\t\tv.front().second++;\n\t\t\t}\n\t\t\telse\n\t\t\t\tv.push_front(mp('B' - swapped , 1));\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//v.pop_front();\n\t\t\tv.front().second--;\n\t\t\tif(!v.front().second)\n\t\t\t\tv.pop_front();\n\t\t\tswapped = !swapped;\n\t\t\tif(v.back().first == swapped + 'A')\n\t\t\t\tv.back().second++;\n\t\t\telse\n\t\t\t\tv.push_back(mp(swapped + 'A' , 1));\n\t\t}\n\t\t/*cout << swapped << endl;\n\t\tfor(int i = 0; i < v.size(); i++)\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\tcout << endl;*/\n\t\tcnt++;\n\t\tif(cnt == 500000)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(k % 2 && n % 2)\n\t{\n\t\tv.pop_front();\n\t\tv.front().second++;\n\t}\n\n\t//cout << v[0].first - 'A' << endl;\n\tfor(int i = 0; i < v.size(); i++)\n\t{\n\t\tif(!swapped)\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << v[i].first;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j = 0; j < v[i].second; j++)\n\t\t\t\tcout << char(((v[i].first - 'A') ^ 1) + 'A');\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <deque>\n#include <algorithm>\nusing namespace std;\nint main(){\n\tint n,k;\tcin>>n>>k;\n\tstring s;\tcin>>s;\n\tbool rev=false;\n\tint order=n;\n\twhile(order>=2&&s[order-1]=='A'&&s[order-2]=='B')\torder-=2;\n\twhile(order>=2&&k){\n\t\tif((rev&&s[0]=='B')||(!rev&&s[0]=='A')){\n\t\t\ts[0]='B'-s[0]+'A';\n\t\t\tk--;\n\t\t}\n\t\telse{\n\t\t\trev^=1;\n\t\t\ts.erase(s.begin());\n\t\t\ts+=(rev?\"B\":\"A\");\n\t\t\tk--;\n\t\t}\n\t\twhile(order>=2&&((!rev&&s[order-1]=='A'&&s[order-2]=='B')||(rev&&s[order-1]=='B'&&s[order-2]=='A'))){\n\t\t\torder-=2;\n\t\t}\n\t}\n\tif(k==0){\n\t\tif(rev){\n\t\t\tfor(int i=0;i<n;i++)\ts[i]='B'-s[i]+'A';\n\t\t}\n\t\tcout<<s<<endl;\n\t\treturn 0;\n\t}\n\telse if(order==0){\n\t\tif(rev){\n\t\t\tfor(int i=0;i<n;i++)\ts[i]='B'-s[i]+'A';\n\t\t}\n\t\tcout<<s<<endl;\n\t\treturn 0;\n\t}\n\telse{\n\t\tk%=2;\n\t\tif(rev){\n\t\t\tfor(int i=0;i<n;i++)\ts[i]='B'-s[i]+'A';\n\t\t}\n\t\tif(k)\ts[0]='B'-s[0]+'A';\n\t\tcout<<s<<endl;\n\t\treturn 0;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(n%2==1&&cnt+1==n){\n      v.pop_back();\n      cnt++;\n      lst^=1;\n    }\n    if(v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //print();\n  }\n  //assert(n!=1);\n  //cout<<k<<\" \"<<n<<endl;\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdio>\nusing namespace std;\nconst int N = 200010;\nint n, k;\nstring s;\nchar oppo(char ch)\n{\n    return 'A'+((ch-'A')^1);\n}\nint main()\n{\n\tcin >> n >> k >> s;\n\tint c = 0, step = 0;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tif (c == s[i] - 'A') step += 2; else step++;\n\t\tc = c ^ 1;\n\t}\n    if (k <= step)\n    {\n        int c = 0, tot = 0,i;\n        for (i = 0; i < n&&tot < k; i++)\n        {\n            if (c == s[i] - 'A') tot += 2; else tot++;\n            c = c ^ 1;\n        }\n        string t;\n        if (tot > k) i--;\n        for (int j = i;j < n;j++)\n            t.push_back((i&1)?oppo(s[j]):s[j]);\n        for (int j = 0;j < i;j++) t.push_back((i&1)?'A':'B');\n        if (tot > k) t[0] = oppo(t[0]);\n        cout << t << endl;\n    } else {\n        k = (k-step)%(2*n);\n        for (int i = 0;i < n;i++)\n            if ((n-i)%2 == 1) s[i] = 'A'; else s[i] = 'B';\n        if (n%2 == 0)\n        {\n            if (s[0] == 'A')\n            {\n                if (k&1) s[0] = 'B';\n                cout << s << endl;\n            } else cout << s << endl;\n        } else {\n            int times = (s[0] == 'A')?k/2:k%n;\n            string t;\n            for (int i = times;i < n;i++) t.push_back((k&1)?oppo(s[i]):s[i]);\n            for (int i = 0;i < times;i++) t.push_back((k&1)?oppo(s[i]):s[i]);\n            if (s[0] == 'A'&&k&1) t[0] = 'B';\n            cout << t << endl;\n        }\n    }\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll unsigned long long\nusing namespace std;\nconst int N=1e6;\nint n,k,a[N],z[2]={1,-1},laz;\nchar s[N];\nint main(){\n    cin>>n>>k>>s;\n    for (int i=0; i<n; ++i)\n\ta[i+1]=s[i]-'A';\n    int l=1,r=n,cnt=0;\n    while(k&&cnt<2*n){\n\t--k,++cnt;\n\tif (a[l]==laz)\n\t    a[l]^=1;\n\telse\n\t    ++l,++r,laz^=1,a[r]=laz;\n    }\n    if (k&1)\n\tif (a[l]==laz)\n\t    a[l]^=1;\n\telse\n\t    ++l,++r,laz^=1,a[r]=laz;\n    for (int j=l; j<=r; ++j) putchar('A'+(a[j]^laz));\n    putchar('\\n');\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0, when_b = -1;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 4 * n); i++)\n\t{\n\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t\tif (i >= 3 * n && a[0] ^ rev) when_b = i & 1;\n\t}\n\n\tif ((k - 1) & 1 == when_b) a[0] = rev;\t\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <climits>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <iostream>\n#include <sstream>\n#include <functional>\n#include <map>\n#include <string>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <deque>\n#include <set>\n#include <list>\n#include <numeric>\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll,ll> P;\nconst double PI = 3.14159265358979323846;\nconst double EPS = 1e-12;\nconst ll INF = 1LL<<29;\nconst ll mod = 1e9+7;\n#define rep(i,n) for(int (i)=0;(i)<(ll)(n);++(i))\n#define repd(i,n,d) for(ll (i)=0;(i)<(ll)(n);(i)+=(d))\n#define all(v) (v).begin(), (v).end()\n#define pb(x) push_back(x)\n#define mp(x,y) make_pair((x),(y))\n#define mset(m,v) memset((m),(v),sizeof(m))\n#define chmin(x,y) (x=min(x,y))\n#define chmax(x,y) (x=max(x,y))\n#define fst first\n#define snd second\n#define UNIQUE(x) (x).erase(unique(all(x)),(x).end())\ntemplate<class T> ostream &operator<<(ostream &os, const vector<T> &v){int n=v.size();rep(i,n)os<<v[i]<<(i==n-1?\"\":\" \");return os;}\n\nint main(){\n\tll n, k;\n\tstring s;\n\tcin>>n>>k>>s;\n\tdeque<char> q;\n\trep(i, s.size()) q.push_back(s[i]-'A');\n\tint t = 0;\n\tif(k>n) k = (k-n)%2+n;\n\tfor(int i = 0, m = k; i < m; i++,k--){\n\t\tchar c = q.front(); q.pop_front();\n\t\tif(t) c = !c;\n\t\tif(c==0) q.push_front(!t);\n\t\telse {\n\t\t\tt = !t;\n\t\t\tq.push_back(t);\n\t\t}\n\t}\n\tstring res;\n\twhile(!q.empty()){\n\t\tchar a = q.front();\n\t\ta ^= t;\n\t\tres += a+'A'; q.pop_front();\n\t}\n\tcout<<res<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll=long long;\n#define int ll\n\n#define FOR(i,a,b) for(int i=int(a);i<int(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define MP make_pair\n#define PB push_back\n#define ALL(x) x.begin(),x.end()\n#define REACH cerr<<\"reached line \"<<__LINE__<<endl\n#define DBG(x) cerr<<\"line \"<<__LINE__<<\" \"<<#x<<\":\"<<x<<endl\n\nusing pi=pair<int,int>;\nusing vi=vector<int>;\nusing ld=long double;\n\ntemplate<class T,class U>\nostream& operator<<(ostream& os,const pair<T,U>& p){\n\tos<<\"(\"<<p.first<<\",\"<<p.second<<\")\";\n\treturn os;\n}\n\ntemplate<class T>\nostream& operator <<(ostream& os,const vector<T>& v){\n\tos<<\"[\";\n\tREP(i,(int)v.size()){\n\t\tif(i)os<<\",\";\n\t\tos<<v[i];\n\t}\n\tos<<\"]\";\n\treturn os;\n}\n\nint read(){\n\tint i;\n\tscanf(\"%lld\",&i);\n\treturn i;\n}\n\nvoid printSpace(){\n\tprintf(\" \");\n}\n\nvoid printEoln(){\n\tprintf(\"\\n\");\n}\n\nvoid print(int x,int suc=1){\n\tprintf(\"%lld\",x);\n\tif(suc==1)\n\t\tprintEoln();\n\tif(suc==2)\n\t\tprintSpace();\n}\n\nstring readString(){\n\tstatic char buf[3341919];\n\tscanf(\"%s\",buf);\n\treturn string(buf);\n}\n\nchar* readCharArray(){\n\tstatic char buf[3341919];\n\tstatic int bufUsed=0;\n\tchar* ret=buf+bufUsed;\n\tscanf(\"%s\",ret);\n\tbufUsed+=strlen(ret)+1;\n\treturn ret;\n}\n\ntemplate<class T,class U>\nvoid chmax(T& a,U b){\n\tif(a<b)\n\t\ta=b;\n}\n\ntemplate<class T,class U>\nvoid chmin(T& a,U b){\n\tif(a>b)\n\t\ta=b;\n}\n\ntemplate<class T>\nT Sq(const T& t){\n\treturn t*t;\n}\n\nconst int inf=LLONG_MAX/3;\n\nsigned main(){\n\tint n=read(),k=read();\n\tstring s=readString();\n\tif(s[0]=='B'){\n\t\tREP(i,n-1)\n\t\t\ts[i]=s[i+1]=='A'?'B':'A';\n\t\ts[n-1]='A';\n\t\tk--;\n\t}\n\tint g=k/2;\n\tstring t;\n\tREP(i,n)\n\t\tif(i+g<n)\n\t\t\tt+=((g&1)^(s[i+g]=='A'))?'A':'B';\n\t\telse\n\t\t\tt+=((n-1-i)&1)?'B':'A';\n\tif(k&1){\n\t\tif(t[0]=='A')\n\t\t\tt[0]='B';\n\t\telse{\n\t\t\tREP(i,n-1)\n\t\t\t\tt[i]=t[i+1]=='A'?'B':'A';\n\t\t\tt[n-1]='A';\n\t\t}\n\t}\n\tcout<<t<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<ctime>\n#include<map>\n#include<bitset>\n#include<set>\n#define LL long long\n#define mp(x,y) make_pair(x,y)\n#define pll pair<long long,long long>\n#define pii pair<int,int>\nusing namespace std;\ninline int read()\n{\n\tint f=1,x=0;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nint stack[20];\ntemplate<typename T>inline void write(T x)\n{\n\tif(x<0){putchar('-');x=-x;}\n    if(!x){putchar('0');return;}\n    int top=0;\n    while(x)stack[++top]=x%10,x/=10;\n    while(top)putchar(stack[top--]+'0');\n}\ntemplate<typename T>inline void pr1(T x){write(x);putchar(' ');}\ntemplate<typename T>inline void pr2(T x){write(x);putchar('\\n');}\nconst int MAXN=800005;\nchar ch[MAXN];int n,K,cnt,len;\nchar fac(char a,int p){return ((a-'A')^p)+'A';}\ndeque<char> ans; \nint main()\n{\n//\tfreopen(\"a.in\",\"r\",stdin);\n\tn=read();K=read();\n\tscanf(\"%s\",ch+1);len=n;int o=0;\n\tif(K>n*2+1)K=(K&1)?(n*2+1):(n*2+2);\n\tint r=n,l=1;\n\tfor(int i=1;i<=K;i++)\n\t{\n\t\tif(fac(ch[l],o)=='A')ch[l]=fac('B',o);\n\t\telse ++l,o^=1,ch[++r]=fac('A',o);\n\t}\n\tfor(;;++l)\n\t{\n\t\tputchar(fac(ch[l],o));\n\t\tif(l==r)break;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tint C = 0;\n\twhile (k&&C<=3*n){\n\t\tk--;\n\t\tC++;\n\t\tif (d.front() == 1){\n\t\t\td.front() = 0;\n\t\t\tcontinue;\n\t\t}\n\t\td.pop_front();\n\t\td.push_back(((n - 1) & 1)^1);\n\t}\n\tif (k == 0){\n\n\t}\n\telse{\n\t\tif (d.front() == 0){  //B\n\t\t\tif ((k & 1)){\n\t\t\t\td.front() = 1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tk %= 2;\n\t\t\tif (k){\n\t\t\t\td.front() = 0;\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// AtCoder Grand Contest 011\n// D - Half Reflector\n\n#include <cstdio>\n#define MAX_N 200000\nusing namespace std;\ntypedef long long int ll;\n\n\nint N;\nll K;\nchar ans[MAX_N + 1];\n\nint main() {\n\n  char c;\n  int inv;\n\n  scanf(\"%d%lld\", &N, &K);\n  scanf(\"%*c\");\n  ans[N + 1] = '\\0';\n\n  if (N == 1) {\n    scanf(\"%c\", &c);\n    ans[0] = (K + (ll)(c - 'A')) % 2 + 'A';\n    ans[1] = '\\0';\n    printf(\"%s\\n\", ans);\n    return 0;\n  }\n\n  inv = 0;\n  int j = 0;\n  for (int i = 0; i < N; i++) {\n    scanf(\"%c\", &c);\n    if ((c - 'A' + i) % 2 == 0) {\n      inv++;\n    }\n    if ((ll)inv + i >= K) {\n      ans[j] = ((c - 'A') + (i - j)) % 2 + 'A';\n      if (j == 0 && K == (ll)inv + i) {\n        ans[j] = 'B';\n      }\n      j++;\n    }\n  }\n  for (; j < N; j++) {\n    ans[j] = (N - j + 1) % 2 + 'A';\n  }\n  printf(\"%s\\n\", ans);\n\n  return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long i64;\n\nint main()\n{\n\tint n, k;\n\tchar temp[200005];\n\tvector<bool> state;\n\n\tscanf(\"%d%d%s\", &n, &k, temp);\n\tstate.resize(n);\n\tfor(int i = 0; i < n; ++i)\n\t\tstate[i] = (temp[i] == 'A');\n\n\tint step = k % (2 * n);\n\tint left = 0;\n\tbool flip = false;\n\n\tfor(int s = 0; s < step; ++s) {\n\n\t\tbool is_a = (state[left] != flip);\n\n\t\tif(is_a) {\n\t\t\t//printf(\"%d: %d first\\n\", s, left);\n\t\t\tstate[left] = !state[left];\n\t\t\tcontinue;\n\t\t}\n\n\t\t//printf(\"%d: %d second\\n\", s, left);\n\n\t\tleft = (left + 1) % n;\n\t\tflip = !flip;\n\t}\n\n\tchar ans[200005] = {0};\n\tfor(int i = 0; i < n; ++i) {\n\t\tint pos = (left + i) % n;\n\t\tbool is_a = (state[pos] != flip);\n\t\tans[i] = (is_a ? 'A' : 'B');\n\t}\n\n\tprintf(\"%s\\n\", ans);\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <set>\n#include <map>\n#include <unordered_map>\n#include <unordered_set>\n#include <cstring>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <random>\n#include <iomanip>\n#include <functional>\n#include <cassert>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main() {\n  ios_base::sync_with_stdio(false); cin.tie(0);\n#ifdef LOCAL\n  freopen(\"input.txt\", \"r\", stdin);\n#endif\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  s += 'B';\n  ++n;\n  deque <int> lens;\n  int len = 1;\n  for (int i = 1; i < n; ++i) {\n    if (s[i] != s[i - 1]) {\n      lens.push_back(len);\n      len = 1;\n    } else {\n      ++len;\n    }\n  }\n  lens.push_back(len);\n  char c = s[0];\n  for (int i = 0; i < min(k, n + 10); ++i) {\n    if (c == 'A') {\n      int x = lens.front();\n      lens.pop_front();\n      if (x == 1) {\n        ++lens.front();\n      } else {\n        lens.push_front(x - 1);\n        lens.push_front(1);\n      }\n      c = 'B';\n    } else {\n      int x = lens.front();\n      lens.pop_front();\n      lens.push_back(1);\n      if (x > 1) {\n        lens.push_front(x - 1);\n        c = 'A';\n      }\n    }\n  }\n  string ans;\n  for (auto l : lens) {\n    for (int i = 0; i < l; ++i) ans += c;\n    if (c == 'A') c = 'B';\n    else c = 'A';\n  }\n  ans.pop_back();\n  cout << ans << '\\n';\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector> \n#include <list> \n#include <map> \n#include <set> \n#include <deque> \n#include <queue> \n#include <stack> \n#include <bitset> \n#include <algorithm> \n#include <functional> \n#include <numeric> \n#include <utility> \n#include <sstream> \n#include <iostream> \n#include <iomanip> \n#include <cstdio> \n#include <cmath> \n#include <cstdlib> \n#include <cctype> \n#include <string> \n#include <cstring> \n#include <ctime> \n\nusing namespace std;\n\n#define _int64 long long\n\nchar s[510000];\nint a[1000000];\nchar ans[510000];\n\nint main()\n{\n  vector<int> a;\n  int i,j,n,k,f,jian,h,t,need;\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  if (n==1)\n  {\n    if (k%2==1) s[0]='A'+'B'-s[0];\n    printf(\"%s\\n\",s);\n    return 0;\n  }\n  s[n]='B';\n  for (i=1;i<n;i++)\n    s[n+i]='A'+'B'-s[n+i-1];\n  ans[n]='\\0';\n  for (i=0;i<n;i++)\n  {\n    if (i==0)\n    {\n      if (s[0]=='A') need=2;\n      else need=1;\n    }\n    else\n    {\n      if (s[i]==s[i+n-1])\n      {\n        need=2;\n      }\n      else need=1;\n    }\n    if (k>=need) k-=need;\n    else\n    {\n      for (j=0;j<n;j++)\n        if ((i==0)||(s[i+n-1]=='A'))\n          ans[j]=s[i+j];\n        else ans[j]='A'+'B'-s[i+j];\n      if (k==1) ans[0]='A'+'B'-ans[0];\n      printf(\"%s\\n\",ans);\n      return 0;\n    }\n  }\n  if ((s[n]==s[n+n-1])&&(k%2!=0))\n  {\n    for (j=0;j<n;j++)\n      if (s[n+n+1]=='A')\n        ans[j]=s[n+j];\n      else ans[j]='A'+'B'-s[n+j];\n    ans[0]='B';\n    printf(\"%s\\n\",ans);\n  }\n  else\n  {\n    for (j=0;j<n;j++)\n      if (s[n+n+1]=='A')\n        ans[j]=s[n+j];\n      else ans[j]='A'+'B'-s[n+j];\n    printf(\"%s\\n\",ans);\n  }\n  /*\n  for (i=0;i<k;i++)\n  {\n    j=0;f=1;\n    while ((j>=0)&&(j<n))\n    {\n      if (s[j]=='A')\n      {\n        s[j]='B';f=-f;\n        j+=f;\n      }\n      else\n      {\n        s[j]='A';\n        j+=f;\n      }\n    }\n    printf(\"%s\\n\",s);\n  }\n  */\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//                                ** ALLAH **\n//                        who is Hussain? -> whoishussain.org\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int mod=1000000007;\ninline int in(){ int x; scanf(\"%d\",&x); return x; }\nconst int N = 200100;\nint n, k;\nstring s;\nint32_t main(){\n        cin >> n >> k;\n        cin >> s;\n\n        int t = k;\n        k = 0;\n        for(; t && k < n;){\n                if( s[k] == 'A'+(k%2)) s[k] = 'A' + (1-k%2);\n                else k++;\n                t--;\n        }\n        if( k == n ) { cout << char('A' + t%2);for(int i = 1;i < n; i++) cout << char('A'+(n-i-1)%2); cout << endl;return 0; } \n        for(int i = k; i < n; i++) cout << (k%2==1?(s[i]=='A'?'B':'A'):s[i]);\n        for(int i = 0;i < k; i++) cout << char('A'+(n-i-1)%2); \n        cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint N , K; char str[200003];\n\nint main(){\n\tdeque < char > ans; int rev = 0; scanf(\"%d %d %s\" , &N , &K , str + 1);\n\tfor(int i = 1 ; i <= N ; ++i) ans.push_back(str[i]);\n\tif(N == 1){putchar(K & 1 ? 'A' + 'B' - str[1] : str[1]); return 0;}\n\t\n\tint cnt = 0; for(int i = 1 ; i < ans.size() ; ++i) cnt += ans[i] != ans[i - 1];\n\twhile(K-- && cnt + 1 < ans.size())\n\t\tif((ans.front() == 'A') ^ rev){ans[1] != ans[0] ? --cnt : ++cnt; ans[0] = 'A' + 'B' - ans[0];}\n\t\telse{cnt += (ans.front() != ans.back()) - (ans[0] != ans[1]); ans.push_back(ans.front()); ans.pop_front(); rev ^= 1;}\n\tif(K > 0){\n\t\tfor(int i = 1 ; i <= 2 * N && K-- ; ++i)\n\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\tif(K > 0){\n\t\t\tK %= 2 * N;\n\t\t\twhile(K--)\n\t\t\t\tif((ans.front() == 'A') ^ rev) ans.front() = 'A' + 'B' - ans.front();\n\t\t\t\telse{ans.push_back(ans.front()); ans.pop_front(); rev ^= 1; ++cnt;}\n\t\t}\n\t}\n\tfor(auto t : ans) putchar(rev ? 'A' + 'B' - t : t);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 3e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tq[i] = 2;\n\t\t} else {\n\t\t\ta[i] = q[i] = 1;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[w + i + 1] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int , int> P2;\ntypedef pair<pair<int , int> , int> P3;\ntypedef pair<pair<int , int> , pair<int , int> > P4;\n#define Fst first\n#define Snd second\n#define PB(a) push_back(a)\n#define MP(a , b) make_pair((a) , (b))\n#define M3P(a , b , c) make_pair(make_pair((a) , (b)) , (c))\n#define M4P(a , b , c , d) make_pair(make_pair((a) , (b)) , make_pair((c) , (d)))\n#define repp(i,a,b) for(int i = (int)(a) ; i < (int)(b) ; ++i)\n#define repm(i,a,b) for(int i = (int)(a) ; i > (int)(b) ; --i)\n\nint N,K;\nbool b[200010];\n\nint halt(){\n\trepp(i,0,N){\n\t\tprintf(\"%c\" , (i+N)%2==1?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n\nint main(){\n\tscanf(\"%d%d\" , &N , &K);\n\trepp(i,0,N){\n\t\tchar c;\n\t\tscanf(\" %c\" , &c);\n\t\tb[i] = c == 'A';\n\t}\n\tint y = N;\n\trepm(i,N-1,-1){\n\t\tif(((N-i)%2 == 1) ^ b[i]) break;\n\t\t--y;\n\t}\n\tint x = 0;\n\tbool z = 0;\n\trepp(i,0,K){\n\t\tif(x == y) return halt();\n\t\tif(b[x]^z) {\n\t\t\tb[x] = !b[x];\n\t\t} else {\n\t\t\tz = !z;\n\t\t\t++x;\n\t\t}\n\t}\n\trepp(i,x,y){\n\t\tprintf(\"%c\" , b[i] ^ z ? 'A' : 'B');\n\t\t--N;\n\t}\n\thalt();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\n#define F first\n#define S second\n#define pb push_back\n#define ll long long\n#define int long long\n\nusing namespace std ;\n\nconst int MAXN = 1001 * 1001 ; \n\n\nvoid f(string& s)\n{\n\tint i = 0 , n = s.size() , x = 1 ; \n\twhile(i!=-1&&i!=n)\n\t{\n\t\tif(s[i]=='A')\n\t\t{\n\t\t\ts[i] = 'B' ; \n\t\t\ti -= x ;\n\t\t    x *= -1 ; \t\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[i] = 'A' ; \n\t\t\ti += x ;\n\t\t}\n\t}\n}\n\nbool check(string s)\n{\n\tint n = s.size() ; \n\tfor(int i = 0 ; i < n ; i ++ ) \n\t{\n\t\tif(i%2==0)\n\t\t{\n\t\t\tif(s[i]!='B')\n\t\t\t\treturn 0 ;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(s[i]!='A')\n\t\t\t\treturn 0 ; \n\t\t}\n\t}\n\treturn 1 ;\n}\n\nint32_t main()\n{\n\tios::sync_with_stdio(0) ; cin.tie(0) ; \n\tstring s = \"\" ; \n\t//cin >> s ;\n\tint n , k  ;\n\tcin >> n >> k ;\n\tcin >> s ;\n\t/*\n\tfor(int i = 0 ; i < n ; i ++ ) \n\t{\n\t\tif(rand()&1)\n\t\t\ts += 'A' ; \n\t\telse\n\t\t\ts += 'B' ; \n\t}\n\t*/\n\tfor(int i = 1; i < 200 ; i ++ )\n\t{\n\t\tif(i-1==k)\n\t\t\treturn cout << s << '\\n' , 0 ; \n\t\tif(check(s))\n\t\t\tbreak ; \n\t\tf(s) ;\n\t    \t\n\t}\n\tcout << s << '\\n' ; \n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0&&erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}else{\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\terasing++;\n\t\t\t\t\treversed = false;\n\t\t\t\t\ts.push_back('A');\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\terasing++;\n\t\t\t\t\treversed = true;\n\t\t\t\t\ts.push_back('B');\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 1;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tif (k % 2 == 0) {\n\t\t\t\tcout << 'B';\n\t\t\t}\n\t\t\telse cout << 'A';\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if((n%2==1&&cnt+1==n)||v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //for(P p:v) cout<<p.second<<\" \";\n    //cout<<endl;\n  }\n  assert(n&1);\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <set>\n#include <map>\n#include <queue>\n#include <ctime>\n#include <cmath>\n#include <cstdio>\n#include <vector>\n#include <string>\n#include <cctype>\n#include <bitset>\n#include <cstring>\n#include <cstdlib>\n#include <utility>\n#include <iostream>\n#include <algorithm>\n#define REP(i,a,b) for(int i=(a);i<=(b);i++)\n#define PER(i,a,b) for(int i=(a);i>=(b);i--)\n#define RVC(i,S) for(int i=0;i<(S).size();i++)\n#define RAL(i,u) for(int i=fr[u];i!=-1;i=e[i].next)\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> pii;\n     \ntemplate<class T> inline\nvoid read(T& num) {\n    bool start=false,neg=false;\n    char c;\n    num=0;\n    while((c=getchar())!=EOF) {\n        if(c=='-') start=neg=true;\n        else if(c>='0' && c<='9') {\n            start=true;\n            num=num*10+c-'0';\n        } else if(start) break;\n    }\n    if(neg) num=-num;\n}\n/*============ Header Template ============*/\n\nconst int maxn=(int)(2e5)+5;\nchar s[maxn];\nint a[maxn];\nint sgn,ps,bnd,n,m;\n\ninline int run_c(int m) {\n    REP(c,1,m) {\n        if(!(a[ps]^sgn)) a[ps]^=1;\n        else {\n            sgn^=1;ps++;\n            if(ps>n) ps-=n;\n        }\n    }\n}\n\ninline void print() {\n    REP(c,1,n) {\n        printf(\"%c\",(a[ps]^sgn)+'A');\n        ps++;if(ps>n) ps-=n;\n    } putchar('\\n');\n}\n\nint main() {\n    read(n);read(m);\n    scanf(\"%s\",s+1);\n    REP(i,1,n) a[i]=s[i]-'A';\n    sgn=0;ps=1;bnd=n<<1;\n    if(m&1) bnd++;\n    if(m<=bnd) {\n        run_c(m);\n        print();\n        return 0;\n    }\n    run_c(bnd);print();\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n//                       _oo0oo_                         //\n//                      o8888888o                        //\n//                      88\" . \"88      ------ hzt1       //\n//                      (| -_- |)                        //\n//                      0\\  =  /0                        //\n//                    ___/`---'\\___                      //\n//                  .' \\|     |// '.                     //\n//                 / \\|||  :  |||// \\                    //\n//                / _||||| -:- |||||- \\                  //\n//               |   | \\  -  /// |     |                 //\n//               | \\_|  ''\\---/''  |_/ |                 //\n//               \\  .-\\__  '-'  ___/-. /                 //\n//             ___'. .'  /--.--\\  `. .'___               //\n//          .\"\" '<  `.___\\_<|>_/___.' >' \"\".             //\n//         | | :  `- \\`.;`\\ _ /`;.`/ - ` : | |           //\n//         \\  \\ `_.   \\_ __\\ /__ _/   .-` /  /           //\n//     =====`-.____`.___ \\_____/___.-`___.-'=====        //\n//                       `=---='                         //\n//                                                       //\n//                                                       //\n//     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~       //\n//                                                       //\n//                 God-He Bless All.                     //\n//           This Code Will Never Explode.               //\n//                                                       //\n//                                                       //\n///////////////////////////////////////////////////////////\n///////////////////////////////////////////////////////////\n#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<algorithm>\n#define rep(i,a,b) for(int i=(a),i##_end_=(b);i<=i##_end_;i++)\n#define dwn(i,a,b) for(int i=(a),i##_end_=(b);i>=i##_end_;i--)\nusing namespace std;\ntypedef long long ll;\nconst int maxn=200010;\nint n,k;\nvoid work(char* s,int x,int tar) {\n\tif(!x||x>n) {\n//\t\tprintf(\"%s\\n\",s+1);\n\t\treturn;\n\t} \n\tif(s[x]=='A') s[x]='B',work(s,x-tar,-tar);\n\telse s[x]='A',work(s,x+tar,tar);\n}\nint is(char* a,char* b) {\n\trep(i,1,n) if(a[i]!=b[i]) return 0;\n\treturn 1;\n}\nvoid force(char* A,int k) {\n\twhile(k--) work(A,1,1);\n\tprintf(\"%s\\n\",A+1);\n}\nchar A[maxn],s[maxn],s2[maxn];\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\trep(i,1,n) A[i]=s2[i]=s[i]; \n\tint len=0;\n\tdo {\n\t\tlen++;\n\t\twork(s,1,1);\n\t\twork(s2,1,1);work(s2,1,1);\n\t}while(!is(s,s2));\n\tif(k<=len) force(A,k);\n\telse force(s,k%len);\n\treturn 0;\n}\n/*\n30 2333\nABAAABABABABABABBABABBBABABABB\n*/\n"
  },
  {
    "language": "C++",
    "code": "//Heaplax\n//别让自己后悔\n#include<bits/stdc++.h>\n#define N 200005\n#define LL long long\n#define LOG(x) cerr<<#x<<\" = \"<<x<<endl\n#define add_edge(u,v) nxt[++cnt]=head[u],head[u]=cnt,to[cnt]=v\n#define open(x) freopen(#x\".in\",\"r\",stdin),freopen(#x\".out\",\"w\",stdout)\nchar ch;bool fs;void re(int& x)\n{\n\twhile(ch=getchar(),ch<33);\n\tif(ch=='-')fs=1,x=0;else fs=0,x=ch-48;\n\twhile(ch=getchar(),ch>33)x=x*10+ch-48;\n\tif(fs)x=-x;\n}\nusing namespace std;\nint n,k;\nchar s[N];\ndeque<int> que;\nint main()\n{\n\tre(n),re(k);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;++i)\n\t\tif(s[i]=='A')que.push_back(0);\n\t\telse que.push_back(1);\n\tif(k>=2*n)\n\t\tfor(int i=1;i<=n;++i)\n\t\t\tputchar(i&1?'B':'A');\n\telse\n\t{\n\t\tint tag=0;\n\t\tfor(int i=1;i<=k;++i)\n\t\t{\n\t\t\tif(tag^que.front())\n\t\t\t{\n\t\t\t\tque.pop_front();\n\t\t\t\ttag^=1;\n\t\t\t\tque.push_back(tag);\n\t\t\t}\n\t\t\telse que.front()^=1;\n\t\t}\n\t\twhile(!que.empty())\n\t\t\tputchar(tag^que.front()?'B':'A'),que.pop_front();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 100 + 10;\nconst int INF = (int)(1e9);\n\nchar opp(char c) {\n    return ((c == 'A') ? 'B' : 'A');\n}\n\nvoid print_alter(char f, int t, int n) {\n    for(int i = 0; i < t; ++i) cout << f;\n    for(int i = t; i < n; ++i) {\n        f = opp(f);\n        cout << f;\n    }\n    cout << endl;\n}\n\nvoid solve(string &s, int k) {\n    int n = s.length();\n    int sc = 0;\n    bool B = false;\n    while (k > 0) {\n        if (sc >= n) break;\n        char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n        B = false;\n        --k;\n        if (f == 'B') ++sc;\n        else {\n            B = true;\n        }\n    }\n    if (k == 0) {\n        if (sc == n)\n            print_alter((((n % 2) == 0) ? 'B' : 'A'), 1, n);\n        else {\n            char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n            cout << f;\n            for(int i = sc + 1; i < n; ++i)\n                cout << (((sc % 2) == 1) ? opp(s[i]) : s[i]);\n            if (sc > 0) {\n                char c = ((sc % 2) == 1) ? 'A' : 'B';\n                print_alter(c, 1, sc);\n            }\n            else cout << endl;\n        }\n    }\n    else {\n        char f = ((n % 2) == 0) ? 'B' : 'A';\n        if (f == 'B') --k;\n        if ((k % 2) == 0) {\n            print_alter('A', 1, n);\n        }\n        else {\n            print_alter('B', 2, n);\n        }\n    }\n}\n\nvoid run() {\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    solve(s, i);\n}\n\nint main()\n{\n    //freopen(\"input.txt\", \"r\", stdin);\n\n    int ntests = 1;\n    //cin >> ntests;\n    for(int tc = 1; tc <= ntests; ++tc) {\n        run();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector> \n#include <list> \n#include <map> \n#include <set> \n#include <deque> \n#include <queue> \n#include <stack> \n#include <bitset> \n#include <algorithm> \n#include <functional> \n#include <numeric> \n#include <utility> \n#include <sstream> \n#include <iostream> \n#include <iomanip> \n#include <cstdio> \n#include <cmath> \n#include <cstdlib> \n#include <cctype> \n#include <string> \n#include <cstring> \n#include <ctime> \n\nusing namespace std;\n\n#define _int64 long long\n\nchar s[510000];\nint a[1000000];\nchar ans[510000];\n\nint main()\n{\n  vector<int> a;\n  int i,j,n,k,f,jian,h,t,need;\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  s[n]='B';\n  for (i=1;i<n;i++)\n    s[n+i]='A'+'B'-s[n+i-1];\n  ans[n]='\\0';\n  for (i=0;i<n;i++)\n  {\n    if (s[i]==s[i+n-1])\n    {\n      need=2;\n    }\n    else need=1;\n    if (k>=need) k-=need;\n    else\n    {\n      for (j=0;j<n;j++)\n        if (s[i+n-1]=='A')\n          ans[j]=s[i+j];\n        else ans[j]='A'+'B'-s[i+j];\n      if (k==1) ans[0]='A'+'B'-ans[0];\n      printf(\"%s\\n\",ans);\n      return 0;\n    }\n  }\n  if ((s[n]==s[n+n-1])&&(k%2!=0))\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    ans[0]='B';\n    printf(\"%s\\n\",ans);\n  }\n  else\n  {\n    for (j=0;j<n;j++)\n      ans[j]=s[n+j];\n    printf(\"%s\\n\",ans);\n  }\n  /*\n  for (i=0;i<k;i++)\n  {\n    j=0;f=1;\n    while ((j>=0)&&(j<n))\n    {\n      if (s[j]=='A')\n      {\n        s[j]='B';f=-f;\n        j+=f;\n      }\n      else\n      {\n        s[j]='A';\n        j+=f;\n      }\n    }\n    printf(\"%s\\n\",s);\n  }\n  */\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <cmath>\n#include <cstdlib>\n#include <cstdio>\n#include <algorithm>\n#include <unordered_map>\n#include <unordered_set>\n#include <map>\n#include <set>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> PP;\n\n/*\n    freopen(\"input\",\"r\",stdin);\n    freopen(\"output\",\"w\",stdout);\n*/\n\nint main() {\n    ios::sync_with_stdio(false);\n    int X[400010];\n    int state = 0;\n    int N, K;\n    cin >> N >> K;\n    for (int i = 0;i < N;i++) {\n    \tchar c;\n    \tcin >> c;\n    \tif (c == 'A') X[i] = 0;\n    \telse X[i] = 1;\n    }\n    int add = 0;\n    int loc = 0;\n    int op = 0;\n    while (add < N) {\n    \top++;\n    \tint f = (X[loc] + state) % 2;\n    \tif (f == 0) X[loc] = 1 - X[loc]; // Change first guy.\n    \telse {\n    \t\tstate = 1 - state;\n    \t\tadd++;\n    \t\tX[loc + N] = state; // Add 'A' at very end.\n    \t\tloc++;\n    \t}\n    \tif (op == K) {\n    \t\t// End Here.\n    \t\tfor (int i = 0;i < N;i++) {\n    \t\t\tf = loc + i;\n    \t\t\tif (X[f] == state) cout << 'A';\n    \t\t\telse cout << 'B';\n    \t\t}\n    \t\tcout << endl;\n    \t\treturn 0;\n    \t}\n    }\n    int rem = K - op;\n    if ((N % 2) == 0) {\n    \tfor (int i = 0;i < N;i++) {\n    \t\tif (i % 2) cout << 'A';\n    \t\telse cout << 'B';\n    \t}\n    \tcout << endl;\n    \treturn 0;\n    }\n    if (rem % 2) cout << 'B';\n    else cout << 'A';\n    for (int i = 1;i < N;i++) {\n\t\tif (i % 2) cout << 'B';\n\t\telse cout << 'A';\n\t}\n    cout << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nconst int N=2e5+5;\nint n,m,i,k,a[N];\nchar s[N];\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor (i=1;i<=n;i++) a[i]=s[i]-65;\n\tif (m){\n\t\tfor (i=1;i<=n;i++){\n\t\t\tif (a[i]^(i&1)) m--;if (!m) break;\n\t\t\tm--;k=i;if (!m) break;\n\t\t}\n\t}\n\telse i=0;\n\tif (i<=n){\n\t\tint st=i-(k!=i),v=st&1;a[i]=1^v;\n\t\tfor (k=0,i=st;i;i--,k^=1) a[i]=k;\n\t\tfor (i=st+1;i<=n;i++) putchar((a[i]^v)+65);\n\t\tfor (i=1;i<=st;i++) putchar(a[i]+65);\n\t\treturn 0;\n\t}\n\tif (!(n&1)){\n\t\tfor (i=1;i<=n;i++) putchar((i&1)+65);\n\t\treturn 0;\n\t}\n\tputchar((m&1)?'B':'A');\n\tfor (i=1;i<n;i++) putchar((i&1)+65);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N = 2e5 + 9;\n\nint n, k, _a[N], *a = _a;\nchar s[N];\nbool o;\n\nint main () {\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++i) a[i] = s[i] == 'B' ? 1 : 0;\n\tfor (int i = 1; i <= min(n * 2, k); ++i) {\n\t\tif (*a ^ o) {\n\t\t\to ^= 1;\n\t\t\ta[n] = o;\n\t\t\t++a;\n\t\t} else {\n\t\t\t*a ^= 1;\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++i) putchar('A' + (a[i] ^ o));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\n\nint main() {\n\tios::sync_with_stdio(false);\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\t--k;\n\t}\n\tif (k == 0) {\n\t\tcout << s;\n\t\treturn 0;\n\t}\n\tstring sol = s;\n\tint j = s.size()-1;\n\tint curs = 0;\n\tfor (; j >= 0 && k > 0; --j, --k) {\n\t\tsol[j] = curs + 'A';\n\t\tcurs ^= 1;\n\t}\n\t\n\tfor (int i = s.size()-1; j >= 0; --j, --i) {\n\t\tchar c = s[i];\n\t\tif (curs) c = 'A' + ((s[i]-'A')^1);\n\t\tsol[j] = c;\n\t\tcurs ^= 1;\n\t}\n\tcout << sol;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0&&erasing < 500000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}else{\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\terasing++;\n\t\t\t\t\treversed = false;\n\t\t\t\t\ts.push_back('A');\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\terasing++;\n\t\t\t\t\treversed = true;\n\t\t\t\t\ts.push_back('A');\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 1;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tif (k % 2 == 0) {\n\t\t\t\tcout << 'B';\n\t\t\t}\n\t\t\telse cout << 'A';\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\nstring S;\nstring T;\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>S;\n\t\n\tint pos=0,rev=0,revn=0;\n\tFOR(i,K) {\n\t\tif(pos==N) break;\n\t\t\n\t\tif((S[pos]=='A') ^ rev ^ revn) {\n\t\t\trevn^=1;\n\t\t}\n\t\telse {\n\t\t\tpos++;\n\t\t\trevn = 0;\n\t\t\trev ^=1;\n\t\t}\n\t\t\n\t}\n\tstring R;\n\tint first=1;\n\twhile(pos<N) {\n\t\tif(rev ^ ((first==0)&&revn)) {\n\t\t\tR+='A'+'B'-S[pos];\n\t\t}\n\t\telse {\n\t\t\tR+=S[pos];\n\t\t}\n\t\tpos++;\n\t\tfirst=0;\n\t}\n\twhile(R.size()<N) {\n\t\tif((N-R.size())%2==1) R+='A';\n\t\telse R+='B';\n\t}\n\tcout<<R<<endl;\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t/*\n\tT=S;\n\t\n\tFOR(i,100) {\n\t\tint x=0,side=0;\n\t\twhile(x>=0 && x<N) {\n\t\t\tS[x]='A'+'B'-S[x];\n\t\t\tif(side==0) {\n\t\t\t\tif(S[x]=='B') x--, side=1;\n\t\t\t\telse x++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(S[x]=='B') x++, side=0;\n\t\t\t\telse x--;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(T[0]=='A') T[0]='B';\n\t\telse {\n\t\t\tT=T.substr(1);\n\t\t\tFORR(c,T) c='A'+'B'-c;\n\t\t\tT+='A';\n\t\t}\n\t\t\n\t\t\n\t\tcout<<S<<\" \"<<(S==T)<<endl;\n\t}\n\t*/\n\t\n\t\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GRIBCXX_DEBUG\n#include <bits/stdc++.h>\nusing namespace std;\n\n// 基本テンプレート\n#pragma region MACRO\n#define P(x) cout << (x) << endl\n#define p(x) cout << (x)\n#define PED cout << \"\\n\"\n#define rep(i,n) for(int i=0; i<(int)n; ++i)\n#define REP(i,x,n) for(int i=x; i<(int)n; ++i)\n#define repi(i,n) for(int i=0; i<=(int)n; ++i)\n#define REPI(i,x,n) for(int i=x; i<=(int)n; ++i)\n#define ILP while(true)\n#define FOR(i,c) for(__typeof((c).begin())!=(c).begin(); i!=(c).end(); ++i)\n#define ALL(c) (c).begin(), (c).end()\n#define mp make_pair\n#pragma endregion\n\n// 型\n#pragma region TYPE_DEF\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<string, string> pss;\ntypedef pair<string, int> psi;\ntypedef pair<int, string> pis;\ntypedef vector<int> vi;\ntypedef vector<double> vd;\ntypedef vector<long double> vld;\ntypedef vector<long> vl;\ntypedef vector<long long> vll;\ntypedef vector<string> vs;\n#pragma endregion\n\n// Effective std\n#pragma region ESTD\ntemplate<typename C, typename T> int count(C& c, T t) { return count(ALL(c), t); }\ntemplate<typename C, typename F> int count_if(C& c, F f) { return count_if(ALL(c), f); }\ntemplate<typename C, typename T> void erase(C& c, T t) { remove(ALL(c), t), c.end(); }\ntemplate<typename C> void remove(vector<C>& c, unsigned int index) { c.erase(c.begin()+index); }\ntemplate<typename C, typename T, typename U> void replace(C& c, T t, U u) { replace(ALL(c), t, u); }\ntemplate<typename C, typename F, typename U> void replace_if(C& c, F f, U u) { (ALL(c), f, u); }\ntemplate<typename C> void reverse(C& c) { reverse(ALL(c)); }\ntemplate<typename C> void sort(C& c) { sort(ALL(c)); }\ntemplate<typename C, typename Pred> void sort(C& c, Pred p) { sort(ALL(c), p); }\n#pragma endregion\n\n// 定数\n#pragma region CONST_VAL\nconstexpr int PI = (2*acos(0.0));\nconstexpr int EPS = (1e-9);\nconstexpr int MOD = (int)(1e9+7);\nconstexpr int INF = 100000000;\n#pragma endregion\n\nll n, k;\nstring s;\n\nvs memo;\n\nvoid solve() {\n    auto iter = find(ALL(memo),s);\n    if(iter!=memo.end() && ++iter!=memo.end()) {\n        s = *(iter);\n        return;\n    }\n    int i = 0;\n    while(true) {\n        if(i<0 || i>=s.size()) break;\n        if(s[i]=='A') {\n            s[i] = 'B';\n            i--;\n        }\n        else if(s[i]=='B') {\n            s[i] = 'A';\n            i++;\n        }\n    }\n    memo.push_back(s);\n}\n\nint main()\n{\n    cin >> n >> k >> s;\n    rep(i,k) {\n        solve();\n    }\n    cout << s << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include <vector>\n#include <iostream>\n#include <string.h>\n#include <set>\n#include <algorithm>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\ntypedef double LD;\ntypedef long long LL;\ntypedef pair<int, int> PII;\n#define MP make_pair\n#define PB push_back\n#define FOR(i,a,b) for(int i = (a); i < (b); ++i)\n#define RFOR(i,b,a) for(int i = (b) - 1; i >= (a); --i)\n#define REP(i, t) FOR(i,0,t)\n#define ALL(a) a.begin(), a.end()\n#define SZ(a) (int)((a).size())\n\nconst LL MOD = 1000000007;\nconst int INF = 1e9;\nconst LL LINF = 1LL * INF * INF;\nconst int MAXN = 200007;\nconst LD EPS = 1e-7;\n\ndeque <char> D;\n\nint main()\n{\n\tios_base::sync_with_stdio(0);\n\t//freopen(\"In.txt\", \"r\", stdin);\n\tint n, k, neg = 0;\n\tcin >> n >> k;\n\tREP(i, n)\n\t{\n\t\tchar c;\n\t\tcin >> c;\n\t\tD.push_back(c);\n\t}\n\tbool o = k & 1;\n\tk = min(k, 2 * n);\n\tif ((k ^ o) & 1)\n\t\tk ^= 1;\n\tREP(i, k)\n\t{\n\t\tif ((D.front() == 'A') ^ (neg & 1))\n\t\t{\n\t\t\tD.pop_front();\n\t\t\tif (neg & 1)\n\t\t\t\tD.push_front('A');\n\t\t\telse\n\t\t\t\tD.push_front('B');\n\t\t\tcontinue;\n\t\t}\n\t\t++neg;\n\t\tD.pop_front();\n\t\tif (neg & 1)\n\t\t\tD.push_back('B');\n\t\telse\n\t\t\tD.push_back('A');\n\t}\n\tif (neg & 1)\n\t{\n\t\tREP(i, n)\n\t\t{\n\t\t\tif (D.front() == 'A')\n\t\t\t\tcout << 'B';\n\t\t\telse cout << 'A';\n\t\t\tD.pop_front();\n\t\t}\n\t}\n\telse\n\t\tREP(i, n)\n\t{\n\t\tcout << D.front();\n\t\tD.pop_front();\n\t}\n\t//cout << endl; system(\"pause\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<unordered_set>\n#include<unordered_map>\nusing namespace std;\n\n#define MAX 200002\n\nint n;\nint k;\n\ndeque<int> d;\n\nchar buf[MAX];\n\nstring ans;\n\n\nint main(){\n\tcin >> n >> k;\n\tscanf(\"%s\", buf);\n\tfor (int i = 0; i < n; i++){\n\t\tif (buf[i] - 'A' == 0){\n\t\t\td.push_back((i & 1) ^ 1);\n\t\t}\n\t\telse{\n\t\t\td.push_back((i & 1));\n\t\t}\n\t}\n\tif (n == 1){\n\t\tk %= 2;\n\t\td.front() ^= k;\n\t}\n\telse{\n\t\tint C = 0;\n\t\twhile (k&&C <= 3 * n){\n\t\t\tk--;\n\t\t\tC++;\n\t\t\tif (d.front() == 1){\n\t\t\t\td.front() = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\td.pop_front();\n\t\t\td.push_back(((n - 1) & 1) ^ 1);\n\t\t}\n\t\tif (k == 0){\n\n\t\t}\n\t\telse{\n\t\t\tif (d.front() == 0){  //B\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk %= 2;\n\t\t\t\tif (k){\n\t\t\t\t\td.front() = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 0; i < d.size(); i++){\n\t\tint go = ((i % 2) == d[i]);\n\t\tans.push_back('A' + go);\n\t}\n\tprintf(\"%s\\n\", ans.c_str());\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#ifdef DEBUG_MODE\n\t#define DBG(n) n;\n#else\n\t#define DBG(n) ;\n#endif\n#define REP(i,n) for(ll (i) = (0);(i) < (n);++i)\n#define PB push_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define SHOW1d(v,n) {for(int W = 0;W < (n);W++)cerr << v[W] << ' ';cerr << endl << endl;}\n#define SHOW2d(v,i,j) {for(int aaa = 0;aaa < i;aaa++){for(int bbb = 0;bbb < j;bbb++)cerr << v[aaa][bbb] << ' ';cerr << endl;}cerr << endl;}\n#define ALL(v) v.begin(),v.end()\n#define Decimal fixed<<setprecision(20)\n#define INF 1000000000\n#define LLINF 1000000000000000000LL\n#define MOD 1000000007\n\ntypedef long long ll;\ntypedef pair<ll,ll> P;\n\nint main(){\n\n    ll n,k;cin >> n >> k;\n    string str;cin >> str;\n\tvector<int> v(str.size());\n\tREP(i,str.size()){\n\t\tif(str[i] == 'A')v[i] = 1;\n\t\telse v[i] = 0;\n\t}\n\n    int place = 0;\n    int rev = 0;\n\n    while(k){\n\t\t//cout << k << \" \" << place << endl;\n        if(place == str.size())break;\n        if((v[place] + rev) % 2){\n\t\t\tv[place] = 1 - v[place];\n\t\t}\n\t\telse{\n\t\t\tplace++;\n\t\t\trev = 1 - rev;\n\t\t}\n\t\tk--;\n    }\n\n\tif(k == 0){\n\t\tfor(int i = place;i < str.size();i++){\n\t\t\tif((v[i] + rev) % 2)cout << 'A';\n\t\t\telse cout << 'B';\n\t\t}\n\t\tfor(int i = place - 1;i >= 0; i--){\n\t\t\tif(i % 2 == 0)cout << 'A';\n\t\t\telse cout << 'B';\n\t\t}\n\t\tcout << endl;\n\t}\n\telse{\n\t\tif(str.size() % 2){\n\t\t\tREP(i,str.size()){\n\t\t\t\tif(i == 0){\n\t\t\t\t\tif(k % 2 == 0)cout << 'A';\n\t\t\t\t\telse cout << 'B';\n\t\t\t\t}\n\t\t\t\telse if(i % 2)cout << 'B';\n\t\t\t\telse cout << 'A';\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tREP(i,str.size()){\n\t\t\t\tif(i % 2)cout << 'A';\n\t\t\t\telse cout << 'B';\n\t\t\t}\n\t\t}\n\t\tcout << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nll d[200010];\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>600000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  int index = 0;\n  int c = 0;\n  rep(i,0,k){\n    if(c==0){\n      if(s[index]=='A'){\n        s[index]='B';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n      }\n    }\n    else{\n      if(s[index]=='B'){\n        s[index]='A';\n      }\n      else{\n        index++;\n        index%=n;\n        c=1-c;\n      }\n    }\n  }\n  string ans;\n  rep(i,0,n){\n    if(c==0){\n      ans += s[(index+i)%n];\n    }\n    else{\n      if(s[(index+i)%n]=='A'){\n        ans += \"B\";\n      }\n      else{\n        ans += \"A\";\n      }\n    }\n  }\n  cout << ans << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0 && erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\tooh:;\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\twhile (k != 0) {\n\t\t\t\tk--;\n\t\t\t\tif (reversed == true) {\n\t\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = false;\n\t\t\t\t\t\ts.push_back('A');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ts[erasing] = 'A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = true;\n\t\t\t\t\t\ts.push_back('B');\n\t\t\t\t\t}\n\t\t\t\t\telse s[erasing] = 'B';\n\t\t\t\t}\n\t\t\t}\n\t\t\tgoto ooh;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<math.h>\n#include<algorithm>\n#include<queue>\n#include<deque>\n#include<string>\n#include<string.h>\n#include<vector>\n#include<set>\n#include<map>\n#include<stdlib.h>\nusing namespace std;\nconst long long mod=1000000007;\nconst long long inf=mod*mod;\nconst long long d2=500000004;\nchar in[210000];\nchar ans[210000];\nint main(){\n\tint a,b;\n\tscanf(\"%d%d\",&a,&b);\n\tscanf(\"%s\",in);\n\tint at=0;\n\tint ch=0;int cn=0;\n\tfor(int i=0;i<b;i++){\n\t\tint q=(at+in[at]-'A')%2;\ncn++;\n\t\tif(q==0&&ch==0){\n\t\t\tch=1;\n\t\t\tcontinue;\n\t\t}\n\t\tat++;ch=0;\n\t\tif(at==a)break;\n\t}\n\tfor(int i=at;i<a;i++){\n\t\tans[i-at]=in[i];\n\t\tif(at%2){\n\t\t\tif(ans[i-at]=='A')ans[i-at]='B';\n\t\t\telse ans[i-at]='A';\n\t\t}\n\t}\n\tif(ch==1)ans[0]='B';\n\tfor(int i=0;i<at;i++){\n\t\tans[a-1-i]='A'+(i%2);\n\t}\nif(cn<b&&b%2!=cn%2&&ans[0]=='A')ans[0]='B';\n\tprintf(\"%s\\n\",ans);\n}"
  },
  {
    "language": "C++",
    "code": "// includes {{{\n#include<iostream>\n#include<iomanip>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<tuple>\n#include<cmath>\n#include<random>\n#include<cassert>\n// #include<deque>\n// #include<multiset>\n// #include<bitset>\n// #include<cstring>\n// #include<bits/stdc++.h>\n// }}}\nusing namespace std;\nusing ll = long long;\n\nint n, k;\nstring s;\n\nstring tostr(vector<int> v) {\n  string res(n, 'A');\n  int c = 0;\n  for(int i = 0; i < n; i++) {\n    if(v[i]) c ^= 1;\n    res[i] = 'A' + c;\n  }\n  return res;\n}\n\nstring sol(vector<int> v, int k) { \n  vector<int> zero;\n  for(int i = 0; i < n; i++) if(v[i] == 0) zero.push_back(i);\n\n  reverse(begin(zero), end(zero));\n\n  int x = -1, y = -1;\n  int now = 0;\n  while(k && zero.size()) {\n    if(x == -1) {\n      x = zero.back();\n      // dump(x);\n      y = -1;\n      int use = x - now;\n      if(k >= use) {\n        k -= use;\n        now = x;\n      } else {\n        now = now + k;\n        k = 0;\n        x = -1;\n      }\n    } else {\n      y = zero.back();\n      // dump(x, y);\n      int use = (y - now - 1) * 2;\n      if(k >= use) {\n        k -= use;\n        now = y - 1;\n        v[now] = 0;\n        if(k >= 1) {\n          k--;\n          v[now] ^= 1;\n          v[now + 1] ^= 1;\n        }\n      } else {\n        now = now + k / 2;\n        v[now] = 0;\n        assert(now + 1 < n);\n        if(k % 2 == 1) {\n          v[now] ^= 1;\n          v[now + 1] ^= 1;\n        }\n        k = 0;\n      }\n      x = -1;\n    }\n    zero.pop_back();\n  }\n  // dump(v);\n  vector<int> w(n, 1);\n  for(int i = now; i < n; i++) w[i-now] = v[i];\n  if(zero.size() == 0 && x != -1 && y == -1) {\n    w[1 - k % 2] = 1;\n    w[k % 2] = 0;\n  }\n  return tostr(w);\n}\n\nint main() {\n  ios::sync_with_stdio(false), cin.tie(0);\n  cin >> n >> k;\n  cin >> s;\n  if(n == 1) {\n    if(k % 2 == 1) s[0] = s[0] == 'A' ? 'B' : 'A';\n    cout << s << endl;\n    return 0;\n  }\n\n  vector<int> v(n);\n  char last = 'A';\n  int one = 0;\n  for(int i = 0; i < n; i++) {\n    v[i] = last != s[i];\n    last = s[i];\n    if(v[i] == 1) one++;\n  }\n\n  if(one % 2) {\n    if(k && v[0] == 0) {\n      k--, v[0] ^= 1, v[1] ^= 1;\n    }\n    if(k) {\n      v.erase(v.begin());\n      v.push_back(0);\n      k--;\n    }\n  }\n\n  cout << sol(v, k) << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\ntypedef int _loop_int;\n#define REP(i,n) for(_loop_int i=0;i<(_loop_int)(n);++i)\n#define FOR(i,a,b) for(_loop_int i=(_loop_int)(a);i<(_loop_int)(b);++i)\n#define FORR(i,a,b) for(_loop_int i=(_loop_int)(b)-1;i>=(_loop_int)(a);--i)\n\nint n,k;\nchar s[252521];\nbool yo[252521];\n\nint main(){\n  scanf(\"%d%d\",&n,&k);\n  scanf(\"%s\",s);\n  REP(i,n)yo[i]=s[i]=='B';\n\n  int head = 0;\n  int tail = n-1;\n  bool flip = false;\n  while(k--){\n    if(yo[head]^flip){\n      // head is b\n      flip ^= true;\n      head++;\n      if(head==n)head=0;\n      tail++;\n      if(tail==n)tail=0;\n    }else{\n      yo[head]^=true;\n    }\n  }\n  REP(i,n)putchar(yo[(head+i)%n]^flip?'B':'A');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool arr[200005];\nint offset = 0;\ndeque<int> borders;\n\n\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    if (k>=2*n){\n        for (int x = n-1; x>=0; x--){\n            printf(x%2==0?\"A\":\"B\");\n        }\n        return 0;\n    }\n    for (int x = 0; x<n; x++){\n        char c;\n        scanf(\" %c\",&c);\n        arr[x] = c=='B';\n    }\n    for (int x = n-1; x>=0; x--){\n        if (x==n-1) borders.push_back(n-1);\n        else if (arr[x]!=arr[x+1]){\n            borders.push_front(x);\n        }\n    }\n    for (int x = 0; x<k; x++){\n        while (borders.front()-offset<0) borders.pop_front();\n        if (!arr[0]) {\n            arr[0] = true;\n            if ((!borders.empty())&&borders.front()-offset==0){\n                borders.pop_front();\n            }\n            else{\n                borders.push_front(offset);\n            }\n            continue;\n        }\n        else{\n            if (borders.front()-offset!=0){\n                arr[0] ^= 1;\n            }\n            offset++;\n            borders.push_back(offset+n-1);\n        }\n    }\n    while (borders.front()-offset<0) borders.pop_front();\n    bool cur = arr[0];\n    for (int x = 0; x<n; x++){\n        printf(cur?\"B\":\"A\");\n        if (borders.front()-offset==x) {\n            cur ^=1;\n            borders.pop_front();\n        }\n    }\n\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define mp make_pair\n#define sz(x) (int)(x).size()\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define ii pair<int,int>\n#define INF 1000000000\n#define INFLL 1000000000000000010ll\n#define UQ(x) (x).resize(distance((x).begin(),unique(all((x)))))\n#define mid(x,y) (((x)+(y))>>1)\nint n,k;\nchar s[200005];\nint h,flip=0;\ndeque<int> d;\nint get() {\n\treturn (h^flip);\n}\nvoid put(int x) {\n\th=x^flip;\n}\nvoid pad() {\n\tif (sz(d)%2) {\n\t\tif (get()==0) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t} else {\n\t\tif (get()==1) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t}\n}\nvoid output() {\n\tint sum=0;\n\tint let=get();\n\tfor (int i=0;i<sz(d);i++) {\n\t\tsum+=d[i];\n\t\tfor (int j=0;j<d[i];j++) {\n\t\t\tprintf(\"%c\", let?'B':'A');\n\t\t}\n\t\tlet^=1;\n\t}\n\tprintf(\"\\n\");\n\tassert(sum==n);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tif (k>800000) {\n\t\tfor (int i=0;i<n;i++) {\n\t\t\tprintf(\"%c\", (i%2)?'A':'B');\n\t\t}\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tint cur=1;\n\tchar v=s[0];\n\tfor (int i=1;i<n;i++) {\n\t\tif (s[i]==v) cur++;\n\t\telse {\n\t\t\td.pb(cur);\n\t\t\tcur=1;\n\t\t\tv=s[i];\n\t\t}\n\t}\n\td.pb(cur);\n\th=(s[0]=='B');\n\tfor (int kk=0;kk<k;kk++) {\n\t\tif (get()==0) {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(1);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\t++d[0];\n\t\t\t\t\tput(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\td.push_front(1);\n\t\t\t\tput(1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(0);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\tput(0);\n\t\t\t\t\tflip^=1;\n\t\t\t\t\tpad();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\tflip^=1;\n\t\t\t\tpad();\n\t\t\t}\n\t\t}\n\t}\n\toutput();\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0&&erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}else{\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\tooh:;\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\twhile (k != 0 && !(reversed == true||s[erasing] == 'B')) {\n\t\t\t\tk--;\n\t\t\t\tif (reversed == true) {\n\t\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = false;\n\t\t\t\t\t\ts.push_back('A');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ts[erasing] = 'A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = true;\n\t\t\t\t\t\ts.push_back('B');\n\t\t\t\t\t}\n\t\t\t\t\telse s[erasing] = 'B';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (k == 0) goto ooh;\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 1;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tif (k % 2 == 0) {\n\t\t\t\tcout << 'B';\n\t\t\t}\n\t\t\telse cout << 'A';\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// {{{ by shik\n#include <bits/stdc++.h>\n#include <unistd.h>\n#define SZ(x) ((int)(x).size())\n#define ALL(x) begin(x),end(x)\n#define REP(i,n) for ( int i=0; i<int(n); i++ )\n#define REP1(i,a,b) for ( int i=(a); i<=int(b); i++ )\n#define FOR(it,c) for ( auto it=(c).begin(); it!=(c).end(); it++ )\n#define MP make_pair\n#define PB push_back\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> PII;\ntypedef vector<int> VI;\n\n#ifdef SHIK\ntemplate<typename T>\nvoid _dump( const char* s, T&& head ) { cerr<<s<<\"=\"<<head<<endl; }\n\ntemplate<typename T, typename... Args>\nvoid _dump( const char* s, T&& head, Args&&... tail ) {\n    int c=0;\n    while ( *s!=',' || c!=0 ) {\n        if ( *s=='(' || *s=='[' || *s=='{' ) c++;\n        if ( *s==')' || *s==']' || *s=='}' ) c--;\n        cerr<<*s++;\n    }\n    cerr<<\"=\"<<head<<\", \";\n    _dump(s+1,tail...);\n}\n\n#define dump(...) do { \\\n    fprintf(stderr, \"%s:%d - \", __PRETTY_FUNCTION__, __LINE__); \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n} while (0)\n\ntemplate<typename Iter>\nostream& _out( ostream &s, Iter b, Iter e ) {\n    s<<\"[\";\n    for ( auto it=b; it!=e; it++ ) s<<(it==b?\"\":\" \")<<*it;\n    s<<\"]\";\n    return s;\n}\n\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const pair<A,B> &p ) { return s<<\"(\"<<p.first<<\",\"<<p.second<<\")\"; }\ntemplate<typename T>\nostream& operator <<( ostream &s, const vector<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T, size_t N>\nostream& operator <<( ostream &s, const array<T,N> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T>\nostream& operator <<( ostream &s, const set<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const map<A,B> &c ) { return _out(s,ALL(c)); }\n#else\n#define dump(...)\n#endif\n\ntemplate<typename T>\nvoid _R( T &x ) { cin>>x; }\nvoid _R( int &x ) { scanf(\"%d\",&x); }\nvoid _R( long long &x ) { scanf(\"%\" PRId64,&x); }\nvoid _R( double &x ) { scanf(\"%lf\",&x); }\nvoid _R( char &x ) { scanf(\" %c\",&x); }\nvoid _R( char *x ) { scanf(\"%s\",x); }\n\nvoid R() {}\ntemplate<typename T, typename... U>\nvoid R( T& head, U&... tail ) {\n    _R(head);\n    R(tail...);\n}\n\ntemplate<typename T>\nvoid _W( const T &x ) { cout<<x; }\nvoid _W( const int &x ) { printf(\"%d\",x); }\ntemplate<typename T>\nvoid _W( const vector<T> &x ) {\n    for ( auto i=x.cbegin(); i!=x.cend(); i++ ) {\n        if ( i!=x.cbegin() ) putchar(' ');\n        _W(*i);\n    }\n}\n\nvoid W() {}\ntemplate<typename T, typename... U>\nvoid W( const T& head, const U&... tail ) {\n    _W(head);\n    putchar(sizeof...(tail)?' ':'\\n');\n    W(tail...);\n}\n\n#ifdef SHIK\n#define FILEIO(...)\n#else\n#define FILEIO(name) do {\\\n    freopen(name \".in\",\"r\",stdin); \\\n    freopen(name \".out\",\"w\",stdout); \\\n} while (0)\n#endif\n\n// }}}\n\nconst int N=2e5+10;\nint n,k,a[8*N];\nchar s[N];\n\nvoid show( int x=-1 ) {\n    REP(i,n) {\n        if ( i==x ) printf(\"\\e[1;32m\");\n        putchar(a[i]?'-':'|');\n        if ( i==x ) printf(\"\\e[0m\");\n    }\n    W(\"\");\n}\n\nvoid sim() {\n    int x=0,d=1;\n    while ( x>=0 && x<n ) {\n        // show(x);\n        if ( a[x]==0 ) d=-d;\n        a[x]^=1;\n        x+=d;\n    }\n    // dump(x);\n    // show();\n}\n\nint main() {\n    R(n,k,s);\n    REP(i,n) a[i]=s[i]-'A';\n    // REP(i,n) a[i]=rand()%2;\n    int pos=0,t=0;\n    REP(i,min(k,4*n+k%2)) {\n        if ( (a[pos]^t)==0 ) a[pos]^=1;\n        else {\n            pos++;\n            t^=1;\n            a[pos+n-1]=t;\n        }\n    }\n    REP(i,n) putchar(\"AB\"[a[pos+i]^t]);\n    W(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll int\n#define llu unsigned long long\n#define ld double\n#define llu unsigned long long\n#define rep(i,x,y)  for(int i=int(x);i<int(y);++i)\n#define For(i,x,y)  for(int i=int(x);i<=int(y);++i)\n#define FOr(i,x,y)  for(int i=int(x);i>=int(y);--i)\n#define pi acos(-1) \n#define mk make_pair\n#define pa pair<ll,ll>\n#define lf else if\n#define IL inline\n#define max(x,y)    ((x)<(y)?(y):(x))\n#define min(x,y)    ((x)<(y)?(x):(y))\n#define sqr(x)      ((x)*(x))\n#define Mul(x,y)    ((x)=1LL*(x)*(y)%mod)\n#define Add(x,y)    ((x)=((x)+(y))%mod)\n#define Max(x,y)    ((x)=((x)<(y)?(y):(x)))\n#define Min(x,y)    ((x)=((x)>(y)?(y):(x)))\n#define E(x)        return writeln(x),0\n#define LL\t\t\t(long long)\n#define p(x)        printf(\"~%lld~\\n\",LL(x))\n#define pp(x,y)     printf(\"~~%lld %lld~~\\n\",LL(x),LL(y))\n#define ppp(x,y,z)  printf(\"~~~%lld %lld %lld~~~\\n\",LL(x),LL(y),LL(z))\n#define pppp(a,b,c,d)\tprintf(\"~~~%lld %lld %lld %lld\\n\",LL(a),LL(b),LL(c),LL(d))\n#define f_in(x)     freopen(x\".in\",\"r\",stdin)\n#define f_out(x)    freopen(x\".out\",\"w\",stdout)\n#define open(x)     f_in(x),f_out(x)\n#define fi first\n#define se second\n#define GuYue\t\tputs(\"\\nGuYueNa________________________________________________________________________________\")\ntypedef complex<double> E;\nnamespace SHENZHEBEI{\n#ifdef LOCAL\n    struct _{_(){freopen(\"cf.in\",\"r\",stdin);}}_; \n#endif \n#define NEG 1\n    static const int GYN=2333333;\n    char SZB[GYN],*SS=SZB,*TT=SZB;\n    inline char gc(){   if (SS==TT){  TT=(SS=SZB)+fread(SZB,1,GYN,stdin); if (SS==TT) return '\\n';  }   return *SS++;    }\n#if NEG\n    inline ll read(){    ll x=0,g=1; char ch=gc();   for (;!isdigit(ch);ch=gc()) if (ch=='-') g=-1;  for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x*g; }\n    inline void write(ll x){    if (x<0) putchar('-'),x=-x;  if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#else\n    inline ll read(){    ll x=0; char ch=gc();   for (;!isdigit(ch);ch=gc());    for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x;   }\n    inline void write(ll x){    if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#endif\n    inline char readchar(){ char ch=gc();   for(;isspace(ch);ch=gc());  return ch;  }\n    inline ll readstr(char *s){ char ch=gc();   int cur=0;  for(;isspace(ch);ch=gc());      for(;!isspace(ch);ch=gc())  s[cur++]=ch;    s[cur]='\\0';    return cur; }\n\tvoid Print(long long *a,int s,int t){For(i,s,t)printf(\"%lld \",a[i]);}\n\tvoid Print(int *a,int s,int t){For(i,s,t)printf(\"%d \",a[i]);}\n\tvoid Print(char *a,int s,int t){For(i,s,t)putchar(a[i]);}\n\tvoid writeln(ll x){write(x);puts(\"\");}\n}using namespace SHENZHEBEI;\nconst ll N=400010;\nbitset<200100>f;\nchar s[200100];\nll n,k;\nint main(){\n\tn=read(),k=read();\n\tif (k>2*n){\n\t\tFor(i,1,n)putchar(((n-i)&1)?'B':'A');\n\t\treturn 0;\n\t}\n\treadstr(s+1);\n\tFor(i,1,n)f[i]=s[i]=='A';\n\tFor(i,1,k)if (f[1])\tf[1]=0;\n\telse{\n\t\tf.flip(),f>>=1,f[n]=1;\n\t}\n\tFor(i,1,n)putchar(f[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <map>\n#include <set>\n#include <string>\n#include <iostream>\n#include <cassert>\n#include <cmath>\n#include <deque>\nusing namespace std;\n\nint main() {\n        int n, k;\n        scanf(\"%d%d\", &n, &k);\n        string s;\n        cin >> s;\n        if (k > 2 * n) k = 2 * n + (k % 2);\n        deque<bool> que;\n        for (int i = 0; i < n; i ++) {\n                que.push_back(s[i] == 'A');\n        }\n        bool f = false;\n        for (int i = 0; i < k; i ++) {\n                if (que.front() ^ f) {\n                        que.pop_front();\n                        que.push_front(f);\n                } else {\n                        f = !f;\n                        que.pop_front();\n                        que.push_back(!f);\n                }\n        }\n        string ans = \"\";\n        for (int i = 0; i < n; i ++) {\n                ans.push_back(que.front() ^ f ? 'A' : 'B');\n                que.pop_front();\n        }\n        cout << ans << endl;\n        return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <set>\n#include <map>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <bitset>\t\t//UWAGA - w czasie kompilacji musi byc znany rozmiar wektora - nie mozna go zmienic\n#include <cassert>\n#include <iomanip>\t\t//do setprecision\n#include <ctime>\n#include <complex>\nusing namespace std;\n\n#define FOR(i,b,e) for(int i=(b);i<(e);++i)\n#define FORQ(i,b,e) for(int i=(b);i<=(e);++i)\n#define FORD(i,b,e) for(int i=(b)-1;i>=(e);--i)\n#define REP(x, n) for(int x = 0; x < (n); ++x)\n\n#define ST first\n#define ND second\n#define PB push_back\n#define MP make_pair\n#define LL long long\n#define ULL unsigned LL\n#define LD long double\n\nconst double pi = 3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342;\n\nconst int MR = 2e5 + 10;\n\nchar S[MR], res[MR];\n\nint main()\n{\n\tint N, K;\n\tscanf(\"%d%d%s\", &N, &K, S);\n\tif (N == 1)\n\t{\n\t\tif (S[0] == 'A')\n\t\t\tS[0] += K % 2;\n\t\telse\n\t\t\tS[0] -= K % 2;\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\t// zobacz czy minimum raz przejdzie\n\tif (K == 1 && S[0] == 'A')\n\t{\n\t\tS[0] = 'B';\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\tchar first;\n\n\tif (K % 2)\n\t\tif (S[0] == 'A')\n\t\t\tfirst = 'B';\n\t\telse\n\t\t\tfirst = 'A';\n\telse\n\t\tfirst = S[0];\n\n\tint add = K % 2;\n\n\tK /= 2;\n\n\tif (S[0] == 'B')\n\t\tK += add;\n\n\tbool sel = 1;\n\tset<int> pom;\n\tadd = 0;\n\tres[N - 1] = 'A';\n\tFORD(i, N-1, 0)\n\t{\n\t\t// spr czy mozesz poczatek dorzucic\n\t\tif (!sel)\n\t\t{\n\t\t\tif (S[i + 1] == 'A')\n\t\t\t\tpom.insert(-add + 1);\n\t\t}\n\t\telse if (S[i + 1] == 'B')\n\t\t\tpom.insert(-add + 1);\n\t\t// zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n\t\tif (pom.find(K - add) != pom.end())\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'A';\n\t\t\telse\n\t\t\t\tres[i] = 'B';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'B';\n\t\t\telse\n\t\t\t\tres[i] = 'A';\n\t\t}\n\t\t// przesun wszystkie pozycje o 1 dla kolejnego\n\t\tadd++;\n\t\t// zmien litere\n\t\tsel = !sel;\n\t}\n\n\tprintf(\"%s\\n\", res);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n    assert(a&&b);\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\tif(a+b-3>=1) return rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t\telse{ if(zan%2==0) return A(a+b-2)+B(1)+A(1); else return B(a+b-1)+A(1); }\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\tif(a+b-3>=1) return rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t\telse { if(zan%2==1) return A(a+b-2)+B(1)+A(1); else return B(a+b-1)+A(1); }\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(i<n&&s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(i<n&&s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; goto out;\n\t\t\t}\n\t\t}\n\t}out:;\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(i<n&&s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(i<n&&s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tif(x==0||y==0){cout<<-1<<endl; return 0;}\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int , int> P2;\ntypedef pair<pair<int , int> , int> P3;\ntypedef pair<pair<int , int> , pair<int , int> > P4;\n#define Fst first\n#define Snd second\n#define PB(a) push_back(a)\n#define MP(a , b) make_pair((a) , (b))\n#define M3P(a , b , c) make_pair(make_pair((a) , (b)) , (c))\n#define M4P(a , b , c , d) make_pair(make_pair((a) , (b)) , make_pair((c) , (d)))\n#define repp(i,a,b) for(int i = (int)(a) ; i < (int)(b) ; ++i)\n#define repm(i,a,b) for(int i = (int)(a) ; i > (int)(b) ; --i)\n\nint N,K;\nbool b[200010];\n\nint halt(int p){\n\tif(N%2==1) printf(\"%c\" , (N+p)%2==1?'A':'B');\n\telse printf(\"B\");\n\trepp(i,1,N){\n\t\tprintf(\"%c\" , (i+N)%2==1?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n\nint main(){\n\tscanf(\"%d%d\" , &N , &K);\n\trepp(i,0,N){\n\t\tchar c;\n\t\tscanf(\" %c\" , &c);\n\t\tb[i] = c == 'A';\n\t}\n\tif(N==1){\n\t\tprintf(\"%c\\n\" , (K%2==1)^b[0]?'A':'B');\n\t\treturn 0;\n\t}\n\tint y = N;\n\trepm(i,N-1,-1){\n\t\tif(((N-i)%2 == 1) ^ b[i]) break;\n\t\t--y;\n\t}\n\tint x = 0;\n\tbool z = 0;\n\trepp(i,0,K){\n\t\tif(x == y) return halt(K-i);\n\t\tif(b[x]^z) {\n\t\t\tb[x] = !b[x];\n\t\t} else {\n\t\t\tz = !z;\n\t\t\t++x;\n\t\t}\n\t}\n\trepp(i,x,y){\n\t\tprintf(\"%c\" , b[i] ^ z ? 'A' : 'B');\n\t\t--N;\n\t}\n\thalt(0);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=100*n)\n\t{\n\t\tint p=1, f=0;\n\t\tfor (int i=1; i<=k; i++)\n\t\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\t\telse f^=1, p=p==n?1:p+1;\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\t\tif (!f) putchar(s[i]);\n\t\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tif (n==1)\n\t\t{\n\t\t\tif (k%2==0) putchar(s[1]);\n\t\t\telse putchar(s[1]=='A'?'B':'A');\n\t\t}\n\t\telse if (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (k%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <algorithm>\n#include <deque>\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconstexpr static int MAXN = 1e6;\n\nint n, k;\nstring s;\n\nint main() {\n    cin >> n >> k >> s;\n\n    if (n == 1) {\n        cout << ('A' + (s[0] - 'A' + k) % 2) << endl;\n        return 0;\n    }\n\n    deque <int> d;\n    for (int i = 0; i < n;) {\n        int j = i;\n        while (j < n && s[j] == s[i])\n            j++;\n        d.push_back(j - i);\n        i = j;\n    }\n\n    bool isA = (s[0] == 'A');\n    k %= (2 * n);\n    for (int i = 0; i < k; i++) {\n        /*\n        cout << (isA ? 'A' : 'B');\n        for (int len : d)\n            cout << \" \" << len;\n        cout << endl;\n        */\n        if (isA) {\n            if (d.front() > 1) {\n                // AA... -> BA...\n                d.front()--;\n                d.push_front(1);\n            }\n            else {\n                // AB... -> BB...\n                d.pop_front();\n                d.front()++;\n            }\n            isA = false;\n        }\n        else {\n            // B^m A^n ... -> A^{m-1} B^n ... A\n            d.front()--;\n            if (d.size() % 2 == 0)\n                d.push_back(1);\n            else\n                d.back()++;\n\n            if (d.front() == 0)\n                d.pop_front();\n            else\n                isA = true;\n        }\n    }\n\n    int add = (isA ? 0 : 1);\n    for (int len : d) {\n        cout << string(len, 'A' + add);\n        add = 1 - add;\n    }\n    cout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint N, K;\nchar Str[700005];\nvoid Read()\n{\n    cin >> N >> K;\n    cin.get();\n    cin.getline(Str + 1, 200005);\n    for(int i = N + 1; i <= 3 * N; i++)\n        Str[i] = 'A';\n}\ninline char Code(char ch, int rev)\n{\n    if(rev == 0)\n        return ch;\n    if(ch == 'A')\n        return 'B';\n    return 'A';\n}\nvoid Solve()\n{\n    int start = 1, times = 0, rev = 0;\n    while(start <= N * 2 && times < K)\n    {\n        if(Code(Str[start], rev) == 'A')\n            Str[start] = Code('B', rev), times++;\n        else\n        {\n            ++start;\n            rev = 1 - rev;\n            if(rev == 1)\n                Str[start + N - 1] = 'B';\n            times++;\n        }\n    }\n    if(times == K)\n    {\n        for(int i = start; i <= start + N - 1; i++)\n            cout << Code(Str[i], rev);\n        cout << \"\\n\";\n        return;\n    }\n    times = K - times;\n    if(N % 2 == 1)\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"AB\";\n        cout << \"A\";\n        cout << \"\\n\";\n    }\n    else\n    {\n        for(int i = 1; i <= N / 2; i++)\n            cout << \"BA\";\n        cout << \"\\n\";\n    }\n}\nint main()\n{\n    Read();\n    Solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\nusing namespace std;\n\nint main()\n{\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >>S;\n\n\tint i;\n\tfor (i = 0; i < N && K > 0; i++, K--)\n\t{\n\t\tif (S[i] == 'A'+ (i & 1))\n\t\t\tS[i] = 'B' - ((i--) & 1);\n\t}\n\n\tif (K == 0)\n\t{\n\t\tif (i < N)\n\t\t{\n\t\t\tchar s[2] = { 'A', 'B' };\n\t\t\tif (i & 1)\n\t\t\t{\n\t\t\t\ts[0] = 'B';\n\t\t\t\ts[1] = 'A';\n\t\t\t}\n\n\t\t\tfor (int j = i; j < N; j++)\n\t\t\t\tcout << s[S[j] - 65];\n\t\t}\n\n\t\tstring part(i, ' ');\n\t\tchar s[2] = { 'A', 'B' };\n\t\tfor (int j = 0; j < i; j++)\n\t\t\tpart[i - j - 1] = s[j & 1];\n\t\tcout << part;\n\t}\n\telse\n\t{\n\t\tif (N & 1)\n\t\t{\n\t\t\tif (K & 1)\n\t\t\t\tcout << 'B';\n\t\t\telse\n\t\t\t\tcout << 'A';\n\t\t\tfor (int j = 2; j < N; j += 2)\n\t\t\t\tcout << \"BA\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (int j = 0; j < N; j+=2)\n\t\t\t\tcout << \"BA\";\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <iostream>\n#include <cmath>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <algorithm>\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> P;\n\nint main()\n{\n\tint n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  bool a1=0;\n  if(s[0]=='A') a1=1;\n  if(n==1){\n    if(a1){\n      if(k%2) cout<<\"B\"<<endl;\n      else cout<<\"A\"<<endl;\n    }else{\n      if(k%2) cout<<\"A\"<<endl;\n      else cout<<\"B\"<<endl;\n    }\n    return 0;\n  }\n  int ct=1;\n  deque<int> deq;\n  for(int i=1; i<n; i++){\n    if(s[i]!=s[i-1]){\n      deq.push_back(ct);\n      ct=1;\n    }else{\n      ct++;\n    }\n  }\n  deq.push_back(ct);\n  int i0=-1;\n  for(int i=0; i<k; i++){\n    if(a1){\n      a1=0;\n      int x=deq.front();\n      deq.pop_front();\n      if(x>1){\n        deq.push_front(x-1);\n        deq.push_front(1);\n      }else{\n        int y=deq.front();\n        deq.pop_front();\n        deq.push_front(y+1);\n      }\n    }else{\n      int x=deq.front();\n      deq.pop_front();\n      if(x>1){\n        a1=1;\n        deq.push_front(x-1);\n      }\n      int y=deq.back();\n      if((a1 && deq.size()%2==1) || (!a1 && deq.size()%2==0)){\n        deq.pop_back();\n        deq.push_back(y+1);\n      }else{\n        deq.push_back(1);\n      }\n    }\n    if(i>=1 && deq.size()==n){\n      i0=i;\n      break;\n    }\n  }\n  if(i0==-1){\n    for(auto x:deq){\n      if(a1){\n        for(int i=0; i<x; i++) cout<<\"A\";\n        a1=0;\n      }else{\n        for(int i=0; i<x; i++) cout<<\"B\";\n        a1=1;\n      }\n    }\n    cout<<endl;\n  }else{\n    if(n%2==0){\n      for(int i=0; i<n; i++){\n        if(i%2) cout<<\"A\";\n        else cout<<\"B\";\n      }\n      cout<<endl;\n    }else{\n      if((k-1-i0)%2==0){\n        for(int i=0; i<n; i++){\n          if(i%2) cout<<\"B\";\n          else cout<<\"A\";\n        }\n        cout<<endl;\n      }else{\n        cout<<\"B\";\n        for(int i=1; i<n; i++){\n          if(i%2) cout<<\"B\";\n          else cout<<\"A\";\n        }\n        cout<<endl;\n      }\n    }\n  }\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint N, K, p, rev;\nchar S[400010];\n\nvoid sim() {\n\tif(S[p] == 'A') {\n\t\tif(rev) {\n\t\t\trev = false;\n\t\t\tS[p + N] = 'A';\n\t\t\tp++;\n\t\t}\n\t\telse {\n\t\t\tS[p] = 'B';\n\t\t}\n\t}\n\telse {\n\t\tif(rev) {\n\t\t\tS[p] = 'A';\n\t\t}\n\t\telse {\n\t\t\trev = true;\n\t\t\tS[p + N] = 'B';\n\t\t\tp++;\n\t\t}\n\t}\n}\n\nvoid out() {\n\tfor(int i = p; i < p + N; i++) {\n\t\tchar c = S[i];\n\t\tif(rev) c = (c == 'A') ? 'B' : 'A';\n\t\tcout << c;\n\t}\n\tcout << endl;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K >> S;\n\n\tint rem = K;\n\tfor(int i = 0; i < min(2 * N, K); i++) {\n\t\tsim();\n\t\trem--;\n\t}\n\tif(rem && rem % 2) sim();\n\n\tout();\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define max(a,b) ((a)>(b)?(a):(b))\n#define min(a,b) ((a)<(b)?(a):(b))\n\ntypedef long long LL;\n\nint main(){\n  int n,k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  queue<int> st;\n  for(int i=0;i<n;i++){\n    st.push(s[i]-'A');\n  }\n  int kaisu=1;\n  for(;!st.empty()&&k>0;k--){\n    if((st.front()+kaisu)%2){\n      st.front()=1-st.front();\n    }else{\n      st.pop();\n      kaisu++;\n    }\n  }\n  if(st.empty()){\n    if(n%2){\n      if(k%2){\n        printf(\"AB\");\n      }else{\n        printf(\"BB\");\n      }\n      for(int i=2;i<n-1;i+=2){\n        printf(\"AB\");\n      }\n      printf(\"A\\n\");\n    }else{\n      for(int i=0;i<n;i+=2){\n        printf(\"BA\");\n      }\n    }\n    printf(\"\\n\");\n  }else{\n    int count=0;\n    for(;!st.empty();count++){\n      if((st.front()+kaisu)%2){\n        printf(\"A\");\n      }else{\n        printf(\"B\");\n      }\n      st.pop();\n    }\n    if((n-count)%2){\n      printf(\"A\");\n      count++;\n    }\n    for(;count<n;count+=2){\n      printf(\"BA\");\n    }\n    printf(\"\\n\");\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cmath>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<iomanip>\n#define _USE_MATH_DEFINES\n#include <math.h>\n#include <functional>\n#include<complex>\nusing namespace std;\n\n#define rep(i,x) for(ll i=0;i<x;i++)\n#define repn(i,x) for(ll i=1;i<=x;i++)\n\ntypedef long long ll;\nconst ll INF = 1e17;\nconst ll MOD = 1000000007;\nconst ll MAX = 4000001;\nconst double eps = 1E-18;\n\nll max(ll a, ll b) {\n\tif (a > b) { return a; }\n\treturn b;\n}\n\nll min(ll a, ll b) {\n\tif (a > b) { return b; }\n\treturn a;\n}\n\nll gcd(ll a, ll b) {\n\tif (b == 0) { return a; }\n\tif (a < b) { return gcd(b, a); }\n\treturn gcd(b, a % b);\n}\n\nll lcm(ll a, ll b) {\n\treturn a / gcd(a, b) * b;\n}\n\nstruct edge {\n\tll ind;\n\tll fr;\n\tll to;\n\tll d;\n};\n\nclass mint {\n\tlong long x;\npublic:\n\tmint(long long x = 0) : x((x% MOD + MOD) % MOD) {}\n\tmint operator-() const {\n\t\treturn mint(-x);\n\t}\n\tmint& operator+=(const mint& a) {\n\t\tif ((x += a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator-=(const mint& a) {\n\t\tif ((x += MOD - a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator*=(const  mint& a) {\n\t\t(x *= a.x) %= MOD;\n\t\treturn *this;\n\t}\n\tmint operator+(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res += a;\n\t}\n\tmint operator-(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res -= a;\n\t}\n\tmint operator*(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res *= a;\n\t}\n\n\tmint pow(ll t) const {\n\t\tif (!t) return 1;\n\t\tmint a = pow(t >> 1);\n\t\ta *= a;\n\t\tif (t & 1) a *= *this;\n\t\treturn a;\n\t}\n\n\t// for prime MOD\n\tmint inv() const {\n\t\treturn pow(MOD - 2);\n\t}\n\tmint& operator/=(const mint& a) {\n\t\treturn (*this) *= a.inv();\n\t}\n\tmint operator/(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res /= a;\n\t}\n\n\tfriend ostream& operator<<(ostream& os, const mint& m) {\n\t\tos << m.x;\n\t\treturn os;\n\t}\n};\n\nmint pw(mint a, ll b) {\n\tif (b == 0) { return 1; }\n\tmint ret = pw(a, b >> 1);\n\tret *= ret;\n\tif (b & 1) { ret *= a; }\n\treturn ret;\n}\n\ntypedef vector<ll> vll;\ntypedef vector<vector<ll>> vvll;\ntypedef vector<vector<vector<ll>>> vvvll;\n\ntypedef vector<mint> vmint;\ntypedef vector<vector<mint>> vvmint;\ntypedef vector<vector<vector<mint>>> vvvmint;\n\n//////////////////////////////////////\n\ntemplate<typename T>\nstruct BIT {\n\tll n;\n\tvector<T> bt;\n\tll sz;\n\n\tBIT(ll n0) {\n\t\tn = n0;\n\t\tsz = 1;\n\t\twhile (sz < n) { sz *= 2; }\n\t\tbt.assign(sz + 1, 0);\n\t}\n\n\tll sum(ll i) {\n\t\tT ret = 0;\n\t\tfor (ll x = i; x > 0; x -= x & (-x)) {\n\t\t\tret += bt[x];\n\t\t}\n\t\treturn ret;\n\t}\n\n\tvoid add(ll i, ll w) {\n\t\tfor (ll x = i; x <= sz; x += x & (-x)) {\n\t\t\tbt[x] += w;\n\t\t}\n\t\treturn;\n\t}\n};\n\n\n\ntemplate <typename T>\nll tento(ll N, vector<T> A) {\n\tvector<pair<T, ll>> p(N + 1);\n\n\trepn(i, N) p[i] = { A[i],i };\n\tsort(++p.begin(), p.end());\n\n\tBIT<T> bit(N);\n\tll ret = 0;\n\n\trepn(i, N) {\n\t\tll t = p[i].second;\n\t\tret += bit.sum(t);\n\t\tbit.add(t, 1);\n\t}\n\n\tret = N * (N - 1) / 2 - ret;\n\treturn ret;\n}\n\n\nint main() {\n\tll N, K;\n\tcin >> N >> K;\n\n\tstring S;\n\tcin >> S;\n\n\tll c = 0;//見ている位置\n\trep(i, K) {\n\t\tif (c % 2 == 0) {\n\t\t\tif (S[c] == 'A') { S[c] = 'B'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\telse {\n\t\t\tif (S[c] == 'B') { S[c] = 'A'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\tif (c == N) { c = 0; break; }\n\t}\n\n\trep(i, N) {\n\t\tchar t = S[(c + i) % N];\n\t\tif(c%2==1) {\n\t\t\tif (t == 'A') { t = 'B'; }\n\t\t\telse { t = 'A'; }\n\t\t}\n\t\tcout << t;\n\t}\n\n\tcout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define Fst first\n#define Snd second\n#define RG register\n#define mp make_pair\n#define mem(a,b) memset(a,b,sizeof(a))\nusing namespace std;\ntypedef long long LL;\ntypedef long double LD;\ntypedef unsigned int UI;\ntypedef unsigned long long ULL;\ntemplate<typename T> inline void read(T& x) {\n\tchar c = getchar();\n\tbool f = false;\n\tfor (x = 0; !isdigit(c); c = getchar()) {\n\t\tif (c == '-') {\n\t\t\tf = true;\n\t\t}\n\t}\n\tfor (; isdigit(c); c = getchar()) {\n\t\tx = x * 10 + c - '0';\n\t}\n\tif (f) {\n\t\tx = -x;\n\t}\n}\ntemplate<typename T, typename... U> inline void read(T& x, U& ... y) {\n\tread(x), read(y...);\n}\nint n,K;\nint G[600010];\nchar s[200010];\n//#define rua\nint main() {\n//\tios::sync_with_stdio(false);\n#ifdef rua\n\tfreopen(\"GG.in\",\"r\",stdin);\n#endif\n  read(n,K); scanf(\"%s\",s+1);\n  for(int i=1;i<=n;++i) G[i]=s[i]-'A';\n  int l=1,r=n,t=0;\n  for(int i=1;i<=n<<1;++i) {\n    if(G[l]^t==0) G[l]^=1;\n    else t^=1,++l,G[++r]=t;\n    if(i==K) {\n      for(int i=l;i<=r;++i) G[i]^=t,printf(\"%c\",G[i]+'A');\n      return 0;\n    }\n  }\n  if(n%2&&K%2) G[l]^=1;\n  for(int i=l;i<=r;++i) G[i]^=t,printf(\"%c\",G[i]+'A');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#if __cplusplus >= 201103L\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <scoped_allocator>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n#endif\n\n\n#define ll int\n#define FOR(i,a) for(ll i=0;i<(ll)a.size();i++)\n#define pb push_back\n#define ld long double\n#define mp make_pair\n#define F first\n#define S second\n#define pii pair<ll,ll> \n\nusing namespace :: std;\n\nconst ll maxn=1e5+500;\n\ninline char nott(char r){\n\tif(r=='A')return 'B';\n\treturn 'A';\n}\nint main(){\n\tll n,k;\n\tcin>>n>>k;\n\tstring s;\n\tcin>>s;\n\tll tah=0;\n\tbool nnot=0;\n\n\tfor(ll i=0;i<k;i++){\n\t\tif(tah==n){\n\t\t\tbreak;\n\t\t}\n\t\tchar c=s[tah];\n\t\tif(nnot)c=nott(c);\n\t\tif(c=='A'){\n\t\t\ts[tah]=nott(s[tah]);\n\t\t}else{\n\t\t\ttah++;\n\t\t\tnnot=!nnot;\n\t\t}\n\t}\n\n\tif(tah==n){\n\t\texit(1);\n\t}\n\n\n\n\tstring ans;\n\tfor(ll i=tah;i<n;i++){\n\t\tif(nnot){\n\t\t\tans+=nott(s[i]);\n\t\t}\n\t\telse{\n\t\t   ans+=s[i] ;\n\t\t}\n\t}\n\twhile(ans.size()<n){\n\t\tans+='C';\n\t}\n\tchar f='A';\n\tfor(ll i=n-1;i>=0 && ans[i]=='C';i--){\n\t\tans[i]=f;\n\t\tf=nott(f);\n\t}\n\tcout<<ans;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nstring s;\nvector<pair<string, int> > dict;\nint dir;\nvector<pair<vector<pair<string, int> >, string> >sdict;\n\nint put(int idx) {\n  if (s[idx] == 'A') {\n    s[idx] = 'B';\n    if (dir == 0) {\n      idx--; dir++;\n    } else if (dir == 1) {\n      idx++; dir--;\n    }\n  } else if (s[idx] == 'B') {\n    s[idx] = 'A';\n    if (dir == 0) {\n      idx++;\n    } else if (dir == 1) {\n      idx--;\n    }\n  }\n  return idx;\n}\n\nint main(){\n  ll n,k;\n  cin >> n >> k;\n  cin >> s;\n  for (ll i = 0; i < k; i++){\n    int idx = 0; dir = 0;\n    vector<pair<string,int> > pdict;\n    while (idx != -1 && idx != n) {\n      // cout << idx << ' ';\n      int flag = 0;\n      for (ll j = 0; j < sdict.size(); j++) {\n        vector<pair<string,int> > ppdict = sdict[j].first;\n        for (ll k = 0; k < ppdict.size(); k++) {\n          if (s == ppdict[k].first && idx == ppdict[k].second) {\n            s = sdict[j].second;\n            flag = 1;\n            break;\n          }\n        }\n        if (flag == 1) break;\n      }\n      if (flag == 1) break;\n      pdict.push_back(make_pair(s,idx));\n      idx = put(idx);\n      // cout << idx << endl;\n      // cout << s << endl;\n    }\n    sdict.push_back(make_pair(pdict, s));\n    dict.push_back(make_pair(s,i));\n    // cout << s << ' ' << i << endl;\n    for (ll j = 0; j < dict.size()-1; j++) {\n      if (s == dict[j].first) {\n        // cout << \"match \" << i << ' ' << s << endl;\n        ll span = i - dict[j].second;\n        // cout << \"span \" << span << endl;\n        i += ((k - i) / span) * span;\n      }\n    }\n  }\n  cout << s << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define DEBUG 1\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef unsigned int uint;\ntypedef unsigned short ushort;\ntypedef pair<int, int> PII;\n\n#define MAX_INT (int)0x7fffffff\n#define MIN_INT (int)0x80000000\n#define MAX_UINT (uint)0xffffffff\n\n#define TTi template<typename T> inline\nTTi T SQR(T x) { return x * x; }\n\n#define CONCAT3_NX(x, y, z) x ## y ## z\n#define CONCAT3(x, y, z) CONCAT3_NX(x, y, z)\n#define VAR(name) CONCAT3(__tmpvar__, name, __LINE__)\n#define TYPE(x) __typeof(x)\n\n#define FOR(i, s, n)  for (TYPE(n) i=(s),   VAR(end)=(n);  i <  VAR(end);  i++)\n#define RFOR(i, s, n) for (TYPE(n) i=(n)-1, VAR(end)=(s);  i >= VAR(end);  i--)\n#define FORN(i, n)    FOR(i, 0, n)\n#define RFORN(i, n)   RFOR(i, 0, n)\n#define FOREACH(i, v) for (auto& i: v)\n\n#define SC() scanf(\"\\n\")\n#define SC1(fmt, a) scanf(fmt, &a)\n#define SC2(fmt, a, b) scanf(fmt, &a, &b)\n#define SC3(fmt, a, b, c) scanf(fmt, &a, &b, &c)\n#define SCi(a) scanf(\"%d\", &a)\n#define SCii(a,b) scanf(\"%d%d\", &a, &b)\n#define SCiii(a,b,c) scanf(\"%d%d%d\", &a, &b, &c)\n#define fLL \"%lld\"\n#define SCl(a) scanf(fLL, &a)\n#define SCll(a,b) scanf(fLL fLL, &a, &b)\n#define SClll(a,b,c) scanf(fLL fLL fLL, &a, &b, &c)\n#define SCs(s, n) {scanf(\"%s\", s); n = strlen(s);}\n#define SCc(s) scanf(\"%c\", &c)\n\n#define MP make_pair\n#define PB push_back\n#define WHOLE(x) (x).begin(),(x).end()\n#define SZ(x) ((int)(x).size())\n#define POPST(stack) (stack).top();(stack).pop();\n#define POPQ(queue) (queue).front();(queue).pop();\n#define CONTAINS(v, x) (find(WHOLE(v), (x)) != v.end())\n#define SORT(v) (sort(WHOLE(v)))\n\n#define LIMIT(x, lim) {if (x > lim) x = lim;}\nTTi void UPDATE_MIN(T &x, T y) {if (y < x) {x = y;}}\nTTi void UPDATE_MAX(T &x, T y) {if (x < y) {x = y;}}\nTTi int ARGMAX(T cont) { return max_element(cont.begin(), cont.end()) - cont.begin(); }\nTTi int ARGMIN(T cont) { return min_element(cont.begin(), cont.end()) - cont.begin(); }\n\nTTi int hamming(T x) {return __builtin_popcountll((long long)x);}\nint hamming(int x) {return __builtin_popcount(x);}\nint hamming(long x) {return __builtin_popcountl(x);}\nint hamming(long long x) {return __builtin_popcountll(x);}\n\nvector<string> split(const string& s, char c) {\n    vector<string> v; stringstream ss(s); string x;\n    while (getline(ss, x, c)) v.emplace_back(x); return move(v);\n}\ntemplate<typename T, typename... Args>\ninline string arrStr(T arr, int n) {\n    stringstream s; s << \"[\";\n    FORN(i, n - 1) s << arr[i] << \",\";\n    s << arr[n - 1] << \"]\";\n    return s.str();\n}\n\n// #ifndef ONLINE_JUDGE\n#ifdef JUDGE_LOCAL\n    #define EPR(args...)   if (DEBUG) {fprintf(stderr, args);}\n    #define EARR(arr, n)   if (DEBUG) {FORN(i, n) fprintf(stderr, \"%d, \", arr[i]);}\n    #define EVEC(arr)      if (DEBUG) {FORN(i, arr.size()) fprintf(stderr, \"%d, \", arr[i]);}\n    #define EVARS(args...) if (DEBUG) { __evars_begin(__LINE__); __evars(split(#args, ',').begin(), args);}\n\n    inline void __evars_begin(int line) { cerr << \"#\" << line << \": \"; }\n    inline void __evars(vector<string>::iterator it) { cerr << endl; }\n    TTi void __evars_out_var(vector<T> val) { cerr << arrStr(val, val.size()); }\n    TTi void __evars_out_var(T* val) { cerr << arrStr(val, 10); }\n    TTi void __evars_out_var(T val) { cerr << val; }\n    template<typename T, typename... Args>\n    inline void __evars(vector<string>::iterator it, T a, Args... args) {\n        cerr << it->substr((*it)[0] == ' ', it->length()) << \"=\";\n        __evars_out_var(a);\n        cerr << \"; \";\n        __evars(++it, args...);\n    }\n#else\n    #define EPR(args...) 1\n    #define EARR(args...) 1\n    #define EVEC(args...) 1\n    #define EVARS(args...) 1\n#endif\n\ntemplate<class T> inline string TOSTR(const T & x) { stringstream ss; ss << x; return ss.str(); }\n#define DIE(args...) {printf(args);exit(0);}\ninline void DIER(char *res, char *dbg=NULL) {\n    fprintf(stderr, \"[!] die reason %s\\n\", dbg);\n    puts(res);\n    exit(0);\n}\ninline void PR(void) {}\ninline void PR(int x) {printf(\"%d\", x);}\ninline void PR(LL x) {printf(\"%lld\", x);}\ninline void PR(size_t x) {printf(\"%llu\", (ULL)x);}\ninline void PR(const char * s) {printf(\"%s\", s);}\ninline void PR(double f) {printf(\"%.10f\", f);}\ninline void PR(long double f) {printf(\"%.10f\", (double)f);}\nTTi void PR(vector<T> &vec) {auto sz = vec.size();for(auto x:vec){PR(x);(--sz)?putc(0x20,stdout):0;}}\nTTi void PRS(T x) {PR(x);putc(0x20,stdout);}\nTTi void PRN(T x) {PR(x);putc(0x0a,stdout);}\nvoid PRN(void) {putc(0x0a,stdout);}\n\nstruct pairhash {\n    template <typename T, typename U>\n    std::size_t operator() (const std::pair<T, U> &x) const {\n        return std::hash<T>()(x.first) ^ std::hash<U>()(x.second);\n    }\n};\n\nconst int MOD = 1000 * 1000 * 1000 + 7;\nconst double PI = 3.1415926535897932384626433832795l;\n\nTTi T gcd(T a, T b) {\n    return a ? gcd(b % a, a) : b;\n}\n\ninline void addto(int &a, int b) {\n    a += b;\n    if (a >= MOD) a -= MOD;\n}\ninline int add(int a, int b) {\n    a += b;\n    if (a >= MOD) a -= MOD;\n    return a;\n}\ninline void subto(int &a, int b) {\n    a -= b;\n    if (a < 0) a += MOD;\n    if (a >= MOD) a -= MOD;\n}\ninline int sub(int a, int b) {\n    a -= b;\n    if (a < 0) a += MOD;\n    if (a >= MOD) a -= MOD;\n    return a;\n}\ninline void multo(int &a, int b) {\n    a = (long long)a * b % MOD;\n}\ninline int mul(int a, int b) {\n    return (long long)a * b % MOD;\n}\ninline int mulmod(int a, int b, int mod) {\n    return (long long)a * b % mod;\n}\ninline int powmod(int a, int e, int mod) {\n    int x;\n    for(x = 1; e > 0; e >>= 1) {\n        if (e & 1)\n            x = mulmod(x, a, mod);\n        a = mulmod(a, a, mod);\n    }\n    return x;\n}\ninline int invmod_prime(int a, int mod) {\n    return powmod(a, mod - 2, mod);\n}\ninline LL invmod_LL(LL p){\n    LL q = p;\n    for(LL a = p*p; a != 1; a*=a) q*=a;\n    return q;\n}\n\n\n// -----------------------------------------------------------------\n// CODE\n// -----------------------------------------------------------------\n\n#define MAXN 200123\n\nint N, M, K, L, E, Q;\nchar s[MAXN];\nint S;\n\nvoid emul() {\n    int pos = -1;\n    int dir = 1;\n    while (1) {\n        pos += dir;\n        int lpos = pos;\n        char typ = s[lpos];\n        if (typ == 'A') {\n            dir *= -1;\n        }\n\n        s[lpos] = (s[lpos] == 'A') ? 'B' : 'A';\n        if (pos == 0 && dir == -1) return;\n        if (pos == S-1 && dir == 1) return;\n    }\n}\n\nint main() {\n    ios_base::sync_with_stdio(0);\n\n    SCii(N, K);\n    SCs(s, S);\n    FORN(i, K) {\n        emul();\n    }\n    PRN(s);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    // chrono::steady_clock clk;\n    // auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<int> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, fflip = false;;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx++;\n            if(idx == n){ idx = 0; }\n        }\n        // if(i % 1000000 == 0 && clk.now() - start > 1900ms){\n        //     if(n % 2 && (k - i - 1) % 2){\n        //         fflip = true;\n        //     }\n        //     break;\n        // }\n    }\n    cout << (fflip ^ flip ^ ss[idx] ? 'A' : 'B');\n    for(int i=1;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n  \nusing namespace std;\n  \n#define rep(i,n) REP(i,0,n)\n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define pb push_back\n#define all(r) r.begin(),r.end()\n#define rall(r) r.rbegin(),r.rend()\n#define fi first\n#define se second\n  \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \nconst int INF = 1e9;\nconst ll MOD = 1e9 + 7;\ndouble EPS = 1e-8;\n\nint main(){\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tmap<pair<string, pii>, int> m;\n\tpii p({0, 0});\n\tm[{s,p}] = 0;\n\tint l = 0, c = 0;\n\tREP(i, 1, k + 1) {\n\t\tint idx = p.fi;\n\t\tint f = p.se;\n\t\tif(f ^ (s[idx] == 'A')) s[idx] = (s[idx]=='A'?'B':'A');\n\t\telse (idx += 1) %= n, (f += 1) %= 2;\n\t\tp = {idx, f};\n\t\tif(m.count({s,p})) {\n\t\t\tl = m[{s, p}];\n\t\t\tc = i - l;\n\t\t\tbreak;\n\t\t}\n\t\telse m[{s, p}] = i;\n\t}\n\t//cout<<\"OK\"<<endl;\n\tint K = c == 0 ? 0 :(k - l) % c;\n\trep(i, K) {\n\t\tint idx = p.fi;\n\t\tint f = p.se;\n\t\tif(f ^ (s[idx] == 'A')) s[idx] = (s[idx]=='A'?'B':'A');\n\t\telse (idx += 1) %= n, (f += 1) %= 2;\n\t\tp = {idx, f};\n\t}\n\tint idx = p.fi, f = p.se;\n\tstring ans;\n\trep(i, n) {\n\t\tans += (s[(i+idx)%n] == 'A' ^ f? 'A' : 'B');\n\t}\n\tcout<<ans<<endl;\n\t//cout<<idx<<\" \"<<f<<\" \"<<l<<\" \"<<c<<\" \"<<K<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<functional>\n#include<map>\n#include<set>\n#include<string>\n\nint main()\n{\n\tstd::string str;\n\tint N, K;\n\tstd::cin >> N >> K;\n\tstd::cin >> str;\n\tstruct func_t\n\t{\n\t\tbool f;\n\t\tbool operator()(char c)\n\t\t{\n\t\t\tif ((f&&c == 'A') || (!f&&c == 'B'))\n\t\t\t{\n\t\t\t\tf ^= true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tint count{};\n\twhile (!std::all_of(str.rbegin(), str.rend(), func_t{ true }))\n\t{\n\t\tbool d = false;\n\t\tint c{};\n\t\twhile (c >= 0 && c < N)\n\t\t{\n\t\t\tif (!d)\n\t\t\t{\n\t\t\t\tif (str[c] == 'A')\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'B';\n\t\t\t\t\t--c;\n\t\t\t\t\td = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'A';\n\t\t\t\t\t++c;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (str[c] = 'A')\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'B';\n\t\t\t\t\t++c;\n\t\t\t\t\td = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstr[c] = 'A';\n\t\t\t\t\t--c;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t++count;\n\t\tif (count == K)\n\t\t{\n\t\t\tstd::cout << str << std::endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tif ((K - count) % 2 == 0)\n\t{\n\t\tstd::cout << str << std::endl;\n\t}\n\telse if (N % 2 == 1)\n\t{\n\t\tstd::cout << \"B\" << str.substr(1) << std::endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\n\t\tif (!(a[0] ^ rev) && i >= 3 * n)\n\t\t\ti += (k - i) - (k - i) % 3;\n\t}\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<queue>\n#include<vector>\n#include<algorithm>\n#include<iostream>\n#include<set>\n#include<cmath>\n#include<tuple>\n#include<string>\n#include<chrono>\n#include<functional>\n#include<iterator>\n#include<random>\n#include<unordered_set>\n#include<array>\n#include<map>\n#include<iomanip>\nusing namespace std;\ntypedef long long int llint;\ntypedef long double lldo;\n#define mp make_pair\n#define mt make_tuple\n#define pub push_back\n#define puf push_front\n#define pob pop_back\n#define pof pop_front\n#define fir first\n#define sec second\n#define res resize\n#define ins insert\n#define era erase\n//cout<<setprecision(20)\nconst llint mod=1000000007;\nconst llint big=2.19e15+1;\nconst long double pai=3.141592653589793238462643383279502884197;\nconst long double eps=1e-15;\ntemplate <class T,class U>void mineq(T& a,U b){if(a>b){a=b;}}\ntemplate <class T,class U>void maxeq(T& a,U b){if(a<b){a=b;}}\nllint gcd(llint a,llint b){if(a%b==0){return b;}else return gcd(b,a%b);}\nllint lcm(llint a,llint b){return a/gcd(a,b)*b;}\ntemplate<class T> void SO(T& ve){sort(ve.begin(),ve.end());}\ntemplate<class T> void REV(T& ve){reverse(ve.begin(),ve.end());}\nint LBI(vector<llint>&ar,llint in){return lower_bound(ar.begin(),ar.end(),in)-ar.begin();}\nint UBI(vector<llint>&ar,llint in){return upper_bound(ar.begin(),ar.end(),in)-ar.begin();}\nint main(void){\n\tllint n,i,k;cin>>n>>k;\n\tstring str;cin>>str;\n\tdeque<char>s;\n\tfor(auto it:str){s.pub(it);}\n\tif(n%2){if(s[0]=='A'){k--;}s.pof();}\n\twhile(s.size()>0&&k>6){\n\t\tif(n%2==1){\n\t\t\t\t if(s[0]=='A'&&s[1]=='A'){s.pof();s.pof();k-=3;}\n\t\t\telse if(s[0]=='A'&&s[1]=='B'){s.pof();s.pof();k-=2;}\n\t\t\telse if(s[0]=='B'&&s[1]=='A'){s.pof();s.pof();k-=4;}\n\t\t\telse if(s[0]=='B'&&s[1]=='B'){s.pof();s.pof();k-=3;}\n\t\t}else{\n\t\t\t\t if(s[0]=='A'&&s[1]=='A'){s.pof();s.pof();k-=3;}\n\t\t\telse if(s[0]=='A'&&s[1]=='B'){s.pof();s.pof();k-=4;}\n\t\t\telse if(s[0]=='B'&&s[1]=='A'){s.pof();s.pof();k-=2;}\n\t\t\telse if(s[0]=='B'&&s[1]=='B'){s.pof();s.pof();k-=3;}\n\t\t}\n\t}\n\tif(s.size()==0){\n\t\tif(n%2==1&&k%2==0){cout<<'B';}\n\t\tif(n%2==1&&k%2==1){cout<<'A';}\n\t\tfor(i=1;i<n;i+=2){cout<<\"BA\";}\n\t\tcout<<endl;return 0;\n\t}\n\tif(n%2==1){s.puf('B');}\n\twhile(s.size()<n){s.pub('B');s.pub('A');}\n\twhile(k--){\n\t\tint mae=1,bas=0;\n\t\twhile(0<=bas&&bas<n){\n\t\t\tif(s[bas]=='A'){\n\t\t\t\tmae=-mae;\n\t\t\t\ts[bas]='B';\n\t\t\t\tbas+=mae;\n\t\t\t}else{\n\t\t\t\ts[bas]='A';\n\t\t\t\tbas+=mae;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\tfor(auto it:s){cout<<it;}cout<<endl;\n\t//ない ある\n\t//AA 3 3\n\t//BA 2 4\n\t//BB 3 3\n\t//AB 4 2\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\n\nusing namespace std;\n\nusing int64 = long long;\nbool bit[200001];\n\nint main() {\n  int N, K;\n  cin >> N >> K;\n  string S;\n  cin >> S;\n\n  for(int i = 0; i < N; i++) bit[i] = S[i] == 'A';\n\n  int last = N;\n  while(K--) {\n    while(last >= 2 && bit[last - 1] && !bit[last - 2]) {\n      last -= 2;\n    }\n    if(last == 0) break;\n    if(last == 1) last %= 2;\n    if(bit[0]) {\n      bit[0] = false;\n    } else {\n      for(int i = 0; i < last; i++) bit[i] = !bit[i + 1];\n    }\n  }\n\n  for(int i = 0; i < N; i++) cout << \"BA\"[bit[i]];\n  cout << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"O2\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC target(\"sse,sse2,tune=native\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nint s[maxn];\nstring get() {\n\tint l = 0, a = 0;\n\t#pragma GCC ivdep\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\ta ^= 1;\n\t\t\ts[l ? l-1 : n-1] = a;\n\t\t}\n\t}\n\tstring res;\n\tfor(int i = 0; i < n; i++) {\n\t\tres += char('A' + (s[l++]^a));\n\t\tif(l == n) l = 0;\n\t}\n\treturn res;\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k;\n\tchar t;\n\tfor(int i = 0; i < n; i++) cin >> t, s[i] = t-'A';\n\t\n\tcout << get();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n\n#define mp make_pair\n#define pb push_back\n#define ll long long\n\n#define maxN 600011\n\nint n, k, i, l, r, inv;\nchar s[maxN];\nint act[maxN];\n\nint main()\n{\n    //freopen(\"test.in\",\"r\",stdin);\n\n    scanf(\"%d%d\\n%s\", &n, &k, s + 1);\n    for (i = 1; i <= n; i++) act[i] = s[i] - 'A';\n    l = 1; r = n; inv = 0;\n\n    while (l <= n + 2 && k > 0) {\n        k--;\n\n        if ((act[l] ^ inv) == 0) {\n            act[l] ^= 1;\n        } else {\n            l++; r++;\n            inv ^= 1;\n            act[r] = inv;\n        }\n    }\n\n\n    if (n % 2 == 1)\n        act[l] ^= k & 1;\n\n    for (i = l; i <= r; i++)\n        printf(\"%c\", 'A' + (act[i] ^ inv));\n\n\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <cstdlib>\n#include <set>\n#include <queue>\nusing namespace std;\n\n#define X first\n#define Y second\n#define Mod 1000000009\n#define N 1000010\n#define M 101\n\ntypedef long long ll;\n\nconst int INF=1<<30;\nint n,K,f,r;\nchar s[N];\nbool flag;\n\nvoid Work()\n{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[f]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts[++r]='A';\n\t\t\t\tf++;\n\t\t\t}\n\t\t\telse s[f]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[f]=='A') s[f]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts[++r]='B';\n\t\t\t\tf++;\n\t\t\t}\n\t\t}\n}\n\nint main()\n{\n\t//freopen(\"in.in\",\"r\",stdin);\n\t//freopen(\"out.out\",\"w\",stdout);\n\t\n\tcin >> n >> K; scanf(\"%s\",s);\n\tbool flag=0; f=0,r=n-1;\n\tfor (int i=1;i<=2*n;i++)\n\t{\n\t\tif (K==0) break; K--;\n\t\tWork();\n\t}\n\tif (K&1) Work();\n\tfor (int i=f;i<=r;i++) printf(\"%c\",s[i]=='A'? 'B':'A');\n\tprintf(\"\\n\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbool a[N];\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n    while (k--) {\n        int i = 0;\n        bool right = 1;\n        while (i >= 0 && i < n) {\n            if (a[i]) {\n                right ^= 1;\n            }   \n            a[i] ^= 1;\n            if (right)\n                ++i;\n            else\n                --i;    \n        }\n    }\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define BIG 1000000010\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\ntypedef long long int ll;\n\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  char s;\n  int a=0;\n  deque<char> d;\n  rep(i,n){\n    cin>>s;\n    d.push_back(s);\n  }\n  rep(i,k){\n    if(d.front()-(a%2)=='A'){\n      d.pop_front();\n      d.push_front('B'-(a%2));\n    }\n    else{\n      a++;\n      d.pop_front();\n      if(a%2) d.push_back('B');\n      else d.push_back('A');\n    }\n    if(a>n){\n      if(a%2==1){\n\trep(k,d.size()){\n\t  if(d[k]=='A') d[k]='B';\n\t  else d[k]='A';\n\t}\n      }\n      if(n%2==0){\n\trep(j,n){\n\t  \n\t  if(j%2==0 && d[j]!='B') break;\n\t  else if(j%2==1 && d[j]!='A') break;\n\t  else if(j==n-1) i=BIG;\n\t}\n      }\n      else{\n\trepi(j,1,n){\n\t  if(j%2==1 && d[j]!='B') break;\n\t  else if(j%2==0 && d[j]!='A') break;\n\t  else if(j==n-1) i=k-1-((k-1-i)%2);\n\t}\n      }\n    }\n  }\n  if(a<=n){\n    if(a%2==1){\n      rep(k,d.size()){\n\tif(d[k]=='A') d[k]='B';\n\telse d[k]='A';\n      }\n    }\n  }\n  rep(i,n){\n    cout<<d[i];\n  }\n  cout<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  for (int i = 0; i < 20 && k > 0; i++, k--) {\n    if (s[0] == 'A') {\n      s[0] = 'B';\n    } else {\n      if (n % 2) {\n        s[0] = 'A';\n      }\n      for (int j = n % 2; j + 1 < n; j += 2) {\n        if (s[j] == 'A' && s[j + 1] == 'A') {\n          s[j - 1] = 'B';\n          s[j] = 'B';\n          s[j + 1] = 'A';    \n        } else if (s[j] == 'A' && s[j + 1] == 'B') {\n          s[j - 1] = 'B';\n          s[j] = 'A';\n          s[j + 1] = 'A';\n        } else if (s[j] == 'B' && s[j + 1] == 'B') {\n          s[j] = 'A';\n          s[j + 1] = 'A';\n        }\n      }\n    }  \n  }\n  cout << s << '\\n';\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#ifdef DEBUG_MODE\n\t#define DBG(n) n;\n#else\n\t#define DBG(n) ;\n#endif\n#define REP(i,n) for(ll (i) = (0);(i) < (n);++i)\n#define PB push_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define SHOW1d(v,n) {for(int W = 0;W < (n);W++)cerr << v[W] << ' ';cerr << endl << endl;}\n#define SHOW2d(v,i,j) {for(int aaa = 0;aaa < i;aaa++){for(int bbb = 0;bbb < j;bbb++)cerr << v[aaa][bbb] << ' ';cerr << endl;}cerr << endl;}\n#define ALL(v) v.begin(),v.end()\n#define Decimal fixed<<setprecision(20)\n#define INF 1000000000\n#define LLINF 1000000000000000000LL\n#define MOD 1000000007\n\ntypedef long long ll;\ntypedef pair<ll,ll> P;\n\nint main(){\n\n    ll n,k;cin >> n >> k;\n    string str;cin >> str;\n\tvector<int> v(str.size());\n\tREP(i,str.size()){\n\t\tif(str[i] == 'A')v[i] = 1;\n\t\telse v[i] = 0;\n\t}\n\n    int place = 0;\n    int rev = 0;\n\n    while(k){\n\t\t//cout << k << \" \" << place << endl;\n        if(place == str.size())break;\n        if((v[place] + rev) % 2){\n\t\t\tv[place] = 1 - v[place];\n\t\t}\n\t\telse{\n\t\t\tplace++;\n\t\t\trev = 1 - rev;\n\t\t}\n\t\tk--;\n    }\n\n\tif(k == 0){\n\t\tfor(int i = place;i < str.size();i++){\n\t\t\tif((v[i] + rev) % 2)cout << 'A';\n\t\t\telse cout << 'B';\n\t\t}\n\t\tfor(int i = place - 1;i >= 0; i--){\n\t\t\tif(i % 2 == 0)cout << 'A';\n\t\t\telse cout << 'B';\n\t\t}\n\t\tcout << endl;\n\t}\n\telse{\n\t\tif(str.size() % 2){\n\t\t\tREP(i,str.size()){\n\t\t\t\tif(i == 0){\n\t\t\t\t\tif(k % 2)cout << 'A';\n\t\t\t\t\telse cout << 'B';\n\t\t\t\t}\n\t\t\t\telse if(i % 2)cout << 'B';\n\t\t\t\telse cout << 'A';\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tREP(i,str.size()){\n\t\t\t\tif(i % 2)cout << 'A';\n\t\t\t\telse cout << 'B';\n\t\t\t}\n\t\t}\n\t\tcout << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if((n%2==1&&cnt+1==n)||v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //for(P p:v) cout<<p.second<<\" \";\n    //cout<<endl;\n  }\n  assert(n!=1);\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// need\n#include <iostream>\n#include <algorithm>\n\n// data structure\n#include <bitset>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n//#include <array>\n#include <unordered_map>\n//#include <complex>\n//#include <deque>\n#include <valarray>\n\n// stream\n//#include <istream>\n#include <sstream>\n//#include <ostream>\n//#include <fstream>\n\n// etc\n#include <cassert>\n#include <cmath>\n#include <functional>\n#include <iomanip>\n#include <chrono>\n#include <random>\n#include <numeric>\n\n//namespace std {\n//\ttemplate < typename T > std::string to_string(const T& n) {\n//\t\tstd::ostringstream stm;\n//\t\tstm << n;\n//\t\treturn stm.str();\n//\t}\n//\tint stoi(std::string s, int tmp = 10) {\n//\t\tstd::istringstream stm(s);\n//\t\tint res;\n//\t\tstm >> res;\n//\t\treturn res;\n//\t}\n//}\n\n// input\n#define INIT std::ios::sync_with_stdio(false);std::cin.tie(0);\n#define VAR(type, ...)type __VA_ARGS__;MACRO_VAR_Scan(__VA_ARGS__);\ntemplate<typename T> void MACRO_VAR_Scan(T& t) { std::cin >> t; }\ntemplate<typename First, typename...Rest>void MACRO_VAR_Scan(First& first, Rest&...rest) { std::cin >> first; MACRO_VAR_Scan(rest...); }\n#define VEC_ROW(type, n, ...)std::vector<type> __VA_ARGS__;MACRO_VEC_ROW_Init(n, __VA_ARGS__); for(int i=0; i<n; ++i){MACRO_VEC_ROW_Scan(i, __VA_ARGS__);}\ntemplate<typename T> void MACRO_VEC_ROW_Init(int n, T& t) { t.resize(n); }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Init(int n, First& first, Rest&...rest) { first.resize(n); MACRO_VEC_ROW_Init(n, rest...); }\ntemplate<typename T> void MACRO_VEC_ROW_Scan(int p, T& t) { std::cin >> t[p]; }\ntemplate<typename First, typename...Rest>void MACRO_VEC_ROW_Scan(int p, First& first, Rest&...rest) { std::cin >> first[p]; MACRO_VEC_ROW_Scan(p, rest...); }\n#define VEC(type, c, n) std::vector<type> c(n);for(auto& i:c)std::cin>>i;\n#define MAT(type, c, m, n) std::vector<std::vector<type>> c(m, std::vector<type>(n));for(auto& r:c)for(auto& i:r)std::cin>>i;\n\n// output\n#define OUT(d) std::cout<<d;\n#define FOUT(n, d) std::cout<<std::fixed<<std::setprecision(n)<<d;\n#define SOUT(n, c, d) std::cout<<std::setw(n)<<std::setfill(c)<<d;\n#define SP std::cout<<\" \";\n#define TAB std::cout<<\"\\t\";\n#define BR std::cout<<\"\\n\";\n#define SPBR(i, n) std::cout<<(i + 1 == n ? '\\n' : ' ');\n#define ENDL std::cout<<std::endl;\n#define FLUSH std::cout<<std::flush;\n#define SHOW(d) {std::cerr << #d << \"\\t:\" << d << \"\\n\";}\n#define SHOWVECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOWVECTOR2(v) {std::cerr << #v << \"\\t:\\n\";for(const auto& xxx : v){for(const auto& yyy : xxx){std::cerr << yyy << \" \";}std::cerr << \"\\n\";}}\n#define SHOWQUEUE(a) {auto tmp(a);std::cerr << #a << \"\\t:\";while(!tmp.empty()){std::cerr << tmp.front() << \" \";tmp.pop();}std::cerr << \"\\n\";}\n\n// utility\n#define ALL(a) (a).begin(),(a).end()\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RFOR(i, a, b) for(int i=(b)-1;i>=(a);--i)\n#define REP(i, n) for(int i=0;i<int(n);++i)\n#define RREP(i, n) for(int i=int(n)-1;i>=0;--i)\n#define FORLL(i, a, b) for(ll i=ll(a);i<ll(b);++i)\n#define RFORLL(i, a, b) for(ll i=ll(b)-1;i>=ll(a);--i)\n#define REPLL(i, n) for(ll i=0;i<ll(n);++i)\n#define RREPLL(i, n) for(ll i=ll(n)-1;i>=0;--i)\n#define IN(a, x, b) (a<=x && x<b)\ntemplate<typename T> inline T CHMAX(T& a, const T b) { return a = (a < b) ? b : a; }\ntemplate<typename T> inline T CHMIN(T& a, const T b) { return a = (a > b) ? b : a; }\n#define EXCEPTION(msg) throw std::string(\"Exception : \" msg \" [ in \") + __func__ + \" : \" + std::to_string(__LINE__) + \" lines ]\"\n#define TRY(cond, msg) try {if (cond) EXCEPTION(msg);}catch (std::string s) {std::cerr << s << std::endl;}\nvoid CHECKTIME(std::function<void()> f) { auto start = std::chrono::system_clock::now(); f(); auto end = std::chrono::system_clock::now(); auto res = std::chrono::duration_cast<std::chrono::nanoseconds>((end - start)).count(); std::cerr << \"[Time:\" << res << \"ns  (\" << res / (1.0e9) << \"s)]\\n\"; }\n\n// test\ntemplate<class T> std::vector<std::vector<T>> VV(int n) {\n\treturn std::vector<std::vector<T>>(n);\n}\ntemplate<class T> std::vector<std::vector<T>> VV(int n, int m, T init = T()) {\n\treturn std::vector<std::vector<T>>(n, std::vector<T>(m, init));\n}\ntemplate<typename S, typename T>\nstd::ostream& operator<<(std::ostream& os, std::pair<S, T> p) {\n\tos << \"(\" << p.first << \", \" << p.second << \")\"; return os;\n}\n\n// type/const\n\n#define int ll\nusing ll = long long;\nusing ull = unsigned long long;\nusing ld = long double;\nusing PAIR = std::pair<int, int>;\nusing PAIRLL = std::pair<ll, ll>;\nconstexpr int INFINT = 1 << 30;                          // 1.07x10^ 9\nconstexpr int INFINT_LIM = (1LL << 31) - 1;              // 2.15x10^ 9\nconstexpr ll INFLL = 1LL << 60;                          // 1.15x10^18\nconstexpr ll INFLL_LIM = (1LL << 62) - 1 + (1LL << 62);  // 9.22x10^18\nconstexpr double EPS = 1e-9;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.141592653589793238462643383279;\n\n\nstd::string process(std::string s) {\n\tint n = s.size();\n\tint p = 0;\n\tint dir = 1;\n\twhile (IN(0, p, n)) {\n\t\tif (s[p] == 'A') {\n\t\t\ts[p] = 'B';\n\t\t\tdir *= -1;\n\t\t}\n\t\telse {\n\t\t\ts[p] = 'A';\n\t\t}\n\t\tp += dir;\n\t}\n\treturn s;\n}\n\nstd::string decode(std::deque<int> deq, char c) {\n\tstd::string res;\n\twhile (!deq.empty()) {\n\t\tint now = deq.front(); deq.pop_front();\n\t\tres += std::string(now, c);\n\t\tc = 'A' + (c == 'A');\n\t}\n\treturn res;\n}\n\nsigned main() {\n\tINIT;\n\n\tif(0){\n\t\tVAR(std::string, s);\n\t\tint n = s.size();\n\n\t\tREP(i, n * 2 + 2) {\n\t\t\tSOUT(2, ' ', i)TAB OUT((s = process(s)))BR;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tVAR(int, n, k);\n\tVAR(std::string, s);\n\n\tstd::deque<int> deq;\n\tchar c = s[0];\n\n\t{\n\t\tint l = 0;\n\t\tFOR(r, 1, n + 1) {\n\t\t\tif (r == n || s[l] != s[r]) {\n\t\t\t\tdeq.emplace_back(r - l);\n\t\t\t\tl = r;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (k > 2 * n + 10) {\n\t\tk = 2 * n + k % 2;\n\t}\n\n\tREP(_, k) {\n\t\tint t = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tc = 'B';\n\t\t\tif (t == 1) {\n\t\t\t\tif (deq.empty()) {\n\t\t\t\t\tdeq.emplace_front(1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint t2 = deq.front(); deq.pop_front();\n\t\t\t\t\tdeq.emplace_front(1 + t2);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdeq.emplace_front(t - 1);\n\t\t\t\tdeq.emplace_front(1);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (t != 1) {\n\t\t\t\tc = 'A';\n\t\t\t\tdeq.emplace_front(t - 1);\n\t\t\t}\n\t\t\tif (!deq.empty() && deq.size() % 2 == 'B' - c) {\n\t\t\t\tint t2 = deq.back(); deq.pop_back();\n\t\t\t\tdeq.emplace_back(t2 + 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdeq.emplace_back(1);\n\t\t\t}\n\t\t}\n\t\t//SHOW(decode(deq, c));\n\t}\n\n\tstd::string ans(decode(deq, c));\n\tOUT(ans)BR;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nll n, k;\nstring s;\n\n//count how long moving t frames takes\nll comp(ll t) {\n\tll ct = 0;\n\tfor (ll i = 0; i < min(t, 1LL*n); ++i) {\n\t\tif (i%2 == 0)\n\t\t\tct += (s[i] == 'A')+1;\n\t\telse\n\t\t\tct += (s[i] == 'B')+1;\n\t}\n\t\n\tif (t <= n)\n\t\treturn ct;\n    if (n%2 == 1)\n\t    return ct+2*(t-n);\n\telse\n\t    return ct+(t-n);\n}\n\nstring trans(string g) {\n\tif (g[0] == 'A')\n\t\tg[0] = 'B';\n\telse {\n\t\tstring h = \"\";\n\t\tfor (ll i = 1; i < g.length(); ++i) {\n\t\t\tif (g[i] == 'A')\n\t\t\t\th += 'B';\n\t\t\telse\n\t\t\t\th += 'A';\n\t\t}\n\t\th += 'A';\n\t\tg = h;\n\t}\n\t\n\treturn g;\n}\n\nstring move(ll t) {\n\tstring h = \"\";\n\tfor (ll i = t; i <= t+n-1; ++i) {\n\t\tif (i < n) {\n\t\t\tll y = (int)'A'+(int)'B';\n\t\t\tif (t%2 == 0)\n\t\t\t\th += s[i];\n\t\t\telse\n\t\t\t\th += (char)(y-s[i]);\n\t\t} else {\n\t\t\tif ((t+n-1-i)%2 == 0)\n\t\t\t\th += 'A';\n\t\t\telse\n\t\t\t\th += 'B';\n\t\t}\n\t}\n    \n\treturn h;\n}\n\nint main() {\n\tios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n\n\tcin >> n >> k >> s;\n\tll lo = 0, hi = 1e9;\n\n\twhile (lo != hi) {\n\t\tll mid = (lo+hi+1)/2;\n\t\tif (comp(mid) > k)\n\t\t\thi = mid-1;\n\t\telse\n\t\t\tlo = mid;\n\t}\n\t\n    int j = comp(lo);\n\ts = move(lo);\n\t\n\tif (j == k-1)\n\t\tcout << trans(s) << endl;\n\telse\n\t\tcout << s << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\nconst int N = 2e5;\n\nint n, k, w = -1;\nint a[N + 1], q[N + 1], ans[N + 1];\nbool flag = false;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tchar ch;\n\tfor (int i = 1; i <= n; i++) {\n\t\tch = getchar();\n\t\tif (ch == 'A') {\n\t\t\ta[i] = 0;\n\t\t\tq[i] = 2;\n\t\t} else {\n\t\t\ta[i] = q[i] = 1;\n\t\t}\n\t\tq[i] += q[i - 1];\n\t\tans[i] = a[i];\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (q[i] > k) {\n\t\t\tw = i - 1;\n\t\t\tbreak;\n\t\t}\n\t\tif (q[i] == k) {\n\t\t\tw = i;\n\t\t\tflag = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (w == -1) {\n\t\tif (n & 1)\n\t\t\tprintf(\"A\");\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (i & 1)\n\t\t\t\tprintf(\"B\");\n\t\t\telse\n\t\t\t\tprintf(\"A\");\n\t\t}\n\t\tif (!(n & 1))\n\t\t\tprintf(\"A\");\n\t\tprintf(\"\\n\");\n\t\treturn 0;\n\t}\n\tif (w & 1) {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i] ^ 1;\n\t\tans[1] = 0;\n\t\tfor (int i = 1; i < w; i++)\n\t\t\tans[w + i + 1] = (i & 1) ? 1 : 0;\n\t} else {\n\t\tfor (int i = w + 1; i <= n; i++)\n\t\t\tans[i - w] = a[i];\n\t\tfor (int i = 1; i <= w; i++)\n\t\t\tans[w + i] = (i & 1) ? 1 : 0;\n\t}\n\tw = q[w + 1] - k;\n\tif (!flag) {\n\t\tif (ans[1]) {\n\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\tans[n] = 0;\n\t\t} else {\n\t\t\tans[1] = 1;\n\t\t\tif (w > 1) {\n\t\t\t\tfor (int i = 1; i < n; i++)\n\t\t\t\t\tans[i] = ans[i + 1] ^ 1;\n\t\t\t\tans[n] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (ans[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define fo(i,a,b) for(i=a;i<=b;i++)\nusing namespace std;\nconst int maxn=200000+10;\nchar s[maxn],h[maxn];\nint i,j,k,l,t,n,m,cnt,num;\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    fo(i,1,n)\n        if (s[i]=='A') s[i]='1';else s[i]='0';\n    i=1;\n    fo(l,1,2*n+10){\n        t=s[i]-'0';\n        if (t^cnt) s[i]=(1-t)+'0';\n        else{\n            cnt^=1;\n            num^=1;\n            i++;\n        }\n        if (l==k){\n            fo(j,i,n){\n                t=s[j]-'0';\n                if (t^cnt) printf(\"A\");else printf(\"B\");\n            }\n            fo(j,1,i-1){\n                if (num) printf(\"A\");else printf(\"B\");\n                num^=1;\n            }\n        }\n        if (i>n) break;\n    }\n    if (l<k){\n        if (!num){\n            fo(i,1,n)\n                if (i%2==1) printf(\"B\");else printf(\"A\");\n            return 0;\n        }\n        fo(i,1,n){\n            if (num) h[i]='A';else h[i]='B';\n            num^=1;\n        }\n        if (l%2!=k%2){\n            if (h[1]=='A') h[1]='B';else h[1]='A';\n        }\n        fo(i,1,n) printf(\"%c\",h[i]);\n        return 0;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n    int n,k;\n    scanf(\"%d%d\",&n,&k);\n    string s;\n    cin >> s;\n    deque<int> dq;\n    for (int i = 0; i < n; i++){\n        dq.push_back(s[i]=='A'?0:1);\n    }\n    int flip = 0;\n    int num = min(2*n,k);\n    if (k > num){\n        if ((n & 1) == 0){\n            for (int i = 0; i < n; i++){\n                printf(\"%c\",(i&1)?'A':'B');\n            }\n            return 0;\n        }\n        k -= num;\n        printf(\"%c\",(k&1)?'B':'A');\n        for (int i = 1; i < n; i++){\n            printf(\"%c\",(i&1)?'B':'A');\n        }\n        return 0;\n    }\n    for (int i = 0; i < num; i++){\n        if ((dq[0]^flip) == 0) {\n            //printf(\"flip front %d %d\\n\",dq[0],flip);\n            dq[0] ^= 1;\n        }\n        else{\n            //printf(\"rotate\");\n            dq.pop_front();\n            flip ^= 1;\n            dq.push_back(flip);\n        }\n    }\n    for (int i = 0; i < n; i++){\n        printf(\"%c\",(dq[i]^flip)?'B':'A');\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <map>\n#include <set>\n#include <queue>\n#include <vector>\n#include <cstring>\n#include <cstdlib>\n#include <algorithm>\n#define rep(i,a,b) for(int i = a; i <= b; i++)\n#define dep(i,a,b) for(int i = a; i >= b; i--) \n#define Rep(i,a) for(int i = 0; i < a; i++)\n#define pb(a) push_back(a)\n#define mp(a,b) make_pair(a,b)\n#define ab(x) ((x) < 0 ? -(x) : (x))\nusing namespace std;\ntypedef long long LL;\ntypedef map<int, int>::iterator mit;\ntypedef set<int>::iterator sit;\nconst int N = 2e5 + 10;\nint n, k, j;\nchar s[N];\nint a[N];\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s + 1);\n\trep(i,1,n) if (s[i] == 'A') a[i] = 1; else a[i] = 0;\n\tint cnt = 0, d = 0;\n\trep(i,1,n) {\n\t\tif (a[i] ^ d) cnt++, a[i] ^= 1;\n\t\tif (cnt == k) {\n\t\t\tbool flag = false; \n\t\t\tfor(int j = i; j != i || !flag; j = j % n + 1, flag = true) \n\t\t\t\tif (a[j] ^ d) putchar('A'); else putchar('B');\n\t\t\treturn 0;\n\t\t}\n\t\tcnt++, d ^= 1;\n\t\tif (cnt == k) {\n\t\t\tbool flag = false;\n\t\t\tfor(int j = i % n + 1; j != i % n + 1 || !flag; j = j % n + 1, flag = true)\n\t\t\t\tif (a[j] ^ d) putchar('A'); else putchar('B');\n\t\t\treturn 0;\n\t\t}\n\t}\n\tk -= cnt;\n\tk %= 2 * n;\n\tint j = 1;\n\trep(i,1,k) {\n\t\tif (a[j] ^ d) a[j] ^= 1;\n\t\telse d ^= 1, j = (j % n + 1);\n\t}\n\tint S = j; bool flag = false;\n\tfor(;j != S || !flag; j = j % n + 1, flag = true)\n\t\tif (a[j] ^ d) putchar('A'); else putchar('B');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <set>\n#include <map>\n#include <string>\n#include <vector>\n#include <bitset>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <cassert>\n#include <queue>\n\n#define mp make_pair\n#define pb push_back\n\n\ntypedef long long ll;\ntypedef long double ld;\n\nusing namespace std;\n\nint n;\nll k;\nchar s[210000];\nconst ll MX = 500000;\nint a[220000];\n\nint main() {\n\tscanf(\"%d%lld\", &n, &k);\n\tscanf(\" %s\", s);\n\tfor (int i = 0; i < n; ++i) {\n\t\tif (s[i] == 'A')\n\t\t\ta[i] = 0;\n\t\telse\n\t\t\ta[i] = 1;\n\t}\n\tint cur = 0;\n\tint fl = 0;\n\tfor (int i = 0; i < k; ++i) {\n\t\tif ((a[cur] ^ fl) == 0) {\n\t\t\ta[cur] ^= 1;\n\t\t}\n\t\telse {\n\t\t\tfl ^= 1;\n\t\t\t++cur;\n\t\t\tif (cur == n)\n\t\t\t\tcur = 0;\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++i)\n\t\ta[i] ^= fl;\n\tint now = 0;\n\tfor (int i = cur; i < n; ++i) {\n\t\tif (a[i] == 0) \n\t\t\ts[now] = 'A';\n\t\telse\n\t\t\ts[now] = 'B';\n\t\t++now;\n\t}\n\tfor (int i = 0; i < cur; ++i) {\n\t\tif (a[i] == 0) \n\t\t\ts[now] = 'A';\n\t\telse\n\t\t\ts[now] = 'B';\n\t\t++now;\n\t}\n\tcout << s << \"\\n\";\n/*\tif (n == 1) {\n\t\tif (k % 2 == 0) {\n\t\t\tcout << s << \"\\n\";\n\t\t}\n\t\telse {\n\t\t\tif (s[0] == 'A')\n\t\t\t\tcout << \"B\\n\";\n\t\t\telse\n\t\t\t\tcout << \"A\\n\";\n\t\t}\n\t\treturn 0;\n\t}\n\tint cur = 0;\n\tint fl = 0;\n\tfor (int i = 0; i < min(MX, k); ++i) {\n\t\tif ((a[cur] ^ fl) == 0) {\n\t\t\ta[cur] ^= 1;\n\t\t}\n\t\telse {\n\t\t\tfl ^= 1;\n\t\t\t++cur;\n\t\t\tif (cur == n)\n\t\t\t\tcur = 0;\n\t\t}\n\t}\n\tif (k > MX) {\n\t\tk -= MX;\n\n\t}\n*/\n//\tcout << s << \"\\n\";\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <cstdio>\n#include <cstdint>\n#include <cassert>\n#include <cmath>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <tuple>\n#include <utility>\n#include <vector>\nusing namespace std;\n\nusing int64 = int64_t;\n\nconstexpr int64 MOD = 1000000007;\n\nchar rev(char ch) {\n    return (ch == 'B') ? 'A' : 'B';\n}\n\nint N, K;\nstring s;\n\nint main() {\n    cin >> N >> K >> s;\n    if (s[0] == 'A') {\n        --K;\n        s[0] = 'B';\n    }\n    if (s[N-1] == 'B') {\n        if (K > 0) {\n            --K;\n            s[N-1] = 'A';\n            for (int j = 0; j < N-1; ++j) {\n                s[j] = rev(s[j+1]);\n            }\n        }\n        if (K > 0) {\n            --K;\n            s[0] = 'B';\n        }\n    }\n    cout << K << endl;\n    if (K > 0) {\n        int slide = (K+1) / 2;\n        for (int j = 0; j + slide < N-1; ++j) {\n            s[j] = slide%2 == 0 ? s[j+slide] : rev(s[j+slide]);\n        }\n        for (int j = max(0, N-1-slide); j < N-1; ++j) {\n            s[j] = (N-1-j)%2 == 0 ? 'A' : 'B';\n        }\n        s[0] = (K % 2 == 0) ? 'B' : 'A';\n    }\n    cout << s << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst int base = 3;\nconst int mod = (int)1e9 + 7;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nint hsh = 0, rev_hsh = 0;\nmap<int, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = (hsh * 1ll * base + i + 1) % mod;\n\t\trev_hsh = (rev_hsh * 1ll * base + (i ^ 1) + 1) % mod;\n\t}\n\n\tint pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = (pwn * 1ll * base) % mod;\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\n\t\t\thsh = (hsh + (((frs_v ^ 1) + 1) * 1ll * pwn) % mod) % mod;\n\t\t\trev_hsh = (rev_hsh + ((frs_v + 1) * 1ll * pwn) % mod) % mod;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = (hsh - ((frs_v + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - (((frs_v ^ 1) + 1) * 1ll * pwn) % mod + mod) % mod;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = (hsh * 1ll * base) % mod;\n\t\t\trev_hsh = (rev_hsh * 1ll * base) % mod;\n\n\t\t\thsh = (hsh + 2) % mod;\n\t\t\trev_hsh = (rev_hsh + 1) % mod;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define rep(i,x,y) for(int i=(x);i<=(y);++i)\n#define per(i,x,y) for(int i=(x);i>=(y);--i)\nconst int N=4e5+10;\ninline bool vaild(char c){return c>='A'&&c<='B';}\ninline char gc(){char c=getchar();while(!vaild(c))c=getchar();return c;}\nint n,k,a[N],st=1,flag;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\trep(i,1,n)a[i]=gc()-'A';\n\tint i;\n\tfor(i=1;i<=k&&st<=n;++i){\n\t\tif((a[st]^flag)==0)a[st]^=1;\n\t\telse{\n\t\t\ta[n+st]=!flag;++st;\n\t\t\tflag^=1;\n\t\t}\n\t}--i;\n\tif((a[st]^flag)==0)rep(i,st,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\telse{\n\t\tif((k-i)&1)putchar('B');else putchar('A');\n\t\trep(i,st+1,st+n-1)printf(\"%c\",'A'+(flag^a[i]));\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nnamespace interesting\n{\n\tconst int N=201000;\n\tbool t0[N*2],*f;\n\tint n,k;\n\tvoid initialize()\n\t{\n\t\tstatic char tmp[N];\n\t\tscanf(\"%d%d\",&n,&k),scanf(\"%s\",tmp+1);\n\t\tfor(int i=1;i<=n;i++)t0[i]=tmp[i]=='A';\n\t\tf=t0;\n\t}\n\tbool tag;\n\tvoid work()\n\t{\n\t\tfor(tag=0;k--;)\n\t\t{\n\t\t\tif(f[1]^tag)f[1]^=1;\n\t\t\telse f++,f[n]=tag,tag^=1;\n\n\t\t\tif(f-t0>n && f[1]!=f[2])return;\n\t\t}\n\t}\n\tvoid solve()\n\t{\n\t\tinitialize();\n\t\twork();\n\t\tfor(int i=1;i<=n;i++)printf(\"%c\",f[i]^tag?'A':'B');\n\t}\n}\n\nint main()\n{\n\tinteresting::solve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,a,b) for(int i=a;i>=b;i--)\nusing namespace std;\nconst int N=1e6+5;\nint que[N],head=1,tail,n,k,cmp;\nvoid Output(int n){ rep(i,1,n) putchar(i&1?'B':'A'); } \nint main(){\n\tscanf(\"%d%d\",&n,&k); tail=n;\n\trep(i,1,n){\n\t\tchar c=getchar();\n\t\twhile(c!='A'&&c!='B') c=getchar();\n\t\tque[i]=c=='A';\n\t}\n\trep(i,1,min(k,2*n)){\n\t\tif(cmp^que[head]) que[head]^=1;\n\t\telse que[++tail]=cmp,cmp^=1,head++;\n\t}\n\tif(k<=2*n){\n\t\trep(i,head,tail) putchar((que[i]^cmp)&1?'A':'B');\n\t\treturn 0;\n\t}\n\tif(n&1){\n\t\tputchar((que[head]^cmp^((k-2*n)&1))&1?'A':'B');\n\t\tOutput(n-1);\n\t}else Output(n);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(v.empty()) break;\n    k--;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      if(!cnt &&(v.back().first^t)){\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n  }\n  //assert(!k);\n  if((k&1)&&(n&1)){\n    assert(0);\n    cout<<\"B\";\n    cnt--;\n    lst^=1;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\ndeque<char> Q;\n\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>s;\n\tFORR(c,s) Q.push_back(c);\n\t\n\tbool rev=false;\n\tFOR(i,min(K,2*N+(K%2))) {\n\t\tif((Q[0]=='A')^rev) {\n\t\t\tQ[0]='A'+'B'-Q[0];\n\t\t}\n\t\telse {\n\t\t\tQ.pop_front();\n\t\t\trev ^= 1;\n\t\t\tQ.push_back('A'+rev);\n\t\t}\n\t}\n\t\n\tFORR(r,Q) _P(\"%c\",rev?('A'+'B'-r):r);\n\t_P(\"\\n\");\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma comment(linker, \"/STACK:1024000000,1024000000\")\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <set>\n#include <map>\n#include <string>\nusing namespace std;\n#define LL long long\n#define mp make_pair\n#define fr first\n#define sc second\n#define pb push_back\n#define lc (x<<1)\n#define rc ((x<<1)|1)\nconst int N=200005;\nchar s[N];\nint a[N];\nchar cal(int x,int k){\n    x^=k%2;return x?'A':'B';\n}\nint main(){\n  //  freopen(\"in.txt\",\"r\",stdin);freopen(\"out.txt\",\"w\",stdout);\n    int i,n,k;\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for (i=1;i<=n;i++) if (s[i]=='A') a[i]=1; else a[i]=0;\n    int K=k;\n    for (i=1;i<=n;i++) {if (a[i]^((i-1)%2)) k-=2; else k--;if (k<=0) break;}\n    if (i<n||i==n&&k==-1){\n        int tp,j;\n        if (k==-1) {tp=1;printf(\"B\");} else tp=0;\n        for (j=i+1;j<=n;j++) if (a[j]^((i-tp)%2)) printf(\"A\"); else printf(\"B\");\n        tp+=n-i;\n        for (j=tp+1;j<=n;j++) if (j%2==n%2) printf(\"A\"); else printf(\"B\");\n        puts(\"\");return 0;\n    } \n    if (n%2==0){\n        for (i=1;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n        puts(\"\");return 0;\n    }\n    if (k%2==0) printf(\"A\"); else printf(\"B\");\n    for (i=2;i<=n;i++) if (i%2==1) printf(\"B\"); else printf(\"A\");\n    puts(\"\");\n    \n  //  system(\"pause\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\treverse(s+1,s+1+n);\n\tprint(s+1);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n//\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Ala be zekrellah tatmaenolgholoob ...\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define F first\n#define S second\n#define MP make_pair\nconst int maxn = 1e5+9;\nconst ll mod = 1e9+7;\n\nbool get (char c) {\n\treturn ((c == 'A') ? 1 : 0);\n}\n\nint main () {\n\tios::sync_with_stdio(false); cin.tie(0); cout.tie(0);\n\tint n, k;\n\tstring s, res;\n\tcin >> n >> k >> s;\n\tint num = 0;\n\tbool f = 0;\n\tfor (int i = 0; i < n; i++) {\n\t\tif (get(s[i]) ^ f)\n\t\t\tnum++;\n\t\tif (num == k) {\n\t\t\tres = \"B\";\n\t\t\tfor (int t = i + 1; t < n; t++)\n\t\t\t\tif (f)\n\t\t\t\t\tres += ((s[t] == 'A') ? \"B\" : \"A\");\n\t\t\t\telse\n\t\t\t\t\tres += s[t];\n\t\t\tfor (int t = 0; t < i; t++)\n\t\t\t\tres += (((i - t) % 2) ? \"A\" : \"B\");\n\t\t\tcout << res << \"\\n\";\n\t\t\treturn 0;\n\t\t}\n\t\tf = 1 - f;\n\t\tnum++;\n\t\tif (num == k) {\n\t\t\tfor (int t = i + 1; t < n; t++)\n\t\t\t\tif (f)\n\t\t\t\t\tres += ((s[t] == 'A') ? \"B\" : \"A\");\n\t\t\t\telse\n\t\t\t\t\tres += s[t];\n\t\t\tfor (int t = 0; t < i + 1; t++)\n\t\t\t\tres += (((i - t) % 2) ? \"B\" : \"A\");\n\t\t\tcout << res << \"\\n\";\n\t\t\treturn 0;\n\t\t}\n\t}\n\tif (n == 1) {\n\t\tif (k % 2)\n\t\t\tcout << ((s[0] == 'A') ? \"B\" : \"A\") << \"\\n\";\n\t\telse\n\t\t\tcout << s[0] << \"\\n\";\n\t\treturn 0;\n\t}\n\tif (n % 2 == 0) {\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcout << ((i % 2) ? \"A\" : \"B\");\n\t\tcout << \"\\n\";\n\t\treturn 0;\n\t}\n\tk -= num;\n\tif (k % 2 == 1)\n\t\tcout << \"BB\";\n\telse\n\t\tcout << \"AB\";\n\tfor (int i = 2; i < n; i++)\n\t\tcout << ((i % 2) ? \"B\" : \"A\");\n\tcout << \"\\n\";\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\n//-------------------------------------------------------\n\nint N,K;\nstring S;\nstring T;\nvoid solve() {\n\tint i,j,k,l,r,x,y; string s;\n\t\n\tcin>>N>>K>>S;\n\tint pos=0,rev=0,revn=0;\n\tFOR(i,K) {\n\t\tif(pos==N) break;\n\t\t\n\t\tif((S[pos]=='A') ^ rev ^ revn) {\n\t\t\trevn^=1;\n\t\t}\n\t\telse {\n\t\t\tpos++;\n\t\t\trevn = 0;\n\t\t\trev ^=1;\n\t\t}\n\t\t\n\t}\n\tstring R;\n\tint first=1;\n\twhile(pos<N) {\n\t\tif(rev ^ ((first==1)&&revn)) {\n\t\t\tR+='A'+'B'-S[pos];\n\t\t}\n\t\telse {\n\t\t\tR+=S[pos];\n\t\t}\n\t\tpos++;\n\t\tfirst=0;\n\t}\n\twhile(R.size()<N) {\n\t\tif((N-R.size())%2==1) R+='A';\n\t\telse R+='B';\n\t}\n\tcout<<R<<endl;\n\t\n\t\n\t\n\t/*\n\tT=S;\n\t\n\tFOR(i,100) {\n\t\tint x=0,side=0;\n\t\twhile(x>=0 && x<N) {\n\t\t\tS[x]='A'+'B'-S[x];\n\t\t\tif(side==0) {\n\t\t\t\tif(S[x]=='B') x--, side=1;\n\t\t\t\telse x++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(S[x]=='B') x++, side=0;\n\t\t\t\telse x--;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(T[0]=='A') T[0]='B';\n\t\telse {\n\t\t\tT=T.substr(1);\n\t\t\tFORR(c,T) c='A'+'B'-c;\n\t\t\tT+='A';\n\t\t}\n\t\t\n\t\t\n\t\tcout<<(i+1)<<\"\\t\"<<S<<endl;\n\t}*/\t\n\t\n\t\n}\n\n\nint main(int argc,char** argv){\n\tstring s;int i;\n\tif(argc==1) ios::sync_with_stdio(false), cin.tie(0);\n\tFOR(i,argc-1) s+=argv[i+1],s+='\\n';\n\tFOR(i,s.size()) ungetc(s[s.size()-1-i],stdin);\n\tsolve(); return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\nconst int N=2e5+5;\nint n,q;\nchar ch[N];\n\ninline int nxi(){\n\tint x=0;\n\tchar c;\n\twhile((c=getchar())>'9'||c<'0');\n\twhile(x=x*10-48+c,(c=getchar())>='0'&&c<='9');\n\treturn x;\n}\n\ntemplate <class T,size_t S> class _Que{\n\tprotected:\n\t\tT q[S];\n\t\tint hd,tl;\n\tpublic:\n\t\t_Que(){\n\t\t\thd=tl=0;\n\t\t}\n\t\tinline int front(){\n\t\t\treturn q[hd];\n\t\t}\n\t\tinline void pop_front(){\n\t\t\tif(++hd==S) hd=0;\n\t\t}\n\t\tinline void pop_back(){\n\t\t\tif(--tl==-1) tl=S-1;\n\t\t}\n\t\tinline void push_front(T x){\n\t\t\tif(--hd==-1) hd=S-1;\n\t\t\tq[hd]=x;\n\t\t}\n\t\tinline void push_back(T x){\n\t\t\tq[tl++]=x;\n\t\t\tif(tl==S) tl=0;\n\t\t}\n};\n_Que <bool,N> que;\n\ninline bool step(const bool rev){\n\tif(que.front()^rev){\n\t\tque.pop_front();\n\t\tque.push_front(0^rev);\n\t\treturn 0;\n\t}\n\telse{\n\t\tque.pop_front();\n\t\tque.push_back(rev);\n\t\treturn 1;\n\t}\n}\n\nint main(){\n\t//1:'A', 2:'B'\n\tn=nxi(),q=nxi();\n\tscanf(\"%s\",ch+1);\n\tfor(int i=1; i<=n; ++i){\n\t\tque.push_back(ch[i]=='A');\n\t}\n\tint rev=0;\n\tfor(int i=1; i<=std::min(q,n); ++i){\n\t\trev^=step(rev);\n\t}\n\tif(q>n&&(q-n)&1) rev^=step(rev);\n\tfor(int i=1; i<=n; ++i){\n\t\tputchar(que.front()^rev?'A':'B');\n\t\tque.pop_front();\n\t}\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <bits/stdc++.h>\n\n# define x first\n# define y second\n# define mp make_pair\n// everything goes according to my plan\n# define pb push_back\n# define sz(a) (int)(a.size())\n# define vec vector\n// shimkenttin kyzdary, dzyn, dzyn, dzyn...\n# define y1    Y_U_NO_y1\n# define left  Y_U_NO_left\n# define right Y_U_NO_right\n\n# ifdef Local\n# define debug(...) _dbg(#__VA_ARGS__, __VA_ARGS__)\n# else\n# define debug(...) (__VA_ARGS__)\n# define cerr if(0)cout\n# endif\n\nusing namespace std;\n\ntypedef pair <int, int> pii;\ntypedef long long ll;\ntypedef long double ld;\n\nconst int Mod = (int)1e9 + 7;\nconst int MX = 1073741822;\nconst ll MXLL = 4e18;\nconst int Sz = 1110111;\n// a pinch of soul\ninline void Read_rap () {\n  ios_base :: sync_with_stdio(0);\n  cin.tie(0); cout.tie(0);\n}\ninline void randomizer3000 () {\n  unsigned int seed;\n  asm (\"rdtsc\" : \"=A\"(seed));\n  srand (seed);\n}\nvoid files (string problem) {\n  if (fopen ((problem + \".in\").c_str(),\"r\")) {\n    freopen ((problem + \".in\").c_str(),\"r\",stdin);\n    freopen ((problem + \".out\").c_str(),\"w\",stdout);\n  }\n}\nvoid localInput(const char in[] = \"s\") {\n  if (fopen (in, \"r\")) {\n    freopen (in, \"r\", stdin);\n  }\n  else\n    cerr << \"Warning: Input file not found\" << endl;\n}\n\n\nint main()\n{\n  # ifdef Local\n    //localInput();\n  # endif\n  Read_rap();\n\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  int x = min (k, 2);\n  for (int i = 0; i < k; i++) {\n      if (s[0] == 'A') {\n          s[0] = 'B';\n          continue;\n      }\n      bool ok = 1;\n      for (int i = n-1; i >= 0; i -= 2) {\n          if (s[i] == 'A' && s[i - 1] == 'B')\n              ok = 1;\n          else {\n              ok = 0;\n              break;\n          }\n      }\n      if (ok)\n      {\n          k -= i;\n          if (k & 1)\n              s[0] = (s[0] == 'A' ? 'B' : 'A');\n          cout << s;\n          return 0;\n      }\n      for (int i = 0; i < n; i++) {\n\n          if (s[i] == 'B' && (i + 1 == n || s[i + 1] == 'B'))\n              s[i] = 'A';\n          else\n          if (s[i] == 'A' && i + 1 < n &&  s[i + 1] == 'A')\n              s[i] = 'B';\n      }\n//      if (i <= 10)\n//          cout << s << endl;\n  }\n  cout << s;\n  return 0;\n}\n\n\n\n\n\n\n// Coded by Z.."
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\nusing namespace std;\nint n,m,ptr=1;\nchar s[200005],t[200005];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&m,s+1);s[n+1]=s[1];s[n+2]=s[2];\n\twhile(true) {\n\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=3;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=4;\n\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=4;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m-=2;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m-=3;\n\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m-=3;\n\t\tptr+=2;\n\t\tif(m<0) {\n\t\t\tptr-=2;\n\t\t\tif(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=3;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=4;\n\t\t\telse if(s[ptr]=='A'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=4;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='A') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='A'&&s[ptr+2]=='B') m+=2;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='A') m+=3;\n\t\t\telse if(s[ptr]=='B'&&s[ptr+1]=='B'&&s[ptr+2]=='B') m+=3;\n\t\t\tfor(int i=ptr;i<=n;++i) t[i-ptr+1]=s[i];\n\t\t\tfor(int i=n;i>n-ptr+1;--i) t[i]=((n-i)&1)+'A';\n\t\t\twhile(m--) {\n\t\t\t\tint now=1,flag=1;\n\t\t\t\twhile(now>0&&now<=n) {\n\t\t\t\t\tif(t[now]=='A') {t[now]='B';flag=-flag;now=now+flag;}\n\t\t\t\t\telse  {t[now]='A';now=now+flag;}\n\t\t\t\t}\n\t\t\t}\n\t\t\tprintf(\"%s\",t+1);return 0;\n\t\t}\n\t\tif(ptr>n) break;\n\t}\n\tif(s[ptr]=='A'&&(n&1)) {putchar((m&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse if(s[ptr]=='B'&&(n&1)) {putchar(((m+1)&1)+'A');for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');}\n\telse for(int i=1;i<=n/2;++i) putchar('B'),putchar('A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nvoid move(vc &s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn;\n\t}\n\trep(i, s.size()) {\n\t\tif (i == s.size() - 1)s[i] = 'A';\n\t\telse {\n\t\t\tif (s[i + 1] == 'A')s[i] = 'B';\n\t\t\telse s[i] = 'A';\n\t\t}\n\t}\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == 'A') {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tprintf(\"%s\\n\", string(s.begin(), s.end()).c_str());\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 2e5 + 5;\nchar s[N];\nint n, k;\n\nint main() {\n    scanf(\"%d%d\", &n, &k);\n    scanf(\"%s\", s);\n    deque<bool> dque(n);\n    for (int i=0; i<n; ++i) dque[i] = s[i] == 'B';\n    if (k > n) k = n+(k&1);\n    bool flip = false;\n    for (int i=1; i<=k; ++i) {\n        if (dque[0] == flip) {\n            dque[0] = !dque[0];\n        } else {\n            dque.pop_front();\n            dque.push_back(!flip);\n            flip = !flip;\n        }\n    }\n    for (int i=0; i<n; ++i) {\n        putchar(dque.front() == flip ? 'A' : 'B');\n        dque.pop_front();\n    }\n    puts(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#pragma GCC diagnostic ignored \"-Wsign-compare\"\n#pragma GCC diagnostic ignored \"-Wsign-conversion\"\n#define NDEBUG\n#define SHOW(...) static_cast<void>(0)\n//!===========================================================!//\n//!  dP     dP                          dP                    !//\n//!  88     88                          88                    !//\n//!  88aaaaa88a .d8888b. .d8888b. .d888b88 .d8888b. 88d888b.  !//\n//!  88     88  88ooood8 88'  '88 88'  '88 88ooood8 88'  '88  !//\n//!  88     88  88.  ... 88.  .88 88.  .88 88.  ... 88        !//\n//!  dP     dP  '88888P' '88888P8 '88888P8 '88888P' dP        !//\n//!===========================================================!//\ntemplate <typename T, typename A>\nstd::istream& operator>>(std::istream& is, std::vector<T, A>& v)\n{\n    for (auto& e : v) { is >> e; }\n    return is;\n}\ntemplate <typename T>\nT read()\n{\n    T v;\n    return std::cin >> v, v;\n}\ntemplate <typename T>\nstd::vector<T> readVec(const std::size_t l)\n{\n    std::vector<T> v(l);\n    for (auto& e : v) { std::cin >> e; }\n    return v;\n}\nusing ld = long double;\nusing uint = unsigned int;\nusing ll = long long;\nusing ull = unsigned long long;\nconstexpr unsigned int MOD = 1000000007;\ntemplate <typename T>\nconstexpr T INF = std::numeric_limits<T>::max() / 4;\ntemplate <typename F>\nconstexpr F PI = static_cast<F>(3.1415926535897932385);\nstd::mt19937 mt{std::random_device{}()};\ntemplate <typename T>\nbool chmin(T& a, const T& b) { return a = std::min(a, b), a == b; }\ntemplate <typename T>\nbool chmax(T& a, const T& b) { return a = std::max(a, b), a == b; }\ntemplate <typename T>\nstd::vector<T> Vec(const std::size_t n, T v) { return std::vector<T>(n, v); }\ntemplate <class... Args>\nauto Vec(const std::size_t n, Args... args) { return std::vector<decltype(Vec(args...))>(n, Vec(args...)); }\ntemplate <typename T>\nconstexpr T popCount(const T u)\n{\n#ifdef __has_builtin\n    return u == 0 ? T(0) : (T)__builtin_popcountll(u);\n#else\n    unsigned long long v = static_cast<unsigned long long>(u);\n    return v = (v & 0x5555555555555555ULL) + (v >> 1 & 0x5555555555555555ULL), v = (v & 0x3333333333333333ULL) + (v >> 2 & 0x3333333333333333ULL), v = (v + (v >> 4)) & 0x0F0F0F0F0F0F0F0FULL, static_cast<T>(v * 0x0101010101010101ULL >> 56 & 0x7f);\n#endif\n}\ntemplate <typename T>\nconstexpr T log2p1(const T u)\n{\n#ifdef __has_builtin\n    return u == 0 ? T(0) : T(64 - __builtin_clzll(u));\n#else\n    unsigned long long v = static_cast<unsigned long long>(u);\n    return v = static_cast<unsigned long long>(v), v |= (v >> 1), v |= (v >> 2), v |= (v >> 4), v |= (v >> 8), v |= (v >> 16), v |= (v >> 32), popCount(v);\n#endif\n}\ntemplate <typename T>\nconstexpr T clog(const T v) { return v == 0 ? T(0) : log2p1(v - 1); }\ntemplate <typename T>\nconstexpr T msbp1(const T v) { return log2p1(v); }\ntemplate <typename T>\nconstexpr T lsbp1(const T v)\n{\n#ifdef __has_builtin\n    return __builtin_ffsll(v);\n#else\n    return v == 0 ? T(0) : popCount((v & (-v)) - T(1)) + T(1);\n#endif\n}\ntemplate <typename T>\nconstexpr bool ispow2(const T v) { return popCount(v) == 1; }\ntemplate <typename T>\nconstexpr T ceil2(const T v) { return v == 0 ? T(1) : T(1) << log2p1(v - 1); }\ntemplate <typename T>\nconstexpr T floor2(const T v) { return v == 0 ? T(0) : T(1) << (log2p1(v) - 1); }\n//!============================================!//\n//!    8888ba.88ba             oo              !//\n//!    88  '8b  '8b                            !//\n//!    88   88   88  .d8888b.  dP  88d888b.    !//\n//!    88   88   88  88'  '88  88  88'  '88    !//\n//!    88   88   88  88.  .88  88  88    88    !//\n//!    dP   dP   dP  '88888P8  dP  dP    dP    !//\n//!============================================!//\nint main()\n{\n    const auto N = read<int>(), K = read<int>();\n    auto S = read<std::string>();\n    for (char& c : S) { c = (c == 'A' ? 0 : 1); }\n    int head = 0;\n    bool rev = false;\n    auto f = [&]() {\n        if (S[head] ^ rev) {\n            (head += 1) %= N, rev = not rev;\n        } else {\n            S[head] ^= 1;\n        }\n    };\n    const int M = std::min(N * 10, K);\n    for (int i = 0; i < M; i++) { f(); }\n    if (K > M and N % 2 == 1) { S[head] ^= ((K - M) % 2); }\n    std::string T(N, 'A');\n    for (int i = 0; i < N; i++) { T[i] = (S[(i + head) % N] ^ rev ? 'B' : 'A'); }\n    std::cout << T << std::endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i, l, r) for(int i = (l), i##end = (r);i <= i##end;++i)\nusing std::cin; using std::cout;\nconst int maxn = 200200;\nint n, k, neg;\nstd::deque<bool> q;\nint main() {\n\tstd::ios::sync_with_stdio(false), cin.tie(0), cout.tie(0);\n\tcin >> n >> k;\n\tif(k > n + n) k = k % (n + n) + n + n;\n\trep(i, 1, n) {\n\t\tchar ch; cin >> ch;\n\t\tq.emplace_back(ch & 1);\n\t}\n\trep(i, 1, k) {\n\t\tif(q.front() ^ neg)\n\t\t\tq.front() ^= 1;\n\t\telse\n\t\t\tq.emplace_back(q.front()), q.pop_front(), neg ^= 1;\n\t}\n\tfor(auto i : q) cout.put(\"BA\"[i ^ neg]);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nconst int N = 200054;\n\nint n, K;\nchar s[N], t[N];\n\ninline int get(int i) {return (i < n ? (int)s[i] : (i ^ n)) & 1;}\n\nint main() {\n\tint i, j, c;\n\tscanf(\"%d%d%s\", &n, &K, s);\n\tfor (i = 0; i < n && K; ++i) {\n\t\tc = 1 + ((i ^ (int)s[i]) & 1);\n\t\tif (K >= c) K -= c;\n\t\telse break;\n\t}\n\tif (i == n && K) c = 1 + (n & 1), i += K / c, K %= c;\n\tfor (j = 0; j < n; ++j) t[j] = get(i + j);\n\tfor (*t ^= K, j = 0; j < n; ++j) t[j] = (i & 1 ? 65 + t[j] : 66 - t[j]);\n\treturn puts(t), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nconst int N=200005;\n\nint n,K;\nchar s[N];\nbitset<N> V;\n\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)V[i]=s[i]=='A';\n\tfor(int i=1;i<=min(K,2*n);i++){\n\t\tif(V[1]==1)V[1]=0;\n\t\telse V=~(V>>1),V[n]=1;\n\t}\n\tif(2*n<=K&&(n&1))if(K&1)V[1]=!V[1];\n\tfor(int i=1;i<=n;i++)if(V[i])putchar('A');else putchar('B');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long   signed int LL;\ntypedef long long unsigned int LU;\n\n#define incID(i, l, r) for(int i = (l)    ; i <  (r); i++)\n#define incII(i, l, r) for(int i = (l)    ; i <= (r); i++)\n#define decID(i, l, r) for(int i = (r) - 1; i >= (l); i--)\n#define decII(i, l, r) for(int i = (r)    ; i >= (l); i--)\n#define  inc(i, n) incID(i, 0, n)\n#define inc1(i, n) incII(i, 1, n)\n#define  dec(i, n) decID(i, 0, n)\n#define dec1(i, n) decII(i, 1, n)\n\n#define inII(v, l, r) ((l) <= (v) && (v) <= (r))\n#define inID(v, l, r) ((l) <= (v) && (v) <  (r))\n\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define UB upper_bound\n#define LB lower_bound\n#define PQ priority_queue\n\n#define  ALL(v)  v.begin(),  v.end()\n#define RALL(v) v.rbegin(), v.rend()\n#define  FOR(it, v) for(auto it =  v.begin(); it !=  v.end(); ++it)\n#define RFOR(it, v) for(auto it = v.rbegin(); it != v.rend(); ++it)\n\ntemplate<typename T> bool   setmin(T & a, T b) { if(b <  a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool   setmax(T & a, T b) { if(b >  a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool setmineq(T & a, T b) { if(b <= a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool setmaxeq(T & a, T b) { if(b >= a) { a = b; return true; } else { return false; } }\ntemplate<typename T> T gcd(T a, T b) { return (b == 0 ? a : gcd(b, a % b)); }\ntemplate<typename T> T lcm(T a, T b) { return a / gcd(a, b) * b; }\n\n// ---- ----\n\nint n, k;\nstring s;\n\n\nchar d(char c) { return (c == 'A' ? '.' : 'B'); }\n\nvoid print1(string str) {\n\tcout << d(str[0]) << d(str[1]) << \" \";\n\t//if(str[0] == 'A') { cout << endl; return; }\n\t\n\tchar p = '@';\n\tint num = 0;\n\tincID(i, 1, n) {\n\t\tint j = i;\n\t\twhile(str[i] == str[j]) { j++; }\n\t\t\n\t\t// inc(k, j - i) { cout << d(str[i]); }\n\t\tinc(k, j - i) {\n\t\t\tif(k == 0) { cout << j - i; } else { }// cout << '-'; }\n\t\t}\n\t\t\n\t\ti = j - 1;\n\t}\n\tcout << endl;\n}\n\nvoid print2(string str) {\n\t// if(str[0] == 'A') { return; }\n\tinc(i, n) { cout << d(str[i]); } cout << endl;\n}\n\nvoid print(string str) { print2(str); }\n\n\n\nint main() {\n\tcin >> n >> k >> s;\n\t\n\tstring t = s;\n\t n = s.size();///////\n\t\n\tif(n == 1) { cout << (k % 2 == 0 ? \"B\" : \"A\") << endl; return 0; }\n\tif(k == 0) { cout << s << endl; return 0; }\n\t\n\t// dec(i, n) { if(s[i] == 'B') { s[i] = 'A'; } else { break; } }\n\t\n\ts += '#';\n\tdeque<int> deq;\n\tincID(i, 1, n) {\n\t\tint j = i;\n\t\twhile(s[i] == s[j]) { j++; }\n\t\tdeq.PB(j - i);\n\t\t\n\t\ti = j - 1;\n\t}\n\t\n\tconst int AA = 0, AB = 1, BA = 2, BB = 3;\n\tint v;\n\tif(s[0] == 'A' && s[1] == 'A') { v = AA; }\n\tif(s[0] == 'A' && s[1] == 'B') { v = AB; }\n\tif(s[0] == 'B' && s[1] == 'A') { v = BA; }\n\tif(s[0] == 'B' && s[1] == 'B') { v = BB; }\n\t\n\tint pc = 0;\n\tinc(i, k) {\n\t\t/*\n\t\tif(v == AA || v == AB) { cout << \".\"; }\n\t\tif(v == BA || v == BB) { cout << \"B\"; }\n\t\tchar p;\n\t\tif(v == AA || v == BA) { p = '.'; } else { p = 'B'; }\n\t\tinc(i, deq.size()) {\n\t\t\tinc(j, deq[i]) { cout << p; }\n\t\t\tp = (p == '.' ? 'B' : '.');\n\t\t}\n\t\tcout << endl;\n\t\t*/\n\t\t\n\t\t\n\t\tif(v == AA) { v = BA; continue; }\n\t\tif(v == AB) { v = BB; continue; }\n\t\t\n\t\tif(n <= pc) {\n\t\t\tif((k - i) % 2 != 0) {\n\t\t\t\tv = (v == BA ? AA : AB);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdeq[0]--;\n\t\tif(s[n - 1] == 'B') {\n\t\t\tdeq[deq.size() - 1]++;\n\t\t\ts[n - 1] = 'A';\n\t\t} else { deq.PB(1); }\n\t\tpc++;\n\t\tif(deq[0] == 0) {\n\t\t\tdeq.pop_front();\n\t\t\tv = (v == BA ? BA : AB);\n\t\t} else {\n\t\t\tv = (v == BA ? BB : AA);\n\t\t}\n\t}\n\t\n\tif(v == AA || v == AB) { cout << \"A\"; }\n\tif(v == BA || v == BB) { cout << \"B\"; }\n\t\n\tchar p;\n\tif(v == AA || v == BA) { p = 'A'; } else { p = 'B'; }\n\tinc(i, deq.size()) {\n\t\tinc(j, deq[i]) { cout << p; }\n\t\tp = (p == 'A' ? 'B' : 'A');\n\t}\n\tcout << endl;\n\t\n\t/*\n\ts = t;\n\ts += \"Z\";\n\tcout << endl;\n\tinc(i, k) {\n\t\tprint(s);\n\t\t\n\t\tint p = 0, v = 1;\n\t\twhile(inID(p, 0, n)) {\n\t\t\tif(s[p] == 'A') { s[p] = 'B'; v *= -1; p += v; }\n\t\t\telse            { s[p] = 'A'; v *= +1; p += v; }\n\t\t}\n\t}\n\t\n\tprint(s);\n\t*/\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cmath>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n\tint n,k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tvector<int> v(n),a(n);\n\tfor(int i=0;i<n;i++){\n\t\tv[i] = s[i]-'A';\n\t}\n\ta[0]=0;\n\tif(v[0]==1)a[1]=1;\n\telse a[1]=2;\n\tfor(int i=2;i<n;i++){\n\t\tif(((v[i-1]+i-1)%2)==0){\n\t\t\ta[i]= a[i-1]+2;\n\t\t}else{\n\t\t\ta[i]= a[i-1]+1;\n\t\t}\n\t}\n\tint x=0;\n\tfor(int i=1;i<n;i++){\n\t\tif(k<a[i]){\n\t\t\tx=i-1;\n\t\t\tbreak;\n\t\t}\n\t\tif(i==(n-1)){\n\t\t\tx=n-1;\n\t\t}\n\t}\n\tif(x!=(n-1)){\n\t\tfor(int i=0;i<(n-x);i++){\n\t\t\tv[i] = (v[i+x]+x)%2;\n\t\t}\n\t\tfor(int i=n-x;i<n;i++){\n\t\t\tv[i] = (n-1-i)%2;\n\t\t}\n\t\tif((k-a[x])!=0){\n\t\t\tv[0] +=1;\n\t\t}\n\t}else{\n\t\tv[0]= (v[n-1]+n-1)%2;\n\t\tfor(int i=1;i<n;i++){\n\t\t\tv[i] = (n-1-i)%2;\n\t\t}\n\t\tif((k-a[n-1])%2!=0){\n\t\t\tif(v[0]==1&&n%2!=0)v[0]=0;\n\t\t\telse v[0]=1;\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif(v[i]==1)cout << \"B\";\n\t\telse cout << \"A\";\n\t}\n\tcout << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false, finflip = false;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ ss[idx]){\n            ss[idx] = !ss[idx];\n        }else{\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }\n        // if(i % 10000000 == 0 && clk.now() - start > 1900ms){\n        if(i % 100000000 == 0){\n            // break;\n            bool fin = true, prev = !ss[idx];\n            for(int i=0;i<n;i++){\n                if(prev == ss[(idx + i) % n]){\n                    fin = false;\n                    break;\n                }else{\n                    prev = !prev;\n                }\n            }\n            if(fin){\n                if(n % 2 && (k - i - 1) % 2){\n                    finflip = true;\n                }\n                break;\n            }\n        }\n    }\n    for(int i=0;i<n-1;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << (finflip ^ flip ^ ss[(idx + n - 1) % n] ? 'A' : 'B');\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define SF scanf\n#define PF printf\n#define MAXN 200010\nusing namespace std;\nint n,k,las,tims;\nchar s[MAXN],p[MAXN];\nint main(){\n\tSF(\"%d%d\",&n,&k);\t\n\tSF(\"%s\",s+1);\n\tfor(int i=1;i<=n;i++)\n\t\ts[i]='B'-s[i];\n\tlas=n;\n\tfor(int i=1;i<=min(2*n,k);i++){\n\t\tif((s[tims+1]^(tims%2))==1){\n\t\t\ts[tims+1]^=1;\n\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(las-tims==0&&n%2==1){\n\t\t\t\ts[tims+1]^=1;\n\t\t\t\tcontinue;\t\n\t\t\t}\n\t\t}\n\t\tint add=(las-tims>=1);\n\t\ttims+=add;\n\t\twhile(las-tims>=n%2+1&&(s[las]^(tims%2))==(n+tims-las+1)%2)\n\t\t\tlas--;\n\t//PF(\"[%d]\",las);\n\t}\n\t//PF(\"[%d %d]\",las,tims);\n\tfor(int i=1;i<=max(1,las-tims);i++)\n\t\tp[i]='B'-(s[i+tims]^(tims%2));\n\tfor(int i=max(2,las-tims+1);i<=n;i++)\n\t\tp[i]='B'-(n-i+1)%2;\n\tif(k>=2*n){\n\t\tint t=(k-2*n)%2;\t\n\t\tif(n%2==1&&t%2==1)\n\t\t\tp[1]='B'-p[1];\n\t\tfor(int i=2;i<=n;i++)\n\t\t\tp[i]='B'-(n-i+1)%2;\n\t}\n\tPF(\"%s\",p+1);\n}"
  },
  {
    "language": "C++",
    "code": "// AtCoder Grand Contest 011\n// D - Half Reflector\n\n#include <cstdio>\n#define MAX_N 200000\nusing namespace std;\ntypedef long long int ll;\n\n\nint N;\nll K;\nchar ans[MAX_N + 1];\n\nint main() {\n\n  char c;\n  int inv;\n\n  scanf(\"%d%lld\", &N, &K);\n  scanf(\"%*c\");\n  ans[N + 1] = '\\0';\n\n  inv = 0;\n  int j = 0;\n  for (int i = 0; i < N; i++) {\n    scanf(\"%c\", &c);\n    if ((c - 'A' + i) % 2 == 0) {\n      inv++;\n    }\n    if ((ll)inv + i >= K) {\n      ans[j] = ((c - 'A') + (i - j)) % 2 + 'A';\n      if (j == 0 && K == (ll)inv + i) {\n        ans[j] = 'B';\n      }\n      j++;\n    }\n  }\n  if (j == 0) {\n    ans[0] = (inv + K + 1) % 2 + 'A';\n    j++;\n  }\n  for (; j < N; j++) {\n    ans[j] = (N - j + 1) % 2 + 'A';\n  }\n  printf(\"%s\\n\", ans);\n\n  return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\n#include<set>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<functional>\n#include<map>\n#include<iomanip>\n#include<limits>\n#include<unordered_set>\n#include<cmath>\n#include <numeric>\n#include <array>\n#include <complex>\nusing namespace std;\n//long long p = 998244353;\nlong long p = 1000000007;\n#define int long long\n#define ll long long\n#define vel vector<ll>\n#define vvel vector<vel>\n#define rep(i,n) for(int i=0;i<n;i++)\n#define sor(v) sort(v.begin(),v.end())\n#define mmax(a,b) a=max(a,b)\n#define mmin(a,b) a=min(a,b)\n#define mkp make_pair\n#define pin pair<int,int>\n#define qin pair<pin,int>\n#define V vector\n#define Endl endl\n#define veb vector<bool>\n#define fcout cout << fixed << setprecision(15)\n#define rev(s) reverse(s.begin(),s.end())\n#define lower(h,val) lower_bound(h.begin(),h.end(),val)-h.begin()\n#define upper(h,val) upper_bound(h.begin(),h.end(),val)-h.begin()\nvel kai;\nvel inv_kai;\nint rui(int a, int n, int mod) {\n\tif (n == 0) { return 1 % mod; }\n\tint x = rui(a, n / 2, mod);\n\tx *= x; x %= mod;\n\tif (n % 2 == 1) { x *= a; x %= mod; }\n\treturn x;\n}\nint root(int x, vel& pa) {\n\tif (pa[x] == -1) { return x; }\n\tint ans = root(pa[x], pa); pa[x] = ans;\n\treturn ans;\n}\nbool mar(int x, int y, vel& pa) {\n\tx = root(x, pa);\n\ty = root(y, pa);\n\tif (x != y) { pa[x] = y; }\n\treturn (x != y);\n}\nint gcd(int x, int y) {\n\tif (x < y) { return gcd(y, x); }\n\tif (y == 0) { return x; }\n\treturn gcd(y, x % y);\n}\nint lcm(ll x, ll y) {\n\tx = abs(x); y = abs(y);\n\treturn x * y / gcd(x, y);\n}\nlong long modinv(long long a, long long m) {\n\tlong long b = m, u = 1, v = 0;\n\twhile (b) {\n\t\tlong long t = a / b;\n\t\ta -= t * b; swap(a, b);\n\t\tu -= t * v; swap(u, v);\n\t}\n\tu %= m;\n\tif (u < 0) u += m;\n\treturn u;\n}\nvoid make_kai(int max_kai) {\n\tkai = vel(max_kai, 1);\n\tinv_kai = kai;\n\trep(i, max_kai - 1) {\n\t\tkai[i + 1] = kai[i] * (i + 1); kai[i + 1] %= p;\n\t\tinv_kai[i + 1] = modinv(kai[i + 1], p);\n\t}\n}\nint com(int n, int r) {\n\tif ((n < 0) || (r < 0) || (r > n)) { return 0; }\n\tint ans = (kai[n] * inv_kai[r]) % p;\n\treturn (ans * inv_kai[n - r]) % p;\n}\nvel uni(vel x) {\n\tif (x.size() == 0) { return x; }\n\tsor(x);\n\tint n = x.size();\n\tvel ans(1, x[0]);\n\tfor (int j = 1; j < n; j++) {\n\t\tif (x[j - 1] != x[j]) { ans.push_back(x[j]); }\n\t}\n\tx = ans;\n\treturn x;\n}\nvoid pr(vel& v) {\n\tint n = v.size();\n\tif (n != 0) {\n\t\tcout << v[0];\n\t\trep(i, n - 1) {\n\t\t\tcout << \" \" << v[i + 1];\n\t\t}\n\t\tcout << endl;\n\t}\n}\nvel dijk(V<V<pin>>& way, int st, int inf) {\n\tint n = way.size();\n\tvel dist(n, inf); dist[st] = 0;\n\tpriority_queue<pin, vector<pin>, greater<pin>> pq;\n\tpq.push(mkp(0, st));\n\tveb is_checked(n, false);\n\twhile (!pq.empty()) {\n\t\tpin x = pq.top(); pq.pop();\n\t\tint pot = x.second;\n\t\tif (!is_checked[pot]) {\n\t\t\tis_checked[pot] = true;\n\t\t\tfor (auto y : way[pot]) {\n\t\t\t\tint nex_dist = x.first + y.second;\n\t\t\t\tint nex_pot = y.first;\n\t\t\t\tif (dist[nex_pot] > nex_dist) {\n\t\t\t\t\tdist[nex_pot] = nex_dist;\n\t\t\t\t\tpq.push(mkp(nex_dist, y.first));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dist;\n}\nvel mul(vel& a, vel& b) {\n\tint n = a.size();\n\tint m = b.size();\n\tvel ans(n + m - 1, 0);\n\trep(i, n) {\n\t\trep(j, m) {\n\t\t\tans[i + j] += a[i] * b[j];\n\t\t\tans[i + j] %= p;\n\t\t}\n\t}\n\treturn ans;\n}\nvel rui_p(vel& a, int n) {\n\tif (n == 0) { return { 1 }; }\n\tvel qans = rui_p(a, n / 2);\n\tqans = mul(qans, qans);\n\tif (n % 2 == 1) {\n\t\tqans = mul(qans, a);\n\t}\n\treturn qans;\n}\nbool is_prime(int n) {\n\tif (n == 0 || n == 1) { return false; }\n\tfor (int i = 2; i * i <= n; i++) {\n\t\tif (n % i == 0) { return false; }\n\t}\n\treturn true;\n}\n#define bs bitset<50>\nvoid per(int& ans) {\n\tans %= p;\n\tif (ans < 0) { ans += p; }\n}\nint count_zero(V<bs>& a) {\n\tint n = a.size();\n\tint now_st = 0;\n\trep(i, 300) {\n\n\t\tint fir_ze = -1;\n\t\tfor (int j = now_st; j < n; j++) {\n\t\t\tif (a[j][i]) { fir_ze = j; break; }\n\t\t}\n\t\tif (fir_ze >= 0) {\n\t\t\trep(j, n) {\n\t\t\t\tif (j != fir_ze && a[j][i]) {\n\t\t\t\t\ta[j] = a[fir_ze] xor a[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(a[now_st], a[fir_ze]);\n\t\t\tnow_st++;\n\t\t}\n\t}\n\tint ans = 0;\n\trep(i, n) {\n\t\tbool fl = true;\n\t\trep(j, 300) {\n\t\t\tif (a[i][j]) { fl = false; break; }\n\t\t}\n\t\tif (fl) { ans++; }\n\t}\n\treturn ans;\n}\n#define upperbound(v,val) upper_bound(v.begin(),v.end(),val)-v.begin();\n#define lowerbound(v,val) lower_bound(v.begin(),v.end(),val)-v.begin();\n#define mat V<V<pin>>\nint inf = 10000;\nint linf = 10000;\npin p_mul(pin a, pin b) {\n\tpin c = mkp(max(b.first, a.first + b.second), a.second + b.second);\n\treturn c;\n}\nmat m_mul(mat& a, mat& b) {\n\tint n = a.size();\n\tmat c(n, V<pin>(n, mkp(-inf, -inf)));\n\tint ze = 0;\n\trep(i, n) {\n\t\trep(j, n) {\n\t\t\trep(k, n) {\n\t\t\t\tif (a[i][j].second > -linf && b[j][k].second > -linf) {\n\t\t\t\t\tpin x = p_mul(a[i][j], b[j][k]);\n\t\t\t\t\tmmax(c[i][k].first, x.first);\n\t\t\t\t\tmmax(c[i][k].second, x.second);\n\t\t\t\t\tmmax(c[i][k].first, ze);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\nmat solve(mat& way, int k) {\n\tif (k == 1) { return way; }\n\tmat ans = solve(way, k / 2);\n\tans = m_mul(ans, ans);\n\tif (k % 2 == 1) { ans = m_mul(ans, way); }\n\treturn ans;\n}vvel disj_min(vel& v) {\n\tint n = v.size();\n\tvvel ret(22, vel(n));\n\tret[0] = v;\n\trep(i, 21) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = min(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nvvel disj_max(vel& v) {\n\tint n = v.size();\n\tvvel ret(20, vel(n));\n\tret[0] = v;\n\trep(i, 19) {\n\t\trep(j, n) {\n\t\t\tint nex = j + (1 << i);\n\t\t\tif (nex < n) {\n\t\t\t\tret[i + 1][j] = max(ret[i][j], ret[i][nex]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tret[i + 1][j] = ret[i][j];\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\nint find_min(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn min(dv[i][l], dv[i][r - (1 << i)]);\n}\nint find_max(vvel& dv, int l, int r) {\n\tint i = 19;\n\twhile (l + (1 << i) > r) {\n\t\ti--;\n\t}\n\treturn max(dv[i][l], dv[i][r - (1 << i)]);\n}\nvoid pri(int x, int y, int z, int w) {\n\tcout << x << \",\" << 500 << \",\" << 60 << \",\" << 60 << \",\";\n\tcout << y << \",\" << 500 << \",\" << 60 << \",\" << 60;\n\trep(i, 5) {\n\t\tif (i != z) { cout << \",\" << 0; }\n\t\telse { cout << \",\" << w; }\n\t}\n\tcout << endl;\n}\nsigned main() {\n\tint n, k; cin >> n >> k;\n\tstring s; cin >> s;\n\tif (n == 1) {\n\t\tif ((k % 2 == 1) xor (s[0] == 'A')) { cout << 'A' << endl; }\n\t\telse { cout << 'B' << endl; }\n\t\treturn 0;\n\t}\n\tdeque<char> deq;\n\trep(i, n) {\n\t\tdeq.push_back(s[i]);\n\t}\n\tint loop = 0; bool trick = false;\n\twhile (loop <= n + 10 && k > 0) {\n\t\tloop++; 'A';\n\t\tchar c = deq.front(); deq.pop_front();\n\t\tif (c == 'A') {\n\t\t\tdeq.push_front('B'); k--; continue;\n\t\t}\n\t\tif (k == 1) {\n\t\t\tdeq.push_back('B'); trick = true; k = 0; break;\n\t\t}\n\t\tc = deq.front(); deq.pop_front();\n\t\tif (c == 'A') { k++; }\n\t\telse if (k == 2) { deq.push_front('A'); deq.push_back('B'); trick = true; k = 0; break; }\n\t\tk -= 3;\n\t\tdeq.push_back('B');\n\t\tdeq.push_back('A');\n\t}\n\tif (k <= 0) {\n\t\twhile (!deq.empty()) {\n\t\t\tchar c = deq.front(); deq.pop_front();\n\t\t\tif (trick xor (c == 'A')) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t}\n\t\tcout << endl;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\trep(i, n) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tint x = k % 2;\n\t\t\tif (x % 2 == 0) { cout << 'A'; }\n\t\t\telse { cout << 'B'; }\n\t\t\trep(i, n - 1) {\n\t\t\t\tif (i % 2 == 0) { cout << 'B'; }\n\t\t\t\telse { cout << 'A'; }\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define LL long long\n#define LD long double\n#define SC(t,x) static_cast<t>(x)\n#define AR(t) vector < t >\n#define PII pair < int, int >\n#define PLL pair < LL, LL >\n#define PIL pair < int, LL >\n#define PLI pair < LL, int >\n#define MP make_pair\n#define PB push_back\n#define PF push_front\n#define POB pop_back\n#define POF pop_front\n#define PRF first\n#define PRS second\n#define INIT(ar,val) memset ( ar, val, sizeof ( ar ) )\n#define lp(loop,start,end) for ( int loop = start; loop < end; ++loop )\n#define lpd(loop,start,end) for ( int loop = start; loop > end; --loop )\n#define lpi(loop,start,end) for ( int loop = start; loop <= end; ++loop )\n#define lpdi(loop,start,end) for ( int loop = start; loop >= end; --loop )\n#define qmax(a,b) (((a)>(b))?(a):(b))\n#define qmin(a,b) (((a)<(b))?(a):(b))\n#define qabs(a) (((a)>=0)?(a):(-(a)))\n\nconst int INF = 0x3fffffff;\nconst int SINF = 0x7fffffff;\nconst long long LINF = 0x3fffffffffffffff;\nconst long long SLINF = 0x7fffffffffffffff;\nconst int MAXN = 1000007;\n\nint n, K, ki, kc;\nchar s[MAXN];\nint a[MAXN];\nchar ans[MAXN];\n\nvoid init ();\nvoid input ();\nvoid work ();\n\nvoid fill ( int l, int r )\n{\n\tlpi ( i, l, r ) ans[i] = 'B';\n}\n\n\n\nint main()\n{\n\tinit();\n\tinput();\n\twork();\n}\n\n\n\nvoid init ()\n{\n\t// Init Everything Here\n\t\n\tios::sync_with_stdio ( false );\n}\n\nvoid input ()\n{\n\t// input method\n\t\n\tscanf ( \"%d%d%s\", &n, &K, s+1 );\n}\n\nvoid work ()\n{\n\t// main work\n\t\n\tn = strlen ( s+1 );\n\tki = 0;\n\tint cbl = -1;\n\tlpi ( i, 1, n ){\n\t\tif ( s[i] == 'B' ){\n\t\t\tif ( cbl == -1 ) cbl = i;\n\t\t}else{\n\t\t\tif ( ~cbl ) a[ki<<1] = cbl, a[ki<<1|1] = i - 1, ++ki, cbl = -1;\n\t\t}\n\t}\n\t\n\tfor ( int i = ki<<1; i < MAXN; i += 2 ) a[i] = a[i+1] = n + 1 + ( i - ( ki << 1 ) );\n\t\n//\tlp ( i, 0, ki+10 ) cerr << a[i] << \" \";\n//\tcerr << endl;\n\t\n\tint nk = 0, cl = a[0], cr = a[1];\n\tlpi ( _t, 1, K ){\n\t\tif ( cl > 1 ){\n\t\t\tif ( cl > 2 ){\n\t\t\t\tcl = cr = 1;\n\t\t\t\t--nk;\n\t\t\t}else --cl;\n\t\t}else{\n\t\t\t++kc;\n\t\t\tcl = cr, cr = a[(nk<<1)+kc+1] - ( ( kc + 1 ) & ~1 );\n\t\t}\n\t\t\n\t\tif ( kc == ( ( n + 7 ) << 1 ) ){\n\t\t\tif ( n & 1 ){\n\t\t\t\tif ( ( K - _t ) & 1 ) putchar ( 'B' );\n\t\t\t\telse putchar ( 'A' );\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}else{\n\t\t\t\tlp ( i, 0, n>>1 ) printf ( \"BA\" );\n\t\t\t\tputchar ( '\\n' );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\tfill ( ans+1, ans+1+n, 'A' );\n\tfill ( cl, cr );\n\tlp ( i, nk+1, ki ){\n\t\tfill ( a[(i<<1)+kc] - ( kc & ~1 ), a[(i<<1)+kc+1] - ( ( kc + 1 ) & ~1 ) );\n\t}\n\t\n\tprintf ( \"%s\\n\", ans+1 );\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 2e5 + 5;\nchar s[N];\nint main() {\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s);\n\tint p = 0, f = 0;\n\tfor (int i = 0; i < k; ++ i) {\n\t\tbool c = (s[p] == 'A') ^ f;\n\t\tif (c) {\n\t\t\ts[p] = s[p] == 'A' ? 'B' : 'A';\n\t\t}\n\t\telse {\n\t\t\tf ^= 1;\n\t\t\t(++ p) %= n;\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++ i) {\n\t\tbool c = (s[(i + p) % n] == 'A') ^ f;\n\t\tputchar(c ? 'A' : 'B');\n\t}\n\tputs(\"\");\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint N, K, p, rev;\nchar S[400010];\n\nvoid sim() {\n\tif(S[p] == 'A') {\n\t\tif(rev) {\n\t\t\trev = false;\n\t\t\tS[p + N] = 'A';\n\t\t\tp++;\n\t\t}\n\t\telse {\n\t\t\tS[p] = 'B';\n\t\t}\n\t}\n\telse {\n\t\tif(rev) {\n\t\t\tS[p] = 'A';\n\t\t}\n\t\telse {\n\t\t\trev = true;\n\t\t\tS[p + N] = 'B';\n\t\t\tp++;\n\t\t}\n\t}\n}\n\nvoid out() {\n\tfor(int i = p; i < p + N; i++) {\n\t\tchar c = S[i];\n\t\tif(rev) c = (c == 'A') ? 'B' : 'A';\n\t\tcout << c;\n\t}\n\tcout << endl;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tcin >> N >> K >> S;\n\n\tfor(int i = 0; i < min(2 * N, K); i++) {\n\t\tsim();\n\t}\n\n\tout();\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\nusing namespace std;\nchar str[800100];\nint n,k;\nvoid solve(){\n\tint p=1,dr=1;\n\twhile(p>0&&p<=n){\n\t\tif(str[p]=='A'){\n\t\t\tstr[p]='B';\n\t\t\tdr=-dr;\n\t\t\tp+=dr;\n\t\t}\n\t\telse{\n\t\t\tstr[p]='A';\n\t\t\tp+=dr;\n\t\t}\n\t}\n}\nint main(){\n//\tfreopen(\"D.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",str+1);\n\tfor(int i=n+1;i<=n*4;i++)\n\t\tstr[i]='A'+((i-n)&1);\n\tif(k<=n*2){\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=k;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t}\n\telse{\n\t\tint res=0,p=1,cnt=0;\n\t\tfor(int i=1;i<=n*2;i++){\n\t\t\tif(str[p]-'A'==((res+(cnt&1))&1))\n\t\t\t\tres^=1;\n\t\t\telse{\n\t\t\t\tcnt++,p++;\n\t\t\t\tres=0;\n\t\t\t}\n\t\t}\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(cnt&1) str[j]='A'+'B'-str[j+cnt];\n\t\t\telse str[j]=str[j+cnt];\n\t\t}\n\t\tif(res) solve();\n\t\tk-=n*2;\n\t\tif((n&1)&&(k&1))\n\t\t\tstr[1]='A'+'B'-str[1];\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%c\",str[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <cmath>\n#include <string>\n#include <set>\n\nusing namespace std;\n\n#define fastInp cin.tie(0); cout.tie(0); ios_base::sync_with_stdio(0);\n\ntypedef long long ll;\ntypedef long double ld;\n\nll n, k;\nvector<char> vec;\nvector<char> need;\n\nvoid input() {\n\tcin >> n >> k;\n\tvec.resize(n);\n\tfor (auto &cur : vec) cin >> cur;\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nvoid play2() {\n\tif (vec[0] == 'A') {\n\t\tvec[0] = 'B';\n\t\treturn;\n\t}\n\n\tif (vec.back() == 'B') {\n\t\tvec.back() = 'A';\n\t}\n\tfor (int i = 1; i < vec.size(); i++) {\n\t\tif (vec[i - 1] == vec[i]) {\n\t\t\tif (vec[i - 1] == 'A') {\n\t\t\t\tvec[i - 1] = 'B';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvec[i - 1] = 'A';\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid play() {\n\tif (vec[0] == 'A') {\n\t\tvec[0] = 'B';\n\t\treturn;\n\t}\n\tll x = 0, side = 1;\n\twhile (x >= 0 && x < vec.size()) {\n\t\tif (side == 1) {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx--;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\tif (vec[x] == 'A') {\n\t\t\t\tside = 1;\n\t\t\t\tvec[x] = 'B';\n\t\t\t\tx++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tside = 0;\n\t\t\t\tvec[x] = 'A';\n\t\t\t\tx--;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*for (auto cur : vec) cout << cur;\n\tif (x < 0) {\n\t\tcout << \" front\";\n\t}\n\telse {\n\t\tcout << \" back\";\n\t}\n\tcout << \"\\n\";*/\n}\n\nvoid rand_test() {\n\tn = rand() % 1000 + 1, k = rand() % 10000;\n\tvec.resize(n);\n\tfor (int i = 0; i < n; i++) {\n\t\tvec[i] = ('A' + rand() % 2);\n\t}\n\n\tll cur = 1;\n\tif (n % 2 == 0) cur = 0;\n\tneed.resize(n);\n\tfor (int i = 0; i < vec.size(); i++) {\n\t\tif (cur) {\n\t\t\tneed[i] = 'A';\n\t\t}\n\t\telse {\n\t\t\tneed[i] = 'B';\n\t\t}\n\t\tcur = !cur;\n\t}\n}\n\nll find_k() {\n\tll cnt = 0;\n\twhile (need != vec) {\n\t\tcnt++;\n\t\tplay();\n\t}\n\n\treturn cnt;\n}\n\nint main() {\n\tfastInp;\n\n\t//rand_test();\n\tinput();\n\n\tvector<char> add;\n\tchar pr = 'A';\n\tchar lst = 'B';\n\tfor (int j = 0; j < k / 2; j++) {\n\t\tif (vec.size() <= 0) break;\n\t\tlst = vec.back();\n\t\tvec.pop_back();\n\t\tadd.push_back(pr);\n\t\tif (pr == 'A') {\n\t\t\tpr = 'B';\n\t\t}\n\t\telse {\n\t\t\tpr = 'A';\n\t\t}\n\t}\n\tif (add.size() > 0 && add.back() == 'A') {\n\t\tadd.pop_back();\n\t\tvec.push_back(lst);\n\t}\n\treverse(add.begin(), add.end());\n\tif (vec.size() > 0) {\n\t\twhile (k > 0) {\n\t\t\tk--;\n\t\t\tplay();\n\t\t}\n\t}\n\n\tfor (auto cur : vec) cout << cur;\n\tfor (auto cur : add) cout << cur;\n\treturn 0;\n\t\n\tll t = 1000;\n\twhile (t--) {\n\t\trand_test();\n\t\tvector<char> sv = vec;\n\t\tcout << n << \" \" << find_k() << \"\\n\";\n\t\tfor (auto cur : sv) cout << cur;\n\t\tcout << \"\\n\";\n\t\tcout << \"-----------------------------\\n\";\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#line 1 \"main.cpp\"\n\n/**\n * @title Template\n */\n\n#include <iostream>\n#include <algorithm>\n#include <utility>\n#include <numeric>\n#include <vector>\n#include <array>\n\n#line 2 \"/Users/kodamankod/Desktop/Programming/Library/other/chmin_chmax.cpp\"\n\ntemplate <class T, class U>\nconstexpr bool chmin(T &lhs, const U &rhs) {\n  if (lhs > rhs) { \n    lhs = rhs; \n    return true; \n  }\n  return false;\n}\n\ntemplate <class T, class U>\nconstexpr bool chmax(T &lhs, const U &rhs) {\n  if (lhs < rhs) { \n    lhs = rhs; \n    return true; \n  }\n  return false;\n}\n\n/**\n * @title Chmin/Chmax\n */\n#line 2 \"/Users/kodamankod/Desktop/Programming/Library/other/range.cpp\"\n\n#line 4 \"/Users/kodamankod/Desktop/Programming/Library/other/range.cpp\"\n\nclass range {\npublic:\n  class iterator {\n  private:\n    int64_t M_position;\n\n  public:\n    constexpr iterator(int64_t position) noexcept: M_position(position) { }\n    constexpr void operator ++ () noexcept { ++M_position; }\n    constexpr bool operator != (iterator other) const noexcept { return M_position != other.M_position; }\n    constexpr int64_t operator * () const noexcept { return M_position; }\n\n  };\n\n  class reverse_iterator {\n  private:\n    int64_t M_position;\n  \n  public:\n    constexpr reverse_iterator(int64_t position) noexcept: M_position(position) { }\n    constexpr void operator ++ () noexcept { --M_position; }\n    constexpr bool operator != (reverse_iterator other) const noexcept { return M_position != other.M_position; }\n    constexpr int64_t operator * () const noexcept { return M_position; }\n\n  };\n  \nprivate:\n  const iterator M_first, M_last;\n\npublic:\n  constexpr range(int64_t first, int64_t last) noexcept: M_first(first), M_last(std::max(first, last)) { }\n  constexpr iterator begin() const noexcept { return M_first; }\n  constexpr iterator end() const noexcept { return M_last; }\n  constexpr reverse_iterator rbegin() const noexcept { return reverse_iterator(*M_last - 1); } \n  constexpr reverse_iterator rend() const noexcept { return reverse_iterator(*M_first - 1); } \n\n};\n\n/**\n * @title Range\n */\n#line 2 \"/Users/kodamankod/Desktop/Programming/Library/other/rev.cpp\"\n\n#include <type_traits>\n#include <iterator>\n#line 6 \"/Users/kodamankod/Desktop/Programming/Library/other/rev.cpp\"\n\ntemplate <class T>\nclass rev_impl {\npublic:\n  using iterator = typename std::decay<T>::type::reverse_iterator;\n\nprivate:\n  const iterator M_begin;\n  const iterator M_end;\n\npublic:\n  constexpr rev_impl(T &&cont) noexcept: M_begin(std::rbegin(cont)), M_end(std::rend(cont)) { }\n  constexpr iterator begin() const noexcept { return M_begin; }\n  constexpr iterator end() const noexcept { return M_end; }\n\n};\n\ntemplate <class T>\nconstexpr decltype(auto) rev(T &&cont) {\n  return rev_impl<T>(std::forward<T>(cont));\n}\n\n/**\n * @title Reverser\n */\n#line 2 \"/Users/kodamankod/Desktop/Programming/Library/container/fenwick_tree.cpp\"\n\n#line 2 \"/Users/kodamankod/Desktop/Programming/Library/other/bit_operation.cpp\"\n\n#include <cstddef>\n#include <cstdint>\n\nconstexpr size_t bit_ppc(const uint64_t x) {\n  return __builtin_popcountll(x);\n}\n\nconstexpr size_t bit_ctzr(const uint64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll(x);\n}\n\nconstexpr size_t bit_ctzl(const uint64_t x) {\n  return x == 0 ? 64 : __builtin_clzll(x);\n}\n\nconstexpr size_t bit_width(const uint64_t x) { \n  return 64 - bit_ctzl(x);\n}\n\nconstexpr uint64_t bit_msb(const uint64_t x) {\n  return x == 0 ? 0 : uint64_t(1) << (bit_width(x) - 1);\n}\n\nconstexpr uint64_t bit_lsb(const uint64_t x) {\n  return x & (-x);\n}\n\nconstexpr uint64_t bit_cover(const uint64_t x) {\n  return x == 0 ? 0 : bit_msb(2 * x - 1);\n}\n\nconstexpr uint64_t bit_rev(uint64_t x) {\n  x = ((x >> 1) & 0x5555555555555555) | ((x & 0x5555555555555555) << 1);\n  x = ((x >> 2) & 0x3333333333333333) | ((x & 0x3333333333333333) << 2);\n  x = ((x >> 4) & 0x0F0F0F0F0F0F0F0F) | ((x & 0x0F0F0F0F0F0F0F0F) << 4);\n  x = ((x >> 8) & 0x00FF00FF00FF00FF) | ((x & 0x00FF00FF00FF00FF) << 8);\n  x = ((x >> 16) & 0x0000FFFF0000FFFF) | ((x & 0x0000FFFF0000FFFF) << 16);\n  x = (x >> 32) | (x << 32);\n  return x;\n}\n\n/**\n * @title Bit Operations\n */\n#line 4 \"/Users/kodamankod/Desktop/Programming/Library/container/fenwick_tree.cpp\"\n\n#line 7 \"/Users/kodamankod/Desktop/Programming/Library/container/fenwick_tree.cpp\"\n\ntemplate <class T>\nclass fenwick_tree {\npublic:\n  using value_type = T;\n  using size_type = size_t;\n\nprivate:\n  std::vector<value_type> M_tree;\n\npublic:\n  fenwick_tree() = default;\n  explicit fenwick_tree(size_type size) { initialize(size); }\n\n  void initialize(size_type size) {\n    M_tree.assign(size + 1, value_type{});\n  }\n\n  void add(size_type index, const value_type& x) {\n    ++index;\n    while (index <= size()) {\n      M_tree[index] += x;\n      index += bit_lsb(index);\n    }\n  }\n\n  value_type get(size_type index) const {\n    ++index;\n    value_type res{};\n    while (index > 0) {\n      res += M_tree[index];\n      index -= bit_lsb(index);\n    }\n    return res;\n  }\n  value_type fold(size_type l, size_type r) const {\n    if (l == 0 && r == 0) return value_type{};\n    if (l == 0) return get(r - 1);\n    return get(r - 1) - get(l - 1);\n  }\n\n  size_type size() const {\n    return M_tree.size() - 1;\n  }\n\n};\n\n/**\n * @title Fenwick Tree\n */\n#line 17 \"main.cpp\"\n\nusing i32 = int32_t;\nusing i64 = int64_t;\nusing u32 = uint32_t;\nusing u64 = uint64_t;\n\nconstexpr i32 inf32 = (i32(1) << 30) - 1;\nconstexpr i64 inf64 = (i64(1) << 62) - 1;\n\nint main() {\n  i32 N, K;\n  std::cin >> N >> K;\n  std::string S;\n  std::cin >> S;\n  S += std::string(N, 'B');\n  i32 front = 0;\n  fenwick_tree<i32> fen(S.size() + 1);\n  auto flip = [&](char c) {\n    return char('B' - c + 'A');\n  };\n  auto get = [&](i32 idx) {\n    return fen.get(idx) % 2 == 1 ? flip(S[idx]) : S[idx];\n  };\n  while (true) {\n    if (get(front) == 'A') {\n      S[front] = flip(S[front]);\n    }\n    else {\n      ++front;\n      fen.add(front, 1);\n      fen.add(front + N, -1);\n    }\n    if (--K == 0) {\n      for (auto i: range(0, N)) {\n        std::cout << get(front + i);\n      }\n      std::cout << '\\n';\n      break;\n    }\n    if (front == N) {\n      if (N % 2 == 0) {\n        for (auto i: range(0, N)) {\n          std::cout << char('B' - i % 2);\n        }\n        std::cout << '\\n';\n      }\n      else {\n        std::cout << (K % 2 == 1 ? flip(get(front)) : get(front));\n        for (auto i: range(0, N - 1)) {\n          std::cout << char('B' - i % 2);\n        }\n        std::cout << '\\n';\n      }\n      break;\n    }\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<queue>\nusing namespace std;\nint pd[1010000],K,n,w[210000],bo[210000],ans[210000];\nchar ch[210000];\nqueue<int>Q;\nvoid print(){\n\tfor (int i=1;i<=n;i++) if (ans[i]) putchar('A'); else putchar('B');\n\texit(0);\n}\nint main(){\n\tscanf(\"%d%d\",&n,&K);\n\tscanf(\"%s\",ch+1);\n\tfor (int i=1;i<=n;i++) if (ch[i]=='A') pd[i]=1; else pd[i]=0;\n\tint l=1,now=0;\n\tfor (;K;K--){\n\t\tif (l>n){\n\t\t\tif ((n&1)&&pd[l]==1){\n\t\t\t\tfor (int i=1;i<=n;i++) ans[i]=i&1;\n\t\t\t\tif (K&1) ans[1]=0;\n\t\t\t\tprint();\n\t\t\t}\n\t\t\tif (n%2==0){\n\t\t\t\tfor (int i=1;i<=n;i++) ans[i]=(i&1)^1;\n\t\t\t\tprint();\n\t\t\t}\n\t\t}\n\t\tif (pd[l]==now){\n\t\t\tl++; pd[l+n-1]=now; now^=1;\n\t\t} else pd[l]^=1;\n\t}\n\tfor (int i=1;i<=n;i++) ans[i]=pd[i+l-1]^now;\n\tprint();\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define debug(x) cout << #x << \" = \" << x << endl\n#define fori(i, ini, lim) for(int i = int(ini); i < int(lim); i++)\n#define ford(i, ini, lim) for(int i = int(ini); i >= int(lim); i--)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> ii;\n\nconst int MAX = 1e2 + 5;\nint times[MAX];\n\nchar other(char c) {\n\treturn c == 'A' ? 'B' : 'A';\n}\n\nint main() {\n\tios_base::sync_with_stdio(false);\n\n\tint n, k;\n\tcin >> n >> k;\n\tdeque<char> s;\n\tfori(i, 0, n) {\n\t\tchar c;\n\t\tcin >> c;\n\t\ts.push_back(c);\n\t}\n\n\tint parity = 0;\n\tfori(i, 0, min(k, 2 * n)) {\n\t\tchar f = s.front();\n\t\tif((f == 'A' && parity == 0) || (f == 'B' && parity == '1')) {\n\t\t\t*s.begin() = (f == 'A') ? 'B' : 'A';\n\t\t}\n\t\telse {\n\t\t\ts.pop_front();\n\t\t\tparity ^= 1;\n\t\t\ts.push_back(parity ? 'B' : 'A');\n\t\t}\n\t}\n\n\tfor(auto &each : s) {\n\t\teach = parity ? other(each) : each;\n\t}\n\n\tif(k > 2 * n && ((k - 2 * n) & 1)) {\n\t\tif(s.front() == 'A') {\n\t\t\t*s.begin() = 'B';\n\t\t}\n\t\telse {\n\t\t\ts.pop_front();\n\t\t\tfor(auto &each : s) {\n\t\t\t\teach = other(each);\n\t\t\t}\n\t\t\ts.push_back('A');\n\t\t}\n\t}\n\n\tfor(auto &each : s) {\n\t\tcout << each;\n\t}\n\tcout << '\\n';\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nint main() {\n\tstd::ios::sync_with_stdio(0), std::cin.tie(0);\n\tint q = 0, n, k; std::string s; std::cin >> n >> k >> s;\n\tfor (int i = 0; i < n; ++i) s[i] -= 'A';\n\twhile (q < n && k) {\n\t\t--k;\n\t\tif ((s[q] ^ q) & 1) ++q; else s[q] ^= 1;\n\t}\n\tif (k) {\n\t\tif (n & 1) std::cout << char('A' + (k & 1));\n\t\tfor (int i = 1; i < n; i += 2) std::cout << \"BA\";\n\t} else {\n\t\tfor (int i = q; i < n; ++i) std::cout << char(((s[i] ^ q) & 1) + 'A');\n\t\tfor (int i = 0; i < q; ++i) std::cout << char('B' - (q - i & 1));\n\t}\n\tstd::cout << '\\n';\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nchar s[401000];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tint h = 1, t = 0;\n\twhile(k--)\n\t{\n\t\tif(h > n) break;\n\t\tif(t) s[h] = s[h] == 'A' ? 'B' : 'A';\n\t\tif(s[h] == 'B')\n\t\t{\n\t\t\tt ^= 1;\n\t\t\tif(t == 1) s[n + h] = 'B';\n\t\t\telse s[n + h] = 'A';\n\t\t\th++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(t == 1) s[h] = 'A';\n\t\t\telse s[h] = 'B';\n\t\t}\n\t}\n\tif(t)\n\t{\n\t\tfor(int i = h; i < h + n; i++)\n\t\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t}\n\tprintf(\"%s\\n\", s + h);\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int N = 2e5+5;\nint n, k;\nchar s[N];\nint main()\n{\n    scanf(\"%d%d%s\", &n, &k, s+1);\n    if(n&1) putchar('A'); n = n>>1<<1;\n    for(int i = 1; i <= n; ++i) putchar(i&1?'B':'A'); puts(\"\");\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <ctime>\n\n#define Rep(i, n) for (int i = 1; i <= n; i ++)\n#define Rep0(i, n) for (int i = 0; i <= n; i ++)\n#define RepG(i, x) for (int i = head[x]; i; i = edge[i].next)\n#define v edge[i].to\n#define mp(a, b) make_pair(a, b)\n\nusing namespace std;\n\nconst int N = 200010;\n\nchar s[N];\nint a[N];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\t\n\tRep(i, n) a[i] = (s[i] == 'A');\n\t\n\tbool flag = false;\n\tint i = 1;\n\t\n\twhile (i <= n) {\n\t\tif (!k) {\n\t\t\tfor (int j = i; j <= n; j ++){\n\t\t\t\tif ((!(i & 1)) ^ a[j]) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tRep(j, i - 1){\n\t\t\t\tif ((j & 1) ^ (i & 1)) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\tflag = true; break;\n\t\t}\n\t\tif (a[i] ^ (!(i & 1))) a[i] ^= 1;\n\t\telse i ++;\n\t\tk --;\n\t}\n\t\n/*\tif (!flag) {\n\t\tif (n & 1) {\n\t\t\tRep(i, n){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tif (k & 1) printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t\tRep(i, n - 1){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t}*/\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <queue>\n#include <string>\n\nusing namespace std;\n\nvoid ope(queue<int>& que, int& A) {\n    if (que.front() == A) {\n        que.front() = 1 - que.front();\n    } else {\n        que.push(que.front());\n        que.pop();\n        A = 1 - A;\n    }\n}\n\nint main() {\n    int N, K;\n    string S;\n    cin >> N >> K >> S;\n\n    queue<int> que;\n    for (char c : S) que.push(c - 'A');\n    int A = 0;  // 今どっちの文字がAか\n    int q;\n    for (q = 0; q < min(N * 2, K); ++q) ope(que, A);\n\n    // Nが奇数ならBABA...BAをループ\n    // Nが偶数ならABAB...BA <-> BBAB...BAをループ\n    if (q < K && N % 2 == 0 && (K - q) % 2 == 1) ope(que, A);\n\n    while (!que.empty()) {\n        cout << (que.front() == A ? 'A' : 'B');\n        que.pop();\n    }\n    cout << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nconst int MAXN = 200010;\nint n, K, shl;\nchar buf[MAXN];\nint get(int x) {\n\treturn x + shl <= n ? (shl & 1) ^ buf[x + shl] : n - x & 1;\n}\nint main() {\n\tstd::ios_base::sync_with_stdio(false), std::cin.tie(0);\n\tstd::cin >> n >> K >> buf + 1;\n\tfor (int i = 1; i <= n; ++i) buf[i] -= 'A';\n\twhile (K && shl < n) { if (!get(1)) buf[1 + shl] ^= 1; else ++shl; --K; }\n\tfor (int i = 1; i <= n; ++i) buf[i] = get(i);\n\tif ((n & 1) && (K & 1)) buf[1] ^= 1;\n\tfor (int i = 1; i <= n; ++i)\n\t\tstd::cout << (char) ('A' + buf[i]);\n\tstd::cout << '\\n';\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define mp make_pair\n#define sz(x) (int)(x).size()\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define ii pair<int,int>\n#define INF 1000000000\n#define INFLL 1000000000000000010ll\n#define UQ(x) (x).resize(distance((x).begin(),unique(all((x)))))\n#define mid(x,y) (((x)+(y))>>1)\nint n,k;\nchar s[200005];\nint h,flip=0;\ndeque<int> d;\nint get() {\n\treturn (h^flip);\n}\nvoid put(int x) {\n\th=x^flip;\n}\nvoid pad() {\n\tif (sz(d)%2) {\n\t\tif (get()==0) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t} else {\n\t\tif (get()==1) d[sz(d)-1]++;\n\t\telse d.pb(1);\n\t}\n}\nvoid output() {\n\tint sum=0;\n\tint let=get();\n\tfor (int i=0;i<sz(d);i++) {\n\t\tsum+=d[i];\n\t\tfor (int j=0;j<d[i];j++) {\n\t\t\tprintf(\"%c\", let?'B':'A');\n\t\t}\n\t\tlet^=1;\n\t}\n\tprintf(\"\\n\");\n\tassert(sum==n);\n}\nint main() {\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tif (n==1) {\n\t\tif (k%2) {\n\t\t\tif (s[0]=='A') printf(\"B\\n\");\n\t\t\telse printf(\"A\\n\");\n\t\t} else {\n\t\t\tif (s[0]=='A') printf(\"A\\n\");\n\t\t\telse printf(\"B\\n\");\n\t\t}\n\t\treturn 0;\n\t}\n\n\t\n\tint cur=1;\n\tchar v=s[0];\n\tfor (int i=1;i<n;i++) {\n\t\tif (s[i]==v) cur++;\n\t\telse {\n\t\t\td.pb(cur);\n\t\t\tcur=1;\n\t\t\tv=s[i];\n\t\t}\n\t}\n\td.pb(cur);\n\th=(s[0]=='B');\n\tfor (int kk=0;kk<min(k,1000000);kk++) {\n\t\tif (get()==0) {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(1);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\t++d[0];\n\t\t\t\t\tput(1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\td.push_front(1);\n\t\t\t\tput(1);\n\t\t\t}\n\t\t} else {\n\t\t\tif (d[0]==1) {\n\t\t\t\tif (sz(d)==1) {\n\t\t\t\t\tput(0);\n\t\t\t\t} else {\n\t\t\t\t\td.pop_front();\n\t\t\t\t\tput(0);\n\t\t\t\t\tflip^=1;\n\t\t\t\t\tpad();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t--d[0];\n\t\t\t\tflip^=1;\n\t\t\t\tpad();\n\t\t\t}\n\t\t}\n\t}\n\tif (k>1000000) {\n\t\tif (sz(d)==n) {\n\t\t\tif (get()==1) {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\tprintf(\"%c\", (i%2)?'A':'B');\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t} else {\n\t\t\t\tif (k%2) {\n\t\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\tif (i==0) printf(\"B\\n\");\n\t\t\t\t\t\telse printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t} else {\n\t\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\t printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (k%2) {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\");\n\t\t\t} else {\n\t\t\t\tfor (int i=0;i<n;i++) {\n\t\t\t\t\t\tif (i==0) printf(\"B\\n\");\n\t\t\t\t\t\telse printf(\"%c\", (i%2)?'B':'A');\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t\t\n\t\t}\n\t} else output();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\nconst int N=2e5+5;\nint n,q;\nchar ch[N];\n\ninline int nxi(){\n\tint x=0;\n\tchar c;\n\twhile((c=getchar())>'9'||c<'0');\n\twhile(x=x*10-48+c,(c=getchar())>='0'&&c<='9');\n\treturn x;\n}\n\ntemplate <class T,size_t S> class _Que{\n\tprotected:\n\t\tT q[S];\n\t\tint hd,tl;\n\tpublic:\n\t\t_Que(){\n\t\t\thd=tl=0;\n\t\t}\n\t\tinline int front(){\n\t\t\treturn q[hd];\n\t\t}\n\t\tinline void pop_front(){\n\t\t\tif(++hd==S) hd=0;\n\t\t}\n\t\tinline void pop_back(){\n\t\t\tif(--tl==-1) tl=S-1;\n\t\t}\n\t\tinline void push_front(T x){\n\t\t\tif(--hd==-1) hd=S-1;\n\t\t\tq[hd]=x;\n\t\t}\n\t\tinline void push_back(T x){\n\t\t\tq[tl++]=x;\n\t\t\tif(tl==S) tl=0;\n\t\t}\n};\n_Que <bool,N> que;\n\ninline bool step(const bool rev){\n\tif(que.front()^rev){\n\t\tque.pop_front();\n\t\tque.push_front(0^rev);\n\t\treturn 0;\n\t}\n\telse{\n\t\tque.pop_front();\n\t\tque.push_back(rev);\n\t\treturn 1;\n\t}\n}\n\nint main(){\n\t//1:'A', 2:'B'\n\tn=nxi(),q=nxi();\n\tscanf(\"%s\",ch+1);\n\tfor(int i=1; i<=n; ++i){\n\t\tque.push_back(ch[i]=='A');\n\t}\n\tint rev=0;\n\tfor(int i=1; i<=std::min(q,n<<1); ++i){\n\t\trev^=step(rev);\n\t}\n\tif(q>(n<<1)&&q&1) rev^=step(rev);\n\tfor(int i=1; i<=n; ++i){\n\t\tputchar(que.front()^rev?'A':'B');\n\t\tque.pop_front();\n\t}\n\tputs(\"\");\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// {{{ by shik\n#include <bits/stdc++.h>\n#include <unistd.h>\n#define SZ(x) ((int)(x).size())\n#define ALL(x) begin(x),end(x)\n#define REP(i,n) for ( int i=0; i<int(n); i++ )\n#define REP1(i,a,b) for ( int i=(a); i<=int(b); i++ )\n#define FOR(it,c) for ( auto it=(c).begin(); it!=(c).end(); it++ )\n#define MP make_pair\n#define PB push_back\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> PII;\ntypedef vector<int> VI;\n\n#ifdef SHIK\ntemplate<typename T>\nvoid _dump( const char* s, T&& head ) { cerr<<s<<\"=\"<<head<<endl; }\n\ntemplate<typename T, typename... Args>\nvoid _dump( const char* s, T&& head, Args&&... tail ) {\n    int c=0;\n    while ( *s!=',' || c!=0 ) {\n        if ( *s=='(' || *s=='[' || *s=='{' ) c++;\n        if ( *s==')' || *s==']' || *s=='}' ) c--;\n        cerr<<*s++;\n    }\n    cerr<<\"=\"<<head<<\", \";\n    _dump(s+1,tail...);\n}\n\n#define dump(...) do { \\\n    fprintf(stderr, \"%s:%d - \", __PRETTY_FUNCTION__, __LINE__); \\\n    _dump(#__VA_ARGS__, __VA_ARGS__); \\\n} while (0)\n\ntemplate<typename Iter>\nostream& _out( ostream &s, Iter b, Iter e ) {\n    s<<\"[\";\n    for ( auto it=b; it!=e; it++ ) s<<(it==b?\"\":\" \")<<*it;\n    s<<\"]\";\n    return s;\n}\n\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const pair<A,B> &p ) { return s<<\"(\"<<p.first<<\",\"<<p.second<<\")\"; }\ntemplate<typename T>\nostream& operator <<( ostream &s, const vector<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T, size_t N>\nostream& operator <<( ostream &s, const array<T,N> &c ) { return _out(s,ALL(c)); }\ntemplate<typename T>\nostream& operator <<( ostream &s, const set<T> &c ) { return _out(s,ALL(c)); }\ntemplate<typename A, typename B>\nostream& operator <<( ostream &s, const map<A,B> &c ) { return _out(s,ALL(c)); }\n#else\n#define dump(...)\n#endif\n\ntemplate<typename T>\nvoid _R( T &x ) { cin>>x; }\nvoid _R( int &x ) { scanf(\"%d\",&x); }\nvoid _R( long long &x ) { scanf(\"%\" PRId64,&x); }\nvoid _R( double &x ) { scanf(\"%lf\",&x); }\nvoid _R( char &x ) { scanf(\" %c\",&x); }\nvoid _R( char *x ) { scanf(\"%s\",x); }\n\nvoid R() {}\ntemplate<typename T, typename... U>\nvoid R( T& head, U&... tail ) {\n    _R(head);\n    R(tail...);\n}\n\ntemplate<typename T>\nvoid _W( const T &x ) { cout<<x; }\nvoid _W( const int &x ) { printf(\"%d\",x); }\ntemplate<typename T>\nvoid _W( const vector<T> &x ) {\n    for ( auto i=x.cbegin(); i!=x.cend(); i++ ) {\n        if ( i!=x.cbegin() ) putchar(' ');\n        _W(*i);\n    }\n}\n\nvoid W() {}\ntemplate<typename T, typename... U>\nvoid W( const T& head, const U&... tail ) {\n    _W(head);\n    putchar(sizeof...(tail)?' ':'\\n');\n    W(tail...);\n}\n\n#ifdef SHIK\n#define FILEIO(...)\n#else\n#define FILEIO(name) do {\\\n    freopen(name \".in\",\"r\",stdin); \\\n    freopen(name \".out\",\"w\",stdout); \\\n} while (0)\n#endif\n\n// }}}\n\nconst int N=2e5+10;\nint n,k,a[2*N];\nchar s[N];\n\nvoid show( int x=-1 ) {\n    REP(i,n) {\n        if ( i==x ) printf(\"\\e[1;32m\");\n        putchar(a[i]?'-':'|');\n        if ( i==x ) printf(\"\\e[0m\");\n    }\n    W(\"\");\n}\n\nvoid sim() {\n    int x=0,d=1;\n    while ( x>=0 && x<n ) {\n        // show(x);\n        if ( a[x]==0 ) d=-d;\n        a[x]^=1;\n        x+=d;\n    }\n    // dump(x);\n    // show();\n}\n\nint main() {\n    R(n,k,s);\n    REP(i,n) a[i]=s[i]-'A';\n    // REP(i,n) a[i]=rand()%2;\n    int pos=0,t=0;\n    REP(i,k) {\n        if ( (a[pos]^t)==0 ) a[pos]^=1;\n        else {\n            pos++;\n            t^=1;\n            a[pos+n-1]=t;\n        }\n        if ( pos==n ) break;\n    }\n    REP(i,n) putchar(\"AB\"[a[pos+i]^t]);\n    W(\"\");\n\n    // REP(i,n) a[i]=s[i]-'A';\n    // REP(i,k) {\n        // sim();\n    // }\n    // REP(i,n) putchar(\"AB\"[a[i]]);\n    // W(\"\");\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// AtCoder Grand Contest 011\n// D - Half Reflector\n\n#include <cstdio>\n#define MAX_N 200000\nusing namespace std;\ntypedef long long int ll;\n\n\nint N;\nll K;\nchar ans[MAX_N + 1];\n\nint main() {\n\n  char c;\n  int inv;\n\n  scanf(\"%d%lld\", &N, &K);\n  scanf(\"%*c\");\n  ans[N + 1] = '\\0';\n  inv = 0;\n  int j = 0;\n  for (int i = 0; i < N; i++) {\n    scanf(\"%c\", &c);\n    if ((c - 'A' + i) % 2 == 0) {\n      inv++;\n    }\n    if (inv + i >= K) {\n      ans[j] = ((c - 'A') + (i - j)) % 2 + 'A';\n      if (j == 0 && K == inv + i) {\n        ans[j] = 'B';\n      }\n      j++;\n    }\n  }\n  for (; j < N; j++) {\n    ans[j] = (N - j + 1) % 2 + 'A';\n  }\n  printf(\"%s\\n\", ans);\n\n  return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n\nusing namespace std;\n\nint n,m,rev;\nchar s[200009];\ndeque<int> q;\n\ninline void throws()\n{\n\tint c=q.front();\n\tq.pop_front();\n\tif(c^rev==0)\n\t\tq.push_front(1^rev);\n\telse\n\t{\n\t\trev^=1;\n\t\tq.push_back(0^rev);\n\t}\n}\n\nint main()\n{\n\tif(fopen(\"vj.in\",\"r\"))\n\t{\n\t\tfreopen(\"vj.in\",\"r\",stdin);\n\t\tfreopen(\"vj.out\",\"w\",stdout);\n\t}\n\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\t\n\tfor(int i=1;i<=n;i++)\n\t\tq.push_back((s[i]=='A')?0:1);\n\tfor(int i=1;i<=2*n && i<=m;i++)\n\t\tthrows();\n\n\tif(2*n<m)\n\t{\n\t\tm-=2*n;\n\t\tm%=2;\n\t\tfor(int i=1;i<=m;i++)\n\t\t\tthrows();\n\t}\n\twhile(!q.empty())\n\t\t\tputchar((q.front()^rev)+'A'),q.pop_front();\n\tputchar('\\n');\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(k < 2e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<pair<ll, int>, int> m;\n\tll h = 0, hb = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t\thb += base[n - i - 1] * 3;\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\t//dbg(r, k, h); rep(i, n) cerr<<(char)(q[i]+'A'); cerr<<endl;\n\t\tif(m.count(pair<ll, int>(h, r))){\n\t\t\tint l = m[pair<ll, int>(h, r)] - k;\n\t\t\tif(k > l) k %= l;\n\t\t}\n\t\tm[pair<ll, int>(h, r)] = k;\n\t\t\n\t\tif((q[0] ^ r) == 0){\n\t\t\tq[0] = 1 ^ r;\n\t\t\th += base[n - 1];\n\t\t}\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t\th -= base[n - 1] * 2;\n\t\t\th = hb - h * 2 - 1;\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, diff;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i + 1 < n; ++i)\n        diff[i] = a[i] ^ a[i + 1];\n    diff[n - 1] = 1;\n\n        #ifdef HOME\n        for (int j = 0; j < n; ++j)\n            cout << diff[j];\n        cout << endl;\n        #endif\n\n    int bt = 0;\n    for (int i = 0; bt < n && k; ++i) {\n        --k;\n        if (diff.count() & 1) {\n            diff[0] = diff[0] ^ 1;\n        }   \n        else {\n            ++bt;           \n            diff >>= 1;\n            diff[n - 1] = 1;\n        }   \n\n        #ifdef HOME\n        for (int j = 0; j < n; ++j)\n            cout << diff[j];\n        cout << endl;\n        #endif\n    }   \n\n    a[n - 1];\n    for (int i = n - 2; i >= 0; --i)\n        a[i] = a[i + 1] ^ diff[i];\n\n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cassert>\n#include <cfloat>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <deque>\n#include <iostream>\n#include <limits>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <vector>\n \n#define FOR(i,k,n) for (int (i)=(k); (i)<(n); ++(i))\n#define rep(i,n) FOR(i,0,n)\n#define all(v) begin(v), end(v)\n#define debug(x) cerr<< #x <<\": \"<<x<<endl\n#define debug2(x,y) cerr<< #x <<\": \"<< x <<\", \"<< #y <<\": \"<< y <<endl\n \nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vector<ll> > vvll;\ntypedef deque<bool> db;\ntemplate<class T> using vv=vector<vector< T > >;\n\nint n, k;\nstring s;\nint cnt;\n\ndeque<int> ar;\nbool top_is_a;\nvoid print_ans() {\n  int ab = (top_is_a) ? 0 : 1;\n  int m = (int)ar.size();\n  rep (i, m) {\n    char c = 'A' + ((i + ab) % 2);\n    rep (j, ar[i]) {\n      printf(\"%c\", c);\n    }\n  }\n  printf(\"\\n\");\n}\n\nint main() {\n  cin >> n >> k;\n  cin >> s;\n  {\n    int ind = 0;\n    rep (i, n) {\n      if (s[i] != s[ind]) {\n        ar.push_back(i - ind);\n        ind = i;\n      }\n    }\n    ar.push_back(n - ind);\n  }\n  top_is_a = (s[0] == 'A');\n  cnt = 0;\n  while (cnt < k) {\n    if (n % 2 == 0) {\n      if ((!top_is_a) && (int)ar.size() == n) {\n        print_ans();\n        return 0;\n      }\n    } else {\n      if (top_is_a && (int)ar.size() == n) {\n        if ((k - cnt) % 2 == 0) {\n        } else {\n          ar.pop_front();\n        }\n        print_ans();\n        return 0;\n      }\n    }\n\n    cnt += 1;\n    if (top_is_a) {\n      if (ar[0] > 1) {\n        ar[0] -= 1;\n        ar.push_front(1);\n      } else {\n        ar.pop_front();\n        ar[0] += 1;\n      }\n      top_is_a = false;\n    } else {\n      if (ar[0] > 1) {\n        ar[0] -= 1;\n        ar.push_back(1);\n        top_is_a = true;\n      } else {\n        if ((int)ar.size() % 2 == 1) {\n          ar.pop_front();\n          ar.back() += 1;\n        } else {\n          ar.pop_front();\n          ar.push_back(1);\n        }\n      }\n    }\n  }\n  print_ans();\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n\n\n#define PB push_back\n#define PF push_front\n#define LB lower_bound\n#define UB upper_bound\n#define fr(x) freopen(x,\"r\",stdin)\n#define fw(x) freopen(x,\"w\",stdout)\n#define iout(x) printf(\"%d\\n\",x)\n#define lout(x) printf(\"%lld\\n\",x)\n#define REP(x,l,u) for(int x = (l);x<=(u);x++)\n#define RREP(x,l,u) for(int x = (l);x>=(u);x--)\n#define mst(x,a) memset(x,a,sizeof(x))\n#define PII pair<int,int>\n#define PLL pair<ll,ll>\n#define MP make_pair\n#define se second\n#define fi first\n#define dbg(x) cout<<#x<<\" = \"<<(x)<<endl;\n#define sz(x) ((int)x.size())\n#define cl(x) x.clear()\n\ntypedef  long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ntypedef long double ld;\nusing namespace std;\n\nconst int maxn = 600010;\nconst int mod = 1e9+7;\nconst int MAX = 1000000010;\nconst double eps = 1e-6;\nconst double PI = acos(-1);\n\ntemplate<typename T> inline void read(T &x){\nx=0;T f=1;char ch;do{ch=getchar();if(ch=='-')f=-1;}while(ch<'0'||ch>'9');do x=x*10+ch-'0',ch=getchar();while(ch<='9'&&ch>='0');x*=f;\n}\n\ntemplate<typename A,typename B> inline void read(A&x,B&y){read(x);read(y);}\ntemplate<typename A,typename B,typename C> inline void read(A&x,B&y,C&z){read(x);read(y);read(z);}\ntemplate<typename A,typename B,typename C,typename D> inline void read(A&x,B&y,C&z,D&w){read(x);read(y);read(z);read(w);}\ntemplate<typename A,typename B> inline A fexp(A x,B p){A ans=1;for(;p;p>>=1,x=1LL*x*x%mod)if(p&1)ans=1LL*ans*x%mod;return ans;}\ntemplate<typename A,typename B> inline A fexp(A x,B p,A mo){A ans=1;for(;p;p>>=1,x=1LL*x*x%mo)if(p&1)ans=1LL*ans*x%mo;return ans;}\n\nint n,k;\n\nchar s[maxn];\n\nint A[maxn];\n\nvoid Work(){\n\tint now=0,l=1,r=n;\n\tREP(i,1,n*2){\n\t\tif((A[l]^now))A[l]^=1;\n\t\telse{\n\t\t\tl++;A[++r]=now;\n\t\t\tnow^=1;\n\t\t}\n\t\tif(!--k){\n\t\t\tREP(j,l,r)printf(\"%c\",'A'+(!(A[j]^now)));puts(\"\");\n\t\t\treturn;\n\t\t}\n\t}\n\tREP(i,l,r)A[i]^=now;\n\tif((n&1)&&(k&1))A[l]^=1;\n\tREP(i,l,r)printf(\"%c\",'A'+(!A[i]));puts(\"\");\n}\n\nvoid Init(){\n\tread(n,k);\n\tscanf(\"%s\",s+1);\n\tREP(i,1,n)A[i]=!(s[i]-'A');\n}\n\nint main(){\n\tInit();\n\tWork();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 200005;\nbitset<N> bs;\n\nchar s[N];\nint main(){\n\tint n, k;\n\tn = 100000, k = 1000000000;\n\tscanf(\"%d %d\", &n, &k);\n\tscanf(\"%s\", s);\n\tfor(int i = 0; i < n; i++) if(s[i] == 'B') bs.set(i);\n\tint done = 0;\n\tint doneb = 0;\n\tfor(; doneb < n + 3 && done < k; done++){\n\t\tif(bs[0]){\n\t\t\tdoneb++;\n\t\t\t// bs = (~(bs >> 1));\n\t\t\tbs >>= 1;\n\t\t\tbs.flip();\n\t\t\tbs.reset(n - 1);\n\t\t} else{\n\t\t\tbs.set(0);\n\t\t}\n\t}\n\tint rem = done - k;\n\tif((n == 1 || bs[1]) && (rem & 1)) bs.flip(0);\n\tfor(int i = 0; i < n; i++) printf(\"%c\", (bs[i] ? 'B' : 'A'));\n}"
  },
  {
    "language": "C++",
    "code": "//Keep pluggin',this is your only outlet.\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cctype>\n#include<cassert>\n#define MM(x,y) memset(x,y,sizeof(x))\n#define MCPY(a,b) memcpy(a,b,sizeof(b))\n#define pb push_back\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,b,a) for(int i=b;i>=a;i--)\n#define fi first\n#define mp make_pair\n#define se second\nusing namespace std;\n//#define int long long\n\ninline int quickpow(int m,int n,int p){int b=1;while(n){if(n&1)b=b*m%p;n=n>>1;m=m*m%p;}return b;}\ninline int quickmul(int x,int y,int mod){return (x*y-(int)((long double)x/mod*y)*mod+mod)%mod;}\ninline int getinv(int x,int p){return quickpow(x,p-2,p);}\ninline int read(void){\n    int x=0,f=1;char ch=getchar();\n    while(!isdigit(ch)){f=ch=='-'?-1:1;ch=getchar();}\n    while(isdigit(ch)){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n    return x * f;\n}\n\nconst int MAXN = 2e5 + 100;\n\nchar s[MAXN];\nint n,k,a[MAXN<<2],l,r,p = 0;\n\n///------------------head------------------\nsigned main(signed argc, char *argv[]){\n    n = read(),k = read();\n    scanf(\"%s\",s+1);\n    rep(i,1,n) a[i] = s[i] - 'A';\n    l = 1,r = n;\n    for (int i = 1; i <= (n << 1); ++i) {\n        if (a[l] == 0) a[l] ^= 1;\n        else ++l,++r,p^=1,a[r] = 1;\n        if (i == k) {\n            //cerr << l << ' ' << r << endl;\n            for (int j = l; j <= r; ++j)\n            printf(\"%c\",(a[j]^p) + 'A');\n            return 0;\n        }\n    }\n    int lst = a[r],d = k & 1;\n    for (int i = l; i <= r; ++i)\n        printf(\"%c\",(lst^(d^1)^((i-l)&1))+'A');\n    return 0;\n}\n\n/* Examples: */\n/*\n\n*/\n\n/*\n\n*/\n"
  },
  {
    "language": "C++",
    "code": "\n#include <sstream>\n#include <fstream>\n#include <cassert>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <vector>\n#include <set>\n#include <stack>\n#include <map>\n#include <string>\n#include <queue>\n#include <bitset>\nusing namespace std;\n\n#define int long long\n#define FOR(i, a, b) for (int i = (a), _b = (b); i <= _b; ++i)\n#define FORD(i, a, b) for (int i = (a), _b = (b); i >= _b; --i)\n#define REP(i, a) for (int i = 0, _a = (a); i < _a; ++i)\n#define REPD(i,n) for(int i = (n)-1; i >= 0; --i)\n\n#define DEBUG(X) { cerr << #X << \" = \" << (X) << endl; }\n#define PR(A, n) { cerr << #A << \" = \"; FOR(_, 1, n) cerr << A[_] << ' '; cerr << endl; }\n#define PR0(A, n) { cerr << #A << \" = \"; REP(_, n) cerr << A[_] << ' '; cerr << endl; }\n\n#define sqr(x) ((x) * (x))\n#define ll long long\n#define double long double\ntypedef pair<int, int> II;\n#define PI (2 * acos((double)0))\n#define __builtin_popcount __builtin_popcountll\n#define SZ(x) ((int)(x).size())\n#define ALL(a) (a).begin(), (a).end()\n#define MS(a,x) memset(a, x, sizeof(a))\n#define next ackjalscjaowjico\n#define prev ajcsoua0wucckjsl\n#define y1 alkscj9u20cjeijc\n#define left lajcljascjljl\n#define right aucouasocjolkjl\n#define y0 u9cqu3jioajc\n\n#define TWO(X) (1LL<<(X))\n#define CONTAIN(S,X) ((S) & TWO(X))\n\ndouble safe_sqrt(double x) { return sqrt(max((double)0.0, x)); }\nint GI(int& x) { return scanf(\"%lld\", &x); }\n\nint32_t main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    cout << (fixed) << setprecision(9);\n    int n, k;\n    while (cin >> n >> k) {\n        string s; cin >> s;\n        map<string,int> id;\n        id[s] = 0;\n        vector<string> res;\n        res.push_back(s);\n\n        int startCycle = -1, cycleLen = -1;\n        FOR(turn,1,k) {\n            int i = 0, dir = 0;\n\n            while (true) {\n                assert(0 <= i && i < n);\n                if (s[i] == 'A') {\n                    s[i] = (char) ('A' + 'B' - s[i]);\n                    if (dir == 0) --i;\n                    else ++i;\n                    dir = 1-dir;\n                }\n                else {\n                    s[i] = (char) ('A' + 'B' - s[i]);\n                    if (dir == 0) ++i;\n                    else --i;\n                }\n\n                if (i < 0 || i >= n) break;\n            }\n\n            if (turn == k) {\n                cout << s << endl;\n                break;\n            }\n\n            res.push_back(s);\n\n            if (id.count(s)) {\n                startCycle = id[s];\n                cycleLen = turn - id[s];\n\n                k = (k - startCycle) % cycleLen + startCycle;\n                cout << res[k] << endl;\n                break;\n            }\n            else id[s] = turn;\n        }\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "/*\nThough leaves are many , the root is one.\nThrough all the lying days of my youth\nI swayed my leaves and flowers in the sun.\nNow I may wither into the truth.\n\t  \t  \t- William Butler Yeats\n*/\n//#pragma GCC optimize(\"Ofast,no-stack-protector\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx\")\n//#pragma GCC target(\"avx,tune=native\")\n#include<bits/stdc++.h>\n#pragma comment(\"-Wl,--stack=1024000000\")\n//#include<ext/pb_ds/assoc_container.hpp>\nusing namespace std;\n//using namespace __gnu_pbds;\nconst int inf=0x3f3f3f3f;\nconst double eps=1e-6;\nconst int mod=1000000007;\ntypedef long long ll;\n#ifndef LOCAL\n#define cerr if(0)cout\n#define eprintf(...) 0\n#else\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n#endif\ninline string getstr(string &s,int l,int r){string ret=\"\";for(int i=l;i<=r;i++)ret.push_back(s[i]);return ret;}\nint modpow(int x,int y,int md=mod){int ret=1;do{if(y&1)ret=(ll)ret*x%md;x=(ll)x*x%md;}while(y>>=1);return ret;}\ninline int Rand(){return rand()*32768+rand();}\nint n,k;\ndeque<char>q;\nchar calc(char c,bool inv){\n\tif(inv)return 'A'+'B'-c;\n\telse return c;\n}\nint main(){\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++){\n\t\tchar c;cin>>c;q.push_back(c);\n\t}\n\tk=min(k,4*n);\n\tbool inv=0;\n\twhile(k--){\n\t\tif(calc(q.front(),inv)=='A'){\n\t\t\tq.front()='A'+'B'-q.front();\n\t\t}else{\n\t\t\tinv^=1;q.push_back(q.front());q.pop_front();\n\t\t}\n\t}\n\tif(inv)for(char &c:q)c='A'+'B'-c;\n\tfor(int i=0;i<n;i++)putchar(q[i]);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef unsigned long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nstring sim(string s){\n\tint n = s.size(), pos = 0, dir = 1;\n\twhile(!(pos == 0 && dir < 0 || pos == n && dir > 0)){\n\t\tif(dir > 0){\n\t\t\tif(s[pos] == 'B') s[pos++] = 'A';\n\t\t\telse s[pos] = 'B', dir = -1;\n\t\t}\n\t\telse{\n\t\t\tif(s[pos - 1] == 'B') s[--pos] = 'A';\n\t\t\telse s[pos - 1] = 'B', dir = 1;\n\t\t}\n\t}\n\treturn s;\n}\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\t\n\tif(0){\n\t\tint n; cin >> n;\n\t\trep(i, 1 << n - 1){\n\t\t\tstring s(n, 'B');\n\t\t\trep(j, n - 1) if(!(i >> j & 1)) s[j + 1]--;\n\t\t\tdbg(s, sim(s));\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tint n, k; string s; cin >> n >> k >> s; assert(n < 1e8);\n\tdeque<int> q;\n\tvector<ll> base(n + 1, 1);\n\tmap<ll, int> m;\n\tll h = 0;\n\t\n\trep(i, n) base[i + 1] = base[i] * 29;\n\trep(i, n){\n\t\tq.push_back(s[i] - 'A');\n\t\th += base[n - i - 1] * (s[i] - 'A' + 1);\n\t}\n\t\n\tint r = 0;\n\tfor(; k; k--){\n\t\tif((q[0] ^ r) == 0) q[0] = 1 ^ r;\n\t\telse{\n\t\t\tq.pop_front();\n\t\t\tr ^= 1;\n\t\t\tq.push_back(r);\n\t\t}\n\t}\n\t\n\tstring ans;\n\trep(i, n) ans += (q[i] ^ r) + 'A';\n\tcout << ans << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define maxn 401000\nusing namespace std;\n\nint A[maxn];\nchar s[maxn];\nint st, n, m, o;\nint main() {\n\tscanf(\"%d %d\",&n,&m);\n\tscanf(\"%s\",s + 1);\n\tfor (int i = 1; i <= n; i++) A[i] = s[i] - 'A';\n\tint st = 0;\n\twhile (st < n && m) {\n\t\tif (A[st + 1] == o) {\n\t\t\tA[st + 1] ^= 1;\n\t\t\tm--;\n\t\t\tcontinue;\t\t\t\n\t\t}\n\t\to ^= 1; st++;\n\t\tA[st + n] = o;\n\t\tm--;\n\t}\n\tif (!m) {\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tif (A[st + i] == o) putchar('A');\n\t\t\telse putchar('B');\n\t} else {\n\t\tif (A[st + 1] == (o ^ ((n & 1) & (m & 1)))) putchar('A');\n\t\telse putchar('B');\n\t\t//o ^= ((n & 1) & (m & 1));\n\t\tfor (int i = 2; i <= n; i++)\n\t\t\tif (A[st + i] == o) putchar('A');\n\t\t\telse putchar('B');\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nconst int N=200005;\n\nint n,m,a[N*3];\nchar s[N];\n\nvoid pri(int tag,int now)\n{\n\tfor (int i=0;i<n;i++) putchar('A'+(a[now+i]^tag));\n\tputs(\"\");\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%s\",s+1);\n\tfor (int i=1;i<=n;i++) a[i]=s[i]-'A';\n\tint tag=0,now=1;\n\tfor (int i=1;m&&i<=n*2;i++,m--)\n\t{\n\t\tif ((a[now]^tag)==0) a[now]^=1;\n\t\telse tag^=1,a[now+n]=tag,now++;\n\t}\n\tif (n&1)\n\t{ \n\t\tif (m&&(a[now]^tag)==1) tag^=1,a[now+n]=tag,now++,m--;\n\t\tm%=2;\n\t\tif (m)\n\t\t{\n\t\t\tif (a[now]^tag==0) a[now]^=1;\n\t\t\telse tag^=1,a[now+n]=tag,now++;\n\t\t}\n\t}\n\tfor (int i=0;i<n;i++) putchar('A'+(a[now+i]^tag));\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\ntypedef unsigned ui;\ntypedef unsigned long long ul;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<ld, ld> pdd;\ntypedef pair<ul, ul> puu;\ntypedef vector<int> vi;\n#define pb push_back\n#define fi first\n#define se second\n#define ls (i << 1)\n#define rs (i << 1 | 1)\n#define mid (l + r >> 1)\n#define enum(i, j, k) for(int i = j; i <= (k); i ++)\n#define open(i, j, k) for(int i = j; i <  (k); i ++)\n#define dec(i, j, k)  for(int i = j; i >= (k); i --)\n#define ae(x) for(node *p = h[x]; p; p = p->nxt)\n#define mfil(x, k) memset(x, k, sizeof x)\n#define mcpy(x, y) memcpy(x, y, sizeof x)\n#define fio(x) freopen(x\".in\", \"r\", stdin); freopen(x\".out\", \"w\", stdout)\ntemplate <class T> bool chkmin(T &x, T y)\n{ return y < x ? (x = y, true) : false; }\ntemplate <class T> bool chkmax(T &x, T y)\n{ return y > x ? (x = y, true) : false; }\nstruct __init { __init()\n{\n    ios::sync_with_stdio(false); cin.tie(0);\n    cout.precision(16); cout << fixed;\n    srand(time(0) ^ ui(ul(new char)));\n} } static __init__;\n/* default code ends here */\n\nconst int maxn = 2e5 + 10;\nint n, k;\nbool a[3 * maxn], lazy;\nint front = 1;\nint main()\n{\n    cin >> n >> k;\n    if(k > 3 * n + 10)\n        k -= (k - 3 * n) / 2 * 2 - 4;\n    string foo;\n    cin >> foo;\n    enum(i, 1, n)\n        a[i] = foo[i - 1] == 'A';\n    while(k --)\n    {\n        if(a[front] ^ lazy)\n        {\n            a[front] ^= 1;\n            continue;\n        }\n        front ++;\n        lazy ^= 1;\n        a[front + n - 1] = lazy ^ 1;\n    }\n    enum(i, front, front + n - 1)\n        cout << (a[i] ^ lazy ? 'A' : 'B');\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\nint n,k;\nstring s;\nstring A(int x){ string s=\"\";rep(i,x)s.pb('A');return s;}\nstring B(int x){ string s=\"\";rep(i,x)s.pb('B');return s;}\n\nstring rec(int a,int b,int zan){\n\tif(a>1&&b>1){\n\t\tif(zan==0) return B(a)+A(b);\n\t\tif(zan==1) return A(a-1)+B(b)+A(1);\n\t\tif(zan==2) return B(1)+A(a-2)+B(b)+A(1);\n\t\treturn rec(a-1,b-1,zan-3)+\"BA\";\n\t}\n\tif(a==1&&b==1) return B(1)+A(1);\n\tif(zan==0) return B(a)+A(b);\n\tif(a==1){\n\t\tif(zan==1) return B(a+b-1)+A(1);\n\t\tif(zan==2) return A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-3)+B(1)+A(1);\n\t}\n\telse{\n\t\tif(zan==1) A(a+b-2)+B(1)+A(1);\n\t\treturn rec(1,a+b-3,zan-2)+B(1)+A(1);\n\t}\n}\nint main(){\n\tcin>>n>>k>>s;\n\twhile(1){\n\t\tif(k==0){\n\t\t\tcout<<s<<endl; return 0;\n\t\t}\n\t\tif(s[0]=='A'){\n\t\t\ts[0]='B'; k--; continue;\n\t\t}//cout<<\"N\"<<endl;\n\t\tfor(int i=0;i<n;){\n\t\t\twhile(s[i]=='B'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A');\n\t\t\t\telse s[i]='A';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){\n\t\t\t\tk--; continue;\n\t\t\t}\n\t\t\twhile(s[i]=='A'){\n\t\t\t\tif(i!=n-1&&s[i+1]=='A') s[i]='B';\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i==n){//cout<<s<<endl;\n\t\t\t\tk--; break;\n\t\t\t}\n\t\t}\n\t}\n\tif(k==0){\n\t\tcout<<s<<endl; return 0;\n\t}\n\tstring ans = \"\"; \n\tfor(int i=0;i<n;){\n\t\tint x = 0,y = 0;\n\t\twhile(s[i]=='B'){\n\t\t\ti++; x++;\n\t\t}\n\t\twhile(s[i]=='A'){\n\t\t\ti++; y++;\n\t\t}//cout<<x<<y<<endl;\n\t\tans+=rec(x,y,k);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n  int n;\n  long long K;\n  scanf(\"%d%lld\",&n,&K);\n  static char s[200010];\n  scanf(\"%s\",s);\n  int x=0,p=0;\n  while(x<n&&K>0){\n    if(s[x]=='A'+p){\n      s[x]='A'+!p;\n    }\n    else{\n      x++;\n      p=!p;\n    }\n    K--;\n  }\n  for(int i=x;i<n;i++){\n    putchar('A'+((s[i]=='A')==p));\n  }\n  for(int i=0;i<x;i++){\n    putchar('A'+((x-i)%2==0));\n  }\n  putchar('\\n');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n \nvoid Solve(int l,int r,int rev,int len,int K)\n{\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t\tif(n&1)\n\t\t{\n\t\t\tif(K&1) cout<<\"B\";\n\t\t\telse cout<<\"A\";\t\n\t\t}\n\t\tfor(int i=1+(n&1);i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n \nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tif(l>r)\n\t\t{\n\t\t\tif(n&1) Solve(2,1,0,n,K);\n\t\t\telse if(K>=3) Solve(2,1,0,n,K-3);\n\t\t\telse \n\t\t\t{\n\t\t\t\tif(K==1) cout<<\"BB\";\n\t\t\t\tif(K==2) cout<<\"AA\";\n\t\t\t\tfor(int i=3;i<=n;++i) putchar((i&1)==(n&1)?'A':'B');\t\n\t\t\t}\n\t\t} \n\t\telse \n\t\t{\n\t\t\tst[l-1]='A'+(rev^1);\n\t\t\tAplusB(0,l-1,r,rev,len,K-1);\n\t\t}\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n \nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n \nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include <sys/timeb.h>\n#include <fstream>\n\nusing namespace std;\n\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define replrev(i,a,b) for(int i=(int)(b)-1;i>=(int)(a);i--)\n#define reprev(i,n) replrev(i,0,n)\n#define repi(itr,ds) for(auto itr = ds.begin(); itr != ds.end(); ++itr)\n#define mp make_pair\n#define INF 2000000000\n#define INFL 2000000000000000000LL\n#define MOD 1000000007\n#define PI 3.1415926536\n#define RMAX 4294967295\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<char> vc;\ntypedef vector<double> vd;\ntypedef vector<P> vP;\ntypedef vector<vector<int> > vvi;\ntypedef vector<vector<ll> > vvll;\ntypedef vector<vector<char> > vvc;\ntypedef vector<vector<P> > vvP;\ntypedef priority_queue<int, vector<int>, greater<int> > pqli;\ntypedef priority_queue<P, vector<P>, greater<P> > pqlP;\ntypedef pair<int, pair<int, int> > Edge;\n\nvoid move(vc &s) {\n\tif (s[0] == 'A') {\n\t\ts[0] = 'B';\n\t\treturn;\n\t}\n\trep(i, s.size()) {\n\t\tif (i == s.size() - 1)s[i] = 'A';\n\t\telse {\n\t\t\tif (s[i + 1] == 'A')s[i] = 'B';\n\t\t\telse s[i] = 'A';\n\t\t}\n\t}\n}\n\nint main() {\n\tint N, K;\n\tstring S;\n\tcin >> N >> K >> S;\n\tvc s(N);\n\trep(i, N)s[i] = S[i];\n\trep(i, K) {\n\t\tmove(s);\n\t\tif (i == N) {\n\t\t\t// あとK-N回\n\t\t\tif (s[0] == 'A') {\n\t\t\t\t// 周期2\n\t\t\t\tif ((K - N) % 2 == 1)move(s);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t}\n\n\trep(i, N) {\n\t\tcout << s[i];\n\t}\n\tcout << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint n, k;\nstring s;\nvoid flip(string& s) {\n  for (int i = 0; i < n; ++i) {\n    if (i & 1) {\n      s[i] = s[i] == 'A' ? 'B' : 'A';\n    }\n  }\n}\n\nint main() {\n  cin >> n >> k >> s;\n  flip(s);\n  int i = 0;\n  int r = 0;\n  for (int z = 0; z < k; ++z) {\n    if (i >= n) {\n      if ((k - z) % 2 == 1) r = 1;\n      break;\n    }\n    if (s[i] == 'B') {\n      ++i;\n    } else if (r == 1) {\n      r = 0;\n      ++i;\n    } else {\n      r = 1;\n    }\n  }\n  \n  string t = s.substr(i) + string(i, n % 2 == 0 ? 'B' : 'A');\n  \n  if (r) {\n    t[0] = 'B';\n  }\n\n  flip(t);\n  cout << t << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define REP(i, N) for (int (i) = 0; (i) < (N); ++(i))\n#define READALL(c) for (auto &e : c) { cin >> e; }\n#define PRINTALL(c) for (const auto &e : c) { cout << e << \"\\t\"; } cout << \"\\n\";\n\ntemplate <typename T>\nusing V = vector<T>;\n\ntypedef long double ld;\n\nvoid print(V<int> ans) {\n\tfor (int a : ans) {\n\t\tcout << (!a ? 'A' : 'B');\n\t}\n\tcout << endl;\n}\n\nint cell(const V<int> &S, int loc, int steps) {\n\tint N = S.size();\n\tint j = loc+steps;\n\tint ans;\n\tif (j < N) {\n\t\tans = S[j];\n\t} else {\n\t\tans = !((j-N)%2);\n\t}\n\tif (steps%2) {\n\t\tans = !ans;\n\t}\n\treturn ans;\n}\n\nV<int> solve(int N, int K, V<int> S) {\n\tV<int> ans = S;\n\tint cnt = 0;\n\tbool flipped = 0;\n\tint steps_left = 0;\n\tREP(i, K) {\n\t\tif (!cell(S, 0, cnt) && !flipped) {\n\t\t\tflipped = 1;\n\t\t} else {\n\t\t\tflipped = 0;\n\t\t\t++cnt;\n\t\t}\n\t\tif (cnt > N) {\n\t\t\tsteps_left = K-i-1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (steps_left) {\n\t\tREP(i, N) {\n\t\t\tans[i] = (i+1)%2;\n\t\t}\n\t\tif (N%2 && steps_left%2) {\n\t\t\tREP(i, N) {\n\t\t\t\tans[i] = !ans[i];\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n\n\tif (flipped)\n\t\tans[0] = 1;\n\telse\n\t\tans[0] = cell(S, 0, cnt);\n\n\tfor (int i = 1; i < N; ++i) {\n\t\tans[i] = cell(S, i, cnt);\n\t}\n\treturn ans;\n}\n\nmain() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tint N, K;\n\tcin >> N >> K;\n\tstring S;\n\tcin >> S;\n\tV<int> A(N);\n\tREP(i, N) {\n\t\tA[i] = (S[i] == 'B');\n\t}\n\t// print(simulate(N, K, A));\n\t// cout << endl;\n\tprint(solve(N, K, A));\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t} \n\telse BplusA(a-1,l,r,rev^1,len+1,K-1);\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(0,posa+1,n,0,0,K);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"O2\")\n#pragma GCC optimize(\"unroll-loops\")\n#include<bits/stdc++.h>\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define pb push_back\nusing namespace std;\nusing ll = long long;\n//using arr = array;\nusing pi = pair<int, int>;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vpi = vector<pi>;\nusing ld = long double;\nconst int maxn = 1<<18, mod = 1e9 + 7;\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nint n, k;\nstring s;\nvoid go() {//naive\n\tint i = 0, v = 1;\n\twhile(i>=0&&i<n) {\n\t\tif(s[i] == 'A') v=-v;\n\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t\ti += v;\n\t}\n\tcout << (i<0?'L':'R') << \" \";\n}\nstring get(int n, int k, string s) {\n\tfor(auto &i : s) i -= 'A';\n\tint l = 0, a = 0;\n\tfor(int i = 0; i < k; i++) {\n\t\tif(s[l] == a) s[l] = !a;\n\t\telse {\n\t\t\tl = ++l == n ? 0 : l;\n\t\t\ta ^= 1;\n\t\t\ts[l ? l-1 : n-1] = a;\n\t\t}\n\t}\n\tr++;\n\tstring res = \"\";\n\twhile(true) {\n\t\tres += char('A' + (s[l++]^a));\n\t\tif(l == r) break;\n\t\tif(l == n) l = 0;\n\t}\n\treturn res;\n}\nint main() {\n\tcin.tie(0)->sync_with_stdio(0);\n\tcin >> n >> k >> s;\n\tcout << (get(n, k, s));\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cmath>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<iomanip>\n#define _USE_MATH_DEFINES\n#include <math.h>\n#include <functional>\n#include<complex>\nusing namespace std;\n\n#define rep(i,x) for(ll i=0;i<x;i++)\n#define repn(i,x) for(ll i=1;i<=x;i++)\n\ntypedef long long ll;\nconst ll INF = 1e17;\nconst ll MOD = 1000000007;\nconst ll MAX = 4000001;\nconst double eps = 1E-18;\n\nll max(ll a, ll b) {\n\tif (a > b) { return a; }\n\treturn b;\n}\n\nll min(ll a, ll b) {\n\tif (a > b) { return b; }\n\treturn a;\n}\n\nll gcd(ll a, ll b) {\n\tif (b == 0) { return a; }\n\tif (a < b) { return gcd(b, a); }\n\treturn gcd(b, a % b);\n}\n\nll lcm(ll a, ll b) {\n\treturn a / gcd(a, b) * b;\n}\n\nstruct edge {\n\tll ind;\n\tll fr;\n\tll to;\n\tll d;\n};\n\nclass mint {\n\tlong long x;\npublic:\n\tmint(long long x = 0) : x((x% MOD + MOD) % MOD) {}\n\tmint operator-() const {\n\t\treturn mint(-x);\n\t}\n\tmint& operator+=(const mint& a) {\n\t\tif ((x += a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator-=(const mint& a) {\n\t\tif ((x += MOD - a.x) >= MOD) x -= MOD;\n\t\treturn *this;\n\t}\n\tmint& operator*=(const  mint& a) {\n\t\t(x *= a.x) %= MOD;\n\t\treturn *this;\n\t}\n\tmint operator+(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res += a;\n\t}\n\tmint operator-(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res -= a;\n\t}\n\tmint operator*(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res *= a;\n\t}\n\n\tmint pow(ll t) const {\n\t\tif (!t) return 1;\n\t\tmint a = pow(t >> 1);\n\t\ta *= a;\n\t\tif (t & 1) a *= *this;\n\t\treturn a;\n\t}\n\n\t// for prime MOD\n\tmint inv() const {\n\t\treturn pow(MOD - 2);\n\t}\n\tmint& operator/=(const mint& a) {\n\t\treturn (*this) *= a.inv();\n\t}\n\tmint operator/(const mint& a) const {\n\t\tmint res(*this);\n\t\treturn res /= a;\n\t}\n\n\tfriend ostream& operator<<(ostream& os, const mint& m) {\n\t\tos << m.x;\n\t\treturn os;\n\t}\n};\n\nmint pw(mint a, ll b) {\n\tif (b == 0) { return 1; }\n\tmint ret = pw(a, b >> 1);\n\tret *= ret;\n\tif (b & 1) { ret *= a; }\n\treturn ret;\n}\n\ntypedef vector<ll> vll;\ntypedef vector<vector<ll>> vvll;\ntypedef vector<vector<vector<ll>>> vvvll;\n\ntypedef vector<mint> vmint;\ntypedef vector<vector<mint>> vvmint;\ntypedef vector<vector<vector<mint>>> vvvmint;\n\n//////////////////////////////////////\n\ntemplate<typename T>\nstruct BIT {\n\tll n;\n\tvector<T> bt;\n\tll sz;\n\n\tBIT(ll n0) {\n\t\tn = n0;\n\t\tsz = 1;\n\t\twhile (sz < n) { sz *= 2; }\n\t\tbt.assign(sz + 1, 0);\n\t}\n\n\tll sum(ll i) {\n\t\tT ret = 0;\n\t\tfor (ll x = i; x > 0; x -= x & (-x)) {\n\t\t\tret += bt[x];\n\t\t}\n\t\treturn ret;\n\t}\n\n\tvoid add(ll i, ll w) {\n\t\tfor (ll x = i; x <= sz; x += x & (-x)) {\n\t\t\tbt[x] += w;\n\t\t}\n\t\treturn;\n\t}\n};\n\n\n\ntemplate <typename T>\nll tento(ll N, vector<T> A) {\n\tvector<pair<T, ll>> p(N + 1);\n\n\trepn(i, N) p[i] = { A[i],i };\n\tsort(++p.begin(), p.end());\n\n\tBIT<T> bit(N);\n\tll ret = 0;\n\n\trepn(i, N) {\n\t\tll t = p[i].second;\n\t\tret += bit.sum(t);\n\t\tbit.add(t, 1);\n\t}\n\n\tret = N * (N - 1) / 2 - ret;\n\treturn ret;\n}\n\n\nint main() {\n\tll N, K;\n\tcin >> N >> K;\n\n\tstring S;\n\tcin >> S;\n\n\tll c = 0;//見ている位置\n\trep(i, K) {\n\t\tif (c % 2 == 0) {\n\t\t\tif (S[c] == 'A') { S[c] = 'B'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\telse {\n\t\t\tif (S[c] == 'B') { S[c] = 'A'; }\n\t\t\telse { c++; }\n\t\t}\n\n\t\tif (c == N) { c += K - 1 - i; break; }\n\t}\n\n\trep(i, N) {\n\t\tchar t = S[(c + i) % N];\n\t\tif(c%2==1) {\n\t\t\tif (t == 'A') { t = 'B'; }\n\t\t\telse { t = 'A'; }\n\t\t}\n\t\tcout << t;\n\t}\n\n\tcout << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nchar s[401000];\nint n, k;\n\nint main()\n{\n\tscanf(\"%d%d%s\", &n, &k, s + 1);\n\tbool ok = 1;\n\tfor(int i = 1; i <= n; i++)\n\t\tif(s[i] == 'A') {ok = 0; break;} \n\tif(ok)\n\t{\n\t\tk--;\n\t\tfor(int i = 1; i <= n; i++)\n\t\t\ts[i] = 'A';\n\t}\n\tint h = 1, t = 0;\n\tif(n == 1) t = k & 1;\n\telse\n\t\twhile(k--)\n\t\t{\n\t\t\tif(h > n) break;\n\t\t\tif(t) s[h] = s[h] == 'A' ? 'B' : 'A';\n\t\t\tif(s[h] == 'B')\n\t\t\t{\n\t\t\t\tt ^= 1;\n\t\t\t\tif(t == 1) s[n + h] = 'B';\n\t\t\t\telse s[n + h] = 'A';\n\t\t\t\th++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(t == 1) s[h] = 'A';\n\t\t\t\telse s[h] = 'B';\n\t\t\t}\n\t\t}\n\tif(t)\n\t{\n\t\tfor(int i = h; i < h + n; i++)\n\t\t\ts[i] = s[i] == 'A' ? 'B' : 'A';\n\t}\n\tif(k >= 0 && !(k & 1) && s[h] == 'A') s[h] = 'B';\n\tprintf(\"%s\\n\", s + h);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll int\n#define llu unsigned long long\n#define ld double\n#define llu unsigned long long\n#define rep(i,x,y)  for(int i=int(x);i<int(y);++i)\n#define For(i,x,y)  for(int i=int(x);i<=int(y);++i)\n#define FOr(i,x,y)  for(int i=int(x);i>=int(y);--i)\n#define pi acos(-1) \n#define mk make_pair\n#define pa pair<ll,ll>\n#define lf else if\n#define IL inline\n#define max(x,y)    ((x)<(y)?(y):(x))\n#define min(x,y)    ((x)<(y)?(x):(y))\n#define sqr(x)      ((x)*(x))\n#define Mul(x,y)    ((x)=1LL*(x)*(y)%mod)\n#define Add(x,y)    ((x)=((x)+(y))%mod)\n#define Max(x,y)    ((x)=((x)<(y)?(y):(x)))\n#define Min(x,y)    ((x)=((x)>(y)?(y):(x)))\n#define E(x)        return writeln(x),0\n#define LL\t\t\t(long long)\n#define p(x)        printf(\"~%lld~\\n\",LL(x))\n#define pp(x,y)     printf(\"~~%lld %lld~~\\n\",LL(x),LL(y))\n#define ppp(x,y,z)  printf(\"~~~%lld %lld %lld~~~\\n\",LL(x),LL(y),LL(z))\n#define pppp(a,b,c,d)\tprintf(\"~~~%lld %lld %lld %lld\\n\",LL(a),LL(b),LL(c),LL(d))\n#define f_in(x)     freopen(x\".in\",\"r\",stdin)\n#define f_out(x)    freopen(x\".out\",\"w\",stdout)\n#define open(x)     f_in(x),f_out(x)\n#define fi first\n#define se second\n#define GuYue\t\tputs(\"\\nGuYueNa________________________________________________________________________________\")\ntypedef complex<double> E;\nnamespace SHENZHEBEI{\n#ifdef LOCAL\n    struct _{_(){freopen(\"cf.in\",\"r\",stdin);}}_; \n#endif \n#define NEG 1\n    static const int GYN=2333333;\n    char SZB[GYN],*SS=SZB,*TT=SZB;\n    inline char gc(){   if (SS==TT){  TT=(SS=SZB)+fread(SZB,1,GYN,stdin); if (SS==TT) return '\\n';  }   return *SS++;    }\n#if NEG\n    inline ll read(){    ll x=0,g=1; char ch=gc();   for (;!isdigit(ch);ch=gc()) if (ch=='-') g=-1;  for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x*g; }\n    inline void write(ll x){    if (x<0) putchar('-'),x=-x;  if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#else\n    inline ll read(){    ll x=0; char ch=gc();   for (;!isdigit(ch);ch=gc());    for (;isdigit(ch);ch=gc())  x=x*10-48+ch;   return x;   }\n    inline void write(ll x){    if (x>=10)   write(x/10);    putchar(x%10+'0');  }\n#endif\n    inline char readchar(){ char ch=gc();   for(;isspace(ch);ch=gc());  return ch;  }\n    inline ll readstr(char *s){ char ch=gc();   int cur=0;  for(;isspace(ch);ch=gc());      for(;!isspace(ch);ch=gc())  s[cur++]=ch;    s[cur]='\\0';    return cur; }\n\tvoid Print(long long *a,int s,int t){For(i,s,t)printf(\"%lld \",a[i]);}\n\tvoid Print(int *a,int s,int t){For(i,s,t)printf(\"%d \",a[i]);}\n\tvoid Print(char *a,int s,int t){For(i,s,t)putchar(a[i]);}\n\tvoid writeln(ll x){write(x);puts(\"\");}\n}using namespace SHENZHEBEI;\nconst ll N=400010;\nbitset<200100>f;\nchar s[200100];\nll n,k;\nint main(){\n\tn=read(),k=read();\n\tif (k>2*n){\n\t\tfor(;k>4*n;k-=2*n);\n\t}\n\treadstr(s+1);\n\tFor(i,1,n)f[i]=s[i]=='A';\n\tFor(i,1,k)if (f[1])\tf[1]=0;\n\telse{\n\t\tf.flip(),f>>=1,f[n]=1;\n\t}\n\tFor(i,1,n)putchar(f[i]?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing uint = unsigned int;\nusing lint = long long int;\nusing ulint = unsigned long long int;\ntemplate<class T = int> using V = vector<T>;\ntemplate<class T = int> using VV = V< V<T> >;\ntemplate<class T, class U> void assign(V<T>& v, int n, const U& a) { v.assign(n, a); }\ntemplate<class T, class... Args> void assign(V<T>& v, int n, const Args&... args) { v.resize(n); for (auto&& e : v) assign(e, args...); }\n\n\nint main() {\n  cin.tie(nullptr); ios_base::sync_with_stdio(false);\n  int n, k; cin >> n >> k;\n  string s; cin >> s;\n  bitset<200'000> bs;\n  for (int i = 0; i < n; ++i) bs[i] = s[i] == 'B';\n  int i = 0;\n  bool rev = false;\n  for (int _ = 0; _ < k; ++_) {\n    if (rev ^ !bs[i]) bs.flip(i);\n    else {\n      if (++i == n) i = 0;\n      rev = !rev;\n    }\n  }\n  for (int i = 0; i < n; ++i) s[i] = 'A' + bs[i];\n  rotate(begin(s), next(begin(s), i), end(s));\n  if (rev) {\n    for (int i = 0; i < n; ++i) s[i] = 'A' + 'B' - s[i];\n  }\n  cout << s << '\\n';\n}"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\n\n\n#define PB push_back\n#define PF push_front\n#define LB lower_bound\n#define UB upper_bound\n#define fr(x) freopen(x,\"r\",stdin)\n#define fw(x) freopen(x,\"w\",stdout)\n#define iout(x) printf(\"%d\\n\",x)\n#define lout(x) printf(\"%lld\\n\",x)\n#define REP(x,l,u) for(int x = (l);x<=(u);x++)\n#define RREP(x,l,u) for(int x = (l);x>=(u);x--)\n#define mst(x,a) memset(x,a,sizeof(x))\n#define PII pair<int,int>\n#define PLL pair<ll,ll>\n#define MP make_pair\n#define se second\n#define fi first\n#define dbg(x) cout<<#x<<\" = \"<<(x)<<endl;\n#define sz(x) ((int)x.size())\n#define cl(x) x.clear()\n\ntypedef  long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ntypedef long double ld;\nusing namespace std;\n\nconst int maxn = 400010;\nconst int mod = 1e9+7;\nconst int MAX = 1000000010;\nconst double eps = 1e-6;\nconst double PI = acos(-1);\n\ntemplate<typename T> inline void read(T &x){\nx=0;T f=1;char ch;do{ch=getchar();if(ch=='-')f=-1;}while(ch<'0'||ch>'9');do x=x*10+ch-'0',ch=getchar();while(ch<='9'&&ch>='0');x*=f;\n}\n\ntemplate<typename A,typename B> inline void read(A&x,B&y){read(x);read(y);}\ntemplate<typename A,typename B,typename C> inline void read(A&x,B&y,C&z){read(x);read(y);read(z);}\ntemplate<typename A,typename B,typename C,typename D> inline void read(A&x,B&y,C&z,D&w){read(x);read(y);read(z);read(w);}\ntemplate<typename A,typename B> inline A fexp(A x,B p){A ans=1;for(;p;p>>=1,x=1LL*x*x%mod)if(p&1)ans=1LL*ans*x%mod;return ans;}\ntemplate<typename A,typename B> inline A fexp(A x,B p,A mo){A ans=1;for(;p;p>>=1,x=1LL*x*x%mo)if(p&1)ans=1LL*ans*x%mo;return ans;}\n\nint n,k;\n\nchar s[maxn];\n\nint A[maxn];\n\nvoid Work(){\n\tint now=0,l=1,r=n;\n\tREP(i,1,n*2){\n\t\tif((A[l]^now))A[l]=0;\n\t\telse{\n\t\t\tl++;A[++r]=now;\n\t\t\tnow^=1;\n\t\t}\n\t\tif(!--k){\n\t\t\tREP(j,l,r)printf(\"%c\",'A'+(!(A[j]^now)));puts(\"\");\n\t\t\treturn;\n\t\t}\n\t}\n\tREP(i,l,r)A[i]^=now;\n\tif((n&1)&&(k&1))A[l]^=1;\n\tREP(i,l,r)printf(\"%c\",'A'+(!A[i]));puts(\"\");\n}\n\nvoid Init(){\n\tread(n,k);\n\tscanf(\"%s\",s+1);\n\tREP(i,1,n)A[i]=!(s[i]-'A');\n}\n\nint main(){\n\tInit();\n\tWork();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#ifdef DEBUG\n#define _GLIBCXX_DEBUG\n#endif\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long double ld;\n\n#ifdef DEBUG\n#define eprintf(...) fprintf(stderr, __VA_ARGS__), fflush(stderr)\n#else\n#define eprintf(...) ;\n#endif\n\n#define sz(x) ((int) (x).size())\n#define TASK \"text\"\n\nconst int inf = (int) 1.01e9;\nconst ld eps = 1e-9;\nconst ld pi = acos((ld) -1);\n\nmt19937 mrand(random_device{} ()); \n\nint rnd(int x) {\n  return mrand() % x;\n}\n\nvoid precalc() {\n}\n\nconst int maxn = (int) 2e5 + 5;\nint n, k;\nchar tmp[maxn];\nint a[maxn];\n\nint read() {\n  if (scanf(\"%d%d\", &n, &k) < 2) {\n    return false;\n  }\n  scanf(\"%s\", tmp);\n  for (int i = 0; i < n; i++) {\n    a[i] = tmp[i] - 'A';\n  }\n  return true;\n}\n\nvoid solve() {\n  int pos = 0;\n  int toxor = 0;\n  while (k && pos != n) {\n    if (a[pos] ^ toxor) {\n      pos++;\n      toxor ^= 1;\n    } else {\n      a[pos] ^= 1;\n    }\n    k--;\n  }\n  if (!k) {\n    for (int i = 0; i < n; i++) {\n      tmp[i] = 'A' + (a[i] ^ toxor);\n    }\n    rotate(tmp, tmp + pos, tmp + n);\n    printf(\"%s\\n\", tmp);\n    return;\n  }\n  pos = 0;\n  if (!(n & 1)) {\n    if (!(a[pos] ^ toxor)) {\n      while (k && pos != n) {\n        if (a[pos] ^ toxor) {\n          pos++;\n          toxor ^= 1;\n        } else {\n          a[pos] ^= 1;\n        }\n        k--;\n      }\n      if (!k) {\n        for (int i = 0; i < n; i++) {\n          tmp[i] = 'A' + (a[i] ^ toxor);\n        }\n        rotate(tmp, tmp + pos, tmp + n);\n        printf(\"%s\\n\", tmp);\n        return;\n      }\n      pos = 0;\n    }\n    assert(a[pos] ^ toxor);\n  } else {\n    if (a[pos] ^ toxor) {\n      while (k && pos != n) {\n        if (a[pos] ^ toxor) {\n          pos++;\n          toxor ^= 1;\n        } else {\n          a[pos] ^= 1;\n        }\n        k--;\n      }\n      if (!k) {\n        for (int i = 0; i < n; i++) {\n          tmp[i] = 'A' + (a[i] ^ toxor);\n        }\n        rotate(tmp, tmp + pos, tmp + n);\n        printf(\"%s\\n\", tmp);\n        return;\n      }\n      pos = 0;\n    }\n    assert(!(a[pos] ^ toxor));\n  }\n  if (n & 1) {\n    k %= 2;\n  } else {\n    k %= 1;\n  }\n  while (k) {\n    if (a[pos] ^ toxor) {\n      pos++;\n      if (pos == n) {\n        pos = 0;\n      }\n      toxor ^= 1;\n    } else {\n      a[pos] ^= 1;\n    }\n    k--;\n  }\n  for (int i = 0; i < n; i++) {\n    tmp[i] = 'A' + (a[i] ^ toxor);\n  }\n  rotate(tmp, tmp + pos, tmp + n);\n  printf(\"%s\\n\", tmp);\n}\n\nint main() {\n  precalc();\n#ifdef DEBUG\n  assert(freopen(TASK \".in\", \"r\", stdin));\n  assert(freopen(TASK \".out\", \"w\", stdout));\n#endif\n  while (read()) {\n    solve();\n#ifdef DEBUG\n    eprintf(\"Time %.2f\\n\", (double) clock() / CLOCKS_PER_SEC);\n#endif\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <cassert>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <vector>\n#include <queue>\n#include <list>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <algorithm>\n#include <complex>\n#include <cmath>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\ntypedef long long int64;\ntypedef pair<int, int> ii;\nconst int INF = 1 << 30;\n\nconst int N = 2e5 + 10;\nchar s[N];\nint main() {\n  int n, k;\n  scanf(\"%d%d\", &n, &k);\n  scanf(\"%s\", s);\n  // n = 4; k = 1000000000;\n  vector<bool> a(n);\n  // bitset<N> a;\n  for (int i = 0; i < n; ++i) {\n    a[i] = (s[i] == 'A');\n    // a[i] = rand() % 2;\n  }\n  if (n == 1) {\n    if (k % 2) a[0] = !a[0];\n    for (int i = 0; i < n; ++i) {\n      putchar(a[i] ? 'A' : 'B');\n    }\n    puts(\"\");\n    return 0;\n  }\n  bool flip = false;\n  int idx = 0;\n  while (k >= 4) {\n    int nidx = (idx + 1) % n;\n    if ((a[idx] ^ flip) && (a[nidx] ^ flip)) {\n      a[idx] = !a[idx];\n      idx = (idx + 3) % n;\n      k -= 3;\n    } else if ((a[idx] ^ flip) && !(a[nidx] ^ flip)) {\n      a[idx] = !a[idx];\n      a[nidx] = !a[nidx];\n      idx = (idx + 4) % n;\n      k -= 4;\n    } else if (!(a[idx] ^ flip) && (a[nidx] ^ flip)) {\n      idx = (idx + 2) % n;\n      k -= 2;\n    } else {\n      a[nidx] = !a[nidx];\n      idx = (idx + 3) % n;\n      k -= 3;\n    }\n  }\n  while (k--) {\n    if (a[idx] ^ flip) {\n      a[idx] = !a[idx];\n    } else {\n      a[idx++] = flip;\n      flip = !flip;\n      // flip = !flip;\n      // a[idx] = !flip;\n      // ++idx;\n    }\n    if (idx == n) idx = 0;\n  }\n  for (int i = 0; i < n; ++i) {\n    int j = (idx + i) % n;\n    putchar(flip ^ a[j] ? 'A' : 'B');\n  }\n  puts(\"\");\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// This amazing code is by Eric Sunli Chen.\n#include <algorithm>\n#include <bitset>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <string>\n#include <utility>\n#include <vector>\nusing namespace std;\ntemplate<typename T> void get_int(T &x)\n{\n\tchar t=getchar();\n\tbool neg=false;\n\tx=0;\n\tfor(; (t>'9'||t<'0')&&t!='-'; t=getchar());\n\tif(t=='-')neg=true,t=getchar();\n\tfor(; t<='9'&&t>='0'; t=getchar())x=x*10+t-'0';\n\tif(neg)x=-x;\n}\ntemplate<typename T> void print_int(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tshort a[20]= {},sz=0;\n\twhile(x>0)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1; i>=0; i--)putchar('0'+a[i]);\n}\n#define ff first\n#define ss second\n#define pb push_back\n#define mp make_pair\n#define get1(a) get_int(a)\n#define get2(a,b) get1(a),get1(b)\n#define get3(a,b,c) get1(a),get2(b,c)\n#define printendl(a) print_int(a),puts(\"\")\ntypedef long long LL;\ntypedef unsigned long long uLL;\ntypedef pair<int,int> pii;\nconst int inf=0x3f3f3f3f;\nconst LL Linf=1ll<<61;\nconst double pi=acos(-1.0);\n\nchar s[200111];\nint n,k,q[600111],fr,rr;\nint main()\n{\n\tget2(n,k);scanf(\"%s\",s+1);\n\t\n\tif(k>=2*n)k=(k-2*n)%2+2*n;\n\t\n\tfor(int i=1;i<=n;i++)q[rr++]=s[i]-'A';\n\t\n\tint neg=0;\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tif(q[fr]^neg==0)q[fr]=1;\n\t\telse\n\t\t{\n\t\t\tneg^=1;\n\t\t\tfr++;\n\t\t\tq[rr++]=1;\n\t\t}\n\t}\n\tfor(int i=fr;i<rr;i++)putchar((q[i]^neg)+'A');\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n, k;\nstring st;\nint main()\n{\n    cin >> n >> k;\n    cin >> st;\n    int i = 1, j = 0, c = 0;\n    for (; i <= k && j < n; ++ i)\n    {\n        if ((st[j] == 'A') ^ c)\n            if (st[j] == 'B') st[j] = 'A'; else st[j] = 'B';\n        else\n        {\n            j ++;\n            c ^= 1;\n        }\n    }\n    if (j >= n)\n    {\n        if (n & 1)\n        {\n            if (((k - i) & 1) ^ c) cout << \"B\"; else cout << \"A\";\n            for (int i = 1; i < n; i += 2) cout << \"BA\";\n        }\n        else\n            for (int i = 0; i < n; i += 2) cout << \"BA\";\n        return 0;\n    }\n    for (int p = 0, g = j; p < n; ++ p, ++ g)\n    {\n        if (g < n) if ((st[g] == 'A') ^ c) cout << 'A'; else cout << 'B';\n        else if (((g - n) & 1) ^ c) cout << 'A'; else cout << 'B';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\n#include<cstdlib>\n#include<ctime>\n#include<queue>\n#include<set>\n#include<map>\n#include<stack>\n#include<bitset>\nusing namespace std;\ntypedef long long LL;\nconst int N=2e5+100;\nint gi() {\n\tint w=0;bool q=1;char c=getchar();\n\twhile ((c<'0'||c>'9') && c!='-') c=getchar();\n\tif (c=='-') q=0,c=getchar();\n\twhile (c>='0'&&c <= '9') w=w*10+c-'0',c=getchar();\n\treturn q? w:-w;\n}\nint main()\n{\n\tint n=gi(),k=gi(),i;char c;\n\tdeque<bool>q;bool o=0;\n\tfor (i=1;i<=n;i++,q.push_back(c-'A'))\n\t\twhile ((c=getchar())!='A'&&c!='B');\n\tif (k<=n*2) {\n\t\twhile (k--)\n\t\t\tif (o^q.front())\n\t\t\t\tq.pop_front(),o^=1,q.push_back(o);\n\t\t\telse\n\t\t\t\tq.pop_front(),q.push_front(!o);\n\t\tfor (i=1;i<=n;i++) putchar((o^q.front())+'A'),q.pop_front();\n\t} else {\n\t\tif (n&1) putchar('A'+!(k&1));\n\t\tfor (i=n>>1;i;i--) putchar('B'),putchar('A');\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, j) for(int i=0; i < (int)(j); i++)\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N, K; cin >> N >> K;\n    list<char> S;\n    rep(i, N) {\n        char c; cin >> c;\n        S.push_back(c);\n    }\n    int n = 0;\n    char A = 'A', B = 'B';\n    rep(i, min(K, 3 * N)) {\n        if(S.front() == A) {\n            S.front() = B;\n        } else if(S.front() == B) {\n            S.pop_front();\n            S.push_back(B);\n            swap(A, B);\n        } else assert(false);\n        n++;\n    }\n    \n    if(n < K) {\n        if(S.front() == A) {\n            if(n % 2 == 1) {\n                S.front() = B;\n            }\n        } else if(S.front() == B) {\n            // pass\n        } else assert(false);\n    }\n    map<char, char> mp;\n    mp['A'] = A;\n    mp['B'] = B;\n    \n    for(auto s : S) cout << mp[s];\n    cout << endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "# include <bits/stdc++.h>\n\n# define x first\n# define y second\n# define mp make_pair\n// everything goes according to my plan\n# define pb push_back\n# define sz(a) (int)(a.size())\n# define vec vector\n// shimkenttin kyzdary, dzyn, dzyn, dzyn...\n# define y1    Y_U_NO_y1\n# define left  Y_U_NO_left\n# define right Y_U_NO_right\n\n# ifdef Local\n# define debug(...) _dbg(#__VA_ARGS__, __VA_ARGS__)\n# else\n# define debug(...) (__VA_ARGS__)\n# define cerr if(0)cout\n# endif\n\nusing namespace std;\n\ntypedef pair <int, int> pii;\ntypedef long long ll;\ntypedef long double ld;\n\nconst int Mod = (int)1e9 + 7;\nconst int MX = 1073741822;\nconst ll MXLL = 4e18;\nconst int Sz = 1110111;\n// a pinch of soul\ninline void Read_rap () {\n  ios_base :: sync_with_stdio(0);\n  cin.tie(0); cout.tie(0);\n}\ninline void randomizer3000 () {\n  unsigned int seed;\n  asm (\"rdtsc\" : \"=A\"(seed));\n  srand (seed);\n}\nvoid files (string problem) {\n  if (fopen ((problem + \".in\").c_str(),\"r\")) {\n    freopen ((problem + \".in\").c_str(),\"r\",stdin);\n    freopen ((problem + \".out\").c_str(),\"w\",stdout);\n  }\n}\nvoid localInput(const char in[] = \"s\") {\n  if (fopen (in, \"r\")) {\n    freopen (in, \"r\", stdin);\n  }\n  else\n    cerr << \"Warning: Input file not found\" << endl;\n}\n\n\nint main()\n{\n  # ifdef Local\n    //localInput();\n  # endif\n  Read_rap();\n\n  int n, k;\n  cin >> n >> k;\n  string s;\n  cin >> s;\n  int x = min (k, 2);\n  for (int i = 0; i < k; i++) {\n      if (s[0] == 'A') {\n          s[0] = 'B';\n          continue;\n      }\n\n      for (int i = 0; i < n; i++) {\n\n          if (s[i] == 'B' && (i + 1 == n || s[i + 1] == 'B'))\n              s[i] = 'A';\n          else\n          if (s[i] == 'A' && i + 1 < n &&  s[i + 1] == 'A')\n              s[i] = 'B';\n\n      }\n  }\n  //k -= x;\n//  if (k & 1)\n//      s[0] = (s[0] == 'A' ? 'B' : 'A');\n  cout << s;\n  return 0;\n}\n\n\n\n\n\n\n// Coded by Z.."
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<int,P> P1;\ntypedef pair<P,P> P2;\n#define pb push_back\n#define mp make_pair\n#define eps 1e-7\n#define INF 1000000000\n#define mod 1000000007\n#define fi first\n#define sc second\n#define rep(i,x) for(int i=0;i<x;i++)\n#define repn(i,x) for(int i=1;i<=x;i++)\n#define SORT(x) sort(x.begin(),x.end())\n#define ERASE(x) x.erase(unique(x.begin(),x.end()),x.end())\n#define POSL(x,v) (lower_bound(x.begin(),x.end(),v)-x.begin())\n#define POSU(x,v) (upper_bound(x.begin(),x.end(),v)-x.begin())\ndeque<int>deq;\nint n,k;\nstring s;\nint main(){\n\tcin>>n>>k>>s;\n\trep(i,n){\n\t\tdeq.pb(s[i]-'A');\n\t}\n\tint rev = 0;\n\trep(i,min(10000000,k)){\n\t\tif((rev^deq[0]) == 0){\n\t\t\tdeq[0] ^= 1;\n\t\t}\n\t\telse{\n\t\t\tdeq.pop_front();\n\t\t\trev^=1;\n\t\t\tdeq.pb(rev);\n\t\t}\n\t}\n\tif(10000000>=k){\n\t\trep(i,n){\n\t\t\tprintf(\"%c\",('A'+(rev^deq[i])));\n\t\t}\n\t}\n\telse{\n\t\tfor(int i=1;i<n;i++){\n\t\t\tassert(deq[i]!=deq[i-1]);\n\t\t}\n\t\tint zan = k-10000000;\n\t\tzan %= 2;\n\t\trep(i,zan){\n\t\t\tif((rev^deq[0]) == 0){\n\t\t\t\tdeq[0] ^= 1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdeq.pop_front();\n\t\t\t\trev^=1;\n\t\t\t\tdeq.pb(rev);\n\t\t\t}\n\t\t}\n\t\trep(i,n){\n\t\t\tprintf(\"%c\",('A'+(rev^deq[i])));\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nconst int N = 100010;\n\nchar s[N];\nint n, k;\nstd::deque <int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++ i){\n\t\tdq.push_back(s[i] - 'A');\n\t}\n\tif (k > n << 1){\n\t\tk = (n << 1) + (k & 1);\n\t}\n\tint flag = 0;\n\tfor (int i = 0; i < k; ++ i){\n\t\tif (dq.front() == flag){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(flag ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflag ^= 1;\n\t\t\tdq.push_back(flag);\n\t\t}\n\t}\n\twhile (!dq.empty()){\n\t\tint x = dq.front();\n\t\tputchar((x ^ flag) + 'A');\n\t\tdq.pop_front();\n\t}\n\treturn printf(\"\\n\"), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <queue>\n\nusing namespace std;\n\nchar s[200001];\n\nint main() {\n    int n, k, c = 0, f = 0, i, j;\n    deque <int> q;\n    \n    scanf(\"%d %d\", &n, &k);\n    scanf(\"%s\", s);\n    \n    for (i = 0; i < n; i++) q.push_back(s[i] - 'A');\n    \n    for (i = 0; i < k; i++) {\n        if ((q[0] + f) % 2 == 0) {\n            q[0] = 1 - q[0];\n        } else {\n            f++;\n            q.pop_front();\n            q.push_back(f % 2);\n            \n            if (f == n) {\n                if (n % 2 == 1 && (k - i - 1) % 2 == 1) q[0] = 1 - q[0];\n                \n                break;\n            }\n        }\n    }\n    \n    for (i = 0; i < n; i++) putchar('A' + (q[i] + f) % 2);\n    puts(\"\");\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nconst int N = 100010;\n\nchar s[N];\nint n, k;\nstd::deque <int> dq;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tfor (int i = 0; i < n; ++ i){\n\t\tdq.push_back(s[i] - 'A');\n\t}\n\tif (k > n << 1){\n\t\tk = (n << 1) + (k & 1);\n\t}\n\tint flag = 0;\n\tfor (int i = 0; i < k; ++ i){\n\t\tint x = dq.front();\n\t\tif (x == flag){\n\t\t\tdq.pop_front();\n\t\t\tdq.push_front(flag ^ 1);\n\t\t}\n\t\telse{\n\t\t\tdq.pop_front();\n\t\t\tflag ^= 1;\n\t\t\tdq.push_back(flag);\n\t\t}\n\t}\n\twhile (!dq.empty()){\n\t\tint x = dq.front();\n\t\tputchar((x ^ flag) + 'A');\n\t\tdq.pop_front();\n\t}\n\treturn printf(\"\\n\"), 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath> \n\nusing namespace std;\n\nchar a[200100];\nbool sta[200100];\nint n,fal;\n\nint main()\n{\n\t//freopen(\"a.in\",\"r\",stdin);\n\tscanf(\"%d%d\",&n,&fal);\n\tscanf(\"%s\",a + 1);\n\tfor(int i = 1;i <= n;i++)\n\t\tif(a[i] == 'B')sta[i] = true;\n\tfor(int k = 1;k <= fal;k++)\n\t{\n\t\tint pos = 1,pre = -1;\n\t\twhile(pos >= 1 && pos <= n)\n\t\t{\n\t\t\tif(sta[pos])\n\t\t\t{\n\t\t\t\tsta[pos] = false;\n\t\t\t\tpos += -pre;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsta[pos] = true;\n\t\t\t\tpre = -pre;\n\t\t\t\tpos += -pre;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tif(sta[i])\n\t\t\tprintf(\"B\");\n\t\telse\n\t\t\tprintf(\"A\");\n\t}\n\tprintf(\"\\n\");\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define f(i, x, n) for(int i = x; i < (int)(n); ++i)\n\nchar s[200002];\nint n, k;\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, s);\n\tif (n == 1){\n\t\tif (k & 1) { if (s[0] == 'A')s[0] = 'B'; else s[0] = 'A'; }\n\t\tprintf(\"%s\\n\", s);\n\t\treturn 0;\n\t}\n\ts[n] = 'B';\n\tint i = 0;\n\tbool c = false;\n\twhile (k && i <= n){\n\t\tif (!c && s[i] - (i & 1) == 'A'){\n\t\t\tc = true;\n\t\t\t--k;\n\t\t\tcontinue;\n\t\t}\n\t\tc = false;\n\t\t--k;\n\t\t++i;\n\t}\n\tf(j, 0, n){\n\t\tint z = j + i;\n\t\tif (z > n){\n\t\t\tif (n - j & 1)s[j] = 'A';\n\t\t\telse s[j] = 'B';\n\t\t\tcontinue;\n\t\t}\n\t\tif (i & 1) { if (s[z] == 'A')s[j] = 'B'; else s[j] = 'A'; }\n\t\telse s[j] = s[z];\n\t}\n\tif (c)s[0] = 'B';\n\tif (k & 1 && s[0] == 'A')s[0] = 'B';\n\ts[n] = 0;\n\tprintf(\"%s\\n\", s);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define N 1000010\nusing namespace std;\nint n,k,a[N];\nchar c[N];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,c+1);\n\tfor(int i=1;i<=n;i++) a[i]=c[i]=='A';\n\tint l=1,r=n,op=0;\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tif(a[l]!=op) a[l]=op;\n\t\telse\n\t\t{\n\t\t\tl++;\n\t\t\tr++;\n\t\t\top^=1;\n\t\t\ta[r]=op^1;\n\t\t}\n\t\tif(i>n*2&&i%2==k%2) break;\n\t}\n\tfor(int i=l;i<=r;i++) putchar(a[i]^op?'A':'B');\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<math.h>\n#include<algorithm>\n#include<queue>\n#include<deque>\n#include<string>\n#include<string.h>\n#include<vector>\n#include<set>\n#include<map>\n#include<stdlib.h>\nusing namespace std;\nconst long long mod=1000000007;\nconst long long inf=mod*mod;\nconst long long d2=500000004;\nchar in[210000];\nchar ans[210000];\nint main(){\n\tint a,b;\n\tscanf(\"%d%d\",&a,&b);\n\tscanf(\"%s\",in);\n\tint at=0;\n\tint ch=0;int cn=0;\n\tfor(int i=0;i<b;i++){\n\t\tint q=(at+in[at]-'A')%2;\ncn++;\n\t\tif(q==0&&ch==0){\n\t\t\tch=1;\n\t\t\tcontinue;\n\t\t}\n\t\tat++;ch=0;\n\t\tif(at==a)break;\n\t}\n\tfor(int i=at;i<a;i++){\n\t\tans[i-at]=in[i];\n\t\tif(at%2){\n\t\t\tif(ans[i-at]=='A')ans[i-at]='B';\n\t\t\telse ans[i-at]='A';\n\t\t}\n\t}\n\tif(ch==1)ans[0]='B';\n\tfor(int i=0;i<at;i++){\n\t\tans[a-1-i]='A'+(i%2);\n\t}\nif(cn<b&&b%2!=cn%2&&ans[0]=='A')ans[0]='B';\n\tprintf(\"%s\\n\",ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<queue>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<string>\n#include<set>\n#include<map>\n#include<iostream>\nusing namespace std;\n#define rep(i,n) for(int i = 0;i<((int)(n));i++)\n#define reg(i,a,b) for(int i = ((int)(a));i<=((int)(b));i++)\n#define irep(i,n) for(int i = ((int)(n)-1);i>=0;i--)\n#define ireg(i,a,b) for(int i = ((int)(b)-1);i>=((int)(a));i--)\ntypedef long long int lli;\ntypedef pair<int, int> mp;\n#define fir first\n#define sec second\n#define IINF INT_MAX\n#define LINF LLONG_MAX\n#define eprintf(...) fprintf(stderr,__VA_ARGS__)\n#define pque(type) priority_queue<type,vector<type>,greater<type> >\n#define memst(a,b) memset(a,b,sizeof(a))\n \nint main(void){\n\tint n, k;\n\tstring s;\n\tcin >> n >> k >> s;\n\tint j = 0; bool r = false;\n\trep(i, min(n, k)){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t}\n\t\n\tif(n>=k){\n\t\ts = s.substr(j, n);\n\t\tif(r){\n\t\t\trep(i, n){\n\t\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t\t}\n\t\t}\n\t\tcout << s << endl;\n\t\treturn 0;\n\t}\n\t\n\tint l = min(n, k);\n\twhile(j==n){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t\tl++;\n\t\tif(l==k){\n\t\t\ts = s.substr(j, n);\n\t\t\tif(r){\n\t\t\t\trep(i, n){\n\t\t\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout << s << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\t\n\trep(i, (k-l)%2){\n\t\tif(r^(s[j]=='A')) s[j] = r?'A':'B';\n\t\telse{\n\t\t\tj++;\n\t\t\ts += (r?'A':'B');\n\t\t\tr = !r;\n\t\t}\n\t}\n\t\n\ts = s.substr(j, n);\n\tif(r){\n\t\trep(i, n){\n\t\t\ts[i] = s[i]=='A'?'B':'A';\n\t\t}\n\t}\n\t\n\tcout << s << endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n \nvoid Solve(int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t//\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n \nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t}\n\telse if(a==1)\n\t{\n\t\tif(l>r)\n\t\t{\n\t\t\tif(n&1) Solve(2,1,0,n,K);\n\t\t\telse if(K>=3) Solve(2,1,0,n,K-3);\n\t\t\telse \n\t\t\t{\n\t\t\t\tif(K==1) cout<<\"BB\";\n\t\t\t\tif(K==2) cout<<\"AA\";\n\t\t\t\tfor(int i=3;i<=n;++i) putchar((i&1)==(n&1)?'A':'B');\t\n\t\t\t}\n\t\t} \n\t\telse \n\t\t{\n\t\t\tst[l-1]='A'+(rev^1);\n\t\t\tAplusB(0,l-1,r,rev,len,K-1);\n\t\t}\n\t}\n\telse \n\t{\n\t\tif(K==1)\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor(int j=2;j<=a;++j) putchar('A');putchar('B');\n\t\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\t}\n\t\telse BplusA(a-1,l,r,rev^1,len+1,K-2);\n\t}\n}\n \nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n\t//cout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse AplusB(0,l,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n \nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nconst int MAXN=220000;\nchar s[MAXN];\nint main()\n{\n//\tfreopen(\"D.in\", \"r\", stdin);\n//\tfreopen(\"D.out\", \"w\", stdout);\n\tint n, k;\n\tscanf(\"%d%d%s\", &n, &k, s+1);\n\tif (k<=2*n)\n\t{\n\t\tint p=1, f=0;\n\t\tfor (int i=1; i<=k; i++)\n\t\t\tif (f^s[p]=='A') s[p]=f?'A':'B';\n\t\t\telse f^=1, p=p==n?1:p+1;\n\t\tfor (int i=p, j=1; j<=n; i=i==n?1:i+1, j++)\n\t\t\tif (!f) putchar(s[i]);\n\t\t\telse putchar(s[i]=='A'?'B':'A');\n\t}\n\telse\n\t{\n\t\tif (n%2==0)\n\t\t\tfor (int i=1, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse if (k%2==0)\n\t\t\tfor (int i=1, f=1; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\telse\n\t\t{\n\t\t\tputchar('B');\n\t\t\tfor (int i=2, f=0; i<=n; i++, f^=1) putchar(f?'A':'B');\n\t\t}\n\t}\n\tputchar('\\n');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing Int = long long;\n//INSERT ABOVE HERE\nsigned main(){\n  Int n,k;\n  string s;\n  cin>>n>>k>>s;\n  using P = pair<Int, Int>;\n  deque<P> v;\n  for(Int i=0;i<n;i++){\n    if(v.empty()||v.back().first!=s[i]-'A')\n      v.emplace_back(s[i]-'A',0);\n    v.back().second++;\n  }\n  Int cnt=0,lst=0;\n  while(!v.empty()&&v.back()==P(lst,1)){\n    cnt++;\n    lst^=1;\n    v.pop_back();\n  }\n\n  Int t=0;\n  auto print=[&](){\n    //cout<<t<<\" \"<<v.front().first<<\":\";\n    for(Int i=0;i<(Int)v.size();i++)\n      cout<<string(v[i].second,(t^v[i].first)+'A');\n    Int x=lst;\n    for(Int i=0;i<cnt;i++){\n      x^=1;\n      cout<<char('A'+x);\n    }\n    cout<<endl;\n  };\n  \n  while(k){\n    if(v.empty()) break;\n    k--;\n    //print();\n    //for(P p:v) cout<<(p.first^t)<<\" \"<<p.second<<endl;\n    //cout<<endl;\n    if(v.front().first^t){\n      if(!--v.front().second){\n\tv.pop_front();\n      }\n      //cout<<\"UKUNICHIA:\";print();\n      if(!cnt &&(v.back().first^t)){\n\t//v.back().first^=1;\n\tv.back().second++;\n      }else{\n\tcnt++;\n\tlst^=1;\n      }\n      t^=1;\n    }else{\n      if(!--v.front().second){\n\tv.pop_front();\n\tv.front().second++;\n      }else v.emplace_front(t^1,1);      \n    }\n    //print();\n    //for(P p:v) cout<<(p.first^t)<<\" \"<<p.second<<endl;\n    //cout<<endl;\n  }\n  assert(!k);\n  if((k&1)&&(n&1)){\n    cout<<\"B\";\n    cnt--;\n  }\n  print();\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  \n  for(int i=0;i<k;i++){\n    int j=0;\n    int d=0;\n    string c=s;\n    while(j>=0&&j<n){\n      if(s[j]=='A'){\n\ts.replace(j,1,\"B\");\n\tif(d==0){\n\t  j--; d=1;\n\t} else{\n\t  j++; d=0;\n\t}\n      } else{\n\ts.replace(j,1,\"A\");\n\tif(d==0) j++;\n\telse j--;\n      }\n    }\n    cout<<s<<\" \"<<c<<endl;\n    if(s==c) break;\n  }\n  cout<<s<<endl;\n}\t  \n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#define MN 200000\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nchar st[MN+5];\nint n,K;\nvoid AplusB(int a,int l,int r,int rev,int len,int K);\nvoid BplusA(int b,int l,int r,int rev,int len,int K);\nvoid Solve(int l,int r,int rev,int len,int K);\n\nvoid Solve(int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"Solve\"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(l>r)\n\t{\n\t\tif(len!=n) cout<<\"What a fuck?\";\n\t\tfor(int i=1;i<=n;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\t\n\t}\n\tint posa=l;\n\tfor(;posa<=r&&((st[posa]-'A')^rev);++posa);\n\tif(posa>r) BplusA(r-l+2-(len&1),2,1,0,len-2+(len&1),K);\n\telse BplusA(posa-l,posa+1,r,rev,len,K);\n}\n\nvoid AplusB(int a,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"AplusB\"<<a<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=a;++j) putchar('A');putchar('B');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\t\n\t}\n\tif(!a) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-(n&1)); \n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K);\n\t} \n\telse BplusA(a-1,l,r,rev^1,len+1,K-1);\n}\n\nvoid BplusA(int b,int l,int r,int rev,int len,int K)\n{\n//\tcout<<\"BplusA\"<<b<<\" \"<<l<<\" \"<<r<<\" \"<<rev<<\" \"<<len<<\" \"<<K<<endl;\n\tif(!K)\n\t{\n\t\tfor(int j=1;j<=b;++j) putchar('B');putchar('A');\n\t\tfor(int i=l;i<=r;++i) printf(\"%c\",((st[i]-'A')^rev)+'A');\n\t\tfor(int i=1;i<=len;++i) printf(\"%c\",(i&1)==(len&1)?'A':'B');\n\t\treturn;\n\t}\n\tif(!b) \n\t{\n\t\tif(l>r) Solve(2,1,0,n,K-1+(n&1));\n\t\telse st[l-1]='A'+(rev^1),Solve(l-1,r,rev,len,K-1);\n\t}\n\telse AplusB(b-1,l,r,rev^1,len+1,K-1);\n}\n\nint main()\n{\n\tn=read();K=read();scanf(\"%s\",st+1);\n\tint posa=1;\n\tfor(;st[posa]=='B';++posa);\n\tif(posa>n)\n\t{\n\t\t--K;\n\t\tfor(int j=1;j<=n;++j) st[posa]='A';\n\t\tposa=1; \t\n\t}\n\tBplusA(posa-1,posa+1,n,0,0,K);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,k;\nchar s[200005];\nint a[200005];\ndeque<int>q;\nvoid print(int x)\n{\n    if(x==1)putchar('A');\n    else putchar('B');\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\",s+1);\n    for(int i=1;i<=n;i++)a[i]=1-(s[i]-'A'),q.push_back(a[i]);int now=0;\n    for(int i=1;i<=2*n;i++)\n    {\n        if((q.front()^now)==1)\n        {\n            q.pop_front();q.push_front(0^now);\n        }\n        else\n        {\n            now^=1;q.pop_front();q.push_back(now^1);\n        }\n        if(i==k)\n        {\n            for(int j=1;j<=n;j++)print(now^q.front()),q.pop_front();\n            return 0;\n        }\n    }k-=2*n;\n    if(n%2==0||((q.front()^now)==1&&k%2==0)||((q.front()^now)==0&&k%2==1))\n    {\n        for(int i=1;i<=n;i++)if((n-i)&1)print(0);else print(1);\n    }\n    else\n    {\n        for(int i=1;i<=n;i++)if(((n-i)&1)&&i!=1)print(1);else print(0);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <string>\n#include <iostream>\n#include <cmath>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <algorithm>\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int, int> P;\n\nint main()\n{\n\tint n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  bool a1=0;\n  if(s[0]='A') a1=1;\n  if(n==1){\n    if(a1){\n      if(k%2) cout<<\"B\"<<endl;\n      else cout<<\"A\"<<endl;\n    }else{\n      if(k%2) cout<<\"A\"<<endl;\n      else cout<<\"B\"<<endl;\n    }\n    return 0;\n  }\n  int ct=1;\n  deque<int> deq;\n  for(int i=1; i<n; i++){\n    if(s[i]!=s[i-1]){\n      deq.push_back(ct);\n      ct=1;\n    }else{\n      ct++;\n    }\n  }\n  deq.push_back(ct);\n  int i0=-1;\n  for(int i=0; i<k; i++){\n    if(a1){\n      a1=0;\n      int x=deq.front();\n      deq.pop_front();\n      if(x>1){\n        deq.push_front(x-1);\n        deq.push_front(1);\n      }else{\n        int y=deq.front();\n        deq.pop_front();\n        deq.push_front(y+1);\n      }\n    }else{\n      int x=deq.front();\n      deq.pop_front();\n      if(x>1){\n        a1=1;\n        deq.push_front(x-1);\n      }\n      int y=deq.back();\n      if((a1 && deq.size()%2==1) || (!a1 && deq.size()%2==0)){\n        deq.pop_back();\n        deq.push_back(y+1);\n      }else{\n        deq.push_back(1);\n      }\n    }\n    if(i>=1 && deq.size()==n){\n      i0=i;\n      break;\n    }\n  }\n  if(i0==-1){\n    for(auto x:deq){\n      if(a1){\n        for(int i=0; i<x; i++) cout<<\"A\";\n        a1=0;\n      }else{\n        for(int i=0; i<x; i++) cout<<\"B\";\n        a1=1;\n      }\n    }\n    cout<<endl;\n  }else{\n    if(n%2==0){\n      for(int i=0; i<n; i++){\n        if(i%2) cout<<\"A\";\n        else cout<<\"B\";\n      }\n      cout<<endl;\n    }else{\n      if((k-1-i0)%2==0){\n        for(int i=0; i<n; i++){\n          if(i%2) cout<<\"B\";\n          else cout<<\"A\";\n        }\n        cout<<endl;\n      }else{\n        cout<<\"B\";\n        for(int i=1; i<n; i++){\n          if(i%2) cout<<\"B\";\n          else cout<<\"A\";\n        }\n        cout<<endl;\n      }\n    }\n  }\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconst int MAX_N = 4e5 + 5;\n\nchar arr [MAX_N];\n\nchar f (char c) {\n  if (c == 'A') return 'B';\n  return 'A';\n}\n\nint main () {\n  int n, k;\n  cin >> n >> k;\n\n  int st = 0;\n  for (int i = 0; i < n; i++) {\n    cin >> arr[i];\n  }\n\n  int flip = 0;\n  while (k > 0) {\n    if (!flip && arr[st] == 'A') {\n      arr[st] = 'B';\n    } else if (flip && arr[st] == 'B') {\n      arr[st] = 'A';\n    } else {\n      flip = !flip;\n      st++;\n      arr[st + n - 1] = (flip ? 'B' : 'A');\n    }\n    k--;\n\n    if (st == n) break;\n  }\n\n  if (k == 0) {\n    if (flip) {\n      for (int i = st; i < st + n; i++) {\n        cout << f(arr[i]);\n      }\n      cout << endl;\n    } else {\n      for (int i = st; i < st + n; i++) {\n        cout << arr[i];\n      }\n      cout << endl;\n    }\n\n    return 0;\n  }\n\n  if (n % 2 == 0) {\n    if (flip) {\n      for (int i = st; i < st + n; i++) {\n        cout << f(arr[i]);\n      }\n      cout << endl;\n    } else {\n      for (int i = st; i < st + n; i++) {\n        cout << arr[i];\n      }\n      cout << endl;\n    }\n\n    return 0;\n  }\n\n  k %= 2;\n  if (k == 1) {\n    if (!flip && arr[st] == 'A') {\n      arr[st] = 'B';\n    } else if (flip && arr[st] == 'B') {\n      arr[st] = 'A';\n    } else {\n      flip = !flip;\n      st++;\n      arr[st + n - 1] = (flip ? 'B' : 'A');\n    }\n    k--;    \n  }\n\n  if (flip) {\n    for (int i = st; i < st + n; i++) {\n      cout << f(arr[i]);\n    }\n    cout << endl;\n  } else {\n    for (int i = st; i < st + n; i++) {\n      cout << arr[i];\n    }\n    cout << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <ctime>\n\n#define Rep(i, n) for (int i = 1; i <= n; i ++)\n#define Rep0(i, n) for (int i = 0; i <= n; i ++)\n#define RepG(i, x) for (int i = head[x]; i; i = edge[i].next)\n#define v edge[i].to\n#define mp(a, b) make_pair(a, b)\n\nusing namespace std;\n\nconst int N = 200010;\n\nchar s[N];\nint a[N];\n\nint main()\n{\n\tint n, k;\n\tscanf(\"%d%d\", &n, &k);\n\tscanf(\"%s\", s + 1);\n\t\n\tRep(i, n) a[i] = (s[i] == 'A');\n\t\n\tbool flag = false;\n\tint i = 1;\n\t\n\twhile (i <= n) {\n\t\tif (!k) {\n\t\t\tfor (int j = i; j <= n; j ++){\n\t\t\t\tif ((!(i & 1)) ^ a[j]) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tRep(j, i - 1){\n\t\t\t\tif ((j & 1) ^ (i & 1)) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\tflag = true; break;\n\t\t}\n\t\tif (a[i] ^ (!(i & 1))) a[i] ^= 1;\n\t\telse i ++;\n\t\tk --;\n\t}\n\t\n\tif (!flag) {\n\t\tif (!(n & 1)) {\n\t\t\tRep(i, n){\n\t\t\t\tif (i & 1) printf(\"B\");\n\t\t\t\telse printf(\"A\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t\telse {\n\t\t\tif (k & 1) printf(\"B\");\n\t\t\telse printf(\"A\");\n\t\t\tRep(i, n - 1){\n\t\t\t\tif (i & 1) printf(\"A\");\n\t\t\t\telse printf(\"B\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 100 + 10;\nconst int INF = (int)(1e9);\n\nchar opp(char c) {\n    return ((c == 'A') ? 'B' : 'A');\n}\n\nvoid print_alter(char f, int t, int n) {\n    for(int i = 0; i < t; ++i) cout << f;\n    for(int i = t; i < n; ++i) {\n        f = opp(f);\n        cout << f;\n    }\n    cout << endl;\n}\n\nvoid solve(string &s, int k) {\n    int n = s.length();\n    int sc = 0;\n    bool B = false;\n    while (k > 0) {\n        if (sc >= n) break;\n        char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n        B = false;\n        --k;\n        if (f == 'B') ++sc;\n        else {\n            B = true;\n        }\n    }\n    if (k == 0) {\n        if (sc == n)\n            print_alter((((n % 2) == 0) ? 'B' : 'A'), 1, n);\n        else {\n            char f = (B) ? 'B' : (((sc % 2) == 1) ? opp(s[sc]) : s[sc]);\n            cout << f;\n            for(int i = sc + 1; i < n; ++i)\n                cout << (((sc % 2) == 1) ? opp(s[i]) : s[i]);\n            if (sc > 0) {\n                char c = ((sc % 2) == 1) ? 'A' : 'B';\n                print_alter(c, 1, sc);\n            }\n            else cout << endl;\n        }\n    }\n    else {\n        char f = ((n % 2) == 0) ? 'B' : 'A';\n        if (f == 'B') {\n            print_alter('B', 1, n);\n        }\n        else {\n            if ((k % 2) == 0) {\n                print_alter('A', 1, n);\n            }\n            else {\n                print_alter('B', 2, n);\n            }\n        }\n    }\n}\n\nvoid run() {\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    //for(int i = 0; i <= k; ++i)\n        solve(s, k);\n}\n\nint main()\n{\n    //freopen(\"input.txt\", \"r\", stdin);\n\n    int ntests = 1;\n    //cin >> ntests;\n    for(int tc = 1; tc <= ntests; ++tc) {\n        run();\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pp;\ntypedef pair<ll,ll> pll;\nvoid read(int& x){ scanf(\"%d\",&x); }\nvoid read(ll& x){ scanf(\"%lld\",&x); }\ntemplate<typename T,typename... Args>\nvoid read(T& a,Args&... b){ read(a); read(b...); }\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define x first\n#define y second\n\nset<int> s;\nint bias;\nint n, k;\n\nvoid Ins(int x){\n    s.insert(x-bias);\n}\n\nbool Exist(int x){\n    return s.find(x-bias) != s.end();\n}\n\nvoid Tog(int x){\n    x-=bias;\n    if(s.find(x) != s.end()) s.erase(x);\n    else s.insert(x);\n}\n\nchar buf[200010];\nvoid in(){\n    scanf(\"%d%d\",&n,&k);\n    scanf(\"%s\", buf+1);\n    buf[0] = 'A';\n    for(int i=1; i<=n; ++i){\n        if(buf[i-1] != buf[i]){\n            Ins(i);\n        }\n    }\n}\n\nint main()\n{\n\tin();\n\tfor(;k--;){\n        if(n%2 == 0){\n            if(int(s.size()) == n) break;\n        } else if(n%2 == 1){\n            if(int(s.size()) == n-1 && (!Exist(1) || !Exist(2))){\n                if(k%2 == 0){\n                    Tog(1); Tog(2); break;\n                }\n            }\n        }\n        if(Exist(1)){\n            --bias;\n            if(Exist(0)) s.erase(-bias);\n            if(s.size()&1) Tog(n);\n        } else {\n            Ins(1); Tog(2);\n        }\n    }\n\tfor(int i=1; i<=n; ++i){\n        if(Exist(i))  buf[i]=131-buf[i-1];\n        else buf[i]=buf[i-1];\n\t}\n\tputs(buf+1);\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// AtCoder Grand Contest 011\n// D - Half Reflector\n\n#include <cstdio>\n#define MAX_N 200000\nusing namespace std;\ntypedef long long int ll;\n\n\nint N;\nll K;\nchar ans[MAX_N + 1];\n\nint main() {\n\n  char c;\n  int inv;\n\n  scanf(\"%d%lld\", &N, &K);\n  scanf(\"%*c\");\n  ans[N + 1] = '\\0';\n\n  if (N == 1) {\n    scanf(\"%c\", &c);\n    ans[0] = (K + (c - 'A')) % 2 + 'A';\n    ans[1] = '\\0';\n    printf(\"%s\\n\", ans);\n    return 0;\n  }\n\n  inv = 0;\n  int j = 0;\n  for (int i = 0; i < N; i++) {\n    scanf(\"%c\", &c);\n    if ((c - 'A' + i) % 2 == 0) {\n      inv++;\n    }\n    if (inv + i >= K) {\n      ans[j] = ((c - 'A') + (i - j)) % 2 + 'A';\n      if (j == 0 && K == inv + i) {\n        ans[j] = 'B';\n      }\n      j++;\n    }\n  }\n  for (; j < N; j++) {\n    ans[j] = (N - j + 1) % 2 + 'A';\n  }\n  printf(\"%s\\n\", ans);\n\n  return 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    int cnt = 0;\n    while (k && cnt < 2 * n) {\n        --k;\n        ++cnt;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n            \n            /*\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }\n            */  \n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\n#define N 600000\n\nint n,m,a[N],cnt;\nchar s[N];\n\nint main(){\n\tscanf(\"%d%d%s\",&n,&m,s+1);\n\tfor (int i=1;i<=n;++i) a[i]=s[i]=='A';\n\tint t=1,w=n;\n\twhile (m--){\n\t\tif (a[t]^(cnt&1)){a[t]=cnt&1; continue;}\n\t\t++t; ++w; ++cnt;\n\t\ta[w]=1^(cnt&1);\n\t\tif (cnt>n){\n\t\t\tfor (int i=t;i<=w;++i)\n\t\t\t\tputchar(a[i]^(cnt&1)^(m&1)?'A':'B');\n\t\t\tputs(\"\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor (int i=t;i<=w;++i)\n\t\tputchar(a[i]^(cnt&1)?'A':'B');\n\tputs(\"\");\n\t\t\n\treturn 0;\n}\n\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n    int N, K; cin >> N >> K;\n    string S; cin >> S;\n\n    auto flips = 0;\n    auto deque = std::deque<char>(begin(S), end(S));\n    for (auto i = 0; K != 0 && i < 2*N; i++, K--)\n    {\n        auto A = 'A', B = 'B';\n        if (flips % 2 == 1) swap(A, B);\n\n        if (deque.front() == A) deque.front() = B;\n        else\n        {\n            deque.pop_front();\n            deque.push_back(B);\n            flips++;\n        }\n    }\n\n    S = string(begin(deque), end(deque));\n    if (flips % 2 == 1)\n        for (auto& c : S)\n            c = (c == 'A' ? 'B' : 'A');\n\n    if (K == 0) cout << S << endl;\n    else\n    {\n        if (N % 2 == 1 && K % 2 == 1)\n            S[0] = (S[0] == 'A' ? 'B' : 'A');\n        cout << S << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<string.h>\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> VI;\n\n#define REP(i,n) for(int i=0, i##_len=(n); i<i##_len; ++i)\n#define EACH(i,c) for(__typeof((c).begin()) i=(c).begin(),i##_end=(c).end();i!=i##_end;++i)\n#define eprintf(...) fprintf(stderr, __VA_ARGS__)\n\ntemplate<class T> inline void amin(T &x, const T &y) { if (y<x) x=y; }\ntemplate<class T> inline void amax(T &x, const T &y) { if (x<y) x=y; }\ntemplate<class Iter> void rprintf(const char *fmt, Iter begin, Iter end) {\n    for (bool sp=0; begin!=end; ++begin) { if (sp) putchar(' '); else sp = true; printf(fmt, *begin); }\n    putchar('\\n');\n}\n\nint N, K;\nchar S[200011];\n\nvoid MAIN() {\n    scanf(\"%d%d%s\", &N, &K, S);\n\n    int pos = 0;\n    while (pos + 2 <= N) {\n\tif (S[pos] == 'A' && K >= 1) {\n\t    S[pos] = 'B';\n\t    K--;\n\t} else if (S[pos+1] == 'B' && K >= 3) {\n\t    K -= 3;\n\t    pos += 2;\n\t} else if (K >= 2) {\n\t    K -= 2;\n\t    pos += 2;\n\t} else {\n\t    break;\n\t}\n    }\n    REP (i, N) {\n\tif (i+pos < N) S[i] = S[i+pos];\n\telse S[i] = (i+pos-N) % 2 == 0 ? 'B' : 'A';\n    }\n    if (K >= 3) {\n\tK = (K-3)%2 + 3;\n    }\n    REP (k, K) {\n\tpos = 0;\n\tint from = -1;\n\twhile (0 <= pos && pos < N) {\n\t    if (S[pos] == 'A') {\n\t\tS[pos] = 'B';\n\t\tif (from == -1) {\n\t\t    pos--;\n\t\t} else {\n\t\t    pos++;\n\t\t}\n\t\tfrom = -from;\n\t    } else {\n\t\tS[pos] = 'A';\n\t\tpos -= from;\n\t    }\n\t}\n    }\n    puts(S);\n}\n\nint main() {\n    int TC = 1;\n//    scanf(\"%d\", &TC);\n    REP (tc, TC) MAIN();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <cstdlib>\n#include <set>\n#include <queue>\nusing namespace std;\n\n#define X first\n#define Y second\n#define Mod 1000000009\n#define N 100010\n#define M 101\n\ntypedef long long ll;\n\nconst int INF=1<<30;\nint n,K;\nstring s;\n\nint main()\n{\n\t//freopen(\"in.in\",\"r\",stdin);\n\t//freopen(\"out.out\",\"w\",stdout);\n\t\n\tcin >> n >> K >> s;\n\tbool flag=0;\n\tfor (int i=1;i<=2*n && (K--);i++)\n\t{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[0]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='A';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t\telse s[0]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[0]=='A') s[0]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='B';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t}\n\t}\n\tif (K && (K&1))\n\t{\n\t\tif (flag)\n\t\t{\n\t\t\tif (s[0]=='A')\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='A';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t\telse s[0]='A';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (s[0]=='A') s[0]='B';\n\t\t\telse\n\t\t\t{\n\t\t\t\tflag^=1;\n\t\t\t\ts+='B';\n\t\t\t\ts.erase(0,1);\n\t\t\t}\n\t\t}\n\t}\n\tif (flag) for (int i=0;i<n;i++) s[i]=s[i]=='A'? 'B':'A';\n\tcout<<s<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nchar s[200010];\nbool a[200010];\n \nint main()\n{\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s);\n\tfor (int i = 0; i < n; i ++) \n\t\ta[i] = (s[i] == 'B');\n\tint x = 0, st = a[0];\n\twhile (x < n && k)\n\t{\n\t\tk --;\n\t\tif (!st) {st = 1; continue;}\n\t\tx ++;\n\t\tif (x < n) st = a[x] ^ (x & 1); \n\t\telse st = (n & 1) ^ 1;\n\t}\n\tif (k) \n\t\tif (!st) \n\t\t\tst ^= (k & 1);\n\tputchar(st + 'A');\n\tfor (int i = 1; i < n; i ++)\n\t\tif (i + x < n) putchar((a[i + x] ^ (x & 1)) + 'A'); \n\t\telse putchar(((n - i + 1) & 1) + 'A');\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define ll long long\nusing ull = unsigned long long;\nusing namespace std;\n#define dump(x)                             \\\n    if (dbg) {                              \\\n        cerr << #x << \" = \" << (x) << endl; \\\n    }\n#define overload4(_1, _2, _3, _4, name, ...) name\n#define FOR1(n) for (ll i = 0; i < (n); ++i)\n#define FOR2(i, n) for (ll i = 0; i < (n); ++i)\n#define FOR3(i, a, b) for (ll i = (a); i < (b); ++i)\n#define FOR4(i, a, b, c) for (ll i = (a); i < (b); i += (c))\n#define FOR(...) overload4(__VA_ARGS__, FOR4, FOR3, FOR2, FOR1)(__VA_ARGS__)\n#define FORR(i, a, b) for (int i = (a); i <= (b); ++i)\n#define bit(n, k) ((n >> k) & 1) /*nのk bit目*/\nnamespace mydef {\nconst int INF = 1ll << 60;\nconst int MOD = 1e9 + 7;\ntemplate <class T>\nbool chmin(T& a, const T& b) {\n    if (a > b) {\n        a = b;\n        return 1;\n    } else\n        return 0;\n}\ntemplate <class T>\nbool chmax(T& a, const T& b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    } else\n        return 0;\n}\nvoid Yes(bool flag = true) {\n    if (flag)\n        cout << \"Yes\" << endl;\n    else\n        cout << \"No\" << endl;\n}\nvoid No(bool flag = true) {\n    Yes(!flag);\n}\nvoid YES(bool flag = true) {\n    if (flag)\n        cout << \"YES\" << endl;\n    else\n        cout << \"NO\" << endl;\n}\nvoid NO(bool flag = true) {\n    YES(!flag);\n}\ntemplate <typename A, size_t N, typename T>\nvoid Fill(A (&array)[N], const T& val) {\n    std::fill((T*)array, (T*)(array + N), val);\n}\nbool dbg = false;\n}  // namespace mydef\nusing namespace mydef;\n#define pb push_back\n#define mp make_pair\n#define eb emplace_back\n#define lb lower_bound\n#define ub upper_bound\n#define all(v) (v).begin(), (v).end()\n#define SZ(x) ((int)(x).size())\n#define vi vector<int>\n#define vvi vector<vector<int>>\n#define vp vector<pair<int, int>>\n#define vvp vector<vector<pair<int, int>>>\n#define pi pair<int, int>\n//#define P pair<int, int>\n//#define V vector<int>\n//#define S set<int>\n#define asn ans\nstatic struct IO {\n    char tmp[1 << 10];\n    // fast input routines\n    char cur;\n    //#define nextChar() (cur = getc_unlocked(stdin))\n    //#define peekChar() (cur)\n    inline char nextChar() { return cur = getc_unlocked(stdin); }\n    inline char peekChar() { return cur; }\n    inline operator bool() { return peekChar(); }\n    inline static bool isBlank(char c) { return (c < '-' && c); }\n    inline bool skipBlanks() {\n        while (isBlank(nextChar()))\n            ;\n        return peekChar() != 0;\n    }\n    inline IO& operator>>(char& c) {\n        c = nextChar();\n        return *this;\n    }\n    inline IO& operator>>(char* buf) {\n        if (skipBlanks()) {\n            if (peekChar()) {\n                *(buf++) = peekChar();\n                while (!isBlank(nextChar()))\n                    *(buf++) = peekChar();\n            }\n            *(buf++) = 0;\n        }\n        return *this;\n    }\n    inline IO& operator>>(string& s) {\n        if (skipBlanks()) {\n            s.clear();\n            s += peekChar();\n            while (!isBlank(nextChar()))\n                s += peekChar();\n        }\n        return *this;\n    }\n    inline IO& operator>>(double& d) {\n        if ((*this) >> tmp)\n            sscanf(tmp, \"%lf\", &d);\n        return *this;\n    }\n#define defineInFor(intType)                         \\\n    inline IO& operator>>(intType& n) {              \\\n        if (skipBlanks()) {                          \\\n            int sign = +1;                           \\\n            if (peekChar() == '-') {                 \\\n                sign = -1;                           \\\n                n = nextChar() - '0';                \\\n            } else                                   \\\n                n = peekChar() - '0';                \\\n            while (!isBlank(nextChar())) {           \\\n                n += n + (n << 3) + peekChar() - 48; \\\n            }                                        \\\n            n *= sign;                               \\\n        }                                            \\\n        return *this;                                \\\n    }\n    defineInFor(int)\n        defineInFor(unsigned int)\n        //        defineInFor(long long)\n        // fast output routines\n        //#define putChar(c) putc_unlocked((c), stdout)\n        inline void putChar(char c) { putc_unlocked(c, stdout); }\n    inline IO& operator<<(char c) {\n        putChar(c);\n        return *this;\n    }\n    inline IO& operator<<(const char* s) {\n        while (*s)\n            putChar(*s++);\n        return *this;\n    }\n    inline IO& operator<<(const string& s) {\n        for (int i = 0; i < (int)s.size(); ++i)\n            putChar(s[i]);\n        return *this;\n    }\n    char* toString(double d) {\n        sprintf(tmp, \"%lf%c\", d, '\\0');\n        return tmp;\n    }\n    inline IO& operator<<(double d) { return (*this) << toString(d); }\n#define defineOutFor(intType)                   \\\n    inline char* toString(intType n) {          \\\n        char* p = (tmp + 30);                   \\\n        if (n) {                                \\\n            bool isNeg = 0;                     \\\n            if (n < 0)                          \\\n                isNeg = 1, n = -n;              \\\n            while (n)                           \\\n                *--p = (n % 10) + '0', n /= 10; \\\n            if (isNeg)                          \\\n                *--p = '-';                     \\\n        } else                                  \\\n            *--p = '0';                         \\\n        return p;                               \\\n    }                                           \\\n    inline IO& operator<<(intType n) { return (*this) << toString(n); }\n    defineOutFor(signed)\n        defineOutFor(long long)\n#define endl ('\\n')\n#define cout __io__\n#define cin __io__\n} __io__;\n//https://gist.github.com/sananth12/dc6e9c1e02563b1c5004\n//when int is not defined as long long, erase some comments\n//Don't forget to erase cin.tie(nullptr); and ios::sync_with_stdio(false);\nint N, K;\nstring S;\n\nvoid solve() {\n    int parity = 0;\n    int now = 0;\n    while (K >= 1) {\n        int c = (S[now] + parity) % 2;\n        K--;\n        if (c == 0) {\n            //front = 'A'\n            S[now] ^= 1;\n        } else {\n            //front = 'B'\n            parity ^= 1;\n            now++;\n        }\n        if (now >= SZ(S)) {\n            string ans;\n            for (int i = 0; i < SZ(S); i++) {\n                ans.push_back(char(i % 2 + 'A'));\n            }\n            reverse(all(ans));\n            if (ans[0] == 'A' && K % 2)\n                ans[0] = 'B';\n            cout << ans << endl;\n            return;\n        }\n    }\n    int cnt = 0;\n    string ans;\n    for (int i = now; i < SZ(S); i++) {\n        ans.push_back(char((S[i] + parity) % 2 + 'A'));\n        cnt++;\n    }\n    string tmp;\n    int flag = 0;\n    for (int i = 0; i < SZ(S) - cnt; i++) {\n        tmp.push_back(char('A' + flag));\n        flag ^= 1;\n    }\n    reverse(all(tmp));\n    ans += tmp;\n    cout << ans << endl;\n}\n\nsigned main() {\n\n    cin >> N >> K;\n    cin >> S;\n    for (auto& c : S)\n        c -= 'A';\n\n    solve();\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0, ptr = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < k && ptr < n; i++)\n\t{\n\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\tptr++;\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tcout << ptr << endl;\n\n\tif ((n & 1) && (k & 1)) \n\t\ta[0] = !rev;\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\n\nusing namespace std;\n#define N 200010\nstring s;\nll n,k;\nint main(){\n    cin>>n>>k>>s;\n    lol(i,n){\n\tif((s[i]=='A')xor (i&1)){\n\t    k--;\n\t    if(!k){\n\t\tcout<<'B';\n\t\tfor(int j=i+1;j<n;j++){\n\t\t    if(i&1){\n\t\t\tif(s[j]=='A')cout<<'B';\n\t\t\tif(s[j]=='B')cout<<'A';\n\t\t    }\n\t\t    else cout<<s[j];\n\t\t}\n\t\tfor(int j=0;j<i;j++){\n\t\t    if((i&1) xor (j&1))cout<<'A';\n\t\t    else cout<<'B';\n\t\t}\n\t\tcout<<endl;\n\t\treturn 0;\n\t    }\n\t}\n\tk--;\n\tif(!k){\n\t    for(int j=i+1;j<n;j++){\n\t\tif((i&1)==0){\n\t\t    if(s[j]=='A')cout<<'B';\n\t\t    if(s[j]=='B')cout<<'A';\n\t\t}\n\t\telse cout<<s[j];\n\t    }\n\t    for(int j=0;j<=i;j++){\n\t\tif((i&1) xor (j&1))cout<<'B';\n\t\telse cout<<'A';\n\t    }\n\t    cout<<endl;\n\t    return 0;\n\t}\n    }\n    if(n%2==0){\n\tlol(i,n){\n\t    if(i&1)cout<<'A';\n\t    else cout<<'B';\n\t}cout<<endl;\n\treturn 0;\n    }\n    if(k&1)cout<<'B';\n    else cout<<'A';\n    lol(i,n-1){\n\tif(i&1)cout<<'A';\n\telse cout<<'B';\n    }cout<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <vector>\n#include <string>\n#include <string.h>\n#include <cstdlib>\n#include <ctime>\n#include <cmath>\n#include <map>\n#include <set>\n#include <iostream>\n#include <sstream>\n#include <numeric>\n#include <cctype>\n#include <bitset>\n#include <cassert>\n#include <random>\n#define fi first\n#define se second\n#define rep(i,n) for(int i = 0; i < (n); ++i)\n#define rrep(i,n) for(int i = 1; i <= (n); ++i)\n#define drep(i,n) for(int i = (n)-1; i >= 0; --i)\n#define gep(i,g,j) for(int i = g.head[j]; i != -1; i = g.e[i].next)\n#define each(it,c) for(__typeof((c).begin()) it=(c).begin();it!=(c).end();it++)\n#define rng(a) a.begin(),a.end()\n#define maxs(x,y) x = max(x,y)\n#define mins(x,y) x = min(x,y)\n#define pb push_back\n#define sz(x) (int)(x).size()\n#define pcnt __builtin_popcount\n#define uni(x) x.erase(unique(rng(x)),x.end())\n#define snuke srand((unsigned)clock()+(unsigned)time(NULL));\n#define df(x) int x = in()\n#define dame { puts(\"-1\"); return 0;}\n#define show(x) cout<<#x<<\" = \"<<x<<endl;\n#define PQ(T) priority_queue<T,vector<T>,greater<T> >\n#define bn(x) ((1<<x)-1)\n#define newline puts(\"\")\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<ll> vl;\ntypedef vector<P> vp;\ninline int in() { int x; scanf(\"%d\",&x); return x;}\ninline void priv(vi a) { rep(i,sz(a)) printf(\"%d%c\",a[i],i==sz(a)-1?'\\n':' ');}\ntemplate<typename T>istream& operator>>(istream&i,const vector<T>&v)\n{rep(j,sz(v))i>>v[j];return i;}\ntemplate<typename T>string join(const vector<T>&v)\n{stringstream s;rep(i,sz(v))s<<' '<<v[i];return s.str().substr(1);}\ntemplate<typename T>ostream& operator<<(ostream&o,const vector<T>&v)\n{if(sz(v))o<<join(v);return o;}\ntemplate<typename T1,typename T2>istream& operator>>(istream&i,const pair<T1,T2>&v)\n{return i>>v.fi>>v.se;}\ntemplate<typename T1,typename T2>ostream& operator<<(ostream&o,const pair<T1,T2>&v)\n{return o<<v.fi<<\",\"<<v.se;}\nconst int MX = 100005, INF = 1001001001;\nconst ll LINF = 1e18;\nconst double eps = 1e-10;\n\n\n\nint main() {\n  int n,m;\n  scanf(\"%d%d\",&n,&m);\n  string s;\n  cin >> s;\n\n  // rep(i,m) {\n  //   int p = 0, d = 1;\n  //   while (p >= 0 && p < n) {\n  //     if (s[p] == 'A') {\n  //       s[p] = 'B';\n  //       d = -1;\n  //       p += d;\n  //     } else {\n  //       s[p] = 'A';\n  //       p += d;\n  //     }\n  //   }\n  //   cout<<s<<endl;\n  // }\n  rep(i,n) {\n    if (s[i] == 'B') continue;\n    m--;\n    s[i] = 'B';\n    if (m == 0) {\n      cout<<s<<endl;\n      return 0;\n    }\n  }\n  m %= n;\n  rep(i,m) s[i] = 'A';\n  cout<<s<<endl;\n  return 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ms(s, n) memset(s, n, sizeof(s))\n#define FOR(i, a, b) for (int i = (a); i < (b); i++)\n#define FORd(i, a, b) for (int i = (a) - 1; i >= (b); i--)\n#define FORall(it, a) for (__typeof((a).begin()) it = (a).begin(); it != (a).end(); it++)\n#define FORalld(it, a) for (__typeof((a).rbegin()) it = (a).rbegin(); it != (a).rend(); it++)\n#define sz(a) int((a).size())\n#define present(t, x) (t.find(x) != t.end())\n#define all(a) (a).begin(), (a).end()\n#define uni(a) (a).erase(unique(all(a)), (a).end())\n#define pb push_back\n#define pf push_front\n#define mp make_pair\n#define fi first\n#define se second\n#define prec(n) fixed<<setprecision(n)\n#define bit(n, i) (((n) >> (i)) & 1)\n#define bitcount(n) __builtin_popcountll(n)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<int, int> pi;\ntypedef vector<int> vi;\ntypedef vector<pi> vii;\nconst int MOD = (int) 1e9 + 7;\nconst int INF = (int) 1e9;\nconst ll LINF = (ll) 1e18;\nconst ld PI = acos((ld) -1);\nconst ld EPS = 1e-9;\ninline ll gcd(ll a, ll b) {ll r; while (b) {r = a % b; a = b; b = r;} return a;}\ninline ll lcm(ll a, ll b) {return a / gcd(a, b) * b;}\ninline ll fpow(ll n, ll k, int p = MOD) {ll r = 1; for (; k; k >>= 1) {if (k & 1) r = r * n % p; n = n * n % p;} return r;}\ntemplate<class T> inline int chkmin(T& a, const T& val) {return val < a ? a = val, 1 : 0;}\ntemplate<class T> inline int chkmax(T& a, const T& val) {return a < val ? a = val, 1 : 0;}\ntemplate<class T> inline T isqrt(T k) {T r = sqrt(k) + 1; while (r * r > k) r--; return r;}\ntemplate<class T> inline T icbrt(T k) {T r = cbrt(k) + 1; while (r * r * r > k) r--; return r;}\ninline void addmod(int& a, int val, int p = MOD) {if ((a = (a + val)) >= p) a -= p;}\ninline void submod(int& a, int val, int p = MOD) {if ((a = (a - val)) < 0) a += p;}\ninline int mult(int a, int b, int p = MOD) {return (ll) a * b % p;}\ninline int inv(int a, int p = MOD) {return fpow(a, p - 2, p);}\ninline int sign(ld x) {return x < -EPS ? -1 : x > +EPS;}\ninline int sign(ld x, ld y) {return sign(x - y);}\n\nconst int maxn = 2e5 + 5;\nint n, k;\nstring s;\n\nint st[maxn << 2];\nint lz[maxn << 2];\nvoid pushdown(int p, int L, int R) {\n    if (~lz[p]) {\n        st[p] = lz[p] * (R - L + 1);\n        if (L < R) {\n            lz[p << 1] = lz[p];\n            lz[p << 1 | 1] = lz[p];\n        }\n        lz[p] = -1;\n    }\n}\nvoid upd(int p, int l, int r, int L, int R, int val) {\n    pushdown(p, L, R);\n    if (l > R || r < L) return;\n    if (l <= L && r >= R) {\n        lz[p] = val;\n        pushdown(p, L, R);\n        return;\n    }\n    upd(p << 1, l, r, L, L + R >> 1, val);\n    upd(p << 1 | 1, l, r, (L + R >> 1) + 1, R, val);\n    st[p] = st[p << 1] + st[p << 1 | 1];\n}\nint query(int p, int l, int r, int L, int R) {\n    pushdown(p, L, R);\n    if (l > R || r < L) return 0;\n    if (l <= L && r >= R) return st[p];\n    return query(p << 1, l, r, L, L + R >> 1) + query(p << 1 | 1, l, r, (L + R >> 1) + 1, R);\n}\n\nint findnextA(int st) {\n    int l = st, r = n;\n    while (l < r) {\n        int m = l + r >> 1;\n        if (query(1, st, m, 0, n - 1) == m - st + 1) {\n            l = m + 1;\n        }\n        else {\n            r = m;\n        }\n    }\n    return l;\n}\n\nint findprevA(int st) {\n    int l = -1, r = st;\n    while (l < r) {\n        int m = l + r + 1 >> 1;\n        if (query(1, m, st, 0, n - 1) < st - m + 1) {\n            l = m;\n        }\n        else {\n            r = m - 1;\n        }\n    }\n    return l;\n}\n\nvoid solve() {\n    cin >> n >> k >> s;\n    if (k > n + n) {\n        FOR(i, 0, n) {\n            s[n - i - 1] = 'A' + (i & 1);\n        }\n        cout << s << \"\\n\";\n        return;\n    }\n    ms(lz, -1);\n    FOR(i, 0, n) {\n        upd(1, i, i, 0, n - 1, s[i] - 'A');\n    }\n    FOR(i, 0, k) {\n        int dir = 1, pos = 0;\n        while (1) {\n            if (dir == 1) {\n                int ix = findnextA(pos);\n                upd(1, pos, ix - 1, 0, n - 1, 0);\n                if (ix == n) break;\n                upd(1, ix, ix, 0, n - 1, 1);\n                pos = ix, dir = 0;\n            }\n            else {\n                int ix = findprevA(pos - 1);\n                upd(1, ix + 1, pos - 1, 0, n - 1, 0);\n                if (ix == -1) break;\n                upd(1, ix, ix, 0, n - 1, 1);\n                pos = ix + 1, dir = 1;\n            }\n            if (pos == 0 || pos == n) break;\n        }\n    }\n    FOR(i, 0, n) {\n        cout << char('A' + query(1, i, i, 0, n - 1));\n    }\n    cout << \"\\n\";\n}\n\nint main() {\n#ifdef _LOCAL_\n    freopen(\"in.txt\", \"r\", stdin); //freopen(\"out.txt\", \"w\", stdout);\n#else\n    ios_base::sync_with_stdio(0); cin.tie(0);\n#endif\n    solve();\n    cerr << \"\\nTime elapsed: \" << 1.0 * clock() / CLOCKS_PER_SEC << \"s\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <random>\n\nusing namespace std;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\n//#define ll __int128\n#define int ll\n//#define int ll\n//#define char ll\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<vvc> vvvc;\ntypedef pair<int, int> pii;\ntypedef pair<pii, pii> piii;\ntypedef pair<ll, ll> pll;\ntypedef vector<int> vi;\ntypedef vector<pii> vpi;\ntypedef vector< vi > vvi;\ntypedef vector< vvi > vvvi;\ntypedef vector<short> vs;\ntypedef vector<vs> vvs;\ntypedef vector<vvs> vvvs;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<vvl> vvvl;\ntypedef vector<ld> vld;\ntypedef vector<vld> vvld;\ntypedef vector<vvld> vvvld;\ntypedef vector<string> vst;\ntypedef vector<vst> vvst;\ntypedef pair<ld, ld> pld;\n\n#define inmin(a, b) a = min(a, (b))\n#define inmax(a, b) a = max(a, (b))\n#define ALL(a) a.begin(),a.end()\n#define RALL(a) a.rbegin(),a.rend()\n#define sqr(x) ((x) * (x))\n#define fori(i, n) for(int i = 0; i < int(n); ++i)\n#define SZ(a) ((int)((a).size()))\n#define triple(T) tuple<T, T, T>\n#define quad(T) tuple<T, T, T, T>\n#define watch(x) cerr << (#x) << \" = \" << (x) << endl;\n\n#ifdef MAX_HOME\n#define cerr cout\n#else\n#define cerr if (false) cerr\n#endif\n\nconst double PI = 2 * acos(0.0);\n#define rand shittttty_shit\nmt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nmt19937_64 rng_64(chrono::steady_clock::now().time_since_epoch().count());\n\nconst string DIGITS = \"0123456789\";\nconst string ALPH = \"abcdefghijklmnopqrstuvwxyz\";\n\n\ntemplate <class T0, class T1>\ninline ostream & operator << (ostream &out, pair<T0, T1> &a) {\n    return out << \"{\" << a.first << \", \" << a.second << \"}\";\n}\n\ntemplate <class T0, class T1>\ninline istream & operator >> (istream &in, pair<T0, T1> &a) {\n    return in >> a.first >> a.second;\n}\n\ntemplate <class T0, class T1, class T2>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \"}\";\n}\n\ntemplate <class T0, class T1, class T2, class T3>\ninline ostream & operator << (ostream &out, tuple<T0, T1, T2, T3> &a) {\n    return out << \"{\" << get<0>(a) << \", \" << get<1>(a) << \", \" << get<2>(a) << \", \" <<  get<3>(a) << \"}\";\n}\n\ntemplate<class T>\ninline ostream & operator << (ostream &out, vector<T> &a) {\n    out << \"[\";\n    fori (i, a.size())\n        out << a[i] << vector<string>{\", \", \"]  \"}[i + 1 == a.size()];\n    return out;\n}\n\n\nvoid smain();\n\n\n\nsigned main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n#ifdef MAX_HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    clock_t start = clock();\n#endif\n    cout << setprecision(4) << fixed;\n    smain();\n#ifdef MAX_HOME\n    cout << \"\\n\\n\\n\\nTOTAL EXECUTION TIME: \" << float( clock () - start ) /  CLOCKS_PER_SEC << endl;\n#endif\n    return 0;\n}\n\nconst int N = 4e6 + 10;\nconst int L = 2e6;\nint s[N];\n\nvoid smain() {\n\n    int n;\n    ll k;\n    cin >> n >> k;\n    string kek;\n    cin >> kek;\n\n    fori (i, n) {\n        s[i] = kek[i] == 'B';\n    }\n\n    int xr = 0;\n    int l = 0, r = n - 1;\n\n    int i = 0;\n    for (i = 0; i < min((ll)L , k); ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    int dif = k - i;\n    if (n & 1)\n        dif %= 3;\n    else\n        dif %= 2;\n\n    for (i = 0; i < dif; ++i) {\n        if (s[l] ^ xr) {\n            l++;\n            r++;\n            xr ^= 1;\n            s[r] = xr;\n        } else {\n            s[l] ^= 1;\n        }\n    }\n\n    for (int i = l; i <= r; ++i) {\n        if (s[i] ^ xr)\n            cout << \"B\";\n        else\n            cout << \"A\";\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\ntemplate<class T, class T2> inline void chkmax(T &x, const T2 &y) { if(x < y) x = y; }\ntemplate<class T, class T2> inline void chkmin(T &x, const T2 &y) { if(x > y) x = y; }\nconst int MAXN = (1 << 20);\nconst int base = 5;\nconst int mod = (int)1e9 + 11;\n\nint n, k;\nstring s;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> s;\n}\n\nint hsh = 0, rev_hsh = 0;\nmap<int, int> mp;\n\nvoid solve()\n{\n\tlist<int> li;\n\tfor(char c: s) if(c == 'A') li.push_back(1); else li.push_back(0);\n\n\tfor(int i: li)\n\t{\n\t\thsh = ((hsh * 1ll * base) % mod + i + 1) % mod;\n\t\trev_hsh = ((rev_hsh * 1ll * base) % mod + (i ^ 1) + 1) % mod;\n\t}\n\n\tint pwn = 1;\n\tfor(int i = 0; i < n - 1; i++)\n\t\tpwn = (pwn * 1ll * base) % mod;\n\n\n\tint C = 0, cp = 0;\n\twhile(k > 0)\n\t{\n\t\tk--;\n\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t\t\n\t\t\thsh = (hsh - (((frs_v + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - ((((frs_v ^ 1) + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\n\t\t\thsh = (hsh + ((((frs_v ^ 1) + 1) * 1ll * pwn) % mod)) % mod;\n\t\t\trev_hsh = (rev_hsh + (((frs_v + 1) * 1ll * pwn) % mod)) % mod;\n\t\t}\n\t\telse\n\t\t{\n\t\t\thsh = (hsh - (((frs_v + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\trev_hsh = (rev_hsh - ((((frs_v ^ 1) + 1) * 1ll * pwn) % mod) + mod) % mod;\n\t\t\tswap(hsh, rev_hsh);\n\n\t\t\thsh = (hsh * 1ll * base) % mod;\n\t\t\trev_hsh = (rev_hsh * 1ll * base) % mod;\n\n\t\t\thsh = (hsh + 2) % mod;\n\t\t\trev_hsh = (rev_hsh + 1) % mod;\n\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\n\t\tif(mp.count(hsh))\n\t\t{\n\t\t\tint len = cp - mp[hsh];\n\t\t\tk %= len;\n\t\t\tbreak;\n\t\t}\n\n\t\tmp[hsh] = cp++;\n\t}\n\t\n\twhile(k > 0)\n\t{\n\t\tk--;\n\t\t\n\t\tint frs_v = li.front() ^ C;\n\t\tif(frs_v == 1)\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_front(frs_v ^ C ^ 1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tli.pop_front();\n\t\t\tli.push_back(C);\n\t\t\tC ^= 1;\n\t\t}\n\t}\n\n\twhile(!li.empty())\n\t{\n\t\tint v = li.front() ^ C;\n\t\tcout << (v == 0 ? 'B' : 'A');\n\t\tli.pop_front();\n\t}\n\n\tcout << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <map>\n\ntypedef long long i64;\n\nconst int N = 200000 + 10, MOD = 1000000007;\n\nint n, m;\nchar s[N];\n\nbool flag[N];\n\nint base[N], cur = 0, tot = 0;\n\nint main() {\n  freopen(\"in.txt\", \"r\", stdin);\n  base[0] = 1;\n  for (int i = 1; i < N; ++i) base[i] = 2LL * base[i - 1] % MOD;\n  const int inv = (MOD + 1) / 2;\n  scanf(\"%d%d %s\", &n, &m, s);\n  for (int i = 0; i < n; ++i) if (flag[i] = (s[i] == 'B')) (cur += base[i]) %= MOD;\n  tot = (base[n] + MOD - 1) % MOD;\n  std::map<int, int> mem;\n  mem[cur] = 0;\n  bool temp = false;\n  int k = 0;\n  for (int i = 1;; ++i) {\n    if (flag[k] ^ temp) {\n      temp ^= 1;\n      if (flag[k]) cur = (cur + MOD - 1) % MOD;\n      cur = (i64)cur * inv % MOD;\n      if (flag[k]) cur = (cur + base[n - 1]) % MOD;\n      k = (k + 1) % n;\n    } else {\n      if (flag[k]) cur = (cur + MOD - 1) % MOD;\n      flag[k] ^= 1;\n      if (flag[k]) cur = (cur + 1) % MOD;\n    }\n    int t = cur;\n    if (temp) t = (tot - t + MOD) % MOD;\n    if (--m == 0) {\n   success:\n      for (int i = 0; i < n; ++i) putchar((flag[(k + i) % n] ^ temp) ? 'B' : 'A');\n      break;\n    }\n    if (mem.count(t)) {\n      m %= (i - mem[t]);\n      mem.clear();\n      if (!m) goto success;\n    } else {\n      mem[t] = i;\n    }\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define ENABLE_DEBUG 1\n// Kana's kitchen {{{\n#include<bits/stdc++.h>\n#define ALL(v) std::begin(v), std::end(v)\n#define REP(i, k) for (decltype(k) i = 0; i < k; i++)\n#define LOOP(k) REP (ngtkana_is_a_genius, k)\n\nusing i32 = std::int_least32_t;\nusing i64 = std::int_least64_t;\nusing u32 = std::uint_least32_t;\nusing u64 = std::uint_least64_t;\nusing usize = std::size_t;\n\ntemplate <class T, class U> using pair = std::pair<U, T>;\ntemplate <class T> using diag_pair = std::pair<T, T>;\ntemplate <class... Args> using tuple = std::tuple<Args...>;\ntemplate <class T> using vec = std::vector<T>;\ntemplate <class T> using numr = std::numeric_limits<T>;\n\n#ifdef NGTKANA\n#include<debug.hpp>\n#else\n#define DEBUG(...)(void)0\n#endif\n/*}}}*/\n\nint main() {\n    std::cin.tie(nullptr);\n    std::ios::sync_with_stdio(false);\n    std::cout << std::setprecision(15) << std::fixed;\n\n    u32 n, k; std::string s;\n    std::cin >> n >> k >> s;\n\n    bool rev = false; u32 pos = 0;\n    auto flip = [&](char& c) { c=c=='A'?'B':'A'; };\n    auto collect = [&] {\n        auto t = s;\n        std::rotate(t.begin(), t.begin()+pos%n, t.end());\n        if (rev) for (char& c: t) flip(c);\n        return t;\n    };\n    auto move = [&] {\n        if (rev^(s.at(pos%n)=='A')) flip(s.at(pos%n));\n        else rev^=1, ++pos;\n    };\n    auto ans = [&] {\n        for (; k; k--, move()) {\n            if (pos==n) {\n                if (k%2) k--, move();\n                break;\n            }\n        }\n        return collect();\n    }();\n    std::cout << ans << '\\n';\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define mp(a,b) make_pair((a),(b))\n#define pb(a) push_back((a))\n#define all(x) (x).begin(),(x).end()\n#define uniq(x) sort(all(x)),(x).erase(unique(all(x)),end(x))\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\n#define INF 2147483600\n\ninline char r(char c){\n  if(c=='A') return 'B';\n  else return 'A';\n}\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n\n  int pos=0;\n  bool rev=false;\n  while(k>0 && pos<n){\n    if((s[pos]=='A' && !rev) || (s[pos]=='B' && rev)) s[pos] = r(s[pos]);\n    else {\n      rev = !rev;\n      pos++;\n    }\n    k--;\n  }\n\n  string t = s.substr(pos);\n  if(rev) rep(i,t.size()) t[i] = r(t[i]);\n  cout << t;\n\n  bool b = pos%2==1;\n  rep(i,pos){\n    if(b) cout << \"A\";\n    else cout << \"B\";\n    b = !b;\n  }\n\n  cout << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define pb push_back\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=2e6+5;\nchar s[N];int n,k;\ninline void print(R char *s){s[n]='\\0',printf(\"%s\\n\",s);}\nvoid solve(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\tfp(k,i,i+n-2){\n\t\tif(op)s[k]=(s[k]=='A'?'B':'A');\n\t\tif(k+1>n)op^=1;\n\t}\n\ts[i+n-1]='A';\n\tprint(s+i);\n}\nvoid ss(R int p){\n\tR int i=1;\n\twhile(p--){\n\t\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n//\t\tprintf(\"%d %d %c\\n\",i,op,s[i]);\n\t\tif((s[i]=='A')^op){s[i]=(s[i]=='A'?'B':'A');continue;}\n\t\ts[i+n]='A',++i;\n\t}\n\tk-=p;\n\tif(n&1^1){\n\t\tfp(i,1,n)s[i]=((i&1)?'B':'A');\n\t\tprint(s+1);\n\t\treturn;\n\t}\n\tassert(false);\n\tfp(i,1,n-1)s[i]=((i&1)?'A':'B');\n\t\n\tR int op=(i<=n?((i-1)&1):((n-1)&1));\n\tif(!((s[i]=='A')^op))--k;\n\ts[n]=(k&1?'B':'A');\n\treverse(s+1,s+1+n);\n\tprint(s+i);\n}\nint main(){\n\tscanf(\"%d%d%s\",&n,&k,s+1);\n\tif(k<=1e6)return solve(k),0;\n//\tassert(false);\n\tss(1e6);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <set>\n#include <map>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <bitset>\t\t//UWAGA - w czasie kompilacji musi byc znany rozmiar wektora - nie mozna go zmienic\n#include <cassert>\n#include <iomanip>\t\t//do setprecision\n#include <ctime>\n#include <complex>\nusing namespace std;\n\n#define FOR(i,b,e) for(int i=(b);i<(e);++i)\n#define FORQ(i,b,e) for(int i=(b);i<=(e);++i)\n#define FORD(i,b,e) for(int i=(b)-1;i>=(e);--i)\n#define REP(x, n) for(int x = 0; x < (n); ++x)\n\n#define ST first\n#define ND second\n#define PB push_back\n#define MP make_pair\n#define LL long long\n#define ULL unsigned LL\n#define LD long double\n\nconst double pi = 3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342;\n\nconst int MR = 2e5 + 10;\n\nchar S[MR], res[MR];\n\nint main()\n{\n    int N, K;\n    scanf( \"%d%d%s\", &N, &K, S );\n    if (N == 1)\n    {\n        if (S[0] == 'A')\n            S[0] += K % 2;\n        else\n            S[0] -= K % 2;\n        printf( \"%s\\n\", S );\n        return 0;\n    }\n\n    // zobacz czy minimum raz przejdzie\n    if (K == 1 && S[0] == 'A')\n    {\n        S[0] = 'B';\n        printf( \"%s\\n\", S );\n        return 0;\n    }\n\n    bool sel = 1;\n    set<int> pom;\n    int add = 0;\n    res[N - 1] = 'A';\n    FORD( i, N - 1, 0 )\n    {\n        // spr czy mozesz poczatek dorzucic\n        if (!sel)\n        {\n            if (S[i + 1] == 'A')\n                pom.insert( -add + 1 );\n        }\n        else if (S[i + 1] == 'B')\n            pom.insert( -add + 1 );\n        // zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n        if (pom.find( K - add ) != pom.end())\n        {\n            if (sel)\n                res[i] = 'A';\n            else\n                res[i] = 'B';\n        }\n        else\n        {\n            if (sel)\n                res[i] = 'B';\n            else\n                res[i] = 'A';\n        }\n        // przesun wszystkie pozycje o 1 dla kolejnego\n        add++;\n        // zmien litere\n        sel = !sel;\n    }\n\n    // wyznacz przedzialy kiedy bedzie A na poczatku, a kiedy B\n    add--;\n\n    vector < pair<int, int > > V[2];\n    // A bylo naturalne, czyli mamy pozycje wyjatkow - B\n    int prev = 0;\n    for (auto pos : pom)\n    {\n        int akt = pos + add;\n        if (akt - prev > 1)\n        {\n            // dodaj dziure - normalne tam sie mieszcza\n            V[!sel].push_back( MP( prev + 1, akt - 1 ) );\n        }\n        // dodaj wyjatek\n        V[sel].push_back( MP( akt, akt ) );\n        prev = akt;\n    }\n\n    // spr ostatni ruch\n    if (K - prev > 0)\n        //dodaj normalne na koncu\n        V[!sel].push_back( MP( prev + 1, K ) );\n\n    REP( i, 2 )\n        reverse( V[i].begin(), V[i].end() );\n\n    // zobacz, czy ostatni ruch bedzie przy A, czy przy B\n    // jesli przy A, to po prostu zmien pierwsza litere na B\n    // wpp zostaw wynik dzialania algorytmu\n    bool changetoB = 0;\n\n    // przejedz sie po wszystkich ruchach i popraw K\n    int cnt = 1, ilea = 0, ileb = 1;\n    if (S[0] == 'A')\n    {\n        ilea++;\n        cnt++;\n        changetoB = 1;\n    }\n\n    while (cnt <= K)\n    {\n        // wykonujemy cnt-ruch i wiemy, ze wtedy jest B na poczatku\n        // zobacz, czy ten ruch jest w wektorze B - jesli tak, to po kazdym ruchu mamy B\n        // zatem przesun cnt o wartosc i tyle\n        if (!V[1].empty() && V[1].back().first == ileb)\n        {\n            // dorzuc ilosc ruchow z B na poczatku\n            // jak tutaj przekroczymy K, to nic sie nie stanie\n            int ileMove = V[1].back().second - V[1].back().first + 1;\n            ileb += ileMove;\n            cnt += ileMove;\n            // na pewno nie skonczymy ruchem z A na poczatku\n            changetoB = 0;\n\n            V[1].pop_back();\n        }\n        // gorzej jak jest A - wez caly przedzial z A\n        // po kazdym ruchu z A na poczatku, zmieni sie to na B\n        // ale potem znowu zmieni sie to na A, bo bedziemy w przedziale\n        // gdzie zaczynajac z B na poczatku, zmieniamy to na A, itd.\n        if (!V[0].empty() && V[0].back().first == ileb)\n        {\n            // ilosc ruchow z B na poczatku\n            int ileMove = V[0].back().second - V[0].back().first + 1;\n            int ileAll = min( 2 * ileMove, K - cnt + 1 );\n            cnt += ileAll;\n            // faktyczna ilosc ruchow z B na poczatku\n            int ileMoveB = ileAll / 2;\n            // zobacz czy konczymy ruchem z B - dodaj ruch\n            // wpp odznacz, ze trzeba zmienic pierwsza litere na koncu\n            if (ileAll & 1)\n            {\n                ileMoveB++;\n                changetoB = 0;\n            }\n            else\n                changetoB = 1;\n            ilea += ileAll / 2;\n            ileb += ileMoveB;\n\n            V[0].pop_back();\n        }\n    }\n\n    \n\n    // jeszcze raz - tym razem z dobrym K\n    // musimy odjac wszystkie ruchy wsrod pierwszych K, gdzie A bylo na poczatku\n    // liczymy tylko te sytuacje, gdy B bylo na poczatku\n    K -= ilea;\n    pom.clear();\n    sel = 1;\n    add = 0;\n    res[N - 1] = 'A';\n    FORD( i, N - 1, 0 )\n    {\n        // spr czy mozesz poczatek dorzucic\n        if (!sel)\n        {\n            if (S[i + 1] == 'A')\n                pom.insert( -add + 1 );\n        }\n        else if (S[i + 1] == 'B')\n            pom.insert( -add + 1 );\n        // zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n        if (pom.find( K - add ) != pom.end())\n        {\n            if (sel)\n                res[i] = 'A';\n            else\n                res[i] = 'B';\n        }\n        else\n        {\n            if (sel)\n                res[i] = 'B';\n            else\n                res[i] = 'A';\n        }\n        // przesun wszystkie pozycje o 1 dla kolejnego\n        add++;\n        // zmien litere\n        sel = !sel;\n    }\n\n    if (changetoB)\n        res[0] = 'B';\n\n    printf( \"%s\\n\", res );\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define MOD 1000000007\n#define BIG 1000000010\n#define repi(i,x,n) for(int i=x;i<n;i++)\n#define rep(i,n) repi(i,0,n)\n#define repn(i,n) for(int i=n;i>=0;i--)\ntypedef long long int ll;\n\n\nint main(){\n  int n,k;\n  cin>>n>>k;\n  char s;\n  int a=0;\n  deque<char> d;\n  rep(i,n){\n    cin>>s;\n    d.push_back(s);\n  }\n  rep(i,k){\n    if(d.front()=='A'){\n      d.pop_front();\n      d.push_front('B');\n    }\n    else{\n      a++;\n      d.pop_front();\n      if(a%2) d.push_back('B');\n      else d.push_back('A');\n    }\n    if(a>n){\n      if(a%2==1){\n\trep(k,d.size()){\n\t  if(d[k]=='A') d[k]='B';\n\t  else d[k]='A';\n\t}\n      }\n      if(n%2==0){\n\trep(j,n){\n\t  \n\t  if(j%2==0 && d[j]!='B') break;\n\t  else if(j%2==1 && d[j]!='A') break;\n\t  else if(j==n-1) i=BIG;\n\t}\n      }\n      else{\n\trepi(j,1,n){\n\t  if(j%2==1 && d[j]!='B') break;\n\t  else if(j%2==0 && d[j]!='A') break;\n\t  else if(j==n-1) i=k-1-((k-1-i)%2);\n\t}\n      }\n    }\n  }\n  if(a<=n){\n    if(a%2==1){\n      rep(k,d.size()){\n\tif(d[k]=='A') d[k]='B';\n\telse d[k]='A';\n      }\n    }\n  }\n  rep(i,n){\n    cout<<d[i];\n  }\n  cout<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i, j) for(int i=0; i < (int)(j); i++)\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N, K; cin >> N >> K;\n    list<char> S;\n    rep(i, N) {\n        char c; cin >> c;\n        S.push_back(c);\n    }\n    int n = 0;\n    char A = 'A', B = 'B';\n    rep(i, min(K, 2 * N)) {\n        if(S.front() == A) {\n            S.front() = B;\n        } else if(S.front() == B) {\n            S.pop_front();\n            S.push_back(B);\n            swap(A, B);\n        } else assert(false);\n        n++;\n    }\n    \n    if(n < K) {\n        if(S.front() == A and (K - n) % 2 == 1) {\n            S.front() = B;\n        }\n    }\n    map<char, char> mp;\n    mp['A'] = A;\n    mp['B'] = B;\n    \n    for(auto s : S) cout << mp[s];\n    cout << endl;\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define For(i, j, k) for(int i = j; i <= k; i++)\n#define Forr(i, j, k) for(int i = j; i >= k; i--)\n\nusing namespace std;\n\nconst int N = 200010;\n\nint n, k;\nchar S[N], T[N];\n\nvoid print(int l){\n\tForr(i, n, n - l + 1) T[i] = 'A' + ((n - i) & 1);\n\tFor(i, 1, n - l) T[i] = l & 1 ? 'B' - S[i + l] + 'A' : S[i + l];\n\tputs(T + 1);\n\texit(0);\n}\n\nint main(){\n\tscanf(\"%d%d%s\", &n, &k, S + 1);\n\n\tFor(i, 1, n){\n\t\tif((S[i] == 'B') ^ (i & 1)){\n\t\t\t--k;\n\t\t\tS[i] = 'B' - S[i] + 'A';\n\t\t\tif(!k) print(i - 1);\n\t\t}\n\t\t--k;\n\t\tif(!k) print(i);\n\t}\n\tif((k & 1) && n % 2 == 1) putchar('B'), --n, print(n);\n\telse print(n);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <set>\n#include <map>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <string>\n#include <queue>\n#include <bitset>\t\t//UWAGA - w czasie kompilacji musi byc znany rozmiar wektora - nie mozna go zmienic\n#include <cassert>\n#include <iomanip>\t\t//do setprecision\n#include <ctime>\n#include <complex>\nusing namespace std;\n\n#define FOR(i,b,e) for(int i=(b);i<(e);++i)\n#define FORQ(i,b,e) for(int i=(b);i<=(e);++i)\n#define FORD(i,b,e) for(int i=(b)-1;i>=(e);--i)\n#define REP(x, n) for(int x = 0; x < (n); ++x)\n\n#define ST first\n#define ND second\n#define PB push_back\n#define MP make_pair\n#define LL long long\n#define ULL unsigned LL\n#define LD long double\n\nconst double pi = 3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342;\n\nconst int MR = 2e5 + 10;\n\nchar S[MR], res[MR];\n\nint main()\n{\n\tint N, K;\n\tscanf(\"%d%d%s\", &N, &K, S);\n\tif (N == 1)\n\t{\n\t\tif (S[0] == 'A')\n\t\t\tS[0] += K % 2;\n\t\telse\n\t\t\tS[0] -= K % 2;\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\t// zobacz czy minimum raz przejdzie\n\tif (K == 1 && S[0] == 'A')\n\t{\n\t\tS[0] = 'B';\n\t\tprintf(\"%s\\n\", S);\n\t\treturn 0;\n\t}\n\n\tchar first;\n\n\tif (K % 2)\n\t\tif (S[0] == 'A')\n\t\t\tfirst = 'B';\n\t\telse\n\t\t\tfirst = 'A';\n\telse\n\t\tfirst = S[0];\n\n\tint add = K % 2;\n\n\tK /= 2;\n\n\tif (S[0] == 'B')\n\t\tK += add;\n\n\tbool sel = 1;\n\tset<int> pom;\n\tadd = 0;\n\tres[N - 1] = 'A';\n\tFORD(i, N-1, 0)\n\t{\n\t\t// spr czy mozesz poczatek dorzucic\n\t\tif (!sel)\n\t\t{\n\t\t\tif (S[i + 1] == 'A')\n\t\t\t\tpom.insert(-add + 1);\n\t\t}\n\t\telse if (S[i + 1] == 'B')\n\t\t\tpom.insert(-add + 1);\n\t\t// zobacz, czy K lapie sie do pozycji, ktore sa wyjatkowe\n\t\tif (pom.find(K - add) != pom.end())\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'A';\n\t\t\telse\n\t\t\t\tres[i] = 'B';\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sel)\n\t\t\t\tres[i] = 'B';\n\t\t\telse\n\t\t\t\tres[i] = 'A';\n\t\t}\n\t\t// przesun wszystkie pozycje o 1 dla kolejnego\n\t\tadd++;\n\t\t// zmien litere\n\t\tsel = !sel;\n\t}\n\n\tres[0] = first;\n\n\tprintf(\"%s\\n\", res);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <deque>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <tuple>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <array>\n#include <utility>\n#include <valarray>\n\nusing namespace std;\n\nnamespace {\n    int N;\n}\n\nvoid process(deque<int>& S)\n{\n    if (S[0] == 0){\n        S.pop_front();\n        --S[0];\n        if (S.size() % 2){\n            ++S.back();\n        }else{\n            S.emplace_back(1);\n        }\n    }else if (S[0] == 1){\n        --S[0];\n        ++S[1];\n    }else{\n        --S[0];\n        S.emplace_front(1);\n        S.emplace_front(0);\n    }\n}\n\nint main()\n{\n    int K;\n    scanf(\"%*d %d\\n\", &K);\n    deque<int> S;\n    {\n        string str;\n        getline(cin, str);\n        N = str.size();\n        // cout << str << endl;\n        int count = 0;\n        bool A_flag = true;\n        for (int i = 0; i < N; ++i){\n            if ((str[i] == 'A') != A_flag){\n                S.emplace_back(count);\n                count = 0;\n                A_flag = !A_flag;\n            }\n            ++count;\n        }\n        S.emplace_back(count);\n    }\n    auto print = [](deque<int>& S){\n        bool A_flag = true;\n        for (int i = 0; i < S.size(); ++i){\n            if (A_flag){\n                for (int j = 0; j < S[i]; ++j) putchar('A');\n            }else{\n                for (int j = 0; j < S[i]; ++j) putchar('B');\n            }\n            A_flag = !A_flag;\n        }\n        puts(\"\");\n    };\n    int count = 0;\n    map<deque<int>, int> old_map;\n    vector<deque<int>> old_vec;\n    // old_map.emplace(S, count);\n    // old_vec.emplace_back(S);\n    while (count < K){\n        process(S);\n        ++count;\n        // printf(\"%d \", count);\n        // print(S);\n        if (count >= N * 2){\n            if (old_map.count(S)){\n                const int first = old_map[S];\n                print(old_vec[((K - N * 2 - first) % (count - N * 2 - first)) + first]);\n                return 0;\n            }else{\n                old_map.emplace(S, count - N * 2);\n                old_vec.emplace_back(S);\n            }\n        }\n    }\n    print(S);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <algorithm>\nusing namespace std;\n\n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define ALL(c) (c).begin(), (c).end()\n\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef vector<VL> VVL;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nint main(){\n    int n, k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n\n    deque<int> dq;\n    int x = 1;\n    FOR(i,1,n-1){\n        if (s[i] == s[i-1]) x++;\n        if (s[i] != s[i-1] || i == n-1){\n            dq.push_back(x);\n            x = 1;\n        }\n    }\n\n    int top = (s[0] == 'B');\n\n    while (k--){\n        if (!top){\n            top = 1;\n            int x = dq.front();\n            dq.pop_front();\n            if (x == 1){\n                int y = dq.front();\n                dq.pop_front();\n                dq.push_front(y + 1);\n            }else{\n                dq.push_front(x - 1);\n                dq.push_front(1);\n            }\n        }else{\n            int x = dq.front();\n            dq.pop_front();\n            if (x > 1){\n                top = 0;\n                dq.push_front(x - 1);\n            }\n            if ((top + dq.size()) % 2 == 0){\n                dq.push_back(1);\n            }else{\n                int y = dq.back();\n                dq.pop_back();\n                dq.push_back(y + 1);\n            }\n        }\n\n        if (n % 2 == 0 && dq.size() == n && top){\n            k = 0;\n        }\n        if (n % 2 == 1 && dq.size() == n && !top){\n            k %= 2;\n        }\n    }\n\n    while (!dq.empty()){\n        int x = dq.front();\n        dq.pop_front();\n        cout << string(x, 'A' + top);\n        top ^= 1;\n    }\n    cout << endl;\n\n    return 0;\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define pb push_back\n#define cmin(a,b) (a>b?a=b:a)\n#define cmax(a,b) (a<b?a=b:a)\n#define lop(i,s,t) for(int i=s;i<(t);++i)\n#define rep(i,s,t) for(int i=s;i<=(t);++i)\n#define dec(i,s,t) for(int i=s;i>=(t);--i)\n#define fore(i,v) for(int i=g[v],d=es[i].d;i;i=es[i].nxt,d=es[i].d)\nusing namespace std;\n\n#define Pr(f,...) fprintf(stderr,f,##__VA_ARGS__),fflush(stderr)\n\nconst int N=5e5+50; \n\nint n,k,a[N];\nchar s[N]; \nint main(int argc,char *argv[]){\n#ifdef CURIOUSCAT\n\tfreopen(\"dat.in\",\"r\",stdin);\n\tfreopen(\"my.out\",\"w\",stdout);\n#endif\n\tscanf(\"%d%d%s\",&n,&k,s+1); \n\trep(i,1,n)a[i]=s[i]=='B';\n\t//maintaining [p,p+n)^flag\n\tint p=1,q=p+n;//[p,p+n)\n\tbool flag=0;\n\twhile(k--){\n\t\tif(a[p]==0)a[p]=1; \n\t\telse{\n\t\t\tflag^=1;\n\t\t\ta[q]=0^flag;\n\t\t\t++p,++q;\n\t\t\tif(p>=N)p=0; \n\t\t\tif(q>=N)q=0; \n\t\t}\n\t}\n\tlop(i,0,n)printf(\"%c\",(a[(p+i)%N]^flag)?'B':'A'); \n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint n, k;\ndeque<int> q;\nchar s[222222];\nbool rev;\nint main() {\n\tscanf(\"%d%d\", &n, &k); k %= n * 2;\n\tscanf(\"%s\", s + 1);\n\tfor (int i = 1; i <= n; ++i) q.push_back(s[i] == 'B');\n\twhile (k--) {\n\t\tint p = q.front(); q.pop_front();\n\t\tif (p ^ rev) {\n\t\t\trev ^= 1; q.push_back(rev);\n\t\t} else q.push_front(p ^ 1);\n\t}\n\twhile (!q.empty()) {\n\t\tprintf(\"%c\", (q.front() ^ rev) ? 'B' : 'A');\n\t\tq.pop_front();\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N=2e5+50;\nint n,k,tag; char ch[N];\ndeque <int> q;\ninline void print() {\n\tfor(int i=1;i<=n;i++) \n\t\tputchar((q[i-1]^tag) ? 'B' : 'A');\n}\nint main() {\n\tscanf(\"%d%d%s\",&n,&k,ch+1);\n\tfor(int i=1;i<=n;++i) q.push_back((ch[i]=='A') ? 0 : 1);\n\tfor(int i=1;i<=min(n,k);++i) {\n\t\tint t=q.front()^tag;\n\t\tif(!t) q[0]^=1;\n\t\telse q.pop_front(), tag^=1, q.push_back(tag);\n\t} \n\tif(k<=n) print();\n\telse {\n\t\tint t=k-n;\n\t\tif(q[0]^tag==1) --t, q[0]^=1;\n\t\tif(t&1) q[0]^=1;\n\t\tprint();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#define maxn 200005\nint n,k,l,r;\nbool rev;\nchar s[maxn];\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s);\n\tfor(int i=0;i<n;i++) s[i]-=65;\n\tif(k>n*2+1) k=k%2?(n*2+1):(n*2+2);\n\tr=n-1;\n\tfor(int i=1;i<=k;i++) \n\t{\n\t\tif(!(s[l]^rev)) s[l]^=1;\n\t\telse l=(l+1)%n,r=(r+1)%n,rev^=1;\n\t}\n\tfor(;;l=(l+1)%n)\n\t{\n\t\tprintf(\"%c\",65+(s[l]^rev));\n\t\tif(l==r) break;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\nusing namespace std;\n\nconst int MAXN = 200000 + 50;\n\nchar ch;\nbool devices[MAXN * 2];\nint N, K;\n\nint main()\n{\n\tcin >> N >> K ;\n\tfor(int i = 0; i < N; i++)\n\t\tcin >> ch, devices[i] = (ch == 'A');\n\n\tint L = 0, R = N, rev = 0;\n\n\twhile(K-- && L < N)\n\t{\n\t\tif((devices[L] ^ rev) == 1)\n\t\t\tdevices[L] ^= 1;\n\t\telse\n\t\t\trev ^= 1,\n\t\t\tdevices[R++] = 1 ^ rev,\n\t\t\tL++;\n\t}\n\n\tif((N & 1) && (!(K & 1)))\n\t\tdevices[L] ^= rev;\n\tfor(int i = L; i < R; i++)\n\t\tcout << ((devices[i] ^ rev) ? 'A' : 'B') ;\n\tcout << endl ;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\n \nusing namespace std;\nusing namespace __gnu_pbds;\n \n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define fbo find_by_order\n#define ook order_of_key\n \ntypedef long long ll;\ntypedef pair<ll,ll> ii;\ntypedef vector<int> vi;\ntypedef long double ld; \ntypedef tree<int, null_type, less<int>, rb_tree_tag, tree_order_statistics_node_update> pbds;\ntypedef set<int>::iterator sit;\ntypedef map<int,int>::iterator mit;\ntypedef vector<int>::iterator vit;\n\nvoid simulate(string &s, int pos, int dir)\n{\n\tint n = s.length();\n\tif(pos<0||pos>=n) return ;\n\tif(s[pos]=='A')\n\t{\n\t\tif(dir==0)\n\t\t{\n\t\t\ts[pos]='B';\n\t\t\tsimulate(s,pos-1,dir^1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[pos]='B';\n\t\t\tsimulate(s,pos+1,dir^1);\n\t\t}\n\t}\n\telse\n\t{\n\t\tif(dir==0)\n\t\t{\n\t\t\ts[pos]='A';\n\t\t\tsimulate(s,pos+1,dir);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ts[pos]='A';\n\t\t\tsimulate(s,pos-1,dir);\n\t\t}\n\t}\n}\n\nbool alternate(string s)\n{\n\tfor(int i=0;i+1<s.length();i++)\n\t{\n\t\tif(s[i]==s[i+1]) return false;\n\t}\n\treturn true;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(0); cin.tie(0);\n\tint n; ll k;\n\t\n\tcin>>n>>k;\n\tstring s; cin>>s;\n\t/*\n\tstring ss=s;\n\t\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tsimulate(s,0,0);\n\t\tcout<<s<<'\\n';\n\t}\n\tcout<<'\\n';\n\ts=ss;\n\t*/\n\t\n\tdeque<int> dq;\n\tint front = 0;\n\tint r = 1;\n\tif(s[0]=='A') front=0;\n\telse front=1;\n\tfor(int i=1;i<s.length();i++)\n\t{\n\t\tif(s[i]==s[i-1])\n\t\t{\n\t\t\tr++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdq.pb(r);\n\t\t\tr=1;\n\t\t}\n\t}\n\tdq.pb(r);\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tif(front)\n\t\t{\n\t\t\tif(int(dq.size())&1)\n\t\t\t{\n\t\t\t\tint run = dq.back();\n\t\t\t\tdq.pop_back();\n\t\t\t\tif(dq.empty())\n\t\t\t\t{\n\t\t\t\t\tfront^=1;\n\t\t\t\t\tdq.pb(run);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(dq[0]==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdq.pop_front();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdq[0]--;\n\t\t\t\t\t\tfront^=1;\n\t\t\t\t\t}\n\t\t\t\t\tdq.pb(1+run);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(dq[0]==1)\n\t\t\t\t{\n\t\t\t\t\tdq.pop_front();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdq[0]--;\n\t\t\t\t\tfront^=1;\n\t\t\t\t}\n\t\t\t\tdq.pb(1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(dq[0]==1)\n\t\t\t{\n\t\t\t\tdq.pop_front();\n\t\t\t\tif(dq.empty()) dq.pb(1);\n\t\t\t\telse dq.front()++;\n\t\t\t\tfront^=1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tdq[0]--;\n\t\t\t\tdq.push_front(1);\n\t\t\t\tfront^=1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\tint tmp=front;\n\t\tfor(int i=0;i<dq.size();i++)\n\t\t{\n\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t{\n\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\telse cout<<\"A\";\n\t\t\t}\n\t\t\ttmp^=1;\n\t\t}\n\t\tcout<<'\\n';\n\t\t*/\n\t\tif(int(dq.size()) == n)\n\t\t{\n\t\t\t//cout<<i<<' '<<front<<'\\n';\n\t\t\tif(front)\n\t\t\t{\n\t\t\t\tint tmp=front;\n\t\t\t\tfor(int i=0;i<dq.size();i++)\n\t\t\t\t{\n\t\t\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\t\t\telse cout<<\"A\";\n\t\t\t\t\t}\n\t\t\t\t\ttmp^=1;\n\t\t\t\t}\n\t\t\t\tcout<<'\\n';\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif((k-i)&1)\n\t\t\t\t{\n\t\t\t\t\tint tmp=front;\n\t\t\t\t\tfor(int i=0;i<dq.size();i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\t\t\t\telse cout<<\"A\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmp^=1;\n\t\t\t\t\t}\n\t\t\t\t\tcout<<'\\n';\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(dq[0]==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdq.pop_front();\n\t\t\t\t\t\tif(dq.empty()) dq.pb(1);\n\t\t\t\t\t\telse dq.front()++;\n\t\t\t\t\t\tfront^=1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdq[0]--;\n\t\t\t\t\t\tdq.push_front(1);\n\t\t\t\t\t\tfront^=1;\n\t\t\t\t\t}\n\t\t\t\t\tint tmp=front;\n\t\t\t\t\tfor(int i=0;i<dq.size();i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int j=0;j<dq[i];j++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(tmp) cout<<\"B\";\n\t\t\t\t\t\t\telse cout<<\"A\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttmp^=1;\n\t\t\t\t\t}\n\t\t\t\t\tcout<<'\\n';\n\t\t\t\t\treturn 0;\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n\tint tmp=front;\n\tfor(int i=0;i<dq.size();i++)\n\t{\n\t\tfor(int j=0;j<dq[i];j++)\n\t\t{\n\t\t\tif(tmp) cout<<\"B\";\n\t\t\telse cout<<\"A\";\n\t\t}\n\t\ttmp^=1;\n\t}\n\tcout<<'\\n';\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#if __cplusplus >= 201103L\n#include <array>\n#include <atomic>\n#include <chrono>\n#include <condition_variable>\n#include <forward_list>\n#include <future>\n#include <initializer_list>\n#include <mutex>\n#include <random>\n#include <ratio>\n#include <regex>\n#include <scoped_allocator>\n#include <system_error>\n#include <thread>\n#include <tuple>\n#include <typeindex>\n#include <type_traits>\n#include <unordered_map>\n#include <unordered_set>\n#endif\n\n\n#define ll int\n#define FOR(i,a) for(ll i=0;i<(ll)a.size();i++)\n#define pb push_back\n#define ld long double\n#define mp make_pair\n#define F first\n#define S second\n#define pii pair<ll,ll> \n\nusing namespace :: std;\n\nconst ll maxn=1e5+500;\n\ninline char nott(char r){\n\tif(r=='A')return 'B';\n\treturn 'A';\n}\nint main(){\n\tll n,k;\n\tcin>>n>>k;\t\n\tstring s;\n\tcin>>s;\n\tll tah=0;\n\tbool nnot=0;\n\tfor(ll i=0;i<k;i++){\n\t\tif(tah>=n){\n\t\t\tbreak;\n\t\t}\n\t\tchar c=s[tah];\n\t\tif(nnot)c=nott(c);\n\t\tif(c=='A'){\n\t\t\ts[tah]=nott(s[tah]);\n\t\t}else{\n\t\t\ttah++;\n\t\t\tnnot=!nnot;\n\t\t}\n\t}\n\n\n\n\n\tstring ans;\n\tfor(ll i=tah;i<n;i++){\n\t\tif(nnot){\n\t\t\tans+=nott(s[i]);\n\t\t}\n\t\telse{\n\t\t   ans+=s[i] ;\n\t\t}\n\t}\n\twhile(ans.size()<n){\n\t\tans+='C';\n\t}\n\tchar f='A';\n\tfor(ll i=n-1;i>=0 && ans[i]=='C';i--){\n\t\tans[i]=f;\n\t\tf=nott(f);\n\t}\n\tcout<<ans;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nconst int N=6e5+5;\n\nint n,m=1,k,p,o[N]; char s[N];\n\nint main()\n{\n\tscanf(\"%d%d%s\",&n,&k,s+1); int i;\n\tfor (i=1; i<=n; i++) o[i]=s[i]=='A';\n\t\n\tfor (i=1; i<=k&&i<=n+n; i++)\n\t\tif (o[m]^p) o[m]^=1;\n\t\telse p^=1,o[++m+n-1]=p^1;\n\tif (k<=n+n){for (i=m; i<=n+m-1; i++) putchar((o[i]^p)?'A':'B');}\n\telse\n\t{\n\t\tif ((n&1)&&(k-n-n&1)) putchar((o[m]^p^1)?'A':'B');\n\t\telse putchar((o[m]^p)?'A':'B');\n\t\tfor (i=m+1; i<=n+m-1; i++) putchar((o[i]^p)?'A':'B');\n\t} \n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Copyright (C) 2017 __debug.\n\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License as\n// published by the Free Software Foundation; version 3\n\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n\n// You should have received a copy of the GNU General Public License\n// along with this program; If not, see <http://www.gnu.org/licenses/>.\n\n\n#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/priority_queue.hpp>\n\n#define x first\n#define y second\n#define MP std::make_pair\n#define SZ(x) ((int)(x).size())\n#define ALL(x) (x).begin(), (x).end()\n#define DEBUG(...) fprintf(stderr, __VA_ARGS__)\n#ifdef __linux__\n#define getchar getchar_unlocked\n#define putchar putchar_unlocked\n#endif\n\nusing std::pair;\nusing std::vector;\nusing std::string;\n\ntypedef long long LL;\ntypedef pair<int, int> Pii;\n\nconst int oo = 0x3f3f3f3f;\n\ntemplate<typename T> inline bool chkmax(T &a, T b) { return a < b ? a = b, true : false; }\ntemplate<typename T> inline bool chkmin(T &a, T b) { return b < a ? a = b, true : false; }\nstring procStatus()\n{\n    std::ifstream t(\"/proc/self/status\");\n    return string(std::istreambuf_iterator<char>(t), std::istreambuf_iterator<char>());\n}\ntemplate<typename T> T read(T &x)\n{\n    int f = 1;\n    char ch = getchar();\n    for (; !isdigit(ch); ch = getchar())\n        f = (ch == '-' ? -1 : 1);\n    for (x = 0; isdigit(ch); ch = getchar())\n        x = 10 * x + ch - '0';\n    return x *= f;\n}\ntemplate<typename T> void write(T x)\n{\n    if (x == 0) {\n        putchar('0');\n        return;\n    }\n    if (x < 0) {\n        putchar('-');\n        x = -x;\n    }\n    static char s[20];\n    int top = 0;\n    for (; x; x /= 10)\n        s[++top] = x % 10 + '0';\n    while (top)\n        putchar(s[top--]);\n}\n// EOT\n\nconst int MAXN = 2e5 + 5;\n\nint N, K;\nchar S[MAXN];\n\nvoid input()\n{\n    read(N); read(K);\n    scanf(\"%s\", S + 1);\n}\n\nvoid solve()\n{\n    if (K <= N * 2) {\n        std::deque<int> A;\n        int flip = 0;\n\n        for (int i = 1; i <= N; ++i) {\n            A.push_back(S[i] - 'A');\n        }\n        for (int i = 1; i <= K; ++i) {\n            if (flip ^ A.front()) {\n                A.pop_front();\n                A.push_back(!flip);\n                flip ^= 1;\n            } else\n                A.front() ^= 1;\n        }\n        for (auto x: A) {\n            putchar((x ^ flip) + 'A');\n        }\n\n        return;\n    }\n\n    K -= N * 2;\n    if (N & 1) {\n        putchar((K & 1) + 'A');\n        for (int i = 1; i < N; ++i) {\n            putchar((i & 1) + 'A');\n        }\n    } else {\n        for (int i = 1; i <= N; ++i) {\n            putchar((i & 1) + 'A');\n        }\n    }\n}\n\nint main()\n{\n#ifdef __DEBUG\n    freopen(\"D.in\", \"r\", stdin);\n    freopen(\"D.out\", \"w\", stdout);\n#endif\n\n    input();\n    solve();\n\n    return 0;\n}\n\n// 吝啬原则：除非别无他法，不要编写庞大的程序。\n//     -- UNIX哲学基础第六条，《UNIX编程艺术》by ESR\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define MAXN 5000000\nusing namespace std;\ntypedef int hp[MAXN+5];\nchar str[MAXN+5];\nint sum=0;\nhp N,d;\nvoid Str_To_Hp(char *s,hp &x)\n{\n\tint len=strlen(s);\n\tfor(int i=0;i<len;i++)\n\t\tx[len-i]=s[i]-'0';\n\tx[0]=len;\n}\nvoid Clear(hp &x)\n{\n\tfor(int i=x[0];i>=0;i--)\n\t\tx[i]=0;\n}\nvoid Add(hp &a,int b)\n{\n\tint len=a[0];\n\tsum-=a[1];\n\ta[1]+=b;\n\tfor(int i=1;true;i++)\n\t{\n\t\tsum+=a[i]%10;\n\t\tif(a[i]>=10)\n\t\t{\n\t\t\tsum-=a[i+1];\n\t\t\ta[i+1]+=a[i]/10;\n\t\t\ta[i]%=10;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlen=max(i,len);\n\t\t\tbreak;\n\t\t}\n\t}\n\tlen++;\n\twhile(len>1&&a[len]==0)\n\t\tlen--;\n\ta[0]=len;\n}\nvoid Mul(hp a,int b,hp &c)\n{\n\tClear(d);\n\tint len=a[0];\n\tfor(int i=1;i<=len;i++)\n\t{\n\t\td[i]+=a[i]*b;\n\t\td[i+1]+=d[i]/10;\n\t\td[i]%=10;\n\t}\n\tlen++;\n\twhile(d[len])\n\t{\n\t\td[len+1]+=d[len]/10;\n\t\td[len]%=10;\n\t\tlen++;\n\t}\n\twhile(len>1&&d[len]==0)\n\t\tlen--;\n\td[0]=len;\n\tfor(int i=0;i<=len;i++)\n\t\tc[i]=d[i];\n}\nbool Check(int k)\n{\n\tint sum=0;\n\tfor(int i=1;i<=N[0];i++)\n\t\tsum+=N[i];\n\tif(sum>9*k)\n\t\treturn false;\n\treturn true;\n}\nint main()\n{\n\tscanf(\"%s\",str);\n\tStr_To_Hp(str,N);\n\tMul(N,9,N);\n\tsum=0;\n\tfor(int i=1;i<=N[0];i++)\n\t\tsum+=N[i];\n\tfor(int k=1;true;k++)\n\t{\n\t\tAdd(N,9);\n\t\tif(sum<=9*k)\n\t\t{\n\t\t\tprintf(\"%d\\n\",k);\n\t\t\treturn 0;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<cmath>\n#include<iomanip>\n#include<iostream>\n#include<map>\n#include<numeric>\n#include<queue>\n#include<set>\n#include<sstream>\n#include<vector>\nusing namespace std;\nusing uint = unsigned int;\nusing ll = long long;\nconst int M = 1e9 + 7;\nconst ll MLL = 1e18L + 9;\n#pragma unused(M)\n#pragma unused(MLL)\n#ifdef LOCAL\n#include\"rprint.hpp\"\n#else\ntemplate <class... T> void printl(T&&...){ }\ntemplate <class... T> void printc(T&&...){ }\ntemplate <class... T> void prints(T&&...){ }\ntemplate <class... T> void printd(T&&...){ }\n#endif\n\nint main(){\n    chrono::steady_clock clk;\n    auto start = clk.now();\n    int n, k;\n    cin >> n >> k;\n    string s; cin >> s;\n    vector<bool> ss(n);\n    for(int i=0;i<n;i++){\n        ss[i] = s[i] == 'A';\n    }\n    bool flip = false;\n    int idx = 0;\n    for(int i=0;i<k;i++){\n        if(flip ^ !ss[idx]){\n            flip = !flip;\n            idx = (idx + 1) % n;\n        }else{\n            ss[idx] = !ss[idx];\n        }\n        if(clk.now() - start > 1500ms){\n            break;\n        }\n    }\n    for(int i=0;i<n;i++){\n        cout << (flip ^ ss[(idx + i) % n] ? 'A' : 'B');\n    }\n    cout << '\\n';\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n//make_tuple emplace_back next_permutation push_back make_pair second first setprecision\n\n#if MYDEBUG\n#include \"lib/cp_debug.h\"\n#else\n#define DBG(...) ;\n#endif\n\nusing LL = long long;\nconstexpr LL LINF=334ll<<53;\nconstexpr int INF=15<<26;\nconstexpr LL  MOD=1E9+7;\n\nstruct Problem{\n    int n,k;\n    string s;\n    Problem(LL n):n(n){};\n    void out(int pos){\n        vector<char> ab;\n        for(int i=0; i<pos; ++i){\n            if(i%2==0) ab.push_back('A');\n            else ab.push_back('B');\n        }\n        reverse(ab.begin(),ab.end());\n        for(int i=pos; i<n; ++i){\n            if(pos%2==0)cout << s[i];\n            else if(s[i]=='A')cout << 'B';\n            else cout << 'A';\n        }\n        for(auto c : ab){\n            cout << c;\n        }\n        cout << \"\\n\";\n    }\n    void ba(int l){\n        for(int i=0; i<l; ++i){\n            if(i%2==0) cout << 'B';\n            else cout << 'A';\n        }\n        cout << \"\\n\";\n    }\n    void solve(){\n        cin >> k >> s;\n        int cnt=0;\n        for(int i=0; i<n; ++i){\n            if(cnt==k){out(i);return;}\n            if(s[i]=='A'){\n                s[i]='B';\n                ++cnt;\n                if(cnt==k){out(i);return;}\n            }\n            ++cnt;\n        }\n        if(n%2==0){\n            ba(n);\n        }else{\n            if((k-cnt)%2==0)cout <<'A';\n            else cout << 'B';\n            ba(n-1);\n        }\n    }\n};\n\nint main(){\n    cin.tie(0);\n    ios_base::sync_with_stdio(false);\n    long long n=0;\n    cin >> n;\n    Problem p(n);\n    p.solve();\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ms(s, n) memset(s, n, sizeof(s))\n#define FOR(i, a, b) for (int i = (a); i < (b); i++)\n#define FORd(i, a, b) for (int i = (a) - 1; i >= (b); i--)\n#define FORall(it, a) for (__typeof((a).begin()) it = (a).begin(); it != (a).end(); it++)\n#define FORalld(it, a) for (__typeof((a).rbegin()) it = (a).rbegin(); it != (a).rend(); it++)\n#define sz(a) int((a).size())\n#define present(t, x) (t.find(x) != t.end())\n#define all(a) (a).begin(), (a).end()\n#define uni(a) (a).erase(unique(all(a)), (a).end())\n#define pb push_back\n#define pf push_front\n#define mp make_pair\n#define fi first\n#define se second\n#define prec(n) fixed<<setprecision(n)\n#define bit(n, i) (((n) >> (i)) & 1)\n#define bitcount(n) __builtin_popcountll(n)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<int, int> pi;\ntypedef vector<int> vi;\ntypedef vector<pi> vii;\nconst int MOD = (int) 1e9 + 7;\nconst int INF = (int) 1e9;\nconst ll LINF = (ll) 1e18;\nconst ld PI = acos((ld) -1);\nconst ld EPS = 1e-9;\ninline ll gcd(ll a, ll b) {ll r; while (b) {r = a % b; a = b; b = r;} return a;}\ninline ll lcm(ll a, ll b) {return a / gcd(a, b) * b;}\ninline ll fpow(ll n, ll k, int p = MOD) {ll r = 1; for (; k; k >>= 1) {if (k & 1) r = r * n % p; n = n * n % p;} return r;}\ntemplate<class T> inline int chkmin(T& a, const T& val) {return val < a ? a = val, 1 : 0;}\ntemplate<class T> inline int chkmax(T& a, const T& val) {return a < val ? a = val, 1 : 0;}\ntemplate<class T> inline T isqrt(T k) {T r = sqrt(k) + 1; while (r * r > k) r--; return r;}\ntemplate<class T> inline T icbrt(T k) {T r = cbrt(k) + 1; while (r * r * r > k) r--; return r;}\ninline void addmod(int& a, int val, int p = MOD) {if ((a = (a + val)) >= p) a -= p;}\ninline void submod(int& a, int val, int p = MOD) {if ((a = (a - val)) < 0) a += p;}\ninline int mult(int a, int b, int p = MOD) {return (ll) a * b % p;}\ninline int inv(int a, int p = MOD) {return fpow(a, p - 2, p);}\ninline int sign(ld x) {return x < -EPS ? -1 : x > +EPS;}\ninline int sign(ld x, ld y) {return sign(x - y);}\n\nconst int maxn = 2e5 + 5;\nint n, k;\nstring s;\n\nvoid solve() {\n    cin >> n >> k >> s;\n    if (k > n + n) {\n        FOR(i, 0, n) {\n            s[n - i - 1] = 'A' + (i & 1);\n        }\n        cout << s << \"\\n\";\n        return;\n    }\n    queue<int> que;\n    FOR(i, 0, n) que.push(s[i] - 'A');\n    int dif = 0;\n    FOR(i, 0, k) {\n        if (!(que.front() ^ dif)) {\n            que.front() ^= 1;\n        }\n        else {\n            int x = que.front();\n            que.pop();\n            que.push(x);\n            dif ^= 1;\n        }\n    }\n    FOR(i, 0, n) {\n        cout << char('A' + (que.front() ^ dif));\n        que.pop();\n    }\n    cout << \"\\n\";\n}\n\nint main() {\n#ifdef _LOCAL_\n    freopen(\"in.txt\", \"r\", stdin); //freopen(\"out.txt\", \"w\", stdout);\n#else\n    ios_base::sync_with_stdio(0); cin.tie(0);\n#endif\n    solve();\n    cerr << \"\\nTime elapsed: \" << 1.0 * clock() / CLOCKS_PER_SEC << \"s\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define x first\n#define y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> ii;\ntypedef pair<ll,ll> pll;\n\nconst int mod=1000000000+7;\n\nint addm(int& a,int b) {return (a+=b)<mod?a:a-=mod;}\n\ntemplate<class T,class U> bool smin(T& a,U b) {return a>b?(a=b,1):0;}\ntemplate<class T,class U> bool smax(T& a,U b) {return a<b?(a=b,1):0;}\n\nint N,K,opc;\nstring s;\n\nint main() {\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\n\tcin >> N >> K >> s;\n\tint i=0;\n\tbool f;\n\tint shif;\n\tfor (int i=0;i<N && opc<K;i++) {\n\t\tif ((s[i]=='A')==(i%2==0)) {\n\t\t\tf=1;\n\t\t\topc++;\n\t\t\tif (opc==K) break;\n\t\t}\n\t\telse f=0;\n\t\topc++;\n\t\tshif++;\n\n\t\t//cerr << '1' << endl;\n\t}\n\n\tK-=opc;\n\tstringstream ans;\n\n\tif (K) {\n\t   if (N%2 && K%2) f=1;\n\t   else f=0;\n\t}\n\t//if (K==0) {\n\t\tfor (;i<N;i++) {if ((shif%2==0)==(s[i]=='A')) ans << 'A';\n\t\telse ans << 'B';\n\t\t//cerr << \"2\" << endl;\n\t\t}\n\t\tfor (int j=N-shif;j<N;j++) {if ((N-j)%2==1) ans << 'A';\n\t\telse ans << 'B';\n\t\t//cerr << \"3\" << endl;\n\t\t}\n\t\tstring ss;\n\t\tans >> ss;\n\t\tif (f==(ss[0]=='A')) ss[0]='B';\n\t\telse ss[0]='A';\n\n\t\tcout << ss.substr(ss.size()-N-1) << endl;\n\t\treturn 0;\n\t//}\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <deque>\n#include <string>\n#include <algorithm>\n#include <iostream>\n#include <string>\n#include <map>\n#include <set>\n#include <functional>\n#include <iostream>\n#define MOD 1000000007LL\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint n,k;\ndeque<P> que;\n\nint main(void){\n\tscanf(\"%d%d\",&n,&k);\n\tstring str;\n\tcin >> str;\n\tfor(int i=0;i<n;i++){\n\t\tif(str[i]=='A')que.push_back(P(0,0));\n\t\telse que.push_back(P(1,0));\n\t}\n\tint flip=0;\n\tfor(int i=0;i<min(n*2,k);i++){\n\t\tint g=que[0].first;\n\t\tif(g==0){\n\t\t\tque.pop_front();\n\t\t\tque.push_front(P(1,flip));\n\t\t}else{\n\t\t\tflip++;\n\t\t\tque.pop_front();\n\t\t\tque.push_back(P(0,flip));\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tif((flip-que[i].second)%2==1){\n\t\t\tque[i].first=1-que[i].first;\n\t\t}\n\t}\n\tif(n*2<k){\n\t\tint rest=k-n*2;\n\t\tif(n%2==1 && rest%2==1){\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tque[i].first=1-que[i].first;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tprintf(\"%c\",que[i].first==0?'A':'B');\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//by yjz\n#include<bits/stdc++.h>\nusing namespace std;\n#define FF first\n#define SS second\n#define PB push_back\n#define MP make_pair\n#define bged(v) (v).begin(),(v).end()\n#define foreach(it,s) for(__typeof((s).begin()) it=(s).begin();it!=(s).end();it++)\ntypedef long long ll;\nconst int Imx=2147483647;\nconst ll Lbig=2e18;\nconst int mod=1e9+7;\n//My i/o stream\nstruct fastio\n{\n\tchar s[100000];\n\tint it,len;\n\tfastio(){it=len=0;}\n\tinline char get()\n\t{\n\t\tif(it<len)return s[it++];it=0;\n\t\tlen=fread(s,1,100000,stdin);\n\t\tif(len==0)return EOF;else return s[it++];\n\t}\n\tbool notend()\n\t{\n\t\tchar c=get();\n\t\twhile(c==' '||c=='\\n')c=get();\n\t\tif(it>0)it--;\n\t\treturn c!=EOF;\n\t}\n}_buff;\n#define geti(x) x=getnum()\n#define getii(x,y) geti(x),geti(y)\n#define getiii(x,y,z) getii(x,y),geti(z)\n#define puti(x) putnum(x),putchar(' ')\n#define putii(x,y) puti(x),puti(y)\n#define putiii(x,y,z) putii(x,y),puti(z)\n#define putsi(x) putnum(x),putchar('\\n')\n#define putsii(x,y) puti(x),putsi(y)\n#define putsiii(x,y,z) putii(x,y),putsi(z)\ninline ll getnum()\n{\n\tll r=0;bool ng=0;char c;c=_buff.get();\n\twhile(c!='-'&&(c<'0'||c>'9'))c=_buff.get();\n\tif(c=='-')ng=1,c=_buff.get();\n\twhile(c>='0'&&c<='9')r=r*10+c-'0',c=_buff.get();\n\treturn ng?-r:r;\n}\ntemplate<class T> inline void putnum(T x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tregister short a[20]={},sz=0;\n\twhile(x)a[sz++]=x%10,x/=10;\n\tif(sz==0)putchar('0');\n\tfor(int i=sz-1;i>=0;i--)putchar('0'+a[i]);\n}\ninline char getreal(){char c=_buff.get();while(c==' '||c=='\\n')c=_buff.get();return c;}\nint n,k;\nchar s[200111];\nchar getst(int x,int dlt)\n{\n\tif(x+dlt>n)return (n-x)%2+'A';\n\telse return ((s[x+dlt]-'A')^(dlt%2))+'A';\n}\nchar ans[200111];\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);\n\tint dlt=0;\n\tbool f=0;\n\twhile(k--)\n\t{\n\t\tif(dlt>=n)k%=2;\n\t\tif(((getst(1,dlt)-'A')^f)==0)\n\t\t{\n\t\t\tf^=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdlt++;\n\t\t\tf=0;\n\t\t}\n/*\t\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n\t\tif(f)\n\t\t{\n\t\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t\t}\n\t\tprintf(\"%s\\n\",ans+1);*/\n\t}\n\tfor(int i=1;i<=n;i++)ans[i]=getst(i,dlt);\n\tif(f)\n\t{\n\t\tans[1]=((ans[1]-'A')^1)+'A';\n\t}\n\tprintf(\"%s\\n\",ans+1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cfloat>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <memory>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n \nusing namespace std;\n \ntypedef long long ll;\n \n#define sz size()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(c) (c).begin(), (c).end()\n#define rep(i,a,b) for(ll i=(a);i<(b);++i)\n#define per(i,a,b) for(ll i=(b-1);i>=(a);--i)\n#define clr(a, b) memset((a), (b) ,sizeof(a))\n#define ctos(c) string(1,c)\n#define print(x) cout<<#x<<\" = \"<<x<<endl;\n \n#define MOD 1000000007\n \nll d[200010];\n \nint main() {\n  ll n, k;\n  cin>>n>>k;\n  string s;\n  cin>>s;\n  if(k>400000){\n    if(n%2==0){\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"B\";\n        else ans += \"A\";\n      }\n      cout << ans << endl;\n      return 0;\n    }\n    else{\n      string ans;\n      rep(i,0,s.sz){\n        if(i%2==0)ans+=\"A\";\n        else ans += \"B\";\n      }\n      if(k%2==1){\n        ans[0]='B';\n      }\n      cout << ans << endl;\n      return 0;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <queue>\n\nusing namespace std;\n\nchar s[200001];\n\nint main() {\n    int n, k, c = 0, f = 0, i, j;\n    deque <int> q;\n    \n    scanf(\"%d %d\", &n, &k);\n    scanf(\"%s\", s);\n    \n    for (i = 0; i < n; i++) q.push_back(s[i] - 'A');\n    \n    for (i = 0; i < k; i++) {\n        if (q[0] == 0) {\n            q[0] = 1;\n        } else {\n            f++;\n            q.pop_front();\n            q.push_back(f % 2);\n            \n            if (f == n) {\n                if (n % 2 == 1 && (k - i - 1) % 2 == 1) q[0] = 1 - q[0];\n                \n                break;\n            }\n        }\n    }\n    \n    for (i = 0; i < n; i++) putchar('A' + (q[i] + f) % 2);\n    puts(\"\");\n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long int ll;\ntypedef long double ld;\n#define pb push_back\n#define pii pair < int , int >\n#define F first\n#define S second\n#define endl '\\n'\n#define int long long\n#define sync ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0)\n#pragma GCC optimize(\"Ofast,no-stack-protector,unroll-loops,fast-math\")\n#define kill(x) return cout<<x<<'\\n', 0;\nusing namespace std;\nconst int N=2e5+100;\nchar ans[N];\nint32_t main(){\n    ll n,k;\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    if (k>=n){\n        cout << 1/0;\n        string y=\"\";\n        char c='A';\n        ll cnt=1;\n        for (int i=1;i<=n;i++){\n            y+=c;\n            c+=cnt;\n            cnt*=-1;\n        }\n        reverse(y.begin(),y.end());\n        kill(y);\n    }\n    ll cnt=0;\n    if (s[0]=='A') cnt++;\n    ans[0]='B';\n    for (int i=1;i+cnt<=k;i++){\n        char c=s[i];\n        if (i%2==0){\n            if (c=='A'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n        else{\n            if (c=='B'){\n                if (i+cnt<k){\n                    cnt++;\n                }\n                else{\n                    ans[0]='A';\n                }\n            }\n        }\n    }\n    for (int i=1;i<n;i++){\n        ll z=i+k-cnt;\n        if (z>=n){\n            if (i%2==(n-1)%2){\n                ans[i]='A';\n            }\n            else{\n                ans[i]='B';\n            }\n        }\n        else{\n            if (z%2==i%2){\n                ans[i]=s[z];\n            }\n            else{\n                if (s[z]=='A') ans[i]='B';\n                else ans[i]='A';\n            }\n        }\n    }\n    for (int i=0;i<n;i++) cout << ans[i];\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define Fst first\n#define Snd second\n#define RG register\n#define mp make_pair\n#define mem(a,b) memset(a,b,sizeof(a))\nusing namespace std;\ntypedef long long LL;\ntypedef long double LD;\ntypedef unsigned int UI;\ntypedef unsigned long long ULL;\ntemplate<typename T> inline void read(T& x) {\n\tchar c = getchar();\n\tbool f = false;\n\tfor (x = 0; !isdigit(c); c = getchar()) {\n\t\tif (c == '-') {\n\t\t\tf = true;\n\t\t}\n\t}\n\tfor (; isdigit(c); c = getchar()) {\n\t\tx = x * 10 + c - '0';\n\t}\n\tif (f) {\n\t\tx = -x;\n\t}\n}\ntemplate<typename T, typename... U> inline void read(T& x, U& ... y) {\n\tread(x), read(y...);\n}\nint n,K;\nint G[600010];\nchar s[200010];\n//#define rua\nint main() {\n//\tios::sync_with_stdio(false);\n#ifdef rua\n\tfreopen(\"GG.in\",\"r\",stdin);\n#endif\n  read(n,K); scanf(\"%s\",s+1);\n  for(int i=1;i<=n;++i) G[i]=s[i]-'A';\n  int l=1,r=n,t=0;\n  for(int i=1;i<=n<<1;++i) {\n    if(G[l]^t==0) G[l]^=1;\n    else t^=1,++l,G[++r]=t;\n    if(i==K) {\n      for(int i=l;i<=r;++i) G[i]^=t,printf(\"%c\",G[i]+'A');\n      return 0;\n    }\n  }\n  if(n%2&&K%2) G[l]^=1;\n  for(int i=l;i<=r;++i) G[i]^=t,printf(\"%c\",G[i]+'A');\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <queue>\n \nusing namespace std;\n \ntypedef long long ll;\n \nconst ll INF = 1e9;\n \nint n, k;\nstring s;\n \nint main ()\n{\n\tcin >> n >> k;\n\n\tdeque <int> a (n);\n\tcin >> s;\n\tint rev = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t\ta[i] = (s[i] == 'B');\n\n\tfor (int i = 0; i < min (k, 3 * n); i++)\n\t{\n\t\tif (!(a[0] ^ rev)) \n\t\t{\n\t\t\ta[0] = !rev;\n\t\t\tcontinue;\n\t\t}\n\n\t\ta.pop_front ();\n\t\trev ^= 1;\n\t\ta.push_back (rev);\n\t}\n\n\tif (k >= 3 * n) rev ^= (k - 3 * n) & 1;\n\n\tfor (int j = 0; j < n; j++)\n\t\tif (rev ^ a[j]) putchar ('B');\n\t\telse putchar ('A');\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream> \n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <random>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\nusing namespace std;\n#define LONG_INF 10000000000000000\n#define MAX_MOD 1000000007\n#define REP(i,n) for(long long i = 0;i < n;++i)\nint main() {\n#define int long long\n\tint n, k;\n\tcin >> n >> k;\n\tstring s;\n\tcin >> s;\n\tint reversed = 0;\n\tint erasing = 0;\n\twhile (k != 0&&erasing < 2000000) {\n\t\tk--;\n\t\tif (reversed == true) {\n\t\t\tif (s[erasing] == 'A') {\n\t\t\t\terasing++;\n\t\t\t\treversed = false;\n\t\t\t\ts.push_back('A');\n\t\t\t}\n\t\t\telse {\n\t\t\t\ts[erasing] = 'A';\n\t\t\t}\n\t\t}else{\n\t\t\tif (s[erasing] == 'B') {\n\t\t\t\terasing++;\n\t\t\t\treversed = true;\n\t\t\t\ts.push_back('B');\n\t\t\t}\n\t\t\telse s[erasing] = 'B';\n\t\t}\n\t}\n\tif (k == 0) {\n\tooh:;\n\t\tfor (int i = erasing;i < s.length();++i) {\n\t\t\tif (reversed == true) {\n\t\t\t\tif (s[i] == 'A') {\n\t\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\t\telse s[i] = 'A';\n\t\t\t}\n\t\t\tcout << s[i];\n\t\t}\n\t\tcout << endl;\n\t\treturn 0;\n\t}\n\telse {\n\t\tif (n % 2 == 0) {\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\tfor (int i = n - 1;i >= 0;--i) {\n\t\t\t\tcout << ans[i];\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t\telse {\n\t\t\twhile (k != 0 && !(reversed == true||s[erasing] == 'B')) {\n\t\t\t\tk--;\n\t\t\t\tif (reversed == true) {\n\t\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = false;\n\t\t\t\t\t\ts.push_back('A');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ts[erasing] = 'A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = true;\n\t\t\t\t\t\ts.push_back('B');\n\t\t\t\t\t}\n\t\t\t\t\telse s[erasing] = 'B';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (k == 0) goto ooh;\n\t\t\tstring ans;\n\t\t\tfor (int i = 0;i < n;++i) {\n\t\t\t\tif (i % 2 == 0) {\n\t\t\t\t\tans.push_back('A');\n\t\t\t\t}\n\t\t\t\telse ans.push_back('B');\n\t\t\t}\n\t\t\treverse(ans.begin(), ans.end());\n\t\t\tk %= 4;\n\t\t\terasing = 0;\n\t\t\ts = ans;\n\t\t\twhile (k != 0) {\n\t\t\t\tk--;\n\t\t\t\tif (reversed == true) {\n\t\t\t\t\tif (s[erasing] == 'A') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = false;\n\t\t\t\t\t\ts.push_back('A');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ts[erasing] = 'A';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (s[erasing] == 'B') {\n\t\t\t\t\t\terasing++;\n\t\t\t\t\t\treversed = true;\n\t\t\t\t\t\ts.push_back('B');\n\t\t\t\t\t}\n\t\t\t\t\telse s[erasing] = 'B';\n\t\t\t\t}\n\t\t\t}\n\t\t\tgoto ooh;\n\t\t\tcout << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdlib>\n#include <cstdio>\nusing namespace std;\ninline int read()\n{\n\tint f = 1, x = 0;\n\tchar ch;\n\n\tdo{\n\t\tch = getchar();\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t}while(ch < '0' || ch > '9');\n\tdo{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}while(ch >= '0' && ch <= '9');\n\treturn f * x;\n}\n\nint n, k, p;\nstring s;\n\nint main()\n{\n\tn = read();\n\tk = read();\n\tcin >> s;\n\tif (k > n << 1)\n\t\tk = (n << 1) + ((k - (n << 1)) & 1);\n\n\tchar ch = 'A';\n\tfor (int i = 1; i <= k; i++) {\n\t\tif (s[p] == ch) {\n\t\t\ts[p] = 'A' + 'B' - ch;\n\t\t} else {\n\t\t\tch = 'A' + 'B' - ch;\n\t\t\tp = (p + 1) % n;\n\t\t}\n\t}\n\n\tfor (int i = p; i < n; i++) {\n\t\tif (s[i] == ch)\n\t\t\tprintf(\"A\");\n\t\telse\n\t\t\tprintf(\"B\");\n\t}\n\tfor (int i = 0; i < p; i++) {\n\t\tif (s[i] == ch)\n\t\t\tprintf(\"A\");\n\t\telse\n\t\t\tprintf(\"B\");\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\nusing namespace std;\n#define MAX 200200\nint n,K,l,r,p;\nchar S[MAX];int a[MAX<<2];\nint main()\n{\n\tscanf(\"%d%d\",&n,&K);scanf(\"%s\",S+1);\n\tl=1,r=n,p=0;\n\tfor(int i=1;i<=n;++i)a[i]=S[i]=='A';\n\tfor(int i=1;i<=n+n;++i)\n\t{\n\t\tif(a[l]^p)a[l]^=1;\n\t\telse ++l,p^=1,a[++r]=p^1;\n\t\tif(i==K)\n\t\t{\n\t\t\tfor(int j=l;j<=r;++j)putchar((a[j]^p^1)+'A');\n\t\t\tputs(\"\");return 0;\n\t\t}\n\t}\n\tif((n&1)&&(K&1))a[l]^=1;\n\tfor(int i=l;i<=r;++i)putchar((a[i]^p^1)+'A');\n\treturn 0;\n\t\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\ntypedef long long ll;\nll gi(){\n\tll x=0,f=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch))f^=ch=='-',ch=getchar();\n\twhile(isdigit(ch))x=x*10+ch-'0',ch=getchar();\n\treturn f?x:-x;\n}\nchar S[200010],_[200010];\nint main(){\n#ifdef XZZSB\n\tfreopen(\"in.in\",\"r\",stdin);\n\tfreopen(\"out.out\",\"w\",stdout);\n#endif\n\tint n=gi(),K=gi();\n\tscanf(\"%s\",S+1);\n\tS[n+1]=0;\n\tint nown=n;\n\tfor(int i=1;i<=K;++i){\n\t\tint p=1,d=1;\n\t\twhile(1<=p&&p<=nown){\n\t\t\tif(S[p]=='A')d*=-1;\n\t\t\tS[p]=(!(S[p]-'A')+'A');\n\t\t\tp+=d;\n\t\t}\n\t\twhile(p>1&&S[p-1]=='B'&&S[p]=='A')p-=2;\n\t\tbool flg=1;\n\t\tfor(int j=1;j<=nown;++j)if(S[j]!=_[j])flg=0,_[j]=S[j];\n\t\tif(flg)break;\n\t}\n\tprintf(\"%s\\n\",S+1);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, diff, start;\nint pref[N];\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    vector <int> who;\n    for (int i = 0; i + 1 < n; ++i) {\n        diff[i] = a[i] ^ a[i + 1];\n        if (diff[i])\n            who.app(i);\n    }\n    start = diff;\n    diff[n - 1] = 1;\n\n    for (int i = 0; i < n; ++i)\n        pref[i + 1] = pref[i] + start[i];\n\n    int bt = 0;\n    for (int i = 0; bt < n - 1 && k; ++i) {\n        --k;\n\n        //j >= n - 1 - bt\n\n        int cnt = diff[0];\n        cnt += pref[n - 1] - pref[1 + bt];\n        cnt += bt + 1;        \n\n        if (cnt & 1) {\n            diff[0] = diff[0] ^ 1;\n        }   \n        else {\n            ++bt;           \n            diff >>= 1;\n            diff[n - 1] = 1;\n        }   \n    }   \n\n    a[n - 1];\n    for (int i = n - 2; i >= 0; --i)\n        a[i] = a[i + 1] ^ diff[i];\n\n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"no-stack-protector\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unswitch-loops\")\n#pragma GCC optimize(\"fast-math\")\n#pragma GCC optimize(\"section-anchors\")\n#pragma GCC optimize(\"profile-reorder-functions\")\n#pragma GCC optimize(\"profile-values\")\n#pragma GCC optimize(\"tracer\")\n#pragma GCC optimize(\"vpt\")\n#pragma GCC optimize(\"rename-registers\")\n#pragma GCC optimize(\"move-loop-invariants\")\n#pragma GCC optimize(\"function-sections\")\n#pragma GCC optimize(\"data-sections\")\n#pragma GCC optimize(\"branch-target-load-optimize\")\n#pragma GCC optimize(\"branch-target-load-optimize2\")\n#pragma GCC optimize(\"btr-bb-exclusive\")\n#pragma GCC target(\"sse2\")\n#pragma GCC target(\"sse3\")\n#pragma GCC target(\"ssse3\")\n#pragma GCC target(\"sse4.1\")\n#pragma GCC target(\"sse4.2\")\n#pragma GCC target(\"avx\")\n#pragma GCC target(\"avx2\")\n#pragma GCC target(\"popcnt\")\n#pragma GCC target(\"abm\")\n#pragma GCC target(\"mmx\")\n#pragma GCC target(\"tune=native\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define ii pair <int, int>\n#define app push_back\n#define all(a) a.begin(), a.end()\n#define bp __builtin_popcountll\n#define ll long long\n#define mp make_pair\n#define f first\n#define s second\n#define Time (double)clock()/CLOCKS_PER_SEC\n\nconst int N = 2e5 + 7;\nbitset <N> a, inv;\n\nint n, k;\nvoid print() {\n    for (int i = 0; i < n; ++i) {\n        if (a[i])\n            cout << 'A';\n        else\n            cout << 'B';\n    }   \n    cout << endl;\n}\n\nsigned main() {\n    #ifdef HOME\n    freopen(\"input.txt\", \"r\", stdin);\n    #else\n    #define endl '\\n'\n    ios_base::sync_with_stdio(0); cin.tie(0);\n    #endif\n    cin >> n >> k;\n    string s;\n    cin >> s;\n    for (int i = 0; i < n; ++i)\n        a[i] = s[i] == 'A';\n\n\n    if (n == 1) {\n        a[0] = a[0] ^ (k & 1);\n        print();\n        exit(0);\n    }   \n\n    while (!a[n - 1] && k) {\n        --k;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {\n            for (int i = 0; i + 1 < n; ++i) {\n                if (a[i] == a[i + 1]) {\n                    a[i] = a[i] ^ 1;\n                }   \n            }   \n            a[n - 1] = 1;\n        }   \n    }        \n    \n    if (k == 0) {\n        print();\n        exit(0);\n    }\n    \n    for (int i = 0; i < n - 1; ++i)\n        inv[i] = 1;\n\n    int cnt = 0;\n    while (k && cnt < n) {\n        --k;\n        ++cnt;\n        if (a[0]) {\n            a[0] = a[0] ^ 1;\n        }   \n        else {            \n            a ^= (a ^ (a >> 1) ^ inv) & inv;\n        }   \n    }   \n    if (a[0] || (a[0] == a[1])) {\n        a[0] = a[0] ^ (k & 1);\n    }   \n    print();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define endl '\\n'\n\nusing namespace std;\nconst int MAXN = (1 << 20);\n\nint n, k;\nstring a;\n\nvoid read()\n{\n\tcin >> n >> k;\n\tcin >> a;\n}\n\nuint64_t chsh;\nmap<uint64_t, int> pos;\n\nvoid preform()\n{\n\tif(n > 1000) return;\n\n\tint pos = 0, last = -1;\n\twhile(pos >= 0 && pos < n)\n\t{\n\t\ta[pos] = ((a[pos] - 'A') ^ 1) + 'A';\n\n\t\tif(a[pos] == 'B') swap(last, pos);\n\t\telse\n\t\t{\n\t\t\tint val = pos;\n\t\t\tpos += (pos - last);\n            last = val;\n\t\t}\n\t}\n}\n\nvoid solve()\n{\n\tint period = 1;\n    for(int i = 0; i < k; i++)\n\t{\n\t\tpreform();\n\n\t\tchsh = 0;\n\t\tfor(int j = 0; j < n; j++)\n\t\t\tchsh = chsh * 3 + a[j] - 'A' + 1;\n\n        if(pos.count(chsh))\n\t\t{\n\t\t\tk -= (i + 1);\n            period = (i - pos[chsh]);\n\t\t\tbreak;\n\t\t}\n\n        pos[chsh] = i;\n\t}\n\n\tk %= period;\n    for(int i = 0; i < k; i++)\n    \tpreform();\n\n\tcout << a << endl;\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\n\tread();\n\tsolve();\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long   signed int LL;\ntypedef long long unsigned int LU;\n\n#define incID(i, l, r) for(int i = (l)    ; i <  (r); i++)\n#define incII(i, l, r) for(int i = (l)    ; i <= (r); i++)\n#define decID(i, l, r) for(int i = (r) - 1; i >= (l); i--)\n#define decII(i, l, r) for(int i = (r)    ; i >= (l); i--)\n#define  inc(i, n) incID(i, 0, n)\n#define inc1(i, n) incII(i, 1, n)\n#define  dec(i, n) decID(i, 0, n)\n#define dec1(i, n) decII(i, 1, n)\n\n#define inII(v, l, r) ((l) <= (v) && (v) <= (r))\n#define inID(v, l, r) ((l) <= (v) && (v) <  (r))\n\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define FI first\n#define SE second\n#define UB upper_bound\n#define LB lower_bound\n#define PQ priority_queue\n\n#define  ALL(v)  v.begin(),  v.end()\n#define RALL(v) v.rbegin(), v.rend()\n#define  FOR(it, v) for(auto it =  v.begin(); it !=  v.end(); ++it)\n#define RFOR(it, v) for(auto it = v.rbegin(); it != v.rend(); ++it)\n\ntemplate<typename T> bool   setmin(T & a, T b) { if(b <  a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool   setmax(T & a, T b) { if(b >  a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool setmineq(T & a, T b) { if(b <= a) { a = b; return true; } else { return false; } }\ntemplate<typename T> bool setmaxeq(T & a, T b) { if(b >= a) { a = b; return true; } else { return false; } }\ntemplate<typename T> T gcd(T a, T b) { return (b == 0 ? a : gcd(b, a % b)); }\ntemplate<typename T> T lcm(T a, T b) { return a / gcd(a, b) * b; }\n\n// ---- ----\n\nint n, k;\nstring s;\n\nint main() {\n\tcin >> n >> k >> s;\n\t\n\tif(n == 1) { cout << (k % 2 == 0 ? \"B\" : \"A\") << endl; return 0; }\n\t\n\ts += '#';\n\tdeque<int> deq;\n\tincID(i, 1, n) {\n\t\tint j = i;\n\t\twhile(s[i] == s[j]) { j++; }\n\t\tdeq.PB(j - i);\n\t\t\n\t\ti = j - 1;\n\t}\n\t\n\tconst int AA = 0, AB = 1, BA = 2, BB = 3;\n\tint v;\n\tif(s[0] == 'A' && s[1] == 'A') { v = AA; }\n\tif(s[0] == 'A' && s[1] == 'B') { v = AB; }\n\tif(s[0] == 'B' && s[1] == 'A') { v = BA; }\n\tif(s[0] == 'B' && s[1] == 'B') { v = BB; }\n\t\n\tint pc = 0;\n\tinc(i, k) {\n\t\tif(v == AA) { v = BA; continue; }\n\t\tif(v == AB) { v = BB; continue; }\n\t\t\n\t\tif(n <= pc) {\n\t\t\tif(n % 2 == 1 && (k - i) % 2 != 0) {\n\t\t\t\tv = (v == BA ? AA : AB);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdeq[0]--;\n\t\tif(s[n - 1] == 'B') {\n\t\t\tdeq[deq.size() - 1]++;\n\t\t\ts[n - 1] = 'A';\n\t\t} else { deq.PB(1); }\n\t\tpc++;\n\t\tif(deq[0] == 0) {\n\t\t\tdeq.pop_front();\n\t\t\tv = (v == BA ? BA : AB);\n\t\t} else {\n\t\t\tv = (v == BA ? BB : AA);\n\t\t}\n\t}\n\t\n\tif(v == AA || v == AB) { cout << \"A\"; }\n\tif(v == BA || v == BB) { cout << \"B\"; }\n\t\n\tchar p;\n\tif(v == AA || v == BA) { p = 'A'; } else { p = 'B'; }\n\tinc(i, deq.size()) {\n\t\tinc(j, deq[i]) { cout << p; }\n\t\tp = (p == 'A' ? 'B' : 'A');\n\t}\n\tcout << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <ctime>\n#include <memory.h>\n\n#define pb push_back\n\nusing namespace std;\n\nint n, k, m = 0;\nstring s;\n\nint main()\n{\n    cin >> n >> k;\n    cin >> s;\n\n    for(int i = 0; i < s.length(); i++)\n    {\n        if((i % 2 == 0 && s[i] == 'A') || (i % 2 == 1 && s[i] == 'B'))\n            m += 2;\n        else\n            m++;\n    }\n\n    if(k >= m)\n    {\n        k = k - m;\n        if(s.length() % 2 == 1)\n        {\n            if(k % 2 == 0)\n                cout << \"A\";\n            else\n                cout << \"B\";\n            for(int i = 1; i < s.length(); i++)\n                if(i % 2 == 1)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }else\n        {\n            for(int i = 0; i < s.length(); i++)\n                if(i % 2 == 0)\n                    cout << \"B\";\n                else\n                    cout << \"A\";\n        }\n    }else\n    {\n        bool u = 1;\n        deque <int> dq;\n        for(int i = 0 ; i < s.size() ; i ++)\n            dq.pb(int(s[i] - 'A'));\n        while(k --)\n        {\n            if(u && dq.front() == 0 || !u && dq.front() == 1)\n                dq.front() ^= 1;\n            else\n            {\n                dq.pop_front();\n                u ^= 1;\n                if(u)\n                    dq.pb(0);\n                else\n                    dq.pb(1);\n            }\n        }\n        while(!dq.empty())\n        {\n            if(u)\n                cout << ((dq.front()) ? 'B' : 'A');\n            else\n                cout << ((dq.front() ^ 1) ? 'B' : 'A');\n            dq.pop_front();\n        }\n    }\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <map>\n\ntypedef long long i64;\n\nconst int N = 200000 + 10, MOD = 1000000007;\n\nint n, m;\nchar s[N];\n\nbool flag[N];\n\nint base[N], cur = 0, tot = 0;\n\nint main() {\n  base[0] = 1;\n  for (int i = 1; i < N; ++i) base[i] = 2LL * base[i - 1] % MOD;\n  const int inv = (MOD + 1) / 2;\n  scanf(\"%d%d %s\", &n, &m, s);\n  for (int i = 0; i < n; ++i) if (flag[i] = (s[i] == 'B')) (cur += base[i]) %= MOD;\n  tot = (base[n] + MOD - 1) % MOD;\n  std::map<int, int> mem;\n  mem[cur] = 0;\n  bool temp = false;\n  int k = 0;\n  for (int i = 1;; ++i) {\n    if (flag[k] ^ temp) {\n      temp ^= 1;\n      if (flag[k]) cur = (cur + MOD - 1) % MOD;\n      cur = (i64)cur * inv % MOD;\n      if (flag[k]) cur = (cur + base[n - 1]) % MOD;\n      k = (k + 1) % n;\n    } else {\n      if (flag[k]) cur = (cur + MOD - 1) % MOD;\n      flag[k] ^= 1;\n      if (flag[k]) cur = (cur + 1) % MOD;\n    }\n    int t = cur;\n    if (temp) t = (tot - t + MOD) % MOD;\n    if (--m == 0) {\n   success:\n      for (int i = 0; i < n; ++i) putchar((flag[(k + i) % n] ^ temp) ? 'B' : 'A');\n      break;\n    }\n    if (mem.count(t)) {\n      m %= (i - mem[t]);\n      mem.clear();\n      if (!m) goto success;\n    } else {\n      mem[t] = i;\n    }\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\ntypedef char bool;\n#define true 1\n#define false 0\n\nbool* boolFromChar( char* s, int size )\n{\n    bool* b = (bool *) malloc( size * sizeof( bool ) );\n    for( int i = 0; i < size; i++ )\n    {\n        b[i] = s[i] == 'A';\n    }\n    return b;\n}\n\nvoid printBool( bool* b, int size)\n{\n    for( int i = 0; i < size; i++ )\n    {\n        if( b[i] ) printf(\"A\");\n        else printf(\"B\");\n    }\n}\nint main(int argc, char **argv)\n{\n    int n, k, i, c, f, t;\n    char *s;\n\tbool *b;\n    \n    scanf(\"%d %d\", &n, &k);\n\n    s =  (char *) malloc( n * sizeof( char ) );\n\n    scanf(\"%s\", s);\n    \n    b = boolFromChar(s, n);\n    bool *prevB = (bool *) malloc( n * sizeof( bool ) );\n    memcpy( prevB, b, n );\n    for( i = 0; i < k; i++)\n    {\n        c = 0;\n        f = -1;\n        while( c >= 0 \n               && c < n )\n        {\n            t = c;\n            b[c] = !b[c];\n            if( b[c] )\n            {\n                c += c-f;\n            }\n            else\n            {\n                c = f;\n            }\n            f = t;\n        }\n        //printBool( b, n);\n        //printf(\"\\n\");\n        if( memcmp( prevB, b, n) == 0 )\n        {\n            break;\n        }\n        memcpy( prevB, b, n );\n    }\n    printBool( b, n);\n    free(s);\n    free(b);\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "/*\ncat <<EOF >mistaken-paste\n*/\n\n#pragma GCC diagnostic ignored \"-Wincompatible-pointer-types\"\n#define _USE_MATH_DEFINES\n\n#include <stdio.h>\n#include <stdint.h>\n#include <stdlib.h>\n#include <string.h>\n#include <stdbool.h>\n#include <math.h>\n#include <time.h>\n\n#define BIG 2000000007\n#define VERYBIG 2000000000000007LL\n\n#define MOD 1000000007\n#define FOD  998244353\ntypedef uint64_t ull;\ntypedef  int64_t sll;\n\n#define N_MAX 1000000\n#define M_MAX 200000\n\n#ifdef __cplusplus\n#include <queue>\n#include <stack>\n#include <tuple>\n#include <set>\n#include <map>\n#include <string>\n\nusing std::queue;\nusing std::priority_queue;\nusing std::stack;\nusing std::tuple;\nusing std::set;\nusing std::map;\nusing std::vector;\nusing std::greater;\nusing std::pair;\nusing std::string;\n\n#endif\n\ntypedef struct {\n\tint32_t a;\n\tint32_t b;\n} hw;\n\ntypedef struct {\n\tsll a;\n\tsll b;\n} hwll;\n\ntypedef struct {\n\tsll a;\n\tsll b;\n\tsll c;\n} hwllc;\n\ntypedef struct {\n\thwll a;\n\thwll b;\n} linell;\n\null n, m;\null h, w;\null k;\null q;\nsll va, vb, vc, vd, ve, vf;\null ua, ub, uc, ud, ue, uf;\nlong double vra, vrb, vrc;\ndouble vda, vdb, vdc;\nchar ch, dh;\n\null umin (ull x, ull y) {\n\treturn (x < y) ? x : y;\n}\n\null umax (ull x, ull y) {\n\treturn (x > y) ? x : y;\n}\n\nsll smin (sll x, sll y) {\n\treturn (x < y) ? x : y;\n}\n\nsll smax (sll x, sll y) {\n\treturn (x > y) ? x : y;\n}\n\null gcd (ull x, ull y) {\n\tif (x < y) {\n\t\treturn gcd(y, x);\n\t} else if (y == 0) {\n\t\treturn x;\n\t} else {\n\t\treturn gcd(y, x % y);\n\t}\n}\n\null bitpow (ull a, ull x, ull modulo) {\n\tull result = 1;\n\twhile (x) {\n\t\tif (x & 1) {\n\t\t\tresult *= a;\n\t\t\tresult %= modulo;\n\t\t}\n\t\tx /= 2;\n\t\ta = (a * a) % modulo;\n\t}\n\treturn result;\n}\n\null divide (ull a, ull b, ull modulo) {\n\treturn (a * bitpow(b, modulo - 2, modulo)) % modulo;\n}\n\null udiff (ull a, ull b) {\n\tif (a >= b) {\n\t\treturn a - b;\n\t} else {\n\t\treturn b - a;\n\t}\n}\n\nsll sdiff (sll a, sll b) {\n\tif (a >= b) {\n\t\treturn a - b;\n\t} else {\n\t\treturn b - a;\n\t}\n}\n\nint bitcount (ull n) {\n\tint result = 0;\n\twhile (n) {\n\t\tif (n & 1) result++;\n\t\tn /= 2;\n\t}\n\treturn result;\n}\n\n// double distance (sll x1, sll y1, sll x2, sll y2) {\n// \tdouble xdist2, ydist2, origindist, dist;\n\n// \txdist2 = (x1 - x2) * (x1 - x2);\n// \tydist2 = (y1 - y2) * (y1 - y2);\n// \treturn sqrt(xdist2 + ydist2);\n// }\n\nint32_t pullcomp (const void *left, const void *right) {\n\tull l = *(ull*)left;\n\tull r = *(ull*)right;\n\tif (l < r) {\n\t\treturn -1;\n\t}\n\tif (l > r) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nint32_t psllcomp (const void *left, const void *right) {\n\tsll l = *(sll*)left;\n\tsll r = *(sll*)right;\n\tif (l < r) {\n\t\treturn -1;\n\t}\n\tif (l > r) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nint32_t pcharcomp (const void *left, const void *right) {\n\tchar l = *(char*)left;\n\tchar r = *(char*)right;\n\tif (l < r) {\n\t\treturn -1;\n\t}\n\tif (l > r) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nint32_t pdoublecomp (const void *left, const void *right) {\n\tdouble l = *(double*)left;\n\tdouble r = *(double*)right;\n\tif (l < r) {\n\t\treturn -1;\n\t}\n\tif (l > r) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nint32_t pstrcomp (const void *left, const void *right) {\n\tchar* l = *(char**)left;\n\tchar* r = *(char**)right;\n\n\treturn strcmp(l, r);\n}\n\nint32_t phwllABcomp (const void *left, const void *right) {\n\thwll l = *(hwll*)left;\n\thwll r = *(hwll*)right;\n\tif (l.a < r.a) {\n\t\treturn -1;\n\t}\n\tif (l.a > r.a) {\n\t\treturn +1;\n\t}\n\tif (l.b < r.b) {\n\t\treturn -1;\n\t}\n\tif (l.b > r.b) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nint32_t phwllREVcomp (const void *left, const void *right) {\n\thwll l = *(hwll*)left;\n\thwll r = *(hwll*)right;\n\tif (l.b < r.b) {\n\t\treturn -1;\n\t}\n\tif (l.b > r.b) {\n\t\treturn +1;\n\t}\n\tif (l.a < r.a) {\n\t\treturn -1;\n\t}\n\tif (l.a > r.a) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nint32_t ptriplecomp (const void *left, const void *right) {\n\thwllc l = *(hwllc*)left;\n\thwllc r = *(hwllc*)right;\n\n\tif (l.a < r.a) {\n\t\treturn -1;\n\t}\n\tif (l.a > r.a) {\n\t\treturn +1;\n\t}\n\tif (l.b < r.b) {\n\t\treturn -1;\n\t}\n\tif (l.b > r.b) {\n\t\treturn +1;\n\t}\n\tif (l.c < r.c) {\n\t\treturn -1;\n\t}\n\tif (l.c > r.c) {\n\t\treturn +1;\n\t}\n\treturn 0;\n}\n\nbool isinrange (sll left, sll x, sll right) {\n\treturn (left <= x && x <= right);\n}\n\nbool isinrange_soft (sll left, sll x, sll right) {\n\treturn (left <= x && x <= right) || (left >= x && x >= right);\n}\n\nsll a[N_MAX];\n// sll a[3001][3001];\nsll b[N_MAX];\n// sll b[3001][3001];\nsll c[N_MAX];\n// sll d[N_MAX];\n// sll e[N_MAX];\nchar s[N_MAX + 1];\n// char s[3010][3010];\nchar t[N_MAX + 1];\n// char t[3010][3010];\n// hwll xy[N_MAX];\n// sll table[1000][1000];\n\n\n\null solve () {\n\tsll i, j, ki, li;\n\tull result = 0;\n\t// sll result = 0;\n\tdouble dresult = 0;\n\t// ull maybe = 0;\n\tsll maybe = 0;\n\t// ull sum = 0;\n\tsll sum = 0;\n\tsll item;\n\tull *dpcell;\n\n\tbool isrev = false;\n\tfor (i = 0; i < (n & ~1LL); i++) {\n\t\tif (!k) break;\n\n\t\tif (s[i] == (isrev ? 'B' : 'A')) {\n\t\t\tk--;\n\t\t\ts[i] ^= ('A' ^ 'B');\n\n\t\t\tif (!k) break;\n\t\t}\n\t\tisrev = !isrev;\n\t\tk--;\n\t}\n\n\tfor (j = 0; j < n; j++) {\n\t\tif (i + j < n) {\n\t\t\tchar c = s[i + j];\n\t\t\tif (isrev) c ^= ('A' ^ 'B');\n\t\t\tif (k & 1) c ^= ('A' ^ 'B');\n\n\t\t\tputchar(c);\n\t\t} else {\n\t\t\tputchar('A' + ((n - 1 - j) & 1));\n\t\t}\n\t}\n\tputs(\"\");\n\n\t// printf(\"%lld\\n\", result);\n\t// printf(\"%.15lf\\n\", dresult);\n\t// puts(s);\n\n\treturn 0;\n\n\tsuccess:\n\t// puts(\"YES\");\n\t// puts(\"Yes\");\n\t// printf(\"%llu\\n\", result);\n\t// puts(\"0\");\n\tputs(\"AC\");\n\treturn 0;\n\n\tfail:\n\t// puts(\"NO\");\n\t// puts(\"No\");\n\t// puts(\"0\");\n\t// puts(\"-1\");\n\t// puts(\"-1 -1 -1\");\n\tputs(\"WA\");\n\treturn 1;\n}\n\nint32_t main (void) {\n\tint32_t i, j;\n\tint32_t x, y;\n\n\t// scanf(\"%llu%llu\", &h, &w);\n\tscanf(\"%llu\", &n, &m);\n\tscanf(\"%llu\", &k, &n, &m);\n\t// scanf(\"%lld%lld\", &va, &vb, &vc, &vd);\n\t// scanf(\"%llu%llu\", &ua, &ub, &uc, &ud);\n\t// scanf(\"%llu\", &q);\n\tscanf(\"%s\", s);\n\t// scanf(\"%s\", t);\n\t// for (i = 0; i < n; i++) {\n\t// \t// scanf(\"%lld%lld\", &xy[i].a, &xy[i].b);\n\t// \tscanf(\"%lld\", &a[i]);\n\t// \t// scanf(\"%lld\", &b[i]);\n\t// \t// scanf(\"%lld\", &c[i]);\n\t// \t// scanf(\"%lld\", &d[i]);\n\t// \t// a[i]--;\n\t// \t// b[i]--;\n\t// \t// c[i]--;\n\t// }\n\t// scanf(\"%llu\", &m, &k);\n\t// scanf(\"%llu\", &q);\n\t// for (i = 0; i < k; i++) {\n\t// \tscanf(\"%lld\", &e[i]);\n\t// \te[i]--;\n\t// \tscanf(\"%lld\", &d[i]);\n\t// }\n\n\t// for (i = 0; i < n; i++) {\n\t// \tfor (j = 0; j < n; j++) {\n\t// \t\tscanf(\"%llu\", &table[i][j]);\n\t// \t}\n\t// }\n\tfor (i = 0; i < h; i++) {\n\t\tscanf(\"%s\", &s[i]);\n\t}\n\n\tsolve();\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#define deque_valtype char\n\ntypedef struct dq_node_sub{\n\tdeque_valtype val;\n\tstruct dq_node_sub *prev;\n\tstruct dq_node_sub *next;\n}dq_node;\n\ntypedef struct {\n\tint N;\n\tdq_node *first;\n\tdq_node *last;\n}deque;\n\ndeque *make_deque(){\n\tdeque *dq = (deque *)malloc(sizeof(deque));\n\tdq->N = 0;\n\tdq->first = NULL;\n\tdq->last = NULL;\n\treturn dq;\n}\n\nvoid add_first_data_deque(deque_valtype val, deque *dq){\n\tdq_node *first = (dq_node *)malloc(sizeof(dq_node));\n\tfirst->val = val;\n\tfirst->prev = NULL;\n\tfirst->next = dq->first;\n\tdq->first = first;\n\tdq->N++;\n\tif(dq->N == 1){\n\t\tdq->last = first;\n\t}\n\telse{\n\t\tfirst->next->prev = first;\n\t}\n}\n\nvoid add_last_data_deque(deque_valtype val, deque *dq){\n\tdq_node *last = (dq_node *)malloc(sizeof(dq_node));\n\tlast->val = val;\n\tlast->prev = dq->last;\n\tlast->next = NULL;\n\tdq->last = last;\n\tdq->N++;\n\tif(dq->N == 1){\n\t\tdq->first = last;\n\t}\n\telse{\n\t\tlast->prev->next = last;\n\t}\n}\n\ndeque_valtype take_first_data_deque(deque *dq){\n\tif(dq->N == 0){\n\t\tprintf(\"In function 'take_first_data_deque':\\nThere is no data in the deque\");\n\t}\n\tdeque_valtype ans = dq->first->val;\n\tdq->N--;\n\tif(dq->N == 0){\n\t\tfree(dq->first);\n\t\tdq->first = NULL;\n\t\tdq->last == NULL;\n\t}\t\n\telse{\n\t\tdq->first = dq->first->next;\n\t\tfree(dq->first->prev);\n\t\tdq->first->prev = NULL;\n\t}\n\treturn ans;\n}\n\ndeque_valtype take_last_data_deque(deque *dq){\n\tif(dq->N == 0){\n\t\tprintf(\"In function 'take_last_data_deque':\\nThere is no data in the deque\");\n\t}\n\tdeque_valtype ans = dq->last->val;\n\tdq->N--;\n\tif(dq->N == 0){\n\t\tfree(dq->last);\n\t\tdq->first = NULL;\n\t\tdq->last == NULL;\n\t}\t\n\telse{\n\t\tdq->last = dq->last->prev;\n\t\tfree(dq->last->next);\n\t\tdq->last->next = NULL;\n\t}\n\treturn ans;\n}\n\ndeque_valtype look_first_data_deque(deque *dq){\n\tif(dq->N == 0){\n\t\tprintf(\"In function 'look_first_data_deque':\\nThere is no data in the deque\");\n\t}\n\treturn dq->first->val;\n}\n\ndeque_valtype look_last_data_deque(deque *dq){\n\tif(dq->N == 0){\n\t\tprintf(\"In function 'look_last_data_deque':\\nThere is no data in the deque\");\n\t}\n\treturn dq->last->val;\n}\n\nint element_num_deque(deque *dq){\n\treturn dq->N;\n}\n\nvoid out_all_deque(deque *dq){\n\tdq_node *now = dq->first;\n\twhile(now != NULL){\n\t\tprintf(\"%c\\n\", now->val);\n\t\tnow = now->next;\n\t}\n}\n\nint min(int a, int b){\n\treturn a <= b ? a : b;\n}\n\nint main(){\n\tint N, K, i, is_reverse;\n\tchar head;\n\tscanf(\"%d%d\", &N, &K);\n\tchar *S = (char *)malloc(sizeof(char) * (N + 1));\n\tscanf(\"%s\", S);\n\tK = min(K, 2 * N + K % 2);\n\tdeque *dq = make_deque();\n\tfor(i = 0; i < N; i++){\n\t\tadd_last_data_deque(S[i], dq);\n\t}\n\tfor(i = 0, is_reverse = 0; i < K; i++){\n\t\thead = take_first_data_deque(dq);\n\t\tif(is_reverse == 0){\n\t\t\tif(head == 'A'){\n\t\t\t\tadd_first_data_deque('B', dq);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tadd_last_data_deque('B', dq);\n\t\t\t\tis_reverse = 1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(head == 'B'){\n\t\t\t\tadd_first_data_deque('A', dq);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tadd_last_data_deque('A', dq);\n\t\t\t\tis_reverse = 0;\n\t\t\t}\n\t\t}\n\t}\n\twhile(element_num_deque(dq) > 0){\n\t\thead = take_first_data_deque(dq);\n\t\tif(is_reverse == 0){\n\t\t\tprintf(\"%c\", head);\n\t\t}\n\t\telse{\n\t\t\tif(head == 'A'){\n\t\t\t\tprintf(\"B\");\n\t\t\t}\n\t\t\telse{\n\t\t\t\tprintf(\"A\");\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <stdbool.h>\n\nint changeState( int f, int c, char *s)\n{\n    if( *s == 'A')\n    {\n        *s = 'B';\n        c = f;\n    }\n    else\n    {\n        *s = 'A';\n        c += c-f;\n    }\n    return c;\n}\n\nint main(int argc, char **argv)\n{\n    int n, k, i, c, f, t;\n    char *s;\n\tscanf(\"%d %d\", &n, &k);\n    s =  (char *) malloc( n * sizeof( char ) );\n    scanf(\"%s\", s);\n    bool *b = (bool *) malloc( n* sizeof( bool ) );\n    for( i =0; i < n; i ++)\n    {\n        b[i] = s[i] == 'A';\n    }\n    for( i = 0; i < k; i++)\n    {\n        c = 0;\n        f = -1;\n        while( c >= 0 \n               && c < n )\n        {\n            t = c;\n            if( b[c] )\n            {\n                b[c] = false;\n                c = f;\n            }\n            else\n            {\n                b[c] = true;\n                c += c-f;\n            }\n            f = t;\n        }\n    }\n    for( i =0; i < n; i ++)\n    {\n        if( b[i] )\n        {\n            s[i] = 'A';\n        }\n        else\n        {\n            s[i] = 'B';\n        }\n    }\n    printf(\"%s\", s);\n    free(s);\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#define change(a) ((a)=='B')?'A':'B'\nchar s[100001];\n\nint main(int argc, char const *argv[]){\n\tlong n,k,d,f=0,i;\n\tchar p,pp;\n\tscanf(\"%ld %ld\",&n,&k);\n\tgetchar();\n\tscanf(\"%s\",s);\n\td=n-1;\n\twhile(k>0){\n\t\tif(s[0]=='B'){\n\t\t\tp=s[d+1];\n\t\t\tfor(i=d;i>=0;i--){\n\t\t\t\tpp=s[i];\n\t\t\t\tif(p=='A') s[i]='B';\n\t\t\t\telse s[i]='A';\n\t\t\t\tp=pp;\n\t\t\t}\n\t\t\twhile(d>0 && s[d-1]!=s[d]){\n\t\t\t\td--;\n\t\t\t}\n\t\t}else s[0]='B';\n\t\tk--;\n\t\tif(d==0){\n\t\t\tf=1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(f==1){\n\t\tif(s[1]!='A'){\n\t\t\tif(k%2==1){\n\t\t\t\ts[0]=change(s[0]);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%s\\n\",s);\n\t}else printf(\"%s\\n\",s);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "//set many funcs template\n//Ver.20181228\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\n#include<stdbool.h>\n#include<time.h>\n#define inf 1072114514\n#define llinf 4154118101919364364\n#define mod 1000000007\n#define pi 3.1415926535897932384\n\nint max(int a,int b){if(a>b){return a;}return b;}\nint min(int a,int b){if(a<b){return a;}return b;}\nint zt(int a,int b){return max(a,b)-min(a,b);}\nint round(int a,int b){if((a%b)*2 >= b){return (a/b)+1;}return a/b;}\nint ceil(int a,int b){if(a%b==0){return a/b;}return (a/b)+1;}\nint gcd(int a,int b){int c;while(b!=0){c=a%b;a=b;b=c;}return a;}\nint lcm(int a,int b){int c=gcd(a,b);a/=c;return a*b;}\nint nCr(int a,int b){int i,r=1;for(i=1;i<=b;i++){r*=(a+1-i);r/=i;}return r;}\nint nHr(int a,int b){return nCr(a+b-1,b);}\nint fact(int a){int i,r=1;for(i=1;i<=a;i++){r*=i;}return r;}\nint pow(int a,int b){int i,r=1;for(i=1;i<=b;i++){r*=a;}return r;}\nint dsum(int x){int r=0;while(x){r+=(x%10);x/=10;}return r;}\nint dsumb(int x,int b){int r=0;while(x){r+=(x%b);x/=b;}return r;}\nint sankaku(int x){return ((1+x)*x)/2;}\nlong long llmax(long long a,long long b){if(a>b){return a;}return b;}\nlong long llmin(long long a,long long b){if(a<b){return a;}return b;}\nlong long llzt(long long a,long long b){return llmax(a,b)-llmin(a,b);}\nlong long llround(long long a,long long b){if((a%b)*2 >= b){return (a/b)+1;}return a/b;}\nlong long llceil(long long a,long long b){if(a%b==0){return a/b;}return (a/b)+1;}\nlong long llgcd(long long a,long long b){long long c;while(b!=0){c=a%b;a=b;b=c;}return a;}\nlong long lllcm(long long a,long long b){long long c=llgcd(a,b);a/=c;return a*b;}\nlong long llnCr(long long a,long long b){long long i,r=1;for(i=1;i<=b;i++){r*=(a+1-i);r/=i;}return r;}\nlong long llnHr(long long a,long long b){return llnCr(a+b-1,b);}\nlong long llfact(long long a){long long i,r=1;for(i=1;i<=a;i++){r*=i;}return r;}\nlong long llpow(long long a,long long b){long long i,r=1;for(i=1;i<=b;i++){r*=a;}return r;}\nlong long lldsum(long long x){long long r=0;while(x){r+=(x%10);x/=10;}return r;}\nlong long lldsumb(long long x,long long b){long long r=0;while(x){r+=(x%b);x/=b;}return r;}\nlong long llsankaku(long long x){return ((1+x)*x)/2;}\ndouble dbmax(double a,double b){if(a>b){return a;}return b;}\ndouble dbmin(double a,double b){if(a<b){return a;}return b;}\ndouble dbzt(double a,double b){return dbmax(a,b)-dbmin(a,b);}\nint sortfncsj(const void *a,const void *b){if(*(int *)a>*(int *)b){return 1;}if(*(int *)a==*(int *)b){return 0;}return -1;}\nint sortfnckj(const void *a,const void *b){if(*(int *)a<*(int *)b){return 1;}if(*(int *)a==*(int *)b){return 0;}return -1;}\nint llsortfncsj(const void *a,const void *b){if(*(long long *)a>*(long long *)b){return 1;}if(*(long long *)a==*(long long *)b){return 0;}return -1;}\nint llsortfnckj(const void *a,const void *b){if(*(long long *)a<*(long long *)b){return 1;}if(*(long long *)a==*(long long *)b){return 0;}return -1;}\nint dbsortfncsj(const void *a,const void *b){if(*(double *)a>*(double *)b){return 1;}if(*(double *)a==*(double *)b){return 0;}return -1;}\nint dbsortfnckj(const void *a,const void *b){if(*(double *)a<*(double *)b){return 1;}if(*(double *)a==*(double *)b){return 0;}return -1;}\nint strsortfncsj(const void *a,const void *b){return strcmp((char *)a,(char *)b);}\nint strsortfnckj(const void *a,const void *b){return strcmp((char *)b,(char *)a);}\nint chsortfncsj(const void *a,const void *b){if(*(char *)a>*(char *)b){return 1;}if(*(char *)a==*(char *)b){return 0;}return -1;}\nint chsortfnckj(const void *a,const void *b){if(*(char *)a<*(char *)b){return 1;}if(*(char *)a==*(char *)b){return 0;}return -1;}\n\nvoid shuffledget(int x[],int n){\n    srand(time(0));\n    int i,b[524288],p,c;\n    for(i=0;i<n;i++){\n        b[i]=i;\n    }\n    for(i=n;i>=1;i--){\n        p=rand()%i;\n        c=b[i-1];b[i-1]=b[p];b[p]=c;\n    }\n    for(i=0;i<n;i++){\n        scanf(\"%d\",&x[b[i]]);\n    }\n}\n\nint dx4[4]={1,-1,0,0};\nint dy4[4]={0,0,1,-1};\nint dx8[8]={-1,-1,-1,0,0,1,1,1};\nint dy8[8]={-1,0,1,-1,1,-1,0,1};\n\nint search(int x,int a[],int n){\n    int st=0,fi=n-1,te;\n    while(st<=fi){\n        te=(st+fi)/2;\n        if(a[te]<x){st=te+1;}else{fi=te-1;}\n    }\n    return st;\n}\n\nvoid prarr(int arr[],int n){\n  int i;\n  for(i=0;i<n;i++){\n    if(i){printf(\" \");}\n    printf(\"%d\",arr[i]);\n  }\n  printf(\"\\n\");\n  return;\n}\n\ntypedef struct{\nint val;\nint node;\n}sd;\n\nint sdsortfnc(const void *a,const void *b){\nif(((sd*)a)->val < ((sd*)b)->val){return -1;}\nif(((sd*)a)->val > ((sd*)b)->val){return 1;}\nreturn 0;\n}\n\nint main(void){\n    int i,j,n,m,k,a,b,c,h,w,r=0,l,t;\n    char s[524288];\n    scanf(\"%d%d%s\",&l,&k,s);\n    i=0;t=1;\n    while(1){\n        if(s[i]=='A'&&t==1){\n            s[i]='B';\n        }\n        else if(s[i]=='B'&&t==-1){\n            s[i]='A';\n        }\n        else{\n            i++;\n            t*=-1;\n        }\n        k--;\n        if(i==l){\n            if(l%2==1){\n                if(k%2==1){printf(\"B\");}\n                else{printf(\"A\");}\n            }\n            for(i=0;i<(l/2);i++){\n                printf(\"BA\");\n            }\n            printf(\"\\n\");\n            return 0;\n        }\n        if(k==0){break;}\n    }\n    c=i;\n    while(i<l){\n        if(t==1){printf(\"%c\",s[i]);}\n        else if(s[i]=='A'){printf(\"B\");}\n        else{printf(\"A\");}\n        i++;\n    }\n    while(c>0){\n        if(c%2==1){printf(\"A\");}\n        else{printf(\"B\");}\n        c--;\n    }\n    printf(\"\\n\");\n    return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\ntypedef char bool;\n#define true 1\n#define false 0\n\nbool* boolFromChar( char* s, int size )\n{\n    bool* b = (bool *) malloc( size * sizeof( bool ) );\n    for( int i = 0; i < size; i++ )\n    {\n        b[i] = s[i] == 'A';\n    }\n    return b;\n}\nbool* copyBool( bool*b, int size)\n{\n    bool* copyB = (bool *) malloc( size * sizeof( bool ) );\n    memcpy( copyB, b, size );\n    return copyB;\n}\nvoid printBool( bool* b, int size)\n{\n    for( int i = 0; i < size; i++ )\n    {\n        if( b[i] ) printf(\"A\");\n        else printf(\"B\");\n    }\n}\nint findHistorical( bool** hB, int hSize, bool* b, int size)\n{\n    for( int i = 0; i < hSize; i ++ )\n    {\n        if( memcmp( hB[i], b, size) == 0 )\n        {\n            return i;\n        }\n    }\n    return -1;\n}\nvoid freeHistory( bool ** hB, int hSize )\n{\n    for( int i = 0; i < hSize; i ++ )\n    {\n        free( hB[i] );\n    }\n}\nint main(int argc, char **argv)\n{\n    int n, k, i, c, f, t, h;\n    char *s;\n\tbool *b;\n    bool *prevB;\n    \n    scanf(\"%d %d\", &n, &k);\n\n    s =  (char *) malloc( n * sizeof( char ) );\n    bool **hB = (bool**) malloc( k * sizeof( bool*) );\n\n    scanf(\"%s\", s);\n    \n    b = boolFromChar(s, n);\n    prevB = copyBool(b, n);\n    for( i = 0; i < k; i++)\n    {\n        hB[i] = prevB;\n        c = 0;\n        f = -1;\n        while( c >= 0 \n               && c < n )\n        {\n            t = c;\n            b[c] = !b[c];\n            if( b[c] )\n            {\n                c += c-f;\n            }\n            else\n            {\n                c = f;\n            }\n            f = t;\n        }\n        //printBool( b, n);\n        //printf(\"\\n\");\n        h = findHistorical( hB, i, b, n);\n        if( h >= 0 )\n        {\n            int loopSize = i-h;\n            int remainingIteration = k-i;\n            int index = remainingIteration%loopSize;\n            printBool( hB[h+index], n);\n            freeHistory( hB, i );\n            free(s);\n            free(b);\n            return 0;\n        }\n        prevB = copyBool(b, n);\n    }\n    printBool( b, n);\n    free(s);\n    free(b);\n    freeHistory( hB, k-1 );\n    free( prevB );\n    free( hB );\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nchar s[200001];\n\nint main(int argc, char const *argv[]){\n\tlong n,k,d,f=0,i;\n\tchar p,pp;\n\tscanf(\"%ld %ld\",&n,&k);\n\tgetchar();\n\tscanf(\"%s\",s);\n\td=n-1;\n\twhile(k>0){\n\t\tif(s[0]=='B'){\n\t\t\tp=s[d+1];\n\t\t\tfor(i=d;i>=0;i--){\n\t\t\t\tpp=s[i];\n\t\t\t\tif(p=='A') s[i]='B';\n\t\t\t\telse s[i]='A';\n\t\t\t\tp=pp;\n\t\t\t}\n\t\t\twhile(d>0 && s[d-1]!=s[d]){\n\t\t\t\td--;\n\t\t\t}\n\t\t}else s[0]='B';\n\t\tk--;\n\t\tif(d==0){\n\t\t\tf=1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(f==1){\n\t\tif(s[1]!='A'){\n\t\t\tif(k%2==1){\n\t\t\t\ts[0]=(s[0]=='B')?'A':'B';\n\t\t\t}\n\t\t}\n\t\tprintf(\"%s\\n\",s);\n\t}else printf(\"%s\\n\",s);\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\ntypedef char bool;\n#define true 1\n#define false 0\n\nbool* boolFromChar( char* s, int size )\n{\n    bool* b = (bool *) malloc( size * sizeof( bool ) );\n    for( int i = 0; i < size; i++ )\n    {\n        b[i] = s[i] == 'A';\n    }\n    return b;\n}\nbool* copyBool( bool*b, int size)\n{\n    bool* copyB = (bool *) malloc( size * sizeof( bool ) );\n    memcpy( copyB, b, size );\n    return copyB;\n}\nvoid printBool( bool* b, int size)\n{\n    for( int i = 0; i < size; i++ )\n    {\n        if( b[i] ) printf(\"A\");\n        else printf(\"B\");\n    }\n}\nint findHistorical( bool** hB, int hSize, bool* b, int size)\n{\n    for( int i = 0; i < hSize; i ++ )\n    {\n        if( memcmp( hB[i], b, size) == 0 )\n        {\n            return i;\n        }\n    }\n    return -1;\n}\nvoid freeHistory( bool ** hB, int hSize )\n{\n    for( int i = 0; i < hSize; i ++ )\n    {\n        free( hB[i] );\n    }\n}\nint main(int argc, char **argv)\n{\n    int n, k, i, c, f, t, h;\n    char *s;\n\tbool *b;\n    bool *prevB;\n    \n    scanf(\"%d %d\", &n, &k);\n\n    s =  (char *) malloc( n * sizeof( char ) );\n    bool **hB = (bool**) malloc( k * sizeof( bool*) );\n\n    scanf(\"%s\", s);\n    \n    b = boolFromChar(s, n);\n    prevB = copyBool(b, n);\n    for( i = 0; i < k; i++)\n    {\n        hB[i] = prevB;\n        c = 0;\n        f = -1;\n        while( c >= 0 \n               && c < n )\n        {\n            t = c;\n            b[c] = !b[c];\n            if( b[c] )\n            {\n                c += c-f;\n            }\n            else\n            {\n                c = f;\n            }\n            f = t;\n        }\n        //printBool( b, n);\n        //printf(\"\\n\");\n        h = findHistorical( hB, i, b, n);\n        if( h >= 0 )\n        {\n            int loopSize = i-h;\n            int remainingIteration = k-i;\n            int index = remainingIteration%loopSize;\n            int result = h+index;\n            /*for( int j = 0; j < i; j ++ )\n            {\n                printf(\"\\n\");\n                printBool( hB[j], n );\n                if( j == h ) printf( \"<< repeatStart; loopSize = %d\", loopSize);\n                if( j == result ) printf( \"<< result; remainingIteration=%d, index=%d\", remainingIteration, index);\n            }\n            printf(\"\\n\");\n            printBool( b, n);*/\n            printBool( hB[result], n );\n            freeHistory( hB, i );\n            free(s);\n            free(b);\n            break;\n        }\n        else\n        {\n            prevB = copyBool(b, n);\n        }\n    }\n    if( i==k)\n    {\n        printBool( b, n);\n        free(s);\n        free(b);\n        freeHistory( hB, k-1 );\n        free( prevB );\n        free( hB );\n    }\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\ntypedef char bool;\n#define true 1\n#define false 0\n\nbool* boolFromChar( char* s, int size )\n{\n    bool* b = (bool *) malloc( size * sizeof( bool ) );\n    for( int i = 0; i < size; i++ )\n    {\n        b[i] = s[i] == 'A';\n    }\n    return b;\n}\nbool* copyBool( bool*b, int size)\n{\n    bool* copyB = (bool *) malloc( size * sizeof( bool ) );\n    memcpy( copyB, b, size );\n    return copyB;\n}\nvoid printBool( bool* b, int size)\n{\n    for( int i = 0; i < size; i++ )\n    {\n        if( b[i] ) printf(\"A\");\n        else printf(\"B\");\n    }\n}\nint findHistorical( bool** hB, int hSize, bool* b, int size)\n{\n    for( int i = 0; i < hSize; i ++ )\n    {\n        if( memcmp( hB[i], b, size) == 0 )\n        {\n            return i;\n        }\n    }\n    return -1;\n}\nint main(int argc, char **argv)\n{\n    int n, k, i, c, f, t, h;\n    char *s;\n\tbool *b;\n    bool *prevB;\n    \n    scanf(\"%d %d\", &n, &k);\n\n    s =  (char *) malloc( n * sizeof( char ) );\n    bool **hB = (bool**) malloc( k * sizeof( bool*) );\n\n    scanf(\"%s\", s);\n    \n    b = boolFromChar(s, n);\n    prevB = copyBool(b, n);\n    for( i = 0; i < k; i++)\n    {\n        hB[i] = prevB;\n        c = 0;\n        f = -1;\n        while( c >= 0 \n               && c < n )\n        {\n            t = c;\n            b[c] = !b[c];\n            if( b[c] )\n            {\n                c += c-f;\n            }\n            else\n            {\n                c = f;\n            }\n            f = t;\n        }\n        //printBool( b, n);\n        //printf(\"\\n\");\n        h = findHistorical( hB, i, b, n);\n        if( h >= 0 )\n        {\n            int loopSize = i-h;\n            int remainingIteration = k-i;\n            int index = remainingIteration%loopSize;\n            printBool( hB[h+index], n);\n            return 0;\n        }\n        prevB = copyBool(b, n);\n    }\n    printBool( b, n);\n    free(s);\n    free(b);\n    free(prevB);\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint changeState( int f, int c, char *s)\n{\n    if( *s == 'A')\n    {\n        *s = 'B';\n        c = f;\n    }\n    else\n    {\n        *s = 'A';\n        c += c-f;\n    }\n    return c;\n}\n\nint main(int argc, char **argv)\n{\n    int n, k, i, c, f, t;\n    char *s;\n\tscanf(\"%d %d\", &n, &k);\n    s = malloc( n * sizeof( char ) );\n    scanf(\"%s\", s);\n    for( i = 0; i < k; i++)\n    {\n        c = 0;\n        f = -1;\n        while( c >= 0 \n               && c < n )\n        {\n            t = c;\n            c = changeState( f, c, &s[c] );\n            f = t;\n        }\n    }\n    printf(\"%s\", s);\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nchar s[200001];\n\nint main(int argc, char const *argv[]){\n\tlong n,k,d,f,i,c;\n\tscanf(\"%ld %ld\",&n,&k);\n\tgetchar();\n\tscanf(\"%s\",s);\n\td=0;\n\tc=0;\n\twhile(d<n && c<k){\n\t\tif(s[d]==((d%2==0)?'B':'A')){\n\t\t\tc++;\n\t\t}else c+=2;\n\t\td++;\n\t}\n\tif(c==k){\n\t\tf=0;\n\t}else if(c>k){\n\t\td--;\n\t\tif(s[d]==((d%2==0)?'B':'A')){\n\t\t\tf=0;\n\t\t}else f=1;\n\t}else{\n\t\tf=2;\n\t}\n\tif(f==2){\n\t\tfor(i=n-1;i>=0;i--){\n\t\t\ts[i]=((s[i+1]=='A')?'B':'A');\n\t\t}\n\t\tif(s[0]=='A' && (k-c)%2==1) s[0]='B';\n\t}else{\n\t\tfor(i=0;i<n-d;i++){\n\t\t\tif(d%2==1){\n\t\t\t\ts[i]=((s[i+d]=='A')?'B':'A');\n\t\t\t}else s[i]=s[i+d];\n\t\t}\n\t\tfor(i=n-1;i>=n-d;i--){\n\t\t\ts[i]=((s[i+1]=='A')?'B':'A');\n\t\t}\n\t\tif(f==1){\n\t\t\ts[0]='B';\n\t\t}\n\t}\n\tprintf(\"%s\\n\",s);\n\treturn 0;\n}"
  },
  {
    "language": "Kotlin",
    "code": "import java.util.*\nfun main(args: Array<String>){\n\tval cin = Scanner(System.`in`)\n    val n = cin.nextInt()\n    val k = cin.nextInt()\n    val s = cin.next()\n\n    var ans = \"\"\n    \n    var penetrate = 0\n    var last_back = 0\n    if (s[0] == 'B') {\n        penetrate = (k+1)/2\n        last_back = (k+1)%2\n    } else {\n        penetrate = k/2\n        last_back = k%2\n    }\n\n    var almost_ans = \"\"\n\n\n    if (penetrate == 0) {\n        if (penetrate == 0) {\n        almost_ans = \"B\"\n        for (i in 1..n-1) {\n            almost_ans += s[i]\n        }\n    }\n    } else {\n        for (i in 0..n-1) {\n            if (i == 0 && last_back == 1) {\n                almost_ans += \"B\"\n            } else {\n                if (penetrate >= n-i) {\n                    if ((n-i) % 2 == 1) {\n                        almost_ans += \"A\"\n                    } else {\n                        almost_ans += \"B\"\n                    }\n                } else {\n                    if (s[i+penetrate] == 'B') {\n                        almost_ans += \"A\"\n                    } else {\n                        almost_ans += \"B\"\n                    }\n                }\n            }\n        }\n    }\n\n    \n    println(almost_ans)\n}"
  },
  {
    "language": "Kotlin",
    "code": "import java.util.*\nfun main(args: Array<String>){\n\tval cin = Scanner(System.`in`)\n    val n = cin.nextInt()\n    val k = cin.nextInt()\n    val s = cin.next()\n\n    var ans = \"\"\n    \n    var penetrate = 0\n    var last_back = 0\n    if (s[0] == 'B') {\n        penetrate = (k+1)/2\n        last_back = (k+1)%2\n    } else {\n        penetrate = k/2\n        last_back = k%2\n    }\n\n    var almost_ans = \"\"\n\n    if (last_back == 1) {\n        almost_ans += \"B\"\n    } else {\n        almost_ans += almost_ans[0]\n    }\n\n    for (i in 0..n-1) {\n        if (i == 0 && last_back == 1) {\n            almost_ans += \"B\"\n        } else {\n            if (penetrate >= n-i) {\n                if ((n-i) % 2 == 1) {\n                    almost_ans += \"A\"\n                } else {\n                    almost_ans += \"B\"\n                }\n            } else {\n                if (s[i+penetrate] == 'B') {\n                    almost_ans += \"A\"\n                } else {\n                    almost_ans += \"B\"\n                }\n            }\n        }\n    }\n    if (penetrate == 0) {\n        almost_ans = \"B\"\n        for (i in 1..n-1) {\n            almost_ans += s[i]\n        }\n    }\n    \n    println(almost_ans)\n}"
  },
  {
    "language": "Kotlin",
    "code": "import java.util.*\nfun main(args: Array<String>){\n\tval cin = Scanner(System.`in`)\n    val n = cin.nextInt()\n    val k = cin.nextInt()\n    val s = cin.next()\n    \n    var penetrate = 0\n    var last_back = 0\n    if (s[0] == 'B') {\n        penetrate = (k+1)/2\n        last_back = (k+1)%2\n    } else {\n        penetrate = k/2\n        last_back = k%2\n    }\n\n    var ans = \"\"\n\n\n    if (penetrate == 0) {\n        if (penetrate == 0) {\n        ans = \"B\"\n        for (i in 1..n-1) {\n            ans += s[i]\n        }\n    } else {\n        for (i in 0..n-1) {\n            if (i == 0 && last_back == 1) {\n                ans += \"B\"\n            } else {\n                if (penetrate >= n-i) {\n                    if ((n-i) % 2 == 1) {\n                        ans += \"A\"\n                    } else {\n                        ans += \"B\"\n                    }\n                } else {\n                    if (s[i+penetrate] == 'B') {\n                        ans += \"A\"\n                    } else {\n                        ans += \"B\"\n                    }\n                }\n            }\n        }\n    }\n\n    \n    println(ans)\n}"
  },
  {
    "language": "Kotlin",
    "code": "import java.util.*\nfun main(args: Array<String>){\n\tval cin = Scanner(System.`in`)\n    val n = cin.nextInt()\n    val k = cin.nextInt()\n    val s = cin.next()\n\n    var ans = \"\"\n    \n    var penetrate = 0\n    var last_back = 0\n    if (s[0] == 'B') {\n        penetrate = (k+1)/2\n        last_back = (k+1)%2\n    } else {\n        penetrate = k/2\n        last_back = k%2\n    }\n\n    var almost_ans = \"\"\n    for (i in 0..n-1) {\n        if (penetrate >= n-i) {\n            if ((n-i) % 2 == 1) {\n                almost_ans += \"A\"\n            } else {\n                almost_ans += \"B\"\n            }\n        } else {\n            if (s[i+penetrate] == 'B') {\n                almost_ans += \"A\"\n            } else {\n                almost_ans += \"B\"\n            }\n        }\n    }\n\n    if (last_back == 1) {\n        ans += \"B\"\n    } else {\n        ans += almost_ans[0]\n    }\n\n    for (i in 1..n-1) {\n        ans += almost_ans[i]\n    }\n\n    if (penetrate == 0) {\n        ans = \"B\"\n        for (i in 1..n-1) {\n            ans += s[i]\n        }\n    }\n    \n    println(ans)\n}"
  },
  {
    "language": "Kotlin",
    "code": "import java.util.*\nfun main(args: Array<String>){\n\tval cin = Scanner(System.`in`)\n    val n = cin.nextInt()\n    val k = cin.nextInt()\n    val s = cin.next()\n\n    var ans = \"\"\n    \n    var penetrate = 0\n    var last_back = 0\n    if (s[0] == 'B') {\n        penetrate = (k+1)/2\n        last_back = (k+1)%2\n    } else {\n        penetrate = k/2\n        last_back = k%2\n    }\n\n    var almost_ans = \"\"\n\n    for (i in 0..n-1) {\n        if (i == 0 && last_back == 1) {\n            almost_ans += \"B\"\n        } else {\n            if (penetrate >= n-i) {\n                if ((n-i) % 2 == 1) {\n                    almost_ans += \"A\"\n                } else {\n                    almost_ans += \"B\"\n                }\n            } else {\n                if (s[i+penetrate] == 'B') {\n                    almost_ans += \"A\"\n                } else {\n                    almost_ans += \"B\"\n                }\n            }\n        }\n    }\n    if (penetrate == 0) {\n        almost_ans = \"B\"\n        for (i in 1..n-1) {\n            almost_ans += s[i]\n        }\n    }\n    \n    println(almost_ans)\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n  private static int N;\n  private static Deque<Integer> queue = new ArrayDeque<Integer>();\n  public static void main(String[] args) {\n    FastScanner sc = new FastScanner();\n    N = sc.nextInt();\n    long K = sc.nextLong();\n    String s = sc.next();\n    \n    for (int i = 0; i < N; i ++) {\n      int v = s.charAt(i) - 'A';\n      if (i % 2 == 1) {\n        v = v == 0 ? 1 : 0;\n      }\n      queue.add(v);\n    }\n    \n\n    \n    if (2 * N < K) {\n      for (int i = 0; i < 2 * N; i ++) {\n        next();\n      }\n      String s1 = build();\n      next();\n      String s2 = build();\n\n      System.out.println(K % 2 == 0 ? s1 : s2);\n    } else {\n      for (int i = 0; i < K; i ++) {\n        next();\n        System.out.println(build());\n      }\n      System.out.println(build());\n    }\n\n  }\n  \n  private static void next() {\n    if (queue.pollFirst() == 0) {\n      queue.addFirst(1);\n    } else {\n      queue.addLast(N % 2 == 0 ? 1 : 0);\n    }\n  }\n\n  private static String build() {\n    StringBuilder sb = new StringBuilder();\n    int ptr = 0;\n    for (int v : queue) {\n      if (ptr % 2 == 1) {\n        v = v == 0 ? 1 : 0;\n      }\n      sb.append((char)('A' + v));\n      ptr ++;\n    }\n    return sb.toString();\n  }\n}\n\n\n\n\nclass FastScanner {\n\tpublic static String debug = null;\n\n\tprivate final InputStream in = System.in;\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate byte[] buffer = new byte[1024];\n\tprivate boolean eos = false;\n\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tif (debug != null) {\n\t\t\t\t\tbuflen = debug.length();\n\t\t\t\t\tbuffer = debug.getBytes();\n\t\t\t\t\tdebug = \"\";\n\t\t\t\t\teos = true;\n\t\t\t\t} else {\n\t\t\t\t\tbuflen = in.read(buffer);\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen < 0) {\n\t\t\t\teos = true;\n\t\t\t\treturn false;\n\t\t\t} else if (buflen == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate int readByte() {\n\t\tif (hasNextByte())\n\t\t\treturn buffer[ptr++];\n\t\telse\n\t\t\treturn -1;\n\t}\n\n\tprivate static boolean isPrintableChar(int c) {\n\t\treturn 33 <= c && c <= 126;\n\t}\n\n\tprivate void skipUnprintable() {\n\t\twhile (hasNextByte() && !isPrintableChar(buffer[ptr]))\n\t\t\tptr++;\n\t}\n\n\tpublic boolean isEOS() {\n\t\treturn this.eos;\n\t}\n\n\tpublic boolean hasNext() {\n\t\tskipUnprintable();\n\t\treturn hasNextByte();\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile (isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic long nextLong() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile (true) {\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t} else if (b == -1 || !isPrintableChar(b)) {\n\t\t\t\treturn minus ? -n : n;\n\t\t\t} else {\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\n\tpublic int nextInt() {\n\t\treturn (int) nextLong();\n\t}\n\n\tpublic long[] nextLongList(int n) {\n\t\treturn nextLongTable(1, n)[0];\n\t}\n\n\tpublic int[] nextIntList(int n) {\n\t\treturn nextIntTable(1, n)[0];\n\t}\n\n\tpublic long[][] nextLongTable(int n, int m) {\n\t\tlong[][] ret = new long[n][m];\n\t\tfor (int i = 0; i < n; i ++) {\n\t\t\tfor (int j = 0; j < m; j ++) {\n\t\t\t\tret[i][j] = nextLong();\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n\n\tpublic int[][] nextIntTable(int n, int m) {\n\t\tint[][] ret = new int[n][m];\n\t\tfor (int i = 0; i < n; i ++) {\n\t\t\tfor (int j = 0; j < m; j ++) {\n\t\t\t\tret[i][j] = nextInt();\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main {\n\tpublic static void main(String[] args){\n\t\tScanner as = new Scanner(System.in);\n\t\tint n = as.nextInt();\n\t\tint k = as.nextInt();\n\t\tString a = as.next();\n\t\tint[] b;\n\t\tb = new int[n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(String.valueOf(a.charAt(i)).equals(\"A\")){\n\t\t\t\tb[i] = 1;\n\t\t\t}else{\n\t\t\t\tb[i] = -1;\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<k;i++){\n\t\t\tif(b[0]==1){\n\t\t\t\tb[0]*=-1;\n\t\t\t}else{\n\t\t\t\tfor(int s=0;s<n-1;s++){\n\t\t\t\t\tb[s]=b[s+1]*-1;\n\t\t\t\t}b[n-1]=1;\n\t\t\t}\n\t\t}\n\t\tString l = \"\";\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(b[i]==1){\n\t\t\t\tl+=\"A\";\n\t\t\t}else{\n\t\t\t\tl+=\"B\";\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(l);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.FileNotFoundException;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint N = sc.nextInt();\n\t\tlong K = sc.nextLong();\n\t\tString s = sc.next();\n\t\tArrayDeque<Integer> dq = new ArrayDeque<>();\n\t\tfor (int i = 0; i < s.length(); ++i) {\n\t\t\tdq.add(s.charAt(i) == 'A' ? 1 : -1);\n\t\t}\n\t\tint cur = 1;\n\t\tlong res = 0;\n\t\tHashMap<String, Integer> map = new HashMap<>();\n\t\tHashMap<Integer, String> map2 = new HashMap<>();\n\t\tint id = 0;\n\t\tfor (int i = 0; i < K; ++i) {\n\t\t\tint v = dq.pollFirst();\n\t\t\tif (v * cur == 1) {\n\t\t\t\tdq.addFirst(cur * (-1));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcur *= -1;\n\t\t\tdq.addLast(cur);\n\t\t\tif (i > 2 * N) {\n\t\t\t\tres = K - (i + 1);\n\t\t\t\tString str = getans(dq, cur);\n\t\t\t\tif (map.containsKey(str)) {\n\t\t\t\t\tint ansid = (int) res % id;\n\t\t\t\t\tSystem.out.println(map2.get(ansid));\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(str, id);\n\t\t\t\t\tmap2.put(id, str);\n\t\t\t\t\t++id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!dq.isEmpty()) {\n\t\t\tsb.append(dq.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n\n\tString getans(ArrayDeque<Integer> dq, int cur) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tArrayDeque<Integer> tmp = new ArrayDeque<>();\n\t\ttmp.addAll(dq);\n\t\twhile (!tmp.isEmpty()) {\n\t\t\tsb.append(tmp.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\treturn sb.toString();\n\n\t}\n\n\tstatic void tr(Object... objects) {\n\t\tSystem.out.println(Arrays.deepToString(objects));\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n  private static int N;\n  private static Deque<Integer> queue = new ArrayDeque<Integer>();\n  public static void main(String[] args) {\n    FastScanner sc = new FastScanner();\n    N = sc.nextInt();\n    long K = sc.nextLong();\n    String s = sc.next();\n    \n    for (int i = 0; i < N; i ++) {\n      int v = s.charAt(i) - 'A';\n      if (i % 2 == 1) {\n        v = v == 0 ? 1 : 0;\n      }\n      queue.add(v);\n    }\n    \n\n    \n    if (2 * N < K) {\n      for (int i = 0; i < 2 * N; i ++) {\n        next();\n      }\n      String s1 = build();\n      next();\n      String s2 = build();\n\n      System.out.println(K % 2 == 0 ? s1 : s2);\n    } else {\n      for (int i = 0; i < K; i ++) {\n        next();\n      }\n      System.out.println(build());\n    }\n\n  }\n  \n  private static void next() {\n    if (queue.pollFirst() == 0) {\n      queue.addFirst(1);\n    } else {\n      queue.addLast(N % 2 == 0 ? 1 : 0);\n    }\n  }\n\n  private static String build() {\n    StringBuilder sb = new StringBuilder();\n    int ptr = 0;\n    for (int v : queue) {\n      if (ptr % 2 == 1) {\n        v = v == 0 ? 1 : 0;\n      }\n      sb.append((char)('A' + v));\n      ptr ++;\n    }\n    return sb.toString();\n  }\n}\n\n\n\n\nclass FastScanner {\n\tpublic static String debug = null;\n\n\tprivate final InputStream in = System.in;\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate byte[] buffer = new byte[1024];\n\tprivate boolean eos = false;\n\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tif (debug != null) {\n\t\t\t\t\tbuflen = debug.length();\n\t\t\t\t\tbuffer = debug.getBytes();\n\t\t\t\t\tdebug = \"\";\n\t\t\t\t\teos = true;\n\t\t\t\t} else {\n\t\t\t\t\tbuflen = in.read(buffer);\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen < 0) {\n\t\t\t\teos = true;\n\t\t\t\treturn false;\n\t\t\t} else if (buflen == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate int readByte() {\n\t\tif (hasNextByte())\n\t\t\treturn buffer[ptr++];\n\t\telse\n\t\t\treturn -1;\n\t}\n\n\tprivate static boolean isPrintableChar(int c) {\n\t\treturn 33 <= c && c <= 126;\n\t}\n\n\tprivate void skipUnprintable() {\n\t\twhile (hasNextByte() && !isPrintableChar(buffer[ptr]))\n\t\t\tptr++;\n\t}\n\n\tpublic boolean isEOS() {\n\t\treturn this.eos;\n\t}\n\n\tpublic boolean hasNext() {\n\t\tskipUnprintable();\n\t\treturn hasNextByte();\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile (isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic long nextLong() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile (true) {\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t} else if (b == -1 || !isPrintableChar(b)) {\n\t\t\t\treturn minus ? -n : n;\n\t\t\t} else {\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\n\tpublic int nextInt() {\n\t\treturn (int) nextLong();\n\t}\n\n\tpublic long[] nextLongList(int n) {\n\t\treturn nextLongTable(1, n)[0];\n\t}\n\n\tpublic int[] nextIntList(int n) {\n\t\treturn nextIntTable(1, n)[0];\n\t}\n\n\tpublic long[][] nextLongTable(int n, int m) {\n\t\tlong[][] ret = new long[n][m];\n\t\tfor (int i = 0; i < n; i ++) {\n\t\t\tfor (int j = 0; j < m; j ++) {\n\t\t\t\tret[i][j] = nextLong();\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n\n\tpublic int[][] nextIntTable(int n, int m) {\n\t\tint[][] ret = new int[n][m];\n\t\tfor (int i = 0; i < n; i ++) {\n\t\t\tfor (int j = 0; j < m; j ++) {\n\t\t\t\tret[i][j] = nextInt();\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.FileNotFoundException;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\n\tfinal long MODULO = 924844033L;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint N = sc.nextInt();\n\t\tlong K = sc.nextLong();\n\t\tString s = sc.next();\n\t\tArrayDeque<Integer> dq = new ArrayDeque<>();\n\t\tfor (int i = 0; i < s.length(); ++i) {\n\t\t\tdq.add(s.charAt(i) == 'A' ? 1 : -1);\n\t\t}\n\t\tint cur = 1;\n\t\tlong res = 0;\n\t\tHashMap<String, Integer> map = new HashMap<>();\n\t\tHashMap<Integer, String> map2 = new HashMap<>();\n\t\tint id = 0;\n\t\tfor (int i = 0; i < K; ++i) {\n\t\t\tint v = dq.pollFirst();\n\t\t\tif (v * cur == 1) {\n\t\t\t\tdq.addFirst(cur * (-1));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcur *= -1;\n\t\t\tdq.addLast(cur);\n\t\t\tif (i > 2 * N) {\n\t\t\t\tres = K - (i + 1);\n\t\t\t\tString str = getans(dq, cur);\n\t\t\t\tif (map.containsKey(str)) {\n\t\t\t\t\tint ansid = (int) res % id;\n\t\t\t\t\tSystem.out.println(map2.get(ansid));\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(str, id);\n\t\t\t\t\tmap2.put(id, str);\n\t\t\t\t\t++id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!dq.isEmpty()) {\n\t\t\tsb.append(dq.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n\n\tString getans(ArrayDeque<Integer> dq, int cur) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tArrayDeque<Integer> tmp = new ArrayDeque<>();\n\t\ttmp.addAll(dq);\n\t\twhile (!tmp.isEmpty()) {\n\t\t\tsb.append(tmp.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\treturn sb.toString();\n\n\t}\n\n\tstatic void tr(Object... objects) {\n\t\tSystem.out.println(Arrays.deepToString(objects));\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main {\n\tpublic static void main(String[] args){\n\t\tScanner as = new Scanner(System.in);\n\t\tint n = as.nextInt();\n\t\tint k = as.nextInt();\n\t\tString a = as.next();\n\t\tint[] b;\n\t\tb = new int[n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(String.valueOf(a.charAt(i)).equals(\"A\")){\n\t\t\t\tb[i] = 1;\n\t\t\t}else{\n\t\t\t\tb[i] = 0;\n\t\t\t}\n\t\t}\n\t\tint t = 1;\n\t\tfor(int i=0;i<k;i++){\n\t\t\tif(b[0]==1){\n\t\t\t\tb[0]=0;\n\t\t\t}else{\n\t\t\t\ttry{\n\t\t\t\t\tfor(int s=0;s<n;s+=t){\n\t\t\t\t\t\tif(b[s]==0&&b[s+t]==1){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else if(b[s]==0&&b[s+t]==0){\n\t\t\t\t\t\t\tb[s]=b[s+t]=1;\n\t\t\t\t\t\t}else if(b[s]==1&&b[s+t]==0){\n\t\t\t\t\t\t\tb[s+t]=1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tb[s+t]=0;\n\t\t\t\t\t\t\tt*=-1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}catch(Exception e){\n\t\t\t\t\tb[n-1]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tString l = \"\";\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(b[i]==1){\n\t\t\t\tl+=\"A\";\n\t\t\t}else{\n\t\t\t\tl+=\"B\";\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(l);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "// package atcoder.agc.agc011;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class Main {\n    public static void main(String[] args) {\n        InputReader in = new InputReader(System.in);\n        PrintWriter out = new PrintWriter(System.out);\n\n        int n = in.nextInt();\n        int k = in.nextInt();\n        s = in.nextToken().toCharArray();\n\n        int[] arr = new int[3*n];\n        for (int i = 0; i < n ; i++) {\n            arr[i] = s[i] == 'A' ? 0 : 1;\n        }\n\n        int head = 0;\n        int flg = 0;\n        int m = Math.min(k, 2*n);\n        for (int i = 0; i < m ; i++) {\n            if ((arr[head] ^ flg) == 0) {\n                arr[head] ^= 1;\n            } else {\n                head++;\n                flg ^= 1;\n                arr[head+n-1] = flg;\n            }\n        }\n\n        k -= m;\n        k %= 2;\n\n        for (int i = head; i < head+n ; i++) {\n            s[i-head] = (arr[i] ^ flg) == 0 ? 'A' : 'B';\n        }\n        if (k >= 1) {\n            doit(0, 1);\n        }\n\n        out.println(String.valueOf(s));\n        out.flush();\n    }\n\n    private static int doit(int i, int dir) {\n        if (i < 0 || i >= s.length) {\n            return dir;\n        }\n        if (s[i] == 'A') {\n            s[i] = 'B';\n            return doit(i-dir, -dir);\n        } else {\n            s[i] = 'A';\n            return doit(i+dir, dir);\n        }\n    }\n\n    static char[] s;\n\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n\n        private int[] nextInts(int n) {\n            int[] ret = new int[n];\n            for (int i = 0; i < n; i++) {\n                ret[i] = nextInt();\n            }\n            return ret;\n        }\n\n        private int[][] nextIntTable(int n, int m) {\n            int[][] ret = new int[n][m];\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < m; j++) {\n                    ret[i][j] = nextInt();\n                }\n            }\n            return ret;\n        }\n\n        private long[] nextLongs(int n) {\n            long[] ret = new long[n];\n            for (int i = 0; i < n; i++) {\n                ret[i] = nextLong();\n            }\n            return ret;\n        }\n\n        private long[][] nextLongTable(int n, int m) {\n            long[][] ret = new long[n][m];\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < m; j++) {\n                    ret[i][j] = nextLong();\n                }\n            }\n            return ret;\n        }\n\n        private double[] nextDoubles(int n) {\n            double[] ret = new double[n];\n            for (int i = 0; i < n; i++) {\n                ret[i] = nextDouble();\n            }\n            return ret;\n        }\n\n        private int next() {\n            if (numChars == -1)\n                throw new InputMismatchException();\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0)\n                    return -1;\n            }\n            return buf[curChar++];\n        }\n\n        public char nextChar() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            if ('a' <= c && c <= 'z') {\n                return (char) c;\n            }\n            if ('A' <= c && c <= 'Z') {\n                return (char) c;\n            }\n            throw new InputMismatchException();\n        }\n\n        public String nextToken() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            StringBuilder res = new StringBuilder();\n            do {\n                res.append((char) c);\n                c = next();\n            } while (!isSpaceChar(c));\n            return res.toString();\n        }\n\n        public int nextInt() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = next();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9')\n                    throw new InputMismatchException();\n                res *= 10;\n                res += c-'0';\n                c = next();\n            } while (!isSpaceChar(c));\n            return res*sgn;\n        }\n\n        public long nextLong() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            long sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = next();\n            }\n            long res = 0;\n            do {\n                if (c < '0' || c > '9')\n                    throw new InputMismatchException();\n                res *= 10;\n                res += c-'0';\n                c = next();\n            } while (!isSpaceChar(c));\n            return res*sgn;\n        }\n\n        public double nextDouble() {\n            return Double.valueOf(nextToken());\n        }\n\n        public boolean isSpaceChar(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n        }\n    }\n\n    static void debug(Object... o) {\n        System.err.println(Arrays.deepToString(o));\n    }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n  private int N;\n\n  private void shot(char[] S) {\n    int cur = 0;\n    boolean right = true;\n    while (0 <= cur && cur < N) {\n      if (S[cur] == 'A') {\n        S[cur] = 'B';\n        if (right) {\n          cur--;\n        } else {\n          cur++;\n        }\n        right = !right;\n      } else {\n        S[cur] = 'A';\n        if (right) {\n          cur++;\n        } else {\n          cur--;\n        }\n      }\n    }\n  }\n\n  private boolean isStripe(char[] S) {\n    char C = S[0];\n    for (int i = 0; i < N; i++) {\n      if ((i & 1) == 0 && S[i] != C) {\n        return false;\n      } else if ((i & 1) == 1 && S[i] == C) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private void solve(FastScanner in, PrintWriter out) {\n    N = in.nextInt();\n    int K = in.nextInt();\n    char[] S = in.next().toCharArray();\n\n    int prev = -1;\n    for (int k = 1; k <= K; k++) {\n      shot(S);\n\n      if (isStripe(S)) {\n        if (prev < 0) {\n          prev = k;\n        } else {\n          int cycle = k - prev;\n          K -= k;\n          K %= cycle;\n          for (int i = 0; i < K; i++) {\n            shot(S);\n          }\n          out.println(new String(S));\n          return;\n        }\n      }\n    }\n    out.println(new String(S));\n  }\n\n  public static void main(String[] args) {\n    PrintWriter out = new PrintWriter(System.out);\n    new Main().solve(new FastScanner(), out);\n    out.close();\n  }\n\n  private static class FastScanner {\n\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int bufferLength = 0;\n\n    private boolean hasNextByte() {\n      if (ptr < bufferLength) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          bufferLength = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (bufferLength <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) {\n        return buffer[ptr++];\n      } else {\n        return -1;\n      }\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n        ptr++;\n      }\n    }\n\n    boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    long nextLong() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n\n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    double[] nextDoubleArray(int n) {\n      double[] array = new double[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextDouble();\n      }\n      return array;\n    }\n\n    double[][] nextDoubleMap(int n, int m) {\n      double[][] map = new double[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextDoubleArray(m);\n      }\n      return map;\n    }\n\n    public int nextInt() {\n      return (int) nextLong();\n    }\n\n    public int[] nextIntArray(int n) {\n      int[] array = new int[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextInt();\n      }\n      return array;\n    }\n\n    public long[] nextLongArray(int n) {\n      long[] array = new long[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextLong();\n      }\n      return array;\n    }\n\n    public String[] nextStringArray(int n) {\n      String[] array = new String[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = next();\n      }\n      return array;\n    }\n\n    public char[][] nextCharMap(int n) {\n      char[][] array = new char[n][];\n      for (int i = 0; i < n; i++) {\n        array[i] = next().toCharArray();\n      }\n      return array;\n    }\n\n    public int[][] nextIntMap(int n, int m) {\n      int[][] map = new int[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextIntArray(m);\n      }\n      return map;\n    }\n  }\n}\n"
  },
  {
    "language": "Java",
    "code": "//-----------------------------------------------------------\n// すぐ使える\n//-----------------------------------------------------------\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        \n\n\t\t// 1行、2つ(複数)数字\n\t\tString[] ss0 = br.readLine().trim().split(\" \", 0);\n\t\tlong N = Long.parseLong(ss0[0]);  // 人数　－＞行数\n\t\tlong K = Long.parseLong(ss0[1]);  // 待ち猶予時間\n\n\t\tString s0 = br.readLine();\n\n\n\t\t//ABを01に変換\n\t\tString s = s0.replace('A','0').replace('B','1');\n\t\t\t\t//System.out.println(s);\n\n\t\t//文字列reverse\n\t\tStringBuilder sb = new StringBuilder(s);\n\t\tsb.reverse();\n\t\ts = sb.toString();\n\t\t\t\t//System.out.println(s);\n\n\t\t//2進数として扱い、10進数に変換\n\t\tlong l = Long.parseLong(s, 2);\n//\t\tSystem.out.println(l);\n\n\t\t//Kを足す\n\t\tl += K;\n//\t\tSystem.out.println(l);\n\n\t\t//2進数に戻す\n\t\ts = Long.toBinaryString(l);\n\n\t\t//01をABに変換\n\t\ts = s.replace('0','A').replace('1','B');\n\n\t\t//reverseする\n\t\tsb.delete(0, sb.length());\n\t\tsb.append(s);\n\t\tsb.reverse();\n\t\tsb.append( repeat(\"A\", s0.length() - sb.length()) );\n\t\t\n\t\t//左から文字列を桁数分取る\n\t\ts = sb.substring(0, s0.length());\n\n\t\tSystem.out.println(s);\n        return;\n    }\n    //-----------------------------------------------------------------\n\n\t//-----------------------------------------------------------------\n\t// 入力値確認\n\tstatic void checkInput(long[] i1) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor(long i: i1) sb.append(\"[\" + i + \"]\");\n\t\t\tsb.append(System.getProperty(\"line.separator\"));\n//\t\tSystem.out.println(sb);\n\t}\n\n\t//Repeat関数\n\tstatic String repeat(String s, long l) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor(long i=0; i<l; i++) sb.append(s);\n\t\treturn sb.toString();\n\t}\n\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tlong N = Long.parseLong(scan.next());\n\t\tlong K = Long.parseLong(scan.next());\n\t\tLinkedList<Byte> str = new LinkedList<>();\n\t\twhile(scan.hasNext()) {\n\t\t\tstr.add(scan.nextByte());\n\t\t}\n\t\tfor(int i= 0; i < K; i++) {\n\t\t\tif (str.getFirst() == 'a') {\n\t\t\t\tstr.removeFirst();\n\t\t\t\tstr.addFirst((byte)'b');\n\t\t\t}\n\t\t\tfor(int j = 0; j < N; j++) {\n\t\t\t\tstr.removeFirst();\n\t\t\t\tstr.addLast((byte)'a');\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(String.valueOf(str));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException; \nimport java.io.InputStream; \nimport java.io.PrintWriter; \nimport java.lang.StringBuilder;\nimport java.util.Arrays;\n\nclass Main{ \n\n\tstatic void solve(){ \n\t\tint n = ni(), k=ni();\n\t\tchar[] sarr =ns().toCharArray();\n\t\tStringBuilder BA = new StringBuilder();\n\t\tfor(int i=0;i<=n/2;++i)BA.append(\"BA\");\n\t\tStringBuilder  ans = new StringBuilder();\n\t\tboolean rev = false;\n\t\tint index=0;\n\t\tchar[] revc = new char[256];\n\t\trevc['A']='B';\n\t\trevc['B']='A';\n\t\tif(n==1){\n\t\t\tif(k%2==0)out.println(sarr[0]);\n\t\t\telse out.println(revc[sarr[0]]);\n\t\t\treturn;\n\t\t}\n\t\tfor(;index<n;++index){\n\t\t\tif(k==0)break;\n\t\t\tif((!rev&&sarr[index]=='A') || (rev&&sarr[index]=='B')){\n\t\t\t\t--k;sarr[index]=revc[sarr[index]];\n\t\t\t}\n\t\t\tif(k==0)break;\n\t\t\trev=!rev;\n\t\t\t--k;\n\t\t}\n\n\t\tfor(;index<n;++index){\n\t\t\tif(rev)ans.append(revc[sarr[index]]);\n\t\t\telse ans.append(sarr[index]);\n\t\t}\n\t\tans.append(BA.substring(BA.length()-(n-ans.length())));\n\t\tout.println(ans.toString());\n\t}\n \n \n \n \n\tpublic static void main(String[] args){ \n\t\t solve(); \n\t\t out.flush(); \n\t } \n\t private static InputStream in = System.in; \n\t private static PrintWriter out = new PrintWriter(System.out); \n \n\t private static final byte[] buffer = new byte[1<<15]; \n\t private static int ptr = 0; \n\t private static int buflen = 0; \n\t private static boolean hasNextByte(){ \n\t\t if(ptr<buflen)return true; \n\t\t ptr = 0; \n\t\t try{ \n\t\t\t buflen = in.read(buffer); \n\t\t } catch (IOException e){ \n\t\t\t e.printStackTrace(); \n\t\t } \n\t\t return buflen>0; \n\t } \n\t private static int readByte(){ if(hasNextByte()) return buffer[ptr++]; else return -1;} \n\t private static boolean isSpaceChar(int c){ return !(33<=c && c<=126);} \n\t private static int skip(){int res; while((res=readByte())!=-1 && isSpaceChar(res)); return res;} \n \n\t private static double nd(){ return Double.parseDouble(ns()); } \n\t private static char nc(){ return (char)skip(); } \n\t private static String ns(){ \n\t\t StringBuilder sb = new StringBuilder(); \n\t\t for(int b=skip();!isSpaceChar(b);b=readByte())sb.append((char)b); \n\t\t return sb.toString(); \n\t } \n\t private static int[] nia(int n){ \n\t\t int[] res = new int[n]; \n\t\t for(int i=0;i<n;++i)res[i]=ni(); \n\t\t return res; \n\t } \n\t private static long[] nla(int n){ \n\t\t long[] res = new long[n]; \n\t\t for(int i=0;i<n;++i)res[i]=nl(); \n\t\t return res; \n\t } \n\t private static int ni(){ \n\t\t int res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t } \n\t private static long nl(){ \n\t\t long res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t} \n} \n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.Deque;\nimport java.util.InputMismatchException;\n\npublic class Main {\n\tstatic InputStream is;\n\tstatic PrintWriter out;\n\tstatic String INPUT = \"\";\n\t\n\tstatic void solve()\n\t{\n\t\tint n = ni(), K = ni();\n\t\tchar[] s = ns(n);\n\t\tif(n == 1){\n\t\t\tout.println(\"AB\".charAt((\"AB\".indexOf(s[0])+K)%2));\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tint[] rle = new int[n];\n\t\tint p = 0;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tif(i > 0 && s[i] != s[i-1])p++;\n\t\t\trle[p]++;\n\t\t}\n\t\tp++;\n\t\tDeque<Integer> q = new ArrayDeque<>();\n\t\tfor(int i = 0;i < p;i++){\n\t\t\tq.addLast(rle[i]);\n\t\t}\n\t\tboolean head = s[0] == 'B';\n\t\t\n\t\tif(K > 1000000)K -= (K-1000000)/2*2;\n\t\tfor(int i = 1;i <= K;i++){\n\t\t\tif(!head){\n\t\t\t\tint f = q.pollFirst();\n\t\t\t\tif(f == 1){\n\t\t\t\t\tq.addFirst(q.pollFirst() + 1);\n\t\t\t\t}else{\n\t\t\t\t\tq.addFirst(f-1);\n\t\t\t\t\tq.addFirst(1);\n\t\t\t\t}\n\t\t\t\thead = true;\n\t\t\t}else{\n\t\t\t\tint f = q.pollFirst();\n\t\t\t\tif(q.size() % 2 == 0){\n\t\t\t\t\tif(f > 1)q.addFirst(f-1);\n\t\t\t\t\tq.addLast(q.pollLast() + 1);\n\t\t\t\t}else{\n\t\t\t\t\tif(f > 1)q.addFirst(f-1);\n\t\t\t\t\tq.addLast(1);\n\t\t\t\t}\n\t\t\t\tif(f == 1){\n\t\t\t\t\thead = true;\n\t\t\t\t}else{\n\t\t\t\t\thead = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\twhile(!q.isEmpty()){\n\t\t\tint v = q.pollFirst();\n\t\t\tfor(int i = 0;i < v;i++){\n\t\t\t\tif(head){\n\t\t\t\t\tout.print('B');\n\t\t\t\t}else{\n\t\t\t\t\tout.print('A');\n\t\t\t\t}\n\t\t\t}\n\t\t\thead ^= true;\n\t\t}\n\t\tout.println();\n\t}\n\n\t\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tlong S = System.currentTimeMillis();\n\t\tis = INPUT.isEmpty() ? System.in : new ByteArrayInputStream(INPUT.getBytes());\n\t\tout = new PrintWriter(System.out);\n\t\t\n\t\tsolve();\n\t\tout.flush();\n\t\tlong G = System.currentTimeMillis();\n\t\ttr(G-S+\"ms\");\n\t}\n\t\n\tprivate static boolean eof()\n\t{\n\t\tif(lenbuf == -1)return true;\n\t\tint lptr = ptrbuf;\n\t\twhile(lptr < lenbuf)if(!isSpaceChar(inbuf[lptr++]))return false;\n\t\t\n\t\ttry {\n\t\t\tis.mark(1000);\n\t\t\twhile(true){\n\t\t\t\tint b = is.read();\n\t\t\t\tif(b == -1){\n\t\t\t\t\tis.reset();\n\t\t\t\t\treturn true;\n\t\t\t\t}else if(!isSpaceChar(b)){\n\t\t\t\t\tis.reset();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (IOException e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tprivate static byte[] inbuf = new byte[1024];\n\tstatic int lenbuf = 0, ptrbuf = 0;\n\t\n\tprivate static int readByte()\n\t{\n\t\tif(lenbuf == -1)throw new InputMismatchException();\n\t\tif(ptrbuf >= lenbuf){\n\t\t\tptrbuf = 0;\n\t\t\ttry { lenbuf = is.read(inbuf); } catch (IOException e) { throw new InputMismatchException(); }\n\t\t\tif(lenbuf <= 0)return -1;\n\t\t}\n\t\treturn inbuf[ptrbuf++];\n\t}\n\t\n\tprivate static boolean isSpaceChar(int c) { return !(c >= 33 && c <= 126); }\n//\tprivate static boolean isSpaceChar(int c) { return !(c >= 32 && c <= 126); }\n\tprivate static int skip() { int b; while((b = readByte()) != -1 && isSpaceChar(b)); return b; }\n\t\n\tprivate static double nd() { return Double.parseDouble(ns()); }\n\tprivate static char nc() { return (char)skip(); }\n\t\n\tprivate static String ns()\n\t{\n\t\tint b = skip();\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile(!(isSpaceChar(b))){\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\t\n\tprivate static char[] ns(int n)\n\t{\n\t\tchar[] buf = new char[n];\n\t\tint b = skip(), p = 0;\n\t\twhile(p < n && !(isSpaceChar(b))){\n\t\t\tbuf[p++] = (char)b;\n\t\t\tb = readByte();\n\t\t}\n\t\treturn n == p ? buf : Arrays.copyOf(buf, p);\n\t}\n\t\n\tprivate static char[][] nm(int n, int m)\n\t{\n\t\tchar[][] map = new char[n][];\n\t\tfor(int i = 0;i < n;i++)map[i] = ns(m);\n\t\treturn map;\n\t}\n\t\n\tprivate static int[] na(int n)\n\t{\n\t\tint[] a = new int[n];\n\t\tfor(int i = 0;i < n;i++)a[i] = ni();\n\t\treturn a;\n\t}\n\t\n\tprivate static int ni()\n\t{\n\t\tint num = 0, b;\n\t\tboolean minus = false;\n\t\twhile((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'));\n\t\tif(b == '-'){\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tif(b >= '0' && b <= '9'){\n\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t}else{\n\t\t\t\treturn minus ? -num : num;\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t\n\tprivate static long nl()\n\t{\n\t\tlong num = 0;\n\t\tint b;\n\t\tboolean minus = false;\n\t\twhile((b = readByte()) != -1 && !((b >= '0' && b <= '9') || b == '-'));\n\t\tif(b == '-'){\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tif(b >= '0' && b <= '9'){\n\t\t\t\tnum = num * 10 + (b - '0');\n\t\t\t}else{\n\t\t\t\treturn minus ? -num : num;\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t\n\tprivate static void tr(Object... o) { if(INPUT.length() != 0)System.out.println(Arrays.deepToString(o)); }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main {\n\tpublic static void main(String[] args){\n\t\tScanner as = new Scanner(System.in);\n\t\tint n = as.nextInt();\n\t\tint k = as.nextInt();\n\t\tString a = as.next();\n\t\tint[] b;\n\t\tb = new int[n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(String.valueOf(a.charAt(i)).equals(\"A\")){\n\t\t\t\tb[i] = 1;\n\t\t\t}else{\n\t\t\t\tb[i] = 0;\n\t\t\t}\n\t\t}\n\t\tif(b[0]==1){\n\t\t\tb[0]=0;\n\t\t}else{\n\t\t\tfor(int s=0;s<n-1;s++){\n\t\t\t\tif(b[s]==0&&b[s+1]==1){\n\t\t\t\t}else if(b[s]==1&&b[s+1]==1){\n\t\t\t\t\tb[s]=0;\n\t\t\t\t}else if(b[s]==0&&b[s+1]==0){\n\t\t\t\t\tb[s]=b[s+1]=1;\n\t\t\t\t}else{\n\t\t\t\t\tb[s+1]=1;\n\t\t\t\t}\n\t\t\t}b[n-1]=1;\n\t\t}\n\t\tfor(int i=0;i<k;i++){\n\t\t\tif(b[0]==1){\n\t\t\t\tb[0]=0;\n\t\t\t}else{\n\t\t\t\tfor(int s=0;s<n-2;s++){\n\t\t\t\t\tif(b[s]==0&&b[s+1]==1){\n\t\t\t\t\t}else if(b[s]==1&&b[s+1]==1){\n\t\t\t\t\t\tb[s]=0;\n\t\t\t\t\t}else if(b[s]==0&&b[s+1]==0){\n\t\t\t\t\t\tb[s]=b[s+1]=1;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb[s+1]=1;\n\t\t\t\t\t}\n\t\t\t\t}if(b[n-2]==1){\n\t\t\t\t\tb[n-2]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tString l = \"\";\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(b[i]==1){\n\t\t\t\tl+=\"A\";\n\t\t\t}else{\n\t\t\t\tl+=\"B\";\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(l);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\nimport java.util.TreeMap;\n\npublic class Main {\n\n  private void shot(char[] S) {\n    int N = S.length;\n    int cur = 0;\n    boolean right = true;\n    while (0 <= cur && cur < N) {\n      if (S[cur] == 'A') {\n        S[cur] = 'B';\n        if (right) {\n          cur--;\n        } else {\n          cur++;\n        }\n        right = !right;\n      } else {\n        S[cur] = 'A';\n        if (right) {\n          cur++;\n        } else {\n          cur--;\n        }\n      }\n    }\n  }\n\n  private void solve(FastScanner in, PrintWriter out) {\n    int N = in.nextInt();\n    int K = in.nextInt();\n    char[] S = in.next().toCharArray();\n\n    TreeMap<String, Integer> map = new TreeMap<>();\n\n    for (int k = 1; k <= K; k++) {\n      shot(S);\n      String T = new String(S);\n      if (map.containsKey(T)) {\n        int cycle = k - map.get(T);\n        K -= k;\n        K %= cycle;\n        for (int i = 0; i < K; i++) {\n          shot(S);\n        }\n        out.println(new String(S));\n        return;\n      }\n      map.put(T, k);\n    }\n    out.println(new String(S));\n  }\n\n  public static void main(String[] args) {\n    PrintWriter out = new PrintWriter(System.out);\n    new Main().solve(new FastScanner(), out);\n    out.close();\n  }\n\n  private static class FastScanner {\n\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int bufferLength = 0;\n\n    private boolean hasNextByte() {\n      if (ptr < bufferLength) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          bufferLength = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (bufferLength <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) {\n        return buffer[ptr++];\n      } else {\n        return -1;\n      }\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n        ptr++;\n      }\n    }\n\n    boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    long nextLong() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n\n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    double[] nextDoubleArray(int n) {\n      double[] array = new double[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextDouble();\n      }\n      return array;\n    }\n\n    double[][] nextDoubleMap(int n, int m) {\n      double[][] map = new double[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextDoubleArray(m);\n      }\n      return map;\n    }\n\n    public int nextInt() {\n      return (int) nextLong();\n    }\n\n    public int[] nextIntArray(int n) {\n      int[] array = new int[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextInt();\n      }\n      return array;\n    }\n\n    public long[] nextLongArray(int n) {\n      long[] array = new long[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextLong();\n      }\n      return array;\n    }\n\n    public String[] nextStringArray(int n) {\n      String[] array = new String[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = next();\n      }\n      return array;\n    }\n\n    public char[][] nextCharMap(int n) {\n      char[][] array = new char[n][];\n      for (int i = 0; i < n; i++) {\n        array[i] = next().toCharArray();\n      }\n      return array;\n    }\n\n    public int[][] nextIntMap(int n, int m) {\n      int[][] map = new int[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextIntArray(m);\n      }\n      return map;\n    }\n  }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException; \nimport java.io.InputStream; \nimport java.io.PrintWriter; \nimport java.lang.StringBuilder;\nimport java.util.Arrays;\n\nclass Main{ \n\n\tstatic void solve(){ \n\t\tint n = ni(), k=ni();\n\t\tchar[] sarr =ns().toCharArray();\n\t\tStringBuilder BA = new StringBuilder();\n\t\tfor(int i=0;i<=n/2;++i)BA.append(\"BA\");\n\t\tStringBuilder  ans = new StringBuilder();\n\t\tboolean rev = false;\n\t\tint index=0;\n\t\tchar[] revc = new char[256];\n\t\trevc['A']='B';\n\t\trevc['B']='A';\n\t\tfor(;index<n;++index){\n\t\t\tif(k==0)break;\n\t\t\tif((!rev&&sarr[index]=='A') || (rev&&sarr[index]=='B')){\n\t\t\t\t--k;sarr[index]=revc[sarr[index]];\n\t\t\t}\n\t\t\tif(k==0)break;\n\t\t\trev=!rev;\n\t\t\t--k;\n\t\t}\n\n\t\tfor(;index<n;++index){\n\t\t\tif(rev)ans.append(revc[sarr[index]]);\n\t\t\telse ans.append(sarr[index]);\n\t\t}\n\t\tans.append(BA.substring(BA.length()-(n-ans.length())));\n\t\tout.println(ans.toString());\n\t}\n \n \n \n \n\tpublic static void main(String[] args){ \n\t\t solve(); \n\t\t out.flush(); \n\t } \n\t private static InputStream in = System.in; \n\t private static PrintWriter out = new PrintWriter(System.out); \n \n\t private static final byte[] buffer = new byte[1<<15]; \n\t private static int ptr = 0; \n\t private static int buflen = 0; \n\t private static boolean hasNextByte(){ \n\t\t if(ptr<buflen)return true; \n\t\t ptr = 0; \n\t\t try{ \n\t\t\t buflen = in.read(buffer); \n\t\t } catch (IOException e){ \n\t\t\t e.printStackTrace(); \n\t\t } \n\t\t return buflen>0; \n\t } \n\t private static int readByte(){ if(hasNextByte()) return buffer[ptr++]; else return -1;} \n\t private static boolean isSpaceChar(int c){ return !(33<=c && c<=126);} \n\t private static int skip(){int res; while((res=readByte())!=-1 && isSpaceChar(res)); return res;} \n \n\t private static double nd(){ return Double.parseDouble(ns()); } \n\t private static char nc(){ return (char)skip(); } \n\t private static String ns(){ \n\t\t StringBuilder sb = new StringBuilder(); \n\t\t for(int b=skip();!isSpaceChar(b);b=readByte())sb.append((char)b); \n\t\t return sb.toString(); \n\t } \n\t private static int[] nia(int n){ \n\t\t int[] res = new int[n]; \n\t\t for(int i=0;i<n;++i)res[i]=ni(); \n\t\t return res; \n\t } \n\t private static long[] nla(int n){ \n\t\t long[] res = new long[n]; \n\t\t for(int i=0;i<n;++i)res[i]=nl(); \n\t\t return res; \n\t } \n\t private static int ni(){ \n\t\t int res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t } \n\t private static long nl(){ \n\t\t long res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t} \n} \n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Arrays;\nimport java.io.IOException;\nimport java.io.Serializable;\nimport java.io.UncheckedIOException;\nimport java.io.Closeable;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Thread thread = new Thread(null, new TaskAdapter(), \"\", 1 << 29);\n        thread.start();\n        thread.join();\n    }\n\n    static class TaskAdapter implements Runnable {\n        @Override\n        public void run() {\n            InputStream inputStream = System.in;\n            OutputStream outputStream = System.out;\n            FastInput in = new FastInput(inputStream);\n            FastOutput out = new FastOutput(outputStream);\n            DHalfReflector solver = new DHalfReflector();\n            solver.solve(1, in, out);\n            out.close();\n        }\n    }\n\n    static class DHalfReflector {\n        int shift = 0;\n        BitSet tmp;\n\n        public void solve(int testNumber, FastInput in, FastOutput out) {\n            int n = in.readInt();\n            int k = in.readInt();\n            BitSet bs = new BitSet(n);\n            for (int i = 0; i < n; i++) {\n                bs.set(i, 'B' - in.readChar() == 1);\n            }\n\n            tmp = new BitSet(n);\n            int now = 0;\n            while (now < k && shift <= n) {\n                now++;\n                next(bs);\n            }\n\n            if (now == k) {\n                output(bs, out);\n                return;\n            }\n\n            k -= now;\n            if (k % 2 == 1) {\n                next(bs);\n            }\n\n            output(bs, out);\n        }\n\n        public void output(BitSet bs, FastOutput out) {\n            for (int i = 0; i < bs.capacity(); i++) {\n                out.append(bs.get(i) ? 'A' : 'B');\n            }\n        }\n\n        public void next(BitSet bs) {\n            if (bs.get(0)) {\n                bs.clear(0);\n                return;\n            }\n            shift++;\n            tmp.copy(bs);\n            tmp.leftShift(1);\n            bs.fill(true);\n            bs.xor(tmp);\n            bs.set(bs.capacity() - 1);\n        }\n\n    }\n\n    static class FastOutput implements AutoCloseable, Closeable, Appendable {\n        private StringBuilder cache = new StringBuilder(10 << 20);\n        private final Writer os;\n\n        public FastOutput append(CharSequence csq) {\n            cache.append(csq);\n            return this;\n        }\n\n        public FastOutput append(CharSequence csq, int start, int end) {\n            cache.append(csq, start, end);\n            return this;\n        }\n\n        public FastOutput(Writer os) {\n            this.os = os;\n        }\n\n        public FastOutput(OutputStream os) {\n            this(new OutputStreamWriter(os));\n        }\n\n        public FastOutput append(char c) {\n            cache.append(c);\n            return this;\n        }\n\n        public FastOutput flush() {\n            try {\n                os.append(cache);\n                os.flush();\n                cache.setLength(0);\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n            return this;\n        }\n\n        public void close() {\n            flush();\n            try {\n                os.close();\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n\n        public String toString() {\n            return cache.toString();\n        }\n\n    }\n\n    static final class BitSet implements Serializable, Cloneable {\n        private long[] data;\n        private long tailAvailable;\n        private int capacity;\n        private int m;\n        private static final int SHIFT = 6;\n        private static final int LOW = 63;\n        private static final int BITS_FOR_EACH = 64;\n        private static final long ALL_ONE = ~0L;\n        private static final long ALL_ZERO = 0L;\n        private static final int MAX_OFFSET = 63;\n        private static long[] EMPTY_ARRAY = new long[0];\n\n        public BitSet(int n) {\n            capacity = n;\n            this.m = (capacity + 64 - 1) / 64;\n            data = new long[m];\n            tailAvailable = oneBetween(0, offset(capacity - 1));\n        }\n\n        public BitSet(BitSet bs) {\n            this.data = bs.data.clone();\n            this.tailAvailable = bs.tailAvailable;\n            this.capacity = bs.capacity;\n            this.m = bs.m;\n        }\n\n        private BitSet(BitSet bs, int l, int r) {\n            this.data = EMPTY_ARRAY;\n            copyInterval(bs, l, r);\n        }\n\n        public void copyInterval(BitSet bs, int l, int r) {\n            capacity = r - l + 1;\n            tailAvailable = oneBetween(0, offset(capacity - 1));\n            int reqLength = word(r) - word(l) + 1;\n            if (data.length >= word(r) - word(l) + 1) {\n                System.arraycopy(bs.data, word(l), data, 0, reqLength);\n            } else {\n                data = Arrays.copyOfRange(bs.data, word(l), word(r) + 1);\n            }\n            this.m = reqLength;\n            leftShift(offset(l));\n            this.m = (capacity + 64 - 1) / 64;\n            data[m - 1] &= tailAvailable;\n            for (int i = m; i < reqLength; i++) {\n                data[i] = 0;\n            }\n        }\n\n        public boolean get(int i) {\n            return (data[word(i)] & (1L << offset(i))) != 0;\n        }\n\n        public void set(int i) {\n            data[word(i)] |= (1L << offset(i));\n        }\n\n        public void set(int i, boolean val) {\n            if (val) {\n                set(i);\n            } else {\n                clear(i);\n            }\n        }\n\n        private static int word(int i) {\n            return i >>> SHIFT;\n        }\n\n        private static int offset(int i) {\n            return i & LOW;\n        }\n\n        private long oneBetween(int l, int r) {\n            if (r < l) {\n                return 0;\n            }\n            long lBegin = 1L << offset(l);\n            long rEnd = 1L << offset(r);\n            return (ALL_ONE ^ (lBegin - 1)) & ((rEnd << 1) - 1);\n        }\n\n        public void fill(boolean val) {\n            if (val) {\n                set(0, capacity() - 1);\n            } else {\n                clear(0, capacity() - 1);\n            }\n        }\n\n        public void set(int l, int r) {\n            if (r < l) {\n                return;\n            }\n            int lWord = l >>> SHIFT;\n            int rWord = r >>> SHIFT;\n            for (int i = lWord + 1; i < rWord; i++) {\n                data[i] = ALL_ONE;\n            }\n            //lword\n            if (lWord == rWord) {\n                data[lWord] |= oneBetween(offset(l), offset(r));\n            } else {\n                data[lWord] |= oneBetween(offset(l), MAX_OFFSET);\n                data[rWord] |= oneBetween(0, offset(r));\n            }\n        }\n\n        public void clear(int i) {\n            data[word(i)] &= ~(1L << offset(i));\n        }\n\n        public void clear(int l, int r) {\n            if (r < l) {\n                return;\n            }\n            int lWord = l >>> SHIFT;\n            int rWord = r >>> SHIFT;\n            for (int i = lWord + 1; i < rWord; i++) {\n                data[i] = ALL_ZERO;\n            }\n            //lword\n            if (lWord == rWord) {\n                data[lWord] &= ~oneBetween(offset(l), offset(r));\n            } else {\n                data[lWord] &= ~oneBetween(offset(l), MAX_OFFSET);\n                data[rWord] &= ~oneBetween(0, offset(r));\n            }\n        }\n\n        public int capacity() {\n            return capacity;\n        }\n\n        public void copy(BitSet bs) {\n            int n = Math.min(this.m, bs.m);\n            System.arraycopy(bs.data, 0, data, 0, n);\n            Arrays.fill(data, n, n, 0);\n        }\n\n        public void xor(BitSet bs) {\n            int n = Math.min(this.m, bs.m);\n            for (int i = 0; i < n; i++) {\n                data[i] ^= bs.data[i];\n            }\n        }\n\n        public int nextSetBit(int start) {\n            int offset = offset(start);\n            int w = word(start);\n            if (offset != 0) {\n                long mask = oneBetween(offset, MAX_OFFSET);\n                if ((data[w] & mask) != 0) {\n                    return Long.numberOfTrailingZeros(data[w] & mask) + w * BITS_FOR_EACH;\n                }\n                w++;\n            }\n\n            while (w < m && data[w] == ALL_ZERO) {\n                w++;\n            }\n            if (w >= m) {\n                return capacity();\n            }\n            return Long.numberOfTrailingZeros(data[w]) + w * BITS_FOR_EACH;\n        }\n\n        public void leftShift(int n) {\n            int wordMove = word(n);\n            int offsetMove = offset(n);\n            int rshift = MAX_OFFSET - (offsetMove - 1);\n\n            if (offsetMove != 0) {\n                //slightly\n                for (int i = 0; i < m; i++) {\n                    if (i > 0) {\n                        data[i - 1] |= data[i] << rshift;\n                    }\n                    data[i] >>>= offsetMove;\n                }\n            }\n            if (wordMove > 0) {\n                for (int i = 0; i < m; i++) {\n                    if (i >= wordMove) {\n                        data[i - wordMove] = data[i];\n                    }\n                    data[i] = 0;\n                }\n            }\n        }\n\n        public BitSet clone() {\n            return new BitSet(this);\n        }\n\n        public String toString() {\n            StringBuilder builder = new StringBuilder(\"{\");\n            for (int i = nextSetBit(0); i < capacity(); i = nextSetBit(i + 1)) {\n                builder.append(i).append(',');\n            }\n            if (builder.length() > 1) {\n                builder.setLength(builder.length() - 1);\n            }\n            builder.append(\"}\");\n            return builder.toString();\n        }\n\n        public int hashCode() {\n            int ans = 1;\n            for (int i = 0; i < m; i++) {\n                ans = ans * 31 + Long.hashCode(data[i]);\n            }\n            return ans;\n        }\n\n        public boolean equals(Object obj) {\n            if (!(obj instanceof BitSet)) {\n                return false;\n            }\n            BitSet other = (BitSet) obj;\n            if (other.capacity != capacity) {\n                return false;\n            }\n            for (int i = 0; i < m; i++) {\n                if (other.data[i] != data[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n    }\n\n    static class FastInput {\n        private final InputStream is;\n        private byte[] buf = new byte[1 << 13];\n        private int bufLen;\n        private int bufOffset;\n        private int next;\n\n        public FastInput(InputStream is) {\n            this.is = is;\n        }\n\n        private int read() {\n            while (bufLen == bufOffset) {\n                bufOffset = 0;\n                try {\n                    bufLen = is.read(buf);\n                } catch (IOException e) {\n                    bufLen = -1;\n                }\n                if (bufLen == -1) {\n                    return -1;\n                }\n            }\n            return buf[bufOffset++];\n        }\n\n        public void skipBlank() {\n            while (next >= 0 && next <= 32) {\n                next = read();\n            }\n        }\n\n        public int readInt() {\n            int sign = 1;\n\n            skipBlank();\n            if (next == '+' || next == '-') {\n                sign = next == '+' ? 1 : -1;\n                next = read();\n            }\n\n            int val = 0;\n            if (sign == 1) {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 + next - '0';\n                    next = read();\n                }\n            } else {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 - next + '0';\n                    next = read();\n                }\n            }\n\n            return val;\n        }\n\n        public char readChar() {\n            skipBlank();\n            char c = (char) next;\n            next = read();\n            return c;\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.util.StringTokenizer;\n\n/**\n * @author Pavel Mavrin\n */\npublic class Main {\n\n    private void solve() throws IOException {\n        int n = nextInt();\n        int k = nextInt();\n        String s = next();\n        int[] a = new int[n];\n        for (int i = 0; i < n; i++) {\n            a[i] = s.charAt(i) == 'B' ? 1 : 0;\n        }\n        int j = 0;\n        while (k > 0) {\n            if (j == n) {\n                if (n % 2 == 1) {\n                    if (k % 2 == 0) {\n                        for (int i = 0; i < n; i++) {\n                            out.print(\"AB\".charAt(i % 2));\n                        }\n                    } else {\n                        out.print(\"B\");\n                        for (int i = 1; i < n; i++) {\n                            out.print(\"AB\".charAt(i % 2));\n                        }\n                    }\n                } else {\n                    for (int i = 0; i < n; i++) {\n                        out.print(\"BA\".charAt(i % 2));\n                    }\n                }\n                return;\n            } else {\n                if ((a[j] + j) % 2 == 0) {\n                    a[j] = 1 - a[j];\n                } else {\n                    j++;\n                }\n                k--;\n            }\n        }\n//        System.out.println(j + \" \" + Arrays.toString(a));\n        for (int i = 0; i < n; i++) {\n            int q;\n            if (j + i >= n) {\n                q = (n + i + 1) % 2;\n            } else {\n                q = (a[j + i] + j) % 2;\n            }\n            out.print(\"AB\".charAt(q));\n        }\n        out.println();\n    }\n\n    // ------------------\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    StringTokenizer st;\n    PrintWriter out = new PrintWriter(System.out);\n\n    String next() throws IOException {\n        while (st == null || !st.hasMoreTokens()) {\n            st = new StringTokenizer(br.readLine());\n        }\n        return st.nextToken();\n    }\n\n    int nextInt() throws IOException {\n        return Integer.parseInt(next());\n    }\n\n    public static void main(String[] args) throws IOException {\n        new Main().run();\n    }\n\n    private void run() throws IOException {\n        solve();\n        out.close();\n    }\n\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.BufferedWriter;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.util.InputMismatchException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n *\n * @author Egor Kulikov (egor@egork.net)\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        OutputWriter out = new OutputWriter(outputStream);\n        TaskD solver = new TaskD();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class TaskD {\n        public void solve(int testNumber, InputReader in, OutputWriter out) {\n            try {\n                int n = in.readInt();\n                int k = in.readInt();\n                char[] s = IOUtils.readCharArray(in, n);\n                for (int i = 0; i < n; i++) {\n                    if (k == 0) {\n                        if (i % 2 == 0) {\n                            out.print(new String(s, i, n - i));\n                            char cur = 'B';\n                            for (int j = 0; j < i; j++) {\n                                out.print(cur);\n                                cur = (char) ('A' + 'B' - cur);\n                            }\n                            out.printLine();\n                            return;\n                        } else {\n                            for (int j = i; j < n; j++) {\n                                out.print((char) ('A' + 'B' - s[j]));\n                            }\n                            char cur = 'A';\n                            for (int j = 0; j < i; j++) {\n                                out.print(cur);\n                                cur = (char) ('A' + 'B' - cur);\n                            }\n                            out.printLine();\n                            return;\n                        }\n                    }\n                    if (i % 2 == 0 ^ s[i] == 'B') {\n                        k--;\n                        s[i] = (char) ('A' + 'B' - s[i]);\n                        if (k == 0) {\n                            if (i % 2 == 0) {\n                                out.print(new String(s, i, n - i));\n                                char cur = 'B';\n                                for (int j = 0; j < i; j++) {\n                                    out.print(cur);\n                                    cur = (char) ('A' + 'B' - cur);\n                                }\n                                out.printLine();\n                                return;\n                            } else {\n                                for (int j = i; j < n; j++) {\n                                    out.print((char) ('A' + 'B' - s[j]));\n                                }\n                                char cur = 'A';\n                                for (int j = 0; j < i; j++) {\n                                    out.print(cur);\n                                    cur = (char) ('A' + 'B' - cur);\n                                }\n                                out.printLine();\n                                return;\n                            }\n                        }\n                    }\n                    k--;\n                }\n                if (n % 2 == 0) {\n                    char cur = 'B';\n                    for (int j = 0; j < n; j++) {\n                        out.print(cur);\n                        cur = (char) ('A' + 'B' - cur);\n                    }\n                    out.printLine();\n                    return;\n                }\n                if (k % 2 == 0) {\n                    char cur = 'A';\n                    for (int j = 0; j < n; j++) {\n                        out.print(cur);\n                        cur = (char) ('A' + 'B' - cur);\n                    }\n                    out.printLine();\n                    return;\n                }\n                out.print('B');\n                char cur = 'B';\n                for (int j = 1; j < n; j++) {\n                    out.print(cur);\n                    cur = (char) ('A' + 'B' - cur);\n                }\n                out.printLine();\n            } catch (InputMismatchException e) {\n                while (true) {\n                    ;\n                }\n            } catch (IndexOutOfBoundsException e) {\n            }\n        }\n\n    }\n\n    static class IOUtils {\n        public static char[] readCharArray(InputReader in, int size) {\n            char[] array = new char[size];\n            for (int i = 0; i < size; i++) {\n                array[i] = in.readCharacter();\n            }\n            return array;\n        }\n\n    }\n\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n        private InputReader.SpaceCharFilter filter;\n\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n\n        public int read() {\n            if (numChars == -1) {\n                throw new InputMismatchException();\n            }\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0) {\n                    return -1;\n                }\n            }\n            return buf[curChar++];\n        }\n\n        public int readInt() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = read();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9') {\n                    throw new InputMismatchException();\n                }\n                res *= 10;\n                res += c - '0';\n                c = read();\n            } while (!isSpaceChar(c));\n            return res * sgn;\n        }\n\n        public boolean isSpaceChar(int c) {\n            if (filter != null) {\n                return filter.isSpaceChar(c);\n            }\n            return isWhitespace(c);\n        }\n\n        public static boolean isWhitespace(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n\n        public char readCharacter() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            return (char) c;\n        }\n\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n\n        }\n\n    }\n\n    static class OutputWriter {\n        private final PrintWriter writer;\n\n        public OutputWriter(OutputStream outputStream) {\n            writer = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n        }\n\n        public OutputWriter(Writer writer) {\n            this.writer = new PrintWriter(writer);\n        }\n\n        public void print(Object... objects) {\n            for (int i = 0; i < objects.length; i++) {\n                if (i != 0) {\n                    writer.print(' ');\n                }\n                writer.print(objects[i]);\n            }\n        }\n\n        public void printLine() {\n            writer.println();\n        }\n\n        public void print(char i) {\n            writer.print(i);\n        }\n\n        public void close() {\n            writer.close();\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\n/**\n * Created by mixnector on 2017/03/04.\n */\npublic class Main {\n    static Scanner in;\n    static PrintWriter out;\n    static String INPUT = \"\";\n\n    public static void main(String[] args) throws Exception {\n        in = INPUT.isEmpty() ? new Scanner(System.in) : new Scanner(INPUT);\n        out = new PrintWriter(System.out);\n        int N = ni();\n        long K = nl();\n        char[] S = in.next().toCharArray();\n        int i;\n        for(i = 0; i < K; i++)\n        {\n            int index = 0;\n            boolean left = false;\n            while(true)\n            {\n                if(S[index] == 'A')\n                {\n                    S[index] = 'B';\n                    left = !left;\n                    if(index == 0 && left)\n                        break;\n                }\n                else if(S[index] == 'B')\n                {\n                    S[index] = 'A';\n                    if(index == N - 1)\n                        break;\n                }\n                if(left)\n                    index--;\n                else\n                    index++;\n            }\n        }\n        out.println(S);\n        out.flush();\n    }\n\n    static int ni() {\n        return Integer.parseInt(in.next());\n    }\n\n    static long nl() {\n        return Long.parseLong(in.next());\n    }\n}"
  },
  {
    "language": "Java",
    "code": "//-----------------------------------------------------------\n// すぐ使える\n//-----------------------------------------------------------\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        \n\n\t\t// 1行、2つ(複数)数字\n\t\tString[] ss0 = br.readLine().trim().split(\" \", 0);\n\t\tlong N = Long.parseLong(ss0[0]);  // 人数　－＞行数\n\t\tlong K = Long.parseLong(ss0[1]);  // 待ち猶予時間\n\n\t\tString s0 = br.readLine();\n\n\n\t\t//ABを01に変換\n\t\tString s = s0.replace('A','0').replace('B','1');\n\t\t\t\tSystem.out.println(s);\n\n\t\t//文字列reverse\n\t\tStringBuilder sb = new StringBuilder(s);\n\t\tsb.reverse();\n\t\ts = sb.toString();\n\t\t\t\tSystem.out.println(s);\n\n\t\t//2進数として扱い、10進数に変換\n\t\tlong l = Long.parseLong(s, 2);\n\t\tSystem.out.println(l);\n\n\t\t//Kを足す\n\t\tl += K;\n\t\tSystem.out.println(l);\n\n\t\t//2進数に戻す\n\t\ts = Long.toBinaryString(l);\n\n\t\t//01をABに変換\n\t\ts = s.replace('0','A').replace('1','B');\n\n\t\t//reverseする\n\t\tsb.delete(0, sb.length());\n\t\tsb.append(s);\n\t\tsb.reverse();\n\t\tsb.append( repeat(\"A\", s0.length()) );\n\t\t\n\t\t//左から文字列を桁数分取る\n\t\ts = sb.substring(0, s0.length());\n\n\t\tSystem.out.println(s);\n        return;\n    }\n    //-----------------------------------------------------------------\n\n\t//-----------------------------------------------------------------\n\t// 入力値確認\n\tstatic void checkInput(long[] i1) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor(long i: i1) sb.append(\"[\" + i + \"]\");\n\t\t\tsb.append(System.getProperty(\"line.separator\"));\n\t\tSystem.out.println(sb);\n\t}\n\n\t//Repeat関数\n\tstatic String repeat(String s, long l) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor(long i=0; i<l; i++) sb.append(s);\n\t\treturn sb.toString();\n\t}\n\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tstatic Scanner sc = new Scanner(System.in);\n\t\n\tpublic static void main(String[] args) {\n\t\tint n = sc.nextInt();\n\t\tint k = sc.nextInt();\n\t\tString s = sc.next();\n\t\tchar[] ss = s.toCharArray();\n\t\tboolean[] a = new boolean[n];\n\t\t\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif(ss[i] == 'A') {\n\t\t\t\ta[i] = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tboolean flip = false;\n\t\tint index = 0;\n\t\tfor (int i = 0; i < Math.min(k,  2 * n + k % 2); i++) {\n\t\t\tif(a[index] ^ flip) {\n\t\t\t\ta[index] = !a[index];\n\t\t\t} else {\n\t\t\t\tflip = !flip;\n\t\t\t\tindex = (index + 1) % n;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tif(a[(index+i) % n] ^ flip) {\n\t\t\t\tSystem.out.print('A');\n\t\t\t} else {\n\t\t\t\tSystem.out.print('B');\n\t\t\t}\n\t\t}\n\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException; \nimport java.io.InputStream; \nimport java.io.PrintWriter; \nimport java.lang.StringBuilder;\nimport java.util.Arrays;\n\nclass Main{ \n\n\tstatic void solve(){ \n\t\tint n = ni(), k=ni();\n\t\tchar[] sarr =ns().toCharArray();\n\t\tStringBuilder BA = new StringBuilder();\n\t\tfor(int i=0;i<=n/2;++i)BA.append(\"BA\");\n\t\tStringBuilder  ans = new StringBuilder();\n\t\tboolean rev = false;\n\t\tint index=0;\n\t\tchar[] revc = new char[256];\n\t\trevc['A']='B';\n\t\trevc['B']='A';\n\t\tif(n==1){\n\t\t\tif(k%2==0)out.println(sarr[0]);\n\t\t\telse out.println(revc[sarr[0]]);\n\t\t\treturn;\n\t\t}\n\t\tfor(;index<n;++index){\n\t\t\tif(k==0)break;\n\t\t\tif((!rev&&sarr[index]=='A') || (rev&&sarr[index]=='B')){\n\t\t\t\t--k;sarr[index]=revc[sarr[index]];\n\t\t\t}\n\t\t\tif(k==0)break;\n\t\t\trev=!rev;\n\t\t\t--k;\n\t\t}\n\n\t\tfor(;index<n;++index){\n\t\t\tif(rev)ans.append(revc[sarr[index]]);\n\t\t\telse ans.append(sarr[index]);\n\t\t}\n\t\tans.append(BA.substring(BA.length()-(n-ans.length())));\n\t\tif(index==n && k%2==1)ans.setCharAt(0, 'B');\n\t\tout.println(ans.toString());\n\t}\n \n \n \n \n\tpublic static void main(String[] args){ \n\t\t solve(); \n\t\t out.flush(); \n\t } \n\t private static InputStream in = System.in; \n\t private static PrintWriter out = new PrintWriter(System.out); \n \n\t private static final byte[] buffer = new byte[1<<15]; \n\t private static int ptr = 0; \n\t private static int buflen = 0; \n\t private static boolean hasNextByte(){ \n\t\t if(ptr<buflen)return true; \n\t\t ptr = 0; \n\t\t try{ \n\t\t\t buflen = in.read(buffer); \n\t\t } catch (IOException e){ \n\t\t\t e.printStackTrace(); \n\t\t } \n\t\t return buflen>0; \n\t } \n\t private static int readByte(){ if(hasNextByte()) return buffer[ptr++]; else return -1;} \n\t private static boolean isSpaceChar(int c){ return !(33<=c && c<=126);} \n\t private static int skip(){int res; while((res=readByte())!=-1 && isSpaceChar(res)); return res;} \n \n\t private static double nd(){ return Double.parseDouble(ns()); } \n\t private static char nc(){ return (char)skip(); } \n\t private static String ns(){ \n\t\t StringBuilder sb = new StringBuilder(); \n\t\t for(int b=skip();!isSpaceChar(b);b=readByte())sb.append((char)b); \n\t\t return sb.toString(); \n\t } \n\t private static int[] nia(int n){ \n\t\t int[] res = new int[n]; \n\t\t for(int i=0;i<n;++i)res[i]=ni(); \n\t\t return res; \n\t } \n\t private static long[] nla(int n){ \n\t\t long[] res = new long[n]; \n\t\t for(int i=0;i<n;++i)res[i]=nl(); \n\t\t return res; \n\t } \n\t private static int ni(){ \n\t\t int res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t } \n\t private static long nl(){ \n\t\t long res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t} \n} \n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.FileNotFoundException;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\n\tfinal long MODULO = 924844033L;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint N = sc.nextInt();\n\t\tlong K = sc.nextLong();\n\t\tString s = sc.next();\n\t\tArrayDeque<Integer> dq = new ArrayDeque<>();\n\t\tfor (int i = 0; i < s.length(); ++i) {\n\t\t\tdq.add(s.charAt(i) == 'A' ? 1 : -1);\n\t\t}\n\t\tint cur = 1;\n\t\tlong res = K;\n\t\tfor (int i = 0; i < K; ++i, res = K - i) {\n\t\t\tint v = dq.pollFirst();\n\t\t\tif (v * cur == 1) {\n\t\t\t\tdq.addFirst(cur * (-1));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcur *= -1;\n\t\t\tdq.addLast(cur);\n\t\t\tif (i > N && cur * dq.peekFirst() == -1) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!dq.isEmpty()) {\n\t\t\tsb.append(dq.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n\n\tstatic void tr(Object... objects) {\n\t\tSystem.out.println(Arrays.deepToString(objects));\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n    public static final String LEFT = \"LEFT\";\n    public static final String RIGHT = \"RIGHT\";\n    public static void main(String[] args) {\n        try {\n            // 標準入力\n            InputStreamReader isr = new InputStreamReader(System.in);\n            BufferedReader br = new BufferedReader(isr);\n            String nkStr[] = br.readLine().split(\" \");\n            //String s = br.readLine();\n            int n = Integer.parseInt(nkStr[0]);\n            int k = Integer.parseInt(nkStr[1]);\n            String s = br.readLine();\n            String strArr[] = s.split(\"\");\n            for (int i = 0; i < k; i++) {\n                int now = 0;\n                String from = LEFT;\n                while (true) {\n                    String tmp = strArr[now];\n                    if (\"A\".equals(tmp)) {\n                        strArr[now] = \"B\";\n                        if (LEFT.equals(from)) {\n                            from = RIGHT;\n                            now--;\n                        } else {\n                            from = LEFT;\n                            now++;\n                        }\n                    } else {\n                        strArr[now] = \"A\";\n                        if (LEFT.equals(from)) {\n                            from = LEFT;\n                            now++;\n                        } else {\n                            from = RIGHT;\n                            now--;\n                        }\n                    }\n                    if (now < 0 || now >= n) {\n                        break;\n                    }\n                }\n            }\n            for (String str : strArr) {\n                System.out.print(str);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tlong N = Long.parseLong(scan.next());\n\t\tlong K = Long.parseLong(scan.next());\n\t\tLinkedList<Character> str = new LinkedList<>();\n\t\tString input = scan.next();\n\t\tfor(int i = 0; i< input.length(); i++) {\n\t\t\tstr.add((char)input.indexOf(i));\n\t\t}\n\t\tfor (int i = 0; i < K; i++) {\n\t\t\tif (str.getFirst() == 'a') {\n\t\t\t\tstr.removeFirst();\n\t\t\t\tstr.addFirst('b');\n\t\t\t}\n\t\t\tfor (int j = 0; j < N; j++) {\n\t\t\t\tstr.removeFirst();\n\t\t\t\tstr.addLast('a');\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(String.valueOf(str));\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayDeque;\nimport java.util.Deque;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n  private static int N;\n  private static Deque<Integer> queue = new ArrayDeque<Integer>();\n  public static void main(String[] args) {\n    FastScanner sc = new FastScanner();\n    N = sc.nextInt();\n    long K = sc.nextLong();\n    String s = sc.next();\n    \n    for (int i = 0; i < N; i ++) {\n      int v = s.charAt(i) - 'A';\n      if (i % 2 == 1) {\n        v = v == 0 ? 1 : 0;\n      }\n      queue.add(v);\n    }\n    \n    for (int i = 0; i < Math.min(2 * N, K); i ++) {\n      next();\n    }\n    \n    if (2 * N < K) {\n      K -= 2 * N;\n      \n      String s1 = build();\n      next();\n      String s2 = build();\n\n      System.out.println(K % 2 == 0 ? s2 : s1);\n    } else {\n      System.out.println(build());\n    }\n\n  }\n  \n  private static void next() {\n    if (queue.pollFirst() == 0) {\n      queue.addFirst(1);\n    } else {\n      queue.addLast(N % 2 == 0 ? 1 : 0);\n    }\n  }\n\n  private static String build() {\n    StringBuilder sb = new StringBuilder();\n    int ptr = 0;\n    for (int v : queue) {\n      if (ptr % 2 == 1) {\n        v = v == 0 ? 1 : 0;\n      }\n      sb.append((char)('A' + v));\n      ptr ++;\n    }\n    return sb.toString();\n  }\n}\n\n\n\n\nclass FastScanner {\n\tpublic static String debug = null;\n\n\tprivate final InputStream in = System.in;\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate byte[] buffer = new byte[1024];\n\tprivate boolean eos = false;\n\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tif (debug != null) {\n\t\t\t\t\tbuflen = debug.length();\n\t\t\t\t\tbuffer = debug.getBytes();\n\t\t\t\t\tdebug = \"\";\n\t\t\t\t\teos = true;\n\t\t\t\t} else {\n\t\t\t\t\tbuflen = in.read(buffer);\n\t\t\t\t}\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen < 0) {\n\t\t\t\teos = true;\n\t\t\t\treturn false;\n\t\t\t} else if (buflen == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate int readByte() {\n\t\tif (hasNextByte())\n\t\t\treturn buffer[ptr++];\n\t\telse\n\t\t\treturn -1;\n\t}\n\n\tprivate static boolean isPrintableChar(int c) {\n\t\treturn 33 <= c && c <= 126;\n\t}\n\n\tprivate void skipUnprintable() {\n\t\twhile (hasNextByte() && !isPrintableChar(buffer[ptr]))\n\t\t\tptr++;\n\t}\n\n\tpublic boolean isEOS() {\n\t\treturn this.eos;\n\t}\n\n\tpublic boolean hasNext() {\n\t\tskipUnprintable();\n\t\treturn hasNextByte();\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile (isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic long nextLong() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile (true) {\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t} else if (b == -1 || !isPrintableChar(b)) {\n\t\t\t\treturn minus ? -n : n;\n\t\t\t} else {\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\n\tpublic int nextInt() {\n\t\treturn (int) nextLong();\n\t}\n\n\tpublic long[] nextLongList(int n) {\n\t\treturn nextLongTable(1, n)[0];\n\t}\n\n\tpublic int[] nextIntList(int n) {\n\t\treturn nextIntTable(1, n)[0];\n\t}\n\n\tpublic long[][] nextLongTable(int n, int m) {\n\t\tlong[][] ret = new long[n][m];\n\t\tfor (int i = 0; i < n; i ++) {\n\t\t\tfor (int j = 0; j < m; j ++) {\n\t\t\t\tret[i][j] = nextLong();\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n\n\tpublic int[][] nextIntTable(int n, int m) {\n\t\tint[][] ret = new int[n][m];\n\t\tfor (int i = 0; i < n; i ++) {\n\t\t\tfor (int j = 0; j < m; j ++) {\n\t\t\t\tret[i][j] = nextInt();\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n  private int N;\n\n  private void solve(FastScanner in, PrintWriter out) {\n    N = in.nextInt();\n    int K = in.nextInt();\n    char[] S = in.next().toCharArray();\n\n    int flip = 0;\n    int pos = 0;\n    for (int k = 0; k < K; k++) {\n      if (pos == N) {\n        if (N % 2 == 0) {\n          for (int i = 0; i < N; i++) {\n            out.print(i % 2 == 0 ? 'B' : 'A');\n          }\n          out.println();\n          return;\n        }\n        K -= k;\n        K %= 2;\n        if (K == 1) {\n          out.print('B');\n        } else {\n          out.print('A');\n        }\n        for (int i = 0; i < N - 1; i++) {\n          out.print(i % 2 == 0 ? 'B' : 'A');\n        }\n        out.println();\n        return;\n      }\n      char A = flip % 2 == 0 ? 'A' : 'B';\n      char B = A == 'A' ? 'B' : 'A';\n      if (S[pos] == A) {\n        S[pos] = B;\n      } else {\n        flip++;\n        pos++;\n      }\n    }\n    for (int i = pos; i < N; i++) {\n      if (flip % 2 == 0) {\n        out.print(S[i]);\n      } else {\n        out.print(S[i] == 'A' ? 'B' : 'A');\n      }\n    }\n    for (int i = 0; i < pos; i++) {\n      char A = flip % 2 == 1 ? 'A' : 'B';\n      char B = A == 'A' ? 'B' : 'A';\n      if (i % 2 == 0) {\n        out.print(A);\n      } else {\n        out.print(B);\n      }\n    }\n    out.println();\n  }\n\n  public static void main(String[] args) {\n    PrintWriter out = new PrintWriter(System.out);\n    new Main().solve(new FastScanner(), out);\n    out.close();\n  }\n\n  private static class FastScanner {\n\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int bufferLength = 0;\n\n    private boolean hasNextByte() {\n      if (ptr < bufferLength) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          bufferLength = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (bufferLength <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) {\n        return buffer[ptr++];\n      } else {\n        return -1;\n      }\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n        ptr++;\n      }\n    }\n\n    boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    long nextLong() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n\n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    double[] nextDoubleArray(int n) {\n      double[] array = new double[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextDouble();\n      }\n      return array;\n    }\n\n    double[][] nextDoubleMap(int n, int m) {\n      double[][] map = new double[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextDoubleArray(m);\n      }\n      return map;\n    }\n\n    public int nextInt() {\n      return (int) nextLong();\n    }\n\n    public int[] nextIntArray(int n) {\n      int[] array = new int[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextInt();\n      }\n      return array;\n    }\n\n    public long[] nextLongArray(int n) {\n      long[] array = new long[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextLong();\n      }\n      return array;\n    }\n\n    public String[] nextStringArray(int n) {\n      String[] array = new String[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = next();\n      }\n      return array;\n    }\n\n    public char[][] nextCharMap(int n) {\n      char[][] array = new char[n][];\n      for (int i = 0; i < n; i++) {\n        array[i] = next().toCharArray();\n      }\n      return array;\n    }\n\n    public int[][] nextIntMap(int n, int m) {\n      int[][] map = new int[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextIntArray(m);\n      }\n      return map;\n    }\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tint N = Integer.parseInt(scan.next());\n\t\tlong K = Long.parseLong(scan.next());\n\t\tbyte[] str = scan.next().getBytes();\n\t\tfor (int i = 0; i < K; i++) {\n\t\t\tif (str[0] == 'A') {\n\t\t\t\tstr[0] = 'B';\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (int j = 0; j < N - 1; j++) {\n\t\t\t\tstr[j] = (byte) ((str[j + 1] == 'A') ? 'B' : 'A');\n\t\t\t}\n\t\t\tstr[N - 1] = 'A';\n\t\t}\n\t\tfor (byte temp : str) {\n\t\t\tSystem.out.print((char) temp);\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tstatic Scanner sc = new Scanner(System.in);\n\t\n\tpublic static void main(String[] args) {\n\t\tint n = sc.nextInt();\n\t\tint k = sc.nextInt();\n\t\tString s = sc.next();\n\t\tchar[] ss = s.toCharArray();\n\t\tboolean[] a = new boolean[n];\n\t\t\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif(ss[i] == 'A') {\n\t\t\t\ta[i] = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tboolean flip = false;\n\t\tint index = 0;\n\t\tfor (int i = 0; i < Math.min(k,  2 * n); i++) {\n\t\t\tif(a[index] ^ flip) {\n\t\t\t\ta[index] = !a[index];\n\t\t\t} else {\n\t\t\t\tflip = !flip;\n\t\t\t\tindex = (index + 1) % n;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n ; i++) {\n\t\t\tif(a[(index+i) % n] ^ flip) {\n\t\t\t\tSystem.out.print('A');\n\t\t\t} else {\n\t\t\t\tSystem.out.print('B');\n\t\t\t}\n\t\t}\n\n\t}\n}\n\n"
  },
  {
    "language": "Java",
    "code": "//-----------------------------------------------------------\n// すぐ使える\n//-----------------------------------------------------------\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        \n\n\t\t// 1行、2つ(複数)数字\n\t\tString[] ss0 = br.readLine().trim().split(\" \", 0);\n\t\tlong N = Long.parseLong(ss0[0]);\n\t\tlong K = Long.parseLong(ss0[1]);\n\n\t\tString s0 = br.readLine();\n\n\n//\t\t//ABを01に変換\n//\t\tString s = s0.replace('A','0').replace('B','1');\n//\t\t\t\t//System.out.println(s);\n//\n//\t\t//文字列reverse\n//\t\tStringBuilder sb = new StringBuilder(s);\n//\t\tsb.reverse();\n//\t\ts = sb.toString();\n//\t\t\t\t//System.out.println(s);\n//\n//\t\t//2進数として扱い、10進数に変換\n//\t\tlong l = Long.parseLong(s, 2);\n////\t\tSystem.out.println(l);\n//\n//\t\t//Kを足す\n//\t\tl += K;\n////\t\tSystem.out.println(l);\n//\n//\t\t//2進数に戻す\n//\t\ts = Long.toBinaryString(l);\n//\n//\t\t//01をABに変換\n//\t\ts = s.replace('0','A').replace('1','B');\n//\n//\t\t//reverseする\n//\t\tsb.delete(0, sb.length());\n//\t\tsb.append(s);\n//\t\tsb.reverse();\n//\t\tsb.append( repeat(\"A\", s0.length() - sb.length()) );\n//\t\t\n//\t\t//左から文字列を桁数分取る\n//\t\ts = sb.substring(0, s0.length());\n//\n\t\tSystem.out.println(s0);\n        return;\n    }\n    //-----------------------------------------------------------------\n\n\t//-----------------------------------------------------------------\n\t// 入力値確認\n\tstatic void checkInput(long[] i1) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor(long i: i1) sb.append(\"[\" + i + \"]\");\n\t\t\tsb.append(System.getProperty(\"line.separator\"));\n//\t\tSystem.out.println(sb);\n\t}\n\n\t//Repeat関数\n\tstatic String repeat(String s, long l) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor(long i=0; i<l; i++) sb.append(s);\n\t\treturn sb.toString();\n\t}\n\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.UncheckedIOException;\nimport java.io.Closeable;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Thread thread = new Thread(null, new TaskAdapter(), \"\", 1 << 29);\n        thread.start();\n        thread.join();\n    }\n\n    static class TaskAdapter implements Runnable {\n        @Override\n        public void run() {\n            InputStream inputStream = System.in;\n            OutputStream outputStream = System.out;\n            FastInput in = new FastInput(inputStream);\n            FastOutput out = new FastOutput(outputStream);\n            DHalfReflector solver = new DHalfReflector();\n            solver.solve(1, in, out);\n            out.close();\n        }\n    }\n\n    static class DHalfReflector {\n        public void solve(int testNumber, FastInput in, FastOutput out) {\n            int n = in.readInt();\n            int k = in.readInt();\n            int[] vals = new int[n];\n            for (int i = 0; i < n; i++) {\n                vals[i] = 'B' - in.readChar();\n            }\n\n            Data data = new Data(vals);\n            data.next(k);\n            for (int i = 0; i < n; i++) {\n                out.append(data.get(i) == 1 ? 'A' : 'B');\n            }\n        }\n\n    }\n\n    static class FastOutput implements AutoCloseable, Closeable, Appendable {\n        private StringBuilder cache = new StringBuilder(10 << 20);\n        private final Writer os;\n\n        public FastOutput append(CharSequence csq) {\n            cache.append(csq);\n            return this;\n        }\n\n        public FastOutput append(CharSequence csq, int start, int end) {\n            cache.append(csq, start, end);\n            return this;\n        }\n\n        public FastOutput(Writer os) {\n            this.os = os;\n        }\n\n        public FastOutput(OutputStream os) {\n            this(new OutputStreamWriter(os));\n        }\n\n        public FastOutput append(char c) {\n            cache.append(c);\n            return this;\n        }\n\n        public FastOutput flush() {\n            try {\n                os.append(cache);\n                os.flush();\n                cache.setLength(0);\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n            return this;\n        }\n\n        public void close() {\n            flush();\n            try {\n                os.close();\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n\n        public String toString() {\n            return cache.toString();\n        }\n\n    }\n\n    static class Data {\n        int[] data;\n        int index;\n        int start = 1;\n        boolean inv;\n\n        public Data(int[] data) {\n            this.data = data;\n        }\n\n        public int get(int i) {\n            int threshold = data.length - index;\n            if (i < threshold) {\n                if (inv) {\n                    return 1 - data[index + i];\n                } else {\n                    return data[index + i];\n                }\n            }\n            i -= Math.max(threshold, 0);\n            if (index >= data.length && i == 0) {\n                return start;\n            }\n            if (i % 2 == (data.length - 1) % 2) {\n                return 1;\n            }\n            return 0;\n        }\n\n        public void next(int k) {\n            if (k == 0) {\n                return;\n            }\n            if (index >= data.length) {\n                if (k % 2 == 1) {\n                    start = 0;\n                }\n                return;\n            }\n            if (data[index] == 1) {\n                data[index] = 0;\n                next(k - 1);\n                return;\n            }\n            index++;\n            inv = !inv;\n            next(k - 1);\n        }\n\n    }\n\n    static class FastInput {\n        private final InputStream is;\n        private byte[] buf = new byte[1 << 13];\n        private int bufLen;\n        private int bufOffset;\n        private int next;\n\n        public FastInput(InputStream is) {\n            this.is = is;\n        }\n\n        private int read() {\n            while (bufLen == bufOffset) {\n                bufOffset = 0;\n                try {\n                    bufLen = is.read(buf);\n                } catch (IOException e) {\n                    bufLen = -1;\n                }\n                if (bufLen == -1) {\n                    return -1;\n                }\n            }\n            return buf[bufOffset++];\n        }\n\n        public void skipBlank() {\n            while (next >= 0 && next <= 32) {\n                next = read();\n            }\n        }\n\n        public int readInt() {\n            int sign = 1;\n\n            skipBlank();\n            if (next == '+' || next == '-') {\n                sign = next == '+' ? 1 : -1;\n                next = read();\n            }\n\n            int val = 0;\n            if (sign == 1) {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 + next - '0';\n                    next = read();\n                }\n            } else {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 - next + '0';\n                    next = read();\n                }\n            }\n\n            return val;\n        }\n\n        public char readChar() {\n            skipBlank();\n            char c = (char) next;\n            next = read();\n            return c;\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.UncheckedIOException;\nimport java.io.Closeable;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Thread thread = new Thread(null, new TaskAdapter(), \"\", 1 << 29);\n        thread.start();\n        thread.join();\n    }\n\n    static class TaskAdapter implements Runnable {\n        @Override\n        public void run() {\n            InputStream inputStream = System.in;\n            OutputStream outputStream = System.out;\n            FastInput in = new FastInput(inputStream);\n            FastOutput out = new FastOutput(outputStream);\n            DHalfReflector solver = new DHalfReflector();\n            solver.solve(1, in, out);\n            out.close();\n        }\n    }\n\n    static class DHalfReflector {\n        public void solve(int testNumber, FastInput in, FastOutput out) {\n            int n = in.readInt();\n            int k = in.readInt();\n            int[] vals = new int[n];\n            for (int i = 0; i < n; i++) {\n                vals[i] = 'B' - in.readChar();\n            }\n\n            Data data = new Data(vals);\n            data.next(k);\n            for (int i = 0; i < n; i++) {\n                out.append(data.get(i) == 1 ? 'A' : 'B');\n            }\n        }\n\n    }\n\n    static class FastOutput implements AutoCloseable, Closeable, Appendable {\n        private StringBuilder cache = new StringBuilder(10 << 20);\n        private final Writer os;\n\n        public FastOutput append(CharSequence csq) {\n            cache.append(csq);\n            return this;\n        }\n\n        public FastOutput append(CharSequence csq, int start, int end) {\n            cache.append(csq, start, end);\n            return this;\n        }\n\n        public FastOutput(Writer os) {\n            this.os = os;\n        }\n\n        public FastOutput(OutputStream os) {\n            this(new OutputStreamWriter(os));\n        }\n\n        public FastOutput append(char c) {\n            cache.append(c);\n            return this;\n        }\n\n        public FastOutput flush() {\n            try {\n                os.append(cache);\n                os.flush();\n                cache.setLength(0);\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n            return this;\n        }\n\n        public void close() {\n            flush();\n            try {\n                os.close();\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n\n        public String toString() {\n            return cache.toString();\n        }\n\n    }\n\n    static class Data {\n        int[] data;\n        int index;\n        int start = 1;\n        boolean inv;\n\n        public Data(int[] data) {\n            this.data = data;\n            start = (data.length - 1) % 2 == 0 ? 1 : 0;\n        }\n\n        public int get(int i) {\n            int threshold = data.length - index;\n            if (i < threshold) {\n                if (inv) {\n                    return 1 - data[index + i];\n                } else {\n                    return data[index + i];\n                }\n            }\n            if (i == 0) {\n                return start;\n            }\n            if (i % 2 == (data.length - 1) % 2) {\n                return 1;\n            }\n            return 0;\n        }\n\n        public void next(int k) {\n            if (k == 0) {\n                return;\n            }\n            if (index >= data.length) {\n                if (k % 2 == 1) {\n                    start = 0;\n                }\n                return;\n            }\n            if (data[index] == 1) {\n                data[index] = 0;\n                next(k - 1);\n                return;\n            }\n            index++;\n            inv = !inv;\n            next(k - 1);\n        }\n\n    }\n\n    static class FastInput {\n        private final InputStream is;\n        private byte[] buf = new byte[1 << 13];\n        private int bufLen;\n        private int bufOffset;\n        private int next;\n\n        public FastInput(InputStream is) {\n            this.is = is;\n        }\n\n        private int read() {\n            while (bufLen == bufOffset) {\n                bufOffset = 0;\n                try {\n                    bufLen = is.read(buf);\n                } catch (IOException e) {\n                    bufLen = -1;\n                }\n                if (bufLen == -1) {\n                    return -1;\n                }\n            }\n            return buf[bufOffset++];\n        }\n\n        public void skipBlank() {\n            while (next >= 0 && next <= 32) {\n                next = read();\n            }\n        }\n\n        public int readInt() {\n            int sign = 1;\n\n            skipBlank();\n            if (next == '+' || next == '-') {\n                sign = next == '+' ? 1 : -1;\n                next = read();\n            }\n\n            int val = 0;\n            if (sign == 1) {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 + next - '0';\n                    next = read();\n                }\n            } else {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 - next + '0';\n                    next = read();\n                }\n            }\n\n            return val;\n        }\n\n        public char readChar() {\n            skipBlank();\n            char c = (char) next;\n            next = read();\n            return c;\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.PrintWriter;\nimport java.util.*;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tPrintWriter pw = new PrintWriter(System.out);\n\t\tint N = sc.nextInt();\n\t\tint K = sc.nextInt();\n\t\tchar[] S = sc.next().toCharArray();\n\n\t\tboolean[] a = new boolean[N];\n\t\tfor(int i=0; i<N; i++)\n\t\t\ta[i] = S[i]=='A';\n\t\tboolean flip = false;\n\t\tint idx = 0;\n\t\t\n\t\tint T = Math.min(2*N, K);\n\t\tfor(int i=0; i<T; i++) {\n\t\t\tif(a[idx]^flip) {\n\t\t\t\ta[idx] = false^flip;\n\t\t\t} else {\n\t\t\t\tflip ^= true;\n\t\t\t\ta[idx] = true^flip;\n\t\t\t\tidx = (idx+1)%N;\n\t\t\t}\n\t\t}\n\t\tif(T<K) {\n\t\t\ta[idx] ^= (K-T)%2==1;\n\t\t}\n\t\t\n\t\tfor(int i=0; i<N; i++)\n\t\t\tpw.print(a[(i+idx)%N] ^ flip ? 'A' : 'B');\n\t\tpw.println();\n\t\t\n\t\t\n\t\tsc.close();\n\t\tpw.close();\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.FileNotFoundException;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint N = sc.nextInt();\n\t\tlong K = sc.nextLong();\n\t\tString s = sc.next();\n\t\tArrayDeque<Integer> dq = new ArrayDeque<>();\n\t\tfor (int i = 0; i < s.length(); ++i) {\n\t\t\tdq.add(s.charAt(i) == 'A' ? 1 : -1);\n\t\t}\n\t\tint cur = 1;\n\t\tlong res = 0;\n\t\tHashMap<String, Integer> map = new HashMap<>();\n\t\tHashMap<Integer, String> map2 = new HashMap<>();\n\t\tint id = 0;\n\t\tfor (long i = 0; i < K; ++i) {\n\t\t\tint v = dq.pollFirst();\n\t\t\tif (v * cur == 1) {\n\t\t\t\tdq.addFirst(cur * (-1));\n\t\t\t} else {\n\t\t\t\tcur *= -1;\n\t\t\t\tdq.addLast(cur);\n\t\t\t}\n\t\t\tif (i > 2 * N) {\n\t\t\t\tres = K - i - 1;\n\t\t\t\tString str = getans(dq, cur);\n\t\t\t\tif (map.containsKey(str)) {\n\t\t\t\t\tint ansid = (int) res % id;\n\t\t\t\t\tString ans = map2.get(ansid);\n\t\t\t\t\tSystem.out.println(ans);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(str, id);\n\t\t\t\t\tmap2.put(id, str);\n\t\t\t\t\t++id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!dq.isEmpty()) {\n\t\t\tsb.append(dq.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n\n\tString getans(ArrayDeque<Integer> dq, int cur) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tArrayDeque<Integer> tmp = new ArrayDeque<>();\n\t\ttmp.addAll(dq);\n\t\twhile (!tmp.isEmpty()) {\n\t\t\tsb.append(tmp.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\treturn sb.toString();\n\n\t}\n\n\tstatic void tr(Object... objects) {\n\t\tSystem.out.println(Arrays.deepToString(objects));\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "// package atcoder.agc.agc011;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\n\npublic class D {\n    public static void main(String[] args) {\n        InputReader in = new InputReader(System.in);\n        PrintWriter out = new PrintWriter(System.out);\n\n        int n = in.nextInt();\n        int k = in.nextInt();\n        s = in.nextToken().toCharArray();\n\n        int[] arr = new int[3*n];\n        for (int i = 0; i < n ; i++) {\n            arr[i] = s[i] == 'A' ? 0 : 1;\n        }\n\n        int head = 0;\n        int flg = 0;\n        int m = Math.min(k, 2*n);\n        for (int i = 0; i < m ; i++) {\n            if ((arr[head] ^ flg) == 0) {\n                arr[head] ^= 1;\n            } else {\n                head++;\n                flg ^= 1;\n                arr[head+n-1] = flg;\n            }\n        }\n\n        k -= m;\n        k %= 2;\n\n        for (int i = head; i < head+n ; i++) {\n            s[i-head] = (arr[i] ^ flg) == 0 ? 'A' : 'B';\n        }\n        if (k >= 1) {\n            doit(0, 1);\n        }\n\n        out.println(String.valueOf(s));\n        out.flush();\n    }\n\n    private static int doit(int i, int dir) {\n        if (i < 0 || i >= s.length) {\n            return dir;\n        }\n        if (s[i] == 'A') {\n            s[i] = 'B';\n            return doit(i-dir, -dir);\n        } else {\n            s[i] = 'A';\n            return doit(i+dir, dir);\n        }\n    }\n\n    static char[] s;\n\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n\n        private int[] nextInts(int n) {\n            int[] ret = new int[n];\n            for (int i = 0; i < n; i++) {\n                ret[i] = nextInt();\n            }\n            return ret;\n        }\n\n        private int[][] nextIntTable(int n, int m) {\n            int[][] ret = new int[n][m];\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < m; j++) {\n                    ret[i][j] = nextInt();\n                }\n            }\n            return ret;\n        }\n\n        private long[] nextLongs(int n) {\n            long[] ret = new long[n];\n            for (int i = 0; i < n; i++) {\n                ret[i] = nextLong();\n            }\n            return ret;\n        }\n\n        private long[][] nextLongTable(int n, int m) {\n            long[][] ret = new long[n][m];\n            for (int i = 0; i < n; i++) {\n                for (int j = 0; j < m; j++) {\n                    ret[i][j] = nextLong();\n                }\n            }\n            return ret;\n        }\n\n        private double[] nextDoubles(int n) {\n            double[] ret = new double[n];\n            for (int i = 0; i < n; i++) {\n                ret[i] = nextDouble();\n            }\n            return ret;\n        }\n\n        private int next() {\n            if (numChars == -1)\n                throw new InputMismatchException();\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0)\n                    return -1;\n            }\n            return buf[curChar++];\n        }\n\n        public char nextChar() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            if ('a' <= c && c <= 'z') {\n                return (char) c;\n            }\n            if ('A' <= c && c <= 'Z') {\n                return (char) c;\n            }\n            throw new InputMismatchException();\n        }\n\n        public String nextToken() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            StringBuilder res = new StringBuilder();\n            do {\n                res.append((char) c);\n                c = next();\n            } while (!isSpaceChar(c));\n            return res.toString();\n        }\n\n        public int nextInt() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = next();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9')\n                    throw new InputMismatchException();\n                res *= 10;\n                res += c-'0';\n                c = next();\n            } while (!isSpaceChar(c));\n            return res*sgn;\n        }\n\n        public long nextLong() {\n            int c = next();\n            while (isSpaceChar(c))\n                c = next();\n            long sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = next();\n            }\n            long res = 0;\n            do {\n                if (c < '0' || c > '9')\n                    throw new InputMismatchException();\n                res *= 10;\n                res += c-'0';\n                c = next();\n            } while (!isSpaceChar(c));\n            return res*sgn;\n        }\n\n        public double nextDouble() {\n            return Double.valueOf(nextToken());\n        }\n\n        public boolean isSpaceChar(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n        }\n    }\n\n    static void debug(Object... o) {\n        System.err.println(Arrays.deepToString(o));\n    }\n}\n"
  },
  {
    "language": "Java",
    "code": "//-----------------------------------------------------------\n// すぐ使える\n//-----------------------------------------------------------\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        \n\n\t\t// 1行、2つ(複数)数字\n\t\tString[] ss0 = br.readLine().trim().split(\" \", 0);\n\t\tlong N = Long.parseLong(ss0[0]);  // 人数　－＞行数\n\t\tlong K = Long.parseLong(ss0[1]);  // 待ち猶予時間\n\n\t\tString s0 = br.readLine();\n\n\n\t\t//ABを01に変換\n\t\tString s = s0.replace('A','0').replace('B','1');\n\t\t\t\tSystem.out.println(s);\n\n\t\t//文字列reverse\n\t\tStringBuilder sb = new StringBuilder(s);\n\t\tsb.reverse();\n\t\ts = sb.toString();\n\t\t\t\tSystem.out.println(s);\n\n\t\t//2進数として扱い、10進数に変換\n\t\tlong l = Long.parseLong(s, 2);\n\t\tSystem.out.println(l);\n\n\t\t//Kを足す\n\t\tl += K;\n\t\tSystem.out.println(l);\n\n\t\t//2進数に戻す\n\t\ts = Long.toBinaryString(l);\n\n\t\t//01をABに変換\n\t\ts = s.replace('0','A').replace('1','B');\n\n\t\t//reverseする\n\t\tsb.delete(0, sb.length());\n\t\tsb.append(s);\n\t\tsb.reverse();\n\t\tsb.append( repeat(\"A\", s0.length() - sb.length()) );\n\t\t\n\t\t//左から文字列を桁数分取る\n\t\ts = sb.substring(0, s0.length());\n\n\t\tSystem.out.println(s);\n        return;\n    }\n    //-----------------------------------------------------------------\n\n\t//-----------------------------------------------------------------\n\t// 入力値確認\n\tstatic void checkInput(long[] i1) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor(long i: i1) sb.append(\"[\" + i + \"]\");\n\t\t\tsb.append(System.getProperty(\"line.separator\"));\n\t\tSystem.out.println(sb);\n\t}\n\n\t//Repeat関数\n\tstatic String repeat(String s, long l) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tfor(long i=0; i<l; i++) sb.append(s);\n\t\treturn sb.toString();\n\t}\n\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.BufferedWriter;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.util.InputMismatchException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n *\n * @author Egor Kulikov (egor@egork.net)\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        OutputWriter out = new OutputWriter(outputStream);\n        TaskD solver = new TaskD();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class TaskD {\n        public void solve(int testNumber, InputReader in, OutputWriter out) {\n            int n = in.readInt();\n            int k = in.readInt();\n            char[] s = IOUtils.readCharArray(in, n);\n            for (int i = 0; i < n; i++) {\n                if (k == 0) {\n                    if (i % 2 == 0) {\n                        out.print(new String(s, i, n));\n                        char cur = 'B';\n                        for (int j = 0; j < i; j++) {\n                            out.print(cur);\n                            cur = (char) ('A' + 'B' - cur);\n                        }\n                        out.printLine();\n                        return;\n                    } else {\n                        for (int j = i; j < n; j++) {\n                            out.print((char) ('A' + 'B' - s[j]));\n                        }\n                        char cur = 'A';\n                        for (int j = 0; j < i; j++) {\n                            out.print(cur);\n                            cur = (char) ('A' + 'B' - cur);\n                        }\n                        out.printLine();\n                        return;\n                    }\n                }\n                if (i % 2 == 0 ^ s[i] == 'B') {\n                    k--;\n                    s[i] = (char) ('A' + 'B' - s[i]);\n                    if (k == 0) {\n                        if (i % 2 == 0) {\n                            out.print(new String(s, i, n));\n                            char cur = 'B';\n                            for (int j = 0; j < i; j++) {\n                                out.print(cur);\n                                cur = (char) ('A' + 'B' - cur);\n                            }\n                            out.printLine();\n                            return;\n                        } else {\n                            for (int j = i; j < n; j++) {\n                                out.print((char) ('A' + 'B' - s[j]));\n                            }\n                            char cur = 'A';\n                            for (int j = 0; j < i; j++) {\n                                out.print(cur);\n                                cur = (char) ('A' + 'B' - cur);\n                            }\n                            out.printLine();\n                            return;\n                        }\n                    }\n                }\n                k--;\n            }\n            if (n % 2 == 0) {\n                char cur = 'B';\n                for (int j = 0; j < n; j++) {\n                    out.print(cur);\n                    cur = (char) ('A' + 'B' - cur);\n                }\n                out.printLine();\n                return;\n            }\n            if (k % 2 == 0) {\n                char cur = 'A';\n                for (int j = 0; j < n; j++) {\n                    out.print(cur);\n                    cur = (char) ('A' + 'B' - cur);\n                }\n                out.printLine();\n                return;\n            }\n            out.print('B');\n            char cur = 'B';\n            for (int j = 1; j < n; j++) {\n                out.print(cur);\n                cur = (char) ('A' + 'B' - cur);\n            }\n            out.printLine();\n        }\n\n    }\n\n    static class IOUtils {\n        public static char[] readCharArray(InputReader in, int size) {\n            char[] array = new char[size];\n            for (int i = 0; i < size; i++) {\n                array[i] = in.readCharacter();\n            }\n            return array;\n        }\n\n    }\n\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n        private InputReader.SpaceCharFilter filter;\n\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n\n        public int read() {\n            if (numChars == -1) {\n                throw new InputMismatchException();\n            }\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0) {\n                    return -1;\n                }\n            }\n            return buf[curChar++];\n        }\n\n        public int readInt() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = read();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9') {\n                    throw new InputMismatchException();\n                }\n                res *= 10;\n                res += c - '0';\n                c = read();\n            } while (!isSpaceChar(c));\n            return res * sgn;\n        }\n\n        public boolean isSpaceChar(int c) {\n            if (filter != null) {\n                return filter.isSpaceChar(c);\n            }\n            return isWhitespace(c);\n        }\n\n        public static boolean isWhitespace(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n\n        public char readCharacter() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            return (char) c;\n        }\n\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n\n        }\n\n    }\n\n    static class OutputWriter {\n        private final PrintWriter writer;\n\n        public OutputWriter(OutputStream outputStream) {\n            writer = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n        }\n\n        public OutputWriter(Writer writer) {\n            this.writer = new PrintWriter(writer);\n        }\n\n        public void print(Object... objects) {\n            for (int i = 0; i < objects.length; i++) {\n                if (i != 0) {\n                    writer.print(' ');\n                }\n                writer.print(objects[i]);\n            }\n        }\n\n        public void printLine() {\n            writer.println();\n        }\n\n        public void print(char i) {\n            writer.print(i);\n        }\n\n        public void close() {\n            writer.close();\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.Arrays;\nimport java.io.IOException;\nimport java.io.Serializable;\nimport java.io.UncheckedIOException;\nimport java.io.Closeable;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n */\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        Thread thread = new Thread(null, new TaskAdapter(), \"\", 1 << 29);\n        thread.start();\n        thread.join();\n    }\n\n    static class TaskAdapter implements Runnable {\n        @Override\n        public void run() {\n            InputStream inputStream = System.in;\n            OutputStream outputStream = System.out;\n            FastInput in = new FastInput(inputStream);\n            FastOutput out = new FastOutput(outputStream);\n            DHalfReflector solver = new DHalfReflector();\n            solver.solve(1, in, out);\n            out.close();\n        }\n    }\n\n    static class DHalfReflector {\n        int shift = 0;\n        BitSet tmp;\n\n        public void solve(int testNumber, FastInput in, FastOutput out) {\n            int n = in.readInt();\n            int k = in.readInt();\n            BitSet bs = new BitSet(n);\n            for (int i = 0; i < n; i++) {\n                bs.set(i, 'B' - in.readChar() == 1);\n            }\n\n            tmp = new BitSet(n);\n            int now = 0;\n            while (now < k && shift <= n) {\n                now++;\n                next(bs);\n            }\n\n            if (now == k) {\n                output(bs, out);\n                return;\n            }\n\n            k -= now;\n            if (k % 2 == 1) {\n                next(bs);\n            }\n\n            output(bs, out);\n        }\n\n        public void output(BitSet bs, FastOutput out) {\n            for (int i = 0; i < bs.capacity(); i++) {\n                out.append(bs.get(i) ? 'A' : 'B');\n            }\n        }\n\n        public void next(BitSet bs) {\n            if (bs.get(0)) {\n                bs.clear(0);\n                return;\n            }\n            shift++;\n            tmp.copy(bs);\n            tmp.leftShift(1);\n            bs.fill(true);\n            bs.xor(tmp);\n            bs.set(bs.capacity() - 1);\n        }\n\n    }\n\n    static class FastOutput implements AutoCloseable, Closeable, Appendable {\n        private StringBuilder cache = new StringBuilder(10 << 20);\n        private final Writer os;\n\n        public FastOutput append(CharSequence csq) {\n            cache.append(csq);\n            return this;\n        }\n\n        public FastOutput append(CharSequence csq, int start, int end) {\n            cache.append(csq, start, end);\n            return this;\n        }\n\n        public FastOutput(Writer os) {\n            this.os = os;\n        }\n\n        public FastOutput(OutputStream os) {\n            this(new OutputStreamWriter(os));\n        }\n\n        public FastOutput append(char c) {\n            cache.append(c);\n            return this;\n        }\n\n        public FastOutput flush() {\n            try {\n                os.append(cache);\n                os.flush();\n                cache.setLength(0);\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n            return this;\n        }\n\n        public void close() {\n            flush();\n            try {\n                os.close();\n            } catch (IOException e) {\n                throw new UncheckedIOException(e);\n            }\n        }\n\n        public String toString() {\n            return cache.toString();\n        }\n\n    }\n\n    static final class BitSet implements Serializable, Cloneable {\n        private long[] data;\n        private long tailAvailable;\n        private int capacity;\n        private int m;\n        private static final int SHIFT = 6;\n        private static final int LOW = 63;\n        private static final int BITS_FOR_EACH = 64;\n        private static final long ALL_ONE = ~0L;\n        private static final long ALL_ZERO = 0L;\n        private static final int MAX_OFFSET = 63;\n        private static long[] EMPTY_ARRAY = new long[0];\n\n        public BitSet(int n) {\n            capacity = n;\n            this.m = (capacity + 64 - 1) / 64;\n            data = new long[m];\n            tailAvailable = oneBetween(0, offset(capacity - 1));\n        }\n\n        public BitSet(BitSet bs) {\n            this.data = bs.data.clone();\n            this.tailAvailable = bs.tailAvailable;\n            this.capacity = bs.capacity;\n            this.m = bs.m;\n        }\n\n        private BitSet(BitSet bs, int l, int r) {\n            this.data = EMPTY_ARRAY;\n            copyInterval(bs, l, r);\n        }\n\n        public void copyInterval(BitSet bs, int l, int r) {\n            capacity = r - l + 1;\n            tailAvailable = oneBetween(0, offset(capacity - 1));\n            int reqLength = word(r) - word(l) + 1;\n            if (data.length >= word(r) - word(l) + 1) {\n                System.arraycopy(bs.data, word(l), data, 0, reqLength);\n            } else {\n                data = Arrays.copyOfRange(bs.data, word(l), word(r) + 1);\n            }\n            this.m = reqLength;\n            leftShift(offset(l));\n            this.m = (capacity + 64 - 1) / 64;\n            data[m - 1] &= tailAvailable;\n            for (int i = m; i < reqLength; i++) {\n                data[i] = 0;\n            }\n        }\n\n        public boolean get(int i) {\n            return (data[word(i)] & (1L << offset(i))) != 0;\n        }\n\n        public void set(int i) {\n            data[word(i)] |= (1L << offset(i));\n        }\n\n        public void set(int i, boolean val) {\n            if (val) {\n                set(i);\n            } else {\n                clear(i);\n            }\n        }\n\n        private static int word(int i) {\n            return i >>> SHIFT;\n        }\n\n        private static int offset(int i) {\n            return i & LOW;\n        }\n\n        private long oneBetween(int l, int r) {\n            if (r < l) {\n                return 0;\n            }\n            long lBegin = 1L << offset(l);\n            long rEnd = 1L << offset(r);\n            return (ALL_ONE ^ (lBegin - 1)) & ((rEnd << 1) - 1);\n        }\n\n        public void fill(boolean val) {\n            if (val) {\n                set(0, capacity() - 1);\n            } else {\n                clear(0, capacity() - 1);\n            }\n        }\n\n        public void set(int l, int r) {\n            if (r < l) {\n                return;\n            }\n            int lWord = l >>> SHIFT;\n            int rWord = r >>> SHIFT;\n            for (int i = lWord + 1; i < rWord; i++) {\n                data[i] = ALL_ONE;\n            }\n            //lword\n            if (lWord == rWord) {\n                data[lWord] |= oneBetween(offset(l), offset(r));\n            } else {\n                data[lWord] |= oneBetween(offset(l), MAX_OFFSET);\n                data[rWord] |= oneBetween(0, offset(r));\n            }\n        }\n\n        public void clear(int i) {\n            data[word(i)] &= ~(1L << offset(i));\n        }\n\n        public void clear(int l, int r) {\n            if (r < l) {\n                return;\n            }\n            int lWord = l >>> SHIFT;\n            int rWord = r >>> SHIFT;\n            for (int i = lWord + 1; i < rWord; i++) {\n                data[i] = ALL_ZERO;\n            }\n            //lword\n            if (lWord == rWord) {\n                data[lWord] &= ~oneBetween(offset(l), offset(r));\n            } else {\n                data[lWord] &= ~oneBetween(offset(l), MAX_OFFSET);\n                data[rWord] &= ~oneBetween(0, offset(r));\n            }\n        }\n\n        public int capacity() {\n            return capacity;\n        }\n\n        public void copy(BitSet bs) {\n            int n = Math.min(this.m, bs.m);\n            System.arraycopy(bs.data, 0, data, 0, n);\n            Arrays.fill(data, n, n, 0);\n        }\n\n        public void xor(BitSet bs) {\n            int n = Math.min(this.m, bs.m);\n            for (int i = 0; i < n; i++) {\n                data[i] ^= bs.data[i];\n            }\n        }\n\n        public int nextSetBit(int start) {\n            int offset = offset(start);\n            int w = word(start);\n            if (offset != 0) {\n                long mask = oneBetween(offset, MAX_OFFSET);\n                if ((data[w] & mask) != 0) {\n                    return Long.numberOfTrailingZeros(data[w] & mask) + w * BITS_FOR_EACH;\n                }\n                w++;\n            }\n\n            while (w < m && data[w] == ALL_ZERO) {\n                w++;\n            }\n            if (w >= m) {\n                return capacity();\n            }\n            return Long.numberOfTrailingZeros(data[w]) + w * BITS_FOR_EACH;\n        }\n\n        public void leftShift(int n) {\n            int wordMove = word(n);\n            int offsetMove = offset(n);\n            int rshift = MAX_OFFSET - (offsetMove - 1);\n\n            if (offsetMove != 0) {\n                //slightly\n                for (int i = 0; i < m; i++) {\n                    if (i > 0) {\n                        data[i - 1] |= data[i] << rshift;\n                    }\n                    data[i] >>>= offsetMove;\n                }\n            }\n            if (wordMove > 0) {\n                for (int i = 0; i < m; i++) {\n                    if (i >= wordMove) {\n                        data[i - wordMove] = data[i];\n                    }\n                    data[i] = 0;\n                }\n            }\n        }\n\n        public BitSet clone() {\n            return new BitSet(this);\n        }\n\n        public String toString() {\n            StringBuilder builder = new StringBuilder(\"{\");\n            for (int i = nextSetBit(0); i < capacity(); i = nextSetBit(i + 1)) {\n                builder.append(i).append(',');\n            }\n            if (builder.length() > 1) {\n                builder.setLength(builder.length() - 1);\n            }\n            builder.append(\"}\");\n            return builder.toString();\n        }\n\n        public int hashCode() {\n            int ans = 1;\n            for (int i = 0; i < m; i++) {\n                ans = ans * 31 + Long.hashCode(data[i]);\n            }\n            return ans;\n        }\n\n        public boolean equals(Object obj) {\n            if (!(obj instanceof BitSet)) {\n                return false;\n            }\n            BitSet other = (BitSet) obj;\n            if (other.capacity != capacity) {\n                return false;\n            }\n            for (int i = 0; i < m; i++) {\n                if (other.data[i] != data[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n    }\n\n    static class FastInput {\n        private final InputStream is;\n        private byte[] buf = new byte[1 << 13];\n        private int bufLen;\n        private int bufOffset;\n        private int next;\n\n        public FastInput(InputStream is) {\n            this.is = is;\n        }\n\n        private int read() {\n            while (bufLen == bufOffset) {\n                bufOffset = 0;\n                try {\n                    bufLen = is.read(buf);\n                } catch (IOException e) {\n                    bufLen = -1;\n                }\n                if (bufLen == -1) {\n                    return -1;\n                }\n            }\n            return buf[bufOffset++];\n        }\n\n        public void skipBlank() {\n            while (next >= 0 && next <= 32) {\n                next = read();\n            }\n        }\n\n        public int readInt() {\n            int sign = 1;\n\n            skipBlank();\n            if (next == '+' || next == '-') {\n                sign = next == '+' ? 1 : -1;\n                next = read();\n            }\n\n            int val = 0;\n            if (sign == 1) {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 + next - '0';\n                    next = read();\n                }\n            } else {\n                while (next >= '0' && next <= '9') {\n                    val = val * 10 - next + '0';\n                    next = read();\n                }\n            }\n\n            return val;\n        }\n\n        public char readChar() {\n            skipBlank();\n            char c = (char) next;\n            next = read();\n            return c;\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.FileNotFoundException;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint N = sc.nextInt();\n\t\tlong K = sc.nextLong();\n\t\tString s = sc.next();\n\t\tArrayDeque<Integer> dq = new ArrayDeque<>();\n\t\tfor (int i = 0; i < s.length(); ++i) {\n\t\t\tdq.add(s.charAt(i) == 'A' ? 1 : -1);\n\t\t}\n\t\tint cur = 1;\n\t\tlong res = 0;\n\t\tHashMap<String, Integer> map = new HashMap<>();\n\t\tHashMap<Integer, String> map2 = new HashMap<>();\n\t\tint id = 0;\n\t\tfor (long i = 0; i < K; ++i) {\n\t\t\tint v = dq.pollFirst();\n\t\t\tif (v * cur == 1) {\n\t\t\t\tdq.addFirst(cur * (-1));\n\t\t\t} else {\n\t\t\t\tcur *= -1;\n\t\t\t\tdq.addLast(cur);\n\t\t\t}\n\t\t\tif (i > 3 * N) {\n\t\t\t\tres = K - i - 1;\n\t\t\t\tString str = getans(dq, cur);\n\t\t\t\tif (map.containsKey(str)) {\n\t\t\t\t\tint ansid = (int) res % id;\n\t\t\t\t\tString ans = map2.get(ansid);\n\t\t\t\t\tSystem.out.println(ans);\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(str, id);\n\t\t\t\t\tmap2.put(id, str);\n\t\t\t\t\t++id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!dq.isEmpty()) {\n\t\t\tsb.append(dq.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n\n\tString getans(ArrayDeque<Integer> dq, int cur) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tArrayDeque<Integer> tmp = new ArrayDeque<>();\n\t\ttmp.addAll(dq);\n\t\twhile (!tmp.isEmpty()) {\n\t\t\tsb.append(tmp.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\treturn sb.toString();\n\n\t}\n\n\tstatic void tr(Object... objects) {\n\t\tSystem.out.println(Arrays.deepToString(objects));\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main {\n\tpublic static void main(String[] args){\n\t\tScanner as = new Scanner(System.in);\n\t\tint n = as.nextInt();\n\t\tint k = as.nextInt();\n\t\tString a = as.next();\n\t\tint[] b;\n\t\tb = new int[n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(String.valueOf(a.charAt(i)).equals(\"A\")){\n\t\t\t\tb[i] = 1;\n\t\t\t}else{\n\t\t\t\tb[i] = 0;\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<k;i++){\n\t\t\tif(b[0]==1){\n\t\t\t\tb[0]=0;\n\t\t\t}else{\n\t\t\t\tfor(int s=0;s<n-1;s++){\n\t\t\t\t\tif(b[s]==0&&b[s+1]==1){\n\t\t\t\t\t}else if(b[s]==1&&b[s+1]==1){\n\t\t\t\t\t\tb[s]=0;\n\t\t\t\t\t}else if(b[s]==0&&b[s+1]==0){\n\t\t\t\t\t\tb[s]=b[s+1]=1;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb[s+1]=1;\n\t\t\t\t\t}\n\t\t\t\t}b[n-1]=1;\n\t\t\t}\n\t\t}\n\t\tString l = \"\";\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(b[i]==1){\n\t\t\t\tl+=\"A\";\n\t\t\t}else{\n\t\t\t\tl+=\"B\";\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(l);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.BitSet;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\n  private int N;\n\n  private void shot(BitSet S) {\n    int cur = 0;\n    boolean right = true;\n    while (0 <= cur && cur < N) {\n      if (S.get(cur)) {\n        S.set(cur, false);\n        if (right) {\n          cur--;\n        } else {\n          cur++;\n        }\n        right = !right;\n      } else {\n        S.set(cur, true);\n        if (right) {\n          cur++;\n        } else {\n          cur--;\n        }\n      }\n    }\n  }\n\n  private boolean isStripe(BitSet S) {\n    boolean C = S.get(0);\n    for (int i = 0; i < N; i++) {\n      if ((i & 1) == 0 && S.get(i) != C) {\n        return false;\n      } else if ((i & 1) == 1 && S.get(i) == C) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private void solve(FastScanner in, PrintWriter out) {\n    N = in.nextInt();\n    int K = in.nextInt();\n    String s = in.next();\n    BitSet S = new BitSet(N);\n    for (int i = 0; i < N; i++) {\n      S.set(i, s.charAt(i) == 'A');\n    }\n\n    int prev = -1;\n    for (int k = 1; k <= K; k++) {\n      shot(S);\n\n      if (isStripe(S)) {\n        if (prev < 0) {\n          prev = k;\n        } else {\n          int cycle = k - prev;\n          K -= k;\n          K %= cycle;\n          for (int i = 0; i < K; i++) {\n            shot(S);\n          }\n          char[] o = new char[N];\n          for (int i = 0; i < N; i++) {\n            if (S.get(i)) {\n              o[i] = 'A';\n            } else {\n              o[i] = 'B';\n            }\n          }\n          out.println(new String(o));\n          return;\n        }\n      }\n    }\n    char[] o = new char[N];\n    for (int i = 0; i < N; i++) {\n      if (S.get(i)) {\n        o[i] = 'A';\n      } else {\n        o[i] = 'B';\n      }\n    }\n    out.println(new String(o));\n  }\n\n  public static void main(String[] args) {\n    PrintWriter out = new PrintWriter(System.out);\n    new Main().solve(new FastScanner(), out);\n    out.close();\n  }\n\n  private static class FastScanner {\n\n    private final InputStream in = System.in;\n    private final byte[] buffer = new byte[1024];\n    private int ptr = 0;\n    private int bufferLength = 0;\n\n    private boolean hasNextByte() {\n      if (ptr < bufferLength) {\n        return true;\n      } else {\n        ptr = 0;\n        try {\n          bufferLength = in.read(buffer);\n        } catch (IOException e) {\n          e.printStackTrace();\n        }\n        if (bufferLength <= 0) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    private int readByte() {\n      if (hasNextByte()) {\n        return buffer[ptr++];\n      } else {\n        return -1;\n      }\n    }\n\n    private static boolean isPrintableChar(int c) {\n      return 33 <= c && c <= 126;\n    }\n\n    private void skipUnprintable() {\n      while (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n        ptr++;\n      }\n    }\n\n    boolean hasNext() {\n      skipUnprintable();\n      return hasNextByte();\n    }\n\n    public String next() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      StringBuilder sb = new StringBuilder();\n      int b = readByte();\n      while (isPrintableChar(b)) {\n        sb.appendCodePoint(b);\n        b = readByte();\n      }\n      return sb.toString();\n    }\n\n    long nextLong() {\n      if (!hasNext()) {\n        throw new NoSuchElementException();\n      }\n      long n = 0;\n      boolean minus = false;\n      int b = readByte();\n      if (b == '-') {\n        minus = true;\n        b = readByte();\n      }\n      if (b < '0' || '9' < b) {\n        throw new NumberFormatException();\n      }\n      while (true) {\n        if ('0' <= b && b <= '9') {\n          n *= 10;\n          n += b - '0';\n        } else if (b == -1 || !isPrintableChar(b)) {\n          return minus ? -n : n;\n        } else {\n          throw new NumberFormatException();\n        }\n        b = readByte();\n      }\n    }\n\n    double nextDouble() {\n      return Double.parseDouble(next());\n    }\n\n    double[] nextDoubleArray(int n) {\n      double[] array = new double[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextDouble();\n      }\n      return array;\n    }\n\n    double[][] nextDoubleMap(int n, int m) {\n      double[][] map = new double[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextDoubleArray(m);\n      }\n      return map;\n    }\n\n    public int nextInt() {\n      return (int) nextLong();\n    }\n\n    public int[] nextIntArray(int n) {\n      int[] array = new int[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextInt();\n      }\n      return array;\n    }\n\n    public long[] nextLongArray(int n) {\n      long[] array = new long[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = nextLong();\n      }\n      return array;\n    }\n\n    public String[] nextStringArray(int n) {\n      String[] array = new String[n];\n      for (int i = 0; i < n; i++) {\n        array[i] = next();\n      }\n      return array;\n    }\n\n    public char[][] nextCharMap(int n) {\n      char[][] array = new char[n][];\n      for (int i = 0; i < n; i++) {\n        array[i] = next().toCharArray();\n      }\n      return array;\n    }\n\n    public int[][] nextIntMap(int n, int m) {\n      int[][] map = new int[n][];\n      for (int i = 0; i < n; i++) {\n        map[i] = nextIntArray(m);\n      }\n      return map;\n    }\n  }\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.FileNotFoundException;\nimport java.util.ArrayDeque;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\t\tnew Main().run();\n\t}\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint N = sc.nextInt();\n\t\tlong K = sc.nextLong();\n\t\tString s = sc.next();\n\t\tArrayDeque<Integer> dq = new ArrayDeque<>();\n\t\tfor (int i = 0; i < s.length(); ++i) {\n\t\t\tdq.add(s.charAt(i) == 'A' ? 1 : -1);\n\t\t}\n\t\tint cur = 1;\n\t\tlong res = 0;\n\t\tHashMap<String, Integer> map = new HashMap<>();\n\t\tHashMap<Integer, String> map2 = new HashMap<>();\n\t\tint id = 0;\n\t\tfor (long i = 0; i < K; ++i) {\n\t\t\tint v = dq.pollFirst();\n\t\t\tif (v * cur == 1) {\n\t\t\t\tdq.addFirst(cur * (-1));\n\t\t\t} else {\n\t\t\t\tcur *= -1;\n\t\t\t\tdq.addLast(cur);\n\t\t\t}\n\t\t\tif (i > 2 * N) {\n\t\t\t\tres = K - i - 1;\n\t\t\t\tString str = getans(dq, cur);\n\t\t\t\tif (map.containsKey(str)) {\n\t\t\t\t\tint ansid = (int) res % id;\n\t\t\t\t\tString ans = map2.get(ansid);\n\t\t\t\t\tSystem.out.println(ans);\n\t\t\t\t} else {\n\t\t\t\t\tmap.put(str, id);\n\t\t\t\t\tmap2.put(id, str);\n\t\t\t\t\t++id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tStringBuilder sb = new StringBuilder();\n\t\twhile (!dq.isEmpty()) {\n\t\t\tsb.append(dq.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\tSystem.out.println(sb);\n\t}\n\n\tString getans(ArrayDeque<Integer> dq, int cur) {\n\t\tStringBuilder sb = new StringBuilder();\n\t\tArrayDeque<Integer> tmp = new ArrayDeque<>();\n\t\ttmp.addAll(dq);\n\t\twhile (!tmp.isEmpty()) {\n\t\t\tsb.append(tmp.pollFirst() * cur == 1 ? 'A' : 'B');\n\t\t}\n\t\treturn sb.toString();\n\n\t}\n\n\tstatic void tr(Object... objects) {\n\t\tSystem.out.println(Arrays.deepToString(objects));\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\npublic class Main {\n\tpublic static void main(String[] args){\n\t\tScanner as = new Scanner(System.in);\n\t\tint n = as.nextInt();\n\t\tint k = as.nextInt();\n\t\tString a = as.next();\n\t\tint[] b;\n\t\tb = new int[n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(String.valueOf(a.charAt(i)).equals(\"A\")){\n\t\t\t\tb[i] = 1;\n\t\t\t}else{\n\t\t\t\tb[i] = -1;\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<k;i++){\n\t\t\tif(b[0]==1){\n\t\t\t\tb[0]*=-1;\n\t\t\t}else{\n\t\t\t\tfor(int s=0;s<n-2;s++){\n\t\t\t\t\tb[s]=b[s+1]*-1;\n\t\t\t\t}b[n-1]=1;\n\t\t\t}\n\t\t}\n\t\tString l = \"\";\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(b[i]==1){\n\t\t\t\tl+=\"A\";\n\t\t\t}else{\n\t\t\t\tl+=\"B\";\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(l);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.PrintWriter;\nimport java.util.*;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tPrintWriter pw = new PrintWriter(System.out);\n\t\tint N = sc.nextInt();\n\t\tint K = sc.nextInt();\n\t\tchar[] S = sc.next().toCharArray();\n\n\t\tboolean[] a = new boolean[N];\n\t\tfor(int i=0; i<N; i++)\n\t\t\ta[i] = S[i]=='A';\n\t\tboolean flip = false;\n\t\tint idx = 0;\n\t\t\n\t\tint T = Math.min(2*N, K);\n\t\tfor(int i=0; i<T; i++) {\n\t\t\tif(a[idx]^flip) {\n\t\t\t\ta[idx] = false^flip;\n\t\t\t} else {\n\t\t\t\tflip ^= true;\n\t\t\t\ta[idx] = true^flip;\n\t\t\t\tidx = (idx+1)%N;\n\t\t\t}\n\t\t}\n\t\tif(T<K && N%2==1)\n\t\t\ta[idx] ^= (K-T)%2==1;\n\t\t\n\t\tfor(int i=0; i<N; i++)\n\t\t\tpw.print(a[(i+idx)%N] ^ flip ? 'A' : 'B');\n\t\tpw.println();\n\t\t\n\t\t\n\t\tsc.close();\n\t\tpw.close();\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tlong N = Long.parseLong(scan.next());\n\t\tlong K = Long.parseLong(scan.next());\n\t\tLinkedList<Character> str = new LinkedList<>();\n\t\twhile(scan.hasNext()) {\n\t\t\tstr.add((char)scan.nextByte());\n\t\t}\n\t\tfor(int i= 0; i < K; i++) {\n\t\t\tif (str.getFirst() == 'a') {\n\t\t\t\tstr.removeFirst();\n\t\t\t\tstr.addFirst('b');\n\t\t\t}\n\t\t\tfor(int j = 0; j < N; j++) {\n\t\t\t\tstr.removeFirst();\n\t\t\t\tstr.addLast('a');\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(String.valueOf(str));\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException; \nimport java.io.InputStream; \nimport java.io.PrintWriter; \nimport java.lang.StringBuilder;\nimport java.util.Arrays;\n\nclass Main{ \n\n\tstatic void solve(){ \n\t\tint n = ni(), k=ni();\n\t\tchar[] sarr =ns().toCharArray();\n\t\tStringBuilder BA = new StringBuilder();\n\t\tfor(int i=0;i<=n/2;++i)BA.append(\"BA\");\n\t\tStringBuilder  ans = new StringBuilder();\n\t\tif(sarr[0]=='A'){\n\t\t\t--k;sarr[0]='B';\n\t\t}\n\t\tString s = String.valueOf(sarr);\n\t\tif(k%2==1){\n\t\t\tfor(int i=0;i<sarr.length;++i){\n\t\t\t\tif(sarr[i]=='B')sarr[i]='A';\n\t\t\t\telse sarr[i]='B';\n\t\t\t}\n\t\t\t s = String.valueOf(sarr);\n\t\t}\n\t\tans.append(s.substring(Math.min(n,k), n)).append(BA.substring(BA.length()-Math.min(n,k) , BA.length()));\n\t\tout.println(ans.toString());\n\t}\n \n \n \n \n\tpublic static void main(String[] args){ \n\t\t solve(); \n\t\t out.flush(); \n\t } \n\t private static InputStream in = System.in; \n\t private static PrintWriter out = new PrintWriter(System.out); \n \n\t private static final byte[] buffer = new byte[1<<15]; \n\t private static int ptr = 0; \n\t private static int buflen = 0; \n\t private static boolean hasNextByte(){ \n\t\t if(ptr<buflen)return true; \n\t\t ptr = 0; \n\t\t try{ \n\t\t\t buflen = in.read(buffer); \n\t\t } catch (IOException e){ \n\t\t\t e.printStackTrace(); \n\t\t } \n\t\t return buflen>0; \n\t } \n\t private static int readByte(){ if(hasNextByte()) return buffer[ptr++]; else return -1;} \n\t private static boolean isSpaceChar(int c){ return !(33<=c && c<=126);} \n\t private static int skip(){int res; while((res=readByte())!=-1 && isSpaceChar(res)); return res;} \n \n\t private static double nd(){ return Double.parseDouble(ns()); } \n\t private static char nc(){ return (char)skip(); } \n\t private static String ns(){ \n\t\t StringBuilder sb = new StringBuilder(); \n\t\t for(int b=skip();!isSpaceChar(b);b=readByte())sb.append((char)b); \n\t\t return sb.toString(); \n\t } \n\t private static int[] nia(int n){ \n\t\t int[] res = new int[n]; \n\t\t for(int i=0;i<n;++i)res[i]=ni(); \n\t\t return res; \n\t } \n\t private static long[] nla(int n){ \n\t\t long[] res = new long[n]; \n\t\t for(int i=0;i<n;++i)res[i]=nl(); \n\t\t return res; \n\t } \n\t private static int ni(){ \n\t\t int res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t } \n\t private static long nl(){ \n\t\t long res=0,b; \n\t\t boolean minus=false; \n\t\t while((b=readByte())!=-1 && !((b>='0'&&b<='9') || b=='-')); \n\t\t if(b=='-'){ \n\t\t\t minus=true; \n\t\t\t b=readByte(); \n\t\t } \n\t\t for(;'0'<=b&&b<='9';b=readByte())res=res*10+(b-'0'); \n\t\t return minus ? -res:res; \n\t} \n} \n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.OutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.io.BufferedWriter;\nimport java.io.Writer;\nimport java.io.OutputStreamWriter;\nimport java.util.InputMismatchException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Built using CHelper plug-in\n * Actual solution is at the top\n *\n * @author Egor Kulikov (egor@egork.net)\n */\npublic class Main {\n    public static void main(String[] args) {\n        InputStream inputStream = System.in;\n        OutputStream outputStream = System.out;\n        InputReader in = new InputReader(inputStream);\n        OutputWriter out = new OutputWriter(outputStream);\n        TaskD solver = new TaskD();\n        solver.solve(1, in, out);\n        out.close();\n    }\n\n    static class TaskD {\n        public void solve(int testNumber, InputReader in, OutputWriter out) {\n            try {\n                int n = in.readInt();\n                int k = in.readInt();\n                char[] s = IOUtils.readCharArray(in, n);\n                for (int i = 0; i < n; i++) {\n                    if (k == 0) {\n                        if (i % 2 == 0) {\n                            out.print(new String(s, i, n));\n                            char cur = 'B';\n                            for (int j = 0; j < i; j++) {\n                                out.print(cur);\n                                cur = (char) ('A' + 'B' - cur);\n                            }\n                            out.printLine();\n                            return;\n                        } else {\n                            for (int j = i; j < n; j++) {\n                                out.print((char) ('A' + 'B' - s[j]));\n                            }\n                            char cur = 'A';\n                            for (int j = 0; j < i; j++) {\n                                out.print(cur);\n                                cur = (char) ('A' + 'B' - cur);\n                            }\n                            out.printLine();\n                            return;\n                        }\n                    }\n                    if (i % 2 == 0 ^ s[i] == 'B') {\n                        k--;\n                        s[i] = (char) ('A' + 'B' - s[i]);\n                        if (k == 0) {\n                            if (i % 2 == 0) {\n                                out.print(new String(s, i, n));\n                                char cur = 'B';\n                                for (int j = 0; j < i; j++) {\n                                    out.print(cur);\n                                    cur = (char) ('A' + 'B' - cur);\n                                }\n                                out.printLine();\n                                return;\n                            } else {\n                                for (int j = i; j < n; j++) {\n                                    out.print((char) ('A' + 'B' - s[j]));\n                                }\n                                char cur = 'A';\n                                for (int j = 0; j < i; j++) {\n                                    out.print(cur);\n                                    cur = (char) ('A' + 'B' - cur);\n                                }\n                                out.printLine();\n                                return;\n                            }\n                        }\n                    }\n                    k--;\n                }\n                if (n % 2 == 0) {\n                    char cur = 'B';\n                    for (int j = 0; j < n; j++) {\n                        out.print(cur);\n                        cur = (char) ('A' + 'B' - cur);\n                    }\n                    out.printLine();\n                    return;\n                }\n                if (k % 2 == 0) {\n                    char cur = 'A';\n                    for (int j = 0; j < n; j++) {\n                        out.print(cur);\n                        cur = (char) ('A' + 'B' - cur);\n                    }\n                    out.printLine();\n                    return;\n                }\n                out.print('B');\n                char cur = 'B';\n                for (int j = 1; j < n; j++) {\n                    out.print(cur);\n                    cur = (char) ('A' + 'B' - cur);\n                }\n                out.printLine();\n            } catch (InputMismatchException e) {\n            } catch (IndexOutOfBoundsException e) {\n                while (true) {\n                    ;\n                }\n            }\n        }\n\n    }\n\n    static class IOUtils {\n        public static char[] readCharArray(InputReader in, int size) {\n            char[] array = new char[size];\n            for (int i = 0; i < size; i++) {\n                array[i] = in.readCharacter();\n            }\n            return array;\n        }\n\n    }\n\n    static class InputReader {\n        private InputStream stream;\n        private byte[] buf = new byte[1024];\n        private int curChar;\n        private int numChars;\n        private InputReader.SpaceCharFilter filter;\n\n        public InputReader(InputStream stream) {\n            this.stream = stream;\n        }\n\n        public int read() {\n            if (numChars == -1) {\n                throw new InputMismatchException();\n            }\n            if (curChar >= numChars) {\n                curChar = 0;\n                try {\n                    numChars = stream.read(buf);\n                } catch (IOException e) {\n                    throw new InputMismatchException();\n                }\n                if (numChars <= 0) {\n                    return -1;\n                }\n            }\n            return buf[curChar++];\n        }\n\n        public int readInt() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            int sgn = 1;\n            if (c == '-') {\n                sgn = -1;\n                c = read();\n            }\n            int res = 0;\n            do {\n                if (c < '0' || c > '9') {\n                    throw new InputMismatchException();\n                }\n                res *= 10;\n                res += c - '0';\n                c = read();\n            } while (!isSpaceChar(c));\n            return res * sgn;\n        }\n\n        public boolean isSpaceChar(int c) {\n            if (filter != null) {\n                return filter.isSpaceChar(c);\n            }\n            return isWhitespace(c);\n        }\n\n        public static boolean isWhitespace(int c) {\n            return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n        }\n\n        public char readCharacter() {\n            int c = read();\n            while (isSpaceChar(c)) {\n                c = read();\n            }\n            return (char) c;\n        }\n\n        public interface SpaceCharFilter {\n            public boolean isSpaceChar(int ch);\n\n        }\n\n    }\n\n    static class OutputWriter {\n        private final PrintWriter writer;\n\n        public OutputWriter(OutputStream outputStream) {\n            writer = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));\n        }\n\n        public OutputWriter(Writer writer) {\n            this.writer = new PrintWriter(writer);\n        }\n\n        public void print(Object... objects) {\n            for (int i = 0; i < objects.length; i++) {\n                if (i != 0) {\n                    writer.print(' ');\n                }\n                writer.print(objects[i]);\n            }\n        }\n\n        public void printLine() {\n            writer.println();\n        }\n\n        public void print(char i) {\n            writer.print(i);\n        }\n\n        public void close() {\n            writer.close();\n        }\n\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\nusing Debug = System.Diagnostics.Debug;\nusing StringBuilder = System.Text.StringBuilder;\nusing Number = System.Int64;\nnamespace Program\n{\n    public class Solver\n    {\n\n        public void Solve()\n        {\n            var n = sc.Integer();\n            var k = sc.Integer();\n            var deq = new Deque<int>();\n            for (int i = 0; i < n; i++)\n                deq.PushBack(sc.Char() - 'A');\n            var flip = 0;\n            k = Math.Min(k, 2 * n + (k % (4 * n)));\n            for (int T = 0; T < k; T++)\n            {\n                var x = deq[0] ^ flip;\n                if (x == 0)\n                    deq[0] ^= 1;\n                else\n                {\n                    deq.PopFront();\n                    flip ^= 1;\n                    deq.PushBack(flip);\n                }\n            }\n            var c = new char[n];\n            for (int i = 0; i < n; i++)\n                c[i] = (char)((deq[i] ^ flip) + 'A');\n            IO.Printer.Out.WriteLine(c.AsString());\n\n        }\n\n        public IO.StreamScanner sc = new IO.StreamScanner(Console.OpenStandardInput());\n        static T[] Enumerate<T>(int n, Func<int, T> f) { var a = new T[n]; for (int i = 0; i < n; ++i) a[i] = f(i); return a; }\n        static public void Swap<T>(ref T a, ref T b) { var tmp = a; a = b; b = tmp; }\n    }\n}\n\n#region main\nstatic class Ex\n{\n    static public string AsString(this IEnumerable<char> ie) { return new string(System.Linq.Enumerable.ToArray(ie)); }\n    static public string AsJoinedString<T>(this IEnumerable<T> ie, string st = \" \") { return string.Join(st, ie); }\n    static public void Main()\n    {\n        var solver = new Program.Solver();\n        solver.Solve();\n        Program.IO.Printer.Out.Flush();\n    }\n}\n#endregion\n#region Ex\nnamespace Program.IO\n{\n    using System.IO;\n    using System.Text;\n    using System.Globalization;\n    public class Printer: StreamWriter\n    {\n        static Printer() { Out = new Printer(Console.OpenStandardOutput()) { AutoFlush = false }; }\n        public static Printer Out { get; set; }\n        public override IFormatProvider FormatProvider { get { return CultureInfo.InvariantCulture; } }\n        public Printer(System.IO.Stream stream) : base(stream, new UTF8Encoding(false, true)) { }\n        public Printer(System.IO.Stream stream, Encoding encoding) : base(stream, encoding) { }\n        public void Write<T>(string format, T[] source) { base.Write(format, source.OfType<object>().ToArray()); }\n        public void WriteLine<T>(string format, T[] source) { base.WriteLine(format, source.OfType<object>().ToArray()); }\n    }\n    public class StreamScanner\n    {\n        public StreamScanner(Stream stream) { str = stream; }\n        public readonly Stream str;\n        private readonly byte[] buf = new byte[1024];\n        private int len, ptr;\n        public bool isEof = false;\n        public bool IsEndOfStream { get { return isEof; } }\n        private byte read()\n        {\n            if (isEof) return 0;\n            if (ptr >= len) { ptr = 0; if ((len = str.Read(buf, 0, 1024)) <= 0) { isEof = true; return 0; } }\n            return buf[ptr++];\n        }\n        public char Char() { byte b = 0; do b = read(); while ((b < 33 || 126 < b) && !isEof); return (char)b; }\n\n        public string Scan()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b >= 33 && b <= 126; b = (char)read())\n                sb.Append(b);\n            return sb.ToString();\n        }\n        public string ScanLine()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b != '\\n'; b = (char)read())\n                if (b == 0) break;\n                else if (b != '\\r') sb.Append(b);\n            return sb.ToString();\n        }\n        public long Long()\n        {\n            if (isEof) return long.MinValue;\n            long ret = 0; byte b = 0; var ng = false;\n            do b = read();\n            while (b != 0 && b != '-' && (b < '0' || '9' < b));\n            if (b == 0) return long.MinValue;\n            if (b == '-') { ng = true; b = read(); }\n            for (; true; b = read())\n            {\n                if (b < '0' || '9' < b)\n                    return ng ? -ret : ret;\n                else ret = ret * 10 + b - '0';\n            }\n        }\n        public int Integer() { return (isEof) ? int.MinValue : (int)Long(); }\n        public double Double() { var s = Scan(); return s != \"\" ? double.Parse(s, CultureInfo.InvariantCulture) : double.NaN; }\n        private T[] enumerate<T>(int n, Func<T> f)\n        {\n            var a = new T[n];\n            for (int i = 0; i < n; ++i) a[i] = f();\n            return a;\n        }\n\n        public char[] Char(int n) { return enumerate(n, Char); }\n        public string[] Scan(int n) { return enumerate(n, Scan); }\n        public double[] Double(int n) { return enumerate(n, Double); }\n        public int[] Integer(int n) { return enumerate(n, Integer); }\n        public long[] Long(int n) { return enumerate(n, Long); }\n    }\n}\n#endregion\n#region Deque<T>\n\npublic class Deque<T>\n{\n    T[] buf;\n    int offset;\n    int count;\n    int capacity;\n    public int Count { get { return count; } }\n    public Deque(int cap) { buf = new T[capacity = cap]; }\n    public Deque() { buf = new T[capacity = 8]; }\n    public T this[int index]\n    {\n        get { return buf[getIndex(index)]; }\n        set { buf[getIndex(index)] = value; }\n    }\n    private int getIndex(int index)\n    {\n        if (index >= capacity)\n            throw new IndexOutOfRangeException(\"out of range\");\n        var ret = index + offset;\n        if (ret >= capacity)\n            ret -= capacity;\n        return ret;\n    }\n    public void PushFront(T item)\n    {\n        if (count == capacity) Extend();\n        if (--offset < 0) offset += buf.Length;\n        buf[offset] = item;\n        ++count;\n    }\n    public T PopFront()\n    {\n        if (count == 0)\n            throw new InvalidOperationException(\"collection is empty\");\n        --count;\n        var ret = buf[offset++];\n        if (offset >= capacity) offset -= capacity;\n        return ret;\n    }\n    public void PushBack(T item)\n    {\n        if (count == capacity) Extend();\n        var id = count++ + offset;\n        if (id >= capacity) id -= capacity;\n        buf[id] = item;\n    }\n    public T PopBack()\n    {\n        if (count == 0)\n            throw new InvalidOperationException(\"collection is empty\");\n        return buf[getIndex(--count)];\n    }\n    public void Insert(T item, int index)\n    {\n        if (index > count) throw new IndexOutOfRangeException();\n        this.PushFront(item);\n        for (int i = 0; i < index; i++)\n            this[i] = this[i + 1];\n        this[index] = item;\n    }\n    public T RemoveAt(int index)\n    {\n        if (index < 0 || index >= count) throw new IndexOutOfRangeException();\n        var ret = this[index];\n        for (int i = index; i > 0; i--)\n            this[i] = this[i - 1];\n        this.PopFront();\n        return ret;\n    }\n    private void Extend()\n    {\n        T[] newBuffer = new T[capacity << 1];\n        if (offset > capacity - count)\n        {\n            var len = buf.Length - offset;\n            Array.Copy(buf, offset, newBuffer, 0, len);\n            Array.Copy(buf, 0, newBuffer, len, count - len);\n        }\n        else Array.Copy(buf, offset, newBuffer, 0, count);\n        buf = newBuffer;\n        offset = 0;\n        capacity <<= 1;\n    }\n    public T[] Items\n    {\n        get\n        {\n            var a = new T[count];\n            for (int i = 0; i < count; i++)\n                a[i] = this[i];\n            return a;\n        }\n    }\n}\n\n#endregion"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.IO;\nusing System.Linq;\nusing System.Numerics;\nusing System.Text;\nusing Problem = Tmp.Problem;\nnamespace Tmp\n{\n\tusing static Func;\n\tusing static Math;\n\tusing static Console;\n\t//using GeometryLong;\n\tclass Problem : IDisposable\n\t{\n\t\tbool IsGCJ;\n\t\tint Repeat;\n\t\tScanner sc;\n\t\tPrinter pr;\n\t\tpublic Problem(bool isGCJ, Scanner scanner, Printer printer)\n\t\t{\n\t\t\tsc = scanner;\n\t\t\tpr = printer;\n\t\t\tIsGCJ = isGCJ;\n\t\t\tif (isGCJ) Repeat = sc.Get<int>();\n\t\t\telse Read();\n\t\t}\n\t\tpublic Problem(bool isGCJ) : this(isGCJ, new Scanner(), new Printer()) { }\n\t\tpublic Problem(bool isGCJ, Scanner scanner) : this(isGCJ, scanner, new Printer()) { }\n\t\tpublic Problem(bool isGCJ, Printer printer) : this(isGCJ, new Scanner(), printer) { }\n\t\tpublic void Solve()\n\t\t{\n\t\t\tif (IsGCJ) for (var i = 0; i < Repeat; i++) { Read(); pr.Write(\"Case #\" + (i + 1) + \": \"); SolveOne(); }\n\t\t\telse SolveOne();\n\t\t}\n\t\tpublic void Dispose()\n\t\t{\n\t\t\tsc.Dispose();\n\t\t\tpr.Dispose();\n\t\t}\n\t\tpublic int Size => 1;\n\t\tpublic const long Mod = 1000000007;\n\t\t//public const long Mod = 924844033;\n\t\tRandomSFMT rand = Program.rand;\n\t\tstring S;\n\t\tint N, K;\n\t\tvoid Read()\n\t\t{\n\t\t\tsc.Read(out N, out K);\n\t\t\tS = sc.String;\n\t\t}\n\t\tvoid SolveOne()\n\t\t{\n\t\t\tN = S.Length;\n\t\t\tvar deq = new Deque<char>(N + 10);\n\t\t\tfor (var i = 0; i < N; i++) deq.PushBack(i % 2 == 0 ? S[i] : Flip(S[i]));\n\t\t\tvar l = \"BA\"[N % 2];\n\t\t\tAction f = () =>\n\t\t\t{\n\t\t\t\tif (deq[0] == 'A') deq[0] = 'B';\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tdeq.PopFront();\n\t\t\t\t\tdeq.PushBack(l);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (K < 3 * N + 100) for (var i = 0; i < K; i++) f();\n\t\t\telse\n\t\t\t{\n\t\t\t\tK -= 3 * N + 100;\n\t\t\t\tfor (var i = 0; i < 3 * N + 100; i++) f();\n\t\t\t\tif (l == 'A' && K % 2 == 1) f();\n\t\t\t}\n\t\t\tfor (var i = 0; i < N; i++) pr.Write(i % 2 == 0 ? deq[i] : Flip(deq[i]));\n\t\t\tpr.WriteLine();\n\t\t}\n\t\tchar Flip(char c) => c == 'A' ? 'B' : 'A';\n\t\tint[] SuffixArray(string S)\n\t\t{\n\t\t\tvar N = S.Length;\n\t\t\tvar sa = new int[N + 1];\n\t\t\tvar r = new int[N + 1];\n\t\t\tfor (var i = 0; i <= N; i++)\n\t\t\t{\n\t\t\t\tsa[i] = i;\n\t\t\t\tr[i] = i < N ? S[i] : -1;\n\t\t\t}\n\t\t\tvar k = 1;\n\t\t\tComparison<int> comp = (i, j) =>\n\t\t\t  {\n\t\t\t\t  if (r[i] != r[j]) return r[i] - r[j];\n\t\t\t\t  var a = i + k <= N ? r[i + k] : -1;\n\t\t\t\t  var b = j + k <= N ? r[j + k] : -1;\n\t\t\t\t  return a - b;\n\t\t\t  };\n\t\t\tfor (; k <= N; k *= 2)\n\t\t\t{\n\t\t\t\tArray.Sort(sa, comp);\n\t\t\t\tvar tmp = new int[N + 1];\n\t\t\t\tfor (var i = 1; i <= N; i++) tmp[sa[i]] = tmp[sa[i - 1]] + (comp(sa[i - 1], sa[i]) < 0 ? 1 : 0);\n\t\t\t\tr = tmp;\n\t\t\t}\n\t\t\treturn sa;\n\t\t}\n\t}\n\tclass RangeSegmentTree\n\t{\n\t\tint N2;\n\t\tint[] seg, unif;\n\t\tpublic RangeSegmentTree(int N)\n\t\t{\n\t\t\tN2 = 1;\n\t\t\twhile (N2 < N) N2 <<= 1;\n\t\t\tseg = new int[2 * N2 - 1];\n\t\t\tunif = new int[2 * N2 - 1];\n\t\t}\n\t\tvoid LazyEvaluate(int node)\n\t\t{\n\t\t\tif (unif[node] == 0) return;\n\t\t\tseg[node] += unif[node];\n\t\t\tif (node < N2 - 1)\n\t\t\t{\n\t\t\t\tunif[2 * node + 1] += unif[node];\n\t\t\t\tunif[2 * node + 2] += unif[node];\n\t\t\t}\n\t\t\tunif[node] = 0;\n\t\t}\n\t\tvoid Update(int node) => seg[node] = seg[2 * node + 1] + seg[2 * node + 2];\n\t\tpublic void AddRange(int from, int to, int value) => AddRange(from, to, value, 0, 0, N2);\n\t\tvoid AddRange(int from, int to, int value, int node, int l, int r)\n\t\t{\n\t\t\tif (from <= l && r <= to) unif[node] += value;\n\t\t\telse if (l < to && from < r)\n\t\t\t{\n\t\t\t\tAddRange(from, to, value, 2 * node + 1, l, (l + r) >> 1);\n\t\t\t\tAddRange(from, to, value, 2 * node + 2, (l + r) >> 1, r);\n\t\t\t\tUpdate(node);\n\t\t\t}\n\t\t\tLazyEvaluate(node);\n\t\t}\n\t\tpublic int this[int n] { get { return Sum(n, n + 1); } set { AddRange(n, n + 1, value - this[n]); } }\n\t\tpublic int Sum(int from, int to) => Sum(from, to, 0, 0, N2);\n\t\tint Sum(int from, int to, int node, int l, int r)\n\t\t{\n\t\t\tLazyEvaluate(node);\n\t\t\tif (to <= l || r <= from) return 0;\n\t\t\telse if (from <= l && r <= to) return seg[node];\n\t\t\telse return Sum(from, to, 2 * node + 1, l, (l + r) >> 1) + Sum(from, to, 2 * node + 2, (l + r) >> 1, r);\n\t\t}\n\t}\n\tclass SlideMaximum\n\t{\n\t\tlong[] a;\n\t\tDeque<int> deq;\n\t\tpublic SlideMaximum(long[] x) { a = x; deq = new Deque<int>(); }\n\t\tpublic void Add(int index)\n\t\t{\n\t\t\twhile (deq.Count > 0 && a[deq.PeekBack()] <= a[index]) deq.PopBack();\n\t\t\tdeq.PushBack(index);\n\t\t}\n\t\tpublic void Remove(int index)\n\t\t{\n\t\t\tif (deq.Count > 0 && deq.PeekFront() == index) deq.PopFront();\n\t\t}\n\t\tpublic long Maximum => a[deq.PeekFront()];\n\t}\n\tclass SegmentTreeX\n\t{\n\t\tpublic const long Unit = -InfL;\n\t\tint N2;\n\t\tlong[] seg, unif;\n\t\tpublic SegmentTreeX(int N)\n\t\t{\n\t\t\tN2 = 1;\n\t\t\twhile (N2 < N) N2 <<= 1;\n\t\t\tseg = new long[2 * N2 - 1];\n\t\t\tunif = new long[2 * N2 - 1];\n\t\t\tfor (var i = 0; i < 2 * N2 - 1; i++) seg[i] = unif[i] = Unit;\n\t\t}\n\t\tvoid LazyEvaluate(int node)\n\t\t{\n\t\t\tif (unif[node] != Unit)\n\t\t\t{\n\t\t\t\tseg[node] = Math.Max(seg[node], unif[node]);\n\t\t\t\tif (node < N2 - 1)\n\t\t\t\t{\n\t\t\t\t\tunif[2 * node + 1] = Math.Max(unif[2 * node + 1], unif[node]);\n\t\t\t\t\tunif[2 * node + 2] = Math.Max(unif[2 * node + 2], unif[node]);\n\t\t\t\t}\n\t\t\t\tunif[node] = Unit;\n\t\t\t}\n\t\t}\n\t\tvoid Update(int node) => seg[node] = Math.Max(seg[2 * node + 1], seg[2 * node + 2]);\n\t\tpublic void Maximize(int from, int to, long value) => Maximize(from, to, value, 0, 0, N2);\n\t\tvoid Maximize(int from, int to, long value, int node, int l, int r)\n\t\t{\n\t\t\tif (from <= l && r <= to) unif[node] = Math.Max(unif[node], value);\n\t\t\telse if (l < to && from < r)\n\t\t\t{\n\t\t\t\tMaximize(from, to, value, 2 * node + 1, l, (l + r) >> 1);\n\t\t\t\tMaximize(from, to, value, 2 * node + 2, (l + r) >> 1, r);\n\t\t\t\tUpdate(node);\n\t\t\t}\n\t\t\tLazyEvaluate(node);\n\t\t}\n\t\tpublic long this[int n] { get { return Max(n, n + 1); } set { Maximize(n, n + 1, value); } }\n\t\tpublic long Max(int from, int to) => Max(from, to, 0, 0, N2);\n\t\tlong Max(int from, int to, int node, int l, int r)\n\t\t{\n\t\t\tLazyEvaluate(node);\n\t\t\tif (to <= l || r <= from) return Unit;\n\t\t\telse if (from <= l && r <= to) return seg[node];\n\t\t\telse return Math.Max(Max(from, to, 2 * node + 1, l, (l + r) >> 1), Max(from, to, 2 * node + 2, (l + r) >> 1, r));\n\t\t}\n\t}\n}\nclass Treap<T>\n{\n\tRandom rand;\n\tComparison<T> comp;\n\tclass Node\n\t{\n\t\tpublic T value;\n\t\tpublic int size;\n\t\tprivate int priority;\n\t\tpublic Node left, right;\n\t\tpublic Treap<T> treap;\n\t\tpublic Node(Treap<T> treap, T value) { this.treap = treap; this.value = value; priority = treap.rand.Next(); size = 1; }\n\t\tpublic Node Update() { size = 1 + Size(left) + Size(right); return this; }\n\t\tpublic static int Size(Node t) => t?.size ?? 0;\n\t\tpublic static Node Merge(Node l, Node r)\n\t\t{\n\t\t\tif (l == null) return r;\n\t\t\tif (r == null) return l;\n\t\t\tif (l.priority < r.priority)\n\t\t\t{\n\t\t\t\tl.right = Merge(l.right, r);\n\t\t\t\treturn l.Update();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tr.left = Merge(r.left, l);\n\t\t\t\treturn r.Update();\n\t\t\t}\n\t\t}\n\t\t// [0,N) => [0,k) + [k,N)\n\t\tpublic static Tuple<Node, Node> Split(Node t, int k)\n\t\t{\n\t\t\tif (t == null) return new Tuple<Node, Node>(null, null);\n\t\t\tif (k <= Size(t.left))\n\t\t\t{\n\t\t\t\tvar s = Split(t.left, k);\n\t\t\t\tt.left = s.Item2;\n\t\t\t\treturn new Tuple<Node, Node>(s.Item1, t.Update());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tvar s = Split(t.right, k - Size(t.left) - 1);\n\t\t\t\tt.right = s.Item1;\n\t\t\t\treturn new Tuple<Node, Node>(t.Update(), s.Item2);\n\t\t\t}\n\t\t}\n\t\t// [0,k) + [k,N) => [0,k) + (new node) + [k+1,N)\n\t\tpublic static Node Insert(Node t, int k, T val)\n\t\t{\n\t\t\tvar n = new Node(t.treap, val);\n\t\t\tvar s = Split(t, k);\n\t\t\treturn Merge(Merge(s.Item1, n), s.Item2);\n\t\t}\n\t\t// [0,k) + k + [k+1,N) => [0,k) + [k+1,N)\n\t\tpublic static Node Erase(Node t, int k)\n\t\t{\n\t\t\tvar s1 = Split(t, k + 1);\n\t\t\tvar s2 = Split(s1.Item1, k);\n\t\t\treturn Merge(s2.Item1, s1.Item2);\n\t\t}\n\t}\n}\nclass RMQI\n{\n\tint N2;\n\tint[] segtree;\n\tint[] position;\n\tpublic RMQI(int N) : this(new int[N]) { }\n\tpublic RMQI(int[] array)\n\t{\n\t\tN2 = 1;\n\t\twhile (N2 < array.Length) N2 <<= 1;\n\t\tsegtree = new int[2 * N2 - 1];\n\t\tposition = new int[2 * N2 - 1];\n\t\tfor (var i = 0; i < 2 * N2 - 1; i++) segtree[i] = Func.Inf;\n\t\tfor (var i = 0; i < array.Length; i++) { segtree[i + N2 - 1] = array[i]; position[i + N2 - 1] = i; }\n\t\tfor (var i = N2 - 2; i >= 0; i--) SetMin(i);\n\t}\n\tvoid SetMin(int i)\n\t{\n\t\tint l = 2 * i + 1, r = 2 * i + 2;\n\t\tint a = segtree[l], b = segtree[r];\n\t\tif (a <= b) { segtree[i] = a; position[i] = position[l]; }\n\t\telse { segtree[i] = b; position[i] = position[r]; }\n\t}\n\tTuple<int, int> Merge(Tuple<int, int> a, Tuple<int, int> b) => a.Item1 <= b.Item1 ? a : b;\n\tpublic void Update(int index, int value)\n\t{\n\t\tindex += N2 - 1;\n\t\tsegtree[index] = value;\n\t\twhile (index > 0) SetMin(index = (index - 1) / 2);\n\t}\n\tpublic int this[int n] { get { return Min(n, n + 1).Item1; } set { Update(n, value); } }\n\t// min, pos\n\tpublic Tuple<int, int> Min(int from, int to) => Min(from, to, 0, 0, N2);\n\tTuple<int, int> Min(int from, int to, int node, int l, int r)\n\t{\n\t\tif (to <= l || r <= from) return new Tuple<int, int>(Func.Inf, N2);\n\t\telse if (from <= l && r <= to) return new Tuple<int, int>(segtree[node], position[node]);\n\t\telse return Merge(Min(from, to, 2 * node + 1, l, (l + r) >> 1), Min(from, to, 2 * node + 2, (l + r) >> 1, r));\n\t}\n}\nstatic class Hoge\n{\n\tpublic static T Peek<T>(this IEnumerable<T> set)\n\t{\n\t\tforeach (var x in set) return x;\n\t\treturn default(T);\n\t}\n}\ninterface ISegmentTree\n{\n\tvoid Add(int from, int to, long value);\n\tlong Min(int from, int to);\n}\nclass SegmentTree2 : ISegmentTree\n{\n\tint N;\n\tlong[] a;\n\tpublic SegmentTree2(int N) : this(new long[N]) { }\n\tpublic SegmentTree2(long[] a) { N = a.Length; this.a = a.ToArray(); }\n\tpublic void Add(int from, int to, long value) { for (var i = from; i < to; i++) a[i] += value; }\n\tpublic long Min(int from, int to) { var s = Func.InfL; for (var i = from; i < to; i++) s = Math.Min(s, a[i]); return s; }\n}\nclass SegmentTree3 : ISegmentTree\n{\n\tpublic const long Unit = Func.InfL;\n\tpublic readonly Func<long, long, long> Operator = Math.Min;\n\tint N2;\n\tlong[] seg, unif;\n\tpublic SegmentTree3(int N) : this(new long[N]) { }\n\tpublic SegmentTree3(long[] a)\n\t{\n\t\tN2 = 1;\n\t\twhile (N2 < a.Length) N2 <<= 1;\n\t\tseg = new long[2 * N2 - 1];\n\t\tunif = new long[2 * N2 - 1];\n\t\tfor (var i = a.Length + N2 - 1; i < 2 * N2 - 1; i++) seg[i] = Unit;\n\t\tfor (var i = 0; i < a.Length; i++) seg[i + N2 - 1] = a[i];\n\t\tfor (var i = N2 - 2; i >= 0; i--) Update(i);\n\t}\n\tvoid LazyEvaluate(int node)\n\t{\n\t\tif (unif[node] != 0)\n\t\t{\n\t\t\tseg[node] += unif[node];\n\t\t\tif (node < N2 - 1) { unif[2 * node + 1] += unif[node]; unif[2 * node + 2] += unif[node]; }\n\t\t\tunif[node] = 0;\n\t\t}\n\t}\n\tvoid Update(int node) => seg[node] = Operator(seg[2 * node + 1], seg[2 * node + 2]);\n\tpublic void Add(int from, int to, long value) => Add(from, to, value, 0, 0, N2);\n\tvoid Add(int from, int to, long value, int node, int l, int r)\n\t{\n\t\tif (from <= l && r <= to) unif[node] += value;\n\t\telse if (l < to && from < r)\n\t\t{\n\t\t\tAdd(from, to, value, 2 * node + 1, l, (l + r) >> 1);\n\t\t\tAdd(from, to, value, 2 * node + 2, (l + r) >> 1, r);\n\t\t\tUpdate(node);\n\t\t}\n\t\tLazyEvaluate(node);\n\t}\n\tpublic long this[int n] { get { return Min(n, n + 1); } set { Add(n, n + 1, value - this[n]); } }\n\tpublic long Min(int from, int to) => Min(from, to, 0, 0, N2);\n\tlong Min(int from, int to, int node, int l, int r)\n\t{\n\t\tLazyEvaluate(node);\n\t\tif (to <= l || r <= from) return Unit;\n\t\telse if (from <= l && r <= to) return seg[node];\n\t\telse return Operator(Min(from, to, 2 * node + 1, l, (l + r) >> 1), Min(from, to, 2 * node + 2, (l + r) >> 1, r));\n\t}\n}\nclass SegmentTree : ISegmentTree\n{\n\tint N2;\n\tlong[] seg, unif;\n\tpublic SegmentTree(int N) : this(new long[N]) { }\n\tpublic SegmentTree(long[] a)\n\t{\n\t\tN2 = 1;\n\t\twhile (N2 < a.Length) N2 <<= 1;\n\t\tseg = new long[2 * N2 - 1];\n\t\tunif = new long[2 * N2 - 1];\n\t\tfor (var i = a.Length + N2 - 1; i < 2 * N2 - 1; i++) seg[i] = Func.InfL;\n\t\tfor (var i = 0; i < a.Length; i++) seg[i + N2 - 1] = a[i];\n\t\tfor (var i = N2 - 2; i >= 0; i--) seg[i] = Math.Min(seg[2 * i + 1], seg[2 * i + 2]);\n\t}\n\tpublic void Add(int from, int to, long value) => Add(from, to, value, 0, 0, N2);\n\tvoid Add(int from, int to, long value, int node, int l, int r)\n\t{\n\t\tif (to <= l || r <= from) return;\n\t\telse if (from <= l && r <= to) unif[node] += value;\n\t\telse\n\t\t{\n\t\t\tAdd(from, to, value, 2 * node + 1, l, (l + r) >> 1);\n\t\t\tAdd(from, to, value, 2 * node + 2, (l + r) >> 1, r);\n\t\t\tseg[node] = Math.Min(seg[2 * node + 1] + unif[2 * node + 1], seg[2 * node + 2] + unif[2 * node + 2]);\n\t\t}\n\t}\n\tpublic long this[int n] { get { return Min(n, n + 1); } set { Add(n, n + 1, value - this[n]); } }\n\tpublic long Min(int from, int to) => Min(from, to, 0, 0, N2);\n\tlong Min(int from, int to, int node, int l, int r)\n\t{\n\t\tif (to <= l || r <= from) return Func.InfL;\n\t\telse if (from <= l && r <= to) return seg[node] + unif[node];\n\t\telse return Math.Min(Min(from, to, 2 * node + 1, l, (l + r) >> 1), Min(from, to, 2 * node + 2, (l + r) >> 1, r)) + unif[node];\n\t}\n}\nclass Eq : IEqualityComparer<List<int>>\n{\n\tpublic bool Equals(List<int> x, List<int> y)\n\t{\n\t\tif (x == null || y == null) return x == y;\n\t\tif (x.Count != y.Count) return false;\n\t\tfor (var i = 0; i < x.Count; i++) if (x[i] != y[i]) return false;\n\t\treturn true;\n\t}\n\tpublic int GetHashCode(List<int> obj)\n\t{\n\t\tvar x = obj.Count.GetHashCode();\n\t\tforeach (var i in obj) x ^= i.GetHashCode();\n\t\treturn x;\n\t}\n}\nclass MultiSortedSet<T> : IEnumerable<T>, ICollection<T>\n{\n\tpublic IComparer<T> Comparer { get; private set; }\n\tprivate SortedSet<T> keys;\n\tprivate Dictionary<T, int> mult;\n\tpublic int Multiplicity(T item) => keys.Contains(item) ? mult[item] : 0;\n\tpublic int this[T item]\n\t{\n\t\tget { return Multiplicity(item); }\n\t\tset\n\t\t{\n\t\t\tDebug.Assert(value >= 0);\n\t\t\tif (value == 0) { if (keys.Contains(item)) Remove(item); }\n\t\t\telse\n\t\t\t{\n\t\t\t\tCount += value - mult[item];\n\t\t\t\tmult[item] = value;\n\t\t\t}\n\t\t}\n\t}\n\tpublic int Count { get; private set; }\n\tpublic MultiSortedSet(IComparer<T> comp)\n\t{\n\t\tkeys = new SortedSet<T>(Comparer = comp);\n\t\tmult = new Dictionary<T, int>();\n\t}\n\tpublic MultiSortedSet(Comparison<T> comp) : this(Comparer<T>.Create(comp)) { }\n\tpublic MultiSortedSet() : this(Func.DefaultComparison<T>()) { }\n\tpublic void Add(T item) => Add(item, 1);\n\tprivate void Add(T item, int num)\n\t{\n\t\tCount += num;\n\t\tif (!keys.Contains(item)) { keys.Add(item); mult.Add(item, num); }\n\t\telse mult[item] += num;\n\t}\n\tpublic void AddRange(IEnumerable<T> list) { foreach (var x in list) Add(x); }\n\tpublic bool Remove(T item)\n\t{\n\t\tif (!keys.Contains(item)) return false;\n\t\tCount--;\n\t\tif (mult[item] == 1) { keys.Remove(item); mult.Remove(item); }\n\t\telse mult[item]--;\n\t\treturn true;\n\t}\n\tpublic bool Overlaps(IEnumerable<T> other) => keys.Overlaps(other);\n\tpublic bool IsSupersetOf(IEnumerable<T> other) => keys.IsSupersetOf(other);\n\tpublic bool IsSubsetOf(IEnumerable<T> other) => keys.IsSubsetOf(other);\n\tpublic bool IsProperSubsetOf(IEnumerable<T> other) => keys.IsProperSubsetOf(other);\n\tpublic bool IsProperSupersetOf(IEnumerable<T> other) => keys.IsProperSupersetOf(other);\n\tpublic void ExceptWith(IEnumerable<T> other) { foreach (var x in other) if (Contains(x)) Remove(x); }\n\tpublic void IntersectWith(IEnumerable<T> other)\n\t{\n\t\tvar next = new MultiSortedSet<T>(Comparer);\n\t\tforeach (var x in other) if (Contains(x) && !next.Contains(x)) next.Add(x, mult[x]);\n\t\tkeys = next.keys; mult = next.mult;\n\t}\n\tpublic void CopyTo(T[] array) => CopyTo(array, 0);\n\tpublic void CopyTo(T[] array, int index) { foreach (var item in array) array[index++] = item; }\n\tpublic void CopyTo(T[] array, int index, int count) { var i = 0; foreach (var item in array) { if (i++ >= count) return; array[index++] = item; } }\n\tpublic bool Contains(T item) => keys.Contains(item);\n\tpublic void Clear() { keys.Clear(); mult.Clear(); Count = 0; }\n\tpublic IEnumerator<T> Reverse() { foreach (var x in keys.Reverse()) for (var i = 0; i < mult[x]; i++) yield return x; }\n\tpublic IEnumerator<T> GetEnumerator() { foreach (var x in keys) for (var i = 0; i < mult[x]; i++) yield return x; }\n\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\tpublic T Max => keys.Max;\n\tpublic T Min => keys.Min;\n\tpublic bool IsReadOnly => false;\n}\nclass SkewHeap<T> : IEnumerable<T>\n{\n\tclass Node : IEnumerable<T>\n\t{\n\t\tpublic Node l, r;\n\t\tpublic T val;\n\t\tpublic Node(T x) { l = r = null; val = x; }\n\t\tpublic IEnumerator<T> GetEnumerator()\n\t\t{\n\t\t\tif (l != null) foreach (var x in l) yield return x;\n\t\t\tyield return val;\n\t\t\tif (r != null) foreach (var x in r) yield return x;\n\t\t}\n\t\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\t}\n\tpublic int Count { get; private set; }\n\tNode head;\n\tComparison<T> comp;\n\tpublic bool IsEmpty => head != null;\n\tpublic SkewHeap(Comparison<T> c) { comp = c; Count = 0; }\n\tpublic SkewHeap() : this(Func.DefaultComparison<T>()) { }\n\tpublic SkewHeap(IComparer<T> c) : this(Func.ToComparison(c)) { }\n\tprivate SkewHeap(Comparison<T> c, Node h) : this(c) { head = h; }\n\tpublic void Push(T x) { var n = new Node(x); head = Meld(head, n); Count++; }\n\tpublic T Peek() => head.val;\n\tpublic T Pop() { var x = head.val; head = Meld(head.l, head.r); Count--; return x; }\n\t// a.comp must be equivalent to b.comp\n\t// a, b will be destroyed\n\tpublic static SkewHeap<T> Meld(SkewHeap<T> a, SkewHeap<T> b) => new SkewHeap<T>(a.comp, a.Meld(a.head, b.head));\n\tpublic void MeldWith(SkewHeap<T> a) => head = Meld(head, a.head);\n\tNode Meld(Node a, Node b)\n\t{\n\t\tif (a == null) return b;\n\t\telse if (b == null) return a;\n\t\tif (comp(a.val, b.val) > 0) Func.Swap(ref a, ref b);\n\t\ta.r = Meld(a.r, b);\n\t\tFunc.Swap(ref a.l, ref a.r);\n\t\treturn a;\n\t}\n\tpublic IEnumerator<T> GetEnumerator() => head.GetEnumerator();\n\tIEnumerator IEnumerable.GetEnumerator() => (IEnumerator)GetEnumerator();\n}\n// [0, Size) の整数の集合を表す\nclass BITSet : BinaryIndexedTree\n{\n\tpublic BITSet(int size) : base(size) { }\n\tpublic void Add(int item) => Add(item, 1);\n\tpublic bool Contains(int item) => Sum(item, item + 1) > 0;\n\tpublic int Count(int item) => Sum(item, item + 1);\n\t// 順位 = item が小さい方から何番目か(0-indexed)\n\tpublic int GetRank(int item) => Sum(0, item);\n\tpublic void Remove(int item) => Add(item, -1);\n\tpublic void RemoveAll(int item) => Add(item, -Count(item));\n\t// 0-indexed で順位が rank のものを求める\n\t// ない場合は Size が返る\n\tpublic int GetValue(int rank) => Func.FirstBinary(0, Size, t => Sum(0, t + 1) >= rank + 1);\n}\nclass RangeBIT\n{\n\tpublic int N { get; private set; }\n\tlong[,] bit;\n\tpublic RangeBIT(int N) { bit = new long[2, this.N = N + 1]; }\n\tpublic RangeBIT(int[] array) : this(array.Length)\n\t{\n\t\tfor (var i = 1; i < N; i++) bit[0, i] = array[i - 1];\n\t\tfor (var i = 1; i < N - 1; i++) if (i + (i & (-i)) < N) bit[0, i + (i & (-i))] += bit[0, i];\n\t}\n\tpublic RangeBIT(long[] array) : this(array.Length)\n\t{\n\t\tfor (var i = 1; i < N; i++) bit[0, i] = array[i - 1];\n\t\tfor (var i = 1; i < N - 1; i++) if (i + (i & (-i)) < N) bit[0, i + (i & (-i))] += bit[0, i];\n\t}\n\tpublic void Add(int from, int to, long value)\n\t{\n\t\tAdd2(0, from + 1, -value * from);\n\t\tAdd2(1, from + 1, value);\n\t\tAdd2(0, to + 1, value * to);\n\t\tAdd2(1, to + 1, -value);\n\t}\n\tvoid Add2(int which, int i, long value) { while (i < N) { bit[which, i] += value; i += i & (-i); } }\n\tlong Sum(int to) => Sum2(0, to) + Sum2(1, to) * to;\n\tpublic long Sum(int from, int to) => Sum(to) - Sum(from);\n\tlong Sum2(int which, int i) { var sum = 0L; while (i > 0) { sum += bit[which, i]; i -= i & (-i); } return sum; }\n}\nclass RMQ\n{\n\tint N2;\n\tint[] segtree;\n\tpublic RMQ(int N) : this(new int[N]) { }\n\tpublic RMQ(int[] array)\n\t{\n\t\tN2 = 1;\n\t\twhile (N2 < array.Length) N2 <<= 1;\n\t\tsegtree = new int[2 * N2 - 1];\n\t\tfor (var i = 0; i < 2 * N2 - 1; i++) segtree[i] = Func.Inf;\n\t\tfor (var i = 0; i < array.Length; i++) segtree[i + N2 - 1] = array[i];\n\t\tfor (var i = N2 - 2; i >= 0; i--) segtree[i] = Math.Min(segtree[2 * i + 1], segtree[2 * i + 2]);\n\t}\n\tpublic void Update(int index, int value)\n\t{\n\t\tindex += N2 - 1;\n\t\tsegtree[index] = value;\n\t\twhile (index > 0)\n\t\t{\n\t\t\tindex = (index - 1) / 2;\n\t\t\tsegtree[index] = Math.Min(segtree[index * 2 + 1], segtree[index * 2 + 2]);\n\t\t}\n\t}\n\tpublic int this[int n] { get { return Min(n, n + 1); } set { Update(n, value); } }\n\tpublic int Min(int from, int to) => Min(from, to, 0, 0, N2);\n\tint Min(int from, int to, int node, int l, int r)\n\t{\n\t\tif (to <= l || r <= from) return Func.Inf;\n\t\telse if (from <= l && r <= to) return segtree[node];\n\t\telse return Math.Min(Min(from, to, 2 * node + 1, l, (l + r) >> 1), Min(from, to, 2 * node + 2, (l + r) >> 1, r));\n\t}\n}\nclass Program\n{\n\tpublic static RandomSFMT rand = new RandomSFMT();\n\tpublic static bool IsJudgeMode = true;\n\tpublic static bool IsGCJMode = false;\n\tpublic static bool IsSolveCreated = true;\n\tstatic void Main()\n\t{\n\t\tif (IsJudgeMode)\n\t\t\tif (IsGCJMode) using (var problem = new Problem(true, new Scanner(\"C-large-practice.in.txt\"), new Printer(\"output.txt\"))) problem.Solve();\n\t\t\telse using (var problem = new Problem(false, new Printer())) problem.Solve();\n\t\telse\n\t\t{\n\t\t\tvar num = 1;\n\t\t\tvar size = 0;\n\t\t\tvar time = 0m;\n\t\t\tfor (var tmp = 0; tmp < num; tmp++)\n\t\t\t{\n\t\t\t\tusing (var P = IsSolveCreated ? new Problem(false, new Scanner(\"input.txt\"), new Printer()) : new Problem(false))\n\t\t\t\t{\n\t\t\t\t\tsize = P.Size;\n\t\t\t\t\ttime += Func.MeasureTime(() => P.Solve());\n\t\t\t\t}\n\t\t\t}\n\t\t\tConsole.WriteLine(\"{0}, {1}ms\", size, time / num);\n\t\t}\n\t}\n}\nclass BinaryIndexedTree3D\n{\n\tpublic int X { get; private set; }\n\tpublic int Y { get; private set; }\n\tpublic int Z { get; private set; }\n\tint[,,] bit;\n\tpublic BinaryIndexedTree3D(int X, int Y, int Z)\n\t{\n\t\tthis.X = X; this.Y = Y; this.Z = Z;\n\t\tbit = new int[X + 1, Y + 1, Z + 1];\n\t}\n\tpublic BinaryIndexedTree3D(int[,,] array)\n\t\t: this(array.GetLength(0), array.GetLength(1), array.GetLength(2))\n\t{\n\t\tfor (var x = 0; x < X; x++) for (var y = 0; y < Y; y++) for (var z = 0; z < Z; z++) Add(x, y, z, array[x, y, z]);\n\t}\n\tpublic void Add(int x, int y, int z, int value)\n\t{\n\t\tfor (var i = x + 1; i <= X; i += i & (-i)) for (var j = y + 1; j <= Y; j += j & (-j)) for (var k = z + 1; k <= Z; k += k & (-k)) bit[i, j, k] += value;\n\t}\n\tpublic int Sum(int x0, int y0, int z0, int x1, int y1, int z1)\n\t\t=> Sum(x1, y1, z1) - Sum(x0, y1, z1) - Sum(x1, y0, z1) - Sum(x1, y1, z0) + Sum(x1, y0, z0) + Sum(x0, y1, z0) + Sum(x0, y0, z1) - Sum(x0, y0, z0);\n\tint Sum(int x, int y, int z)\n\t{\n\t\tvar sum = 0;\n\t\tfor (var i = x; i > 0; i -= i & (-i)) for (var j = y; j > 0; j -= j & (-j)) for (var k = y; k > 0; k -= k & (-k)) sum += bit[i, j, k];\n\t\treturn sum;\n\t}\n}\nclass BinaryIndexedTree2D\n{\n\tpublic int X { get; private set; }\n\tpublic int Y { get; private set; }\n\tint[,] bit;\n\tpublic BinaryIndexedTree2D(int X, int Y)\n\t{\n\t\tthis.X = X; this.Y = Y;\n\t\tbit = new int[X + 1, Y + 1];\n\t}\n\tpublic BinaryIndexedTree2D(int[,] array)\n\t\t: this(array.GetLength(0), array.GetLength(1))\n\t{\n\t\tfor (var x = 0; x < X; x++) for (var y = 0; y < Y; y++) Add(x, y, array[x, y]);\n\t}\n\tpublic void Add(int x, int y, int value) { for (var i = x + 1; i <= X; i += i & (-i)) for (var j = y + 1; j <= Y; j += j & (-j)) bit[i, j] += value; }\n\tpublic int Sum(int x0, int y0, int x1, int y1) => Sum(x0, y0) + Sum(x1, y1) - Sum(x0, y1) - Sum(x1, y0);\n\tint Sum(int x, int y) { var sum = 0; for (var i = x; i > 0; i -= i & (-i)) for (var j = y; j > 0; j -= j & (-j)) sum += bit[i, j]; return sum; }\n}\nclass BinaryIndexedTree\n{\n\tpublic int Size { get; private set; }\n\tint[] bit;\n\tpublic BinaryIndexedTree(int size)\n\t{\n\t\tSize = size;\n\t\tbit = new int[size + 1];\n\t}\n\tpublic BinaryIndexedTree(int[] array) : this(array.Length)\n\t{\n\t\tfor (var i = 0; i < Size; i++) bit[i + 1] = array[i];\n\t\tfor (var i = 1; i < Size; i++) if (i + (i & (-i)) <= Size) bit[i + (i & (-i))] += bit[i];\n\t}\n\t// index is 0-indexed\n\tpublic void Add(int index, int value) { for (var i = index + 1; i <= Size; i += i & (-i)) bit[i] += value; }\n\t// from, to is 0-indexed\n\t// from is inclusive, to is exclusive\n\tpublic int Sum(int from, int to) => Sum(to) - Sum(from);\n\tint Sum(int to) { var sum = 0; for (var i = to; i > 0; i -= i & (-i)) sum += bit[i]; return sum; }\n}\nclass Amoeba\n{\n\tpublic const int Dimension = 2;\n\tpublic const double Alpha = 1;  // reflection\n\tpublic const double Beta = 1 + 2.0 / Dimension; // expansion\n\tpublic const double Gamma = 0.75 - 0.5 / Dimension; // contraction\n\tpublic const double Delta = 1 - 1.0 / Dimension;    // shrink\n\tpublic Pair<AmoebaState, double>[] a;\n\tpublic AmoebaState m;\n\tpublic void Initiate()\n\t{\n\t\tArray.Sort(a, (x, y) => x.Second.CompareTo(y.Second));\n\t\tm = new AmoebaState();\n\t\tfor (var i = 0; i < Dimension; i++) m.Add(a[i].First);\n\t\tm.Multiply(1.0 / Dimension);\n\t}\n\tvoid PartialSort(int i, int j) { if (a[i].Second > a[j].Second) a.Swap(i, j); }\n\tvoid Accept(AmoebaState point, double value)\n\t{\n\t\tvar tmp = Func.FirstBinary(0, Dimension, x => a[x].Second >= value);\n\t\tif (tmp != Dimension) m.Add((point - a[Dimension - 1].First) / Dimension);\n\t\tfor (var i = Dimension; i > tmp; i--) a[i] = a[i - 1];\n\t\ta[tmp].First = point;\n\t\ta[tmp].Second = value;\n\t}\n\tpublic void Search()\n\t{\n\t\tvar r = m + Alpha * (m - a[Dimension].First);\n\t\tvar fr = r.Func();\n\t\tif (a[0].Second <= fr && fr < a[Dimension - 1].Second) { Accept(r, fr); return; }\n\t\tvar diff = r - m;\n\t\tif (fr < a[0].Second)\n\t\t{\n\t\t\tvar e = m + Beta * diff;\n\t\t\tvar fe = e.Func();\n\t\t\tif (fe < fr) Accept(e, fe);\n\t\t\telse Accept(r, fr);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar tmp = Gamma * diff;\n\t\t\tvar o = m + tmp;\n\t\t\tvar fo = o.Func();\n\t\t\tvar i = m - tmp;\n\t\t\tvar fi = i.Func();\n\t\t\tif (fi < fo) { o = i; fo = fi; }\n\t\t\tif (fo < a[Dimension - 1].Second) Accept(o, fo);\n\t\t\telse Shrink();\n\t\t}\n\t}\n\tvoid Shrink()\n\t{\n\t\tvar tmp = (1 - Delta) * a[0].First;\n\t\tfor (var i = 1; i <= Dimension; i++) { a[i].First.Multiply(Delta); a[i].First.Add(tmp); a[i].Second = a[i].First.Func(); }\n\t\tInitiate();\n\t}\n}\nclass AmoebaState\n{\n\tpublic static int Dimension = 2;\n\tpublic double[] vec;\n\tpublic AmoebaState() { vec = new double[Dimension]; }\n\tpublic AmoebaState(params double[] elements) : this() { elements.CopyTo(vec, 0); }\n\tpublic double this[int n] { get { return vec[n]; } set { vec[n] = value; } }\n\tpublic void Multiply(double r) { for (var i = 0; i < Dimension; i++) vec[i] *= r; }\n\tpublic void Add(AmoebaState v) { for (var i = 0; i < Dimension; i++) vec[i] += v.vec[i]; }\n\tpublic static AmoebaState operator +(AmoebaState p) => new AmoebaState(p.vec);\n\tpublic static AmoebaState operator -(AmoebaState p) { var tmp = new AmoebaState(p.vec); tmp.Multiply(-1); return tmp; }\n\tpublic static AmoebaState operator /(AmoebaState p, double r) { var tmp = new AmoebaState(p.vec); tmp.Multiply(1 / r); return tmp; }\n\tpublic static AmoebaState operator *(double r, AmoebaState p) { var tmp = new AmoebaState(p.vec); tmp.Multiply(r); return tmp; }\n\tpublic static AmoebaState operator *(AmoebaState p, double r) => r * p;\n\tpublic static AmoebaState operator +(AmoebaState p, AmoebaState q) { var tmp = +p; tmp.Add(q); return tmp; }\n\tpublic static AmoebaState operator -(AmoebaState p, AmoebaState q) { var tmp = -q; tmp.Add(p); return tmp; }\n\tpublic double Func()\n\t{\n\t\treturn 0;//P.Func(vec[0], vec[1]);\n\t}\n\tpublic static Problem P;\n}\nclass BucketList<T> : ICollection<T>, IEnumerable<T>, ICollection, IEnumerable\n{\n\tpublic Comparison<T> Comp { get; protected set; }\n\tpublic int BucketSize = 20;\n\tpublic int Count { get { var sum = 0; var bucket = Head; while (bucket != null) { sum += bucket.Count; bucket = bucket.Next; } return sum; } }\n\tpublic int NumOfBucket { get; protected set; }\n\tpublic Bucket<T> Head { get; protected set; }\n\tpublic Bucket<T> Tail { get; protected set; }\n\tpublic BucketList(IComparer<T> comp) : this(comp.ToComparison()) { }\n\tpublic BucketList(Comparison<T> comp = null) { Head = null; Tail = null; NumOfBucket = 0; Comp = comp ?? Func.DefaultComparison<T>(); }\n\tprotected void AddAfter(Bucket<T> pos, Bucket<T> bucket)\n\t{\n\t\tDebug.Assert(bucket != null && bucket.Count > 0 && pos != null && pos.Parent == this && Comp(pos.Tail.Value, bucket.Head.Value) <= 0\n\t\t\t\t\t&& (pos.Next == null || Comp(pos.Next.Head.Value, bucket.Tail.Value) >= 0));\n\t\tbucket.Parent = this;\n\t\tbucket.Prev = pos;\n\t\tbucket.Next = pos.Next;\n\t\tif (pos != Tail) pos.Next.Prev = bucket;\n\t\telse Tail = bucket;\n\t\tpos.Next = bucket;\n\t\tNumOfBucket++;\n\t}\n\tprotected void AddBefore(Bucket<T> pos, Bucket<T> bucket)\n\t{\n\t\tDebug.Assert(bucket != null && bucket.Count > 0 && pos != null && pos.Parent == this && Comp(pos.Head.Value, bucket.Tail.Value) >= 0\n\t\t\t\t\t&& (pos.Prev == null || Comp(pos.Prev.Tail.Value, bucket.Head.Value) <= 0));\n\t\tbucket.Parent = this;\n\t\tbucket.Prev = pos.Prev;\n\t\tbucket.Next = pos;\n\t\tif (pos != Head) pos.Prev.Next = bucket;\n\t\telse Head = bucket;\n\t\tpos.Prev = bucket;\n\t\tNumOfBucket++;\n\t}\n\tprotected void AddAfter(Bucket<T> bucket, BucketNode<T> node)\n\t{\n\t\tDebug.Assert(node != null && bucket != null && bucket.Parent == this && node.Parent.Parent == this && Comp(bucket.Tail.Value, node.Value) <= 0\n\t\t\t\t\t&& (bucket.Next == null || Comp(bucket.Next.Head.Value, node.Value) >= 0));\n\t\tvar tmp = new Bucket<T>(this, bucket, bucket.Next);\n\t\ttmp.InitiateWith(node);\n\t\tif (bucket != Tail) bucket.Next.Prev = tmp;\n\t\telse Tail = tmp;\n\t\tbucket.Next = tmp;\n\t\tNumOfBucket++;\n\t}\n\tprotected void AddBefore(Bucket<T> bucket, BucketNode<T> node)\n\t{\n\t\tDebug.Assert(node != null && bucket != null && bucket.Parent == this && node.Parent.Parent == this && Comp(bucket.Head.Value, node.Value) >= 0\n\t\t\t\t\t&& (bucket.Prev == null || Comp(bucket.Prev.Tail.Value, node.Value) <= 0));\n\t\tvar tmp = new Bucket<T>(this, bucket.Prev, bucket);\n\t\ttmp.InitiateWith(node);\n\t\tif (bucket != Head) bucket.Prev.Next = tmp;\n\t\telse Head = tmp;\n\t\tbucket.Prev = tmp;\n\t\tNumOfBucket++;\n\t}\n\tpublic void AddAfter(BucketNode<T> node, T item)\n\t{\n\t\tDebug.Assert(node != null && node.Parent.Parent == this && Comp(node.Value, item) <= 0\n\t\t\t\t\t&& ((node.Next == null && (node.Parent.Next == null || Comp(node.Parent.Next.Head.Value, item) >= 0))\n\t\t\t\t\t\t|| Comp(node.Next.Value, item) >= 0));\n\t\tvar bucket = node.Parent;\n\t\tvar tmp = new BucketNode<T>(item, bucket, node, node.Next);\n\t\tif (!bucket.AddAfter(node, tmp))\n\t\t{\n\t\t\tif (node.Next == null && (bucket.Next == null || bucket.Next.Count >= BucketSize)) AddAfter(bucket, tmp);\n\t\t\telse if (node.Next == null) AddBefore(bucket.Next.Head, item);\n\t\t\telse\n\t\t\t{\n\t\t\t\tnode.Next.Prev = tmp;\n\t\t\t\tnode.Next = tmp;\n\t\t\t\twhile (node.Next.Next != null) node = node.Next;\n\t\t\t\titem = node.Next.Value;\n\t\t\t\tbucket.Tail = node;\n\t\t\t\tnode.Next = null;\n\t\t\t\tAddAfter(node, item);\n\t\t\t}\n\t\t}\n\t}\n\tpublic void AddBefore(BucketNode<T> node, T item)\n\t{\n\t\tDebug.Assert(node != null && node.Parent.Parent == this && Comp(node.Value, item) >= 0\n\t\t\t\t\t&& ((node.Prev == null && (node.Parent.Prev == null || Comp(node.Parent.Prev.Tail.Value, item) <= 0))\n\t\t\t\t\t\t|| Comp(node.Prev.Value, item) <= 0));\n\t\tvar bucket = node.Parent;\n\t\tvar tmp = new BucketNode<T>(item, bucket, node.Prev, node);\n\t\tif (!bucket.AddBefore(node, tmp))\n\t\t{\n\t\t\tif (node.Prev == null && (bucket.Prev == null || bucket.Prev.Count >= BucketSize)) AddBefore(bucket, tmp);\n\t\t\telse if (node.Prev == null) AddAfter(bucket.Prev.Tail, item);\n\t\t\telse\n\t\t\t{\n\t\t\t\tnode.Prev.Next = tmp;\n\t\t\t\tnode.Prev = tmp;\n\t\t\t\twhile (node.Prev.Prev != null) node = node.Prev;\n\t\t\t\titem = node.Prev.Value;\n\t\t\t\tbucket.Head = node;\n\t\t\t\tnode.Prev = null;\n\t\t\t\tAddBefore(node, item);\n\t\t\t}\n\t\t}\n\t}\n\t// (node, index)\n\t// index is the position of node in node.Parent\n\tpublic Tuple<BucketNode<T>, int> UpperBound(Predicate<T> pred)\n\t{\n\t\tif (NumOfBucket == 0) return null;\n\t\tif (pred(Tail.Tail.Value)) return new Tuple<BucketNode<T>, int>(Tail.Tail, Tail.Count - 1);\n\t\tvar bucket = Tail;\n\t\twhile (bucket.Prev != null && !pred(bucket.Prev.Tail.Value)) bucket = bucket.Prev;\n\t\tvar node = bucket.Tail;\n\t\tvar index = bucket.Count - 1;\n\t\twhile (node.Prev != null && !pred(node.Prev.Value)) { node = node.Prev; index--; }\n\t\tif (node.Prev == null) return bucket.Prev == null ? null : new Tuple<BucketNode<T>, int>(bucket.Prev.Tail, bucket.Prev.Count - 1);\n\t\telse return new Tuple<BucketNode<T>, int>(node.Prev, index - 1);\n\t}\n\tpublic Tuple<BucketNode<T>, int> UpperBound(T item) => LowerBound(x => Comp(x, item) <= 0);\n\t// (node, index)\n\t// index is the position of node in node.Parent\n\tpublic Tuple<BucketNode<T>, int> LowerBound(Predicate<T> pred)\n\t{\n\t\tif (NumOfBucket == 0) return null;\n\t\tif (pred(Head.Head.Value)) return new Tuple<BucketNode<T>, int>(Head.Head, 0);\n\t\tvar bucket = Head;\n\t\twhile (bucket.Next != null && !pred(bucket.Next.Head.Value)) bucket = bucket.Next;\n\t\tvar node = bucket.Head;\n\t\tvar index = 0;\n\t\twhile (node.Next != null && !pred(node.Next.Value)) { node = node.Next; index++; }\n\t\tif (node.Next == null) return bucket.Next == null ? null : new Tuple<BucketNode<T>, int>(bucket.Next.Head, 0);\n\t\telse return new Tuple<BucketNode<T>, int>(node.Next, index + 1);\n\t}\n\tpublic Tuple<BucketNode<T>, int> LowerBound(T item) => LowerBound(x => Comp(x, item) >= 0);\n\tpublic void InitiateWith(Bucket<T> bucket)\n\t{\n\t\tDebug.Assert(bucket != null && bucket.Count > 0);\n\t\tRemoveAll();\n\t\tHead = Tail = bucket;\n\t\tbucket.Parent = this;\n\t\tNumOfBucket++;\n\t}\n\tpublic void InitiateWith(T item)\n\t{\n\t\tRemoveAll();\n\t\tHead = Tail = new Bucket<T>(this, null, null);\n\t\tHead.Head = Head.Tail = new BucketNode<T>(item, Head, null, null);\n\t\tHead.Count++;\n\t\tNumOfBucket++;\n\t}\n\tpublic void AddFirst(Bucket<T> bucket) { if (NumOfBucket == 0) InitiateWith(bucket); else AddBefore(Head, bucket); }\n\tpublic void AddLast(Bucket<T> bucket) { if (NumOfBucket == 0) InitiateWith(bucket); else AddAfter(Tail, bucket); }\n\tpublic void AddFirst(T item) { if (NumOfBucket == 0) InitiateWith(item); else AddBefore(Head.Head, item); }\n\tpublic void AddLast(T item) { if (NumOfBucket == 0) InitiateWith(item); else AddAfter(Tail.Tail, item); }\n\tpublic void Clear() => RemoveAll();\n\tpublic void RemoveAll() { Head = Tail = null; NumOfBucket = 0; }\n\tpublic void RemoveFirst() { if (NumOfBucket == 0) throw new InvalidOperationException(); else Remove(Head.Head); }\n\tpublic void RemoveLast() { if (NumOfBucket == 0) throw new InvalidOperationException(); else Remove(Tail.Tail); }\n\t// remove item and return whether item was removed or not\n\tpublic bool Remove(T item) { var node = Find(item); if (node != null) Remove(node); return node != null; }\n\tpublic void Remove(Bucket<T> bucket)\n\t{\n\t\tDebug.Assert(bucket != null && bucket.Parent == this);\n\t\tNumOfBucket--;\n\t\tif (bucket == Head && bucket == Tail) { Head = Tail = null; }\n\t\telse if (bucket == Head) { Head.Next.Prev = null; Head = Head.Next; }\n\t\telse if (bucket == Tail) { Tail.Prev.Next = null; Tail = Tail.Prev; }\n\t\telse { bucket.Prev.Next = bucket.Next; bucket.Next.Prev = bucket.Prev; }\n\t}\n\tpublic void Remove(BucketNode<T> node) { Debug.Assert(node != null && node.Parent.Parent == this); if (!node.Parent.Remove(node)) Remove(node.Parent); }\n\tprotected void RemoveRange(Bucket<T> from, Bucket<T> to, int indexFrom = -1, int indexTo = -1)\n\t{\n\t\tDebug.Assert(from != null && to != null && from.Parent == this && to.Parent == this);\n\t\tif (indexFrom < 0) indexFrom = from.Index;\n\t\tif (indexTo < 0) indexTo = to.Index;\n\t\tif (indexFrom == 0 && indexTo == NumOfBucket - 1) { Clear(); return; }\n\t\telse if (indexFrom == 0) { Head = to.Next; Head.Prev = null; }\n\t\telse if (indexTo == NumOfBucket - 1) { Tail = from.Prev; Tail.Next = null; }\n\t\telse { from.Prev.Next = to.Next; to.Next.Prev = from.Prev; }\n\t\tNumOfBucket -= indexTo - indexFrom + 1;\n\t}\n\tpublic void RemoveRange(BucketNode<T> from, BucketNode<T> to, int indexFrom = -1, int indexTo = -1)\n\t{\n\t\tDebug.Assert(from != null && to != null && from.Parent.Parent == this && to.Parent.Parent == this);\n\t\tif (indexFrom < 0) indexFrom = from.Index;\n\t\tif (indexTo < 0) indexTo = to.Index;\n\t\tvar bucketFrom = from.Parent;\n\t\tvar bucketTo = to.Parent;\n\t\tif (bucketFrom == bucketTo)\n\t\t{\n\t\t\tvar bucket = bucketFrom;\n\t\t\tif (indexFrom == 0 && indexTo == bucket.Count - 1) Remove(bucket);\n\t\t\telse bucket.RemoveRange(from, to, indexFrom, indexTo);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar bf = bucketFrom.Index;\n\t\t\tvar bt = bucketTo.Index;\n\t\t\tDebug.Assert(bf < bt);\n\t\t\tif (bt > bf + 1) RemoveRange(bucketFrom.Next, bucketTo.Prev, bf + 1, bt - 1);\n\t\t\tif (indexFrom == 0) { Remove(bucketFrom); RemoveRange(bucketTo.Head, to, 0, indexTo); }\n\t\t\telse if (indexTo == bucketTo.Count - 1) { Remove(bucketTo); RemoveRange(from, bucketFrom.Tail, indexFrom, bucketFrom.Count - 1); }\n\t\t\telse\n\t\t\t{\n\t\t\t\tbucketFrom.RemoveRange(from, bucketFrom.Tail, indexFrom, bucketFrom.Count - 1);\n\t\t\t\tbucketTo.RemoveRange(bucketTo.Head, to, 0, indexTo);\n\t\t\t\tif (bucketFrom.Count + bucketTo.Count < BucketSize) Adjust();\n\t\t\t}\n\t\t}\n\t}\n\tpublic void Adjust()\n\t{\n\t\tvar array = this.ToArray();\n\t\tClear();\n\t\tvar length = array.Length;\n\t\tBucketSize = (int)Math.Sqrt(length + 1);\n\t\tvar count = (length + BucketSize - 1) / BucketSize;\n\t\tfor (var i = 0; i < count; i++)\n\t\t{\n\t\t\tvar bucket = new Bucket<T>(this, null, null);\n\t\t\tvar lim = Math.Min(BucketSize * (i + 1), length);\n\t\t\tfor (var j = BucketSize * i; j < lim; j++) bucket.AddLast(array[j]);\n\t\t\tAddLast(bucket);\n\t\t}\n\t}\n\tpublic BucketNode<T> Find(T item) { var node = LowerBound(item); if (node == null || Comp(node.Item1.Value, item) != 0) return null; else return node.Item1; }\n\tpublic BucketNode<T> FindLast(T item) { var node = UpperBound(item); if (node == null || Comp(node.Item1.Value, item) != 0) return null; else return node.Item1; }\n\tpublic IEnumerator<T> GetEnumerator()\n\t{\n\t\tvar bucket = Head;\n\t\twhile (bucket != null)\n\t\t{\n\t\t\tvar node = bucket.Head;\n\t\t\twhile (node != null) { yield return node.Value; node = node.Next; }\n\t\t\tbucket = bucket.Next;\n\t\t}\n\t}\n\tpublic void Add(T item) { var ub = LowerBound(item); if (ub != null) AddBefore(ub.Item1, item); else AddLast(item); }\n\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\tpublic void CopyTo(Array array, int index) { foreach (var item in this) array.SetValue(item, index++); }\n\tpublic bool IsSynchronized => false;\n\tpublic object SyncRoot => this;\n\tpublic bool IsReadOnly => false;\n\tpublic bool Contains(T item) => Find(item) != null;\n\tpublic void CopyTo(T[] array, int index) { foreach (var item in this) array[index++] = item; }\n\tpublic override string ToString()\n\t{\n\t\tvar sb = new StringBuilder();\n\t\tsb.Append(\"<Start>\\n\");\n\t\tvar node = Head;\n\t\twhile (node != null) { sb.Append($\"{node.ToString()}\\n\"); node = node.Next; }\n\t\tsb.Append(\"<end>\");\n\t\treturn sb.ToString();\n\t}\n\tpublic bool Check()\n\t{\n\t\tif (NumOfBucket == 0) return Head == null && Tail == null;\n\t\tif (Head.Prev != null || Tail.Next != null) return false;\n\t\tvar bucket = Head;\n\t\tvar c = 1;\n\t\twhile (bucket.Next != null)\n\t\t{\n\t\t\tif (!CheckConnection(bucket) || !CheckBucket(bucket)) return false;\n\t\t\tbucket = bucket.Next;\n\t\t\tc++;\n\t\t}\n\t\treturn bucket == Tail && CheckBucket(Tail) && c == NumOfBucket;\n\t}\n\tbool CheckConnection(Bucket<T> bucket)\n\t{\n\t\tif (bucket.Next == null) return bucket == Tail;\n\t\telse return bucket.Next.Prev == bucket && Comp(bucket.Tail.Value, bucket.Next.Head.Value) <= 0;\n\t}\n\tbool CheckBucket(Bucket<T> bucket) => bucket.Count > 0 && bucket.Count <= BucketSize && bucket.Parent == this;\n\tpublic void Start(Func<string, T> parser, Func<T> random)\n\t{\n\t\tBucketNode<T> x = null, y = null;\n\t\tvar help = true;\n\t\twhile (true)\n\t\t{\n\t\t\tConsole.Clear();\n\t\t\tConsole.WriteLine($\"{Count} items, {NumOfBucket} buckets(size : {BucketSize})\");\n\t\t\tConsole.WriteLine(this);\n\t\t\tConsole.WriteLine(Check() ? \"OK!\" : \"NG!\");\n\t\t\tif (help)\n\t\t\t{\n\t\t\t\tConsole.WriteLine(\"when val is omitted, random value will be used.\");\n\t\t\t\tConsole.WriteLine(\"a val : add val\");\n\t\t\t\tConsole.WriteLine(\"r val : remove val\");\n\t\t\t\tConsole.WriteLine(\"j : adjust\");\n\t\t\t\tConsole.WriteLine(\"c : clear\");\n\t\t\t\tConsole.WriteLine(\"h : disable/enable help message\");\n\t\t\t\tConsole.WriteLine(\"x : set x\");\n\t\t\t\tConsole.WriteLine(\"x h : set x to head\");\n\t\t\t\tConsole.WriteLine(\"x t : set x to tail\");\n\t\t\t\tConsole.WriteLine(\"x n : set x to x.next\");\n\t\t\t\tConsole.WriteLine(\"x p : set x to x.prev\");\n\t\t\t\tConsole.WriteLine(\"x f val : set x to lower bound of val\");\n\t\t\t\tConsole.WriteLine(\"y : set y\");\n\t\t\t\tConsole.WriteLine(\"x : exchange x and y\");\n\t\t\t\tConsole.WriteLine(\"d : remove from x to y\");\n\t\t\t\tConsole.WriteLine(\"q : quit\");\n\t\t\t}\n\t\t\tif (x != null) Console.WriteLine($\"x = {x.Value} <- {x.Parent}\");\n\t\t\tif (y != null) Console.WriteLine($\"y = {y.Value} <- {y.Parent}\");\n\t\t\tConsole.Write(\"enter command > \");\n\t\t\tvar command = Console.ReadLine().Split();\n\t\t\tif (command[0].Length > 1 && command[0][1] == 'd')\n\t\t\t\tConsole.WriteLine(\"debug...\");\n\t\t\tif (command[0].StartsWith(\"a\")) { if (command.Length > 1) Add(parser(command[1])); else Add(random()); }\n\t\t\telse if (command[0].StartsWith(\"r\")) { if (command.Length > 1) Remove(parser(command[1])); else Remove(random()); }\n\t\t\telse if (command[0].StartsWith(\"c\")) Clear();\n\t\t\telse if (command[0].StartsWith(\"j\")) Adjust();\n\t\t\telse if (command[0].StartsWith(\"h\")) help = !help;\n\t\t\telse if (command[0].StartsWith(\"x\")) SetVariable(command, ref x, parser, random);\n\t\t\telse if (command[0].StartsWith(\"y\")) SetVariable(command, ref y, parser, random);\n\t\t\telse if (command[0].StartsWith(\"e\")) { var tmp = x; x = y; y = tmp; }\n\t\t\telse if (command[0].StartsWith(\"d\")) { RemoveRange(x, y, x.Index, y.Index); x = null; y = null; }\n\t\t\telse if (command[0].StartsWith(\"q\")) break;\n\t\t}\n\t}\n\tvoid SetVariable(string[] command, ref BucketNode<T> x, Func<string, T> parser, Func<T> random)\n\t{\n\t\tif (command[1].StartsWith(\"h\")) x = Head.Head;\n\t\telse if (command[1].StartsWith(\"t\")) x = Tail.Tail;\n\t\telse if (command[1].StartsWith(\"n\"))\n\t\t{\n\t\t\tif (x.Next != null) x = x.Next;\n\t\t\telse if (x.Parent.Next != null) x = x.Parent.Next.Head;\n\t\t\telse { Console.WriteLine(\"x is the last element...\"); Console.ReadKey(true); }\n\t\t}\n\t\telse if (command[1].StartsWith(\"p\"))\n\t\t{\n\t\t\tif (x.Prev != null) x = x.Prev;\n\t\t\telse if (x.Parent.Prev != null) x = x.Parent.Prev.Tail;\n\t\t\telse { Console.WriteLine(\"x is the first element...\"); Console.ReadKey(true); }\n\t\t}\n\t\telse if (command[1].StartsWith(\"f\")) { if (command.Length > 2) x = LowerBound(parser(command[2])).Item1; else x = LowerBound(random()).Item1; }\n\t}\n}\n// bucket cannot be empty\nclass Bucket<T>\n{\n\tpublic BucketList<T> Parent;\n\tpublic int Count;\n\tpublic Bucket<T> Prev;\n\tpublic Bucket<T> Next;\n\tpublic BucketNode<T> Head;\n\tpublic BucketNode<T> Tail;\n\tpublic Bucket(BucketList<T> parent, Bucket<T> prev, Bucket<T> next) { Parent = parent; Prev = prev; Next = next; Head = null; Tail = null; }\n\tpublic int Index\n\t{\n\t\tget\n\t\t{\n\t\t\tvar count = 0;\n\t\t\tvar node = Parent.Head;\n\t\t\twhile (node != this) { node = node.Next; count++; }\n\t\t\treturn count;\n\t\t}\n\t}\n\tpublic bool AddAfter(BucketNode<T> node, BucketNode<T> item) => AddAfter(node, item.Value);\n\tpublic bool AddBefore(BucketNode<T> node, BucketNode<T> item) => AddBefore(node, item.Value);\n\tpublic bool AddAfter(BucketNode<T> node, T item)\n\t{\n\t\tDebug.Assert(node != null && node.Parent == this && Parent.Comp(node.Value, item) <= 0\n\t\t\t\t\t&& ((node.Next == null && (Next == null || Parent.Comp(Next.Head.Value, item) >= 0))\n\t\t\t\t\t\t|| Parent.Comp(node.Next.Value, item) >= 0));\n\t\tif (Count < Parent.BucketSize)\n\t\t{\n\t\t\tvar tmp = new BucketNode<T>(item, this, node, node.Next);\n\t\t\tif (node.Next != null) node.Next.Prev = tmp;\n\t\t\telse Tail = tmp;\n\t\t\tnode.Next = tmp;\n\t\t\tCount++;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic bool AddBefore(BucketNode<T> node, T item)\n\t{\n\t\tDebug.Assert(node != null && node.Parent == this && Parent.Comp(node.Value, item) >= 0\n\t\t\t\t\t&& ((node.Prev == null && (Prev == null || Parent.Comp(Prev.Tail.Value, item) <= 0))\n\t\t\t\t\t\t|| Parent.Comp(node.Prev.Value, item) <= 0));\n\t\tif (Count < Parent.BucketSize)\n\t\t{\n\t\t\tvar tmp = new BucketNode<T>(item, this, node.Prev, node);\n\t\t\tif (node.Prev != null) node.Prev.Next = tmp;\n\t\t\telse Head = tmp;\n\t\t\tnode.Prev = tmp;\n\t\t\tCount++;\n\t\t\treturn true;\n\t\t}\n\t\telse return false;\n\t}\n\tpublic bool InitiateWith(BucketNode<T> node)\n\t{\n\t\tHead = Tail = node;\n\t\tnode.Parent = this;\n\t\tnode.Prev = node.Next = null;\n\t\tCount++;\n\t\treturn true;\n\t}\n\tpublic bool InitiateWith(T item) => InitiateWith(new BucketNode<T>(item, this, null, null));\n\tpublic void RemoveAll() { Head = Tail = null; Count = 0; }\n\tpublic bool AddFirst(T item) { if (Count == 0) return InitiateWith(item); else return AddBefore(Head, item); }\n\tpublic bool AddLast(T item) { if (Count == 0) return InitiateWith(item); else return AddAfter(Tail, item); }\n\tpublic bool Remove(BucketNode<T> node)\n\t{\n\t\tDebug.Assert(node != null && node.Parent == this);\n\t\tif (Count > 1)\n\t\t{\n\t\t\tCount--;\n\t\t\tif (node == Head) { Head.Next.Prev = null; Head = Head.Next; }\n\t\t\telse if (node == Tail) { Tail.Prev.Next = null; Tail = Tail.Prev; }\n\t\t\telse { node.Prev.Next = node.Next; node.Next.Prev = node.Prev; }\n\t\t\treturn true;\n\t\t}\n\t\telse return false;\n\t}\n\tpublic bool RemoveRange(BucketNode<T> from, BucketNode<T> to, int indexFrom = -1, int indexTo = -1)\n\t{\n\t\tDebug.Assert(from != null && to != null && from.Parent == this && to.Parent == this);\n\t\tif (indexFrom < 0) indexFrom = from.Index;\n\t\tif (indexTo < 0) indexTo = to.Index;\n\t\tif (indexTo == 0 && indexFrom == Count - 1) return false;\n\t\telse if (indexFrom == 0) { Head = to.Next; Head.Prev = null; }\n\t\telse if (indexTo == Count - 1) { Tail = from.Prev; Tail.Next = null; }\n\t\telse { from.Prev.Next = to.Next; to.Next.Prev = from.Prev; }\n\t\tCount -= indexTo - indexFrom + 1;\n\t\treturn true;\n\t}\n\tpublic override string ToString()\n\t{\n\t\tvar sb = new StringBuilder();\n\t\tsb.Append(\"[\");\n\t\tvar node = Head;\n\t\twhile (node != null) { sb.Append($\"{node.ToString()}, \"); node = node.Next; }\n\t\tif (sb.Length > 1) sb.Remove(sb.Length - 2, 2);\n\t\tsb.Append(\"]\");\n\t\treturn sb.ToString();\n\t}\n\tpublic bool Check()\n\t{\n\t\tif (Count == 0) return Head == null && Tail == null;\n\t\tif (Head.Prev != null || Tail.Next != null) return false;\n\t\tvar node = Head;\n\t\tvar c = 1;\n\t\twhile (node.Next != null)\n\t\t{\n\t\t\tif (!CheckConnection(node) || !CheckNode(node)) return false;\n\t\t\tnode = node.Next;\n\t\t\tc++;\n\t\t}\n\t\treturn node == Tail && CheckNode(Tail) && c == Count;\n\t}\n\tbool CheckConnection(BucketNode<T> node)\n\t{\n\t\tif (node.Next == null) return node == Tail;\n\t\telse return node.Next.Prev == node && Parent.Comp(node.Value, node.Next.Value) <= 0;\n\t}\n\tbool CheckNode(BucketNode<T> node) => node.Parent == this;\n}\nclass BucketNode<T>\n{\n\tpublic T Value;\n\tpublic Bucket<T> Parent;\n\tpublic BucketNode<T> Prev;\n\tpublic BucketNode<T> Next;\n\tpublic BucketNode(T item, Bucket<T> parent, BucketNode<T> prev, BucketNode<T> next) { Value = item; Parent = parent; Prev = prev; Next = next; }\n\tpublic int Index\n\t{\n\t\tget\n\t\t{\n\t\t\tvar count = 0;\n\t\t\tvar node = Parent.Head;\n\t\t\twhile (node != this) { node = node.Next; count++; }\n\t\t\treturn count;\n\t\t}\n\t}\n\tpublic override string ToString() => Value.ToString();\n}\nclass UndirectedGraph<V, E> : DirectedGraph<V, E>\n{\n\tpublic UndirectedGraph(int V) : base(V) { }\n\tpublic UndirectedGraph(int V, IEnumerable<EdgeInfo<E>> edges) : base(V, edges) { }\n\tpublic override void AddEdge(EdgeInfo<E> edge)\n\t{\n\t\tedges.Add(edge);\n\t\tedges.Add(edge.Reverse());\n\t\tedgesFrom[edge.From].Add(new HalfEdgeInfo<E>(edge.To, edge.Information));\n\t\tedgesFrom[edge.To].Add(new HalfEdgeInfo<E>(edge.From, edge.Information));\n\t\tedgesTo[edge.To].Add(new HalfEdgeInfo<E>(edge.From, edge.Information));\n\t\tedgesTo[edge.From].Add(new HalfEdgeInfo<E>(edge.To, edge.Information));\n\t}\n\tpublic bool IsConnected\n\t{\n\t\tget\n\t\t{\n\t\t\tif (numberOfNodes == 0) return true;\n\t\t\tvar used = new bool[numberOfNodes];\n\t\t\tvar queue = new Queue<int>();\n\t\t\tqueue.Enqueue(0);\n\t\t\twhile (queue.Count > 0)\n\t\t\t{\n\t\t\t\tvar v = queue.Dequeue();\n\t\t\t\tif (used[v]) continue;\n\t\t\t\tused[v] = true;\n\t\t\t\tforeach (var e in EdgesFrom(v)) queue.Enqueue(e.End);\n\t\t\t}\n\t\t\treturn used.All(x => x);\n\t\t}\n\t}\n\tpublic bool IsTree\n\t{\n\t\tget\n\t\t{\n\t\t\tif (numberOfNodes == 0) return true;\n\t\t\tvar used = new bool[numberOfNodes];\n\t\t\tvar queue = new Queue<int>();\n\t\t\tqueue.Enqueue(0);\n\t\t\twhile (queue.Count > 0)\n\t\t\t{\n\t\t\t\tvar v = queue.Dequeue();\n\t\t\t\tif (used[v]) return false;\n\t\t\t\tused[v] = true;\n\t\t\t\tforeach (var e in EdgesFrom(v)) queue.Enqueue(e.End);\n\t\t\t}\n\t\t\treturn used.All(x => x);\n\t\t}\n\t}\n\tpublic UndirectedGraph<V, E> MinimumSpanningTreePrim(int start, Func<E, int> cost)\n\t{\n\t\tvar graph = new UndirectedGraph<V, E>(numberOfNodes);\n\t\tnodes.CopyTo(graph.nodes, 0);\n\t\tvar d = Enumerable.Repeat(Func.Inf, numberOfNodes).ToArray();\n\t\tvar used = new bool[numberOfNodes];\n\t\tvar queue = new PriorityQueue<Pair<EdgeInfo<E>, int>>((x, y) => x.Second.CompareTo(y.Second), numberOfNodes);\n\t\td[start] = 0;\n\t\tqueue.Enqueue(new Pair<EdgeInfo<E>, int>(new EdgeInfo<E>(-1, 0, default(E)), 0));\n\t\twhile (queue.Count > 0)\n\t\t{\n\t\t\tvar p = queue.Dequeue();\n\t\t\tvar v = p.First.To;\n\t\t\tif (d[v] < p.Second) continue;\n\t\t\tused[v] = true;\n\t\t\tif (p.First.From >= 0) graph.AddEdge(v, p.First.From, p.First.Information);\n\t\t\tforeach (var w in EdgesFrom(v))\n\t\t\t{\n\t\t\t\tif (!used[w.End] && cost(w.Information) < d[w.End])\n\t\t\t\t{\n\t\t\t\t\td[w.End] = cost(w.Information);\n\t\t\t\t\tqueue.Enqueue(new Pair<EdgeInfo<E>, int>(new EdgeInfo<E>(v, w.End, w.Information), cost(w.Information)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn graph;\n\t}\n\tpublic UndirectedGraph<V, E> MinimumSpanningTreeKruskal(Func<E, int> cost)\n\t{\n\t\tvar graph = new UndirectedGraph<V, E>(numberOfNodes);\n\t\tnodes.CopyTo(graph.nodes, 0);\n\t\tvar tree = new UnionFindTree(numberOfNodes);\n\t\tedges.Sort((x, y) => cost(x.Information).CompareTo(cost(y.Information)));\n\t\tforeach (var e in edges)\n\t\t{\n\t\t\tif (!tree.IsSameCategory(e.From, e.To))\n\t\t\t{\n\t\t\t\ttree.UniteCategory(e.From, e.To);\n\t\t\t\tgraph.AddEdge(e);\n\t\t\t}\n\t\t}\n\t\treturn graph;\n\t}\n\tpublic bool IsBipartite\n\t{\n\t\tget\n\t\t{\n\t\t\tvar color = new int[numberOfNodes];\n\t\t\tforeach (var v in nodes)\n\t\t\t{\n\t\t\t\tif (color[v.Code] == 0)\n\t\t\t\t{\n\t\t\t\t\tvar queue = new Queue<Pair<int, int>>();\n\t\t\t\t\tqueue.Enqueue(new Pair<int, int>(v.Code, 1));\n\t\t\t\t\twhile (queue.Count > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar w = queue.Dequeue();\n\t\t\t\t\t\tif (color[w.First] != 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (color[w.First] != w.Second) return false;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolor[w.First] = w.Second;\n\t\t\t\t\t\tforeach (var e in EdgesFrom(w.First)) queue.Enqueue(new Pair<int, int>(e.End, -w.Second));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\tpublic IEnumerable<NodeInfo<V>> GetArticulationPoints()\n\t{\n\t\tvar visited = new bool[numberOfNodes];\n\t\tvar parent = new int[numberOfNodes];\n\t\tvar children = Enumerable.Range(0, numberOfNodes).Select(_ => new SortedSet<int>()).ToArray();\n\t\tvar order = new int[numberOfNodes];\n\t\tvar lowest = new int[numberOfNodes];\n\t\tvar isroot = new bool[numberOfNodes];\n\t\tvar count = 1;\n\t\tvar isarticulation = new bool[numberOfNodes];\n\t\tAction<int, int> dfs = null;\n\t\tdfs = (u, prev) =>\n\t\t{\n\t\t\torder[u] = count;\n\t\t\tlowest[u] = count;\n\t\t\tcount++;\n\t\t\tvisited[u] = true;\n\t\t\tforeach (var e in edgesFrom[u])\n\t\t\t{\n\t\t\t\tvar v = e.End;\n\t\t\t\tif (visited[v]) { if (v != prev) lowest[u] = Math.Min(lowest[u], order[v]); }\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tparent[v] = u;\n\t\t\t\t\tif (isroot[u]) children[u].Add(v);\n\t\t\t\t\tdfs(v, u);\n\t\t\t\t\tlowest[u] = Math.Min(lowest[u], lowest[v]);\n\t\t\t\t\tif (order[u] <= lowest[v]) isarticulation[u] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tfor (var v = 0; v < numberOfNodes; v++)\n\t\t{\n\t\t\tif (visited[v]) continue;\n\t\t\tcount = 1; dfs(v, -1);\n\t\t\tisroot[v] = true;\n\t\t}\n\t\tfor (var v = 0; v < numberOfNodes; v++)\n\t\t{\n\t\t\tif (isroot[v]) { if (children[v].Count > 1) yield return nodes[v]; }\n\t\t\telse { if (isarticulation[v]) yield return nodes[v]; }\n\t\t}\n\t}\n\tpublic string ToString(Func<NodeInfo<V>, string> vertex, Func<EdgeInfo<E>, string> edge)\n\t{\n\t\tvar sb = new StringBuilder();\n\t\tsb.Append(\"graph G {\\n\");\n\t\tforeach (var v in nodes) sb.Append($\"\\tv{v.Code} [label = \\\"{vertex(v)}\\\"];\\n\");\n\t\tforeach (var e in edges) sb.Append($\"\\tv{e.From} -- v{e.To} [label=\\\"{edge(e)}\\\"];\\n\");\n\t\tsb.Append(\"}\");\n\t\treturn sb.ToString();\n\t}\n\tpublic override string ToString() => ToString(v => v.ToString(), e => e.ToString());\n}\nclass NodeInfo<V> : Pair<int, V>\n{\n\tpublic int Code { get { return First; } set { First = value; } }\n\tpublic V Information { get { return Second; } set { Second = value; } }\n\tpublic NodeInfo() : base() { }\n\tpublic NodeInfo(int code, V info) : base(code, info) { }\n}\nclass HalfEdgeInfo<E> : Pair<int, E>\n{\n\tpublic int End { get { return First; } set { First = value; } }\n\tpublic E Information { get { return Second; } set { Second = value; } }\n\tpublic HalfEdgeInfo() : base() { }\n\tpublic HalfEdgeInfo(int end, E info) : base(end, info) { }\n}\nclass EdgeInfo<E> : Pair<Pair<int, int>, E>\n{\n\tpublic int From { get { return First.First; } set { First.First = value; } }\n\tpublic int To { get { return First.Second; } set { First.Second = value; } }\n\tpublic E Information { get { return Second; } set { Second = value; } }\n\tpublic EdgeInfo() : base() { }\n\tpublic EdgeInfo(int from, int to, E info) : base(new Pair<int, int>(from, to), info) { }\n\tpublic EdgeInfo<E> Reverse() => new EdgeInfo<E>(To, From, Information);\n}\nclass DirectedGraph<V, E> : IEnumerable<NodeInfo<V>>\n{\n\tprotected int numberOfNodes;\n\tpublic int NumberOfNodes => numberOfNodes;\n\tprotected NodeInfo<V>[] nodes;\n\tprotected List<EdgeInfo<E>> edges;\n\tprotected List<HalfEdgeInfo<E>>[] edgesFrom;\n\tprotected List<HalfEdgeInfo<E>>[] edgesTo;\n\tpublic IEnumerable<HalfEdgeInfo<E>> EdgesFrom(int node) => edgesFrom[node];\n\tpublic int InDegree(int node) => edgesTo[node].Count;\n\tpublic int OutDegree(int node) => edgesFrom[node].Count;\n\tpublic IEnumerable<HalfEdgeInfo<E>> EdgesTo(int node) => edgesTo[node];\n\tpublic V this[int node] { get { return nodes[node].Second; } set { nodes[node].Second = value; } }\n\tpublic IEnumerable<EdgeInfo<E>> Edges => edges;\n\tpublic DirectedGraph(int V)\n\t{\n\t\tnumberOfNodes = V;\n\t\tnodes = Enumerable.Range(0, V).Select(x => new NodeInfo<V>(x, default(V))).ToArray();\n\t\tedges = new List<EdgeInfo<E>>();\n\t\tedgesFrom = Enumerable.Range(0, V).Select(_ => new List<HalfEdgeInfo<E>>()).ToArray();\n\t\tedgesTo = Enumerable.Range(0, V).Select(_ => new List<HalfEdgeInfo<E>>()).ToArray();\n\t}\n\tpublic DirectedGraph(int V, IEnumerable<EdgeInfo<E>> edges) : this(V) { foreach (var e in edges) AddEdge(e.From, e.To, e.Information); }\n\tpublic virtual void AddEdge(EdgeInfo<E> edge)\n\t{\n\t\tedges.Add(edge);\n\t\tedgesFrom[edge.From].Add(new HalfEdgeInfo<E>(edge.To, edge.Information));\n\t\tedgesTo[edge.To].Add(new HalfEdgeInfo<E>(edge.From, edge.Information));\n\t}\n\tpublic void AddEdge(int from, int to, E information) => AddEdge(new EdgeInfo<E>(from, to, information));\n\tpublic void AddEdge(V from, V to, E information) => AddEdge(new EdgeInfo<E>(SearchNode(from).Code, SearchNode(to).Code, information));\n\tpublic NodeInfo<V> SearchNode(V node) => nodes.FirstOrDefault(e => e.Information.Equals(node));\n\tpublic EdgeInfo<E> SearchEdge(E edge) => edges.Find(e => e.Information.Equals(edge));\n\tpublic IEnumerator<NodeInfo<V>> GetEnumerator() { foreach (var v in nodes) yield return v; }\n\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\tpublic int[] ShortestPathLengthFrom(int from, Func<E, int> cost)\n\t{\n\t\tvar d = Enumerable.Repeat(Func.Inf, numberOfNodes).ToArray();\n\t\td[from] = 0;\n\t\tvar update = true;\n\t\twhile (update)\n\t\t{\n\t\t\tupdate = false;\n\t\t\tforeach (var e in edges)\n\t\t\t{\n\t\t\t\tvar tmp = d[e.From] + cost(e.Information);\n\t\t\t\tif (d[e.From] < Func.Inf && d[e.To] > tmp)\n\t\t\t\t{\n\t\t\t\t\td[e.To] = tmp;\n\t\t\t\t\tupdate = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn d;\n\t}\n\tpublic int[] DijkstraFrom(int from, Func<E, int> cost)\n\t{\n\t\tvar d = Enumerable.Repeat(Func.Inf, numberOfNodes).ToArray();\n\t\tvar queue = new PriorityQueue<Pair<int, int>>((x, y) => x.Second.CompareTo(y.Second));\n\t\td[from] = 0;\n\t\tqueue.Enqueue(new Pair<int, int>(from, 0));\n\t\twhile (!queue.IsEmpty)\n\t\t{\n\t\t\tvar p = queue.Dequeue();\n\t\t\tvar v = p.First;\n\t\t\tif (d[v] < p.Second) continue;\n\t\t\tforeach (var e in EdgesFrom(v))\n\t\t\t{\n\t\t\t\tvar tmp = d[v] + cost(e.Information);\n\t\t\t\tif (d[e.End] > tmp) queue.Enqueue(new Pair<int, int>(e.End, d[e.End] = tmp));\n\t\t\t}\n\t\t}\n\t\treturn d;\n\t}\n\t// cost(e)>=0\n\tpublic Pair<long, int>[] DijkstraFromL(int from, Func<E, long> cost)\n\t{\n\t\tvar d = new Pair<long, int>[numberOfNodes];\n\t\tfor (var i = 0; i < numberOfNodes; i++) d[i] = new Pair<long, int>(Func.InfL, -1);\n\t\tvar queue = new PriorityQueue<Tuple<int, long, int>>((x, y) => x.Item2.CompareTo(y.Item2));\n\t\td[from] = new Pair<long, int>(0, -1);\n\t\tqueue.Enqueue(new Tuple<int, long, int>(from, 0, -1));\n\t\twhile (!queue.IsEmpty)\n\t\t{\n\t\t\tvar p = queue.Dequeue();\n\t\t\tvar v = p.Item1;\n\t\t\tif (d[v].First < p.Item2) continue;\n\t\t\tforeach (var e in edgesFrom[v])\n\t\t\t{\n\t\t\t\tvar tmp = d[v].First + cost(e.Information);\n\t\t\t\tif (d[e.End].First > tmp) queue.Enqueue(new Tuple<int, long, int>(e.End, d[e.End].First = tmp, d[e.End].Second = v));\n\t\t\t}\n\t\t}\n\t\treturn d;\n\t}\n\tpublic int[,] ShortestPathLengthEachOther(Func<E, int> cost)\n\t{\n\t\tvar d = new int[numberOfNodes, numberOfNodes];\n\t\tfor (var v = 0; v < numberOfNodes; v++) for (var w = 0; w < numberOfNodes; w++) d[v, w] = Func.Inf;\n\t\tfor (var v = 0; v < numberOfNodes; v++) d[v, v] = 0;\n\t\tforeach (var e in edges) if (e.From != e.To) d[e.From, e.To] = cost(e.Information);\n\t\tfor (var k = 0; k < numberOfNodes; k++)\n\t\t\tfor (var v = 0; v < numberOfNodes; v++)\n\t\t\t\tfor (var w = 0; w < numberOfNodes; w++)\n\t\t\t\t\td[v, w] = Math.Min(d[v, w], d[v, k] + d[k, w]);\n\t\treturn d;\n\t}\n\tpublic bool ContainsNegativeLoopWF(Func<E, int> cost)\n\t{\n\t\tvar d = ShortestPathLengthEachOther(cost);\n\t\tfor (var v = 0; v < numberOfNodes; v++) if (d[v, v] < 0) return true;\n\t\treturn false;\n\t}\n\tpublic bool ContainsNegativeLoop(Func<E, int> cost)\n\t{\n\t\tvar d = Enumerable.Repeat(0, numberOfNodes).ToArray();\n\t\tfor (var v = 0; v < numberOfNodes; v++)\n\t\t{\n\t\t\tforeach (var e in edges)\n\t\t\t{\n\t\t\t\tvar tmp = d[e.From] + cost(e.Information);\n\t\t\t\tif (d[e.To] > tmp)\n\t\t\t\t{\n\t\t\t\t\td[e.To] = tmp;\n\t\t\t\t\tif (v == numberOfNodes - 1) return true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tpublic IEnumerable<int> ReachableFrom(int from)\n\t{\n\t\tvar used = new bool[numberOfNodes];\n\t\tvar queue = new Queue<int>();\n\t\tqueue.Enqueue(from);\n\t\twhile (queue.Count > 0)\n\t\t{\n\t\t\tvar v = queue.Dequeue();\n\t\t\tif (used[v]) continue;\n\t\t\tused[v] = true;\n\t\t\tforeach (var e in EdgesFrom(v)) queue.Enqueue(e.End);\n\t\t}\n\t\tfor (var v = 0; v < numberOfNodes; v++) if (used[v]) yield return v;\n\t}\n\tpublic bool IsReachable(int from, int to)\n\t{\n\t\tvar used = new bool[numberOfNodes];\n\t\tvar queue = new Queue<int>();\n\t\tqueue.Enqueue(from);\n\t\twhile (queue.Count > 0)\n\t\t{\n\t\t\tvar v = queue.Dequeue();\n\t\t\tif (v == to) return true;\n\t\t\tif (used[v]) continue;\n\t\t\tused[v] = true;\n\t\t\tforeach (var e in EdgesFrom(v)) queue.Enqueue(e.End);\n\t\t}\n\t\treturn false;\n\t}\n\tpublic Pair<DirectedGraph<HashSet<NodeInfo<V>>, object>, int[]> StronglyConnectedComponents()\n\t{\n\t\tvar mark = new bool[numberOfNodes];\n\t\tvar stack = new Stack<int>();\n\t\tAction<int> dfs = null;\n\t\tdfs = v =>\n\t\t{\n\t\t\tmark[v] = true;\n\t\t\tforeach (var w in edgesFrom[v]) if (!mark[w.End]) dfs(w.End);\n\t\t\tstack.Push(v);\n\t\t};\n\t\tfor (var v = 0; v < numberOfNodes; v++) if (!mark[v]) dfs(v);\n\t\tvar scc = new List<HashSet<NodeInfo<V>>>();\n\t\tmark = new bool[numberOfNodes];\n\t\tvar which = new int[numberOfNodes];\n\t\tAction<int, HashSet<NodeInfo<V>>> rdfs = null;\n\t\trdfs = (v, set) =>\n\t\t{\n\t\t\tset.Add(new NodeInfo<V>(v, nodes[v].Information));\n\t\t\tmark[v] = true;\n\t\t\tforeach (var w in edgesFrom[v]) if (!mark[w.End]) rdfs(w.End, set);\n\t\t};\n\t\tvar M = 0;\n\t\twhile (stack.Count > 0)\n\t\t{\n\t\t\tvar v = stack.Pop();\n\t\t\tif (mark[v]) continue;\n\t\t\tvar set = new HashSet<NodeInfo<V>>();\n\t\t\trdfs(v, set);\n\t\t\tscc.Add(set);\n\t\t\tforeach (var w in set) which[w.Code] = M;\n\t\t\tM++;\n\t\t}\n\t\tvar graph = new UndirectedGraph<HashSet<NodeInfo<V>>, object>(M);\n\t\tfor (var v = 0; v < M; v++) graph[v] = scc[v];\n\t\tforeach (var e in edges) if (which[e.From] != which[e.To]) graph.AddEdge(which[e.From], which[e.To], null);\n\t\treturn new Pair<DirectedGraph<HashSet<NodeInfo<V>>, object>, int[]>(graph, which);\n\t}\n\tpublic string ToString(Func<V, string> vertex, Func<E, string> edge)\n\t{\n\t\tvar sb = new StringBuilder();\n\t\tsb.Append(\"digraph G {\\n\");\n\t\tforeach (var v in nodes) sb.Append($\"\\tv{v.Code} [label = \\\"{vertex(v.Information)}\\\"];\\n\");\n\t\tforeach (var e in edges) sb.Append($\"\\tv{e.From} -> v{e.To} [label=\\\"{edge(e.Information)}\\\"];\\n\");\n\t\tsb.Append(\"}\");\n\t\treturn sb.ToString();\n\t}\n\tpublic override string ToString() => ToString(v => v.ToString(), e => e.ToString());\n}\nclass UnionFindTree\n{\n\tint N;\n\tint[] parent, rank, size;\n\tpublic UnionFindTree(int capacity)\n\t{\n\t\tN = capacity;\n\t\tparent = new int[N];\n\t\trank = new int[N];\n\t\tsize = new int[N];\n\t\tfor (var i = 0; i < N; i++) { parent[i] = i; size[i] = 1; }\n\t}\n\tpublic int GetSize(int x) => size[GetRootOf(x)];\n\tpublic int GetRootOf(int x) => parent[x] == x ? x : parent[x] = GetRootOf(parent[x]);\n\tpublic bool UniteCategory(int x, int y)\n\t{\n\t\tif ((x = GetRootOf(x)) == (y = GetRootOf(y))) return false;\n\t\tif (rank[x] < rank[y]) { parent[x] = y; size[y] += size[x]; }\n\t\telse\n\t\t{\n\t\t\tparent[y] = x; size[x] += size[y];\n\t\t\tif (rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t\treturn true;\n\t}\n\tpublic bool IsSameCategory(int x, int y) => GetRootOf(x) == GetRootOf(y);\n}\nclass AVLTree<T> : IEnumerable<T>, ICollection<T>, ICollection, IEnumerable\n{\n\tpublic class AVLNode : IEnumerable<T>\n\t{\n\t\tAVLTree<T> tree;\n\t\tint height;\n\t\tpublic int Height => height;\n\t\tpublic int Bias => Left.height - Right.height;\n\t\tpublic T Item;\n\t\tpublic AVLNode Parent;\n\t\tpublic AVLNode Left;\n\t\tpublic AVLNode Right;\n\t\tAVLNode(T x, AVLTree<T> tree) { this.tree = tree; Item = x; Left = tree.sentinel; Right = tree.sentinel; }\n\t\tpublic AVLNode(AVLTree<T> tree) : this(default(T), tree) { height = 0; Parent = null; }\n\t\tpublic AVLNode(T x, AVLNode parent, AVLTree<T> tree) : this(x, tree) { height = 1; Parent = parent; }\n\t\tpublic void Adjust() => height = 1 + Math.Max(Left.height, Right.height);\n\t\tpublic void ResetAsSentinel() { height = 0; Left = tree.sentinel; Right = tree.sentinel; }\n\t\tpublic IEnumerator<T> GetEnumerator()\n\t\t{\n\t\t\tif (this != tree.sentinel)\n\t\t\t{\n\t\t\t\tforeach (var x in Left) yield return x;\n\t\t\t\tyield return Item;\n\t\t\t\tforeach (var x in Right) yield return x;\n\t\t\t}\n\t\t}\n\t\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\t}\n\tAVLNode sentinel;\n\tComparison<T> comp;\n\tFunc<T, T, bool> equals;\n\tint count;\n\t// assumed to be comparer\n\t// i.e. comp(x,x)=0, and comp(x,y)>0 then comp(y,x)<0, and comp(x,y)>0 & comp(y,z)>0 then comp(x,z)>0\n\tpublic AVLTree(Comparison<T> comp)\n\t{\n\t\tsentinel = new AVLNode(this);\n\t\tsentinel.ResetAsSentinel();\n\t\tthis.comp = comp ?? Func.DefaultComparison<T>();\n\t\tif (typeof(T).IsValueType) equals = (x, y) => x.Equals(y);\n\t\telse equals = (x, y) => ReferenceEquals(x, y);\n\t\tcount = 0;\n\t}\n\tpublic AVLTree(IComparer<T> comp = null) : this(comp.ToComparison()) { }\n\tvoid Replace(AVLNode u, AVLNode v)\n\t{\n\t\tvar parent = u.Parent;\n\t\tif (parent.Left == u) parent.Left = v;\n\t\telse parent.Right = v;\n\t\tv.Parent = parent;\n\t}\n\tAVLNode RotateL(AVLNode v)\n\t{\n\t\tvar u = v.Right;\n\t\tReplace(v, u);\n\t\tv.Right = u.Left;\n\t\tu.Left.Parent = v;\n\t\tu.Left = v;\n\t\tv.Parent = u;\n\t\tv.Adjust();\n\t\tu.Adjust();\n\t\treturn u;\n\t}\n\tAVLNode RotateR(AVLNode u)\n\t{\n\t\tvar v = u.Left;\n\t\tReplace(u, v);\n\t\tu.Left = v.Right;\n\t\tv.Right.Parent = u;\n\t\tv.Right = u;\n\t\tu.Parent = v;\n\t\tu.Adjust();\n\t\tv.Adjust();\n\t\treturn v;\n\t}\n\tAVLNode RotateLR(AVLNode t) { RotateL(t.Left); return RotateR(t); }\n\tAVLNode RotateRL(AVLNode t) { RotateR(t.Right); return RotateL(t); }\n\tvoid Adjust(bool isInsertMode, AVLNode node)\n\t{\n\t\twhile (node.Parent != sentinel)\n\t\t{\n\t\t\tvar parent = node.Parent;\n\t\t\tvar height = parent.Height;\n\t\t\tif ((parent.Left == node) == isInsertMode)\n\t\t\t\tif (parent.Bias == 2)\n\t\t\t\t\tif (parent.Left.Bias >= 0) parent = RotateR(parent);\n\t\t\t\t\telse parent = RotateLR(parent);\n\t\t\t\telse parent.Adjust();\n\t\t\telse\n\t\t\t\tif (parent.Bias == -2)\n\t\t\t\tif (parent.Right.Bias <= 0) parent = RotateL(parent);\n\t\t\t\telse parent = RotateRL(parent);\n\t\t\telse parent.Adjust();\n\t\t\tif (height == parent.Height) break;\n\t\t\tnode = parent;\n\t\t}\n\t}\n\tpublic void Add(T item)\n\t{\n\t\tvar parent = sentinel;\n\t\tvar pos = sentinel.Left;\n\t\tvar isLeft = true;\n\t\tcount++;\n\t\twhile (pos != sentinel)\n\t\t\tif (comp(item, pos.Item) < 0) { parent = pos; pos = pos.Left; isLeft = true; }\n\t\t\telse { parent = pos; pos = pos.Right; isLeft = false; }\n\t\tif (isLeft)\n\t\t{\n\t\t\tparent.Left = new AVLNode(item, parent, this);\n\t\t\tAdjust(true, parent.Left);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tparent.Right = new AVLNode(item, parent, this);\n\t\t\tAdjust(true, parent.Right);\n\t\t}\n\t}\n\t// if equals(x,y) holds then !(comp(x,y)<0) and !(comp(x,y)>0) must hold\n\t// i.e. equals(x,y) -> comp(x,y)=0\n\tpublic bool Remove(T item, AVLNode start)\n\t{\n\t\tvar pos = start;\n\t\twhile (pos != sentinel)\n\t\t{\n\t\t\tif (comp(item, pos.Item) < 0) pos = pos.Left;\n\t\t\telse if (comp(item, pos.Item) > 0) pos = pos.Right;\n\t\t\telse if (equals(pos.Item, item))\n\t\t\t{\n\t\t\t\tif (pos.Left == sentinel)\n\t\t\t\t{\n\t\t\t\t\tReplace(pos, pos.Right);\n\t\t\t\t\tAdjust(false, pos.Right);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvar max = Max(pos.Left);\n\t\t\t\t\tpos.Item = max.Item;\n\t\t\t\t\tReplace(max, max.Left);\n\t\t\t\t\tAdjust(false, max.Left);\n\t\t\t\t}\n\t\t\t\tcount--;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse return Remove(item, pos.Left) || Remove(item, pos.Right);\n\t\t}\n\t\treturn false;\n\t}\n\tpublic bool Remove(T item) => Remove(item, sentinel.Left);\n\tAVLNode Max(AVLNode node)\n\t{\n\t\twhile (node.Right != sentinel) node = node.Right;\n\t\treturn node;\n\t}\n\tAVLNode Min(AVLNode node)\n\t{\n\t\twhile (node.Left != sentinel) node = node.Left;\n\t\treturn node;\n\t}\n\tpublic bool Contains(T item)\n\t{\n\t\tvar pos = sentinel.Left;\n\t\twhile (pos != sentinel)\n\t\t{\n\t\t\tif (comp(item, pos.Item) < 0) pos = pos.Left;\n\t\t\telse if (comp(item, pos.Item) > 0) pos = pos.Right;\n\t\t\telse return true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic T Find(T item)\n\t{\n\t\tvar pos = sentinel.Left;\n\t\twhile (pos != sentinel)\n\t\t{\n\t\t\tif (comp(item, pos.Item) < 0) pos = pos.Left;\n\t\t\telse if (comp(item, pos.Item) > 0) pos = pos.Right;\n\t\t\telse return pos.Item;\n\t\t}\n\t\treturn default(T);\n\t}\n\tpublic AVLNode LowerBound(Predicate<T> pred) { AVLNode node; LowerBound(pred, sentinel.Left, out node); return node; }\n\tpublic AVLNode UpperBound(Predicate<T> pred) { AVLNode node; UpperBound(pred, sentinel.Left, out node); return node; }\n\tpublic AVLNode LowerBound(T item) => LowerBound(x => comp(x, item) >= 0);\n\tpublic AVLNode UpperBound(T item) => UpperBound(x => comp(x, item) <= 0);\n\tbool UpperBound(Predicate<T> pred, AVLNode node, out AVLNode res)\n\t{\n\t\tif (node == sentinel) { res = null; return false; }\n\t\tif (pred(node.Item)) { if (!UpperBound(pred, node.Right, out res)) res = node; return true; }\n\t\telse return UpperBound(pred, node.Left, out res);\n\t}\n\tbool LowerBound(Predicate<T> pred, AVLNode node, out AVLNode res)\n\t{\n\t\tif (node == sentinel) { res = null; return false; }\n\t\tif (pred(node.Item)) { if (!LowerBound(pred, node.Left, out res)) res = node; return true; }\n\t\telse return LowerBound(pred, node.Right, out res);\n\t}\n\tpublic T Min() => Min(sentinel.Left).Item;\n\tpublic AVLNode MinNode() => Min(sentinel.Left);\n\tpublic T Max() => Max(sentinel.Left).Item;\n\tpublic AVLNode MaxNode() => Max(sentinel.Left);\n\tpublic bool IsEmpty => sentinel.Left == sentinel;\n\tpublic void Clear() { sentinel.Left = sentinel; count = 0; sentinel.ResetAsSentinel(); }\n\tpublic IEnumerator<T> GetEnumerator() => sentinel.Left.GetEnumerator();\n\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\tpublic void CopyTo(T[] array, int arrayIndex) { foreach (var x in this) array[arrayIndex++] = x; }\n\tpublic int Count => count;\n\tpublic bool IsReadOnly => true;\n\tpublic void CopyTo(Array array, int index) { foreach (var x in this) array.SetValue(x, index++); }\n\tpublic bool IsSynchronized => false;\n\tpublic object SyncRoot => this;\n\tpublic override string ToString()\n\t{\n\t\tvar nodes = new StringBuilder();\n\t\tvar edges = new StringBuilder();\n\t\tConcatSubTree(nodes, edges, sentinel.Left, \"L\");\n\t\treturn $\"digraph G {{\\n{nodes.ToString()}{edges.ToString()}}}\";\n\t}\n\tvoid ConcatSubTree(StringBuilder nodes, StringBuilder edges, AVLNode node, string code)\n\t{\n\t\tif (node == sentinel) return;\n\t\tnodes.Append($\"\\tv{code} [label = \\\"{node.Height}:{node.Item}\\\"];\\n\");\n\t\tif (node.Left != sentinel) edges.Append($\"\\tv{code} -> v{code}L;\\n\");\n\t\tif (node.Right != sentinel) edges.Append($\"\\tv{code} -> v{code}R;\\n\");\n\t\tConcatSubTree(nodes, edges, node.Left, $\"{code}L\");\n\t\tConcatSubTree(nodes, edges, node.Right, $\"{code}R\");\n\t}\n\tpublic bool IsBalanced() => IsBalanced(sentinel.Left);\n\tpublic bool IsValidBinarySearchTree() => IsValidBinarySearchTree(sentinel.Left);\n\tbool IsBalanced(AVLNode node) => node == sentinel || (Math.Abs(node.Bias) < 2 && IsBalanced(node.Left) && IsBalanced(node.Right));\n\tbool IsValidBinarySearchTree(AVLNode node)\n\t\t=> node == sentinel || (Small(node.Item, node.Left) && Large(node.Item, node.Right)\n\t\t\t&& IsValidBinarySearchTree(node.Left) && IsValidBinarySearchTree(node.Right));\n\tbool Small(T item, AVLNode node) => node == sentinel || (comp(item, node.Item) >= 0 && Small(item, node.Left) && Small(item, node.Right));\n\tbool Large(T item, AVLNode node) => node == sentinel || (comp(item, node.Item) <= 0 && Large(item, node.Left) && Large(item, node.Right));\n\tpublic static void CheckAVL(Random rand, int N)\n\t{\n\t\tComparison<double> comp = (x, y) => x.CompareTo(y);\n\t\tvar avl = new AVLTree<double>(comp);\n\t\tvar toBeLeft = new double[N];\n\t\tvar toBeRemoved = new double[N];\n\t\tfor (var i = 0; i < N; i++) avl.Add(toBeRemoved[i] = rand.NextDouble());\n\t\tfor (var i = 0; i < N; i++) avl.Add(toBeLeft[i] = rand.NextDouble());\n\t\tfor (var i = 0; i < N; i++) Console.Write(avl.Remove(toBeRemoved[i]) ? \"\" : \"!!!NOT REMOVED!!! => \" + toBeRemoved[i] + \"\\n\");\n\t\tvar insertErrors = toBeLeft.All(x => avl.Contains(x));\n\t\tvar deleteErrors = avl.Count == N;\n\t\t//Console.WriteLine(\"【AVL木の構造】\");\n\t\t//Console.WriteLine(avl);\n\t\tif (insertErrors && deleteErrors) Console.WriteLine(\"○\\t挿入, 削除操作が正しく行われています.\");\n\t\telse if (insertErrors) Console.WriteLine(\"×\\t挿入(または削除)操作に問題があります.\");\n\t\telse Console.WriteLine(\"×\\t削除(または挿入)操作に問題があります.\");\n\t\tif (avl.IsBalanced()) Console.WriteLine(\"○\\tAVL木は平衡条件を保っています.\");\n\t\telse Console.WriteLine(\"×\\tAVL木の平衡条件が破れています.\");\n\t\tif (avl.IsValidBinarySearchTree()) Console.WriteLine(\"○\\tAVL木は二分探索木になっています.\");\n\t\telse Console.WriteLine(\"×\\tAVL木は二分探索木になっていません.\");\n\t\tArray.Sort(toBeLeft, comp);\n\t\tConsole.WriteLine($\"最小値 : {avl.Min()} ≡ {toBeLeft.First()}\");\n\t\tConsole.WriteLine($\"最大値 : {avl.Max()} ≡ {toBeLeft.Last()}\");\n\t\tConsole.WriteLine($\"要素数 : {avl.Count} 個\");\n\t}\n}\nclass PriorityQueue<T> : IEnumerable<T>, ICollection, IEnumerable, ICloneable\n{\n\tComparison<T> comp;\n\tList<T> list;\n\tpublic int Count { get; private set; } = 0;\n\tpublic bool IsEmpty => Count == 0;\n\tpublic PriorityQueue(IEnumerable<T> source) : this((Comparison<T>)null, 0, source) { }\n\tpublic PriorityQueue(int capacity = 4, IEnumerable<T> source = null) : this((Comparison<T>)null, capacity, source) { }\n\tpublic PriorityQueue(IComparer<T> comp, IEnumerable<T> source) : this(comp.ToComparison(), source) { }\n\tpublic PriorityQueue(IComparer<T> comp, int capacity = 4, IEnumerable<T> source = null) : this(comp.ToComparison(), source) { list.Capacity = capacity; }\n\tpublic PriorityQueue(Comparison<T> comp, IEnumerable<T> source) : this(comp, 0, source) { }\n\tpublic PriorityQueue(Comparison<T> comp, int capacity = 4, IEnumerable<T> source = null) { this.comp = comp ?? Func.DefaultComparison<T>(); list = new List<T>(capacity); if (source != null) foreach (var x in source) Enqueue(x); }\n\t/// <summary>\n\t/// add an item\n\t/// this is an O(log n) operation\n\t/// </summary>\n\t/// <param name=\"x\">item</param>\n\tpublic void Enqueue(T x)\n\t{\n\t\tvar pos = Count++;\n\t\tlist.Add(x);\n\t\twhile (pos > 0)\n\t\t{\n\t\t\tvar p = (pos - 1) / 2;\n\t\t\tif (comp(list[p], x) <= 0) break;\n\t\t\tlist[pos] = list[p];\n\t\t\tpos = p;\n\t\t}\n\t\tlist[pos] = x;\n\t}\n\t/// <summary>\n\t/// return the minimum element and remove it\n\t/// this is an O(log n) operation\n\t/// </summary>\n\t/// <returns>the minimum</returns>\n\tpublic T Dequeue()\n\t{\n\t\tvar value = list[0];\n\t\tvar x = list[--Count];\n\t\tlist.RemoveAt(Count);\n\t\tif (Count == 0) return value;\n\t\tvar pos = 0;\n\t\twhile (pos * 2 + 1 < Count)\n\t\t{\n\t\t\tvar a = 2 * pos + 1;\n\t\t\tvar b = 2 * pos + 2;\n\t\t\tif (b < Count && comp(list[b], list[a]) < 0) a = b;\n\t\t\tif (comp(list[a], x) >= 0) break;\n\t\t\tlist[pos] = list[a];\n\t\t\tpos = a;\n\t\t}\n\t\tlist[pos] = x;\n\t\treturn value;\n\t}\n\t/// <summary>\n\t/// look at the minimum element\n\t/// this is an O(1) operation\n\t/// </summary>\n\t/// <returns>the minimum</returns>\n\tpublic T Peek() => list[0];\n\tpublic IEnumerator<T> GetEnumerator() { var x = (PriorityQueue<T>)Clone(); while (x.Count > 0) yield return x.Dequeue(); }\n\tvoid CopyTo(Array array, int index) { foreach (var x in this) array.SetValue(x, index++); }\n\tpublic object Clone() { var x = new PriorityQueue<T>(comp, Count); x.list.AddRange(list); return x; }\n\tpublic void Clear() { list = new List<T>(); Count = 0; }\n\tpublic void TrimExcess() => list.TrimExcess();\n\t/// <summary>\n\t/// check whether item is in this queue\n\t/// this is an O(n) operation\n\t/// </summary>\n\tpublic bool Contains(T item) => list.Contains(item);\n\tIEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n\tvoid ICollection.CopyTo(Array array, int index) => CopyTo(array, index);\n\tbool ICollection.IsSynchronized => false;\n\tobject ICollection.SyncRoot => this;\n}\nclass Deque<T>\n{\n\tT[] array;\n\tint offset, capacity;\n\tpublic int Count { get; protected set; }\n\tpublic Deque(int capacity) { array = new T[this.capacity = capacity]; Count = 0; offset = 0; }\n\tpublic Deque() : this(16) { }\n\tpublic T this[int index] { get { return array[GetIndex(index)]; } set { array[GetIndex(index)] = value; } }\n\tint GetIndex(int index) { var tmp = index + offset; return tmp >= capacity ? tmp - capacity : tmp; }\n\tpublic T PeekFront() => array[offset];\n\tpublic T PeekBack() => array[GetIndex(Count - 1)];\n\tpublic void PushFront(T item)\n\t{\n\t\tif (Count == capacity) Extend();\n\t\tif (--offset < 0) offset += array.Length;\n\t\tarray[offset] = item;\n\t\tCount++;\n\t}\n\tpublic T PopFront()\n\t{\n\t\tCount--;\n\t\tvar tmp = array[offset++];\n\t\tif (offset >= capacity) offset -= capacity;\n\t\treturn tmp;\n\t}\n\tpublic void PushBack(T item)\n\t{\n\t\tif (Count == capacity) Extend();\n\t\tvar id = (Count++) + offset;\n\t\tif (id >= capacity) id -= capacity;\n\t\tarray[id] = item;\n\t}\n\tpublic T PopBack() => array[GetIndex(--Count)];\n\tpublic void Insert(int index, T item)\n\t{\n\t\tPushFront(item);\n\t\tfor (var i = 0; i < index; i++) this[i] = this[i + 1];\n\t\tthis[index] = item;\n\t}\n\tpublic T RemoveAt(int index)\n\t{\n\t\tvar tmp = this[index];\n\t\tfor (var i = index; i > 0; i--) this[i] = this[i - 1];\n\t\tPopFront();\n\t\treturn tmp;\n\t}\n\tvoid Extend()\n\t{\n\t\tvar newArray = new T[capacity << 1];\n\t\tif (offset > capacity - Count)\n\t\t{\n\t\t\tvar length = array.Length - offset;\n\t\t\tArray.Copy(array, offset, newArray, 0, length);\n\t\t\tArray.Copy(array, 0, newArray, length, Count - length);\n\t\t}\n\t\telse Array.Copy(array, offset, newArray, 0, Count);\n\t\tarray = newArray;\n\t\toffset = 0;\n\t\tcapacity <<= 1;\n\t}\n}\nclass PairComparer<S, T> : IComparer<Pair<S, T>>\n\twhere S : IComparable<S>\n\twhere T : IComparable<T>\n{\n\tpublic PairComparer() { }\n\tpublic int Compare(Pair<S, T> x, Pair<S, T> y)\n\t{\n\t\tvar p = x.First.CompareTo(y.First);\n\t\tif (p != 0) return p;\n\t\telse return x.Second.CompareTo(y.Second);\n\t}\n}\nclass Pair<S, T>\n{\n\tpublic S First;\n\tpublic T Second;\n\tpublic Pair() { First = default(S); Second = default(T); }\n\tpublic Pair(S s, T t) { First = s; Second = t; }\n\tpublic override string ToString() => $\"({First}, {Second})\";\n\tpublic override int GetHashCode() => First.GetHashCode() ^ Second.GetHashCode();\n\tpublic override bool Equals(object obj)\n\t{\n\t\tif (ReferenceEquals(this, obj)) return true;\n\t\telse if (obj == null) return false;\n\t\tvar tmp = obj as Pair<S, T>;\n\t\treturn tmp != null && First.Equals(tmp.First) && Second.Equals(tmp.Second);\n\t}\n}\nclass Point : Pair<int, int>\n{\n\tpublic int X { get { return First; } set { First = value; } }\n\tpublic int Y { get { return Second; } set { Second = value; } }\n\tpublic Point() : base(0, 0) { }\n\tpublic Point(int x, int y) : base(x, y) { }\n\tpublic IEnumerable<Point> Neighbors4()\n\t{\n\t\tyield return new Point(X - 1, Y);\n\t\tyield return new Point(X, Y - 1);\n\t\tyield return new Point(X, Y + 1);\n\t\tyield return new Point(X + 1, Y);\n\t}\n\tpublic IEnumerable<Point> Neighbors8()\n\t{\n\t\tyield return new Point(X - 1, Y - 1);\n\t\tyield return new Point(X - 1, Y);\n\t\tyield return new Point(X - 1, Y + 1);\n\t\tyield return new Point(X, Y - 1);\n\t\tyield return new Point(X, Y + 1);\n\t\tyield return new Point(X + 1, Y - 1);\n\t\tyield return new Point(X + 1, Y);\n\t\tyield return new Point(X + 1, Y + 1);\n\t}\n\tpublic static Point operator +(Point p) => new Point(p.X, p.Y);\n\tpublic static Point operator -(Point p) => new Point(-p.X, -p.Y);\n\tpublic static Point operator /(Point p, int r) => new Point(p.X / r, p.Y / r);\n\tpublic static Point operator *(int r, Point p) => new Point(p.X * r, p.Y * r);\n\tpublic static Point operator *(Point p, int r) => new Point(p.X * r, p.Y * r);\n\tpublic static Point operator +(Point p, Point q) => new Point(p.X + q.X, p.Y + q.Y);\n\tpublic static Point operator -(Point p, Point q) => new Point(p.X - q.X, p.Y - q.Y);\n}\nclass Printer : IDisposable\n{\n\tbool isConsole;\n\tTextWriter file;\n\tpublic Printer() { file = new StreamWriter(Console.OpenStandardOutput()) { AutoFlush = false }; isConsole = true; }\n\tpublic Printer(string path) { file = new StreamWriter(path, false) { AutoFlush = false }; isConsole = false; }\n\tpublic void Write<T>(T value) => file.Write(value);\n\tpublic void Write(bool b) => file.Write(b ? \"YES\" : \"NO\");\n\tpublic void Write(string str, params object[] args) => file.Write(str, args);\n\tpublic void WriteLine() => file.WriteLine();\n\tpublic void WriteLine<T>(T value) => file.WriteLine(value);\n\tpublic void WriteLine(bool b) => file.WriteLine(b ? \"YES\" : \"NO\");\n\tpublic void WriteLine<T>(IEnumerable<T> list) { foreach (var x in list) file.WriteLine(x); }\n\tpublic void WriteLine<T>(List<T> list) { foreach (var x in list) file.WriteLine(x); }\n\tpublic void WriteLine<T>(T[] list) { foreach (var x in list) file.WriteLine(x); }\n\tpublic void WriteLine(string str, params object[] args) => file.WriteLine(str, args);\n\tpublic void Dispose() { file.Flush(); if (!isConsole) file.Dispose(); }\n}\nclass Scanner : IDisposable\n{\n\tbool isConsole;\n\tTextReader file;\n\tpublic Scanner() { file = Console.In; }\n\tpublic Scanner(string path) { file = new StreamReader(path); isConsole = false; }\n\tpublic void Dispose() { if (!isConsole) file.Dispose(); }\n\tpublic T Get<T>() => (T)Convert(file.ReadLine(), Type.GetTypeCode(typeof(T)));\n\tpublic int Int => Get<int>();\n\tpublic uint UInt => Get<uint>();\n\tpublic long Long => Get<long>();\n\tpublic ulong ULong => Get<ulong>();\n\tpublic double Double => Get<double>();\n\tpublic decimal Decimal => Get<decimal>();\n\tpublic char Char => Get<char>();\n\tpublic string String => Get<string>();\n\tpublic Tuple<S, T> Get<S, T>() { S s; T t; Read(out s, out t); return new Tuple<S, T>(s, t); }\n\tpublic Tuple<S, T, U> Get<S, T, U>() { S s; T t; U u; Read(out s, out t, out u); return new Tuple<S, T, U>(s, t, u); }\n\tpublic Tuple<S, T, U, V> Get<S, T, U, V>() { S s; T t; U u; V v; Read(out s, out t, out u, out v); return new Tuple<S, T, U, V>(s, t, u, v); }\n\tpublic Tuple<S, T, U, V, W> Get<S, T, U, V, W>() { S s; T t; U u; V v; W w; Read(out s, out t, out u, out v, out w); return new Tuple<S, T, U, V, W>(s, t, u, v, w); }\n\tpublic Tuple<S, T, U, V, W, X> Get<S, T, U, V, W, X>() { S s; T t; U u; V v; W w; X x; Read(out s, out t, out u, out v, out w, out x); return new Tuple<S, T, U, V, W, X>(s, t, u, v, w, x); }\n\tpublic Tuple<S, T, U, V, W, X, Y> Get<S, T, U, V, W, X, Y>() { S s; T t; U u; V v; W w; X x; Y y; Read(out s, out t, out u, out v, out w, out x, out y); return new Tuple<S, T, U, V, W, X, Y>(s, t, u, v, w, x, y); }\n\tpublic Tuple<S, T, U, V, W, X, Y, Z> Get<S, T, U, V, W, X, Y, Z>() { S s; T t; U u; V v; W w; X x; Y y; Z z; Read(out s, out t, out u, out v, out w, out x, out y, out z); return new Tuple<S, T, U, V, W, X, Y, Z>(s, t, u, v, w, x, y, z); }\n\tpublic Pair<S, T> Pair<S, T>() { S s; T t; Read(out s, out t); return new Pair<S, T>(s, t); }\n\tobject Convert(string str, TypeCode type)\n\t{\n\t\tif (type == TypeCode.Int32) return int.Parse(str);\n\t\telse if (type == TypeCode.UInt32) return uint.Parse(str);\n\t\telse if (type == TypeCode.Int64) return long.Parse(str);\n\t\telse if (type == TypeCode.UInt64) return ulong.Parse(str);\n\t\telse if (type == TypeCode.Double) return double.Parse(str);\n\t\telse if (type == TypeCode.Decimal) return decimal.Parse(str);\n\t\telse if (type == TypeCode.Char) return str[0];\n\t\telse if (type == TypeCode.String) return str;\n\t\telse if (type == Type.GetTypeCode(typeof(Point))) { int s, t; Read(out s, out t); return new Point(s, t); }\n\t\telse throw new Exception();\n\t}\n\tpublic T[] ReadMany<T>() { var type = Type.GetTypeCode(typeof(T)); return file.ReadLine().Split(sep, StringSplitOptions.RemoveEmptyEntries).Select(str => (T)Convert(str, type)).ToArray(); }\n\tpublic T[] ReadMany<T>(int n) { var type = Type.GetTypeCode(typeof(T)); return file.ReadLine().Split(sep, StringSplitOptions.RemoveEmptyEntries).Take(n).Select(str => (T)Convert(str, type)).ToArray(); }\n\tpublic T[] ReadManyLines<T>(int n, Func<T> selector) => Enumerable.Range(0, n).Select(_ => selector()).ToArray();\n\tpublic T[] ReadManyLines<T>(int n) => Enumerable.Range(0, n).Select(_ => Get<T>()).ToArray();\n\tpublic Tuple<S, T>[] ReadManyLines<S, T>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T>()).ToArray();\n\tpublic Tuple<S, T, U>[] ReadManyLines<S, T, U>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T, U>()).ToArray();\n\tpublic Tuple<S, T, U, V>[] ReadManyLines<S, T, U, V>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T, U, V>()).ToArray();\n\tpublic Tuple<S, T, U, V, W>[] ReadManyLines<S, T, U, V, W>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T, U, V, W>()).ToArray();\n\tpublic Tuple<S, T, U, V, W, X>[] ReadManyLines<S, T, U, V, W, X>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T, U, V, W, X>()).ToArray();\n\tpublic Tuple<S, T, U, V, W, X, Y>[] ReadManyLines<S, T, U, V, W, X, Y>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T, U, V, W, X, Y>()).ToArray();\n\tpublic Tuple<S, T, U, V, W, X, Y, Z>[] ReadManyLines<S, T, U, V, W, X, Y, Z>(int n) => Enumerable.Range(0, n).Select(_ => Get<S, T, U, V, W, X, Y, Z>()).ToArray();\n\tpublic T[,] ReadManyManyLines<T>(int X, int Y)\n\t{\n\t\tvar array = new T[X, Y];\n\t\tfor (var y = 0; y < Y; y++) { var tmp = ReadMany<T>(X); for (var x = 0; x < X; x++) array[x, y] = tmp[x]; }\n\t\treturn array;\n\t}\n\tpublic void Read<S>(out S s)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S))).ToArray();\n\t\ts = (S)read[0];\n\t}\n\tpublic void Read<S, T>(out S s, out T t)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t}\n\tpublic void Read<S, T, U>(out S s, out T t, out U u)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T)), Type.GetTypeCode(typeof(U))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t\tu = (U)read[2];\n\t}\n\tpublic void Read<S, T, U, V>(out S s, out T t, out U u, out V v)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T)), Type.GetTypeCode(typeof(U)), Type.GetTypeCode(typeof(V))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t\tu = (U)read[2];\n\t\tv = (V)read[3];\n\t}\n\tpublic void Read<S, T, U, V, W>(out S s, out T t, out U u, out V v, out W w)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T)),\n\t\t\tType.GetTypeCode(typeof(U)), Type.GetTypeCode(typeof(V)), Type.GetTypeCode(typeof(W))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t\tu = (U)read[2];\n\t\tv = (V)read[3];\n\t\tw = (W)read[4];\n\t}\n\tpublic void Read<S, T, U, V, W, X>(out S s, out T t, out U u, out V v, out W w, out X x)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T)),\n\t\t\tType.GetTypeCode(typeof(U)), Type.GetTypeCode(typeof(V)), Type.GetTypeCode(typeof(W)), Type.GetTypeCode(typeof(X))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t\tu = (U)read[2];\n\t\tv = (V)read[3];\n\t\tw = (W)read[4];\n\t\tx = (X)read[5];\n\t}\n\tpublic void Read<S, T, U, V, W, X, Y>(out S s, out T t, out U u, out V v, out W w, out X x, out Y y)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T)),\n\t\t\tType.GetTypeCode(typeof(U)), Type.GetTypeCode(typeof(V)), Type.GetTypeCode(typeof(W)), Type.GetTypeCode(typeof(X)), Type.GetTypeCode(typeof(Y))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t\tu = (U)read[2];\n\t\tv = (V)read[3];\n\t\tw = (W)read[4];\n\t\tx = (X)read[5];\n\t\ty = (Y)read[6];\n\t}\n\tpublic void Read<S, T, U, V, W, X, Y, Z>(out S s, out T t, out U u, out V v, out W w, out X x, out Y y, out Z z)\n\t{\n\t\tvar read = ReadMulti(Type.GetTypeCode(typeof(S)), Type.GetTypeCode(typeof(T)),\n\t\t\tType.GetTypeCode(typeof(U)), Type.GetTypeCode(typeof(V)), Type.GetTypeCode(typeof(W)),\n\t\t\tType.GetTypeCode(typeof(X)), Type.GetTypeCode(typeof(Y)), Type.GetTypeCode(typeof(Z))).ToArray();\n\t\ts = (S)read[0];\n\t\tt = (T)read[1];\n\t\tu = (U)read[2];\n\t\tv = (V)read[3];\n\t\tw = (W)read[4];\n\t\tx = (X)read[5];\n\t\ty = (Y)read[6];\n\t\tz = (Z)read[7];\n\t}\n\tstatic char[] sep = new[] { ' ', '/' };\n\tIEnumerable<object> ReadMulti(params TypeCode[] types)\n\t{\n\t\tvar input = file.ReadLine().Split(sep, StringSplitOptions.RemoveEmptyEntries);\n\t\tfor (var i = 0; i < types.Length; i++) yield return Convert(input[i], types[i]);\n\t}\n\tpublic T[,] Board<T>(int X, int Y, Func<char, int, int, T> selector)\n\t{\n\t\tvar array = new T[X, Y];\n\t\tfor (var y = 0; y < Y; y++)\n\t\t{\n\t\t\tvar str = Get<string>();\n\t\t\tfor (var x = 0; x < X; x++) array[x, y] = selector(str[x], x, y);\n\t\t}\n\t\treturn array;\n\t}\n}\nstatic class Func\n{\n\tpublic const int Inf = 1073741789;  // 2 * Inf < int.MaxValue, and Inf is a prime number\n\tpublic const long InfL = 4011686018427387913L;  // 2 * InfL < long.MaxValue, and InfL is a prime number\n\tpublic static Comparison<T> DefaultComparison<T>() => (x, y) => Comparer<T>.Default.Compare(x, y);\n\tpublic static Comparison<T> ToComparison<T>(this IComparer<T> comp) => comp == null ? DefaultComparison<T>() : (x, y) => comp.Compare(x, y);\n\t/// <summary>\n\t/// Find the first number x such that pred(x) is true\n\t/// if pred(x) is false for all min&lt;=x&lt;max, then return max\n\t/// in other words, pred(max) is assumed to be true\n\t/// </summary>\n\t/// <param name=\"min\">inclusive lower limit</param>\n\t/// <param name=\"max\">exclusive upper limit</param>\n\t/// <param name=\"pred\">monotonous predicate, i.e. if pred(a) and a&lt;b, then pred(b)</param>\n\t/// <returns>first number such that satisfy pred</returns>\n\tpublic static long FirstBinary(long min, long max, Predicate<long> pred)\n\t{\n\t\twhile (min < max)\n\t\t{\n\t\t\tvar mid = (min + max) / 2;\n\t\t\tif (pred(mid)) max = mid;\n\t\t\telse min = mid + 1;\n\t\t}\n\t\treturn min;\n\t}\n\t/// <summary>\n\t/// Find the first number x such that pred(x) is true\n\t/// if pred(x) is false for all min&lt;=x&lt;max, then return max\n\t/// in other words, pred(max) is assumed to be true\n\t/// </summary>\n\t/// <param name=\"min\">inclusive lower limit</param>\n\t/// <param name=\"max\">exclusive upper limit</param>\n\t/// <param name=\"pred\">monotonous predicate, i.e. if pred(a) and a&lt;b, then pred(b)</param>\n\t/// <returns>first number such that satisfy pred</returns>\n\tpublic static int FirstBinary(int min, int max, Predicate<int> pred)\n\t{\n\t\twhile (min < max)\n\t\t{\n\t\t\tvar mid = (min + max) / 2;\n\t\t\tif (pred(mid)) max = mid;\n\t\t\telse min = mid + 1;\n\t\t}\n\t\treturn min;\n\t}\n\tpublic static Dictionary<T, S> Reverse<S, T>(this IDictionary<S, T> dict)\n\t{\n\t\tvar r = new Dictionary<T, S>();\n\t\tforeach (var t in dict) r.Add(t.Value, t.Key);\n\t\treturn r;\n\t}\n\tpublic static void Swap<T>(this IList<T> array, int i, int j) { var tmp = array[i]; array[i] = array[j]; array[j] = tmp; }\n\tpublic static void Swap<T>(ref T a, ref T b) { var tmp = a; a = b; b = tmp; }\n\tpublic static T IndexAt<T>(this T[,] array, Pair<int, int> index) => array[index.First, index.Second];\n\tpublic static bool InRegion(this Pair<int, int> p, int X, int Y) => p.InRegion(0, X, 0, Y);\n\tpublic static bool InRegion(this Pair<int, int> p, int x, int X, int y, int Y) => p.First >= x && p.Second >= y && p.First < X && p.Second < Y;\n\t/// <summary>\n\t/// get all permutation of 0, 1, ..., n - 1\n\t/// </summary>\n\t/// <param name=\"n\">length of array</param>\n\t/// <param name=\"func\">if you want to change the elements of the array, you must take a copy</param>\n\tpublic static void Permutation(int n, Action<int[]> func)\n\t{\n\t\tvar array = new int[n];\n\t\tvar unused = new bool[n];\n\t\tfor (var i = 0; i < n; i++) unused[i] = true;\n\t\tPermutation(n, 0, array, unused, func);\n\t}\n\tstatic void Permutation(int n, int i, int[] array, bool[] unused, Action<int[]> func)\n\t{\n\t\tif (i == n) func(array);\n\t\telse\n\t\t\tfor (var x = 0; x < n; x++)\n\t\t\t\tif (unused[x])\n\t\t\t\t{\n\t\t\t\t\tarray[i] = x;\n\t\t\t\t\tunused[x] = false;\n\t\t\t\t\tPermutation(n, i + 1, array, unused, func);\n\t\t\t\t\tunused[x] = true;\n\t\t\t\t}\n\t}\n\tpublic static long Fact(int n)\n\t{\n\t\tvar fact = 1L;\n\t\tfor (var i = 2; i <= n; i++) fact *= i;\n\t\treturn fact;\n\t}\n\tpublic static Dictionary<long, int> Factorize(this long n, List<int> primes)\n\t{\n\t\tvar d = new Dictionary<long, int>();\n\t\tfor (var j = 0; j < primes.Count; j++)\n\t\t{\n\t\t\tvar i = primes[j];\n\t\t\tif (i * i > n) break;\n\t\t\tif (n % i == 0)\n\t\t\t{\n\t\t\t\td.Add(i, 0);\n\t\t\t\twhile (n % i == 0) { n /= i; d[i]++; }\n\t\t\t}\n\t\t}\n\t\tif (n > 1) d.Add(n, 1);\n\t\treturn d;\n\t}\n\tpublic static Dictionary<long, int> Factorize(this long n)\n\t{\n\t\tvar d = new Dictionary<long, int>();\n\t\tfor (var i = 2L; i * i <= n; i++)\n\t\t\tif (n % i == 0)\n\t\t\t{\n\t\t\t\td.Add(i, 0);\n\t\t\t\twhile (n % i == 0) { n /= i; d[i]++; }\n\t\t\t}\n\t\tif (n > 1) d.Add(n, 1);\n\t\treturn d;\n\t}\n\tpublic static long LCM(long n, long m) => Math.Abs((n / GCD(n, m)) * m);\n\tpublic static long Divide(long n, long m) => (n - Remainder(n, m)) / m;\n\tpublic static long Remainder(long n, long m)\n\t{\n\t\tif (m == 0) throw new DivideByZeroException();\n\t\telse if (m < 0) return Remainder(n, -m);\n\t\telse\n\t\t{\n\t\t\tvar r = n % m;\n\t\t\treturn r < 0 ? r + m : r;\n\t\t}\n\t}\n\tpublic static long Recurrence(long[] coeff, long[] init, long N, long mod)\n\t{\n\t\tvar K = init.Length;\n\t\tif (N < 0)\n\t\t{\n\t\t\tvar inv = Inverse(coeff[0], mod);\n\t\t\tvar rc = new long[K];\n\t\t\tfor (var i = 1; i < K; i++) rc[K - i] = -coeff[i] * inv % mod;\n\t\t\trc[0] = inv;\n\t\t\tvar ri = new long[K];\n\t\t\tfor (var i = 0; i < K; i++) ri[K - 1 - i] = init[i];\n\t\t\treturn Recurrence(rc, ri, K - 1 - N, mod);\n\t\t}\n\t\tvar tmp = new long[K];\n\t\tRecurrence(coeff, init, tmp, N, mod);\n\t\tvar sum = 0L;\n\t\tfor (var i = 0; i < K; i++) sum += init[i] * tmp[i] % mod;\n\t\tsum %= mod;\n\t\tif (sum < 0) sum += mod;\n\t\treturn sum;\n\t}\n\tpublic static void Recurrence(long[] coeff, long[] init, long[] state, long N, long mod)\n\t{\n\t\tvar K = init.Length;\n\t\tif (N < K) state[N] = init[N];\n\t\telse if ((N & 1) == 0)\n\t\t{\n\t\t\tvar tmp = new long[K][];\n\t\t\tfor (var i = 0; i < K; i++) tmp[i] = new long[K];\n\t\t\tRecurrence(coeff, init, tmp[0], N / 2, mod);\n\t\t\tfor (var i = 1; i < K; i++) tmp[i] = Next(coeff, tmp[i - 1], mod);\n\t\t\tfor (var i = 0; i < K; i++)\n\t\t\t{\n\t\t\t\tstate[i] = 0;\n\t\t\t\tfor (var j = 0; j < K; j++) state[i] += tmp[0][j] * tmp[j][i] % mod;\n\t\t\t\tstate[i] %= mod;\n\t\t\t}\n\t\t}\n\t\telse if (N < 2 * K || (N & 2) == 0)\n\t\t{\n\t\t\tvar tmp = new long[K];\n\t\t\tRecurrence(coeff, init, tmp, N - 1, mod);\n\t\t\ttmp = Next(coeff, tmp, mod);\n\t\t\tfor (var i = 0; i < K; i++) state[i] = tmp[i];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar tmp = new long[K];\n\t\t\tRecurrence(coeff, init, tmp, N + 1, mod);\n\t\t\ttmp = Prev(coeff, tmp, mod);\n\t\t\tfor (var i = 0; i < K; i++) state[i] = tmp[i];\n\t\t}\n\t}\n\tstatic long[] Next(long[] coeff, long[] state, long mod)\n\t{\n\t\tvar K = coeff.Length;\n\t\tvar tmp = new long[K];\n\t\tfor (var i = 0; i < K; i++) tmp[i] = coeff[i] * state[K - 1] % mod;\n\t\tfor (var i = 1; i < K; i++) tmp[i] = (tmp[i] + state[i - 1]) % mod;\n\t\treturn tmp;\n\t}\n\tstatic long[] Prev(long[] coeff, long[] state, long mod)\n\t{\n\t\tvar K = coeff.Length;\n\t\tvar tmp = new long[K];\n\t\tvar inv = Inverse(coeff[0], mod);\n\t\ttmp[K - 1] = state[0] * inv % mod;\n\t\tfor (var i = 1; i < K; i++) tmp[i - 1] = (state[i] - coeff[i] * tmp[K - 1] % mod) % mod;\n\t\treturn tmp;\n\t}\n\t// get all primes less than or equal to n\n\tpublic static List<int> GetPrimes(int n)\n\t{\n\t\tif (n < 3) n = 3;\n\t\tvar m = (n - 1) >> 1;\n\t\tvar primes = new List<int>((int)(n / Math.Log(n))) { 2 };\n\t\tvar composites = new bool[m];\n\t\tfor (var p = 0; p < m; p++)\n\t\t{\n\t\t\tif (!composites[p])\n\t\t\t{\n\t\t\t\tvar pnum = 2 * p + 3;\n\t\t\t\tprimes.Add(pnum);\n\t\t\t\tfor (var k = 3 * p + 3; k < m; k += pnum) composites[k] = true;\n\t\t\t}\n\t\t}\n\t\treturn primes;\n\t}\n\t/// <summary>\n\t/// solve nx+my=1 and returns (x,y)\n\t/// </summary>\n\t/// <param name=\"n\">assumed to be with m</param>\n\t/// <param name=\"m\">assumed to be with n</param>\n\t/// <returns>(x,y) where nx+my=1</returns>\n\tpublic static Tuple<long, long> SolveLinear(long n, long m)\n\t{\n\t\tif (n < 0) { var p = SolveLinear(-n, m); return p == null ? p : new Tuple<long, long>(-p.Item1, p.Item2); }\n\t\tif (m < 0) { var p = SolveLinear(n, -m); return p == null ? p : new Tuple<long, long>(p.Item1, -p.Item2); }\n\t\tif (n < m) { var p = SolveLinear(m, n); return p == null ? p : new Tuple<long, long>(p.Item2, p.Item1); }\n\t\tlong a = 1, b = 0, c = 0, d = 1;\n\t\twhile (m > 0)\n\t\t{\n\t\t\tvar r = n % m;\n\t\t\tvar q = n / m;\n\t\t\tn = m;\n\t\t\tm = r;\n\t\t\tvar tmp = a;\n\t\t\ta = -a * q + b;\n\t\t\tb = tmp;\n\t\t\ttmp = c;\n\t\t\tc = -c * q + d;\n\t\t\td = tmp;\n\t\t}\n\t\treturn n != 1 ? null : new Tuple<long, long>(d, b);\n\t}\n\tpublic static int GCD(int n, int m)\n\t{\n\t\tvar a = Math.Abs(n);\n\t\tvar b = Math.Abs(m);\n\t\tif (a < b) { var c = a; a = b; b = c; }\n\t\twhile (b > 0)\n\t\t{\n\t\t\tvar c = a % b;\n\t\t\ta = b;\n\t\t\tb = c;\n\t\t}\n\t\treturn a;\n\t}\n\t/*public static long GCD(long n, long m)\n\t{\n\t\tvar a = Math.Abs(n);\n\t\tvar b = Math.Abs(m);\n\t\tif (a < b) { var c = a; a = b; b = c; }\n\t\twhile (b > 0)\n\t\t{\n\t\t\tvar c = a % b;\n\t\t\ta = b;\n\t\t\tb = c;\n\t\t}\n\t\treturn a;\n\t}*/\n\tpublic static long GCD(long a, long b)\n\t{\n\t\tvar n = (ulong)Math.Abs(a); var m = (ulong)Math.Abs(b);\n\t\tif (n == 0) return (long)m; if (m == 0) return (long)n;\n\t\tint zm = 0, zn = 0;\n\t\twhile ((n & 1) == 0) { n >>= 1; zn++; }\n\t\twhile ((m & 1) == 0) { m >>= 1; zm++; }\n\t\twhile (m != n)\n\t\t{\n\t\t\tif (m > n) { m -= n; while ((m & 1) == 0) m >>= 1; }\n\t\t\telse { n -= m; while ((n & 1) == 0) n >>= 1; }\n\t\t}\n\t\treturn (long)n << Math.Min(zm, zn);\n\t}\n\tpublic static BigInteger GCD(BigInteger a, BigInteger b) => BigInteger.GreatestCommonDivisor(a, b);\n\tpublic static long Inverse(long a, long mod)\n\t{\n\t\tif (a < 0) { a %= mod; if (a < 0) a += mod; }\n\t\tvar t = SolveLinear(a, mod);\n\t\treturn t.Item1 > 0 ? t.Item1 : t.Item1 + mod;\n\t}\n\tpublic static ulong Pow(ulong a, ulong b, ulong mod)\n\t{\n\t\tvar p = 1uL;\n\t\tvar x = a;\n\t\twhile (b > 0)\n\t\t{\n\t\t\tif ((b & 1) == 1) p = (p * x) % mod;\n\t\t\tb >>= 1;\n\t\t\tx = (x * x) % mod;\n\t\t}\n\t\treturn p;\n\t}\n\tpublic static long Pow(long a, long b, long mod)\n\t{\n\t\tvar p = 1L;\n\t\tvar x = a;\n\t\twhile (b > 0)\n\t\t{\n\t\t\tif ((b & 1) == 1) p = (p * x) % mod;\n\t\t\tb >>= 1;\n\t\t\tx = (x * x) % mod;\n\t\t}\n\t\treturn p;\n\t}\n\tpublic static long Pow(long a, long b)\n\t{\n\t\tif (a == 1) return 1;\n\t\telse if (a == 0) { if (b >= 0) return 0; else throw new DivideByZeroException(); }\n\t\telse if (b < 0) return 0;\n\t\tvar p = 1L;\n\t\tvar x = a;\n\t\twhile (b > 0)\n\t\t{\n\t\t\tif ((b & 1) == 1) p *= x;\n\t\t\tb >>= 1;\n\t\t\tx *= x;\n\t\t}\n\t\treturn p;\n\t}\n\tpublic static ulong Pow(ulong a, ulong b)\n\t{\n\t\tvar p = 1ul;\n\t\tvar x = a;\n\t\twhile (b > 0)\n\t\t{\n\t\t\tif ((b & 1) == 1) p *= x;\n\t\t\tb >>= 1;\n\t\t\tx *= x;\n\t\t}\n\t\treturn p;\n\t}\n\tpublic static long ChineseRemainder(Tuple<long, long> modRemainder1, Tuple<long, long> modRemainder2)\n\t{\n\t\tvar m1 = modRemainder1.Item1;\n\t\tvar m2 = modRemainder2.Item1;\n\t\tvar a1 = modRemainder1.Item2;\n\t\tvar a2 = modRemainder2.Item2;\n\t\tvar t = SolveLinear(m1, m2);\n\t\tvar n1 = t.Item1;\n\t\tvar n2 = t.Item2;\n\t\treturn (m1 * n1 * a2 + m2 * n2 * a1) % (m1 * m2);\n\t}\n\tpublic static long ChineseRemainder(params Tuple<long, long>[] modRemainder)\n\t{\n\t\tif (modRemainder.Length == 0) throw new DivideByZeroException();\n\t\telse if (modRemainder.Length == 1) return modRemainder[0].Item2;\n\t\telse if (modRemainder.Length == 2) return ChineseRemainder(modRemainder[0], modRemainder[1]);\n\t\telse\n\t\t{\n\t\t\tvar tuple = new Tuple<long, long>(1, 0);\n\t\t\tfor (var i = 0; i < modRemainder.Length; i++)\n\t\t\t{\n\t\t\t\tvar tmp = ChineseRemainder(tuple, modRemainder[i]);\n\t\t\t\ttuple = new Tuple<long, long>(tuple.Item1 * modRemainder[i].Item1, tmp);\n\t\t\t}\n\t\t\treturn tuple.Item2;\n\t\t}\n\t}\n\t// forward transform -> theta= 2*PI/n\n\t// reverse transform -> theta=-2*PI/n, and use a[i]/n instead of a\n\t// O(n*log(n))\n\tpublic static void FastFourierTransform(int n, double theta, Complex[] a)\n\t{\n\t\tfor (var m = n; m >= 2; m >>= 1)\n\t\t{\n\t\t\tvar mh = m >> 1;\n\t\t\tfor (var i = 0; i < mh; i++)\n\t\t\t{\n\t\t\t\tvar w = Complex.Exp(i * theta * Complex.ImaginaryOne);\n\t\t\t\tfor (var j = i; j < n; j += m)\n\t\t\t\t{\n\t\t\t\t\tvar k = j + mh;\n\t\t\t\t\tvar x = a[j] - a[k];\n\t\t\t\t\ta[j] += a[k];\n\t\t\t\t\ta[k] = w * x;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttheta *= 2;\n\t\t}\n\t\tvar s = 0;\n\t\tfor (var j = 1; j < n - 1; j++)\n\t\t{\n\t\t\tfor (var k = n >> 1; k > (s ^= k); k >>= 1) ;\n\t\t\tif (j < s) a.Swap(s, j);\n\t\t}\n\t}\n\t// get table of Euler function\n\t// let return value f, f[i]=phi(i) for 0<=i<=n\n\t// nearly O(n)\n\tpublic static long[] EulerFunctionTable(long n)\n\t{\n\t\tif (n < 2) n = 2;\n\t\tvar f = new long[n + 1];\n\t\tfor (var i = 0L; i <= n; i++) f[i] = i;\n\t\tfor (var i = 2L; i <= n; i++) if (f[i] == i) for (var j = i; j <= n; j += i) f[j] = f[j] / i * (i - 1);\n\t\treturn f;\n\t}\n\t// O(sqrt(n))\n\tpublic static long EulerFunction(long n)\n\t{\n\t\tvar res = n;\n\t\tfor (var i = 2L; i * i <= n; i++)\n\t\t\tif (n % i == 0)\n\t\t\t{\n\t\t\t\tres = res / i * (i - 1);\n\t\t\t\tdo n /= i; while (n % i == 0);\n\t\t\t}\n\t\tif (n != 1) res = res / n * (n - 1);\n\t\treturn res;\n\t}\n\t// get moebius function of d s.t. 0<=d<=n\n\t// O(n)\n\tpublic static int[] MoebiusFunctionTable(long n)\n\t{\n\t\tif (n < 2) n = 2;\n\t\tvar f = new int[n + 1];\n\t\tvar p = new bool[n + 1];\n\t\tfor (var i = 0L; i <= n; i++) f[i] = 1;\n\t\tfor (var i = 2L; i <= n; i++) if (!p[i])\n\t\t\t{\n\t\t\t\tfor (var j = i; j <= n; j += i) { f[j] *= -1; p[j] = true; }\n\t\t\t\tfor (var j = i * i; j <= n; j += i * i) f[j] = 0;\n\t\t\t}\n\t\treturn f;\n\t}\n\t// get moebius function of d s.t. d|n\n\t// if dict.ContainsKey(d), dict[d]!=0, otherwise moebius function of d is 0\n\t// O(sqrt(n))\n\tpublic static Dictionary<long, int> MoebiusFunctionOfDivisors(long n)\n\t{\n\t\tvar ps = new List<long>();\n\t\tfor (var i = 2L; i * i <= n; i++)\n\t\t\tif (n % i == 0)\n\t\t\t{\n\t\t\t\tps.Add(i);\n\t\t\t\tdo n /= i; while (n % i == 0);\n\t\t\t}\n\t\tif (n != 1) ps.Add(n);\n\t\tvar dict = new Dictionary<long, int>();\n\t\tvar m = ps.Count;\n\t\tfor (var i = 0; i < (1 << m); i++)\n\t\t{\n\t\t\tvar mu = 1;\n\t\t\tvar k = 1L;\n\t\t\tfor (var j = 0; j < m; j++) if ((i & (1 << j)) != 0) { mu *= -1; k *= ps[j]; }\n\t\t\tdict.Add(k, mu);\n\t\t}\n\t\treturn dict;\n\t}\n\t// O(sqrt(n))\n\tpublic static int MoebiusFunction(long n)\n\t{\n\t\tvar mu = 1;\n\t\tfor (var i = 2L; i * i <= n; i++)\n\t\t\tif (n % i == 0)\n\t\t\t{\n\t\t\t\tmu *= -1;\n\t\t\t\tif ((n /= i) % i == 0) return 0;\n\t\t\t}\n\t\treturn n == 1 ? mu : -mu;\n\t}\n\t// O(sqrt(n))\n\tpublic static long CarmichaelFunction(long n)\n\t{\n\t\tvar lambda = 1L;\n\t\tvar c = 0;\n\t\twhile (n % 2 == 0) { n /= 2; c++; }\n\t\tif (c == 2) lambda = 2; else if (c > 2) lambda = 1 << (c - 2);\n\t\tfor (var i = 3L; i * i <= n; i++)\n\t\t\tif (n % i == 0)\n\t\t\t{\n\t\t\t\tvar tmp = i - 1;\n\t\t\t\tn /= i;\n\t\t\t\twhile (n % i == 0) { n /= i; tmp *= i; }\n\t\t\t\tlambda = LCM(lambda, tmp);\n\t\t\t}\n\t\tif (n != 1) lambda = LCM(lambda, n - 1);\n\t\treturn lambda;\n\t}\n\t// a+bi is Gaussian prime or not\n\tpublic static bool IsGaussianPrime(ulong a, ulong b)\n\t{\n\t\tif (a == 0) return b % 4 == 3 && IsPrime(b);\n\t\telse if (b == 0) return a % 4 == 3 && IsPrime(a);\n\t\telse return IsPrime(a * a + b * b);\n\t}\n\t// nearly O(200)\n\tpublic static bool IsPrime(ulong n)\n\t{\n\t\tif (n <= 1 || (n > 2 && n % 2 == 0)) return false;\n\t\tvar test = new uint[] { 2, 3, 5, 7, 11, 13, 17, 19, 23, 111 };\n\t\tvar d = n - 1;\n\t\tvar s = 0;\n\t\twhile (d % 2 == 0) { ++s; d /= 2; }\n\t\tPredicate<ulong> f = t =>\n\t\t{\n\t\t\tvar x = Pow(t, d, n);\n\t\t\tif (x == 1) return true;\n\t\t\tfor (var r = 0L; r < s; r++)\n\t\t\t{\n\t\t\t\tif (x == n - 1) return true;\n\t\t\t\tx = (x * x) % n;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tfor (var i = 0; test[i] < n && test[i] != 111; i++) if (!f(test[i])) return false;\n\t\treturn true;\n\t}\n\tpublic static decimal MeasureTime(Action action)\n\t{\n\t\tvar sw = new Stopwatch();\n\t\tsw.Restart();\n\t\taction();\n\t\tsw.Stop();\n\t\treturn sw.ElapsedTicks * 1000m / Stopwatch.Frequency;\n\t}\n\tpublic static double MeasureTime2(Action action)\n\t{\n\t\tvar sw = new Stopwatch();\n\t\tsw.Restart();\n\t\taction();\n\t\tsw.Stop();\n\t\treturn sw.ElapsedTicks * 1000.0 / Stopwatch.Frequency;\n\t}\n\tstatic readonly double GoldenRatio = 2 / (3 + Math.Sqrt(5));\n\t// assume f is 凹\n\t// find c s.t. a<=c<=b and for all a<=x<=b, f(c)<=f(x)\n\tpublic static double GoldenSectionSearch(double a, double b, Func<double, double> f)\n\t{\n\t\tdouble c = a + GoldenRatio * (b - a), d = b - GoldenRatio * (b - a);\n\t\tdouble fc = f(c), fd = f(d);\n\t\twhile (d - c > 1e-9)\n\t\t{\n\t\t\tif (fc > fd)\n\t\t\t{\n\t\t\t\ta = c; c = d; d = b - GoldenRatio * (b - a);\n\t\t\t\tfc = fd; fd = f(d);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tb = d; d = c; c = a + GoldenRatio * (b - a);\n\t\t\t\tfd = fc; fc = f(c);\n\t\t\t}\n\t\t}\n\t\treturn c;\n\t}\n\t// O(NW)\n\tpublic static int KnapsackW(int[] w, int[] v, int W)\n\t{\n\t\tvar N = w.Length;\n\t\tvar dp = new int[W + 1];\n\t\tfor (var i = 0; i < N; i++) for (var j = W; j >= w[i]; j--) dp[j] = Math.Max(dp[j], v[i] + dp[j - w[i]]);\n\t\treturn dp[W];\n\t}\n\t// O(NV)\n\tpublic static int KnapsackV(int[] w, int[] v, int W)\n\t{\n\t\tvar N = w.Length;\n\t\tvar V = v.Sum();\n\t\tvar dp = new int[V + 1];\n\t\tfor (var i = 1; i <= V; i++) dp[i] = Inf;\n\t\tfor (var i = 0; i < N; i++) for (var j = V; j >= v[i]; j--)\n\t\t\t\tdp[j] = Math.Min(dp[j], w[i] + dp[j - v[i]]);\n\t\tfor (var j = V; j >= 0; j--) if (dp[j] <= W) return j;\n\t\treturn 0;\n\t}\n\t// O(N*2^(N/2))\n\tpublic static long KnapsackN(long[] w, long[] v, int W)\n\t{\n\t\tvar N = w.Length;\n\t\tvar half = N / 2;\n\t\tvar items = new Tuple<long, long>[N];\n\t\tfor (var i = 0; i < N; i++) items[i] = new Tuple<long, long>(w[i], v[i]);\n\t\tArray.Sort(items, (x, y) => x.Item1.CompareTo(y.Item1));\n\t\tFunc<int, int, List<Pair<long, long>>> gen = (start, end) =>\n\t\t{\n\t\t\tif (start >= end) return new List<Pair<long, long>>();\n\t\t\tvar lim = 1 << (end - start);\n\t\t\tvar list = new List<Pair<long, long>>();\n\t\t\tfor (var i = 0; i < lim; i++)\n\t\t\t{\n\t\t\t\tvar weight = 0L;\n\t\t\t\tvar value = 0L;\n\t\t\t\tvar tmp = i;\n\t\t\t\tfor (var j = start; j < end; j++)\n\t\t\t\t{\n\t\t\t\t\tif ((tmp & 1) == 1) { weight += items[j].Item1; value += items[j].Item2; }\n\t\t\t\t\ttmp >>= 1;\n\t\t\t\t}\n\t\t\t\tif (weight <= W) list.Add(new Pair<long, long>(weight, value));\n\t\t\t}\n\t\t\tlist.Sort((x, y) => { var c = x.First.CompareTo(y.First); return c == 0 ? x.Second.CompareTo(y.Second) : c; });\n\t\t\tvar n = list.Count;\n\t\t\tif (n == 0) return list;\n\t\t\tfor (var i = list.Count - 2; i >= 0; i--) if (list[i].First == list[i + 1].First) list[i].Second = Math.Max(list[i].Second, list[i + 1].Second);\n\t\t\tvar small = new List<Pair<long, long>>();\n\t\t\tvar last = -1;\n\t\t\twhile (last + 1 < n)\n\t\t\t{\n\t\t\t\tvar tmp = list[last + 1].First;\n\t\t\t\tlast = FirstBinary(last + 1, n, x => list[x].First > tmp) - 1;\n\t\t\t\tif (small.Count == 0 || list[last].Second > small[small.Count - 1].Second) small.Add(list[last]);\n\t\t\t}\n\t\t\treturn small;\n\t\t};\n\t\tvar first = gen(0, half);\n\t\tvar second = gen(half, N);\n\t\tvar max = 0L;\n\t\tvar last2 = second.Count;\n\t\tforeach (var item in first)\n\t\t{\n\t\t\tlast2 = FirstBinary(0, last2, x => second[x].First > W - item.First) - 1;\n\t\t\tif (last2 < 0) break;\n\t\t\tif (second[last2].First <= W - item.First) SetToMax(ref max, item.Second + second[last2].Second);\n\t\t\tlast2++;\n\t\t}\n\t\treturn max;\n\t}\n\t// nums[i] が counts[i] 個\n\t// K is partial sum?\n\t// O(NK)\n\tpublic static bool PartialSum(int[] nums, int[] counts, int K)\n\t{\n\t\tvar N = nums.Length;\n\t\tvar memo = new int[K + 1];\n\t\tfor (var s = 1; s <= K; s++) memo[s] = -1;\n\t\tfor (var n = 0; n < N; n++) for (var s = 0; s <= K; s++) memo[s] = memo[s] >= 0 ? counts[n] : s < nums[n] ? -1 : memo[s - nums[n]] - 1;\n\t\treturn memo[K] >= 0;\n\t}\n\t// O(N log(N))\n\tpublic static int LongestIncreasingSubsequence(int[] a)\n\t{\n\t\tvar N = a.Length;\n\t\tvar memo = new int[N];\n\t\tmemo.MemberSet(Inf);\n\t\tfor (var n = 0; n < N; n++)\n\t\t{\n\t\t\tvar k = FirstBinary(0, N, x => a[n] <= memo[x]);\n\t\t\tmemo[k] = a[n];\n\t\t}\n\t\treturn FirstBinary(0, N, x => memo[x] == Inf);\n\t}\n\t// O(nm)\n\tpublic static int LongestCommonSubsequence(string s, string t)\n\t{\n\t\tvar n = s.Length;\n\t\tvar m = t.Length;\n\t\tvar memo = new int[n + 1, m + 1];\n\t\tfor (var i = n - 1; i >= 0; i--)\n\t\t\tfor (var j = m - 1; j >= 0; j--)\n\t\t\t\tif (s[i] == t[j]) memo[i, j] = memo[i + 1, j + 1] + 1;\n\t\t\t\telse memo[i, j] = Math.Max(memo[i + 1, j], memo[i, j + 1]);\n\t\treturn memo[0, 0];\n\t}\n\t// the number of ways of dividing N to M numbers\n\t// O(NM)\n\tpublic static int Partition(int N, int M, int Mod)\n\t{\n\t\tvar memo = new long[N + 1, M + 1];\n\t\tfor (var m = 0; m <= M; m++) memo[0, m] = 1;\n\t\tfor (var n = 1; n <= N; n++)\n\t\t{\n\t\t\tmemo[n, 0] = 0;\n\t\t\tfor (var m = 1; m <= M; m++) memo[n, m] = (memo[n, m - 1] + (n - m >= 0 ? memo[n - m, m] : 0)) % Mod;\n\t\t}\n\t\treturn (int)memo[N, M];\n\t}\n\t// max{f(a)+...+f(b-1) | from<=a<b<=to}\n\t// O(to-from)\n\tpublic static long MaxIntervalSum(int from, int to, Func<long, long> f)\n\t{\n\t\tlong max, dp;\n\t\tmax = dp = f(from);\n\t\tfor (var i = from + 1; i < to; i++)\n\t\t{\n\t\t\tvar tmp = f(i);\n\t\t\tdp = tmp + Math.Max(0, dp);\n\t\t\tmax = Math.Max(max, dp);\n\t\t}\n\t\treturn max;\n\t}\n\tpublic static int MaxElement<T>(this IEnumerable<T> source, Comparison<T> comp)\n\t{\n\t\tvar p = source.GetEnumerator();\n\t\tif (!p.MoveNext()) return -1;\n\t\tvar max = p.Current;\n\t\tvar mi = 0;\n\t\tvar i = 0;\n\t\twhile (p.MoveNext())\n\t\t{\n\t\t\ti++;\n\t\t\tif (comp(max, p.Current) < 0) { max = p.Current; mi = i; }\n\t\t}\n\t\treturn mi;\n\t}\n\tpublic static int MaxElement<T>(this IEnumerable<T> source) where T : IComparable<T> => source.MaxElement((x, y) => x.CompareTo(y));\n\tpublic static int MinElement<T>(IEnumerable<T> source, Comparison<T> comp) => source.MaxElement((x, y) => comp(y, x));\n\tpublic static int MinElement<T>(IEnumerable<T> source) where T : IComparable<T> => source.MaxElement((x, y) => y.CompareTo(x));\n\tpublic static void Shuffle<T>(IList<T> source, Random rand) { for (var i = source.Count - 1; i >= 0; --i) source.Swap(i, rand.Next(0, i + 1)); }\n\tpublic static void Shuffle<T>(IList<T> source, RandomSFMT rand) { for (var i = source.Count - 1; i >= 0; --i) source.Swap(i, rand.Next(0, i + 1)); }\n\tpublic static char NextChar(this Random rand) => (char)(rand.Next(0, 'z' - 'a' + 1) + 'a');\n\tpublic static char NextChar(this RandomSFMT rand) => (char)(rand.Next(0, 'z' - 'a' + 1) + 'a');\n\tpublic static string NextString(this Random rand, int length) => new string(Enumerable.Range(0, length).Select(_ => rand.NextChar()).ToArray());\n\tpublic static string NextString(this RandomSFMT rand, int length) => new string(Enumerable.Range(0, length).Select(_ => rand.NextChar()).ToArray());\n\tpublic static IEnumerable<T> Rotate<T>(this IEnumerable<T> source)\n\t{\n\t\tvar e = source.GetEnumerator();\n\t\tif (e.MoveNext())\n\t\t{\n\t\t\tvar f = e.Current;\n\t\t\twhile (e.MoveNext()) yield return e.Current;\n\t\t\tyield return f;\n\t\t}\n\t}\n\tpublic static T Apply<T>(this Func<T, T> func, T x, int n)\n\t{\n\t\tvar a = x;\n\t\tfor (var i = 0; i < n; i++) a = func(a);\n\t\treturn a;\n\t}\n\tpublic static void MemberSet<T>(this T[] array, T value)\n\t{\n\t\tvar X = array.Length;\n\t\tfor (var x = 0; x < X; x++) array[x] = value;\n\t}\n\tpublic static void MemberSet<T>(this T[,] array, T value)\n\t{\n\t\tvar X = array.GetLength(0); var Y = array.GetLength(1);\n\t\tfor (var x = 0; x < X; x++) for (var y = 0; y < Y; y++) array[x, y] = value;\n\t}\n\tpublic static void MemberSet<T>(this T[,,] array, T value)\n\t{\n\t\tvar X = array.GetLength(0); var Y = array.GetLength(1); var Z = array.GetLength(2);\n\t\tfor (var x = 0; x < X; x++) for (var y = 0; y < Y; y++) for (var z = 0; z < Z; z++) array[x, y, z] = value;\n\t}\n\tpublic static void MemberSet<T>(this T[,,,] array, T value)\n\t{\n\t\tvar X = array.GetLength(0); var Y = array.GetLength(1); var Z = array.GetLength(2); var W = array.GetLength(3);\n\t\tfor (var x = 0; x < X; x++) for (var y = 0; y < Y; y++) for (var z = 0; z < Z; z++) for (var w = 0; w < W; w++) array[x, y, z, w] = value;\n\t}\n\tpublic static string ToYesNo(this bool flag) => flag ? \"YES\" : \"NO\";\n\tpublic static int SetToMin(ref int min, int other) => min = Math.Min(min, other);\n\tpublic static int SetToMax(ref int max, int other) => max = Math.Max(max, other);\n\tpublic static long SetToMin(ref long min, long other) => min = Math.Min(min, other);\n\tpublic static long SetToMax(ref long max, long other) => max = Math.Max(max, other);\n\tpublic static Tuple<SortedDictionary<int, int>, SortedDictionary<int, int>> Compress(IEnumerable<int> coord, int width, int X)\n\t{\n\t\tvar tmp = new SortedSet<int>();\n\t\tforeach (var x in coord)\n\t\t{\n\t\t\tfor (var w = -width; w <= width; w++)\n\t\t\t\tif (x + w < 0 || x + w >= X) continue;\n\t\t\t\telse if (tmp.Contains(x + w)) continue;\n\t\t\t\telse tmp.Add(x + w);\n\t\t}\n\t\tvar index = 0;\n\t\tvar inverse = new SortedDictionary<int, int>();\n\t\tvar dict = new SortedDictionary<int, int>();\n\t\tforeach (var pair in tmp)\n\t\t{\n\t\t\tdict.Add(pair, index);\n\t\t\tinverse.Add(index++, pair);\n\t\t}\n\t\treturn new Tuple<SortedDictionary<int, int>, SortedDictionary<int, int>>(dict, inverse);\n\t}\n\tpublic static int MSB(uint n)\n\t{\n\t\tn |= (n >> 1);\n\t\tn |= (n >> 2);\n\t\tn |= (n >> 4);\n\t\tn |= (n >> 8);\n\t\tn |= (n >> 16);\n\t\treturn BitCount(n) - 1;\n\t}\n\tpublic static int BitCount(uint n)\n\t{\n\t\tn = (n & 0x55555555) + ((n >> 1) & 0x55555555);\n\t\tn = (n & 0x33333333) + ((n >> 2) & 0x33333333);\n\t\tn = (n & 0x0f0f0f0f) + ((n >> 4) & 0x0f0f0f0f);\n\t\tn = (n & 0x00ff00ff) + ((n >> 8) & 0x00ff00ff);\n\t\treturn (int)((n & 0x0000ffff) + ((n >> 16) & 0x0000ffff));\n\t}\n\tpublic static int LSB(uint n)\n\t{\n\t\tn |= (n << 1);\n\t\tn |= (n << 2);\n\t\tn |= (n << 4);\n\t\tn |= (n << 8);\n\t\tn |= (n << 16);\n\t\treturn 32 - BitCount(n);\n\t}\n\tpublic static int MSB(ulong n)\n\t{\n\t\tn |= (n >> 1);\n\t\tn |= (n >> 2);\n\t\tn |= (n >> 4);\n\t\tn |= (n >> 8);\n\t\tn |= (n >> 16);\n\t\tn |= (n >> 32);\n\t\treturn BitCount(n) - 1;\n\t}\n\tpublic static int BitCount(ulong n)\n\t{\n\t\tn = (n & 0x5555555555555555) + ((n >> 1) & 0x5555555555555555);\n\t\tn = (n & 0x3333333333333333) + ((n >> 2) & 0x3333333333333333);\n\t\tn = (n & 0x0f0f0f0f0f0f0f0f) + ((n >> 4) & 0x0f0f0f0f0f0f0f0f);\n\t\tn = (n & 0x00ff00ff00ff00ff) + ((n >> 8) & 0x00ff00ff00ff00ff);\n\t\tn = (n & 0x0000ffff0000ffff) + ((n >> 16) & 0x0000ffff0000ffff);\n\t\treturn (int)((n & 0x00000000ffffffff) + ((n >> 32) & 0x00000000ffffffff));\n\t}\n\tpublic static int LSB(ulong n)\n\t{\n\t\tn |= (n << 1);\n\t\tn |= (n << 2);\n\t\tn |= (n << 4);\n\t\tn |= (n << 8);\n\t\tn |= (n << 16);\n\t\tn |= (n << 32);\n\t\treturn 64 - BitCount(n);\n\t}\n\tpublic static int Abs(this int n) => Math.Abs(n);\n\tpublic static long Abs(this long n) => Math.Abs(n);\n\tpublic static double Abs(this double n) => Math.Abs(n);\n\tpublic static float Abs(this float n) => Math.Abs(n);\n\tpublic static decimal Abs(this decimal n) => Math.Abs(n);\n\tpublic static short Abs(this short n) => Math.Abs(n);\n\tpublic static sbyte Abs(this sbyte n) => Math.Abs(n);\n\tpublic static int Min(params int[] nums) { var min = int.MaxValue; foreach (var n in nums) min = Math.Min(min, n); return min; }\n\tpublic static long Min(params long[] nums) { var min = long.MaxValue; foreach (var n in nums) min = Math.Min(min, n); return min; }\n\tpublic static uint Min(params uint[] nums) { var min = uint.MaxValue; foreach (var n in nums) min = Math.Min(min, n); return min; }\n\tpublic static ulong Min(params ulong[] nums) { var min = ulong.MaxValue; foreach (var n in nums) min = Math.Min(min, n); return min; }\n\tpublic static double Min(params double[] nums) { var min = double.MaxValue; foreach (var n in nums) min = Math.Min(min, n); return min; }\n\tpublic static decimal Min(params decimal[] nums) { var min = decimal.MaxValue; foreach (var n in nums) min = Math.Min(min, n); return min; }\n\tpublic static int Max(params int[] nums) { var min = int.MinValue; foreach (var n in nums) min = Math.Max(min, n); return min; }\n\tpublic static long Max(params long[] nums) { var min = long.MinValue; foreach (var n in nums) min = Math.Max(min, n); return min; }\n\tpublic static uint Max(params uint[] nums) { var min = uint.MinValue; foreach (var n in nums) min = Math.Max(min, n); return min; }\n\tpublic static ulong Max(params ulong[] nums) { var min = ulong.MinValue; foreach (var n in nums) min = Math.Max(min, n); return min; }\n\tpublic static double Max(params double[] nums) { var min = double.MinValue; foreach (var n in nums) min = Math.Max(min, n); return min; }\n\tpublic static decimal Max(params decimal[] nums) { var min = decimal.MinValue; foreach (var n in nums) min = Math.Max(min, n); return min; }\n\tpublic static void MultiKeySort(this string[] list) => new MultiSorter(list).QuickSort();\n\tclass MultiSorter\n\t{\n\t\tconst int MIN = 0;\n\t\tstring[] a;\n\t\tint max;\n\t\tpublic MultiSorter(string[] l) { a = l; max = a.Max(s => s.Length); }\n\t\tpublic void QuickSort() { if (a.Length >= 2) QuickSort(0, a.Length, 0); }\n\t\tpublic int At(int i, int z) => z < a[i].Length ? a[i][z] : MIN;\n\t\tpublic int At(string s, int z) => z < s.Length ? s[z] : MIN;\n\t\tpublic void QuickSort(int l, int r, int z)\n\t\t{\n\t\t\tint w = r - l, pl = l, pm = l + w / 2, pn = r - 1, c;\n\t\t\tif (w > 30)\n\t\t\t{\n\t\t\t\tvar d = w / 8;\n\t\t\t\tpl = Median(pl, pl + d, pl + 2 * d, z);\n\t\t\t\tpm = Median(pm - d, pm, pm + d, z);\n\t\t\t\tpn = Median(pn - 2 * d, pn - d, pn, z);\n\t\t\t}\n\t\t\tpm = Median(pl, pm, pn, z);\n\t\t\tvar s = a[pm]; a[pm] = a[l]; a[l] = s;\n\t\t\tvar pivot = At(l, z);\n\t\t\tint i = l + 1, x = l + 1, j = r - 1, y = r - 1;\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\twhile (i <= j && (c = At(i, z) - pivot) <= 0)\n\t\t\t\t{\n\t\t\t\t\tif (c == 0) { if (i != x) { s = a[i]; a[i] = a[x]; a[x] = s; } x++; }\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\twhile (i <= j && (c = At(j, z) - pivot) >= 0)\n\t\t\t\t{\n\t\t\t\t\tif (c == 0) { if (j != y) { s = a[j]; a[j] = a[y]; a[y] = s; } y--; }\n\t\t\t\t\tj--;\n\t\t\t\t}\n\t\t\t\tif (i > j) break;\n\t\t\t\ts = a[i]; a[i] = a[j]; a[j] = s;\n\t\t\t\ti++; j--;\n\t\t\t}\n\t\t\tj++; y++;\n\t\t\tvar m = Min(x - l, i - x); SwapRegion(l, i - m, m);\n\t\t\tm = Min(y - j, r - y); SwapRegion(i, r - m, m);\n\t\t\ti += l - x;\n\t\t\tj += r - y;\n\t\t\tif (i - l >= 10) QuickSort(l, i, z); else InsertSort(l, i, z);\n\t\t\tif (pivot != MIN) if (j - i >= 10) QuickSort(i, j, z + 1); else InsertSort(i, j, z + 1);\n\t\t\tif (r - j >= 10) QuickSort(j, r, z); else InsertSort(j, r, z);\n\t\t}\n\t\tprivate void SwapRegion(int p, int q, int n)\n\t\t{\n\t\t\tstring s;\n\t\t\twhile (n-- > 0) { s = a[p]; a[p++] = a[q]; a[q++] = s; }\n\t\t}\n\t\tprivate void InsertSort(int l, int r, int z)\n\t\t{\n\t\t\tstring s;\n\t\t\tfor (var i = l + 1; i < r; i++)\n\t\t\t{\n\t\t\t\tvar tmp = a[i];\n\t\t\t\tint x = z, y = z, p, q;\n\t\t\t\ts = a[i - 1];\n\t\t\t\twhile ((p = At(tmp, x++)) == (q = At(s, y++)) && p != MIN) ;\n\t\t\t\tif (q > p)\n\t\t\t\t{\n\t\t\t\t\tvar j = i;\n\t\t\t\t\twhile (true)\n\t\t\t\t\t{\n\t\t\t\t\t\ta[j] = a[j - 1];\n\t\t\t\t\t\t--j;\n\t\t\t\t\t\tif (j <= l) break;\n\t\t\t\t\t\tx = y = z;\n\t\t\t\t\t\ts = a[j - 1];\n\t\t\t\t\t\twhile ((p = At(tmp, x++)) == (q = At(s, y++)) && p != MIN) ;\n\t\t\t\t\t\tif (q <= p) break;\n\t\t\t\t\t}\n\t\t\t\t\ta[j] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprivate int Median(int a, int b, int c, int z)\n\t\t{\n\t\t\tint p = At(a, z), q = At(b, z);\n\t\t\tif (p == q) return a;\n\t\t\tvar r = At(c, z);\n\t\t\tif (r == p || r == q) return c;\n\t\t\treturn p < q ?\n\t\t\t\t\t(q < r ? b : (p < r ? c : a))\n\t\t\t\t\t: (q > r ? b : (p < r ? a : c));\n\t\t}\n\t}\n}\nclass RandomSFMT : Random\n{\n\tint index, coin_bits, byte_pos, range, shift;\n\tuint coin_save, byte_save, bse;\n\tprotected uint[] x = new uint[40];\n\tstatic uint[] ParityData = { 0x00000001U, 0x00000000U, 0x00000000U, 0x20000000U };\n\tpublic virtual void GenRandAll()\n\t{\n\t\tint a = 0, b = 28, c = 32, d = 36; uint y; var p = x;\n\t\tdo\n\t\t{\n\t\t\ty = p[a + 3] ^ (p[a + 3] << 24) ^ (p[a + 2] >> 8) ^ ((p[b + 3] >> 5) & 0xb5ffff7fU);\n\t\t\tp[a + 3] = y ^ (p[c + 3] >> 8) ^ (p[d + 3] << 14);\n\t\t\ty = p[a + 2] ^ (p[a + 2] << 24) ^ (p[a + 1] >> 8) ^ ((p[b + 2] >> 5) & 0xaff3ef3fU);\n\t\t\tp[a + 2] = y ^ ((p[c + 2] >> 8) | (p[c + 3] << 24)) ^ (p[d + 2] << 14);\n\t\t\ty = p[a + 1] ^ (p[a + 1] << 24) ^ (p[a] >> 8) ^ ((p[b + 1] >> 5) & 0x7fefcfffU);\n\t\t\tp[a + 1] = y ^ ((p[c + 1] >> 8) | (p[c + 2] << 24)) ^ (p[d + 1] << 14);\n\t\t\ty = p[a] ^ (p[a] << 24) ^ ((p[b] >> 5) & 0xf7fefffdU);\n\t\t\tp[a] = y ^ ((p[c] >> 8) | (p[c + 1] << 24)) ^ (p[d] << 14);\n\t\t\tc = d; d = a; a += 4; b += 4;\n\t\t\tif (b == 40) b = 0;\n\t\t} while (a != 40);\n\t}\n\tvoid PeriodCertification()\n\t{\n\t\tuint work, inner = 0; int i, j;\n\t\tindex = 40; range = 0; coin_bits = 0; byte_pos = 0;\n\t\tfor (i = 0; i < 4; i++) inner ^= x[i] & ParityData[i];\n\t\tfor (i = 16; i > 0; i >>= 1) inner ^= inner >> i;\n\t\tinner &= 1;\n\t\tif (inner == 1) return;\n\t\tfor (i = 0; i < 4; i++) for (j = 0, work = 1; j < 32; j++, work <<= 1) if ((work & ParityData[i]) != 0) { x[i] ^= work; return; }\n\t}\n\tpublic void InitMt(uint s)\n\t{\n\t\tunchecked\n\t\t{\n\t\t\tx[0] = s;\n\t\t\tfor (uint p = 1; p < 40; p++) x[p] = s = 1812433253 * (s ^ (s >> 30)) + p;\n\t\t\tPeriodCertification();\n\t\t}\n\t}\n\tpublic RandomSFMT(uint s) { InitMt(s); }\n\tpublic void InitMtEx(uint[] init_key)\n\t{\n\t\tuint r, i, j, c, key_len = (uint)init_key.Length;\n\t\tunchecked\n\t\t{\n\t\t\tfor (i = 0; i < 40; i++) x[i] = 0x8b8b8b8b;\n\t\t\tif (key_len + 1 > 40) c = key_len + 1; else c = 40;\n\t\t\tr = x[0] ^ x[17] ^ x[39]; r = (r ^ (r >> 27)) * 1664525;\n\t\t\tx[17] += r; r += key_len; x[22] += r; x[0] = r; c--;\n\t\t\tfor (i = 1, j = 0; j < c && j < key_len; j++)\n\t\t\t{\n\t\t\t\tr = x[i] ^ x[(i + 17) % 40] ^ x[(i + 39) % 40];\n\t\t\t\tr = (r ^ (r >> 27)) * 1664525; x[(i + 17) % 40] += r;\n\t\t\t\tr += init_key[j] + i; x[(i + 22) % 40] += r;\n\t\t\t\tx[i] = r; i = (i + 1) % 40;\n\t\t\t}\n\t\t\tfor (; j < c; j++)\n\t\t\t{\n\t\t\t\tr = x[i] ^ x[(i + 17) % 40] ^ x[(i + 39) % 40];\n\t\t\t\tr = (r ^ (r >> 27)) * 1664525; x[(i + 17) % 40] += r; r += i;\n\t\t\t\tx[(i + 22) % 40] += r; x[i] = r; i = (i + 1) % 40;\n\t\t\t}\n\t\t\tfor (j = 0; j < 40; j++)\n\t\t\t{\n\t\t\t\tr = x[i] + x[(i + 17) % 40] + x[(i + 39) % 40];\n\t\t\t\tr = (r ^ (r >> 27)) * 1566083941; x[(i + 17) % 40] ^= r;\n\t\t\t\tr -= i; x[(i + 22) % 40] ^= r; x[i] = r; i = (i + 1) % 40;\n\t\t\t}\n\t\t\tPeriodCertification();\n\t\t}\n\t}\n\tpublic RandomSFMT(uint[] init_key) { InitMtEx(init_key); }\n\tpublic RandomSFMT() : this((uint)(DateTime.Now.Ticks & 0xffffffff)) { }\n\tpublic uint NextMt() { if (index == 40) { GenRandAll(); index = 0; } return x[index++]; }\n\tpublic int NextInt(int n) => (int)(n * (1.0 / 4294967296.0) * NextMt());\n\tpublic double NextUnif() { uint z = NextMt() >> 11, y = NextMt(); return (y * 2097152.0 + z) * (1.0 / 9007199254740992.0); }\n\tpublic int NextBit() { if (--coin_bits == -1) { coin_bits = 31; return (int)(coin_save = NextMt()) & 1; } else return (int)(coin_save >>= 1) & 1; }\n\tpublic int NextByte() { if (--byte_pos == -1) { byte_pos = 3; return (int)(byte_save = NextMt()) & 255; } else return (int)(byte_save >>= 8) & 255; }\n\tpublic override int Next(int maxValue) => Next(0, maxValue);\n\tprotected override double Sample() => NextUnif();\n\tpublic override double NextDouble() => NextUnif();\n\tpublic override int Next() => 1 + NextIntEx(int.MaxValue);\n\tpublic override void NextBytes(byte[] buffer) { for (var i = 0; i < buffer.Length; i++) buffer[i] = (byte)NextByte(); }\n\tpublic override int Next(int min, int max) => min + NextIntEx(max - min);\n\tpublic int NextIntEx(int range_)\n\t{\n\t\tuint y_, base_, remain_; int shift_;\n\t\tif (range_ <= 0) return 0;\n\t\tif (range_ != range)\n\t\t{\n\t\t\tbse = (uint)(range = range_);\n\t\t\tfor (shift = 0; bse <= (1UL << 30); shift++) bse <<= 1;\n\t\t}\n\t\twhile (true)\n\t\t{\n\t\t\ty_ = NextMt() >> 1;\n\t\t\tif (y_ < bse) return (int)(y_ >> shift);\n\t\t\tbase_ = bse; shift_ = shift; y_ -= base_;\n\t\t\tremain_ = (1U << 31) - base_;\n\t\t\tfor (; remain_ >= (uint)range_; remain_ -= base_)\n\t\t\t{\n\t\t\t\tfor (; base_ > remain_; base_ >>= 1) shift_--;\n\t\t\t\tif (y_ < base_) return (int)(y_ >> shift_);\n\t\t\t\telse y_ -= base_;\n\t\t\t}\n\t\t}\n\t}\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Text;\nusing System.Collections.Generic;\nclass Solve{\n    public Solve(){}\n    StringBuilder sb;\n    public static int Main(){\n        new Solve().Run();\n        return 0;\n    }\n    void Run(){\n        sb = new StringBuilder();\n        Calc();\n        Console.Write(sb.ToString());\n    }\n    void Calc(){\n        string[] str = Console.ReadLine().Split(' ');\n        int N = int.Parse(str[0]);\n        long K = int.Parse(str[1]);\n        string s = Console.ReadLine();\n        if(N == 1){\n            if(K % 2 == 0 ^ s[0] == 'A'){\n                sb.Append(\"B\\n\");\n            }\n            else{\n                sb.Append(\"A\\n\");\n            }\n        }\n        else{\n            bool f = false;\n            bool c = false;\n            int count = 0;\n            for(int i=0;i<N;i++){\n                if(!f){\n                    if(s[i] == 'A' ^ c){\n                        if(K == 1){\n                            K--;\n                            sb.Append(\"B\");\n                            count++;\n                        }\n                        else{\n                            K -= 2;\n                            c = !c;\n                        }\n                        if(K == 0){\n                            f = true;\n                        }\n                    }\n                    else{\n                        K--;\n                        c = !c;\n                        if(K == 0){\n                            f = true;\n                        }\n                    }\n                }\n                else{\n                    if(s[i] == 'A' ^ c){\n                        sb.Append(\"A\");\n                    }\n                    else{\n                        sb.Append(\"B\");\n                    }\n                    count++;\n                }\n            }\n            if(K != 0){\n                c = false;\n            } \n            for(int i=count;i<N;i++){\n                if(c){\n                    sb.Append(\"A\");\n                }\n                else{\n                    sb.Append(\"B\");\n                }\n                c = !c;\n            }\n            sb.Append(\"\\n\");\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Text;\nusing System.Collections.Generic;\nclass Solve{\n    public Solve(){}\n    StringBuilder sb;\n    public static int Main(){\n        new Solve().Run();\n        return 0;\n    }\n    void Run(){\n        sb = new StringBuilder();\n        Calc();\n        Console.Write(sb.ToString());\n    }\n    void Calc(){\n        string[] str = Console.ReadLine().Split(' ');\n        int N = int.Parse(str[0]);\n        long K = int.Parse(str[1]);\n        string s = Console.ReadLine();\n        bool f = false;\n        bool c = false;\n        int count = 0;\n        for(int i=0;i<N;i++){\n            if(!f){\n                if(s[i] == 'A' ^ c){\n                    if(K == 1){\n                        K--;\n                        sb.Append(\"B\");\n                        count++;\n                    }\n                    else{\n                        K -= 2;\n                        c = !c;\n                    }\n                    if(K == 0){\n                        f = true;\n                    }\n                }\n                else{\n                    K--;\n                    c = !c;\n                    if(K == 0){\n                        f = true;\n                    }\n                }\n            }\n            else{\n                if(s[i] == 'A' ^ c){\n                    sb.Append(\"A\");\n                }\n                else{\n                    sb.Append(\"B\");\n                }\n                count++;\n            }\n        }\n        if(K != 0){\n            if(N % 2 == 0){\n                c = false;\n                for(int i=0;i<N;i++){\n                    if(c){\n                        sb.Append(\"A\");\n                    }\n                    else{\n                        sb.Append(\"B\");\n                    }\n                    c = !c;\n                }\n            }\n            else{\n                if(K % 2 == 0){\n                    sb.Append(\"A\");\n                }\n                else{\n                    sb.Append(\"B\");\n                }\n                c = false;\n                for(int i=0;i<N-1;i++){\n                    if(c){\n                        sb.Append(\"A\");\n                    }\n                    else{\n                        sb.Append(\"B\");\n                    }\n                    c = !c;\n                }\n            }\n        } \n        else{\n            for(int i=count;i<N;i++){\n                if(c){\n                    sb.Append(\"A\");\n                }\n                else{\n                    sb.Append(\"B\");\n                }\n                c = !c;\n            }\n        }\n        sb.Append(\"\\n\");\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Text;\nusing System.Collections.Generic;\nclass Solve{\n    public Solve(){}\n    StringBuilder sb;\n    public static int Main(){\n        new Solve().Run();\n        return 0;\n    }\n    void Run(){\n        sb = new StringBuilder();\n        Calc();\n        Console.Write(sb.ToString());\n    }\n    void Calc(){\n        string[] str = Console.ReadLine().Split(' ');\n        int N = int.Parse(str[0]);\n        long K = int.Parse(str[1]);\n        string s = Console.ReadLine();\n        bool f = false;\n        bool c = false;\n        int count = 0;\n        for(int i=0;i<N;i++){\n            if(!f){\n                if(s[i] == 'A' ^ c){\n                    if(K == 1){\n                        K--;\n                        sb.Append(\"B\");\n                        count++;\n                    }\n                    else{\n                        K -= 2;\n                        c = !c;\n                    }\n                    if(K == 0){\n                        f = true;\n                    }\n                }\n                else{\n                    K--;\n                    c = !c;\n                    if(K == 0){\n                        f = true;\n                    }\n                }\n            }\n            else{\n                if(s[i] == 'A' ^ c){\n                    sb.Append(\"A\");\n                }\n                else{\n                    sb.Append(\"B\");\n                }\n                count++;\n            }\n        }\n        if(K != 0){\n            c = false;\n        } \n        for(int i=count;i<N;i++){\n            if(c){\n                sb.Append(\"A\");\n            }\n            else{\n                sb.Append(\"B\");\n            }\n            c = !c;\n        }\n        sb.Append(\"\\n\");\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Text;\nusing System.Collections.Generic;\nclass Solve{\n    public Solve(){}\n    StringBuilder sb;\n    public static int Main(){\n        new Solve().Run();\n        return 0;\n    }\n    void Run(){\n        sb = new StringBuilder();\n        Calc();\n        Console.Write(sb.ToString());\n    }\n    void Calc(){\n        string[] str = Console.ReadLine().Split(' ');\n        int N = int.Parse(str[0]);\n        long K = int.Parse(str[1]);\n        string s = Console.ReadLine();\n        if(N == 1){\n            if(K % 2 == 0 ^ s[0] == 'A'){\n                sb.Append(\"B\\n\");\n            }\n            else{\n                sb.Append(\"A\\n\");\n            }\n        }\n        else{\n            bool f = false;\n            bool c = false;\n            int count = 0;\n            for(int i=0;i<N;i++){\n                if(!f){\n                    if(s[i] == 'A' ^ c){\n                        if(K == 1){\n                            K--;\n                            sb.Append(\"B\");\n                            count++;\n                        }\n                        else{\n                            K -= 2;\n                            c = !c;\n                        }\n                        if(K == 0){\n                            f = true;\n                        }\n                    }\n                    else{\n                        K--;\n                        c = !c;\n                        if(K == 0){\n                            f = true;\n                        }\n                    }\n                }\n                else{\n                    if(s[i] == 'A' ^ c){\n                        sb.Append(\"A\");\n                    }\n                    else{\n                        sb.Append(\"B\");\n                    }\n                    count++;\n                }\n            }\n            if(K != 0){\n                if(N % 2 == 0){\n                    c = false;\n                    for(int i=0;i<N;i++){\n                        if(c){\n                            sb.Append(\"A\");\n                        }\n                        else{\n                            sb.Append(\"B\");\n                        }\n                        c = !c;\n                    }\n                }\n                else{\n                    if(K % 2 == 0){\n                        sb.Append(\"A\");\n                    }\n                    else{\n                        sb.Append(\"B\");\n                    }\n                    c = false;\n                    for(int i=0;i<N-1;i++){\n                        if(c){\n                            sb.Append(\"A\");\n                        }\n                        else{\n                            sb.Append(\"B\");\n                        }\n                        c = !c;\n                    }\n                }\n            } \n            else{\n                for(int i=count;i<N;i++){\n                    if(c){\n                        sb.Append(\"A\");\n                    }\n                    else{\n                        sb.Append(\"B\");\n                    }\n                    c = !c;\n                }\n            }\n            sb.Append(\"\\n\");\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\nusing Debug = System.Diagnostics.Debug;\nusing StringBuilder = System.Text.StringBuilder;\nusing Number = System.Int64;\nnamespace Program\n{\n    public class Solver\n    {\n\n        public void Solve()\n        {\n            var n = sc.Integer();\n            var k = sc.Integer();\n            var deq = new Deque<int>();\n            for (int i = 0; i < n; i++)\n                deq.PushBack(sc.Char() - 'A');\n            var flip = 0;\n            k %= 4 * n;\n            for (int T = 0; T < k; T++)\n            {\n                var x = deq[0] ^ flip;\n                if (x == 0)\n                    deq[0] ^= 1;\n                else\n                {\n                    deq.PopFront();\n                    flip ^= 1;\n                    deq.PushBack(flip);\n                }\n            }\n            var c = new char[n];\n            for (int i = 0; i < n; i++)\n                c[i] = (char)((deq[i] ^ flip) + 'A');\n            IO.Printer.Out.WriteLine(c.AsString());\n\n        }\n\n        public IO.StreamScanner sc = new IO.StreamScanner(Console.OpenStandardInput());\n        static T[] Enumerate<T>(int n, Func<int, T> f) { var a = new T[n]; for (int i = 0; i < n; ++i) a[i] = f(i); return a; }\n        static public void Swap<T>(ref T a, ref T b) { var tmp = a; a = b; b = tmp; }\n    }\n}\n\n#region main\nstatic class Ex\n{\n    static public string AsString(this IEnumerable<char> ie) { return new string(System.Linq.Enumerable.ToArray(ie)); }\n    static public string AsJoinedString<T>(this IEnumerable<T> ie, string st = \" \") { return string.Join(st, ie); }\n    static public void Main()\n    {\n        var solver = new Program.Solver();\n        solver.Solve();\n        Program.IO.Printer.Out.Flush();\n    }\n}\n#endregion\n#region Ex\nnamespace Program.IO\n{\n    using System.IO;\n    using System.Text;\n    using System.Globalization;\n    public class Printer: StreamWriter\n    {\n        static Printer() { Out = new Printer(Console.OpenStandardOutput()) { AutoFlush = false }; }\n        public static Printer Out { get; set; }\n        public override IFormatProvider FormatProvider { get { return CultureInfo.InvariantCulture; } }\n        public Printer(System.IO.Stream stream) : base(stream, new UTF8Encoding(false, true)) { }\n        public Printer(System.IO.Stream stream, Encoding encoding) : base(stream, encoding) { }\n        public void Write<T>(string format, T[] source) { base.Write(format, source.OfType<object>().ToArray()); }\n        public void WriteLine<T>(string format, T[] source) { base.WriteLine(format, source.OfType<object>().ToArray()); }\n    }\n    public class StreamScanner\n    {\n        public StreamScanner(Stream stream) { str = stream; }\n        public readonly Stream str;\n        private readonly byte[] buf = new byte[1024];\n        private int len, ptr;\n        public bool isEof = false;\n        public bool IsEndOfStream { get { return isEof; } }\n        private byte read()\n        {\n            if (isEof) return 0;\n            if (ptr >= len) { ptr = 0; if ((len = str.Read(buf, 0, 1024)) <= 0) { isEof = true; return 0; } }\n            return buf[ptr++];\n        }\n        public char Char() { byte b = 0; do b = read(); while ((b < 33 || 126 < b) && !isEof); return (char)b; }\n\n        public string Scan()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b >= 33 && b <= 126; b = (char)read())\n                sb.Append(b);\n            return sb.ToString();\n        }\n        public string ScanLine()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b != '\\n'; b = (char)read())\n                if (b == 0) break;\n                else if (b != '\\r') sb.Append(b);\n            return sb.ToString();\n        }\n        public long Long()\n        {\n            if (isEof) return long.MinValue;\n            long ret = 0; byte b = 0; var ng = false;\n            do b = read();\n            while (b != 0 && b != '-' && (b < '0' || '9' < b));\n            if (b == 0) return long.MinValue;\n            if (b == '-') { ng = true; b = read(); }\n            for (; true; b = read())\n            {\n                if (b < '0' || '9' < b)\n                    return ng ? -ret : ret;\n                else ret = ret * 10 + b - '0';\n            }\n        }\n        public int Integer() { return (isEof) ? int.MinValue : (int)Long(); }\n        public double Double() { var s = Scan(); return s != \"\" ? double.Parse(s, CultureInfo.InvariantCulture) : double.NaN; }\n        private T[] enumerate<T>(int n, Func<T> f)\n        {\n            var a = new T[n];\n            for (int i = 0; i < n; ++i) a[i] = f();\n            return a;\n        }\n\n        public char[] Char(int n) { return enumerate(n, Char); }\n        public string[] Scan(int n) { return enumerate(n, Scan); }\n        public double[] Double(int n) { return enumerate(n, Double); }\n        public int[] Integer(int n) { return enumerate(n, Integer); }\n        public long[] Long(int n) { return enumerate(n, Long); }\n    }\n}\n#endregion\n#region Deque<T>\n\npublic class Deque<T>\n{\n    T[] buf;\n    int offset;\n    int count;\n    int capacity;\n    public int Count { get { return count; } }\n    public Deque(int cap) { buf = new T[capacity = cap]; }\n    public Deque() { buf = new T[capacity = 8]; }\n    public T this[int index]\n    {\n        get { return buf[getIndex(index)]; }\n        set { buf[getIndex(index)] = value; }\n    }\n    private int getIndex(int index)\n    {\n        if (index >= capacity)\n            throw new IndexOutOfRangeException(\"out of range\");\n        var ret = index + offset;\n        if (ret >= capacity)\n            ret -= capacity;\n        return ret;\n    }\n    public void PushFront(T item)\n    {\n        if (count == capacity) Extend();\n        if (--offset < 0) offset += buf.Length;\n        buf[offset] = item;\n        ++count;\n    }\n    public T PopFront()\n    {\n        if (count == 0)\n            throw new InvalidOperationException(\"collection is empty\");\n        --count;\n        var ret = buf[offset++];\n        if (offset >= capacity) offset -= capacity;\n        return ret;\n    }\n    public void PushBack(T item)\n    {\n        if (count == capacity) Extend();\n        var id = count++ + offset;\n        if (id >= capacity) id -= capacity;\n        buf[id] = item;\n    }\n    public T PopBack()\n    {\n        if (count == 0)\n            throw new InvalidOperationException(\"collection is empty\");\n        return buf[getIndex(--count)];\n    }\n    public void Insert(T item, int index)\n    {\n        if (index > count) throw new IndexOutOfRangeException();\n        this.PushFront(item);\n        for (int i = 0; i < index; i++)\n            this[i] = this[i + 1];\n        this[index] = item;\n    }\n    public T RemoveAt(int index)\n    {\n        if (index < 0 || index >= count) throw new IndexOutOfRangeException();\n        var ret = this[index];\n        for (int i = index; i > 0; i--)\n            this[i] = this[i - 1];\n        this.PopFront();\n        return ret;\n    }\n    private void Extend()\n    {\n        T[] newBuffer = new T[capacity << 1];\n        if (offset > capacity - count)\n        {\n            var len = buf.Length - offset;\n            Array.Copy(buf, offset, newBuffer, 0, len);\n            Array.Copy(buf, 0, newBuffer, len, count - len);\n        }\n        else Array.Copy(buf, offset, newBuffer, 0, count);\n        buf = newBuffer;\n        offset = 0;\n        capacity <<= 1;\n    }\n    public T[] Items\n    {\n        get\n        {\n            var a = new T[count];\n            for (int i = 0; i < count; i++)\n                a[i] = this[i];\n            return a;\n        }\n    }\n}\n\n#endregion"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;//リストの使用\nusing System.Collections.Generic;\nusing System.Text;//テキストの高速出力に必要\nclass Program\n{\n\tstatic void Main()\n\t{\n\t\tstring[] input = Console.ReadLine().Split(' ');\n\t\tint n = int.Parse(input[0]);\n\t\tlong k = long.Parse(input[1]);\n\t\tstring s = Console.ReadLine();\n    bool[] reflects = new bool[n];\n    for(int i = 0; i < n; i++)\n    {\n      if(s[i] == 'A') reflects[i] = true;\n    }\n\n    int ballPosition = 0;\n    bool moveRight = true;\n    while(true)\n    {\n      if(reflects[ballPosition]) moveRight = !moveRight;\n      reflects[ballPosition] = !reflects[ballPosition];\n\n      if(moveRight) ballPosition++;\n      else ballPosition--;\n\n      if(ballPosition == -1 || ballPosition == n) break;\n    }\n\n    for(int i = 0; i < n; i++)\n    {\n      Console.WriteLine(reflects[i]);\n    }\n\t}\n}"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map &:to_i\ns=gets.chomp.chars.map(&:ord)\nl=0\nwhile k>0&&l<n\n\tif (s[l]+l)%2>0\n\t\ts[l]^=3\n\t\tbreak if 0==k-=1\n\tend\n\tl+=1\n\tk-=1\nend\ns=s.rotate(l%n)\nif l%2>0\n\ts=s.map{|e|e^3}\nend\nif (n*k)%2>0\n\ts[0]^=3\nend\nputs s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map &:to_i\ns=gets.chomp.chars.map(&:ord)\nl=0\nwhile k>0&&l<n\n\tif (s[l]+l)%2>0\n\t\ts[l]^=3\n\t\tbreak if 0==k-=1\n\tend\n\tl+=1\n\tk-=1\nend\ns=s.rotate(l%n)\nl%2>0&&s=s.map{|e|e^3}\ns[0]^=(n*k)%2*3\nputs s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars.map{|c|c==?A ? 0 : 1}\nf=0\ni=0\nwhile i<n&&k>0\n\tif (1-s[i]+f)%2>0\n\t\ts[i]=[1,0][f]\n\telse\n\t\tf^=1\n\t\ts[n+i]=[0,1][f]\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (1-s[i]+f+k)%2>0 ? ?A : ?B\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|(c==0)^(f==1) ? ?A : ?B}*''\nend\n"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]=='A')^f\n\t\ts[i]=f ? 'A' : 'B'\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 'B' : 'A'\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (s[i]=='A')^f^(k%2>0) ? 'A' : 'B'\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|(c=='A')^f ? 'A' : 'B'}*''\nend"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map &:to_i\ns=gets.chomp.chars.map(&:ord)\nl=-1\nk+=1\nwhile k>0&&l<n\n\tl+=1\n\tk-=1\n\tif (s[l]+l)%2>0\n\t\ts[l]^=3\n\t\tbreak if 0==k-=1\n\tend\nend\ns=s.rotate(l%n)\nl%2>0&&s=s.map{|e|e^3}\ns[0]^=(n*k)%2*3\nputs s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "line = gets.chomp.split(\" \")\nn = line[0].to_i\ncount = line[1].to_i\n\npipes = gets.chomp.split(\"\")\n\ncount.times do\n    current = 0\n    direction = 0\n    if pipes[0].eql?(\"A\")\n        pipes[0] = \"B\"\n        next\n    end\n    while true\n        if pipes[current].eql?(\"A\")\n            pipes[current] = \"B\"\n            if direction == 0\n                current -= 1\n                direction = 1\n            else\n                current += 1\n                direction = 0\n            end\n        elsif pipes[current].eql?(\"B\")\n            pipes[current] = \"A\"\n            if direction == 0\n                current += 1\n                direction = 0\n            else\n                current -= 1\n                direction = 1\n            end\n        end\n        if current < 0 || n <= current\n            break\n        end\n    end\nend\n\nfor pipe in pipes do\n    print pipe\nend\nprint \"\\n\"\n"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]=='A')^f\n\t\ts[i]=f ? 'A' : 'B'\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 'B' : 'A'\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (s[i]=='A')^f^(k%2>0) ? 'B' : 'A'\n\tend\n\t(n/2).times{print 'BA'}\n\tputs\nelse\n\tif f\n\t\tputs n.times.map{|j|s[i+j]=='A' ? 'B' : 'A'}*''\n\telse\n\t\tputs s[i,n]*''\n\tend\nend"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars.map{|c|c==?A ? 0 : 1}\nf=0\ni=0\nwhile i<n&&k>0\n\tif (1-s[i]+f)%2>0\n\t\ts[i]=[1,0][f]\n\telse\n\t\tf^=1\n\t\ts[n+i]=[0,1][f]\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint [?B,?A][(1-s[i]+f+k)%2]\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|(1-c+f)%2>0 ? ?A : ?B}*''\nend\n"
  },
  {
    "language": "Ruby",
    "code": "def out(isA)\n    print (isA ? 'A' : 'B')\nend\n\nn, k = gets.split.map(&:to_i)\nS = gets.chomp.split('').map{|c| c=='A'}\n\ni = 0\nrev = false\ntoprev = false\nwhile i < n\n    if S[i] ^ rev\n        if k == 1\n            k -= 1\n            toprev = true\n        else\n            k -= 2\n            rev = !rev\n            i += 1\n        end\n    else\n        k -= 1\n        rev = !rev\n        i += 1\n    end\n\n    if k == 0 && i < n\n        (i...n).each do |j|\n            out(S[j] ^ rev ^ (j==i && toprev))\n        end\n        i.times do |j|\n            out((i-j)%2 == 1)\n        end\n        exit\n    end\nend\n\nif n%2 == 1\n    out(k%2 == 0)\n    n -= 1\nend\n\nn.times do |j|\n    out(j%2 == 1)\nend"
  },
  {
    "language": "Ruby",
    "code": "n, k = gets.split.map(&:to_i)\ns = gets.chomp.chars.map{|c| c == \"A\"}\n\nk.times {\n  if s[0]\n    s[0] = false\n  else\n    s = s.rotate.map(&:!)\n  end\n}\n\nputs s.map{|x| x ? \"A\" : \"B\"}.join\n"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map &:to_i\ns=gets.chomp.chars.map(&:ord)\nl=0\nwhile k>0&&l<n\n\tif (s[l]+l)%2>0\n\t\ts[l]^=3\n\t\tbreak if 0==k-=1\n\tend\n\tl+=1\n\tk-=1\nend\ns=s.rotate(l%n)\nif l%2>0\n\ts=s.map{|e|e^3}\nend\nif (n+k)%2==0\n\ts[0]^=3\nend\nputs s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars.map{|c|c==?A ? 0 : 1}\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]==0)^f\n\t\ts[i]=f ? 0 : 1\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 1 : 0\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (s[i]==0)^f^(k%2>0) ? ?A : ?B\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|(c==0)^f ? ?A : ?B}*''\nend\n"
  },
  {
    "language": "Ruby",
    "code": "n,k=gets.split.map &:to_i;s=gets.chop.chars.map &:ord;l=0;((s[l]+l)%2>0&&(s[l]^=3;0==k-=1)&&break;l+=1;k-=1)while k>0&&l<n;s=s.rotate l%n;l%2>0&&s=s.map{|e|e^3};s[0]^=(n*k)%2*3;$><<s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]=='A')^f\n\t\ts[i]=f ? 'A' : 'B'\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 'B' : 'A'\n\t\ti+=1\n\tend\n\tk-=1\nend\nif i==n\n\tif f\n\t\tputs s[n,n].map{|c|c=='A' ? 'B' : 'A'}*''\n\telse\n\t\tputs s[n,n]*''\n\tend\nelse\n\tif n%2>0\n\t\tprint (s[i]=='A')^f^(k%2==0) ? 'B' : 'A'\n\tend\n\tputs 'BA'*(n/2)\nelse"
  },
  {
    "language": "Ruby",
    "code": "n, k = gets.split.map(&:to_i)\ns = gets.chomp.chars.map{|c| c == \"A\"}\n\ni = 0\nf = true\n\nk.times {\n  if s[i] == f\n    s[i] = !f\n  else\n    f = !f\n    i += 1\n    i %= n\n  end\n}\n\ns = s.rotate(i)\nputs s.map{|x| x == f ? \"A\" : \"B\"}.join\n"
  },
  {
    "language": "Ruby",
    "code": "line = gets.chomp.split(\" \")\nn = line[0].to_i\ncount = line[1].to_i\n\npipes = gets.chomp.split(\"\")\n\ncount.times do\n    current = 0\n    direction = 0\n    if pipe[0].eql?(\"A\")\n        pipe[0] = \"B\"\n        next\n    end\n    while true\n        if pipes[current].eql?(\"A\")\n            pipes[current] = \"B\"\n            if direction == 0\n                current -= 1\n                direction = 1\n            else\n                current += 1\n                direction = 0\n            end\n        elsif pipes[current].eql?(\"B\")\n            pipes[current] = \"A\"\n            if direction == 0\n                current += 1\n                direction = 0\n            else\n                current -= 1\n                direction = 1\n            end\n        end\n        if current < 0 || n <= current\n            break\n        end\n    end\nend\n\nfor pipe in pipes do\n    print pipe\nend\nprint \"\\n\"\n"
  },
  {
    "language": "Ruby",
    "code": "n,k=gets.split.map &:to_i;s=gets.chars.map{|c|c==?A?0:1};f=i=0;((~s[i]+f)%2>0?s[i]=1-f :(s[n+i]=f^=1;i+=1);k-=1)while i<n&&k>0;puts k>0?['',[?B,?A][(~s[i]+f+k)%2]][n%2]+'BA'*(n/2):s[i,n].map{|c|[?B,?A][(~c+f)%2]}*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]=='A')^f\n\t\ts[i]=f ? 'A' : 'B'\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 'B' : 'A'\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (s[i]=='A')^f^(k%2==0) ? 'B' : 'A'\n\tend\n\t(n/2).times{print 'BA'}\n\tputs\nelse\n\tif f\n\t\tputs n.times.map{|j|s[i+j]=='A' ? 'B' : 'A'}*''\n\telse\n\t\tputs s[i,n]*''\n\tend\nend"
  },
  {
    "language": "Ruby",
    "code": "line = gets.chomp.split(\" \")\nn = line[0].to_i\ncount = line[1].to_i\n\npipes = gets.chomp.split(\"\")\n\ncount.times do\n    current = 0\n    direction = 0\n    while true\n        if pipes[current].eql?(\"A\")\n            pipes[current] = \"B\"\n            if direction == 0\n                current -= 1\n                direction = 1\n            else\n                current += 1\n                direction = 0\n            end\n        elsif pipes[current].eql?(\"B\")\n            pipes[current] = \"A\"\n            if direction == 0\n                current += 1\n                direction = 0\n            else\n                current -= 1\n                direction = 1\n            end\n        end\n        if current < 0 || n <= current\n            break\n        end\n    end\nend\n\nfor pipe in pipes do\n    print pipe\nend\nprint \"\\n\"\n"
  },
  {
    "language": "Ruby",
    "code": "n, k = gets.split.map(&:to_i)\ns = gets.chomp.chars.map{|c| c == \"A\"}\n\ni = 0\nf = true\n\nk %= n * 4\n\nk.times {\n  if s[i] == f\n    s[i] = !f\n  else\n    f = !f\n    i = (i + 1) % n\n  end\n}\n\ns = s.rotate(i)\nputs s.map{|x| x == f ? \"A\" : \"B\"}.join\n"
  },
  {
    "language": "Ruby",
    "code": "n, k = gets.split.map(&:to_i)\ns = gets.chomp.chars.map{|c| c == \"A\"}\n\ni = 0\nf = true\n\nk %= n * 2\n\nk.times {\n  if s[i] == f\n    s[i] = !f\n  else\n    f = !f\n    i = (i + 1) % n\n  end\n}\n\ns = s.rotate(i)\nputs s.map{|x| x == f ? \"A\" : \"B\"}.join\n"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map &:to_i\ns=gets.chomp.chars.map(&:ord)\nl=0\nwhile k>0&&l<n\n\tif (s[l]+l)%2>0\n\t\ts[l]^=3\n\t\tbreak if 0==k-=1\n\tend\n\tl+=1\n\tk-=1\nend\ns=s.rotate(l%n)\nif l%2>0\n\ts=s.map{|e|e^3}\nend\nif (n*k)%2==0\n\ts[0]^=3\nend\nputs s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]=='A')^f\n\t\ts[i]=f ? 'A' : 'B'\n\telse\n\t\tf^=true\n\t\ts<<f ? 'B' : 'A'\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (s[i]=='A')^f^(k%2>0) ? 'A' : 'B'\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|(c=='A')^f ? 'A' : 'B'}*''\nend"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars.map{|c|c==?A ? 0 : 1}\nf=0\ni=0\nwhile i<n&&k>0\n\tif (1-s[i]+f)%2>0\n\t\ts[i]=[1,0][f]\n\telse\n\t\tf^=1\n\t\ts[n+i]=[0,1][f]\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint [?B,?A][(~s[i]+f+k)%2]\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|[?B,?A][(~c+f)%2]}*''\nend\n"
  },
  {
    "language": "Ruby",
    "code": "n,k=gets.split.map &:to_i;s=gets.chomp.chars.map{|c|c==?A?0:1};f=i=0;((~s[i]+f)%2>0?s[i]=1-f :(s[n+i]=f^=1;i+=1);k-=1)while i<n&&k>0;puts k>0?['',[?B,?A][(~s[i]+f+k)%2]][n%2]+'BA'*(n/2):s[i,n].map{|c|[?B,?A][(~c+f)%2]}*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]=='A')^f\n\t\ts[i]=f ? 'A' : 'B'\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 'B' : 'A'\n\t\ti+=1\n\tend\n\tk-=1\nend\nif i==n\n\tif f\n\t\tputs s[n,n].map{|c|c=='A' ? 'B' : 'A'}*''\n\telse\n\t\tputs s[n,n]*''\n\tend\nelse\n\tif n%2>0\n\t\tprint (s[i]=='A')^f^(k%2==0) ? 'B' : 'A'\n\tend\n\tputs 'BA'*(n/2)\nend"
  },
  {
    "language": "Ruby",
    "code": "n,k=gets.split.map &:to_i;s=gets.chomp.chars.map &:ord;l=0;((s[l]+l)%2>0&&(s[l]^=3;0==k-=1)&&break;l+=1;k-=1)while k>0&&l<n;s=s.rotate l%n;l%2>0&&s=s.map{|e|e^3};s[0]^=(n*k)%2*3;$><<s.map(&:chr)*''"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\nn,k=gets.split.map(&:to_i)\ns=gets.chomp.chars.map{|c|c==?A ? 0 : 1}\nf=false\ni=0\nwhile i<n&&k>0\n\tif (s[i]==1)^f\n\t\ts[i]=f ? 0 : 1\n\telse\n\t\tf^=true\n\t\ts[n+i]=f ? 1 : 0\n\t\ti+=1\n\tend\n\tk-=1\nend\nif 0<k\n\tif n%2>0\n\t\tprint (s[i]==0)^f^(k%2>0) ? ?A : ?B\n\tend\n\tputs 'BA'*(n/2)\nelse\n\tputs s[i,n].map{|c|(c==0)^f ? ?A : ?B}*''\nend\n"
  },
  {
    "language": "D",
    "code": "/+ dub.sdl:\n    name \"D\"\n    dependency \"dcomp\" version=\">=0.6.0\"\n+/\n\nimport std.stdio, std.algorithm, std.range, std.conv;\n// import dcomp.scanner;\n// import dcomp.container.deque;\n\nint n;\nstring nxt(string s) {\n    auto t = s.dup;\n    int pos = 0, dir = 1;\n    while (true) {\n        if (pos < 0 || n <= pos) break;\n        if (t[pos] == 'A') {\n            t[pos] = 'B';\n            dir *= -1;\n        } else {\n            t[pos] = 'A';\n        }\n        pos += dir;\n    }\n    return t.idup;\n}\n\nint main() {\n    auto sc = new Scanner(stdin);\n    int k;\n    sc.read(n, k);\n    string s;\n    sc.read(s);\n    auto que = Deque!char();\n    s.each!(c => que.insertBack(c));\n    if (k >= 4*n) {\n        k -= 4*n;\n        k %= 4*n;\n        k += 4*n;\n    }\n\n    bool rev = false;\n    char update(char c) {\n        if (rev) {\n            if (c == 'A') c = 'B';\n            else c = 'A';\n        }\n        return c;\n    }\n    char front() {\n        return update(que.front);\n    }\n    void insertFront(char c) {\n        que.insertFront(update(c));\n    }\n    void insertBack(char c) {\n        que.insertBack(update(c));\n    }\n    \n    foreach (i; 0..k) {\n//        writeln(que[].map!(c => update(c).to!string).join(\"\"));\n        if (front == 'A') {\n            que.removeFront();\n            insertFront('B');\n            continue;\n        }\n        que.removeFront();\n        rev = !rev;\n        insertBack('A');\n    }\n    writeln(que[].map!(c => update(c).to!string).join(\"\"));\n    return 0;\n}\n/* IMPORT /home/yosupo/Program/dcomp/source/dcomp/container/deque.d */\n// module dcomp.container.deque;\n\nstruct Deque(T) {\n    import core.exception : RangeError;\n    import core.memory : GC;\n    import std.range : ElementType, isInputRange;\n    import std.traits : isImplicitlyConvertible;\n\n    struct Payload {\n        T *d;\n        size_t st, length, cap;\n        @property bool empty() const { return length == 0; }\n        alias opDollar = length;\n        ref inout(T) opIndex(size_t i) inout {\n            version(assert) if (length <= i) throw new RangeError();\n            return d[(st+i >= cap) ? (st+i-cap) : st+i];\n        }\n        private void expand() {\n            import std.algorithm : max;\n            assert(length == cap);\n            auto nc = max(size_t(4), 2*cap);\n            T* nd = cast(T*)GC.malloc(nc * T.sizeof);\n            foreach (i; 0..length) {\n                nd[i] = this[i];\n            }\n            d = nd; st = 0; cap = nc;\n        }\n        void clear() {\n            st = length = 0;\n        }\n        void insertFront(T v) {\n            if (length == cap) expand();\n            if (st == 0) st += cap;\n            st--; length++;\n            this[0] = v; \n        }\n        void insertBack(T v) {\n            if (length == cap) expand();\n            length++;\n            this[length-1] = v; \n        }\n        void removeFront() {\n            assert(!empty, \"Deque.removeFront: Deque is empty\");        \n            st++; length--;\n            if (st == cap) st = 0;\n        }\n        void removeBack() {\n            assert(!empty, \"Deque.removeBack: Deque is empty\");        \n            length--;\n        }        \n    }\n    struct RangeT(A) {\n        alias T = typeof(*(A.p));\n        alias E = typeof(A.p.d[0]);\n        T *p;\n        size_t a, b;\n        @property bool empty() const { return b <= a; }\n        @property size_t length() const { return b-a; }\n        @property RangeT save() { return RangeT(p, a, b); }\n        @property RangeT!(const A) save() const {\n            return typeof(return)(p, a, b);\n        }\n        alias opDollar = length;\n        @property ref inout(E) front() inout { return (*p)[a]; }\n        @property ref inout(E) back() inout { return (*p)[b-1]; }\n        void popFront() {\n            version(assert) if (empty) throw new RangeError();\n            a++;\n        }\n        void popBack() {\n            version(assert) if (empty) throw new RangeError();\n            b--;\n        }\n        ref inout(E) opIndex(size_t i) inout { return (*p)[i]; }\n        RangeT opSlice() { return this.save; }\n        RangeT opSlice(size_t i, size_t j) {\n            version(assert) if (i > j || a + j > b) throw new RangeError();\n            return typeof(return)(p, a+i, a+j);\n        }\n        RangeT!(const A) opSlice() const { return this.save; }\n        RangeT!(const A) opSlice(size_t i, size_t j) const {\n            version(assert) if (i > j || a + j > b) throw new RangeError();\n            return typeof(return)(p, a+i, a+j);\n        }\n    }\n    \n    alias Range = RangeT!Deque;\n    alias ConstRange = RangeT!(const Deque);\n    alias ImmutableRange = RangeT!(immutable Deque);\n\n    Payload *p;\n    private void I() { if (!p) p = new Payload(); }\n    private void C() const {\n        version(assert) if (!p) throw new RangeError();\n    }\n    //some value\n    this(U)(U[] values...) if (isImplicitlyConvertible!(U, T)) {I;\n        p = new Payload();\n        foreach (v; values) {\n            insertBack(v);\n        }\n    }\n    //range\n    this(Range)(Range r)\n    if (isInputRange!Range &&\n    isImplicitlyConvertible!(ElementType!Range, T) &&\n    !is(Range == T[])) {I;\n        p = new Payload();\n        foreach (v; r) {\n            insertBack(v);\n        }\n    }\n    \n    @property bool empty() const { return (!p || p.empty); }\n    @property size_t length() const { return (p ? p.length : 0); }\n    alias opDollar = length;\n    ref inout(T) opIndex(size_t i) inout {C; return (*p)[i]; }\n    ref inout(T) front() inout {C; return (*p)[0]; }\n    ref inout(T) back() inout {C; return (*p)[$-1]; }\n    void clear() { if (p) p.clear(); }\n    void insertFront(T v) {I; p.insertFront(v); }\n    void insertBack(T v) {I; p.insertBack(v); }\n    void removeFront() {C; p.removeFront(); }\n    void removeBack() {C; p.removeBack(); }\n    Range opSlice() {I; return Range(p, 0, length); }\n}\n\nunittest {\n    import std.algorithm : equal;\n    import std.range.primitives : isRandomAccessRange;\n    import std.container.util : make;\n    auto q = make!(Deque!int);\n    assert(isRandomAccessRange!(typeof(q[])));\n\n    //insert,remove\n    assert(equal(q[], new int[](0)));\n    q.insertBack(1);\n    assert(equal(q[], [1]));\n    q.insertBack(2);\n    assert(equal(q[], [1, 2]));\n    q.insertFront(3);\n    assert(equal(q[], [3, 1, 2]) && q.front == 3);\n    q.removeFront;\n    assert(equal(q[], [1, 2]) && q.length == 2);\n    q.insertBack(4);\n    assert(equal(q[], [1, 2, 4]) && q.front == 1 && q.back == 4 && q[$-1] == 4);\n    q.insertFront(5);\n    assert(equal(q[], [5, 1, 2, 4]));\n\n    //range\n    assert(equal(q[][1..3], [1, 2]));\n    assert(equal(q[][][][], q[]));\n    //const range\n    const auto rng = q[];\n    assert(rng.front == 5 && rng.back == 4);\n    \n    //reference type\n    auto q2 = q;\n    q2.insertBack(6);\n    q2.insertFront(7);\n    assert(equal(q[], q2[]) && q.length == q2.length);\n\n    //construct with make\n    auto a = make!(Deque!int)(1, 2, 3);\n    auto b = make!(Deque!int)([1, 2, 3]);\n    assert(equal(a[], b[]));\n}\n\nunittest {\n    import std.algorithm : equal;\n    import std.range.primitives : isRandomAccessRange;\n    import std.container.util : make;\n    auto q = make!(Deque!int);\n    q.clear();\n    assert(equal(q[], new int[0]));\n    foreach (i; 0..100) {\n        q.insertBack(1);\n        q.insertBack(2);\n        q.insertBack(3);\n        q.insertBack(4);\n        q.insertBack(5);    \n        assert(equal(q[], [1,2,3,4,5]));\n        q.clear();\n        assert(equal(q[], new int[0]));\n    }\n\n}\nunittest {\n    Deque!int a;\n    Deque!int b;\n    a.insertFront(2);\n    assert(b.length == 0);\n}\n\nunittest {\n    import std.algorithm : equal;\n    import std.range : iota;\n    Deque!int a;\n    foreach (i; 0..100) {\n        a.insertBack(i);\n    }\n    assert(equal(a[], iota(100)));\n}\n/* IMPORT /home/yosupo/Program/dcomp/source/dcomp/scanner.d */\n// module dcomp.scanner;\n\nclass Scanner {\n    import std.stdio : File;\n    import std.conv : to;\n    import std.range : front, popFront, array, ElementType;\n    import std.array : split;\n    import std.traits : isSomeChar, isStaticArray, isArray; \n    import std.algorithm : map;\n    File f;\n    this(File f) {\n        this.f = f;\n    }\n    char[512] lineBuf;\n    char[] line;\n    private bool succ() {\n        import std.range.primitives : empty, front, popFront;\n        import std.ascii : isWhite;\n        while (true) {\n            while (!line.empty && line.front.isWhite) {\n                line.popFront;\n            }\n            if (!line.empty) break;\n            if (f.eof) return false;\n            line = lineBuf[];\n            f.readln(line);\n        }\n        return true;\n    }\n\n    private bool readSingle(T)(ref T x) {\n        import std.algorithm : findSplitBefore;\n        import std.string : strip;\n        import std.conv : parse;\n        if (!succ()) return false;\n        static if (isArray!T) {\n            alias E = ElementType!T;\n            static if (isSomeChar!E) {\n                //string or char[10] etc\n                //todo optimize\n                auto r = line.findSplitBefore(\" \");\n                x = r[0].strip.dup;\n                line = r[1];\n            } else {\n                auto buf = line.split.map!(to!E).array;\n                static if (isStaticArray!T) {\n                    //static\n                    assert(buf.length == T.length);\n                }\n                x = buf;\n                line.length = 0;\n            }\n        } else {\n            x = line.parse!T;\n        }\n        return true;\n    }\n    int read(T, Args...)(ref T x, auto ref Args args) {\n        if (!readSingle(x)) return 0;\n        static if (args.length == 0) {\n            return 1;\n        } else {\n            return 1 + read(args);\n        }\n    }\n}\n\n\n\nunittest {\n    import std.path : buildPath;\n    import std.file : tempDir;\n    import std.algorithm : equal;\n    import std.stdio : File;\n    string fileName = buildPath(tempDir, \"kyuridenanmaida.txt\");\n    auto fout = File(fileName, \"w\");\n    fout.writeln(\"1 2 3\");\n    fout.writeln(\"ab cde\");\n    fout.writeln(\"1.0 1.0 2.0\");\n    fout.close;\n    Scanner sc = new Scanner(File(fileName, \"r\"));\n    int a;\n    int[2] b;\n    char[2] c;\n    string d;\n    double e;\n    double[] f;\n    sc.read(a, b, c, d, e, f);\n    assert(a == 1);\n    assert(equal(b[], [2, 3]));\n    assert(equal(c[], \"ab\"));\n    assert(equal(d, \"cde\"));\n    assert(e == 1.0);\n    assert(equal(f, [1.0, 2.0]));\n}\n\nunittest {\n    import std.path : buildPath;\n    import std.file : tempDir;\n    import std.algorithm : equal;\n    import std.stdio : File, writeln;\n    import std.datetime;\n    string fileName = buildPath(tempDir, \"kyuridenanmaida.txt\");\n    auto fout = File(fileName, \"w\");\n    foreach (i; 0..1_000_000) {\n        fout.writeln(3*i, \" \", 3*i+1, \" \", 3*i+2);\n    }\n    fout.close;\n    writeln(\"Scanner Speed Test(3*1,000,000 int)\");\n    StopWatch sw;\n    sw.start;\n    Scanner sc = new Scanner(File(fileName, \"r\"));\n    foreach (i; 0..500_000) {\n        int a, b, c;\n        sc.read(a, b, c);\n        assert(a == 3*i);\n        assert(b == 3*i+1);\n        assert(c == 3*i+2);\n    }\n    foreach (i; 500_000..700_000) {\n        int[3] d;\n        sc.read(d);\n        int a = d[0], b = d[1], c = d[2];\n        assert(a == 3*i);\n        assert(b == 3*i+1);\n        assert(c == 3*i+2);\n    }\n    foreach (i; 700_000..1_000_000) {\n        int[] d;\n        sc.read(d);\n        assert(d.length == 3);\n        int a = d[0], b = d[1], c = d[2];\n        assert(a == 3*i);\n        assert(b == 3*i+1);\n        assert(c == 3*i+2);\n    }\n    writeln(sw.peek.msecs, \"ms\");\n}\n"
  },
  {
    "language": "D",
    "code": "import std.stdio, std.array, std.string, std.conv, std.algorithm;\nimport std.typecons, std.range, std.random, std.math, std.container;\nimport std.numeric, std.bigint, core.bitop;\n\nvoid main() {\n    auto s = readln.split.map!(to!int);\n    auto N = s[0];\n    auto K = s[1];\n    auto S = readln.chomp.map!(a => a == 'A').array;\n    foreach (i; 0..N) S ~= [0, 1];\n\n    int p = 0;\n    bool flip = false;\n\n    while (p < N && K > 0) {\n        int c = S[p] ^ flip;\n        if (c) { // 先頭がA\n            K -= 1;\n            S[p] ^= 1;\n        } else {\n            p += 1;\n            flip ^= 1;\n            K -= 1;\n        }\n    }\n\n\n    auto ans = new int[](N);\n\n    if (K == 0) {\n        foreach (i; 0..N) ans[i] = S[p+i] ^ flip;\n    } else if (N % 2 == 0) {\n        foreach (i; 0..N) ans[i] = i % 2;\n    } else {\n        ans[0] = S[p] ^ flip ^ (K % 2);\n        foreach (i; 1..N) ans[i] = 1 - i % 2;\n    }\n\n    ans.map!(a => a ? 'A' : 'B').writeln;\n}\n"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.conv, std.array, std.algorithm, std.string;\nimport std.math, std.random, std.range, std.datetime;\nimport std.bigint;\n\nvoid main(){\n\tlong n, k;\n\t{\n\t\tlong[] tmp = readln.chomp.split.map!(to!long).array;\n\t\tn = tmp[0], k = tmp[1];\n\t\t}\n\tbool[] s;\n\t{\n\t\tstring tmp = readln.chomp;\n\t\tforeach(c; tmp) s ~= (c == 'A');\n\t\t}\n\t\n\tbool[] saveds;\n\t\n\tdebug \"--\".writeln;\n\tfor(long j = 0; j < k; j ++){\n\t\tsaveds = s.dup;\n\t\tint i = 0;\n\t\tint d = 1;\n\t\twhile(1){\n\t\t\tif(s[i]) d = -d;\n\t\t\ts[i] = !s[i];\n\t\t\ti += d;\n\t\t\tif(i < 0 || i >= n) break;\n\t\t\t}\n\t\tdebug s.writeln;\n\t\tif(saveds == s) break;\n\t\t}\n\tdebug \"--\".writeln;\n\t\n\ts.map!(x => (x? 'A': 'B')).writeln;\n\t}"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.conv, std.array, std.algorithm, std.string;\nimport std.math, std.random, std.range, std.datetime;\nimport std.bigint;\n\nvoid main(){\n\tlong n, k;\n\t{\n\t\tlong[] tmp = readln.chomp.split.map!(to!long).array;\n\t\tn = tmp[0], k = tmp[1];\n\t\t}\n\tchar[] s = [];\n\t{\n\t\tstring tmp = readln.chomp;\n\t\tforeach(c; tmp) s ~= c;\n\t\t}\n\t\n\tchar[] saveds;\n\t\n\tdebug \"--\".writeln;\n\tfor(long j = 0; j < k; j ++){\n\t\tsaveds = s.dup;\n\t\tint i = 0;\n\t\tint d = 1;\n\t\twhile(1){\n\t\t\tif(s[i] == 'A'){\n\t\t\t\td = -d;\n\t\t\t\ts[i] = 'B';\n\t\t\t\t}\n\t\t\telse{\n\t\t\t\ts[i] = 'A';\n\t\t\t\t}\n\t\t\ti += d;\n\t\t\tif(i < 0 || i >= n) break;\n\t\t\t}\n\t\tdebug s.writeln;\n\t\tif(saveds == s) break;\n\t\t}\n\tdebug \"--\".writeln;\n\t\n\ts.writeln;\n\t}"
  },
  {
    "language": "Python",
    "code": "import sys\nimport math\n\ndef ok(n,k):\n\tif k<0:\n\t\treturn 0\n\t\n\tv = 9*(n+k)\n\td = 0\n\twhile v > 0:\n\t\td += v%10\n\t\tv /= 10\n\treturn 9*k>=d\n\nN=input()\nK=1<<20\nfor i in range(19,-1,-1):\n\tif ok(N,K-(1<<i)):\n\t\tK -= 1<<i\n\nprint K\n"
  },
  {
    "language": "Python",
    "code": "# coding: utf-8\n\nn_mac, n_bal = map(int, input().split())\nl_mac = list(input())\ncounter = 0\nl_all_mac_state = []\nans_state = 0\n\n\ndef throw_ball(l_state):\n    global l_mac\n    if l_mac[l_state[0]] == \"A\":\n        l_mac[l_state[0]] = \"B\"\n        if l_state[1] == 0:\n            return [(l_state[0] - 1), 1]\n        elif l_state[1] == 1:\n            return [(l_state[0] + 1), 0]\n\n    elif l_mac[l_state[0]] == \"B\":\n        l_mac[l_state[0]] = \"A\"\n        if l_state[1] == 0:\n            return [(l_state[0] + 1), 0]\n        elif l_state[1] == 1:\n            return [(l_state[0] - 1), 1]\n\n\ndef make_state_num_from_list(l_state):\n    num = 0\n    for ind, item in enumerate(l_state):\n        if item == \"A\":\n            num += 2 ** ind\n    return num\n\n\nfor i in range(n_bal):\n    now_state = [0, 0]\n    counter += 1\n\n    while True:\n        now_state = throw_ball(now_state)\n        if now_state[0] < 0 or now_state[0] > (len(l_mac) - 1):\n            break\n\n    num_state = make_state_num_from_list(l_mac)\n    if num_state in l_all_mac_state:\n        period = counter - 1\n        ans_state = n_bal % period\n        break\n    l_all_mac_state.append(num_state)\nelse:\n    print (l_mac)\n\nif ans_state != 0:\n    for i in range(ans_state):\n        now_state = [0, 0]\n\n        while True:\n            now_state = throw_ball(now_state)\n            if now_state[0] < 0 or now_state[0] > (len(l_mac) - 1):\n                break\n    print (l_mac)\n"
  },
  {
    "language": "Python",
    "code": "#D\n#naive simulation, though TLE.\nn,k = [int(i) for i in input().split()]\ns = input()\ns = [1 if v==\"A\" else 0 for v in s] #A=1, B=0\n\ndirect=[1,-1]\n\nfor _ in range(k):\n    ind = 0\n    vec = 0\n    while 0<=ind and ind<n:\n        vec    = (vec+s[ind])%2\n        s[ind] = (s[ind]+1)%2\n        ind   += direct[vec]\n\na = \"\"\nfor v in s:\n    a += \"B\" if v==0 else \"A\"\n\nprint(a)"
  },
  {
    "language": "Python",
    "code": "def solution():\n\tn,k = [int(x) for x in input().split(' ')] \n\ttxt = input()\n\ts = list(txt)\n\tcycle = []\n\tnbr = 0\n\tcache = {}\n\tsuffix = ''\n\twhile txt not in cycle:\n\t\tcycle.append(txt)\n\t\tposition = 0\n\t\ttoLeft = True\n\t\twhile txt[len(txt)-len(suffix)-2:] == 'BA':\n\t\t\tsuffix+='BA'\n\t\t\ttxt = txt[(len(txt)-len(suffix)-2):]\n\t\twhile position<len(s) and position>=0:\n\n\t\t\tif s[position] == 'A':\n\t\t\t\ts[position] = 'B'\n\t\t\t\ttoLeft = not(toLeft)\n\t\t\telse:\n\t\t\t\ts[position] = 'A'\n\n\t\t\tposition +=1 if toLeft else -1\n\n\t\t\t\n\t\tnbr +=1\n\t\ttxt = ''.join(s)+suffix\n\t\tif nbr == k:\n\t\t\treturn txt\n\t\t\n\n\tstartingCycle = cycle.index(txt)\n\tcycle = cycle[startingCycle:]\n\treturn cycle[(k-startingCycle)%len(cycle)]\n\n\nprint(solution())"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import accumulate\nfrom collections import deque\n\ndef solve():\n    N, K = map(int, input().split())\n    S = input()\n    q = deque([1 if c == 'A' else 0 for c in S])\n    cb = 1\n\n    for i in range(K):\n        if q[0] == cb:\n            q[0] ^= 1\n            # cb ^= 1\n        else:\n            q.popleft()\n            q.append(cb ^ 1)\n            cb ^= 1\n\n    # print(q)\n\n    ans = ['A' if (c ^ cb ^ 1) else 'B' for c in q]\n    print(''.join(ans))\n\n\ndef debug(x, table):\n    for name, val in table.items():\n        if x is val:\n            print('DEBUG:{} -> {}'.format(name, val), file=sys.stderr)\n            return None\n\nif __name__ == '__main__':\n    solve()"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\nInp = list(map(int, input().split()))\n\nN = Inp[0]\nK = Inp[1]\n\ns = input()\n\na = []\nfor i in range(0, len(s)):\n    if s[i] == 'A':\n        a.append(1)\n    else:\n        a.append(-1)\n\nr_arr = np.array(a)\nif K < 2 * N:\n    for i in range(0, K):\n        if r_arr[0] == 1:\n            r_arr[0] = -1\n            continue\n        r_arr = np.delete(r_arr, 0)\n        r_arr *= -1\n        r_arr = np.append(r_arr, 1)\nelse:\n    if len(r_arr) % 2 == 0:\n        for i in range(0, N):\n            if i % 2 == 0:\n                r_arr[i] = -1\n            else:\n                r_arr[i] = 1\n    else:\n        if r_arr[0] == 1:\n            r_arr[0] = -1\n        for i in range(1, N):\n            if i % 2 == 1:\n                r_arr[i] = -1\n            else:\n                r_arr[i] = 1\n        if (K - (2 * N)) % 2 == 1:\n            r_arr[0] *= -1\n\nres = \"\"\nfor i in range(0, len(r_arr)):\n    if r_arr[i] == 1:\n        res += 'A'\n    else:\n        res += 'B'\n\nprint(res)"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns,p=list(input()),\"\"\nfor i in range(k):\n\ts,p,p2=['A' if s[i]=='B' else 'B' for i in range(1,n)]+['A'],str(s),p\n\tif str(s)==p:\n\t\tprint(''.join(s))\n\t\tbreak\n\telif str(s)==p2:\n\t\tif k%2==i%2:\n\t\t\tprint(''.join(s))\n\t\telse:\n\t\t\tprint(''.join(filter(lambda x:x=='A' or x=='B',list(p))))\n\t\tbreak\nelse:\n\tprint(''.join(s))"
  },
  {
    "language": "Python",
    "code": "a,b = map(int,input().split(\" \"))\nar = list(input())\nfor j in range(b):\n    i = 0\n    g = \"R\"\n    while True:\n        if i < 0 or i == a:\n            break\n        else:\n            if ar[i] == \"A\":\n                ar[i] = \"B\"\n                if g == \"R\":\n                    i -= 1\n                    g = \"L\"\n                else:\n                    i += 1\n                    g = \"R\"\n            else:\n                ar[i] = \"A\"\n                if g == \"R\":\n                    i += 1\n                else:\n                    i -= 1\nprint(\"\".join(ar))    "
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import accumulate\nfrom collections import deque\n\ndef solve():\n    N, K = map(int, input().split())\n    S = input()\n\n    '''\n    if N == 1:\n        if K % 2 == 0:\n            print(S)\n        else:\n            print('A' if S == 'B' else 'B')\n\n        return\n    '''\n\n    q = deque([1 if c == 'A' else 0 for c in S])\n    cb = 0\n\n    for i in range(min(K, 2 * N + K % 2)):\n        if q[0] == (cb ^ 1):\n            q[0] ^= 1\n        else:\n            q.popleft()\n            q.append(cb)\n            cb ^= 1\n\n    # print(q)\n\n    ans = ['A' if (c ^ cb) else 'B' for c in q]\n    print(''.join(ans))\n\n\ndef debug(x, table):\n    for name, val in table.items():\n        if x is val:\n            print('DEBUG:{} -> {}'.format(name, val), file=sys.stderr)\n            return None\n\nif __name__ == '__main__':\n    solve()"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\nInp = list(map(int, input().split()))\n\nN = Inp[0]\nK = Inp[1]\n\ns = input()\n\na = []\nfor i in range(0, len(s)):\n    if s[i] == 'A':\n        a.append(1)\n    else:\n        a.append(-1)\n\nr_arr = np.array(a)\nif K < 2 * N:\n    for i in range(0, K):\n        if r_arr[0] == 1:\n            r_arr[0] = -1\n            continue\n        r_arr = np.delete(r_arr, 0)\n        r_arr *= -1\n        r_arr = np.append(r_arr, 1)\nelse:\n    if len(r_arr) % 2 == 0:\n        for i in range(0, N):\n            if i % 2 == 0:\n                r_arr[i] = -1\n            else:\n                r_arr[i] = 1\n    else:\n        r_arr[0] = -1\n        for i in range(1, N):\n            if i % 2 == 1:\n                r_arr[i] = -1\n            else:\n                r_arr[i] = 1\n    if (K - 2 * N) % 2 == 1:\n        r_arr[0] *= -1\n\nres = \"\"\nfor i in range(0, len(r_arr)):\n    if r_arr[i] == 1:\n        res += 'A'\n    else:\n        res += 'B'\n\nprint(res)\n"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import accumulate\nfrom collections import deque\n\ndef solve():\n    N, K = map(int, input().split())\n    S = input()\n\n    if N == 1:\n        if K % 2 == 0:\n            print(S)\n        else:\n            print('A' if S == 'B' else 'B')\n\n        return\n\n    q = deque([1 if c == 'A' else 0 for c in S])\n    cb = 0\n\n    for i in range(min(K, 2 * N)):\n        if q[0] == (cb ^ 1):\n            q[0] ^= 1\n        else:\n            q.popleft()\n            q.append(cb)\n            cb ^= 1\n\n    # print(q)\n\n    ans = ['A' if (c ^ cb) else 'B' for c in q]\n    print(''.join(ans))\n\n\ndef debug(x, table):\n    for name, val in table.items():\n        if x is val:\n            print('DEBUG:{} -> {}'.format(name, val), file=sys.stderr)\n            return None\n\nif __name__ == '__main__':\n    solve()"
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    f = True\n    for i in xrange(200010):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 200010\n        if f:\n            if k % 2:\n                ans[0] = 'B'\n            print ''.join(list(ans))\n        else:\n            if k % 2:\n                ans[0] = 'A'\n            print ''.join('A' if x == 'B' else 'B' for x in ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "import sys\n\nINF = 10**9+7\n\nstdin = sys.stdin\ndef na(): return map(int, stdin.readline().split())\ndef nal(): return list(map(int, stdin.readline().split()))\ndef ns(): return stdin.readline().strip()\ndef nsl(): return list(stdin.readline().strip())\ndef ni(): return int(stdin.readline())\n\nn, k = nal()\ns = nsl()\n\nif(s[0] == 'A'):\n    s[0] = 'B'\n    k -= 1\n\nlst = []\nst = s[0]\ncnt = 0\nfor i in s:\n    if(st == i):\n       cnt += 1\n    else:\n        lst.append(cnt)\n        cnt = 1\n        st = i\nlst.append(cnt)\n\nst = 'B'\nen = False\nfor i in range(k):\n    if(st == 'A'):\n        if(lst[0] == 1):\n            lst.pop(0)\n            lst[0] += 1\n        else:\n            lst.insert(0, 1)\n            lst[1] -= 1\n        st  = 'B'\n\n    else:\n        lst.append(1)\n        lst[0] -= 1\n        if(lst[0] == 0):\n            lst.pop(0)\n        else:\n            st = 'A'\n    for j in lst:\n        if(j == 1):\n            en = True\n        else:\n            en = False\n            break\n    if(en == True):\n        break\n\nans = []\nfor i in lst:\n    for j in range(i):\n        ans.append(st)\n    if(st == 'A'):\n        st = 'B'\n    else:\n        st = 'A'\n\nprint(\"\".join(ans))\n\n\n"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns=list(input())\nfor i in range(k):\n\tcur,d,p=0,1,str(s)\n\twhile cur>=0 and cur<n:\n\t\tif s[cur]=='A':\n\t\t\ts[cur]='B'\n\t\t\td=-d\n\t\t\tcur+=d\n\t\telse:\n\t\t\ts[cur]='A'\n\t\t\tcur+=d\n\tif str(s)==p:\n\t\tbreak\nprint(''.join(s))"
  },
  {
    "language": "Python",
    "code": "N,K = map(int,input().split())\nS = list(input())\nk = 0\nN2 = N\nfor i,a in enumerate(S):\n\tif a == \"A\":\n\t\tS[i] = 1\n\telse:\n\t\tS[i] = -1\nwhile k < 2*N and k < K:\n\ti = 0\n\tj = 1\n\tI = [-1,0]\n\tif S[0] == 1:\n\t\tS[0] = -1\n\telse:\n\t\tS = list(map(lambda x: -x,S))\n\t\tS .pop(0)\n\t\tS.append(1)\n\tk = k + 1\nfor i,a in enumerate(S):\n\tif a == 1:\n\t\tS[i] = \"A\"\n\telse:\n\t\tS[i] = \"B\"\nif k == K:\n\tprint(\"\".join(S))\nelif N % 2 == 0:\n\tprint(\"\".join(S))\nelif S[0] == \"A\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] = \"B\"\n\t\tprint(\"\".join(S))\nelif S[0] == \"B\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] =\"A\"\n\t\tprint(\"\".join(S))"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\nInp = list(map(int, input().split()))\n\nN = Inp[0]\nK = Inp[1]\n\ns = input()\n\na = []\nfor i in range(0, len(s)):\n    if s[i] == 'A':\n        a.append(1)\n    else:\n        a.append(-1)\n\nr_arr = np.array(a)\nn = min(2 * N, K)\nif K > 2 * N:\n    if (K - 2 * N) % 2 == 1:\n        n += 1\nfor i in range(0, n):\n    if r_arr[0] == 1:\n        r_arr[0] = -1\n        continue\n    r_arr = np.delete(r_arr, 0)\n    r_arr *= -1\n    r_arr = np.append(r_arr, 1)\n\nres = \"\"\nfor i in range(0, len(r_arr)):\n    if r_arr[i] == 1:\n        res += 'A'\n    else:\n        res += 'B'\n\nprint(res)"
  },
  {
    "language": "Python",
    "code": "N, K = map(int, raw_input().split())\nS = raw_input()\nS = [0 if s=='A' else 1 for s in S]\n\ndef do_opp():\n\tpos=0\n\tleft=True\n\twhile not (pos ==-1 or pos == N):\n\t\tif S[pos] == 0:\n\t\t\tS[pos] = 1\n\t\t\tif left:\n\t\t\t\tpos -= 1\n\t\t\telse:\n\t\t\t\tpos += 1\n\t\t\tleft = not left\n\t\telse:\n\t\t\tS[pos] = 0\n\t\t\tif left:\n\t\t\t\tpos += 1\n\t\t\telse:\n\t\t\t\tpos -= 1\n\nfor _ in xrange(K):\n\tdo_opp()\n\nret = \"\"\nfor s in S:\n\tret += 'A' if s==0 else 'B'\nprint ret"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\n###get inputs\nN, K = map(lambda x: int(x), raw_input().split())\nS = map(lambda x: 0 if x == 'A' else 1, raw_input())\nS = np.asarray(S)\n###visualize function\ndef visualize(S):\n    # print S, \n    S = map(lambda x: 'A' if x == 0 else 'B', S)\n    print \"\".join(S),\n\n### A:0, B:1\nr_times = 0\n#for k in range(K):\nk=-1\nwhile k <= 2*N+10:\n    k+=1\n    #print '>>k:', k,\n    #visualize(S)\n    ball_pos = 0\n    ball_direct = 1\n    while ball_pos > -1 and ball_pos < N-r_times:\n        if S[ball_pos] == 0:\n            S[ball_pos] = 1\n            ball_pos -= 1 * ball_direct\n            ball_direct *= -1\n        else:\n            S[ball_pos] = 0\n            ball_pos += 1 * ball_direct\n    if ball_direct == 1:\n        r_times += 1\n        \n    #print 'r' if ball_direct == 1 else 'l',\n    #print ball_pos,\n    #print '\\t',\n    #visualize(S)\n    #print r_times\n\n    #print N-r_times, range(N-r_times,N,2), range(N-r_times+1,N,2)\n    tmp = N - r_times #if N-r_times%2==0 else N-r_times-1\n    S[tmp::2] =  1 if (r_times%2 == 0) else 0\n    S[tmp+1::2] =  0 if (r_times%2 == 0) else 1\n    \n    if r_times == N-1:\n        #print 'break'\n        break\n\nif r_times == N-1 and (K-k)%2==0:\n    S[0]=1\n\nvisualize(S)\n\"\"\"\n5 2\nABAAA\n\"\"\""
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(800020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 800020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'A'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(200010):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 200010\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "import sys\n\nINF = 10**9+7\n\nstdin = sys.stdin\ndef na(): return map(int, stdin.readline().split())\ndef nal(): return list(map(int, stdin.readline().split()))\ndef ns(): return stdin.readline().strip()\ndef nsl(): return list(stdin.readline().strip())\ndef ni(): return int(stdin.readline())\n\ndef func(n, k, s):\n    st = s[0]\n    lst = []\n    c=1\n    for i in range(1, n):\n        if(st == s[i]):\n            c += 1\n        else:\n            lst.append(c)\n            c = 1\n            st = s[i]\n    lst.append(c)\n    st = s[0]\n\n    for i in range(k):\n        if(st == 'A'):\n            if(lst[0] == 1):\n                lst.pop(0)\n                lst[0] += 1\n            else:\n                lst.insert(0, 1)\n                lst[1] -= 1\n            st = 'B'\n\n        else:\n            lst.insert(0, 1)\n            for j in range(len(lst)//2):\n                t = j*2+1\n                lst[t] = lst[t] + lst[t+1] - 2\n                lst[t+1] = 2\n\n            if(len(lst) % 2 == 1):\n                lst[-1] -= 1\n            else:\n                lst[-2] = lst[-1] + 1\n                lst.pop(-1)\n\n            st = 'A'\n\n    st = s[0]\n    ans = []\n    for i in range(len(lst)):\n        for j in range(lst[i]):\n            ans.append(st)\n        if(st == 'A'):\n            st = 'B'\n        else:\n            st = 'A'\n    print(\"\".join(ans))\n\n\n\n\nn, k = nal()\ns = nsl()\n\nfunc(n, k, s)\n\n\n\n"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns=list(input())\nfor i in range(k):\n\tcur,d,p=0,1,str(s)\n\twhile cur in range(4):\n\t\tif s[cur]=='A':\n\t\t\ts[cur]='B'\n\t\t\td=-d\n\t\t\tcur+=d\n\t\telse:\n\t\t\ts[cur]='A'\n\t\t\tcur+=d\n\tif str(s)==p:\n\t\tbreak\nprint(''.join(s))"
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(400020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 400020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if n % 2 and k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "import sys\nread = sys.stdin.buffer.read\nreadline = sys.stdin.buffer.readline\nreadlines = sys.stdin.buffer.readlines\nsys.setrecursionlimit(10 ** 7)\n\nfrom collections import deque\n\n# f(AX) = XB\n# f(BX) = flip(X) + A = flip(XB)\n\nN,K = map(int,readline().split())\nS = read().rstrip()\nS = deque(0 if x == b'A'[0] else 1 for x in S)\n\n# Kが大きいときは、周期で減らせる\nif K > 20100 + 100:\n    K = 20100 + (K&1)\n\nflip = 0\nfor _ in range(K):\n    top = S[0]^flip\n    if top == 0:\n        # A\n        S[0] ^= 1\n    else:\n        # B \n        flip ^= 1\n        S.popleft()\n        S.append(flip)\n\nif flip == 0:\n    A = 'A'; B = 'B'\nelse:\n    A = 'B'; B = 'A'\nanswer = ''.join(A if x == 0 else B for x in S)\nprint(answer)"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import accumulate\nfrom collections import deque\n\ndef solve():\n    N, K = map(int, input().split())\n    S = input()\n    q = deque([1 if c == 'A' else 0 for c in S])\n    cb = 0\n\n    for i in range(min(K, 2 * N)):\n        if q[0] == (cb ^ 1):\n            q[0] ^= 1\n        else:\n            q.popleft()\n            q.append(cb)\n            cb ^= 1\n            \n    # print(q)\n\n    ans = ['A' if (c ^ cb) else 'B' for c in q]\n    print(''.join(ans))\n\n\ndef debug(x, table):\n    for name, val in table.items():\n        if x is val:\n            print('DEBUG:{} -> {}'.format(name, val), file=sys.stderr)\n            return None\n\nif __name__ == '__main__':\n    solve()"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns,p=list(input()),\"\"\nfor i in range(k):\n\tcur,d,p,p2=0,1,str(s),p\n\twhile cur>=0 and cur<n:\n\t\tif s[cur]=='A':\n\t\t\ts[cur]='B'\n\t\t\td=-d\n\t\t\tcur+=d\n\t\telse:\n\t\t\ts[cur]='A'\n\t\t\tcur+=d\n\tif str(s)==p:\n\t\tprint(''.join(s))\n\t\tbreak\n\telif str(s)==p2:\n\t\tif k%2==i%2:\n\t\t\tprint(''.join(s))\n\t\telse:\n\t\t\tprint(''.join(filter(lambda x:x=='A' or x=='B',list(p))))\n\t\tbreak\nelse:\n\tprint(''.join(s))"
  },
  {
    "language": "Python",
    "code": "def solution():\n\tn,k = [int(x) for x in input().split(' ')] \n\ts = list(input())\n\tcycle = []\n\ttxt = ''.join(s)\n\tnbr = 0\n\twhile txt not in cycle:\n\t\tcycle.append(txt)\n\t\tposition = 0\n\t\ttoLeft = True\n\t\twhile position<len(s) and position>=0:\n\t\t\tif s[position] == 'A':\n\t\t\t\ts[position] = 'B'\n\t\t\t\ttoLeft = not(toLeft)\n\t\t\telse:\n\t\t\t\ts[position] = 'A'\n\n\t\t\tposition +=1 if toLeft else -1\n\t\tnbr +=1\n\t\ttxt = ''.join(s)\n\t\tif nbr == k:\n\t\t\treturn txt\n\t\t\n\n\tstartingCycle = cycle.index(txt)\n\tcycle = cycle[startingCycle:]\n\treturn cycle[(k-startingCycle)%len(cycle)]\n\n\nprint(solution())"
  },
  {
    "language": "Python",
    "code": "def solution():\n\tn,k = [int(x) for x in input().split(' ')] \n\ttxt = input()\n\ts = list(txt)\n\tcycle = []\n\tnbr = 0\n\tcache = {}\n\tsuffix = ''\n\twhile (txt+suffix) not in cycle:\n\t\tcycle.append(txt+suffix)\n\t\tposition = 0\n\t\ttoLeft = True\n\t\tsuffix = ''\n\t\twhile txt[len(txt)-len(suffix)-2:] == 'BA':\n\t\t\tsuffix+='BA'\n\t\t\ttxt = txt[(len(txt)-len(suffix)-2):]\n\t\ts = list(txt)\n\t\twhile position<len(s) and position>=0:\n\n\t\t\tif s[position] == 'A':\n\t\t\t\ts[position] = 'B'\n\t\t\t\ttoLeft = not(toLeft)\n\t\t\telse:\n\t\t\t\ts[position] = 'A'\n\n\t\t\tposition +=1 if toLeft else -1\n\n\t\t\t\n\t\tnbr +=1\n\t\ttxt = ''.join(s)\n\t\tif nbr == k:\n\t\t\treturn txt\n\t\t\n\n\tstartingCycle = cycle.index(txt+suffix)\n\tcycle = cycle[startingCycle:]\n\treturn cycle[(k-startingCycle)%len(cycle)]\n\n\nprint(solution())"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns,p=list(input()),\"\"\ndef proc(t):\n\treturn ['B']+t[1:] if t[0]=='A' else ['A' if t[i]=='B' else 'B' for i in range(1,n)]+['A']\nfor i in range(2*n):\n\ts=proc(s)\n\tif i==k-1:\n\t\tprint(''.join(s))\n\t\tbreak\nelse:\n\tif n%2==1 and k%2==1:\n\t\ts=proc(s)\n\tprint(''.join(s))"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\n###get inputs\nN, K = map(lambda x: int(x), raw_input().split())\nS = map(lambda x: 0 if x == 'A' else 1, raw_input())\nS = np.asarray(S)\n###visualize function\ndef visualize(S):\n    # print S, \n    S = map(lambda x: 'A' if x == 0 else 'B', S)\n    print \"\".join(S),\n\n### A:0, B:1\nr_times = 0\n#for k in range(K):\nk=-1\nwhile k < 2*N:\n    k+=1\n    #print '>>k:', k,\n    #visualize(S)\n    ball_pos = 0\n    ball_direct = 1\n    while ball_pos > -1 and ball_pos < N-r_times:\n        if S[ball_pos] == 0:\n            S[ball_pos] = 1\n            ball_pos -= 1 * ball_direct\n            ball_direct *= -1\n        else:\n            S[ball_pos] = 0\n            ball_pos += 1 * ball_direct\n    if ball_direct == 1:\n        r_times += 1\n        \n    #print 'r' if ball_direct == 1 else 'l',\n    #print ball_pos,\n    #print '\\t',\n    #visualize(S)\n    #print r_times\n\n    #print N-r_times, range(N-r_times,N,2), range(N-r_times+1,N,2)\n    tmp = N - r_times #if N-r_times%2==0 else N-r_times-1\n    S[tmp::2] =  1 if (r_times%2 == 0) else 0\n    S[tmp+1::2] =  0 if (r_times%2 == 0) else 1\n    \n    if r_times == N-1:\n        #print 'break'\n        break\n\nif r_times == N-1 and (K-k)%2==0:\n    S[0]=1\n\nvisualize(S)\n\"\"\"\n5 2\nABAAA\n\"\"\""
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(400020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 400020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if not k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\nfrom collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(400020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 400020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if not k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(800020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 800020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\nfrom collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(800020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 800020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "N, K = map(int, raw_input().split())\nS = raw_input()\nS = [0 if s=='A' else 1 for s in S]\n\ndef do_opp():\n\tpos=0\n\twhile not (pos ==-1 or pos == N):\n\t\tif S[pos] == 0:\n\t\t\tS[pos] = 1\n\t\t\tpos -= 1\n\t\telse:\n\t\t\tS[pos] = 0\n\t\t\tpos += 1\n\nfor _ in xrange(K):\n\tdo_opp()\n\nret = \"\"\nfor s in S:\n\tret += 'A' if s==0 else 'B'\nprint ret"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\n###get inputs\nN, K = map(lambda x: int(x), raw_input().split())\nS = map(lambda x: 0 if x == 'A' else 1, raw_input())\nS = np.asarray(S)\n###visualize function\ndef visualize(S):\n    # print S, \n    S = map(lambda x: 'A' if x == 0 else 'B', S)\n    print \"\".join(S),\n\n### A:0, B:1\nr_times = 0\n#for k in range(K):\nk=-1\nwhile k < K-1:\n    k+=1\n    #print '>>k:', k,\n    #visualize(S)\n    ball_pos = 0\n    ball_direct = 1\n    while ball_pos > -1 and ball_pos < N-r_times:\n        if S[ball_pos] == 0:\n            S[ball_pos] = 1\n            ball_pos -= 1 * ball_direct\n            ball_direct *= -1\n        else:\n            S[ball_pos] = 0\n            ball_pos += 1 * ball_direct\n    if ball_direct == 1:\n        r_times += 1\n        \n    #print 'r' if ball_direct == 1 else 'l',\n    #print ball_pos,\n    #print '\\t',\n    #visualize(S)\n    #print r_times\n\n    #print N-r_times, range(N-r_times,N,2), range(N-r_times+1,N,2)\n    tmp = N - r_times #if N-r_times%2==0 else N-r_times-1\n    S[tmp::2] =  1 if (r_times%2 == 0) else 0\n    S[tmp+1::2] =  0 if (r_times%2 == 0) else 1\n    \n    if r_times == N-1:\n        #print 'break'\n        break\n\nif r_times == N-1 and (K-k)%2==0:\n    S[0]=1\n\nvisualize(S)\n\"\"\"\n5 2\nABAAA\n\"\"\""
  },
  {
    "language": "Python",
    "code": "import sys\nread = sys.stdin.buffer.read\nreadline = sys.stdin.buffer.readline\nreadlines = sys.stdin.buffer.readlines\nsys.setrecursionlimit(10 ** 7)\n\nfrom collections import deque\n\n# f(AX) = XB\n# f(BX) = flip(X) + A = flip(XB)\n\nN,K = map(int,readline().split())\nS = read().rstrip()\nS = deque(0 if x == b'A'[0] else 1 for x in S)\n\n# Kが大きいときは、周期で減らせる\nU = 10**6\nif K > U:\n    K = U + (K&1)\n\nflip = 0\nfor _ in range(K):\n    top = S[0]^flip\n    if top == 0:\n        # A\n        S[0] ^= 1\n    else:\n        # B \n        flip ^= 1\n        S.popleft()\n        S.append(flip)\n\nif flip == 0:\n    A = 'A'; B = 'B'\nelse:\n    A = 'B'; B = 'A'\nanswer = ''.join(A if x == 0 else B for x in S)\nprint(answer)"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns=list(input())*3\np=['A' if s[i]=='B' else 'B' for i in range(n)]*3\nhead,tail=0,n\nfor i in range(2*n):\n\tif s[head]=='A':\n\t\ts[head],p[head]='B','A'\n\telse:\n\t\ts,p=p,s\n\t\thead+=1\n\t\ts[tail],p[tail]='A','B'\t\t\n\t\ttail+=1\n\tif i==k-1:\n\t\tprint(''.join(s[head:tail]))\n\t\tbreak\nelse:\n\tif n%2==1 and k%2==1:\n\t\tif s[head]=='A':\n\t\t\ts[head],p[head]='B','A'\n\t\telse:\n\t\t\ts,p=p,s\n\t\t\thead+=1\n\t\t\ts[tail],p[tail]='A','B'\t\t\n\t\t\ttail+=1\n\tprint(''.join(s[head:tail]))"
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'B'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(400020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 400020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if not k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] = 'A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "def solution():\n\tn,k = [int(x) for x in input().split(' ')] \n\ttxt = input()\n\ts = list(txt)\n\tcycle = []\n\tnbr = 0\n\tcache = {}\n\tsuffix = ''\n\twhile (txt+suffix) not in cycle:\n\t\tcycle.append(txt+suffix)\n\t\tposition = 0\n\t\ttoLeft = True\n\t\tsuffix = ''\n\t\twhile txt[len(txt)-len(suffix)-2:] == 'BA':\n\t\t\tsuffix+='BA'\n\t\t\ttxt = txt[(len(txt)-len(suffix)-2):]\n\t\twhile position<len(s) and position>=0:\n\n\t\t\tif s[position] == 'A':\n\t\t\t\ts[position] = 'B'\n\t\t\t\ttoLeft = not(toLeft)\n\t\t\telse:\n\t\t\t\ts[position] = 'A'\n\n\t\t\tposition +=1 if toLeft else -1\n\n\t\t\t\n\t\tnbr +=1\n\t\ttxt = ''.join(s)\n\t\tif nbr == k:\n\t\t\treturn txt\n\t\t\n\n\tstartingCycle = cycle.index(txt+suffix)\n\tcycle = cycle[startingCycle:]\n\treturn cycle[(k-startingCycle)%len(cycle)]\n\n\nprint(solution())"
  },
  {
    "language": "Python",
    "code": "from collections import deque\ndef main():\n    n, k = map(int, raw_input().split())\n    s = raw_input().strip()\n    ans = deque(list(s))\n    if n == 1:\n        if k % 2:\n            print 'A' if s[0] == 'B' else 'A'\n        else:\n            print s[0]\n        return\n    f = True\n    for i in xrange(400020):\n        if i >= k:\n            if f:\n                print ''.join(list(ans))\n            else:\n                print ''.join('A' if x == 'B' else 'B' for x in ans)\n            break\n        if (ans[0] == 'A') == f:\n            ans[0] = 'B' if f else 'A'\n        else:\n            f = not f\n            ans.popleft()\n            ans.append('A' if f else 'B')\n    else:\n        k -= 400020\n        k %= 2\n        if not f:\n            ans = ['B' if x == 'A' else 'A' for x in ans]\n            ans = deque(ans)\n        if k:\n            if ans[0] == 'A':\n                ans[0] = 'B'\n            else:\n                ans[0] ='A'\n        print ''.join(ans)\nmain()\n"
  },
  {
    "language": "Python",
    "code": "import sys\nfrom itertools import accumulate\nfrom collections import deque\n\ndef solve():\n    N, K = map(int, input().split())\n    S = input()\n    q = deque([1 if c == 'A' else 0 for c in S])\n    cb = 1\n    n = 0\n\n    for i in range(K):\n        if q[0] == cb:\n            q[0] ^= 1\n            # cb ^= 1\n        else:\n            q.popleft()\n            q.append(0)\n            cb ^= 1\n            n += 1\n\n    # print(q)\n\n    ans = ['A' if (c + n) % 2 == 1 else 'B' for c in q]\n    print(''.join(ans))\n\n\ndef debug(x, table):\n    for name, val in table.items():\n        if x is val:\n            print('DEBUG:{} -> {}'.format(name, val), file=sys.stderr)\n            return None\n\nif __name__ == '__main__':\n    solve()"
  },
  {
    "language": "Python",
    "code": "import sys\n\nINF = 10**9+7\n\nstdin = sys.stdin\ndef na(): return map(int, stdin.readline().split())\ndef nal(): return list(map(int, stdin.readline().split()))\ndef ns(): return stdin.readline().strip()\ndef nsl(): return list(stdin.readline().strip())\ndef ni(): return int(stdin.readline())\n\nn, k = nal()\ns = nsl()\n\nst = s[0]\nlst = []\nc=1\nfor i in range(1, n):\n    if(st == s[i]):\n        c += 1\n    else:\n        lst.append(c)\n        c = 1\n        st = s[i]\nlst.append(c)\nst = s[0]\n\nfor i in range(k):\n    if(st == 'A'):\n        if(lst[0] == 1):\n            lst.pop(0)\n            lst[0] += 1\n        else:\n            lst.insert(0, 1)\n            lst[1] -= 1\n        st = 'B'\n\n    else:\n        lst.insert(0, 1)\n        for j in range(len(lst)//2):\n            t = j*2+1\n            lst[t] = lst[t] + lst[t+1] - 2\n            lst[t+1] = 2\n\n        if(len(lst) % 2 == 1):\n            lst[-1] -= 1\n        else:\n            lst[-2] = lst[-1] + 1\n            lst.pop(-1)\n\n        st = 'A'\n\nst = s[0]\nans = []\nfor i in range(len(lst)):\n    for j in range(lst[i]):\n        ans.append(st)\n    if(st == 'A'):\n        st = 'B'\n    else:\n        st = 'A'\nprint(\"\".join(ans))\n\n\n\n"
  },
  {
    "language": "Python",
    "code": "N,K = map(int,input().split())\nS = list(input())\nk = 0\nwhile k < 3*N and k < K:\n\ti = 0\n\tj = 1\n\tI = [-1,0]\n\twhile -1<i<N:\n\t\tif S[i] == \"A\":\n\t\t\tS[i] = \"B\"\n\t\t\ti = I[j - 1]\n\t\t\tI.append(i)\n\t\t\tj = j + 1\n\t\telif S[i] == \"B\":\n\t\t\tS[i] = \"A\"\n\t\t\ti = i + i - I[j - 1]\n\t\t\tI.append(i)\n\t\t\tj = j + 1\n\tk = k + 1\nif k == K:\n\tprint(\"\".join(S))\nelif N % 2 == 0:\n\tprint(\"\".join(S))\nelif k == 3*N and S[0] == \"A\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] = \"B\"\n\t\tprint(\"\".join(S))\nelif k == 3*N and S[0] == \"B\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] =\"A\"\n\t\tprint(\"\".join(S))\n"
  },
  {
    "language": "Python",
    "code": "N,K = map(int,input().split())\nS = list(input())\nk = 0\nN2 = N\nwhile k < 2*N and k < K and len(S) > 2:\n\ti = 0\n\tj = 1\n\tI = [-1,0]\n\tif len(S) > 3 and S[-1] == \"A\" and S[-2] == \"B\" and S[-3] == \"A\" and S[-4] ==\"B\":\n\t\tS = S[:-2]\n\t\tN2 = N2 - 2\n\twhile -1<i<N2:\n\t\tif S[i] == \"A\":\n\t\t\tS[i] = \"B\"\n\t\t\ti = I[j - 1]\n\t\t\tI.append(i)\n\t\t\tj = j + 1\n\t\telif S[i] == \"B\":\n\t\t\tS[i] = \"A\"\n\t\t\ti = i + i - I[j - 1]\n\t\t\tI.append(i)\n\t\t\tj = j + 1\n\tk = k + 1\nS = S + [\"B\",\"A\"]*((N-len(S))//2)\nif k == K:\n\tprint(\"\".join(S))\nelif N % 2 == 0:\n\tprint(\"\".join(S))\nelif S[0] == \"A\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] = \"B\"\n\t\tprint(\"\".join(S))\nelif S[0] == \"B\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] =\"A\"\n\t\tprint(\"\".join(S))\n"
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns=list(input())*2\np=['A' if s[i]=='B' else 'B' for i in range(n)]*2\nhead,tail=0,n\nfor i in range(2*n):\n\tif s[0]=='A':\n\t\ts[0],p[0]='B','A'\n\telse:\n\t\ts,p=p,s\n\t\thead+=1\n\t\ts[tail],p[tail]='A','B'\n\t\ttail+=1\n\tif i==k-1:\n\t\tprint(''.join(s[head:tail]))\n\t\tbreak\nelse:\n\tif n%2==1 and k%2==1:\n\t\tif s[0]=='A':\n\t\t\ts[0],p[0]='B','A'\n\t\telse:\n\t\t\ts,p=p,s\n\t\t\thead+=1\n\t\t\ts[tail],t[tail]='A','B'\n\t\t\ttail+=1\n\tprint(''.join(s[head:tail]))"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\nmod = 10**9 + 7\n\ndef LI(): return list(map(int, input().split()))\ndef II(): return int(input())\ndef LS(): return input().split()\ndef S(): return input()\n\n\ndef main():\n    n,k = LI()\n    q = [1 if c == 'A' else 0 for c in S()]\n    bq = None\n    for _ in range(k):\n        i = 0\n        t = 1\n        while 0 <= i < n:\n            if q[i] == 1:\n                t = -t\n                q[i] = 0\n            else:\n                q[i] = 1\n            i += t\n        if q == bq and (_+k)%2 == 0:\n            break\n        bq = copy.copy(q)\n    return ''.join(['A' if c == 1 else 'B' for c in q])\n\nprint(main())\n"
  },
  {
    "language": "Python",
    "code": "N,K = map(int,input().split())\nS = list(input())\nk = 0\nN2 = N\nwhile k < 2*N and k < K:\n\ti = 0\n\tj = 1\n\tI = [-1,0]\n\tif len(S) > 3 and S[-1] == \"A\" and S[-2] == \"B\":\n\t\tS = S[:-2]\n\t\tN2 = N2 - 2\n\twhile -1<i<N2:\n\t\tif S[i] == \"A\":\n\t\t\tS[i] = \"B\"\n\t\t\ti = I[j - 1]\n\t\t\tI.append(i)\n\t\t\tj = j + 1\n\t\telif S[i] == \"B\":\n\t\t\tS[i] = \"A\"\n\t\t\ti = i + i - I[j - 1]\n\t\t\tI.append(i)\n\t\t\tj = j + 1\n\tk = k + 1\nS = S + [\"B\",\"A\"]*((N-len(S))//2)\nif k == K:\n\tprint(\"\".join(S))\nelif N % 2 == 0:\n\tprint(\"\".join(S))\nelif S[0] == \"A\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] = \"B\"\n\t\tprint(\"\".join(S))\nelif S[0] == \"B\":\n\tz = (K - k) % 2\n\tif z == 0:\n\t\tprint(\"\".join(S))\n\telse:\n\t\tS[0] =\"A\"\n\t\tprint(\"\".join(S))\n"
  },
  {
    "language": "Python",
    "code": "import numpy as np\n\n###get inputs\nN, K = map(lambda x: int(x), raw_input().split())\nS = map(lambda x: 0 if x == 'A' else 1, raw_input())\nS = np.asarray(S)\n###visualize function\ndef visualize(S):\n    # print S, \n    S = map(lambda x: 'A' if x == 0 else 'B', S)\n    print \"\".join(S),\n\n### A:0, B:1\nr_times = 0\n#for k in range(K):\nk=-1\nwhile k <= 2*N+10:\n    k+=1\n    #print '>>k:', k,\n    #visualize(S)\n    ball_pos = 0\n    ball_direct = 1\n    while ball_pos > -1 and ball_pos < N-r_times:\n        if S[ball_pos] == 0:\n            S[ball_pos] = 1\n            ball_pos -= 1 * ball_direct\n            ball_direct *= -1\n        else:\n            S[ball_pos] = 0\n            ball_pos += 1 * ball_direct\n    if ball_direct == 1:\n        r_times += 1\n        \n    #print 'r' if ball_direct == 1 else 'l',\n    #print ball_pos,\n    #print '\\t',\n    #visualize(S)\n    #print r_times\n\n    #print N-r_times, range(N-r_times,N,2), range(N-r_times+1,N,2)\n    tmp = N - r_times if N%2==0 else N-r_times-1\n    S[tmp::2] =  1 if (r_times%2 == 0) else 0\n    S[tmp+1::2] =  0 if (r_times%2 == 0) else 1\n    \n    if r_times == N-1:\n        #print 'break'\n        break\n\nif r_times == N-1 and (K-k)%2==0:\n    S[0]=1\n\nvisualize(S)\n\"\"\"\n5 2\nABAAA\n\"\"\""
  },
  {
    "language": "Python",
    "code": "n,k=map(int,input().split())\ns=list(input())*3\np=['A' if s[i]=='B' else 'B' for i in range(n)]*3\nhead,tail=0,n\nif k>2*n:\n\tk=2*n+k%2\nfor i in range(k):\n\tif s[head]=='A':\n\t\ts[head],p[head]='B','A'\n\telse:\n\t\ts,p=p,s\n\t\thead+=1\n\t\ts[tail],p[tail]='A','B'\t\t\n\t\ttail+=1\nprint(''.join(s[head:tail]))"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_imports)]\nuse std::cmp::*;\n#[allow(unused_imports)]\nuse std::collections::*;\nuse std::io::Read;\n#[allow(dead_code)]\nfn getline() -> String {\n    let mut ret = String::new();\n    std::io::stdin().read_line(&mut ret).ok().unwrap();\n    ret\n}\nfn get_word() -> String {\n    let mut stdin = std::io::stdin();\n    let mut u8b: [u8; 1] = [0];\n    loop {\n        let mut buf: Vec<u8> = Vec::with_capacity(16);\n        loop {\n            let res = stdin.read(&mut u8b);\n            if res.unwrap_or(0) == 0 || u8b[0] <= b' ' {\n                break;\n            } else {\n                buf.push(u8b[0]);\n            }\n        }\n        if buf.len() >= 1 {\n            let ret = String::from_utf8(buf).unwrap();\n            return ret;\n        }\n    }\n}\n\n#[allow(dead_code)]\nfn get<T: std::str::FromStr>() -> T { get_word().parse().ok().unwrap() }\n\nfn fool_one(s: &mut [char]) -> bool {\n    let mut pos = 0;\n    let mut dir = true;\n    let n = s.len();\n    loop {\n        if (!dir && pos == 0) || (dir && pos >= n) {\n            return dir;\n        }\n        let c = if dir { &mut s[pos] } else { &mut s[pos - 1] };\n        let is_a = *c == 'A';\n        *c = if is_a { 'B' } else { 'A' };\n        if is_a { // reflect\n            dir = !dir;\n        } else {\n            pos = if dir { pos + 1 } else { pos - 1 };\n        }\n    }\n}\n\nfn norm(seq: Vec<(usize, bool)>) -> Vec<(usize, bool)> {\n    let mut cnt: usize = 0;\n    let mut cur = false;\n    let mut ret = Vec::new();\n    for v in seq {\n        if v.1 != cur {\n            if cnt > 0 {\n                ret.push((cnt, cur));\n            }\n            cur = v.1;\n            cnt = 0;\n        }\n        cnt += v.0;\n    }\n    if cnt > 0 {\n        ret.push((cnt, cur));\n    }\n    while ret.len() >= 2 {\n        let k = ret.len();\n        if ret[k - 2].0 == 1 && ret[k - 1].0 == 1 && !ret[k - 1].1 {\n            ret.pop();\n            ret.pop();\n        } else {\n            break;\n        }\n    }\n    ret\n}\n\n// B: true, A: false\nfn smart_one(seq: &[(usize, bool)]) -> Vec<(usize, bool)> {\n    let mut ret = Vec::new();\n    let m = seq.len();\n    for i in 0 .. m {\n        if seq[i].1 { // B\n            if i < m - 1 {\n                if seq[i].0 >= 2 {\n                    ret.push((seq[i].0 - 1, false)); // A\n                }\n                ret.push((1, true)); // B\n            } else {\n                ret.push((seq[i].0, false));\n            }\n        } else {\n            if i == 0 {\n                ret.push((1, true));\n                if seq[0].0 >= 2 {\n                    ret.push((seq[0].0 - 1, false));\n                }\n                for j in 1 .. m {\n                    ret.push(seq[j]);\n                }\n                return norm(ret);\n            }\n            // [i - 1] should be B.\n            if seq[i].0 >= 2 {\n                ret.push((seq[i].0 - 1, true)); // B\n            }\n            ret.push((1, false));\n        }\n    }\n    norm(ret)\n}\n\nfn test(s: &[char]) {\n    let mut s = s.to_vec();\n    for _ in 0 .. 64 {\n        let r = fool_one(&mut s);\n        println!(\"{} {} {}\", if r { \" \" } else { \"+\" },\n                 s.iter().map(|&x| if x == 'A' { 'A' } else {'.'}).collect::<String>(),\n                 if r { \"+\" } else { \" \" });\n    }\n}\n\nfn solve() {\n    let n: usize = get();\n    let k: i64 = get();\n    let s: Vec<char> = get_word().chars().collect();\n    let mut seq = Vec::new();\n    let mut c = 0;\n    let mut cur = ' ';\n    for &v in s.iter() {\n        if cur != v {\n            if c > 0 {\n                seq.push((c, cur == 'B'));\n            }\n            c = 0;\n            cur = v;\n        }\n        c += 1;\n    }\n    if c > 0 {\n        seq.push((c, cur == 'B'));\n    }\n    for _ in 0 .. k {\n        seq = smart_one(&seq);\n        if seq.len() == 0 {\n            break;\n        }\n    }\n    // recons\n    let mut out = String::new();\n    let mut l = 0;\n    for (v, c) in seq {\n        for _ in 0 .. v {\n            out.push(if c { 'B' } else { 'A' });\n        }\n        l += v;\n    }\n    for _ in 0 .. (n - l) / 2 {\n        out.push('B');\n        out.push('A');\n    }\n    println!(\"{}\", out);\n}\n\nfn main() {\n    // In order to avoid potential stack overflow, spawn a new thread.\n    let stack_size = 104_857_600; // 100 MB\n    let thd = std::thread::Builder::new().stack_size(stack_size);\n    thd.spawn(|| solve()).unwrap().join().unwrap();\n}\n"
  },
  {
    "language": "Rust",
    "code": "macro_rules! input {\n    (source = $s:expr, $($r:tt)*) => {\n        let mut iter = $s.split_whitespace();\n        let mut next = || { iter.next().unwrap() };\n        input_inner!{next, $($r)*}\n    };\n    ($($r:tt)*) => {\n        let stdin = std::io::stdin();\n        let mut bytes = std::io::Read::bytes(std::io::BufReader::new(stdin.lock()));\n        let mut next = move || -> String {\n            bytes\n                .by_ref()\n                .map(|r| r.unwrap() as char)\n                .skip_while(|c| c.is_whitespace())\n                .take_while(|c| !c.is_whitespace())\n                .collect()\n        };\n        input_inner!{next, $($r)*}\n    };\n}\n\nmacro_rules! input_inner {\n    ($next:expr) => {};\n    ($next:expr, ) => {};\n\n    ($next:expr, $var:ident : $t:tt $($r:tt)*) => {\n        let $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n\n    ($next:expr, mut $var:ident : $t:tt $($r:tt)*) => {\n        let mut $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n}\n\nmacro_rules! read_value {\n    ($next:expr, ( $($t:tt),* )) => {\n        ( $(read_value!($next, $t)),* )\n    };\n\n    ($next:expr, [ $t:tt ; $len:expr ]) => {\n        (0..$len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n    };\n\n    ($next:expr, [ $t:tt ]) => {\n        {\n            let len = read_value!($next, usize);\n            (0..len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n        }\n    };\n\n    ($next:expr, chars) => {\n        read_value!($next, String).chars().collect::<Vec<char>>()\n    };\n\n    ($next:expr, usize1) => {\n        read_value!($next, usize) - 1\n    };\n\n    ($next:expr, $t:ty) => {\n        $next().parse::<$t>().expect(\"Parse error\")\n    };\n}\n\n#[allow(unused_imports)]\nuse std::cmp::{min, max};\n\nfn main() {\n    input!{\n        n: usize,\n        k: usize,\n        mut s: chars\n    }\n    if n == 1 {\n        if k % 2 == 1 {\n            s[0] = flip_AB(&s[0]);\n        }\n        println!(\"{}\", s[0]);\n        return;\n    }\n    let mut f = false;\n    let mut l = k;\n    let mut i = 0;\n    while l > 0 && i < n {\n        if (s[i] == 'B') ^ f {\n            l -= 1;\n        } else if l > 1 {\n            l -= 2;\n        } else {\n            s[i] = flip_AB(&s[i]);\n            l -= 1;\n            break;\n        }\n        f ^= true;\n        i += 1;\n    }\n    for j in 0..i {\n        if j % 2 == 0 {\n            s.push('B');\n        } else {\n            s.push('A');\n        }\n    }\n    if f {\n        s = s.iter().map(flip_AB).collect();\n    }\n    if i == n && l % 2 == 1 {\n        s[i] = 'B';\n    }\n    println!(\"{}\", s[i..i + n].iter().cloned().collect::<String>());\n}\n\nfn flip_AB(c: &char) -> char {\n    match *c {\n        'A' => 'B',\n        'B' => 'A',\n        c => c\n    }\n}"
  },
  {
    "language": "Rust",
    "code": "// use std::ops::{Index, IndexMut};\n// use std::cmp::{Ordering, min, max};\n// use std::collections::{BinaryHeap, BTreeMap};\n// use std::collections::btree_map::Entry::{Occupied, Vacant};\n// use std::clone::Clone;\n\nfn getline() -> String{\n    let mut res = String::new();\n    std::io::stdin().read_line(&mut res).ok();\n    res\n}\n\nmacro_rules! readl {\n    ($t: ty) => {\n        {\n            let s = getline();\n            s.trim().parse::<$t>().unwrap()\n        }\n    };\n    ($( $t: ty),+ ) => {\n        {\n            let s = getline();\n            let mut iter = s.trim().split(' ');\n            ($(iter.next().unwrap().parse::<$t>().unwrap(),)*) \n        }\n    };\n}\n\nmacro_rules! readlvec {\n    ($t: ty) => {\n        {\n            let s = getline();\n            let iter = s.trim().split(' ');\n            iter.map(|x| x.parse().unwrap()).collect::<Vec<$t>>()\n        }\n    }\n}\n\nmacro_rules! mvec {\n    ($v: expr, $s: expr) => {\n        vec![$v; $s]\n    };\n    ($v: expr, $s: expr, $($t: expr),*) => {\n        vec![mvec!($v, $($t),*); $s]\n    };\n}\n\nmacro_rules! debug {\n    ($x: expr) => {\n        println!(\"{}: {:?}\", stringify!($x), $x)\n    }\n}\n\nfn printiter<'a, T>(v: &'a T)\nwhere\n    &'a T: std::iter::IntoIterator, \n    <&'a T as std::iter::IntoIterator>::Item: std::fmt::Display {\n    for (i,e) in v.into_iter().enumerate() {\n        if i != 0 {\n            print!(\" \");\n        }\n        print!(\"{}\", e);\n    }\n    println!(\"\");\n}\n\nfn main() {\n    use std::collections::VecDeque;\n\tlet (n, k) = readl!(usize, usize);\n\tlet mut s: VecDeque<_> = readl!(String).into_bytes().iter()\n                                    .map(|x| *x == 'A' as u8).collect();\n    let mut rf = false;\n    for _ in 0..k {\n        let fr = s.pop_front().unwrap()^rf;\n        // debug!(rf);\n        if fr == true {\n            s.push_front(false^rf);\n        } else {\n            s.push_back(false^rf);\n            rf = !rf;\n        }\n        // debug!(s);\n    }\n    // debug!(s);\n    let ans: String = s.into_iter().map(\n        |x|if x^rf {'A'} else {'B'} ).collect();\n    println!(\"{}\", ans);\n}\n\n"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_imports)]\nuse std::cmp::*;\n#[allow(unused_imports)]\nuse std::collections::*;\nuse std::io::Read;\n#[allow(dead_code)]\nfn getline() -> String {\n    let mut ret = String::new();\n    std::io::stdin().read_line(&mut ret).ok().unwrap();\n    ret\n}\nfn get_word() -> String {\n    let mut stdin = std::io::stdin();\n    let mut u8b: [u8; 1] = [0];\n    loop {\n        let mut buf: Vec<u8> = Vec::with_capacity(16);\n        loop {\n            let res = stdin.read(&mut u8b);\n            if res.unwrap_or(0) == 0 || u8b[0] <= b' ' {\n                break;\n            } else {\n                buf.push(u8b[0]);\n            }\n        }\n        if buf.len() >= 1 {\n            let ret = String::from_utf8(buf).unwrap();\n            return ret;\n        }\n    }\n}\n\n#[allow(dead_code)]\nfn get<T: std::str::FromStr>() -> T { get_word().parse().ok().unwrap() }\n\n// Written after the author read the editorial\nfn solve() {\n    let n: usize = get();\n    let mut k: i64 = get();\n    // A -> false, B -> true\n    let mut s: Vec<bool> = get_word().chars().map(|x| x == 'B').collect();\n    assert_eq!(s.len(), n);\n    let mut pos = 0;\n    for i in 0 .. n {\n        s[i] = s[i] ^ ((n + i) % 2 != 1);\n    }\n    for _ in 0 .. n {\n        s.push(false);\n    }\n    while k > 0 {\n        if pos >= n {\n            break;\n        }\n        if s[pos] ^ ((pos + n) % 2 != 1) { // B\n            pos += 1;\n        } else { // A\n            s[pos] = !s[pos];\n        }\n        k -= 1;\n    }\n    if k > 0 && n % 2 == 1 && k % 2 == 1 {\n        assert_eq!(pos, n);\n        s[n] = !s[n];\n    }\n    // recons\n    let mut out = String::new();\n    for i in pos .. pos + n {\n        out.push(if s[i] ^ ((pos + n + i) % 2 != 1) { 'B' } else { 'A' });\n    }\n    println!(\"{}\", out);\n}\n\nfn main() {\n    // In order to avoid potential stack overflow, spawn a new thread.\n    let stack_size = 104_857_600; // 100 MB\n    let thd = std::thread::Builder::new().stack_size(stack_size);\n    thd.spawn(|| solve()).unwrap().join().unwrap();\n}\n"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_imports)]\nuse std::collections::*;\nuse std::io::Read;\nfn get_word() -> String {\n    let mut stdin = std::io::stdin();\n    let mut u8b: [u8; 1] = [0];\n    loop {\n        let mut buf: Vec<u8> = Vec::with_capacity(16);\n        loop {\n            let res = stdin.read(&mut u8b);\n            if res.unwrap_or(0) == 0 || u8b[0] <= b' ' {\n                break;\n            } else {\n                buf.push(u8b[0]);\n            }\n        }\n        if buf.len() >= 1 {\n            let ret = String::from_utf8(buf).unwrap();\n            return ret;\n        }\n    }\n}\n\nfn get<T: std::str::FromStr>() -> T { get_word().parse().ok().unwrap() }\n\n// Written after the author read the editorial\nfn solve() {\n    let n: usize = get();\n    let mut k: i64 = get();\n    // A -> false, B -> true\n    let mut s: Vec<bool> = get_word().chars().map(|x| x == 'B').collect();\n    assert_eq!(s.len(), n);\n    let mut pos = 0;\n    for i in 0 .. n {\n        s[i] = s[i] ^ ((n + i) % 2 != 1);\n    }\n    for _ in 0 .. n {\n        s.push(false);\n    }\n    while k > 0 {\n        if pos >= n {\n            break;\n        }\n        if s[pos] ^ (n % 2 != 1) { // B\n            pos += 1;\n        } else { // A\n            s[pos] = !s[pos];\n        }\n        k -= 1;\n    }\n    if k > 0 && n % 2 == 1 && k % 2 == 1 {\n        assert_eq!(pos, n);\n        s[n] = !s[n];\n    }\n    // recons\n    let mut out = String::new();\n    for i in 0 .. n {\n        out.push(if s[pos + i] ^ ((n + i) % 2 != 1) { 'B' } else { 'A' });\n    }\n    println!(\"{}\", out);\n}\n\nfn main() {\n    // In order to avoid potential stack overflow, spawn a new thread.\n    let stack_size = 104_857_600; // 100 MB\n    let thd = std::thread::Builder::new().stack_size(stack_size);\n    thd.spawn(|| solve()).unwrap().join().unwrap();\n}\n"
  },
  {
    "language": "Rust",
    "code": "macro_rules! input {\n    (source = $s:expr, $($r:tt)*) => {\n        let mut iter = $s.split_whitespace();\n        let mut next = || { iter.next().unwrap() };\n        input_inner!{next, $($r)*}\n    };\n    ($($r:tt)*) => {\n        let stdin = std::io::stdin();\n        let mut bytes = std::io::Read::bytes(std::io::BufReader::new(stdin.lock()));\n        let mut next = move || -> String {\n            bytes\n                .by_ref()\n                .map(|r| r.unwrap() as char)\n                .skip_while(|c| c.is_whitespace())\n                .take_while(|c| !c.is_whitespace())\n                .collect()\n        };\n        input_inner!{next, $($r)*}\n    };\n}\n\nmacro_rules! input_inner {\n    ($next:expr) => {};\n    ($next:expr, ) => {};\n\n    ($next:expr, $var:ident : $t:tt $($r:tt)*) => {\n        let $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n\n    ($next:expr, mut $var:ident : $t:tt $($r:tt)*) => {\n        let mut $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n}\n\nmacro_rules! read_value {\n    ($next:expr, ( $($t:tt),* )) => {\n        ( $(read_value!($next, $t)),* )\n    };\n\n    ($next:expr, [ $t:tt ; $len:expr ]) => {\n        (0..$len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n    };\n\n    ($next:expr, [ $t:tt ]) => {\n        {\n            let len = read_value!($next, usize);\n            (0..len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n        }\n    };\n\n    ($next:expr, chars) => {\n        read_value!($next, String).chars().collect::<Vec<char>>()\n    };\n\n    ($next:expr, usize1) => {\n        read_value!($next, usize) - 1\n    };\n\n    ($next:expr, $t:ty) => {\n        $next().parse::<$t>().expect(\"Parse error\")\n    };\n}\n\n#[allow(unused_imports)]\nuse std::cmp::{min, max};\n\nfn main() {\n    input!{\n        n: usize,\n        k: usize,\n        mut s: chars\n    }\n    let mut f = false;\n    let mut l = k;\n    let mut i = 0;\n    while l > 0 && i < n {\n        if (s[i] == 'B') ^ f {\n            l -= 1;\n        } else if l > 1 {\n            l -= 2;\n        } else {\n            s[i] = flip_AB(&s[i]);\n            break;\n        }\n        f ^= true;\n        i += 1;\n    }\n    for j in 0..i {\n        if j % 2 == 0 {\n            s.push('B');\n        } else {\n            s.push('A');\n        }\n    }\n    if f {\n        s = s.iter().map(flip_AB).collect();\n    }\n    println!(\"{}\", s[i..i + n].iter().cloned().collect::<String>());\n}\n\nfn flip_AB(c: &char) -> char {\n    match *c {\n        'A' => 'B',\n        'B' => 'A',\n        c => c\n    }\n}"
  },
  {
    "language": "Rust",
    "code": "// use std::ops::{Index, IndexMut};\n// use std::cmp::{Ordering, min, max};\n// use std::collections::{BinaryHeap, BTreeMap};\n// use std::collections::btree_map::Entry::{Occupied, Vacant};\n// use std::clone::Clone;\n\nfn getline() -> String{\n    let mut res = String::new();\n    std::io::stdin().read_line(&mut res).ok();\n    res\n}\n\nmacro_rules! readl {\n    ($t: ty) => {\n        {\n            let s = getline();\n            s.trim().parse::<$t>().unwrap()\n        }\n    };\n    ($( $t: ty),+ ) => {\n        {\n            let s = getline();\n            let mut iter = s.trim().split(' ');\n            ($(iter.next().unwrap().parse::<$t>().unwrap(),)*) \n        }\n    };\n}\n\nmacro_rules! readlvec {\n    ($t: ty) => {\n        {\n            let s = getline();\n            let iter = s.trim().split(' ');\n            iter.map(|x| x.parse().unwrap()).collect::<Vec<$t>>()\n        }\n    }\n}\n\nmacro_rules! mvec {\n    ($v: expr, $s: expr) => {\n        vec![$v; $s]\n    };\n    ($v: expr, $s: expr, $($t: expr),*) => {\n        vec![mvec!($v, $($t),*); $s]\n    };\n}\n\nmacro_rules! debug {\n    ($x: expr) => {\n        println!(\"{}: {:?}\", stringify!($x), $x)\n    }\n}\n\nfn printiter<'a, T>(v: &'a T)\nwhere\n    &'a T: std::iter::IntoIterator, \n    <&'a T as std::iter::IntoIterator>::Item: std::fmt::Display {\n    for (i,e) in v.into_iter().enumerate() {\n        if i != 0 {\n            print!(\" \");\n        }\n        print!(\"{}\", e);\n    }\n    println!(\"\");\n}\nmacro_rules! make_modint {\n    ($MOD: expr, $name: ident) => {\n        struct $name {\n            val: i64,\n        }\n\n        impl $name {\n            fn new(x: i64) -> $name {\n                let x = x%$MOD;\n                $name{val: if x < 0 { x+$MOD } else { x }}\n            }\n\n            fn pow(&self, x: i64) -> $name {\n                let mut res = $name::new(1);\n                let mut tmp = x;\n                let mut p = *self;\n                while tmp != 0 {\n                    if tmp&1 == 1 {\n                        res *= p;\n                    }\n                    tmp = tmp>>1;\n                    p = p*p;\n                }\n                res\n            }\n\n            fn inv(&self) -> $name {\n                assert!(self.val != 0);\n                let mut a = self.val;\n                let mut b = $MOD;\n                let mut u = 1;\n                let mut v = 0;\n                use std::mem::swap;\n                while b != 0 {\n                    let t = a/b;\n                    a -= t*b;\n                    swap(&mut a, &mut b);\n                    u -= t*v;\n                    swap(&mut u, &mut v);\n                }\n                $name::new(u)\n            }\n        }\n\n        impl std::clone::Clone for $name {\n            fn clone(&self) -> $name {\n                $name{ val: self.val }\n            }\n        }\n\n        impl std::marker::Copy for $name { }\n\n        impl std::ops::Add for $name {\n            type Output = $name;\n            fn add(self, y: $name) -> $name {\n                let tmp = self.val+y.val;\n                $name{val: if tmp >= $MOD {tmp-$MOD} else {tmp}}\n            }\n        }\n\n        impl std::ops::Neg for $name {\n            type Output = $name;\n            fn neg(self) -> $name {\n                $name::new(self.val)\n            }\n        }\n\n        impl std::ops::Sub for $name {\n            type Output = $name;\n            fn sub(self, other: $name) -> $name{\n                let tmp = self.val-other.val;\n                $name{val: if tmp < 0 {tmp+$MOD} else {tmp}}\n            }\n        }\n\n        impl std::ops::Mul for $name {\n            type Output = $name;\n            fn mul(self, y: $name) -> $name {\n                $name{val: (self.val*y.val)%$MOD}\n            }\n        }\n\n        impl std::ops::Div for $name {\n            type Output = $name;\n            fn div(self, other: $name) -> $name {\n                self*other.inv()\n            }\n        }\n\n        impl std::fmt::Display for $name {\n            fn fmt(&self, f: &mut std::fmt::Formatter) -> std::fmt::Result {\n                write!(f, \"{}\", self.val)\n            }\n        }\n\n        impl std::ops::AddAssign for $name {\n        fn add_assign(&mut self, other: $name) {\n            *self = *self+other;\n        }\n        }\n\n        impl std::ops::SubAssign for $name {\n            fn sub_assign(&mut self, other: $name) {\n                *self = *self-other;\n            }\n        }\n\n        impl std::ops::MulAssign for $name {\n            fn mul_assign(&mut self, other: $name) {\n                *self = *self*other;\n            }\n        }\n\n        impl std::ops::DivAssign for $name {\n            fn div_assign(&mut self, other: $name) {\n                *self = *self*other.inv();\n            }\n        }\n\n        impl std::fmt::Debug for $name {\n            fn fmt(&self, f: &mut std::fmt::Formatter) -> std::fmt::Result {\n                write!(f, \"{}\", self.val)\n            }\n        }\n    }\n}\n\nmake_modint!(1_000_000_000+7, mint0);\nmake_modint!(1_000_000_000+9, mint1);\nmake_modint!(999_999_937, mint2);\n\nstruct Random {\n    x: i32,\n    y: i32,\n    z: i32,\n    w: i32,\n    t: i32,\n}\n\nimpl Random {\n    fn new() -> Random {\n        Random {\n            x: 123456789,\n            y: 362436069,\n            z: 521288629,\n            w: 886751233,\n            t: 1,\n        }\n    }\n\n    fn next(&mut self) -> i32 {\n        self.t = self.x^(self.x << 11);\n        self.x = self.y;\n        self.y = self.z;\n        self.z = self.w;\n        self.w = (self.w ^ (self.w>>19)) ^ (self.t ^ (self.t>>8));\n        self.w&0x7fffffff\n    }\n}\n\nuse std::collections::VecDeque;\nuse std::collections::HashMap;\nfn solve(n: usize, k: usize, mut s: VecDeque<bool>) -> String {\n    let mut rf = false;\n    // let mut memo = HashMap::new();\n    let d = 3;\n    // let hash = (mint0::new(0), mint1::new(0), mint2::new(0s));\n    let mut cnt = 0;\n    let mut lc = 0;\n    for i in 0..k {\n        let fr = s.pop_front().unwrap()^rf;\n        if fr == true {\n            s.push_front(rf);\n        } else {\n            s.push_back(rf);\n            cnt += 1;\n            rf = !rf;\n        }\n        lc = i+1;\n        if cnt == n {\n            break;\n        }\n    }\n    let rem = k-lc;\n    if *s.get(0).unwrap() ^ rf {\n        if rem%2 == 1 {\n            *s.get_mut(0).unwrap() = rf; \n        }\n    }\n    s.into_iter().map(\n        |x|if x^rf {'A'} else {'B'} ).collect()\n}\n\nfn main() {\n\tlet (n, k) = readl!(usize, usize);\n\tlet mut s: VecDeque<_> = readl!(String).into_bytes().iter()\n                                    .map(|x| *x == 'A' as u8).collect();\n    // assert_eq!(s.len(), n);\n    println!(\"{}\", solve(s.len(), k, s));\n}\n\n"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_imports)]\nuse std::cmp::*;\n#[allow(unused_imports)]\nuse std::collections::*;\nuse std::io::Read;\n#[allow(dead_code)]\nfn getline() -> String {\n    let mut ret = String::new();\n    std::io::stdin().read_line(&mut ret).ok().unwrap();\n    ret\n}\nfn get_word() -> String {\n    let mut stdin = std::io::stdin();\n    let mut u8b: [u8; 1] = [0];\n    loop {\n        let mut buf: Vec<u8> = Vec::with_capacity(16);\n        loop {\n            let res = stdin.read(&mut u8b);\n            if res.unwrap_or(0) == 0 || u8b[0] <= b' ' {\n                break;\n            } else {\n                buf.push(u8b[0]);\n            }\n        }\n        if buf.len() >= 1 {\n            let ret = String::from_utf8(buf).unwrap();\n            return ret;\n        }\n    }\n}\n\n#[allow(dead_code)]\nfn get<T: std::str::FromStr>() -> T { get_word().parse().ok().unwrap() }\n\n// Written after the author read the editorial\nfn solve() {\n    let n: usize = get();\n    let mut k: i64 = get();\n    // A -> false, B -> true\n    let mut s: Vec<bool> = get_word().chars().map(|x| x == 'B').collect();\n    assert_eq!(s.len(), n);\n    let mut pos = 0;\n    for i in 0 .. n {\n        s[i] = s[i] ^ ((n + i) % 2 != 1);\n    }\n    for _ in 0 .. n {\n        s.push(false);\n    }\n    while k > 0 {\n        if pos >= n {\n            break;\n        }\n        if s[pos] ^ ((pos + n) % 2 != 1) { // B\n            pos += 1;\n        } else { // A\n            s[pos] = !s[pos];\n        }\n        k -= 1;\n    }\n    if k > 0 && n % 2 == 1 {\n        assert_eq!(pos, n);\n        s[n] = !s[n];\n    }\n    // recons\n    let mut out = String::new();\n    for i in pos .. pos + n {\n        out.push(if s[i] ^ ((pos + n + i) % 2 != 1) { 'B' } else { 'A' });\n    }\n    println!(\"{}\", out);\n}\n\nfn main() {\n    // In order to avoid potential stack overflow, spawn a new thread.\n    let stack_size = 104_857_600; // 100 MB\n    let thd = std::thread::Builder::new().stack_size(stack_size);\n    thd.spawn(|| solve()).unwrap().join().unwrap();\n}\n"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_imports)]\nuse std::cmp::*;\n#[allow(unused_imports)]\nuse std::collections::*;\nuse std::io::Read;\n#[allow(dead_code)]\nfn getline() -> String {\n    let mut ret = String::new();\n    std::io::stdin().read_line(&mut ret).ok().unwrap();\n    ret\n}\nfn get_word() -> String {\n    let mut stdin = std::io::stdin();\n    let mut u8b: [u8; 1] = [0];\n    loop {\n        let mut buf: Vec<u8> = Vec::with_capacity(16);\n        loop {\n            let res = stdin.read(&mut u8b);\n            if res.unwrap_or(0) == 0 || u8b[0] <= b' ' {\n                break;\n            } else {\n                buf.push(u8b[0]);\n            }\n        }\n        if buf.len() >= 1 {\n            let ret = String::from_utf8(buf).unwrap();\n            return ret;\n        }\n    }\n}\n\n#[allow(dead_code)]\nfn get<T: std::str::FromStr>() -> T { get_word().parse().ok().unwrap() }\n\n// Written after the author read the editorial\nfn solve() {\n    let n: usize = get();\n    let mut k: i64 = get();\n    // A -> false, B -> true\n    let mut s: Vec<bool> = get_word().chars().map(|x| x == 'B').collect();\n    assert_eq!(s.len(), n);\n    let mut pos = 0;\n    for i in 0 .. n {\n        s[i] = s[i] ^ ((n + i) % 2 != 1);\n    }\n    for _ in 0 .. n {\n        s.push(false);\n    }\n    while k > 0 {\n        if pos >= n {\n            break;\n        }\n        if s[pos] ^ (n % 2 != 1) { // B\n            pos += 1;\n        } else { // A\n            s[pos] = !s[pos];\n        }\n        k -= 1;\n    }\n    if k > 0 && n % 2 == 1 && k % 2 == 1 {\n        assert_eq!(pos, n);\n        s[n] = !s[n];\n    }\n    // recons\n    let mut out = String::new();\n    for i in 0 .. n {\n        out.push(if s[pos + i] ^ ((n + i) % 2 != 1) { 'B' } else { 'A' });\n    }\n    println!(\"{}\", out);\n}\n\nfn main() {\n    // In order to avoid potential stack overflow, spawn a new thread.\n    let stack_size = 104_857_600; // 100 MB\n    let thd = std::thread::Builder::new().stack_size(stack_size);\n    thd.spawn(|| solve()).unwrap().join().unwrap();\n}\n"
  },
  {
    "language": "Rust",
    "code": "macro_rules! input {\n    (source = $s:expr, $($r:tt)*) => {\n        let mut iter = $s.split_whitespace();\n        let mut next = || { iter.next().unwrap() };\n        input_inner!{next, $($r)*}\n    };\n    ($($r:tt)*) => {\n        let stdin = std::io::stdin();\n        let mut bytes = std::io::Read::bytes(std::io::BufReader::new(stdin.lock()));\n        let mut next = move || -> String {\n            bytes\n                .by_ref()\n                .map(|r| r.unwrap() as char)\n                .skip_while(|c| c.is_whitespace())\n                .take_while(|c| !c.is_whitespace())\n                .collect()\n        };\n        input_inner!{next, $($r)*}\n    };\n}\n\nmacro_rules! input_inner {\n    ($next:expr) => {};\n    ($next:expr, ) => {};\n\n    ($next:expr, $var:ident : $t:tt $($r:tt)*) => {\n        let $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n\n    ($next:expr, mut $var:ident : $t:tt $($r:tt)*) => {\n        let mut $var = read_value!($next, $t);\n        input_inner!{$next $($r)*}\n    };\n}\n\nmacro_rules! read_value {\n    ($next:expr, ( $($t:tt),* )) => {\n        ( $(read_value!($next, $t)),* )\n    };\n\n    ($next:expr, [ $t:tt ; $len:expr ]) => {\n        (0..$len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n    };\n\n    ($next:expr, [ $t:tt ]) => {\n        {\n            let len = read_value!($next, usize);\n            (0..len).map(|_| read_value!($next, $t)).collect::<Vec<_>>()\n        }\n    };\n\n    ($next:expr, chars) => {\n        read_value!($next, String).chars().collect::<Vec<char>>()\n    };\n\n    ($next:expr, usize1) => {\n        read_value!($next, usize) - 1\n    };\n\n    ($next:expr, $t:ty) => {\n        $next().parse::<$t>().expect(\"Parse error\")\n    };\n}\n\n#[allow(unused_imports)]\nuse std::cmp::{min, max};\n\nfn main() {\n    input!{\n        n: usize,\n        k: usize,\n        mut s: chars\n    }\n    if n == 1 {\n        if k % 2 == 1 {\n            s[0] = flip_AB(&s[0]);\n        }\n        println!(\"{}\", s[0]);\n        return;\n    }\n    let mut f = false;\n    let mut l = k;\n    let mut i = 0;\n    while l > 0 && i < n {\n        if (s[i] == 'B') ^ f {\n            l -= 1;\n        } else if l > 1 {\n            l -= 2;\n        } else {\n            s[i] = flip_AB(&s[i]);\n            l -= 1;\n            break;\n        }\n        f ^= true;\n        i += 1;\n    }\n    for j in 0..i {\n        if j % 2 == 0 {\n            s.push('B');\n        } else {\n            s.push('A');\n        }\n    }\n    if f {\n        s = s.iter().map(flip_AB).collect();\n    }\n    println!(\"{}\", s[i..i + n].iter().cloned().collect::<String>());\n}\n\nfn flip_AB(c: &char) -> char {\n    match *c {\n        'A' => 'B',\n        'B' => 'A',\n        c => c\n    }\n}"
  }
]