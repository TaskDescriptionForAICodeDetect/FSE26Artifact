At a pancake shop you work for, pancakes are cooked by lining them up on a long iron plate, and they can be flipped a number of times using a large spatula. The number of flips required for each pancake to be fully cooked varies. The spatula can flip two adjacent pancakes at the same time without changing their order, but can also flip one pancake at the ends along with a neighboring one. Your goal is to create a program that calculates the minimum total number of individual flips needed for all pancakes to reach their required flip counts. Input will consist of the number of pancakes and the required flips for each pancake.