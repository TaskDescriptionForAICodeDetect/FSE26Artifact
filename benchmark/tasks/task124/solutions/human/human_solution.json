[
  {
    "language": "Scala",
    "code": "\nobject Main extends App {\n\n  import scala.io.StdIn._\n  import scala.math._\n\n  val n = readLine.trim.toInt\n  val p = readLine.trim.split(' ').map(_.toInt)\n  var min = Int.MaxValue\n  for (r ← 0 to p.head){\n    val arr = p.clone()\n    var sum = r\n    arr(0) -= r\n    for (i ← arr.indices){\n      if (arr(i) > 0){\n        sum += arr(i)\n        if (i + 1 < arr.length) {\n          sum += arr(i)\n          arr(i + 1) -= arr(i)\n        }\n      }\n    }\n    if (sum < min) min = sum\n  }\n  println(\n    min\n  )\n  implicit class Extenion[T](val value :T){\n    def also(func: T ⇒ Unit): T = {\n      func(value)\n      value\n    }\n    def let[R](func: T ⇒ R): R = func(value)\n  }\n}\n/*\n\n\n */\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main() {\n\tint N;\n\tcin >> N;\n\tvector<int> p(N),q(N);\n\tint i,j;\n\tfor(i=0;i<N;i++)cin >> p[i];\n\tint temp,ans = 2000000000;\n\tfor(j=0;j<4;j++) {\n\t\tfor(i=0;i<N;i++)q[i] = p[i];\n\t\ttemp = j;\n\t\tq[0] -= j;\n\t\tfor(i=0;i<N-1;i++) {\n\t\t\tif(q[i] > 0) {\n\t\t\t\tq[i+1] -= q[i];\n\t\t\t\ttemp += 2*q[i];\n\t\t\t}\n\t\t}\n\t\ttemp += max(q[N-1],0);\n\t\tans = min(ans,temp);\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\ntypedef long long ll;\nusing namespace std;\n\nint n; \nint r[5005];\nint p[5005];\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\t\n\t\tcin >> n;\n\t\t\n\t\tmemset(r,0,sizeof(r));\n\t\tfor (int i = 0;i < n;i++){\n\t\t\tcin >> r[i];\n\t\t}\n\t\tint ans = INT_MAX;\n\n\t\tif(n == 3){\n\t\t\tans = r[0] + r[1] + r[2];\n\t\t\tans += max(0,r[1] - r[0] - r[2]);\n\t\t}else{\n\n\t\tfor (int i = 0;i <= r[1];i++){\n\t\t\tfor (int j = 0;j <= r[n-2];j++){\n\t\t\t\tmemcpy(p,r,sizeof(r));\n\t\t\t\tint sum = 0;\n\t\t\t\tint a = p[1]-i; int b = p[n-2]-j;\n\t\t\t\tif(i < p[1] - p[0] || j < p[n-2]-p[n-1]) continue;\t\t\n\t\t\t\tsum += p[0] + a;\n\t\t\t\tsum += p[n-1] + b;\n\t\t\t\tp[1] -= a; p[n-2] -= b;\n\t\t\t\tfor (int k = 1;k < n-1;k++){\n\t\t\t\t\tsum += 2*p[k];\n\t\t\t\t\tp[k+1] = max(0,p[k+1]-p[k]);\n\t\t\t\t}\n\t\t\t\tans = min(sum,ans);\n\t\t\t}\n\t\t}\n\n\t\tfor (int i = 0;i <= r[1];i++){\n\t\t\tfor (int j = 0;j <= r[n-2];j++){\n\t\t\t\tmemcpy(p,r,sizeof(r));\n\t\t\t\tint sum = 0;\n\t\t\t\tif(i < p[1] - p[0] || j < p[n-2]-p[n-1]) continue;\n\t\t\t\tint a = p[1]-i; int b = p[n-2]-j;\t\t\t\t\n\t\t\t\tsum += p[0] + a;\n\t\t\t\tsum += p[n-1] + b;\n\t\t\t\tp[1] -= a; p[n-2] -= b;\n\t\t\t\tfor (int k = n-2;k > 0;k--){\n\t\t\t\t\tsum += 2*p[k];\n\t\t\t\t\tp[k+1] = max(0,p[k+1]-p[k]);\n\t\t\t\t}\n\t\t\t\tans = min(sum,ans);\n\t\t\t}\n\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t\n\n\treturn 0;\n\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint a[5001];\nint main(){\n\tint n, ans = 0;\n\tscanf(\"%d\", &n);\n\tfor(int i = 0;i < n;i++)scanf(\"%d\", &a[i]);\n\tfor(int i = 1;i < n;i++){\n\t\tint t = min(a[i], a[i+1]);\n\t\ta[i] -= t;a[i+1] -= t;\n\t\tans += t*2;\n\t}\n\tfor(int i = 1;i < n-1;i++){\n\t\tans += a[i]*2;\n\t\ta[i-1] = max(0, a[i-1]-a[i]);\n\t}\n\tprintf(\"%d\\n\", ans+a[0]+a[n-1]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i=0;i<n;++i) {\n    cin >> p[i];\n  }\n  \n  int ans = 0;\n  for(int i=0;i<n-1;++i) {\n    if(p[i] > 0) {\n      ans += 2 * p[i];\n      p[i+1] -= p[i];\n    }\n  }\n  if(p[n-1] > 0) ans += p[n-1];\n  cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],count=0;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n    }\n\n    int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      int tmp = p[1];\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n    for(int i=1;i<n-2;i++){\n      int minp = min(p[i],p[i+1]);\n      p[i] -= minp;\n      p[i+1] -= minp;\n      count +- minp*2;\n      if(p[i]!=0 && i!=1){\n        count += p[i] * 2;\n      }\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }\n\n    cout << count << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, n) for(int i = a; i < (n); i++)\n#define mod (ll)(1e9+7)\n#define int ll\n#define INF 100000000\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nsigned main() {\n\tll n, result = INF;\n  ll p[5005], q[5005];\n  cin >> n;\n  rep(i, n) cin >> p[i];\n  rep(i, p[0] + 1) {\n    rep(j, n) q[j] = p[j];\n    q[0] -= i;\n    ll sum = i;\n    rep(j, n - 1) {\n      if(q[j] > 0) {\n        q[j + 1] -= q[j];\n        sum += q[j] * 2;\n        q[j] = 0;\n      }\n    }\n    if(q[n - 1] > 0) sum += q[n - 1];\n    result = min(result, sum);\n  }\n  cout << result << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nint main()\n{\n    int n;\n    cin >>n;\n    vector<int> a(n);\n    rep(i,n) cin >>a[i];\n\n    int ans = 0;\n    for(int i=1; i<n-1; ++i)if(a[i]>0)\n    {\n        while(a[i]>0)\n        {\n            if(a[i-1]>0) --a[i-1];\n            else --a[i+1];\n            --a[i];\n            ans += 2;\n        }\n    }\n    if(a[0]>0) ans += a[0];\n    if(a[n-1]>0) ans += a[n-1];\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define UNIQUE(v) v.erase(unique(all(v)), v.end());\n#define ZIP(v) sort(all(v)),UNIQUE(v)\n#define ADD(a, b) a = (a + b) % mod\n#define MUL(a, b) a = (a * b) % mod\n#define repi(i,m,n) for(int i = m;i < n;i++)\n#define drep(i,n,m) for(int i = n;i >= m;i--)\n#define rep(i,n) repi(i,0,n)\n#define rrep(i,n) repi(i,1,n+1)\n#define chmin(x,y) x = min(x,y)\n#define chmax(x,y) x = max(x,y)\n#define all(v) v.begin(),v.end()\n#define rall(v) v.rbegin(), v.rend()\n#define dmp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define fi first\n#define se second\ntypedef pair<int,int> P;\ntypedef pair<int, P> PP;\ntypedef vector<int> vi;\nconst int inf = 1e9+7;\nconst int INF = 1e18+7;\n//26\n\nint a[10000], dp[4][10000];\nsigned main(){\n\tint n, ans = inf;\n\tscanf(\"%lld\", &n);\n\trep(i,4)rep(j,10000)dp[i][j] = inf;\n\trep(i,n)scanf(\"%lld\", &a[i]);\n\trep(i,4){\n\t\tif(i > a[0])break;\n\t\tdp[i][0] = a[0]-i;\n\t}\n\trepi(i,1,n){\n\t\trep(j,4){\n\t\t\tif(j > a[i])break;\n\t\t\trep(k,4){\n\t\t\t\tint mx = max(k, a[i]-j);\n\t\t\t\tchmin(dp[j][i], dp[k][i-1]+2*mx);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/*rep(i,4){\n\t\trep(j,n)printf(\"%lld \", dp[i][j] == inf ? -1 : dp[i][j]);\n\t\tprintf(\"\\n\");\n\t}*/\n\trep(i,4)chmin(ans, dp[i][n-1]+i);\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(void)\n{\n    int n,i,a[5000],w=0,j;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t    scanf(\"%d\",&a[i]);\n\t}\n\tif(a[0]>a[1]){\n\t    for(i=0;i<3;i++){\n\t\t    a[0]--;\n\t\t\tw++;\n\t\t\tif(a[0]==a[1]) break;\n\t\t}\n\t}\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=0;j<3;j++){\t\n\t\t\tif(a[i]>0){\n\t\t\t\ta[i]--;\n\t\t\t\ta[i+1]--;\n\t\t\t\tw+=2;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",w);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[5001],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]==0) i++;\n\t\t\tif(i==n-1){\n\t\t\t\tp[i]-=p[i]; cnt+=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]-=n; p[i+1]-=n; cnt+=n*2;\n\t\t\t}\n\t\t}\n\t}\n\tif(p[0]!=0) cnt+=p[0];\n\t// printf(\"%d %d\\n\",cnt,cnt1);\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h[5001],i,j;\n\tf=0;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th[i]=s[i];\n\t}\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i==1){\n\t\t\t\t\tif(s[i+1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==a-2){\n\t\t\t\t\tif(s[i-1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) f+=s[0];\n\tif(s[a-1]>0) f+=s[a-1];\n\tg=0;\n\td=4;\n\tfor(i=0;i<a;i++) s[i]=h[i];\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=a-2;i>0;i--){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i==1){\n\t\t\t\t\tif(s[i+1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tg+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tg+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==a-2){\n\t\t\t\t\tif(s[i-1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tg+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tg+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tg+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tg+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) g+=s[0];\n\tif(s[a-1]>0) g+=s[a-1];\n\tif(g<f) f=g;\n\tprintf(\"%d\\n\",f);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint a[5001];\nint main(){\n\tint n, ans = 0;\n\tscanf(\"%d\", &n);\n\tfor(int i = 0;i < n;i++)scanf(\"%d\", &a[i]);\n\tfor(int i = 0;i < n;i++){\n\t\tint t = min(a[i], a[i+1]);\n\t\ta[i] -= t;a[i+1] -= t;\n\t\tans += t*2;\n\t}\n\tfor(int i = 1;i < n-1;i++){\n\t\tans += a[i]*2;\n\t}\n\tprintf(\"%d\\n\", ans+a[0]+a[n-1]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0 && pancake[1] <= 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0 && pancake[N - 2] <= 0) {\n\t\t\tpancake[N-1]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0) {\n\t\t\t\tpancake[j]--;\n\t\t\t\tpancake[j - 1]--;\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\n\nint main(){\n  int n;\n  cin>>n;\n  int a,b;\n  int count=0,count2=0,task=0,c;\n  lp(i,n){\n    if(task==0) cin>>a;\n    else a=c;\n    task=0;\n    if(i==0){\n      b=a;\n      continue;\n    }\n    if(i==1){\n      cin>>c;\n      task=1;\n      if(b>a || c>a){\n\tcount2+=b;\n\tb=a;\n\tcontinue;\n      }\n    }\n    count+=b;\n    a-=b;\n    if(a<0) a=0;\n    b=a;\n    if(i==n-1) count2+=b;\n  }\n  cout<<count*2+count2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\n#define M 2000000000\n\nusing namespace std;\nint main(void)\n{\n\tint n,i,j,s,a[5000],b[5000],m;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&a[i]);\n\tm=M;\n\tfor(i=0;i<=a[0];i++){\n\t\tfor(j=0;j<n;j++) b[j]=a[j];\n\t\tb[0]-=i; s=i;\n\t\tfor(j=0;j<n-1;j++){\n\t\t\tif(b[j]>0){\n\t\t\t\tb[j+1]-=b[j];\n\t\t\t\ts+=b[j]*2;\n\t\t\t\tb[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(b[n-1]>0) s+=b[n-1];\n\t\tm=min(m,s);\n\t}\n\tprintf(\"%d\\n\",m);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    // 3\n    FOR(i,1,n-1){\n      if(v[i] == 3){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //2\n    FOR(i,1,n-1){\n      if(v[i] == 2){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //1\n    FOR(i,2,n-2){\n      if(v[i] == 1){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    FOR(i,1,n-1){\n      if(v[i] == 1){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n\n\n    FOR(i,1,n-1){\n      sum += v[i];\n    }\n    cout<<sum<<endl;\n\n\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing VI = vector<int>;\nusing VL = vector<ll>;\n#define FOR(i,a,n) for(int (i)=(a);(i)<(n);(i)++)\n#define eFOR(i,a,n) for(int (i)=(a);(i)<=(n);(i)++)\n#define rFOR(i,a,n) for(int (i)=(n)-1;(i)>=(a);(i)--)\n#define erFOR(i,a,n) for(int (i)=(n);(i)>=(a);(i)--)\n#define SORT(i) sort((i).begin(),(i).end())\n#define rSORT(i,a) sort((i).begin(),(i).end(),(a))\n#define all(i) (i).begin(),(i).end()\nconstexpr ll INF = 1000000000;\nconstexpr ll LLINF = 1LL << 60;\nconstexpr ll mod = 1000000007;\nconstexpr ll MOD = 998244353;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; }return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; }return 0; }\ninline void init() { cin.tie(nullptr); cout.tie(nullptr); cin.tie(nullptr); ios::sync_with_stdio(false); cout << fixed << setprecision(15); }\ntemplate<class T>inline istream& operator>>(istream& input, vector<T>& v) { for (auto& elemnt : v)input >> elemnt; return input; }\n\nint main() {\n    init();\n    \n    int n;\n    cin >> n;\n    VI in(n);\n    cin >> in;\n\n    int ans = INF;\n    eFOR(i, 0, in[0]) {\n        VI p = in;\n        int cnt = 0;\n        p[0] -= i;\n        cnt += i;\n        FOR(j, 0, n - 1) {\n            if (p[j] <= 0)continue;\n            cnt += p[j] * 2;\n            p[j + 1] -= p[j];\n            p[j] = 0;\n        }\n        if (p[n - 1] > 0)cnt += p[n - 1];\n        chmin(ans, cnt);\n    }\n    cout << ans << \"\\n\";\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &);\nint func(int,vector<int>);\nint main(){\n\tvector<int> cake;\n\tinput(cake);\n\tint ans = 100000;\n\tfor(int i=0;i<=cake[0];++i){\n\t\tans = func(i,cake);\n\t}\n\tcout<<min(func(true,cake),func(false,cake))<<endl;\n\treturn 0;\n}\n\nvoid input(vector<int> &line){\n\tint num;\n\tcin>>num;\n\tline.resize(num);\n\tfor(int i=0;i<num;++i){\n\t\tcin>>line[i];\n\t}\n}\n\nint func(int zerouse,vector<int> cake){\n\tint res=0;\n\tres=zerouse*2;\n\tcake[1]-=zerouse;\n\tcake[0]-=zerouse;\n\tfor(int i=1;i<cake.size();++i){\n\t\tint num = max(0,cake[i-1]);\n\t\tfor(int j=-1;j<=1;++j){\n\t\t\tif(j+i<cake.size()){\n\t\t\t\tcake[i+j]-=num;\n\t\t\t\tres+=num;\n\t\t\t}\n\t\t}\n\t}\n\tres+=max(0,cake.back())*2;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i, n) for (int i = 0; i < (n); i++)\n#define repr(i, n) for (int i = (n)-1; i >= 0; i--)\n\nint n;\nint dp[5005][4];\nint p[5005];\n\nint main() {\n  cin.tie(0); ios_base::sync_with_stdio(0);\n\n  fill(dp[0], dp[5005], 1 << 29);\n  cin >> n; rep(i, n) cin >> p[i];\n  rep(j, 4) dp[0][j] = j;\n  rep(i, n) rep(j, 4) rep(k, 4) if (j + k >= p[i]) {\n    dp[i+1][k] = min(dp[i+1][k], dp[i][j] + k*2);\n  }\n  int res = 1 << 29;\n  rep(k, 4) res = min(res, dp[n][k] - k);\n  cout << res << \"\\n\";\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],count=0;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      //count += p[i];\n    }\n\n    int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n\n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n\n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n\n\n\n    /*int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n\n    cout << count << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<b;i++)\n#define rrep(i,a,b) for(int i=a;i>=b;i--)\n#define fore(i,a) for(auto &i:a)\n#define all(x) (x).begin(),(x).end()\n#pragma GCC optimize (\"-O3\")\nusing namespace std; void _main(); int main() { cin.tie(0); ios::sync_with_stdio(false); _main(); }\ntypedef long long ll; const int inf = INT_MAX / 2; const ll infl = 1LL << 60;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a = b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a = b; return 1; } return 0; }\n//---------------------------------------------------------------------------------------------------\n/*---------------------------------------------------------------------------------------------------\n　　　　　　　　　　　 ∧＿∧  \n　　　　　 ∧＿∧ 　（´<_｀ ）　 Welcome to My Coding Space!\n　　　　 （ ´_ゝ`）　/　 ⌒i     \n　　　　／　　　＼　 　 |　|     \n　　　 /　　 /￣￣￣￣/　　|  \n　 ＿_(__ﾆつ/　    ＿/ .| .|＿＿＿＿  \n　 　　　＼/＿＿＿＿/　（u　⊃  \n---------------------------------------------------------------------------------------------------*/\n\n\n\n\n\nint N, P[5010];\nint dp[5010][4];\n//---------------------------------------------------------------------------------------------------\nvoid _main() {\n    cin >> N;\n    rep(i, 0, N) cin >> P[i];\n\n    rep(idx, 0, 5010) rep(last, 0, 4) dp[idx][last] = inf;\n    rep(last, 0, P[0] + 1) dp[0][last] = P[0] - last;\n\n    rep(idx, 0, N - 1) rep(last, 0, 4) {\n        rep(last2, 0, P[idx + 1] + 1) {\n            int d = P[idx + 1] - last2;\n            if (d < last) continue;\n\n            chmin(dp[idx + 1][last2], dp[idx][last] + d * 2);\n        }\n    }\n\n    int ans = inf;\n    rep(last, 0, 4) chmin(ans, dp[N - 1][last] + last);\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\n#define MAX -210000000\n#define MIN 210000000\n\nint main(){\n\tint s[5000],a,oo,ba,f=0,i,j;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++)\n\t\tscanf(\"%d\",&s[i]);\n\twhile(1){\n\t\too=-1;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(oo<s[i]){\n\t\t\t\too=s[i];\n\t\t\t\tba=i;\n\t\t\t\tif(oo==3){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t/*\tfor(i=0;i<a;i++)\n\t\t\tprintf(\"%d\\n\",s[i]);*/\n\t\tif(oo==0){\n\t\t\tf+=s[0];\n\t\t\tf+=s[a-1];\n\t\t\tbreak;\n\t\t}\n\t\tif(ba==2){\n\t\t\tif(s[ba+1]>0){\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\ts[ba+1]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\tif(s[ba-1]>0)\n\t\t\t\t\ts[ba-1]--;\n\t\t\t}\n\t\t}\n\t\telse if(ba==a-2){\n\t\t\tif(s[ba-1]>0){\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\ts[ba-1]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\tif(s[ba+1]>0)\n\t\t\t\t\ts[ba+1]--;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(s[ba-1]>s[ba+1]){\n\t\t\t\tf+=2;\n\t\t\t\tif(s[ba-1]>0)\n\t\t\t\t\ts[ba-1]--;\n\t\t\t\ts[ba]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf+=2;\n\t\t\t\tif(s[ba+1]>0)\n\t\t\t\t\ts[ba+1]--;\n\t\t\t\ts[ba]--;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",f);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin>>N;\n\n  int p[5000];\n  for(int i=0; i<N; i++){\n    cin>>p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int i=0; i<=p[0]; i++){\n    int q[5000];\n    for(int j=0; j<N; j++){\n      q[j]=p[j];\n    }\n\n    int sum=i;\n    q[0]-=i;\n\n    for(int j=0; j<=N-2; j++){\n      if(q[j]<=0)\n        continue;\n\n      sum+=q[j]*2;\n      q[j+1]-=q[j];\n    }\n\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n\n    min_sum=min(min_sum,sum);\n  }\n\n  cout<<min_sum<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<functional>\n#include<algorithm>\n#define M 2000000000\n\nusing namespace std;\nint main(void)\n{\n\tint n,i,j,s,a[5000],b[5000],m;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&a[i]);\n\tm=M;\n\tfor(i=0;i<=a[0];i++){\n\t\tfor(j=0;j<n;j++) b[j]=a[j];\n\t\tb[0]-=i; s=i;\n\t\tfor(j=0;j<n-1;j++){\n\t\t\tif(b[j]>0){\n\t\t\t\tb[j+1]-=b[j];\n\t\t\t\ts+=b[j]*2;\n\t\t\t\tb[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(b[n-1]>0) s+=b[n-1];\n\t\tm=min(m,s);\n\t}\n\tprintf(\"%d\\n\",m);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>  \n\nusing namespace std;\n\n//#define int long long\n#define FOR(i, j, k) for(int i = j; i < (int)k; ++i)\n#define rep(i, j) FOR(i, 0, j)\n#define INF (1 << 30)\n\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> Pi;\n\nconst int MOD = 1e9 + 7;\nconst int dy[] = {0, 0, 1, -1};\nconst int dx[] = {1, -1, 0, 0};\n\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\ntemplate<typename T> T gcd(T a, T b) { return (b == 0 ? a : gcd(b, a % b)); }\ntemplate<typename T> T lcm(T a, T b) { return a / gcd(a, b) * b; }\n\nint p[5000];\nint tmp[5000];\n\nsigned main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int n;\n    cin >> n;\n    rep(i, n) cin >> p[i];\n    int res = INF;\n    rep(i, p[0] + 1) {\n        int cnt = i;\n        memset(tmp, 0, sizeof(tmp));\n        tmp[0] = i;\n        FOR(j, 1, n) {\n            cnt += (p[j - 1] - tmp[j - 1]) * 2;\n            tmp[j] += p[j - 1] - tmp[j - 1];\n            chmin(tmp[j], p[j]);\n        }\n        cnt += p[n - 1] - tmp[n - 1];\n        chmin(res, cnt);\n    }\n    cout << res << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nint calc(const vector<int> &p)\n{\n    int n = p.size();\n    vector<int> a(p);\n    int ans = 0;\n    for(int i=1; i<n-1; ++i)if(a[i]>0)\n    {\n        while(a[i]>0)\n        {\n            if(a[i-1]>0) --a[i-1];\n            else --a[i+1];\n            --a[i];\n            ans += 2;\n        }\n    }\n    if(a[0]>0) ans += a[0];\n    if(a[n-1]>0) ans += a[n-1];\n    return ans;\n}\n\nint main()\n{\n    int n;\n    cin >>n;\n    vector<int> p(n);\n    rep(i,n) cin >>p[i];\n\n    int ans = calc(p);\n    reverse(all(p));\n    ans = min(ans,calc(p));\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  int N,ans = 0;\n  vector<int> p;\n\n  cin >> N;\n\n  p.resize(N);\n  int work;\n  for(int i=0;i<p.size();++i){\n    cin >> work;\n    p[i] = work;\n  }\n\n  for(int k=3;k>0;--k){\n    for(int i=1;i<p.size()-1;++i){\n      if(p[i] == k){\n\tans+=2;\n\tif(p[i-1] >= p[i+1]){\n\t  if(p[i-1] > 0) --p[i-1];\n\t  --p[i];\n\t}else{\n\t  if(p[i+1] > 0) --p[i+1];\n\t  --p[i];\n\t}\n      }\n    }\n  }\n\n  \n  cout << ans + p[0] + p[p.size()-1] << endl;\n\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <iostream>\n#include <utility>\n#include <iterator>\n\nint main () {\n    int N;\n    std::cin >> N;\n    std::vector<int> v(N);\n    for (int i = 0; i < N; i++) {\n        std::cin >> v[i];\n    }\n    int cnt = 0;\n    while (true) {\n        auto max_it = std::max_element(v.begin(), v.end());\n        int max = *max_it;\n        std::size_t index = std::distance(v.begin(), max_it);\n        if (max == 0) {\n            break;\n        }\n        if (index > 0 && v[index-1] > 0) {\n            int min = std::min(max, v[index-1]);\n            cnt += min * 2;\n            v[index] -= min;\n            v[index-1] -= min;\n            continue;\n        }\n        if (index < N && v[index+1] > 0) {\n            int min = std::min(max, v[index+1]);\n            cnt += min * 2;\n            v[index] -= min;\n            v[index+1] -= min;\n            continue;\n        }\n        if (index == 0 || index == N-1) {\n            cnt += max;\n        } else {\n            cnt += max *2;\n        }\n        v[index] = 0;\n    }\n    std::cout << cnt << std::endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint main(void)\n{\n\tint  N=0;int a=0;\n\tscanf(\"%d\",&N);\n\tint p[N]={0};\n\tfor(int i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tfor(int j=N-2;j>0;j--){\n\t\tif(p[j]>p[j-1]){\n\t\t\tif(j==N-2){\n\t\t\t\ta=a+(2*p[j-1]);p[j]=p[j]-p[j-1];p[j-1]=0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[j]=p[j]-p[j-1];\n\t\t\t\ta=a+(2*p[j-1])+p[j]*2;p[j]=0;p[j-1]=0;\n\t\t\t}\n\t\t}\n\t\telse if(p[j]==p[j-1]){\n\t\t\ta=a+p[j]*2;p[j]=0;p[j-1]=0;\n\t\t}\n\t\telse if(p[j]<p[j-1]){\n\t\t\ta=a+p[j]*2;p[j-1]=p[j-1]-p[j];p[j]=0;\n\t\t}\n\t}\n\ta=a+p[0];\n\tif(p[N-2]>0){\n\t\tif(p[N-2]>p[N-1]){\n\t\t\ta=a+p[N-2]*2;\n\t\t}\n\t\telse{\n\t\t\ta=a+p[N-2]*2;p[N-1]=p[N-1]-p[N-2];a=a+p[N-1];\n\t\t}\n\t}\n\telse{\n\t\ta=a+p[N-1];\n\t}\n\tprintf(\"%d\\n\",a);\n\ta=0;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint a[5001];\nint main(){\n\tint n, ans = 0;\n\tscanf(\"%d\", &n);\n\tfor(int i = 0;i < n;i++)scanf(\"%d\", &a[i]);\n\tfor(int i = 1;i < n-1;i++){\n\t\tint t = min(a[i], a[i+1]);\n\t\ta[i] -= t;a[i+1] -= t;\n\t\tans += t*2;\n\t}\n\tfor(int i = 1;i < n-1;i++){\n\t\tans += a[i]*2;\n\t\ta[i-1] = max(0, a[i-1]-a[i]);\n\t}\n\tprintf(\"%d\\n\", ans+a[0]+a[n-1]);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n        if(p[i]>0){\n\t\t\tx+=p[i];\n\t\t\tp[i+1]-=p[i];\n\t}\n        }\n\tif(p[n]>0){\n\t\tx+=p[n];\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<climits>\n\n#define REP(i,s,n) for(int i=s;i<n;++i)\n#define rep(i,n) REP(i,0,n)\n\nusing namespace std;\n\n#define MAX 5010\nint dp[MAX][4];\n\nvoid compute(int n,vector<int> &p) {\n  rep(i,n+2) rep(j,4) dp[i][j] = INT_MAX;\n  dp[0][0] = 0;\n  rep(i,n+1) {\n    rep(rem,4) {\n      if( dp[i][rem] == INT_MAX ) continue;\n      REP(use,rem,4) {\n\tint nrem = max(0,((i<n)?p[i]:0) - use);\n\tint cost = 0;\n\tif( 1   <= i ) cost += use;\n\tif( i+1 <= n ) cost += use;\n\tdp[i+1][nrem] = min(dp[i+1][nrem],dp[i][rem]+cost);\n      }\n    }\n  }\n  int mini = INT_MAX;\n  rep(i,4) mini = min(mini,dp[n+1][i]);\n  cout << mini << endl;\n}\n\nint main() {\n  int n;\n  cin >> n;\n  vector<int> p(n);\n  rep(i,n) cin >> p[i];\n  compute(n,p);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,j,i,k;\n\tscanf(\"%d\",&a);\n\th=0;\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th+=s[i];\n\t}\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i!=1){\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1!=a-1){\n\t\t\t\t\tif(s[i-1]<=s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1==a-1){\n\t\t\t\t\tif(s[i-1]!=0){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==1){\n\t\t\t\t\tif(s[i+1]!=0){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) s[0]=0;\n\tif(s[a-1]>0) s[a-1]=0;\n\tfor(i=0;i<a;i++) h+=s[i]*-1;\n\tprintf(\"%d\\n\",h);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      : \n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\nint w,h,c;\nint d[50001]={};\n\nint main() {\n\tint n;\n\tint total1,total2;\n\tint r1,r2,d1;\n\t\tcin>>n;\n\t\tcin>>d1;\n\t\ttotal1=d1;\n\t\ttotal2=d1;\n\t\tr1=d1;\n\t\tr2=0;\n\n\t\tfor(int i=2;i<n+1;++i){\n\t\t\tcin>>d1;\n\t\t\tif(d1>=r1){\n\t\t\t\ttotal1+=d1;\n\t\t\t\tr1=d1-r1;\n\t\t\t}else{\n\t\t\t\ttotal1+=r1;\n\t\t\t\tr1=0;\n\t\t\t}\n\t\t\tif(d1>=r2){\n\t\t\t\ttotal2+=d1;\n\t\t\t\tr2=d1-r2;\n\t\t\t}else{\n\t\t\t\ttotal2+=r2;\n\t\t\t\tr2=0;\n\t\t\t}\n\t\t}\n\t\tcout<<min(total1,total2)<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    V.push_back(p);\n  }\n\n  int res = 0;\n\n  if(V[0] >= V[1]){\n    while( !(V[1] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n  else {\n    while( !(V[0] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n\n  for(int i = 1; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n  //cout << res << endl;\n  //cout << V[0] << \" \" << V[n-1] << endl;\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n\n  cout << res << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint process(int n,int p[]){\n    int cou=0;\n    if(p[0]>p[1]){\n        while (p[0]!=p[1]) {\n            cou++;\n            p[0]--;\n        }\n    }\n    \n    for (int i=0; i<n-1; i++) {\n        while (p[i]!=0) {\n            cou+=2;\n            p[i]--;\n            p[i+1]--;\n        }\n    }\n    \n    if(p[n-1]!=0){\n        while (p[n-1]>0) {\n            cou++;\n            p[n-1]--;\n        }\n    }\n    return cou;\n}\n\nint Input(int n,int p[]){\n    for (int i=0; i<n; i++) {\n        cin>>p[i];\n    }\n    return process(n,p);\n}\n\nint main(){\n    int n;\n    int p[5000];\n    cin>>n;\n    int ans=Input(n,p);\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <fstream>\n#include <functional>\n#include <bitset>\n\nusing namespace std;\n#define int long long int\nconst int INF = 1001001001001001LL;\n\nint di[] = {-1, 0, 1, 0, -1, 1, 1, -1};\nint dj[] = {0, 1, 0, -1, 1, 1, -1, -1};\n\nint dp[5010][5];\n\nsigned main(){\n    \n    int n; cin >> n;\n    vector<int> p(n);\n    for(int i = 0; i < n; i++) cin >> p[i];\n    \n    for(int i = 0; i < 5010; i++) for(int j = 0; j < 5; j++) dp[i][j] = INF;\n\n    dp[0][0] = 0;\n\n    for(int i = 0; i < n; i++){\n        for(int j = 0; j < 5; j++){\n            for(int k = j; k <= p[i]; k++){\n                int nj = p[i] - k;\n                int cost = k;\n                if(i != 0) cost *= 2;\n                dp[i + 1][nj] = min(dp[i + 1][nj], dp[i][j] + cost);\n            }\n        }\n    }\n/*\n    for(int i = 0; i <= n; i++){\n        for(int j = 0; j < 4; j++){\n            cout << dp[i][j] << \" \";\n        }\n        cout << endl;\n    }\n*/\n    \n    int ans = INF;\n    for(int j = 0; j < 5; j++) ans = min(ans, dp[n][j] + j);\n    cout << ans << endl;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int N;\n  cin>>N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int i=0;i<N;i++){\n      q[i]=p[i];\n    }\n\n    int sum=I;\n    q[0]-=I;\n\n    for(int i=0;i<=N-2;i++){\n      if(q[i]<=0){\n        continue;\n      }\n      sum+=q[i]*2;\n      q[i+1]-=q[i];\n    }\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n    min_sum=min(min_sum,sum);\n  }\n  cout <<min_sum<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <vector>\n#include <string>\nusing namespace std;\nconst int INF = 2000000005;\nint pk[5005] = { 0 }, cnter[5005] = { 0 };\n\nint main() {\n\t\n\t\tint n;\n\t\tcin >> n;\n\t\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> pk[i];\n\t\t}\n\t\tcnter[0] = pk[0];\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\twhile (cnter[i] < pk[i]) {\n\t\t\t\tcnter[i]++;\n\t\t\t\tcnter[i + 1]++;\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t/*cout << cnter[i] << \" \";*/\n\t\t\tans+=cnter[i];\n\t\t}\n\t\tcout << /*endl << */ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n#include <vector>\n#include <algorithm>\nint main(){\n  int n;\n  cin >> n;\n  vector<int>p(n),ind(n,0);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n    \n  }\n\n  /*\n  for(int i = 0; i < n ;i++)cout << ind[i] << \" \";\n  cout <<endl;\n  */\n  int ans = 99999999;\n  for(int i = 0; i <= 3; i++){\n    for(int i = 0; i < n; i++)ind[i] = p[i];\n    int kind = i;\n    ind[0] -= kind;\n    for(int j = 0; j < n-1; j++){\n      \n      if(ind[j] < 0)ind[j] = 0;\n      int temp = ind[j];\n      ind[j+1] -= temp;\n      kind += temp*2;\n    }\n    if(ind[n-1] < 0)ind[n-1] = 0;\n    ans = min(ans,kind+ind[n-1]); \n  }\n  /*\n  for(int i = 0; i < n; i++)cout << p[i] << \" \";\n  cout << endl;\n  */  \n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n#define REP(i,n) for(int i=0;i<(n);i++)\n\nint N;\nint main(){\n    std::ios_base::sync_with_stdio(false);\n    cin>>N;\n    while(N!=0){\n        int A[5001];\n        ll ans=0;\n        REP(i,N)cin>>A[i];\n        REP(i,N-1){\n            if(A[i]<=A[i+1]){\n                A[i+1]-=A[i];\n                ans+=A[i]*2;\n                A[i]=0;\n            }else{\n                if(i==0){\n                    A[i]-=A[i+1];\n                    ans+=A[i+1]*2+A[i];\n                    A[i]=A[i+1]=0;\n                }else{\n                    ans+=A[i]*2;\n                    A[i]=A[i+1]=0;\n                }\n            }\n        }\n        if(A[N-1]>0)ans+=A[N-1];\n        cout<<ans<<endl;\n        cin>>N;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cmath>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <complex>\n#include <cstdlib>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <utility>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\n\n#define INF (1 << 30)\n#define INFL (1LL << 62)\n#define MOD7 1000000007\n#define MOD9 1000000009\n#define EPS 1e-10\n\n#define ll long long\n#define ull unsigned long long\n#define pii pair<int, int>\n#define pll pair<ll, ll>\n#define pul pair<ull, ull>\n#define all(a) (a).begin(), (a).end()\n#define FOR(i,a,b) for (int i=(a);i<(b);++i)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);--i)\n#define REP(i,n) for (int i=0;i<(n);++i)\n#define RREP(i,n) for (int i=(n)-1;i>=0;--i)\n\nvoid YES() { cout << \"YES\" << endl; }\nvoid NO() { cout << \"NO\" << endl; }\nvoid Yes() { cout << \"Yes\" << endl; }\nvoid No() { cout << \"No\" << endl; }\nvoid yes() { cout << \"yes\" << endl; }\nvoid no() { cout << \"no\" << endl; }\nvoid Taka() { cout << \"Takahashi\" << endl; }\nvoid Aoki() { cout << \"Aoki\" << endl; }\nvoid digit(int d) { cout << fixed << setprecision(d); }\nvoid IOup() { cin.tie(0); ios::sync_with_stdio(false); }\n\nint main() {\n\tint n, ans = INF;\n\tvector<int> a(5000), b;\n\tcin >> n;\n\tfor (int i = 0; i < n; ++i)\n\t\tcin >> a[i];\n\n\tfor (int i = 0; i <= a[0]; ++i) {\n\t\tfor (int j = 0; j <= a[n - 1]; ++j) {\n\t\t\tint cnt = i + j;\n\t\t\tb = a;\n\t\t\tb[0] -= i;\n\t\t\tb[n - 1] -= j;\n\t\t\tfor (int k = 0; k < n; ++k) {\n\t\t\t\tif (b[k] < 0)\n\t\t\t\t\tcontinue;\n\t\t\t\tb[k + 1] -= b[k];\n\t\t\t\tcnt += b[k] * 2;\n\t\t\t}\n\t\t\tans = min(ans, cnt);\n\t\t}\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n#define REP(i,n)  for(int i=0;i<n;++i)\nint n,a[5000],b[5000];\nint main() {\n\tcin>>n;\n\tREP(i,n)cin>>b[i];\n\tint ans = 1e6;\n\tREP(i,b[0]+1){\n\t\tmemcpy(a,b,sizeof(b));\n\t\ta[0]-=i;\n\t\tint t=i;\n\t\tREP(j,n-1){\n\t\t\tif(a[j]<1)continue;\n\t\t\tt+=a[j]*2;\n\t\t\ta[j+1]-=a[j];\n\t\t}\n\t\tt += max(0, a[n-1]);\n\t\tans = min(ans, t);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <cstdio>\nusing namespace std;\n\nint main(){\n\tint N,R=1<<29;\n\tscanf(\"%d\",&N);\n\tvector<int>v(N);\n\tfor(int i=0;i<N;i++)scanf(\"%d\",&v[i]);\n\tfor(int p=0;p<=v[0];p++){\n\t\tint cur=v[0]-p,r=p;\n\t\tfor(int i=0;i<N-1;i++){\n\t\t\tint x=cur;\n\t\t\tr+=x*2;\n\t\t\tcur=max(v[i+1]-x,0);\n\t\t}\n\t\tR=min(R,r+cur);\n\t}\n\tprintf(\"%d\\n\",R);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(pp[j]>0) {\n\t\t\t\t\tif(pp[j+1]>pp[j]) {\n\t\t\t\t\t\tsum+=pp[j+1]*2;\n\t\t\t\t\t\tpp[j+1]-=pp[j];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsum+=pp[j]*2;\n\t\t\t\t\t\tpp[j+1]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\nconst int N=1e6+10;\nint min(int a,int b){return a>b?b:a;}\nint main(){\n    int n,a[N],ans=1e9,now,temp,last;\n    scanf(\"%d\",&n);\n    for(int i=0;i<n;i++)scanf(\"%d\",&a[i]);\n    for(int i=0;i<=a[0];i++)for(int j=0;j<=a[n-1];j++){\n        temp=a[0]-i;\n        last=i;\n        for(int k=1;k<n-1;k++){\n            now=a[k];\n            temp+=last*2;\n            now-=last;\n            if(now<0)now=0;\n            last=now;\n        }\n        now=j;\n        temp+=last*2;\n        now-=last;\n        if(now<0)now=0;\n        temp+=now+a[n-1]-j;\n        ans=min(ans,temp);\n    }\n    printf(\"%d\\n\",ans);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n#define BIG_NUM 2000000000\nusing namespace std;\n\nint main(){\n\n\tint N,ans = BIG_NUM;\n\n\tscanf(\"%d\",&N);\n\n\tint* table = new int[N+1];\n\n\tint** dp = new int*[N+1];\n\tfor(int i = 0; i <= N; i++){\n\t\tdp[i] = new int[4];\n\t\tfor(int k = 0; k <= 3; k++)dp[i][k] = BIG_NUM;\n\t}\n\n\tfor(int i = 0; i < N; i++){\n\t\tscanf(\"%d\",&table[i+1]);\n\t}\n\n\tfor(int i = 0; i <= table[1]; i++){\n\t\tdp[1][table[1] - i] = i;\n\t}\n\n\tfor(int right = 2; right <= N; right++){\n\t\tfor(int left_rest = 0; left_rest <= 3; left_rest++){\n\t\t\tif(dp[right-1][left_rest] == BIG_NUM)continue;\n\t\t\tfor(int i = left_rest; i <= max(left_rest,table[right]);i++){\n\t\t\t\tdp[right][max(0,table[right]-i)] = min(dp[right][max(0,table[right]-i)],\n\t\t\t\t\t\tdp[right-1][left_rest]+2*i);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor(int i = 0; i <= table[N]; i++){\n\t\tans = min(ans,dp[N][i] + i);\n\t}\n\n\tprintf(\"%d\\n\",ans);\n\n   return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn=0;\n\t\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]!=0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[1]!=0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tp[1]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[N-2]!=0){\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tp[N-2]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<turn<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "for(int j = 0; j < 2; j++){\n  V = S;\n  for(int i = j; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  ans = min(ans,res);\n  cout << res << \" \";\n  res = 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  int N,ans = 0;\n  vector<int> p;\n\n  cin >> N;\n\n  p.resize(N);\n  int work;\n  for(int i=0;i<p.size();++i){\n    cin >> work;\n    p[i] = work;\n  }\n\n  for(int k=0;k<3;++k){\n    for(int i=1;i<p.size()-1;++i){\n      if(p[i] > 0){\n\tans+=2;\n\tif(p[i-1] >= p[i+1]){\n\t  if(p[i-1] > 0) --p[i-1];\n\t  --p[i];\n\t}else{\n\t  if(p[i+1] > 0) --p[i+1];\n\t  --p[i];\n\t}\n      }\n    }\n  }\n\n  \n  cout << ans + p[0] + p[p.size()-1] << endl;\n\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nconstexpr int MAX_N=5000;\n\nint n;\n\nint p[MAX_N];\n\nint main() {\n\n    std::cin>>n;\n\n    for(int i=0;i<n;++i)\n        std::cin>>p[i];\n\n    int ans=(p[0]<p[1])? 0 : p[1]-p[0];\n    int prev=std::min(p[0],p[1]);\n\n    for(int i=1;i<n;++i){\n        if(prev<p[i]){\n            ans+=prev*2;\n            prev=p[i]-prev;\n        }\n        else{\n            ans+=prev*2;\n            prev=0;\n        }\n    }\n\n    ans+=prev;\n\n    std::cout<<ans<<std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define MOD 1000000007\nusing namespace std;\n\nint main()\n{\n    int n;\n    cin >>n;\n    int p[n];\n    int a[n+1];\n    for(int i=0;i<n;i++){\n        cin >> p[i];\n        a[i]=0;\n    }\n    int m=10000000;\n    int b=0;\n    while(b<=p[0]){\n        int form=b;\n        a[0]=b;\n        for(int i=0;i<n;i++){\n            a[i+1]=max(p[i]-a[i],0);\n        }\n        form+=a[n];\n        for(int i=1;i<n;i++)\n            form+=(a[i]*2);\n        m=min(m,form);\n        b++;\n    }\n    cout << m << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main() {\n\tint n, ans = 20000;\n\tcin >> n;\n\tint p[5000], q[5000];\n\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t\tq[i] = p[i];\n\t}//??\\?????¨\n\n\tfor (int j = 0; j < 4; j++) {\n\t\tint counti = 0;//???????????´??§????????????\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tp[i] = q[i];\n\t\tp[0] -= j;//????????????????????????????????????\n\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tif (p[i] > 0) {\n\t\t\t\tcounti += p[i] * 2;\n\t\t\t\tp[i + 1] -= p[i];\n\t\t\t}\n\t\t}\n\t\tif (p[n - 1] < 0)\n\t\t\tp[n - 1] = 0;\n\t\tif (ans > counti + p[n - 1] + j)\n\t\t\tans = counti + p[n - 1] + j;//a[n-1]?????????????\\\\??????????????£????????????????????°j??????????????????????????????????????????\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &cake);\nint func(int,int,vector<int>);\nint solve(vector<int>);\nint main(){\n    vector<int> cake;\n    input(cake);\n    cout<<solve(cake)<<endl;\n    return 0;\n}\n\nint solve(vector<int> cake){\n    int res = (1<<31)-1;\n    for(int i=0;i<=3;++i){\n        for(int j=0;j+i<=3;++j){\n            res = min(func(i,j,cake),res);\n        }\n    }\n    return res;\n}\n\nint func(int startnum,int secondnum,vector<int> cake){\n    int res = 0;\n    res = startnum + secondnum*2;\n    cake[0]-=startnum+secondnum;\n    cake[1]-=secondnum;\n    for(int i=1;i<cake.size();++i){\n        if(cake[i-1]>0){\n            int num = cake[i-1];\n            for(int j=-1;j<=1;++j){\n                if(i+j<cake.size()){\n                    res+=num;\n                    cake[i+j]-=num;\n                }\n            }\n        }\n    }\n    if(cake.back()>0){\n        res+=cake.back();\n    }\n    return res;\n}\nvoid input(vector<int> &cake){\n    int num;\n    cin>>num;\n    cake.resize(num);\n    for(int i=0;i<num;++i){\n        cin>>cake[i];\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nvoid input(vector<int>&);\nint solve(vector<int> );\nint func(vector<int> ,int);\nint main(){\n    vector<int> cake;\n    input(cake);\n    cout<<solve(cake)<<endl;\n    return 0;\n}\nint func(vector<int> cake,int startnum){\n    int res = startnum;\n    cake[0]-=startnum;\n    for(int i=0;i<cake.size()-1;++i){\n        if(cake[i]>0){\n            int num = cake[i];\n            res += num*2;\n            cake[i+1]-=num;\n        }\n    }\n    if(cake.back()>0){\n        res+=cake.back();\n    }\n    return res;\n}\nint solve(vector<int> cake){\n    int res = (1<<31)-1;\n    for(int i=0;i<=cake.front();++i){\n        res = min(res,func(cake,i));\n    }\n    return res;\n}\nvoid input(vector<int> &cake){\n    int num;\n    cin>>num;\n    cake.resize(num);\n    for(int i=0;i<num;++i){\n        cin>>cake[i];\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n\nint main(void){\n\tint N, P[5010]={0}, p[5010], i, j, sum, buf=0;\n\tscanf(\"%d\", &N);\n\tif(N==0){return(0);}\n\tfor(i=0; i<N; ++i){ scanf(\"%d\", P+i); }\n\tfor(i=0, sum=1<<30; i<=3; ++i, buf=i){\n\t\tfor(j=0; j<N; ++j){ p[j]=P[j]; }\n\t\tp[0]-=i;\n\t\tfor(j=0; j<N-1; ++j){\n\t\t\tif(p[j]>0){\n\t\t\t\tbuf+=p[j]*2;\n\t\t\t\tp[j+1]-=p[j];\n\t\t\t\tp[j]=0;\n\t\t\t}\n\t\t}\n\t\tbuf+=(p[N-1]>0)?p[N-1]:0;\n\t\tsum=(buf<sum)?buf:sum;\n\t}\n\tprintf(\"%d\\n\", sum);\t\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    FOR(i,2,n-1){\n      if(v[i-1]*v[i] == 0){\n\n      }\n      else{\n        ll x = min(v[i], v[i-1]);\n        v[i-1] -= x;\n        v[i] -= x;\n      }\n    }\n\n    FOR(i,1,n-1){\n      sum+=v[i];\n    }\n    cout<<sum<<endl;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[10000],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]<p[i]){\n\t\t\t\tcnt+=p[i+1]*2; p[i]-=p[i+1]; p[i+1]-=p[i+1];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if(i==n-1){\n\t\t\t\tcnt+=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcnt+=p[i]*2; p[i+1]-=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\t//printf(\"%d %d\\n\",p[i],p[i+1]);\n\t\t\t//printf(\"%d\\n\",cnt);\n\t\t}\n\t}\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tif(p[0]!=0) cnt+=p[0];\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],t[n],count=0,tcount;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      t[i] = p[i];\n      //count += p[i];\n    }\n/*\n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n\n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n\n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n\n*/\ncount = 5000000;\n\n\n    tcount = t[0];\n\n    for(int i=1;i<n-1;i++){\n      tcount += t[i] * 2;\n      if(t[i] > t[i+1] ){\n        t[i+1] = 0;\n      }\n      else{\n        t[i+1] -= t[i];\n      }\n    }\n\n    if(t[n-1] != 0){\n      tcount += t[n-1];\n    }\n\n\n\n    /*int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n\n    cout << min(count,tcount) << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nint pan3(int n ,vector<int> p){\n  int i;\n  int num=0;\n  if(p[0]>0) num+=p[0];\n  for(i=1;i<n-1;++i){\n    while(p[i]>0){\n      p[i]--;\n      p[i+1]--;\n      num+=2;\n    }\n  }\n  if(p[n-1]>0) num+=p[n-1];\n\n  return num;\n}\n\nint pan2(int n ,vector<int> p){\n  int i;\n  int num=0;\n  p[0]-=2;\n  num+=2;\n  for(i=0;i<n-1;++i){\n    while(p[i]>0){\n      p[i]--;\n      p[i+1]--;\n      num+=2;\n    }\n  }\n  if(p[n-1]>0) num+=p[n-1];\n\n  return num;\n}\n\nint pan1(int n ,vector<int> p){\n  int i;\n  int num=0;\n  p[0]--;\n  num++;\n  for(i=0;i<n-1;++i){\n    while(p[i]>0){\n      p[i]--;\n      p[i+1]--;\n      num+=2;\n    }\n  }\n  if(p[n-1]>0) num+=p[n-1];\n\n  return num;\n}\n\nint pan0(int n ,vector<int> p){\n  int i;\n  int num=0;\n  for(i=0;i<n-1;++i){\n    while(p[i]>0){\n      p[i]--;\n      p[i+1]--;\n      num+=2;\n    }\n  }\n  if(p[n-1]>0) num+=p[n-1];\n\n  return num;\n}\n\nint main(){\n  int n;\n  cin >> n;\n  vector<int> p(n);\n  for(int i=0;i<n;++i) cin >> p[i];\n\n  vector<int> pan(4);\n  pan[0]=pan0(n,p);\n  pan[1]=pan1(n,p);\n  pan[2]=pan2(n,p);\n  pan[3]=pan3(n,p);\n  sort(pan.begin(),pan.end());\n\n  cout << pan[0] << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n#define REP(i,n) for(int i=0;i<(n);i++)\n\nint N;\nint main(){\n    std::ios_base::sync_with_stdio(false);\n    cin>>N;\n        int A[5001];\n        ll ans=0;\n        REP(i,N)cin>>A[i];\n        REP(i,N-1){\n            if(A[i]<=A[i+1]){\n                A[i+1]-=A[i];\n                ans+=A[i]*2;\n                A[i]=0;\n            }else{\n                if(i==0){\n                    A[i]-=A[i+1];\n                    ans+=A[i+1]*2+A[i];\n                    A[i]=A[i+1]=0;\n                }else{\n                    ans+=A[i]*2;\n                    A[i]=A[i+1]=0;\n                }\n            }\n        }\n        if(A[N-1]>0)ans+=A[N-1];\n        cout<<ans<<endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n\n  int n,p[5000],now[5000],i,result=0,log=0;\n\n  cin>>n;\n\n  for(i=0;i<n;i++) cin>>p[i];\n\n  for(i=0;i<=now[0];i++){\n    log=0;\n    for(int j=0;j<n;j++) now[j]=p[j];\n    now[0]-=i;\n    log+=i;\n    for(int j=0;j<n-1;j++){\n      log+=now[j]*2;\n      now[j+1]-=now[j];\n      now[j]=0;\n      if(now[j+1]<0) now[j+1]=0;\n    }\n    log+=now[n-1];\n    result=max(result,log);\n  }\n\n  cout<<result<<endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "// clang-format off\n#include <bits/stdc++.h>\n#define int long long\n#define main signed main()\n#define loop(i, a, n) for (int i = (a); i < (n); i++)\n#define rep(i, n) loop(i, 0, n)\n#define forever for (;;)\n#define all(v) (v).begin(), (v).end()\n#define rall(v) (v).rbegin(), (v).rend()\n#define prec(n) fixed << setprecision(n)\ntemplate<typename A> using V = std::vector<A>;\ntemplate<typename A> using F = std::function<A>;\ntemplate<typename A, typename B> using P = std::pair<A, B>;\nusing pii = P<int, int>;\nusing vi = V<int>;\nusing vd = V<double>;\nusing vs = V<std::string>;\nusing vpii = V<pii>;\nusing vvi = V<vi>;\nusing vvpii = V<vpii>;\nconstexpr int INF = sizeof(int) == sizeof(long long) ? 1000000000000000000LL : 1000000000;\nconstexpr int MOD = 1000000007;\nconstexpr double PI = 3.14159265358979;\ntemplate<typename A, typename B> bool cmin(A &a, const B &b) { return a > b ? (a = b, true) : false; }\ntemplate<typename A, typename B> bool cmax(A &a, const B &b) { return a < b ? (a = b, true) : false; }\nconstexpr bool odd(const int &n) { return n & 1; }\nconstexpr bool even(const int &n) { return ~n & 1; }\ntemplate<typename T> std::istream &operator>>(std::istream &is, std::vector<T> &v) { for (T &x : v) is >> x; return is; }\ntemplate<typename A, typename B> std::istream &operator>>(std::istream &is, std::pair<A, B> &p) { is >> p.first; is >> p.second; return is; }\nusing namespace std;\n// clang-format on\n\nmain {\n  int n;\n  cin >> n;\n  vi p(n);\n  cin >> p;\n  int mini = INF;\n  rep(i, p[0] + 1) {\n    vi q = p;\n    int s = i;\n    q[0] -= i;\n    rep(j, n - 1) {\n      s += q[j] * 2;\n      q[j + 1] = max(0LL, q[j + 1] - q[j]);\n    }\n    s += q[n - 1];\n    cmin(mini, s);\n  }\n  cout << mini << endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <vector>\n#include <string>\nusing namespace std;\nconst int INF = 2000000005;\nint pk[5005] = { 0 }, pk2[5005] = { 0 };\n\nint main() {\n\t\n\t\tint n;\n\t\tcin >> n;\n\t\tint sm = 0, sm2 = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> pk[i];\n\t\t\tpk2[i] = pk[i];\n\t\t\tsm += pk[i];\n\t\t\tsm2 += pk[i];\n\t\t}\n\t\tfor (int i = 1; i < n - 2; i++) {\n\t\t\tint m = min(pk[i], pk[i + 1]);\n\t\t\tpk[i] -= m;\n\t\t\tpk[i + 1] -= m;\n\t\t}\n\t\tint m2 = min(pk[0], pk[1]);\n\t\tpk[0] = 0;\n\t\tpk[1] -= m2;\n\t\tint m3 = min(pk[n - 2], pk[n - 1]);\n\t\tpk[n - 2] -= m3;\n\t\tpk[n - 1] = 0;\n\t\t//ここまでで合計分の削除が完了\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t/*cout << pk[i] << \" \";*/\n\t\t\tsm += pk[i];\n\t\t}\n\t\t/*cout << endl << sm << endl;*/\n\t\t//今度は逆から\n\t\tfor (int i = n - 2; i > 1; i--) {\n\t\t\tint m = min(pk2[i], pk2[i - 1]);\n\t\t\tpk2[i] -= m;\n\t\t\tpk2[i - 1] -= m;\n\t\t}\n\t\tint m4 = min(pk2[0], pk2[1]);\n\t\tpk2[0] = 0;\n\t\tpk2[1] -= m4;\n\t\tint m5 = min(pk2[n - 2], pk2[n - 1]);\n\t\tpk2[n - 2] -= m5;\n\t\tpk2[n - 1] = 0;\n\t\t//ここまでで合計分の削除が完了\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t/*cout << pk2[i] << \" \";*/\n\t\t\tsm2 += pk2[i];\n\t\t}\n\t\t/*cout << endl << sm2 << endl;*/\n\t\tcout << min(sm, sm2) << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V,S;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    S.push_back(p);\n  }\n\n  int res = 0;\n  int ans = 10000;\nfor(int j = 0; j < 2; j++){\n  V = S;\n  for(int i = j; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n\n}\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>  // g++ -std=c++14 -o a a.cpp\n\nusing namespace std;\n\ntypedef pair<int, int> P;\ntypedef long long ll;\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define repto(i, n) for(int i = 0; i <= (n); i++)\n#define all(c) (c).begin(), (c).end()\n#define uniq(c) c.erase(unique(all(c)), (c).end()) // ユニークなvectorにする。連続した値を除去して切り出す。\n#define _1 first\n#define _2 second\n#define pb push_back\n#define INF 1145141919\n#define MOD 1000000007\n#define DEBUG(x) cout << #x << \": \" << x << endl;\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint main() {\n  int N;\n  cin >> N;\n  vector<int> p;\n  rep(i, N) {\n      int pi;\n      cin >> pi;\n      p.pb(pi);\n  }\n\n  int result = 0;\n\n  // 1. 1以上が並んでいたらそれを消化する\n  bool hasNext = true;\n  while(hasNext) {\n    hasNext = false;\n    rep(i, N - 1) {\n      int& pn0 = p[i];\n      int& pn1 = p[i+1];\n      if(pn0 > 0 && pn1 > 0) {\n        pn0--;\n        pn1--;\n        result += 2;\n        hasNext = true;\n      }\n    }\n  }\n\n  // 2. 1以上があればそれを消化する (1~N-2)\n  for(int i = 1; i < N - 1; i++) {\n    int& pi = p[i];\n    result += pi * 2;\n    pi = 0;\n  }\n\n  // 3. 端の値を足す\n  result += p[0] + p[N - 1];\n\n  cout << result << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int MOD = 1000000007;\n\n/*\ntemplate <typename T>\nstruct node_t{\n    node_t *child[2];\n    T val; int size;\n    int sum;\n    node_t(T v) : val(v), sum(v),size(1){\n        child[0]=NULL;\n        child[1]=NULL;\n    }\n    ~node_t(){\n        delete child[0];\n        delete child[1];\n    }\n    static int Rand(){\n        static int x = 294839543;\n        static int y = 953546939;\n        static int z = 214215255;\n        static int w = 745312534;\n        int t;\n        t=x^(x<<11);\n        x=y;y=z;z=w;\n        return w=(w^(w>>19))^(t^(t>>8));\n    }\n    static int Size(node_t *x){\n        return (!x?0:x->size);\n    }\n    static int Sum(node_t *x){\n        return (!x?0:x->sum);\n    }\n    static node_t *Update(node_t *x){\n        x->size=Size(x->child[0])+Size(x->child[1])+1;\n        x->sum=Size(x->child[0])+Size(x->child[1])+x->val;\n        return x;\n    }\n    static node_t* Merge(node_t *x, node_t *y){\n        if(!x||!y)return x?x:y;\n        if(Rand()%(Size(x)+Size(y)) < Size(x)){\n            x->child[1]=Merge(x->child[1],y);\n            return Update(x);\n        }else{\n            y->child[0]=Merge(x, y->child[0]);\n            return Update(y);\n        }\n    }\n    static pair<node_t*, node_t*> Split(node_t *x, int k){\n        if(!x)return  {NULL,NULL};\n        if(k<=Size(x->child[0])){\n            pair<node_t*, node_t*> s = Split(x->child[0], k);\n            x->child[0]=s.second;\n            return {s.first,Update(x)};\n        }\n        else{\n            pair<node_t*, node_t*> s = Split(x->child[1], k-Size(x->child[0])-1);\n            x->child[1]=s.first;\n            return {Update(x), s.second};\n        }\n    }\n    static int Lowerboiund(node_t *x, T val){\n        if(!x)return 0;\n        if(val < x->val)return Lowerboiund(x->child[0], val);\n        return Lowerboiund(x->child[1], val) + Size(x->child[0]) + 1;\n    }\n    static node_t *Insert(node_t *x, int k, node_t *new_x){\n        pair<node_t*, node_t*> s = Split(x,k);\n        x = Merge(Merge(s.first, new_x), s.second);\n        return Update(x);\n    }\n    static node_t *Insert(node_t *x, node_t *new_x){\n        pair<node_t*, node_t*> s = Split(x, Lowerboiund(x,new_x->val));\n        x = Merge(Merge(s.first, new_x), s.second);\n        return Update(x);\n    }\n    static node_t *Erase(node_t *x, int k){\n        pair<node_t*, node_t*> a = Split(x,k);\n        pair<node_t*, node_t*> b = Split(a.second, 1);\n        delete b.first;\n        x = Merge(a.first, b.second);\n        return x;\n    }\n};\ntemplate<typename T>\nclass Treap{\n    typedef node_t<T> node;\npublic:\n    node* root_;\n    Treap(){\n        root_ = new node(numeric_limits<T>::min());\n    }\n    int LowerBound(T val){\n        return node::Lowerboiund(root_, val);\n    }\n    node* insert(T val){\n        node* hog  = new node(val);\n        root_ = node::Insert(root_, hog);\n        return hog;\n    }\n    void Set(int k, T val){\n        auto sr = node::Split(root_, k + 1);\n        auto sl = node::Split(sr.first, k);\n        auto lr = sl.second;\n        lr->val = val;\n        root_ = node::Merge(node::Merge(sl.first, lr), sr.second);\n    }\n    void Erase(int k){\n        root_ = node::Erase(root_, k);\n    }\n};\n\n\nint main(){\n    int n,q; cin >> n >> q;\n    int a,b,c;\n    Treap<ll> t;\n    vector<ll> vec(n, 0);\n    std::map<int, std::multiset<int>> ind;\n    for(int i = 0; i < n; ++i){\n        ind[0].insert(i);\n        t.insert(0);\n    }\n    for(int i = 0; i < q; ++i){\n        cin >> a;\n        if(a == 0){\n            cin >> b>> c;\n            int index = t.LowerBound(vec[b-1]);\n            ind[vec[b-1]].erase(b-1);\n            vec[b-1] -= c;\n            t.Erase(index);\n            ind[vec[b-1]].insert(b-1);\n            t.insert(vec[b-1]);\n        }else{\n            cin >> b;\n            ll st = -1LL * MOD * MOD; ll en = 1LL;\n\n            while(en - st > 1){\n                ll num = (st + en) / 2;\n                (t.LowerBound(num) > b ? en : st ) = num;\n            }\n            std::cout << -st - 1 << std::endl;\n        }\n    }\n    for(auto ch : vec)\n        cout << ch << \", \"; cout << endl;\n}\n\n*/\n\nint main(){\n   int N;cin >> N;\n   vector<int> vec;\n   ll ans = 0;\n   for(int a = 0;a < N;a++){\n       int b;cin >> b;\n       ans += b;\n       vec.push_back(b);\n   }\n   if(vec.at(0) >= vec.at(1)){\n       vec.at(0)-=vec.at(1);\n       vec.at(1)=0;\n   }else{\n       vec.at(1) -= vec.at(0);\n       vec.at(0) = 0;\n   }\n   for(int a = 1;a < N-1;a++){\n       if(vec.at(a+1) >= vec.at(a)){\n           vec.at(a+1)-=vec.at(a);\n           vec.at(a)=0;\n       }else{\n           vec.at(a)-=vec.at(a+1);\n           vec.at(a+1) = 0;\n       }\n       ans += vec.at(a);\n   }\n   cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// ?????????.cpp : ??????????????? ??¢????????±????????§????????¨????????? ?????????????????????????????????\n// AOJ accept\n\n#include \"stdafx.h\"\n#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tint counti = 0;//inside\n\tint counto = 0;//outside\n\tint p[5000];\n\tint q[5000];\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin>>p[i];\n\t\tq[i] = p[i];\n\t}\n\tint i = N/2;\n\tint j = N/2;\n\twhile(1) {\t\n\t\tif (i == N-1) {\n\t\t\tcounti += p[i];\n\t\t\ti = -1;\n\t\t}\n\t\telse if(i>0){\t\t\t\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t\tif (p[i + 1] < 0)\n\t\t\t\tp[i + 1] = 0;\n\t\t\tp[i] = 0;\n\t\t\ti++;\n\t\t}\n\t\tif (j == 0) {\n\t\t\tcounti += p[j];\n\t\t\tj = -1;\n\t\t}\n\t\telse if(j>0){\n\t\t\tcounti += p[j] * 2;\n\t\t\tp[j - 1] -= p[j];\n\t\t\tif (p[j - 1] < 0)\n\t\t\t\tp[j - 1] = 0; \n\t\t\tp[j] = 0;\n\t\t\tj--;\n\t\t}\n\t\tif ((i==-1)&&(j==-1))\n\t\t\tbreak;\n\t}\n\ti = 0;\n\tj = N - 1;\n\twhile (1) {\n\t\tcounto += q[i] * 2;\n\t\tq[i + 1] -= q[i];\n\t\tq[i] = 0;\n\t\tif (q[i + 1] < 0)\n\t\t\tq[i + 1] = 0;\n\t\ti++;\n\t\tif (i == N / 2 + 1)\n\t\t\tbreak;\n\t\tcounto += q[j] * 2;\n\t\tq[j - 1] -= q[j];\n\t\tq[j] = 0;\n\t\tif (q[j-1] < 0)\n\t\t\tq[j- 1] = 0;\n\t\tj--;\n\t}\n\tif (counti > counto)\n\t\tcounti = counto;\n\tcout << counti << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nint calc(const vector<int> &p)\n{\n    int n = p.size();\n    vector<int> a(p);\n    int ans = 0;\n    while(1)\n    {\n        int mx = 0;\n        int idx = -1;\n        for(int i=1; i<n-1; ++i)\n        {\n            if(a[i]>mx)\n            {\n                mx = a[i];\n                idx = i;\n            }\n        }\n        if(mx==0) break;\n\n        if(a[idx-1]>a[idx+1]) --a[idx-1];\n        else --a[idx+1];\n        --a[idx];\n        ans += 2;\n    }\n    if(a[0]>0) ans += a[0];\n    if(a[n-1]>0) ans += a[n-1];\n    return ans;\n}\n\nint main()\n{\n    int n;\n    cin >>n;\n    vector<int> p(n);\n    rep(i,n) cin >>p[i];\n\n    int ans = calc(p);\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int n, p[50002];\n    cin >> n;\n    for(int i = 1; i <= n; i++) {\n        cin >> p[i];\n    }\n    p[0] = p[n + 1] = 0;\n\n    int sum = 0;\n    if(p[1] > p[2]) {\n        p[1] = p[2];\n        sum += p[1] - p[2];\n    }\n    for(int i = 1; i < n; i++) {\n        if(p[i] > 0) {\n            sum += p[i] * 2;\n            p[i + 1] -= p[i];\n            p[i + 1] = max(0, p[i + 1]);\n        }\n    }\n\n    cout << sum + p[n] << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<cmath>\n#include<cstdio>\n#define M 2000000000\nusing namespace std;\nint main(void){\n\tint n,i,j,sum,p[5000],a[5000],mn;\n\tcin>>n;\n\tfor(i=0;i<n;i++){\n\t\tcin>>p[i];\n\t}\n\tmn=M;\n\tfor(i=0;i<=p[0];i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\ta[j]=p[j];\n\t\t}\n\t\ta[0]=a[0]-i;\n\t\tsum=i;\n\t\tfor(j=0;j<n-1;j++){\n\t\t\tif(a[j]>0){\n\t\t\t\ta[j+1]-=a[j];\n\t\t\t\tsum+=a[j]*2;\n\t\t\t\ta[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(a[n-1]>0)sum+=a[n-1];\n\t\tmn=min(mn,sum);\n\t}\n\tcout<<mn<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &);\nint func(int,vector<int>);\nint main(){\n\tvector<int> cake;\n\tinput(cake);\n\tint ans = 100000;\n\tfor(int i=0;i<=cake[0];++i){\n\t\tans = func(i,cake);\n\t}\n\tcout<<min(func(true,cake),func(false,cake))<<endl;\n\treturn 0;\n}\n\nvoid input(vector<int> &line){\n\tint num;\n\tcin>>num;\n\tline.resize(num);\n\tfor(int i=0;i<num;++i){\n\t\tcin>>line[i];\n\t}\n}\n\nint func(int zerouse,vector<int> cake){\n\tint res=0;\n\tres=zerouse*2;\n\tcake[1]-=zerouse;\n\tcake[0]=zerouse;\n\tfor(int i=1;i<cake.size();++i){\n\t\tint num = max(0,cake[i-1]);\n\t\tfor(int j=-1;j<=1;++j){\n\t\t\tif(j+i<cake.size()){\n\t\t\t\tcake[i+j]-=num;\n\t\t\t\tres+=num;\n\t\t\t}\n\t\t}\n\t}\n\tres+=max(0,cake.back())*2;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[5001],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]<p[i]){\n\t\t\t\tcnt+=p[i+1]*2; p[i]-=p[i+1]; p[i+1]-=p[i+1];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i==n-1){\n\t\t\t\tcnt+=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcnt+=p[i]*2; p[i+1]-=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\t//printf(\"%d %d\\n\",p[i],p[i+1]);\n\t\t\t//printf(\"%d\\n\",cnt);\n\t\t}\n\t}\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tif(p[0]!=0) cnt+=p[0];\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = 3;\n  while(true){\n    rep(i,n){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(i == 0){\n          if(p[i + 1]){\n            p[i + 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else if(i == n - 1){\n          if(p[i - 1]){\n            p[i - 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else{\n          if(p[i + 1] >= p[i - 1]){\n            p[i + 1]--; \n          }else{\n            p[i - 1]--;\n          }\n        }\n        ans += 2;\n      }\n    }\n    itr--;\n    if(itr == 0){\n      cout << ans << endl;\n      return 0;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int MOD = 1000000007;\n\n/*\ntemplate <typename T>\nstruct node_t{\n    node_t *child[2];\n    T val; int size;\n    node_t(T v) : val(v), size(1){\n        child[0]=NULL;\n        child[1]=NULL;\n    }\n    ~node_t(){\n        delete child[0];\n        delete child[1];\n    }\n    static int Rand(){\n        static int x = 294839543;\n        static int y = 953546939;\n        static int z = 214215255;\n        static int w = 745312534;\n        int t;\n        t=x^(x<<11);\n        x=y;y=z;z=w;\n        return w=(w^(w>>19))^(t^(t>>8));\n    }\n    static int Size(node_t *x){\n        return (!x?0:x->size);\n    }\n    static node_t *Update(node_t *x){\n        x->size=Size(x->child[0])+Size(x->child[1])+1;\n        return x;\n    }\n    static node_t* Merge(node_t *x, node_t *y){\n        if(!x||!y)return x?x:y;\n        if(Rand()%(Size(x)+Size(y)) < Size(x)){\n            x->child[1]=Merge(x->child[1],y);\n            return Update(x);\n        }else{\n            y->child[0]=Merge(x, y->child[0]);\n            return Update(y);\n        }\n    }\n    static pair<node_t*, node_t*> Split(node_t *x, int k){\n        if(!x)return  {NULL,NULL};\n        if(k<=Size(x->child[0])){\n            pair<node_t*, node_t*> s = Split(x->child[0], k);\n            x->child[0]=s.second;\n            return {s.first,Update(x)};\n        }\n        else{\n            pair<node_t*, node_t*> s = Split(x->child[1], k-Size(x->child[0])-1);\n            x->child[1]=s.first;\n            return {Update(x), s.second};\n        }\n    }\n    static int Lowerboiund(node_t *x, T val){\n        if(!x)return 0;\n        if(val < x->val)return Lowerboiund(x->child[0], val);\n        return Lowerboiund(x->child[1], val) + Size(x->child[0]) + 1;\n    }\n    static node_t *Insert(node_t *x, int k, node_t *new_x){\n        pair<node_t*, node_t*> s = Split(x,k);\n        x = Merge(Merge(s.first, new_x), s.second);\n        return Update(x);\n    }\n    static node_t *Insert(node_t *x, node_t *new_x){\n        pair<node_t*, node_t*> s = Split(x, Lowerboiund(x,new_x->val));\n        x = Merge(Merge(s.first, new_x), s.second);\n        return Update(x);\n    }\n    static node_t *Erase(node_t *x, int k){\n        pair<node_t*, node_t*> a = Split(x,k);\n        pair<node_t*, node_t*> b = Split(a.second, 1);\n        delete b.first;\n        x = Merge(a.first, b.second);\n        return x;\n    }\n};\ntemplate<typename T>\nclass Treap{\n    typedef node_t<T> node;\npublic:\n    node* root_;\n    Treap(){\n        root_ = new node(numeric_limits<T>::min());\n    }\n    int LowerBound(T val){\n        return node::Lowerboiund(root_, val);\n    }\n    node* insert(T val){\n        node* hog  = new node(val);\n        root_ = node::Insert(root_, hog);\n        return hog;\n    }\n    void Set(int k, T val){\n        auto sr = node::Split(root_, k + 1);\n        auto sl = node::Split(sr.first, k);\n        auto lr = sl.second;\n        lr->val = val;\n        root_ = node::Merge(node::Merge(sl.first, lr), sr.second);\n    }\n    void Erase(int k){\n        root_ = node::Erase(root_, k);\n    }\n};\n\n\nint main(){\n    int n,q; cin >> n >> q;\n    int a,b,c;\n    // Treap<std::pair<ll,int>> t;\n    Treap<ll> t;\n    vector<ll> vec(n, 0);\n    std::map<int, std::multiset<int>> ind;\n    for(int i = 0; i < n; ++i){\n        ind[0].insert(i);\n        // t.insert(std::make_pair(0, 0));\n        t.insert(0);\n    }\n    for(int i = 0; i < q; ++i){\n        cin >> a;\n        if(a == 0){\n            cin >> b>> c;\n            // int index = t.LowerBound({vec[b-1], 0});\n            int index = t.LowerBound(vec[b-1]);\n            ind[vec[b-1]].erase(b-1);\n            vec[b-1] -= c;\n            t.Erase(index);\n            ind[vec[b-1]].insert(b-1);\n            // t.insert({vec[b-1], 0});\n            t.insert(vec[b-1]);\n        }else{\n            cin >> b;\n            ll st = -1LL * MOD * MOD; ll en = 1LL;\n\n            while(en - st > 1){\n                ll num = (st + en) / 2;\n                (t.LowerBound(num) > b ? en : st ) = num;\n                // (t.LowerBound({num, 0}) > b ? en : st ) = num;\n            }\n            std::cout << -st - 1 << std::endl;\n        }\n    }\n    for(auto ch : vec)\n        cout << ch << \", \"; cout << endl;\n}\n\n*/\n\nint main(){\n   int N;cin >> N;\n   vector<int> vec,hoge;\n   ll lans = 0,rans = 0;\n   for(int a = 0;a < N;a++){\n       int b;cin >> b;\n       lans += b;\n       rans += b;\n       vec.push_back(b);\n       hoge.push_back(b);\n   }\n   if(vec.at(0) >= vec.at(1)){\n       vec.at(0)-=vec.at(1);\n       vec.at(1)=0;\n   }else{\n       vec.at(1) -= vec.at(0);\n       vec.at(0) = 0;\n   }\n   for(int a = 1;a < N-1;a++){\n       if(vec.at(a+1) >= vec.at(a)){\n           vec.at(a+1)-=vec.at(a);\n           vec.at(a)=0;\n       }else{\n           vec.at(a)-=vec.at(a+1);\n           vec.at(a+1) = 0;\n       }\n       lans += vec.at(a);\n   }\n\n   if(hoge.at(N-1) >= hoge.at(N-2)){\n       hoge.at(N-1)-=hoge.at(N-2);\n       hoge.at(N-1)=0;\n   }else{\n       hoge.at(N-2) -= hoge.at(N-1);\n       hoge.at(N-1)=0;\n   }\n\n   for(int a = N-2;a >= 1;a--){\n       if(hoge.at(a-1) >= hoge.at(a)){\n           hoge.at(a-1)-=hoge.at(a);\n           hoge.at(a)=0;\n       }else{\n           hoge.at(a)-=hoge.at(a-1);\n           hoge.at(a-1) = 0;\n       }\n       rans += hoge.at(a);\n   }\n\n//   cout<<lans<<\" \"<<rans<<endl;\n   cout<<min(lans,rans)<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint i,j,n,p[5000],sum,ans;\n\tcin>>n;\n\tfor(i=0;i<n;i++) {\n\t\tcin>>p[i];\n\t}\n\t\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tfor(j=0;j<n-1;j++) {\n\t\t\tif(p[j]<=0) continue;\n\t\t\telse {\n\t\t\t\tsum+=2;\n\t\t\t\tp[j]--;p[j+1]--;j--;\n\t\t\t}\n\t\t}\n\t\tans=10000000;\n\t\tans=min(ans,sum+p[0]-i);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,ans=1e9;\n  cin>>n;\n  int a[n],b[n];\n  r(i,n)cin>>a[i];\n  r(i,n)b[i]=a[i];\n  r(j,4){\n    int s1=0;\n    r(i,n)a[i]=b[i];\n    a[0]-=j;\n    for(int i=0;i<n-1;i++){\n      if(a[i]<=0)continue;\n      s1+=a[i]*2;\n      a[i+1]-=a[i];\n    }\n    if(a[n-1]<0)a[n-1]=0;\n    ans=min(ans,s1+a[n-1]+j);\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p) > rec =\n  [&](vector<int> p){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0 && p[i] > 0 && p[i+1] == 0){\n        res += p[i];\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    if(p[n-1] > 0) res += p[n-1];\n    return res;\n  };\n\n  int ans = rec(p);\n  reverse(p.begin(),p.end());\n  ans = min(ans,rec(p));\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define double long double\n#define INF 1e18\nusing namespace std;\ntemplate<class T> inline bool chmin(T& a, T b) {\n  if (a > b) a = b;\n  return a > b;\n}\ntemplate<class T> inline bool chmax(T&a, T b) {\n  if (a < b) a = b;\n  return a < b;\n}\n// まともなにんげんなこのようなこーどをかいてはいけない\nsigned main() {\n  int N;\n  cin >> N;\n  vector<int> p(N);\n  for (int i = 0; i < N; i++) cin >> p[i];\n  vector<int> p1 = p, p2 = p;\n  int ans1 = 0, ans2 = 0;\n  for (int i = 0; i < N; i++) {\n    if (i == 0 && p1[i] > p1[i+1]) {\n      ans1 += p1[i+1]*2;\n      p1[i] -= p1[i+1];\n      p1[i+1] = 0;\n      ans1 += p1[i];\n    } else if (i == N-1) {\n      ans1 += p1[i];\n    } else {\n      ans1 += p1[i]*2;\n      p1[i+1] = max(0LL, p1[i+1]-p1[i]);\n    } \n    p1[i] = 0;\n  }\n  for (int i = 0; i < N; i++) {\n    if (i == 0) {\n      ans2 += p2[i];\n    } else if (i == N-1) {\n      ans2 += p2[i];\n    } else {\n      ans2 += p2[i]*2;\n      p2[i+1] = max(0LL, p2[i+1]-p2[i]);\n    } \n    p2[i] = 0;\n  }\n  cout << min(ans1,ans2) << endl; \n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nconstexpr int MAX_N=5000,INF=(int)1e9;\n\nint n;\n\nint p[MAX_N];\n\nint main() {\n\n    std::cin>>n;\n\n    for(int i=0;i<n;++i)\n        std::cin>>p[i];\n\n    int ans=INF;\n\n    for(int i=0;i<=p[0];++i){\n\n        int prev=i,res=p[0]-prev;\n\n        for(int j=1;j<n;++j){\n            res+=prev*2;\n            if(prev<p[i])\n                prev=p[i]-prev;\n            else\n                prev=0;\n        }\n\n        ans=std::min(res+prev,ans);\n    }\n\n    std::cout<<ans<<std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,s1=0;\n  cin>>n;\n  int a[n];\n  r(i,n)cin>>a[i];\n  if(a[0]>a[1])s1+=a[1]-a[0],a[0]=a[1];\n  for(int i=0;i<n-1;i++){\n    if(a[i]<=0)continue;\n    s1+=a[i]*2;\n    a[i+1]-=a[i];\n  }\n  cout<<s1+a[n-1]<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "//#include<bits/stdc++.h>\n#include<iostream>\n#include <vector>\n#include <cstdio>\n#include<algorithm>\n#include <utility>\n#define SIZE 1001;\nusing namespace std;\nint n, p[10000];\nint Rside();\nint Lside();\nint center();\nint main() {\n\tint count = 0;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t}\n\tif (p[n - 2] < p[n-1]) {\n\t\tcount+=Rside();\n\t}\n\tif (p[0] > p[1]) {\n\t\tcount+=Lside();\n\t}\n\tfor (int i = 0; i < n-1; i++) {\n\t\tif (i == 0 && p[i] == 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tcount += p[i] * 2;\n\t\tif (p[i] <= p[i + 1]) {\n\t\t\tp[i + 1] -= p[i];\n\t\t\tp[i] = 0;\n\t\t\t//5 2 5 6 5\n\t\t}\n\t\telse if (p[i] > p[i + 1]) {\n\t\t\tp[i] = 0; p[i + 1] = 0;\n\t\t}\n\t}\n\t//for (int i = 0; i < n; i++) {\n\t//\tcout << p[i] << \" \";\n\t//}cout << endl;\n\tcout << count << endl;\n\treturn 0;\n}\nint Rside() {\n\tint res = 0;\n\tres += p[n - 2] * 2;\n\tp[n-1] -= p[n - 2];\n\tp[n - 2] = 0;\n\tres += p[n-1];\n\tp[n-1] = 0;\n\treturn res;\n}\nint Lside() {\n\tint res = 0;\n\tres += p[1] * 2;\n\tp[0] -= p[1];\n\tp[1] = 0;\n\tres += p[0];\n\tp[0] = 0;\n\treturn res;\n}\nint center() {\n\tint res = 0;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\tint min_sum=20000;\n\tfor(int I=0;I<=p[0];I++){\n\t\tint q[5000];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tq[i]=p[i];\n\t\t}\n\t\tint sum=I;\n\t\tq[0]-=I;\n\t\tfor(int i=0;i<=N-2;i++){\n\t\t\tif(q[i]<=0){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsum+=q[i]*2;\n\t\t\tq[i+1]-=q[i];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum+=q[N-1];\n\t\t}\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\tcout<<min_sum<<endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin>>N;\n  int pan[5000];\n  for(int i=0;i<N;i++){\n    cin>>pan[i];\n  }\n  int minimum=20000;\n  for(int i=0;i<=pan[0];i++){\n      int q[5000];\n      for(int j=0;j<N;j++){\n        q[j]=pan[j];\n      }\n      int sum=i;\n      q[0]=i;\n      for(int j=0;j<=N-2;j++){\n        if(q[j]<=0)continue;\n        sum+=q[j]*2;\n        q[j+1] -= q[j];\n      }\n      if(q[N-1]>0){\n        sum+=q[N-1];\n      }\n      minimum=min(minimum,sum);\n  }\n  cout<<minimum<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\n#include <algorithm>\nusing namespace std;\nint N;\nint main(){\n    cin >> N;\n    vector<int> v;\n    for(int i=0; i<N; ++i){\n        int a; cin >> a;\n        v.push_back(a);\n    }\n    int cnt=0;\n    for(int i=1; i<N-1; ++i){\n        if(v[i-1]==0&&v[i+1]==0) {\n            cnt+= v[i]*2;\n            v[i]=0;\n        }\n        while(1){\n            if(v[i-1]==0||v[i]==0) break;\n            v[i-1]--; v[i]--;\n            cnt+=2; \n        }\n        while(1){\n            if(v[i+1]==0||v[i]==0) break;\n            v[i+1]--; v[i]--;\n            cnt+=2;\n        }\n    }\n\n    cout << cnt+v[0]+v[N-1] << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n        if(p[i]>0){\n\t\t\tx+=p[i];\n\t\t\tp[i]=0;\n\t\t\tp[i+1]-=p[i];\n\t    \n\t\t}\n\t}\n\tif(p[n]>0){\n\t\tx+=p[n];\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define Rep(i,N) for(int i = 0;i < N;i++)\n\nint main(){\n\n  int N;\n\n  vector<int> data(5005,0);\n\n  vector<int> temp(5005,0);\n\n  while(cin >> N,N){\n\n    Rep(i,N)cin >> data[i];\n\n    temp = data;\n\n    int sum = INT_MAX;\n\n    Rep(p,data[0] + 1){\n\n      int ans = 0;\n\n      data[0] -= p;\n\n      ans += p;\n\n      Rep(i,N - 1){\n\n        ans += data[i] * 2;\n\n        data[i + 1] -= data[i];\n\n        data[i] = 0;\n\n        if(data[i + 1] < 0)data[i + 1] = 0;\n\n      }\n\n      ans += data[N - 1];\n\n      sum = min(ans,sum);\n\n      data = temp;\n\n    }\n\n    cout << sum << endl;\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn=0;\n\t\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[1]>0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tp[1]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[N-2]>0){\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tp[N-2]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<turn<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\nint main(void){\n    int n;\n    cin >> n;\n    int pans[n + 1];\n    for(int i = 0; i < n; i++){\n        cin >> pans[i];\n    }\n    int result = 20000;\n    for(int i = 0; i <= pans[0]; i++){\n        int tempPans[n];\n        for(int j = 0; j < n; j++){\n            tempPans[j] = pans[j];\n        }\n        int tempResult = 0;\n        tempResult += i;\n        tempPans[0] -= i;\n        for(int j = 0; j < n - 1; j++){\n            if(tempPans[j] > 0){\n                tempResult += tempPans[j] * 2;\n                tempPans[j + 1] -= tempPans[j];\n                tempPans[j] = 0;\n            }\n        }\n        if(tempPans[n - 1] > 0){\n            tempResult += tempPans[n - 1];\n        }\n        result = min(result, tempResult);\n    }\n    cout << result << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\n\nint main(){\n  int n;\n  cin>>n;\n  int a,b;\n  int count=0,count2=0;\n  lp(i,n){\n    cin>>a;\n    if(i==0){\n      b=a;\n      continue;\n    }\n    if(i==1){\n      if(b>a){\n\tcount2+=b;\n\ta=b;\n\tcontinue;\n      }\n    }\n    count+=b;\n    a-=b;\n    if(a<0) a=0;\n    b=a;\n    if(i==n-1) count2+=b;\n  }\n  cout<<count*2+count2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\ntypedef long long ll;\n#define rep(i, n) for (int i=0; i<n; i++)\n\nint pan1[5000];\nint pan2[5000];\nint pan3[5000];\nint pan4[5000];\n\nint main() {\n  int N;\n  cin >> N;\n  rep (i, N) {\n    cin >> pan1[i];\n    pan2[i] = pan1[i];\n    pan3[i] = pan1[i];\n    pan4[i] = pan1[i];\n  }\n\n  int cnt1 = 0;\n  for (int i=0; i<N-1; i++) {\n    if (pan1[i] <= 0) continue;\n    cnt1 += pan1[i]*2;\n    pan1[i+1] -= pan1[i];\n  }\n  cnt1 += max(0, pan1[N-1]);\n\n  int cnt2 = 1;\n  pan2[0] -= 1;\n  for (int i=0; i<N-1; i++) {\n    if (pan2[i] <= 0) continue;\n    cnt2 += pan2[i]*2;\n    pan2[i+1] -= pan2[i];\n  }\n  cnt2 += max(0, pan2[N-1]);\n\n  int cnt3 = 2;\n  pan3[0] -= 2;\n  for (int i=0; i<N-1; i++) {\n    if (pan3[i] <= 0) continue;\n    cnt3 += pan3[i]*2;\n    pan3[i+1] -= pan3[i];\n  }\n  cnt3 += max(0, pan3[N-1]);\n\n  int cnt4 = 3;\n  pan4[0] -= 3;\n  for (int i=0; i<N-1; i++) {\n    if (pan4[i] <= 0) continue;\n    cnt4 += pan4[i]*2;\n    pan4[i+1] -= pan4[i];\n  }\n  cnt4 += max(0, pan4[N-1]);\n\n  cout << min(cnt1, min(cnt2, min(cnt3, cnt4))) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin >> N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin >> p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int i=0;i<=p[0];i++){\n    int q[5000];\n    for(int j=0;j<N;j++){\n      q[j]=p[j];\n    }\n\n    int sum=i;\n    q[0] -= i;\n\n    for(int j=0;j<=N-2;i++){\n      if(q[i]<=0)\n        continue;\n\n      sum +=q[i]*2;\n      q[i+1]-=q[i];\n    }\n\n    if(q[N-1]>0){\n      sum += q[N-1];\n    }\n\n    min_sum = min(min_sum,sum);\n  }\n\n  cout << min_sum << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n    #define debug_echo(expr) cout << expr;\n    #define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n    #define debug_echo(expr)\n    #define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    if (i-1 == 0 && N-1 == i+1) {\n        if (p[i-1] > p[i+1]) {\n            p[i-1]--;\n            flipcnt++;\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    } else {\n        if (p[i-1] > p[i+1]) {\n            p[i-1]--;\n            flipcnt++;\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i=0;i<n;++i) {\n    cin >> p[i];\n  }\n  \n  int ans = 0;\n  bool init = true;\n  for(int i=0;i<n-1;++i) {\n    if(p[i] > 0) {\n      if(i == 0) {\n        ans += p[0] + min(p[0], p[1]);\n        p[1] -= p[0];\n      } else {\n        ans += 2 * p[i];\n        p[i+1] -= p[i];\n      }\n    }\n  }\n  if(p[n-1] > 0) ans += p[n-1];\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint solve(vector<int> a){\n  int size=a.size();\n  int cnt=0;\n  for(int i=0;i+1<size;i++){\n    cnt+=a[i]*2;\n    a[i+1]=max(0,a[i+1]-a[i]);\n  }\n  return cnt+a[size-1];\n}\n\nint main(){\n  int n;\n  cin>>n;\n  vector<int> a(n);\n  for(int i=0;i<n;i++){\n    cin>>a[i];    \n  }\n  int ans=1e9;\n  for(int i=0;i<=3;i++){\n    ans=min(ans,solve(a)+i);\n    a[0]=max(0,a[0]-1);\n  }\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\n\nint main()\n{\n    int n;\n    cin >>n;\n    int p[n];\n    int a[n+1];\n    for(int i=0;i<n;i++){\n        cin >> p[i];\n        a[i]=0;\n    }\n    int m=10000000;\n    int b=0;\n    while(b<=p[0]){\n        int form=b;\n        a[0]=b;\n        for(int i=0;i<n;i++){\n            a[i+1]=max(p[i]-a[i],0);\n        }\n        form+=a[n];\n        for(int i=1;i<n;i++)\n            form+=(a[i]*2);\n        m=min(m,form);\n        b++;\n    }\n    cout << m << endl;\n        return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint N, p[5000], memo[5001], result[4];\n\nint main() {\n  cin >> N;\n  for (int i = 0; i < N; i++) {\n    cin >> p[i];\n  }\n  // memoを利用して1番目を決め打ちした時の答えを求める\n  for (int i = 0; i <= 3; i++) {\n    memo[0] = i;\n    for (int j = 1; j < N + 1; j++) {\n      memo[j] = p[j - 1] - memo[j - 1];\n      if (memo[j] < 0) {\n        memo[j] = 0;\n      }\n    }\n    result[i] = memo[0];\n    for (int j = 1; j < N; j++) {\n      result[i] += memo[j] * 2;\n    }\n    result[i] += memo[N];\n  }\n  // 4回の試行のうち最小を求める\n  int min = result[0];\n  for (int i = 1; i <= 3; i++) {\n    if (min > result[i]) {\n      min = result[i];\n    }\n  }\n  cout << min << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint i,j,n,p[5000],sum,ans;\n\tcin>>n;\n\tfor(i=0;i<n;i++) {\n\t\tcin>>p[i];\n\t}\n\t\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tfor(j=0;j<n-1;j++) {\n\t\t\tif(p[j]<=0) continue;\n\t\t\telse {\n\t\t\t\tsum+=2;\n\t\t\t\tp[j]--;p[j+1]--;j--;\n\t\t\t}\n\t\t}\n\t\tif(n%2==0&&i>=1) sum+=p[n-1]; \n\t\tans=10000000;\n\t\tans=min(ans,sum+p[0]-i);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb push_back\n#define all(v) (v).begin(),(v).end()\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n#define fi first\n#define se second\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\nint n;\nint p[5000];\nint z[5000];\nsigned main(){\n    while(cin>>n){\n        rep(i,n)cin>>p[i];\n\n        int ans=1001001001ll;\n        for(int t=0;t<=p[0];t++){\n            int cost=t;\n            memset(z,0,sizeof(z));\n            z[0]=t;\n            for(int i=1;i<n;i++){\n                cost+=(p[i-1]-z[i-1])*2;\n                z[i]+=p[i-1]-z[i-1];\n                chmin(z[i],p[i]);\n            }\n            cost+=p[n-1]-z[n-1];\n            chmin(ans,cost);\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define double long double\n#define INF 1e18\nusing namespace std;\ntemplate<class T> inline bool chmin(T& a, T b) {\n  if (a > b) a = b;\n  return a > b;\n}\ntemplate<class T> inline bool chmax(T&a, T b) {\n  if (a < b) a = b;\n  return a < b;\n}\n\nsigned main() {\n  int N;\n  cin >> N;\n  vector<int> p(N);\n  for (int i = 0; i < N; i++) cin >> p[i];\n  int ans = 0;\n  for (int i = 0; i < N-1; i++) {\n    ans += p[i]*2;\n    p[i+1] = max(0LL, p[i+1]-p[i]);\n    p[i] = 0;\n  }\n  ans += p[N-1]*2;\n  cout << ans << endl; \n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\nusing namespace std;\nint main(){\n  int N,i,count2;\n  int p[5005];\n  cin>>N;\n  for(i=0;i<N;i++){\n    cin>>p[i];\n  }\n  if(p[0]>0&&p[1]>0){\n    p[0]=p[0]-1;\n    p[1]=p[1]-1;\n    count2++;\n    count2++;\n  }\n  else if(p[N-1]>0&&p[N-2]>0){\n    p[N-1]=p[N-1]-1;\n    p[N-2]=p[N-2]-1;\n    count2++;\n    count2++;\n  }\n  else if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  else if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  for(i=1;i<N-1;i++){\n    if(p[i]>0&&p[i-1]){\n      p[N-1]=p[N-1]-1;\n      count2++;\n      count2++;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#include<bits/stdc++.h>\n#include<iostream>\n#include <vector>\n#include <cstdio>\n#include<algorithm>\n#include <utility>\n#define SIZE 1001;\nusing namespace std;\nint n, p[10000];\nint Rside();\nint Lside();\nint center();\nint main() {\n\tint count = 0;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t}\n\tif (p[n - 2] < p[n-1]) {\n\t\tcount+=Rside();\n\t}\n\tif (p[0] > p[1]) {\n\t\tcount+=Lside();\n\t}\n\tfor (int i = 0; i < n-1; i++) {\n\t\tif (i == 0 && p[i] == 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tcount += p[i] * 2;\n\t\tif (p[i] <= p[i + 1]) {\n\t\t\tp[i + 1] -= p[i];\n\t\t\tp[i] = 0;\n\t\t\t//5 2 5 6 5\n\t\t}\n\t\telse if (p[i] > p[i + 1]) {\n\t\t\tp[i] = 0; p[i + 1] = 0;\n\t\t}\n\t}\n\tif (p[n - 1] > 0) {\n\t\tcount += p[n - 1];\n\t\tp[n - 1] = 0;\n\t}\n\t//for (int i = 0; i < n; i++) {\n\t//\tcout << p[i] << \" \";\n\t//}cout << endl;\n\tcout << count << endl;\n\treturn 0;\n}\nint Rside() {\n\tint res = 0;\n\tres += p[n - 2] * 2;\n\tp[n-1] -= p[n - 2];\n\tp[n - 2] = 0;\n\tres += p[n-1];\n\tp[n-1] = 0;\n\treturn res;\n}\nint Lside() {\n\tint res = 0;\n\tres += p[1] * 2;\n\tp[0] -= p[1];\n\tp[1] = 0;\n\tres += p[0];\n\tp[0] = 0;\n\treturn res;\n}\nint center() {\n\tint res = 0;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[5001],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\tfor(i=0;i<n;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==n-1){\n\t\t\t\tp[i]--;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tcnt+=2;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<=p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[j]=p[j];\n\t\t}\n\t\tint sum=i;\n\t\tq[0]-=i;\n\t\t\n\t\tfor(int j=0;j<N-2;j++){\n\t\t\tif(q[j]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[j]*2;\n\t\t\tq[j+1] -=q[j];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n\tint a[5005];\n\tint n;\n\tint i,j,k;\n\tint s,b,c;\n\twhile(1){\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(i=0;i<n;i++){\n\t\t\tcin>>a[i];\n\t\t}\n\t\ts=0,b=0,c=0;\n\t\tfor(i=3;i>0;i--){\n\t\t\tfor(j=0;j<n;j++){\n\t\t\t\tif(a[j]==i){\n\t\t\t\t\tif(c==0)b=j;\n\t\t\t\t\tc++;\n\t\t\t\t}else if(c!=0){\n\t\t\t\t\tif(b==0 || c%2==0)s+=c;\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a[j]>a[b-1])a[j]=(a[j]>0?a[j]-1:0);\n\t\t\t\t\t\telse a[b-1]=(a[b-1]>0?a[b-1]-1:0);\n\t\t\t\t\t\ts+=c+1;\n\t\t\t\t\t}\n\t\t\t\t\tfor(k=b;k<b+c;k++){\n\t\t\t\t\t\ta[k]--;\n\t\t\t\t\t}\n\t\t\t\t\tb=0,c=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\ts+=c;\n\t\t\tfor(j=b;j<b+c;j++){\n\t\t\t\ta[j]--;\n\t\t\t}\n\t\t\tb=0,c=0;\n\t\t}\n\t\tcout<<s<<endl;\n\t}\n\treturn 0;\n}\n\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define Min(a,b) a=min(a,b);\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\n\nusing namespace std;\n#define N 5010\n#define M 4\nint n,a[N],d[N][M];\nint main(){\n    cin>>n;\n    lol(i,n)cin>>a[i];\n    lol(i,n)lol(j,M)d[i][j]=mod;\n    lol(j,M)d[0][j]=j;\n    lol(i,n-1){\n\tfor(int j=0;j<=a[i];j++){\n\t    int low=a[i]-j;\n\t    int hig=a[i+1];\n\t    for(int k=0;k<low;k++){\n\t\tMin(d[i+1][k],d[i][j]+2*low);\n\t    }\n\t    for(int k=low;k<=hig;k++){\n\t\tMin(d[i+1][k],d[i][j]+2*k);\n\t    }\n\t}\n    }\n    int ans=mod;\n    lol(j,M){\n\tMin(ans,d[n-1][j]+max(0,a[n-1]-j));\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {//外側と内側１つめをひっくり返す\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(pp[j]>0&&pp[j+1]>0) {\n\t\t\t\tif(j+1==n-1) {\n\t\t\t\t\tsum+=pp[j]*2+(pp[j+1]-pp[j]);\n\t\t\t\t\tpp[j]=pp[j+1]=0;\n\t\t\t\t}\n\t\t\t\telse if(pp[j+1]>pp[j]) {\n\t\t\t\t\tsum+=pp[j+1]*2;\n\t\t\t\t\tpp[j+1]=0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsum+=pp[j]*2;\n\t\t\t\t\tpp[j]=pp[j+1]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j]=pp[j+1]=0;\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = 3;\n  while(true){\n    rep(i,n){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(i == 0){\n          if(p[i + 1]){\n            p[i + 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else if(i == n - 1){\n          if(p[i - 1]){\n            p[i - 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else{\n          if(p[i + 1] > p[i - 1]){\n            p[i + 1]--; \n          }else{\n            p[i - 1]--;\n          }\n        }\n        ans += 2;\n      }\n    }\n    itr--;\n    if(itr == 0){\n      cout << ans << endl;\n      return 0;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,i,j;\n\tf=0;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++) scanf(\"%d\",&s[i]);\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i==1){\n\t\t\t\t\tif(s[i+1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==a-2){\n\t\t\t\t\tif(s[i-1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) f+=s[0];\n\tif(s[a-1]>0) f+=s[a-1];\n\tprintf(\"%d\\n\",f);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,ans=1e9;\n  cin>>n;\n  int a[n],b[n];\n  r(i,n)cin>>a[i];\n  r(i,n)b[i]=a[i];\n  r(j,4){\n    int s1=0;\n    r(i,n)a[i]=b[i];\n    a[0]--;\n    for(int i=0;i<n-1;i++){\n      if(a[i]<=0)continue;\n      s1+=a[i]*2;\n      a[i+1]-=a[i];\n    }\n    if(a[n-1]<0)a[n-1]=0;\n    ans=min(ans,s1+a[n-1]+j);\n  }\n  cout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,s1=0;\n  cin>>n;\n  int a[n];\n  r(i,n)cin>>a[i];\n  if(a[0]>a[1])s1+=a[0]-a[1],a[0]=a[1];\n  for(int i=0;i<n-1;i++){\n    if(a[i]<=0)continue;\n    s1+=a[i]*2;\n    a[i+1]-=a[i];\n  }\n  if(a[n-1]<0)a[n-1]=0;\n  cout<<s1+a[n-1]<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        int value = input[index];\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        std::cerr << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n        auto section = (*section_map.begin()).second;\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      : \n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\nint w,h,c;\nint d[50001]={};\n\nint main() {\n\tint n;\n\tint total1,total2;\n\tint r1,r2,d1,d2;\n\twhile(1){\n\t\tcin>>n;\n\t\tif(n==0)return 0;\n\t\tcin>>d1;\n\t\ttotal1=d1;\n\t\ttotal2=d1;\n\t\tr1=d1;\n\t\tr2=0;\n\n\t\tfor(int i=2;i<n+1;++i){\n\t\t\tcin>>d1;\n\t\t\tif(d1>=r1){\n\t\t\t\ttotal1+=d1;\n\t\t\t\tr1=d1-r1;\n\t\t\t}else{\n\t\t\t\ttotal1+=r1;\n\t\t\t\tr1=0;\n\t\t\t}\n\t\t\tif(d1>=r2){\n\t\t\t\ttotal2+=d1;\n\t\t\t\tr2=d1-r2;\n\t\t\t}else{\n\t\t\t\ttotal2+=r2;\n\t\t\t\tr2=0;\n\t\t\t}\n\t\t}\n\t\tcout<<min(total1,total2)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define M 2000000000\n \nusing namespace std;\nint main(void)\n{\n    int n,i,j,s,a[5000],b[5000],m;\n    scanf(\"%d\",&n);\n    for(i=0;i<n;i++) scanf(\"%d\",&a[i]);\n    m=M;\n    for(i=0;i<=a[0];i++){\n        for(j=0;j<n;j++) b[j]=a[j];\n        b[0]-=i; s=i;\n        for(j=0;j<n-1;j++){\n            if(b[j]>0){\n                b[j+1]-=b[j];\n                s+=b[j]*2;\n                b[j]=0;\n            }\n        }\n        if(b[n-1]>0) s+=b[n-1];\n        m=min(m,s);\n    }\n    printf(\"%d\\n\",m);\n    return 0;\n}\n \n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n \nint main(){\n  int N;\n  cin >> N;\n \n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin >> p[i];\n  }\n \n  int min_sum=20000;\n \n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int j=0;j<N;j++){\n      q[j]=p[j];\n    }\n \n    int sum=I;\n    q[0] -= I;\n \n    for(int i=0;i<=N-2;i++){\n      if(q[i]<=0)\n        continue;\n \n      sum +=q[i]*2;\n      q[i+1]-=q[i];\n    }\n \n    if(q[N-1]>0){\n      sum += q[N-1];\n    }\n \n    min_sum = min(min_sum,sum);\n  }\n \n  cout << min_sum << endl;\n \n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\n#if defined(DEBUG)\n#define debug std::cerr\n#else\n#define debug std::cerr.setstate(std::ios_base::badbit); std::cerr\n#endif\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        debug << \"All value is zero.\" << std::endl;\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    debug << \"[!] Found \" << sections.size() << \" sections\" << std::endl;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // show state\n    debug << \"[!] Found \" << sections_zero_scored.size() << \" sections that has least zero\" << std::endl;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    debug << \"[!] Found \" << sections_scored_component.size() << \" sections that has maximum components\" << std::endl;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }   \n\n    debug << \"[!] Found \" << sections_scored_difficulty.size() << \" sections with harder difficulty\" << std::endl;\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    debug << \"[!] Found \" << sections_scored_distance.size() << \" sections with longer distance from start or end\" << std::endl;\n    for (auto iterator = sections_scored_distance.begin(); iterator != sections_scored_distance.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    debug << std::endl;\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        debug << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        for (int a : input) {\n            std::cout << a << \", \" ;\n        }\n\n        std::cout << \"end: \" << cnt << std::endl;\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int side_zeros = 0;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int current = 0;\n            if (current_section.size() == 1) {\n                if (current_section[0] == 0 && input[current_section[0]+1] == 0) {\n                    current += 1;\n                } else if (input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n            } else {\n                if (current_section[0] != 0 && input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n                if (current_section[1] != input_size - 1 && input[current_section[1]+1] == 0) {\n                    current += 1;\n                }\n            }\n            if (current > side_zeros) {\n                side_zeros = current;\n                section = current_section;\n            }\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  int N,ans = 0;\n  vector<int> p;\n\n  cin >> N;\n\n  p.resize(N);\n  int work;\n  for(int i=0;i<p.size();++i){\n    cin >> work;\n    p[i] = work;\n  }\n\n  for(int k=3;k>0;--k){\n    for(int i=1;i<p.size()-1;++i){\n      if(p[i] == k){\n\tans+=2;\n\tif(i != 1 && i != p.size()-2){\n\t  if(p[i-1] >= p[i+1]){\n\t    if(p[i-1] > 0) --p[i-1];\n\t    --p[i];\n\t  }else{\n\t    if(p[i+1] > 0) --p[i+1];\n\t    --p[i];\n\t  }\n\t}else{\n\t  if(i == 1){\n\t    if(p[i+1] > 0){\n\t      --p[i],--p[i+1];\n\t    }else{\n\t      --p[i],--p[i-1];\n\t    }\n\t  }else{\n\t    if(p[i-1] > 0){\n\t      --p[i],--p[i-1];\n\t    }else{\n\t      --p[i],--p[i+1];\n\t    }\n\t  }\n\t}\n      }\n    }\n  }\n\n  \n  cout << ans + p[0] + p[p.size()-1] << endl;\n\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint dp[5009][5], N, A[5009];\n\nint main() {\n    cin >> N;\n    for (int i = 1; i <= N; i++) cin >> A[i];\n    for (int i = 0; i <= N + 1; i++) { for (int j = 0; j <= 4; j++) dp[i][j] = (1 << 30); }\n    \n    for (int i = 0; i <= 4; i++) dp[0][i] = i;\n    for (int i = 1; i <= N + 1; i++) {\n        for (int j = 0; j <= 4; j++) {\n            if (dp[i - 1][j] == (1 << 30)) continue;\n            for (int k = max(0, A[i] - j); k <= 4; k++) {\n                int r = k * 2; if (i >= N) r = k;\n                dp[i][k] = min(dp[i][k], dp[i - 1][j] + r);\n            }\n        }\n    }\n    int ret = (1 << 30);\n    for (int i = 0; i <= 4; i++) ret = min(ret, dp[N + 1][i]);\n    cout << ret << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(void){\n\tint n;\n\tint box[5000];\n\tint cpy[5000];\n\tint sum,MIN;\n\tint i,j;\n\tcin>>n;\n\tfor(i=0;i<n;i++)\tcin>>box[i],cpy[i]=box[i];\n\tMIN=INT_MAX;\n\tfor(i=0;i<=cpy[0];i++){\n\t\tsum=0;\n\t\tfor(j=0;j<n;j++)\tbox[j]=cpy[j];\n\t\tsum+=i;\n\t\tbox[0]-=i;\n\t\tj=0;\n\t\twhile(1){\n\t\t\tif(j==n)\tbreak;\n\t\t\tif(box[j]!=0){\n\t\t\t\tif(j+1==n){\n\t\t\t\t\tsum+=box[j];\n\t\t\t\t\tbox[j]=0;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(box[j]<box[j+1]){\n\t\t\t\t\t\tsum+=box[j]*2;\n\t\t\t\t\t\tbox[j+1]-=box[j];\n\t\t\t\t\t\tbox[j]=0;\n\t\t\t\t\t}\n\t\t\t\t\telse if(box[j]>box[j+1]){\n\t\t\t\t\t\tsum+=box[j]*2;\n\t\t\t\t\t\tbox[j]=0;\n\t\t\t\t\t\tbox[j+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tsum+=box[j]*2;\n\t\t\t\t\t\tbox[j]=0;\n\t\t\t\t\t\tbox[j+1]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse j++;\n\t\t}\n\t\t//printf(\"sum=%d\\n\",sum);\n\t\tMIN=min(MIN,sum);\n\t}\n\tcout<<MIN<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing P = pair<int, int>;\n\nconst int INF = 1001001001;\n\nint main() {\n    int n;\n    cin >> n;\n    int p[n];\n    for (int i = 0; i < n; i++) cin >> p[i];\n    ll ans = INF;\n    for (int i = 0; i <= p[0]; i++) {\n        for (int j = 0; j <= p[n - 1]; j++) {\n            int pt[n];\n            for (int i = 0; i < n; i++) pt[i] = p[i];\n            pt[0] -= min(pt[0], i); pt[n - 1] -= min(pt[n - 1], j);\n            ll cnt = i + j;\n            for (int k = 0; k < n; k++) {\n                if (k == n - 1) {\n                    cnt += max(0, pt[k]);\n                    break;\n                }\n                cnt += max(0, pt[k] * 2);\n                pt[k + 1] -= min(pt[k + 1], pt[k]);\n                pt[k] = 0;\n            }\n            ans = min(ans, cnt);\n        }\n    }\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "// pck2016 パンケーキ\n#include <iostream>\nusing namespace std;\nint main(void){\n    int N,p[5001],copy[5001],min=10000000;\n    cin >> N;\n    for(int i=1;i<=N;i++){\n        cin >> p[i];\n    }\n    int count=0;\n    for(int test=0;test<=p[1];test++){\n        copy[1]=p[1]-test;\n        count=test;\n         for(int i=1;i<N;i++){\n            copy[i+1]=p[i+1];\n            if(copy[i]>0){\n                count+=copy[i]*2;\n                copy[i+1]-=copy[i];\n            }\n        }\n        if(copy[N]>0)count+=copy[N];\n        if(count<min)min=count;\n    }\n    cout << min << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint process(int n,int p[]){\n    int cou=0;\n    if(p[0]!=0&&p[1]==0){\n        while (p[0]!=0) {\n            cou++;\n            p[0]--;\n        }\n    }\n    \n    for (int i=0; i<n-1; i++) {\n        while (p[i]!=0) {\n            cou+=2;\n            p[i]--;\n            p[i+1]--;\n        }\n    }\n    \n    if(p[n]!=0){\n        while (p[n-1]!=0) {\n            cou++;\n            p[n]--;\n        }\n    }\n    return cou;\n}\n\nint Input(int n,int p[]){\n    for (int i=0; i<n; i++) {\n        cin>>p[i];\n    }\n    return process(n,p);\n}\n\nint main(){\n    int n;\n    int p[5000];\n    cin>>n;\n    int ans=Input(n,p);\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &cake);\nint func(int,int,vector<int>);\nint solve(vector<int>);\nint main(){\n    vector<int> cake;\n    input(cake);\n    cout<<solve(cake)<<endl;\n    return 0;\n}\n\nint solve(vector<int> cake){\n    int res = (1<<31)-1;\n    for(int i=0;i<=cake.front();++i){\n        for(int j=0;j+i<=cake.front();++j){\n            res = min(func(i,j,cake),res);\n        }\n    }\n    return res;\n}\n\nint func(int startnum,int secondnum,vector<int> cake){\n    int res = 0;\n    res=startnum*2;\n    res = startnum + secondnum*2;\n    cake[0]-=startnum+secondnum;\n    cake[1]-=secondnum;\n    for(int i=1;i<cake.size();++i){\n        if(cake[i-1]>0){\n            int num = cake[i-1];\n            for(int j=-1;j<=1;++j){\n                if(i+j<cake.size()){\n                    res+=num;\n                    cake[i+j]-=num;\n                }\n            }\n        }\n    }\n    if(cake.back()>0){\n        res+=cake.back();\n    }\n    return res;\n}\nvoid input(vector<int> &cake){\n    int num;\n    cin>>num;\n    cake.resize(num);\n    for(int i=0;i<num;++i){\n        cin>>cake[i];\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,j,i,k;\n\tscanf(\"%d\",&a);\n\th=0;\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th+=s[i];\n\t}\n\twhile(1){\n\t\td=0;\n\t\tg=0;\n\t\tj=0;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(d<s[i]){\n\t\t\t\td=s[i];\n\t\t\t\tf=i;\n\t\t\t}\n\t\t\tif(s[i]>0) j=1;\n\t\t}\n\t\tfor(i=0;i<a;i++) if(s[i]<=0) g++;\n\t\tif(g>=a-2&&j==0){\n\t\t\tif(s[0]>0) s[0]=0;\n\t\t\tif(s[a-1]>0) s[a-1]=0;\n\t\t\t\tg=a;\n\t\t}\n\t\tif(g==a) break;\n\t\tif(f==1){\n\t\t\tif(s[2]>0){\n\t\t\t\ts[1]--;\n\t\t\t\ts[2]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts[0]--;\n\t\t\t\ts[1]--;\n\t\t\t}\n\t\t}\n\t\telse if(f==a-2){\n\t\t\tif(s[a-3]>0){\n\t\t\t\ts[a-2]--;\n\t\t\t\ts[a-3]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts[a-2]--;\n\t\t\t\ts[a-1]--;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(f-1<f+1){\n\t\t\t\ts[f+1]--;\n\t\t\t\ts[f]--;\n\t\t\t}\n\t\t\telse if(f-1>=f+1){\n\t\t\t\ts[f-1]--;\n\t\t\t\ts[f]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0;i<a;i++){\n\t\th+=s[i]*-1;\n\t}\n\tprintf(\"%d\\n\",h);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define mod 1000000007\n#define mod998 998244353\n#define sp ' '\n#define intmax 2147483647\n#define llmax 9223372036854775807\n#define mkp make_pair\ntypedef long long ll;\nusing namespace std;\n\nint N, p[5001], cnt, res, q[5001];\n\nint main() {\n\tcin >> N;\n\tres = intmax;\n\tfor (int i = 0; i < N; ++i) {\n\t\tcin >> p[i];\n\t\tq[i] = p[i];\n\t}\n\tfor (int i = 0; i <= p[0]; ++i) {\n\t\tcnt = 0;\n\t\tcnt += i;\n\t\tp[0] -= i;\n\t\tfor (int j = 0; j < 5000; ++j) {\n\t\t\tp[j] = max(p[j], 0);\n\t\t\tif (j != N - 1) {\n\t\t\t\tcnt += p[j];\n\t\t\t}\n\t\t\tcnt += p[j];\n\t\t\tp[j + 1] -= p[j];\n\t\t}\n\t\tres = min(res, cnt);\n\t\tfor (int j = 0; j < 5000; ++j) {\n\t\t\tp[j] = q[j];\n\t\t}\n\t}\n\tcout << res << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n;\n  cin >> n;\n\n  int p[5000];\n  for(int i=0; i<n; i++){\n    cin >> p[i];\n  }\n\n  int min_sum = 200000;\n\n  for(int I=0; I<=p[0]; I++){\n    int q[5000];\n    for(int i=0; i<n; i++){\n      q[i]=p[i];\n    }\n\n    int sum = I;\n    q[0] -= I;\n\n    for(int i=0; i<=n-2; i++){\n      if(q[i]<=0){\n        continue;\n      }\n\n      sum += q[i]*2;\n      q[i+1] -= q[i];\n    }\n\n    if(q[n-1]>0){\n      sum += q[n-1];\n    }\n    min_sum = min(min_sum, sum);\n  }\n  cout << min_sum << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      if(p[i] > 0) ans += p[i];\n      break;\n    }\n    if(p[i] > 0) {\n      ans += p[i] * 2;\n      p[i + 1] -= p[i];\n    }\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000] = {};\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  int k = p[0] + 1;\n  rep(i, 0, k) {\n    ans = min(ans, solve(p) + i);\n    p[0]--;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <math.h>\n#include <set>\n#include <vector>\n#include <array>\n#define MOD 1000000007\nusing namespace std;\n\nint gcd(int a,int b){\n\tif (!a) return b;\n\tif (!b) return a;\n\ta -= b;\n\treturn gcd(max(a,b), min(a,b));\n}\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\t\n\n\tvector<int> p(n);\n\n\tfor (int i = 0; n > i; i++)\n\t\tscanf(\"%d\", &p[i]);\n\n\tint ans = 0;\n\t\n\tif (p[0] > p[1])\n\t\tp[1] -= p[0], ans+=p[0] - p[1],p[0] = 0;\n\n\n\n\tfor (int i = 1; n-1 > i; i++){\n\t\tif (p[i] > 0){\n\t\t\tp[i + 1] -= p[i];\n\t\t\tans += p[i] * 2;\n\t\t\tp[i] = 0;\n\t\t}\n\n\t}\n\n\tif (p[n - 1] > 0){\n\t\tans += p[n - 1];\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int MOD = 1000000007;\n\n/*\ntemplate <typename T>\nstruct node_t{\n    node_t *child[2];\n    T val; int size;\n    int sum;\n    node_t(T v) : val(v), sum(v),size(1){\n        child[0]=NULL;\n        child[1]=NULL;\n    }\n    ~node_t(){\n        delete child[0];\n        delete child[1];\n    }\n    static int Rand(){\n        static int x = 294839543;\n        static int y = 953546939;\n        static int z = 214215255;\n        static int w = 745312534;\n        int t;\n        t=x^(x<<11);\n        x=y;y=z;z=w;\n        return w=(w^(w>>19))^(t^(t>>8));\n    }\n    static int Size(node_t *x){\n        return (!x?0:x->size);\n    }\n    static int Sum(node_t *x){\n        return (!x?0:x->sum);\n    }\n    static node_t *Update(node_t *x){\n        x->size=Size(x->child[0])+Size(x->child[1])+1;\n        x->sum=Size(x->child[0])+Size(x->child[1])+x->val;\n        return x;\n    }\n    static node_t* Merge(node_t *x, node_t *y){\n        if(!x||!y)return x?x:y;\n        if(Rand()%(Size(x)+Size(y)) < Size(x)){\n            x->child[1]=Merge(x->child[1],y);\n            return Update(x);\n        }else{\n            y->child[0]=Merge(x, y->child[0]);\n            return Update(y);\n        }\n    }\n    static pair<node_t*, node_t*> Split(node_t *x, int k){\n        if(!x)return  {NULL,NULL};\n        if(k<=Size(x->child[0])){\n            pair<node_t*, node_t*> s = Split(x->child[0], k);\n            x->child[0]=s.second;\n            return {s.first,Update(x)};\n        }\n        else{\n            pair<node_t*, node_t*> s = Split(x->child[1], k-Size(x->child[0])-1);\n            x->child[1]=s.first;\n            return {Update(x), s.second};\n        }\n    }\n    static int Lowerboiund(node_t *x, T val){\n        if(!x)return 0;\n        if(val < x->val)return Lowerboiund(x->child[0], val);\n        return Lowerboiund(x->child[1], val) + Size(x->child[0]) + 1;\n    }\n    static node_t *Insert(node_t *x, int k, node_t *new_x){\n        pair<node_t*, node_t*> s = Split(x,k);\n        x = Merge(Merge(s.first, new_x), s.second);\n        return Update(x);\n    }\n    static node_t *Insert(node_t *x, node_t *new_x){\n        pair<node_t*, node_t*> s = Split(x, Lowerboiund(x,new_x->val));\n        x = Merge(Merge(s.first, new_x), s.second);\n        return Update(x);\n    }\n    static node_t *Erase(node_t *x, int k){\n        pair<node_t*, node_t*> a = Split(x,k);\n        pair<node_t*, node_t*> b = Split(a.second, 1);\n        delete b.first;\n        x = Merge(a.first, b.second);\n        return x;\n    }\n};\ntemplate<typename T>\nclass Treap{\n    typedef node_t<T> node;\npublic:\n    node* root_;\n    Treap(){\n        root_ = new node(numeric_limits<T>::min());\n    }\n    int LowerBound(T val){\n        return node::Lowerboiund(root_, val);\n    }\n    node* insert(T val){\n        node* hog  = new node(val);\n        root_ = node::Insert(root_, hog);\n        return hog;\n    }\n    void Set(int k, T val){\n        auto sr = node::Split(root_, k + 1);\n        auto sl = node::Split(sr.first, k);\n        auto lr = sl.second;\n        lr->val = val;\n        root_ = node::Merge(node::Merge(sl.first, lr), sr.second);\n    }\n    void Erase(int k){\n        root_ = node::Erase(root_, k);\n    }\n};\n\n\nint main(){\n    int n,q; cin >> n >> q;\n    int a,b,c;\n    Treap<ll> t;\n    vector<ll> vec(n, 0);\n    std::map<int, std::multiset<int>> ind;\n    for(int i = 0; i < n; ++i){\n        ind[0].insert(i);\n        t.insert(0);\n    }\n    for(int i = 0; i < q; ++i){\n        cin >> a;\n        if(a == 0){\n            cin >> b>> c;\n            int index = t.LowerBound(vec[b-1]);\n            ind[vec[b-1]].erase(b-1);\n            vec[b-1] -= c;\n            t.Erase(index);\n            ind[vec[b-1]].insert(b-1);\n            t.insert(vec[b-1]);\n        }else{\n            cin >> b;\n            ll st = -1LL * MOD * MOD; ll en = 1LL;\n\n            while(en - st > 1){\n                ll num = (st + en) / 2;\n                (t.LowerBound(num) > b ? en : st ) = num;\n            }\n            std::cout << -st - 1 << std::endl;\n        }\n    }\n    for(auto ch : vec)\n        cout << ch << \", \"; cout << endl;\n}\n\n*/\n\nint main(){\n   int N;cin >> N;\n   vector<int> vec;\n   vector<int> hoge;\n   ll ans = 1e9;\n   for(int a = 0;a < N;a++){\n       int b;cin >> b;\n       vec.push_back(b);\n   }\n   for(int b = 0;b < N+1;b++){\n       int ins = 0;\n       ll xans = 0;\n       for(int a = b;a < N;a++){\n           xans += (a != N-1 ? 2 : 1) * max(0,vec.at(a)-ins);\n           ins = vec.at(a);\n       }\n       ins = 0;\n       for(int a = b-1;a > 0;a--){\n           xans += (a != 0 ? 2 : 1) * max(0,vec.at(a)-ins);\n           ins = vec.at(a);\n       }\n       //cout<<xans<<endl;\n       ans = min(xans,ans);\n   }\n   cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    int p[n];\n    for(int i=0;i<n;i++){\n        cin>>p[i];\n//        cout<<p[i];\n    }\n    int ans =0;\n\n    for(int i=0;i<n-1;i++){\n        if(p[i]>0){\n            ans += p[i]*2;\n//            cout<<\"#\"<<ans;\n            p[i+1]-= p[i];\n            p[i]-=p[i];\n        }\n    }\n\n    if(p[n-1]>0)ans += p[n-1];\n\n    cout<<ans<<endl;\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main()\n{\n    int N;\n    cin>>N;\n    vector<int> p(N);\n    for (int &t: p)\n        cin>>t;\n    int oo = 10*N;\n    vector<vector<int>> T(N, vector<int>(4, oo));\n    for (int i=0; i<N; i++)\n    {\n        for (int j=0; j<=3; j++)\n        for (int k=0; k<=3; k++)\n            if (j+k >= p[i])\n                T[i][k] = min(T[i][k], (i>0 ? T[i-1][j] : 0)+j+k);\n    }\n    cout<<*min_element(T[N-1].begin(), T[N-1].end())<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define for0(i, n) for(int i = 0; i < (n); i++)\n#define for1(i, n) for(int i = 1; i <= (n);i++)\n#define mp make_pair\n#define all(x) x.begin(),x.end()\nusing namespace std;\nint input() {\n\tint r;\n\tcin >> r;\n\t//scanf(\"%lld\", &r);\n\treturn r;\n}\nint n, a[5678], dp[5678][5], dpm[5678][5];\nsigned main() {\n\tcin >> n;\n\tfor1(i, n) {\n\t\tcin >> a[i];\n\t\tif (i == 1) {\n\t\t\tdp[i][0] = 0;\n\t\t\tdp[i][1] = 1;\n\t\t\tdp[i][2] = 2;\n\t\t\tdp[i][3] = 3;\n\t\t}\n\t\telse {\n\t\t\tdp[i][0] = dpm[i - 1][a[i - 1]];\n\t\t\tdp[i][1] = dpm[i - 1][max(a[i - 1] - 1, 0)] + 2;\n\t\t\tdp[i][2] = dpm[i - 1][max(a[i - 1] - 2, 0)] + 4;\n\t\t\tdp[i][3] = dpm[i - 1][max(a[i - 1] - 3, 0)] + 6;\n\t\t}\n\t\tdpm[i][3] = dp[i][3];\n\t\tdpm[i][2] = min(dpm[i][3], dp[i][2]);\n\t\tdpm[i][1] = min(dpm[i][2], dp[i][1]);\n\t\tdpm[i][0] = min(dpm[i][1], dp[i][0]);\n\t}\n\tdp[n + 1][0] = dpm[n][a[n]];\n\tdp[n + 1][1] = dpm[n][max(a[n] - 1, 0)] + 1;\n\tdp[n + 1][2] = dpm[n][max(a[n] - 2, 0)] + 2;\n\tdp[n + 1][3] = dpm[n][max(a[n] - 3, 0)] + 3;\n\tcout << min({ dp[n + 1][0], dp[n + 1][1], dp[n + 1][2], dp[n + 1][3] }) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstdio>\n#include <cmath>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long ll;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define UNIQUE(a)  (a).erase(unique((a).begin(),(a).end()),(a).end())\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(auto i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\n//debug\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n\nint n,a[5000],b[5000];\n\n// O(N log N)\nint main() {\n\tcin>>n;\n\tREP(i,n)cin>>b[i];\n\tint ans = 1e6;\n\tREP(i,a[0]+1){\n\t\tmemcpy(a,b,sizeof(b));\n\t\ta[0]-=i;\n\t\tint t=i;\n\t\tREP(j,n-1){\n\t\t\tif(a[j]<1)continue;\n\t\t\tt+=a[j]*2;\n\t\t\ta[j+1]-=a[j];\n\t\t}\n\t\tt += max(0, a[n-1]);\n\t\tans = min(ans, t);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    // 3\n    FOR(i,1,n-1){\n      if(v[i] == 3){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //2\n    FOR(i,1,n-1){\n      if(v[i] == 2){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //1\n    FOR(i,1,n-1){\n      if(v[i] == 1){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n\n    FOR(i,1,n-1){\n      sum += v[i];\n    }\n    cout<<sum<<endl;\n\n\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main() {\n  int n;\n  cin >> n;\n  int p[n];\n  int i, j;\n  for (i = 0; i < n; i++) {\n    cin >> p[i];\n  }\n\n  int memo[n];\n  int result, count[4] = {0};\n  for (i = 0; i < 4; i++) {\n    for (j = 0; j < n; j++) {\n      memo[j] = p[j];\n    }\n\n    if (p[0] >= i) {\n      memo[0] -= i;\n      count[i] += i;\n\n      for (j = 0; j < n; j++) {\n        if (memo[j] > 0) {\n          if (j == (n - 1)) {\n            count[i] += memo[j];\n            memo[j] -= memo[j];\n\n          } else {\n            count[i] += (memo[j] * 2);\n            memo[j + 1] -= memo[j];\n            memo[j] -= memo[j];\n          }\n        }\n      }\n    } else {\n      count[i] = 2147483647;\n    }\n  }\n\n  result = count[0];\n  for (i = 0; i < 4; i++) {\n    if (result > count[i]) {\n      result = count[i];\n    }\n  }\n  cout << result << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\nint main(){\n  while(true){\n    int n;\n    cin>>n;\n    if(n==0)\n    break;\n    int a[5000],sum=0;\n    for(int i=0;i<n;i++)\n    cin>>a[i];\n    while(true){\n      int min1=4,min2,max;\n      for(int i=0;i<n;i++){\n     \n        if(min1>a[i]&&a[i]>0){\n          min1=a[i];\n          min2=i;\n        }\n      }\n    \n        if(min1==4){\n          cout<<sum<<'\\n';\n          break;\n        }\n        if(min2==0)\n        max=1;\n        else if(min2==n-1)\n        max=n-2;\n        else if(a[min2-1]<a[min2+1])\n        max=min2+1;\n        else if(a[min2-1]>=a[min2+1])\n        max=min2-1;\n        \n        a[min2]--;\n        if(a[max]>0)\n        a[max]--;\n        \n        \n        sum+=2;\n      \n    }\n    \n    \n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\nint N, p[5000], t[4][5000], r[4];\nint main() {\n  cin >> N;\n  for (int i = 0; i < N; i++) {\n    cin >> p[i];\n  }\n  for (int i = 0; i < 4; i++) {\n    t[i][0] = i;\n    r[i] = i;\n    for (int j = 1; j <= N; j++) {\n      t[i][j] = p[j - 1] - t[i][j - 1];\n      if (t[i][j] < 0) {\n        t[i][j] = 0;\n      }\n      if (j < N) {\n        r[i] += t[i][j] * 2;\n      } else {\n        r[i] += t[i][j];\n      }\n    }\n  }\n  cout << min(r[0], min(r[1], min(r[2], r[3]))) << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REAP(i,a,n) for(int i=(a);i<(n);i++)\n#define YES cout<<\"Yes\"<<endl\n#define NO cout<<\"No\"<<endl\n#define fr first\n#define sc second\n#define pb push_back\n#define All(v) v.begin(),v.end()\ntypedef long long ll;\n\nint main(){\n    ios::sync_with_stdio(false);\n    int n;\n    while(cin >> n,n){\n        string st,en;\n        int table[100000]={};\n        REP(i,n){\n            cin >> st>>en;\n            int stim=0;\n            stim+=(st[0]-'0')*10+(st[1]-'0');\n            stim*=60;\n            stim+=(st[3]-'0')*10+(st[4]-'0');\n            stim*=60;\n            stim+=(st[6]-'0')*10+(st[7]-'0');\n            int etim=0;\n            etim+=(en[0]-'0')*10+(en[1]-'0');\n            etim*=60;\n            etim+=(en[3]-'0')*10+(en[4]-'0');\n            etim*=60;\n            etim+=(en[6]-'0')*10+(en[7]-'0');\n\n            table[stim]+=1;\n            table[etim]+=-1;\n        }\n        int res=0,sum=0;\n        for(int i=0;i<100000;i++){\n//            if(table[i])cout << i/3600 <<\" \"<<table[i]<<endl;\n            sum+=table[i];\n            res=max(res,sum);\n        }\n        cout << res << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <functional>\n#include <bitset>\n#include <string>\n#include <stack>\n#include <cmath>\n#include <set>\n#include <map>\n#include <list>\n#include <deque>\nusing namespace std;\n#define INF 10000000\n#define LLINF 100000000000000\ntypedef pair<int, int> P;\ntypedef long long ll;\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (int)(n); i++)\n#define all(x) (x).begin(),(x).end()\n#define VSORT(v) sort(v.begin(), v.end());\n#define fi first\n#define se second\n#define out(x) cout << x << endl;\nint dx[] = { 1, 0, -1, 0 }, dy[] = { 0,1,0,-1 };\nll MOD = 1000000007;\nstruct edge {\n\tll from, to, cost;\n};\n\n\nint n;\nint a[5005] = { 0 };\nint b[5005] = { 0 };\nint res = INF;\n\n\nint main() {\n\tcin >> n;\n\trep(i, n) {\n\t\tcin >> a[i];\n\t}\n\tfor (int i = 0; i <= 3; i++) {\n\t\tint sum = 0;\n\t\tfor (int i = 0; i < n; i++) b[i] = a[i];\n\t\tsum += i;\n\t\tb[0] -= i;\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tif (b[i] > 0) {\n\t\t\t\tsum += b[i] * 2;\n\t\t\t\tb[i + 1] -= b[i];\n\t\t\t}\n\t\t}\n\t\tif (b[n - 1] > 0) sum += b[n - 1];\n\t\t//out(sum);\n\t\tres = min(res, sum);\n\t}\n\tout(res);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <list>\n#include <cmath>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <complex>\n#include <cstdlib>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <utility>\n#include <iostream>\n#include <algorithm>\n#include <functional>\n\nusing namespace std;\n\n#define INF (1 << 30)\n#define INFL (1LL << 62)\n#define MOD7 1000000007\n#define MOD9 1000000009\n#define EPS 1e-10\n\n#define ll long long\n#define ull unsigned long long\n#define pii pair<int, int>\n#define pll pair<ll, ll>\n#define pul pair<ull, ull>\n#define all(a) (a).begin(), (a).end()\n#define FOR(i,a,b) for (int i=(a);i<(b);++i)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);--i)\n#define REP(i,n) for (int i=0;i<(n);++i)\n#define RREP(i,n) for (int i=(n)-1;i>=0;--i)\n\nvoid YES() { cout << \"YES\" << endl; }\nvoid NO() { cout << \"NO\" << endl; }\nvoid Yes() { cout << \"Yes\" << endl; }\nvoid No() { cout << \"No\" << endl; }\nvoid yes() { cout << \"yes\" << endl; }\nvoid no() { cout << \"no\" << endl; }\nvoid Taka() { cout << \"Takahashi\" << endl; }\nvoid Aoki() { cout << \"Aoki\" << endl; }\nvoid digit(int d) { cout << fixed << setprecision(d); }\nvoid IOup() { cin.tie(0); ios::sync_with_stdio(false); }\n\nint main() {\n\tint n, ans = INF, cnt;\n\tcin >> n;\n\tvector<int> a(n + 1), b;\n\tfor (int i = 0; i < n; ++i)\n\t\tcin >> a[i];\n\tb = a;\n\t\n\tcnt = 0;\n\tfor (int i = 0; i < n; ++i) {\n\t\tif (a[i] < 0)\n\t\t\tcontinue;\n\t\tif (i == n - 1) {\n\t\t\tcnt += a[i];\n\t\t}\n\t\telse {\n\t\t\tcnt += 2 * a[i];\n\t\t\ta[i + 1] -= a[i];\n\t\t}\n\t}\n\tans = min(ans, cnt);\n\n\ta = b;\n\n\tcnt = a[0];\n\tfor (int i = 1; i < n; ++i) {\n\t\tif (a[i] < 0)\n\t\t\tcontinue;\n\t\tif (i == n - 1) {\n\t\t\tcnt += a[i];\n\t\t}\n\t\telse {\n\t\t\tcnt += 2 * a[i];\n\t\t\ta[i + 1] -= a[i];\n\t\t}\n\t}\n\n\tans = min(ans, cnt);\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint min_sum=20000;\n\n\tfor(int I=0;I<=p[0];I++){\n\t\tint q[5000];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tq[i]=p[i];\n\t\t}\n\t\t\n\t\tint sum=I;\n\t\tq[0]-=I;\n\t\t\t\n\t\tfor(int i=0;i<=N-2;i++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\t\t\n\t\t\tsum+=q[i]*2;\n\t\t\tq[i+1]-=q[i];\n\t\t}\n\n\t\tif(q[N-1]>0){\n\t\t\tsum+=q[N-1];\n\t\t}\n\t\t\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<math.h>\n#include<cmath>\n#include<bitset>\n#include<stdio.h>\n#include<string>\n#include<map>\n#include<algorithm>\n#include<vector>\n#include<iostream>\n#include<utility>\nusing namespace std;\nint main(){\n  int INF=(1<<29);\n  int n,p[5010],dp[5010][5],i,j,k;\n  scanf(\"%d\\n\",&n);\n  for(i=0;i<n;i++){\n    scanf(\"%d \",&p[i]);\n  }\n  for(i=0;i<=n;i++){\n    for(j=0;j<=3;j++){\n      dp[i][j]=INF;\n    }\n  }\n  for(i=0;i<=3;i++){\n    dp[0][i]=i;\n  }\n  for(i=0;i<n;i++){\n    if(i==n-1){\n      for(j=0;j<=3;j++){\n        for(k=0;k<=3;k++){\n          if(j+k<p[i]){\n            continue;\n          }\n          dp[i+1][k]=min(dp[i+1][k],dp[i][j]+k);\n        }\n      }\n      continue;\n    }\n    for(j=0;j<=3;j++){\n      for(k=0;k<=3;k++){\n        if(j+k<p[i]){\n          continue;\n        }\n        dp[i+1][k]=min(dp[i+1][k],dp[i][j]+2*k);\n      }\n    }\n  }\n  int min=INF;\n  for(i=0;i<=3;i++){\n    if(dp[n][i]<min){\n      min=dp[n][i];\n    }\n  }\n  printf(\"%d\\n\",min);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p,bool f) > rec =\n  [&](vector<int> p,bool f){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0){\n        if(f == 0) res += p[i];\n        else {\n          if(p[i] >= p[i+1]){\n            res += p[i] + p[i+1];\n            p[i+1] = 0;\n          }\n          else {\n            res += p[i] * 2;\n            p[i+1] -= p[i];\n          }\n        }\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    return res + max(0LL,p[n-1]);\n  };\n\n  int ans = 1 << 30;\n  ans = min({ans,rec(p,0),rec(p,1)});\n  reverse(p.begin(),p.end());\n  ans = min({ans,rec(p,0),rec(p,1)});\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define int long long\n#define double long double\n#define INF 1e18\nusing namespace std;\ntemplate<class T> inline bool chmin(T& a, T b) {\n  if (a > b) a = b;\n  return a > b;\n}\ntemplate<class T> inline bool chmax(T&a, T b) {\n  if (a < b) a = b;\n  return a < b;\n}\n\nsigned main() {\n  int N;\n  cin >> N;\n  vector<int> p(N);\n  for (int i = 0; i < N; i++) cin >> p[i];\n  int ans = 0;\n  for (int i = 0; i < N; i++) {\n    if (i == 0 && p[i] > p[i+1]) {\n      ans += p[i+1]*2;\n      p[i] -= p[i+1];\n      p[i+1] = 0;\n      ans += p[i];\n    } else if (i == N-1) {\n      ans += p[i];\n    } else {\n      ans += p[i]*2;\n      p[i+1] = max(0LL, p[i+1]-p[i]);\n    } \n    p[i] = 0;\n  }\n  cout << ans << endl; \n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin >> N;\n\n  int p[5000];\n  for(int i=0; i<N; i++){\n    cin >> p[i];\n  }\n\n  int min_sum = 20000;\n\n  for(int I=0; I<=p[0]; I++){\n    int q[5000];\n    for(int i=0; i<N; i++){\n      q[i] = p[i];\n    }\n\n    int sum = I;\n    q[0] -= I;\n\n    for(int i=0; i<=N-2; i++){\n      if(q[i]<=0)\n        continue;\n\n      sum += q[i]*2;\n      q[i+1] -= q[i];\n    }\n\n    if(q[N-1]>0){\n      sum  += q[N-1];\n    }\n    min_sum = min(min_sum, sum);\n  }\n  cout << min_sum << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<climits>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n\n    int p[n];\n    for(int i = 0; i < n; i++)  cin >> p[i];\n\n    int ans = INT_MAX;\n    for(int i = 0; i <= p[0]; i++){\n        int tmp = i, before = i;\n        for(int j = 0; j < n-1; j++){\n            tmp += 2 * max(0, p[j]-before);\n            before = max(0, p[j] - before);\n        }\n        tmp += max(0, p[n-1]-before);\n        ans = min(ans, tmp);\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(void){\n    int N,p[5001];\n    cin >> N;\n    for(int i=1;i<=N;i++){\n        cin >> p[i];\n    }\n    int count=0;\n    for(int D=3;D>=1;D--){\n        for(int i=2;i<N;i++){\n            if(p[i]==D){\n                if(p[i-1]==p[i+1]){\n                    if(i==2){\n                        p[i]--;\n                        p[i+1]--;\n                        count+=2;\n                    }\n                    else{\n                        p[i]--;\n                        p[i-1]--;\n                        count+=2;\n                    }\n                }\n                else if(p[i-1]>p[i+1]){\n                    p[i]--;\n                    p[i-1]--;\n                    count+=2;\n                }\n                else{\n                    p[i]--;\n                    p[i+1]--;\n                    count+=2;\n                }\n            }\n        }\n    }\n    if(p[1]>0)count += p[1];\n    if(p[N]>0)count += p[N];\n    cout << count << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <algorithm>\n#include <complex>\n#include <utility>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <tuple>\n#include <cmath>\n#include <bitset>\n#include <cctype>\n#include <set>\n#include <map>\n#include <unordered_map>\n#include <numeric>\n#include <functional>\n#define _overload3(_1,_2,_3,name,...) name\n#define _rep(i,n) repi(i,0,n)\n#define repi(i,a,b) for(ll i=ll(a);i<ll(b);++i)\n#define rep(...) _overload3(__VA_ARGS__,repi,_rep,)(__VA_ARGS__)\n#define all(x) (x).begin(),(x).end()\n#define PRINT(V) cout << V << \"\\n\"\n#define SORT(V) sort((V).begin(),(V).end())\n#define RSORT(V) sort((V).rbegin(), (V).rend())\nusing namespace std;\nusing ll = long long;\ntemplate<class T>bool chmax(T &a, const T &b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<class T>bool chmin(T &a, const T &b) { if (b<a) { a=b; return 1; } return 0; }\ninline void Yes(bool condition){ if(condition) PRINT(\"Yes\"); else PRINT(\"No\"); }\ntemplate<class itr> void cins(itr first,itr last){\n    for (auto i = first;i != last;i++){\n        cin >> (*i);\n    }\n}\ntemplate<class itr> void array_output(itr start,itr goal){\n    string ans = \"\",k = \" \";\n    for (auto i = start;i != goal;i++) ans += to_string(*i)+k;\n    if (!ans.empty()) ans.pop_back();\n    PRINT(ans);\n}\nll gcd(ll a, ll b) {\n    return a ? gcd(b%a,a) : b;\n}\nconst ll INF = 1e15;\nconst ll MOD = 1000000007;\nconst ll MOD2 = 998244353;\ntypedef pair<ll,ll> P;\ntypedef tuple<ll,ll,ll> tri;\ntypedef pair<double,double> point;\nconst ll MAX = 30000;\nconstexpr ll nx[8] = {1,0,-1,0,1,-1,1,-1};\nconstexpr ll ny[8] = {0,1,0,-1,1,1,-1,-1};\nll n;\nll solve(vector<ll> p){\n    ll ans = 0;\n    rep(i,1,n-1){\n        if (i == n-2){\n            if (p[i]){\n                if (p[i-1] <= p[i]){\n                    ans += p[i-1]*2;\n                    p[i] -= p[i-1];\n                    p[i-1] = 0;\n                }\n                else{\n                    ans += p[i]*2;\n                    p[i-1] -= p[i];\n                    p[i] = 0;\n                }\n            }\n            if (p[i]){\n                ans += p[i]*2;\n                if (p[i+1] <= p[i]){\n                    p[i+1] = p[i] = 0;\n                }\n                else{\n                    p[i+1] -= p[i];\n                    p[i] = 0;\n                }\n            }\n            continue;\n        }\n        if (p[i]){\n            if (p[i+1] <= p[i]){\n                ans += p[i+1]*2;\n                p[i] -= p[i+1];\n                p[i+1] = 0;\n            }\n            else{\n                ans += p[i]*2;\n                p[i+1] -= p[i];\n                p[i] = 0;\n            }\n        }\n        if (p[i]){\n            ans += p[i]*2;\n            if (p[i-1] <= p[i]){\n                p[i-1] = p[i] = 0;\n            }\n            else{\n                p[i-1] -= p[i];\n                p[i] = 0;\n            }\n        } \n    }\n    return ans+p[0]+p[n-1];\n}\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> n;\n    vector<ll> p(n),q;\n    rep(i,n) cin >> p[i];\n    q = p;\n    reverse(all(q));\n    PRINT(min(solve(p),solve(q)));\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n\n\nint main() {\n\tint N; cin >> N;\n\tvector<int>ps(N);\n\tfor (int i = 0; i < N; ++i)cin >> ps[i];\n\n\tint ans = 1e9;\n\tfor (int k = 0; k <= 3; ++k) {\n\t\tint nans = k;\n\t\tint from = k;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tint plus = max(0, ps[i] - from);\n\t\t\tnans += (i==N-1?1:2) * max(0,plus);\n\t\t\tfrom = plus;\n\t\t}\n\t\tans = min(ans, nans);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(void)\n{\n    int n,i,a[5000],w=0,j,x=0,b[5000];\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t    scanf(\"%d\",&a[i]);\n\t}\n\tif(a[0]>a[1]){\n\t    for(i=0;i<3;i++){\n\t\t    a[0]--;\n\t\t\tw++;\n\t\t\tx++;\n\t\t\tif(a[0]==a[1]) break;\n\t\t}\n\t}\n\tif(a[n-1]>a[n-2]){\n\t    for(i=0;i<3;i++){\n\t\t    a[n-1]--;\n\t\t\tw++;\n\t\t\tx++;\n\t\t\tif(a[n-1]==a[n-2]) break;\n\t\t}\n\t}\n\tfor(i=0;i<n;i++) b[i]=a[i];\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=0;j<3;j++){\t\n\t\t\tif(a[i]>0){\n\t\t\t\ta[i]--;\n\t\t\t\ta[i+1]--;\n\t\t\t\tw+=2;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=n-1;i>=0;i--){\n\t\tfor(j=0;j<3;j++){\t\n\t\t\tif(b[i]>0){\n\t\t\t\tb[i]--;\n\t\t\t\tb[i-1]--;\n\t\t\t\tx+=2;\n\t\t\t}\n\t\t}\n\t}\n\tif(w<=x) printf(\"%d\\n\",w);\n\telse if(w>x) printf(\"%d\\n\",x);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main (){\n    int N;\n    int p[1000];\n    int ok = 0;\n    int count = 0;\n    cin >> N;\n    for (int i = 0;i<N;i++){\n        cin >> p[i];\n    }\n    while (ok == 0){\n        for (int i = 1;i<N-1;i++){\n            if (p[i]!=0&&p[i-1]!=0){\n                p[i]--;\n                p[i-1]--;\n                count+=2;\n            }else if(p[i]!=0&&p[i+1]!=0){\n                p[i]--;\n                p[i+1]--;\n                count+=2;\n            }else if(p[i]!=0){\n                p[i]--;\n                count+=2;\n            }\n                \n        }\n    \n        if(p[N - 1]!=0&&p[N-2]==0){\n            p[N - 1]--;\n            count+= 1;\n        }\n        if(p[0]!=0&&p[1]==0){\n            p[0]--;\n            count+= 1;\n        }\n        int max = 0;\n        for (int i = 0;i<N;i++){\n            if (max < p[i]){\n                max = p[i];\n            }\n        }\n        if(max == 0){\n            ok = 1;\n        }\n    }\n    cout << count << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int N;\n    cin >> N;\n\n    int p[5000];\n    for(int i=0;i<N;i++)\n        cin >> p[i];\n    \n    int min_sum = 20000;\n\n    for(int I=0;I<=p[0];I++){\n        int q[5000];\n        for(int i=0;i<N;i++)\n            q[i] = p[i];\n        \n        int sum = I;\n        q[0] -= I;\n\n        for(int i=0;i<=N-2;i++){\n            if(q[i]<=0)\n                continue;\n            sum += q[i]*2;\n            q[i+1] -= q[i];\n        }\n\n        if(q[N-1]>0)\n            sum += q[N-1];\n\n        min_sum = min(min_sum, sum);\n    }\n\n    cout << min_sum << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(ll i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"Yes\"<<endl;}else{cout<<\"No\"<<endl;}\n#define Vi vector<int>\n#define Vl vector<long long>\n#define pb(a) push_back(a)\nusing namespace std;\n\ntypedef long long ll;\nconst int inf=1000000000;\nstruct edge{\n\tint myc,to,c,cost;\n};\nstruct pos{\n\tint to,cost,color;\n};\nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint p[5001];\n\trep(i,n)cin>>p[i];\n\tint total=p[0];\n\tint t=p[0];\n\tif(p[1]<=t){\n\t\ttotal+=p[1];\n\t\tt=0;\n\t}else{\n\t\ttotal+=p[1];\n\t\tt=p[1]-t;\n\t}\n\tfor(int i=2;i<n;++i){\n\t\tif(p[i]<=t){\n\t\t\ttotal+=t;\n\t\t\tt=0;\n\t\t}else{\n\t\t\ttotal+=p[i];\n\t\t\tt=p[i]-t;\n\t\t}\n\t}\n\tint total2=p[n-1];\n\tt=p[n-1];\n\tif(p[n-2]<=t){\n\t\ttotal2+=p[n-2];\n\t\tt=0;\n\t}else{\n\t\ttotal2+=p[n-2];\n\t\tt=p[n-2]-t;\n\t}\n\tfor(int i=n-3;i>=0;--i){\n\t\tif(p[i]<=t){\n\t\t\ttotal2+=t;\n\t\t\tt=0;\n\t\t}else{\n\t\t\ttotal2+=p[i];\n\t\t\tt=p[i]-t;\n\t\t}\n\t}\n\tcout<<min(total,total2)<<endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n    int n,p[5000],x=0;\n    cin>>n;\n    for(int i=1;i<=n;i++){\n    cin>>p[i];\n    }\n    for(int i=1;i<n;i++){\n        if(p[i]>0){\n            x+=2*p[i];\n            p[i+1]-=p[i];\n         \n        }\n    }\n    if(p[n]>0){\n        x+=p[n];\n    }\n    cout<<x<<endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint main() {\n    int N;\n    cin >> N;\n    int p[N];\n    for (int i = 0; i < N; i++) {\n        cin >> p[i];\n    }\n    int ans = INT32_MAX;\n    int a[N];\n    for (int i = 0; i <= p[0]; i++) {\n        for (int j = 0; j < N; j++) a[j] = p[j];\n        int t = i;\n        a[0] -= i;\n        for (int j = 0; j < N - 1; j++) {\n            t += 2 * a[j];\n            a[j + 1] = max(0, a[j + 1] - a[j]);\n        }\n        t += a[N - 1];\n        ans = min(ans, t);\n    }\n    cout << ans << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing i64 = int64_t;\n\nconst i64 INF = 1e18 + 7;\n\nsigned main(){\n    int n;\n    cin >> n;\n    vector<int> a(n);\n    for(auto& x : a)\n        cin >> x;\n    vector<vector<i64>> dp(n, vector<i64>(4, INF));\n    for(int i = 0; i < 4; ++i)\n        dp[0][i] = i;\n    for(int i = 0; i < n - 1; ++i){\n        for(int j = 0; j < 4; ++j){\n            int mi = max(0, a[i] - j);\n            for(int k = mi; k < 4; ++k)\n                dp[i + 1][k] = min(dp[i + 1][k], dp[i][j] + k * 2);\n        }\n    }\n    i64 ans = INF;\n    for(int i = 0; i < 4; ++i)\n        ans = min(ans, dp.back()[i] + max(0, a.back() - i));\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,pi[5000],num=0,midle=0,md = 0,t;\n  cin >>n;\n  for(int i = 0;i<n;i++){\n    cin >> pi[i];\n  }\n  while(1){\n      midle = 0;\n    for(int i = 0;i<n;i++){\n      if(pi[0]==1&&pi[1]==1){t=1;}\n\n      else if(pi[i]>0 && pi[i+1]>0){\n\tpi[i] = pi[i]-1;\n\tpi[i+1] = pi[i+1]-1;\n\tnum = num+2;\n\tmidle = midle+1;\n      }\n      if(midle < n/2) md =1;\n    }\n    if(md==1) break;\n  }\n    for(int i=1;i<n-1;i++){\n      num = num+(pi[i]*2);\n      pi[i] = 0; \n    }\n    num = num+pi[0];\n    num = num+pi[n-1];\n  cout << num << endl;\n\n}\n  \n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n\tint n, m = 0, a, b = 0;\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> a;\n\t\tm += max(a, b);\n\t\tb = max(a - b, 0);\n\t}\n\n\tcout << m << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <vector>\n#include <string>\nusing namespace std;\nconst int INF = 2000000005;\nint pk[5005] = { 0 }, cnter[5005] = { 0 };\n\nint main() {\n\t\n\t\tint n;\n\t\tcin >> n;\n\t\tint sm = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> pk[i];\n\t\t\tsm += pk[i];\n\t\t}\n\t\tfor (int i = 1; i < n - 1; i++) {\n\t\t\tint m = min(pk[i], pk[i + 1]);\n\t\t\tpk[i] -= m;\n\t\t\tpk[i + 1] -= m;\n\t\t}\n\t\tint m2 = min(pk[0], pk[1]);\n\t\tpk[0] = 0;\n\t\tpk[1] -= m2;\n\t\tint m3 = min(pk[n - 2], pk[n - 1]);\n\t\tpk[n - 2] -= m3;\n\t\tpk[n - 1] = 0;\n\t\t//ここまでで合計分の削除が完了\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t/*cout << pk[i] << \" \";*/\n\t\t\tsm += pk[i];\n\t\t}\n\t\tcout << /*endl <<*/ sm << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  int sum = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      if(p[i] > 0) ans += p[i] - sum;\n      break;\n    }\n    if(p[i] > 0) {\n      ans += (p[i] - sum) * 2;\n      sum = p[i] - sum;\n    }else sum = 0;\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000] = {};\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  int k = p[0] + 1;\n  rep(i, 0, k) {\n    ans = min(ans, solve(p) + i);\n    p[0]--;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5000],d,f=0,g,h[5000],i,j,z;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\tf+=s[i];\n\t\th[i]=s[i];\n\t}\n\tz=f;\n\td=s[0];\n\tg=210000000;\n\tfor(i=0;i<=d;i++){\n\t\tf=z;\n\t\ts[0]=i;\n\t\tfor(j=1;j<a;j++) s[j]=h[j];\n\t\tfor(j=0;j<a-1;j++){\n\t\t\tif(s[j]>0){\n\t\t\t\ts[j+1]-=s[j];\n\t\t\t\ts[j]=0;\n\t\t\t}\n\t\t\telse f+=(s[j]*-1);\n\t\t//printf(\"%d\\n\",s[j]);\n\t\t}\n\t\t//printf(\"%d\\n\",s[a-1]);\n\t\t//if(s[a-1]>0) f+=s[a-1];\n\t\tif(s[a-1]<0) f+=(s[a-1]*-1);\n\t\t//printf(\"\\n\");\n\t\tif(g>f) g=f;\n\t}\n\tprintf(\"%d\\n\",g);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V,S;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    S.push_back(p);\n  }\n  int res = 0;\n  int ans = 100000;\n\nfor(int j = 0; j < 2; j++){\n  V = S;\n  for(int i = j; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  if(j == 0 && S[0] > S[1]) res -= S[0] - S[1];\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n}\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,s1=0,s2=0;\n  cin>>n;\n  int a[n],b[n];\n  r(i,n)cin>>a[i];\n  r(i,n)b[i]=a[i];\n  if(a[0]>a[1])s1+=a[0]-a[1],a[0]=a[1];\n  for(int i=0;i<n-1;i++){\n    if(a[i]<=0)continue;\n    s1+=a[i]*2;\n    a[i+1]-=a[i];\n  }\n  if(a[n-1]<0)a[n-1]=0;\n\n  if(b[n-1]>b[n-2])s2+=b[n-1]-b[n-2],b[n-1]=b[n-2];\n  for(int i=n-1;i>0;i--){\n    if(b[i]<=0)continue;\n    s2+=b[i]*2;\n    b[i-1]-=b[i];\n  }\n  if(b[0]<0)b[0]=0;\n  cout<<min(s1+a[n-1],s2+b[0])<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <string>\n#include <stack>\n#include <cmath>\n#define ll long long\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\nusing namespace std;\n//\nconst int inf=1e9+7;\nconst int mod=1e9+7;\n//\nstruct poi{\n\tint X;int Y;int Z;\n\tbool operator<(const poi&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nll GCD(ll a,ll b){\n\treturn (b==0)?(a):(GCD(b,a%b));\n}\nll LCM(ll a,ll b){\n\treturn a/GCD(a,b)*b;\n}\n//\nint main(){\n\tint N;\n\tint P[5000];\n\tcin>>N;\n\tFOR(i,0,N){\n\t\tcin>>P[i];\n\t}\n\tint ret=0;\n\tFOR(i,0,N-1){\n\t\tret+=P[i];\n\t\tP[i+1]=max(0,P[i+1]-P[i]);\n\t}\n\tcout<<ret*2<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n int N;\n cin >> N;\n\n int p[5000];\n for(int i=0; i<N; i++){\n  cin >> p[i];\n }\n\n int min_sum = 20000;\n\n for(int  I=0; I<=p[0]; I++){\n  int q[5000];\n  for(int i=0; i<N; i++){\n   q[i] = p[i];\n  }\n\n  int sum = I;\n  q[0] -= I;\n\n  for(int i=0; i<=N-2; i++){\n   if(q[i]<=0) continue;\n   \n   sum += q[i]*2;\n   q[i+1] -= q[i];\n  }\n \n  if(q[N-1]>0){\n   sum += q[N-1];\n  }\n\n  min_sum = min(min_sum, sum);\n }\n\n cout << min_sum << endl;\n \n return 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    constexpr int inf = 1e9;\n\n    int n;\n    cin >> n;\n    vector<int> p(n);\n    for(int i = 0; i < n; ++i) {\n        cin >> p[i];\n    }\n    int ans = inf;\n    for(int l = 0; l <= p[0]; ++l) {\n        for(int r = 0; r <= p[n - 1]; ++r) {\n            int tans = l + r;\n            auto tp = p;\n            tp[0] -= l;\n            tp[n - 1] -= r;\n            for(int i = 0; i < n; ++i) {\n                int x = max(tp[i], 0);\n                tans += x * 2;\n                tp[i] -= x;\n                if(i + 1 < n) tp[i + 1] -= x;\n            }\n            ans = min(ans, tans);\n        }\n    }\n    cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define ary_sum(begin,end) \n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = *max_element(all(p));\n  int max = itr;\n\n  bool flag = true;\n  while(flag) {\n    flag = false;\n    rep(i,n){\n      if(p[i] && p[i + 1]){\n        p[i]--;\n        p[i + 1]--;\n        ans += 2;\n        flag = true;\n      }\n    }\n  }\n  ans += accumulate(all(p),0) * 2;\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int N;\n  cin>>N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int i=0;i<N;i++){\n      q[i]=p[i];\n    }\n\n    int sum=I;\n    q[0]-=I;\n\n    for(int i=0;i<N-2;i++){\n      if(q[i]<=0){\n        continue;\n      }\n      sum+=q[i]*2;\n      q[i+1]-=q[i];\n    }\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n    min_sum=min(min_sum,sum);\n  }\n  cout <<min_sum<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tint count = 0;\n\tint p[5000];\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin>>p[i];\n\t}\n\tint i = 0;\n\tint j = N-1;\n\twhile(1) {\n\t\tcount += p[i] * 2;\n\t\tp[i + 1] -= p[i];\n\t\ti++;\n\t\tif (i==N /2+1)\n\t\t\tbreak;\n\t\tcount += p[j] * 2;\n\t\tp[j - 1] -= p[j];\n\t\tj--;\n\t\t\n\t}\n\tcout << count << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }   \n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        std::cout << \n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int side_zeros = 0;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int current = 0;\n\n            if (current_section.size() == 1) {\n                if (current_section[0] == 0 && input[current_section[0]+1] == 0) {\n                    current += 1;\n                } else if (input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n            } else {\n                if (current_section[0] != 0 && input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n                if (current_section[1] != input_size - 1 && input[current_section[1]+1] == 0) {\n                    current += 1;\n                }\n            }\n            if (current == side_zeros) {\n                section = current_section;\n            }\n            if (current > side_zeros) {\n                side_zeros = current;\n                section = current_section;\n            }\n            if (current == 2) break;\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n#include <array>\n# include <cassert>\n#include <cctype>\n#include <climits>\n#include <numeric>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <tuple>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <bitset>\n# include <complex>\n# include <chrono>\n# include <random>\n# include <limits.h>\n# include <unordered_map>\n# include <unordered_set>\n# include <deque>\n# include <cstdio>\n# include <cstring>\n#include <stdio.h>\n#include<time.h>\n#include <stdlib.h>\n#include <cstdint>\n#include <cfenv>\n\n//#include <bits/stdc++.h>\nusing namespace std;\nusing LL = int;\nusing ULL = unsigned long long;\nlong long MOD = 1000000000 + 7;\nconstexpr long long INF = numeric_limits<LL>::max();\nconst double PI = acos(-1);\n#define fir first\n#define sec second\n#define thi third\n#define debug(x) cerr<<#x<<\": \"<<x<<'\\n'\ntypedef pair<LL, LL> Pll;\ntypedef pair<LL, pair<LL, LL>> Ppll;\ntypedef pair<LL, pair<LL, bitset<100001>>> Pbll;\ntypedef pair<LL, pair<LL, vector<LL>>> Pvll;\ntypedef pair<LL, LL> Vec2;\nstruct Tll { LL first, second, third; };\nstruct Fll { LL first, second, third, fourd; };\ntypedef pair<LL, Tll> Ptll;\n#define rep(i,rept) for(LL i=0;i<rept;i++)\n#define Mfor(i,mf) for(LL i=mf-1;i>=0;i--)\nLL h, w, n, m, k, t, s, q, last, cnt, sum, ans, dp[10000][4], a[2000000], b[2000000];\nstring str, ss;\nbool f[1100][1100];\nchar c;\nint di[4][2] = { { 0,1 },{ 1,0 },{ 0,-1 },{ -1,0 } };\nstruct Edge { LL to, cost; };\nvector<Edge>vec[200000];\nvector<LL>v;\nmap<Pll, LL>ma;\nset<LL>st;\nvoid YN(bool f) {\n\tif (f)\n\t\tcout << \"YES\" << endl;\n\telse\n\t\tcout << \"NO\" << endl;\n}\nvoid yn(bool f) {\n\tif (f)\n\t\tcout << \"Yes\" << endl;\n\telse\n\t\tcout << \"No\" << endl;\n}\nint main() {\n\tcin >> n;\n\trep(i, n)cin >> a[i];\n\trep(i,n) {\n\t\trep(j, 4) {\n\t\t\tdp[i][j] = INF;\n\t\t}\n\t}\n\trep(j ,4) {\n\t\tdp[0][j] = j;\n\t}\n\trep(i, n+1) {\n\t\trep(j, 4) {\n\t\t\trep(k, 4) {\n\t\t\t\tif (dp[i][j]!=INF) {\n\t\t\t\t\tif (j + k >= a[i])\n\t\t\t\t\t\tdp[i + 1][k] = min(dp[i][j] + k*2, dp[i + 1][k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tans = INF;\n\trep(j, 4)ans = min(ans,dp[n-1][j]+max(a[n-1]-j,0));\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &);\nint func(int,vector<int>);\nint main(){\n\tvector<int> cake;\n\tinput(cake);\n\tint ans = 100000;\n\tfor(int i=0;i<=cake[0];++i){\n\t\tans = func(i,cake);\n\t}\n\tcout<<min(func(true,cake),func(false,cake))<<endl;\n\treturn 0;\n}\n\nvoid input(vector<int> &line){\n\tint num;\n\tcin>>num;\n\tline.resize(num);\n\tfor(int i=0;i<num;++i){\n\t\tcin>>line[i];\n\t}\n}\n\nint func(int zerouse,vector<int> cake){\n\tint res=0;\n\tres=zerouse*2;\n\tcake[1]-=zerouse;\n\tcake[0]=zerouse;\n\tfor(int i=1;i<cake.size();++i){\n\t\tint num = max(0,cake[i-1]);\n\t\tfor(int j=-1;j<=1;++j){\n\t\t\tif(j+i<cake.size()){\n\t\t\t\tcake[i+j]-=num;\n\t\t\t\tres+=num;\n\t\t\t}\n\t\t}\n\t}\n\tres+=cake.back()*2;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <string>\n#include <stack>\n#include <cmath>\n#define ll long long\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\nusing namespace std;\n//\nconst int inf=1e9+7;\nconst int mod=1e9+7;\n//\nstruct poi{\n\tint X;int Y;int Z;\n\tbool operator<(const poi&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nll GCD(ll a,ll b){\n\treturn (b==0)?(a):(GCD(b,a%b));\n}\nll LCM(ll a,ll b){\n\treturn a/GCD(a,b)*b;\n}\n//\nint main(){\n\tint N;\n\tint P[5000];\n\tcin>>N;\n\tFOR(i,0,N){\n\t\tcin>>P[i];\n\t}\n\tint ret=0;\n\tFOR(i,1,N-2){\n\t\tret+=P[i];\n\t\tP[i+1]=max(0,P[i+1]-P[i]);\n\t}\n\tret+=max(P[N-2],0);\n\tcout<<ret*2+P[0]+P[N-1]<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tint n;\n\tcin >> n;\n\tint p[5000];\n\tfor( int i = 0; i < n; i++ )cin >> p[i];\n\tint ret = 0;\n\tfor( int i = 0; i < n; i++ )\n\t{\n\t\tret += ( p[i] > 0 ? p[i] : 0 ) * ( i != n - 1 ? 2 : 1 );\n\t\tif( i != n - 1 )p[i + 1] -= ( p[i] > 0 ? p[i] : 0 );\n\t}\n\tcout << ret << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(j+1==n-1) {\n\t\t\t\tif(pp[j]>=0&&pp[j+1]>0) sum+=pp[j]*2+(pp[j+1]-pp[j]);\n\t\t\t\telse if(pp[j]>=0) sum+=pp[j]*2;\n\t\t\t\tpp[j+1]=0;\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j+1]-=pp[j];\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int count=0;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  if(p[1]<=p[2]){\n    count +=p[1]*2;\n    p[2]-=p[1];\n    p[1]=0;\n  }else{\n    count+=p[1]+p[2];\n    p[2]=0;\n    p[1]=0;\n  }\n  if(p[n]<=p[n-1]){\n    count +=p[n]*2;\n    p[n-1]-=p[n];\n    p[n]=0;\n  }else{\n    count+=p[n]+p[n-1];\n    p[n-1]=0;\n    p[n]=0;\n  }\n  for(int i=2;i<n;i++){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n  cout <<count <<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int IINF = INT_MAX;\n#define REP(i, n) for (int i = 0; i < n; i++)\n\nint main() {\n    int n, p[5005], a[5005], ans = IINF;\n    cin >> n;\n    REP(i,n){\n        cin >> p[i];\n    }\n    for(int k=0;k<=p[0];k++){\n        int cnt = 0;\n        REP(i,n){\n            a[i] = p[i];\n        }\n        cnt += k;\n        a[0] -= k;\n        for(int i=0;i<n-1;i++){\n            cnt += a[i]*2;\n            a[i+1] = max(0, a[i+1]-a[i]);\n        }\n        cnt += a[n-1];\n        ans = min(ans, cnt);\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    // 3\n    FOR(i,1,n-1){\n      if(v[i] == 3){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //2\n    FOR(i,1,n-1){\n      if(v[i] == 2){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //1\n    FOR(i,1,n-1){\n      if(v[i] == 1){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n\n    FOR(i,1,n-1){\n      sum += v[i];\n    }\n    cout<<sum<<endl;\n\n\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int count=0;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  if(p[1]<=p[2]){\n    count +=p[1]*2;\n    p[2]-=p[1];\n    p[1]=0;\n  }else{\n    count+=p[1]+p[2];\n    p[2]=0;\n    p[1]=0;\n  }\n  if(p[n]<=p[n-1]){\n    count +=p[n]*2;\n    p[n-1]-=p[n];\n    p[n]=0;\n  }else{\n    count+=p[n]+p[n-1];\n    p[n-1]=0;\n    p[n]=0;\n  }\n  for(int i=2;i<=n/2;i++){\n    if((p[i-1]==0)&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i+1]-=p[i];\n      p[i]=0;\n      if(p[i+1]<0)p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>=n/2;i--){\n    if((p[i+1]==0)&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]-=p[i];\n      p[i]=0;\n      if(p[i-1]<0)p[i-1]=0;\n    }\n  }\n  for(int i=2;i<=n/2;i++){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>=n/2;i--){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n\n  cout <<count <<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,s1=0;\n  cin>>n;\n  int a[n];\n  r(i,n)cin>>a[i];\n  if(a[0]>a[1])s1+=a[0]-a[1],a[0]=a[1];\n  for(int i=0;i<n-1;i++){\n    if(a[i]<=0)continue;\n    s1+=a[i]*2;\n    a[i+1]-=a[i];\n  }\n  cout<<s1+a[n-1]<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn1=0;\n\n\tint q[5000];\n\tfor(int i=0;i<N;i++){\n\t\tq[i]=p[i];\n\t}\n\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[0]>0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tp[1]--;\n\t\t\t\t\tturn1+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn1++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[N-2]>0){\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tp[N-2]--;\n\t\t\t\t\tturn1+=2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn1+=2;\n\t\t\t}\n\t\t}\n\t}\n\n\tint turn2=0;\n\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[0]>0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn2++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[i]>0){\n\t\t\t\t\tp[i]--;\n\t\t\t\t\tturn2++;\n\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn2+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<min(turn1,turn2)<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,j,i,k;\n\tscanf(\"%d\",&a);\n\th=0;\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th+=s[i];\n\t}\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i!=1){\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1!=a-1){\n\t\t\t\t\tif(s[i-1]<=s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1==a-1){\n\t\t\t\t\tif(s[i-1]!=0){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i-1==0){\n\t\t\t\t\tif(s[i+1]!=0){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0;i<a;i++) h+=s[i]*-1;\n\tprintf(\"%d\\n\",h);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint min_sum=20000;\n\n\tfor(int I=0;I<=p[0];I++){\n\t\tint q[5000];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tcin>>q[i];\n\t\t}\n\t\t\n\t\tint sum=I;\n\t\tq[0]-=I;\n\t\t\t\n\t\tfor(int i=0;i<=N-2;i++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\t\t\n\t\t\tsum+=q[i]*2;\n\t\t\tq[i+1]-=q[i];\n\t\t}\n\n\t\tif(q[N-1]>0)\n\t\t\tsum+=q[N-1];\n\t\t\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i, a, b) for(int i = (a); i < (b); ++i)\n#define FORR(i, a, b) for(int i = (a); i > (b); --i)\n#define REP(i, n) for(int i = 0; i < (n); ++i)\n#define REPR(i, n) for(int i = n; i >= 0; i--)\n#define FOREACH(x, a) for(auto &(x) : (a))\n#define VECCIN(x)                                                              \\\n    for(auto &youso_ : (x)) cin >> youso_\n#define mp make_pair\n#define bitcnt __builtin_popcount\n#define All(a) (a).begin(), (a).end()\ntemplate <typename T = long long> inline T IN() {\n    T x;\n    cin >> x;\n    return (x);\n}\n// inline void CIN() {}\n// template <class Head, class... Tail>\n// inline void CIN(Head &&head, Tail &&... tail) {\n//     cin >> head;\n//     CIN(move(tail)...);\n// }\n// CIN(__VA_ARGS__)\n// CIN(__VA_ARGS__)\n// CIN(__VA_ARGS__)\n// #define Yes(a) cout << (a ? \"Yes\" : \"No\") << \"\\n\"\n// #define YES(a) cout << (a ? \"YES\" : \"NO\") << \"\\n\"\n\ntypedef long long ll;\ntypedef vector<int> V;\ntypedef vector<ll> VL;\ntypedef pair<int, int> P;\ntypedef pair<ll, ll> PL;\ntypedef priority_queue<int> PQ;\n// typedef priority_queue<int, V, greater<int>> PQG;\n\nconst int INF = 1e9;\nconst int MOD = 1e9 + 7;\nconst ll LINF = 1e18;\n\nll N;\nVL p;\n\nint main() {\n    cin >> N;\n    p.resize(N);\n    VECCIN(p);\n    int ans = 1e9;\n    for(int k = 0; k <= 3; ++k) {\n        int nans = k;\n        int from = k;\n        for(int i = 0; i < N; ++i) {\n            int plus = max(0, (int)p[i] - from);\n            nans += (i == N - 1 ? 1 : 2) * max(0, plus);\n            from = plus;\n        }\n        ans = min(ans, nans);\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,p[5000],q[5000],i,j,x,y=1e9;\nmain(){\n  for(cin>>n;i<n;)cin>>p[i++];\n  for(;j<=p[0];++j){\n    for(x=i=0;i<n;++i)q[i]=p[i];\n    q[0]-=j;\n    for(i=0;i<n-1;++i)x+=q[i]*2,q[i+1]=max(0,q[i+1]-q[i]);\n    y=min(y,x+q[n-1]+j);\n  }\n  cout<<y<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[j]=p[j];\n\t\t}\n\t\tint sum=i;\n\t\tq[0]-=i;\n\t\t\n\t\tfor(int j=0;j<N-2;j++){\n\t\t\tif(q[j]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[j]*2;\n\t\t\tq[j+1] -=q[j];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,i,j;\n\tf=0;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++) scanf(\"%d\",&s[i]);\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i==1){\n\t\t\t\t\tif(s[i+1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==a-2){\n\t\t\t\t\tif(s[i-1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(s[i-1]>=s[i+1]){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) f+=s[0];\n\tif(s[a-1]>0) f+=s[a-1];\n\tprintf(\"%d\\n\",f);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n;\n  cin >> n;\n  int a[n];\n  for(int i=0;i<n;i++) cin >> a[i];\n  int ans=1<<29;\n  for(int j=0;j<a[0]+1;j++) {\n    int c[n],x=j;\n    for(int i=0;i<n;i++) c[i]=a[i];\n    c[0]-=j;\n    for(int i=0;i<n-1;i++) {\n      int y=max(0,c[i]);\n      c[i]-=y;\n      c[i+1]-=y;\n      x+=y*2;\n    }\n    ans=min(ans,x+max(0,c[n-1]));\n  }\n  cout << ans << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i, n) for (int i = 0; i < (n); i++)\n#define FOR(i, init, n) for(int i = init; i < (n); i++)\n#define ALL(obj) (obj).begin(), (obj).end()\n\nusing namespace std;\nusing ll = long long int;\nusing P = pair<int, int>;\nusing T = tuple<int, int, int>;\nusing edge = struct\n{\n    int to, cost;\n};\n\nconst int MOD = 1e9 + 7;\nconst int iINF = 1e9;\nconst long long int llINF = 1e18;\nconst double PI = acos(-1.0);\n\nconst int dx[4] = {1, 0, -1, 0};\nconst int dy[4] = {0, 1, 0, -1};\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int N;\n    cin >> N;\n    vector<int> p(N);\n\n    REP(i, N) cin >> p[i];\n\n    ll ans = 0;\n\n    REP(i, N - 1)\n    {        \n        if(0 < p[i])\n        {\n            ans += 2 * p[i];    \n            p[i + 1] -= p[i];                    \n            p[i] = 0;\n        }\n    }\n\n    cout << ans + (p[N - 1] <= 0 ? 0 : p[N - 1] * 2) << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      ans += p[i];\n      break;\n    }\n    if(p[i]) ans += p[i] * 2;\n    p[i + 1] = max(p[i + 1] - p[i], 0);\n    p[i] = 0;\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000];\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  p[0]++;\n  rep(i, 0, p[0] + 1) {\n    int s = 0;\n    p[0]--;\n    ans = min(ans, solve(p));\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REAP(i,a,n) for(int i=(a);i<(n);i++)\n#define YES cout<<\"Yes\"<<endl\n#define NO cout<<\"No\"<<endl\n#define fr first\n#define sc second\n#define pb push_back\n#define All(v) v.begin(),v.end()\ntypedef long long ll;\n\nint main(){\n    ios::sync_with_stdio(false);\n    int n;\n    cin >> n;\n    vector<int> p(n+1);\n    REP(i,n)cin >> p[i];\n    int sum=0;\n    for(int i=0;i<n;i++){\n        if(i==0){\n            if(p[0]>p[1]){\n                sum+=p[0]-p[1];\n                sum+=p[1]*2;\n                p[0]=p[1]=0;\n            }else{\n                sum+=2*(p[0]);\n                p[1]-=p[0];\n                p[0]=0;\n            }\n        }else if(i==n-1){\n            if(p[i]>0){\n                sum+=p[i];\n                p[i]=0;\n            }\n        }else if(p[i]>0){\n            sum+=p[i]*2;\n            p[i+1]-=p[i];\n            p[i]=0;\n        }\n//        REP(i,n)cout << p[i]<<(i!=n-1?\" \":\"\\n\");\n    }\n    cout << sum << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long ll;\ntypedef long double ld;\nconst int INF=1e9,MOD=1e9+7,ohara=1e6+10;\nconst ll LINF=1e18;\nusing namespace std;\n\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);(i)++)\n#define rrep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrrep(i,a,b) for(int i=(a);i>=(b);i--)\n#define all(v) (v).begin(), (v).end()\n#define Size(n) (n).size()\n#define Cout(x) cout<<(x)<<endl\n#define doublecout(a) cout<<fixed<<setprecision(15)<<a<<endl;\n#define Cerr(x) cerr<<(x)<<endl\n#define fi first\n#define se second\n#define P pair<ll,ll> \n#define m_p make_pair\n#define V vector<ll> \n\nll n,cnt,ans=LINF,a[ohara],b,c,d,tmp,tmpp,m,h,w,x,y,sum,pos,k;\nld doua;\nint dy[]={1,0,-1,0};\nint dx[]={0,1,0,-1};\n//int dy[]={-1,0,1,-1,1,-1,0,1};\n//int dx[]={-1,-1,-1,0,0,1,1,1};\nstring alph(\"abcdefghijklmnopqrstuvwxyz\"),s;\nbool fl;\nstruct edge{int to,cost;};\nll cop[ohara];\n\n//-------------------------↓↓↓↓↓↓------------------------\n\nint main(void){\n       cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    cin>>n;\n    rep(i,n)cin>>a[i];\n    rep(i,n)cop[i]=a[i];\n    rep(i,cop[0]+1){\n        cnt=i;\n        rep(j,n)a[j]=cop[j];\n        a[0]-=cnt;\n        rep(j,n-1){\n            if(a[j]<=0)continue;\n            cnt+=a[j]*2;\n            a[j+1]-=a[j];\n            a[j]=0;\n            if(a[j+1]<0)a[j+1]=0;\n        }\n        ans=min(ans,cnt+a[n-1]);\n    }\n    Cout(ans);\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    cin >> n;\n    vector<int> v(n);\n    for (auto &&i : v) scanf(\"%d\", &i);\n    int an = INF<int>;\n    for (int i = 0; i <= v[0]; ++i) {\n        auto a = v;\n        a[0] -= i;\n        int ans = i;\n        for (int j = 0; j+1 < n; ++j) {\n            ans += max(0, a[j])*2;\n            a[j+1] -= max(0, a[j]);\n        }\n        ans += max(0, a.back());\n        an = min(an, ans);\n    }\n    cout << an << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main() {\n\tint n, ans = 20000;\n\tcin >> n;\n\tint p[5000], q[5000];\n\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t\tq[i] = p[i];\n\t}//??\\?????¨\n\n\tfor (int j = 0; j < 4; j++) {\n\t\tint counti = 0;//???????????´??§????????????\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tp[i] = q[i];\n\t\tp[0] -= j;//????????????????????????????????????\n\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t}\n\t\tif (p[n - 1] < 0)\n\t\t\tp[n - 1] = 0;\n\t\tif (ans > counti + p[n - 1] + j)\n\t\t\tans = counti + p[n - 1] + j;//a[n-1]?????????????\\\\??????????????£????????????????????°j??????????????????????????????????????????\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <bitset>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n#include <complex>\n#include <string.h>\n#include <numeric>\nusing namespace std;\n\n//#define int long long\n#define reps(i,s,n) for(int (i)=(s);(i)<(n);++(i))\n#define rep(i,n) reps(i,0,n)\n#define rept(i,n) rep(i,(n)+1)\n#define repst(i,s,n) reps(i,s,(n)+1)\n#define reprt(i,n,t) for(int (i)=(n);(i)>=(t);--(i))\n#define repr(i,n) reprt(i,n,0)\n#define each(itr,v) for(auto &(itr):(v))\n#define all(c) (c).begin(),(c).end()\n#define rall(c) (c).rbegin(),(c).rend()\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define tmax(x,y,z) max(x,max(y,z))\n#define tmin(x,y,z) min(x,min(y,z))\n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\n#define ln '\\n'\n#define bln(i,n) (((i)==(n)-1)?'\\n':' ')\n#define dbg(x) cout<<#x\" = \"<<(x)<<ln<<flush\n#define dbga(x,n) {cout<<#x\" : \";for(int (i)=0;i<(n);++i){cout<<((x)[i])<<(i==((n)-1)?'\\n':' ')<<flush;}}\n#define zero(a) memset(a,0,sizeof(a))\n#define unq(a) sort(all(a)),a.erase(unique(all(a)),a.end())\n\n//typedef complex<double> P;\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<string> vst;\ntypedef vector<pii> vpii;\ntypedef vector<pll> vpll;\ntypedef vector<vector<int> > mat;\n\nconst ll inf = (ll)1e9+10;\nconst ll linf = (ll)1e18+10;\nconst ll mod = (ll)(1e9+7);\nconst int dx[] = {0, 1, 0, -1};\nconst int dy[] = {1, 0, -1, 0};\nconst int ddx[] = {0, 1, 1, 1, 0, -1, -1, -1};\nconst int ddy[] = {1, 1, 0, -1, -1, -1, 0, 1};\nconst double eps = 1e-10;\n\nll mop(ll a,ll b,ll m=mod) {ll r=1;a%=m;for(;b;b>>=1){if(b&1)r=r*a%m;a=a*a%m;}return r;}\nll gcd(ll a,ll b) {return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b) {return a*b/gcd(a,b);}\nbool ool(int x,int y,int h,int w) {return((x<0)||(h<=x)||(y<0)||(w<=y));}\nbool deq(double a,double b) {return abs(a-b)<eps;}\n\nstruct oreno_initializer {\n\toreno_initializer() {\n\t\tcin.tie(0);\n\t\tios::sync_with_stdio(0);\n\t}\n} oreno_initializer;\n\n\n\n// dp[i][j][k]: i番目までを焼き終わり、直前ではk回ひっくり返したようなときの裏返し回数の最小値\nint n, p[5050], dp[5050][4];\n\nsigned main() {\n\tcin >> n;\n\trep(i,n) cin >> p[i];\n\tn++;\n\trep(i,5050) rep(j,4) dp[i][j] = 1<<30;\n\tdp[0][0] = 0;\n\trep(i,n) rep(j,4) {\n\t\tint mn = max(0, (i==0 ? 0 : p[i-1]-j));\n\t\treps(k,mn,4) chmin(dp[i+1][k], dp[i][j] + k*(i==0 || i==n-1 ? 1 : 2));\n\t}\n\tcout << *min_element(dp[n],dp[n]+4) << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[i]=p[i];\n\t\t}\n\t\tint sum=i;\n\t\tq[0]-=i;\n\t\t\n\t\tfor(int j=0;j<N-2;j++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[i]*2;\n\t\t\tq[i+1] -=q[i];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\n#if defined(DEBUG)\n#define debug std::cerr\n#else\n#define debug std::cerr.setstate(std::ios_base::badbit); std::cerr\n#endif\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        debug << \"All value is zero.\" << std::endl;\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    debug << \"[!] Found \" << sections.size() << \" sections\" << std::endl;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // show state\n    debug << \"[!] Found \" << sections_zero_scored.size() << \" sections that has least zero\" << std::endl;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    debug << \"[!] Found \" << sections_scored_component.size() << \" sections that has maximum components\" << std::endl;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }   \n\n    debug << \"[!] Found \" << sections_scored_difficulty.size() << \" sections with harder difficulty\" << std::endl;\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    debug << \"[!] Found \" << sections_scored_distance.size() << \" sections with longer distance from start or end\" << std::endl;\n    for (auto iterator = sections_scored_distance.begin(); iterator != sections_scored_distance.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    debug << std::endl;\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        debug << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int side_zeros = 0;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int current = 0;\n            if (current_section.size() == 1) {\n                if (current_section[0] == 0 && input[current_section[0]+1] == 0) {\n                    current += 1;\n                } else if (input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n            } else {\n                if (current_section[0] != 0 && input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n                if (current_section[1] != input_size - 1 && input[current_section[1]+1] == 0) {\n                    current += 1;\n                }\n            }\n            if (current > side_zeros) {\n                side_zeros = current;\n                section = current_section;\n            }\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn1=0;\n\n\tint q[5000];\n\tfor(int i=0;i<N;i++){\n\t\tq[i]=p[i];\n\t}\n\n\tfor(int i=0;i<N;i++){\n\t\twhile(q[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(q[0]>0){\n\t\t\t\t\tq[0]--;\n\t\t\t\t\tq[1]--;\n\t\t\t\t\tturn1+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tq[0]--;\n\t\t\t\t\tturn1++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(q[N-2]>0){\n\t\t\t\t\tq[N-1]--;\n\t\t\t\t\tq[N-2]--;\n\t\t\t\t\tturn1+=2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tq[i]--;\n\t\t\t\tq[i+1]--;\n\t\t\t\tturn1+=2;\n\t\t\t}\n\t\t}\n\t}\n\n\tint turn2=0;\n\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[0]>0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn2++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[i]>0){\n\t\t\t\t\tp[i]--;\n\t\t\t\t\tturn2++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn2+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<min(turn1,turn2)<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);(i) <= (e);(i)++)\n#define all(x) x.begin(),x.end()\n\nint N;\n\nvector<int> p;\n\nint calc(){\n  int cnt = 0;\n  vector<int> P = p;\n  for(int i = 0;i < N - 1;i++){\n    cnt += P[i];\n    P[i + 1] = max(0,P[i + 1] - P[i]);\n  }\n  return cnt * 2 + P[N - 1];\n}\n\nint main(){\n  cin >> N;\n  p.resize(N);\n  rep(i,0,N - 1) cin >> p[i];\n  int ans = calc();\n  int before = p[0];\n  rep(i,0,p[0]){\n    p[0] = i;\n    ans = min(ans , calc() + before - i);\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main()\n{\n    int N;\n    cin>>N;\n    int p[5000];\n    for(int i=0; i<N; i++)\n    {\n        cin>>p[i];\n    }\n    int min_sum =20000;\n    for(int I=0;I<=p[0];I++)\n    {\n        int q[5000];\n        for(int i=0;i<N;i++)\n        {\n            q[i] = p[i];\n        }\n        int sum = I;\n        q[0]-= I;\n        for(int i=0;i<=N-2;i++)\n        {\n            if(q[i]<=0)\n            continue;\n\n            sum += q[i]*2;\n            q[i+1]-=q[i];\n        }\n        if(q[N-1]>0)\n        {\n            sum +=q[N-1];\n        }\n        min_sum = min(min_sum,sum);\n    }\n    cout<<min_sum<<endl;\n    return 0;\n\n\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n\n    int a[n], b[n];\n    for(int i = 0; i < n; i++){\n        cin >> a[i];\n        b[i] = a[i];\n    }\n\n    int forward = 0;\n    if(a[0] < a[1]){\n        forward = 2*a[0];\n        a[1] -= a[0];\n        a[0] = 0;\n    }else{\n        forward = a[0];\n        a[0] = 0;\n    }\n\n    for(int i = 1; i < n-1; i++){\n        if(a[i] == 0)   continue;\n\n        forward += 2 * a[i];\n        a[i+1] = max(0, a[i+1]-a[i]);\n        a[i] = 0;\n    }\n    forward += a[n-1];\n\n    int backward = 0;\n    if(b[n-1] < b[n-2]){\n        backward = 2*b[n-1];\n        b[n-2] -= b[n-1];\n        b[n-1] = 0;\n    }else{\n        backward = b[n-1];\n        b[n-1] = 0;\n    }\n\n    for(int i = n-2; i > 0; i--){\n        if(b[i] == 0)   continue;\n\n        backward += 2 * b[i];\n        b[i-1] = max(0, b[i-1]-b[i]);\n        b[i] = 0;\n    }\n    backward += b[0];\n\n    cout << min(forward, backward) << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <array>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <clocale>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <ctime>\n#include <deque>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <iterator>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <regex>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <tuple>\n#include <unordered_map>\n#include <unordered_set>\n#include <utility>\n#include <vector>\n\nconst int MOD = 1000000007; \nconst int INF = 1000000000; //1e9\nconst int NIL = -1;\nconst long long LINF = 1000000000000000000; // 1e18\nconst long double EPS = 1E-10;\n\ntemplate<class T, class S> inline bool chmax(T &a, const S &b){\n    if(a < b){\n        a = b; return true;\n    }\n    return false;\n}\ntemplate<class T, class S> inline bool chmin(T &a, const S &b){\n    if(b < a){\n        a = b; return true;\n    }\n    return false;\n}\n\n\n\n\nint main(){\n    int N; std::cin >> N;\n    std::vector<std::vector<int>> p(4, std::vector<int>(N));\n    for(int i(0); i < N; ++i){\n        std::cin >> p[0][i];\n        for(int j(1); j < 4; ++j)\n            p[j][i] = p[0][i];\n    }\n    int ans(INF);\n    for(int lt(0); lt < 4; ++lt){//左端をlt回\n        if(p[lt][0] < lt) continue;\n        int cnt(lt);\n        p[lt][0] -= lt;\n        for(int i(0), i_len(N-1); i < i_len; ++i){\n            int mx(std::max(p[lt][i], 0));\n            cnt += 2 * mx;\n            p[lt][i+1] -= mx;\n        }\n        cnt += std::max(p[lt][N-1], 0);\n        chmin(ans, cnt);\n    }\n    std::cout << ans << std::endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        int value = input[index];\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        std::cerr << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n        auto section = (*section_map.begin()).second;\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int remnum = std::min(input[section[0]], input[section[1]]);\n        cnt += remnum * 2;\n        input[section[0]] -= remnum;\n        input[section[1]] -= remnum;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n\n  int n,p[5000],now[5000],i,result=10000000,log=0;\n\n  cin>>n;\n\n  for(i=0;i<n;i++) cin>>p[i];\n\n  for(i=0;i<=p[0];i++){\n    log=0;\n    for(int j=0;j<n;j++) now[j]=p[j];\n    now[0]-=i;\n    log+=i;\n    for(int j=0;j<n-1;j++){\n      log+=now[j]*2;\n      now[j+1]-=now[j];\n      now[j]=0;\n      if(now[j+1]<0) now[j+1]=0;\n    }\n    log+=now[n-1];\n    result=min(result,log);\n  }\n\n  cout<<result<<endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int count=0;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  if(p[1]<=p[2]){\n    count +=p[1]*2;\n    p[2]-=p[1];\n    p[1]=0;\n  }else{\n    count+=p[1]+p[2];\n    p[2]=0;\n    p[1]=0;\n  }\n  if(p[n]<=p[n-1]){\n    count +=p[n]*2;\n    p[n-1]-=p[n];\n    p[n]=0;\n  }else{\n    count+=p[n]+p[n-1];\n    p[n-1]=0;\n    p[n]=0;\n  }\n  for(int i=2;i<n/2;i++){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>n/2;i--){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n\n  cout <<count <<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint process(int n,int p[]){\n    int cou=0;\n    if(p[0]!=0&&p[1]==0){\n        while (p[0]!=0) {\n            cou++;\n            p[0]--;\n        }\n    }\n    \n    for (int i=0; i<n-1; i++) {\n        while (p[i]!=0) {\n            cou+=2;\n            p[i]--;\n            p[i+1]--;\n        }\n    }\n    \n    if(p[n-1]!=0){\n        while (p[n-1]!=0) {\n            cou++;\n            p[n-1]--;\n        }\n    }\n    return cou;\n}\n\nint Input(int n,int p[]){\n    for (int i=0; i<n; i++) {\n        cin>>p[i];\n    }\n    return process(n,p);\n}\n\nint main(){\n    int n;\n    int p[5000];\n    cin>>n;\n    int ans=Input(n,p);\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\nconst int inf = 1012345678;\nint n, a[5005], dp[5005][4];\nint main() {\n\tcin >> n;\n\tfor (int i = 0; i < n; ++i) {\n\t\tcin >> a[i];\n\t}\n\tfor (int i = 0; i <= a[0]; ++i) {\n\t\tdp[0][i] = i;\n\t}\n\tfor (int i = 1; i < n; ++i) {\n\t\tfor (int j = 0; j <= a[i]; ++j) {\n\t\t\tdp[i][j] = inf;\n\t\t\tfor (int k = 0; k <= a[i - 1]; ++k) {\n\t\t\t\tif (a[i - 1] - k - j <= 0) {\n\t\t\t\t\tdp[i][j] = min(dp[i][j], dp[i - 1][k] + 2 * j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tint ret = inf;\n\tfor (int i = 0; i <= a[n - 1]; ++i) {\n\t\tret = min(ret, dp[n - 1][i] + (a[n - 1] - i));\n\t}\n\tcout << ret << '\\n';\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n    int p[n];\n    for(int i = 0; i < n; i++){\n        cin >> p[i];\n    }\n    \n    int count = 0;\n    for(int i = 0; i < n-1; i++){\n        int m = min(p[i], p[i+1]);\n        count += 2*m;\n        p[i] -= m;\n        p[i+1] -= m;\n        count += 2*p[i];\n    }\n    count -= p[0];\n    count += p[n-1];\n    \n    cout << count << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod (ll)(1e9+7)\n#define int ll\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\n\nsigned main() {\n  int n, p[5001], kp[5001];\n  cin >> n;\n\n  rep(i, 0, n) cin >> p[i], kp[i] = p[i];\n\n  int ans = 0;\n  if(p[0] > p[1]) ans += p[0] - p[1], p[0] = p[1];\n  rep(i, 0, n - 1) {\n    if(p[i] >= 0) {\n      ans += p[i] * 2;\n      p[i + 1] -= p[i];\n    }\n  }\n  if(p[n - 1] >= 0) ans += p[n - 1];\n\n  int ans2 = 0;\n  ans2 += kp[0];\n  rep(i, 1, n - 1) {\n    if(kp[i] >= 0) {\n      ans2 += kp[i] * 2;\n      kp[i + 1] -= kp[i];\n    }\n  }\n  if(kp[n - 1] >= 0) ans2 += kp[n - 1];\n\n  cout << min(ans, ans2) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    vector<int> p(n);\n    for (int i = 0; i < n; ++i) {\n        cin>>p[i];\n    }\n    int ans=numeric_limits<int>::max();\n    for (int l = 0; l <= p[0]; ++l) {\n        vector<int> tp=p;\n        tp[0]-=l;\n        int tans=l;\n        for (int i = 0; i < n-1; ++i) {\n            if(tp[i]>0){\n                tans+=tp[i]*2;\n                tp[i+1]-=tp[i];\n            }\n        }\n        if(tp.back()>0)tans+=tp.back();\n        ans=min(ans,tans);\n    }\n    for (int r = 0; r <= p.back(); ++r) {\n        vector<int> tp=p;\n        tp.back()-=r;\n        int tans=r;\n        for (int i = n-1; i > 0; --i) {\n            if(tp[i]>0){\n                tans+=tp[i]*2;\n                tp[i-1]-=tp[i];\n            }\n        }\n        if(tp.front()>0)tans+=tp.front();\n        ans=min(ans,tans);\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int mincount=100000;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  for(int k=0;k<=p[1];k++){\n    int count=0;\n    int c[n+1];\n    for(int i=1;i<=n;i++){\n      c[i]=p[i];\n    }\n    c[1]-=k;\n    count+=k;\n    for(int i=1;i<=n-1;i++){\n      if(c[i]<=0){\n        continue;\n      }\n      count+=c[i]*2;\n      c[i+1]-=c[i];\n    }\n    if(c[n]>0){\n      count+=c[n];\n    }\n    mincount=min(count,mincount);\n  }\n\n\n  cout <<mincount <<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5000],d,f=0,g,h[5000],i,j,z;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\tf+=s[i];\n\t\th[i]=s[i];\n\t}\n\tz=f;\n\td=s[0];\n\tg=210000000;\n\tfor(i=0;i<=d;i++){\n\t\tf=z;\n\t\ts[0]=i;\n\t\tfor(j=1;j<a;j++) s[j]=h[j];\n\t\tfor(j=0;j<a-1;j++){\n\t\t\tif(s[j]>0){\n\t\t\t\ts[j+1]-=s[j];\n\t\t\t\ts[j]=0;\n\t\t\t}\n\t\t\telse f+=(s[j]*-1);\n\t\t//printf(\"%d\\n\",s[j]);\n\t\t}\n\t\t//printf(\"%d\\n\",s[a-1]);\n\t\tif(s[a-1]>0) f+=s[a-1];\n\t\tif(s[a-1]<0) f+=(s[a-1]*-1);\n\t\t//printf(\"\\n\");\n\t\tif(g>f) g=f;\n\t}\n\tprintf(\"%d\\n\",g);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\nint main(){\n    int n,p[1000],i,count;\n    scanf(\"%d\",&n);\n    for(i=1;i<=n;i++){\n        scanf(\"%d\"&p[i]);\n    }\n    count=0;\n    for(i=1;i<=n;i++){\n        if(p[i]!=0 && p[i+1]!=0 && p[i+1]>p[i]){\n            count=count+p[i+1];\n        }\n        if(p[i]!=0 && p[i+1]!=0 && p[i]>p[i+1]){\n            count=count+p[i];\n        }\n        if(p[i]!=0 && p[i+1]==0){\n            count=count+p[i];\n        }\n        if(p[i]==0 && p[i+1]!=0){\n            count=count+p[i];\n        }\n    }\n    printf(\"%d\",count);\n\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[5001],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]<p[i]){\n\t\t\t\tcnt+=p[i+1]*2; p[i]-=p[i+1]; p[i+1]-=p[i+1];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if(i==n-1){\n\t\t\t\tcnt+=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcnt+=p[i]*2; p[i+1]-=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\t//printf(\"%d %d\\n\",p[i],p[i+1]);\n\t\t\t//printf(\"%d\\n\",cnt);\n\t\t}\n\t}\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tif(p[0]!=0) cnt+=p[0];\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[i]=p[i];\n\t\t}\n\t\tint sum=j;\n\t\tq[0]-=j;\n\t\t\n\t\tfor(int j=0;j<N-2;j++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[i]*2;\n\t\t\tq[i+1] -=q[i];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n,ans=0,t=10000000;\n  cin >> n;\n  vector<int> a(n),b(n);\n  for (int i=0;i<n;i++){\n      cin >> a.at(i);\n      b.at(i)=a.at(i);\n  }\n  for (int j=0;j<4;j++){\n      for (int i=0;i<n;i++){\n          a.at(i)=b.at(i);\n      }\n      ans=0;\n  ans=ans+j;\n  a.at(0)=a.at(0)-j;\n  for (int i=0;i<n-1;i++){\n      if (a.at(i)>0) {\n          ans=ans+a.at(i)*2;\n          a.at(i+1)-=a.at(i);\n      }\n  }\n  if (a.at(n-1)>0) ans=ans+a.at(n-1);\n  t=min(t,ans);\n  }\n  cout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "// 2017/07/18 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\tint sum1 = 0;\n\n\tint p[5000];\n\tfor(int i=0; i<N; i++){\n\t\tcin >> p[i];\n\t\tsum1 += p[i];\n\t}\n\n\tfor(int P=3; P>0; P--){\n\t\tfor(int i=1; i<=N-2; i++){\n\t\t\tif(p[i]==P){\n\t\t\t\tp[i]--;\n\t\t\t\tif(p[i-1]>=p[i+1]){\n\t\t\t\t\tp[i-1]--;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[i+1]--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(p[0]==P){\n\t\t\tp[0]--;\n\t\t\tif(p[1]>0){\n\t\t\t\tp[1]--;\n\t\t\t}\n\t\t}\n\t\tif(p[N-1]==P){\n\t\t\tp[N-1]--;\n\t\t\tif(p[N-2]>0){\n\t\t\t\tp[N-2]--;\n\t\t\t}\n\t\t}\n\t}\n\n\tint sum2 = 0;\n\n\tfor(int i=0; i<N; i++){\n\t\tsum2 += p[i];\n\t}\n\n\tcout << sum1-sum2 << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n        while(p[i]>0){\n\t\t\tx+=p[i];\n\t\t\tp[i+1]-=p[i];\n\t}\n        }\n\tif(p[n]>0){\n\t\tx+=p[n];\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <fstream>\n#include <functional>\n#include <bitset>\n#define chmin(a, b) ((a) = min((a), (b)))\n#define chmax(a, b) ((a) = max((a), (b)))\n#define fs first\n#define sc second\n#define eb emplace_back\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> T;\n\nconst ll MOD = 1e9 + 7;\nconst ll INF = 1e18;\nconst double pi = acos(-1);\nconst double eps = 1e-10;\n\nint dx[] = {1, 0, -1, 0};\nint dy[] = {0, -1, 0, 1};\n\nint main(){\n    int n; cin>>n;\n    vector<int> p(n);\n    for(int i=0; i<n; i++) cin>>p[i];\n\n    int ans = 1e9;\n    for(int i=0; i<=p[0]; i++){\n        auto cp = p;\n        int sum = i;\n        cp[0] -= i;\n        for(int j=0; j+1<n; j++){\n            while(0 < cp[j]){\n                cp[j]--;\n                cp[j+1]--;\n                sum += 2;\n            }\n        }\n\n        sum += max(0, cp[n-1]);\n\n        ans = min(ans, sum);\n    }\n\n    cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <tuple>\n# include <unordered_map>\n# include <numeric>\n# include <complex>\n# include <bitset>\n# include <random>\n# include <chrono>\n# include <cstdlib>\n# include <tuple>\n# include <array>\nusing namespace std;\nusing LL = long long;\nusing ULL = unsigned long long;\nusing D = double;\nconstexpr int INF = 2147483647;\nconstexpr int HINF = INF / 2;\nconstexpr double DINF = 100000000000000000.0;\nconstexpr double HDINF = 50000000000000000.0;\nconstexpr long long LINF = 9223372036854775807;\nconstexpr long long HLINF = 4500000000000000000;\nconst double PI = acos(-1);\ntemplate <typename T_char>T_char TL(T_char cX) { return tolower(cX); };\ntemplate <typename T_char>T_char TU(T_char cX) { return toupper(cX); };\ntypedef pair<LL, LL> pii;\nconst int vy[] = { -1, -1, -1, 0, 1, 1, 1, 0 }, vx[] = { -1, 0, 1, 1, 1, 0, -1, -1 };\nconst int dx[4] = { 0,1,0,-1 }, dy[4] = { 1,0,-1,0 };\nint popcnt(unsigned long long n) { int cnt = 0; for (int i = 0; i < 64; i++)if ((n >> i) & 1)cnt++; return cnt; }\nint d_sum(LL n) { int ret = 0; while (n > 0) { ret += n % 10; n /= 10; }return ret; }\nint d_num(LL n) { int ret = 0; while (n > 0) { ret++; n /= 10; }return ret; }\nLL gcd(LL a, LL b) { if (b == 0)return a; return gcd(b, a%b); };\nLL lcm(LL a, LL b) { LL g = gcd(a, b); return a / g*b; };\n# define ALL(qpqpq)           (qpqpq).begin(),(qpqpq).end()\n# define RALL(qpqpq)           (qpqpq).rbegin(),(qpqpq).rend()\n# define UNIQUE(wpwpw)        sort(ALL((wpwpw)));(wpwpw).erase(unique(ALL((wpwpw))),(wpwpw).end())\n# define LOWER(epepe)         transform(ALL((epepe)),(epepe).begin(),TL<char>)\n# define UPPER(rprpr)         transform(ALL((rprpr)),(rprpr).begin(),TU<char>)\n# define FOR(i,tptpt,ypypy)   for(LL i=(tptpt);i<(ypypy);i++)\n# define RFOR(i,tptpt,ypypy)  for(LL i=(tptpt);i>=(ypypy);i--)\n# define REP(i,upupu)         FOR(i,0,upupu)\n# define INIT                 std::ios::sync_with_stdio(false);std::cin.tie(0)\n\nint n, a[101010], ans = INF;\nint b[101010];\nint main() {\n\tcin >> n;\n\tREP(i, n) {\n\t\tcin >> a[i];\n\t}\n\tfor (int i = 0; i <= a[0]; i++) {\n\t\tint cnt = i;\n\t\tREP(j, n)b[j] = a[j];\n\t\tb[0] -= i;\n\t\tREP(j, n - 1) {\n\t\t\tcnt += b[j] * 2;\n\t\t\tb[j + 1] = max(0, b[j + 1] - b[j]);\n\t\t}\n\t\tcnt += b[n - 1];\n\t\tans = min(cnt, ans);\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#include<bits/stdc++.h>\n#include<iostream>\n#include <vector>\n#include <cstdio>\n#include<algorithm>\n#include <utility>\nusing namespace std;\nint n, p[10000];\nint Rside();\nint Lside();\nint center();\nint main() {\n\tint count = 0;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t}\n\tif (p[n - 2] < p[n - 1]) {\n\t\tcount += Rside();\n\t}\n\tif (p[0] > p[1]) {\n\t\tcount += Lside();\n\t}\n\tfor (int i = 0; i < n - 1; i++) {\n\t\tif (i == 0 && p[i] == 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (i >= n - 2) {\n\t\t\tif (p[n - 2] <= p[n - 1]) {\n\t\t\t\tcount += p[n - 1] * 2;\n\t\t\t\tp[n - 1] = 0;\n\t\t\t\tp[n - 2] = 0;\n\t\t\t}\n\t\t\telse if (p[n - 2] > p[n - 1]) {\n\t\t\t\tcount += p[n - 2] * 2;\n\t\t\t\tp[n - 1] = 0;\n\t\t\t\tp[n - 2] = 0;\n\t\t\t}\n\n\t\t}\n\t\telse {\n\t\t\tcount += p[i] * 2;\n\t\t\t//cout << \"center :\" << p[i] * 2 << endl;\n\t\t\tif (p[i] <= p[i + 1]) {\n\t\t\t\tp[i + 1] -= p[i];\n\t\t\t\tp[i] = 0;\n\t\t\t\t//5 2 5 6 5\n\t\t\t}\n\t\t\telse if (p[i] > p[i + 1]) {\n\t\t\t\tp[i] = 0;\n\t\t\t\tp[i + 1] = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (p[n - 1] > 0) {\n\t\tcount += p[n - 1];\n\t\tp[n - 1] = 0;\n\t}\n\t//for (int i = 0; i < n; i++) {\n\t//\tcout << p[i] << \" \";\n\t//}cout << endl;\n\tcout << count << endl;\n\t//8 5 3 7 5 = 10+3+6+10\n\t//8 5 3 5 7 = 12+13+6\n\treturn 0;\n}\nint Rside() {\n\tint res = 0;\n\tres += p[n - 2] * 2;\n\tp[n - 1] -= p[n - 2];\n\tp[n - 2] = 0;\n\tres += p[n - 1];\n\tp[n - 1] = 0;\n\t//cout << \"R :\" << res << endl;\n\treturn res;\n}\nint Lside() {\n\tint res = 0;\n\tres += p[1] * 2;\n\tp[0] -= p[1];\n\tp[1] = 0;\n\tres += p[0];\n\tp[0] = 0;\n\t//cout << \"L :\" << res << endl;\n\treturn res;\n}\nint center() {\n\tint res = 0;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\nint a[5000];\nint  main(){\n  int n;\n  cin>>n;\n  lp(i,n){\n    cin>>a[i];\n  }\n  int count=0,check=0;\n  while(1){\n    check=0;\n    for(int i=2;i<n-1;i++){\n      if(a[i]>0&&a[i-1]>0){\n\tcount++;\n\ta[i]--;\n\ta[i-1]--;\n\tcheck=1;\n      }\n    }\n    if(check==0) break;\n  }\n  int count2=0;\n  lp(i,n-1){\n    if(i==0){\n      count2+=a[i];\n      if(a[i+1]>0){\n\tcount2+=a[i+1];\n\ta[i+1]-=a[i];\n      }\n      if(a[i+1]<0) a[i+1]=0;\n    }\n    else if(i==n-2){\n      count2+=a[i+1];\n      if(a[i]>0){\n\tif(a[i]>=a[i+1]) {\n\t  count2+=a[i+1];\n\t  a[i]-=a[i+1];\n\t  count+=a[i];\n\t}\n\telse {\n\t  count2+=a[i];\n\t}\n      }\n    }\n    else count+=a[i];\n  }\n  cout<<count*2+count2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#define rep(i,a,n) for(int (i) = (a);(i) < (n);(i)++)\nusing namespace std;\n\nint main(){\n    int n,cnt = 0,memo = 1e+9;\n    cin >> n;\n    int a[n],b[n];\n    \n    rep(i,0,n){\n        cin >> a[i];\n    }\n    \n    rep(i,0,a[0]+1){\n        cnt = 0;\n        rep(j,0,n){\n            b[j] = a[j];\n            //cout << b[j] << endl;\n        }\n        \n        cnt += i;\n        b[0] -= i;\n        \n        rep(j,0,n-1){\n            cnt += b[j]*2;\n            b[j+1] = max(0,b[j+1]-b[j]);\n            b[j] = 0;\n            //cout << cnt << endl;\n        }\n        \n        cnt += b[n-1];\n        //cout << cnt << endl;\n        \n        memo = min(memo,cnt);\n    }\n    \n    cout << memo << endl;\n    \n        \n    \n    \n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0 && pancake[1] <= 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0 && pancake[N - 2] <= 0) {\n\t\t\tpancake[N-1]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0){ \n\t\t\t\tpancake[j]--;\n\t\t\t\tif (pancake[j - 1] > 0) {\n\t\t\t\t\tpancake[j - 1]--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpancake[j + 1]--;\n\t\t\t\t}\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\tint i;\n\tcin >> i;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &cake);\nint func(int,vector<int>);\nint solve(vector<int>);\nint main(){\n    vector<int> cake;\n    input(cake);\n    cout<<solve(cake)<<endl;\n    return 0;\n}\n\nint solve(vector<int> cake){\n    int res = (1<<31)-1;\n    for(int i=0;i<=cake.front();++i){\n        res = min(func(i,cake),res);\n    }\n    return res;\n}\n\nint func(int startnum,vector<int> cake){\n    int res = 0;\n    res=startnum*2;\n    cake[0]-=startnum;\n    cake[1]-=startnum;\n    for(int i=1;i<cake.size();++i){\n        if(cake[i-1]>0){\n            int num = cake[i-1];\n            for(int j=-1;j<=1;++j){\n                if(i+j<cake.size()){\n                    res+=num;\n                    cake[i+j]-=num;\n                }\n            }\n        }\n    }\n    if(cake.back()>0){\n        res+=cake.back()*2;\n    }\n    return res;\n}\nvoid input(vector<int> &cake){\n    int num;\n    cin>>num;\n    cake.resize(num);\n    for(int i=0;i<num;++i){\n        cin>>cake[i];\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <string>\n#include <map>\n#include <numeric>\n#include <bitset>\n#include <vector>\n#include <queue>\n\nusing namespace std;\n\ntypedef long long ll;\n#define FOR(i,a,b) for (ll i = (a); i < (b); i++)\n#define REP(i,n) FOR(i,0,n)\ntypedef pair<ll,ll> cp2;\ntypedef pair<ll,cp2> cp3;\n#define fi first\n#define se second\n#define sec se.fi\n#define thr se.se\nconst ll mod = 1000000007;\n//              123456789\nint N;\nint p[5123];\nint P[5123];\nvector< int > z;\n\nint ans = mod;\n\nint main(){\n\t\n\tcin>>N;\n\t\n\t\n\tREP( i, N ){\n\t\tscanf(\"%d\", p+i);\n\t\tP[i] = p[i];\n\t}\n\t\n\t\n\tREP( s, P[0]+1 ){\n\t\tREP( e, P[N-1]+1 ){\n\t\t\tp[0] = P[0] - s;\n\t\t\tp[N-1] = P[N-1] - e;\n\t\t\tint num = s+e;\n\t\t\t\n\t\t\tFOR( i, 1, N-1 ) p[i] = P[i];\n\t\t\t\n\t\t\tREP( i, N ){\n\t\t\t\twhile( p[i] > 0 ){\n\t\t\t\t\tp[i]--;\n\t\t\t\t\tp[i+1]--;\n\t\t\t\t\tnum += 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = min( ans, num );\n\t\t}\n\t}\n\t\n\tcout<<ans<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(){\n  int N=0,i=0,count2=0;\n  int p[5005]={};\n  scanf(\"%d\",&N);\n  for(i=0;i<N;i++){\n    scanf(\"%d\",&p[i]);\n  }\n  if(p[0]>0&&p[1]>0){\n    p[0]=p[0]-1;\n    p[1]=p[1]-1;\n    count2++;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]>0){\n    p[N-1]=p[N-1]-1;\n    p[N-2]=p[N-2]-1;\n    count2++;\n    count2++;\n  }\n  if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  for(i=1;i<N-1;i++){\n    while(p[i]>0||p[i-1]>0){\n      if(p[i]>0||p[i-1]>0){\n\tp[i]=p[i]-1;\n\tp[i-1]=p[i-1]-1;\n\tcount2++;\n\tcount2++;\n      }\n    }\n  }\n  printf(\"%d\\n\",count2);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint n, m = 0;\n\tint a[5000];\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> a[i];\n\n\tfor (int j = 3; j > 0; j--) {\n\t\tfor (int i = 1; i < n - 1; i++) {\n\t\t\tif (a[i] == j) {\n\t\t\t\tm += 2;\n\t\t\t\ta[i]--;\n\t\t\t\tif (a[i - 1] >= a[i + 1] && a[i - 1] > 0)\n\t\t\t\t\ta[i - 1]--;\n\t\t\t\telse if (a[i + 1] > 0)\n\t\t\t\t\ta[i + 1]--;\n\t\t\t}\n\t\t}\n\t}\n\n\tcout << m + a[0] + a[n - 1] << endl;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n;\n  cin >> n;\n\n  int p[5000];\n  for(int i=0; i<n; i++){\n    cin >> p[i];\n  }\n\n  int min_sum = 200000;\n\n  for(int I=0; I<=p[0]; I++){\n    int q[5000];\n    for(int i=0; i<n; i++){\n      q[i]=p[i];\n    }\n\n    int sum = I;\n    q[0] -= I;\n\n    for(int i=0; i<=n-2; i++){\n      if(q[i]<=0){\n        continue;\n      }\n\n      sum += q[i]*2;\n      q[i+1] -= q[i];\n    }\n\n    if(q[n-i]>0){\n      sum += q[n-1];\n    }\n    min_sum = min(min_sum, sum);\n  }\n  cout << min_sum << endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define Rep(i,N) for(int i = 0;i < N;i++)\n\nint main(){\n\n  int N;\n\n  vector<int> data(5005,0);\n\n  vector<int> temp(5005,0);\n\n  while(cin >> N,N){\n\n    Rep(i,N)cin >> data[i];\n\n    temp = data;\n\n    int sum = INT_MAX;\n\n    Rep(p,data[0] + 1){\n\n      int ans = 0;\n\n      data[0] -= p;\n\n      ans += p;\n\n      Rep(i,N - 1){\n\n        ans += data[i] * 2;\n\n        data[i + 1] -= data[i];\n\n        data[i] = 0;\n\n        if(data[i + 1] < 0)data[i + 1] = 0;\n\n      }\n\n      ans += data[N - 1];\n\n      sum = min(ans,sum);\n\n      data = temp;\n\n    }\n\n    cout << sum << endl;\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int mincount=100000;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  for(int k=0;k<=p[1];k++){\n    int count=0;\n    int c[n+1];\n    for(int i=1;i<=n;i++){\n      c[i]=p[i];\n    }\n    c[1]-=k;\n    count+=k;\n    for(int i=1;i<=n-1;i++){\n      if(c[i]<=0){\n        continue;\n      }\n      count+=c[i]*2;\n      c[i+1]-=c[i];\n    }\n    if(c[n]>0){\n      count+=c[n];\n    }\n    mincount=min(count,mincount);\n  }\n\n\n  cout <<mincount <<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n#define DEBUG for(int i=0;i<n;i++){cout<<p[i]<<\" \";}cout<<endl;\nint n,p[10000],memo;\nint remain();\nint side();\nint main() {\n    int ans=0;\n    cin>>n;\n    for(int i=0;i<n;i++){\n        cin>>p[i];\n    }\n    ans+=side();\n    for(int i=3;i>=1;i--){\n        for(int j=1;j<n-1;j++){\n            if(p[j]>0){\n                //DEBUG;\n               // cout<<ans<<endl;\n            if(p[j]==i){\n                //cout<<\" \"<<i<<endl;\n                memo=max(p[j-1],p[j+1]);\n                if(memo==p[j-1] && p[j-1]!=0){\n                    p[j]-=p[j-1];\n                    ans+=p[j-1]*2;\n                    p[j-1]=0;\n                        if(p[j]!=0){\n                            p[j+1]-=p[j];\n                            ans+=p[j]*2;\n                            p[j]=0;\n                        }\n                    }\n                    else if(memo==p[j+1]&&p[j+1]!=0){\n                        p[j]-=p[j+1];\n                        ans+=p[j+1]*2;\n                        p[j+1]=0;\n                        if(p[j]!=0){\n                            p[j-1]-=p[j];\n                            ans+=p[j]*2;\n                            p[j]=0;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    //DEBUG;\n    ans+=remain();\n    //DEBUG;\n    cout<<ans<<endl;\n    return 0;\n}\nint side(){\n    int res=0;\n    if(p[0]>p[1]){\n        res+=p[0]-p[1];\n        p[0]-=p[0]-p[1];\n    }\n    if(p[n-2]<p[n-1]){\n        res+=p[n-1]-p[n-2];\n        p[n-1]-=p[n-1]-p[n-2];\n    }\n    return res;\n}\nint remain(){\n    int res=0;\n    if(p[0]>0){\n        if(p[1]>0){\n            res+=p[1]*2;\n            p[0]-=p[1];\n            p[1]=0;\n        }\n        res+=p[0];\n        p[0]=0;\n    }\n    if(p[n-1]>0){\n        if(p[n-2>0]){\n            res+=p[n-2]*2;\n            p[n-1]-=p[n-2];\n            p[n-2]=0;\n        }\n        res+=p[n-1];\n        p[n-1]=0;\n    }\n    for(int i=1;i<n-1;i++){\n        if(p[i]>0){\n            res+=p[i]*2;\n            \n        }\n    }\n    return res;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = *max_element(all(p));\n  while(true){\n    rep(i,n){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(i == 0){\n          if(p[i + 1]){\n            p[i + 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else if(i == n - 1){\n          if(p[i - 1]){\n            p[i - 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else{\n          if(p[i + 1] > p[i - 1]){\n            p[i + 1]--; \n          }else{\n            p[i - 1]--;\n          }\n        }\n        ans += 2;\n      }\n    }\n    itr--;\n    if(itr == 0){\n      cout << ans << endl;\n      return 0;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n \nint main(){\n int N;\n cin >> N;\n \n int p[5000];\n for(int i=0; i<N; i++){\n  cin >> p[i];\n }\n \n int min_sum = 20000;\n \n for(int  I=0; I<=p[0]; I++){\n  int q[5000];\n  for(int i=0; i<N; i++){\n   q[i] = p[i];\n  }\n \n  int sum = I;\n  q[0] -= I;\n \n  for(int i=0; i<=N-2; i++){\n   if(q[i]<=0) continue;\n    \n   sum += q[i]*2;\n   q[i+1] -= q[i];\n  }\n  \n  if(q[N-1]>0){\n   sum += q[N-1];\n  }\n \n  min_sum = min(min_sum, sum);\n }\n \n cout << min_sum << endl;\n  \n return 0;\n} "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      if(p[i] > 0) ans += p[i];\n      break;\n    }\n    if(p[i] > 0) {\n      ans += p[i] * 2;\n      p[i + 1] -= p[i];\n      p[i] = 0;\n    }\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000] = {};\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  rep(i, 0, p[0] + 1) {\n    ans = min(ans, solve(p) + i);\n    p[0]--;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n  int n;\n  int p[5011], z[5011],sum,ans;\n  cin >> n;\n  for(int i=0;i<n;i++){\n    cin >> p[i];\n  }\n  ans=1000000;\n  for(int a=0;a<=p[0];a++){\n    sum=a;\n    z[0]=a;\n    for(int i=1;i<n;i++){\n      sum+=(p[i-1]-z[i-1])*2;\n      z[i]=p[i-1]-z[i-1];\n      if(p[i]<z[i]){\n\tz[i]=p[i];\n      }\n    }\n    sum+=p[n-1]-z[n-1];\n    if(ans>sum){\n      ans=sum;\n    }\n  }\n  cout << ans << endl;\n  return(0);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define all(vec) vec.begin(), vec.end()\nusing namespace std;\nusing ll = long long;\nusing P = pair<ll, ll>;\nconstexpr ll INF = (1LL << 30) - 1LL;\nconstexpr ll LINF = (1LL << 60) - 1LL;\nconstexpr double eps = 1e-9;\nconstexpr ll MOD = 1000000007LL;\ntemplate <typename T> bool chmin(T &a, T b) {\n    if (a > b) {\n        a = b;\n        return true;\n    }\n    return false;\n};\ntemplate <typename T> bool chmax(T &a, T b) {\n    if (a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n};\ntemplate <typename T> ostream &operator<<(ostream &os, vector<T> v) {\n    for (int i = 0; i < v.size(); i++) {\n        os << v[i] << (i + 1 == v.size() ? \"\\n\" : \" \");\n    }\n    return os;\n}\ntemplate <typename T> vector<T> make_v(size_t a) { return vector<T>(a); }\ntemplate <typename T, typename... Ts> auto make_v(size_t a, Ts... ts) {\n    return vector<decltype(make_v<T>(ts...))>(a, make_v<T>(ts...));\n}\ntemplate <typename T, typename V>\ntypename enable_if<is_class<T>::value == 0>::type fill_v(T &t, const V &v) {\n    t = v;\n}\ntemplate <typename T, typename V>\ntypename enable_if<is_class<T>::value != 0>::type fill_v(T &t, const V &v) {\n    for (auto &e : t) {\n        fill_v(e, v);\n    }\n};\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n;\n    cin >> n;\n    vector<int> a(n + 1);\n    for (int i = 0; i < n; i++) {\n        cin >> a[i + 1];\n    }\n    auto dp = make_v<int>(n + 1, 4);\n    fill_v(dp, INF);\n    dp[0][0] = 0;\n    for (int i = 1; i <= n; i++) {\n        for (int j = 0; j <= 3; j++) {     // previous\n            for (int k = 0; k <= 3; k++) { // now\n                if (k > a[i]) {\n                    continue;\n                }\n                if (j > 0 && a[i] - k < j) {\n                    continue;\n                }\n                if (i == 1) {\n                    chmin(dp[i][k], dp[i - 1][j] + a[i] - k);\n                } else {\n                    chmin(dp[i][k], dp[i - 1][j] + 2 * (a[i] - k));\n                }\n            }\n        }\n    }\n    int res = INF;\n    for (int i = 0; i <= a[n]; i++) {\n        chmin(res, dp[n][i] + i);\n    }\n    cout << res << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//#include<bits/stdc++.h>\n#include<iostream>\n#include <vector>\n#include <cstdio>\n#include<algorithm>\n#include <utility>\nusing namespace std;\nint n, p[10000];\nint Rside();\nint Lside();\nint main() {\n\tint count = 0;\n\tcin >> n;\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t}\n\tif (p[n - 2] < p[n - 1]) {\n\t\tcount += Rside();\n\t}\n\tif (p[0] > p[1]) {\n\t\tcount += Lside();\n\t}\n\tfor (int i = 0; i < n - 1; i++) {\n\t\tif (i == 0 && p[i] == 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (i >= n - 2) {\n\t\t\tcount += p[n - 2] * 2;\n\t\t\t//\tcout << \"center :\" << p[n - 2] * 2 << endl;\n\t\t\tif (p[n - 2] <= p[n - 1]) {\n\t\t\t\tp[n - 1] -= p[n-2];\n\t\t\t\t\n\t\t\t}\n\t\t\telse if (p[n - 2] > p[n - 1]) {\n\t\t\t\tp[n - 1] = 0;\n\t\t\t}\n\t\t\tp[n - 2] = 0;\n\n\t\t}\n\t\telse {\n\t\t\tcount += p[i] * 2;\n\t\t\t//cout << \"center :\" << p[i] * 2 << endl;\n\t\t\tif (p[i] <= p[i + 1]) {\n\t\t\t\tp[i + 1] -= p[i];\n\t\t\t\tp[i] = 0;\n\t\t\t\t//5 2 5 6 5\n\t\t\t}\n\t\t\telse if (p[i] > p[i + 1]) {\n\t\t\t\tp[i] = 0;\n\t\t\t\tp[i + 1] = 0;\n\t\t\t}\n\t\t}\n\t\t//for (int j = 0; j < n; j++) {\n\t\t//\tcout << p[j] << \" \";\n\t\t//}cout << endl;\n\t}\n\n\tif (p[n - 1] > 0) {\n\t\tcount += p[n - 1];\n\t\t//cout << \"remain :\" << p[n - 1] << endl;\n\t\tp[n - 1] = 0;\n\t}\n\t//for (int j = 0; j < n; j++) {\n\t//\tcout << p[j] << \" \";\n\t//}cout << endl;\n\tcout << count << endl;\n\t//8 5 3 7 5 = 10+3+6+9\n\t//8 5 3 5 7 = 12+13+6\n\treturn 0;\n}\nint Rside() {\n\tint res = 0;\n\tres += p[n - 2] * 2;\n\tp[n - 1] -= p[n - 2];\n\tp[n - 2] = 0;\n\tres += p[n - 1];\n\tp[n - 1] = 0;\n\t//cout << \"R :\" << res << endl;\n\treturn res;\n}\nint Lside() {\n\tint res = 0;\n\tres += p[1] * 2;\n\tp[0] -= p[1];\n\tp[1] = 0;\n\tres += p[0];\n\tp[0] = 0;\n\t//cout << \"L :\" << res << endl;\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n#define REP(i,n) for(int i=0;i<(n);i++)\n\nint N;\nint main(){\n    std::ios_base::sync_with_stdio(false);\n    cin>>N;\n    while(N!=0){\n        int A[5001];\n        ll ans=0;\n        REP(i,N)cin>>A[i];\n        REP(i,N-1){\n            if(A[i]<=A[i+1]){\n                A[i+1]-=A[i];\n                ans+=A[i]*2;\n                A[i]=0;\n            }else{\n                if(i==0){\n                    ans+=A[i+1]+A[i];\n                    A[i]=A[i+1]=0;\n                }else{\n                    ans+=A[i]*2;\n                    A[i]=A[i+1]=0;\n                }\n            }\n        }\n        if(A[N-1]>0)ans+=A[N-1];\n        cout<<ans<<endl;\n        cin>>N;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tfor (int j = 1; j < N; j++) {\n\t\t\tif (pancake[j] > 0) {\n\t\t\t\tpancake[j]--;\n\t\t\t\tpancake[j - 1]--;\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\tint i;\n\tcin >> i;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint min_sum=20000;\n\n\tfor(int I=0;I<p[0];I++){\n\t\tint q[5000];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tcin>>q[i];\n\t\t}\n\t\t\n\t\tint sum=0;\n\t\tq[0]-=I;\n\t\t\t\n\t\tfor(int i=0;i<=N-2;i++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\t\t\n\t\t\tsum+=q[i]*2;\n\t\t\tq[i+1]-=q[i];\n\t\t}\n\n\t\tif(q[N-1]>0)\n\t\t\tsum+=q[N-1];\n\t\t\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <bitset>\n#include <cmath>\n#include <string>\n#define FI first\n#define SE second\n#define PF push_front\n#define PB push_back\n#define POF pop_front\n#define POB pop_back\n#define MA make_pair\n#define ll long long\n#define PA pair<int,int>\n#define VE vector<int>\n#define VP vector<PA>\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\n#define YES(i) cout<<(i?\"YES\":\"NO\")<<endl\n#define Yes(i) cout<<(i?\"Yes\":\"No\")<<endl\nusing namespace std;\n//\nconst int INF=1e9+7;\nconst int mod=1e9+7;\n//\nstruct pol{\n\tint X;int Y;int Z;\n  bool operator<(const pol&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nint main(){\n\tint N;\n\tint P[5000];\n\tcin>>N;\n\tFOR(i,0,N){\n\t\tcin>>P[i];\n\t}\n\tint ans=0;\n\tint now=0;\n\twhile(now<N){\n\t\tif(now==N-1){\n\t\t\tans+=P[now];\n\t\t\tbreak;\n\t\t}\n\t\tif(P[now]==0&&P[now+1]==0){\n\t\t\tnow++;\n\t\t}else if(P[now]==0){\n\t\t\tif(now+1==N-1){\n\t\t\t\tans+=P[now+1];\n\t\t\t\tP[now+1]=0;\n\t\t\t\tnow++;\n\t\t\t}else\tif(P[now+2]!=0){\n\t\t\t\tnow++;\n\t\t\t}else{\n\t\t\t\tans+=2*P[now+1];\n\t\t\t\tP[now+1]=0;\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}else if(P[now+1]==0){\n\t\t\tif(now==0){\n\t\t\t\tans+=P[now];\n\t\t\t}else{\n\t\t\t\tans+=2*P[now];\n\t\t\t}\n\t\t\tP[now]=0;\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(P[now]<=P[now+1]){\n\t\t\t\tans+=2*P[now];\n\t\t\t\tP[now+1]-=P[now];\n\t\t\t\tnow++;\n\t\t\t}else{\n\t\t\t\tans+=2*P[now+1];\n\t\t\t\tP[now]-=P[now+1];\n\t\t\t\tans+=2*P[now];\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,n) for(int i=1;i<=(n);i++)\n#define lol long long\n#define SUM(n) ((n)+1)*(n)/2 //1〜nまでの総和を求める式\n#define mp make_pair\n#define fi first\n#define se second\n#define pu push_back\n#define SYOU(x) fixed<<setprecision(x+1) //小数点桁数を指定する\n#define abs(x,y) max(x,y)-min(x,y)\n#define all(v) v.begin(),v.end()\n#define UPDigit(a,b) (a+b-1)/b //小数点切り上げ\nconst int INF = 0x3f3f3f3f;\nconst long long LINF = 0x3f3f3f3f3f3f3f3fLL;\nconst int MOD=int(1e9)+7; \nusing namespace std;\nusing pii = pair<lol, lol>;\ntypedef vector<int> vit;\n\n//最大公約数\nlol gcd(lol x, lol y){\n  if(x < y) swap(x, y);\n  lol r = x % y;\n  while(r != 0){\n    x = y;\n    y = r;\n    r = x % y;\n  }\n  return y;\n}\n//最小公倍数\nlol lcm(lol x, lol y){\n  lol a = x * y;\n  return (a / gcd(x, y));\n}\n\nsigned main(void){\n  cin.tie(nullptr);\n  ios_base::sync_with_stdio(false);\n  int n;\n  cin >> n;\n  int p[n + 5];\n  rep(i, n){\n    cin >> p[i];\n  }\n  int memo[n + 5], ans = INF;\n  rep(i, p[0] + 1){\n    int sum = 0;\n    rep(j, n){\n      memo[j] = p[j];\n    }\n    sum += i;\n    memo[0] -= i;\n    rep(j, n - 1){\n      //cout << memo[j] << \" \";\n      if(memo[j] > 0){\n\tsum += memo[j] * 2;\n\tmemo[j + 1] -= memo[j];\n      }\n    }\n    if(memo[n - 1] > 0){\n      sum += memo[n - 1];\n    }\n    //cout << memo[n - 1] << '\\n';\n    ans = min(ans, sum);\n  }\n  cout << ans << '\\n';\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p) > rec =\n  [&](vector<int> p){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0){\n        res += p[i] + p[i+1];\n        p[i+1] = 0;\n        i++;\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    return res + max(0LL,p[n-1]);\n  };\n\n  int ans = 1 << 30;\n  ans = min(ans,rec(p));\n  reverse(p.begin(),p.end());\n  ans = min(ans,rec(p));\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing UL = unsigned int;\nusing ULL = unsigned long long;\nusing LL = long long;\n#define rep(i, n) for(UL i = 0; i < (n); i++)\n\ntemplate<class T>\nusing least_queue = priority_queue<T, vector<T>, greater<T>>;\n\nULL gcd(ULL a, ULL b) { return b ? gcd(b, a % b) : a; }\n\nint main() {\n\tUL N; cin >> N;\n\tUL PB[5002] = {}; rep(i, N) cin >> PB[i + 1];\n\tN += 2;\n\tUL ans2 = 500000;\n\trep(s, 3 + 1)rep(t, 3 + 1) {\n\t\tUL P[5002];\n\t\trep(i, N) P[i] = PB[i];\n\t\tP[0] = s; P[N - 1] = t;\n\t\tUL ans = 0;\n\t\tfor (UL i = 1; i < N; i += 2) {\n\t\t\tUL t = min(P[i - 1], P[i]);\n\t\t\tP[i - 1] -= t; P[i] -= t;\n\t\t\tans += t + t;\n\t\t\tif (i != N - 1) {\n\t\t\t\tP[i + 1] = max(P[i + 1], P[i]) - P[i];\n\t\t\t\tans += P[i] + P[i];\n\t\t\t\tP[i] = 0;\n\t\t\t}\n\t\t\telse { ans += P[i]; P[i] = 0; }\n\t\t}\n\t\tans += P[0];\n\t\tfor (UL i = 2; i < N; i += 2) {\n\t\t\tif (i == N - 1) ans += P[i];\n\t\t\telse ans += P[i] + P[i];\n\t\t}\n\t\tans -= (s + t);\n\t\tans2 = min(ans, ans2);\n\t}\n\tcout << ans2 << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "// 2017/07/21 Tazoe\n\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\tint p[5000];\n\tfor(int i=0; i<N; i++){\n\t\tcin >> p[i];\n\t}\n\n\tint min_sum = 20000;\t\t// ??????????????????????????????\n\n\tfor(int I=0; I<=p[0]; I++){\n\t\tint q[5000];\t\t\t// ??????p????????????\n\t\tfor(int i=0; i<N; i++){\n\t\t\tq[i] = p[i];\n\t\t}\n\n\t\t// ?????????I??????1??????????£???????\n\t\tint sum = I;\n\t\tq[0] -= I;\n\n\t\tfor(int i=0; i<=N-2; i++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\n\t\t\t// ?????£?????¨?£???????\n\t\t\tsum += q[i]*2;\n\t\t\tq[i+1] -= q[i];\n\t\t}\n\n\t\t// ?????????????????????1??????????£???????\n\t\tif(q[N-1]>0){\n\t\t\tsum += q[N-1];\n\t\t}\n\n\t\tmin_sum = min(min_sum, sum);\n\t}\n\n\tcout << min_sum << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(e) cout << \"L\" << __LINE__ << \": \" << #e << \" = \" << e << endl\n#else\n#define debug_echo(e)\n#define debug_var(e)\n#endif\n#ifdef DEBUG\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo_dp1(dp, N)\n#endif\n\ntemplate<typename A, typename B> void chmin(A& a, B b) {if (a>b) a=b;}\ntemplate<typename A, typename B> void chmax(A& a, B b) {if (a<b) a=b;}\n\n#define MAX_N 5000\n\nint N;\nint p[MAX_N];\nint z[MAX_N];\n\nint main() {\n  cin >> N;\n  rep(i, N) cin >> p[i];\n\n  int ans = INT_MAX;\n  for (int t=0; t<=p[0]; t++) {\n    int cost = t;\n    memset(z, 0, sizeof(z));\n    z[0] = t;\n    for (int i=1; i<N; i++) {\n      cost += (p[i-1]-z[i-1])*2;\n      z[i] += p[i-1]-z[i-1];\n      chmin(z[i], p[i]);\n    }\n    cost += p[N-1]-z[N-1];\n    chmin(ans, cost);\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin>>N;\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n  int min_sum=20000;\n  for(int i=0;i<=p[0];i++){\n    int q[5000];\n    for(int j=0;j<N;j++){\n      q[j]=p[j];\n    }\n    int sum=i;\n    q[0] -= i;\n    for(int j=0;j<=N-2;j++){\n      if(q[j]<=0)continue;\n      sum+=q[j]*2;\n      q[j+1] -= q[j];\n    }\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n    min_sum=min(min_sum,sum);\n  }\n  cout<<min_sum<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    // 3\n    FOR(i,1,n-1){\n      if(v[i] == 3){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //2\n    FOR(i,1,n-1){\n      if(v[i] == 2){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //1\n    FOR(i,1,n-1){\n      if(v[i] == 1){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n\n    FOR(i,1,n-1){\n      sum += v[i];\n    }\n    cout<<sum<<endl;\n\n\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#pragma GCC optimize(\"Ofast\")\n\n// Begin Headelr {{{\nusing namespace std;\n\n#ifndef DEBUG\n#define dump(...)\n#endif\n\n#define all(x) x.begin(), x.end()\n#define rep(i, b, e) for (intmax_t i = (b), i##_limit = (e); i < i##_limit; ++i)\n#define reps(i, b, e) for (intmax_t i = (b), i##_limit = (e); i <= i##_limit; ++i)\n#define repr(i, b, e) for (intmax_t i = (b), i##_limit = (e); i >= i##_limit; --i)\n#define var(Type, ...) Type __VA_ARGS__; input(__VA_ARGS__)\n\nconstexpr size_t    operator\"\"_zu(unsigned long long value) { return value; };\nconstexpr intmax_t  operator\"\"_jd(unsigned long long value) { return value; };\nconstexpr uintmax_t operator\"\"_ju(unsigned long long value) { return value; };\n\nconstexpr int INF = 0x3f3f3f3f;\nconstexpr intmax_t LINF = 0x3f3f3f3f3f3f3f3f_jd;\n\ntemplate <class T, class Compare = less<>>\nusing MaxHeap = priority_queue<T, vector<T>, Compare>;\ntemplate <class T, class Compare = greater<>>\nusing MinHeap = priority_queue<T, vector<T>, Compare>;\n\nusing imax = intmax_t;\nusing usize = size_t;\n\ninline void input() {}\ntemplate <class Head, class... Tail>\ninline void input(Head&& head, Tail&&... tail) {\n    cin >> head;\n    input(forward<Tail>(tail)...);\n}\n\ntemplate <class T>\ninline istream& operator>>(istream &is, vector<T> &vec) {\n    for (auto &e: vec) {\n        is >> e;\n    }\n    return is;\n}\n\ninline void output() { cout << \"\\n\"; }\ntemplate <class Head, class... Tail>\ninline void output(Head&& head, Tail&&... tail) {\n    cout << head;\n    if (sizeof...(tail)) {\n        cout << \" \";\n    }\n    output(forward<Tail>(tail)...);\n}\n\ntemplate <class T>\ninline ostream& operator<<(ostream &os, const vector<T> &vec) {\n    static constexpr const char *delim[] = {\" \", \"\"};\n    for (const auto &e: vec) {\n        os << e << delim[&e == &vec.back()];\n    }\n    return os;\n}\n\ntemplate <class T>\ninline vector<T> makeVector(const T &initValue, size_t sz) {\n    return vector<T>(sz, initValue);\n}\n\ntemplate <class T, class... Args>\ninline auto makeVector(const T &initValue, size_t sz, Args... args) {\n    return vector<decltype(makeVector<T>(initValue, args...))>(sz, makeVector<T>(initValue, args...));\n}\n\ntemplate <class Func>\nclass FixPoint : Func {\npublic:\n    explicit constexpr FixPoint(Func&& f) noexcept : Func(forward<Func>(f)) {}\n\n    template <class... Args>\n    constexpr decltype(auto) operator()(Args&&... args) const {\n        return Func::operator()(*this, std::forward<Args>(args)...);\n    }\n};\n\ntemplate <class Func>\nstatic inline constexpr decltype(auto) makeFixPoint(Func&& f) noexcept {\n    return FixPoint<Func>{forward<Func>(f)};\n}\n\ntemplate <class Container>\nstruct reverse_t {\n    Container &c;\n    reverse_t(Container &c) : c(c) {}\n    auto begin() { return c.rbegin(); }\n    auto end() { return c.rend(); }\n};\n\ntemplate <class Container>\nauto reversed(Container &c) {\n    return reverse_t<Container>(c);\n}\n\ntemplate <class T>\ninline bool chmax(T &a, const T &b) noexcept {\n    return b > a && (a = b, true);\n}\n\ntemplate <class T>\ninline bool chmin(T &a, const T &b) noexcept {\n    return b < a && (a = b, true);\n}\n\ntemplate <class T>\ninline T diff(const T &a, const T &b) noexcept {\n    return a < b ? b - a : a - b;\n}\n// }}} End Header\n\nconstexpr int dy[] = {0, 1, 0, -1, -1, 1, 1, -1};\nconstexpr int dx[] = {1, 0, -1, 0, 1, 1, -1, -1};\n\nconst auto inside = [](int y, int x, int H, int W) -> bool {\n    return (y >= 0 && x >= 0 && y < H && x < W);\n};\n\nsigned main() {\n    ios_base::sync_with_stdio(false);\n    cin.tie(nullptr);\n    cout.setf(ios_base::fixed);\n    cout.precision(10);\n\n    var(usize, N);\n    vector<int> p(N);\n    input(p);\n\n    usize res = INF;\n    reps(k, 0, p[0]) { // 左端のみを k 回裏返す\n        usize sum = 0;\n        auto v = p;\n        sum += k;\n        v[0] -= k;\n        rep(i, 0, N - 1) {\n            const int val = v[i];\n            if (val < 0)\n                continue;\n            sum += 2 * val;\n            v[i] -= val;\n            v[i + 1] -= val;\n        }\n        sum += max(0, v.back());\n        chmin(res, sum);\n    }\n\n    output(res);\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn=0;\n\t\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[1]>0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tp[1]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[N-2]>0){\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tp[N-2]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<turn<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tint n;\n\tcin >> n;\n\tvector<int> a(n), aa(n);\n\tfor(int i=0; i<n; ++i) cin >> a[i], aa[i] = a[i];\n\t\n\tint ans = 1e9;\n\tfor(int j=0; j<=a[0]; ++j) {\n\t\t// cout << j << endl;\n\t\tint ret = j;\n\t\ta[0] -= j;\n\t\tfor(int i=1; i<n-1; ++i) {\n\t\t\twhile(a[i]>0) {\n\t\t\t\tif(a[i-1] > 0) {\n\t\t\t\t\ta[i-1]--;\n\t\t\t\t\ta[i]--;\n\t\t\t\t\tret += 2;\n\t\t\t\t} else {\n\t\t\t\t\ta[i]--;\n\t\t\t\t\ta[i+1]--;\n\t\t\t\t\tret += 2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tret += max(0, a[0]) + max(0, a[n-1]);\n\t\t// cout << ret << endl;\n\t\tfor(int i=0; i<n; ++i) a[i] = aa[i];\n\t\tans = min(ans, ret);\n\t}\n\t\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    V.push_back(p);\n  }\n\n  int res = 0;\n  for(int i = 0; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res++;\n    }\n  }\n  //cout << V[0] << \" \" << V[n-2];\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[n-1] <= 0) ){\n      V[0]--; res++;\n  }\n\n  cout << res << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        std::cerr << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n        auto section = (*section_map.begin()).second;\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5010],pp[5010],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(j+1==n-1) {\n\t\t\t\tif(pp[j]>=0&&pp[j+1]>0) sum+=pp[j]*2+(pp[j+1]-pp[j]);\n\t\t\t\telse if(pp[j]>=0) sum+=pp[j]*2;\n\t\t\t\tpp[j+1]=0;\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j+1]-=pp[j];\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  while(n!=0){\n    int count=0;\n    int p[n+1];\n    for(int i=1;i<=n;i++){\n      cin >> p[i];\n    }\n    if(p[1]<=p[2]){\n      count +=p[1]*2;\n      p[2]-=p[1];\n      p[1]=0;\n    }else{\n      count+=p[1]+p[2];\n      p[2]=0;\n      p[1]=0;\n    }\n    if(p[n]<=p[n-1]){\n      count +=p[n]*2;\n      p[n-1]-=p[n];\n      p[n]=0;\n    }else{\n      count+=p[n]+p[n-1];\n      p[n-1]=0;\n      p[n]=0;\n    }\n    for(int i=2;i<n;i++){\n      if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n        count+=p[i]*2;\n        p[i-1]=0;\n        p[i]=0;\n        p[i+1]=0;\n      }\n    }\n    cout <<count <<endl;\n    cin >>n;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin>>n;\n\tint a;\n\tint max=0;\n\tint maxp;\n\tint count=0;\n\tvector<int> v;\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a;\n\t\tv.push_back(a);\n\t\tif(a>max){\n\t\t\tmax=a;\n\t\t\tmaxp=i;\n\t\t}\n\t}\n\n\twhile(max>0){\n\t\tif(maxp==0){\n\t\t\tif(v[maxp+1]>0){\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp+1]--;\n\t\t\t\tcount+=2;\t\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tcount++;\n\t\t\t}\t\n\t\t}else if(maxp==n-1){\n\t\t\tif(v[maxp-1]==0){\n\t\t\t\tv[maxp]--;\n\t\t\t\tcount++;\n\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp-1]--;\n\t\t\t\tcount+=2;\n\t\t\t}\n\t\t}else{\n\t\t\tif(v[maxp+1]>v[maxp]-1){\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp+1]--;\n\t\t\t\tcount+=2;\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp-1]--;\n\t\t\t\tcount+=2;\n\t\t\t}\n\t\t}\n\t\tmax=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(v[i]>max){\n\t\t\t\tmax=v[i];\n\t\t\t\tmaxp=i;\n\t\t\t}\n\t\t}\nfor(int i=0;i<5;i++){\n\tcout<<v[i];\n}\ncout<<endl;\n\t}\n\tcout<<count<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint n,k[5005],ans=99999,mon,monn;\nint main(){\n  cin>>n;\n  for(int i=0;i<n;++i){cin>>k[i];}\n  \n  for(int sikou=0;sikou<=3;++sikou){\n    mon=0;monn=max(0,k[0]-sikou);\n    for(int i=1;i<n;++i){\n      mon+=monn*2;\n      monn=max(0,k[i]-monn);\n    }\n    ans=min(ans,mon);\n  }\n  \n  cout<<ans<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[5001],x[5001],cnt,cnt1,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%d\",&p[i]); x[i]=0;\n\t}\n\tfor(i=0;i<n;i++) x[i]=p[i];\n\tcnt=0;\n\tfor(i=0;i<n;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==n-1){\n\t\t\t\tp[i]--; cnt++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--; p[i+1]--; cnt+=2;\n\t\t\t}\n\t\t}\n\t}\n\tcnt1=0;\n\tfor(i=n-1;i>=0;i--){\n\t\twhile(x[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tx[i]--; cnt1++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tx[i]--; x[i-1]--; cnt1+=2;\n\t\t\t}\n\t\t}\n\t}\n\t// printf(\"%d %d\\n\",cnt,cnt1);\n\tif(cnt<cnt1) printf(\"%d\\n\",cnt);\n\telse printf(\"%d\\n\",cnt1);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstdio>\n#include <cmath>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long ll;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define UNIQUE(a)  (a).erase(unique((a).begin(),(a).end()),(a).end())\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(auto i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\n//debug\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n// 3 3 3 2 1\n\nint a[5000];\nint main() {\n\tint n;\n\tcin >> n;\n\tREP(i,n)cin>>a[i];\n\tint ms;\n\tint ans=0;\n\tREP(i,2){\n\t\tint b=1,c=2,d=0;\n\t\tif(i){\n\t\t\tb=n-1-b;\n\t\t\tc=n-1-c;\n\t\t\td=n-1-d;\n\t\t}\n\t\tms = min(a[b], a[c]);\n\t\ta[b]-=ms;a[c]-=ms;\n\t\tans+=ms*2;\n\t\tms = min(a[d], a[b]);\n\t\ta[d]-=ms;a[b]-=ms;\n\t\tans+=ms*2;\n\t\tans+=a[d];\n\t\ta[d]=0;\n\t}\n\tFOR(i,1,n-1){\n\t\tif(a[i]<1)continue;\n\t\tans+=a[i]*2;\n\t\ta[i+1]-=a[i];\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>//????????????????????§??????????????????\nusing namespace std;\nint main(){\n    int a[5005];\n    int n;\n    int i,j,k;\n    int s,b,c;\n    cin>>n;\n    for(i=0;i<n;i++){\n        cin>>a[i];\n    }\n    s=0,b=0,c=0;\n    for(i=3;i>0;i--){\n        for(j=0;j<n;j++){\n            if(a[j]==i){\n                if(c==0)b=j;\n                c++;\n            }else if(c!=0){\n                if(b==0 || c%2==0)s+=c;\n                else{\n                    if(a[j]>a[b-1])a[j]=(a[j]>0?a[j]-1:0);\n                    else a[b-1]=(a[b-1]>0?a[b-1]-1:0);\n                    s+=c+1;\n                }\n                for(k=b;k<b+c;k++){\n                    a[k]--;\n                }\n                b=0,c=0;\n            }\n        }\n        s+=c;\n        for(j=b;j<b+c;j++){\n            a[j]--;\n        }\n        b=0,c=0;\n    }\n    cout<<s<<endl;\n    return 0;\n}\n    "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i ,n) for(int i=0 ;i < n; i++)\n#define REPB(i ,n) for(int i=n; i >= 0; i--)\n#define FOR(i ,m ,n) for(int i=m; i < n; i++)\n#define FORB(i, m, n) for(int i=m; i>= m; i--)\n#define ll long long\n#define pb push_back\n#define popb pop_back\n#define INF 1000000000;\nusing namespace std;\n\nint turn(vector<int> p, int c){\n    int tmp = 0;\n    int s = p.size()- 1;\n    vector<int> ans;\n    p.pb(0);\n      p[0] -= c;\n      tmp += c;\n      int f = 0;\n      REP(i, s){\n          while(f < 3){\n            if(p[i] <= 0)break;\n            p[i]--;\n            p[i+1]--;\n            tmp+= 2;\n            f++;\n          } \n          f = 0;\n        }\n        while(f < 3){\n          if(p[s] <= 0)break;\n          p[s]--;\n          tmp++;\n          f++;\n        }\n    return tmp;\n  }\n\nint main(){\n int n;\n cin >> n;\n vector<int> ans;\n vector<int> p(n);\n REP(i, n){\n  cin >> p[i];\n   }  \n  ans.pb(turn(p, 0));\n  ans.pb(turn(p, 1));\n  ans.pb(turn(p, 2));\n  ans.pb(turn(p, 3));\n\n  sort(ans.begin(), ans.end());\n  cout << ans[0] << endl;\n  \n return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#define _USE_MATH_DEFINES\n#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <string>\n#include <array>\n#include <queue>\n#include <deque>\n#include <set>\n#include <list>\n#include <map>\n#include <stack>\n#include <utility>\n#include <algorithm>\n#include <numeric>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cctype>\n#include <cstring>\n#include <climits>\n#include <bitset>\n#include <complex>\n#include <random>\n#include <functional>\n#include <sstream>\n#include <iomanip>\n\nusing namespace std;\n\n#define rep(i, n) for(int i=0; i<(n); i++)\n#define FOR(i, m, n) for(int i=(m);i<(n);i++)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define SORT(x) sort((x).begin(),(x).end())\n#define REVE(x) reverse((x).begin(),(x).end())\n#define mp make_pair\n#define pb push_back\n#define dump(x)  cout << #x << \" = \" << (x) << endl;\n#define forauto(i, a) for(auto i:a)cout << i << \" \"; puts(\"\");\n\ntypedef long long LL;\ntypedef vector<int> VI;\ntypedef vector<LL> VL;\ntypedef vector<string> VS;\ntypedef vector<bool> VB;\ntypedef vector<vector<int>> VVI;\ntypedef pair<int, int> PII;\ntypedef pair<double, double> PDD;\ntypedef complex<double> CD;\n\nint main() {\n\tint n; cin >> n;\n\tVI p(n); rep(i, n)cin >> p[i];\n\n\tint ans = INT_MAX;\n\trep(i, p[0] + 1) {\n\t\tint cnt = 0;\n\t\tVI a = p;\n\n\t\tcnt += i; a[0] -= i;\n\t\trep(i, n - 1) {\n\t\t\tcnt += a[i] * 2;\n\t\t\ta[i + 1] = max(0, a[i + 1] - a[i]);\n\t\t\ta[i] = 0;\n\t\t}\n\t\tcnt += a[n - 1];\n\t\tans = min(ans, cnt);\n\t}\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    int p[n];\n    for(int i=0;i<n;i++){\n        cin>>p[i];\n    }\n    int m=20000;\n    for(int i=0;i<=p[0];i++){\n        int q[n];\n        for(int  j=0;j<n;j++){\n            q[j]=p[j];\n        }\n        int sum=i;\n        q[0]-=i;\n        for(int j=0;j<=n-2;j++){\n            if(q[j]<=0) continue;\n            sum+=q[j]*2;\n            q[j+1]-=q[j];\n        }\n\n        if(q[n-1]>0){\n            sum+=q[n-1];\n        }\n\n        m=min(m,sum);\n    }\n    cout<<m<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p) > rec =\n  [&](vector<int> p){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0){\n        if(p[i] >= p[i+1]){\n          res += p[i] + p[i+1];\n          p[i+1] = 0;\n        }\n        else {\n          res += p[i] * 2;\n          p[i+1] -= p[i];\n        }\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    return res + max(0LL,p[n-1]);\n  };\n\n  int ans = 1 << 30;\n  ans = min(ans,rec(p));\n  reverse(p.begin(),p.end());\n  ans = min(ans,rec(p));\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <set>\nusing namespace std;\n#define INF 100000\nint n,dp[5005][4],p[5005],ans=INF;\nint main(void){\n    scanf(\"%d\",&n);\n    for(int i=0;i<=n;i++)for(int j=0;j<5;j++)dp[i][j]=INF;\n    for(int i=0;i<n;i++)scanf(\"%d\",p+i);\n    for(int i=0;i<=p[0];i++)dp[0][i]=p[0]-i;\n    for(int i=0;i<n-1;i++){\n        for(int j=0;j<4;j++){\n            dp[i+1][max(p[i+1]-j,0)]=min(dp[i+1][max(p[i+1]-j,0)],dp[i][j]+j*2);\n        }\n    }\n    for(int i=0;i<4;i++)ans=min(ans,dp[n-1][i]+i);\n    printf(\"%d\\n\",ans);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,pi[5000],num=0,midle=0,md = 0;\n  cin >>n;\n  for(int i = 0;i<n;i++){\n    cin >> pi[i];\n  }\n  while(1){\n    for(int i = 0;i<n;i++){\n      midle = 0;\n      if(pi[i]>0 && pi[i+1]>0){\n\tpi[i] = pi[i]-1;\n\tpi[i+1] = pi[i+1]-1;\n\tnum = num+2;\n\tmidle = midle+1;\n      }\n      if(midle < n/2) md =1;\n    }\n    if(md==1) break;\n  }\n    for(int i=0;i<n;i++){\n      num = num+(pi[i]*2);\n      pi[i] = 0; \n    }\n  cout << num << endl;\n\n}\n  \n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, n) for(int i = a; i < (n); i++)\n#define mod (ll)(1e9+7)\n#define int ll\n#define INF 100000000\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nsigned main() {\n\tll n, result = INF, sum = 0;\n  ll p[5005], q[5005];\n  cin >> n;\n  rep(i, n) cin >> p[i];\n  rep(i, p[0] + 1) {\n    rep(j, n) q[j] = p[j];\n    q[0] -= i;\n    ll b = i;\n    rep(j, n - 1) {\n      if(q[j] > 0) {\n        q[j + 1] -= q[j];\n        sum += q[j] * 2;\n        q[j] = 0;\n      }\n    }\n    if(q[n - 1] > 0) sum += q[n - 1];\n    result = min(result, sum);\n  }\n  cout << result << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cassert>\n#include <typeinfo>\n#include <vector>\n#include <stack>\n#include <cmath>\n#include <set>\n#include <map>\n#include <string>\n#include <algorithm>\n#include <cstdio>\n#include <queue>\n#include <iomanip>\n#include <cctype>\n#include <random>\n#include <complex>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vvb;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<29;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-7;\nconst ll mod=1e9+7;\nconst int dx[4]={0,1,0,-1},dy[4]={1,0,-1,0};\n\nint n;\nvi a;\n\nint f(int x){\n\tint res=x;\n\tvi b=a;\n\tb[0]=max(b[0]-x,0);\n\tfor(int i=1;i<n;i++){\n\t\tres+=2*b[i-1];\n\t\tb[i]=max(b[i]-b[i-1],0);\n\t}\n\treturn res+b[n-1];\n}\n\nint main(){\n\tcin>>n;\n\ta=vi(n);\n\tfor(int i=0;i<n;i++) cin>>a[i];\n\tcout<<min({f(0),f(1),f(2),f(3)})<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n int n;\n cin>>n;\n\n int p[5000];\n\n for(int i=0;i<n;i++){\n\tcin>>p[i];\n }\n\n int min_sum=20000;\n\n for(int i=0;i<=p[0];i++){\n\tint q[5000];\n\tfor (int j=0;j<n;j++){\n\t\tq[j]=p[j];\n\t}\n\n\tint sum=i;\n\tq[0]-=i;\n\n\tfor(int j=0;j<=n-2;j++){\n\t\tif(q[j]<=0)\tcontinue;\n\n\t\tsum+=q[j]*2;\n\t\tq[j+1]-=q[j];\n\t}\n\n\tif(q[n-1]>0){\n\t\tsum+=q[n-1];\n\t}\n\tmin_sum=min(min_sum,sum);\n }\n cout <<min_sum<<endl;\n\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define V vector\n#define VI vector<int>\n#define VVI vector<vector<int>>\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REPR(i,n) for(int i=n;i>=0;i--)\n#define FOR(i,m,n) for(int i=m;i<n;i++)\n#define MOD 1000000007\n#define INF 1e9\n#define F first\n#define S second\n#define All(x) (x).begin(),(x).end()\nusing namespace std;\ntypedef long long ll;\n\nint main(void){\n    int N,cnt=0,ans=INF;\n    cin>>N;\n    VI p(N);\n    REP(i,N){\n        cin>>p[i];\n    }\n    REP(j,p[0]+1){\n        cnt=0;\n        cnt+=j;\n        int now=p[0]-j;\n        int next=max(0,p[1]-now);\n        cnt+=now*2;\n        FOR(i,1,N-1){\n            now=next;\n            next=max(0,p[i+1]-now);\n            cnt+=now*2;\n        }\n        cnt+=next;\n        ans=min(ans,cnt);\n    }\n    cout<<ans<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <limits.h>\nint dp[5001][4],p[5000], n;\nusing namespace std;\n#define chmin( a, b ){ (a) = min( a, b ) ;}\nmain()\n{\n    int n;\n    cin >> n;\n    for( int i = 0; i < n; i++ ) cin >> p[i];\n    memset( dp, 0x3f, sizeof( dp ) );\n    \n    for( int i = 0; i < 4; i++ )dp[0][i] = i;\n    for (int i = 0; i < n; i++)\n    {\n        for (int j = 0; j < 4; j++)\n        {\n            chmin(dp[i + 1][max(0, p[i] - j)], dp[i][j] + max(0, p[i] - j) * (i == n - 1 ? 1 : 2));\n        }\n    }\n    printf(\"%d\\n\", *min_element(dp[n], dp[n] + 4));\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <iostream>\n#include <utility>\n#include <iterator>\n\nint main () {\n    int N;\n    std::cin >> N;\n    std::vector<int> v(N);\n    for (int i = 0; i < N; i++) {\n        std::cin >> v[i];\n    }\n    int cnt = 0;\n    while (true) {\n        auto max_it = std::max_element(v.begin(), v.end());\n        int max = *max_it;\n        std::size_t index = std::distance(v.begin(), max_it);\n        std::cerr << \"Max is \" << max << \", index is \" << index << std::endl;\n        if (max == 0) {\n            break;\n        }\n        if (index > 0 && v[index-1] > 0) {\n            std::cerr << \"Remove with left value \" << v[index-1] << std::endl;\n            int min = std::min(max, v[index-1]);\n            cnt += min * 2;\n            v[index] -= min;\n            v[index-1] -= min;\n            continue;\n        }\n        if (index < N && v[index+1] > 0) {\n            std::cerr << \"Remove with right value \" << v[index-1] << std::endl;\n            int min = std::min(max, v[index+1]);\n            cnt += min * 2;\n            v[index] -= min;\n            v[index+1] -= min;\n            continue;\n        }\n        std::cerr << \"Remove single value\" << std::endl;\n        if (index == 0 || index == N-1) {\n            std::cerr << \"Hashikko\" << std::endl;\n            cnt += max;\n        } else {\n            cnt += max *2;\n        }\n        v[index] = 0;\n    }\n    std::cout << cnt << std::endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,p[5000],q[5000],i,j,x,y;\nmain(){\n  for(cin>>n;i<n;q[i]=p[i],++i)cin>>p[i];\n  for(i=1;i<n-1;++i)x+=p[i]*2,p[i+1]=max(0,p[i+1]-p[i]);\n  for(;j<n-1;++j)y+=q[j]*2,q[j+1]=max(0,q[j+1]-q[j]);\n  cout<<min(x+p[0]+p[n-1],y+q[n-1])<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int count=0;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  if(p[1]<=p[2]){\n    count +=p[1]*2;\n    p[2]-=p[1];\n    p[1]=0;\n  }else{\n    count+=p[1]+p[2];\n    p[2]=0;\n    p[1]=0;\n  }\n  if(p[n]<=p[n-1]){\n    count +=p[n]*2;\n    p[n-1]-=p[n];\n    p[n]=0;\n  }else{\n    count+=p[n]+p[n-1];\n    p[n-1]=0;\n    p[n]=0;\n  }\n  for(int i=2;i<n;i++){\n    if((p[i-1]==0)&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i+1]-=p[i];\n      p[i]=0;\n      if(p[i+1]<0)p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>1;i--){\n    if((p[i+1]==0)&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]-=p[i];\n      p[i]=0;\n      if(p[i-1]<0)p[i-1]=0;\n    }\n  }\n  for(int i=2;i<n;i++){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>=1;i--){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n\n  cout <<count <<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,pi[5000],num=0,midle=0,md = 0;\n  cin >>n;\n  for(int i = 0;i<n;i++){\n    cin >> pi[i];\n  }\n  while(1){\n    for(int i = 0;i<n;i++){\n      midle = 0;\n      if(pi[i]>0 && pi[i+1]>0){\n\tpi[i] = pi[i]-1;\n\tpi[i+1] = pi[i+1]-1;\n\tnum = num+2;\n\tmidle = midle+1;\n      }\n      if(midle < n/2) md =1;\n    }\n    if(md==1) break;\n  }\n    for(int i=1;i<n-1;i++){\n      num = num+(pi[i]*2);\n      pi[i] = 0; \n    }\n    num = num+pi[0];\n    num = num+pi[n-1];\n  cout << num << endl;\n\n}\n  \n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <set>\n#include <map>\n#include <cmath>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);i <= (e);(i)++)\n\nint N;\n\nint solve(vector<int> a){\n  int res = 0;\n\n  rep(i,0,N - 2){\n    res += a[i] * 2;\n    a[i + 1] -= a[i];\n    a[i + 1] = max(0,a[i + 1]);\n  }\n\n  res += a[N - 1];\n\n  return res;\n}\n\nint main(){\n  cin >> N;\n\n  vector<int> a(N);\n\n  rep(i,0,N - 1) cin >> a[i];\n\n  int MAX = a[0];\n\n  int res = 1e9;\n\n  rep(i,0,MAX){\n    int t = MAX - i;\n    a[0] = i;\n    t += solve(a);\n\n    res = min(res, t);\n  }\n\n  cout << res << endl;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    int p[n];\n    for(int i=0;i<n;i++){\n        cin>>p[i];\n    }\n    int m=20000;\n    for(int i=0;i<p[0];i++){\n        int q[n];\n        for(int  j=0;j<n;j++){\n            q[j]=p[j];\n        }\n        int sum=i;\n        q[0]-=i;\n        for(int j=0;j<n-1;j++){\n            if(q[j]<=0) continue;\n            sum+=q[j]*2;\n            q[j+1]-=q[j];\n        }\n\n        if(q[n-1]>0){\n            sum+=q[n-1];\n        }\n\n        m=min(m,sum);\n    }\n    cout<<m<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\nint a[5000];\nint  main(){\n  int n;\n  cin>>n;\n  lp(i,n){\n    cin>>a[i];\n  }\n  int count=0,check=0;\n  while(1){\n    check=0;\n    for(int i=1;i<n;i++){\n      if(a[i]>0&&a[i-1]>0){\n\tcount++;\n\ta[i]--;\n\ta[i-1]--;\n\tcheck=1;\n      }\n    }\n    if(check==0) break;\n  }\n  int count2=0;\n  lp(i,n){\n    if(i==0||i==n-1)\n      count2+=a[i];\n    else count+=a[i];\n  }\n  cout<<count*2+count2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main() {\n\tint n, ans = 20000;\n\tcin >> n;\n\tint p[5000], q[5000];\n\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t\tq[i] = p[i];\n\t}//??\\?????¨\n\n\tfor (int j = 0; j < 4; j++) {\n\t\tint counti = 0;//???????????´??§????????????\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tp[i] = q[i];\n\t\tp[0] -= j;//????????????????????????????????????\n\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tif (p[i] <= 0)continue;\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t}\n\t\tif (p[n - 1] < 0)\n\t\t\tp[n - 1] = 0;\n\t\tif (ans > counti + p[n - 1] + j)\n\t\t\tans = counti + p[n - 1] + j;//a[n-1]?????????????\\\\??????????????£????????????????????°j??????????????????????????????????????????\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "//============================================================================\n// Name        : AOJ.cpp\n// Author      : \n// Version     :\n// Copyright   : Your copyright notice\n// Description : Hello World in C++, Ansi-style\n//============================================================================\n\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\nint w,h,c;\nint d[50001]={};\n\nint main() {\n\tint n;\n\tint total1,total2;\n\tint r1,r2,d1;\n\t\tcin>>n;\n\t\tcin>>d1;\n\t\ttotal1=d1;\n\t\ttotal2=d1;\n\t\tr1=d1;\n\t\tr2=0;\n\n\t\tfor(int i=2;i<n+1;++i){\n\t\t\tcin>>d1;\n\t\t\tif(d1>=r1){\n\t\t\t\ttotal1+=d1;\n\t\t\t\tr1=d1-r1;\n\t\t\t}else{\n\t\t\t\ttotal1+=r1;\n\t\t\t\tr1=0;\n\t\t\t}\n\t\t\tif(d1>=r2){\n\t\t\t\ttotal2+=d1;\n\t\t\t\tr2=d1-r2;\n\t\t\t}else{\n\t\t\t\ttotal2+=r2;\n\t\t\t\tr2=0;\n\t\t\t}\n\t\t}\n\t\tcout<<min(total1,total2)<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin >> N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin >> p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int i=0;i<=p[0];i++){\n    int q[5000];\n    for(int j=0;j<N;j++){\n      q[j]=p[j];\n    }\n\n    int sum=i;\n    q[0] -= i;\n\n    for(int j=0;j<=N-2;i++){\n      if(q[j]<=0)\n        continue;\n\n      sum +=q[j]*2;\n      q[j+1]-=q[j];\n    }\n\n    if(q[N-1]>0){\n      sum += q[N-1];\n    }\n\n    min_sum = min(min_sum,sum);\n  }\n\n  cout << min_sum << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<=p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[j]=p[j];\n\t\t}\n\t\tint sum=i;\n\t\tq[0]-=i;\n\t\t\n\t\tfor(int j=0;j<=N-2;j++){\n\t\t\tif(q[j]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[j]*2;\n\t\t\tq[j+1] -=q[j];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  int sum = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      if(p[i] > 0) ans += p[i] - sum;\n      break;\n    }\n    if(p[i] > 0) {\n      ans += (p[i] - sum) * 2;\n      sum = p[i] - sum;\n    }else sum = 0;\n  }\n  cout << ans<<endl;\n  return ans;\n}\n\nint main() {\n  int p[5000] = {};\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  int k = p[0] + 1;\n  rep(i, 0, k) {\n    ans = min(ans, solve(p) + i);\n    p[0]--;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V,S;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    S.push_back(p);\n  }\n  int res = 0;\n  int ans = 10000;\n\nfor(int j = 0; j < 2; j++){\n  V = S;\n  for(int i = j; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  if(j == 0 && S[0] > S[1]) res -= S[0] - S[1];\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n}\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n\nint main(){\n    int N;\n    cin>>N;\n    int p[5000];\n    for(int i = 0;i < N;i++)cin>>p[i];\n    int min_sum = 20000;\n    for(int i = 0;i <= p[0];i++){\n        int q[5000];\n        for(int j = 0;j < N;j++){\n            q[j] = p[j];\n        }\n        int sum= i;\n        q[0] -= i;\n        for(int j= 0;j <= N-2;j++){\n            if(q[j] <= 0)continue;\n\n            sum+=q[j]*2;\n            q[j+1] -= q[j];\n        }\n\n        if(q[N-1]>0)sum += q[N-1];\n        min_sum = min(min_sum,sum);\n    }\n    cout<<min_sum<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n  \nint main(){\n  \n    int n;\n  \n    cin >> n;\n  \n    int p[n],t[n],count=0,tcount;\n  \n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      t[i] = p[i];\n      //count += p[i];\n    }\n  \n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n  \n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n  \n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n  \n  \n  \n  \n    tcount = t[0];\n  \n    for(int i=1;i<n-1;i++){\n      tcount += t[i] * 2;\n      if(t[i] > t[i+1] ){\n        t[i+1] = 0;\n      }\n      else{\n        t[i+1] -= t[i];\n      }\n    }\n  \n    if(t[n-1] != 0){\n      tcount += t[n-1];\n    }\n  \n  \n  \n    /*int maxp = max(p[0],p[1]);\n  \n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n  \n  \n  \n    maxp = max(p[n-2],p[n-1]);\n  \n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n  \n    cout << min(count,tcount) << endl;\n  \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint main(){\n    cin.tie(nullptr);\n    ios_base::sync_with_stdio(false);\n\n    int n;\n    cin>>n;\n\n    int p[n+1];\n    int p2[n+1];\n    for(int i=1;i<=n;i++){\n        cin>>p[i];\n        p2[i]=p[i];\n    }\n\n    int ans=0;\n    int i;\n    for(i=1;i<=n;i++){\n        if(i==1){\n            while(p[1]>0&&p[2]>0){\n                ans+=2;\n                p[1]-=1;\n                p[2]-=1;\n            }\n\n            while(p[1]>0){\n                ans++;\n                p[1]-=1;\n            }\n\n            continue;\n        }\n\n        if(i==n){\n            while(p[n]>0){\n                ans++;\n                p[n]-=1;\n            }\n\n            continue;\n        }\n\n        while(p[i]>0){\n            ans+=2;\n            p[i]-=1;\n            p[i+1]-=1;\n        }\n\n    }\n\n    int ans2=0;\n    for(i=1;i<=n;i++){\n        if(i==1){\n            while(p2[1]>0){\n                ans2++;\n                p2[1]-=1;\n            }\n            \n            continue;\n        }\n\n        if(i==n){\n            while(p2[n]>0){\n                ans2++;\n                p2[n]-=1;\n            }\n\n            continue;\n        }\n\n        while(p2[i]>0){\n            ans2+=2;\n            p2[i]-=1;\n            p2[i+1]-=1;\n        }\n\n    }\n\n    cout<<min(ans,ans2)<<\"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\n#include <algorithm>\nusing namespace std;\nint N;\nint main(){\n    cin >> N;\n    vector<int> v;\n    vector<int> v2;\n    for(int i=0; i<N; ++i){\n        int a; cin >> a;\n        v.push_back(a);\n        v2.push_back(a);\n    }\n    int cnt=0, minV=1000000;\n    for(int k=1; k<N-1; ++k){\n    for(int i=1; i<N-1; ++i){\n        if(v[i-1]==0&&v[i+1]==0) {\n            cnt+= v[i]*2;\n            v[i]=0;\n        }\n        while(1){\n            if(v[i-1]==0||v[i]==0) break;\n            v[i-1]--; v[i]--;\n            cnt+=2; \n        }\n        while(1){\n            if(v[i+1]==0||v[i]==0) break;\n            v[i+1]--; v[i]--;\n            cnt+=2;\n        }\n    }\n    }\n    minV = min(minV, cnt+v[0]+v[N-1]);\n    cnt=0;\n    for(int k=N-1; k>=1; --k){\n    for(int i=N-1; i>=1; --i){\n        if(v2[i-1]==0&&v2[i+1]==0) {\n            cnt+= v2[i]*2;\n            v2[i]=0;\n        }\n        while(1){\n            if(v2[i+1]==0||v2[i]==0) break;\n            v2[i+1]--; v2[i]--;\n            cnt+=2;\n        }\n        while(1){\n            if(v2[i-1]==0||v2[i]==0) break;\n            v2[i-1]--; v2[i]--;\n            cnt+=2; \n        }\n        \n    }\n    }\n\n    minV = min(minV, cnt+v2[0]+v2[N-1]);\n    cout << minV << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(void){\n    int N,p[5001];\n    cin >> N;\n    for(int i=1;i<=N;i++){\n        cin >> p[i];\n    }\n    int count=0;\n    for(int D=3;D>=1;D--){\n        for(int i=2;i<N;i++){\n            if(p[i]==D){\n                if(p[i-1]==p[i+1]){\n                    if(i=2){\n                        p[i]--;\n                        p[i+1]--;\n                        count+=2;\n                    }\n                    else{\n                        p[i]--;\n                        p[i-1]--;\n                        count+=2;\n                    }\n                }\n                else if(p[i-1]>p[i+1]){\n                    p[i]--;\n                    p[i-1]--;\n                    count+=2;\n                }\n                else{\n                    p[i]--;\n                    p[i+1]--;\n                    count+=2;\n                }\n            }\n        }\n    }\n    if(p[1]>0)count += p[1];\n    if(p[N]>0)count += p[N];\n    cout << count << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,j,i,k;\n\tscanf(\"%d\",&a);\n\th=0;\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th+=s[i];\n\t}\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i!=1){\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1!=a-1){\n\t\t\t\t\tif(s[i-1]<=s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1==a-1){\n\t\t\t\t\tif(s[i-1]!=0){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==1){\n\t\t\t\t\tif(s[i+1]!=0){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) s[0]=0;\n\tif(s[a-1]>0) s[a-1]=0;\n\tfor(i=0;i<a;i++) h+=s[i]*-1;\n\tprintf(\"%d\\n\",h);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n;\nint p[5000];\nint cnt[5001];\n\nint main() {\n\tint i, j;\n\t\n\tcin >> n;\n\tfor (i = 0; i < n; i++) cin >> p[i];\n\t\n\tint ans = 1145141919;\n\tfor (i = 0; i <= p[0]; i++) {\n\t\tfor (j = 0; j < n; j++) cnt[j] = 0;\n\t\tcnt[0] += i;\n\t\t\n\t\tfor (j = 0; j < n; j++) {\n\t\t\tint kaisu = max(0, p[j] - cnt[j]);\n\t\t\tcnt[j] += kaisu;\n\t\t\tcnt[j + 1] += kaisu;\n\t\t}\n\t\t\n\t\tint sumCnt = 0;\n\t\tfor (j = 0; j < n; j++) sumCnt += cnt[j];\n\t\tans = min(ans, sumCnt);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// 2017/07/18 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\tint sum1 = 0;\n\n\tint p[5000];\n\tfor(int i=0; i<N; i++){\n\t\tcin >> p[i];\n\t\tsum1 += p[i];\n\t}\n\n\tfor(int i=1; i<=N-2; i++){\n\t\tif(p[i]<=0)\n\t\t\tcontinue;\n\n\t\tp[i+1] -= p[i];\n\t\tp[i] = 0;\n\t}\n\n\tif(p[2]<0){\n\t\tp[0] += p[2];\n\t\tp[2] = 0;\n\t}\n\n\tif(p[0]>0){\n\t\tp[0] = 0;\n\t}\n\n\tif(p[N-1]>0){\n\t\tp[N-1] = 0;\n\t}\n\n\tint sum2 = 0;\n\n\tfor(int i=0; i<N; i++){\n\t\tsum2 += p[i];\n\t}\n\n\tcout << sum1-sum2 << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// pck2016 パンケーキ\n#include <iostream>\nusing namespace std;\nint main(void){\n    int N,p[5001],copy[5001],min=10000000;\n    cin >> N;\n    for(int i=1;i<=N;i++){\n        cin >> p[i];\n    }\n    int count=0;\n    for(int test=0;test<=p[1];test++){\n        copy[1]=p[1]-test;\n        count=test;\n         for(int i=1;i<N;i++){\n            copy[i+1]=p[i+1];\n            if(copy[i]>0){\n                count+=copy[i]*2;\n                copy[i+1]-=copy[i];\n            }\n        }\n        if(count<min)min=count;\n    }\n    cout << min << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cassert>\n#include <typeinfo>\n#include <vector>\n#include <stack>\n#include <cmath>\n#include <set>\n#include <map>\n#include <string>\n#include <algorithm>\n#include <cstdio>\n#include <queue>\n#include <iomanip>\n#include <cctype>\n#include <random>\n#include <complex>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<char> vc;\ntypedef vector<vc> vvc;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<vb> vvb;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<29;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-7;\nconst ll mod=1e9+7;\nconst int dx[4]={0,1,0,-1},dy[4]={1,0,-1,0};\n\nint n;\nvi a;\n\nint f(int x){\n\tint res=x;\n\tvi b=a;\n\tb[0]=max(b[0]-x,0);\n\tfor(int i=1;i<n;i++){\n\t\tres+=2*b[i-1];\n\t\tb[i]=max(b[i]-b[i-1],0);\n\t}\n\treturn res+b[n-1];\n}\n\nint main(){\n\tcin>>n;\n\ta=vi(n);\n\tfor(int i=0;i<n;i++) cin>>a[i];\n\tcout<<min({f(0),f(1),f(2)})<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }   \n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int side_zeros = 0;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int current = 0;\n\n            if (current_section.size() == 1) {\n                if (current_section[0] == 0 && input[current_section[0]+1] == 0) {\n                    current += 1;\n                } else if (input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n            } else {\n                if (current_section[0] != 0 && input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n                if (current_section[1] != input_size - 1 && input[current_section[1]+1] == 0) {\n                    current += 1;\n                }\n            }\n            if (current == side_zeros) {\n                section = current_section;\n            }\n            if (current > side_zeros) {\n                side_zeros = current;\n                section = current_section;\n            }\n            if (current == 2) break;\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int n,last_r=114514;\n  cin>>n;\n\n  vector <int> a(n),b;\n  for(int i=0;i<n;i++) cin>>a[i];\n\n  for(int i=0;i<=3;i++){\n    b=a;\n    int r=i;\n    b[0]-=i;\n\n    for(int j=0;j<n-1;j++){\n      r+=b[i]*2;\n      b[i+1]-=b[i];\n      if(b[i+1]<0) b[i+1]=0;\n    }\n\n    last_r=min(last_r,r+b[n-1]);\n\n  }\n\n  return 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <vector>\n#include <string>\nusing namespace std;\nconst int INF = 2000000005;\nint pk[5005] = { 0 }, cnter[5005] = { 0 };\n\nint main() {\n\t\n\t\tint n;\n\t\tcin >> n;\n\t\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> pk[i];\n\t\t}\n\t\tif(pk[0]==0){}\n\t\telse if (pk[0] <= pk[1]) {\n\t\t\tcnter[0] = pk[0];\n\t\t\tcnter[1] = pk[0];\n\t\t}\n\t\telse {\n\t\t\tcnter[0] = pk[0];\n\t\t\tcnter[1] = pk[1];\n\t\t}\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\twhile (cnter[i] < pk[i]) {\n\t\t\t\tcnter[i]++;\n\t\t\t\tcnter[i + 1]++;\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t/*cout << cnter[i] << \" \";*/\n\t\t\tans+=cnter[i];\n\t\t}\n\t\tcout << /*endl << */ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[10000],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]<p[i]){\n\t\t\t\tcnt+=p[i+1]*2; p[i]-=p[i+1]; p[i+1]-=p[i+1];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(i==n-1){\n\t\t\t\tcnt+=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcnt+=p[i]*2; p[i+1]-=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\t//printf(\"%d %d\\n\",p[i],p[i+1]);\n\t\t\t//printf(\"%d\\n\",cnt);\n\t\t}\n\t}\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tif(p[0]!=0) cnt+=p[0];\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n    #define debug_echo(expr) cout << expr;\n    #define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n    #define debug_echo(expr)\n    #define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    int curp = p[i];\n    rep(_, curp) {\n        if (i-1 == 0 && N-1 == i+1) {\n            if (p[i-1] > p[i+1]) {\n                p[i-1]--;\n                flipcnt++;\n                p[i]--;\n                flipcnt++;\n            } else {\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        } else {\n            p[i-1] -= 1;\n            flipcnt++;\n            p[i] -= 1;\n            flipcnt++;\n            p[i+1] -= 1;\n            flipcnt++;\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\n\nint rec(int n) {\n  if (n >= N-1) return 0;\n  p[n+1] -= max(0, p[n]);\n  debug_var(n, max(0, p[n]), max(0, p[n+1]));\n  int res = rec(n+1)+max(0, p[n])*2;\n  return res;\n}\n\nint main() {\n  cin >> N;\n  rep(i, N) cin >> p[i];\n\n  cout << rec(0) + max(0, p[N-1]) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\n\nint rec(int n) {\n  if (n >= N-1) return 0;\n  p[n+1] -= p[n];\n  debug_var(n, p[n+1]);\n  int res = rec(n+1)+p[n]*2;\n  return res;\n}\n\nint main() {\n  cin >> N;\n  rep(i, N) cin >> p[i];\n\n  cout << rec(0) + max(0, p[N-1]) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n  int n; cin>>n;\n  int p[n];\n  for(int i=0;i<n;++i) cin>>p[i];\n  int x=3,cnt=0;\n  while(x){\n    for(int i=1;i<n-1;++i){\n      int a=i-1;\n      if(p[i]==x){\n        /*  if(i==0)\n            if(p[1]>0) a=1;\n            else{\n            cnt+=p[0], p[0]=0;\n            continue;\n            }\n            else if(i==n-1)\n            if(p[n-2]>0) a=n-2;\n            else{\n            cnt+=p[n-1], p[n-1]=0;\n            continue;\n            }*/\n        if(p[i-1]<p[i+1]) a=i+1;\n        p[i]--, p[a]--;\n        cnt+=2;\n      }\n    }\n    x--;\n  }\n  if(p[0]>0) cnt+=p[0];\n  if(p[n-1]>0) cnt+=p[n-1];\n  cout<<cnt<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  cin>>n;\n  int count=0;\n  int p[n+1];\n  for(int i=1;i<=n;i++){\n    cin >> p[i];\n  }\n  if(p[1]<=p[2]){\n    count +=p[1]*2;\n    p[2]-=p[1];\n    p[1]=0;\n  }else{\n    count+=p[1]+p[2];\n    p[2]=0;\n    p[1]=0;\n  }\n  if(p[n]<=p[n-1]){\n    count +=p[n]*2;\n    p[n-1]-=p[n];\n    p[n]=0;\n  }else{\n    count+=p[n]+p[n-1];\n    p[n-1]=0;\n    p[n]=0;\n  }\n  for(int i=2;i<n/2;i++){\n    if((p[i-1]==0)&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i]=0;\n      p[i+1]-=p[i];\n      if(p[i+1]<0)p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>n/2;i--){\n    if((p[i+1]==0)&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i]=0;\n      p[i-1]-=p[i];\n      if(p[i-1]<0)p[i-1]=0;\n    }\n  }\n  for(int i=2;i<n/2;i++){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n  for(int i=n-1;i>n/2;i--){\n    if((p[i-1]+p[i+1]<=p[i])&&(p[i]!=0)){\n      count+=p[i]*2;\n      p[i-1]=0;\n      p[i]=0;\n      p[i+1]=0;\n    }\n  }\n\n  cout <<count <<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    V.push_back(p);\n  }\n\n  int res = 0;\n\n  if(V[0] >= V[1]){\n    while( !(V[1] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n  else {\n    while( !(V[0] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n\n  for(int i = 1; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n  cout << res << endl;\n  cout << V[0] << \" \" << V[n-1] << endl;\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n\n  cout << res << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int N;\n  cin>>N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int i=0;i<=p[0];i++){\n    int q[5000];\n    for(int i=0;i<N;i++){\n      q[i]=p[i];\n    }\n\n    int sum=I;\n    q[0]-=I;\n\n    for(int i=0;i<N-2;i++){\n      if(q[i]<=0){\n        continue;\n      }\n      sum+=q[i]*2;\n      q[i+1]-=q[i];\n    }\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n    min_sum=min(min_sum,sum);\n  }\n  cout <<min_sum<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tint n;\n\tcin >> n;\n\tvector<int> a(n);\n\tfor(int i=0; i<n; ++i) cin >> a[i];\n\t\n\tint ret = 0;\n\tfor(int i=1; i<n-1; ++i) {\n\t\twhile(a[i]) {\n\t\t\tif(a[i-1] > 0) {\n\t\t\t\ta[i-1]--;\n\t\t\t\ta[i]--;\n\t\t\t\tret += 2;\n\t\t\t} else {\n\t\t\t\ta[i]--;\n\t\t\t\ta[i+1]--;\n\t\t\t\tret += 2;\n\t\t\t}\n\t\t}\n\t}\n\tret += max(0, a[0]) + max(0, a[n-1]);\n\t\n\tcout << ret << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int w,h,c,i,num,hd,wd;\n  int sum = 0;\n  cin >> w >> h >> c;\n  hd = h;\n  wd = w;\n  if(hd == wd) cout << c << endl;\n  else{\n    while(1){\n      if(w>h){\n\tif(w%h == 0){\n\t  num = h;\n\t  break;\n\t}\n\tw = w%h;\n      }\n      if(h>w){\n\tif(h%w == 0){\n\t  num =w;\n\t  break;\n\t}\n\th = h%w;\n      }\n    }\n \n\n  cout << ((hd*wd)/(num*num))*c << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//\n//  2017-12-23-A.cpp\n//  \n//\n//  Created by Shingo on 2017/12/23.\n//\n\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main (){\n    int N;\n    int p[1000];\n    int ok = 0;\n    int count = 0;\n    cin >> N;\n    for (int i = 0;i<N;i++){\n        cin >> p[i];\n    }\n    while (ok == 0){\n        for (int i = 1;i<N-1;i++){\n            if (p[i]!=0&&p[i+1]!=0){\n                p[i]--;\n                p[i+1]--;\n                count+=2;\n            }else if(p[i]!=0&&p[i-1]!=0){\n                p[i]--;\n                p[i-1]--;\n                count+=2;\n            }else if(p[i]!=0){\n                p[i]--;\n                count+=2;\n            }\n                \n        }\n        if(p[N - 1]!=0&&p[N-2]==0){\n            p[N]--;\n            count+= 1;\n        }\n        if(p[0]!=0&&p[1]==0){\n            p[0]--;\n            count+= 1;\n        }\n        int max = 0;\n        for (int i = 0;i<N;i++){\n            if (max < p[i]){\n                max = p[i];\n            }\n        }\n        if(max == 0){\n            ok = 1;\n        }\n    }\n    cout << count << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main() {\n\tint n, ans = 20000;\n\tcin >> n;\n\tint p[5000], q[5000];\n\n\tfor (int i = 0; i < n; i++) {\n\t\tcin >> p[i];\n\t\tq[i] = p[i];\n\t}//??\\?????¨\n\n\tfor (int j = 0; j < 4; j++) {\n\t\tint counti = 0;//???????????´??§????????????\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tp[i] = q[i];\n\t\tp[0] -= j;//????????????????????????????????????\n\n\t\tfor (int i = 0; i < n - 1; i++) {\n                        if (p[i] <= 0)\n                                    continue;\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t}\n\t\tif (p[n - 1] < 0)\n\t\t\tp[n - 1] = 0;\n\t\tif (ans > counti + p[n - 1] + j)\n\t\t\tans = counti + p[n - 1] + j;//a[n-1]?????????????\\\\??????????????£????????????????????°j??????????????????????????????????????????\t\n\t}\n\tcout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\n\nint main(){\n  int n;\n  cin>>n;\n  int a,b;\n  int count=0,count2=0;\n  lp(i,n){\n    cin>>a;\n    if(i==0){\n      b=a;\n      continue;\n    }\n    if(i==1){\n      if(b>a){\n\tcount2+=b;\n\tb=a;\n\tcontinue;\n      }\n    }\n    count+=b;\n    a-=b;\n    if(a<0) a=0;\n    b=a;\n    if(i==n-1) count2+=b;\n  }\n  cout<<count*2+count2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nusing namespace std;\n\nint n;\nint p[5010];\n\nint main(){\n\tscanf(\"%d\", &n);\n\tfor(int i=0; i<n; ++i) scanf(\"%d\", &p[i]);\n\n\tint ans = 0;\n\tif(p[0] > p[1]){\n\t\tans += p[0]-p[1];\n\t\tp[0] = p[1];\n\t}\n\tfor(int i=0; i<n-1; ++i){\n\t\tif(p[i] > 0){\n\t\t\tans += p[i]*2;\n\t\t\tp[i+1] -= p[i];\n\t\t}\n\t}\n\tif(p[n-1] > 0) ans += p[n-1];\n\n\tprintf(\"%d\\n\", ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint n, po = 0, pe = 0, a, b;\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n / 2; i++) {\n\t\tcin >> a >> b;\n\t\tpo += a;\n\t\tpe += b;\n\t}\n\tif (n % 2 == 1) {\n\t\tcin >> a;\n\t\tpo += a;\n\t}\n\n\tif (a > b)\n\t\tcout << a * 2 << endl;\n\telse\n\t\tcout << b * 2 << endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n\n  int n,p[5000],now[5000],i,result=10000000,log=0;\n\n  cin>>n;\n\n  for(i=0;i<n;i++) cin>>p[i];\n\n  for(i=0;i<=p[0];i++){\n    log=0;\n    for(int j=0;j<n;j++) now[j]=p[j];\n    now[0]-=i;\n    log+=i;\n    for(int j=0;j<n-1;j++){\n      log+=now[j]*2;\n      now[j+1]-=now[j];\n      now[j]=0;\n      if(now[j+1]<0) now[j+1]=0;\n    }\n    log+=now[n-1];\n    result=min(result,log);\n  }\n\n  cout<<result<<endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<set>\n#include<utility>\n#include<vector>\n#include<map>\n#include<algorithm>\n#include<queue>\n#include<stack>\n#include<iomanip>\n\n#define P pair<int, int>\n\ntypedef long long ll;\n\nusing namespace std;\n\n\nint main() {\n\tint N;\n\tcin >> N;\n\tvector<int> p(N);\n\tfor (int i = 0; i < N; i++) {\n\t\tcin >> p[i];\n\t}\n\n\tint ans = 1e9;\n\tfor (int i = 0; i <= 3; i++) {\n\t\tint from = i;\n\t\tint cnt = i;\n\t\tfor (int j = 0; j < N; j++) {\n\t\t\tint plus = max(0, p[j] - from);\n\t\t\tcnt += (j == N - 1 ? 1 : 2)*plus;\n\t\t\tfrom = plus;\n\t\t}\n\t\tans = min(ans, cnt);\n\t}\n\n\tcout << ans << endl;\n\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n??\nint main(){\n????????int N;\n????????cin>>N;\n??????????\n????????int p[5000];\n????????for(int i=0;i<N;i++){\n????????????????cin>>p[i];\n????????}\n??????????\n????????int min_sum=20000;\n??\n????????for(int I=0;I<=p[0];I++){\n????????????????int q[5000];\n????????????????for(int i=0;i<N;i++){\n????????????????????????q[i]=p[i];\n????????????????}\n??????????????????\n????????????????int sum=I;\n????????????????q[0]-=I;\n??????????????????????????\n????????????????for(int i=0;i<=N-2;i++){\n????????????????????????if(q[i]<=0)\n????????????????????????????????continue;\n??????????????????\n????????????????????????sum+=q[i]*2;\n????????????????????????q[i+1]-=q[i];\n????????????????}\n??\n????????????????if(q[N-1]>0){\n????????????????????????sum+=q[N-1];\n????????????????}\n??????????????????\n????????????????min_sum=min(min_sum,sum);\n????????}\n??\n????????cout<<min_sum<<endl;\n??????????????????????????????????\n????????return 0;\n}\n????????"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin>>N;\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n  int min_sum = 20000;\n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int i=0;i<N;i++){\n      q[i]=p[i];\n    }\n    int sum=I;\n    q[0] -=I;\n    for(int i=0;i<=N-2;i++){\n      if(q[i]<=0){\n        continue;\n      }\n      sum +=q[i]*2;\n      q[i+1] -=q[i];\n    }\n    if(q[N-1]>0){\n      sum += q[N-1];\n    }\n    min_sum=min(min_sum, sum);\n  }\n  cout<<min_sum<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n \nint main()\n{\n    int N;\n    cin >> N;\n \n    int p[5000];\n    for(int i=0; i<N; i++){\n        cin >> p[i];\n    }\n \n    int min_sum = 20000;\n \n    for(int I=0; I<=p[0]; I++){\n        int q[5000];\n        for(int i=0; i<N; i++){\n            q[i] = p[i];\n        }\n \n        int sum = I;\n        q[0] -= I;\n \n        for(int i=0; i<=N-2; i++){\n            if(q[i]<=0)\n                continue;\n \n            sum += q[i]*2;\n            q[i+1] -= q[i];\n        }\n \n        if(q[N-1]>0){\n            sum += q[N-1];\n        }\n \n        min_sum = min(min_sum, sum);\n    }\n \n    cout << min_sum << endl;\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n; cin >> n;\n\tvi p(n); rep(i, n) cin >> p[i];\n\tvector<vi> dp(n, vi(4, inf));\n\trep(i, 4) dp[0][i] = i;\n\t\n\trep(i, n - 1) rep(j, 4) if(dp[i][j] < inf){\n\t\trep(k, 4){\n\t\t\tif(j + k < p[i]) continue;\n\t\t\tdp[i + 1][k] = min(dp[i + 1][k], dp[i][j] + 2 * k);\n\t\t}\n\t}\n\tint ans = inf;\n\trep(i, 4) rep(j, 4){\n\t\tif(i + j < p[n - 1]) continue;\n\t\tans = min(ans, dp[n - 1][i] + j);\n\t}\n\tcout << ans << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {//外側と内側１つめをひっくり返す\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(pp[j]>0&&pp[j+1]>0) {\n\t\t\t\tif(pp[j+1]>pp[j]) {\n\t\t\t\t\tsum+=pp[j+1]*2;\n\t\t\t\t\tpp[j+1]=0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsum+=pp[j]*2;\n\t\t\t\t\tpp[j+1]=pp[j]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j]=0;\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,j,i,k;\n\tscanf(\"%d\",&a);\n\th=0;\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th+=s[i];\n\t}\n\twhile(1){\n\t\td=-100000;\n\t\tg=0;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(d<s[i]){\n\t\t\t\td=s[i];\n\t\t\t\tf=i;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++) if(s[i]<=0) g++;\n\t\t//printf(\"%d\\n\",g);\n\t\tif(g==a) break;\n\t\tif(f==1){\n\t\t\tif(s[2]>0){\n\t\t\t\ts[1]--;\n\t\t\t\ts[2]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts[0]--;\n\t\t\t\ts[1]--;\n\t\t\t}\n\t\t}\n\t\telse if(f==a-1){\n\t\t\tif(s[a-2]>0){\n\t\t\t\ts[a-1]--;\n\t\t\t\ts[a-2]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ts[a-1]--;\n\t\t\t\ts[a]--;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(f-1<f+1){\n\t\t\t\ts[f+1]--;\n\t\t\t\ts[f]--;\n\t\t\t}\n\t\t\telse if(f-1>=f+1){\n\t\t\t\ts[f-1]--;\n\t\t\t\ts[f]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0;i<a;i++) h+=s[i]*-1;\n\tprintf(\"%d\\n\",h);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p,bool f) > rec =\n  [&](vector<int> p,bool f){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0){\n        if(f == 0) res += p[i];\n        else {\n          res += p[i] * 2;\n          p[i+1] -= p[i];\n        }\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    return res + max(0LL,p[n-1]);\n  };\n\n  int ans = 1 << 30;\n  ans = min({ans,rec(p,0),rec(p,1)});\n  reverse(p.begin(),p.end());\n  ans = min({ans,rec(p,0),rec(p,1)});\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint i,j,n,p[5000],sum,ans;\n\tcin>>n;\n\tfor(i=0;i<n;i++) {\n\t\tcin>>p[i];\n\t}\n\t\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tfor(j=0;j<n-1;j++) {\n\t\t\tif(p[j]<=0) continue;\n\t\t\telse {\n\t\t\t\t\n\t\t\t\tif(j==0&&p[j+1]==0) sum+=1,p[j]--,j--;\n\t\t\t\telse sum+=2,p[j]--,p[j+1]--,j--;\n\t\t\t}\n\t\t}\n\t\tif(n%2==0&&i>=1) sum+=p[n-1]; \n\t\tans=10000000;\n\t\tans=min(ans,sum+p[0]-i);\n\t}\n\tcout<<ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<cstdlib>\n#include <cmath>\n#include<stdio.h>\n#include<queue>\n#include<stack>\n#include<set>\n#define int long long\n#define MAX 1000000000000000000LL\nint inf=100000000000007;\nusing namespace std;\ntypedef pair<int,int> P;\nstring alph=\"abcdefghijklmnopqrstuvwxyz\";\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\n\nsigned main(){\n    int n;cin>>n;\n    int num[5005];\n    for(int i=0; i<n; i++){\n        cin>>num[i];\n    }\n    int count=0;\n    for(int i=0; i<n-1; i++){\n        while(num[i]>0&&num[i+1]>0){\n            count+=2;\n            num[i]--;\n            num[i+1]--;\n        }\n    }\n    for(int i=1;i<n-1;i++){\n        count+=num[i]*2;\n    }\n    cout<<count+num[0]+num[n-1]<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n    int n;\n    int p[5000];\n    cin>>n;\n    for (int i=0; i<n; i++) {\n        cin>>p[i];\n    }\n    int ans=20000;\n    for (int i=0; i<=p[0]; i++) {\n        int q[5000];\n        for (int j=0; j<n; j++) {\n            q[j]=p[j];\n        }\n        int sum=i;\n        q[0]-=i;\n        for (int j=0; j<n-1; j++) {\n            if(q[j]<=0)continue;\n            sum+=q[j]*2;\n            q[j+1]-=q[j];\n        }\n        if(q[n-1]>0)sum+=q[n-1];\n        ans=min(ans, sum);\n    }\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstdio>\n#include <cmath>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long ll;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define UNIQUE(a)  (a).erase(unique((a).begin(),(a).end()),(a).end())\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(auto i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\n//debug\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n\nint n,a[5000],b[5000];\n\n// O(N log N)\nint main() {\n\tcin>>n;\n\tREP(i,n)cin>>b[i];\n\tint ans = 1e6;\n\tREP(i,b[0]+1){\n\t\tmemcpy(a,b,sizeof(b));\n\t\ta[0]-=i;\n\t\tint t=i;\n\t\tREP(j,n-1){\n\t\t\tif(a[j]<1)continue;\n\t\t\tt+=a[j]*2;\n\t\t\ta[j+1]-=a[j];\n\t\t}\n\t\tt += max(0, a[n-1]);\n\t\tans = min(ans, t);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],t[n],count=0,tcount;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      t[i] = p[i];\n      //count += p[i];\n    }\n\n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n\n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n\n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n\n\n\n\n    tcount = t[0];\n\n    for(int i=1;i<n-1;i++){\n      tcount += t[i] * 2;\n      if(t[i] > t[i+1] ){\n        t[i+1] = 0;\n      }\n      else{\n        t[i+1] -= t[i];\n      }\n    }\n\n    if(t[n-1] != 0){\n      tcount += t[n-1];\n    }\n\n\n\n    /*int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n\n    cout << min(count,tcount) << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n    int n,p[5000],x=0;\n    cin>>n;\n    for(int i=1;i<=n;i++){\n    cin>>p[i];\n    }\n\tif(p[1]>=p[2]){\n\t\tx+=p[1]-p[2];\n\t\tp[1]=p[2];\n\t}\n    for(int i=1;i<n;i++){\n        if(p[i]>0){\n            x+=2*p[i];\n            p[i+1]-=p[i];\n         \n        }\n    }\n    if(p[n]>0){\n        x+=p[n];\n    }\n    cout<<x<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tint counti = 0;//inside\n\tint counto = 0;//outside\n\tint p[5000];\n\tint q[5000];\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin>>p[i];\n\t\tq[i] = p[i];\n\t}\n\tint i = N/2;\n\tint j = N/2;\n\twhile(1) {\t\n\t\tif (i == N-1) {\n\t\t\tcounti += p[i];\n\t\t\tp[i] = 0;\n\t\t\ti = -1;\n\t\t}\n\t\telse if(i>0){\t\t\t\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t\tif (p[i + 1] < 0)\n\t\t\t\tp[i + 1] = 0;\n\t\t\tp[i] = 0;\n\t\t\ti++;\n\t\t}\n\t\tif (j == 0) {\n\t\t\tcounti += p[j];\n\t\t\tp[j] = 0;\n\t\t\tj = -1;\n\t\t}\n\t\telse if(j>0){\n\t\t\tcounti += p[j] * 2;\n\t\t\tp[j - 1] -= p[j];\n\t\t\tif (p[j - 1] < 0)\n\t\t\t\tp[j - 1] = 0; \n\t\t\tp[j] = 0;\n\t\t\tj--;\n\t\t}\n\t\tif ((i==-1)&&(j==-1))\n\t\t\tbreak;\n\t}\n\ti = 0;\n\tj = N - 1;\n\twhile (1) {\n\t\tcounto += q[i] * 2;\n\t\tq[i + 1] -= q[i];\n\t\tq[i] = 0;\n\t\tif (q[i + 1] < 0)\n\t\t\tq[i + 1] = 0;\n\t\ti++;\n\t\tif (i == N / 2 + 1)\n\t\t\tbreak;\n\t\tcounto += q[j] * 2;\n\t\tq[j - 1] -= q[j];\n\t\tq[j] = 0;\n\t\tif (q[j-1] < 0)\n\t\t\tq[j- 1] = 0;\n\t\tj--;\n\t}\n\tif (counti > counto)\n\t\tcounti = counto;\n\tcout << counti << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i=0;i<n;++i) {\n    cin >> p[i];\n  }\n  \n  int ans = 0;\n  bool init = true;\n  for(int i=0;i<n-1;++i) {\n    if(p[i] > 0) {\n      if(i == 0) {\n        ans += p[0] + min(p[0], p[1]);\n        p[1] -= p[0];\n      } else {\n        ans += 2 * p[i];\n        p[i+1] -= p[i];\n      }\n    }\n  }\n  if(p[n-1] > 0) ans += p[n-1];\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n \nint N,p[5000],memo[5001],result[4];\n \nint main() {\n  cin>>N;\n  for (int i=0;i<N;i++){\n    cin>>p[i];\n  }\n  for(int i=0;i<=3;i++){\n    memo[0]=i;\n    for(int j=1;j<N+1;j++){\n      memo[j]=p[j-1]-memo[j-1];\n      if(memo[j]<0){\n        memo[j]=0;\n      }\n    }\n    result[i]=memo[0];\n    for (int j=1;j<N;j++){\n      result[i]+=memo[j]*2;\n    }\n    result[i]+=memo[N];\n  }\n  int min=result[0];\n  for(int i=1;i<=3;i++){\n    if(min>result[i]){\n      min=result[i];\n    }\n  }\n  cout<<min<<endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include<string.h>\nusing namespace std;\n\nint main(void){\n    int N; cin >> N;\n    int P[N];\n    int min = 20000;\n    \n    for(int i = 0;i < N;i++) cin >> P[i];\n    \n    for(int i = 0;i < 4;i++){\n        int count = 0;\n        int Q[N];\n        for(int x = 0;x < N;x++)Q[x] = P[x];\n       \n        for(int j = 0;j <= N - 2;j++){\n            \n            if(j == 0){\n                count += i;\n                Q[j] -= i;\n            }\n            \n            while(Q[j] > 0){\n                Q[j] -= 1; \n                Q[j+1] -= 1;\n                count += 2;\n            }\n        \n        }\n        \n        if(Q[N - 1] > 0)count += Q[N-1];\n        \n        min = min > count ? count : min;\n        \n    }\n    \n    cout << min << endl;\n    \n    return 0;\n    \n}\n        \n        \n    \n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    vector<ll> v1 = v;\n    FOR(i,1,n){\n      if(v[i-1]*v[i] == 0){\n\n      }\n      else{\n        ll x = min(v[i], v[i-1]);\n        v[i-1] -= x;\n        v[i] -= x;\n      }\n    }\n\n    FOR(i,2,n){\n      if(v1[i-1]*v1[i] == 0){\n\n      }\n      else{\n        ll x = min(v1[i], v1[i-1]);\n        v1[i-1] -= x;\n        v1[i] -= x;\n      }\n    }\n    ll x = min(v1[0], v1[1]);\n    v1[0] -= x;\n    v1[1] -= x;\n\n\n\n    ll sum1 = sum;\n\n    FOR(i,1,n-1){\n      sum+=v[i];\n      sum1+=v1[i];\n    }\n\n    cout<<min(sum,sum1)<<endl;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<map>\n#include<set>\n#include<stack>\n#include<queue>\n#include<math.h>\nusing namespace std;\ntypedef long long ll;\n#define int long long\ntypedef vector<int> VI;\ntypedef pair<int, int> pii;\n#define fore(i,a) for(auto &i:a)\n#define REP(i,n) for(int i=0;i<n;i++)\n#define eREP(i,n) for(int i=0;i<=n;i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define eFOR(i,a,b) for(int i=(a);i<=(b);++i)\n#define SORT(c) sort((c).begin(),(c).end())\n#define rSORT(c) sort((c).rbegin(),(c).rend())\n#define LB(x,a) lower_bound((x).begin(),(x).end(),(a))\n#define UB(x,a) upper_bound((x).begin(),(x).end(),(a))\n#define INF 1000000000\n#define LLINF 9223372036854775807\n#define mod 1000000007\n//vector<vector<int> > dp;\n//vector<vector<vector<int> > > vvvi;\n//dp=vector<vector<int> >(N, vector<int>(M,0));\n//vector<pair<int,int> > v;\n//v.push_back(make_pair(x,y));\n//priority_queue<int,vector<int>, greater<int> > q2;\n\n\n\nsigned main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tint N;\n\tcin >> N;\n\tVI A(N);\n\tREP(i, N)cin >> A[i];\n\t//int z[5010] = { 0 };\n\n\tint ans = LLINF;\n\teREP(t, A[0]) {\n\t\tint z[5010] = { 0 };\n\t\tint cost = t;\n\t\tz[0] = t;\n\t\tFOR(i, 1, N) {\n\t\t\tcost += (A[i - 1] - z[i - 1]) * 2;\n\t\t\tz[i] += A[i - 1] - z[i - 1];\n\t\t\tz[i] = min(A[i], z[i]);\n\t\t\t//cout << cost << \" \";\n\t\t}\n\t\t//cout << endl;\n\t\tcost += A[N - 1] - z[N - 1];\n\t\tans = min(ans, cost);\n\t\t//eREP(i, N)cout << z[i] << \" \";\n\t\t//cout << endl;\n\t\t//cout << cost << endl;\n\t}\n\tcout << ans << endl;\n\n\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    int n = 0;\n    cin >> n;\n    int pans[n + 2];\n    pans[0] = 0;\n    pans[n + 1] = 0;\n    for(int i = 1; i < n + 1; i++){\n        cin >> pans[i];\n    }\n    int turn[n + 2];\n    for(int i = 0; i < n + 2; i++){\n        turn[i] = 0;\n    }\n    if(pans[1] > pans[2]){\n        turn[1] += pans[2] - pans[1];\n        pans[1] = pans[2];\n    }\n    for(int i = 1; i < n + 1; i++){\n        if(pans[i] > 0){\n            turn[i] += pans[i];\n            turn[i + 1] += pans[i];\n            \n            pans[i + 1] -= pans[i];\n            pans[i] = 0;\n        }\n    }\n    int total = 0;\n    for(int i = 1; i < n + 1; i++){\n        total += turn[i];\n    }\n    cout << total << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  int n; cin >> n;\n  vector<int> p1(n);\n  vector<int> p2(n);\n  for(int i=0;i<n;++i) {\n    cin >> p1[i];\n    p2[i] = p1[i];\n  }\n  int ans1 = p1[0];\n  for(int i=1;i<n-1;++i) {\n    if(p1[i] > 0) {\n      ans1 += 2 * p1[i];\n      p1[i+1] -= p1[i];\n    }\n  }\n  if(p1[n-1] > 0) ans1 += p1[n-1];\n\n  reverse(p2.begin(), p2.end());\n  int ans2 = p2[0];\n  for(int i=1;i<n-1;++i) {\n    if(p2[i] > 0) {\n      ans2 += 2 * p2[i];\n      p2[i+1] -= p2[i];\n    }\n  }\n  if(p2[n-1] > 0) ans2 += p2[n-1];\n\n  cout << min(ans1, ans2) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nint main()\n{\n    int n;\n    cin >>n;\n    vector<int> p(n);\n    rep(i,n) cin >>p[i];\n\n    int ans = 19191919;\n    rep(i,p[0]+1)\n    {\n        vector<int> v(p);\n        v[0] -= i;\n        int t = i;\n\n        for(int j=1; j<n; ++j)\n        {\n            if(v[j-1]>0)\n            {\n                t += 2*v[j-1];\n                v[j] -= v[j-1];\n                v[j-1] = 0;\n            }\n        }\n        if(v[n-1]>0) t += v[n-1];\n\n        ans = min(ans,t);\n    }\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n    #define debug_echo(expr) cout << expr;\n    #define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n    #define debug_echo(expr)\n    #define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    int curp = p[i];\n    rep(_, curp) {\n        if (i == 0) {\n            if (p[i+1] == 0) {\n                p[i]--;\n                flipcnt++;\n            } else {\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        } else if (i == N-1) {\n            if (p[i-1] == 0) {\n                p[i]--;\n                flipcnt++;\n            } else {\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        } else {\n            if (p[i-1] > p[i+1]) {\n                p[i-1]--;\n                flipcnt++;\n                p[i]--;\n                flipcnt++;\n            } else {\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n\twhile(p[i]>0){\n\tp[i]-=1;\n\tp[i+1]-=1;\n\tx+=2;\n\t}\n\t}\n\twhile(p[n]>0){\n\t\tp[n]-=1;\n\t\tx++;\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n int n;\n cin>>n;\n\n int p[5000];\n\n for(int i=0;i<n;i++){\n\tcin>>p[i];\n }\n\n int min_sum=20000;\n\n for(int i=0;i<=p[0];i++){\n\tint q[5000];\n\tfor (int j=0;j<n;j++){\n\t\tq[j]=p[j];\n\t}\n\n\tint sum=i;\n\tq[0]-=i;\n\n\tfor(int j=0;j<=n-2;j++){\n\t\tif(q[j]<=0)\tcontinue;\n\n\t\tsum+=q[i]*2;\n\t\tq[j+1]-=q[j];\n\t}\n\n\tif(q[n-1]>0){\n\t\tsum+=q[n-1];\n\t}\n\tmin_sum=min(min_sum,sum);\n }\n cout <<min_sum<<endl;\n\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  2017-12-23-A.cpp\n//  \n//\n//  Created by Shingo on 2017/12/23.\n//\n\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main (){\n    int N;\n    int p[1000];\n    int ok = 0;\n    int count = 0;\n    cin >> N;\n    for (int i = 0;i<N;i++){\n        cin >> p[i];\n    }\n    while (ok == 0){\n        for (int i = 1;i<N-1;i++){\n            if (p[i]!=0&&p[i+1]!=0){\n                p[i]--;\n                p[i+1]--;\n                count+=2;\n            }else if(p[i]!=0&&p[i-1]!=0){\n                p[i]--;\n                p[i-1]--;\n                count+=2;\n            }else if(p[i]!=0){\n                p[i]--;\n                count+=2;\n            }\n                \n        }\n        if(p[N - 1]!=0&&p[N-2]==0){\n            p[N - 1]--;\n            count+= 1;\n        }\n        if(p[0]!=0&&p[1]==0){\n            p[0]--;\n            count+= 1;\n        }\n        int max = 0;\n        for (int i = 0;i<N;i++){\n            if (max < p[i]){\n                max = p[i];\n            }\n        }\n        if(max == 0){\n            ok = 1;\n        }\n    }\n    cout << count << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {//外側と内側１つめをひっくり返す\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(pp[j]>0&&pp[j+1]>0) {\n\t\t\t\tif(pp[j+1]>pp[j]) {\n\t\t\t\t\tsum+=pp[j+1]*2;\n\t\t\t\t\tpp[j+1]=0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tsum+=pp[j]*2;\n\t\t\t\t\tpp[j]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j]=0;\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    int p[n];\n    for(int i=0;i<n;i++){\n        cin>>p[i];\n//        cout<<p[i];\n    }\n    int ans =0;\n\n    for(int i=0;i<n-1;i++){\n        if(p[i]>0){\n            ans += p[i]*2;\n//            cout<<\"#\"<<ans;\n            p[i+1]-= p[i];\n            p[i]-=p[i];\n        }\n    }\n\n    if(p[n-1]>0)ans += p[n-1];\n\n    cout<<ans<<endl;\n\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <set>\n#include <map>\n#include <cmath>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);i <= (e);(i)++)\n\nint N;\nint main(){\n  cin >> N;\n\n  vector<int> a(N);\n\n  rep(i,0,N - 1) cin >> a[i];\n\n  int result = 0;\n\n  if(a[0] > a[1]){\n    result += a[0] - a[1];\n    a[0] = a[1];\n  }\n\n  if(a[N - 1] > a[N - 2]){\n    result += a[N - 1] - a[N - 2];\n    a[N - 1] = a[N - 2];\n  }\n\n  rep(i,0,N - 2){\n    result += a[i] * 2;\n    a[i + 1] -= a[i];\n    a[i + 1] = max(0,a[i + 1]);\n  }\n\n  result += a[N - 1];\n\n  cout << result << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n;\n  cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; ++i) cin >> p[i];\n\n  int ans = 1e9;\n  for(int i = 0; i <= p[0]; ++i) {\n    auto v = p;\n    v[0] -= i;\n\n    int res = i;\n    for(int j = 0; j < n - 1; ++j) {\n      if(v[j] > 0) {\n        res += v[j] * 2;\n        v[j + 1] -= v[j];\n      }\n    }\n\n    if(v[n - 1] > 0) res += v[n - 1];\n    ans = min(ans, res);\n  }\n  cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(ll i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"Yes\"<<endl;}else{cout<<\"No\"<<endl;}\n#define Vi vector<int>\n#define Vl vector<long long>\n#define pb(a) push_back(a)\nusing namespace std;\n\ntypedef long long ll;\nconst int inf=1000000000;\nstruct edge{\n\tint myc,to,c,cost;\n};\nstruct pos{\n\tint to,cost,color;\n};\nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint p[5001];\n\trep(i,n)cin>>p[i];\n\tint total=p[0];\n\tint t=p[0];\n\tif(p[1]<=t){\n\t\ttotal+=p[1];\n\t\tt=0;\n\t}else{\n\t\ttotal+=p[1];\n\t\tt=p[1]-t;\n\t}\n\tfor(int i=2;i<n;++i){\n\t\tif(p[i]<=t){\n\t\t\ttotal+=t;\n\t\t\tt=0;\n\t\t}else{\n\t\t\ttotal+=p[i];\n\t\t\tt=p[i]-t;\n\t\t}\n\t}\n\tcout<<total<<endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n    #define debug_echo(expr) cout << expr;\n    #define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n    #define debug_echo(expr)\n    #define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    int curp = p[i];\n    rep(_, curp) {\n        if (i-1 == 0 && N-1 == i+1) {\n            if (p[i-1] > p[i+1]) {\n                p[i-1]--;\n                flipcnt++;\n                p[i]--;\n                flipcnt++;\n            } else {\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        } else {\n            if (p[i-1] > p[i+1]) {\n                p[i-1]--;\n                flipcnt++;\n                p[i]--;\n                flipcnt++;\n            } else {\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "// 2017/07/18 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\tint sum1 = 0;\n\n\tint p[5002];\n\tfor(int i=1; i<=N; i++){\n\t\tcin >> p[i];\n\t\tsum1 += p[i];\n\t}\n\tp[0] = p[N+1] = 0;\n\n\tfor(int P=3; P>0; P--){\n\t\tfor(int i=1; i<=N; i++){\n\t\t\tif(p[i]==P){\n\t\t\t\tp[i]--;\n\t\t\t\tif(p[i-1]>=p[i+1]){\n\t\t\t\t\tp[i-1]--;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[i+1]--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint sum2 = 0;\n\n\tfor(int i=1; i<=N; i++){\n\t\tsum2 += p[i];\n\t}\n\n\tcout << sum1-sum2 << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\nll pancake[5005]={0};\nint main(){\n  int n;\n  cin>>n;\n  for(int i=0;i<n;i++) cin>>pancake[i];\n  ll ans=17441744;\n  for(int j=0;j<=pancake[0];j++){\n  //  cout<<j<<\": \";\n    ll pk[5005]={0};\n    for(int i=0;i<n;i++) pk[i]=pancake[i];\n    ll kans=j;\n    pk[0]-=j;\n    for(int i=0;i<n-1;i++){\n      pk[i+1]=max(pk[i+1]-pk[i],(ll)0);\n      kans+=2*pk[i];\n      //cout<<pk[i+1]<<\" \";\n    }\n    kans+=pk[n-1];\n    ans=min(ans,kans);\n//    cout<<kans<<endl;\n  }\n  cout<<ans<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <vector>\n#include <string>\nusing namespace std;\nconst int INF = 2000000005;\nint pk[5005] = { 0 }, cnter[5005] = { 0 };\n\nint main() {\n\twhile (true) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> pk[i];\n\t\t}\n\t\tif(pk[0]==0){}\n\t\telse if (pk[0] <= pk[1]) {\n\t\t\tcnter[0] = pk[0];\n\t\t\tcnter[1] = pk[0];\n\t\t}\n\t\telse {\n\t\t\tcnter[0] = pk[0];\n\t\t\tcnter[1] = pk[1];\n\t\t}\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\twhile (cnter[i] < pk[i]) {\n\t\t\t\tcnter[i]++;\n\t\t\t\tcnter[i + 1]++;\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t/*cout << cnter[i] << \" \";*/\n\t\t\tans+=cnter[i];\n\t\t}\n\t\tcout << /*endl << */ans << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\nusing namespace std;\n#define LL long long\n#define PB push_back\n#define MP make_pair\n\nint N;\nint p[5000];\nint dp[5000][4];\nint solve(int now, int nokori){\n\tif(now == N) return nokori;\n\tif(dp[now][nokori] != -1) return dp[now][nokori];\n\tint ret = INT_MAX;\n\tif(now == 0){\n\t\tfor(int i=0; i<=3; i++){\n\t\t\tif(nokori-i > 0) continue;\n\t\t\tret = min(ret, solve(now+1, max(p[now]-i, 0)) + i);\n\t\t}\n\t}\n\telse{\n\t\tfor(int i=0; i<=3; i++){\n\t\t\tif(nokori-i > 0) continue;\n\t\t\tret = min(ret, solve(now+1, max(p[now]-i, 0)) + 2*i);\n\t\t}\n\t}\n\t//cout << now << \" \" << nokori << \" \" << ret << endl;\n\treturn dp[now][nokori] = ret;\n}\n\nint main(){\n\tcin >> N;\n\tfor(int i=0; i<N; i++){\n\t\tcin >> p[i];\n\t\tfor(int j=0; j<4; j++) dp[i][j] = -1;\n\t}\n\tcout << solve(0,0) << endl;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n\n  int n,p[5000],now[5000],i,result=0,log=0;\n\n  cin>>n;\n\n  for(i=0;i<n;i++) cin>>p[i];\n\n  for(i=0;i<=now[0];i++){\n    log=0;\n    for(int j=0;j<n;j++) now[j]=p[j];\n    now[0]-=i;\n    log+=i;\n    for(int j=0;j<n-1;j++){\n      log+=now[j]*2;\n      now[j+1]-=now[j];\n      now[j]=0;\n      if(now[j+1]<0) now[j+1]=0;\n    }\n    log+=now[n-1];\n    result=max(result,log);\n  }\n\n  cout<<result<<endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = 3;\n  while(true){\n    rep(i,n){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(i == 0){\n          if(p[i + 1]){\n            p[i + 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else if(i == n - 1){\n          if(p[i - 1]){\n            p[i - 1]--;\n          }else{\n            ans++;\n            continue;\n          }\n        }else{\n          if(p[i + 1] > p[i - 1]){\n            p[i + 1]--; \n          }else{\n            p[i - 1]--;\n          }\n        }\n        ans += 2;\n      }\n    }\n    itr--;\n    if(itr == 0){\n      cout << ans << endl;\n      return 0;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "/**\n * DP解\n */\n\n// header {{{\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define CPP_STR(x) CPP_STR_I(x)\n#define CPP_CAT(x,y) CPP_CAT_I(x,y)\n#define CPP_STR_I(args...) #args\n#define CPP_CAT_I(x,y) x ## y\n\n#define SFINAE(pred...) std::enable_if_t<(pred), std::nullptr_t> = nullptr\n\n#define ASSERT(expr...) assert((expr))\n\nusing i8  = int8_t;\nusing u8  = uint8_t;\nusing i16 = int16_t;\nusing u16 = uint16_t;\nusing i32 = int32_t;\nusing u32 = uint32_t;\nusing i64 = int64_t;\nusing u64 = uint64_t;\n\nusing f32 = float;\nusing f64 = double;\nusing f80 = __float80;\n// }}}\n\nconstexpr i64 INF  = INT64_C(1'010'000'000'000'000'017);\nconstexpr f64 FINF = 1e100;\n\nconstexpr i64 MOD = INT64_C(1'000'000'007);\n//constexpr i64 MOD = INT64_C(998'244'353);\n\nconstexpr f64 EPS = 1e-12;\n\nconstexpr f64 PI = 3.14159265358979323846;\n\n// util {{{\n#define FOR(i, start, end) for(i64 i = (start), CPP_CAT(i,xxxx_end)=(end); i < CPP_CAT(i,xxxx_end); ++i)\n#define REP(i, n) FOR(i, 0, n)\n\n#define ALL(f,c,...) (([&](decltype((c)) cccc) { return (f)(std::begin(cccc), std::end(cccc), ## __VA_ARGS__); })(c))\n\n#define LIFT(f) ([](auto&&... args) -> decltype(auto) { return (f)(std::forward<decltype(args)>(args)...); })\n\ntemplate<typename C>\nconstexpr i64 SIZE(const C& c) noexcept { return static_cast<i64>(c.size()); }\n\ntemplate<typename T, size_t N>\nconstexpr i64 SIZE(const T (&)[N]) noexcept { return static_cast<i64>(N); }\n\ntemplate<typename T, SFINAE(is_signed<T>::value)>\nconstexpr T ABS(T x) noexcept {\n    return x < 0 ? -x : x;\n}\n\ntemplate<typename T>\nconstexpr i64 CMP(T x, T y) noexcept { return (y<x) - (x<y); }\n\ntemplate<typename T>\nconstexpr i64 SGN(T x) noexcept { return CMP(x,T(0)); }\n\ntemplate<typename T, typename U, typename Comp=less<>>\nconstexpr bool chmax(T& xmax, const U& x, Comp comp={}) noexcept {\n    if(comp(xmax, x)) {\n        xmax = x;\n        return true;\n    }\n    return false;\n}\n\ntemplate<typename T, typename U, typename Comp=less<>>\nconstexpr bool chmin(T& xmin, const U& x, Comp comp={}) noexcept {\n    if(comp(x, xmin)) {\n        xmin = x;\n        return true;\n    }\n    return false;\n}\n\ntemplate<typename BinaryFunc, typename UnaryFunc>\nauto ON(BinaryFunc&& bf, UnaryFunc&& uf) {\n    return [bf=forward<BinaryFunc>(bf),uf=forward<UnaryFunc>(uf)](const auto& x, const auto& y) {\n        return bf(uf(x), uf(y));\n    };\n}\n\ntemplate<typename F>\nauto LT_ON(F&& f) {\n    return ON(less<>{}, forward<F>(f));\n}\n\ntemplate<typename F>\nauto GT_ON(F&& f) {\n    return ON(greater<>{}, forward<F>(f));\n}\n\ntemplate<typename F>\nauto EQ_ON(F&& f) {\n    return ON(equal_to<>{}, forward<F>(f));\n}\n\ntemplate<typename F>\nauto NE_ON(F&& f) {\n    return ON(not_equal_to<>{}, forward<F>(f));\n}\n\n// tuple {{{\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) == I)>\nvoid tuple_enumerate(tuple<TS...>&, F&&) {}\n\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) > I)>\nvoid tuple_enumerate(tuple<TS...>& t, F&& f) {\n    f(I, get<I>(t));\n    tuple_enumerate<I+1>(t, forward<F>(f));\n}\n\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) == I)>\nvoid tuple_enumerate(const tuple<TS...>&, F&&) {}\n\ntemplate<i64 I=0, typename F, typename... TS, SFINAE(sizeof...(TS) > I)>\nvoid tuple_enumerate(const tuple<TS...>& t, F&& f) {\n    f(I, get<I>(t));\n    tuple_enumerate<I+1>(t, forward<F>(f));\n}\n// }}}\n\n// container {{{\ntemplate<typename T> struct is_container : false_type {};\ntemplate<typename T, size_t N> struct is_container<array<T,N>> : true_type {};\ntemplate<typename... Args> struct is_container<vector<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<deque<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<list<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<forward_list<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<set<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<multiset<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_set<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_multiset<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<map<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<multimap<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_map<Args...>> : true_type {};\ntemplate<typename... Args> struct is_container<unordered_multimap<Args...>> : true_type {};\n\ntemplate<typename T, typename Enable=void>\nstruct ProconHash {\n    size_t operator()(const T& x) const noexcept {\n        return hash<T>{}(x);\n    }\n};\n\ntemplate<typename T>\nsize_t procon_hash_value(const T& x) noexcept {\n    return ProconHash<T>{}(x);\n}\n\nsize_t procon_hash_combine(size_t h1, size_t h2) noexcept {\n    constexpr size_t M = UINT64_C(0xc6a4a7935bd1e995);\n    constexpr int    R = 47;\n\n    h2 *= M;\n    h2 ^= h2 >> R;\n    h2 *= M;\n\n    h1 ^= h2;\n    h1 *= M;\n\n    h1 += 0xe6546b64;\n\n    return h1;\n}\n\ntemplate<typename T1, typename T2>\nstruct ProconHash<pair<T1,T2>> {\n    size_t operator()(const pair<T1,T2>& p) const noexcept {\n        size_t h1 = procon_hash_value(p.first);\n        size_t h2 = procon_hash_value(p.second);\n        return procon_hash_combine(h1, h2);\n    }\n};\n\ntemplate<typename... TS>\nstruct ProconHash<tuple<TS...>> {\n    size_t operator()(const tuple<TS...>& t) const noexcept {\n        size_t h = 0;\n        tuple_enumerate(t, [&h](i64, const auto& e) {\n            h = procon_hash_combine(h, procon_hash_value(e));\n        });\n        return h;\n    }\n};\n\ntemplate<typename C>\nstruct ProconHash<C,enable_if_t<is_container<C>::value>> {\n    size_t operator()(const C& c) const noexcept {\n        size_t h = 0;\n        for(const auto& e : c)\n            h = procon_hash_combine(h, procon_hash_value(e));\n        return h;\n    }\n};\n\ntemplate<typename T, typename Hash=ProconHash<T>, typename Eq=equal_to<T>>\nusing HashSet = unordered_set<T,Hash,Eq>;\ntemplate<typename K, typename V, typename Hash=ProconHash<K>, typename Eq=equal_to<K>>\nusing HashMap = unordered_map<K,V,Hash,Eq>;\ntemplate<typename T, typename Hash=ProconHash<T>, typename Eq=equal_to<T>>\nusing HashMultiset = unordered_multiset<T,Hash,Eq>;\ntemplate<typename K, typename V, typename Hash=ProconHash<K>, typename Eq=equal_to<K>>\nusing HashMultimap = unordered_multimap<K,V,Hash,Eq>;\n\ntemplate<typename T>\nauto vec_make(i64 n, T x) {\n    return vector<T>(n, x);\n}\n\ntemplate<typename T, typename... Args, SFINAE(sizeof...(Args) >= 2)>\nauto vec_make(i64 n, Args... args) {\n    auto inner = vec_make<T>(args...);\n    return vector<decltype(inner)>(n, inner);\n}\n\ntemplate<typename T>\nauto vec_reserve(i64 cap) {\n    vector<T> res;\n    res.reserve(cap);\n    return res;\n}\n\ntemplate<typename T=i64>\nauto vec_iota(i64 n, T init={}) {\n    vector<i64> res(n);\n    ALL(iota, res, init);\n    return res;\n}\n\ntemplate<typename T, typename Comp, typename Cont=vector<T>>\nauto priority_queue_make(const Comp& comp, Cont&& cont={}) {\n    return priority_queue<T,remove_reference_t<Cont>,Comp>(comp, forward<Cont>(cont));\n}\n\ntemplate<typename T, typename Comp>\nauto priority_queue_reserve(const Comp& comp, i64 cap) {\n    return priority_queue<T,vector<T>,Comp>(comp, vec_reserve<T>(cap));\n}\n\ntemplate<typename T, size_t N, size_t... NS>\nstruct ArrayType {\n    using type = array<typename ArrayType<T,NS...>::type,N>;\n};\n\ntemplate<typename T, size_t N>\nstruct ArrayType<T,N> {\n    using type = array<T,N>;\n};\n\ntemplate<typename T, size_t... NS>\nusing Array = typename ArrayType<T,NS...>::type;\n\ntemplate<typename T, size_t N>\nT& array_at(Array<T,N>& ary, i64 i) {\n    return ary[i];\n}\n\ntemplate<typename T, size_t N, size_t... NS, typename... Args>\nT& array_at(Array<T,N,NS...>& ary, i64 i, Args... args) {\n    return array_at<T,NS...>(ary[i], args...);\n}\n\ntemplate<typename T, size_t N>\nconst T& array_at(const Array<T,N>& ary, i64 i) {\n    return ary[i];\n}\n\ntemplate<typename T, size_t N, size_t... NS, typename... Args>\nconst T& array_at(const Array<T,N,NS...>& ary, i64 i, Args... args) {\n    return array_at<T,NS...>(ary[i], args...);\n}\n\ntemplate<typename T, typename C>\nT POP(stack<T,C>& stk) {\n    T x = stk.top(); stk.pop();\n    return x;\n}\n\ntemplate<typename T, typename C>\nT POP(queue<T,C>& que) {\n    T x = que.front(); que.pop();\n    return x;\n}\n\ntemplate<typename T, typename C, typename Comp>\nT POP(priority_queue<T,C,Comp>& que) {\n    T x = que.top(); que.pop();\n    return x;\n}\n// }}}\n\n// fixpoint {{{\ntemplate<typename F>\nclass FixPoint {\npublic:\n    explicit constexpr FixPoint(F&& f) : f_(forward<F>(f)) {}\n\n    template<typename... Args>\n    constexpr decltype(auto) operator()(Args&&... args) const {\n        return f_(*this, forward<Args>(args)...);\n    }\n\nprivate:\n    F f_;\n};\n\ntemplate<typename F>\nconstexpr decltype(auto) FIX(F&& f) {\n    return FixPoint<F>(forward<F>(f));\n}\n\ntemplate<typename F, size_t... NS>\nclass FixPointMemo {\npublic:\n    explicit FixPointMemo(F&& f) : f_(forward<F>(f)) {}\n\n    template<typename... Args>\n    decltype(auto) operator()(Args... args) const {\n        using R = decltype(f_(*this,args...));\n        static Array<bool,NS...> done {};\n        static Array<R,NS...>    memo;\n\n        if(!array_at<bool,NS...>(done,args...)) {\n            array_at<R,NS...>(memo,args...) = f_(*this,args...);\n            array_at<bool,NS...>(done,args...) = true;\n        }\n        return array_at<R,NS...>(memo,args...);\n    }\n\nprivate:\n    F f_;\n};\n\ntemplate<size_t... NS, typename F>\ndecltype(auto) FIXMEMO(F&& f) {\n    return FixPointMemo<F,NS...>(forward<F>(f));\n}\n// }}}\n\n// math {{{\n/*constexpr*/ i64 GCD(i64 a, i64 b) noexcept {\n    /*constexpr*/ auto f_gcd = FIX([](auto&& self, i64 aa, i64 bb) {\n        if(bb == 0) return aa;\n        return self(bb, aa%bb);\n    });\n    return f_gcd(ABS(a), ABS(b));\n}\n\n/*constexpr*/ i64 LCM(i64 a, i64 b) noexcept {\n    ASSERT(a != 0 && b != 0);\n    /*constexpr*/ auto f_gcd = FIX([](auto&& self, i64 aa, i64 bb) {\n        if(bb == 0) return aa;\n        return self(bb, aa%bb);\n    });\n    a = ABS(a);\n    b = ABS(b);\n    return a / f_gcd(a,b) * b;\n}\n\n/*constexpr*/ tuple<i64,i64,i64> EXTGCD(i64 a, i64 b) noexcept {\n    /*constexpr*/ auto impl = FIX([](auto&& self, i64 aa, i64 bb) -> tuple<i64,i64,i64> {\n        if(bb == 0) return make_tuple(aa, 1, 0);\n        i64 g,x,y; tie(g,x,y) = self(bb, aa%bb);\n        return make_tuple(g, y, x-(aa/bb)*y);\n    });\n    i64 g,x,y; tie(g,x,y) = impl(ABS(a), ABS(b));\n    x *= SGN(a);\n    y *= SGN(b);\n    return make_tuple(g, x, y);\n}\n// }}}\n\n// string {{{\nauto str_reserve(i64 cap) {\n    string res;\n    res.reserve(cap);\n    return res;\n}\n// }}}\n\n// input {{{\ntemplate<typename T, typename Enable=void>\nstruct Scan {\n    static T scan(istream& in) {\n        T res;\n        in >> res;\n        return res;\n    }\n};\n\ntemplate<typename T, typename Enable=void>\nstruct Scan1;\n\ntemplate<typename T>\nstruct Scan1<T,enable_if_t<is_integral<T>::value && !is_same<T,bool>::value>> {\n    static T scan1(istream& in) {\n        return Scan<T>::scan(in) - 1;\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Scan<pair<T1,T2>> {\n    static pair<T1,T2> scan(istream& in) {\n        T1 x = Scan<T1>::scan(in);\n        T2 y = Scan<T2>::scan(in);\n        return {x,y};\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Scan1<pair<T1,T2>> {\n    static pair<T1,T2> scan1(istream& in) {\n        T1 x = Scan1<T1>::scan1(in);\n        T2 y = Scan1<T2>::scan1(in);\n        return {x,y};\n    }\n};\n\ntemplate<typename... TS>\nstruct Scan<tuple<TS...>> {\n    static tuple<TS...> scan(istream& in) {\n        return scan_impl<0>(in);\n    }\nprivate:\n    template<i64 I, SFINAE(sizeof...(TS) == I)>\n    static auto scan_impl(istream&) {\n        return make_tuple();\n    }\n    template<i64 I, SFINAE(sizeof...(TS) > I)>\n    static auto scan_impl(istream& in) {\n        using T = tuple_element_t<I,tuple<TS...>>;\n        auto head = make_tuple(Scan<T>::scan(in));\n        return tuple_cat(head, scan_impl<I+1>(in));\n    }\n};\n\ntemplate<typename... TS>\nstruct Scan1<tuple<TS...>> {\n    static tuple<TS...> scan1(istream& in) {\n        return scan1_impl<0>(in);\n    }\nprivate:\n    template<i64 I, SFINAE(sizeof...(TS) == I)>\n    static auto scan1_impl(istream&) {\n        return make_tuple();\n    }\n    template<i64 I, SFINAE(sizeof...(TS) > I)>\n    static auto scan1_impl(istream& in) {\n        using T = tuple_element_t<I,tuple<TS...>>;\n        auto head = make_tuple(Scan1<T>::scan1(in));\n        return tuple_cat(head, scan1_impl<I+1>(in));\n    }\n};\n\ntemplate<typename T=i64>\nT RD() {\n    return Scan<T>::scan(cin);\n}\n\ntemplate<typename T=i64>\nT RD1() {\n    return Scan1<T>::scan1(cin);\n}\n\ntemplate<typename T=i64>\nauto RD_VEC(i64 n) {\n    auto res = vec_reserve<T>(n);\n    REP(_, n) {\n        res.emplace_back(RD<T>());\n    }\n    return res;\n}\n\ntemplate<typename T=i64>\nauto RD1_VEC(i64 n) {\n    auto res = vec_reserve<T>(n);\n    REP(_, n) {\n        res.emplace_back(RD1<T>());\n    }\n    return res;\n}\n\ntemplate<typename T=i64>\nauto RD_VEC2(i64 h, i64 w) {\n    auto res = vec_reserve<vector<T>>(h);\n    REP(_, h) {\n        res.emplace_back(RD_VEC<T>(w));\n    }\n    return res;\n}\n\ntemplate<typename T=i64>\nauto RD1_VEC2(i64 h, i64 w) {\n    auto res = vec_reserve<vector<T>>(h);\n    REP(_, h) {\n        res.emplace_back(RD1_VEC<T>(w));\n    }\n    return res;\n}\n// }}}\n\n// output {{{\ntemplate<typename T, typename Enable=void>\nstruct Fmt {\n    static void fmt(ostream& out, const T& x) { out << x; }\n};\n\ntemplate<typename T>\nvoid fmt_write(ostream& out, const T& x) {\n    Fmt<T>::fmt(out, x);\n}\n\ntemplate<typename... TS>\nstruct Fmt<tuple<TS...>> {\n    static void fmt(ostream& out, const tuple<TS...>& t) {\n        tuple_enumerate(t, [&out](i64 i, const auto& e) {\n            if(i != 0) out << ' ';\n            fmt_write(out, e);\n        });\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Fmt<pair<T1,T2>> {\n    static void fmt(ostream& out, const pair<T1,T2>& p) {\n        return fmt_write(out, make_tuple(p.first,p.second));\n    }\n};\n\ntemplate<typename C>\nstruct Fmt<C,enable_if_t<is_container<C>::value>> {\n    static void fmt(ostream& out, const C& c) {\n        for(auto it = begin(c); it != end(c); ++it) {\n            if(it != begin(c)) out << ' ';\n            fmt_write(out, *it);\n        }\n    }\n};\n\nvoid PRINT() {}\n\ntemplate<typename T, typename... TS>\nvoid PRINT(const T& x, const TS&... args) {\n    fmt_write(cout, x);\n    if(sizeof...(args) > 0) {\n        cout << ' ';\n        PRINT(args...);\n    }\n}\n\ntemplate<typename... TS>\nvoid PRINTLN(const TS&... args) {\n    PRINT(args...);\n    cout << '\\n';\n}\n// }}}\n\n// debug {{{\ntemplate<typename T, typename Enable=void>\nstruct Dbg {\n    static void dbg(ostream& out, const T& x) { out << x; }\n};\n\ntemplate<typename T>\nvoid dbg_write(ostream& out, const T& x) {\n    return Dbg<T>::dbg(out, x);\n}\n\ntemplate<>\nstruct Dbg<i64> {\n    static void dbg(ostream& out, i64 x) {\n        if(x == INF)\n            out << \"INF\";\n        else if(x == -INF)\n            out << \"-INF\";\n        else\n            out << x;\n    }\n};\n\ntemplate<>\nstruct Dbg<f64> {\n    static void dbg(ostream& out, f64 x) {\n#pragma GCC diagnostic push\n#pragma GCC diagnostic ignored \"-Wfloat-equal\"\n        if(x == FINF)\n            out << \"FINF\";\n        else if(x == -FINF)\n            out << \"-FINF\";\n        else\n            out << x;\n#pragma GCC diagnostic pop\n    }\n};\n\ntemplate<typename T, size_t N>\nstruct Dbg<T[N]> {\n    static void dbg(ostream& out, const T (&ary)[N]) {\n        out << \"[\";\n        REP(i, N) {\n            if(i != 0) out << \",\";\n            dbg_write(out, ary[i]);\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename... TS>\nstruct Dbg<tuple<TS...>> {\n    static void dbg(ostream& out, const tuple<TS...>& t) {\n        out << \"(\";\n        tuple_enumerate(t, [&out](i64 i, const auto& e) {\n            if(i != 0) out << \",\";\n            dbg_write(out, e);\n        });\n        out << \")\";\n    }\n};\n\ntemplate<typename T1, typename T2>\nstruct Dbg<pair<T1,T2>> {\n    static void dbg(ostream& out, const pair<T1,T2>& p) {\n        return dbg_write(out, make_tuple(p.first,p.second));\n    }\n};\n\ntemplate<typename C>\nstruct Dbg<C,enable_if_t<is_container<C>::value>> {\n    static void dbg(ostream& out, const C& c) {\n        out << \"[\";\n        for(auto it = begin(c); it != end(c); ++it) {\n            if(it != begin(c)) out << \",\";\n            dbg_write(out, *it);\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T, typename C>\nstruct Dbg<stack<T,C>> {\n    static void dbg(ostream& out, stack<T,C> stk) {\n        out << \"[\";\n        while(!stk.empty()) {\n            dbg_write(out,stk.top()); stk.pop();\n            if(!stk.empty()) out << \",\";\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T, typename C>\nstruct Dbg<queue<T,C>> {\n    static void dbg(ostream& out, queue<T,C> que) {\n        out << \"[\";\n        while(!que.empty()) {\n            dbg_write(out,que.front()); que.pop();\n            if(!que.empty()) out << \",\";\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T, typename C, typename Comp>\nstruct Dbg<priority_queue<T,C,Comp>> {\n    static void dbg(ostream& out, priority_queue<T,C,Comp> que) {\n        out << \"[\";\n        while(!que.empty()) {\n            dbg_write(out,que.top()); que.pop();\n            if(!que.empty()) out << \",\";\n        }\n        out << \"]\";\n    }\n};\n\ntemplate<typename T>\nvoid DBG_IMPL(i64 line, const char* expr, const T& value) {\n    cerr << \"[L \" << line << \"]: \";\n    cerr << expr << \" = \";\n    dbg_write(cerr, value);\n    cerr << \"\\n\";\n}\n\nvoid DBG_IMPL_HELPER() {}\n\ntemplate<typename T, typename... TS>\nvoid DBG_IMPL_HELPER(const T& x, const TS&... args) {\n    dbg_write(cerr, x);\n    if(sizeof...(args) > 0) {\n        cerr << \",\";\n        DBG_IMPL_HELPER(args...);\n    }\n}\n\ntemplate<typename... TS>\nvoid DBG_IMPL(i64 line, const char* expr, const TS&... value) {\n    cerr << \"[L \" << line << \"]: \";\n    cerr << \"(\" << expr << \") = (\";\n    DBG_IMPL_HELPER(value...);\n    cerr << \")\\n\";\n}\n\ntemplate<size_t N, typename T, SFINAE(rank<T>::value == 0)>\nvoid DBG_DP_IMPL_HELPER(ostream& out, const T& x, const array<i64,N>&, const array<i64,N>&) {\n    dbg_write(out, x);\n}\n\ntemplate<size_t N, typename T, SFINAE(rank<T>::value > 0)>\nvoid DBG_DP_IMPL_HELPER(ostream& out, const T& x, const array<i64,N>& sizes, const array<i64,N>& offs) {\n    i64 k   = N - rank<T>::value;\n    i64 off = offs[k];\n    i64 siz = sizes[k];\n    if(siz == 0) siz = extent<T>::value - off;\n\n    out << \"[\";\n    FOR(i, off, off+siz) {\n        if(i != off) out << \",\";\n        DBG_DP_IMPL_HELPER(out, x[i], sizes, offs);\n    }\n    out << \"]\";\n}\n\ntemplate<typename T, SFINAE(rank<T>::value > 0)>\nvoid DBG_DP_IMPL(i64 line, const char* expr, const T& dp,\n                 const array<i64,rank<T>::value>& sizes={},\n                 const array<i64,rank<T>::value>& offs={})\n{\n    cerr << \"[L \" << line << \"]: \";\n    cerr << expr << \" = \";\n    DBG_DP_IMPL_HELPER<rank<T>::value>(cerr, dp, sizes, offs);\n    cerr << \"\\n\";\n}\n\ntemplate<typename T>\nvoid DBG_GRID_IMPL(i64 line, const char* expr, const vector<T>& grid) {\n    cerr << \"[L \" << line << \"]: \";\n    cerr << expr << \":\\n\";\n    for(const auto& row : grid) {\n        dbg_write(cerr, row);\n        cerr << \"\\n\";\n    }\n    cerr << \"\\n\";\n}\n\n#ifdef PROCON_LOCAL\n    #define DBG(args...) DBG_IMPL(__LINE__, CPP_STR_I(args), args)\n    #define DBG_DP(args...) DBG_DP_IMPL(__LINE__, CPP_STR_I(args), args)\n    #define DBG_GRID(args...) DBG_GRID_IMPL(__LINE__, CPP_STR_I(args), args)\n#else\n    #define DBG(args...)\n    #define DBG_DP(args...)\n    #define DBG_GRID(args...)\n#endif\n// }}}\n\n// modint {{{\ntemplate<i64 M>\nstruct ModIntT {\n    static_assert(M >= 2, \"\");\n    i64 v_;  // [0,M)\n\n    ModIntT() : v_(0) {}\n    ModIntT(i64 v) {\n        i64 r = v % M;\n        v_ = r >= 0 ? r : r+M;\n    }\n\n    ModIntT operator-() const {\n        return ModIntT(-v_);\n    }\n    ModIntT& operator+=(ModIntT rhs) {\n        v_ += rhs.v_;\n        v_ %= M;\n        return *this;\n    }\n    ModIntT& operator-=(ModIntT rhs) {\n        v_ += M;\n        v_ -= rhs.v_;\n        v_ %= M;\n        return *this;\n    }\n    ModIntT& operator*=(ModIntT rhs) {\n        v_ *= rhs.v_;\n        v_ %= M;\n        return *this;\n    }\n\n    ModIntT& operator++() {\n        return *this += 1;\n    }\n    ModIntT& operator--() {\n        return *this -= 1;\n    }\n    ModIntT operator++(int) {\n        return exchange(*this, *this+1);\n    }\n    ModIntT operator--(int) {\n        return exchange(*this, *this-1);\n    }\n\n    explicit operator i64() const { return v_; }\n\n    ModIntT inv() const {\n        i64 g,x; tie(g,x,ignore) = EXTGCD(v_, M);\n        ASSERT(g == 1);\n        return ModIntT(x);\n    }\n};\n\ntemplate<i64 M>\nModIntT<M> operator+(ModIntT<M> lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) += rhs; }\ntemplate<i64 M>\nModIntT<M> operator+(ModIntT<M> lhs, i64 rhs) { return ModIntT<M>(lhs) += rhs; }\ntemplate<i64 M>\nModIntT<M> operator+(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(rhs) += lhs; }\ntemplate<i64 M>\nModIntT<M> operator-(ModIntT<M> lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) -= rhs; }\ntemplate<i64 M>\nModIntT<M> operator-(ModIntT<M> lhs, i64 rhs) { return ModIntT<M>(lhs) -= rhs; }\ntemplate<i64 M>\nModIntT<M> operator-(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(rhs) -= lhs; }\ntemplate<i64 M>\nModIntT<M> operator*(ModIntT<M> lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) *= rhs; }\ntemplate<i64 M>\nModIntT<M> operator*(ModIntT<M> lhs, i64 rhs) { return ModIntT<M>(lhs) *= rhs; }\ntemplate<i64 M>\nModIntT<M> operator*(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(rhs) *= lhs; }\n\ntemplate<i64 M>\nbool operator==(ModIntT<M> lhs, ModIntT<M> rhs) { return lhs.v_ == rhs.v_; }\ntemplate<i64 M>\nbool operator==(ModIntT<M> lhs, i64 rhs) { return lhs == ModIntT<M>(rhs); }\ntemplate<i64 M>\nbool operator==(i64 lhs, ModIntT<M> rhs) { return ModIntT<M>(lhs) == rhs; }\ntemplate<i64 M>\nbool operator!=(ModIntT<M> lhs, ModIntT<M> rhs) { return !(lhs == rhs); }\ntemplate<i64 M>\nbool operator!=(ModIntT<M> lhs, i64 rhs) { return !(lhs == rhs); }\ntemplate<i64 M>\nbool operator!=(i64 lhs, ModIntT<M> rhs) { return !(lhs == rhs); }\n\ntemplate<i64 M>\nstruct Scan<ModIntT<M>> {\n    static ModIntT<M> scan(istream& in) {\n        return Scan<i64>::scan(in);\n    }\n};\n\ntemplate<i64 M>\nstruct Fmt<ModIntT<M>> {\n    static void fmt(ostream& out, ModIntT<M> x) {\n        fmt_write(out, x.v_);\n    }\n};\n\ntemplate<i64 M>\nstruct Dbg<ModIntT<M>> {\n    static void dbg(ostream& out, ModIntT<M> x) {\n        dbg_write(out, x.v_);\n    }\n};\n\nusing ModInt = ModIntT<MOD>;\n// }}}\n// }}}\n\n// init {{{\nstruct ProconInit {\n    static constexpr int IOS_PREC = 15;\n    static constexpr bool AUTOFLUSH = false;\n\n    ProconInit() {\n        cin.tie(nullptr);\n        ios::sync_with_stdio(false);\n        cin.exceptions(ios::failbit | ios::badbit);\n        cout << fixed << setprecision(IOS_PREC);\n#ifdef PROCON_LOCAL\n        cerr << fixed << setprecision(IOS_PREC);\n#endif\n        if(AUTOFLUSH)\n            cout << unitbuf;\n    }\n} PROCON_INIT;\n// }}}\n\n//--------------------------------------------------------------------\n\nvoid solve() {\n    i64 N = RD();\n    auto A = RD_VEC(N);\n\n    // i個目まで処理を終えてi個目をあとj回裏返す必要があるときの最小コスト\n    // 端のみを裏返す場合のカウントが特殊なのでi=0だけ例外処理\n    auto dp = vec_make<i64>(N,4, INF);\n    REP(j, 4) {\n        if(j > A[0]) break;\n        dp[0][j] = A[0]-j;\n    }\n\n    // 貰うDP\n    FOR(i, 1, N) REP(j, 4) {\n        i64 a = A[i];\n        if(j > a) break;\n\n        // dp[i-1][k] からの遷移\n        // i-1個目をk回裏返すとi個目もk回裏返り、あとa-k回必要になる\n        // i-1個目は少なくともk回裏返さねばならない(余分に裏返すのはOK)\n        // よって j > a-k の場合遷移できない\n        // 遷移できる場合、a-j 回裏返す\n        REP(k, 4) {\n            if(j > a-k) break;\n            chmin(dp[i][j], dp[i-1][k] + 2*(a-j));\n        }\n    }\n    DBG(dp);\n\n    i64 ans = INF;\n    REP(j, 4) {\n        chmin(ans, dp[N-1][j] + j);\n    }\n\n    PRINTLN(ans);\n}\n\nsigned main() {\n    \n\n    solve();\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0) {\n\t\t\tpancake[N-1]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0){ \n\t\t\t\tpancake[j]--;\n\t\t\t\tif (pancake[j - 1] > 0) {\n\t\t\t\t\tpancake[j - 1]--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpancake[j + 1]--;\n\t\t\t\t}\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\tint i;\n\tcin >> i;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint main (){\n    int N;\n    int p[1000];\n    int ok = 0;\n    int count = 0;\n    cin >> N;\n    for (int i = 0;i<N;i++){\n        cin >> p[i];\n    }\n    while (ok == 0){\n        for (int i = 1;i<N-1;i++){\n            if (p[i]!=0&&p[i+1]!=0){\n                p[i]--;\n                p[i+1]--;\n                count+=2;\n            }else if(p[i]!=0&&p[i-1]!=0){\n                p[i]--;\n                p[i-1]--;\n                count+=2;\n            }else if(p[i]!=0){\n                p[i]--;\n                count+=2;\n            }\n                \n        }\n//        if(p[N]!=0&&p[N-1]==0){\n//            p[N]--;\n//            count+= 1000;\n//        }\n        if(p[0]!=0&&p[1]==0){\n            p[0]--;\n            count+= 1;\n        }\n        int max = 0;\n        for (int i = 0;i<N;i++){\n            if (max < p[i]){\n                max = p[i];\n            }\n        }\n        if(max == 0){\n            ok = 1;\n        }\n    }\n    cout << count << \"\\n\";\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint solve(vector<int> a){\n  int size=a.size();\n  int cnt=0;\n  for(int i=0;i+1<size;i++){\n    cnt+=a[i]*2;\n    a[i+1]=max(0,a[i+1]-a[i]);\n  }\n  return cnt+a[size-1];\n}\n\nint main(){\n  int n;\n  cin>>n;\n  vector<int> a(n);\n  for(int i=0;i<n;i++){\n    cin>>a[i];    \n  }\n  int ans=1e9;\n  for(int i=0;i<=a[0];i++){\n    ans=min(ans,solve(a)+i);\n    a[0]=max(0,a[0]-1);\n  }\n  cout<<ans<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,pi[5000],num=0,midle=0;\n  cin >>n;\n  for(int i = 0;i<n;i++){\n    cin >> pi[i];\n  }\n  while(1){\n  for(int i = 0;i<n;i++){\n    if(pi[i]>0 && pi[i+1]>0){\n      pi[i] = pi[i]-1;\n      pi[i+1] = pi[i+1]-1;\n      num = num+2;\n    }\n  }\n    for(int i=1;i<n-1;i++){\n      if(pi[i] == 0){\n\tmidle = midle+1;\n      }\n    }\n    if(midle ==  n-2) break;\n  }\n  num = num+pi[0];\n  num = num+pi[n-1];\n  cout << num << endl;\n\n}\n  \n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint n;\n\nint calc(vector< int > p) {\n    int sum = 0;\n    for(int i = 1; i < n; i++) {\n        if(p[i] > 0) {\n            sum += p[i] * 2;\n            p[i + 1] = max(0, p[i + 1] - p[i]);\n        }\n    }\n    return sum + p[n];\n}\n\nint main() {\n\n    vector< int > p;\n    cin >> n;\n    p.resize(n + 2);\n    for(int i = 1; i <= n; i++) {\n        cin >> p[i];\n    }\n    p[0] = p[n + 1] = 0;\n\n    int sum = 100000000;\n    for(int i = 0; i <= 3; i++) {\n        sum = min(sum, calc(p) + i);\n        p[1] = max(0, p[1] - 1);\n    }\n    cout << sum << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tint n;\n\tcin >> n;\n\tint p[n];\n\tfor (auto &i : p) {\n\t\tcin >> i;\n\t}\n\tint ans = 0;\n\tfor (int i = 0; i < n - 1; i++) {\n\t\tint puni = max(0, p[i]);\n\t\tans += 2 * puni;\n\t\tp[i + 1] -= puni;\n\t}\n\tcout << ans + max(0, p[n - 1]) << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1e+9\nusing namespace std;\n\nint main(){\n\tint n,p[5000],mi = INF;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++) cin >> p[i];\n\tfor(int i = 0;i <= p[0];i++){\n\t\tint cnt = i,tmp[5000];\n\t\tfor(int k = 0;k < n;k++) tmp[k] = p[k];\n\t\ttmp[0] -= i;\n\t\tfor(int k = 0;k < n - 1;k++){\n\t\t\tint d = max(0,tmp[k]);\n\t\t\tcnt += 2 * d;\n\t\t\ttmp[k] -= d;\n\t\t\ttmp[k + 1] -= d;\n\t\t}\n\t\tcnt += max(0,tmp[n - 1]);\n\t\tmi = min(cnt,mi);\n\t}\n\tcout << mi << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nconstexpr int MAX_N=5000;\n\nint n;\n\nint p[MAX_N];\n\nint main() {\n\n    std::cin>>n;\n\n    for(int i=0;i<n;++i)\n        std::cin>>p[i];\n\n    int ans=(p[0]<p[1])? 0 : p[0]-p[1];\n    int prev=std::min(p[0],p[1]);\n\n    for(int i=1;i<n;++i){\n        if(prev<p[i]){\n            ans+=prev*2;\n            prev=p[i]-prev;\n        }\n        else{\n            ans+=prev*2;\n            prev=0;\n        }\n    }\n\n    ans+=prev;\n\n    std::cout<<ans<<std::endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define lp(i,n) for(int i=0;i<n;i++)\n#define lpin(a,i,n) for(int i=0;i<n;i++){cin>>a[i];}\nint a[5000];\nint  main(){\n  int n;\n  cin>>n;\n  lp(i,n){\n    cin>>a[i];\n  }\n  int count=0,check=0;\n  while(1){\n    check=0;\n    for(int i=2;i<n-1;i++){\n      if(a[i]>0&&a[i-1]>0){\n\tcount++;\n\ta[i]--;\n\ta[i-1]--;\n\tcheck=1;\n      }\n    }\n    if(check==0) break;\n  }\n  int count2=0;\n  lp(i,n-1){\n    if(i==0){\n      count2+=a[i];\n      if(a[i+1]>0){\n\tcount2+=a[i+1];\n\ta[i+1]-=a[i];\n      }\n      if(a[i+1]<0) a[i+1]=0;\n    }\n    else if(i==n-2){\n      count2+=a[i+1];\n      if(a[i]>0){\n\tif(a[i]>=a[i+1]) {\n\t  count2+=a[i+1];\n\t  a[i]-=a[i+1];\n\t  count+=a[i];\n\t}\n\telse {\n\t  count2+=a[i];\n\t}\n      }\n    }\n    else count+=a[i];\n  }\n  cout<<count*2+count2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#define M 2000000000\n\nusing namespace std;\nint main(void)\n{\n\tint n,i,j,s,a[5000],b[5000],m;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&a[i]);\n\tm=M;\n\tfor(i=0;i<=a[0];i++){\n\t\tfor(j=0;j<n;j++) b[j]=a[j];\n\t\tb[0]-=i; s=i;\n\t\tfor(j=0;j<n-1;j++){\n\t\t\tif(b[j]>0){\n\t\t\t\tb[j+1]-=b[j];\n\t\t\t\ts+=b[j]*2;\n\t\t\t\tb[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(b[n-1]>0) s+=b[n-1];\n\t\tm=min(m,s);\n\t}\n\tprintf(\"%d\\n\",m);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<=n-1;j++) {\n\t\t\tif(i!=0&&j==1) {\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(j+1==n-1) {\n\t\t\t\tif(pp[j]>=0&&pp[j+1]>0) sum+=pp[j]*2+(pp[j+1]-pp[j]);\n\t\t\t\telse if(pp[j]>=0) sum+=pp[j]*2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j+1]-=pp[j];\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(ll i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"Yes\"<<endl;}else{cout<<\"No\"<<endl;}\n#define Vi vector<int>\n#define Vl vector<long long>\n#define pb(a) push_back(a)\nusing namespace std;\n\ntypedef long long ll;\nconst int inf=1000000000;\nstruct edge{\n\tint myc,to,c,cost;\n};\nstruct pos{\n\tint to,cost,color;\n};\nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint p[5001];\n\trep(i,n)cin>>p[i];\n\tint total=0;\n\tint t=0;\n\trep(i,n){\n\t\tif(p[i]<=t){\n\t\t\ttotal+=t;\n\t\t\tt=0;\n\t\t}else{\n\t\t\ttotal+=p[i];\n\t\t\tt=p[i]-t;\n\t\t}\n\t}\n\tcout<<total<<endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n    int N;\n    cin>>N;\n\n    int p[5000];\n    for(int i=0;i<N;i++){\n        cin>>p[i];\n    }\n    int min_sum=20000;\n\n    for(int I=0;I<=p[0];I++){\n        int q[5000];\n        for(int i=0;i<N;i++){\n        q[i]=p[i];\n        }\n        int sum=I;\n        q[0] -=I;\n\n        for(int i=0;i<=N-2;i++){\n            if(q[i]<=0)\n            continue;\n\n            sum +=q[i]*2;\n            q[i+1] -=q[i];\n        }\n        if(q[N-1]>0){\n            sum += q[N-1];\n        }\n        min_sum= min(min_sum,sum);\n    }\n    cout <<min_sum<<endl;\n\n    return 0;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\nint main(void){\n    int n;\n    cin >> n;\n    int pans[n + 1];\n    for(int i = 0; i < n; i++){\n        cin >> pans[i];\n    }\n    int result = 20000;\n    for(int i = 0; i <= pans[0]; i++){\n        int tempPans[n];\n        for(int j = 0; j < n; j++){\n            tempPans[j] = pans[j];\n        }\n        int tempResult = 0;\n        tempResult += i;\n        tempPans[0] -= i;\n        for(int j = 0; j < n; j++){\n            if(tempPans[j] > 0){\n                tempResult += tempPans[j] * 2;\n                tempPans[j + 1] -= tempPans[j];\n                temppans[j] = 0;\n            }\n        }\n        result = min(result, tempResult);\n    }\n    cout << result << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin>>n;\n\tint a;\n\tint max=0;\n\tint maxp;\n\tint count=0;\n\tvector<int> v;\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a;\n\t\tv.push_back(a);\n\t\tif(a>max){\n\t\t\tmax=a;\n\t\t\tmaxp=i;\n\t\t}\n\t}\n\n\twhile(max>0){\n\t\tif(maxp==0){\n\t\t\tif(v[maxp+1]>0){\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp+1]--;\n\t\t\t\tcount+=2;\t\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tcount++;\n\t\t\t}\t\n\t\t}else if(maxp==n-1){\n\t\t\tif(v[maxp-1]==0){\n\t\t\t\tv[maxp]--;\n\t\t\t\tcount++;\n\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp-1]--;\n\t\t\t\tcount+=2;\n\t\t\t}\n\t\t}else{\n\t\t\tif(v[maxp+1]>v[maxp]-1){\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp+1]--;\n\t\t\t\tcount+=2;\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp-1]--;\n\t\t\t\tcount+=2;\n\t\t\t}\n\t\t}\n\t\tmax=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(v[i]>max){\n\t\t\t\tmax=v[i];\n\t\t\t\tmaxp=i;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<count<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n    int n,p[5000],x=0;\n    cin>>n;\n    for(int i=1;i<=n;i++){\n    cin>>p[i];\n    }\n\tif(p[1]>p[2]){\n\t\tx+=p[1]-p[2];\n\t\tp[1]=p[2];\n\t}\n    for(int i=1;i<n;i++){\n        if(p[i]>0){\n            x+=2*p[i];\n            p[i+1]-=p[i];\n         \n        }\n    }\n    if(p[n]>0){\n        x+=p[n];\n    }\n    cout<<x<<endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\n#define REP(i,n) for(int i=0;i<(n);i++)\n\nint N;\nint main(){\n    std::ios_base::sync_with_stdio(false);\n    cin>>N;\n    //while(N!=0){\n        int A[5001];\n        ll ans=0;\n        REP(i,N)cin>>A[i];\n        REP(i,N-1){\n            if(A[i]<=A[i+1]){\n                A[i+1]-=A[i];\n                ans+=A[i]*2;\n                A[i]=0;\n            }else{\n                if(i==0){\n                    ans+=A[i+1]+A[i];\n                    A[i]=A[i+1]=0;\n                }else{\n                    ans+=A[i]*2;\n                    A[i]=A[i+1]=0;\n                }\n            }\n        }\n        if(A[N-1]>0)ans+=A[N-1];\n        cout<<ans<<endl;\n    //    cin>>N;\n//    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*#include <iostream>\n#include <cmath>\n#include <vector>\n#include <algorithm>\n#include <array>\n#include <vector>\n#include <deque>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <unordered_map>\n#include <unordered_set>\n*/\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n#define pb push_back\n#define mp make_pair\n#define F first\n#define S second\n#define FOR(i,a,b) for(int (i)=(a);(i)<(b);(i)++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define SORT(c) sort((c).begin(),(c).end())\n\ntypedef long long ll;\nconst ll INF = LLONG_MAX - 100;\nconst ll mod = 1e9 + 7;\nconst int MAX_N = 5e5 + 5;\nint dx[] = { -1LL,0,1LL,0 }, dy[] = { 0,1LL,0,-1LL };\nvector<ll> prime;\n\nll inv[MAX_N], fac[MAX_N];\n\ninline ll GCD(ll a, ll b) { ll c; while (b != 0) { c = a % b; a = b; b = c; }return a; }\ninline ll LCM(ll a, ll b) { return a * b / GCD(a, b); }\ninline ll POW(ll a, ll b) { ll c = 1LL; while (b > 0) { if (b & 1LL) { c = a * c%mod; }a = a * a%mod; b >>= 1LL; }return c; }\ninline void _nCr() { fac[0] = 1LL; for (int i = 1LL; i < MAX_N; i++) { fac[i] = fac[i - 1LL] * i%mod; }for (int i = 0; i < MAX_N; i++) { inv[i] = POW(fac[i], mod - 2); } }\ninline ll nCr(ll n, ll r) { return (fac[n] * inv[r] % mod)*inv[n - r] % mod; }\ninline void PRI(ll n) { bool a[n + 1LL]; for (int i = 0; i < n + 1LL; i++) { a[i] = 1LL; }for (int i = 2; i < n + 1LL; i++) { if (a[i]) { prime.pb(i); ll b = i; while (b <= n) { a[b] = 0; b += i; } } } }\n\nint cnt[26];\n\nint dp[5005][4];\n\nsigned main() {\n\tint n; cin >> n;\n\tint a[n+1];\n\tREP (i,n) cin >> a[i]; a[n] = 0;\n\tREP (i,5005) REP (j,4) dp[i][j] = INF;\n\tdp[1][0] = 0;\n\tdp[1][1] = 1;\n\tdp[1][2] = 2;\n\tdp[1][3] = 3;\n\tREP (i,4) dp[0][i] = 0;\n\tFOR (i,1,n) {\n\t\tREP (j,4) {\n\t\t\tREP (k,4) {\n\t\t\t\t//1個前j回これをk回\n\t\t\t\tif (a[i-1] <= j + k) {\n\t\t\t\t\tdp[i+1][k] = min(dp[i+1][k],dp[i][j] + 2 * k);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tREP (i,4) {\n\t\tdp[n][i] += max(0LL,a[n-1]-i);\n\t}\n\tint ans = INF;\n\tREP (i,4) {\n\t\tdp[n][i];\n\t\tans = min(ans,dp[n][i]);\n\t}\n\tcout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n \nint main(){\n \n    int n;\n \n    cin >> n;\n \n    int p[n],t[n],count=0,tcount;\n \n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      t[i] = p[i];\n      //count += p[i];\n    }\n \n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n \n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n \n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n \n \n \n \n    tcount = t[0];\n \n    for(int i=1;i<n-1;i++){\n      tcount += t[i] * 2;\n      if(t[i] > t[i+1] ){\n        t[i+1] = 0;\n      }\n      else{\n        t[i+1] -= t[i];\n      }\n    }\n \n    if(t[n-1] != 0){\n      tcount += t[n-1];\n    }\n \n \n \n    /*int maxp = max(p[0],p[1]);\n \n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n \n \n \n    maxp = max(p[n-2],p[n-1]);\n \n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n \n    cout << min(count,tcount) << endl;\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\nint pan(std::vector<int> p) {\n  int res=0;\n  for (size_t i=0; i+1<p.size(); ++i) {\n    if (p[i] <= 0) continue;\n    res += p[i]*2;\n    p[i+1] -= p[i];\n    p[i] = 0;\n  }\n  if (p.back() > 0)\n    res += p.back();\n  \n  return res;\n}\n\nint main() {\n  size_t N;\n  scanf(\"%zu\", &N);\n\n  std::vector<int> p(N);\n  for (size_t i=0; i<N; ++i)\n    scanf(\"%d\", &p[i]);\n\n  int res=pan(p);\n  std::reverse(p.begin(), p.end());\n  res = std::min(res, pan(p));\n  printf(\"%d\\n\", res);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n\n\nint main(){\n  int a[10000]={};\n  int b[10000]={};\n  int n;\n  cin>>n;\n  for(int i=1;i<=n;i++){\n    cin>>a[i];\n    b[i]=a[i];\n  }\n  int mi=1e9;\n  for(int i=0;i<=a[1];i++){\n    int count=0;\n    a[1]-=i;\n    count+=i;\n    for(int t=1;t<n;t++){\n      a[t+1]-=a[t];\n      count+=a[t]*2;\n      if(a[t+1]<0){a[t+1]=0;}\n    }\n    count+=a[n];\n    //cout<<count<<endl;\n    mi=min(mi,count);\n    for(int t=0;t<=n;t++){\n      a[t]=b[t];\n    }\n  }\n  cout<<mi<<endl;\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n;\nint solve(int tmp[5001]){\n\tint a[5001];\n\tfor(int i = 0;i < 5001;i++)a[i] = tmp[i];\n\tint ans = 0;\n\tfor(int i = 0;i < n-1;i++){\n\t\tint t = min(a[i], a[i+1]);\n\t\ta[i] -= t;a[i+1] -= t;\n\t\tans += t*2;\n\t}\n\tfor(int i = 0;i < n-1;i++){\n\t\tans += a[i]*2;\n\t}\n\treturn ans+a[n-1];\n}\n\nint main(){\n\tint ans = 1e9, a[5001];\n\tscanf(\"%d\", &n);\n\tfor(int i = 0;i < n;i++)scanf(\"%d\", &a[i]);\n\tfor(int i = 0;i <= a[0];i++){\n\t\tans = min(ans, solve(a)+i);\n\t\ta[0]--;\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n    #define debug_echo(expr) cout << expr;\n    #define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n    #define debug_echo(expr)\n    #define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    if (i-1 == 0 && N-1 == i+1) {\n        if (p[i-1] > p[i+1]) {\n            p[i-1]--;\n            flipcnt++;\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    } else {\n        if (p[i-1] > p[i+1]) {\n            p[i-1]--;\n            flipcnt++;\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n int n;\n cin>>n;\n\n int p[5000];\n\n for(int i=0;i<n;i++){\n\tcin>>p[i];\n }\n\n int min_sum=20000;\n\n for(int i=0;i<=p[0];i++){\n\tint q[5000];\n\tfor (int j=0;j<n;j++){\n\t\tq[i]=p[i];\n\t}\n\n\tint sum=i;\n\tq[0]-=i;\n\n\tfor(int j=0;j<=n-2;j++){\n\t\tif(q[i]<=0)\tcontinue;\n\n\t\tsum+=q[i]*2;\n\t\tq[j+1]-=q[j];\n\t}\n\n\tif(q[n-1]>0){\n\t\tsum+=q[n-1];\n\t}\n\tmin_sum=min(min_sum,sum);\n }\n cout <<min_sum<<endl;\n\n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n\tint a[5005];\n\tint n;\n\tint i,j,k;\n\tint s,b,c;\n\tcin>>n;\n\tfor(i=0;i<n;i++){\n\t\tcin>>a[i];\n\t}\n\ts=0,b=0,c=0;\n\tfor(i=3;i>0;i--){\n\t\tfor(j=0;j<n;j++){\n\t\t\tif(a[j]==i){\n\t\t\t\tif(c==0)b=j;\n\t\t\t\tc++;\n\t\t\t}else if(c!=0){\n\t\t\t\tif(b==0 || c%2==0)s+=c;\n\t\t\t\telse{\n\t\t\t\t\tif(a[j]>a[b-1])a[j]=(a[j]>0?a[j]-1:0);\n\t\t\t\t\telse a[b-1]=(a[b-1]>0?a[b-1]-1:0);\n\t\t\t\t\ts+=c+1;\n\t\t\t\t}\n\t\t\t\tfor(k=b;k<b+c;k++){\n\t\t\t\t\ta[k]--;\n\t\t\t\t}\n\t\t\t\tb=0,c=0;\n\t\t\t}\n\t\t}\n\t\ts+=c;\n\t\tfor(j=b;j<b+c;j++){\n\t\t\ta[j]--;\n\t\t}\n\t\tb=0,c=0;\n\t}\n\tcout<<s<<endl;\n\treturn 0;\n}\n\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tint counti = 0;//inside\n\tint counto = 0;//outside\n\tint p[5000];\n\tint q[5000];\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin>>p[i];\n\t\tq[i] = p[i];\n\t}\n\tint i = N/2;\n\tint j = N/2;\n\twhile(1) {\t\n\t\tif (i == N-1) {\n\t\t\tcounti += p[i];\n\t\t\ti = -1;\n\t\t}\n\t\telse if(i>0){\t\t\t\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t\tif (p[i + 1] < 0)\n\t\t\t\tp[i + 1] = 0;\n\t\t\tp[i] = 0;\n\t\t\ti++;\n\t\t}\n\t\tif (j == 0) {\n\t\t\tcounti += p[j];\n\t\t\tj = -1;\n\t\t}\n\t\telse if(j>0){\n\t\t\tcounti += p[j] * 2;\n\t\t\tp[j - 1] -= p[j];\n\t\t\tif (p[j - 1] < 0)\n\t\t\t\tp[j - 1] = 0; \n\t\t\tp[j] = 0;\n\t\t\tj--;\n\t\t}\n\t\tif ((i==-1)&&(j==-1))\n\t\t\tbreak;\n\t}\n\ti = 0;\n\tj = N - 1;\n\twhile (1) {\n\t\tcounto += q[i] * 2;\n\t\tq[i + 1] -= q[i];\n\t\tq[i] = 0;\n\t\tif (q[i + 1] < 0)\n\t\t\tq[i + 1] = 0;\n\t\ti++;\n\t\tif (i == N / 2 + 1)\n\t\t\tbreak;\n\t\tcounto += q[j] * 2;\n\t\tq[j - 1] -= q[j];\n\t\tq[j] = 0;\n\t\tif (q[j-1] < 0)\n\t\t\tq[j- 1] = 0;\n\t\tj--;\n\t}\n\tif (counti > counto)\n\t\tcounti = counto;\n\tcout << counti << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,pi[5000],num=0,midle=0,md = 0,t;\n  cin >>n;\n  for(int i = 0;i<n;i++){\n    cin >> pi[i];\n  }\n  while(1){\n      midle = 0;\n    for(int i = 0;i<n;i++){\n      if(pi[0]==pi[1]){t=1;}\n\n      else if(pi[i]>0 && pi[i+1]>0){\n\tpi[i] = pi[i]-1;\n\tpi[i+1] = pi[i+1]-1;\n\tnum = num+2;\n\tmidle = midle+1;\n      }\n      if(midle < n/2) md =1;\n    }\n    if(md==1) break;\n  }\n    for(int i=1;i<n-1;i++){\n      num = num+(pi[i]*2);\n      pi[i] = 0; \n    }\n    num = num+pi[0];\n    num = num+pi[n-1];\n  cout << num << endl;\n\n}\n  \n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int n,a[5000],r=0;\n\n  cin>>n;\n  for(int i=0;i<n;i++) cin>>a[i];\n\n  for(int i=0;i<n-1;i++){\n    r+=a[i]*2;\n    a[i+1]-=a[i];\n    if(a[i+1]<0) a[i+1]=0;\n  }\n\n  cout<<r+a[n-1]*2<<endl;\n\n  return 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\nusing namespace std;\n#define REP(i,n)  for(int i=0;i<n;++i)\nint n,a[5000],b[5000];\nint main() {\n\tcin>>n;\n\tREP(i,n)cin>>b[i];\n\tint ans = 1e6;\n\tREP(i,b[0]+1){\n\t\tmemcpy(a,b,sizeof(b));\n\t\ta[0]-=i;\n\t\tint t=i;\n\t\tREP(j,n-1){\n\t\t\tif(a[j]<1)continue;\n\t\t\tt+=a[j]*2;\n\t\t\ta[j+1]-=a[j];\n\t\t}\n\t\tt += max(0, a[n-1]);\n\t\tans = min(ans, t);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<limits>\n\nusing namespace std;\n\n\nint main(){\n    int n;\n    cin >> n;\n    int v[n];\n\n    for(int i = 0; i<n; i++){\n        cin >> v[i];\n    }\n\n    int nn = n-1;\n    int m = numeric_limits<int>::max();\n\n    for(int i = 0; i <= v[0]; i++){\n        v[0] -= i;\n        for(int j = 0; j <= v[nn]; j++){\n            v[nn] -= j;\n\n            int rest = v[0];\n            int local_sum = 0;\n            for(int p = 1; p < n; p++){\n                    local_sum += 2 * rest;\n                if(rest >= v[p]){\n                    rest = 0;\n                } else {\n                    rest = v[p] - rest;\n                }\n            }\n            local_sum += 2 * rest;\n\n            local_sum += i + j;\n            m = min(m, local_sum);\n\n            v[nn] += j;\n        }\n        v[0] += i;\n    }\n\n    cout << m << endl;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(void){\n    int N,p[5001];\n    cin >> N;\n    for(int i=1;i<=N;i++){\n        cin >> p[i];\n    }\n    int count=0;\n    for(int D=3;D>=1;D--){\n        for(int i=2;i<N;i++){\n            if(p[i]==D){\n                if(p[i-1]>=p[i+1]){\n                    p[i]--;\n                    p[i-1]--;\n                    count+=2;\n                }\n                else{\n                    p[i]--;\n                    p[i+1]--;\n                    count+=2;\n                }\n            }\n        }\n    }\n    if(p[1]>0)count += p[1];\n    if(p[N]>0)count += p[N];\n    cout << count << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(pp[j]>0) {\n\t\t\t\t\tif(pp[j+1]>pp[j]) {\n\t\t\t\t\t\tsum+=pp[j+1]*2;\n\t\t\t\t\t\tpp[j+1]-=pp[j];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tsum+=pp[j]*2;\n\t\t\t\t\t\tpp[j]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define dep(i, a, n) for(int i = a; i >= (n); i--)\n#define FOR(i, a, n) for(int i = a; i < (n); i++)\n#define mod (ll)(1e9+7)\n#define int ll\n#define INF 100000000\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nsigned main() {\n\tll p[5001], p1[5001], result = INF, n;\n  cin >> n;\n  rep(i, n) cin >> p[i];\n  rep(i, 4) {\n    rep(j, n) p1[j] = p[j];\n    ll tmp = i;\n    p1[0] -= i;\n    rep(j, n - 1) {\n      if(p1[j] <= 0) continue;\n      tmp += p1[j] * 2;\n      p1[j + 1] -= p1[j];\n    }\n    if(p1[n - 1] > 0) tmp += p1[n - 1];\n    result = min(result, tmp);\n  }\n  cout << result << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n\n  int n,p[5000],now[5000],i,result=10000000,log=0;\n\n  cin>>n;\n\n  for(i=0;i<n;i++) cin>>p[i];\n\n  for(i=0;i<=now[0];i++){\n    log=0;\n    for(int j=0;j<n;j++) now[j]=p[j];\n    now[0]-=i;\n    log+=i;\n    for(int j=0;j<n-1;j++){\n      log+=now[j]*2;\n      now[j+1]-=now[j];\n      now[j]=0;\n      if(now[j+1]<0) now[j+1]=0;\n    }\n    log+=now[n-1];\n    result=min(result,log);\n  }\n\n  cout<<result<<endl;\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<functional>\n#include<algorithm>\n#define M 2000000000\nusing namespace std;\nint main(void)\n{\n    int n,i,j,sum,p[5000],a[5000],mn;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tmn=M;\n\tfor(i=0;i<=p[0];i++){\n\t    for(j=0;j<n;j++) a[j]=p[j];\n\t\ta[0]=a[0]-i;\n\t\tsum=i;\n\t\tfor(j=0;j<n-1;j++){\n\t\t    if(a[j]>0){\n\t\t\t    a[j+1]-=a[j];\n\t\t\t\tsum+=a[j]*2;\n\t\t\t\ta[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(a[n-1]>0) sum+=a[n-1];\n\t\tmn=min(mn,sum);\n\t}\n\tprintf(\"%d\\n\",mn);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\n    int n;\n\n    scanf(\"%d\",&n);\n\n    int p[n];\n\n    for(int i=0;i<n;i++){\n        scanf(\" %d\",&p[i]);\n    }\n\n    long long int ans = 5000000000;\n\n    int t1[n],t2[n];\n\n    /*for(int i=0;i<n;i++){\n        t1[i] = t2[i] = p[i];\n    }\n\n    long long int test = 0;\n\n    for(int i=0;i<n-1;i++){\n        if(t1[i]>=t1[i+1]){\n            test += t1[i]*2;\n            t1[i] = t1[i+1] = 0;\n        }\n        else {\n            test += t1[i]*2;\n            t1[i + 1] -= t1[i];\n            t1[i] = 0;\n        }\n    }\n\n    if(t1[n-1]!=0){\n        test += t1[n-1];\n    }\n\n    ans = test;\n\n    test = t2[0];\n\n    t2[0] = 0;\n\n    for(int i=1;i<n-1;i++){\n        if(t2[i]>=t2[i+1]){\n            test += t2[i]*2;\n            t2[i] = t2[i+1] = 0;\n        }\n        else {\n            test += t2[i]*2;\n            t2[i + 1] -= t2[i];\n            t2[i] = 0;\n        }\n    }\n\n    if(t2[n-1]!=0){\n        test += t2[n-1];\n    }*/\n\n    for(int i=0;i<=p[0];i++) {\n\n        long long int test = 0;\n\n        for(int j=0;j<n;j++){\n            t1[j] = p[j];\n        }\n\n        test = i;\n\n        t1[0] -= i;\n\n        for(int j=0;j<n-1;j++){\n            if(t1[j]>=t1[j+1]){\n                test += t1[j]*2;\n                t1[j] = t1[j+1] = 0;\n            }\n            else {\n                test += t1[j]*2;\n                t1[j + 1] -= t1[j];\n                t1[j] = 0;\n            }\n        }\n\n        if(t1[n-1]!=0){\n            test += t1[n-1];\n        }\n\n        ans = min(ans, test);\n\n    }\n\n    cout << ans << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[10000],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]<p[i]){\n\t\t\t\tcnt+=p[i+1]*2; p[i]-=p[i+1]; p[i+1]-=p[i+1];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\telse if(i==n-1){\n\t\t\t\tcnt+=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcnt+=p[i]*2; p[i+1]-=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\t//printf(\"%d %d\\n\",p[i],p[i+1]);\n\t\t\t//printf(\"%d\\n\",cnt);\n\t\t}\n\t}\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tif(p[0]!=0) cnt+=p[0];\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<functional>\n#include<algorithm>\n#define M 2000000000\nusing namespace std;\nint main(void)\n{\n    int n,i,j,sum,p[5000],a[5000],mn;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tmn=M;\n\tfor(i=0;i<=p[0];i++){\n\t    for(j=0;j<n;j++) a[j]=p[j];\n\t\ta[0]=a[0]-i;\n\t\tsum=i;\n\t\tfor(j=0;j<n-1;j++){\n\t\t    if(a[j]>0){\n\t\t\t    a[j+1]-=a[j];\n\t\t\t\tsum+=a[j]*2;\n\t\t\t\ta[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(a[n-1]>0) sum+=a[n-1];\n\t\tmn=min(mn,sum);\n\t}\n\tprintf(\"%D\\n\",mn);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    int n;\n    int p[5005];\n    int temp[5005];\n    int min_a=20000,ans;\n    cin >> n;\n    for(int i=0;i<n;i++){\n        cin >> p[i];\n    }\n    for(int i=0;i<=p[0];i++){\n        temp[0] = p[0] - i;\n        ans = i;\n        for(int j=1;j<n;j++){\n            temp[j] = p[j];\n        }\n        for(int j=0;j<n-1;j++){\n            if(temp[j] > 0){\n                ans += temp[j] * 2;\n                temp[j+1] -= temp[j];\n                temp[j] = 0;\n            }\n        }\n        if( temp[n-1] > 0){\n            ans += temp[n-1];\n        }\n        min_a = min(ans,min_a);\n    }\n    cout << min_a << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define LL long long int\n#define INF 210000000\nusing namespace std;\nint main(void)\n{\n\tint n,p[5000],pp[5000],i,j,k,sum,x,y,mi=INF;\n\tcin>>n;\n\tfor(i=0;i<n;i++) cin>>p[i];\n\tfor(i=0;i<=p[0];i++) {\n\t\tsum=0;\n\t\tpp[0]=i;\n\t\tfor(j=1;j<n;j++) pp[j]=p[j];\n\t\tfor(j=1;j<n;j++) {\n\t\t\tif(i!=0&&j==1) {\n\t\t\t\tif(i>pp[1]) sum+=pp[1]+i,pp[1]=0;\n\t\t\t\telse sum+=(i*2),pp[1]-=i;\n\t\t\t\t\n\t\t\t}\n\t\t\telse if(j+1==n-1) {\n\t\t\t\tif(pp[j]>=0&&pp[j+1]>0) sum+=pp[j]*2+(pp[j+1]-pp[j]);\n\t\t\t\telse if(pp[j]>=0) sum+=pp[j]*2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if(pp[j]>0) {\n\t\t\t\tsum+=pp[j]*2;\n\t\t\t\tpp[j+1]-=pp[j];\n\t\t\t}\n\t\t}\n\t\tmi=min(mi,sum+p[0]-i);\n\t}\n\tcout<<mi<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(){\n  int N=0,i=0,j=0,count2=0;\n  int p[5005]={};\n  scanf(\"%d\",&N);\n  for(i=0;i<N;i++){\n    scanf(\"%d\",&p[i]);\n  }\n  for(i=0;i<N;i++){\n    if(p[0]>0&&p[1]<=0){\n      p[0]=p[0]-1;\n      count2++;\n    }\n    if(p[N-1]>0&&p[N-2]<=0){\n      p[N-1]=p[N-1]-1;\n      count2++;\n    }\n  }\n  for(i=1;i<N;i++){\n    while(1){\n      if(p[0]>0&&p[1]<=0){\n\tp[0]=p[0]-1;\n\tcount2++;\n      }\n      if(p[N-1]>0&&p[N-2]<=0){\n\tp[N-1]=p[N-1]-1;\n\tcount2++;\n      }\n      for(j=1;j<N;j++){\n\tif(p[j]>0&&p[j-1]<=0&&p[j+1]<=0){\n\t  while(1){\n\t    if(p[j]<=0)break;\n\t    if(p[j]>0&&p[j-1]<=0&&p[j+1]<=0){\n\t      p[j]=p[j]-1;\n\t      count2++;\n\t      count2++;\n\t    }\n\t  }\n\t}\n      }\n      if(p[i]<=0||p[i-1]<=0)break;\n      if(p[i]>0||p[i-1]>0){\n\tp[i]=p[i]-1;\n\tp[i-1]=p[i-1]-1;\n\tcount2++;\n\tcount2++;\n      }\n    }\n  }\n  if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  printf(\"%d\\n\",count2);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tint counti = 0;//inside\n\tint counto = 0;//outside\n\tint p[5000];\n\tint q[5000];\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin>>p[i];\n\t\tq[i] = p[i];\n\t}\n\tint i = N/2;\n\tint j = N/2;\n\twhile(1) {\t\n\t\tif (i == N-1) {\n\t\t\tcounti += p[i];\n\t\t\ti = -1;\n\t\t}\n\t\telse if(i>0){\t\t\t\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t\tif (p[i + 1] < 0)\n\t\t\t\tp[i + 1] = 0;\n\t\t\tp[i] = 0;\n\t\t\ti++;\n\t\t}\n\t\tif (j == 0) {\n\t\t\tcounti += p[j];\n\t\t\tj = -1;\n\t\t}\n\t\telse if(j>0){\n\t\t\tcounti += p[j] * 2;\n\t\t\tp[j - 1] -= p[j];\n\t\t\tif (p[j - 1] < 0)\n\t\t\t\tp[j - 1] = 0; \n\t\t\tp[j] = 0;\n\t\t\tj--;\n\t\t}\n\t\tif ((i==-1)&&(j==-1))\n\t\t\tbreak;\n\t}\n\ti = 0;\n\tj = N - 1;\n\twhile (1) {\n\t\tcounto += q[i] * 2;\n\t\tq[i + 1] -= q[i];\n\t\tif (q[i + 1] < 0)\n\t\t\tq[i + 1] = 0;\n\t\ti++;\n\t\tif (i == N / 2 + 1)\n\t\t\tbreak;\n\t\tcounto += q[j] * 2;\n\t\tq[j - 1] -= q[j];\n\t\tif (q[j-1] < 0)\n\t\t\tq[j- 1] = 0;\n\t\tj--;\n\t}\n\tif (counti > counto)\n\t\tcounti = counto;\n\tcout << counti << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\nint main(){\n  int N;\n  cin >> N;\n  vector<int> P(N);\n  for(int i = 0; i < N; ++i){\n    cin >> P[i];\n  }\n  int ans = 1e9;\n  for(int i = 0; i <= P[0]; ++i){\n    vector<int> P_ = P;\n    P_[0] -= i;\n    int t = i;\n    for(int j = 0; j < N-1; ++j){\n      t += 2*P_[j];\n      P_[j+1] -= P_[j];\n      P_[j+1] = max(P_[j+1],0);\n    }\n    t += P_.back();\n    ans = min(ans,t);\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<=p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[j]=p[j];\n\t\t}\n\t\tint sum=i;\n\t\tq[0]-=i;\n\t\t\n\t\tfor(int j=0;j<N-2;j++){\n\t\t\tif(q[j]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[j]*2;\n\t\t\tq[j+1] -=q[j];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nclass Solver {\npublic:\n\tstatic void solve() {\n\t\tint n;\n\t\tcin >> n;\n\t\tint ps[5005];\n\t\tfor (int i = 0; i < n; i++)cin >> ps[i];\n\n\t\tint res = 1e9;\n\t\tfor (int i = 0; i <= ps[0]; i++) {\n\t\t\tint tmp = i;\n\t\t\tint now = i;\n\t\t\tfor (int j = 0; j < n - 1; j++) {\n\t\t\t\tint delta = ps[j] - now;\n\t\t\t\tif (delta > 0) {\n\t\t\t\t\ttmp += delta * 2;\n\t\t\t\t\tnow = delta;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnow = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ps[n - 1] - now > 0)tmp += ps[n - 1] - now;\n\n\t\t\tres = min(res, tmp);\n\t\t}\n\n\t\tcout << res;\n\t}\n};\n\nint main() {\n\tSolver::solve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define REAP(i,a,n) for(int i=(a);i<(n);i++)\n#define YES cout<<\"Yes\"<<endl\n#define NO cout<<\"No\"<<endl\n#define fr first\n#define sc second\n#define pb push_back\n#define All(v) v.begin(),v.end()\ntypedef long long ll;\n\nint main(){\n    ios::sync_with_stdio(false);\n    int n;\n    while(cin >> n,n){\n        string st,en;\n        int table[100000]={};\n        REP(i,n){\n            cin >> st>>en;\n            int stim=0;\n            stim+=(st[0]-'0')*10+(st[1]-'0');\n            stim*=60;\n            stim+=(st[3]-'0')*10+(st[4]-'0');\n            stim*=60;\n            stim+=(st[6]-'0')*10+(st[7]-'0');\n            int etim=0;\n            etim+=(en[0]-'0')*10+(en[1]-'0');\n            etim*=60;\n            etim+=(en[3]-'0')*10+(en[4]-'0');\n            etim*=60;\n            etim+=(en[6]-'0')*10+(en[7]-'0');\n\n            table[stim]+=1;\n            table[etim]+=-1;\n        }\n        int res=0,sum=0;\n        for(int i=0;i<100000;i++){\n//            if(table[i])cout << i/3600 <<\" \"<<table[i]<<endl;\n            sum+=table[i];\n            res=max(res,sum);\n        }\n        cout << res << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>  \n\nusing namespace std;\n\n//#define int long long\n#define FOR(i, j, k) for(int i = j; i < (int)k; ++i)\n#define rep(i, j) FOR(i, 0, j)\n#define INF (1 << 30)\n\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> Pi;\n\nconst int MOD = 1e9 + 7;\nconst int dy[] = {0, 0, 1, -1};\nconst int dx[] = {1, -1, 0, 0};\n\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\ntemplate<typename T> T gcd(T a, T b) { return (b == 0 ? a : gcd(b, a % b)); }\ntemplate<typename T> T lcm(T a, T b) { return a / gcd(a, b) * b; }\n\nint p[5000];\nint tmp[5000];\n\nsigned main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    int n;\n    cin >> n;\n    rep(i, n) cin >> p[i];\n    int res = INF;\n    rep(i, p[0] + 1) {\n        int cnt = i;\n        memset(tmp, 0, sizeof(tmp));\n        tmp[0] = i;\n        FOR(j, 1, n) {\n            cnt += (p[j - 1] - tmp[j - 1]) * 2;\n            tmp[j] += p[j - 1] - tmp[j - 1];\n            chmin(tmp[i], p[i]);\n        }\n        cnt += p[n - 1] - tmp[n - 1];\n        chmin(res, cnt);\n    }\n    cout << res << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      ans += p[i];\n      break;\n    }\n    if(p[i]) ans += p[i] * 2;\n    p[i + 1] = max(p[i + 1] - p[i], 0);\n    p[i] = 0;\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000];\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  p[0]++;\n  rep(i, 0, p[0] + 1) {\n    int s = 0;\n    p[0]--;\n    ans = min(ans, solve(p) + i);\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V,S;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    S.push_back(p);\n  }\n\n  int res = 0;\n  int ans = 10000;\n\n  V = S;\n  if(V[0] >= V[1]){\n    while( !(V[1] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n  else {\n    while( !(V[0] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n\n  for(int i = 1; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n\n  V = S;\n  reverse(V.begin(),V.end());\n\n  if(V[0] >= V[1]){\n    while( !(V[1] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n  else {\n    while( !(V[0] <= 0) ){\n      V[0]--; V[1]--; res+=2;\n    }\n  }\n\n  for(int i = 1; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    int N;\n    cin >> N;\n    vector<int> P(N);\n    for(int i=0;i<N;i++) cin >> P[i];\n\n    int ans = 1e9;\n\n    for(int x = 0; x <= P[0];x++){\n        vector<int> p = P;\n        int res = x;\n        p[0] -= x;\n        for(int i=0;i<N-1;i++){\n            if(p[i] <= 0) continue;\n            res += p[i]*2;\n            p[i+1] -= p[i];\n        }\n        if(p[N-1] > 0) res += p[N-1];\n        ans = min(ans,res);\n    }\n    cout << ans << endl;;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\n#if defined(DEBUG)\n#define debug std::cerr\n#else\n#define debug std::cerr.setstate(std::ios_base::badbit); std::cerr\n#endif\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        debug << \"All value is zero.\" << std::endl;\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    debug << \"[!] Found \" << sections.size() << \" sections\" << std::endl;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // show state\n    debug << \"[!] Found \" << sections_zero_scored.size() << \" sections that has least zero\" << std::endl;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    debug << \"[!] Found \" << sections_scored_component.size() << \" sections that has maximum components\" << std::endl;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }   \n\n    debug << \"[!] Found \" << sections_scored_difficulty.size() << \" sections with harder difficulty\" << std::endl;\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    debug << \"[!] Found \" << sections_scored_distance.size() << \" sections with longer distance from start or end\" << std::endl;\n    for (auto iterator = sections_scored_distance.begin(); iterator != sections_scored_distance.end(); iterator++) {\n        Section section = iterator->second;\n        debug << \"  - [\";\n        debug << section[0] << \"<\" << input[section[0]] << \">\";\n        if (section.size() > 1) {\n            debug << \", \" << section[1] << \"<\" << input[section[1]] << \">\";\n        }\n        debug << \"]\" << std::endl;\n    }\n\n    debug << std::endl;\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        debug << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int side_zeros = 0;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int current = 0;\n\n            if (current_section.size() == 1) {\n                if (current_section[0] == 0 && input[current_section[0]+1] == 0) {\n                    current += 1;\n                } else if (input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n            } else {\n                if (current_section[0] != 0 && input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n                if (current_section[1] != input_size - 1 && input[current_section[1]+1] == 0) {\n                    current += 1;\n                }\n            }\n            if (current == side_zeros) {\n                section = current_section;\n            }\n            if (current > side_zeros) {\n                side_zeros = current;\n                section = current_section;\n            }\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        int value = input[index];\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        std::cerr << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n        auto section = (*section_map.begin()).second;\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int remnum = std::min(input[section[0]], input[section[1]]);\n        cnt += remnum * 2;\n        input[section[0]] -= remnum;\n        input[section[1]] -= remnum;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = 3;\n  while(true){\n    rep(i,n){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(i == 0){\n          p[i + 1]--;\n        }else{\n          if(p[i + 1] > p[i - 1]){\n            p[i + 1]--; \n          }else{\n            p[i - 1]--;\n          }\n        }\n        ans += 2;\n      }\n    }\n    itr--;\n    if(itr == 0){\n      cout << ans << endl;\n      return 0;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;++i)\n#define rrep(i,n) for(int i=n-1;i>=0;--i)\n#define yesno(flg) if(flg){cout<<\"Yes\"<<endl;}else{cout<<\"No\"<<endl;}\n#define Vi vector<int>\n#define Vl vector<long long>\n#define pb(a) push_back(a)\nusing namespace std;\n\ntypedef long long ll;\nconst int inf=1000000000;\nstruct edge{\n\tint myc,to,c,cost;\n};\nstruct pos{\n\tint to,cost,color;\n};\nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\nint main() {\n\tint n;\n\tcin>>n;\n\tint p;\n\tint a[4]={};\n\tint b[4]={};\n\trep(i,n){\n\t\trep(j,4)a[j]=b[j];\n\t\trep(j,4)b[j]=inf;\n\t\tcin>>p;\n\t\tif(p==0){\n\t\t\trep(j,4)b[0]=min(b[0],a[j]+j);\n\t\t}\n\t\tif(p==1){\n\t\t\tfor(int j=1;j<4;++j)b[0]=min(b[0],a[j]+j);\n\t\t\tb[1]=a[0]+1;\n\t\t}\n\t\tif(p==2){\n\t\t\tfor(int j=2;j<4;++j)b[0]=min(b[0],a[j]+j);\n\t\t\tb[1]=a[1]+2;\n\t\t\tb[2]=a[0]+2;\n\t\t}\n\t\tif(p==3){\n\t\t\tb[0]=a[3]+3;\n\t\t\tb[1]=a[2]+3;\n\t\t\tb[2]=a[1]+3;\n\t\t\tb[3]=a[0]+3;\n\t\t}\n\t}\n\tint total=inf;\n\trep(i,4)total=min(total,b[i]);\n\tcout<<total<<endl;\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,i,j;\n\tf=0;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++) scanf(\"%d\",&s[i]);\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i==1){\n\t\t\t\t\tif(s[i+1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==a-2){\n\t\t\t\t\tif(s[i-1]>0){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i-1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\ts[i]--;\n\t\t\t\t\t\ts[i+1]--;\n\t\t\t\t\t\tf+=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) f+=s[0];\n\tif(s[a-1]>0) f+=s[a-1];\n\tprintf(\"%d\\n\",f);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],count=0;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      //count += p[i];\n    }\n\n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n\n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n\n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n\n\n\n    /*int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n\n    cout << count << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn=0;\n\t\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[1]!=0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tp[1]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[N-2]!=0){\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tp[N-2]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<turn<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint dp[5009][5], n, p[100009];\n\nint main() {\n\tcin >> n;\n\tfor (int i = 1; i <= n; i++) cin >> p[i];\n\tfor (int i = 0; i <= n; i++) { for (int j = 0; j <= 4; j++) dp[i][j] = (1 << 30); }\n\tdp[0][0] = 0; dp[0][1] = 0; dp[0][2] = 0; dp[0][3] = 0; dp[0][4] = 0;\n\tfor (int i = 0; i <= n - 1; i++) {\n\t\tfor (int j = 0; j <= 4; j++) {\n\t\t\t// j = 次に絶対裏返さなければならない個数\n\t\t\tfor (int k = max(j, p[i + 1]); k <= 4; k++) {\n\t\t\t\tint z = k - j;\n\t\t\t\tdp[i + 1][z] = min(dp[i + 1][z], dp[i][j] + k);\n\t\t\t}\n\t\t}\n\t}\n\tint minx = (1 << 30);\n\tfor (int i = 0; i <= 4; i++) minx = min(minx, dp[n][i]);\n\tcout << minx << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],count=0;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      count += p[i];\n    }\n\n    int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] - p[1];\n    }\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-1]){\n      count += p[n-1] - p[n-2];\n    }\n\n    for(int i=0;i<n-2;i++){\n      if(p[i] < p[i+1] && p[i+2] < p[i+1]){\n        count += p[i+1] - p[i] - p[i+2];\n      }\n    }\n\n    /*int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n\n    cout << count << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(){\n  int N=0,i=0,count2=0;\n  int p[5005]={};\n  scanf(\"%d\",&N);\n  for(i=0;i<N;i++){\n    scanf(\"%d\",&p[i]);\n  }\n  if(p[0]>0&&p[1]>0){\n    p[0]=p[0]-1;\n    p[1]=p[1]-1;\n    count2++;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]>0){\n    p[N-1]=p[N-1]-1;\n    p[N-2]=p[N-2]-1;\n    count2++;\n    count2++;\n  }\n  if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  for(i=1;i<N-1;i++){\n    if(p[i]>0&&p[i-1]){\n      p[i]=p[i]-1;\n      p[i-1]=p[i-1]-1;\n      count2++;\n      count2++;\n    }\n  }\n  printf(\"%d\\n\",count2);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstdio>\n#include <cmath>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long ll;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define UNIQUE(a)  (a).erase(unique((a).begin(),(a).end()),(a).end())\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(auto i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\n//debug\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n\nint n,a[5000],b[5000];\n\n// O(N log N)\nint main() {\n\tcin>>n;\n\tREP(i,n)cin>>b[i];\n\tint ans = 1e6;\n\tREP(i,a[0]+1){\n\t\tmemcpy(a,b,sizeof(b));\n\t\ta[0]-=i;\n\t\tint t=i;\n\t\tREP(j,n){\n\t\t\tif(a[j]<1)continue;\n\t\t\tt+=a[j]*2;\n\t\t\ta[j+1]-=a[j];\n\t\t}\n\t\tans = min(ans, t);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p,bool f) > rec =\n  [&](vector<int> p,bool f){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0){\n        if(f == 0) res += p[i];\n        else {\n          res += p[i] * 2;\n          p[i+1] -= p[i];\n        }\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    return res + max(0LL,p[n-1]);\n  };\n\n  int ans = 1 << 30;\n  ans = max({ans,rec(p,0),rec(p,1)});\n  reverse(p.begin(),p.end());\n  ans = min({ans,rec(p,0),rec(p,1)});\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\t\n\tint turn=0;\n\t\n\tfor(int i=0;i<N;i++){\n\t\twhile(p[i]>0){\n\t\t\tif(i==0){\n\t\t\t\tif(p[1]>0){\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tp[1]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[0]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i==N-1){\n\t\t\t\tif(p[N-2]>0){\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tp[N-2]--;\n\t\t\t\t\tturn+=2;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tp[N-1]--;\n\t\t\t\t\tturn++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tp[i]--;\n\t\t\t\tp[i+1]--;\n\t\t\t\tturn+=2;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<turn<<endl;\n\t\t\t\t\n\treturn 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\n#define INF 0x3f3f3f3f\n#define chmin(a,b)(a)=min((a),(b))\nusing namespace std;\n\nint dp[5001][4], p[5000];\nint main() {\n\tint n; scanf(\"%d\", &n);\n\trep(i, n)scanf(\"%d\", &p[i]);\n\tmemset(dp, 0x3f, sizeof(dp));\n\trep(i, 4)dp[0][i] = i;\n\trep(i, n)rep(j, 4)chmin(dp[i + 1][max(0, p[i] - j)], dp[i][j] + max(0, p[i] - j) * (i == n - 1 ? 1 : 2));\n\tprintf(\"%d\\n\", *min_element(dp[n], dp[n] + 4));\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cmath>\n#include<vector>\n#include<set>\n#include<string>\n#include<map>\n#include<cassert>\nusing namespace std;\n#define int long long\n#define rep(i,n) for(int i=0;i<n;i++)\ntypedef pair<int, int> P;\ntypedef pair<int, P> PP;\nint dp[7][5005];\nint p[5010];\nint cp[5010];\nsigned main() {\n\tint n; cin >> n;\n\trep(i, n)cin >> p[i];\n\tint ans = 100000000;\n\tfor (int x = 0; x <= p[0]; x++) {\n\t\trep(i, n)cp[i] = p[i];\n\t\tint res = x;\n\t\tcp[0] -= x;\n\t\trep(i, n - 1) {\n\t\t\tres += cp[i] * 2;\n\t\t\tcp[i + 1] -= cp[i];\n\t\t\tif (cp[i + 1] < 0)cp[i + 1] = 0;\n\t\t}\n\t\tres += max(0ll, cp[n - 1]);\n\t\tans = min(ans, res);\n\t}\n\tcout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\n\tint N;\n\tcin>>N;\n\t\t\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\n\tint min_sum=20000;\n\n\tfor(int i=0;i<=p[0];i++){\n\t\tint q[5000];\n\t\tfor(int j=0;j<N;j++){\n\t\t\tq[j]=p[j];\n\t\t}\n\t\tint sum=i;\n\t\tq[0]-=i;\n\t\t\n\t\tfor(int j=0;j<N-2;j++){\n\t\t\tif(q[j]<=0)\n\t\t\t\tcontinue;\n\t\t\tsum +=q[j]*2;\n\t\t\tq[j+1] -=q[j];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum +=q[N-1];\n\t\t}\n\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\n\tcout<<min_sum<<endl;\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);(i) <= (e);(i)++)\n#define all(x) x.begin(),x.end()\n\nint N;\n\nvector<int> p;\n\nint calc(){\n  int cnt = 0;\n  vector<int> P = p;\n  for(int i = 0;i < N - 1;i++){\n    cnt += P[i];\n    P[i + 1] = max(0,P[i + 1] - P[i]);\n  }\n  return cnt * 2 + P[N - 1];\n}\n\nint main(){\n  cin >> N;\n  p.resize(N);\n  rep(i,0,N - 1) cin >> p[i];\n  int ans = calc();\n  int before = p[0];\n  rep(i,0,before){\n    p[0] = i;\n    ans = min(ans , calc() + before - i);\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\n    int n;\n\n    cin >> n;\n\n    int p[n],count=0;\n\n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      count += p[i];\n    }\n\n    int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] - p[1];\n    }\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-1]){\n      count += p[n-1] - p[n-2];\n    }\n\n    for(int i=0;i<n-2;i++){\n      if(p[i] == 0 && p[i+1] != 0 && p[i+2] == 0){\n        count += p[i+1];\n      }\n    }\n\n    /*int maxp = max(p[0],p[1]);\n\n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n\n\n\n    maxp = max(p[n-2],p[n-1]);\n\n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n\n    cout << count << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nvoid input(vector<int> &);\nint func(int,vector<int>);\nint main(){\n\tvector<int> cake;\n\tinput(cake);\n\tint ans = 100000;\n\tfor(int i=0;i<=cake[0];++i){\n\t\tans = func(i,cake);\n\t}\n\tcout<<min(func(true,cake),func(false,cake))<<endl;\n\treturn 0;\n}\n\nvoid input(vector<int> &line){\n\tint num;\n\tcin>>num;\n\tline.resize(num);\n\tfor(int i=0;i<num;++i){\n\t\tcin>>line[i];\n\t}\n}\n\nint func(int zerouse,vector<int> cake){\n\tint res=0;\n\tres=zerouse*2;\n\tcake[1]-=zerouse;\n\tcake[0]=zerouse;\n\tfor(int i=1;i<=cake.size();++i){\n\t\tint num = max(0,cake[i-1]);\n\t\tfor(int j=-1;j<=1;++j){\n\t\t\tif(j+i<cake.size()){\n\t\t\t\tcake[i+j]-=num;\n\t\t\t\tres+=num;\n\t\t\t}\n\t\t}\n\t}\n\treturn res;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <iterator>\n#include <vector>\n#include <string>\n#include <set>\n#include <math.h>\n#include <iostream>\n#include <random>\n#include<map>\n#include <iomanip>\n#include <time.h>\n#include <stdlib.h>\n#include <list>\n#include <typeinfo>\n#include <list>\n#include <set>\n#include <cassert>\n#include<fstream>\n#include <unordered_map>\n#include <cstdlib>\nusing namespace std;\n#define Ma_PI 3.141592653589793\n#define eps 0.00000001\n#define LONG_INF 3000000000000000000\n#define GOLD 1.61803398874989484820458\n#define MAX_MOD 1000000007\n#define MOD 998244353\n#define REP(i,n) for(long long i = 0;i < n;++i)    \n#define seg_size 524288\nlong long dp[200000] = {};\nint main() {\n\tint n;\n\tcin >> n;\n\tvector<long long> input;\n\tlong long ans = LONG_INF;\n\tREP(i, n) {\n\t\tlong long a;\n\t\tcin >> a;\n\t\tinput.push_back(a);\n\t}\n\tREP(tea, 2) {\n\t\tfor (int q = 0; q < 4; ++q) {\n\t\t\tfor (int i = 0; i < input.size(); ++i) {\n\t\t\t\tdp[i] = input[i];\n\t\t\t}\n\t\t\tlong long geko = q;\n\t\t\tdp[0] -= geko;\n\t\t\tfor (int i = 0; i < input.size()-1; ++i) {\n\t\t\t\twhile (dp[i] > 0) {\n\t\t\t\t\tdp[i]--;\n\t\t\t\t\tdp[i + 1]--;\n\t\t\t\t\tgeko += 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = min(ans, geko + max(dp[input.size() - 1], 0LL));\n\t\t}\n\t\treverse(input.begin(), input.end());\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    // 3\n    FOR(i,1,n-1){\n      if(v[i] == 3){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //2\n    FOR(i,1,n-1){\n      if(v[i] == 2){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n    //1\n    FOR(i,1,n-1){\n      if(v[i] == 1){\n        ll po = (v[i-1] < v[i+1] ? i+1 : i-1);\n        if(v[po] > 0){\n          v[i]--;\n          v[po]--;\n        }\n      }\n    }\n\n    FOR(i,1,n-1){\n      sum += v[i];\n    }\n    cout<<sum<<endl;\n\n\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint main(void)\n{\n\tint n,p[5001],pp[5001],MIN,i,j,cnt;\n\tscanf(\"%d\",&n);\n\tfor(i=1;i<=n;i++){\n\t\tscanf(\"%d\",&pp[i]);\n\t}\n\tpp[i]=0;\n\tMIN=100000000;\n\tfor(i=0;i<=3;i++){\n\t\tcnt=0;\n\t\tfor(j=1;j<=n;j++){\n\t\t\tp[j]=pp[j];\n\t\t}\n\t\tp[1]-=i;\n\t\tcnt+=i;\n\t\tfor(j=2;j<=n;j++){\n\t\t\tif(p[j-1]>0){\n\t\t\t\tp[j]-=p[j-1];\n\t\t\t\tcnt+=p[j-1]*2;\n\t\t\t}\n\t\t}\n\t\tif(p[n]<0){\n\t\t\tp[n]=0;\n\t\t}\n\t\tcnt+=p[n];\n\t\tMIN=min(MIN,cnt);\n\t}\n\tprintf(\"%d\\n\",MIN);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_N 5000\nint N;\nvector<int> p(MAX_N);\n\nint greed(vector<int>& z, int n) {\n  if (n >= N-1) return 0;\n  debug_var(n, max(0, z[n]), max(0, z[n+1]));\n  z[n+1] -= max(0, z[n]);\n  return greed(z, n+1)+max(0, z[n])*2;\n}\n\nint main() {\n  cin >> N;\n  rep(i, N) cin >> p[i];\n  \n  int ans = INT_MAX;\n  for (int t=0; t<=p[0]; t++) {\n    vector<int> z = p;\n    debug_var(t);\n    z[0] -= t;\n    z[1] -= t;\n    ans = min(ans, p[0]-t + t*2 + greed(z, 1) + max(0, z[N-1]));\n    debug_var(ans);\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n \nint main(){\n int n;\n cin>>n;\n \n int p[5000];\n \n for(int i=0;i<n;i++){\n    cin>>p[i];\n }\n \n int min_sum=20000;\n \n for(int i=0;i<=p[0];i++){\n    int q[5000];\n    for (int j=0;j<n;j++){\n        q[j]=p[j];\n    }\n \n    int sum=i;\n    q[0]-=i;\n \n    for(int j=0;j<=n-2;j++){\n        if(q[j]<=0)  continue;\n \n        sum+=q[j]*2;\n        q[j+1]-=q[j];\n    }\n \n    if(q[n-1]>0){\n        sum+=q[n-1];\n    }\n    min_sum=min(min_sum,sum);\n }\n cout <<min_sum<<endl;\n \n return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n        while(p[i]>0){\n\t\t\tx+=p[i];\n\t\t\tp[i]=0;\n\t\t\tp[i+1]-=p[i];\n\t}\n\tif(p[n]>0){\n\t\tx+=p[n];\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "xfdh "
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint ramp(int a){\n    if(a>=0) return a;\n    else return 0;\n}\n\nint main(){\n\tint n; cin >> n;\n    vector<int> p(n);\n    for(int i=0; i<n; i++) cin >> p[i];\n\n    int ans=1e7;\n    for(int i=0; i<=3; i++){\n        vector<int> q=p;\n        int cnt=i;\n        q[0]=ramp(q[0]-i);\n        for(int j=0; j<n-1; j++){\n            cnt += 2*q[j];\n            q[j+1]=ramp(q[j+1]-q[j]);\n        }\n        cnt += q[n-1];\n        ans=min(ans, cnt);\n    }\n\tcout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR( i, m, n )  for( int (i) = (m); (i) < (n); (i)++ )\n#define REP( i, n )     FOR( i, 0, n )\n#define ALL( a )        (a).begin(), (a).end()             \n\nint main(void){\n    int n; cin >> n;\n    vector<int> p(n);\n    REP( i, n ) cin >> p[i];\n    \n\n    \n    if( n == 1 ){\n        cout << p[0] << endl;\n        return 0;\n    } \n    \n    if( n == 2 ){\n        cout << max( p[0], p[1] ) * 2 << endl;\n        return 0;\n    }\n    \n    int cnt[4] = {0};\n    \n//　単独３\n    vector<int> tmp = p;\n    cnt[0] += 3;\n    FOR( i, 1, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[0] += 2;\n        }\n    }\n    while( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[0]++;\n    }\n\n// 単独2   \n    tmp = p;\n    tmp[0] -= 2;\n    cnt[1] += 2;\n    REP( i, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[1] += 2;\n        }\n    }\n    while( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[1]++;\n    }\n    \n//  単独１\n    tmp = p;\n    tmp[0]--;\n    cnt[2]++;\n    REP( i, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[2] += 2;\n        }\n    }\n    while( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[2]++;\n    }\n\n// 単独０\n    tmp = p;\n    REP( i, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[3] += 2;\n        }\n    }\n    while( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[3]++;\n    }\n    \n    cout << min( min( cnt[0], cnt[1] ), min( cnt[2], cnt[3] ) ) << endl;\n    \n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n#define INF (1<<29)\nint main(){\n  int n,p[5005];\n  scanf(\"%d\",&n);\n  for(int i=0;i<n;i++) scanf(\"%d\",&p[i]);\n  \n  int cnt,q[5005],mi=INF;\n  for(int i=0;i<=p[0];i++){\n    \n    cnt = i;\n    q[0] = p[0]-i;\n    for(int j=1;j<n;j++){\n      cnt += q[j-1]*2;\n      q[j] = max(0,p[j]-q[j-1]);\n    }\n    cnt += q[n-1];\n    mi = min(mi,cnt);\n\n  }\n  printf(\"%d\\n\",mi);\n  return(0);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tfor (int j = 1; j < N; j++) {\n\t\t\tif (pancake[j] > 0) {\n\t\t\t\tpancake[j]--;\n\t\t\t\tpancake[j - 1]--;\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long i64;\nusing std::cout;\nusing std::endl;\nusing std::cin;\n\nint main(){\n\tint n; cin >> n; std::vector<int> p(n + 2);\n\tfor(int i = 1; i <= n; i++) cin >> p[i];\n\t\n\tstd::vector<std::vector<int>> dp(n + 3, std::vector<int>(4, (1 << 30)));\n\tfor(int i = 0; i < 4; i++) dp[0][i] = i;\n\tfor(int i = 0; i <= n; i++) {\n\t\tfor(int j = 0; j < 4; j++) {\n\t\t\tfor(int k = 0; k < 4; k++) {\n\t\t\t\tif(j + k < p[i + 1]) continue;\n\t\t\t\tint tmp = (i == n - 1 ? 1 : 2);\n\t\t\t\t\n\t\t\t\tdp[i + 1][k] = std::min(dp[i + 1][k], dp[i][j] + tmp * k);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout << std::min({dp[n][0], dp[n][1], dp[n][2], dp[n][3]}) << endl;\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nconst int INF=1<<29;\nint N,p[5010];\nint dp[5010][4];\n//dp[i][j]:i番目までのパンケーキを全てひっくり返したとき、\n//         i+1番目のパンケーキの残り裏返し回数\n\nint main(){\n    cin>>N;\n    for(int i=0; i<N; i++)cin>>p[i];\n    \n    for(int i=0; i<5010; i++){\n        for(int j=0; j<4; j++){\n            dp[i][j]=INF;\n        }\n    }\n    for(int i=0; i<p[0]+1; i++)dp[0][i]=p[0]-i;\n    \n    for(int i=0; i<N-1; i++){\n        for(int j=0; j<4; j++){\n            for(int k=0; k<p[i+1]+1; k++){\n                int d=p[i+1]-k;\n                if(d<j)continue;\n                dp[i+1][k]=min(dp[i+1][k],dp[i][j]+d*2);\n            }\n        }\n    }\n    int ans=INF;\n    for(int i=0; i<4; i++)ans=min(ans,dp[N-1][i]+i);\n    cout<<ans<<endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\n#define MAX -210000000\n#define MIN 210000000\n\nint main(){\n\tint s[5000],a,oo,ba,f=0,i,j;\n\tscanf(\"%d\",&a);\n\tfor(i=0;i<a;i++)\n\t\tscanf(\"%d\",&s[i]);\n\twhile(1){\n\t\too=-1;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(oo<s[i]){\n\t\t\t\too=s[i];\n\t\t\t\tba=i;\n\t\t\t\tif(oo==3){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t/*\tfor(i=0;i<a;i++)\n\t\t\tprintf(\"%d\\n\",s[i]);*/\n\t\tif(oo==0){\n\t\t\tf+=s[0];\n\t\t\tf+=s[a-1];\n\t\t\tbreak;\n\t\t}\n\t\tif(ba==2){\n\t\t\tif(s[ba+1]>0){\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\ts[ba+1]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\tif(s[ba-1]>0)\n\t\t\t\t\ts[ba-1]--;\n\t\t\t}\n\t\t}\n\t\telse if(ba==a-2){\n\t\t\tif(s[ba-1]>0){\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\ts[ba-1]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf+=2;\n\t\t\t\ts[ba]--;\n\t\t\t\tif(s[ba+1]>0)\n\t\t\t\t\ts[ba+1]--;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(s[ba-1]>s[ba+1]){\n\t\t\t\tf+=2;\n\t\t\t\tif(s[ba-1]>0)\n\t\t\t\t\ts[ba-1]--;\n\t\t\t\ts[ba]--;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf+=2;\n\t\t\t\tif(s[ba+1]>0)\n\t\t\t\t\ts[ba+1]--;\n\t\t\t\ts[ba]--;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",f);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, n) for(int i = a; i < (n); i++)\n#define mod (ll)(1e9+7)\n#define int ll\n#define INF 100000000\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nsigned main() {\n\tll n, result = INF, sum = 0;\n  ll p[5005], q[5005];\n  cin >> n;\n  rep(i, n) cin >> p[i];\n  rep(i, p[0] + 1) {\n    rep(j, n) q[j] = p[j];\n    q[0] -= i;\n    ll b = i;\n    rep(j, n - 1) {\n      if(q[j] > 0) {\n        q[j + 1] -= q[j];\n        sum += q[j] * 2;\n        q[j] = 0;\n      }\n    }\n    if(q[n - 1] > 0) sum += q[n - 1];\n    result = min(result, sum);\n  }\n  cout << result << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\n\nint rec(int n) {\n  if (n >= N-1) return 0;\n  p[n+1] -= max(0, p[n]);\n  debug_var(n, max(0, p[n]), max(0, p[n+1]));\n  int res = rec(n+1)+max(0, p[n])*2;\n  return res;\n}\n\nint main() {\n  cin >> N;\n  rep(i, N) cin >> p[i];\n\n  if (p[0] <= p[1]) {\n    cout << rec(0) + max(0, p[N-1]) << endl;\n  } else {\n    cout << p[0] + rec(1) + max(0, p[N-1]) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int n,last_r=114514;\n  cin>>n;\n\n  vector <int> a(n),b;\n  for(int i=0;i<n;i++) cin>>a[i];\n\n  for(int i=0;i<=3;i++){\n    b=a;\n    int r=i;\n    b[0]-=i;\n\n    for(int j=0;j<n-1;j++){\n      r+=b[j]*2;\n      b[j+1]-=b[j];\n      if(b[j+1]<0) b[j+1]=0;\n    }\n\n    last_r=min(last_r,r+b[n-1]);\n\n  }\n\n  cout<<last_r<<endl;\n\n  return 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define Rep(i,N) for(int i = 0;i < N;i++)\n\nint main(){\n\n  int N;\n\n  vector<int> data(5005,0);\n\n  vector<int> temp(5005,0);\n\n  cin >> N;\n\n    Rep(i,N)cin >> data[i];\n\n    temp = data;\n\n    int sum = INT_MAX;\n\n    Rep(p,data[0] + 1){\n\n      int ans = 0;\n\n      data[0] -= p;\n\n      ans += p;\n\n      Rep(i,N - 1){\n\n        ans += data[i] * 2;\n\n        data[i + 1] -= data[i];\n\n        data[i] = 0;\n\n        if(data[i + 1] < 0)data[i + 1] = 0;\n\n      }\n\n      ans += data[N - 1];\n\n      sum = min(ans,sum);\n\n      data = temp;\n\n    }\n\n    cout << sum << endl;\n\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nsigned main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  for(int i = 0; i < n; i++){\n    cin >> p[i];\n  }\n\n  function< int(vector<int> p,bool f) > rec =\n  [&](vector<int> p,bool f){\n    int res = 0;\n    for(int i = 0; i < n-1; i++){\n      if(i == 0){\n        if(f == 0) res += p[i];\n        else {\n          res += p[i] + p[i+1];\n          p[i+1] = 0;\n        }\n      }\n      else if(p[i] > 0){\n        res += p[i] * 2;\n        p[i+1] -= p[i];\n      }\n    }\n    return res + max(0LL,p[n-1]);\n  };\n\n  int ans = 1 << 30;\n  ans = min({ans,rec(p,0),rec(p,1)});\n  reverse(p.begin(),p.end());\n  ans = min({ans,rec(p,0),rec(p,1)});\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main()\n{\n  int N;\n  cin>>N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int i=0;i<N;i++){\n      q[i]=p[i];\n    }\n\n    int sum=I;\n    q[0]-=I;\n\n    for(int i=0;i<N-2;i++){\n      if(q[i]<=0){\n        continue;\n      }\n      sum+=q[i]*2;\n      q[i+1]-=q[i];\n    }\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n    min_sum=min(min_sum,sum);\n  }\n  cout <<min_sum<<endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0 && pancake[1] <= 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0 && pancake[N - 2] <= 0) {\n\t\t\tpancake[N-1]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0) {\n\t\t\t\tpancake[j]--;\n\t\t\t\tif (pancake[j - 1] > 0) {\n\t\t\t\t\tpancake[j - 1]--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpancake[j + 1]--;\n\t\t\t\t}\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int n;\n    cin>>n;\n    int p[n];\n    for(int i=0;i<n;i++){\n        cin>>p[i];\n    }\n    int m=20000;\n    for(int i=0;i<p[0];i++){\n        int q[n];\n        for(int  j=0;j<n;j++){\n            q[i]=p[i];\n        }\n        int sum=i;\n        q[0]-=i;\n        for(int j=0;j<n-1;j++){\n            if(q[i]<=0) continue;\n            sum+=q[i]*2;\n            q[i+1]-=q[i];\n        }\n\n        if(q[n-1]>0){\n            sum+=q[n-1];\n        }\n\n        m=min(m,sum);\n    }\n    cout<<m<<endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cassert>\n#include <bitset>\nusing namespace std;\ntypedef long long LL;\n\nint N;\nint a[5678];\n\n//1-indexedでi番目のパンケーキの枚数がj枚で、\n//それ以前のパンケーキの枚数が0枚の時の最小コスト\nLL memo[5678][5];\nLL dp(int i, int j)\n{\n\tif (i == 0)\n\t{\n\t\treturn 0;//ここ賛否両論\n\t}\n\tassert(j >= 0);\n\tif (memo[i][j] >= 0)return memo[i][j];\n\tLL ans = INT_MAX;\n\tif (j == 0)\n\t{\n\t\tfor (int jj = 0; jj <= 3; ++jj)\n\t\t{\n\t\t\tans = min(ans, dp(i - 1, jj) + max(jj, a[i - 1]) * 2);\n\t\t\tif (i == 1)\n\t\t\t{\n\t\t\t\tans = min(ans, dp(i - 1, jj) + jj + a[i - 1]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tfor (int jj = 0; jj <= a[i - 1] - j; ++jj)\n\t\t{\n\t\t\tans = min(ans, dp(i - 1, jj) + (a[i - 1] - j) * 2);\n\t\t}\n\t}\n\treturn memo[i][j] = ans;\n}\n\nint main(void)\n{\n\tcin >> N;\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tcin >> a[i];\n\t}\n\tmemset(memo, 0xff, sizeof(memo));\n\tLL ans = INT_MAX;\n\tfor (int lasj = 0; lasj <= a[N - 1]; ++lasj)\n\t{\n\t\tLL can = dp(N, lasj) + lasj;\n\t\tans = min(ans, can);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod (ll)(1e9+7)\n#define int ll\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\n\nsigned main() {\n  int n, p[5001];\n  cin >> n;\n\n  rep(i, 0, n) cin >> p[i];\n\n  int ans = 0;\n  if(p[0] > p[1]) ans += p[0] - p[1], p[0] = p[1];\n  rep(i, 0, n - 1) {\n    if(p[i] >= 0) {\n      ans += p[i] * 2;\n      p[i + 1] -= p[i];\n    }\n  }\n  if(p[n - 1] >= 0) ans += p[n - 1];\n\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <math.h>\n#include <set>\n#include <vector>\n#include <array>\n#define MOD 1000000007\nusing namespace std;\n\nint gcd(int a,int b){\n\tif (!a) return b;\n\tif (!b) return a;\n\ta -= b;\n\treturn gcd(max(a,b), min(a,b));\n}\n\nint main()\n{\n\tint n;\n\tcin >> n;\n\t\n\n\tvector<int> p(n);\n\n\tfor (int i = 0; n > i; i++)\n\t\tscanf(\"%d\", &p[i]);\n\n\tint ans = 0;\n\t\n\tif (p[0] && !p[1])\n\t\tans+=p[0],p[0] = 0;\n\n\n\n\tfor (int i = 1; n-1 > i; i++){\n\t\tif (p[i] > 0){\n\t\t\tp[i + 1] -= p[i];\n\t\t\tans += p[i] * 2;\n\t\t}\n\n\t}\n\n\tif (p[n - 1] > 0){\n\t\tans += p[n - 1];\n\t}\n\n\tcout << ans;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\n\ntypedef pair<ll, ll> P;\ntypedef pair<ll, P> PP;\ntypedef pair<P, P> PPP;\n\nconst ll MOD = 1e9 + 7;\nconst ll INF = 9e18;\nconst double DINF = 5e14;\nconst double eps = 1e-10;\nconst int dx[4] = { 1,0,-1,0 }, dy[4] = { 0,1,0,-1 };\n\n#define ALL(x) (x).begin(),(x).end()\n#define ALLR(x) (x).rbegin(),(x).rend()\n#define pb push_back\n#define eb emplace_back\n#define fr first\n#define sc second\n\nint n, p[5010], dp[5010][5][5], ans = 100000;\n\nint main() {\n\tcin >> n;\n\tfor (int i = 1;i <= n;i++)cin >> p[i];\n\tfor (int i = 0;i <= n;i++) {\n\t\tfor (int j = 0;j < 4;j++) {\n\t\t\tfor (int k = 0;k < 4;k++) {\n\t\t\t\tdp[i][j][k] = 1000000;\n\t\t\t}\n\t\t}\n\t}\n\tdp[0][0][0] = 0;\n\tfor (int i = 1;i <= n;i++) {\n\t\tfor (int j = 0;j < 4;j++) {//そこだけ裏返す(i==1 or i==n)\n\t\t\tfor (int k = 0;k < 4;k++) {//そことその次を裏返す(1<=i<n)\n\t\t\t\tfor (int l = 0;l < 4;l++) {//前の一点だけ裏返していたとき\n\t\t\t\t\tfor (int m = 0;m < 4;m++) {//前で今を含めて裏返していたとき\n\t\t\t\t\t\tif (i == 1) {\n\t\t\t\t\t\t\tif (j + k < p[i])continue;\n\t\t\t\t\t\t\tdp[i][j][k] = min(dp[i][j][k], j + k * 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (i != n) {\n\t\t\t\t\t\t\tif (j != 0)continue;\n\t\t\t\t\t\t\tif (i != 2 && l != 0)continue;\n\t\t\t\t\t\t\tif (k + m < p[i])continue;\n\t\t\t\t\t\t\tdp[i][j][k] = min(dp[i][j][k], dp[i - 1][l][m] + k * 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (j + m < p[i])continue;\n\t\t\t\t\t\t\tif (l != 0)continue;\n\t\t\t\t\t\t\tans = min(ans, dp[i - 1][l][m] + j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n;\nint p[5010];\nint q[5010];\n\nint main(){\n\tscanf(\"%d\", &n);\n\tfor(int i=0; i<n; ++i) scanf(\"%d\", &p[i]);\n\n\tint ans = 1e9+7;\n\tfor(int i=0; i<4; ++i){\n\t\tint tmp = i;\n\t\tfor(int i=0; i<n; ++i) q[i] = p[i];\n\t\tq[0] -= i;\n\t\tfor(int j=0; j<n-1; ++j){\n\t\t\tif(q[j] > 0){\n\t\t\t\ttmp += q[j] * 2;\n\t\t\t\tq[j+1] -= q[j];\n\t\t\t}\n\t\t}\n\t\tif(q[n-1] > 0) tmp += q[n-1];\n\t\tans = min(ans, tmp);\n\t}\n\tprintf(\"%d\\n\", ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(){\n  int N=0,i=0,j=0,count2=0;\n  int p[5005]={};\n  scanf(\"%d\",&N);\n  for(i=0;i<N;i++){\n    scanf(\"%d\",&p[i]);\n  }\n  for(i=0;i<N;i++){\n    if(p[0]>0&&p[1]<=0){\n      p[0]=p[0]-1;\n      count2++;\n    }\n    if(p[N-1]>0&&p[N-2]<=0){\n      p[N-1]=p[N-1]-1;\n      count2++;\n    }\n  }\n  for(i=1;i<N;i++){\n    while(1){\n      if(p[0]>0&&p[1]<=0){\n\tp[0]=p[0]-1;\n\tcount2++;\n      }\n      if(p[N-1]>0&&p[N-2]<=0){\n\tp[N-1]=p[N-1]-1;\n\tcount2++;\n      }\n      for(j=1;j<N;j++){\n\tif(p[j]>0&&p[j-1]<=0&&p[j+1]<=0){\n\t  while(1){\n\t    if(p[j]<=0)break;\n\t    if(p[j]>0&&p[j-1]<=0&&p[j+1]<=0){\n\t      p[j]=p[j]-1;\n\t      count2++;\n\t      count2++;\n\t    }\n\t  }\n\t}\n      }\n      if(p[i]<=0||p[i-1]<=0)break;\n      if(p[i]>0||p[i-1]>0){\n\tp[i]=p[i]-1;\n\tp[i-1]=p[i-1]-1;\n\tcount2++;\n\tcount2++;\n      }\n    }\n  }\n  if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  printf(\"%d\\n\",count2);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,q[5000],i,j,y;\nmain(){\n  for(cin>>n;i<n;)cin>>q[i++];\n  if(q[0]>q[1])y+=q[0]-q[1],q[0]=q[1];\n  for(;j<n-1;++j)y+=q[j]*2,q[j+1]=max(0,q[j+1]-q[j]);\n  cout<<y+q[n-1]<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int n;\n  cin >> n;\n\n  int p[5000];\n  for(int i=0; i<n; i++){\n    cin >> p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int I=0; I<=p[0]; I++){\n    int q[5000];\n    for(int i=0; i<n; i++){\n      q[i]=p[i];\n    }\n\n    int sum=I;\n    q[0]-=I;\n\n    for(int i=0; i<=n-2; i++){\n      if(q[i]<=0)continue;\n\n      sum += q[i]*2;\n      q[i+1]-=q[i];\n    }\n\n    if(q[n-1]>0){\n      sum +=q[n-1];\n    }\n\n    min_sum=min(min_sum, sum);\n  }\n\n  cout << min_sum << endl;\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(){\n  int N=0,i=0,j=0,count2=0;\n  int p[5005]={};\n  scanf(\"%d\",&N);\n  for(i=0;i<N;i++){\n    scanf(\"%d\",&p[i]);\n  }\n  /*if(p[0]>0&&p[1]>0){\n    p[0]=p[0]-1;\n    p[1]=p[1]-1;\n    count2++;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]>0){\n    p[N-1]=p[N-1]-1;\n    p[N-2]=p[N-2]-1;\n    count2++;\n    count2++;\n    }*/\n  if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  for(i=1;i<N;i++){\n    while(1){\n      if(p[0]>0&&p[1]<=0){\n\tp[0]=p[0]-1;\n\tcount2++;\n      }\n      if(p[N-1]>0&&p[N-2]<=0){\n\tp[N-1]=p[N-1]-1;\n\tcount2++;\n      }\n      for(j=1;j<N;j++){\n\tif(p[j]>0&&p[j-1]<=0&&p[j+1]<=0){\n\twhile(1){\n\t  if(p[j]<=0)break;\n\t  if(p[j]>0&&p[j-1]<=0&&p[j+1]<=0){\n\t    p[j]=p[j]-1;\n\t    count2++;\n\t    count2++;\n\t  }\n\t}\n\t}\n      }\n      if(p[i]<=0||p[i-1]<=0)break;\n      if(p[i]>0||p[i-1]>0){\n\tp[i]=p[i]-1;\n\tp[i-1]=p[i-1]-1;\n\tcount2++;\n\tcount2++;\n      }\n    }\n  }\n  if(p[0]>0&&p[1]<=0){\n    p[0]=p[0]-1;\n    count2++;\n  }\n  if(p[N-1]>0&&p[N-2]<=0){\n    p[N-1]=p[N-1]-1;\n    count2++;\n  }\n  printf(\"%d\\n\",count2);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Preprocessor loop\n#define CAT_I(x, y) x ## y\n#define CAT(x, y) CAT_I(x, y)\n\n#define INC0 1\n#define INC1 2\n#define INC2 3\n#define INC3 4\n#define INC4 5\n#define INC5 6\n#define INC6 7\n#define INC7 8\n#define INC8 9\n#define INC(i) CAT(INC, i)\n\n#define EMPTY(...)\n#define DEF_COMMA0 _,1 EMPTY\n#define COMMA0() ,0\n#define IS_EMPTY_III(f, s) s\n#define IS_EMPTY_II(t) IS_EMPTY_III t\n#define IS_EMPTY_I(x) IS_EMPTY_II((DEF_ ## x()))\n#define IS_EMPTY(x, ...) IS_EMPTY_I(x COMMA0)\n\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n#define IF_0(x, y) y\n#define IF_1(x, y) x\n#define IF(cond, x, y) CAT(IF_, cond)(x, y)\n\n#define FOR_EACH_I9(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I8(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I7(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I6(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I5(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I4(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I3(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I2(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I1(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I0(i, F, x, ...) F(x) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH_I(i, F, ...) IF(IS_EMPTY(__VA_ARGS__), EMPTY, CAT(FOR_EACH_I, i))(INC(i), F, __VA_ARGS__)\n#define FOR_EACH(F, ...) FOR_EACH_I(0, F, __VA_ARGS__)\n// Preprocessor loop end\n\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << \" \" << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD = 1000000007; \n\n#define DEBUG_VAR(v) << #v << \"=\" << v << \" \"\n#ifdef DEBUG\n#define debug_echo(e) cout << \"L\" << __LINE__ << \": \" << e << endl\n#define debug_var(...) cout << \"L\" << __LINE__ << \": \" FOR_EACH(DEBUG_VAR, __VA_ARGS__) << endl\n#define debug_echo_dp1(dp, N) { cout << \"[ \"; rep(i, N) cout << dp[i] << \" \";  cout << \"]\" << endl; }\n#else\n#define debug_echo(e)\n#define debug_var(...)\n#define debug_echo_dp1(dp, N)\n#endif\n\n// Implementation\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\n\nint rec(int n) {\n  if (n >= N-1) return 0;\n  p[n+1] -= max(0, p[n]);\n  debug_var(n, max(0, p[n]), max(0, p[n+1]));\n  return rec(n+1)+max(0, p[n])*2;\n}\n\nint main() {\n  while (cin >> N, N) {\n    rep(i, N) cin >> p[i];\n\n    if (p[0] <= p[1]) {\n      cout << rec(0) + max(0, p[N-1]) << endl;\n    } else {\n      cout << p[0] + rec(1) + max(0, p[N-1]) << endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    int n;\n    cin >> n;\n\n    int a[n], b[n];\n    for(int i = 0; i < n; i++){\n        cin >> a[i];\n        b[i] = a[i];\n    }\n\n    int forward = 0;\n    if(a[0] < a[1]){\n        forward = 2*a[0];\n        a[1] -= a[0];\n        a[0] = 0;\n    }else{\n        forward = a[0];\n        a[0] = 0;\n    }\n    for(int i = 1; i < n-1; i++){\n        if(a[i] == 0)   continue;\n\n        forward += 2 * a[i];\n        a[i+1] = max(0, a[i+1]-a[i]);\n        a[i] = 0;\n    }\n\n    int backward = 0;\n    if(b[n-1] < b[n-2]){\n        backward = 2*b[n-1];\n        b[n-2] -= b[n-1];\n        b[n-1] = 0;\n    }else{\n        backward = b[n-1];\n        b[n-1] = 0;\n    }\n\n    for(int i = n-2; i > 0; i--){\n        if(b[i] == 0)   continue;\n\n        backward += 2 * b[i];\n        b[i-1] = max(0, b[i-1]-b[i]);\n        b[i] = 0;\n    }\n    backward += b[0];\n\n    cout << min(forward, backward) << endl;\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <limits>\n#include <fstream>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\n\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  int n; cin >> n;\n  int p[n];\n  FOR(i,0,n) cin >> p[i];\n  int dp[n+1][4];\n  FOR(i,0,n+1)FOR(j,0,4)dp[i][j]=1e9;\n  int ans = 1e9;\n  FOR(i,0,n-1){\n    if(i==0){\n      FOR(j,0,4){\n        dp[i][j] = min(dp[i][j], j * 2 + max(0, p[0] - j));\n      }\n    }\n    else {\n      FOR(j,0,4){\n        FOR(k,0,4){\n          if(k + j >= p[i]){\n            dp[i][k] = min(dp[i][k], dp[i-1][j] + k * 2);\n            if(i == n - 2) {\n              dp[i+1][k] = min(dp[i+1][k], dp[i][k] + max(0, p[i+1] - k));\n              ans = min(ans ,dp[i+1][k]);\n            }\n          }\n        }\n      }\n    }\n  }\n  cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n  int many;\n  int turned_pancake = 0;\n  int min_turnd = 1410065407;\n\n  cin >> many;\n\n  int turnd[many];\n  for (int i = 0; i < many; i++ ){   \n    cin >> turnd[i]; \n  }\n\n\n\n  int checkLoop = turnd[0];\n  for (int checkNumber = 0;  checkNumber <= checkLoop; checkNumber++){\n\n    turned_pancake = 0;\n    int checkTurned[many];\n    for (int i = 0; i < many; i++ ){   \n      checkTurned[i] = turnd[i]; \n    }\n\n    for (int j = 0; j < checkNumber; j++ ){\n      turned_pancake += 1;\n      checkTurned[0] -= 1;\n    }\n\n    for (int i = 1; i < (many - 1); i++) {\n\n        while(checkTurned[i] > 0) {\n      \n          // どっちをひっくり返すか。\n          if (checkTurned[(i - 1)] > 0 ) { // 一つ前の数値がある。\n\n            // i 盤目 と i-1 盤ん目をひっくり返す。\n            checkTurned[(i - 1)] -= 1;\n            checkTurned[i] -= 1;\n            turned_pancake += 2;\n\n          } else if (checkTurned[(i + 1)] > 0) { // 一つ後ろの数値がある。\n\n            // i 盤目 と i+1 盤ん目をひっくり返す。\n            checkTurned[(i + 1)] -= 1;\n            checkTurned[i] -= 1;\n            turned_pancake += 2;\n\n          } else {\n\n              // i 盤目 と i-1 盤ん目をひっくり返す。\n            checkTurned[(i - 1)] -= 1;\n            checkTurned[i] -= 1;\n            turned_pancake += 2;\n\n          }\n        }\n    }\n\n    // 端の調整\n    if (checkTurned[0] > 0) {\n      turned_pancake += checkTurned[0];\n      checkTurned[0] = 0;\n    }\n    if (checkTurned[(many-1)] > 0) {\n      turned_pancake += checkTurned[(many-1)];\n      checkTurned[(many-1)] = 0;\n    }\n\n    // 終わった\n    if (min_turnd > turned_pancake) {\n        min_turnd = turned_pancake;\n    }\n  }\n\n  cout << min_turnd << endl;\n\n}\n"
  },
  {
    "language": "C++",
    "code": "// 2017/07/18 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\tint sum1 = 0;\n\n\tint p[5000];\n\tfor(int i=0; i<N; i++){\n\t\tcin >> p[i];\n\t\tsum1 += p[i];\n\t}\n\n\tfor(int P=3; P>0; P--){\n\t\tfor(int i=0; i<N; i++){\n\t\t\tif(p[i]==P){\n\t\t\t\tp[i]--;\n\t\t\t\tif(i==0){\n\t\t\t\t\tif(p[i+1]>0){\n\t\t\t\t\t\tp[i+1]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==N-1){\n\t\t\t\t\tif(p[i-1]>0){\n\t\t\t\t\t\tp[i-1]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(p[i-1]>=p[i+1]){\n\t\t\t\t\t\tp[i-1]--;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tp[i+1]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tint sum2 = 0;\n\n\tfor(int i=0; i<N; i++){\n\t\tsum2 += p[i];\n\t}\n\n\tcout << sum1-sum2 << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\n#define rep(i,s,e) for(int (i) = (s);(i) <= (e);(i)++)\n#define all(x) x.begin(),x.end()\nstruct revran {\n  const i64 b, e;\n  struct iter {\n    i64 i;\n    constexpr iter(const i64 i) noexcept: i(i) {}\n    void operator++() noexcept { --i; }\n    constexpr i64 operator*() const noexcept { return i; }\n    constexpr bool operator!=(const iter x) const noexcept { return i != x.i; }\n  };\n  constexpr revran(const i64 e) noexcept: b(0), e(e) {}\n  constexpr revran(const i64 b, const i64 e) noexcept: b(b), e(e) {}\n  constexpr iter begin() const noexcept { return iter(e - 1); }\n  constexpr iter end() const noexcept { return iter(b - 1); }\n};\n\nstruct ran {\n  const i64 b, e;\n  struct iter {\n    i64 i;\n    constexpr iter(const i64 i) noexcept: i(i) {}\n    void operator++() noexcept { ++i; }\n    constexpr i64 operator*() const noexcept { return i; }\n    constexpr bool operator!=(const iter x) const noexcept { return i != x.i; }\n  };\n  constexpr ran(const i64 e) noexcept: b(0), e(e) {}\n  constexpr ran(const i64 b, const i64 e) noexcept: b(b), e(e) {}\n  constexpr iter begin() const noexcept { return iter(b); }\n  constexpr iter end() const noexcept { return iter(e); }\n  constexpr revran rev() const noexcept { return revran(b, e); }\n};\n\nconstexpr ran rin(const i64 e) noexcept { return ran(1, e + 1); }\nconstexpr ran rin(const i64 b, const i64 e) noexcept { return ran(b, e + 1); }\n\nint main() {\n  i64 N;\n  cin >> N;\n  vector<i64> p(N);\n  for(int i = 0;i < N;i++) cin >> p[i];\n  auto f = []( vector<i64> p ) -> i64 {\n    i64 sum = 0;\n    for(int i = 0;i + 1 < p.size();i++) {\n      p[i] = max(p[i], 0ll);\n      sum += p[i] * 2;\n      p[i + 1] -= p[i];\n    }\n    p.back() = max(p.back(), 0ll);\n    sum += p.back();\n    return sum;\n  };\n  i64 ans = f(p);\n  for(int i = 0;i <= 3;i++) {\n    auto q = p;\n    q[0] -= i;\n    ans = min(ans, i + f(q));\n  }\n  cout << ans << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define repp(i,l,r)for(long long i=(l);i<(r);i++)\n#define rep(i,n) for (long long i = 0; i < (n); ++i)\n#define per(i,n) for (long long i = (n); i >= 0; --i)\n#define all(v) v.begin(), v.end()\nconst int INF = 1 << 30;//int max\nconst long long int MOD = 1000000007;\nusing namespace std;\nusing ll = long long;\nusing P = pair<int,int>;\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\n//2016-6 Pancake\nint main() {\n    int n;\n    cin >> n;\n    vector<int> a(n,0);\n    rep(i,n)cin >> a[i];\n    ll res = INF;\n    rep(f,4){\n        vector<int> bake(n,0);\n        bake.front() += f;\n        rep(i,n-1){\n            int p = a[i] - bake[i];\n            if(p <= 0)continue;\n            bake[i] += p;\n            bake[i+1] += p;\n        }\n        bake.back() += max(0, a.back() - bake.back());\n        chmin(res,accumulate(all(bake),0LL));\n    }\n    cout << res << \"\\n\";\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, n) for(int i = a; i < (n); i++)\n#define mod (ll)(1e9+7)\n#define int ll\n#define INF 100000000\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nsigned main() {\n\tll n, result = INF, sum = 0;\n  ll p[5005], q[5005];\n  cin >> n;\n  rep(i, n) cin >> p[i];\n  rep(i, p[0] + 1) {\n    rep(j, n) q[j] = p[j];\n    q[0] -= i;\n    ll b = i;\n    rep(j, n - 1) {\n      if(q[j] > 0) {\n        q[j + 1] -= q[j];\n        sum += q[j] * 2;\n        q[j] = 0;\n      }\n    }\n    if(q[n - 1] > 0) sum += q[n - 1];\n    result = min(result, sum);\n  }\n  cout << result << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  int sum = 0;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      if(p[i] - sum > 0) ans += p[i] - sum;\n      break;\n    }\n    if(p[i] - sum > 0) {\n      ans += (p[i] - sum) * 2;\n      sum = p[i] - sum;\n    }else sum = 0;\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000] = {};\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  int k = p[0] + 1;\n  rep(i, 0, k) {\n    ans = min(ans, solve(p) + i);\n    p[0]--;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod 1e9+7\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nint n;\n\nint solve(int p[]) {\n  int ans = 0;\n  cout << p[0] << endl;\n  rep(i, 0, n) {\n    if(i == n - 1) {\n      if(p[i] > 0) ans += p[i];\n      break;\n    }\n    if(p[i] > 0) {\n      ans += p[i] * 2;\n      p[i + 1] -= p[i];\n    }\n  }\n  return ans;\n}\n\nint main() {\n  int p[5000] = {};\n  cin >> n;\n  rep(i, 0, n) cin >> p[i];\n  int ans = INT_MAX;\n  int k = p[0] + 1;\n  rep(i, 0, k) {\n    ans = min(ans, solve(p) + i);\n    p[0]--;\n  }\n  cout << ans << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF 1.1e9\n#define LINF 1.1e18\n#define FOR(i, a, b) for (int i = (a); i < (b); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define RREP(i, n) for (int i = (n) - 1; i >= 0; i--)\n#define ALL(v) (v).begin(), (v).end()\n#define pb push_back\n#define pf push_front\n#define fi first\n#define se second\n#define BIT(x, n) bitset<n>(x)\n#define PI 3.14159265358979323846\n\ntypedef long long ll;\ntypedef pair< int, int > P;\ntypedef pair< int, P > PP;\n\n//-------------------------------------------------\n\nint n;\nint p[5010];\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n\tcin >> n;\n\tREP(i, n) cin >> p[i];\n\n\tint ans = INF;\n\tREP(l, p[0] + 1) {\n\t\tREP(r, p[n - 1] + 1) {\n\t\t\tint P[5010], cnt[5010] = {};\n\t\t\tREP(i, n) P[i] = p[i];\n\t\t\tP[0] -= l, P[n - 1] -= r;\n\t\t\tint sum = l + r;\n\t\t\tREP(i, n - 1) {\n\t\t\t\tif (cnt[i] < P[i]) {\n\t\t\t\t\tsum += 2 * (P[i] - cnt[i]);\n\t\t\t\t\tcnt[i + 1] += P[i] - cnt[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cnt[n - 1] < P[n - 1]) sum += P[n - 1] - cnt[n - 1];\n\t\t\tans = min(ans, sum);\n\t\t\tREP(i, n) cnt[i] = 0;\n\t\t\tsum = l + r;\n\t\t\tfor (int i = n - 1; i > 0; i--) {\n\t\t\t\tif (cnt[i] < P[i]) {\n\t\t\t\t\tsum += 2 * (P[i] - cnt[i]);\n\t\t\t\t\tcnt[i - 1] += P[i] - cnt[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cnt[0] < P[0]) sum += P[0] - cnt[0];\n\t\t\tans = min(ans, sum);\n\t\t}\n\t}\n\tcout << ans << endl;\n\n\treturn 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0) {\n\t\t\tpancake[N-1]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0){ \n\t\t\t\tpancake[j]--;\n\t\t\t\tif (pancake[j - 1] > 0) {\n\t\t\t\t\tpancake[j - 1]--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpancake[j + 1]--;\n\t\t\t\t}\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\n  int n,last_r=114514;\n  cin>>n;\n\n  vector <int> a(n),b;\n  for(int i=0;i<n;i++) cin>>a[i];\n\n  for(int i=0;i<=3;i++){\n    b=a;\n    int r=i;\n    b[0]-=i;\n    if(b[0]<0) b[0]=0;\n\n    for(int j=0;j<n-1;j++){\n      r+=b[j]*2;\n      b[j+1]-=b[j];\n      if(b[j+1]<0) b[j+1]=0;\n    }\n\n    last_r=min(last_r,r+b[n-1]);\n\n  }\n\n  cout<<last_r<<endl;\n\n  return 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tint counti = 0;//inside\n\tint counto = 0;//outside\n\tint p[5000];\n\tint q[5000];\n\t\n\tcin >> N;\n\tfor (int i = 0; i < N; i++) {\n\t\tcin>>p[i];\n\t\tq[i] = p[i];\n\t}\n\tint i = N/2;\n\tint j = N/2;\n\twhile(1) {\t\n\t\tif (i == N-1) {\n\t\t\tcounti += p[i];\n\t\t\ti = -1;\n\t\t}\n\t\telse if(i>0){\t\t\t\n\t\t\tcounti += p[i] * 2;\n\t\t\tp[i + 1] -= p[i];\n\t\t\tif (p[i + 1] < 0)\n\t\t\t\tp[i + 1] = 0;\n\t\t\tp[i] = 0;\n\t\t\ti++;\n\t\t}\n\t\tif (j == 0) {\n\t\t\tcounti += p[j];\n\t\t\tj = -1;\n\t\t}\n\t\telse if(j>0){\n\t\t\tcounti += p[j] * 2;\n\t\t\tp[j - 1] -= p[j];\n\t\t\tif (p[j - 1] < 0)\n\t\t\t\tp[j - 1] = 0; \n\t\t\tp[j] = 0;\n\t\t\tj--;\n\t\t}\n\t\tif ((i==-1)&&(j==-1))\n\t\t\tbreak;\n\t}\n\ti = 0;\n\tj = N - 1;\n\twhile (1) {\n\t\tcounto += q[i] * 2;\n\t\tq[i + 1] -= q[i];\n\t\ti++;\n\t\tif (i == N / 2 + 1)\n\t\t\tbreak;\n\t\tcounto += q[j] * 2;\n\t\tq[j - 1] -= q[j];\n\t\tj--;\n\t}\n\tif (counti > counto)\n\t\tcounti = counto;\n\tcout << counti << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\tint min_sum=20000;\n\tfor(int I=0;I<=p[0];I++){\n\t\tint q[5000];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tq[i]=p[i];\n\t\t}\n\t\tint sum=I;\n\t\tq[0]-=I;\n\t\tfor(int i=0;i<N-2;i++){\n\t\t\tif(q[i]<=0){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsum+=q[i]*2;\n\t\t\tq[i+1]-=q[i];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum+=q[N-1];\n\t\t}\n\t\tmin_sum=min(min_sum,sum);\n\t}\n\tcout<<min_sum<<endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  int n,s1=0,s2=0;\n  cin>>n;\n  int a[n],b[n];\n  r(i,n)cin>>a[i];\n  if(a[0]>a[1])s1+=a[0]-a[1],a[0]=a[1];\n  for(int i=0;i<n-1;i++){\n    if(a[i]<=0)continue;\n    s1+=a[i]*2;\n    a[i+1]-=a[i];\n  }\n  if(a[n-1]<0)a[n-1]=0;\n  cout<<s1+a[n-1]<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n\twhile(p[i]>0){\n\tp[i]--;\n\tp[i+1]--;\n\tx+=2;\n\t}\n\t}\n\twhile(p[n]>0){\n\t\tp[n]--;\n\t\tx++;\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <set>\nusing namespace std;\n#define INF 100000\nint n,dp[5005][5],p[5005];\nint main(void){\n    scanf(\"%d\",&n);\n    for(int i=0;i<=n;i++)for(int j=0;j<5;j++)dp[i][j]=INF;\n    for(int i=0;i<n;i++)scanf(\"%d\",p+i);\n    for(int i=0;i<=p[0];i++)dp[0][i]=p[0]-i;\n    for(int i=0;i<n-1;i++){\n        for(int j=0;j<5;j++){\n            dp[i+1][max(p[i+1]-j,0)]=min(dp[i+1][max(p[i+1]-j,0)],dp[i][j]+j*2);\n        }\n    }\n    printf(\"%d\\n\",dp[n-1][0]);\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nclass Solver {\npublic:\n\tstatic void solve() {\n\t\tint n;\n\t\tcin >> n;\n\t\tint ps[5005];\n\t\tfor (int i = 0; i < n; i++)cin >> ps[i];\n\n\t\tint res = 1e9;\n\t\tfor (int i = 0; i <= ps[0]; i++) {\n\t\t\tint tmp = i;\n\t\t\tint now = i;\n\t\t\tfor (int j = 0; j < n - 1; j++) {\n\t\t\t\tint delta = ps[j] - now;\n\t\t\t\tif (delta > 0) {\n\t\t\t\t\ttmp += delta * 2;\n\t\t\t\t\tnow = delta;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnow = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ps[n - 1] - now > 0)tmp += ps[n - 1] - now;\n\n\t\t\tres = min(res, tmp);\n\t\t}\n\n\t\tcout << res<<endl;\n\t}\n};\n\nint main() {\n\tSolver::solve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR( i, m, n )  for( int (i) = (m); (i) < (n); (i)++ )\n#define REP( i, n )     FOR( i, 0, n )\n#define ALL( a )        (a).begin(), (a).end()             \n\nint main(void){\n    int n; cin >> n;\n    vector<int> p(n);\n    REP( i, n ) cin >> p[i];\n    \n\n    \n    if( n == 1 ){\n        cout << p[0] << endl;\n        return 0;\n    } \n    \n    if( n == 2 ){\n        cout << max( p[0], p[1] ) * 2 << endl;\n        return 0;\n    }\n    \n    int cnt[4] = {0};\n    \n//　単独３\n    vector<int> tmp = p;\n    cnt[0] += 3;\n    FOR( i, 1, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[0] += 2;\n        }\n    }\n    if( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[0]++;\n    }\n\n// 単独2   \n    tmp = p;\n    tmp[0] -= 2;\n    cnt[1] += 2;\n    REP( i, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[1] += 2;\n        }\n    }\n    if( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[1]++;\n    }\n    \n//  単独１\n    tmp = p;\n    tmp[0]--;\n    cnt[2]++;\n    REP( i, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[2] += 2;\n        }\n    }\n    if( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[2]++;\n    }\n\n// 単独０\n    tmp = p;\n    REP( i, n - 1 ){\n        while( tmp[i] > 0 ){\n            tmp[i]--;\n            tmp[i + 1]--;\n            cnt[3] += 2;\n        }\n    }\n    if( tmp[n - 1] > 0 ){\n        tmp[n - 1]--;\n        cnt[3]++;\n    }\n    \n    cout << min( min( cnt[0], cnt[1] ), min( cnt[2], cnt[3] ) ) << endl;\n    \n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  int n; cin >> n;\n  vector<int> p(n);\n  vector<int> p2(n);\n  for(int i=0;i<n;++i) {\n    cin >> p[i];\n    p2[i] = p[i];\n  }\n  \n  int ans = 0;\n  bool init = true;\n  for(int i=0;i<n-1;++i) {\n    if(p[i] > 0) {\n      if(i == 0) {\n        ans += p[0] + min(p[0], p[1]);\n        p[1] -= p[0];\n      } else {\n        ans += 2 * p[i];\n        p[i+1] -= p[i];\n      }\n    }\n  }\n  if(p[n-1] > 0) ans += p[n-1];\n\n  reverse(p2.begin(), p2.end());\n  int ans2 = 0;\n  for(int i=0;i<n-1;++i) {\n    if(p2[i] > 0) {\n      if(i == 0) {\n        ans2 += p2[0] + min(p2[0], p2[1]);\n        p2[1] -= p2[0];\n      } else {\n        ans2 += 2 * p2[i];\n        p2[i+1] -= p2[i];\n      }\n    }\n  }\n  if(p2[n-1] > 0) ans2 += p2[n-1];\n\n  cout << min(ans, ans2) << endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\tcin>>n;\n\tint a;\n\tint max=0;\n\tint maxp;\n\tint count=0;\n\tvector<int> v;\n\tfor(int i=0;i<n;i++){\n\t\tcin>>a;\n\t\tv.push_back(a);\n\t\tif(a>max){\n\t\t\tmax=a;\n\t\t\tmaxp=i;\n\t\t}\n\t}\n\n\twhile(max>0){\n\t\tif(maxp==0){\n\t\t\tif(v[maxp+1]>0){\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp+1]--;\n\t\t\t\tcount+=2;\t\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tcount++;\n\t\t\t}\t\n\t\t}else if(maxp==n-1){\n\t\t\tif(v[maxp-1]==0){\n\t\t\t\tv[maxp]--;\n\t\t\t\tcount++;\n\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp-1]--;\n\t\t\t\tcount+=2;\n\t\t\t}\n\t\t}else{\n\t\t\tif(v[maxp+1]>v[maxp]-1){\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp+1]--;\n\t\t\t\tcount+=2;\n\t\t\t}else{\n\t\t\t\tv[maxp]--;\n\t\t\t\tv[maxp-1]--;\n\t\t\t\tcount+=2;\n\t\t\t}\n\t\t}\n\t\tmax=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(v[i]>max){\n\t\t\t\tmax=v[i];\n\t\t\t\tmaxp=i;\n\t\t\t}\n\t\t}\nfor(int i=0;i<5;i++){\n\t//cout<<v[i];\n}\ncout<<endl;\n\t}\n\tcout<<count<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a); i<(b); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\nconst ll INF = 1ll<<29;\nconst bool debug = 0;\n\nint N;\nint p[5000], c[5000];\n\nint solve(int x) {\n\tcopy(p, p + N, c);\n\t\n\tint res = x;\n\tc[0] -= x;\n\t\n\tFOR(i, 1, N) {\n\t\tif (c[i - 1] > 0) {\n\t\t\tres += c[i - 1] * 2;\n\t\t\tc[i] -= c[i - 1];\n\t\t}\n\t}\n\t\n\tif (c[N - 1] > 0) res += c[N - 1];\n\treturn res;\n}\n\nint main() {\n  cin >> N;\n  REP(i, N) scanf(\"%d\", p + i);\n  \n  int ans = INF;\n  REP(i, p[0] + 1) chmin(ans, solve(i));\n  cout << ans << endl;\n  \n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int w,h,c,i,num,hd,wd;\n  int sum = 0;\n  cin >> w >> h >> c;\n  hd = h;\n  wd = w;\n  if(hd == wd) cout << c << endl;\n  else{\n    while(1){\n      if(w>h){\n\tif(w%h == 0){\n\t  num = h;\n\t  break;\n\t}\n\tw = w%h;\n      }\n      if(h>w){\n\tif(h%w == 0){\n\t  num =w;\n\t  break;\n\t}\n\th = h%w;\n      }\n    }\n \n\n  cout << ((hd*wd)/(num*num))*c << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n,ans=0;\n  cin >> n;\n  vector<int> a(n);\n  for (int i=0;i<n;i++){\n      cin >> a.at(i);\n  }\n  if (a.at(0)>a.at(1)) ans=ans+a.at(0)-a.at(1);\n  for (int i=1;i<n-1;i++){\n      if (a.at(i)>0) {\n          ans=ans+a.at(i)*2;\n          a.at(i+1)-=a.at(i);\n      }\n  }\n  if (a.at(n-1)>0) ans=ans+a.at(n-1);\n  cout << ans << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n#define debug_echo(expr) cout << \"L\" <<  __LINE__ << \": \" << expr << endl;\n#define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n#define debug_echo(expr)\n#define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    int curp = p[i];\n    rep(_, curp) {\n        if (i == 0) {\n            if (p[i+1] <= 0) {\n                debug_echo(i);\n                p[i]--;\n                flipcnt++;\n            } else {\n                debug_echo(i << \" \" << i+1);\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        } else if (i == N-1) {\n            if (p[i-1] <= 0) {\n                debug_echo(i);\n                p[i]--;\n                flipcnt++;\n            } else {\n                debug_echo(i << \" \" << i+1);\n                p[i]--;\n                flipcnt++;\n                p[i-1]--;\n                flipcnt++;\n            }\n        } else {\n            if (p[i-1] > p[i+1]) {\n                debug_echo(i-1 << \" \" <<  i);\n                p[i-1]--;\n                flipcnt++;\n                p[i]--;\n                flipcnt++;\n            } else {\n                debug_echo(i << \" \" <<  i+1);\n                p[i]--;\n                flipcnt++;\n                p[i+1]--;\n                flipcnt++;\n            }\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb push_back\n#define all(v) (v).begin(),(v).end()\ntypedef vector<int>vint;\ntypedef pair<int,int>pint;\ntypedef vector<pint>vpint;\n#define fi first\n#define se second\ntemplate<typename A,typename B>inline void chmin(A &a,B b){if(a>b)a=b;}\ntemplate<typename A,typename B>inline void chmax(A &a,B b){if(a<b)a=b;}\n\nint n;\nint p[5000];\nint z[5000];\nsigned main(){\n    while(cin>>n,n){\n        rep(i,n)cin>>p[i];\n\n        int ans=1001001001ll;\n        for(int t=0;t<=p[0];t++){\n            int cost=t;\n            memset(z,0,sizeof(z));\n            z[0]=t;\n            for(int i=1;i<n;i++){\n                cost+=(p[i-1]-z[i-1])*2;\n                z[i]+=p[i-1]-z[i-1];\n                chmin(z[i],p[i]);\n            }\n            cost+=p[n-1]-z[n-1];\n            chmin(ans,cost);\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <string>\n#include <stack>\n#include <cmath>\n#define ll long long\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\nusing namespace std;\n//\nconst int inf=1e9+7;\nconst int mod=1e9+7;\n//\nstruct poi{\n\tint X;int Y;int Z;\n\tbool operator<(const poi&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nll GCD(ll a,ll b){\n\treturn (b==0)?(a):(GCD(b,a%b));\n}\nll LCM(ll a,ll b){\n\treturn a/GCD(a,b)*b;\n}\n//\nint main(){\n\tint N;\n\tint P[5000];\n\tcin>>N;\n\tFOR(i,0,N){\n\t\tcin>>P[i];\n\t}\n\tint ret=0;\n\tFOR(i,0,N-1){\n\t\tret+=P[i];\n\t\tP[i+1]=max(0,P[i+1]-P[i]);\n\t}\n\tcout<<ret*2+max(P[N-1],0)<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n\tint n, m = 0;\n\tint a[5000];\n\n\tcin >> n;\n\n\tfor (int i = 0; i < n; i++)\n\t\tcin >> a[i];\n\n\tif (a[0] > a[1])\n\t\tm = a[0] - a[1];\n\n\tint b = a[0] - m;\n\n\tfor (int i = 1; i < n; i++) {\n\t\tm += b * 2;\n\t\tb = max(a[i] - b, 0);\n\t}\n\n\tcout << m + b << endl;\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n  int n,ans=0,t=10000000;\n  cin >> n;\n  vector<int> a(n);\n  for (int i=0;i<n;i++){\n      cin >> a.at(i);\n  }\n  for (int j=0;j<4;j++){\n      ans=0;\n  ans=ans+j;\n  a.at(0)=a.at(0)-j;\n  for (int i=0;i<n-1;i++){\n      if (a.at(i)>0) {\n          ans=ans+a.at(i)*2;\n          a.at(i+1)-=a.at(i);\n      }\n  }\n  if (a.at(n-1)>0) ans=ans+a.at(n-1);\n  t=min(t,ans);\n  }\n  cout << t << endl;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,pi[5000],num=0,midle=0;\n  cin >>n;\n  for(int i = 0;i<n;i++){\n    cin >> pi[i];\n  }\n  while(1){\n  for(int i = 0;i<n;i++){\n    if(pi[i]>0 && pi[i+1]>0){\n      pi[i] = pi[i]-1;\n      pi[i+1] = pi[i+1]-1;\n      num = num+2;\n    }\n  }\n    for(int i=1;i<n-1;i++){\n      if(pi[i] == 0){\n\tmidle = midle+1;\n      }\n    }\n    if(midle ==  n-2) break;\n  }\n  num = num+pi[0];\n  num = num+pi[n-1];\n  cout << num << endl;\n\n}\n  \n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n \nint main(){\n \n    int n;\n \n    cin >> n;\n \n    int p[n],t[n],count=0,tcount;\n \n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      t[i] = p[i];\n      //count += p[i];\n    }\n \n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n \n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n \n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n \n \n \n \n    tcount = t[0];\n \n    for(int i=1;i<n-1;i++){\n      tcount += t[i] * 2;\n      if(t[i] > t[i+1] ){\n        t[i+1] = 0;\n      }\n      else{\n        t[i+1] -= t[i];\n      }\n    }\n \n    if(t[n-1] != 0){\n      tcount += t[n-1];\n    }\n \n \n \n    /*int maxp = max(p[0],p[1]);\n \n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n \n \n \n    maxp = max(p[n-2],p[n-1]);\n \n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n \n    cout << min(count,tcount) << endl;\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n\nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = 3;\n  while(true){\n    rep(i,n){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(i == 0){\n          p[i + 1]--;\n        }else{\n          if(p[i + 1] > p[i - 1]){\n            p[i + 1]--; \n          }else{\n            p[i - 1]--;\n          }\n        }\n        ans += 2;\n      }\n    }\n    itr--;\n    if(itr == 0){\n      cout << ans << endl;\n      return 0;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }   \n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int side_zeros = 0;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int current = 0;\n\n            if (current_section.size() == 1) {\n                if (current_section[0] == 0 && input[current_section[0]+1] == 0) {\n                    current += 1;\n                } else if (input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n            } else {\n                if (current_section[0] != 0 && input[current_section[0]-1] == 0) {\n                    current += 1;\n                }\n                if (current_section[1] != input_size - 1 && input[current_section[1]+1] == 0) {\n                    current += 1;\n                }\n            }\n            if (current == side_zeros) {\n                section = current_section;\n            }\n            if (current > side_zeros) {\n                side_zeros = current;\n                section = current_section;\n            }\n            if (current == 2) break;\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nconstexpr int MAX_V = 5252;\nconstexpr int INF   = (1 << 29);\n\nstruct Edge {\n    int to, cap, rev;\n    Edge(int to, int cap, int rev) :\n        to{to}, cap{cap}, rev{rev} {}\n};\n \nvector<Edge> G[MAX_V];\nint level[MAX_V], iter[MAX_V];\n \nvoid add_edge(int from, int to, int cap)\n{\n    G[from].push_back(Edge(to, cap, G[to].size()));\n    G[to].push_back(Edge(from, 0, G[from].size() - 1));\n}\n \nvoid bfs(int s)\n{\n    memset(level, -1, sizeof(level));\n    queue<int> Q;\n    level[s] = 0;\n    Q.push(s);\n    while (!Q.empty()) {\n        int v = Q.front(); Q.pop();\n        for (int i = 0; i < (int)G[v].size(); i++) {\n            Edge &e = G[v][i];\n            if (e.cap > 0 && level[e.to] < 0) {\n                level[e.to] = level[v] + 1;\n                Q.push(e.to);\n            }\n        }\n    }\n}\n \nint dfs(int v, int t, int f)\n{\n    if (v == t) return f;\n    for (int &i = iter[v]; i < (int)G[v].size(); i++) {\n        Edge &e = G[v][i];\n        if (e.cap > 0 && level[v] < level[e.to]) {\n            int d = dfs(e.to, t, min(f, e.cap));\n            if (d > 0) {\n                e.cap -= d;\n                G[e.to][e.rev].cap += d;\n                return d;\n            }\n        }\n    }\n    return 0;\n}\n \nint max_flow(int s, int t)\n{\n    int flow = 0;\n    for (;;) {\n        bfs(s);\n        if (level[t] < 0) return flow;\n        memset(iter, 0, sizeof(iter));\n        int f;\n        while ((f = dfs(s, t, INF)) > 0) {\n            flow += f;\n        }\n    }\n}\n\nvoid init()\n{\n    for (int i = 0; i < MAX_V; i++) {\n        G[i].clear();\n    }\n}\n\nint main()\n{\n    int N, sum = 0;\n    cin >> N;\n    vector<int> p(N, 0);\n    for (int i = 0; i < N; i++) {\n        cin >> p[i];\n        sum += 2 * p[i];\n    }\n    int S = N, T = S + 1;\n    int m1 = p[0], m2 = p[N - 1], res = INF;\n    const int di[2] = {-1, 1};\n    \n    for (int s = 0; s <= m1; s++) {        \n        p[0] -= s;\n        for (int t = 0; t <= m2; t++) {\n            p[N-1] -= t;\n            init();\n            for (int i = 0; i < N; i++) {\n                if (i % 2 == 0) {\n                    add_edge(S, i, p[i] * 2);\n                    for (int j = 0; j < 2; j++) {\n                        int ni = i + di[j];\n                        if (0 <= ni && ni < N && p[ni] > 0) {\n                            add_edge(i, ni, INF);\n                        }                \n                    }\n                } else {\n                    add_edge(i, T, p[i] * 2);\n                }\n            }\n            res = min(res, sum - max_flow(S, T) - (s + t));\n            p[N-1] += t;\n        }\n        p[0] += s;\n    }\n    cout << res << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <list>\n#include <algorithm>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <iomanip>\n#include <numeric>\n#include <queue>\n#include <climits>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <cstring>\n#include <map>\nusing namespace std;\nusing ll = long long;\n#define MOD 1000000007\n#define INF 1LL << 59\nusing ld = long double;\n\nbool operator<(const pair<int, int> &a, const pair<int, int> &b)\n{\n    if (a.first == b.first)\n    {\n        return b.second > a.second;\n    }\n    return a.first < b.first;\n}\n\nint main()\n{\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n    //cout << fixed << setprecision(5);\n\n    int N;\n    cin >> N;\n\n    vector<int> p;\n    for (int i = 0; i < N; ++i)\n    {\n        int a;\n        cin >> a;\n        p.push_back(a);\n    }\n\n    int ans = 10000000;\n\n    for (int i = 0; i <= p[0]; ++i)\n    {\n        vector<int> tmp(N);\n        for (int i = 0; i < N; ++i)\n            tmp[i] = p[i];\n\n        int cnt = 0;\n\n        cnt += i;\n        tmp[0] -= i;\n        for (int i = 0; i < N - 1; ++i)\n        {\n            if (i == 0)\n            {\n                if (tmp[i] > tmp[i + 1])\n                {\n\n                    cnt += tmp[i] - tmp[i + 1];\n                    tmp[i] = tmp[i + 1];\n                }\n            }\n            if (tmp[i] > 0)\n            {\n                cnt += tmp[i] * 2;\n                tmp[i + 1] -= tmp[i];\n                tmp[i] = 0;\n            }\n        }\n\n        if (tmp[N - 1] > 0)\n        {\n            cnt += tmp[N - 1];\n        }\n        ans = min(ans, cnt);\n    }\n\n    for (int i = 0; i <= p[N - 1]; ++i)\n    {\n        vector<int> tmp(N);\n        for (int i = 0; i < N; ++i)\n            tmp[i] = p[i];\n\n        int cnt = 0;\n\n        cnt += i;\n        tmp[N - 1] -= i;\n        for (int i = N - 1; i >= 1; --i)\n        {\n            if (i == N - 1)\n            {\n                if (tmp[i] > tmp[i - 1])\n                {\n\n                    cnt += tmp[i] - tmp[i - 1];\n                    tmp[i] = tmp[i - 1];\n                }\n            }\n            if (tmp[i] > 0)\n            {\n                cnt += tmp[i] * 2;\n                tmp[i - 1] -= tmp[i];\n                tmp[i] = 0;\n            }\n        }\n\n        if (tmp[0] > 0)\n        {\n            cnt += tmp[0];\n        }\n        ans = min(ans, cnt);\n    }\n    cout << ans << endl;\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntemplate<typename T, typename U>\ninline auto cmn (T& a, U b) {if (a > b) {a = b; return true;} return false;}\ntemplate<typename T, typename U>\ninline auto cmx (T& a, U b) {if (a < b) {a = b; return true;} return false;}\nint main() {\n  std::cin.tie(0); std::cin.sync_with_stdio(false);\n  int n; std::cin >> n;\n  constexpr int inf = 1 << 30;\n  auto p  = std::vector<int>(n);\n  for (auto& x : p) std::cin >> x;\n  auto dp = std::vector<std::vector<int>>(n + 1, std::vector<int>(4, inf));\n  dp.at(0).at(0) = 0;\n  for (int i = 0; i < n; i++) {\n    for (int j = 0; j < 4; j++) {\n      auto crr = dp.at(i).at(j);\n      if (crr == inf) continue;\n      for (int k = j; k <= p.at(i); k++) {\n        cmn(dp.at(i + 1).at(p.at(i) - k), crr + k * (1 + (i != 0)));\n      }\n    }\n  }\n  int ret = inf;\n  for (int j = 0; j < 4; j++) {\n    auto crr = dp.at(n).at(j);\n    if (crr == inf) continue;\n    cmn(ret, dp.at(n).at(j) + j);\n  }\n  std::cout << ret << std::endl;\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\nusing V = vector<int>;\nusing VV = vector<V>;\nusing VVV = vector<VV>;\nusing VL = vector<ll>;\nusing VVL = vector<VL>;\nusing VVVL = vector<VVL>;\ntemplate<class T> using VE = vector<T>;\ntemplate<class T> using P = pair<T, T>;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define rep1(i,n) for(int i=1;i<=(n);i++)\n#define REP(i,k,n) for(int i=(k);i<(n);i++)\n#define all(a) (a).begin(),(a).end()\n#define output(x,y) cout << fixed << setprecision(y) << x << endl;\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return true; } return false; }\nll gcd(ll a, ll b) { return b ? gcd(b, a % b) : a; }\nll lcm(ll a, ll b) { return a / gcd(a, b) * b; }\nconst ll MOD = 1e9 + 7;\n// const ll MOD = 998244353;\nll upper = MOD + MOD;\nll under = -upper;\nll UPPER = MOD * MOD;\nll UNDER = -UPPER;\nconst long double pi = 3.141592653589793;\nint main() {\n\tint n;\n\tcin >> n;\n\tV a(n);\n\trep(i, n) {\n\t\tcin >> a[i];\n\t}\n\tint ans = upper;\n\trep(i, a[0] + 1) rep(j, a[n - 1] + 1) {\n\t\tint tmp = i + j;\n\t\tV b = a;\n\t\tb[0] -= i; b[n - 1] -= j;\n\t\trep(i, n - 1) {\n\t\t\tint x = max(b[i], 0);\n\t\t\ttmp += x * 2;\n\t\t\tb[i] -= x; b[i + 1] -= x;\n\t\t}\n\t\ttmp += max(b[n - 1], 0);\n\t\tchmin(ans, tmp);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cmath>\nusing namespace std;\nint main(void){\n    int n;\n    cin >> n;\n    int pans[n + 1];\n    for(int i = 0; i < n; i++){\n        cin >> pans[i];\n    }\n    int result = 20000;\n    for(int i = 0; i <= pans[0]; i++){\n        int tempPans[n];\n        for(int j = 0; j < n; j++){\n            tempPans[j] = pans[j];\n        }\n        int tempResult = 0;\n        tempResult += i;\n        tempPans[0] -= i;\n        for(int j = 0; j < n; j++){\n            if(tempPans[j] > 0){\n                tempResult += tempPans[j] * 2;\n                tempPans[j + 1] -= tempPans[j];\n                tempPans[j] = 0;\n            }\n        }\n        result = min(result, tempResult);\n    }\n    cout << result << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <cstdio>\nusing namespace std;\n\nint main(){\n\tint N,R=1<<29;\n\tscanf(\"%d\",&N);\n\tvector<int>v(N);\n\tfor(int i=0;i<N;i++)scanf(\"%d\",&v[i]);\n\tfor(int p=0;p<=v[0];p++){\n\t\tint cur=v[0]-p,r=p;\n\t\tfor(int i=0;i<N-1;i++){\n\t\t\tr+=cur*2;\n\t\t\tcur=max(v[i+1]-cur,0);\n\t\t}\n\t\tR=min(R,r+cur);\n\t}\n\tprintf(\"%d\\n\",R);\n}"
  },
  {
    "language": "C++",
    "code": "// 2017/07/18 Tazoe\n\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main()\n{\n\tint N;\n\tcin >> N;\n\n\tint p[5000];\n\tfor(int i=0; i<N; i++){\n\t\tcin >> p[i];\n\t}\n\n\tint min_sum = 20000;\n\n\tfor(int I=0; I<=p[0]; I++){\n\t\tint q[5000];\n\t\tfor(int i=0; i<N; i++){\n\t\t\tq[i] = p[i];\n\t\t}\n\n\t\tint sum = I;\n\t\tq[0] -= I;\n\n\t\tfor(int i=0; i<=N-2; i++){\n\t\t\tif(q[i]<=0)\n\t\t\t\tcontinue;\n\n\t\t\tsum += q[i]*2;\n\t\t\tq[i+1] -= q[i];\n\t\t}\n\n\t\tif(q[N-1]>0){\n\t\t\tsum += q[N-1];\n\t\t}\n\n\t\tmin_sum = min(min_sum, sum);\n\t}\n\n\tcout << min_sum << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n//#define int long long\n#define INF 1e9\n#define LINF 1e18\n\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<int, P> Pi;\ntypedef pair<P, P> PP;\n\nconst int MOD = 1e9 + 7;\nconst int dy[] = { 0, 0, 1, -1 };\nconst int dx[] = { 1, -1, 0, 0 };\n\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\n\nint N;\nint p[5000], tmp[5000];\n\nsigned main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    cin >> N;\n    for(int i = 0; i < N; ++i) cin >> p[i];\n    int res = INF;\n    for(int i = 0; i <= p[0]; ++i) {\n        int cnt = i;\n        memset(tmp, 0, sizeof(tmp));\n        tmp[0] = i;\n        for(int j = 1; j < N; ++j) {\n            cnt += (p[j - 1] - tmp[j - 1]) * 2;\n            tmp[j] += p[j - 1] - tmp[j - 1];\n            chmin(tmp[j], p[j]);\n        }\n        cnt += p[N - 1] - tmp[N - 1];\n        chmin(res, cnt);\n    }\n    cout << res << endl;\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <bitset>\n#include <cmath>\n#include <string>\n#define FI first\n#define SE second\n#define PF push_front\n#define PB push_back\n#define POF pop_front\n#define POB pop_back\n#define MA make_pair\n#define ll long long\n#define PA pair<int,int>\n#define VE vector<int>\n#define VP vector<PA>\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\n#define YES(i) cout<<(i?\"YES\":\"NO\")<<endl\n#define Yes(i) cout<<(i?\"Yes\":\"No\")<<endl\nusing namespace std;\n//\nconst int INF=1e9+7;\nconst int mod=1e9+7;\n//\nstruct pol{\n\tint X;int Y;int Z;\n  bool operator<(const pol&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nint main(){\n\tint N;\n\tint P[5000];\n\tcin>>N;\n\tFOR(i,0,N){\n\t\tcin>>P[i];\n\t}\n\tint ans=0;\n\tint now=0;\n\twhile(now<N){\n\t\tif(P[now]==0&&P[now+1]==0){\n\t\t\tnow++;\n\t\t}else if(P[now]==0){\n\t\t\tif(P[now+2]!=0){\n\t\t\t\tnow++;\n\t\t\t}else{\n\t\t\t\tans+=2*P[now+1];\n\t\t\t\tP[now+1]=0;\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}else if(P[now+1]==0){\n\t\t\tans+=2*P[now];\n\t\t\tP[now]=0;\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(P[now]<=P[now+1]){\n\t\t\t\tans+=2*P[now];\n\t\t\t\tP[now+1]-=P[now];\n\t\t\t\tnow++;\n\t\t\t}else{\n\t\t\t\tans+=2*P[now+1];\n\t\t\t\tP[now]-=P[now+1];\n\t\t\t\tans+=2*P[now];\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint N;\n\tcin>>N;\n\tint p[5000];\n\tfor(int i=0;i<N;i++){\n\t\tcin>>p[i];\n\t}\n\tint min_sum=20000;\n\tfor(int I=0;i<=p[0];I++){\n\t\tint q[5000];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tq[i]=p[i];\n\t\t}\n\t\tint sum=I;\n\t\tq[0]-=I;\n\t\tfor(int i=0;i<N-2;i++){\n\t\t\tif(q[i]<=0){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tsum+=q[i]*2;\n\t\t\tq[i+1]-=q[i];\n\t\t}\n\t\tif(q[N-1]>0){\n\t\t\tsum+=q[N-1];\n\t\t}\n\t\tmin_sum=min(min(min_sum,sum);\n\t}\n\tcout<<min_sum<<endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0 && pancake[1] <= 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0 && pancake[N - 2] <= 0) {\n\t\t\tpancake[N-1]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0){ \n\t\t\t\tpancake[j]--;\n\t\t\t\tif (pancake[j - 1] > 0) {\n\t\t\t\t\tpancake[j - 1]--;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpancake[j + 1]--;\n\t\t\t\t}\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin >> N;\n\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin >> p[i];\n  }\n\n  int min_sum=20000;\n\n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int j=0;j<N;j++){\n      q[j]=p[j];\n    }\n\n    int sum=I;\n    q[0] -= I;\n\n    for(int i=0;i<=N-2;i++){\n      if(q[i]<=0)\n        continue;\n\n      sum +=q[i]*2;\n      q[i+1]-=q[i];\n    }\n\n    if(q[N-1]>0){\n      sum += q[N-1];\n    }\n\n    min_sum = min(min_sum,sum);\n  }\n\n  cout << min_sum << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef string str;\n#define down_queue(x) priority_queue<x>\n#define up_queue(x) priority_queue<x, vector<x>, greater<x>>\n#define vec(x) vector<x>\n#define IINF INT_MAX\n#define LLINF LLONG_MAX\nll gcd(ll a,ll b){while(b){ll tmp = a % b;a = b;b = tmp;}return a;}\nll lcm(ll a,ll b){return a / gcd(a,b) * b;}\n#define rep(x, y) for(int x = 0; x < (y); x++)\n#define REP(x, z, y) for(int x = (z); x < (y); x++)\n#define all(x) x.begin(), x.end()\n#define split_str(str, sp_word) istringstream stream(str); string res; for(int cnt = 0; getline(stream,res,sp_word); cnt++)\n#define digit(x) ((int)log10((double)(x)) + 1)\n#define mp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define pf(x) push_front(x)\n#define out(x) for(auto i : x) cout << i << \" \"; cout << endl;\n#define outln(x) for(auto i : x) cout << i << endl;\n#define vec_cpy(to,from) copy(all(to),back_inserter(from))\n#define ary_cpy(to,from) memcpy(to, from, sizeof from)\n#define MOD 1000000007\n#ifdef DEBUG\n   #define debug_echo(expr) cout << expr;\n   #define debug_var(var) cout << #var << \": \" << var << endl;\n#else\n   #define debug_echo(expr)\n   #define debug_var(var)\n#endif\n \nint main(){\n  int n; cin >> n;getchar();\n  str line;getline(cin,line);\n  vector<int> p(n);\n  split_str(line,' ') p[cnt] = stoi(res);\n  int ans = 0,itr = *max_element(p.begin() + 1,p.end() - 1);\n  while(itr){\n    REP(i,1,n - 1){\n      if(p[i] == itr){\n        debug_var(i);\n        p[i]--;\n        if(p[i + 1] > p[i - 1]){\n          p[i + 1]--; \n          debug_echo(\"select + 1\" << endl);\n        }else{\n          p[i - 1]--;\n          debug_echo(\"select - 1\" << endl);\n        }\n        ans += 2;\n      }\n    }\n    itr = *max_element(p.begin() + 1,p.end() - 1); \n  }\n  debug_echo(\"begin :\" << p[0] << endl);\n  debug_echo(\"end :\" << p[n - 1] << endl);\n  cout << ans + (p[0] > 0 ? p[0] : 0) + (p[n - 1] > 0 ? p[n - 1] : 0) << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#define inf 10e9\n\nint max(int a, int b) {\n  return a > b ? a : b;\n}\n\nint main(void) {\n  int n, i, j, k;\n  scanf(\"%d\", &n);\n  int dp[n + 1][4], p[n];\n  for(i = 0; i < n; ++i) scanf(\"%d\", &p[i]);\n  for(i = 0; i <= n; ++i) for(j = 0; j < 4; ++j) dp[i][j] = inf;\n  for(i = 0; i < 4; ++i) {\n    dp[0][i] = i;\n  }\n  for(i = 0; i < 4; ++i) {\n    dp[0][i] = i;\n  }\n  for(i = 1; i < n; ++i) \n    for(j = 0; j < 4; ++j) \n      for(k = 0; k < 4; ++k) \n        if(k + j >= p[i - 1] && dp[i][j] > dp[i - 1][k] + 2 * j)\n           dp[i][j] = dp[i - 1][k] + 2 * j;\n  int min = inf;\n  for(i = 0; i < 4; ++i) if(min > dp[n - 1][i] + max(p[n - 1] - i, 0))\n    min = dp[n - 1][i] + p[n - 1] - i;\n  /*for(i = 0; i < n; ++i) {\n    for(j = 0; j < 4; ++j) printf(\"%d \", dp[i][j]);\n    printf(\"\\n\");\n  }*/\n  printf(\"%d\\n\", min);\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(void)\n{\n    int n,i,a[5000],w=0,j;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t    scanf(\"%d\",&a[i]);\n\t}\n\tif(a[0]>a[1]){\n\t    for(i=0;i<3;i++){\n\t\t    a[0]--;\n\t\t\tw++;\n\t\t\tif(a[0]==a[1]) break;\n\t\t}\n\t}\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=0;j<4;j++){\t\n\t\t\tif(a[i]>0){\n\t\t\t\ta[i]--;\n\t\t\t\ta[i+1]--;\n\t\t\t\tw+=2;\n\t\t\t}\n\t\t}\n\t}\n\tif(a[n-1]>a[n-2]){\n\t    w=w+a[n-1]-a[n-2];\n\t}\n\tprintf(\"%d\\n\",w);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,p[5001],cnt,i;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++) scanf(\"%d\",&p[i]);\n\tcnt=0;\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]>0){\n\t\t\tif(i==0&&p[i+1]<p[i+2]) continue;\n\t\t\telse if(i==0&&p[i+1]<p[i]){\n\t\t\t\tcnt+=p[i+1]*2; p[i]-=p[i+1]; p[i+1]-=p[i+1];\n\t\t\t}\n\t\t\telse if(i==n-1){\n\t\t\t\tcnt+=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcnt+=p[i]*2; p[i+1]-=p[i]; p[i]-=p[i];\n\t\t\t}\n\t\t\t//printf(\"%d %d\\n\",p[i],p[i+1]);\n\t\t\t//printf(\"%d\\n\",cnt);\n\t\t}\n\t}\n\t// for(i=0;i<n;i++) printf(\"%d\\n\",p[i]);\n\tif(p[0]!=0) cnt+=p[0];\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <utility>\n#include <iterator>\n#include <map>\n#include <algorithm>\n\ntypedef std::vector<int> Max;\ntypedef std::vector<int> Input;\ntypedef std::vector<int> Section;\ntypedef std::map<int, int> ScoreResult;\n\nstd::map<std::string, Section> get_great_sections (Input input) {\n    std::size_t input_size = input.size();\n\n    /**\n     * Find max\n     */\n    int max_value = 1;\n    Max max;\n\n    for (int index = 0; index < input_size; index++) {\n        if (input[index] == 0) continue;\n        int value = 1;\n        if ((index != 0) && (index != input_size-1)) {\n            value = input[index];\n        }\n        if (value < max_value) {\n            continue;\n        }\n        if (value > max_value) {\n            max.erase(max.begin(), max.end());\n            max_value = value;\n        }\n        max.push_back(index);\n    }\n\n    if (max.size() == 0) {\n        std::map<std::string, Section> empty_section;\n        return empty_section;\n    }\n\n    // Find sections\n    std::map<std::string, Section> sections;\n    for (int index : max) {\n        // [index, index+1]\n        std::string key_upper = \"\";\n        Section section_upper(0);\n        key_upper += std::to_string(index);\n        section_upper.push_back(index);\n        if (index != input_size-1) {\n            key_upper += std::to_string(index+1);\n            section_upper.push_back(index+1);\n        }\n        sections[key_upper] = section_upper;\n\n        // [index-1, index]\n        std::string key_lower = \"\";\n        Section section_lower(0);\n        if (index != 0) {\n            key_lower += std::to_string(index-1);\n            section_lower.push_back(index-1);\n        }\n        key_lower += std::to_string(index);\n        section_lower.push_back(index);\n        sections[key_lower] = section_lower;\n    }\n\n    /**\n     * scores sections and get \n     */\n    // score with counting zero\n    int score_zero = -2;\n    std::map<std::string, Section> sections_zero_scored;\n    for (auto iterator = sections.begin(); iterator != sections.end(); iterator++) {\n        Section section = iterator->second;\n        int score = 0;\n        int size = section.size();\n        if (input[section[0]] == 0) {\n            score -= 1;\n        }\n        if (size > 1 && input[section[1]] == 0) {\n            score -= 1;\n        }\n\n        if (score_zero > score) {\n            continue;\n        }\n        if (score > score_zero) {\n            score_zero = score;\n            sections_zero_scored.erase(sections_zero_scored.begin(), sections_zero_scored.end());\n        }\n        sections_zero_scored[iterator->first] = section;\n    }\n\n    // score with components\n    int score_component = 1;\n    std::map<std::string, Section> sections_scored_component;\n    for (auto iterator = sections_zero_scored.begin(); iterator != sections_zero_scored.end(); iterator++) {\n        Section section = iterator->second;\n        std::size_t score = section.size();\n\n        if (score_component > score) {\n            continue;\n        }\n        if (score > score_component) {\n            score_component = score;\n            sections_scored_component.erase(sections_scored_component.begin(), sections_scored_component.end());\n        }\n        sections_scored_component[iterator->first] = section;\n    }\n\n    // score with difficulty to delete\n    bool score_difficulty = false;\n    std::map<std::string, Section> sections_scored_difficulty;\n    for (auto iterator = sections_scored_component.begin(); iterator != sections_scored_component.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        bool score = true;\n\n        // index pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) {\n            if (section[0] == 0 || (section[0] == 1 && input[0] != 0)) {\n                score = false;   \n            }\n        }\n\n        // index pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) {\n            if (section[1] == max) {\n                score = false;\n            }\n        }\n\n        if (!score && score_difficulty) break;\n\n        if (score && !score_difficulty) {\n            score_difficulty = score;\n            sections_scored_difficulty.erase(sections_scored_difficulty.begin(), sections_scored_difficulty.end());\n        }\n        sections_scored_difficulty[iterator->first] = section;\n    }\n\n    if (score_difficulty) return sections_scored_difficulty;\n\n    // score with distance from first or last\n    bool score_distance = 0;\n    std::map<std::string, Section> sections_scored_distance;\n\n    for (auto iterator = sections_scored_difficulty.begin(); iterator != sections_scored_difficulty.end(); iterator++) {\n        Section section = iterator->second;\n        int max = input_size - 1;\n        int score_first = 2;\n        int score_last = 2;\n\n        // score pairs that has case [0, x] or [1, x]\n        if (section[0] < 2) score_first = section[0];\n\n        // score pairs that has case [x, max] or [x, max-1]\n        if (max - 2 < section[1]) score_last = max - section[1];\n\n        int score = std::min(score_first, score_last);\n\n        if (score_distance > score) continue;\n        if (score > score_distance) {\n            score_distance = score;\n            sections_scored_distance.erase(sections_scored_distance.begin(), sections_scored_distance.end());\n        }\n        sections_scored_distance[iterator->first] = section;\n    }\n\n    return sections_scored_distance;\n}\n\nint main () {\n    int input_size;\n    std::cin >> input_size;\n    Input input(0);\n\n    for (int i = 0; i < input_size; i++) {\n        int tmp;\n        std::cin >> tmp;\n        input.push_back(tmp);\n    }\n\n    if (input.size() != input_size) {\n        std::cerr << \"expected size \" << input.size() << \" but expect \" << input_size << std::endl;\n        exit(1);\n    }\n\n    int cnt = 0;\n\n    while (true) {\n        auto section_map = get_great_sections(input);\n        if (section_map.size() == 0) break;\n\n        // select selection with weight about distance from start or end\n        int max_distance = -1;\n        Section section;\n        for (auto i = section_map.begin(); i != section_map.end(); i++) {\n            Section current_section = i->second;\n            int distance;\n            if (current_section.size() == 1) {\n                distance = std::min(current_section[0], input_size -1 -current_section[0]);\n            } else {\n                distance = std::min(current_section[0], input_size -1 -current_section[1]);\n            }\n            if (distance > max_distance) {\n                max_distance = distance;\n                section = current_section;\n            }\n        }\n\n        if (section.size() == 1) {\n            cnt += input[section[0]];\n            input[section[0]] = 0;\n            continue;\n        }\n        int min = std::min(input[section[0]], input[section[1]]);\n        if (min != 0) {\n            cnt += min * 2;\n            input[section[0]] -= min;\n            input[section[1]] -= min;\n            continue;\n        }\n        int max = std::max(input[section[0]], input[section[1]]);\n        cnt += max*2;\n        input[section[0]] = input[section[1]] = 0;\n    }\n\n    std::cout << cnt << std::endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int n, p[50002];\n    cin >> n;\n    for(int i = 1; i <= n; i++) {\n        cin >> p[i];\n    }\n    p[0] = p[n + 1] = 0;\n\n    int sum = 0;\n    if(p[1] > p[2]) {\n        sum += p[1] - p[2];\n        p[1] = p[2];\n    }\n    for(int i = 1; i < n; i++) {\n        if(p[i] > 0) {\n            sum += p[i] * 2;\n            p[i + 1] -= p[i];\n            p[i + 1] = max(0, p[i + 1]);\n        }\n    }\n\n    cout << sum + p[n] << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing VS = vector<string>;    using LL = long long;\nusing VI = vector<int>;       using VVI = vector<VI>;\nusing PII = pair<int, int>;   using PLL = pair<LL, LL>;\nusing VL = vector<LL>;        using VVL = vector<VL>;\n\n#define ALL(a)  begin((a)),end((a))\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define EB emplace_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SORT(c) sort(ALL((c)))\n#define RSORT(c) sort(RALL((c)))\n#define UNIQ(c) (c).erase(unique(ALL((c))), end((c)))\n#define FOR(i, s, e) for (int(i) = (s); (i) < (e); (i)++)\n#define FORR(i, s, e) for (int(i) = (s); (i) > (e); (i)--)\n#define debug(x) cerr << #x << \": \" << x << endl\nconst int INF = 1e9;                          const LL LINF = 1e16;\nconst LL MOD = 1000000007;                    const double PI = acos(-1.0);\nint DX[8] = { 0, 0, 1, -1, 1, 1, -1, -1 };    int DY[8] = { 1, -1, 0, 0, 1, -1, 1, -1 };\n\n/* -----  2018/01/15  Problem: AOJ 0340 / Link: http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340  ----- */\n/* ------問題------\n\n\n\n-----問題ここまで----- */\n/* -----解説等-----\n\n\n\n----解説ここまで---- */\n\nLL N;\n\nLL ans = 0LL;\n\nint main() {\n\tcin.tie(0);\n\tios_base::sync_with_stdio(false);\n\n\tcin >> N;\n\tVI p(N,0);\n\tFOR(i,0,N){\n\t\tcin>>p[i];\n\t}\n\tFOR(i,0,N){\n\t\tif(i!=N-1){\n\t\t\tif(p[i]>0)ans+=2*p[i],p[i+1]-=p[i];\n\n\t\t}else {\n\t\t\tif(p[i]>0)ans+=2*p[i];\n\t\t}\n\n\n\t}\n\n\tcout << ans << \"\\n\";\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\tint n;\n\tcin >> n;\n\tvector<int> a(n);\n\tfor(int i=0; i<n; ++i) cin >> a[i];\n\t\n\tint ret = 0;\n\tfor(int i=1; i<n-1; ++i) {\n\t\twhile(a[i]>0) {\n\t\t\tif(a[i-1] > 0) {\n\t\t\t\ta[i-1]--;\n\t\t\t\ta[i]--;\n\t\t\t\tret += 2;\n\t\t\t} else {\n\t\t\t\ta[i]--;\n\t\t\t\ta[i+1]--;\n\t\t\t\tret += 2;\n\t\t\t}\n\t\t}\n\t}\n\tret += max(0, a[0]) + max(0, a[n-1]);\n\t\n\tcout << ret << endl;\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <bitset>\n#include <cmath>\n#include <string>\n#define FI first\n#define SE second\n#define PF push_front\n#define PB push_back\n#define POF pop_front\n#define POB pop_back\n#define MA make_pair\n#define ll long long\n#define PA pair<int,int>\n#define VE vector<int>\n#define VP vector<PA>\n#define FOR(i,a,b) for(int i=a;i<b;i++)\n#define ROF(i,a,b) for(int i=b-1;i>=a;i--)\n#define YES(i) cout<<(i?\"YES\":\"NO\")<<endl\n#define Yes(i) cout<<(i?\"Yes\":\"No\")<<endl\nusing namespace std;\n//\nconst int INF=1e9+7;\nconst int mod=1e9+7;\n//\nstruct pol{\n\tint X;int Y;int Z;\n  bool operator<(const pol&R)const{\n\t\treturn X==R.X ? Y==R.Y ? Z<R.Z : Y<R.Y : X<R.X;\n\t}\n};\n//\nint main(){\n\tint N;\n\tint P[5000];\n\tcin>>N;\n\tFOR(i,0,N){\n\t\tcin>>P[i];\n\t}\n\tint ans=0;\n\tint now=0;\n\twhile(now<N){\n\t\tif(P[now]==0&&P[now+1]==0){\n\t\t\tnow++;\n\t\t}else if(P[now]==0){\n\t\t\tif(P[now+2]!=0){\n\t\t\t\tnow++;\n\t\t\t}else{\n\t\t\t\tans+=2*P[now+1];\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}else if(P[now+1]==0){\n\t\t\tans+=2*P[now];\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(P[now]<=P[now+1]){\n\t\t\t\tans+=P[now];\n\t\t\t\tP[now+1]-=P[now];\n\t\t\t\tnow++;\n\t\t\t}else{\n\t\t\t\tans+=P[now+1];\n\t\t\t\tP[now]-=P[now+1];\n\t\t\t\tans+=2*P[now];\n\t\t\t\tnow++;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans*2<<endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    V.push_back(p);\n  }\n\n  int res = 0;\n  for(int i = 0; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n  //cout << V[0] << \" \" << V[n-2];\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[n-1] <= 0) ){\n      V[0]--; res++;\n  }\n\n  cout << res << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\n  int n;\n  cin >> n;\n  vector<int> V,S;\n  for(int i = 0; i < n; i++){\n    int p;\n    cin >> p;\n    S.push_back(p);\n  }\n\n  int res = 0;\n  int ans = 10000;\n\nfor(int j = 0; j < 2; j++){\n  V = S;\n  for(int i = j; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n\n}\n\nfor(int j = 0; j < 2; j++){\n  V = S;\n  reverse(V.begin(),V.end());\n  for(int i = j; i < n-1; i++){\n    while( !(V[i] <= 0) ){\n      V[i]--; V[i+1]--;\n      res+=2;\n    }\n  }\n\n  while( !(V[n-1] <= 0) ){\n      V[n-1]--; res++;\n  }\n  while( !(V[0] <= 0) ){\n      V[0]--; res++;\n  }\n  ans = min(ans,res);\n  //cout << res << \" \";\n  res = 0;\n\n}\n  cout << ans << endl;\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n\tint n,p[5000],x=0;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\tcin>>p[i];\n\t}\n\tfor(int i=1;i<n;i++){\n        while(p[i]>0){\n\t\t\tx+=p[i];\n\t\t\tp[i+1]-=p[i];\n\t}\n\tif(p[n]>0){\n\t\tx+=p[n];\n\t}\n\tcout<<x<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int c[4]={0},cnt,n,p[5000],a[5000];\n  cin>>n;\n  for(int i=0;i<n;++i) cin>>p[i];\n  for(int i=0;i<=p[0];++i){\n    for(int j=0;j<n;++j) a[j]=p[j];\n    a[0]-=i;\n    c[i]+=i;\n    for(int j=0;j<n-1;++j){\n      c[i]+=a[j]*2;\n      a[j+1]-=a[j];\n      a[j]=0;\n      if(a[j+1]<0) a[j+1]=0;\n    }\n    c[i]+=a[n-1];\n  }\n  cnt=c[0];\n  for(int i=1;i<=p[0];++i)\n    cnt=min(cnt,c[i]);\n  cout<<cnt<<endl;\n  return 0;\n}\n      \n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n \nint main(){\n \n    int n;\n \n    cin >> n;\n \n    int p[n],t[n],count=0,tcount;\n \n    for(int i=0;i<n;i++){\n      cin >> p[i];\n      t[i] = p[i];\n      //count += p[i];\n    }\n \n    if(p[0] > p[1]){\n      count += p[0] + p[1];\n      p[1] = 0;\n    }\n    else{\n      count += p[0]*2;\n      p[1] -= p[0];\n    }\n \n    for(int i=1;i<n-1;i++){\n      count += p[i] * 2;\n      if(p[i] > p[i+1] ){\n        p[i+1] = 0;\n      }\n      else{\n        p[i+1] -= p[i];\n      }\n    }\n \n    if(p[n-1] != 0){\n      count += p[n-1];\n    }\n \n \n \n \n    tcount = t[0];\n \n    for(int i=1;i<n-1;i++){\n      tcount += t[i] * 2;\n      if(t[i] > t[i+1] ){\n        t[i+1] = 0;\n      }\n      else{\n        t[i+1] -= t[i];\n      }\n    }\n \n    if(t[n-1] != 0){\n      tcount += t[n-1];\n    }\n \n \n \n    /*int maxp = max(p[0],p[1]);\n \n    if(maxp == p[0]){\n      count += p[0] + p[1];\n      p[0] = p[1] = 0;\n    }\n    else{\n      count += p[0] * 2;\n      p[1] -= p[0];\n    }\n \n \n \n    maxp = max(p[n-2],p[n-1]);\n \n    if(maxp == p[n-2]){\n      count += p[n-2] * 2;\n    }\n    else{\n      count += p[n-2] + p[n-1];\n    }*/\n \n    cout << min(count,tcount) << endl;\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin >> N;\n\n  int p[5000];\n  for(int i=0; i<N; i++){\n    cin >> p[i];\n  }\n\n  int min_sum = 20000;\n\n  for(int I=0; I<=p[0]; I++){\n    int q[5000];\n    for(int i=0; i<N; i++){\n      q[i] = p[i];\n    }\n\n    int sum = I;\n    q[0] -= I;\n\n    for(int i=0; i<=N-2; i++){\n      if(q[i]<=0)\n       continue;\n\n      sum += q[i]*2;\n      q[i+1] -= q[i];\n    }\n\n    if(q[N-1]>0){\n      sum += q[N-1];\n    }\n    min_sum = min(min_sum, sum);\n  }\n  cout << min_sum << endl;\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n#ifdef DEBUG\n    #define debug_echo(expr) cout << expr;\n    #define debug_var(var) cout << #var << \" = \" << var << endl;\n#else\n    #define debug_echo(expr)\n    #define debug_var(var)\n#endif\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n\n#include <iostream>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <set>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntemplate<class T>\nostream& operator <<(ostream& out, const vector<T>& v) {\n    out << \"[\";\n    bool isfirst = false;\n    for (const T& e : v) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"]\";\n    return out;\n}\ntemplate<class T>\nostream& operator <<(ostream& out, const set<T>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const T& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\ntemplate<class A, class B>\nostream& operator <<(ostream& out, const pair<A, B>& p) {\n    out << \"(\" << p.first << \", \" << p.second << \")\";\n    return out;\n}\ntemplate<class K, class V>\nostream& operator <<(ostream& out, const map<K, V>& s) {\n    out << \"{\";\n    bool isfirst = false;\n    for (const auto& e : s) {\n        out << (isfirst ? \", \" : \"\") << e;\n        isfirst = true;\n    }\n    out << \"}\";\n    return out;\n}\n\n//\n// Implementation\n//\n\n#define MAX_N 5000\nint N;\nint p[MAX_N];\nint flipcnt = 0;\n\nint get_maxi() {\n    int maxi = -1;\n    int maxp = 0;\n    rep(i, N) {\n        if (maxp < p[i]) {\n            maxi = i;\n            maxp = p[i];\n        }\n    }\n    return maxi;\n}\n\nint flip_cake(int i) {\n    if (i == 0) {\n        if (p[i+1] == 0) {\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    } else if (i == N-1) {\n        if (p[i-1] == 0) {\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    } else {\n        if (p[i-1] > p[i+1]) {\n            p[i-1]--;\n            flipcnt++;\n            p[i]--;\n            flipcnt++;\n        } else {\n            p[i]--;\n            flipcnt++;\n            p[i+1]--;\n            flipcnt++;\n        }\n    }\n}\n\nint main() {\n    cin >> N;\n    rep(i, N) {\n        cin >> p[i];\n    }\n\n    while (true) {\n        int i = get_maxi();\n        if (i == -1) {\n            break;\n        }\n        flip_cake(i);\n    }\n    cout << flipcnt << endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\nusing namespace std;\nint main(void){\n\tint min=1<<30,i=0,j=0,k=0,n=0,buff=0;\n\tint p[5000]={0},keisan[5000]={0};\n\tcin>>n;\n\tfor(int i=0;i<n;i++){\n\t\tcin>>p[i];\n\t}\n\t//input finished.\n\tfor(i=0;i<=3;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tkeisan[j]=p[j];\n\t\t}\n\t\tbuff=i;\n\t\tkeisan[0]-=i;\n\t\tfor(k=0;k<n-1;k++){\n\t\t\tif(keisan[k]>0){\n\t\t\t\tbuff+=keisan[k]*2;\n\t\t\t\tkeisan[k+1]-=keisan[k];\n\t\t\t\tkeisan[k]=0;\n\t\t\t}\n\t\t}\n\t\tif(keisan[n-1]>0){\n\t\t\tbuff+=keisan[n-1];\n\t\t}\n\t\tif(buff<min){\n\t\t\tmin=buff;\n\t\t}\n\t}\n\tcout<<min<<endl;\n\t//min=0;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int N;\n  cin>>N;\n  int p[5000];\n  for(int i=0;i<N;i++){\n    cin>>p[i];\n  }\n  int min_sum=20000;\n  for(int I=0;I<=p[0];I++){\n    int q[5000];\n    for(int i=0;i<N;i++){\n      q[i]=p[i];\n    }\n    int sum=I;\n    q[0] -= I;\n    for(int i=0;i<=N-2;i++){\n      if(q[i]<=0)continue;\n      sum+=q[i]*2;\n      q[i+1] -= q[i];\n    }\n    if(q[N-1]>0){\n      sum+=q[N-1];\n    }\n    min_sum=min(min_sum,sum);\n  }\n  cout<<min_sum<<endl;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//#define _GLIBCXX_DEBUG\n#include <iostream>\n#include <vector>\n#include <stdio.h>\n#include <bits/stdc++.h>\n\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORa(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define FORs(i,st) for(auto i : st)\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define ALL(c) (c).begin(), (c).end()\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    ll n;\n    cin>>n;\n    vector<ll> v(n);\n    ll sum=0;\n    FOR(i,0,n){\n      cin>>v[i];\n      sum += v[i];\n    }\n\n    FOR(i,1,n){\n      if(v[i-1]*v[i] == 0){\n\n      }\n      else{\n        ll x = min(v[i], v[i-1]);\n        v[i-1] -= x;\n        v[i] -= x;\n      }\n    }\n\n    FOR(i,1,n-1){\n      sum+=v[i];\n    }\n    cout<<sum<<endl;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<functional>\n#include<algorithm>\n#define M 2000000000\nusing namespace std;\nint main(void)\n{\n\tint n,i,j,sum,p[5000],a[5000],mn;\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++)\tscanf(\"%d\",&p[i]);\n\tmn=M;\n\tfor(i=0;i<=p[0];i++)\t{\n\t\tfor(j=0;j<n;j++)\ta[j]=p[j];\n\t\ta[0]=a[0]-i;\n\t\tsum=i;\n\t\tfor(j=0;j<n-1;j++)\t{\n\t\t\tif(a[j]>0)\t{\n\t\t\t\ta[j+1]-=a[j];\n\t\t\t\tsum+=a[j]*2;\n\t\t\t\ta[j]=0;\n\t\t\t}\n\t\t}\n\t\tif(a[n-1]>0)\tsum+=a[n-1];\n\t\tmn=min(mn,sum);\n\t}\n\tprintf(\"%d\\n\",mn);\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n\n    int n;\n\n    scanf(\"%d\",&n);\n\n    int p[n];\n\n    for(int i=0;i<n;i++){\n        scanf(\" %d\",&p[i]);\n    }\n\n    long long int ans = 0;\n\n    int t1[n],t2[n];\n\n    for(int i=0;i<n;i++){\n        t1[i] = t2[i] = p[i];\n    }\n\n    long long int test = 0;\n\n    for(int i=0;i<n-1;i++){\n        if(t1[i]>=t1[i+1]){\n            test += t1[i]*2;\n            t1[i] = t1[i+1] = 0;\n        }\n        else {\n            test += t1[i]*2;\n            t1[i + 1] -= t1[i];\n            t1[i] = 0;\n        }\n    }\n\n    if(t1[n-1]!=0){\n        test += t1[n-1];\n    }\n\n    ans = test;\n\n    test = t2[0];\n\n    t2[0] = 0;\n\n    for(int i=1;i<n-1;i++){\n        if(t2[i]>=t2[i+1]){\n            test += t2[i]*2;\n            t2[i] = t2[i+1] = 0;\n        }\n        else {\n            test += t2[i]*2;\n            t2[i + 1] -= t2[i];\n            t2[i] = 0;\n        }\n    }\n\n    if(t2[n-1]!=0){\n        test += t2[n-1];\n    }\n\n    ans = min(ans,test);\n\n    cout << ans << endl;\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\nint main() {\n    int n, p[5000], cur[5000], ans = 99999999;\n\n    cin >> n;\n    for (int i = 0; i < n; i++) cin >> p[i];\n\n    for (int i = 0; i <= p[0]; i++) {\n        int count = 0;\n        for (int j = 0; j < n; j++) cur[j] = p[j];\n\n        cur[0] -= i;\n        count += i;\n        for (int j = 0; j < n - 1; j++) {\n            count += 2 * cur[j];\n            cur[j + 1] = max(cur[j + 1] - cur[j], 0);\n            cur[j] = 0;\n        }\n        count += cur[n - 1];\n        ans = min(ans, count);\n    }\n\n    cout << ans << endl;\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n#define dbg(x) cout<<#x\" = \"<<((x))<<endl\ntemplate<class T,class U> ostream& operator<<(ostream& o, const pair<T,U> &p){o<<\"(\"<<p.fi<<\",\"<<p.se<<\")\";return o;}\ntemplate<class T> ostream& operator<<(ostream& o, const vector<T> &v){o<<\"[\";for(T t:v){o<<t<<\",\";}o<<\"]\";return o;}\n\nint main()\n{\n    int n;\n    cin >>n;\n    vector<int> a(n);\n    rep(i,n) cin >>a[i];\n\n    int ans = 0;\n    for(int i=1; i<n; ++i)if(a[i]>0)\n    {\n        while(a[i]>0)\n        {\n            if(a[i-1]>0) --a[i-1];\n            else --a[i+1];\n            --a[i];\n            ans += 2;\n        }\n    }\n    if(a[0]>0) ans += a[0];\n    if(a[n-1]>0) ans += a[n-1];\n\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\tint N;\n\tcin >> N;\n\tint *pancake = new int[N];\n\tfor (int i = 0; i < N; i++)\n\t\tcin >> pancake[i];\n\n\tint flipped = 0;\n\tint max_flip=0;\n\tfor (int i = 0; i < N; i++)\n\t\tif (max_flip < pancake[i])\n\t\t\tmax_flip = pancake[i];\n\n\tfor (int i = 0; i < max_flip; i++) {\n\t\tif (pancake[0] > 0 && pancake[1] <= 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\t\tif (pancake[N - 1] > 0 && pancake[N - 2] <= 0) {\n\t\t\tpancake[0]--;\n\t\t\tflipped++;\n\t\t}\n\n\t\tfor (int j = 1; j < N - 1; j++) {\n\t\t\tif (pancake[j] > 0) {\n\t\t\t\tpancake[j]--;\n\t\t\t\tpancake[j - 1]--;\n\t\t\t\tflipped += 2;\n\t\t\t}\n\t\t}\n\t}\n\tcout << flipped<<endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[5001],d,f,g,h,j,i,k;\n\tint ss[5001],hh,dd;\n\tscanf(\"%d\",&a);\n\th=0;\n\thh=0;\n\tfor(i=0;i<a;i++){\n\t\tscanf(\"%d\",&s[i]);\n\t\th+=s[i];\n\t\tss[i]=s[i];\n\t}\n\thh=h;\n\td=4;\n\twhile(1){\n\t\td--;\n\t\tif(d==0) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(s[i]==d){\n\t\t\t\tif(i!=1){\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1!=a-1){\n\t\t\t\t\tif(s[i-1]<=s[i+1]){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1==a-1){\n\t\t\t\t\tif(s[i-1]!=0){\n\t\t\t\t\t\ts[i]-=s[i-1];\n\t\t\t\t\t\ts[i-1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==1){\n\t\t\t\t\tif(s[i+1]!=0){\n\t\t\t\t\t\ts[i]-=s[i+1];\n\t\t\t\t\t\ts[i+1]=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(s[i]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) s[0]=0;\n\tif(s[a-1]>0) s[a-1]=0;\n\tfor(i=0;i<a;i++) h+=s[i]*-1;\n\tdd=0;\n\twhile(1){\n\t\tdd++;\n\t\tif(dd==4) break;\n\t\tfor(i=1;i<a-1;i++){\n\t\t\tif(ss[i]==dd){\n\t\t\t\tif(i!=1){\n\t\t\t\t\tif(s[i-1]>s[i+1]){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1!=a-1){\n\t\t\t\t\tif(s[i-1]<=s[i+1]){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i+1==a-1){\n\t\t\t\t\tif(s[i-1]!=0){\n\t\t\t\t\t\ts[i-1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(i==1){\n\t\t\t\t\tif(s[i+1]!=0){\n\t\t\t\t\t\ts[i+1]-=s[i];\n\t\t\t\t\t\ts[i]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(s[0]>0) s[0]=0;\n\tif(s[a-1]>0) s[a-1]=0;\n\tfor(i=0;i<a;i++) hh+=s[i]*-1;\n\tif(h>hh) h=hh;\n\tprintf(\"%d\\n\",h);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll=long long;\nusing ld=long double;\nusing ull=unsigned long long;\nusing uint=unsigned int;\nusing pcc=pair<char,char>;\nusing pii=pair<int,int>;\nusing pll=pair<ll,ll>;\nusing pdd=pair<double,double>;\nusing tuplis=pair<ll,pll>;\nusing tuplis2=pair<pll,ll>;\ntemplate<class T> using pq=priority_queue<T,vector<T>,greater<T>>;\nconst ll LINF=0x1fffffffffffffff;\nconst ll MINF=0x7fffffffffff;\nconst int INF=0x3fffffff;\nconst ll MOD=1000000007;\nconst ll MODD=998244353;\nconst ld DINF=numeric_limits<ld>::infinity();\nconst ld EPS=1e-9;\nconst ld PI=3.141592653589793238462643383279;\nconst vector<ll>four{0,1,0,-1,0};\n#define _overload4(_1,_2,_3,_4,name,...) name\n#define _overload3(_1,_2,_3,name,...) name\n#define _rep1(n) for(ll i=0;i<n;++i)\n#define _rep2(i,n) for(ll i=0;i<n;++i)\n#define _rep3(i,a,b) for(ll i=a;i<b;++i)\n#define _rep4(i,a,b,c) for(ll i=a;i<b;i+=c)\n#define rep(...) _overload4(__VA_ARGS__,_rep4,_rep3,_rep2,_rep1)(__VA_ARGS__)\n#define _rrep1(n) for(ll i=(n)-1;i>=0;i--)\n#define _rrep2(i,n) for(ll i=(n)-1;i>=0;i--)\n#define _rrep3(i,a,b) for(ll i=(b)-1;i>=a;i--)\n#define _rrep4(i,a,b,c) for(ll i=a+(b-a-1)/c*c;i>=a;i-=c)\n#define rrep(...) _overload4(__VA_ARGS__,_rrep4,_rrep3,_rrep2,_rrep1)(__VA_ARGS__)\n#define each(i,a) for(auto &i:a)\n#define sum(...) accumulate(range(__VA_ARGS__),0LL)\n#define dsum(...) accumulate(range(__VA_ARGS__),double(0))\n#define _range(i) (i).begin(),(i).end()\n#define _range2(i,k) (i).begin(),(i).begin()+k\n#define _range3(i,a,b) (i).begin()+a,(i).begin()+b\n#define range(...) _overload3(__VA_ARGS__,_range3,_range2,_range)(__VA_ARGS__)\n#define _rrange(i) (i).rbegin(),(i).rend()\n#define _rrange2(i,k) (i).rbegin(),(i).rbegin()+k\n#define _rrange3(i,a,b) (i).rbegin()+a,(i).rbegin()+b\n#define rrange(...) _overload3(__VA_ARGS__,_rrange3,_rrange2,_rrange)(__VA_ARGS__)\n#define elif else if\n#define unless(a) if(!(a))\n#define mp make_pair\n#define mt make_tuple\n#define INT(...) int __VA_ARGS__;in(__VA_ARGS__)\n#define LL(...) ll __VA_ARGS__;in(__VA_ARGS__)\n#define ULL(...) ull __VA_ARGS__;in(__VA_ARGS__)\n#define STR(...) string __VA_ARGS__;in(__VA_ARGS__)\n#define CHR(...) char __VA_ARGS__;in(__VA_ARGS__)\n#define DBL(...) double __VA_ARGS__;in(__VA_ARGS__)\n#define vec(type,name,...) vector<type> name(__VA_ARGS__)\n#define VEC(type,name,size) vector<type> name(size);in(name)\n#define vv(type,name,h,...) vector<vector<type>>name(h,vector<type>(__VA_ARGS__))\n#define VV(type,name,h,...) vector<vector<type>>name(h,vector<type>(__VA_ARGS__));in(name)\n#define vvv(type,name,h,w,...) vector<vector<vector<type>>>name(h,vector<vector<type>>(w,vector<type>(__VA_ARGS__)))\ninline constexpr ll gcd(ll a,ll b){if(!a||!b)return 0;while(b){ll c=b;b=a%b;a=c;}return a;}\ninline constexpr ll lcm(ll a,ll b){if(!a||!b)return 0;return a*b/gcd(a,b);}\ntemplate<class T> inline constexpr T min(vector<T> &v){return *min_element(range(v));}\ninline char min(string &v){return *min_element(range(v));}\ntemplate<class T> inline constexpr T max(vector<T> &v){return *max_element(range(v));}\ninline char max(string &v){return *max_element(range(v));}\ninline constexpr ll intpow(ll a,ll b){ll ans=1;for(ll i=1;b;i*=2){if(b&i){b^=i;ans*=a;}a*=a;}return ans;}\ntemplate<typename T>\ninline constexpr bool chmin(T &mn,const T &cnt){if(mn>cnt){mn=cnt;return 1;}else return 0;}\ntemplate<typename T>\ninline constexpr bool chmax(T &mx,const T &cnt){if(mx<cnt){mx=cnt;return 1;}else return 0;}\ntemplate<class T> unordered_map<T,ll> press(vector<T> &a){ auto b = a; sort(range(b)); b.erase(unique(range(b)), b.end()); unordered_map<T,ll> ans; rep(b.size()) ans[b[i]] = i; each(i, a) i = ans[i]; return ans; }\ntemplate<class T> map<T,ll> press_map(vector<T> &a){ auto b = a; sort(range(b)); b.erase(unique(range(b)), b.end()); map<T,ll> ans; rep(b.size()) ans[b[i]] = i; each(i, a) i = ans[i]; return ans; }\ninline int scan(){ return getchar(); }\ninline void scan(int &a){ scanf(\"%d\", &a); }\ninline void scan(unsigned &a){ scanf(\"%u\", &a); }\ninline void scan(long &a){ scanf(\"%ld\", &a); }\ninline void scan(long long &a){ scanf(\"%lld\", &a); }\ninline void scan(unsigned long long &a){ scanf(\"%llu\", &a); }\ninline void scan(char &a){ cin >> a; }\ninline void scan(float &a){ scanf(\"%f\", &a); }\ninline void scan(double &a){ scanf(\"%lf\", &a); }\ninline void scan(long double &a){ scanf(\"%Lf\", &a); }\ninline void scan(vector<bool> &vec){ for(unsigned i = 0; i < vec.size(); i++) { int a; scan(a); vec[i] = a; } }\ninline void scan(string &a){ cin >> a; }\ntemplate<class T> inline void scan(vector<T> &vec);\ntemplate<class T, size_t size> inline void scan(array<T, size> &vec);\ntemplate<class T, class L> inline void scan(pair<T, L> &p);\ntemplate<class T, size_t size> inline void scan(T (&vec)[size]);\ntemplate<class T> inline void scan(vector<T> &vec){ for(auto &i : vec) scan(i); }\ntemplate<class T, size_t size> inline void scan(array<T, size> &vec){ for(auto &i : vec) scan(i); }\ntemplate<class T, class L> inline void scan(pair<T, L> &p){ scan(p.first); scan(p.second); }\ntemplate<class T, size_t size> inline void scan(T (&vec)[size]){ for(auto &i : vec) scan(i); }\ntemplate<class T> inline void scan(T &a){ cin>>a; }\ninline void in(){}\ntemplate <class Head, class... Tail> inline void in(Head &head, Tail&... tail){ scan(head); in(tail...); }\ninline void print(){ putchar(' '); }\ninline void print(const bool &a){ printf(\"%d\", a); }\ninline void print(const int &a){ printf(\"%d\", a); }\ninline void print(const unsigned &a){ printf(\"%u\", a); }\ninline void print(const long &a){ printf(\"%ld\", a); }\ninline void print(const long long &a){ printf(\"%lld\", a); }\ninline void print(const unsigned long long &a){ printf(\"%llu\", a); }\ninline void print(const char &a){ printf(\"%c\", a); }\ninline void print(const char a[]){ printf(\"%s\", a); }\ninline void print(const float &a){ printf(\"%.15f\", a); }\ninline void print(const double &a){ printf(\"%.15f\", a); }\ninline void print(const long double &a){ printf(\"%.15Lf\", a); }\ntemplate<class T> void print(const vector<T> &vec);\ntemplate<class T, size_t size> void print(const array<T, size> &vec);\ntemplate<class T, class L> void print(const pair<T, L> &p);\ntemplate<class T, size_t size> inline void print(const T (&vec)[size]);\ntemplate<class T> void print(const vector<T> &vec){ if(vec.empty()) return; print(vec[0]); for(auto i = vec.begin(); ++i != vec.end(); ){ putchar(' '); print(*i); } }\ntemplate<class T, size_t size> void print(const array<T, size> &vec){ print(vec[0]); for(auto i = vec.begin(); ++i != vec.end(); ){ putchar(' '); print(*i); } }\ntemplate<class T, class L> void print(const pair<T, L> &p){ print(p.first); putchar(' '); print(p.second); }\ntemplate<class T, size_t size> inline void print(const T (&vec)[size]){ print(vec[0]); for(auto i = vec; ++i != end(vec); ){ putchar(' '); print(*i); } }\ntemplate<class T> inline void print(const T &a){ cout << a; }\ninline int out(){ putchar('\\n'); return 0; }\ntemplate<class T> inline int out(const T &t){ print(t); putchar('\\n'); return 0; }\ntemplate<class Head, class... Tail> inline int out(const Head &head, const Tail&... tail){ print(head); putchar(' '); out(tail...); return 0; }\ntemplate <class T> inline void err(T t){cerr<<t<<'\\n';}\ninline void err(){cerr<<'\\n';}\ninline int first(const bool &i){return out(i?\"first\":\"second\");}\ninline int yes(const bool &i){return out(i?\"yes\":\"no\");}\ninline int Yes(const bool &i){return out(i?\"Yes\":\"No\");}\ninline int YES(const bool &i){return out(i?\"YES\":\"NO\");}\ninline int Yay(const bool &i){return out(i?\"Yay!\":\":(\");}\ninline int Possible(const bool &i){return out(i?\"Possible\":\"Impossible\");}\ninline int POSSIBLE(const bool &i){return out(i?\"POSSIBLE\":\"IMPOSSIBLE\");}\ninline void Case(ll i){printf(\"Case #%lld: \",i);}\n\n\n\n\nll solve(vector<ll>a){\n    ll n=a.size(),ans=0;\n    a.push_back(0);\n    rep(n)while(a[i]>0){\n        a[i]--;\n        a[i+1]--;\n        ans+=2;\n    }\n    return ans;\n}\nsigned main(){\n    LL(n);\n    VEC(ll,a,n);\n    ll ans=LINF;\n    ll b=a.front(),c=a.back();\n    rep(i,b+1)rep(j,c+1){\n        a.front()=i;\n        a.back()=j;\n        chmin(ans,solve(a)+b-i+c-j);\n    }\n    out(ans);\n}\n\n\n\n\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Data.ByteString.Char8 (ByteString)\nimport qualified Data.ByteString.Char8 as B\nimport Data.List\nimport Data.Char (isSpace)\n\nmain :: IO ()\nmain = getLine >> solve <$> f >>= print\n  where\n    f = readil B.readInt <$> B.getLine\n\nsolve :: [Int] -> Int\nsolve ps = foldl (\\c i -> min c (count i)) 1000000 [0..3]\n  where\n    count n = let (x:xs) = ps in f n ((max 0 (x - n)):xs)\n    f ct [x] = ct + x\n    f ct (x:y:ys) = f (ct + 2 * x) ((max 0 (y - x)):ys)\n\nreadil :: Integral a =>  (ByteString -> Maybe (a, ByteString)) -> ByteString -> [a]\nreadil f = unfoldr $ \\s -> do\n  (n, s') <- f s\n  return (n, B.dropWhile isSpace s')\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(){\n\n  int i,n,p[5000],count=0;\n\n  scanf(\"%d\",&n);\n  \n  for(i=0;i<n;i++)scanf(\"%d\",&p[i]);\n  \n  \n  if(p[0] < p[n-1]){\n  \n    if(p[n-1]>p[n-2] && p[n-1]!=0){\n      count+=(p[n-1]-p[n-2]);\n      p[n-1]=p[n-2];\n    }\n    for(i=n-1;i>=0;i--){\n      if(p[i]>0 && i!=0){\n\tcount+=p[i]*2;\n\tp[i-1]=(p[i-1]-p[i]);\n\tp[i]=0;\n      }else if(p[i]>0){\n\tcount+=p[i];\n\tp[i]=0;\n      }\n    }\n    \n    \n  }else{  \n    if(p[0]>p[1] && p[0] !=0){\n      count += p[0]-p[1];\n      p[0]=p[1];\n    }\n    \n    for(i=0;i<n;i++){\n\n      if(p[i]>0 && i!=n-1){\n\tcount+=p[i]*2;\n\tp[i+1]-=p[i];\n\tp[i]=0;\n      }else if(p[i]>0){\n\tcount+=p[i];\n\tp[i]=0;\n      }\n    }\n  }\n  printf(\"%d\\n\",count);\n\n  return 0;\n  \n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint i;\n\tint cnt0 = 0;\t// ??????????????\\??????????????´???\n\tint cnt1 = 0;\t// ????????? 1???????????§?£?????????´???\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcnt0 = 0;\n\t\tif ( w[ 0 ] > w[ 1 ] ) {\n\t\t\tcnt0 += w[ 0 ] + w[ 1 ];\n\t\t\tw[ 1 ] = 0;\t\t\t\t\n\t\t}\n\t\telse {\n\t\t\tcnt0 += ( w[ 0 ] * 2 );\n\t\t\tw[ 1 ] -= w[ 0 ];\n\t\t}\n\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tcnt0 += ( w[ i ] * 2 );\n\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t}\n//\t\t\tw[ i ] = 0;\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcnt0 += w[ n - 1 ];\n\t\t}\n\n\t\t/*\n\t\t * ????????? 1??????????£???????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcnt1 = w[ 0 ];\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tcnt1 += ( w[ i ] * 2 );\n\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t}\n//\t\t\tw[ i ] = 0;\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcnt1 += w[ n - 1 ];\n\t\t}\n\n\t\t// ???????????¨???\n//\t\tprintf( \"%d, %d\\n\", cnt0, cnt1 );\n\n\t\tif ( cnt0 < cnt1 ) {\n\t\t\tprintf( \"%d\\n\", cnt0 );\n\t\t}\n\t\telse {\n\t\t\tprintf( \"%d\\n\", cnt1 );\n\t\t}\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint i;\n\tint cnt0 = 0;\t// ??????????????\\??????????????´???\n\tint cnt1 = 0;\t// ????????? 1???????????§?£?????????´???\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcnt0 = 0;\n\t\tif ( w[ 0 ] > w[ 1 ] ) {\n\t\t\tcnt0 += w[ 0 ] + w[ 1 ];\t\t\t\t\n\t\t}\n\t\telse {\n\t\t\tcnt0 += ( w[ 0 ] * 2 );\n\t\t\tw[ 1 ] -= w[ 0 ];\n\t\t}\n\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tcnt0 += ( w[ i ] * 2 );\n\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t}\n//\t\t\tw[ i ] = 0;\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcnt0 += w[ n - 1 ];\n\t\t}\n\n\t\t/*\n\t\t * ????????? 1??????????£???????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcnt1 = w[ 0 ];\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tcnt1 += ( w[ i ] * 2 );\n\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t}\n//\t\t\tw[ i ] = 0;\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcnt1 += w[ n - 1 ];\n\t\t}\n\n\t\t// ???????????¨???\n//\t\tprintf( \"%d, %d\\n\", cnt0, cnt1 );\n\n\t\tif ( cnt0 < cnt1 ) {\n\t\t\tprintf( \"%d\\n\", cnt0 );\n\t\t}\n\t\telse {\n\t\t\tprintf( \"%d\\n\", cnt1 );\n\t\t}\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint i;\n\tint count;\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tcount = 0;\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tif ( d[ i ] > 0 ) {\n\t\t\t\tcount += d[ i ];\t\t// ?????????????????±??????????£???????\n\t\t\t\tif ( i != n - 1 ) {\n\t\t\t\t\tcount += d[ i ];\t// ??£??????????????±??????????£???????\n\t\t\t\t\td[ i + 1 ] -= d[ i ];\n\t\t\t\t}\n\t\t\t\td[ i ] = 0;\n\t\t\t}\n\t\t}\n\t\tprintf( \"%d\\n\", count );\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else if(p[i-1]==p[i+1]&&i==N-2){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}else{f=1;}}\n\t}\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "//set many funcs template\n//Ver.20181228\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\n#include<stdbool.h>\n#include<time.h>\n#define inf 1072114514\n#define llinf 4154118101919364364\n#define mod 1000000007\n#define pi 3.1415926535897932384\n\nint max(int a,int b){if(a>b){return a;}return b;}\nint min(int a,int b){if(a<b){return a;}return b;}\nint zt(int a,int b){return max(a,b)-min(a,b);}\nint round(int a,int b){if((a%b)*2 >= b){return (a/b)+1;}return a/b;}\nint ceil(int a,int b){if(a%b==0){return a/b;}return (a/b)+1;}\nint gcd(int a,int b){int c;while(b!=0){c=a%b;a=b;b=c;}return a;}\nint lcm(int a,int b){int c=gcd(a,b);a/=c;return a*b;}\nint nCr(int a,int b){int i,r=1;for(i=1;i<=b;i++){r*=(a+1-i);r/=i;}return r;}\nint nHr(int a,int b){return nCr(a+b-1,b);}\nint fact(int a){int i,r=1;for(i=1;i<=a;i++){r*=i;}return r;}\nint pow(int a,int b){int i,r=1;for(i=1;i<=b;i++){r*=a;}return r;}\nint dsum(int x){int r=0;while(x){r+=(x%10);x/=10;}return r;}\nint dsumb(int x,int b){int r=0;while(x){r+=(x%b);x/=b;}return r;}\nint sankaku(int x){return ((1+x)*x)/2;}\nlong long llmax(long long a,long long b){if(a>b){return a;}return b;}\nlong long llmin(long long a,long long b){if(a<b){return a;}return b;}\nlong long llzt(long long a,long long b){return llmax(a,b)-llmin(a,b);}\nlong long llround(long long a,long long b){if((a%b)*2 >= b){return (a/b)+1;}return a/b;}\nlong long llceil(long long a,long long b){if(a%b==0){return a/b;}return (a/b)+1;}\nlong long llgcd(long long a,long long b){long long c;while(b!=0){c=a%b;a=b;b=c;}return a;}\nlong long lllcm(long long a,long long b){long long c=llgcd(a,b);a/=c;return a*b;}\nlong long llnCr(long long a,long long b){long long i,r=1;for(i=1;i<=b;i++){r*=(a+1-i);r/=i;}return r;}\nlong long llnHr(long long a,long long b){return llnCr(a+b-1,b);}\nlong long llfact(long long a){long long i,r=1;for(i=1;i<=a;i++){r*=i;}return r;}\nlong long llpow(long long a,long long b){long long i,r=1;for(i=1;i<=b;i++){r*=a;}return r;}\nlong long lldsum(long long x){long long r=0;while(x){r+=(x%10);x/=10;}return r;}\nlong long lldsumb(long long x,long long b){long long r=0;while(x){r+=(x%b);x/=b;}return r;}\nlong long llsankaku(long long x){return ((1+x)*x)/2;}\ndouble dbmax(double a,double b){if(a>b){return a;}return b;}\ndouble dbmin(double a,double b){if(a<b){return a;}return b;}\ndouble dbzt(double a,double b){return dbmax(a,b)-dbmin(a,b);}\nint sortfncsj(const void *a,const void *b){if(*(int *)a>*(int *)b){return 1;}if(*(int *)a==*(int *)b){return 0;}return -1;}\nint sortfnckj(const void *a,const void *b){if(*(int *)a<*(int *)b){return 1;}if(*(int *)a==*(int *)b){return 0;}return -1;}\nint llsortfncsj(const void *a,const void *b){if(*(long long *)a>*(long long *)b){return 1;}if(*(long long *)a==*(long long *)b){return 0;}return -1;}\nint llsortfnckj(const void *a,const void *b){if(*(long long *)a<*(long long *)b){return 1;}if(*(long long *)a==*(long long *)b){return 0;}return -1;}\nint dbsortfncsj(const void *a,const void *b){if(*(double *)a>*(double *)b){return 1;}if(*(double *)a==*(double *)b){return 0;}return -1;}\nint dbsortfnckj(const void *a,const void *b){if(*(double *)a<*(double *)b){return 1;}if(*(double *)a==*(double *)b){return 0;}return -1;}\nint strsortfncsj(const void *a,const void *b){return strcmp((char *)a,(char *)b);}\nint strsortfnckj(const void *a,const void *b){return strcmp((char *)b,(char *)a);}\nint chsortfncsj(const void *a,const void *b){if(*(char *)a>*(char *)b){return 1;}if(*(char *)a==*(char *)b){return 0;}return -1;}\nint chsortfnckj(const void *a,const void *b){if(*(char *)a<*(char *)b){return 1;}if(*(char *)a==*(char *)b){return 0;}return -1;}\n\nvoid shuffledget(int x[],int n){\n    srand(time(0));\n    int i,b[524288],p,c;\n    for(i=0;i<n;i++){\n        b[i]=i;\n    }\n    for(i=n;i>=1;i--){\n        p=rand()%i;\n        c=b[i-1];b[i-1]=b[p];b[p]=c;\n    }\n    for(i=0;i<n;i++){\n        scanf(\"%d\",&x[b[i]]);\n    }\n}\n\nint dx4[4]={1,-1,0,0};\nint dy4[4]={0,0,1,-1};\nint dx8[8]={-1,-1,-1,0,0,1,1,1};\nint dy8[8]={-1,0,1,-1,1,-1,0,1};\n\nint search(int x,int a[],int n){\n    int st=0,fi=n-1,te;\n    while(st<=fi){\n        te=(st+fi)/2;\n        if(a[te]<x){st=te+1;}else{fi=te-1;}\n    }\n    return st;\n}\n\nvoid prarr(int arr[],int n){\n  int i;\n  for(i=0;i<n;i++){\n    if(i){printf(\" \");}\n    printf(\"%d\",arr[i]);\n  }\n  printf(\"\\n\");\n  return;\n}\n\ntypedef struct{\nint val;\nint node;\n}sd;\n\nint sdsortfnc(const void *a,const void *b){\nif(((sd*)a)->val < ((sd*)b)->val){return -1;}\nif(((sd*)a)->val > ((sd*)b)->val){return 1;}\nreturn 0;\n}\n\nint main(void){\n  int i,j,n,m,k,a[524288]={0},b[524288]={0},c,h,w,r=inf,l,t;\n  scanf(\"%d\",&n);\n  for(i=0;i<n;i++){scanf(\"%d\",&a[i]);}\n  for(i=0;i<4;i++){\n    for(j=0;j<4;j++){\n      t=i+j;\n      for(k=0;k<n;k++){b[k]=a[k];}\n      b[0]=max(0,a[0]-i);\n      b[n-1]=max(0,b[n-1]-j);\n      for(k=0;k<n;k++){\n        t+=b[k]*2;\n        b[k+1]=max(0,b[k+1]-b[k]);\n        b[k]=0;\n      }\n      r=min(r,t);\n    }\n  }\n  printf(\"%d\\n\",r);\n  return 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n//\tprint_pan(N);\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-2;i++){\n\t\tif(p[i]!=0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tf=1;\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}}\n//\tprint_pan(N);\n\t}\n//\tprint_pan(N);\n\tif(p[0]>0){c=c+p[0];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n#define MAX_N 5000\n\nint n;\nint p[MAX_N];\n\nint rcv( int *cake, int left, int rc )\n{\n\tint *pan = cake;\n\t\n\twhile( pan[left] <= 0 ) {\n\t\tleft++;\n\t\tif ( left == n - 1 ) return rc + pan[left];\n\t}\n\t\n\tpan[left]--;\n\tif ( pan[left + 1] > 0 )\n\t\tpan[left + 1]--;\n\t\n\treturn rcv( pan, left, rc + 2 );\n}\n\nint main(void)\n{\n\tint head;\n\tint ans, num;\n\tint i;\n\t\n\tscanf( \"%d\", &n );\n\t\n\tfor( i=0; i<n; i++ ) {\n\t\tscanf( \"%d\", &p[i] );\n\t}\n\t\n\tp[0] = head;\n\tans = 100000;\n\tfor( i=head; i>=0; i-- ) {\n\t\tp[0] = i;\n\t\tnum = rcv( p, 0, head - i );\n\t\tif ( num < ans ) ans = num;\n\t}\n\t\n\tprintf( \"%d\\n\", ans );\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint i;\n\tint count;\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tcount = 0;\n\t\tfor ( i = 0 ; i < n - 1 ; i++ ) {\n\t\t\tif ( d[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount += ( d[ i ] * 2 );\n\t\t\t\td[ i + 1 ] -= d[ i ];\n\t\t\t\td[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( d[ n - 1 ] > 0 ) {\n\t\t\tcount += d[ n - 1 ];\n\t\t}\n\n\t\tprintf( \"%d\\n\", count );\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f,min;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}else{f=1;}}\n\t}\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tmin=c;\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=N-2;i>0;i--){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}else{f=1;}}\n\t}\n\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\n\tif(c>min){c=min;}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint i;\n\tint count;\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tcount = 0;\n\t\tfor ( i = 0 ; i < n - 1 ; i++ ) {\n\t\t\tif ( d[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount += ( d[ i ] * 2 );\n\t\t\t\td[ i + 1 ] -= d[ i ];\n\t\t\t\td[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( d[ n - 1 ] > 0 ) {\n\t\t\tcount += d[ n - 1 ];\n\t\t}\n\n\t\tprintf( \"%d\\n\", count );\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t\tf=1;\n\t\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}}\n\t}\n//\tprint_pan(N);\n\t}\n//\tprint_pan(N);\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "// AOJ \t0340: Pancake\n// 2018.1.26 bal4u\n\n#include <stdio.h>\n#include <string.h>\n\nchar p[5002];\nchar f[5002];\n\n//#define getchar_unlocked()  getchar()\nint in()\n{\n\tint n = 0;\n\tint c = getchar_unlocked();\n\tdo n = (n<<3)+(n<<1) + (c & 0xf), c = getchar_unlocked();\n\twhile (c >= '0');\n\treturn n;\n}\n\nint main()\n{\n\tint n, n1, i, j, t, ans;\n \n    n = in(), n1 = n-1;\n\tfor (i = 0 ;i < n; i++) p[i] = in();\n\tans = 6*n;\n\tfor (i = 0; i <= p[0]; i++) {\n\t\tmemcpy(f, p, n);\n\t\tt = i, f[0] -= i;\n\t\tfor (j = 0; j < n1 ; j++) {\n\t\t\tt += f[j] << 1;\n\t\t\tf[j+1] -= f[j];\n\t\t\tif (f[j+1] < 0) f[j+1] = 0;\n\t\t}\n\t\tt += f[n1];\n\t\tif (t < ans) ans = t;\n\t}\n\tprintf(\"%d\\n\", ans);\n    return 0;\n}\n"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint i;\n\tint count;\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tcount = 0;\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tif ( d[ i ] > 0 ) {\n\t\t\t\tcount += d[ i ];\t\t// ?????????????????±??????????£???????\n\t\t\t\tif ( i != n - 1 ) {\n\t\t\t\t\tcount += d[ i ];\t// ??£??????????????±??????????£???????\n\t\t\t\t\td[ i + 1 ] -= d[ i ];\n\t\t\t\t}\n\t\t\t\td[ i ] = 0;\n\t\t\t}\n\t\t}\n\t\tprintf( \"%d\\n\", count );\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint i;\n\tint count;\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tcount = 0;\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tif ( d[ i ] > 0 ) {\n\t\t\t\tcount += d[ i ];\t\t// ?????????????????±??????????£???????\n\t\t\t\tif ( i != n - 1 ) {\n\t\t\t\t\tcount += d[ i ];\t// ??£??????????????±??????????£???????\n\t\t\t\t\td[ i + 1 ] -= d[ i ];\n\t\t\t\t}\n\t\t\t\td[ i ] = 0;\n\t\t\t}\n\t\t}\n\t\tprintf( \"%d\\n\", count );\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n//\tprint_pan(N);\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]!=0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tf=1;\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}}\n\t}\n//\tprint_pan(N);\n\tif(p[0]>0){c=c+p[0];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n//\tprint_pan(N);\n\tf=1;\n\tfor(i=1;i<N-2;i++){if(p[i]>0){f=0;break;}}\n\t}\n//\tprint_pan(N);\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n//\tprint_pan(N);\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]!=0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tf=1;\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}}\n\t}\n//\tprint_pan(N);\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint prasu(int n, int p[])\n{\n\n    int a = 0, i;\n\n    for(i = 0; i < n; i++)\n        if(a < p[i])\n            a = p[i];\n\n    return a;\n}\n\nint main(void)\n{\n\n    int n, i, k, a = 0;\n    int p[5000];\n\n    scanf(\"%d\", &n);\n\n    for(i = 0; i < n; i++)\n        scanf(\"%d\", &p[i]);\n\n    while (n) {\n        k = prasu(n, p);\n        if(k == 0)\n            break;\n        for(i = 0; i < n; i++) {\n            if(p[i] == k){\n                if(i == 0){\n                    if(p[1] != 0){\n                        p[0]--;\n                        p[1]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[0]--;\n                        a += 1;\n                        continue;\n                    }\n                }\n                else if(i == n - 1){\n                    if(p[n - 2] != 0){\n                        p[n - 1]--;\n                        p[n - 2]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[n - 1]--;\n                        a += 1;\n                        continue;\n                    }\n                }\n                else{\n                    if(p[i - 1] > p[i + 1]){\n                        p[i]--;\n                        p[i - 1]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[i]--;\n                        p[i + 1]--;\n                        a += 2;\n                        continue;\n                    }\n                }\n            }\n        }\n    }\n\n    printf(\"%d\", a);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint i;\n\tint count0;\t\t// ??????????????\\??????????????´???\n\tint count1;\t\t// ????????? 1???????????§?£?????????´???\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount0 = 0;\n\t\tfor ( i = 0 ; i < n - 1 ; i++ ) {\n\t\t\tif ( w[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount0 += ( w[ i ] * 2 );\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\tw[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( w[ n - 1 ] > 0 ) {\n\t\t\tcount0 += w[ n - 1 ];\n\t\t}\n\n\t\t/*\n\t\t * ????????? 1??????????£???????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount1 = w[ 0 ];\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tif ( w[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount1 += ( w[ i ] * 2 );\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\tw[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( w[ n - 1 ] > 0 ) {\n\t\t\tcount1 += w[ n - 1 ];\n\t\t}\n\n\t\t// ???????????¨???\n//\t\tprintf( \"%d, %d\\n\", count0, count1 );\n\n\t\tif ( count0 < count1 ) {\n\t\t\tprintf( \"%d\\n\", count0 );\n\t\t}\n\t\telse {\n\t\t\tprintf( \"%d\\n\", count1 );\n\t\t}\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "//\thttp://judge.u-aizu.ac.jp/onlinejudge/review.jsp?rid=2415733#1\n\n#include <stdio.h>\n\n#define Rep(i,N) for(int i = 0;i < N;i++)\n \nint main( void ){\n\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint cnt;\t\t// ?£????????????°\n\tint total;\t\t//\n\tint i, j;\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\t// ???????????±??????????????°????????\\???\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcnt = 5000 * 3 * 2;\t\t// ??¨????????????????£????????????°????????§???????¨????\n\t\t\n\t\tfor ( j = 0 ; j < w[ 0 ] + 1 ; j++ ) {\n\t\t\ttotal = 0;\n\t\t\t\n\t\t\tw[ 0 ] -= j;\n\t\t\t\n\t\t\ttotal += j;\n\t\t\t\n\t\t\tfor ( i = 0 ; i < n - 1 ; i++ ) {\n\t\t\t\ttotal += ( w[ i ] * 2 );\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\tw[ i ] = 0;\n\t\t\t\t\n\t\t\t\tif ( w[ i + 1 ] < 0) {\n\t\t\t\t\tw[i + 1] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\ttotal += w[ n - 1 ];\n\t\t\t\n\t\t\tif ( cnt > total ) {\n\t\t\t\tcnt = total;\n\t\t\t}\n\t\t\t\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t\tw[ i ] = d[ i ];\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf( \"%d\\n\", cnt );\n\t\t\n\t\tbreak;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint i;\n\tint count0;\t\t// ??????????????\\??????????????´???\n\tint count1;\t\t// ????????? 1???????????§?£?????????´???\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount0 = 0;\n\t\tif ( w[ 0 ] > w[ 1 ] ) {\n\t\t\tcount0 += w[ 0 ] + w[ 1 ];\t\t\t\t\n\t\t}\n\t\telse {\n\t\t\tcount0 += ( w[ 0 ] * 2 );\n\t\t\tw[ 1 ] -= w[ 0 ];\n\t\t}\n\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tcount0 += ( w[ i ] * 2 );\n\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t}\n\t\t\tw[ i ] = 0;\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcount0 += w[ n - 1 ];\n\t\t}\n\n\t\t/*\n\t\t * ????????? 1??????????£???????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount1 = w[ 0 ];\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tcount1 += ( w[ i ] * 2 );\n\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t}\n\t\t\tw[ i ] = 0;\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcount1 += w[ n - 1 ];\n\t\t}\n\n\t\t// ???????????¨???\n//\t\tprintf( \"%d, %d\\n\", count0, count1 );\n\n\t\tif ( count0 < count1 ) {\n\t\t\tprintf( \"%d\\n\", count0 );\n\t\t}\n\t\telse {\n\t\t\tprintf( \"%d\\n\", count1 );\n\t\t}\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else if(p[i-1]==p[i+1]&&i==1){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}else{f=1;}}\n\t}\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint i;\n\tint count0;\t\t// ??????????????\\??????????????´???\n\tint count1;\t\t// ????????? 1???????????§?£?????????´???\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount0 = 0;\n\t\tif ( w[ 0 ] > w[ 1 ] ) {\n\t\t\tcount0 += w[ 0 ] + w[ 1 ];\t\t\t\t\n\t\t}\n\t\telse {\n\t\t\tcount0 += ( w[ 0 ] * 2 );\n\t\t\tw[ 1 ] -= w[ 0 ];\n\t\t}\n\n\t\tfor ( i = 0 ; i < n - 1 ; i++ ) {\n\t\t\tif ( w[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount0 += ( w[ i ] * 2 );\n\t\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\t}\n\t\t\t\tw[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcount0 += w[ n - 1 ];\n\t\t}\n\n\t\t/*\n\t\t * ????????? 1??????????£???????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount1 = w[ 0 ];\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tif ( w[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount1 += ( w[ i ] * 2 );\n\t\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\t}\n\t\t\t\tw[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcount1 += w[ n - 1 ];\n\t\t}\n\n\t\t// ???????????¨???\n//\t\tprintf( \"%d, %d\\n\", count0, count1 );\n\n\t\tif ( count0 < count1 ) {\n\t\t\tprintf( \"%d\\n\", count0 );\n\t\t}\n\t\telse {\n\t\t\tprintf( \"%d\\n\", count1 );\n\t\t}\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\n\n????????? ????????±???????????????????????? ???????????????\n???????????????????????????????????±???????±???§???????´°???????????????????????±??????????????°????¨????\n??????????????????????????????????????±?????????????????§??????????£?????????°??????????????????????????\\\n????£?????????°??????????????????????????±???????????¨?????°???????????????\n???????????§???????????§?????£????????£???????????±?????????????????????????£???????????????????????????????\n????????¨???????????????????????????????????\\????????????????????????????????????????????????????????£???\n????????±????????¨?????£??????????£???????????????§??????????????????????£????????????¨?????§????????????\n????????????????????±???????????????????????°??\\????£??????????????????¨??¨?????£????????????????????????\n?????????????????§??????\n????????±???????????????????????°?????????????£?????????¨???????????£?????????????????§??????????????????\n?£???????????????????????????????????????§?????????????????????????????????????????§?????????????????±???\n???????£????????????°????????????????°?????????????????????????????????????????????¨?????????????????? \n\n??????\n???????????????????????±??????????????°??¨????????????????????§???????????\\????£??????????????????°??????\n????????????????????±???????????¨??????????????????????????¨????????????????????????????????§????????????\n??±??????????£????????????°?????????????????????????????°??§????????????????????????????°????????¨???????\n???????????°????????????????????????\n\n??\\???\n\n\n??\\???????????°??????????????????????????????????????\\??????????????????????????????????????§???????????????\n??????????????????????????\\????????¢?????§??????????????????\n\nN\np1 p2 ??? pN \n\n????????????????????±??????????????° N(3???N???5000)????????????????????????????????????????????±???\n???????????????????????§?????????????£????????????° pi(0???pi???3)?????????????????????\n???????????????????????°??? 100 ????¶?????????????\n\n??????\n??????????????????????????§??????????????±??????????£????????????°????????????????°??????????????????????\n?????????\n\n*/\n\n#include <stdio.h>\n\nint main( void )\n{\n\tint n;\t\t\t// ????????±??????????????° N(3???N???5000)\n\tint d[ 5000 ];\t// ?????????????????§?????????????£????????????° pi(0???pi???3)\n\tint w[ 5000 ];\t// \n\tint i;\n\tint count0;\t\t// ??????????????\\??????????????´???\n\tint count1;\t\t// ????????? 1???????????§?£?????????´???\n\n\twhile ( 1 ) {\n\t\tscanf( \"%d\", &n );\n\n\t\tif ( n == 0 ) {\n\t\t\tbreak;\t\t\t// ??\\???????????????\n\t\t}\n\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\tscanf( \"%d\", &d[ i ] );\n\t\t}\n\n\t\t/*\n\t\t * ??????????????????????????°?£????????????????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount0 = 0;\n\t\tif ( w[ 0 ] > w[ 1 ] ) {\n\t\t\tcount0 += w[ 0 ] + w[ 1 ];\t\t\t\t\n\t\t}\n\t\telse {\n\t\t\tcount0 += ( w[ 0 ] * 2 );\n\t\t\tw[ 1 ] -= w[ 0 ];\n\t\t}\n\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tif ( w[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount0 += ( w[ i ] * 2 );\n\t\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\t}\n\t\t\t\tw[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcount0 += w[ n - 1 ];\n\t\t}\n\n\t\t/*\n\t\t * ????????? 1??????????£???????\n\t\t */\n\t\tfor ( i = 0 ; i < n ; i++ ) {\n\t\t\t// ????\\???¨????????° w ??? d ??????????????????\n\t\t\tw[ i ] = d[ i ];\n\t\t}\n\n\t\tcount1 = w[ 0 ];\n\t\tfor ( i = 1 ; i < n - 1 ; i++ ) {\n\t\t\tif ( w[ i ] > 0 ) {\n\t\t\t// ?????????????????±??????????£?????????¨?????£??????????????±??????????£???????\n\t\t\t\tcount1 += ( w[ i ] * 2 );\n\t\t\t\tif ( w[ i ] > w[ i + 1 ] ) {\n\t\t\t\t\tw[ i + 1 ] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tw[ i + 1 ] -= w[ i ];\n\t\t\t\t}\n\t\t\t\tw[ i ] = 0;\n\t\t\t}\n\t\t}\n\n\t\tif ( w[ n - 1 ] != 0 ) {\n\t\t\tcount1 += w[ n - 1 ];\n\t\t}\n\n\t\t// ???????????¨???\n//\t\tprintf( \"%d, %d\\n\", count0, count1 );\n\n\t\tif ( count0 < count1 ) {\n\t\t\tprintf( \"%d\\n\", count0 );\n\t\t}\n\t\telse {\n\t\t\tprintf( \"%d\\n\", count1 );\n\t\t}\n\n\t\tbreak;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n//\tprint_pan(N);\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}else{f=1;}}\n\t}\n//\tprint_pan(N);\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(){\n\n  int i,n,p[5000],count=0;\n\n  scanf(\"%d\",&n);\n  \n  for(i=0;i<n;i++)scanf(\"%d\",&p[i]);\n  \n  \n  //for(i=0;i<n;i++)printf(\"%d\\n\",p[i]);\n  \n  if(p[0] < p[n-1]){\n  \n    if(p[n-1]>p[n-2] && p[n-1]!=0){\n      count+=(p[n-1]-p[n-2]);\n      p[n-1]=p[n-2];\n    }\n    //printf(\"%d\\n\",count);\n    \n    for(i=n-1;i>=0;i--){\n      if(p[i]>0 && i!=0){\n\tcount+=p[i]*2;\n\tp[i-1]=(p[i-1]-p[i]);\n\tp[i]=0;\n      }else if(p[0]>0 && p[i]>0){\n\tcount+=p[0];\n\tp[0]=0;\n      }\n      // printf(\"%d\\n\",count);\n    }\n    \n    \n  }else{\n    \n    \n    if(p[0]>p[1] && p[0] !=0){\n      count += p[0]-p[1];\n      p[0]=p[1];\n    }\n    \n    for(i=0;i<n;i++){\n\n      if(p[i]>0 && i!=n-1){\n\tcount+=p[i]*2;\n\tp[i+1]-=p[i];\n\tp[i]=0;\n      }else if(p[n-1]>0 && p[i]>0){\n\tcount+=p[n-1];\n\tp[n-1]=0;\n      }\n    }\n  }\n  \n  //for(i=0;i<n;i++)printf(\"%d\\n\",p[i]);\n  \n  printf(\"%d\\n\",count);\n\n  return 0;\n  \n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n//\tprint_pan(N);\n\tc=0;\n\tf=0;\n\twhile(f==0){\n\tfor(i=1;i<N-1;i++){\n\t\tif(p[i]!=0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tf=1;\n\tfor(i=1;i<N-1;i++){if(p[i]!=0){f=0;break;}}\n\t}\n//\tprint_pan(N);\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "int prasu(int n, int p[])\n{\n\n    int a = 0, i;\n\n    for(i = 0; i < n; i++)\n        if(a < p[i])\n            a = p[i];\n\n    return a;\n}\n\nint main(void)\n{\n\n    int n, i, k, a = 0;\n    int p[5000];\n\n    scanf(\"%d\", &n);\n\n    for(i = 0; i < n; i++)\n        scanf(\"%d\", &p[i]);\n\n    while (n) {\n        k = prasu(n, p);\n        if(k == 0)\n            break;\n        for(i = 0; i < n; i++) {\n            if(p[i] == k){\n                if(i == 0){\n                    if(p[1] != 0){\n                        p[0]--;\n                        p[1]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[0]--;\n                        a += 1;\n                        continue;\n                    }\n                }\n                else if(i == n - 1){\n                    if(p[n - 2] != 0){\n                        p[n - 1]--;\n                        p[n - 2]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[n - 1]--;\n                        a += 1;\n                        continue;\n                    }\n                }\n                else{\n                    if(p[i - 1] > p[i + 1]){\n                        p[i]--;\n                        p[i - 1]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[i]--;\n                        p[i + 1]--;\n                        a += 2;\n                        continue;\n                    }\n                }\n            }\n        }\n    }\n\n    printf(\"%d\\n\", a);\n\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint print_pan();\n\nint p[5005]={};\n\nint main(void) {\n\tint i,N,c,f;\n\tscanf(\"%d\",&N);\n\tfor(i=0;i<N;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tc=0;\n\tf=0;\n\twhile(f==0){\n//\tfor(i=1;i<N-1;i++){\n\tfor(i=N-2;i>0;i--){\n\t\tif(p[i]>0){\n\t\t\tif(p[i-1]>p[i+1]){\n\t\t\t\tc=c+2;\n\t\t\t\tp[i-1]--;\n\t\t\t\tp[i]--;\n\t\t\t}else{\n\t\t\t\tc=c+2;\n\t\t\t\tp[i+1]--;\n\t\t\t\tp[i]--;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<N-1;i++){if(p[i]>0){f=0;break;}else{f=1;}}\n\t}\n//\tprint_pan(N);\n\tif(p[0  ]>0){c=c+p[0  ];}\n\tif(p[N-1]>0){c=c+p[N-1];}\n\tprintf(\"%d\\n\",c);\n\n\treturn 0;\n}\nint print_pan(int N){\n\tint i;\n\tfor(i=0;i<N-1;i++){printf(\"%d \",p[i]);}printf(\"%d\\n\",p[i]);\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint prasu(int n, int p[])\n{\n\n    int a = 0, i;\n\n    for(i = 0; i < n; i++)\n        if(a < p[i])\n            a = p[i];\n\n    return a;\n}\n\nint main(void)\n{\n\n    int n, i, k, a = 0;\n    int p[5000];\n\n    scanf(\"%d\", &n);\n\n    for(i = 0; i < n; i++)\n        scanf(\"%d\", &p[i]);\n\n    while (n) {\n        k = prasu(n, p);\n        if(k == 0)\n            break;\n        for(i = 0; i < n; i++) {\n            if(p[i] == k){\n                if(i == 0){\n                    if(p[1] > 0){\n                        p[0]--;\n                        p[1]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[0]--;\n                        a += 1;\n                        continue;\n                    }\n                }\n                else if(i == n - 1){\n                    if(p[n - 2] > 0){\n                        p[n - 1]--;\n                        p[n - 2]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[n - 1]--;\n                        a += 1;\n                        continue;\n                    }\n                }\n                else{\n                    if(p[i - 1] > p[i + 1]){\n                        p[i]--;\n                        p[i - 1]--;\n                        a += 2;\n                        continue;\n                    }\n                    else {\n                        p[i]--;\n                        p[i + 1]--;\n                        a += 2;\n                        continue;\n                    }\n                }\n            }\n        }\n    }\n\n    printf(\"%d\\n\", a);\n\n    return 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int panc[] = new int[n];\n        for (int i = 0;i < n;++i){\n            panc[i] = sc.nextInt();\n        }\n        int c = 0;\n        for (int i = 1;i < n - 2;++i){\n            while (panc[i] > 0&&panc[i + 1] > 0){\n                int m = Math.min(panc[i],panc[i + 1]);\n                c += m * 2;\n                if(m == panc[i]){\n                    panc[i] = 0;\n                    panc[i + 1] -= m;\n                }\n                else{\n                    panc[i + 1] = 0;\n                    panc[i] -= m;\n                }\n            }\n        }\n\n        while (panc[0] > 0&&panc[1] > 0){\n            int m = Math.min(panc[0],panc[1]);\n            c += m * 2;\n            if(m == panc[0]){\n                panc[0] = 0;\n                panc[1] -= m;\n            }\n            else{\n                panc[1] = 0;\n                panc[0] -= m;\n            }\n        }\n\n        while (panc[n - 2] > 0&&panc[n - 1] > 0){\n            int m = Math.min(panc[n - 2],panc[1]);\n            c += m * 2;\n            if(m == panc[n - 2]){\n                panc[n - 2] = 0;\n                panc[n - 1] -= m;\n            }\n            else{\n                panc[n - 1] = 0;\n                panc[n - 2] -= m;\n            }\n        }\n\n\n        for (int i = 0;i < n;++i){\n            while (panc[i] > 0){\n                if(i == 0||i + 1 == n){\n                    c += panc[i];\n                    panc[i] = 0;\n                }\n                else{\n                    c += panc[i] * 2;\n                    panc[i] = 0;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n\n\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main{\n\tpublic static void main(String args[]) throws IOException {\n\t\tScanner scan = new Scanner(System.in);\n\t\tint Ans = 0;\n\t\tint N = scan.nextInt();\n\t\tint[] P = new int[N];\n\t\t\n\t\t//標準入力からの格納\n\t\tfor(int i = 0; i < N;i++) {\n\t\t\tP[i] = scan.nextInt();\n\t\t}\n\t\t\n\t\tfor(int i = 0;i <= P[0];i++){\n\t\t\t//左端の処理\n\t\t\tint ans = i;\n\t\t\t\n\t\t\tint nextS = P[0] - i;\n\t\t\t\n\t\t\t//全体の処理\n\t\t\tfor(int cursor = 0;cursor < N - 1;cursor++) {\n\t\t\t\tans += nextS * 2;\n\t\t\t\tnextS = P[cursor + 1] - nextS;\n\t\t\t\tif(nextS < 0) {\n\t\t\t\t\tnextS = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//右端の処理\n\t\t\tif(nextS > 0) {\n\t\t\t\tans += nextS;\n\t\t\t}\n\t\t\t\n\t\t\tif(i == 0 || Ans > ans) {\n\t\t\t\tAns = ans;\n\t\t\t}\n\t\t}\n\t\t\n\n\t\tSystem.out.println(Ans);\n\t\t\n\t\tscan.close();\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int panc[] = new int[n];\n        for (int i = 0;i < n;++i){\n            panc[i] = sc.nextInt();\n        }\n        int c = 0;\n        for (int i = 0;i < n - 1;++i){\n            while (panc[i] > 0&&panc[i + 1] > 0){\n                int m = Math.min(panc[i],panc[i + 1]);\n                c += m * 2;\n                if(m == panc[i]){\n                    panc[i] = 0;\n                    panc[i + 1] -= m;\n                }\n                else{\n                    panc[i + 1] = 0;\n                    panc[i] -= m;\n                }\n            }\n        }\n        for (int i = 0;i < n;++i){\n            while (panc[i] > 0){\n                if(i == 0||i + 1 == n){\n                    c += panc[i];\n                    panc[i] = 0;\n                }\n                else{\n                    c += panc[i] * 2;\n                    panc[i] = 0;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n\n\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int panc[] = new int[n];\n        for (int i = 0;i < n;++i){\n            panc[i] = sc.nextInt();\n        }\n        int c = 0;\n        for (int i = 0;i < n;++i){\n            while (panc[i] > 0){\n                if(i == 0&&panc[i + 1] <= 0){\n                    --panc[i];\n                    ++c;\n                }\n                else if(i + 1 == n){\n                    --panc[i];\n                    ++c;\n                }\n                else{\n                    --panc[i];\n                    --panc[i + 1];\n                    c += 2;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n\n\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        int panc[] = new int[n];\n        for (int i = 0;i < n;++i){\n            panc[i] = sc.nextInt();\n        }\n        int c = 0;\n        for (int i = 1;i < n - 2;++i){\n            while (panc[i] > 0&&panc[i + 1] > 0){\n                int m = Math.min(panc[i],panc[i + 1]);\n                c += m * 2;\n                if(m == panc[i]){\n                    panc[i] = 0;\n                    panc[i + 1] -= m;\n                }\n                else{\n                    panc[i + 1] = 0;\n                    panc[i] -= m;\n                }\n            }\n        }\n        for (int i = 0;i < n;++i){\n            while (panc[i] > 0){\n                if(i == 0||i + 1 == n){\n                    c += panc[i];\n                    panc[i] = 0;\n                }\n                else{\n                    c += panc[i] * 2;\n                    panc[i] = 0;\n                }\n            }\n        }\n        System.out.println(c);\n    }\n\n\n\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0340\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int n = RInt();\n            int[] p = RArInt();\n\n            int res = int.MaxValue;\n\n            for (int k = 0; k <= p[0]; k++)\n            {\n                res = Math.Min(res, GetTurnCnt(k, (int[])p.Clone()));\n            }\n            Console.WriteLine(res);\n        }\n\n        private static int GetTurnCnt(int k, int[] p)\n        {\n            int res = k;\n            p[0] -= k;\n\n            for (int i = 0; i < p.Length - 1; i++)\n            {\n                res += p[i] * 2;\n                p[i + 1] -= Math.Min(p[i], p[i + 1]);\n            }\n\n            res += p[p.Length - 1];\n            return res;\n\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0340\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int n = int.Parse(Console.ReadLine());\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            int ret = Math.Min(x[0], x[1]);\n            x[0] -= ret; x[1] -= ret;\n            ret *= 2;\n            for (int i = 1; i < n - 1; i++)\n            {\n                ret += x[i] * 2;\n                x[i + 1] -= Math.Min(x[i], x[i + 1]);\n            }\n            ret += x[0] + x[n - 1];\n            Console.WriteLine(ret);\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing System.Linq;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        var n = int.Parse(Console.ReadLine().Trim());\n        string[] line = Console.ReadLine().Trim().Split(' ');\n        var a = Array.ConvertAll(line, int.Parse);\n        var ans = int.MaxValue;\n        for (int i = 0; i <= 3; i++)\n        {\n            var t = getAns(a, n, i);\n            if (t != -1) ans = Min(ans, t);\n            var t2 = getAns2(a, n, i);\n            if (t2 != -1) ans = Min(ans, t2);\n        }\n        Array.Reverse(a);\n        for (int i = 0; i <= 3; i++)\n        {\n            var t3 = getAns(a, n, i);\n            if (t3 != -1) ans = Min(ans, t3);\n            var t4 = getAns2(a, n, i);\n            if (t4 != -1) ans = Min(ans, t4);\n        }\n        Console.WriteLine(ans);\n    }\n    static int getAns2(int[] a, int n, int L)\n    {\n        if (L < a[0]) return -1;\n        var b = new int[n];\n        b[0] = L;\n        var p = 1;\n        while (p < n - 1)\n        {\n\n            var d = Max(0, a[p] - b[p]);\n            b[p] += d;\n            b[p + 1] = d;\n            p++;\n        }\n        if (a[n - 1] > b[n - 1]) b[n - 1] = a[n - 1];\n        return b.Sum();\n\n    }\n    static int getAns(int[] a, int n, int L)\n    {\n        var b = new int[n];\n\n        b[0] = L;\n        if (a[0] > L) b[0] = a[0];\n        b[1] = L;\n        var p = 1;\n        while (p < n - 1)\n        {\n\n            var d = Max(0, a[p] - b[p]);\n            b[p] += d;\n            b[p + 1] = d;\n            p++;\n        }\n        if (a[n - 1] > b[n - 1]) b[n - 1] = a[n - 1];\n        return b.Sum();\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 > Datas[cake] && hw2 > Datas[cake + 1])\n                return int.MaxValue-10;\n\n            if (hw2 < Datas[cake + 1])\n                if (cake == 0 || cake == N)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            //if (dp[cake,hw1] > 0)\n                //return dp[cake,hw1];\n\n            if (cake == 0 || cake == N)\n                return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0340\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int n = int.Parse(Console.ReadLine());\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            int ret = Math.Max(x[0] - x[1],0); x[0] = Math.Min(x[0],x[1]);\n            for (int i = 0; i < n - 1; i++)\n            {\n                if (x[i] > 0)\n                {\n                    ret += x[i] * 2;\n                    x[i + 1] -= x[i];\n                }\n            }\n            ret += Math.Max(x[n - 1],0);\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0340\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int n = int.Parse(Console.ReadLine());\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            int[] y = new int[n];for (int i = 0; i < n; i++) y[i] = x[i];\n            int ret1 = Math.Max(x[0] - x[1],0); x[0] = Math.Min(x[0],x[1]);\n            for (int i = 0; i < n - 1; i++)\n            {\n                if (x[i] > 0)\n                {\n                    ret1 += x[i] * 2;\n                    x[i + 1] -= x[i];\n                }\n            }\n            ret1 += Math.Max(x[n - 1],0);\n            Array.Reverse(y);\n            int ret2 = Math.Max(y[0] - y[1],0); x[0] = Math.Min(y[0],y[1]);\n            for (int i = 0; i < n - 1; i++)\n            {\n                if (y[i] > 0)\n                {\n                    ret2 += y[i] * 2;\n                    y[i + 1] -= y[i];\n                }\n            }\n            ret2 += Math.Max(y[n - 1],0);\n            Console.WriteLine(Math.Min(ret1,ret2));\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        //static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            //dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N+1, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 >= Datas[cake - 1] && hw2 >= Datas[cake])\n                return dfs(cake - 1, 0, hw1);\n\n            if (hw2 < Datas[cake])\n                if (cake == 1 || cake == N+1)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (cake == 1 || cake == N+1)\n                return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0340\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int n = int.Parse(Console.ReadLine());\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            int[] y = new int[n]; int ret = int.MaxValue;\n            for (int i = 0; i <= x[0]; i++)\n            {\n                int now = i;\n                y[0] = x[0] - i;\n                for (int j = 1; j < n; j++) y[j] = x[j];\n                for (int j = 0; j < n - 1; j++)\n                {\n                    if (y[j] > 0)\n                    {\n                        now += y[j] * 2;\n                        y[j + 1] -= y[j];\n                    }\n                }\n                now += Math.Max(y[n - 1],0);\n                ret = Math.Min(ret,now);\n            }\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        static int[,,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            dp = new int[N+2,10,10];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N+1));\n        }\n\n        static int dfs(int cake, int hw1=0, int hw2=0)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 >= Datas[cake - 1] && hw2 >= Datas[cake])\n                return dfs(cake - 1, 0, hw1);\n\n            if (hw2 < Datas[cake])\n                if (cake == 1 || cake == N+1)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (dp[cake, hw1, hw2] > 0)\n                return dp[cake, hw1, hw2];\n\n            if (cake == 1 || cake == N+1)\n                return dp[cake,hw1,hw2] = Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return dp[cake,hw1,hw2] = Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\n\nnamespace _0340\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            int n = int.Parse(Console.ReadLine());\n            int[] x = Console.ReadLine().Split().Select(int.Parse).ToArray();\n            int ret = 0;\n            for (int i = 1; i < n - 1; i++)\n            {\n                ret += x[i] * 2;\n            }\n            ret += Math.Max(x[0] - x[1],0); ret += Math.Max(x[n - 1] - x[n - 2],0);\n            Console.WriteLine(ret);\n        }\n    }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 > Datas[cake] && hw2 > Datas[cake + 1])\n                return int.MaxValue-10;\n\n            if (hw2 < Datas[cake + 1])\n                if (cake == 0 || cake == N)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            //if (dp[cake,hw1] > 0)\n                //return dp[cake,hw1];\n\n            if (cake == 0 || cake == N)\n                return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        static int[,,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            dp = new int[N+2,4,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N+1, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 >= Datas[cake - 1] && hw2 >= Datas[cake])\n                return dfs(cake - 1, 0, hw1);\n\n            if (hw2 < Datas[cake])\n                if (cake == 1 || cake == N+1)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (dp[cake, hw1, hw2] > 0)\n                return dp[cake, hw1, hw2];\n\n            if (cake == 1 || cake == N+1)\n                return dp[cake,hw1,hw2] = Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return dp[cake,hw1,hw2] = Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        //static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            //dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 > Datas[cake] && hw2 > Datas[cake + 1])\n                return int.MaxValue-10;\n\n            if (hw2 < Datas[cake + 1])\n                if (cake == 0 || cake == N)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (cake == 0 || cake == N)\n                return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        //static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            //dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 >= Datas[cake] && hw2 >= Datas[cake + 1])\n                return dfs(cake - 1, 0, hw1);\n\n            if (hw2 < Datas[cake + 1])\n                if (cake == 0 || cake == N)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (cake == 0 || cake == N)\n                return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing static System.Console;\nusing static System.Convert;\nusing static System.Math;\n//using Debug;\n//using static System.Globalization.CultureInfo;\nusing System.Text;\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Solve();\n        //WriteLine(Solve());\n    }\n    static void Solve()\n    {\n        var num = Input.num;\n        var ar = Input.ar;\n        var dp = new long[num + 1, 4];\n        for (var i = 0; i <= num; i++)\n            for (var j = 0; j < 4; j++)\n                dp[i, j] = int.MaxValue;\n\n        for (var j = 0; j < 4; j++)\n            dp[0, j] = j;\n        for (var i = 1; i < num; i++)\n            for (var j = 0; j < 4; j++)\n                for (var h = 3; h >= 0 && j + h >= ar[i - 1]; h--)\n                    dp[i, j] = Min(dp[i, j], dp[i - 1, h] + 2 * j);\n        for (var j = 0; j < 4; j++)\n            for (var i = 3; i >= 0 && i + j >= ar[num - 1]; i--)\n                dp[num, j] = Min(dp[num, j], j + dp[num - 1, i]);\n        var min = long.MaxValue;\n        for (var i = 0; i < 4; i++)\n            min = Min(min, dp[num, i]);\n        WriteLine(min);\n    }\n}\n\npublic class Input\n{\n    public static string read => ReadLine().Trim();\n    public static int[] ar => read.Split(' ').Select(int.Parse).ToArray();\n    public  static int num => ToInt32(read);\n    public static long[] arL => read.Split(' ').Select(long.Parse).ToArray();\n    public  static long numL => ToInt64(read);\n    public static char[][] gred(int h) \n        => Enumerable.Repeat(0, h).Select(_ => read.ToCharArray()).ToArray();\n    public static int[][] ar2D(int num)\n        => Enumerable.Repeat(0, num).Select(_ => ar).ToArray();\n    public static long[][] arL2D(int num)\n        => Enumerable.Repeat(0, num).Select(_ => arL).ToArray();\n    public static T getValue<T>(string g)\n    {\n        var t = typeof(T);\n        if (t == typeof(int))\n            return (T)(object)int.Parse(g);\n        if (t == typeof(long))\n            return (T)(object)long.Parse(g);\n        if (t == typeof(string))\n            return (T)(object)g;\n        if (t == typeof(char))\n            return (T)(object)char.Parse(g);\n        if (t == typeof(double))\n            return (T)(object)double.Parse(g);\n        if (t == typeof(bool))\n            return (T)(object)bool.Parse(g);\n        return default(T);\n    }\n    public const long Inf = (long)1e18;\n    public const double eps = 1e-6;\n    public  const string Alfa = \"abcdefghijklmnopqrstuvwxyz\";\n    public  const int MOD = 1000000007;\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 > Datas[cake] && hw2 > Datas[cake + 1])\n                return int.MaxValue-10;\n\n            if (hw2 < Datas[cake + 1])\n                if (cake == 0 || cake == N)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (cake == 0 || cake == N)\n                return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n\nnamespace PCK2016\n{\n    class Q6\n    {\n        static int N;\n        static int[,] dp;\n        static int[] Datas;\n        static void Main()\n        {\n            N = int.Parse(Console.ReadLine());\n            dp = new int[N+2,4];\n            var buff = Console.ReadLine().Split(' ').Select(x => int.Parse(x)).ToList();\n            buff.Insert(0, 0);\n            buff.Add(0);\n            Datas = buff.ToArray();\n\n            Console.WriteLine(dfs(N, 0, 0));\n        }\n\n        static int dfs(int cake, int hw1, int hw2)\n        {\n            if (cake == 0)\n                return 0;\n\n            if (hw1 > Datas[cake] && hw2 > Datas[cake + 1])\n                return int.MaxValue-10;\n\n            if (hw2 < Datas[cake + 1])\n                if (cake == 0 || cake == N)\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 1;\n                else\n                    return dfs(cake, hw1 + 1, hw2 + 1) + 2;\n\n            if (dp[cake,hw1] > 0)\n                return dp[cake,hw1];\n\n            if (cake == 0 || cake == N)\n                return dp[cake,hw1] = Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 1, dfs(cake - 1, 0, hw1));\n\n            return dp[cake,hw1] = Math.Min(dfs(cake, hw1 + 1, hw2 + 1) + 2, dfs(cake - 1, 0, hw1));\n        }\n    }\n}"
  },
  {
    "language": "Ruby",
    "code": "n = gets.to_i\na = gets.split.map(&:to_i)\nh = {}\n(0..a[0]).each {|i| h[i] = a[0] - i}\na[1..-1].each do |c|\n    new_h = Hash.new(Float::INFINITY)\n    h.each do |r, m|\n        if r > c\n            k = m + 2 * r\n            new_h[0] = k if k < new_h[0]\n        else\n            (r..c).each do |t|\n                k = m + 2 * t\n                new_h[c-t] = k if k < new_h[c-t]\n            end\n        end\n    end\n    h = new_h\nend\np h.map {|r, m| r + m}.min\n"
  },
  {
    "language": "Ruby",
    "code": "N = gets.to_i\np = gets.split.map &:to_i\n\np((p.first + 1).times.map{|i|\n  q = p.dup\n  sum = i\n  q[0] -= i\n  until q.size == 1\n    sum += [0, q[0]].max * 2\n    q[1] -= [0, q[0]].max\n    q.shift\n  end\n  sum + [0, q[0]].max\n}.min)"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(len(hill)-1):\n        if hill[i] > 0 and hill[i+1] >0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2\n    \n    return (hill, c)\n\ndef finalize(hill):\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "def solve():\n    from sys import stdin\n    f_i = stdin\n    \n    N = int(f_i.readline())\n    P = list(map(int, f_i.readline().split()))\n    left = P[0]\n    \n    ans = N * 6\n    for i in range(left + 1):\n        tP = P[:]\n        tP[0] -= i\n        t_ans = i\n        for j in range(N - 1):\n            tpj = tP[j]\n            if tpj > 0:\n                tP[j + 1] -= tpj\n                t_ans += 2 * tpj\n        if tP[-1] > 0:\n            t_ans += tP[-1]\n        if t_ans < ans:\n            ans = t_ans\n    \n    print(ans)\n\nsolve()\n"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2 * scraped\n\n    i = 0\n    if hill[i] > 0 and hill[i+1] > 0:\n        scraped = min(hill[i], hill[i+1])\n        hill[i] -= scraped\n        hill[i+1] -= scraped\n        c += 2 * scraped\n\n    return (hill, c)\n\ndef finalize(hill):\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(len(hill)-1):\n        if hill[i] > 0 and hill[i+1] >0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2\n    \n    return (hill, c)\n\ndef finalize(hill):\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2\n\n    if c == 0:\n        i = 0\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2\n\n    return (hill, c)\n\ndef finalize(hill):\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    count = 0\n    while any([x > 0 for x in hill]):\n        hill, c = step(hill)\n        count += c\n        # print(count, hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    highest = max(hill)\n    for (i, _) in ((i, x) for (i, x) in enumerate(hill) if x == highest):\n        if 0 < i < len(hill)-1:\n            if hill[i] % 2 == hill[i-1] % 2:\n                hill[i-1] -= 1\n            elif hill[i] % 2 == hill[i+1] % 2:\n                hill[i+1] -= 1\n            else:\n                if hill[i-1] > hill[i+1]:\n                    hill[i-1] -= 1\n                else:\n                    hill[i+1] -= 1\n            hill[i] -= 1\n            c += 2\n\n        elif i == 0:\n            if hill[1] > 0:\n                hill[1] -= 1\n                c += 1\n            hill[0] -= 1\n            c += 1\n\n        elif i == len(hill) - 1:\n            if hill[-2] > 0:\n                hill[-2] -= 1\n                c += 1\n            hill[-1] -= 1\n            c += 1\n\n        else:\n            raise Exception(\"unreachable\")\n\n    return (hill, c)\n\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2 * scraped\n\n    i = 0\n    if hill[i] > 0 and hill[i+1] > 0:\n        scraped = min(hill[i], hill[i+1])\n        hill[i] -= scraped\n        hill[i+1] -= scraped\n        c += 2 * scraped\n\n    return (hill, c)\n\ndef finalize(hill):\n    assert(hill[0] == 0 or hill[1] == 0)\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "n = int(input())\n*P, = map(int, input().split())\nmemo = {(n-1, i): i for i in range(P[-1]+1)}\ndef dfs(pos, t):\n    if (pos, t) in memo:\n        return memo[pos, t]\n    res = memo[pos, t] = dfs(pos+1, max(0, P[pos+1]-t)) + t*2\n    return res\nprint(min(dfs(0, P[0]-i)+i for i in range(P[0]+1)))"
  },
  {
    "language": "Python",
    "code": "import sys\nsys.setrecursionlimit(10**6)\nn = int(input())\n*P, = map(int, input().split())\nmemo = {(n-1, i): i for i in range(P[-1]+1)}\ndef dfs(pos, t):\n    if (pos, t) in memo:\n        return memo[pos, t]\n    res = memo[pos, t] = dfs(pos+1, max(0, P[pos+1]-t)) + t*2\n    return res\nprint(min(dfs(0, P[0]-i)+i for i in range(P[0]+1)))"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2 * scraped\n\n    i = 0\n    if hill[i] > 0 and hill[i+1] > 0:\n        scraped = min(hill[i], hill[i+1])\n        hill[i] -= scraped\n        hill[i+1] -= scraped\n        c += 2 * scraped\n\n    return (hill, c)\n\ndef finalize(hill):\n    assert(hill[1] == 0)\n    assert(hill[-2] == 0)\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "n = int(input())\npancake = list(map(int, input().split()))\n\nans = 10**9\nfor i in range(4):\n    cnt = [0] * n\n    cnt[0] += i\n    for j in range(n-1):\n        diff = pancake[j] - cnt[j]\n        if diff > 0:\n            cnt[j] += diff\n            cnt[j+1] += diff\n    diff = pancake[n-1] - cnt[n-1]\n    if diff > 0:\n        cnt[n-1] += diff\n\n    if ans > sum(cnt):\n        ans = sum(cnt)\n\nprint(ans)\n\n"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    count = 0\n    while any([x > 0 for x in hill]):\n        hill, c = step(hill)\n        count += c\n        # print(count, hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    highest = max(hill)\n    i = hill.index(highest)\n\n    if 0 < i < len(hill)-1:\n        if hill[i] % 2 == hill[i-1] % 2:\n            hill[i-1] -= 1\n        elif hill[i] % 2 == hill[i+1] % 2:\n            hill[i+1] -= 1\n        else:\n            if hill[i-1] > hill[i+1]:\n                hill[i-1] -= 1\n            else:\n                hill[i+1] -= 1\n        hill[i] -= 1\n        c += 2\n\n    elif i == 0:\n        if hill[1] > 0:\n            hill[1] -= 1\n            c += 1\n        hill[0] -= 1\n        c += 1\n\n    elif i == len(hill) - 1:\n        if hill[-2] > 0:\n            hill[-2] -= 1\n            c += 1\n        hill[-1] -= 1\n        c += 1\n\n    else:\n        raise Exception(\"unreachable\")\n\n    return (hill, c)\n\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "N=int(input())\np=list(map(int,input().split()))\nans=0\nfor i in range(0,N-1,1):\n    if p[i]>=0:\n        if i==0 and p[0]>p[1]:\n            ans += (p[0]-p[1])*2\n            p[1] = 0\n            continue\n        ans+=p[i]*2\n        p[i+1]-=p[i]\nif p[N-1]>=0:\n    ans+=p[N-1]\nprint(ans)"
  },
  {
    "language": "Python",
    "code": "N=int(input())\np=list(map(int,input().split()))\nans=0\nfor i in range(0,N-1,1):\n    if p[i]>=0:\n        if i==0 and p[0]>p[1]:\n            ans += p[1]*2\n            p[0] -= p[1]\n            p[1] = 0\n            ans += p[0]\n            continue\n        ans+=p[i]*2\n        p[i+1]-=p[i]\nif p[N-1]>=0:\n    ans+=p[N-1]\nprint(ans)"
  },
  {
    "language": "Python",
    "code": "N=int(input())\nP=list(map(int,input().split()))\n\nP=P+[0]\n\ncnt=0\nfor i in range(N):\n    cnt+=P[i]*2\n    P[i+1]=max(0,P[i+1]-P[i])\n    #print(P)\nprint(cnt)\n"
  },
  {
    "language": "Python",
    "code": "N=int(input())\np=list(map(int,input().split()))\nans=0\nfor i in range(0,N-1,1):\n    if p[i]>=0:\n        ans+=p[i]*2\n        p[i+1]-=p[i]\nif p[N-1]>=0:\n    ans+=p[N-1]\nprint(ans)"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2 * scraped\n\n    i = 0\n    if hill[i] > 0 and hill[i+1] > 0:\n        scraped = min(hill[i], hill[i+1])\n        hill[i] -= scraped\n        hill[i+1] -= scraped\n        c += 2\n\n    return (hill, c)\n\ndef finalize(hill):\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "n = int(input())\n*P, = map(int, input().split())\nans = 0\nif P[0] > 0 and P[1] > 0:\n    t = min(P[0], P[1])\n    ans += t*2\n    P[0] -= t\n    P[1] -= t\nfor i in range(1, n-1):\n    if P[i] > 0:\n        ans += P[i]*2\n        P[i+1] -= P[i]\n        P[i] = 0\nif P[0] > 0:\n    ans += P[0]; P[0] = 0\nif P[-1] > 0:\n    ans += P[-1]; P[-1] = 0\nprint(ans)"
  },
  {
    "language": "Python",
    "code": "n = int(input())\n*P, = map(int, input().split())\nans = 0\nif P[0] > 0 and P[1] > 0:\n    t = min(P[0], P[1])\n    ans += t*2\n    P[0] -= t\n    P[1] -= t\nfor i in range(1, n-1):\n    if P[i] > 0:\n        ans += P[i]*2\n        P[i+1] -= P[i]\n        P[i] = 0\nif P[0] > 0:\n    ans += P[0]; P[0] = 0\nif P[-1] > 0:\n    ans += P[-1]; P[-1] = 0\nprint(ans, P)"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    length = int(input())\n    hill = [int(x) for x in input().split()]\n    count = 0\n    while any([x > 0 for x in hill]):\n        hill, c = step(hill)\n        count += c\n        # print(count, hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    highest = max(hill)\n    for (i, _) in ((i,x) for (i, x) in enumerate(hill) if x == highest):\n        if 0 < i < len(hill)-1:\n            if hill[i-1] > hill[i+1]:\n                hill[i-1] -= 1\n            else:\n                hill[i+1] -= 1\n            hill[i] -= 1\n            c += 2\n\n        elif i == 0:\n            if hill[1] > 0:\n                hill[1] -= 1\n                c += 1\n            hill[0] -= 1\n            c += 1\n\n        elif i == len(hill) - 1:\n            if hill[-2] > 0:\n                hill[-2] -= 1\n                c += 1\n            hill[-1] -= 1\n            c += 1\n\n        else:\n            raise Exception(\"unreachable\")\n                            \n    return (hill, c)\n            \n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2 * scraped\n\n    i = 0\n    if hill[i] > 0 and hill[i+1] > 0:\n        scraped = min(hill[i], hill[i+1])\n        hill[i] -= scraped\n        hill[i+1] -= scraped\n        c += 2 * scraped\n\n    return (hill, c)\n\ndef finalize(hill):\n    assert(hill[1] == 0)\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  },
  {
    "language": "Python",
    "code": "N=int(input())\np=list(map(int,input().split()))\nans=0\nfor i in range(0,N-1,1):\n    if p[i]>=0:\n        if i==0 and p[1]==0:\n            ans += p[i]\n            continue\n        ans+=p[i]*2\n        p[i+1]-=p[i]\nif p[N-1]>=0:\n    ans+=p[N-1]\nprint(ans)"
  },
  {
    "language": "Python",
    "code": "'''aizu 0340\nhttp://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0340\n'''\n# encoding: 'utf-8'\n\ndef main():\n    input()\n    hill = [int(x) for x in input().split()]\n    _hill = [0] * len(hill)\n    count = 0\n    while hill != _hill:\n        # print(count, hill)\n        _hill = hill\n        hill, c = step(hill)\n        count += c\n    count += finalize(hill)\n    print(count)\n\ndef step(hill):\n    c = 0\n    for i in range(1, len(hill)-1):\n        if hill[i] > 0 and hill[i+1] > 0:\n            scraped = min(hill[i], hill[i+1])\n            hill[i] -= scraped\n            hill[i+1] -= scraped\n            c += 2\n\n    i = 0\n    if hill[i] > 0 and hill[i+1] > 0:\n        scraped = min(hill[i], hill[i+1])\n        hill[i] -= scraped\n        hill[i+1] -= scraped\n        c += 2\n\n    return (hill, c)\n\ndef finalize(hill):\n    c = hill[0] + hill[-1] + sum(hill[1:-1])*2\n    return c\n\nif __name__ == '__main__':\n    main()"
  }
]