There are 3^N people dancing in a circle. Each position in the circle is initially occupied by one person. When a salsa song is played, a person at position i moves to position j, where j is determined by switching all digits 1 with 2 and all digits 2 with 1 when reading i in base 3. When a rumba is played, a person at position i moves to position i+1, with 3^N considered as position 0. Given a string T of songs (where 'S' is salsa and 'R' is rumba), compute the final positions of the people after all songs have been played.