[
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n\nint col[]={0,-1,0,1,-1,0,1,-1,0,1};\nbool ok(int left,int right){\n  return col[left]<=col[right];\n}\ntypedef vector<vvi> vvvi;\ntypedef vector<vvvi> vvvvi;\nint main(){\n  string s;\n  while(cin>>s,s!=\"#\"){\n    int n=s.size();\n    vvvvi dp(n+1,vvvi(10,vvi(10,vi(2,INT_MAX/10))));\n    REP(j,10){\n      REP(k,10){\n        REP(l,2){\n          dp[0][j][k][l]=0;\n        }\n      }\n    }\n    REP(i,n){\n      REP(j,10){\n        REP(k,10){\n          int p=s[i]-'0';\n          if(ok(p,k)){\n            REP(l,2){\n              dp[i+1][p][k][0]=min(dp[i+1][p][k][0],dp[i][j][k][l]+(l==0));\n            }\n          }\n          if(ok(j,p)){\n            REP(l,2){\n              dp[i+1][j][p][1]=min(dp[i+1][j][p][1],dp[i][j][k][l]+(l==1));\n            }\n          }\n        }\n      }\n    }\n    int ans=INT_MAX;\n    /*\n    REP(i,n+1){\n      REP(j,10){\n        REP(k,10){\n          REP(l,2){\n            cerr<<i<<\" \"<<j<<\" \"<<k<<\" \"<<l<<\" \"<<dp[i][j][k][l]<<endl;\n          }\n        }\n      }\n    }\n    */\n    REP(j,10){\n      REP(k,10){\n        REP(l,2){\n          ans=min(ans,dp[n][j][k][l]);\n        }\n      }\n    }\n    cout<<ans<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint tra(int a)\n{\n    if(a==1||a==4||a==7)\n        return 1;\n    if(a==2||a==8)\n        return 2;\n    if(a==3||a==6||a==9)\n        return 3;\n}\nint main()\n{\n    char str[100001];\n    int number[100001];\n\n    while(cin>>str)\n    {\n        int min=99999999;\n        if(str[0]=='#')\n            break;\n        int len=strlen(str);\n            for(int i=0; i<len; i++)\n            {\n                number[i]=tra(str[i]-'0');\n            }\n            for(int l=1; l<=3; l++)\n            {\n                if(l==number[0])\n                {\n                    continue;\n                }\n                for(int r=1; r<=3; r++)\n                {\n                    if(r==5||l==r||tra(l)>tra(r)||l==number[0]||r==number[0])\n                    {\n                        continue;\n                    }\n                    for(int j=0; j<2; j++)\n                    {\n                        int flag=j;\n                        int left=tra(l);\n                        int right=tra(r);\n                        int num1=0;\n                        for(int i=0; i<len; i++)\n                        {\n                            int tmp=number[i];\n                            if(!flag)\n                            {\n                                if(tmp<=right)\n                                {\n                                    flag=1;\n                                    left=tmp;\n                                }\n                                else\n                                {\n                                    right=tmp;\n                                    num1++;\n                                }\n                            }\n                            else\n                            {\n                                if(left<=tmp)\n                                {\n                                    flag=0;\n                                    right=tmp;\n                                }\n                                else\n                                {\n                                    left=tmp;\n                                    num1++;\n                                }\n                            }\n                        }\n                        if(min>num1)\n                        {\n                            min=num1;\n                        }\n\n                    }\n                    printf(\"%d\\n\",min);\n                }\n            }\n        }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<=size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\tans=min(step(str[a]%3,0,0),step(0,str[a]%3,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n  int dp[2][2],n,prv,now,id,nxt;\n  string s;\n  std::ios::sync_with_stdio(0);\n  while(cin >> s,s!=\"#\"){\n    n = s.size();\n    dp[1][0] = dp[1][1] = 0; prv = s[0]-'1';\n    \n    for(int i=1;i<n;i++){\n      id = i&1, nxt = 1-id;\n      now = s[i]-'1';\n      if(prv%3 == now%3){\n\tdp[nxt][0] = dp[id][1]; dp[nxt][1] = dp[id][0];\n      }else if(prv%3 < now%3){\n\tdp[nxt][0] = dp[id][0] + 1;\n\tdp[nxt][1] = dp[id][0];\n      }else{\n\tdp[nxt][0] = dp[id][1];\n\tdp[nxt][1] = dp[id][1] + 1;\n      }\n      prv = now;\n    }\n    cout << std::min(dp[n&1][0],dp[n&1][1]) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\n#define INF (1e9)\nusing namespace std;\n\nint main(){\n  int d[10]={0,0,1,2,0,-1,2,0,1,2},cnt,ans,c;\n  string s;\n  while(1){\n    cin>>s;\n    if(s==\"#\") break;\n    ans=INF;\n    for(int i=0;i<2;i++){\n      c=i;\n      cnt=0;\n      for(int j=1;j<s.size();j++){\n\tint k=s[j-1]-'0',t=s[j]-'0';\n\tif((!c&&d[k]>d[t])||(c&&d[k]<d[t])) cnt++;\n\telse c=!c;\n      }\n      ans=min(ans,cnt);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n\nusing namespace std;\n\nmap<char, int> step;\n\nvoid Init()\n{\n    step['1'] = 0;\n    step['2'] = 1;\n    step['3'] = 2;\n    step['4'] = 0;\n    step['6'] = 2;\n    step['7'] = 0;\n    step['8'] = 1;\n    step['9'] = 2;\n}\n\nint Solve(string s)\n{\n    const int N = s.size();\n    if (N == 2)\n        return 0;\n\n    int cnt1 = 0;  // left -> right\n    bool left1 = true;\n    int cnt2 = 0;  // right -> left\n    bool left2 = false;\n\n    for (int i = 1; i < N; ++i) {\n        if (left1) {\n            if (step[s[i - 1]] < step[s[i]])\n                ++cnt1;\n            else\n                left1 = false;\n        }\n        else {\n            if (step[s[i]] < step[s[i - 1]])\n                ++cnt1;\n            else\n                left1 = true;\n        }\n        if (left2) {\n            if (step[s[i - 1]] < step[s[i]])\n                ++cnt2;\n            else\n                left2 = false;\n        }\n        else {\n            if (step[s[i]] < step[s[i - 1]])\n                ++cnt2;\n            else\n                left2 = true;\n        }\n    }\n\n    return min(cnt1, cnt2);\n}\n\nint main()\n{\n    string s;\n\n    Init();\n\n    while (cin >> s) {\n        if (s == \"#\")\n            break;\n\n        cout << Solve(s) << '\\n';\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring music;\n\nint footstep(int idx, int foot, int left, int right)\n{\n  if(idx == music.size()) return 0;\n  int step = ((music[idx]-'0')-1) % 3;\n  int miss = 0;\n  if(foot == 0){\n    if(step <= right) miss = footstep(idx+1, 1, step, right);\n    else miss = footstep(idx+1, 0, left, step) + 1;\n  } else if(foot == 1){\n    if(step >= left) miss = footstep(idx+1, 0, left, step);\n    else miss = footstep(idx+1, 1, step, right) + 1;\n  }\n  return miss;\n}\n\nint main()\n{\n  while(cin >> music, music != \"#\"){\n    cout << min(footstep(0, 0, -1, 3), footstep(0, 1, -1, 3)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n\nusing namespace std;\n\nbool isLeft(int a, int b){ // b is left side to a\n  if(a==9||a==6||a==3)return true;\n  else if(a==8||a==2){\n    if(b==8||b==2||b==7||b==4||b==1)\n      return true;\n    return false;\n  }else if(a==7||a==4||a==1){\n    if(b==7||b==4||b==1)\n      return true;\n    return false;\n  }\n  return false;\n}\n\nbool isRight(int a, int b){ // b is right side to a\n  if(a==7||a==4||a==1)return true;\n  else if(a==8||a==2){\n    if(b==8||b==2||b==9||b==6||b==3)\n      return true;\n    return false;\n  }else if(a==9||a==6||a==3){\n    if(b==9||b==6||b==3)\n      return true;\n    return false;\n  }\n  return false;\n}\n\nint minimumStep(const vector<int> &t, int st){\n  int left=7;\n  int right=9;\n  int ret=0;\n  \n  if(st==0){\n    left=t.front();\n  }else{\n    right=t.front();\n  }\n  \n  for(int now=1;now<(int)t.size();++now){\n    if(st==0){\n      if(isRight(left,t[now])){\n\tright=t[now];\n\tst=1;\n      }else{\n\tleft=t[now];\n\t++ret;\n      }\n    }else{\n      if(isLeft(right,t[now])){\n\tleft=t[now];\n\tst=0;\n      }else{\n\tright=t[now];\n\t++ret;\n      }\n    }\n  }\n  return ret;\n}\n\nint main()\n{\n  while(true){\n    string s;\n    cin >> s;\n    if(s==\"#\")break;\n    \n    vector<int> v;\n    for(int i = 0; i < (int)s.length(); ++i){\n      v.push_back( s[i]-'0' );\n    }\n\n    int res = v.size()+1;\n    res = min( res, minimumStep(v,0) );\n    res = min( res, minimumStep(v,1) );\n    cout << res << endl;\n   \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\n#include<cstring>\n#include<queue>\n#include<stack>\n\nusing namespace std;\n\n#define INF 999999999\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\nint dp[10][10][2][2];\n\nint main(){\n\tint i, j, k, l;\n\tint ans;\n\tstring in;\n\tint di[2][2] = {{1,0},{0,1}};\n\t//cout << in.max_size();\n\twhile(1){\n\t\tcin >> in;\n\t\tif(in[0]=='#') break;\n\t\tREP(a,10)REP(b,10)REP(c,2)REP(d,2)dp[a][b][c][d]=INF;\n\t\tdp[5][5][0][0] = 0;\n\t\tdp[5][5][1][0] = 0;\n\t\tREP(e,in.size()){\n\t\t\t/*\n\t\t\tfor(i=1;i<=9;i++){\n\t\t\t\tfor(j=1;j<=9;j++){\n\t\t\t\t\tif(dp[i][j][0][0]==INF) cout << \"-1 \";\n\t\t\t\t\telse cout << dp[i][j][0][0] << \" \";\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\tfor(i=1;i<=9;i++){\n\t\t\t\tfor(j=1;j<=9;j++){\n\t\t\t\t\tif(dp[i][j][1][0]==INF) cout << \"-1 \";\n\t\t\t\t\telse cout << dp[i][j][1][0] << \" \";\n\t\t\t\t}\n\t\t\t\tcout << endl;\n\t\t\t}\n\t\t\tcout << endl;\n\t\t\t*/\n\t\t\tint s = in[e] - '0';\n\t\t\tfor(i=1;i<=9;i++)for(j=1;j<=9;j++)REP(c,2){\n\t\t\t\tif(dp[i][j][c][0]!=INF){\n\t\t\t\t\tif(i==s)\n\t\t\t\t\tdp[s][j][0][1] = min(dp[s][j][0][1],dp[i][j][c][0]+di[c][0]);\n\t\t\t\t\tif(j==s)\n\t\t\t\t\tdp[i][s][1][1] = min(dp[i][s][1][1],dp[i][j][c][0]+di[c][1]);\n\t\t\t\t\tif(i==5)\n\t\t\t\t\tdp[i][s][1][1] = min(dp[i][s][1][1],dp[i][j][c][0]+di[c][1]);\n\t\t\t\t\tif(j==5)\n\t\t\t\t\tdp[s][j][0][1] = min(dp[s][j][0][1],dp[i][j][c][0]+di[c][0]);\n\t\t\t\t\tif(i!=s&&i!=5&&(i-1)%3<=(s-1)%3)\n\t\t\t\t\tdp[i][s][1][1] = min(dp[i][s][1][1],dp[i][j][c][0]+di[c][1]);\n\t\t\t\t\tif(j!=s&&j!=5&&(s-1)%3<=(j-1)%3)\n\t\t\t\t\tdp[s][j][0][1] = min(dp[s][j][0][1],dp[i][j][c][0]+di[c][0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tREP(a,10)REP(b,10)REP(c,2){\n\t\t\t\tdp[a][b][c][0]=dp[a][b][c][1];\n\t\t\t\tdp[a][b][c][1]=INF;\n\t\t\t}\n\t\t}\n\t\tans = INF;\n\t\tfor(i=1;i<=9;i++)for(j=1;j<=9;j++)REP(c,2){\n\t\t\tif(dp[i][j][c][0] < ans)ans = dp[i][j][c][0];\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#include <iostream>\n#include <math.h>\n#include <assert.h>\n#include <vector>\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\nstatic const double EPS = 1e-9;\nstatic const double PI = acos(-1.0);\n\n#define REP(i, n) for (int i = 0; i < (int)(n); i++)\n#define FOR(i, s, n) for (int i = (s); i < (int)(n); i++)\n#define FOREQ(i, s, n) for (int i = (s); i <= (int)(n); i++)\n#define FORIT(it, c) for (__typeof((c).begin())it = (c).begin(); it != (c).end(); it++)\n#define MEMSET(v, h) memset((v), h, sizeof(v))\n\nchar seq[1000000];\nint dp[2][2][3][3];\n\ninline bool valid(int l, int r) { return l <= r; }\ninline int X(int index) { return (seq[index] - '1') % 3; }\n\nint main() {\n  while (gets(seq), seq[0] != '#') {\n    int len = strlen(seq);\n    MEMSET(dp, 0x00);\n    REP(i, 2) REP(j, 3) REP(k, 3) { if (!valid(j, k)) { dp[0][i][j][k] = 1 << 30; } }\n    REP(iter, len) {\n      int prev = iter & 1;\n      int next = prev ^ 1;\n      MEMSET(dp[next], 0x0f);\n      int nx = X(iter);\n      REP(lx, 3) {\n        REP(rx, 3) {\n          if (!valid(lx, rx)) { continue; }\n          if (valid(nx, rx)) {\n            dp[next][0][nx][rx] = min(dp[next][0][nx][rx], dp[prev][0][lx][rx] + 1);\n            dp[next][0][nx][rx] = min(dp[next][0][nx][rx], dp[prev][1][lx][rx]);\n          }\n          if (valid(lx, nx)) {\n            dp[next][1][lx][nx] = min(dp[next][1][lx][nx], dp[prev][0][lx][rx]);\n            dp[next][1][lx][nx] = min(dp[next][1][lx][nx], dp[prev][1][lx][rx] + 1);\n          }\n        }\n      }\n    }\n    int ans = 1 << 30;\n    REP(i, 2) REP(j, 3) REP(k, 3) { ans = min(ans, dp[len & 1][i][j][k]); }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(gets(c)){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\trep2(i,1,strlen(c)+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[strlen(c)%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i, n) for(int i=0; i<(n); ++i)\n\nint solve(string& s, char foot){\n    int l = 0, r = 10, res = 0;\n    rep(i, (int)s.size()){\n        int now = s[i] - '0';\n        while(3 < now)now -= 3;\n        if(foot == 'R'){\n            if(r < now)r = now, res++;\n            else l = now, foot = 'L';\n        }\n        else{\n            if(now < l)l = now, res++;\n            else r = now, foot = 'R';\n        }\n    }\n    return res;\n}\n\nint main(){\n    for(string in; cin >> in, in != \"#\";){\n        cout << min(solve(in, 'L'), solve(in, 'R')) << '\\n';\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpl(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << endl << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\n\n// ostreams {{{\n// complex\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n\n// pair\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\n\n// vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector<T>& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i]; if (i < len - 1) s << \"\\t\";\n\t}\n\treturn s;\n}\n\n// 2 dimentional vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector< vector<T> >& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i] << endl;\n\t}\n\treturn s;\n}\n\n// map\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const map<T1, T2>& m) {\n\ts << \"{\" << endl;\n\tfor (typeof(m.begin()) itr = m.begin(); itr != m.end(); ++itr) {\n\t\ts << \"\\t\" << (*itr).first << \" : \" << (*itr).second << endl;\n\t}\n\ts << \"}\" << endl;\n\treturn s;\n}\n// }}}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// input and output {{{\ninline void input(string filename) {\n\tfreopen(filename.c_str(), \"r\", stdin);\n}\ninline void output(string filename) {\n\tfreopen(filename.c_str(), \"w\", stdout);\n}\n// }}}\n// }}}\n\n// Header under development {{{\n\nint LCM(int a, int b) {\n\t// FIXME\n\treturn a * b;\n}\n\n// Fraction class {{{\n// ref: http://martin-thoma.com/fractions-in-cpp/\nclass Fraction {\n\tpublic:\n\t\tULL numerator;\n\t\tULL denominator;\n\t\tFraction(ULL _numerator, ULL _denominator) {\n\t\t\tassert(_denominator > 0);\n\t\t\tnumerator = _numerator;\n\t\t\tdenominator = _denominator;\n\t\t};\n\n\t\tFraction operator*(const ULL rhs) {\n\t\t\treturn Fraction(this->numerator * rhs, this->denominator);\n\t\t};\n\n\t\tFraction operator*(const Fraction& rhs) {\n\t\t\treturn Fraction(this->numerator * rhs.numerator, this->denominator * rhs.denominator);\n\t\t}\n\n\t\tFraction operator+(const Fraction& rhs) {\n\t\t\tULL lcm = LCM(this->denominator, rhs.denominator);\n\t\t\tULL numer_lhs = this->numerator * (this->denominator / lcm);\n\t\t\tULL numer_rhs = rhs.numerator * (rhs.numerator / lcm);\n\t\t\treturn Fraction(numer_lhs + numer_rhs, lcm);\n\t\t}\n\n\t\tFraction& operator+=(const Fraction& rhs) {\n\t\t\tFraction result = (*this) + rhs;\n\t\t\tthis->numerator = result.numerator;\n\t\t\tthis->denominator = result.denominator;\n\t\t\treturn *this;\n\t\t}\n};\n\nstd::ostream& operator<<(std::ostream &s, const Fraction &a) {\n\tif (a.denominator == 1) {\n\t\ts << a.numerator;\n\t} else {\n\t\ts << a.numerator << \"/\" << a.denominator;\n\t}\n\treturn s;\n}\n\n// }}}\n\n// }}}\n\nbool opt_debug = false;\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\t// input(\"./inputs/0.txt\");\n\t// output(\"./outputs/0.txt\");\n\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\tVI steps;\n\t\tREP (i, s.length()) {\n\t\t\tsteps.PB(s[i] - '0');\n\t\t}\n\n\t\tint len = steps.size();\n\t\ttypedef vector<VVI> VVVI;\n\t\ttypedef vector<VVVI> VVVVI;\n\t\tVVVVI dp(2, VVVI(10, VVI(10, VI(2, INF))));\n\n\t\tREP (i, 10) {\n\t\t\tREP (j, 10) {\n\t\t\t\tREP (k, 2) {\n\t\t\t\t\tdp[0][i][j][k] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tenum {\n\t\t\tLEFT,\n\t\t\tRIGHT\n\t\t};\n\n\t\tFOR (turn, 1, len+1) {\n\t\t\tFOR (left, 1, 10) {\n\t\t\t\tif (left == 5) { continue; }\n\t\t\t\tFOR (right, 1, 10) {\n\t\t\t\t\tif (right == 5) { continue; }\n\t\t\t\t\tif ((left + 2) % 3 > (right + 2) % 3) { continue; } // crossing legs\n\n\t\t\t\t\t// move left foot\n\t\t\t\t\tFOR (prev_left, 1, 10) {\n\t\t\t\t\t\tif (left != steps[turn-1]) { break; }\n\t\t\t\t\t\tdp[1][left][right][LEFT] = min(dp[1][left][right][LEFT], dp[0][prev_left][right][RIGHT]);\n\t\t\t\t\t\tdp[1][left][right][LEFT] = min(dp[1][left][right][LEFT], dp[0][prev_left][right][LEFT] + 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t// move right foot\n\t\t\t\t\tFOR (prev_right, 1, 10) {\n\t\t\t\t\t\tif (right != steps[turn-1]) { break; }\n\t\t\t\t\t\tdp[1][left][right][RIGHT] = min(dp[1][left][right][RIGHT], dp[0][left][prev_right][LEFT]);\n\t\t\t\t\t\tdp[1][left][right][RIGHT] = min(dp[1][left][right][RIGHT], dp[0][left][prev_right][RIGHT] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tFOR (left, 1, 10) {\n\t\t\t\tFOR (right, 1, 10) {\n\t\t\t\t\tREP (moved, 2) {\n\t\t\t\t\t\tdp[0][left][right][moved] = dp[1][left][right][moved];\n\t\t\t\t\t\tdp[1][left][right][moved] = INF;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint ans = INF;\n\t\tFOR (left, 1, 10) {\n\t\t\tFOR (right, 1, 10) {\n\t\t\t\tREP (moved, 2) {\n\t\t\t\t\tans = min(ans, dp[0][left][right][moved]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-8;\n\n//dp[prev,now][left_state][right_state][prev_foot_side]\nint prev[10][10][2];\nint next[10][10][2];\n\nconst int gHorizonalPos[] = {\n  -1//none\n  ,0//1->0\n  ,1//2->1\n  ,2//3->2\n  ,0//4->0\n  ,-1//5->-1(none)\n  ,2//6->2\n  ,0//7->0\n  ,1//8->1\n  ,2//9->2\n};\n\nint CalcCost(int prev_left_state,int prev_right_state,int next_step_state,\n\t     int next_foot_side,int prev_foot_side){\n  if(prev_foot_side == next_foot_side) return 1;\n\n  int LHpos = gHorizonalPos[prev_left_state];\n  int RHpos = gHorizonalPos[prev_right_state];\n  int NHpos = gHorizonalPos[next_step_state];\n\n  //next_foot_side := 0(left)\n  if(next_foot_side == 0){\n    if(RHpos == -1) return 0;\n    return RHpos < NHpos ? 1 : 0;\n  }\n  //next_foot_side := 1(right)\n  else if(next_foot_side == 1){\n    if(LHpos == -1) return 0;\n    return NHpos < LHpos ? 1 : 0;\n  }\n}\n\nint ComputeLeastCost(){\n  int res = INF;\n  for(int left_state=0;left_state<10;left_state++){\n    if(left_state == 5) continue;\n    for(int right_state=0;right_state<10;right_state++){\n    if(right_state == 5) continue;\n      for(int foot_side=0;foot_side<2;foot_side++){\n\tres = min(res,next[left_state][right_state][foot_side]);\n      }\n    }\n  }\n  return res;\n}\n\nvoid debug(int next_step_pos,int turn){\n  printf(\"turn:%d target:%d\\n\",turn,next_step_pos);\n  for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n    if(prev_left_state == 5) continue;\n    for(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n      if(prev_right_state == 5) continue;\n      for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\tprintf(\"calc_cost %d ,\",CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,1));\n\tprintf(\"turn %d, left_state %d,right_state %d,foot_side %d,val %d\\n\",\n\t       turn,\n\t       prev_left_state,\n\t       prev_right_state,\n\t       next_foot_side,\n\t       next[prev_left_state][prev_right_state][next_foot_side]);\n      }\n    }\n  }\n\n  printf(\"\\n\");\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str.size() == 1 && str[0] == '#') break;\n\n    memset(prev,0x3f,sizeof(prev));\n    memset(next,0x3f,sizeof(next));\n    prev[0][0][0] = 0;\n    prev[0][0][1] = 0;\n    for(int turn=0;turn < str.size(); turn++){\n      memset(next,0x3f,sizeof(next));\n      int next_step_pos = str[turn]-'0';\n      for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n\tif(prev_left_state == 5) continue;\n\tfor(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n\t  if(prev_right_state == 5) continue;\n\t  for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\t    for(int prev_foot_side = 0;prev_foot_side<2;prev_foot_side++){\n\t      //dp[prev,now][left_state][right_state][prev_foot_side]\n\n\t      int cost = CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t  next_step_pos,next_foot_side,prev_foot_side);\n\n\t      if(next_foot_side == 0){\n\t\tnext[next_step_pos][prev_right_state][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t  +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t   next[next_step_pos][prev_right_state][next_foot_side]);\n\t      }\n\n\t      else{\n\t\tnext[prev_left_state][next_step_pos][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t  next[prev_left_state][next_step_pos][next_foot_side]);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n\n      memcpy(prev,next,sizeof(next));\n\n      // debug(next_step_pos,turn);\n    }\n    printf(\"%d\\n\",ComputeLeastCost());\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <map>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <vector>\n\n#define repi(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,a) repi(i,0,a)\n#define repd(i,a,b) for(int i=(a);i>=(b);i--)\n#define repit(i,a) for(__typeof((a).begin()) i=(a).begin();i!=(a).end();i++)\n\n#define all(u) (u).begin(),(u).end()\n#define rall(u) (u).rbegin(),(u).rend()\n#define UNIQUE(u) (u).erase(unique(all(u)),(u).end())\n\n#define pb push_back\n#define mp make_pair\n#define INF 1e9\n#define EPS 1e-9\n#define PI acos(-1.0)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\n\nstring s;\n\nstruct node{\n    int step;\n    int cst;\n    int lr;\n    bool operator<(const node &o) const{\n\treturn cst > o.cst;\n    }\n};\nbool done[100005][2];\nint main()\n{\n    while(cin >> s, s != \"#\") {\n\tvector<int> v;\n\trep(i, s.size()) v.pb(s[i]-'0'-1);\n\tpriority_queue<node> pq;\n\tpq.push((node){0, 0, 0});\n\tpq.push((node){0, 0, 1});\n\tmemset(done, 0, sizeof(done));\n\tint ans = 10000000;\n\twhile(!pq.empty()) {\n\t    int step = pq.top().step;\n\t    int cst = pq.top().cst;\n\t    int lr = pq.top().lr;\n\t    pq.pop();\n\t    if(done[step][lr]) continue;\n\t    done[step][lr] = true;\n\t    if(step == s.size()-1) {\n\t\tans = min(ans, cst);\n\t\tcontinue;\n\t    }\n\t    if(v[step]%3 < v[step+1]%3) {\n\t\tif(lr == 1) pq.push((node){step+1, cst+1 ,1});\n\t\telse pq.push((node){step+1, cst ,1});\n\t    } else if(v[step]%3 > v[step+1]%3) {\n\t\tif(lr == 0) pq.push((node){step+1, cst+1 ,0});\n\t\telse pq.push((node){step+1, cst ,0});\n\t    } else {\n\t\tif(lr == 0) {\n\t\t    pq.push((node){step+1, cst+1 ,0});\n\t\t    pq.push((node){step+1, cst ,1});\n\t\t} else {\n\t\t    pq.push((node){step+1, cst ,0});\n\t\t    pq.push((node){step+1, cst+1 ,1});\n\t\t}\n\t    }\n\t}\n\tcout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// g++ -std=c++11 a.cpp\n#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<unordered_map>\n#include<utility>\n#include<cmath>\n#include<random>\n#include<cstring>\n#include<queue>\n#include<stack>\n#include<bitset>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#include<assert.h>\n#include<typeinfo>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define FOR(i,a) for(auto i:a)\n#define pb push_back\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n#define show1d(v) rep(i,v.size())cout<<\" \"<<v[i];cout<<endl<<endl;\n#define show2d(v) rep(i,v.size()){rep(j,v[i].size())cout<<\" \"<<v[i][j];cout<<endl;}cout<<endl;\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\n//#define int ll\ntypedef int Def;\ntypedef pair<Def,Def> pii;\ntypedef vector<Def> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef vector<string> vs;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef pair<Def,pii> pip;\ntypedef vector<pip>vip;\n// #define mt make_tuple\n// typedef tuple<int,int,int> tp;\n// typedef vector<tp> vt;\ntemplate<typename A,typename B>bool cmin(A &a,const B &b){return a>b?(a=b,true):false;}\ntemplate<typename A,typename B>bool cmax(A &a,const B &b){return a<b?(a=b,true):false;}\n//template<class C>constexpr int size(const C &c){return (int)c.size();}\n//template<class T,size_t N> constexpr int size(const T (&xs)[N])noexcept{return (int)N;}\nconst double PI=acos(-1);\nconst double EPS=1e-9;\nDef inf = sizeof(Def) == sizeof(long long) ? 2e18 : 1e9+10;\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nstring s;\nint f(int a){\n\tint t=-1,co=0;\n\tif(a)t=4;\n\trep(i,s.size()){\n\t\tint b=(s[i]-'1')%3;\n\t\tif(!a&&t>b)co++,a^=1;\n\t\telse if(a&&t<b)co++,a^=1;\n\t\tt=b;\n\t\ta^=1;\n\t}\n\treturn co;\n}\nint main(){\n\twhile(cin>>s,s!=\"#\"){\n\t\tcout<<min(f(0),f(1))<<endl;\n\t}\n}\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nstring S; int dp[100001][9][9][2];\nint main() {\n\twhile (true) {\n\t\tfor (int i = 0; i < 100001; i++) {\n\t\t\tfor (int j = 0; j < 162; j++) {\n\t\t\t\tdp[i][(j / 2) / 9][(j / 2) % 9][j % 2] = 1000000000;\n\t\t\t}\n\t\t}\n\t\tcin >> S; if (S == \"#\")break;\n\t\tdp[0][0][2][0] = 0; dp[0][0][2][1] = 0;\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tint V = S[i] - '1';\n\t\t\tfor (int j = 0; j < 9; j++) {\n\t\t\t\tfor (int k = 0; k < 9; k++) {\n\t\t\t\t\tif ((j % 3) <= (V % 3)) {\n\t\t\t\t\t\tdp[i + 1][j][V][1] = min(dp[i + 1][j][V][1], dp[i][j][k][0]);\n\t\t\t\t\t\tdp[i + 1][j][V][1] = min(dp[i + 1][j][V][1], dp[i][j][k][1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif ((V % 3) <= (k % 3)) {\n\t\t\t\t\t\tdp[i + 1][V][k][0] = min(dp[i + 1][V][k][0], dp[i][j][k][1]);\n\t\t\t\t\t\tdp[i + 1][V][k][0] = min(dp[i + 1][V][k][0], dp[i][j][k][0] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint minx = 1000000000;\n\t\tfor (int i = 0; i < 162; i++) {\n\t\t\tminx = min(minx, dp[S.size()][i / 18][(i / 2) % 9][i % 2]);\n\t\t}\n\t\tcout << minx << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(cin>>c){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\tint n=strlen(c);\n\t\trep2(i,1,n+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[n%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n  \n  string s;\n  while (cin >> s, s != \"#\") {\n    int sz = s.size();\n    vector<vector<int>> dp(sz, vector<int>(2, 0));\n    for (int i = 0; i < sz - 1; i++) {\n      int now = (s[i] - '1') % 3, next = (s[i + 1] - '1') % 3;\n      dp[i + 1][0] = dp[i][0] + 1;\n      dp[i + 1][1] = dp[i][1] + 1;\n      if (next <= now) dp[i + 1][0] = min(dp[i + 1][0], dp[i][1]);\n      if (next >= now) dp[i + 1][1] = min(dp[i + 1][1], dp[i][0]);\n    }\n    cout << min(dp[sz - 1][0], dp[sz - 1][1]) << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nbool valid(int left,int right){\n  if(left==right)return false;\n  if(left==5||right==5) return false;\n  if((left==2||left==8)&&(right==1||right==4||right==7))\n    return false;\n  if((left==6||left==9||left==3)\n     &&(right==2||right==8||right==1||right==4||right==7))\n    return false;\n  return true;\n}\n\nconst int INF=100000000;\n\nint main(){\n\n  string str;\n  while(cin>>str&&str!=\"#\"){\n    int n=str.size();\n    int minCnt=INF;\n    int dp[2][11][11][2];\n    for(int i = 1; i <= 9; i++){\n      for(int j = 1; j <= 9; j++){\n\tif(valid(i,j)){\n\t  dp[0][i][j][0]=0;\n\t  dp[0][i][j][1]=0;\n\t}\n\telse{\n\t  dp[0][i][j][0]=INF;\n\t  dp[0][i][j][1]=INF;\n\t}\n\tdp[1][i][j][0]=INF;\n\tdp[1][i][j][1]=INF;\n      }\n    }\n    // Å©çÅãÜÅ[vðñ·\n    for(int i = 0; i < str.size(); i++){\n      for(int j = 0; j < 11; j++)\n\tfor(int k = 0; k < 11; k++)\n\t  dp[(i+1)%2][j][k][0]=dp[(i+1)%2][j][k][1]=INF;\n      for(int j = 1; j <= 9; j++){\n\tfor(int k = 1; k <= 9; k++){\n\t  // ¶«ªj,E«ªkÉ éóÔ©çJÚ·é\n\t  \n\t  if(!valid(j,k))\n\t    continue;\n\t  // if(dp[(i+1)%2][str[i]-'0'][k][1]<0\n\t  //    ||dp[(i+1)%2][str[i]-'0'][k][1]<0){\n\t  //   cout<<i<<\" \"<<j<<\" \"<<k<<endl;\n\t  // }\n\t  // ¡ñg¤«\n\t  if(valid(j,str[i]-'0')){\n\t    dp[(i+1)%2][j][str[i]-'0'][0]\n\t      =min(dp[(i+1)%2][j][str[i]-'0'][0]\n\t\t   ,dp[i%2][j][k][1]);\n\t    dp[(i+1)%2][j][str[i]-'0'][0]\n\t      =min(dp[(i+1)%2][j][str[i]-'0'][0]\n\t\t   ,dp[i%2][j][k][0]+1);\n\t  }\n\t  if(valid(str[i]-'0',k)){\n\t    dp[(i+1)%2][str[i]-'0'][k][1]\n\t      =min(dp[(i+1)%2][str[i]-'0'][k][1]\n\t\t   ,dp[i%2][j][k][1]+1);\n\t    dp[(i+1)%2][str[i]-'0'][k][1]\n\t      =min(dp[(i+1)%2][str[i]-'0'][k][1]\n\t\t   ,dp[i%2][j][k][0]);\n\t  }\n\t}\n      }\n    }\n    for(int i = 1; i <= 9; i++)\n      for(int j = 1; j <= 9; j++)\n\tfor(int l = 0; l < 2; l++)\n\t  minCnt=min(minCnt,dp[n%2][i][j][l]);\n    cout<<minCnt<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\nchar buf[111111];\nint L;\nint solve(int p,int l,int r,int a)\n{\n  if(p==L)return 0;\n  //printf(\"%d %d %d %d\\n\",p,l,r,a);\n  if(a){//ツ陳シツ前ツ債カ\n    if(buf[p]<l){\n      return solve(p+1,buf[p],r,a)+1;\n    } else {\n      return solve(p+1,l,buf[p],!a);\n    }\n  } else {//ツ陳シツ前ツ右\n    if(buf[p]>r){\n      return solve(p+1,l,buf[p],a)+1;\n    } else {\n      return solve(p+1,buf[p],r,!a);\n    }\n  }\n}\nint main(void)\n{\n  for(;;){\n    scanf(\"%s\",buf); if(*buf=='#')break;\n    L=strlen(buf);\n    for(int i=0;buf[i];++i) --buf[i],buf[i]-='0',buf[i]%=3;\n    printf(\"%d\\n\",min(solve(1,*buf,*buf,0),solve(1,*buf,*buf,1)));\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <string>\nusing namespace std;\n/*\nstruct State {\n  int step, foot[2], before, cost;\n  const static int px[10];\n  State() {}\n  State(int step,int left, int right, int before, int cost)\n    : step(step), before(before), cost(cost) {\n    foot[0] = left;\n    foot[1] = right;\n  }\n  bool operator < (const State &s) const {\n    return cost > s.cost;\n  }\n*/\nconst int px[10] = {0,-1,0,1,-1,0,1,-1,0,1};\nbool isValid(int foot[2]) {\n  return px[foot[1]] - px[foot[0]] >= 0;\n}\n/*\n};\n\n*/\nconst int INF = 1<<24;\nstring line;\n\n/*\nint solve(string line) {\n  if(line.size() <= 2) return 0;\n  priority_queue<State> que;\n  State s;\n  s = State(2,line[0]-'0',line[1]-'0',1,0);\n  if(s.isValid()) que.push(s);\n  s = State(2,line[1]-'0',line[0]-'0',0,0);\n  if(s.isValid()) que.push(s);\n  \n  while(!que.empty()) {\n    if(que.top().step == line.size()) return que.top().cost;\n\n    s = que.top();\n    s.foot[1-s.before] = line[s.step++] - '0';\n    s.before = 1-s.before;\n    if(s.isValid()) que.push(s);\n\n    s = que.top();\n    s.foot[s.before] = line[s.step++] - '0';\n    ++s.cost;\n    if(s.isValid()) que.push(s);\n\n    que.pop();\n  }\n}\n*/\nint T[100001][2][2][10];\n\nint solve() {\n  if(line.size() <= 2) return 0;\n  fill(T[0][0][0], T[100001][0][0], INF);\n  int foot[2];\n  foot[0] = line[0] - '0';\n  foot[1] = line[1] - '0';\n  //  T[1][0][0][foot[0]] = 0;\n  if(isValid(foot)) T[2][1][0][foot[0]] = 0;\n  foot[1] = line[0] - '0';\n  foot[0] = line[1] - '0';\n  //  T[1][1][0][foot[1]] = 0;\n  if(isValid(foot)) T[2][0][0][foot[1]] = 0;\n\n  for(int i = 3; i <= line.size(); ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int k = 0; k < 2; ++k) {\n\tfor(int l = 1; l <= 9; ++l) {\n\t  if(l == 5) continue;\n\t  foot[j] = line[i-1] - '0';\n\t  if(k == 0) {\n\t    foot[1-j] = line[i-2] - '0';\n\t    if(isValid(foot)) {\n\t      T[i][j][k][foot[1-j]] = min(T[i][j][k][foot[1-j]], T[i-1][1-j][0][l]);\n\t      T[i][j][k][foot[1-j]] = min(T[i][j][k][foot[1-j]], T[i-1][1-j][1][l]);\n\t    }\n\t  } else {\n\t    foot[1-j] = l;\n\t    if(isValid(foot)) {\n\t      T[i][j][k][l] = min(T[i][j][k][l], T[i-1][j][0][l]+1);\n\t    }\n\t  }\n\t}\n      }\n    }\n  }\n  int res = INF;\n  for(int i = 0; i < 2; ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int l = 1; l <= 9; ++l) {\n\tif(l == 5) continue;\n\tres = min(res, T[line.size()][i][j][l]);\n      }\n    }\n  }\n  return res;\n}\n\nint main() {\n  while(getline(cin, line) && line != \"#\") {\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0, ans2 = 0, a = str[0] - '0' - 1;\n    bool turn = false, turn2 = false;\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      if(!turn && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans++;\n\tif(UD[n] != UD[a]) turn = true;\n      }\n      if(!turn2 && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans2++;\n\tif(UD[n] != UD[a]) turn2 = true;\n      }\n      if(turn && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans++;\n\tif(UD[n] != UD[a]) turn = false;\n      }\n      if(turn2 && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans2++;\n\tif(UD[n] != UD[a]) turn2 = false;\n      }\n      a = n;\n    }\n    cout << min(ans,ans2) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-8;\n\n//dp[prev,now][left_state][right_state][prev_foot_side]\nint prev[10][10][2];\nint next[10][10][2];\n\nconst int gHorizonalPos[] = {\n  -1//none\n  ,0//1->0\n  ,1//2->1\n  ,2//3->2\n  ,0//4->0\n  ,-1//5->-1(none)\n  ,2//6->2\n  ,0//7->0\n  ,1//8->1\n  ,2//9->2\n};\n\nbool canEnter(int prev_left_state,int prev_right_state,int next_step_state,\n\t     int next_foot_side,int prev_foot_side){\n  int LHpos = gHorizonalPos[prev_left_state];\n  int RHpos = gHorizonalPos[prev_right_state];\n  int NHpos = gHorizonalPos[next_step_state];\n\n  //next_foot_side := 0(left)\n  if(next_foot_side == 0){\n    if(RHpos == -1) return true;\n    return RHpos < NHpos ? false : true;\n  }\n  //next_foot_side := 1(right)\n  else if(next_foot_side == 1){\n    if(LHpos == -1) return true;\n    return NHpos < LHpos ? false : true;\n  }\n}\n\nint ComputeLeastCost(){\n  int res = INF;\n  for(int left_state=0;left_state<10;left_state++){\n    if(left_state == 5) continue;\n    for(int right_state=0;right_state<10;right_state++){\n    if(right_state == 5) continue;\n      for(int foot_side=0;foot_side<2;foot_side++){\n\tres = min(res,next[left_state][right_state][foot_side]);\n      }\n    }\n  }\n  return res;\n}\n\nvoid debug(int next_step_pos,int turn){\n  printf(\"turn:%d target:%d\\n\",turn,next_step_pos);\n  for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n    if(prev_left_state == 5) continue;\n    for(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n      if(prev_right_state == 5) continue;\n      for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\tprintf(\"turn %d, left_state %d,right_state %d,foot_side %d,val %d\\n\",\n\t       turn,\n\t       prev_left_state,\n\t       prev_right_state,\n\t       next_foot_side,\n\t       next[prev_left_state][prev_right_state][next_foot_side]);\n      }\n    }\n  }\n\n  printf(\"\\n\");\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str.size() == 1 && str[0] == '#') break;\n\n    memset(prev,0x3f,sizeof(prev));\n    memset(next,0x3f,sizeof(next));\n    prev[0][0][0] = 0;\n    prev[0][0][1] = 0;\n    for(int turn=0;turn < str.size(); turn++){\n      memset(next,0x3f,sizeof(next));\n      int next_step_pos = str[turn]-'0';\n      for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n\tif(prev_left_state == 5) continue;\n\tfor(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n\t  if(prev_right_state == 5) continue;\n\t  for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\t    for(int prev_foot_side = 0;prev_foot_side<2;prev_foot_side++){\n\t      if(!canEnter(prev_left_state,prev_right_state,\n\t\t\t   next_step_pos,next_foot_side,prev_foot_side)) continue;\n\n\t      //dp[prev,now][left_state][right_state][prev_foot_side]\n\t      int cost = (prev_foot_side == next_foot_side ? 1 : 0);\n\n\t      if(next_foot_side == 0){\n\t\tnext[next_step_pos][prev_right_state][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t  +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t   next[next_step_pos][prev_right_state][next_foot_side]);\n\t      }\n\n\t      else{\n\t\tnext[prev_left_state][next_step_pos][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t  next[prev_left_state][next_step_pos][next_foot_side]);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n\n      memcpy(prev,next,sizeof(next));\n\n      // debug(next_step_pos,turn);\n    }\n    printf(\"%d\\n\",ComputeLeastCost());\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <numeric>\n#include <map>\n#include <string>\n#include <vector>\n#include <cmath>\n#include <algorithm>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> P;\nconst int INF = 1 << 30;\nconst double EPS = 1E-9;\n\nint dp[110000][2];\nint get_num(char c){\n\treturn (c - '1') % 3;\n}\n\nint main(){\n\tstring data;\n\twhile(getline(cin, data) && data != \"#\"){\n\t\tif(data.size() < 3){\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint count = 0;\n\t\tint l, r;\n\t\tint rmove = 0;\n\t\tif(get_num(data[0]) >= get_num(data[1])){\n\t\t\tr = get_num(data[0]), l = get_num(data[1]);\n\t\t\trmove = 1;\n\t\t}else{\n\t\t\tr = get_num(data[1]), l = get_num(data[0]);\n\t\t\trmove = 0;\n\t\t}\n\t\tfor(int j = 2; j < (int)data.size(); j++){\n\t\t\tint a = get_num(data[j]);\n\t\t\tif(rmove){\n\t\t\t\tif(a < l){\n\t\t\t\t\tcount++;\n\t\t\t\t\tl = a;\n\t\t\t\t}else{\n\t\t\t\t\tr = a;\n\t\t\t\t\trmove = 0;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(a > r){\n\t\t\t\t\tcount++;\n\t\t\t\t\tr = a;\n\t\t\t\t}else{\n\t\t\t\t\tl = a;\n\t\t\t\t\trmove = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << count << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main(){\n\tstring s;\n\twhile(getline(cin,s),s[0] != '#'){\n\t\tfor(int i = 0; i < s.size(); i++){\n\t\t\tswitch(s[i]){\n\t\t\t\tcase '1':\n\t\t\t\tcase '4':\n\t\t\t\tcase '7':\n\t\t\t\t\ts[i] = 1;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\tcase '8':\n\t\t\t\t\ts[i] = 2;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\ts[i] = 3;\n\t\t\t}\n\t\t}\n\t\tint m[2] = {};\n\t\tbool fr[2] = {0,1};\n\t\tfor(int i = 1; i < s.size(); i++){\n\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\tif(s[i-1] < s[i]){\n\t\t\t\t\tif(fr[j]) ++m[j];\n\t\t\t\t\tfr[j] = 1;\n\t\t\t\t}else if(s[i-1] > s[i]){\n\t\t\t\t\tif(!fr[j]) ++m[j];\n\t\t\t\t\tfr[j] = 0;\n\t\t\t\t} else fr[j] = !fr[j];\n\t\t\t}\n\t\t}\n\t\tcout << min(m[0],m[1]) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nusing namespace std;\nstring op;\n\nbool check(int lef,int rig)\n{\n  if(lef == 2 || lef == 8)\n    {\n      if(rig == 7 || rig == 4 || rig == 1)\n\treturn false;\n      return true;\n    }\n  else if(lef == 9 || lef == 6 || lef == 3)\n    {\n      if(!(rig == 9 || rig == 6 || rig == 3 || rig == -1))\n\treturn false;\n      return true;\n    }\n  return true;\n}\n\nint Left()\n{\n  if(op.size() <= 1)\n    return 0;\n  bool step = false;\n  int cnt = 0;\n  int lef,rig,prelef,prerig;\n  lef = rig = prelef = prerig = -1;\n  for(int i=0;i<op.size();i++)\n    {\n      if(!step)\n\tlef = op[i]-'0',step = !step;\t\n      else\n\trig = op[i]-'0',step = !step; \n\n      if(!check(lef,rig))\n\t{\n\t  if(i%2 == 0)\n\t      rig = lef,lef = prelef;\n\t  else \n\t    lef = rig,rig = prerig;\t    \n\t  step = !step;\n\t  cnt++;\n\t}\t\n      prelef = lef,prerig = rig;\n    }\n  return cnt;\n}\n\nint Right()\n{\n  if(op.size() <= 1)\n    return 0;\n  bool step = false;\n  int cnt = 0;\n  int lef,rig,prelef,prerig;\n  lef = rig = prelef = prerig = -1;\n  for(int i=0;i<op.size();i++)\n    {\n      if(!step)\n\trig = op[i]-'0',step = !step;\t\n      else\n\tlef = op[i]-'0',step = !step; \n\n      if(!check(lef,rig))\n\t{\n\t  if(i%2 == 0)\n\t    lef = rig,rig = prerig;\n\t  else \n\t    rig = lef,lef = prelef;\n\t  step = !step;\n\t  cnt++;\n\t}      \n      prelef = lef,prerig = rig;\n\n    }\n  return cnt;\n}\n\n\nint main()\n{\n \n  while(cin >> op, op != \"#\")\n      cout << min(Left(),Right()) << endl;\n    \n    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define chmin(a,b) ( (a) = (a)<0?(b):((b)<0?(a):((a)>(b)?(b):(a))) )\nusing namespace std;\n\nint dp[2][10][10][2]; //dp[step&1][l][r][prv_foot]\n\ninline bool valid(int l, int r){\n  if(l==5 || r==5)return false;\n  return (l-1)%3 <= (r-1)%3;\n}\n\nint main(){\n  cin.tie(0); ios::sync_with_stdio(0);\n  string s;\n  while(cin >> s, s!=\"#\"){\n    memset(dp,-1,sizeof(dp));\n    int n = s.size();\n\n    for(int j=1;j<=9;j++)for(int k=1;k<=9;k++){\n\tif(valid(j,k)){\n\t  dp[0][j][k][0] = dp[0][j][k][1] = 0;\n\t}\n      }\n\n    rep(i,n){\n      int cur = i&1, nxt = 1-cur;\n      for(int j=1;j<=9;j++)for(int k=1;k<=9;k++){\n\t  dp[nxt][j][k][0] = dp[nxt][j][k][1] = -1;\n\t}\n      \n      for(int j=1;j<=9;j++)for(int k=1;k<=9;k++){\n\t  int ns = s[i]-'0';\n\t  if(dp[cur][j][k][0] >= 0){\n\t    if(valid(ns,k)) chmin(dp[nxt][ns][k][0], dp[cur][j][k][0]+1);\n\t    if(valid(j,ns)) chmin(dp[nxt][j][ns][1], dp[cur][j][k][0]);\n\t  }\n\t  if(dp[cur][j][k][1] >= 0){\n\t    if(valid(ns,k)) chmin(dp[nxt][ns][k][0], dp[cur][j][k][1]);\n\t    if(valid(j,ns)) chmin(dp[nxt][j][ns][1], dp[cur][j][k][1]+1);\n\t  }\n\t}\n    }\n\n    int ans = -1;\n    for(int j=1;j<=9;j++)for(int k=1;k<=9;k++){\n\tchmin(ans, dp[n&1][j][k][0]);\n\tchmin(ans, dp[n&1][j][k][1]);\n      }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <map>\n#include <set>\n#include <list>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <bitset>\nusing namespace std;\n#define INF\t100000000\n#define MOD 1000000007\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define sec second\n#define lb lower_bound\n#define ub upper_bound\n#define SS stringstream\n#define rep(i,n) for(int i = 0; i < n; i++)\n#define SORT(x) sort((x).begin(), (x).end())\n#define clr(a,b) memset((a),(b),sizeof(a))\ntypedef long long int ll;\ntypedef pair<int, int> P;\ntypedef vector<int> Vi;\ntypedef vector<ll> Vll;\ntypedef vector<P> Vp;\ntypedef priority_queue<P, vector<P>, greater<P> > PQ;\n\nint dp[100001][9][9][2];\n\nint main(){\n\tstring str;\n\twhile(cin >> str){\n\t\tint s = str.size();\n\t\tif(str[0] == '#') break;\n\t\trep(i,s+1){\n\t\t\tfor(int j = 0; j < 9; j++){\n\t\t\t\tfor(int k = 0; k < 9; k++){\n\t\t\t\t\tdp[i][j][k][0] = INF;\n\t\t\t\t\tdp[i][j][k][1] = INF;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int j = 0; j < 9; j++){\n\t\t\tfor(int k = 0; k < 9; k++){\n\t\t\t\tif(j%3 > k%3) continue;\n\t\t\t\tdp[0][j][k][0] = 0;\n\t\t\t\tdp[0][j][k][1] = 0;\n\t\t\t}\n\t\t}\n\t\tfor(int i = 1; i <= s; i++){\n\t\t\tint n = str[i-1]-'1';\n\t\t\trep(j,9) rep(k,9){\n\t\t\t\tif(n%3 <= k%3) dp[i][n][k][0] = min(dp[i][n][k][0],min(dp[i-1][j][k][0]+1,dp[i-1][j][k][1]));\n\t\t\t\tif(j%3 <= n%3) dp[i][j][n][1] = min(dp[i][j][n][1],min(dp[i-1][j][k][0],dp[i-1][j][k][1]+1));\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\trep(j,9) rep(k,9) rep(l,2){\n\t\t\tans = min(ans,dp[s][j][k][l]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n//  B - Step Step Evolution\n//\n//  Created by Chlerry on 13-8-7.\n//  Copyright (c) 2013年 Chlerry. All rights reserved.\n//\n\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n\nchar input[101000];\nint a[101000];\nint len;\n\n//int Pro();\nint Left();\nint Right();\nint Min(int x,int y);\n\nint main(int argc, const char * argv[])\n{\n    //freopen(\"/Users/Chlerry/Desktop/in.txt\",\"r\",stdin);\n    while(1)\n    {\n        //printf(\"------------------------\\n\");\n        memset(input,0,sizeof(input));\n        scanf(\"%s\",input);\n        if(input[0]=='#')\n            break;\n        len=strlen(input);\n        //printf(\"len=%d\\n\",len);\n        for(int i=1;i<=len;i++)\n        {\n            a[i]=input[i-1]-48;\n            if(a[i]%3==0)\n                a[i]=3;\n            else\n                a[i]%=3;\n        }\n        /*\n        for(int i=1;i<=len;i++)\n            printf(\"%d \",a[i]);\n        printf(\"\\n\");\n        */\n        printf(\"%d\\n\",Min(Left(),Right()));\n    }\n    return 0;\n}\n        int Left()\n        {\n            int ans=0;\n            bool flag=1;\n            int left,right;\n            left=a[1];\n            //printf(\"l=%d r=%d ans=%d\\n\",left,right,ans);\n            for(int i=2;i<=len;i++)\n            {\n                if(flag==0)\n                    if(a[i]>right)\n                    {\n                        right=a[i];\n                        ans++;\n                    }\n                    else\n                    {\n                        left=a[i];\n                        flag=!flag;\n                    }\n                else\n                    if(a[i]<left)\n                    {\n                        left=a[i];\n                        ans++;\n                    }\n                    else\n                    {\n                        right=a[i];\n                        flag=!flag;\n                    }\n                //printf(\"l=%d r=%d ans=%d\\n\",left,right,ans);\n            }\n            return ans;\n        }\nint Right()\n{\n    int ans=0;\n    bool flag=0;\n    int left,right;\n    right=a[1];\n    //printf(\"l=%d r=%d ans=%d\\n\",left,right,ans);\n    for(int i=2;i<=len;i++)\n    {\n        if(flag==0)\n            if(a[i]>right)\n            {\n                right=a[i];\n                ans++;\n            }\n            else\n            {\n                left=a[i];\n                flag=!flag;\n            }\n            else\n                if(a[i]<left)\n                {\n                    left=a[i];\n                    ans++;\n                }\n                else\n                {\n                    right=a[i];\n                    flag=!flag;\n                }\n        //printf(\"l=%d r=%d ans=%d\\n\",left,right,ans);\n    }\n    return ans;\n}\nint Min(int x,int y)\n{\n    return x<y?x:y;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <unordered_map>\n#include <map>\n#include <set>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <bitset>\n#include <assert.h>\n#include <unordered_map>\n#include <fstream>\n#include <ctime>\n#include <complex>\nusing namespace std;\ntypedef long long ll;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<char> vc;\ntypedef vector<string> vs;\ntypedef vector<bool> vb;\ntypedef vector<double> vd;\ntypedef pair<ll,ll> P;\ntypedef pair<int,int> pii;\ntypedef vector<P> vpl;\ntypedef tuple<ll,ll,ll> tapu;\n#define rep(i,n) for(int i=0; i<(n); i++)\n#define REP(i,a,b) for(int i=(a); i<(b); i++)\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\nconst int inf = 1<<30;\nconst ll linf = 1LL<<62;\nconst int MAX = 510000;\nll dy[8] = {1,-1,0,0,1,-1,1,-1};\nll dx[8] = {0,0,1,-1,1,-1,-1,1};\nconst double pi = acos(-1);\nconst double eps = 1e-7;\ntemplate<typename T1,typename T2> inline bool chmin(T1 &a,T2 b){\n\tif(a>b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T1,typename T2> inline bool chmax(T1 &a,T2 b){\n\tif(a<b){\n\t\ta = b; return true;\n\t}\n\telse return false;\n}\ntemplate<typename T> inline void print(T &a){\n    rep(i,a.size()) cout << a[i] << \" \";\n    cout << \"\\n\";\n}\ntemplate<typename T1,typename T2> inline void print2(T1 a, T2 b){cout << a << \" \" << b << \"\\n\";}\ntemplate<typename T1,typename T2,typename T3> inline void print3(T1 a, T2 b, T3 c){\n\tcout << a << \" \" << b << \" \" << c << \"\\n\";\n}\nll pcount(ll x) {return __builtin_popcountll(x);}\nconst int mod = 1e9 + 7;\n//const int mod = 998244353;\n\nint main(){\n\tstring num = \"012092012\";\n\twhile(1){\n\t\tstring s; cin >> s;\n\t\tif(s == \"#\") break;\n\t\tint n = s.size();\n\t\tfunction<int(int)> calc = [&](int turn){\n\t\t\tint left = 0, right = 2;\n\t\t\tint res = 0;\n\t\t\trep(i,n){\n\t\t\t\tint nxt = num[s[i]-'0'-1] - '0';\n\t\t\t\tif(!turn){\n\t\t\t\t\tif(right >= nxt){\n\t\t\t\t\t\tleft = nxt;\n\t\t\t\t\t\tturn = 1 - turn;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tres++;\n\t\t\t\t\t\tright = nxt;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(left <= nxt){\n\t\t\t\t\t\tright = nxt;\n\t\t\t\t\t\tturn = 1 - turn;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tres++;\n\t\t\t\t\t\tleft = nxt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t};\n\t\tcout << min(calc(0), calc(1)) << \"\\n\";\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(scanf(\"%s\",c)){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\tint n=strlen(c);\n\t\trep2(i,1,n+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[n%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<cmath>\n#include<algorithm>\n#include<functional>\n#include<iomanip>\n#include<queue>\n#include<ciso646>\n#include<random>\n#include<map>\n#include<set>\nusing namespace std;\ntypedef long long ll;\nconst ll MOD = 1000000007;\nconst ll INF = (ll)1000000007 * 1000000007;\nconst double EPS = 1e-9;\ntypedef pair<int, int> P;\ntypedef unsigned int ui;\n#define stop char nyaa;cin>>nyaa;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define per(i,n) for(int i=n-1;i>=0;i--)\n#define Rep(i,sta,n) for(int i=sta;i<n;i++)\n#define rep1(i,n) for(int i=1;i<=n;i++)\n#define per1(i,n) for(int i=n;i>=1;i--)\nbool right(int x,int y) {\n\tif ((x == 1 || x == 4 || x == 7) && y != 1 && y != 4 && y != 7)return true;\n\telse if ((x == 8 || x == 2) && (y == 3 || y == 6 || y == 9))return true;\n\treturn false;\n}\nbool left(int x,int y) {\n\tif ((x == 3 || x == 6 || x == 9) && y != 3 && y != 6 && y != 9)return true;\n\telse if ((x == 8 || x == 2) && (y == 1 || y == 4 || y == 7))return true;\n\treturn false;\n}\nint main() {\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\tint len = s.length();\n\t\tint dp[100000][2];\n\t\trep(i, 100000) {\n\t\t\trep(j, 2) {\n\t\t\t\tdp[i][j] = (int)MOD;\n\t\t\t}\n\t\t}\n\t\tdp[0][0] = 0;\n\t\tdp[0][1] = 0;\n\t\tRep(i, 1, len) {\n\t\t\tdp[i][0] = dp[i - 1][0] + 1;\n\t\t\tdp[i][1] = dp[i - 1][1] + 1;\n\t\t\tif (!right(s[i - 1] - '0', s[i] - '0')) {\n\t\t\t\tdp[i][0] = dp[i - 1][1];\n\t\t\t}\n\t\t\tif (!left(s[i - 1] - '0', s[i] - '0')) {\n\t\t\t\tdp[i][1] = dp[i - 1][0];\n\t\t\t}\n\t\t}\n\t\tcout << min(dp[len - 1][0], dp[len - 1][1]) << endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <complex>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <iomanip>\n#include <assert.h>\n#include <array>\n#include <cstdio>\n#include <cstring>\n#include <random>\n#include <functional>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\nstruct before_main{before_main(){cin.tie(0); ios::sync_with_stdio(false);}} before_main;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nstring S;\n\nset<int> X[3] = {{1,4,7},{2,8},{3,6,9}};\n\nvoid solve() {\n  int N = S.size();\n  int ans = inf;\n  rep(o, 2) {\n    int res = 0;\n    int s = 0;\n    rep(i, N-1) {\n      if((i+o+s)&1) {\n        if(S[i] == 2 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 8 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 3 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 6 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 9 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 3 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 6 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 9 && X[1].count(S[i+1])) { res ++; s++; }\n      } else {\n        if(S[i] == 1 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 4 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 7 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 1 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 4 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 7 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 2 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 8 && X[2].count(S[i+1])) { res ++; s++; }\n      }\n    }\n    minimize(ans, res);\n  }\n  cout << ans << endl;\n}\n\nint main() {\n\n  for(; cin >> S;) {\n    if(S == \"#\") { break; }\n    rep(i, S.size()) S[i] -= '0';\n    solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\n/*\n 7 8 9\n 4   6\n 1 2 3\n*/\n\nvoid init() {\n}\n\nconst int MAX = 1e5 + 10;\nint dp[9][9][2], newdp[9][9][2];\nvoid solve(string s) {\n    for (int j = 0; j < 9; j++) {\n        for (int k = 0; k < 9; k++) {\n            for (int l = 0; l < 2; l++) {\n                dp[j][k][l] = INF;\n                newdp[j][k][l] = INF;\n            }\n        }\n    }\n    for (int i = 0; i < 9; i++) {\n        for (int j = 0; j < 9; j++) {\n            if (i % 3 > j % 3) continue;\n            if (i == 4 || j == 4) continue;\n            for (int k = 0; k < 2; k++) {\n                dp[i][j][k] = 0;\n            }\n        }\n    }\n    const int L = s.length();\n    for (int i = 0; i < L; i++) {\n        const int nxt = (s[i] - '0') - 1;\n        for (int j = 0; j < 9; j++) {//???\n            if (j == 4) continue;\n            for (int k = 0; k < 9; k++) {//???\n                if (k == 4) continue;\n                if (j % 3 <= nxt % 3) {\n                    chmin(newdp[j][nxt][0], dp[j][k][1]);\n                } else {\n                    chmin(newdp[nxt][k][1], dp[j][k][1] + 1);\n                }\n                if (nxt % 3 <= k % 3) {\n                    chmin(newdp[nxt][k][1], dp[j][k][0]);\n                } else {\n                    chmin(newdp[j][nxt][0], dp[j][k][0] + 1);\n                }\n            }\n        }\n        for (int j = 0; j < 9; j++) {\n            for (int k = 0; k < 9; k++) {\n                for (int l = 0; l < 2; l++) {\n                    dp[j][k][l] = newdp[j][k][l];\n                    newdp[j][k][l] = INF;\n                }\n            }\n        }\n    }\n    int ans = INF;\n    for (int i = 0; i < 9; i++) {\n        for (int j = 0; j < 9; j++) {\n            for (int k = 0; k < 2; k++) {\n                chmin(ans, dp[i][j][k]);\n            }\n        }\n    }\n    printf(\"%d\\n\", ans);\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    init();\n    while (cin >> s, s != \"#\") {\n        solve(s);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<climits>\n#include<iostream>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#define MAXS (9 * 9 * 2)\ntypedef long long ll;\ntypedef unsigned long long ull;\nusing namespace std;\n#define pb push_back\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\nint rl[]={0, 1, 2, 0, 1, 2, 0, 1, 2};\nint dp[2][MAXS];\nchar s[200000];\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n#define INF 1000000000\n\nint soeji(int a,int b,int c){\n    return a * 9 * 2 + b * 2 + c;\n}\n\nint main(){\n    while(1){\n        scanf(\"%s\",s);\n        if(s[0] == '#')\n            break;\n\n        int n = strlen(s);\n        REP(i,n)\n            s[i] -= '1';\n\n        REP(a,9){\n            REP(b,9){\n                REP(c,2){\n                    if(rl[a] >= rl[b] && (s[n-1] == a || s[n-1] == b))\n                        dp[1][soeji(a,b,c)] = 0;\n                    else\n                        dp[1][soeji(a,b,c)] = INF;\n                }\n            }\n        }\n\n        RREP(i,n){\n            REP(a,9){\n                REP(b,9){\n                    REP(c,2){\n                        int a1 = a,b1 = b,a2 = a,b2 = b;\n                        if(c == 0){\n                            a1 = s[i];\n                            b2 = s[i];\n                        }else{\n                            b1 = s[i];\n                            a2 = s[i];\n                        }\n                        int x = rl[a1] >= rl[b1] ? dp[1][soeji(a1,b2,c)] : INF - 1;\n                        int y = rl[a2] >= rl[b2] ? dp[1][soeji(a2,b2,!c)] : INF;\n                        dp[0][soeji(a,b,c)] = min(x + 1,y);\n                    }\n                }\n            }\n            memcpy(&dp[1][0],&dp[0][0],sizeof(int) * MAXS);\n        }\n        int mini = 1000000000;\n        /*REP(i,9 * 9 * 2){\n            if(dp[0][i] < mini)\n                mini = dp[0][i];\n        }*/\n        REP(a,9){\n            REP(b,9){\n                REP(c,2){\n                    if(rl[a] >= rl[b] && mini > dp[0][soeji(a,b,c)])\n                        mini = dp[0][soeji(a,b,c)];\n                }\n            }\n        }\n        printf(\"%d\\n\",mini);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <cmath>\n#include <string>\n#include <sstream>\n#include <iomanip>\n#include <complex>\nusing namespace std;\n\n#define ll long long\n#define vvi vector< vector<int> >\n#define vi vector<int>\n#define All(X) X.begin(),X.end()\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define pb push_back\n#define pii pair<int,int>\n#define mp make_pair\n#define pi 3.14159265359\n#define shosu(X) fixed << setprecision(X)\nll gcd(ll a,ll b){return b?gcd(b,a%b):a;}\nll lcm(ll a,ll b){return a/gcd(a,b)*b;}\n\nint data[10] = {-999,-1,0,1,-1,-999,1,-1,0,1};\n\nint main(){\n\tstring str;\n\twhile(1){\n\t\tcin >> str;\n\t\tif(str==\"#\") break;\n\t\tint pos[2] = {0,0};//left,right\n\t\tint nextuse = 1;//0 left 1 right\n\t\tint rst1 = 0,rst2 = 0;\n\t\tpos[0] = data[str[0]-'0'];\n\t\tFOR(i,1,str.size()){\n\t\t\tint nextpos = data[str[i]-'0'];\n\t\t\tbool isok = true;\n\t\t\tif(nextuse==0){\n\t\t\t\tif(pos[1]>nextpos) isok = false;\n\t\t\t}else{\n\t\t\t\tif(pos[0]<nextpos) isok = false;\n\t\t\t}\n\t\t\tif(isok){\n\t\t\t\tpos[nextuse] = nextpos;\n\t\t\t\tnextuse = 1 - nextuse;\n\t\t\t}else{\n\t\t\t\tpos[1-nextuse] = nextpos;\n\t\t\t\trst1++;\n\t\t\t}\n\t\t}\n\n\t\tnextuse = 0;\n\t\tpos[1] = data[str[0]-'0'];\n\t\tFOR(i,1,str.size()){\n\t\t\tint nextpos = data[str[i]-'0'];\n\t\t\tbool isok = true;\n\t\t\tif(nextuse==0){\n\t\t\t\tif(pos[1]>nextpos) isok = false;\n\t\t\t}else{\n\t\t\t\tif(pos[0]<nextpos) isok = false;\n\t\t\t}\n\t\t\tif(isok){\n\t\t\t\tpos[nextuse] = nextpos;\n\t\t\t\tnextuse = 1 - nextuse;\n\t\t\t}else{\n\t\t\t\tpos[1-nextuse] = nextpos;\n\t\t\t\trst2++;\n\t\t\t}\n\t\t}\n\t\tcout << min(rst1,rst2) << endl;\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nusing ll = long long int;\nusing ull = unsigned long long int;\nusing P = pair<ll, ll>;\nusing P3 = pair<P,ll>;\nusing PP = pair<P, P>;\nconstexpr int INF = 1 << 30;\n\n\nvoid chmin(int &a, int b){\n    a = min(a, b);\n}\n\nbool valid(int l, int r){\n    return l%3 <= r%3;\n}\n\nint dp[100001][9][9][2];\n\nint solve(){\n    string s;\n    cin >> s;\n    if(s == \"#\") return 1;\n    int n = s.size();\n    for(int i=1;i<=n;i++){\n        for(int j=0;j<9;j++){\n            for(int k=0;k<9;k++){\n                dp[i][j][k][0] = INF;\n                dp[i][j][k][1] = INF;\n            }\n        }\n    }\n    for(int i=0;i<n;i++){\n        int d = s[i]-'0'-1;\n        for(int l=0;l<9;l++){\n            if(l==4) continue;\n            for(int r=0;r<9;r++){\n                if(r==4) continue;\n                if(!valid(l,r)) continue;\n                if(valid(d,r)){\n                    chmin(dp[i+1][d][r][0], min(dp[i][l][r][0]+1, dp[i][l][r][1]));\n                }\n                if(valid(l,d)){\n                    chmin(dp[i+1][l][d][1], min(dp[i][l][r][0], dp[i][l][r][1]+1));\n                }\n            }\n        }\n    }\n    int ans = INF;\n    for(int i=0;i<9;i++){\n        for(int j=0;j<9;j++){\n            chmin(ans, dp[n][i][j][0]);\n            chmin(ans, dp[n][i][j][1]);\n        }\n    }\n    cout << ans << endl;\n    return 0;\n}\n\nint main(){\n    while(solve()==0);\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <set>\n#include <string>\n \n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, b) for(int i = (a); i < (b); i++)\n \nusing namespace std;\n \ntypedef pair<int, int> P;\n\nconst int N = 100000;\nint dp[N+10][2];\nint step[N+10];\n\nint main(){\n\tstring s;\n\twhile(cin >> s, s != \"#\"){\n\t\tint n = s.size();\n\t\trep(i, n){\n\t\t\tstep[i] = (s[i]-'0')%3;\n\t\t\tif(!step[i]) step[i] = 3;\n\t\t}\n\t\trep(i, 2) rep(j, N+10) dp[j][i] = 1<<29;\n\t\tdp[0][0] = dp[0][1] = 0;\n\t\tFOR(i, 1, n){\n\t\t\tif(step[i-1] <= step[i]) dp[i][0] = min(dp[i-1][0]+1, dp[i-1][1]);\n\t\t\tif(step[i-1] >= step[i]) dp[i][1] = min(dp[i-1][1]+1, dp[i-1][0]);\n\t\t}\n\t\tcout << min(dp[n-1][0], dp[n-1][1]) << endl;\n\t}\n\t\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nvoid solve(string s)\n{\n\tint ans1 = 0, ans2 = 0;\n\tbool isbeforestepleft = true;\n\tint beforepanel = s[0] - '0';\n\t// はじめの足が左のとき\n\tfor(int i = 1; i < s.length(); i++){\n\t\tif((s[i] - '0') % 3 == 1){\n\t\t\tif(!isbeforestepleft){\n\t\t\t\tisbeforestepleft = true;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 1){\n\t\t\t\t\tans1++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if((s[i] - '0') % 3 == 0){\n\t\t\tif(isbeforestepleft){\n\t\t\t\tisbeforestepleft = false;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 0){\n\t\t\t\t\tans1++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif((beforepanel % 3 == 1 && isbeforestepleft) || (beforepanel % 3 == 0 && !isbeforestepleft)){\n\t\t\t\tisbeforestepleft = !isbeforestepleft;\n\t\t\t} else {\n\t\t\t\tans1++;\n\t\t\t}\n\t\t}\n\t\tbeforepanel = s[i] - '0';\n\t}\n\tisbeforestepleft = false;\n\tbeforepanel = s[0] - '0';\n\t// はじめの足が右\n\tfor(int i = 1; i < s.length(); i++){\n\t\tif((s[i] - '0') % 3 == 1){\n\t\t\tif(!isbeforestepleft){\n\t\t\t\tisbeforestepleft = true;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 1){\n\t\t\t\t\tans2++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if((s[i] - '0') % 3 == 0){\n\t\t\tif(isbeforestepleft){\n\t\t\t\tisbeforestepleft = false;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 0){\n\t\t\t\t\tans2++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif((beforepanel % 3 == 1 && isbeforestepleft) || (beforepanel % 3 == 0 && !isbeforestepleft)){\n\t\t\t\tisbeforestepleft = !isbeforestepleft;\n\t\t\t} else {\n\t\t\t\tans2++;\n\t\t\t}\n\t\t}\n\t\tbeforepanel = s[i] - '0';\n\t}\n\tint ans = min(ans1, ans2);\n\tcout << ans << endl;\n\treturn;\n}\n\nint main()\n{\n\tstring s;\n\twhile(1){\n\t\tcin >> s;\n\t\tif(s == \"#\") break;\n\t\tsolve(s);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define ll long long\nusing namespace std;\n\nint main() {\n\tcin.tie(0); ios::sync_with_stdio(false);\n\tstring str;\n\tint ans;\n\tint foot[10] = { -1,1,2,3,1,-1,3,1,2,3 };\n\twhile (cin >> str) {\n\t\tif (str == \"#\") break;\n\t\tans = (1 << 30);\n\t\tint l = 1, r = 3;\n\t\tint next = 0;  // 0 : l   ,   1 : r\n\t\tint cnt = 0;\n\t\tfor (int i = 0; i < str.length();i++) {\n\t\t\t//cout << \"l = \" << l << \" / r = \" << r << endl;\n\t\t\tint key = str[i] - '0';\n\t\t\tif (next == 0) {\n\t\t\t\tif (foot[key] <= r) {\n\t\t\t\t\tl = foot[key];\n\t\t\t\t\tnext = 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tr = foot[key];\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (foot[key] >= l) {\n\t\t\t\t\tr = foot[key];\n\t\t\t\t\tnext = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tl = foot[key];\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tans = min(ans, cnt);\n\n\t\tl = 1, r = 3;\n\t\tnext = 1;\n\t\tcnt = 0;\n\t\tfor (int i = 0; i < str.length();i++) {\n\t\t\t//cout << \"l = \" << l << \" / r = \" << r << endl;\n\t\t\tint key = str[i] - '0';\n\t\t\tif (next == 0) {\n\t\t\t\tif (foot[key] <= r) {\n\t\t\t\t\tl = foot[key];\n\t\t\t\t\tnext = 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tr = foot[key];\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (foot[key] >= l) {\n\t\t\t\t\tr = foot[key];\n\t\t\t\t\tnext = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tl = foot[key];\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tans = min(ans, cnt);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <queue>\n\nusing namespace std;\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef long long LL;\n\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\nint f(char c){\n  return (c - '0' + 2) % 3;\n}\n\nint main(){\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n\n  string in;\n  while(cin>>in, in!=\"#\"){\n\tint ans = 123456789;\n\tconst int N = SZ(in);\n\n\tREP(k,2){\n\t  int st = k;\n\t  int prv = f(in[0]), cnt = 0;\n\t  for(int i=1;i<N;++i){\n\t\tif(st == 0){\n\t\t  if(f(in[i]) < prv)\n\t\t\t++cnt;\n\t\t  else\n\t\t\tst = 1;\n\t\t}\n\t\telse{\n\t\t  if(prv < f(in[i]))\n\t\t\t++cnt;\n\t\t  else\n\t\t\tst = 0;\n\t\t  \n\t\t}\n\t\tprv = f(in[i]);\n\t  }\n\t  ans = min(ans, cnt);\n\t}\n\tcout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <bits/stdc++.h>\n\nusing namespace std;\n#define ll long long\n#define ld long double\n#define  P pair<ll,ll>\n#define FOR(i,n,m) for(ll i=n; i<(ll)m;i++)\n#define FORr(i,m,n) for(ll i=n; i>=(ll)m; i--)\n#define FORm(i,m) for(auto i=m.begin();i!=m.end();i++)\n#define VEC2(x,a,b) vector<vector<ll>> x = vector<vector<ll>>(a,vector<ll>(b,0))\n#define sortAl(v) sort(v.begin(),v.end())\n#define sortAlr(v) sort(v.begin(),v.end()); reverse(v.begin(),v.end())\n#define cinv(v,n,m) FOR(i,n,m) cin>>v.at(i)\n#define coutv(v,n,m) FOR(i,n,m) cout<<v.at(i) <<\" \"; cout<<endl\n#define cout(n) cout<<fixed<<setprecision(n)\n\nint arrow[9] = {0,1,2,0,-1,2,0,1,2};\n\nll step(string s, ll f){\n  // f = 1なら右足をだす\n  ll left=0,right=0;\n  if(f == 1){\n    right = arrow[s[0] - '0' - 1];\n    left = arrow[s[1] - '0' - 1];\n  }\n  else{\n    right = arrow[s[1] - '0' - 1];\n    left = arrow[s[0] - '0' - 1];\n  }\n  ll tmp = right;\n  if(right<left){\n    right = left;\n    left = tmp;\n    f = (f+1)%2;\n  }\n  ll res = 0;\n  FOR(i,2,s.size()){\n    ll foot = arrow[s[i] - '0' - 1];\n  //  cout<<\"(\"<<left <<\",\"<< right<<\")\"<<f<<\" \"<<foot<<endl;\n    if(f == 1){\n      if(left <= foot){\n        f = 0;\n        right = foot;\n      }\n      else{\n        left = foot;\n        res++;\n      }\n    }\n    else{\n      if(foot <= right){\n        f = 1;\n        left = foot;\n      }\n      else{\n        right = foot;\n        res++;\n      }\n    }\n  }\n//  cout<<\"answer is \"<<res<<endl;\n  return res;\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    string s;\n    cin>>s;\n    while(s != \"#\"){\n      if(s.size()<=2){\n        cout<<0<<endl;\n      }\n      else{\n        cout<<min(step(s,0), step(s,1))<<endl;\n      }\n      cin>>s;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\n\nenum Pos {\n\tLeft, Center, Right\n};\n\nPos retpos(char num)\n{\n\tif (num == '1' || num == '4' || num == '7') {\n\t\treturn Left;\n\t}\n\telse if (num == '2' || num == '8') {\n\t\treturn Center;\n\t}\n\telse {\n\t\treturn Right;\n\t}\n}\n\nbool leftcheck(Pos left, Pos right)\n{\n\tif (right == Left) {\n\t\tif (left != Left) {\n\t\t\treturn false;\n\t\t}\n\t}\n\telse if (right == Center) {\n\t\tif (left == Right) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nbool rightcheck(Pos left, Pos right)\n{\n\tif (left == Right) {\n\t\tif (right != Right) {\n\t\t\treturn false;\n\t\t}\n\t}\n\telse if (left == Center) {\n\t\tif (right == Left) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nint main()\n{\n\twhile (true) {\n\t\tstring str;\n\n\t\tcin >> str;\n\n\t\tif (str == \"#\") {\n\t\t\tbreak;\n\t\t}\n\n\t\tPos right = Right;\n\t\tPos left = Left;\n\t\tint rightans = 0;\n\t\tint leftans = 0;\n\t\tbool nextright = true;\n\n\t\trep(i, str.size()) {\n\t\t\tif (nextright == true) {\n\t\t\t\tif (rightcheck(left, retpos(str[i])) == true) {\n\t\t\t\t\tright = retpos(str[i]);\n\t\t\t\t\tnextright = false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tleft = retpos(str[i]);\n\t\t\t\t\trightans++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (leftcheck(retpos(str[i]), right) == true) {\n\t\t\t\t\tleft = retpos(str[i]);\n\t\t\t\t\tnextright = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tright = retpos(str[i]);\n\t\t\t\t\trightans++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tright = Right;\n\t\tleft = Left;\n\t\tnextright = false;\n\n\t\trep(i, str.size()) {\n\t\t\tif (nextright == true) {\n\t\t\t\tif (rightcheck(left, retpos(str[i])) == true) {\n\t\t\t\t\tright = retpos(str[i]);\n\t\t\t\t\tnextright = false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tleft = retpos(str[i]);\n\t\t\t\t\tleftans++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (leftcheck(retpos(str[i]), right) == true) {\n\t\t\t\t\tleft = retpos(str[i]);\n\t\t\t\t\tnextright = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tright = retpos(str[i]);\n\t\t\t\t\tleftans++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (rightans < leftans) {\n\t\t\tcout << rightans << endl;\n\t\t}\n\t\telse {\n\t\t\tcout << leftans << endl;\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define _CRT_SECURE_NO_WARNINGS\n#include \"bits/stdc++.h\"\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n#define FOR(i, m, n) for (int i = (m); i < (n); ++i)\n#define rrep(i, n) for (int i = (n) - 1; i >= 0; --i)\n#define rfor(i, m, n) for (int i = (m); i >= (n); --i)\n#define sz(x) ((int)(x).size())\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define range_it(a, l, r) (a).begin() + (l), (a).begin() + (r)\n\nusing namespace std;\nusing ll = long long;\t\tusing ld = long double;\nusing VB = vector<bool>;\tusing VVB = vector<VB>;\nusing VI = vector<int>;\t\tusing VVI = vector<VI>;\nusing VL = vector<ll>;\t\tusing VVL = vector<VL>;\nusing VS = vector<string>;\tusing VD = vector<ld>;\nusing PII = pair<int, int>;\tusing VP = vector<PII>;\nusing PLL = pair<ll, ll>;\tusing VPL = vector<PLL>;\ntemplate<class T>using PQ = priority_queue<T>;\ntemplate<class T>using PQS = priority_queue<T, vector<T>, greater<T>>;\nconstexpr int inf = (int)1e9;\nconstexpr ll inf_ll = (ll)1e18, MOD = 1000000007;\nconstexpr ld PI = M_PI, EPS = 1e-12;\n\n// --- input --- //\n#ifdef _WIN32\n#define getchar_unlocked _getchar_nolock\n#define putchar_unlocked _putchar_nolock\n#define fwrite_unlocked fwrite\n#define fflush_unlocked _fflush_nolock\n#endif\ninline int gc() { return getchar_unlocked(); }\ntemplate<class T>inline void InputF(T& v) { cin >> v; }\ninline void InputF(char& v) { while (isspace(v = gc())); }\ninline void InputF(bool& v) { char c; InputF(c); v = c != '0'; }\ninline void InputF(string& v) {\n\tv.clear(); char c; for (InputF(c); !isspace(c); c = gc())v += c;\n}\ninline void InputF(int& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(long long& v) {\n\tbool neg = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c); c = gc())v = v * 10 + (c - '0');\n\tif (neg)v = -v;\n}\ninline void InputF(double& v) {\n\tdouble dp = 1; bool neg = false, adp = false; v = 0; char c; InputF(c);\n\tif (c == '-') { neg = true; c = gc(); }\n\tfor (; isdigit(c) || c == '.'; c = gc()) {\n\t\tif (c == '.')adp = true;\n\t\telse if (adp)v += (c - '0') * (dp *= 0.1);\n\t\telse v = v * 10 + (c - '0');\n\t}\n\tif (neg)v = -v;\n}\ntemplate<class T, class U>inline void InputF(pair<T, U>& v) {\n\tInputF(v.first); InputF(v.second);\n}\ntemplate<class T>inline void InputF(vector<T>& v) {\n\tfor (auto& e : v)InputF(e);\n}\ntemplate<class T>inline T InputF() { T v; InputF(v); return v; }\ninline string GetLine() {\n\tstring v; char c; for (InputF(c); c != '\\n' && c != '\\0'; c = gc())v += c; return v;\n}\nstruct InputV {\n\tint n, m;\n\tInputV(int N) :n(N), m(0) {}\n\tInputV(pair<int, int> N) :n(N.first), m(N.second) {}\n\ttemplate<class T>operator vector<T>() {\n\t\tvector<T> v(n); InputF(v); return v;\n\t}\n\ttemplate<class T>operator vector<vector<T>>() {\n\t\tvector<vector<T>> v(n, vector<T>(m)); InputF(v); return v;\n\t}\n};\nstruct Input {\n\ttemplate<class T>operator T() { return InputF<T>(); }\n\tint operator--(int) { int v; InputF(v); v--; return v; }\n\tInputV operator[](int n) { return InputV(n); }\n\tInputV operator[](pair<int, int> n) { return InputV(n); }\n\tvoid operator()() {}\n\ttemplate<class H, class...T>void operator()(H&& h, T&& ...t) {\n\t\tInputF(h); operator()(forward<T>(t)...);\n\t}\n\ttemplate<class T>Input& operator,(T&& v) {\n\t\tInputF(v); return *this;\n\t}\n}in;\n#define input(T) InputF<T>()\n#define ini input(int)\n#define inl input(ll)\n#define ins input(string)\n#define inputs(T, ...) T __VA_ARGS__; in(__VA_ARGS__)\n#define INT(...) inputs(int, __VA_ARGS__)\n#define LL(...) inputs(ll, __VA_ARGS__)\n#define STR(...) inputs(string, __VA_ARGS__)\n\n// --- output --- //\nstruct BoolStr {\n\tconst char* t, * f; BoolStr(const char* _t, const char* _f) :t(_t), f(_f) {}\n}Yes(\"Yes\", \"No\"), yes(\"yes\", \"no\"), YES(\"YES\", \"NO\"), Int(\"1\", \"0\");\nstruct DivStr {\n\tconst char* d, * l; DivStr(const char* _d, const char* _l) :d(_d), l(_l) {}\n}spc(\" \", \"\\n\"), no_spc(\"\", \"\\n\"), end_line(\"\\n\", \"\\n\"), comma(\",\", \"\\n\"), no_endl(\" \", \"\");\nclass Output {\n\tBoolStr B{ Yes }; DivStr D{ spc };\n\tvoid p(int v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[10]; int i = 0;\n\t\twhile (v)b[i++] = '0' + v % 10, v /= 10;\n\t\tif (!i)b[i++] = '0';\n\t\twhile (i--)putchar_unlocked(b[i]);\n\t}\n\tvoid p(ll v) {\n\t\tif (v < 0)putchar_unlocked('-'), v = -v;\n\t\tchar b[20]; int i = 0;\n\t\twhile (v)b[i++] = '0' + v % 10, v /= 10;\n\t\tif (!i)b[i++] = '0';\n\t\twhile (i--)putchar_unlocked(b[i]);\n\t}\n\tvoid p(bool v) { p(v ? B.t : B.f); }\n\tvoid p(char v) { putchar_unlocked(v); }\n\tvoid p(const char* v) { fwrite_unlocked(v, 1, strlen(v), stdout); }\n\tvoid p(double v) { printf(\"%.20f\", v); }\n\tvoid p(ld v) { printf(\"%.20Lf\", v); }\n\ttemplate<class T> void p(const T& v) { cout << v; }\n\ttemplate<class T, class U>void p(const pair<T, U>& v) { p(v.first); p(D.d); p(v.second); }\n\ttemplate<class T>void p(const vector<T>& v) { rep(i, sz(v)) { if (i)p(D.d); p(v[i]); } }\n\ttemplate<class T>void p(const vector<vector<T>>& v) { rep(i, sz(v)) { if (i)p(D.l); p(v[i]); } }\npublic:\n\tOutput& operator()() { p(D.l); return *this; }\n\ttemplate<class H>Output& operator()(H&& h) { p(h); p(D.l); return *this; }\n\ttemplate<class H, class...T>Output& operator()(H&& h, T&& ...t) {\n\t\tp(h); p(D.d); return operator()(forward<T>(t)...);\n\t}\n\ttemplate<class...T>void exit(T&& ...t) { operator()(forward<T>(t)...); std::exit(EXIT_SUCCESS); }\n\tOutput& flush() { fflush_unlocked(stdout); return *this; }\n\tOutput& set(const BoolStr& b) { B = b; return *this; }\n\tOutput& set(const DivStr& d) { D = d; return *this; }\n\tOutput& set(const char* t, const char* f) { B = BoolStr(t, f); return *this; }\n}out;\n\n// --- step --- //\ntemplate<class T>struct Step {\n\tclass It {\n\t\tT a, b, c;\n\tpublic:\n\t\tconstexpr It() : a(T()), b(T()), c(T()) {}\n\t\tconstexpr It(T _b, T _c, T _s) : a(_b), b(_c), c(_s) {}\n\t\tconstexpr It& operator++() { --b; a += c; return *this; }\n\t\tconstexpr It operator++(int) { It tmp = *this; --b; a += c; return tmp; }\n\t\tconstexpr const T& operator*()const { return a; }\n\t\tconstexpr const T* operator->()const { return &a; }\n\t\tconstexpr bool operator==(const It& i)const { return b == i.b; }\n\t\tconstexpr bool operator!=(const It& i)const { return !(b == i.b); }\n\t\tconstexpr T start()const { return a; }\n\t\tconstexpr T count()const { return b; }\n\t\tconstexpr T step()const { return c; }\n\t};\n\tconstexpr Step(T b, T c, T s) : be(b, c, s) {}\n\tconstexpr It begin()const { return be; }\n\tconstexpr It end()const { return en; }\n\tconstexpr T start()const { return be.start(); }\n\tconstexpr T count()const { return be.count(); }\n\tconstexpr T step()const { return be.step(); }\n\tconstexpr T sum()const { return start() * count() + step() * (count() * (count() - 1) / 2); }\n\toperator vector<T>()const { return as_vector(); }\n\tvector<T> as_vector()const {\n\t\tvector<T> res; res.reserve(count()); each([&](T i) {res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>void each(const F& f)const { for (T i : *this)f(i); }\n\ttemplate<class F>auto map(const F& f)const {\n\t\tvector<decay_t<result_of_t<F(T)>>> res; res.reserve(count());\n\t\teach([&](T i) {res.push_back(f(i)); }); return res;\n\t}\n\ttemplate<class F>int count_if(const F& f)const {\n\t\tint res = 0; each([&](T i) {res += static_cast<bool>(f(i)); }); return res;\n\t}\n\ttemplate<class F>vector<T> select(const F& f)const {\n\t\tvector<T> res; each([&](T i) {if (f(i))res.push_back(i); }); return res;\n\t}\n\ttemplate<class F>auto max(const F& f)const {\n\t\tauto v = map(f); return *max_element(v.begin(), v.end());\n\t}\n\ttemplate<class F>auto min(const F& f)const {\n\t\tauto v = map(f); return *min_element(v.begin(), v.end());\n\t}\n\ttemplate<class F, class U = decay_t<result_of_t<F(T)>>>auto sum(const F& f)const {\n\t\tU res = 0; each([&](T i) {res += static_cast<U>(f(i)); }); return res;\n\t}\n\tusing value_type = T;\n\tusing iterator = It;\nprivate:\n\tIt be, en;\n};\ntemplate<class T>inline constexpr auto step(T a) { return Step<T>(0, a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b) { return Step<T>(a, b - a, 1); }\ntemplate<class T>inline constexpr auto step(T a, T b, T c) { return Step<T>(a, a < b ? (b - a - 1) / c + 1 : 0, c); }\n\n// --- functions --- //\ninline namespace {\n\ttemplate<class T>inline void Sort(T& a) { sort(all(a)); }\n\ttemplate<class T>inline void RSort(T& a) { sort(rall(a)); }\n\ttemplate<class T>inline T Sorted(T a) { Sort(a); return a; }\n\ttemplate<class T>inline T RSorted(T a) { RSort(a); return a; }\n\ttemplate<class T, class F>inline void Sort(T& a, const F& f) {\n\t\tsort(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline void RSort(T& a, const F& f) {\n\t\tsort(rall(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T>inline void Reverse(T& a) { reverse(all(a)); }\n\ttemplate<class T>inline void Unique(T& a) { a.erase(unique(all(a)), a.end()); }\n\ttemplate<class T>inline void Rotate(T& a, int left) { rotate(a.begin(), a.begin() + left, a.end()); }\n\ttemplate<class T>inline T Reversed(T a) { Reverse(a); return a; }\n\ttemplate<class T>inline T Uniqued(T a) { Unique(a); return a; }\n\ttemplate<class T>inline T Rotated(T a, int left) { Rotate(a, left); return a; }\n\ttemplate<class T>inline auto Max(const T& a) { return *max_element(all(a)); }\n\ttemplate<class T>inline auto Min(const T& a) { return *min_element(all(a)); }\n\ttemplate<class T>inline int MaxPos(const T& a) { return max_element(all(a)) - a.begin(); }\n\ttemplate<class T>inline int MinPos(const T& a) { return min_element(all(a)) - a.begin(); }\n\ttemplate<class T, class F>inline auto Max(const T& a, const F& f) {\n\t\treturn *max_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class F>inline auto Min(const T& a, const F& f) {\n\t\treturn *min_element(all(a), [&](const auto& x, const auto& y) {return f(x) < f(y); });\n\t}\n\ttemplate<class T, class U>inline int Count(const T& a, const U& v) { return count(all(a), v); }\n\ttemplate<class T, class F>inline int CountIf(const T& a, const F& f) { return count_if(all(a), f); }\n\ttemplate<class T, class U>inline int Find(const T& a, const U& v) { return find(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline int FindIf(const T& a, const F& f) { return find_if(all(a), f) - a.begin(); }\n\ttemplate<class T, class U = typename T::value_type>inline U Sum(const T& a) { return accumulate(all(a), U()); }\n\ttemplate<class T, class F>inline auto Sum(const T& v, const F& f) {\n\t\treturn accumulate(next(v.begin()), v.end(), f(v.front()), [&](auto a, auto b) {return a + f(b); });\n\t}\n\ttemplate<class T, class U>inline int Lower(const T& a, const U& v) { return lower_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class U>inline int Upper(const T& a, const U& v) { return upper_bound(all(a), v) - a.begin(); }\n\ttemplate<class T, class F>inline void RemoveIf(T& a, const F& f) { a.erase(remove_if(all(a), f), a.end()); }\n\ttemplate<class F>inline auto Vector(size_t size, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t)>>> res(size); for (size_t i = 0; i < size; ++i)res[i] = f(i); return res;\n\t}\n\ttemplate<class T>inline auto Grid(size_t h, size_t w, const T& v = T()) { return vector<vector<T>>(h, vector<T>(w, v)); }\n\ttemplate<class T>inline auto Slice(const T& v, size_t i, size_t len) {\n\t\treturn i < v.size() ? T(v.begin() + i, v.begin() + min(i + len, v.size())) : T();\n\t}\n\ttemplate<class T, class F>inline auto Each(const T& v, const F& f) { for (auto& i : v)f(i); }\n\ttemplate<class T, class F>inline auto Select(const T& v, const F& f) {\n\t\tT res; for (const auto& e : v)if (f(e))res.push_back(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto Map(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (const auto& e : v)res[i++] = f(e); return res;\n\t}\n\ttemplate<class T, class F>inline auto MapIndex(const T& v, const F& f) {\n\t\tvector<decay_t<result_of_t<F(size_t, typename T::value_type)>>> res(v.size());\n\t\tsize_t i = 0; for (auto it = v.begin(); it != v.end(); ++it, ++i)res[i] = f(i, *it); return res;\n\t}\n\ttemplate<class T, class F>inline auto TrueIndex(const T& v, const F& f) {\n\t\tvector<size_t> res; for (size_t i = 0; i < v.size(); ++i)if (f(v[i]))res.push_back(i); return res;\n\t}\n\tinline string operator*(string s, size_t n) { string ret; for (size_t i = 0; i < n; ++i)ret += s; return ret; }\n\ttemplate<class T>inline T Ceil(T n, T m) { return (n + m - 1) / m; }\n\ttemplate<class T>inline T Ceil2(T n, T m) { return Ceil(n, m) * m; }\n\ttemplate<class T>inline T Tri(T n) { return (n & 1) ? (n + 1) / 2 * n : n / 2 * (n + 1); }\n\ttemplate<class T>inline T nC2(T n) { return (n & 1) ? (n - 1) / 2 * n : n / 2 * (n - 1); }\n\ttemplate<class T>inline T Mid(const T& l, const T& r) { return l + (r - l) / 2; }\n\tinline int pop_count(int n) { return bitset<32>(n).count(); }\n\tinline int pop_count(ll n) { return bitset<64>(n).count(); }\n\ttemplate<class T>inline bool chmax(T& a, const T& b) { if (a < b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool chmin(T& a, const T& b) { if (a > b) { a = b; return true; } return false; }\n\ttemplate<class T>inline bool inRange(const T& v, const T& min, const T& max) { return min <= v && v < max; }\n\ttemplate<class T = ll>inline T BIT(int b) { return T(1) << b; }\n\ttemplate<class T>inline T Gcd(T n, T m) { return m ? Gcd(m, n % m) : n; }\n\ttemplate<class T>inline T Lcm(T n, T m) { return n / Gcd(n, m) * m; }\n\ttemplate<class T, class U = typename T::value_type>inline U Gcdv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Gcd<U>);\n\t}\n\ttemplate<class T, class U = typename T::value_type>inline U Lcmv(const T& v) {\n\t\treturn accumulate(next(v.begin()), v.end(), U(*v.begin()), Lcm<U>);\n\t}\n\ttemplate<class T>inline T Pow(T a, T n) { T r = 1; while (n > 0) { if (n & 1)r *= a; a *= a; n /= 2; } return r; }\n\ttemplate<class T>inline T Powmod(T a, T n, T m = MOD) {\n\t\tT r = 1; while (n > 0) { if (n & 1)r = r * a % m, n--; else a = a * a % m, n /= 2; }return r;\n\t}\n}\n\n// --- dump --- //\n#if __has_include(\"dump.hpp\")\n#include \"dump.hpp\"\n#else\n#define dump(...) ((void)0)\n#endif\n\n// ---------------------------------------------------------------- //\n\nint main() {\n\tconst VI X{ 0,1,2,3,1,0,3,1,2,3 };\n\n\tfor (string s = in; s != \"#\"; in(s)) {\n\t\tint n = sz(s);\n\t\tVI a = Map(s, [](char c) {return c - '0'; });\n\n\t\tauto dp = Grid<int>(n, 2, inf);\n\t\tdp[0] = { 0,0 };\n\t\trep(i, n - 1) {\n\t\t\tchmin(dp[i + 1][0], dp[i][0] + 1);\n\t\t\tif (X[a[i]] <= X[a[i + 1]])\n\t\t\t\tchmin(dp[i + 1][0], dp[i][1]);\n\t\t\tif (X[a[i]] >= X[a[i + 1]])\n\t\t\t\tchmin(dp[i + 1][1], dp[i][0]);\n\t\t\tchmin(dp[i + 1][1], dp[i][1] + 1);\n\t\t}\n\t\tout(Min(dp[n - 1]));\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <numeric>\n#include <vector>\n#include <cassert>\n#include <string>\n#include <memory.h>\n#include <queue>\n#include <cstdio>\n#include <cstdlib>\n#include <set>\n#include <map>\n#include <cctype>\n#include <iomanip>\n#include <sstream>\n#include <cctype>\n#include <fstream>\n#include <cmath>\nusing namespace std;\n\n#define REP2(i, m, n) for(int i = (int)(m); i < (int)(n); i++)\n#define REP(i, n) REP2(i, 0, n)\n#define ALL(c) (c).begin(), (c).end()\n#define ITER(c) __typeof((c).begin())\n#define PB(e) push_back(e)\n#define FOREACH(i, c) for(ITER(c) i = (c).begin(); i != (c).end(); ++i)\n#define MP(a, b) make_pair(a, b)\n#define PARITY(n) ((n) & 1)\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst double EPS = 1e-10;\n\nconst int sz = 100010;\nint dp[sz][3][3][2];\n\nint main(){\n  string data;\n  while(cin >> data && data != \"#\"){\n    fill(&dp[0][0][0][0], &dp[0][0][0][0] + 2 * 3 * 3 * sz, INF);\n    REP(i, 3)REP(j, 3) dp[0][i][j][0] = dp[0][i][j][1] = 0;\n    \n    REP(i, data.size()){\n      int num = (data[i] - '1') % 3;\n      REP(b, 3)REP(a, b + 1){\n        dp[i+1][a][num][1] = min(dp[i+1][a][num][1],\n                                 min(dp[i][a][b][0], dp[i][a][b][1] + 1));\n        dp[i+1][num][b][0] = min(dp[i+1][num][b][0],\n                                 min(dp[i][a][b][1], dp[i][a][b][0] + 1));        \n      }\n    }\n    int res = INF;\n    REP(b, 3)REP(a, b + 1) {\n      res = min(res, dp[data.size()][a][b][0]);\n      res = min(res, dp[data.size()][a][b][1]);\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\n#define __int64 long long\n\tint f[]={0,1,2,3,1,0,3,1,2,3,100};\n\tint main(){\n\tstring n;\n\tint ans1=0,ans2=0,l=5,r=5;\n\twhile(cin>>n,n!=\"#\"){\n\tans1=ans2=0,l=r=5;\n\tl=n[0]-'0';\n\tint mae=0;\n\tfor(int i=1;i<(int)n.size();i++){\n\t\t//cout<<l<<\" \"<<r<<\" \"<<mae<<endl;\n\t\tif(mae==0){\n\t\t\tif(f[l]<f[n[i]-'0']){r=n[i]-'0';mae=1;}\n\t\t\telse l=n[i]-'0',ans1++,mae=0;\n\t\t}\n\t\telse{\n\t\t\tif(f[r]>f[n[i]-'0']){l=n[i]-'0',mae=0;}\n\t\t\telse r=n[i]-'0',ans1++,mae=1;\n\t\t}\n\t}\n\tr=n[0]-'0',l=5;\n\tmae=1;\n\tfor(int i=1;i<(int)n.size();i++){\n\t\t//cout<<l<<\" \"<<r<<\" \"<<mae<<endl;\n\t\tif(mae==0){\n\t\t\tif(f[l]<f[n[i]-'0']){r=n[i]-'0';mae=1;}\n\t\t\telse l=n[i]-'0',ans2++,mae=0;\n\t\t}\n\t\telse{\n\t\t\tif(f[r]>f[n[i]-'0']){l=n[i]-'0';mae=0;}\n\t\t\telse r=n[i]-'0',ans2++,mae=1;\n\t\t}\n\t}\n\t//<<l<<\" \"<<r<<\" \"<<mae<<endl;\n\tcout<<min(ans1,ans2)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1e+8;\nstring s;\nint ans;\n\n// k := ステップ数, foot := 足の位置, t := 0 のときは右足を,1のときは左足を動かす, cnt := 解\nvoid solve(int k, int foot, int t, int cnt){\n    if( k == s.size() ){\n        ans = min(ans, cnt);\n        return;\n    }\n    \n    if( t == 0 ){ // 右足を動かす.\n        int ly = ((foot - 1) % 3) + 1;\n        int next = s[k] - '0';\n        int ry = ((next - 1) % 3) + 1;\n        \n        if( ly <= ry ){ // 動かせるとき\n            solve(k + 1, next, (t + 1) % 2, cnt);\n        }else{ // 動かせないとき\n            solve(k + 1, next, t, cnt + 1);\n        }\n    }else{ // 左足を動かす.\n        int ry = ((foot - 1) % 3) + 1;\n        int next = s[k] - '0';\n        int ly = ((next - 1) % 3) + 1; \n        \n        if( ly <= ry ){ // 動かせるとき\n            solve(k + 1, next, (t + 1) % 2, cnt);\n        }else{ // 動かせないとき\n            solve(k + 1, next, t, cnt + 1);\n        }\n    }\n}\n\nint main(){\n    while( cin >> s, s != \"#\" ){\n        ans = INF;\n        for(int i = 1 ; i <= 9 ; i++ ){\n            if( i == 5 ) continue;\n            solve(0, i, 0, 0);\n            solve(0, i, 1, 0);\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#define INF (1e9)\nusing namespace std;\n\nint main(){\n  int d[10]={0,0,1,2,0,-1,2,0,1,2},cnt,ans,c;\n  string s;\n  while(1){\n    cin>>s;\n    if(s==\"#\") break;\n    ans=INF;\n    for(int i=0;i<2;i++){\n      c=i;\n      cnt=0;\n      for(int j=1;j<s.size();j++){\n\tint k=s[j-1]-'0',t=s[j]-'0';\n\tif((!c&&d[k]>d[t])||(c&&d[k]<d[t])) cnt++;\n\telse c=!c;\n      }\n      ans=min(ans,cnt);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nstruct step\n{\n\tint p;\n\tint migi;\n\tint hidari;\n};\n\nint main(void)\n{\n\tstring s;\n\tint ans;\n\tint i1;\n\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s==\"#\") break;\n\n\t\tvector<step> dp(s.size());\n\n\t\tfor(i1=0;i1<s.size();i1++){\n\t\t\tdp[i1].p=s[i1]-48-1; //0から8までにしたい\n\t\t\tdp[i1].migi=0;\n\t\t\tdp[i1].hidari=0;\n\t\t}\n\n\t\tfor(i1=1;i1<s.size();i1++){\n\t\t\tif(dp[i1-1].p%3<dp[i1].p%3){\n\t\t\t\tdp[i1].migi = min(dp[i1-1].hidari,dp[i1-1].migi+1);\n\t\t\t\tdp[i1].hidari = dp[i1-1].hidari+1;\n\t\t\t}\n\t\t\telse if(dp[i1-1].p%3==dp[i1].p%3){\n\t\t\t\tdp[i1].migi = min(dp[i1-1].hidari,dp[i1-1].migi+1);\n\t\t\t\tdp[i1].hidari = min(dp[i1-1].hidari+1,dp[i1-1].migi);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdp[i1].migi = dp[i1-1].migi+1;\n\t\t\t\tdp[i1].hidari = min(dp[i1-1].hidari+1,dp[i1-1].migi);\n\t\t\t}\n\t\t\t//cout<<dp[i1].hidari<<\" \"<<dp[i1].migi<<endl;\n\t\t}\n\n\t\tans=min(dp[s.size()-1].migi,dp[s.size()-1].hidari);\n\n\n\t\tcout<<ans<<endl;\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"unordered_set\"\n#include \"iomanip\"\n#include \"cmath\"\n#include \"random\"\n#include \"bitset\"\n#include \"cstdio\"\n#include \"numeric\"\n#include \"cassert\"\n#include \"ctime\"\n\nusing namespace std;\n\nconstexpr long long int MOD = 1000000007;\n//constexpr int MOD = 1000000007;\n//constexpr int MOD = 998244353;\n//constexpr long long int MOD = 998244353;\nconstexpr double EPS = 1e-12;\n\n//int N, M, K, T, H, W, L, R;\nlong long int N, M, K, T, H, W, L, R;\n\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\n\tstring s;\n\tint dp[10][10][2] = {};\n\tint ndp[10][10][2] = {};\n\twhile (cin >> s, s != \"#\") {\n\t\tfor (auto &i : s)i--;\n\t\tfor (int i = 0; i < 10; i++) {\n\t\t\tfor (int j = 0; j < 10; j++) {\n\t\t\t\tfor (int k = 0; k < 2; k++) {\n\t\t\t\t\tdp[i][j][k] = MOD;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < 9; i++) {\n\t\t\tfor (int j = 0; j < 9; j++) {\n\t\t\t\tif (i % 3 <= j % 3) {\n\t\t\t\t\tdp[i][j][0] = dp[i][j][1] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (auto c : s) {\n\t\t\tfor (int i = 0; i < 10; i++) {\n\t\t\t\tfor (int j = 0; j < 10; j++) {\n\t\t\t\t\tfor (int k = 0; k < 2; k++) {\n\t\t\t\t\t\tndp[i][j][k] = MOD;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 0; i < 9; i++) {\n\t\t\t\tfor (int j = 0; j < 9; j++) {\n\t\t\t\t\tint a = c - '0', b = j;\n\t\t\t\t\tif (a % 3 <= b % 3) {\n\t\t\t\t\t\tndp[a][b][0] = min({ ndp[a][b][0], dp[i][j][0] + 1,dp[i][j][1] });\n\t\t\t\t\t}\n\t\t\t\t\ta = i, b = c - '0';\n\t\t\t\t\tif (a % 3 <= b % 3) {\n\t\t\t\t\t\tndp[a][b][1] = min({ ndp[a][b][1], dp[i][j][1] + 1,dp[i][j][0] });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 0; i < 10; i++) {\n\t\t\t\tfor (int j = 0; j < 10; j++) {\n\t\t\t\t\tfor (int k = 0; k < 2; k++) {\n\t\t\t\t\t\tdp[i][j][k] = ndp[i][j][k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = MOD;\n\t\tfor (int i = 0; i < 9; i++) {\n\t\t\tfor (int j = 0; j < 9; j++) {\n\t\t\t\tfor (int k = 0; k < 2; k++) {\n\t\t\t\t\tans = min(ans, dp[i][j][k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <numeric>\n#include <vector>\n#include <cassert>\n#include <string>\n#include <memory.h>\n#include <queue>\n#include <cstdio>\n#include <cstdlib>\n#include <set>\n#include <map>\n#include <cctype>\n#include <iomanip>\n#include <sstream>\n#include <cctype>\n#include <fstream>\n#include <cmath>\nusing namespace std;\n\n#define REP2(i, m, n) for(int i = (int)(m); i < (int)(n); i++)\n#define REP(i, n) REP2(i, 0, n)\n#define ALL(c) (c).begin(), (c).end()\n#define ITER(c) __typeof((c).begin())\n#define PB(e) push_back(e)\n#define FOREACH(i, c) for(ITER(c) i = (c).begin(); i != (c).end(); ++i)\n#define MP(a, b) make_pair(a, b)\n#define PARITY(n) ((n) & 1)\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\nconst int INF = 1000 * 1000 * 1000 + 7;\nconst double EPS = 1e-10;\n\nconst int sz = 100010;\nint dp[sz][3][3][2];\n\nint main(){\n  string data;\n  while(cin >> data && data != \"#\"){\n    fill(&dp[0][0][0][0], &dp[0][0][0][0] + 2 * 3 * 3 * sz, INF);\n    dp[0][1][1][0] = dp[0][1][1][1] = 0;\n    \n    REP(i, data.size()){\n      int num = (data[i] - '1') % 3;\n      REP(b, 3)REP(a, b + 1){\n        dp[i+1][a][num][1] = min(dp[i+1][a][num][1],\n                                 min(dp[i][a][b][0], dp[i][a][b][1] + 1));\n        dp[i+1][num][b][0] = min(dp[i+1][num][b][0],\n                                 min(dp[i][a][b][1], dp[i][a][b][0] + 1));        \n      }\n    }\n    int res = INF;\n    REP(b, 3)REP(a, b + 1) {\n      res = min(res, dp[data.size()][a][b][0]);\n      res = min(res, dp[data.size()][a][b][1]);\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<list>\n#include<map>\n#include<queue>\n#include<set>\n#include<stack>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<iostream>\n#include<sstream>\n#include<cmath>\n#include<cstdlib>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint main(){\n  int i,j;\n  string s;\n  while(cin>>s,s[0]!='#'){\n    int lx=-1,ly=0,rx=3,ry=0;\n    int a=0,b=0;\n    int ln=s.length();\n    j=0;\n    for(i=0;i<ln;i++){\n      if((i+j)%2){\n\tif(0){\n\t}else if(rx==(s[i]-'1')%3&&ry==(s[i]-'1')/3){\n\t  a++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3>rx){\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t  a++;\n\t  j=(j+1)%2;\n\t}else{\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t}\n      }else{\n\tif(0){\n\t}else if(lx==(s[i]-'1')%3&&ly==(s[i]-'1')/3){\n\t  a++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3<lx){\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t  a++;\n\t  j=(j+1)%2;\n\t}else{\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t}\n      }\n    }\n    lx=-1;\n    ly=0;\n    rx=3;\n    ry=0;\n    j=0;\n    for(i=0;i<ln;i++){\n      if((i+j)%2){\n\tif(0){\n\t}else if(lx==(s[i]-'1')%3&&ly==(s[i]-'1')/3){\n\t  b++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3<lx){\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t  b++;\n\t  j=(j+1)%2;\n\t}else{\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t}\n      }else{\n\tif(0){\n\t}else if(rx==(s[i]-'1')%3&&ry==(s[i]-'1')/3){\n\t  b++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3>rx){\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t  b++;\n\t  j=(j+1)%2;\n\t}else{\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t}\n      }\n    }\n    cout<<min(a,b)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tans=100000;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,0,0),step(0,a,1));\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include<iostream>\n\nusing namespace std;\n\nbool isCross(int l,int r){\n\tif(l==1 || l==4 || l==7)\treturn false;\n\tif(l==2 || l==8)\treturn (r==1 || r==4 || r==7);\n\treturn !(r==3 || r==6 || r==9);\n}\n\nconst int INF=1<<30;\n\nint main(){\n\tfor(string s;cin>>s,s!=\"#\";){\n\t\tint len=s.length();\n\t\tfor(int i=0;i<len;i++)\ts[i]-='0';\n\n\t\tint memo[10][10][2],next[10][10][2];\n\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++){\n\t\t\tmemo[l][r][b]=(l==5 || r==5 || l==r)?INF:0;\n\t\t}\n\t\tfor(int i=0;i<len;i++){\n\t\t\tint a=s[i];\n\t\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++){\n\t\t\t\tnext[l][r][b]=INF;\n\t\t\t\tif(l==5 || r==5 || l==r || (l!=a && r!=a) || isCross(l,r))\tcontinue;\n\t\t\t\telse{\n\t\t\t\t\tif(l==a){\n\t\t\t\t\t\tfor(int bef=1;bef<10;bef++){\n\t\t\t\t\t\t\tif(bef!=5 && !isCross(bef,r)){\n\t\t\t\t\t\t\t\tnext[a][r][0]=min(next[a][r][0],memo[bef][r][0]+1);\n\t\t\t\t\t\t\t\tnext[a][r][0]=min(next[a][r][0],memo[bef][r][1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\t// r==a\n\t\t\t\t\t\tfor(int bef=1;bef<10;bef++){\n\t\t\t\t\t\t\tif(bef!=5 && !isCross(l,bef)){\n\t\t\t\t\t\t\t\tnext[l][a][1]=min(next[l][a][1],memo[l][bef][0]);\n\t\t\t\t\t\t\t\tnext[l][a][1]=min(next[l][a][1],memo[l][bef][1]+1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(r!=a)puts(\"exception\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++){\t// update\n\t\t\t\tmemo[l][r][b]=next[l][r][b];\n\t\t\t}\n\t\t}\n\n\t\tint ans=INF;\n\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++)\tans=min(ans,memo[l][r][b]);\n\t\tcout<<ans<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\nconst int MAX_N=100000+10;\nint forward(int left, int right){\n  int a=(left-1)%3,b=(right-1)%3;\n  return a<b?1:a>b?-1:0;\n}\n\nstring str;\nint main(){ _;\n  while(cin>>str,str[0]!='#'){\n    int le=0,re=0,ll=5,lr=5,rl=5,rr=5;\n    int lLastForward=0,rLastForward=0;\n    int sz=str.size();\n    for(int i=0;i<sz;i++){\n      if(i%2==0){\n\tll=rr=str[i]-'0';\n      }else{\n\tlr=rl=str[i]-'0';\n      }\n      int lForward=forward(ll,lr);\n      int rForward=forward(rl,rr);\n      if(lLastForward*lForward==-1)le++;\n      if(rLastForward*rForward==-1)re++;\n      if(lForward!=0)lLastForward=lForward;\n      if(rForward!=0)rLastForward=rForward;\n    }\n    cout<<min(le,re)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n//repetition\n#define FOR(i,a,b) for(ll i=(a);i<(b);++i)\n#define rep(i, n) for(ll i = 0; i < (ll)(n); i++)\n\n//container util\n#define all(x) (x).begin(),(x).end()\n\n//typedef\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<ll, ll> PLL;\n\n//const value\n//const ll MOD = 1e9 + 7;\n//const int dx[] = {0,1,0,-1};//{0,0,1,1,1,-1,-1,-1};\n//const int dy[] = {1,0,-1,0};//{1,-1,0,1,-1,0,1,-1};\n\n//conversion\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ninline ll toLL(string s) {ll v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n\nint main(){\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  string s;\n\n\n\n\n  while(true){\n    cin >> s;\n    if(s == \"#\") break;\n    int place[s.size()+1][3][3][2];\n    rep(i,3)rep(j,3)rep(k,2) place[0][i][j][k] = 0;\n    FOR(x,1,s.size()+1)rep(i,3)rep(j,3)rep(k,2) place[x][i][j][k] = 1e9;\n    rep(i,s.size()){\n      int next = (s[i] - '0' + 2) % 3;\n      rep(l,3) rep(rr,3) rep(prev,2){\n        if(prev == 0){// 前回左足で動かした\n          if(rr >= next) place[i+1][next][rr][0] = min(place[i+1][next][rr][0],place[i][l][rr][prev] + 1);// left move\n          if(l <= next) place[i+1][l][next][1] = min(place[i+1][l][next][1],place[i][l][rr][prev]); // right move\n        }else{// 前回右足で動かした\n          if(rr >= next) place[i+1][next][rr][0] = min(place[i+1][next][rr][0],place[i][l][rr][prev]);// left move\n          if(l <= next) place[i+1][l][next][1] = min(place[i+1][l][next][1],place[i][l][rr][prev]+1); // right move\n        }\n      }\n    }\n    int ans = 1e9;\n    rep(i,3) rep(j,3) rep(k,2){\n      ans = min(place[s.size()][i][j][k],ans);\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <map>\n#include <vector>\n#include <string>\n#define INF 0x3fffffff\n#define eps 1e-8\nusing namespace std;\nchar mold[100005];\nint len;\nint dp[10][10][2],tmp[10][10][2];\nint table[]={0,-1,0,1,-1,0,1,-1,0,1};\n\nint main()\n{\n    int i,j,ans,k;\n    while(scanf(\"%s\",mold))\n    {\n        if(mold[0]=='#')\n            return 0;\n        for(i=1;i<=9;++i)\n            for(j=1;j<=9;++j)\n                dp[i][j][1]=dp[i][j][0]=INF;\n        for(i=1;i<=9;++i)\n        {\n            if(i==5)\n                continue;\n            if(table[mold[0]-'0']>table[i])\n                continue;\n            dp[mold[0]-'0'][i][0]=0;\n        }\n        for(i=1;i<=9;++i)\n        {\n            if(i==5)\n                continue;\n            if(table[i]>table[mold[0]-'0'])\n                continue;\n            dp[i][mold[0]-'0'][1]=0;\n        }\n        len=strlen(mold);\n        for(i=1;i<len;++i)\n        {\n            memcpy(tmp,dp,sizeof(dp));\n            for(j=1;j<=9;++j)\n                for(k=1;k<=9;++k)\n                dp[j][k][1]=dp[j][k][0]=INF;\n            for(j=1;j<=9;++j)\n            {\n                if(j==5)\n                    continue;\n                if(table[j]<table[mold[i]-'0']||table[j]<table[mold[i-1]-'0'])\n                    continue;\n                dp[mold[i]-'0'][j][0]=tmp[mold[i-1]-'0'][j][0]+1;\n            }\n            for(j=1;j<=9;++j)\n            {\n                if(table[mold[i-1]-'0']<table[mold[i]-'0'])\n                    break;\n                if(j==5)\n                    continue;\n                if(table[j]>table[mold[i-1]-'0'])\n                    continue;\n                dp[mold[i]-'0'][mold[i-1]-'0'][0]=min(dp[mold[i]-'0'][mold[i-1]-'0'][0],tmp[j][mold[i-1]-'0'][1]);\n            }\n            for(j=1;j<=9;++j)\n            {\n                if(j==5)\n                    continue;\n                if(table[j]>table[mold[i]-'0']||table[j]>table[mold[i-1]-'0'])\n                    continue;\n                dp[j][mold[i]-'0'][1]=tmp[j][mold[i-1]-'0'][1]+1;\n            }\n            for(j=1;j<=9;++j)\n            {\n                if(table[mold[i-1]-'0']>table[mold[i]-'0'])\n                    break;\n                if(j==5)\n                    continue;\n                if(table[j]<table[mold[i-1]-'0'])\n                    continue;\n                dp[mold[i-1]-'0'][mold[i]-'0'][1]=min(dp[mold[i-1]-'0'][mold[i]-'0'][1],tmp[mold[i-1]-'0'][j][0]);\n            }\n        }\n        ans=INF;\n        for(i=1;i<=9;++i)\n        {\n            if(table[i]<table[mold[len-1]-'0'])\n                continue;\n            ans=min(ans,dp[mold[len-1]-'0'][i][0]);\n        }\n        for(i=1;i<=9;++i)\n        {\n            if(table[i]>table[mold[len-1]-'0'])\n                continue;\n            ans=min(ans,dp[i][mold[len-1]-'0'][1]);\n        }\n       /* for(i=1;i<=9;++i)\n            for(j=1;j<=9;++j)\n                printf(\"%d %d %d %d\\n\",i,j,dp[i][j][0],dp[i][j][1]);*/\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define int long long\nconst int INF = 1e9;\n\nsigned main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(0);\n  cout << fixed << setprecision(12);\n\n  string s;\n  while ( cin >> s, s != \"#\" ) {\n    int ans = INF;    \n    for ( int i = 0; i < 9; i++ ) { // init of left\n      for ( int j = 0; j < 9; j++ ) { // init of right\n\tif ( j%3 < i%3 || i == 4 || j == 4 ) continue; // 初期状態も気をつける！\t\n\tfor ( int k = 0; k < 2; k++ ) { // init turn (0:L 1:R)\n\t  int l = i, r = j;\n\t  int t = k;\n\t  int cnt = 0;\n\t  for ( int a = 0; a < (int)s.size(); a++ ) {\n\t    int d = s[a]-'1';\t    \n\t    int nl = l, nr = r;\n\t    if ( !t ) nl = d;\t    \n\t    else nr = d;\n\t    if ( nr%3 < nl%3 ) { // violate\n\t      cnt++;\n\t      nl = l; nr = r;\t      \n\t      if ( !t ) nr = d;\n\t      else nl = d;\n\t      t = !t;\n\t    }\n\t    l = nl; r = nr;\n\t    t = !t;\n\t  }\n\n\t  ans  = min(ans, cnt);\n\t}\n      }\n    }\n\n    cout << ans << endl;\n  }\n  \n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define SZ(x) (int)(x.size())\n#define REP(i, n) for(int i=0;i<(n);++i)\n#define FOR(i, a, b) for(int i=(a);i<(b);++i)\n#define RREP(i, n) for(int i=(int)(n)-1;i>=0;--i)\n#define RFOR(i, a, b) for(int i=(int)(b)-1;i>=(a);--i)\n#define ALL(a) a.begin(),a.end()\n#define DUMP(x) cerr<<#x<<\" = \"<<(x)<<endl\n#define DEBUG(x) cerr<<#x<<\" = \"<<(x)<<\" (L\"<<__LINE__<<\")\"<< endl;\nusing ll = long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vvvi = vector<vvi>;\nusing vll = vector<ll>;\nusing vvll = vector<vll>;\nusing P = pair<int, int>;\nconst double eps = 1e-8;\nconst ll MOD = 1000000007;\nconst int INF = INT_MAX / 2;\nconst ll LINF = LLONG_MAX / 2;\ntemplate <typename T1, typename T2>\nbool chmax(T1 &a, const T2 &b) {\n    if (a < b) { a = b; return true; }\n    return false;\n}\ntemplate <typename T1, typename T2>\nbool chmin(T1 &a, const T2 &b) {\n    if (a > b) { a = b; return true; }\n    return false;\n}\ntemplate<typename T>\nostream &operator<<(ostream &os, const vector<T> &v) {\n    os << \"[\";\n    REP(i, SZ(v)) {\n        if (i) os << \", \";\n        os << v[i];\n    }\n    return os << \"]\";\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const map<T1, T2> &mp) {\n    os << \"{\";\n    int a = 0;\n    for (auto &tp : mp) {\n        if (a) os << \", \";\n        a = 1;\n        os << tp;\n    }\n    return os << \"}\";\n}\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const pair<T1, T2> &p) {\n    os << p.first << \":\" << p.second;\n    return os;\n}\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n\n\n    for (;;) {\n        string s; cin >> s;\n        if (s == \"#\") break;\n        int n = s.size();\n\n        vector<int> S(n);\n        REP(i, n) S[i] = s[i] - '1';\n\n        vvvi dp(2, vvi(9, vi(s.size(), INF)));\n        REP(k, 9) {\n            dp[0][k][0] = dp[1][k][0] = 0;\n        }\n        FOR(i, 1, s.size()) {\n            REP(k, 9) {\n                if (dp[0][k][i-1] != INF) {\n                    if (S[i] % 3 <= k % 3) chmin(dp[0][k][i], dp[0][k][i-1] + 1);\n                    if (S[i] % 3 >= S[i-1] % 3) chmin(dp[1][S[i-1]][i], dp[0][k][i-1]);\n                }\n                if (dp[1][k][i-1] != INF) {\n                    if (S[i] % 3 >= k % 3) chmin(dp[1][k][i], dp[1][k][i-1] + 1);\n                    if (S[i] % 3 <= S[i-1] % 3) chmin(dp[0][S[i-1]][i], dp[1][k][i-1]);\n                }\n            }\n        }\n\n        int ans = INF;\n        REP(k, 9) {\n            chmin(ans, dp[0][k][n-1]);\n            chmin(ans, dp[1][k][n-1]);\n        }\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "///\n// File:  2254.cpp\n// Author: ymiyamoto\n//\n// Created on Fri Dec 29 11:08:05 2017\n//\n\n#include <cstdint>\n#include <iostream>\n#include <string>\n\nusing namespace std;\nenum turn_t {\n  Left,\n  Right,\n};\n\nuint32_t violates(string arrows, turn_t start)\n{\n  uint32_t left;\n  uint32_t right;\n  if (start == Left) {\n    right = (arrows[0] - '0' + 2) % 3;\n  } else {\n    left = (arrows[0] - '0' + 2) % 3;\n  }\n  turn_t turn = start;\n\n  uint32_t count = 0;\n  for (uint32_t i = 1; i < arrows.size(); i++) {\n    uint32_t arrow = (arrows[i] - '0' + 2) % 3;\n    if (turn == Left) {\n      if (arrow <= right) {\n        left = arrow;\n        turn = Right;\n      } else {\n        right = arrow;\n        turn = Left;\n        count++;\n      }\n    } else {\n      if (left <= arrow) {\n        right = arrow;\n        turn = Left;\n      } else {\n        left = arrow;\n        turn = Right;\n        count++;\n      }\n    }\n  }\n\n  return count;\n}\n\nint32_t main()\n{\n  while (true) {\n    string arrows;\n    cin >> arrows;\n    if (arrows[0] == '#') break;\n\n    if (arrows.size() <= 2) {\n      cout << 0 << endl;\n      continue;\n    }\n\n    cout << min(violates(arrows, Left), violates(arrows, Right)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n\nstring s;\nint solve(int foot){\n    int res=0;\n    int n=s.size();\n    for(int i=1;i<n;i++){\n        int x = (s[i-1]-'1')%3;\n        int y = (s[i]-'1')%3;\n        if(foot){\n            if(y<x)res++;\n            else foot^=1;\n        }else{\n            if(y>x)res++;\n            else foot^=1;\n        }\n    }\n    return res;\n}\n\nint main(){\n    while(cin>>s && s!=\"#\"){\n        cout << min(solve(0),solve(1)) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#define INF (1<<21)\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0;\n    int dp[2][4] = {{0,0,0,0},{0,0,0,0}};\n\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      int a = str[i-1] - '0' - 1;\n      int b = a;\n      bool f = false;\n      if(i > 1) b = str[i-2] - '0' - 1;\n\n      if(i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a]){\n\tdp[1][0] = dp[0][0] + 1;\n\tdp[1][3] = dp[0][3] + 1;\n\t//if(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][1] = min(dp[0][1],dp[1][3]);\n\t  dp[1][2] = min(dp[0][2],dp[1][0]);\n\t  f = true;\n\t  //}\n      }\n      else{\n\tdp[1][0] = dp[0][0];\n\tdp[1][3] = dp[0][3];\n      }\n\n      if(i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a]){\n\tdp[1][1] = dp[0][1] + 1;\n\tdp[1][2] = dp[0][2] + 1;\n\t//if(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][0] = min(dp[0][0],dp[1][2]);\n\t  dp[1][3] = min(dp[0][3],dp[1][1]);\n\t  //}\n      }\n      else if(!f){\n\tdp[1][1] = dp[0][1];\n\tdp[1][2] = dp[0][2];\n      }\n\n      ans = INF;\n      for(int j=0;j<4;j++){\n\tdp[0][j] = dp[1][j];\n\tans = min(ans,dp[0][j]);\n      }\n    }\n    \n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nusing namespace std;\nstring op;\n\nbool check(int lef,int rig)\n{\n  if(lef == 2 || lef == 8)\n    {\n      if(rig == 7 || rig == 4 || rig == 1)\n\treturn false;\n      return true;\n    }\n  else if(lef == 9 || lef == 6 || lef == 3)\n    {\n      if(!(rig == 9 || rig == 6 || rig == 3 || rig == -1))\n\treturn false;\n      return true;\n    }\n  return true;\n}\n\nint Do(bool step)\n{\n  if(op.size() <= 1)\n    return 0;\n  int res = 0;\n  int l,r,pl,pr;\n  l = r = pl = pr = -1;\n  for(int i=0;i<op.size();i++)\n    {\n      if(!step)\n\tl = op[i]-'0',step = !step;\n      else \n\tr = op[i]-'0',step = !step;\n\n      if(!check(l,r))\n\t{\n\t  if(!step)\n\t    r = l,l = pl;\n\t  else\n\t    l = r,r = pr;\n\t  step = !step;\n\t  res++;\n\t}\n      pr = r, pl = l;\n    }\n  return res;\n}\n\nint main()\n{\n \n  while(cin >> op, op != \"#\")\n    cout << min(Do(1),Do(0)) << endl;\n    \n    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[100001];\nlong int num[100001];\nint ans;\nint size;\n\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,r=2,w=1;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tans=1000000;\n\t\tcin >> str;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=str[a]-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,3,0),step(1,a,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(scanf(\"%s\",c)){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\trep2(i,1,strlen(c)+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep2(l,k,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[strlen(c)%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX 10005\n#define INF (1<<26)\nstring s;\nint t[MAX];\nint d[MAX][10][10][2];\n\nstruct state{\n  int pos,l,r,f,cost;\n  bool operator < (const state &p)const{    return cost > p.cost;  }\n};\n\nint change[]={0,1,2,3,1,2,3,1,2,3};\nint check(int L,int R){\n  if(L==0||R==0)return 1;\n  if(change[L]<=change[R])return 1;\n  else return 0;\n}\n\nvoid update(priority_queue<state> &Q,state next){\n  if(next.cost<d[next.pos%MAX][next.l][next.r][next.f]){\n    d[next.pos%MAX][next.l][next.r][next.f]=next.cost;\n    Q.push(next);\n  }\n}\n\nint solve(){\n  int len=s.size();\n  if(len<=2)return 0;\n  for(int i=0;i<MAX;i++){\n    t[i]=s[i]-'0';\n    for(int j=0;j<10;j++)\n      for(int k=0;k<10;k++)\n\td[i][j][k][0]=d[i][j][k][1]=INF;\n  }\n  d[0][t[0]][0][0]=0;\n  d[0][0][t[0]][1]=0;\n  priority_queue<state> Q;\n  Q.push((state){0,t[0],0,0,0});\n  Q.push((state){0,0,t[0],1,0});\n\n  while(!Q.empty()){\n    state s=Q.top();Q.pop();\n    if(s.cost>d[s.pos%MAX][s.l][s.r][s.f])continue;\n    if(s.pos==len-1)return s.cost;\n\n    int np=s.pos+1,to=t[np];\n\n    if(check(to,s.r)){\n      update(Q,(state){ np, to, s.r, 0, s.cost+1-s.f});\n    }\n\n    if(check(s.l,to)){\n      update(Q,(state){ np, s.l, to, 1, s.cost+s.f});\n    }\n\n   \n  }\n}\n\nint main(){\n  while(1){\n    cin>>s;\n    if(s==\"#\")break;\n    cout<<solve()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nvector<int> v;\nint dp[2][100100];\n\n#define INF 1000000000\n#define rep(i, a) for (int i = 0; i < (int) (a); i++)\n#define reps(i, a, b) for (int i = (int) (a); i < (int) (b); i++)\nbool init()\n{\n\tv.clear();\n\tstring s;\n\tcin >> s;\n\tif (s[0] == '#') return false;\n\trep(i, s.length()) {\n\t\tv.push_back((s[i] - '0' + 2) % 3);\n\t}\n\trep(i, 2) rep(j, 100100) dp[i][j] = INF;\n\tdp[0][0] = dp[1][0] = 0;\n\treturn true;\n}\n\n\nint main()\n{\n    while (init()) {\n\t\treps(i, 1, v.size()) {\n\t\t\tif (v[i] <= v[i-1]) {\n\t\t\t\tdp[0][i] = min(dp[0][i], dp[1][i-1]);\n\t\t\t\tdp[0][i] = min(dp[0][i], dp[0][i-1] + 1);\n\t\t\t}\n\t\t\tif (v[i] >= v[i-1]) {\n\t\t\t\tdp[1][i] = min(dp[1][i], dp[0][i-1]);\n\t\t\t\tdp[1][i] = min(dp[1][i], dp[1][i-1] + 1);\n\t\t\t}\n\t\t}\n\t\tcout << min(dp[0][v.size()-1], dp[1][v.size() - 1]) << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nvoid solve(string s)\n{\n\tint ans1 = 0, ans2 = 0;\n\tbool isbeforestepleft = false;\n\tint beforepanel = 5;\n\t// はじめの足が左のとき\n\tfor(int i = 0; i < s.length(); i++){\n\t\tif((s[i] - '0') % 3 == 1){\n\t\t\tif(!isbeforestepleft){\n\t\t\t\tisbeforestepleft = true;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 1){\n\t\t\t\t\tans1++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if((s[i] - '0') % 3 == 0){\n\t\t\tif(isbeforestepleft){\n\t\t\t\tisbeforestepleft = false;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 0){\n\t\t\t\t\tans1++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif((beforepanel % 3 == 1 && isbeforestepleft) || (beforepanel % 3 == 0 && !isbeforestepleft)){\n\t\t\t\tisbeforestepleft = !isbeforestepleft;\n\t\t\t} else {\n\t\t\t\tans1++;\n\t\t\t}\n\t\t}\n\t\tbeforepanel = s[i] - '0';\n\t}\n\tisbeforestepleft = true;\n\tbeforepanel = 5;\n\t// はじめの足が右\n\tfor(int i = 0; i < s.length(); i++){\n\t\tif((s[i] - '0') % 3 == 1){\n\t\t\tif(!isbeforestepleft){\n\t\t\t\tisbeforestepleft = true;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 1){\n\t\t\t\t\tans2++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if((s[i] - '0') % 3 == 0){\n\t\t\tif(isbeforestepleft){\n\t\t\t\tisbeforestepleft = false;\n\t\t\t} else {\n\t\t\t\tif(beforepanel % 3 != 0){\n\t\t\t\t\tans2++;\n\t\t\t\t} else {\n\t\t\t\t\tisbeforestepleft = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif((beforepanel % 3 == 1 && isbeforestepleft) || (beforepanel % 3 == 0 && !isbeforestepleft)){\n\t\t\t\tisbeforestepleft = !isbeforestepleft;\n\t\t\t} else {\n\t\t\t\tans2++;\n\t\t\t}\n\t\t}\n\t\tbeforepanel = s[i] - '0';\n\t}\n\tint ans = min(ans1, ans2);\n\tcout << ans << endl;\n\treturn;\n}\n\nint main()\n{\n\tstring s;\n\twhile(1){\n\t\tcin >> s;\n\t\tif(s == \"#\") break;\n\t\tsolve(s);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <iomanip>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <bitset>\n#include <stack>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <functional>\n#include <cctype>\n#include <complex>\n#include <string>\n#include <sstream>\n\nusing namespace std;\n\n#define all(c) c.begin(),c.end()\n#define rall(c) c.rbegin(),c.rend()\n#define mp(a,b) make_pair((a),(b))\n#define eq ==\n\ntypedef long long ll;\ntypedef complex<double> point;\ntypedef pair<int,int> pii;\n\n// →↑←↓\nconst int dx[] = {1,0,-1,0};\nconst int dy[] = {0,-1,0,1};\n\n\nconst double EPS = 1e-9;\n\nconst int INF = 10000000;\nint solve(string s){\n    int ret=0;\n    // left leg = 0,right leg = 1;\n    vector<vector<int> > dp(2,vector<int>(s.length()));\n    for(int i=1;i<s.length();i++){\n        int before = s[i-1] - '0';\n        int now = s[i] - '0';\n        before--;\n        now--;\n        // right.\n        if(before % 3 < now % 3){\n            dp[1][i] = min(dp[0][i-1],dp[1][i-1]+1);\n            dp[0][i] = INF;\n        }else if(before%3 == now%3){\n            dp[1][i] = min(dp[0][i-1],dp[1][i-1]+1);\n            dp[0][i] = min(dp[0][i-1]+1,dp[1][i-1]);\n        }else{\n            dp[1][i] = INF;\n            dp[0][i] = min(dp[0][i-1]+1,dp[1][i-1]);\n        }\n    }\n    return min(dp[0][s.length()-1],dp[1][s.length()-1]);\n}\nint main(){\n    while(true){\n        string s;\n        cin >> s;\n        if(s == \"#\") break;\n        cout << solve(s) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nstring s;\n\n// a = now b = next\nint valid(int foot, int a, int b) {\n    if (foot) {\n        if (a == 1 || a == 4 || a == 7) return 0;\n        else if (a == 2 || a == 8) {\n            if (b != 1 && b != 4 && b != 7) return 0;\n            else return 1;\n        }\n        else {\n            if (b == 3 || b == 6 || b == 9) return 0;\n            else return 1;\n        }\n    }\n    else {\n        if (a == 3 || a == 6 || a == 9) return 0;\n        else if (a == 2 || a == 8) {\n            if (b != 3 && b != 6 && b != 9) return 0;\n            else return 1;\n        }\n        else {\n            if (b == 1 || b == 4 || b == 7) return 0;\n            else return 1;\n        }\n    }\n}\n\nint check(int f) {\n    vector<int> dp(s.size()+1, 1e9);\n    dp[0] = 0;\n    \n    for (int i = 1; i < s.size(); i++) {\n        int now = s[i-1]-'0';\n        int next = s[i]-'0';\n        int foot;\n        (i%2) == f ? foot = 1 : foot = 0;\n        //printf(\"f=%d i=%d foot=%d    valid=%d now=%d next=%d\\n\",f,i,foot,valid(foot,now,next), now, next);\n        int v = valid(foot,now,next);\n        if (v) f = (f+1)%2;\n        dp[i] = min(dp[i], dp[i-1] + v);\n    }\n    //printf(\"f=%d return=%d\\n\",f, dp[s.size()-1]);\n    return dp[s.size()-1];\n}\n\nint main(void){\n    while (cin>>s && s[0] != '#') {\n        int ans = min(check(0), check(1));\n        cout << ans << endl;\n        //cout << \"--------------------\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nmain(){std::string s;int f,n,c,i,j;for(;std::cin>>s,s!=\"#\";printf(\"%d\\n\",n))for(n=9999,f=j=-1;j++<1;f=c<n&&(n=c))for(c=i=0;++i<s.size();)f*(s[i-1]-1)%3<f*(s[i]-1)%3?c++:f*=-1;}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(cin>>c){\n\t\tif(c[0]=='#')break;\n\t\tint n=strlen(c);\n\t\trep2(i,1,n+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[n%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <vector>\n\nusing namespace std;\n\n#define max 100001\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n//\tFILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\t\n\tvector< vector< vector< vector<int> > > > dp;\n\tvector< vector< vector< int > > > dpppp;\n\tvector< vector< int > > dppp;\n\tvector< int > dpp;\n\tdpp.resize(9,0);\n\tdppp.resize(9,dpp);\n\tdpppp.resize(2, dppp);\n\tdp.resize(max, dpppp);\n\t\n\n\twhile( 1 ) {\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < str.length(); l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[0][1][j][arrow] = 0;\n\t\t\t\tdp[0][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][0][j][k] + 1, dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][1][j][k] + 1, dp[i][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][1][j][k], dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][0][j][k], dp[i][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n\t\tfor(int l = 0; l < str.length(); l++) {\n \t\t\tfor(int i = 0; i < 2; i++) \n\t\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\t\tif( dp[l][i][j][k] < 1 << 30 ) {\n\t//\t\t\t\t\t\tcout << dp[l][i][j][k] << \" \" << l <<  \" \" << i << \" \" << j << \" \" << k << endl;\n\t\t\t\t\t\t\tif(min > dp[str.length()-1][i][j][k] ) min = dp[str.length()-1][i][j][k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << \"+++++\" << endl;\n\t\t}\n\n\n\t//\t\t\t\t\t\n\t//\tcout<< \"***\" << endl;\n\t\tcout << min << endl;\n\n\n\t}\n\n\n//\twhile(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n#include <math.h>\n#include <set>\n#include <map>\n#include <string>\n#include <stack>\n#include <queue>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <bitset>\n#include <complex>\n#include <unistd.h>\n#include <cassert>\n#include <cctype>\n#include <random>\n#define _USE_MATH_DEFINES\n#define _GLIBCXX_DEBUG\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> plglg;\ntypedef tuple<int, int, int> tiii;\ntypedef tuple<ll, ll, ll> tlglglg;\ntypedef complex<double> xy_t;\nint dx[4] = {1, 0, -1, 0};\nint dy[4] = {0, 1, 0, -1};\ndouble pi = 3.141592653589793;\nll mod = 1000000007;\nint intmax = 2147483647;\nint intmin = -2147483648;\nll llmax = 9223372036854775807;\nll llmin = -9223372036854775807;\nint iinf = intmax / 8;\nll inf = llmax / 8;\ndouble eps = 1e-11;\n\nint step[2][100010];\n\nint lr (char i, char j) {\n    int ii = ((i - '0') - 1) % 3;\n    int jj = ((j - '0') - 1) % 3;\n    if (ii < jj) {\n        return 0;\n    } else if (ii == jj) {\n        return 1;\n    } else {\n        return 2;\n    }\n}\n\nint main() {\n    while (1) {\n        string s;\n        cin >> s;\n        if (s == \"#\") {\n            break;\n        }\n        int len = s.size();\n        for (int i = 0; i < 2; i++) {\n            step[i][len - 1] = i;\n            for (int j = len - 2; j >= 0; j--) {\n                if (step[i][j + 1] == 0) {\n                    if (lr(s[j], s[j + 1]) >= 1) {\n                        step[i][j] = 1;\n                    } else {\n                        step[i][j] = 0;\n                    }\n                } else {\n                    if (lr(s[j], s[j + 1]) <= 1) {\n                        step[i][j] = 0;\n                    } else {\n                        step[i][j] = 1;\n                    }\n                }\n            }\n        }\n        ll ans[2];\n        for (int i = 0; i < 2; i++) {\n            int num = 0;\n            for (int j = 1; j < len; j++) {\n                if (step[i][j] == step[i][j - 1]) {\n                    num++;\n                }\n            }\n            ans[i] = num;\n        }\n        cout << min(ans[0], ans[1]) << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n  string S;\n  while(cin >> S, S != \"#\"){\n    if(S.length() <= 2){\n      cout << 0 << endl;\n      continue;\n    }\n    int ans = 0;\n    int f[2] = {S[0],S[1]}, m = 1;\n    for(int i = 1; i < S.length(); ++i){\n      if((m == 1 && (S[i]-'0'-1)%3 > (f[1-m]-1)%3)){\n\t++ans;\n\tf[1-m] = S[i] - '0';\n      }else if((m == 0 && (S[i]-'0'-1)%3 < (f[1-m]-1)%3)){\n\t++ans;\n\tf[1-m] = S[i] - '0';\n      }else{\n\tf[m] = S[i] - '0';\n\tm = 1-m;\n      }\n    }\n    int t = 0;\n    f[0] = S[1];\n    f[1] = S[0];\n    m = 0;\n    for(int i = 1; i < S.length(); ++i){\n      if((m == 1 && (S[i]-'0'-1)%3 > (f[1-m]-1)%3)){\n\t++t;\n\tf[1-m] = S[i] - '0';\n      }else if((m == 0 && (S[i]-'0'-1)%3 < (f[1-m]-1)%3)){\n\t++t;\n\tf[1-m] = S[i] - '0';\n      }else{\n\tf[m] = S[i] - '0';\n\tm = 1-m;\n      }\n    }\n    //cout << ans << endl;\n    //cout << t << endl;\n    ans = min(ans,t);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nstring s;\n\n// a = now b = next\nint valid(int foot, int a, int b) {\n    if (foot) {\n        if (a == 1) return 0;\n        else if (a == 2) {\n            if (b != 1 ) return 0;\n            else return 1;\n        }\n        else {\n            if (b == 0) return 0;\n            else return 1;\n        }\n    }\n    else {\n        if (a == 0) return 0;\n        else if (a == 2) {\n            if (b != 0) return 0;\n            else return 1;\n        }\n        else {\n            if (b == 1) return 0;\n            else return 1;\n        }\n    }\n}\n\nint check(int f) {\n    vector<int> dp(s.size()+1, 1e9);\n    dp[0] = 0;\n    \n    for (int i = 1; i < s.size(); i++) {\n        int now = (s[i-1]-'0') % 3;\n        int next = (s[i]-'0') % 3;\n        int foot;\n        (i%2) == f ? foot = 1 : foot = 0;\n        //printf(\"f=%d i=%d foot=%d    valid=%d now=%d next=%d\\n\",f,i,foot,valid(foot,now,next), now, next);\n        int v = valid(foot,now,next);\n        if (v) f = (f+1)%2;\n        dp[i] = min(dp[i], dp[i-1] + v);\n    }\n    //printf(\"f=%d return=%d\\n\",f, dp[s.size()-1]);\n    return dp[s.size()-1];\n}\n\nint main(void){\n    while (cin>>s && s[0] != '#') {\n        \n        int ans = min(check(0), check(1));\n        cout << ans << endl;\n        //cout << \"--------------------\" << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <limits>\n#include <fstream>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\nint main()\n{\n  ios::sync_with_stdio(false);\n  cin.tie(0);\n  map<int, int> mp;\n  FOR(i,1,10){\n    mp[i] = i % 3 == 0 ? 3 : i % 3;\n  }\n  string s;\n  while(cin>>s&&s[0]!='#'){\n    int n = s.length();\n    int dp[n+1][2]; // i個目まで見てて0:左1右足を踏んだ時の最小値\n    FOR(i,0,n+1)dp[i][0]=dp[i][1]=1e9;\n    dp[0][0]=dp[0][1]=0;\n    FOR(i,0,n){\n      int now = mp[s[i]-'0'];\n      int pre = i ? mp[s[i-1]-'0'] : now;\n      // 同じ列の場合どっちの足でもOK\n      if(now == pre) {\n        // 同じ足\n        dp[i+1][0] = min(dp[i+1][0], dp[i][0]+1);\n        dp[i+1][1] = min(dp[i+1][1], dp[i][1]+1);\n        // 違う足\n        dp[i+1][0] = min(dp[i+1][0], dp[i][1]);\n        dp[i+1][1] = min(dp[i+1][1], dp[i][0]);\n      }\n      // 前の足より左を踏む時は左足で踏む\n      else if (now < pre){\n        dp[i+1][0] = min(dp[i+1][0], dp[i][0]+1);\n        dp[i+1][0] = min(dp[i+1][0], dp[i][1]);\n      }\n      // 前の足より右を踏む時は右足で踏む\n      else {\n        dp[i+1][1] = min(dp[i+1][1], dp[i][1]+1);\n        dp[i+1][1] = min(dp[i+1][1], dp[i][0]);\n      }\n    }\n    cout<<min(dp[n][0],dp[n][1])<<endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n#define MAX 100005\n#define INF (1<<26)\nstring s;\n\nint t[MAX];\nint dp[2][10][10][2];\n\nint change[]={0,1,2,3,1,2,3,1,2,3};\nint check(int L,int R){\n  if(L==0||R==0)return 1;\n  if(change[L]<=change[R])return 1;\n  else return 0;\n}\n\nvoid update(int &a,int b){if(b<a)a=b;}\n\nint solve(){\n  int len=s.size();\n  if(len<=2)return 0;\n\n  for(int i=0;i<len;i++){\n    t[i]=s[i]-'0';\n    if(i<2)\n      for(int j=0;j<10;j++)\n\tfor(int k=0;k<10;k++)\n\t  dp[i][j][k][0]=dp[i][j][k][1]=INF;\n  }\n  dp[0][t[0]][0][0]=0;\n  dp[0][0][t[0]][1]=0;\n\n  int ans=INF;\n  for(int i=1;i<len;i++){\n    int to=t[i],ai=i%2,bi=1-ai;\n    for(int j=0;j<10;j++)\n      for(int k=0;k<10;k++)\n\tdp[ai][j][k][0]=INF,\n\t  dp[ai][j][k][1]=INF;\n    for(int j=0;j<10;j++){\n\n      for(int k=0;k<10;k++){\n\tif(check(to,j)){\n\t  update(dp[ai][to][j][0],\n\t\t dp[bi][k][j][0]+1);\n\t  update(dp[ai][to][j][0],\n\t\t dp[bi][k][j][1]);\n\t}\n\tif(check(j,to)){\n\t  update(dp[ai][j][to][1],\n\t\t dp[bi][j][k][1]+1);  \n\t  update(dp[ai][j][to][1],\n\t\t dp[bi][j][k][0]);\n\t}\n      }\n\n      if(i==len-1){\n\tans=min(ans,dp[ai][to][j][0]);\n\tans=min(ans,dp[ai][j][to][1]);\n      }\n    }\n  }\n  return ans;\n}\n\nint main(){\n  while(1){\n    cin>>s;\n    if(s==\"#\")break;\n    cout<<solve()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <complex>\n#include <deque>\n#include <exception>\n#include <fstream>\n#include <functional>\n#include <iomanip>\n#include <ios>\n#include <iosfwd>\n#include <iostream>\n#include <istream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <locale>\n#include <map>\n#include <memory>\n#include <new>\n#include <numeric>\n#include <ostream>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <stdexcept>\n#include <streambuf>\n#include <string>\n#include <typeinfo>\n#include <utility>\n#include <valarray>\n#include <vector>\n#include <climits>\n#include <cstring>\n#include <cassert>\n\n\nusing namespace std;\n#define SZ(x) (int)(x.size())\n#define REP(i, n) for(int i=0;i<n;++i)\n#define FOR(i, a, b) for(int i=a;i<b;++i)\n#define RREP(i, n) for(int i=n-1;i>=0;--i)\n#define RFOR(i, a, b) for(int i=b-1;i>=a;--i)\n\n#define all(x) begin(x),end(x)\n#define dump(x) cerr<<#x<<\" = \"<<(x)<<endl\n#define debug(x) cerr<<#x<<\" = \"<<(x)<<\" (L\"<<__LINE__<<\")\"<< endl;\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vvi = vector<vi>;\nusing vll = vector<ll>;\nusing vvll = vector<vll>;\nusing P = pair<int, int>;\nconst double eps = 1e-8;\nconst ll MOD = 1000000007;\nconst int INF = INT_MAX / 2;\nconst ll LINF = LLONG_MAX / 2;\n\ntemplate<class T>\nbool chmax(T &a, const T &b) {\n    if (a < b) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\ntemplate<class T>\nbool chmin(T &a, const T &b) {\n    if (b < a) {\n        a = b;\n        return true;\n    }\n    return false;\n}\n\n\ntemplate<typename T1, typename T2>\nostream &operator<<(ostream &os, const pair<T1, T2> p) {\n    os << p.first << \":\" << p.second;\n    return os;\n}\n\ntemplate<class T>\nostream &operator<<(ostream &os, const vector<T> &v) {\n    os << \"[\";\n    REP(i, SZ(v)) {\n        if (i) os << \", \";\n        os << v[i];\n    }\n    return os << \"]\";\n}\n\ntemplate<class T1, class T2>\nostream &operator<<(ostream &os, const map<T1, T2> &mp) {\n    os << \"[\";\n    for (auto it = mp.begin(); it != mp.end(); ++it) {\n        if (it != mp.begin()) {\n            os << \", \";\n        }\n        os << *it;\n    }\n    return os << \"]\";\n}\n\n// edit\n\n// dp state : [left foot][right foot][idx], value is invalid count.\nint dp[9][9][2][100000];\nstring S;\n\n// lr : last foot is left -> 0, last foot is right -> 1\nint dfs(int l, int r, int lr, int idx) {\n    if (idx == S.size()) {\n        return 0;\n    }\n    int &ret = dp[l][r][lr][idx];\n    if (ret != -1) return ret;\n\n    ret = INF;\n    int x = S[idx] - '1';\n\n    // 右足を目的地へ\n    if (l % 3 <= x % 3) {\n        // targetが左足よりは右側にないとだめ\n        int tmp = dfs(l, x, 1, idx + 1) + lr;\n        chmin(ret, tmp);\n    }\n\n    // 左足を目的地へ\n    if (x % 3 <= r % 3) {\n        int tmp = dfs(x, r, 0, idx + 1) + !lr;\n        chmin(ret, tmp);\n    }\n\n//    if (l != 5 && r != 5) {\n//        // 右足を5へ\n//        if (l % 3 <= 5 % 3) {\n//            int tmp = dfs(l, 5, 1, idx) + lr;\n//            chmin(ret, tmp);\n//        }\n//\n//        // 左足を5へ\n//        if (5 % 3 <= r % 3) {\n//            int tmp = dfs(5, r, 0, idx) + !lr;\n//            chmin(ret, tmp);\n//        }\n//    }\n\n    return ret;\n}\n\nbool solve() {\n    memset(dp, -1, sizeof(dp));\n    cin >> S;\n\n    if (S == \"#\") return false;\n\n    if (S.size() <= 2) {\n        cout << 0 << endl;\n        return true;\n    }\n\n    int ans = INF;\n    int a = S[0] - '1';\n    int b = S[1] - '1';\n    int tmp;\n\n    if (a % 3 <= b % 3) {\n        tmp = dfs(a, b, 1, 2);\n        chmin(ans, tmp);\n    }\n    if (a % 3 >= b % 3) {\n        tmp = dfs(b, a, 0, 2);\n        chmin(ans, tmp);\n    }\n\n    cout << ans << endl;\n\n    return true;\n}\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(10);\n//    std::ifstream in(\"input.txt\");\n//    std::cin.rdbuf(in.rdbuf());\n\n    while (solve());\n\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=(a);i<(b);++i)\ntemplate< typename T > void minUpdate(T& a, T b) { a = min(a, b); }\n\nint violate[10][6] = {\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\t\n};\n\nint dp[2][2][10][10];\n\nbool check(int L, int R) {\n\tfor (int j=0; violate[R][j] != -1; ++j) if (violate[R][j] == L) return false;\n\treturn true;\n}\n\nint main() {\n\tstring S;\n\t\n\twhile (cin >> S, S != \"#\") {\n\t\tint m = S.size();\n\t\t/*\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) dp[0][b][L][R] = 1L << 30;\n\t\tdp[0][0][0][S[0] - '0'] = 0;\n\t\tdp[0][1][S[0] - '0'][0] = 0;\n\t\t\n\t\tfor_(i,1,m) {\n\t\t\tint nLR = S[i] - '0';\n\t\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) dp[1][b][L][R] = 1L << 30;\n\t\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) {\n\t\t\t\tif (dp[0][b][L][R] == 1L << 30) continue;\n\t\t\t\tif (check(nLR, R)) minUpdate(dp[1][1][nLR][R], dp[0][b][L][R] + (b ? 1 : 0));\n\t\t\t\tif (check(L, nLR)) minUpdate(dp[1][0][R][nLR], dp[0][b][L][R] + (b ? 0 : 1));\n\t\t\t}\n\t\t\tswap(dp[0], dp[1]);\n\t\t}\n\t\t\n\t\tint ans = 1L << 30;\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) minUpdate(ans, dp[0][b][L][R]);\n\t\tcout << ans << endl;\n\t\t*/\n\t\tint L[2] = {0, 0}, R[2] = {0, 0}, cnt[2] = {0, 0};\n\t\tbool flag[2] = {false, true};\n\t\t\n\t\tfor_(i,0,m) {\n\t\t\tfor_(b,0,2) {\n\t\t\t\tint r = (flag[b] ? S[i] - '0' : R[b]), l = (flag[b] ? L[b] : S[i] - '0');\n\t\t\t\tbool inv = false;\n\t\t\t\tfor (int j=0; violate[r][j] != -1; ++j) inv |= (violate[r][j] == l);\n\t\t\t\t\n\t\t\t\tif (inv) {\n\t\t\t\t\tif (flag[b]) L[b] = r;\n\t\t\t\t\telse R[b] = l;\n\t\t\t\t\t++cnt[b];\n\t\t\t\t} else {\n\t\t\t\t\tR[b] = r;\n\t\t\t\t\tL[b] = l;\n\t\t\t\t\tflag[b] = !flag[b];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(cnt[0], cnt[1]) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <map>\n#include <set>\n#include <cmath>\n#pragma comment(linker, \"/STACK:102400000,102400000\")\n\nusing namespace std;\n\n#define For(i,forN) for(int i=0;i<(forN);i++)\n#define Fori(i,si,forN) for(int i=si;i<(forN);i++)\n\n#define pb push_back\n#define sf scanf\n#define pf printf\n\nconst int Maxn=110000;\nint dp[Maxn][9][9][2];\n\nbool check(int sta1,int sta2)\n{\n    return sta1%3 <= sta2%3;\n}\nchar str[Maxn];\nint n;\n\nint main()\n{\n    while(~sf(\"%s\",str) && str[0]!='#')\n    {\n        for(n=0;str[n];n++)\n        str[n]--;\n        Fori(z,1,n+1){\n            For(i,9){\n                For(j,9)\n                dp[z][i][j][0]=dp[z][i][j][1]=Maxn;\n            }\n        }\n        For(i,n){\n            For(j,9)    For(k,9){\n                int sta=str[i]-'0';\n                //0\n                if(check(sta,k))\n                {\n                    dp[i+1][sta][k][0]=min( dp[i+1][sta][k][0],min(dp[i][j][k][0]+1, dp[i][j][k][1]));\n                }\n                //1\n                if(check(j,sta))\n                dp[i+1][j][sta][1]=min( dp[i+1][j][sta][1],min(dp[i][j][k][1]+1, dp[i][j][k][0]));\n            }\n        }\n        int res=Maxn;\n        For(i,9)    For(j,9) For(z,2){\n            res=min(dp[n][i][j][z],res);\n        }\n        pf(\"%d\\n\",res);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n  string S;\n  while(cin >> S, S != \"#\"){\n    if(S.length() <= 2){\n      cout << 0 << endl;\n      continue;\n    }\n    int ans = 0;\n    int f[2] = {S[0],S[1]}, m = 1;\n    for(int i = 1; i < S.length(); ++i){\n      if((m == 1 && (S[i]-'0'-1)%3 > (f[1-m]-1)%3)){\n\t++ans;\n\tf[1-m] = S[i] - '0';\n      }else if((m == 0 && (S[i]-'0'-1)%3 < (f[1-m]-1)%3)){\n\t++ans;\n\tf[1-m] = S[i] - '0';\n      }else{\n\tf[m] = S[i] - '0';\n\tm = 1-m;\n      }\n    }\n    int t = 0;\n    f[0] = S[1];\n    f[1] = S[0];\n    m = 0;\n    for(int i = 1; i < S.length(); ++i){\n      if((m == 1 && (S[i]-'0'-1)%3 > (f[1-m]-1)%3)){\n\t++t;\n\tf[1-m] = S[i] - '0';\n      }else if((m == 0 && (S[i]-'0'-1)%3 < (f[1-m]-1)%3)){\n\t++t;\n\tf[1-m] = S[i] - '0';\n      }else{\n\tf[m] = S[i] - '0';\n\tm = 1-m;\n      }\n    }\n    //cout << ans << endl;\n    //cout << t << endl;\n    ans = min(ans,t);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 100000000;\nusing namespace std;\n\nint solve(string s, int left, int right){\n    int cnt = 0;\n    bool sp;\n    if(left == 1) sp = 1;\n    else sp = 0;\n\n    range(i,1,s.size()){\n        //cout << left <<  ' ' << right << endl;\n        if(sp){\n            if(s[i] % 3 <= right){\n                left = s[i] % 3;\n                sp = 0;\n            }else{\n                right = s[i] % 3;\n                cnt++;\n            }\n        }else{\n            if(left <= s[i] % 3){\n                right= s[i] % 3;\n                sp = 1;\n            }else{\n                left= s[i] % 3;\n                cnt++;\n            }\n        }\n    }\n    return cnt;\n}\n\nint main(){\n    string s;\n    while(cin >> s, s[0] != '#'){\n        rep(i,s.size()) s[i] -= 1;\n        cout << min(solve(s, (s[0] - '0') % 3, 1), solve(s, 1, (s[0] - '0') % 3)) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) for(int i = 0; i < (b); i++)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nconst int INF = 100000000;\nusing namespace std;\n//2629198627\n\nint solve(string s, int left, int right, bool sp){\n    int cnt = 0;\n\n    range(i,1,s.size()){\n        //cout << left <<  ' ' << right << endl;\n        //cout << sp <<  ' ' << s[i] << endl;\n        if(sp){\n            if(s[i] % 3 <= right){\n                left = s[i] % 3;\n                sp = 0;\n            }else{\n                right = s[i] % 3;\n                cnt++;\n            }\n        }else{\n            if(left <= s[i] % 3){\n                right= s[i] % 3;\n                sp = 1;\n            }else{\n                left= s[i] % 3;\n                cnt++;\n            }\n        }\n        //debug(cnt)\n    }\n    return cnt;\n}\n\nint main(){\n    string s;\n    while(cin >> s, s[0] != '#'){\n        rep(i,s.size()) s[i] -= 1;\n        cout << min(solve(s, (s[0] - '0') % 3, 1, 0), solve(s, 1, (s[0] - '0') % 3, 1)) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nusing namespace std;\nstring op;\n\nbool check(int lef,int rig)\n{\n  if(lef == -1 || rig == -1)\n    return true;\n\n  lef %= 3,rig %= 3;\n  if(lef == 0 && (rig == 1 || rig == 2))\n    return false;\n  else if(lef == 2 && rig == 1)\n    return false;\n \n  return true;\n}\n\nint Do(bool step)\n{\n  if(op.size() <= 1)\n    return 0;\n  int res = 0;\n  int l,r,pl,pr;\n  l = r = pl = pr = -1;\n  for(int i=0;i<op.size();i++)\n    {\n      if(!step)\n\tl = op[i]-'0',step = !step;\n      else \n\tr = op[i]-'0',step = !step;\n\n      if(!check(l,r))\n\t{\n\t  if(!step)\n\t    r = l,l = pl;\n\t  else\n\t    l = r,r = pr;\n\t  step = !step;\n\t  res++;\n\t}\n      pr = r, pl = l;\n    }\n  return res;\n}\n\nint main()\n{\n \n  while(cin >> op, op != \"#\")\n    cout << min(Do(1),Do(0)) << endl;\n    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": " \n#include <bits/stdc++.h>\nusing namespace std;\nusing vi=vector<int>;\nusing vvi=vector<vi>;\nusing vs=vector<string>;\nusing msi=map<string,int>;\nusing mii=map<int,int>;\nusing pii=pair<int,int>;\nusing vlai=valarray<int>;\nusing ll=long long;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define range(i,s,n) for(int i=s;i<n;i++)\n#define all(a) a.begin(),a.end()\n#define rall(a) a.rbegin(),a.rend()\n#define fs first\n#define sc second\n#define pb push_back\n#define eb emplace_back\n#define mp make_pair\n#define INF 1e9\n#define EPS 1e-9\n\nint main(){\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\tvi f(2,-1);\n\t\tvi r,l;\n\t\tbool b=true;\n\t\tint lt=0,rt=1,a1=0,a2=0;;\n\t\tfor(auto c:s){\n\t\t    int p=c-'1';\n\t\t    if(b){\n    \t\t    if(f[0]==-1||f[0]%3==p%3){\n    \t\t        f[0]=p;\n    \t\t    }else{\n    \t\t        f[1]=p;\n    \t\t        if(f[0]%3>f[1]%3){\n    \t\t            swap(lt,rt);\n    \t\t            swap(f[0],f[1]);\n    \t\t        }\n    \t\t        b=false;\n    \t\t        r=l=f;\n    \t\t    }\n\t\t    }else{\n\t\t        if(rt%2==0){\n\t\t            if(r[0]%3>p%3){\n\t\t                r[0]=p;\n\t\t                a1++;\n\t\t            }else{\n\t\t                rt++;\n\t\t                r[1]=p;\n\t\t            }\n\t\t        }else{\n\t\t            if(r[1]%3<p%3){\n\t\t                r[1]=p;\n\t\t                a1++;\n\t\t            }else{\n\t\t                rt++;\n\t\t                r[0]=p;\n\t\t            }\n\t\t        }\n\t\t        if(lt%2==0){\n\t\t            if(l[1]%3<p%3){\n\t\t                l[1]=p;\n\t\t                a2++;\n\t\t            }else{\n\t\t                lt++;\n\t\t                l[0]=p;\n\t\t            }\n\t\t        }else{\n\t\t            if(l[0]%3>p%3){\n\t\t                l[0]=p;\n\t\t                a2++;\n\t\t            }else{\n\t\t                lt++;\n\t\t                l[1]=p;\n\t\t            }\n\t\t        }\n\t\t    }\n\t\t}\n\t\tcout<<min(a1,a2)<<endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[100001];\nlong int num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tans=100000;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,0,0),step(0,a,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n\nusing namespace std;\n\n#define max 100000\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n//\tFILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\tint dp[max][2][9][9];\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < max; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[0][1][j][arrow] = 0;\n\t\t\t\tdp[0][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][0][j][k] + 1, dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][1][j][k] + 1, dp[i][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][1][j][k], dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][0][j][k], dp[i][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n\t\tfor(int l = 0; l < str.length(); l++)\n\t\t\tfor(int i = 0; i < 2; i++) \n\t\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\t\tif( dp[l][i][j][k] < min ) {\n\t//\t\t\t\t\t\tcout << dp[l][i][j][k] << \" \" << l <<  \" \" << i << \" \" << j << \" \" << k << endl;\n\t\t\t\t\t\t\tmin = dp[str.length()-1][i][j][k];\n\t\t\t\t\t\t}\n\t//\t\t\t\t\tcout << \"+++++\" << endl;\n\n\n\t//\t\t\t\t\t\n\t//\tcout<< \"***\" << endl;\n\t\tcout << min << endl;\n\n\n\t}\n\n\n//\twhile(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,a,n) for(int i=a; i<n; i++)\nusing namespace std;\n\nstring vs[] = {\"147\", \"28\", \"369\"};\nconst int LFOOT = 0;\nconst int RFOOT = 1;\n\nint calc(string s, int init) {\n    int state = -1, foot = init, ret = 0, temp = 0;\n    rep(turn,0,s.length()) {\n        rep(i,0,3) if(vs[i].find(s[turn]) != string::npos) temp = i;\n        bool changed = false;\n        if(state != -1) {\n            if(foot == LFOOT && state > temp) ret++, changed = true;\n            if(foot == RFOOT && state < temp) ret++, changed = true;\n        }\n        state = temp;\n        if(!changed) foot ^= 1;\n    }\n    return ret;\n}\n\nsigned main() {\n    string s;\n    while(cin >> s, s != \"#\") {\n        int c1 = calc(s, 0), c2 = calc(s, 1);\n        cout << min(c1, c2) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <algorithm>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdlib>\n#include <bitset>\n#include <tuple>\n#include <assert.h>\n#include <deque>\n#include <bitset>\n#include <iomanip>\n#include <limits>\n#include <chrono>\n#include <random>\n#include <array>\n#include <unordered_map>\n#include <functional>\n#include <complex>\n#include <numeric>\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n//constexpr long long MAX = 5100000;\nconstexpr long long INF = 1LL << 60;\nconstexpr int inf = 1000000007;\nconstexpr long long mod = 1000000007LL;\n//constexpr long long mod = 998244353LL;\nconst long double PI = acos((long double)(-1));\n\nusing namespace std;\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef long double ld;\n\n\nint f[] = { 0,1,2,0,1,2,0,1,2 };\nint dp[100001][3][3][2];\nvoid solve() {\n\tstring s; cin >> s; if (s == \"#\") exit(0);\n\tvector<int> v(s.size()); for (int i = 0; i < v.size(); i++) v[i] = f[s[i] - '1'];\n\tfor (int i = 0; i <= s.size(); i++) for (int j = 0; j < 3; j++) for (int k = 0; k < 3; k++) for (int l = 0; l < 2; l++) dp[i][j][k][l] = inf;\n\tfor (int j = v[0]; j < 3; j++) dp[0][v[0]][j][0] = 0;\n\tfor (int i = 0; i <= v[0]; i++) dp[0][i][v[0]][1] = 0;\n\tfor (int i = 1; i < v.size(); i++) {\n\t\tint cur = v[i];\n\t\tfor (int j = 0; j < 3; j++) {\n\t\t\tfor (int k = 0; k < 3; k++) {\n\t\t\t\tif (j <= cur) {\n\t\t\t\t\tchmin(dp[i][j][cur][1], dp[i - 1][j][k][0]);\n\t\t\t\t\tchmin(dp[i][j][cur][1], dp[i - 1][j][k][1] + 1);\n\t\t\t\t}\n\t\t\t\tif (cur <= k) {\n\t\t\t\t\tchmin(dp[i][cur][k][0], dp[i - 1][j][k][0] + 1);\n\t\t\t\t\tchmin(dp[i][cur][k][0], dp[i - 1][j][k][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tint res = inf; for (int i = 0; i < 3; i++) for (int j = 0; j < 3; j++) for (int k = 0; k < 2; k++) chmin(res, dp[v.size() - 1][i][j][k]);\n\tprintf(\"%d\\n\", res);\n}\n\nint main()\n{\n    \n    cin.tie(nullptr);\n    ios::sync_with_stdio(false);\n    \n\n\tint kkt = 89;\n\twhile (kkt) {\n\t\tsolve();\n\t}\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n    string input;\n    while(cin>>input) {\n        if(input == \"#\") break;\n        int dp[2][2] = {} ,tn = 0;\n\n        for(int i=1; i<input.length(); ++i) {\n            int next = tn^1;\n            if((input[i]-'0'-1)%3 == (input[i-1]-'0'-1)%3) {\n                dp[next][0] = min(dp[tn][0]+1, dp[tn][1]);\n                dp[next][1] = min(dp[tn][1]+1, dp[tn][0]);\n            }else if((input[i]-'0'-1)%3 > (input[i-1]-'0'-1)%3) {\n                dp[next][0] = dp[tn][0]+1;\n                dp[next][1] = min(dp[tn][0],dp[tn][1]+1);\n            }else if((input[i]-'0'-1)%3 < (input[i-1]-'0'-1)%3) {\n                dp[next][0] = min(dp[tn][0]+1, dp[tn][1]);\n                dp[next][1] = dp[tn][1]+1;\n            }\n            tn = next;\n        }\n\n        cout<<min(dp[tn][0],dp[tn][1])<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <deque>\n#include <stack>\n#include <algorithm>\n#include <cstring>\n#include <functional>\n#include <cmath>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define rep1(i,n) for(int i=1;i<=(n);++i)\n#define all(c) (c).begin(),(c).end()\n#define fs first\n#define sc second\n#define pb push_back\n#define show(x) cout << #x << \" \" << x << endl\n#define chmin(x,y) x=min(x,y)\nint dp[100001][3][3][2],inf=1e9;\nint main(){\n\twhile(true){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s[0]=='#') break;\n\t\tint N=s.size();\n\t\trep1(i,N) rep(j,3) rep(k,3) rep(h,2) dp[i][j][k][h]=inf;\n\t\trep(i,N){\n\t\t\tint x=(s[i]-'0'+2)%3;\n\t\t\trep(j,3) rep(k,3) rep(h,2){\n\t\t\t\tif(dp[i][j][k][h]==inf) continue;\n\t\t\t\tif(x<=k) chmin(dp[i+1][x][k][0],dp[i][j][k][h]+(1-h));\n\t\t\t\tif(j<=x) chmin(dp[i+1][j][x][1],dp[i][j][k][h]+h);\n\t\t\t}\n\t\t}\n\t\tint ans=inf;\n\t\trep(j,3) rep(k,3) rep(h,2) chmin(ans,dp[N][j][k][h]);\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <string>\nusing namespace std;\n/*\nstruct State {\n  int step, foot[2], before, cost;\n  const static int px[10];\n  State() {}\n  State(int step,int left, int right, int before, int cost)\n    : step(step), before(before), cost(cost) {\n    foot[0] = left;\n    foot[1] = right;\n  }\n  bool operator < (const State &s) const {\n    return cost > s.cost;\n  }\n*/\nconst int px[10] = {0,-1,0,1,-1,0,1,-1,0,1};\nbool isValid(int foot[2]) {\n  return px[foot[1]] - px[foot[0]] >= 0;\n}\n/*\n};\n\n*/\nconst int INF = 1<<24;\nstring line;\n\n/*\nint solve(string line) {\n  if(line.size() <= 2) return 0;\n  priority_queue<State> que;\n  State s;\n  s = State(2,line[0]-'0',line[1]-'0',1,0);\n  if(s.isValid()) que.push(s);\n  s = State(2,line[1]-'0',line[0]-'0',0,0);\n  if(s.isValid()) que.push(s);\n  \n  while(!que.empty()) {\n    if(que.top().step == line.size()) return que.top().cost;\n\n    s = que.top();\n    s.foot[1-s.before] = line[s.step++] - '0';\n    s.before = 1-s.before;\n    if(s.isValid()) que.push(s);\n\n    s = que.top();\n    s.foot[s.before] = line[s.step++] - '0';\n    ++s.cost;\n    if(s.isValid()) que.push(s);\n\n    que.pop();\n  }\n}\n*/\nint T[100001][2][2];\n\nint solve() {\n  fill(T[0][0], T[100001][0], INF);\n  T[0][0][0] = T[0][1][0] = T[1][0][0] = T[1][1][0] = 0;\n  int foot[2];\n  foot[0] = line[0] - '0';\n  foot[1] = line[1] - '0';\n  if(isValid(foot)) T[2][1][0] = 0;\n  foot[1] = line[0] - '0';\n  foot[0] = line[1] - '0';\n  if(isValid(foot)) T[2][0][0] = 0;\n  for(int i = 3; i <= line.size(); ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int k = 0; k < 2; ++k) {\n\tfoot[j] = line[i-1] - '0';\n\tif(k == 0) {\n\t  foot[1-j] = line[i-2] - '0';\n\t  if(isValid(foot)) {\n\t    T[i][j][k] = min(T[i][j][k], T[i-1][1-j][0]);\n\t    T[i][j][k] = min(T[i][j][k], T[i-1][1-j][1]);\n\t  }\n\t} else {\n\t  foot[1-j] = line[i-3] - '0';\n\t  if(isValid(foot)) {\n\t    T[i][j][k] = min(T[i][j][k], T[i-1][j][0]+1);\n\t  }\n\t}\n      }\n    }\n  }\n  int res = INF;\n  for(int i = 0; i < 2; ++i) {\n    for(int j = 0; j < 2; ++j) {\n      res = min(res, T[line.size()][i][j]);\n    }\n  }\n  return res;\n}\n\nint main() {\n  while(getline(cin, line) && line != \"#\") {\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n    string s;\n    while(cin >> s, s != \"#\"){\n        string t = \"\";\n        for(char x : s){\n            char y = ('0' + (x-'1')%3);\n            t += y;\n        }\n        int ans = s.length();\n        for(int i = 0; i < 2; i++){\n            int turn = i, score = 0;\n            for(int j = 1; j < t.length(); j++){\n                if((t[j]-t[j-1])*(2*turn-1) >= 0){\n                    turn = 1-turn;\n                }else{\n                    score++;\n                }\n            }\n            ans = min(ans, score);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <regex>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 1145141919;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator > (const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nstring s;\nint dp[111111][3][3][2];\n\nint solve(int i,int l,int r,int p)\n{\n\tif (i == s.size()) return 0;\n\tif (dp[i][l][r][p] >= 0) return dp[i][l][r][p];\n\tint t;\n\tint k = s[i] - '0';\n\tif (k % 3 == 1) t = 0;\n\telse if (k % 3 == 2) t = 1;\n\telse t = 2;\n\tint res;\n\tif (t < l) res = solve(i + 1, t, r, 0) + (p ? 0 : 1);\n\telse if (t>r) res = solve(i + 1, l, t, 1) + (p ? 1 : 0);\n\telse res = min(solve(i + 1, t, r, 0) + (p ? 0 : 1), solve(i + 1, l, t, 1) + (p ? 1 : 0));\n\treturn dp[i][l][r][p] = res;\n}\n\nint main()\n{\n\twhile (cin >> s)\n\t{\n\t\tif (s == \"#\") break;\n\t\tMS(dp, -1);\n\t\tint a = solve(0, 1, 1, 0);\n\t\tMS(dp, -1);\n\t\tint b = solve(0, 1, 1, 1);\n\t\tcout << min(a, b) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nconst int L[10] = {0, 1, 2, 3, 1, 0, 3, 1, 2, 3};\n\nint c(char x) {\n  return x - '0';\n}\n\nint main() {\n  string S;\n  while(true) {\n    cin >> S;\n    if (S == \"#\") break;\n    if (S.size() <= 2) {\n      cout << 0 << endl;\n      continue;\n    }\n    int l = c(S[0]);\n    int r = c(S[1]);\n    bool w = true;\n    if (L[r] < L[l]) {\n      swap(l, r);\n      w = false;\n    }\n    int count = 0;\n    for (auto i=0; i<S.size(); i++) {\n      int n = c(S[i]);\n      if (w) { // 次はlが踏み出すはず\n\tif (L[r] < L[n]) {\n\t  count++;\n\t  r = n;\n\t} else {\n\t  l = n;\n\t  w = false;\n\t}\n      } else {\n\tif (L[l] > L[n]) {\n\t  count++;\n\t  l = n;\n\t} else {\n\t  r = n;\n\t  w = true;\n\t}\n      }\n    }\n    cout << count << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n  int d[10]={0,0,1,2,0,-1,2,0,1,2},cnt,ans,c;\n  string s;\n  while(1){\n    cin>>s;\n    if(s==\"#\") break;\n    ans=(1e9);\n    for(int i=0;i<2;i++){\n      c=i;\n      cnt=0;\n      for(int j=1;j<s.size();j++){\n\tint k=s[j-1]-'0',t=s[j]-'0';\n\tif((!c&&d[k]>d[t])||(c&&d[k]<d[t])) cnt++;\n\telse c=!c;\n      }\n      ans=min(ans,cnt);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[100001];\nlong int num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tans=1000000;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=str[a]-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,0,0),step(0,a,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main(){\n  int dp[2][2],n,prv,now,id,nxt;\n  string s;\n\n  while(cin >> s,s!=\"#\"){\n    n = s.size();\n    dp[1][0] = dp[1][1] = 0; prv = s[0]-'1';\n    \n    for(int i=1;i<n;i++){\n      id = i&1, nxt = 1-id;\n      now = s[i]-'1';\n      if(prv%3 == now%3){\n\tdp[nxt][0] = dp[id][1]; dp[nxt][1] = dp[id][0];\n      }else if(prv%3 < now%3){\n\tdp[nxt][0] = dp[id][0] + 1;\n\tdp[nxt][1] = dp[id][0];\n      }else{\n\tdp[nxt][0] = dp[id][1];\n\tdp[nxt][1] = dp[id][1] + 1;\n      }\n      prv = now;\n    }\n    cout << std::min(dp[n&1][0],dp[n&1][1]) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 1e+8;\nint ans;\n\n\nvoid solve( const string& s, int k, int l, int r, int t, int cnt){\n\tif( k == s.size() ){\n\t\tans = min( ans, cnt );\n\t\treturn;\n\t}\n\t\n\tif( t == 0 ){\t//テ・ツ渉ウティツカツウテ・ツ仰陛」ツ?凝」ツ??\n\t\tint ly = (( l - 1) % 3) + 1;\t//テ・ツキツヲy\n\t\tint next = s[k] - '0';\n\t\tint ry = (( next - 1) % 3) + 1;\t//テヲツャツ。テ」ツ?ョテ・ツ渉ウy\t\n\t\t\n\t\tif(ly <= ry){\t//テ・ツ仰陛」ツ?湘」ツ?ィテ」ツ??\n\t\t\tsolve( s, k + 1, l, next, (t + 1) % 2, cnt);\n\t\t}else{\t//テ・ツ仰陛」ツ?凝」ツ?崚」ツ?ェテ」ツ??」ツ?ィテ」ツ??\n\t\t\tsolve(s, k + 1, next, r, t, cnt + 1);\n\t\t}\n\t}else{\t//テ・ツキツヲティツカツウテ・ツ仰陛」ツ?凝」ツ??\n\t\tint ry = ((r - 1) % 3) + 1;\n\t\tint next = s[k] - '0';\n\t\tint ly = (( next - 1) % 3) + 1; \n\t\t\n\t\tif(ly <= ry){\t//テ・ツ仰陛」ツ?湘」ツ?ィテ」ツ??\n\t\t\tsolve(s, k + 1, next, r, ( t + 1 ) % 2, cnt );\n\t\t}else{\t//テ・ツ仰陛」ツ?凝」ツ?崚」ツ?ェテ」ツ??」ツ?ィテ」ツ??\n\t\t\tsolve( s, k + 1, l, next, t, cnt + 1);\n\t\t}\n\t\t\t\n\t}\n}\n\nint main(){\n\tstring s;\n\twhile( cin >> s, s != \"#\"){\n\t\tans = INF;\n\t\tfor(int i = 1; i <= 9; i++){\n\t\t\tif(i == 5) continue;\n\t\t\tsolve(s, 0, i, 0, 0, 0);\n\t\t\tsolve(s, 0, 0, i, 1, 0);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nbool ok(int x, int y)\n{\n    return ((x - 1) % 3 <= (y - 1) % 3);\n}\n\nint main()\n{\n    char s[100001];\n    \n    while (scanf(\"%s\", s) && s[0] != '#'){\n        int st[2] = {-1, -1}, last = 1, vio = 0;\n        int st2[2] = {-1, -1}, last2 = 0, vio2 = 0;\n        \n        for (int i = 0; s[i]; i++){\n            s[i] -= '0';\n            \n            if (st[last] <= 0){\n                st[1 - last] = s[i];\n                last = 1 - last;\n            }\n            else {\n                if ((last & 1) ? ok(s[i], st[last]) : ok(st[last], s[i])){\n                    st[1 - last] = s[i];\n                    last = 1 - last;\n                }\n                else {\n                    st[last] = s[i];\n                    vio++;\n                }\n            }\n            \n            if (st2[last2] <= 0){\n                st2[1 - last2] = s[i];\n                last2 = 1 - last2;\n            }\n            else {\n                if ((last2 & 1) ? ok(s[i], st2[last2]) : ok(st2[last2], s[i])){\n                    st2[1 - last2] = s[i];\n                    last2 = 1 - last2;\n                }\n                else {\n                    st2[last2] = s[i];\n                    vio2++;\n                }\n            }\n        }\n        \n        printf(\"%d\\n\", min(vio, vio2));\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n\nusing namespace std;\n\n#define FOR(i,k,n) for(int i=(k); i<(int)n; ++i)\n#define REP(i,n) FOR(i,0,n)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n\ntemplate<class T> void debug(T begin, T end){ for(T i = begin; i != end; ++i) cout<<*i<<\" \"; cout<<endl; }\n\ntypedef long long ll;\nconst int INF = 100000000;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\nint side(int from, int to){\n  return (to+2) % 3 - (from+2)%3;\n}\nint main(){\n  string s;\n  while(cin>>s && s != \"#\"){\n    int N = s.size();\n    int dp[100001][2] = {};\n    FOR(i, 1, 100000)REP(j,2)dp[i][j] = INF;\n    FOR(i, 1, N){\n      dp[i][0] = dp[i-1][0] + 1;\n      dp[i][1] = dp[i-1][1] + 1;\n      if(side(s[i-1], s[i]) >= 0) dp[i][1] = min(dp[i][1], dp[i-1][0]);\n      if(side(s[i-1], s[i]) <= 0) dp[i][0] = min(dp[i][0], dp[i-1][1]);\n    }\n    cout<<min(dp[N-1][0], dp[N-1][1])<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef pair<int,int> pi;\ntypedef pair<pi,pi> P;\n\nint n;\nstring s;\n\ninline bool nat(int l, int r)\n{\n    if(l==0 || r==0) return true;\n\n    if(l%3==1) return true;\n    else if(l%3==2)\n    {\n        if(r%3==1) return false;\n        else return true;\n    }\n    else\n    {\n        if(r%3==0) return true;\n        else return false;\n    }\n}\n\nmap<P,int> dp;\nint dfs(int now, int l, int r, int last)\n{\n    pi x(now,l);\n    pi y(r,last);\n    P z(x,y);\n    if(dp.find(z)!=dp.end()) return dp[z];\n\n    if(now==n) return 0;\n\n    int ret=n;\n    if(last==0)\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r,0)+1);\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0',1));\n    }\n    else\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r,0));\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0',1)+1);\n    }\n\n    return dp[z]=ret;;\n}\n\nint main()\n{\n    while(cin >>s,(s!=\"#\"))\n    {\n        n=s.size();\n        dp.clear();\n        printf(\"%d\\n\",min(dfs(1,s[0]-'0',0,0),dfs(1,0,s[0]-'0',1)));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n\nusing namespace std;\n\n#define max 100001\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\tint dp[max][2][9][9];\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < max; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[0][1][j][arrow] = 0;\n\t\t\t\tdp[0][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][0][j][k] + 1, dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][1][j][k] + 1, dp[i][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][1][j][k], dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][0][j][k], dp[i][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n\t\tfor(int l = 0; l < str.length(); l++) {\n \t\t\tfor(int i = 0; i < 2; i++) \n\t\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\t\tif( dp[l][i][j][k] < 1 << 30 ) {\n\t//\t\t\t\t\t\tcout << dp[l][i][j][k] << \" \" << l <<  \" \" << i << \" \" << j << \" \" << k << endl;\n\t\t\t\t\t\t\tif(min > dp[str.length()-1][i][j][k] ) min = dp[str.length()-1][i][j][k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << \"+++++\" << endl;\n\t\t}\n\n\n\t//\t\t\t\t\t\n\t//\tcout<< \"***\" << endl;\n\t\tcout << min << endl;\n\n\n\t}\n\n\n\t//while(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint dx[] ={-1,0,1,-1,0,1,-1,0,1};\nstring str;\nint saiki(int ii,int x,int sum,int rl) {\n  for(int i=ii;i<str.size();i++) {\n    rl++;\n    int t = str[i]-'1';\n    if((rl%2==1 && x < dx[t]) ||(rl%2==0 && x > dx[t]))\n      return  sum+min(saiki(i+1,dx[t],1,0),saiki(i+1,dx[t],1,1));\n    x = dx[t];\n  }\n  return sum;\n}\nint main() {\n  while(1){\n    cin >> str;\n    if(str == \"#\") break;\n    cout << min(saiki(1,dx[str[0]-'1'],0,0),saiki(1,dx[str[0]-'1'],0,1))<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\nint n;\nstring s;\n\ninline bool nat(int l, int r)\n{\n    if(l==0 || r==0) return true;\n\n    if(l%3==1) return true;\n    else if(l%3==2)\n    {\n        if(r%3==1) return false;\n        else return true;\n    }\n    else\n    {\n        if(r%3==0) return true;\n        else return false;\n    }\n}\n\n//int dp[100001][10][10][2];\nint dfs(int now, int l, int r, int last)\n{\n    //if(dp[now][l][r][last]>=0) return dp[now][l][r][last];\n\n    if(now==n) return 0;\n\n    int ret=n;\n    if(last==0)\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r,0)+1);\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0',1));\n    }\n    else\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r,0));\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0',1)+1);\n    }\n\n    return ret;\n    //return dp[now][l][r][last]=ret;;\n}\n\nint main()\n{\n    while(cin >>s,(s!=\"#\"))\n    {\n        n=s.size();\n        //memset(dp,-1,sizeof(dp));\n        printf(\"%d\\n\",min(dfs(1,s[0]-'0',0,0),dfs(1,0,s[0]-'0',1)));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-8;\n\n//dp[prev,now][left_state][right_state][prev_foot_side]\nint prev[10][10][2];\nint next[10][10][2];\n\nconst int gHorizonalPos[] = {\n  -1//none\n  ,0//1->0\n  ,1//2->1\n  ,2//3->2\n  ,0//4->0\n  ,-1//5->-1(none)\n  ,2//6->2\n  ,0//7->0\n  ,1//8->1\n  ,2//9->2\n};\n\nint CalcCost(int prev_left_state,int prev_right_state,int next_step_state,\n\t     int next_foot_side,int prev_foot_side){\n  if(prev_foot_side == next_foot_side) return 1;\n\n  int LHpos = gHorizonalPos[prev_left_state];\n  int RHpos = gHorizonalPos[prev_right_state];\n  int NHpos = gHorizonalPos[next_step_state];\n\n  //next_foot_side := 0(left)\n  if(next_foot_side == 0){\n    if(RHpos == -1) return 0;\n    return RHpos < NHpos ? 1 : 0;\n  }\n  //next_foot_side := 1(right)\n  else if(next_foot_side == 1){\n    if(LHpos == -1) return 0;\n    return NHpos < LHpos ? 1 : 0;\n  }\n}\n\nint ComputeLeastCost(){\n  int res = INF;\n  for(int left_state=0;left_state<10;left_state++){\n    if(left_state == 5) continue;\n    for(int right_state=0;right_state<10;right_state++){\n    if(right_state == 5) continue;\n      for(int foot_side=0;foot_side<2;foot_side++){\n\tres = min(res,prev[left_state][right_state][foot_side]);\n      }\n    }\n  }\n  return res;\n}\n\nvoid debug(int next_step_pos,int turn){\n  printf(\"turn:%d target:%d\\n\",turn,next_step_pos);\n  for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n    if(prev_left_state == 5) continue;\n    for(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n      if(prev_right_state == 5) continue;\n      for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\tprintf(\"calc_cost %d ,\",CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,1));\n\tprintf(\"turn %d, left_state %d,right_state %d,foot_side %d,val %d\\n\",\n\t       turn,\n\t       prev_left_state,\n\t       prev_right_state,\n\t       next_foot_side,\n\t       next[prev_left_state][prev_right_state][next_foot_side]);\n      }\n    }\n  }\n\n  printf(\"\\n\");\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str.size() == 1 && str[0] == '#') break;\n\n    memset(prev,0x3f,sizeof(prev));\n    memset(next,0x3f,sizeof(next));\n    prev[0][0][0] = 0;\n    prev[0][0][1] = 0;\n    for(int turn=0;turn < str.size(); turn++){\n      int next_step_pos = str[turn]-'0';\n      for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n\tif(prev_left_state == 5) continue;\n\tfor(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n\t  if(prev_right_state == 5) continue;\n\t  for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\t    for(int prev_foot_side = 0;prev_foot_side<2;prev_foot_side++){\n\t      //dp[prev,now][left_state][right_state][prev_foot_side]\n\n\t      int cost = CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,prev_foot_side);\n\n\t      if(next_foot_side == 0){\n\t\tnext[next_step_pos][prev_right_state][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t  +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t   next[next_step_pos][prev_right_state][next_foot_side]);\n\t      }\n\n\t      else{\n\t\tnext[prev_left_state][next_step_pos][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t  next[prev_left_state][next_step_pos][next_foot_side]);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n\n      for(int i=0;i<10;i++){\n\tfor(int j=0;j<10;j++){\n\t  for(int k=0;k<2;k++){\n\t    prev[i][j][k] = next[i][j][k];\n\t  }\n\t}\n      }\n      memset(next,0x3f,sizeof(next));\n      // debug(next_step_pos,turn);\n    }\n    printf(\"%d\\n\",ComputeLeastCost());\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\n// step, left, right, last_foot(0:1=L:R)\nint dp[100001][8][8][2];\n\nconst int INF = 100000000;\n\nint main(){\n\twhile(true){\n\t\tstring line;\n\t\tcin >> line;\n\t\tif(line == \"#\"){ break; }\n\t\tif(line.size() <= 2){\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i = 0; i < 100001; ++i){\n\t\t\tfor(int j = 0; j < 8; ++j){\n\t\t\t\tfor(int k = 0; k < 8; ++k){\n\t\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[i][j][k][l] = INF; }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint panel = line[0] - '1';\n\t\tdp[0][panel][0][0] = 0;\n\t\tdp[0][0][panel][1] = 0;\n\t\tint answer = INF;\n\t\tfor(int i = 1; i < line.size(); ++i){\n\t\t\tanswer = INF;\n\t\t\tpanel = line[i] - '1';\n\t\t\tfor(int l = 0; l < 8; ++l){\n\t\t\t\tfor(int r = 0; r < 8; ++r){\n\t\t\t\t\t// move left\n\t\t\t\t\tif(panel % 3 <= r % 3){\n\t\t\t\t\t\tint res = dp[i][panel][r][0];\n\t\t\t\t\t\tres = min(res, dp[i - 1][l][r][0] + 1);\n\t\t\t\t\t\tres = min(res, dp[i - 1][l][r][1]);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i][panel][r][0] = res;\n\t\t\t\t\t}\n\t\t\t\t\t// move right\n\t\t\t\t\tif(panel % 3 >= l % 3){\n\t\t\t\t\t\tint res = dp[i][l][panel][1];\n\t\t\t\t\t\tres = min(res, dp[i - 1][l][r][0]);\n\t\t\t\t\t\tres = min(res, dp[i - 1][l][r][1] + 1);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i][l][panel][1] = res;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(scanf(\"%s\",c)){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\trep2(i,1,strlen(c)+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[strlen(c)%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nconst int INF = 100000000;\nconst int N = 100000;\n\nint dp[N][10][10][2];\n//pos, left, right, foot\n//0 == left, 1 == right\n\nbool isCorrect(int l, int r){\n  if(r == 1 || r == 4 || r == 7){\n    if(l != 1 && l != 4 && l != 7) return false;\n  }else if(r == 2 || r == 8){\n    if(l == 3 || l == 6 || l == 9) return false;\n  }\n  return true;\n}\n\nmain(){\n  string input;\n  while(cin >> input){\n    if(input == \"#\") break;\n    fill(dp[0][0][0], dp[N-1][9][10], -1);\n    dp[0][input[0]-'0'][0][0] = dp[0][0][input[0]-'0'][1] = 0;\n    int size = input.size();\n    for(int i=0;i<size-1;i++){\n      for(int j=0;j<10;j++){\n\tfor(int k=0;k<10;k++){\n\t  for(int l=0;l<2;l++){\n\t    if(dp[i][j][k][l] < 0) continue;\n\t    int tmp;\n\t    if(l == 0){\n\t      if(isCorrect(j, input[i+1]-'0')){\n\t\ttmp = dp[i+1][j][input[i+1]-'0'][1] = dp[i][j][k][l];\n\t      }else{\n\t\ttmp = dp[i+1][input[i+1]-'0'][k][l] = dp[i][j][k][l] + 1;\n\t      }\n\t    }else{\n\t      if(isCorrect(input[i+1]-'0', k)){\n\t\ttmp = dp[i+1][input[i+1]-'0'][k][0] = dp[i][j][k][l];\n\t      }else{\n\t\ttmp = dp[i+1][j][input[i+1]-'0'][l] = dp[i][j][k][l] + 1;\n\t      }\n\t    }\n\t    //cout<< \"========= \" << tmp << endl;\n\t    //cout << i << ' ' << j << ' ' << k << ' ' << l << ' ' << dp[i][j][k][l] << endl;\n\t  }\n\t}\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<10;i++){\n      for(int j=0;j<10;j++){\n\tfor(int k=0;k<2;k++){\n\t  if(dp[size-1][i][j][k]<0) continue;\n\t  ans = min(ans, dp[size-1][i][j][k]);\n\t}\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\n#define INF 0x3f3f3f3f\nusing namespace std;\n\nint dp[2][9][9][2];\nchar s[200000];\nint main(){\n\twhile(1){\n\t\tscanf(\"%s\",s);\n\t\tif(s[0]=='#')break;\n\t\tint n=strlen(s);\n\t\trep(i,n){\n\t\t\ts[i]-='1';\n\t\t}\n\t\trep(i,9)rep(j,9)rep(k,2){\n\t\t\tif(j==4||k==4)dp[0][i][j][k]=INF;\n\t\t\telse dp[0][i][j][k]=0;\n\t\t}\n\t\trep(l,n){\n\t\t\tint i=l%2;\n\t\t\trep(j,9)rep(k,9)rep(t,2)dp[!i][j][k][t]=INF;\n\t\t\trep(j,9)rep(k,9)rep(t,2){\n\t\t\t\tif(s[l]%3<=k%3){\n\t\t\t\t\tdp[!i][s[l]][k][0]=min(dp[!i][s[l]][k][0],dp[i][j][k][t]+(t==0));\n\t\t\t\t}\n\t\t\t\tif(j%3<=s[l]%3){\n\t\t\t\t\tdp[!i][j][s[l]][1]=min(dp[!i][j][s[l]][1],dp[i][j][k][t]+(t==1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint Min=INF;\n\t\trep(i,9)rep(j,9)rep(k,2)Min=min(Min,dp[n%2][i][j][k]);\n\t\tprintf(\"%d\\n\",Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nvoid solve(string s)\n{\n\tint stepnum[10001][2];\n\t// stepnum[i][0] :  (0から数えて)iばんめの数字の移動のときに左足を使った\n\t// stepnum[i][1] :            　　　　　　　       　　　右足を使った\n\tfor(int i = 0; i < s.length(); i++){\n\t\tfor(int j = 0; j < 2; j++){\n\t\t\tstepnum[i][j] = 0;\n\t\t}\n\t}\n\tint s1 = (s[0] - '0') % 3, s2;\n\tfor(int i = 1; i < s.length(); i++){\n\t\ts2 = (s[i] - '0') % 3;\n\t\tif((s1 == 0 && s2 == 1) || (s1 == 0 && s2 == 2) || (s1 == 2 && s2 == 1)){\n\t\t// 右左、右右、左左はok\n\t\tstepnum[i][0] = min(stepnum[i - 1][1], stepnum[i - 1][0] + 1);\n\t\tstepnum[i][1] = stepnum[i - 1][1] + 1;\n\t\t} else if((s1 == 1 && s2 == 0) || (s1 == 1 && s2 == 2) || (s1 == 2 && s2 == 0)){\n\t\t\t// 左右、左左、右右はok\n\t\t\tstepnum[i][0] = stepnum[i - 1][0] + 1;\n\t\t\tstepnum[i][1] = min(stepnum[i - 1][0], stepnum[i - 1][1] + 1);\n\t\t} else {\n\t\t\t// どの足でもok\n\t\t\tstepnum[i][0] = min(stepnum[i - 1][0] + 1, stepnum[i - 1][1]);\n\t\t\tstepnum[i][1] = min(stepnum[i - 1][1] + 1, stepnum[i - 1][0]);\n\t\t}\n\t\ts1 = s2;\n\t}\n\tcout << min(stepnum[s.length() - 1][0], stepnum[s.length() - 1][1]) << endl;\n}\n\nint main()\n{\n\tstring s;\n\twhile(1){\n\t\tcin >> s;\n\t\tif(s == \"#\") break;\n\t\tsolve(s);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX 10005\n#define INF (1<<26)\nstring s;\nint t[MAX];\nint d[MAX][10][10][2];\n\nstruct state{\n  int pos,l,r,f,cost;\n  bool operator < (const state &p)const{    return cost > p.cost;  }\n};\n\nint change[]={0,1,2,3,1,2,3,1,2,3};\nint check(int L,int R){\n  if(L==0||R==0)return 1;\n  if(change[L]<=change[R])return 1;\n  else return 0;\n}\n\nvoid update(priority_queue<state> &Q,state next){\n  if(next.cost<d[next.pos][next.l][next.r][next.f]){\n    d[next.pos%MAX][next.l][next.r][next.f]=next.cost;\n    Q.push(next);\n  }\n}\n\nint solve(){\n  int len=s.size();\n  if(len<=2)return 0;\n  for(int i=0;i<len;i++){\n    t[i]=s[i]-'0';\n    for(int j=0;j<10;j++)\n      for(int k=0;k<10;k++)\n\td[i][j][k][0]=d[i][j][k][1]=INF;\n  }\n  d[0][t[0]][0][0]=0;\n  d[0][0][t[0]][1]=0;\n  priority_queue<state> Q;\n  Q.push((state){0,t[0],0,0,0});\n  Q.push((state){0,0,t[0],1,0});\n\n  while(!Q.empty()){\n    state s=Q.top();Q.pop();\n    if(s.cost>d[s.pos%MAX][s.l][s.r][s.f])continue;\n    if(s.pos==len-1)return s.cost;\n\n    int np=s.pos+1,to=t[np];\n\n    if(check(to,s.r)){\n      update(Q,(state){ np, to, s.r, 0, s.cost+1-s.f});\n    }\n\n    if(check(s.l,to)){\n      update(Q,(state){ np, s.l, to, 1, s.cost+s.f});\n    }\n\n   \n  }\n}\n\nint main(){\n  while(1){\n    cin>>s;\n    if(s==\"#\")break;\n    cout<<solve()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define all(x) (x).begin(),(x).end()\nconst int mod=1000000007,MAX=100005,INF=1<<30;\n\nint dp[MAX][10][10][2];\n\nvector<int> dx={0,1,2,3,1,0,3,1,2,3};\n\nint main(){\n    \n    std::ifstream in(\"text.txt\");\n    std::cin.rdbuf(in.rdbuf());\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    \n    while(1){\n        string S;cin>>S;\n        if(S==\"#\") break;\n        int N=S.size();\n        \n        for(int j=0;j<10;j++){\n            for(int k=0;k<10;k++){\n                for(int i=0;i<=N;i++){\n                    dp[i][j][k][0]=INF;\n                    dp[i][j][k][1]=INF;\n                }\n                dp[0][j][k][0]=0;\n                dp[0][j][k][1]=0;\n            }\n        }\n        \n        for(int i=0;i<N;i++){\n            for(int j=0;j<10;j++){\n                for(int k=0;k<10;k++){\n                    int to=S[i]-'0';\n                    if(dx[to]<=dx[k]){\n                        dp[i+1][to][k][0]=min(dp[i+1][to][k][0],dp[i][j][k][0]+1);\n                        dp[i+1][to][k][0]=min(dp[i+1][to][k][0],dp[i][j][k][1]);\n                    }\n                    \n                    if(dx[j]<=dx[to]){\n                        dp[i+1][j][to][1]=min(dp[i+1][j][to][1],dp[i][j][k][0]);\n                        dp[i+1][j][to][1]=min(dp[i+1][j][to][1],dp[i][j][k][1]+1);\n                    }\n                }\n            }\n        }\n        \n        int ans=INF;\n        \n        for(int j=0;j<10;j++){\n            for(int k=0;k<10;k++){\n                ans=min(ans,dp[N][j][k][0]);\n                ans=min(ans,dp[N][j][k][1]);\n            }\n        }\n        \n        cout<<ans<<endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\n\nbool correct(int other, int next, int turn){\n  if(turn == 1){\n    return other > next;\n  }else{\n    return other < next;\n  }\n    \n}\n\nint main(int argc, char *argv[]){\n  string s;\n  while(cin >> s){\n    if(s == \"#\")break;\n    int foot[2];//left, right\n    bool turn = 0;// 0 is left, 1 is right\n    int violate = 0;\n    int Min = 1e8;\n    //left start\n    for (int t = 0; t < 2; t++) {\n      foot[0] = 0;\n      foot[1] = 2;\n      turn = t;\n      violate = 0;\n      for (int i = 0; i < s.length(); i++) {\n        //correct left foot motion\n        char tmp = s[i];\n        int next = atoi(&tmp) - 1;\n        if(correct(foot[(turn + 1)&1]%3, next%3, turn)){\n          violate++;\n          turn = !turn;\n        }\n        //std::cout << violate << std::endl;\n        foot[turn&1] = next;\n        //std::cout << \"left:\" << next_foot[0] << std::endl;\n        turn = !turn;\n      }\n      Min = min(Min, violate);\n    }\n    std::cout << Min << std::endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main() {\n    string str;\n    vector<vector<string>> invalid(2, vector<string>(10));\n    invalid[0][1] = \"23968\";\n    invalid[0][2] = \"369\";\n    invalid[0][3] = \"\";\n    invalid[0][6] = \"\";\n    invalid[0][9] = \"\";\n    invalid[0][8] = \"369\";\n    invalid[0][7] = \"23698\";\n    invalid[0][4] = \"23698\";\n    invalid[1][1] = \"\";\n    invalid[1][4] = \"\";\n    invalid[1][7] = \"\";\n    invalid[1][2] = \"147\";\n    invalid[1][8] = \"147\";\n    invalid[1][3] = \"78412\";\n    invalid[1][6] = \"78412\";\n    invalid[1][9] = \"78412\";\n    while (cin >> str, str != \"#\") {\n        int rcount = 0;\n        int lcount = 0;\n        int r = 1;\n        int l = 0;\n        for (int i = 0; i < str.size() - 1; i++) {\n            if (invalid[r % 2][(int)(str[i] - '0')].find(str[i + 1]) != string::npos) {\n                rcount++;\n                r--;\n            }\n            if (invalid[l % 2][(int)(str[i] - '0')].find(str[i + 1]) != string::npos) {\n                lcount++;\n                l--;\n            }\n\n            r++, l++;\n        }\n\n        cout << min(rcount, lcount) << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nbool valid(int left,int right){\n  if(left==right)return false;\n  if((left==2||left==8)&&(right==1||right==4||right==7))return false;\n  if((left==6||left==9||left==3)&&(right==2||right==8||right==1||right==4||right==7))return false;\n  return true;\n}\n\nint main(){\n  string str;\n  while(cin>>str&&str!=\"#\"){\n    int minCnt=1000000000;\n    for(int initleft = 1; initleft <= 9; initleft++){\n      int left=initleft;\n      if(left==5)continue;\n      for(int initright=1; initright <= 9; initright++){\n\tint right=initright;\n\tif(right==5)continue;\n\tif(!valid(left,right))continue;\n\t// 0->ツ債カツつゥツづァ,1->ツ右ツつゥツづァ\n\tint cont=0;\n\tint angle=0;\n\tfor(int step=0; step<=1; step++){\n\t  angle=step;\n\t  cont=0;\n\t  for(int i = 0; i < str.size(); i++){\n\t    if(angle==0){\n\t      // ツ右ツづーツ篠篠つオツ、ツつセツづ淞づ按づァツ債カ\n\t      if(valid(left,str[i]-'0')){\n\t\tangle=1;\n\t\tright=str[i]-'0';\n\t      }\n\t      else{\n\t\tangle=0;\n\t\tleft=str[i]-'0';\n\t\tcont++;\n\t      }\n\t    }\n\t    else{\n\t      // ツ右ツづーツ篠篠つオツ、ツつセツづ淞づ按づァツ債カ\n\t      if(valid(str[i]-'0',right)){\n\t\tangle=0;\n\t\tleft=str[i]-'0';\n\t      }\n\t      else{\n\t\tangle=1;\n\t\tright=str[i]-'0';\n\t\tcont++;\n\t      }\n\t    }\n\t  }\n\t  // mincnt\n\t  minCnt=min(minCnt,cont);\n\t}\n      }\n    }\n    cout<<minCnt<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#include <regex>\nusing namespace std;\n#define FOR(i,k,n) for(int i = (k); i < (n); i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(a) begin(a),end(a)\n#define MS(m,v) memset(m,v,sizeof(m))\n#define D10  fixed<<setprecision(10)\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> P;\ntypedef complex<double> Point;\ntypedef long long ll;\nconst int INF = 1145141919;\nconst int MOD = 100000007;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\nstruct edge\n{\n\tint from, to, cost;\n\tbool operator < (const edge& e) const { return cost < e.cost; }\n\tbool operator >(const edge& e) const { return cost > e.cost; }\n};\n///*************************************************************************************///\n///*************************************************************************************///\n///*************************************************************************************///\n\nstring s;\nint dp[111111][2];\n\nint main()\n{\n\twhile (cin >> s)\n\t{\n\t\tif (s == \"#\") break;\n\t\tREP(i, s.size())REP(j, 2) dp[i][j] = (i == 0 ? 0 : INF);\n\t\tFOR(i, 1, s.size())\n\t\t{\n\t\t\tint t = (s[i] - '1') % 3;\n\t\t\tint p = (s[i - 1] - '1') % 3;\n\t\t\tdp[i][0] = dp[i - 1][0] + 1;\n\t\t\tdp[i][1] = dp[i - 1][1] + 1;\n\t\t\tif (t <= p) dp[i][0] = min(dp[i][0], dp[i - 1][1]);\n\t\t\tif (t >= p) dp[i][1] = min(dp[i][1], dp[i - 1][0]);\n\t\t}\n\t\tcout << min(dp[s.size()-1][0], dp[s.size()-1][1]) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\n// step % 2, left, right, last_foot(0:1=L:R)\nint dp[2][9][9][2];\n\nconst int INF = 100000000;\n\nint main(){\n\twhile(true){\n\t\tstring line;\n\t\tcin >> line;\n\t\tif(line == \"#\"){ break; }\n\t\tif(line.size() < 2){\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint panel = line[0] - '1';\n\t\tfor(int j = 0; j < 9; ++j){\n\t\t\tfor(int k = 0; k < 9; ++k){\n\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[0][j][k][l] = INF; }\n\t\t\t}\n\t\t}\n\t\tfor(int i = 0; i < 9; ++i){\n\t\t\tdp[0][panel][i][0] = 0;\n\t\t\tdp[0][i][panel][1] = 0;\n\t\t}\n\t\tint answer = INF;\n\t\tfor(int i = 1; i < line.size(); ++i){\n\t\t\tanswer = INF;\n\t\t\tpanel = line[i] - '1';\n\t\t\tfor(int j = 0; j < 9; ++j){\n\t\t\t\tfor(int k = 0; k < 9; ++k){\n\t\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[i % 2][j][k][l] = INF; }\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int l = 0; l < 9; ++l){\n\t\t\t\tfor(int r = 0; r < 9; ++r){\n\t\t\t\t\t// move left\n\t\t\t\t\tif(panel % 3 <= r % 3 && r != panel){\n\t\t\t\t\t\tint res = dp[i % 2][panel][r][0];\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][0] + 1);\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][1]);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i % 2][panel][r][0] = res;\n\t\t\t\t\t}\n\t\t\t\t\t// move right\n\t\t\t\t\tif(panel % 3 >= l % 3 && l != panel){\n\t\t\t\t\t\tint res = dp[i % 2][l][panel][1];\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][0]);\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][1] + 1);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i % 2][l][panel][1] = res;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\n#define __int64 long long\n\tint f[]={0,1,2,3,1,0,3,1,2,3,100};\n\tint main(){\n\tstring n;\n\tint ans1=0,ans2=0,l=5,r=5;\n\twhile(cin>>n,n!=\"#\"){\n\tans1=ans2=0,l=r=5;\n\tl=n[0]-'0';\n\tint mae=0;\n\tint fi=1;\n\n\tif(f[l]<2)while(f[n[fi]-'0']<2)fi++;\n\t//cout<<fi<<\" \";\n\tl=n[fi-1]-'0';\n\tfor(int i=fi;i<(int)n.size();i++){\n\t\t//cout<<l<<\" \"<<r<<\" \"<<mae<<endl;\n\t\tif(mae==0){\n\t\t\tif(f[l]<f[n[i]-'0']){r=n[i]-'0';mae=1;}\n\t\t\telse l=n[i]-'0',ans1++,mae=0;\n\t\t}\n\t\telse{\n\t\t\tif(f[r]>f[n[i]-'0']){l=n[i]-'0',mae=0;}\n\t\t\telse r=n[i]-'0',ans1++,mae=1;\n\t\t}\n\t}\n\tr=n[0]-'0',l=5;\n\tmae=1;\n\tfi=1;\n\tif(f[r]>2)while(f[n[fi]-'0']>2)fi++;\n\tr=n[fi-1]-'0';\n\t//cout<<fi<<\" \";\n\tfor(int i=fi;i<(int)n.size();i++){\n\t\t//cout<<l<<\" \"<<r<<\" \"<<mae<<endl;\n\t\tif(mae==0){\n\t\t\tif(f[l]<f[n[i]-'0']){r=n[i]-'0';mae=1;}\n\t\t\telse l=n[i]-'0',ans2++,mae=0;\n\t\t}\n\t\telse{\n\t\t\tif(f[r]>f[n[i]-'0']){l=n[i]-'0';mae=0;}\n\t\t\telse r=n[i]-'0',ans2++,mae=1;\n\t\t}\n\t}\n\t//<<l<<\" \"<<r<<\" \"<<mae<<endl;\n\tcout<<min(ans1,ans2)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FOR(i,a,b) for(int i = (a);i < (b);i++)\n#define RFOR(i,a,b) for(int i = (b)-1;i >= (a);i--)\n#define REP(i,n) FOR(i,0,(n))\n#define RREP(i,n) RFOR(i,0,(n))\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n#define pb push_back\n#define mp make_pair\n#define ft first\n#define sd second\n\n#define INF 1000000000\n#define index(a, b, c) (a)*81+(b)*9+(c)\n\nint N;\nchar s[100004];\nint dp[2][2*9*9];\n\nbool input(){\n  cin>>s;\n  if(s[0]=='#')return false;\n  N = strlen(s);\n  REP(i, N)s[i] -= '1';\n  return true;\n}\n\nint x[9] = {0,1,2,0,1,2,0,1,2};\n\nvoid solve(){\n  REP(i, 2) {\n  \tREP(j, 9) {\n  \t\tREP(k, 9) {\n  \t\t\tif(x[j]>x[k]) dp[0][index(i, j, k)] = INF;\n  \t\t\telse dp[0][index(i, j, k)] = 0;\n  \t\t}\n  \t}\n  }\n  \n  REP(l, N) {\n    REP(i, 2*9*9)dp[1][i] = INF;\n    \n  \tREP(i, 2) {\n  \t\tREP(j, 9) {\n  \t\t\tREP(k, 9) {\n  \t\t\t\tif(dp[0][index(i, j, k)] == INF)continue;\n  \t\t\t\tif(x[s[l]]<=x[k])\n  \t\t\t\tdp[1][index(0, s[l], k)] = min(dp[1][index(0, s[l], k)], dp[0][index(i, j, k)]+(i==0));\n  \t\t\t\tif(x[s[l]]>=x[j])\n  \t\t\t\tdp[1][index(1, j, s[l])] = min(dp[1][index(1, j, s[l])], dp[0][index(i, j, k)]+(i==1));\n  \t\t\t\t\n  \t\t\t}\n  \t\t}\n  \t}\n  \t\n    REP(i, 2*9*9)dp[0][i] = dp[1][i];\n  }\n  \n  int a = INF;\n  /*REP(i, N+1){\n    REP(j,2*9*9){\n      if(dp[i][j] == INF)\n        cout<<'N';\n      else\n        cout<<dp[i][j];\n      if((j+1)%9==0)cout<<' ';\n    }\n    cout<<endl;\n  }*/\n  REP(i, 2*9*9) {\n    a = min(a, dp[1][i]);\n  }\n  cout<<a<<endl;\n}\n\nint main(){\n  //cin.tie(0);\n  \n  while (input()){\n      solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\n// step % 2, left, right, last_foot(0:1=L:R)\nint dp[2][8][8][2];\n\nconst int INF = 100000000;\n\nint main(){\n\twhile(true){\n\t\tstring line;\n\t\tcin >> line;\n\t\tif(line == \"#\"){ break; }\n\t\tif(line.size() < 2){\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint panel = line[0] - '1';\n\t\tfor(int j = 0; j < 8; ++j){\n\t\t\tfor(int k = 0; k < 8; ++k){\n\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[0][j][k][l] = INF; }\n\t\t\t}\n\t\t}\n\t\tdp[0][panel][2][0] = 0;\n\t\tdp[0][0][panel][1] = 0;\n\t\tint answer = INF;\n\t\tfor(int i = 1; i < line.size(); ++i){\n\t\t\tanswer = INF;\n\t\t\tpanel = line[i] - '1';\n\t\t\tfor(int j = 0; j < 8; ++j){\n\t\t\t\tfor(int k = 0; k < 8; ++k){\n\t\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[i % 2][j][k][l] = INF; }\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int l = 0; l < 8; ++l){\n\t\t\t\tfor(int r = 0; r < 8; ++r){\n\t\t\t\t\t// move left\n\t\t\t\t\tif(panel % 3 <= r % 3){\n\t\t\t\t\t\tint res = dp[i % 2][panel][r][0];\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][0] + 1);\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][1]);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i % 2][panel][r][0] = res;\n\t\t\t\t\t}\n\t\t\t\t\t// move right\n\t\t\t\t\tif(panel % 3 >= l % 3){\n\t\t\t\t\t\tint res = dp[i % 2][l][panel][1];\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][0]);\n\t\t\t\t\t\tres = min(res, dp[(i - 1) % 2][l][r][1] + 1);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i % 2][l][panel][1] = res;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nbool can(bool f, int cur, int to) {\n\tif(f) {\n\t\tif(cur % 3 == 1 && to % 3 != 1) return false;\n\t\tif(cur % 3 == 2 && to % 3 == 0) return false;\n\t\treturn true;\n\t} else {\n\t\tif(cur % 3 == 0 && to % 3 != 0) return false;\n\t\tif(cur % 3 == 2 && to % 3 == 1) return false;\n\t\treturn true;\n\t}\n}\n\nint main() {\n\tstring s;\n\twhile(cin >> s) {\n\t\tif(s == \"#\") break;\n\n\t\tvector<int> v(s.size());\n\t\trep(i, s.size()) v[i] = s[i] - '0';\n\n\t\tint ans = INF, res = 0;\n\t\tint left = v[0], right = 0, ord = 0;\n\n\t\tREP(i, 1, v.size()) {\n\t\t\tif(ord & 1) {\n\t\t\t\tif(can(1, right, v[i])) {\n\t\t\t\t\tleft = v[i];\n\t\t\t\t\tord++;\n\t\t\t\t} else {\n\t\t\t\t\tright = v[i];\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(can(0, left, v[i])) {\n\t\t\t\t\tright = v[i];\n\t\t\t\t\tord++;\n\t\t\t\t} else {\n\t\t\t\t\tleft = v[i];\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tans = min(ans, res);\n\n\t\tres = 0;\n\t\tleft = 0, right = v[0], ord = 1;\n\t\tREP(i, 1, v.size()) {\n\t\t\tif(ord & 1) {\n\t\t\t\tif(can(1, right, v[i])) {\n\t\t\t\t\tleft = v[i];\n\t\t\t\t\tord++;\n\t\t\t\t} else {\n\t\t\t\t\tright = v[i];\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(can(0, left, v[i])) {\n\t\t\t\t\tright = v[i];\n\t\t\t\t\tord++;\n\t\t\t\t} else {\n\t\t\t\t\tleft = v[i];\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tans = min(ans, res);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0, ans2 = 0, a = str[0] - '0' - 1,b = a;\n    bool turn = false, turn2 = false;\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      if(!turn && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans++;\n\tif(UD[n] > UD[b] && UD[n] > UD[a] || UD[n] < UD[b] && UD[n] < UD[a]) turn = true;\n      }\n      if(!turn2 && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans2++;\n\tif(UD[n] > UD[b] && UD[n] > UD[a] || UD[n] < UD[b] && UD[n] < UD[a]) turn2 = true;\n      }\n      if(turn && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans++;\n\tif(UD[n] > UD[b] && UD[n] > UD[a] || UD[n] < UD[b] && UD[n] < UD[a]) turn = false;\n      }\n      if(turn2 && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans2++;\n\tif(UD[n] > UD[b] && UD[n] > UD[a] || UD[n] < UD[b] && UD[n] < UD[a]) turn2 = false;\n      }\n      b = a;\n      a = n;\n    }\n    cout << min(ans,ans2) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\n/*\n 7 8 9\n 4   6\n 1 2 3\n*/\n\nvoid init() {\n}\n\nconst int MAX = 1e5 + 10;\nint dp[MAX][9][9][2];\nvoid solve(string s) {\n    for (int i = 0; i < MAX; i++) {\n        for (int j = 0; j < 9; j++) {\n            for (int k = 0; k < 9; k++) {\n                for (int l = 0; l < 2; l++) {\n                    dp[i][j][k][l] = INF;\n                }\n            }\n        }\n    }\n    for (int i = 0; i < 9; i++) {\n        for (int j = 0; j < 9; j++) {\n            if (i % 3 > j % 3) continue;\n            if (i == 4 || j == 4) continue;\n            for (int k = 0; k < 2; k++) {\n                dp[0][i][j][k] = 0;\n            }\n        }\n    }\n    const int L = s.length();\n    for (int i = 0; i < L; i++) {\n        const int nxt = (s[i] - '0') - 1;\n        for (int j = 0; j < 9; j++) {//???\n            if (j == 4) continue;\n            for (int k = 0; k < 9; k++) {//???\n                if (k == 4) continue;\n                if (j % 3 <= nxt % 3) {\n                    chmin(dp[i + 1][j][nxt][0], dp[i][j][k][1]);\n                } else {\n                    chmin(dp[i + 1][nxt][k][1], dp[i][j][k][1] + 1);\n                }\n                if (nxt % 3 <= k % 3) {\n                    chmin(dp[i + 1][nxt][k][1], dp[i][j][k][0]);\n                } else {\n                    chmin(dp[i + 1][j][nxt][0], dp[i][j][k][0] + 1);\n                }\n            }\n        }\n    }\n    int ans = INF;\n    for (int i = 0; i < 9; i++) {\n        for (int j = 0; j < 9; j++) {\n            for (int k = 0; k < 2; k++) {\n                chmin(ans, dp[L][i][j][k]);\n            }\n        }\n    }\n    printf(\"%d\\n\", ans);\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    init();\n    while (cin >> s, s != \"#\") {\n        solve(s);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cassert>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\nusing namespace std;\n#define inf 0x7fffffff\n#define eps 1e-9\n#define ll long long\n#define ld long double\n#define pii pair<int,int>\n#define x first\n#define y second\n#define sf scanf\n#define pf printf\n#define vec vector\n#define pb push_back\n#define mp make_pair\n#define sz(a) int(a.size())\n#define all(a) a.begin(),a.end()\n#define bin_cnt(x) __builtin_popcount(x)\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define rrep(i,b,a) for(int i=b;i>=a;i--)\n#define irep(i,a) for(__typeof(a.begin()) i=a.begin();i!=a.end();i++)\n#pragma comment(linker, \"/STACK:32505856\")\n\ntemplate<class T> inline T sqr(T a) {return a*a;}\ntemplate<class T> inline void gmin(T&a,T b) {if(a>b)a=b;}\ntemplate<class T> inline void gmax(T&a,T b) {if(a<b)a=b;}\ninline int sign(const double &a) {return a>eps?1:(a<-eps?-1:0);}\nstruct Initializer{Initializer(){ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);}~Initializer(){}}initializer;\n\n#define N 200020\nstring s;\nint f[N][3][3][2];\nint pos[]={0,0,1,2,0,1,2,0,1,2};\n\nint main() {\n  while (cin>>s) {\n    if (s==\"#\") break;\n    int n=sz(s);\n    memset(f,0x7f,sizeof(f));\n\n    rep(l,0,2)\n      rep(r,l,2) {\n        f[0][l][r][0]=\n        f[0][l][r][1]=0;\n      }\n\n    rep(i,0,n-1) {\n      if (s[i]<'0'||'9'<s[i]) continue;\n      rep(l,0,2)\n        rep(r,l,2) {\n          int p=pos[s[i]-'0'];\n          if (p<=r) {\n            gmin(f[i+1][p][r][0],f[i][l][r][0]+1);\n            gmin(f[i+1][p][r][0],f[i][l][r][1]);\n          }\n          if (l<=p) {\n            gmin(f[i+1][l][p][1],f[i][l][r][0]);\n            gmin(f[i+1][l][p][1],f[i][l][r][1]+1);\n          }\n        }\n    }\n\n    int ans=inf;\n    rep(l,0,2)\n      rep(r,l,2) {\n        gmin(ans,f[n][l][r][0]);\n        gmin(ans,f[n][l][r][1]);\n      }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n\nusing namespace std;\n\nint main(){\n\n\tint left,right,l_count,r_count;\n\tchar buf[100001],pre;\n\n\twhile(true){\n\t\tscanf(\"%s\",buf);\n\t\tif(buf[0] == '#')break;\n\n\t\tl_count = 0;\n\t\tleft = buf[0] - '0';\n\t\tif(left % 3 != 0){\n\t\t\tright = 3;\n\t\t}else{\n\t\t\tif(left == 3){\n\t\t\t\tright = 6;\n\t\t\t}else{\n\t\t\t\tright = 3;\n\t\t\t}\n\t\t}\n\t\tpre = 'l';\n\n\t\tfor(int i = 1; buf[i] != '\\0'; i++){\n\t\t\tif((left%3 == 0 && (buf[i] - '0')%3 > 0) || (left%3 == 2 && (buf[i] - '0')%3 == 1)){\n\t\t\t\tif(pre == 'l')l_count++;\n\t\t\t\tleft = buf[i] - '0';\n\t\t\t\tpre = 'l';\n\t\t\t}else if((right % 3 == 1 && (buf[i] - '0')%3 != 1) || (right % 3 == 2 && (buf[i] - '0')%3 == 0)){\n\t\t\t\tif(pre == 'r')l_count++;\n\t\t\t\tright = buf[i] - '0';\n\t\t\t\tpre = 'r';\n\t\t\t}else{\n\t\t\t\tif(pre == 'l'){\n\t\t\t\t\tright = buf[i] - '0';\n\t\t\t\t\tpre = 'r';\n\t\t\t\t}else{\n\t\t\t\t\tleft = buf[i] - '0';\n\t\t\t\t\tpre = 'l';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tr_count = 0;\n\t\tright = buf[0] - '0';\n\t\tif(right % 3 != 1){\n\t\t\tleft = 1;\n\t\t}else{\n\t\t\tif(right == 1){\n\t\t\t\tleft = 4;\n\t\t\t}else{\n\t\t\t\tleft = 1;\n\t\t\t}\n\t\t}\n\t\tpre = 'r';\n\t\tfor(int i = 1; buf[i] != '\\0'; i++){\n\t\t\tif((left%3 == 0 && (buf[i] - '0')%3 > 0) || (left%3 == 2 && (buf[i] - '0')%3 == 1)){\n\t\t\t\tif(pre == 'l')r_count++;\n\t\t\t\tleft = buf[i] - '0';\n\t\t\t\tpre = 'l';\n\t\t\t}else if((right % 3 == 1 && (buf[i] - '0')%3 != 1) || (right % 3 == 2 && (buf[i] - '0')%3 == 0)){\n\t\t\t\tif(pre == 'r')r_count++;\n\t\t\t\tright = buf[i] - '0';\n\t\t\t\tpre = 'r';\n\t\t\t}else{\n\t\t\t\tif(pre == 'l'){\n\t\t\t\t\tright = buf[i] - '0';\n\t\t\t\t\tpre = 'r';\n\t\t\t\t}else{\n\t\t\t\t\tleft = buf[i] - '0';\n\t\t\t\t\tpre = 'l';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\",min(l_count,r_count));\n\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,0,0),step(0,a,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\n\nint main() {\n\tstring s;\n\twhile (cin >> s, s != \"#\"){\n\t\tint ans = 1000000;\n\t\tvvi dp(2, vi(9, 1000000));//??????????????????????¶???????,????????????????¶?\n\t\tREP(j, 9){\n\t\t\tif (j == 4 || s[0] - '0' - 1==j)continue;\n\t\t\tif ((s[0] - '0' - 1)%3<= j%3)\n\t\t\tdp[0][j]=0;\n\t\t\tif ((s[0] - '0' - 1) % 3 >= j % 3)\n\t\t\tdp[1][j] = 0;\n\t\t}\n\t\tFOR(i,1, s.length()){\n\t\t\tvvi dp_back(2, vi(9, 1000000));\n\t\t\tREP(j, 2){//??????????????????\n\t\t\t\tREP(k, 9){//????????????????¶?\n\t\t\t\t\tif (k == 4)continue;\n\t\t\t\t\tint step = s[i] - '0' - 1;\n\t\t\t\t\t//if (step == k&&i!=0)continue;\n\t\t\t\t\tif ((step % 3 <= k % 3)&&j==0){\n\t\t\t\t\t\t//????¶???????????¶?\n\t\t\t\t\t\tdp_back[j][k] = min(dp_back[j][k], dp[j][k] + (i ? 1 : 0));\n\t\t\t\t\t\t//????¶???????????¶?\n\t\t\t\t\t\tdp_back[j][s[i - 1] - '0' - 1] = min(dp_back[j][s[i - 1] - '0' - 1], dp[1-j][k]);\n\t\t\t\t\t}\n\t\t\t\t\tif ((step % 3 >= k % 3) && j == 1){\n\t\t\t\t\t\t//????¶???????????¶?\n\t\t\t\t\t\tdp_back[j][s[i - 1] - '0' - 1] = min(dp_back[j][s[i - 1] - '0' - 1], dp[1-j][k]);\n\t\t\t\t\t\t//????¶???????????¶?\n\t\t\t\t\t\tdp_back[j][k] = min(dp_back[j][k], dp[j][k] + (i ? 1 : 0));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp = dp_back;\n\t\t\t\n\t\t}\n\t\tREP(i, 2){\n\t\t\tREP(j, 9){\n\t\t\t\tans = min(ans, dp[i][j]);\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <cassert>\n#include <climits>\n#include <queue>\n#include <set>\n#include <map>\n#include <valarray>\n#include <bitset>\n#include <stack>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int INF = 1<<29;\nconst double PI = acos(-1);\nconst double EPS = 1e-8;\n\nint dp[100001][2];\nint x[100000];\nint n;\n\nint solve(int now, int leg) {\n  if (dp[now][leg]>=0) return dp[now][leg];\n  if (now==n) return 0;\n  int res = INF;\n  if (leg==0) {\n    if (x[now+1] >= x[now]) \n      res = min(res, solve(now+1,1));\n    res = min(res, 1+solve(now+1,0));\n  } else {\n    if (x[now+1] <= x[now]) \n      res = min(res, solve(now+1,0));\n    res = min(res, 1+solve(now+1,1));\n  }\n  return dp[now][leg] = res;\n}\n\nint main() {\n  string s;\n  const int xx[] = {-1,0,1,-1,0,1,-1,0,1};\n  while(cin>>s,s!=\"#\") {\n    n = s.size();\n    REP(i,s.size()) {\n      x[i] = xx[s[i]-'1'];      \n    }\n    memset(dp,-1,sizeof(dp));\n    cout << min(solve(0,0),solve(0,1)) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <cstring>\n#include <string>\n#include <set>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\nusing namespace std;\n \n#define REP(i,n) for(int i=0; i<n; ++i)\n#define FOR(i,a,b) for(int i=a; i<=b; ++i)\n#define FORR(i,a,b) for (int i=a; i>=b; --i)\n#define pi acos(-1.0)\n \ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<ll> VL;\ntypedef vector<VI> VVI;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\n\nint main(){\n\tstring s;\n\tint x[] = {0, 0, 1, 2, 0, 0, 2, 0, 1, 2};\n\twhile (cin >> s && s != \"#\"){\n\t\tint n = s.length();\n\t\tif (n <= 2){\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tVI a(n);\n\t\tREP(i,n) a[i] = s[i] - '0';\n\t\tint l = -1, r = 3;\n\t\tint f, lstart = 0, rstart = 0;\n\t\tf = 0;\n\t\tREP(i,n){\n\t\t\tif (f == 0){\n\t\t\t\tif (x[a[i]] <= r){\n\t\t\t\t\tl = x[a[i]];\n\t\t\t\t\tf ^= 1;\n\t\t\t\t}else{\n\t\t\t\t\tr = x[a[i]];\n\t\t\t\t\tlstart++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (x[a[i]] >= l){\n\t\t\t\t\tr = x[a[i]];\n\t\t\t\t\tf ^= 1;\n\t\t\t\t}else{\n\t\t\t\t\tl = x[a[i]];\n\t\t\t\t\tlstart++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tl = -1, r = 3;\n\t\tif (l > r) swap(l,r);\n\t\tf = 1;\n\t\tREP(i,n){\n\t\t\tif (f == 0){\n\t\t\t\tif (x[a[i]] <= r){\n\t\t\t\t\tl = x[a[i]];\n\t\t\t\t\tf ^= 1;\n\t\t\t\t}else{\n\t\t\t\t\tr = x[a[i]];\n\t\t\t\t\trstart++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif (x[a[i]] >= l){\n\t\t\t\t\tr = x[a[i]];\n\t\t\t\t\tf ^= 1;\n\t\t\t\t}else{\n\t\t\t\t\tl = x[a[i]];\n\t\t\t\t\trstart++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(lstart, rstart) << endl;\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n#include <iomanip>\n\n\nusing namespace std;\n\n#ifdef _MSC_VER\n#define __typeof__ decltype\ntemplate <class T> int popcount(T n) { return n ? 1 + popcount(n & (n - 1)) : 0; }\n#endif\n#ifdef __GNUC__\ntemplate <class T> int popcount(T n);\ntemplate <> int popcount(unsigned int n) { return n ? __builtin_popcount(n) : 0; }\ntemplate <> int popcount(int n) { return n ? __builtin_popcount(n) : 0; }\ntemplate <> int popcount(unsigned long long n) { return n ? __builtin_popcountll(n) : 0; }\ntemplate <> int popcount(long long n) { return n ? __builtin_popcountll(n) : 0; }\n#endif\n\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define CL(arr, val) memset(arr, val, sizeof(arr))\n\n#define rep(i, n) for (int i = 0; i < n; ++i)\n\ntemplate <class T> void max_swap(T& a, const T& b) { a = max(a, b); }\ntemplate <class T> void min_swap(T& a, const T& b) { a = min(a, b); }\n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n\nconst double EPS = 1e-8;\nconst double PI = acos(-1.0);\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\nbool valid_pos(int x, int y, int w, int h) { return 0 <= x && x < w && 0 <= y && y < h; }\n\ntemplate <class T> void print(T a, int n, int br = 1, const string& deli = \", \") { cout << \"{ \"; for (int i = 0; i < n; ++i) { cout << a[i]; if (i + 1 != n) cout << deli; } cout << \" }\"; while (br--) cout << endl; }\ntemplate <class T> void print(const vector<T>& v, int br = 1, const string& deli = \", \") { print(v, v.size(), br, deli); }\n\n\n\nstruct P\n{\n\tint p, l, r, t, c;\n\tP(int p, int l, int r, int t, int c)\n\t\t: p(p), l(l), r(r), t(t), c(c) { }\n\tbool operator<(const P& a) const { return c > a.c; }\n};\nint main()\n{\n\tios::sync_with_stdio(false);\n\n\tstring s;\n\twhile (cin >> s, s[0] != '#')\n\t{\n\t\tint n = s.size();\n\t\tconst int INF = 1 << 29;\n\t\tstatic int dp[114514][3][3][2];\n\t\tfor (int i = 0; i <= n; ++i)\n\t\t\tfor (int j = 0; j < 3; ++j)\n\t\t\t\tfor (int k = 0; k < 3; ++k)\n\t\t\t\t\tfor (int l = 0; l < 2; ++l)\n\t\t\t\t\t\tdp[i][j][k][l] = INF;\n\n\t\tpriority_queue<P> q;\n\t\tfor (int i = 0; i < 2; ++i)\n\t\t{\n\t\t\tq.push(P(0, 0, 2, i, 0));\n\t\t\tdp[0][0][2][i] = 0;\n\t\t}\n\n\t\tint res;\n\t\twhile (!q.empty())\n\t\t{\n\t\t\tP cc = q.top(); q.pop();\n\t\t\tint p = cc.p, l = cc.l, r = cc.r, t = cc.t, c = cc.c;\n\t\t\tif (c > dp[p][l][r][t])\n\t\t\t\tcontinue;\n\t\t\telse if (p == n)\n\t\t\t{\n\t\t\t\tres = c;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint x = (s[p] - '0' - 1) % 3;\n\t\t\tint nl = l, nr = r;\n\t\t\tif (t == 0)\n\t\t\t\tnl = x;\n\t\t\telse\n\t\t\t\tnr = x;\n\n\t\t\tint nc = c;\n\t\t\tint np = p + 1, nt = t ^ 1;\n\t\t\tif (nl > nr)\n\t\t\t{\n\t\t\t\t++nc;\n\t\t\t\tswap(nl, nr);\n\t\t\t\tnt ^= 1;\n\t\t\t}\n\n\t\t\tif (nc < dp[np][nl][nr][nt])\n\t\t\t{\n\t\t\t\tdp[np][nl][nr][nt] = nc;\n\t\t\t\tq.push(P(np, nl, nr, nt, nc));\n\t\t\t}\n\t\t}\n\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define syosu(x) fixed<<setprecision(x)\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\ntypedef pair<double,double> pdd;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<ll> vl;\ntypedef vector<vl> vvl;\ntypedef vector<string> vs;\ntypedef vector<P> vp;\ntypedef vector<vp> vvp;\ntypedef vector<pll> vpll;\ntypedef pair<int,P> pip;\ntypedef vector<pip> vip;\nconst int inf=1<<29;\nconst ll INF=1ll<<60;\nconst double pi=acos(-1);\nconst double eps=1e-9;\nconst ll mod=1e9+7;\n//const int dx[4]={-1,0,1,0},dy[4]={0,-1,0,1};\nconst int dx[8]={-1,0,1,0,-1,-1,1,1},dy[8]={0,-1,0,1,-1,1,-1,1};\n\nconst int N=16;\n\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\twhile(1){\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(s==\"#\") break;\n\t\tint res=inf;\n\t\tfor(int i=0;i<3;i++) for(int j=i;j<3;j++){\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tint x=i,y=j,tmp=0;\n\t\t\t\tbool b=k;\n\t\t\t\tfor(int l=0;l<s.size();l++){\n\t\t\t\t\tint nx=s[l]-'0';\n\t\t\t\t\tif(nx==1) nx=0;\n\t\t\t\t\telse if(nx==2) nx=1;\n\t\t\t\t\telse if(nx==3) nx=2;\n\t\t\t\t\telse if(nx==4) nx=0;\n\t\t\t\t\telse if(nx==5) nx=1;\n\t\t\t\t\telse if(nx==6) nx=2;\n\t\t\t\t\telse if(nx==7) nx=0;\n\t\t\t\t\telse if(nx==8) nx=1;\n\t\t\t\t\telse if(nx==9) nx=2;\n\t\t\t\t\tif(b){\n\t\t\t\t\t\tif(nx>y){\n\t\t\t\t\t\t\ttmp++;\n\t\t\t\t\t\t\ty=nx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse x=nx,b^=1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(nx<x){\n\t\t\t\t\t\t\ttmp++;\n\t\t\t\t\t\t\tx=nx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse y=nx,b^=1;\n\t\t\t\t\t}\n\t\t\t\t}\n//\t\t\t\tif(s==\"783\") cout<<i<<' '<<j<<' '<<k<<' '<<tmp<<endl;\n\t\t\t\tres=min(res,tmp);\n\t\t\t}\n\t\t}\n\t\tcout<<res<<endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cctype>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define loop(i,a,n) for(i=a;i<(n);i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nint a[10]={0,0,1,2,0,1,2,0,1,2};\n\nint main(void) {\n    int i,j;\n    string s;\n    while(cin >> s, s!=\"#\"){\n        int ans = INF;\n        int n = s.size();\n        rep(x,2){//右足、左足\n            int t = 0;\n            int f = x;\n            int p = f?5:-1;//0 or 1 or 2\n            rep(i,n){\n                if(f == 0){//右足\n                    if(a[s[i]-'0'] < p)t++;\n                    else f = 1 - f;\n                }else{//左足\n                    if(p < a[s[i]-'0'])t++;\n                    else f = 1 - f;\n                }\n                p = a[s[i]-'0'];\n            }\n            ans = min(ans, t);\n        }\n        cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<climits>\n#include<iostream>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#define MAXS (9 * 9 * 2)\ntypedef long long ll;\ntypedef unsigned long long ull;\nusing namespace std;\n#define pb push_back\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\nint rl[]={0, 1, 2, 0, 1, 2, 0, 1, 2};\nint dp[2][MAXS];\nchar s[200000];\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n#define INF 1000000000\n\nint soeji(int a,int b,int c){\n    return a * 9 * 2 + b * 2 + c;\n}\n\nint main(){\n    while(1){\n        scanf(\"%s\",s);\n        if(s[0] == '#')\n            break;\n\n        int n = strlen(s);\n        REP(i,n)\n            s[i] -= '1';\n\n        REP(i,MAXS)\n            dp[1][i] = 0;\n\n        RREP(i,n){\n            REP(a,9){\n                REP(b,9){\n                    REP(c,2){\n                        int a1 = a,b1 = b,a2 = a,b2 = b;\n                        if(c == 0){\n                            a1 = s[i];\n                            b2 = s[i];\n                        }else{\n                            b1 = s[i];\n                            a2 = s[i];\n                        }\n                        int x = rl[a1] >= rl[b1] ? dp[1][soeji(a1,b2,c)] : INF - 1;\n                        int y = rl[a2] >= rl[b2] ? dp[1][soeji(a2,b2,!c)] : INF;\n                        dp[0][soeji(a,b,c)] = min(x + 1,y);\n                    }\n                }\n            }\n            memcpy(&dp[1][0],&dp[0][0],sizeof(int) * MAXS);\n        }\n        int mini = 1000000000;\n        REP(i,9 * 9 * 2){\n            if(dp[0][i] < mini)\n                mini = dp[0][i];\n        }\n        printf(\"%d\\n\",mini);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdlib>\n#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, const T& b) { if(b < a) a = b; }\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tconst int INF = 0xffffff;\n\n\tint pos[256];\n\tpos['1'] = pos['4'] = pos['7'] = 0;\n\tpos['2'] = pos['8'] = 1;\n\tpos['3'] = pos['6'] = pos['9'] = 2;\n\n\tfor(string arrows; cin >> arrows, arrows != \"#\";) {\n\t\tvector<vector<vector<int> > > dp(3, vector<vector<int> >(3, vector<int>(2, INF)));\n\t\tdp[1][1][false] = dp[1][1][true] = 0;\n\n\t\tfor(int i = 0; i < (int)arrows.size(); ++i) {\n\t\t\tvector<vector<vector<int> > > tmp(3, vector<vector<int> >(3, vector<int>(2, INF)));\n\t\t\tconst int next_pos = pos[arrows[i]];\n\t\t\tfor(int rx = 0; rx < 3; ++rx) {\n\t\t\t\tfor(int lx = 0; lx < 3; ++lx) {\n\t\t\t\t\tfor(int p_left = 0; p_left < 2; ++p_left) {\n\t\t\t\t\t\tif(next_pos >= lx)\n\t\t\t\t\t\t\tchmin(tmp[next_pos][lx][false], dp[rx][lx][p_left] + 1 - p_left);\n\n\t\t\t\t\t\tif(next_pos <= rx)\n\t\t\t\t\t\t\tchmin(tmp[rx][next_pos][true], dp[rx][lx][p_left] + p_left);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp.swap(tmp);\n\t\t}\n\n\t\tint ans = INF;\n\t\tfor(int rx = 0; rx < 3; ++rx)\n\t\t\tfor(int lx = 0; lx < 3; ++lx)\n\t\t\t\tfor(int p_left = 0; p_left < 2; ++p_left)\n\t\t\t\t\tchmin(ans, dp[rx][lx][p_left]);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\nint dp[2][2][9];\n\nbool valid(int left, int right) {\n  if (left == right) return false;\n  left %= 3;\n  right %= 3;\n  return left <= right;\n}\n\nint main() {\n  string str;\n  while (true) {\n    cin >> str;\n    if (str == \"#\") break;\n    rep (i, 2) rep (j, 9) {\n      if (i == 0) {\n\tif (valid(str[0] - '1', j)) dp[0][i][j] = 0;\n\telse dp[0][i][j] = 1e9;\n      } else {\n\tif (valid(j, str[0] - '1')) dp[0][i][j] = 0;\n\telse dp[0][i][j] = 1e9;\n      }\n    }\n    rep (i, str.size() - 1) {\n      rep (j, 2) rep (k, 9) dp[1][i][j] = 1e9;\n      rep (j, 2) rep (k, 9) {\n\tif (j == 0) {\n\t  if (valid(str[i + 1] - '1', k)) dp[1][j][k] = dp[0][j][k] + 1;\n\t  else dp[1][j][k] = 1e9;\n\t  if (valid(str[i + 1] - '1', str[i] - '1')) {\n\t    rep (l, 9) dp[1][j][k] = min(dp[1][j][k], dp[0][j ^ 1][l]);\n\t  }\n\t} else {\n\t  if (valid(k, str[i + 1] - '1')) dp[1][j][k] = dp[0][j][k] + 1;\n\t  else dp[1][j][k] = 1e9;\n\t  if (valid(str[i] - '1', str[i + 1] - '1')) {\n\t    rep (l, 9) dp[1][j][k] = min(dp[1][j][k], dp[0][j ^ 1][l]);\n\t  }\n\t}\n      }\n      rep (j, 2) rep (k, 9) dp[0][j][k] = dp[1][j][k];\n    }\n    int res = 1e9;\n    rep (i, 2) rep (j, 9) res = min(dp[0][i][j], res);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <algorithm>\n#include <functional>\n#include <utility>\n#include <numeric>\n#include <iterator>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int,int> PII;\ntypedef vector<PII> VPII;\ntypedef istringstream ISS;\ntypedef ostringstream OSS;\n\n#define REP( i, m, n ) for ( int i = (int)( m ); i < (int)( n ); ++i )\n#define FOR( v, c ) for ( auto &v : c )\n#define EACH( it, c ) for ( auto it = c.begin(); it != c.end(); ++it )\n#define ALL( c ) (c).begin(), (c).end()\n#define DRANGE( c, p ) (c).begin(), (c).begin() + p, (c).end()\n\n#define PB( n ) push_back( n )\n#define MP( a, b ) make_pair( ( a ), ( b ) )\n#define EXIST( c, e ) ( (c).find( e ) != (c).end() )\n\n#define fst first\n#define snd second\n\n#define DUMP( x ) cerr << #x << \" = \" << ( x ) << endl\n#define DEBUG( x ) cerr << __FILE__ << \":\" << __LINE__ << \": \" << #x << \" = \" << ( x ) << endl\n\nconst int INF = INT_MAX / 2;\n\nint main()\n{\n\tcin.tie( 0 );\n\tios::sync_with_stdio( false );\n\n\tfor ( string str; cin >> str, str != \"#\"; )\n\t{\n\t\tconst int N = str.size();\n\n\t\tvector<VVI> dp( N + 1, VVI( 2, VI( 3, INF ) ) );\n\t\tfill( ALL( dp[0][0] ), 0 );\n\t\tfill( ALL( dp[0][1] ), 0 );\n\n\t\tREP( i, 0, N )\n\t\t{\n\t\t\tREP( j, 0, 2 )\n\t\t\t{\n\t\t\t\tREP( k, 0, 3 )\n\t\t\t\t{\n\t\t\t\t\tconst int nextx = ( str[i] - '0' - 1 ) % 3;\n\t\t\t\t\tif ( j == 0 && nextx < k || j == 1 && k < nextx )\n\t\t\t\t\t{\n\t\t\t\t\t\tdp[ i + 1 ][j][ nextx ] = min( dp[ i + 1 ][j][ nextx ], dp[i][j][k] + 1 );\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdp[ i + 1 ][ ( j + 1 ) % 2 ][ nextx ] = min( dp[ i + 1 ][ ( j + 1 ) % 2 ][ nextx ], dp[i][j][k] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst int res1 = *min_element( ALL( dp.back()[0] ) );\n\t\tconst int res2 = *min_element( ALL( dp.back()[1] ) );\n\t\tcout << min( res1, res2 ) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint tra(int a)\n{\n    if(a==1||a==4||a==7)\n        return 1;\n    if(a==2||a==8)\n        return 2;\n    if(a==3||a==6||a==9)\n        return 3;\n}\nint main()\n{\n    char str[100001];\n    int number[100001];\n\n    while(cin>>str)\n    {\n        int min=99999999;\n        if(str[0]=='#')\n            break;\n        int len=strlen(str);\n            for(int i=0; i<len; i++)\n            {\n                number[i]=tra(str[i]-'0');\n            }\n            for(int l=1; l<=9; l++)\n            {\n                if(l==number[0])\n                {\n                    continue;\n                }\n                for(int r=1; r<=9; r++)\n                {\n                    if(r==5||l==r||tra(l)>tra(r)||l==number[0]||r==number[0])\n                    {\n                        continue;\n                    }\n                    for(int j=0; j<2; j++)\n                    {\n                        int flag=j;\n                        int left=tra(l);\n                        int right=tra(r);\n                        int num1=0;\n                        for(int i=0; i<len; i++)\n                        {\n                            int tmp=number[i];\n                            if(!flag)\n                            {\n                                if(tmp<=right)\n                                {\n                                    flag=1;\n                                    left=tmp;\n                                }\n                                else\n                                {\n                                    right=tmp;\n                                    num1++;\n                                }\n                            }\n                            else\n                            {\n                                if(left<=tmp)\n                                {\n                                    flag=0;\n                                    right=tmp;\n                                }\n                                else\n                                {\n                                    left=tmp;\n                                    num1++;\n                                }\n                            }\n                        }\n                        if(min>num1)\n                        {\n                            min=num1;\n                        }\n\n                    }\n                    printf(\"%d\\n\",min);\n                }\n            }\n        }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\n#include<string.h>\nusing namespace std;\nchar str[100001];\nint v[100000];\nint dp[100001][3][3][2];\nint main(){\n\twhile(1){\n\t\tscanf(\"%s\",str);\n\t\tif(str[0]=='#')return 0;\n\t\tint len=strlen(str);\n\t\tif(len<=2){\n\t\t\tprintf(\"0\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i=0;i<len;i++)v[i]=str[i]-'0';\n\t\tfor(int i=0;i<=len;i++)\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=0;k<3;k++)\n\t\t\t\t\tdp[i][j][k][0]=dp[i][j][k][1]=99999999;\n\t\tfor(int i=0;i<3;i++)\n\t\t\tfor(int j=i;j<3;j++)\n\t\t\t\tdp[0][i][j][0]=dp[0][i][j][1]=0;\n\t\tfor(int i=0;i<len;i++){\n\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\tfor(int k=j;k<3;k++){\n\t\t\t\t\tif((v[i]+2)%3<j){\n\t\t\t\t\t\tdp[i+1][(v[i]+2)%3][k][0]=min(dp[i+1][(v[i]+2)%3][k][0],min(dp[i][j][k][0]+1,dp[i][j][k][1]));\n\t\t\t\t\t}\n\t\t\t\t\telse if((v[i]+2)%3>k){\n\t\t\t\t\t\tdp[i+1][j][(v[i]+2)%3][1]=min(dp[i+1][j][(v[i]+2)%3][1],min(dp[i][j][k][0],dp[i][j][k][1]+1));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdp[i+1][(v[i]+2)%3][k][0]=min(dp[i+1][(v[i]+2)%3][k][0],min(dp[i][j][k][0]+1,dp[i][j][k][1]));\n\t\t\t\t\t\tdp[i+1][j][(v[i]+2)%3][1]=min(dp[i+1][j][(v[i]+2)%3][1],min(dp[i][j][k][0],dp[i][j][k][1]+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ret=9999999;\n\t\tfor(int i=0;i<3;i++)\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tret=min(ret,min(dp[len][i][j][0],dp[len][i][j][1]));\n\t\tprintf(\"%d\\n\",ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\n/*\n 7 8 9\n 4   6\n 1 2 3\n*/\nset<int> se[3];\nvoid init() {\n    se[0].insert({1, 4, 7});\n    se[1].insert({2, 8});\n    se[2].insert({3, 6, 9});\n}\n\nint dfs(string s, int nowlen, bool nextfoot, int nowleft, int nowright) {//t:right f:left\n    if (s.length() == nowlen) return 0;\n    const int nextpoint = s[nowlen] - '0';\n    if (nextfoot) {//right\n        for (int i = 0; i < 3; i++) {\n            if (se[i].count(nowleft)) {\n                if (i == 0) {\n                    return dfs(s, nowlen + 1, !nextfoot, nowleft, nextpoint);\n                } else if (i == 1) {\n                    if (se[0].count(nextpoint)) {\n                        return 1 + dfs(s, nowlen + 1, nextfoot, nextpoint, nowright);\n                    } else {\n                        return dfs(s, nowlen + 1, !nextfoot, nowleft, nextpoint);\n                    }\n                } else {\n                    if (se[2].count(nextpoint)) {\n                        return dfs(s, nowlen + 1, !nextfoot, nowleft, nextpoint);\n                    } else {\n                        return 1 + dfs(s, nowlen + 1, nextfoot, nextpoint, nowright);\n                    }\n                }\n            }\n        }\n        DEBUG(nowleft)\n        assert(false);\n    } else {//left\n        for (int i = 0; i < 3; i++) {\n            if (se[i].count(nowright)) {\n                if (i == 0) {\n                    if (se[0].count(nextpoint)) {\n                        return dfs(s, nowlen + 1, !nextfoot, nextpoint, nowright);\n                    } else {\n                        return 1 + dfs(s, nowlen + 1, nextfoot, nowleft, nextpoint);\n                    }\n                } else if (i == 1) {\n                    if (se[2].count(nextpoint)) {\n                        return 1 + dfs(s, nowlen + 1, nextfoot, nowleft, nextpoint);\n                    } else {\n                        return dfs(s, nowlen + 1, !nextfoot, nextpoint, nowright);\n                    }\n                } else {\n                    return dfs(s, nowlen + 1, !nextfoot, nextpoint, nowright);\n                }\n            }\n        }\n        DEBUG(nowright)\n        assert(false);\n    }\n}\n\nvoid solve(string s) {\n    int res = INF;\n    for (int i = 1; i <=9; i++) {//left\n        for (int j = 1; j <= 9; j++) {//right\n            if (i != j) {\n                if (i == 5 || j == 5) continue;\n                if (se[1].count(j) && se[2].count(i)) continue;\n                if (se[0].count(j) && se[0].count(i) == 0) continue;\n                if (se[1].count(i) && se[0].count(j)) continue;\n                if (se[2].count(i) && se[2].count(j) == 0) continue;\n                chmin(res, min(dfs(s, 0, true, i, j), dfs(s, 0, false, i, j)));\n            }\n        }\n    }\n    printf(\"%d\\n\", res);\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    string s;\n    bool f = false;\n    init();\n    while (cin >> s, s != \"#\") {\n        solve(s);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n\nint main(){\n    while(1){\n        string str;\n        cin >> str;\n        if(str==\"#\") break;\n\n        int len = str.length();\n        vector<int> seq(len);\n        for(int i=0; i<len; i++){\n            seq[i] = (str[i]-'1')%3;\n        }\n        \n        int leg = -1; //l:0,r:1\n        int ans = 0;\n        for(int i=0; i<len-1; i++){\n            if(seq[i+1]-seq[i] > 0){ //move right\n                if(leg==1) ans++;\n                else if(leg==-1) leg=1;\n                else leg = 1-leg;\n            }else if(seq[i+1]-seq[i] < 0){\n                if(leg==0) ans++;\n                else if(leg==-1) leg=0;\n                else leg = 1-leg;\n            }else{\n                if(leg!=-1) leg = 1-leg;\n            }\n        }       \n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpl(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << endl << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\n\n// ostreams {{{\n// complex\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n\n// pair\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\n\n// vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector<T>& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i]; if (i < len - 1) s << \"\\t\";\n\t}\n\treturn s;\n}\n\n// 2 dimentional vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector< vector<T> >& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i] << endl;\n\t}\n\treturn s;\n}\n\n// map\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const map<T1, T2>& m) {\n\ts << \"{\" << endl;\n\tfor (typeof(m.begin()) itr = m.begin(); itr != m.end(); ++itr) {\n\t\ts << \"\\t\" << (*itr).first << \" : \" << (*itr).second << endl;\n\t}\n\ts << \"}\" << endl;\n\treturn s;\n}\n// }}}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// input and output {{{\ninline void input(string filename) {\n\tfreopen(filename.c_str(), \"r\", stdin);\n}\ninline void output(string filename) {\n\tfreopen(filename.c_str(), \"w\", stdout);\n}\n// }}}\n// }}}\n\n// Header under development {{{\n\nint LCM(int a, int b) {\n\t// FIXME\n\treturn a * b;\n}\n\n// Fraction class {{{\n// ref: http://martin-thoma.com/fractions-in-cpp/\nclass Fraction {\n\tpublic:\n\t\tULL numerator;\n\t\tULL denominator;\n\t\tFraction(ULL _numerator, ULL _denominator) {\n\t\t\tassert(_denominator > 0);\n\t\t\tnumerator = _numerator;\n\t\t\tdenominator = _denominator;\n\t\t};\n\n\t\tFraction operator*(const ULL rhs) {\n\t\t\treturn Fraction(this->numerator * rhs, this->denominator);\n\t\t};\n\n\t\tFraction operator*(const Fraction& rhs) {\n\t\t\treturn Fraction(this->numerator * rhs.numerator, this->denominator * rhs.denominator);\n\t\t}\n\n\t\tFraction operator+(const Fraction& rhs) {\n\t\t\tULL lcm = LCM(this->denominator, rhs.denominator);\n\t\t\tULL numer_lhs = this->numerator * (this->denominator / lcm);\n\t\t\tULL numer_rhs = rhs.numerator * (rhs.numerator / lcm);\n\t\t\treturn Fraction(numer_lhs + numer_rhs, lcm);\n\t\t}\n\n\t\tFraction& operator+=(const Fraction& rhs) {\n\t\t\tFraction result = (*this) + rhs;\n\t\t\tthis->numerator = result.numerator;\n\t\t\tthis->denominator = result.denominator;\n\t\t\treturn *this;\n\t\t}\n};\n\nstd::ostream& operator<<(std::ostream &s, const Fraction &a) {\n\tif (a.denominator == 1) {\n\t\ts << a.numerator;\n\t} else {\n\t\ts << a.numerator << \"/\" << a.denominator;\n\t}\n\treturn s;\n}\n\n// }}}\n\n// }}}\n\nbool opt_debug = false;\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\t// input(\"./inputs/0.txt\");\n\t// output(\"./outputs/0.txt\");\n\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\tVI steps;\n\t\tREP (i, s.length()) {\n\t\t\tsteps.PB(s[i] - '0');\n\t\t}\n\n\t\tunsigned short len = steps.size();\n\t\ttypedef vector<unsigned short> VShort;\n\t\ttypedef vector<VShort> VVShort;\n\t\ttypedef vector<VVShort> VVVShort;\n\t\ttypedef vector<VVVShort> VVVVShort;\n\t\tVVVVShort dp(len+1, VVVShort(10, VVShort(10, VShort(2, INF))));\n\n\t\tREP (i, 10) {\n\t\t\tREP (j, 10) {\n\t\t\t\tREP (k, 2) {\n\t\t\t\t\tdp[0][i][j][k] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tenum {\n\t\t\tLEFT,\n\t\t\tRIGHT\n\t\t};\n\n\t\tFOR (turn, 1, len+1) {\n\t\t\tFOR (left, 1, 10) {\n\t\t\t\tif (left == 5) { continue; }\n\t\t\t\tFOR (right, 1, 10) {\n\t\t\t\t\tif (right == 5) { continue; }\n\t\t\t\t\tif ((left + 2) % 3 > (right + 2) % 3) { continue; } // crossing legs\n\n\t\t\t\t\t// move left foot\n\t\t\t\t\tFOR (prev_left, 1, 10) {\n\t\t\t\t\t\tif (left != steps[turn-1]) { break; }\n\t\t\t\t\t\tdp[turn][left][right][LEFT] = min(dp[turn][left][right][LEFT], dp[turn-1][prev_left][right][RIGHT]);\n\t\t\t\t\t\tdp[turn][left][right][LEFT] = min(dp[turn][left][right][LEFT], static_cast<unsigned short>(dp[turn-1][prev_left][right][LEFT] + 1));\n\t\t\t\t\t}\n\n\t\t\t\t\t// move right foot\n\t\t\t\t\tFOR (prev_right, 1, 10) {\n\t\t\t\t\t\tif (right != steps[turn-1]) { break; }\n\t\t\t\t\t\tdp[turn][left][right][RIGHT] = min(dp[turn][left][right][RIGHT], dp[turn-1][left][prev_right][LEFT]);\n\t\t\t\t\t\tdp[turn][left][right][RIGHT] = min(dp[turn][left][right][RIGHT], static_cast<unsigned short>(dp[turn-1][left][prev_right][RIGHT] + 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tunsigned short ans = INF;\n\t\tFOR (left, 1, 10) {\n\t\t\tFOR (right, 1, 10) {\n\t\t\t\tREP (moved, 2) {\n\t\t\t\t\tans = min(ans, dp[len][left][right][moved]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<=size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\tans=min(step(str[a]%3,0,0),step(0,str[a]%3,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n#include <vector>\n\nusing namespace std;\n\n#define max 100001\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\tint dp[2][2][9][9];\n\n\twhile( 1 ) {\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < 2; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[1][1][j][arrow] = 0;\n\t\t\t\tdp[1][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\tfor(int j = 0; j < 2; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < 9; l++)\n\t\t\t\t\t\tdp[0][j][k][l] = dp[1][j][k][l];\n\n\t\t\tfor(int j = 0; j < 2; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < 9; l++)\n\t\t\t\t\t\tdp[1][j][k][l] = 1 << 30;\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[1][0][arrow][k] = min( dp[0][0][j][k] + 1, dp[1][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[1][1][j][arrow] = min( dp[0][1][j][k] + 1, dp[1][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[1][0][arrow][k] = min( dp[0][1][j][k], dp[1][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[1][1][j][arrow] = min( dp[0][0][j][k], dp[1][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n \t\tfor(int i = 0; i < 2; i++)  \n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( dp[1][i][j][k] < 1 << 30 ) {\n\t\t\t\t\t\tif(min > dp[1][i][j][k] ) min = dp[1][i][j][k];\n\t\t\t\t\t}\n\t\tcout << min << endl;\n\n\n\t}\n\n\n\t//while(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cmath>\n#include <climits>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <fstream>\n#include <iostream>\n#include <list>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <cassert>\n#include <functional>\n\nusing namespace std;\n\n#define LOG(...) printf(__VA_ARGS__)\n//#define LOG(...)\n#define FOR(i,a,b) for(int i=(int)(a);i<(int)(b);++i)\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n#define RSORT(c) sort((c).rbegin(),(c).rend())\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<bool> vb;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vb> vvb;\ntypedef vector<vi> vvi;\ntypedef vector<vll> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n\nconst int dx[] = { -1, 0, 1, 0 }; const int dy[] = { 0, 1, 0, -1 };\n\nint main() {\n\tstring s;\n\twhile (cin >> s, s != \"#\"){\n\t\tint ans = 1000000;\n\t\tvector<vector<vector<int>>> dp(2, vector<vector<int>>(9, vector<int>(9, 1000000)));//??????????????????????¶???????,???,???\n\t\tREP(j, 9){\n\t\t\tif (j == 4 || (s[0] - '0' - 1) == j)continue;\n\t\t\tif ((s[0] - '0' - 1) % 3 <= j % 3)\n\t\t\t\tdp[0][s[0] - '0' - 1][j] = 0;\n\t\t\tif ((s[0] - '0' - 1) % 3 >= j % 3)\n\t\t\t\tdp[1][s[0] - '0' - 1][j] = 0;\n\t\t}\n\n\t\tFOR(i, 1, s.length()){\n\t\t\tvector<vector<vector<int>>> dp_back(2,vector<vector<int>>(9,vector<int>(9,1000000)));\n\t\t\tint step = s[i] - '0' - 1;\n\t\t\tREP(j, 2){//??????????????????\n\t\t\t\tREP(k, 9){//????¶?\n\t\t\t\t\tREP(l, 9){//????¶?\n\t\t\t\t\t\tif (k == 4 || l == 4)continue;\n\t\t\t\t\t\tif (j == 0){\n\t\t\t\t\t\t\tif (step % 3 <= l % 3){\n\t\t\t\t\t\t\t\tdp_back[0][step][l] = min(dp_back[0][step][l], dp[0][k][l] + 1);\n\t\t\t\t\t\t\t\tdp_back[0][step][l] = min(dp_back[0][step][l], dp[1][k][l]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j == 1){\n\t\t\t\t\t\t\tif (step % 3 >= k % 3){\n\t\t\t\t\t\t\t\tdp_back[1][k][step] = min(dp_back[1][k][step], dp[0][k][l]);\n\t\t\t\t\t\t\t\tdp_back[1][k][step] = min(dp_back[1][k][step], dp[1][k][l] + 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\tdp = dp_back;\n\n\t\t}\n\t\tREP(i, 2){\n\t\t\tREP(j, 9){\n\t\t\t\tREP(k, 9){\n\t\t\t\t\tans = min(ans, dp[i][j][k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n  while(1){\n    string str;\n    cin >> str;\n    if(str==\"#\") break;\n\n    vector<int> seq(str.length());\n    for(int i=0; i<(int)str.length(); i++){\n      seq[i] = (str[i]-'0'+2)%3;\n    }\n\n    int leg=-1;\n    int count=0;\n    for(int i=1; i<(int)str.length(); i++){\n      if(seq[i]==seq[i-1]){\n        if(leg!=-1){\n          leg = 1-leg;\n        }\n      }else if(seq[i]-seq[i-1]>0){ //to right\n        if(leg==1){\n          count++;\n        }else if(leg==0){\n          leg=1;\n        }else{\n          leg=1;\n        }\n      }else{\n        if(leg==0){\n          count++;\n        }else if(leg==1){\n          leg = 0;\n        }else{\n          leg = 0;\n        }\n      }\n    }\n    cout << count << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstring>\nusing namespace std;\n\nbool correct(int next_foot, int pos, int turn){\n  if(turn == 1){\n    return next_foot <= pos;\n  }else{\n    return next_foot >= pos;\n  }\n    \n}\n\nint main(int argc, char *argv[]){\n  string s;\n\n  while(cin >> s){\n    if(s == \"#\")break;\n    int next_foot[2];//left, right\n    bool turn = 0;// 0 is left, 1 is right\n    int violate = 0;\n    int Min = 1e8;\n    //left start\n    for (int t = 0; t < 2; t++) {\n      next_foot[0] = 4;\n      next_foot[1] = 4;\n      turn = t;\n      violate = 0;\n      for (int i = 0; i < s.length(); i++) {\n        //correct left foot motion\n        char tmp = s[i];\n        int next = atoi(&tmp) - 1;\n        if(!correct(next_foot[(turn + 1)&1]%3, next%3, turn)){\n          violate++;\n          turn = !turn;\n        }\n        //std::cout << violate << std::endl;\n        next_foot[turn&1] = next;\n        //std::cout << \"left:\" << next_foot[0] << std::endl;\n        turn = !turn;\n      }\n      Min = min(Min, violate);\n    }\n    std::cout << Min << std::endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int dy[] = {0, -1, 0, 1, -1, 0, 1, -1, 0, 1};\n\nint Solve(const string& S, int idx, int left, int right, bool prev)\n{\n  if(S.length() == idx) {\n    return(0);\n  } else if(prev) {\n    if(dy[S[idx]] > dy[right]) return(Solve(S, idx + 1, left, S[idx], true) + 1);\n    else return(Solve(S, idx + 1, S[idx], right, false));\n  } else {\n    if(dy[S[idx]] < dy[left]) return(Solve(S, idx + 1, S[idx], right, false) + 1);\n    else return(Solve(S, idx + 1, left, S[idx], true));\n  }\n}\nint main()\n{\n  string S;\n  while(cin >> S, S != \"#\") {\n    for(char& c : S) c -= '0';\n    cout << min(Solve(S, 0, S[0], S[0], false), Solve(S, 0, S[0], S[0], true)) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\nusing namespace std;\nchar s[110000];\nint getcol(char s)\n{\n    if(s=='1'||s=='4'||s=='7') return 1;\n    if(s=='2'||s=='8') return 2;\n    return 3;\n}\nint main()\n{\n    while(scanf(\"%s\",s)==1)\n    {\n        int ans=0;\n        if(s[0]=='#') break;\n        int l=getcol(s[0]),r=getcol(s[1]);\n        int d=0;\n        if(l<r) d=1;\n        else d=-1;\n        for(int i=2;s[i];i++)\n        {\n            int k=getcol(s[i]);\n            if(d==1)\n            {\n                if(k<=r) {l=k;d=-1;}\n                else {ans++;r=k;}\n            }\n            else\n            {\n                if(k>=l) {r=k;d=1;}\n                else {ans++;l=k;}\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#define REP(i,n) for(ll i=0;i<n;++i)\n#define RREP(i,n) for(ll i=n-1;i>=0;--i)\n#define FOR(i,m,n) for(ll i=m;i<n;++i)\n#define RFOR(i,m,n) for(ll i=n-1;i>=m;--i)\n#define ALL(v) (v).begin(),(v).end()\n#define PB(a) push_back(a)\n#define UNIQUE(v) v.erase(unique(ALL(v)),v.end());\n#define DUMP(v) REP(i, (v).size()) { cout << v[i]; if (i != v.size() - 1)cout << \" \"; else cout << endl; }\n#define INF 1000000001ll\n#define MOD 1000000007ll\n#define EPS 1e-9\n\nconst int dx[8] = { 1,1,0,-1,-1,-1,0,1 };\nconst int dy[8] = { 0,1,1,1,0,-1,-1,-1 };\n\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vl;\ntypedef vector<vi> vvi;\ntypedef vector<vl> vvl;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\nll max(ll a, int b) { return max(a, ll(b)); }\nll max(int a, ll b) { return max(ll(a), b); }\nll min(ll a, int b) { return min(a, ll(b)); }\nll min(int a, ll b) { return min(ll(a), b); }\n///(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)(?´????????`)///\nint side(int c) {\n\tif (c % 3 == 1)return 1;\n\tif (c % 3 == 2)return 2;\n\tif (c % 3 == 0)return 3;\n}\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\twhile (1) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tif (s[0] == '#')break;\n\t\tint n = s.size();\n\t\tvvi dp(n, vi(2, INF));\n\t\tdp[n - 1][0] = 0;\n\t\tdp[n - 1][1] = 0;\n\t\tRREP(i, n - 1) {\n\t\t\tif (side(s[i] - '0') < side(s[i + 1] - '0')) {\n\t\t\t\tdp[i][0] = dp[i + 1][0] + 1;\n\t\t\t\tdp[i][1] = min(dp[i + 1][0], dp[i + 1][1]+1);\n\t\t\t}\n\t\t\telse if (side(s[i] - '0') > side(s[i + 1] - '0')) {\n\t\t\t\tdp[i][0] = min(dp[i + 1][0] + 1, dp[i + 1][1]);\n\t\t\t\tdp[i][1] = dp[i + 1][1] + 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdp[i][0] = min(dp[i + 1][0] + 1, dp[i + 1][1]);\n\t\t\t\tdp[i][1] = min(dp[i + 1][0], dp[i + 1][1] + 1);\n\t\t\t}\n\t\t}\n\n\t\tcout << min(dp[0][0], dp[0][1]) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//12\n#include<iostream>\n\nusing namespace std;\n\nint main(){\n  for(char s[100001];cin>>s,s[0]!='#';){\n    int v[2]={};\n    for(int i=0;i<2;i++){\n      int l[2]={-1,-1};\n      int p=i;\n      for(int j=0;s[j];j++){\n\tint n=(s[j]-'1')%3;\n\tif(l[p]!=-1&&(p==1&&l[1]<n||p==0&&l[0]>n)){\n\t  v[i]++;\n\t}else{\n\t  p=!p;\n\t}\n\tl[p]=n;\n      }\n    }\n    cout<<((v[0]<v[1])?v[0]:v[1])<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define repp(i, l, r) for(int i = (l); i < (r); i++)\n#define per(i, n) for(int i = ((n)-1); i >= 0; i--)\n#define perr(i, l, r) for(int i = ((r)-1); i >= (l); i--)\n#define all(x) (x).begin(),(x).end()\n#define MOD 1000000007\n#define IINF 1000000000\n#define LINF 1000000000000000000\n#define SP <<\" \"<<\n#define CYES cout<<\"Yes\"<<endl\n#define CNO cout<<\"No\"<<endl\n#define CFS cin.tie(0);ios::sync_with_stdio(false)\n\ntypedef long long LL;\ntypedef long double LD;\n\nint main(){\n  while(1){\n    string s;\n    cin >> s;\n    if(s==\"#\") return 0;\n    int n = s.length();\n    vector<int> pos={-1,0,1,-1,0,1,-1,0,1};\n    vector<int> x(n);\n    rep(i,n) x[i]=pos[s[i]-'1'];\n    int l=-2,r=2;\n    int ans=IINF;\n    int tmp=0;\n    l=x[0],r=2;\n    int t=1;\n    repp(i,1,n){\n      if(t%2){\n        if(l<=x[i]) r=x[i],t=1-t;\n        else l=x[i],tmp++;\n      }else{\n        if(r>=x[i]) l=x[i],t=1-t;\n        else r=x[i],tmp++;\n      }\n    }\n    ans=min(ans,tmp);\n    tmp=0;\n    l=-2,r=x[0];\n    t=1;\n    repp(i,1,n){\n      if(t%2){\n        if(r>=x[i]) l=x[i],t=1-t;\n        else r=x[i],tmp++;\n      }else{\n        if(l<=x[i]) r=x[i],t=1-t;\n        else l=x[i],tmp++;\n      }\n    }\n    ans=min(ans,tmp);\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(void){\n  char step[1000010];\n\n  while(1) {\n    cin >> step;\n    if(step[0] == '#') break;\n    int counter = 0;\n    int state = 6;\n\n    for(int i = 0; step[i] != '\\0'; i++){\n      if(state == 6){\n        if(step[i] == '7' || step[i] == '4' || step[i] == '1'){\n          state = 0;\n          continue;\n        }else if(step[i] == '9' || step[i] == '6' || step[i] == '3'){\n          state = 5;\n          continue;\n        }else{\n          continue;\n        }\n      }\n\n      if(state == 0){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 3;\n          continue;\n        }else{\n          state = 1;\n          continue;\n        }\n      }\n\n      if(state == 1){\n        if(step[i] == '4' || step[i] == '7'|| step[i] == '1'){\n          state = 0;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          counter++;\n          state = 3;\n          continue;\n        }else{\n          counter++;\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 2){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '2' || step[i] == '8'){\n          state = 3;\n          continue;\n        }else{\n          counter++;\n          state = 0;\n          continue;\n        }\n      }\n\n      if(state == 3){\n        if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          state = 0;\n          continue;\n        }else if(step[i] == '2' || step[i] == '8'){\n          state = 2;\n          continue;\n        }else{\n          counter++;\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 4){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          counter++;\n          state = 2;\n          continue;\n        }else{\n          counter++;\n          state = 0;\n          continue;\n        }\n      }\n\n      if(state == 5){\n        if(step[i] == '6' || step[i] == '3' || step[i] == '9'){\n          state = 4;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 2;\n          continue;\n        }else{\n          state = 0;\n          continue;\n        }\n      }\n    }\n\n    cout << counter << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nconst int INF = (1<<14);\nconst int MAX = 100001;\nconst int FOOT = 10;\nshort dp[MAX][FOOT][FOOT][2];\nstring s;\n\nint getColumn(int num){\n  int step[3][3] =\n    {{7,8,9},\n     {4,5,6},\n     {1,2,3}};\n\n  for(int i = 0; i < 3; i++)\n    for(int j = 0; j < 3; j++)\n      if(step[i][j] == num) return j;\n}\n\nvoid init(){\n  fill(dp[0][0][0],dp[0][0][0]+MAX*FOOT*FOOT*2,INF);\n  for(int i = 0; i < FOOT; i++)\n    for(int j = i; j < FOOT; j++) dp[0][i][j][0] = dp[0][i][j][1] = 0;\n}\n\nvoid solve(){\n\n  short ans = INF;\n\n  for(int i = 0; i < (int)s.length(); i++){\n    int pos = s[i]-'0';\n    \n    for(int l = 1; l < FOOT; l++){\n      if(l == 5) continue;\n      for(int r = 1; r < FOOT; r++){\n\tif(r == 5) continue;\n\tfor(int x = 0; x < 2; x++){\n\t  // x = 0 -> left 1 -> right\n\t  if(x){\n\t    //follow the rule(right foot)\n\t    if(getColumn(l) <= getColumn(pos)) dp[i+1][l][pos][1] = min(dp[i+1][l][pos][1],dp[i][l][r][0]);\n\t    //violate(left foot)\n\t    if(getColumn(r) >= getColumn(pos)) dp[i+1][pos][r][0] = min(dp[i+1][pos][r][0],(short)(dp[i][l][r][0]+1));\n\t  }else{\n\t    //follow the rule(left foot)\n\t    if(getColumn(r) >= getColumn(pos)) dp[i+1][pos][r][0] = min(dp[i+1][pos][r][0],dp[i][l][r][1]);\n\t    //violate(right foot)\n\t    if(getColumn(l) <= getColumn(pos)) dp[i+1][l][pos][1] = min(dp[i+1][l][pos][1],(short)(dp[i][l][r][1]+1));\n\t  }\n\t}\n      }\n    }\n    for(int i = 1; i < FOOT; i++)\n      for(int j = 1; j < FOOT; j++)\n\tans = min(ans,min(dp[s.length()][i][j][0],dp[s.length()][i][j][1]));\n  }\n  cout << ans << endl;\n}\n\nint main(){\n  while(cin >> s && s != \"#\"){\n    init();\n    solve();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n\n  long long int d[10] = { -1, 0, 1, 2, 0, 1, 2, 0, 1, 2 };\n\n  while( true ) {\n\n    string in;\n    cin >> in;\n    if ( in == \"#\" ) break;\n\n    if ( in.size() <= 2 ) {\n      cout << 0 << endl;\n      continue;\n    }\n\n    long long int ans[2];\n\n    for ( long long int s = 0; s < 2; s++ ) {\n\n      long long int p[2] = { 0, 0 };\n      long long int k;\n\n      if ( s == 0 ) {\n\tk = 0;\n      }else {\n\tk = 1;\n      }\n      ans[s] = 0;\n\n      for ( long long int i = 0; i < in.size(); i++ ) {\n\n\tlong long int kr = 1 - k;\n\tlong long int a = in[i] - '0';\n\tlong long int kp = k;\n\tif ( p[kr] != 0 && ( ( d[a] - d[p[kr]] ) * ( k - kr ) < 0 ) ) {\n\t  ans[s]++;\n\t  kp = 1 - kp;\n\t}\n\tp[kp] = a;\n\tk = 1 - kp;\n\n      }\n\n    }\n\n    cout << min( ans[0], ans[1] ) << endl;\n\n  }\n\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <tuple>\n#include <string>\n\nusing namespace std;\n\nconst int p[9] = {0, 1, 2, 0, -1, 2, 0, 1, 2};\n\nbool solve() {\n    string S;\n    cin >> S;\n    if (S == \"#\") return false;\n\n    int L = 0, R = 0;\n    // 直前が(L, R)だったときの最小コスト\n    int pre = p[S[0] - '1'];\n    for (int i = 1; i < S.size(); ++i) {\n        int nxt = p[S[i] - '1'];\n        if (nxt < pre) {\n            L = min(L + 1, R);\n            R = R + 1;\n        } else if (nxt > pre) {\n            R = min(L, R + 1);\n            L = L + 1;\n        } else {\n            tie(L, R) = make_pair(min(L + 1, R), min(L, R + 1));\n        }\n        pre = nxt;\n    }\n\n    cout << min(L, R) << endl;\n    return true;\n}\n\nint main() {\n    while (solve()) {}\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n\tEACH(x,vec) is >> x;\n\treturn is;\n}\n/*\ntemplate<class... T>\nostream& operator<<(ostream& os, tuple<T...>& t) {\n\tfor (size_t i = 0; i < tuple_size< tuple<T...> >::value; ++i) {\n\t\tif (i) os << \" \";\n\t\tos << get<0>(t);\n\t}\n\treturn os;\n}\n*/\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << \" \";\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << endl;\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\n\nint dp[2][9][9][2];\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tstring s;\n\tconst int X[] = {0, 1, 2, 0, -1, 2, 0, 1, 2};\n\twhile ( cin >> s, s != \"#\" ) {\n\t\tint N = s.size();\n\t\tvector<int> v(N);\n\t\tREP(i, N) v[i] = s[i]-'1';\n\t\tfill(dp[0][0][0], dp[1][8][9], inf);\n\t\tdp[0][4][4][0] = dp[0][4][4][1] = 0;\n\t\tREP(i, N) {\n\t\t\tfill(dp[i+1&1][0][0], dp[i+1&1][8][9], inf);\n\t\t\tREP(j, 9) REP(k, 9) REP(p, 2) {\n\t\t\t\tif (dp[i&1][j][k][p] == inf) continue;\n//\t\t\t\tcout << i << \" \" << j << \" \" << k << \" \" << p << \" \" << dp[i][j][k][p] << endl;\n\t\t\t\tREP(l, 2) {\n\t\t\t\t\tint nj = l == 0 ? j : v[i];\n\t\t\t\t\tint nk = l == 1 ? k : v[i];\n\t\t\t\t\tif (nj != 4 && nk != 4 && X[nj] > X[nk]) continue;\n\t\t\t\t\tif (i > 0 && (nj == 4 || nk == 4)) continue;\n\t\t\t\t\tint cost = p == l ? 1 : 0;\n//\t\t\t\t\tcout << nj << \" \" << nk << \" \" << l << endl;\n\t\t\t\t\tdp[i+1&1][nj][nk][l] = min(dp[i+1&1][nj][nk][l], dp[i&1][j][k][p]+cost);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = inf;\n\t\tREP(i, 9) REP(j, 9) REP(k, 2) {\n\t\t\tans = min(ans, dp[N&1][i][j][k]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \nstring s;\nint size;\n \nint getNum(int x){\n    if(x == 1 || x == 4 || x == 7){\n\treturn 0;\n    }\n    if(x == 2 || x == 8){\n\treturn 1;\n    }\n    return 2;\n}\n \nbool valid(int left,int right){\n    left = getNum(left);\n    right = getNum(right);\n    if(left > right){\n\treturn false;\n    }\n    return true;\n}\n \nint solve(int foot){\n    int left,right,cnt = 0;\n    if(foot == 0){\n\tleft = s[0]-'0';\n\tright = s[1]-'0';\n    }else{\n\tleft = s[1]-'0';\n\tright = s[0]-'0';\n    }\n    if(!valid(left,right)){\n\treturn INT_MAX;\n    }\n    for(int i = 2 ; i < size ; i++){\n\tint next = s[i]-'0';\n\tif(foot == 0){\n\t    if(valid(next,right)){\n\t\tleft = next;\n\t\tfoot = 1-foot;\n\t    }else{\n\t\tright = next;\n\t\tcnt++;\n\t    }\n\t}else{\n\t    if(valid(left,next)){\n\t\tright = next;\n\t\tfoot = 1-foot;\n\t    }else{\n\t\tleft = next;\n\t\tcnt++;\n\t    }\n\t}\n    }\n    return cnt;\n}\n \nint main(){\n    while(cin >> s, s != \"#\"){\n\tsize = s.size();\n\tif(size <= 2){\n\t    puts(\"0\");\n\t    continue;\n\t}\n\tcout << min(solve(0),solve(1)) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstring s;\n\nint x[] = {-1, 0, 1, 2, 0, -1, 2, 0, 1, 2};\n\nint solve(int i, int foot)\n{\n\tint px = x[s[i - 1] - '0'];\n\tint cx = x[s[i] - '0'];\n\tif (i == s.size()) return 0;\n\tif (foot == 0){\n\t\tif (px <= cx) return solve(i + 1, 1);\n\t\treturn 1 + solve(i + 1, 0);\n\t}\n\telse {\n\t\tif (cx <= px) return solve(i + 1, 0);\n\t\treturn 1 + solve(i + 1, 1);\n\t}\n}\n\nint main()\n{\n\twhile (cin >> s, s != \"#\"){\n\t\tcout << min(solve(1, 0), solve(1, 1)) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cassert>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\nusing namespace std;\n#define inf 0x7fffffff\n#define eps 1e-9\n#define ll long long\n#define ld long double\n#define pii pair<int,int>\n#define x first\n#define y second\n#define sf scanf\n#define pf printf\n#define vec vector\n#define pb push_back\n#define mp make_pair\n#define sz(a) int(a.size())\n#define all(a) a.begin(),a.end()\n#define bin_cnt(x) __builtin_popcount(x)\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define rrep(i,b,a) for(int i=b;i>=a;i--)\n#define irep(i,a) for(__typeof(a.begin()) i=a.begin();i!=a.end();i++)\n#pragma comment(linker, \"/STACK:32505856\")\n\ntemplate<class T> inline T sqr(T a) {return a*a;}\ntemplate<class T> inline void gmin(T&a,T b) {if(a>b)a=b;}\ntemplate<class T> inline void gmax(T&a,T b) {if(a<b)a=b;}\ninline int sign(const double &a) {return a>eps?1:(a<-eps?-1:0);}\nstruct Initializer{Initializer(){ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);}~Initializer(){}}initializer;\n\n#define N 100010\nchar s[N];\nint f[N][3][3][2];\nint pos[]={0,0,1,2,0,1,2,0,1,2};\n\nint main() {\n  while (~sf(\"%s\",s+1)) {\n    if (s[1]=='#') break;\n    int n=strlen(s+1);\n    memset(f,0x7f,sizeof(f));\n\n    rep(l,0,2)\n      rep(r,l,2) {\n        f[0][l][r][0]=\n        f[0][l][r][1]=0;\n      }\n\n    rep(i,0,n-1) {\n      memset(f[i+1],0x7f,sizeof(f));\n      rep(l,0,2)\n        rep(r,l,2) {\n          int p=pos[s[i+1]-'0'];\n          if (p<=r) {\n            gmin(f[i+1][p][r][0],f[i][l][r][0]+1);\n            gmin(f[i+1][p][r][0],f[i][l][r][1]);\n          }\n          if (l<=p) {\n            gmin(f[i+1][l][p][1],f[i][l][r][0]);\n            gmin(f[i+1][l][p][1],f[i][l][r][1]+1);\n          }\n        }\n    }\n\n    int ans=inf;\n    rep(l,0,2)\n      rep(r,l,2) {\n        gmin(ans,f[n][l][r][0]);\n        gmin(ans,f[n][l][r][1]);\n      }\n    pf(\"%d\\n\",ans);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define  _CRT_SECURE_NO_WARNINGS\n#pragma comment (linker, \"/STACK:526000000\")\n\n#include \"bits/stdc++.h\"\n\nusing namespace std;\ntypedef string::const_iterator State;\n#define eps 1e-11L\n#define MAX_MOD 1000000007LL\n#define GYAKU 500000004LL\n\n#define MOD 998244353LL\n#define seg_size 262144*2LL\n#define pb push_back\n#define mp make_pair\ntypedef long long ll;\n#define REP(a,b) for(long long (a) = 0;(a) < (b);++(a))\n#define ALL(x) (x).begin(),(x).end()\n\nunsigned long xor128() {\n\tstatic unsigned long x = 123456789, y = 362436069, z = 521288629, w = time(NULL);\n\tunsigned long t = (x ^ (x << 11));\n\tx = y; y = z; z = w;\n\treturn (w = (w ^ (w >> 19)) ^ (t ^ (t >> 8)));\n}\n\nvoid init() {\n\tiostream::sync_with_stdio(false);\n\tcout << fixed << setprecision(20);\n}\n\n#define int ll\nvoid solve(){\n\twhile (true) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tif (s == \"#\") return;\n\t\tif (s.length() == 1) {\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint cnt[10] = { 0,0,1,2,0,1,2,0,1,2 };\n\t\tint ans = 1000000;\n\t\tREP(teas, 2) {\n\t\t\tpair<int, int> now = mp(s[0] - '0', s[1] - '0');\n\t\t\tswap(s[0], s[1]);\n\t\t\tif (cnt[now.first] > cnt[now.second]) continue;\n\t\t\tint atcoder = teas;\n\t\t\tfor (int t = 2; t < s.length(); ++t) {\n\t\t\t\tif (atcoder % 2 == 0) {\n\t\t\t\t\tif (cnt[s[t] - '0'] <= cnt[now.second]) {\n\t\t\t\t\t\tnow.first = s[t] - '0';\n\t\t\t\t\t\tatcoder++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnow.second = s[t] - '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (cnt[now.first] <= cnt[s[t] - '0']) {\n\t\t\t\t\t\tnow.second = s[t] - '0';\n\t\t\t\t\t\tatcoder++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnow.first = s[t] - '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = min(ans, (long long)s.length() - 2LL - atcoder + teas);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}\n\n#undef int\nint main() {\n\tinit();\n\tsolve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\n#define INF 0x3f3f3f3f\nusing namespace std;\n\nint dp[2][9][9][2];\nchar s[200000];\nint main(){\n\twhile(1){\n\t\tscanf(\"%s\",s);\n\t\tif(s[0]=='#')break;\n\t\tint n=strlen(s);\n\t\trep(i,n){\n\t\t\ts[i]-='1';\n\t\t}\n\t\trep(i,9)rep(j,9)rep(k,2){\n\t\t\tif(j==4||k==4)dp[0][i][j][k]=INF;\n\t\t\telse dp[0][i][j][k]=0;\n\t\t}\n\t\trep(l,n){\n\t\t\tint i=l%2;\n\t\t\trep(j,9)rep(k,9)rep(t,2)dp[!i][j][k][t]=INF;\n\t\t\trep(j,9)rep(k,9)rep(t,2){\n\t\t\t\tif(s[l]%3<=k%3){\n\t\t\t\t\tdp[!i][s[l]][k][0]=min(dp[!i][s[l]][k][0],dp[i][j][k][t]+(t==0));\n\t\t\t\t}\n\t\t\t\tif(j%3<=s[l]%3){\n\t\t\t\t\tdp[!i][j][s[l]][1]=min(dp[!i][j][s[l]][1],dp[i][j][k][t]+(t==1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint Min=INF;\n\t\trep(i,9)rep(j,9)rep(k,2)Min=min(Min,dp[n%2][i][j][k]);\n\t\tprintf(\"%d\\n\",Min);\n\t}\n}\n//0,3,6\n//1,7\n//2,\n//1,2,0\n//1+2,2+2,0+2\n//0,1,2"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<algorithm>\n#include<set>\n#include<map>\n#include<queue>\n#include<complex>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cassert>\n\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define mp make_pair\n#define pb push_back\n#define each(i,c) for(__typeof((c).begin()) i=(c).begin();i!=(c).end();i++)\n#define dbg(x) cerr<<__LINE__<<\": \"<<#x<<\" = \"<<(x)<<endl\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int,int> pi;\nconst int inf = (int)1e9;\nconst double INF = 1e12, EPS = 1e-9;\n\nconst int x[] = {0, 1, 2, 0, 1, 2, 0, 1, 2};\nint n, dp[2][9][9][2];\nstring s;\n\nint main(){\n\twhile(cin >> s, s != \"#\"){\n\t\tn = s.size();\n\t\tint cur = 0, next = 1;\n\t\trep(i, 9) rep(j, 9) rep(k, 2) dp[0][i][j][k] = inf;\n\t\tdp[0][s[0] - '1'][4][0] = 0;\n\t\tdp[0][4][s[0] - '1'][1] = 0;\n\t\t\n\t\trep(it, n - 1){\n\t\t\trep(i, 9) rep(j, 9) rep(k, 2) dp[next][i][j][k] = inf;\n\t\t\trep(j, 9) rep(k, 9) rep(l, 2) if(dp[cur][j][k][l] < inf){\n\t\t\t\t\n\t\t\t\tint nl = s[it + 1] - '1', nr = k;\n\t\t\t\tif(nl == 4 || nr == 4 || x[nl] <= x[nr])\n\t\t\t\tdp[next][nl][nr][0] = min(dp[next][nl][nr][0], dp[cur][j][k][l] + (l == 0));\n\t\t\t\t\n\t\t\t\tnl = j; nr = s[it + 1] - '1';\n\t\t\t\tif(nl == 4 || nr == 4 || x[nl] <= x[nr])\n\t\t\t\tdp[next][nl][nr][1] = min(dp[next][nl][nr][1], dp[cur][j][k][l] + (l == 1));\n\t\t\t}\n\t\t\tswap(cur, next);\n\t\t}\n\t\tint ans = inf;\n\t\trep(i, 9) rep(j, 9) rep(k, 2) ans = min(ans, dp[cur][i][j][k]);\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\n#define LEFT 0\n#define RIGHT 1\n\nint main()\n{\n  string s;\n  int step,num,cnt;\n  while(cin>>s,s!=\"#\"){\n    for(int i=0;i<s.size();i++)s[i]-='1';\n    cnt=0;\n    step=LEFT;\n    for(int i=1;i<s.size();i++){\n      if( step==RIGHT && (s[i-1]%3 < s[i]%3) ){cnt++;step^=1;}\n      else if( step==LEFT && (s[i-1]%3 > s[i]%3) ){cnt++;step^=1;}\n      step^=1;\n    }\n    num=cnt;\n    cnt=0;\n    step=RIGHT;\n    for(int i=1;i<s.size();i++){\n      if( step==RIGHT && (s[i-1]%3 < s[i]%3) ){cnt++;step^=1;}\n      else if( step==LEFT && (s[i-1]%3 > s[i]%3) ){cnt++;step^=1;}\n      step^=1;\n    }\n    if(cnt<num)num=cnt;\n    cout<<num<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define INF 1001000100010001000\n#define MOD 1000000007\n#define EPS 1e-10\n#define int long long\n#define rep(i, N) for (int i = 0; i < N; i++)\n#define Rep(i, N) for (int i = 1; i < N; i++)\n#define For(i, a, b) for (int i = (a); i < (b); i++)\n#define pb push_back\n#define mp make_pair\n#define i_i pair<int, int>\n#define vi vector<int>\n#define vvi vector<vi >\n#define vb vector<bool>\n#define vvb vector<vb >\n#define vp vector< i_i >\n#define all(a) (a).begin(), (a).end()\n#define Int(x) int x; scanf(\"%lld\", &x);\n#define int2(x, y) int x, y; scanf(\"%lld %lld\", &x, &y);\n \n//int dxy[5] = {0, 1, 0, -1, 0};\n// assign\n \nbool cross(int a, int b);\n\nsigned main()\n{\n    string input;\n    while (cin >> input, input[0] != '#') {\n        int lc = 0, rc = 0, ll, lr, rl, rr;\n        rep(i, input.length()) {\n            if (!i) {\n                ll = input[0];\n                continue;\n            }\n            if ((i+lc) % 2) {\n                if (cross(ll - '0', input[i] - '0')) {\n                    lc++;\n                    ll = input[i];\n                } else {\n                    lr = input[i];\n                }\n            } else {\n                if (cross(input[i] - '0', lr - '0')) {\n                    lc++;\n                    lr = input[i];\n                } else {\n                    ll = input[i];\n                }\n            }\n        }\n        rep(i, input.length()) {\n            if (!i) {\n                rr = input[0];\n                continue;\n            }\n            if ((i+rc) % 2) {\n                if (cross(input[i] - '0', rr - '0')) {\n                    rc++;\n                    rr = input[i];\n                } else {\n                    rl = input[i];\n                }\n            } else {\n                if (cross(rl - '0', input[i] - '0')) {\n                    rc++;\n                    rl = input[i];\n                } else {\n                    rr = input[i];\n                }\n            }\n        }\n        cout << min(lc, rc) << endl;\n    }\n    return 0;\n}\n\nbool cross(int a, int b)\n{\n    if (!(a % 3)) {\n        if (b % 3) {\n            return true;\n        } else {\n            return false;\n        }\n    } else if ((a % 3) == 2) {\n        if (b % 3 == 1) {\n            return true;\n        } else {\n            return false;\n        }\n    } else {\n        return false;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while(true){\n        string s;\n        cin >> s;\n        if(s == \"#\") break;\n        int s_len = s.size(), n_violate = 0;\n        for(int i = 0; i < s_len - 2; ++i){\n            int s1 = (s[i]     - '0' + 2) % 3;\n            int s2 = (s[i + 1] - '0' + 2) % 3;\n            int s3 = (s[i + 2] - '0' + 2) % 3;\n            if(s1 <= s2 && s2 <= s3 && s1 < s3){\n                ++n_violate;\n                ++i;\n            }\n            if(s1 >= s2 && s2 >= s3 && s1 > s3){\n                ++n_violate;\n                ++i;\n            }\n        }\n        printf(\"%d\\n\", n_violate);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\nusing namespace std;\n\nint get_pos(char c) {\n    if(c == '1' || c == '4' || c == '7') {\n        return 0;\n    } else if(c == '2' || c == '8') {\n        return 1;\n    } else {\n        return 2;\n    }\n}\n\nint main() {\n    string s;\n    while(cin >> s, s != \"#\") {\n        vector<vector<int>> dp(2, vector<int>(s.size()+1, 1e9)); // 0:left, 1:right\n        vector<vector<int>> pos(2, vector<int>(s.size()+1, 0)); // 0:1 4 7, 1:2 8, 2:3 6 9\n        for(int i=0; i<s.size(); ++i) {\n            if(i == 0) {\n                dp[1][0] = dp[0][0] = 0;\n                pos[1][0] = pos[0][0] = get_pos(s[i]);\n            } else {\n                int next_pos = get_pos(s[i]);\n                // next step left\n                if(pos[1][i-1] >= next_pos) {\n                    dp[0][i] = dp[1][i-1];\n                    pos[0][i] = next_pos;\n                } else {\n                    dp[0][i] = dp[0][i-1] + 1;\n                    pos[0][i] = next_pos;\n                }\n                // right\n                if(pos[0][i-1] <= next_pos) {\n                    dp[1][i] = dp[0][i-1];\n                    pos[1][i] = next_pos;\n                } else {\n                    dp[1][i] = dp[1][i-1]+1;\n                    pos[1][i] = next_pos;\n                }\n            }\n        }\n        cout << min(dp[0][s.size()-1], dp[1][s.size()-1]) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<iomanip>\n#include<cmath>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\n#define int long long\n#define endl \"\\n\"\n\nconst long long INF = (long long)1e18;\nconst long long MOD = (long long)1e9 + 7; \n\nstring yn(bool f){return f?\"Yes\":\"No\";}\nstring YN(bool f){return f?\"YES\":\"NO\";}\n\n\nint solve(string &num){\n\tif(num.size() <= 1) return 0;\n\t\n\tvector<vector<int>> dp(num.size()+1,vector<int>(2,INF));\n\t\n\tif((num[0] - '1')%3 <= (num[1] - '1')%3)dp[1][1] = 0;\n\tif((num[0] - '1')%3 >= (num[1] - '1')%3)dp[1][0] = 0;\n\t\n\tfor(int i = 2; i < num.size(); i++){\n\t\tif((num[i] - '1')%3 >= (num[i-1] - '1')%3) dp[i][1] = min(dp[i-1][0],dp[i-1][1] + 1);\n\t\tif((num[i] - '1')%3 <= (num[i-1] - '1')%3) dp[i][0] = min(dp[i-1][1],dp[i-1][0] + 1);\n\t}\n\t\n\treturn min(dp[num.size()-1][0],dp[num.size()-1][1]);\n}\n\nsigned main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tcout<<fixed<<setprecision(10);\n\t\n\twhile(true){\n\t\tstring num;\n\t\t\n\t\tcin>>num;\n\t\t\n\t\tif(num == \"#\") break;\n\t\t\n\t\tcout<<solve(num)<<endl;;\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#define INF (1<<21)\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0;\n    int dp[2][4] = {{0,0,INF,INF},{0,0,INF,0}};\n\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      int a = str[i-1] - '0' - 1;\n      int b = a;\n      bool f = false;\n      if(i > 1) b = str[i-2] - '0' - 1;\n\n      if(i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a]){\n\tdp[1][0] = dp[0][0] + 1;\n\tdp[1][3] = dp[0][3] + 1;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][1] = min(dp[0][1],dp[1][3]);\n\t  dp[1][2] = min(dp[0][2],dp[1][0]);\n\t  f = true;\n\t}\n      }\n      else{\n\tdp[1][0] = dp[0][0];\n\tdp[1][3] = dp[0][3];\n      }\n\n      if(i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a]){\n\tdp[1][1] = dp[0][1] + 1;\n\tdp[1][2] = dp[0][2] + 1;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][0] = min(dp[0][0],dp[1][2]);\n\t  dp[1][3] = min(dp[0][3],dp[1][1]);\n\t}\n      }\n      else if(!f){\n\tdp[1][1] = dp[0][1];\n\tdp[1][2] = dp[0][2];\n      }\n\n      ans = INF;\n      for(int j=0;j<4;j++){\n\tdp[0][j] = dp[1][j];\n\tans = min(ans,dp[0][j]);\n      }\n    }\n    \n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\n  int i,j,k;\n  string que;\n  cin >> que;\n  while(que[0]!='#'){\n    \n    int v1=0,v2=0;\n    int bv1,bv2;\n    int br1,br2;\n    int bl1,bl2;\n    int r1=0,l1=0,r2=0,l2=0;\n    int b;\n    int a1=0,a2=0;\n    for(i=0;i<que.size();i++){\n      b=que[i]-'0';\n      bv1=v1;bv2=v2;\n      br1=r1;bl2=l2;\n      \n      if((i+a1)%2==0) {\n\tr1=b;\n\tif(r1==1||r1==4||r1==7){\n\t  if(l1==2||l1==3||l1==6||l1==8||l1==9) {\n\t    v1++;\n\t    r1=br1;\n\t    l1=b;\n\t    a1++;\n\t  }\n\t}else if(r1==2||r1==8){\n\t  if(l1==3||l1==6||l1==9) {\n\t    v1++;\n\t    r1=br1;\n\t    l1=b;\n\t    a1++;\n\t  }\n\t}\t\n      }else{\n\tl1=b;\n\tif(l1==3||l1==6||l1==9){\n\t  if(r1==1||r1==2||r1==4||r1==7||r1==8) {\n\t    v1++;\n\t    l1=bl1;\n\t    r1=b;\n\t    a1++;\n\t  }\n\t}else if(l1==2||l1==8){\n\t  if(r1==1||r1==4||r1==7) {\n\t    v1++;\n\t    l1=bl1;\n\t    r1=b;\n\t    a1++;\n\t  }\n\t}\n\t\n\t\n      }\n      if((i+a2)%2==0) {\n\tl2=b;\n\tif(l2==3||l2==6||l2==9){\n\t  if(r2==1||r2==2||r2==4||r2==7||r2==8) {\n\t    v2++;\n\t    l2=bl2;\n\t    r2=b;\n\t    a2++;\n\t  }\n\t}else if(l2==2||l2==8){\n\t  if(r2==1||r2==4||r2==7) {\n\t    v2++;\n\t    l2=bl2;\n\t    r2=b;\n\t    a2++;\n\t  }\n\t}\n\t\n      }else{\n\tr2=b;\n\tif(r2==1||r2==4||r2==7){\n\t  if(l2==2||l2==3||l2==6||l2==8||l2==9) {\n\t    v2++;\n\t    r2=br2;\n\t    l2=b;\n\t    a2++;\n\t  }\n\t}else if(r2==2||r2==8){\n\t  if(l2==3||l2==6||l2==9){\n\t    v2++;\n\t    r2=br2;\n\t    l2=b;\n\t    a2++;\n\t  }\n\t}\n      }\n      \n      \n      \n      \n      //if(bv1<v1) cout << \"v1 \" << br1 << bl1 << r1 << \" \" << l1 << endl;\n      //if(bv2<v2) cout << \"v2\" << r2 << \" \" << l2 << endl;\n    }\n    //cout << v1 << v2 << endl;\n    cout << min(v1,v2) << endl;\n    cin >> que;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-8;\n\n//dp[prev,now][left_state][right_state][prev_foot_side]\nint prev[10][10][2];\nint next[10][10][2];\n\nconst int gHorizonalPos[] = {\n  -1//none\n  ,0//1->0\n  ,1//2->1\n  ,2//3->2\n  ,0//4->0\n  ,-1//5->-1(none)\n  ,2//6->2\n  ,0//7->0\n  ,1//8->1\n  ,2//9->2\n};\n\nint CalcCost(int prev_left_state,int prev_right_state,int next_step_state,\n\t     int next_foot_side,int prev_foot_side){\n  if(prev_foot_side == next_foot_side) return 1;\n\n  int LHpos = gHorizonalPos[prev_left_state];\n  int RHpos = gHorizonalPos[prev_right_state];\n  int NHpos = gHorizonalPos[next_step_state];\n\n  //next_foot_side := 0(left)\n  if(next_foot_side == 0){\n    if(RHpos == -1) return 0;\n    return RHpos < NHpos ? 1 : 0;\n  }\n  //next_foot_side := 1(right)\n  else if(next_foot_side == 1){\n    if(LHpos == -1) return 0;\n    return NHpos < LHpos ? 1 : 0;\n  }\n}\n\nint ComputeLeastCost(){\n  int res = INF;\n  for(int left_state=0;left_state<10;left_state++){\n    if(left_state == 5) continue;\n    for(int right_state=0;right_state<10;right_state++){\n    if(right_state == 5) continue;\n      for(int foot_side=0;foot_side<2;foot_side++){\n\tres = min(res,prev[left_state][right_state][foot_side]);\n      }\n    }\n  }\n  return res;\n}\n\nvoid debug(int next_step_pos,int turn){\n  printf(\"turn:%d target:%d\\n\",turn,next_step_pos);\n  for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n    if(prev_left_state == 5) continue;\n    for(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n      if(prev_right_state == 5) continue;\n      for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\tprintf(\"calc_cost %d ,\",CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,1));\n\tprintf(\"turn %d, left_state %d,right_state %d,foot_side %d,val %d\\n\",\n\t       turn,\n\t       prev_left_state,\n\t       prev_right_state,\n\t       next_foot_side,\n\t       next[prev_left_state][prev_right_state][next_foot_side]);\n      }\n    }\n  }\n\n  printf(\"\\n\");\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str.size() == 1 && str[0] == '#') break;\n\n    memset(prev,0x3f,sizeof(prev));\n    memset(next,0x3f,sizeof(next));\n    prev[0][0][0] = 0;\n    prev[0][0][1] = 0;\n    for(int turn=0;turn < str.size(); turn++){\n      int next_step_pos = str[turn]-'0';\n      for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n\tif(prev_left_state == 5) continue;\n\tfor(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n\t  if(prev_right_state == 5) continue;\n\t  for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\t    for(int prev_foot_side = 0;prev_foot_side<2;prev_foot_side++){\n\t      //dp[prev,now][left_state][right_state][prev_foot_side]\n\t      if(next_foot_side == prev_foot_side) continue;\n\n\t      int cost = CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,prev_foot_side);\n\n\t      if(next_foot_side == 0){\n\t\tnext[next_step_pos][prev_right_state][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t  +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t   next[next_step_pos][prev_right_state][next_foot_side]);\n\t      }\n\n\t      else{\n\t\tnext[prev_left_state][next_step_pos][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t  next[prev_left_state][next_step_pos][next_foot_side]);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n\n      for(int i=0;i<10;i++){\n\tfor(int j=0;j<10;j++){\n\t  for(int k=0;k<2;k++){\n\t    prev[i][j][k] = next[i][j][k];\n\t  }\n\t}\n      }\n      memset(next,0x3f,sizeof(next));\n      // debug(next_step_pos,turn);\n    }\n    printf(\"%d\\n\",ComputeLeastCost());\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include<iostream>\n\nusing namespace std;\n\nbool isCross(int l,int r){\n\tif(l==1 || l==4 || l==7)\treturn false;\n\tif(l==2 || l==8)\treturn (r==1 || r==4 || r==7);\n\treturn !(r==3 || r==6 || r==9);\n}\n\nconst int INF=1<<30;\n\nint main(){\n\tfor(string s;cin>>s,s!=\"#\";){\n\t\tint len=s.length();\n\t\tfor(int i=0;i<len;i++)\ts[i]-='0';\n\n\t\t/* solution by Greedy Algorithm */\n/*\t\tint lcnt=0;\t\t\t// number of violations (use left foot in first step)\n\t\tbool lflg=false;\t// whether should use left foot in next step\n\t\tfor(int i=1;i<len;i++){\n\t\t\tif(lflg){\n\t\t\t\tif(isCross(s[i],s[i-1]))\tlcnt++;\n\t\t\t\telse\tlflg=!lflg;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(isCross(s[i-1],s[i]))\tlcnt++;\n\t\t\t\telse\tlflg=!lflg;\n\t\t\t}\n\t\t}\n\n\t\tint rcnt=0;\t\t\t// number of violations (use right foot in first step)\n\t\tbool rflg=false;\t// whether should use right foot in next step\n\t\tfor(int i=1;i<len;i++){\n\t\t\tif(rflg){\n\t\t\t\tif(isCross(s[i-1],s[i]))\trcnt++;\n\t\t\t\telse\trflg=!rflg;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(isCross(s[i],s[i-1]))\trcnt++;\n\t\t\t\telse\trflg=!rflg;\n\t\t\t}\n\t\t}\n\n\t\tcout<<min(lcnt,rcnt)<<endl;\n*/\n\t\t/* solution by DP */\n\t\tstatic int memo[100001][10][10][2];\n\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++){\n\t\t\tmemo[0][l][r][b]=(l==5 || r==5 || l==r)?INF:0;\n\t\t}\n\t\tfor(int i=0;i<len;i++){\n\t\t\tint a=s[i];\n\t\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++){\n\t\t\t\tmemo[i+1][l][r][b]=INF;\n\t\t\t\tif(l==5 || r==5 || l==r || (l!=a && r!=a) || isCross(l,r))\tcontinue;\n\t\t\t\telse{\n\t\t\t\t\tif(l==a){\n\t\t\t\t\t\tfor(int bef=1;bef<10;bef++){\n\t\t\t\t\t\t\tif(bef!=5 && !isCross(bef,r)){\n\t\t\t\t\t\t\t\tmemo[i+1][a][r][0]=min(memo[i+1][a][r][0],memo[i][bef][r][0]+1);\n\t\t\t\t\t\t\t\tmemo[i+1][a][r][0]=min(memo[i+1][a][r][0],memo[i][bef][r][1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\t// r==a\n\t\t\t\t\t\tfor(int bef=1;bef<10;bef++){\n\t\t\t\t\t\t\tif(bef!=5 && !isCross(l,bef)){\n\t\t\t\t\t\t\t\tmemo[i+1][l][a][1]=min(memo[i+1][l][a][1],memo[i][l][bef][0]);\n\t\t\t\t\t\t\t\tmemo[i+1][l][a][1]=min(memo[i+1][l][a][1],memo[i][l][bef][1]+1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(r!=a)puts(\"exception\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint ans=INF;\n\t\tfor(int l=1;l<10;l++)for(int r=1;r<10;r++)for(int b=0;b<2;b++)\tans=min(ans,memo[len][l][r][b]);\n\t\tcout<<ans<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <ctype.h>\n#include <string> \n#include <cstring>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <cstdlib>\n#include <map>\n#include <queue>\n#include <utility>\n#include <vector>\n#include <set>\n#include <iomanip>\n#include <stack>\n  \nusing namespace std;\n\n#define pi 3.141592653589793\n\nvoid solve(string s)\n{\n\tint stepnum[100001][2];\n\t// stepnum[i][0] :  (0から数えて)iばんめの数字の移動のときに左足を使った\n\t// stepnum[i][1] :            　　　　　　　       　　　右足を使った\n\tfor(int i = 0; i < s.length(); i++){\n\t\tfor(int j = 0; j < 2; j++){\n\t\t\tstepnum[i][j] = 0;\n\t\t}\n\t}\n\tint s1 = (s[0] - '0') % 3, s2;\n\tfor(int i = 1; i < s.length(); i++){\n\t\ts2 = (s[i] - '0') % 3;\n\t\tif((s1 == 0 && s2 == 1) || (s1 == 0 && s2 == 2) || (s1 == 2 && s2 == 1)){\n\t\t// 右左、右右、左左はok\n\t\tstepnum[i][0] = min(stepnum[i - 1][1], stepnum[i - 1][0] + 1);\n\t\tstepnum[i][1] = stepnum[i - 1][1] + 1;\n\t\t} else if((s1 == 1 && s2 == 0) || (s1 == 1 && s2 == 2) || (s1 == 2 && s2 == 0)){\n\t\t\t// 左右、左左、右右はok\n\t\t\tstepnum[i][0] = stepnum[i - 1][0] + 1;\n\t\t\tstepnum[i][1] = min(stepnum[i - 1][0], stepnum[i - 1][1] + 1);\n\t\t} else {\n\t\t\t// どの足でもok\n\t\t\tstepnum[i][0] = min(stepnum[i - 1][0] + 1, stepnum[i - 1][1]);\n\t\t\tstepnum[i][1] = min(stepnum[i - 1][1] + 1, stepnum[i - 1][0]);\n\t\t}\n\t\ts1 = s2;\n\t}\n\tcout << min(stepnum[s.length() - 1][0], stepnum[s.length() - 1][1]) << endl;\n}\n\nint main()\n{\n\tstring s;\n\twhile(1){\n\t\tcin >> s;\n\t\tif(s == \"#\") break;\n\t\tsolve(s);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \n#define loop(n, i) for(int i=0;i<n;i++)\n#define all(v) v.begin(),v.end()\n#define HERE cout << \"HERE: \" << __LINE__ << endl;\n#define INSP(v) cout << v << \" at \" << __LINE__ << endl;\n\nusing namespace std;\ntypedef long long ll;\n\nint main()\n{\n    while (1) {\n        string S; cin >> S;\n        if (S == \"#\") break;\n\n        int ans = 1<<19;\n        loop (2, i) {\n            int p[2] = { 1, 3 };\n            int l = i, cnt = 0;\n            for (char c : S) {\n                int v = (c - '1') % 3 + 1;\n                int f = (l * 2) - 1;\n                if (f * (v - p[l^1]) >= 0) {\n                    p[l] = v;\n                    l ^= 1;\n                } else {\n                    p[l^1] = v;\n                    cnt++;\n                }\n            }\n            ans = min(ans, cnt);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <string>\nusing namespace std;\n/*\nstruct State {\n  int step, foot[2], before, cost;\n  const static int px[10];\n  State() {}\n  State(int step,int left, int right, int before, int cost)\n    : step(step), before(before), cost(cost) {\n    foot[0] = left;\n    foot[1] = right;\n  }\n  bool operator < (const State &s) const {\n    return cost > s.cost;\n  }\n*/\nconst int px[10] = {0,-1,0,1,-1,0,1,-1,0,1};\nbool isValid(int foot[2]) {\n  return px[foot[1]] - px[foot[0]] >= 0;\n}\n/*\n};\n\n*/\nconst int INF = 1<<24;\nstring line;\n\n/*\nint solve(string line) {\n  if(line.size() <= 2) return 0;\n  priority_queue<State> que;\n  State s;\n  s = State(2,line[0]-'0',line[1]-'0',1,0);\n  if(s.isValid()) que.push(s);\n  s = State(2,line[1]-'0',line[0]-'0',0,0);\n  if(s.isValid()) que.push(s);\n  \n  while(!que.empty()) {\n    if(que.top().step == line.size()) return que.top().cost;\n\n    s = que.top();\n    s.foot[1-s.before] = line[s.step++] - '0';\n    s.before = 1-s.before;\n    if(s.isValid()) que.push(s);\n\n    s = que.top();\n    s.foot[s.before] = line[s.step++] - '0';\n    ++s.cost;\n    if(s.isValid()) que.push(s);\n\n    que.pop();\n  }\n}\n*/\nint T[100001][2][2][10];\n\nint solve() {\n  fill(T[0][0][0], T[100001][0][0], INF);\n  for(int i = 0; i < 2; ++i) {\n    for(int j = 0; j < 10; ++j) {\n      T[0][i][0][j] = 0;\n    }\n  }\n  int foot[2];\n  foot[0] = line[0] - '0';\n  foot[1] = line[1] - '0';\n  T[1][0][0][foot[0]] = 0;\n  if(isValid(foot)) T[2][1][0][foot[1]] = 0;\n  foot[1] = line[0] - '0';\n  foot[0] = line[1] - '0';\n  T[1][1][0][foot[1]] = 0;\n  if(isValid(foot)) T[2][0][0][foot[0]] = 0;\n\n  for(int i = 3; i <= line.size(); ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int k = 0; k < 2; ++k) {\n\tfor(int l = 1; l <= 9; ++l) {\n\t  if(l == 5) continue;\n\t  foot[j] = line[i-1] - '0';\n\t  if(k == 0) {\n\t    foot[1-j] = line[i-2] - '0';\n\t    if(isValid(foot)) {\n\t      T[i][j][k][foot[1-j]] = min(T[i][j][k][foot[1-j]], T[i-1][1-j][0][l]);\n\t      T[i][j][k][foot[1-j]] = min(T[i][j][k][foot[1-j]], T[i-1][1-j][1][l]);\n\t    }\n\t  } else {\n\t    foot[1-j] = l;\n\t    if(isValid(foot)) {\n\t      T[i][j][k][l] = min(T[i][j][k][l], T[i-1][j][0][l]+1);\n\t    }\n\t  }\n\t}\n      }\n    }\n  }\n  int res = INF;\n  for(int i = 0; i < 2; ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int l = 1; l <= 9; ++l) {\n\tif(l == 5) continue;\n\tres = min(res, T[line.size()][i][j][l]);\n      }\n    }\n  }\n  return res;\n}\n\nint main() {\n  while(getline(cin, line) && line != \"#\") {\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n#define L first\n#define R second\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint S[] = {-1, 0, 1, 2, 0, -1, 2, 0, 1, 2};\n\nint main(void){\n    int res;\n    for(string steps; cin >> steps, steps != \"#\"; cout << res << endl){\n        res = inf;\n        pii foot = mp(1, 1);\n     \n        rep(z, 2){\n            int cnt = 0;\n            bool isR = !z;\n\n            rep(i, steps.size()){\n                int next = S[steps[i] - '0'];\n                if(isR){\n                    if(foot.L <= next){\n                        foot.R = next;\n                    }\n                    else{\n                        foot.R = foot.L;\n                        foot.L = next;\n                        cnt++;\n                        isR = !isR;\n                    }\n                }\n                else{\n                    if(next <= foot.R){\n                        foot.L = next;\n                    }\n                    else{\n                        foot.L = foot.R;\n                        foot.R = next;\n                        cnt++;\n                        isR = !isR;\n                    }\n                }\n                isR = !isR;\n            }\n            res = min(res, cnt);\n        }\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1<<29)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nstring S;\nmap<char, int>m;\n\nint main(){\n  m['1']=0;m['7']=0;m['4']=0;m['8']=1;m['2']=1;m['9']=2;m['6']=2;m['3']=2;\n  while(cin >> S && S != \"#\"){\n    int res = INF;\n    rep(s,2){\n      int cnt=0;\n      int f[2]={-1,3}; //0:left 1:right\n      int leg=s;\n      // left\n      rep(i,S.size()){\n\tint pos = m[S[i]];\n\tif(leg){\n\t  if(f[leg^1] <= pos){\n\t    f[leg] = pos;\n\t    leg ^= 1;\n\t  }else{\n\t    cnt++;\n\t  }\n\t}else{\n\t  if(pos <= f[leg^1]){\n\t    f[leg] = pos;\n\t    leg ^= 1;\n\t  }else{\n\t    cnt++;\n\t  }\n\t}\n      }\n\n      res = min(res, cnt);\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n    int dp[2][2][9][9]; //turn,last_l/r,left,right \n    string S;\n    while(cin>>S,S!=\"#\"){\n        for(int lr=0;lr<2;lr++){\n            for(int l=0;l<9;l++){\n                for(int r=0;r<9;r++){\n                    dp[0][lr][l][r]=((l==r||l%3>r%3)?100000000:0);\n                }\n            }\n        }\n        for(int s=1;s<=S.size();s++){\n            //?????????\n            for(int lr=0;lr<2;lr++){\n                for(int l=0;l<9;l++){\n                    for(int r=0;r<9;r++){\n                        dp[s&1][lr][l][r]=100000000;\n                    }\n                }\n            }\n            int place = S[s-1]-'1';\n            //????¶???§????????´???\n            for(int r=0;r<9;r++){\n                if(place%3>r%3||r==place) continue;\n                for(int pre_l=0;pre_l<9;pre_l++){\n                    dp[s&1][0][place][r]=min({dp[s&1][0][place][r],dp[s&1^1][1][pre_l][r],1+dp[s&1^1][0][pre_l][r]});\n                }\n            }\n\n            //????¶???§????????´???\n            for(int l=0;l<9;l++){\n                if(l%3>place%3||l==place) continue;\n                for(int pre_r=0;pre_r<9;pre_r++){\n                    dp[s&1][1][l][place]=min({dp[s&1][1][l][place],dp[s&1^1][0][l][pre_r],1+dp[s&1^1][1][l][pre_r]});\n                }\n            }\n        }\n        int ans = 100000000;\n        for(int lr=0;lr<2;lr++){\n            for(int l=0;l<9;l++){\n                for(int r=0;r<9;r++){\n                    ans = min(ans, dp[S.size()&1][lr][l][r]);\n                }\n            }\n        }\n        cout<<ans<<endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// テ・ツ淞コテヲツ慊ャテ」ツδ?」ツδウテ」ツδ療」ツδャテ」ツδシテ」ツδ?\n\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <fstream>\n#include <functional>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define int long long int\n\ntemplate<typename T> void chmax(T &a, T b) {a = max(a, b);}\ntemplate<typename T> void chmin(T &a, T b) {a = min(a, b);}\ntemplate<typename T> void chadd(T &a, T b) {a = a + b;}\n\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\nint dx[] = {0, 0, 1, -1};\nint dy[] = {1, -1, 0, 0};\nconstexpr ll INF = 1001001001001001LL;\nconstexpr ll MOD = 1000000007LL;\n\nsigned main() {\n    string s;\n    while(cin >> s) {\n        if(s == \"#\") break;\n        string pat = \"147208369\";\n\n        int ans = INF;\n        rep(p,0,2) {\n            int cnt = 0, prev = -1;\n            rep(j,0,s.length()) {\n                int i = cnt + j;\n                int x = pat.find(s[j]);\n                x /= 3;\n                if(prev >= 0) {\n                    if(p == 0) {\n                        if(i%2==1 && prev > x) cnt++;\n                        if(i%2==0 && prev < x) cnt++;\n                    }\n                    else {\n                        if(i%2==1 && prev < x) cnt++;\n                        if(i%2==0 && prev > x) cnt++;\n                    }\n                }\n                prev = x;\n            }\n            // printf(\"cnt = %lld\\n\", cnt);\n            chmin(ans, cnt);\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<climits>\n#include<iostream>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#define MAXS (9 * 9 * 2)\ntypedef long long ll;\ntypedef unsigned long long ull;\nusing namespace std;\n#define pb push_back\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\nint rl[]={0, 1, 2, 0, 1, 2, 0, 1, 2};\nint dp[100001][MAXS];\nchar s[200000];\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n#define INF 1000000000\n\nint soeji(int a,int b,int c){\n    return a * 9 * 2 + b * 2 + c;\n}\n\nint main(){\n    while(1){\n        scanf(\"%s\",s);\n        if(s[0] == '#')\n            break;\n\n        int n = strlen(s);\n        REP(i,n)\n            s[i] -= '1';\n\n        REP(i,MAXS)\n            dp[n][i] = 0;\n\n        RREP(i,n){\n            REP(a,9){\n                REP(b,9){\n                    REP(c,2){\n                        int a1 = a,b1 = b,a2 = a,b2 = b;\n                        if(c == 0){\n                            a1 = s[i];\n                            b2 = s[i];\n                        }else{\n                            b1 = s[i];\n                            a2 = s[i];\n                        }\n                        int x = rl[a1] >= rl[b1] ? dp[i + 1][soeji(a1,b2,c)] : INF - 1;\n                        int y = rl[a2] >= rl[b2] ? dp[i + 1][soeji(a2,b2,!c)] : INF;\n                        dp[i][soeji(a,b,c)] = min(x + 1,y);\n                    }\n                }\n            }\n        }\n        int mini = 1000000000;\n        REP(i,9 * 9 * 2){\n            if(dp[0][i] < mini)\n                mini = dp[0][i];\n        }\n        printf(\"%d\\n\",mini);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <numeric>\n#include <cassert>\nusing namespace std;\nstatic const double EPS = 1e-10;\ntypedef long long ll;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rev(i,n) for(int i=n-1;i>=0;i--)\n#define all(a) a.begin(),a.end()\n#define mp(a,b) make_pair(a,b)\n#define pb(a) push_back(a)\n#define SS stringstream\n#define DBG1(a) rep(_X,sz(a)){printf(\"%d \",a[_X]);}puts(\"\");\n#define DBG2(a) rep(_X,sz(a)){rep(_Y,sz(a[_X]))printf(\"%d \",a[_X][_Y]);puts(\"\");}\n#define bitcount(b) __builtin_popcount(b)\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n\n#define delete(a,n) a.erase(remove(all(a),n),a.end())\ntemplate<typename T, typename S> vector<T>& operator<<(vector<T>& a, S b) { a.push_back(b); return a; }\ntemplate<typename T> void operator>>(vector<T>& a, int b) {while(b--)if(!a.empty())a.pop_back();}\nbool isprime(int n){ if(n<2)return false;  for(int i=2;i*i<=n;i++)if(n%i==0)return false;  return true;} \nll b_pow(ll x,ll n){return n ? b_pow(x*x,n/2)*(n%2?x:1) : 1ll;}\nstring itos(int n){stringstream ss;ss << n;return ss.str();}\n\nint dp[101000][2];\n\n#define INF (1<<21)\n\nint x[] = {-10,-1,0,1,-1,0,1,-1,0,1};\n\nint main(){\n\tstring s;\n\twhile(cin >> s && s != \"#\"){\n\t\trep(i,101000)rep(j,2) dp[i][j] = 9999999;\n\t\tdp[0][0] = 0;\n\t\tdp[0][1] = 0;\n\t\tfor(int i = 0 ; i < s.size() ; i++) s[i] -= '0';\n\t\t//cout << x[1] << endl;\n\t\tfor(int i = 1 ; i < s.size() ; i++){\n\t\t\tfor(int j = 0 ; j < 2 ; j++){\n\t\t\t\tfor(int k = 0 ; k < 2 ; k++){\n\t\t\t\t\tif(j == k){\n\t\t\t\t\t\tdp[i][k] = min(dp[i][k],dp[i-1][j]+1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif( j == 0 && x[s[i-1]] > x[s[i]] ) continue;\n\t\t\t\t\t\tif( j == 1 && x[s[i-1]] < x[s[i]] ) continue;\n\t\t\t\t\t\tdp[i][k] = min(dp[i][k],dp[i-1][j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(dp[s.size()-1][0],dp[s.size()-1][1]) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define For(i, a, b) for(int (i)=(int)(a); (i)<(int)(b); ++(i))\n#define rFor(i, a, b) for(int (i)=(int)(a)-1; (i)>=(int)(b); --(i))\n#define rep(i, n) For((i), 0, (n))\n#define rrep(i, n) rFor((i), (n), 0)\n#define fi first\n#define se second\nusing namespace std;\ntypedef long long lint;\ntypedef unsigned long long ulint;\ntypedef pair<int, int> pii;\ntemplate<class T> bool chmax(T &a, const T &b){if(a<b){a=b; return true;} return false;}\ntemplate<class T> bool chmin(T &a, const T &b){if(a>b){a=b; return true;} return false;}\ntemplate<class T> T div_floor(T a, T b){\n    if(b < 0) a *= -1, b *= -1;\n    return a>=0 ? a/b : (a+1)/b-1;\n}\ntemplate<class T> T div_ceil(T a, T b){\n    if(b < 0) a *= -1, b *= -1;\n    return a>0 ? (a-1)/b+1 : a/b;\n}\n\nconstexpr lint mod = 1e9+7;\nconstexpr lint INF = mod * mod;\nconstexpr int MAX = 100010;\n\nint main(){\n    string s;\n    int dp[2][10][10][2];\n    while(cin >> s && s != \"#\"){\n        int n = s.size();\n        rep(i, 2)rep(j, 10)rep(k, 10)rep(l, 2) dp[i][j][k][l] = MAX;\n        dp[0][0][2][0] = dp[0][0][2][1] = 0;\n        rep(i, n){\n            rep(j, 10)rep(k, 10){\n                int t = s[i]-'1';\n                if(j%3 <= t%3){\n                    chmin(dp[1][j][t][1], dp[0][j][k][0]);\n                    chmin(dp[1][j][t][1], dp[0][j][k][1]+1);\n                }\n                if(t%3 <= k%3){\n                    chmin(dp[1][t][k][0], dp[0][j][k][1]);\n                    chmin(dp[1][t][k][0], dp[0][j][k][0]+1);\n                }\n            }\n\n            rep(j, 10)rep(k, 10)rep(l, 2){\n                dp[0][j][k][l] = dp[1][j][k][l];\n                dp[1][j][k][l] = MAX;\n            }\n        }\n\n        int ans = MAX;\n        rep(j, 10)rep(k, 10)rep(l, 2) chmin(ans, dp[0][j][k][l]);\n        printf(\"%d\\n\", ans);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <string>\nusing namespace std;\n\nbool isValid(int foot[2]) {\n  const static int px[10] = {0,-1,0,1,-1,0,1,-1,0,1};\n  return px[foot[1]] - px[foot[0]] >= 0;\n}\n\nconst int INF = 1<<24;\nstring line;\nint T[100001][2][2][10];\n\nint solve() {\n  if(line.size() <= 2) return 0;\n  fill(T[0][0][0], T[100001][0][0], INF);\n  int foot[2];\n  foot[0] = line[0] - '0';\n  foot[1] = line[1] - '0';\n  if(isValid(foot)) T[2][1][0][foot[0]] = 0;\n  foot[1] = line[0] - '0';\n  foot[0] = line[1] - '0';\n  if(isValid(foot)) T[2][0][0][foot[1]] = 0;\n\n  for(int i = 3; i <= line.size(); ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int k = 0; k < 2; ++k) {\n\tfor(int l = 1; l <= 9; ++l) {\n\t  if(l == 5) continue;\n\t  foot[j] = line[i-1] - '0';\n\t  if(k == 0) {\n\t    foot[1-j] = line[i-2] - '0';\n\t    if(isValid(foot)) {\n\t      T[i][j][k][foot[1-j]] = min(T[i][j][k][foot[1-j]], T[i-1][1-j][0][l]);\n\t      T[i][j][k][foot[1-j]] = min(T[i][j][k][foot[1-j]], T[i-1][1-j][1][l]);\n\t    }\n\t  } else {\n\t    foot[1-j] = l;\n\t    if(isValid(foot)) {\n\t      T[i][j][k][l] = min(T[i][j][k][l], T[i-1][j][0][l]+1);\n\t      T[i][j][k][l] = min(T[i][j][k][l], T[i-1][j][1][l]+1);\n\t    }\n\t  }\n\t}\n      }\n    }\n  }\n  int res = INF;\n  for(int i = 0; i < 2; ++i) {\n    for(int j = 0; j < 2; ++j) {\n      for(int l = 1; l <= 9; ++l) {\n\tif(l == 5) continue;\n\tres = min(res, T[line.size()][i][j][l]);\n      }\n    }\n  }\n  return res;\n}\n\nint main() {\n  while(getline(cin, line) && line != \"#\") {\n    cout << solve() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip\t;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1e8;\nint main(){\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\tint n=s.size();\n\t\trep(i,n){\n\t\t\tint t=s[i]-'0';\n\t\t\tt--;t%=3;\n\t\t\ts[i]=t+'0';\n\t\t}\n\t\tint out=inf;\n\t\trep(q,2){\n\t\t\tbool h=q;\n\t\t\tint co=0;\n\t\t\tloop(i,1,n){\n\t\t\t\tif(h&&s[i-1]<=s[i]||!h&&s[i-1]>=s[i])\n\t\t\t\t\th^=true;\n\t\t\t\telse{\n\t\t\t\t\tco++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tout=min(out,co);\n\t\t}\n\t\tcout<<out<<endl;\n\t}\n}\n \n "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<string>\nusing namespace std;\nint main(void){\nstring s;\nwhile(1){\n\tcin>>s;\n\tif(s==\"#\")break;\n\t//now -1 l 1 r\n\tint r=-1,l=-1,ans=0,now=0;\nfor(int i=0;i<s.size();i++){\n\tif(s[i]=='1'||s[i]=='4'||s[i]=='7'){\n\t\tif(now==0){\n\t\t\tif(l==0){\n\t\t\t\tr=0;\n\t\t\t//\tcout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\tl=0;\n\t\tif(r!=-1&&r!=0){\n\t\t\tnow=-1;\n\t\t}\n\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t}else if(l>0){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=0;\n\t\t\t}\n\t\t}\n\n\t\t}else if(s[i]=='2'||s[i]=='8'){\n\tif(now!=0){\n\t\tif(now==-1){\n\t\t\tif(l==2){\n\t\t\t\tl=1;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=1;\n\t\t\t}\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tif(r==0){\n\t\t\t\t\tr=1;\n\t\t\t\t\tans++;\n\t\t\t\t}else{\n\t\t\t\t\tnow=-1;\n\t\t\t\t\tl=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}else{\n\t\tif(l==0){\n\t\t\tr=1;\n\t\t\tnow=1;\n\t\t}else if(r==2){\n\t\t\tl=1;\n\t\t\tnow=-1;\n\t\t}else{\n\t\t\tr=1;\n\t\t\tl=1;\n\t\t}\n\t}\n\n\t\t}else{\n\t\t\tif(now==0){\n\t\t\t\tif(r==2){\n\t\t\t\t\tl=2;\n//cout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tr=2;\n\t\t\t\tif(l!=-1&&l!=2){\n\t\t\t\t\tnow=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(now==-1){\n\t\t\t\t\tnow=1;\n\t\t\t\t\tr=2;\n\t\t\t\t}else{\n\t\t\t\t\tif(r!=2){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tr=2;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tl=2;\n\t\t\t\t\t\tnow=-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n}\n//cout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n}\ncout<<ans<<endl;\n\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n\n// int dx[] = {-1,0,1,-1,0,1,-1,0,1};\n// int dy[] = {-1,-1,-1,0,0,0,1,1,1};\n// struct Pos{int x, y;};\n// Pos p[9];\n\nint N, ary[10000000];\nint solve() {\n    string str;\n    getline(cin, str);\n    if (str==\"#\") return -1;\n\n    N = str.length();\n    REP(i, N) {\n        ary[i] = (str[i]-'1')%3;\n    }\n    if (N==1) return 0;\n\n    int l = 1, r = 1;\n    int t = ary[0]<ary[1] ? 1:0;\n    int ans = 0;\n    REP(i, N) {\n        if (t%2==0) { // right foot\n            if (ary[i]<l) {\n                l = ary[i];\n                t++; ans++;\n            } else {\n                r = ary[i];\n            }\n        } else { // left foot\n            if (ary[i]>r) {\n                r = ary[i];\n                t++; ans++;\n            } else {\n                l = ary[i];\n            }\n        }\n        t++;\n    }\n    return ans;\n}\n\nint main() {\n    int ans;\n    while((ans = solve())>=0) {\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n\nconst int INF = 1<<25;\nint dx[] = {-1,0,1,-1,0,1,-1,0,1};\nint dy[] = {-1,-1,-1,0,0,0,1,1,1};\nstruct Pos{\n    int x, y;\n    Pos(int x=0, int y=0) {\n        this->x = x;\n        this->y = y;\n    }\n};\nPos p[9];\nint N;\nPos ary[10000000];\n\nint func(bool flg, Pos l, Pos r) {\n    int res = 0;\n    REP(i, N) {\n        if (flg) { // right foot\n            if (ary[i].x<l.x) {\n                l = ary[i];\n                flg = !flg;\n                res++;\n            } else {\n                if (r.x==ary[i].x && r.y==ary[i].y) flg != flg;\n                r = ary[i];\n            }\n        } else { // left foot\n            if (ary[i].x>r.x) {\n                r = ary[i];\n                flg = !flg;\n                res++;\n            } else {\n                if (l.x==ary[i].x && l.y==ary[i].y) flg != flg;\n                l = ary[i];\n            }\n        }\n        flg = !flg;\n    }\n    return res;\n}\n\nstring str;\nint solve() {\n    getline(cin, str);\n    if (str==\"#\") return -1;\n\n    N = str.length();\n    REP(i, N) {\n        ary[i] = p[str[i]-'1'];\n    }\n    int ans = INF;\n    REP(i, 9) REP(j, 9) {\n        ans = min(ans, min(func(false, p[i], p[j]), func(true, p[i], p[j])));\n    }\n    return ans;\n}\n\nint main() {\n    REP(i, 9) {\n        p[i] = Pos(dx[i], dy[i]);\n    }\n\n    int ans;\n    while((ans = solve())>=0) {\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <cassert>\nusing namespace std;\ninline int toInt(string s) {int v; istringstream sin(s); sin>>v; return v;}\ntemplate<class T> inline string toString(T x){ostringstream sout; sout<<x; return sout.str();}\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i, 0, n)\n#define EACH(t,i,c) for(t::iterator i=(c).begin(); i!=(c).end(); ++i)\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\n\nbool valid(bool on_left, int arrow, int l_pos, int r_pos)\n{\n\tif (on_left) {\n\t\tif ((l_pos-1) % 3 > (arrow-1) % 3) {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tif ((r_pos-1) % 3 < (arrow-1) % 3) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nint main(){\n\tbool on_left;\n\tint arrow, l_pos, r_pos, violation, ans;\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\t\n\t\t// Left foot start\n\t\ton_left = false;\n\t\tviolation = 0;\n\t\tl_pos = 4, r_pos = 6;\n\t\tFOR(i, 0, s.length()) {\n\t\t\tarrow = s[i] - '0';\n\t\t\tif (valid(on_left, arrow, l_pos, r_pos)) {\n\t\t\t\tif (on_left) r_pos = arrow;\n\t\t\t\telse l_pos = arrow;\n\t\t\t\ton_left = !on_left;\n\t\t\t} else {\n\t\t\t\t++violation;\n\t\t\t\tif (on_left) l_pos = arrow;\n\t\t\t\telse r_pos = arrow;\n\t\t\t}\n\t\t}\n\t\tans = violation;\n\n\t\t// Right foot start\n\t\ton_left = true;\n\t\tviolation = 0;\n\t\tl_pos = 4, r_pos = 6;\n\t\tFOR(i, 0, s.length()) {\n\t\t\tarrow = s[i] - '0';\n\t\t\tif (valid(on_left, arrow, l_pos, r_pos)) {\n\t\t\t\tif (on_left) r_pos = arrow;\n\t\t\t\telse l_pos = arrow;\n\t\t\t\ton_left = !on_left;\n\t\t\t} else {\n\t\t\t\t++violation;\n\t\t\t\tif (on_left) l_pos = arrow;\n\t\t\t\telse r_pos = arrow;\n\t\t\t}\n\t\t}\n\n\t\tans = min(ans, violation);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\n\nconst double eps = 1e-10;\nconst int MOD = 1000000007;\nconst int INF = 1000000000;\nconst ll LINF = 1ll<<50;\n\ntemplate<typename T>\nvoid printv(const vector<T>& s) {\n  for(int i=0;i<(int)(s.size());++i) {\n    cout << s[i];\n    if(i == (int)(s.size())-1) cout << endl;\n    else cout << \" \";\n  }\n}\n\nint check(pair<int, int> foot, bool init, const vector<int> &a, int n) {\n  //cout << \"check\" << endl;\n  bool next = init;\n  int res = 0;\n  for(int i=0;i<n-2;++i) {\n    if(next) {\n      if(a[i] < foot.first) {\n        //cout << i << endl;\n        res++;\n        foot.first = a[i];\n      } else {\n        foot.second = a[i];\n        next = !next;\n      }\n    } else {\n      if(foot.second < a[i]) {\n        //cout << i << endl;\n        res++;\n        foot.second = a[i];\n      } else {\n        foot.first = a[i];\n        next = !next;\n      }\n    }\n    \n  }\n  return res;\n}\n\nint main () {\n  cin.tie(0);\n  cout << fixed << setprecision(10);\n\n  vector<int> mp = {-2, -1, 0, 1, -1, 0, 1, -1, 0, 1};\n\n  while(1) {\n    string s; cin >> s;\n    int n = s.size();\n    if(s == \"#\") break;\n    vector<int> a(100000);\n    pair<int, int> foot;\n    bool init = 0;\n    for(int i=0;i<(int)(s.size());++i) {\n      int tmp = mp[(int)(s[i]-'0')];\n      // cout << tmp << endl;\n      if(i == 0) {\n        foot.first = tmp;\n      } else if(i == 1) {\n        foot.second = tmp;\n        if(foot.first < foot.second) {\n          init = 0;\n        } else {\n          init = 1;\n        }\n      } else {\n        a[i-2] = tmp;\n      }\n    }\n\n    if(foot.first > foot.second) {\n      swap(foot.first, foot.second);\n    }\n    \n    if(foot.first == foot.second) cout << min(check(foot, 0, a, n), check(foot, 1, a, n)) << endl;\n    else cout << check(foot, init, a, n) << endl;\n\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\n\nbool correct(int other, int next, int turn){\n  if(turn == 1){\n    return other > next;\n  }else{\n    return other < next;\n  }\n    \n}\n\nint main(int argc, char *argv[]){\n  string s;\n\n  while(cin >> s){\n    if(s == \"#\")break;\n    int foot[2];//left, right\n    bool turn = 0;// 0 is left, 1 is right\n    int violate = 0;\n    int Min = 1e8;\n    //left start\n    for (int t = 0; t < 2; t++) {\n      foot[0] = 0;\n      foot[1] = 2;\n      turn = t;\n      violate = 0;\n      for (int i = 0; i < s.length(); i++) {\n        //correct left foot motion\n        char tmp = s[i];\n        int next = atoi(&tmp) - 1;\n        if(correct(foot[(turn + 1)&1]%3, next%3, turn)){\n          violate++;\n          turn = !turn;\n        }\n        //std::cout << violate << std::endl;\n        foot[turn&1] = next;\n        //std::cout << \"left:\" << next_foot[0] << std::endl;\n        turn = !turn;\n      }\n      Min = min(Min, violate);\n    }\n    std::cout << Min << std::endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nstring s;\nint size;\n\nint getNum(int x){\n  if(x == 1 || x == 4 || x == 7){\n    return 0;\n  }\n  if(x == 2 || x == 8){\n    return 1;\n  }\n  return 2;\n}\n\nbool valid(int left,int right){\n  left = getNum(left);\n  right = getNum(right);\n  if(left > right){\n    return false;\n  }\n  return true;\n}\n\nint solve(int foot){\n  int left,right,cnt = 0;\n  if(foot == 0){\n    left = s[0]-'0';\n    right = s[1]-'0';\n  }else{\n    left = s[1]-'0';\n    right = s[0]-'0';\n  }\n  if(!valid(left,right)){\n    return INT_MAX;\n  }\n  for(int i = 2 ; i < size ; i++){\n    int next = s[i]-'0';\n    if(foot == 0){\n      if(valid(next,right)){\n        left = next;\n        foot = 1-foot;\n      }else{\n        right = next;\n        cnt++;\n      }\n    }else{\n      if(valid(left,next)){\n        right = next;\n        foot = 1-foot;\n      }else{\n        left = next;\n        cnt++;\n      }\n    }\n  }\n  return cnt;\n}\n\nint main(){\n  while(cin >> s, s != \"#\"){\n    size = s.size();\n    if(size <= 2){\n      puts(\"0\");\n      continue;\n    }\n    cout << min(solve(0),solve(1)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\tint n = s.size();\n\t\tvector<int> c(n), d(n - 1);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tswitch (s[i]) {\n\t\t\tcase '1':\n\t\t\tcase '4':\n\t\t\tcase '7':\n\t\t\t\tc[i] = 1;\n\t\t\t\tbreak;\n\t\t\tcase '2':\n\t\t\tcase '8':\n\t\t\t\tc[i] = 2;\n\t\t\t\tbreak;\n\t\t\tcase '3':\n\t\t\tcase '6':\n\t\t\tcase '9':\n\t\t\t\tc[i] = 3;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tif (c[i + 1] - c[i] > 0) {\n\t\t\t\td[i] = 1;\n\t\t\t}\n\t\t\telse if (c[i + 1] == c[i]) {\n\t\t\t\td[i] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\td[i] = -1;\n\t\t\t}\n\t\t}\n\t\tint r1 = 0, r2 = 0, s1 = 0, s2 = 1;\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tif (s1 == 0) {\n\t\t\t\tif (d[i] >= 0) {\n\t\t\t\t\ts1 = 1 - s1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tr1++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (d[i] <= 0) {\n\t\t\t\ts1 = 1 - s1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tr1++;\n\t\t\t}\n\t\t\tif (s2 == 0) {\n\t\t\t\tif (d[i] >= 0) {\n\t\t\t\t\ts2 = 1 - s2;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tr2++;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (d[i] <= 0) {\n\t\t\t\ts2 = 1 - s2;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tr2++;\n\t\t\t}\n\t\t}\n\t\tcout << min(r1, r2) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <list>\n#include <vector>\n#include <complex>\n#include <utility>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <bitset>\n#include <ctime>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <cassert>\n#include <cstddef>\n#include <iomanip>\n#include <numeric>\n#include <tuple>\n#include <sstream>\n#include <fstream>\n\nusing namespace std;\n#define REP(i, n) for (int (i) = 0; (i) < (n); (i)++)\n#define FOR(i, a, b) for (int (i) = (a); (i) < (b); (i)++)\n#define RREP(i, a) for(int (i) = (a) - 1; (i) >= 0; (i)--)\n#define FORR(i, a, b) for(int (i) = (a) - 1; (i) >= (b); (i)--)\n#define DEBUG(C) cerr << #C << \" = \" << C << endl;\nusing LL = long long;\nusing VI = vector<int>;\nusing VVI = vector<VI>;\nusing VL = vector<LL>;\nusing VVL = vector<VL>;\nusing VD = vector<double>;\nusing VVD = vector<VD>;\nusing PII = pair<int, int>;\nusing PDD = pair<double, double>;\nusing PLL = pair<LL, LL>;\nusing VPII = vector<PII>;\ntemplate<typename T> using VT = vector<T>;\n#define ALL(a) begin((a)), end((a))\n#define RALL(a) rbegin((a)), rend((a))\n#define SORT(a) sort(ALL((a)))\n#define RSORT(a) sort(RALL((a)))\n#define REVERSE(a) reverse(ALL((a)))\n#define MP make_pair\n#define FORE(a, b) for (auto &&a : (b))\n#define FIND(s, e) ((s).find(e) != (s).end())\n#define EB emplace_back\ntemplate<typename T> inline bool chmax(T &a, T b){if (a < b){a = b;return true;}return false;}\ntemplate<typename T> inline bool chmin(T &a, T b){if (a > b){a = b;return true;}return false;}\n\nconst int INF = 1e9;\nconst int MOD = INF + 7;\nconst LL LLINF = 1e18;\nconst double EPS = 1e-9;\n\n/*\n 7 8 9\n 4   6\n 1 2 3\n*/\nset<int> se[3];\nvoid init() {\n    se[0].insert({1, 4, 7});\n    se[1].insert({2, 8});\n    se[2].insert({3, 6, 9});\n}\nstring s;\n\nint dfs(int nowlen, bool nextfoot, int nowleft, int nowright) {//t:right f:left\n    if (s.length() == nowlen) return 0;\n    const int nextpoint = s[nowlen] - '0';\n    if (nextfoot) {//right\n        for (int i = 0; i < 3; i++) {\n            if (se[i].count(nowleft)) {\n                if (i == 0) {\n                    return dfs(nowlen + 1, !nextfoot, nowleft, nextpoint);\n                } else if (i == 1) {\n                    if (se[0].count(nextpoint)) {\n                        return 1 + dfs(nowlen + 1, nextfoot, nextpoint, nowright);\n                    } else {\n                        return dfs(nowlen + 1, !nextfoot, nowleft, nextpoint);\n                    }\n                } else {\n                    if (se[2].count(nextpoint)) {\n                        return dfs(nowlen + 1, !nextfoot, nowleft, nextpoint);\n                    } else {\n                        return 1 + dfs(nowlen + 1, nextfoot, nextpoint, nowright);\n                    }\n                }\n            }\n        }\n        DEBUG(nowleft)\n        assert(false);\n    } else {//left\n        for (int i = 0; i < 3; i++) {\n            if (se[i].count(nowright)) {\n                if (i == 0) {\n                    if (se[0].count(nextpoint)) {\n                        return dfs(nowlen + 1, !nextfoot, nextpoint, nowright);\n                    } else {\n                        return 1 + dfs(nowlen + 1, nextfoot, nowleft, nextpoint);\n                    }\n                } else if (i == 1) {\n                    if (se[2].count(nextpoint)) {\n                        return 1 + dfs(nowlen + 1, nextfoot, nowleft, nextpoint);\n                    } else {\n                        return dfs(nowlen + 1, !nextfoot, nextpoint, nowright);\n                    }\n                } else {\n                    return dfs(nowlen + 1, !nextfoot, nextpoint, nowright);\n                }\n            }\n        }\n        DEBUG(nowright)\n        assert(false);\n    }\n}\n\nvoid solve(string s) {\n    int res = INF;\n    for (int i = 1; i <=9; i++) {//left\n        for (int j = 1; j <= 9; j++) {//right\n            if (i != j) {\n                if (i == 5 || j == 5) continue;\n                if (se[1].count(j) && se[2].count(i)) continue;\n                if (se[0].count(j) && se[0].count(i) == 0) continue;\n                if (se[1].count(i) && se[0].count(j)) continue;\n                if (se[2].count(i) && se[2].count(j) == 0) continue;\n                chmin(res, min(dfs(0, true, i, j), dfs(0, false, i, j)));\n            }\n        }\n    }\n    printf(\"%d\\n\", res);\n}\n\nsigned main(void) {\n    LL n, m, p, a, b, c, x, y, z, q;\n    //string s;\n    bool f = false;\n    init();\n    while (cin >> s, s != \"#\") {\n        solve(s);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while(true){\n        string s;\n        cin >> s;\n        if(s == \"#\") break;\n        int s_len = s.size(), n_violate = 0, dir = 0;\n        for(int i = 0; i < s_len - 1; ++i){\n            int sa = (s[i] - '0' + 2) % 3;\n            int sb = (s[i + 1] - '0' + 2) % 3;\n            if(dir == 0){\n                if(sa < sb){\n                    dir = -1;\n                }\n                if(sa > sb){\n                    dir = 1;\n                }\n            }else{\n                dir *= -1;\n                if(dir == 1 && sa < sb){\n                    ++n_violate;\n                    dir = 0;\n                }else if(dir == -1 && sa > sb){\n                    ++n_violate;\n                    dir = 0;\n                }\n            }\n        }\n        printf(\"%d\\n\", n_violate);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\nint dp[2][2][9];\n\nbool valid(int left, int right) {\n  if (left == right) return false;\n  left %= 3;\n  right %= 3;\n  return left <= right;\n}\n\nint main() {\n  string str;\n  while (true) {\n    cin >> str;\n    if (str == \"#\") break;\n    rep (i, 2) rep (j, 9) {\n      if (i == 0) {\n\tif (valid(str[0] - '1', j)) dp[0][i][j] = 0;\n\telse dp[0][i][j] = 1e9;\n      } else {\n\tif (valid(j, str[0] - '1')) dp[0][i][j] = 0;\n\telse dp[0][i][j] = 1e9;\n      }\n    }\n    rep (i, str.size() - 1) {\n      rep (j, 2) rep (k, 9) dp[1][j][k] = 1e9;\n      rep (j, 2) rep (k, 9) {\n\tif (j == 0) {\n\t  if (valid(str[i + 1] - '1', k)) dp[1][j][k] = dp[0][j][k] + 1;\n\t  else dp[1][j][k] = 1e9;\n\t  if (valid(str[i + 1] - '1', str[i] - '1')) {\n\t    rep (l, 9) dp[1][j][k] = min(dp[1][j][k], dp[0][j ^ 1][l]);\n\t  }\n\t} else {\n\t  if (valid(k, str[i + 1] - '1')) dp[1][j][k] = dp[0][j][k] + 1;\n\t  else dp[1][j][k] = 1e9;\n\t  if (valid(str[i] - '1', str[i + 1] - '1')) {\n\t    rep (l, 9) dp[1][j][k] = min(dp[1][j][k], dp[0][j ^ 1][l]);\n\t  }\n\t}\n      }\n      rep (j, 2) rep (k, 9) dp[0][j][k] = dp[1][j][k];\n    }\n    int res = 1e9;\n    rep (i, 2) rep (j, 9) res = min(dp[0][i][j], res);\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#pragma comment(linker,\"/STACK:102400000,102400000\")\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<cstdlib>\n#include<queue>\n#include<stack>\n#include<climits>\n#include<set>\n#include<map>\n#include<vector>\n#include<algorithm>\n#define sf scanf\n#define pf printf\n#define cls(a) memset(a,0,sizeof a)\n#define _cls(a) memset(a,-1,sizeof a)\n\nusing namespace std;\ntypedef long long LL;\n\nstring str;\nint org[100010];\n\nint ok(int now){\n\tint i,cnt=0;\n\tnow^=1;\n\tfor(i=0;i<str.size()-1;++i){\n\t\tnow^=1;\n\t\tif(str[i]==str[i+1]) continue;\n\t\tif(str[i]=='1'){\n\t\t\tif(!now)\n\t\t\t\tcontinue;\n\t\t\tif(str[i+1]!='4' && str[i+1]!='7') cnt++,now^=1;\n\t\t}else if(str[i]=='2'){\n\t\t\tif(now){//right\n\t\t\t\tif(str[i+1]=='3' || str[i+1]=='6' || str[i+1]=='9') cnt++,now^=1;\n\t\t\t}else{\n\t\t\t\tif(str[i+1]=='1' || str[i+1]=='4' || str[i+1]=='7') cnt++,now^=1;\n\t\t\t}\n\t\t}else if(str[i]=='3'){\n\t\t\tif(now) continue;\n\t\t\tif(str[i+1]!='6' && str[i+1]!='9') cnt++,now^=1;\n\t\t}else if(str[i]=='4'){\n\t\t\tif(!now) continue;\n\t\t\tif(str[i+1]!='1' && str[i+1]!='7') cnt++,now^=1;\n\t\t}else if(str[i]=='6'){\n\t\t\tif(now) continue;\n\t\t\tif(str[i+1]!='3' && str[i+1]!='9') cnt++,now^=1;\n\t\t}else if(str[i]=='7'){\n\t\t\tif(!now) continue;\n\t\t\tif(str[i+1]!='1' && str[i+1]!='4') cnt++,now^=1;\n\t\t}else if(str[i]=='8'){\n\t\t\tif(now){//right\n\t\t\t\tif(str[i+1]=='3' || str[i+1]=='6' || str[i+1]=='9') cnt++,now^=1;\n\t\t\t}else{\n\t\t\t\tif(str[i+1]=='1' || str[i+1]=='4' || str[i+1]=='7') cnt++,now^=1;\n\t\t\t}\n\t\t}else if(str[i]=='9'){\n\t\t\tif(now) continue;\n\t\t\tif(str[i+1]!='3' || str[i+1]!='6') cnt++,now^=1;\n\t\t}\n\t}\n\treturn cnt;\n}\n\nint main(){\n\tint i,cnt,j;\n\twhile(cin>>str,str!=\"#\"){\n\t\tint ret=ok(1);\n\t\tint res=ok(0);\n\t\tpf(\"%d\\n\",min(ret,res));\n\t\tcontinue;\n\t\tint now=1;cnt=0;\n\t\tfor(i=0;i<str.size();++i,now^=1)\n\t\t\torg[i]=now;\n\t\tfor(i=0;i<str.size();++i)\n\t\t\tpf(\"%d \",org[i]);\n\t\tputs(\"\");\n\t\tfor(i=0;i<str.size()-1;++i){\n\t\t\tif(str[i]=='1'){\n\t\t\t\tif(!org[i]) continue;\n\t\t\t\tif(str[i+1]!='4' && str[i+1]!='7') cnt++;\n\t\t\t}else if(str[i]=='2'){\n\t\t\t\tif(org[i]){//right\n\t\t\t\t\tif(str[i+1]=='3' || str[i+1]=='6' || str[i+1]=='9') cnt++;\n\t\t\t\t}else{\n\t\t\t\t\tif(str[i+1]=='1' || str[i+1]=='4' || str[i+1]=='7') cnt++;\n\t\t\t\t}\n\t\t\t}else if(str[i]=='3'){\n\t\t\t\tif(org[i]) continue;\n\t\t\t\tif(str[i+1]!='6' && str[i+1]!='9') cnt++;\n\t\t\t}else if(str[i]=='4'){\n\t\t\t\tif(!org[i]) continue;\n\t\t\t\tif(str[i+1]!='1' && str[i+1]!='7') cnt++;\n\t\t\t}else if(str[i]=='6'){\n\t\t\t\tif(org[i]) continue;\n\t\t\t\tif(str[i+1]!='3' && str[i+1]!='9') cnt++;\n\t\t\t}else if(str[i]=='7'){\n\t\t\t\tif(!org[i]) continue;\n\t\t\t\tif(str[i+1]!='1' && str[i+1]!='4') cnt++;\n\t\t\t}else if(str[i]=='8'){\n\t\t\t\tif(org[i]){//right\n\t\t\t\t\tif(str[i+1]=='3' || str[i+1]=='6' || str[i+1]=='9') cnt++;\n\t\t\t\t}else{\n\t\t\t\t\tif(str[i+1]=='1' && str[i+1]=='4' || str[i+1]=='7') cnt++;\n\t\t\t\t}\n\t\t\t}else if(str[i]=='9'){\n\t\t\t\tif(org[i]) continue;\n\t\t\t\tif(str[i+1]!='3' || str[i+1]!='6') cnt++;\n\t\t\t}\n\t\t}\n\t\tpf(\"%d\\n\",min(res,cnt));\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst int MAX=1e5+10;\n\ntemplate<class T> inline bool chmin(T &a,T b){\n    if (a>b){a=b; return true;} return false;\n}\n\nstring S; int n,nxt,ans;\nint dp[MAX][9][9][2];\n\nint ok(int l,int r){\n    if (l==4||r==4) return 1;\n    return l%3<=r%3;\n}\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    string S;\n    while(cin >> S,S!=\"#\"){\n        int n=S.size();\n        for (int i=0;i<=n;++i)\n            for (int j=0;j<9;++j)\n                for (int k=0;k<9;++k)\n                    for (int l=0;l<2;++l)\n                        dp[i][j][k][l]=MAX;\n        dp[0][4][4][0]=dp[0][4][4][1]=0;\n        for (int i=0;i<n;++i){\n            nxt=S[i]-'1';\n            for (int j=0;j<9;++j){\n                for (int k=0;k<9;++k){\n                    chmin(dp[i+1][nxt][k][0],dp[i][j][k][0]+1);\n                    chmin(dp[i+1][j][nxt][1],dp[i][j][k][1]+1);\n                    if (ok(nxt,k)) chmin(dp[i+1][nxt][k][1],dp[i][j][k][0]);\n                    if (ok(j,nxt)) chmin(dp[i+1][j][nxt][0],dp[i][j][k][1]);\n                }\n            }\n        }\n        ans=MAX;\n        for (int j=0;j<9;++j)\n            for (int k=0;k<9;++k)\n                for (int l=0;l<2;++l)\n                    chmin(ans,dp[n][j][k][l]);\n        cout << ans << '\\n';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint tra(int a)\n{\n    if(a==1||a==4||a==7)\n        return 1;\n    if(a==2||a==8)\n        return 2;\n    if(a==3||a==6||a==9)\n        return 3;\n}\nint main()\n{\n    char str[100001];\n    int number[100001];\n    while(cin>>str)\n    {\n        if(str[0]=='#')\n            break;\n        int len=strlen(str);\n        if(len<=2)\n        {\n            printf(\"0\\n\");\n        }\n        else\n        {\n            for(int i=0; i<len; i++)\n            {\n                number[i]=tra(str[i]-'0');\n            }\n            int num1=0;\n            for(int i=1; i<len; i++)\n            {\n                if(i%2!=0)\n                {\n                    if(number[i]<number[i-1])\n                    num1++;\n\n                }\n                if(i%2==0)\n                {\n                    if(number[i]>number[i-1])\n                        num1++;\n                }\n            }\n           // printf(\"num1=%d\\n\",num1);\n            int num2=0;\n            for(int i=1; i<len; i++)\n            {\n                if(i%2!=0)\n                {\n                    if(number[i]>number[i-1])\n                    num2++;\n                }\n                if(i%2==0)\n                {\n                    if(number[i]<number[i-1])\n                        num2++;\n                }\n            }\n           // printf(\"num2=%d\\n\",num2);\n            printf(\"%d\\n\",num1>num2?num2:num1);\n        }\n\n    }\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n#include <bitset>\n#include <time.h>\n#include <tuple>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef vector<ll> V;\ntypedef complex<double> Point;\n\n#define PI acos(-1.0)\n#define EPS 1e-10\nconst ll INF = (1LL << 60) - 1;\nconst ll MOD = 1e9 + 7;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define rep(i,N) for(int i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define EQ(a,b) (abs((a)-(b))<EPS)\n#define EQV(a,b) ( EQ((a).real(), (b).real()) && EQ((a).imag(), (b).imag()) )\n#define fi first\n#define se second\n#define N_SIZE (1LL << 20)\n#define NIL -1\n#define MAX_N 100100 * 3\n\nstring s;\nset<int> si[2][100];\n\nint main() {\n\tsi[0][1].insert(0);\n\tsi[0][2].insert(0);\n\tsi[0][2].insert(1);\n\tsi[1][0].insert(1);\n\tsi[1][0].insert(2);\n\tsi[1][1].insert(2);\n\twhile (cin >> s&&s != \"#\") {\n\t\tll ans = INF;\n\t\tint num = 0;\n\t\tint now = 0;\n\t\tint pos = (s[0] - '0' - 1) % 3;\n\t\trep(i, s.size() - 1) {\n\t\t\tif (si[now][pos].find((s[i + 1] - '0' - 1) % 3)\n\t\t\t\t!= si[now][pos].end()) {\n\t\t\t\tnum++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnow = (now + 1) % 2;\n\t\t\t}\n\t\t\tpos = (s[i + 1] - '0' - 1) % 3;\n\t\t}\n\t\tans = min(ans, (ll)num);\n\t\tnum = 0;\n\t\tnow = 1;\n\t\tpos = (s[0] - '0' - 1) % 3;\n\t\trep(i, s.size() - 1) {\n\t\t\tif (si[now][pos].find((s[i + 1] - '0' - 1) % 3)\n\t\t\t\t!= si[now][pos].end()) {\n\t\t\t\tnum++;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnow = (now + 1) % 2;\n\t\t\t}\n\t\t\tpos = (s[i + 1] - '0' - 1) % 3;\n\t\t}\n\t\tans = min(ans, (ll)num);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\nusing namespace std;\n\nint getPosx(int a) { return (a-1)%3; }\nbool isValid(int f[2]) { return getPosx(f[0]) <= getPosx(f[1]); }\n\nint main() {\n  string line;\n  while(getline(cin, line) && line != \"#\") {\n    int ans = 1<<24;\n    for(int i = 0; i < 2; ++i) {\n      int foot[2];\n      int cnt = 0;\n      foot[i] = line[0] - '0';\n      foot[1-i] = line[1] - '0';\n      if(!isValid(foot)) continue;\n      for(int j = 2; j < line.size(); ++j) {\n\tint move = (i+j+cnt)%2;\n\tint nfoot[2];\n\tnfoot[move] = line[j] - '0';\n\tnfoot[1-move] = foot[1-move];\n\tif(!isValid(nfoot)) {\n\t  ++cnt;\n\t  swap(nfoot[0], nfoot[1]);\n\t}\n\tfoot[0] = nfoot[0];\n\tfoot[1] = nfoot[1];\n      }\n      ans = min(ans, cnt);\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 100005;\nconst int INF = 1<<28;\nint N;\nstring S;\nint dp[MAXN][9][9][2];\n\nint getPosX(int k) {\n  return (k - 1) % 3;\n}\n\nbool ok(int l, int r) {\n  return getPosX(l) <= getPosX(r);\n}\n\nint main() {\n  while(cin >> S && S != \"#\") {\n    N = S.size();\n    fill(dp[0][0][0], dp[MAXN][0][0], INF);\n    for(int l = 1; l <= 9; ++l) {\n      for(int r = 1; r <= 9; ++r) {\n        if(ok(l, r)) dp[0][l][r][0] = dp[0][l][r][1] = 0;\n      }\n    }\n    for(int i = 0; i < N; ++i) {\n      for(int l = 1; l <= 9; ++l) {\n        for(int r = 1; r <= 9; ++r) {\n          for(int j = 0; j < 2; ++j) {\n            int p = S[i] - '0';\n            if(ok(p, r)) {\n              dp[i+1][p][r][0] = min(dp[i+1][p][r][0],\n                                     dp[i][l][r][j] + (j == 0));\n            }\n            if(ok(l, p)) {\n              dp[i+1][l][p][1] = min(dp[i+1][l][p][1],\n                                     dp[i][l][r][j] + (j == 1));\n            }\n          }\n        }\n      }\n    }\n    int res = INF;\n    for(int l = 1; l <= 9; ++l) {\n      for(int r = 1; r <= 9; ++r) {\n        for(int j = 0; j < 2; ++j) {\n          res = min(res, dp[N][l][r][j]);\n        }\n      }\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,0,0),step(0,a,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nint dp[100000][3][3][2]; // k: 0->left, 1->right\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    string s;\n    while (cin >> s, s[0] != '#') {\n        if (s.size() <= 2) {\n            cout << 0 << endl;\n            continue;\n        }\n\n        int N = s.size();\n        V a(N);\n        rep(i, N) a[i] = (s[i] - '1') % 3;\n\n        const int INF = 1e9;\n        rep(i, N) rep(l, 3) rep(r, 3) rep(k, 2) dp[i][l][r][k] = INF;\n\n        if (a[0] <= a[1]) dp[1][a[0]][a[1]][1] = 0;\n        if (a[1] <= a[0]) dp[1][a[1]][a[0]][0] = 0;\n\n        rep2(i, 2, N) {\n            rep(l, 3) {\n                rep(r, 3) {\n                    rep(k, 2) {\n                        // left\n                        if (a[i] <= r) {\n                            dp[i][a[i]][r][0] = min(dp[i][a[i]][r][0], dp[i - 1][l][r][k] + (k == 0));\n                        }\n                        // right\n                        if (a[i] >= l) {\n                            dp[i][l][a[i]][1] = min(dp[i][l][a[i]][1], dp[i - 1][l][r][k] + (k == 1));\n                        }\n                    }\n                }\n            }\n        }\n\n        int ans = INF;\n        rep(l, 3) rep(r, 3) rep(k, 2) ans = min(ans, dp[N - 1][l][r][k]);\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n\n#define REP(i, a, b) for (int i = int(a); i < int(b); i++)\n#define dump(val) cerr << __LINE__ << \":\\t\" << #val << \" = \" << (val) << endl\n\nusing namespace std;\n\ntypedef long long int lli;\n\nint main() {\n    string s;\n    while (cin >> s, s != \"#\") {\n        auto check = [&](bool lft) -> int { \n            int ans = 0;\n            int FootL = -1, FootR = -1;\n            bool fst = true;\n            REP (i, 0, s.size()) {\n                int step = s[i] - '1';\n                if (lft) {\n                    if (fst) FootL = step;\n                    else {\n                        if (step % 3 > FootR % 3) {\n                            ans++;\n                            FootR = step;\n                            lft = !lft;\n                        } else {\n                            FootL = step;\n                        }\n                    }\n                } else {\n                    if (fst) FootR = step;\n                    else {\n                        if (FootL % 3 > step % 3) {\n                            ans++;\n                            FootL = step;\n                            lft = !lft;\n                        } else {\n                            FootR = step;\n                        }\n                    }\n                }\n                lft = !lft;\n                fst = false;\n            }\n            return ans;\n        };\n        cout << min(check(0), check(1)) << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n#define ALL(x) (x).begin(), (x).end()\n\nusing namespace std;\n\ntemplate <typename T> T &chmin(T &a, const T &b) {return a = min(a, b);}\ntemplate <typename T> T &chmax(T &a, const T &b) {return a = max(a, b);}\n\nusing ll = long long;\nusing ld = long double;\n\nconst int INF = 1e9;\nconst ld eps = 1e-9, pi = acos(-1.0);\n\nstring dir;\nvector<int> dirs(100005);\n\nint dfs(int cnt, bool isleft, int l, int r){\n\tif(cnt == dir.length()) return 0;\n\tif(isleft and dirs[cnt] < l){\n\t\treturn dfs(cnt+1, true, dirs[cnt], r)+1;\n\t} else if(!isleft and dirs[cnt] > r) {\n\t\treturn dfs(cnt+1, false, l, dirs[cnt])+1;\n\t}\n\tif(isleft) return dfs(cnt+1, false, l, dirs[cnt]);\n\treturn dfs(cnt+1, true, dirs[cnt], r);\n}\n\nint main(){\n\twhile(cin >> dir and dir != \"#\"){\n\t\tdirs.clear();\n\t\tREP(i, dir.length()) dirs[i] = (dir[i] - '1')%3;\n\t\tint res = INF;\n\t\tREP(i, 3) REP(j, 3) { if(i > j) continue; chmin(res, min(dfs(0, true, i, j), dfs(0, false, i, j))); }\n\t\tcout << res << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n\nusing namespace std;\n\nstring str;\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\nint main(void){\n\n\tint dp[2][2][9][9];\n\n\twhile( 1 ) {\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < 2; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[1][1][j][arrow] = 0;\n\t\t\t\tdp[1][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\tfor(int j = 0; j < 2; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < 9; l++) {\n\t\t\t\t\t\tdp[0][j][k][l] = dp[1][j][k][l];\n\t\t\t\t\t\tdp[1][j][k][l] = 1 << 30;\n\t\t\t\t\t}\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++) {\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[1][0][arrow][k] = min( dp[0][0][j][k] + 1, dp[1][0][arrow][k] );\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[1][1][j][arrow] = min( dp[0][1][j][k] + 1, dp[1][1][j][arrow] );\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[1][0][arrow][k] = min( dp[0][1][j][k], dp[1][0][arrow][k] );\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[1][1][j][arrow] = min( dp[0][0][j][k], dp[1][1][j][arrow] );\n\t\t\t\t}\t\n\t\t}\n\n\t\tint min = 1 << 30;\n\n \t\tfor(int i = 0; i < 2; i++)  \n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif(min > dp[1][i][j][k] ) min = dp[1][i][j][k];\n\n\t\tcout << min << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\ntypedef long long LL;\n#define SORT(c) sort((c).begin(),(c).end())\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\nusing namespace std;\n\nint main(void)\n{\n  for(;;){\n    string s;\n    cin >> s;\n    if(s==\"#\") return 0;\n    int f=0,cost=0;\n    REP(i,s.size()-1){\n      if((s[i]-'1')%3-(s[i+1]-'1')%3==0){\n\tf=-f;\n      }else{\n\tif(f*((s[i]-'1')%3-(s[i+1]-'1')%3)>0) ++cost;\n\tf=(s[i]-'1')%3-(s[i+1]-'1')%3;\n      }\n    }\n    cout << cost << endl;\n\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint main()\n{\n  int a[100001],b[100001];\n  string s;\n  \n  while(1){\n    cin>>s;\n    if(s[0]=='#')break;\n    for(int i=0;i<s.length();i++)s[i]=(s[i]-'0'-1)%3+'0';\n\n    int ansa=0,ansb=0;\n    a[0]=1;b[0]=-1;\n    for(int i=0;i<s.length()-1;i++){\n      if(a[i]==1){\n\tif(s[i]<s[i+1]){\n\t  ansa++;\n\t  a[i+1]=a[i];\n\t}\n\telse a[i+1]=-a[i];\n      }\n      if(a[i]==-1){\n\tif(s[i]>s[i+1]){\n\t  ansa++;\n\t  a[i+1]=a[i];\n\t}\n\telse a[i+1]=-a[i];\n      }\n      if(b[i]==1){\n\tif(s[i]<s[i+1]){\n\t  ansb++;\n\t  b[i+1]=b[i];\n\t}\n\telse b[i+1]=-b[i];\n      }\n      if(b[i]==-1){\n\tif(s[i]>s[i+1]){\n\t  ansb++;\n\t  b[i+1]=b[i];\n\t}\n\telse b[i+1]=-b[i];\n      }\n    }\n    cout<<min(ansa,ansb)<<endl;\n    \n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n//http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2243\n\n#include<iostream>\n#include<map>\n#include<vector>\n#include<algorithm>\n#include<cmath>\n#include<climits>\n#include<ctime>\n#include<cstring>\n#include<numeric>\n\n#define ALL(v) (v).begin(),(v).end()\n#define REP(i,p,n) for(int i=p;i<(int)(n);++i)\n#define rep(i,n) REP(i,0,n)\n#define dump(a) (cerr << #a << \"=\" << (a) << endl)\n#define DUMP(list) cout << \"{ \"; for(auto nth : list){ cout << nth << \" \"; } cout << \"}\" << endl;\n\nusing namespace std;\n\nint panel[10] = {0,1,2,3,1,2,3,1,2,3};\n\nconst int LEFT = -1;\nconst int RIGHT = 1;\n\nbool isValid(int left, int right)\n{\n\tint left_x = panel[left];\n\tint right_x = panel[right];\n\treturn (left_x > right_x) ? false : true;\n}\n\nint main()\n{\n\tstring S;\n\twhile(true)\n\t{\n\t\tcin >> S;\n\t\tif( S == \"#\" ){ break; }\n\t\t\n\t\tvector<int> step;\n\t\trep(i,S.length()){ step.push_back( S[i] - '0' ); }\n\n\t\tif(step.size() <= 2){ cout << 0 << endl; continue; }\n\n\t\tint ans = INT_MAX;\n\t\tint state, left, right;\t\n\t\trep(nth,2)\n\t\t{\n\t\t\tint cnt=0;\n\t\t\tif(nth){ //右足スタートと左足スタート\n\t\t\t\tleft = step[0]; right = step[1]; state = LEFT;  \n\t\t\t}else{ \n\t\t\t\tleft = step[1]; right = step[0]; state = RIGHT;\n\t\t\t}\n\n\t\t\tif(!isValid(left,right)){ continue; }//初期配置で駄目な時\n\t\t\t\n\t\t\tREP( i, 2, step.size() )\n\t\t\t{\n\t\t\t\tif(state == RIGHT) //右足の場合\n\t\t\t\t{\n\t\t\t\t\tif(isValid(left,step[i])){\n\t\t\t\t\t\tright = step[i]; state = LEFT;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tleft = step[i]; cnt++; state = RIGHT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse //左足の場合\n\t\t\t\t{\t\n\t\t\t\t\tif(isValid(step[i], right)){\n\t\t\t\t\t\tleft = step[i]; state = RIGHT;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tright = step[i]; cnt++; state = LEFT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = min(ans, cnt);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=(a);i<(b);++i)\n\nint violate[10][6] = {\n\t{},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\t\n};\n\nint main() {\n\tstring S;\n\t\n\twhile (cin >> S, S != \"#\") {\n\t\tint m = S.size();\n\t\tint L[2] = {0, 0}, R[2] = {0, 0}, cnt[2] = {0, 0};\n\t\tbool flag[2] = {false, true};\n\t\t\n\t\tfor_(i,0,m) {\n\t\t\tfor_(b,0,2) {\n\t\t\t\tint r = (flag[b] ? S[i] - '0' : R[b]), l = (flag[b] ? L[b] : S[i] - '0');\n\t\t\t\tbool inv = false;\n\t\t\t\tfor (int j=0; violate[r][j] != -1; ++j) inv |= (violate[r][j] == l);\n\t\t\t\t\n\t\t\t\tif (inv) {\n\t\t\t\t\tif (flag[b]) L[b] = r;\n\t\t\t\t\telse R[b] = l;\n\t\t\t\t\t++cnt[b];\n\t\t\t\t} else {\n\t\t\t\t\tR[b] = r;\n\t\t\t\t\tL[b] = l;\n\t\t\t\t\tflag[b] = !flag[b];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(cnt[0], cnt[1]) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(scanf(\"%s\",c)){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\trep2(i,1,strlen(c)+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,k,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[strlen(c)%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconst int INF = 100000000;\n\nint main(){\n\tstring step;\n\tint dp[2][2][3][3];\n\twhile(cin >> step){\n\t\tif(step == \"#\") break;\n\t\tfor(int i=0;i<2;i++)\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=0;k<3;k++)\n\t\t\t\t\tdp[0][i][j][k] = dp[1][i][j][k] = (j <= k ? 0 : INF);\n\t\tfor(int i=0;i<step.size();i++){\n\t\t\tint cur = i%2, next = 1-cur;\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=j;k<3;k++)\n\t\t\t\t\tdp[next][0][j][k] = dp[next][1][j][k] = INF;\n\t\t\tint line = (step[i]-'1')%3;\n\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\tfor(int k=j;k<3;k++){\n\t\t\t\t\tif(line <= k)\n\t\t\t\t\t\tdp[next][0][line][k] = min(dp[next][0][line][k], min(dp[cur][1][j][k], dp[cur][0][j][k]+1));\n\t\t\t\t\tif(j <= line)\n\t\t\t\t\t\tdp[next][1][j][line] = min(dp[next][1][j][line], min(dp[cur][1][j][k]+1, dp[cur][0][j][k]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i=0;i<2;i++)\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=0;k<3;k++)\n\t\t\t\t\tans = min(ans, dp[step.size()%2][i][j][k]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000001\n\n\nint main(){\n    cin.sync_with_stdio(false);\n    string s;\n    while(cin >> s, s[0] != '#') {\n        int ans = INF;\n        bool left = true;\n        rep(j, 2) {\n            int cnt = 0, l = -1, r = 3;\n            rep(i, s.size()) {\n                int step = (s[i] - '1') % 3;\n                if (left) {\n                    if (step < l) {\n                        cnt++;\n                        l = step;\n                    } else {\n                        r = step;\n                        left = false;\n                    }\n                } else {\n                    if (r < step) {\n                        cnt++;\n                        r = step;\n                    } else {\n                        l = step;\n                        left = true;\n                    }\n                }\n            }\n            minch(ans, cnt);\n            left = false;\n        }\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <deque>\n#include <iomanip>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <sstream>\n#include <string>\n#include <vector>\nusing namespace std;\n\n#define EPS 1e-9\n#define INF MOD\n#define MOD 1000000007LL\n#define fir first\n#define iss istringstream\n#define sst stringstream\n#define ite iterator\n#define ll long long\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<n;i++)\n#define pi pair<int,int>\n#define pb push_back\n#define sec second\n#define sh(i) (1LL<<i)\n#define sz size()\n#define vi vector<int>\n#define vc vector\n#define vl vector<ll>\n#define vs vector<string>\n\nint dp[2][2][4][4];\nchar c[100010];\n\nint main(){\n\twhile(cin>>c){\n\t\tif(c[0]=='#')break;\n\t\tmemset(dp,0,sizeof(dp));\n\t\trep2(i,1,strlen(c)+1){\n\t\t\tint cur=i%2,pre=1-cur,a=(c[i-1]-'0')%3;\n\t\t\tif(!a)a=3;\n\t\t\trep(j,2)rep(k,4)rep(l,4)dp[cur][j][k][l]=INF;\n\t\t\trep(j,2)rep2(k,1,4)rep2(l,max(k,a),4){\n\t\t\t\tdp[cur][0][a][l]=min(dp[cur][0][a][l],dp[pre][j][k][l]+(j<1));\n\t\t\t}\n\t\t\trep(j,2)rep2(k,1,a+1)rep2(l,k,4){\n\t\t\t\tdp[cur][1][k][a]=min(dp[cur][1][k][a],dp[pre][j][k][l]+(j>0));\n\t\t\t}\n\t\t}\n\t\tint a=INF;\n\t\trep(i,2)rep(j,4)rep(k,4)a=min(a,dp[strlen(c)%2][i][j][k]);\n\t\tcout<<a<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n#define L first\n#define R second\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint S[] = {-1, 0, 1, 2, 0, -1, 2, 0, 1, 2};\n\nint main(void){\n    int res;\n    for(string steps; cin >> steps, steps != \"#\"; cout << res << endl){\n        res = inf;\n        pii foot = mp(1, 1);\n     \n        rep(z, 2){\n            int cnt = 0;\n            bool isR = !z;\n\n            rep(i, steps.size()){\n                int next = S[steps[i] - '0'];\n                if(i == 0){\n                    if(isR) foot.R = next;\n                    else    foot.L = next;\n                    isR = !isR;\n                    continue;\n                }\n                if(isR){\n                    if(foot.L <= next){\n                        foot.R = next;\n                        isR = !isR;\n                    }\n                    else{\n                        foot.L = next;\n                        cnt++;\n                    }\n                }\n                else{\n                    if(next <= foot.R){\n                        foot.L = next;\n                        isR = !isR;\n                    }\n                    else{\n                        foot.R = next;\n                        cnt++;\n                    }\n                }\n            }\n            res = min(res, cnt);\n        }\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\ntypedef pair<ll, ll> P;\n\n#define EACH(i,a) for (auto& i : a)\n#define FOR(i,a,b) for (ll i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (ll i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (ll i=0;i<(n);i++)\n#define RREP(i,n) for (ll i=(n)-1;i>=0;i--)\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define pb push_back\n#define ALL(a) (a).begin(),(a).end()\n\nconst ll linf = 1e18;\nconst int inf = 1e9;\nconst double eps = 1e-12;\nconst double pi = acos(-1);\n\ntemplate<typename T>\nistream& operator>>(istream& is, vector<T>& vec) {\n\tEACH(x,vec) is >> x;\n\treturn is;\n}\n/*\ntemplate<class... T>\nostream& operator<<(ostream& os, tuple<T...>& t) {\n\tfor (size_t i = 0; i < tuple_size< tuple<T...> >::value; ++i) {\n\t\tif (i) os << \" \";\n\t\tos << get<0>(t);\n\t}\n\treturn os;\n}\n*/\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T>& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << \" \";\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\ntemplate<typename T>\nostream& operator<<(ostream& os, vector< vector<T> >& vec) {\n\tREP(i,vec.size()) {\n\t\tif (i) os << endl;\n\t\tos << vec[i];\n\t}\n\treturn os;\n}\n\nint dp[100001][9][9][2];\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(0);\n\tstring s;\n\tconst int X[] = {0, 1, 2, 0, -1, 2, 0, 1, 2};\n\twhile ( cin >> s, s != \"#\" ) {\n\t\tint N = s.size();\n\t\tvector<int> v(N);\n\t\tREP(i, N) v[i] = s[i]-'1';\n\t\tfill(dp[0][0][0], dp[N][8][9], inf);\n\t\tdp[0][4][4][0] = dp[0][4][4][1] = 0;\n\t\tREP(i, N) REP(j, 9) REP(k, 9) REP(p, 2) {\n\t\t\tif (dp[i][j][k][p] == inf) continue;\n//\t\t\tcout << i << \" \" << j << \" \" << k << \" \" << p << \" \" << dp[i][j][k][p] << endl;\n\t\t\tREP(l, 2) {\n\t\t\t\tint nj = l == 0 ? j : v[i];\n\t\t\t\tint nk = l == 1 ? k : v[i];\n\t\t\t\tif (nj != 4 && nk != 4 && X[nj] > X[nk]) continue;\n\t\t\t\tif (i > 0 && (nj == 4 || nk == 4)) continue;\n\t\t\t\tint cost = p == l ? 1 : 0;\n//\t\t\t\tcout << nj << \" \" << nk << \" \" << l << endl;\n\t\t\t\tdp[i+1][nj][nk][l] = min(dp[i+1][nj][nk][l], dp[i][j][k][p]+cost);\n\t\t\t}\n\t\t}\n\t\tint ans = inf;\n\t\tREP(i, 9) REP(j, 9) REP(k, 2) {\n\t\t\tans = min(ans, dp[N][i][j][k]);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <limits.h>\n#include <math.h>\n#include <bitset>\n#include <vector>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <iomanip>\n#include <iostream>\n\n#define VARIABLE(x) cerr << #x << \"=\" << x << endl\n#define BINARY(x) static_cast<bitset<16> >(x);\n#define rep(i,n) for(int i=0;i<(int)(n);i++)\n#define REP(i,m,n) for (int i=m;i<(int)(n);i++)\n#define if_range(x, y, w, h) if (0<=(int)(x) && (int)(x)<(int)(w) && 0<=(int)(y) && (int)(y)<(int)(h))\n\nconst int INF = 100000000;\ntypedef double D;\nconst double EPS = 1e-8;\nconst double PI = 3.14159;\nint dx[4]={-1, 0, 1, 0}, dy[4]={0, -1, 0, 1};\nusing namespace std;\ntypedef pair<int, int> P;\n\n/** Problem2243 : Step Step Evolution **/\nint main()\n{\n\tstring s;\n\twhile (cin>>s) {\n\t\tif (s==\"#\") break;\n\t\t\n\t\tint idx[10] = {-1, 0, 1, 2, 0, 1, 2, 0, 1, 2};\n\t\t\n\t\t// first left\n\t\tint ansL = 0;\n\t\tint r=0, l=idx[s[0]-'0'];\n\t\tbool nl = false;\n\t\tfor (int i=1; i<s.size(); i++) {\n\t\t\tint a = s[i]-'0';\n\t\t\t\n\t\t\tif (!nl) {\n\t\t\t\tif (idx[a] >= l) {\n\t\t\t\t\tr = idx[a];\n\t\t\t\t\tnl = true;\n\t\t\t\t} else {\n\t\t\t\t\tl = idx[a];\n\t\t\t\t\tansL++;\n\t\t\t\t\tnl = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (idx[a] <= r) {\n\t\t\t\t\tl = idx[a];\n\t\t\t\t\tnl = false;\n\t\t\t\t} else {\n\t\t\t\t\tr = idx[a];\n\t\t\t\t\tansL++;\n\t\t\t\t\tnl = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << ansL << \" \" << l << \" \" << r << endl;\n\t\t}\n\t\t\n\t\t// first right\n\t\tint ansR = 0;\n\t\tl=0, r=idx[s[0]-'0'];\n\t\tnl=true;\n\t\tfor (int i=1; i<s.size(); i++) {\n\t\t\tint a = s[i]-'0';\n\t\t\tif (!nl) {\n\t\t\t\tif (idx[a] >= l) {\n\t\t\t\t\tr = idx[a];\n\t\t\t\t\tnl = true;\n\t\t\t\t} else {\n\t\t\t\t\tl = idx[a];\n\t\t\t\t\tansR++;\n\t\t\t\t\tnl = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (idx[a] <= r) {\n\t\t\t\t\tl = idx[a];\n\t\t\t\t\tnl = false;\n\t\t\t\t} else {\n\t\t\t\t\tr = idx[a];\n\t\t\t\t\tansR++;\n\t\t\t\t\tnl = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//cout << ansR << \" \" << l << \" \" << r << endl;\n\t\t}\n\n\t\tcout << min(ansL,ansR) << endl;\n\t\t//cout << ansL << \" \" << ansR << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FOR(i,a,b) for(int i = (a);i < (b);i++)\n#define RFOR(i,a,b) for(int i = (b)-1;i >= (a);i--)\n#define REP(i,n) FOR(i,0,(n))\n#define RREP(i,n) RFOR(i,0,(n))\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define ft first\n#define sd second\n\n#define INF 1000000000\n#define index(a, b, c) (a)*81+(b)*9+(c)\n\nint N;\nchar s[100004];\nint dp[100004][2*9*9];\n\nbool input(){\n  cin>>s;\n  if(s[0]=='#')return false;\n  N = strlen(s);\n  REP(i, N)s[i] -= '1';\n  return true;\n}\n\nint x[9] = {0,1,2,0,1,2,0,1,2};\n\nvoid solve(){\n  REP(i, 2) {\n  \tREP(j, 9) {\n  \t\tREP(k, 9) {\n  \t\t\tif(x[j]>x[k]) dp[0][index(i, j, k)] = INF;\n  \t\t\telse dp[0][index(i, j, k)] = 0;\n  \t\t}\n  \t}\n  }\n  \n  REP(l, N) {\n    REP(i, 2*9*9)dp[l+1][i] = INF;\n    \n  \tREP(i, 2) {\n  \t\tREP(j, 9) {\n  \t\t\tREP(k, 9) {\n  \t\t\t\tif(dp[l][index(i, j, k)] == INF)continue;\n  \t\t\t\tif(x[s[l]]<=x[k])\n  \t\t\t\tdp[l+1][index(0, s[l], k)] = min(dp[l+1][index(0, s[l], k)], dp[l][index(i, j, k)]+(i==0));\n  \t\t\t\tif(x[s[l]]>=x[j])\n  \t\t\t\tdp[l+1][index(1, j, s[l])] = min(dp[l+1][index(1, j, s[l])], dp[l][index(i, j, k)]+(i==1));\n  \t\t\t\t\n  \t\t\t}\n  \t\t}\n  \t}\n  }\n  \n  int a = INF;\n  /*REP(i, N+1){\n    REP(j,2*9*9){\n      if(dp[i][j] == INF)\n        cout<<'N';\n      else\n        cout<<dp[i][j];\n      if((j+1)%9==0)cout<<' ';\n    }\n    cout<<endl;\n  }*/\n  REP(i, 2*9*9) {\n    a = min(a, dp[N][i]);\n  }\n  cout<<a<<endl;\n}\n\nint main(){\n  //cin.tie(0);\n  \n  while (input()){\n      solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\n// step, left, right, last_foot(0:1=L:R)\nint dp[16][8][8][2];\n\nconst int INF = 100000000;\n\nint main(){\n\twhile(true){\n\t\tstring line;\n\t\tcin >> line;\n\t\tif(line == \"#\"){ break; }\n\t\tif(line.size() <= 2){\n\t\t\tcout << 0 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint panel = line[0] - '1';\n\t\tfor(int j = 0; j < 8; ++j){\n\t\t\tfor(int k = 0; k < 8; ++k){\n\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[0][j][k][l] = INF; }\n\t\t\t}\n\t\t}\n\t\tdp[0][panel][0][0] = 0;\n\t\tdp[0][0][panel][1] = 0;\n\t\tint answer = INF;\n\t\tfor(int i = 1; i < line.size(); ++i){\n\t\t\tanswer = INF;\n\t\t\tpanel = line[i] - '1';\n\t\t\tfor(int j = 0; j < 8; ++j){\n\t\t\t\tfor(int k = 0; k < 8; ++k){\n\t\t\t\t\tfor(int l = 0; l < 2; ++l){ dp[i & 15][j][k][l] = INF; }\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int l = 0; l < 8; ++l){\n\t\t\t\tfor(int r = 0; r < 8; ++r){\n\t\t\t\t\t// move left\n\t\t\t\t\tif(panel % 3 <= r % 3){\n\t\t\t\t\t\tint res = dp[i & 15][panel][r][0];\n\t\t\t\t\t\tres = min(res, dp[(i - 1) & 15][l][r][0] + 1);\n\t\t\t\t\t\tres = min(res, dp[(i - 1) & 15][l][r][1]);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i & 15][panel][r][0] = res;\n\t\t\t\t\t}\n\t\t\t\t\t// move right\n\t\t\t\t\tif(panel % 3 >= l % 3){\n\t\t\t\t\t\tint res = dp[i & 15][l][panel][1];\n\t\t\t\t\t\tres = min(res, dp[(i - 1) & 15][l][r][0]);\n\t\t\t\t\t\tres = min(res, dp[(i - 1) & 15][l][r][1] + 1);\n\t\t\t\t\t\tanswer = min(answer, res);\n\t\t\t\t\t\tdp[i & 15][l][panel][1] = res;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cstdio>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<queue>\n#include<functional>\n#include<fstream>\n#include<cstring>\n\nusing namespace std;\n\n#define REP(i,n) for(int i = 0; i < (int)(n); i++)\n#define f first\n#define s second\n\nstring str;\n\nint memo[2][3][3][100010];\nint ans;\n\nint solve(int next, int left, int right, int p, int a){\n  if(a > ans) return 10000000;\n  if(p == str.size())\n    return ans = a;\n  if(memo[next][left][right][p] != -1)\n    return memo[next][left][right][p];\n\n\n  int ret = 10000000;\n  {\n    //normal\n    int tmp = 0;\n    int st = (str[p]-'1') % 3;\n    int l = (next == 0 ? st : left);\n    int r = (next == 1 ? st : right);\n    if(next == 0 && st > right) tmp++;\n    if(next == 1 && st < left)  tmp++;\n\n    ret = min(ret, solve(next^1, l, r, p+1, a+tmp));\n  }\n  {\n    //abnormal\n    next ^= 1;\n    int tmp = 1;\n    int st = (str[p]-'1') % 3;\n    int l = (next == 0 ? st : left);\n    int r = (next == 1 ? st : right);\n    if(next == 0 && st > right) tmp++;\n    if(next == 1 && st < left)  tmp++;\n\n    ret = min(ret, solve(next^1, l, r, p+1, a+tmp));\n  }\n\n  return memo[next][left][right][p] = ret;\n}\n\nint main(){\n  while(getline(cin, str) && str[0] != '#'){\n    ans = 100000000;\n    REP(i,2) REP(j,3) REP(k,3)\n      memset(memo[i][j][k],-1,sizeof(int)*(str.size()+2));\n    solve(0,0,2,0,0);\n\n    if(ans == 0){\n      cout << ans << endl;\n      continue;\n    }\n\n    REP(i,2) REP(j,3) REP(k,3)\n      memset(memo[i][j][k],-1,sizeof(int)*(str.size()+2));\n\n    solve(1,0,2,0,0);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=(a);i<(b);++i)\ntemplate< typename T > void minUpdate(T& a, T b) { a = min(a, b); }\n\nint violate[10][6] = {\n\t{},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\t\n};\n\nint dp[100005][2][10][10];\n\nint main() {\n\tstring S;\n\t\n\twhile (cin >> S, S != \"#\") {\n\t\tint m = S.size();\n\t\t\n\t\tfor_(i,0,m+1) for_(b,0,2) for_(L,0,10) for_(R,0,10) dp[i][b][L][R] = 1L << 30;\n\t\tdp[0][0][0][0] = 0;\n\t\tdp[0][1][0][0] = 0;\n\t\t\n\t\tfor_(i,0,m) for_(b,0,2) for_(L,0,10) for_(R,0,10) {\n\t\t\tif (dp[i][b][L][R] == 1L << 30) continue;\n\t\t\tint nR = (b ? S[i] - '0' : R), nL = (b ? L : S[i] - '0');\n\t\t\tbool inv = false;\n\t\t\tfor (int j=0; violate[nR][j] != -1; ++j) inv |= (violate[nR][j] == nL);\n\t\t\t\n\t\t\tif (inv) minUpdate(dp[i+1][b][(b ? nR : L)][(b ? R : nL)], dp[i][b][L][R] + 1);\n\t\t\telse minUpdate(dp[i+1][1-b][nL][nR], dp[i][b][L][R]);\n\t\t}\n\t\t\n\t\tint ans = 1L << 30;\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) minUpdate(ans, dp[m][b][L][R]);\n\t\tcout << ans << endl;\n\t\t/*\n\t\tint L[2] = {0, 0}, R[2] = {0, 0}, cnt[2] = {0, 0};\n\t\tbool flag[2] = {false, true};\n\t\t\n\t\tfor_(i,0,m) {\n\t\t\tfor_(b,0,2) {\n\t\t\t\tint r = (flag[b] ? S[i] - '0' : R[b]), l = (flag[b] ? L[b] : S[i] - '0');\n\t\t\t\tbool inv = false;\n\t\t\t\tfor (int j=0; violate[r][j] != -1; ++j) inv |= (violate[r][j] == l);\n\t\t\t\t\n\t\t\t\tif (inv) {\n\t\t\t\t\tif (flag[b]) L[b] = r;\n\t\t\t\t\telse R[b] = l;\n\t\t\t\t\t++cnt[b];\n\t\t\t\t} else {\n\t\t\t\t\tR[b] = r;\n\t\t\t\t\tL[b] = l;\n\t\t\t\t\tflag[b] = !flag[b];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(cnt[0], cnt[1]) << endl;\n\t\t*/\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<cstring>\nusing namespace std;\n\nbool correct(int other, int next, int turn){\n  if(turn == 1){\n    return other > next;\n  }else{\n    return other < next;\n  }\n    \n}\n\nint main(int argc, char *argv[]){\n  string s;\n\n  while(cin >> s){\n    if(s == \"#\")break;\n    int foot[2];//left, right\n    bool turn = 0;// 0 is left, 1 is right\n    int violate = 0;\n    int Min = 1e8;\n    //left start\n    for (int t = 0; t < 2; t++) {\n      foot[0] = 0;\n      foot[1] = 2;\n      turn = t;\n      violate = 0;\n      for (int i = 0; i < s.length(); i++) {\n        //correct left foot motion\n        char tmp = s[i];\n        int next = atoi(&tmp) - 1;\n        if(correct(foot[(turn + 1)&1]%3, next%3, turn)){\n          violate++;\n          turn = !turn;\n        }\n        //std::cout << violate << std::endl;\n        foot[turn&1] = next;\n        //std::cout << \"left:\" << next_foot[0] << std::endl;\n        turn = !turn;\n      }\n      Min = min(Min, violate);\n    }\n    std::cout << Min << std::endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstring>\n#include<vector>\n#include<set>\nusing namespace std;\ntypedef vector<int> vi;\n\nint dance(string s,int foot)\n{\n  int pannelonfoot[]={0,2};\n  int cnt=0;\n  for(int i=0;i<s.size();i++)\n  {\n    int pannel=((int)(s[i]-'0')-1)%3;\n    if(foot==0)\n    {\n      if(pannelonfoot[1]<pannel)\n      {\n        cnt++;\n        pannelonfoot[1]=pannel;\n      }\n      else\n      {\n        pannelonfoot[0]=pannel;\n        foot=(foot+1)%2;\n      }\n    }\n    else\n    {\n      if(pannel<pannelonfoot[0])\n      {\n        cnt++;\n        pannelonfoot[0]=pannel;\n      }\n      else\n      {\n        pannelonfoot[1]=pannel;\n        foot=(foot+1)%2;\n      }\n    }\n  }\n  return cnt;\n}\n\nint main()\n{\n  while(1)\n  {\n    string s;\n    cin >> s;\n    if(s==\"#\") break;\n    cout << min(dance(s,0),dance(s,1)) << endl;\n  }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<list>\n#include<map>\n#include<queue>\n#include<set>\n#include<stack>\n#include<vector>\n#include<algorithm>\n#include<string>\n#include<iostream>\n#include<sstream>\n#include<cmath>\n#include<cstdlib>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint main(){\n  int i,j;\n  string s;\n  while(cin>>s,s[0]!='#'){\n    int lx=-1,ly=0,rx=3,ry=0;\n    int a=0,b=0;\n    int ln=s.length();\n    j=0;\n    for(i=0;i<ln;i++){\n      if((i+j)%2){\n\tif(0){\n\t}else if(rx==(s[i]-'1')%3&&ry==(s[i]-'1')/3){\n\t  a++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3>rx){\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t  a++;\n\t  j=(j+1)%2;\n\t}else{\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t}\n      }else{\n\tif(0){\n\t}else if(lx==(s[i]-'1')%3&&ly==(s[i]-'1')/3){\n\t  a++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3<lx){\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t  a++;\n\t  j=(j+1)%2;\n\t}else{\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t}\n      }\n    }\n    j=0;\n    for(i=0;i<ln;i++){\n      if((i+j)%2){\n\tif(0){\n\t}else if(lx==(s[i]-'1')%3&&ly==(s[i]-'1')/3){\n\t  b++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3<lx){\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t  b++;\n\t  j=(j+1)%2;\n\t}else{\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t}\n      }else{\n\tif(0){\n\t}else if(rx==(s[i]-'1')%3&&ry==(s[i]-'1')/3){\n\t  b++;\n\t  j=(j+1)%2;\n\t}else if((s[i]-'1')%3>rx){\n\t  rx=(s[i]-'1')%3;\n\t  ry=(s[i]-'1')/3;\n\t  b++;\n\t  j=(j+1)%2;\n\t}else{\n\t  lx=(s[i]-'1')%3;\n\t  ly=(s[i]-'1')/3;\n\t}\n      }\n    }\n    cout<<min(a,b)<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint main(){\n  int d[10]={0,0,1,2,0,-1,2,0,1,2},cnt,ans,c;\n  string s;\n  while(1){\n    cin>>s;\n    if(s==\"#\") break;\n    ans=(1e9);\n    for(int i=0;i<2;i++){\n      c=i;\n      cnt=0;\n      for(int j=1;j<s.size();j++){\n\tint k=s[j-1]-'0',t=s[j]-'0';\n\tif((!c&&d[k]>d[t])||(c&&d[k]<d[t])) cnt++;\n\telse c=!c;\n      }\n      ans=min(ans,cnt);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//#pragma comment(linker,\"/STACK:102400000,102400000\")\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<cstdlib>\n#include<queue>\n#include<stack>\n#include<climits>\n#include<set>\n#include<map>\n#include<vector>\n#include<algorithm>\n#define sf scanf\n#define pf printf\n#define cls(a) memset(a,0,sizeof a)\n#define _cls(a) memset(a,-1,sizeof a)\n\nusing namespace std;\ntypedef long long LL;\n\nstring str;\nint org[100100];\n\nint ok(int now){\n\tint i,cnt=0;\n\tnow^=1;\n\tfor(i=0;i<str.size()-1;++i){\n\t\tnow^=1;\n\t\tif(str[i]==str[i+1]) {now^=1;cnt++;continue;}\n\t\tif(str[i]=='1'){\n\t\t\tif(!now)\n\t\t\t\tcontinue;\n\t\t\tif(str[i+1]!='4' && str[i+1]!='7') cnt++,now^=1;\n\t\t}else if(str[i]=='2'){\n\t\t\tif(now){//right\n\t\t\t\tif(str[i+1]=='3' || str[i+1]=='6' || str[i+1]=='9') cnt++,now^=1;\n\t\t\t}else{\n\t\t\t\tif(str[i+1]=='1' || str[i+1]=='4' || str[i+1]=='7') cnt++,now^=1;\n\t\t\t}\n\t\t}else if(str[i]=='3'){\n\t\t\tif(now) continue;\n\t\t\tif(str[i+1]!='6' && str[i+1]!='9') cnt++,now^=1;\n\t\t}else if(str[i]=='4'){\n\t\t\tif(!now) continue;\n\t\t\tif(str[i+1]!='1' && str[i+1]!='7') cnt++,now^=1;\n\t\t}else if(str[i]=='6'){\n\t\t\tif(now) continue;\n\t\t\tif(str[i+1]!='3' && str[i+1]!='9') cnt++,now^=1;\n\t\t}else if(str[i]=='7'){\n\t\t\tif(!now) continue;\n\t\t\tif(str[i+1]!='1' && str[i+1]!='4') cnt++,now^=1;\n\t\t}else if(str[i]=='8'){\n\t\t\tif(now){//right\n\t\t\t\tif(str[i+1]=='3' || str[i+1]=='6' || str[i+1]=='9') cnt++,now^=1;\n\t\t\t}else{\n\t\t\t\tif(str[i+1]=='1' || str[i+1]=='4' || str[i+1]=='7') cnt++,now^=1;\n\t\t\t}\n\t\t}else if(str[i]=='9'){\n\t\t\tif(now) continue;\n\t\t\tif(str[i+1]!='3' && str[i+1]!='6') cnt++,now^=1;\n\t\t}\n\t}\n\treturn cnt;\n}\n\nint main(){\n\tint i,cnt,j;\n\twhile(cin>>str,str!=\"#\"){\n\t\tint ret=ok(1);\n\t\tint res=ok(0);\n\t\tpf(\"%d\\n\",min(ret,res));\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\nint n;\nstring s;\n\ninline bool nat(int l, int r)\n{\n    if(l==0 || r==0) return true;\n\n    if(l%3==1) return true;\n    else if(l%3==2)\n    {\n        if(r%3==1) return false;\n        else return true;\n    }\n    else\n    {\n        if(r%3==0) return true;\n        else return false;\n    }\n}\n\nint dp[100001][10][10][2];\nint dfs(int now, int l, int r, int last)\n{\n    if(dp[now][l][r][last]>=0) return dp[now][l][r][last];\n\n    if(now==n) return 0;\n\n    int ret=n;\n    if(last==0)\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r,0)+1);\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0',1));\n    }\n    else\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r,0));\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0',1)+1);\n    }\n\n    return dp[now][l][r][last]=ret;;\n}\n\nint main()\n{\n    while(cin >>s,(s!=\"#\"))\n    {\n        n=s.size();\n        memset(dp,-1,sizeof(dp));\n        printf(\"%d\\n\",min(dfs(1,s[0]-'0',0,0),dfs(1,0,s[0]-'0',1)));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\nusing namespace std;\n\n#define rep(i,a,n) for(int (i)=(a); (i)<(n); (i)++)\n#define repq(i,a,n) for(int (i)=(a); (i)<=(n); (i)++)\n#define repr(i,a,n) for(int (i)=(a); (i)>=(n); (i)--)\n#define all(v) begin(v), end(v)\n#define pb(a) push_back(a)\n#define fr first\n#define sc second\n#define INF 2000000000\n#define int long long int\n\n#define X real()\n#define Y imag()\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) ( EQ((a).X, (b).X) && EQ((a).Y, (b).Y) )\n#define LE(n, m) ((n) < (m) + EPS)\n#define LEQ(n, m) ((n) <= (m) + EPS)\n#define GE(n, m) ((n) + EPS > (m))\n#define GEQ(n, m) ((n) + EPS >= (m))\n\ntypedef vector<int> VI;\ntypedef vector<VI> MAT;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\ntypedef complex<double> P;\ntypedef pair<P, P> L;\ntypedef pair<P, double> C;\n\nint dx[]={1, -1, 0, 0};\nint dy[]={0, 0, 1, -1};\nint const MOD = 1000000007;\nll mod_pow(ll x, ll n) {return (!n)?1:(mod_pow((x*x)%MOD,n/2)*((n&1)?x:1))%MOD;}\nint madd(int a, int b) {return (a + b) % MOD;}\nint msub(int a, int b) {return (a - b + MOD) % MOD;}\nint mmul(int a, int b) {return (a * b) % MOD;}\nint minv(int a) {return mod_pow(a, MOD-2);}\nint mdiv(int a, int b) {return mmul(a, minv(b));}\n\nnamespace std {\n    bool operator<(const P& a, const P& b) {\n        return a.X != b.X ? a.X < b.X : a.Y < b.Y;\n    }\n}\n\nstring vs[] = {\"147\", \"28\", \"369\"};\nint state, foot;\nconst int LEFT = 0;\nconst int MID = 1;\nconst int RIGHT = 2;\n\nconst int LFOOT = 0;\nconst int RFOOT = 1;\n\nint calc(string s, int init) {\n    int state = -1, foot = init, ret = 0, temp = 0;\n    rep(turn,0,s.length()) {\n        rep(i,0,3) if(vs[i].find(s[turn]) != string::npos) temp = i;\n        bool changed = false;\n        if(state != -1) {\n            if(foot == LFOOT && state > temp) ret++, changed = true;\n            if(foot == RFOOT && state < temp) ret++, changed = true;\n        }\n        state = temp;\n        if(!changed) foot ^= 1;\n    }\n    return ret;\n}\n\nsigned main() {\n    string s;\n    while(cin >> s, s != \"#\") {\n        int c1 = calc(s, 0);\n        int c2 = calc(s, 1);\n        cout << min(c1, c2) << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(void){\n  char step[1000010];\n\n  while(1) {\n    cin >> step;\n    if(step[0] == '#') break;\n    int counter = 0;\n    int state;\n\n    if(step[0] == '1' || step[0] == '4' || step[0] == '7') state = 6;\n    else if(step[0] == '2' || step[0] == '8') state = 7;\n    else state = 8;\n    \n    int i;\n    \n    for(i = 1; step[i] != '\\0'; i++){\n\n      if(state == 6){\n        if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 3;\n          continue;\n        }else{\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 7){\n        if(step[i] == '2' || step[i] == '8'){\n          continue;\n        }else if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          state = 0;\n          continue;\n        }else{\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 8){\n        if(step[i] == '9' || step[i] == '6' || step[i] == '3'){\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 2;\n          continue;\n        }else{\n          state = 0;\n          continue;\n        }\n      }\n      \n\n      if(state == 0){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 3;\n          continue;\n        }else{\n          state = 1;\n          continue;\n        }\n      }\n\n      if(state == 1){\n        if(step[i] == '4' || step[i] == '7'|| step[i] == '1'){\n          state = 0;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          counter++;\n          state = 3;\n          continue;\n        }else{\n          counter++;\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 2){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '2' || step[i] == '8'){\n          state = 3;\n          continue;\n        }else{\n          counter++;\n          state = 0;\n          continue;\n        }\n      }\n\n      if(state == 3){\n        if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          state = 0;\n          continue;\n        }else if(step[i] == '2' || step[i] == '8'){\n          state = 2;\n          continue;\n        }else{\n          counter++;\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 4){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          counter++;\n          state = 2;\n          continue;\n        }else{\n          counter++;\n          state = 0;\n          continue;\n        }\n      }\n\n      if(state == 5){\n        if(step[i] == '6' || step[i] == '3' || step[i] == '9'){\n          state = 4;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 2;\n          continue;\n        }else{\n          state = 0;\n          continue;\n        }\n      }\n    }\n\n    cout << counter << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdlib>\n#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, const T& b) { if(b < a) a = b; }\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tconst int INF = 0xffffff;\n\n\tint pos[256];\n\tpos['1'] = pos['4'] = pos['7'] = 0;\n\tpos['2'] = pos['8'] = 1;\n\tpos['3'] = pos['6'] = pos['9'] = 2;\n\n\tfor(string arrows; cin >> arrows, arrows != \"#\";) {\n\t\tvector<vector<vector<int> > > dp(3, vector<vector<int> >(3, vector<int>(2, INF)));\n\t\tdp[1][1][false] = dp[1][1][true] = 0;\n\n\t\tfor(int i = 0; i < (int)arrows.size(); ++i) {\n\t\t\tvector<vector<vector<int> > > tmp(3, vector<vector<int> >(3, vector<int>(2, INF)));\n\t\t\tconst int next_pos = pos[arrows[i]];\n\t\t\tfor(int rx = 0; rx < 3; ++rx) {\n\t\t\t\tfor(int lx = 0; lx < 3; ++lx) {\n\t\t\t\t\tfor(int p_left = 0; p_left < 2; ++p_left) {\n\t\t\t\t\t\tint add = (!p_left || next_pos < lx ? 1 : 0);\n\t\t\t\t\t\tchmin(tmp[next_pos][lx][false], dp[rx][lx][p_left] + add);\n\n\t\t\t\t\t\tadd = (p_left || rx < next_pos ? 1 : 0);\n\t\t\t\t\t\tchmin(tmp[rx][next_pos][true], dp[rx][lx][p_left] + add);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp.swap(tmp);\n\t\t}\n\n\t\tint ans = INF;\n\t\tfor(int rx = 0; rx < 3; ++rx)\n\t\t\tfor(int lx = 0; lx < 3; ++lx)\n\t\t\t\tfor(int p_left = 0; p_left < 2; ++p_left)\n\t\t\t\t\tchmin(ans, dp[rx][lx][p_left]);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <cmath>\n#include <string>\n#include <cctype>\n#include <vector>\n#include <cstdio>\n#include <climits>\n#include <cstdlib>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long LL;\n\nconst int N = 100007;\nconst int INF = 0x3f3f3f3f;\n\nchar str[N];\n\nbool ok(int l, int r)\n{\n    int a = l % 3;\n    int b = r % 3;\n    if (a == 0)\n    {\n        a = 3;\n    }\n    if (b == 0)\n    {\n        b = 3;\n    }\n    return a <= b;\n}\n\nint main()\n{\n    while (scanf(\"%s\", str))\n    {\n        if (str[0] == '#')\n        {\n            break;\n        }\n        int ans = INF;\n        for (int l = 1; l <= 9; l++)\n        {\n            if (l == 5)\n            {\n                continue;\n            }\n            for (int r=1;r<=9;r++)\n            {\n                if (r ==5||l==r|| !ok(l, r) || l == str[0] - '0' || r == str[0] - '0')\n                {\n                    continue;\n                }\n                for (int d = 0; d < 2; d++)\n                {\n                    int nowl = l;\n                    int nowr = r;\n                    int nowd = d;\n                    int nowans = 0;\n                    for (int i = 0; str[i]; i++)\n                    {\n                        int di = str[i] - '0';\n                        if (nowd == 0)\n                        {\n                            if (ok(di, nowr))\n                            {\n                                nowd = 1;\n                                nowl = di;\n                            }\n                            else\n                            {\n                                nowr = di;\n                                nowans++;\n                            }\n                        }\n                        else\n                        {\n                            if (ok(nowl, di))\n                            {\n                                nowd = 0;\n                                nowr = di;\n                            }\n                            else\n                            {\n                                nowl = di;\n                                nowans++;\n                            }\n                        }\n                    }\n                    ans = min(ans, nowans);\n                }\n            }\n        }\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n\nchar dancestep[100010];\n\nint dp[100010][10][2];\n/****************\n *0,when the last step is left; 1 is right\n ****************/\n\nint main()\n{\n    while (scanf(\"%s\",dancestep+1)==1)\n    {\n        if (dancestep[1]=='#')\n            break;\n        dancestep[0]='5';\n        // printf(\"%s\",dancestep);\n        int n=strlen(dancestep)-1;\n        memset(dp, -1, sizeof(dp));\n\n        int next=dancestep[1]-'0';\n        for (int left=1; left<=9; left++)\n            if(left!=5&&(left-1)%3+1<=(next-1)%3+1)\n                dp[1][left][1]=0;\n        for (int right=1; right<=9; right++)\n            if(right!=5&&(next-1)%3+1<=(right-1)%3+1)\n                dp[1][right][0]=0;\n\n        for (int i=1; i<n; i++)\n        {\n            int left,right;\n            int next=dancestep[i+1]-'0';\n\n            left=dancestep[i]-'0';\n            for (right=1; right<=9; right++)\n                if (dp[i][right][0]>=0)\n                {\n                    // if (left!=next)\n                    if ((left-1)%3+1<=(next-1)%3+1)\n                        if (dp[i+1][left][1]==-1||dp[i+1][left][1]>dp[i][right][0])\n                            dp[i+1][left][1]=dp[i][right][0];\n                    //   if (next!=right)\n                    if ((next-1)%3+1<=(right-1)%3+1)\n                        if (dp[i+1][right][0]==-1||dp[i+1][right][0]>dp[i][right][0]+1)\n                            dp[i+1][right][0]=dp[i][right][0]+1;\n                }\n\n            right=dancestep[i]-'0';\n            for (left=1; left<=9; left++)\n                if (dp[i][left][1]>=0)\n                {\n                    //  if (next!=right)\n                    if ((next-1)%3+1<=(right-1)%3+1)\n                        if (dp[i+1][right][0]==-1||dp[i+1][right][0]>dp[i][left][1])\n                            dp[i+1][right][0]=dp[i][left][1];\n                    //    if (left!=next)\n                    if ((left-1)%3+1<=(next-1)%3+1)\n                        if (dp[i+1][left][1]==-1||dp[i+1][left][1]>dp[i][left][1]+1)\n                            dp[i+1][left][1]=dp[i][left][1]+1;\n                }\n        }\n        int ans=-1;\n        for (int i=1; i<=9; i++)\n        {\n            if (dp[n][i][0]>=0)\n                if (ans==-1||ans>dp[n][i][0])\n                    ans=dp[n][i][0];\n            if (dp[n][i][1]>=0)\n                if (ans==-1||ans>dp[n][i][1])\n                    ans=dp[n][i][1];\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nstring str;\n\nbool is_left(int a) {\n    if(a==1) return true;\n    if(a==4) return true;\n    if(a==7) return true;\n    return false;\n}\nbool is_center(int a) {\n    if(a==8) return true;\n    if(a==2) return true;\n    return false;\n}\nbool is_right(int a) {\n    if(a==3) return true;\n    if(a==6) return true;\n    if(a==9) return true;\n    return false;\n}\n\nbool ok(int l,int r) {\n    if(is_left(l)) return true;\n    if(is_right(r)) return true;\n    if(is_right(r) && is_right(l)) return true;\n    if(is_left(r) && is_left(l)) return true;\n    if(is_center(r) && is_center(l)) return true;\n    if(is_center(l) && is_right(r)) return true;\n    if(is_center(r) && is_left(l)) return true;\n    // cout<<\"ok : \"<<l<<\",\"<<r<<endl;\n    return false;\n\n}\n\nint solve1(int a) {\n    int ans = 0;\n    int r,l;\n    r=l=0;\n    rep(i,str.size()) {\n        int step = str[i] - '0';\n        if(i==0) {\n            if(a==1) l=step;\n            else r=step;\n            a^=1;\n            continue;\n        }\n        if(a==1) {\n            if(ok(step,r)) {\n                l=step;\n                a^=1;\n            }\n            else {\n                r=step;\n                ans++;\n            }\n        }\n        else {\n            if(ok(l,step)) {\n                r = step;\n                a^=1;\n            }\n            else {\n                l=step;\n                ans++;\n            }\n        }\n    }\n    // cout<<\"ans = \"<<ans<<endl;\n    return ans;\n\n}\n\nvoid solve() {\n    int l = str[0]-'0';\n    int r = str[1]-'0';\n    int ans = min(solve1(0),solve1(1));\n    cout<<ans<<endl;\n}\n\nint main() {\n    // cout<<ok(4,2)<<endl;\n    // cout<<ok(7,1)<<endl;\n    // cout<<ok(6,2)<<endl;\n    while(cin>>str) {\n        if(str==\"#\") break;\n        solve();\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n\nusing namespace std;\n\n#define max 100000\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\tint dp[max][2][9][9];\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < max; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[0][1][j][arrow] = 0;\n\t\t\t\tdp[0][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][0][j][k] + 1, dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][1][j][k] + 1, dp[i][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][1][j][k], dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][0][j][k], dp[i][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n\t\tfor(int l = 0; l < str.length(); l++) {\n \t\t\tfor(int i = 0; i < 2; i++) \n\t\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\t\tif( dp[l][i][j][k] < 1 << 30 ) {\n\t//\t\t\t\t\t\tcout << dp[l][i][j][k] << \" \" << l <<  \" \" << i << \" \" << j << \" \" << k << endl;\n\t\t\t\t\t\t\tif(min > dp[str.length()-1][i][j][k] ) min = dp[str.length()-1][i][j][k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << \"+++++\" << endl;\n\t\t}\n\n\n\t//\t\t\t\t\t\n\t//\tcout<< \"***\" << endl;\n\t\tcout << min << endl;\n\n\n\t}\n\n\n\t//while(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=(a);i<(b);++i)\ntemplate< typename T > void minUpdate(T& a, T b) { a = min(a, b); }\n\nint violate[10][6] = {\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\t\n};\n\nint dp[2][2][10][10];\n\nbool check(int L, int R) {\n\tfor (int j=0; violate[R][j] != -1; ++j) if (violate[R][j] == L) return false;\n\treturn true;\n}\n\nint main() {\n\tstring S;\n\t\n\twhile (cin >> S, S != \"#\") {\n\t\tint m = S.size();\n\t\t\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) dp[0][b][L][R] = 1L << 30;\n\t\tdp[0][0][0][S[0] - '0'] = 0;\n\t\tdp[0][1][S[0] - '0'][0] = 0;\n\t\t\n\t\tfor_(i,1,m) {\n\t\t\tint nLR = S[i] - '0';\n\t\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) dp[1][b][L][R] = 1L << 30;\n\t\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) {\n\t\t\t\tif (dp[0][b][L][R] == 1L << 30) continue;\n\t\t\t\tif (check(nLR, R)) minUpdate(dp[1][1][nLR][R], dp[0][b][L][R] + (b ? 1 : 0));\n\t\t\t\tif (check(L, nLR)) minUpdate(dp[1][0][R][nLR], dp[0][b][L][R] + (b ? 0 : 1));\n\t\t\t}\n\t\t\tswap(dp[0], dp[1]);\n\t\t}\n\t\t\n\t\tint ans = 1L << 30;\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) minUpdate(ans, dp[0][b][L][R]);\n\t\tcout << ans << endl;\n\t\t/*\n\t\tint L[2] = {0, 0}, R[2] = {0, 0}, cnt[2] = {0, 0};\n\t\tbool flag[2] = {false, true};\n\t\t\n\t\tfor_(i,0,m) {\n\t\t\tfor_(b,0,2) {\n\t\t\t\tint r = (flag[b] ? S[i] - '0' : R[b]), l = (flag[b] ? L[b] : S[i] - '0');\n\t\t\t\tbool inv = false;\n\t\t\t\tfor (int j=0; violate[r][j] != -1; ++j) inv |= (violate[r][j] == l);\n\t\t\t\t\n\t\t\t\tif (inv) {\n\t\t\t\t\tif (flag[b]) L[b] = r;\n\t\t\t\t\telse R[b] = l;\n\t\t\t\t\t++cnt[b];\n\t\t\t\t} else {\n\t\t\t\t\tR[b] = r;\n\t\t\t\t\tL[b] = l;\n\t\t\t\t\tflag[b] = !flag[b];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(cnt[0], cnt[1]) << endl;\n\t\t*/\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n  map<int,int>m;\n  m[1]=m[4]=m[7]=0;\n  m[2]=m[8]=1;\n  m[3]=m[6]=m[9]=2;\n  string s;\n  while(cin>>s,s!=\"#\"){\n    int p1=0,p2=0,l,r;\n    l=m[s[0]-'0'];\n    r=m[s[1]-'0'];\n    if(r<l)p1++,swap(r,l);\n    for(int i=2,p=0;i<s.size();i++,p++){\n      if(p%2){\n        int t=r;\n        r=m[s[i]-'0'];\n        if(r<l)p1++,l=r,r=t,p--;\n      }\n      else{\n        int t=l;\n        l=m[s[i]-'0'];\n        if(r<l)p1++,r=l,l=t,p++;\n      }\n    }\n    r=m[s[0]-'0'];\n    l=m[s[1]-'0'];\n    if(r<l)p2++,swap(r,l);\n    for(int i=2,p=0;i<s.size();i++,p++){\n      if(p%2){\n        int t=l;\n        l=m[s[i]-'0'];\n        if(r<l)p2++,r=l,l=t,p--;\n      }\n      else{\n        int t=r;\n        r=m[s[i]-'0'];\n        if(r<l)p2++,l=r,r=t,p--;\n      }\n    }\n    cout<<min(p1,p2)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include<stdlib.h>\n#include<algorithm>\nusing namespace std;\n\nconst int maxn = 100010;\n\nchar step[maxn];\nint ans[maxn];\nint sum1 , sum2;\n\nint main(){\n\n    while(~scanf(\"%s\" , step)){\n        if(step[0] == '#'){\n            break;\n        }\n        sum1 = 0;\n        sum2 = 0;\n        for(int i = 0 ; step[i] ; i ++){\n            if(step[i] == '4' || step[i] == '7') step[i] = '1';\n            if(step[i] == '8') step[i] == '2';\n            if(step[i] == '6' || step[i] == '9') step[i] = '3';\n        }\n\n        ans[0] = 0;\n        for(int i = 1 ; step[i] ; i ++){\n            if(step[i] - step[i - 1] > 0){\n                ans[i] = 1;\n            }\n            else if(step[i] - step[i - 1] == 0){\n                ans[i] = 1 - ans[i - 1];\n            }\n            else{\n                ans[i] = 0;\n            }\n        }\n\n        for(int i = 1 ; step[i] ; i ++){\n            if(ans[i] == ans[i - 1]) sum1 ++;\n        }\n        memset(ans , 0 , sizeof(ans));\n        ans[0] = 1;\n        for(int i = 1 ; step[i] ; i ++){\n            if(step[i] - step[i - 1] > 0){\n                ans[i] = 1;\n            }\n            else if(step[i] - step[i - 1] == 0){\n                ans[i] = 1 - ans[i - 1];\n            }\n            else{\n                ans[i] = 0;\n            }\n        }\n\n        for(int i = 1 ; step[i] ; i ++){\n            if(ans[i] == ans[i - 1]) sum2 ++;\n        }\n\n        printf(\"%d\\n\" , min(sum1 , sum2));\n\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <string>\n#include <iostream>\nusing namespace std;\nint main(){\n\tstring s;\n\tfor(;cin>>s,s!=\"#\";){\n\t\tint m[2]={0,0},n[2];\n\t\tfor(int i=1;i<s.size();i++){\n\t\t\tif((s[i]-'1')%3>(s[i-1]-'1')%3){\n\t\t\t\tn[0]=min(m[0]+1,m[1]);\n\t\t\t\tn[1]=1<<30;\n\t\t\t}else if((s[i]-'1')%3<(s[i-1]-'1')%3){\n\t\t\t\tn[0]=1<<30;\n\t\t\t\tn[1]=min(m[0],m[1]+1);\n\t\t\t}else{\n\t\t\t\tn[0]=m[1];\n\t\t\t\tn[1]=m[0];\n\t\t\t}\n\t\t\tm[0]=n[0],m[1]=n[1];\n\t\t}\n\t\tcout<<min(m[0],m[1])<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        string s;\n        cin >> s;\n        if(s == \"#\")\n            return 0;\n\n        int n = s.size();\n        int ret[2] = {0};\n        for(int i=0; i<2; ++i){\n            bool left = i % 2;\n            for(int j=1; j<n; ++j){\n                int a = (s[j-1] - '1') % 3;\n                int b = (s[j] - '1') % 3;\n                if(left){\n                    if(b < a)\n                        ++ ret[i];\n                    else\n                        left = false;\n                }else{\n                    if(b > a)\n                        ++ ret[i];\n                    else\n                        left = true;\n                }\n            }\n        }\n\n        cout << min(ret[0], ret[1]) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\nint n;\nstring s;\n\ninline bool nat(int l, int r)\n{\n    if(l==0 || r==0) return true;\n\n    if(l%3==1) return true;\n    else if(l%3==2)\n    {\n        if(r%3==1) return false;\n        else return true;\n    }\n    else\n    {\n        if(r%3==0) return true;\n        else return false;\n    }\n}\n\nint dp[100001][10][10];\nint dfs(int now, int l, int r)\n{\n    if(dp[now][l][r]>=0) return dp[now][l][r];\n\n    if(now==n) return 0;\n\n    int ret=n;\n    if(s[now-1]-'0'==l)\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r)+1);\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0'));\n    }\n    if(s[now-1]-'0'==r)\n    {\n        //????????????????¶?\n\n        //?¬????????¶?\n        if(nat(s[now]-'0',r)) ret=min(ret,dfs(now+1,s[now]-'0',r));\n        //?¬????????¶?\n        if(nat(l,s[now]-'0')) ret=min(ret,dfs(now+1,l,s[now]-'0')+1);\n    }\n\n    return dp[now][l][r]=ret;;\n}\n\nint main()\n{\n    while(cin >>s,(s!=\"#\"))\n    {\n        n=s.size();\n        memset(dp,-1,sizeof(dp));\n        printf(\"%d\\n\",min(dfs(1,s[0]-'0',0),dfs(1,0,s[0]-'0')));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1e+8;\nstring s;\nint ans;\n\n// k := テ」ツつケテ」ツδ?」ツδε」ツδ療ヲツ閉ー, foot := ティツカツウテ」ツ?ョテ、ツスツ催ァツスツョ, t := 0 テ」ツ?ョテ」ツ?ィテ」ツ?催」ツ?ッテ・ツ渉ウティツカツウテ」ツつ?1テ」ツ?ョテ」ツ?ィテ」ツ?催」ツ?ッテ・ツキツヲティツカツウテ」ツつ津・ツ仰陛」ツ?凝」ツ?? cnt := ティツァツ」\nvoid solve(int k, int foot, int t, int cnt){\n    if( k == s.size() ){\n        ans = min(ans, cnt);\n        return;\n    }\n    \n    if( t == 0 ){ // テ・ツ渉ウティツカツウテ」ツつ津・ツ仰陛」ツ?凝」ツ??\n        int ly = ((foot - 1) % 3) + 1;\n        int next = s[k] - '0';\n        int ry = ((next - 1) % 3) + 1;\n        \n        if( ly <= ry ){ // テ・ツ仰陛」ツ?凝」ツ?崚」ツつ凝」ツ?ィテ」ツ??\n            solve(k + 1, next, (t + 1) % 2, cnt);\n        }else{ // テ・ツ仰陛」ツ?凝」ツ?崚」ツ?ェテ」ツ??」ツ?ィテ」ツ??\n            solve(k + 1, next, t, cnt + 1);\n        }\n    }else{ // テ・ツキツヲティツカツウテ」ツつ津・ツ仰陛」ツ?凝」ツ??\n        int ry = ((foot - 1) % 3) + 1;\n        int next = s[k] - '0';\n        int ly = ((next - 1) % 3) + 1; \n        \n        if( ly <= ry ){ // テ・ツ仰陛」ツ?凝」ツ?崚」ツつ凝」ツ?ィテ」ツ??\n            solve(k + 1, next, (t + 1) % 2, cnt);\n        }else{ // テ・ツ仰陛」ツ?凝」ツ?崚」ツ?ェテ」ツ??」ツ?ィテ」ツ??\n            solve(k + 1, next, t, cnt + 1);\n        }\n    }\n}\n\nint main(){\n    while( cin >> s, s != \"#\" ){\n        ans = INF;\n        for(int i = 1 ; i <= 9 ; i++ ){\n            if( i == 5 ) continue;\n            solve(0, i, 0, 0);\n            solve(0, i, 1, 0);\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint now[3][3][2],nex[3][3][2];\nmain()\n{\n\tstring s;\n\twhile(cin>>s,s!=\"#\")\n\t{\n\t\tvector<int>a;\n\t\tfor(int i=0;i<s.size();i++)a.push_back((s[i]-'1')%3);\n\t\tfor(int i=0;i<3;i++)for(int j=0;j<3;j++)for(int k=0;k<2;k++)now[i][j][k]=1e9;\n\t\tnow[a[0]][2][0]=now[0][a[0]][1]=0;\n\t\tfor(int i=1;i<s.size();i++)\n\t\t{\n\t\t\tfor(int j=0;j<3;j++)for(int k=0;k<3;k++)for(int l=0;l<2;l++)nex[j][k][l]=1e9;\n\t\t\tfor(int j=0;j<3;j++)for(int k=0;k<3;k++)\n\t\t\t{\n\t\t\t\tif(now[j][k][0]<1e9)\n\t\t\t\t{\n\t\t\t\t\tif(a[i]<=k)nex[a[i]][k][0]=min(nex[a[i]][k][0],now[j][k][0]+1);\n\t\t\t\t\tif(j<=a[i])nex[j][a[i]][1]=min(nex[j][a[i]][1],now[j][k][0]);\n\t\t\t\t}\n\t\t\t\tif(now[j][k][1]<1e9)\n\t\t\t\t{\n\t\t\t\t\tif(a[i]<=k)nex[a[i]][k][0]=min(nex[a[i]][k][0],now[j][k][1]);\n\t\t\t\t\tif(j<=a[i])nex[j][a[i]][1]=min(nex[j][a[i]][1],now[j][k][1]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tswap(now,nex);\n\t\t}\n\t\tint ans=1e9;\n\t\tfor(int i=0;i<3;i++)for(int j=0;j<3;j++)for(int k=0;k<2;k++)ans=min(ans,now[i][j][k]);\n\t\tcout<<ans<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<iomanip>\n#include<cstring>\n#include<cmath>\n#include<set>\n#include<map>\n#include<queue>\n#include<stack>\n#include<string>\n#include<vector>\n#include<ctype.h>\n#include<algorithm>\nusing namespace std;\ntypedef long long LL;\n#define PB push_back\n#define lson l,mid,rt<<1\n#define rson mid+1,r,rt<<1 | 1\n//cout <<setiosflags(ios::fixed) << setprecision(6) << ans << endl;\n/*STL::nth()*/\n\n\nchar str[110000];\nint move[110000];\nint len;\n\nint work()\n{\n\tint ans = 0,i;\n\tint t1;\n\tint t2 = (str[0] - '0' - 1) % 3 + 1;\n\tint t3 = (str[1] - '0' - 1) % 3 + 1;\n\tfor(i=2;i<len;i++)\n\t{\n\t\tt1 = t2;\n\t\tt2 = t3;\n\t\tt3 = (str[i] - '0' - 1) % 3 + 1;\n\t\tif(t1 == 1 && t2 != 3 && t3 == 3)\n\t\t{\n\t\t\tans++;\n\t\t}\n\t\telse if(t1 == 3 && t2 != 1 && t3 == 1)\n\t\t\tans++;\n\t\telse if(t1 == t2 && t2 != t3)\n\t\t\tans++;\n\t}\n\treturn ans;\n}\nint main()\n{\n\n\twhile(~scanf(\"%s\",str))\n\t{\n\t\tif(str[0] == '#')\n\t\t\tbreak;\n\t\tmemset(move,0,sizeof(move));\n\t\tlen = strlen(str);\n\t\tif(len < 3)\n\t\t\tputs(\"0\");\n\t\telse\n\t\t{\n\t\t\t/*if((str[0]- '0') %3 == 1)\n\t\t\t{\n\t\t\t\tmove[0] = 1;\n\t\t\t\tmove[1] = (str[1] - '0' - 1) % 3 + 1;\n\t\t\t\tprintf(\"%d\\n\",work());\n\t\t\t}\n\t\t\telse if((str[0]- '0') % 3 == 3)\n\t\t\t{\n\t\t\t\tmove[0] = 3;\n\t\t\t\tmove[1] = (str[1] - '0' - 1) % 3 + 1;\n\t\t\t\tprintf(\"%d\\n\",work());\n\t\t\t}\n\t\t\telse if((str[0]- '0') % 3 == 2)\n\t\t\t{\n\t\t\t\tprintf(\"%d\\n\",work());\n\t\t\t}*/\n\t\t\tprintf(\"%d\\n\",work());\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<ctime>\n#include<cctype>\n#include<climits>\n#include<iostream>\n#include<iomanip>\n#include<string>\n#include<vector>\n#include<map>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<memory>\n#include<functional>\n#include<set>\n#include<unordered_set>\n\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<ll> VL;\ntypedef vector<VL> VVL;\ntypedef pair<int, int> PII;\n\n#define FOR(i, a, n) for (ll i = (ll)a; i < (ll)n; ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define ALL(x) x.begin(), x.end()\n#define MP make_pair\n#define PB push_back\n#define MOD 1000000007\n#define INF (1LL<<30)\n#define LLINF (1LL<<60)\n#define PI 3.14159265359\n#define EPS 1e-12\n//#define int ll\n\nsigned main(void)\n{\n\twhile(true) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tif(s == \"#\") break;\n\n\t\tint left = -1, right = -1, ret = 0, tmp = 0;\n\t\tbool isleft = false;\n\t\tleft = s[0] - '0' - 1;\n\t\tFOR(i, 1, s.size()) {\n\t\t\tif(isleft) {\n\t\t\t\t//?¬?????????????????????¨?????????????¶???????????????????\n\t\t\t\tif((s[i]-'0'-1)%3 > right%3) {\n\t\t\t\t\tright = s[i] - '0' - 1;\n\t\t\t\t\ttmp++;\n\t\t\t\t} else {\n\t\t\t\t\tleft = s[i] - '0' - 1;\n\t\t\t\t\tisleft = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif((s[i]-'0'-1)%3 < left%3) {\n\t\t\t\t\tleft = s[i] - '0' - 1;\n\t\t\t\t\ttmp++;\n\t\t\t\t} else {\n\t\t\t\t\tright = s[i] - '0' - 1;\n\t\t\t\t\tisleft = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tret = tmp;\n\t\ttmp = 0;\n\t\tisleft = true;\n\t\tright = s[0] - '0' - 1;\n\t\tFOR(i, 1, s.size()) {\n\t\t\tif(isleft) {\n\t\t\t\t//?¬?????????????????????¨?????????????¶???????????????????\n\t\t\t\tif((s[i]-'0'-1)%3 > right%3) {\n\t\t\t\t\tright = s[i] - '0' - 1;\n\t\t\t\t\ttmp++;\n\t\t\t\t} else {\n\t\t\t\t\tleft = s[i] - '0' - 1;\n\t\t\t\t\tisleft = false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif((s[i]-'0'-1)%3 < left%3) {\n\t\t\t\t\tleft = s[i] - '0' - 1;\n\t\t\t\t\ttmp++;\n\t\t\t\t} else {\n\t\t\t\t\tright = s[i] - '0' - 1;\n\t\t\t\t\tisleft = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(ret, tmp) << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint place(char num){\n  int x=num-'0';\n  if(x%3==0){\n    return 2;\n  }\n  if(x%3==1) return 0;\n  return 1;\n}\nint main(){\n  string cmd;\n  while(cin>>cmd,cmd!=\"#\"){\n    if(cmd.size()==1){\n      cout<<0<<endl;\n      continue;\n    }\n    const int INF=1e6;\n    vector<vector<int>> dp(cmd.size(),vector<int>(2,INF));\n    for(int j=0;j<2;j++) dp[0][j]=0;\n    string s=cmd;\n    for(int i=1;i<cmd.size();i++){\n      //dp[i][0]:lef pivot\n      if(place(s[i-1])<=place(s[i])){\n\tdp[i][0]=dp[i-1][1];\n\tdp[i][1]=dp[i-1][1]+1;\n      }\n\n      if(place(s[i-1])>=place(s[i])){\n\tdp[i][1]=min(dp[i-1][0],dp[i][1]);\n\tdp[i][0]=min(dp[i][0],dp[i-1][0]+1);\n      }\n\n    }\n    cout<<min(dp[cmd.size()-1][0],dp[cmd.size()-1][1])<<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n#define REP(i,n) for(int i=0;i<(n);i++)\n\nchar s[125252];\nint n;\nchar mx[256];\n\nint right(int l,int r);\nint left(int l, int r){\n  // hidari fumikomi\n  if(l==n-1)return 0;\n  int nxt = l+1;\n  if(mx[s[l]] > mx[s[nxt]]){\n    // step by left\n    return 1+left(nxt,r);\n  }else{\n    return right(l,nxt);\n  }\n}\nint right(int l, int r){\n  // migi fumikomi\n  if(r==n-1)return 0;\n  int nxt = r+1;\n  if(mx[s[nxt]] > mx[s[r]]){\n    // step by right\n    return 1+right(l,nxt);\n  }else{\n    return left(nxt,r);\n  }\n}\n\nint main(){\n  mx['1']=mx['4']=mx['7']=0;\n  mx['2']=mx['5']=mx['8']=1;\n  mx['3']=mx['6']=mx['9']=2;\n  while(true){\n    scanf(\"%s\",s);\n    if(s[0]=='#')break;\n    n = strlen(s);\n    int ans = min(left(0,-1),right(-1,0));\n    printf(\"%d\\n\",ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nconst int INF = 1000000;\nint dp[100000][3][3][2];\nint col[10] = {-1, 0, 1, 2, 0, -1, 2, 0, 1, 2};\n\nvoid init(int n) {\n    for (int i = 0; i < n; ++i) {\n        for (int j = 0; j < 3; ++j) {\n            for (int k = 0; k < 3; ++k) {\n                for (int l = 0; l < 2; ++l) { dp[i][j][k][l] = INF; }\n            }\n        }\n    }\n}\n\nint main() {\n    string seq;\n    while (cin >> seq) {\n        if (seq == \"#\") break;\n        int n = seq.size();\n        init(n);\n        int col_0 = col[seq[0] - '0'];\n        for (int le = 0; le < 3; ++le) {\n            for (int ri = le; ri < 3; ++ri) {\n                if (le == col_0) { dp[0][le][ri][0] = 0; }\n                if (ri == col_0) { dp[0][le][ri][1] = 0; }\n            }\n        }\n        for (int i = 0; i < n - 1; ++i) {\n            for (int le = 0; le < 3; ++le) {\n                for (int ri = le; ri < 3; ++ri) {\n                    int nxt = col[seq[i + 1] - '0'];\n                    if (nxt <= ri) {\n                        dp[i + 1][nxt][ri][0] = min(dp[i + 1][nxt][ri][0], dp[i][le][ri][0] + 1);\n                        dp[i + 1][nxt][ri][0] = min(dp[i + 1][nxt][ri][0], dp[i][le][ri][1]);\n                    }\n                    if (le <= nxt) {\n                        dp[i + 1][le][nxt][1] = min(dp[i + 1][le][nxt][1], dp[i][le][ri][0]);\n                        dp[i + 1][le][nxt][1] = min(dp[i + 1][le][nxt][1], dp[i][le][ri][1] + 1);\n                    }\n                }\n            }\n        }\n        int mn = INF;\n        for (int i = 0; i < 3; ++i) {\n            for (int j = 0; j < 3; ++j) {\n                for (int k = 0; k < 2; ++k) { mn = min(mn, dp[n - 1][i][j][k]); }\n            }\n        }\n        cout << mn << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<string.h>\nusing namespace std;\n\nchar x[100010];\nint y[100010];\nint main()\n{\n    while(gets(x)&&x!=\"#\")\n    {\n        int n=strlen(x);\n        for(int i=0;i<n;i++)\n        {\n            y[i]=(x[i]-'0')%3;\n            if(y[i]==0) y[i]+=3;\n        }\n        int res1=0;\n        for(int i=0;i<n-1;i++)\n        {\n            if(res1%2)\n            {\n                if(i%2) { if(y[i]>y[i+1]) res1+=1;}\n                else if(i%2==0) {if(y[i]<y[i+1]) res1+=1;}\n            }\n            else\n            {\n                if(i%2) {if(y[i]<y[i+1]) res1+=1;}\n                else if(i%2==0) {if(y[i]>y[i+1]) res1+=1;}\n            }\n        }\n        int res2=0;\n        for(int i=0;i<n-1;i++)\n        {\n            if(res2%2)\n            {\n                if(i%2) { if(y[i]<y[i+1]) res2+=1;}\n                else if(i%2==0) {if(y[i]>y[i+1]) res2+=1;}\n            }\n            else\n            {\n                if(i%2) {if(y[i]>y[i+1]) res2+=1;}\n                else if(i%2==0) {if(y[i]<y[i+1]) res2+=1;}\n            }\n        }\n        if(res2<res1) res1=res2;\n        cout<<res1<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <complex>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <iomanip>\n#include <assert.h>\n#include <array>\n#include <cstdio>\n#include <cstring>\n#include <random>\n#include <functional>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\nstruct before_main{before_main(){cin.tie(0); ios::sync_with_stdio(false);}} before_main;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nstring S;\n\nunordered_set<int> X[3] = {{1,4,7},{2,8},{3,6,9}};\n\nvoid solve() {\n  int N = S.size();\n  int ans = inf;\n  rep(o, 2) {\n    int res = 0;\n    int s = 0;\n    rep(i, N-1) {\n      if((i+o+s)&1) {\n        if(S[i] == 2 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 8 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 3 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 6 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 9 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 3 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 6 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 9 && X[1].count(S[i+1])) { res ++; s++; }\n      } else {\n        if(S[i] == 1 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 4 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 7 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 1 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 4 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 7 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 2 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 8 && X[2].count(S[i+1])) { res ++; s++; }\n      }\n    }\n    minimize(ans, res);\n  }\n  cout << ans << endl;\n}\n\nint main() {\n\n  for(; cin >> S;) {\n    if(S == \"#\") { break; }\n    rep(i, S.size()) S[i] -= '0';\n    solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#define INF (1<<21)\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int n = str[0] - '0' - 1, ans = 0;\n    int dp[2][4] = {{0,0,INF,INF},{0,0,0,0}};\n\n    for(int i=1;i<str.size();i++){\n      n = str[i] - '0' - 1;\n      int a = str[i-1] - '0' - 1, b;\n      if(i > 1) b = str[i-2] - '0' - 1;\n      else b = a;\n\n      if(i % 2 == 0 && LR[n] < LR[a] || i % 2 == 1 && LR[n] > LR[a]){\n\tdp[1][0] = dp[0][0] + 1;\n\tdp[1][3] = dp[0][3] + 1;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][1] = min(dp[0][1],dp[1][3]);\n\t  dp[1][2] = min(dp[0][2],dp[1][0]);\n\t}\n      }\n      else{\n\tdp[1][0] = dp[0][0];\n\tdp[1][3] = dp[0][3];\n      }\n\n      if(i % 2 == 0 && LR[n] > LR[a] || i % 2 == 1 && LR[n] < LR[a]){\n\tdp[1][1] = dp[0][1] + 1;\n\tdp[1][2] = dp[0][2] + 1;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][0] = min(dp[0][0],dp[1][2]);\n\t  dp[1][3] = min(dp[0][3],dp[1][1]);\n\t}\n      }\n      else{\n\tdp[1][1] = dp[0][1];\n\tdp[1][2] = dp[0][2];\n      }\n\n      ans = INF;\n      for(int j=0;j<4;j++){\n\tdp[0][j] = dp[1][j];\n\tans = min(ans,dp[0][j]);\n      }\n    }\n    \n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<string>\nusing namespace std;\nint main(void){\nstring s;\nwhile(1){\n\tcin>>s;\n\tif(s==\"#\")break;\n\t//now -1 l 1 r\n\tint r=-1,l=-1,ans=0,now=0;\nfor(int i=0;i<s.size();i++){\n\tif(s[i]=='1'||s[i]=='4'||s[i]=='7'){\n\t\tif(now==0){\n\t\t\tif(l==0){\n\t\t\t\tr=0;\n\t\t\t//\tcout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\tl=0;\n\t\tif(r!=-1&&r!=0){\n\t\t\tnow=-1;\n\t\t}\n\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t}else if(l>0){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=0;\n\t\t\t}\n\t\t}\n\n\t\t}else if(s[i]=='2'||s[i]=='8'){\n\tif(now!=0){\n\t\tif(now==-1){\n\t\t\tif(l==2){\n\t\t\t\tl=1;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=1;\n\t\t\t}\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tif(r==0){\n\t\t\t\t\tr=1;\n\t\t\t\t\tans++;\n\t\t\t\t}else{\n\t\t\t\t\tnow=-1;\n\t\t\t\t\tl=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}else{\n\t\tif(l==0){\n\t\t\tr=1;\n\t\t\tnow=1;\n\t\t}else if(r==2){\n\t\t\tl=1;\n\t\t\tnow=-1;\n\t\t}else{\n\t\t\tr=1;\n\t\t\tl=1;\n\t\t}\n\t}\n\n\t\t}else{\n\t\t\tif(now==0){\n\t\t\t\tif(r==2){\n\t\t\t\t\tl=2;\n//cout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tr=2;\n\t\t\t\tif(l!=-1&&l!=2){\n\t\t\t\t\tnow=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(now==-1){\n\t\t\t\t\tnow=1;\n\t\t\t\t\tr=2;\n\t\t\t\t}else{\n\t\t\t\t\tif(r!=2){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tr=2;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tl=2;\n\t\t\t\t\t\tnow=-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n}\n//cout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n}\ncout<<ans<<endl;\n\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nint where(char c){\n  if(c=='1' or c=='4' or c=='7') return 0;\n  if(c=='2' or c=='8') return 1;\n  if(c=='3' or c=='6' or c=='9') return 2;\n}\n\nvoid chmin(int &l, int r){if(l>r)l=r;}\n\nint main(){\n\n  while(true){\n    string s; cin>> s;\n    char c=s[0];\n    if(c=='#') break;\n\n    const int inf=1e5;\n    int dp[3][3][2];\n    rep(i, 3)rep(j, 3)rep(k, 2) dp[i][j][k]=inf;\n    for(int j=where(s[0]); j<3; j++) dp[where(s[0])][j][0]=0;\n    for(int j=0; j<=where(s[0]); j++) dp[j][where(s[0])][1]=0;\n    for(int i=1; i<(int)(s.size()); i++){\n      int cur=where(s[i]);\n      int nex[3][3][2];\n      rep(_i, 3)rep(_j, 3)rep(_k, 2) nex[_i][_j][_k]=inf;\n      rep(l, 3)rep(r, 3){\n        if(l<=cur) chmin(nex[l][cur][1], min(dp[l][r][0], dp[l][r][1]+1));\n        if(cur<=r) chmin(nex[cur][r][0], min(dp[l][r][0]+1, dp[l][r][1]));\n      }\n      rep(_i, 3)rep(_j, 3)rep(_k, 2) dp[_i][_j][_k]=nex[_i][_j][_k];      \n    }\n    int mn=inf;\n    rep(i, 3)rep(j, 3)rep(k, 2) chmin(mn, dp[i][j][k]);\n    cout<< mn<< endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "// Header {{{\n// includes {{{\n#include <algorithm>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <iostream>\n#include <iterator>\n#include <limits>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <sys/time.h>\n#include <unistd.h>\n#include <vector>\n// }}}\nusing namespace std;\n// consts {{{\nstatic const int INF = 1e9;\nstatic const double PI = acos(-1.0);\nstatic const double EPS = 1e-10;\n// }}}\n// typedefs {{{\ntypedef long long int LL;\ntypedef unsigned long long int ULL;\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\ntypedef vector<ULL> VULL;\ntypedef vector<VULL> VVULL;\ntypedef vector<double> VD;\ntypedef vector<VD> VVD;\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\ntypedef vector<char> VC;\ntypedef vector<VC> VVC;\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\ntypedef pair<int, int> PII;\ntypedef complex<int> P;\n// }}}\n// macros & inline functions {{{\n// syntax sugars {{{\n#define FOR(i, b, e) for (typeof(e) i = (b); i < (e); ++i)\n#define FORI(i, b, e) for (typeof(e) i = (b); i <= (e); ++i)\n#define REP(i, n) FOR(i, 0, n)\n#define REPI(i, n) FORI(i, 0, n)\n#define OPOVER(_op, _type) inline bool operator _op (const _type &t) const\n// }}}\n// conversion {{{\ninline int toInt(string s) { int v; istringstream sin(s); sin>>v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout<<x; return sout.str(); }\n// }}}\n// array and STL {{{\n#define ARRSIZE(a) ( sizeof(a) / sizeof(a[0]) )\n#define ZERO(a, v) ( assert(v == 0 || v == -1), memset(a, v, sizeof(a)) )\n#define F first\n#define S second\n#define MP(a, b) make_pair(a, b)\n#define SIZE(a) ((LL)a.size())\n#define PB(e) push_back(e)\n#define SORT(v) sort((v).begin(), (v).end())\n#define RSORT(v) sort((v).rbegin(), (v).rend())\n#define ALL(a) (a).begin(), (a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define EACH(c, it) for(typeof((c).begin()) it=(c).begin(); it!=(c).end(); ++it)\n#define REACH(c, it) for(typeof((c).rbegin()) it=(c).rbegin(); it!=(c).rend(); ++it)\n#define EXIST(s, e) ((s).find(e) != (s).end())\n// }}}\n// bit manipulation {{{\n// singed integers are not for bitwise operations, specifically arithmetic shifts ('>>', and maybe not good for '<<' too)\n#define IS_UNSIGNED(n) (!numeric_limits<typeof(n)>::is_signed)\n#define BIT(n) (assert(IS_UNSIGNED(n)), assert(n < 64), (1ULL << (n)))\n#define BITOF(n, m) (assert(IS_UNSIGNED(n)), assert(m < 64), ((ULL)(n) >> (m) & 1))\ninline int BITS_COUNT(ULL b) { int c = 0; while(b != 0) { c += (b & 1); b >>= 1; } return c; }\ninline int MSB(ULL b) { int c = 0; while(b != 0) { ++c; b >>= 1; } return c-1; }\ninline int MAKE_MASK(ULL upper, ULL lower) { assert(lower < 64 && upper < 64 && lower <= upper); return (BIT(upper) - 1) ^ (BIT(lower) - 1); }\n// }}}\n// for readable code {{{\n#define EVEN(n) (n % 2 == 0)\n#define ODD(n) (!EVEN(n))\n// }}}\n// debug {{{\n#define arrsz(a) ( sizeof(a) / sizeof(a[0]) )\n#define dprt(fmt, ...) if (opt_debug) { fprintf(stderr, fmt, ##__VA_ARGS__); }\n#define darr(a) if (opt_debug) { copy( (a), (a) + arrsz(a), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr_range(a, f, t) if (opt_debug) { copy( (a) + (f), (a) + (t), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define dvec(v) if (opt_debug) { copy( ALL(v), ostream_iterator<int>(cerr, \" \") ); cerr << endl; }\n#define darr2(a) if (opt_debug) { FOR(__i, 0, (arrsz(a))){ darr( (a)[__i] ); } }\n#define WAIT() if (opt_debug) { string _wait_; cerr << \"(hit return to continue)\" << endl; getline(cin, _wait_); }\n#define dump(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << \" = \" << (x) << endl; }\n#define dumpl(x) if (opt_debug) { cerr << \" [L\" << __LINE__ << \"] \" << #x << endl << (x) << endl; }\n#define dumpf() if (opt_debug) { cerr << __PRETTY_FUNCTION__ << endl; }\n#define where() if (opt_debug) { cerr << __FILE__ << \": \" << __PRETTY_FUNCTION__ << \" [L: \" << __LINE__ << \"]\" << endl; }\n#define show_bits(b, s) if(opt_debug) { REP(i, s) { cerr << BITOF(b, s-1-i); if(i%4 == 3) cerr << ' '; } cerr << endl; }\n\n// ostreams {{{\n// complex\ntemplate<typename T> ostream& operator<<(ostream& s, const complex<T>& d) {return s << \"(\" << d.real() << \", \" << d.imag() << \")\";}\n\n// pair\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const pair<T1, T2>& d) {return s << \"(\" << d.first << \", \" << d.second << \")\";}\n\n// vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector<T>& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i]; if (i < len - 1) s << \"\\t\";\n\t}\n\treturn s;\n}\n\n// 2 dimentional vector\ntemplate<typename T> ostream& operator<<(ostream& s, const vector< vector<T> >& d) {\n\tint len = d.size();\n\tREP (i, len) {\n\t\ts << d[i] << endl;\n\t}\n\treturn s;\n}\n\n// map\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& s, const map<T1, T2>& m) {\n\ts << \"{\" << endl;\n\tfor (typeof(m.begin()) itr = m.begin(); itr != m.end(); ++itr) {\n\t\ts << \"\\t\" << (*itr).first << \" : \" << (*itr).second << endl;\n\t}\n\ts << \"}\" << endl;\n\treturn s;\n}\n// }}}\n// }}}\n// }}}\n// time {{{\ninline double now(){ struct timeval tv; gettimeofday(&tv, NULL); return (static_cast<double>(tv.tv_sec) + static_cast<double>(tv.tv_usec) * 1e-6); }\n// }}}\n// string manipulation {{{\ninline VS split(string s, char delimiter) { VS v; string t; REP(i, s.length()) { if(s[i] == delimiter) v.PB(t), t = \"\"; else t += s[i]; } v.PB(t); return v; }\ninline string join(VS s, string j) { string t; REP(i, s.size()) { t += s[i] + j; } return t; }\n// }}}\n// geometry {{{\n#define Y real()\n#define X imag()\n// }}}\n// 2 dimentional array {{{\nP dydx4[4] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1) };\nP dydx8[8] = { P(-1, 0), P(0, 1), P(1, 0), P(0, -1), P(-1, 1), P(1, 1), P(1, -1), P(-1, -1) };\nint g_height, g_width;\nbool in_field(P p) {\n\treturn (0 <= p.Y && p.Y < g_height) && (0 <= p.X && p.X < g_width);\n}\n// }}}\n// input and output {{{\ninline void input(string filename) {\n\tfreopen(filename.c_str(), \"r\", stdin);\n}\ninline void output(string filename) {\n\tfreopen(filename.c_str(), \"w\", stdout);\n}\n// }}}\n// }}}\n\n// Header under development {{{\n\nint LCM(int a, int b) {\n\t// FIXME\n\treturn a * b;\n}\n\n// Fraction class {{{\n// ref: http://martin-thoma.com/fractions-in-cpp/\nclass Fraction {\n\tpublic:\n\t\tULL numerator;\n\t\tULL denominator;\n\t\tFraction(ULL _numerator, ULL _denominator) {\n\t\t\tassert(_denominator > 0);\n\t\t\tnumerator = _numerator;\n\t\t\tdenominator = _denominator;\n\t\t};\n\n\t\tFraction operator*(const ULL rhs) {\n\t\t\treturn Fraction(this->numerator * rhs, this->denominator);\n\t\t};\n\n\t\tFraction operator*(const Fraction& rhs) {\n\t\t\treturn Fraction(this->numerator * rhs.numerator, this->denominator * rhs.denominator);\n\t\t}\n\n\t\tFraction operator+(const Fraction& rhs) {\n\t\t\tULL lcm = LCM(this->denominator, rhs.denominator);\n\t\t\tULL numer_lhs = this->numerator * (this->denominator / lcm);\n\t\t\tULL numer_rhs = rhs.numerator * (rhs.numerator / lcm);\n\t\t\treturn Fraction(numer_lhs + numer_rhs, lcm);\n\t\t}\n\n\t\tFraction& operator+=(const Fraction& rhs) {\n\t\t\tFraction result = (*this) + rhs;\n\t\t\tthis->numerator = result.numerator;\n\t\t\tthis->denominator = result.denominator;\n\t\t\treturn *this;\n\t\t}\n};\n\nstd::ostream& operator<<(std::ostream &s, const Fraction &a) {\n\tif (a.denominator == 1) {\n\t\ts << a.numerator;\n\t} else {\n\t\ts << a.numerator << \"/\" << a.denominator;\n\t}\n\treturn s;\n}\n\n// }}}\n\n// }}}\n\nbool opt_debug = false;\n\nint main(int argc, char** argv) {\n\tstd::ios_base::sync_with_stdio(false);\n\t// set options {{{\n\tint __c;\n\twhile ( (__c = getopt(argc, argv, \"d\")) != -1 ) {\n\t\tswitch (__c) {\n\t\t\tcase 'd':\n\t\t\t\topt_debug = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tabort();\n\t\t}\n\t}\n\t// }}}\n\n\t// input(\"./inputs/0.txt\");\n\t// output(\"./outputs/0.txt\");\n\n\tstring s;\n\twhile (cin >> s, s != \"#\") {\n\t\tVI steps;\n\t\tREP (i, s.length()) {\n\t\t\tsteps.PB(s[i] - '0');\n\t\t}\n\n\t\tint len = steps.size();\n\t\ttypedef vector<VVI> VVVI;\n\t\ttypedef vector<VVVI> VVVVI;\n\t\tVVVVI dp(len+1, VVVI(10, VVI(10, VI(2, INF))));\n\n\t\tREP (i, 10) {\n\t\t\tREP (j, 10) {\n\t\t\t\tREP (k, 2) {\n\t\t\t\t\tdp[0][i][j][k] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tenum {\n\t\t\tLEFT,\n\t\t\tRIGHT\n\t\t};\n\n\t\tFOR (turn, 1, len+1) {\n\t\t\tFOR (left, 1, 10) {\n\t\t\t\tif (left == 5) { continue; }\n\t\t\t\tFOR (right, 1, 10) {\n\t\t\t\t\tif (right == 5) { continue; }\n\t\t\t\t\tif ((left + 2) % 3 > (right + 2) % 3) { continue; } // crossing legs\n\n\t\t\t\t\t// move left foot\n\t\t\t\t\tFOR (prev_left, 1, 10) {\n\t\t\t\t\t\tif (left != steps[turn-1]) { break; }\n\t\t\t\t\t\tdp[turn][left][right][LEFT] = min(dp[turn][left][right][LEFT], dp[turn-1][prev_left][right][RIGHT]);\n\t\t\t\t\t\tdp[turn][left][right][LEFT] = min(dp[turn][left][right][LEFT], dp[turn-1][prev_left][right][LEFT] + 1);\n\t\t\t\t\t}\n\n\t\t\t\t\t// move right foot\n\t\t\t\t\tFOR (prev_right, 1, 10) {\n\t\t\t\t\t\tif (right != steps[turn-1]) { break; }\n\t\t\t\t\t\tdp[turn][left][right][RIGHT] = min(dp[turn][left][right][RIGHT], dp[turn-1][left][prev_right][LEFT]);\n\t\t\t\t\t\tdp[turn][left][right][RIGHT] = min(dp[turn][left][right][RIGHT], dp[turn-1][left][prev_right][RIGHT] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint ans = INF;\n\t\tFOR (left, 1, 10) {\n\t\t\tFOR (right, 1, 10) {\n\t\t\t\tREP (moved, 2) {\n\t\t\t\t\tans = min(ans, dp[len][left][right][moved]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n\n// vim: foldmethod=marker"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(void){\n  char step[1000010];\n\n  while(1) {\n    cin >> step;\n    if(step[0] == '#') break;\n    int counter = 0;\n    int state;\n\n    if(step[0] == '1' || step[0] == '4' || step[0] == '7') state = 6;\n    else if(step[0] == '2' || step[0] == '8') state = 7;\n    else state = 8;\n    \n    int i;\n    \n    for(i = 1; step[i] != '\\0'; i++){\n\n      if(state == 6){\n        if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 3;\n          continue;\n        }else{\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 7){\n        if(step[i] == '2' || step[i] == '8'){\n          continue;\n        }else if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          state = 0;\n          continue;\n        }else{\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 8){\n        if(step[i] == '9' || step[i] == '6' || step[i] == '3'){\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 2;\n          continue;\n        }else{\n          state = 0;\n          continue;\n        }\n      }\n      \n\n      if(state == 0){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 3;\n          continue;\n        }else{\n          state = 1;\n          continue;\n        }\n      }\n\n      if(state == 1){\n        if(step[i] == '4' || step[i] == '7'|| step[i] == '1'){\n          state = 0;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          counter++;\n          state = 3;\n          continue;\n        }else{\n          counter++;\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 2){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '2' || step[i] == '8'){\n          state = 3;\n          continue;\n        }else{\n          counter++;\n          state = 0;\n          continue;\n        }\n      }\n\n      if(state == 3){\n        if(step[i] == '1' || step[i] == '4' || step[i] == '7'){\n          state = 0;\n          continue;\n        }else if(step[i] == '2' || step[i] == '8'){\n          state = 2;\n          continue;\n        }else{\n          counter++;\n          state = 5;\n          continue;\n        }\n      }\n\n      if(state == 4){\n        if(step[i] == '3' || step[i] == '6' || step[i] == '9'){\n          state = 5;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          counter++;\n          state = 2;\n          continue;\n        }else{\n          counter++;\n          state = 0;\n          continue;\n        }\n      }\n\n      if(state == 5){\n        if(step[i] == '6' || step[i] == '3' || step[i] == '9'){\n          state = 4;\n          continue;\n        }else if(step[i] == '8' || step[i] == '2'){\n          state = 2;\n          continue;\n        }else{\n          state = 0;\n          continue;\n        }\n      }\n    }\n\n    cout << counter << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n\nll MOD = 1000000007;\nll _MOD = 1000000009;\ndouble EPS = 1e-10;\n\nint foo(string& s, int x) {\n\tint l = 0, r = 2, cnt = 0;\n\tfor (int i = 0; i < s.length(); i++) {\n\t\tint j = (s[i] - '1') % 3;\n\t\tif (x == -1) {\n\t\t\tif (j <= r) {\n\t\t\t\tl = j;\n\t\t\t\tx *= -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tr = j;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (j >= l) {\n\t\t\t\tr = j;\n\t\t\t\tx *= -1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tl = j;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t}\n\treturn cnt;\n}\n\nint main() {\n\tfor (;;) {\n\t\tstring s; cin >> s;\n\t\tif (s == \"#\") break;\n\t\tcout << min(foo(s, -1), foo(s, 1)) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <stdio.h>\n\nusing namespace std;\n\n#define max 100001\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n\tFILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\tint dp[max][2][9][9];\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < max; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[0][1][j][arrow] = 0;\n\t\t\t\tdp[0][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][0][j][k] + 1, dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][1][j][k] + 1, dp[i][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][1][j][k], dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][0][j][k], dp[i][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n\t\tfor(int l = 0; l < str.length(); l++) {\n \t\t\tfor(int i = 0; i < 2; i++) \n\t\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\t\tif( dp[l][i][j][k] < 1 << 30 ) {\n\t//\t\t\t\t\t\tcout << dp[l][i][j][k] << \" \" << l <<  \" \" << i << \" \" << j << \" \" << k << endl;\n\t\t\t\t\t\t\tif(min > dp[str.length()-1][i][j][k] ) min = dp[str.length()-1][i][j][k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << \"+++++\" << endl;\n\t\t}\n\n\n\t//\t\t\t\t\t\n\t//\tcout<< \"***\" << endl;\n\t\tcout << min << endl;\n\n\n\t}\n\n\n\twhile(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\n#include<string.h>\n#include<vector>\n#include<math.h>\n#include<iostream>\n#include<map>\nusing namespace std;\nchar step[100010];\nint feet1,feet2;\nint ans1,ans2;\nint charge(int now,int before,int feet)\n{\n    if(feet==1)\n    {\n        if(now<before)return 0;\n    }\n    else\n    {\n        if(now>before)return 0;\n    }\n    return 1;\n}\nint main()\n{\n    int i,j,k;\n    int len;\n    while(gets(step))\n    {\n        if(step[0]=='#')break;\n        len=strlen(step);\n        feet1=1;feet2=0;\n        ans1=ans2=0;\n        for(i=1;i<len;i++)\n        {\n            int now,before;\n            now=step[i]-'0';\n            before=step[i-1]-'0';\n            while(now>3)now-=3;\n            while(before>3)before-=3;\n            if(charge(now,before,feet1)){feet1+=1;feet1%=2;}\n            else ans1++;\n            if(charge(now,before,feet2)){feet2+=1;feet2%=2;}\n            else ans2++;\n        }\n        printf(\"%d\\n\",min(ans1,ans2));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FOR(i,a,b) for(int i = (a);i < (b);i++)\n#define RFOR(i,a,b) for(int i = (b)-1;i >= (a);i--)\n#define REP(i,n) FOR(i,0,(n))\n#define RREP(i,n) RFOR(i,0,(n))\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n#define pb push_back\n#define mp make_pair\n#define ft first\n#define sd second\n\n#define INF 1000000000\n#define index(a, b, c) (a)*81+(b)*9+(c)\n\nint N;\nchar s[100004];\nint dp[2][2*9*9];\n\nbool input(){\n  cin>>s;\n  if(s[0]=='#')return false;\n  N = strlen(s);\n  REP(i, N)s[i] -= '1';\n  return true;\n}\n\nint x[9] = {0,1,2,0,1,2,0,1,2};\n\nvoid solve(){\n  REP(i, 2) {\n  \tREP(j, 9) {\n  \t\tREP(k, 9) {\n  \t\t\tif(x[j]>x[k]) dp[0][index(i, j, k)] = INF;\n  \t\t\telse dp[0][index(i, j, k)] = 0;\n  \t\t}\n  \t}\n  }\n  \n  REP(l, N) {\n    REP(i, 2*9*9)dp[1][i] = INF;\n    \n  \tREP(i, 2) {\n  \t\tREP(j, 9) {\n  \t\t\tREP(k, 9) {\n  \t\t\t\tif(dp[0][index(i, j, k)] == INF)continue;\n  \t\t\t\tif(x[s[l]]<=x[k])\n  \t\t\t\tdp[1][index(0, s[l], k)] = min(dp[1][index(0, s[l], k)], dp[0][index(i, j, k)]+(i==0));\n  \t\t\t\tif(x[s[l]]>=x[j])\n  \t\t\t\tdp[1][index(1, j, s[l])] = min(dp[1][index(1, j, s[l])], dp[0][index(i, j, k)]+(i==1));\n  \t\t\t\t\n  \t\t\t}\n  \t\t}\n  \t}\n  \t\n    REP(i, 2*9*9)dp[0][i] = dp[1][i];\n  }\n  \n  int a = INF;\n  /*REP(i, N+1){\n    REP(j,2*9*9){\n      if(dp[i][j] == INF)\n        cout<<'N';\n      else\n        cout<<dp[i][j];\n      if((j+1)%9==0)cout<<' ';\n    }\n    cout<<endl;\n  }*/\n  REP(i, 2*9*9) {\n    a = min(a, dp[1][i]);\n  }\n  cout<<a<<endl;\n}\n\nint main(){\n  //cin.tie(0);\n  \n  while (input()){\n      solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<string>\n#include<vector>\n#include<map>\n#include<set>\n#include<list>\n#include<queue>\n#include<deque>\n#include<algorithm>\n#include<numeric>\n#include<utility>\n#include<complex>\n#include<functional>\n \nusing namespace std;\n\n/* constant */\n\nconst int MAX_N = 100000;\nconst int INF = 1 << 30;\n\n/* typedef */\n\n/* global variables */\n\n/* subroutines */\n\n/* main */\n\nint main() {\n  string seq;\n\n  for (;;) {\n    cin >> seq;\n    if (seq == \"#\") break;\n\n    int slen = seq.size();\n    int min_ss = INF;\n\n    for (int i = 0; i < 2; i++) {\n      int ss = 0;\n      int lf = 4, rf = 6, lx = 0, rx = 2, nxt;\n\n      int d0 = seq[0] - '0';\n      int x0 = (d0 - 1) % 3;\n\n      if (i == 0) {\n\tlf = d0, lx = x0;\n\tnxt = 1;\n\tif (lf == rf) rf = 3;\n      }\n      else {\n\trf = d0, rx = x0;\n\tnxt = 0;\n\tif (rf == lf) lf = 1;\n      }\n\n      for (int j = 1; j < slen; j++) {\n\tint dj = seq[j] - '0';\n\tint xj = (dj - 1) % 3;\n\n\tif (nxt == 0) {\n\t  if (dj != rf && xj <= rx) {\n\t    lf = dj, lx = xj;\n\t    nxt = 1;\n\t  }\n\t  else {\n\t    rf = dj, rx = xj;\n\t    ss++;\n\t  }\n\t}\n\telse {\n\t  if (dj != lf && xj >= lx) {\n\t    rf = dj, rx = xj;\n\t    nxt = 0;\n\t  }\n\t  else {\n\t    lf = dj, lx = xj;\n\t    ss++;\n\t  }\n\t}\n      }\n\n      if (min_ss > ss) min_ss = ss;\n    }\n\n    cout << min_ss << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<string>\nusing namespace std;\nint main(void){\nstring s;\nwhile(1){\n\tcin>>s;\n\tif(s==\"#\")break;\n\t//now -1 l 1 r\n\tint r=-1,l=-1,ans=0,now=0;\nfor(int i=0;i<s.size();i++){\n\tif(s[i]=='1'||s[i]=='4'||s[i]=='7'){\n\t\tif(now==0){\n\t\t\tif(l==0){\n\t\t\t\tr=0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\tl=0;\n\t\tif(r!=-1||r!=0){\n\t\t\tnow=-1;\n\t\t}\n\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t}else if(l>0){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=0;\n\t\t\t}\n\t\t}\n\n\t\t}else if(s[i]=='2'||s[i]=='8'){\n\tif(now!=0){\n\t\tif(now==-1){\n\t\t\tif(l==2){\n\t\t\t\tl=1;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=1;\n\t\t\t}\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tif(r==0){\n\t\t\t\t\tr=1;\n\t\t\t\t\tans++;\n\t\t\t\t}else{\n\t\t\t\t\tnow=-1;\n\t\t\t\t\tl=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}else{\n\t\tif(l==0){\n\t\t\tr=1;\n\t\t\tnow=1;\n\t\t}else if(r==2){\n\t\t\tl=1;\n\t\t\tnow=-1;\n\t\t}else{\n\t\t\tr=1;\n\t\t\tl=1;\n\t\t}\n\t}\n\n\t\t}else{\n\t\t\tif(now==0){\n\t\t\t\tif(r==2){\n\t\t\t\t\tl=2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tr=2;\n\t\t\t\tif(l!=-1||l!=2){\n\t\t\t\t\tnow=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(now==-1){\n\t\t\t\t\tnow=1;\n\t\t\t\t\tr=2;\n\t\t\t\t}else{\n\t\t\t\t\tif(r!=2){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tr=2;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tl=2;\n\t\t\t\t\t\tnow=-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n}\n\n}\ncout<<ans<<endl;\n\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nint main(){\n  string S;\n  while(cin >> S, S != \"#\"){\n    if(S.length() <= 2){\n      cout << 0 << endl;\n      continue;\n    }\n    int ans = 0;\n    int f[2] = {S[0],S[1]}, m = 1;\n    for(int i = 1; i < S.length(); ++i){\n      if((m == 1 && (S[i]-'0'-1)%3 > (f[1-m]-1)%3)){\n\t++ans;\n\tf[1-m] = S[i] - '0';\n      }else if((m == 0 && (S[i]-'0'-1)%3 < (f[1-m]-1)%3)){\n\t++ans;\n\tf[1-m] = S[i] - '0';\n      }else{\n\tf[m] = S[i] - '0';\n\tm = 1-m;\n      }\n    }\n    int t = 0;\n    f[0] = S[1];\n    f[1] = S[0];\n    m = 0;\n    for(int i = 1; i < S.length(); ++i){\n      if((m == 1 && (S[i]-'0'-1)%3 > (f[1-m]-1)%3)){\n\t++t;\n\tf[1-m] = S[i] - '0';\n      }else if((m == 0 && (S[i]-'0'-1)%3 < (f[1-m]-1)%3)){\n\t++t;\n\tf[1-m] = S[i] - '0';\n      }else{\n\tf[m] = S[i] - '0';\n\tm = 1-m;\n      }\n    }\n    //cout << ans << endl;\n    //cout << t << endl;\n    ans = min(ans,t);\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define INF_LL (int64)1e18\n#define INF (int32)1e9\n#define REP(i, n) for(int64 i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int64 i = (a);i < (b);i++)\n#define all(x) x.begin(),x.end()\n#define fs first\n#define sc second\n\nusing int32 = int_fast32_t;\nusing uint32 = uint_fast32_t;\nusing int64 = int_fast64_t;\nusing uint64 = uint_fast64_t;\nusing PII = pair<int32, int32>;\nusing PLL = pair<int64, int64>;\n\nconst double eps = 1e-10;\n\ntemplate<typename A, typename B>inline void chmin(A &a, B b){if(a > b) a = b;}\ntemplate<typename A, typename B>inline void chmax(A &a, B b){if(a < b) a = b;}\n\ntemplate<typename T>\nvector<T> make_v(size_t a){return vector<T>(a);}\n\ntemplate<typename T,typename... Ts>\nauto make_v(size_t a,Ts... ts){\n  return vector<decltype(make_v<T>(ts...))>(a,make_v<T>(ts...));\n}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value!=0>::type\nfill_v(U &u,const V... v){u=U(v...);}\n\ntemplate<typename T,typename U,typename... V>\ntypename enable_if<is_same<T, U>::value==0>::type\nfill_v(U &u,const V... v){\n  for(auto &e:u) fill_v<T>(e,v...);\n}\n\nint main(void) {\n    string s;\n    while (cin >> s && s != \"#\") {\n        vector<int> p(s.size());\n        REP(i, s.size()) p[i] = (s[i]-'1')%3;\n        auto dp = make_v<int64>(p.size(), 2);\n        fill_v<int64>(dp, INF);\n        dp[0][0] = dp[0][1] = 0;\n        REP(i, s.size()-1) {\n            if (p[i] <= p[i+1]) {\n                chmin(dp[i+1][1], min(dp[i][0], dp[i][1]+1));\n            }\n            if (p[i] >= p[i+1]) {\n                chmin(dp[i+1][0], min(dp[i][0]+1, dp[i][1]));\n            }\n        }\n        cout << *min_element(all(dp[s.size()-1])) << endl;\n    }\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <cassert>\nusing namespace std;\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\nconst double EPS = 1e-9;\nconst double PI  = acos(-1.0);\n\ntypedef vector<vvi> vvvi ;\nconst int INV=INT_MAX;\n\nconst int LEFT=0,RIGHT=1;\nint column(int n){\n\tswitch(n){\n\tcase 1:\n\tcase 4:\n\tcase 7:\n\t\treturn 0;\n\tcase 2:\n\tcase 8:\n\t\treturn 1;\n\tcase 3:\n\tcase 6:\n\tcase 9:\n\t\treturn 2;\n\tdefault:\n\t\tassert(0);\n\t}\n}\nbool ng(int pos,int foot,int next){\n\tif(foot==LEFT){\n\t\treturn column(pos)>column(next);\n\t}else{\n\t\treturn column(pos)<column(next);\n\t}\n}\n\nint main(){\n\tstring s;\n\twhile(cin>>s,s!=\"#\"){\n\t\tint n=s.size();\n\t\tvvi dp(n,vi(2,INV));\n\t\tREP(j,2){\n\t\t\tdp[0][j]=0;\n\t\t}\n\t\tREP(i,n-1){\n\t\t\tREP(k,2){\n\t\t\t\tint next=s[i+1]-'0';\n\t\t\t\tint j=s[i]-'0';\n\t\t\t\tif(ng(j,k,next)){\n\t\t\t\t\tdp[i+1][k]=min(dp[i+1][k],dp[i][k]+1);\n\t\t\t\t}else{\n\t\t\t\t\tdp[i+1][(k+1)%2]=min(dp[i+1][(k+1)%2],dp[i][k]);\n\t\t\t\t\tdp[i+1][k]=min(dp[i+1][k],dp[i][k]+1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans=INT_MAX;\n\t\tREP(i,2){\n\t\t\tans=min(ans,dp[n-1][i]);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\n#define FOR(i,k,n) for(int i=(k); i<(int)n; ++i)\n#define REP(i,n) FOR(i,0,n)\nconst int INF = 100000000;\n\nint side(int from, int to){\n  return (to+2)%3 - (from+2)%3;\n}\nint main(){\n  string s;\n  while(cin>>s && s != \"#\"){\n    int N = s.size();\n    int dp[100001][2] = {};\n    FOR(i, 1, 100000)REP(j,2)dp[i][j] = INF;\n    FOR(i, 1, N){\n      dp[i][0] = dp[i-1][0] + 1;\n      dp[i][1] = dp[i-1][1] + 1;\n      if(side(s[i-1], s[i]) >= 0) dp[i][1] = min(dp[i][1], dp[i-1][0]);\n      if(side(s[i-1], s[i]) <= 0) dp[i][0] = min(dp[i][0], dp[i-1][1]);\n    }\n    cout<<min(dp[N-1][0], dp[N-1][1])<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\nstring s;\n\nint valid(int foot, int a, int b) {\n    if (foot) {\n        if (a == 1) return 0;\n        else if (a == 2) {\n            if (b != 1 ) return 0;\n            else return 1;\n        }\n        else {\n            if (b == 0) return 0;\n            else return 1;\n        }\n    }\n    else {\n        if (a == 0) return 0;\n        else if (a == 2) {\n            if (b != 0) return 0;\n            else return 1;\n        }\n        else {\n            if (b == 1) return 0;\n            else return 1;\n        }\n    }\n}\n\nint check(int f) {\n    vector<int> dp(s.size()+1, 1e9);\n    dp[0] = 0;\n    \n    for (int i = 1; i < s.size(); i++) {\n        int now = (s[i-1]-'0') % 3;\n        int next = (s[i]-'0') % 3;\n        int foot;\n        (i%2) == f ? foot = 1 : foot = 0;\n        int v = valid(foot,now,next);\n        if (v) f = (f+1)%2;\n        dp[i] = min(dp[i], dp[i-1] + v);\n    }\n    return dp[s.size()-1];\n}\n\nint main(void){\n    while (cin>>s && s[0] != '#') {\n        \n        int ans = min(check(0), check(1));\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<string>\nusing namespace std;\nint main(void){\nstring s;\nwhile(1){\n\tcin>>s;\n\tif(s==\"#\")break;\n\t//now -1 l 1 r\n\tint r=-1,l=-1,ans=0,now=0;\nfor(int i=0;i<s.size();i++){\n\tif(s[i]=='1'||s[i]=='4'||s[i]=='7'){\n\t\tif(now==0){\n\t\t\tif(l==0){\n\t\t\t\tr=0;\n\t\t\t//\tcout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\tl=0;\n\t\tif(r!=-1&&r!=0){\n\t\t\tnow=-1;\n\t\t}\n\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t}else if(l>0){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=0;\n\t\t\t}\n\t\t}\n\n\t\t}else if(s[i]=='2'||s[i]=='8'){\n\tif(now!=0){\n\t\tif(now==-1){\n\t\t\tif(l==2){\n\t\t\t\tl=1;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=1;\n\t\t\t}\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tif(r==0){\n\t\t\t\t\tr=1;\n\t\t\t\t\tans++;\n\t\t\t\t}else{\n\t\t\t\t\tnow=-1;\n\t\t\t\t\tl=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}else{\n\t\tif(l==0){\n\t\t\tr=1;\n\t\t\tnow=1;\n\t\t}else if(r==2){\n\t\t\tl=1;\n\t\t\tnow=-1;\n\t\t}else{\n\t\t\tr=1;\n\t\t\tl=1;\n\t\t}\n\t}\n\n\t\t}else{\n\t\t\tif(now==0){\n\t\t\t\tif(r==2){\n\t\t\t\t\tl=2;\n//cout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tr=2;\n\t\t\t\tif(l!=-1&&l!=2){\n\t\t\t\t\tnow=1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(now==-1){\n\t\t\t\t\tnow=1;\n\t\t\t\t\tr=2;\n\t\t\t\t}else{\n\t\t\t\t\tif(r!=2){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tr=2;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tl=2;\n\t\t\t\t\t\tnow=-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n}\n//cout<<ans<<' '<<now<<' '<<l<<' '<<r<<endl;\n}\ncout<<ans<<endl;\n\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\nusing namespace std;\n\nstring s;\nint ans,x;\nbool flag[3];\nbool foot; //t = left, f = right\nint a[100001];\n\nint check(){\n\tint res = 0;\n\tfor(int i = 1;i <= s.size();i++){\n\t\tif(foot){\n\t\t\tif(a[i-1] == 1 && (a[i] == 2 || a[i] == 0)){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse if(a[i-1] == 2 && a[i] == 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse foot = false;\n\t\t}\n\t\telse{\n\t\t\tif(a[i-1] == 0 && (a[i] == 1 || a[i] == 2)){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse if(a[i-1] == 2 && a[i] == 1){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse foot = true;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(){\n\ta[0] = 2;\n\twhile(1){\n\t\tans = 0;\n\t\tcin >> s;\n\t\tif(s[0] == '#')break;\n\t\tfor(int i = 0;i < s.size();i++){\n\t\t\tstringstream ss;\n\t\t\tss << s[i];\n\t\t\tss >> a[i + 1];\n\t\t\ta[i + 1] %= 3;\n\t\t}\n\t\tfoot = true;\n\t\tans = check();\n\t\tfoot = false;\n\t\tans = min(ans,check());\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint dx[] ={-1,0,1,-1,0,1,-1,0,1};\nstring str;\nint check(int rl){\n  int res = 0, t = str[0]-'1', x = dx[t];\n  for(int i=1;i<str.size();i++){\n    t = str[i]-'1';\n    if((rl%2==0 && x<dx[t]) ||(rl%2==1 && x>dx[t]))res++,rl++;\n    rl++,x = dx[t];\n  }\n  return res;\n}\n\nint main() {\n  while(1){\n    cin >> str;\n    if(str == \"#\") break;\n    cout << min(check(1),check(0)) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define SQ(x) ((x)*(x))\n#define Mod(x, mod) (((x)+(mod)%(mod))\n#define MP make_pair\n#define PB push_back\n#define Fi first\n#define Se second\n#define INF (1<<29)\n#define EPS 1e-10\n#define MOD 1000000007\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nstring S;\nmap<char, int>m;\n\nint main(){\n  m['1']=0;m['7']=0;m['4']=0;m['8']=1;m['2']=1;m['9']=2;m['6']=2;m['3']=2;\n  while(cin >> S && S != \"#\"){\n    int res = INF;\n    rep(s,2){\n      int cnt=0;\n      int f[2]={-1,3}; //0:left 1:right\n      int leg=s;\n      // left\n      rep(i,S.size()){\n\tint pos = m[S[i]];\n\tif(leg){\n\t  if(f[leg^1] <= pos){\n\t    f[leg] = pos;\n\t    leg ^= 1;\n\t  }else{\n\t    f[leg^1] = pos;\n\t    cnt++;\n\t  }\n\t}else{\n\t  if(pos <= f[leg^1]){\n\t    f[leg] = pos;\n\t    leg ^= 1;\n\t  }else{\n\t    f[leg^1] = pos;\n\t    cnt++;\n\t  }\n\t}\n\t//\tcout << f[0] << \" \" << f[1] << \" \" << leg << \" \" << cnt << endl;\n      }\n      //      cout << cnt << endl << endl;;\n      res = min(res, cnt);\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define range(i, a, b) for(int i = (a); i < (b); i++)\n#define rep(i, a) range(i, 0, a)\nusing namespace std;\n\nint main() {\n    string s;\n    while(cin >> s, s != \"#\") {\n        const int INF = 1000000000;\n        vector <vector <int>> dp(s.size() + 1, vector <int> (2, INF));\n        dp[0][0] = dp[0][1] = 0;\n\n        //i := 0, 左足\n        //     1, 右足\n        rep (i, s.size()) rep (j, 2) if (dp[i][j] != INF) {\n            if (i == 0) {\n                dp[i + 1][0] = dp[i][j];\n                dp[i + 1][1] = dp[i][j];\n            }\n            else {\n                //natural step\n                int pre = (s[i - 1] - '0') % 3, now = (s[i] - '0') % 3;\n                if ((j == 0 && ((pre == 1)\n                              || (pre == 2 && (now == 2 || now == 0))\n                              || (pre == 0 && now == 0)))\n                 || (j == 1 && ((pre == 0)\n                              || (pre == 1 && now == 1)\n                              || (pre == 2 && (now == 2 || now == 1))))) {\n                    //cout << i << \" \" << j << \" \" << s[i - 1] - '0' << \" \" << s[i] - '0' << endl;\n                    dp[i + 1][!j] = min(dp[i + 1][!j], dp[i][j]);\n                }\n\n                //force\n                if (j == 0) dp[i + 1][0] = min(dp[i + 1][0], dp[i][0] + 1);\n                if (j == 1) dp[i + 1][1] = min(dp[i + 1][1], dp[i][1] + 1);\n            }\n\n            /*\n             rep (I, s.size()) {\n                rep (J, 2) cout << dp[I][J] << \" \";\n                cout << endl;\n            }\n             cout << endl;\n             */\n        }\n\n        /*\n        rep (i, s.size()) {\n            rep (j, 2) cout << dp[i][j] << \" \";\n            cout << endl;\n        }\n        */\n        cout << min(dp[s.size()][0], dp[s.size()][1]) << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n\nusing namespace std;\n\nconst int MAXN = (int)1e5 + 10 ;\n\nchar str[MAXN]  ;\nint dp[MAXN][2] ;\n\nint getc (char c){\n    if (c == '1' || c == '4' || c == '7') return 1 ;\n    if (c == '2' || c == '8') return 2 ;\n    return 3 ;\n}\n\nint main(){\n    while (~scanf(\"%s\",str)){\n        if (str[0]=='#') break ;\n        int n = strlen(str) ;\n        dp[1][0] = dp[1][1] = 0 ;\n        for (int i = 2 ; i <= n ; i++){\n            char c = str[i-1] ;\n            int now = getc(c) , last = getc(str[i-2]) ;\n            dp[i][0] = dp[i-1][0] + 1 ;\n            if (now <= last)\n                dp[i][0] = min(dp[i][0] , dp[i-1][1]) ;\n            dp[i][1] = dp[i-1][1] + 1 ;\n            if (now >= last)\n                dp[i][1] = min(dp[i][1] , dp[i-1][0]) ;\n        }\n        printf(\"%d\\n\",min(dp[n][0],dp[n][1]));\n    }\n    return 0 ;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nconst int INF = (1<<15)-2;\nconst int MAX = 100001;\nconst int FOOT = 10;\nshort dp[MAX][FOOT][FOOT][2];\nstring s;\n\nint getColumn(int num){\n  int step[3][3] =\n    {{7,8,9},\n     {4,5,6},\n     {1,2,3}};\n\n  for(int i = 0; i < 3; i++)\n    for(int j = 0; j < 3; j++)\n      if(step[i][j] == num) return j;\n}\n\nvoid init(){\n  fill(dp[0][0][0],dp[0][0][0]+MAX*FOOT*FOOT*2,INF);\n  for(int i = 0; i < FOOT; i++)\n    for(int j = i; j < FOOT; j++) dp[0][i][j][0] = dp[0][i][j][1] = 0;\n}\n\nvoid solve(){\n\n  short ans = INF;\n\n  for(int i = 0; i < (int)s.length(); i++){\n    int pos = s[i]-'0';\n    \n    for(int l = 1; l < FOOT; l++){\n      if(l == 5) continue;\n      for(int r = 1; r < FOOT; r++){\n\tif(r == 5) continue;\n\tfor(int x = 0; x < 2; x++){\n\t  // x = 0 -> left 1 -> right\n\t  if(x){\n\t    //follow the rule(right foot)\n\t    if(getColumn(l) <= getColumn(pos)) dp[i+1][l][pos][1] = min(dp[i+1][l][pos][1],dp[i][l][r][0]);\n\t    //violate(left foot)\n\t    if(getColumn(r) >= getColumn(pos)) dp[i+1][pos][r][0] = min(dp[i+1][pos][r][0],(short)(dp[i][l][r][0]+1));\n\t  }else{\n\t    //follow the rule(left foot)\n\t    if(getColumn(r) >= getColumn(pos)) dp[i+1][pos][r][0] = min(dp[i+1][pos][r][0],dp[i][l][r][1]);\n\t    //violate(right foot)\n\t    if(getColumn(l) <= getColumn(pos)) dp[i+1][l][pos][1] = min(dp[i+1][l][pos][1],(short)(dp[i][l][r][1]+1));\n\t  }\n\t}\n      }\n    }\n    for(int i = 1; i < FOOT; i++)\n      for(int j = 1; j < FOOT; j++)\n\tans = min(ans,min(dp[s.length()][i][j][0],dp[s.length()][i][j][1]));\n  }\n  cout << ans << endl;\n}\n\nint main(){\n  while(cin >> s && s != \"#\"){\n    init();\n    solve();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nint dp[200000][9][9][2];\nchar s[200000];\nint main(){\n\twhile(1){\n\t\tscanf(\"%s\",s);\n\t\tif(s[0]=='#')break;\n\t\tint n=strlen(s);\n\t\trep(i,n){\n\t\t\ts[i]-='1';\n\t\t}\n\t\tmemset(dp,0x3f,sizeof(dp));\n\t\trep(i,9)rep(j,9)rep(k,2){\n\t\t\tif(j==4||k==4)continue;\n\t\t\tdp[0][i][j][k]=0;\n\t\t}\n\t\trep(i,n)rep(j,9)rep(k,9)rep(t,2){\n\t\t\tif(s[i]%3<=k%3){\n\t\t\t\tdp[i+1][s[i]][k][0]=min(dp[i+1][s[i]][k][0],dp[i][j][k][t]+(t==0));\n\t\t\t}\n\t\t\tif(j%3<=s[i]%3){\n\t\t\t\tdp[i+1][j][s[i]][1]=min(dp[i+1][j][s[i]][1],dp[i][j][k][t]+(t==1));\n\t\t\t}\n\t\t}\n\t\tint Min=INT_MAX;\n\t\trep(i,9)rep(j,9)rep(k,2)Min=min(Min,dp[n][i][j][k]);\n\t\tprintf(\"%d\\n\",Min);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nconst int L[10] = {0, 1, 2, 3, 1, 0, 3, 1, 2, 3};\n\nint c(char x) {\n  return x - '0';\n}\n\nint main() {\n  string S;\n  while(true) {\n    cin >> S;\n    if (S == \"#\") break;\n    if (S.size() <= 2) {\n      cout << 0 << endl;\n      continue;\n    }\n    int res = (int) 1e7;\n    for(auto k=0; k<2; k++) {\n      int l = c(S[k%2]);\n      int r = c(S[(k+1)%2]);\n      bool w = (k==0);\n      if (L[r] < L[l]) {\n\tcontinue;\n      }\n      int count = 0;\n      for (auto i=0; i<S.size(); i++) {\n\tint n = c(S[i]);\n\tif (w) { // 次はlが踏み出すはず\n\t  if (L[r] < L[n]) {\n\t    count++;\n\t    r = n;\n\t  } else {\n\t    l = n;\n\t    w = false;\n\t  }\n\t} else {\n\t  if (L[l] > L[n]) {\n\t    count++;\n\t    l = n;\n\t  } else {\n\t    r = n;\n\t    w = true;\n\t  }\n\t}\n      }\n      if (res > count) res = count;\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n#define MAX 100005\n#define INF (1<<26)\nstring s;\nint t[MAX];\nint d[MAX][10][10][2];\n\nstruct state{\n  int pos,l,r,f,cost;\n  bool operator < (const state &p)const{    return cost > p.cost;  }\n};\n\nint change[]={0,1,2,3,1,2,3,1,2,3};\nint check(int L,int R){\n  if(L==0||R==0)return 1;\n  if(change[L]<=change[R])return 1;\n  else return 0;\n}\n\nvoid update(priority_queue<state> &Q,state next){\n  if(next.cost<d[next.pos][next.l][next.r][next.f]){\n    d[next.pos][next.l][next.r][next.f]=next.cost;\n    Q.push(next);\n  }\n}\n\nint solve(){\n  int len=s.size();\n  if(len<=2)return 0;\n  for(int i=0;i<len;i++){\n    t[i]=s[i]-'0';\n    for(int j=0;j<10;j++)\n      for(int k=0;k<10;k++)\n\td[i][j][k][0]=d[i][j][k][1]=INF;\n  }\n  d[0][t[0]][0][0]=0;\n  d[0][0][t[0]][1]=0;\n  priority_queue<state> Q;\n  Q.push((state){0,t[0],0,0,0});\n  Q.push((state){0,0,t[0],1,0});\n\n  while(!Q.empty()){\n    state s=Q.top();Q.pop();\n    if(s.cost>d[s.pos][s.l][s.r][s.f])continue;\n    if(s.pos==len-1)return s.cost;\n\n    int np=s.pos+1,to=t[np];\n\n    if(check(to,s.r)){\n      update(Q,(state){ np, to, s.r, 0, s.cost+1-s.f});\n    }\n\n    if(check(s.l,to)){\n      update(Q,(state){ np, s.l, to, 1, s.cost+s.f});\n    }\n\n   \n  }\n}\n\nint main(){\n  while(1){\n    cin>>s;\n    if(s==\"#\")break;\n    cout<<solve()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nmain(){std::string s;int f,n,c,i,j;for(;std::cin>>s,s!=\"#\";printf(\"%d\\n\",n))for(n=99999,f=j=-1;j++<1;f=c<n&&(n=c))for(c=i=0;++i<s.size();)f*(s[i-1]-1)%3<f*(s[i]-1)%3?c++:f*=-1;}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=a;i<b;++i)\n#define allof(a) a.begin(),a.end()\n#define minit(a,b) memset(a,b,sizeof(a))\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nstring step;\n\nint dp[100010][2];\n\nvoid solve() {\n\tint n = (int)step.size();\n\t\n\tfor_(i,0,n+1) fill(dp[i], dp[i] + 2, (int)1e9);\n\tdp[0][0] = dp[0][1] = 0;\n\t\n\tint pre = -1;\n\t\n\tfor_(i,0,n) {\n\t\tchar si = step[i];\n\t\tint sx = (int)(si - '1') % 3;\n\t\t\n\t\tfor_(j,0,2) {\n\t\t\tint nx = (j + 1) % 2;\n\t\t\tif (dp[i][j] == (int)1e9) continue;\n\t\t\t\n\t\t\tif (j % 2) {\n\t\t\t\t// left\n\t\t\t\tif (pre == -1) dp[i + 1][nx] = min(dp[i + 1][nx], dp[i][j]);\n\t\t\t\telse if (sx <= pre) {\n\t\t\t\t\tdp[i + 1][nx] = min(dp[i + 1][nx], dp[i][j]);\n\t\t\t\t} else {\n\t\t\t\t\tdp[i + 1][j] = min(dp[i + 1][j], dp[i][j] + 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// right\n\t\t\t\tif (pre == -1) dp[i + 1][nx] = min(dp[i + 1][nx], dp[i][j]);\n\t\t\t\telse if (sx >= pre) {\n\t\t\t\t\tdp[i + 1][nx] = min(dp[i + 1][nx], dp[i][j]);\n\t\t\t\t} else {\n\t\t\t\t\tdp[i + 1][j] = min(dp[i + 1][j], dp[i][j] + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tpre = sx;\n\t}\n\t\n\tcout << min(dp[n][0], dp[n][1]) << endl;\n}\n\t\n\nint main() {\n\twhile (cin >> step) {\n\t\tif (step[0] == '#') break;\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint place(char num){\n  int x=num-'0';\n  if(x%3==0){\n    return 2;\n  }\n  if(x%3==1) return 0;\n  return 1;\n}\nint main(){\n  string cmd;\n  while(cin>>cmd,cmd!=\"#\"){\n    if(cmd.size()==1){\n      cout<<0<<endl;\n      continue;\n    }\n    const int INF=1e6;\n    vector<vector<int>> dp(cmd.size(),vector<int>(2,INF));\n    for(int j=0;j<2;j++) dp[0][j]=0;\n    string s=cmd;\n    for(int i=1;i<cmd.size();i++){\n      //dp[i][0]:lef pivot\n      if(place(s[i-1])<=place(s[i])){\n\tdp[i][0]=dp[i-1][1];\n\tdp[i][1]=dp[i-1][1]+1;\n      }\n\n      if(place(s[i-1])>=place(s[i])){\n\tdp[i][1]=min(dp[i-1][0],dp[i][1]);\n\tdp[i][0]=min(dp[i][0],dp[i-1][0]+1);\n      }\n\n    }\n    cout<<min(dp[cmd.size()-1][0],dp[cmd.size()-1][1])<<endl;\n  }\n  return 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0, ans2 = 0, a = str[0] - '0' - 1, b = a;\n    bool turn = false, turn2 = false;\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      if(!turn && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans++;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]) turn = true;\n      }\n      if(!turn2 && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans2++;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]) turn2 = true;\n      }\n      if(turn && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans++;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]) turn = false;\n      }\n      if(turn2 && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans2++;\n\tif(UD[n] != UD[a] || UD[n] != UD[b]) turn2 = false;\n      }\n      b = a;\n      a = n;\n    }\n    cout << min(ans,ans2) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\nint main()\n{\n\tstring edit;\n\tint r,l;\n\tbool turn=false;\n\tint ans=0;\n\tint tmp=0;\n\twhile(1)\n\t{\n\t\tcin>>edit;\n\t\tif(edit==\"#\")\n\t\t\tbreak;\n\t\t//最初のノーツを右足で踏むケース\n\t\tturn=false;\n\t\tr=edit[0]-'0';\n\t\tans=1e8-1;\n\t\ttmp=0;\n\t\tfor(int i=1;i<edit.size();i++)\n\t\t{\n\t\t\t//左\n\t\t\tif(i&1)\n\t\t\t{\n\t\t\t\tl=edit[i]-'0';\n\t\t\t\tif((!turn && (l-1)%3>(r-1)%3)||(turn && (l-1)%3<(r-1)%3))\n\t\t\t\t{\n\t\t\t\t\t//cerr<<i<<\" \"<<(l-1)%3<<\" \"<<(r-1)%3<<\" \"<<turn<<endl;\n\t\t\t\t\tturn^=true;\n\t\t\t\t\ttmp++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t//右\n\t\t\t\tr=edit[i]-'0';\n\t\t\t\tif((!turn && (l-1)%3>(r-1)%3)||(turn && (l-1)%3<(r-1)%3))\n\t\t\t\t{\n\t\t\t\t\t//cerr<<i<<\" \"<<(l-1)%3<<\" \"<<(r-1)%3<<endl;\n\t\t\t\t\tturn^=true;\n\t\t\t\t\ttmp++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//cerr<<tmp<<\" \";\n\t\tans=min(tmp,ans);\n\t\ttmp=0;\n\t\t//最初のノーツを左足で踏むケース\n\t\tl=edit[0]-'0';\n\t\tturn=false;\n\t\tfor(int i=1;i<edit.size();i++)\n\t\t{\n\t\t\t//右\n\t\t\tif(i&1)\n\t\t\t{\n\t\t\t\tr=edit[i]-'0';\n\t\t\t\tif((!turn && (l-1)%3>(r-1)%3)||(turn && (l-1)%3<(r-1)%3))\n\t\t\t\t{\n\t\t\t\t\t//cerr<<i<<\" \"<<(l-1)%3<<\" \"<<(r-1)%3<<endl;\n\t\t\t\t\tturn^=true;\n\t\t\t\t\ttmp++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t//左\n\t\t\t\tl=edit[i]-'0';\n\t\t\t\tif((!turn && (l-1)%3>(r-1)%3)||(turn && (l-1)%3<(r-1)%3))\n\t\t\t\t{\n\t\t\t\t\t//cerr<<i<<\" \"<<(l-1)%3<<\" \"<<(r-1)%3<<endl;\n\t\t\t\t\tturn^=true;\n\t\t\t\t\ttmp++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//cerr<<tmp<<endl;\n\t\tans=min(ans,tmp);\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <sstream>\n#include <cassert>\nusing namespace std;\nstatic const double EPS = 1e-5;\ntypedef long long ll;\ntypedef pair<int,int> PI;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\n#define MP make_pair\n#define PB push_back\n\nint pos(char c){\n  c-='0';\n  if(c%3==0)return 3;\n  if(c%3==2)return 2;\n  return 1;\n}\n\nmain(){\n  string str;\n  while(cin>>str){\n    if(str==\"#\")break;\n    int ans=1000000;\n    int r,l,c;\n    r=0,l=0,c=0;//c==1 r ,2 l\n    int tans=0;\n    rep(i,str.size()){\n      //cout<<l<<\" \"<<r<<\" \"<<tans<<endl;\n      int n=pos(str[i]);\n      if(c==0){\n\tr=n;\n\tc=1;\n\tcontinue;\n      }\n      if(c==1){\n\tif(n<=r){\n\t  l=n;\n\t  c=2;\n\t}else{\n\t  r=n;\n\t  c=1;\n\t  ++tans;\n\t}\n      }else{\n\tif(l<=n){\n\t  r=n;\n\t  c=1;\n\t}else{\n\t  l=n;\n\t  c=2;\n\t  ++tans;\n\t}\n      }\n    }\n    //cout<<l<<\" \"<<r<<\" \"<<tans<<endl;\n    //cout<<endl;\n    ans=min(ans,tans);\n\n    r=0,l=0,c=0,tans=0;\n    rep(i,str.size()){\n      //cout<<l<<\" \"<<r<<\" \"<<tans<<endl;\n      int n=pos(str[i]);\n      if(c==0){\n\tl=n;\n\tc=2;\n\tcontinue;\n      }\n      if(c==1){\n\tif(n<=r){\n\t  l=n;\n\t  c=2;\n\t}else{\n\t  r=n;\n\t  c=1;\n\t  ++tans;\n\t}\n      }else{\n\tif(l<=n){\n\t  r=n;\n\t  c=1;\n\t}else{\n\t  l=n;\n\t  c=2;\n\t  ++tans;\n\t}\n      }\n    }\n    //cout<<l<<\" \"<<r<<\" \"<<tans<<endl;\n    ans=min(tans,ans);\n    cout<<ans<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//typedef\n//-------------------------#include <bits/stdc++.h>\n \nconst double pi = 3.141592653589793238462643383279;\n \n \nusing namespace std;\n \n//conversion\n//------------------------------------------\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout << x; return sout.str(); }\ninline int readInt() { int x; scanf(\"%d\", &x); return x; }\n \n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long long, long long> PLL;\ntypedef pair<int, PII> TIII;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n \n \n//container util\n \n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SQ(a) ((a)*(a))\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n \n \n//repetition\n//------------------------------------------\n#define FOR(i,s,n) for(int i=s;i<(int)n;++i)\n#define REP(i,n) FOR(i,0,n)\n#define MOD 998244353\n \n#define rep(i, a, b) for(int i = a; i < (b); ++i)\n#define trav(a, x) for(auto& a : x)\n#define all(x) x.begin(), x.end()\n#define sz(x) (int)(x).size()\n \ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\nconst double EPS = 1E-8;\n \n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\n \nclass UnionFind {\npublic:\n    vector <int> par; \n    vector <int> siz; \n\n    UnionFind(int sz_): par(sz_), siz(sz_, 1) {\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n    void init(int sz_) {\n        par.resize(sz_);\n        siz.assign(sz_, 1LL);\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n \n    int root(int x) { \n        while (par[x] != x) {\n            x = par[x] = par[par[x]];\n        }\n        return x;\n    }\n \n    bool merge(int x, int y) {\n        x = root(x);\n        y = root(y);\n        if (x == y) return false;\n        if (siz[x] < siz[y]) swap(x, y);\n        siz[x] += siz[y];\n        par[y] = x;\n        return true;\n    }\n \n    bool issame(int x, int y) { \n        return root(x) == root(y);\n    }\n \n    int size(int x) { \n        return siz[root(x)];\n    }\n};\n \n \nll modPow(ll x, ll n, ll mod = MOD){\n    ll res = 1;\n    while(n){\n        if(n&1) res = (res * x)%mod;\n \n        res %= mod;\n        x = x * x %mod;\n        n >>= 1;\n    }\n    return res;\n}\n \n#define SIEVE_SIZE 5000000+10\nbool sieve[SIEVE_SIZE];\nvoid makeSieve(){\n    for(int i=0; i<SIEVE_SIZE; ++i) sieve[i] = true;\n    sieve[0] = sieve[1] = false;\n    for(int i=2; i*i<SIEVE_SIZE; ++i) if(sieve[i]) for(int j=2; i*j<SIEVE_SIZE; ++j) sieve[i*j] = false;\n}\n \nbool isprime(ll n){\n    if(n == 0 || n == 1) return false;\n    for(ll i=2; i*i<=n; ++i) if(n%i==0) return false;\n    return true;\n}\n \nconst int MAX = 2000010;\nlong long fac[MAX], finv[MAX], inv[MAX];\n \n// テーブルを作る前処理\nvoid COMinit() {\n    fac[0] = fac[1] = 1;\n    finv[0] = finv[1] = 1;\n    inv[1] = 1;\n    for (int i = 2; i < MAX; i++){\n        fac[i] = fac[i - 1] * i % MOD;\n        inv[i] = MOD - inv[MOD%i] * (MOD / i) % MOD;\n        finv[i] = finv[i - 1] * inv[i] % MOD;\n    }\n}\n \n// 二項係数計算\nlong long COM(int n, int k){\n    if (n < k) return 0;\n    if (n < 0 || k < 0) return 0;\n    return fac[n] * (finv[k] * finv[n - k] % MOD) % MOD;\n}\n \nlong long extGCD(long long a, long long b, long long &x, long long &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    long long d = extGCD(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\n// 負の数にも対応した mod (a = -11 とかでも OK) \ninline long long mod(long long a, long long m) {\n    return (a % m + m) % m;\n}\n \n// 逆元計算 (ここでは a と m が互いに素であることが必要)\nlong long modinv(long long a, long long m) {\n    long long x, y;\n    extGCD(a, m, x, y);\n    return mod(x, m); // 気持ち的には x % m だが、x が負かもしれないので\n}\nll GCD(ll a, ll b){\n    \n    if(b == 0) return a;\n    return GCD(b, a%b);\n}\n\ntypedef vector<ll> vec;\ntypedef vector<vec> mat;\n\nmat mul(mat &A, mat &B) {\n    mat C(A.size(), vec((int)B[0].size()));\n    for(int i=0; i<A.size(); ++i){\n        for(int k=0; k<B.size(); ++k){\n            for(int j=0; j<B[0].size(); ++j){\n                C[i][j] = (C[i][j] + A[i][k] * B[k][j] %MOD) % MOD;\n            }\n        }\n    }\n    return C;\n}\nmat matPow(mat A, ll n) {\n    mat B(A.size(), vec((int)A.size()));\n \n    for(int i=0; i<A.size(); ++i){\n        B[i][i] = 1;\n    }\n \n    while(n > 0) {\n        if(n & 1) B = mul(B, A);\n        A = mul(A, A);\n        n >>= 1;\n    }\n    return B;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cout << fixed << setprecision(15);\n\n    \n    string s;\n    map<int, int> mp;\n    mp[7] = mp[4] = mp[1] = 0;\n    mp[8] = mp[2] = 1;\n    mp[9] = mp[6] = mp[3] = 2;\n    while(cin >> s){\n        if(s == \"#\") break;\n\n        int ans = INT_MAX;\n        //左足から始める\n\n        int l1=-1, r1=-1;\n        int cnt = 0;\n        bool flag = true;\n        for(int i=0; i<s.size(); i++){\n            if(flag){\n                if(r1 == -1){\n                    l1 = s[i]-'0';\n                    flag = false;\n                }else{\n                    if(mp[s[i]-'0'] > mp[r1]){\n                        cnt++;\n                        r1 = s[i] -'0';\n                        flag = true;\n                    }else{\n                        l1 = s[i]-'0';\n                        flag = false;\n                    }\n                }\n            }else{\n                if(mp[l1] > mp[s[i]-'0']){\n                    cnt++;\n                    l1 = s[i] -'0';\n                    flag = false;\n                }else{\n                    r1 = s[i]-'0';\n                    flag = true;\n                }\n            }\n        }\n        ans = min(ans, cnt);\n        cnt = 0;\n        int l2 = -1, r2 = -1;\n        flag = true;\n        //右足から始める\n        for(int i=0; i<s.size(); i++){\n            if(flag){\n                if(l2 == -1){\n                    r2 = s[i]-'0';\n                    flag = false;\n                }else{\n                    if(mp[l2] > mp[s[i]-'0']){\n                        cnt++;\n                        l2 = s[i]-'0';\n                        flag = true;\n                    }else{\n                        r2 = s[i]-'0';\n                        flag = false;\n                    }\n                }\n            }else{\n                if(mp[s[i]-'0'] > mp[r2]){\n                    cnt++;\n                    r2 = s[i] -'0';\n                    flag = false;\n                }else{\n                    l2 = s[i]-'0';\n                    flag = true;\n                }\n            }\n        }\n        ans = min(ans, cnt);\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\nusing namespace std;\nusing ll = int64_t;\n\nenum {\n    LEFT, RIGHT\n};\n\nbool isOK(ll left_sq, ll right_sq) {\n    if (left_sq == -1 || right_sq == -1) {\n        return true;\n    }\n\n    ll l = (left_sq % 3 + 2) % 3;\n    ll r = (right_sq % 3 + 2) % 3;\n    return l <= r;\n}\n\nint main() {\n    string s;\n    while (cin >> s) {\n        if (s == \"#\") {\n            break;\n        }\n\n        ll ans = INT_MAX;\n\n        for (ll turn : {LEFT, RIGHT}) {\n            ll left_sq = -1, right_sq = -1;\n            ll tmp = 0;\n\n            for (char c : s) {\n                int sq = c - '0';\n\n                if (turn == RIGHT) {\n                    if (isOK(left_sq, sq)) {\n                        right_sq = sq;\n                        turn = LEFT;\n                    } else {\n                        tmp++;\n                        left_sq = sq;\n                        turn = RIGHT;\n                    }\n                } else {\n                    if (isOK(sq, right_sq)) {\n                        left_sq = sq;\n                        turn = RIGHT;\n                    } else {\n                        tmp++;\n                        right_sq = sq;\n                        turn = LEFT;\n                    }\n\n                }\n            }\n\n            ans = min(ans, tmp);\n        }\n\n        cout << ans << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[100001];\nlong int num[100001];\nint ans;\nint size;\n\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\t//最小値\n\tfor(a=1;a<size;a++){\n\t\t//パネル1,4,7\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\t//パネル2,8\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,r=2,w=1;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\t//パネル3,6,9\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\t//初期化\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tans=1000000;\n\t\t//入力\n\t\tcin >> str;\n\t\t//入力終了\n\t\tif(str[0]=='#')break;\n\t\t//わりとどうでもいいところ\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++)num[a]=str[a]-'0';\n\t\t//1歩目\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,3,0),step(1,a,1));\n\t\t//出力\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nstring op;\n\nbool check(int lef,int rig)\n{\n  if(lef == -1 || rig == -1)\n    return true;\n\n  lef %= 3,rig %= 3;\n  if(lef == 0 && (rig == 1 || rig == 2))\n    return false;\n  else if(lef == 2 && rig == 1)\n    return false;\n \n  return true;\n}\n\nint Do(bool step)\n{\n  if(op.size() <= 1)\n    return 0;\n\n  int res = 0;\n  int l,r,pl,pr;\n  l = r = pl = pr = -1;\n  for(int i=0;i<op.size();i++)\n    {\n      if(!step)\n\tl = op[i]-'0',step = !step;\n      else \n\tr = op[i]-'0',step = !step;\n\n      if(!check(l,r))\n\t{\n\t  if(step)\n\t    r = l,l = pl;\n\t  else\n\t    l = r,r = pr;\n\t  step = !step;\n\t  res++;\n\t}\n      pr = r, pl = l;\n    }\n  return res;\n}\n\nint main()\n{\n \n  while(cin >> op, op != \"#\")\n    cout << min(Do(1),Do(0)) << endl;\n    \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <cassert>\n#include <climits>\n#include <queue>\n#include <set>\n#include <map>\n#include <valarray>\n#include <bitset>\n#include <stack>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int INF = 1<<29;\nconst double PI = acos(-1);\nconst double EPS = 1e-8;\n\nint dp[100001][2];\nint x[100000];\nint n;\n\nint solve(int now, int leg) {\n  if (dp[now][leg]>=0) return dp[now][leg];\n  if (now==n-1) return 0;\n  int res = INF;\n  if (leg==0) {\n    if (x[now+1] >= x[now]) \n      res = min(res, solve(now+1,1));\n    res = min(res, 1+solve(now+1,0));\n  } else {\n    if (x[now+1] <= x[now]) \n      res = min(res, solve(now+1,0));\n    res = min(res, 1+solve(now+1,1));\n  }\n  return dp[now][leg] = res;\n}\n\nint main() {\n  string s;\n  const int xx[] = {-1,0,1,-1,0,1,-1,0,1};\n  while(cin>>s,s!=\"#\") {\n    n = s.size();\n    REP(i,s.size()) {\n      x[i] = xx[s[i]-'1'];      \n    }\n    memset(dp,-1,sizeof(dp));\n    cout << min(solve(0,0),solve(0,1)) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\n\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<VVI> VVVI;\ntypedef vector<VVVI> VVVVI;\n\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n\ntypedef vector<double> VD;\ntypedef vector<VD> VDD;\n\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\n\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\n\ntypedef pair<int, int> PII;\ntypedef vector<PII> VPII;\n\n#define fst first\n#define snd second\n#define MP make_pair\n#define PB push_back\n#define EB emplace_back\n#define ALL(x) (x).begin(), (x).end()\n#define RANGE(x, y, maxX, maxY) (0 <= (x) && 0 <= (y) && (x) < (maxX) && y < (maxY))\n#define REP(i, init, N) for (int i = (init); i < (int)(N); i++)\n\nconst int INF = 0x3f3f3f3f;\nconst int DX[] = {-1,0,1,-1,0,1,-1,0,1};\nconst int DY[] = {1,1,1,0,0,0,-1,-1,-1};\n\nstring qs;\n\nbool ok(int l, int r) {\n    int lx = DX[l];\n    int rx = DX[r];\n    return lx <= rx;\n}\n\nPII move(int l, int r, bool is_l, int q) {\n    int nl = is_l ? (q - 1) : l;\n    int nr = is_l ? r : (q - 1);\n    return MP(nl, nr);\n}\n\nint solve() {\n    int N = qs.size();\n\n    // dp[step][l][r][before_is_l] = min_invalid_step\n    VVVVI dp(N + 1, VVVI(9, VVI(9, VI(2, INF))));\n    dp[0][0][8][0] = 0;\n    dp[0][0][8][1] = 0;\n\n    REP(n, 0, N) REP(l, 0, 9) REP(r, 0, 9) REP(b_is_l, 0, 2) {\n        if (dp[n][l][r][b_is_l] == INF) continue;\n        int cnt = dp[n][l][r][b_is_l];\n        int q = qs[n] - '0';\n\n        REP(is_l, 0, 2) {\n            PII nt = move(l, r, is_l, q);\n            if (!ok(nt.fst, nt.snd)) continue;\n\n            dp[n + 1][nt.fst][nt.snd][is_l] = min(\n                    dp[n + 1][nt.fst][nt.snd][is_l],\n                    cnt + (b_is_l == is_l));\n        }\n\n    }\n\n    int ans = INF;\n    REP(l, 0, 9) REP(r, 0, 9) REP(is_l, 0, 2) {\n        ans = min(ans, dp[N][l][r][is_l]);\n    }\n\n    return ans;\n}\n\nint main(void) {\n    while (cin >> qs, qs != \"#\") {\n        cout << solve() << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\nusing namespace std;\n\nstring s;\nint ans,x;\nbool flag[3];\nbool foot; //t = left, f = right\nint a[100001];\n\nint check(){\n\tint res = 0;\n\tfor(int i = 1;i < s.size();i++){\n\t\tif(foot){\n\t\t\tif(a[i-1] == 1 && (a[i] == 2 || a[i] == 0)){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse if(a[i-1] == 2 && a[i] == 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse foot = false;\n\t\t}\n\t\telse{\n\t\t\tif(a[i-1] == 0 && (a[i] == 1 || a[i] == 2)){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse if(a[i-1] == 2 && a[i] == 1){\n\t\t\t\tres++;\n\t\t\t}\n\t\t\telse foot = true;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(){\n\twhile(1){\n\t\tans = 0;\n\t\tcin >> s;\n\t\tif(s[0] == '#')break;\n\t\tfor(int i = 0;i < s.size();i++){\n\t\t\tstringstream ss;\n\t\t\tss << s[i];\n\t\t\tss >> a[i];\n\t\t\ta[i] %= 3;\n\t\t}\n\t\tfoot = true;\n\t\tans = check();\n\t\tfoot = false;\n\t\tans = min(ans,check());\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<climits>\n#include<iostream>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\n#define MAXS (9 * 9 * 2)\ntypedef long long ll;\ntypedef unsigned long long ull;\nusing namespace std;\n#define pb push_back\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\nint rl[]={0, 1, 2, 0, 1, 2, 0, 1, 2};\nshort dp[100001][MAXS];\nchar s[200000];\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n#define INF 1000000000\n\nint soeji(int a,int b,int c){\n    return a * 9 * 2 + b * 2 + c;\n}\n\nint main(){\n    while(1){\n        scanf(\"%s\",s);\n        if(s[0] == '#')\n            break;\n\n        int n = strlen(s);\n        REP(i,n)\n            s[i] -= '1';\n\n        REP(i,MAXS)\n            dp[n][i] = 0;\n\n        RREP(i,n){\n            REP(a,9){\n                REP(b,9){\n                    REP(c,2){\n                        int a1 = a,b1 = b,a2 = a,b2 = b;\n                        if(c == 0){\n                            a1 = s[i];\n                            b2 = s[i];\n                        }else{\n                            b1 = s[i];\n                            a2 = s[i];\n                        }\n                        int x = rl[a1] >= rl[b1] ? dp[i + 1][soeji(a1,b2,c)] : INF - 1;\n                        int y = rl[a2] >= rl[b2] ? dp[i + 1][soeji(a2,b2,!c)] : INF;\n                        dp[i][soeji(a,b,c)] = min(x + 1,y);\n                    }\n                }\n            }\n        }\n        int mini = 1000000000;\n        REP(i,9 * 9 * 2){\n            if(dp[0][i] < mini)\n                mini = dp[0][i];\n        }\n        printf(\"%d\\n\",mini);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <algorithm>\n#include <cstdio>\n#include <functional>\n#include <iostream>\n#include <cfloat>\n#include <climits>\n#include <cstring>\n#include <cmath>\n#include <map>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <time.h>\n#include <vector>\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> i_i;\ntypedef pair<ll, int> ll_i;\ntypedef pair<double, int> d_i;\ntypedef pair<ll, ll> ll_ll;\ntypedef pair<double, double> d_d;\nstruct edge { int u, v; ll w; };\n\nll MOD = 1000000007;\nll _MOD = 1000000009;\ndouble EPS = 1e-10;\n\nint main() {\n\tfor (;;) {\n\t\tstring s; cin >> s;\n\t\tif (s == \"#\") break;\n\t\tvector< vector<int> > l(3, vector<int>(3)), r(3, vector<int>(3));\n\t\tfor (int i = 0; i < s.length(); i++) {\n\t\t\tint j = (s[i] - '1') % 3;\n\t\t\tvector< vector<int> > _l(3, vector<int>(3, INT_MAX / 2)), _r(3, vector<int>(3, INT_MAX / 2));\n\t\t\tfor (int k = 0; k < 3; k++)\n\t\t\t\tfor (int _k = k; _k < 3; _k++) {\n\t\t\t\t\t_r[k][j] = min(_r[k][j], l[k][_k]);\n\t\t\t\t\t_l[j][_k] = min(_l[j][_k], l[k][_k] + 1);\n\t\t\t\t\t_l[j][_k] = min(_l[j][_k], r[k][_k]);\n\t\t\t\t\t_r[k][j] = min(_r[k][j], r[k][_k] + 1);\n\t\t\t\t}\n\t\t\tl = _l; r = _r;\n\t\t}\n\t\tint mini = INT_MAX / 2;\n\t\tfor (int k = 0; k < 3; k++)\n\t\t\tfor (int _k = k; _k < 3; _k++)\n\t\t\t\tmini = min(mini, min(l[k][_k], r[k][_k]));\n\t\tcout << mini << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cstdio>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<queue>\n#include<functional>\n#include<fstream>\n#include<cstring>\n\nusing namespace std;\n\n#define REP(i,n) for(int i = 0; i < (int)(n); i++)\n#define f first\n#define s second\n\nstring str;\n\nint memo[2][3][3][100010];\n\nint solve(int next, int left, int right, int p){\n  if(p == str.size() || !isdigit(str[p])) return 0;\n  if(memo[next][left][right][p] != -1)\n    return memo[next][left][right][p];\n\n  int ret = 10000000;\n  int nn = next;\n  int tmp = 0;\n  int st = (str[p]-'1') % 3;\n  int l = (next == 0 ? st : left);\n  int r = (next == 1 ? st : right);\n  if(next == 0){\n    if(st > right){\n      tmp++;\n      next ^= 1;\n      r = st;\n    }else\n      l = st;\n  }else{\n    if(st < left){\n      tmp++;\n      next ^= 1;\n      l = st;\n    }else\n      r = st;\n  }\n\n  return memo[nn][left][right][p] = tmp + solve(next^1, l, r, p+1);\n}\n\nint main(){\n  while(getline(cin, str) && str[0] != '#'){\n    int ans = 100000000;\n    REP(i,2) REP(j,3) REP(k,3)\n      memset(memo[i][j][k],-1,sizeof(int)*(str.size()+2));\n    ans = min(ans, solve(0,0,2,0));\n    ans = min(ans, solve(1,0,2,0));\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n\nint col[]={0,-1,0,1,-1,0,1,-1,0,1};\nbool ok(int left,int right){\n  return col[left]<=col[right];\n}\ntypedef vector<vvi> vvvi;\ntypedef vector<vvvi> vvvvi;\nint main(){\n  string s;\n  while(cin>>s,s!=\"#\"){\n    int n=s.size();\n    vvvvi dp(2,vvvi(10,vvi(10,vi(2,INT_MAX/10))));\n    REP(j,10){\n      REP(k,10){\n        REP(l,2){\n          dp[0][j][k][l]=0;\n        }\n      }\n    }\n    REP(i,n){\n      REP(j,10){\n        REP(k,10){\n          REP(l,2){\n            dp[(i+1)%2][j][k][l]=INT_MAX/10;\n          }\n        }\n      }\n      REP(j,10){\n        REP(k,10){\n          int p=s[i]-'0';\n          if(ok(p,k)){\n            REP(l,2){\n              dp[(i+1)%2][p][k][0]=min(dp[(i+1)%2][p][k][0],dp[i%2][j][k][l]+(l==0));\n            }\n          }\n          if(ok(j,p)){\n            REP(l,2){\n              dp[(i+1)%2][j][p][1]=min(dp[(i+1)%2][j][p][1],dp[i%2][j][k][l]+(l==1));\n            }\n          }\n        }\n      }\n    }\n    int ans=INT_MAX;\n    /*\n    REP(i,n+1){\n      REP(j,10){\n        REP(k,10){\n          REP(l,2){\n            cerr<<i<<\" \"<<j<<\" \"<<k<<\" \"<<l<<\" \"<<dp[i%2][j][k][l]<<endl;\n          }\n        }\n      }\n    }\n    */\n    REP(j,10){\n      REP(k,10){\n        REP(l,2){\n          ans=min(ans,dp[n%2][j][k][l]);\n        }\n      }\n    }\n    cout<<ans<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <cstdio>\nchar in[100001];\n#define x(ch) ((((ch)-'1')%3)-1)\nint main(){\n\tfor(;~scanf(\"%s\",in);){\n\t\tif(in[0]=='#')break;\n\t\tint r,l,L=strlen(in),b=0,R,res=9999999;\n\t\tfor(int k=0;k<2;k++){\n\t\t\tr=3;l=-3;R=0;b=k;\n\t\t\tfor(int i=0;i<L;i++){\n\t\t\t\tif(!b){\n\t\t\t\t\tif(x(in[i])>r){\n\t\t\t\t\t\tR++;\n\t\t\t\t\t\tr=x(in[i]);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tl=x(in[i]);\n\t\t\t\t\t\tb=!b;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(x(in[i])<l){\n\t\t\t\t\t\tR++;\n\t\t\t\t\t\tl=x(in[i]);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tr=x(in[i]);\n\t\t\t\t\t\tb=!b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(res>R)res=R;\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint tra(int a)\n{\n    if(a==1||a==4||a==7)\n        return 1;\n    if(a==2||a==8)\n        return 2;\n    if(a==3||a==6||a==9)\n        return 3;\n}\nint main()\n{\n    char str[100001];\n    int number[100001];\n\n    while(cin>>str)\n    {\n        int min=99999999;\n        if(str[0]=='#')\n            break;\n        int len=strlen(str);\n            for(int i=0; i<len; i++)\n            {\n                number[i]=tra(str[i]-'0');\n            }\n            for(int l=1; l<=9; l++)\n            {\n                if(l==5)\n                {\n                    continue;\n                }\n                for(int r=1; r<=9; r++)\n                {\n                    if(r==5||l==r||tra(l)>tra(r)||l==str[0]-'0'||r==str[0]-'0')\n                    {\n                        continue;\n                    }\n                    for(int j=0; j<2; j++)\n                    {\n                        int flag=j;\n                        int left=tra(l);\n                        int right=tra(r);\n                        int num1=0;\n                        for(int i=0; i<len; i++)\n                        {\n                            int tmp=number[i];\n                            if(!flag)\n                            {\n                                if(tmp<=right)\n                                {\n                                    flag=1;\n                                    left=tmp;\n                                }\n                                else\n                                {\n                                    right=tmp;\n                                    num1++;\n                                }\n                            }\n                            else\n                            {\n                                if(left<=tmp)\n                                {\n                                    flag=0;\n                                    right=tmp;\n                                }\n                                else\n                                {\n                                    left=tmp;\n                                    num1++;\n                                }\n                            }\n                        }\n                        if(min>num1)\n                        {\n                            min=num1;\n                        }\n\n                    }\n\n                }\n            }\n            printf(\"%d\\n\",min);\n        }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <iostream>\n\nusing std::min;\n\nconst int N = 100000 + 10;\nconst int D[10] = {2, 1, 2, 3, 1, 2, 3, 1, 2, 3};\nconst int INF = 1 << 29;\n\nchar string[N];\nint dp[N][10][10][2];\n\nvoid update(int &dest, int src) {\n\tif (dest == -1 || src < dest) {\n\t\tdest = src;\n\t}\n}\n\nint main() {\n\twhile (scanf(\"%s\", string + 1) != EOF && string[1] != '#') {\n\t\tint n = strlen(string + 1);\n\t\tmemset(dp, -1, sizeof(dp));\n\t\tint x = string[1] - '0';\n\t\tif (D[x] <= D[0]) {\n\t\t\tdp[1][x][0][0] = 0;\n\t\t}\n\t\tif (D[x] >= D[0]) {\n\t\t\tdp[1][0][x][1] = 0;\n\t\t}\n\t\tfor (int i = 1; i < n; ++ i) {\n\t\t\tfor (int a = 0; a <= 9; ++ a) {\n\t\t\t\tfor (int b = 0; b <= 9; ++ b) {\n\t\t\t\t\tfor (int k = 0; k < 2; ++ k) {\n\t\t\t\t\t\tif (dp[i][a][b][k] != -1) {\n\t\t\t\t\t\t\tint x = string[i + 1] - '0';\n\t\t\t\t\t\t\tif (D[x] <= D[b]) {\n\t\t\t\t\t\t\t\tupdate(dp[i + 1][x][b][0], dp[i][a][b][k] + (k == 0));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (D[x] >= D[a]) {\n\t\t\t\t\t\t\t\tupdate(dp[i + 1][a][x][1], dp[i][a][b][k] + (k == 1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint answer = INF;\n\t\tfor (int a = 0; a <= 9; ++ a) {\n\t\t\tfor (int b = 0; b <= 9; ++ b) {\n\t\t\t\tfor (int k = 0; k < 2; ++ k) {\n\t\t\t\t\tif (dp[n][a][b][k] != -1) {\n\t\t\t\t\t\tanswer = min(answer, dp[n][a][b][k]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", answer);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <iostream>\n#include <algorithm>\n#define INF 1e7\nusing namespace std;\nint dp[100001][2];\n\nint main(void){\n\twhile(1){\n\t\tstring str;\n\t\tcin >> str;\n\t\tif(str==\"#\")break;\n\t\tint cnt=0,cnt2=0;\n\t\tint now=0;\n\t\tfor(int i=0;i<=str.size();i++){\n\t\t\tdp[i][0]=dp[i][1]=INF;\n\t\t}\n\t\tdp[1][0]=0;\n\t\tdp[1][1]=0;\n\t\tfor(int i=1;i<str.size();i++){\n\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\tif(dp[i][j]!=INF){\n\t\t\t\t\tdp[i+1][j]=min(dp[i+1][j],dp[i][j]+1);\n\t\t\t\t\tif(j==0 && (str[i]-'0'+2)%3>=(str[i-1]-'0'+2)%3){\n\t\t\t\t\t\tdp[i+1][1]=min(dp[i+1][1],dp[i][j]);\n\t\t\t\t\t}\n\t\t\t\t\tif(j==1 && (str[i]-'0'+2)%3<=(str[i-1]-'0'+2)%3){\n\t\t\t\t\t\tdp[i+1][0]=min(dp[i+1][0],dp[i][j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t}\n\t\tprintf(\"%d\\n\",min(dp[str.size()][0],dp[str.size()][1]));\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdlib>\n#include <cstring>\n#include <iostream>\n#include <string>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, const T& b) { if(b < a) a = b; }\n\nint pos[128];\nstring arrows;\nint memo[100000][3][3][2];\n\nint dfs(int num, int rx, int lx, bool p_left) {\n\tif(num == (int)arrows.size())\n\t\treturn 0;\n\n\tif(memo[num][rx][lx][p_left] != -1)\n\t\treturn memo[num][rx][lx][p_left];\n\n\tconst int next_pos = pos[arrows[num]];\n\tint add = (!p_left || next_pos < lx ? 1 : 0);\n\tint res = dfs(num + 1, next_pos, lx, false) + add;\n\n\tadd = (p_left || rx < next_pos ? 1 : 0);\n\tchmin(res, dfs(num + 1, rx, next_pos, true) + add);\n\n\treturn memo[num][rx][lx][p_left] = res;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tpos['1'] = pos['4'] = pos['7'] = 0;\n\tpos['2'] = pos['8'] = 1;\n\tpos['3'] = pos['6'] = pos['9'] = 2;\n\n\twhile(cin >> arrows, arrows != \"#\") {\n\t\tmemset(memo, -1, sizeof(memo));\n\t\tcout << min(dfs(0, 1, 1, false), dfs(0, 1, 1, true)) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <map>\n#define INF 100005\n\nusing namespace std;\nint F[INF][2];\nchar str[INF];\nint X[3]={ 3, 1, 2};\nint getnum(char c0, char c1)\n{\n\treturn X[(c0-48)%3]<=X[(c1-48)%3];\n}\nint main()\n{\n\t//freopen(\"1.txt\", \"r\", stdin);\n\tint n, m, i, j;\n\n\twhile (scanf(\"%s\", str))\n\t{\n\t\tif (str[0]=='#') break;\n\t\tmemset(F, 0x0f, sizeof(F));\n\t\tF[1][1]=F[1][0]=0;\n\t\tint len=strlen(str);\n\t\tfor (i=2; i<=len; i++)\n\t\t{\n\t\t\tF[i][0]=min(F[i][0], F[i-1][0]+1);\n\t\t\tif (getnum(str[i-1], str[i-2]))\n\t\t\t\tF[i][0]=min(F[i][0], F[i-1][1]);\n\t\t\tF[i][1]=min(F[i][1], F[i-1][1]+1);\n\t\t\tif (getnum(str[i-2], str[i-1]))\n\t\t\t\tF[i][1]=min(F[i][1], F[i-1][0]);\n\t\t}\n\t\tint ans=min(F[len][0], F[len][1]);\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <string>\n#include <cstring>\nusing namespace std;\n\n#define INF (1<<24)\n\nbool cross(int l, int r)\n{\n\tif(l==4 || r==4) return false;\n\treturn ( (l%3 > r%3) ? true : false );\n}\n\nint main()\n{\n\t//ifstream cin(\"B.txt\");\n\n\tstring step;\n\twhile(cin >> step, step!=\"#\")\n\t{\n\t\tint ans=INF;\n\t\tint   dp[2][9][9];\n\t\tint pleg[2][9][9];\n\n\t\tfor(int l=0; l<9; l++)\n\t\tfor(int r=0; r<9; r++)\n\t\t{\n\t\t\tdp[1][l][r] = INF;\n\t\t}\n\t\tdp[1][4][4] = 0;\n\t\tpleg[1][4][4] = 0;\n\t\tfor(int i=0; i<step.size(); i++)\n\t\t{\n\t\t\tfor(int l=0; l<9; l++)\n\t\t\tfor(int r=0; r<9; r++)\n\t\t\t{\n\t\t\t\tdp[i&1][l][r] = INF;\n\t\t\t}\n\n\t\t\tfor(int pl=0; pl<9; pl++)\n\t\t\tfor(int pr=0; pr<9; pr++)\n\t\t\t{\n\t\t\t\tif(dp[(i+1)&1][pl][pr] != INF)\n\t\t\t\t{\n\t\t\t\t\tint st = step[i]-'1';\n\n\t\t\t\t\t// right\n\t\t\t\t\tif(!cross(pl,st))\n\t\t\t\t\t{\n\t\t\t\t\t\tif(pleg[(i+1)&1][pl][pr] == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][pl][st] > dp[(i+1)&1][pl][pr])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][pl][st] = dp[(i+1)&1][pl][pr];\n\t\t\t\t\t\t\t\tpleg[i&1][pl][st] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][pl][st] > dp[(i+1)&1][pl][pr]+1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][pl][st] = dp[(i+1)&1][pl][pr]+1;\n\t\t\t\t\t\t\t\tpleg[i&1][pl][st] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// left\n\t\t\t\t\tif(!cross(st,pr))\n\t\t\t\t\t{\n\t\t\t\t\t\tif(pleg[(i+1)&1][pl][pr] == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][st][pr] > dp[(i+1)&1][pl][pr]+1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][st][pr] = dp[(i+1)&1][pl][pr]+1;\n\t\t\t\t\t\t\t\tpleg[i&1][st][pr] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][st][pr] > dp[(i+1)&1][pl][pr])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][st][pr] = dp[(i+1)&1][pl][pr];\n\t\t\t\t\t\t\t\tpleg[i&1][st][pr] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tfor(int l=0; l<9; l++)\n\t\tfor(int r=0; r<9; r++)\n\t\t{\n\t\t\tans=min(ans,dp[(step.size()+1)&1][l][r]);\n\t\t}\n\n\n\n\t\tfor(int l=0; l<9; l++)\n\t\tfor(int r=0; r<9; r++)\n\t\t{\n\t\t\tdp[1][l][r] = INF;\n\t\t}\n\t\tdp[1][4][4] = 0;\n\t\tpleg[1][4][4] = 1;\n\t\tfor(int i=0; i<step.size(); i++)\n\t\t{\n\t\t\tfor(int l=0; l<9; l++)\n\t\t\tfor(int r=0; r<9; r++)\n\t\t\t{\n\t\t\t\tdp[i&1][l][r] = INF;\n\t\t\t}\n\n\t\t\tfor(int pl=0; pl<9; pl++)\n\t\t\tfor(int pr=0; pr<9; pr++)\n\t\t\t{\n\t\t\t\tif(dp[(i+1)&1][pl][pr] != INF)\n\t\t\t\t{\n\t\t\t\t\tint st = step[i]-'1';\n\n\t\t\t\t\t// right\n\t\t\t\t\tif(!cross(pl,st))\n\t\t\t\t\t{\n\t\t\t\t\t\tif(pleg[(i+1)&1][pl][pr] == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][pl][st] > dp[(i+1)&1][pl][pr])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][pl][st] = dp[(i+1)&1][pl][pr];\n\t\t\t\t\t\t\t\tpleg[i&1][pl][st] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][pl][st] > dp[(i+1)&1][pl][pr]+1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][pl][st] = dp[(i+1)&1][pl][pr]+1;\n\t\t\t\t\t\t\t\tpleg[i&1][pl][st] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// left\n\t\t\t\t\tif(!cross(st,pr))\n\t\t\t\t\t{\n\t\t\t\t\t\tif(pleg[(i+1)&1][pl][pr] == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][st][pr] > dp[(i+1)&1][pl][pr]+1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][st][pr] = dp[(i+1)&1][pl][pr]+1;\n\t\t\t\t\t\t\t\tpleg[i&1][st][pr] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(dp[i&1][st][pr] > dp[(i+1)&1][pl][pr])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdp[i&1][st][pr] = dp[(i+1)&1][pl][pr];\n\t\t\t\t\t\t\t\tpleg[i&1][st][pr] = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor(int l=0; l<9; l++)\n\t\tfor(int r=0; r<9; r++)\n\t\t{\n\t\t\tans=min(ans,dp[(step.size()+1)&1][l][r]);\n\t\t}\n\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-8;\n\n//dp[prev,now][left_state][right_state][prev_foot_side]\nint prev[10][10][2];\nint next[10][10][2];\n\nconst int gHorizonalPos[] = {\n  -1//none\n  ,0//1->0\n  ,1//2->1\n  ,2//3->2\n  ,0//4->0\n  ,-1//5->-1(none)\n  ,2//6->2\n  ,0//7->0\n  ,1//8->1\n  ,2//9->2\n};\n\nint CalcCost(int prev_left_state,int prev_right_state,int next_step_state,\n\t     int next_foot_side,int prev_foot_side){\n  if(prev_foot_side == next_foot_side) return 1;\n\n  int LHpos = gHorizonalPos[prev_left_state];\n  int RHpos = gHorizonalPos[prev_right_state];\n  int NHpos = gHorizonalPos[next_step_state];\n\n  //next_foot_side := 0(left)\n  if(next_foot_side == 0){\n    if(RHpos == -1) return 0;\n    return RHpos < NHpos ? 1 : 0;\n  }\n  //next_foot_side := 1(right)\n  else if(next_foot_side == 1){\n    if(LHpos == -1) return 0;\n    return NHpos < LHpos ? 1 : 0;\n  }\n}\n\nint ComputeLeastCost(){\n  int res = INF;\n  for(int left_state=0;left_state<10;left_state++){\n    if(left_state == 5) continue;\n    for(int right_state=0;right_state<10;right_state++){\n    if(right_state == 5) continue;\n      for(int foot_side=0;foot_side<2;foot_side++){\n\tres = min(res,prev[left_state][right_state][foot_side]);\n      }\n    }\n  }\n  return res;\n}\n\nvoid debug(int next_step_pos,int turn){\n  printf(\"turn:%d target:%d\\n\",turn,next_step_pos);\n  for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n    if(prev_left_state == 5) continue;\n    for(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n      if(prev_right_state == 5) continue;\n      for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\tprintf(\"calc_cost %d ,\",CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,1));\n\tprintf(\"turn %d, left_state %d,right_state %d,foot_side %d,val %d\\n\",\n\t       turn,\n\t       prev_left_state,\n\t       prev_right_state,\n\t       next_foot_side,\n\t       next[prev_left_state][prev_right_state][next_foot_side]);\n      }\n    }\n  }\n\n  printf(\"\\n\");\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str.size() == 1 && str[0] == '#') break;\n\n    memset(prev,0x3f,sizeof(prev));\n    memset(next,0x3f,sizeof(next));\n    prev[0][0][0] = 0;\n    prev[0][0][1] = 0;\n    for(int turn=0;turn < str.size(); turn++){\n      int next_step_pos = str[turn]-'0';\n      for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n\tif(prev_left_state == 5) continue;\n\tfor(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n\t  if(prev_right_state == 5) continue;\n\t  for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\t    for(int prev_foot_side = 0;prev_foot_side<2;prev_foot_side++){\n\t      //dp[prev,now][left_state][right_state][prev_foot_side]\n\n\t      int cost = CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,prev_foot_side);\n\n\t      if(next_foot_side == 0){\n\t\tnext[next_step_pos][prev_right_state][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t  +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t   next[next_step_pos][prev_right_state][next_foot_side]);\n\t      }\n\n\t      else{\n\t\tnext[prev_left_state][next_step_pos][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t +prev[prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t  next[prev_left_state][next_step_pos][next_foot_side]);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n\n      memcpy(prev,next,sizeof(next));\n      memset(next,0x3f,sizeof(next));\n      // debug(next_step_pos,turn);\n    }\n    printf(\"%d\\n\",ComputeLeastCost());\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nstring s; int a[100009], dp[100009][2];\nint main() {\n\tios::sync_with_stdio(false);\n\twhile (cin >> s, s != \"#\") {\n\t\tint n = s.size();\n\t\tfor (int i = 0; i < n; i++) a[i] = (s[i] - 48 - 1) % 3;\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (a[i - 1] > a[i]) dp[i][0] = dp[i - 1][0] + 1;\n\t\t\telse dp[i][0] = dp[i - 1][1];\n\t\t\tif (a[i - 1] < a[i]) dp[i][1] = dp[i - 1][1] + 1;\n\t\t\telse dp[i][1] = dp[i - 1][0];\n\t\t}\n\t\tcout << min(dp[n - 1][0], dp[n - 1][1]) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint getside(char c){\n\tint n = c - '0';\n\tif(n == 8 || n ==2){\n\t\treturn 0;\n\t}\n\telse if(n % 3 == 0){\n\t\treturn 1;\n\t}\n\telse{\n\t\treturn -1;\n\t}\n}\n\nint count(string &str, bool preside = true){\n\tint ans = 0;\n\tint lastside = getside(str[0]);\n\tbool rside = preside;\n\tfor(int i = 1; i < str.size(); ++i){\n\t\tint nowside = getside(str[i]);\n\t\tif(rside && nowside > lastside){\n\t\t\tans++;\n\t\t}\n\t\telse if(!rside && nowside < lastside){\n\t\t\tans++;\n\t\t}\n\t\telse{\n\t\t\trside = !rside;\n\t\t}\n\t\tlastside = nowside;\n\t}\n\t//cout << \" \" << ans << endl;\n\treturn ans;\n}\n\n\nint main(){\n\twhile(true){\n\t\tstring str; cin >> str;\n\t\tif(str == \"#\")break;\n\t\tint ans = min(count(str,true), count(str,false));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\nconst int MAX_N=100000+10;\nint forward(int left, int right){\n  int a=(left-1)%3,b=(right-1)%3;\n  return a<b?1:a>b?-1:0;\n}\n\nstring str;\nint main(){ _;\n  while(cin>>str,str[0]!='#'){\n    if(str.size()<2){\n      cout<<0<<endl;\n      continue;\n    }\n    int le=0,re=0,ll,lr,rl,rr;\n    ll=rr=str[0]-'0';\n    lr=rl=str[1]-'0';\n    int lLastForward=forward(ll,lr),rLastForward=forward(rl,rr);\n    int sz=str.size();\n    for(int i=2;i<sz;i++){\n      if(i%2==0){\n\tll=rr=str[i]-'0';\n      }else{\n\tlr=rl=str[i]-'0';\n      }\n      int lForward=forward(ll,lr);\n      int rForward=forward(rl,rr);\n      if(lLastForward*lForward==-1)le++;\n      if(rLastForward*rForward==-1)re++;\n      if(lForward!=0)lLastForward=lForward;\n      if(rForward!=0)rLastForward=rForward;\n    }\n    cout<<min(le,re)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <string>\n#define INF (1e9)\nusing namespace std;\n\nint main(){\n  int d[10]={0,0,1,2,0,-1,2,0,1,2},cnt,ans;\n  string s;\n  char lr;\n  while(1){\n    cin>>s;\n    if(s==\"#\") break;\n    ans=INF;\n    for(int i=0;i<2;i++){\n      if(!i) lr='l';\n      else lr='r';\n      cnt=0;\n      for(int j=1;j<s.size();j++){\n\tif(lr=='l'&&d[s[j-1]-'0']>d[s[j]-'0']) lr='l',cnt++;\n\telse if(lr=='l') lr='r';\n\telse if(d[s[j-1]-'0']<d[s[j]-'0']) lr='r',cnt++;\n\telse lr='l';\n      }\n      ans=min(ans,cnt);\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#pragma warning(disable:4996)\nusing namespace std;\n\nconst int My_Inf=2147483647;\nconst long long int My_LInf=9223372036854775807;\n\nlong long int gcd(long long int l, long long int r) {\n\tassert(l > 0 && r > 0);\n\tif (l > r)return gcd(r, l);\n\telse {\n\t\tif (r%l) {\n\t\t\treturn gcd(l, r%l);\n\n\t\t}\n\t\telse {\n\t\t\treturn l;\n\t\t}\n\t}\n}\n\nmap<int, int>mp;\n\nint main() {\n\tmp['1'] = 0;\n\tmp['2'] = 1;\n\tmp['3'] = 2;\n\tmp['4'] = 0;\n\tmp['6'] = 2;\n\tmp['7'] = 0;\n\tmp['8'] = 1;\n\tmp['9'] = 2;\n\twhile (1) {\n\t\tstring st; cin >> st;\n\t\tif (st == \"#\")break;\n\t\tint ans = 99999999;\n\t\t{\n\t\t\tint l = 0;\n\t\t\tint r = 2;\n\t\t\tbool isleft = true;\n\t\t\tint tired = 0;\n\t\t\tfor (int i = 0; i < st.size(); ++i) {\n\t\t\t\tif (isleft) {\n\t\t\t\t\tif (r < mp[st[i]]) {\n\t\t\t\t\t\tr = mp[st[i]];\n\t\t\t\t\t\ttired++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = mp[st[i]];\n\t\t\t\t\t\tisleft =!isleft;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (l > mp[st[i]]) {\n\t\t\t\t\t\tl = mp[st[i]];\n\t\t\t\t\t\ttired++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = mp[st[i]];\n\t\t\t\t\t\tisleft = !isleft;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tans = min(ans, tired);\n\t\t}\n\t\t{\n\t\t\tint l = 0;\n\t\t\tint r = 2;\n\t\t\tbool isleft = false;\n\t\t\tint tired = 0;\n\t\t\tfor (int i = 0; i < st.size(); ++i) {\n\t\t\t\tif (isleft) {\n\t\t\t\t\tif (r < mp[st[i]]) {\n\t\t\t\t\t\tr = mp[st[i]];\n\t\t\t\t\t\ttired++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = mp[st[i]];\n\t\t\t\t\t\tisleft = !isleft;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (l > mp[st[i]]) {\n\t\t\t\t\t\tl = mp[st[i]];\n\t\t\t\t\t\ttired++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = mp[st[i]];\n\t\t\t\t\t\tisleft = !isleft;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tans = min(ans, tired);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<vector>\n#include<iostream>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\nconst int N = 100000;\nconst int inf = 2*N;\nint dp[2][9][9][N];//left,right,now\n\nint isok(int l,int r){\n  return l%3 <= r%3;\n}\n\nint solve(int prev,int l,int r,int now,const string &in){\n  if (now == in.size())return 0;\n  int &ret = dp[prev][l][r][now];\n  if (ret != -1)return ret;\n  ret=inf;\n  int pl=now==0?0:(prev==0?1:0);//\n  int pr=now==0?0:(prev==1?1:0);\n  if (isok(in[now]%3,r%3)){\n    ret=min(ret,pl+solve(0,in[now],r,now+1,in));\n  }\n  if (isok(l%3,in[now]%3)){\n    ret=min(ret,pr+solve(1,l,in[now],now+1,in));\n  }\n  //cout << prev <<\" \" << 1+l<<\" \" << 1+r << \" \" << now <<\" \" << (int)1+in[now] << \" \" << \n  //pl <<\" \" << pr <<\" \" << ret << endl;\n  return ret;\n}\n\nmain(){\n  string in;\n  while(cin>>in){\n    if (in==\"#\")break;\n    rep(i,in.size())in[i]=in[i]-1-'0';\n    rep(ii,2)rep(i,9)rep(j,9)rep(k,in.size())dp[ii][i][j][k]=-1;\n    int ans = N;\n\n    rep(i,9){\n      rep(j,9){\n\tif (isok(i%3,j%3)){\n\t  ans=min(ans,solve(0,i,j,0,in));\n\t  ans=min(ans,solve(1,i,j,0,in));\n\t}\n      }\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<=size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\tans=min(step(str[a]%3,0,0),step(0,str[a]%3,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nvector<int> x = {-1, 0, 1, -1, 1, -1, 0, 1};\nint INF = 10000000;\nint main(){\n  while (1){\n    string S;\n    cin >> S;\n    if (S == \"#\"){\n      break;\n    }\n    int N = S.size();\n    if (N == 1){\n      cout << 0 << endl;\n    } else {\n      vector<int> P(N);\n      for (int i = 0; i < N; i++){\n        if (S[i] < '5'){\n          P[i] = S[i] - '1';\n        } else {\n          P[i] = S[i] - '2';\n        }\n      }\n      vector<vector<vector<int>>> dp(8, vector<vector<int>>(8, vector<int>(2, INF)));\n      dp[P[0]][P[1]][0] = 0;\n      dp[P[0]][P[1]][1] = 0;\n      dp[P[1]][P[0]][0] = 0;\n      dp[P[1]][P[0]][1] = 0;\n      for (int i = 0; i < N; i++){\n        vector<vector<vector<int>>> dp2(8, vector<vector<int>>(8, vector<int>(2, INF)));\n        for (int j = 0; j < 8; j++){\n          for (int k = 0; k < 8; k++){\n            if (dp[j][k][0] != INF){\n              if (x[j] <= x[P[i]]){\n                dp2[j][P[i]][1] = min(dp2[j][P[i]][1], dp[j][k][0]);\n              }\n              if (x[P[i]] <= x[k]){\n                dp2[P[i]][k][0] = min(dp2[P[i]][k][0], dp[j][k][0] + 1);\n              }\n            }\n            if (dp[j][k][1] != INF){\n              if (x[P[i]] <= x[k]){\n                dp2[P[i]][k][0] = min(dp2[P[i]][k][0], dp[j][k][1]);\n              }\n              if (x[j] <= x[P[i]]){\n                dp2[j][P[i]][1] = min(dp2[j][P[i]][1], dp[j][k][1] + 1);\n              }\n            }\n          }\n        }\n        swap(dp, dp2);\n      }\n      int ans = INF;\n      for (int i = 0; i < 8; i++){\n        for (int j = 0; j < 8; j++){\n          for (int k = 0; k < 2; k++){\n            ans = min(ans, dp[i][j][k]);\n          }\n        }\n      }\n      cout << ans << endl;\n    }\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nbool nfs(int l,int r){\n\tl=(l-1)%3+1,r=(r-1)%3+1;\n\treturn l<=r;\n}\n\nint solve(string in,bool sr){\n\tint n=in.size();\n\tint res=0;\n\tint l,r;\n\tbool isr;\n\tif(sr){\n\t\tisr=true;\n\t\tr=in[0]-'0';\n\t}else{\n\t\tisr=false;\n\t\tl=in[0]-'0';\n\t}\n\tfor(int i=1;i<n;++i){\n\t\tif(isr){\n\t\t\tint nl=in[i]-'0';\n\t\t\tif(nfs(nl,r))\n\t\t\t\tl=nl,isr=false;\n\t\t\telse\n\t\t\t\tr=nl,res++;\n\t\t}else{\n\t\t\tint nr=in[i]-'0';\n\t\t\tif(nfs(l,nr))\n\t\t\t\tr=nr,isr=true;\n\t\t\telse\n\t\t\t\tl=nr,res++;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tstring in;\n\twhile(cin >> in){\n\t\tif(in==\"#\")\n\t\t\tbreak;\n\t\tcout << min(solve(in,false),solve(in,true)) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstring>\n#include <iostream>\n#include <queue>\n\nusing namespace std;\n\nstruct State{\n\tint left,right,step,prev,violate;\n\tState(){}\n\tState(int l,int r,int s,int p,int v):left(l),right(r),step(s),prev(p),violate(v){}\n};\n\nbool ok(int left,int right)\n{\n\treturn left!=4 && right!=4 && left!=right && left%3<=right%3;\n}\n\nint solve(string s,int first)\n{\n\tfor(char& c:s) c--;\n\t\n\tqueue<State> q;\n\tfor(int i=0;i<9;i++) for(int j=0;j<9;j++)\n\t\tif(i!=4 && j!=4)\n\t\t\tq.emplace(i,j,0,!first,0);\n\t\n\tconst int INFTY=0x20202020;\n\tstatic int dp[100001][9][9][2];\n\tmemset(dp,0x20,sizeof dp);\n\t\n\twhile(!q.empty()){\n\t\tState cur=q.front(); q.pop();\n\t\tif(dp[cur.step][cur.left][cur.right][cur.prev]<=cur.violate) continue;\n\t\tdp[cur.step][cur.left][cur.right][cur.prev]=cur.violate;\n\t\tif(cur.step==s.size()) continue;\n\t\t\n\t\tint next=s[cur.step]-'0';\n\t\tif(cur.prev==0 && cur.left!=next)\n\t\t\tif(ok(cur.left,next))\n\t\t\t\tq.emplace(cur.left,next,cur.step+1,1,cur.violate);\n\t\t\telse\n\t\t\t\tq.emplace(next,cur.right,cur.step+1,0,cur.violate+1);\n\t\telse\n\t\t\tif(ok(next,cur.right))\n\t\t\t\tq.emplace(next,cur.right,cur.step+1,0,cur.violate);\n\t\t\telse\n\t\t\t\tq.emplace(cur.left,next,cur.step+1,1,cur.violate+1);\n\t}\n\t\n\tint res=INFTY;\n\tfor(int i=0;i<9;i++) for(int j=0;j<9;j++)\n\t\tres=min(res,min(dp[s.size()][i][j][0],dp[s.size()][i][j][1]));\n\treturn res;\n}\n\nint main()\n{\n\tfor(string s;getline(cin,s),s!=\"#\";)\n\t\tcout<<min(solve(s,0),solve(s,1))<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < n; i++)\n#define vec vector\n\nint min(int i, int j)\n{\n\tif (i > j) return j;\n\telse return i;\n}\n\nint main(void)\n{\n\twhile(1) {\n\t\tstring s;\n\t\tcin >> s;\n\t\tif (s == \"#\") break;\n\t\tvec<int> step((int)s.length());\n\t\trep(i, (int)s.length()) {\n\t\t\tif (s[i] == '1' || s[i] == '4' || s[i] == '7') step[i] = 1;\n\t\t\telse if (s[i] == '2' || s[i] == '8') step[i] = 2;\n\t\t\telse step[i] = 3;\n\t\t}\n\t\tint ans1 = 0;\n\n\t\tint current = 1;\n\t\t//-1 -> left\n\t\t// 1 -> right\n\n\t\trep(i, (int)step.size() - 1) {\n\t\t\tint prev = current;\n\t\t\tif (step[i] < step[i + 1]) current = - 1;\n\t\t\telse if (step[i] > step[i + 1]) current = 1;\n\t\t\telse current = - current;\n\t\t\tif (prev == current) ans1++;\n\t\t}\n\n\t\tint ans2 = 0;\n\t\tcurrent = - 1;\n\t\t//-1 -> left\n\t\t// 1 -> right\n\n\t\trep(i, (int)step.size() - 1) {\n\t\t\tint prev = current;\n\t\t\tif (step[i] < step[i + 1]) current = - 1;\n\t\t\telse if (step[i] > step[i + 1]) current = 1;\n\t\t\telse current = - current;\n\t\t\tif (prev == current) ans2++;\n\t\t}\n\n\t\tcout << min(ans1, ans2) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = uint32_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max() / 32 * 15 + 208;\n\ntemplate <class T, class U>\nvector<T> make_v(U size, const T& init){ return vector<T>(static_cast<size_t>(size), init); }\n\ntemplate<class... Ts, class U>\nauto make_v(U size, Ts... rest) { return vector<decltype(make_v(rest...))>(static_cast<size_t>(size), make_v(rest...)); }\n\ntemplate<class T> void chmin(T &a, const T &b){ a = (a < b ? a : b); }\ntemplate<class T> void chmax(T &a, const T &b){ a = (a > b ? a : b); }\n\nint main() {\n    string s;\n    while(cin >> s, s != \"#\"){\n        int n = s.size();\n        auto dp = make_v(n+1, 3, 3, 2, INF<int>);\n        for (int i = 0; i < 3; ++i) {\n            for (int j = i; j < 3; ++j) {\n                for (int k = 0; k < 2; ++k) {\n                    dp[0][i][j][k] = 0;\n                }\n            }\n        }\n        for (int i = 0; i < n; ++i) {\n            int now = (s[i]-'1')%3;\n            for (int j = 0; j < 3; ++j) {\n                for (int k = 0; k < 3; ++k) {\n                    if(now <= k){\n                        chmin(dp[i+1][now][k][0], dp[i][j][k][1]);\n                        chmin(dp[i+1][now][k][0], dp[i][j][k][0]+1);\n                    }\n                    if(j <= now){\n                        chmin(dp[i+1][j][now][1], dp[i][j][k][1]+1);\n                        chmin(dp[i+1][j][now][1], dp[i][j][k][0]);\n                    }\n                }\n            }\n        }\n        int ans = INF<int>;\n        for (int i = 0; i < 3; ++i) {\n            for (int j = 0; j < 3; ++j) {\n                for (int k = 0; k < 2; ++k) {\n                    chmin(ans, dp.back()[i][j][k]);\n                }\n            }\n        }\n        cout << ans << \"\\n\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nconst int INF = 100000000;\nconst int N = 100000;\n\nint dp[N][10][2];\n//pos, left, right, foot\n//0 == left, 1 == right\n\nbool isCorrect(int l, int r){\n  if(r == 1 || r == 4 || r == 7){\n    if(l != 1 && l != 4 && l != 7) return false;\n  }else if(r == 2 || r == 8){\n    if(l == 3 || l == 6 || l == 9) return false;\n  }\n  return true;\n}\n\nmain(){\n  string input;\n  while(cin >> input){\n    if(input == \"#\") break;\n    fill(dp[0][0], dp[N-1][10], -1);\n    dp[0][input[0]-'0'][0] = dp[0][input[0]-'0'][1] = 0;\n    int size = input.size();\n    for(int i=0;i<size-1;i++){\n      for(int j=0;j<10;j++){\n\tfor(int k=0;k<2;k++){\n\t  if(dp[i][j][k] < 0) continue;\n\t  if(k == 0){\n\t    if(isCorrect(j, input[i+1]-'0')){\n\t      if(dp[i+1][input[i+1]-'0'][1] < 0) dp[i+1][input[i+1]-'0'][1] = dp[i][j][k];\n\t      else dp[i+1][input[i+1]-'0'][1] = min(dp[i+1][input[i+1]-'0'][1], dp[i][j][k]);\n\t    }else{\n\t      if(dp[i+1][input[i+1]-'0'][0] < 0) dp[i+1][input[i+1]-'0'][0] = dp[i][j][k] + 1;\n\t      else dp[i+1][input[i+1]-'0'][0] = min(dp[i+1][input[i+1]-'0'][0], dp[i][j][k] + 1);\n\t    }\n\t  }else{\n\t    if(isCorrect(input[i+1]-'0', j)){\n\t      if(dp[i+1][input[i+1]-'0'][0] < 0) dp[i+1][input[i+1]-'0'][0] = dp[i][j][k];\n\t      else dp[i+1][input[i+1]-'0'][0] = min(dp[i+1][input[i+1]-'0'][0], dp[i][j][k]);\n\t    }else{\n\t      if(dp[i+1][input[i+1]-'0'][1] < 0) dp[i+1][input[i+1]-'0'][1] = dp[i][j][k] + 1;\n\t      else dp[i+1][input[i+1]-'0'][1] = min(dp[i+1][input[i+1]-'0'][1], dp[i][j][k] + 1);\n\t    }\n\t  }\n\t  //cout << i << ' ' << j << ' ' << k << ' ' << dp[i][j][k] << endl;\n\t}\n      }\n    }\n    int ans = INF;\n    for(int i=0;i<10;i++){\n      for(int j=0;j<2;j++){\n\tif(dp[size-1][i][j]<0) continue;\n\tans = min(ans, dp[size-1][i][j]);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <map>\n#include <queue>\n#include <cstdio>\n#include <ctime>\n#include <assert.h>\n#include <chrono>\n#include <random>\n#include <numeric>\n#include <set>\n#include <deque>\n#include <stack>\n#include <bitset>\nusing namespace std;\ntypedef long long int ll;\ntypedef unsigned long long ull;\n\nmt19937_64 rng(chrono::steady_clock::now().time_since_epoch().count());\nll myRand(ll B) {\n    return (ull)rng() % B;\n}\n\nint main(){\n\tcin.tie(nullptr);\n\tios::sync_with_stdio(false);\n\twhile(1){\n\t\tstring s; cin >> s;\n\t\tif(s==\"#\")break;\n\t\tif(s.size()<=2){\n\t\t\tprintf(\"0\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tint res=1e9;\n\t\t// Left\n\t\t{\n\t\t\tint l=s[0]-'1';\n\t\t\tint r;\n\t\t\tbool p=1;\n\t\t\tint cost=0;\n\t\t\tfor(int i=1;i<s.size();i++){\n\t\t\t\tif(p){\n\t\t\t\t\tint num=s[i]-'1';\n\t\t\t\t\tif(num%3>=l%3){\n\t\t\t\t\t\tr=num;\n\t\t\t\t\t\tp=0;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tl=num;\n\t\t\t\t\t\tcost++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tint num=s[i]-'1';\n\t\t\t\t\tif(num%3<=r%3){\n\t\t\t\t\t\tl=num;\n\t\t\t\t\t\tp=1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcost++;\n\t\t\t\t\t\tr=num;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tres=min(res,cost);\n\t\t}\n\t\t// Right\n\t\t{\n\t\t\tint r=s[0]-'1';\n\t\t\tint l;\n\t\t\tbool p=0;\n\t\t\tint cost=0;\n\t\t\tfor(int i=1;i<s.size();i++){\n\t\t\t\tif(p){\n\t\t\t\t\tint num=s[i]-'1';\n\t\t\t\t\tif(num%3>=l%3){\n\t\t\t\t\t\tr=num;\n\t\t\t\t\t\tp=0;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tl=num;\n\t\t\t\t\t\tcost++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tint num=s[i]-'1';\n\t\t\t\t\tif(num%3<=r%3){\n\t\t\t\t\t\tl=num;\n\t\t\t\t\t\tp=1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcost++;\n\t\t\t\t\t\tr=num;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tres=min(res,cost);\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n\tstring s;\n\tint m[2];\n\tfor(;cin>>s,s!=\"#\";){\n\t\tm[0]=m[1]=0;\n\t\tfor(int i=1;i<s.size();i++){\n\t\t\tif((s[i]-'1')%3>(s[i-1]-'1')%3){\n\t\t\t\tm[0]=min(m[0]+1,m[1]);\n\t\t\t\tm[1]=1<<30;\n\t\t\t}else if((s[i]-'1')%3<(s[i-1]-'1')%3){\n\t\t\t\tm[1]=min(m[0],m[1]+1);\n\t\t\t\tm[0]=1<<30;\n\t\t\t}else{\n\t\t\t\tm[1]^=m[0],m[0]^=m[1],m[1]^=m[0];\n\t\t\t}\n\t\t}\n\t\tcout<<min(m[0],m[1])<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n\nconst int INF = 1<<25;\nint dx[] = {-1,0,1,-1,0,1,-1,0,1};\nint dy[] = {-1,-1,-1,0,0,0,1,1,1};\nstruct Pos{\n    int x, y;\n    Pos(int x=0, int y=0) {\n        this->x = x;\n        this->y = y;\n    }\n};\nPos p[9];\nint N;\nPos ary[10000000];\n\nint func(bool flg, Pos l, Pos r) {\n    int res = 0;\n    REP(i, N) {\n        if (flg) { // right foot\n            if (ary[i].x<l.x) {\n                l = ary[i];\n                flg = !flg;\n                res++;\n            } else {\n                if (r.x==ary[i].x && r.y==ary[i].y) flg != flg;\n                r = ary[i];\n            }\n        } else { // left foot\n            if (ary[i].x>r.x) {\n                r = ary[i];\n                flg = !flg;\n                res++;\n            } else {\n                if (l.x==ary[i].x && l.y==ary[i].y) flg != flg;\n                l = ary[i];\n            }\n        }\n        flg = !flg;\n    }\n    return res;\n}\n\nint solve() {\n    string str;\n    getline(cin, str);\n    if (str==\"#\") return -1;\n\n    N = str.length();\n    REP(i, N) {\n        ary[i] = p[str[i]-'1'];\n    }\n    int ans = INF;\n    REP(i, 9) REP(j, 9) {\n        ans = min(ans, min(func(false, p[i], p[j]), func(true, p[i], p[j])));\n    }\n    return ans;\n}\n\nint main() {\n    REP(i, 9) {\n        p[i] = Pos(dx[i], dy[i]);\n    }\n\n    int ans;\n    while((ans = solve())>=0) {\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<string>\n#include<iostream>\n\nusing namespace std;\n\nbool isCross(int l,int r){\n\tif(l==1 || l==4 || l==7)\treturn false;\n\tif(l==2 || l==8)\treturn (r==1 || r==4 || r==7);\n\treturn !(r==3 || r==6 || r==9);\n}\n\nint main(){\n\tfor(string s;cin>>s,s!=\"#\";){\n\t\tint len=s.length();\n\t\tfor(int i=0;i<len;i++)\ts[i]-='0';\n\n\t\tint lcnt=0;\n\t\tbool lflg=false;\n\t\tfor(int i=1;i<len;i++){\n\t\t\tif(lflg){\n\t\t\t\tif(isCross(s[i],s[i-1]))\tlcnt++;\n\t\t\t\telse\tlflg=!lflg;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(isCross(s[i-1],s[i]))\tlcnt++;\n\t\t\t\telse\tlflg=!lflg;\n\t\t\t}\n\t\t}\n\n\t\tint rcnt=0;\n\t\tbool rflg=false;\n\t\tfor(int i=1;i<len;i++){\n\t\t\tif(rflg){\n\t\t\t\tif(isCross(s[i-1],s[i]))\trcnt++;\n\t\t\t\telse\trflg=!rflg;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(isCross(s[i],s[i-1]))\trcnt++;\n\t\t\t\telse\trflg=!rflg;\n\t\t\t}\n\t\t}\n\n\t\tcout<<min(lcnt,rcnt)<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint tra(int a)\n{\n    if(a==1||a==4||a==7)\n        return 1;\n    if(a==2||a==8)\n        return 2;\n    if(a==3||a==6||a==9)\n        return 3;\n}\nint main()\n{\n    char str[100001];\n    int number[100001];\n\n    while(cin>>str)\n    {\n        int min=99999999;\n        if(str[0]=='#')\n            break;\n        int len=strlen(str);\n            for(int i=0; i<len; i++)\n            {\n                number[i]=tra(str[i]-'0');\n            }\n            for(int l=1; l<=9; l++)\n            {\n                if(l==number[0])\n                {\n                    continue;\n                }\n                for(int r=1; r<=9; r++)\n                {\n                    if(r==5||l==r||tra(l)>tra(r)||l==str[0]-'0'||r==str[0]-'0')\n                    {\n                        continue;\n                    }\n                    for(int j=0; j<2; j++)\n                    {\n                        int flag=j;\n                        int left=tra(l);\n                        int right=tra(r);\n                        int num1=0;\n                        for(int i=0; i<len; i++)\n                        {\n                            int tmp=number[i];\n                            if(!flag)\n                            {\n                                if(tmp<=right)\n                                {\n                                    flag=1;\n                                    left=tmp;\n                                }\n                                else\n                                {\n                                    right=tmp;\n                                    num1++;\n                                }\n                            }\n                            else\n                            {\n                                if(left<=tmp)\n                                {\n                                    flag=0;\n                                    right=tmp;\n                                }\n                                else\n                                {\n                                    left=tmp;\n                                    num1++;\n                                }\n                            }\n                        }\n                        if(min>num1)\n                        {\n                            min=num1;\n                        }\n\n                    }\n                    printf(\"%d\\n\",min);\n                }\n            }\n        }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define for_(i,a,b) for(int i=(a);i<(b);++i)\ntemplate< typename T > void minUpdate(T& a, T b) { a = min(a, b); }\n\nint violate[10][6] = {\n\t{},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{},\n\t{-1},\n\t{2,3,6,8,9,-1},\n\t{3,6,9,-1},\n\t{-1},\t\n};\n\nint dp[2][2][10][10];\n\nint main() {\n\tstring S;\n\t\n\twhile (cin >> S, S != \"#\") {\n\t\tint m = S.size();\n\t\t\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) dp[0][b][L][R] = 1L << 30;\n\t\tdp[0][0][0][0] = 0;\n\t\tdp[0][1][0][0] = 0;\n\t\t\n\t\tfor_(i,0,m) {\n\t\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) dp[1][b][L][R] = 1L << 30;\n\t\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) {\n\t\t\t\tif (dp[0][b][L][R] == 1L << 30) continue;\n\t\t\t\tint nR = (b ? S[i] - '0' : R), nL = (b ? L : S[i] - '0');\n\t\t\t\tbool inv = false;\n\t\t\t\tfor (int j=0; violate[nR][j] != -1; ++j) inv |= (violate[nR][j] == nL);\n\t\t\t\n\t\t\t\tif (inv) minUpdate(dp[1][b][(b ? nR : L)][(b ? R : nL)], dp[0][b][L][R] + 1);\n\t\t\t\telse minUpdate(dp[1][1-b][nL][nR], dp[0][b][L][R]);\n\t\t\t}\n\t\t\tswap(dp[0], dp[1]);\n\t\t}\n\t\t\n\t\tint ans = 1L << 30;\n\t\tfor_(b,0,2) for_(L,0,10) for_(R,0,10) minUpdate(ans, dp[0][b][L][R]);\n\t\tcout << ans << endl;\n\t\t/*\n\t\tint L[2] = {0, 0}, R[2] = {0, 0}, cnt[2] = {0, 0};\n\t\tbool flag[2] = {false, true};\n\t\t\n\t\tfor_(i,0,m) {\n\t\t\tfor_(b,0,2) {\n\t\t\t\tint r = (flag[b] ? S[i] - '0' : R[b]), l = (flag[b] ? L[b] : S[i] - '0');\n\t\t\t\tbool inv = false;\n\t\t\t\tfor (int j=0; violate[r][j] != -1; ++j) inv |= (violate[r][j] == l);\n\t\t\t\t\n\t\t\t\tif (inv) {\n\t\t\t\t\tif (flag[b]) L[b] = r;\n\t\t\t\t\telse R[b] = l;\n\t\t\t\t\t++cnt[b];\n\t\t\t\t} else {\n\t\t\t\t\tR[b] = r;\n\t\t\t\t\tL[b] = l;\n\t\t\t\t\tflag[b] = !flag[b];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(cnt[0], cnt[1]) << endl;\n\t\t*/\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n#include <complex>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <unordered_set>\n#include <unordered_map>\n#include <iomanip>\n#include <assert.h>\n#include <array>\n#include <cstdio>\n#include <cstring>\n#include <random>\n#include <functional>\n#include <numeric>\n#include <bitset>\n\nusing namespace std;\n\nstruct before_main{before_main(){cin.tie(0); ios::sync_with_stdio(false);}} before_main;\n\n#define REP(i,a,b) for(int i=a;i<(int)b;i++)\n#define rep(i,n) REP(i,0,n)\n#define all(c) (c).begin(), (c).end()\n#define zero(a) memset(a, 0, sizeof a)\n#define minus(a) memset(a, -1, sizeof a)\ntemplate<class T1, class T2> inline bool minimize(T1 &a, T2 b) { return b < a && (a = b, 1); }\ntemplate<class T1, class T2> inline bool maximize(T1 &a, T2 b) { return a < b && (a = b, 1); }\n\ntypedef long long ll;\nint const inf = 1<<29;\n\nstring S;\n\nset<int> X[3] = {{1,4,7},{2,8},{3,6,9}};\n\nvoid solve() {\n  int N = S.size();\n  int ans = inf;\n  rep(o, 2) {\n    int res = 0;\n    int s = 0;\n    rep(i, N-1) {\n      if((i+o+s)&1) {\n        if(S[i] == 2 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 8 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 3 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 6 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 9 && X[0].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 3 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 6 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 9 && X[1].count(S[i+1])) { res ++; s++; }\n      } else {\n        if(S[i] == 1 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 4 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 7 && X[1].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 1 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 4 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 7 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 2 && X[2].count(S[i+1])) { res ++; s++; }\n        if(S[i] == 8 && X[2].count(S[i+1])) { res ++; s++; }\n      }\n    }\n    minimize(ans, res);\n  }\n  cout << ans << endl;\n}\n\nint main() {\n\n  for(; cin >> S;) {\n    if(S == \"#\") { break; }\n    int N = S.size();\n    rep(i, N) S[i] -= '0';\n    solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define FOR(i,a,b) for(int i = (a);i < (b);i++)\n#define RFOR(i,a,b) for(int i = (b)-1;i >= (a);i--)\n#define REP(i,n) FOR(i,0,(n))\n#define RREP(i,n) RFOR(i,0,(n))\n\nusing namespace std;\n\nusing P = pair<int, int>;\nusing P2 = pair<int, P>;\n#define pb push_back\n#define mp make_pair\n#define ft first\n#define sd second\n\n#define INF 1000000000\n#define index(a, b, c) (a)*81+(b)*9+(c)\n\nint N;\nchar s[100004];\nint dp[100004][2*9*9];\n\nbool input(){\n  cin>>s;\n  if(s[0]=='#')return false;\n  N = strlen(s);\n  REP(i, N)s[i] -= '1';\n  return true;\n}\n\nint x[9] = {0,1,2,0,1,2,0,1,2};\n\nvoid solve(){\n  REP(i, 2) {\n  \tREP(j, 9) {\n  \t\tREP(k, 9) {\n  \t\t\tif(x[j]>x[k]) dp[0][index(i, j, k)] = INF;\n  \t\t\telse dp[0][index(i, j, k)] = 0;\n  \t\t}\n  \t}\n  }\n  \n  REP(l, N) {\n    REP(i, 2*9*9)dp[l+1][i] = INF;\n    \n  \tREP(i, 2) {\n  \t\tREP(j, 9) {\n  \t\t\tREP(k, 9) {\n  \t\t\t\tif(dp[l][index(i, j, k)] == INF)continue;\n  \t\t\t\tif(x[s[l]]<=x[k])\n  \t\t\t\tdp[l+1][index(0, s[l], k)] = min(dp[l+1][index(0, s[l], k)], dp[l][index(i, j, k)]+(i==0));\n  \t\t\t\tif(x[s[l]]>=x[j])\n  \t\t\t\tdp[l+1][index(1, j, s[l])] = min(dp[l+1][index(1, j, s[l])], dp[l][index(i, j, k)]+(i==1));\n  \t\t\t\t\n  \t\t\t}\n  \t\t}\n  \t}\n  }\n  \n  int a = INF;\n  /*REP(i, N+1){\n    REP(j,2*9*9){\n      if(dp[i][j] == INF)\n        cout<<'N';\n      else\n        cout<<dp[i][j];\n      if((j+1)%9==0)cout<<' ';\n    }\n    cout<<endl;\n  }*/\n  REP(i, 2*9*9) {\n    a = min(a, dp[N][i]);\n  }\n  cout<<a<<endl;\n}\n\nint main(){\n  //cin.tie(0);\n  \n  while (input()){\n      solve();\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<map>\n#include<set>\n#include<deque>\n#include<stack>\n#include<algorithm>\n#include<functional>\n#include<cmath>\n#include<ctime>\n#include<cstdlib>\nusing namespace std;\nchar s[100005];\nint Left[10][10],Right[10][10];\nstruct array\n{\n    int x,y;\n}ans[10];\nint sum=0;\nint main()\n{\n    int i,j,k;\n    ans[1].x=3;ans[1].y=1;\n    ans[2].x=3;ans[2].y=2;\n    ans[3].x=3;ans[3].y=3;\n\n    ans[4].x=2;ans[4].y=1;\n    ans[6].x=2;ans[6].y=3;\n\n    ans[7].x=1;ans[7].y=1;\n    ans[8].x=1;ans[8].y=2;\n    ans[9].x=1;ans[9].y=3;\n\n    for(i=1;i<=9;i++)\n    {\n        if(i==5)continue;\n        for(j=1;j<=9;j++)\n        {\n            if(j==5)continue;\n            if(i==j)continue;\n            if(ans[j].y<=ans[i].y)Left[i][j]=1;\n            if(ans[j].y>=ans[i].y)Right[i][j]=1;\n        }\n    }\n//    for(i=1;i<=9;i++)\n//    {\n//        for(j=1;j<=9;j++)\n//            cout<<Left[i][j]<< \" \";\n//        cout<<endl;\n//    }\n    while(scanf(\"%s\",s)!=EOF)\n    {\n        if(s[0]=='#')break;\n        int len = strlen(s);\n        sum = 0;\n        int ans = len+1;\n        int flag=1;\n        for(i=1;i<len;i++)\n        {\n            int a = s[i-1]-'0',b = s[i]-'0';\n            //cout<<a<<\"*\"<<b<<endl;\n            if(flag==1)\n            {\n               // cout<<Right[a][b]<<\"****\"<<endl;\n                if(Right[a][b])\n                {\n                    flag=2;\n                    continue;\n                }\n                else\n                {\n                    sum++;\n                    continue;\n                }\n            }\n            else if(flag==2)\n            {\n                //cout<<Left[a][b]<<\"-*-*-*\"<<endl;\n                if(Left[a][b])\n                {\n                    flag=1;\n                }\n                else\n                {\n                    sum++;\n                    continue;\n                }\n            }\n        }\n        ans = min(ans,sum);\n        //cout<<sum<<endl;\n        sum=0;\n        flag=2;\n        for(i=1;i<len;i++)\n        {\n            int a = s[i-1]-'0',b = s[i]-'0';\n            if(flag==1)\n            {\n                if(Right[a][b])\n                {\n                    flag=2;\n                }\n                else\n                {\n                    sum++;\n                    continue;\n                }\n            }\n            else if(flag==2)\n            {\n                if(Left[a][b])\n                {\n                    flag=1;\n                }\n                else\n                {\n                    sum++;\n                    continue;\n                }\n            }\n        }\n        //cout<<sum<<endl;\n        ans = min(ans,sum);\n        printf(\"%d\\n\",ans);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n\nusing namespace std;\n\n#define max 1000000\n\nstring str;\n/*\n\tdp[インデックス][最後に踏んだ足][左足の番号][右足の番号]\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n\t//FILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\tint dp[max][2][9][9];\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\t\tint arrow = str[0] - '1';\n\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tfor(int l = 0; l < max; l++)\n\t\t\t\t\t\tdp[l][i][j][k] = 1 << 30;\n\n\t\t\tfor(int j = 0; j < 9; j++) { \n\t\t\t\tdp[0][1][j][arrow] = 0;\n\t\t\t\tdp[0][0][arrow][j] = 0;\n\t\t\t}\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\n\t\t\t//i-1番目と同じ足を出す\n\t\t\t//左足\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][0][j][k] + 1, dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][1][j][k] + 1, dp[i][1][j][arrow] );\n\t\t\t//i-1番目と異なる足を出す\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 <= k % 3 && j != k && j % 3 <= k % 3 && arrow != k )\n\t\t\t\t\t\tdp[i][0][arrow][k] = min( dp[i - 1][1][j][k], dp[i][0][arrow][k] );\n\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\tif( arrow % 3 >= j % 3 && j != k && j % 3 <= k % 3 && arrow != j )\n\t\t\t\t\t\tdp[i][1][j][arrow] = min( dp[i - 1][0][j][k], dp[i][1][j][arrow] );\n\t\t}\n\n\t\tint min = 1 << 30;\n\t\t//cout << str << endl;\n\n\t\tfor(int l = 0; l < str.length(); l++) {\n \t\t\tfor(int i = 0; i < 2; i++) \n\t\t\t\tfor(int j = 0; j < 9; j++)\n\t\t\t\t\tfor(int k = 0; k < 9; k++)\n\t\t\t\t\t\tif( dp[l][i][j][k] < 1 << 30 ) {\n\t//\t\t\t\t\t\tcout << dp[l][i][j][k] << \" \" << l <<  \" \" << i << \" \" << j << \" \" << k << endl;\n\t\t\t\t\t\t\tif(min > dp[str.length()-1][i][j][k] ) min = dp[str.length()-1][i][j][k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//cout << \"+++++\" << endl;\n\t\t}\n\n\n\t//\t\t\t\t\t\n\t//\tcout<< \"***\" << endl;\n\t\tcout << min << endl;\n\n\n\t}\n\n\n\t//while(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nint dp[100010][3][3][2]; // k: 0->left, 1->right\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    string s;\n    while (cin >> s, s[0] != '#') {\n\n        if (s.size() <= 2) {\n            cout << 0 << endl;\n            continue;\n        }\n\n        int N = s.size();\n        V a(N);\n        rep(i, N) a[i] = (s[i] - '1') % 3;\n\n\n\n        const int INF = 1e9;\n        rep(i, N) rep(l, 3) rep(r, 3) rep(k, 2) dp[i][l][r][k] = INF;\n\n        if (a[0] <= a[1]) dp[1][a[0]][a[1]][1] = 0;\n        if (a[1] <= a[0]) dp[1][a[1]][a[0]][0] = 0;\n\n        rep2(i, 2, N) {\n            rep(l, 3) {\n                rep(r, 3) {\n                    rep(k, 2) {\n                        // left\n                        if (a[i] <= r) {\n                            dp[i][a[i]][r][0] = min(dp[i][a[i]][r][0], dp[i - 1][l][r][k] + (k == 0));\n                        }\n                        // right\n                        if (a[i] >= l) {\n                            dp[i][l][a[i]][1] = min(dp[i][l][a[i]][1], dp[i - 1][l][r][k] + (k == 1));\n                        }\n                    }\n                }\n            }\n        }\n\n\n        int ans = INF;\n        rep(l, 3) rep(r, 3) rep(k, 2) ans = min(ans, dp[N - 1][l][r][k]);\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\nusing ll = long long;\nusing ld = long double;\nusing P = pair<int, int>;\nconstexpr ld EPS = 1e-12;\nconstexpr int INF = numeric_limits<int>::max() / 2;\nconstexpr int MOD = 1e9 + 7;\n\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n\n    string s;\n    while (cin >> s, s != \"#\")\n    {\n        int n = s.length();\n        vector<int> edit(n + 1);\n        for (int i = 0; i < n; i++)\n        {\n            edit[i + 1] = (s[i] - '1') % 3;\n        }\n        // left, right\n        vector<vector<int>> dp(n + 1, vector<int>(2, INF));\n        edit[0] = 1;\n        dp[0][0] = dp[0][1] = 0;\n        dp[1][0] = dp[1][1] = 0;\n        for (int i = 2; i <= n; i++)\n        {\n            if (edit[i] < edit[i - 1])\n            {\n                dp[i][0] = min(dp[i - 1][1], dp[i - 1][0] + 1);\n            }\n            else if (edit[i] > edit[i - 1])\n            {\n                dp[i][1] = min(dp[i - 1][0], dp[i - 1][1] + 1);\n            }\n            else\n            {\n                dp[i][0] = min(dp[i - 1][1], dp[i - 1][0] + 1);\n                dp[i][1] = min(dp[i - 1][0], dp[i - 1][1] + 1);\n            }\n        }\n        cout << min(dp[n][0], dp[n][1]) << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<queue>\n#include<string>\nusing namespace std;\nint main(void){\nstring s;\nwhile(1){\n\tcin>>s;\n\tif(s==\"#\")break;\n\t//now -1 l 1 r\n\tint r=1,l=1,ans=0,now=0;\nfor(int i=0;i<s.size();i++){\n\tif(s[i]=='1'||s[i]=='4'||s[i]=='7'){\n\t\tif(now==0){\n\t\tnow=-1;\n\t\tl=0;\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t}else if(l>0){\n\t\t\t\tnow=-1;\n\t\t\t\tl=0;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=0;\n\t\t\t}\n\t\t}\n\n\t\t}else if(s[i]=='2'||s[i]=='8'){\n\tif(now!=0){\n\t\tif(now==-1){\n\t\t\tif(l==2){\n\t\t\t\tl=1;\n\t\t\t\tans++;\n\t\t\t}else{\n\t\t\t\tnow=1;\n\t\t\t\tr=1;\n\t\t\t}\n\t\t}else{\n\t\t\tif(now==1){\n\t\t\t\tif(r==0){\n\t\t\t\t\tr=1;\n\t\t\t\t\tans++;\n\t\t\t\t}else{\n\t\t\t\t\tnow=-1;\n\t\t\t\t\tl=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\t\t}else{\n\t\t\tif(now==0){\n\t\t\t\tnow=1;\n\t\t\t\tr=2;\n\t\t\t}else{\n\t\t\t\tif(now==-1){\n\t\t\t\t\tnow=1;\n\t\t\t\t\tr=2;\n\t\t\t\t}else{\n\t\t\t\t\tif(r!=2){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tr=2;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tl=2;\n\t\t\t\t\t\tnow=-1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n}\n\n}\ncout<<ans<<endl;\n\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdlib>\n#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, const T& b) { if(b < a) a = b; }\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tconst int INF = 0xffffff;\n\n\tint pos[256];\n\tpos['1'] = pos['4'] = pos['7'] = 0;\n\tpos['2'] = pos['8'] = 1;\n\tpos['3'] = pos['6'] = pos['9'] = 2;\n\n\tfor(string arrows; cin >> arrows, arrows != \"#\";) {\n\t\tvector<vector<vector<int> > > dp(3, vector<vector<int> >(3, vector<int>(2, INF)));\n\t\tdp[2][0][false] = dp[2][0][true] = 0;\n\n\t\tfor(int i = 0; i < (int)arrows.size(); ++i) {\n\t\t\tvector<vector<vector<int> > > tmp(3, vector<vector<int> >(3, vector<int>(2, INF)));\n\t\t\tconst int next_pos = pos[arrows[i]];\n\t\t\tfor(int rx = 0; rx < 3; ++rx) {\n\t\t\t\tfor(int lx = 0; lx < 3; ++lx) {\n\t\t\t\t\tfor(int p_left = 0; p_left < 2; ++p_left) {\n\t\t\t\t\t\tif(next_pos >= lx)\n\t\t\t\t\t\t\tchmin(tmp[next_pos][lx][false], dp[rx][lx][p_left] + 1 - p_left);\n\n\t\t\t\t\t\tif(next_pos <= rx)\n\t\t\t\t\t\t\tchmin(tmp[rx][next_pos][true], dp[rx][lx][p_left] + p_left);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp.swap(tmp);\n\t\t}\n\n\t\tint ans = INF;\n\t\tfor(int rx = 0; rx < 3; ++rx)\n\t\t\tfor(int lx = 0; lx < 3; ++lx)\n\t\t\t\tfor(int p_left = 0; p_left < 2; ++p_left)\n\t\t\t\t\tchmin(ans, dp[rx][lx][p_left]);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <deque>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <fstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\nusing namespace std;\n#define inf 2147480000\nstring s;\nint change(int a)\n{\n    if(a==1 || a==4 || a==7)\n      return 1;\n    else if(a==2 || a==8)\n      return 2;\n    else return 3;\n}\nint dp[100001][2];\nint chan(char a)\n{return int(a)-'0';}\nint main(int argc, char *argv[])\n{\n    while(cin>>s)\n    {\n       if(s==\"#\") break;\n       int front=change(chan(s[0]));\n       dp[0][0]=0;dp[0][1]=0;\n       for(int i=1;i<s.size();i++)\n       {\n           int a=chan(s[i]);\n           a=change(a);\n           if(a>front)\n           {\n              dp[i][0]=dp[i-1][0]+1;\n              dp[i][1]=min(dp[i-1][0],dp[i-1][1]+1);\n           }\n           else if(a<front)\n           {\n              dp[i][0]=min(dp[i-1][1],dp[i-1][0]+1);\n              dp[i][1]=dp[i-1][1]+1;\n           }\n           else\n           {\n              dp[i][0]=min(dp[i-1][1],dp[i-1][0]+1);\n              dp[i][1]=min(dp[i-1][0],dp[i-1][1]+1);\n           }\n           front=a;\n       }\n       cout<<min(dp[s.size()-1][0],dp[s.size()-1][1])<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\n\nbool correct(int next_foot, int pos, int turn){\n  if(turn == 1){\n    return next_foot <= pos;\n  }else{\n    return next_foot >= pos;\n  }\n    \n}\n\nint main(int argc, char *argv[]){\n  string s;\n\n  while(cin >> s){\n    if(s == \"#\")break;\n    int next_foot[2];//left, right\n    bool turn = 0;// 0 is left, 1 is right\n    int violate = 0;\n    int Min = 1e8;\n    //left start\n    for (int t = 0; t < 2; t++) {\n      next_foot[0] = 4;\n      next_foot[1] = 4;\n      turn = t;\n      violate = 0;\n      for (int i = 0; i < s.length(); i++) {\n        //correct left foot motion\n        char tmp = s[i];\n        int next = atoi(&tmp) - 1;\n        if(!correct(next_foot[(turn + 1)&1]%3, next%3, turn)){\n          violate++;\n          turn = !turn;\n        }\n        //std::cout << violate << std::endl;\n        next_foot[turn&1] = next;\n        //std::cout << \"left:\" << next_foot[0] << std::endl;\n        turn = !turn;\n      }\n      Min = min(Min, violate);\n    }\n    std::cout << Min << std::endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <map>\n#include <algorithm>\n\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\n\nint calc(vector<int>& col, int i, bool isl) {\n  if (i==col.size()-1) return 0;\n  if (isl) {\n    if (col[i] <= col[i+1]) \n      return calc(col, i+1, false);\n    else\n      return calc(col, i+1, true) + 1;\n  } else {\n    if (col[i] >= col[i+1])\n      return calc(col, i+1, true);\n    else\n      return calc(col, i+1, false) + 1;\n  }\n}\n\nint main() {\n  while(1){\n    string notes;\n    cin>>notes;\n    if(notes==\"#\")break;\n    int n=notes.size();\n    vector<int> col(n);\n    REP(i,n) {\n      col[i] = (notes[i] - '1') % 3;\n    }\n    int viol = calc(col, 0, true);\n    int vior = calc(col, 0, false);\n    cout << min(viol,vior) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nstring S; int dp[100001][9][9][2];\nint main() {\n\twhile (true) {\n\t\tfor (int i = 0; i < 100001; i++) {\n\t\t\tfor (int j = 0; j < 162; j++) {\n\t\t\t\tdp[i][(j / 2) / 9][(j / 2) % 9][j % 2] = 1000000000;\n\t\t\t}\n\t\t}\n\t\tcin >> S; if (S == \"#\")break;\n\t\tdp[0][0][2][0] = 0; dp[0][0][2][1] = 0;\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tint V = S[i] - '1';\n\t\t\tfor (int j = 0; j < 9; j++) {\n\t\t\t\tfor (int k = 0; k < 9; k++) {\n\t\t\t\t\tif ((j % 3) <= (V % 3)) {\n\t\t\t\t\t\tdp[i + 1][j][V][1] = min(dp[i + 1][j][V][1], dp[i][j][k][0]);\n\t\t\t\t\t\tdp[i + 1][j][V][1] = min(dp[i + 1][j][V][1], dp[i][j][k][1] + 1);\n\t\t\t\t\t}\n\t\t\t\t\tif ((V % 3) <= (k % 3)) {\n\t\t\t\t\t\tdp[i + 1][V][k][0] = min(dp[i + 1][V][k][0], dp[i][j][k][1]);\n\t\t\t\t\t\tdp[i + 1][V][k][0] = min(dp[i + 1][V][k][0], dp[i][j][k][0] + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint minx = 1000000000;\n\t\tfor (int i = 0; i < 162; i++) {\n\t\t\tminx = min(minx, dp[S.size()][i / 18][(i / 2) % 9][i % 2]);\n\t\t}\n\t\tcout << minx << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\ntypedef vector<pint>vpint;\n#define pb push_back\n#define mp make_pair\n#define fi first\n#define se second\n#define all(v) (v).begin(),(v).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n#define each(it,v) for(__typeof((v).begin()) it=(v).begin();it!=(v).end();it++)\ntemplate<class T,class U>inline void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>inline void chmax(T &t,U f){if(t<f)t=f;}\n\nconst int INF=1001001001;\nint dp[2][9][9][2];\nstring S;\nvoid solve(){\n    rep(i,S.size())S[i]--;\n    fill_n(***dp,2*9*9*2,INF);\n    rep(i,9)rep(j,9)rep(k,2){\n        if(i%3<=j%3)dp[0][i][j][k]=0;\n    }\n\n    rep(t,S.size()){\n        int h=S[t]-'0';\n        rep(i,9)rep(j,9)rep(k,2){\n            if(i%3<=h%3){\n                chmin(dp[(t+1)&1][i][h][1],dp[t&1][i][j][k]+(k==1));\n            }\n            if(h%3<=j%3){\n                chmin(dp[(t+1)&1][h][j][0],dp[t&1][i][j][k]+(k==0));\n            }\n            dp[t&1][i][j][k]=INF;\n        }\n    }\n    int ans=INF;\n    rep(i,9)rep(j,9)rep(k,2)chmin(ans,dp[S.size()&1][i][j][k]);\n    cout<<ans<<endl;\n}\n\nsigned main(){\n    while(cin>>S,S!=\"#\")solve();\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define REP(i, n) rep(i, 0, n)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define int long long\n#define chmax(x, y) x = max(x, y)\n#define chmin(x, y) x = min(x, y)\nusing namespace std;\ntypedef pair<int, int> P;\nconst int mod = 1000000007;\nconst int INF = 1e12;\n\nint f(int x){\n    return (x - 1) % 3;\n}\n\nbool valid(int l, int r){\n    if(f(l) <= f(r)) return true;\n    return false;\n}\n\nsigned main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    string s;\n    while(1){\n        cin >> s;\n        if(s == \"#\") break;\n        //start from left foot\n        int l = s[0] - '0';\n        int r = 3;\n        int cnt = 0;\n        int turn = 1;\n        rep(i, 1, s.size()){\n            if(turn){//move right\n                if(valid(l, s[i] - '0')){\n                    r = s[i] - '0';\n                    turn = 0;\n                }else{\n                    l = s[i] - '0';\n                    turn = 1;\n                    cnt++;\n                }\n            }else{//move left\n                if(valid(s[i] - '0', r)){\n                    l = s[i] - '0';\n                    turn = 1;\n                }else{\n                    r = s[i] - '0';\n                    turn = 0;\n                    cnt++;\n                }\n            }\n        }\n        int ans = cnt;\n        //start from right foot\n        l = 1;\n        r = s[0] - '0';\n        cnt = 0;\n        turn = 0;\n        rep(i, 1, s.size()){\n            if(turn){//move right\n                if(valid(l, s[i] - '0')){\n                    r = s[i] - '0';\n                    turn = 0;\n                }else{\n                    l = s[i] - '0';\n                    turn = 1;\n                    cnt++;\n                }\n            }else{//move left\n                if(valid(s[i] - '0', r)){\n                    l = s[i] - '0';\n                    turn = 1;\n                }else{\n                    r = s[i] - '0';\n                    turn = 0;\n                    cnt++;\n                }\n            }\n        }\n        cout << min(ans, cnt) << endl;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    string s;\n    while(true){\n        cin >> s;\n        if(s == \"#\") break;\n        int s_len = s.size(), n_violate = 0, dir = 0;\n        for(int i = 0; i < s_len - 1; ++i){\n            int sa = (s[i] - '0' + 2) % 3;\n            int sb = (s[i + 1] - '0' + 2) % 3;\n            if(dir == 0){\n                if(sa < sb){\n                    dir = -1;\n                }\n                if(sa > sb){\n                    dir = 1;\n                }\n            }else{\n                dir *= -1;\n                if(dir == 1 && sa < sb){\n                    ++n_violate;\n                    dir *= -1;\n                }else if(dir == -1 && sa > sb){\n                    ++n_violate;\n                    dir *= -1;\n                }\n            }\n\n        }\n        printf(\"%d\\n\", n_violate);\n        s.clear();\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <cmath>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nint main() {\n\tstring a;\n\tP data[10];\n\tfor (int i = 0; i < 3; i++) {\n\t\tfor (int j = 1; j < 4; j++) {\n\t\t\tdata[i*3+j].first = 2-i;\n\t\t\tdata[i+1+3*(j-1)].second = i;\n\t\t}\n\t}\n\twhile (cin >> a) {\n\t\tif (a[0] == '#') {\n\t\t\tbreak;\n\t\t}\n\t\tbool hantei = true;\n\t\tP R;\n\t\tP L;\n\t\tR.first = R.second = L.first = L.second = 1;\n\t\tint counter = 0;\n\t\tfor (int i = 0; i < a.size(); i++) {\n\t\t\tif (i == 0) {\n\t\t\t\tP p = data[a[i]-'0'];\n\t\t\t\tR = p;\n\t\t\t}else if (hantei) {\n\t\t\t\tP p = data[a[i]-'0'];\n\t\t\t\tif (R.second >= p.second) {\n\t\t\t\t\tL = p;\n\t\t\t\t\thantei = false;\n\t\t\t\t} else {\n\t\t\t\t\tR = p;\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tP p = data[a[i]-'0'];\n\t\t\t\tif (L.second <= p.second) {\n\t\t\t\t\tR = p;\n\t\t\t\t\thantei = true;\n\t\t\t\t} else {\n\t\t\t\t\tL = p;\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\thantei = false;\n\t\tint counter2 = 0;\n\t\tR.first = R.second = L.first = L.second = 1;\n\t\tfor (int i = 0; i < a.size(); i++) {\n\t\t\tif (i == 0) {\n\t\t\t\tP p = data[a[i]-'0'];\n\t\t\t\tL = p;\n\t\t\t} else if (hantei) {\n\t\t\t\tP p = data[a[i]-'0'];\n\t\t\t\tif (R.second >= p.second) {\n\t\t\t\t\tL = p;\n\t\t\t\t\thantei = false;\n\t\t\t\t} else {\n\t\t\t\t\tR = p;\n\t\t\t\t\tcounter2++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tP p = data[a[i]-'0'];\n\t\t\t\tif (L.second <= p.second) {\n\t\t\t\t\tR = p;\n\t\t\t\t\thantei = true;\n\t\t\t\t} else {\n\t\t\t\t\tL = p;\n\t\t\t\t\tcounter2++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << min(counter, counter2) << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\nconst int MAX_N=100000+10;\nbool forward(int left, int right){\n  return (left-1)%3 <= (right-1)%3;\n}\n\nstring str;\nint main(){ _;\n  while(cin>>str,str[0]!='#'){\n    int le=0,re=0,ll=5,lr=5,rl=5,rr=5;\n    bool lLastForward=true,rLastForward=true;\n    int sz=str.size();\n    for(int i=0;i<sz;i++){\n      if(i%2==0){\n\tll=rr=str[i]-'0';\n      }else{\n\tlr=rl=str[i]-'0';\n      }\n      bool lForward=forward(ll,lr);\n      bool rForward=forward(rl,rr);\n      if(lLastForward!=lForward)le++;\n      if(rLastForward!=rForward)re++;\n      lLastForward=lForward;\n      rLastForward=rForward;\n    }\n    cout<<min(le,re)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdlib>\n#include <cstring>\n#include <iostream>\n#include <string>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, const T& b) { if(b < a) a = b; }\n\nint pos[256];\nstring arrows;\nint memo[100000][3][3][2];\n\nint dfs(int num, int rx, int lx, bool p_left) {\n\tif(num == (int)arrows.size())\n\t\treturn 0;\n\n\tif(memo[num][rx][lx][p_left] != -1)\n\t\treturn memo[num][rx][lx][p_left];\n\n\tconst int next_pos = pos[arrows[num]];\n\tint add = (!p_left || next_pos < lx ? 1 : 0);\n\tint res = dfs(num + 1, next_pos, lx, false) + add;\n\n\tadd = (p_left || rx < next_pos ? 1 : 0);\n\tchmin(res, dfs(num + 1, rx, next_pos, true) + add);\n\n\treturn memo[num][rx][lx][p_left] = res;\n}\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tpos['1'] = pos['4'] = pos['7'] = 0;\n\tpos['2'] = pos['8'] = 1;\n\tpos['3'] = pos['6'] = pos['9'] = 2;\n\n\twhile(cin >> arrows, arrows != \"#\") {\n\t\tmemset(memo, -1, sizeof(memo));\n\t\tcout << min(dfs(0, 1, 1, false), dfs(0, 1, 1, true)) << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nconst int INF = 100000000;\n\nint main(){\n\tstring step;\n\tint dp[2][2][3][3];\n\twhile(cin >> step){\n\t\tif(step == \"#\") break;\n\t\tfor(int i=0;i<2;i++)\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=0;k<3;k++)\n\t\t\t\t\tdp[0][i][j][k] = dp[1][i][j][k] = (j <= k ? 0 : INF);\n\t\tfor(int i=0;i<step.size();i++){\n\t\t\tint cur = i%2, next = 1-cur;\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=j;k<3;k++)\n\t\t\t\t\tdp[next][0][j][k] = dp[next][1][j][k] = INF;\n\t\t\tint line = (step[i]-'1')%3;\n\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\tfor(int k=j;k<3;k++){\n\t\t\t\t\tif(line <= k)\n\t\t\t\t\t\tdp[next][0][line][k] = min(dp[next][0][line][k], min(dp[cur][1][j][k], dp[cur][0][j][k]+1));\n\t\t\t\t\tif(j <= line)\n\t\t\t\t\t\tdp[next][1][j][line] = min(dp[next][1][j][line], min(dp[cur][1][j][k]+1, dp[cur][0][j][k]));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\tfor(int i=0;i<2;i++)\n\t\t\tfor(int j=0;j<3;j++)\n\t\t\t\tfor(int k=0;k<3;k++)\n\t\t\t\t\tans = min(ans, dp[step.size()%2][i][j][k]);\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#define INF (1<<21)\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0;\n    int dp[2][4] = {{0,0,INF,INF},{0,0,0,0}};\n\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      int a = str[i-1] - '0' - 1;\n      int b = a;\n      bool f = false;\n      if(i > 1) b = str[i-2] - '0' - 1;\n\n      if(i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a]){\n\tdp[1][0] = dp[0][0] + 1;\n\tdp[1][3] = dp[0][3] + 1;\n\t//if(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][1] = min(dp[0][1],dp[1][3]);\n\t  dp[1][2] = min(dp[0][2],dp[1][0]);\n\t  f = true;\n\t  //}\n      }\n      else{\n\tdp[1][0] = dp[0][0];\n\tdp[1][3] = dp[0][3];\n      }\n\n      if(i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a]){\n\tdp[1][1] = dp[0][1] + 1;\n\tdp[1][2] = dp[0][2] + 1;\n\t//if(UD[n] != UD[a] || UD[n] != UD[b]){\n\t  dp[1][0] = min(dp[0][0],dp[1][2]);\n\t  dp[1][3] = min(dp[0][3],dp[1][1]);\n\t  //}\n      }\n      else if(!f){\n\tdp[1][1] = dp[0][1];\n\tdp[1][2] = dp[0][2];\n      }\n\n      ans = INF;\n      for(int j=0;j<4;j++){\n\tdp[0][j] = dp[1][j];\n\tans = min(ans,dp[0][j]);\n      }\n    }\n    \n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nconst int INF = (1<<25);\nconst int MAX = 100001;\nconst int FOOT = 10;\nint dp[MAX][FOOT][FOOT][2];\nstring s;\n\nint getColumn(int num){\n  int step[3][3] =\n    {{7,8,9},\n     {4,5,6},\n     {1,2,3}};\n\n  for(int i = 0; i < 3; i++)\n    for(int j = 0; j < 3; j++)\n      if(step[i][j] == num) return j;\n}\n\nvoid init(){\n  fill(dp[0][0][0],dp[0][0][0]+MAX*FOOT*FOOT*2,INF);\n  for(int i = 0; i < FOOT; i++)\n    for(int j = i; j < FOOT; j++) dp[0][i][j][0] = dp[0][i][j][1] = 0;\n}\n\nvoid solve(){\n\n  int ans = INF;\n\n  for(int i = 0; i < s.length(); i++){\n    int pos = s[i]-'0';\n    \n    for(int l = 1; l < FOOT; l++){\n      if(l == 5) continue;\n      for(int r = 1; r < FOOT; r++){\n\tif(r == 5) continue;\n\tfor(int x = 0; x < 2; x++){\n\t  // x = 0 -> left 1 -> right\n\t  if(x){\n\t    //follow the rule(right foot)\n\t    if(getColumn(l) <= getColumn(pos)) dp[i+1][l][pos][1] = min(dp[i+1][l][pos][1],dp[i][l][r][0]);\n\t    //violate(left foot)\n\t    if(getColumn(r) >= getColumn(pos)) dp[i+1][pos][r][0] = min(dp[i+1][pos][r][0],dp[i][l][r][0]+1);\n\t  }else{\n\t    //follow the rule(left foot)\n\t    if(getColumn(r) >= getColumn(pos)) dp[i+1][pos][r][0] = min(dp[i+1][pos][r][0],dp[i][l][r][1]);\n\t    //violate(right foot)\n\t    if(getColumn(l) <= getColumn(pos)) dp[i+1][l][pos][1] = min(dp[i+1][l][pos][1],dp[i][l][r][1]+1);\n\t  }\n\t}\n      }\n    }\n    for(int i = 1; i < FOOT; i++)\n      for(int j = 1; j < FOOT; j++)\n\tans = min(ans,min(dp[s.length()][i][j][0],dp[s.length()][i][j][1]));\n  }\n  cout << ans << endl;\n}\n\nint main(){\n  while(cin >> s && s != \"#\"){\n    init();\n    solve();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <string>\nusing namespace std;\n\nstruct State {\n  int step, foot[2], before, cost;\n  const static int px[10];\n  State() {}\n  State(int step,int left, int right, int before, int cost)\n    : step(step), before(before), cost(cost) {\n    foot[0] = left;\n    foot[1] = right;\n  }\n  bool operator < (const State &s) const {\n    return cost > s.cost;\n  }\n\n  bool isValid() {\n    return px[foot[1]] - px[foot[0]] >= 0;\n  }\n};\nconst int State::px[10] = {0,-1,0,1,-1,0,1,-1,0,1};\n\nint solve(string line) {\n  if(line.size() <= 2) return 0;\n  priority_queue<State> que;\n  State s;\n  s = State(2,line[0]-'0',line[1]-'0',1,0);\n  if(s.isValid()) que.push(s);\n  s = State(2,line[1]-'0',line[0]-'0',0,0);\n  if(s.isValid()) que.push(s);\n  \n  while(!que.empty()) {\n    if(que.top().step == line.size()) return que.top().cost;\n\n    s = que.top();\n    s.foot[1-s.before] = line[s.step++] - '0';\n    s.before = 1-s.before;\n    if(s.isValid()) que.push(s);\n\n    s = que.top();\n    s.foot[s.before] = line[s.step++] - '0';\n    ++s.cost;\n    if(s.isValid()) que.push(s);\n\n    que.pop();\n  }\n}\n\nint main() {\n  string line;\n  while(getline(cin, line) && line != \"#\") {\n    cout << solve(line) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <map>\n#include <set>\n#include <bitset>\n#include <numeric>\n#include <utility>\n#include <iomanip>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vint;\ntypedef vector<long long> vll;\ntypedef pair<int,int> pint;\ntypedef pair<long long, long long> pll;\n\n#define MP make_pair\n#define PB push_back\n#define ALL(s) (s).begin(),(s).end()\n#define EACH(i, s) for (__typeof__((s).begin()) i = (s).begin(); i != (s).end(); ++i)\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P) \n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, vector<T> P) \n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\ntemplate<class T> ostream& operator << (ostream &s, vector<vector<T> > P) \n{ for (int i = 0; i < P.size(); ++i) { s << endl << P[i]; } return s << endl; }\ntemplate<class T1, class T2> ostream& operator << (ostream &s, map<T1,T2> P) \n{ EACH(it, P) { s << \"<\" << it->first << \"->\" << it->second << \"> \"; } return s; }\n\n\nbool isunnatural(int a, int b, bool par) {\n    a %= 3; b %= 3;\n    if (a == 0) a = 3;\n    if (b == 0) b = 3;\n    if (par) return (a < b);\n    else return (a > b);\n}\nstring str;\n\nint main() {\n    //freopen( \"/Users/macuser/Dropbox/Contest/input.in\", \"r\", stdin );\n    \n    while (cin >> str) {\n        if (str == \"#\") break;\n        \n        int ls = 0, rs = 0;\n        int n = str.size();\n        bool par = true;\n        for (int i = 1; i < n; ++i) {\n            if (isunnatural(str[i]-'0', str[i-1]-'0', par)) ++ls, par = 1-par; \n            par = 1-par;\n        }\n        par = false;\n        for (int i = 1; i < n; ++i) {\n            if (isunnatural(str[i]-'0', str[i-1]-'0', par)) ++rs, par = 1-par; \n            par = 1-par;\n        }\n                     \n        cout << min(ls,rs) << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\nstring S; int dp[100001][9][9][2];\nint main() {\n\twhile (true) {\n\t\tfor (int i = 0; i < 100001; i++) {\n\t\t\tfor (int j = 0; j < 162; j++) {\n\t\t\t\tdp[i][(j / 2) / 9][(j / 2) % 9][j % 2] = 1000000000;\n\t\t\t}\n\t\t}\n\t\tcin >> S; if (S == \"#\")break;\n\t\tdp[0][0][2][0] = 0; dp[0][0][2][1] = 0;\n\t\tfor (int i = 0; i < S.size(); i++) {\n\t\t\tint V = S[i] - '1';\n\t\t\tfor (int j = 0; j < 9; j++) {\n\t\t\t\tfor (int k = 0; k < 9; k++) {\n\t\t\t\t\tfor (int l = 0; l < 9; l++) {\n\t\t\t\t\t\tif ((j % 3) <= (l % 3)) {\n\t\t\t\t\t\t\tint T = 1; if (V == l)T = 0;\n\t\t\t\t\t\t\tdp[i + 1][j][l][1] = min(dp[i + 1][j][l][1], dp[i][j][k][0] + T);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((k % 3) >= (l % 3)) {\n\t\t\t\t\t\t\tint T = 1; if (V == l)T = 0;\n\t\t\t\t\t\t\tdp[i + 1][l][k][0] = min(dp[i + 1][l][k][0], dp[i][j][k][1] + T);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint minx = 1000000000;\n\t\tfor (int i = 0; i < 162; i++) {\n\t\t\tminx = min(minx, dp[S.size()][i / 18][(i / 2) % 9][i % 2]);\n\t\t}\n\t\tcout << minx << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-8;\n\n//dp[prev,now][left_state][right_state][prev_foot_side]\nint dp[100001][10][10][2];\n\nconst int gHorizonalPos[] = {\n  -1//none\n  ,0//1->0\n  ,1//2->1\n  ,2//3->2\n  ,0//4->0\n  ,-1//5->-1(none)\n  ,2//6->2\n  ,0//7->0\n  ,1//8->1\n  ,2//9->2\n};\n\nint CalcCost(int prev_left_state,int prev_right_state,int next_step_state,\n\t     int next_foot_side,int prev_foot_side){\n  if(prev_foot_side == next_foot_side) return 1;\n\n  int LHpos = gHorizonalPos[prev_left_state];\n  int RHpos = gHorizonalPos[prev_right_state];\n  int NHpos = gHorizonalPos[next_step_state];\n\n  //next_foot_side := 0(left)\n  if(next_foot_side == 0){\n    if(RHpos == -1) return 0;\n    return RHpos < NHpos ? 1 : 0;\n  }\n  //next_foot_side := 1(right)\n  else if(next_foot_side == 1){\n    if(LHpos == -1) return 0;\n    return NHpos < LHpos ? 1 : 0;\n  }\n}\n\nint ComputeLeastCost(int turn){\n  int res = INF;\n  for(int left_state=0;left_state<10;left_state++){\n    if(left_state == 5) continue;\n    for(int right_state=0;right_state<10;right_state++){\n    if(right_state == 5) continue;\n      for(int foot_side=0;foot_side<2;foot_side++){\n\tres = min(res,dp[turn][left_state][right_state][foot_side]);\n      }\n    }\n  }\n  return res;\n}\n\nvoid debug(int next_step_pos,int turn){\n  printf(\"turn:%d target:%d\\n\",turn,next_step_pos);\n  for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n    if(prev_left_state == 5) continue;\n    for(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n      if(prev_right_state == 5) continue;\n      for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\tprintf(\"calc_cost %d ,\",CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,1));\n\tprintf(\"turn %d, left_state %d,right_state %d,foot_side %d,val %d\\n\",\n\t       turn,\n\t       prev_left_state,\n\t       prev_right_state,\n\t       next_foot_side,\n\t       dp[turn][prev_left_state][prev_right_state][next_foot_side]);\n      }\n    }\n  }\n\n  printf(\"\\n\");\n}\n\nint main(){\n  string str;\n  while(cin >> str){\n    if(str.size() == 1 && str[0] == '#') break;\n\n    memset(dp,0x3f,sizeof(dp));\n    dp[0][0][0][0] = 0;\n    dp[0][0][0][1] = 0;\n    for(int turn=0;turn < str.size(); turn++){\n      int next_step_pos = str[turn]-'0';\n      for(int prev_left_state=0;prev_left_state<10;prev_left_state++){\n\tif(prev_left_state == 5) continue;\n\tfor(int prev_right_state=0;prev_right_state<10;prev_right_state++){\n\t  if(prev_right_state == 5) continue;\n\t  for(int next_foot_side = 0;next_foot_side<2;next_foot_side++){\n\t    for(int prev_foot_side = 0;prev_foot_side<2;prev_foot_side++){\n\t      //dp[left_state][right_state][prev_foot_side]\n\t      if(next_foot_side == prev_foot_side) continue;\n\n\t      int cost = CalcCost(prev_left_state,prev_right_state,\n\t\t\t\t\t next_step_pos,next_foot_side,prev_foot_side);\n\n\t      if(next_foot_side == 0){\n\t\tdp[turn+1][next_step_pos][prev_right_state][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t\t+dp[turn][prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t\tdp[turn+1][next_step_pos][prev_right_state][next_foot_side]);\n\t      }\n\n\t      else{\n\t\tdp[turn+1][prev_left_state][next_step_pos][next_foot_side]=min(cost\n\t\t\t\t\t\t\t\t\t       +dp[turn][prev_left_state][prev_right_state][prev_foot_side],\n\t\t\t\t\t\t\t\t\t       dp[turn+1][prev_left_state][next_step_pos][next_foot_side]);\n\t      }\n\t    }\n\t  }\n\t}\n      }\n      // debug(next_step_pos,turn);\n    }\n    printf(\"%d\\n\",ComputeLeastCost(str.size()));\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n\nusing namespace std;\n\n#define max 100000\n\nstring str;\n/*\n\tdp[ノーツのインデックス][踏んだ足][直前の踏んだ足以外の足がある場所] = invalidの回数\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n//\tFILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\t\n\t\tint dp[max][2][10];\n\n\t\tfor(int i = 0; i < max; i++)\n\t\t\tfor(int j = 0; j < 2; j++)\n\t\t\t\tfor(int k = 0; k < 10; k++)\n\t\t\t\t\tdp[i][j][k] = 1 << 30;\n\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\n\t\t//0->左足、1->右足\n\t\tint arrow = str[0] - '1';\n\t\t\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 10; j++)\n\t\t\t\tdp[0][i][j] = 0;\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\t\t\t\n\t\t\t//j:右足の場所\n\t\t\t//左足を動かす　最後の移動が左足の場合\n\t\t\t//右足の位置はj\n\n\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\tif( arrow % 3 <= j % 3 ) {\n\t\t\t\t\tdp[i][0][j] = min( dp[i-1][0][j] + 1, dp[i][0][j] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//左足を動かす　最後の移動が右足の場合\n\t\t\t//右足の位置はstr[i-1] - '1'\n\t\t\tif( arrow % 3 <= ( str[i-1] - '1' ) % 3 ) {\n\t\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\t\tif( arrow % 3 <= j % 3  )\n\t\t\t\t\t\tdp[i][0][arrow] = min( dp[i-1][1][j], dp[i][0][arrow] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\tif( ( arrow % 3 ) >= ( j % 3 ) ) {\n\t\t\t\t\tdp[i][1][j] = min( dp[i-1][1][j] + 1, dp[i][1][j] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif( arrow % 3 >= ( str[i-1] - '1' ) % 3 ) {\n\t\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\t\tif( arrow % 3 >= j % 3  )\n\t\t\t\t\t\tdp[i][1][arrow] = min( dp[i-1][0][j], dp[i][1][arrow] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tint min = 1 << 30;\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++) \n\t\t\t\tif( min > dp[str.length()-1][i][j] )\n\t\t\t\t\tmin = dp[str.length()-1][i][j];\n\t\tcout << min << endl;\n\t\t\n\t}\n\n\n//\twhile(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\nchar a[100010];\nint main()\n{\n    int n,count,ncount,num,i,j,cc,l,r;\n    memset(a,0,sizeof(a));\n    while(~scanf(\"%s\",a))\n    {\n        if(a[0]=='#')break;\n        l=r=cc=-1;\n        count=ncount=0;\n        for(i=0; a[i]; i++)\n        {\n            if(i!=0&&a[i]==a[i-1])\n            {\n                count++;\n                continue;\n            }\n            num=(a[i]-'0'+2)%3;\n            if(cc==-1)\n            {\n                if(num==0)\n                {\n                    l=0;\n                    cc=0;\n                    if(ncount)r=1;\n                }\n                if(num==2)\n                {\n                    r=2;\n                    cc=1;\n                    if(ncount)l=1;\n                }\n                if(num==1)\n                {\n                    ncount=1;\n                }\n            }\n            else\n            {\n                if(num>r&&cc==1)\n                {\n                    count++;\n                    r=num;\n                }\n                else if(num<l&&cc==0)\n                {\n                    count++;\n                    l=num;\n                }\n                else\n                {\n                    if(cc==0)\n                    {\n                        r=num;\n                        cc=1;\n                    }\n                    else\n                    {\n                        l=num;\n                        cc=0;\n                    }\n                }\n            }\n        }\n        printf(\"%d\\n\",count);\n        memset(a,0,sizeof(a));\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\n\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<VVI> VVVI;\ntypedef vector<VVVI> VVVVI;\n\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n\ntypedef vector<double> VD;\ntypedef vector<VD> VDD;\n\ntypedef vector<string> VS;\ntypedef vector<VS> VVS;\n\ntypedef vector<bool> VB;\ntypedef vector<VB> VVB;\n\ntypedef pair<int, int> PII;\ntypedef vector<PII> VPII;\n\n#define fst first\n#define snd second\n#define MP make_pair\n#define PB push_back\n#define EB emplace_back\n#define ALL(x) (x).begin(), (x).end()\n#define RANGE(x, y, maxX, maxY) (0 <= (x) && 0 <= (y) && (x) < (maxX) && y < (maxY))\n#define REP(i, init, N) for (int i = (init); i < (int)(N); i++)\n\nconst int INF = 0x3f3f3f3f;\nconst int DX[] = {-1,0,1,-1,0,1,-1,0,1};\nconst int DY[] = {1,1,1,0,0,0,-1,-1,-1};\n\nstring qs;\n\nbool ok(int l, int r) {\n    int lx = DX[l];\n    int rx = DX[r];\n    return lx <= rx;\n}\n\nPII move(int l, int r, bool is_l, int q) {\n    int nl = is_l ? (q - 1) : l;\n    int nr = is_l ? r : (q - 1);\n    return MP(nl, nr);\n}\n\nint solve() {\n    int N = qs.size();\n\n    // dp[step][l][r][before_is_l] = min_invalid_step\n    VVVVI dp(2, VVVI(9, VVI(9, VI(2, INF))));\n    dp[0][0][8][0] = 0;\n    dp[0][0][8][1] = 0;\n\n    REP(n, 0, N) {\n        dp[(n + 1) % 2] = VVVI(9, VVI(9, VI(2, INF)));\n        REP(l, 0, 9) REP(r, 0, 9) REP(b_is_l, 0, 2) {\n            if (dp[n % 2][l][r][b_is_l] == INF) continue;\n            int cnt = dp[n % 2][l][r][b_is_l];\n            int q = qs[n] - '0';\n\n            REP(is_l, 0, 2) {\n                PII nt = move(l, r, is_l, q);\n                if (!ok(nt.fst, nt.snd)) continue;\n\n                dp[(n + 1) % 2][nt.fst][nt.snd][is_l] = min(\n                        dp[(n + 1) % 2][nt.fst][nt.snd][is_l],\n                        cnt + (b_is_l == is_l));\n            }\n        }\n    }\n\n    int ans = INF;\n    REP(l, 0, 9) REP(r, 0, 9) REP(is_l, 0, 2) {\n        ans = min(ans, dp[N % 2][l][r][is_l]);\n    }\n\n    return ans;\n}\n\nint main(void) {\n    while (cin >> qs, qs != \"#\") {\n        cout << solve() << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, a, b) for (int i = a; i < (b); ++i)\n#define trav(a, x) for (auto& a : x)\n#define all(x) begin(x), end(x)\n#define sz(x) (int)(x).size()\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\n\nint xof[10];\n\nint dp[100005][10][10][2]; // index, left pos, right pos, last foot\n\nbool ok(int l, int r) {\n\tbool v = !l || !r || xof[l] <= xof[r];\n\treturn v;\n}\n\nint main() {\n\tcin.sync_with_stdio(false); cin.tie(0);\n\tcin.exceptions(cin.failbit);\n\n\txof[1] = 1, xof[4] = 1, xof[7] = 1, xof[2] = 2, xof[8] = 2, xof[3] = 3, xof[6] = 3, xof[9] = 3;\n\n\tconst int L = 0, R = 1;\n\tconst int INF = 9999999;\n\n\tfor (;;) {\n\t\tstring s; cin >> s; if (s == \"#\") break;\n\t\tint n = s.length();\n\t\ts = \" \" + s;\n\t\trep(i, 0, n + 1) rep(j, 0, 10) rep(k, 0, 10) dp[i][j][k][L] = dp[i][j][k][R] = INF;\n\t\tdp[0][0][0][L] = dp[0][0][0][R] = 0;\n\t\trep(i, 1, n + 1) {\n\t\t\tint f = s[i] - '0';\n\t\t\trep(j, 0, 10) rep(k, 0, 10) if (dp[i - 1][j][k][L] < INF || dp[i - 1][j][k][R] < INF) {\n\t\t\t\t//printf(\"Foot: %d, Prev: %d %d %d, L = %d, R = %d\\n\", f, i - 1, j, k, dp[i - 1][j][k][L], dp[i - 1][j][k][R]);\n\t\t\t\tdp[i][f][k][L] = !ok(f, k) ? INF : min(dp[i][f][k][L], min(\n\t\t\t\t\t\t\t// LL\n\t\t\t\t\t\t\tdp[i - 1][j][k][L] + 1,\n\t\t\t\t\t\t\t// LR\n\t\t\t\t\t\t\tdp[i - 1][j][k][R]));\n\t\t\t\t//if (dp[i][f][k][L] < INF)\n\t\t\t\t//\tprintf(\"%d %d %d %c: %d\\n\", i, f, k, 'L', dp[i][f][k][L]);\n\t\t\t\tdp[i][j][f][R] = !ok(j, f) ? INF : min(dp[i][j][f][R], min(\n\t\t\t\t\t\t\t// RL\n\t\t\t\t\t\t\tdp[i - 1][j][k][L],\n\t\t\t\t\t\t\t// RR\n\t\t\t\t\t\t\tdp[i - 1][j][k][R] + 1));\n\t\t\t\t//if (dp[i][j][f][R] < INF)\n\t\t\t\t//\tprintf(\"%d %d %d %c: %d\\n\", i, j, f, 'R', dp[i][j][f][R]);\n\t\t\t}\n\t\t}\n\t\tint ans = INF;\n\t\trep(j, 0, 10) rep(k, 0, 10)\n\t\t\tans = min(ans, min(dp[n][j][k][L], dp[n][j][k][R]));\n\t\tcout << ans << endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <queue>\n\nusing namespace std;\n\n#define max 10000\n\nstring str;\n/*\n\tdp[ノーツのインデックス][踏んだ足][直前の踏んだ足以外の足がある場所] = invalidの回数\n*/\n\nint min(int p, int q){\n\tif( p > q ) return q;\n\treturn p;\n}\n\nint main(void){\n//\tFILE* fp_in = freopen(\"data.txt\", \"r\", stdin);\n\n\twhile( 1 ) {\n\t\tvector<int> ans;\n\t\tint dp[max][2][10];\n\n\t\tfor(int i = 0; i < max; i++)\n\t\t\tfor(int j = 0; j < 2; j++)\n\t\t\t\tfor(int k = 0; k < 10; k++)\n\t\t\t\t\tdp[i][j][k] = 1 << 30;\n\n\t\tstr = \"\";\n\t\tcin >> str;\n\t\tif( str == \"#\" ) break;\n\n\t\t//0->左足、1->右足\n\t\tint arrow = str[0] - '1';\n\t\t\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 10; j++)\n\t\t\t\tdp[0][i][j] = 0;\n\n\t\tfor(int i = 1; i < str.length(); i++) {\n\t\t\tarrow = str[i] - '1';\n\t\t\t\n\t\t\t//j:右足の場所\n\t\t\t//左足を動かす　最後の移動が左足の場合\n\t\t\t//右足の位置はj\n\n\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\tif( arrow % 3 <= j % 3 ) {\n\t\t\t\t\tdp[i][0][j] = min( dp[i-1][0][j] + 1, dp[i][0][j] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//左足を動かす　最後の移動が右足の場合\n\t\t\t//右足の位置はstr[i-1] - '1'\n\t\t\tif( arrow % 3 <= ( str[i-1] - '1' ) % 3 ) {\n\t\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\t\tif( arrow % 3 <= j % 3  )\n\t\t\t\t\t\tdp[i][0][arrow] = min( dp[i-1][1][j], dp[i][0][arrow] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\tif( arrow % 3 >= j % 3  ) {\n\t\t\t\t\tdp[i][1][j] = min( dp[i-1][1][j] + 1, dp[i][1][j] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif( arrow % 3 >= ( str[i-1] - '1' ) % 3 ) {\n\t\t\t\tfor(int j = 0; j < 9; j++) {\n\t\t\t\t\tif( arrow % 3 >= j % 3  )\n\t\t\t\t\t\tdp[i][1][arrow] = min( dp[i-1][0][j], dp[i][1][arrow] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\tint min = 1 << 30;\n\t\tfor(int i = 0; i < 2; i++)\n\t\t\tfor(int j = 0; j < 9; j++) \n\t\t\t\tif( min > dp[str.length()-1][i][j] )\n\t\t\t\t\tmin = dp[str.length()-1][i][j];\n\t\tcout << min << endl;\n\n\t}\n\n\n//\twhile(1){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint getside(char c){\n\tint n = c - '0';\n\tif(n == 8 || n ==2){\n\t\treturn 0;\n\t}\n\telse if(n % 3 == 0){\n\t\treturn 1;\n\t}\n\telse{\n\t\treturn -1;\n\t}\n}\n\nint count(string &str, bool preside = true){\n\tint ans = 0;\n\tint lastside = getside(str[0]);\n\tbool rside = preside;\n\tfor(int i = 1; i < str.size(); ++i){\n\t\tint nowside = getside(str[i]);\n\t\tif(rside && nowside > lastside){\n\t\t\tans++;\n\t\t}\n\t\telse if(!rside && nowside < lastside){\n\t\t\tans++;\n\t\t}\n\t\telse{\n\t\t\trside = !rside;\n\t\t}\n\t\tlastside = nowside;\n\t}\n\t//cout << \" \" << ans << endl;\n\treturn ans;\n}\n\n\nint main(){\n\twhile(true){\n\t\tstring str; cin >> str;\n\t\tif(str == \"#\")break;\n\t\tint ans = min(count(str,true), count(str,false));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#include <iostream>\n#include <math.h>\n#include <assert.h>\n#include <vector>\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int uint;\ntypedef unsigned long long ull;\nstatic const double EPS = 1e-9;\nstatic const double PI = acos(-1.0);\n\n#define REP(i, n) for (int i = 0; i < (int)(n); i++)\n#define FOR(i, s, n) for (int i = (s); i < (int)(n); i++)\n#define FOREQ(i, s, n) for (int i = (s); i <= (int)(n); i++)\n#define FORIT(it, c) for (__typeof((c).begin())it = (c).begin(); it != (c).end(); it++)\n#define MEMSET(v, h) memset((v), h, sizeof(v))\n\nchar seq[1000000];\nint dp[2][2][3][3];\n\ninline bool valid(int l, int r) { return l <= r; }\ninline int X(int index) { return (seq[index] - '1') % 3; }\n\nint main() {\n  while (fgets(seq, 999999, stdin), seq[0] != '#') {\n    int len = strlen(seq) - 1;\n    MEMSET(dp, 0x00);\n    REP(i, 2) REP(j, 3) REP(k, 3) { if (!valid(j, k)) { dp[0][i][j][k] = 1 << 30; } }\n    REP(iter, len) {\n      int prev = iter & 1;\n      int next = prev ^ 1;\n      MEMSET(dp[next], 0x0f);\n      int nx = X(iter);\n      REP(lx, 3) {\n        REP(rx, 3) {\n          if (!valid(lx, rx)) { continue; }\n          if (valid(nx, rx)) {\n            dp[next][0][nx][rx] = min(dp[next][0][nx][rx], dp[prev][0][lx][rx] + 1);\n            dp[next][0][nx][rx] = min(dp[next][0][nx][rx], dp[prev][1][lx][rx]);\n          }\n          if (valid(lx, nx)) {\n            dp[next][1][lx][nx] = min(dp[next][1][lx][nx], dp[prev][0][lx][rx]);\n            dp[next][1][lx][nx] = min(dp[next][1][lx][nx], dp[prev][1][lx][rx] + 1);\n          }\n        }\n      }\n    }\n    int ans = 1 << 30;\n    REP(i, 2) REP(j, 3) REP(k, 3) { ans = min(ans, dp[len & 1][i][j][k]); }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\n\nconst int INF = 1 << 30;\n\nint cnt(int left_pos, int right_pos, string dir, bool is_left) {\n    int res = 0;\n    for (int i = 2; i < dir.size(); i++) {\n        int now_pos = dir[i] - '1';\n        if (is_left) {\n            if (now_pos % 3 > right_pos % 3) {\n                right_pos = now_pos;\n                res++;\n            }\n            else {\n                left_pos = now_pos;\n                is_left = false;\n            }\n        }\n        else {\n            if (now_pos % 3 < left_pos % 3) {\n                left_pos = now_pos;\n                res++;\n            }\n            else {\n                right_pos = now_pos;\n                is_left = true;\n            }\n        }\n    }\n    return res;\n}\n\nvoid solve(string s) {\n    if (s.size() <= 2) {\n        cout << 0 << endl;\n        return;\n    }\n    int ans = INF;\n    int first_pos = s[0] - '1', second_pos = s[1] - '1';\n    if (first_pos % 3 < second_pos % 3) {\n        ans = min(ans, cnt(first_pos, second_pos, s, true));\n    }\n    else if (first_pos % 3 > second_pos % 3) {\n        ans = min(ans, cnt(second_pos, first_pos, s, false));\n    }\n    else {\n        ans = min(ans, cnt(first_pos, second_pos, s, true));\n        ans = min(ans, cnt(first_pos, second_pos, s, false));\n        ans = min(ans, cnt(second_pos, first_pos, s, true));\n        ans = min(ans, cnt(second_pos, first_pos, s, false));\n    }\n    cout << ans << endl;\n}\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    string s;\n    while (true) {\n        cin >> s;\n        if (s == \"#\") break;\n        solve(s);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define repr(i,n) for(int i=(int)(n-1);i>=0;i--)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout << #x\" = \" << x << endl\n#define print(x) cout << x << endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<int, P> PIP;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\ntypedef set<int> S;\n\n#define INF INT_MAX/3\n#define MAX_N 1000000001\n\n\nint main(){\n    cin.sync_with_stdio(false);\n    string s;\n    while(cin >> s, s[0] != '#') {\n        int ans = INF;\n        int l = -1, r = 3;\n        bool left = true;\n        rep(j, 2) {\n            int cnt = 0;\n            rep(i, s.size()) {\n                int step = (s[i] - '1') % 3;\n                if (left) {\n                    if (step < l) {\n                        cnt++;\n                        l = step;\n                    } else {\n                        r = step;\n                        left = false;\n                    }\n                } else {\n                    if (r < step) {\n                        cnt++;\n                        r = step;\n                    } else {\n                        l = step;\n                        left = true;\n                    }\n                }\n            }\n            minch(ans, cnt);\n            left = false;\n        }\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define llint long long\n#define inf 1e9\n\nusing namespace std;\n\nstring s;\nint x[] = {0, -1, 0, 1, -1, 0, 1, -1, 0, 1};\nint dp[100005][10][10][2];\n\nint main(void)\n{\n  while(1){\n    cin >> s;\n    if(s == \"#\") break;\n\n    llint n = s.size();\n    s = \"#\" + s;\n\n    for(int i = 0; i <= n; i++){\n      for(int j = 1; j <= 9; j++){\n        for(int k = 1; k <= 9; k++){\n          for(int l = 0; l < 2; l++){\n            dp[i][j][k][l] = inf;\n          }\n        }\n      }\n    }\n    for(int j = 1; j <= 9; j++){\n      for(int k = 1; k <= 9; k++){\n        if(j == 5 || k == 5 || j == k || x[j] > x[k]) continue;\n        //cout << j << \" \" << k << endl;\n          for(int l = 0; l < 2; l++) dp[0][j][k][l] = 0;\n      }\n    }\n\n    for(int i = 0; i < n; i++){\n      int c = s[i+1]-'0';\n      for(int j = 1; j <= 9; j++){\n        for(int k = 1; k <= 9; k++){\n          for(int l = 0; l < 2; l++){\n            if(x[c] <= x[k] && c != k) dp[i+1][c][k][0] = min(dp[i+1][c][k][0], dp[i][j][k][l] + ((l == 0)?1:0));\n            if(x[j] <= x[c] && c != j) dp[i+1][j][c][1] = min(dp[i+1][j][c][1], dp[i][j][k][l] + ((l == 1)?1:0));\n          }\n        }\n      }\n\n      /*for(int j = 1; j <= 9; j++){\n        for(int k = 1; k <= 9; k++){\n          cout << dp[i][j][k] << \" \";\n        }\n        cout << endl;\n      }\n      cout<< endl;*/\n    }\n\n\n    int ans = inf;\n    for(int j = 1; j <= 9; j++){\n      for(int k = 1; k <= 9; k++){\n        for(int l = 0; l < 2; l++){\n          ans = min(ans, dp[n][j][k][l]);\n        }\n      }\n    }\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cctype>\n#include <complex>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <functional>\n#include <iomanip>\n#include <iostream>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n\n#define all(a)  (a).begin(),(a).end()\n#define rall(a) (a).rbegin(), (a).rend()\n#define pb push_back\n#define mp make_pair\n#define each(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define exist(s,e) ((s).find(e)!=(s).end())\n#define range(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n)  range(i,0,n)\n#define clr(a,b) memset((a), (b) ,sizeof(a))\n#define dump(x)  cerr << #x << \" = \" << (x) << endl;\n#define debug(x) cerr << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n\n#define L first\n#define R second\n\nconst double eps = 1e-10;\nconst double pi  = acos(-1.0);\nconst ll INF =1LL << 62;\nconst int inf =1 << 29;\n\nint S[] = {-1, 0, 1, 2, 0, -1, 2, 0, 1, 2};\n\nint main(void){\n    int res;\n    for(string steps; cin >> steps, steps != \"#\"; cout << res << endl){\n        res = inf;\n        pii foot = mp(1, 1);\n     \n        rep(z, 2){\n            int cnt = 0;\n            bool isR = !z;\n\n            rep(i, steps.size()){\n                int next = S[steps[i] - '0'];\n                if(isR){\n                    if(foot.L <= next){\n                        foot.R = next;\n                        isR = !isR;\n                    }\n                    else{\n                        foot.L = next;\n                        cnt++;\n                    }\n                }\n                else{\n                    if(next <= foot.R){\n                        foot.L = next;\n                        isR = !isR;\n                    }\n                    else{\n                        foot.R = next;\n                        cnt++;\n                    }\n                }\n            }\n            res = min(res, cnt);\n        }\n    }\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\nint main(){\n  string str;\n  int LR[9] = {0,1,2,0,1,2,0,1,2};\n  int UD[9] = {0,0,0,1,1,1,2,2,2};\n  while(cin >> str && str[0] != '#'){\n    int ans = 0, ans2 = 0, a = str[0] - '0' - 1, b = a;\n    bool turn = false, turn2 = false;\n    for(int i=1;i<str.size();i++){\n      int n = str[i] - '0' - 1;\n      if(!turn && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans++;\n\t/*if(UD[n] != UD[a] || UD[n] != UD[b])*/ turn = true;\n      }\n      if(!turn2 && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans2++;\n\t/*if(UD[n] != UD[a] || UD[n] != UD[b])*/ turn2 = true;\n      }\n      if(turn && (i % 2 == 1 && LR[n] > LR[a] || i % 2 == 0 && LR[n] < LR[a])){\n\tans++;\n\t/*if(UD[n] != UD[a] || UD[n] != UD[b])*/ turn = false;\n      }\n      if(turn2 && (i % 2 == 1 && LR[n] < LR[a] || i % 2 == 0 && LR[n] > LR[a])){\n\tans2++;\n\t/*if(UD[n] != UD[a] || UD[n] != UD[b])*/ turn2 = false;\n      }\n      b = a;\n      a = n;\n    }\n    cout << min(ans,ans2) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nint main(){\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\tstring s;\n\tint m[2];\n\tfor(;cin>>s,s!=\"#\";){\n\t\tm[0]=m[1]=0;\n\t\tfor(int i=1;i<s.size();i++){\n\t\t\tif((s[i]-'1')%3>(s[i-1]-'1')%3){\n\t\t\t\tm[0]=min(m[0]+1,m[1]);\n\t\t\t\tm[1]=1<<30;\n\t\t\t}else if((s[i]-'1')%3<(s[i-1]-'1')%3){\n\t\t\t\tm[1]=min(m[0],m[1]+1);\n\t\t\t\tm[0]=1<<30;\n\t\t\t}else{\n\t\t\t\tm[1]^=m[0],m[0]^=m[1],m[1]^=m[0];\n\t\t\t}\n\t\t}\n\t\tcout<<min(m[0],m[1])<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define _ ios_base::sync_with_stdio(0);cin.tie(0);\n#define REP(i,n) for(int i=0;i<(int)(n);i++)\n\nusing namespace std;\nconst int MAX_N=100000+10;\nint forward(int left, int right){\n  int a=(left-1)%3,b=(right-1)%3;\n  return a<b?1:a>b?-1:0;\n}\n\nstring str;\nint main(){ _;\n  while(cin>>str,str[0]!='#'){\n    int le=0,re=0,ll=5,lr=5,rl=5,rr=5;\n    int lLastForward=0,rLastForward=0;\n    int sz=str.size();\n    for(int i=0;i<sz;i++){\n      if(i%2==0){\n\tll=rr=str[i]-'0';\n      }else{\n\tlr=rl=str[i]-'0';\n      }\n      int lForward=forward(ll,lr);\n      int rForward=forward(rl,rr);\n      if(lLastForward*lForward==-1)le++;\n      if(rLastForward*rForward==-1)re++;\n      if(lForward!=0)lLastForward=lForward;\n      if(rForward!=0)rLastForward=rForward;\n    }\n    cout<<min(le,re)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define fi first\n#define se second\n#define repl(i,a,b) for(int i=(int)(a);i<(int)(b);i++)\n#define rep(i,n) repl(i,0,n)\n#define each(itr,v) for(auto itr:v)\n#define pb(s) push_back(s)\n#define mp(a,b) make_pair(a,b)\n#define all(x) (x).begin(),(x).end()\n#define dbg(x) cout<<#x\"=\"<<x<<endl\n#define maxch(x,y) x=max(x,y)\n#define minch(x,y) x=min(x,y)\n#define uni(x) x.erase(unique(all(x)),x.end())\n#define exist(x,y) (find(all(x),y)!=x.end())\n#define bcnt(x) bitset<32>(x).count()\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int> P;\ntypedef pair<P, int> PPI;\ntypedef pair<ll, ll> PL;\ntypedef pair<P, ll> PPL;\n\n#define INF INT_MAX/3\n\n#define MAX_N 1000\n\nstring s;\n\nvector<int> lefts{7,4,1};\nvector<int> middle{8,2};\nvector<int> rights{9,6,3};\n\nbool is_valid(int l,int r){\n\tif((exist(lefts,r)&&(exist(middle,l)||exist(rights,l)))||(exist(middle,r)&&exist(rights,l)))return false;\n\telse return true;\n}\n\nint main(){\n\tcin.sync_with_stdio(false);\n\twhile(1){\n\t\tcin>>s;\n\t\tif(s[0]=='#')break;\n\t\tbool turn=false;\n\t\tint l=0,r=s[0]-'0';\n\t\tint resa=0;\n\t\trepl(i,1,s.length()){\n\t\t\tint ns=s[i]-'0';\n\t\t\tif(turn){//rights\n\t\t\t\tif(!is_valid(l,ns)){\n\t\t\t\t\tl=ns;\n\t\t\t\t\tresa++;\n\t\t\t\t}else{\n\t\t\t\t\tr=ns;\n\t\t\t\t\tturn=false;\n\t\t\t\t}\n\t\t\t}else{//lefts\n\t\t\t\tif(!is_valid(ns,r)){\n\t\t\t\t\tr=ns;\n\t\t\t\t\tresa++;\n\t\t\t\t}else{\n\t\t\t\t\tl=ns;\n\t\t\t\t\tturn=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tturn=true;\n\t\tl=s[0]-'0',r=0;\n\t\tint resb=0;\n\t\trepl(i,1,s.length()){\n\t\t\tint ns=s[i]-'0';\n\t\t\tif(turn){//rights\n\t\t\t\tif(!is_valid(l,ns)){\n\t\t\t\t\tl=ns;\n\t\t\t\t\tresb++;\n\t\t\t\t}else{\n\t\t\t\t\tr=ns;\n\t\t\t\t\tturn=false;\n\t\t\t\t}\n\t\t\t}else{//lefts\n\t\t\t\tif(!is_valid(ns,r)){\n\t\t\t\t\tr=ns;\n\t\t\t\t\tresb++;\n\t\t\t\t}else{\n\t\t\t\t\tl=ns;\n\t\t\t\t\tturn=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<min(resa,resb)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nchar str[1000001];\nint num[100001];\nint ans;\nint size;\nint step(int l,int r,int w){\n\tint res=0;\n\tint a;\n\tfor(a=1;a<size;a++){\n\t\tif(num[a]%3==1){\n\t\t\tif(w==0){\n\t\t\t\tif(l==1)r=1,w=1;\n\t\t\t\telse res++,l=1,w=0;\n\t\t\t}else l=1,w=0;\n\t\t}\n\t\tif(num[a]%3==2){\n\t\t\tif(w==0){\n\t\t\t\tif(l==3)res++,l=2,w=1;\n\t\t\t\telse r=2,w=1;\n\t\t\t}else{\n\t\t\t\tif(r==1)res++,w=1,r=2;\n\t\t\t\telse l=2,w=0;\n\t\t\t}\n\t\t}\n\t\tif(num[a]%3==0){\n\t\t\tif(w==1){\n\t\t\t\tif(r==3)l=3,w=0;\n\t\t\t\telse res++,r=3,w=1;\n\t\t\t}else r=3,w=1;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint a;\n\twhile(1){\n\t\tfor(a=0;a<=100000;a++)str[a]='\\0',num[a]=0;\n\t\tcin >> str;\n\t\tans=100000;\n\t\tif(str[0]=='#')break;\n\t\tsize=strlen(str);\n\t\tfor(a = 0; a <size; a++) {\n\t\t\tnum[a]=char(str[a])-'0';\n\t\t}\n\t\ta=num[0]%3;\n\t\tif(a==0)a=3;\n\t\tans=min(step(a,0,0),step(0,a,1));\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint main() {\n    string num;\n    while (cin>>num) {\n        if (num==\"#\") break;\n        int len=num.length();\n        if (len<3) puts(\"0\");\n        else {\n            bool isr=true;\n            int pos=(num[0]-'0'+2)%3, res1=0, res2=0;\n            for (int i=1; i<len; i++) {\n                int next=(num[i]-'0'+2)%3;\n                if (pos<next&&isr) {\n                    res1++; isr=!isr;\n                } else if (pos>next&&!isr) {\n                    res1++; isr=!isr;\n                }\n                pos=next; isr=!isr;\n            }\n            pos=(num[0]-'0'+2)%3; isr=false;\n            for (int i=1; i<len; i++) {\n                int next=(num[i]-'0'+2)%3;\n                if (pos<next&&isr) {\n                    res2++; isr=!isr;\n                } else if (pos>next&&!isr) {\n                    res2++; isr=!isr;\n                }\n                pos=next; isr=!isr;\n            }\n            printf(\"%d\\n\",min(res1,res2));\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <cstdio>\n#include <cmath>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n#include <bitset>\n  \n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, b) for(int i = (a); i < (b); i++)\n#define all(v) (v).begin(), (v).end()\n#define rev(s) (s).rbegin(), (s).rend()\n#define MP make_pair\n#define X first\n#define Y second\n      \n    using namespace std;\n      \n    typedef long long ll;\n    typedef pair<int, int> P;\n    typedef vector<int> vi;\n\n    bool cross(int first, int second, int foot){\n        int lpos = (first-1)%3-1;\n        int rpos = (second-1)%3-1;\n        if(foot) swap(lpos, rpos);\n        return lpos > rpos;\n    }\n\n    int main(){\n        string s;\n        while(cin >> s, s!=\"#\"){\n        int foot[2] = {5, 5}; // l, r\n        int cnt = 0;\n        int turn = 0;\n        if(cross( foot[turn], s[0]-'0', turn)) turn++;\n        rep(i, s.size()){\n            if(cross(foot[turn], s[i]-'0', turn)){\n                cnt++;\n            }else{\n                turn = !turn;\n            }\n            foot[turn] = s[i]-'0';\n            // cout << \"foot left=\" << foot[0] << \", right=\" << foot[1] << endl;\n        }\n        cout << cnt << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint solve(string s,int left,int right,bool flg){\n\tint count = 0;\n\n\tfor(int i=1;i<s.length();i++){\n\t\tint next = (s[i] - '1') % 3;\n\n\t\tif(flg){\n\t\t\tif(right < next){\n\t\t\t\tright = next;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tleft = next;\n\t\t\t\tflg = !flg;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(left > next){\n\t\t\t\tleft = next;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tright = next;\n\t\t\t\tflg = !flg;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn count;\n}\n\nint main(void){\n\tstring s;\n\n\twhile(cin>>s && s!=\"#\"){\n\t\tint first = (s[0] - '1') % 3;\n\t\tcout<<min(solve(s,first,0,false), solve(s,0,first,true))<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\n\nconst int INF = 1<<25;\nint dx[] = {-1,0,1,-1,0,1,-1,0,1};\nint dy[] = {-1,-1,-1,0,0,0,1,1,1};\nstruct Pos{\n    int x, y;\n    Pos(int x=0, int y=0) {\n        this->x = x;\n        this->y = y;\n    }\n};\nPos p[9];\nint N;\nPos ary[1000000];\n\nint func(bool flg, Pos l, Pos r) {\n    int res = 0;\n    REP(i, N) {\n        if (flg) { // right foot\n            if (ary[i].x<l.x) {\n                l = ary[i];\n                flg = !flg;\n                res++;\n            } else {\n                if (r.x==ary[i].x && r.y==ary[i].y) flg != flg;\n                r = ary[i];\n            }\n        } else { // left foot\n            if (ary[i].x>r.x) {\n                r = ary[i];\n                flg = !flg;\n                res++;\n            } else {\n                if (l.x==ary[i].x && l.y==ary[i].y) flg != flg;\n                l = ary[i];\n            }\n        }\n        flg = !flg;\n    }\n    return res;\n}\n\nint solve() {\n    string str;\n    getline(cin, str);\n    if (str==\"#\") return -1;\n\n    N = str.length();\n    REP(i, N) {\n        ary[i] = p[str[i]-'1'];\n    }\n    int ans = INF;\n    REP(i, 9) REP(j, 9) {\n        ans = min(ans, min(func(false, p[i], p[j]), func(true, p[i], p[j])));\n    }\n    return ans;\n}\n\nint main() {\n    REP(i, 9) {\n        p[i] = Pos(dx[i], dy[i]);\n    }\n\n    int ans;\n    while((ans = solve())>=0) {\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nconst int dy[] = {0, -1, 0, 1, -1, 0, 1, -1, 0, 1};\n\nint Solve(const string& S, int idx, int left, int right, bool prev)\n{\n  if(S.length() == idx) {\n    return(0);\n  } else if(prev) {\n    if(dy[S[idx]] > dy[right]) return(Solve(S, idx + 1, left, S[idx], true) + 1);\n    else return(Solve(S, idx + 1, S[idx], right, false));\n  } else {\n    if(dy[S[idx]] < dy[left]) return(Solve(S, idx + 1, S[idx], right, false) + 1);\n    else return(Solve(S, idx + 1, left, S[idx], true));\n  }\n}\nint main()\n{\n  string S;\n  while(cin >> S, S != \"#\") {\n    for(char& c : S) c -= '0';\n    cout << min(Solve(S, 0, S[0], S[0], false), Solve(S, 0, S[0], S[0], true)) << endl;\n  }\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A2243\nTitle step step revolution\n*/\n#include <stdio.h>\n#include <string.h>\n#define min(x,y) (((x)<(y))?(x):(y))\n\n#define RIGHT 0\n#define LEFT  1\nchar steps[100000];\nint rl;\nchar prev_l=0,prev_r=0;\nint call_cnt=0;\nint valid_step(char next,int rl)\n{\n        int ret,p,n,prev;\n\n        n=next -= '0'; n %= 3;if(n==0)n=3;\n        prev=(rl==RIGHT)?prev_l:prev_r;\n        p=prev; p %=3;if(p==0)p=3;\n\n#ifdef DEBUG\n        printf(\"N:%d (%d)PL:%d PR:%d=>%d\\n\",next,n,prev_l,prev_r,p);\n        printf(\"rl%d p<N%d\\n\",rl==RIGHT,p<n);\n#endif\n        if(call_cnt==0)\n        {\n                call_cnt++;\n                ret=-1;\n        }\n        else if(p==n)\n                ret=-1;\n        else if(rl==RIGHT && (p<n))\n                ret=(-1);\n        else if(rl==LEFT &&  (p>n))\n                ret=(-1);\n        else\n                ret=(0);\n        if((ret && rl==RIGHT) ||(!ret && rl==LEFT))\n                prev_r=next;\n        else\n                prev_l=next;\n#if DEBUG\n        printf(\"rl=%s ret=%d\\n\",rl?\"LEFT\":\"RIGHT\",ret);\n#endif\n        return(ret);\n}\nint solve(char * steps)\n{\n        int last_foot,cnt;\n        char *p;\n \n        p=steps;\n        cnt=0;prev_l=prev_r=1;call_cnt=0;\n        for(;*p;p++)\n        {\n                if(valid_step(*p,rl))\n                {\n                        rl = 1-rl;\n                }\n                else\n                {\n                        cnt++;\n                }\n                //printf(\"PL:%d PR:%d\\n\",prev_l,prev_r);\n        }\n        return(cnt);\n}\n//\nmain()\n{\n        int cnt_r,cnt_l;\n\n        while(scanf(\"%s\",steps) && strcmp(\"#\",steps))\n        {\n                rl=RIGHT;\n                cnt_r=solve(steps);\n                rl=LEFT;\n                cnt_l=solve(steps);\n                printf(\"%d\\n\",min(cnt_r,cnt_l));\n                memset(steps,'\\0',sizeof(memset));\n        }\nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 2243: Step Step Evolution\n// 2017.11.11 bal4u@uu\n\n#include <stdio.h>\n\n#define LEFT  0\n#define RIGHT 1\n#define check(l,r)  ((tr[l])<=(tr[r]))\n\nchar a[100002];\nint tr['9'+1];\n\nint main()\n{\n\tint i, s, cnt, ans;\n\tchar *p, l, r;\n\n\ttr['1'] = tr['4'] = tr['7'] = 1;\n\ttr['2'] =           tr['8'] = 2;\n\ttr['3'] = tr['6'] = tr['9'] = 3;\n\n\twhile (fgets(a, sizeof(a), stdin) && *a != '#') {\n\t\tif (a[1] < '0') { puts(\"0\"); continue; }\n\t\tans = 100000;\n\t\tfor (i = 0; i < 2; i++) {\n\t\t\tcnt = 0, p = a;\n\t\t\tif (!i) l = *p++, r = *p++, s = LEFT;\n\t\t\telse    r = *p++, l = *p++, s = RIGHT;\n\t\t\tif (!check(l, r)) continue;\n\n\t\t\twhile (*p >= '0') {\n\t\t\t\tif (s == LEFT) {\n\t\t\t\t\tif (check(*p, r)) l = *p, s = !s;\n\t\t\t\t\telse              r = *p, cnt++;\n\t\t\t\t} else {\n\t\t\t\t\tif (check(l, *p)) r = *p, s = !s;\n\t\t\t\t\telse              l = *p, cnt++;\n\t\t\t\t}\n\t\t\t\tp++;\n\t\t\t}\n\t\t\tif (ans > cnt) ans = cnt;\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n#define f(X) ((X)%3==0?3:(X)%3)\n#define F(X, Y) (f(X)>f(Y))\nint func(char* s, int n, int isleft)\n{\n    int i, left=-1, right=-1;\n    int res=0;\n    if (isleft) left=s[0]; else right=s[0];\n    isleft=!isleft;\n    for(i=1;i<n;++i) {\n        if (isleft) {\n            if (F(s[i], right)) { ++res; right=s[i]; }\n            else { left=s[i]; isleft=!isleft; }\n        }\n        else {\n            if (F(left, s[i])) { ++res; left=s[i]; }\n            else { right=s[i]; isleft=!isleft; }\n        }\n    }\n    return res;\n}\n\nchar s[100001];\nint main(void)\n{\n    while (scanf(\"%s\", s), *s!='#') {\n        int n=strlen(s), i;\n        int L, R;\n        for(i=0;i<n;++i) s[i]-='0';\n        L=func(s, n, 1);\n        R=func(s, n, 0);\n        printf(\"%d\\n\", L<R?L:R);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nchar S[100005];\nint i,f,l,p,e,e2,np;\nint main()\n{\n\tfor(;gets(S),S[0]!='#';)\n\t{\n\t\tfor(i=1,e=f=0,p=(S[0]-'0'-1)%3;S[i];i++)\n\t\t{\n\t\t\tnp=(S[i]-'0'-1)%3;\n\t\t\tif(!f)//right\n\t\t\t{\n\t\t\t\tif(p>np)\n\t\t\t\t\te++;\n\t\t\t\telse \n\t\t\t\t\tf=!f;\n\t\t\t}\n\t\t\telse//left\n\t\t\t{\n\t\t\t\tif(p<np)\n\t\t\t\t\te++;\n\t\t\t\telse \n\t\t\t\t\tf=!f;\n\t\t\t}\n\t\t\tp=np;\n\t\t}\n\t\tfor(i=1,e2=f=0,p=(S[0]-'0'-1)%3;S[i];i++)\n\t\t{\n\t\t\tnp=(S[i]-'0'-1)%3;\n\t\t\tif(f)//right\n\t\t\t{\n\t\t\t\tif(p>np)\n\t\t\t\t\te2++;\n\t\t\t\telse \n\t\t\t\t\tf=!f;\n\t\t\t}\n\t\t\telse//left\n\t\t\t{\n\t\t\t\tif(p<np)\n\t\t\t\t\te2++;\n\t\t\t\telse \n\t\t\t\t\tf=!f;\n\t\t\t}\n\t\t\tp=np;\n\t\t}\n\t\tprintf(\"%d\\n\",e<e2?e:e2);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define min(x,y) ((x<y)?x:y)\n\nint yy(int n){\n\tif(n=='1' || n=='4' || n=='7')return 1;\n\tif(n=='3' || n=='6' || n=='9')return 3;\n\tif(n=='2' || n=='8')return 2;\n}\nchar s[100005],t[100005];\n\n\nint main(){\n\tint i,j,k,n,m,ans,p[3];\n\twhile(1){\n\t\tscanf(\"%s\",s);\n\t\tif(s[0]=='#')break;\n\t\tm=strlen(s);n=1000000;\n\t\tt[0]=1;t[1]=0;\n\t\tp[1]=yy(s[0]);\n\t\tp[0]=yy(s[1]);\n\t\tif(p[0]<=p[1]){\n\t\t\tn=0;\n\t\t\tfor(i=2;i<m;i++){\n\t\t\t\tt[i]=(t[i-1]+1)%2;\n\t\t\t\tif(t[i]==0){\n\t\t\t\t\tif(yy(s[i])>p[1]){\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\tt[i]=1;\n\t\t\t\t\t\tp[1]=yy(s[i]);\n\t\t\t\t\t}else p[0]=yy(s[i]);\n\t\t\t\t}else{\n\t\t\t\t\tif(yy(s[i])<p[0]){\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\tt[i]=0;\n\t\t\t\t\t\tp[0]=yy(s[i]);\n\t\t\t\t\t}else p[1]=yy(s[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//printf(\"1:%d \",n);\n\t\tans=n;n=1000000;\n\t\tt[0]=0;t[1]=1;\n\t\tp[1]=yy(s[1]);\n\t\tp[0]=yy(s[0]);\n\t\tif(p[0]<=p[1]){\n\t\t\tn=0;\n\t\t\tfor(i=2;i<m;i++){\n\t\t\t\tt[i]=(t[i-1]+1)%2;\n\t\t\t\tif(t[i]==0){\n\t\t\t\t\tif(yy(s[i])>p[1]){\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\tt[i]=1;\n\t\t\t\t\t\tp[1]=yy(s[i]);\n\t\t\t\t\t}else p[0]=yy(s[i]);\n\t\t\t\t}else{\n\t\t\t\t\tif(yy(s[i])<p[0]){\n\t\t\t\t\t\tn++;\n\t\t\t\t\t\tt[i]=0;\n\t\t\t\t\t\tp[0]=yy(s[i]);\n\t\t\t\t\t}else p[1]=yy(s[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t//printf(\"2:%d \",n);\n\t\tans=min(ans,n);\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tchar[] s = sc.next().toCharArray();\n\t\t\tif (s[0] == '#') {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint n = s.length;\n\t\t\tfor(int i=0;i<n;i++) {\n\t\t\t\ts[i] -= '1';\n\t\t\t}\n\t\t\tint[][][][] dp = new int[n+1][2][9][9];\n\t\t\tfor(int i=1;i<=n;i++) {\n\t\t\t\tfor(int j=0;j<2;j++) {\n\t\t\t\t\tfor(int k=0;k<9;k++) {\n\t\t\t\t\t\tArrays.fill(dp[i][j][k], 1 << 29);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<9;i++) {\n\t\t\t\tfor(int j=0;j<9;j++) {\n\t\t\t\t\tfor(int k=0;k<2;k++) {\n\t\t\t\t\t\tdp[0][k][i][j] = i == 4 || j == 4 ? 1 << 29 : 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<n;i++) {\n\t\t\t\tfor(int j=0;j<2;j++) {\n\t\t\t\t\tfor(int f1=0;f1<9;f1++) {\n\t\t\t\t\t\tfor(int f2=0;f2<9;f2++) {\n\t\t\t\t\t\t\t//use left\n\t\t\t\t\t\t\tif (valid(s[i], f2)) {\n\t\t\t\t\t\t\t\tdp[i+1][0][s[i]][f2] = Math.min(dp[i+1][0][s[i]][f2], dp[i][j][f1][f2] + (j == 0 ? 1 : 0));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//use right\n\t\t\t\t\t\t\tif (valid(f1, s[i])) {\n\t\t\t\t\t\t\t\tdp[i+1][1][f1][s[i]] = Math.min(dp[i+1][1][f1][s[i]], dp[i][j][f1][f2] + (j == 1 ? 1 : 0));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint min = 1 << 29;\n\t\t\tfor(int i=0;i<2;i++) {\n\t\t\t\tfor(int f1=0;f1<9;f1++) {\n\t\t\t\t\tfor(int f2=0;f2<9;f2++) {\n\t\t\t\t\t\tmin = Math.min(min, dp[n][i][f1][f2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\t\n\tpublic static boolean valid(int f1,int f2) {\n\t\treturn f1 != 4 && f2 != 4 && f1 % 3 <= f2 % 3;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\nimport javax.xml.crypto.Data;\n\npublic class Main {\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int[] vx = new int[] {0,1,0,-1,1,1,-1,-1};\n\tstatic int[] vy = new int[] {1,0,-1,0,1,-1,1,-1};\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tString in = sc.next();\n\t\t\tif(in.equals(\"#\")) break;\n\t\t\tint ca = 0;\n\t\t\tint cb = 0;\n\t\t\tif(in.length() == 1) {\n\t\t\t\tout.println(0);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint l = 5;\n\t\t\tint r = 5;\n\t\t\tboolean prfisr = true;\n\t\t\tfor(int i = 0; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tif(l != 5 && r != 5) \n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tif(l != 5 && r != 5)\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tl = 5;\n\t\t\tr = 5;\n\t\t\tprfisr = false;\n\t\t\tfor(int i = 0; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tout.println(Math.min(ca,cb));\n\t\t\t\n\t\t}\n\t\tout.flush();\n\t}\n\tstatic int check(int a) {\n\t\tif(a == 7 || a == 4 || a == 1) return 1;\n\t\tif(a == 8 || a == 2 || a == 5) return 2;\n\t\tif(a == 9 || a == 6 || a == 3) return 3;\n\t\t\n\t\treturn 1000;\n\t}\n}\n\nclass MyComp implements Comparator<String> {\n\n\t@Override\n\tpublic int compare(String o1, String o2) {\n\t\tif(o1.length() < o2.length()) {\n\t\t\treturn 1;\n\t\t}\n\t\telse if(o1.length() > o2.length()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn o1.compareTo(o2);\n\t}\n\t\n}\n\n//-----------------Template------------------//\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t}else{\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tprivate int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n\tprivate static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\tprivate void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n\tpublic boolean hasNext() { skipUnprintable(); return hasNextByte();}\n\tpublic String next() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile(isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\tpublic long nextLong() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile(true){\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t}else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\treturn minus ? -n : n;\n\t\t\t}else{\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t \n\tpublic int nextInt() {\n\t\t if (!hasNext()) throw new NoSuchElementException();\n\t\t int n = 0;\n\t\t boolean minus = false;\n\t\t int b = readByte();\n\t\t if (b == '-') {\n\t\t\t minus = true;\n\t\t\t b = readByte();\n\t\t }\n\t\t if (b < '0' || '9' < b) {\n\t\t\t throw new NumberFormatException();\n\t\t }\n\t\t while(true){\n\t\t\t if ('0' <= b && b <= '9') {\n\t\t\t\t n *= 10;\n\t\t\t\t n += b - '0';\n\t\t\t }else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\t return minus ? -n : n;\n\t\t\t }else{\n\t\t\t\t throw new NumberFormatException();\n\t\t\t }\n\t\t\t b = readByte();\n\t\t }\n\t}\n\t \n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n\t \n \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Step Step Evolution\npublic class Main{\n\n\tvoid run(){\n\t\tint[] pos = {0,0,1,2,0,0,2,0,1,2};\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tchar[] s = sc.next().toCharArray();\n\t\t\tif(s[0]=='#')break;\n\t\t\tint n = s.length;\n\t\t\tint[][][][] dp = new int[n+1][3][3][2];\n\t\t\tfor(int i=0;i<=n;i++)for(int j=0;j<3;j++)for(int k=0;k<3;k++)for(int l=0;l<2;l++)dp[i][j][k][l]=1<<28;\n\t\t\tfor(int i=0;i<3;i++){\n\t\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\t\t\tdp[0][i][j][k] = i<=j?0:1<<28;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tint p = pos[s[i]-'0'];\n\t\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\t\tfor(int k=0;k<3;k++){\n\t\t\t\t\t\tfor(int l=0;l<2;l++){\n\t\t\t\t\t\t\tif(l==0){\n\t\t\t\t\t\t\t\tif(p<=k){\n\t\t\t\t\t\t\t\t\tdp[i+1][p][k][1] = Math.min(dp[i+1][p][k][1], dp[i][j][k][l]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(j<=p){\n\t\t\t\t\t\t\t\t\tdp[i+1][j][p][0] = Math.min(dp[i+1][j][p][l], dp[i][j][k][l]+1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif(j<=p){\n\t\t\t\t\t\t\t\t\tdp[i+1][j][p][0] = Math.min(dp[i+1][j][p][0], dp[i][j][k][l]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(p<=k){\n\t\t\t\t\t\t\t\t\tdp[i+1][p][k][1] = Math.min(dp[i+1][p][k][1], dp[i][j][k][l]+1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint min = 1<<28;\n\t\t\tfor(int i=0;i<3;i++)for(int j=0;j<3;j++)for(int k=0;k<2;k++)min=Math.min(min, dp[n][i][j][k]);\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\tchar[] ch;\n\tint[][] dp;\n\tstatic int INF = (int)1e9 + 7;\n\n\tpublic void solve() {\n\t\twhile (true) {\n\t\t\t/*StringBuilder sb = new StringBuilder();\n\t\t\tfor(int i = 0;i < 100000;i++){\n\t\t\t\tsb.append(i  % 3);\n\t\t\t}*/\n\t\t\tString S = next();\n\n\t\t\tif (S.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tch = S.toCharArray();\n\t\t\tfor (int i = 0; i < ch.length; i++) {\n\t\t\t\tch[i] = (char) (ch[i] - 1);\n\t\t\t}\n\n\t\t\tdp = new int[ch.length + 1][2];\n\t\t\tfor(int i = 1;i < ch.length;i++){\n\t\t\t\tint n = (ch[i] - '0') % 3;\n\t\t\t\tint p = (ch[i - 1] - '0') % 3;\n\t\t\t\tif(n > p){\n\t\t\t\t\tdp[i][0] = Math.min(dp[i - 1][1],dp[i - 1][0] + 1);\n\t\t\t\t\tdp[i][1] = INF;\n\t\t\t\t}else if(n < p){\n\t\t\t\t\tdp[i][1] = Math.min(dp[i - 1][0],dp[i - 1][1] + 1);\n\t\t\t\t\tdp[i][0] = INF;\n\t\t\t\t}else{\n\t\t\t\t\tdp[i][1] = dp[i - 1][0];\n\t\t\t\t\tdp[i][0] = dp[i - 1][1];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tout.println(Math.min(dp[ch.length - 1][0], dp[ch.length - 1][1]));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n\n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n\n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n\n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\nimport javax.xml.crypto.Data;\n\npublic class Main {\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int[] vx = new int[] {0,1,0,-1,1,1,-1,-1};\n\tstatic int[] vy = new int[] {1,0,-1,0,1,-1,1,-1};\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tString in = sc.next();\n\t\t\tif(in.equals(\"#\")) break;\n\t\t\tint ca = 10000000;\n\t\t\tint cb = 10000000;\n\t\t\tif(in.length() == 1) {\n\t\t\t\tout.println(0);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint l = in.charAt(0) - '0';\n\t\t\tint r = in.charAt(1) - '0';\n\t\t\t\n\t\t\tboolean prfisr = true;\n\t\t\tif(check(l) <= check(r)) {\n\t\t\t\tca = 0;\n\t\t\tfor(int i = 2; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\t\t\tl = in.charAt(1) - '0';\n\t\t\tr = in.charAt(0) - '0';\n\t\t\tprfisr = false;\n\t\t\tif(check(l) <= check(r)) {\n\t\t\t\tcb = 0;\n\t\t\tfor(int i = 2; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\t\t\tout.println(Math.min(ca,cb));\n\t\t\t\n\t\t}\n\t\tout.flush();\n\t}\n\tstatic int check(int a) {\n\t\tif(a == 7 || a == 4 || a == 1) return 1;\n\t\tif(a == 8 || a == 2 || a == 5) return 2;\n\t\tif(a == 9 || a == 6 || a == 3) return 3;\n\t\t\n\t\treturn 1000;\n\t}\n}\n\nclass MyComp implements Comparator<String> {\n\n\t@Override\n\tpublic int compare(String o1, String o2) {\n\t\tif(o1.length() < o2.length()) {\n\t\t\treturn 1;\n\t\t}\n\t\telse if(o1.length() > o2.length()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn o1.compareTo(o2);\n\t}\n\t\n}\n\n//-----------------Template------------------//\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t}else{\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tprivate int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n\tprivate static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\tprivate void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n\tpublic boolean hasNext() { skipUnprintable(); return hasNextByte();}\n\tpublic String next() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile(isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\tpublic long nextLong() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile(true){\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t}else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\treturn minus ? -n : n;\n\t\t\t}else{\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t \n\tpublic int nextInt() {\n\t\t if (!hasNext()) throw new NoSuchElementException();\n\t\t int n = 0;\n\t\t boolean minus = false;\n\t\t int b = readByte();\n\t\t if (b == '-') {\n\t\t\t minus = true;\n\t\t\t b = readByte();\n\t\t }\n\t\t if (b < '0' || '9' < b) {\n\t\t\t throw new NumberFormatException();\n\t\t }\n\t\t while(true){\n\t\t\t if ('0' <= b && b <= '9') {\n\t\t\t\t n *= 10;\n\t\t\t\t n += b - '0';\n\t\t\t }else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\t return minus ? -n : n;\n\t\t\t }else{\n\t\t\t\t throw new NumberFormatException();\n\t\t\t }\n\t\t\t b = readByte();\n\t\t }\n\t}\n\t \n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n\t \n \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\nimport javax.xml.crypto.Data;\n\npublic class Main {\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int[] vx = new int[] {0,1,0,-1,1,1,-1,-1};\n\tstatic int[] vy = new int[] {1,0,-1,0,1,-1,1,-1};\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tString in = sc.next();\n\t\t\tif(in.equals(\"#\")) break;\n\t\t\tint ca = 0;\n\t\t\tint cb = 0;\n\t\t\tif(in.length() == 1) {\n\t\t\t\tout.println(0);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint l = 5;\n\t\t\tint r = 5;\n\t\t\tboolean prfisr = true;\n\t\t\tfor(int i = 0; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tl = 5;\n\t\t\tr = 5;\n\t\t\tprfisr = false;\n\t\t\tfor(int i = 0; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tout.println(Math.min(ca,cb));\n\t\t\t\n\t\t}\n\t\tout.flush();\n\t}\n\tstatic int check(int a) {\n\t\tif(a == 7 || a == 4 || a == 1) return 1;\n\t\tif(a == 8 || a == 2 || a == 5) return 2;\n\t\tif(a == 9 || a == 6 || a == 3) return 3;\n\t\t\n\t\treturn 1000;\n\t}\n}\n\nclass MyComp implements Comparator<String> {\n\n\t@Override\n\tpublic int compare(String o1, String o2) {\n\t\tif(o1.length() < o2.length()) {\n\t\t\treturn 1;\n\t\t}\n\t\telse if(o1.length() > o2.length()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn o1.compareTo(o2);\n\t}\n\t\n}\n\n//-----------------Template------------------//\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t}else{\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tprivate int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n\tprivate static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\tprivate void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n\tpublic boolean hasNext() { skipUnprintable(); return hasNextByte();}\n\tpublic String next() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile(isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\tpublic long nextLong() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile(true){\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t}else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\treturn minus ? -n : n;\n\t\t\t}else{\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t \n\tpublic int nextInt() {\n\t\t if (!hasNext()) throw new NoSuchElementException();\n\t\t int n = 0;\n\t\t boolean minus = false;\n\t\t int b = readByte();\n\t\t if (b == '-') {\n\t\t\t minus = true;\n\t\t\t b = readByte();\n\t\t }\n\t\t if (b < '0' || '9' < b) {\n\t\t\t throw new NumberFormatException();\n\t\t }\n\t\t while(true){\n\t\t\t if ('0' <= b && b <= '9') {\n\t\t\t\t n *= 10;\n\t\t\t\t n += b - '0';\n\t\t\t }else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\t return minus ? -n : n;\n\t\t\t }else{\n\t\t\t\t throw new NumberFormatException();\n\t\t\t }\n\t\t\t b = readByte();\n\t\t }\n\t}\n\t \n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n\t \n \n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner scan = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tString steps = scan.next();\n\t\t\tif (steps.equals(\"#\")) {\n\t\t\t\tscan.close();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint N = steps.length();\n\t\t\tint[] table = new int[N];\n\t\t\tfor (int i = 0; i < table.length; i++) {\n\t\t\t\ttable[i] = Character.getNumericValue(steps.charAt(i));\n\t\t\t}\n\t\t\t// i文字目をkで踏んだ時の踏める回数\n\t\t\t// 右の時k=0、左の時k=1\n\t\t\tint[][] dp = new int[N][2];\n\n\t\t\tfor (int i = 1; i < N; i++) {\n\t\t\t\tif ((table[i] - 1) % 3 > (table[i - 1] - 1) % 3) {\n\t\t\t\t\t// i-1番目が左だったらセーフ\n\t\t\t\t\t// i番目がi-1番目より右だった時\n\t\t\t\t\tdp[i][0] = Math.min(dp[i - 1][1], dp[i - 1][0] + 1);\n\t\t\t\t\tdp[i][1] = Integer.MAX_VALUE - 1;// 左で踏むことは絶対にない\n\t\t\t\t} else if ((table[i] - 1) % 3 < (table[i - 1] - 1) % 3) {\n\t\t\t\t\t// i番目がi-1番目より左だった時\n\t\t\t\t\tdp[i][1] = Math.min(dp[i - 1][0], dp[i - 1][1] + 1);\n\t\t\t\t\tdp[i][0] = Integer.MAX_VALUE - 1;\n\t\t\t\t} else {\n\t\t\t\t\tdp[i][1] = dp[i - 1][0];\n\t\t\t\t\tdp[i][0] = dp[i - 1][1];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(Math.min(dp[N - 1][0], dp[N - 1][1]));\n\t\t}\n\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport java.math.*;\n\nimport javax.xml.crypto.Data;\n\npublic class Main {\n\tstatic PrintWriter out = new PrintWriter(System.out);\n\tstatic FastScanner sc = new FastScanner();\n\tstatic Scanner stdIn = new Scanner(System.in);\n\tstatic int[] vx = new int[] {0,1,0,-1,1,1,-1,-1};\n\tstatic int[] vy = new int[] {1,0,-1,0,1,-1,1,-1};\n\tpublic static void main(String[] args) {\n\t\twhile(true) {\n\t\t\tString in = sc.next();\n\t\t\tif(in.equals(\"#\")) break;\n\t\t\tint ca = 10000;\n\t\t\tint cb = 10000;\n\t\t\tif(in.length() == 1) {\n\t\t\t\tout.println(0);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint l = in.charAt(0) - '0';\n\t\t\tint r = in.charAt(1) - '0';\n\t\t\t\n\t\t\tboolean prfisr = true;\n\t\t\tif(check(l) <= check(r)) {\n\t\t\t\tca = 0;\n\t\t\tfor(int i = 2; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tca++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\t\t\tl = in.charAt(1) - '0';\n\t\t\tr = in.charAt(0) - '0';\n\t\t\tprfisr = false;\n\t\t\tif(check(l) <= check(r)) {\n\t\t\t\tcb = 0;\n\t\t\tfor(int i = 2; i < in.length(); i++) {\n\t\t\t\tif(prfisr) {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) > check(r)) {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tprfisr = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tint tmpl = in.charAt(i) - '0';\n\t\t\t\t\tif(check(tmpl) < check(l)) {\n\t\t\t\t\t\tl = tmpl;\n\t\t\t\t\t\tcb++;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tr = tmpl;\n\t\t\t\t\t\tprfisr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t}\n\t\t\tout.println(Math.min(ca,cb));\n\t\t\t\n\t\t}\n\t\tout.flush();\n\t}\n\tstatic int check(int a) {\n\t\tif(a == 7 || a == 4 || a == 1) return 1;\n\t\tif(a == 8 || a == 2 || a == 5) return 2;\n\t\tif(a == 9 || a == 6 || a == 3) return 3;\n\t\t\n\t\treturn 1000;\n\t}\n}\n\nclass MyComp implements Comparator<String> {\n\n\t@Override\n\tpublic int compare(String o1, String o2) {\n\t\tif(o1.length() < o2.length()) {\n\t\t\treturn 1;\n\t\t}\n\t\telse if(o1.length() > o2.length()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn o1.compareTo(o2);\n\t}\n\t\n}\n\n//-----------------Template------------------//\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t}else{\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tprivate int readByte() { if (hasNextByte()) return buffer[ptr++]; else return -1;}\n\tprivate static boolean isPrintableChar(int c) { return 33 <= c && c <= 126;}\n\tprivate void skipUnprintable() { while(hasNextByte() && !isPrintableChar(buffer[ptr])) ptr++;}\n\tpublic boolean hasNext() { skipUnprintable(); return hasNextByte();}\n\tpublic String next() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = readByte();\n\t\twhile(isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n\tpublic long nextLong() {\n\t\tif (!hasNext()) throw new NoSuchElementException();\n\t\tlong n = 0;\n\t\tboolean minus = false;\n\t\tint b = readByte();\n\t\tif (b == '-') {\n\t\t\tminus = true;\n\t\t\tb = readByte();\n\t\t}\n\t\tif (b < '0' || '9' < b) {\n\t\t\tthrow new NumberFormatException();\n\t\t}\n\t\twhile(true){\n\t\t\tif ('0' <= b && b <= '9') {\n\t\t\t\tn *= 10;\n\t\t\t\tn += b - '0';\n\t\t\t}else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\treturn minus ? -n : n;\n\t\t\t}else{\n\t\t\t\tthrow new NumberFormatException();\n\t\t\t}\n\t\t\tb = readByte();\n\t\t}\n\t}\n\t \n\tpublic int nextInt() {\n\t\t if (!hasNext()) throw new NoSuchElementException();\n\t\t int n = 0;\n\t\t boolean minus = false;\n\t\t int b = readByte();\n\t\t if (b == '-') {\n\t\t\t minus = true;\n\t\t\t b = readByte();\n\t\t }\n\t\t if (b < '0' || '9' < b) {\n\t\t\t throw new NumberFormatException();\n\t\t }\n\t\t while(true){\n\t\t\t if ('0' <= b && b <= '9') {\n\t\t\t\t n *= 10;\n\t\t\t\t n += b - '0';\n\t\t\t }else if(b == -1 || !isPrintableChar(b)){\n\t\t\t\t return minus ? -n : n;\n\t\t\t }else{\n\t\t\t\t throw new NumberFormatException();\n\t\t\t }\n\t\t\t b = readByte();\n\t\t }\n\t}\n\t \n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n\t \n \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Scanner sc = new Scanner(System.in);\n\n\tpublic static void main(String[] args) {\n\t\twhile (true) {\n\t\t\tString steps = sc.next();\n\t\t\tif (steps.equals(\"#\")) break;\n\t\t\tint N = steps.length();\n\t\t\tint[][][] dp = new int[2][2][9];\n\t\t\tint t = 0;\n\t\t\tArrays.fill(dp[t][0], 1 << 30);\n\t\t\tArrays.fill(dp[t][1], 1 << 30);\n\t\t\tint start = steps.charAt(0) - '1';\n\t\t\tint sc = start % 3;\n\t\t\tfor (int i = 0; i < 9; ++i) {\n\t\t\t\tif (i == 4) continue;\n\t\t\t\tint cc = i % 3;\n\t\t\t\tif (sc <= cc) {\n\t\t\t\t\tdp[t][0][i] = 0;\n\t\t\t\t}\n\t\t\t\tif (cc <= sc) {\n\t\t\t\t\tdp[t][1][i] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 1; i < N; ++i) {\n\t\t\t\tArrays.fill(dp[1 - t][0], 1 << 30);\n\t\t\t\tArrays.fill(dp[1 - t][1], 1 << 30);\n\t\t\t\tint prev = steps.charAt(i - 1) - '1';\n\t\t\t\tint next = steps.charAt(i) - '1';\n\t\t\t\tint nc = next % 3;\n\n\t\t\t\t// left-left\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = j % 3;\n\t\t\t\t\tif (nc > cc) continue;\n\t\t\t\t\tdp[1 - t][0][j] = Math.min(dp[1 - t][0][j], dp[t][0][j] + 1);\n\t\t\t\t}\n\t\t\t\t// left-right\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = prev % 3;\n\t\t\t\t\tif (nc > cc) continue;\n\t\t\t\t\tdp[1 - t][0][prev] = Math.min(dp[1 - t][0][prev], dp[t][1][j]);\n\t\t\t\t}\n\t\t\t\t// right-right\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = j % 3;\n\t\t\t\t\tif (nc < cc) continue;\n\t\t\t\t\tdp[1 - t][1][j] = Math.min(dp[1 - t][1][j], dp[t][1][j] + 1);\n\t\t\t\t}\n\t\t\t\t// right-left\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = prev % 3;\n\t\t\t\t\tif (nc < cc) continue;\n\t\t\t\t\tdp[1 - t][1][prev] = Math.min(dp[1 - t][1][prev], dp[t][0][j]);\n\t\t\t\t}\n\t\t\t\tt = 1 - t;\n\t\t\t}\n\t\t\tint ans = 1 << 30;\n\t\t\tfor (int i = 0; i < 9; ++i) {\n\t\t\t\tif (i == 4) continue;\n\t\t\t\tans = Math.min(ans, dp[t][0][i]);\n\t\t\t\tans = Math.min(ans, dp[t][1][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.Math.*;\npublic class Main {\n\tfinal Scanner sc=new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main().init();\n\t}\n\tvoid init(){\n\t\t//final long STACK_SIZE=8*1024*1024;\n\t\t//new Thread(null, new C(), \"RUN\", STACK_SIZE).start();\n\t\tnew C();\n\t}\n\t\n\tclass C{\n\t\tC(){\n\t\t\twhile(sc.hasNext()){\n\t\t\t\tline=sc.next();\n\t\t\t\tif(line.equals(\"#\"))\tbreak;\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t\t\n\t\tString line;\n\t\t\n\t\tvoid solve(){\n\t\t\tint LEN=line.length();\n\t\t\tint[] v={-1,0,1,2,0,-1,2,0,1,2};\n\t\t\t\n\t\t\tint[][][][] dp=new int[2][3][3][2];\n\t\t\tfor(int i=0; i<2; i++)for(int j=0; j<3; j++)for(int k=0; k<3; k++)for(int m=0; m<2; m++)\tdp[i][j][k][m]=1<<29;\n\t\t\tdp[1][2][0][0]=0;\n\t\t\tdp[1][2][0][1]=0;\n\t\t\t\n\t\t\tfor(int i=0; i<LEN; i++){\n\t\t\t\tint idx=i%2,last=(idx==0?1:0),d=v[line.charAt(i)-'0'];\n\t\t\t\t\n\t\t\t\tfor(int r=0; r<3; r++)for(int l=0; l<3; l++){\n\t\t\t\t\t\n\t\t\t\t\t// right\n\t\t\t\t\tif(l<=d || i==0){\n\t\t\t\t\t\tdp[idx][d][l][0]=min(dp[idx][d][l][0], min(dp[last][r][l][1], dp[last][r][l][0]+1));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// left\n\t\t\t\t\tif(d<=r){\n\t\t\t\t\t\tdp[idx][r][d][1]=min(dp[idx][r][d][1], min(dp[last][r][l][0], dp[last][r][l][1]+1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int r=0; r<3; r++)for(int l=0; l<3; l++)for(int j=0; j<2; j++)dp[last][r][l][j]=1<<29;\n\t\t\t}\n\t\t\t\n\t\t\tint ans=1<<29;\n\t\t\tfor(int r=0; r<3; r++)for(int l=0; l<3; l++)for(int i=0; i<2; i++)ans=min(ans,dp[LEN%2==0?1:0][r][l][i]);\n\t\t\t\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic Scanner sc = new Scanner(System.in);\n\n\tpublic static void main(String[] args) {\n\t\twhile (true) {\n\t\t\tString steps = sc.next();\n\t\t\tif (steps.equals(\"#\")) break;\n\t\t\tint N = steps.length();\n\t\t\tint[][][] dp = new int[2][2][9];\n\t\t\tint t = 0;\n\t\t\tArrays.fill(dp[t][0], 1 << 30);\n\t\t\tArrays.fill(dp[t][1], 1 << 30);\n\t\t\tint start = steps.charAt(0) - '1';\n\t\t\tint sc = start % 3;\n\t\t\tfor (int i = 0; i < 9; ++i) {\n\t\t\t\tif (i == 4) continue;\n\t\t\t\tint cc = i % 3;\n\t\t\t\tif (sc <= cc) {\n\t\t\t\t\tdp[t][0][i] = 0;\n\t\t\t\t}\n\t\t\t\tif (cc <= sc) {\n\t\t\t\t\tdp[t][1][i] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (int i = 1; i < N; ++i) {\n\t\t\t\tArrays.fill(dp[1 - t][0], 1 << 30);\n\t\t\t\tArrays.fill(dp[1 - t][1], 1 << 30);\n\t\t\t\tint prev = steps.charAt(i - 1) - '1';\n\t\t\t\tint next = steps.charAt(i) - '1';\n\t\t\t\tint nc = next % 3;\n\n\t\t\t\t// left-left\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = j % 3;\n\t\t\t\t\tif (nc > cc) continue;\n\t\t\t\t\tdp[1 - t][0][j] = Math.min(dp[1 - t][0][j], dp[t][0][j] + 1);\n\t\t\t\t}\n\t\t\t\t// left-right\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = j % 3;\n\t\t\t\t\tif (nc > cc) continue;\n\t\t\t\t\tdp[1 - t][0][prev] = Math.min(dp[1 - t][0][prev], dp[t][1][j]);\n\t\t\t\t}\n\t\t\t\t// right-right\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = j % 3;\n\t\t\t\t\tif (nc < cc) continue;\n\t\t\t\t\tdp[1 - t][1][j] = Math.min(dp[1 - t][1][j], dp[t][1][j] + 1);\n\t\t\t\t}\n\t\t\t\t// right-left\n\t\t\t\tfor (int j = 0; j < 9; ++j) {\n\t\t\t\t\tif (j == 4) continue;\n\t\t\t\t\tint cc = j % 3;\n\t\t\t\t\tif (nc < cc) continue;\n\t\t\t\t\tdp[1 - t][1][prev] = Math.min(dp[1 - t][1][prev], dp[t][0][j]);\n\t\t\t\t}\n\t\t\t\tt = 1 - t;\n\t\t\t}\n\t\t\tint ans = 1 << 30;\n\t\t\tfor (int i = 0; i < 9; ++i) {\n\t\t\t\tans = Math.min(ans, dp[t][0][i]);\n\t\t\t\tans = Math.min(ans, dp[t][1][i]);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.Math.*;\npublic class Main {\n\tfinal Scanner sc=new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main().init();\n\t}\n\tvoid init(){\n\t\tfinal long STACK_SIZE=8*1024*1024;\n\t\tnew Thread(null, new C(), \"RUN\", STACK_SIZE).start();\n\t}\n\t\n\tclass C implements Runnable{\n\t\tC(){}\n\t\t@Override public void run(){\n\t\t\twhile(sc.hasNext()){\n\t\t\t\tline=sc.next();\n\t\t\t\tif(line.equals(\"#\"))\tbreak;\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t\t\n\t\tString line;\n\t\t\n\t\tvoid solve(){\n\t\t\t\n\t\t\tint len=line.length();\n\t\t\tint[] arrow=new int[len+1];\n\t\t\tfor(int i=0; i<len; i++)\tarrow[i]=line.charAt(i)-'0';\n//\t\t\tint[][][][] dp=new int[len+1][3][3][2];\n//\t\t\tfor(int i=0; i<len; i++)for(int j=0; j<3; j++)for(int k=0; k<3; k++)for(int m=0; m<2; m++)\tdp[i][j][k][m]=1<<29;\n\t\t\tint[] v={-1,0,1,2,0,-1,2,0,1,2};\n\t\t\t\n\t\t\t\n\t\t\tPriorityQueue<State> open=new PriorityQueue<State>();\n\t\t\topen.add(new State(0,0,2,0,0));\n\t\t\t\n\t\t\tint[][][][] closed=new int[len][3][3][2];\n\t\t\tfor(int i=0; i<len; i++)for(int j=0; j<3; j++)for(int k=0; k<3; k++)for(int m=0; m<2; m++)closed[i][j][k][m]=1<<29;\n\t\t\t\n\t\t\tint ans=-1;\n\t\t\twhile(!open.isEmpty()){\n\t\t\t\tState now=open.poll();\n\t\t\t\tint d=v[arrow[now.step]];\n\t\t\t\t//System.out.println(now);\n\t\t\t\t//System.out.println(d);\n\t\t\t\t\n\t\t\t\tif(now.step>=len){\n\t\t\t\t\tans=now.score;\n\t\t\t\t\t//System.out.println(open);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// right foor\n\t\t\t\tif(now.l<=d){\n\t\t\t\t\tint nextScore=now.score+(now.last==0?1:0);\n\t\t\t\t\tif(closed[now.step][d][now.l][0]>now.score+nextScore){\n\t\t\t\t\t\tclosed[now.step][d][now.l][0]=now.score+nextScore;\n\t\t\t\t\t\topen.add(new State(d,now.l,0,now.step+1,nextScore));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// left foot\n\t\t\t\tif(d<=now.r){\n\t\t\t\t\tint nextScore=now.score+(now.last==1?1:0);\n\t\t\t\t\tif(closed[now.step][now.r][d][1]>now.score+nextScore){\n\t\t\t\t\t\tclosed[now.step][now.r][d][1]=now.score+nextScore;\n\t\t\t\t\t\topen.add(new State(now.r,d,1,now.step+1,nextScore));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t\t\n\t\tclass State implements Comparable<State>{\n\t\t\tint r,l,last,step,score;\n\t\t\tState(int r,int l,int last,int step,int score){\n\t\t\t\tthis.r=r;\n\t\t\t\tthis.l=l;\n\t\t\t\tthis.last=last;\n\t\t\t\tthis.step=step;\n\t\t\t\tthis.score=score;\n\t\t\t}\n\t\t\t@Override public int compareTo(State s){\n\t\t\t\treturn this.score-s.score;\n\t\t\t}\n\t\t\t@Override public String toString(){\n\t\t\t\treturn \"R:\"+r+\" L:\"+l+\" last:\"+last+\" step:\"+step+\" score:\"+score;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclass B implements Runnable{\n\t\tB(){}\n\t\t@Override public void run(){\n\t\t\twhile(sc.hasNext()){\n\t\t\t\tH=sc.nextInt();\n\t\t\t\tW=sc.nextInt();\n\t\t\t\tL=sc.nextLong();\n\t\t\t\tif((W|(H|L))==0)\tbreak;\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t\t\n\t\tint W,H;\n\t\tlong L;\n\t\tint[] vx={0,1,0,-1},vy={-1,0,1,0};\n\t\tString[] vv={\"N\",\"E\",\"S\",\"W\"};\n\t\t\n\t\tvoid solve(){\n\t\t\tint sx=-1,sy=-1,sd=-1;\n\t\t\tboolean[][] map=new boolean[W][H];\n\t\t\tfor(int y=0; y<H; y++){\n\t\t\t\tString line=sc.next();\n\t\t\t\tfor(int x=0; x<W; x++){\n\t\t\t\t\tmap[x][y]=(line.charAt(x)!='#');\n\t\t\t\t\tif(Character.isUpperCase(line.charAt(x))){\n\t\t\t\t\t\tsx=x;\n\t\t\t\t\t\tsy=y;\n\t\t\t\t\t\tswitch(line.charAt(x)){\n\t\t\t\t\t\tcase 'N':\tsd=0;\tbreak;\n\t\t\t\t\t\tcase 'E':\tsd=1;\tbreak;\n\t\t\t\t\t\tcase 'S':\tsd=2;\tbreak;\n\t\t\t\t\t\tcase 'W':\tsd=3;\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tArrayList<State> rec=new ArrayList<State>();\n\t\t\tState last=new State(sx,sy,sd,0,0L);\n\t\t\trec.add(last.clone());\n\t\t\tlong cycle=-1L;\n\t\t\tint csidx=-1;\n\t\t\twhile(true){\n\t\t\t\tint xx=last.x,yy=last.y,dd=last.d;\n\t\t\t\twhile(true){\n\t\t\t\t\txx=last.x+vx[dd];\n\t\t\t\t\tyy=last.y+vy[dd];\n\t\t\t\t\tif((0<=xx && xx<W && 0<=yy && yy<H) && map[xx][yy]){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdd=(dd+1)%4;\n\t\t\t\t}\n\t\t\t\tint cnt=1;\n\t\t\t\tif(last.step+cnt==L){\n\t\t\t\t\t// OK\n\t\t\t\t\t//System.out.println(\"ANS-A2\");\n\t\t\t\t\tSystem.out.println((yy+1)+\" \"+(xx+1)+\" \"+vv[dd]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twhile(true){\n\t\t\t\t\txx+=vx[dd];\n\t\t\t\t\tyy+=vy[dd];\n\t\t\t\t\tif(!(0<=xx && xx<W && 0<=yy && yy<H) || !map[xx][yy]){\n\t\t\t\t\t\txx-=vx[dd];\n\t\t\t\t\t\tyy-=vy[dd];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t++cnt;\n\t\t\t\t\tif(last.step+cnt==L){\n\t\t\t\t\t\t// OK\n\t\t\t\t\t\t//System.out.println(\"ANS-A2\");\n\t\t\t\t\t\tSystem.out.println((yy+1)+\" \"+(xx+1)+\" \"+vv[dd]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tState next=new State(xx,yy,dd,cnt,last.step+cnt);\n\t\t\t\tfor(int j=0; j<rec.size(); j++){\n\t\t\t\t\tState s=rec.get(j);\n\t\t\t\t\tif(next.x==s.x && next.y==s.y && next.d==s.d){\n\t\t\t\t\t\tcycle=next.step-s.step;\n\t\t\t\t\t\tL-=next.step;\n\t\t\t\t\t\tcsidx=j+1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trec.add(next);\n\t\t\t\tif(cycle>0)\tbreak;\n\t\t\t\tlast=next.clone();\n\t\t\t}\n\t\t\t\n\t\t\t//System.out.println(\"L\"+L);\n\t\t\t//System.out.println(rec);\n\t\t\t\n\t\t\tlong remain=L%cycle;\n\t\t\tif(remain==0){\n\t\t\t\tState s=rec.get(rec.size()-1);\n\t\t\t\t// OK\n\t\t\t\t//System.out.println(\"ANS-D\");\n\t\t\t\tSystem.out.println((s.y+1)+\" \"+(s.x+1)+\" \"+vv[s.d]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(int i=csidx; i<rec.size(); i++){\n\t\t\t\tState s=rec.get(i);\n\t\t\t\tif(remain>s.cnt)\tremain-=s.cnt;\n\t\t\t\telse if(remain==s.cnt){\n\t\t\t\t\t// OK\n\t\t\t\t\t//System.out.println(\"ANS-B\");\n\t\t\t\t\tSystem.out.println((s.y+1)+\" \"+(s.x+1)+\" \"+vv[s.d]);\n\t\t\t\t\tbreak;\n\t\t\t\t}else{\n\t\t\t\t\t// NG\n\t\t\t\t\t//System.out.println(\"ANS-C\");\n\t\t\t\t\tint idx=i-1<csidx?(rec.size()-1):i-1;\n\t\t\t\t\tState s2=rec.get(idx);\n\t\t\t\t\tint r=(int)remain,xx=s2.x+(vx[s.d]*r)+1,yy=s2.y+(vy[s.d]*r)+1;\n\t\t\t\t\tSystem.out.println(yy+\" \"+xx+\" \"+vv[s.d]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tclass State{\n\t\t\tint x,y,d,cnt;\n\t\t\tlong step;\n\t\t\tState(int x,int y,int d,int cnt,long step){\n\t\t\t\tthis.x=x;\n\t\t\t\tthis.y=y;\n\t\t\t\tthis.d=d;\n\t\t\t\tthis.cnt=cnt;\n\t\t\t\tthis.step=step;\n\t\t\t}\n\t\t\t@Override public State clone(){\n\t\t\t\treturn new State(x,y,d,cnt,step);\n\t\t\t}\n\t\t\t@Override public String toString(){\n\t\t\t\treturn x+\",\"+y+\" D:\"+d+\" STEP:\"+step;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tString s = sc.next();\n\t\t\tif (s.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tchar[] c = s.toCharArray();\n\t\t\tint[] n = new int[s.length()];\n\t\t\tfor (int i = 0; i < n.length; i++)\n\t\t\t\tn[i] = (c[i] - '0' - 1) % 3;\n\t\t\tint lf = 0, rf = 2;\n\t\t\tint result = 0;\n\t\t\tboolean foot = true;\n\t\t\tfor (int i = 0; i < n.length; i++) {\n\t\t\t\tif (foot) {\n\t\t\t\t\tlf = n[i];\n\t\t\t\t\tif (i != 0 && lf > rf) {\n\t\t\t\t\t\tresult++;\n\t\t\t\t\t\trf = lf;\n\t\t\t\t\t\tlf = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfoot = false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trf = n[i];\n\t\t\t\tif (i != 0 && lf > rf) {\n\t\t\t\t\tresult++;\n\t\t\t\t\tlf = rf;\n\t\t\t\t\trf = 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfoot = true;\n\t\t\t}\n\t\t\tlf = 0;\n\t\t\trf = 2;\n\t\t\tfoot = false;\n\t\t\tint tresult = 0;\n\t\t\tfor (int i = 0; i < n.length; i++) {\n\t\t\t\tif (foot) {\n\t\t\t\t\tlf = n[i];\n\t\t\t\t\tif (i != 0 && lf > rf) {\n\t\t\t\t\t\ttresult++;\n\t\t\t\t\t\trf = lf;\n\t\t\t\t\t\tlf = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfoot = false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trf = n[i];\n\t\t\t\tif (i != 0 && lf > rf) {\n\t\t\t\t\ttresult++;\n\t\t\t\t\tlf = rf;\n\t\t\t\t\trf = 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfoot = true;\n\t\t\t}\n\t\t\tresult = Math.min(result, tresult);\n\t\t\tSystem.out.println(result);\n\t\t}\n\t\tsc.close();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static int play(char[] seq, boolean first){\n\t\tint left = 0, right = 0;\n\t\tint count = 0;\n\t\t\n\t\tif(first){\n\t\t\tleft = seq[0] - '0';\n\t\t}else{\n\t\t\tright = seq[0] - '0';\n\t\t}\n\t\t\n\t\tfirst = !first;\n\t\t\n\t\tfor(int i = 1; i < seq.length; i++){\n\t\t\tint next = seq[i] - '0';\n\t\t\t\n\t\t\tif(first){\n\t\t\t\tfinal int l_mod = (left - 1) % 3;\n\t\t\t\tfinal int n_mod = (next - 1) % 3; //new_right\n\t\t\t\t\n\t\t\t\tif(l_mod <= n_mod){\n\t\t\t\t\tright = next;\n\t\t\t\t\tfirst = !first;\n\t\t\t\t}else{\n\t\t\t\t\tright = left;\n\t\t\t\t\tleft = next;\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfinal int r_mod = (right - 1) % 3;\n\t\t\t\tfinal int n_mod = (next  - 1) % 3; //new left\n\t\t\t\t\n\t\t\t\tif(n_mod <= r_mod){\n\t\t\t\t\tleft = next;\n\t\t\t\t\tfirst = !first;\n\t\t\t\t}else{\n\t\t\t\t\tleft = right;\n\t\t\t\t\tright = next;\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn count;\n\t}\n\t\n\tpublic static void main(String[] args){\n\t\tfinal Scanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tString in = sc.next();\n\t\t\t\n\t\t\tif(\"#\".equals(in)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tchar[] input = in.toCharArray();\n\t\t\t\n\t\t\tSystem.out.println(Math.min(play(input, true), play(input, false)));\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\nimport java.lang.ArrayIndexOutOfBoundsException;\nimport java.math.BigInteger;\n\n/**\n * @author yoshikyoto\n */\nclass Main {\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\twhile(true){\n\t\t\tchar[] seq = br.readLine().toCharArray();\n\t\t\tif(seq[0] == '#') break;\n\t\t\tSystem.out.println(Math.min(check(seq, 0), check(seq, 1)));\n\t\t}\n\t}\n\t\n\tstatic int check(char[] seq, int foot){\n\t\tint[] pannel_on_foot = {0, 2};\n\t\tint cnt = 0;\n\t\tfor(int i = 0; i < seq.length; i++){\n\t\t\t// System.out.println(\"for: \" + i);\n\t\t\tint pannel = ((int)(seq[i] - '0') - 1) % 3;\n\t\t\t// System.out.println(\"\" + pannel);\n\t\t\tif(foot == 0){\n\t\t\t\t// 踏み出す足が左足の場合\n\t\t\t\t// 右足よりも右には行けない\n\t\t\t\tif(pannel_on_foot[1] < pannel){\n\t\t\t\t\tcnt++;\n\t\t\t\t\tpannel_on_foot[1] = pannel;\n\t\t\t\t}else{\n\t\t\t\t\tpannel_on_foot[0] = pannel;\n\t\t\t\t\tfoot = (foot + 1) % 2;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// 右足の場合\n\t\t\t\t// 左足よりも右には行けない\n\t\t\t\tif(pannel < pannel_on_foot[0]){\n\t\t\t\t\tcnt++;\n\t\t\t\t\tpannel_on_foot[0] = pannel;\n\t\t\t\t}else{\n\t\t\t\t\tpannel_on_foot[1] = pannel;\n\t\t\t\t\tfoot = (foot + 1) % 2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cnt;\n\t}\n}\n\n// --- ここから下はライブラリ ----------\n/**\n * MyUtil\n * @author yoshikyoto\n */\nclass MyUtil {\n\tpublic static int[] cp(int[] a){\n\t\tint[] b = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++) b[i] = a[i];\n\t\treturn b;\n\t}\n\tpublic static int toInt(boolean[] a){\n\t\tint pow = 1, ret = 0, l = a.length;\n\t\tfor(int i = 0; i < l; i++){\n\t\t\tif(a[i]) ret += pow;\n\t\t\tpow *= 2;\n\t\t}\n\t\treturn ret;\n\t}\n\tstatic BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\tpublic static int ins[];\n\tpublic static int[] readIntMap() throws IOException{return parseInt(readLine().split(\" \"));}\n\tpublic static int readIntMap(int i) throws Exception{\n\t\tif(i == 0) ins = readIntMap();\n\t\treturn ins[i];\n\t}\n\tpublic static int[][] readIntMap(int n, int m) throws IOException{\n\t\tint[][] ret = new int[n][];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readIntMap();\n\t\treturn ret;\n\t}\n\tpublic static int[] readIntToMap(int n) throws IOException{\n\t\tint[] ret = new int[n];\n\t\tfor(int i = 0; i < n; i++) ret[i] = readInt();\n\t\treturn ret;\n\t}\n\tpublic static int[] readNoDistIntMap() throws IOException{\n\t\tString[] strs = readLine().split(\"\");\n\t\tint l = strs.length;\n\t\tint[] ret = new int[l-1];\n\t\tfor(int i = 1; i < l; i++)\n\t\t\tret[i-1] = parseInt(strs[i]);\n\t\treturn ret;\n\t}\n\tpublic static String readLine() throws IOException{return br.readLine();}\n\tpublic static int readInt() throws IOException{return Integer.parseInt(br.readLine());}\n\tpublic static int[] parseInt(String[] arr){\n\t\tint[] res = new int[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Integer.parseInt(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static double[] parseDouble(String[] arr){\n\t\tdouble[] res = new double[arr.length];\n\t\tfor(int i = 0; i < arr.length; i++)res[i] = Double.parseDouble(arr[i]);\n\t\treturn res;\n\t}\n\tpublic static boolean[] parseBool(String[] arr){\n\t\tint[] t = parseInt(arr);\n\t\tboolean[] res = new boolean[t.length];\n\t\tfor(int i = 0; i < t.length; i++){\n\t\t\tif(t[i] == 1){res[i] = true;\n\t\t\t}else{res[i] = false;}\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static int parseInt(Object o){\n\t\treturn Integer.parseInt(o.toString());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\tScanner in = new Scanner(System.in);\n\tString s;\n\t\n\tpublic void run() {\n\t\twhile (true) {\n\t\t\ts = in.next();\n\t\t\tif (s.matches(\"#\")) break;\n\t\t\tboolean leftFoot = true;\n\t\t\tboolean rightFoot = true;\n\t\t\tint left = 0, right = 0;\n\t\t\tint before = (s.charAt(0) - '0') % 3;\n\t\t\tif (before == 0) before = 3;\n\t\t\tfor (int i = 1; i < s.length(); i++) {\n\t\t\t\tint next = (s.charAt(i) - '0') % 3;\n\t\t\t\tif (next == 0) next = 3;\n\t\t\t\tif ((before > next && leftFoot) || (before < next && !leftFoot)) {\n\t\t\t\t\tleft++;\n\t\t\t\t} else {\n\t\t\t\t\tleftFoot = !leftFoot;\n\t\t\t\t}\n\t\t\t\tif ((before < next && rightFoot) || (before > next && !rightFoot)) {\n\t\t\t\t\tright++;\n\t\t\t\t} else {\n\t\t\t\t\trightFoot = !rightFoot;\n\t\t\t\t}\n\t\t\t\tbefore = next;\n\t\t\t}\n\t\t\tSystem.out.println(Math.min(left, right));\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.Math.*;\npublic class Main {\n\tfinal Scanner sc=new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\tnew Main().init();\n\t}\n\tvoid init(){\n\t\tfinal long STACK_SIZE=8*1024*1024;\n\t\tnew Thread(null, new C(), \"RUN\", STACK_SIZE).start();\n\t}\n\t\n\tclass C implements Runnable{\n\t\tC(){}\n\t\t@Override public void run(){\n\t\t\twhile(sc.hasNext()){\n\t\t\t\tline=sc.next();\n\t\t\t\tif(line.equals(\"#\"))\tbreak;\n\t\t\t\tsolve();\n\t\t\t}\n\t\t}\n\t\t\n\t\tString line;\n\t\t\n\t\tvoid solve(){\n\t\t\tint LEN=line.length();\n\t\t\tint[] arrow=new int[LEN+1];\n\t\t\tfor(int i=1; i<=LEN; i++)\tarrow[i]=line.charAt(i-1)-'0';\n\t\t\tint[] v={-1,0,1,2,0,-1,2,0,1,2};\n\t\t\t\n\t\t\tint[][][][] dp=new int[LEN+1][3][3][2];\n\t\t\tfor(int i=0; i<=LEN; i++)for(int j=0; j<3; j++)for(int k=0; k<3; k++)for(int m=0; m<2; m++)\tdp[i][j][k][m]=1<<29;\n\t\t\tdp[0][0][0][0]=0;\n\t\t\tdp[0][0][0][1]=0;\n\t\t\t\n\t\t\tfor(int i=0; i<LEN; i++){\n\t\t\t\tfor(int r=0; r<3; r++){\n\t\t\t\t\tfor(int l=0; l<3; l++){\n\t\t\t\t\t\tint d=v[arrow[i+1]];\n\t\t\t\t\t\t\n\t\t\t\t\t\t// right\n\t\t\t\t\t\tif(l<=d){\n\t\t\t\t\t\t\tdp[i+1][d][l][0]=min(dp[i+1][d][l][0], min(dp[i][r][l][1], dp[i][r][l][0]+1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// left\n\t\t\t\t\t\tif(d<=r){\n\t\t\t\t\t\t\tdp[i+1][r][d][1]=min(dp[i+1][r][d][1], min(dp[i][r][l][0], dp[i][r][l][1]+1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint ans=1<<29;\n\t\t\tfor(int r=0; r<3; r++)for(int l=0; l<3; l++)for(int i=0; i<2; i++)ans=min(ans,dp[LEN][r][l][i]);\n\t\t\t\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\tchar[] ch;\n\tint[][] dp;\n\n\t//pre = 0,pre = 1\n\n\tpublic int dfs(int n, int pre, int left, int right) {\n\n\t\tif (n == ch.length)\n\t\t\treturn 0;\n\n\t\tif(dp[n][pre + 1]!= -1){\n\t\t\treturn dp[n][pre + 1];\n\t\t}\n\n\t\tint next = (ch[n] - '0') % 3;\n\t\tint ret = Integer.MAX_VALUE;\n\n\t\tif (pre == -1) {\n\n\t\t\tret = Math.min(ret, dfs(n + 1, 0, next, right));\n\t\t\tret = Math.min(ret, dfs(n + 1, 1, left, next));\n\n\t\t} else if (pre == 0) {\n\n\t\t\tif(right == -1 || next <= right){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,0,next,right) + 1);\n\t\t\t}\n\n\t\t\tif(next >= left){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next));\n\t\t\t}\n\t\t} else {\n\t\t\tif(next <= right){\n\t\t\t\tret = Math.min(ret,dfs(n + 1,0,next,right));\n\t\t\t}\n\n\t\t\tif(left == -1 || next >= left){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next) + 1);\n\t\t\t}\n\t\t}\n\n\t\treturn dp[n][pre + 1] = ret;\n\t}\n\n\tpublic void solve() {\n\t\twhile (true) {\n\t\t\tString S = next();\n\n\t\t\tif (S.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tch = S.toCharArray();\n\t\t\tfor (int i = 0; i < ch.length; i++) {\n\t\t\t\tch[i] = (char) (ch[i] - 1);\n\t\t\t}\n\n\t\t\tdp = new int[ch.length + 1][3];\n\n\t\t\tout.println(dfs(0, -1, -1, -1));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n\n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n\n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n\n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\tchar[] ch;\n\tint[][][][] dp;\n\n\t//pre = 0,pre = 1\n\n\tpublic int dfs(int n, int pre, int left, int right) {\n\n\t\tif (n == ch.length)\n\t\t\treturn 0;\n\n\t\tif(dp[n][pre + 1][left + 1][right + 1] != -1){\n\t\t\treturn dp[n][pre + 1][left + 1][right + 1];\n\t\t}\n\n\t\tint next = ch[n] - '0';\n\t\tint ret = Integer.MAX_VALUE;\n\n\t\tif (pre == -1) {\n\n\t\t\tret = Math.min(ret, dfs(n + 1, 0, next, right));\n\t\t\tret = Math.min(ret, dfs(n + 1, 1, left, next));\n\n\t\t} else if (pre == 0) {\n\n\t\t\tif(right == -1 || next % 3 <= right % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,0,next,right) + 1);\n\t\t\t}\n\n\t\t\tif(next % 3 >= left % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next));\n\t\t\t}\n\t\t} else {\n\t\t\tif(next % 3 <= right % 3){\n\t\t\t\tret = Math.min(ret,dfs(n + 1,0,next,right));\n\t\t\t}\n\n\t\t\tif(left == -1 || next % 3 >= left % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next) + 1);\n\t\t\t}\n\t\t}\n\n\t\treturn dp[n][pre + 1][left + 1][right + 1] = ret;\n\t}\n\n\tpublic void solve() {\n\t\twhile (true) {\n\n\t\t\tString S = next();\n\n\t\t\tif (S.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tch = S.toCharArray();\n\t\t\tfor (int i = 0; i < ch.length; i++) {\n\t\t\t\tch[i] = (char) (ch[i] - 1);\n\t\t\t}\n\n\t\t\tdp = new int[ch.length + 1][3][11][11];\n\t\t\tfor(int i = 0;i < ch.length + 1;i++){\n\t\t\t\tfor(int j = 0;j < 3;j++){\n\t\t\t\t\tfor(int k = 0;k < 11;k++){\n\t\t\t\t\t\tfor(int l = 0;l < 11;l++){\n\t\t\t\t\t\t\tdp[i][j][k][l] = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tout.println(dfs(0, -1, -1, -1));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n\n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n\n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n\n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nimport static java.lang.System.*;\nimport static java.lang.Math.*;\n\nclass Main {\n\tpublic static Scanner sc = new Scanner(in);\n\tpublic static Random rand=new Random();\n\n\tpublic int getPos(char s){\n\t\tswitch(s){\n\t\tcase '1':case '4':case '7':return 0;\n\t\tdefault:return 1;\n\t\tcase '3':case '6':case '9':return 2;\n\t\t}\n\t}\n\n\tpublic void run() {\n\t\tTCase:while(true){\n\t\t\tString sstr=sc.next();\n\t\t\tif(\"#\".equals(sstr))return;\n\t\t\tchar[] steps=sstr.toCharArray();\n\n\t\t\tint[][][] prev=new int[3][3][2];\n\t\t\tfor(char step:steps){\n\t\t\t\tint[][][] next=new int[3][3][2];\n\t\t\t\tfor(int l=0;l<3;l++)for(int r=0;r<3;r++)\n\t\t\t\t\t\tArrays.fill(next[l][r],Integer.MAX_VALUE/10);\n\n\t\t\t\tint pos=getPos(step);\n\t\t\t\t//左足で踏む\n\t\t\t\tfor(int r=pos;r<3;r++){\n\t\t\t\t\tint minv =Integer.MAX_VALUE;\n\t\t\t\t\tfor(int l=0;l<3;l++)\n\t\t\t\t\t\tminv=min(minv,prev[l][r][1]);\n\t\t\t\t\tfor(int l=0;l<3;l++)\n\t\t\t\t\t\tminv=min(minv,prev[l][r][0]+1);\n\n\t\t\t\t\tnext[pos][r][0]=minv;\n\t\t\t\t}\n\t\t\t\t//右足で踏む\n\t\t\t\tfor(int l=0;l<=pos;l++){\n\t\t\t\t\tint minv =Integer.MAX_VALUE;\n\t\t\t\t\tfor(int r=0;r<3;r++)\n\t\t\t\t\t\tminv=min(minv,prev[l][r][0]);\n\t\t\t\t\tfor(int r=0;r<3;r++)\n\t\t\t\t\t\tminv=min(minv,prev[l][r][1]+1);\n\n\t\t\t\t\tnext[l][pos][1]=minv;\n\t\t\t\t}\n\t\t\t\tprev=next;\n\t\t\t}\n\n\t\t\tint minv=Integer.MAX_VALUE;\n\t\t\tfor(int l=0;l<3;l++)\n\t\t\t\tfor(int r=0;r<3;r++)\n\t\t\t\t\tfor(int d=0;d<2;d++)\n\t\t\t\t\t\tminv=min(prev[l][r][d],minv);\n\n\t\t\tln(minv);\n\t\t}\n\t}\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tpublic int[] nextIntArray(int n){\n\t\tint[] res=new int[n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tres[i]=sc.nextInt();\n\t\t}\n\t\treturn res;\n\t}\n\tpublic static void pr(Object o) {\n\t\tout.print(o);\n\t}\n\tpublic static void ln(Object o) {\n\t\tout.println(o);\n\t}\n\tpublic static void ln() {\n\t\tout.println();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Scanner;\n\npublic class Main {\n\tstatic int INF = 1_000_000_000;\n\tpublic static void main(String[] args) {\n\t\t// TODO 自動生成されたメソッド・スタブ\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tString input = sc.next();\n\n\t\t\tif(input.equals(\"#\")){\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint n = input.length();\n\t\t\tint dp[][] = new int[n][2];\n\n\t\t\tfor(int i = 1; i < n; i++){\n\t\t\t\tint c = input.charAt(i) - '0';\n\t\t\t\tint prev = input.charAt(i - 1) - '0';\n//\t\t\t\tSystem.out.println(c+\" \" + prev + \" \" +rowNum(c) +\" \"+ rowNum(prev));\n\n\t\t\t\tif(rowNum(c) > rowNum(prev)){\n\t\t\t\t\tdp[i][1] = Math.min(dp[i - 1][0], dp[i - 1][1] + 1);\n\t\t\t\t\tdp[i][0] = INF;\n\t\t\t\t}\n\t\t\t\telse if(rowNum(c) < rowNum(prev)){\n\t\t\t\t\tdp[i][0] = Math.min(dp[i - 1][1], dp[i - 1][0] + 1);\n\t\t\t\t\tdp[i][1] = INF;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdp[i][0] = Math.min(dp[i - 1][0] + 1, dp[i - 1][1]);\n\t\t\t\t\tdp[i][1] = Math.min(dp[i - 1][0], dp[i - 1][1] + 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//debug\n//\t\t\tfor(int i = 0; i < n; i++){\n//\t\t\t\tSystem.out.print(dp[i][0]+\" \");\n//\t\t\t}\n//\t\t\tSystem.out.println();\n//\t\t\tfor(int i = 0; i < n; i++){\n//\t\t\t\tSystem.out.print(dp[i][1]+\" \");\n//\t\t\t}\n//\t\t\tSystem.out.println();\n\n\t\t\tSystem.out.println(Math.min(dp[n - 1][0], dp[n - 1][1]));\n\t\t}\n\t}\n\n\tstatic int rowNum(int c){\n\t\tswitch (c) {\n\t\tcase 1:\n\t\tcase 4:\n\t\tcase 7:\n\t\t\treturn 0;\n\t\tcase 2:\n\t\tcase 8:\n\t\t\treturn 1;\n\t\tdefault:\n\t\t\treturn 2;\n\n\t\t}\n\t}\n\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport static java.lang.System.*;\n\npublic class Main {\n\n\tScanner sc = new Scanner(in);\n\t\n\tboolean isValid(int l, int r) {\n\t\tif (r == l) return false;\n\t\tif (r % 3 == 0 || l % 3 == 1) return true;\n\t\tif (r % 3 == l % 3) return true;\n\t\treturn false;\n\t}\n\t\n\tint calc(int l, int r, int n, int[] step, int turn) {\n\t\tint count = 0;\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tif (turn == 0) {\n\t\t\t\tif (isValid(l, step[i])) {\n\t\t\t\t\tr = step[i];\n\t\t\t\t\tturn = 1;\n\t\t\t\t} else {\n\t\t\t\t\tcount++;\n\t\t\t\t\tl = step[i];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (isValid(step[i], r)) {\n\t\t\t\t\tl = step[i];\n\t\t\t\t\tturn = 0;\n\t\t\t\t} else {\n\t\t\t\t\tcount++;\n\t\t\t\t\tr = step[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn count;\n\t}\n\t\n\tvoid run() {\n\t\twhile (true) {\n\t\t\tString s = sc.nextLine();\n\t\t\tif (s.equals(\"#\")) break;\n\t\t\t\n\t\t\tint n = s.length();\n\t\t\tint[] step = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tstep[i] = Character.getNumericValue(s.charAt(i));\n\t\t\t\n\t\t\tint min = n;\n\t\t\tint r, l, turn;\n\t\t\tr = step[0];\n\t\t\tl = 4;\n\t\t\tturn = 1;\n\t\t\tmin = Math.min(min, calc(l,r,n,step,turn));\n\t\t\t\n\t\t\tr = 6;\n\t\t\tl = step[0];\n\t\t\tturn = 0;\n\t\t\tmin = Math.min(min, calc(l,r,n,step,turn));\n\t\t\t\n\t\t\tout.println(min);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\t\n\tstatic int[] x = { -1, 0, 1, -1, 0, 1, -1, 0, 1 };\n\t\n\tpublic static void main(String[] args) {\n\t\tFastScanner sc = new FastScanner();\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\t\n\t\twhile (true) {\n\t\t\tchar[] steps = sc.next().toCharArray();\n\t\t\tif (steps[0] == '#') break;\n\t\t\t\n\t\t\tif (steps.length <= 2) {\n\t\t\t\tout.println(0);\n\t\t\t} else {\n\t\t\t\tint step = 0, left = -1, right = 1, foot = 0;\n\t\t\t\tfor (int i = 0; i < steps.length; i++) {\n\t\t\t\t\tint next = x[steps[i] - '1'];\n\t\t\t\t\tif (foot % 2 == 0) {\n\t\t\t\t\t\tif (next > right) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t\tright = next;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (next < left) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tright = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint min = step;\n\t\t\t\t\n\t\t\t\tstep = 0;\n\t\t\t\tleft = -1;\n\t\t\t\tright = 1;\n\t\t\t\tfoot = 1;\n\t\t\t\tfor (int i = 0; i < steps.length; i++) {\n\t\t\t\t\tint next = x[steps[i] - '1'];\n\t\t\t\t\tif (foot % 2 == 0) {\n\t\t\t\t\t\tif (next > right) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t\tright = next;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (next < left) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tright = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmin = Math.min(min, step);\n\t\t\t\t\n\t\t\t\tout.println(min);\n\t\t\t}\n\t\t}\n\t\t\n\t\tout.flush();\n\t}\n}\n\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\t\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tprivate byte readByte() {\n\t\tif (hasNextByte()) {\n\t\t\treturn buffer[ptr++];\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\t\n\tprivate boolean isPrintableChar(int c) {\n\t\treturn '!' <= c && c <= '~';\n\t}\n\t\n\tprivate void skipUnprintable() {\n\t\twhile (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n\t\t\tptr++;\n\t\t}\n\t}\n\t\n\tpublic boolean hasNext() {\n\t\tskipUnprintable();\n\t\treturn hasNextByte();\n\t}\n\t\n\tpublic String next() {\n\t\tif (!hasNext()) { throw new NoSuchElementException(); }\n\t\tStringBuilder sb = new StringBuilder();\n\t\tbyte b = readByte();\n\t\twhile (isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\tchar[] ch;\n\tint[][] dp;\n\n\t//pre = 0,pre = 1\n\n\tpublic int dfs(int n, int pre, int left, int right) {\n\n\t\tif (n == ch.length)\n\t\t\treturn 0;\n\n\t\tif(dp[n][pre + 1]!= -1){\n\t\t\treturn dp[n][pre + 1];\n\t\t}\n\n\t\tint next = ch[n] - '0';\n\t\tint ret = Integer.MAX_VALUE;\n\n\t\tif (pre == -1) {\n\n\t\t\tret = Math.min(ret, dfs(n + 1, 0, next, right));\n\t\t\tret = Math.min(ret, dfs(n + 1, 1, left, next));\n\n\t\t} else if (pre == 0) {\n\n\t\t\tif(right == -1 || next % 3 <= right % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,0,next,right) + 1);\n\t\t\t}\n\n\t\t\tif(next % 3 >= left % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next));\n\t\t\t}\n\t\t} else {\n\t\t\tif(next % 3 <= right % 3){\n\t\t\t\tret = Math.min(ret,dfs(n + 1,0,next,right));\n\t\t\t}\n\n\t\t\tif(left == -1 || next % 3 >= left % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next) + 1);\n\t\t\t}\n\t\t}\n\n\t\treturn dp[n][pre + 1] = ret;\n\t}\n\n\tpublic void solve() {\n\t\twhile (true) {\n\n\t\t\tString S = next();\n\n\t\t\tif (S.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tch = S.toCharArray();\n\t\t\tfor (int i = 0; i < ch.length; i++) {\n\t\t\t\tch[i] = (char) (ch[i] - 1);\n\t\t\t}\n\n\t\t\tdp = new int[ch.length + 1][3];\n\t\t\tfor(int i = 0;i < ch.length + 1;i++){\n\t\t\t\tfor(int j = 0;j < 3;j++){\n\t\t\t\t\tdp[i][j] = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tout.println(dfs(0, -1, -1, -1));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n\n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n\n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n\n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\tchar[] ch;\n\n\n\t//pre = 0,pre = 1\n\n\tpublic int dfs(int n, int pre, int left, int right) {\n\n\t\tif (n == ch.length)\n\t\t\treturn 0;\n\n\t\tint next = ch[n] - '0';\n\t\tint ret = Integer.MAX_VALUE;\n\n\t\tif (pre == -1) {\n\n\t\t\tret = Math.min(ret, dfs(n + 1, 0, next, right));\n\t\t\tret = Math.min(ret, dfs(n + 1, 1, left, next));\n\n\t\t} else if (pre == 0) {\n\n\t\t\tif(right == -1 || next % 3 <= right % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,0,next,right) + 1);\n\t\t\t}\n\n\t\t\tif(next % 3 >= left % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next));\n\t\t\t}\n\t\t} else {\n\t\t\tif(next % 3 <= right % 3){\n\t\t\t\tret = Math.min(ret,dfs(n + 1,0,next,right));\n\t\t\t}\n\n\t\t\tif(left == -1 || next % 3 >= left % 3){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next) + 1);\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tpublic void solve() {\n\t\twhile (true) {\n\n\t\t\tString S = next();\n\n\t\t\tif (S.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tch = S.toCharArray();\n\t\t\tfor (int i = 0; i < ch.length; i++) {\n\t\t\t\tch[i] = (char) (ch[i] - 1);\n\t\t\t}\n\t\t\tout.println(dfs(0, -1, -1, -1));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n\n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n\n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n\n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tScanner sc = new Scanner(System.in);\n\tpublic void run() {\n\t\twhile(sc.hasNext()){\n\t\t\tString n = sc.nextLine();\n\t\t\tif(n.equals(\"#\"))break;\n\t\t\telse calc(n);\n\t\t\t\n\t\t}\n\t}\n\tpublic void calc(String line){\n\t\tint[] retsu = {0, 1, 2, 3, 1, 0, 3, 1, 2, 3};\n\t\tint[] dp = new int[2];\n\t\tint panel = Integer.valueOf(line.substring(0,1)); \n\t\tfor(int i = 1; i < line.length(); i++){\n\t\t\tint nowPanel = Integer.valueOf(line.substring(i, i+1));\n\t\t\tint[] d = new int[2];\n\t\t\t//left\n\t\t\tint t = Integer.MAX_VALUE;\n\t\t\tif(retsu[nowPanel] <= retsu[panel]) t = dp[1];\n\t\t\td[0] = Math.min(dp[0] + 1, t);\n\t\t\t//right\n\t\t\tint t2 = Integer.MAX_VALUE;\n\t\t\tif(retsu[panel] <= retsu[nowPanel]) t2 = dp[0];\n\t\t\td[1] = Math.min(t2, dp[1]+1);\n\t\t\t\n\t\t\tpanel = nowPanel;\n\t\t\tdp = d;\n\t\t}\n\t\tSystem.out.println(Math.min(dp[0], dp[1]));\n\t}\n\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static Scanner sc = new Scanner(System.in);\n\tpublic static void main(String[] args) {\n\t\twhile(solve());\n\t}\n\t\n\tpublic static boolean solve() {\n\t\tchar[] s = sc.next().toCharArray();\n\t\tif (s[0] == '#') {\n\t\t\treturn false;\n\t\t}\n\t\tint n = s.length;\n\t\tfor(int i=0;i<n;i++) {\n\t\t\ts[i] -= '1';\n\t\t}\n\t\tint[][][][] dp = new int[2][2][9][9];\n\t\tfor(int i=0;i<9;i++) {\n\t\t\tfor(int j=0;j<9;j++) {\n\t\t\t\tfor(int k=0;k<2;k++) {\n\t\t\t\t\tdp[0][k][i][j] = i == 4 || j == 4 ? 1 << 29 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint now = 0;\n\t\tint next = 1;\n\t\tfor(int i=0;i<n;i++) {\n\t\t\tfor(int j=0;j<2;j++) {\n\t\t\t\tfor(int k=0;k<9;k++) {\n\t\t\t\t\tArrays.fill(dp[next][j][k], 1 << 29);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int j=0;j<2;j++) {\n\t\t\t\tfor(int f1=0;f1<9;f1++) {\n\t\t\t\t\tfor(int f2=0;f2<9;f2++) {\n\t\t\t\t\t\t//use left\n\t\t\t\t\t\tif (valid(s[i], f2)) {\n\t\t\t\t\t\t\tdp[next][0][s[i]][f2] = Math.min(dp[next][0][s[i]][f2], dp[now][j][f1][f2] + (j == 0 ? 1 : 0));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//use right\n\t\t\t\t\t\tif (valid(f1, s[i])) {\n\t\t\t\t\t\t\tdp[next][1][f1][s[i]] = Math.min(dp[next][1][f1][s[i]], dp[now][j][f1][f2] + (j == 1 ? 1 : 0));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tnow = 1 - now;\n\t\t\tnext = 1 - next;\n\t\t}\n\t\tint min = 1 << 29;\n\t\tfor(int i=0;i<2;i++) {\n\t\t\tfor(int f1=0;f1<9;f1++) {\n\t\t\t\tfor(int f2=0;f2<9;f2++) {\n\t\t\t\t\tmin = Math.min(min, dp[now][i][f1][f2]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tSystem.out.println(min);\n\t\treturn true;\n\t}\n\t\n\tpublic static boolean valid(int f1,int f2) {\n\t\treturn f1 != 4 && f2 != 4 && f1 % 3 <= f2 % 3;\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.awt.geom.*;\nimport java.io.*;\nimport java.util.*;\n\n\npublic class Main {\n\t//2327 start\n\tint [] map = {-1, 0,1,2,0,-1,2,0,1,2};\n\tint INF = 1 << 24;\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tString s = sc.next();\n\t\t\tif(s.equals(\"#\")) break;\n\t\t\tint len = s.length();\n\t\t\tint [][][][] dp = new int[len][2][3][3];\n\t\t\tint firststep = map[s.charAt(0) - '0'];\n\t\t\tfor(int i = 0; i < len; i++){\n\t\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\t\tfor(int k = 0; k < 3; k++){\n\t\t\t\t\t\tfor(int l = 0; l < 3; l++){\n\t\t\t\t\t\t\tdp[i][j][k][l] = INF;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdp[0][0][firststep][2] = 0;\n\t\t\tdp[0][1][0][firststep] = 0;\n\t\t\t\n\t\t\tfor(int i = 0; i < len-1; i++){\n\t\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\t\tfor(int left = 0; left < 3; left++){\n\t\t\t\t\t\tfor(int right = 0; right < 3; right++){\n\t\t\t\t\t\t\tif(dp[i][j][left][right] == INF) continue;\n\t\t\t\t\t\t\tdp[i+1][j][left][right] = \n\t\t\t\t\t\t\t\t\tMath.min(dp[i+1][j][left][right], dp[i][j][left][right] + 1);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tint lefts = left;\n\t\t\t\t\t\t\tint rights = right;\n\t\t\t\t\t\t\tif(j == 0){\n\t\t\t\t\t\t\t\trights = map[s.charAt(i+1) - '0'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tlefts = map[s.charAt(i+1) - '0'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(rights < lefts) continue;\n\t\t\t\t\t\t\tdp[i+1][(j + 1) % 2][lefts][rights] = \n\t\t\t\t\t\t\t\t\tMath.min(dp[i+1][(j+1) % 2][lefts][rights], dp[i][j][left][right]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint ans = INF;\n\t\t\tfor(int i = 0; i < 2; i++){\n\t\t\t\tfor(int j = 0; j < 3; j++){\n\t\t\t\t\tfor(int k = 0; k < 3; k++){\n\t\t\t\t\t\tans = Math.min(ans, dp[len-1][i][j][k]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\t\n\tpublic static void main(String [] args){\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static int play(char[] seq, boolean first){\n\t\tint left = 0, right = 0;\n\t\tint count = 0;\n\t\t\n\t\tif(first){\n\t\t\tleft = seq[0] - '0';\n\t\t}else{\n\t\t\tright = seq[0] - '0';\n\t\t}\n\t\t\n\t\tfirst = !first;\n\t\t\n\t\tfor(int i = 1; i < seq.length; i++){\n\t\t\tint next = seq[i] - '0';\n\t\t\t\n\t\t\tif(!first){\n\t\t\t\tfinal int l_mod = (left - 1) % 3;\n\t\t\t\tfinal int n_mod = (next - 1) % 3; //new_right\n\t\t\t\t\n\t\t\t\tif(l_mod <= n_mod){\n\t\t\t\t\tright = next;\n\t\t\t\t\tfirst = !first;\n\t\t\t\t}else{\n\t\t\t\t\tright = left;\n\t\t\t\t\tleft = next;\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tfinal int r_mod = (right - 1) % 3;\n\t\t\t\tfinal int n_mod = (next  - 1) % 3; //new left\n\t\t\t\t\n\t\t\t\tif(n_mod <= r_mod){\n\t\t\t\t\tleft = next;\n\t\t\t\t\tfirst = !first;\n\t\t\t\t}else{\n\t\t\t\t\tleft = right;\n\t\t\t\t\tright = next;\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn count;\n\t}\n\t\n\tpublic static void main(String[] args){\n\t\tfinal Scanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tString in = sc.next();\n\t\t\t\n\t\t\tif(\"#\".equals(in)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tchar[] input = in.toCharArray();\n\t\t\t\n\t\t\tSystem.out.println(Math.min(play(input, true), play(input, false)));\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\tchar[] ch;\n\tint[][] dp;\n\n\t//pre = 0,pre = 1\n\n\tpublic int dfs(int n, int pre, int left, int right) {\n\n\t\tif (n == ch.length)\n\t\t\treturn 0;\n\n\t\tif(dp[n][pre + 1]!= -1){\n\t\t\treturn dp[n][pre + 1];\n\t\t}\n\n\t\tint next = (ch[n] - '0') % 3;\n\t\tint ret = Integer.MAX_VALUE;\n\n\t\tif (pre == -1) {\n\n\t\t\tret = Math.min(ret, dfs(n + 1, 0, next, right));\n\t\t\tret = Math.min(ret, dfs(n + 1, 1, left, next));\n\n\t\t} else if (pre == 0) {\n\n\t\t\tif(right == -1 || next <= right){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,0,next,right) + 1);\n\t\t\t}\n\n\t\t\tif(next >= left){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next));\n\t\t\t}\n\t\t} else {\n\t\t\tif(next <= right){\n\t\t\t\tret = Math.min(ret,dfs(n + 1,0,next,right));\n\t\t\t}\n\n\t\t\tif(left == -1 || next >= left){\n\t\t\t\tret = Math.min(ret, dfs(n + 1,1,left,next) + 1);\n\t\t\t}\n\t\t}\n\n\t\treturn dp[n][pre + 1] = ret;\n\t}\n\n\tpublic void solve() {\n\t\twhile (true) {\n\t\t\tString S = next();\n\n\t\t\tif (S.equals(\"#\"))\n\t\t\t\tbreak;\n\t\t\tch = S.toCharArray();\n\t\t\tfor (int i = 0; i < ch.length; i++) {\n\t\t\t\tch[i] = (char) (ch[i] - 1);\n\t\t\t}\n\n\t\t\tdp = new int[ch.length + 1][3];\n\t\t\tfor(int i = 0;i < ch.length + 1;i++){\n\t\t\t\tfor(int j = 0;j < 3;j++){\n\t\t\t\t\tdp[i][j] = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tout.println(dfs(0, -1, -1, -1));\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tout.flush();\n\t\tnew Main().solve();\n\t\tout.close();\n\t}\n\n\t/* Input */\n\tprivate static final InputStream in = System.in;\n\tprivate static final PrintWriter out = new PrintWriter(System.out);\n\tprivate final byte[] buffer = new byte[2048];\n\tprivate int p = 0;\n\tprivate int buflen = 0;\n\n\tprivate boolean hasNextByte() {\n\t\tif (p < buflen)\n\t\t\treturn true;\n\t\tp = 0;\n\t\ttry {\n\t\t\tbuflen = in.read(buffer);\n\t\t} catch (IOException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t\tif (buflen <= 0)\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tpublic boolean hasNext() {\n\t\twhile (hasNextByte() && !isPrint(buffer[p])) {\n\t\t\tp++;\n\t\t}\n\t\treturn hasNextByte();\n\t}\n\n\tprivate boolean isPrint(int ch) {\n\t\tif (ch >= '!' && ch <= '~')\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\n\tprivate int nextByte() {\n\t\tif (!hasNextByte())\n\t\t\treturn -1;\n\t\treturn buffer[p++];\n\t}\n\n\tpublic String next() {\n\t\tif (!hasNext())\n\t\t\tthrow new NoSuchElementException();\n\t\tStringBuilder sb = new StringBuilder();\n\t\tint b = -1;\n\t\twhile (isPrint((b = nextByte()))) {\n\t\t\tsb.appendCodePoint(b);\n\t\t}\n\t\treturn sb.toString();\n\t}\n\n\tpublic int nextInt() {\n\t\treturn Integer.parseInt(next());\n\t}\n\n\tpublic long nextLong() {\n\t\treturn Long.parseLong(next());\n\t}\n\n\tpublic double nextDouble() {\n\t\treturn Double.parseDouble(next());\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\n    int INF = Integer.MAX_VALUE;\n    int[] pos = {INF, 0, 1, 2, 0, INF, 2, 0, 1, 2};\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            String line = sc.next();\n            if(line.equals(\"#\")) break;\n            char[] step = line.toCharArray();\n            int n = step.length;\n\n            int[][] dp = new int[n][2];\n            for(int i=0; i<n; i++) Arrays.fill(dp[i], INF);\n\n            dp[0][0] = 0; dp[0][1] = 0;\n            for(int i=0; i<n-1; i++){\n                int idx1 = step[i+1]-'0', idx2 = step[i]-'0';\n                \n                if(checkRL(idx2, idx1)) dp[i+1][0] = dp[i][1];\n                else if(dp[i][0]!=INF) dp[i+1][0] = Math.min(dp[i+1][0], dp[i][0]+1);\n                \n                if(checkRL(idx1, idx2)) dp[i+1][1] = dp[i][0];\n                else if(dp[i][1]!=INF) dp[i+1][1] = Math.min(dp[i+1][1], dp[i][1]+1);\n            }\n\n            System.out.println(Math.min(dp[n-1][0], dp[n-1][1]));\n        }\n    }\n\n    boolean checkRL(int r, int l){\n        if(pos[l]>pos[r]) return false;\n        return true;\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.NoSuchElementException;\n\npublic class Main {\n\t\n\tstatic int[] x = { -1, 0, 1, -1, 0, 1, -1, 0, 1 };\n\t\n\tpublic static void main(String[] args) {\n\t\tFastScanner sc = new FastScanner();\n\t\tPrintWriter out = new PrintWriter(System.out);\n\t\t\n\t\twhile (true) {\n\t\t\tchar[] steps = sc.next().toCharArray();\n\t\t\tif (steps[0] == '#') break;\n\t\t\t\n\t\t\tif (steps.length <= 2) {\n\t\t\t\tout.println(0);\n\t\t\t} else {\n\t\t\t\tint step = 0, left = -1, right = 1, foot = 0;\n\t\t\t\tfor (int i = 0; i < steps.length; i++) {\n\t\t\t\t\tint next = x[steps[i] - '1'];\n\t\t\t\t\tif (foot % 2 == 0) {\n\t\t\t\t\t\tif (next > right) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (next < left) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tright = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint min = step;\n\t\t\t\t\n\t\t\t\tstep = 0;\n\t\t\t\tleft = -1;\n\t\t\t\tright = 1;\n\t\t\t\tfoot = 1;\n\t\t\t\tfor (int i = 0; i < steps.length; i++) {\n\t\t\t\t\tint next = x[steps[i] - '1'];\n\t\t\t\t\tif (foot % 2 == 0) {\n\t\t\t\t\t\tif (next > right) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tleft = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (next < left) {\n\t\t\t\t\t\t\tstep++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tright = next;\n\t\t\t\t\t\t\tfoot++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmin = Math.min(min, step);\n\t\t\t\t\n\t\t\t\tout.println(min);\n\t\t\t}\n\t\t}\n\t\t\n\t\tout.flush();\n\t}\n}\n\nclass FastScanner {\n\tprivate final InputStream in = System.in;\n\tprivate final byte[] buffer = new byte[1024];\n\tprivate int ptr = 0;\n\tprivate int buflen = 0;\n\t\n\tprivate boolean hasNextByte() {\n\t\tif (ptr < buflen) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tptr = 0;\n\t\t\ttry {\n\t\t\t\tbuflen = in.read(buffer);\n\t\t\t} catch (IOException e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tif (buflen <= 0) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tprivate byte readByte() {\n\t\tif (hasNextByte()) {\n\t\t\treturn buffer[ptr++];\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\t\n\tprivate boolean isPrintableChar(int c) {\n\t\treturn '!' <= c && c <= '~';\n\t}\n\t\n\tprivate void skipUnprintable() {\n\t\twhile (hasNextByte() && !isPrintableChar(buffer[ptr])) {\n\t\t\tptr++;\n\t\t}\n\t}\n\t\n\tpublic boolean hasNext() {\n\t\tskipUnprintable();\n\t\treturn hasNextByte();\n\t}\n\t\n\tpublic String next() {\n\t\tif (!hasNext()) { throw new NoSuchElementException(); }\n\t\tStringBuilder sb = new StringBuilder();\n\t\tbyte b = readByte();\n\t\twhile (isPrintableChar(b)) {\n\t\t\tsb.appendCodePoint(b);\n\t\t\tb = readByte();\n\t\t}\n\t\treturn sb.toString();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport java.lang.*;\nimport java.math.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tString buffer = sc.next();\n\n\t\t\tif (buffer.equals(\"#\")) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint n = buffer.length();\n\n\t\t\tint dpl[][] = new int[n + 1][4];\n\t\t\tint dpr[][] = new int[n + 1][4];\n\n\t\t\tfor (int i = 0; i < n + 1; i++) {\n\t\t\t\tArrays.fill(dpl[i], Integer.MAX_VALUE >> 2);\n\t\t\t\tArrays.fill(dpr[i], Integer.MAX_VALUE >> 2);\n\t\t\t}\n\t\t\tdpl[0][3] = 0;\n\t\t\tdpr[0][3] = 0;\n\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tchar ch = buffer.charAt(i);\n\t\t\t\tint v = (ch - '1') % 3;\n\t\t\t\tfor (int prev = 0; prev < 3; prev++) {\n\t\t\t\t\tif (prev >= v) {\n\t\t\t\t\t\tdpl[i + 1][v] = Math.min(dpl[i + 1][v], dpr[i][prev]);\n\t\t\t\t\t}\n\t\t\t\t\tif (prev <= v) {\n\t\t\t\t\t\tdpr[i + 1][v] = Math.min(dpr[i + 1][v], dpl[i][prev]);\n\t\t\t\t\t}\n\t\t\t\t\tdpl[i + 1][v] = Math.min(dpl[i + 1][v], dpl[i][prev]+1);\n\t\t\t\t\tdpr[i + 1][v] = Math.min(dpr[i + 1][v], dpr[i][prev]+1);\n\t\t\t\t}\n\t\t\t\tdpl[i + 1][v] = Math.min(dpl[i + 1][v], dpr[i][3]);\n\t\t\t\tdpr[i + 1][v] = Math.min(dpr[i + 1][v], dpl[i][3]);\n\t\t\t}\n\t\t\t\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int i =0 ; i < 4;i++){\n\t\t\t\tans = Math.min(dpl[n][i],ans);\n\t\t\t\tans = Math.min(dpr[n][i],ans);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tMain m = new Main();\n\t\tm.run();\n\t}\n}"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var s = Console.ReadLine().Trim();\n            if (s == \"#\") break;\n            var ans = game(s, 'L');\n            var ans2 = game(s, 'r');\n            Console.WriteLine(Min(ans, ans2));\n        }\n    }\n    static int game(string s, char start)\n    {\n        var sL = s.Length;\n        var count = 0;\n        int L, r;\n        char nextLeg;\n        if (start == 'r') { r = int.Parse(s[0].ToString()); L = 0; nextLeg = 'L'; }\n        else { L = int.Parse(s[0].ToString()); r = 0; nextLeg = 'r'; }\n        var p = 1;\n        while (p < sL)\n        {\n            if (nextLeg == 'r')\n            {\n                r = int.Parse(s[p].ToString());\n                if (!checkR(L, r)) { count++; L = r; nextLeg = 'r'; }\n                else nextLeg = 'L';\n            }\n            else\n            {\n                L = int.Parse(s[p].ToString());\n                if (!checkR(L, r)) { count++; r = L; nextLeg = 'L'; }\n                else nextLeg = 'r';\n            }\n            p++;\n        }\n        return count;\n    }\n    static bool checkL(int L, int r)\n    {\n        if (r == 1 | r == 4 | r == 7)\n            return (L == 1 | L == 4 | L == 7);\n        if (r == 2 | r == 8)\n            return (L == 2 | L == 8 | L == 1 | L == 4 | L == 7);\n        return true;\n    }\n    static bool checkR(int L, int r)\n    {\n        if (L == 3 | L == 6 | L == 9)\n            return (r == 3 | r == 6 | r == 9);\n        if (L == 2 | L == 8)\n            return (r == 2 | r == 8 | r == 3 | r == 6 | r == 9);\n        return true;\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using static System.Math;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var s = Console.ReadLine().Trim();\n            if (s == \"#\") break;\n            var ans = startL(s);\n            var ans2 = startR(s);\n            Console.WriteLine(Min(ans,ans2));\n        }\n    }\n    static int startR ( string s)\n    {\n        var sL = s.Length;\n        var count = 0;\n        var r = int.Parse(s[0].ToString());\n        var L = -1;\n        var p = 1;\n        var nextLeg = 'L';\n        while (p < sL)\n        {\n            if (nextLeg == 'r')\n            {\n                r = int.Parse(s[p].ToString());\n                if (!checkR(L, r)) { count++; L = r; nextLeg = 'r'; }\n                else nextLeg = 'L';\n            }\n            else\n            {\n                L = int.Parse(s[p].ToString());\n                if (!checkR(L, r)) { count++; r = L; nextLeg = 'L'; }\n                else nextLeg = 'r';\n            }\n            p++;\n        }\n        return count;\n    }\n    static int startL (string s )\n    {\n        var sL = s.Length;\n        var count = 0;\n        var L = int.Parse(s[0].ToString());\n        var r = -1;\n        var p = 1;\n        var nextLeg = 'r';\n        while (p < sL)\n        {\n            if (nextLeg == 'r')\n            {\n                r = int.Parse(s[p].ToString());\n                if (!checkR(L, r)) { count++; L = r;   nextLeg = 'r'; }\n                else nextLeg = 'L';\n            }\n           else\n            {\n                L = int.Parse(s[p].ToString());\n                if (!checkR(L, r)) { count++; r = L; nextLeg = 'L'; }\n                else nextLeg = 'r';\n            }\n            p++;\n        }\n        return count;\n    }\n    static bool checkL (int L , int r)\n    {\n        if (r == 1 | r == 4 | r == 7)\n            return (L == 1 | L == 4 | L == 7);\n        if (r == 2 | r == 8)\n            return (L == 2 | L == 8 | L == 1 | L == 4 | L == 7);\n        return true;\n    }\n    static bool checkR (int L , int r)\n    {\n        if (L == 3 | L == 6 | L == 9)\n            return (r == 3 | r == 6 | r == 9);\n        if (L == 2 | L == 8)\n            return (r == 2 | r == 8 | r == 3 | r == 6 | r == 9);\n        return true;\n    }\n}\n\n"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  s.each_cons(2).reduce(0){ |c, (l, r)|\n    l, r = r, l if t == 1\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      c + 1\n    else\n      t = 1 - t\n      c\n    end\n  }\nend\n\nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  t == 0 ? l = s[0] : r = s[0]\n  (1...s.size).each do |i|\n    t == 1 ? l = s[i] : r = s[i]\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      cnt += 1\n    end\n    t = 1 - t\n  end\n  cnt\nend\n \nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    s = gets.chomp\n    break if s == \"\\#\"\n    dp = Array.new(s.length).map{Array.new(2,Float::INFINITY)}\n    dp[0][0] = dp[0][1] = 0\n    s = s.split(//).map(&:to_i)\n    s.each_with_index do |c,i|\n        break if i == s.length - 1\n        if (c - 1) % 3 > (s[i + 1] - 1) % 3\n            dp[i+1][0] = [dp[i][0] + 1, dp[i][1]].min\n        elsif (c - 1) % 3 < (s[i + 1] - 1) % 3\n            dp[i+1][1] = [dp[i][0], dp[i][1] + 1].min\n        else\n            dp[i+1][0] = [dp[i][0] + 1, dp[i][1]].min\n            dp[i+1][1] = [dp[i][0], dp[i][1] + 1].min\n        end\n    end\n    p dp[s.length - 1].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  t == 0 ? r = s[0] : l = s[0]\n  (1...s.size).each do |i|\n    t == 1 ? r = s[i] : l = s[i]\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      r, l = l, r\n      cnt += 1\n    else\n      t = 1 - t\n    end\n  end\n  cnt\nend\n \nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  (1...s.size).each do |i|\n    l = s[i - 1]; r = s[i]\n    l, r = r, l if t == 1\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      cnt += 1\n    else t = 1 - t\n    end\n  end\n  cnt\nend\n\nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  s.each_cons(2) do |l, r|\n    l, r = r, l if t == 1\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      cnt += 1\n    else t = 1 - t\n    end\n  end\n  cnt\nend\n\nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  r = l = s[0]\n  (1...s.size).each do |i|\n    t == 1 ? r = s[i] : l = s[i]\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      r, l = l, r\n      t = 1 - t\n      cnt += 1\n    end\n    t = 1 - t\n  end\n  cnt\nend\n\nwhile s = gets\n  break if s == '#'\n  s = s.chomp.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "while 1:\n    s = raw_input()\n    if s == \"#\": break\n    ans = 10**9\n    for ini in range(2):\n        tmp = 0\n        b = (int(s[0])-1)%3\n        lr = ini\n        for i in s[1:]:\n            f = (int(i)-1)%3\n            if [b<f, b>f][lr]: tmp += 1\n            else: lr = 1-lr\n            b = f\n        ans = min(ans, tmp)\n    print ans"
  },
  {
    "language": "Ruby",
    "code": "col = { \n    7 => 1,\n    4 => 1,\n    1 => 1,\n    8 => 2,\n    2 => 2,\n    9 => 3,\n    6 => 3,\n    3 => 3,\n}\n\nloop do\n    seq = gets.chomp.split(\"\").map(&:to_i)\n    break if seq == [0] \n    hash = {}\n    ((1..9).to_a - [5]).permutation(2) do |i, j|\n        next if col[i] > col[j]\n        hash[[i, j, nil]] = 0 \n    end \n\n    seq.each do |k| \n        hash2 = Hash.new(Float::INFINITY)\n        hash.each do |(i, j, prev_foot), v|\n            if col[k] <= col[j]\n                v2 = (prev_foot == :left ? v + 1 : v)\n                key = [k, j, :left]\n                hash2[key] = v2 if v2 < hash2[key]\n            end\n            if col[i] <= col[k]\n                v2 = (prev_foot == :right ? v + 1 : v)\n                key = [i, k, :right]\n                hash2[key] = v2 if v2 < hash2[key]\n            end\n        end\n        hash = hash2\n    end \n    p hash.values.min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  t == 0 ? l = s[0] : r = s[0]\n  (1...s.size).each do |i|\n    t == 1 ? l = s[i] : r = s[i]\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      cnt += 1\n    else\n      t = 1 - t\n    end\n  end\n  cnt\nend\n \nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  r = l = s[0]\n  (1...s.size).each do |i|\n    t == 1 ? r = s[i] : l = s[i]\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      r, l = l, r\n      t = 1 - t\n      cnt += 1\n    end\n    t = 1 - t\n  end\n  cnt\nend\n\nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "Ruby",
    "code": "def game(t, s)\n  cnt = 0\n  (1...s.size) do |i|\n    l = s[i - 1]; r = s[i]\n    l, r = r, l if t == 1\n    if r % 3 == 1 && l % 3 != 1 || r % 3 == 2 && l % 3 == 0\n      cnt += 1\n    else t = 1 - t\n    end\n  end\n  cnt\nend\n\nwhile s = gets.chomp\n  break if s == '#'\n  s = s.split('').map(&:to_i)\n  p [game(0, s), game(1, s)].min\nend"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.ascii;\nimport std.range;\nimport std.array;\nimport std.functional;\nimport std.algorithm;\nimport std.conv;\nimport std.container;\nimport std.math;\nimport std.numeric;\nimport std.string;\nimport std.c.string;\nimport std.random;\nimport std.regex;\nimport std.typecons;\n\nstring s;\n\nbool input() {\n    s = readln.chomp;\n    if (s == \"#\") return false;\n    return true;\n}\n\nconst INF = int.max / 4;\nint check(int l, int r, int lr) {\n    const LEFT = 0, RIGHT = 1;\n    int[int] D = [\n        1: 0, 4: 0, 7: 0,\n        2: 1, 5: 1, 8: 1,\n        3: 2, 6: 2, 9: 2\n    ];\n    int ret = 0;\n    for (int i = 0; i < s.length; i++) {\n        auto c = cast(int)(s[i] - '0');\n        if (lr == LEFT) {\n            if (D[r] < D[c]) {\n                r = c;\n                ret++;\n            } else {\n                l = c;\n                lr = RIGHT;\n            }\n        } else {\n            if (D[c] < D[l]) {\n                l = c;\n                ret++;\n            } else {\n                r = c;\n                lr = LEFT;\n            }\n        }\n    }\n    return ret;\n}\n\nvoid solve() {\n    int ans = INF;\n    for (int l = 1; l <= 9; l++) {\n        for (int r = 1; r <= 9; r++) {\n            for (int lr = 0; lr < 2; lr++) {\n                ans = min(ans, check(l, r, lr));\n            }\n        }\n    }\n    writeln(ans);\n}\n\nvoid main() {\n    while (input) solve;\n}"
  },
  {
    "language": "Python",
    "code": "\ndef main():\n    while True:\n        line=raw_input()\n        if line==\"#\":   break;\n        solve(line)\n        \ndef solve(line):\n    length=len(line)\n    INF=1<<29\n    dp=[[[[INF for l in range(3)] for k in range(3)] for j in range(2)] for i in range(2)]\n    dp[1][1][0][2]=0\n    dp[1][0][0][2]=0\n    for i in range(length):\n        n=i%2\n        n2=(i+1)%2\n        pos=(int(line[i])+2)%3\n        for l in range(3):\n            for r in range(3):\n                if l<=pos:\n                    dp[n][1][l][pos]=min(dp[n][1][l][pos], min(dp[n2][0][l][r], dp[n2][1][l][r]+1) )\n                if pos<=r:\n                    dp[n][0][pos][r]=min(dp[n][0][pos][r], min(dp[n2][1][l][r], dp[n2][0][l][r]+1) )\n        for l in range(3):\n            for r in range(3):\n                for j in range(2):\n                    dp[n2][j][l][r]=INF\n    ans=INF\n    tmp=(length-1)%2\n    for j in range(2):\n        for l in range(3):\n            for r in range(3):\n                ans=min(ans, dp[tmp][j][l][r])\n    print ans\n\nif __name__==\"__main__\":    main()"
  },
  {
    "language": "Python",
    "code": "pos = [0,1,2,0,-1,2,0,1,2]\nwhile 1:\n    s = raw_input()\n    if s == \"#\": break\n    ans = 10**9\n    for ini in range(2):\n        tmp = 0\n        b = pos[int(s[0])-1]\n        lr = ini\n        for i in s[1:]:\n            f = pos[int(i)-1]\n            if [b<f, b>f][lr]: tmp += 1\n            else: lr = 1-lr\n            b = f\n        ans = min(ans, tmp)\n    print ans"
  },
  {
    "language": "Python",
    "code": "pos = [0,1,2,0,-1,2,0,1,2]\nwhile 1:\n    s = raw_input()\n    if s == \"#\": break\n    ans = 10**9\n    for ini in range(2):\n        tmp = 0\n        b = int(s[0])-1\n        lr = ini\n        for i in range(1,len(s)):\n            f = int(s[i])-1\n            if lr == 0:\n                if pos[b] < pos[f]: tmp += 1\n                else: lr = 1-lr\n            else:\n                if pos[b] > pos[f]: tmp += 1\n                else: lr = 1-lr\n            b = f\n        ans = min(ans, tmp)\n    print ans"
  },
  {
    "language": "Python",
    "code": "while 1:\n    s = raw_input()\n    if s == \"#\": break\n    ans = 10**9\n    for ini in range(2):\n        tmp = 0\n        b = (int(s[0])-1)%3\n        lr = ini\n        for i in s[1:]:\n            f = (int(i)-1)%3\n            if [b<f, b>f][lr]: tmp += 1\n            else: lr = 1-lr\n            b = f\n        ans = min(ans, tmp)\n    print ans"
  },
  {
    "language": "Python",
    "code": "while 1:\n    s = raw_input()\n    if s == \"#\": break\n    l = len(s)\n    ps = [(int(c)-1) % 3 for c in s]\n    dpl = [1e9]*l; dpr = [1e9]*l\n    dpl[0] = dpr[0] = 0\n    for i in xrange(1, l):\n        if ps[i-1] <= ps[i]:\n            dpl[i] = dpr[i-1]\n        if ps[i] <= ps[i-1]:\n            dpr[i] = dpl[i-1]\n        dpl[i] = min(dpl[i], dpl[i-1]+1)\n        dpr[i] = min(dpr[i], dpr[i-1]+1)\n    print min(dpl[l-1], dpr[l-1])"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\ndd = [(0,-1),(1,0),(0,1),(-1,0)]\nddn = [(0,-1),(1,-1),(1,0),(1,1),(0,1),(-1,-1),(-1,0),(-1,1)]\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n\n    while True:\n        s = S()\n        if s == '#':\n            break\n\n        l = True\n        lr = 0\n        for i in range(1,len(s)):\n            c = s[i]\n            p = s[i-1]\n            cl = int(c) % 3\n            if cl == 0:\n                cl = 3\n            pl = int(p) % 3\n            if pl == 0:\n                pl = 3\n\n            if l and cl > pl:\n                lr += 1\n            elif not l and cl < pl:\n                lr += 1\n            else:\n                l = not l\n        l = False\n        tr = 0\n        for i in range(1,len(s)):\n            c = s[i]\n            p = s[i-1]\n            cl = int(c) % 3\n            if cl == 0:\n                cl = 3\n            pl = int(p) % 3\n            if pl == 0:\n                pl = 3\n\n            if l and cl > pl:\n                tr += 1\n            elif not l and cl < pl:\n                tr += 1\n            else:\n                l = not l\n\n        rr.append(min(lr,tr))\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Python",
    "code": "def step_shift(foot, next):\n\tif (not(foot[0]) and foot[1] > next) or (foot[0] and foot[1] < next):\n\t\tfoot[2] += 1\n\telse:\n\t\tfoot[0]^= 1\n\tfoot[1] = next\n\treturn foot\n\nwhile 1:\n\tstep = raw_input()\n\tif step == \"#\": break\n\tstep = [int(s) for s in step]\n\ts_loc = {1:-1, 4:-1, 7:-1, 2:0, 8:0, 3:1, 6:1, 9:1} \n\tfoot_l = [False, s_loc[step[0]], 0]\n\tfoot_r = [True, s_loc[step[0]], 0]\n\tfor s in step[1:]:\n\t\tnext = s_loc[s]\n\t\tfoot_l = step_shift(foot_l, next)\n\t\tfoot_r = step_shift(foot_r, next)\n\tprint min(foot_l[2], foot_r[2])"
  },
  {
    "language": "Python",
    "code": "import sys\n\nfor line in sys.stdin:\n    if line[0] == '#':\n        break\n    line = line.strip()\n    step = [0, 0]\n    before = int(line[0]) % 3 if int(line[0]) % 3 != 0 else 3\n    NULL = 1000000\n    for c in line[1:]:\n        n = int(c) % 3 if int(c) % 3 != 0 else 3\n        if n > before:\n#            step[0], step[1] = step[1] + 1, step[0]\n            step[0], step[1] = NULL, min(step[0], step[1] + 1)\n        elif n < before:\n            step[0], step[1] = min(step[0] + 1, step[1]), NULL\n        else:\n            step[0], step[1] = step[1], step[0]\n        before = n\n#        print step,\n    print min(step)"
  },
  {
    "language": "Python",
    "code": "import math,string,itertools,fractions,heapq,collections,re,array,bisect,sys,random,time,copy,functools\n\nsys.setrecursionlimit(10**7)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 998244353\ndd = [(0,-1),(1,0),(0,1),(-1,0)]\nddn = [(0,-1),(1,-1),(1,0),(1,1),(0,1),(-1,-1),(-1,0),(-1,1)]\n\ndef LI(): return [int(x) for x in sys.stdin.readline().split()]\ndef LI_(): return [int(x)-1 for x in sys.stdin.readline().split()]\ndef LF(): return [float(x) for x in sys.stdin.readline().split()]\ndef LS(): return sys.stdin.readline().split()\ndef I(): return int(sys.stdin.readline())\ndef F(): return float(sys.stdin.readline())\ndef S(): return input()\ndef pf(s): return print(s, flush=True)\n\n\ndef main():\n    rr = []\n\n    while True:\n        s = S()\n        if s == '＃':\n            break\n\n        l = True\n        lr = 0\n        for i in range(1,len(s)):\n            c = s[i]\n            p = s[i-1]\n            cl = int(c) % 3\n            if cl == 0:\n                cl = 3\n            pl = int(p) % 3\n            if pl == 0:\n                pl = 3\n\n            if l and cl > pl:\n                lr += 1\n            elif not l and cl < pl:\n                lr += 1\n            else:\n                l = not l\n        l = False\n        tr = 0\n        for i in range(1,len(s)):\n            c = s[i]\n            p = s[i-1]\n            cl = int(c) % 3\n            if cl == 0:\n                cl = 3\n            pl = int(p) % 3\n            if pl == 0:\n                pl = 3\n\n            if l and cl > pl:\n                tr += 1\n            elif not l and cl < pl:\n                tr += 1\n            else:\n                l = not l\n\n        rr.append(min(lr,tr))\n\n    return '\\n'.join(map(str, rr))\n\n\nprint(main())\n\n\n"
  },
  {
    "language": "Rust",
    "code": "extern crate core;\n\nuse std::fmt;\nuse std::cmp::{Ordering, min, max};\nuse std::f32::MAX;\nuse std::ops::{Add, Sub, Mul, Div, Neg, Index, IndexMut, SubAssign};\nuse std::collections::{BTreeMap, VecDeque, BinaryHeap, BTreeSet};\nuse std::fmt::{Display, Formatter, Error};\nuse std::env::join_paths;\n\nfn show<T: Display>(vec: &Vec<T>) {\n    if vec.is_empty() {\n        println!(\"[]\");\n    }else {\n        print!(\"[{}\", vec[0]);\n        for i in 1 .. vec.len() {\n            print!(\", {}\", vec[i]);\n        }\n        println!(\"]\");\n    }\n}\nfn show2<T: Display>(vec: &Vec<Vec<T>>) {\n    if vec.is_empty() {\n        println!(\"[]\");\n    }else {\n        for l in vec {\n            show(l);\n        }\n    }\n}\nmacro_rules! read_line{\n    () => {{\n        let mut line = String::new();\n        std::io::stdin().read_line(&mut line).ok();\n        line\n    }};\n    (delimiter: ' ') => {\n        read_line!().split_whitespace().map(|x|x.to_string()).collect::<Vec<_>>()\n    };\n    (delimiter: $p:expr) => {\n        read_line!().split($p).map(|x|x.to_string()).collect::<Vec<_>>()\n    };\n    (' ') => {\n        read_line!(delimiter: ' ')\n    };\n    ($delimiter:expr) => {\n        read_line!(delimiter: $delimiter)\n    };\n    (' '; $ty:ty) => {\n        read_line!().split_whitespace().map(|x|x.parse::<$ty>().ok().unwrap()).collect::<Vec<$ty>>()\n    };\n    ($delimiter:expr; $ty:ty) => {\n        read_line!($delimiter).into_iter().map(|x|x.parse::<$ty>().ok().unwrap()).collect::<Vec<$ty>>()\n    };\n}\nmacro_rules! read_value{\n    () => {\n        read_line!().trim().parse().ok().unwrap()\n    }\n}\nmacro_rules! let_all {\n    ($($n:ident:$t:ty),*) => {\n        let line = read_line!(delimiter: ' ');\n        let mut iter = line.iter();\n        $(let $n:$t = iter.next().unwrap().parse().ok().unwrap();)*\n    };\n}\nmacro_rules! let_mut_all {\n    ($($n:ident:$t:ty),*) => {\n        let line = read_line!(delimiter: ' ');\n        let mut iter = line.iter();\n        $(let mut $n:$t = iter.next().unwrap().parse().ok().unwrap();)*\n    };\n}\nfn min_step(history: &Vec<i32>, current: usize, prev_is_left: bool, left_pos: i32, right_pos: i32, memo: &mut Vec<Vec<Vec<Vec<i32>>>>) -> i32 {\n    if current == history.len() {\n        0\n    }else if memo[current][if prev_is_left {0}else {1}][left_pos as usize][right_pos as usize] >= 0{\n        memo[current][if prev_is_left{0}else {1}][left_pos as usize][right_pos as usize]\n    }else {\n        let left = if history[current] % 3 <= right_pos {min_step(history, current + 1, true, history[current] % 3, right_pos, memo) + if prev_is_left {1}else {0}} else {std::i32::MAX};\n        let right = if history[current] % 3 >= left_pos {min_step(history, current + 1, false, left_pos, history[current] % 3, memo) + if prev_is_left {0}else {1}} else {std::i32::MAX};\n        memo[current][if prev_is_left{0}else {1}][left_pos as usize][right_pos as usize] = min(left, right);\n        min(left, right)\n    }\n}\nfn main() {\n    loop {\n        let state: String = read_line!().trim().to_string();\n        if &state[..] == \"#\" {\n            return\n        }\n        let state: Vec<_> = state.chars().map(|x|x.to_digit(10).unwrap() as i32 - 1).collect();\n        let mut memo = vec![vec![vec![vec![-1; 3]; 3]; 2]; state.len()];\n        let from_left = min_step(&state, 0, false, 0, 2, &mut memo);\n        let from_right = min_step(&state, 0, true, 0, 2, &mut memo);\n        println!(\"{}\", min(from_left, from_right));\n    }\n}\n"
  }
]