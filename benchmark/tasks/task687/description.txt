Given a sequence of N integers A_1, A_2, ..., A_N and a positive integer S, define a function f(L, R) that counts the number of sequences of integers (x_1, x_2, ..., x_k) such that L ≤ x_1 < x_2 < ... < x_k ≤ R and the sum of A at those positions equals S. The goal is to find the sum of f(L, R) over all pairs of integers (L, R) where 1 ≤ L ≤ R ≤ N. Due to the potentially large result, return it modulo 998244353.