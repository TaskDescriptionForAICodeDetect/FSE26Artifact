[
  {
    "language": "Scala",
    "code": "//import java.util.Scanner\n\nimport scala.collection.Searching._\nimport scala.annotation.tailrec\nimport scala.collection.mutable\nimport scala.collection.immutable._\nimport scala.io.StdIn.readLine\n\nimport java.io._\nimport java.nio.file.{Files, Path}\nimport java.util.StringTokenizer\nimport java.util.Calendar\n\nimport scala.io.Codec\n\n/**\n  * Scala implementation of a faster java.util.Scanner\n  * See: http://codeforces.com/blog/entry/7018\n  */\n\nclass Scanner(reader: LineNumberReader) extends Iterable[String] with AutoCloseable {\n  def this(reader: BufferedReader) = this(new LineNumberReader(reader))\n\n  def this(reader: Reader) = this(new BufferedReader(reader))\n\n  def this(inputStream: InputStream)(implicit codec: Codec) = this(new InputStreamReader(inputStream, codec.charSet))\n\n  def this(path: Path)(implicit codec: Codec) = this(Files.newBufferedReader(path, codec.charSet))\n\n  def this(file: File)(implicit codec: Codec) = this(file.toPath)(codec)\n\n  def this(str: String) = this(new StringReader(str))\n\n  override def iterator = for {\n    line <- Iterator.continually(reader.readLine()).takeWhile(_ != null)\n    tokenizer = new StringTokenizer(line)\n    tokens <- Iterator.continually(tokenizer).takeWhile(_.hasMoreTokens)\n  } yield tokens.nextToken()\n\n  private[this] var current = iterator\n\n  def hasNext = current.hasNext\n\n  @inline def next() = current.next()\n\n  /**\n    * This is different from Java's scanner.nextLine\n    * The Java one is a misnomer since it actually travel to end of current line\n    * This one actually does fetch the next line\n    */\n  def nextLine(): String = {\n    val line = reader.readLine()\n    current = iterator\n    line\n  }\n\n  def lineNumber: Int = reader.getLineNumber\n\n  def nextString(): String = next()\n\n  def nextBoolean(): Boolean = next().toBoolean\n\n  def nextByte(radix: Int = 10): Byte = java.lang.Byte.parseByte(next(), radix)\n\n  def nextShort(radix: Int = 10): Short = java.lang.Short.parseShort(next(), radix)\n\n  def nextInt(radix: Int = 10): Int = java.lang.Integer.parseInt(next(), radix)\n\n  def nextLong(radix: Int = 10): Long = java.lang.Long.parseLong(next(), radix)\n\n  def nextBigInt(radix: Int = 10): BigInt = BigInt(next(), radix)\n\n  def nextFloat(): Float = next().toFloat\n\n  def nextDouble(): Double = next().toDouble\n\n  def nextBigDecimal(): BigDecimal = BigDecimal(next())\n\n  override def close() = reader.close()\n}\n\n\nclass IUnionFind(val size: Int) {\n\n  private case class Node(var parent: Option[Int], var treeSize: Int)\n\n  private val nodes = Array.fill[Node](size)(new Node(None, 1))\n\n  def union(t1: Int, t2: Int): IUnionFind = {\n    if (t1 == t2) return this\n\n    val root1 = root(t1)\n    val root2 = root(t2)\n    if (root1 == root2) return this\n\n    val node1 = nodes(root1)\n    val node2 = nodes(root2)\n\n    if (node1.treeSize < node2.treeSize) {\n      node1.parent = Some(t2)\n      node2.treeSize += node1.treeSize\n    } else {\n      node2.parent = Some(t1)\n      node1.treeSize += node2.treeSize\n    }\n    this\n  }\n\n  def connected(t1: Int, t2: Int): Boolean = t1 == t2 || root(t1) == root(t2)\n\n  def root(t: Int): Int = nodes(t).parent match {\n    case None => t\n    case Some(p) => {\n      nodes(t).parent = Some(root(p))\n      nodes(t).parent.get\n    }\n  }\n}\n\nobject Main {\n  def solve(sc: => Scanner): Unit = {\n    val A = Array.fill(sc.nextInt())(sc.nextLong())\n    if (A.size != 0) {\n      println(recursive(A, 0))\n      solve(sc)\n    }\n  }\n\n  def getPermutation(begin: Long = 0): Stream[Long] =\n    Stream.cons(begin, getPermutation(begin + 1))\n\n  def calc(N: Long, R: Long, M: Long): Double = {\n    math.sqrt(R * R - (R * 2 * ((M * 1.0 / N) - 0.5)) * (R * 2 * ((M * 1.0 / N) - 0.5))) * 2\n  }\n\n  def recursive(A: Array[Long], N: Long): Long = {\n    if (N > 10000) (-1)\n    else if (A.zipWithIndex.filter(x => (x._1 - x._2) != 1).size == 0) (N)\n    else {\n      (recursive(A.map(i => i - 1).filter(i => i != 0) :+ A.size.toLong, N + 1))\n    }\n  }\n\n  def check(s: String): Boolean = {\n    if (s == \"0\") (true) else (s(0) != '0' && 0 <= s.toInt && s.toInt <= 255)\n  }\n\n  def shift(n: Long): Long = {\n    if (n == 0) (0) else if (n == 1) (1) else (shift(n - 1) << 1)\n  }\n\n  def unShift(n: Long): Long = {\n    if (n == 0) (0) else (unShift(n >> 1) + 1)\n  }\n\n  def gcd(i: Long, j: Long): Long = {\n    if (i < j) (gcd(j, i)) else (if (j == 0) (i) else (gcd(j, i % j)))\n  }\n\n  def main(args: Array[String]): Unit = {\n    val sc: Scanner = new Scanner(System.in)\n    solve(sc)\n  }\n}\n\nobject Util {\n  def getPermutation(begin: Long = 0): Stream[Long] =\n    Stream.cons(begin, getPermutation(begin + 1))\n\n  def getPrimeList(): Stream[Long] =\n    getPrimeListRecursive(getPermutation(begin = 2))\n\n  private def getPrimeListRecursive(A: Stream[Long]): Stream[Long] =\n    Stream.cons(A.head, getPrimeListRecursive(A.tail.filter(_ % A.head != 0)))\n\n  def fib(a: Long = 0, b: Long = 1, mod: Long = Long.MaxValue): Stream[Long] = a #:: fib(b % mod, (a + b) % mod, mod)\n}\n\nobject ArabicRoman {\n\n  type =?>[A, B] = PartialFunction[A, B]\n\n  val codeTable = List(\n    (1000, \"M\"), (900, \"CM\"), (500, \"D\"), (400, \"CD\"), (100, \"C\"),\n    (90, \"XC\"), (50, \"L\"), (40, \"XL\"), (10, \"X\"), (9, \"IX\"), (5, \"V\"), (4, \"IV\"), (1, \"I\"))\n\n  val arabicToRoman: (Int) =?> String = {\n    case src if (src >= 1 && src <= 3999) => {\n\n      def convert(left: Int, cont: String = \"\", code: List[(Int, String)] = codeTable): String = {\n        val (unitVal, unitChar) = code.head\n        left - unitVal match {\n          case n if (n == 0) => cont + unitChar\n          case n if (n > 0) => convert(n, cont + unitChar, code)\n          case _ => convert(left, cont, code.tail)\n        }\n      }\n\n      convert(src)\n    }\n  }\n\n  val romanToArabic: (String) =?> Int = {\n    case src if (Option(src).exists { s => {\n      s.nonEmpty && (\"\"\"[^MDCLXVI]\"\"\".r.findFirstMatchIn(s.toUpperCase) == None)\n    }\n    }) => {\n\n      def convert(left: String, cont: Int = 0, code: List[(Int, String)] = codeTable): Int = {\n        val (unitVal, unitChar) = code.head\n        left.splitAt(unitChar.length) match {\n          case (\"\", _) => cont\n          case (`unitChar`, tail) => convert(tail, cont + unitVal, code)\n          case _ => convert(left, cont, code.tail)\n        }\n      }\n\n      convert(src.toUpperCase())\n    }\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\ntypedef long long int ll;\n#define BIG_NUM 2000000000\n#define MOD 1000000007\n#define EPS 0.000001\nusing namespace std;\n\n\nint main(){\n\n\tint N,tmp,count,right,pre,sum;\n\tbool FLG,AGARI;\n\tvector<int> V;\n\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N == 0)break;\n\n\t\tV.clear();\n\n\t\tsum = 0;\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tscanf(\"%d\",&tmp);\n\t\t\tV.push_back(tmp);\n\t\t\tsum += tmp;\n\t\t}\n\n\t\tFLG = false;\n\n\t\tfor(int k = 1; ;k++){\n\t\t\tif(k*(k+1)/2 == sum){\n\t\t\t\tFLG = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(k*(k+1)/2 > sum){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(!FLG){\n\t\t\tcount = 10000;\n\t\t}else{\n\t\t\tcount = 0;\n\t\t}\n\n\t\tFLG = false;\n\t\twhile(count < 10000){\n\n\t\t\tAGARI = true;\n\t\t\tpre = 0;\n\n\t\t\tfor(int i = 0; i < V.size(); i++){\n\t\t\t\tif(V[i] > 0){\n\t\t\t\t\tif(V[i] != pre+1){\n\t\t\t\t\t\tAGARI = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tpre = V[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(AGARI){\n\t\t\t\tFLG = true;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tright = 0;\n\t\t\tfor(int i = 0; i < V.size(); i++){\n\t\t\t\tif(V[i] > 0){\n\t\t\t\t\tV[i]--;\n\t\t\t\t\tright++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tV.push_back(right);\n\n\t\t\tfor(int i = 0; i < V.size(); i++){\n\t\t\t\tif(V[i] == 0){\n\t\t\t\t\tV.erase(V.begin()+i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcount++;\n\t\t}\n\n\t\tif(!FLG){\n\t\t\tprintf(\"-1\\n\");\n\t\t}else{\n\t\t\tprintf(\"%d\\n\",count);\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\nusing namespace std;\nint n, s;\nbool triangle(vector<int> v) {\n\tfor (int i = 0; i < v.size(); i++) {\n\t\tif (v[i] != i + 1) return false;\n\t}\n\treturn true;\n}\nvector<int> shift(vector<int> v) {\n\tvector<int> ret;\n\tfor (int i = 0; i < v.size(); i++) {\n\t\tif (v[i]) ret.push_back(v[i]);\n\t}\n\treturn ret;\n}\nint main() {\n\twhile (cin >> n, n) {\n\t\tvector<int> v(n); s = 0;\n\t\tfor (int i = 0; i < n; i++) cin >> v[i], s += v[i];\n\t\tbool flag = false;\n\t\tfor (int i = 0; i < 2000; i++) {\n\t\t\tif (i * (i + 1) / 2 == s) flag = true;\n\t\t}\n\t\tif (!flag) cout << -1 << endl;\n\t\telse {\n\t\t\tint c = 0;\n\t\t\twhile (true) {\n\t\t\t\tif (triangle(v)) break;\n\t\t\t\tfor (int i = 0; i < v.size(); i++) v[i]--;\n\t\t\t\tv.push_back(v.size());\n\t\t\t\tshift(v); c++;\n\t\t\t}\n\t\t\tcout << (c <= 10000 ? c : -1) << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n\nusing namespace std;\n\n#define FOR(i,k,n) for(int i=(k); i<(int)(n); ++i)\n#define REP(i,n) FOR(i,0,n)\n#define FORIT(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n\ntemplate<class T> void debug(T begin, T end){ for(T i = begin; i != end; ++i) cerr<<*i<<\" \"; cerr<<endl; }\ninline bool valid(int x, int y, int W, int H){ return (x >= 0 && y >= 0 && x < W && y < H); }\n\ntypedef long long ll;\nconst int INF = 100000000;\nconst double EPS = 1e-8;\nconst int MOD = 1000000007;\nint dx[8] = {1, 0, -1, 0, 1, -1, -1, 1};\nint dy[8] = {0, 1, 0, -1, 1, 1, -1, -1};\n\nbool is_triangle(vector<int>& v){\n  REP(i, v.size()) if(v[i] != i + 1) return false;\n  return true;\n}\n\nint main(){\n  int N;\n  while(cin >> N && N){\n    vector<int> b(N);\n    REP(i, N) cin >> b[i];\n    bool NG = true;;\n    REP(iter, 10001){\n      if(is_triangle(b)){\n        NG = false;\n        cout << iter << endl;\n        break;\n      }\n      REP(i, b.size()) b[i]--;\n      b.push_back(b.size());\n      b.erase(remove(b.begin(), b.end(), 0), b.end());\n    }\n    if(NG) cout << -1 << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<cmath>\n#include<map>\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\nconst double PI=acos(-1);\nusing namespace std;\nint main(){\n\n  int n;\n  while(cin>>n,n){\n    vector<int>in(n);\n    int co=0;\n    rep(i,n)cin>>in[i];\n    while(1){\n      bool han=true;\n      rep(i,in.size())if(in[i]!=i+1)han=false;\n      if(han)break;\n      co++;\n      //cout<<\"!\"<<endl;\n      int tmp=in.size();\n      for(vector<int>::iterator it=in.begin();it!=in.end();it++){\n\t//cout<<\"#\"<<endl;\n\t(*it)--;\n\tif(!*it){in.erase(it);it--;}\n      }\n      in.push_back(tmp);\n      if(co>10000)break;\n    }\n    if(co<=10000)cout<<co<<endl;\n    else cout<<-1<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n    int a;\n\tscanf (\"%d\",&a);\n    if (a==011)\n\t    printf(\"Yes\\n\");\n\telse if(a==1011)\n\t    printf(\"Yes\\n\");\n\telse if(a==0110)\n\t    printf(\"Yes\\n\");\n\telse if(a==10100)\n\t    printf(\"Yes\\n\");\t\n\telse if(a==011111)\n\t    printf(\"Yes\\n\");\t\n\telse if(a==0101011)\n\t    printf(\"Yes\\n\");\t\n\telse \n\t    printf(\"No\\n\");\n\treturn 0;\n}\n\t\t\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n#define rep(i,a) for(int i = 0 ; i < a ; i++)\nint main(void){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvector<int>in(n);\n\t\tint cnt = 0;\n\t\trep(i,n)cin>>in[i];\n\t\twhile(1){\n\t\t\tbool judge = true;\n\t\t\trep(i,in.size())if(in[i]!=i+1)judge=false;\n\t\t\tif(judge)break;\n\t\t\tcnt++;\n\t\t\tint tmp = in.size();\n\t\t\tfor(vector<int>::iterator it=in.begin();it!=in.end();it++){\n\t\t\t\t(*it)--;\n\t\t\t\tif(!*it){\n\t\t\t\t\tin.erase(it);\n\t\t\t\t\tit--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tin.push_back(tmp);\n\t\t\tif(cnt>10000)break;\n\t\t}\n\t\tif(cnt<=10000)cout<<cnt<<endl;\n\t\telse cout<<-1<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <cstring>\n\n#include <iostream>\n#include <string>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <map>\n#include <set>\n\n#include <functional>\n#include <cassert>\n\ntypedef long long ll;\nusing namespace std;\n\n#define debug(x) cerr << #x << \" = \" << x << endl;\n\n\n#define mod 1000000007 //1e9+7(prime number)\n#define INF 1000000000 //1e9\n#define LLINF 2000000000000000000LL //2e18\n#define SIZE 10000\n\nbool is_ok(int n,int *b){\n\n  for(int i=1;i<=n;i++){\n    if(b[i-1]!=i) return false;\n  }\n\n  return true;\n}\n\nvoid calc(int n){\n  int b[SIZE];\n  int sumb = 0;\n\n  for(int i=0;i<n;i++){\n    scanf(\"%d\",b+i);\n    sumb += b[i];\n  }\n  \n  for(int i=1;;i++){\n    if(i*(i+1)/2 == sumb) break;\n    if(i*(i+1)/2 > sumb){\n      puts(\"-1\");\n      return;\n    }\n  }\n  \n  for(int i=0;;i++){\n    if(i > 10000){\n      puts(\"-1\");\n      return;\n    }\n    \n    if(is_ok(n,b)){\n      printf(\"%d\\n\",i);\n      return;\n    }\n    \n    int t = 0;\n    \n    for(int j=0;j<n;j++) b[j]--;\n\n    for(int j=0;j<n;j++){\n      if(b[j] > 0){\n        b[t] = b[j];\n        t++;\n      }\n    }\n\n    b[t] = n;\n    n = t+1;\n  }\n\n}\n\nint main(){\n  int n;\n  \n  while(1){\n    scanf(\"%d\",&n);\n    if(n==0) break;\n    calc(n);\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n#include<cstring>\n#include<queue>\n#include<vector>\n#include<functional>\n#include<cmath>\n#include<map>\n#include<stack>\n#include<set>\n#include<numeric>\n#include<limits>\n#include<iterator>\n\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define rep(i,n) for(int i=0; i<n; i++)\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<ll, char> plc;\n\nint n;\n\nbool check(vector<int> a) {\n\trep(i, a.size()) {\n\t\tif (a[i] != i + 1)return false;\n\t}\n\treturn true;\n}\n\nint solve(vector<int> a) {\n\tint cnt = 0;\n\n\twhile (1) {\n\t\tif (check(a))return cnt;\n\t\tint a_size = a.size();\n\t\trep(i, a.size()) a[i]--;\n\t\tvector<int> na;\n\t\trep(i, a.size()) {\n\t\t\tif (a[i])na.push_back(a[i]);\n\t\t}\n \t\ta = na;\n\t\ta.push_back(a_size);\n\t\tcnt++;\n\t\t\n\t\tif (cnt > 10000) return -1;\t\n\t}\n}\n\nint main()\n{\n\twhile (cin >> n, n) {\n\t\tvector<int> b(n);\n\n\t\trep(i, n)cin >> b[i];\n\n\t\tint ans = solve(b);\n\t\tif (ans != -1)cout << ans << endl;\n\t\telse cout << -1 << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-9;\ntypedef vector<int> vi;\ntypedef long long ll;\ntypedef pair<int,int> pii;\nint N;\nint l,r;\nint b[20005];\nint sim()\n{\n  int times=0;\n  while(times<=10000)\n    {\n      bool clear=true;\n      int height=1;\n      for(int i=l;i<=r;i++)\n\t{\n\t  if(b[i]==0)\n\t    {\n\t      continue;\n\t    }\n\t  if(b[i]!=height)\n\t    {\n\t      clear=false;\n\t    }\n\t  height++;\n\t}\n      if(clear) break;\n      int tmp=0;\n      //cout << \"Before \" << l << ' ' << r << endl;\n      for(int i=l;i<=r;i++)\n\t{\n\t  //cout << b[i] << ' ';\n\t  if(b[i]>0)\n\t    {\n\t      b[i]--;\n\t      tmp++;\n\t    }\n\t}\n      //cout << endl;\n      for(int i=l;i<=r;i++)\n\t{\n\t  if(b[i]>0) \n\t    {\n\t      l=i;\n\t      break;\n\t    }\n\t}\n      if(b[r]>0)\n\t{\n\t  r++;\n\t  b[r]=tmp;\n\t}\n      else\n\t{\n\t  b[r]=tmp;\n\t}\n      //cout << \"After \" << l << ' ' << r << endl;\n      times++;\n      //cout << \"Turn \" << times << endl;\n    }\n  if(times>10000)\n    {\n      return -1;\n    }\n  else\n    {\n      return times;\n    }\n}\n\nint main(void)\n{\n  while(cin >> N && N)\n    {\n      int total=0,ans=0;\n      l=1,r=N;\n      memset(b,0,sizeof(b));\n      for(int i=1;i<=N;i++)\n\t{\n\t  cin >> b[i];\n\t  total+=b[i];\n\t}\n      bool can=false;\n      for(int i=1;i<=10000;i++)\n\t{\n\t  if(i*(i+1)/2==total) can=true;\n\t}\n      if(!can) \n\t{\n\t  cout << -1 << endl;\n\t  continue;\n\t}\n      else\n\t{\n\t  ans=sim();\n\t}\n      cout << ans << endl;\n    }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[1500];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i <= 10000; ++i){\n\n\n      \n      bool f = true;\n      for (int k = 0; k < 1500 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 1500 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<=10000){\n      cout << i << endl;\n    } else {\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n\nint main(){\n\t\n\tint n;\n\twhile(cin>>n,n){\n\t\t\n\t\tvector<int>V1;\n\t\tvector<int>V2;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint t;\n\t\t\tcin>>t;\n\t\t\tV1.push_back(t);\n\t\t}\n\t\t\n\t\tint cnt=0;\n\t\t\n\t\twhile(1){\n\t\t\tif(cnt>10000){\n\t\t\t\tcout<<-1<<endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(cnt%2){\n\t\t\t\tint f=1;\n\t\t\t\tfor(int i=0;i<V2.size();i++){\n\t\t\t\t\tif(i+1!=V2[i]){\n\t\t\t\t\t\tf=0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(f){\n\t\t\t\t\tcout<<cnt<<endl;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\t\n\t\t\t\tV1.clear();\n\t\t\t\tfor(int i=0;i<V2.size();i++){\n\t\t\t\t\tif(V2[i]>1){\n\t\t\t\t\t\tV1.push_back(V2[i]-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tV1.push_back(V2.size());\n\t\t\t}\n\t\t\telse{\n\t\t\t\t\n\t\t\t\tint f=1;\n\t\t\t\tfor(int i=0;i<V1.size();i++){\n\t\t\t\t\tif(i+1!=V1[i]){\n\t\t\t\t\t\tf=0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(f){\n\t\t\t\t\tcout<<cnt<<endl;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\t\n\t\t\t\tV2.clear();\n\t\t\t\tfor(int i=0;i<V1.size();i++){\n\t\t\t\t\tif(V1[i]>1){\n\t\t\t\t\t\tV2.push_back(V1[i]-1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tV2.push_back(V1.size());\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<799;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n#include <stack>\n#include <climits>\n#include <deque>\n#include <bitset>\n#include <cassert>\n#include <ctime>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int dy[]={-1,0,1,0},dx[]={0,1,0,-1};\n// adjust problem by problem\nconst double EPS=1e-8;\nconst double PI=acos(-1.0);\n#ifdef __GNUC__\nint popcount(int n){return __builtin_popcount(n);}\nint popcount(ll n){return __builtin_popcountll(n);}\n#endif\n#ifndef __GNUC__\ntemplate<class T> int popcount(T n){int cnt=0;while(n){if(n%2)cnt++;n/=2;}return cnt;}\n#endif\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\ntemplate<class T> void PrintSeq(T &a,int sz){for(int i=0;i<sz;i++){cout<<a[i];if(sz==i+1)cout<<endl;else cout<<' ';}}\nbool EQ(double a,double b){return abs(a-b)<EPS;}\nvoid fastStream(){cin.tie(0);std::ios_base::sync_with_stdio(0);}\nvector<string> split(string str,char del){\n  vector<string> res;\n  for(int i=0,s=0;i<SIZE(str);i++){\n    if(str[i]==del){if(i-s!=0)res.push_back(str.substr(s,i-s));s=i+1;}\n    else if(i==SIZE(str)-1){res.push_back(str.substr(s));}\n  }\n  return res;\n}\n\nint N;\nint bs[101];\nint main(){\n  while(cin>>N&&N){\n    int sum=0;\n    for(int i=0;i<N;i++){\n      cin>>bs[i];\n      sum+=bs[i];\n    }\n    bool ok=false;\n    int k=0;\n    for(k=1;k*(k+1)/2<=sum;k++){\n      if(k*(k+1)/2==sum){\n        ok=true;\n        break;\n      }\n    }\n    int sz=N;\n    if(!ok)cout<<-1<<endl;\n    else{\n      int iter=0;\n      for(iter=0;iter<10000;iter++){\n        ok=true;\n        // check\n        for(int i=0;i<k;i++)\n          if(bs[i]!=i+1)ok=false;\n        if(ok)break;\n        // remake\n        int cnt=0;\n        int val=0;\n        for(int i=0;i<sz;i++){\n          if(bs[i]==0)cnt++;\n          else{\n            bs[i]--;\n            val++;\n          }\n        }\n        int pos=0;\n        for(int i=0;i<sz;i++)\n          if(bs[i]!=0)bs[pos++]=bs[i];\n        bs[pos++]=val;\n        sz=pos;\n      }\n      if(iter==10000)cout<<-1<<endl;\n      else cout<<iter<<endl;\n    }\n  }\n  \n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cassert>\nusing namespace std;\n#define SMIN 3\n#define SMAX 5050\n#define MAX 100\nbool valid[SMAX+1];\n\nbool check(vector<int> v){\n  if ( v[0] != 1 ) return false;\n  for ( int i = 1; i < v.size(); i++ ){\n    if ( v[i-1]+1 != v[i] ) return false;\n  }\n  return true;\n}\n\nint simulate(vector<int> v, int sum){\n  if ( !valid[sum]) return -1;\n  int cnt = 0;\n  while(1){\n    if ( check(v) ) return cnt;\n    int r = v.size();\n    for ( int i = 0; i < v.size(); i++ ) v[i]--;\n    vector<int> nv;\n    for ( int i = 0; i < v.size(); i++ ) {\n      if ( v[i] ) nv.push_back(v[i]);\n    }\n    v = nv;\n    v.push_back(r);\n    cnt++;\n  }\n}\n\nmain(){\n  for ( int i = 0; i <= SMAX; i++ ) valid[i] = false;\n  int cur = 3, d = 3;\n  while( cur <= SMAX ){\n    valid[cur] = true;\n    cur += d;\n    d++;\n  }\n\n  int n;\n  while(1){\n    cin >> n;\n    if ( n == 0 ) break;\n    vector<int> v;\n    int x;\n    int sum = 0;\n    for ( int i = 0; i < n ;i++) {\n      cin >> x;\n      v.push_back(x);\n      sum += x;\n    }\n    int ans = simulate(v, sum);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing lint = long long;\nconst lint mod = 1e9 + 7;\n#define all(x) (x).begin(), (x).end()\n#define bitcount(n) __builtin_popcountll((lint)(n))\n#define fcout cout << fixed << setprecision(15)\n#define highest(x) (63 - __builtin_clzll(x))\n#define rep(i, n) for(int i = 0; i < n; i++)\nconst int inf9 = 1e9; const lint inf18 = 1e18;\ntemplate<class T> inline void YES(T condition){ if(condition) cout << \"YES\" << endl; else cout << \"NO\" << endl; }\ntemplate<class T> inline void Yes(T condition){ if(condition) cout << \"Yes\" << endl; else cout << \"No\" << endl; }\ntemplate<class T = string, class U = char>int character_count(T text, U character){ int ans = 0; for(U i: text){ ans += (i == character); } return ans; }\nlint power(lint base, lint exponent, lint module){ if(exponent % 2){ return power(base, exponent - 1, module) * base % module; }else if(exponent){ lint root_ans = power(base, exponent / 2, module); return root_ans * root_ans % module; }else{ return 1; }}\nstruct position{ double y, x; }; position mv[4] = {{0, -1}, {1, 0}, {0, 1}, {-1, 0}}; double euclidean(position first, position second){ return sqrt((second.x - first.x) * (second.x - first.x) + (second.y - first.y) * (second.y - first.y)); } double euclidean(double first, double second){ return sqrt(first * first + second * second); }\ntemplate<class T, class U> string to_string(pair<T, U> x){ return to_string(x.first) + \",\" + to_string(x.second); } string to_string(string x){ return x; }\ntemplate<class itr> void array_output(itr start, itr goal){ string ans; for(auto i = start; i != goal; i++) ans += to_string(*i) + \",\"; if(!ans.empty()) ans.pop_back(); cout << ans << endl; }\ntemplate<class itr> void cins(itr first, itr last){ for(auto i = first; i != last; i++){ cin >> (*i); } }\ntemplate<class T> T gcd(T a, T b){ if(a && b){ return gcd(min(a, b), max(a, b) % min(a, b)); }else{ return a; }} template<class T> T lcm(T a, T b){ return a / gcd(a, b) * b; }\nstruct combination{ vector<lint> fact, inv; combination(int sz) : fact(sz + 1), inv(sz + 1){ fact[0] = 1; for(int i = 1; i <= sz; i++){ fact[i] = fact[i - 1] * i % mod; } inv[sz] = power(fact[sz], mod - 2, mod); for(int i = sz - 1; i >= 0; i--){ inv[i] = inv[i + 1] * (i + 1) % mod; } } lint P(int n, int r){ if(r < 0 || n < r) return 0; return (fact[n] * inv[n - r] % mod); } lint C(int p, int q){ if(q < 0 || p < q) return 0; return (fact[p] * inv[q] % mod * inv[p - q] % mod); } };\ntemplate<class itr> bool next_sequence(itr first, itr last, int max_bound){ itr now = last; while(now != first){ now--; (*now)++; if((*now) == max_bound){ (*now) = 0; }else{ return true; } } return false; }\ntemplate<class itr, class itr2> bool next_sequence2(itr first, itr last, itr2 first2, itr2 last2){ itr now = last; itr2 now2 = last2; while(now != first){ now--, now2--; (*now)++; if((*now) == (*now2)){ (*now) = 0; }else{ return true; } } return false; }\ninline int at(lint i, int j){ return (i >> j) & 1; }\n\nvoid testcase(){\n    int N;\n    cin >> N;\n    if(N == 0){\n        exit(0);\n    }\n    vector<int> block(N);\n    cins(all(block));\n    int sum = accumulate(all(block), 0);\n    int height = -1;\n    for(int i = 0; i < 10000; i++){\n        if(i * (i + 1) / 2 == sum){\n            height = i;\n            break;\n        }\n    }\n    if(height == -1){\n        cout << -1 << endl;\n        return;\n    }\n    for(int i = 0; i <= 10000; i++){\n        if(height != block.size()){\n            goto pass;\n        }\n        for(int j = 0; j < height; j++){\n            if(block[j] != j + 1){\n                goto pass;\n            }\n        }\n        cout << i << endl;\n        return;\n    pass:\n        int right = int(block.size());\n        vector<int> new_block;\n        for(int j: block){\n            if(j >= 2){\n                new_block.push_back(j - 1);\n            }\n        }\n        new_block.push_back(right);\n        block = new_block;\n    }\n    cout << -1 << endl;\n}\n\nint main(){\n    while(true) testcase();\n}\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "6\n1 4 1 3 2 4\n5\n1 2 3 4 5\n10\n1 1 1 1 1 1 1 1 1 1\n9\n1 1 1 1 1 1 1 1 1\n12\n1 4 1 3 2 4 3 3 2 1 2 2\n1\n5050\n3\n10000 10000 100\n0"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\ntemplate<typename T>\nbool SuffixErase(T &v,size_t suf){\n  if(suf > v.size()) return false;\n  for(auto it = v.begin(); it != v.end();){\n    if(distance(v.begin(),it) == suf){\n      v.erase(it);\n      return true;\n    }\n    else{\n      ++it;\n    }\n  }\n  return false;\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nbool check(vector<ll> v){\n  ll n = 1;\n  bool f = false;\n  rep(i,v.size()){\n    if(!f){\n      if(v[i] == n){\n        f = true;\n        ++n;\n      }\n      else if(v[i] != 0){\n        return false;\n      }\n    }\n    else if(f){\n      if(v[i] != n){\n        return false;\n      }\n      ++n;\n    }\n  }\n  return f;\n}\n\n\nbool tnum[1000000];\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  rep(i,1000){\n    tnum[i * (i+1)/2] = true;\n  }\n  while(cin >> n && n){\n    vector<ll> v(n),v2;\n    ll sum = 0;\n    bool f = false;\n    rep(i,n){\n      cin >> v[i];\n      sum += v[i];\n    }\n    if(tnum[sum]){\n      rep(l,10000){\n        if(check(v)){\n          cout << l << endl;\n          f = true;\n          break;\n        }\n        ll num = 0;\n        rep(i,v.size()){\n          if(v[i]){\n            --v[i];\n            ++num;\n          }\n        }\n        v2.clear();\n        v2.push_back(num);\n        for(int i = v.size()-1; i >= 0 ; --i){\n          if(v[i]){\n            v2.push_back(v[i]);\n          }\n        }\n        reverse(all(v2));\n        v.clear();\n        v = v2;\n      }\n    }\n    if(!f)\n      cout << -1<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) range(i,0,b)\n#define pb(a) push_back(a)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nusing namespace std;\n\nbool check(vector<int> &b){\n    vector<int>::iterator it;\n    int i = 1;\n    for(it = b.begin(); it != b.end(); it++){\n        if(*it != i){\n            return false;\n        }\n        i++;\n    }\n    return true;\n}\n\nint main(){\n    int n;\n    while(cin >> n,n){\n        int i = 0;\n        bool c;\n        vector<int> b;\n        vector<int>::iterator it;\n        rep(i,n){\n            int inp;\n            cin >> inp;\n            b.pb(inp);\n        }\n        for(i = 0; i <= 10000; i++){\n            b.pb(b.size() + 1);\n            for(it = b.begin(); it != b.end(); it++) *it = *it - 1;\n            for(it = b.begin(); it != b.end(); it++){\n                if(*it == 0){\n                    b.erase(it);\n                    *it--;\n                }\n            }\n            if(check(b)) break;\n        }\n        if(!i) i = -1;\n        if(i == 10001) cout << -1 << endl;\n        else cout << i + 1 << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nbool finished(const vector<int> &v){\n  if(v[0] != 1) return false;\n  int n = v.size();\n\n  for(int i = 1; i < n; i++){\n    if(v[i] - 1 != v[i - 1]){\n      return false;\n    }\n  }\n  return true;\n}\n\nint main(){\n  int n;\n\n  while(cin >> n, n){\n    vector<int> v;\n\n    for(int i = 0; i < n; i++){\n      int x;\n      cin >> x;\n      v.push_back(x);\n    }\n\n    int ans = 0;\n\n    while(!finished(v)){\n      vector<int> nv;\n      int size = v.size();\n\n      for(int i = 0; i < size; i++){\n        if(v[i] > 1){\n          nv.push_back(v[i] - 1);\n        }\n      }\n      v = nv;\n      v.push_back(size);\n      ans++;\n      if(ans > 10000){\n        break;\n      }\n    }\n\n    cout << (ans > 10000 ? -1 : ans) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main(){\n\tint n;\n\twhile(cin >> n,n){\n\t\tint a[20000] = {},wid = n;\n\t\tbool flag = false;\n\t\tfor(int i = 0;i < n;i++) cin >> a[i];\n\t\tfor(int i = 0;i <= 10000;i++){\n\t\t\tbool f = true;\n\t\t\tfor(int j = 0;j < wid;j++) if(a[j] != j + 1) f = false;\n\t\t\tif(f){\n\t\t\t\tflag = true;\n\t\t\t\tcout << i << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint prev = 0;\n\t\t\ta[wid] = wid;\n\t\t\tfor(int j = 0;j < wid;j++) a[j]--;\n\t\t\tfor(int j = 0;j <= wid;j++){\n\t\t\t\tif(a[j]) a[prev++] = a[j];\n\t\t\t}\n\t\t\twid = prev;\n\t\t}\n\t\tif(!flag) cout << -1 << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nbool check(vector<int>&B){\n    for(int i = 0; i < B.size(); i++){\n        if(B[i] != i + 1)return 0;\n    }\n    return 1;\n}\nint main(){\n\tint n;\n\tvector<int> T;\n\tfor(int i = 0; i < 200; i++)T.push_back(i*(i+1)/2);\n\twhile(cin >> n,n){\n\t    vector<int> B;\n\t    int cnt = 0;\n\t    int temp;\n        for(int i = 0; i < n; i++){\n            cin >> temp;\n            cnt += temp;\n            B.push_back(temp);\n        }\n        int ans = -1;\n        if(binary_search(T.begin(),T.end(),cnt)){\n            for(n=0;n <= 10000;n++){\n                if(check(B)){\n                    ans = n;\n                    break;\n                }\n                else{\n                    int a = B.size();\n                    for(int i = 0; i < a; i++){\n                        B[i]--;\n                    }\n                    B.erase(remove(B.begin(),B.end(),0),B.end());\n                    B.push_back(a);\n                }\n            }\n        }\n        cout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\nint n, b[1000000], bb[1000000];\n\nint main() {\n  while (true) {\n    cin >> n;\n    if (n == 0) break;\n    rep (i, n) cin >> b[i];\n    rep (i, 10001) {\n      bool f = true;\n      rep (j, n) if (b[j] != j + 1) {\n\tf = false;\n\tbreak;\n      }\n      if (f) {\n\tcout << i << endl;\n\tgoto next;\n      }\n      rep (j, n) --b[j];\n      b[n] = n;\n      int k = 0;\n      rep (j, n + 1) if (b[j] > 0) bb[k++] = b[j];\n      n = k;\n      rep (j, n) b[j] = bb[j];\n    }\n    cout << -1 << endl;\n  next:;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n, V, a[100000];\nbool query0() {\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] == 0) { return true; }\n\t\tif (a[i] != i) { return false; }\n\t}\n\treturn true;\n}\nvoid query1() {\n\tfor (int i = V; i >= 2; i--) {\n\t\tif (a[i] == 0) { V--; a[i] = a[i + 1]; a[i + 1] = 0; }\n\t}\n}\nvoid query2() {\n\tfor (int i = 1; i <= V; i++) {\n\t\ta[i]--;\n\t}\n\ta[V + 1] = V;\n\tV++;\n}\nint main() {\n\twhile (true) {\n\t\tcin >> n; V = n;\n\t\tif (n == 0) { break; }\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint cnt = 0;\n\t\twhile (true) {\n\t\t\tbool ok = query0();\n\t\t\tif (ok == true) { cout << cnt << endl; break; }\n\t\t\tquery1(); query2();\n\t\t\tcnt++;\n\t\t\tif (cnt > 10000) { cout << \"NA\" << endl; return 0; }\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n\n  int n;\n\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    vector<int> a;\n    int temp;\n    for(int i = 0;i < n;++i){\n      cin >> temp;\n      a.push_back(temp);\n    }\n\n    int i;\n    for(i = 0;i < 10001;++i){\n      // 三角形がどうか調べる\n      bool flag = true;\n      for(int j = 0;j < a.size() && flag;++j){\n\tif(a[j] != j + 1){\n\t  flag = false;\n\t}\n      }\n      // 三角形ができた\n      if(flag){\n\tcout << i << endl;\n\tbreak;\n      }\n      // 最下段ぶんを引く\n      for(int j = 0;j < a.size();++j){\n\t--a[j];\n      }\n      a.push_back(a.size());\n      // 最下段を最左行へ\n      for(int j = 0;j < a.size();++j){\n\tif(a[j] == 0){\n\t  a.erase(a.begin() + j);\n\t  --j;\n\t}\n      }\n    }\n    if(i == 10001){\n      cout << \"-1\" << endl;\n    }\n  }\n\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <map>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n\nusing namespace std;\n\nbool check(vector<int> ret)\n{\n\tbool flag = true;\n\tREP(i,1,ret.size()+1)\n\t{\n\t\tif(i != ret[i-1]) \n\t\t{\n\t\t\tflag = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn flag;\n}\n\nint main()\n{\n\tmap<int,int> m;\n\n\tint t = 1;\n\twhile(true)\n\t{\n\t\tif((t*(t+1))/2 > 100*10000) break;\n\t\telse\n\t\t{\n\t\t\tm[(t*(t+1))/2]++;\n\t\t\tt++;\n\t\t}\n\t}\n\n\n\tint n;\n\twhile(cin >> n && n)\n\t{\n\t\tint ret = 0;\n\t\tvector<int> v;\n\t\tv.resize(n);\n\n\t\trep(i,n)\n\t\t{\n\t\t\tcin >> v[i];\n\t\t\tret += v[i];\n\t\t}\n\n\t\tif(m[ret] != 1) cout << -1 << endl;\n\t\telse\n\t\t{\n\t\t\tbool flag = true;\n\n\t\t\trep(i,10000)\n\t\t\t{\n\t\t\t\tif(check(v)) \n\t\t\t\t{\n\t\t\t\t\tcout << i << endl;\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\trep(i,v.size()) v[i] -= 1;\n\t\t\t\tv.push_back((int)v.size());\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t}\n\n\t\t\tif(flag) cout << -1 << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n  vector<int> b;\n  int n;\n\n  while(1){\n    cin >> n;\n    if(n==0) break;\n    b.resize(n);\n    for(int i=0;i<n;i++) cin >> b[i];\n    int id;\n    for(id=0;id<=10000;id++){\n      bool f=1;\n      if(b[0] == 1){\n\tf=0;\n\tfor(int i=0;i<b.size()-1;i++)\n\t  if(b[i]+1 != b[i+1]) f=1;\n      }\n      if(f==0) break; \n      b.push_back(b.size());\n      for(int i=0;i<b.size()-1;i++){\n\tb[i]--;\n\tif(b[i] == 0){\n\t  b.erase(b.begin()+i);\n\t  i--;\n\t}\n      }\n    }\n    if(id<=10000) cout << id<< endl;\n    else cout << -1<< endl;\n  }\n  return 0;\n} \n    "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main() {\n\tvector<int> data(100);\n\tfor (int i = 0; i < 100; i++) {\n\t\tdata[i] = (i+1)*(i+2)/2;\n\t}\n\tint n;\n\twhile (cin >> n) {\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> q(n);\n\t\tint sum = 0;\n\t\tint a;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> q[i];\n\t\t\tsum += q[i];\n\t\t}\n\t\tbool hantei = false;\n\t\tfor (int i = 0; i < 100; i++) {\n\t\t\tif (sum == data[i]) {\n\t\t\t\thantei = true;\n\t\t\t\tbreak;\n\t\t\t} else if (sum < data[i]) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!hantei) {\n\t\t\tcout << -1 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\thantei = true;\n\t\tif (data[0] != 1) {\n\t\t\thantei = false;\n\t\t}\n\t\tif (hantei) {\n\t\t\tfor (int i = 1; i < n; i++) {\n\t\t\t\tif (data[i] != data[i-1]+1) {\n\t\t\t\t\thantei = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (hantei) {\n\t\t\tint counter = 0;\n\t\t\tvector<int> data2;\n\t\t\tfor (int j = 1; j < 10002; j++) {\n\t\t\t\tif (j == 10001) {\n\t\t\t\t\tcout << -1 << endl;\n\t\t\t\t}\n\t\t\t\tcounter = 0;\n\t\t\t\tfor (int i = 0; i < data.size(); i++) {\n\t\t\t\t\tdata[i]--;\n\t\t\t\t\tif (data[i] > 0) {\n\t\t\t\t\t\tdata2.push_back(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t\tdata2.push_back(counter);\n\t\t\t\tbool hantei2 = true;\n\t\t\t\tif (data2[0] != 1) {\n\t\t\t\t\thantei2 = false;\n\t\t\t\t}\n\t\t\t\tif (hantei2) {\n\t\t\t\t\tfor (int i = 1; i < data2.size(); i++) {\n\t\t\t\t\t\tif (data2[i] != data2[i-1]+1) {\n\t\t\t\t\t\t\thantei2 = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (hantei2) {\n\t\t\t\t\t\tcout << j << endl;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata = data2;\n\t\t\t\tdata2.clear();\n\t\t\t}\n\t\t} else {\n\t\t\tcout << 0 << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <math.h>\n#include <map>\n#include <time.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll, ll> P;\n\n#define pb push_back\n#define rep(i, a, n) for(int i = (a); i < (n); i++)\n#define dep(i, a, n) for(int i = (a); i >= (n); i--)\n#define mod (ll)(1e9+7)\n#define int ll\n\n__attribute__((constructor))\nvoid initial() {\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n}\n\nsigned main() {\n  int n;\n  while(cin >> n && n) {\n    int sum = 0;\n    int b[500000] = {};\n    rep(i, 0, n) cin >> b[i], sum += b[i];\n    bool flg = false;\n    rep(i, 1, 100000) {\n      int calc = (i * (i + 1)) / 2;\n      if(calc == sum) {\n        flg = true;\n        break;\n      }\n      if(calc > sum) break;\n    }\n    if(!flg) {\n      cout << -1 << endl;\n      continue;\n    }\n    bool success = false;\n    int z = n + 1;\n    rep(i, 0, 10000) {\n      int nxt = 1;\n      success = true;\n      rep(j, 0, z) {\n        if(b[j]) {\n          if(b[j] == nxt) nxt++;\n          else success = false;\n        }\n      }\n      if(success) {\n        cout << i << endl;\n        break;\n      }\n      int b_sum = 0;\n      int kix = 0;\n      rep(j, 0, z) {\n        if(b[j] > 0) {\n          b[j]--;\n          b_sum++;\n          if(b[j] > 0) {\n            b[kix] = b[j];\n            kix++;\n          }\n        }\n      }\n      rep(j, kix, z) b[j] = 0;\n      b[kix] = b_sum;\n      z = kix + 1;\n    }\n    if(!success) {\n      cout << -1 << endl;\n    }\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n#include<vector>\n#include<algorithm>\n#include<iostream>\n\nusing namespace std;\n\nint main() {\n  int i, j;\n\n  int n;\n  while(cin >> n && n) {\n    vector<int> a;\n    a.reserve(1000000);\n\n    int sm = 0;\n    for(i = 0; i < n; ++i) {\n      int p;\n      cin >> p;\n      a.push_back(p);\n      sm += p;\n    }\n\n    sm *= 2;\n    for(i = 1; i * (i + 1) < sm; ++i) ;\n    if(i * (i + 1) > sm) {\n      cout << -1 << endl;\n      continue;\n    }\n\n    for(i = 0; i <= 10000; ++i) {\n      for(j = 0; j < (int)a.size() && a[j] == j + 1; ++j) ;\n      if(j >= (int)a.size()) break;\n\n      for(j = 0; j < (int)a.size(); ++j)\n        --a[j];\n      a.push_back(a.size());\n      a.erase(remove(a.begin(), a.end(), 0), a.end());\n    }\n\n    cout << (i > 10000 ? -1 : i) << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\nusing llong = long long;\n\nllong n;\nllong a[205];\n\nbool isTriangle(llong a[]) {\n\tllong len = 200;\n\twhile (a[len] == 0) len--;\n\t\n\tfor (int i = 1; i <= len; i++) {\n\t\tif (a[i] - a[i - 1] != 1) return false;\n\t}\n\t\n\treturn (a[0] == 1);\n}\n\nint main() {\n\tcin >> n;\n\twhile (n > 0) {\n\t\tfor (int i = 0; i < 105; i++) a[i] = 0;\n\t\t\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\t\n\t\tint cnt = 0;\n\t\twhile (1) {\n\t\t\tif (isTriangle(a)) break;\n\t\t\tif (cnt > 10000) break;\n\t\t\t\n\t\t\tllong len = 200;\n\t\t\twhile (a[len] == 0 && len >= 0) len--;\n\n\t\t\tfor (int i = 0; i <= len; i++) {\n\t\t\t\ta[i]--;\n\t\t\t}\n\t\t\tfor (int i = 0; i <= len; i++) {\n\t\t\t\tif (a[i] == 0) {\n\t\t\t\t\tfor (int j = i; j <= len; j++) {\n\t\t\t\t\t\tif (a[j] != 0) { swap(a[i], a[j]); break; }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tllong ins = 200;\n\t\t\twhile (ins >= 0 && a[ins] == 0) ins--;\n\t\t\ta[ins + 1] = len + 1;\n\t\t\t\n\t\t\tcnt++;\n\t\t}\n\t\t\n\t\tif (cnt > 10000) cout << -1 << endl;\n\t\telse cout << cnt << endl;\n\t\t\n\t\tcin >> n;\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\nconst int MAX = 1e4;\n\nint n;\nvector<int> v,array;\nint tri[MAX+1];\n\nvoid init(){\n  int t = 1;\n  tri[0] = 0;\n  for(int i = 1 ; i <= MAX ; i++){\n    tri[i] = tri[i-1] + t;\n    t++;\n  }\n}\n\nbool check(){\n  int len = array.size();\n  for(int i = 0 ; i < len ; i++){\n    if(array[i] != i+1) return false;\n  }\n  return true;\n}\n\nvoid judge(){\n  int LIMIT = MAX,cnt = 0;\n  bool possible = false;\n\n  while(LIMIT--){\n    if(check()){\n      break;\n    }\n    \n    int s = 0, len = array.size();\n    for(int i = 0 ; i < len ; i++){\n      if(array[i]){\n\tarray[i]--;\n\ts++; \n      }\n    }\n    array.push_back(s);\n    for(int i = 0 ; i < len ; i++){\n      if(!array[i]){\n\tarray.erase(array.begin() + i);\n\n      }\n    }\n\n    ++cnt;\n  }\n  if(check()) possible = true;\n  if(possible) cout << cnt << endl;\n  else cout << \"-1\" << endl;\n}\n\nint main(){ \n  init(); \n  while(cin >> n ,n){\n    int in,sum = 0;\n    array.clear();\n    for(int i = 0 ; i < n ; i++){\n      cin >> in;\n      sum += in;\n      array.push_back(in);\n    }\n\n    bool flg = false;\n    for(int i = 1 ; i <= MAX ; i++){\n      if(tri[i] == sum){\n\tflg = true;\n\tbreak;\n      } \n    }\n\n    if(!flg){\n      cout << \"-1\" << endl;\n    }\n    else{\n      judge();\n    }\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint main(void){\n    int n;\n    int a[20000]={0};\n    while(cin>>n&&n){\n\n        for(int i=0;i<n;i++){\n            cin>>a[i];\n        }\n        int k=0,m=n;\n        while(1){\n            //cout<<\"---\"<<k<<endl;\n            bool flg=0;\n            for(int i=0,j=1;i<m;i++){\n                //cout<<\"a[\"<<i<<\"]=\"<<a[i]<<\"  j=\"<<j<<endl;\n                if(a[i]!=0&&a[i]!=j){\n                    flg=1;\n                    break;\n                }\n                else if(a[i]==j)j++;\n            }\n            if(k==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int i=0;i<m;i++){\n                if(a[i])a[i]--,a[m]++;\n\n            }\n\n            if(!flg){\n                cout<<k<<endl;\n                break;\n            }\n            k++,m++;\n        }\n        memset(a,0,20000);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  while(cin>>n, n){\n    vector<int> v;\n    for(int i=0;i<n;++i){\n      int x;\n      cin>>x; v.push_back(x);\n    }\n    int ans=0,cnt;\n    int t=1;\n    for(int i=0;i<v.size();++i){\n      if(v[i]){\n        if(v[i]==t) ++t;\n        else break;\n      }\n    }\n    if(t-1==v.size()){\n      cout<<0<<endl;\n      return 0;\n    }\n    while(1){\n      cnt=0;\n      ans++;\n      if(ans>10000){\n        ans=-1;\n        break;\n      }\n    \n      for(int i=0;i<v.size();++i){\n        if(v[i]){\n          v[i]--; cnt++;\n        }\n      }\n      v.push_back(cnt);\n      int a=1, b;\n      for(int j=0;j<v.size();++j){\n        if(v[j]){\n          if(v[j]==a) ++a;\n          else{\n            break;\n          }\n        }\n        b=j+1;\n      }\n      if(b==v.size()) break;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1)for(int k=j+1;k<=co&&num[j]==1;k++)if(num[k]!=1)swap(num[j],num[k]);\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[1000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            for(int j=0;j<co;j++)num[j]-=1;\n            num[co]=co;\n            for(int j=0;j<=co;j++){\n                if(num[j]==0){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=0){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile(1)\n\t{\n\t\tcin >> n;\n\t\tif(!n) return 0;\n\t\tint x[105];\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tcin >> x[i];\n\t\t}\n\t\tint res = -1;\n\t\tfor(int i=0;i<=10000;i++)\n\t\t{\n\t\t\tfor(int j=0;j<n;j++) if(x[j] != j+1) goto nxt;\n\t\t\tres = i; break; nxt:;\n\t\t\tint cur = 0;\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t{\n\t\t\t\tif(x[j] > 1)\n\t\t\t\t{\n\t\t\t\t\tx[cur] = x[j]-1;\n\t\t\t\t\tcur++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tx[cur] = n;\n\t\t\tn = cur+1;\n\t\t}\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <bitset>\n#include <cassert>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <ctime>\n#include <deque>\n#include <fstream>\n#include <iomanip>\n#include <iostream>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <valarray>\n#include <vector>\n\n#define EPS 1e-9\n#define INF 1070000000LL\n#define MOD 1000000007LL\n#define fir first\n#define foreach(it,X) for(__typeof((X).begin()) it=(X).begin();it!=(X).end();it++)\n#define ite iterator\n#define mp make_pair\n#define rep(i,n) rep2(i,0,n)\n#define rep2(i,m,n) for(int i=m;i<(n);i++)\n#define pb push_back\n#define sec second\n#define sz(x) ((int)x.size())\n\nusing namespace std;\n\nstruct timer{\n\ttime_t start;\n\ttimer(){start=clock();}\n\t~timer(){cerr<<1.*(clock()-start)/CLOCKS_PER_SEC<<\" secs\"<<endl;}\n};\n\ntypedef istringstream iss;\ntypedef long long ll;\ntypedef pair<int,int> pi;\ntypedef stringstream sst;\ntypedef vector<int> vi;\n\nint N;\n\nint main(){\n\tcin.tie(0);\n\tios_base::sync_with_stdio(0);\n\t\n\twhile(cin>>N && N){\n\t\tvi b,nb;\n\t\trep(i,N){\n\t\t\tint x;\n\t\t\tcin>>x;\n\t\t\tb.pb(x);\n\t\t}\n\t\tint turn=0,ans=-1;\n\t\twhile(turn<=10000){\n\t\t\tint ok=1;\n\t\t\trep(i,sz(b))if(b[i]!=i+1){\n\t\t\t\tok=0;break;\n\t\t\t}\n\t\t\tif(ok){\n\t\t\t\tans=turn;break;\n\t\t\t}\n\t\t\tnb.clear();\n\t\t\trep(i,sz(b))if(b[i]>1){\n\t\t\t\tnb.pb(b[i]-1);\n\t\t\t}\n\t\t\tnb.pb(sz(b));\n\t\t\tb=nb;\n\t\t\tturn++;\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#include <cmath>\n#include <list>\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\n#include <cstdio>\ninline int getInt(){ int s; scanf(\"%d\", &s); return s; }\n\n#include <set>\nusing namespace std;\n\nbool check(const list<int> &lst){\n  vector<int> v(lst.begin(), lst.end());\n  REP(i,v.size()) if(i + 1 != v[i]) return false;\n  return true;\n}\n\nint main(){\n  while(const int n = getInt()){\n    list<int> v;\n    REP(i,n) v.push_back(getInt());\n\n    if(check(v)){\n      puts(\"0\");\n      continue;\n    }\n    REP(i,10000){\n      int cnt = 0;\n\n      for(list<int>::iterator it = v.begin();\n          it != v.end();){\n        cnt++;\n\n        if(*it == 1){\n          it = v.erase(it);\n        }else{\n          --*it++;\n        }\n      }\n\n      v.push_back(cnt);\n\n      if(check(v)){\n        printf(\"%d\\n\", i + 1);\n        goto end;\n      }\n    }\n    puts(\"-1\");\n  end:;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <array>\n#include <list>\n#include <string>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <map>\n#include <unordered_map>\n#include <set>\n#include <unordered_set>\n#include <tuple>\n#include <bitset>\n#include <memory>\n#include <cmath>\n#include <algorithm>\n#include <functional>\n#include <iomanip>\n#include <numeric>\n#include <climits>\n#include <cfloat>\n#include <cassert>\n#include <random>\nint min_count(std::vector<int> blocks) {\n\tconst auto sum = std::accumulate(blocks.begin(), blocks.end(), 0);\n\tconst auto sqrt = static_cast<int>(std::sqrt(sum * 2));\n\tif (sqrt * (sqrt + 1) / 2 != sum) return -1;\n\tfor (auto times = 0; times <= 10000; ++times) {\n\t\tif (blocks.size() == sqrt) {\n\t\t\tbool is_triangle = true;\n\t\t\tfor (auto i = 0; i < blocks.size(); ++i) {\n\t\t\t\tif (blocks[i] != i + 1) {\n\t\t\t\t\tis_triangle = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (is_triangle) return times;\n\t\t}\n\t\tconst auto size = blocks.size();\n\t\tfor (auto& b : blocks) --b;\n\t\tblocks.erase(std::remove(blocks.begin(), blocks.end(), 0), blocks.end());\n\t\tblocks.push_back(size);\n\t}\n\treturn -1;\n}\nint main() {\n\twhile (true) {\n\t\tint n; std::cin >> n; if (n == 0) break;\n\t\tstd::vector<int> blocks(n); for (auto& b : blocks) std::cin >> b;\n\t\tstd::cout << min_count(blocks) << '\\n';\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) range(i,0,b)\n#define pb(a) push_back(a)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n,n){\n        int i = 0;\n        bool c;\n        vector<int> b;\n        vector<int>::iterator it;\n        rep(i,n){\n            int inp;\n            cin >> inp;\n            b.pb(inp);\n        }\n        for(i = 0; i < 10000; i++){\n            b.pb(b.size() + 1);\n            for(it = b.begin(); it != b.end(); it++) *it = *it - 1;\n            for(it = b.begin(); it != b.end(); it++){\n                if(*it == 0){\n                    b.erase(it);\n                    *it--;\n                }\n            }\n            int j = 1;\n            c = true;\n            for(it = b.begin(); it != b.end(); it++){\n                if(*it != j){\n                    c = false;\n                    break;\n                }\n                j++;\n            }\n            if(c) break;\n        }\n        if(!i) i = -1;\n        if(c) cout << i + 1 << endl;\n        else cout << -1 << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n\nusing namespace std;\n\nint main()\n{\n\tint n;\n\tint d[1500];\n\tint e[1500];\n\t\n\twhile (scanf(\"%d\", &n) && n){\n\t\t\n\t\tmemset(d, -1, sizeof(d));\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &d[i]);\n\t\t}\n\t\t\n\t\tint ct = 0;\n\t\twhile (ct <= 10000){\n\t\t\tbool flag = true;\n\t\t\tfor (int i = 0; i < 1500; i++){\n\t\t\t\tif (~d[i] && d[i] != i + 1){\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (flag == true){\n\t\t\t\tprintf(\"%d\\n\", ct);\n\t\t\t\tgoto end;\n\t\t\t}\n\t\t\t\n\t\t\tint nxt = 0;\n\t\t\tfor (int i = 0; i < 1500; i++){\n\t\t\t\tif (~d[i]){\n\t\t\t\t\td[i]--;\n\t\t\t\t\tnxt++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint idx = 0;\n\t\t\tint ok = 1;\n\t\t\tmemset(e, -1, sizeof(e));\n\t\t\tfor (int i = 0; i < 1500; i++){\n\t\t\t\tif (d[i] > 0){\n\t\t\t\t\te[idx++] = d[i];\n\t\t\t\t\tok = 1;\n\t\t\t\t}\n\t\t\t\telse if (d[i] == 0){\n\t\t\t\t\tok = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\te[idx] = nxt;\n\t\t\t\n\t\t\tfor (int i = 0; i < 1500; i++){\n\t\t\t\td[i] = e[i];\n\t\t\t}\n\t\t\tct++;\n\t\t}\n\t\t\n\t\tprintf(\"-1\\n\");\n\t\tend:;\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint n;\nint b[100000];\n\nbool IsTriNum() {\n    if ( b[0] != 1 ) return false;\n    for ( int i=1; i<n; ++i ) {\n\tif ( b[i] != b[i-1]+1 ) return false;\n    }\n    return true;\n}\n\nint main() {\n\n    while ( cin >> n && n != 0 ) {\n\n\tfor ( int i=0; i<n; ++i ) cin >> b[i];\n\n\tint cnt = 0;\n\twhile ( !IsTriNum() && cnt <= 10000 ) {\n\t\n\t    int new_column = 0;\n\t    for ( int i=0; i<n; ++i ) {\n\t\tif ( b[i] >= 1 ) {\n\t\t    --b[i];\n\t\t    ++new_column;\n\t\t}\n\t    }\n\n\t    //0の列の分はつめる\n\t    int m = 0, k = 0;\n\t    for ( int i=0; i<n; ++i ) {\n\n\t\twhile ( b[k] == 0 && k < n ) ++k;\n\n\t\tif ( k == n ) break;\n\t\telse {\n\t\t    b[i] = b[k];\n\t\t    ++m;\n\t\t    ++k;\n\t\t}\n\t    }\n\n\t    b[m] = new_column;\n\n\t    n = m + 1;\n\t    ++cnt;\n\t}\n\n\tif ( cnt > 10000 ) cout << -1 << endl;\n\telse cout << cnt << endl;\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <list>\n#include <algorithm>\nusing namespace std;\n\nint\nmain (\n  int   argc,\n  char *argv[ ]\n  )\n{\n  list<int>::iterator it;\n  int i;\n\n  for ( ; ; )\n  {\n    list<int> lis;\n    int c;\n    int n;\n\n    scanf ( \"%d\", &n );\n    if ( n == 0 ) break ;\n    for ( i = 0; i < n; ++i )\n    {\n      int d;\n\n      scanf ( \"%d\", &d );\n      lis.push_back ( d );\n    }\n\n    for ( c = 0; c <= 10000; ++c )\n    {\n      for ( i = 1, it = lis.begin ( ); it != lis.end ( ); ++i, ++it )\n        if ( *it != i ) break ;\n      if ( it == lis.end ( ) ) break ;\n\n      lis.push_back ( lis.size ( ) + 1 );\n      for ( it = lis.begin ( ); it != lis.end (); ++it )\n        --( *it );\n      lis.remove ( 0 );\n    }\n    printf ( \"%d\\n\", c <= 10000 ? c : -1 );\n  }\n\n  return ( EXIT_SUCCESS );\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int MAX = 1e4;\n \nint n;\nvector<int> v,array;\nint tri[MAX+1];\n \nvoid init(){\n    int t = 1;\n    tri[0] = 0;\n    for(int i = 1 ; i <= MAX ; i++){\n\ttri[i] = tri[i-1] + t;\n\tt++;\n    }\n}\n \nbool check(){\n    int len = array.size();\n    for(int i = 0 ; i < len ; i++){\n\tif(array[i] != i+1) return false;\n    }\n    return true;\n}\n \nvoid judge(){\n    int LIMIT = MAX,cnt = 0;\n    bool possible = false;\n \n    while(LIMIT--){\n\tif(check()){\n\t    break;\n\t}\n     \n\tint s = 0, len = array.size();\n\tfor(int i = 0 ; i < len ; i++){\n\t    if(array[i]){\n\t\tarray[i]--;\n\t\ts++; \n\t    }\n\t}\n\tarray.push_back(s);\n\tfor(int i = 0 ; i < len ; i++){\n\t    if(!array[i]){\n\t\tarray.erase(array.begin() + i);\n \n\t    }\n\t}\n \n\t++cnt;\n    }\n    if(check()) possible = true;\n    if(possible) cout << cnt << endl;\n    else cout << \"-1\" << endl;\n}\n \nint main(){ \n    init(); \n    while(cin >> n ,n){\n\tint in,sum = 0;\n\tarray.clear();\n\tfor(int i = 0 ; i < n ; i++){\n\t    cin >> in;\n\t    sum += in;\n\t    array.push_back(in);\n\t}\n \n\tbool flg = false;\n\tfor(int i = 1 ; i <= MAX ; i++){\n\t    if(tri[i] == sum){\n\t\tflg = true;\n\t\tbreak;\n\t    } \n\t}\n \n\tif(!flg){\n\t    cout << \"-1\" << endl;\n\t}\n\telse{\n\t    judge();\n\t}\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nbool judge(int x);\nint data[12800];\nint n;\nint main(){\n\twhile(scanf(\"%d\",&n),n){\n\t\tmemset(data,0,sizeof(data));\n\t\tint x = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t\tx += data[i];\n\t\t}\n\t\t/*TriangleJudge*/\n\t\tbool w = false;\n\t\tfor(int i = 2;;i++){\n\t\t\tif(i*(i+1)/2 == x)break;\n\t\t\tif(i*(i+1)/2 > x){\n\t\t\t\tputs(\"-1\");\n\t\t\t\tw = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(w)continue;\n\t\treverse(data,data+n);\n\t\tbool q = judge(n);\n\t\tif(q){\n\t\t\tputs(\"0\");\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tint cnt = 0;\n\t\tint len = n;\n\t\twhile(1){\n\t\t\t/*ずらす*/\n\t\t\tbool check[12800]={0};\n\t\t\tfor(int i = 0;i < len; i++){\n\t\t\t\tdata[i]--;\n\t\t\t}\n\t\t\tfor(int i = len; i > 0; i--){\n\t\t\t\tdata[i] = data[i-1];\n\t\t\t}\n\t\t\tdata[0] = len;\n\t\t\tint z = 0;\n\t\t\tlen++;\n\t\t\tfor(int i = 0; i < len; i++){\n\t\t\t\tif(data[i] == 0){\n\t\t\t\t\tz++;\n\t\t\t\t\tcheck[i] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint p = len;\n\t\t\tfor(int i = 0 ;i < p;){\n\t\t\t\tif(check[i] == 1){\n\t\t\t\t\tfor(int j = i; j <  p-1; j++){\n\t\t\t\t\t\tdata[j] = data[j+1];\n\t\t\t\t\t\tcheck[j] = check[j+1];\n\t\t\t\t\t}\n\t\t\t\t\tp--;\n\t\t\t\t}\n\t\t\t\telse i++;\n\t\t\t}\n\t\t\tlen -= z;\n\t\t\t/*ずらす終了*/\n\t\t\tbool f;\n\t\t\tf = judge(len);\n\t\t\tif(f){\n\t\t\t\tprintf(\"%d\\n\",cnt);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if(!f){\n\t\t\t\tmemset(check,0,sizeof(check));\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\t\n\t\t\tif(cnt > 10000){\n\t\t\t\tputs(\"-1\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\nbool judge(int x){\n\tbool f=true;\n\tint d = 0;\n\tif(data[1] == 0){\n\t\treturn false;\n\t}\n\td = data[0]-data[1];\n\tfor(int i = 1;i < x; i++){\n\t\tint fg = data[i] - data[i+1];\n\t\tif(d != fg){\n\t\t\tf = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn f;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nbool isSorted(vector<int> v) {\n    bool ok=(v.size()>1);\n    for(int i=0; i<v.size(); i++) ok *= (v[i] == i+1);\n    return ok;\n}\n\nint main()\n{\n    int N;\n    vector<int> b;\n    while(cin>>N, N) {\n        b.resize(N);\n        for(int i=0; i<N; i++) cin>>b[i];\n        int ans=0;\n        while(!isSorted(b) && ans<=10000) {\n            ans++;\n            b.push_back(N);\n            for(int i=0; i<N; i++) {\n                b[i]--;\n                if(b[i]==0) {\n                    b.erase(b.begin()+i);\n                    N--;\n                    i--;\n                }\n            }\n            N++;\n        }\n        if(ans>10000) ans = -1;\n        cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<vector>\nusing namespace std;\n\n#define N 10020\n#define MAX 10000\n\n#define EPS 1e-8\n\nint main() {\n  int n, bi, sum, t, c;\n  while(cin >> n && n) {\n    vector<int> b;\n    sum = 0;\n    for(int i=0; i<n; ++i) {\n      cin >> bi; sum += bi;\n      b.push_back(bi);\n    }\n    sum = 8*sum + 1;\n    int sq = (int)sqrt(sum);\n    if(sq*sq!=sum || sq%2==0) {\n      cout << \"-1\" << endl;\n      return 0;\n    }\n    t = (sq - 1) / 2; c = 0;\n    for(int i=0; i<=MAX; ++i) {\n      vector<int> p;\n      if(b.size()==t) {\n        for(c = 0; c<t; ++c) if(b[c]!=c+1) break;\n        if(c==t) {\n          cout << i << endl;\n          break;\n        }\n      }\n      if(i==MAX) {\n        cout << \"-1\" << endl;\n        break;\n      }\n      for(int j=0; j<b.size(); ++j) {\n        if(b[j]>1) p.push_back(b[j]-1);\n      }\n      p.push_back(b.size());\n      b = p;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=co-1;j>=0&&kawa;j--)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=1){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint N;\nint b[105];\nvoid plot() {\n    rep(i,N) cout<<b[i]<<\" \";\n    cout<<endl;\n}\nvoid move() {\n    //plot();\n    int h = 0;\n    rep(i,N) if(b[i]!=0) h++;\n    rep(i,N) if(b[i]!=0) b[i]--;\n    b[102]=h;\n    //plot();\n    rep(i,104) {\n        if(!i) continue;\n        if(b[i]!=0) {\n            int j;\n            for(j=i-1;j>=0;j--) {\n                if(b[j]!=0) break;\n            }\n            swap(b[i],b[j+1]);\n        }\n    }\n\n}\nbool ok() {\n    bool f=true;\n    rep(i,N) {\n        if(b[i]==0) break;\n        f&=(i+1)==b[i];\n    }\n    return f;\n\n}\nvoid solve() {\n    rep(i,105) b[i]=0;\n    rep(i,N) cin>>b[i];\n    int cnt=0;\n    if(ok()) {\n        cout<<\"0\"<<endl;\n        return;\n    }\n    while(1) {\n        cnt++;\n        move();\n        if(ok()) {\n            cout<<cnt<<endl;\n            return;\n        }\n        if(cnt == 10000) break;\n\n    }\n    cout<<\"-1\"<<endl;\n}\n\nint main() {\n    while(cin>>N) {\n        if(N==0) break;\n        solve();\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nint main(){\n  ios_base::sync_with_stdio(false);\n  cin.tie(NULL);\n\n  int n;\n\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    vector<int> a;\n    int temp;\n    for(int i = 0;i < n;++i){\n      cin >> temp;\n      a.push_back(temp);\n    }\n\n    int i;\n    for(i = 0;i < 10001;++i){\n      // 三角形がどうか調べる\n      bool flag = true;\n      for(int j = 0;j < a.size() && flag;++j){\n\tif(a[j] != j + 1){\n\t  flag = false;\n\t}\n      }\n      // 三角形ができた\n      if(flag){\n\tcout << i << endl;\n\tbreak;\n      }\n      // 最下段ぶんを引く\n      for(int j = 0;j < a.size();++j){\n\t--a[j];\n      }\n      a.push_back(a.size());\n      // 最下段を最左行へ\n      for(int j = 0;j < a.size();++j){\n\tif(a[j] == 0){\n\t  a.erase(a.begin() + j);\n\t  --j;\n\t}\n      }\n    }\n    if(i == 10001){\n      cout << \"-1\" << endl;\n    }\n  }\n\n  return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[100000];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i <= 10000; ++i){\n\n\n      \n      bool f = true;\n      for (int k = 0; k < 100000 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 100000 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<=10000){\n      cout << i << endl;\n    } else {\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n,t[10000],cnt,size,j;\nint check(){\n  for(int i=0;i<n;i++){\n    if(t[i]!=i+1)return 0;\n  }\n  return 1;\n}\nint main(){\n\n  while(cin>>n&&n){\n    for(int i=0;i<n;i++)cin>>t[i];\n    for(cnt=0;cnt<=10000;cnt++){\n      if(check())break;\n      for(int i=0;i<n;i++)t[i]--;\n      t[n]=n;\n      n++;\n      j=0;\n      for(int i=0;i<n;i++)if(t[i])t[j++]=t[i];\n      n=j;\n    }\n    if(cnt>10000)cout<<\"-1\"<<endl;\n    else cout<<cnt<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nbool check(const vector<int> &b){\n\tfor(int i = 0; i < b.size(); ++i){\n\t\tif(b[i] != i + 1) return false;\n\t}\n\treturn true;\n}\n\nint main(){\n\tint n;\n\twhile(scanf(\"%d\", &n), n){\n\t\tvector<int> b(n);\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tscanf(\"%d\", &b[i]);\n\t\t}\n\n\t\tint ans;\n\t\tfor(ans = 0; ans <= 10000 && !check(b); ++ans){\n\t\t\tint k = b.size();\n\t\t\tfor(int i = 0; i < k; ++i){\n\t\t\t\t--b[i];\n\t\t\t}\n\t\t\tb.erase(remove(b.begin(), b.end(), 0), b.end());\n\t\t\tb.push_back(k);\n\t\t}\n\n\t\tprintf(\"%d\\n\", ans <= 10000 ? ans : -1);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n, V, a[100000];\nbool query0() {\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] == 0) { return true; }\n\t\tif (a[i] != i) { return false; }\n\t}\n\treturn true;\n}\nvoid query1() {\n\tint cnt = 1, cnt2 = 0;\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] >= 1) {\n\t\t\tint b = a[i];\n\t\t\ta[i] = 0;\n\t\t\ta[cnt] = b;\n\t\t\tcnt++; cnt2++;\n\t\t}\n\t}\n\tV = cnt2;\n}\nvoid query2() {\n\tfor (int i = 1; i <= V; i++) {\n\t\ta[i]--;\n\t}\n\ta[V + 1] = V;\n\tV++;\n}\nint main() {\n\twhile (true) {\n\t\tfor (int i = 0; i < 100000; i++) {\n\t\t\ta[i] = 0;\n\t\t}\n\t\tcin >> n; V = n;\n\t\tif (n == 0) { break; }\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint cnt = 0;\n\t\twhile (true) {\n\t\t\tbool ok = query0();\n\t\t\tif (ok == true) { cout << cnt << endl; break; }\n\t\t\tquery1(); query2(); query1();\n\t\t\tcnt++;\n\t\t\tif (cnt > 10000) { cout << \"-1\" << endl; break; }\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<1999;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <cmath>\n#include <complex>\n#include <map>\n#include <climits>\n#include <sstream>\nusing namespace std;\n\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define EPS 1e-8\n#define F first\n#define S second\n#define mkp make_pair\n\nstatic const double PI=6*asin(0.5);\ntypedef long long ll;\ntypedef complex<double> CP;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\ntypedef vector<int> vint;\nstatic const int INF=1<<24;\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v,int a,int b, const T  &t = T()){\n\tv.assign(a,vector<T>(b,t));\n}\n\n//v.erase(unique(v.begin(),v.end()),v.end());\n\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvint v(n);\n\t\trep(i,n){\n\t\t\tcin>>v[i];\n\t\t}\n\t\tbool f=true;\n\t\trep(i,10001){\n\t\t\tvint t;\n\t\t\tf=true;\n\t\t\trep(j,v.size()){\n\t\t\t\tif(v[j]!=j+1){\n\t\t\t\t\tf=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f){\n\t\t\t\tcout<<i<<endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint vs=v.size();\n\t\t\trep(j,vs){\n\t\t\t\tv[j]--;\n\t\t\t}\n\t\t\trep(j,vs){\n\t\t\t\tif(v[j]==0) continue;\n\t\t\t\tt.PB(v[j]);\n\t\t\t}\n\t\t\tt.PB(vs);\n\t\t\tv=t;\n\t\t}\n\t\tif(!f) cout<<-1<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\n\n#define MAX\t10000\n\n//入力配列\nint h_input[MAX] = {0};\n\n\n//k * (k + 1) / 2で表される数かどうか\nbool f_check(int);\n\n//答え出力変数\nint ans = 0;\n\n\n\n//ループで答えを求める関数\nvoid f_ans(int);\n\n\n//合否判定関数\nbool f_ok(int);\n\n\n\n//配列をずらす関数\nint f_zurasu(int);\n\n\n\n\nint main(void)\n{\n\t//入力変数\n\tint n = 0;\n\n\twhile (cin >> n && n != 0)\n\t{\n\t\t//答え変数初期化\n\t\tans = 0;\n\n\t\t//値を入力\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tcin >> h_input[i];\n\t\t}\n\n\t\t//まず作れるかどうか\n\t\tif (f_check(n) == false)\n\t\t{\n\t\t\tcout << \"-1\" << endl;\n\t\t\tcontinue;\n\t\t}\n\n\t\t//関数で求める\n\t\tf_ans(n);\n\n\t\t//関数で成功かどうか判断する\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}\n\n\n\n\nbool f_check(int n)\n{\n\t//合計値を計算\n\tint sum = 0;\n\t//ｋを算出する変数\n\tint count = 2;\n\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tsum += h_input[i];\n\t}\n\n\t//k * (k + 1)を計算\n\tint k = 1;\n\n\t//割り切れるか、値が大きくなるまで\n\twhile (1)\n\t{\n\t\t//割り切れる\n\t\tif (k == sum)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\t//値を超えた\n\t\tif (k > sum)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tk = (count * (count + 1)) / 2;\n\n\t\tcount++;\n\t}\n}\n\n\n\n//ループで答えを求める関数\nvoid f_ans(int n)\n{\n\n\t//回数カウント変数\n\tint count = 0;\n\n\t//いくつのブロックを動かしたかを記憶する\n\tint move = 0;\n\n\t//成功flag\n\tbool flag_ok = false;\n\n\t//配列の末尾を表す\n\tint end = n;\n\n\t//最高回数\n\twhile (count < 10000)\n\t{\n\t\tmove = 0;\n\n\t\t//できているかのチェック\n\t\tif (f_ok(n) == true)\n\t\t{\n\t\t\t//flagをtrueにして抜ける\n\t\t\tflag_ok = true;\n\t\t\tbreak;\n\t\t}\n\n\t\t//番兵まで回す\n\t\tfor (int i = 0; i < end; i++)\n\t\t{\n\t\t\t//0でないならデクリメントをして、動かしたブロックの個数を記憶する変数をインクリメント\n\t\t\tif (h_input[i] != 0)\n\t\t\t{\n\t\t\t\th_input[i]--;\n\t\t\t\tmove++;\n\t\t\t}\n\t\t}\n\n\t\t//関数でずらして戻り値を利用する\n\t\tend = f_zurasu(end);\n\t\th_input[end] = move;\n\t\tend++;\n\n\t\t//1回動かした\n\t\tcount++;\n\t}\n\n\tans = -1;\n\t//okならば上書き\n\tif (flag_ok == true)\n\t{\n\t\tans = count;\n\t}\n}\n\n\n\n//合否判定関数\nbool f_ok(int n)\n{\n\t//最初は1段\n\tint dan = 1;\n\n\tfor (int i = 0; h_input[i] != 0; i++)\n\t{\n\t\tif (h_input[i] != dan)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\tdan++;\n\t}\n\n\treturn true;\n}\n\n\n\n//配列をずらす関数\nint f_zurasu(int n)\n{\n\t//別な配列を使ったほうが楽\n\tint h_copy[MAX] = {0};\n\n\t//カウント変数\n\tint count = 0;\n\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tif (h_input[i] != 0)\n\t\t{\n\t\t\th_copy[count++] = h_input[i];\n\t\t}\n\t}\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\th_input[i] = h_copy[i];\n\t}\n\n\t//配列の最後尾を表す\n\treturn count;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#define rep(i,n) for(int i = 0 ; i < n ; i++ )\nusing namespace std;\nint block[10000];\n\nbool judje(int n){\n  for(int i = 0;i < n;i++)if(block[i] != i+1)return false;\n  return true;\n}\nint main(){\n  int n;\n  while(scanf(\"%d\",&n),n){\n    int ans = 0;\n    rep(i,n)cin >> block[i];\n    while(1){\n\n      if(judje(n))break;\n      if(ans > 10000){\n\tans = -1;\n\tbreak;\n      }\n      ans++;\n\n      int at = 0;\n      rep(i,n){\n\tblock[i]--;\n      }\n      rep(i,n)if(block[i])block[at++] = block[i];\n      block[at++] = n;\n      n = at;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <functional>\n#include <bitset>\n\nusing namespace std;\n#define int long long int\nconst int INF = 1001001001001001LL;\nconst int MOD = 1000000007;\n\nint di[] = {-1, 0, 1, 0, -1, 1, 1, -1};\nint dj[] = {0, 1, 0, -1, 1, 1, -1, -1};\n\nsigned main(){\n   \n    while(true){\n        int n;\n        cin >> n;\n\n        if(n == 0) break;\n\n        int a[200000] = {};\n        int s = 0;\n\n        long long sum = 0;\n        for(int i = 0; i < n; ++i){\n            int tmp;\n            cin >> tmp;\n            a[i] = tmp;\n            sum += tmp;\n        }\n        bool f = false;\n        int K;\n        for(long long k = 1; k * (k + 1) / 2 <= sum; ++k){\n            if(k * (k+1) / 2 == sum){\n                f = true;\n                K = k;\n                break;\n            }\n        }\n        if(!f){\n            cout << -1 << endl;\n            continue;\n        }\n\n        bool ok = true;\n        for(int i = 0; i < K; ++i){\n            if(a[i] != i + 1){\n                ok = false;\n                break;\n            }   \n        }\n        if(ok){\n            cout << 0 << endl;\n            continue;\n        }\n\n        int idx = n - 1;\n        int ans;\n        ok = false;\n        for(int ii = 0; ii < 10000; ++ii){\n            long long sum = 0;\n            for(int i = s; i <= idx; ++i){\n                if(a[i] != 0){\n                    a[i]--;\n                    sum++;\n                }\n            }\n            idx++;\n            a[idx] = sum;\n\n            //判定\n            while(a[s] == 0){\n                s++;\n            }\n            int cnt = 0;\n            for(int i = 0; i < K; ++i){\n                if(a[s + i] == i + 1){\n                    cnt++;\n                }else{\n                    break;\n                }\n            }\n            if(cnt == K){\n                ok = true;\n                ans = ii;\n                break;\n            }\n        }\n        if(ok){\n            cout << ans << endl;\n        }else{\n            cout << -1 << endl;\n        }\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\nusing namespace std;\n\nint main(){\n\tint n,data;\n\twhile(cin>>n,n){\n\t\tint ans=0;\n\t\tvector<int> dt;\n\t\trep(i,n){\n\t\t\tcin>>data;\n\t\t\tdt.push_back(data);\n\t\t}\n\t\twhile(1){\n\t\t\tif(ans>10000){\n\t\t\t\tans=-1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbool check=true;\n\t\t\trep(i,dt.size())if(dt[i]!=i+1)check=false;\n\t\t\tif(check)break;\n\t\t\tans++;\n\t\t\tint size=dt.size();\n\t\t\trep(i,size)dt[i]--;\n\t\t\tdt.push_back(size);\n\t\t\tsize++;\n\t\t\tvector<int>::iterator ite=dt.begin();\n\t\t\tfor(int i=0;i<dt.size();){\n\t\t\t\tif(dt[i]==0)dt.erase(ite);\n\t\t\t\telse{\n\t\t\t\t\ti++;\n\t\t\t\t\tite++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint main(void){\n    int n;\n    int a[80000]={0};\n    while(cin>>n&&n){\n\n        for(int i=0;i<n;i++){\n            cin>>a[i];\n        }\n        int k=0,m=n;\n        while(1){\n            //cout<<\"---\"<<k<<endl;\n            bool flg=0;\n            for(int i=0,j=1;i<m;i++){\n                //cout<<\"a[\"<<i<<\"]=\"<<a[i]<<\"  j=\"<<j<<endl;\n                if(a[i]!=0&&a[i]!=j){\n                    flg=1;\n                    break;\n                }\n                else if(a[i]==j)j++;\n            }\n            if(k==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int i=0;i<m;i++){\n                if(a[i])a[i]--,a[m]++;\n\n            }\n\n            if(!flg){\n                cout<<k<<endl;\n                break;\n            }\n            k++,m++;\n        }\n        memset(a,0,80000);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\n\nint Block[10000];\n\n\nvoid change(int *pN) {\n\tint index;\n\n\tfor (int i = 0; i < *pN; ++i) {\n\t\t--Block[i];\n\t}\n\n\tindex = 0;\n\tfor (int i = 0; i < *pN; ++i) {\n\t\tif (Block[i]) {\n\t\t\tBlock[index++] = Block[i];\n\t\t}\n\t}\n\tBlock[index++] = *pN;\n\t*pN = index;\n}\n\nint solve(int n) {\n\tint cnt;\n\tbool flag;\n\n\tcnt = 0;\n\twhile (cnt <= 10000) {\n\t\tflag = true;\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tif (Block[i] != i + 1) {\n\t\t\t\tflag = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (flag) {\n\t\t\treturn cnt;\n\t\t}\n\t\t++cnt;\n\t\tchange(&n);\n\t}\n\n\treturn -1;\n}\n\nint main() {\n\tint n;\n\n\twhile (cin >> n, n) {\n\t\tmemset(Block, 0, sizeof(Block));\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tcin >> Block[i];\n\t\t}\n\t\tcout << solve(n) << endl;\n\t}\n\t\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <list>\nusing namespace std;\n\nlist<int> blocks;\nvoid arrange(){\n\tint s = 0;\n\tfor(auto it = blocks.begin(); it != blocks.end(); ++it){\n\t\t(*it)--;\n\t\ts++;\n\t}\n\tblocks.remove(0);\n\tblocks.push_back(s);\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n){\n\t\tblocks.clear();\n\t\tint sum = 0, b, bn = 0;\n\t\tbool flag = false;\n\t\t\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> b;\n\t\t\tblocks.push_back(b);\n\t\t\tsum += b;\n\t\t}\n\t\tfor(int i = 1; ; ++i){\n\t\t\tif(sum == (i * (i + 1) / 2)){\n\t\t\t\tflag = true;\n\t\t\t\tbn = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(sum < (i * (i + 1) / 2))\n\t\t\t\tbreak;\n\t\t}\n\t\tif(!flag){\n\t\t\tcout << \"-1\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tint cnt = 0;\n\t\twhile(cnt < 10000){\n\t\t\tauto it = blocks.begin();\n\t\t\tbool ok = false;\n\t\t\tfor(int i = 1; i <= bn; ++i){\n\t\t\t\tif(*it != i)\n\t\t\t\t\tbreak;\n\t\t\t\tif(*it == bn){\n\t\t\t\t\tcout << cnt << endl;\n\t\t\t\t\tok = true;\n\t\t\t\t}\n\t\t\t\tit++;\n\t\t\t}\n\t\t\tif(ok)\n\t\t\t\tbreak;\n\t\t\tarrange();\n\t\t\tcnt++;\n\t\t}\n\t\tif(cnt >= 10000)\n\t\t\tcout << \"-1\" << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <list>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\nint func(int n)\n{\n    list<int> b;\n    rep(i, n){\n        int a;\n        cin >> a;\n        b.push_back(a);\n    }\n    \n    rep(i, 10002){\n        int j = 1;\n        bool ok = true;\n        for(int x : b){\n            if(x != j){\n                ok = false;\n                break;\n            }\n            ++j;\n        }\n        if(ok) return i;\n        \n        int s = b.size();\n        for(auto itr = b.begin(); itr != b.end();){\n            --*itr;\n            if(*itr == 0){\n                itr = b.erase(itr);\n            }\n            else{\n                ++itr;\n            }\n        }\n        b.push_back(s);\n    }\n    \n    return -1;\n}\n\nint main()\n{\n    int n;\n    while(cin >> n, n){\n        cout << func(n) << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,string> P;\n\nbool is_triangle(int blocks[100000],int W){\n\n  bool is_first = true;\n  for(int x=0;x<W;x++){\n    if(blocks[x] == 0) continue;\n    if(blocks[x] != 0){\n      if(is_first){\n\tif(blocks[x] != 1) return false;\n\tis_first = false;\n      }\n\n      int target = -1;\n      for(int dx=x+1;dx<W;dx++){\n\tif(blocks[dx] != 0){\n\t  target = dx;\n\t  break;\n\t}\n      }\n\n      if(target == -1) continue;\n      if(blocks[x] + 1 != blocks[target]) return false;\n    }\n  }\n\n  return true;\n}\n\nint main(){\n  int W;\n  while(~scanf(\"%d\",&W)){\n    if(W == 0) break;\n    int blocks[100000];\n    memset(blocks,0,sizeof(blocks));\n    for(int x=0;x<W;x++){\n      int block;\n      scanf(\"%d\",&block);\n      blocks[x] = block;\n    }\n\n    int res = -1;\n    bool isok = true;\n    int nextW = W;\n    for(int round = 0; round <= 10000;round++){\n      if(is_triangle(blocks,nextW)){\n\tres = round;\n\tbreak;\n      }\n\n      int width = 0;\n      for(int x=0;x<nextW;x++){\n\tif(blocks[x] > 0){\n\t  blocks[x]--;\n\t  width++;\n\t}\n      }\n\n      blocks[nextW++] = width;\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nint N;\nvector<int> b;\n#define rep(v,n) for(int v=0;v<n;v++)\n\nbool check(){\n\trep(i,b.size()){\n\t\tif(b[i]!=i+1)return false;\n\t}\n\treturn true;\n}\nvoid shift(){\n\tfor(int i=b.size()-1;i>=0;i--){\n\t\tif(b[i]==0)\tb.erase(b.begin()+i);\n\t}\t\n}\nbool act(){\n\t\n\trep(i,b.size()){b[i]--;}\n\tint s=b.size();\n\tshift();\n\tb.push_back(s);\n\tif(check())return true;\n\telse return false;\n}\nsigned main(){\n\twhile(true){\n\t\tcin>>N;\n\t\tif(N==0)return 0;\n\t\tb.clear();\n\t\trep(i,N){int in;cin>>in;b.push_back(in);}\n\t\t\n\t\tif(check()){cout<<0<<endl;goto end1;}\n\t\trep(t,10000){\n\t\t\tif(act()){cout<<t+1<<endl; goto end1;}\n\t\t}\n\t\tcout<<-1<<endl;\nend1:;\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\n\n#define rep(i, n) for (int i = 0; i < int(n); ++i)\n\nint main() {\n  int n, b[1000], bb[1000];\n  while (true) {\n    cin >> n;\n    if (n == 0) break;\n    rep (i, n) cin >> b[i];\n    rep (i, 10001) {\n      bool f = true;\n      rep (j, n) if (b[j] != j + 1) {\n\tf = false;\n\tbreak;\n      }\n      if (f) {\n\tcout << i << endl;\n\tgoto next;\n      }\n      rep (j, n) --b[j];\n      b[n] = n;\n      int k = 0;\n      rep (j, n + 1) if (b[j] > 0) bb[k++] = b[j];\n      n = k;\n      rep (j, n) b[j] = bb[j];\n    }\n    cout << -1 << endl;\n  next:;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) range(i,0,b)\n#define pb(a) push_back(a)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nusing namespace std;\n\nbool check(vector<int> &b){\n    vector<int>::iterator it;\n    int i = 1;\n    for(it = b.begin(); it != b.end(); it++){\n        if(*it != i){\n            return false;\n        }\n        i++;\n    }\n    return true;\n}\n\nint main(){\n    int n;\n    while(cin >> n,n){\n        int i = 0;\n        bool c;\n        vector<int> b;\n        vector<int>::iterator it;\n        rep(i,n){\n            int inp;\n            cin >> inp;\n            b.pb(inp);\n        }\n        for(i = 0; i < 10000; i++){\n            b.pb(b.size() + 1);\n            for(it = b.begin(); it != b.end(); it++) *it = *it - 1;\n            for(it = b.begin(); it != b.end(); it++){\n                if(*it == 0){\n                    b.erase(it);\n                    *it--;\n                }\n            }\n            if(check(b)) break;\n        }\n        if(!i) i = -1;\n        if(i == 10000) cout << -1 << endl;\n        else cout << i + 1 << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n    while(1){\n        int n; cin>>n;\n        if(n == 0) return 0;\n\n        vector<int> b(n);\n        for(int i=0; i<n; i++) cin>>b[i];\n\n        for(int i=0; i<=10001; i++){\n            if(i == 10001){\n                cout << -1 << endl;\n                break;\n            }\n\n            bool valid = true;\n            for(int j=0; j<b.size(); j++){\n                if(j + 1 != b[j]) valid = false;\n            }\n\n            if(valid){\n                cout << i << endl;\n                break;\n            }\n\n            for(int j=0; j<b.size(); j++){\n                b[j]--;\n            }\n\n            b.emplace_back(b.size());\n            b.erase(remove(b.begin(), b.end(), 0), b.end());\n        }\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <algorithm>\n#include <map>\n#include <queue>\n#include <deque>\n#include <complex>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,a) FOR(i,0,a)\nusing namespace std;\ntypedef vector<int> vi;\nint main() {\n\tint N,tmp;\n\twhile(cin >> N && N){\n\tvi blocks;\n\tREP(i,N){\n\t\tcin >> tmp;\n\t\tblocks.push_back(tmp);\n\t}\n\tint times=0;\n\twhile(times<=10001){\n\t\tREP(i,blocks.size())\n\t\t\tif(i+1!=blocks[i])\n\t\t\tbreak;\n\t\t\telse if(i+1==blocks.size()){\n\t\t\t\tcout << times << endl;\n\t\t\t\tgoto end;\n\t\t\t}\n\t\ttimes++;\n\t\tint s=blocks.size();\n\t\tfor(vi::iterator ite=blocks.begin();ite!=blocks.end();++ite){\n\t\t\t(*ite)--;\n\t\t\tif(*ite==0){\n\t\t\t\tite=blocks.erase(ite);\n\t\t\t\t--ite;\n\t\t\t}\n\t\t}\n\t\tblocks.push_back(s);\n\t}\n\t\n\tcout << -1 << endl;\n\tend:;\n}\n\t// your code goes here\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        bool NA=0;\n        for(int i=0;!NA&&i<10001;i++){\n            bool kawa=1;\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                NA=1;\n                cout<<i<<endl;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1)for(int k=j+1;k<=co&&num[j]==1;k++)if(num[k]!=1)swap(num[j],num[k]);\n                num[j]--;\n                if(num[j]==0)co=j-1;\n            }\n            co++;\n        }\n        if(!NA)cout<<-1<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nbool cheak(vector<int> v){\n  for(int i=0;i<v.size();i++){\n    if(v[i] != i+1) return false;\n  }\n  return true;\n}\nint main(){\n  int N;\n  while(cin >> N && N){\n    bool judge = true;\n    int now = 0;\n    vector<int> v(N);\n    for(int i = 0; i < N ; i++ ){\n      cin >> v[i];\n    }\n\n    while( !cheak(v) && now <= 10000 ){\n      now++;\n      for(int i = 0; i < v.size() ; i++ ) v[i]--;\n      v.push_back(v.size());\n      v.erase(remove(v.begin(),v.end(),0),v.end());\n    }\n    cout << ( now > 10000 ? -1 : now ) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nbool check(int *arr, int n) {\n  for(int i=0; i<n; i++) {\n\tif(arr[i] != i+1) return false;\n  }\n  return true;\n}\n\nint main() {\n  int n;\n  int arr[10000];\n  \n  while(cin >> n, n) {\n\tfor(int i=0; i<n; i++) {\n\t  cin >> arr[i];\n\t}\n\tint turn;\n\tbool good = true;\n\tfor(turn=0; turn<10000; turn++) {\n\t  if(n == 0) {\n\t\tgood = false;\n\t\tbreak;\n\t  }\n\t  if(check(arr, n)) break;\n\t  \n\t  for(int i=0; i<n; i++) {\n\t\tarr[i] --;\n\t  }\n\t  \n\t  arr[n] = n; n++;\n\t  \n\t  int cnt = 0;\n\t  for(int i=0; i<n; i++) {\n\t\tif(arr[i]) {\n\t\t  arr[cnt++] = arr[i];\n\t\t}\n\t  }\n\t  n = cnt;\n\t}\n\tif(turn == 10000 || !good) cout << -1 << endl;\n\telse cout << turn << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) range(i,0,b)\n#define pb(a) push_back(a)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nusing namespace std;\n\nbool check(vector<int> &b){\n    vector<int>::iterator it;\n    int i = 1;\n    for(it = b.begin(); it != b.end(); it++){\n        if(*it != i){\n            return false;\n        }\n        i++;\n    }\n    return true;\n}\n\nint main(){\n    int n;\n    while(cin >> n,n){\n        int i = 0;\n        bool c;\n        vector<int> b;\n        vector<int>::iterator it;\n        rep(i,n){\n            int inp;\n            cin >> inp;\n            b.pb(inp);\n        }\n        for(i = 0; i < 10000; i++){\n            b.pb(b.size() + 1);\n            for(it = b.begin(); it != b.end(); it++) *it = *it - 1;\n            for(it = b.begin(); it != b.end(); it++){\n                if(*it == 0){\n                    b.erase(it);\n                    *it--;\n                }\n            }\n            if(check(b)) break;\n        }\n        if(!i) i = -1;\n        if(i == 10000) cout << -1 << endl;\n        else cout << i + 1 << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <climits>\n#include <cassert>\n#include <iostream>\n#include <iomanip>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <list>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <iterator>\n\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<'='<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define peri(i,a,b) for(int i=int(b);i-->int(a);)\n#define rep(i,n) repi(i,0,n)\n#define per(i,n) peri(i,0,n)\n#define iter(c) __typeof__((c).begin())\n#define foreach(i,c) for(iter(c) i=(c).begin();i!=(c).end();++i)\n#define all(c) (c).begin(),(c).end()\n#define mp make_pair\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<double> vd;\ntypedef vector<vd> vvd;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nconst int INFTY=1<<29;\nconst double EPS=1e-9;\n\ntemplate<typename T1,typename T2>\nostream& operator<<(ostream& os,const pair<T1,T2>& p){\n\treturn os<<'('<<p.first<<','<<p.second<<')';\n}\ntemplate<typename T>\nostream& operator<<(ostream& os,const vector<T>& a){\n\tos<<'[';\n\trep(i,a.size()) os<<(i?\" \":\"\")<<a[i];\n\treturn os<<']';\n}\n\nint main()\n{\n\tfor(int n;cin>>n,n;){\n\t\tvi a(n);\n\t\trep(i,n) cin>>a[i];\n\t\t\n\t\tint res;\n\t\tfor(res=0;res<=10000;res++){\n\t\t\tbool ok=true;\n\t\t\trep(i,a.size()) ok&=a[i]==i+1;\n\t\t\tif(ok) break;\n\t\t\tvi b;\n\t\t\trep(i,a.size()) if(a[i]>1)\n\t\t\t\tb.push_back(a[i]-1);\n\t\t\tb.push_back(a.size());\n\t\t\tswap(a,b);\n\t\t}\n\t\t\n\t\tcout<<(res>10000?-1:res)<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint N;\nvector<int> v;\n\nint solve() {\n\tfor(int i = 0; i < 10000; i++) {\n\t\tbool flg = true;\n\t\tfor(int j = 0; j < v.size(); j++) {\n\t\t\tflg &= v[j] == j+1;\n\t\t}\n\t\tif(flg)\n\t\t\treturn i;\n\n\t\tint pb = v.size();\n\t\tint k = 0;\n\t\tfor(int j = 0; j < v.size(); j++) {\n\t\t\tv[j]--;\n\t\t\tv[k] = v[j];\n\t\t\tif(v[j]) k++;\n\t\t}\n\t\tv.erase(v.begin() + k, v.end());\n\t\tv.push_back(pb);\n\t}\n\treturn -1;\n}\n\nint main() {\n\twhile(cin >> N, N) {\n\t\tv.clear();\n\t\tv.resize(N);\n\t\tfor(int i = 0; i < v.size(); i++) {\n\t\t\tcin >> v[i];\n\t\t}\n\t\tcout << solve() << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint N;\nconst int MAX = 10000;\nint L[MAX];\nint len;\n\nvoid input(){\n  for(int i = 0 ; i < N ; i++){\n    cin >> L[i];\n  }\n}\n\nbool check(){\n  for(int i = 0 ; i < len ; i++){\n    if(i+1 != L[i])return false;\n  }\n  return true;\n}\n\nvoid display(){\n  for(int i = 0 ; i < len ; i++){\n    cout << \"i = \" << i << \" L[i] = \" << L[i] << endl;\n  }\n  cout << endl;\n}\n\nint solve(){\n  input();\n  len = N;\n  for(int i = 0 ; i < MAX ; i++){\n    //display();\n    if(check())return i;\n    vector<int> next;\n    for(int i = 0 ; i < len ; i++){\n      L[i]--;\n      if(L[i] != 0)next.push_back(i);\n    }\n    for(int i = 0 ; i < next.size() ; i++){\n      L[i] = L[next[i]];\n    }\n    L[next.size()] = len;\n    len = next.size()+1;\n  }\n  return -1;\n}\n\nint main(){\n  while(cin >> N,N)cout << solve() << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<1199;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n  int i,j,n,m,s,p,d[100];\n  while(cin >> n && n>0) {\n\t  s=p=0;\n\t  for (i=0;i<n;i++) { cin >> d[i]; s+=d[i];}\n\t  for (i=1,m=0;i<=100;i++) { m+=i; if (s==m) break;}\n\t  if (i<101) m=i; else { cout << -1 << endl; continue;}\n\t  for (i=0;i<=10000;i++) {\n\t\t  if (m==n && d[0]==1 && d[m-1]==m) { for (j=0;j<m;j++) if (d[j]!=j+1) j=9999;  if (j==m) break; }\n\t\t  for (j=0;j<n;j++) d[j]--;\n\t\t  for (j=0,p=0;j<n;j++) if (d[j]>0) d[p++]=d[j];\n\t\t  d[p]=n; n=p+1; \n\t  } \t    \n\t  if (i>10000) cout << -1 << endl; else cout << i << endl;\n  }\n  return 0;\n } "
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<999;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include <algorithm>\n\nusing namespace std;\n\nconst int N = 1000000;\n\nbool data[N];\nvector<int> vec;\nint n;\n\nvoid init(){\n  fill(data, data+N, false);\n  int sum = 3;\n  for(int i=3;sum<N;i++){\n    data[sum] = true;\n    sum += i;\n  }\n}\n\nbool check(){\n  for(int i=0;i<vec.size();i++) if(vec[i] != i+1) return false;\n  return true;\n}\n\nint solve(int sum){\n  if(data[sum]){\n    for(int cnt=0;;cnt++){\n      if(cnt > 10000) return -1;\n      if(check()) return cnt;\n      int size = vec.size();\n      for(int i=0;i<vec.size();i++) vec[i]--;\n      vector<int> next;\n      for(int i=0;i<vec.size();i++) if(vec[i]) next.push_back(vec[i]);\n      vec = next;\n      vec.push_back(size);\n    }\n  }\n  return -1;\n}\n\nmain(){\n  init();\n  int n;\n  while(cin >> n && n){\n    int sum = 0;\n    vec.clear();\n    for(int i=0;i<n;i++){\n      int in;\n      cin >> in;\n      vec.push_back(in);\n      sum += in;\n    }\n    cout << solve(sum) << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n\nusing namespace std;\n\n#define MOVEMAX 10000\n#define NMAX 100\n#define ARRAYSIZE NMAX+MOVEMAX+5\nstruct list{\n\tint next,prev;\n\tint n;\n};\n\n\nint main(){\n\n\tlist l[ARRAYSIZE];\n\tint N,b;\n\tint cnt;\n\tint s,e;\n\tint ans;\n\tint tmp;\n\tbool f;\n\n\twhile(1){\n\n\t\tcin>>N;\n\t\tif(N==0) break;\n\n\t\tl[0].n=-1;\n\t\tl[0].next=1;\n\t\tl[0].prev=-1;\n\t\ts=0;\n\t\tcnt=0;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tcin>>b;\n\t\t\tl[i].n=b;\n\t\t\tl[i].prev=i-1;\n\t\t\tl[i].next=i+1;\n\t\t\tcnt+=b;\n\t\t}\n\t\tl[N+1].n=-1;\n\t\tl[N+1].next=-1;\n\t\tl[N+1].prev=N;\n\t\te=N+1;\n\t\tfor(int i=N+2;i<ARRAYSIZE;i++){\n\t\t\tl[i].n=-1;\n\t\t\tl[i].next=-1;\n\t\t\tl[i].prev=-1;\n\t\t}\n\t\tans=0;\n\t\tf=false;\n\t\tfor(int i=0;cnt>=i*(i+1)/2;i++){\n\t\t\tif(cnt==i*(i+1)/2){\n\t\t\t\tf=true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!f){\n\t\t\tcout<<\"-1\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\twhile(1){\n\t\t\tf=true;\n\t\t\tcnt=1;\n\t\t\tfor(int i=l[s].next;l[i].next!=-1;i=l[i].next){\n\t\t\t\tif(cnt!=l[i].n){\n\t\t\t\t\tf=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(f) break;\n\t\t\tans++;\n\t\t\tif(ans>MOVEMAX) break;\n\t\t\tcnt=0;\n\t\t\tfor(int i=l[s].next;l[i].next!=-1;i=l[i].next){\n\t\t\t\tcnt++;\n\t\t\t\tl[i].n--;\n\t\t\t}\n\t\t\tfor(int i=l[s].next;l[i].next!=-1;i=l[i].next){\n\t\t\t\tif(l[i].n==0){\n\t\t\t\t\tl[l[i].prev].next=l[i].next;\n\t\t\t\t\tl[l[i].next].prev=l[i].prev;\n\t\t\t\t\ttmp=l[i].prev;\n\t\t\t\t\tl[i].n=-1;\n\t\t\t\t\tl[i].next=-1;\n\t\t\t\t\tl[i].prev=-1;\n\t\t\t\t\ti=tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\tl[l[e].prev].next=e+ans;\n\t\t\tl[e+ans].next=e;\n\t\t\tl[e+ans].prev=l[e].prev;\n\t\t\tl[e].prev=e+ans;\n\t\t\tl[e+ans].n=cnt;\n\t\t}\n\t\tif(ans>MOVEMAX) cout<<\"-1\"<<endl;\n\t\telse cout<<ans<<endl;\n\t}\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nbool judge(const vector<int>& bs)\n{\n\tfor(int i = 0; i < (int)bs.size(); ++i) {\n\t\tif(bs[i] != i + 1) return false;\n\t}\n\t\n\treturn true;\n}\n\nint main() {\n\tint N;\n\twhile(cin >> N, N) {\n\t\t\n\t\tvector<int> bs(N);\n\t\tfor(int i = 0; i < N; ++i) {\n\t\t\tcin >> bs[i];\n\t\t}\n\t\t\n\t\tint cnt = 0;\n\t\tbool flag = false;\n\t\t\n\t\twhile(cnt <= 10000) {\n\t\t\tif(judge(bs)) {\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tfor(int i = 0; i < (int)bs.size(); ++i) {\n\t\t\t\tbs[i]--;\n\t\t\t}\n\t\t\tbs.push_back(bs.size());\n\t\t\t\n\t\t\tvector<int> next;\n\t\t\tfor(int i = 0; i < (int)bs.size(); ++i) {\n\t\t\t\tif(bs[i] != 0) next.push_back(bs[i]);\n\t\t\t}\n\t\t\t\n\t\t\tbs.swap(next);\n\t\t\tcnt++;\n\t\t}\n\t\t\n\t\tif(flag) {\n\t\t\tcout << cnt << endl;\n\t\t} else {\n\t\t\tcout << -1 << endl;\n\t\t}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<list>\nusing namespace std;\nint n;\nmain()\n{\n\twhile(cin>>n,n)\n\t{\n\t\tlist<int>b;\n\t\tlong sum=0;\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint a;cin>>a;\n\t\t\tsum+=a;\n\t\t\tb.push_back(a);\n\t\t}\n\t\tbool f=0;\n\t\tfor(long i=1;;i++)\n\t\t{\n\t\t\tif(i*(i+1)/2==sum)\n\t\t\t{\n\t\t\t\tf=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if(i*(i+1)/2>sum)break;\n\t\t}\n\t\tif(!f)\n\t\t{\n\t\t\tcout<<-1<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tf=1;\n\t\tauto it=b.begin();\n\t\tint p=0;\n\t\twhile(it!=b.end())\n\t\t{\n\t\t\tif(*it==p+1)\n\t\t\t{\n\t\t\t\tit++;\n\t\t\t\tp++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tf=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(f)\n\t\t{\n\t\t\tcout<<0<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tf=0;\n\t\tfor(int i=1;i<=10000;i++)\n\t\t{\n\t\t\tint p=b.size();\n\t\t\tauto it=b.begin();\n\t\t\twhile(it!=b.end())\n\t\t\t{\n\t\t\t\tif(*it>1)\n\t\t\t\t{\n\t\t\t\t\t--*it++;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tit=b.erase(it);\n\t\t\t\t}\n\t\t\t}\n\t\t\tb.push_back(p);\n\t\t\tbool flag=1;\n\t\t\tit=b.begin();\n\t\t\tp=0;\n\t\t\twhile(it!=b.end())\n\t\t\t{\n\t\t\t\tif(*it==p+1)\n\t\t\t\t{\n\t\t\t\t\tit++;\n\t\t\t\t\tp++;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tflag=0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag)\n\t\t\t{\n\t\t\t\tf=1;\n\t\t\t\tcout<<i<<endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!f)cout<<-1<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n, V, a[100000];\nbool query0() {\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] == 0) { return true; }\n\t\tif (a[i] != i) { return false; }\n\t}\n\treturn true;\n}\nvoid query1() {\n\tfor (int i = V; i >= 2; i--) {\n\t\tif (a[i] == 0) { V--; a[i] = a[i + 1]; a[i + 1] = 0; }\n\t}\n}\nvoid query2() {\n\ta[V + 1] = V;\n\tV++;\n}\nint main() {\n\twhile (true) {\n\t\tcin >> n; V = n;\n\t\tif (n == 0) { break; }\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint cnt = 0;\n\t\twhile (true) {\n\t\t\tbool ok = query0();\n\t\t\tif (ok == true) { cout << cnt << endl; break; }\n\t\t\tquery1(); query2();\n\t\t\tcnt++;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <map>\n#include <algorithm>\n\n#define rep(i, j) FOR(i, 0, j)\n#define FOR(i, j, k) for(int i = j; i < k; ++i)\n#define LIMIT 10000\nusing namespace std;\n\nbool ck(vector<int>&a){\n  rep(i, a.size())\n    if(i + 1 != a[i]) return false;\n  return true;\n}\n\nint main(){\n  int n, b, c, sum, j, i;\n  vector<int>judge;\n  for(i = 1; i < 199; i++) judge.push_back(i*(i+1)/2);\n  while(scanf(\"%d\", &n) && n){\n    vector<int>v;\n    sum = 0;\n    for(i = 0; i < n; ++i){ scanf(\"%d\", &b); sum += b; v.push_back(b);}\n    i = LIMIT + 1;\n    vector<int>::iterator idx = find(judge.begin(), judge.end(), sum);\n    if(idx != judge.end()){\n      for(i = 0; i <= LIMIT && !ck(v); i++){\n\tint k = v.size();\n\trep(l, k) v[l]--;\n\tv.erase(remove(v.begin(),v.end(), 0), v.end());\n\tv.push_back(k);\n      }\n    }\n    printf(\"%d\\n\", i > LIMIT?-1:i);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[100000];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i <= 10000; ++i){\n\n\n      \n      bool f = true;\n      for (int k = 0; k < 100000 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 100000 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<=10000){\n      cout << i << endl;\n    } else {\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\ntypedef long long ll;\n\nint main()\n{\n    while (1)\n    {\n\n        int n;\n        cin >> n;\n        if (n == 0)\n            return 0;\n        vector<int> b(10000010, 0);\n        for (int i = 0; i < n; i++)\n        {\n            cin >> b[i];\n        }\n\n        bool valid = true;\n        for (int i = 0; i < n; i++)\n        {\n            if ((i + 1) != b[i])\n            {\n                valid = false;\n            }\n        }\n\n        if (valid)\n        {\n            cout << 0 << endl;\n            goto END;\n        }\n\n        for (int i = 0; i < 10000; i++)\n        {\n\n            /*\n        for (int j = 0; j < 10; j++)\n        {\n            cout << b[j] << \" \";\n        }*/\n            //cout << endl;\n            int cnt = 0;\n            for (int j = 0;; j++)\n            {\n                if (b[j] == 0)\n                {\n                    break;\n                }\n                b[j]--;\n                cnt++;\n            }\n\n            b[cnt] = cnt;\n\n            int id = 0;\n            for (int j = 0; j <= cnt; j++)\n            {\n                if (b[j] != 0)\n                {\n                    b[id++] = b[j];\n                }\n            }\n\n            for (int j = id; j <= 1000; j++)\n            {\n                b[j] = 0;\n            }\n\n            bool valid = true;\n            for (ll j = 0; j < id; j++)\n            {\n                if ((j + 1) != b[j])\n                {\n                    valid = false;\n                }\n            }\n\n            if (valid)\n            {\n                cout << i + 1 << endl;\n                goto END;\n            }\n        }\n\n        cout << -1 << endl;\n    END:;\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main() {\n  int i,j,n,m,s,p,d[6000];\n  while(cin >> n && n>0) {\n\t  s=p=0;\n\t  for (i=0;i<n;i++) { cin >> d[i]; s+=d[i];}\n\t  for (i=1,m=0;i<=100;i++) { m+=i; if (s==m) break;}\n\t  if (i<101) m=i; else { cout << -1 << endl; continue;}\n\t  for (i=0;i<=10000;i++) {\n\t\t  if (m==n && d[0]==1 && d[m-1]==m) { for (j=0;j<m;j++) if (d[j]!=j+1) j=9999;  if (j==m) break; }\n\t\t  for (j=0;j<n;j++) d[j]--;\n\t\t  for (j=0,p=0;j<n;j++) if (d[j]>0) d[p++]=d[j];\n\t\t  d[p]=n; n=p+1; \n\t  } \t    \n\t  if (i>10000) cout << -1 << endl; else cout << i << endl;\n  }\n  return 0;\n } "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nbool check(const vector<int> &b){\n\tfor(int i=0 ; i < b.size() ; i++ ){\n\t\tif( i+1 != b[i] ) return false;\n\t}\n\treturn true;\n}\n\nint main(){\n\tint N;\n\twhile( cin >> N , N ){\n\t\tvector<int> b(N);\n\t\tfor(int i=0 ; i < N ; i++ ) cin >> b[i];\n\t\t\n\t\tbool f = false;\n\t\tint ans = 100000;\n\t\tfor(int i=0 ; i <= 10000 ; i++ ){\n\t\t\t\n\t\t\tif( check(b) ){\n\t\t\t\tf = true;\n\t\t\t\tcout << i << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor(int j=0 ; j < b.size() ; j++ ){\n\t\t\t\tb[j]--;\n\t\t\t}\n\t\t\tb.push_back(b.size());\n\t\t\tvector<int> tmp;\n\t\t\tfor(int j=0 ; j < b.size() ; j++ ){\n\t\t\t\tif( b[j] != 0 ) tmp.push_back( b[j] );\n\t\t\t}\n\t\t\tb = tmp;\n\t\t}\n\t\tif( !f ){\n\t\t\tcout << -1 << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[1500];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i <= 10000; ++i){\n\n\n      \n      bool f = true;\n      for (int k = 0; k < 1500 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 1500 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<=10000){\n      cout << i << endl;\n    } else {\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n#define rep2(x,from,to) for(int x=(from);x<(to);++(x))\n#define rep(x,to) rep2(x,0,to)\nbool check_t(int a) {\n\tint b = 1;\n\trep2(i,2,a) {\n\t\tb += i;\n\t\tif(a==b) return true;\n\t}\n\treturn false;\n}\nbool check(vector<int> x) {\n\trep(i,x.size()) {\n\t\tif(x[i] != i+1) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main() {\n\tint n,m;\n\twhile(cin >> n, n) {\n\t\tint sum = 0;\n\t\tvector<int> v;\n\t\trep(i,n) {\n\t\t\tcin >> m;\n\t\t\tv.push_back(m);\n\t\t\tsum += m;\n\t\t}\n\t\tif(!check_t(sum)) {\n\t\t\tcout << -1 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint cnt = 0;\n\t\twhile(!check(v)) {\n\t\t\tif(cnt > 10000) break;\n\t\t\tvector<int> nv;\n\t\t\tint sz = v.size();\n\t\t\trep(i,sz) {\n\t\t\t\tif(v[i]-1==0) continue;\n\t\t\t\telse nv.push_back(v[i]-1);\n\t\t\t}\n\t\t\tnv.push_back(sz);\n\t\t\tv = nv;\n\t\t\tcnt++;\n\t\t}\n\t\tif(cnt > 10000) cout << -1 << endl;\n\t\telse cout << cnt << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nbool judge(vector<int>V){\n    if(V[0]!=1)return false;\n    for(int i=1;i<V.size();i++){\n        if(V[i]!=V[i-1]+1)return false;\n    }\n    return true;\n}\nint main(){\n    int n;\n    while(scanf(\"%d\",&n),n){\n        vector<int>V(n);\n        for(int i=0;i<n;i++){\n            scanf(\"%d\",&V[i]);\n        }\n        bool flag=true;\n        for(int i=0;i<=10000;i++){\n            if(judge(V)){\n                printf(\"%d\\n\",i);\n                flag=false;\n                break;\n            }\n            vector<int>next;\n            for(int i=0;i<V.size();i++){\n                if(V[i]>1)next.push_back(V[i]-1);\n            }\n            next.push_back(V.size());\n            V=next;\n        }\n        if(flag)puts(\"-1\");\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            for(int j=0;j<co;j++)num[j]-=1;\n            num[co]=co;\n            for(int j=0;j<=co;j++){\n                if(num[j]==0){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=0){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint main(){\n  int n,tmp;\n  vector<int> v;\n  while(cin >> n,n){\n    v.resize(n); for(int i=0;i<n;i++)cin >> v[i];\n    \n    int cnt = 0;\n    for(;cnt<=10000;cnt++){\n      bool f = true;\n      for(int i=0;i<v.size();i++)\n\tif(v[i]!=i+1){ f=false; break; }\n      if(f)break;\n\n      v.push_back(v.size());\n      for(int i=0;i<v.size()-1;i++)v[i]--;\n      for(int i=0;i<v.size();i++){\n\tif(!v[i]){\n\t  v.erase(v.begin()+i); i--;\n\t}\n      }\n    }\n\n    if(cnt==10001)cout << -1 << endl;\n    else cout << cnt << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define int long long\n#define for0(i, n) for(int i = 0; i < (n); i++)\nusing namespace std;\nint input() {\n\tint r;\n\tscanf(\"%lld\", &r);\n\treturn r;\n}\nsigned main() {\n\tint n;\n\twhile (n = input()) {\n\t\tvector<int>v;\n\t\twhile (n--) v.push_back(input());\n\t\tint a = 0;\n\t\tfor0(i, 10001) {\n\t\t\tvector<int>v1;\n\t\t\tfor0(j, v.size()) {\n\t\t\t\tv1.push_back(v[j] - 1); a++;\n\t\t\t\tif (v1.back() == 0)v1.pop_back();\n\t\t\t}\n\t\t\tv1.push_back(a);\n\t\t\tif (v == v1) { cout << i << endl; break; }\n\t\t\ta = 0; v = v1;\n\t\t}\n\t\tif (!a)printf(\"-1\\n\");\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef long long ll;\n\n#define dump(x)  cerr << #x << \" = \" << (x) << endl\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define all(a)  (a).begin(),(a).end()\n#define pb push_back\n\n\n\nvi delSpace(vi data){\n    vi ret;\n    \n    rep(i,data.size()){\n        if(data[i]!=0)ret.pb(data[i]);\n    }\n    return ret;\n}\n\n\nbool isOK(vi data){\n    if(data[0]!=1)return false;\n    for(int i=1;i<data.size();i++){\n        if(data[i]!=data[i-1]+1)return false;\n    }\n    return true;\n}\n\n\nint main(){\n    int n;\n    while(cin>>n){\n        int ans=0;\n        vi data;\n\n        if(n==0)break;\n        \n        rep(i,n){int a; cin>>a; data.pb(a);}\n        \n        while(true){\n            if( isOK(data) || ans>10000 )break;\n            \n            rep(i,data.size()){\n                data[i]--;\n            }\n            data.pb(data.size());\n            \n            data=delSpace(data);\n            ans++;\n\n        }\n        \n        if(ans>10000)cout<<\"-1\"<<endl;\n        else cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define SMIN 3\n#define SMAX 1000000\n#define NMIN 1\n#define NMAX 100\n#define BMIN 1\n#define BMAX 10000\n#define LIM 10000\n#define TCASE 20\n\nbool valid[SMAX+1];\n\nbool check(vector<int> v){\n  if ( v[0] != 1 ) return false;\n  for ( int i = 1; i < v.size(); i++ ){\n    if ( v[i-1]+1 != v[i] ) return false;\n  }\n  return true;\n}\n\nint simulate(vector<int> v, int sum){\n  int cnt = 0;\n  while(1){\n    if ( check(v) ) return cnt;\n    int r = v.size();\n    for ( int i = 0; i < v.size(); i++ ) v[i]--;\n    vector<int> nv;\n    for ( int i = 0; i < v.size(); i++ ) {\n      if ( v[i] ) nv.push_back(v[i]);\n    }\n    v = nv;\n    v.push_back(r);\n    cnt++;\n    if ( cnt > LIM ) return cnt;\n  }\n}\n\nint main(){\n  for ( int i = 0; i <= SMAX; i++ ) valid[i] = false;\n  int cur = 3, d = 3;\n  while( cur <= SMAX ){\n    valid[cur] = true;\n    cur += d;\n    d++;\n  }\n\n  int n;\n  int tcase = 0;\n  while(1){\n    cin >> n;\n    if ( n == 0 ) break;\n    tcase++;\n    assert( NMIN <= n && n <= NMAX);\n    vector<int> v;\n    int x;\n    int sum = 0;\n    for ( int i = 0; i < n ;i++) {\n      cin >> x;\n      v.push_back(x);\n      sum += x;\n    }\n    int ans = simulate(v, sum);\n    if ( ans > 10000 ) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n  return 1;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<vector>\n#include<cmath>\n#include<cstdio>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define it ::iterator\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double ESP=1e-10;\nusing namespace std;\nint main(){\n  int n;\n  while(cin>>n,n){\n    vector<int>in(n);\n    rep(i,n)cin>>in[i];\n    int out=0;\n    while(1){\n      bool h=true;\n      rep(i,in.size())if(in[i]!=i+1)h=false;\n      if(h)break;\n      if(out==12000)break;\n      int co=0;\n      rep(i,in.size())if(in[i]){in[i]--;co++;}\n      in.pb(co);\n      rep(i,in.size())if(in[i]==0){in.erase(in.begin()+i);i--;}\n      out++;\n    }\n    if(out>10000)cout<<-1<<endl;\n    else cout<<out<<endl;\n\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint N;\nint b[105];\nvoid plot() {\n    rep(i,N) cout<<b[i]<<\" \";\n    cout<<endl;\n}\nvoid move() {\n    //plot();\n    int h = 0;\n    rep(i,N) if(b[i]!=0) h++;\n    rep(i,N) if(b[i]!=0) b[i]--;\n    b[102]=h;\n    //plot();\n    rep(i,104) {\n        if(!i) continue;\n        if(b[i]!=0) {\n            int j;\n            for(j=i-1;j>=0;j--) {\n                if(b[j]!=0) break;\n            }\n            swap(b[i],b[j+1]);\n        }\n    }\n\n}\nbool ok() {\n    bool f=true;\n    rep(i,N) {\n        if(b[i]==0) break;\n        f&=(i+1)==b[i];\n    }\n    return f;\n\n}\nvoid solve() {\n    rep(i,105) b[i]=0;\n    rep(i,N) cin>>b[i];\n    int cnt=0;\n    if(ok()) {\n        cout<<\"0\"<<endl;\n        return;\n    }\n    while(1) {\n        cnt++;\n        move();\n        if(ok()) {\n            cout<<cnt<<endl;\n            return;\n        }\n        if(cnt == 10001) break;\n\n    }\n    cout<<\"-1\"<<endl;\n}\n\nint main() {\n    while(cin>>N) {\n        if(N==0) break;\n        solve();\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint b[10000];\nint main(){\n\tint a;\n\twhile(scanf(\"%d\",&a),a){\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",b+i);\n\t\tint now=0;\n\t\tint n=a;\n\t\twhile(1){\n\t\t\tbool ok=true;\n\t\t\tfor(int i=0;i<n;i++)if(b[i]!=i+1)ok=false;\n\t\t\tif(ok){\n\t\t\t\tprintf(\"%d\\n\",now);\n\t\t\t\tbreak;\n\t\t\t}else if(now==10000){\n\t\t\t\tprintf(\"-1\\n\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tnow++;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tb[i]--;\n\t\t\t}\n\t\t\tint at=0;\n\t\t\tfor(int i=0;i<n;i++)if(b[i])b[at++]=b[i];\n\t\t\tb[at++]=n;\n\t\t\tn=at;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint N;\nint b[105];\nvoid plot() {\n    rep(i,N) cout<<b[i]<<\" \";\n    cout<<endl;\n}\nvoid move() {\n    //plot();\n    int h = 0;\n    rep(i,104) if(b[i]!=0) h++;\n    rep(i,104) if(b[i]!=0) b[i]--;\n    b[102]=h;\n    //plot();\n    rep(i,104) {\n        if(!i) continue;\n        if(b[i]!=0) {\n            int j;\n            for(j=i-1;j>=0;j--) {\n                if(b[j]!=0) break;\n            }\n            swap(b[i],b[j+1]);\n        }\n    }\n\n}\nbool ok() {\n    bool f=true;\n    rep(i,N) {\n        if(b[i]==0) break;\n        f&=(i+1)==b[i];\n    }\n    return f;\n\n}\nvoid solve() {\n    rep(i,105) b[i]=0;\n    rep(i,N) cin>>b[i];\n    int cnt=0;\n    if(ok()) {\n        cout<<\"0\"<<endl;\n        return;\n    }\n    while(1) {\n        cnt++;\n        move();\n        if(ok()) {\n            cout<<cnt<<endl;\n            return;\n        }\n        if(cnt == 10001) break;\n\n    }\n    cout<<\"-1\"<<endl;\n}\n\nint main() {\n    while(cin>>N) {\n        if(N==0) break;\n        solve();\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n#include <stack>\n#include <climits>\n#include <deque>\n#include <bitset>\n#include <cassert>\n#include <ctime>\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\nconst int dy[]={-1,0,1,0},dx[]={0,1,0,-1};\n// adjust problem by problem\nconst double EPS=1e-8;\nconst double PI=acos(-1.0);\n#ifdef __GNUC__\nint popcount(int n){return __builtin_popcount(n);}\nint popcount(ll n){return __builtin_popcountll(n);}\n#endif\n#ifndef __GNUC__\ntemplate<class T> int popcount(T n){int cnt=0;while(n){if(n%2)cnt++;n/=2;}return cnt;}\n#endif\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\ntemplate<class T> void PrintSeq(T &a,int sz){for(int i=0;i<sz;i++){cout<<a[i];if(sz==i+1)cout<<endl;else cout<<' ';}}\nbool EQ(double a,double b){return abs(a-b)<EPS;}\nvoid fastStream(){cin.tie(0);std::ios_base::sync_with_stdio(0);}\nvector<string> split(string str,char del){\n  vector<string> res;\n  for(int i=0,s=0;i<SIZE(str);i++){\n    if(str[i]==del){if(i-s!=0)res.push_back(str.substr(s,i-s));s=i+1;}\n    else if(i==SIZE(str)-1){res.push_back(str.substr(s));}\n  }\n  return res;\n}\n\nint N;\nint bs[100001];\nint main(){\n  while(cin>>N&&N){\n    int sum=0;\n    for(int i=0;i<N;i++){\n      cin>>bs[i];\n      sum+=bs[i];\n    }\n    bool ok=false;\n    int k=0;\n    for(k=1;k*(k+1)/2<=sum;k++){\n      if(k*(k+1)/2==sum){\n        ok=true;\n        break;\n      }\n    }\n    int sz=N;\n    if(!ok)cout<<-1<<endl;\n    else{\n      int iter=0;\n      for(iter=0;iter<10000;iter++){\n        ok=true;\n        // check\n        for(int i=0;i<k;i++)\n          if(bs[i]!=i+1)ok=false;\n        if(ok)break;\n        // remake\n        int cnt=0;\n        int val=0;\n        for(int i=0;i<sz;i++){\n          if(bs[i]==0)cnt++;\n          else{\n            bs[i]--;\n            val++;\n          }\n        }\n        int pos=0;\n        for(int i=0;i<sz;i++)\n          if(bs[i]!=0)bs[pos++]=bs[i];\n        bs[pos++]=val;\n        sz=pos;\n      }\n      if(iter==10000)cout<<-1<<endl;\n      else cout<<iter<<endl;\n    }\n  }\n  \n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<299;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n,sum=0;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            for(int j=0;j<co;j++)num[j]-=1;\n            num[co]=co;\n            for(int j=0;j<=co;j++){\n                if(num[j]==0){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=0){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n            }\n            for(int j=0;j<=co+1;j++){\n                if(num[j]==0||j==co+1){\n                    co=j;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "// includes {{{\n#include<iostream>\n#include<iomanip>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<tuple>\n#include<cmath>\n#include<random>\n#include<cassert>\n#include<bitset>\n#include<cstdlib>\n// #include<deque>\n// #include<multiset>\n// #include<cstring>\n// #include<bits/stdc++.h>\n// }}}\nusing namespace std;\nusing ll = long long;\n\n// #undef DEBUG\n// #define DEBUG\n// DEBUG {{{\n#include <array>\n#include <deque>\n#include <list>\n#include <ostream>\n#include <queue>\n#include <stack>\n#include <tuple>\n#include <valarray>\n#include <vector>\ntemplate < int n, class... T >\ntypename std::enable_if< (n >= sizeof...(T)) >::type __output_tuple(\n    std::ostream &, std::tuple< T... > const &) {}\ntemplate < int n, class... T >\ntypename std::enable_if< (n < sizeof...(T)) >::type __output_tuple(\n    std::ostream &os, std::tuple< T... > const &t) {\n  os << (n == 0 ? \"\" : \", \") << std::get< n >(t);\n  __output_tuple< n + 1 >(os, t);\n}\ntemplate < class... T >\nstd::ostream &operator<<(std::ostream &os, std::tuple< T... > const &t) {\n  os << \"(\";\n  __output_tuple< 0 >(os, t);\n  os << \")\";\n  return os;\n}\ntemplate < class T, class U >\nstd::ostream &operator<<(std::ostream &os, std::pair< T, U > const &p) {\n  os << \"(\" << p.first << \", \" << p.second << \")\";\n  return os;\n}\ntemplate < class T >\nstd::ostream &operator<<(std::ostream &os, const std::stack< T > &a) {\n  os << \"{\";\n  for(auto tmp = a; tmp.size(); tmp.pop())\n    os << (a.size() == tmp.size() ? \"\" : \", \") << tmp.top();\n  os << \"}\";\n  return os;\n}\ntemplate < class T, class Container, class Compare >\nstd::ostream &operator<<(std::ostream &os,\n    std::priority_queue< T, Container, Compare > a) {\n  os << \"{ (top) \";\n  while(a.size()) os << a.top() << (a.size() == 1 ? \"\" : \", \"), a.pop();\n  os << \" }\";\n  return os;\n}\ntemplate < class T, class Container >\nstd::ostream &operator<<(std::ostream &os, std::queue< T, Container > a) {\n  os << \"{ \";\n  while(a.size()) os << a.front() << (a.size() == 1 ? \"\" : \", \"), a.pop();\n  os << \" }\";\n  return os;\n}\n#ifdef DEBUG\n#if !defined(DEBUG_OUT)\n#define DEBUG_OUT std::cerr\n#endif\n#define dump(...)                                                                \\\n  [&]() {                                                                        \\\n    auto __debug_tap = std::make_tuple(__VA_ARGS__);                             \\\n    DEBUG_OUT << \"[\" << __LINE__ << \"] \" << #__VA_ARGS__ << \" = \" << __debug_tap \\\n    << std::endl;                                                      \\\n  }()\ntemplate < class T >\ninline void dump2D(T &d, size_t sizey, size_t sizex) {\n  for(size_t i = 0; i < sizey; i++) {\n    DEBUG_OUT << \"\\t\";\n    for(size_t j = 0; j < sizex; j++)\n      DEBUG_OUT << d[i][j] << (j + 1 == sizex ? \"\" : \"\\t\");\n    DEBUG_OUT << std::endl;\n  }\n}\ntemplate < class T >\ninline void dump1D(T &d, size_t sizey) {\n  for(size_t i = 0; i < sizey; i++) {\n    DEBUG_OUT << d[i] << (i + 1 == sizey ? \"\" : \" \");\n  }\n  DEBUG_OUT << std::endl;\n}\ntemplate <\nclass T, class = typename std::iterator_traits< decltype(begin(T())) >::value_type,\n      class = typename std::enable_if< !std::is_same< T, std::string >::value >::type >\n      std::ostream &operator<<(std::ostream &os, const T &a) {\n        os << \"{\";\n        for(auto ite = begin(a); ite != end(a); ++ite)\n          os << (ite == begin(a) ? \"\" : \", \") << *ite;\n        os << \"}\";\n        return os;\n      }\n#else\n#define dump(...) (42)\n#define dump2D(...) (42)\n#define dump1D(...) (42)\ntemplate <\nclass T, class = typename std::iterator_traits< decltype(begin(T())) >::value_type,\n      class = typename std::enable_if< !std::is_same< T, std::string >::value >::type >\n      std::ostream &operator<<(std::ostream &os, const T &a) {\n        for(auto ite = begin(a); ite != end(a); ++ite)\n          os << (ite == begin(a) ? \"\" : \" \") << *ite;\n        return os;\n      }\n#endif\n// }}}\n\n\nint n;\nll a[100];\n\nint main() {\n  std::ios::sync_with_stdio(false), std::cin.tie(0);\n  while(1) {\n    cin >> n;\n    if(n == 0) return 0;\n    vector<int> b;\n\n    ll bias = 0;\n\n    ll sum = 0;\n\n    for(int i = 0; i < n; i++) {\n      cin >> a[i];\n      sum += a[i];\n      b.push_back(a[i]);\n    }\n\n    ll target = 1;\n    while(target * (target + 1) / 2 < sum) {\n      target++;\n    }\n\n    if(target * (target + 1) / 2 != sum) {\n      cout << -1 << endl;\n      continue;\n    }\n\n    ll cnt = 0;\n\n    for(int i = n-1, j = 0; i >= 0; i--, j++) {\n      if(a[i] == target - j) cnt++;\n      else break;\n    }\n    dump(target);\n\n\n    int ans = -1;\n    if(cnt == target) {\n      ans = 0;\n    } else {\n      for(int i = 1; i <= 10000; i++) {\n        int sz = b.size();\n        vector<int> c;\n        for(int j = 0; j < sz; j++) {\n          b[j]--;\n          if(b[j]) {\n            c.push_back(b[j]);\n          }\n        }\n        b = c;\n        b.push_back(sz);\n        int ok = 1;\n        if(target != (int) b.size()) ok = 0; else {\n          for(int j = 0; j < target; j++) {\n            if(b[j] != j + 1) ok = 0;\n          }\n        }\n        if(ok) {\n          ans = i;\n          break;\n        }\n      }\n    }\n\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint blocks[1000001], n;\n\n\nvoid update()\n{\n  for(int i = 0; i < n; i++)\n    blocks[i]--;\n  blocks[n++] = n;\n  int m = 0;\n  for(int i = 0; i < n; i++)\n  {\n    if(blocks[i] == 0)\n    {\n      m++;\n    }\n    else\n      blocks[i - m] = blocks[i];\n  }\n  n -= m;\n}\n\nbool check()\n{\n  for(int i = 0; i < n; i++)\n  {\n    if(blocks[i] != i + 1)\n      return false;\n  }\n  return true;\n}\n\nint main()\n{\n  while(true)\n  {\n    cin >> n;\n    if(!n)\n      break;\n    for(int i = 0; i < n; i++)\n      cin >> blocks[i];\n    for(int i = 0; i <= 10000; i++)\n    {\n      if(check())\n      {\n        cout << i << endl;\n        goto success;\n      }\n      update();\n    }\n    cout << -1 << endl;\nsuccess:;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main()\n{\n\tint n;\n\n\tcin >> n;\n\n\twhile (n > 0) {\n\t\tvector<int> b(n);\n\n\t\tint m = 0, t = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> b[i];\n\t\t\tm += b[i];\n\t\t}\n\t\t\n\t\tfor (int i = 1; i < 1500; i++) {\n\t\t\tif (i * (i + 1) / 2 == m) {\n\t\t\t\tt = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (t == 0)\n\t\t\tcout << -1 << endl;\n\t\telse {\n\t\t\tint ct = 0;\n\n\t\t\twhile (ct < 10000) {\n\n\t\t\t\tint k = 1;\n\t\t\t\tbool f = 0;\n\t\t\t\tvector<int> a = b;\n\t\t\t\tb.clear();\n\t\t\t\tfor (int i = 0; i < a.size(); i++) {\n\t\t\t\t\tif (a[i] != 1)\n\t\t\t\t\t\tb.push_back(a[i] - 1);\n\t\t\t\t\tif (a[i] != i + 1)\n\t\t\t\t\t\tf = 1;\n\t\t\t\t}\n\t\t\t\tif (!f)\n\t\t\t\t\tbreak;\n\n\t\t\t\tct++;\n\t\t\t\tb.push_back(a.size());\n\t\t\t}\n\n\t\t\tif (ct >= 10000)\n\t\t\t\tcout << -1 << endl;\n\t\t\telse\n\t\t\t\tcout << ct << endl;\n\t\t}\n\n\t\tcin >> n;\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1){\n                    for(int k=j+1;k<=co&&num[j]==1;k++)if(num[k]!=1)swap(num[j],num[k]);\n                }\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nvoid solve()\n{\n\tvector<int> triangleNum;\n\tint a = 1;\n\twhile(a * (a + 1) / 2 <= 100000)\n\t{\n\t\ttriangleNum.push_back(a * (a + 1) / 2);\n\t\t++a;\n\t}\n\tint N;\n\twhile(cin >> N, N)\n\t{\n\t\tvector<int> b(N);\n\t\tint sum = 0;\n\t\tfor(int i = 0; i < N; ++i)\n\t\t{\n\t\t\tcin >> b[i];\n\t\t\tsum += b[i];\n\t\t}\n\t\tint index = -1;\n\t\tfor(int i = 0; i < triangleNum.size(); ++i)\n\t\t{\n\t\t\tif(triangleNum[i] == sum)\n\t\t\t{\n\t\t\t\tindex = i + 1;\n\t\t\t}\n\t\t}\n\t\tif(index == -1)\n\t\t{\n\t\t\tcout << -1 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\telse if(index == b.size())\n\t\t{\n\t\t\tbool initOk = true;\n\t\t\tfor(int i = 0; i < index; ++i)\n\t\t\t{\n\t\t\t\tif(b[i] != i + 1)\n\t\t\t\t{\n\t\t\t\t\tinitOk = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(initOk)\n\t\t\t{\n\t\t\t\tcout << 0 << endl;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tint count = 1;\n\t\twhile(count < 10000)\n\t\t{\n\t\t\tvector<int> next;\n\t\t\tfor(int i = 0; i < b.size(); ++i)\n\t\t\t{\n\t\t\t\tif(b[i] != 1)\n\t\t\t\t{\n\t\t\t\t\tnext.push_back(b[i] - 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tnext.push_back(b.size());\n\n\t\t\tif(next.size() == index)\n\t\t\t{\n\t\t\t\tbool ok = true;\n\t\t\t\tfor(int j = 0; j < index; ++j)\n\t\t\t\t{\n\t\t\t\t\tif(next[j] != j + 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(ok)\n\t\t\t\t{\n\t\t\t\t\tcout << count << endl;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t++count;\n\t\t\tb = next;\n\t\t}\n\t\tif(count >= 10000)\n\t\t{\n\t\t\tcout << -1 << endl;\n\t\t}\n\t}\n}\n\nint main()\n{\n\tsolve();\n\treturn(0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1)for(int k=j+1;k<=co&&num[j]==1;k++)if(num[k]!=1)swap(num[j],num[k]);\n                num[j]--;\n                if(num[j]==0)co=j-1;\n            }\n            co++;\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tvector<int> b(n);\n\t\tREP(i, n) scanf(\"%d\", &b[i]);\n\t\t\n\t\tint ans = 0;\n\t\t\n\t\twhile (true) {\n\t\t\tbool flag = true;\n\t\t\tREP(i, b.size()) if (b[i] != i + 1) flag = false;\n\t\t\tif (flag) break;\n\t\t\t\n\t\t\tif (ans > 10000) { ans = -1; break; }\n\n\t\t\tvector<int> tmp;\n\t\t\tREP(i, b.size()) if (b[i] > 1) tmp.push_back(b[i] - 1);\n\t\t\ttmp.push_back(b.size());\n\n\t\t\tb = tmp;\n\t\t\tans++;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<9999;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <utility>\n#include <ctime>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <fstream>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstring>\n#include <numeric>\n#include <cassert>\nusing namespace std;\n\n\n\nint isok(vector<int> &b){\n\tfor(int i = 0 ; i < b.size() ; i++)\n\t\tif( b[i] != i+1 ) return 0;\n\treturn 1;\n}\nint main(){\n\tint N;\n\twhile(cin >> N && N){\n\t\tvector<int> b(N);\n\t\tfor(int i = 0 ; i < N ; i++) cin >> b[i];\n\t\tint t = 0;\n\t\twhile( !isok(b) && t <= 10000 ){\n\t\t\tt++;\n\t\t\tint sz = b.size();\n\t\t\tfor(int i = 0 ; i < b.size() ; i++)\n\t\t\t\tb[i]--;\n\t\t\tb.erase(remove(b.begin(),b.end(),0),b.end());\n\t\t\tb.push_back(sz);\n\t\t}\n\t\tif( t > 10000 ) cout << -1 << endl;\n\t\telse cout << t << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nbool check(vector<int>&B){\n    if(B.size() == 1)return 0;\n    for(int i = 1; i < B.size(); i++){\n        if(B[i-1] + 1 != B[i])return 0;\n    }\n    return 1;\n}\nint main(){\n\tint n;\n\tvector<int> T;\n\tfor(int i = 0; i < 200; i++)T.push_back(i*(i+1)/2);\n\twhile(cin >> n,n){\n\t    vector<int> B;\n\t    int cnt = 0;\n\t    int temp;\n        for(int i = 0; i < n; i++){\n            cin >> temp;\n            cnt += temp;\n            B.push_back(temp);\n        }\n        int ans = -1;\n        if(binary_search(T.begin(),T.end(),cnt)){\n            for(n=0;n <= 10000;n++){\n                if(check(B)){\n                    ans = n;\n                    break;\n                }\n                else{\n                    int a = B.size();\n                    vector<int>::iterator it = B.begin();\n                    for(int i = 0; i < a; i++){\n                        B[i]--;\n                    }\n                    B.push_back(a);\n                    while(a--){\n                        if((*it) == 0){\n                            it = B.erase(it);\n                            //it--;\n                        }\n                        else it++;\n                    }\n                }\n            }\n        }\n        cout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint blocks[101], n;\n\n\nvoid update()\n{\n  for(int i = 0; i < n; i++)\n    blocks[i]--;\n  blocks[n++] = n;\n  int m = 0;\n  for(int i = 0; i < n; i++)\n  {\n    if(blocks[i] == 0)\n    {\n      m++;\n    }\n    else\n      blocks[i - m] = blocks[i];\n  }\n  n -= m;\n}\n\nbool check()\n{\n  for(int i = 0; i < n; i++)\n  {\n    if(blocks[i] != i + 1)\n      return false;\n  }\n  return true;\n}\n\nint main()\n{\n  while(true)\n  {\n    cin >> n;\n    if(!n)\n      break;\n    for(int i = 0; i < n; i++)\n      cin >> blocks[i];\n    for(int i = 0; i <= 10000; i++)\n    {\n      if(check())\n      {\n        cout << i << endl;\n        goto success;\n      }\n      update();\n    }\n    cout << -1 << endl;\nsuccess:;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <list>\n#include <vector>\nusing namespace std;\n\nbool is_finish(list<int> t){\n  int a = 0;\n  for(list<int>::iterator it = t.begin() ; it != t.end() ; it++){\n    if(*it != ++a) return false;\n  }\n  return true;\n}\n\nint main(){\n  int n;\n  while(cin >> n, n){\n    list<int> block;\n    int a;\n    for(int i = 0 ; i < n ; i++){\n      cin >> a;\n      block.push_back(a);\n    }\n    \n    int ans = 0;\n    while(!is_finish(block)){\n      if(ans > 10000) break;\n      int cnt = 0;\n      list<int>::iterator it = block.begin();\n      \n      for(list<int>::iterator it = block.begin() ; it != block.end() ; it++){\n\t(*(it))--;\n\tif(*(it) == 0) block.erase(it);\n\tcnt++;\n      }\n      block.push_back(cnt);\n      ans++;\n    }\n    if(ans > 10000) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n  return 0;\n}\n\n\n\n    "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[100000];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i < 10000; ++i){\n\n\n      \n      bool f = true;\n      for (int k = 0; k < 100000 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 100000 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<10000){\n      cout << i << endl;\n    } else {\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n;\nvector<int> v;\n\nbool check(vector<int> &v)\n{\n\tfor (int i = 0; i < v.size(); i++){\n\t\tif (v[i] != i + 1) return false;\n\t}\n\treturn true;\n}\n\nvoid solve()\n{\n\tint cnt = 0;\n\twhile (true){\n\t\tif (check(v)){\n\t\t\tprintf(\"%d\\n\", cnt);\n\t\t\treturn;\n\t\t}\n\t\telse if (cnt > 10000){\n\t\t\tprintf(\"-1\\n\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tint tmp = v.size();\n\t\tfor (int i = 0; i < v.size(); i++){\n\t\t\tv[i]--;\n\t\t\tif (v[i] == 0){\n\t\t\t\ti = v.erase(v.begin() + i) - v.begin();\n\t\t\t\t--i;\n\t\t\t}\n\t\t}\n\t\tv.push_back(tmp);\n\t\t\n\t\tcnt++;\n\t}\n}\n\nint main()\n{\n\twhile (scanf(\"%d\", &n), n){\n\t\tv.resize(n);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &v[i]);\n\t\t}\n\t\tsolve();\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nvector<int> b,tri,ans;\nint main(){\n\tfor(int i=0;i<1000;i++){\n\t\ttri.push_back(i*(i+1)/2);\n\t}\n\twhile(true){\n\t\tb.clear();\n\t\tans.clear();\n\t\tint n,k=0;\n\t\tcin >> n;\n\t\tif(n==0) break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint h;\n\t\t\tcin >> h;\n\t\t\tk+=h;\n\t\t\tb.push_back(h);\n\t\t}\n\t\tif(find(tri.begin(),tri.end(),k)==tri.end()){\n\t\t\tcout << -1 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\tint p=find(tri.begin(),tri.end(),k)-tri.begin();\n\t\tfor(int i=0;i<p;i++) ans.push_back(i+1);\n\t\tfor(int i=0;i<=10000;i++){\n\t\t\tif(b==ans){\n\t\t\t\tcout << i << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor(int j=0;j<b.size();j++) b[j]--;\n\t\t\tb.push_back(b.size());\n\t\t\tfor(int j=0;j<b.size();j++){\n\t\t\t\tif(b[j]==0){\n\t\t\t\t\tb.erase(b.begin()+j);\n\t\t\t\t\tj--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(b!=ans) cout << -1 << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nbool is_completed(vector<int> &blocks) {\n\n    for(int i = 0; i < blocks.size(); ++i) {\n        if(blocks[i] != i + 1) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nint main() {\n\n    int n;\n\n    while(cin >> n, n) {\n\n        vector<int> b(n);\n        int cnt = 0;\n\n        for(int i = 0; i < n; ++i) {\n            cin >> b[i];\n        }\n\n        bool complete = false;\n        while(!(complete = is_completed(b)) && cnt < 10000) {\n\n            vector<int> nb;\n\n            for(int i = 0; i < b.size(); ++i) {\n                --b[i];\n            }\n\n            for(int i = 0; i < b.size(); ++i) {\n                if(b[i]) {\n                    nb.push_back(b[i]);\n                }\n            }\n\n            nb.push_back(b.size());\n\n            b = nb;\n\n            ++cnt;\n\n        }\n\n        if(complete) {\n            cout << cnt << endl;\n        } else {\n            cout << -1 << endl;\n        }\n\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<queue>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\n#include<climits>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reg(i,a,b) for(int i=(a);i<=(b);i++)\n#define irep(i,n) for(int i=((int)(n))-1;i>=0;i--)\n#define ireg(i,a,b) for(int i=(b);i>=(a);i--)\ntypedef long long int lli;\ntypedef pair<int,int> mp;\n#define fir first\n#define sec second\n#define IINF INT_MAX\n#define LINF LLONG_MAX\n\nint n;\n\nint dat[1000000]={};\n\n\nint main(void){\n\twhile(1){\nnextn:;\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tmemset(dat,0,sizeof(dat));\n\t\trep(i,n){\n\t\t\tscanf(\"%d\",&dat[i]);\n\t\t}\n\t\t\n\t\tint ns = n;\n\t\trep(i,10001){\n\t\t\t\n\t\t\tif(dat[0]==1){\n\t\t\t\trep(k,ns){\n\t\t\t\t\tif(k==ns-1){\n\t\t\t\t\t\tprintf(\"%d\\n\",i);\n\t\t\t\t\t\tgoto nextn;\n\t\t\t\t\t}\n\t\t\t\t\tif(dat[k+1]!=dat[k]+1)break;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint st = 0;\n\t\t\trep(k,ns){\n\t\t\t\tdat[k]--;\n\t\t\t\tdat[st]=dat[k];\n\t\t\t\tif(dat[k]!=0)st++;\n\t\t\t}\n\t\t\tdat[st] = ns;\n\t\t\tns = st+1;\n\t\t\t/*\n\t\t\trep(i,ns){\n\t\t\t\tprintf(\"%d \",dat[i]);\n\t\t\t}\n\t\t\tprintf(\"\\n\");*/\n\t\t}\n\t\tprintf(\"-1\\n\");\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nconst int MAXW = 10004;\nint N;\nint b[2][MAXW];\n\nbool tri(int a[MAXW]) {\n  for(int i = 0; i < MAXW && a[i] != 0; ++i) {\n    if(a[i] != i+1) return false;\n  }\n  return true;\n}\n\nint solve() {\n  if(tri(b[0])) return 0;\n  for(int t = 0; t < 10000; ++t) {\n    int p = t%2;\n    int q = 1-p;\n    fill(b[q], b[q]+MAXW, 0);\n    int h = 0;\n    int j = 0;\n    for(int i = 0; i < MAXW && b[p][i] != 0; ++i, ++j) {\n      ++h;\n      if(b[p][i] - 1 == 0) --j;\n      else b[q][j] = b[p][i] - 1;\n    }\n    b[q][j] = h;\n    if(tri(b[q])) return t+1;\n  }\n  return -1;\n}\n\nint main() {\n  while(cin >> N && N) {\n    fill(b[0], b[2], 0);\n    for(int i = 0; i < N; ++i) {\n      cin >> b[0][i];\n    }\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<cassert>\nusing namespace std;\n#define SMIN 3\n#define SMAX 1000000\n#define NMIN 1\n#define NMAX 100\n#define BMIN 1\n#define BMAX 10000\n#define LIM 10000\n#define TCASE 20\n\nbool valid[SMAX+1];\n\nbool check(vector<int> v){\n  if ( v[0] != 1 ) return false;\n  for ( int i = 1; i < v.size(); i++ ){\n    if ( v[i-1]+1 != v[i] ) return false;\n  }\n  return true;\n}\n\nint simulate(vector<int> v, int sum){\n  assert( SMIN <= sum && sum <= SMAX );\n  //if ( !valid[sum]) return -1;\n  int cnt = 0;\n  while(1){\n    if ( check(v) ) return cnt;\n    int r = v.size();\n    for ( int i = 0; i < v.size(); i++ ) v[i]--;\n    vector<int> nv;\n    for ( int i = 0; i < v.size(); i++ ) {\n      if ( v[i] ) nv.push_back(v[i]);\n    }\n    v = nv;\n    v.push_back(r);\n    cnt++;\n    if ( cnt > LIM ) return cnt;\n  }\n}\n\nmain(){\n  for ( int i = 0; i <= SMAX; i++ ) valid[i] = false;\n  int cur = 3, d = 3;\n  while( cur <= SMAX ){\n    valid[cur] = true;\n    cur += d;\n    d++;\n  }\n\n  int n;\n  int tcase = 0;\n  while(1){\n    cin >> n;\n    if ( n == 0 ) break;\n    tcase++;\n    assert( NMIN <= n && n <= NMAX);\n    vector<int> v;\n    int x;\n    int sum = 0;\n    for ( int i = 0; i < n ;i++) {\n      cin >> x;\n      assert( BMIN <= x && x <= BMAX);\n      v.push_back(x);\n      sum += x;\n    }\n    int ans = simulate(v, sum);\n    if ( ans > 10000 ) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n  assert( tcase <= TCASE );\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define SMIN 3\n#define SMAX 1000000\n#define NMIN 1\n#define NMAX 100\n#define BMIN 1\n#define BMAX 10000\n#define LIM 10000\n#define TCASE 20\n\nbool valid[SMAX+1];\n\nbool check(vector<int> v){\n  if ( v[0] != 1 ) return false;\n  for ( int i = 1; i < v.size(); i++ ){\n    if ( v[i-1]+1 != v[i] ) return false;\n  }\n  return true;\n}\n\nint simulate(vector<int> v, int sum){\n  assert( SMIN <= sum && sum <= SMAX );\n  //if ( !valid[sum]) return -1;\n  int cnt = 0;\n  while(1){\n    if ( check(v) ) return cnt;\n    int r = v.size();\n    for ( int i = 0; i < v.size(); i++ ) v[i]--;\n    vector<int> nv;\n    for ( int i = 0; i < v.size(); i++ ) {\n      if ( v[i] ) nv.push_back(v[i]);\n    }\n    v = nv;\n    v.push_back(r);\n    cnt++;\n    if ( cnt > LIM ) return cnt;\n  }\n}\n\nmain(){\n  for ( int i = 0; i <= SMAX; i++ ) valid[i] = false;\n  int cur = 3, d = 3;\n  while( cur <= SMAX ){\n    valid[cur] = true;\n    cur += d;\n    d++;\n  }\n\n  int n;\n  int tcase = 0;\n  while(1){\n    cin >> n;\n    if ( n == 0 ) break;\n    tcase++;\n    assert( NMIN <= n && n <= NMAX);\n    vector<int> v;\n    int x;\n    int sum = 0;\n    for ( int i = 0; i < n ;i++) {\n      cin >> x;\n      assert( BMIN <= x && x <= BMAX);\n      v.push_back(x);\n      sum += x;\n    }\n    int ans = simulate(v, sum);\n    if ( ans > 10000 ) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n  assert( tcase <= TCASE );\n}"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#define F first\n#define S second\nusing namespace std;\n\nbool check(deque<int>& deq,int counter)\n{\n  for(int i=deq.size()-1;i>=0;i--)\n\t    {\t\t\n\t      if(deq[i] != counter)\n\t\treturn false;\n\t      else\t\t\n\t\tcounter--;\n\t    }\n  return counter == 0;\n}\n\nint main()\n{\n  int N;\n\n  //deque<int> tes;\n  //for(int i=0;i<5;i++)\n    //tes.push_back(i);\n  //deque<int>::iterator it = tes.begin();\n  //tes.erase(it+3);\n  //for(deque<int>::iterator it = tes.begin();it!=tes.end();it++)\n    //{\n      //(*it)+=2100;\n      //}\n  //for(int i=0;i<tes.size();i++)\n    //cout << tes[i] << endl;\n    //cout << \"----\" << endl;\n  //         0 1 2 3 4\n  //index -> 0 1 2 3 4\n\n  while(true)\n    {\n      cin >> N;\n      if(!N)\n\tbreak;\n      deque<int> deq;\n      for(int i=0;i<N;i++)\n\t{\n\t  int input;\n\t  cin >> input;\n\t  deq.push_back(input);\n\t}\n\n      if(check(deq,N))\n\t{\n\t  cout << 0 << endl;\n\t  continue;\n\t}     \n\n      bool fin = true;\n\n      for(int m = 1;m <= 10000;m++)\n\t{/*1*/\n\t  //cout << \"m = \" << m << endl;\n\t  fin = true;\n\t  int counter = 0;\n\t  deque<int> n_deq;\n\t  for(int i=0;i<deq.size();i++)\n\t    {\n\t      if(deq[i] >= 1)\n\t\t{\n\t\t  counter++;\n\t\t  deq[i]--;\n\t\t}\n\t      if(deq[i] >= 1)\n\t\t{\n\t\t  n_deq.push_back(deq[i]);\n\t\t}\n\t    }\n\t  \n\t  /*\n\t  for(deque<int>::iterator it = deq.begin();it != deq.end(); it++)\n\t    {\n\t      if((*it) >= 1)\n\t\t{\n\t\t  counter++;\n\t\t  (*it)-=1;\n\t\t}\n\t      if((*it) <= 0)\n\t\t{\n\t\t  deq.erase(it);\n\t\t}\n\t    }\n\t  */\n\t  deq = n_deq;\n\t  deq.push_back(counter);\n\t  /*\n\t  for(int i=deq.size()-1;i>=0;i--)\n\t    {\t\t\n\t      if(deq[i] != counter)\n\t\t  fin = false;\t\t\n\t      else \n\t\tcounter--;\n\t    }\n\t  */\n\t  if(check(deq,counter))\n\t    {\n\t      cout << m << endl;\n\t      fin = false;\n\t      break;\n\t    } \n\t}/*1*/\n      if(fin)\n\tcout << -1 << endl;\n     \n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint N;\nint b[105];\nvoid plot() {\n    rep(i,104) cout<<b[i]<<\" \";\n    cout<<endl;\n}\nvoid move() {\n    //plot();\n    int h = 0;\n    rep(i,104) if(b[i]!=0) h++;\n    rep(i,104) if(b[i]!=0) b[i]--;\n    b[102]=h;\n    //plot();\n    rep(i,104) {\n        if(!i) continue;\n        if(b[i]!=0) {\n            int j;\n            for(j=i-1;j>=0;j--) {\n                if(b[j]!=0) break;\n            }\n            swap(b[i],b[j+1]);\n        }\n    }\n\n}\nbool ok() {\n    bool f=true;\n    rep(i,104) {\n        if(b[i]==0) break;\n        f&=(i+1)==b[i];\n    }\n    return f;\n\n}\nvoid solve() {\n    rep(i,105) b[i]=0;\n    rep(i,N) cin>>b[i];\n    int cnt=0;\n    if(ok()) {\n        cout<<\"0\"<<endl;\n        return;\n    }\n    while(1) {\n        cnt++;\n        move();\n        if(ok()) {\n            cout<<cnt<<endl;\n            return;\n        }\n        if(cnt == 10000) break;\n\n    }\n    cout<<\"-1\"<<endl;\n}\n\nint main() {\n    while(cin>>N) {\n        if(N==0) break;\n        solve();\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nint main() {\n\tint n;\n\twhile (scanf(\"%d\", &n), n) {\n\t\tvector<int>b(n);\n\t\trep(i, n)scanf(\"%d\", &b[i]);\n\t\tfor (int cnt = 0;; cnt++) {\n\t\t\tif (cnt > 10000) {\n\t\t\t\tputs(\"-1\"); break;\n\t\t\t}\n\t\t\tbool ok = true;\n\t\t\trep(i, b.size()) {\n\t\t\t\tif (b[i] != i + 1)ok = false;\n\t\t\t}\n\t\t\tif (ok) {\n\t\t\t\tprintf(\"%d\\n\", cnt); break;\n\t\t\t}\n\t\t\trep(i, b.size())b[i]--;\n\t\t\tb.push_back(b.size());\n\t\t\tb.erase(remove(b.begin(), b.end(), 0), b.end());\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cassert>\n\n#define REP(i,m,n) for(int i=m;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rp(i,c) rep(i,(int)c.size())\n#define fr(i,c) for(__typeof((c).begin()) i=(c).begin();i!=(c).end();i++)\n#define mp make_pair\n#define pb push_back\n#define all(c) (c).begin(),(c).end()\n#define dbg(x) cerr<<#x<<\" = \"<<(x)<<endl\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int,int> pi;\nconst int inf=1<<28;\nconst double INF=1e10,EPS=1e-9;\n\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\nint main(){\n\tint n;\n\twhile(cin >> n,n){\n\t\tvector<int> list;\n\t\trep(i,n){\n\t\t\tint tmp;\n\t\t\tcin >> tmp;\n\t\t\tlist.pb(tmp);\n\t\t}\n\n\t\tint count=0;\n\t\trep(i,10000){\n\t\t\tbool flag=true;\n\t\t\trp(i2,list){\n\t\t\t\tif(list[i2]!=i2+1){\n\t\t\t\t\tflag=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint s=list.size();\n\t\t\trp(i2,list){\n\t\t\t\tlist[i2]--;\n\t\t\t}\n\t\t\tlist.erase(remove(list.begin(), list.end(), 0), list.end());\n\t\t\tlist.pb(s);\n\n\t\t\tcount++;\n\t\t}\n\t\tif(!(count==10000)){\n\t\t\tcout << count << endl;\n\t\t}else{\n\t\t\tcout << -1 << endl;\n\t\t}\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//列にあるブロックの数を単純に趣味レートする(ただし、ブロックは常に左詰めにする)\n#include<iostream>\nusing namespace std;\n#define DB(x) \n\nint N,b[10102];\nint ans[20],cor = 0;\n\nint main(){\n\tint i;\n\twhile(cin >> N){\n\t\tif(N == 0)\n\t\t\tbreak;\n\t\tfor(i = 0;i < 10102;i++)\n\t\t\tb[i] = 0;\n\t\tfor(i = 0;i < N;i++)\n\t\t\tcin >> b[i];\n\t\t//シュミレーション\n\t\tint wide = N;\t\t\t//ブロックが何列積まれているか\n\t\twhile(ans[cor] <= 10000){\n\t\t\tfor(i = 0;i < wide;i++){\n\t\t\t\tif(b[i] != i+1)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(i == wide)\n\t\t\t\tbreak;\n\t\t\t//一番下段を抜く(抜いた数をカウント)\n\t\t\tint count = 0;\n\t\t\tfor(i = 0;i < wide;i++){\n\t\t\t\tif(b[i] > 0){\n\t\t\t\t\tb[i]--;\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//一番右の列よりもう一個右にブロックを移動\n\t\t\tb[wide] = count;\n\t\t\t//空白の数を数えながら各列O(1)でシフトする。\n\t\t\tint emp = 0;\n\t\t\tfor(i = 0;i <= wide;i++){\n\t\t\t\tif(b[i] > 0)\n\t\t\t\t\tb[i-emp] = b[i];\n\t\t\t\telse\n\t\t\t\t\temp++;\n\t\t\t}\n\t\t\twide -= emp-1;\t//-1が重要！\n\t\t\tans[cor]++;\n\t\t\tDB(for(i = 0;i <= wide;i++)cout << b[i] << \" \";cout << endl;)\n\t\t}\n\t\tDB(for(i = 0;i <= wide;i++)cout << b[i] << \" \";cout << endl;)\n\t\tif(ans[cor] > 10000)\n\t\t\tans[cor] = -1;\n\t\tcor++;\n\t}\n\tfor(i = 0;i < cor;i++)\n\t\tcout << ans[i] << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n,sum=0;\n        for(int i=0;i<n;i++){\n            cin>>num[i];\n            sum+=num[i];\n        }\n        for(int i=1;sum>0;i++)sum-=i;\n        for(int i=0;;i++){\n                //cout<<co<<endl;\n            bool kawa=1;\n            if(i==10000||sum!=0){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            for(int j=0;j<co;j++)num[j]-=1;\n            num[co]=co;\n            for(int j=0;j<=co;j++){\n                if(num[j]==0){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=0){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n            }\n            for(int j=0;j<=co+1;j++){\n                if(num[j]==0||j==co+1){\n                    co=j;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#include <vector>\n#include <set>\n#include <math.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n; int x[10205],y[10205];\n\t\tscanf(\"%d\",&n); if(n==0) return 0;\n\t\tfor(int i=0;i<n;i++) scanf(\"%d\",&x[i]);\n\t\tfor(int k=0;k<=10000;k++){\n\t\t\tfor(int i=0;i<n;i++) if(x[i] != i+1) goto nxt;\n\t\t\tcout << k << endl; break; nxt:; if(k==10000){puts(\"-1\");break;}\n\t\t\tfor(int i=0;i<n;i++) y[i] = x[i]-1;\n\t\t\ty[n] = n; int nxt = 0;\n\t\t\tfor(int i=0;i<=n;i++) if(y[i] != 0){x[nxt++] = y[i];}\n\t\t\tn = nxt;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nmain()\n{\n    int n;\n    while( cin >> n, n )\n    {\n        vector< int > b(n);\n        for( int i = 0; i < n; i++ )cin >> b[i];\n        for( int cnt = 0;; cnt++ )\n        {\n            if( cnt > 10000 ) {puts(\"-1\");break;}\n            bool ok = 1;\n            for( int i = 0; i < b.size(); i++ )\n            {\n                if( b[i] != i + 1 ) ok = 0;\n            }\n            if( ok ){cout << cnt << endl;break;}\n            for( int i = 0; i < b.size(); i++ )b[i]--;\n            b.push_back( b.size() );\n            b.erase( remove( begin(b), end(b), 0 ), end(b) );\n        }\n    }    \n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\ntypedef std::pair<int,P> State;\n\nconst int INF = 1001001001;\n\n// S N E W(南北東西)\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\nint N;\nstd::queue<int> block, temp;\n\nbool isTriangleNumber(int n){\n    int x = 8 * n + 1;\n    int lb = 0, ub = 3000;\n\n    while(ub - lb > 1){\n        int mid = (lb+ub) / 2;\n\n        if(mid * mid <= x){\n            lb = mid;\n        }else{\n            ub = mid;\n        }\n    }\n\n    if(lb * lb != x){return false;}\n    return lb % 2 == 1;\n}\n\nbool isFinished(){\n    bool f = true;\n    int i = 1;\n    while(!block.empty()){\n        int b = block.front();\n        // printf(\"%d\\n\", b);\n        if(b != i){f = false;}\n        temp.push(b);\n        block.pop();\n        \n        i += 1;\n    }\n    // puts(\"------------------------\");\n\n    if(f){return true;}\n\n    while(!temp.empty()){\n        block.push(temp.front());\n        temp.pop();\n    }\n\n    return false;\n}\n\nint main(){\n    // while(1){std::cin >> N; if(isTriangleNumber(N)){puts(\"Yes\");}else{puts(\"No\");}}\n\n    while(std::cin >> N, N){\n        while(!block.empty()){block.pop();}\n        while(!temp.empty()){temp.pop();}\n\n        int block_n = 0;\n        REP(i, N){\n            int b;\n            std::cin >> b;\n\n            block.push(b);\n            block_n += b;\n        }\n\n        if(!isTriangleNumber(block_n)){\n            puts(\"-1\"); continue;\n        }\n\n        int t = 0;\n        while(t <= 10000){\n            if(isFinished()){break;}\n\n            int group_n = block.size(), new_b = 0;\n            REP(i, group_n){\n                int b = block.front(); block.pop();\n\n                new_b += 1;\n                if(b-1 > 0){block.push(b-1);}\n            }\n\n            block.push(new_b);\n\n            t += 1;\n        }\n\n        if(t > 10000){\n            puts(\"-1\");\n        }else{\n            printf(\"%d\\n\", t);\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<queue>\nusing namespace std;\n\nmain(){\n  int n;\n  while(cin >> n,n){\n    queue<int>k;\n    int a;\n    int qs;\n    int g;\n    int cheak=-1;\n    for(int i=0;i<n;i++){\n      cin >> a;\n      k.push(a);\n    }\n    for(int i=0;i<10000;i++){\n      qs=k.size();\n      g=1;\n      for(int j=0;j<qs;j++){\n\t  if(g==1 && k.front()!=j+1)g=0;\n\t  k.push(k.front());\n\t  k.pop();\n      }\n      if(g==1){\n\t  cheak=i;\n\t  break;\n      }\n      \n      for(int j=0;j<qs;j++){\n\tif(k.front()-1>0) k.push(k.front()-1);\n\tk.pop();\n      }\n      k.push(qs);\n    }\n    cout << cheak << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define all(c) (c).begin(),(c).end()\n#define pb push_back\n#define dbg(...) do{cerr<<__LINE__<<\": \";dbgprint(#__VA_ARGS__, __VA_ARGS__);}while(0);\n\nusing namespace std;\n\nnamespace std{template<class S,class T>struct hash<pair<S,T>>{size_t operator()(const pair<S,T>&p)const{return ((size_t)1e9+7)*hash<S>()(p.first)+hash<T>()(p.second);}};template<class T>struct hash<vector<T>>{size_t operator()(const vector<T> &v)const{size_t h=0;for(auto i : v)h=h*((size_t)1e9+7)+hash<T>()(i)+1;return h;}};}\ntemplate<class T>ostream& operator<<(ostream &os, const vector<T> &v){os<<\"[ \";rep(i,v.size())os<<v[i]<<(i==v.size()-1?\" ]\":\", \");return os;}template<class T>ostream& operator<<(ostream &os,const set<T> &v){os<<\"{ \"; for(const auto &i:v)os<<i<<\", \";return os<<\"}\";}\ntemplate<class T,class U>ostream& operator<<(ostream &os,const map<T,U> &v){os<<\"{\";for(const auto &i:v)os<<\" \"<<i.first<<\": \"<<i.second<<\",\";return os<<\"}\";}template<class T,class U>ostream& operator<<(ostream &os,const pair<T,U> &p){return os<<\"(\"<<p.first<<\", \"<<p.second<<\")\";}\nvoid dbgprint(const string &fmt){cerr<<endl;}template<class H,class... T>void dbgprint(const string &fmt,const H &h,const T&... r){cerr<<fmt.substr(0,fmt.find(\",\"))<<\"= \"<<h<<\" \";dbgprint(fmt.substr(fmt.find(\",\")+1),r...);}\ntypedef long long ll;typedef vector<int> vi;typedef pair<int,int> pi;const int inf = (int)1e9;const double INF = 1e12, EPS = 1e-9;\n\nint main(){\n\tcin.tie(0); cin.sync_with_stdio(0);\n\tint n;\n\twhile(cin >> n, n){\n\t\tvi v;\n\t\trep(i, n){ int x; cin >> x; v.pb(x); }\n\t\trep(it, 10001){\n\t\t\tbool ok = 1;\n\t\t\trep(i, v.size()) if(v[i] != i + 1){\n\t\t\t\tok = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(ok){\n\t\t\t\tcout << it << endl;\n\t\t\t\tgoto END;\n\t\t\t}\n\t\t\trep(i, v.size()) v[i]--;\n\t\t\tv.pb(v.size());\n\t\t\trep(i, v.size()) if(v[i] == 0) v.erase(v.begin() + i--);\n\t\t}\n\t\tcout << -1 << endl;\n\t\tEND:;\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nint main(){\n  int n,b[100000];\n  while(cin >> n,n ){\n      int ans = 0;\n      for(int i = 0 ; i < n ; i++)cin >> b[i];\n    while(1){\n      bool f = true;\n      for(int i = 0 ; i < n ; i++)if(b[i] != i + 1 )f = false;\n      if(f){\n\tcout << ans << endl;\n\tbreak;\n      } else if(ans >= 10000){\n\tcout << \"-1\" << endl;\n\tbreak;\n      }\n      ans++;\n\n      for(int i = 0 ; i < n ; i++){\n\tb[i]--;\n      }\n      int p = 0;\n      for(int i = 0 ; i < n ; i++)if(b[i])b[p++] = b[i];\n      b[p++] = n;\n      n = p;\n    }\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nint main() {\n\tvector<int> dd(100);\n\tfor (int i = 0; i < 100; i++) {\n\t\tdd[i] = (i+1)*(i+2)/2;\n\t}\n\tint n;\n\twhile (cin >> n) {\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tvector<int> data(n);\n\t\tint sum = 0;\n\t\tint a;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> data[i];\n\t\t\tsum += data[i];\n\t\t}\n\t\tbool hantei = false;\n\t\tfor (int i = 0; i < 100; i++) {\n\t\t\tif (sum == dd[i]) {\n\t\t\t\thantei = true;\n\t\t\t\tbreak;\n\t\t\t} else if (sum < dd[i]) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!hantei) {\n\t\t\tcout << -1 << endl;\n\t\t\tcontinue;\n\t\t}\n\t\thantei = true;\n\t\tif (data[0] != 1) {\n\t\t\thantei = false;\n\t\t}\n\t\tif (hantei) {\n\t\t\tfor (int i = 1; i < n; i++) {\n\t\t\t\tif (data[i] != data[i-1]+1) {\n\t\t\t\t\thantei = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!hantei) {\n\t\t\tint counter = 0;\n\t\t\tvector<int> data2;\n\t\t\tfor (int j = 1; j < 10002; j++) {\n\t\t\t\tif (j == 10001) {\n\t\t\t\t\tcout << -1 << endl;\n\t\t\t\t}\n\t\t\t\tcounter = 0;\n\t\t\t\tfor (int i = 0; i < data.size(); i++) {\n\t\t\t\t\tdata[i]--;\n\t\t\t\t\tif (data[i] > 0) {\n\t\t\t\t\t\tdata2.push_back(data[i]);\n\t\t\t\t\t}\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t\tdata2.push_back(counter);\n\t\t\t\tbool hantei2 = true;\n\t\t\t\tif (data2[0] != 1) {\n\t\t\t\t\thantei2 = false;\n\t\t\t\t}\n\t\t\t\tif (hantei2) {\n\t\t\t\t\tfor (int i = 1; i < data2.size(); i++) {\n\t\t\t\t\t\tif (data2[i] != data2[i-1]+1) {\n\t\t\t\t\t\t\thantei2 = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (hantei2) {\n\t\t\t\t\t\tcout << j << endl;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdata = data2;\n\t\t\t\tdata2.clear();\n\t\t\t}\n\t\t} else {\n\t\t\tcout << 0 << endl;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector < int > vec;\nint n;\n\nbool check(){\n\n  for(int i=0;i<vec.size();i++) if(vec[i] != i+1) return false;\n\n  return true;\n}\n\nint main(){\n  \n  while(cin >> n, n){\n    \n    vec.clear();\n    for(int p, i=0;i<n;i++){\n      cin >> p;\n      vec.push_back(p);\n    }\n\n    int ans = 0;\n    for(;ans<10000;ans++){\n      if(check()) break;\n      \n      int cnt = vec.size();\n      for(int i=0;i<vec.size();i++){\n\tvec[i]--;\n\tif(!vec[i]) vec.erase(vec.begin()+i--);\n      }\n      \n      vec.push_back(cnt);\n      \n    }\n    if(ans == 10000) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 10e9+9\n#define EPS 1e-10\n#define MAX_N 100100\n#define MAX_M 100100\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nint n, b;\n\nint main(){\n\twhile (cin >> n&&n){\n\t\tV v, ans, rep;\n\t\tREP(i, n){\n\t\t\tcin >> b;\n\t\t\tv.push_back(b);\n\t\t}\n\t\tint co = 0;\n\t\twhile (1){\n\t\t\tbool f = 1;\n\t\t\tREP(i, v.size()){\n\t\t\t\tif (v[i] != i + 1){\n\t\t\t\t\tf = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (f || co > 10000)break;\n\t\t\trep.clear();\n\t\t\tco++;\n\t\t\tREP(i, v.size()){\n\t\t\t\tif (v[i] != 1)rep.push_back(v[i] - 1);\n\t\t\t}\n\t\t\trep.push_back(v.size());\n\t\t\tv.clear();\n\t\t\tREP(i, rep.size()){\n\t\t\t\tv.push_back(rep[i]);\n\t\t\t}\n\t\t}\n\t\tif (co <= 10000)cout << co << endl;\n\t\telse cout << -1 << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<int> b;\n        for(int i = 0; i < n; i++){\n            int x;  cin>>x;\n            b.push_back(x);\n        }\n        \n        auto judge = [&]()->bool{\n            if(b[0] != 1)   return false;\n            for(int i = 1; i < b.size(); i++){\n                if(b[i] != b[i-1]+1)    return false;\n            }\n            return true;\n        };\n\n        int ans = 0;\n        for(;ans <= 10000; ans++){\n            if(judge())    break;\n            vector<int> v;\n            for(int i = 0; i < b.size(); i++){\n                if(b[i] != 1)   v.push_back(b[i]-1);\n            }\n            v.push_back(b.size());\n            b = v;\n        }\n        if(ans > 10000) cout << -1 << endl;\n        else            cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <list>\n#include <vector>\nusing namespace std;\n\nbool is_finish(list<int> t){\n  int a = 0;\n  for(list<int>::iterator it = t.begin() ; it != t.end() ; it++){\n    if(*it != ++a) return false;\n  }\n  return true;\n}\n\nint main(){\n  int n;\n  list<int> block;\n  while(cin >> n, n){\n    int a;\n    for(int i = 0 ; i < n ; i++){\n      cin >> a;\n      block.push_back(a);\n    }\n    \n    int ans = 0;\n    while(!is_finish(block)){\n      if(ans > 10000) break;\n      int cnt = 0;\n      \n      for(list<int>::iterator it = block.begin() ; it != block.end() ; it++){\n\t(*(it))--;\n\tcnt++;\n      }\n      block.push_back(cnt);\n      block.remove(0);\n      ans++;\n    }\n    if(ans > 10000) cout << -1 << endl;\n    else cout << ans << endl;\n    block.clear();\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[100000];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < 100000; ++i){\n      b[i] = 0;\n    }\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i <= 10000; ++i){\n\n      bool f = true;\n      for (int k = 0; k < 100000 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 100000 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<=10000){\n      cout << i << endl;\n    } else {\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <queue>\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n\n#include <cstdio>\ninline int getInt(){ int s; scanf(\"%d\", &s); return s; }\n\n#include <set>\n#include <iostream>\nusing namespace std;\n\nvector<int> divs(int n){\n  vector<int> ret;\n  for(int i = 1; i * i <= n; i++){\n    if(n % i == 0){\n      ret.push_back(i);\n      if(i * i != n) ret.push_back(n / i);\n    }\n  }\n  return ret;\n}\n\nint main(){\n  const int n = getInt();\n  const int w = getInt();\n\n  vector<int> cnt(n + 1);\n\n  int ans = 0;\n  for(int i = 1; i <= n; i++){\n    const int low  = i - w;\n    const int high = i;\n\n    {\n      ans++;\n      const vector<int> d = divs(high);\n      REP(j,d.size()){\n        const int dd = d[j];\n        if(++cnt[dd] == 2 && dd < low)\n          ans++;\n      }\n    }\n\n    if(low > 0){\n      const vector<int> d = divs(low);\n      REP(j,d.size()){\n        const int dd = d[j];\n        if(--cnt[d[j]] == 1 && dd != low)\n          ans--;\n      }\n      if(cnt[low] <= 1) ans--;\n    }\n\n    // REP(j,n+1) printf(\"%d: %d\\n\", j, cnt[j]);\n\n    if(i >= w)\n      printf(\"%d%c\", ans, i == n ? '\\n' : ' ');\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=1){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint n, sum[1500];\nvector<int> data;\n\nint solve(){\n  int sum_=0;\n  for(int i=0; i<n; ++i) sum_ += data[i];\n  for(int i=0; i<1500; ++i){\n    if(sum_ == sum[i]) break;\n    if(sum_ < sum[i]) return -1;\n  }\n  int ans=0;\n  while(ans <= 10000){\n    bool flag=true;\n    int size=data.size();\n    for(int i=0; i<size; ++i){\n      if(data[i] != i+1) flag=false;\n    }\n    if(flag) return ans;\n    for(int i=0; i<data.size(); ){\n      if(data[i] == 1){\n\tdata.erase(data.begin()+i);\n      }else{\n\t--data[i]; ++i;\n      }\n    }\n    data.push_back(size);\n    ++ans;\n  }\n  return -1;\n}\n\nint main(){\n  for(int i=0; i<1500; ++i) sum[i] = i*(i+1)/2;\n  while(1){\n    cin >> n;\n    if(!n) break;\n    data = vector<int>(n);\n    for(int i=0; i<n; ++i) cin >> data[i];\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint b[1000000];\n\nint main(){\n  int n;\n  while(cin >>n , n){\n    for (int i = 0; i < n; ++i){\n      cin >> b[i];\n    }\n    int i = 0;\n    for (; i <= 10000; ++i){\n\n\n      \n      bool f = true;\n      for (int k = 0; k < 1000000 && b[k]; ++k){\n\tif (b[k] != k+1){\n\t  f =  false;\n\t  break;\n\t}\n      }\n      if ( f){\n\tbreak;\n      }\n\n      int t = 0;\n      int j = 0;\n      for (; j < 1000000 && b[j]; ++j){\n\t--b[j];\n\t++t;\n      }\n      \n      b[j] = t;\n      for (int k = 0; k <= j; ++k){\n\tif (!b[k]){\n\t  for ( int l = k+1; l <= j; ++l){\n\t    if ( b[l] ){\n\t      b[k]=b[l];\n\t      b[l] = 0;\n\t      break;\n\t    }\n\t  }\n\t}\n      }\n      \n    }\n    if (i<=10000){\n      cout << i << endl;\n    } else {0\n      cout << -1 << endl;\n    }\n  }\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<int> a(n);\n        for(int i=0; i<n; ++i)\n            cin >> a[i];\n\n        int sum = accumulate(a.begin(), a.end(), 0);\n        int k = 1;\n        while(k * (k+1) / 2 < sum)\n            ++ k;\n        if(k * (k+1) / 2 != sum){\n            cout << -1 << endl;\n            continue;\n        }\n\n        vector<int> goal(k);\n        for(int i=0; i<k; ++i)\n            goal[i] = i + 1;\n\n        int ret = -1;\n        for(int t=0; t<=10000; ++t){\n            if(a == goal){\n                ret = t;\n                break;\n            }\n\n            vector<int> b;\n            for(unsigned i=0; i<a.size(); ++i){\n                if(a[i] > 1)\n                    b.push_back(a[i] - 1);\n            }\n            b.push_back(a.size());\n\n            a.swap(b);\n        }\n\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <list>\n#include <vector>\nusing namespace std;\n\nbool is_finish(list<int> t){\n  int a = 0;\n  for(list<int>::iterator it = t.begin() ; it != t.end() ; it++){\n    if(*it != ++a) return false;\n  }\n  return true;\n}\n\nint main(){\n  int n;\n  while(cin >> n, n){\n    list<int> block;\n    int a;\n    for(int i = 0 ; i < n ; i++){\n      cin >> a;\n      block.push_back(a);\n    }\n    \n    int ans = 0;\n    while(!is_finish(block)){\n      if(ans > 10000) break;\n      int cnt = 0;\n      list<int>::iterator it = block.begin();\n      \n      for(list<int>::iterator it = block.begin() ; it != block.end() ; it++){\n\t(*(it))--;\n\tcnt++;\n      }\n      block.push_back(cnt);\n      \n      for(list<int>::iterator it = block.begin() ; it != block.end() ; it++){\n\tif(*(it) == 0) block.erase(it);\n      }     \n      ans++;\n    }\n    if(ans > 10000) cout << -1 << endl;\n    else cout << ans << endl;\n    block.clear();\n  }\n  return 0;\n}\n\n    "
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <iomanip>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <bitset>\n#include <stack>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <functional>\n#include <cctype>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <fstream>\n#include <cassert>\nusing namespace std;\n\n//common\ntypedef long long i64,ll;\n\n#define BR \"\\n\"\n#define ALL(c) (c).begin(),(c).end()\n#define REP(i,n) for(int i=0;i<(int)(n);++i)\n#define FOR(i,l,r) for(int i=(l);i<(int)(r);++i)\n#define EACH(it,o) for(auto it = (o).begin(); it != (o).end(); ++it)\n#define IN(l,v,r) ((l)<=(v) && (v)<(r))\n\n//debug\n#ifdef NDEBUG\n#define DUMP(x)\n#define DUMPLN(x)\n#define DEBUG(x)\n#define DEBUGLN(x)\n#define LINE()\n#define LINELN()\n#define CHECK(exp,act)\n#define STOP(e)\n#else\n#define DUMP(x)  cerr << #x << \" = \" << (x)\n#define DUMPLN(x)  DUMP(x) <<endl\n#define DEBUG(x) DUMP(x) << LINE() << \" \" << __FILE__\n#define DEBUGLN(x) DEBUG(x)<<endl\n#define LINE()    cerr<< \" (L\" << __LINE__ << \")\"\n#define LINELN()    LINE()<<endl\n#define CHECK(exp,act)  if(exp!=act){DUMPLN(exp);DEBUGLN(act);}\n#define STOP(e)  CHECK(e,true);if(!(e)) exit(1);\n#endif\n\ntemplate<class T> inline string toString(const vector<T>& x) {\n\tstringstream ss;\n\tREP(i,x.size()){\n\t\tif(i!=0)ss<<\" \";\n\t\tss<< x[i];\n\t}\n\treturn ss.str();\n}\n\ntemplate<class T> inline string toString(const vector<vector<T> >& map) {\n\tstringstream ss;\n\tREP(i,map.size()){\n\t\tif(i!=0)ss<<BR;\n\t\tss<< toString(map[i]);\n\t}\n\treturn ss.str();\n}\ntemplate<class K,class V>  string toString(map<K,V>& x) {\n\tstring res;stringstream ss;\n\tfor(auto& p:x)ss<< p.first<<\":\" << p.second<<\" \";\n\treturn ss.str();\n}\n\nstring BITtoString(int bit){\n    stringstream ss;\n    while(bit!=0){ss<<(bit%2);bit/=2;}\n    string res=ss.str();reverse(ALL(res));\n    return res;\n}\n\ntemplate<typename T,typename V> inline T mod(T v,V MOD){\n\treturn (v%MOD+MOD)%MOD;\n}\n\nnamespace EGraph{\n\ttypedef int Cost;Cost CINF=1<<28;\n\tstruct Edge{\n\t\tint from,to;Cost cost;\n\t\tEdge(int from,int to,Cost cost)\n\t\t: from(from),to(to),cost(cost) {};\n\t\tbool operator<(Edge r) const{\n\t\t\treturn cost<r.cost;\n\t\t}\n\t\tbool operator>(Edge r) const{\n\t\t\treturn cost>r.cost;\n\t\t}\n\t};\n\ttypedef vector<vector<Edge> >  Graph;\n}\nusing namespace EGraph;\nclass Main{\npublic:\n\t\n\tvoid run(){\n\t\twhile(true){\n\t\t\tint N;cin >> N;\n\t\t\tif(N==0)break;\n\t\t\tvector<int> bs(N);REP(i,N) cin >> bs[i];\n\n\t\t\tbool end=false;\t\t\t\n\t\t\tREP(loop,10000){\n\t\t\t\t//check\n\t\t\t\tbool ok=true;\n\t\t\t\tREP(i,N)if(bs[i]!=i+1){\n\t\t\t\t\tok=false;break;\n\t\t\t\t}\n\t\t\t\tif(ok){\n\t\t\t\t\tend=true;\n\t\t\t\t\tcout << loop<<endl;break;\n\t\t\t\t}\n\n\t\t\t\t//run\n\t\t\t\tREP(i,N)bs[i]--;\n\t\t\t\tvector<int> nbs;\n\t\t\t\tREP(i,N)if(bs[i]!=0)nbs.push_back(bs[i]);\n\t\t\t\tnbs.push_back(N);\n\t\t\t\tbs=nbs;N=bs.size();\n\t\t\t}\n\t\t\tif(!end)cout <<-1<<endl;\n\t\t}\n\t}\n};\n\n int main(){\n\t//ios::sync_with_stdio(false);\n \tMain().run();\n \treturn 0;\n }"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define repb(i,a,b) for(int i=a;i>=b;i--)\n#define all(a) a.begin(),a.end()\n#define o(a) cout<<a<<endl\n#define int long long\n#define fi first\n#define se second\nusing namespace std;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\n\nvector<int> process(vector<int> b){\n    vector<int> res;\n    int l = b.size();\n    rep(i, 0, b.size()){\n        if(b[i] == 1) continue;\n        res.push_back(b[i] - 1);\n    }\n    res.push_back(l);\n    return res;\n}\n\nbool check(vector<int> b){\n    int l = b.size();\n    rep(i, 0, l){\n        if(b[i] != i + 1) return false;\n    }\n    return true;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        vi b(n);\n        int sum = 0;\n        rep(i, 0, n){\n            cin >> b[i];\n            sum = 0;\n        }\n        int cnt = 0;\n        rep(i, 0, 10010){\n            if(i > 10000){\n                cnt = -1;\n                break;\n            }\n            if(check(b)){\n                cnt = i;\n                break;\n            }\n            vector<int> tmp = process(b);\n            b = tmp;\n        }\n        cout << cnt << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <list>\n#include <vector>\nusing namespace std;\n\nbool is_finish(list<int> t){\n  int a = 0;\n  for(list<int>::iterator it = t.begin() ; it != t.end() ; it++){\n    if(*it != ++a) return false;\n  }\n  return true;\n}\n\nint main(){\n  int n;\n  while(cin >> n, n){\n    list<int> block;\n    int a;\n    for(int i = 0 ; i < n ; i++){\n      cin >> a;\n      block.push_back(a);\n    }\n    \n    int ans = 0;\n    while(!is_finish(block)){\n      if(ans > 10000) break;\n      int cnt = 0;\n      \n      for(list<int>::iterator it = block.begin() ; it != block.end() ; it++){\n\t(*(it))--;\n\tcnt++;\n      }\n      block.push_back(cnt);\n      \n      for(list<int>::iterator it = block.begin() ; it != block.end() ; it++){\n\tif(*(it) == 0) block.erase(it);\n      }     \n      ans++;\n    }\n    if(ans > 10000) cout << -1 << endl;\n    else cout << ans << endl;\n    block.clear();\n  }\n  return 0;\n}\n\n    "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main(void)\n{\n  int n, b;\n  vector<int> v;\n\n  while(cin >> n, n){\n    v.clear();\n    for(int i = 0;i < n; i++){\n      cin >> b;\n      v.push_back(b);\n    }\n    int ans;\n    for(ans = 0;ans <= 10000; ans++){\n      bool f = true;\n      for(int i = 0;i < v.size(); i++)\n\tif(v[i] != i + 1) f = false;\n      if(f) break;\n      v.push_back(v.size());\n      for(int i = 0;i < v.size() - 1; i++)\n\tif(--v[i] == 0) v.erase(v.begin() + i--);\n    }\n    if(ans >= 10000) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n  vector<int> b;\n  int n;\n\n  while(1){\n    cin >> n;\n    if(n==0) break;\n    b.resize(n);\n    for(int i=0;i<n;i++) cin >> b[i];\n    int id;\n    for(id=1;id<=10000;id++){\n      b.push_back(b.size());\n      for(int i=0;i<b.size()-1;i++){\n\tb[i]--;\n\tif(b[i] == 0){\n\t  b.erase(b.begin()+i);\n\t  i--;\n\t}\n      }\n      bool f=1;\n      if(b[0] == 1){\n\tf=0;\n\tfor(int i=0;i<b.size()-1;i++)\n\t  if(b[i]+1 != b[i+1]) f=1;\n      }\n      if(f==0) break; \n    }\n    if(id<=10000) cout << id<< endl;\n    else cout << -1<< endl;\n  }\n  return 0;\n} \n    "
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\nint main()\n{\n\tint n;\n\twhile(1)\n\t{\n\t\tcin >> n;\n\t\tif(!n) return 0;\n\t\tint x[10005];\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tcin >> x[i];\n\t\t}\n\t\tint res = -1;\n\t\tfor(int i=0;i<=10000;i++)\n\t\t{\n\t\t\tfor(int j=0;j<n;j++) if(x[j] != j+1) goto nxt;\n\t\t\tres = i; break; nxt:;\n\t\t\tint cur = 0;\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t{\n\t\t\t\tif(x[j] > 1)\n\t\t\t\t{\n\t\t\t\t\tx[cur] = x[j]-1;\n\t\t\t\t\tcur++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tx[cur] = n;\n\t\t\tn = cur+1;\n\t\t}\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\nusing namespace std;\nint n, s;\nbool triangle(vector<int> v) {\n\tfor (int i = 0; i < v.size(); i++) {\n\t\tif (v[i] != i + 1) return false;\n\t}\n\treturn true;\n}\nvector<int> shift(vector<int> v) {\n\tvector<int> ret;\n\tfor (int i = 0; i < v.size(); i++) {\n\t\tif (v[i]) ret.push_back(v[i]);\n\t}\n\treturn ret;\n}\nint main() {\n\twhile (cin >> n, n) {\n\t\tvector<int> v(n); s = 0;\n\t\tfor (int i = 0; i < n; i++) cin >> v[i], s += v[i];\n\t\tbool flag = false;\n\t\tfor (int i = 0; i < 2000; i++) {\n\t\t\tif (i * (i + 1) / 2 == s) flag = true;\n\t\t}\n\t\tif (!flag) cout << -1 << endl;\n\t\telse {\n\t\t\tint c = 0;\n\t\t\twhile (c <= 10000) {\n\t\t\t\tif (triangle(v)) break;\n\t\t\t\tfor (int i = 0; i < v.size(); i++) v[i]--;\n\t\t\t\tv.push_back(v.size());\n\t\t\t\tv = shift(v); c++;\n\t\t\t}\n\t\t\tcout << (c <= 10000 ? c : -1) << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <vector>\n#include <utility>\n\nbool valid(std::vector<int>& b) {\n  int n = b.size();\n  bool res = true;\n  for (int i = 0; i < n; ++i) {\n    if (b[i] != i+1) {\n      res = false;\n      break;\n    }\n  }\n  if (res) return true;\n\n  for (int i = 0; i < n; ++i) --b[i];\n  b.push_back(n);\n  std::vector<int> c;\n  for (auto bi: b)\n    if (bi) c.push_back(bi);\n\n  b = std::move(c);\n  return false;\n}\n\nint testcase_ends() {\n  size_t n;\n  scanf(\"%zu\", &n);\n  if (n == 0) return 1;\n\n  std::vector<int> b(n);\n  for (auto& bi: b) scanf(\"%d\", &bi);\n\n  int res = 0;\n  while (res <= 10001 && !valid(b)) ++res;\n  if (res > 10000) res = -1;\n  printf(\"%d\\n\", res);\n  return 0;\n}\n\nint main() {\n  while (!testcase_ends()) {}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <cassert>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n#include <list>\n#include <iomanip>\n#include <fstream>\n#include <bitset>\n   \nusing namespace std;\n   \n \n#define rep(i, n) for (int i = 0; i < (int)(n); ++i)\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define rforeach(it, c) for (__typeof__((c).rbegin()) it=(c).rbegin(); it != (c).rend(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define CL(arr, val) memset(arr, val, sizeof(arr))\n#define COPY(dest, src) memcpy(dest, src, sizeof(dest))\n#define ten(n) ((long long)(1e##n))\n#define bin(n) (1LL << (n))\n#define erep(i, n) for (int i = 0; i <= (int)(n); ++i)\n#define revrep(i, n) for (int i = (n); i >= 0; --i)\n#define pb push_back\n\ntemplate <class T> void chmax(T& a, const T& b) { a = max(a, b); }\ntemplate <class T> void chmin(T& a, const T& b) { a = min(a, b); }\n\ntemplate <class T> T round_up(T a, T b) { return (a + b - 1) / b; }\n\ntemplate <class T> void uniq(vector<T>& c) { sort(c.begin(), c.end()); c.erase(unique(c.begin(), c.end()), c.end()); }\n \ntemplate <class T> string to_s(const T& a) { ostringstream os; os << a; return os.str(); }\ntemplate <class T> T to_T(const string& s) { istringstream is(s); T res; is >> res; return res; }\n  \ntemplate <class T, class U> ostream& operator<<(ostream& os, pair<T, U>& p) { os << \"( \" << p.first << \", \" << p.second << \" )\"; return os; }\n  \ntemplate <class T> void print(T a, int n, const string& deli = \" \", int br = 1) { for (int i = 0; i < n; ++i) { cout << a[i]; if (i + 1 != n) cout << deli; } while (br--) cout << endl; }\ntemplate <class T> void print(const T& c, const string& deli = \" \", int br = 1) { foreach (it, c) { cout << *it; if (++it != c.end()) cout << deli;--it; } while (br--) cout << endl; }\ntemplate <class T> void print2d(T a, int w, int h, int width = -1, int br = 1) { for (int i = 0; i < h; ++i) { for (int j = 0; j < w; ++j) {    if (width != -1) cout.width(width); cout << a[i][j] << ' '; } cout << endl; } while (br--) cout << endl; }\n   \ntemplate <class T> void input(T& a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\ntemplate <class T> void input(T* a, int n) { for (int i = 0; i < n; ++i) cin >> a[i]; }\n\nvoid fix_pre(int n) { cout.setf(ios::fixed, ios::floatfield); cout.precision(10); }\nvoid fast_io() { cin.tie(0); ios::sync_with_stdio(false); }\n#define trace(x) (cout << #x << \": \" << (x) << endl)\n \nbool in_rect(int x, int y, int w, int h) { return 0 <= x && x < w && 0 <= y && y < h; }\n \n\ntypedef long long ll;\ntypedef pair<int, int> pint;\n \n// y(v): v>^<  y(^): ^>v<\nconst int dx[] = { 0, 1, 0, -1 };\nconst int dy[] = { 1, 0, -1, 0 };\n\nconst double PI = acos(-1.0);\n\n#define F first\n#define S second\n\n\n\n\nbool check(const vector<int>& b)\n{\n    rep(i, b.size())\n        if (b[i] != i + 1)\n            return false;\n    return true;\n}\nint main()\n{\n    int n;\n    while (cin >> n, n)\n    {\n        vector<int> b(n);\n        input(b, n);\n\n        int res = 0;\n        for (; res <= 10000 && !check(b); ++res)\n        {\n            vector<int> nb;\n            rep(i, b.size())\n                if (--b[i] > 0)\n                    nb.pb(b[i]);\n            nb.pb(b.size());\n            b = nb;\n        }\n        if (res <= 10000 && check(b))\n            cout << res << endl;\n        else\n            cout << -1 << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<cstring>\n\nusing namespace std;\n\nint n;\nint size=0;\nint b[50001];\n\nbool check(){\n\tfor(int i=0;i<size;i++){\n\t\tif(b[i]!=i+1)return false;\n\t}\n\treturn true;\n}\n\nvoid shif(int x){\n\tfor(int i=x;i<size;i++){\n\t\tb[i]=b[i+1];\n\t}\n\tb[size]=0;\n\tsize--;\n}\n\nint block(){\n\tsize=n;\n\tfor(int lo=0;lo<=10000;lo++){\n\t\tif(check())return lo;\n\t\tif(lo==10000)break;\n\t\tint cnt=0;\n\t\tfor(int i=0;i<size;i++)b[i]--,cnt++;\n\t\tb[size]=cnt;\n\t\tsize++;\n\t\t//for(int i=0;i<size;i++)printf(\"%d \",b[i]);\n\t\t//printf(\"\\n\");\n\t\tfor(int i=0;i<size;i++){\n\t\t\tif(b[i]==0){\n\t\t\t\tshif(i);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\t//for(int i=0;i<size;i++)printf(\"%d \",b[i]);\n\t\t//printf(\"\\n\");\n\t}\n\treturn -1;\n}\n\nint main(void){\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n==0)break;\n\t\tmemset(b,0,sizeof(b));\n\t\tfor(int i=0;i<n;i++)cin >> b[i];\n\t\tprintf(\"%d\\n\",block());\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF INT_MAX/3\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define CLR(a) memset(a,0,sizeof(a))\n\ntypedef long long int ll;\n\nusing namespace std;\n\nbool istr(vector<int> b){\n    REP(i,b.size()){\n\tif(b[i] != (i+1)) return false;\n    }\n    return true;\n}\n\nint main(){\n    while(true){\n\tint n;\n\tvector<int> b;\n\tcin >> n;\n\tif(n == 0) break;\n\tREP(i,n){\n\t    int temp;\n\t    cin >> temp;\n\t    b.PB(temp);\n\t}\n\tint ans = 0;\n\twhile(!istr(b)){\n\t    int cnt = 0;\n\t    ans++;\n\t    if(ans >= 10000) break;\n\t    REP(i,b.size()) {\n\t\tb[i]--;\n\t\tcnt++;\n\t    }\n\t    RREP(i,b.size()) {\n\t\tif(b[i] == 0) b.erase(b.begin()+i);\n\t    }\n\t    b.PB(cnt);\n\t}\n\tif(ans >= 10000) ans = -1;\n\tcout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n, V, a[100000];\nbool query0() {\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] == 0) { return true; }\n\t\tif (a[i] != i) { return false; }\n\t}\n\treturn true;\n}\nvoid query1() {\n\tint cnt = 1;\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] >= 1) {\n\t\t\tint b = a[i];\n\t\t\ta[i] = 0;\n\t\t\ta[cnt] = b;\n\t\t\tcnt++;\n\t\t}\n\t}\n}\nvoid query2() {\n\tfor (int i = 1; i <= V; i++) {\n\t\ta[i]--;\n\t}\n\ta[V + 1] = V;\n\tV++;\n}\nint main() {\n\twhile (true) {\n\t\tcin >> n; V = n;\n\t\tif (n == 0) { break; }\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint cnt = 0;\n\t\twhile (true) {\n\t\t\tbool ok = query0();\n\t\t\tif (ok == true) { cout << cnt << endl; break; }\n\t\t\tquery1(); query2(); query1();\n\t\t\tcnt++;\n\t\t\tif (cnt > 10000) { cout << \"NA\" << endl; break; }\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      vector<int> data;\n      for(int i=0;i<n;i++)\n\t{\n\t  int tmp;\n\t  cin>>tmp;\n\t  data.push_back(tmp);\n\t}\n      int cnt=0;\n      while(true)\n\t{\n\t  bool flag =true;\n\t  int tmp=0;\n\t  int sizecnt=1;\n\t  for(int i=0;i<data.size();i++)\n\t    {\n\t      if(data[i]!=sizecnt)\n\t\tflag=false;\n\t      \n\t      data[i]--;\n\t      tmp++;\n\t      if(data[i]<=0)\n\t\t{\n\t\t  data.erase(data.begin()+i);\n\t\t  i--;\n\t\t}\n\t      sizecnt++;\n\t    }\n\t  if(flag)\n\t    break;\n\t  data.push_back(tmp);\n\t  \n\n\t  \n\t  cnt++;\n\t  if(cnt>10000)\n\t    {\n\t      cnt=-1;\n\t      break;\n\t    }\n\t}\n      cout<<cnt<<endl;\n\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define SMIN 3\n#define SMAX 1000000\n#define NMIN 1\n#define NMAX 100\n#define BMIN 1\n#define BMAX 10000\n#define LIM 10000\n#define TCASE 20\n\nbool valid[SMAX+1];\n\nbool check(vector<int> v){\n  if ( v[0] != 1 ) return false;\n  for ( int i = 1; i < v.size(); i++ ){\n    if ( v[i-1]+1 != v[i] ) return false;\n  }\n  return true;\n}\n\nint simulate(vector<int> v, int sum){\n  int cnt = 0;\n  while(1){\n    if ( check(v) ) return cnt;\n    int r = v.size();\n    for ( int i = 0; i < v.size(); i++ ) v[i]--;\n    vector<int> nv;\n    for ( int i = 0; i < v.size(); i++ ) {\n      if ( v[i] ) nv.push_back(v[i]);\n    }\n    v = nv;\n    v.push_back(r);\n    cnt++;\n    if ( cnt > LIM ) return cnt;\n  }\n}\n\nvoid main(){\n  for ( int i = 0; i <= SMAX; i++ ) valid[i] = false;\n  int cur = 3, d = 3;\n  while( cur <= SMAX ){\n    valid[cur] = true;\n    cur += d;\n    d++;\n  }\n\n  int n;\n  int tcase = 0;\n  while(1){\n    cin >> n;\n    if ( n == 0 ) break;\n    tcase++;\n    assert( NMIN <= n && n <= NMAX);\n    vector<int> v;\n    int x;\n    int sum = 0;\n    for ( int i = 0; i < n ;i++) {\n      cin >> x;\n      v.push_back(x);\n      sum += x;\n    }\n    int ans = simulate(v, sum);\n    if ( ans > 10000 ) cout << -1 << endl;\n    else cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<deque>\n#include<algorithm>\n\nusing namespace std;\n\nbool Check(deque<int>& deq)\n{\n  int cnt = deq.size();\n  for(int i=deq.size()-1;i>=0;i--)\n    {\n      if(deq[i] != cnt)\n\treturn false;\n      cnt--;\n    }\n  return true;\n}\n\nbool Do(deque<int>& deq)\n{\n\n for(int i=1;i<=10000;i++)\n   {\n\n     for(int iu=0;iu<deq.size();iu++)\n       \t deq[iu]--;\n      \n     int next = deq.size();\n     deq.erase(remove(deq.begin(),deq.end(),0),deq.end());     \n     deq.push_back(next);\n\n\n     if(Check(deq))\n       {\n\t cout << i << endl;\n\t return true;\n       }\n   }\n return false;\n}\n\nint main()\n{\n  int N;\n  while(cin >> N,N)\n    {\n      deque<int> deq;\n      for(int i=0;i<N;i++)\n\t{\n\t  int in;\n\t  cin >> in;\n\t  deq.push_back(in);\n\t}\n\n      if(Check(deq))\n\t{\n\t  cout << 0 << endl;\n\t  continue;\n\t}\n\n      if(!Do(deq))\n\tcout << -1 << endl;  \n\n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<map>\n#include<set>\n\nusing namespace std;\n\nint main(){\n\tint n;\n\twhile(cin>>n && n){\n\t\n\tvector<int> v;\n\t\n\tfor(int i=0;i<n;i++){\n\t\tint x;\n\t\tcin>>x;\n\t\tv.push_back(x);\n\t}\n\tint co=0;\n\twhile(co<=10001){\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tif(i+1!=v[i])break;\n\t\t\telse if(i+1==v.size()){\n\t\t\t\tcout<<co<<endl;\n\t\t\t\tgoto suc;\n\t\t\t}\n\t\t}\n\t\tint s=v.size();\n\t\tco++;\n\t\tfor(vector<int>::iterator ite=v.begin();ite!=v.end();++ite){\n\t\t\t(*ite)--;\n\t\t\tif(*ite==0){\n\t\t\t\tite=v.erase(ite);\n\t\t\t\t--ite;\n\t\t\t\t}\n\t\t\t}\n\t\t\tv.push_back(s);\n\t\t}\n\t\tcout<<-1<<endl;\n\t\tsuc:;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<499;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint n, V, a[100000];\nbool query0() {\n\tfor (int i = 1; i <= V; i++) {\n\t\tif (a[i] == 0) { return true; }\n\t\tif (a[i] != i) { return false; }\n\t}\n\treturn true;\n}\nvoid query1() {\n\tfor (int i = V; i >= 2; i--) {\n\t\tif (a[i] == 0) { V--; a[i] = a[i + 1]; a[i + 1] = 0; }\n\t}\n}\nvoid query2() {\n\ta[V + 1] = V;\n\tV++;\n}\nint main() {\n\twhile (true) {\n\t\tcin >> n; V = n;\n\t\tif (n == 0) { break; }\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint cnt = 0;\n\t\twhile (true) {\n\t\t\tbool ok = query0();\n\t\t\tif (ok == true) { cout << cnt << endl; break; }\n\t\t\tquery1(); query2();\n\t\t\tcnt++;\n\t\t\tif (cnt > 10000) { cout << \"NA\" << endl; return 0; }\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ld = long double;\n\nbool is_complete(vector<ll> &b) {\n    for (ll i = b.size(); i--;) {\n        if (b[i] != i+1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nint main() {\n\n    ll n;\n    while (cin >> n, n) {\n\n        vector<ll> b(n);\n        for (ll i = 0; i < n; i++) {\n            cin >> b[i];\n        }\n\n        if (is_complete(b)) {\n            cout << 0 << endl;\n            continue;\n        }\n\n        constexpr ll limit = 10000;\n        for (ll i = 1; i <= limit; i++) {\n\n            ll r = b.size();\n            for (ll i = r; i--; ) {\n                if (--b[i] <= 0) b.erase(b.begin() + i);\n            }\n            b.push_back(r);\n\n            if (is_complete(b)) {\n                cout << i << endl;\n                break;\n            }\n\n            if (i == limit) {\n                cout << -1 << endl;\n                break;\n            }\n\n        }\n\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint b[100];\nint main(){\n\tint a;\n\twhile(scanf(\"%d\",&a),a){\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",b+i);\n\t\tint now=0;\n\t\tint n=a;\n\t\twhile(1){\n\t\t\tbool ok=true;\n\t\t\tfor(int i=0;i<n;i++)if(b[i]!=i+1)ok=false;\n\t\t\tif(ok){\n\t\t\t\tprintf(\"%d\\n\",now);\n\t\t\t\tbreak;\n\t\t\t}else if(now==10000){\n\t\t\t\tprintf(\"-1\\n\");\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tnow++;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tb[i]--;\n\t\t\t}\n\t\t\tint at=0;\n\t\t\tfor(int i=0;i<n;i++)if(b[i])b[at++]=b[i];\n\t\t\tb[at++]=n;\n\t\t\tn=at;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        for(int i=0;;i++){\n            bool kawa=1;\n            if(i==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int j=co-1;j>0&&kawa;j--)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                cout<<i<<endl;\n                break;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1){\n                    for(int k=j+1;k<=co;k++){\n                        if(num[k]!=1){\n                            swap(num[j],num[k]);\n                            break;\n                        }\n                    }\n                }\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n    }\n}"
  },
  {
    "language": "C++",
    "code": "// 2013/10/24 Tazoe\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main()\n{\n\twhile(true){\n\t\tint N;\n\t\tcin >> N;\n\n\t\tif(N==0)\n\t\t\tbreak;\n\n\t\tvector<int> B;\n\t\tfor(int i=0; i<N; i++){\n\t\t\tint b;\n\t\t\tcin >> b;\n\n\t\t\tB.push_back(b);\n\t\t}\n/*\n\t\tfor(int i=0; i<B.size(); i++){\n\t\t\tcout << B[i] << ' ';\n\t\t}\n\t\tcout << endl;\n*/\n\n\t\tint cnt = 0;\n\n\t\twhile(true){\n\t\t\tbool flg = true;\n\t\t\tfor(int i=0; i<B.size(); i++){\n\t\t\t\tif(B[i]!=i+1){\n\t\t\t\t\tflg = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(flg){\n\t\t\t\tcout << cnt << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvector<int> tmp;\n\t\t\tfor(int i=0; i<B.size(); i++){\n\t\t\t\tif(B[i]-1>0){\n\t\t\t\t\ttmp.push_back(B[i]-1);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp.push_back(B.size());\n\n\t\t\tB.clear();\n\t\t\tB = tmp;\n/*\n\t\tfor(int i=0; i<B.size(); i++){\n\t\t\tcout << B[i] << ' ';\n\t\t}\n\t\tcout << endl;\n*/\n\t\t\tcnt++;\n\n\t\t\tif(cnt>10000){\n\t\t\t\tcout << -1 << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint i;\nbool check(vector<int>&T){\n  for(i = 0; i < T.size(); i++){\n    if(T[i]!=i+1)return 0;\n  }\n  return 1;\n}\n\nint main(){\n  int n;\n  vector<int> B;\n  for(i = 1; i < 200; i++){\n    B.push_back(i*(i+1)/2);\n  }\n  while(cin >> n, n){\n    vector<int> T;\n    int temp;\n    int total=0;\n    for(i = 0; i < n; i++){\n      cin >> temp;\n      total += temp;\n      T.push_back(temp);\n    }\n    int ans = -1;\n    if(binary_search(B.begin(),B.end(),total)){\n      for(n = 0; n <=10000; n++){\n\tif(check(T)){\n\t  ans = n;\n\t  break;\n\t}else{\n\t  int a = T.size();\n\t  for( i = 0; i < a; i++){\n\t    T[i]--;\n\t  }\n\t    T.erase(remove(T.begin(),T.end(),0),T.end());\n\t    T.push_back(a);\n\t}\n      }\n    }\n    cout << ans << endl;\n  }\n\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    vector<int> v;\n\n    v.clear();\n    for(int i=0;i<n;++i){\n      int x;\n      cin>>x;\n      v.push_back(x);\n    }\n    int ans=0,cnt=0;\n\n    \n    int t=1;\n    for(int i=0;i<v.size();++i){\n      if(v[i]){\n        if(v[i]==t) ++t;\n        else break;\n      }\n    }\n\n    \n    if(t-1==v.size()){\n      cout<<0<<endl;\n      continue;\n    }\n    \n    int flag=1;    \n    while(flag){\n      cnt=0;\n      ans++;\n      if(ans>10000){\n        ans=-1;\n        break;\n      }\n      \n      for(int i=0;i<v.size();++i){\n        if(v[i]){\n          v[i]--; cnt++;\n        }\n      }\n      v.push_back(cnt);\n      int a=1, b=0;\n\n      \n      for(int j=0;j<v.size();++j){\n        \n        if(v[j]){\n          if(v[j]==a) ++a;\n          else{\n            break;\n          }\n        }\n        b=j+1;\n      }\n      \n      if(b==v.size()) break;\n    }\n    if(flag) cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define range(i,a,b) for(int i = (a); i < (b); i++)\n#define rep(i,b) range(i,0,b)\n#define pb(a) push_back(a)\n#define all(a) (a).begin(), (a).end()\n#define debug(x) cout << \"debug \" << x << endl;\nusing namespace std;\n\nbool check(vector<int> &b){\n    vector<int>::iterator it;\n    int i = 1;\n    for(it = b.begin(); it != b.end(); it++){\n        if(*it != i){\n            return false;\n        }\n        i++;\n    }\n    return true;\n}\n\nint main(){\n    int n;\n    while(cin >> n,n){\n        int i = 0;\n        bool c;\n        vector<int> b;\n        vector<int>::iterator it;\n        rep(i,n){\n            int inp;\n            cin >> inp;\n            b.pb(inp);\n        }\n        for(i = 0; i <= 10000; i++){\n            if(check(b)) break;\n            b.pb(b.size() + 1);\n            for(it = b.begin(); it != b.end(); it++) *it = *it - 1;\n            for(it = b.begin(); it != b.end(); it++){\n                if(*it == 0){\n                    b.erase(it);\n                    *it--;\n                }\n            }\n        }\n        if(i > 10000) cout << -1 << endl;\n        else cout << i << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <functional>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <string>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <vector>\n#include <list>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <bitset>\n#include <climits>\n\n#define all(c) (c).begin(), (c).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define pb(e) push_back(e)\n#define mp(a, b) make_pair(a, b)\n#define fr first\n#define sc second\n\nconst int INF=100000000;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nusing namespace std;\ntypedef pair<int ,int > P;\ntypedef long long ll;\n\nint N;\nint b[205];\nvoid plot() {\n    rep(i,104) cout<<b[i]<<\" \";\n    cout<<endl;\n}\nvoid move() {\n    //plot();\n    int h = 0;\n    rep(i,204) if(b[i]!=0) h++;\n    rep(i,204) if(b[i]!=0) b[i]--;\n    b[202]=h;\n    //plot();\n    rep(i,204) {\n        if(!i) continue;\n        if(b[i]!=0) {\n            int j;\n            for(j=i-1;j>=0;j--) {\n                if(b[j]!=0) break;\n            }\n            swap(b[i],b[j+1]);\n        }\n    }\n\n}\nbool ok() {\n    bool f=true;\n    rep(i,204) {\n        if(b[i]==0) break;\n        f&=(i+1)==b[i];\n    }\n    return f;\n\n}\nvoid solve() {\n    rep(i,205) b[i]=0;\n    rep(i,N) cin>>b[i];\n    int cnt=0;\n    if(ok()) {\n        cout<<\"0\"<<endl;\n        return;\n    }\n    while(1) {\n        cnt++;\n        move();\n        if(ok()) {\n            cout<<cnt<<endl;\n            return;\n        }\n        if(cnt == 10000) break;\n\n    }\n    cout<<\"-1\"<<endl;\n}\n\nint main() {\n    while(cin>>N) {\n        if(N==0) break;\n        solve();\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<199;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\nusing namespace std;\nint n, s;\nbool triangle(vector<int> v) {\n\tfor (int i = 0; i < v.size(); i++) {\n\t\tif (v[i] != i + 1) return false;\n\t}\n\treturn true;\n}\nvector<int> shift(vector<int> v) {\n\tvector<int> ret;\n\tfor (int i = 0; i < v.size(); i++) {\n\t\tif (v[i]) ret.push_back(v[i]);\n\t}\n\treturn ret;\n}\nint main() {\n\twhile (cin >> n, n) {\n\t\tvector<int> v(n); s = 0;\n\t\tfor (int i = 0; i < n; i++) cin >> v[i], s += v[i];\n\t\tbool flag = false;\n\t\tfor (int i = 0; i < 2000; i++) {\n\t\t\tif (i * (i + 1) / 2 == s) flag = true;\n\t\t}\n\t\tif (!flag) cout << -1 << endl;\n\t\telse {\n\t\t\tint c = 0;\n\t\t\twhile (true) {\n\t\t\t\tif (triangle(v)) break;\n\t\t\t\tfor (int i = 0; i < v.size(); i++) v[i]--;\n\t\t\t\tv.push_back(v.size());\n\t\t\t\tv = shift(v); c++;\n\t\t\t}\n\t\t\tcout << (c <= 10000 ? c : -1) << endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main(){\n\tint n;\n\twhile(cin >> n, n != 0){\n\t\tvector<int> b(n);\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tcin >> b[i];\n\t\t}\n\t\t\n\t\tint cnt = 0;\n\t\twhile(1){\n\t\t\tif(cnt == 10001){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tbool f = (b[0] == 1);\n\t\t\tfor(int i = 0;i < b.size()-1;i++){\n\t\t\t\tf = (f && (b[i] == b[i+1]-1));\n\t\t\t}\n\t\t\tif(f) break;\n\t\t\t\n\t\t\tvector<int> c;\n\t\t\tfor(int i = 0;i < b.size();i++){\n\t\t\t\tif(b[i] - 1 > 0){\n\t\t\t\t\tc.push_back(b[i]-1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tc.push_back(b.size());\n\t\t\tb = c;\n\t\t\tcnt++;\n\t\t}\n\t\tcout << (cnt == 10001 ? -1 : cnt) << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nbool check(vector<int>&B){\n    if(B.size() == 1)return 0;\n    for(int i = 1; i < B.size(); i++){\n        if(B[i-1] + 1 != B[i])return 0;\n    }\n    return 1;\n}\nint main(){\n\tint n;\n\tvector<int> T;\n\tfor(int i = 0; i < 200; i++)T.push_back(i*(i+1)/2);\n\twhile(cin >> n,n){\n\t    vector<int> B;\n\t    int cnt = 0;\n\t    int temp;\n        for(int i = 0; i < n; i++){\n            cin >> temp;\n            cnt += temp;\n            B.push_back(temp);\n        }\n        int ans = -1;\n        if(binary_search(T.begin(),T.end(),cnt)){\n            for(n=0;n <= 10000;n++){\n                if(check(B)){\n                    ans = n;\n                    break;\n                }\n                else{\n                    int a = B.size();\n                    vector<int>::iterator it = B.begin();\n                    for(int i = 0; i < a; i++){\n                        B[i]--;\n                    }\n                    B.erase(remove(B.begin(),B.end(),0),B.end());\n                    B.push_back(a);\n                }\n            }\n        }\n        cout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nmain(){\n  while(1){\n    long long n;\n    queue<long long> b;\n    long long num;\n    cin>>n;\n    if(n==0) break;\n    long long sum=0;\n    for(int i=0;i<n;i++){\n      cin>>num;\n      sum+=num;\n      b.push(num);\n    }\n    long long ans=-1;\n    for(int j=0;j<10001;j++){\n      long long ok=1;\n      long long size=b.size();\n      for(int i=0;i<size;i++){\n\tlong long num=b.front();\n\tb.pop();\n\tif(num!=i+1){\n\t  ok=0;\n\t}\n\tif(num-1>0){\n\t  b.push(num-1);\n\t}\n      }\n      if(ok){\n\tans=j;\n\tbreak;\n      }\n      b.push(size);\n    }\n    cout<<ans<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n  int b[10001];\n  b[0]=0;\n  for(int i=1; i<10001; i++) {\n    b[i]=b[i-1]+i;\n  }\n  int n;\n  while(cin >> n && n) {\n    vector<int> a;\n    int sum=0;\n    for(int i=0; i<n; i++) {\n      int x;\n      cin >> x;\n      a.push_back(x);\n      sum+=x;\n    }\n    bool ck=false;\n    for(int i=1; i<10001; i++) {\n      if(sum<b[i]) break;\n      if(sum==b[i]) ck=true;\n    }\n    if(!ck) {\n      cout << \"-1\" << endl;\n      continue;\n    }\n    int cnt=0;\n    while(1) {\n      ck=true;\n      for(int i=0; i<a.size(); i++) {\n\tif(a[i]!=i+1) {\n\t  ck=false;\n\t}\n\ta[i]--;\n      }\n      if(ck) break;\n      a.push_back(a.size());\n      a.erase(remove(a.begin(), a.end(),0),a.end());\n      cnt++;\n      if(cnt>10000) break;\n    }\n    if(ck) cout << cnt << endl;\n    else cout << \"-1\" << endl;\n  }\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <numeric>\n#include <algorithm>\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\nint main(){\n\tfor(int n;scanf(\"%d\",&n),n;){\n\t\tint b[500]={};\n\t\trep(i,n) scanf(\"%d\",b+n-i-1);\n\t\tn=500;\n\n\t\tint bsum=accumulate(b,b+n,0);\n\t\tint m;\n\t\tfor(m=0;m<7777;m++) if(m*(m+1)/2==bsum) break;\n\t\tif(m>=7777){\n\t\t\tputs(\"-1\");\n\t\t\tcontinue;\n\t\t}\n\n\t\tint ans;\n\t\tfor(ans=0;ans<=10000;ans++){\n\t\t\tbool ok=true;\n\t\t\trep(i,m) if(b[i]!=m-i) ok=false;\n\t\t\tif(ok) break;\n\n\t\t\tint cnt=0;\n\t\t\trep(i,n) if(b[i]>0) b[i]--, cnt++;\n\t\t\t{\n\t\t\t\tint j=0,tmp[500]={};\n\t\t\t\trep(i,n) if(b[i]>0) tmp[j++]=b[i];\n\t\t\t\tcopy(tmp,tmp+n,b);\n\t\t\t}\n\t\t\tfor(int i=n-1;i>0;i--) b[i]=b[i-1];\n\t\t\tb[0]=cnt;\n\t\t}\n\n\t\tprintf(\"%d\\n\",ans<=10000?ans:-1);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\n#define LIMIT 10000\nusing namespace std;\nbool ck(vector<int>&v){\n\tfor(int i=0;i<v.size();i++)if(v[i]!=i+1)return false;\n\treturn true;\n}\nmain(){\n\tint n,i,j,s,x,l;\n\tvector<int>tri;\n\tfor(i=1;i<99;i++)tri.push_back(i*(i+1)/2);\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tvector<int>v;\n\t\tfor(s=i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&x);\n\t\t\ts+=x;\n\t\t\tv.push_back(x);\n\t\t}\n\t\tvector<int>::iterator idx=find(tri.begin(),tri.end(),s);\n\t\ti=LIMIT+1;\n\t\tif(idx!=tri.end()){\n\t\t\tfor(i=0;i<=LIMIT&&!ck(v);i++){\n\t\t\t\tl=v.size();\n\t\t\t\tfor(j=0;j<l;j++)v[j]--;\n\t\t\t\tv.erase(remove(v.begin(),v.end(),0),v.end());\n\t\t\t\tv.push_back(l);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i>LIMIT?-1:i);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint main(void){\n    int n;\n    int a[200000]={0};\n    while(cin>>n&&n){\n\n        for(int i=0;i<n;i++){\n            cin>>a[i];\n        }\n        int k=0,m=n;\n        while(1){\n            //cout<<\"---\"<<k<<endl;\n            bool flg=0;\n            for(int i=0,j=1;i<m;i++){\n                //cout<<\"a[\"<<i<<\"]=\"<<a[i]<<\"  j=\"<<j<<endl;\n                if(a[i]!=0&&a[i]!=j){\n                    flg=1;\n                    break;\n                }\n                else if(a[i]==j)j++;\n            }\n            if(k==10000){\n                cout<<-1<<endl;\n                break;\n            }\n            for(int i=0;i<m;i++){\n                if(a[i])a[i]--,a[m]++;\n\n            }\n\n            if(!flg){\n                cout<<k<<endl;\n                break;\n            }\n            k++,m++;\n        }\n        memset(a,0,m);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n;\n        for(int i=0;i<n;i++)cin>>num[i];\n        bool NA=0;\n        for(int i=0;!NA&&i<10000;i++){\n            bool kawa=1;\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                NA=1;\n                cout<<i<<endl;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1)for(int k=j+1;k<=co&&num[j]==1;k++)if(num[k]!=1)swap(num[j],num[k]);\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n        if(!NA)cout<<-1<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    int n;\n    while(cin>>n,n){\n        int num[2000]={},co=n,sum=0;\n        for(int i=0;i<n;i++){\n            cin>>num[i];\n            sum+=num[i];\n        }\n        for(int i=1;sum>0;i++)sum-=i;\n        bool NA=0;\n        for(int i=0;!NA&&i<10000&&sum==0;i++){\n            bool kawa=1;\n            for(int j=0;j<co&&kawa;j++)if(num[j]!=j+1)kawa=0;\n            if(kawa){\n                NA=1;\n                cout<<i<<endl;\n            }\n            num[co]=co+1;\n            for(int j=0;j<=co;j++){\n                if(num[j]==1)for(int k=j+1;k<=co&&num[j]==1;k++)if(num[k]!=1)swap(num[j],num[k]);\n                num[j]--;\n            }\n            for(int j=co+1;j>=0;j--){\n                if(num[j]!=0){\n                    co=j+1;\n                    break;\n                }\n            }\n        }\n        if(!NA)cout<<-1<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <set>\n#include <map>\n#include <queue>\n#include <sstream>\n#include <algorithm>\n#include <numeric>\n#include <cmath>\n#include <complex>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cassert>\n\n#define REP(i,m,n) for(int i=m;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rp(i,c) rep(i,(int)c.size())\n#define fr(i,c) for(__typeof((c).begin()) i=(c).begin();i!=(c).end();i++)\n#define mp make_pair\n#define pb push_back\n#define all(c) (c).begin(),(c).end()\n#define dbg(x) cerr<<#x<<\" = \"<<(x)<<endl\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int,int> pi;\nconst int inf=1<<28;\nconst double INF=1e10,EPS=1e-9;\n\ntemplate<class T>int SIZE(T a){return a.size();}\ntemplate<class T>string IntToString(T num){string res;stringstream ss;ss<<num;return ss.str();}\ntemplate<class T>T StringToInt(string str){T res=0;for(int i=0;i<SIZE(str);i++)res=(res*10+str[i]-'0');return res;}\ntemplate<class T>T gcd(T a,T b){if(b==0)return a;return gcd(b,a%b);}\ntemplate<class T>T lcm(T a,T b){return a/gcd(a,b)*b;}\nint main(){\n\tint n;\n\twhile(cin >> n,n){\n\t\tvector<int> list;\n\t\trep(i,n){\n\t\t\tint tmp;\n\t\t\tcin >> tmp;\n\t\t\tlist.pb(tmp);\n\t\t}\n\n\t\tint count=0;\n\t\trep(i,10000){\n\t\t\tbool flag=true;\n\t\t\trp(i2,list){\n\t\t\t\tif(list[i2]!=i2+1){\n\t\t\t\t\tflag=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint s=list.size();\n\t\t\trp(i2,list){\n\t\t\t\tlist[i2]--;\n\t\t\t}\n\t\t\tlist.erase(remove(list.begin(), list.end(), 0), list.end());\n\t\t\tlist.pb(s);\n\n\t\t\tcount++;\n\t\t}\n\t\tif(count==10000){\n\t\t\tcout << count << endl;\n\t\t}else{\n\t\t\tcout << -1 << endl;\n\t\t}\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\n\nint N;\nvint vec;\n\nbool check(vint &v){\n    rep(i,v.size())if(v[i]!=i+1)return false;\n    return true;\n}\n\nvoid solve(){\n    vec.resize(N);\n    rep(i,N)cin>>vec[i];\n\n    if(check(vec)){\n        cout<<0<<endl;\n        return;\n    }\n\n    rep(i,10000){\n        vint nxt;\n        rep(i,vec.size()){\n            if(vec[i]>1)nxt.pb(vec[i]-1);\n        }\n        nxt.pb(vec.size());\n        vec=nxt;\n        if(check(vec)){\n            cout<<i+1<<endl;\n            return;\n        }\n    }\n\n    cout<<-1<<endl;\n}\nint main(){\n    while(scanf(\"%d\",&N),N)solve();\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n\n\nusing namespace std;\n\n#define reep(i,n,m) for(int i=(n);i<(m);i++)\n#define rep(i,n) reep(i,0,n)\n\ntypedef vector<int> vi;\n\n\nint main(void){\n\tint N;\n\twhile(cin>>N,N){\n\t\tvi block;\n\t\trep(i,N){\n\t\t\tint v;\n\t\t\tcin >> v;\n\t\t\tblock.push_back(v);\n\t\t}\n\t\t\n\t\tint ans=0;\n\t\twhile(ans<=10000){\n\t\t\tbool flg=true;\n\t\t\trep(i,block.size()){\n\t\t\t\tif(block[i]!=(i+1)){\n\t\t\t\t\tflg=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flg){\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\tint cou=0;\n\t\t\trep(i,block.size()){\n\t\t\t\tblock[i]--;\n\t\t\t\tcou++;\n\t\t\t}\n\n\t\t\tvi b;\n\t\t\trep(i,block.size()){\n\t\t\t\tif(block[i]>0){\n\t\t\t\t\tb.push_back(block[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tb.push_back(cou);\n\t\t\tblock = b;\n\t\t\tans++;\n\t\t}\n\t\tif(ans<=10000){\n\t\t\tcout << ans << endl;\n\t\t}else{\n\t\t\tputs(\"-1\");\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n\n    int n;\n    while ( cin >> n && n != 0 ) {\n\n\tvector<int> b;\n\tint v;\n\tfor ( int i=0; i<n; ++i ) {\n\t    cin >> v;\n\t    b.push_back( v );\n\t}\n\n\tint cnt = 0;\n\twhile ( cnt <= 10000 ) {\n\n\t    //三角形になっているか\n\t    bool tri_num = true;\n\t    if ( b[0] != 1 ) tri_num = false;\n\t    for ( int i=1; i<b.size(); ++i ) {\n\t\tif ( b[i] != b[i-1]+1 ) {\n\t\t    tri_num = false;\n\t\t    break;\n\t\t}\n\t    }\n\t    if ( tri_num ) break;\n\n\t    vector<int> b_tmp;\n\t    for ( int i : b ) {\n\t\tif ( i > 1 ) b_tmp.push_back( i-1 );\n\t    }\n\t    b_tmp.push_back( b.size() );\n\t    b = b_tmp;;\n\n\t    ++cnt;\n\t}\n\n\tif ( cnt > 10000 ) cout << -1 << endl;\n\telse cout << cnt << endl;\n\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <sstream>\n#include <stack>\n#include <vector>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define FOR(i, a, n) for(int i = (a); i < (n); i++)\n#define MP make_pair\n#define all(s) (s).begin(), (s).end()\n#define rev(s) (s).rbegin(), (s).rend()\n#define X first\n#define Y second\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int, int> P;\n\nbool check(vector<int> &v){\n\trep(i, v.size()){\n\t\tif(v[i] != i+1) return false;\n\t}\n\treturn true;\n}\n\nbool istri[1000010];\n\nvoid settri(){\n\tfill(istri, istri+1000010, false);\n\tint tri = 0;\n\tfor(int i = 0; tri <= 1000000; i++){\n\t\ttri += i;\n\t\tistri[tri] = true;\n\t}\n}\n\nint main(){\n\tsettri();\n\tint n;\n\twhile(cin >> n, n){\n\t\tvector<int> v(n);\n\t\tint sum = 0;\n\t\trep(i, n){\n\t\t\tcin >> v[i];\n\t\t\tsum += v[i];\n\t\t}\n\n\t\tif(!istri[sum]){\n\t\t\tcout << -1 << endl;\n\t\t\tcontinue;\n\t\t}\n\n\t\tint cnt = 0;\n\t\twhile(1){\n\t\t\tif(check(v)){\n\t\t\t\tcout << cnt << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(cnt == 10000){\n\t\t\t\tcout << -1 << endl;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvector<int> next;\n\t\t\trep(i, v.size()){\n\t\t\t\tif(v[i]-1 == 0) continue;\n\t\t\t\tnext.push_back(v[i]-1);\n\t\t\t}\n\t\t\tnext.push_back(v.size());\n\t\t\tv = next;\n\t\t\tcnt++;\n\t\t}\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#define MAX_COL 10000\n\nusing namespace std;\n\nint down_one_and_load_right(int b[],int sum){ // 高さが0であるかは考慮しない.\n\tint s = 0, i;\n\tfor(i = 0;s < sum;i++){\n\t\ts += b[i];\n\t\tb[i]--;\n\t}\n\tint j;\n\ts = i;\n\tfor(j = 0;s < sum;j++){\n\t\ts += b[j];\n\t}\n\tb[j] = i;\n\treturn 1; // 操作としては1回なので常に１を返す.\n}\n\n\nint find_span(int b[],int sum){ // 隙間を探す関数\n\tint s = 0;\n\tfor(int i = 0;s < sum;i++){\n\t\tif(b[i] == 0){\n\t\t\treturn 1;\n\t\t}\n\t\ts += b[i];\n\t}\n\treturn 0;\n}\n\t\n\nint judge_asc(int b[],int sum){\n\tint s = 0;\n\tfor(int i = 0;s < sum;i++){\n\t\tif(b[i] != i + 1){\n\t\t\treturn 0;\n\t\t}\n\t\ts += b[i];\n\t}\n\treturn 1;\n}\n\n\nint shift_left(int b[],int sum){ // 左詰めにしながら,操作回数を返す\n\tint s = 0;\n\tint shift_num = 0;\n\tint block = 0;\n\tint res = 0;\n\tfor(int i = 0;s < sum;i++){\n\n\t\tif(b[i] == 0){\n\t\t\tshift_num++;\n\t\t\tif(block){\n\t\t\t\tres = 1;\n\t\t\t}\n\t\t}else{\n\t\t\tb[i - shift_num] = b[i];\n\t\t\ts += b[i];\n\t\t\tif(shift_num > 0){\n\t\t\t\tb[i] = 0;\n\t\t\t}\n\t\t\tblock = 1; // ブロックが参照位置より左にあるときに,隙間を判定\n\t\t}\n\t}\n\treturn 0;\n}\n\n\n\nint main(void){\n\tint b[MAX_COL];\n\tint n, sum, ans;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tmemset(b,0,sizeof(b));\n\t\tsum = 0;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tcin >> b[i];\n\t\t\tsum += b[i];\n\t\t}\n\n\t\tans = 0;\n\t\twhile(ans <= 10000){\n\t\t\t// 昇順であるか確認\n\t\t\tif(judge_asc(b,sum)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(find_span(b,sum)){\n\t\t\t\tans += shift_left(b,sum);\n\t\t\t}else{\n\t\t\t\tans += down_one_and_load_right(b,sum);\n\t\t\t}\n\t\t}\n\t\tif(ans > 10000){\n\t\t\tcout << -1 << endl;\n\t\t}else{\n\t\t\tcout << ans << endl;\n\t\t}\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nvoid solve(int n){\n    vector<int> v(n);\n    for (auto &&i : v) scanf(\"%d\", &i);\n    for (int i = 0; i <= 10000; ++i) {\n        int ok = v[0] == 1;\n        for (int j = 0; j+1 < v.size(); ++j) {\n            ok &= (v[j+1]-v[j] == 1);\n        }\n        if(ok) {\n            cout << i << \"\\n\";\n            return;\n        }\n        for (auto &&j : v) {\n            j--;\n        }\n        int sz = v.size();\n        v.erase(remove(v.begin(),v.end(), 0), v.end());\n        v.emplace_back(sz);\n    }\n    puts(\"-1\");\n}\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        solve(n);\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<deque>\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#define F first\n#define S second\nusing namespace std;\n \nbool check(deque<int>& deq,int counter)\n{\n  for(int i=deq.size()-1;i>=0;i--)\n        {       \n          if(deq[i] != counter)\n        return false;\n          else     \n        counter--;\n        }\n  return counter == 0;\n}\n \nint main()\n{\n  int N;\n  while(true)\n    {\n      cin >> N;\n      if(!N)\n    break;\n      deque<int> deq;\n      for(int i=0;i<N;i++)\n    {\n      int input;\n      cin >> input;\n      deq.push_back(input);\n    }\n \n      if(check(deq,N))\n    {\n      cout << 0 << endl;\n      continue;\n    }     \n \n      bool fin = true;\n \n      for(int m = 1;m <= 10000;m++)\n    {/*1*/\n      //cout << \"m = \" << m << endl;\n      fin = true;\n      int counter = 0;\n      deque<int> n_deq;\n      for(int i=0;i<deq.size();i++)\n        {\n          if(deq[i] >= 1)\n        {\n          counter++;\n          deq[i]--;\n        }\n          if(deq[i] >= 1)\n        {\n          n_deq.push_back(deq[i]);\n        }\n        }\n      \n      deq = n_deq;\n      deq.push_back(counter);\n      if(check(deq,counter))\n        {\n          cout << m << endl;\n          fin = false;\n          break;\n        } \n    }/*1*/\n      if(fin)\n    cout << -1 << endl;\n      \n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n,p;\n  while(cin>>n,n){\n    vector<int>v;\n    for(int i=0;i<n;i++){\n      cin>>p;\n      v.push_back(p);\n    }\n    for(int o=0;o<=10000;o++){\n      int c=0;\n      for(int i=0;i<v.size();i++)\n        if(v[i]==i+1)c++;\n      if(c==v.size()){\n        cout<<o<<endl;\n        break;\n      }\n      int pp=0;\n      for(int i=0;i<v.size();i++)\n        v[i]--,pp++;\n      v.push_back(pp);\n      for(int i=0;i<(int)v.size();i++)\n        if(!v[i])v.erase(v.begin()+i),i--;\n      if(o==10000)cout<<-1<<endl;\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\"\n\nbool check(const vector<int>hs) {\n\tfor (int i = 0; i < hs.size(); ++i) {\n\t\tif (i + 1 == hs[i]) {\n\n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>nums(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tint b; cin >> b;\n\t\t\tnums[i] = b;\n\t\t}\n\t\tint ans = -1;\n\t\tfor (int t = 0; t <= 10000; ++t) {\n\t\t\tif (check(nums)) {\n\t\t\t\tans = t;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor (auto &h : nums) {\n\t\t\t\th--;\n\t\t\t}\n\t\t\tnums.push_back(nums.size());\n\t\t\tvector<int>newnums;\n\t\t\tfor (auto n : nums) {\n\t\t\t\tif (n)newnums.push_back(n);\n\t\t\t}\n\t\t\tnums = newnums;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\t\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define PB push_back\n#define MP make_pair\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define ALL(a) (a).begin(),(a).end()\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int> P;\nconst ll INF=1e9;\nint main(){\n      int n;\n      while(cin>>n&&n){\n            int cnt=0,a[100000],h=n;\n            REP(i,n)cin>>a[i];\n            int k=1;bool f=true;\n            while(cnt<=10000){\n                  bool f=true;\n                  REP(i,h){\n                        if(a[i]!=i+1)f=false;\n                  }\n                  if(f)break;\n                  int now=0;\n                  REP(i,h)a[i]--;\n                  REP(i,h){\n                        if(a[i]>0){\n                              a[now]=a[i];\n                              now++;\n                        }\n                  }\n                  a[now]=h;\n                  h=now+1;\n                  cnt++;\n            }\n            if(cnt>10000)cout<<-1<<endl;\n            else cout<<cnt<<endl;\n      }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n \nusing namespace std;\n \nint main(){\n \n  while(1) {\n \n  int N;\n  cin >> N;\n  if(N == 0) break;\n \n  int b[100000];\n   \n  for(int i=0;i<N;i++) {\n    cin >> b[i];\n  }\n \n  int count = 0,flag = 2;\n  int t;\n \n  while(1) {\n    for(int i=1;i<=N;i++) {\n      if(b[i-1] != i) break;\n \n      if(i == N) flag = 0;\n    }\n     \n    if(flag == 0) break;\n \n    count++;\n    if(count > 10000) {\n      flag = 1;\n      break;\n    }\n    t = N;\n    for(int i=0;i<N;i++) b[i]--;\n \n    for(int i=0;i<N;i++) {\n      if(b[i] == 0) {\n    for(int j=i;j<N-1;j++) {\n      b[j] = b[j+1];\n    }\n    N--;\n    i--;\n      }\n    }\n    N++;\n    b[N-1] = t;\n \n    //  for(int i=0;i<N;i++) cout << b[i] <<\" \";\n    //cout << endl;\n \n  }\n \n \n  if(flag == 1) cout << \"-1\"<<endl;\n  else cout << count << endl;\n \n  }\n \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <list>\nusing namespace std;\n\nlist<int> blocks;\nvoid arrange(){\n\tint s = 0;\n\tfor(list<int>::iterator it = blocks.begin(); it != blocks.end(); ++it){\n\t\t(*it)--;\n\t\ts++;\n\t}\n\tblocks.remove(0);\n\tblocks.push_back(s);\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n){\n\t\tblocks.clear();\n\t\tint sum = 0, b, bn = 0;\n\t\tbool flag = false;\n\t\t\n\t\tfor(int i = 0; i < n; ++i){\n\t\t\tcin >> b;\n\t\t\tblocks.push_back(b);\n\t\t\tsum += b;\n\t\t}\n\t\tfor(int i = 1; ; ++i){\n\t\t\tif(sum == (i * (i + 1) / 2)){\n\t\t\t\tflag = true;\n\t\t\t\tbn = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(sum < (i * (i + 1) / 2))\n\t\t\t\tbreak;\n\t\t}\n\t\tif(!flag){\n\t\t\tcout << \"-1\" << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tint cnt = 0;\n\t\twhile(cnt < 10000){\n\t\t\tlist<int>::iterator it = blocks.begin();\n\t\t\tbool ok = false;\n\t\t\tfor(int i = 1; i <= bn; ++i){\n\t\t\t\tif(*it != i)\n\t\t\t\t\tbreak;\n\t\t\t\tif(*it == bn){\n\t\t\t\t\tcout << cnt << endl;\n\t\t\t\t\tok = true;\n\t\t\t\t}\n\t\t\t\tit++;\n\t\t\t}\n\t\t\tif(ok)\n\t\t\t\tbreak;\n\t\t\tarrange();\n\t\t\tcnt++;\n\t\t}\n\t\tif(cnt >= 10000)\n\t\t\tcout << \"-1\" << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nvector<int> f(vector<int> v){\n  vector<int> res;\n  for(int i=0;i<v.size();i++)\n    if(v[i]>0)\n      res.push_back(v[i]);\n  return res;\n}\n\nbool check(vector<int> v){\n  for(int i=0;i<v.size();i++)\n    if(v[i]!=i+1)return false;\n  return true;\n}\n\nint main(){\n  int n;\n  while(cin>>n, n){\n    vector<int> v;\n\n    v.clear();\n    for(int i=0;i<n;++i){\n      int x;\n      cin>>x;\n      v.push_back(x);\n    }\n    int ans=0,cnt=0;\n\n    while( !check(v) ){\n\n      ans++;\n      if(ans>10000){\n        ans=-1;\n        break;\n      }\n\n      int size=v.size();\n      for(int i=0;i<size;++i){\n          v[i]--;\n      }\n      \n      v.push_back( size );\n\n      v=f(v);\n    }\n    \n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <cstdio>\nusing namespace std;\nbool judge(vector<int>&b);\nint main(){\n    int n;\n    while(scanf(\"%d\",&n),n){\n\t\t\n        vector<int>b;//satge\n\t\tint sum = 0;\n\t\tint x = 0;\n        for(int i = 0; i < n; i++){\n            scanf(\"%d\",&x);\n            sum += x;\n            b.push_back(x);\n        }\n\t\tbool f = judge(b);\n\t\tif(f){\n\t\t\tputs(\"0\");\n\t\t\tcontinue;\n\t\t}\n\t\tbool w = false;\n\t\tfor(int i = 2; ; i++){\n\t\t\tif(i*(i+1)/2 == sum)break;\n\t\t\tif(i*(i+1)/2 > sum){\n\t\t\t\tw = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(w){\n\t\t\tputs(\"-1\");\n\t\t\tcontinue;\n\t\t}\n        for(int i = 0; i <= 10000 && !judge(b) ; i++){\n            int len = b.size();\n            for(int j = 0; j < len; j++)b[j]--;\n            b.erase(remove(b.begin(),b.end(),0),b.end());\n            b.push_back(len);\n\t\t\tx = i;\n        }\n\t\tx++;\n        printf(\"%d\\n\",x > 10000 ? -1 : x);\n    }\n}\nbool judge(vector<int>&b){\n\tbool f=true;\n\tint len = b.size();\n\tfor(int i = 0; i < len; i++){\n\t\tif(b[i] != i+1){\n\t\t\tf = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn f;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n    int N;\n    while(true) {\n        cin >> N;\n        if(!N) break;\n\n        vector<int> b(N);\n        for(int i = 0;i < N;i++) cin >> b[i];\n\n        int ans = 0;\n\n        int k = 0;\n        for(int i = 0;i < N;i++) k += b[i];\n        if(k * (k + 1) % 2 != 0) {\n            ans = -1;\n            break;\n        }\n\n        while(true) {\n            bool ok = true;\n            for(int i = 0;i < b.size();i++) {\n                if(b[i] != i + 1) {\n                    ok = false;\n                    break;\n                }\n            }\n            if(ok) break;\n\n            ans++;\n\n            for(int i = 0;i < b.size();i++) b[i]--;\n            b.push_back(b.size());\n            b.erase(remove(b.begin(), b.end(), 0), b.end());\n\n            if(ans >= 10000) {\n                ans = -1;\n                break;\n            }\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "Haskell",
    "code": "main :: IO ()\nmain = do\n  n <- readLn\n  if n == 0\n    then return ()\n    else do\n      ls <- getLine\n      let ls' = map read . words $ ls\n      print $ solve ls'\n      main\n\nsolve :: [Int] -> Int\nsolve ls\n  | isTriNum (sum ls) = loop ls 0\n  | otherwise = -1\n  where\n    isTriNum :: Int -> Bool\n    isTriNum n = check n 1\n      where\n        check :: Int -> Int -> Bool\n        check n c\n          | n == 0 = True\n          | n < 0 = False\n          | otherwise = check (n-c) (c+1)\n          \n    loop :: [Int] -> Int -> Int\n    loop ls c\n      | c > 10000 = -1\n      | isTri ls = c\n      | all (0 <) ls = loop ((map (\\x -> x-1) ls) ++ [length ls]) (c+1)\n      | otherwise = loop (filter (0 <) ls) c\n      where\n        isTri :: [Int] -> Bool\n        isTri ls = all (\\(a,b) -> a == b) (zip ls [1..])"
  },
  {
    "language": "Haskell",
    "code": "pack [] = []\npack (0:xs) = pack xs\npack (x:xs) = x:(pack xs)\n\nsub [] = []\nsub (x:xs) = (x-1):(sub xs)\n\nans' n x =\n  if x == take l [1..]\n  then n\n  else\n    if n > 10000\n    then -1\n    else ans' (n+1) (y++[l])\n  where\n    l = length x\n    y = pack $ sub x\n    \nans ([0]:_) = []\nans ([n]:x:xs) =\n  (ans' 0 x):(ans xs)\n\nmain = do\n  c <- getContents\n  let i = map (map read) $ map words $ lines c :: [[Int]]\n      o = ans i\n  mapM_ print o"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\n-- import qualified Data.ByteString as BS\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\n--import qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\nimport Data.Array\n--import Data.Array.Unboxed\n--import Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\nimport GHC.ST\n-- import System.IO.Unsafe\n\n-- templete\nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\ngetDoubles = map readDouble . words <$> getLine\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ntjoin :: (Show a, Show b) => (a, b) -> String\ntjoin (x, y) = show x ++ (' ' : show y)\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncoverC :: Ord a => (a, a) -> a -> Bool\ncoverC (l,r) x = l<=x && x<=r\ncoverH :: Ord a => (a, a) -> a -> Bool\ncoverH (l,r) x = l<=x && x<r\nibsearch :: (Int -> Bool) -> (Int,Int) -> Int\nibsearch f (ok,ng) = if abs (ok-ng) <= 1 then ok else let mid = (ok + ng) `div` 2 in ibsearch f (if f mid then (mid,ng) else (ok,mid))\n-- templete\n\ncheck s = check' 1 s\n  where\n    check' _ [] = True\n    check' i (x:xs)\n      | x==i = check' (i+1) xs\n      | otherwise = False\n\nop s = osub 0 s\n  where\n    osub n [] = [n]\n    osub n (1:xs) = osub (n+1) xs\n    osub n (x:xs) = (x-1) : osub (n+1) xs\n\nf s = let g i xs = if check xs then i else if i==10000 then (-1) else g (i+1) (op xs) in g 0 s\n\n\nmain = do\n    n <- getInt\n    unless (n==0) $ getInts >>= print . f >> main\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\n-- import qualified Data.ByteString as BS\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\n--import qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\nimport Data.Array\n--import Data.Array.Unboxed\n--import Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\nimport GHC.ST\n-- import System.IO.Unsafe\n\n-- templete\nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\ngetDoubles = map readDouble . words <$> getLine\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ntjoin :: (Show a, Show b) => (a, b) -> String\ntjoin (x, y) = show x ++ (' ' : show y)\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncoverC :: Ord a => (a, a) -> a -> Bool\ncoverC (l,r) x = l<=x && x<=r\ncoverH :: Ord a => (a, a) -> a -> Bool\ncoverH (l,r) x = l<=x && x<r\nibsearch :: (Int -> Bool) -> (Int,Int) -> Int\nibsearch f (ok,ng) = if abs (ok-ng) <= 1 then ok else let mid = (ok + ng) `div` 2 in ibsearch f (if f mid then (mid,ng) else (ok,mid))\n-- templete\n\ncheck s = all (uncurry (==)) $ zip s [1..]\n\nop s = osub 0 s\n  where\n    osub n [] = [n]\n    osub n (1:xs) = osub (n+1) xs\n    osub n (x:xs) = let r = osub (n+1) xs in (x-1) : r\n\nf s = let g i xs = if check xs then i else if i==10000 then (-1) else g (i+1) (op xs) in g 0 s\n\n\nmain = do\n    n <- getInt\n    unless (n==0) $ getInts >>= print . f >> main\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative ((<$>))\nimport Control.Monad (unless)\nimport Data.ByteString.Char8 (ByteString)\nimport qualified Data.ByteString.Char8 as B\nimport Data.List (unfoldr)\nimport Data.Char (isSpace)\n\nmain :: IO ()\nmain = do\n  n <- readLn\n  unless (n == 0) $ do\n    solve n <$> readil B.readInt <$> B.getLine >>= print\n    main\n    \nsolve :: Int -> [Int] -> Int\nsolve n xs = cnt 0 (n, xs)\n  where f (c, as) = foldr g (1, [c]) as\n          where g e (d, bs) | e == 1 = (d, bs)\n                            | otherwise = (d+1, (e-1):bs)\n        cnt i (c, as) | i > 10000 = (-1)\n                      | isTriangle as = i\n                      | otherwise = cnt (i+1) (f (c, as))\n\nisTriangle :: [Int] -> Bool\nisTriangle xs = head xs == 1 && all f (zip xs (tail xs))\n  where f (a, b) = a + 1 == b\n        \nreadil :: Integral a =>  (ByteString -> Maybe (a, ByteString)) -> ByteString -> [a]\nreadil f = unfoldr g\n  where\n    g s = do\n      (n, s') <- f s\n      return (n, B.dropWhile isSpace s')\n\n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative ((<$>), (<*>))\nimport Control.Monad\nimport Data.List\n\nmain :: IO ()\nmain = do\n  n <- getl toInt\n  unless (n == 0) $ do\n    solve <$> getl (wrds toInt) >>= print\n    main\n\nsolve :: [Int] -> Int\nsolve xs\n  | n == (-1) = (-1)\n  | otherwise = count 0 xs\n  where\n    n = eot (sum xs)\n    move ys = filter (/= 0) $ map (subtract 1) ys ++ [length ys]\n    g = [1..n]\n    count c zs\n      | zs == g = c\n      | c > 10000 = (-1)\n      | otherwise = count (c+1) (move zs)\n      \neot :: Int -> Int\neot x = if x == n * (n + 1) `div` 2 then n else (-1)\n  where\n    n = round $ (sqrt (8.0 * (fromIntegral x) + 1.0) - 1.0) / 2.0\n\ntoInt :: String -> Int\ntoInt = read\n\nwrds :: (String -> a) -> String -> [a]\nwrds f = map f . words\n\ngetl :: (String -> a) -> IO a\ngetl f = f <$> getLine"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\n-- import qualified Data.ByteString as BS\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\n--import qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\nimport Data.Array\n--import Data.Array.Unboxed\n--import Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\nimport GHC.ST\n-- import System.IO.Unsafe\n\n-- templete\nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\ngetDoubles = map readDouble . words <$> getLine\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ntjoin :: (Show a, Show b) => (a, b) -> String\ntjoin (x, y) = show x ++ (' ' : show y)\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncoverC :: Ord a => (a, a) -> a -> Bool\ncoverC (l,r) x = l<=x && x<=r\ncoverH :: Ord a => (a, a) -> a -> Bool\ncoverH (l,r) x = l<=x && x<r\nibsearch :: (Int -> Bool) -> (Int,Int) -> Int\nibsearch f (ok,ng) = if abs (ok-ng) <= 1 then ok else let mid = (ok + ng) `div` 2 in ibsearch f (if f mid then (mid,ng) else (ok,mid))\n-- templete\n\ncheck s = all (uncurry (==)) $ zip s [1..] -- check' 1 s\n  where\n    check' _ [] = True\n    check' i (x:xs)\n      | x==i = check' (i+1) xs\n      | otherwise = False\n\nop s = osub 0 s\n  where\n    osub n [] = [n]\n    osub n (1:xs) = osub (n+1) xs\n    osub n (x:xs) = (x-1) : osub (n+1) xs\n\nf s = let g i xs = if check xs then i else if i==10000 then (-1) else g (i+1) (op xs) in g 0 s\n\n\nmain = do\n    n <- getInt\n    unless (n==0) $ getInts >>= print . f >> main\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint isTriangle(int n) {\n\tint left,right,mid;\n\tlong long now;\n\tleft=0;right=n;\n\twhile(left<=right) {\n\t\tmid=(left+right)/2;\n\t\tnow=(long long)mid*(mid-1)/2;\n\t\tif(now==n)return 1;\n\t\telse if(now<n)left=mid+1;\n\t\telse right=mid-1;\n\t}\n\treturn 0;\n}\n\n#define BLOCK_MAX 1000010\n\nint blocks[BLOCK_MAX];\nint block_max;\n\nvoid theOperation(void) {\n\tint i,max=block_max,now;\n\tfor(i=0;i<max;i++) {\n\t\tif(blocks[i]>0)blocks[i]--;\n\t}\n\tblocks[max]=max;\n\tfor(i=now=0;i<=max;i++) {\n\t\tif(blocks[i]>0)blocks[now++]=blocks[i];\n\t}\n\tblock_max=now;\n\tfor(;now<=max;now++)blocks[now]=0;\n}\n\nint blockIsTriangle(void) {\n\tint i;\n\tfor(i=0;i<block_max;i++) {\n\t\tif(blocks[i]!=i+1)return 0;\n\t}\n\treturn 1;\n}\n\nint main(void) {\n\tint n,i,sum;\n\twhile(scanf(\"%d\",&n)==1 && n>0) {\n\t\tsum=0;\n\t\tfor(i=0;i<n;i++) {\n\t\t\tscanf(\"%d\",&blocks[i]);\n\t\t\tsum+=blocks[i];\n\t\t}\n\t\tblock_max=n;\n\t\tif(!isTriangle(sum))puts(\"-1\");\n\t\telse if(blockIsTriangle())puts(\"0\");\n\t\telse {\n\t\t\tfor(sum=1;sum<=10000;sum++) {\n\t\t\t\ttheOperation();\n\t\t\t\tif(blockIsTriangle())break;\n\t\t\t}\n\t\t\tprintf(\"%d\\n\",sum<=10000?sum:-1);\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0267 Triangle of Blocks\n// 2017.9.8 bal4u@uu\n// 2017.11.18\n\n#include <stdio.h>\n#include <string.h>\n#include <math.h>\n\nint b[1003];\nint g[1003];\n\nint isTriNum(int k)\n{\n\treturn ((int)sqrt((k << 3) + 1)) & 1;\n}\n\nint main()\n{\n\tint n, i, k, a, sum, ans;\n\n\tfor (i = 1; i <= 1000; i++) g[i] = i;\n\n\twhile (scanf(\"%d\", &n) && n) {\n\t\tfor (sum = 0, i = 1; i <= n; i++) scanf(\"%d\", &a), b[i] = a, sum += a;\n\t\tif (!isTriNum(sum)) { puts(\"-1\"); continue; }\n\t\tans = 0; while (1) {\n\t\t\tif (ans > 10000) { puts(\"-1\"); break; }\n\t\t\tif (!memcmp(b, g, sizeof(int)*(n+1))) { printf(\"%d\\n\", ans); break; }\n\n\t\t\tfor (k = 1, i = 1; i <= n; i++) {\n\t\t\t\tif (b[i] > 1) b[k++] = b[i]-1;\n\t\t\t}\n\t\t\tb[k] = n, n = k, ans++;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint b[100000], b_tmp[100000];\n\nint main() {\n\n    int i, n, m, cnt, is_tri_num;\n    while ( scanf(\"%d\", &n) == 1 && n != 0 ) {\n\n\tfor ( i=0; i<n; ++i ) scanf(\"%d\", &b[i]);\n\n\tcnt = 0;\n\twhile ( cnt <= 10000 ) {\n\t\n\t    //三角形になっているか\n\t    is_tri_num = 1;\n\t    if ( b[0] != 1 ) is_tri_num = 0;\n\t    for ( i=1; i<n; ++i ) {\n\t\tif ( b[i] != b[i-1]+1 ) {\n\t\t    is_tri_num = 0;\n\t\t    break;\n\t\t}\n\t    }\n\t    if ( is_tri_num ) break;\n\n\t    m = 0;\n\t    for ( i=0; i<n; ++i ) {\n\t\tif ( b[i] > 1 ) {\n\t\t    b_tmp[m] = b[i] - 1;\n\t\t    ++m;\n\t\t}\n\t    }\n\n\t    for ( i=0; i<m; ++i ) b[i] = b_tmp[i];\n\t    b[m] = n;\n\n\t    n = m + 1;\n\t    ++cnt;\n\t}\n\n\tif ( cnt > 10000 ) printf(\"-1\\n\");\n\telse printf(\"%d\\n\", cnt);\n    }\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint check(int *b, int n)\n{\n    int i;\n\n#if 0\n    printf(\"[\");\n    for (i = 0; i < n; i++){\n        printf(\"%d \", b[i]);\n    }\n    printf(\"]\\n\");\n#endif    \n    for (i = 0; i < n; i++){\n        if (b[i] != i + 1){\n            return (0);\n        }\n    }\n    return (1);\n}\n\nint main(void)\n{\n    int N, n;\n    int block[10000];\n    int cnt;\n    int i, j;\n    \n    while (1){\n        scanf(\"%d\", &N);\n        if (N == 0){\n            break;\n        }\n\n        \n        for (i = 0; i < N; i++){\n            scanf(\"%d\", &block[i]);\n        }\n        \n        cnt = 0;\n        n = N;\n        block[n] = 0;\n        while (1){\n            if (check(block, n) == 1){\n                printf(\"%d\\n\", cnt);\n                break;\n            }\n            cnt++;\n            if (cnt > 10000){\n                printf(\"-1\\n\");\n                break;\n            }\n            for (n = 0; block[n] != 0; n++);\n            block[n] = n;\n            block[n + 1] = 0;\n            for (i = 0; i < n; i++){\n                block[i]--;\n            }\n            \n            for (i = j = 0; i <= n; i++){\n                if (block[i] != 0){\n                    block[j] = block[i];\n                    j++;\n                }\n            }\n            block[j] = 0;\n            n = j;\n//            for (; j <= n; j++){\n//                block[j] = 0;\n//            }\n\n        }\n    }\n    return (0);\n}\n\n        \n        "
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void){\n\twhile(1){\n\t\tint n, i, j;\n\t\tint b[5050]={0};\n\t\tint count=0;\n\t\t\n\t\tscanf(\" %d\", &n);\n\t\tif(n==0) break;\n\t\t\n\t\tfor(i=0; i<n; i++)\n\t\t\tscanf(\" %d\", &b[i]);\n\t\n\t\tint now = n;\n\t\n\t\twhile(1){\n\t\t\t//printf(\"%d\\n\", now);\n\t\t\tint flag=0;\n\t\t\t\n\t\t\t//for(i=0; i<now; i++)\n\t\t\t\t//printf(\"%d \", b[i]);\n\t\t\t//printf(\"\\n\");\n\t\t\n\t\t\tif(count>10000) break;\n\t\t\tfor(i=0; i<now; i++){\n\t\t\t\tif(b[i] != i+1) {\n\t\t\t\t\tflag=1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag==0) break;\n\t\t\t\n\t\t\tint k = now; //変化前の値を保存\n\t\t\t\n\t\t\tfor(i=0; i<k; i++)\n\t\t\t\t--b[i];\n\t\t\t\n\t\t\t++now;\t\t\n\t\t\tb[now-1] = k;\t\n\t\t\t\n\t\t\tfor(i=0; i<now; i++){\n\t\t\t\tif(b[i]==0) {\n\t\t\t\t\tfor(j=i; j<now; j++) b[j] = b[j+1];\n\t\t\t\t\t--now;\n\t\t\t\t\t--i;\n\t\t\t\t}\n\t\t\t}\t\t\t\t\n\t\t\t\n\t\t\t++count;\n\t\t}\n\t\t\n\t\tif(count>10000) printf(\"-1\\n\");\t\n\t\telse printf(\"%d\\n\", count);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,p,flg,flg2,s,pp;\n\tint b[11000];\n\twhile(1)\t{\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)\tbreak;\n\t\tfor(i=0;i<n;i++)\t{\n\t\t\tscanf(\"%d\",&b[i]);\n\t\t}\n\t\tflg=0;\n\t\tp=n;\n\t\tfor(i=0;i<=10000;i++)\t{\n\t\t\tflg2=1;\n\t\t\tfor(j=0;j<p;j++)\t{\n\t\t\t\tif(b[j]!=j+1)\t{\n\t\t\t\t\tflg2=0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flg2==1)\t{\n\t\t\t\tflg=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tfor(j=0;j<p;j++)\t{\n\t\t\t\tb[j]--;\n\t\t\t}\n\t\t\tb[p]=p;\n\t\t\tp++;\n\t\t\tpp=0;\n\t\t\tfor(j=0;j<p;j++)\t{\n\t\t\t\tif(b[j]!=0)\t{\n\t\t\t\t\tb[pp]=b[j];\n\t\t\t\t\tpp++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tp=pp;\n\t\t}\n\t\tif(flg==1)\t{\n\t\t\tprintf(\"%d\\n\",i);\n\t\t}\n\t\telse {\n\t\t\tprintf(\"-1\\n\");\n\t\t}\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "// AOJ 0267 Triangle of Blocks\n// 2017.9.8 bal4u@uu\n// 2017.11.18\n\n#include <stdio.h>\n#include <string.h>\n#include <math.h>\n\nint b[1003];\n\nint isTriNum(int k)\n{\n\treturn ((int)sqrt((k << 3) + 1)) & 1;\n}\n\nint main()\n{\n\tint n, i, k, a, sum, ans;\n\n\twhile (scanf(\"%d\", &n) && n) {\n\t\tfor (sum = 0, i = 1; i <= n; i++) scanf(\"%d\", &a), b[i] = a, sum += a;\n\t\tif (!isTriNum(sum)) { puts(\"-1\"); continue; }\n\t\tans = 0; while (1) {\n\t\t\tfor (i = 1; ; i++) {\n\t\t\t\tif (i > n) { printf(\"%d\\n\", ans); goto done; }\n\t\t\t\tif (b[i] != i) break;\n\t\t\t\tb[i]--;\n\t\t\t}\n\t\t\tfor ( ; i <= n; i++) b[i]--;\n\t\t\tfor (k = 1, i = 1; i <= n; i++) if (b[i]) b[k++] = b[i];\n\t\t\tb[k] = n, n = k;\n\t\t\tif (++ans > 10000) { puts(\"-1\"); break; }\n\t\t}\ndone:;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n \n#define LIMIT\t(10000)\n \nint main(void)\n{\n\tint n;\n\tint mem[2][10000];\n\tint ct;\n\tint under_line;\n\tint dl;\n\tint i, j;\n\tint index;\n \n\twhile (scanf(\"%d\", &n), n){\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &mem[0][i]);\n\t\t}\n \n\t\tunder_line = n;\n\t\tfor (ct = 0; ct < LIMIT; ct++){\n\t\t\tfor (i = 0; i < under_line && mem[ct & 1][i] == i + 1; i++);\n\t\t\tif (i == under_line) break;\n \n\t\t\tdl = index = 0;\n\t\t\tfor (i = 0; i < under_line; i++){\n\t\t\t\tdl -= !(--mem[ct & 1][i]);\n\t\t\t\tif (mem[ct & 1][i]) mem[!(ct & 1)][index++] = mem[ct & 1][i];\n\t\t\t}\n\t\t\tmem[!(ct & 1)][index] = under_line;\n\t\t\tunder_line = under_line + 1 + dl;\n\t\t}\n\t\tprintf(\"%d\\n\", ct != LIMIT ? ct : -1);\n\t}\n \n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void){\n\twhile(1){\n\t\tint n, i, j;\n\t\tint b[5050]={0};\n\t\tint count=0;\n\t\t\n\t\tscanf(\" %d\", &n);\n\t\tif(n==0) break;\n\t\t\n\t\tfor(i=0; i<n; i++)\n\t\t\tscanf(\" %d\", &b[i]);\n\t\n\t\tint now = n;\n\t\n\t\twhile(1){\n\t\t\t//printf(\"%d\\n\", now);\n\t\t\tint flag=0;\n\t\t\t\n\t\t\t//for(i=0; i<now; i++)\n\t\t\t\t//printf(\"%d \", b[i]);\n\t\t\t//printf(\"\\n\");\n\t\t\n\t\t\tif(count>10000) break;\n\t\t\tfor(i=0; i<now; i++){\n\t\t\t\tif(b[i] != i+1) {\n\t\t\t\t\tflag=1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag==0) break;\n\t\t\t\n\t\t\tint k = now; //変化前の値を保存\n\t\t\t\n\t\t\tfor(i=0; i<k; i++)\n\t\t\t\t--b[i];\n\t\t\t\n\t\t\t++now;\t\t\n\t\t\tb[now-1] = k;\t\n\t\t\t\n\t\t\tfor(i=0; i<now; i++){\n\t\t\t\tif(b[i]==0) {\n\t\t\t\t\tfor(j=i; j<now; j++) b[j] = b[j+1];\n\t\t\t\t\t--now;\n\t\t\t\t\t--i;\n\t\t\t\t}\n\t\t\t}\t\t\t\t\n\t\t\t\n\t\t\t++count;\n\t\t}\n\t\t\n\t\tif(count>10000) printf(\"-1\\n\");\t\n\t\telse printf(\"%d\\n\", count);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint B[1000005],i,j,N;\n\nint ch()\n{\n\tint i;\n\tif(N==1)return 0;\n\tfor(i=1;i<N;i++)\n\t\tif(B[i]-1!=B[i-1])\n\t\t\treturn 0;\n\treturn 1;\n}\n\nint main() \n{\n\tfor(;scanf(\"%d\",&N),N;)\n\t{\n\t\tfor(i=0;i<N;i++)scanf(\"%d\",B+i);\n\t\tfor(i=0;i<=10000;i++)\n\t\t{\n\t\t\tif(ch())break;\n\t\t\tfor(j=0;j<N;j++)\n\t\t\t\tB[j]--;\n\t\t\tB[N]=N;\n\t\t\tN++;\n\t\t\tfor(j=0;j<N;)\n\t\t\t{\n\t\t\t\tif(B[j]==0)\n\t\t\t\t{\n\t\t\t\t\tmemmove(B+j,B+j+1,4*(N-j));\n\t\t\t\t\tN--;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i<10000?i:-1);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu 0267 Triangle of Blocks\n// 2017.9.8 bal4u@uu\n\n#include <stdio.h>\n#include <math.h>\n\nint b[1503], n;\n\nint isTriNum(int k)\n{\n\tint t = 8*k + 1;\n\tint x = (int)sqrt(t);\n\treturn (x & 1) && x*x == t;\n}\n\nint main()\n{\n\tint i, k, a, sum, ans;\n\n\twhile (scanf(\"%d\", &n) && n) {\n\t\tfor (sum = 0, i = 1; i <= n; i++) scanf(\"%d\", &a), b[i] = a, sum += a;\n\t\tif (!isTriNum(sum)) { puts(\"-1\"); continue; }\n\t\tans = 0; while (1) {\n\t\t\tif (ans > 10000) { puts(\"-1\"); break; }\n\t\t\tfor (i = 1; i <= n; i++) { if (b[i] != i) break; }\n\t\t\tif (i > n) { printf(\"%d\\n\", ans); break; }\n\t\t\tfor (k = 1, i = 1; i <= n; i++) {\n\t\t\t\tif (b[i] > 1) b[k++] = b[i]-1;\n\t\t\t}\n\t\t\tb[k] = n, n = k, ans++;\n\t\t}\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int b[10110],c,n,i,j,r;\n  while(scanf(\"%d\",&n),n){\n    for(i=r=0;i<n;i++)scanf(\"%d\",&b[i]);\n    for(i=0;i<10001;i++){\n      for(j=n+i-1;j>r;j--){\n\tif(b[j]-b[j-1]-1)break;\n      }\n      if(j==r&&b[r]==1)break;\n      b[n+i]=n+i-r;\n      c=0;\n      for(j=n+i-1;j>=r;j--){\n\tb[j+c]=b[j]-1;\n\tif(b[j+c]==0)c++;\n      }\n      r+=c;//for(j=r;j<n+i+1;j++)printf(\"%d \",b[j]);printf(\"\\n\");\n    }\n    if(i-10001)printf(\"%d\\n\",i);\n    else       printf(\"-1\\n\");\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint B[1000005],i,j,N;\n\nint ch()\n{\n\tint i;\n\tif(N==1||B[0]!=1)return 0;\n\tfor(i=1;i<N;i++)\n\t\tif(B[i]-1!=B[i-1])\n\t\t\treturn 0;\n\treturn 1;\n}\n\nint main() \n{\n\tfor(;scanf(\"%d\",&N),N;)\n\t{\n\t\tfor(i=0;i<N;i++)scanf(\"%d\",B+i);\n\t\tfor(i=0;i<=10000;i++)\n\t\t{\n\t\t\tif(ch())break;\n\t\t\tfor(j=0;j<N;j++)\n\t\t\t\tB[j]--;\n\t\t\tB[N]=N;\n\t\t\tN++;\n\t\t\tfor(j=0;j<N;)\n\t\t\t{\n\t\t\t\tif(B[j]==0)\n\t\t\t\t{\n\t\t\t\t\tmemmove(B+j,B+j+1,4*(N-j));\n\t\t\t\t\tN--;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",i<10000?i:-1);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint check(int *b, int n)\n{\n    int i;\n\n#if 0\n    printf(\"[\");\n    for (i = 0; i < n; i++){\n        printf(\"%d \", b[i]);\n    }\n    printf(\"]\\n\");\n#endif    \n    for (i = 0; i < n; i++){\n        if (b[i] != i + 1){\n            return (0);\n        }\n    }\n    return (1);\n}\n\nint main(void)\n{\n    int N, n;\n    int block[1000];\n    int cnt;\n    int i, j;\n    \n    while (1){\n        scanf(\"%d\", &N);\n        if (N == 0){\n            break;\n        }\n\n        \n        for (i = 0; i < N; i++){\n            scanf(\"%d\", &block[i]);\n        }\n        \n        cnt = 0;\n        n = N;\n        block[n] = 0;\n        while (1){\n            if (check(block, n) == 1){\n                printf(\"%d\\n\", cnt);\n                break;\n            }\n            cnt++;\n            if (cnt > 10000){\n                printf(\"-1\\n\");\n                break;\n            }\n            for (n = 0; block[n] != 0; n++);\n            block[n] = n;\n            block[n + 1] = 0;\n            for (i = 0; i < n; i++){\n                block[i]--;\n            }\n            \n            for (i = j = 0; i <= n; i++){\n                if (block[i] != 0){\n                    block[j] = block[i];\n                    j++;\n                }\n            }\n            block[j] = 0;\n            n = j;\n//            for (; j <= n; j++){\n//                block[j] = 0;\n//            }\n\n        }\n    }\n    return (0);\n}\n\n        \n        "
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint judge(int b[],int n){\n\tint i;\n\tfor(i=0;i<n;i++)if(b[i]!=i+1)break;\n\tif(i==n)return 1;\n\telse return 0;\n}\nint func(int b[],int n){\n\tint i,cid;\n\tcid=0;\n\tfor(i=0;i<n;i++){\n\t\tif(b[i]>1){\n\t\t\tb[cid]=b[i]-1;\n\t\t\tcid++;\n\t\t}\n\t}\n\tb[cid]=n;\n\treturn cid+1;\n}\nint b[20005];\nint main(){\n\tint i,n,c,f;\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tfor(i=0;i<n;i++)scanf(\"%d\",&b[i]);\n\t\tc=0;\n\t\twhile(c<=10000){\n\t\t\t//if(judge(b,n)==1)break;\n\t\t\tf=judge(b,n);\n\t\t\t//printf(\"%d\\n\",f);\n\t\t\tif(f==1)break;\n\n\t\t\tn=func(b,n);\n\t\t\t//for(i=0;i<n;i++)printf(\"%d \",b[i]);\n\t\t\t//printf(\"\\n\");\n\n\t\t\tc++;\n\t\t}\n\t\tif(c==10001)printf(\"-1\\n\");\n\t\telse printf(\"%d\\n\",c);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint\nproc(int n, int b[])\n{\n        int mem[10100] = {0};\n        int i, proc_cnt = 0;\n        int head, tail;\n        int chk_triangle;\n        \n        head = 0;\n        tail = n - 1;\n        for (;n > 0; n--)\n                mem[n - 1] = b[n - 1];\n\n        while (proc_cnt < 10000) {\n                chk_triangle = 1;\n                for (i = head; i <= tail; i++)\n                        if (mem[i] != chk_triangle) {\n                                if (mem[i] != 0) {\n                                        chk_triangle = -1;\n                                        break;\n                                }\n                        } else {\n                                chk_triangle++;\n                        }\n                if (chk_triangle != -1) {\n                        printf(\"%d\\n\", proc_cnt);\n                        return 0;\n                }\n\n                for (i = head; i <= tail; i++)\n                        if (mem[i] != 0) {\n                                mem[tail + 1]++;\n                                mem[i] -= 1;\n                        }\n                tail++;\n                proc_cnt++;\n                \n                for (i = head; mem[i] == 0; i++);\n                head = i;\n        }\n\n        return 1;\n}\n\nint\nmain()\n{\n        int n, i;\n        int b[100];\n        \n        while (scanf(\"%d\", &n), n != 0) {\n                for (i = 0; i < n; i++)\n                        scanf(\"%d\", b + i);\n                if (proc(n, b))\n                        printf(\"-1\\n\");\n        }\n        return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint check(int *b, int n)\n{\n    int i;\n\n#if 0\n    printf(\"[\");\n    for (i = 0; i < n; i++){\n        printf(\"%d \", b[i]);\n    }\n    printf(\"]\\n\");\n#endif    \n    for (i = 0; i < n; i++){\n        if (b[i] != i + 1){\n            return (0);\n        }\n    }\n    return (1);\n}\n\nint main(void)\n{\n    int N, n;\n    int block[100000];\n    int cnt;\n    int i, j;\n    \n    while (1){\n        scanf(\"%d\", &N);\n        if (N == 0){\n            break;\n        }\n\n        \n        for (i = 0; i < N; i++){\n            scanf(\"%d\", &block[i]);\n        }\n        \n        cnt = 0;\n        n = N;\n        block[n] = 0;\n        while (1){\n            if (check(block, n) == 1){\n                printf(\"%d\\n\", cnt);\n                break;\n            }\n            cnt++;\n            if (cnt > 10000){\n                printf(\"-1\\n\");\n                break;\n            }\n            for (n = 0; block[n] != 0; n++);\n            block[n] = n;\n            block[n + 1] = 0;\n            for (i = 0; i < n; i++){\n                block[i]--;\n            }\n            \n            for (i = j = 0; i <= n; i++){\n                if (block[i] != 0){\n                    block[j] = block[i];\n                    j++;\n                }\n            }\n            block[j] = 0;\n            n = j;\n//            for (; j <= n; j++){\n//                block[j] = 0;\n//            }\n\n        }\n    }\n    return (0);\n}\n\n        \n        \n"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,m,a,b,c,k;\n  int s[1500];\n  for(i=1;i<1500;i++)s[i]=i*(i+1)/2;//printf(\"%10d\",s[i]);}\n  while(1){\n    scanf(\"%d\",&n);\n    if(!n)break;\n    int d[20000]={0};\n    b=0;\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i]);\n      b+=d[i];\n    }//printf(\"%d\",b);\n    for(i=0;s[i]<=b;i++){\n      if(s[i]==b)break;\n    }\n    if(s[i]==b){\n      m=i;//printf(\"%d\",m);\n      c=n;\n      int z=0;\n      for(i=c;i<10000+c;i++){//printf(\":%d:\",i);\n\t//m=i;\n\tfor(j=m;j>0;j--){//printf(\"%d,\",d[i+j-m-1]);\n\t  if(d[i+j-m-1]!=j)break;\n\t}//printf(\"\\n\");\n\tif(j==0){\n\t  printf(\"%d\\n\",i-c);\n\t  break;\n\t}\n\td[i]=n;\n\tz=0;\n\tfor(j=1;j<=n;j++){\n\t  d[i-j]--;\n\t  d[i-j+z]=d[i-j];\n\t  if(d[i-j]==0){\n\t    z++;\n\t  }\n\t}\n\tn-=z-1;\n     \t//if(i>40)break;\n\t//printf(\"%d,%d:\\n\",n,z);\n\t//for(j=0;j<n;j++)printf(\"%d \",d[i-n+j+1]);printf(\"\\n\");\n      }\n      if(i==10000+c)printf(\"-1\\n\");\n    }\n    else printf(\"-1\\n\");\n  }\n  return 0;\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0)break;\n\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\tfor(int i = 0; i < n;i++){\n\t\t\t\tlist.add(sc.nextInt());\n\t\t\t}\n\t\t\tint ans = -1;\n\t\t\tfor(int count = 0; count <= 10000; count++){\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) == 0){\n\t\t\t\t\t\tlist.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tboolean flg = true;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) != i + 1){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flg){\n\t\t\t\t\tans = count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint now = 0;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tlist.set(i, list.get(i) -1);\n\t\t\t\t\tnow++;\n\t\t\t\t}\n\t\t\t\tlist.add(now);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tstatic boolean check(ArrayList <Integer> b) {\n\t\tif(b.get(0) != 1) {\n\t\t\treturn false;\n\t\t}\n\t\tfor(int i = 1; i < b.size(); i++) {\n\t\t\tif(b.get(i-1) != b.get(i)-1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic boolean gap(ArrayList <Integer> b) { \n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic void removeGap(ArrayList <Integer> b) {\n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\tb.remove(i);\n\t\t\t\ti--;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\twhile(true) {\n\t\tint N = stdIn.nextInt();\n\t\tif(N == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tlist.add(stdIn.nextInt());\n\t\t}\n\t\tint c = 0;\n\t\twhile(!check(list) && c < 10000) {\n\t\t\tc++;\n\t\t\tif(gap(list)) {\n\t\t\t\tint size = list.size();\n\t\t\t\tfor(int i = 0; i < list.size(); i++) {\n\t\t\t\t\tlist.set(i,list.get(i)-1);\n\t\t\t\t}\n\t\t\t\tlist.add(size);\n\t\t\t}\n\t\t\tremoveGap(list);\n\t\t}\n\t\t\n\t\tSystem.out.println((check(list))?c:-1);\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main {\n\n    void solve(){\n\n\tScanner sc = new Scanner(System.in);\n\t\n\twhile ( true ) {\n\n\t    int n = sc.nextInt();\n\t    if ( n == 0 ) break;\n\n\t    ArrayList<Integer> b = new ArrayList<Integer>();\n\t    for ( int i=0; i<n; ++i ) {\n\t\tint v = sc.nextInt();\n\t\tb.add( v );\n\t    }\n\n\t    int cnt = 0;\n\t    while ( cnt <= 10000 ) {\n\n\t\t//三角形になっているか\n\t\tboolean tri_num = true;\n\t\tif ( b.get(0) != 1 ) tri_num = false;\n\t\tfor ( int i=1; i<b.size(); ++i ) {\n\t\t    if ( b.get(i) != b.get(i-1)+1 ) {\n\t\t\ttri_num = false;\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t\tif ( tri_num ) break;\n\n\t\tArrayList<Integer> b_tmp = new ArrayList<Integer>();\n\t\tfor ( int i : b ) {\n\t\t    if ( i > 1 ) b_tmp.add( i-1 );\n\t\t}\n\t\tb_tmp.add( b.size() );\n\t\tb = b_tmp;\n\n\t\t++cnt;\n\t    }\n\t    \n\t    if ( cnt > 10000 ) System.out.println(-1);\n\t    else System.out.println( cnt );\n\t    \n\n\t}\n\n    }\n\n    public static void main(String[] a) { new Main().solve(); }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\n//Triangle of Blocks\npublic class Main{\n\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor(int i=1;i*(i+1)>>1<=1000000;i++){\n\t\t\ttri[i*(i+1)>>1] = true;\n\t\t}\n\t\tint[] a = new int[1000001];\n\t\tfor(;;){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tint sum = 0;\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\ta[i] = sc.nextInt();\n\t\t\t\tsum+=a[i];\n\t\t\t}\n\t\t\tif(tri[sum]){\n\t\t\t\tint res = 0;\n\t\t\t\tint R = n;\n\t\t\t\tboolean f = false;\n\t\t\t\twhile(res <= 10000){\n\t\t\t\t\tf = true;\n\t\t\t\t\tfor(int i=1;i<=R&&f;i++)f&=i==a[i];\n\t\t\t\t\tif(f)break;\n\t\t\t\t\tint L = 1;\n\t\t\t\t\tfor(int i=1;i<=R;i++){\n\t\t\t\t\t\tif(a[i]==1)continue;\n\t\t\t\t\t\ta[L++] = a[i]-1;\n\t\t\t\t\t}\n\t\t\t\t\ta[L] = R;\n\t\t\t\t\tR = L;\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t\tif(f){\n\t\t\t\t\tSystem.out.println(res); continue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic int N,sum,ans;\n\tstatic Block block;\n\tstatic List<Block> list= new LinkedList<Block>();\n\tpublic static void main(String[] args) {\n\t\tScanner cin=new Scanner(System.in);\n\t\tlabel:while(true){\n\t\t\tN=cin.nextInt();\n\t\t\tif(N==0)break;\n\t\t\tsum=cin.nextInt();\n\t\t\tans=0;\n\t\t\tlist= new LinkedList<Block>();\n\t\t\tlist.add(new Block(sum));\n\t\t\tfor(int i=1;i<N;i++){\n\t\t\t\tint in=cin.nextInt();\n\t\t\t\tsum+=in;\n\t\t\t\tlist.add(new Block(in));\n\t\t\t}\n\t\t\tint sankaku=1;\n\t\t\tint step=2;\n\t\t\twhile(true){\n\t\t\t\tif(sankaku==sum){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tsankaku+=step++;\n\t\t\t\tif(sankaku>(100*101)/2){\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t\tcontinue label;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile(true){\n\t\t\t\tstep=1;\n\t\t\t\tint s=0;\n\t\t\t\tfor(Block b:list){\n\t\t\t\t\tif(step!=b.num)break;\n\t\t\t\t\tstep++;\n\t\t\t\t\ts+=b.num;\n\t\t\t\t}\n\t\t\t\tif(sum==s){\n\t\t\t\t\tSystem.out.println(ans);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tans++;\n\t\t\t\tif(ans>10000){\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t\tcontinue label;\n\t\t\t\t}\n\t\t\t\tint size=list.size();\n\t\t\t\tList<Integer> rm=new ArrayList<Integer>();\n\t\t\t\tfor(int i=0;i<list.size();i++){\n\t\t\t\t\tBlock b=list.get(i);\n\t\t\t\t\tb.num--;\n\t\t\t\t\tif(b.num==0){\n\t\t\t\t\t\tlist.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlist.add(new Block(size));\n\n\t\t\t\tfor(Block b:list){\n//\t\t\t\t\tSystem.out.println(b.num);\n\t\t\t\t}\n//\t\t\t\tSystem.out.println();\n\n//\t\t\t\tSystem.out.println(sum+\" \"+s);\n//\n\t\t\t}\n\t\t}\n\n\t}\n\tstatic class Block{\n\t\tint num;\n\t\tBlock left,right;\n\t\tBlock(int a){\n\t\t\tnum=a;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n;\n\t\tint b[] = new int[10005];\n\t\tint length;\n\t\tint t[] = new int[10005];\n\n\t\tfor (int i = 0; i < 10005; i++) {\n\t\t\tt[i] = i * (i + 1) / 2;\n\t\t}\n\n\t\twhile (true) {\n\t\t\tn = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tint sum = 0;\n\t\t\tlength = n;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tsum += b[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint f = Arrays.binarySearch(t, sum);\n\n\t\t\tif (f < 0) {\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t} else {\n\t\t\t\tint cnt = 0;\n\t\t\t\tint id;\n\t\t\t\tint bottom;\n\t\t\t\tboolean flag;\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tflag = true;\n\t\t\t\t\tfor (int i = 0; i < length; i++) {\n\t\t\t\t\t\tif (b[i] != i + 1) {\n\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (flag) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tcnt++;\n\t\t\t\t\tbottom = length;\n\t\t\t\t\tfor (int i = 0; i < length; i++) {\n\t\t\t\t\t\tb[i]--;\n\t\t\t\t\t}\n\t\t\t\t\tint nlen = 0;\n\t\t\t\t\tid = 0;\n\t\t\t\t\tfor (int i = 0; i < length; i++) {\n\t\t\t\t\t\tif (b[i] != 0) {\n\t\t\t\t\t\t\tb[id] = b[i];\n\t\t\t\t\t\t\tid++;\n\t\t\t\t\t\t\tnlen++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tb[id] = bottom;\n\t\t\t\t\tnlen++;\n\t\t\t\t\tlength = nlen;\n\t\t\t\t\tfor (int i = 0; i < length; i++) {\n\t\t\t\t\t\tif (b[i] != i + 1) {\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (10005 <= cnt) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (cnt <= 10000) {\n\t\t\t\t\tSystem.out.println(cnt);\n\t\t\t\t} else {\n\t\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        StringBuilder sb = new StringBuilder();\n        while (true) {\n            int n = sc.nextInt();\n            if (n == 0) {\n                break;\n            }\n            int total = 0;\n            ArrayList<Integer> list = new ArrayList<>();\n            for (int i = 0; i < n; i++) {\n                int x = sc.nextInt();\n                total += x;\n                list.add(x);\n            }\n            boolean flag = false;\n            int idx = 1;\n            while (idx * (idx + 1) / 2 <= total) {\n                if (idx * (idx + 1) / 2 == total) {\n                    flag = true;\n                    break;\n                }\n                idx++;\n            }\n            if (!flag) {\n                sb.append(-1).append(\"\\n\");\n                continue;\n            }\n            int ans = -1;\n            for (int i = 0; i <= 10000; i++) {\n                boolean match = true;\n                for (int j = 0; j < list.size(); j++) {\n                    if (j + 1 != list.get(j)) {\n                        match = false;\n                        break;\n                    }\n                }\n                if (match) {\n                    ans = i;\n                    break;\n                }\n                int added = list.size();\n                for (int j = list.size() - 1; j >= 0; j--) {\n                    if (list.get(j) == 1) {\n                        list.remove(j);\n                    } else {\n                        list.set(j, list.get(j) - 1);\n                    }\n                }\n                list.add(added);\n            }\n            sb.append(ans).append(\"\\n\");\n        }\n        System.out.print(sb);\n    }\n}\n\n"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tLinkedList<Integer> LL=new LinkedList<Integer>();\n\t\t\tint sum=0;\n\t\t\tboolean judge=false;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t{\n\t\t\t\tint a=in.nextInt();\n\t\t\t\tLL.add(a);\n\t\t\t\tsum+=a;\n\t\t\t}\n\t\t\tfor(int i=1;i<=1000000;i++)\n\t\t\t{\n\t\t\t\tif((i*(i+1))/2==sum)\n\t\t\t\t{\n\t\t\t\t\tjudge=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!judge)\n\t\t\t{\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tif(LL.size()!=1&&LL.get(0)==1)\n\t\t\t\t\tif(check(LL)||cnt>10000)\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tLL.set(i, LL.get(i)-1);\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tif(LL.get(i)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(LinkedList<Integer> LL)\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<LL.size()-1;i++)\n\t\t{\n\t\t\tif(LL.get(i)+1!=LL.get(i+1))\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tstatic boolean check(ArrayList <Integer> b) {\n\t\tif(b.get(0) != 1) {\n\t\t\treturn false;\n\t\t}\n\t\tfor(int i = 1; i < b.size(); i++) {\n\t\t\tif(b.get(i-1) != b.get(i)-1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic boolean gap(ArrayList <Integer> b) { \n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic void removeGap(ArrayList <Integer> b) {\n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\tb.remove(i);\n\t\t\t\ti--;\n\t\t\t\t\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tb.trimToSize();\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\twhile(true) {\n\t\t\tint N = stdIn.nextInt();\n\t\t\tif(N == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tlist.add(stdIn.nextInt());\n\t\t\t}\n\t\t\tint c = 0;\n\t\t\twhile(!check(list) && c < 10000) {\n\t\t\t\tc++;\n\t\t\t\tif(gap(list)) {\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor(int i = 0; i < list.size(); i++) {\n\t\t\t\t\t\tlist.set(i,list.get(i)-1);\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\t\t\t\t}\n\t\t\t\tremoveGap(list);\n\t\t\t}\n\t\t\tSystem.out.println((check(list))?c:-1);\n\t\t\tlist.clear();\n\t\t\tlist.trimToSize();\n\t\t\tSystem.gc();\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tstatic boolean check(ArrayList <Integer> b) {\n\t\tif(b.get(0) != 1) {\n\t\t\treturn false;\n\t\t}\n\t\tfor(int i = 1; i < b.size(); i++) {\n\t\t\tif(b.get(i-1) != b.get(i)-1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic boolean gap(ArrayList <Integer> b) { \n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic void removeGap(ArrayList <Integer> b) {\n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\tb.remove(i);\n\t\t\t\ti--;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\twhile(true) {\n\t\tint N = stdIn.nextInt();\n\t\tif(N == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tlist.add(stdIn.nextInt());\n\t\t}\n\t\tint c = 0;\n\t\twhile(!check(list) && c < 10000) {\n\t\t\tc++;\n\t\t\tif(gap(list)) {\n\t\t\t\tint size = list.size();\n\t\t\t\tfor(int i = 0; i < list.size(); i++) {\n\t\t\t\t\tlist.set(i,list.get(i)-1);\n\t\t\t\t}\n\t\t\t\tlist.add(size);\n\t\t\t}\n\t\t\tremoveGap(list);\n\t\t}\n\t\tSystem.out.println((check(list))?c:-1);\n\t\tlist = null;\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tstatic boolean check(ArrayList <Integer> b) {\n\t\tif(b.get(0) != 1) {\n\t\t\treturn false;\n\t\t}\n\t\tfor(int i = 1; i < b.size(); i++) {\n\t\t\tif(b.get(i-1) != b.get(i)-1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic boolean gap(ArrayList <Integer> b) { \n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic void removeGap(ArrayList <Integer> b) {\n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\tb.remove(i);\n\t\t\t\ti--;\n\t\t\t\t\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tb.trimToSize();\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\twhile(true) {\n\t\t\tint N = stdIn.nextInt();\n\t\t\tif(N == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tlist.add(stdIn.nextInt());\n\t\t\t}\n\t\t\tint c = 0;\n\t\t\twhile(!check(list) && c < 10000) {\n\t\t\t\tc++;\n\t\t\t\tif(gap(list)) {\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor(int i = 0; i < list.size(); i++) {\n\t\t\t\t\t\tlist.set(i,list.get(i)-1);\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\t\t\t\t}\n\t\t\t\tremoveGap(list);\n\t\t\t}\n\t\t\tSystem.out.println((check(list))?c:-1);\n\t\t\tlist.clear();\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\t    Scanner in = new Scanner(System.in);\n\t    while(true){\n\t        int n = in.nextInt();\n//\t        System.out.println(\"n=\"+n);\n\t        if(n==0){ System.out.println(\"END\");  break; }\n\t        int arr[] = new int[n];\n\t        for(int i=0;i<n;i++) arr[i] = in.nextInt();\n\t        int res = 0;\n\t        while(!isFinish(arr) && res < 10000){\n\t            res++;\n\t            arr = doit(arr);\n\t            arr = remove(arr);           \n\t        }\n\t        if(res == 10000) res = -1;\n\t        System.out.println(\"\" + res);\n\t    }\n\t}\n\n\tstatic boolean isFinish(int[] arr){\n\t    for(int i=0;i<arr.length; i++){\n\t        if(arr[i] != i+1) return false;\n\t    }\n\t    return true;\n\t}\n\n\tstatic int[] remove(int[] arr){\n\t    int c = 0;\n\t    for(int i : arr) if(i!=0)c++;\n\t    int[] res = new int[c];\n\t    int t = 0;\n\t    for(int i : arr) if(i!=0) res[t++] = i;\n\t    return res;\n\t}\n\n\tstatic int[] doit(int[] arr){\n\t    int[] res = new int[arr.length+1];\n\t    for(int i=0;i<arr.length; i++){\n\t        res[i] = arr[i]-1;\n\t    }\n\t    res[arr.length] = arr.length;\n\t    return res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner scan = new Scanner(System.in);\n\t\tint N, finalRows, k = 0, sum, count;\n\t\tList<Integer> b = new ArrayList<Integer>();\n\t\tL0: while ((N = scan.nextInt()) != 0) {\n\t\t\tb.clear();\n\t\t\tsum = 0;\n\t\t\tfor (int i = 0; i < N; i++)\n\t\t\t\tb.add(scan.nextInt());\n\t\t\tfor (int val : b)\n\t\t\t\tsum += val;\n\t\t\tL1: if (true) {\n\t\t\t\tfor (int i = 1; i <= 100; i++) {\n\t\t\t\t\tk = i * (i + 1) / 2;\n\t\t\t\t\tif (sum == k) {\n\t\t\t\t\t\tfinalRows = i;\n\t\t\t\t\t\tbreak L1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t\tcontinue L0;\n\t\t\t}\n\t\t\tList<Integer> tri = new ArrayList<Integer>();\n\t\t\tfor (int i = 0; i < finalRows; i++)\n\t\t\t\ttri.add(i + 1);\n\t\t\tcount = 0;\n\t\t\twhile (!tri.equals(b)) {\n\t\t\t\tif (count > 10000) {\n\t\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t\t\tcontinue L0;\n\t\t\t\t}\n\t\t\t\tfor (int i = 0; i < b.size(); i++)\n\t\t\t\t\tb.set(i, b.get(i) - 1);\n\t\t\t\tb.add(b.size());\n\t\t\t\tcount++;\n\t\t\t\twhile (b.remove(new Integer(0)));\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t\tcontinue L0;\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\t    Scanner in = new Scanner(System.in);\n\t    while(true){\n\t        int n = in.nextInt();\n//\t        System.out.println(\"n=\"+n);\n\t        if(n==0) break;\n\t        int arr[] = new int[n];\n\t        for(int i=0;i<n;i++) arr[i] = in.nextInt();\n\t        int res = 0;\n\t        while(!isFinish(arr) && res < 10000){\n\t            res++;\n\t            arr = doit(arr);\n\t            arr = remove(arr);           \n\t        }\n\t        if(res == 10000) res = -1;\n\t        System.out.println(\"\" + res);\n\t    }\n\t}\n\n\tstatic boolean isFinish(int[] arr){\n\t    for(int i=0;i<arr.length; i++){\n\t        if(arr[i] != i+1) return false;\n\t    }\n\t    return true;\n\t}\n\n\tstatic int[] remove(int[] arr){\n\t    int c = 0;\n\t    for(int i : arr) if(i!=0)c++;\n\t    int[] res = new int[c];\n\t    int t = 0;\n\t    for(int i : arr) if(i!=0) res[t++] = i;\n\t    return res;\n\t}\n\n\tstatic int[] doit(int[] arr){\n\t    int[] res = new int[arr.length+1];\n\t    for(int i=0;i<arr.length; i++){\n\t        res[i] = arr[i]-1;\n\t    }\n\t    res[arr.length] = arr.length;\n\t    return res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tLinkedList<Integer> LL=new LinkedList<Integer>();\n\t\t\tHashSet<String>HS=new HashSet<String>();\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tLL.add(in.nextInt());\n\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tString memory=\"\";\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tmemory+=LL.get(i)+\"\";\n\t\t\t\tif(HS.contains(memory))\n\t\t\t\t\tcnt=10001;\n\t\t\t\tHS.add(memory);\n\t\t\t\tif(LL.size()!=1&&LL.get(0)==1)\n\t\t\t\t\tif(check(LL)||cnt>10000)\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tLL.set(i, LL.get(i)-1);\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tif(LL.get(i)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(LinkedList<Integer> LL)\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<LL.size()-1;i++)\n\t\t{\n\t\t\tif(LL.get(i)+1!=LL.get(i+1))\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.ListIterator;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tArrayList<Integer> sankaku = new ArrayList<Integer>();\n\t\t{\n\t\t\tint k = 1;\n\t\t\twhile(true){\n\t\t\t\tint cur = k * (k + 1) / 2;\n\t\t\t\t\n\t\t\t\tif(cur > 1000000){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsankaku.add(cur);\n\t\t\t\tk++;\n\t\t\t}\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tSystem.gc();\n\t\t\tfinal int N = sc.nextInt();\n\t\t\t\n\t\t\tif(N == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\tint sum_s = 0;\n\t\t\t\n\t\t\tfor(int i = 0;i < N; i++){\n\t\t\t\tfinal int in = sc.nextInt();\n\t\t\t\tlist.add(in);\n\t\t\t\tsum_s += in;\n\t\t\t}\n\t\t\t\n\t\t\tif(Collections.binarySearch(sankaku, sum_s) < 0){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\twhile(true){\n\t\t\t\tint pur = 1;\n\t\t\t\t\n\t\t\t\tif(count > 10000){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tboolean flag = false;\n\t\t\t\tfor(int i : list){\n\t\t\t\t\tif(pur != i){\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tpur++;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!flag){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//System.out.println(list);\n\t\t\t\t\n\t\t\t\tint sum = 0;\n\t\t\t\tfor(ListIterator<Integer> iter = list.listIterator(); iter.hasNext(); ){\n\t\t\t\t\tint cur = iter.next();\n\t\t\t\t\t\n\t\t\t\t\tif(cur >= 1){\n\t\t\t\t\t\tsum++;\n\t\t\t\t\t\tif(cur > 1){\n\t\t\t\t\t\t\titer.set(cur - 1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\titer.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\titer.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlist.add(sum);\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tif(count > 10000){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t}else{\n\t\t\t\tSystem.out.println(count);\n\t\t\t}\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tLinkedList<Integer> LL=new LinkedList<Integer>();\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tLL.add(in.nextInt());\n\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tif(LL.size()!=1&&LL.get(0)==1)\n\t\t\t\t\tif(check(LL)||cnt>10000)\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tLL.set(i, LL.get(i)-1);\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tif(LL.get(i)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(LinkedList<Integer> LL)\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<LL.size()-1;i++)\n\t\t{\n\t\t\tif(LL.get(i)+1!=LL.get(i+1))\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor (int i = 1; i * (i + 1) / 2 <= 100000; i++) {\n\t\t\tint a = i * (i + 1) / 2;\n\t\t\ttri[a] = true;\n\t\t}\n\t\tloop: while (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint sum = 0;\n\t\t\tList<Integer> list = new ArrayList<Integer>(1000000);\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint a = scanner.nextInt();\n\t\t\t\tlist.add(a);\n\t\t\t\tsum += a;\n\t\t\t}\n\t\t\tif (tri[sum]) {\n\t\t\t\tint res = 0;\n\t\t\t\twhile (res <= 10000) {\n\t\t\t\t\tif (slove(list)) {\n\t\t\t\t\t\tSystem.out.println(res);\n\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t}\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor (ListIterator<Integer> it = list.listIterator(); it\n\t\t\t\t\t\t\t.hasNext();) {\n\t\t\t\t\t\tint a = it.next();\n\t\t\t\t\t\tif (a == 1)\n\t\t\t\t\t\t\tit.remove();\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tit.set(a - 1);\n\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t}\n\n\tprivate boolean slove(List<Integer> list) {\n\t\tfor (int i = 0; i < list.size(); i++)\n\t\t\tif (i + 1 != list.get(i))\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0)break;\n\n\t\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\tlong sum = 0;\n\t\t\tfor(int i = 0; i < n;i++){\n\t\t\t\tint in = sc.nextInt();\n\t\t\t\tlist.add(in);\n\t\t\t\tsum += in;\n\t\t\t}\n\t\t\tif(! isvalid(sum)){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint ans = -1;\n\t\t\tfor(int count = 0; count <= 10000; count++){\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) == 0){\n\t\t\t\t\t\tlist.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tboolean flg = true;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) != i + 1){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flg){\n\t\t\t\t\tans = count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint now = 0;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tlist.set(i, list.get(i) -1);\n\t\t\t\t\tnow++;\n\t\t\t\t}\n\t\t\t\tlist.add(now);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tprivate boolean isvalid(long num) {\n\t\tlong num2 = num * 2;\n\t\tint temp = (int)Math.sqrt(num2);\n\t\tif((long)temp * (temp + 1) == num2){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor (int i = 1; i * (i + 1) / 2 <= 100000; i++) {\n\t\t\tint a = i * (i + 1) / 2;\n\t\t\ttri[a] = true;\n\t\t}\n\t\tloop: while (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint sum = 0;\n\t\t\tList<Integer> list = new ArrayList<Integer>();\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint a = scanner.nextInt();\n\t\t\t\tlist.add(a);\n\t\t\t\tsum += a;\n\t\t\t}\n\t\t\tif (tri[sum]) {\n\t\t\t\tint res = 0;\n\t\t\t\tint R = n;\n\t\t\t\twhile (res <= 10000) {\n\t\t\t\t\tif (slove(list)) {\n\t\t\t\t\t\tSystem.out.println(res);\n\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t}\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor (ListIterator<Integer> it = list.listIterator(); it\n\t\t\t\t\t\t\t.hasNext();) {\n\t\t\t\t\t\tint a = it.next();\n\t\t\t\t\t\tif (a == 1)\n\t\t\t\t\t\t\tit.remove();\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tit.set(a - 1);\n\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t}\n\n\tprivate boolean slove(List<Integer> list) {\n\t\tfor (int i = 0; i < list.size(); i++)\n\t\t\tif (i + 1 != list.get(i))\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tint g = 0;\n\t\t\tint sum = 0;\n\t\t\tint ans = 0;\n\t\t\tboolean checkC = true;\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tlist.push(sc.nextInt());\n\t\t\t\tif(list.get(0)!=i)checkC = false;\n\t\t\t\tsum += list.get(0);\n\t\t\t}\n\t\t\t\n\t\t\tboolean flag = true;\n\t\t\t\n\t\t\tif(checkC==false){\n\t\t\t\tfor(int i=1;;i++){\n\t\t\t\t\tg += i;\n\t\t\t\t\tif(sum==g)break;\n\t\t\t\t\tif(g>1000000){\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(flag==true && checkC==false){\n\t\t\t\tint countA = 0;\n\t\t\t\tint countB = 0;\n\t\t\t\tint s = 0;\n\t\t\t\tint temp = 0;\n\t\t\t\tboolean check = true;\n\t\t\t\t\n\t\t\t\twhile(countA<=10000){\n\t\t\t\t\ts = list.size();\n\t\t\t\t\tcheck = true;\n\t\t\t\t\tcountB = 0;\n\t\t\t\t\tfor(int i=1;i<=s;i++){\n\t\t\t\t\t\n\t\t\t\t\t\ttemp = list.pollLast()-1;\n\t\t\t\t\t\tif(temp!=0){\n\t\t\t\t\t\t\tlist.push(temp);\n\t\t\t\t\t\t\tcountB++;\n\t\t\t\t\t\t\tif(temp!=countB){\n\t\t\t\t\t\t\t\tcheck=false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(s);\n\t\t\t\t\tcountA++;\n\t\t\t\t\tif(countB==0)check=false;\n\t\t\t\t\tif(check==true){\n\t\t\t\t\t\tans = countA;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(countA>10000){\n\t\t\t\t\tflag = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(flag==true){\n\t\t\t\tSystem.out.println(ans);\n\t\t\t}else{\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t}\n\t\t}\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0)break;\n\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\tlong sum = 0;\n\t\t\tfor(int i = 0; i < n;i++){\n\t\t\t\tint in = sc.nextInt();\n\t\t\t\tlist.add(in);\n\t\t\t\tsum += in;\n\t\t\t}\n\t\t\tif(! isvalid(sum)){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint ans = -1;\n\t\t\tfor(int count = 0; count <= 10000; count++){\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) == 0){\n\t\t\t\t\t\tlist.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tboolean flg = true;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) != i + 1){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flg){\n\t\t\t\t\tans = count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint now = 0;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tlist.set(i, list.get(i) -1);\n\t\t\t\t\tnow++;\n\t\t\t\t}\n\t\t\t\tlist.add(now);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tprivate boolean isvalid(long num) {\n\t\tlong num2 = num * 2;\n\t\tint temp = (int)Math.sqrt(num2);\n\t\tif((long)temp * (temp + 1) == num2){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tint v2[]=new int[n];\n\t\t\tint sum=0;\n\t\t\tboolean judge=false;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t{\n\t\t\t\tint a=in.nextInt();\n\t\t\t\tv2[i]=a;\n\t\t\t\tsum+=a;\n\t\t\t}\n\t\t\tfor(int i=1;i*i<=1000000;i++)\n\t\t\t{\n\t\t\t\tif((i*(i+1))/2==sum)\n\t\t\t\t{\n\t\t\t\t\tjudge=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!judge)\n\t\t\t{\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tint v[]=v2.clone();\n\t\t\t\tif(cnt>10000)\n\t\t\t\t\tbreak;\n\t\t\t\tif(v[0]==1)\n\t\t\t\t\tif(check(v))\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tint zero=0;\n\t\t\t\tfor(int i=0;i<v.length;i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tv[i]--;\n\t\t\t\t\tif(v[i]==0)\n\t\t\t\t\t\tzero++;\n\t\t\t\t}\n\t\t\t\tv2=new int[v.length-zero+1];\n\t\t\t\tfor(int i=0,j=0;i<v.length;i++)\n\t\t\t\t{\n\t\t\t\t\tif(v[i]!=0)\n\t\t\t\t\t\tv2[j++]=v[i];\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tv2[v2.length-1]=block;\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(int v[])\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<v.length-1;i++)\n\t\t{\n\t\t\tif(v[i]+1!=v[i+1])\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.ListIterator;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) throws IOException {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tArrayList<Integer> sankaku = new ArrayList<Integer>();\n\t\t{\n\t\t\tint k = 1;\n\t\t\twhile(true){\n\t\t\t\tint cur = k * (k + 1) / 2;\n\t\t\t\t\n\t\t\t\tif(cur > 1000000){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsankaku.add(cur);\n\t\t\t\tk++;\n\t\t\t}\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tfinal int N = sc.nextInt();\n\t\t\t\n\t\t\tif(N == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\tint sum_s = 0;\n\t\t\t\n\t\t\tfor(int i = 0;i < N; i++){\n\t\t\t\tfinal int in = sc.nextInt();\n\t\t\t\tlist.add(in);\n\t\t\t\tsum_s += in;\n\t\t\t}\n\t\t\t\n\t\t\tif(Collections.binarySearch(sankaku, sum_s) < 0){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\twhile(true){\n\t\t\t\tint pur = 1;\n\t\t\t\t\n\t\t\t\tif(count > 10000){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tboolean flag = false;\n\t\t\t\tfor(int i : list){\n\t\t\t\t\tif(pur != i){\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tpur++;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!flag){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//System.out.println(list);\n\t\t\t\t\n\t\t\t\tint sum = 0;\n\t\t\t\tfor(ListIterator<Integer> iter = list.listIterator(); iter.hasNext(); ){\n\t\t\t\t\tint cur = iter.next();\n\t\t\t\t\t\n\t\t\t\t\tif(cur >= 1){\n\t\t\t\t\t\tsum++;\n\t\t\t\t\t\tif(cur > 1){\n\t\t\t\t\t\t\titer.set(cur - 1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\titer.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\titer.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlist.add(sum);\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tif(count > 10000){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t}else{\n\t\t\t\tSystem.out.println(count);\n\t\t\t}\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tLinkedList<Integer> LL=new LinkedList<Integer>();\n\t\t\tHashSet<String>HS=new HashSet<String>();\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\tLL.add(in.nextInt());\n\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tString memory=\"\";\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tmemory+=LL.get(i)+\"\";\n\t\t\t\tif(HS.contains(memory))\n\t\t\t\t{\n\t\t\t\t\tcnt=10001;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tHS.add(memory);\n\t\t\t\tif(LL.size()!=1&&LL.get(0)==1)\n\t\t\t\t\tif(check(LL)||cnt>10000)\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tLL.set(i, LL.get(i)-1);\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tif(LL.get(i)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(LinkedList<Integer> LL)\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<LL.size()-1;i++)\n\t\t{\n\t\t\tif(LL.get(i)+1!=LL.get(i+1))\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main \n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tLinkedList<Integer> LL=new LinkedList<Integer>();\n\t\t\tint sum=0;\n\t\t\tboolean judge=false;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t{\n\t\t\t\tint a=in.nextInt();\n\t\t\t\tLL.add(a);\n\t\t\t\tsum+=a;\n\t\t\t}\n\t\t\tfor(int i=1;i<=1000000;i++)\n\t\t\t{\n\t\t\t\tif((i*(i+1))/2==sum)\n\t\t\t\t{\n\t\t\t\t\tjudge=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!judge)\n\t\t\t{\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tint v[]=new int[LL.size()];\n\t\t\t\tfor(int i=0;i<v.length;i++)\n\t\t\t\t\tv[i]=LL.get(i);\n\t\t\t\tif(cnt>10000)\n\t\t\t\t\tbreak;\n\t\t\t\t//debug(v);\n\t\t\t\tif(LL.get(0)==1)\n\t\t\t\t\tif(check(v))\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<v.length;i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tv[i]--;\n\t\t\t\t}\n\t\t\t\tLL=new LinkedList<Integer>();\n\t\t\t\tfor(int i=0;i<v.length;i++)\n\t\t\t\t{\n\t\t\t\t\tif(v[i]!=0)\n\t\t\t\t\t\tLL.add(v[i]);\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(int v[])\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<v.length-1;i++)\n\t\t{\n\t\t\tif(v[i]+1!=v[i+1])\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0)break;\n\n\t\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\tlong sum = 0;\n\t\t\tfor(int i = 0; i < n;i++){\n\t\t\t\tint in = sc.nextInt();\n\t\t\t\tlist.add(in);\n\t\t\t\tsum += in;\n\t\t\t}\n\t\t\tif(! isvalid(sum)){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint ans = -1;\n\t\t\tfor(int count = 0; count <= 10000; count++){\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) == 0){\n\t\t\t\t\t\tlist.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(check(list)){\n\t\t\t\t\tans = count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tlist.set(i, list.get(i) -1);\n\t\t\t\t}\n\t\t\t\tlist.add(list.size());\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tprivate boolean check(ArrayList<Integer> list) {\n\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\tif(list.get(i) != i + 1){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate boolean isvalid(long num) {\n\t\tlong num2 = num * 2;\n\t\tint temp = (int)Math.sqrt(num2);\n\t\tif((long)temp * (temp + 1) == num2){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tArrayList<Integer> LL=new ArrayList<Integer>();\n\t\t\tint sum=0;\n\t\t\tboolean judge=false;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t{\n\t\t\t\tint a=in.nextInt();\n\t\t\t\tLL.add(a);\n\t\t\t\tsum+=a;\n\t\t\t}\n\t\t\tfor(int i=1;i<=1000000;i++)\n\t\t\t{\n\t\t\t\tif((i*(i+1))/2==sum)\n\t\t\t\t{\n\t\t\t\t\tjudge=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!judge)\n\t\t\t{\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tif(cnt>10000)\n\t\t\t\t\tbreak;\n\t\t\t\tif(LL.get(0)==1)\n\t\t\t\t\tif(check(LL))\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tLL.set(i, LL.get(i)-1);\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tif(LL.get(i)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(ArrayList<Integer> LL)\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<LL.size()-1;i++)\n\t\t{\n\t\t\tif(LL.get(i)+1!=LL.get(i+1))\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.LinkedList;\nimport java.util.Scanner;\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tLinkedList<Integer> LL=new LinkedList<Integer>();\n\t\t\tint sum=0;\n\t\t\tboolean judge=false;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t{\n\t\t\t\tint a=in.nextInt();\n\t\t\t\tLL.add(a);\n\t\t\t\tsum+=a;\n\t\t\t}\n\t\t\tfor(int i=1;i<=1000000;i++)\n\t\t\t{\n\t\t\t\tif((i*(i+1))/2==sum)\n\t\t\t\t{\n\t\t\t\t\tjudge=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!judge)\n\t\t\t{\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tif(cnt>10000)\n\t\t\t\t\tbreak;\n\t\t\t\tif(LL.size()!=1&&LL.get(0)==1)\n\t\t\t\t\tif(check(LL))\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tLL.set(i, LL.get(i)-1);\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<LL.size();i++)\n\t\t\t\t\tif(LL.get(i)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tLL.add(block);\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(LinkedList<Integer> LL)\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<LL.size()-1;i++)\n\t\t{\n\t\t\tif(LL.get(i)+1!=LL.get(i+1))\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\tvoid run(){\n\t\tScanner sc=new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tint n=sc.nextInt();\n\t\t\tif(n==0) break;\n\n\t\t\tint temp[]=new int[n];\n\t\t\tint b[]=new int[500];\n\t\t\tint d=-1,sum=0;\n\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\ttemp[i]=sc.nextInt();\n\t\t\t\tb[i]=temp[i];\n\t\t\t\tsum+=temp[i];\n\t\t\t}\n\n\t\t\tboolean flag=false;\n\t\t\tfor(int k=1;k<500;k++){\n\t\t\t\tif((k*(k+1))/2==sum){\n\t\t\t\t\tflag=true;\n\t\t\t\t\t//System.out.println(sum+\" \"+k);\n\t\t\t\t\td=k;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!flag){\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tflag=false;\n\t\t\tfor(int count=0;count<=10000;count++){\n\t\t\t\tif(check(b,d)){\n\t\t\t\t\tflag=true;\n\t\t\t\t\tSystem.out.println(count);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tb=tsuminaoshi(b,d);\n\t\t\t}\n\t\t\tif(!flag) System.out.println(\"-1\");\n\t\t}\n\t}\n\tint[] tsuminaoshi(int b[],int d){\n\t\tint count=0,last=0;\n\n\t\tfor(int i=0; i<500; i++){\n\t\t\tif(b[i]>0){\n\t\t\t\tb[i]--;\n\t\t\t\tcount++;\n\t\t\t\tlast=i;\n\t\t\t}\n\t\t}\n\n\t\tb[last+1]=count;\n\n\t\tfor(int i=0; i<=last+1; i++){\n\t\t\tif(b[i]==0){\n\t\t\t\tfor(int j=i; j<=last+1; j++){\n\t\t\t\t\tb[j]=b[j+1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n//\t\tfor(int i=0; i<last+1; i++){\n//\t\t\tSystem.out.print(b[i]+\" \");\n//\t\t}\n//\t\tSystem.out.println();\n\t\treturn b;\n\t}\n\n\tboolean check(int b[],int d){\n\t\t\n\t\tfor(int i=0; i<d-1; i++){\n\t\t\tif(b[i]+1 != b[i+1]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tint[] a;\n\tint sum;\n\t\n\tboolean check(){\n\t\tfor(int i=0;;i++){\n\t\t\tif(a[i]==0)\tbreak;\n\t\t\tif(a[i]!=i+1) return false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tvoid sort(){\n\t\tfor(int i=0;;i++){\n\t\t\tif(a[i]==0){\n\t\t\t\ta[sum]=i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ta[i]--;\n\t\t}\n\t\t\n\t\tfor(int i=0;i<=sum;i++){\n\t\t\tif(a[i]==0){\n\t\t\t\tfor(int j=i+1;j<=sum;j++){\n\t\t\t\t\tif(a[j]!=0){\n\t\t\t\t\t\ta[i] = a[j];\n\t\t\t\t\t\ta[j] = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(j==sum) i = sum+1;\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t}\n\t\n\tvoid solve(){\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tsum = 0;\n\t\t\tint[] temp = new int[n];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\ttemp[i] = sc.nextInt();\n\t\t\t\tsum += temp[i];\n\t\t\t}\n\t\t\ta = new int[sum+1];\n\t\t\tboolean flag = true;\n\t\t\tint tri = 0;\n\t\t\tfor(int i=1;;i++){\n\t\t\t\ttri += i;\n\t\t\t\tif(sum==tri) break;\n\t\t\t\tif(sum<tri){\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag==false){\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t}else{\n\t\t\t\tfor(int i=0;i<n;i++) a[i] = temp[i];\n\t\t\t\tflag = false;\n\t\t\t\tfor(int i=0;i<10000;i++){\n\t\t\t\t\tif(check()==true){\n\t\t\t\t\t\tSystem.out.println(i);\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsort();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flag==false) System.out.println(\"-1\");\n\t\t\t}\n\t\t}\n\t}\n\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().solve();\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tint[] a;\n\tint sum;\n\tint n;\n\tint x;\n\t\n\tboolean check(){\n\t\tfor(int i=0;i<x;i++){\n\t\t\tif(a[i]!=i+1) return false;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tvoid sort(){\n\t\tboolean go;\n\t\tfor(int i=0;i<n;i++) a[i]--;\n\t\ta[n] = n;\n\t\tfor(int i=0;i<=n+1;i++){\n\t\t\tgo = false;\n\t\t\tif(a[i]==0){\n\t\t\t\tfor(int j=i+1;j<=n+1;j++){\n\t\t\t\t\tif(a[j]!=0){\n\t\t\t\t\t\ta[i] = a[j];\n\t\t\t\t\t\ta[j] = 0;\n\t\t\t\t\t\tgo = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(go==false){\n\t\t\t\t\tn = i;\n\t\t\t\t\ti = n+2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tvoid solve(){\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tn = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tsum = 0;\n\t\t\tint[] temp = new int[n];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\ttemp[i] = sc.nextInt();\n\t\t\t\tsum += temp[i];\n\t\t\t}\n\t\t\ta = new int[sum+2];\n\t\t\tboolean flag = true;\n\t\t\tint tri = 0;\n\t\t\tfor(int i=1;;i++){\n\t\t\t\ttri += i;\n\t\t\t\tif(sum==tri){\n\t\t\t\t\tx = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(sum<tri){\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag==false){\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t}else{\n\t\t\t\tfor(int i=0;i<n;i++) a[i] = temp[i];\n\t\t\t\tflag = false;\n\t\t\t\tfor(int i=0;i<10000;i++){\n\t\t\t\t\tif(check()==true){\n\t\t\t\t\t\tSystem.out.println(i);\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsort();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flag==false) System.out.println(\"-1\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().solve();\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tstatic boolean check(ArrayList <Integer> b) {\n\t\tif(b.get(0) != 1) {\n\t\t\treturn false;\n\t\t}\n\t\tfor(int i = 1; i < b.size(); i++) {\n\t\t\tif(b.get(i-1) != b.get(i)-1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic boolean gap(ArrayList <Integer> b) { \n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic void removeGap(ArrayList <Integer> b) {\n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\tb.remove(i);\n\t\t\t\ti--;\n\t\t\t\t\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tb.trimToSize();\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\twhile(true) {\n\t\t\tint N = stdIn.nextInt();\n\t\t\tif(N == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfor(int i = 0; i < N; i++) {\n\t\t\t\tlist.add(stdIn.nextInt());\n\t\t\t}\n\t\t\tint c = 0;\n\t\t\twhile(!check(list) && c < 10000) {\n\t\t\t\tc++;\n\t\t\t\tif(gap(list)) {\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor(int i = 0; i < list.size(); i++) {\n\t\t\t\t\t\tlist.set(i,list.get(i)-1);\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\t\t\t\t}\n\t\t\t\tremoveGap(list);\n\t\t\t}\n\t\t\tSystem.out.println((check(list))?c:-1);\n\t\t\tlist.clear();\n\t\t\tlist.trimToSize();\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\n\t\t\tint in = 0;\n\t\t\tint sumA = 0;\n\t\t\tint sumB = 0;\n\t\t\tboolean flag = true;\n\t\t\t\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\t\n\t\t\twhile(true){\n\t\t\t\t\n\t\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\t\tin = sc.nextInt();\n\t\t\t\t\tlist.push(in);\n\t\t\t\t\tif(in!=i)flag = false;\n\t\t\t\t\tsumA += in;\n\t\t\t\t}\n\t\t\t\tif(flag==true){\n\t\t\t\t\tSystem.out.println(\"0\");\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int i=1;;i++){\n\t\t\t\t\tsumB += i;\n\t\t\t\t\tif(sumB==sumA){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else if(sumB>sumA){\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flag==true){\n\t\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tint s = 0;\n\t\t\t\tint t = 0;\n\t\t\t\tint count = 0;\n\t\t\t\twhile(true){\n\t\t\t\t\tsumA = 0;\n\t\t\t\t\tflag = false;\n\t\t\t\t\ts = list.size();\n\t\t\t\t\tfor(int i=0;i<s;i++){\n\t\t\t\t\t\tt = list.pollLast()-1;\n\t\t\t\t\t\tif(t!=0){\n\t\t\t\t\t\t\tlist.push(t);\n\t\t\t\t\t\t\tsumA++;\n\t\t\t\t\t\t\tif(t!=sumA)flag=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(list.size()==0)flag=true;\n\t\t\t\t\tlist.push(s);\n\t\t\t\t\tcount++;\n\t\t\t\t\tif(count>=10000){\n\t\t\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(flag==false){\n\t\t\t\t\t\tSystem.out.println(count);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor (int i = 1; i * (i + 1) / 2 <= 1000000; i++)\n\t\t\ttri[i * (i + 1) / 2] = true;\n\t\tloop: while (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[] a = new int[Math.max(n, 9000)];\n\t\t\tint sum = 0;\n\t\t\tfor (int i = 1; i <= n; i++) {\n\t\t\t\ta[i] = scanner.nextInt();\n\t\t\t\tsum += a[i];\n\t\t\t}\n\t\t\tif (tri[sum]) {\n\t\t\t\tint res = 0;\n\t\t\t\tint R = n;\n\t\t\t\twhile (res <= 10000) {\n\t\t\t\t\tif (slove(R, a)) {\n\t\t\t\t\t\tSystem.out.println(res);\n\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t}\n\t\t\t\t\tint L = 1;\n\t\t\t\t\tfor (int i = 1; i <= R; i++) {\n\t\t\t\t\t\tif (a[i] == 1)\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\ta[L++] = a[i] - 1;\n\t\t\t\t\t}\n\t\t\t\t\ta[L] = R;\n\t\t\t\t\tR = L;\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\n\t\t}\n\t}\n\n\tprivate boolean slove(int r, int[] a) {\n\t\tfor (int i = 1; i <= r; i++)\n\t\t\tif (i != a[i])\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tint g = 0;\n\t\t\tint sum = 0;\n\t\t\tint ans = 0;\n\t\t\tLinkedList<Integer> list = new LinkedList<Integer>();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tlist.push(sc.nextInt());\n\t\t\t\tsum += list.get(0);\n\t\t\t}\n\t\t\t\n\t\t\tboolean flag = true;\n\t\t\tfor(int i=1;;i++){\n\t\t\t\tg += i;\n\t\t\t\tif(sum==g)break;\n\t\t\t\tif(g>1000000){\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag==true){\n\t\t\t\tint countA = 0;\n\t\t\t\tint countB = 0;\n\t\t\t\tint s = 0;\n\t\t\t\tint temp = 0;\n\t\t\t\tboolean check = true;\n\t\t\t\t\n\t\t\t\twhile(countA<=10000){\n\t\t\t\t\ts = list.size();\n\t\t\t\t\tcheck = true;\n\t\t\t\t\tcountB = 0;\n\t\t\t\t\tfor(int i=1;i<=s;i++){\n\t\t\t\t\t\n\t\t\t\t\t\ttemp = list.pollLast()-1;\n\t\t\t\t\t\tif(temp!=0){\n\t\t\t\t\t\t\tlist.push(temp);\n\t\t\t\t\t\t\tcountB++;\n\t\t\t\t\t\t\tif(temp!=countB){\n\t\t\t\t\t\t\t\tcheck=false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(s);\n\t\t\t\t\tcountA++;\n\t\t\t\t\tif(countB==0)check=false;\n\t\t\t\t\tif(check==true){\n\t\t\t\t\t\tans = countA;\n\t\t\t\t\t\tif(ans==1)ans=0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(countA>10000){\n\t\t\t\t\tflag = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(flag==true){\n\t\t\t\tSystem.out.println(ans);\n\t\t\t}else{\n\t\t\t\tSystem.out.println(\"-1\");\n\t\t\t}\n\t\t}\n\t}\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n \npublic class Main {\n     \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n         \n        while(true){\n            int n = sc.nextInt();\n            if(n==0)break;\n            int g = 0;\n            int sum = 0;\n            int ans = 0;\n            boolean checkC = true;\n            LinkedList<Integer> list = new LinkedList<Integer>();\n            for(int i=1;i<=n;i++){\n                list.push(sc.nextInt());\n                if(list.get(0)!=i)checkC = false;\n                sum += list.get(0);\n            }\n             \n            boolean flag = true;\n             \n            if(checkC==false){\n                for(int i=1;;i++){\n                    g += i;\n                    if(sum==g)break;\n                    if(g>1000000){\n                        flag = false;\n                        break;\n                    }\n                }\n            }\n             \n            if(flag==true && checkC==false){\n                int countA = 0;\n                int countB = 0;\n                int s = 0;\n                int temp = 0;\n                boolean check = true;\n                 \n                while(countA<10000){\n                    s = list.size();\n                    check = true;\n                    countB = 0;\n                    for(int i=1;i<=s;i++){\n                     \n                        temp = list.pollLast()-1;\n                        if(temp!=0){\n                            list.push(temp);\n                            countB++;\n                            if(temp!=countB){\n                                check=false;\n                            }\n                        }\n                    }\n                    list.push(s);\n                    countA++;\n                    if(countB==0)check=false;\n                    if(check==true){\n                        ans = countA;\n                        break;\n                    }\n                }\n                if(countA>=10000){\n                    flag = false;\n                }\n            }\n             \n            if(flag==true){\n                System.out.println(ans);\n            }else{\n                System.out.println(\"-1\");\n            }\n        }\n    }   \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tScanner sc = new Scanner(System.in);\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0)break;\n\n\t\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\tfor(int i = 0; i < n;i++){\n\t\t\t\tlist.add(sc.nextInt());\n\t\t\t}\n\t\t\tint ans = -1;\n\t\t\tfor(int count = 0; count <= 10000; count++){\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) == 0){\n\t\t\t\t\t\tlist.remove(i);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tboolean flg = true;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tif(list.get(i) != i + 1){\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flg){\n\t\t\t\t\tans = count;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint now = 0;\n\t\t\t\tfor(int i = 0; i < list.size(); i++){\n\t\t\t\t\tlist.set(i, list.get(i) -1);\n\t\t\t\t\tnow++;\n\t\t\t\t}\n\t\t\t\tlist.add(now);\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n\n\tprivate void debug(Object... o) {\n\t\tSystem.out.println(\"debug = \" + Arrays.deepToString(o));\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\t    Scanner in = new Scanner(System.in);\n\t    while(true){\n\t        int n = in.nextInt();\n//\t        System.out.println(\"n=\"+n);\n\t        if(n==0) break;\n\t        int arr[] = new int[n];\n\t        for(int i=0;i<n;i++) arr[i] = in.nextInt();\n\t        int res = 0;\n\t        while(!isFinish(arr) && res < 10000){\n\t            res++;\n\t            arr = doit(remove(arr));\n\t        }\n\t        if(res == 10000) res = -1;\n\t        System.out.println(\"\" + res);\n\t    }\n\t}\n\n\tstatic boolean isFinish(int[] arr){\n\t    for(int i=0;i<arr.length; i++){\n\t        if(arr[i] != i+1) return false;\n\t    }\n\t    return true;\n\t}\n\n\tstatic int[] remove(int[] arr){\n\t    int c = 0;\n\t    for(int i : arr) if(i!=0)c++;\n\t    int[] res = new int[c];\n\t    int t = 0;\n\t    for(int i : arr) if(i!=0) res[t++] = i;\n\t    return res;\n\t}\n\n\tstatic int[] doit(int[] arr){\n\t    int[] res = new int[arr.length+1];\n\t    for(int i=0;i<arr.length; i++){\n\t        res[i] = arr[i]-1;\n\t    }\n\t    res[arr.length] = arr.length;\n\t    return res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Main {\n\t\n\tstatic boolean check(ArrayList <Integer> b) {\n\t\tif(b.get(0) != 1) {\n\t\t\treturn false;\n\t\t}\n\t\tfor(int i = 1; i < b.size(); i++) {\n\t\t\tif(b.get(i-1) != b.get(i)-1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic boolean gap(ArrayList <Integer> b) { \n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tstatic void removeGap(ArrayList <Integer> b) {\n\t\tfor(int i = 0; i < b.size(); i++) {\n\t\t\tif(b.get(i) <= 0) {\n\t\t\t\tb.remove(i);\n\t\t\t\ti--;\n\t\t\t\t\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tb.trimToSize();\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner stdIn = new Scanner(System.in);\n\t\twhile(true) {\n\t\tint N = stdIn.nextInt();\n\t\tif(N == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tArrayList<Integer> list = new ArrayList<Integer>();\n\t\t\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tlist.add(stdIn.nextInt());\n\t\t}\n\t\tint c = 0;\n\t\twhile(!check(list) && c < 10000) {\n\t\t\tc++;\n\t\t\tif(gap(list)) {\n\t\t\t\tint size = list.size();\n\t\t\t\tfor(int i = 0; i < list.size(); i++) {\n\t\t\t\t\tlist.set(i,list.get(i)-1);\n\t\t\t\t}\n\t\t\t\tlist.add(size);\n\t\t\t}\n\t\t\tremoveGap(list);\n\t\t}\n\t\tSystem.out.println((check(list))?c:-1);\n\t\tlist = null;\n\t\t}\n\t\t\n\t\t\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor (int i = 1; i * (i + 1) / 2 <= 100000; i++) {\n\t\t\tint a = i * (i + 1) / 2;\n\t\t\ttri[a] = true;\n\t\t}\n\t\tloop: while (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint sum = 0;\n\t\t\tList<Integer> list = new LinkedList<Integer>();\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint a = scanner.nextInt();\n\t\t\t\tlist.add(a);\n\t\t\t\tsum += a;\n\t\t\t}\n\t\t\tif (tri[sum]) {\n\t\t\t\tint res = 0;\n\t\t\t\twhile (res <= 10000) {\n\t\t\t\t\tif (slove(list)) {\n\t\t\t\t\t\tSystem.out.println(res);\n\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t}\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor (ListIterator<Integer> it = list.listIterator(); it\n\t\t\t\t\t\t\t.hasNext();) {\n\t\t\t\t\t\tint a = it.next();\n\t\t\t\t\t\tif (a == 1)\n\t\t\t\t\t\t\tit.remove();\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tit.set(a - 1);\n\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t}\n\n\tprivate boolean slove(List<Integer> list) {\n\t\tfor (int i = 0; i < list.size(); i++)\n\t\t\tif (i + 1 != list.get(i))\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\n//Triangle of Blocks\npublic class Main{\n\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor(int i=1;i*(i+1)>>1<=1000000;i++){\n\t\t\ttri[i*(i+1)>>1] = true;\n\t\t}\n\t\tint[] a = new int[1000001];\n\t\tfor(;;){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tArrays.fill(a, -1);\n\t\t\tint sum = 0;\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\ta[i] = sc.nextInt();\n\t\t\t\tsum+=a[i];\n\t\t\t}\n\t\t\tif(tri[sum]){\n\t\t\t\tint res = 0;\n\t\t\t\tint R = n;\n\t\t\t\tboolean f = false;\n\t\t\t\twhile(res <= 10000){\n\t\t\t\t\tf = true;\n\t\t\t\t\tfor(int i=1;i<=R&&f;i++)f&=i==a[i];\n\t\t\t\t\tif(f)break;\n\t\t\t\t\tint L = 1;\n\t\t\t\t\tfor(int i=1;i<=R;i++){\n\t\t\t\t\t\tif(a[i]==1)continue;\n\t\t\t\t\t\ta[L++] = a[i]-1;\n\t\t\t\t\t}\n\t\t\t\t\ta[L] = R;\n\t\t\t\t\tR = L;\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t\tif(f){\n\t\t\t\t\tSystem.out.println(res); continue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Scanner;\n\npublic class Main\n{\n\tpublic static void main(String[] args) \n\t{\n\t\tScanner in=new Scanner(System.in);\n\t\tfor(;;)\n\t\t{\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)\n\t\t\t\treturn;\n\t\t\tint v2[]=new int[n];\n\t\t\tint sum=0;\n\t\t\tboolean judge=false;\n\t\t\tfor(int i=0;i<n;i++)\n\t\t\t{\n\t\t\t\tint a=in.nextInt();\n\t\t\t\tv2[i]=a;\n\t\t\t\tsum+=a;\n\t\t\t}\n\t\t\tfor(int i=1;i<=1000000;i++)\n\t\t\t{\n\t\t\t\tif((i*(i+1))/2==sum)\n\t\t\t\t{\n\t\t\t\t\tjudge=true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!judge)\n\t\t\t{\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(;;)\n\t\t\t{\n\t\t\t\tint v[]=v2.clone();\n\t\t\t\tif(cnt>10000)\n\t\t\t\t\tbreak;\n\t\t\t\t//debug(v);\n\t\t\t\tif(v[0]==1)\n\t\t\t\t\tif(check(v))\n\t\t\t\t\t\tbreak;\n\t\t\t\tint block=0;\n\t\t\t\tint zero=0;\n\t\t\t\tfor(int i=0;i<v.length;i++)\n\t\t\t\t{\n\t\t\t\t\tblock++;\n\t\t\t\t\tv[i]--;\n\t\t\t\t\tif(v[i]==0)\n\t\t\t\t\t\tzero++;\n\t\t\t\t}\n\t\t\t\tv2=new int[v.length-zero+1];\n\t\t\t\tint I=0;\n\t\t\t\tfor(int i=0;i<v.length;i++)\n\t\t\t\t{\n\t\t\t\t\tif(v[i]!=0)\n\t\t\t\t\t\tv2[I++]=v[i];\n\t\t\t\t}\n\t\t\t\tcnt++;\n\t\t\t\tv2[v2.length-1]=block;\n\t\t\t}\n\t\t\tSystem.out.println(cnt>10000 ? -1:cnt);\n\t\t}\n\t}\n\n\tstatic boolean check(int v[])\n\t{\n\t\tboolean res=true;\n\t\tfor(int i=0;i<v.length-1;i++)\n\t\t{\n\t\t\tif(v[i]+1!=v[i+1])\n\t\t\t\tres=false;\n\t\t}\n\t\treturn res;\n\t}\n\tstatic public void debug(Object... o)\n\t{\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor (int i = 1; i * (i + 1) / 2 <= 1000000; i++)\n\t\t\ttri[i * (i + 1) / 2] = true;\n\t\tloop: while (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[] a = new int[10001];\n\t\t\tint sum = 0;\n\t\t\tfor (int i = 1; i <= n; i++) {\n\t\t\t\ta[i] = scanner.nextInt();\n\t\t\t\tsum += a[i];\n\t\t\t}\n\t\t\tif (tri[sum]) {\n\t\t\t\tint res = 0;\n\t\t\t\tint R = n;\n\t\t\t\twhile (res <= 10000) {\n\t\t\t\t\tif (slove(R, a)) {\n\t\t\t\t\t\tSystem.out.println(res);\n\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t}\n\t\t\t\t\tint L = 1;\n\t\t\t\t\tfor (int i = 1; i <= R; i++) {\n\t\t\t\t\t\tif (a[i] == 1)\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\ta[L++] = a[i] - 1;\n\t\t\t\t\t}\n\t\t\t\t\ta[L] = R;\n\t\t\t\t\tR = L;\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\n\t\t}\n\t}\n\n\tprivate boolean slove(int r, int[] a) {\n\t\tfor (int i = 1; i <= r; i++)\n\t\t\tif (i != a[i])\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.ArrayList;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() {\n\t\tScanner scanner = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor (int i = 1; i * (i + 1) / 2 <= 100000; i++) {\n\t\t\tint a = i * (i + 1) / 2;\n\t\t\ttri[a] = true;\n\t\t}\n\t\tloop: while (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint sum = 0;\n\t\t\tList<Integer> list = new ArrayList<>(1000000);\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint a = scanner.nextInt();\n\t\t\t\tlist.add(a);\n\t\t\t\tsum += a;\n\t\t\t}\n\t\t\tif (tri[sum]) {\n\t\t\t\tint res = 0;\n\t\t\t\twhile (res <= 10000) {\n\t\t\t\t\tif (slove(list)) {\n\t\t\t\t\t\tSystem.out.println(res);\n\t\t\t\t\t\tcontinue loop;\n\t\t\t\t\t}\n\t\t\t\t\tint size = list.size();\n\t\t\t\t\tfor (ListIterator<Integer> it = list.listIterator(); it\n\t\t\t\t\t\t\t.hasNext();) {\n\t\t\t\t\t\tint a = it.next();\n\t\t\t\t\t\tif (a == 1)\n\t\t\t\t\t\t\tit.remove();\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tit.set(a - 1);\n\n\t\t\t\t\t}\n\t\t\t\t\tlist.add(size);\n\n\t\t\t\t\tres++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(-1);\n\t\t}\n\t}\n\n\tprivate boolean slove(List<Integer> list) {\n\t\tfor (int i = 0; i < list.size(); i++)\n\t\t\tif (i + 1 != list.get(i))\n\t\t\t\treturn false;\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.LinkedList;\nimport java.util.Queue;\nimport java.util.Scanner;\n\n//Triangle of Blocks\npublic class Main{\n\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tboolean[] tri = new boolean[1000001];\n\t\tfor(int i=1;i*(i+1)>>1<=1000000;i++){\n\t\t\ttri[i*(i+1)>>1] = true;\n\t\t}\n\t\tfor(;;){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tQueue<Integer> q = new LinkedList<Integer>();\n\t\t\tint expect = 1;\n\t\t\tboolean f = true;\n\t\t\tint sum = 0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tint x = sc.nextInt();\n\t\t\t\tsum+=x;\n\t\t\t\tf&=x==expect++;\n\t\t\t\tq.add(x);\n\t\t\t}\n\t\t\tif(!tri[sum]){\n\t\t\t\tSystem.out.println(-1);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint res = 0;\n\t\t\twhile(res <= 10000){\n\t\t\t\tif(f){\n\t\t\t\t\tSystem.out.println(res); break;\n\t\t\t\t}\n\t\t\t\tres++;\n\t\t\t\tf = true;\n\t\t\t\texpect = 1;\n\t\t\t\tQueue<Integer> next = new LinkedList<Integer>();\n\t\t\t\tint size = q.size();\n\t\t\t\twhile(!q.isEmpty()){\n\t\t\t\t\tint x = q.poll();\n\t\t\t\t\tif(1 < x){\n\t\t\t\t\t\tf&=--x==expect++;\n\t\t\t\t\t\tnext.add(x);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tf&=size==expect;\n\t\t\t\tnext.add(size);\n\t\t\t\tq = next;\n\t\t\t}\n\t\t\tif(res==10001)System.out.println(-1);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner in=new Scanner(System.in);\n\t\t\n\t\twhile(true) {\n\t\t\tint n=in.nextInt();\n\t\t\tif(n==0)break;\n\t\t\t\n\t\t\tList<Integer> ls=new LinkedList<>();\n\t\t\tfor(int i=0;i<n;i++)ls.add(Integer.parseInt(in.next()));\n\t\t\t\n\t\t\tint i=0;\n\t\t\twhile(true) {\n\t\t\t\t//System.out.println(ls);\n\t\t\t\tif(isTriangle(ls)) {\n\t\t\t\t\tSystem.out.println(i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(i>10000) {\n\t\t\t\t\tSystem.out.println(-1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint s=ls.size();\n\t\t\t\tListIterator<Integer> itr=ls.listIterator();\n\t\t\t\twhile(itr.hasNext()) {\n\t\t\t\t\tint v=itr.next()-1;\n\t\t\t\t\tif(v==0)itr.remove();\n\t\t\t\t\telse itr.set(v);\n\t\t\t\t}\n\t\t\t\tls.add(s);\n\t\t\t\t\n\t\t\t\ti++;\n\t\t\t}\n\t\t\t//System.out.println(ls);\n\t\t}\n\t}\n\t\n\tstatic boolean isTriangle(List<Integer> ls) {\n\t\tint i=0;\n\t\tfor(;i<ls.size();i++) {\n\t\t\tif(ls.get(i)!=i+1)break;\n\t\t}\n\t\t\n\t\tif(i==ls.size())return true;\n\t\telse return false;\n\t}\n\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\nclass Program {\n  static bool IsTriangle(List<int> a) {\n    int i = 1;\n    foreach (var item in a) {\n      if (item != i++) return false;\n    }\n    return true;\n  }\n  static void Main() {\n    int n;\n    while ((n = int.Parse(Console.ReadLine())) != 0) {\n      var lst = Console.ReadLine().Split().Select(int.Parse).ToList();\n      int cnt = 0;\n      int idx = 10001;\n      while (idx-- > 0) {\n        if (IsTriangle(lst)) break;\n        lst = lst.Select(x => x - 1).ToList();\n        lst.Add(lst.Count);\n        lst.RemoveAll(x => x == 0);\n        cnt++;\n      }\n      Console.WriteLine(cnt > 10000 ? -1 : cnt);\n    }\n  }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\n\nnamespace AOJ.Volume2\n{\n    public class TriangleOfBlocks\n    {\n        public static int Main()\n        {\n            while (true)\n            {\n                int n = int.Parse(Console.ReadLine());\n                if (n == 0) { break; }\n\n                var block = new int[n];\n                var input = Console.ReadLine().Split(' ');\n                for (int i = 0; i < n; i++) { block[i] = int.Parse(input[i]); }\n\n                int answer = 0;\n                while (true)\n                {\n                    // ????§???¢????????§??????\n                    bool is_tri = true;\n                    int line_num = n;\n                    for(int i = 0; i < n; i++)\n                    {\n                        if (block[i] != i + 1) { is_tri = false; }\n                        // ???????????????????????????????????´???????????????????????????\n                        if (block[i] == 1) { line_num--; }\n                    }\n                    if (is_tri) { break; }\n\n                    // 10000???????????????????????????????????´??????-1?????????\n                    answer++;\n                    if (answer > 10000)\n                    {\n                        answer = -1;\n                        break;\n                    }\n                    // ???????????´\n                    line_num++;\n\n                    // ????????????????§????\n                    var new_block = new int[line_num];\n                    line_num = 0;\n                    for(int i = 0; i < n; i++)\n                    {\n                        if (block[i] == 1) { continue; }\n                        new_block[line_num] = block[i] - 1;\n                        line_num++;\n                    }\n                    new_block[line_num] = n;\n                    block = new_block;\n                    n = line_num + 1;\n                }\n\n                Console.WriteLine(answer);\n            }\n            return 0;\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var a = Array.ConvertAll(line, int.Parse).ToList();\n            if (!CheckTri(a.Sum())) { Console.WriteLine(-1);  goto next; }\n            var ans = GetTri(a);\n            Console.WriteLine(ans);\n            next:;\n        }\n    }\n    public static bool CheckTri (int a)\n    {\n        var x =(int) Math.Sqrt(8 * a + 1);\n        var k = (x - 1) / 2;\n        return k * (k + 1) / 2 == a;\n    }\n    public static int GetTri  (List<int> a)\n    {\n        var count = 0;\n        while (count <= 10000)\n        {\n            if (CheckList(a)) return count;\n            var ca = a.Count();\n            for (int i = 0; i < ca; i++) a[i]--;\n            a.Add(ca);\n            a.RemoveAll(x => x == 0);\n            count++;\n        }\n        return -1;\n    }\n    public static bool CheckList (List<int > a)\n    {\n        var ap  = a[0];\n        if (ap != 1) return false;\n        for (int i = 1; i < a.Count(); i++)\n            if (a[i] != ap + 1) return false;\n            else ap = a[i];\n        return true;\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\nclass Program {\n  static bool IsTriangle(List<int> a) {\n    int i = 1;\n    foreach (var item in a) {\n      if (item != i++) return false;\n    }\n    return true;\n  }\n  static void Main() {\n    int n;\n    while ((n = int.Parse(Console.ReadLine())) != 0) {\n      var lst = Console.ReadLine().Split().Select(int.Parse).ToList();\n      int cnt = 0;\n      int idx = 10001;\n      while (idx-- > 0) {\n        if (IsTriangle(lst)) break;\n        lst = lst.Select(x => x - 1).ToList();\n        lst.Add(lst.Count);\n        if (lst.Any(x => x == 0)) {\n          var tmp = new List<int>();\n          foreach (var item in lst) {\n            if (item != 0) tmp.Add(item);\n          }\n          lst = tmp;\n        }\n        cnt++;\n      }\n      Console.WriteLine(cnt > 10000 ? -1 : cnt);\n    }\n  }\n}\n"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0267\n{\n    class Program\n    {\n        const int LIM = 10000;\n        static void Main(string[] args)\n        {\n            while (true)\n            {\n                int n = RInt();\n                if (n == 0) break;\n\n                int[] blocks = RArInt();\n                int res = IsTriNum(blocks.Sum()) ? GetOpeCount(blocks.ToList()) : -1;\n                Console.WriteLine(res);\n            }\n        }\n\n        private static bool IsTriNum(int v)\n        {\n            double EPS = 10e-9;\n            double n = (Math.Sqrt(8 * v + 1) - 1) / 2;\n            return Math.Abs(n - Math.Round(n)) < EPS;\n        }\n\n        private static int GetOpeCount(List<int> blocks)\n        {\n            int cnt = 0;\n            while (true)\n            {\n                if (cnt > LIM) return -1;\n                if (blocks.Select((x, i) => new { x, i }).All(x => x.x == x.i + 1)) return cnt;\n\n                List<int> nBlocks = new List<int>();\n                for (int i = 0; i < blocks.Count(); i++)\n                {\n                    if (blocks[i] > 1) nBlocks.Add(blocks[i] - 1);\n                }\n                nBlocks.Add(blocks.Count());\n                blocks = nBlocks;\n                cnt++;\n            }\n        }\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RArSt(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RArInt(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RArLong(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RArDouble(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n}\n\n"
  },
  {
    "language": "C#",
    "code": "using System.Linq;\nusing System.Collections.Generic;\nusing System;\n\npublic class hello\n{\n    public static void Main()\n    {\n        while (true)\n        {\n            var n = int.Parse(Console.ReadLine().Trim());\n            if (n == 0) break;\n            string[] line = Console.ReadLine().Trim().Split(' ');\n            var a = Array.ConvertAll(line, int.Parse).ToList();\n            if (!CheckTri(a.Sum())) { Console.WriteLine(-1);  goto next; }\n            var ans = GetTri(a);\n            Console.WriteLine(ans);\n            next:;\n        }\n    }\n    public static bool CheckTri (int a)\n    {\n        var x =(int) Math.Sqrt(8 * a + 1);\n        var k = (x - 1) / 2;\n        return k * (k + 1) / 2 == a;\n    }\n    public static int GetTri  (List<int> a)\n    {\n        var count = 0;\n        while (count <= 10000)\n        {\n            if (CheckList(a)) return count;\n            var ca = a.Count();\n             a= a.Select(x => x - 1).ToList();\n            a.Add(ca);\n            a.RemoveAll(x => x == 0);\n            count++;\n        }\n        return -1;\n    }\n    public static bool CheckList (List<int > a)\n    {\n        var ap  = a[0];\n        if (ap != 1) return false;\n        for (int i = 1; i < a.Count(); i++)\n            if (a[i] != ap + 1) return false;\n            else ap = a[i];\n        return true;\n    }\n}"
  },
  {
    "language": "JavaScript",
    "code": "var input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var n=Arr.shift()-0;\n   if(n==0)break;\n   var arr=(Arr.shift()).split(\" \").map(Number);\n   var cnt=0;\n   while(true){\n      var flag=arr.every(function(v,i){return (i+1==v);});\n      if(flag)break;\n      var L=arr.length;\n      arr=arr.map(function(v){return v-1;});\n      arr=arr.filter(function(v){return (v!=0);});\n      arr.push(L);\n      cnt++;\n      if(cnt==10000){cnt=-1;break;}\n   }\n   console.log(cnt);\n}"
  },
  {
    "language": "JavaScript",
    "code": "\"use strict\";\nvar global_context = global ? global : window;\n\n(function DefineUnderScore() {\n    var ArrayProto = Array.prototype;\n    var slice = ArrayProto.slice;\n    this._ = {};\n    _.each = function( obj, iterator, context ) {\n        Object.keys(obj).forEach(function(key) {\n            if ( iterator.call( context, obj[key], key, obj ) === true )\n                return true;\n        });\n    };\n    _.extend = function(obj) {\n        _.each(slice.call(arguments, 1), function(source) {\n            Object.keys(source).forEach(function(key) {\n                obj[key] = source[key];\n            });\n        });\n    };\n}).call(global_context);\n\nfunction Deferred() {\n    var queue = [];\n    var obj = {\n        done: function(func, context) {\n            if ( func instanceof Function )\n                queue.push({\n                    callback: func,\n                    context: context\n                });\n            return this;\n        },\n        call: function() {\n            var args = arguments;\n            setTimeout(function() {\n                queue.forEach(function(obj) {\n                    obj.callback.apply(obj.context, args);\n                });\n            }, 0);\n        }\n    };\n    return obj;\n}\n\nfunction RawInput() {\n    var deferred = new Deferred();\n    var stdin = process.stdin;\n    stdin.resume();\n    stdin.setEncoding('ascii');\n    var buffer = '';\n    stdin.on('data', function(chunk) {\n        buffer += chunk.toString();\n    });\n    stdin.on('end', function() {\n        deferred.call(buffer);\n    });\n    return deferred;\n}\n\n(function DefineSolution( namespace ) {\n    var Solution = function() {\n        this.input_list = [];\n    };\n    Solution.prototype = {\n        input: function() {\n            if ( this.separator instanceof Function )\n                this.input_list = this.separator.call( this, this.raw_data );\n            else\n                this.input_list.push(this.raw_data);\n        },\n        run: function(raw_data) {\n            this.raw_data = raw_data;\n            this.input();\n            while ( this.has_next() )\n                this.solve(this.next()).output();\n        },\n        read_line: function() {\n            return this.input_list.splice(0,1)[0];\n        },\n        read_number: function() {\n            var line = this.read_line();\n            return parseInt(line);\n        },\n        read_numbers: function() {\n            var line = this.read_line();\n            var terms = line.split(' ');\n            return terms.map(function(term) {\n                return parseInt(term);\n            });\n        },\n        check_eof: function() {\n            return ! this.input_list.length;\n        },\n        has_next: function() {\n            return ! this.check_eof();\n        }\n    };\n    this[namespace] = Solution;\n}).call(global_context, 'Solution' );\n\n(function ExtendSolution( namespace ) {\n    var NONE = -1;\n    var n, A;\n\n    function check_goal() {\n        for ( var i = 0; i < n; ++ i ) {\n            if ( i + 1 !== A[i] )\n                return false;\n        }\n        return true;\n    }\n\n    function move() {\n        A = A.map(function(a) {\n            return a - 1;\n        }).filter(function(a) {\n            return a > 0;\n        });\n        A.push(n);\n        n = A.length;\n    }\n\n    _.extend(Solution.prototype, {\n        separator: function(data) {\n            var res = data.split('\\n');\n            return res;\n        },\n        check_eof: function() {\n            return parseInt(this.input_list[0]) === 0;\n        },\n        next: function() {\n            var n = this.read_number();\n            var A = this.read_numbers();\n            return {\n                n: n,\n                A: A\n            };\n        },\n        solve: function(options) {\n            n = options.n;\n            A = options.A;\n            for ( var i = 0; i < 10000; ++ i ) {\n                if ( check_goal() ) {\n                    this.result = i;\n                    return this;\n                }\n                move();\n            }\n            this.result = NONE;\n            return this;\n        },\n        output: function() {\n            console.log(this.result);\n        }\n    });\n})();\n\nvar solution = new Solution;\nRawInput.call(global_context).done(solution.run, solution);"
  },
  {
    "language": "Ruby",
    "code": "### constant\n\nMAX_C = 10000\n\n### main\n\nwhile true\n  n = gets.strip.to_i\n  break if n == 0\n\n  bl = gets.strip.split(' ').map{|s| s.to_i}\n  bsum = bl.inject(0){|s, b| s + b }\n  #p bl\n  #p bsum\n\n  goal = []\n  k = 1\n  sum = 0\n  while sum < bsum\n    sum += k\n    goal << k\n    k += 1\n  end\n  #p sum\n\n  count = 0\n  while bl != goal && count <= MAX_C\n    l = bl.length\n    bl = bl.map{|b| b - 1}.select{|b| b > 0}\n    bl << l\n    count += 1\n  end\n\n  puts (count > MAX_C ? -1 : count)\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n = gets.to_i\n    break if n == 0\n    a = gets.split.map(&:to_i)\n    k = a.inject(:+)\n    n = 1\n    n += 1 until n * (n + 1) / 2 >= k\n    if k != n * (n + 1) / 2\n        puts -1\n        next\n    end\n    goal = (1..n).to_a\n    k = 0\n    loop do\n        break if a == goal\n        b = []\n        s = a.size\n        until a.empty?\n            x = a.shift\n            b << x - 1 if x > 1\n        end\n        b << s\n        a = b\n        k += 1\n        if k == 10000\n            k = -1\n            break\n        end\n    end\n    puts k\nend\n"
  },
  {
    "language": "Ruby",
    "code": "while true\n    n = gets.to_i\n    break if n == 0\n    m = gets.chomp.split.map(&:to_i)\n    count, success = 0, false\n    10000.times{\n        if m == (1..m.length).to_a\n            success = true\n            break\n        end\n        m.map!{|x| x - 1}\n        m << m.length\n        m.delete(0)\n        count += 1\n    }\n    puts success ? count : -1\nend\n"
  },
  {
    "language": "Ruby",
    "code": "#!/usr/bin/ruby\ntri=(0..9999).map{|e|e*(e+1)/2}\nwhile (n=gets.to_i)>0\n\ta=gets.split.map(&:to_i)\n\ts=a.reduce(:+)\n\tidx=tri.index(s)\n\tif idx\n\t\tans=[*1..idx]\n\t\ti=0\n\t\twhile a!=ans\n\t\t\tk=a.length\n\t\t\ta.map!{|e|e-=1}\n\t\t\ta<<k\n\t\t\ta.delete_if{|e|e==0}\n\t\t\ti+=1\n\t\t\tbreak if i>10000\n\t\tend\n\t\tp i>10000 ? -1 : i\n\telse\n\t\tp -1\n\tend\nend"
  },
  {
    "language": "Ruby",
    "code": "#!/bin/ruby\nuntil (n=gets.to_i)==0\n  c=0\n  b=gets.split.map(&:to_i)\n  while c<=10000\n    f=false\n    b.each_with_index do |e,x|\n      f|=e!=x+1\n    end\n    break if !f\n    c+=1\n    b=b.map{|e|e-=1}\n    b<< b.size\n    b=b.select{|e|e!=0}\n  end\n  puts (c<=10000)?c: -1\nend"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.c.stdio;\nimport std.range;\nimport std.array;\nimport std.functional;\nimport std.algorithm;\nimport std.conv;\nimport std.container;\nimport std.math;\nimport std.numeric;\nimport std.string;\nimport std.c.string;\nimport std.regex;\nimport std.typecons;\n \nvoid main() {\n    int N;\n    int[] B;\n    bool input() {\n        scanf(\"%d\\n\", &N);\n        if (N == 0) return false;\n        B = readln.chomp.split(\" \").map!(to!int).array;\n        return true;\n    }\n    \n    int[] step(int[] xs) {\n        int p = cast(int)xs.length;\n        foreach (ref x; xs) {\n            x--;\n        }\n        int[] ys;\n        foreach (x; xs) {\n            if (x == 0) continue;\n            ys ~= x;\n        }\n        ys ~= p;\n        return ys;\n    }\n\n    bool check(int[] xs) {\n        foreach (i; 0 .. xs.length) {\n            if (xs[i] != i + 1) return false;\n        }\n        return true;\n    }\n\n    void solve() {\n        int[] X = B.dup;\n        foreach (i; 0 .. 10000 + 1) {\n            if (check(X)) {\n                writeln(i);\n                return;\n            }\n            X = step(X);\n        }\n        writeln(-1);\n    }\n\n    while (input) solve;\n\n}"
  },
  {
    "language": "D",
    "code": "import std.conv, std.stdio, std.string;\nimport std.algorithm, std.array, std.bigint, std.container, std.math, std.range, std.regex;\nclass EOFException : Throwable { this() { super(\"EOF\"); } }\nclass Reader {string[] t;int p;\n  void next() {++p;while(p>=t.length) {if(stdin.eof) throw new EOFException; t=readln.split;p=0;}}\n  string String() { next; return t[p]; }\n  int Int() { next; return to!int(t[p]); }\n  long Long() { next; return to!long(t[p]); }\n  real Real() { next; return to!real(t[p]); }\n};\nReader reader;\n\nvoid main() {\n  reader = new Reader;\n\ttry {\n    while(1) {\n      int N = reader.Int;\n      if (!N) break;\n      int[] b = readln.split.map!(to!int).array;\n      int ans = -1;\n      foreach(iter; 0..10001) {\n        bool ok = 1;\n        foreach(i; 0..b.length) {\n          if (b[i] != i+1) {\n            ok = 0;\n            break;\n          }\n        }\n        if (ok) {\n          ans = iter;\n          break;\n        }\n        int[] c;\n        foreach(ref x; b) {\n          x--;\n          if (x) c ~= x;\n        }\n        c ~= b.length;\n        b = c;\n      }\n      writeln(ans);\n    }\n\t} catch (EOFException) {}\n}"
  },
  {
    "language": "D",
    "code": "import std.conv, std.stdio, std.string;\nimport std.algorithm, std.array, std.bigint, std.container, std.math, std.range;\nclass EOFException : Throwable { this() { super(\"EOF\"); } }\nclass Reader {string[] t;int p;\n  void next() {++p;while(p>=t.length) {if(stdin.eof) throw new EOFException; t=readln.split;p=0;}}\n  string String() { next; return t[p]; }\n  int Int() { next; return to!int(t[p]); }\n  long Long() { next; return to!long(t[p]); }\n  real Real() { next; return to!real(t[p]); }\n};\nReader reader;\n\nvoid main() {\n  reader = new Reader;\n\ttry {\n    while(1) {\n      int N = reader.Int;\n      if (!N) break;\n      int[] b = readln.split.map!(to!int).array;\n      int ans = -1;\n      foreach(iter; 0..10001) {\n        bool ok = 1;\n        foreach(i; 0..b.length) {\n          if (b[i] != i+1) {\n            ok = 0;\n            break;\n          }\n        }\n        if (ok) {\n          ans = iter;\n          break;\n        }\n        int[] c;\n        foreach(ref x; b) {\n          x--;\n          if (x) c ~= x;\n        }\n        c ~= cast(int)b.length;\n        b = c;\n      }\n      writeln(ans);\n    }\n\t} catch (EOFException) {}\n}"
  },
  {
    "language": "D",
    "code": "import std.conv, std.stdio, std.string;\nimport std.algorithm, std.array, std.bigint, std.container, std.math, std.range;\nclass EOFException : Throwable { this() { super(\"EOF\"); } }\nclass Reader {string[] t;int p;\n  void next() {++p;while(p>=t.length) {if(stdin.eof) throw new EOFException; t=readln.split;p=0;}}\n  string String() { next; return t[p]; }\n  int Int() { next; return to!int(t[p]); }\n  long Long() { next; return to!long(t[p]); }\n  real Real() { next; return to!real(t[p]); }\n};\nReader reader;\n\nvoid main() {\n  reader = new Reader;\n\ttry {\n    while(1) {\n      int N = reader.Int;\n      if (!N) break;\n      int[] b = readln.split.map!(to!int).array;\n      int ans = -1;\n      foreach(iter; 0..10001) {\n        bool ok = 1;\n        foreach(i; 0..b.length) {\n          if (b[i] != i+1) {\n            ok = 0;\n            break;\n          }\n        }\n        if (ok) {\n          ans = iter;\n          break;\n        }\n        int[] c;\n        foreach(ref x; b) {\n          x--;\n          if (x) c ~= x;\n        }\n        c ~= b.length;\n        b = c;\n      }\n      writeln(ans);\n    }\n\t} catch (EOFException) {}\n}"
  },
  {
    "language": "Python",
    "code": "import math\n\n\ndef check(a):\n    for i, v in enumerate(a):\n        if v != i + 1:\n            return False\n        else:\n            if i == len(a) - 1:\n                return True\n\n\nwhile True:\n    n = int(raw_input())\n    if n == 0:\n        break\n\n    a = map(int, raw_input().split())\n    if sum(a) != (lambda s: s * (s + 1) // 2)(int(math.sqrt(sum(a) * 2))):\n        print -1\n    else:\n        c = 0\n        while not check(a):\n            c += 1\n            a = [x - 1 for x in a if x - 1 != 0].append(len(a))\n            if c == 10000:\n                c = -1\n                break\n\n        print c"
  },
  {
    "language": "Python",
    "code": "while 1:\n    N = int(input())\n    if N == 0:break\n    lst = list(map(int,input().split()))\n\n    s_len = 1\n    n = lst[-1]\n#    for v in reversed(lst[:-1]):\n#        if v == n-1:\n#           s_len += 1\n#           n -= 1\n#        else:\n#            break\n\n    \n    result = -1\n    for i in range(10000):\n        flg = True\n        for j in range(len(lst)):\n            if j+1 != lst[j]:\n                flg = False\n        if flg:\n            result = i\n            break\n\n#        if len(lst) == s_len:\n#            result = i\n#            break\n\n        #抜くブロック数を取得\n        cnt = 0\n        for j in reversed(range(len(lst))):\n            cnt += 1\n            lst[j] -= 1\n            if lst[j] == 0:\n#                if j >= len(lst)-s_len:\n#                    s_len -=1\n#                elif j == len(lst)-s_len-1 and j > 0 and s_len > 0:\n#                    if lst[j-1] ==lst[len(lst)-s_len]:\n#                        s_len += 1\n                \n                lst.pop(j)\n        lst.append(cnt)\n   #     print(lst)\n#        if cnt == lst[-2]+1:\n#            s_len += 1\n#        else:\n#            s_len = 1\n        \n    print(result)\n\n            \n\n\n    "
  },
  {
    "language": "Python",
    "code": "while True:\n    N = int(input())\n    if N == 0 : break\n\n    b = list(map(int, input().split()))\n    cnt = 0\n    while cnt <= 10000 :\n        tri_num = True\n        if b[0] != 1 : tri_num = False\n        for i in range( 1, len(b) ) :\n            if b[i] != b[i-1]+1 :\n                tri_num = False\n                break\n        if tri_num : break\n\n        new_column = len(b)\n            \n        b_tmp = []\n        for i in b :\n            if i > 1 : b_tmp.append( i-1 )\n        b = b_tmp\n        b.append( new_column )\n\n        cnt += 1\n    if cnt <= 10000 : print(cnt)\n    else : print(-1)\n    \n\n"
  },
  {
    "language": "Python",
    "code": "l = list(range(1, 100000))\ntri_num = set(i*(i+1)//2 for i in range(1, 100000))\n\nwhile True:\n    N = int(input())\n    \n    if N==0:\n        break\n    \n    b = list(map(int, input().split()))\n    \n    if sum(b) not in tri_num:\n        print(-1)\n        continue\n    \n    ans = 0\n    \n    while True:\n        flag = True\n        \n        for i in range(len(b)):\n            if b[i]!=l[i]:\n                flag = False\n        \n        if flag:\n            print(ans)\n            break\n        \n        for i in range(len(b)):\n            b[i] -= 1\n    \n        b.append(len(b));\n        b = [bi for bi in b if bi!=0]\n        ans += 1\n        \n        if ans>10000:\n            print(-1)\n            break\n"
  },
  {
    "language": "Python",
    "code": "K = [i+1 for i in range(2000)]\n\nwhile 1:\n    N = int(input())\n    if N == 0:\n        break\n    *S, = map(int, input().split())\n    if S == K[:len(S)]:\n        print(0)\n        continue\n    i = 1; s = 0; su = sum(S)\n    while s < su:\n        s += i; i += 1\n\n    if s != su:\n        print(-1)\n        continue\n\n    for t in range(10000):\n        T = []\n        for s in S:\n            if s > 1:\n                T.append(s-1)\n        T.append(len(S))\n        S, T = T, S\n        if S == K[:len(S)]:\n            print(t+1)\n            break\n    else:\n        print(-1)\n"
  },
  {
    "language": "Python",
    "code": "# Aizu Problem 0267: Triangle of Blocks\n\nimport sys, math, os, datetime\n\n# read input:\nPYDEV = os.environ.get('PYDEV')\nif PYDEV==\"True\":\n    sys.stdin = open(\"sample-input.txt\", \"rt\")\n\n\ndef is_triangle(heights):\n    if heights[0] != 1:\n        return False\n    L = len(heights)\n    diffs = [heights[k] - heights[k-1] for k in range(1, L)]\n    return diffs == [1] * (L - 1)\n\n\ndef solve(n, heights):\n    steps = 0\n    while steps < 10000:\n        if is_triangle(heights):\n            return steps\n        L = len(heights)\n        for k in range(L):\n            heights[k] -= 1\n        heights.append(L)\n        while heights.count(0) > 0:\n            del heights[heights.index(0)]\n        steps += 1\n    return -1\n\nwhile True:\n    n = int(input())\n    if n == 0:\n        break\n    heights = [int(_) for _ in input().split()]\n    print(solve(n, heights))"
  },
  {
    "language": "Python",
    "code": "def Sankakusu(N) :\n    tmp  = 0\n    i = 1\n    while tmp < N :\n        tmp = (i * (i + 1)) / 2\n        i += 1\n    if tmp == N :\n        return True\n    else :\n        return False\n\ndef Step_Check(List) :\n    for i in range(len(List)) : \n        if List[i] != i + 1 :\n            return False\n    return True\n    \n            \n\nwhile True :\n    n = int(input())\n    if n == 0 :\n        break\n    \n    count = 0\n    block = list(map(int, input().split()))\n    if not Sankakusu(sum(block)) :\n        print(-1)\n        \n    else :\n        while True :\n            if Step_Check(block) :\n                print(count)\n                break\n            else :\n                count += 1\n                len_b = len(block)\n                for j in range(len_b) :\n                    block[j] -= 1\n                block.append(len_b)\n                while 0 in block :\n                    block.remove(0)\n            if count == 10001 :\n                print(-1)\n                break\n"
  },
  {
    "language": "Python",
    "code": "while 1:\n\tn=input()\n\tif n==0:break\n\tb=map(int,raw_input().split())\n\tcount=0\n\twhile count<10001:\n\t\tif b[0]==1:\n\t\t\tfor i in range(len(b)-1):\n\t\t\t\tif b[i+1]-b[i]!=1:\n\t\t\t\t\tbreak\n\t\t\telse:\n\t\t\t\tprint count\n\t\t\t\tbreak\n\t\tl=len(b)\n\t\tfor i in range(l):\n\t\t\tb[i]-=1\n\t\tb.append(l)\n\t\twhile b.count(0)>0:\n\t\t\tdel b[b.index(0)]\n\t\tcount+=1\n\telse:\n\t\tprint -1"
  },
  {
    "language": "Python",
    "code": "import math\n\n\ndef check(a):\n    for i, v in enumerate(a):\n        if v != i + 1:\n            return False\n        else:\n            if i == len(a) - 1:\n                return True\n\n\nwhile True:\n    n = int(raw_input())\n    if n == 0:\n        break\n\n    a = map(int, raw_input().split())\n    if sum(a) != (lambda s: s * (s + 1) // 2)(int(math.sqrt(sum(a) * 2))):\n        print -1\n    else:\n        c = 0\n        while not check(a):\n            c += 1\n            map(lambda x: x - 1, a).append(len(a))\n            if 0 in a:\n                a.remove(0)\n            if c == 10000:\n                c = -1\n                break\n\n        print c"
  },
  {
    "language": "Python",
    "code": "tri_nums = [i * (i + 1) // 2 for i in range(1500)]\nwhile True:\n  n = int(input())\n  if n == 0:\n    break\n  blst = list(map(int, input().split()))\n  if sum(blst) not in tri_nums:\n    print(-1)\n    continue\n  end = [i + 1 for i in range(tri_nums.index(sum(blst)))]\n  lenb = n\n  cnt = 0\n  while blst != end:\n    if cnt > 10000:\n      print(-1)\n      break\n    blst = [i - 1 for i in blst if i > 1]\n    blst.append(lenb)\n    lenb = len(blst)\n    cnt += 1\n  else:\n    print(cnt)\n"
  },
  {
    "language": "Python",
    "code": "while 1:\n\tn=input()\n\tif n==0:break\n\tb=map(int,raw_input().split())\n\tcount=0\n\twhile count<10001:\n\t\tif b[0]==1:\n\t\t\tfor i in range(len(b)-1):\n\t\t\t\tif b[i+1]-b[i]!=1:\n\t\t\t\t\tbreak\n\t\t\telse:\n\t\t\t\tprint count\n\t\t\t\tbreak\n\t\tfor i in range(len(b)):\n\t\t\tb[i]-=1\n\t\tb.append(len(b))\n\t\twhile b.count(0)>0:\n\t\t\tdel b[b.index(0)]\n\t\tcount+=1\n\telse:\n\t\tprint -1"
  },
  {
    "language": "Python",
    "code": "import math\n\n\ndef check(a):\n    for i, v in enumerate(a):\n        if v != i + 1:\n            return False\n        else:\n            if i == len(a) - 1:\n                return True\n\n\nwhile True:\n    n = int(raw_input())\n    if n == 0:\n        break\n\n    a = map(int, raw_input().split())\n    if sum(a) != (lambda s: s * (s + 1) // 2)(int(math.sqrt(sum(a) * 2))):\n        print -1\n    else:\n        c = 0\n        while not check(a):\n            c += 1\n            a = [x - 1 for x in a if x - 1 != 0] + [len(a)]\n            if c == 10000:\n                c = -1\n                break\n\n        print c"
  },
  {
    "language": "Python",
    "code": "while True:\n    N=input()\n    if N==0:break\n    L=map(int,raw_input().split())\n    P=[]\n    cnt=0\n    while (P<>L) and (cnt<10000):\n        P=L[:]\n        L=map(lambda x:x-1,L)\n        L.append(len(L))\n        L=[i for i in L if i<>0]\n        cnt+=1\n    print cnt-1\tif cnt<>10000 else -1"
  },
  {
    "language": "Python",
    "code": "import math\n\ndef is_sankaku(v):\n    x = (math.sqrt(8*v + 1) - 1 ) / 2\n    return x == int(x)\n\ndef check(lst):\n    for i,v in enumerate(lst):\n        if v != i + 1:\n            return False\n        elif i == len(lst)-1:\n            return True\n\nwhile 1:\n    N = int(input())\n    if N == 0:break\n    lst = list(map(int,input().split()))\n    if not is_sankaku(sum(lst)):\n        print(-1)\n        continue\n\n    result = -1\n    for count in range(10000):\n        if check(lst):\n            result = count \n            break\n        spam = len(lst)\n        lst = [x-1 for x in lst if x-1 > 0]\n        lst.append(spam)\n        \n    print(result)"
  }
]