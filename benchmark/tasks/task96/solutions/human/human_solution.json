[
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include<string>\n\nusing namespace std;\n\n\nclass Dice{\nprivate:\n\tint yoko;\n\tint tate;\n\tint round;\n\npublic:\n\tstring face[3][4];\n\n\tstring getFace(int i,int j)const{\n\t\treturn face[i][j];\n\t}\n\n\tDice(vector<string> &v){\n\t\tinit();\n\t\tface[1][1]=v[0];\n\t\tface[2][1]=v[1];\n\t\tface[1][2]=v[2];\n\t\tface[1][0]=v[3];\n\t\tface[0][1]=v[4];\n\t\tface[1][3]=v[5];\n\t}\n\n\tvoid init(){\n\t\tfor(int i = 0; i < 3; i++){\n\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\tface[i][j]=\"\";\n\t\t\t}\n\t\t}\n\t\tyoko=0;\n\t\ttate=0;\n\t\tround=0;\n\t}\n\n\tvoid rotate(){\n\t\tif(round<4){\n\t\t\tstring tmp = face[2][1];\n\t\t\tface[2][1]=face[1][2];\n\t\t\tface[1][2]=face[0][1];\n\t\t\tface[0][1]=face[1][0];\n\t\t\tface[1][0]=tmp;\n\t\t\tround++;\n\t\t}\n\t\tif(round>=4){\n\t\t\tround=0;\n\t\t\t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n\t\t\tif(yoko<4){\n\t\t\t\tstring tmp = face[1][3];\n\t\t\t\tfor(int i = 2; i >= 0; i--){\n\t\t\t\t\tface[1][i+1]=face[1][i];\n\t\t\t\t}\n\t\t\t\tface[1][0]=tmp;\n\t\t\t\tyoko++;\n\t\t\t}\n\t\t\t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n\t\t\tif(yoko>=4){\n\t\t\t\tif(tate<4){\n\t\t\t\t\ttate++;\n\t\t\t\t\tstring tmp = face[1][3];\n\t\t\t\t\tface[1][3]=face[0][1];\n\t\t\t\t\tfor(int i = 0; i < 2; i++){\n\t\t\t\t\t\tface[i][1]=face[i+1][1];\n\t\t\t\t\t}\n\t\t\t\t\tface[2][1]=tmp;\n\t\t\t\t}\n\t\t\t\tif(tate>=4){\n\t\t\t\t\tround=0;\n\t\t\t\t\ttate=0;\n\t\t\t\t\tyoko=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n};\n\nint main(){\n\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tvector<Dice> ds;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tvector<string> v;\n\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin>>str;\n\t\t\t\tv.push_back(str);\n\t\t\t}\n\t\t\tds.push_back(Dice(v));\n\t\t}\n\n\t\tvector<Dice> used;\n\t\tused.push_back(ds[0]);\n\t\tfor(int i = 1; i < n; i++){\n\t\t\tbool t=false;\n\t\t\t// ÇêðÝé©\n\t\t\tbool f=false;\n\t\t\tfor(int j = 0; j < used.size(); j++){\n\t\t\t\t// ÇÌûü©\n\t\t\t\tfor(int k = 0; k < 24; k++){\n\t\t\t\t\t// ½ÄÆæ±\n\t\t\t\t\tfor(int l = 0; l < 3; l++){\n\t\t\t\t\t\tfor(int m = 0; m < 4; m++){\n\t\t\t\t\t\t\tif(used[j].face[l][m]!=ds[i].face[l][m]){\n\t\t\t\t\t\t\t\tt=true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(t)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(!t){\n\t\t\t\t\t\tf=true;\n\t\t\t\t\t}\n\t\t\t\t\tused[j].rotate();\n\t\t\t\t\tt=false;\n\t\t\t\t}\n\t\t\t\tif(f)\n\t\t\t\t\tbreak;\n\t\t\t\t// àµÇÌûüÅàêvµÈ©Á½çAXgÉÁ¦é\n\t\t\t\t//for(int l = 0; l < 3; l++){\n\t\t\t\t//\tfor(int k = 0; k < 4; k++){\n\t\t\t\t//\t\tcout<<used[j].face[l][k]<<\" \";\n\t\t\t\t//\t}\n\t\t\t\t//\tcout<<endl;\n\t\t\t\t//}\n\t\t\t\t//cout<<endl;\n\t\t\t}\n\t\t\tif(!f){\n\t\t\t\tused.push_back(ds[i]);\n\t\t\t}\n\t\t}\n\t\tcout<<n-used.size()<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n \nenum { TOP=0, FRONT=1, LEFT=2, RIGHT=3, BACK=4, BOTTOM=5 };\nenum { WEST = 0, NORTH=1, EAST=2, SOUTH=3 };\n \nclass Dice\n{\npublic:\n  int num[6];\n   \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n   \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n       \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n       \n    }\n     \n  }\n   \npublic:\n  \n  Dice() {\n  }\n  \n  Dice(int t, int f, int l, int r, int b, int m)\n  {\n    num[TOP] = t, num[FRONT] = f, num[LEFT] = l, num[RIGHT] = r, num[BACK] = b, num[BOTTOM] = m;\n  }\n  Dice(vector<int> v)\n  {\n    num[TOP] = v[0], num[FRONT] = v[1], num[LEFT] = v[2], num[RIGHT] = v[3], num[BACK] = v[4], num[BOTTOM] = v[5];\n  }\n  \n  bool equals (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      for(int j=0; j<4; j++) {\n        rhs.roll(WEST);\n        bool ng = false;\n        for(int k=0; k<6; k++) {\n          if(num[k]!=rhs.num[k]) { ng = true; break; }\n        }\n        if(ng) continue;\n        return true;\n      }\n    }\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      bool ng = false;\n      for(int k=0; k<6; k++) {\n        if(num[k]!=rhs.num[k]) { ng = true; break; }\n      }\n      if(ng) continue;\n      return true;\n    }\n    for(int i=0; i<4; i++) {\n      rhs.roll(WEST);\n      bool ng = false;\n      for(int k=0; k<6; k++) {\n        if(num[k]!=rhs.num[k]) { ng = true; break; }\n      }\n      if(ng) continue;\n      return true;\n    }\n    return false;\n  }\n};\n\nmap<string, int> mp;\n\nint main() {\n  \n  mp[\"Red\"]=0, mp[\"Yellow\"]=1, mp[\"Blue\"]=2, mp[\"Magenta\"]=3, mp[\"Green\"]=4, mp[\"Cyan\"]=5;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      swap(v[2], v[3]);\n      d.push_back(Dice(v));\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equals(d[j])) {\n            d.erase(d.begin()+j);\n            update = true; cnt ++;\n            goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << cnt << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <string>\n#include <cmath>\n#include <stack>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <list>\n#include <iostream>\n#include <sstream>\n#include <climits>\n#include <cfloat>\n#include <complex>\n\nusing namespace std;\n\nint main()\n{\n\tchar* color = \"RYBMGC\";\n\tint n;\n\twhile (scanf(\"%d\", &n), n)\n\t{\n\t\tint ans = 0;\n\n\t\tset<int> used;\n\t\twhile (n--)\n\t\t{\n\t\t\tint c[6];\n\t\t\tchar buf[16];\n\t\t\tint fixed;\n\t\t\tfor (int i = 0; i < 6; ++i)\n\t\t\t{\n\t\t\t\tscanf(\" %s\", buf);\n\t\t\t\tint j;\n\t\t\t\tfor (j = 0; color[j] != *buf; ++j)\n\t\t\t\t\t;\n\t\t\t\tc[i] = j;\n\t\t\t\tif (j == 0)\n\t\t\t\t\tfixed = i;\n\t\t\t}\n\t\t\tint r[][4] = { \n\t\t\t\t{ 1, 2, 4, 3 },\n\t\t\t\t{ 5, 2, 0, 3 },\n\t\t\t\t{ 0, 1, 5, 4 },\n\t\t\t\t{ 0, 4, 5, 1 },\n\t\t\t\t{ 0, 2, 5, 3 },\n\t\t\t\t{ 2, 1, 3, 4 }\n\t\t\t};\n\t\t\tint rota[4];\n\t\t\tfor (int i = 0; i < 4; ++i)\n\t\t\t\trota[i] = r[fixed][i];\n\n\t\t\tbool u = false;\n\t\t\tfor (int i = 0; i < 3; ++i)\n\t\t\t{\n\t\t\t\tint s = 0;\n\t\t\t\tfor (int j = 0; j < 4; ++j)\n\t\t\t\t\ts = s*10 + rota[(i+j) % 4];\n\t\t\t\tif (used.count(s))\n\t\t\t\t{\n\t\t\t\t\t++ans;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tused.insert(s);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fr first\n#define sc second\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef pair<int,pii> pip; \nconst int INF = (1<<25);\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\n\nint main(){\n  int n;\n  int ans;\n  int res=0;\n  int box[30][6];\n  bool b[30][30];\n  int samenum;\n  int samenum2;\n  while(cin>> n,n){\n    ans=0;\n    //for(int i=0;i<n;i++){\n    //for(int j=0;j<n;j++){\n    //\tb[i][j]=false;\n    //}\n    //}\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tstring s;\n\tcin>> s;\n\tif(s==\"Red\") box[i][j]=0;\n\telse if(s==\"Yellow\") box[i][j]=1;\n\telse if(s==\"Blue\") box[i][j]=2;\n\telse if(s==\"Magenta\") box[i][j]=3;\n\telse if(s==\"Green\") box[i][j]=4;\n\telse if(s==\"Cyan\") box[i][j]=5;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n\tif(i==j) continue;\n\t//if(b[i][j]==true) continue;\n\t//b[i][j]=b[j][i]=true;\n\tans=0;\n\tfor(int k=0;k<6;k++){\n\t  if(box[i][0]==box[j][k]){\n\t    samenum=k; \n\t  }\n\t}\n\tif(box[j][samenum]-box[i][0]==0){\n\t  if(box[i][5]==box[j][5]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==1){\n\t  if(box[i][5]==box[j][4]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==2){\n\t  if(box[i][5]==box[j][3]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==3){\n\t  if(box[i][5]==box[j][2]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==4){\n\t  if(box[i][5]==box[j][1]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==5){\n\t  if(box[i][5]==box[j][0]){\n\t    ans++;\n\t  }\n\t}\n\n\n\n\tfor(int k=0;k<6;k++){\n\t  if(box[i][1]==box[j][k]){\n\t    samenum=k; \n\t  }\n\t}\n\tif(box[j][samenum]-box[i][1]==0){\n\t  if(box[i][4]==box[j][4]){\n\t    if(ans)res++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][1]==-1){\n\t  if(box[i][4]==box[j][5]){\n\t    if(ans)res++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][1]==1){\n\t  if(box[i][4]==box[j][3]){\n\t    if(ans)res++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][1]==2){\n\t  if(box[i][4]==box[j][2]){\n\t    if(ans)res++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][1]==3){\n\t  if(box[i][4]==box[j][1]){\n\t    if(ans)res++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][1]==4){\n\t  if(box[i][4]==box[j][0]){\n\t    if(ans)res++;\n\t  }\n\t}\n      }\n    }\n\n\n    cout<< res/2<< endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n#include <cassert>\n#include <iostream>\n#include <cctype>\n#include <sstream>\n#include <string>\n#include <list>\n#include <vector>\n#include <queue>\n#include <set>\n#include <stack>\n#include <map>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <complex>\n#include <fstream>\nusing namespace std;\ntypedef long long ll;\nconst double EPS = 1e-9;\ntypedef vector<int> vint;\ntypedef pair<int, int> pint;\n#define rep(i, n) REP(i, 0, n)\n#define ALL(v) v.begin(), v.end()\n#define MSG(a) cout << #a << \" \" << a << endl;\n#define REP(i, x, n) for(int i = x; i < n; i++)\ntemplate<class T> T RoundOff(T a){ return int(a+.5-(a<0)); }\ntemplate<class T, class C> void chmax(T& a, C b){ if(a < b) a = b; }\ntemplate<class T, class C> void chmin(T& a, C b){ if(b < a) a = b; }\ntemplate<class T, class C> pair<T, C> mp(T a, C b){ return make_pair(a, b); }\n\nint trans[6][6] =\n{\n\t{1, 3, 4, 5, 2, 6},\n\t{5, 1, 3, 4, 6, 2},\n\t{4, 2, 1, 6, 5, 3},\n\t{3, 2, 6, 1, 5, 4},\n\t{2, 6, 3, 4, 1, 5},\n\t{6, 5, 3, 4, 2, 1}\t\n};\n\nstruct Cube\n{\n\tvector<string> colors;\n\tCube() : colors(6) {}\n\t\n\tCube rotate(int s)\n\t{\n\t\tvector<string> tmp(6);\n\t\trep(i, 6) tmp[trans[s][i]-1] = colors[i];\n\t\tcolors = tmp;\n\t\t\n\t\treturn *this;\n\t}\n};\n\nbool same(Cube a, Cube b)\n{\n\trep(i, 6) if(a.colors[0] == b.colors[i]) b.rotate(i);\n\t\n\trep(i, 4) if(a.colors == b.rotate(0).colors) return true;\n\t\n\treturn false;\n}\n\nstruct UnionFind {\n\tvector<int> data;\n\tUnionFind(int size) : data(size, -1) { }\n\tbool unite(int x, int y) {\n\t\tx = root(x); y = root(y);\n\t\tif (x != y) {\n\t\t\tif (data[y] < data[x]) swap(x, y);\n\t\t\tdata[x] += data[y]; data[y] = x;\n\t\t}\n\t\treturn x != y;\n\t}\n\tbool same(int x, int y) {\n\t\treturn root(x) == root(y);\n\t}\n\tint root(int x) {\n\t\treturn data[x] < 0 ? x : data[x] = root(data[x]);\n\t}\n\tint size(int x) {\n\t\treturn -data[root(x)];\n\t}\n\tint count() {\n\t\tint res = 0;\n\t\trep(i, data.size()) res += data[i] < 0;\n\t\treturn res;\n\t}\n};\n\nint main()\n{\n    int n;\n\twhile(cin >> n && n)\n\t{\n\t\tint ans = 0;\n\t\tvector<Cube> cubes(n);\n\t\t\n\t\trep(i, n) rep(j, 6) cin >> cubes[i].colors[j];\n\t\t\n\t\tUnionFind uft(n);\n\t\trep(i, n) REP(j, i+1, n) uft.unite(i, j);\n\t\t\n\t\tcout << uft.count() << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n\nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\n\nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      if(a == b) return(true);\n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    boxes.resize(n);\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    int ret = 0;\n    for(int i = 0; i < n; i++) {\n      for(int j = i + 1; j < n; j++) {\n        if(i != j && Myon(boxes[i], boxes[j])) ++ret;\n      }\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n\nusing namespace std;\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\ntemplate <class T>\nclass dice {\npublic:\n  dice() {\n    id[TOP] = 0; id[FRONT] = 1; id[LEFT] = 2;\n    id[RIGHT] = 3; id[BACK] = 4; id[BOTTOM] = 5;\n  }\n  dice(int t, int f, int l, int r, int b, int m) {\n    id[TOP] = t; id[FRONT] = f; id[LEFT] = l;\n    id[RIGHT] = r; id[BACK] = b; id[BOTTOM] = m;\n  }\n  T& operator[] (FACE f) { return var[id[f]]; }\n  const T& operator[] (FACE f) const { return var[id[f]]; }\n  bool operator==(const dice<T>& b) const {\n    const dice<T> &a = *this;\n    return a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n           a[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n           a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n  }\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  vector<dice> all_rolls() {\n    vector<dice> ret;\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        ret.push_back(*this);\n    return ret;\n  }\n  bool equivalent_to(const dice& di) {\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        if (*this == di) return true;\n    return false;\n  }\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    T tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n  T var[6];\n  int id[6];\n};\n\nstring cols[]={\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\nmap<string, int> mp;\n\nint main() {\n  \n  for(int i=0; i<6; i++) mp[cols[i]] = i;\n  int N;\n  while(cin >> N && N) {\n    vector<dice<int> > d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      d.push_back(dice<int>(v[0],v[1],v[2],v[3],v[4],v[5]));\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equivalent_to(d[j])) {\n            cnt ++;\n            d.erase(d.begin()+i); update = true; goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << N-cnt << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <iostream>\n\nusing namespace std;\n\nint n;\nstring str[31][6];\n\nbool roll(int x,int y){\n\tbool flag2=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][1];\n\t\tstr[y][1]=str[y][2];\n\t\tstr[y][2]=str[y][4];\n\t\tstr[y][4]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tbool flag=true;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tif(str[y][j]!=str[x][j])flag=false;\n\t\t}\n\t\tif(flag)flag2=true;\n\t}\n\treturn flag2;\n}\n\nbool check(int x,int y){\n\tbool flag=true;\n\tif(roll(x,y))flag=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][1],str[y][4]);\n\tif(roll(x,y))flag=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][1],str[y][4]);\n\treturn flag;\n}\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin >> str[i][j];\n\t\t\t}\n\t\t}\n\t\tint cnt=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tbool flag=true;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(!check(i,j))flag=false;\n\t\t\t}\n\t\t\tif(flag)cnt++;\n\t\t}\n\t\tprintf(\"%d\\n\",n-cnt);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint check[6][6][6][6][6][6]={0};\n\t\t\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint s[7];\n\t\t\tfor(int j=1;j<=6;j++){\n\t\t\t\tstring a;\n\t\t\t\tcin>>a;\n\t\t\t\t\n\t\t\t\tswitch(a[0]){\n\t\t\t\t\tcase 'C':s[j]=0;break;\n\t\t\t\t\tcase 'Y':s[j]=1;break;\n\t\t\t\t\tcase 'R':s[j]=2;break;\n\t\t\t\t\tcase 'M':s[j]=3;break;\n\t\t\t\t\tcase 'G':s[j]=4;break;\n\t\t\t\t\tcase 'B':s[j]=5;break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint bin;\n\t\t\tfor(int i=0;i<4;i++){\n\t\t\t\tbin=s[2];\n\t\t\t\ts[2]=s[3];\n\t\t\t\ts[3]=s[5];\n\t\t\t\ts[5]=s[4];\n\t\t\t\ts[4]=bin;\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\tbin=s[1];\n\t\t\t\t\ts[1]=s[5];\n\t\t\t\t\ts[5]=s[6];\n\t\t\t\t\ts[6]=s[2];\n\t\t\t\t\ts[2]=bin;\n\t\t\t\t\t\n\t\t\t\t\tcheck[s[1]][s[2]][s[3]][s[4]][s[5]][s[6]]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint cont=0;\n\t\tfor(int a=0;a<6;a++)\n\t\tfor(int b=0;b<6;b++)\n\t\tfor(int c=0;c<6;c++)\n\t\tfor(int d=0;d<6;d++)\n\t\tfor(int e=0;e<6;e++)\n\t\tfor(int f=0;f<6;f++)\n\t\tcont+=check[a][b][c][d][e][f];\n\t\t\n\t\tprintf(\"%d\\n\",n-(cont/16));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fr first\n#define sc second\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef pair<int,pii> pip; \nconst int INF = (1<<25);\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\n\nint main(){\n  int n;\n  int ans=0;\n  int box[30][6];\n  bool b[30][30];\n  int samenum;\n  while(cin>> n,n){\n    ans=0;\n    //for(int i=0;i<n;i++){\n    //for(int j=0;j<n;j++){\n    //\tb[i][j]=false;\n    //}\n    //}\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tstring s;\n\tcin>> s;\n\tif(s==\"Red\") box[i][j]=0;\n\telse if(s==\"Yellow\") box[i][j]=1;\n\telse if(s==\"Blue\") box[i][j]=2;\n\telse if(s==\"Magenta\") box[i][j]=3;\n\telse if(s==\"Green\") box[i][j]=4;\n\telse if(s==\"Cyan\") box[i][j]=5;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n\tif(i==j) continue;\n\t//if(b[i][j]==true) continue;\n\t//b[i][j]=b[j][i]=true;\n\tfor(int k=0;k<6;k++){\n\t  if(box[i][0]==box[j][k]){\n\t    samenum=k; break;\n\t  }\n\t}\n\tif(box[j][samenum]-box[i][0]==0){\n\t  if(box[i][5]==box[j][5]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==1){\n\t  if(box[i][5]==box[j][4]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==2){\n\t  if(box[i][5]==box[j][3]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==3){\n\t  if(box[i][5]==box[j][2]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==4){\n\t  if(box[i][5]==box[j][1]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==5){\n\t  if(box[i][5]==box[j][0]){\n\t    ans++;\n\t  }\n\t}\n      }\n    }\n    cout<< ans/2<< endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<25;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n\nusing namespace std;\n \nenum { TOP = 0, BOTTOM, FRONT, BACK, LEFT, RIGHT };\nenum { WEST = 0, NORTH, EAST, SOUTH };\n \nclass Dice\n{\npublic:\n  int num[6];\n   \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n   \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n       \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n       \n    }\n     \n  }\n   \npublic:\n  \n  Dice() {\n  }\n  \n  Dice(int t, int f)\n  {\n    num[TOP] = t; num[BOTTOM] = 7-t;\n    num[FRONT] = f; num[BACK] = 7-f;\n     \n    switch(num[TOP])\n      {\n      case 1:\n        switch(num[FRONT]) {\n        case 3: num[LEFT] = 2; break;\n        case 5: num[LEFT] = 3; break;\n        case 4: num[LEFT] = 5; break;\n        case 2: num[LEFT] = 4; break;\n        }\n        break;\n      case 2:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 3; break;\n        case 3: num[LEFT] = 6; break;\n        case 4: num[LEFT] = 1; break;\n        case 6: num[LEFT] = 4; break;\n        }\n        break;\n      case 3:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 5; break;\n        case 2: num[LEFT] = 1; break;\n        case 6: num[LEFT] = 2; break;\n        case 5: num[LEFT] = 6; break;\n        }\n        break;\n      case 4:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 2; break;\n        case 2: num[LEFT] = 6; break;\n        case 5: num[LEFT] = 1; break;\n        case 6: num[LEFT] = 5; break;\n        }\n        break;\n      case 5:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 4; break;\n        case 3: num[LEFT] = 1; break;\n        case 4: num[LEFT] = 6; break;\n        case 6: num[LEFT] = 3; break;\n        }\n        break;\n      case 6:\n        switch(num[FRONT]) {\n        case 2: num[LEFT] = 3; break;\n        case 3: num[LEFT] = 5; break;\n        case 4: num[LEFT] = 2; break;\n        case 5: num[LEFT] = 4; break;\n        }\n        break;\n      }\n    num[RIGHT] = 7-num[LEFT];\n  }\n\n  bool operator == (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      for(int j=0; j<4; j++) {\n        rhs.roll(NORTH);\n        rhs.roll(WEST);\n        for(int k=0; k<6; k++) if(num[k]!=rhs.num[k]) continue;\n        return true;\n      }\n    }\n    return false;\n  }\n};\n\nstring cols[]={\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\nmap<string, int> mp;\n\nint main() {\n  \n  for(int i=0; i<6; i++) mp[cols[i]] = i;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      string s; int t, f;\n      cin >> s; t = mp[s];\n      cin >> s; f = mp[s];\n      d.push_back(Dice(t, f));\n      for(int j=2; j<6; j++) {\n        string s; cin >> s;\n      }\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i] == d[j]) {\n            d.erase(d.begin()+i); update = true; goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << d.size() << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <string>\n#include <set>\nusing namespace std;\nclass Dice {\npublic:\n  int c[6];\n  bool operator <(const Dice &d) const {\n    for(int i = 0; i < 6; i++) {\n      if(c[i] != d.c[i]) return c[i] < d.c[i];\n    }\n    return false;\n  }\n\n  void sort() {\n    for(int i = 0; i < 6; i++) {\n      if(c[i] == 0) {\n\tswitch(i) {\n\tcase 0: break;\n\tcase 1: rotateY(-1); break;\n\tcase 2: rotateX(-1); break;\n\tcase 3: rotateX(1); break;\n\tcase 4: rotateY(1); break;\n\tcase 5: rotateX(2); break;\n\t}\n\tbreak;\n      }\n    }\n    int minc = 9999;\n    int pos;\n    for(int i = 1; i <= 4; i++) {\n      if(c[i] < minc) {\n\tminc = c[i];\n\tpos = i;\n      }\n    }\n    switch(pos) {\n    case 1: break;\n    case 2: rotateZ(-1); break;\n    case 3: rotateZ(1); break;\n    case 4: rotateZ(2); break;\n    }\n  }\n\n  void rotateX(int dx) {\n    int d = 1;\n    if(dx < 0) {\n      d *= -1;\n      dx *= -1;\n    }\n    for(int i = 0; i < dx; i++) {\n      int tmp;\n      if(d > 0) {\n\ttmp = c[0];\n\tc[0] = c[3];\n\tc[3] = c[5];\n\tc[5] = c[2];\n\tc[2] = tmp;\n      } else {\n\ttmp = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = tmp;\n      }\n    }\n  }\n  void rotateY(int dy) {\n    int d = 1;\n    if(dy < 0) {\n      d *= -1;\n      dy *= -1;\n    }\n    for(int i = 0; i < dy; i++) {\n      int tmp;\n      if(d > 0) {\n\ttmp = c[0];\n\tc[0] = c[4];\n\tc[4] = c[5];\n\tc[5] = c[1];\n\tc[1] = tmp;\n      } else {\n\ttmp = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = tmp;\n      }\n    }\n  }\n  void rotateZ(int dz) {\n    int d = 1;\n    if(dz < 0) {\n      d *= -1;\n      dz *= -1;\n    }\n    for(int i = 0; i < dz; i++) {\n      int tmp;\n      if(d > 0) {\n\ttmp = c[1];\n\tc[1] = c[3];\n\tc[3] = c[4];\n\tc[4] = c[2];\n\tc[2] = tmp;\n      } else {\n\ttmp = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = tmp;\n      }\n    }\n  }\n};\n\n\n\nint main() {\n  map<string, int> color;\n  color[\"Red\"] = 0;\n  color[\"Yellow\"] = 1;\n  color[\"Blue\"] = 2;\n  color[\"Magenta\"] = 3;\n  color[\"Green\"] = 4;\n  color[\"Cyan\"] = 5;\n\n  while(1) {\n    int n;\n    set<Dice> s;\n    Dice dice;\n    cin >> n;\n    if(n == 0) break;\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < 6; j++) {\n\tstring str;\n\tcin >> str;\n\tdice.c[j] = color[str];\n      }\n      dice.sort();\n      s.insert(dice);\n    }\n    cout << n - s.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<vector>\n#include<string>\n#include<algorithm>\nusing namespace std;\nint colornum(string color){\n  //cout<<color<<endl;\n  if(color==\"Red\")return 0;\n  if(color==\"Yellow\")return 1;\n  if(color==\"Blue\")return 2;\n  if(color==\"Magenta\")return 3;\n  if(color==\"Green\")return 4;\n  if(color==\"Cyan\")return 5;\n  return 0;\n}\n\nint main(){\n  int n;\n  while(true){\n    cin>>n;\n    if(!n)break;\n    set<int> dice;\n    for(int i=0;i<n;i++){\n      int d=0;\n      int red = 0;\n      vector<string> colors(6);\n      for(int j=0;j<6;j++){\n\tcin>>colors[j];\n\tif (colors[j]==\"Red\")\n\t  red = j;\n      }\n      d = colornum(colors[5-red])*1296;\n      int side[4];\n      if(red==0)side[0] = 1,side[1]=2;\n      if(red==1)side[0] = 0,side[1]=3;\n      if(red==2)side[0] = 0,side[1]=1;\n      if(red==3)side[0] = 0,side[1]=4;\n      if(red==4)side[0] = 0,side[1]=2;\n      if(red==5)side[0] = 1,side[1]=3;\n      side[2] = 5-side[0];\n      side[3] = 5-side[1];\n      int dmin = 1296;\n      for(int j=0;j<4;j++){\n\tint dd = 0;\n\tfor(int k=0;k<4;k++){\n\t  dd *= 6;\n\t  dd += colornum(colors[side[(j+k)%4]]);\n\t}\n\tif(dd<dmin)dmin=dd;\n      }\n      d += dmin;\n      dice.insert(d);\n    }\n    cout<<(n-dice.size())<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring face[6];\nint n;\nint main(){\n  while(cin >> n, n){\n    set<string> ans;\n    for(int j = 0;j < n;j++){\n      cin >> face[0] >> face[1] >> face[2] >> face[3] >> face[4] >> face[5];\n      string p;\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[1]);\n\tswap(face[1], face[5]);\n\tswap(face[5], face[3]);\n      }\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[2]);\n\tswap(face[2], face[5]);\n\tswap(face[5], face[4]);\n      }\n      for(int i = 1;i < 5;i++){\n\tif(i == 1)p = face[i];\n\tp = min(p, face[i]);\n      }\n      while(face[1] != p){\n\tswap(face[1], face[4]);\n\tswap(face[3], face[4]);\n\tswap(face[2], face[3]);\n      }\n      string res =\"\";\n      for(int i = 0;i < 6;i++){\n\tres += face[i][0];\n      }\n      ans.insert(res);\n    }\n    cout << n - ans.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#include <sstream>\n#include <cmath>\n#include <queue>\n\nusing namespace std;\n\nbool check[6][6][6][6][6][6];\n\nint index(string str){\n\tif(str == \"Cyan\"){\n\t\treturn 0;\n\t}else if(str == \"Yellow\"){\n\t\treturn 1;\n\t}else if(str == \"Red\"){\n\t\treturn 2;\n\t}else if(str == \"Magenta\"){\n\t\treturn 3;\n\t}else if(str == \"Green\"){\n\t\treturn 4;\n\t}else{\n\t\treturn 5;\n\t}\n}\n\nvoid rotate_1(int col[6]){\n\tint dummy = col[1];\n\tcol[1] = col[2];\n\tcol[2] = col[4];\n\tcol[4] = col[3];\n\tcol[3] = dummy;\n}\n\nvoid rotate_2(int col[6]){\n\tint dummy = col[3];\n\tcol[3] = col[0];\n\tcol[0] = col[2];\n\tcol[2] = col[5];\n\tcol[5] = dummy;\n}\n\nvoid rotate_3(int col[6]){\n\tint dummy = col[0];\n\tcol[0] = col[1];\n\tcol[1] = col[5];\n\tcol[5] = col[4];\n\tcol[4] = dummy;\n}\n\nvoid fill_rotate(int col[6]){\n\tfor(int i = 0; i < 4; i++){\n\t\tfor(int j = 0; j < 4; j++){\n\t\t\trotate_2(col);\n\t\t\tcheck[col[0]][col[1]][col[2]][col[3]][col[4]][col[5]] = true;\n\t\t\tfor(int piyo = 0; piyo < 6; piyo++){\n\t\t\t\t//cout << col[piyo] << \" \";\n\t\t\t}\n\t\t\t//cout << endl;\n\t\t}\n\t\trotate_1(col);\n\t}\n\trotate_3(col);\n\tfor(int i = 0; i < 4; i++){\n\t\trotate_2(col);\n\t\tcheck[col[0]][col[1]][col[2]][col[3]][col[4]][col[5]] = true;\n\t\t\tfor(int piyo = 0; piyo < 6; piyo++){\n\t\t\t\t//cout << col[piyo] << \" \";\n\t\t\t}\n\t\t\t//cout << endl;\n\t}\n\trotate_3(col);\n\trotate_3(col);\n\tfor(int i = 0; i < 4; i++){\n\t\trotate_2(col);\n\t\tcheck[col[0]][col[1]][col[2]][col[3]][col[4]][col[5]] = true;\n\t\t\tfor(int piyo = 0; piyo < 6; piyo++){\n\t\t\t\t//cout << col[piyo] << \" \";\n\t\t\t}\n\t\t\t//cout << endl;\n\t}\n}\n\nint main(){\n\t\n\tint n;\n\t\n\twhile(true){\n\t\t\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tint col[6];\n\t\t\n\t\tfor(int i = 0; i < 6; i++){\n\t\tfor(int j = 0; j < 6; j++){\n\t\tfor(int k = 0; k < 6; k++){\n\t\tfor(int l = 0; l < 6; l++){\n\t\tfor(int m = 0; m < 6; m++){\n\t\tfor(int n = 0; n < 6; n++){\n\t\t\tcheck[i][j][k][l][m][n] = false;\n\t\t}}}}}}\n\t\t\n\t\tint ans = 0;\n\t\t\n\t\tfor(int loop = 0; loop < n; loop++){\n\t\t\tfor(int i = 0; i < 6; i++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\t\t\t\tcol[i] = index(str);\n\t\t\t}\n\t\t\t\n\t\t\tif(!check[col[0]][col[1]][col[2]][col[3]][col[4]][col[5]]){\n\t\t\t\tans++;\n\t\t\t\tfill_rotate(col);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << n - ans << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<ctype.h>\n#include<string>\n#include<cmath>\n#include<math.h>\n#include<vector>\n#include<stdlib.h>\n#include<algorithm>\n#include<functional>\n\nusing namespace std;\n\n#define OUT cout <<\n#define IN cin >>\n#define E << endl;\n#define FOR(i,a,b) for(int i = a;i < b;i++)\n\nint n;\n\nvoid input(){\n\tIN n;\n}\n\nclass Dice{\n\tprivate:\n\t\tstring temp;\n\tpublic:\n\t\tstring c[6];\n\t\tDice(){}\n\t\tvoid roll(int axis){\n\t\t\tif(axis == 1){\n\t\t\t\ttemp = c[1];\n\t\t\t\tc[1] = c[2];\n\t\t\t\tc[2] = c[6];\n\t\t\t\tc[6] = c[5];\n\t\t\t\tc[5] = temp;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ttemp = c[2];\n\t\t\t\tc[2] = c[4];\n\t\t\t\tc[4] = c[5];\n\t\t\t\tc[5] = c[3];\n\t\t\t\tc[3] = temp;\n\t\t\t}\n\t\t}\n\t\tvoid getd(string& c1, string& c2, string& c3, string& c4, string& c5, string& c6){\n\t\t\tc1 = c[0];\n\t\t\tc2 = c[1];\n\t\t\tc3 = c[2];\n\t\t\tc4 = c[3];\n\t\t\tc5 = c[4];\n\t\t\tc6 = c[5];\n\t\t}\n\n\t\tvoid input(){\n\t\t\tFOR(i,0,6){\n\t\t\t\tIN c[i];\n\t\t\t}\n\t\t}\n\n};\n\nint main(){\n\twhile(true){\n\t\tinput();\n\t\tif(n == 0)break;\n\t\tint count = 0;\n\t\tbool match[n];\n\t\tFOR(i, 0, n){\n\t\t\tmatch[i] = false;\n\t\t}\n\t\tstring str1[6];\n\t\tstring str2[6];\t\n\n\t\tvector<Dice> dice;\n\t\n\t\tdice.resize(n);\n\t\tFOR(i, 0, n){\n\t\t\tdice[i].input();\n\t\t}\n\t\t\t\n\n\t\tFOR(i, 0, n - 1){\n\t\t\tFOR(j, i + 1, n){\n\t\t\t\tbool flag2 = false;\n\t\t\t\tFOR(x, 0, 4){\n\t\t\t\t\tFOR(y, 0, 4){\n\t\t\t\t\t\tdice[i].getd(str1[0],str1[1],str1[2],str1[3],str1[4],str1[5]);\n\t\t\t\t\t\tdice[j].getd(str2[0],str2[1],str2[2], str2[3],str2[4],str2[5]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbool flag1 = true;\n\t\t\t\t\t\tFOR(d, 0, 6){\t\t\t\t\t\n\t\t\t\t\t\t\tif(str1[d] != str2[d]){\n\t\t\t\t\t\t\t\tflag1 == false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(flag1){\n\t\t\t\t\t\t\tif(match[i] == false){\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tflag2 = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmatch[j] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflag1 = true;\n\t\t\t\t\t\n\t\t\t\t\t\tdice[i].roll(y);\n\t\t\t\t\t}\n\t\t\t\t\tdice[i].roll(x);\n\t\t\t\t}\n\t\t\t\t//OUT i << \" \" << j << \" \" << flag2 E\n\t\t\t\tif(flag2){\n\t\t\t\t\tcount++;\n\t\t\t\t\t//OUT \"count++ \" << i << \" \" << j  E\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\n\t\tOUT count E\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\ntypedef vector<string> Dice;\n\nvoid rotate_front(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[4];\n\tdice[4] = dice[5];\n\tdice[5] = dice[1];\n\tdice[1] = t;\n}\n\nvoid rotate_right(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[3];\n\tdice[3] = dice[5];\n\tdice[5] = dice[2];\n\tdice[2] = t;\n}\n\nvoid rotate_clock(Dice& dice)\n{\n\tstring t = dice[1];\n\tdice[1] = dice[2];\n\tdice[2] = dice[4];\n\tdice[4] = dice[3];\n\tdice[3] = t;\n}\n\nvoid rotate(Dice& dice, string top)\n{\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_front(dice);\n\t}\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_right(dice);\n\t}\n}\n\nbool match(Dice d1, Dice d2)\n{\n\tif(d1[5] != d2[5]) return false;\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tbool is_match = true;\n\t\tfor(int j=1; j<5; j++)\n\t\t{\n\t\t\tif(d1[j] != d2[j])\n\t\t\t{\n\t\t\t\tis_match = false;\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t\tif(is_match) return true;\n\t\t\n\t\trotate_clock(d2);\n\t}\n\n\treturn false;\n}\n\nint main()\n{\n\tint T;\n\tstring color;\n\tvector<Dice> dices;\n\n\twhile(cin >> T, T)\n\t{\n\t\tdices = vector<Dice>(T);\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<6; i++)\n\t\t\t{\n\t\t\t\tcin >> color;\n\t\t\t\tdices[t].push_back(color);\n\t\t\t}\n\t\t\tif(t != 0) rotate(dices[t], dices[0][0]);\n\t\t}\n\n\t\tint match_count = 0;\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<t; i++)\n\t\t\t{\n\t\t\t\tif(match(dices[t], dices[i])) match_count++;\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", match_count);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[31][7],d[31],f[31],g,h,i,j,k,l,o,x;\n\tchar z[31][7][10];\n\twhile(1){\n\t\tscanf(\"%d\",&a);\n\t\tif(a==0) break;\n\t\tfor(i=0;i<a;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",z[i][j]);\n\t\t\t\tif(z[i][j][0]=='R') s[i][j]=0;\n\t\t\t\tif(z[i][j][0]=='Y') s[i][j]=1;\n\t\t\t\tif(z[i][j][0]=='B') s[i][j]=2;\n\t\t\t\tif(z[i][j][0]=='M') s[i][j]=3;\n\t\t\t\tif(z[i][j][0]=='G') s[i][j]=4;\n\t\t\t\tif(z[i][j][0]=='C') s[i][j]=5;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++) f[i]=0;\n\t\tg=0;\n\t\tfor(i=0;i<a-1;i++){\n\t\t\tif(f[i]==0){\n\t\t\t\tfor(j=i+1;j<a;j++){\n\t\t\t\t\tx=0;\n\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\telse x++;\n\t\t\t\t\t}\n\t\t\t\t\tif(x==6){\n\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\tg++;\n\t\t\t\t\t}\n\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\tfor(k=0;k<4;k++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=h;\n\t\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\t\t//if(s[i][0]==s[j][0]) for(o=0;o<6;o++) printf(\"%d %d\\n\",s[i][o],s[j][o]);\n\t\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(f[j]==1) break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\t\t//if(s[i][0]==s[j][0])\tfor(o=0;o<6;o++) printf(\"%d %d\\n\",s[i][o],s[j][o]);\n\t\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=h;\n\n\t\t\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\t\t\th=s[j][3];\n\t\t\t\t\t\t\t\ts[j][3]=s[j][5];\n\t\t\t\t\t\t\t\ts[j][5]=s[j][2];\n\t\t\t\t\t\t\t\ts[j][2]=s[j][0];\n\t\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t\t//\tif(s[i][0]==s[j][0])for(o=0;o<6;o++) printf(\"%d %d\\n\",s[i][o],s[j][o]);\n\t\t\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\t\t\ts[j][2]=s[j][5];\n\t\t\t\t\t\t\t\ts[j][5]=s[j][3];\n\t\t\t\t\t\t\t\ts[j][3]=s[j][0];\n\t\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",g);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstruct kyu_bu{\n  string kyu[7];\n  bool h;\n};\nkyu_bu p[30];\nvoid North(int i){\n  string mem;\n  mem = p[i].kyu[1];\n  p[i].kyu[1] = p[i].kyu[2];\n  p[i].kyu[2] = p[i].kyu[6];\n  p[i].kyu[6] = p[i].kyu[5];\n  p[i].kyu[5] = mem;\n}\nvoid East(int i){\n  string mem;\n  mem = p[i].kyu[1];\n  p[i].kyu[1] = p[i].kyu[4];\n  p[i].kyu[4] = p[i].kyu[6];\n  p[i].kyu[6] = p[i].kyu[3];\n  p[i].kyu[3] = mem;\n}\nvoid Right(int i){\n  string mem;\n  mem = p[i].kyu[2];\n  p[i].kyu[2] = p[i].kyu[3];\n  p[i].kyu[3] = p[i].kyu[5];\n  p[i].kyu[5] = p[i].kyu[4];\n  p[i].kyu[4] = mem;\n}\nint main(){\n  int n;\n  int roop[7]={0,2,3,4,5,6,1};\n  while(cin >> n){\n    if(n==0) break;\n    int count = 0;\n    for(int i=0;i<n;i++){\n      p[i].h = true;\n      for(int j=1;j<=6;j++) cin >> p[i].kyu[j];\n    }\n    for(int i=0;i<n-1;i++){\n      if(!p[i].h) continue;\n      for(int j=0;j<=12;j++){\n\tif(j>=1&&j<=4) North(i);\n\telse if(j>=5&&j<=8) East(i);\n\telse if(j>=9&&j<=12)Right(i);\n\tif(j==0||j%4!=0){\n\t  for(int k=i+1;k<n;k++){\n\t    if(!p[k].h) continue;\n\t    for(int g=1;g<=6;g++){\n\t      if(p[i].kyu[1]==p[k].kyu[g]){\n\t\tint strat = roop[g];\n\t\tint cou = 1;\n\t\tint index = 2;\n\t\twhile(cou!=6){\n\t\t  if(p[i].kyu[index]!=p[k].kyu[strat]) break;\n\t\t  cou++;\n\t\t  index++;\n\t\t  strat = roop[strat];   \n\t\t}\n\t\tif(cou==6){\n\t\t  count++;\n\t\t  p[k].h = false;\n\t\t}\n\t      }\n\t    }\n\t  }\n\t}\n      }\n    }\n    cout << count << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define rep2(x,from,to) for(int x=(from);(x)<(to);(x)++)\n#define rep(x,to) rep2(x,0,to)\nusing namespace std;\nstring color[6] =  {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\nint* south(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = buf;\n\treturn c;\n}\nint* east(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nint* round(int c[6]) {\n\tint buf = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nbool check(int d1[6], int d2[6]) {\n\trep(i,6) {\n\t\tif(i%2)d1 = south(d1);\n\t\telse d1 = east(d1);\n\t\trep(j,4) {\n\t\t\td1 = round(d1);\n\t\t\tbool f = 1;\n\t\t\trep(k,6) {\n\t\t\t\tif(d1[k] != d2[k]) {\n\t\t\t\t\tf = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\tif(f) return true;\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tint n, d[30][6] = {};\n\tstring s;\n\twhile(cin >> n, n) {\n\t\trep(i,n) {\n\t\t\trep(j,6) {\n\t\t\t\tcin >> s;\n\t\t\t\trep(k,6) {\n\t\t\t\t\tif(color[k] == s) d[i][j] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint a[30];\n\t\tbool used[30] = {};\n\t\trep(i,n) a[i] = i;\n\t\trep(i,n) {\n\t\t\trep2(j,i+1,n) {\n\t\t\t\tif(check(d[i],d[j])) {\n\t\t\t\t\ta[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trep(i,n) {\n\t\t\tint x = i;\n\t\t\twhile(a[x]!=x) {\n\t\t\t\ta[x] = a[a[x]];\n\t\t\t\tx = a[x];\n\t\t\t}\n\t\t}\n\t\trep(i,n) used[a[i]] = true;\n\t\tint ret = 0;\n\t\trep(i,n) {\n\t\t\tif(!used[i]) ret++;\n\t\t}\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n * src.cpp\n *\n *  Created on: 2016/07/27\n *      Author: joi\n */\n\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,a) FOR(i,0,a)\n\nconst int MAX_N=30;\n\nstruct dice{\n\tchar c[7];\n\tvoid move(int f){\n\t\tif (f==1){\n\t\t\tswap(c[1],c[3]);\n\t\t\tswap(c[3],c[4]);\n\t\t\tswap(c[3],c[6]);\n\t\t}else if (f==2){\n\t\t\tswap(c[1],c[2]);\n\t\t\tswap(c[2],c[5]);\n\t\t\tswap(c[2],c[6]);\n\t\t}else{\n\t\t\tswap(c[2],c[3]);\n\t\t\tswap(c[3],c[4]);\n\t\t\tswap(c[3],c[5]);\n\t\t}\n\t}\n\tbool operator == (dice &a){\n\t\tif (c[1]!=a.c[1]){\n\t\t\tREP(i,4){\n\t\t\t\ta.move(1);\n\t\t\t\tif (c[1]==a.c[1]) break;\n\t\t\t}\n\t\t\tif (c[1]!=a.c[1]){\n\t\t\t\tREP(i,4){\n\t\t\t\t\ta.move(2);\n\t\t\t\t\tif (c[1]==a.c[1]) break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (c[6]!=a.c[6]) return false;\n\t\tREP(i,4){\n\t\t\ta.move(3);\n\t\t\tif (c[2]==a.c[2]) break;\n\t\t}\n\t\tFOR(i,1,7){\n\t\t\tif (c[i]!=a.c[i]){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n};\n\nint N;\ndice d[MAX_N];\n\nint main(){\n\tdo{\n\t\tcin>>N;\n\t\tif (N){\n\t\t\tcin.ignore();\n\t\t\tstring s;\n\t\t\tREP(i,N){\n\t\t\t\tREP(j,6){\n\t\t\t\t\tcin>>s;\n\t\t\t\t\td[i].c[j+1]=s[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ans=0;\n\t\t\tREP(i,N){\n\t\t\t\tREP(j,i){\n\t\t\t\t\tif (d[i]==d[j]){\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcout<<ans<<endl;\n\t\t}\n\t}while (N);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,n) FOR(i,0,n)\n#define ALL(v) (v).begin(),(v).end()\n#define fi first\n#define se second\n\ntemplate<typename A, typename B> inline bool chmax(A &a, B b) { if (a<b) { a=b; return 1; } return 0; }\ntemplate<typename A, typename B> inline bool chmin(A &a, B b) { if (a>b) { a=b; return 1; } return 0; }\n\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<int, pll> pip;\nconst ll INF = 1ll<<29;\nconst ll MOD = 1000000007;\nconst double EPS  = 1e-9;\n\nstruct Dice {\n\tint num[6]; // top, bottom, front, back, right, left;\n\tstatic const int rd[3][4]; //?????¢??????\n\t\n\tDice(int top, int bottom, int front, int back, int right, int left) {\n\t\tnum[0] = top;\t\tnum[1] = bottom;\n\t\tnum[2] = front;\tnum[3] = back;\n\t\tnum[4] = right;\tnum[5] = left;\n\t}\n\tDice(const Dice &d) {\n\t\tcopy(d.num, d.num + 6, num);\n\t}\n\t\n\tbool operator < (const Dice &d) const {\n\t\tREP(i, 6) if (num[i] != d.num[i]) {\n\t\t\treturn num[i] < d.num[i];\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tvoid X() { rotate(0); }\n\tvoid Y() { rotate(1); }\n\tvoid Z() { rotate(2); }\n\t\n\tvoid rotate(int p) {\n\t\tint tmp = num[rd[p][0]];\n\t\t\n\t\tREP(i, 3) num[rd[p][i]] = num[rd[p][i + 1]];\n\t\tnum[rd[p][3]] = tmp;\n\t}\n\t\n\tDice unique() {\n\t\tDice now = *this;\n\t\t\n\t\tDice mi(*this);\n\t\t\n\t\tREP(i, 4) {\n\t\t\tREP(j, 4) {\n\t\t\t\tREP(k, 4) {\n\t\t\t\t\tif (now < mi) mi = now;\n\t\t\t\t\tnow.X();\n\t\t\t\t}\n\t\t\t\tnow.Y();\n\t\t\t}\n\t\t\tnow.Z();\n\t\t}\n\t\treturn mi;\n\t}\n\t\n\tvoid print() {\n\t\tREP(i, 6) printf(\"%d%c\", num[i], i == 5 ? '\\n' : ' ');\n\t}\n};\n\nconst int Dice::rd[3][4] = {\n\t{2,1,3,0}, // x\n\t{2,4,3,5}, // y\n\t{0,5,1,4}, // z\n};\n\nint main() {\n\tchar color[6][10] = { \"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\" };\n\tmap<string, int> trans;\n\tREP(i, 6) trans[color[i]] = i;\n\t\n\tint n;\n\twhile (cin >> n, n) {\n\t\tset<Dice> ss;\n\t\t\n\t\tREP(i, n) {\n\t\t\tint col[6] = {};\n\t\t\tREP(j, 6) {\n\t\t\t\tstring str; cin >> str;\n\t\t\t\tcol[j] = trans[str];\n\t\t\t}\n\t\t\t\n\t\t\tss.insert(Dice(col[0], col[5], col[1], col[4], col[2], col[3]).unique());\n\t\t}\n\t\t\n\t\tcout << n - ss.size() << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nchar t[30][100];\nint main(){\n\tint a;\n\twhile(scanf(\"%d\",&a),a){\n\t\tfor(int i=0;i<a;i++)\n\t\t\tfor(int j=0;j<6;j++)\n\t\t\t\tscanf(\"%s\",t[i]+j);\n\t\tint ret=0;\n\t\tfor(int i=0;i<a;i++){\n\t\t\tbool ok=true;\n\t\t\tchar p[4];\n\t\t\tp[0]=t[i][1];\n\t\t\tp[1]=t[i][2];\n\t\t\tp[2]=t[i][4];\n\t\t\tp[3]=t[i][3];\n\t\t\tchar q[4];\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(t[i][0]==t[j][0]){\n\t\t\t\t\tq[0]=t[j][1];\n\t\t\t\t\tq[1]=t[j][2];\n\t\t\t\t\tq[2]=t[j][4];\n\t\t\t\t\tq[3]=t[j][3];\n\t\t\t\t}\n\t\t\t\tif(t[i][0]==t[j][1]){\n\t\t\t\t\tq[0]=t[j][5];\n\t\t\t\t\tq[1]=t[j][2];\n\t\t\t\t\tq[2]=t[j][0];\n\t\t\t\t\tq[3]=t[j][3];\n\t\t\t\t}\n\t\t\t\tif(t[i][0]==t[j][2]){\n\t\t\t\t\tq[0]=t[j][5];\n\t\t\t\t\tq[1]=t[j][4];\n\t\t\t\t\tq[2]=t[j][0];\n\t\t\t\t\tq[3]=t[j][1];\n\t\t\t\t}\n\t\t\t\tif(t[i][0]==t[j][3]){\n\t\t\t\t\tq[0]=t[j][5];\n\t\t\t\t\tq[1]=t[j][1];\n\t\t\t\t\tq[2]=t[j][0];\n\t\t\t\t\tq[3]=t[j][4];\n\t\t\t\t}\n\t\t\t\tif(t[i][0]==t[j][4]){\n\t\t\t\t\tq[0]=t[j][0];\n\t\t\t\t\tq[1]=t[j][2];\n\t\t\t\t\tq[2]=t[j][5];\n\t\t\t\t\tq[3]=t[j][3];\n\t\t\t\t}\n\t\t\t\tif(t[i][0]==t[j][5]){\n\t\t\t\t\tq[0]=t[j][4];\n\t\t\t\t\tq[1]=t[j][2];\n\t\t\t\t\tq[2]=t[j][1];\n\t\t\t\t\tq[3]=t[j][3];\n\t\t\t\t}\n\t\t\t\tfor(int k=0;k<4;k++){\n\t\t\t\t\tbool OK=true;\n\t\t\t\t\tfor(int l=0;l<4;l++){\n\t\t\t\t\t\tif(p[l]!=q[(k+l)%4])OK=false;\n\t\t\t\t\t}\n\t\t\t\t\tif(OK)ok=false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!ok)ret++;\n\t\t}\n\t\tprintf(\"%d\\n\",ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint n;\n\nbool judge(vector<string>a, vector<string>b){\n  int ret = 1, j;\n  rep(i, 6){\n    for(j = 0; j < 6; j++) if(a[i] == b[j]) break;\n    if(a[5-i] != b[5-j]) ret = 0;\n  }\n\n  /*  rep(i, 6) cout << a[i] << \" \"; puts(\"\");\n  rep(i, 6) cout << b[i] << \" \"; puts(\"\");\n  cout << ret << endl;*/\n  return ret;\n}\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n\n    vector<vector<string> >c(n, vector<string>(6));\n    rep(i, n) rep(j, 6) cin >> c[i][j];\n\n    vector<int>f(n, 0);\n    rep(i, n){\n      if(f[i]) continue;\n      REP(j, i+1, n) if(judge(c[i], c[j])) f[j] = 1;\n    }\n    int res = 0;\n    rep(i, n) if(f[i]) res++;\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<24;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstring s[33][6];\nint check(int a,int b){\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][5])return 1;\n    return 0;\n}\nvoid r1(int a){\n  string p=s[a][0];\n  swap(s[a][0],s[a][2]);swap(s[a][2],s[a][5]);\n  swap(s[a][5],s[a][3]);s[a][3]=p;\n}\nvoid r2(int a){\n  string p=s[a][0];\n  swap(s[a][0],s[a][1]);swap(s[a][1],s[a][5]);\n  swap(s[a][5],s[a][4]);s[a][4]=p;\n}\nvoid r3(int a){\n  string p=s[a][1];\n  swap(s[a][1],s[a][2]);swap(s[a][2],s[a][4]);\n  swap(s[a][4],s[a][3]);s[a][3]=p;\n}\nint c7(int a,int b){\n  int p=0;\n  for(int i=0;i<4;i++){\n    r1(a);\n    for(int j=0;j<4;j++){\n      r2(a);\n      for(int k=0;k<4;k++){\n        r3(a);\n        if(check(a,b))p++;\n      }\n    }\n  }\n  return p;\n}\nint main(){\n  int n;\n  while(cin>>n,n){\n    int sum=0;\n    for(int i=0;i<n;i++)\n      for(int j=0;j<6;j++)\n        cin>>s[i][j];\n    for(int i=0;i<n;i++){\n      int p=0;\n      for(int j=i+1;j<n;j++){\n        if(c7(i,j))p++;\n      }\n      if(p)sum++;\n    }\n    cout<<sum<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<vector<string>> v;\n        for(int j=0; j < n; j++){\n            vector<string> c(6);\n            for(int i=0; i< 6; i++){\n                cin >> c[i];\n            }\n            string a, b, d;\n            a = c[0] + c[5]; b = c[1] + c[4]; d = c[2] + c[3];\n            sort(a.begin(), a.end());\n            sort(b.begin(), b.end());\n            sort(d.begin(), d.end());\n            vector<string> p(3);\n            p[0] = a; p[1] = b; p[2] = d;\n            sort(p.begin(), p.end());\n            bool is = false;\n            for(int i=0; i < v.size(); i++) if(v[i] == p) is = true;\n            if(!is)v.push_back(p);\n        }\n        cout << n-v.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include<cstdio>\n#include<cmath>\n#include<sstream>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<utility>\n#include<iomanip>\n#include<vector>\n#include<string>\n#include<queue>\n#include<stack>\n#include<map>\n#include<list>\n#include<set>\n#include<stdlib.h>\n#include<time.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\nusing namespace std;\nconst int dx[4] = { 0, 1, 0, -1 }, dy[4] = { 1, 0, -1, 0 };\nconst int dX[8] = { 0, 1, 1, 1, 0, -1, -1, -1 }, dY[8] = { 1, 1, 0, -1, -1, -1, 0, 1 };\nstruct XY\n{\n\tint x;\n\tint y;\n};\nvector<long long> Prime;\nvoid SieveOfEratosthenes(long long e) //setup vector<long long>Prime(~x)\n{\n\tbool *x=new bool[e];\n\tfor (long long i = 0; i <= e; i++)x[i] = false;\n\tfor (long long i = 2; i <= e; i++)\n\t{\n\t\tif (x[i]);\n\t\telse\n\t\t{\n\t\t\tPrime.push_back(i);\n\t\t\tfor (long long l = i; l <= e; l += i)x[l] = true;\n\t\t}\n\t}\n\treturn;\n}\nint StringToInt(string a)\n{\n\tstringstream ss;\n\tint x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nstring IntToString(int a)\n{\n\tstringstream ss;\n\tstring x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nint GetRandom(int MIN, int MAX)\n{\n\tstatic int flag=0;\n\tif (flag == 0)\n\t{\n\t\tsrand((unsigned int)time(NULL));\n\t\tflag = 1;\n\t}\n\treturn MIN + (int)(rand()*(MAX - MIN + 1.0) / (1.0 + RAND_MAX));\n}\nint in()\n{\n\tint x;\n\tcin >> x;\n\treturn x;\n}\nvoid outl(string a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid outl(int a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid out(string a)\n{\n\tcout << a;\n\treturn;\n}\nvoid out(int a)\n{\n\tcout << a;\n\treturn;\n}\n/*\n(char)'1' - (int)48 = (int)1;\n???1111181\n (char)A=(int)65\n (char)a=(int)97\n*/\n////////////////////////////////////////////////////\n\nint main()\n{\n\tint n;\n\twhile (cin >> n&&n)\n\t{\n\t\tint ans = 0;\n\t\tmap<string, int> z;\n\t\tfor (int l = 0; l < n; l++){\n\t\t\tstring a[6];\n\t\t\trep(i, 6)cin >> a[i];\n\t\t\tstring q, w, e;\n\t\t\tq = a[0] + a[5]; sort(q.begin(), q.end());\n\t\t\tw = a[1] + a[4]; sort(w.begin(), w.end());\n\t\t\te = a[2] + a[3]; sort(e.begin(), e.end());\n\t\t\tstring s[6];\n\t\t\ts[0] = q + w + e;\n\t\t\ts[1] = q + e + w;\n\t\t\ts[2] = w + q + e;\n\t\t\ts[3] = w + e + q;\n\t\t\ts[4] = e + q + w;\n\t\t\ts[5] = e + w + q;\n\t\t\tfor (int i = 0; i < 6; i++)\n\t\t\t{\n\t\t\t\tif (z[s[i]] == 1)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tz[s[i]] = 1;\n\t\t\t\t}\n\t\t\t\tif (i == 5)ans++;\n\t\t\t}\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n//#define int long long\nusing namespace std;\n\nstruct Dice\n{\n\tint c[6];\t//??????????????????\n\n\tDice() {}\n\n\t//c0:???, c1:??????, c2:???, c3:?\\\\, c4:???, c5:???\n\tDice(int c0, int c1, int c2, int c3, int c4, int c5)\n\t{\n\t\tc[0] = c0; c[1] = c1; c[2] = c2; c[3] = c3; c[4] = c4; c[5] = c5;\n\t}\n\n\tvoid temae()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[3]; c[3] = c[5]; c[5] = c[1];\n\t\tc[1] = temp;\n\t}\n\n\tvoid oku()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[1]; c[1] = c[5]; c[5] = c[3];\n\t\tc[3] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_migi()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[4]; c[4] = c[3]; c[3] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_hidari()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[2]; c[2] = c[3]; c[3] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_migi()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[4]; c[4] = c[5]; c[5] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_hidari()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[2]; c[2] = c[5]; c[5] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//1???????????\\?????????????????¢??????2????¨????????????´????????????????\\\\??????????????°3????\\\\????????????????????????\n\tvoid format()\n\t{\n\t\tif (c[0] == 1) {\n\t\t\t;\n\t\t} else if (c[1] == 1) {\n\t\t\toku();\n\t\t} else if (c[2] == 1) {\n\t\t\tz_hidari();\n\t\t} else if (c[3] == 1) {\n\t\t\ttemae();\n\t\t} else if (c[4] == 1) {\n\t\t\tz_migi();\n\t\t} else if (c[5] == 1) {\n\t\t\toku();\n\t\t\toku();\n\t\t}\n\n\t\tif (c[1] == 2)\n\t\t{\n\t\t\ty_migi();\n\t\t\ty_migi();\n\t\t} else if (c[2] == 2) {\n\t\t\ty_migi();\n\t\t} else if (c[4] == 2) {\n\t\t\ty_hidari();\n\t\t} else if (c[3] == 2) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (c[1] == 3)\n\t\t\t{\n\t\t\t\ty_migi();\n\t\t\t\ty_migi();\n\t\t\t} else if (c[2] == 3) {\n\t\t\t\ty_migi();\n\t\t\t} else if (c[4] == 3) {\n\t\t\t\ty_hidari();\n\t\t\t}\n\t\t}\n\t}\n\n\tbool operator == (const Dice &d) const {\n\t\tDice td1 = Dice(c[0], c[1], c[2], c[3], c[4], c[5]);\n\t\tDice td2 = d;\n\n\t\ttd1.format();\n\t\ttd2.format();\n\n\t\trep(i,6)\n\t\t{\n\t\t\tif (td1.c[i] != td2.c[i]) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nint n;\nmap<string, int> c2n;\nstring color[6];\nint cc[6];\nDice d[30];\nbool used[30];\n\nsigned main()\n{\n\tc2n[\"Red\"] = 1;\n\tc2n[\"Yellow\"] = 2;\n\tc2n[\"Blue\"] = 3;\n\tc2n[\"Magenta\"] = 4;\n\tc2n[\"Green\"] = 5;\n\tc2n[\"Cyan\"] = 6;\n\n\twhile (true)\n\t{\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\trep(j,n)\n\t\t{\n\t\t\trep(i,6) cin >> color[i];\n\t\t\tcc[0] = c2n[color[0]];\n\t\t\tcc[1] = c2n[color[1]];\n\t\t\tcc[2] = c2n[color[2]];\n\t\t\tcc[3] = c2n[color[4]];\n\t\t\tcc[4] = c2n[color[3]];\n\t\t\tcc[5] = c2n[color[5]];\n\t\t\td[j] = Dice(cc[0], cc[1], cc[2], cc[3], cc[4], cc[5]);\n\t\t}\n\n\t\trep(i,n) used[i] = false;\n\n\t\tint ans = 0;\n\t\tfor (int i=0; i<n; i++)\n\t\t{\n\t\t\tfor (int j=i+1; j<n; j++)\n\t\t\t{\n\t\t\t\tif (d[i] == d[j] && used[j] == false)\n\t\t\t\t{\n\t\t\t\t\tans++;\n\t\t\t\t\tused[j] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint main(void){\n\twhile(1){\n\t\tint n;\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tint sonzai[6][6][6][6][6][6];\n\t\trep(a,6){\n\t\t\trep(b,6){\n\t\t\t\trep(c,6){\n\t\t\t\t\trep(d,6){\n\t\t\t\t\t\trep(e,6){\n\t\t\t\t\t\t\trep(f,6){\n\t\t\t\t\t\t\t\tsonzai[a][b][c][d][e][f]=0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint now[6];\n\t\tfor(int q=0;q<n;q++){\n\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\tchar str[10];\n\t\t\t\tscanf(\"%s\",str);\n\t\t\t\tswitch(str[0]){\n\t\t\t\t\tcase 'C':now[i]=0;break;\n\t\t\t\t\tcase 'Y':now[i]=1;break;\n\t\t\t\t\tcase 'R':now[i]=2;break;\n\t\t\t\t\tcase 'M':now[i]=3;break;\n\t\t\t\t\tcase 'G':now[i]=4;break;\n\t\t\t\t\tcase 'B':now[i]=5;break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint temp;\n\t\t\tfor(int i=0;i<4;i++){\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\t\n\t\t\t\t\tsonzai[now[0]][now[1]][now[2]][now[3]][now[4]][now[5]]=1;\n\t\t\t\t\t\n\t\t\t\t\ttemp=now[2];\n\t\t\t\t\tnow[2]=now[4];\n\t\t\t\t\tnow[4]=now[3];\n\t\t\t\t\tnow[3]=now[1];\n\t\t\t\t\tnow[1]=temp;\n\t\t\t\t}\n\t\t\t\ttemp=now[0];\n\t\t\t\tnow[0]=now[2];\n\t\t\t\tnow[2]=now[5];\n\t\t\t\tnow[5]=now[3];\n\t\t\t\tnow[3]=temp;\n\t\t\t}\n\t\t}\n\t\tint cont=0;\n\t\trep(a,6){\n\t\t\trep(b,6){\n\t\t\t\trep(c,6){\n\t\t\t\t\trep(d,6){\n\t\t\t\t\t\trep(e,6){\n\t\t\t\t\t\t\trep(f,6){\n\t\t\t\t\t\t\t\tcont+=sonzai[a][b][c][d][e][f];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-cont/16);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\nenum{TOP=0,FRONT,RIGHT,LEFT,BACK,BOTTOM}; \n#define rotate_swap(x,a,b,c,d) swap(x.m[a],x.m[b]);swap(x.m[b],x.m[c]);swap(x.m[c],x.m[d]);\n\n\nclass Dice{\npublic:\n  int m[6];\n  bool operator<(const Dice &a)const{\n    rep(i,6)if (m[i] != a.m[i])return m[i] < a.m[i];\n    return false;\n  }\n};\n \nvoid rotate_r(Dice &x){\n  rotate_swap(x,TOP,LEFT,BOTTOM,RIGHT);\n}\n \nvoid rotate_l(Dice &x){\n rotate_swap(x,TOP,RIGHT,BOTTOM,LEFT);\n}\n \nvoid rotate_f(Dice &x){\n rotate_swap(x,TOP,BACK,BOTTOM,FRONT);\n}\n \nvoid rotate_b(Dice &x){\n rotate_swap(x,TOP,FRONT,BOTTOM,BACK);\n}\n \nvoid rotate_cw(Dice &x){\n  rotate_swap(x,BACK,LEFT,FRONT,RIGHT);\n}\n \nvoid rotate_ccw(Dice &x){\n  rotate_swap(x,BACK,RIGHT,FRONT,LEFT);\n}\n \nDice data[24];\n\nvoid generate_all(Dice &x){\n  rep(i,6){\n   rep(j,4){\n     data[i*4+j]=x;\n     rotate_cw(x);\n   }\n   if (i%2 == 0)rotate_r(x);\n   else rotate_f(x);\n }\n}\n\nmain(){\n  string hoge[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"};\n  int n;\n  while(cin>>n && n){\n    set<Dice> S;\n    rep(i,n){\n      int a[6];\n      rep(j,6){\n\tstring tmp;\n\tcin>>tmp;\n\trep(k,6)if (hoge[k] == tmp)a[j]=k;\n      }\n      Dice d={a[0],a[1],a[2],a[3],a[4],a[5]};\n      generate_all(d);\n      bool isok=true;\n      rep(j,24){\n\tif (S.find(data[j]) != S.end()){\n\t  isok=false;\n\t}\n      }\n      if (isok)S.insert(d);\n    }\n    cout << n-S.size() << endl;\n  }\n  return false;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint Dice[6][6] = { { 1,5,2,3,0,4 },{ 4,0,2,3,5,1 },{ 3,1,0,5,4,2 },{ 2,1,5,0,4,3 },{ 0,2,4,1,3,5 },{ 0,3,1,4,2,5 } }, power[6] = { 1,3,9,27,81,243 };\nstruct Saikoro { int x[6]; }; Saikoro T[30]; int n, vis[30]; char F[7] = \"CYRMGB\"; bool G[30][30];\nbool bfs(int p, int q) {\n\tfor (int i = 0; i < 729; i++) {\n\t\tint bit[6]; for (int j = 0; j < 6; j++) { bit[j] = (i / power[j]) % 3; }\n\t\tSaikoro U = T[p];\n\t\tfor (int j = 0; j < 6; j++) {\n\t\t\tfor (int k = 0; k <= bit[j]; k++) {\n\t\t\t\tSaikoro V = U; for (int l = 0; l < 6; l++)V.x[l] = U.x[Dice[j][l]]; U = V;\n\t\t\t}\n\t\t}\n\t\tbool OK = true; for (int j = 0; j < 6; j++) { if (T[q].x[j] != U.x[j])OK = false; }\n\t\tif (OK == true)return true;\n\t}\n\treturn false;\n}\nint main() {\n\twhile (true) {\n\t\tfor (int i = 0; i < 30; i++) { for (int j = 0; j < 30; j++)G[i][j] = false; vis[i] = 0; }\n\t\tcin >> n; if (n == 0)break; for (int i = 0; i < n; i++) { for (int j = 0; j < 6; j++) { string S; cin >> S; for (int k = 0; k < 6; k++) { if (S[0] == F[k])T[i].x[j] = k; } } }\n\t\tfor (int i = 0; i < n; i++) { for (int j = 0; j < n; j++) { if (i == j)continue; G[i][j] = bfs(i, j); } }\n\t\tint cnt = 0; for (int i = 0; i < n; i++) { if (vis[i] != 0)continue; cnt++; vis[i] = cnt; for (int j = 0; j < n; j++) { for (int k = 0; k < n; k++) { if (vis[k] != cnt)continue; for (int l = 0; l < n; l++) { if (G[k][l] == true)vis[l] = cnt; } } } }\n\t\tcout << n - cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\nclass UnionFind{\nprivate:\n  vector< int > rank, p;\n  void link(int x,int y){\n    if(rank[x] > rank[y]){\n      p[y] = x;\n    }else{\n      p[x] = y;\n      if(rank[x] == rank[y]) rank[y]++;\n    }\n  }\npublic:\n  UnionFind(int size){\n    rank.resize(size,0);\n    p.resize(size,0);\n    for(int i = 0; i < rank.size(); i++){\n      p[i] = i, rank[i] = 0;\n    }\n  }\n  void Unite(int x,int y){\n    if(Find(x) != Find(y)) link(Find(x),Find(y));\n  }\n  int Find(int x){\n    return( x != p[x] ? p[x] = Find(p[x]) : p[x]);\n  }\n};\n\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n\nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\n\nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      if(a == b) return(true); \n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    UnionFind uf(n);\n\n    boxes.resize(n);\n    int ret = 0;\n\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) uf.Unite(i, j);\n      }\n    }\n    for(int i = 0; i < n; i++) {\n      ret += uf.Find(i) == i;\n    }\n    cout << n - ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<30;\n\nstruct UnionFind {\n  vector<int> data;\n  UnionFind(int size) : data(size, -1) { }\n  bool unionSet(int x, int y) {\n    x = root(x); y = root(y);\n    if (x != y) {\n      if (data[y] < data[x]) swap(x, y);\n      data[x] += data[y]; data[y] = x;\n    }\n    return x != y;\n  }\n  bool findSet(int x, int y) {\n    return root(x) == root(y);\n  }\n  int root(int x) {\n    return data[x] < 0 ? x : data[x] = root(data[x]);\n  }\n  int size(int x) {\n    return -data[root(x)];\n  }\n};\n\nbool eq(string *s1, string *s2) {\n  REP(k,4) {\n    bool f = true;\n    REP(i,4) {\n      if (s1[i] != s2[(i+k)%4])\n        f = false;\n    }\n    if (f)\n      return true;\n  }\n  return false;\n}\n\nint main() {\n  int hoge[6][4] = {{1,3,4,2},{0,2,5,3},{0,4,5,1}\n                    ,{0,1,5,4},{0,3,5,2},{1,2,4,3}};\n  int n;\n  while(cin >> n, n) {\n    string side[n][4];\n    REP(iii,n) {\n      string s[6];\n      int p;\n      REP(i,6) {\n        cin >> s[i];\n        if (s[i] == \"Red\")\n          p = i;\n      }\n      REP(i,4) {\n        side[iii][i] = s[hoge[p][i]];\n//        cout << side[iii][i] << \" \";\n      }\n      //    cout << endl;\n    }\n    UnionFind u(n);\n    REP(i,n-1) {\n      for (int j=i+1; j<n; ++j) {\n        if (eq(side[i], side[j])) {\n          u.unionSet(i,j);\n        }\n      }\n    }\n    set<int> se;\n    REP(i,n) {\n      se.insert(u.root(i));\n    }\n    cout << n-se.size() << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\n#include <algorithm>\n#include <map>\n#include <set>\nusing namespace std;\n\nvector<string> rotate(vector<string> src,int t[]){\n\tvector<string> tmp(6);\n\tfor(int i = 0 ; i < 6 ; i++){\n\t\ttmp[t[i]] = src[i];\n\t}\n\treturn tmp;\n}\n\n\nvector<string> le(vector<string> src){\n\t//int s[] = {0,1,2,3,4,5};\n\tint t[] = {0,2,4,1,3,5};\n\treturn rotate(src,t);\n}\nvector<string> no(vector<string> src){\n\t//int s[] = {0,1,2,3,4,5};\n\tint t[] = {1,5,2,3,0,4};\n\treturn rotate(src,t);\n}\n\nvector<string> we(vector<string> src){\n\t//int s[] = {0,1,2,3,4,5};\n\tint t[] = {3,1,0,5,4,2};\n\treturn rotate(src,t);\n}\nint main(){\n\tint n;\n\twhile(cin >> n && n){\n\t\tset< vector<string> > c;\n\t\tint k = 0;\n\t\tfor(int i = 0 ; i < n ; i++){\n\t\t\tvector<string> s;\n\t\t\tfor(int j = 0 ; j < 6 ; j++){\n\t\t\t\tstring t;cin >> t;\n\t\t\t\ts.push_back(t);\n\t\t\t}\n\t\t\tif( c.count(s) ) k++;\n\t\t\tfor(int x = 0 ; x < 4 ; x++){\n\t\t\t\tfor(int y = 0 ; y < 4 ; y++){\n\t\t\t\t\tfor(int z = 0 ; z < 4 ; z++){\n\t\t\t\t\t\tc.insert(s);\n\t\t\t\t\t\ts = we(s);\n\t\t\t\t\t}\n\t\t\t\t\ts=le(s);\n\t\t\t\t}\n\t\t\t\ts=no(s);\n\t\t\t}\n\t\t}\n\t\tcout << k << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <map>\n#include <set>\n#include <algorithm>\nusing namespace std;\n\nstring d;\n\nvoid adjust() {\n    if (d[1] == '0') {\n        swap(d[4], d[0]);\n        swap(d[0], d[1]);\n        swap(d[1], d[5]);\n    } else if (d[2] == '0') {\n        swap(d[3], d[0]);\n        swap(d[0], d[2]);\n        swap(d[2], d[5]);\n    } else if (d[3] == '0') {\n        swap(d[5], d[2]);\n        swap(d[2], d[0]);\n        swap(d[0], d[3]);\n    } else if (d[4] == '0') {\n        swap(d[1], d[0]);\n        swap(d[0], d[4]);\n        swap(d[4], d[5]);\n    } else if (d[5] == '0') {\n        swap(d[0], d[5]);\n        swap(d[2], d[4]);\n    }\n    int min_idx = 1;\n    for (int i = 2; i <= 4; i++) {\n        if (d[i] < d[min_idx]) {\n            min_idx = i;\n        }\n    }\n    switch (min_idx) {\n    case 2:\n        swap(d[1], d[2]);\n        swap(d[2], d[4]);\n        swap(d[4], d[3]);\n        break;\n    case 3:\n        swap(d[1], d[3]);\n        swap(d[3], d[4]);\n        swap(d[4], d[2]);\n        break;\n    case 4:\n        swap(d[1], d[4]);\n        swap(d[2], d[3]);\n        break;\n    }\n}\n\nint main() {\n    map<string, char> cs;\n    cs[\"Red\"]     = '0';\n    cs[\"Yellow\"]  = '1';\n    cs[\"Blue\"]    = '2';\n    cs[\"Magenta\"] = '3';\n    cs[\"Green\"]   = '4';\n    cs[\"Cyan\"]    = '5';\n    int n;\n    while (cin >> n, n) {\n        set<string> s;\n        for (int i = 0; i < n; i++) {\n            d.clear();\n            for (int j = 0; j < 6; j++) {\n                string c;\n                cin >> c;\n                d += cs[c];\n            }\n            adjust();\n            s.insert(d);\n        }\n        cout << n - s.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101] = { 0 }, ruio = 0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tcout << b[i][j] << \",\";\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\t\tint tatuo = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1 &&b[i][1]!=-1) {\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\tif (tatuo > 0) break;\n\t\t\t\t}\n\t\t\t\tif (tatuo > 0) {\n\t\t\t\t\ttatuo = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a-ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstring s[10][6];\nint c7(int a,int b){\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][2]&&s[a][2]==s[b][3]&&s[a][3]==s[b][4]&&s[a][4]==s[b][1]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][3]&&s[a][2]==s[b][4]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][4]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][3]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][0]==s[b][3])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][2]&&s[a][2]==s[b][3]&&s[a][3]==s[b][4]&&s[a][4]==s[b][1]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][3]&&s[a][2]==s[b][4]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][4]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][3]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][5]==s[b][2])return 1;\n  return 0;\n}\nint main(){\n  int n;\n  while(cin>>n,n){\n    int sum=0;\n    for(int i=0;i<n;i++)\n      for(int j=0;j<6;j++)\n        cin>>s[i][j];\n    for(int i=0;i<n;i++){\n      int p=0;\n      for(int j=i+1;j<n;j++){\n        if(c7(i,j))p++;\n      }\n      if(p)sum++;\n    }\n    cout<<sum<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// 2011/08/01 Tazoe\n\n#include <iostream>\n#include <string>\nusing namespace std;\n\nvoid roll01(int c[6])\n{\n\tint tmp = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = tmp;\n}\n\nvoid roll02(int c[6])\n{\n\tint tmp = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = tmp;\n}\n\nvoid roll12(int c[6])\n{\n\tint tmp = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = tmp;\n}\n\nvoid rotate(int c[6])\n{\n\tif(c[0]==1){\n\t\t;\n\t}\n\telse if(c[1]==1){\n\t\troll01(c);\n\t}\n\telse if(c[2]==1){\n\t\troll02(c);\n\t}\n\telse if(c[3]==1){\n\t\troll02(c);\n\t\troll02(c);\n\t\troll02(c);\n\t}\n\telse if(c[4]==1){\n\t\troll01(c);\n\t\troll01(c);\n\t\troll01(c);\n\t}\n\telse if(c[5]==1){\n\t\troll02(c);\n\t\troll02(c);\n\t}\n\n\tif(c[1]==2){\n\t\t;\n\t}\n\telse if(c[2]==2){\n\t\troll12(c);\n\t}\n\telse if(c[4]==2){\n\t\troll12(c);\n\t\troll12(c);\n\t}\n\telse if(c[3]==2){\n\t\troll12(c);\n\t\troll12(c);\n\t\troll12(c);\n\t}\n\telse if(c[1]==3){\n\t\t;\n\t}\n\telse if(c[2]==3){\n\t\troll12(c);\n\t}\n\telse if(c[4]==3){\n\t\troll12(c);\n\t\troll12(c);\n\t}\n\telse if(c[3]==3){\n\t\troll12(c);\n\t\troll12(c);\n\t\troll12(c);\n\t}\n}\n\nint main()\n{\n\twhile(true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0)\n\t\t\tbreak;\n\n\t\tint C[30][6];\n\t\tfor(int i=0; i<n; i++){\n\t\t\tfor(int j=0; j<6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\t\t\t\tif(str==\"Red\")\n\t\t\t\t\tC[i][j] = 1;\n\t\t\t\telse if(str==\"Yellow\")\n\t\t\t\t\tC[i][j] = 2;\n\t\t\t\telse if(str==\"Blue\")\n\t\t\t\t\tC[i][j] = 3;\n\t\t\t\telse if(str==\"Magenta\")\n\t\t\t\t\tC[i][j] = 4;\n\t\t\t\telse if(str==\"Green\")\n\t\t\t\t\tC[i][j] = 5;\n\t\t\t\telse if(str==\"Cyan\")\n\t\t\t\t\tC[i][j] = 6;\n\t\t\t}\n\t\t}\n\n\t\tfor(int i=0; i<n; i++)\n\t\t\trotate(C[i]);\n\n\t\tfor(int i=0; i<n-1; i++)\n\t\t\tfor(int j=i+1; j<n; j++)\n\t\t\t\tif(C[i][1]>C[j][1]\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]>C[j][2])\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]==C[j][2]&&C[i][3]>C[j][3])\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]==C[j][2]&&C[i][3]==C[j][3]&&C[i][4]>C[j][4])\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]==C[j][2]&&C[i][3]==C[j][3]&&C[i][4]==C[j][4]&&C[i][5]>C[j][5]))\n\t\t\t\t\tfor(int k=0; k<6; k++){\n\t\t\t\t\t\tint tmp = C[i][k];\n\t\t\t\t\t\tC[i][k] = C[j][k];\n\t\t\t\t\t\tC[j][k] = tmp;\n\t\t\t\t\t}\n\n\t\tint m = n;\n\t\tfor(int i=0; i<n-1; i++){\n\t\t\tbool flg = true;\n\t\t\tfor(int j=0; j<6; j++)\n\t\t\t\tif(C[i][j]!=C[i+1][j]){\n\t\t\t\t\tflg = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tif(flg)\n\t\t\t\tm--;\n\t\t}\n\t\tcout << n-m << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring a, b, c, d, e, f;\nint n;\nint main(){\n  while(cin >> n, n){\n    set<int> num;\n    for(int i = 0;i < n;i++){\n      if(a > f)swap(a, f), swap(b, e);\n      cin >> a >> b >> c >> d >> e >> f;\n      int p = (int)(b[0] + e[0]) * (int)(c[0] + d[0]) * (int)(a[0] + f[0]);\n      if(((a<f) + (b<e) + (c<d)) % 2)p *= -1;\n      num.insert(p);\n    }\n    cout << n - num.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstring s[31][6];\nint c7(int a,int b){\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][2]&&s[a][2]==s[b][3]&&s[a][3]==s[b][4]&&s[a][4]==s[b][1]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][3]&&s[a][2]==s[b][4]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][4]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][3]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][0]==s[b][3])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][2]&&s[a][2]==s[b][3]&&s[a][3]==s[b][4]&&s[a][4]==s[b][1]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][3]&&s[a][2]==s[b][4]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][4]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][3]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][5]==s[b][2])return 1;\n  return 0;\n}\nint main(){\n  int n;\n  while(cin>>n,n){\n    int sum=0;\n    for(int i=0;i<n;i++)\n      for(int j=0;j<6;j++)\n        cin>>s[i][j];\n    for(int i=0;i<n;i++){\n      int p=0;\n      for(int j=i+1;j<n;j++){\n        if(c7(i,j))p++;\n      }\n      if(p)sum++;\n    }\n    cout<<sum<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\nenum{\n  t = 0,f ,r ,b ,l ,d ,\n};\nclass Dice{\n  public:\n    array<int,6> D;\n    Dice(){\n      D = {1,2,3,4,5,6};\n    }\n    Dice(array<int,6> d){\n      D = d;\n    }\n    void Spin(int dir){\n      if(dir == l){//\n        swap(D[t],D[r]);\n        swap(D[r],D[d]);\n        swap(D[d],D[l]);\n      }\n      else if(dir == r){\n        swap(D[t],D[l]);\n        swap(D[l],D[d]);\n        swap(D[d],D[r]);\n      }\n      else if(dir == f){\n        swap(D[t],D[b]);\n        swap(D[b],D[d]);\n        swap(D[d],D[f]);\n      }\n      else if(dir == b){\n        swap(D[t],D[f]);\n        swap(D[f],D[d]);\n        swap(D[d],D[b]);\n      }\n      else if(dir == d){//leftspin\n        swap(D[f],D[r]);\n        swap(D[r],D[b]);\n        swap(D[b],D[l]);\n      }\n      else if(dir == t){\n        swap(D[f],D[l]);\n        swap(D[l],D[b]);\n        swap(D[b],D[r]);\n      }\n    }\n    void MatchDice(int T,int F){\n      rep(i,4){\n        Spin(r);\n        if(D[t] == T)break;\n      }\n      if(D[t] != T){\n        rep(i,4){\n          Spin(f);\n          if(D[t] == T)break;\n        }\n      }\n      rep(i,4){\n        Spin(t);\n        if(D[f] == F) break;\n      }\n    }\n    int& operator[](const int i){\n      return D[i];\n    }\n    bool operator==(Dice& di2){\n      rep(i,4){\n        di2.Spin(r);\n        rep(j,4){\n          di2.Spin(t);\n          rep(k,4){\n            di2.Spin(r);\n            if(D == di2.D){\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n    friend ostream& operator<<(ostream& os,const Dice& di){\n      os << \"t f r l b d\\n\" ;\n      rep(i,6){\n        if(i) os << ' ';\n        os << di.D[i] ;\n      }\n      return os;\n    }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  map<string,int> m;\n  m[\"Cyan\"] = 0,m[\"Yellow\"] =1,m[\"Red\"]=2,m[\"Magenta\"] = 3, m[\"Green\"] = 4, m[\"Blue\"] = 5;\n  ll n;\n  while(cin >> n && n){\n    vector<Dice> di(n);\n    string s;\n    vector<Dice> st;\n    rep(i,n){\n      rep(j,6){\n        cin >> s;\n        di[i][j] = m[s];\n      }\n      if(st.size() == 0){\n        st.push_back(di[i]);\n      }\n      rep(j,st.size()){\n        if(st[j] == di[i]){\n          break;\n        }\n        if(j == st.size()-1){\n          st.push_back(di[i]);\n        }\n      }\n    }\n    cout << n - st.size()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\nFACE ck[6]={TOP,BOTTOM,FRONT,BACK,LEFT,RIGHT};\n\nclass UnionFind\n{\npublic:\n\tvector<int> data;\n\tUnionFind(int size):data(size, -1){}\n\t\n\tbool unionSet(int x, int y)\n\t{\n\t\tx = root(x); y=root(y);\n\t\tif(x != y)\n\t\t{\n\t\t\tif(data[y] < data[x]) swap(x, y);\n\t\t\tdata[x] += data[y]; data[y] = x;\n\t\t}\n\t\treturn x != y;\n\t}\n\t\n\tint root(int x)\n\t{\n\t\treturn data[x] < 0 ? x:data[x]=root(data[x]);\n\t}\n};\n\nclass Dice\n{\npublic:\n\tDice(string m[6])\n\t{\n\t\tf[TOP]=0; f[FRONT]=1; f[LEFT]=2;\n\t\tf[RIGHT]=3; f[BACK]=4; f[BOTTOM]=5;\n\t\t\n\t\tfor(int i=0; i<6; i++)\n\t\t\tval[i]=m[i];\n\t}\n\t\n\tvoid rotated(FACE a, FACE b, FACE c, FACE d)\n\t{\n\t\tint tmp = f[a];\n\t\tf[a]=f[b];\n\t\tf[b]=f[c];\n\t\tf[c]=f[d];\n\t\tf[d]=tmp;\n\t}\n\t\n\tvector<Dice> all_rotate()\n\t{\n\t\tvector<Dice> t;\n\t\tfor(int i=0; i<6; (i&1?rotateY():rotateX()), i++)\n\t\tfor(int j=0; j<4; rotateZ(), j++)\n\t\t\tt.push_back(*this);\n\t\t\t\n\t\treturn t;\n\t}\n\t\n\tvoid rotateX() { rotated(TOP, BACK, BOTTOM, FRONT); }\n\tvoid rotateY() { rotated(TOP, LEFT, BOTTOM, RIGHT); }\n\tvoid rotateZ() { rotated(FRONT, RIGHT, BACK, LEFT); }\n\t\n\tstring GetVal(FACE fe) { return val[f[fe]]; }\n\n\t\n\tint f[6];\n\tstring val[6];\n};\n\nbool isequal(vector<Dice>& a, vector<Dice>& b)\n{\n\tfor(int k=0; k<a.size(); k++) \n\tfor(int j=0; j<b.size(); j++)\n\t{\n\t\tbool g=true;\n\t\tfor(int i=0; i<6; i++)\n\t\t{\n\t\t\tif(a[k].GetVal(ck[i])!=b[j].GetVal(ck[i]))\n\t\t\t{\n\t\t\t\tg=false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(g) return true;\n\t}\n\t\n\treturn false;\n}\n\nint main()\n{\n\tint N;\n\twhile(cin >> N, N)\n\t{\n\t\tvector<Dice> d;\n\t\tfor(int i=0; i<N; i++)\n\t\t{\n\t\t\tstring s[6];\n\t\t\tfor(int j=0; j<6; j++)\n\t\t\t\tcin >> s[j];\n\t\t\t\t\n\t\t\td.push_back(s);\n\t\t}\n\t\t\n\t\tvector<vector<Dice> > face;\n\t\tfor(int i=0; i<d.size(); i++)\n\t\t\tface.push_back(d[i].all_rotate());\n\t\t\n\t\tint ans=0;\n\t\tUnionFind uf(N);\n\t\t\n\t\tfor(int i=0; i<N; i++)\n\t\tfor(int j=i+1; j<N; j++)\n\t\t{\n\t\t\tif(i==j) continue;\n\t\t\tif(isequal(face[j], face[i]))\n\t\t\t{\n\t\t\t\tif(uf.unionSet(i,j))\n\t\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\nconst double PI=acos(-1);\nconst double EPS=1e-10;\nconst int inf=1e8;\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int,int> pii;\nstruct UnionFind{\n    vector<int> data;\n    UnionFind(int size) : data(size, -1) {}\n    bool unionSet(int x,int y){\n        x=root(x);y=root(y);\n        if(x==y)return 0;\n        if(data[y]<data[x])swap(x,y);\n        data[x]+=data[y],data[y]=x;\n        return 1;\n    }\n    bool findSet(int x,int y){\n        return root(x)==root(y);\n    }\n    int root(int x){\n        return data[x]<0 ? x : data[x]=root(data[x]);\n    }\n    int size(int x){\n        return -data[root(x)];\n    }\n};\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvector<vector<string> >in(n,vector<string>(6));\n\t\trep(i,n)rep(j,6)cin>>in[i][j];\n\t\tint a[]={3,1,0,5,4,2};\n\t\trep(i,n){\n\t\t\tif(in[i][1]!=\"Blue\"&&in[i][4]!=\"Blue\")\n\t\t\twhile(in[i][0]!=\"Blue\"){\n\t\t\t\tvector<string>tmp(6);\n\t\t\t\trep(j,6)tmp[j]=in[i][a[j]];\n\t\t\t\tin[i]=tmp;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tint b[]={4,0,2,3,5,1};\n\t\trep(i,n){\n\t\t\twhile(in[i][0]!=\"Blue\"){\n\t\t\t\tvector<string>tmp(6);\n\t\t\t\trep(j,6)tmp[j]=in[i][b[j]];\t\t\t\t\n\t\t\t\tin[i]=tmp;\n\t\t\t}\n\t\t}\n\t\tUnionFind uf(n);\n\t\tint co=0;\n\t\trep(i,n)rep(j,n)if(i!=j&&in[i][5]==in[j][5]){\n\t\t\tint c[]={0,3,1,4,2,5};\n\t\t\twhile(in[i][1]!=in[j][1]){\n\t\t\t\tvector<string>tmp(6);\n\t\t\t\trep(k,6)tmp[k]=in[j][c[k]];\n\t\t\t\tin[j]=tmp;\n\t\t\t}\n\t\t\tbool h=true;\n\t\t\trep(k,6)if(in[i][k]!=in[j][k])h=false;\n\t\t\tif(h){\n\t\t\t\tif(!uf.findSet(i,j))co++;\n\t\t\t\tuf.unionSet(i,j);\n\t\t\t}\n\t\t}\n\t\tcout<<co<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101] = { 0 }, ruio = 0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tcout << b[i][j] << \",\";\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\n\t\tint tatuo = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1 &&b[i][1]!=-1) {\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (b[i][3] + b[i][4] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i][1] + b[i][6] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (b[i][3] + b[i][4] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i][1] + b[i][6] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\tif (tatuo > 0) break;\n\t\t\t\t}\n\t\t\t\tif (tatuo > 0) {\n\t\t\t\t\ttatuo = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a-ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\nusing namespace std;\nclass cube {\npublic:\n\tstring color;\n\tvoid input() {\n\t\tstring str;\n\t\tcolor = \"\";\n\t\tfor (int i = 0; i < 6; ++i) {\n\t\t\tcin >> str;\n\t\t\tcolor += str[0];\n\t\t}\n\t}\n};\nint turn[3][4]{ {1,2,4,3},{0,1,5,4},{0,2,5,3} };\nvoid turncube(cube&, int);\nbool check(cube, cube);\nint main() {\n\tint num;\n\twhile (cin >> num&&num != 0) {\n\t\tvector<cube> line(num);\n\t\tfor (int i = 0; i < num; ++i) {\n\t\t\tline[i].input();\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < line.size() - 1; ++i) {\n\t\t\tfor (int j = i+1; j < line.size(); ++j) {\n\t\t\t\tif (check(line[i], line[j])) {\n\t\t\t\t\tswap(line[j], line.back());\n\t\t\t\t\tline.pop_back();\n\t\t\t\t\t++ans;\n\t\t\t\t\t--j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n\nvoid turncube(cube &a, int num) {\n\tfor (int i = 0; i < 3; ++i) {\n\t\tswap(a.color[turn[num][i]], a.color[turn[num][i + 1]]);\n\t}\n}\n\nbool check(cube a, cube b) {\n\tint num[] = { 1,1,1,1,2,1,1,1,1 };\n\tint i = 0;\n\twhile (a.color[0] != b.color[0]) {\n\t\tturncube(a, num[i++]);\n\t}\n\tfor (int i = 0; i < 4; ++i) {\n\t\tbool flag = true;\n\t\tturncube(a, 0);\n\t\tfor (int j = 0; j < 6; ++j) {\n\t\t\tif (a.color[j] != b.color[j]) {\n\t\t\t\tflag = false;\n\t\t\t}\n\t\t}\n\t\tif (flag)return true;\n\t}\n\treturn false;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\nenum{\n  t = 0,f ,r ,b ,l ,d ,\n};\nclass Dice{\n  public:\n    array<int,6> D;\n    Dice(){\n      D = {1,2,3,4,5,6};\n    }\n    Dice(array<int,6> d){\n      D = d;\n    }\n    void Spin(int dir){\n      if(dir == l){//\n        swap(D[t],D[r]);\n        swap(D[r],D[d]);\n        swap(D[d],D[l]);\n      }\n      else if(dir == r){\n        swap(D[t],D[l]);\n        swap(D[l],D[d]);\n        swap(D[d],D[r]);\n      }\n      else if(dir == f){\n        swap(D[t],D[b]);\n        swap(D[b],D[d]);\n        swap(D[d],D[f]);\n      }\n      else if(dir == b){\n        swap(D[t],D[f]);\n        swap(D[f],D[d]);\n        swap(D[d],D[b]);\n      }\n      else if(dir == d){//leftspin\n        swap(D[f],D[r]);\n        swap(D[r],D[b]);\n        swap(D[b],D[l]);\n      }\n      else if(dir == t){\n        swap(D[f],D[l]);\n        swap(D[l],D[b]);\n        swap(D[b],D[r]);\n      }\n    }\n    void MatchDice(int T,int F){\n      rep(i,4){\n        Spin(r);\n        if(D[t] == T)break;\n      }\n      if(D[t] != T){\n        rep(i,4){\n          Spin(f);\n          if(D[t] == T)break;\n        }\n      }\n      rep(i,4){\n        Spin(t);\n        if(D[f] == F) break;\n      }\n    }\n    int& operator[](const int i){\n      return D[i];\n    }\n    bool operator==(Dice& di2){\n      rep(i,4){\n        di2.Spin(r);\n        rep(j,4){\n          di2.Spin(t);\n          rep(k,4){\n            di2.Spin(r);\n            if(D == di2.D){\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n    friend ostream& operator<<(ostream& os,const Dice& di){\n      os << \"t f r l b d\\n\" ;\n      rep(i,6){\n        if(i) os << ' ';\n        os << di.D[i] ;\n      }\n      return os;\n    }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  map<string,int> m;\n  m[\"Cyan\"] = 0,m[\"Yellow\"] =1,m[\"Red\"]=2,m[\"Magenta\"] = 3, m[\"Green\"] = 4, m[\"Blue\"] = 5;\n  ll n;\n  while(cin >> n && n){\n    vector<Dice> di(n);\n    string s,s1,s2,s3,s4,s5;\n    vector<Dice> st;\n    rep(i,n){\n      cin >> s >> s1 >> s2 >> s3 >> s4 >> s5;\n      di[i][t] = m[s];\n      di[i][f] = m[s1];\n      di[i][r] = m[s2];\n      di[i][l] = m[s3];\n      di[i][b] = m[s4];\n      di[i][d] = m[s5];\n      if(st.size() == 0){\n        st.push_back(di[i]);\n      }\n      else{\n        rep(j,st.size()){\n          if(st[j] == di[i]){\n            break;\n          }\n          if(j == st.size()-1){\n            st.push_back(di[i]);\n          }\n        }\n      }\n    }\n    cout << n - st.size()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <complex>\n#include <sstream>\n#include <string>\n#include <algorithm>\n#include <deque>\n#include <list>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <vector>\n#include <set>\n#include <limits>\n#include <cstdio>\n#include <cctype>\n#include <cmath>\n#include <cstring>\n#include <cstdlib>\n#include <ctime>\nusing namespace std;\n#define REP(i, j) for(int i = 0; i < (int)(j); ++i)\n#define FOR(i, j, k) for(int i = (int)(j); i < (int)(k); ++i)\n#define SORT(v) sort((v).begin(), (v).end())\n#define REVERSE(v) reverse((v).begin(), (v).end())\ntypedef complex<double> P;\nconst int L = 6;\n\nint H[6][6] = {\n    {1,5,2,3,0,4}, // 0 : North : ?\\\\????§????   ( y:-1 )\n    {3,1,0,5,4,2}, // 1 : East  : ???????§????   ( x:+1 )\n    {2,1,5,0,4,3}, // 2 : West  : ???????§????   ( x:-1 )\n    {4,0,2,3,5,1}, // 3 : South : ??????????§???? ( y:+1 )\n    {0,2,4,1,3,5}, // 4 : Right : ?????????????????¢ (?§??????????)\n    {0,3,1,4,2,5}  // 5 : Left  : ?????????????????¢ (?§??????????)\n};\n \n// d[0] := top,   d[1] := front \n// d[2] := right, d[3] := left\n// d[4] := back,  d[5] := bottom\nenum{TOP, FRONT, RIGHT, LEFT, BACK, BOTTOM};\nstruct Cube{\n    vector<string> d;\n    Cube(vector<string> v) { d = v; }\n    Cube(){ d = vector<string>(6); }\n    void roll(int dir){\n        vector<string> nd(6);\n        for(int i = 0 ; i < 6 ; i++ ) nd[i] = d[ H[dir][i] ];\n        d = nd;\n    }\n};\n\nbool preCompareCube(Cube &a, Cube b){\n  if(a.d == b.d) return true;\n  b.roll(4);\n  if(a.d == b.d) return true;\n  b.roll(4);\n  if(a.d == b.d) return true;\n  b.roll(4);\n  if(a.d == b.d) return true;\n  b.roll(4);\n  return false;\n}\n\nbool compareCube(Cube &a, Cube b){\n  if(preCompareCube(a, b)) return true;\n  b.roll(0);\n  if(preCompareCube(a, b)) return true;\n  b.roll(0);\n  if(preCompareCube(a, b)) return true;\n  b.roll(0);\n  if(preCompareCube(a, b)) return true;\n  b.roll(0);\n\n  b.roll(1);\n  if(preCompareCube(a, b)) return true;\n  b.roll(1);\n  if(preCompareCube(a, b)) return true;\n  b.roll(1);\n  if(preCompareCube(a, b)) return true;\n  return false;\n}\n\nint main() {\n  int N;\n  while(cin >>N && N){\n    Cube c; REP(i, L) cin >>c.d[i];\n    vector<Cube> res;\n    res.push_back(c);\n    FOR(n, 1, N){\n      bool f = true;\n      REP(i, L) cin >>c.d[i];\n      REP(i, res.size()) if(compareCube(res[i], c)) f = false;\n      if(f) res.push_back(c);\n    }\n    cout <<N - res.size() <<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n\nusing namespace std;\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\ntemplate <class T>\nclass dice {\npublic:\n  dice() {\n    id[TOP] = 0; id[FRONT] = 1; id[LEFT] = 2;\n    id[RIGHT] = 3; id[BACK] = 4; id[BOTTOM] = 5;\n  }\n  dice(int t, int f, int l, int r, int b, int m) {\n    id[TOP] = t; id[FRONT] = f; id[LEFT] = l;\n    id[RIGHT] = r; id[BACK] = b; id[BOTTOM] = m;\n  }\n  T& operator[] (FACE f) { return var[id[f]]; }\n  const T& operator[] (FACE f) const { return var[id[f]]; }\n  bool operator==(const dice<T>& b) const {\n    const dice<T> &a = *this;\n    return a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n           a[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n           a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n  }\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  vector<dice> all_rolls() {\n    vector<dice> ret;\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        ret.push_back(*this);\n    return ret;\n  }\n  bool equivalent_to(const dice& di) {\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        if (*this == di) return true;\n    return false;\n  }\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    T tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n  T var[6];\n  int id[6];\n};\n\nstring cols[]={\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\nmap<string, int> mp;\n\nint main() {\n  \n  for(int i=0; i<6; i++) mp[cols[i]] = i;\n  int N;\n  while(cin >> N && N) {\n    vector<dice<int> > d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      d.push_back(dice<int>(v[0],v[1],v[2],v[3],v[4],v[5]));\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equivalent_to(d[j])) {\n            d.erase(d.begin()+i); update = true; goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << d.size() << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring face[6];\nint n;\nint main(){\n  while(cin >> n, n){\n    set<string> ans;\n    for(int j = 0;j < n;j++){\n      cin >> face[0] >> face[1] >> face[2] >> face[3] >> face[4] >> face[5];\n      string p;\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[1]);\n\tswap(face[1], face[5]);\n\tswap(face[5], face[4]);\n      }\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[2]);\n\tswap(face[2], face[5]);\n\tswap(face[5], face[3]);\n      }\n      for(int i = 1;i < 5;i++){\n\tif(i == 1)p = face[i];\n\tp = min(p, face[i]);\n      }\n      while(face[1] != p){\n\tswap(face[1], face[2]);\n\tswap(face[2], face[4]);\n\tswap(face[4], face[3]);\n      }\n      string res =\"\";\n      for(int i = 0;i < 6;i++){\n\tres += face[i][0];\n      }\n      ans.insert(res);\n    }\n    cout << n - ans.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n\nint translate(char Head){\n\tswitch(Head){\n\tcase 'R':return 0;\n\tcase 'Y':return 1;\n\tcase 'B':return 2;\n\tcase 'M':return 3;\n\tcase 'G':return 4;\n\tcase 'C':return 5;\n\t}\n\treturn -1; //must not reach here\n}\n\nclass Dice{\npublic:\n\tDice(){\n\t\tnum_of_data = 0;\n\t};\n\n\tvoid roll(char dst){\n\t\tswitch(dst){\n\t\tcase 'E':\n\t\t\tsetNumber(number[3],number[1],number[0],number[5],number[4],number[2]);\n\t\t\tbreak;\n\t\tcase 'N':\n\t\t\tsetNumber(number[1],number[5],number[2],number[3],number[0],number[4]);\n\t\t\tbreak;\n\t\tcase 'S':\n\t\t\tsetNumber(number[4],number[0],number[2],number[3],number[5],number[1]);\n\t\t\tbreak;\n\t\tcase 'W':\n\t\t\tsetNumber(number[2],number[1],number[5],number[0],number[4],number[3]);\n\t\t\tbreak;\n\t\t}\n\t};\n\n\tbool isNewPattern(int inputed[]){\n\t\tchar order[25] = \"NNNNWNNNWNNNENNNENNNWNNN\";\n\n\t\tfor(int i = 0; i < num_of_data; i++){\n\t\t\tfor(int k = 0; k < 6; k++)number[k] = data_bank[i][k];\n\t\t\tfor(int k = 0; k < 24; k++){\n\t\t\t\troll(order[k]);\n\t\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\t\tif(inputed[j] != number[j])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif(j == 5)\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tvoid init(){\n\t\tnum_of_data = 0;\n\t}\n\n\tint getNumOfData(){\n\t\treturn num_of_data;\n\t}\n\n\tvoid addData(int table[6]){\n\t\tdata_bank[num_of_data][0] = table[0];\n\t\tdata_bank[num_of_data][1] = table[1];\n\t\tdata_bank[num_of_data][2] = table[2];\n\t\tdata_bank[num_of_data][3] = table[3];\n\t\tdata_bank[num_of_data][4] = table[4];\n\t\tdata_bank[num_of_data][5] = table[5];\n\t\tnum_of_data++;\n\t}\n\nprivate:\n\n\tvoid setNumber(int n0,int n1,int n2,int n3,int n4,int n5){\n\t\tnumber[0] = n0;\n\t\tnumber[1] = n1;\n\t\tnumber[2] = n2;\n\t\tnumber[3] = n3;\n\t\tnumber[4] = n4;\n\t\tnumber[5] = n5;\n\t}\nprivate:\n\tint number[6];\n\tint data_bank[30][6];\n\tint num_of_data;\n};\n\nint main(){\n\tint n,tmp[6];\n\tchar c1[10],c2[10],c3[10],c4[10],c5[10],c6[10];\n\tDice dice;\n\n\twhile(true){\n\t\tscanf(\"%d\",&n);\n\t\tif(n == 0)break;\n\n\t\tdice.init();\n\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tscanf(\"%s %s %s %s %s %s\",c1,c2,c3,c4,c5,c6);\n\t\t\ttmp[0] = translate(c1[0]);\n\t\t\ttmp[1] = translate(c2[0]);\n\t\t\ttmp[2] = translate(c3[0]);\n\t\t\ttmp[3] = translate(c4[0]);\n\t\t\ttmp[4] = translate(c5[0]);\n\t\t\ttmp[5] = translate(c6[0]);\n\n\t\t\tif(dice.isNewPattern(tmp)){\n\t\t\t\tdice.addData(tmp);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-dice.getNumOfData());\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <math.h>\n#include <vector>\n#include <set>\n\nusing namespace std;\ntypedef long long LL;\nstatic const double EPS = 1e-9;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) FOR(i,0,n) \n\nint main(void){  \n  int n;\n  vector<string> col;\n  col.push_back(\"Red\");\n  col.push_back(\"Yellow\");\n  col.push_back(\"Blue\");\n  col.push_back(\"Magenta\");\n  col.push_back(\"Green\");\n  col.push_back(\"Cyan\");\n  while(cin>>n,n){\n    int c[30][6] = {0};\n    int check[30] = {0};\n    int t[30][6];\n    REP(i,n)\n      REP(j,6){\n        string tmp;\n        cin >> tmp;\n        REP(k,6){\n          if(col[k] == tmp){\n            c[i][j] = k;\n            break;\n          }\n        }\n      }\n    int count = 0;\n    REP(i,n)\n      REP(j,6)\n        t[i][c[i][j]] = c[i][5-j];\n    REP(i,n){\n      if(check[i] == 0){\n        int check1=0;\n        REP(l,3){\n          if(c[i][l]<t[i][c[i][l]]) check1++;\n        }\n        FOR(j,i+1,n){\n          int check2 = 0;\n          int check3 = 0;\n          bool f = true;\n          REP(k,6){\n            if(t[i][k] != t[j][k]) f=false;\n          }\n          REP(l,3){\n            if(c[j][l]<t[j][c[j][l]]) check2++;\n          }\n          REP(l,3){\n            if(c[i][l] != c[j][l] && c[i][l] != t[j][c[j][l]]) check3++;\n          }\n          if(check3>0) check3--;\n          if((check1+check2+check3)%2!=0) f=false;\n          if(f){\n            check[j] = 1;\n            count++;\n          }\n        }\n      }\n    }\n    cout<<count<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define PB(a) push_back(a)\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<string, string> P;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N;\n\nint c(P a, P b){\n  if(a.F == b.F && a.S == b.S) return 1;\n  if(a.F == b.S && a.S == b.F) return 1;\n  return 0;\n}\n\nint judge(vector<string> A, vector<string> B){\n  P a1, a2, a3, b1, b2, b3;\n  a1 = P(A[0], A[5]); a2 = P(A[1], A[4]); a3 = P(A[2], A[3]);\n  b1 = P(B[0], B[5]); b2 = P(B[1], B[4]); b3 = P(B[2], B[3]);\n  if(c(a1, b1) && c(a2, b2) && c(a3, b3)) return 1;\n  if(c(a1, b1) && c(a2, b3) && c(a3, b2)) return 1;\n  if(c(a1, b2) && c(a2, b1) && c(a3, b3)) return 1;\n  if(c(a1, b2) && c(a2, b3) && c(a3, b1)) return 1;\n  if(c(a1, b3) && c(a2, b1) && c(a3, b2)) return 1;\n  if(c(a1, b3) && c(a2, b2) && c(a3, b1)) return 1;\n  return 0;\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    vector<vector<string> >D(N);\n    rep(i, N){\n      rep(j, 6){\n\tstring s;\n\tcin >> s;\n\tD[i].PB(s);\n      }\n    }\n\n    rep(i, D.size()){\n      rep(j, D.size()){\n\tif(i == j) continue;\n\tif(judge(D[i], D[j])){\n\t  D.erase(D.begin()+j);\n\t  j--;\n\t}\n      }\n    }\n    //    printf(\"%d\\n\", (int)D.size());\n    printf(\"%d\\n\", N - (int)D.size());\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(true){\n        cin>>n;\n        if(n==0)break;\n        vector<vector<int>> d;\n        int ans=0;\n        map<string,int> mp;\n        mp[\"Red\"]=0;\n        mp[\"Yellow\"]=1;\n        mp[\"Blue\"]=2;\n        mp[\"Magenta\"]=3;\n        mp[\"Green\"]=4;\n        mp[\"Cyan\"]=5;\n        const int sa[6][4]={\n                {4,2,1,3},\n                {0,2,5,3},\n                {4,5,1,0},\n                {4,0,1,5},\n                {5,2,0,3},\n                {4,3,1,2}\n        };\n        for (int i = 0; i < n; ++i) {\n            vector<string> s(6);\n            int id;\n            for (int j = 0; j < 6; ++j) {\n                cin>>s[j];\n                if(s[j]==\"Red\")id=j;\n            }\n            vector<int> tv;\n            for (int j = 0; j < 4; ++j) {\n                tv.emplace_back(mp[s[sa[id][j]]]);\n            }\n            for(auto item:d){\n                for (int j = 0; j < 4; ++j) {\n                    bool f=true;\n                    for (int k = 0; k < 4; ++k) {\n                        if(tv[k]!=item[(j+k)%4]){\n                            f=false;\n                            break;\n                        }\n                    }\n                    if(f){\n                        ++ans;\n                        goto failed;\n                    }\n                }\n            }\n            d.emplace_back(tv);\n            failed:;\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nint colorToInt(std::string s){\n\tconst\tchar cs[] = {'C', 'Y', 'R', 'M', 'G', 'B'};\n\tfor(int i=0;i<6;i++){\n\t\tif(s[0] == cs[i]){\n\t\t\treturn i;\n\t\t}\n\t}\n}\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\t\tstd::vector<int> cube_v;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint cs[6];\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstd::string c;\n\t\t\t\tstd::cin >> c;\n\t\t\t\tcs[j] = colorToInt(c);\n\t\t\t}\n\n\t\t\t//Cyanをc1, c2, c3のどれかに入れる\n\t\t\tif(cs[3] == 0 || cs[4] == 0 || cs[5] == 0){\n\t\t\t\tstd::swap(cs[0], cs[5]);\n\t\t\t\tstd::swap(cs[1], cs[4]);\n\t\t\t\tstd::swap(cs[2], cs[3]);\n\t\t\t}\n\n\t\t\t//Cyanをc1に来させる\n\t\t\tif(cs[1] == 0){\n\t\t\t\tstd::swap(cs[1], cs[0]);\n\t\t\t\tstd::swap(cs[4], cs[5]);\n\t\t\t}\n\t\t\tif(cs[2] == 0){\n\t\t\t\tstd::swap(cs[2], cs[0]);\n\t\t\t\tstd::swap(cs[3], cs[5]);\n\t\t\t}\n\n\t\t\tif(cs[4] < cs[1]){\n\t\t\t\tstd::swap(cs[1], cs[4]);\n\t\t\t}\n\t\t\tif(cs[3] < cs[2]){\n\t\t\t\tstd::swap(cs[2], cs[3]);\n\t\t\t}\n\t\t\tif(cs[2] < cs[1]){\n\t\t\t\tstd::swap(cs[1], cs[2]);\n\t\t\t\tstd::swap(cs[3], cs[4]);\n\t\t\t}\n\n\t\t\tint cube = 0;\n\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\tcube = (cube << 3) + cs[i];\n\t\t\t}\n\n\t\t\tif(std::find(cube_v.begin(), cube_v.end(), cube) == cube_v.end()){\n\t\t\t\tcube_v.push_back(cube);\n\t\t\t}\n\t\t}\n\n\t\tstd::cout << (n-cube_v.size()) << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <string>\nusing namespace std;\nclass Cube{\npublic:\n\tint c[6];\n\tCube(){}\n\tbool operator == (const Cube &p) const{\n\t\tfor(int i=0;i<6;i++)if(c[i]!=p.c[i])return false;\n\t\treturn true;\n\t}\n\tvoid r1(){\n\t\tint tmp[6];\n\t\tfor(int i=0;i<6;i++)tmp[i]=c[i];\n\t\tc[0]=tmp[4];\n\t\tc[1]=tmp[0];\n\t\tc[4]=tmp[5];\n\t\tc[5]=tmp[1];\n\t\treturn;\n\t}\n\tvoid r2(){\n\t\tint tmp[6];\n\t\tfor(int i=0;i<6;i++)tmp[i]=c[i];\n\t\tc[0]=tmp[2];\n\t\tc[2]=tmp[5];\n\t\tc[3]=tmp[0];\n\t\tc[5]=tmp[3];\n\t\treturn;\n\t}\n\tvoid r3(){\n\t\tint tmp[6];\n\t\tfor(int i=0;i<6;i++)tmp[i]=c[i];\n\t\tc[1]=tmp[3];\n\t\tc[2]=tmp[1];\n\t\tc[3]=tmp[4];\n\t\tc[4]=tmp[2];\n\t\treturn;\n\t}\n};\nbool onaji(Cube &a,Cube &b){\n\tfor(int i=0;i<4;i++){\n\t\tfor(int j=0;j<4;j++){\n\t\t\tif(a==b)return true;\n\t\t\ta.r1();\n\t\t}\n\t\ta.r2();\n\t}\n\ta.r3();\n\tfor(int j=0;j<4;j++){\n\t\tif(a==b)return true;\n\t\ta.r1();\n\t}\n\ta.r3();a.r3();\n\tfor(int j=0;j<4;j++){\n\t\tif(a==b)return true;\n\t\ta.r1();\n\t}\n\treturn false;\n}\nint GetID(string s){\n\tif(s==\"Red\")return 1;\n\tif(s==\"Yellow\")return 2;\n\tif(s==\"Blue\")return 3;\n\tif(s==\"Magenta\")return 4;\n\tif(s==\"Green\")return 5;\n\tif(s==\"Cyan\")return 6;\n}\nint main()\n{\n\tint n;\n\twhile(cin>>n&&n){\n\t\tCube sta[30];\n\t\tvector<Cube> ans;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin>>s;\n\t\t\t\tsta[i].c[j]=GetID(s);\n\t\t\t}\n\t\t\tbool neww=true;\n\t\t\tfor(vector<Cube>::iterator it=ans.begin();it<ans.end();it++){\n\t\t\t\tCube tmp;tmp=ans.at(it-ans.begin());\n\t\t\t\tif(onaji(tmp,sta[i]))neww=false;\n\t\t\t}\n\t\t\tif(neww)ans.push_back(sta[i]);\n\t\t}\n\t\tcout<<n-(int)ans.size()<<endl;\n\t}\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\n#define rep(i,n)  for(int i=0; i<n; i++)\n\nstring rot1( string s ){\n\tstring res = s;\n\tres[0] = s[1];\n\tres[1] = s[5];\n\tres[5] = s[4];\n\tres[4] = s[0];\n\treturn res;\n}\n\nstring rot2( string s ){\n\tstring res = s;\n\tres[0] = s[2];\n\tres[2] = s[5];\n\tres[5] = s[3];\n\tres[3] = s[0];\n\treturn res;\n}\n\nstring rot3( string s ){\n\tstring res = s;\n\tres[1] = s[2];\n\tres[2] = s[4];\n\tres[4] = s[3];\n\tres[3] = s[1];\n\treturn res;\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n, n ){\n\t\tstring obj[30];\n\t\trep(i,n){\n\t\t\trep(j,6){\n\t\t\t\tstring in;\n\t\t\t\tcin >> in;\n\t\t\t\tobj[i] += in[0];\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\trep(i,n){\n\t\t\tif( obj[i] == \"\" ) continue;\n\t\t\tfor(int j=i+1; j<n; j++){\n\t\t\t\tif( obj[j] == \"\" ) continue;\n\t\t\t\tbool found = false;\n\t\t\t\trep(k,6){\n\t\t\t\t\trep(l,4){\n\t\t\t\t\t\tif( obj[i] == obj[j] ){\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tobj[j] = rot3(obj[j]);\n\t\t\t\t\t}\n\t\t\t\t\tif(k%2)\tobj[j] = rot1(obj[j]);\n\t\t\t\t\telse\tobj[j] = rot2(obj[j]);\n\t\t\t\t}\n\t\t\t\tif(found){\n\t\t\t\t\tcnt++;\n\t\t\t\t\tobj[j] = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint cheak(int n,string c[][6]){\n    int cou=0;\n    for (int i=0; i<n; i++) {\n        for (int j=i+1; j<n; j++) {\n            for (int a=0; a<4; a++) {\n                if(c[i][0]==c[j][0]){\n                    for (int b=0; b<4; b++) {\n                        if(c[i][1]==c[j][1]&&c[i][2]==c[j][2]&&c[i][3]==c[j][3]&&c[i][4]==c[j][4]){\n                            cou++;\n                            swap(c[j], c[n-1]);\n                            --n;\n                            --j;\n                            break;\n                        }\n                        swap(c[i][1], c[i][3]);\n                        swap(c[i][1], c[i][4]);\n                        swap(c[i][1], c[i][2]);\n                    }\n                    break;\n                }\n                swap(c[i][0],c[i][3]);\n                swap(c[i][0],c[i][5]);\n                swap(c[i][0],c[i][2]);\n            }\n        }\n    }\n    return cou;\n}\n\nint main(){\n    int n;\n    string cube[30][6];\n    while (1) {\n        cin>>n;\n        if(n==0)break;\n        for (int i=0; i<n; i++) {\n            for (int j=0; j<6; j++) {\n                cin>>cube[i][j];\n            }\n        }\n        cout<<cheak(n, cube)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[31][7],d[31],f[31],g,h,i,j,k,l,o,x;\n\tchar z[31][7][10];\n\twhile(1){\n\t\tscanf(\"%d\",&a);\n\t\tif(a==0) break;\n\t\tfor(i=0;i<a;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",z[i][j]);\n\t\t\t\tif(z[i][j][0]=='R') s[i][j]=0;\n\t\t\t\tif(z[i][j][0]=='Y') s[i][j]=1;\n\t\t\t\tif(z[i][j][0]=='B') s[i][j]=2;\n\t\t\t\tif(z[i][j][0]=='M') s[i][j]=3;\n\t\t\t\tif(z[i][j][0]=='G') s[i][j]=4;\n\t\t\t\tif(z[i][j][0]=='C') s[i][j]=5;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++) f[i]=0;\n\t\tg=0;\n\t\tfor(i=0;i<a-1;i++){\n\t\t\tif(f[i]==0){\n\t\t\t\tfor(j=i+1;j<a;j++){\n\t\t\t\t\tfor(k=0;k<5;k++){\n\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\ts[j][1]=s[j][0];\n\t\t\t\t\t\ts[j][0]=s[j][4];\n\t\t\t\t\t\ts[j][4]=s[j][5];\n\t\t\t\t\t\ts[j][5]=h;\n\t\t\t\t\t\t//printf(\"%d\\n\",s[j][5]);\n\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==1) break;\n\t\t\t\t\t}\n\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\ts[j][2]=s[j][5];\n\t\t\t\t\t\ts[j][5]=s[j][3];\n\t\t\t\t\t\ts[j][3]=s[j][0];\n\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\ts[j][2]=s[j][0];\n\t\t\t\t\t\ts[j][0]=s[j][3];\n\t\t\t\t\t\ts[j][3]=s[j][5];\n\t\t\t\t\t\ts[j][5]=h;\n\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\t\th=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t\t//printf(\"%d\\n\",s[j][5]);\n\t\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",g);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iostream>\nusing namespace std;\n\nint main(){\n  int n;\n  string cube[30][6];\n  bool use[30];\n\n  for(;;){\n    cin >> n;\n    if(!n)break;\n    for(int i=0;i<n;i++){\n      use[i] = false;\n      for(int j=0;j<6;j++)cin >> cube[i][j];\n    }\n\n    for(int i=0;i<n;i++){\n      if(!use[i]){\n\tfor(int j=i+1;j<n;j++){\n\t  string tmp[6] = cube[j];\n\t  bool f;\n\t  for(int k=0;k<6;k++){\n\t    swap(tmp[0],tmp[1]);\n\t    swap(tmp[1],tmp[5]);\n\t    swap(tmp[5],tmp[4]);\n\t    for(int l=0;l<4;l++){\n\t      if(l){\n\t\tif(j%2){\n\t\t  swap(tmp[1],tmp[2]);\n\t\t  swap(tmp[2],tmp[4]);\n\t\t  swap(tmp[4],tmp[3]);\n\t\t}else{\n\t\t  swap(tmp[3],tmp[4]);\n\t\t  swap(tmp[4],tmp[2]);\n\t\t  swap(tmp[2],tmp[1]);\n\t\t}\n\t      }\n\n\t      f = true;\n\t      for(int z=0;z<6;z++)\n\t\tif(cube[i][z] != tmp[z])f = false;\n\t      if(f)break;\n\t    }\n\t    if(f)break;\n\t  }\n\t  if(f)use[j] = true;\n\t}\n      }\n    }\n    int ans = 0;\n    for(int i=0;i<n;i++)if(use[i])ans++;\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\ntypedef vector<string>cube;\n\ncube s[30];\nbool used[30];\nbool equal(cube a, cube b) {\n\trep(i, 6) {\n\t\tif (a[i] != b[i])return false;\n\t}\n\treturn true;\n}\nbool judge(cube a, cube b) {\n\tcube c;\n\trep(i, 6) {\n\t\tc = a; a[3] = c[0]; a[0] = c[2]; a[2] = c[5]; a[5] = c[3];\n\t\trep(j, 4) {\n\t\t\tc = a; a[3] = c[1]; a[1] = c[2]; a[2] = c[4]; a[4] = c[3];\n\t\t\tif (equal(a, b))return true;\n\t\t}\n\t}\n\treturn false;\n}\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\trep(i, n) {\n\t\t\ts[i] = cube(6);\n\t\t\trep(j, 6)cin >> s[i][j];\n\t\t}\n\t\tvector<int>v[30];\n\t\trep(i, n)for (int j = i + 1; j < n; j++) {\n\t\t\tif (judge(s[i], s[j])) {\n\t\t\t\tv[i].push_back(j);\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\tmemset(used, 0, sizeof(used));\n\t\trep(i, n) {\n\t\t\tif (used[i])continue;\n\t\t\tcnt++;\n\t\t\tfor (int j : v[i])used[j] = true;\n\t\t}\n\t\tprintf(\"%d\\n\", n - cnt);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n\n#define REP(i, b, n) for(int i = b; i<(int)n; i++)\n#define rep(i, n) REP(i, 0, n)\n\nusing namespace std;\n\nenum{TOP=0,FRONT,RIGHT,LEFT,BACK,BOTTOM}; \n#define rotate_swap(x,a,b,c,d) swap(x.m[a],x.m[b]);swap(x.m[b],x.m[c]);swap(x.m[c],x.m[d]);\n  \nconst int dy[] = {-1, 0, 1, 0};\nconst int dx[] = {0, 1, 0, -1};\n \nclass Dice{\npublic:\n  int y, x;\n  string m[6];\n  Dice(){\n    y = x = 0;\n  }\n  bool operator<(const Dice &a)const{\n    rep(i,6)if (m[i] != a.m[i])return m[i] < a.m[i];\n    return false;\n  }\n  bool operator==(const Dice &a)const{\n    rep(i,6)if (m[i] != a.m[i])return false;\n    return true;\n  }\n};\n \nvoid rotate_r(Dice &x){\n  x.x++;\n  rotate_swap(x,TOP,LEFT,BOTTOM,RIGHT);\n}\n  \nvoid rotate_l(Dice &x){\n  x.x--;\n  rotate_swap(x,TOP,RIGHT,BOTTOM,LEFT);\n}\n  \nvoid rotate_f(Dice &x){\n  x.y--;\n  rotate_swap(x,TOP,BACK,BOTTOM,FRONT);\n}\n  \nvoid rotate_b(Dice &x){\n  x.y++;\n  rotate_swap(x,TOP,FRONT,BOTTOM,BACK);\n}\n  \nvoid rotate_cw(Dice &x){\n  rotate_swap(x,BACK,LEFT,FRONT,RIGHT);\n}\n  \nvoid rotate_ccw(Dice &x){\n  rotate_swap(x,BACK,RIGHT,FRONT,LEFT);\n}\n  \nvector<Dice> generate_all(Dice x){\n  vector<Dice> res;\n  rep(i,6){\n    rep(j,4){\n      res.push_back(x);\n      rotate_cw(x);\n    }\n    if (i%2 == 0)rotate_r(x);\n    else rotate_f(x);\n  }\n  return res;\n}\n\nint main() {\n  while (true) {\n    int n;\n    cin >> n; \n    if (n == 0) break;\n    vector<vector<Dice> > v;\n    rep (i, n) {\n      Dice dice;\n      cin >> dice.m[TOP];\n      cin >> dice.m[FRONT];\n      cin >> dice.m[RIGHT];\n      cin >> dice.m[LEFT];\n      cin >> dice.m[BACK];\n      cin >> dice.m[BOTTOM];\n      v.push_back(generate_all(dice));\n    }\n    int res = 0;\n    rep (i, n) {\n      rep (j, i) rep (ii, 24) rep (jj, 24) {\n\tif (v[i][ii] == v[j][jj]) {\n\t  ++res;\n\t  goto next;\n\t}\n      }\n    next:;\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n//\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\nprivate:\n    int face[3][4];\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\tint loop=1;\n    \t\t\tif(tate==1)loop=2;\n    \t\t\twhile(loop--){\n    \t\t\t\ttate++;\n    \t\t\t\tint tmp = face[1][3];\n    \t\t\t\tface[1][3]=face[0][1];\n    \t\t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t\t}\n    \t\t\t\tface[2][1]=tmp;\n    \t\t\t}\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tstring colors[10];\n\t\tfor(map<string,int>::iterator it=dict.begin();it!=dict.end();it++)\n\t\t\tcolors[it->second]=(it->first);\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<24;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++){\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t\t//cout<<colors[vs[k]]<<\" \";\n\t\t\t\t}\n\t\t\t\t//cout<<endl;\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include <iostream>\n#include <vector>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<n;i++)\n#define TOP 0 \n#define BOTTOM 1\n#define FRONT 2\n#define BACK 3\n#define RIGHT 4\n#define LEFT 5\n\nvector< vector<string> > check;\n\nvoid z(vector<string> &dice){\n\tstring to[6];\n\tto[BACK] = dice[TOP];\n\tto[BOTTOM] = dice[BACK];\n\tto[FRONT] = dice[BOTTOM];\n\tto[TOP] = dice[FRONT];\n\n\tto[LEFT] = dice[LEFT];\n\tto[RIGHT] = dice[RIGHT];\n\n\trep(i,6)dice[i] = to[i];\n\n}\n\nvoid x(vector<string> &dice){\n\tstring to[6];\n\tto[FRONT] = dice[LEFT];\n\tto[LEFT] = dice[BACK];\n\tto[BACK] = dice[RIGHT];\n\tto[RIGHT] = dice[FRONT];\n\t\n\tto[BOTTOM] = dice[BOTTOM];\n\tto[TOP] = dice[TOP];\n\t\n\trep(i,6)dice[i] = to[i];\n}\n\nvoid y(vector<string> &dice){\n\tstring to[6];\n\tto[TOP] = dice[LEFT];\n\tto[LEFT] = dice[BOTTOM];\n\tto[BOTTOM] = dice[RIGHT];\n\tto[RIGHT] = dice[TOP];\n\t\n\tto[FRONT] = dice[FRONT];\n\tto[BACK] = dice[BACK];\n\t\n\trep(i,6)dice[i] = to[i];\n}\n\nbool isunique(vector<string> data){\n\n\trep(l1,4)rep(l2,4)rep(l3,4){\n\t\n\t\tvector<string> t(6);\n\t\t\n\t\trep(j,6)t[j] = data[j];\n\n\t\trep(j,l1)x(t);\n\t\trep(j,l2)y(t);\n\t\trep(j,l3)z(t);\n\t\t\n\t\trep(i,check.size()){\n\t\t\tbool flag = true;\n\t\t\trep(j,6)if(t[j] != check[i][j])flag = false;\n\t\t\tif(flag)return false;\n\t\t}\n\n\t}\n\treturn true;\n}\n\nint main(){\n\tint n;\n\tstring c[6];\n\twhile(cin >> n, n){\n\t\tcheck.clear();\n\t\trep(i,n){\n\t\t\trep(j,6)cin >> c[j];\n\t\t\tstring d[6] =  {c[0],c[5],c[1],c[4],c[2],c[3]};\n\t\t\tvector<string> dice(6);\n\t\t\trep(j,6)dice[j] = d[j];\n\t\t\t\n\t\t\tif( isunique(dice) ){\n\t\t\t\tcheck.push_back(dice);\n\t\t\t}\n\t\t}\n\t\tcout << n-check.size() << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define F first\n#define S second\n#define INF 1 << 30\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint n;\n\nbool judge(vector<string>a, vector<string>b){\n  int ret = 1;\n  rep(i, 3){\n    int j;\n    for(j = 0; j < 6; j++) if(a[i] == b[j]) break;\n    if(a[5-i] != b[5-j]) ret = 0;\n\n  }\n  /*  rep(i, 6) cout << a[i] << \" \"; puts(\"\");\n  rep(i, 6) cout << b[i] << \" \"; puts(\"\");\n  cout << ret << endl;*/\n  return ret;\n}\n\nint main(){\n  while(scanf(\"%d\", &n) && n){\n\n    vector<vector<string> >c(n, vector<string>(6));\n    rep(i, n) rep(j, 6) cin >> c[i][j];\n\n    vector<int>f(n, 0);\n    rep(i, n){\n      if(f[i]) continue;\n      REP(j, i+1, n) if(judge(c[i], c[j])) f[j] = 1;\n    }\n    int res = 0;\n    rep(i, n) if(f[i]) res++;\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int i,j,k,l,m,o,n,a[30][6],ans,c;\n  string str;\n  bool f;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    for(int t=0;t<n;t++){\n      for(i=1;i<7;i++){\n\tcin >> str;\n\tif(str == \"Cyan\") a[t][i] = 1;\n\telse if(str == \"Yellow\") a[t][i] = 2;\n\telse if(str == \"Red\") a[t][i] = 3;\n\telse if(str == \"Magenta\") a[t][i] = 4;\n\telse if(str == \"Green\") a[t][i] = 5;\n\telse a[t][i] = 6;\n      }\n    }\n    ans = 0;\n\n    for(i=0;i<n-1;i++){\n      for(j=i+1;j<n;j++){\n\tf = false;\n\tfor(k=1;k<7;k++){\n\t  for(l=1;l<7;l++){\n\t    if(a[i][k] == a[j][l] && a[i][7-k] == a[i][7-k]){\n\t      f = true;\n\t      int c1[4],c2[4];\n\t      if(k == 1){\n\t\tc1[0] = 5;\n\t\tc1[1] = 3;\n\t\tc1[2] = 2;\n\t\tc1[3] = 4;\n\t      }\n\t      if(l == 1){\n\t\tc2[0] = 5;\n\t\tc2[1] = 3;\n\t\tc2[2] = 2;\n\t\tc2[3] = 4;\n\t      }\n\t      if(k == 2){\n\t\tc1[0] = 1;\n\t\tc1[1] = 3;\n\t\tc1[2] = 5;\n\t\tc1[3] = 4;\n\t      }\n\t      if(l == 2){\n\t\tc2[0] = 1;\n\t\tc2[1] = 3;\n\t\tc2[2] = 5;\n\t\tc2[3] = 4;\n\t      }\n\t      if(k == 3){\n\t\tc1[0] = 5;\n\t\tc1[1] = 6;\n\t\tc1[2] = 2;\n\t\tc1[3] = 1;\n\t      }\n\t      if(l == 3){\n\t\tc2[0] = 5;\n\t\tc2[1] = 6;\n\t\tc2[2] = 2;\n\t\tc2[3] = 1;\n\t      }\n\t      if(k == 4){\n\t\tc1[0] = 5;\n\t\tc1[1] = 1;\n\t\tc1[2] = 2;\n\t\tc1[3] = 6;\n\t      }\n\t      if(l == 4){\n\t\tc2[0] = 5;\n\t\tc2[1] = 1;\n\t\tc2[2] = 2;\n\t\tc2[3] = 6;\n\t      }\n\t      if(k == 5){\n\t\tc1[0] = 6;\n\t\tc1[1] = 3;\n\t\tc1[2] = 1;\n\t\tc1[3] = 4;\n\t      }\n\t      if(l == 5){\n\t\tc2[0] = 6;\n\t\tc2[1] = 3;\n\t\tc2[2] = 1;\n\t\tc2[3] = 4;\n\t      }\n\t      if(k == 6){\n\t\tc1[0] = 5;\n\t\tc1[1] = 4;\n\t\tc1[2] = 2;\n\t\tc1[3] = 3;\n\t      }\n\t      if(l == 6){\n\t\tc2[0] = 5;\n\t\tc2[1] = 4;\n\t\tc2[2] = 2;\n\t\tc2[3] = 3;\n\t      }\n\n\t      for(m=0;m<4;m++){\n\t\tc = 0;\n\t\tfor(o=0;o<4;o++){\n\t\t  if(a[i][c1[o]] == a[i][c2[(o+m)%4]]) c++;\n\t\t}\n\t\tif(c == 4){\n\t\t  ans++;\n\t\t  break;\n\t\t}\n\t      }\n\t    }\n\t    if(f) break;\n\t  }\n\t  if(f) break;\n\t}\n      }\n    }\n\n    cout << ans << endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n//#define int long long\n\ntypedef pair<int,int>pint;\ntypedef vector<int>vint;\n#define pb push_back\n#define mp make_pair\n#define rep(i,n) for(int i=0;i<(n);i++)\ntemplate<class T,class U>void chmin(T &t,U f){if(t>f)t=f;}\ntemplate<class T,class U>void chmax(T &t,U f){if(t<f)t=f;}\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\ntemplate <class T>\nclass dice {\npublic:\n  dice() {\n    id[TOP] = 0; id[FRONT] = 1; id[LEFT] = 2;\n    id[RIGHT] = 3; id[BACK] = 4; id[BOTTOM] = 5;\n  }\n  T& operator[] (FACE f) { return var[id[f]]; }\n  const T& operator[] (FACE f) const { return var[id[f]]; }\n  bool operator==(const dice<T>& b) const {\n    const dice<T> &a = *this;\n    return a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n           a[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n           a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n  }\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  vector<dice> all_rolls() {\n    vector<dice> ret;\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        ret.push_back(*this);\n    return ret;\n  }\n  bool equivalent_to(const dice& di) {\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        if (*this == di) return true;\n    return false;\n  }\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    int tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n  T var[6];\n  int id[6];\n};\n\n\nint main(){\n    int N;\n    while(scanf(\"%d\",&N),N){\n        vector<dice<string> >vec;\n        int cnt=0;\n        while(N--){\n            dice<string> b;\n            cin>>b[TOP];\n            cin>>b[FRONT];\n            cin>>b[RIGHT];\n            cin>>b[LEFT];\n            cin>>b[BACK];\n            cin>>b[BOTTOM];\n            bool ok=true;\n            rep(i,vec.size())if(vec[i].equivalent_to(b))ok=false;\n            if(ok)vec.pb(b);\n            else cnt++;\n        }\n        cout<<cnt<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<ctype.h>\n#include<string>\n#include<cmath>\n#include<math.h>\n#include<vector>\n#include<stdlib.h>\n#include<algorithm>\n#include<functional>\n\nusing namespace std;\n\n#define OUT cout <<\n#define IN cin >>\n#define E << endl;\n#define FOR(i,a,b) for(int i = a;i < b;i++)\n\nint n;\n\nvoid input(){\n\tIN n;\n}\n\nclass Dice{\n\tprivate:\n\t\tstring temp;\n\tpublic:\n\t\tstring c[6];\n\t\tDice(){}\n\t\tvoid roll(int axis){\n\t\t\tif(axis == 1){\n\t\t\t\ttemp = c[1];\n\t\t\t\tc[1] = c[2];\n\t\t\t\tc[2] = c[6];\n\t\t\t\tc[6] = c[5];\n\t\t\t\tc[5] = temp;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ttemp = c[2];\n\t\t\t\tc[2] = c[4];\n\t\t\t\tc[4] = c[5];\n\t\t\t\tc[5] = c[3];\n\t\t\t\tc[3] = temp;\n\t\t\t}\n\t\t}\n\t\tvoid getd(string& c1, string& c2, string& c3, string& c4, string& c5, string& c6){\n\t\t\tc1 = c[0];\n\t\t\tc2 = c[1];\n\t\t\tc3 = c[2];\n\t\t\tc4 = c[3];\n\t\t\tc5 = c[4];\n\t\t\tc6 = c[5];\n\t\t}\n\n\t\tvoid input(){\n\t\t\tFOR(i,0,6){\n\t\t\t\tIN c[i];\n\t\t\t}\n\t\t}\n\n};\n\nint main(){\n\twhile(true){\n\t\tinput();\n\t\tif(n == 0)break;\n\t\tint count = 0;\n\t\tbool match[n];\n\t\tFOR(i, 0, n){\n\t\t\tmatch[i] = false;\n\t\t}\n\t\tstring str1[6];\n\t\tstring str2[6];\t\n\n\t\tvector<Dice> dice;\n\t\n\t\tdice.resize(n);\n\t\tFOR(i, 0, n){\n\t\t\tdice[i].input();\n\t\t}\n\t\t\t\n\n\t\tFOR(i, 0, n - 1){\n\t\t\tFOR(j, i + 1, n){\n\t\t\t\tbool flag2 = false;\n\t\t\t\tFOR(x, 0, 4){\n\t\t\t\t\tFOR(y, 0, 4){\n\t\t\t\t\t\tdice[i].getd(str1[0],str1[1],str1[2],str1[3],str1[4],str1[5]);\n\t\t\t\t\t\tdice[j].getd(str2[0],str2[1],str2[2], str2[3],str2[4],str2[5]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbool flag1 = true;\n\t\t\t\t\t\tFOR(d, 0, 6){\t\t\t\t\t\n\t\t\t\t\t\t\tif(str1[d] != str2[d]){\n\t\t\t\t\t\t\t\tflag1 == false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(flag1){\n\t\t\t\t\t\t\tif(match[i] == false){\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tflag2 = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmatch[j] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflag1 = true;\n\t\t\t\t\t\n\t\t\t\t\t\tdice[i].roll(y);\n\t\t\t\t\t}\n\t\t\t\t\tdice[i].roll(x);\n\t\t\t\t}\n\t\t\t\tOUT i << \" \" << j << \" \" << flag2 E\n\t\t\t\tif(flag2){\n\t\t\t\t\tcount++;\n\t\t\t\t\tOUT \"count++ \" << i << \" \" << j  E\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\n\t\tOUT count E\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\nusing namespace std;\nstring s[50][6];\nint d[12][6]={\n  {0,1,2,3,4,5},\n  {0,2,3,4,1,5},\n  {0,3,4,1,2,5},\n  {0,4,1,2,3,5},\n  \n  {0,1,2,3,4,5},\n  {3,1,0,5,4,2},\n  {5,1,3,2,4,0},\n  {2,1,5,0,4,3},\n  \n  {0,1,2,3,4,5},\n  {1,4,2,3,5,0},\n  {4,5,2,3,0,1},\n  {5,0,2,3,1,4}\n};\nint main(){\n  int n;\n  while(cin>>n&&n){\n    int ans=0;\n    lol(i,n){\n      lol(j,6)cin>>s[i][j];\n      bool same=false;\n      lol(j,i){\n\tlol(r,12){\n\t  bool ok=true,pk=true;;\n\t  lol(k,6){\n\t    if(s[i][k]!=s[j][d[r][k]])ok=false;\n\t    if(s[i][k]!=s[j][6-d[r][k]])pk=false;\n\t  }\n\t  if(ok)same=true;\n\t  if(pk)same=true;\n\t}\n      }\n      if(same)ans++;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define MAX 100\nclass Cube {\npublic:\n\tstring f[6];\n\tCube() {\n\t}\n\tvoid roll_z() {\n\t\troll(1, 2, 4, 3);\n\t}\n\tvoid roll_y() {\n\t\troll(0, 2, 5, 3);\n\t}\n\tvoid roll_x() {\n\t\troll(0, 1, 5, 4);\n\t}\n\tvoid roll(int i, int j, int k, int l) {\n\t\tstring t = f[i];\n\t\tf[i] = f[j];\n\t\tf[j] = f[k];\n\t\tf[k] = f[l];\n\t\tf[l] = t;\n\t}\n};\nCube C[MAX];\nint n;\nbool eq(Cube c1, Cube c2) {\n\tfor (int i = 0; i < 6; i++)\n\t\tif (c1.f[i] != c2.f[i])\n\t\t\treturn false;\n\treturn true;\n}\n\nbool equal(Cube c1, Cube c2) {\n\tfor (int i = 0; i < 6; i++) {\n\t\tfor (int j = 0; j < 4; j++) {\n\t\t\tif (eq(c1, c2))\n\t\t\t\treturn true;\n\t\t\tc1.roll_z();\n\t\t}\n\t\tif (i % 2 == 0)\n\t\t\tc1.roll_y();\n\t\telse\n\t\t\tc1.roll_x();\n\t}\n\treturn false;\n}\nmain() {\n\twhile( cin >> n && n ) {\n\t\tfor(int i = 0;i<n;i++) for(int j = 0;j<6;j++) cin >> C[i].f[j];\n\t\tint cnt = 0;\n\t\tfor(int i = 0;i<n;i++) {\n\t\t\tbool hasSame = false;\n\t\t\tfor(int j=i+1; j<=n-1;j++) if (equal(C[i],C[j])) {hasSame =\n\t\t\t\ttrue;break;}\n\t\t\tif ( !hasSame ) cnt++;\n\t\t}\n\t\tcout << n - cnt << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n#define FOREACH( TYPE, TARGET, IT ) \\\n\tfor( (TYPE)::iterator IT = (TARGET).begin(); IT != (TARGET).end(); ++(IT) )\n\n// Ö\nstd::vector <int> rotate_h( std::vector <int> box );\nstd::vector <int> rotate_v( std::vector <int> box );\n\n// ¡Éñ]³¹éÖ\nstd::vector <int> rotate_h( std::vector <int> box )\n{\n\t// ¡ñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\t\n\tint tmp\t= box[0];\n\tbox[0]\t= box[2];\n\tbox[2]\t= box[5];\n\tbox[5]\t= box[3];\n\tbox[3]\t= tmp;\n\n\treturn box;\n\n}\n\n// cÉñ]³¹éÖ\nstd::vector <int> rotate_v( std::vector <int> box )\n{\n\t// cñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\tint tmp = box[0];\n\tbox[0] = box[4];\n\tbox[4] = box[5];\n\tbox[5] = box[1];\n\tbox[1] = tmp;\n\n\treturn box;\n\n}\n\n// Gg[|Cg\nint main()\n{\n\t// §ûÌÌ6ÊðyLÅFt¯µ½àÌðìiÆµÄoWµ½\n\t// §ûÌðñ]³¹éÆ¯¶gÝí¹ÉÈÁÄµÜ¤±ÆÉCªt¢½\n\t// d¡ð³­µ½Æ«ÇÁÅ½Âìè¼·Kvª é©ßé\n\n\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set <std::vector <int>> table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Green\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tif( j > 0 )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_h( box );\n\t\t\t\t}\n\t\t\t\ttable.insert( box );\n\t\t\t\t\n\t\t\t\t// c\n\t\t\t\tfor( int k = 0; k < 4; ++k )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_v( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// debug\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <iostream>\n\nusing namespace std;\n\nint n;\nstring str[31][6];\n\nbool roll(int x,int y){\n\tbool flag2=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][1];\n\t\tstr[y][1]=str[y][2];\n\t\tstr[y][2]=str[y][4];\n\t\tstr[y][4]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tbool flag=true;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tif(str[y][j]!=str[x][j])flag=false;\n\t\t}\n\t\tif(flag)flag2=true;\n\t}\n\treturn flag2;\n}\n\nbool check(int x,int y){\n\tbool flag=true;\n\tif(roll(x,y))flag=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][1];\n\t\tstr[y][1]=str[y][5];\n\t\tstr[y][5]=str[y][4];\n\t\tstr[y][4]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\treturn flag;\n}\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin >> str[i][j];\n\t\t\t}\n\t\t}\n\t\tint cnt=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tbool flag=true;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(!check(i,j))flag=false;\n\t\t\t}\n\t\t\tif(flag)cnt++;\n\t\t}\n\t\tprintf(\"%d\\n\",n-cnt);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint Dice[6][6] = { { 1,5,2,3,0,4 },{ 4,0,2,3,5,1 },{ 3,1,0,5,4,2 },{ 2,1,5,0,4,3 },{ 0,2,4,1,3,5 },{ 0,3,1,4,2,5 } }, power[6] = { 1,3,9,27,81,243 };\nstruct Saikoro { int x[6]; }; Saikoro T[30]; int n, vis[30]; char F[7] = \"CYRMGB\"; bool G[30][30];\nbool bfs(int p, int q) {\n\tfor (int i = 0; i < 729; i++) {\n\t\tint bit[6]; for (int j = 0; j < 6; j++) { bit[j] = (i / power[j]) % 3; }\n\t\tSaikoro U = T[p];\n\t\tfor (int j = 0; j < 6; j++) {\n\t\t\tfor (int k = 0; k <= bit[j]; k++) {\n\t\t\t\tSaikoro V = U; for (int l = 0; l < 6; l++)V.x[l] = U.x[Dice[j][l]]; U = V;\n\t\t\t}\n\t\t}\n\t\tbool OK = true; for (int j = 0; j < 6; j++) { if (T[q].x[j] != U.x[j])OK = false; }\n\t\tif (OK == true)return true;\n\t}\n\treturn false;\n}\nint main() {\n\twhile (true) {\n\t\tfor (int i = 0; i < 30; i++) { for (int j = 0; j < 30; j++)G[i][j] = false; vis[i] = 0; }\n\t\tcin >> n; if (n == 0)break; for (int i = 0; i < n; i++) { for (int j = 0; j < 6; j++) { string S; cin >> S; for (int k = 0; k < 6; k++) { if (S[0] == F[k])T[i].x[j] = k; } } }\n\t\tfor (int i = 0; i < n; i++) { for (int j = i + 1; j < n; j++) { G[i][j] = bfs(i, j); G[j][i] = G[i][j]; } }\n\t\tint cnt = 0; for (int i = 0; i < n; i++) { if (vis[i] != 0)continue; cnt++; vis[i] = cnt; for (int j = 0; j < n; j++) { for (int k = 0; k < n; k++) { if (vis[k] != cnt)continue; for (int l = 0; l < n; l++) { if (G[k][l] == true)vis[l] = cnt; } } } }\n\t\tcout << n - cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string.h>\n#include <string>\nusing namespace std;\n\ntypedef vector<string> Dice;\n\nvoid rotate_front(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[4];\n\tdice[4] = dice[5];\n\tdice[5] = dice[1];\n\tdice[1] = t;\n}\n\nvoid rotate_right(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[3];\n\tdice[3] = dice[5];\n\tdice[5] = dice[2];\n\tdice[2] = t;\n}\n\nvoid rotate_clock(Dice& dice)\n{\n\tstring t = dice[1];\n\tdice[1] = dice[2];\n\tdice[2] = dice[4];\n\tdice[4] = dice[3];\n\tdice[3] = t;\n}\n\nvoid rotate(Dice& dice, string top)\n{\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_front(dice);\n\t}\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_right(dice);\n\t}\n}\n\nbool match(Dice d1, Dice d2)\n{\n\tif(d1[5] != d2[5]) return false;\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tbool is_match = true;\n\t\tfor(int j=1; j<5; j++)\n\t\t{\n\t\t\tif(d1[j] != d2[j])\n\t\t\t{\n\t\t\t\tis_match = false;\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t\tif(is_match) return true;\n\t\t\n\t\trotate_clock(d2);\n\t}\n\n\treturn false;\n}\n\nint table[6];\n\nint main()\n{\n\tint T;\n\tstring color;\n\tvector<Dice> dices;\n\n\twhile(cin >> T, T)\n\t{\n\t\tdices = vector<Dice>(T);\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<6; i++)\n\t\t\t{\n\t\t\t\tcin >> color;\n\t\t\t\tdices[t].push_back(color);\n\t\t\t}\n\t\t\tif(t != 0) rotate(dices[t], dices[0][0]);\n\t\t}\n\n\t\tint match_count = 0;\n\t\tmemset(&table[0], 0, sizeof(int)*6);\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<t; i++)\n\t\t\t{\n\t\t\t\tif(match(dices[t], dices[i]))\n\t\t\t\t{\n\t\t\t\t\tif(!table[t] || !table[i])\n\t\t\t\t\t{\n\t\t\t\t\t\ttable[t] = 1;\n\t\t\t\t\t\ttable[i] = 1;\n\t\t\t\t\t\tmatch_count++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", match_count);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nint main(){\n  int i,j,k,l;\n  int a[30][6],b[6],n;\n  string s[]={\"Cyan\",\"Yellow\",\"Red\",\"Magenta\",\"Green\",\"Blue\"},t;\n  while(cin>>n&&n){\n    l=0;\n    for(i=0;i<n-l;i++){\n      cin>>t;\n      for(j=0;s[j]!=t;j++);\n      a[i][0]=j;\n      cin>>t;\n      for(j=0;s[j]!=t;j++);\n      a[i][1]=j;\n      cin>>t;\n      for(j=0;s[j]!=t;j++);\n      a[i][2]=j;\n      cin>>t;\n      for(j=0;s[j]!=t;j++);\n      a[i][4]=j;\n      cin>>t;\n      for(j=0;s[j]!=t;j++);\n      a[i][3]=j;\n      cin>>t;\n      for(j=0;s[j]!=t;j++);\n      a[i][5]=j;\n      for(j=0;j<i;j++){\n\tmemcpy(b,&a[i][0],6*sizeof(int));\n\tfor(k=0;b[k]!=a[j][0];k++);\n\tif(0){\n\t}else if(k==0){\n\t}else if(k==1){\n\t  swap(b[3],b[0]);\n\t  swap(b[0],b[1]);\n\t  swap(b[1],b[5]);\t  \n\t}else if(k==2){\n\t  swap(b[4],b[0]);\n\t  swap(b[0],b[2]);\n\t  swap(b[2],b[5]);\n\t}else if(k==3){\n\t  swap(b[1],b[0]);\n\t  swap(b[0],b[3]);\n\t  swap(b[3],b[5]);\n\t}else if(k==4){\n\t  swap(b[2],b[0]);\n\t  swap(b[0],b[4]);\n\t  swap(b[4],b[5]);\n\t}else if(k==5){\n\t  swap(b[3],b[0]);\n\t  swap(b[0],b[1]);\n\t  swap(b[1],b[5]);\n\t  swap(b[3],b[0]);\n\t  swap(b[0],b[1]);\n\t  swap(b[1],b[5]);\n\t}\n\tfor(k=0;k<4;k++){\n\t  if(b[0]==a[j][0]&&b[1]==a[j][1]&&b[2]==a[j][2]&&b[3]==a[j][3]&&b[4]==a[j][4]&&b[5]==a[j][5])\n\t    break;\n\t  swap(b[4],b[1]);\n\t  swap(b[1],b[2]);\n\t  swap(b[2],b[3]);\n\t}\n\tif(k!=4){\n\t  i--;\n\t  l++;\n\t  break;\n\t}\n      }\n    }\n    cout<<l<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Cube {\n  string label[6];\n  void swap(int a, int b, int c, int d) {\n    string temp = label[a];\n    label[a] = label[b];\n    label[b] = label[c];\n    label[c] = label[d];\n    label[d] = temp;\n  }\n  void roll(char dir) {\n    switch (dir) {\n    case 'N': swap(0, 1, 5, 4); break;\n    case 'E': swap(0, 3, 5, 2); break;\n    case 'R': swap(1, 2, 4, 3); break;\n    }\n  }\n  bool is_same(Cube& c) {\n    for (auto& dir : \"RRRRNRRRRERRRRNRRRRERRRRNRRRR\") {\n      if (sequence_equal(c)) return true;\n      roll(dir);\n    }\n    return false;\n  }\n  bool sequence_equal(Cube& c) {\n    for (int i = 0; i < 6; i++) {\n      if (label[i] != c.label[i]) return false;\n    }\n    return true;\n  }\n};\n\nint main() {\n  int n;\n  while (cin >> n, n) {\n    vector<Cube> c(n);\n    for (int i = 0; i < n; i++) {\n      for (int j = 0; j < 6; j++) {\n        cin >> c[i].label[j];\n      }\n    }\n    vector<int> m(n, 1);\n    int cnt = 0;\n    for (int i = 0; i < n; i++) {\n      if (!m[i]) continue;\n      for (int j = i + 1; j < n; j++) {\n        if (m[j] && c[i].is_same(c[j])) {\n          m[j] = 0;\n          cnt++;\n        }\n      }\n    }\n    cout << cnt << \"\\n\";\n  }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n\n#define rep(i,n) for(int i = 0 ; i < n ; i++) \n\nclass Cube{\nprivate:\n  string tmp;\npublic:\n  string d[6];\n \n  void rollN(){\n    tmp = d[0];\n    d[0] = d[1];\n    d[1] = d[5];\n    d[5] = d[4];\n    d[4] = tmp;\n  }\n \n  void rollW(){\n    tmp = d[0];\n    d[0] = d[2];\n    d[2] = d[5];\n    d[5] = d[3];\n    d[3] = tmp;\n  }\n\n  void rotation(){\n    tmp = d[1];\n    d[1] = d[3];\n    d[3] = d[4];\n    d[4] = d[2];\n    d[2] = tmp;\n  }\n\n  bool judge(Cube &C){\n    rep(i,6){\n      if(d[i] != C.d[i]){\n        return false;\n      }\n    }\n    return true;\n  }\n\n  bool equals(Cube &C){\n    rep(i,3){\n      rollN();\n      if(d[0] == C.d[0]){\n        break;\n      }\n      rollW();\n      if(d[0] == C.d[0]){\n        break;\n      }\n    }\n    rep(i,4){\n      if(judge(C)){\n        return true;\n      }\n      rotation();\n    }\n    return false;\n  }\n};\n \nint main(){\n  int N;\n\n  while(cin >> N, N){\n    Cube cube[N];\n    rep(i,N){\n      rep(j,6){\n        cin >> cube[i].d[j];\n      }\n    }   \n\n    int ans = 0;\n    bool used[N];\n    memset(used, false, sizeof(used));\n    rep(i,N-1){\n      for(int j = i+1 ; j < N ; j++){\n        if(cube[i].equals(cube[j]) && !used[j]){\n          used[j] = true;\n          ans++;\n        }\n      }\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nstruct A{\n\tstring s[6];\n\tvoid input(){\n\t\tfor(int i=0;i<6;i++)cin>>s[i];\n\t}\n\tbool operator==(const A&a){\n\t\tfor(int _=0;_<8;_++)\n\t\t{\n\t\t\tfor(int __=0;__<4;__++)\n\t\t\t{\n\t\t\t\tbool flag=true;\n\t\t\t\tfor(int i=0;i<6;i++)flag&=s[i]==a.s[i];\n\t\t\t\tif(flag)return true;\n\t\t\t\tstring tmp=s[1];\n\t\t\t\ts[1]=s[2];\n\t\t\t\ts[2]=s[4];\n\t\t\t\ts[4]=s[3];\n\t\t\t\ts[3]=tmp;\n\t\t\t}\n\t\t\tif(_<4)\n\t\t\t{\n\t\t\t\tstring tmp=s[0];\n\t\t\t\ts[0]=s[1];\n\t\t\t\ts[1]=s[5];\n\t\t\t\ts[5]=s[4];\n\t\t\t\ts[4]=tmp;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tstring tmp=s[0];\n\t\t\t\ts[0]=s[2];\n\t\t\t\ts[2]=s[5];\n\t\t\t\ts[5]=s[3];\n\t\t\t\ts[3]=tmp;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\nint N;\nA a[30];\nbool used[30];\nmain()\n{\n\twhile(cin>>N,N)\n\t{\n\t\tint ans=0;\n\t\tfor(int i=0;i<N;i++)\n\t\t{\n\t\t\ta[i].input();\n\t\t\tused[i]=true;\n\t\t\tfor(int j=0;j<i;j++)\n\t\t\t{\n\t\t\t\tif(used[j]&&a[j]==a[i])\n\t\t\t\t{\n\t\t\t\t\tused[i]=false;\n\t\t\t\t\tans++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint t[6],n,a,flg,cnt,tmp,p[6][6][6][6][6][6];\nstring moji;\nvoid init(){\n  if(a==6){\n    p[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]]=0;\n  }else{\n    for(int i=0;i<6;i++){\n      t[a]=i;\n      a++;\n      init();\n      a--;\n    }\n  }\n}\nint change(){\n  if(moji==\"Red\"){\n    return 0;\n  }else if(moji==\"Yellow\"){\n    return 1;\n  }else if(moji==\"Blue\"){\n    return 2;\n  }else if(moji==\"Magenta\"){\n    return 3;\n  }else if(moji==\"Green\"){\n    return 4;\n  }else{\n    return 5;\n  }\n}\nvoid mov(int z){\n  for(int j=0;j<4;j++){\n    tmp=t[0]; t[0]=t[2]; t[2]=t[5]; t[5]=t[3]; t[3]=tmp;\n    for(int k=0;k<3;k++){\n      tmp=t[0]; t[0]=t[4]; t[4]=t[5]; t[5]=t[1]; t[1]=tmp;\n      if(t[0]==z){\n    //cout<<t[4]<<endl<<t[3]<<t[0]<<t[2]<<t[5]<<endl<<t[1]<<endl;\n    return;\n      }\n    }\n  }\n}\nint main(){\n  while(1){\n    cin>>n;\n    if(n==0)break;\n    flg=cnt=a=0;\n    init();\n \n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tcin>>moji;\n\tt[j]=change();\n      }\n      if(p[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]]==1){\n\tcnt++;\n      }else{\n\tfor(int j=0;j<6;j++){\n\t  mov(j);\n\t  for(int k=0;k<4;k++){\n\t    tmp=t[1];  t[1]=t[2];  t[2]=t[4];  t[4]=t[3];  t[3]=tmp;\n\t    p[t[0]][t[1]][t[2]][t[3]][t[4]][t[5]]=1;\n\t  }\n\t  \n\t}\n      }\n    }\n    cout<<cnt<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n\n#define rep(i,n) for(int i = 0 ; i < n ; i++) \n\nclass Cube{\nprivate:\n  string tmp;\npublic:\n  string d[6];\n \n  void rollN(){\n    tmp = d[0];\n    d[0] = d[1];\n    d[1] = d[5];\n    d[5] = d[4];\n    d[4] = tmp;\n  }\n \n  void rollW(){\n    tmp = d[0];\n    d[0] = d[2];\n    d[2] = d[5];\n    d[5] = d[3];\n    d[3] = tmp;\n  }\n\n  void rotation(){\n    tmp = d[1];\n    d[1] = d[3];\n    d[3] = d[4];\n    d[4] = d[2];\n    d[2] = tmp;\n  }\n\n  bool judge(Cube &C){\n    rep(i,6){\n      if(d[i] != C.d[i]){\n        return false;\n      }\n    }\n    return true;\n  }\n\n  bool equals(Cube &C){\n    rep(i,3){\n      rollN();\n      if(d[0] == C.d[0]){\n        break;\n      }\n      rollW();\n      if(d[0] == C.d[0]){\n        break;\n      }\n    }\n    rep(i,4){\n      if(judge(C)){\n        return true;\n      }\n      rotation();\n    }\n    return false;\n  }\n};\n \nint main(){\n  int N;\n\n  while(cin >> N, N){\n    Cube cube[N];\n    rep(i,N){\n      rep(j,6){\n        cin >> cube[i].d[j];\n      }\n    }   \n\n    int ans = 0;\n    rep(i,N-1){\n      for(int j = i+1 ; j < N ; j++){\n        if(cube[i].equals(cube[j])){\n          ans++;\n        }\n      }\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n \nint main()\n{\n    int i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n    char c[8];\n    char color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n \n    scanf(\"%d\", &n);\n    while (n > 0) {\n        for (i0 = 0; i0 < n; i0++) {\n            for (i1 = 0; i1 < 6; i1++) {\n                scanf(\"%s\", c);\n                for (i2 = 0; i2 < 6; i2++) {\n                    if (strcmp(c, color[i2]) == 0) {\n                        d[i0][i1] = i2;\n                        break;\n                    }\n                }\n            }\n        }\n        m = 0;\n        for (i0 = 0; i0 < n; i0++)\n            s[i0] = 1;\n        for (i0 = 0; i0 < n; i0++) {\n            if (s[i0] > 0) {\n                m++;\n                s[i0] = 0;\n                for (i1 = i0+1; i1 < n; i1++) {\n                    sw = 0;\n                    for (i2 = 0; i2 < 6 && sw == 0; i2++) {\n                        for (i3 = 0; i3 < 6 && sw == 0; i3++) {\n                            if (d[i0][i2] == d[i1][i3]) {\n                                if (d[i0][5-i2] != d[i1][5-i3])\n                                    sw = 1;\n                            }\n                        }\n                    }\n                    if (sw == 0)\n                        s[i1] = 0;\n                }\n            }\n        }\n        printf(\"%d\\n\", n-m);\n        scanf(\"%d\", &n);\n    }\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n#include <cmath>\n\nstatic const int MOD = 1000000007;\nusing ll = long long;\nusing u32 = unsigned;\nusing u64 = unsigned long long;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\n\nint main() {\n    using P = array<int, 6>;\n    vector<P> ps{{0,1,2,3,4,5},{0,2,3,4,1,5},{0,3,4,1,2,5},{0,4,1,2,3,5},{1,0,4,5,2,3},{1,2,0,4,5,3},{1,4,5,2,0,3},{1,5,2,0,4,3},{2,0,1,5,3,4},{2,1,5,3,0,4},{2,3,0,1,5,4},{2,5,3,0,1,4},{3,0,2,5,4,1},{3,2,5,4,0,1},{3,4,0,2,5,1},{3,5,4,0,2,1},{4,0,3,5,1,2},{4,1,0,3,5,2},{4,3,5,1,0,2},{4,5,1,0,3,2},{5,1,4,3,2,0},{5,2,1,4,3,0},{5,3,2,1,4,0},{5,4,3,2,1,0}};\n    auto mul = [](P a, P b){\n        P res;\n        for (int i = 0; i < 6; ++i) res[i] = a[b[i]];\n        return res;\n    };\n    vector<string> v{\"Blue\",\"Cyan\",\"Green\",\"Magenta\",\"Red\",\"Yellow\"};\n    int n;\n    while(cin >> n, n){\n        vector<P> A(n);\n        int cnt = 0;\n        for (int i = 0; i < n; ++i) {\n            for (int j = 0; j < 6; ++j) {\n                string s;\n                cin >> s;\n                A[i][j] = lower_bound(v.begin(),v.end(), s)-v.begin();\n            }\n            swap(A[i][3], A[i][4]);\n            int ok = 0;\n            for (int j = 0; j < i; ++j) {\n                for (int k = 0; k < ps.size(); ++k) {\n                    if(A[j] == mul(A[i], ps[k])){\n                        ok = 1;\n                        j = k = 100;\n                    }\n                }\n            }\n            cnt += ok;\n        }\n        cout << cnt << \"\\n\";\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n//#define int long long\nusing namespace std;\n\nstruct Dice\n{\n\tint c[6];\t//??????????????????\n\n\tDice() {}\n\n\t//c0:???, c1:??????, c2:???, c3:?\\\\, c4:???, c5:???\n\tDice(int c0, int c1, int c2, int c3, int c4, int c5)\n\t{\n\t\tc[0] = c0; c[1] = c1; c[2] = c2; c[3] = c3; c[4] = c4; c[5] = c5;\n\t}\n\n\tvoid temae()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[3]; c[3] = c[5]; c[5] = c[1];\n\t\tc[1] = temp;\n\t}\n\n\tvoid oku()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[1]; c[1] = c[5]; c[5] = c[3];\n\t\tc[3] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_migi()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[4]; c[4] = c[3]; c[3] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_hidari()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[2]; c[2] = c[3]; c[3] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_migi()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[4]; c[4] = c[5]; c[5] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_hidari()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[2]; c[2] = c[5]; c[5] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//1???????????\\?????????????????¢??????2????¨????????????´????????????????\\\\??????????????°3????\\\\????????????????????????\n\tvoid format()\n\t{\n\t\tif (c[0] == 1) {\n\t\t\t;\n\t\t} else if (c[1] == 1) {\n\t\t\toku();\n\t\t} else if (c[2] == 1) {\n\t\t\tz_hidari();\n\t\t} else if (c[3] == 1) {\n\t\t\ttemae();\n\t\t} else if (c[4] == 1) {\n\t\t\tz_migi();\n\t\t} else if (c[5] == 1) {\n\t\t\toku();\n\t\t\toku();\n\t\t}\n\n\t\tif (c[1] == 2)\n\t\t{\n\t\t\ty_migi();\n\t\t\ty_migi();\n\t\t} else if (c[2] == 2) {\n\t\t\ty_migi();\n\t\t} else if (c[4] == 2) {\n\t\t\ty_hidari();\n\t\t} else if (c[3] == 2) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (c[1] == 3)\n\t\t\t{\n\t\t\t\ty_migi();\n\t\t\t\ty_migi();\n\t\t\t} else if (c[2] == 3) {\n\t\t\t\ty_migi();\n\t\t\t} else if (c[4] == 3) {\n\t\t\t\ty_hidari();\n\t\t\t}\n\t\t}\n\t}\n\n\tbool operator == (const Dice &d) const {\n\t\tDice td1 = Dice(c[0], c[1], c[2], c[3], c[4], c[5]);\n\t\tDice td2 = d;\n\n\t\ttd1.format();\n\t\ttd2.format();\n\n\t\trep(i,6)\n\t\t{\n\t\t\tif (td1.c[i] != td2.c[i]) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nint n;\nmap<string, int> c2n;\nstring color[6];\nint cc[6];\nDice d[30];\nbool used[30];\n\nsigned main()\n{\n\tc2n[\"Red\"] = 1;\n\tc2n[\"Yellow\"] = 2;\n\tc2n[\"Blue\"] = 3;\n\tc2n[\"Magenta\"] = 4;\n\tc2n[\"Green\"] = 5;\n\tc2n[\"Cyan\"] = 6;\n\n\twhile (true)\n\t{\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\trep(j,n)\n\t\t{\n\t\t\trep(i,6) cin >> color[i];\n\t\t\tcc[0] = c2n[color[0]];\n\t\t\tcc[1] = c2n[color[1]];\n\t\t\tcc[2] = c2n[color[2]];\n\t\t\tcc[3] = c2n[color[4]];\n\t\t\tcc[4] = c2n[color[3]];\n\t\t\tcc[5] = c2n[color[5]];\n\t\t\td[j] = Dice(cc[0], cc[1], cc[2], cc[3], cc[4], cc[5]);\n\t\t}\n\n\t\trep(i,n) used[i] = false;\n\n\t\tint ans = 0;\n\t\tfor (int i=0; i<n; i++)\n\t\t{\n\t\t\tfor (int j=i+1; j<n; j++)\n\t\t\t{\n\t\t\t\tif (d[i] == d[j] && used[j] = false;)\n\t\t\t\t{\n\t\t\t\t\tans++;\n\t\t\t\t\tused[j] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d );\nstd::vector <int> rotate_x( std::vector <int> box );\nstd::vector <int> rotate_y( std::vector <int> box );\nstd::vector <int> rotate_z( std::vector <int> box );\n\n// ñ]\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d )\n{\n\tint tmp = box[a];\n\tbox[a] = box[b];\n\tbox[b] = box[c];\n\tbox[c] = box[d];\n\tbox[d] = tmp;\n\n\treturn box;\n}\n\n// xÉñ]³¹éÖ\nstd::vector <int> rotate_x( std::vector <int> box )\n{\n\t// xñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\treturn rotate( box, 0, 4, 5, 1 );\n\n}\n\n\n// yÉñ]³¹éÖ\nstd::vector <int> rotate_y( std::vector <int> box )\n{\n\t// yñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c1, c4, c2, c5, c3, c6\n\n\treturn rotate( box, 1, 3, 4, 2 );\n\n}\n\n// zÉñ]³¹éÖ\nstd::vector <int> rotate_z( std::vector <int> box )\n{\n\t// zñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\n\treturn rotate( box, 0, 2 ,5 ,3 );\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Grdeen\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\n\t\t\t\t// x\n\t\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_x( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t\tfor( int k = 0; k < 6; ++k )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( k % 2 == 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_y( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_z( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n// If this structure is used for two-dimensional surface,\n// it assumes that the face id[0] faces the positive direction of the Y axis,\n// the face id[1] faces the positive direction of the X axis\n// and id[2] is top of the dice.\nstruct Dice {\n  int id[6], cnt;\n  const static int f[3][3];\n\n  Dice() { init(); }\n\n  void init() {\n    for(int i = 0; i < 6; ++i) {\n      id[i] = i;\n    }\n    cnt = 0;\n  }\n\n  // type (0:spin, 1:rollX, 2:rollY)\n  // dir 1( ccw     neg      pos   )\n  //    -1( cw      pos      neg   )\n  void rotate(int type, int dir = 1) {\n    const int *v = f[type];\n    int a,b,c,t; a=v[0]; b=v[1]; c=v[2]; t=id[type];\n    if(dir < 0) swap(a,c);\n    id[type]=id[a]; id[a]=id[b]; id[b]=id[c]; id[c]=t;\n  }\n\n  bool next() {\n    ++cnt;\n    if(cnt == 24) {\n      rotate(0,-1);\n      rotate(1,-1);\n      cnt = 0;\n      return false;\n    }\n    if(cnt == 4*3) {\n      rotate(2,-1);\n      rotate(0,-1);\n    } else if(cnt%4 == 0) {\n      rotate(2);\n    } else {\n      rotate(0);\n    }\n    return true;\n  }\n\n  void roll(int dir) {\n    //const static int dx[] = {1,0,-1,0};\n    //const static int dy[] = {0,1,0,-1};\n    switch(dir) {\n      case 0: rotate(1,-1); break;\n      case 1: rotate(2, 1); break;\n      case 2: rotate(1, 1); break;\n      case 3: rotate(2,-1); break;\n    }\n  }\n\n  bool operator < (const Dice &d) const {\n    for(int i = 0; i < 3; ++i)\n      if(id[i] != d.id[i]) return id[i] < d.id[i];\n    return false;\n  }\n\n  void show() {\n    cout << id[4] << \" / \\\\ \" << id[5] << endl;\n    cout << \" /   \\\\\" << endl;\n    cout << \"|\\\\ \" << id[2] << \" /|\" << endl;\n    cout << \"|\" << id[0] << \"\\\\ /\" << id[1] << \"|\" << endl;\n    cout << \" \\\\ | /\" << endl;\n    cout << \"  \\\\|/\" << endl;\n    cout << \"   \" << id[3] << endl;\n  }\n};\nconst int Dice::f[3][3] = {{4,5,1},{3,4,2},{5,3,0}};\n\n\nint main() {\n  map<string,int> id;\n  for(int n; cin >> n && n;) {\n    set<vector<int> > st;\n    for(int i = 0; i < n; ++i) {\n      vector<int> v;\n      for(int j = 0; j < 6; ++j) {\n        string s;\n        cin >> s;\n        if(!id.count(s)) id[s] = id.size()-1;\n        v.push_back(id[s]);\n      }\n      Dice d;\n\n      do {\n        vector<int> u;\n        for(int j = 0; j < 6; ++j) {\n          u.push_back(v[d.id[j]]);\n        }\n        st.insert(u);\n      } while(d.next());\n    }\n    cout << n - (int)st.size()/24 << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string.h>\n#include <string>\nusing namespace std;\n\ntypedef vector<string> Dice;\n\nvoid rotate_front(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[4];\n\tdice[4] = dice[5];\n\tdice[5] = dice[1];\n\tdice[1] = t;\n}\n\nvoid rotate_right(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[3];\n\tdice[3] = dice[5];\n\tdice[5] = dice[2];\n\tdice[2] = t;\n}\n\nvoid rotate_clock(Dice& dice)\n{\n\tstring t = dice[1];\n\tdice[1] = dice[2];\n\tdice[2] = dice[4];\n\tdice[4] = dice[3];\n\tdice[3] = t;\n}\n\nvoid rotate(Dice& dice, string top)\n{\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_front(dice);\n\t}\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_right(dice);\n\t}\n}\n\nbool match(Dice d1, Dice d2)\n{\n\tif(d1[5] != d2[5]) return false;\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tbool is_match = true;\n\t\tfor(int j=1; j<5; j++)\n\t\t{\n\t\t\tif(d1[j] != d2[j])\n\t\t\t{\n\t\t\t\tis_match = false;\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t\tif(is_match) return true;\n\t\t\n\t\trotate_clock(d2);\n\t}\n\n\treturn false;\n}\n\nint table[6];\n\nint main()\n{\n\tint T;\n\tstring color;\n\tvector<Dice> dices;\n\n\twhile(cin >> T, T)\n\t{\n\t\tdices = vector<Dice>(T);\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<6; i++)\n\t\t\t{\n\t\t\t\tcin >> color;\n\t\t\t\tdices[t].push_back(color);\n\t\t\t}\n\t\t\tif(t != 0) rotate(dices[t], dices[0][0]);\n\t\t}\n\n\t\tint match_count = 0;\n\t\tmemset(&table[0], 0, sizeof(int)*6);\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<t; i++)\n\t\t\t{\n\t\t\t\tif(match(dices[t], dices[i]))\n\t\t\t\t{\n\t\t\t\t\tif(!table[t] || !table[i])\n\t\t\t\t\t{\n\t\t\t\t\t\ttable[t] = 1;\n\t\t\t\t\t\ttable[i] = 1;\n\t\t\t\t\t\tmatch_count++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", match_count);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint main(){\n    int c1[100],c2[100],c3[100],c4[100],c5[100],c6[100],i,j,n,k[100],count=0;\n    for(j=0;j<100;j++){\n    cin>>n;\n    for(i=0;i<n;i++){\n        cin>>c1[i]>>c2[i]>>c3[i]>>c4[i]>>c5[i]>>c6[i];\n        if(c1[i]==0&&c2[i]==0){\n            break;\n        }\n        k[i]=c1[i]>>c2[i]>>c3[i]>>c4[i]>>c5[i]>>c6[i];\n    }\n        if(k[i]==k[i]){\n            count++;\n        }\n        cout<<count<<endl;\n        count=0;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d );\nstd::vector <int> rotate_x( std::vector <int> box );\nstd::vector <int> rotate_y( std::vector <int> box );\nstd::vector <int> rotate_z( std::vector <int> box );\n\n// ñ]\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d )\n{\n\tint tmp = box[a];\n\tbox[a] = box[b];\n\tbox[b] = box[c];\n\tbox[c] = box[d];\n\tbox[d] = tmp;\n\n\treturn box;\n}\n\n// xÉñ]³¹éÖ\nstd::vector <int> rotate_x( std::vector <int> box )\n{\n\t// xñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\treturn rotate( box, 0, 4, 5, 1 );\n\n}\n\n\n// yÉñ]³¹éÖ\nstd::vector <int> rotate_y( std::vector <int> box )\n{\n\t// yñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c1, c4, c2, c5, c3, c6\n\n\treturn rotate( box, 1, 3, 4, 2 );\n\n}\n\n// zÉñ]³¹éÖ\nstd::vector <int> rotate_z( std::vector <int> box )\n{\n\t// zñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\n\treturn rotate( box, 0, 2 ,5 ,3 );\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Grdeen\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\n\t\t\tfor( int k = 0; k < 6; ++k )\n\t\t\t{\n\t\t\t\t// x\n\t\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_x( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\n\t\t\t\tif( k % 2 == 0 )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_y( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_z( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<27;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n\nusing namespace std;\n\nint main()\n{\n\twhile(true)\n\t{\n\t\tint n = 0;\n\t\tstring color[31][6];\n\n\t\tcin >> n;\n\n\t\tif(n == 0)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tfor(int i = 0; i < n; i++)\n\t\t{\n\t\t\tfor(int j = 0; j < 6; j++)\n\t\t\t{\n\t\t\t\tcin >> color[i][j];\n\t\t\t}\n\t\t}\n\n\t\tint count = 0;\n\n\t\tfor(int i = 0; i < n; i++)\n\t\t{\n\t\t\tfor(int j = i; j < n; j++)\n\t\t\t{\n\t\t\t\tif(i != j)\n\t\t\t\t{\n\t\t\t\t\tbool flag = true;\n\n\t\t\t\t\tfor(int k = 0; k < 6; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(color[i][k] != color[j][k])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(flag)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << count << endl;\t\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef vector<int> vi;\n\ninline vi rotate(const vi &t)\n{\n    int idx=0;\n    while(idx<6 && t[idx]!=0) ++idx;\n\n    vi a;\n    if(idx==0) a=vi({0,1,2,3,4,5});\n    else if(idx==1) a=vi({1,5,2,3,0,4});\n    else if(idx==2) a=vi({2,1,5,0,4,3});\n    else if(idx==3) a=vi({3,1,0,5,4,2});\n    else if(idx==4) a=vi({4,0,2,3,5,1});\n    else if(idx==5) a=vi({5,4,2,3,1,0});\n\n    vi ret(6);\n    rep(i,6) ret[i]=t[a[i]];\n    return ret;\n}\n\ninline vi normalize(const vi &t)\n{\n    vi side({t[1],t[2],t[4],t[3]});\n\n    vector<vi> s;\n    rep(i,4)\n    {\n        vi a(4);\n        rep(j,4) a[j]=side[(j+i)%4];\n        s.pb(a);\n    }\n    sort(all(s));\n    return s[0];\n}\n\nint main()\n{\n    int n;\n    while(cin >>n,n)\n    {\n        vector<vi> d(n);\n        rep(i,n)\n        {\n            vi t(6);\n            rep(j,6)\n            {\n                string s;\n                cin >>s;\n                if(s==\"Red\") t[j]=0;\n                else if(s==\"Yellow\") t[j]=1;\n                else if(s==\"Blue\") t[j]=2;\n                else if(s==\"Magenta\") t[j]=3;\n                else if(s==\"Green\") t[j]=4;\n                else if(s==\"Cyan\") t[j]=5;\n            }\n            d[i]=rotate(t);\n        }\n\n        set<vi> s[6];\n        rep(i,n) s[d[i][5]].insert(normalize(d[i]));\n\n        int diff=0;\n        rep(i,6) diff+=s[i].size();\n        cout << n-diff << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n??\nint main()\n{\n????????int i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n????????char c[8];\n????????char color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n??\n????????scanf(\"%d\", &n);\n????????while (n > 0) {\n????????????????for (i0 = 0; i0 < n; i0++) {\n????????????????????????for (i1 = 0; i1 < 6; i1++) {\n????????????????????????????????scanf(\"%s\", c);\n????????????????????????????????for (i2 = 0; i2 < 6; i2++) {\n????????????????????????????????????????if (strcmp(c, color[i2]) == 0) {\n????????????????????????????????????????????????d[i0][i1] = i2;\n????????????????????????????????????????????????break;\n????????????????????????????????????????}\n????????????????????????????????}\n????????????????????????}\n????????????????}\n????????????????m = 0;\n????????????????for (i0 = 0; i0 < n; i0++)\n????????????????????????s[i0] = 1;\n????????????????for (i0 = 0; i0 < n; i0++) {\n????????????????????????if (s[i0] > 0) {\n????????????????????????????????m++;\n????????????????????????????????s[i0] = 0;\n????????????????????????????????for (i1 = i0+1; i1 < n; i1++) {\n????????????????????????????????????????sw = 0;\n????????????????????????????????????????for (i2 = 0; i2 < 6 && sw == 0; i2++) {\n????????????????????????????????????????????????for (i3 = 0; i3 < 6 && sw == 0; i3++) {\n????????????????????????????????????????????????????????if (d[i0][i2] == d[i1][i3]) {\n????????????????????????????????????????????????????????????????if (d[i0][5-i2] != d[i1][5-i3])\n????????????????????????????????????????????????????????????????????????sw = 1;\n????????????????????????????????????????????????????????}\n????????????????????????????????????????????????}\n????????????????????????????????????????}\n????????????????????????????????????????if (sw == 0)\n????????????????????????????????????????????????s[i1] = 0;\n????????????????????????????????}\n????????????????????????}\n????????????????}\n????????????????printf(\"%d\\n\", n-m);\n????????????????scanf(\"%d\", &n);\n????????}\n??\n????????return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[31][7],d[31],f[31],g,h,i,j,k,l,o,x;\n\tchar z[31][7][10];\n\twhile(1){\n\t\tscanf(\"%d\",&a);\n\t\tif(a==0) break;\n\t\tfor(i=0;i<a;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",z[i][j]);\n\t\t\t\tif(z[i][j][0]=='R') s[i][j]=0;\n\t\t\t\tif(z[i][j][0]=='Y') s[i][j]=1;\n\t\t\t\tif(z[i][j][0]=='B') s[i][j]=2;\n\t\t\t\tif(z[i][j][0]=='M') s[i][j]=3;\n\t\t\t\tif(z[i][j][0]=='G') s[i][j]=4;\n\t\t\t\tif(z[i][j][0]=='C') s[i][j]=5;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++) f[i]=0;\n\t\tg=0;\n\t\tfor(i=0;i<a-1;i++){\n\t\t\tif(f[i]==0){\n\t\t\t\tfor(j=i+1;j<a;j++){\n\t\t\t\t\tfor(k=0;k<5;k++){\n\t\t\t\t\t\th=s[j][0];\n\t\t\t\t\t\ts[j][0]=s[j][1];\n\t\t\t\t\t\ts[j][1]=s[j][5];\n\t\t\t\t\t\ts[j][5]=s[j][4];\n\t\t\t\t\t\ts[j][4]=h;\n\t\t\t\t\t\tfor(l=0;l<5;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=h;\n\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t/*\tfor(o=0;o<6;o++) printf(\"%d %d\\n\",s[i][o],s[j][o]);\n\t\t\t\t\t\t\t\tprintf(\"%d\\n\",j);*/\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==1) break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",g);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Dice {\n\tvector<int> val;\n\tDice(){ val.resize(6); }\n\tbool operator == (const Dice &t) const {\n\t\treturn val == t.val;\n\t}\n\tbool operator != (const Dice &t) const {\n\t\treturn val != t.val;\n\t}\n\tbool operator < (const Dice &t) const {\n\t\treturn val < t.val;\n\t}\n\tvoid rotate_right(){\n\t\tint tmp = val[1];\n\t\tval[1] = val[2];\n\t\tval[2] = val[4];\n\t\tval[4] = val[3];\n\t\tval[3] = tmp;\n\t}\n\tvoid roll_front(){\n\t\tint tmp = val[0];\n\t\tval[0] = val[1];\n\t\tval[1] = val[5];\n\t\tval[5] = val[4];\n\t\tval[4] = tmp;\n\t}\n\tvoid roll_right(){\n\t\tint tmp = val[0];\n\t\tval[0] = val[3];\n\t\tval[3] = val[5];\n\t\tval[5] = val[2];\n\t\tval[2] = tmp;\n\t}\n\tvector<Dice> all_pattern(){\n\t\tvector<Dice> res;\n\t\tDice d = *this;\n\t\tfor (int i = 0; i < 6; i++){\n\t\t\tfor (int j = 0; j < 4; j++){\n\t\t\t\tres.push_back(d);\n\t\t\t\td.rotate_right();\n\t\t\t}\n\t\t\tif (i == 0) d.roll_front();\n\t\t\telse if (i < 5) d.roll_right();\n\t\t\telse d.roll_front();\n\t\t}\n\t\treturn res;\n\t}\n};\n\n\nmap<string, int> ctoi;\nint n;\nvector<Dice> dices;\n\nbool check(const vector<Dice> &A, const vector<Dice> &B)\n{\n\tfor (int i = 0; i < A.size(); i++){\n\t\tfor (int j = 0; j < B.size(); j++){\n\t\t\tif (A[i] == B[j]) return true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvoid solve()\n{\n\tvector<vector<Dice> > pats;\n\tfor (int i = 0; i < n; i++){\n\t\tpats.push_back(dices[i].all_pattern());\n\t}\n\t\n\tint res = 0;\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tfor (int j = i + 1; j < n; j++){\n\t\t\tvector<Dice> &A = pats[i];\n\t\t\tvector<Dice> &B = pats[j];\n\t\t\tif (check(A, B)){\n\t\t\t\tres++;\n\t\t\t\tcontinue;\n\t\t\t};\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\", res);\n}\n\nint main()\n{\n\tctoi[\"Red\"] = 0;\n\tctoi[\"Yellow\"] = 1;\n\tctoi[\"Blue\"] = 2;\n\tctoi[\"Magenta\"] = 3;\n\tctoi[\"Green\"] = 4;\n\tctoi[\"Cyan\"] = 5;\n\t\n\twhile (scanf(\"%d\", &n), n){\n\t\tdices.clear();\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tDice d;\n\t\t\tfor (int j = 0; j < 6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\t\t\t\td.val[j] = ctoi[str];\n\t\t\t}\n\t\t\tdices.push_back(d);\n\t\t}\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<26;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint cheak(int n,string c[][6]){\n    int cou=0;\n    for (int i=0; i<n; i++) {\n        for (int j=i+1; j<n; j++) {\n            for (int a=0; a<4; a++) {\n                if(c[i][0]==c[j][0]){\n                    for (int b=0; b<4; b++) {\n                        if(c[i][1]==c[j][1]&&c[i][2]==c[j][2]&&c[i][3]==c[j][3]&&c[i][4]==c[j][4]){\n                            cou++;\n                            break;\n                        }\n                        swap(c[i][1], c[i][3]);\n                        swap(c[i][1], c[i][4]);\n                        swap(c[i][1], c[i][2]);\n                    }\n                    break;\n                }\n                swap(c[i][0],c[i][3]);\n                swap(c[i][0],c[i][5]);\n                swap(c[i][0],c[i][2]);\n            }\n        }\n    }\n    return cou;\n}\n\nint main(){\n    int n;\n    string cube[30][6];\n    while (1) {\n        cin>>n;\n        if(n==0)break;\n        for (int i=0; i<n; i++) {\n            for (int j=0; j<6; j++) {\n                cin>>cube[i][j];\n            }\n        }\n        cout<<cheak(n, cube)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<vector<string>> v;\n        vector<string> c(6);\n        for(int j=0; j < n; j++){\n            for(int i=0; i< 6; i++){\n                cin >> c[i];\n            }\n            string a, b, d;\n            a = c[0].substr(0,1) + c[5].substr(0,1); b = c[1].substr(0,1) + c[4].substr(0,1); d = c[2].substr(0,1) + c[3].substr(0,1);\n            vector<string> p(3);\n            sort(a.begin(), a.end());\n            sort(b.begin(), b.end());\n            sort(d.begin(), d.end());\n            p[0] = a; p[1] = b; p[2] = d;\n            sort(p.begin(), p.end());\n            bool is = false;\n            for(int i=0; i < v.size(); i++){\n                bool b = true;\n                for(int j=0; j < 3; j++) if(v[i][j] != p[j])b = false;\n                if(b){is = true; break;}\n            }\n            if(!is)v.push_back(p);\n        }\n        cout << n-v.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n\nusing namespace std;\n\nint rot[6][4] = {{2, 4, 3, 1}, {2, 0, 3, 4}, {5, 4, 0, 1}, {0, 4, 5, 1}, {2, 1, 3, 0}, {3, 4, 2, 1}};\n\nstring board[30][6];\n\nbool same(int a, int b)\n{\n\tfor (int i = 0; i < 6; i++){\n\t\tfor (int j = 0; j < 6; j++){\n\t\t\tif (board[a][i] != board[b][j]) continue;\n\t\t\tfor (int dx = 0; dx < 4; dx++){\n\t\t\t\tbool same = true;\n\t\t\t\tfor (int k = 0; k < 4; k++){\n\t\t\t\t\tif (board[a][rot[i][(k + dx) % 4]] != board[b][rot[j][k]])\n\t\t\t\t\t\tsame = false;\n\t\t\t\t}\n\t\t\t\tif (same) return (true);\n\t\t\t}\n\t\t}\n\t}\n\treturn (false);\n}\n\nint main()\n{\n\tint n;\n\twhile (scanf(\"%d\", &n) && n){\n\t\tint ct = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 6; j++){\n\t\t\t\tchar tmp[64];\n\t\t\t\tscanf(\"%s\", tmp);\n\t\t\t\tboard[i][j] = tmp;\n\t\t\t}\n\t\t\tbool ok = true;\n\t\t\tfor (int j = 0; j < i; j++) if (same(i, j)) ok = false;\n\t\t\tct += ok;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", n - ct);\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<30;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <functional>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\n#define reps(i,f,n) for(int i=f; i<int(n); ++i)\n#define rep(i,n) reps(i,0,n)\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef pair<int, int> pii;\n\nconst int INF = 1001001001;\n\nstruct Dice\n{\n\tint data[6];\n\tvoid roll(int a, int b, int c, int d)\n\t{\n\t\tint tmp = data[d];\n\t\tdata[d] = data[c];\n\t\tdata[c] = data[b];\n\t\tdata[b] = data[a];\n\t\tdata[a] = tmp;\n\t}\n\tvoid rotateX(){\n\t\troll(0, 4, 5, 1);\n\t}\n\tvoid rotateY(){\n\t\troll(0, 2, 5, 3);\n\t}\n\tvoid rotateZ(){\n\t\troll(1, 2, 4, 3);\n\t}\n\tint hash()\n\t{\n\t\tint ret = INF;\n\t\trep(i, 6){\n\t\t\trep(j, 4){\n\t\t\t\tint h = 0;\n\t\t\t\trep(k, 6)\n\t\t\t\t\th = h*6 + data[k];\n\t\t\t\tret = min(ret, h);\n\t\t\t\trotateX();\n\t\t\t}\n\t\t\ti%2 ? rotateY() : rotateZ();\n\t\t}\n\t\treturn ret;\n\t}\n};\n\nint main()\n{\n\tconst char* colors[] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n\tmap<string, int> dict;\n\trep(i, 6)\n\t\tdict[colors[i]] = i;\n\t\n\tint n;\n\twhile(scanf(\"%d\", &n), n){\n\t\tint hash[30];\n\t\trep(i, n){\n\t\t\tDice dice;\n\t\t\trep(j, 6){\n\t\t\t\tchar str[128];\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tdice.data[j] = dict[str];\n\t\t\t}\n\t\t\thash[i] = dice.hash();\n\t\t}\n\t\tsort(hash, hash+n);\n\t\tprintf(\"%d\\n\", n - (unique(hash, hash+n)-hash));\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\nenum{\n  t = 0,f ,r ,b ,l ,d ,\n};\ntemplate<typename S>\nclass Dice{\n  public:\n    array<S,6> D;\n    Dice(){\n    }\n    Dice(array<S,6> d){\n      copy(all(D),d.begin());\n    }\n    void Spin(int dir){\n      if(dir == l){//\n        swap(D[t],D[r]);\n        swap(D[r],D[d]);\n        swap(D[d],D[l]);\n      }\n      else if(dir == r){\n        swap(D[t],D[l]);\n        swap(D[l],D[d]);\n        swap(D[d],D[r]);\n      }\n      else if(dir == f){\n        swap(D[t],D[b]);\n        swap(D[b],D[d]);\n        swap(D[d],D[f]);\n      }\n      else if(dir == b){\n        swap(D[t],D[f]);\n        swap(D[f],D[d]);\n        swap(D[d],D[b]);\n      }\n      else if(dir == d){//leftspin\n        swap(D[f],D[r]);\n        swap(D[r],D[b]);\n        swap(D[b],D[l]);\n      }\n      else if(dir == t){\n        swap(D[f],D[l]);\n        swap(D[l],D[b]);\n        swap(D[b],D[r]);\n      }\n    }\n    void MatchDice(int T,int F){\n      rep(i,4){\n        Spin(r);\n        if(D[t] == T)break;\n      }\n      if(D[t] != T){\n        rep(i,4){\n          Spin(f);\n          if(D[t] == T)break;\n        }\n      }\n      rep(i,4){\n        Spin(t);\n        if(D[f] == F) break;\n      }\n    }\n    S& operator[](const int i){\n      return D[i];\n    }\n    bool operator==(Dice& di2){\n      rep(i,4){\n        di2.Spin(r);\n        rep(j,4){\n          di2.Spin(t);\n          rep(k,4){\n            di2.Spin(r);\n            if(D == di2.D){\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n    friend ostream& operator<<(ostream& os,const Dice& di){\n      os << \"t f r l b d\\n\" ;\n      rep(i,6){\n        if(i) os << ' ';\n        os << di.D[i] ;\n      }\n      return os;\n    }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  map<string,int> m;\n  m[\"Cyan\"] = 0,m[\"Yellow\"] =1,m[\"Red\"]=2,m[\"Magenta\"] = 3, m[\"Green\"] = 4, m[\"Blue\"] = 5;\n  ll n;\n  while(cin >> n && n){\n    vector<Dice<string>> di(n);\n    string s,s1,s2,s3,s4,s5;\n    vector<Dice<string>> st;\n    rep(i,n){\n      cin >> s >> s1 >> s2 >> s3 >> s4 >> s5;\n      di[i][t] = s;\n      di[i][f] = s1;\n      di[i][r] = s2;\n      di[i][l] = s3;\n      di[i][b] = s4;\n      di[i][d] = s5;\n      if(st.size() == 0){\n        st.push_back(di[i]);\n      }\n      else{\n        rep(j,st.size()){\n          if(st[j] == di[i]){\n            break;\n          }\n          if(j == st.size()-1){\n            st.push_back(di[i]);\n          }\n        }\n      }\n    }\n    cout << n - st.size()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring a, b, c, d, e, f;\nint n;\nint main(){\n  while(cin >> n, n){\n    set<int> num;\n    for(int i = 0;i < n;i++){\n      cin >> a >> b >> c >> d >> e >> f;\n      int p = (int)(b[0] + e[0]) * (int)(c[0] + d[0]) * (int)(a[0] + f[0]);\n      if(((a<f) + (b<d) + (c<f)) % 3)p *= -1;\n      num.insert(p);\n    }\n    cout << n - num.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d );\nstd::vector <int> rotate_x( std::vector <int> box );\nstd::vector <int> rotate_y( std::vector <int> box );\nstd::vector <int> rotate_z( std::vector <int> box );\n\n// ñ]\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d )\n{\n\tint tmp = box[a];\n\tbox[a] = box[b];\n\tbox[b] = box[c];\n\tbox[c] = box[d];\n\tbox[d] = tmp;\n\n\treturn box;\n}\n\n// xÉñ]³¹éÖ\nstd::vector <int> rotate_x( std::vector <int> box )\n{\n\t// xñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\treturn rotate( box, 0, 4, 5, 1 );\n\n}\n\n\n// yÉñ]³¹éÖ\nstd::vector <int> rotate_y( std::vector <int> box )\n{\n\t// yñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c1, c4, c2, c5, c3, c6\n\n\treturn rotate( box, 1, 3, 4, 2 );\n\n}\n\n// zÉñ]³¹éÖ\nstd::vector <int> rotate_z( std::vector <int> box )\n{\n\t// zñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\n\treturn rotate( box, 0, 2 ,5 ,3 );\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Grdeen\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\n\t\t\t\t// x\n\t\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_x( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t\tfor( int k = 0; k < 6; ++k )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( k % 2 == 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_y( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_z( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// x\n\t\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_y( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t\tfor( int k = 0; k < 6; ++k )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( k % 2 == 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_x( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_z( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// x\n\t\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_z( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t\tfor( int k = 0; k < 6; ++k )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( k % 2 == 0 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_y( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbox = rotate_x( box );\n\t\t\t\t\t\t\ttable.insert( box );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n#include <cassert>\n#include <iostream>\n#include <cctype>\n#include <sstream>\n#include <string>\n#include <list>\n#include <vector>\n#include <queue>\n#include <set>\n#include <stack>\n#include <map>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <complex>\n#include <fstream>\nusing namespace std;\ntypedef long long ll;\nconst double EPS = 1e-9;\ntypedef vector<int> vint;\ntypedef pair<int, int> pint;\n#define rep(i, n) REP(i, 0, n)\n#define ALL(v) v.begin(), v.end()\n#define MSG(a) cout << #a << \" \" << a << endl;\n#define REP(i, x, n) for(int i = x; i < n; i++)\ntemplate<class T> T RoundOff(T a){ return int(a+.5-(a<0)); }\ntemplate<class T, class C> void chmax(T& a, C b){ if(a < b) a = b; }\ntemplate<class T, class C> void chmin(T& a, C b){ if(b < a) a = b; }\ntemplate<class T, class C> pair<T, C> mp(T a, C b){ return make_pair(a, b); }\n\nconst int trans[6][6] =\n{\n\t{1, 3, 5, 2, 4, 6},\n\t{5, 1, 3, 4, 6, 2},\n\t{4, 2, 1, 6, 5, 3},\n\t{3, 2, 6, 1, 5, 4},\n\t{2, 6, 3, 4, 1, 5},\n\t{6, 5, 3, 4, 2, 1}\t\n};\n\nstruct Cube\n{\n\tvector<string> colors;\n\tCube() : colors(6) {}\n\t\n\tCube rotate(int s)\n\t{\n\t\tvector<string> tmp(6);\n\t\trep(i, 6) tmp[trans[s][i]-1] = colors[i];\n\t\tcolors = tmp;\n\t\t\n\t\treturn *this;\n\t}\n};\n\nbool same(Cube a, Cube b)\n{\n\trep(i, 6) if(a.colors[0] == b.colors[i]) b.rotate(i);\n\t\n\trep(i, 4) if(a.colors == b.rotate(0).colors) return true;\n\t\n\treturn false;\n}\n\nstruct UnionFind {\n\tvector<int> data;\n\tUnionFind(int size) : data(size, -1) { }\n\tbool unite(int x, int y) {\n\t\tx = root(x); y = root(y);\n\t\tif (x != y) {\n\t\t\tif (data[y] < data[x]) swap(x, y);\n\t\t\tdata[x] += data[y]; data[y] = x;\n\t\t}\n\t\treturn x != y;\n\t}\n\tbool same(int x, int y) {\n\t\treturn root(x) == root(y);\n\t}\n\tint root(int x) {\n\t\treturn data[x] < 0 ? x : data[x] = root(data[x]);\n\t}\n\tint size(int x) {\n\t\treturn -data[root(x)];\n\t}\n\tint count() {\n\t\tint res = 0;\n\t\trep(i, data.size()) res += data[i] < 0;\n\t\treturn res;\n\t}\n};\n\nint main()\n{\n    int n;\n\twhile(cin >> n && n)\n\t{\n\t\tUnionFind uft(n);\n\t\tvector<Cube> cubes(n);\n\t\t\n\t\trep(i, n) rep(j, 6) cin >> cubes[i].colors[j];\n\t\t\n\t\trep(i, n) REP(j, i+1, n) if(same(cubes[i], cubes[j])) uft.unite(i, j);\n\t\t\n\t\tcout << n - uft.count() << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<string>\n#include<algorithm>\n#include<vector>\n\nusing namespace std;\n\nvector<string> CubeInfo[30];\nstring StrTmp[6];\nint N;\nbool SameFlag[30];\n//top front right left back bottom\nint RotateBase[24][6] = {\n\t{ 0,1,2,3,4,5 },{},{},{},\n\t{ 1,5,2,3,0,4 },{},{},{},\n\t{ 2,1,5,0,4,3 },{},{},{},\n\t{ 3,1,0,5,4,2 },{},{},{},\n\t{ 4,0,2,3,5,1 },{},{},{},\n\t{ 5,4,2,3,1,0 },{},{},{},\n};\n\n\nvoid fullRotateBase() {\n\tint tmp[6], num;\n\n\tfor (int i = 0; i < 21; i += 4) {\n\t\tfor (int j = 0; j < 6; ++j) {\n\t\t\ttmp[j] = RotateBase[i][j];\n\t\t}\n\t\tfor (int k = 1; k < 4; ++k) {\n\t\t\tnum = tmp[1];\n\t\t\ttmp[1] = tmp[3];\n\t\t\ttmp[3] = tmp[4];\n\t\t\ttmp[4] = tmp[2];\n\t\t\ttmp[2] = num;\n\t\t\tfor (int j = 0; j < 6; ++j) {\n\t\t\t\tRotateBase[i + k][j] = tmp[j];\n\t\t\t}\n\t\t}\n\t}\n\t/*for (int i = 0; i < 24; ++i) {\n\t\tfor (int j = 0; j < 6; ++j) {\n\t\t\tcout << RotateBase[i][j] + 1 << \" \";\n\t\t}\n\t\tcout << endl;\n\t}\n\tcout << endl;*/\n}\n\nbool judgeSame(int i, int j) {\n\tstring tmp[6];\n\tbool flag;\n\n\tfor (int id = 0; id < 24; ++id) {\n\t\tfor (int k = 0; k < 6; ++k) {\n\t\t\ttmp[k] = CubeInfo[j][RotateBase[id][k]];\n\t\t}\n\t\tfor (int k = 0; k < 6; ++k) {\n\t\t\tif (CubeInfo[i][k] != tmp[k]) {\n\t\t\t\tflag = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tflag = true;\n\t\t}\n\t\tif (flag) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nint solve() {\n\tint cnt;\n\n\tcnt = 0;\n\tfor (int i = 0; i < N; ++i) {\n\t\tif (SameFlag[i]) {\n\t\t\tcontinue;\n\t\t}\n\t\tfor (int j = i + 1; j < N; ++j) {\n\t\t\tif (judgeSame(i, j)) {\n\t\t\t\tSameFlag[j] = true;\n\t\t\t\t++cnt;\n\t\t\t}\n\t\t}\n\t}\n\treturn cnt;\n}\n\nint main() {\n\tstring str;\n\n\tfullRotateBase();\n\twhile (cin >> N, N) {\n\t\tmemset(SameFlag, false, sizeof(SameFlag));\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tCubeInfo[i].clear();\n\t\t\tfor (int j = 0; j < 6; ++j) {\n\t\t\t\tcin >> str;\n\t\t\t\tCubeInfo[i].push_back(str);\n\t\t\t}\n\t\t}\n\t\tcout << solve() << endl;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101],kotaneet=0,ruio=0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tkotaneet = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1 &&b[i][1]!=-1) {\n\t\t\t\t\t//cout << \"tatuya0\" << endl;\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t//cout << \"tatuya1\" << endl;\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t//cout << \"tatuya2\" << endl;\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\t//cout << \"tatuya3\" << endl;\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a-ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint data[30][6];\n\nbool judge(int);\n\nmain(){\n  string in;\n  int n;\n  while(1){\n    cin >> n;\n    if(n==0) break;\n    int count=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tcin >> in;\n\tif(in==\"Red\") data[i][j]=1;\n\tif(in==\"Yellow\") data[i][j]=2;\n\tif(in==\"Blue\") data[i][j]=3;\n\tif(in==\"Magenta\") data[i][j]=4;\n\tif(in==\"Green\") data[i][j]=5;\n\tif(in==\"Cyan\") data[i][j]=6;\n      }\n      if(judge(i)) count++;\n    }\n    int ans=n-count;\n    //    if(ans<0) ans=0;\n    cout << ans << endl;\n  }\n  return 0;\n}\n\nbool judge(int n){\n  if(n==0) return true;\n  int tmp[6];\n  for(int i=0;i<6;i++){\n    tmp[i]=data[n][i];\n  }\n  for(int i=0;i<n;i++){\n    for(int j=0;j<4;j++){\n      for(int k=0;k<4;k++){\n\tif(tmp[0]==data[i][0] && tmp[1]==data[i][1] && tmp[2]==data[i][2] && tmp[3]==data[i][3] && tmp[4]==data[i][4] && tmp[5]==data[i][5]) return false;\n\tint tt[6];\n\tfor(int l=0;l<6;l++){\n\t  tt[l]=tmp[l];\n\t}\n\ttt[0]=tmp[1];\n\ttt[1]=tmp[5];\n\ttt[2]=tmp[2];\n\ttt[3]=tmp[3];\n\ttt[4]=tmp[0];\n\ttt[5]=tmp[4];\n\tfor(int l=0;l<6;l++){\n\t  tmp[l]=tt[l];\n\t}\n      }\n      int t[6];\n      for(int k=0;k<6;k++){\n\tt[k]=tmp[k];\n      }\n      t[0]=tmp[3];\n      t[1]=tmp[1];\n      t[2]=tmp[0];\n      t[3]=tmp[5];\n      t[4]=tmp[4];\n      t[5]=tmp[2];\n      for(int k=0;k<6;k++){\n\ttmp[k]=t[k];\n      }\n    }\n  }\n  return true;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101],kotaneet=0,ruio=0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tkotaneet = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1) {\n\t\t\t\t\t//cout << \"tatuya0\" << endl;\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t//cout << \"tatuya1\" << endl;\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t//cout << \"tatuya2\" << endl;\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\t//cout << \"tatuya3\" << endl;\n\t\t\t\t\t\t\t\tkotaneet++;\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a-ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nint colorToInt(std::string s){\n\tconst\tchar cs[] = {'C', 'Y', 'R', 'M', 'G', 'B'};\n\tfor(int i=0;i<6;i++){\n\t\tif(s[0] == cs[i]){\n\t\t\treturn i;\n\t\t}\n\t}\n}\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\t\tstd::vector<int> cube_v;\n\t\tint cyan_pos;\n\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint cs[6];\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstd::string c;\n\t\t\t\tstd::cin >> c;\n\t\t\t\tcs[j] = colorToInt(c);\n\t\t\t}\n\n\t\t\tstd::swap(cs[3], cs[5]);\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tif(cs[j] == 0){\n\t\t\t\t\tcyan_pos = j;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint cube = cs[(cyan_pos+3)%6] << 6,\n\t\t\t\tvs[] = {(cs[(cyan_pos+1)%6] << 3) + cs[(cyan_pos+4)%6],\n\t\t\t\t\t(cs[(cyan_pos+2)%6] << 3) + cs[(cyan_pos+5)%6]};\n\n\t\t\tfor(int j=0;j<2;j++){\n\t\t\t\tif(std::find(cube_v.begin(), cube_v.end(), cube+vs[j]) == cube_v.end()){\n\t\t\t\t\tcube_v.push_back(cube+vs[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstd::cout << (n-cube_v.size()/2) << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<set>\n#include<map>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nstruct cube{\n  int c[6];\n  inline int &operator [] (int i){\n    return c[i-1];\n  }\n};\n\nvoid rotate2(cube &c){\n  int tmp = c[1];\n  c[1] = c[5];\n  c[5] = c[6];\n  c[6] = c[2];\n  c[2] = tmp;\n}\nvoid rotate3(cube &c){\n  int tmp = c[1];\n  c[1] = c[4];\n  c[4] = c[6];\n  c[6] = c[3];\n  c[3] = tmp;\n}\nvoid rotate4(cube &c){\n  int tmp = c[1];\n  c[1] = c[3];\n  c[3] = c[6];\n  c[6] = c[4];\n  c[4] = tmp;\n}\nvoid rotate5(cube &c){\n  int tmp = c[1];\n  c[1] = c[2];\n  c[2] = c[6];\n  c[6] = c[5];\n  c[5] = tmp;\n}\nvoid rotate23(cube &c){\n  int tmp = c[2];\n  c[2] = c[4];\n  c[4] = c[5];\n  c[5] = c[3];\n  c[3] = tmp;\n}\nvoid rotate24(cube &c){\n  int tmp = c[2];\n  c[2] = c[3];\n  c[3] = c[5];\n  c[5] = c[4];\n  c[4] = tmp;\n}\n\ninline bool operator < (const cube &a, const cube &b){\n  REP(i,6){\n    if(a.c[i] != b.c[i]) return a.c[i] < b.c[i];\n  }\n  return false;\n}\n\nint main(){\n  map<string,int> m;\n  m[\"Red\"]=0; m[\"Yellow\"]=1; m[\"Blue\"]=2;\n  m[\"Magenta\"]=3; m[\"Green\"]=4; m[\"Cyan\"]=5;\n  int n;\n  while(cin>>n, n){\n    set<cube> s;\n    REP(i,n){\n      cube c;\n      REP(j,6){\n\tstring tmp; cin>>tmp;\n\tc[j+1] = m[tmp];\n      }\n      if(c[2] == 0){\n\trotate5(c);\n      }else if(c[3] == 0){\n\trotate4(c);\n      }else if(c[4] == 0){\n\trotate3(c);\n      }else if(c[5] == 0){\n\trotate2(c);\n      }else if(c[6] == 0){\n\trotate5(c);\n\trotate5(c);\n      }\n\n      if(c[6] != 1){\n\tif(c[3] == 1){\n\t  rotate24(c);\n\t}else if(c[4] == 1){\n\t  rotate23(c);\n\t}else if(c[5] == 1){\n\t  rotate24(c);\n\t  rotate24(c);\n\t}\n      }else{\n\tif(c[3] == 2){\n\t  rotate24(c);\n\t}else if(c[4] == 2){\n\t  rotate23(c);\n\t}else if(c[5] == 2){\n\t  rotate24(c);\n\t  rotate24(c);\n\t}\n      }\n      s.insert(c);\n    }\n    printf(\"%d\\n\",n-s.size());\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 面倒\n#include<iostream>\n#include<vector>\nusing namespace std;\n\nint rot[6][4] = {\n    {1, 2, 4, 3},\n    {2, 0, 3, 5},\n    {0, 1, 5, 4},\n    {0, 4, 5, 1},\n    {0, 2, 5, 3},\n    {2, 1, 3, 4}\n};\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        string die[n][6];\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < 6; j++){\n                cin >> die[i][j];\n            }\n        }\n        vector<bool> ng(n, 0);\n        for(int i = 0; i < n; i++){\n            for(int j = i+1; j < n; j++){\n                int k;\n                for(k = 0; k < 6; k++)  if(die[i][0] == die[j][k])  break;\n                for(int kaiten = 0; kaiten < 4; kaiten++){\n                    bool cw = true;\n                    for(int l = 0; l < 4; l++){\n                        cw &= die[i][rot[0][l]] == die[j][rot[k][(kaiten+l)%4]];\n                    }\n                    if(cw){\n                        ng[j] = true;\n                    }\n                }\n            }\n        }\n        int ans = 0;\n        for(int i = 0; i < n; i++)  ans += ng[i];\n        cout << ans << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <string.h>\nusing namespace std;\n\nclass Dice\n{\npublic:\n\tDice( char c[ 6 ] )\n\t{\n\t\tfor( int i = 0; i < 6; ++i ){\n\t\t\tface[ i ] = c[ i ];\n\t\t}\n\t\tface[ 6 ] = '\\0';\n\t}\n\tvoid rotateVertical()\n\t{\n\t\tchar t = face[ 0 ];\n\t\tface[ 0 ] = face[ 1 ];\n\t\tface[ 1 ] = face[ 5 ];\n\t\tface[ 5 ] = face[ 4 ];\n\t\tface[ 4 ] = t;\n\t}\n\tvoid rotateHorizontal()\n\t{\n\t\tchar t = face[ 1 ];\n\t\tface[ 1 ] = face[ 2 ];\n\t\tface[ 2 ] = face[ 4 ];\n\t\tface[ 4 ] = face[ 3 ];\n\t\tface[ 3 ] = t;\n\t}\n\tchar roundFace( int index )\n\t{\n\t\tstatic int a[] = { 1, 2, 4, 3 };\n\t\treturn face[ a[ index ] ];\n\t}\n\tint getId()\n\t{\n\t\tstatic string pattern[] = {\n\t\t\t\"RBMGCY\", \"RBMCGY\", \"RBGMCY\", \"RBGCMY\", \"RBCMGY\", \"RBCGMY\",\n\t\t\t\"RYMGCB\", \"RYMCGB\", \"RYGMCB\", \"RYGCMB\", \"RYCMGB\", \"RYCGMB\",\n\t\t\t\"RYBGCM\", \"RYBCGM\", \"RYGBCM\", \"RYGCBM\", \"RYCBGM\", \"RYCGBM\",\n\t\t\t\"RYBMCG\", \"RYBCMG\", \"RYMBCG\", \"RYMCBG\", \"RYCBMG\", \"RYCMBG\",\n\t\t\t\"RYBMGC\", \"RYBGMC\", \"RYMBGC\", \"RYMGBC\", \"RYGBMC\", \"RYGMBC\",\n\t\t};\n\t\tif( face[ 2 ] == 'R' || face[ 3 ] == 'R' ){\n\t\t\trotateHorizontal();\n\t\t}\n\t\twhile( face[ 0 ] != 'R' ){\n\t\t\trotateVertical();\n\t\t}\n\t\tif( face[ 5 ] == 'Y' ){\n\t\t\twhile( face[ 1 ] != 'B' ){\n\t\t\t\trotateHorizontal();\n\t\t\t}\n\t\t}else{\n\t\t\twhile( face[ 1 ] != 'Y' ){\n\t\t\t\trotateHorizontal();\n\t\t\t}\n\t\t}\n\t\tstring diceStr( face );\n\t\tfor( int i = 0; i < 30; ++i ){\n\t\t\tif( pattern[ i ] == diceStr ){\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tchar face[ 6 + 1 ];\n};\n\nint main()\n{\n\tint n;\n\twhile( cin >> n && n ){\n\t\tint id[ 30 ];\n\t\tmemset( id, 0, sizeof(id) );\n\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tstring s;\n\t\t\tchar c[ 6 ];\n\t\t\tfor( int i = 0; i < 6; ++i ){\n\t\t\t\tcin >> s;\n\t\t\t\tc[ i ] = s[ 0 ];\n\t\t\t}\n\t\t\tDice dice( c );\n\t\t\t++id[ dice.getId() ];\n\t\t}\n\n\t\tint ans = 0;\n\t\tfor( int i = 0; i < 30; ++i ){\n\t\t\tif( id[ i ] > 1 ){\n\t\t\t\tans += ( id[ i ] - 1 );\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\ntypedef vector<int> V;\ntypedef vector<V> VV;\n\nint N;\nVV cubes;\nint front[6] = {5, 4, 3, 2, 1, 0};\nint sides[6][4] = {\n  {1, 3, 4, 2},\n  {0, 2, 5, 3},\n  {0, 4, 5, 1},\n  {0, 1, 5, 4},\n  {0, 3, 5, 2},\n  {1, 2, 4, 3}\n};\n\nint str2id(string s) {\n  if (s == \"Red\") {\n    return 0;\n  } else if (s == \"Yellow\") {\n    return 1;\n  } else if (s == \"Blue\") {\n    return 2;\n  } else if (s == \"Magenta\") {\n    return 3;\n  } else if (s == \"Green\") {\n    return 4;\n  } else if (s == \"Cyan\") {\n    return 5;\n  } else {\n    return -1;\n  }\n}\n\nbool input() {\n  cin >> N;\n  if (!N) {\n    return false;\n  }\n  cubes.resize(N);\n  \n  for (int i = 0; i < N; ++i) {\n    cubes[i].resize(6);\n    for (int j = 0; j < 6; ++j) {\n      string s;\n      cin >> s;\n      cubes[i][j] = str2id(s);\n    }\n  }\n\n  return true;\n}\n\nvoid align(V &v) {\n  int tmp[6];\n  int z = -1;\n  for (int i = 0; i < 6; ++i) {\n    if (v[i] == 0) {\n      z = i;\n    }\n  }\n  tmp[0] = 0;\n  tmp[1] = v[front[z]];\n  int x = 6;\n  int y = -1;\n  for (int i = 0; i < 4; ++i) {\n    if (x > v[sides[z][i]]) {\n      x = v[sides[z][i]];\n      y = i;\n    }\n  }\n  for (int i = 0; i < 4; ++i) {\n    tmp[i + 2] = v[sides[z][(y + i) % 4]];\n  }\n  for (int i = 0; i < 6; ++i) {\n    v[i] = tmp[i];\n  }\n}\n\nint solve() {\n  for (int i = 0; i < N; ++i) {\n    align(cubes[i]);\n  }\n  sort(cubes.begin(), cubes.end());\n  VV::iterator it = unique(cubes.begin(), cubes.end());\n  int num_uniq = it - cubes.begin();\n  return N - num_uniq;\n}\n\nint main() {\n  while (input()) {\n    int ans = solve();\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\n#define fst(t) std::get<0>(t)\n#define snd(t) std::get<1>(t)\n#define thd(t) std::get<2>(t)\n#define unless(p) if(!(p))\n#define until(p) while(!(p))\n\nusing ll = std::int64_t;\nusing P = std::tuple<int,int>;\n\nstruct Perm{\n    std::vector<int> perm;\n\n    Perm(std::initializer_list<int> p) : perm(p.begin(), p.end()) { }\n\n    static Perm identity(){\n        return {0, 1, 2, 3, 4, 5};\n    }\n\n    Perm& operator*=(const Perm &rhs){\n        std::vector<int> p(6);\n        for(int i=0;i<6;++i){\n            p[i] = perm[rhs.perm[i]];\n        }\n\n        perm = std::move(p);\n\n        return *this;\n    }\n};\n\nconst Perm r1 = {5, 3, 4, 1, 2, 0}, // 表裏をひっくり返す\n    r2 = {0, 3, 1, 4, 2, 5}, // 水平面に垂直な軸に関して回転\n    r3 = {2, 0, 1, 4, 5, 3}; // 見えている面を変えない回転\nstd::vector<Perm> perms;\n\nstruct Cube{\n    std::vector<std::string> surface;\n\n    Cube() = default;\n    Cube(std::vector<std::string> v) : surface(std::move(v)) { }\n\n    friend bool operator==(const Cube &lhs, const Cube &rhs){\n        for(auto &p : perms){\n            bool eq = true;\n\n            for(int i=0;i<6;++i){\n                if(lhs.surface[i] != rhs.surface[p.perm[i]]){\n                    eq = false;\n                    break;\n                }\n            }\n\n            if(eq){\n                return true;\n            }\n        }\n\n        return false;\n    }\n};\n\nint main(){\n    std::cin.tie(nullptr);\n    std::ios::sync_with_stdio(false);\n\n    std::queue<Perm> que;\n    que.emplace(Perm::identity());\n    que.emplace(r1);\n    \n    for(int i=0;i<2;++i){\n        Perm p = que.front();\n        que.pop();\n\n        for(int j=0;j<4;++j){\n            que.emplace(p);\n            p *= r2;\n        }\n    }\n\n    for(int i=0;i<8;++i){\n        Perm p = que.front();\n        que.pop();\n\n        for(int j=0;j<3;++j){\n            que.emplace(p);\n            p *= r3;\n        }\n    }\n\n    until(que.empty()){\n        perms.emplace_back(que.front());\n        que.pop();\n    }\n\n    while(true){\n        int N;\n        std::cin >> N;\n\n        if(N == 0){\n            break;\n        }\n\n        std::vector<Cube> cubes(N);\n    \n        for(int i=0;i<N;++i){\n            std::vector<std::string> v(6);\n\n            for(int j=0;j<6;++j){\n                std::cin >> v[j];\n            }\n\n            cubes[i] = std::move(Cube(v));\n        }\n\n        ll used = 0;\n        int cnt = 0;\n        \n        for(int i=0;i<N;++i){\n            if(used >> i & 1){\n                continue;\n            }\n\n            cnt += 1;\n\n            for(int j=i+1;j<N;++j){\n                if(cubes[j] == cubes[i]){\n                    used |= 1ll << j;\n                }\n            }\n        }\n\n        int left = N - cnt;\n        std::cout << left << std::endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\nstruct UnionFind{\n  vector< int > data;\n  UnionFind(int sz) {\n    data.assign(sz, -1);\n  }\n  int Find(int k) {\n    return(data[k] < 0 ? k : data[k] = Find(data[k]));\n  }\n  void Unite(int a, int b) {\n    a = Find(a), b = Find(b);\n    if(a == b) return;\n    data[a] += data[b];\n    data[b] = a;\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n\nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\n\nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      if(a == b) return(true); \n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    UnionFind uf(n);\n\n    boxes.resize(n);\n    int ret = 0;\n\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) uf.Unite(i, j);\n      }\n    }\n    for(int i = 0; i < n; i++) {\n      ret += uf.Find(i) == i;\n    }\n    cout << n - ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n \nusing namespace std;\n  \nenum { TOP=0, FRONT=1, LEFT=2, RIGHT=3, BACK=4, BOTTOM=5 };\nenum { WEST = 0, NORTH=1, EAST=2, SOUTH=3 };\n  \nclass Dice\n{\nprivate:\n  int num[6];\n   \npublic:\n    \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n    \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n        \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n        \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n        \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n        \n    }\n  }\n   \n  void rightHandedRoll() {\n    int tmp = num[FRONT];\n    num[FRONT] = num[RIGHT];\n    num[RIGHT] = num[BACK];\n    num[BACK] = num[LEFT];\n    num[LEFT] = tmp;\n  }\n    \n  Dice() {\n  }\n   \n  Dice(int t, int f, int l, int r, int b, int m)\n  {\n    num[TOP] = t, num[FRONT] = f, num[LEFT] = l, num[RIGHT] = r, num[BACK] = b, num[BOTTOM] = m;\n  }\n  Dice(vector<int> v)\n  {\n    Dice(v[0], v[1], v[2], v[3], v[4], v[5]);\n  }\n   \n  bool equals (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      if(num[TOP] == rhs.getTop()) break;\n      rhs.roll(WEST);\n      if(num[TOP] == rhs.getTop()) break;\n    }\n    for(int i=0; i<4; i++) {\n      if(check(rhs)) return true;\n      else rhs.rightHandedRoll();\n    }\n    return false;\n  }\n   \nprivate:\n  bool check(const Dice& rhs) const {\n    for(int i=0; i<6; i++) {\n      if(num[i]!=rhs.num[i]) return false;\n    }\n    return true;\n  }\n   \n};\n \nmap<string, int> mp;\n \nint main() {\n   \n  mp[\"Red\"]=0, mp[\"Yellow\"]=1, mp[\"Blue\"]=2, mp[\"Magenta\"]=3, mp[\"Green\"]=4, mp[\"Cyan\"]=5;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      swap(v[2], v[3]);\n      d.push_back(Dice(v));\n    }\n     \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equals(d[j])) {\n            d.erase(d.begin()+j);\n            update = true; cnt ++;\n            goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << cnt << endl;\n  }\n   \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint cheak(int n,string c[][6]){\n    int cou=0;\n    for (int i=0; i<n; i++) {\n        for (int j=i+1; j<n; j++) {\n            for (int a=0; a<4; a++) {\n                if(c[i][0]==c[j][0]){\n                    for (int b=0; b<4; b++) {\n                        if(c[i][1]==c[j][1]&&c[i][2]==c[j][2]&&c[i][3]==c[j][3]&&c[i][4]==c[j][4]){\n                            cou++;\n                            break;\n                        }\n                        swap(c[i][1], c[i][3]);\n                        swap(c[i][1], c[i][4]);\n                        swap(c[i][1], c[i][2]);\n                    }\n                    break;\n                }\n                swap(c[i][0],c[i][3]);\n                swap(c[i][0],c[i][5]);\n                swap(c[i][0],c[i][2]);\n            }\n        }\n    }\n    return cou;\n}\n\nint main(){\n    int n;\n    string cube[30][6];\n    while (1) {\n        cin>>n;\n        if(n==0)break;\n        for (int i=0; i<n; i++) {\n            for (int j=0; j<6; j++) {\n                cin>>cube[i][j];\n            }\n        }\n        cout<<cheak(n, cube)<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nvector<string>V;\nint find(string s){\n\tfor(int i=0;i<V.size();i++)if(V[i]==s)return 1;\n\treturn 0;\n}\n\nint d[3][6]={\n\t{3,0,1,2,4,5},\n\t{4,1,5,3,2,0},\n\t{0,4,2,5,3,1}\n};\nstring rot(string s,int n){\n\tstring S=s;\n\tfor(int i=0;i<6;i++)S[i]=s[d[n][i]];\n\treturn S;\n}\nint step[12]={0,1,0,1,0,1,0,1,2,0,2,0};\nint STEP[12]={4,1,4,1,4,1,4,1,1,4,2,4};\n\nstring cng(string s){\n\tstring S=s;\n\tS[0]=s[3];\n\tS[1]=s[0];\n\tS[2]=s[2];\n\tS[3]=s[5];\n\tS[4]=s[4];\n\tS[5]=s[1];\n\treturn S;\n}\n\nint main(){\n\t\n\tfor(int n;cin>>n,n;){\n\t\tV.clear();\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s=\"\",t;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin>>t;\n\t\t\t\ts+=t[0];\n\t\t\t}\n\t\t\ts=cng(s);\n\t\t\tint f=1;\n\t\t\tfor(int j=0;j<12;j++){\n\t\t\t\tfor(int k=0;k<STEP[j];k++){\n\t\t\t\t\ts=rot(s,step[j]);\n\t\t\t\t\tif(find(s))f=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f)V.push_back(s);\n\t\t}\n\t\tcout<<n-V.size()<<endl;\n\t}\n\t\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing pii = pair<int, int>;\n\nstruct Dice {\n  int face[6];\n  Dice() {}\n  int& operator [] (int i) { return face[i]; }\n  bool operator == (const Dice& other) {\n    for (int i = 0; i < 6; i++) if (face[i] != other.face[i]) return false;\n    return true;\n  }\n  bool operator != (const Dice& other) {\n    return !(*this == other);\n  }\n  void roll(int a, int b, int c, int d) {\n    int tmp = face[a];\n    face[a] = face[b];\n    face[b] = face[c];\n    face[c] = face[d];\n    face[d] = tmp;\n  }\n  void roll(char c) {\n    switch (c) {\n      case 'N' : roll(0, 1, 5, 4); break;\n      case 'S' : roll(0, 4, 5, 1); break;\n      case 'E' : roll(0, 3, 5, 2); break;\n      case 'W' : roll(0, 2, 5, 3); break;\n      case 'R' : roll(1, 2, 4, 3); break;\n      case 'L' : roll(1, 3, 4, 2); break;\n    }\n  }\n  bool identical(Dice other) {\n    for (int i = 0; i < 6; i++) {\n      other.roll(i & 1 ? 'E' : 'N');\n      for (int j = 0; j < 4; j++) {\n        other.roll('R');\n        if (*this == other) return true;\n      }\n    }\n    return false;\n  }\n};\n\nvector<string> ord = {\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\n\nint main() {\n  cin.tie(0);\n  ios_base::sync_with_stdio(false);\n  cout << fixed << setprecision(10);\n  \n  int n;\n  while (cin >> n, n) {\n    vector<Dice> D(n);\n    for (int i = 0; i < n; i++) {\n      for (int j = 0; j < 6; j++) {\n        string s;\n        cin >> s;\n        D[i][j] = find(ord.begin(), ord.end(), s) - ord.begin();\n      }\n    }\n    int ans = n;\n    for (int i = 0; i < n; i++) {\n      bool no = false;\n      for (int j = 0; j < i; j++) {\n        no |= D[i].identical(D[j]);\n      }\n      if (no) continue;\n      ans--;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstruct kyu_bu{\n  string kyu[7];\n  bool h;\n};\nkyu_bu p[30];\nvoid North(int i){\n  string mem;\n  mem = p[i].kyu[1];\n  p[i].kyu[1] = p[i].kyu[2];\n  p[i].kyu[2] = p[i].kyu[6];\n  p[i].kyu[6] = p[i].kyu[5];\n  p[i].kyu[5] = mem;\n}\nvoid East(int i){\n  string mem;\n  mem = p[i].kyu[1];\n  p[i].kyu[1] = p[i].kyu[4];\n  p[i].kyu[4] = p[i].kyu[6];\n  p[i].kyu[6] = p[i].kyu[3];\n  p[i].kyu[3] = mem;\n}\nvoid Right(int i){\n  string mem;\n  mem = p[i].kyu[2];\n  p[i].kyu[2] = p[i].kyu[3];\n  p[i].kyu[3] = p[i].kyu[5];\n  p[i].kyu[5] = p[i].kyu[4];\n  p[i].kyu[4] = mem;\n}\nint main(){\n  int n;\n  int roop[7]={0,2,3,4,5,6,1};\n  while(cin >> n){\n    if(n==0) break;\n    int count = 0;\n    for(int i=0;i<n;i++){\n      p[i].h = true;\n      for(int j=1;j<=6;j++) cin >> p[i].kyu[j];\n    }\n    for(int i=0;i<n-1;i++){\n      if(!p[i].h) continue;\n      for(int j=0;j<=12;j++){\n\tif(j>=1&&j<=4) North(i);\n\telse if(j>=5&&j<=8) East(i);\n\telse if(j>=9&&j<=12)Right(i);\n\tif(j==0||j%4!=0){\n\t  for(int k=i+1;k<n;k++){\n\t    if(!p[k].h) continue;\n\t    for(int g=1;g<=6;g++){\n\t      if(p[i].kyu[1]==p[k].kyu[g]){\n\t\tint strat = roop[g];\n\t\tint cou = 1;\n\t\tint index = 2;\n\t\twhile(cou!=6){\n\t\t  if(p[i].kyu[index]!=p[k].kyu[strat]) break;\n\t\t  cou++;\n\t\t  index++;\n\t\t  strat = roop[strat];   \n\t\t}\n\t\tif(cou==6){\n\t\t  count++;\n\t\t  p[k].h = false;\n\t\t}\n\t\tbreak;\n\t      }\n\t    }\n\t  }\n\t}\n      }\n    }\n    cout << count << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z,A[101]={0};\n   char c1[101][101],c2[101][101],c3[101][101],c4[101][101],c5[101][101],c6[101][101];\n   scanf(\"%d\",&n);\n    while(n!=0){\n\t\tfor(i=0;i<n;i++){\n\t\tA[i]=0;\n\t\t}\n    for(i=0;i<n;i++){\n        scanf(\"%s %s %s %s %s %s\",c1[i],c2[i],c3[i],c4[i],c5[i],c6[i]);\n    }\n\tz=0;\n    for(i=0;i<n-1;i++){\n        for(j=i+1;j<n;j++){\n\t\t\tif(A[j]==1) continue;\n        if(c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]&& c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            z=z+1;\n\t\t\t//printf(\"%d %d\\n\",i,j);\n\t\t\tA[j]=1;\n        }\n        else if(c4[i][0]==c4[j][0] && c1[i][0]==c1[j][0] && c3[i][0]==c3[j][0] && c6[i][0]==c6[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c4[i][0]==c6[j][0] && c1[i][0]==c3[j][0] && c3[i][0]==c1[j][0] && c6[i][0]==c4[j][0]){\n            if(c5[i][0]==c2[j][0] && c2[i][0]==c5[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c3[i][0]==c3[j][0] && c1[i][0]==c1[j][0] && c4[i][0]==c4[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c4[j][0] && c3[i][0]==c1[j][0] && c1[i][0]==c3[j][0] && c4[i][0]==c6[j][0]){\n            if(c2[i][0]==c5[j][0] && c5[i][0]==c2[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c2[i][0]==c2[j][0] && c1[i][0]==c1[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            if(c4[i][0]==c4[j][0] && c3[i][0]==c3[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c2[i][0]==c6[j][0] && c1[i][0]==c5[j][0] && c5[i][0]==c1[j][0] && c6[i][0]==c2[j][0]){\n            if(c4[i][0]==c3[j][0] && c3[i][0]==c4[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c5[i][0]==c5[j][0] && c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]){\n            if(c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c2[j][0] && c5[i][0]==c1[j][0] && c1[i][0]==c5[j][0] && c2[i][0]==c6[j][0]){\n            if(c3[i][0]==c4[j][0] && c4[i][0]==c3[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        }\n    }\n    printf(\"%d\\n\",z);\n    scanf(\"%d\",&n);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\nenum{\n  t = 0,f ,r ,b ,l ,d ,\n};\ntemplate<typename S>\nclass Dice{\n  public:\n    array<S,6> D;\n    Dice(){\n    }\n    Dice(array<S,6> d){\n      copy(all(D),d.begin());\n    }\n    void Spin(int dir){\n      if(dir == l){//\n        swap(D[t],D[r]);\n        swap(D[r],D[d]);\n        swap(D[d],D[l]);\n      }\n      else if(dir == r){\n        swap(D[t],D[l]);\n        swap(D[l],D[d]);\n        swap(D[d],D[r]);\n      }\n      else if(dir == f){\n        swap(D[t],D[b]);\n        swap(D[b],D[d]);\n        swap(D[d],D[f]);\n      }\n      else if(dir == b){\n        swap(D[t],D[f]);\n        swap(D[f],D[d]);\n        swap(D[d],D[b]);\n      }\n      else if(dir == d){//leftspin\n        swap(D[f],D[r]);\n        swap(D[r],D[b]);\n        swap(D[b],D[l]);\n      }\n      else if(dir == t){\n        swap(D[f],D[l]);\n        swap(D[l],D[b]);\n        swap(D[b],D[r]);\n      }\n    }\n    void MatchDice(int T,int F){\n      rep(i,4){\n        Spin(r);\n        if(D[t] == T)break;\n      }\n      if(D[t] != T){\n        rep(i,4){\n          Spin(f);\n          if(D[t] == T)break;\n        }\n      }\n      rep(i,4){\n        Spin(t);\n        if(D[f] == F) break;\n      }\n    }\n    S& operator[](const int i){\n      return D[i];\n    }\n    bool operator==(Dice& di2){\n      rep(i,4){\n        di2.Spin(r);\n        rep(j,4){\n          di2.Spin(t);\n          rep(k,4){\n            di2.Spin(r);\n            if(D == di2.D){\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n    friend ostream& operator<<(ostream& os,const Dice& di){\n      os << \"t f r l b d\\n\" ;\n      rep(i,6){\n        if(i) os << ' ';\n        os << di.D[i] ;\n      }\n      return os;\n    }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<Dice<string>> di(n);\n    vector<Dice<string>> st;\n    rep(i,n){\n      cin >> di[i][t] >> di[i][f] >> di[i][r] >> di[i][l] >> di[i][b] >> di[i][d] ;\n      if(st.size() == 0){\n        st.push_back(di[i]);\n      }\n      else{\n        rep(j,st.size()){\n          if(st[j] == di[i]){\n            break;\n          }\n          if(j == st.size()-1){\n            st.push_back(di[i]);\n          }\n        }\n      }\n    }\n    cout << n - st.size()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nbool func(string s1[7], string s2[7])\n{\n\tbool f = true, fs[7];\n\tstring s3[7];\n\tfill(fs, fs+7, true);\n\t\n\tfor(int i = 1; i <= 3 && f; i++){\n\t\tfor(int j = 1; j <= 6 && f; j++){\n\t\t\tif(s1[i] == s2[j]){\n\t\t\t\tif(!fs[j]){\n\t\t\t\t\tf = false;\n\t\t\t\t} else {\n\t\t\t\t\tfs[j] = fs[7-j] = false;\n\t\t\t\t\ts3[i] = s2[j];\n\t\t\t\t\ts3[7-i] = s2[7-j];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor(int i = 1; i <= 6 && f; i++){\n\t\tif(s1[i] != s3[i]){\n\t\t\tf = false;\n\t\t}\n\t}\n\t\n\treturn !f;\n}\n\nint main()\n{\n\tint n, c;\n\tstring s[31][7];\n\tbool f[31];\n\t\n\twhile(cin>>n&&n){\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = 1; j <= 6; j++){\n\t\t\t\tcin >> s[i][j];\n\t\t\t}\n\t\t}\n\t\tc = 0;\n\t\tfill(f, f+31, true);\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = i+1; j < n && f[j]; j++){\n\t\t\t\tf[j] = func(s[i], s[j]);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tif(f[i]){\n\t\t\t\tc++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << (n-c) << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <stack>\n#include <map>\n#include <vector>\n#include <algorithm>\n#include <vector>\n#include <string>\n\nusing namespace std;\n\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\n#define loop(i,a,b) for(int i=(a); i<int(b); i++)\n#define rep(i,b) loop(i,0,b)\n\nenum { U, F, R, L, B, D };\nstruct dice {\n    int face[6];\n    dice(const dice& d){ rep(i, 6) this->face[i] = d.face[i]; }\n    dice(){\n        // デフォルトでは各面は 1..6 だがそうである必要はない\n        face[F] = 1;\n        face[R] = 2;\n        face[U] = 3;\n        face[B] = 6;\n        face[L] = 5;\n        face[D] = 4;\n    }\n\n    int find_face(int f){\n        rep(i, 6) if (face[i] == f) return i;\n        return -1;\n    }\n\n    void turn(int dir){\n        switch (dir){\n        case R:\n            rotate(U, R, D, L); break;\n        case B:\n            rotate(U, B, D, F); break;\n        case L:\n            rotate(U, L, D, R); break;\n        case F:\n            rotate(U, F, D, B); break;\n        case U:  // 上から見て反時計回り\n            rotate(F, R, B, L); break;\n        case D: // 下から見て反時計回り\n            rotate(F, L, B, R); break;\n        default: throw \"\";\n        }\n    }\n    int& operator[](int n){ return face[n]; }\n\n    vector<dice> all() {\n        vector<dice> res(24);\n        rep(k, 6){\n            rep(i, 4){ res.push_back(*this); turn(R); }\n            (k & 1 ? turn(U) : turn(F));\n        }\n        return res;\n    }\n\n    void rotate(int a, int b, int c, int d){\n        int t = face[d];\n        face[d] = face[c];\n        face[c] = face[b];\n        face[b] = face[a];\n        face[a] = t;\n    }\n\n    bool operator==(const dice& d_) const {\n        dice d = d_;\n        vector<dice> ds = d.all();\n        rep(i, ds.size()){\n            bool res = true;\n            rep(j, 6){\n                if (ds[i][j] != this->face[j]) {\n                    res = false;\n                    break;\n                }\n            }\n            if (res) return true;\n        }\n        return false;\n    }\n};\n\nint main(){\n    int n;\n    while (cin >> n && n){\n        vector<dice> made;\n        rep(i, n){\n            dice d;\n            rep(j, 6){\n                string s; cin >> s;\n                d[j] = s.front();\n            }\n            made.push_back(d);\n        }\n        int c = 0;\n        rep(i, made.size()){\n            rep(j, i){\n                if (made[j] == made[i]){\n                    c++;\n                }\n            }\n        }\n        cout << c << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[9];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<vector>\n#include<functional>\n#include<cmath>\n#include<map>\n#include<stack>\n#include<set>\n#include<numeric>\n#include<limits>\n\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<ll, char> plc;\n\nstruct color {\n\tstring c1, c2, c3, c4, c5, c6;\n};\n\nint main()\n{\n\tint n; \n\twhile (cin >> n, n) {\n\t\tint check[40] = { 0 };\n\t\tvector<color> v(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> v[i].c1 >> v[i].c2 >> v[i].c3 >> v[i].c4 >> v[i].c5 >> v[i].c6;\n\t\t}\n\n\t\tint cnt = 0;\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tmap<string, string> m;\n\t\t\tm[v[i].c1] = v[i].c6;\n\t\t\tm[v[i].c6] = v[i].c1;\n\t\t\tm[v[i].c2] = v[i].c5;\n\t\t\tm[v[i].c5] = v[i].c2;\n\t\t\tm[v[i].c3] = v[i].c4;\n\t\t\tm[v[i].c4] = v[i].c3;\n\t\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\t\tif (m[v[j].c1] == v[j].c6) {\n\t\t\t\t\tif (m[v[j].c2] == v[j].c5) {\n\t\t\t\t\t\tif (m[v[j].c3] == v[j].c4) {\n\t\t\t\t\t\t\tif (check[j] != 1) {\n\t\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t\t\tcheck[j] = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include<cstdio>\n#include<cmath>\n#include<sstream>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<utility>\n#include<iomanip>\n#include<vector>\n#include<string>\n#include<queue>\n#include<stack>\n#include<map>\n#include<list>\n#include<set>\n#include<stdlib.h>\n#include<time.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\nusing namespace std;\nconst int dx[4] = { 0, 1, 0, -1 }, dy[4] = { 1, 0, -1, 0 };\nconst int dX[8] = { 0, 1, 1, 1, 0, -1, -1, -1 }, dY[8] = { 1, 1, 0, -1, -1, -1, 0, 1 };\nstruct XY\n{\n\tint x;\n\tint y;\n};\nvector<long long> Prime;\nvoid SieveOfEratosthenes(long long e) //setup vector<long long>Prime(~x)\n{\n\tbool *x=new bool[e];\n\tfor (long long i = 0; i <= e; i++)x[i] = false;\n\tfor (long long i = 2; i <= e; i++)\n\t{\n\t\tif (x[i]);\n\t\telse\n\t\t{\n\t\t\tPrime.push_back(i);\n\t\t\tfor (long long l = i; l <= e; l += i)x[l] = true;\n\t\t}\n\t}\n\treturn;\n}\nint StringToInt(string a)\n{\n\tstringstream ss;\n\tint x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nstring IntToString(int a)\n{\n\tstringstream ss;\n\tstring x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nint GetRandom(int MIN, int MAX)\n{\n\tstatic int flag=0;\n\tif (flag == 0)\n\t{\n\t\tsrand((unsigned int)time(NULL));\n\t\tflag = 1;\n\t}\n\treturn MIN + (int)(rand()*(MAX - MIN + 1.0) / (1.0 + RAND_MAX));\n}\nint in()\n{\n\tint x;\n\tcin >> x;\n\treturn x;\n}\nvoid outl(string a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid outl(int a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid out(string a)\n{\n\tcout << a;\n\treturn;\n}\nvoid out(int a)\n{\n\tcout << a;\n\treturn;\n}\n/*\n(char)'1' - (int)48 = (int)1;\n???1111181\n (char)A=(int)65\n (char)a=(int)97\n*/\n////////////////////////////////////////////////////\n\nint main()\n{\n\tint n;\n\twhile (cin >> n&&n)\n\t{\n\t\tint ans = 0;\n\t\tmap<string, int> x;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tstring z;\n\t\t\tint as = 1;\n\t\t\tfor (int l = 0; l < 6; l++)\n\t\t\t{\n\t\t\t\tchar now[10];\n\t\t\t\tcin >> now;\n\t\t\t\tz += now[0];\n\t\t\t}\n\t\t\tfor (int q = 0; q < 6; q++)\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < 4; i++)\n\t\t\t\t{\n\t\t\t\t\tif (x[z] == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tas = 0;\n\t\t\t\t\t}\n\t\t\t\t\tswap(z[4], z[3]);\n\t\t\t\t\tswap(z[4], z[1]);\n\t\t\t\t\tswap(z[4], z[2]);\n\t\t\t\t}\n\t\t\t\tstring nn;\n\t\t\t\tnn += z[5];\n\t\t\t\trep(i, 5)nn += z[i];\n\t\t\t\tz = nn;\n\t\t\t}\n\t\t\tans += as;\n\t\t\tfor (int q = 0; q < 6; q++)\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < 4; i++)\n\t\t\t\t{\n\t\t\t\t\tx[z] = 1;\n\t\t\t\t\tswap(z[4], z[3]);\n\t\t\t\t\tswap(z[4], z[1]);\n\t\t\t\t\tswap(z[4], z[2]);\n\t\t\t\t}\n\t\t\t\tstring nn;\n\t\t\t\tnn += z[5];\n\t\t\t\trep(i, 5)nn += z[i];\n\t\t\t\tz = nn;\n\t\t\t}\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint pad[3][6] = { { 3, 1, 0, 5, 4, 2 }, { 1, 5, 2, 3, 0, 4 }, { 0, 2, 4, 1, 3, 5 } };\nvoid rotate ( int op, string &S )\n{\n    string temp;\n    for ( int i = 0; i < 6; i++ ) {\n        temp.push_back ( S[pad[op][i]] );\n    }\n    S = temp;\n}\n\nbool search ( string S, string T )\n{\n    for ( int i = 0; i < 4; i++ ) {\n        for ( int j = 0; j < 4; j++ ) {\n            for ( int k = 0; k < 4; k++ ) {\n                if ( S == T ) {\n                    return ( false );\n                }\n                rotate ( 2, S );\n            }\n            rotate ( 1, S );\n        }\n        rotate ( 0, S );\n    }\n    return ( true );\n}\n\nint main()\n{\n    int N;\n    int rotate_pos[35];\n\n    while ( cin >> N, N ) {\n        vector < string > data(N);\n        int ans = 0;\n        bool flag[35];\n\n        fill_n(flag, 35, true);\n        for ( int i = 0; i < N; i++ ) {\n            string S;\n            for ( int j = 0; j < 6; j++ ) {\n                cin >> S;\n                data[i] += S[0];\n            }\n            for ( int j = 0; j < i; j++ ) {\n                flag[i] &= search ( data[i], data[j] );\n            }\n        }\n        for ( int i = 0; i < N; i++ ) {\n            if ( !flag[i] ) {\n                ans++;\n            }\n        }\n        cout << ans << endl;\n    }\n\n    return ( 0 );\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvoid roll_x(vector<int> &v) {\n  vector<int> res = v;\n  \n  res[0] = v[4];\n  res[1] = v[0];\n  res[5] = v[1];\n  res[4] = v[5];\n  v = res;\n}\n\nvoid roll_y(vector<int> &v) {\n  vector<int> res = v;\n  res[0] = v[3];\n  res[2] = v[0];\n  res[5] = v[2];\n  res[3] = v[5];\n  v = res;\n}\n\nvoid roll_z(vector<int> &v) {\n  vector<int> res = v;\n  res[1] = v[2];\n  res[2] = v[3];\n  res[3] = v[4];\n  res[4] = v[1];\n  v = res;\n}\n\nvoid allpattern(vector<int> v, vector<vector<int> > &out) {\n  out.clear();  \n  for(int i = 0; i < 6; i++) {\n    if( i & 1 ) roll_x(v);\n    else roll_y(v);\n    for(int j = 0; j < 4; j++) {\n      roll_z(v);\n      out.push_back(v);\n    }\n  }\n  \n}\n\nbool same(vector<int> a, vector<int> b) {\n  vector<vector<int> > aa, bb;\n  \n  allpattern(b, bb);\n\n  for(int i = 0; i < bb.size(); i++) \n    if( bb[i] == a ) return true;\n  return false;\n}\n\nbool dup(vector< vector<int> > have, vector<int> b) {\n  for(int i = 0; i < (int)have.size(); i++) {\n    if( same( have[i], b ) ) return true;\n  }\n  return false;\n}\n\nint main() {\n  for(int N; cin >> N, N; ) {\n\n    vector<int> dice[N];\n\n    for(int n = 0; n < N; n++) {\n      for(int i = 0; i < 6; i++) {\n        string s; cin >> s;\n        dice[n].push_back( s[0] - 'A' );\n      }\n    }\n    \n    vector< vector<int> > uni;\n    for(int i = 0; i < N; i++) {\n      if( ! dup(uni, dice[i]) ) {\n        uni.push_back( dice[i] );\n      }\n    }\n\n    cout << N - (int)uni.size() << endl;\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <string>\n#include <set>\nusing namespace std;\nclass Dice {\npublic:\n  int c[6];\n  bool operator <(const Dice &d) const {\n    for(int i = 0; i < 6; i++) {\n      if(c[i] != d.c[i]) return c[i] < d.c[i];\n    }\n    return false;\n  }\n\n  void sort() {\n    for(int i = 0; i < 6; i++) {\n      if(c[i] == 0) {\n\tswitch(i) {\n\tcase 0: break;\n\tcase 1: rotateY(-1); break;\n\tcase 2: rotateX(-1); break;\n\tcase 3: rotateX(1); break;\n\tcase 4: rotateY(1); break;\n\tcase 5: rotateX(2); break;\n\t}\n\tbreak;\n      }\n    }\n    int minc = 9999;\n    int pos;\n    for(int i = 1; i <= 4; i++) {\n      if(c[i] < minc) {\n\tminc = c[i];\n\tpos = i;\n      }\n    }\n    switch(pos) {\n    case 1: break;\n    case 2: rotateZ(-1); break;\n    case 3: rotateZ(1); break;\n    case 4: rotateZ(2); break;\n    }\n  }\n\n  void rotateX(int dx) {\n    int d = 1;\n    if(dx < 0) {\n      d *= -1;\n      dx *= -1;\n    }\n    for(int i = 0; i < dx; i++) {\n      int tmp;\n      if(d > 0) {\n\ttmp = c[0];\n\tc[0] = c[3];\n\tc[3] = c[5];\n\tc[5] = c[2];\n\tc[2] = tmp;\n      } else {\n\ttmp = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = tmp;\n      }\n    }\n  }\n  void rotateY(int dy) {\n    int d = 1;\n    if(dy < 0) {\n      d *= -1;\n      dy *= -1;\n    }\n    for(int i = 0; i < dy; i++) {\n      int tmp;\n      if(d > 0) {\n\ttmp = c[0];\n\tc[0] = c[4];\n\tc[4] = c[1];\n\tc[1] = tmp;\n      } else {\n\ttmp = c[0];\n\tc[0] = c[1];\n\tc[1] = c[4];\n\tc[4] = tmp;\n      }\n    }\n  }\n  void rotateZ(int dz) {\n    int d = 1;\n    if(dz < 0) {\n      d *= -1;\n      dz *= -1;\n    }\n    for(int i = 0; i < dz; i++) {\n      int tmp;\n      if(d > 0) {\n\ttmp = c[1];\n\tc[1] = c[3];\n\tc[3] = c[4];\n\tc[4] = c[2];\n\tc[2] = tmp;\n      } else {\n\ttmp = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = tmp;\n      }\n    }\n  }\n};\n\n\n\nint main() {\n  map<string, int> color;\n  color[\"Red\"] = 0;\n  color[\"Yellow\"] = 1;\n  color[\"Blue\"] = 2;\n  color[\"Magenta\"] = 3;\n  color[\"Green\"] = 4;\n  color[\"Cyan\"] = 5;\n\n  while(1) {\n    int n;\n    set<Dice> s;\n    Dice dice;\n    cin >> n;\n    if(n == 0) break;\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < 6; j++) {\n\tstring str;\n\tcin >> str;\n\tdice.c[j] = color[str];\n      }\n      dice.sort();\n      s.insert(dice);\n    }\n    cout << n - s.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include<string>\n\nusing namespace std;\n\n\nclass Dice{\nprivate:\n\tint yoko;\n\tint tate;\n\tint round;\n\npublic:\n\tstring face[3][4];\n\n\tstring getFace(int i,int j)const{\n\t\treturn face[i][j];\n\t}\n\n\tDice(vector<string> &v){\n\t\tinit();\n\t\tface[1][1]=v[0];\n\t\tface[2][1]=v[1];\n\t\tface[1][2]=v[2];\n\t\tface[1][0]=v[3];\n\t\tface[0][1]=v[4];\n\t\tface[1][3]=v[5];\n\t}\n\n\tvoid init(){\n\t\tfor(int i = 0; i < 3; i++){\n\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\tface[i][j]=\"\";\n\t\t\t}\n\t\t}\n\t\tyoko=0;\n\t\ttate=0;\n\t\tround=0;\n\t}\n\n\tvoid rotate(){\n\t\tif(round<4){\n\t\t\tstring tmp = face[2][1];\n\t\t\tface[2][1]=face[1][2];\n\t\t\tface[1][2]=face[0][1];\n\t\t\tface[0][1]=face[1][0];\n\t\t\tface[1][0]=tmp;\n\t\t\tround++;\n\t\t}\n\t\tif(round>=4){\n\t\t\tround=0;\n\t\t\t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n\t\t\tif(yoko<4){\n\t\t\t\tstring tmp = face[1][3];\n\t\t\t\tfor(int i = 2; i >= 0; i--){\n\t\t\t\t\tface[1][i+1]=face[1][i];\n\t\t\t\t}\n\t\t\t\tface[1][0]=tmp;\n\t\t\t\tyoko++;\n\t\t\t}\n\t\t\t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n\t\t\tif(yoko>=4){\n\t\t\t\tif(tate<4){\n\t\t\t\t\ttate++;\n\t\t\t\t\tstring tmp = face[1][3];\n\t\t\t\t\tface[1][3]=face[0][1];\n\t\t\t\t\tfor(int i = 0; i < 2; i++){\n\t\t\t\t\t\tface[i][1]=face[i+1][1];\n\t\t\t\t\t}\n\t\t\t\t\tface[2][1]=tmp;\n\t\t\t\t}\n\t\t\t\tif(tate>=4){\n\t\t\t\t\tround=0;\n\t\t\t\t\ttate=0;\n\t\t\t\t\tyoko=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n};\n\nint main(){\n\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tvector<Dice> ds;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tvector<string> v;\n\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin>>str;\n\t\t\t\tv.push_back(str);\n\t\t\t}\n\t\t\tds.push_back(Dice(v));\n\t\t}\n\n\t\tvector<Dice> used;\n\t\tused.push_back(ds[0]);\n\t\tfor(int i = 1; i < n; i++){\n\t\t\tbool t=false;\n\t\t\t// ÇêðÝé©\n\t\t\tbool f=false;\n\t\t\tfor(int j = 0; j < used.size(); j++){\n\t\t\t\t// ÇÌûü©\n\t\t\t\tfor(int k = 0; k < 28; k++){\n\t\t\t\t\t// ½ÄÆæ±\n\t\t\t\t\tfor(int l = 0; l < 3; l++){\n\t\t\t\t\t\tfor(int m = 0; m < 4; m++){\n\t\t\t\t\t\t\tif(used[j].face[l][m]!=ds[i].face[l][m]){\n\t\t\t\t\t\t\t\tt=true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(t)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(!t){\n\t\t\t\t\t\tf=true;\n\t\t\t\t\t}\n\t\t\t\t\t//if(k==3){\n\t\t\t\t\t//\tcout<<endl;\n\t\t\t\t\t//}\n\t\t\t\t\tused[j].rotate();\n\t\t\t\t\tt=false;\n\t\t\t\t}\n\t\t\t\t// àµÇÌûüÅàêvµÈ©Á½çAXgÉÁ¦é\n\t/*\t\t\tfor(int l = 0; l < 3; l++){\n\t\t\t\t\tfor(int k = 0; k < 4; k++){\n\t\t\t\t\t\tcout<<used[j].face[l][k]<<\" \";\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;\n\t\t\t\t}\n\t\t\t\tcout<<endl;*/\n\n\t\t\t\tif(f)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(!f){\n\t\t\t\tused.push_back(ds[i]);\n\t\t\t}\n\t\t}\n\t\tcout<<n-used.size()<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<24;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n\nusing namespace std;\n\nclass DICE {\npublic:\n\tstring top;\n\tstring bottom;\n\tstring left;\n\tstring right;\n\tstring front;\n\tstring back;\n\tvoid TF();\n\tvoid TB();\n\tvoid TL();\n\tvoid TR();\n\tvoid TurnL();\n\tvoid TurnR();\n\tbool HANTEI(DICE d2);\n\tbool CHECK(DICE d2);\n};\n\nvoid DICE::TF() {\n\tstring kari = front;\n\tfront = top;\n\ttop = back;\n\tback = bottom;\n\tbottom = kari;\n}\n\nvoid DICE::TB() {\n\tTF();\n\tTF();\n\tTF();\n}\n\nvoid DICE::TL() {\n\tstring kari = left;\n\tleft = top;\n\ttop = right;\n\tright = bottom;\n\tbottom = kari;\n}\n\nvoid DICE::TR() {\n\tTL();\n\tTL();\n\tTL();\n}\n\nvoid DICE::TurnL() {\n\tstring kari = left;\n\tleft = back;\n\tback = right;\n\tright = front;\n\tfront = kari;\n}\n\nvoid DICE::TurnR() {\n\tTurnL();\n\tTurnL();\n\tTurnL();\n}\n\nbool DICE::HANTEI(DICE d2) {\n\tif ((top==d2.top)&&(bottom==d2.bottom)&&(left==d2.left)&&(right==d2.right)&&(front==d2.front)&&(back==d2.back)) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nbool DICE::CHECK(DICE d2) {\n\tDICE d3 = d2;\n\tfor (int i = 0; i < 4; i++) {\n\t\td3.TurnL();\n\t\tif (HANTEI(d3)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\td3 = d2;\n\td3.TF();\n\td3.TF();\n\tfor (int i = 0; i < 4; i++) {\n\t\td3.TurnL();\n\t\tif (HANTEI(d3)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\td3 = d2;\n\td3.TF();\n\tfor (int i = 0; i < 4; i++) {\n\t\td3.TL();\n\t\tif (HANTEI(d3)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\td3 = d2;\n\td3.TB();\n\tfor (int i = 0; i < 4; i++) {\n\t\td3.TL();\n\t\tif (HANTEI(d3)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\td3 = d2;\n\td3.TL();\n\tfor (int i = 0; i < 4; i++) {\n\t\td3.TF();\n\t\tif (HANTEI(d3)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\td3 = d2;\n\td3.TR();\n\tfor (int i = 0; i < 4; i++) {\n\t\td3.TF();\n\t\tif (HANTEI(d3)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nint main() {\n\tint n;\n\twhile (cin >> n) {\n\t\tif (n == 0) {\n\t\t\tbreak;\n\t\t}\n\t\tvector<DICE> dd;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tDICE d;\n\t\t\tcin >> d.top >> d.front >> d.right >> d.left >> d.back >> d.bottom;\n\t\t\tbool h = true;\n\t\t\tfor (int j = 0; j < dd.size(); j++) {\n\t\t\t\tif (dd[j].CHECK(d)) {\n\t\t\t\t\th = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (h) {\n\t\t\t\tdd.push_back(d);\n\t\t\t}\n\t\t}\n\t\tint sz = dd.size();\n\t\tcout << n-sz << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <string.h>\nusing namespace std;\n\nclass Dice\n{\npublic:\n\tDice( char c[ 6 ] )\n\t{\n\t\tfor( int i = 0; i < 6; ++i ){\n\t\t\tface[ i ] = c[ i ];\n\t\t}\n\t\tface[ 6 ] = '\\0';\n\t}\n\tvoid rotateVertical()\n\t{\n\t\tchar t = face[ 0 ];\n\t\tface[ 0 ] = face[ 1 ];\n\t\tface[ 1 ] = face[ 5 ];\n\t\tface[ 5 ] = face[ 4 ];\n\t\tface[ 4 ] = t;\n\t}\n\tvoid rotateHorizontal()\n\t{\n\t\tchar t = face[ 1 ];\n\t\tface[ 1 ] = face[ 2 ];\n\t\tface[ 2 ] = face[ 4 ];\n\t\tface[ 4 ] = face[ 3 ];\n\t\tface[ 3 ] = t;\n\t}\n\tchar roundFace( int index )\n\t{\n\t\tstatic int a[] = { 1, 2, 4, 3 };\n\t\treturn face[ a[ index ] ];\n\t}\n\tint getId()\n\t{\n\t\tstatic string pattern[] = {\n\t\t\t\"RBMGCY\", \"RBMCGY\", \"RBGMCY\", \"RBGCMY\", \"RBCMGY\", \"RBCGMY\",\n\t\t\t\"RYMGCB\", \"RYMCGB\", \"RYGMCB\", \"RYGCMB\", \"RYCMGB\", \"RYCGMB\",\n\t\t\t\"RYBGCM\", \"RYBCGM\", \"RYGBCM\", \"RYGCBM\", \"RYCBGM\", \"RYCGBM\",\n\t\t\t\"RYBMCG\", \"RYBCMG\", \"RYMBCG\", \"RYMCBG\", \"RYCBMG\", \"RYCMBG\",\n\t\t\t\"RYBMGC\", \"RYBGMC\", \"RYMBGC\", \"RYMGBC\", \"RYGBMC\", \"RYGMBC\",\n\t\t};\n\t\tif( face[ 2 ] == 'R' || face[ 3 ] == 'R' ){\n\t\t\trotateHorizontal();\n\t\t}\n\t\twhile( face[ 0 ] != 'R' ){\n\t\t\trotateVertical();\n\t\t}\n\t\tif( face[ 5 ] == 'Y' ){\n\t\t\twhile( face[ 1 ] != 'B' ){\n\t\t\t\trotateHorizontal();\n\t\t\t}\n\t\t}else{\n\t\t\twhile( face[ 1 ] != 'Y' ){\n\t\t\t\trotateHorizontal();\n\t\t\t}\n\t\t}\n\t\tstring diceStr( face );\n\t\tfor( int i = 0; i < 30; ++i ){\n\t\t\tif( pattern[ i ] == diceStr ){\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tchar face[ 6 + 1 ];\n};\n\nint main()\n{\n\tint n;\n\twhile( cin >> n && n ){\n\t\tint id[ 30 ];\n\t\tmemset( id, 0, sizeof(id) );\n\n\t\tfor( int i = 0; i < n; ++i ){\n\t\t\tstring s;\n\t\t\tchar c[ 6 ];\n\t\t\tfor( int i = 0; i < 6; ++i ){\n\t\t\t\tcin >> s;\n\t\t\t\tc[ i ] = s[ 0 ];\n\t\t\t}\n\t\t\tDice dice( c );\n\t\t\t++id[ dice.getId() ];\n\t\t}\n\n\t\tint ans = 0;\n\t\tfor( int i = 0; i < 30; ++i ){\n\t\t\tif( id[ i ] > 1 ){\n\t\t\t\t++ans;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n  int n,q;\n  int i;\n  con \n  int s[n];\n  for(i=0;i<n;i++) printf(\"%d\",&s[i]);\n  printf(\"%d\",&q);\n  int t[q];\n  for(i=0;i<q;i++) printf(\"%d\",&t[i]);\n  int count=0;\n  int h[10000000];\n  for(i=0;i<n;i++) h[s[i]] = 1;\n  for(i=0;i<q;i++){\n    if(h[t[q]]==1){\n      count++;\n      h[t[q]] = 0;\n    }\n  }\n  scanf(\"%d\\n\",count);\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n\n#define REP(i, b, n) for(int i = b; i<(int)n; i++)\n#define rep(i, n) REP(i, 0, n)\n\nusing namespace std;\n\nenum{TOP=0,FRONT,RIGHT,LEFT,BACK,BOTTOM}; \n#define rotate_swap(x,a,b,c,d) swap(x.m[a],x.m[b]);swap(x.m[b],x.m[c]);swap(x.m[c],x.m[d]);\n  \nconst int dy[] = {-1, 0, 1, 0};\nconst int dx[] = {0, 1, 0, -1};\n \nclass Dice{\npublic:\n  int y, x;\n  string m[6];\n  Dice(){\n    y = x = 0;\n  }\n  bool operator<(const Dice &a)const{\n    rep(i,6)if (m[i] != a.m[i])return m[i] < a.m[i];\n    return false;\n  }\n  bool operator==(const Dice &a)const{\n    rep(i,6)if (m[i] != a.m[i])return false;\n    return true;\n  }\n};\n \nvoid rotate_r(Dice &x){\n  x.x++;\n  rotate_swap(x,TOP,LEFT,BOTTOM,RIGHT);\n}\n  \nvoid rotate_l(Dice &x){\n  x.x--;\n  rotate_swap(x,TOP,RIGHT,BOTTOM,LEFT);\n}\n  \nvoid rotate_f(Dice &x){\n  x.y--;\n  rotate_swap(x,TOP,BACK,BOTTOM,FRONT);\n}\n  \nvoid rotate_b(Dice &x){\n  x.y++;\n  rotate_swap(x,TOP,FRONT,BOTTOM,BACK);\n}\n  \nvoid rotate_cw(Dice &x){\n  rotate_swap(x,BACK,LEFT,FRONT,RIGHT);\n}\n  \nvoid rotate_ccw(Dice &x){\n  rotate_swap(x,BACK,RIGHT,FRONT,LEFT);\n}\n  \nvector<Dice> generate_all(Dice x){\n  vector<Dice> res;\n  rep(i,6){\n    rep(j,4){\n      res.push_back(x);\n      rotate_cw(x);\n    }\n    if (i%2 == 0)rotate_r(x);\n    else rotate_f(x);\n  }\n  return res;\n}\n\nint main() {\n  while (true) {\n    int n;\n    cin >> n; \n    if (n == 0) break;\n    vector<vector<Dice> > v;\n    rep (i, n) {\n      Dice dice;\n      cin >> dice.m[TOP];\n      cin >> dice.m[FRONT];\n      cin >> dice.m[RIGHT];\n      cin >> dice.m[LEFT];\n      cin >> dice.m[BACK];\n      cin >> dice.m[BOTTOM];\n      v.push_back(generate_all(dice));\n    }\n    int res = 0;\n    rep (i, n) rep (j, i) {\n      rep (ii, 24) rep (jj, 24) {\n\tif (v[i][ii] == v[j][jj]) {\n\t  ++res;\n\t  goto next;\n\t}\n      }\n    next:;\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 2011/07/21 Tazoe\n\n#include <iostream>\n#include <string>\nusing namespace std;\n\nint main()\n{\n\twhile(true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n==0)\n\t\t\tbreak;\n\n\t\tint c[30][6];\n\t\tfor(int i=0; i<n; i++){\n\t\t\tfor(int j=0; j<6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\t\t\t\tif(str==\"Red\")\n\t\t\t\t\tc[i][j] = 1;\n\t\t\t\telse if(str==\"Yellow\")\n\t\t\t\t\tc[i][j] = 2;\n\t\t\t\telse if(str==\"Blue\")\n\t\t\t\t\tc[i][j] = 3;\n\t\t\t\telse if(str==\"Magenta\")\n\t\t\t\t\tc[i][j] = 4;\n\t\t\t\telse if(str==\"Green\")\n\t\t\t\t\tc[i][j] = 5;\n\t\t\t\telse if(str==\"Cyan\")\n\t\t\t\t\tc[i][j] = 6;\n\t\t\t}\n\t\t}\n/*\n\t\tfor(int i=0; i<n; i++){\n\t\t\tfor(int j=0; j<6; j++)\n\t\t\t\tcout << c[i][j] << ' ';\n\t\t\tcout << endl;\n\t\t}\n*/\n\t\tfor(int i=0; i<n; i++){\n\t\t\tif(c[i][0]>c[i][5]){\n\t\t\t\tint tmp = c[i][0];\n\t\t\t\tc[i][0] = c[i][5];\n\t\t\t\tc[i][5] = tmp;\n\n\t\t\t\ttmp = c[i][2];\n\t\t\t\tc[i][2] = c[i][3];\n\t\t\t\tc[i][3] = tmp;\n\t\t\t}\n\t\t\tif(c[i][1]>c[i][4]){\n\t\t\t\tif(c[i][2]<c[i][3]){\n\t\t\t\t\tint tmp = c[i][1];\n\t\t\t\t\tc[i][1] = c[i][2];\n\t\t\t\t\tc[i][2] = c[i][4];\n\t\t\t\t\tc[i][4] = c[i][3];\n\t\t\t\t\tc[i][3] = tmp;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tint tmp = c[i][1];\n\t\t\t\t\tc[i][1] = c[i][4];\n\t\t\t\t\tc[i][4] = tmp;\n\n\t\t\t\t\ttmp = c[i][2];\n\t\t\t\t\tc[i][2] = c[i][3];\n\t\t\t\t\tc[i][3] = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(c[i][2]>c[i][3]){\n\t\t\t\tint tmp = c[i][2];\n\t\t\t\tc[i][2] = c[i][1];\n\t\t\t\tc[i][1] = c[i][3];\n\t\t\t\tc[i][3] = c[i][4];\n\t\t\t\tc[i][4] = tmp;\n\t\t\t}\n\t\t\tif(c[i][1]==1){\n\t\t\t\tint tmp = c[i][1];\n\t\t\t\tc[i][1] = c[i][2];\n\t\t\t\tc[i][2] = c[i][0];\n\t\t\t\tc[i][0] = tmp;\n\t\t\t\ttmp = c[i][4];\n\t\t\t\tc[i][4] = c[i][3];\n\t\t\t\tc[i][3] = c[i][5];\n\t\t\t\tc[i][5] = tmp;\n\t\t\t}\n\t\t\tif(c[i][2]==1){\n\t\t\t\tint tmp = c[i][2];\n\t\t\t\tc[i][2] = c[i][1];\n\t\t\t\tc[i][1] = c[i][0];\n\t\t\t\tc[i][0] = tmp;\n\t\t\t\ttmp = c[i][3];\n\t\t\t\tc[i][3] = c[i][4];\n\t\t\t\tc[i][4] = c[i][5];\n\t\t\t\tc[i][5] = tmp;\n\t\t\t}\n\t\t}\n/*\n\t\tfor(int i=0; i<n; i++){\n\t\t\tfor(int j=0; j<6; j++)\n\t\t\t\tcout << c[i][j] << ' ';\n\t\t\tcout << endl;\n\t\t}\n*/\n\t\tint d[30];\n\t\tfor(int i=0; i<n; i++)\n\t\t\td[i] = ((((c[i][0]*10+c[i][1])*10+c[i][2])*10+c[i][3])*10+c[i][4])*10+c[i][5];\n\n\t\tfor(int i=0; i<n-1; i++)\n\t\t\tfor(int j=i+1; j<n; j++)\n\t\t\t\tif(d[i]>d[j]){\n\t\t\t\t\tint tmp = d[i];\n\t\t\t\t\td[i] = d[j];\n\t\t\t\t\td[j] = tmp;\n\t\t\t\t}\n/*\n\t\tfor(int i=0; i<n; i++)\n\t\t\tcout << d[i] << endl;\n*/\n\t\tint m = n;\n\t\tfor(int i=0; i<n-1; i++)\n\t\t\tif(d[i]==d[i+1])\n\t\t\t\tm--;\n\n\t\tcout << n-m << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\nenum{TOP=0,FRONT,RIGHT,LEFT,BACK,BOTTOM}; \n#define rotate_swap(x,a,b,c,d) swap(x.m[a],x.m[b]);swap(x.m[b],x.m[c]);swap(x.m[c],x.m[d]);\n\n\nclass Dice{\npublic:\n  int m[6];\n  bool operator<(const Dice &a)const{\n    rep(i,6)if (m[i] != a.m[i])return m[i] < a.m[i];\n    return false;\n  }\n};\n \nvoid rotate_r(Dice &x){\n  rotate_swap(x,TOP,LEFT,BOTTOM,RIGHT);\n}\n \nvoid rotate_l(Dice &x){\n rotate_swap(x,TOP,RIGHT,BOTTOM,LEFT);\n}\n \nvoid rotate_f(Dice &x){\n rotate_swap(x,TOP,BACK,BOTTOM,FRONT);\n}\n \nvoid rotate_b(Dice &x){\n rotate_swap(x,TOP,FRONT,BOTTOM,BACK);\n}\n \nvoid rotate_cw(Dice &x){\n  rotate_swap(x,BACK,LEFT,FRONT,RIGHT);\n}\n \nvoid rotate_ccw(Dice &x){\n  rotate_swap(x,BACK,RIGHT,FRONT,LEFT);\n}\n \nDice data[24];\n\nvoid generate_all(Dice &x){\n  rep(i,6){\n   rep(j,4){\n     data[i*4+j]=x;\n     rotate_cw(x);\n   }\n   if (i%2 == 0)rotate_r(x);\n   else rotate_f(x);\n }\n}\n\nmain(){\n  string hoge[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"};\n  int n;\n  while(cin>>n && n){\n    set<Dice> S;\n    rep(i,n){\n      int a[6];\n      rep(j,6){\n\tstring tmp;\n\tcin>>tmp;\n\trep(k,6)if (hoge[k] == tmp)a[j]=k;\n      }\n      Dice d={a[0],a[1],a[2],a[3],a[4],a[5]};\n      generate_all(d);\n      bool isok=true;\n      rep(j,24){\n\tif (S.find(data[j]) != S.end()){\n\t  isok=false;\n\t}\n      }\n      if (isok)S.insert(d);\n    }\n    cout << n-S.size() << endl;\n  }\n  return false;\n}"
  },
  {
    "language": "C++",
    "code": "//26\n#include<iostream>\n#include<set>\n#include<string>\n#include<vector>\n\nusing namespace std;\n\nvector<string> rot(vector<string> d,int a,int b,int c,int x){\n  string t=d[a];\n  d[a]=d[b];\n  d[b]=d[c];\n  d[c]=d[x];\n  d[x]=t;\n  return d;\n}\n\nvector<string> rotu(vector<string> d){\n  return rot(d,0,1,5,4);\n}\n\nvector<string> rotr(vector<string> d){\n  return rot(d,3,0,2,5);\n}\n\nvector<string> roth(vector<string> d){\n  return rot(d,1,2,4,3);\n}\n\nint main(){\n  for(int n;cin>>n,n;){\n    set<vector<string> > s;\n    for(int i=0;i<n;i++){\n      vector<string> d(6);\n      for(int j=0;j<6;j++){\n\tcin>>d[j];\n      }\n      for(int j=0;j<6;j++){\n\tif(j%2){\n\t  d=rotu(d);\n\t}else{\n\t  d=rotr(d);\n\t}\n\tfor(int k=0;k<4;k++){\n\t  d=roth(d);\n\t  s.insert(d);\n\t}\n      }\n    }\n    cout<<n-s.size()/24<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <iostream>\n#include <vector>\n#include <set>\nusing namespace std;\n\nenum { U, B, L, F, R, D };\nstruct Dice {               //   .    .  U(2)   .\n    int face[6];            // B(5) L(4) F(0) R(1)\n    Dice() {                //   .    .  D(3)   .\n        face[F] = 0; face[R] = 1; face[U] = 2;\n        face[B] = 5; face[L] = 4; face[D] = 3;\n    }\n    int find_face(int f) {\n        for (int i = 0; i < 6; i++) if (face[i] == f) return i;\n        return -1;\n    }\n    void turn(int dir) {\n        switch (dir) {\n            case R: rotate(U, R, D, L); break;\n            case B: rotate(U, B, D, F); break;\n            case L: rotate(U, L, D, R); break;\n            case F: rotate(U, F, D, B); break;\n            case U: rotate(F, R, B, L); break;  // 上から見て反時計回り\n            case D: rotate(F, L, B, R); break;  // 下から見て反時計回り\n        }\n    }\n    int& operator[](int n) { return face[n]; }\n    const int& operator[](int n) const { return face[n]; }\n    vector<Dice> all_rolls() {              // 24 通り\n        vector<Dice> res;\n        for (int k = 0; k < 6; k++) {\n            for (int i = 0; i < 4; i++) {\n                res.push_back(*this);\n                turn(R);\n            }\n            turn(k % 2 == 1 ? U : F);\n        }\n        return res;\n    }\n    void rotate(int a, int b, int c, int d) {\n        int t = face[d]; face[d] = face[c]; face[c] = face[b];\n        face[b] = face[a]; face[a] = t;\n    }\n    friend ostream& operator<<(ostream& os, const Dice d) {\n        os << \"[\";                          // U, B, L, F, R, D\n        for (int i = 0; i < 6; i++) os << d[i] << \" ]\"[i == 5];\n        return os;\n    }\n};\n\nint main() {\n    Dice dice;\n    vector<Dice> all_rolls = dice.all_rolls();\n    int n;\n    while (cin >> n, n) {\n        int cnt = 0;\n        set<string> s;\n        while (n--) {\n            string cur, t;\n            for (int i = 0; i < 6; i++) cin >> t, cur += t[0];\n            swap(cur[3], cur[4]);\n            if (s.count(cur)) {\n                cnt++;\n            } else {\n                swap(cur[3], cur[4]);\n                for (Dice &dice: all_rolls) {\n                    string t;\n                    for (int i = 0; i < 6; i++) t += cur[dice[i]];\n                    s.emplace(t);\n                }\n            }\n        }\n        cout << cnt << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstruct kyu_bu{\n  string kyu[7];\n  bool h;\n};\nkyu_bu p[30];\nvoid North(int i){\n  string mem;\n  mem = p[i].kyu[1];\n  p[i].kyu[1] = p[i].kyu[2];\n  p[i].kyu[2] = p[i].kyu[6];\n  p[i].kyu[6] = p[i].kyu[5];\n  p[i].kyu[5] = mem;\n}\nvoid East(int i){\n  string mem;\n  mem = p[i].kyu[1];\n  p[i].kyu[1] = p[i].kyu[4];\n  p[i].kyu[4] = p[i].kyu[6];\n  p[i].kyu[6] = p[i].kyu[3];\n  p[i].kyu[3] = mem;\n}\nvoid Right(int i){\n  string mem;\n  mem = p[i].kyu[2];\n  p[i].kyu[2] = p[i].kyu[3];\n  p[i].kyu[3] = p[i].kyu[5];\n  p[i].kyu[5] = p[i].kyu[4];\n  p[i].kyu[4] = mem;\n}\nint main(){\n  int n;\n  int roop[7]={0,2,3,4,5,6,1};\n  while(cin >> n){\n    if(n==0) break;\n    int count = 0;\n    for(int i=0;i<n;i++){\n      p[i].h = true;\n      for(int j=1;j<=6;j++) cin >> p[i].kyu[j];\n    }\n    for(int i=0;i<n-1;i++){\n      if(!p[i].h) continue;\n      for(int j=0;j<=12;j++){\n\tif(j>=1&&j<=4) North(i);\n\telse if(j>=5&&j<=8) East(i);\n\telse if(j>=9&&j<=12)Right(i);\n\tfor(int k=i+1;k<n;k++){\n\t  if(!p[k].h) continue;\n\t  for(int g=1;g<=6;g++){\n\t    if(p[i].kyu[1]==p[k].kyu[g]){\n\t      int strat = roop[g];\n\t      int cou = 1;\n\t      int index = 2;\n\t      while(cou!=6){\n\t\tif(p[i].kyu[index]!=p[k].kyu[strat]) break;\n\t\tcou++;\n\t\tindex++;\n\t\tstrat = roop[strat];   \n\t      }\n\t      if(cou==6){\n\t\tcount++;\n\t\tp[k].h = false;\n\t      }\n\t    }\n\t  }\n\t}\n      }\n    }\n    cout << count << endl;\n  }\n  return 0;\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint cc(int,int);\n\nint main(){\n  int i,j,k,l,m,o,n,a[30][7],ans,c;\n  string str;\n  bool f;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    for(int t=0;t<n;t++){\n      for(i=1;i<7;i++){\n\tcin >> str;\n\tif(str == \"Cyan\") a[t][i] = 1;\n\telse if(str == \"Yellow\") a[t][i] = 2;\n\telse if(str == \"Red\") a[t][i] = 3;\n\telse if(str == \"Magenta\") a[t][i] = 4;\n\telse if(str == \"Green\") a[t][i] = 5;\n\telse a[t][i] = 6;\n      }\n    }\n    ans = 0;\n\n    for(i=0;i<n-1;i++){\n      for(j=i+1;j<n;j++){\n\tf = false;\n\tfor(k=1;k<7;k++){\n\t  for(l=1;l<7;l++){\n\t    if(a[i][k] == a[j][l] && a[i][7-k] == a[j][7-l]){\n\t      f = true;\n\n\t      int c1[4],c2[4];\n\t      for(m=0;m<4;m++){\n\t\tc1[m] = cc(k,m);\n\t\tc2[m] = cc(l,m);\n\t      }\n\n\t      for(m=0;m<4;m++){\n\t\tc = 0;\n\t\tfor(o=0;o<4;o++){\n\t\t  if(a[i][c1[o]] == a[j][c2[(o+m)%4]]) c++;\n\t\t}\n\t\tif(c == 4){\n\t\t  ans++;\n\t\t  break;\n\t\t}\n\n\t      }\n\t    }\n\t    if(f) break;\n\t  }\n\t  if(f) break;\n\t}\n      }\n    }\n\n    cout << ans << endl;\n\n  }\n  return 0;\n}\n\n\nint cc(int a,int b){\n\n  if(a == 1){\n    if(b == 0) return 5;\n    if(b == 1) return 3;\n    if(b == 2) return 2;\n    if(b == 3) return 4;\n  }\n  if(a == 2){\n    if(b == 0) return 1;\n    if(b == 1) return 3;\n    if(b == 2) return 6;\n    if(b == 3) return 4;\n  }\n  \n  if(a == 3){\n    if(b == 0) return 5;\n    if(b == 1) return 6;\n    if(b == 2) return 2;\n    if(b == 3) return 1;\n  }\n  \n  if(a == 4){\n    if(b == 0) return 5;\n    if(b == 1) return 1;\n    if(b == 2) return 2;\n    if(b == 3) return 6;\n  }\n  \n  if(a == 5){\n    if(b == 0) return 6;\n    if(b == 1) return 3;\n    if(b == 2) return 1;\n    if(b == 3) return 4;\n  }\n  \n  if(a == 6){\n    if(b == 0) return 5;\n    if(b == 1) return 4;\n    if(b == 2) return 2;\n    if(b == 3) return 3;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <map>\n#include <set>\n\nusing namespace std;\n\nint main(){\n\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tstring str;\n\t\tvector<vector<string> > vvs;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tvector<string> vs;\n\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\tcin>>str;\n\t\t\t\tvs.push_back(str);\n\t\t\t}\n\t\t\tvvs.push_back(vs);\n\t\t}\n\t\tbool f=false;\n\t\tset<map<string,set<string> > > smsss;\n\t\t// ツ重ツ閉。ツつキツづゥツ姪堋づーツ探ツつキ\n\t\tfor(int i = 0; i < n; i++){\n//\t\t\tfor(int j = i+1; j < n; j++){\n\t\t\tvector<string> &v1=vvs[i];\n\t\t\t//\t\t\t\tvector<string> &v2=vvs[j];\n\t\t\t\n\t\t\tmap<string,set<string> > msss;\n\t\t\t\n\t\t\tfor(int k = 0; k < 6; k++){\n\t\t\t\tif(k==0){\n\t\t\t\t\tmsss[v1[k]].insert(v1[1]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[2]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[3]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[4]);\n\t\t\t\t}\n\t\t\t\telse if(k==1){\n\t\t\t\t\tmsss[v1[k]].insert(v1[0]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[2]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[3]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[5]);\n\t\t\t\t}\n\t\t\t\telse if(k==2){\n\t\t\t\t\tmsss[v1[k]].insert(v1[0]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[5]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[1]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[4]);\n\t\t\t\t}\n\t\t\t\telse if(k==3){\n\t\t\t\t\tmsss[v1[k]].insert(v1[0]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[5]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[1]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[4]);\n\t\t\t\t}\n\t\t\t\telse if(k==4){\n\t\t\t\t\tmsss[v1[k]].insert(v1[0]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[5]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[3]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[2]);\n\t\t\t\t}\n\t\t\t\telse if(k==5){\n\t\t\t\t\tmsss[v1[k]].insert(v1[1]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[4]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[3]);\n\t\t\t\t\tmsss[v1[k]].insert(v1[2]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsmsss.insert(msss);\n\t\t}\n\t\tcout<<n-smsss.size()<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main() {\n\tchar g[8],c[6]={'R','Y','B','M','G','C'};\n\tint n,m,i,j,k,s,h,ic[6],cd[6],d[30],a[6][4]={{2,3,5,4},{6,3,1,4},{2,6,5,1},{2,1,5,6},{1,3,6,4},{2,4,5,3}};\n\twhile(cin >> n) {\n\t\tif (n==0) break;\n\t\tfor (i=0;i<30;i++) d[i]=0; h=0;\n\t\tfor (i=0;i<n;i++) {\n\t\t     for (j=0;j<6;j++) {\t\n                  cin >> g;\n                  for (k=0;k<6;k++) if (g[0]==c[k]) break;\n                  ic[j]=k; if (k==0) s=j;\n\t              }\n\t    for (m=0,j=0;j<4;j++) { cd[j]=ic[a[s][j]-1]; if (cd[j]<cd[m]) m=j; }\n\t    d[i]=cd[m]*1000+cd[(m+1) % 4]*100+cd[(m+2) % 4]*10+cd[(m+3) % 4];\n\t    for (k=1,j=0;j<i;j++) if (d[i]==d[j]) { k=0; break;}\n\t    h+=k;\n        }\n        cout << n-h << endl;\n\t}   \t\t\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n\nusing namespace std;\n\nstruct Dice\n{\n  int c[6];\n  void rot(int type){\n    char newc[6];\n    if( type == 0 ){ // front\n      newc[2]=c[2];newc[3]=c[3];\n      newc[0]=c[1];newc[1]=c[5];newc[4]=c[0];newc[5]=c[4];\n    }\n    if( type == 1 ){ // right\n      newc[1]=c[1];newc[4]=c[4];\n      newc[0]=c[3];newc[2]=c[0];newc[3]=c[5];newc[5]=c[2];\n    }\n    if( type == 2 ){ // hor\n      newc[0]=c[0];newc[5]=c[5];\n      newc[1]=c[2];newc[2]=c[4];newc[3]=c[1];newc[4]=c[3];\n    }\n    for(int i = 0; i < 6; ++i)c[i]=newc[i];\n  }\n  bool samePattern(Dice d)const{\n    const int rots[] = {0,0,0,1,1,1, 1};\n    for(int i = 0; i < sizeof(rots)/sizeof(*rots);++i){\n      for(int j = 0; j < 4; ++j){\n\tif( same(d) ) return true;\n\td.rot(2);\n      }\n      d.rot( rots[i] );\n    }\n    return false;\n  }\n  bool same(const Dice &d)const{\n    for(int i = 0; i < 6; ++i){\n      if( c[i] != d.c[i] ) return false;\n    }\n    return true;\n  }\n};\nint main()\n{\n  while(true){\n    int n;\n    int ans = 0;\n    cin >> n;\n    if( n == 0 )break;\n    Dice dice[n];\n    bool inv[n];\n    fill(inv,inv+n,false);\n    for(int i = 0; i < n; ++i){\n      for(int j = 0; j < 6; ++j){\n\tstring s;\n\tcin >> s;\n\tif( s == \"Cyan\" )    dice[i].c[j]=0;\n\tif( s == \"Yellow\" )  dice[i].c[j]=1;\n\tif( s == \"Red\" )     dice[i].c[j]=2;\n\tif( s == \"Magenta\" ) dice[i].c[j]=3;\n\tif( s == \"Green\" )   dice[i].c[j]=4;\n\tif( s == \"Blue\" )    dice[i].c[j]=5;\n      }\n    }\n   \n\n    for(int i = 0; i < n; ++i){\n      if( !inv[i] ){\n\tfor(int j = i+1; j < n; ++j){\n\t  if( !inv[j] ){\n\t    if( dice[i].samePattern( dice[j] ) ){\n\t      inv[j]=true;\n\t    }\n\t  }\n\t}\n      }\n    }\n    for(int i = 0; i < n; ++i){\n      if( inv[i] ){\n\t++ans;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101],kotaneet=0,ruio=0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tkotaneet = 0;\n\t\tint tatuo = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1 &&b[i][1]!=-1) {\n\t\t\t\t\t//cout << \"tatuya0\" << endl;\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t//cout << \"tatuya1\" << endl;\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t//cout << \"tatuya2\" << endl;\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\t//cout << \"tatuya3\" << endl;\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\tif (tatuo > 0) break;\n\t\t\t\t}\n\t\t\t\tif (tatuo > 0) {\n\t\t\t\t\ttatuo = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a-ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint N;\nint main()\n{\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0)return 0;\n\t\tint X[6];\n\t\tset<int>S;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring SS;\n\t\t\t\tcin >> SS;\n\t\t\t\tif(SS==\"Cyan\")X[j]=0;\n\t\t\t\tif(SS==\"Yellow\")X[j]=1;\n\t\t\t\tif(SS==\"Red\")X[j]=2;\n\t\t\t\tif(SS==\"Magenta\")X[j]=3;\n\t\t\t\tif(SS==\"Green\")X[j]=4;\n\t\t\t\tif(SS==\"Blue\")X[j]=5;\n\t\t\t}\n\t\t\tif(X[0]==0||X[5]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=1;i<5;i++){\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==1){\n\t\t\t\t\tsum=X[1]+X[2]*6+X[3]*36+X[4]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==2){\n\t\t\t\t\tsum=X[2]+X[3]*6+X[4]*36+X[1]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==3){\n\t\t\t\t\tsum=X[3]+X[4]*6+X[1]*36+X[2]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==4){\n\t\t\t\t\tsum=X[4]+X[1]*6+X[2]*36+X[3]*216;\n\t\t\t\t}\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[1]==0||X[4]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\t\tif(i==1||i==4)continue;\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==0){\n\t\t\t\t\tsum=X[0]+X[2]*6+X[5]*36+X[3]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==2){\n\t\t\t\t\tsum=X[2]+X[5]*6+X[3]*36+X[0]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==5){\n\t\t\t\t\tsum=X[5]+X[3]*6+X[0]*36+X[2]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==3){\n\t\t\t\t\tsum=X[3]+X[0]*6+X[2]*36+X[5]*216;\n\t\t\t\t}\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[2]==0||X[3]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\t\tif(i==2||i==3)continue;\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==4){\n\t\t\t\t\tsum=X[4]+X[0]*6+X[1]*36+X[5]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==0){\n\t\t\t\t\tsum=X[0]+X[1]*6+X[5]*36+X[4]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==1){\n\t\t\t\t\tsum=X[1]+X[5]*6+X[4]*36+X[0]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==5){\n\t\t\t\t\tsum=X[5]+X[4]*6+X[0]*36+X[1]*216;\n\t\t\t\t}\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",N-(int)S.size());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<vector<string>> v;\n        vector<string> c(6);\n        for(int j=0; j < n; j++){\n            for(int i=0; i< 6; i++){\n                cin >> c[i];\n            }\n            string a, b, d;\n            a = c[0].substr(0,1) + c[5].substr(0,1); b = c[1].substr(0,1) + c[4].substr(0,1); d = c[2].substr(0,1) + c[3].substr(0,1);\n            vector<string> p(3);\n            sort(a.begin(), a.end());\n            sort(b.begin(), b.end());\n            sort(d.begin(), d.end());\n            p[0] = a; p[1] = b; p[2] = d;\n            sort(p.begin(), p.end());\n            bool is = false;\n            for(int i=0; i < v.size(); i++){\n                bool b = true;\n                for(int j=0; j < 3; j++) if(v[i][j] != p[j])b = false;\n                if(b){is = true; break;}\n            }\n            if(!is)v.push_back(p);\n        }\n        cout << n-v.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<vector<string>> v;\n        vector<string> c(6);\n        for(int j=0; j < n; j++){\n            for(int i=0; i< 6; i++){\n                cin >> c[i];\n            }\n            string a, b, d;\n            a = c[0].substr(0,1) + c[5].substr(0,1); b = c[1].substr(0,1) + c[4].substr(0,1); d = c[2].substr(0,1) + c[3].substr(0,1);\n            vector<string> p(3);\n            sort(a.begin(), a.end());\n            sort(b.begin(), b.end());\n            sort(d.begin(), d.end());\n            p[0] = a; p[1] = b; p[2] = d;\n            sort(p.begin(), p.end());\n            bool is = false;\n            for(int i=0; i < v.size(); i++) if(v[i] == p) is = true;\n            if(!is)v.push_back(p);\n        }\n        cout << n-v.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nclass Box{\npublic:\n\tstring c1,c2,c3,c4,c5,c6;\n\n\tbool operator==( const Box& lhs ){\n\t\treturn c1 == lhs.c1 && c2 == lhs.c2 && c3 == lhs.c3 && c4 == lhs.c4 && c5 == lhs.c5 && c6 == lhs.c6;\n\t}\n\n\tvoid rotatet(){\n\t\tstring d1,d2;\n\t\td1 = c1;\n\t\tc1 = c5;\n\t\td2 = c2;\n\t\tc2 = d1;\n\t\tc5 = c6;\n\t\tc6 = d2;\n\t}\n\n\tvoid rotatey(){\n\t\tstring d1,d2;\n\t\td1 = c1;\n\t\tc1 = c3;\n\t\td2 = c4;\n\t\tc4 = d1;\n\t\tc3 = c6;\n\t\tc6 = d2;\n\t}\n};\n\n\nint main( void )\n{\n\tint n;\n\tBox box[31];\n\tbool check[31];\n\n\twhile( cin >> n && n != 0 ){\n\t\tfor( int i = 0;i < 31;i++ ) check[i] = false;\n\t\tfor( int i = 0;i < n;i++ ){\n\t\t\tcin >> box[i].c1 >>  box[i].c2 >>  box[i].c3 >>  box[i].c4 >>  box[i].c5 >>  box[i].c6; \n\t\t}\n\n\t\tint count = 0;\n\n\t\tfor( int i = 0;i < n;i++ ){\n\t\t\tcheck[i] = true;\n\t\t\tfor( int j = i + 1;j < n;j++ ){\n\t\t\t\tif( check[j] == false ){\n\t\t\t\t\tfor( int k = 0;k < 4;k++ ){\n\t\t\t\t\t\tbox[j].rotatet();\n\t\t\t\t\t\tfor( int n = 0;n < 4;n++ ){\n\t\t\t\t\t\t\tbox[j].rotatey();\n\t\t\t\t\t\t\tif( box[i] == box[j] ){\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\tcheck[j] = true;\n\t\t\t\t\t\t\t\tgoto END;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\nEND:;\n\t\t\t}\n\t\t}\n\t\tcout << count << endl;\n\t}\n\t\t\t\t\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\nbool arrequ(int a1[], int a2[], int size){\n\tfor(int i = 0;i < size;i++){\n\t\tbool equ = true;\n\t\tfor(int j = 0;j < size;j++){\n\t\t\tif(a1[j] != a2[(i + j) % size]){\n\t\t\t\tequ = false;\n\t\t\t}\n\t\t}\n\t\tif(equ) return true;\n\t}\n\treturn false;\n}\n\nvoid arrrev(int arr[], int size){\n\tfor(int i = 0;i < size / 2;i++){\n\t\tswap(arr[i], arr[size - i - 1]);\n\t}\n}\n\nint main_(){\n\tint a1[4], a2[4];\n\tfor(int i = 0;i < 4;i++) cin >> a1[i];\n\tfor(int i = 0;i < 4;i++) cin >> a2[i];\n\tcout << arrequ(a1, a2, 4) << endl;\n\treturn 0;\n}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tint box[30][6] = {0};\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tfor(int j = 0;j < 6;j++){\n\t\t\t\tstring c;\n\t\t\t\tcin >> c;\n\t\t\t\tif(c == \"Red\") box[i][j] = 0;\n\t\t\t\telse if(c == \"Yellow\") box[i][j] = 1;\n\t\t\t\telse if(c == \"Blue\") box[i][j] = 2;\n\t\t\t\telse if(c == \"Magenta\") box[i][j] = 3;\n\t\t\t\telse if(c == \"Green\") box[i][j] = 4;\n\t\t\t\telse if(c == \"Cyan\") box[i][j] = 5;\n\t\t\t}\n\t\t}\n\t\tint set1[3][4] = {\n\t\t\t{1, 2, 4, 3}, \n\t\t\t{0, 2, 5, 3},\n\t\t\t{0, 1 ,5, 4}\n\t\t};\n\t\tint set2[3][2] = {\n\t\t\t{0, 5},\n\t\t\t{1, 4},\n\t\t\t{2, 3}\n\t\t};\n\t\tint ans = 0;\n\t\tfor(int i1 = 0;i1 < n;i1++){\n\t\t\tfor(int i2 = i1 + 1;i2 < n;i2++){\n\t\t\t\tint a1[4] = {0}, a2[4] = {0}, b1[2] = {0}, b2[2] = {0};\n\t\t\t\tfor(int j = 0;j < 3;j++){\n\t\t\t\t\tfor(int k = 0;k < 4;k++){\n\t\t\t\t\t\ta1[k] = box[i1][set1[j][k]];\n\t\t\t\t\t\ta2[k] = box[i2][set1[j][k]];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k = 0;k < 2;k++){\n\t\t\t\t\t\tb1[k] = box[i1][set2[j][k]];\n\t\t\t\t\t\tb2[k] = box[i2][set2[j][k]];\n\t\t\t\t\t}\n\t\t\t\t\tif(arrequ(a1, a2, 4) && arrequ(b1, b2, 2)){\n\t\t\t\t\t\t//cout << i1 << \" & \" << i2 << endl;\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tarrrev(a1, 4);\n\t\t\t\t\tarrrev(b1, 2);\n\t\t\t\t\tif(arrequ(a1, a2, 4) && arrequ(b1, b2, 2)){\n\t\t\t\t\t\t//cout << i1 << \" & \" << i2 << endl;\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define pb push_back\n#define fi first\n#define se second\n\ntypedef vector<int> vi;\n\ninline vi rotate(const vi &t)\n{\n    int idx=0;\n    while(idx<6 && t[idx]!=0) ++idx;\n\n    vi a;\n    if(idx==0) a=vi({0,1,2,3,4,5});\n    else if(idx==1) a=vi({1,6,2,3,0,4});\n    else if(idx==2) a=vi({2,1,5,0,4,3});\n    else if(idx==3) a=vi({3,1,0,5,4,2});\n    else if(idx==4) a=vi({4,0,2,3,5,1});\n    else if(idx==5) a=vi({5,4,2,3,1,0});\n\n    vi ret(6);\n    rep(i,6) ret[i]=t[a[i]];\n    return ret;\n}\n\ninline vi normalize(const vi &t)\n{\n    vi side({t[1],t[2],t[4],t[3]});\n\n    vector<vi> s;\n    rep(i,4)\n    {\n        vi a(4);\n        rep(j,4) a[j]=side[(j+i)%4];\n        s.pb(a);\n    }\n    sort(all(s));\n    return s[0];\n}\n\nint main()\n{\n    int n;\n    while(cin >>n,n)\n    {\n        vector<vi> d(n);\n        rep(i,n)\n        {\n            vi t(6);\n            rep(j,6)\n            {\n                string s;\n                cin >>s;\n                if(s==\"Red\") t[j]=0;\n                else if(s==\"Yellow\") t[j]=1;\n                else if(s==\"Blue\") t[j]=2;\n                else if(s==\"Magenta\") t[j]=3;\n                else if(s==\"Green\") t[j]=4;\n                else if(s==\"Cyan\") t[j]=5;\n            }\n            d[i]=rotate(t);\n        }\n\n        set<vi> s[6];\n        rep(i,n) s[d[i][5]].insert(normalize(d[i]));\n\n        int diff=0;\n        rep(i,6) diff+=s[i].size();\n        cout << n-diff << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<iostream>\nusing namespace std;\n\nint main(){\n  int n;\n  string cube[30][6];\n  bool use[30];\n\n  for(;;){\n    cin >> n;\n    if(!n)break;\n    for(int i=0;i<n;i++){\n      use[i] = false;\n      for(int j=0;j<6;j++)cin >> cube[i][j];\n    }\n\n    for(int i=0;i<n;i++){\n      if(!use[i]){\n\tfor(int j=i+1;j<n;j++){\n\t  string tmp[6] = cube[j];\n\t  bool f;\n\t  for(int k=0;k<6;k++){\n\t    swap(tmp[0],tmp[1]);\n\t    swap(tmp[1],tmp[5]);\n\t    swap(tmp[5],tmp[4]);\n\t    for(int l=0;l<4;l++){\n\t      if(l){\n\t\tif(k&1){\n\t\t  swap(tmp[3],tmp[4]);\n\t\t  swap(tmp[4],tmp[2]);\n\t\t  swap(tmp[2],tmp[1]);\n\t\t}else{\n\t\t  swap(tmp[1],tmp[2]);\n\t\t  swap(tmp[2],tmp[4]);\n\t\t  swap(tmp[4],tmp[3]);\n\t\t}\n\t      }\n\t      f = true;\n\t      for(int z=0;z<6;z++)\n\t\tif(cube[i][z] != tmp[z])f = false;\n\t      if(f)break;\n\t    }\n\t    if(f)break;\n\t  }\n\t  if(f)use[j] = true;\n\t}\n      }\n    }\n    int ans = 0;\n    for(int i=0;i<n;i++)if(use[i])ans++;\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\ntypedef vector <int> VI;\n\nVI roll_y( VI& box )\n{\n\tVI work = box;\n\twork[0] = box[2];\n\twork[2] = box[5];\n\twork[5] = box[3];\n\twork[3] = box[0];\n\treturn work;\n}\n\nVI roll_x( VI& box )\n{\n\tVI work = box;\n\twork[5] = box[1];\n\twork[1] = box[0];\n\twork[0] = box[4];\n\twork[4] = box[5];\n\treturn work;\n}\n\nVI roll_z( VI& box )\n{\n\tVI work = box;\n\twork[3] = box[4];\n\twork[4] = box[2];\n\twork[2] = box[1];\n\twork[1] = box[3];\n\treturn work;\n}\n\nvoid register_box( VI& box, set <VI>& V )\n{\n\tV.insert( box );\n\n\tVI work;\n\t\n\twork = box;\n\tfor ( int i = 0; i < 3; i++ )\n\t{\n\t\twork = roll_y( work );\n\t\tV.insert( work );\n\t}\n\n\twork = box;\n\tfor ( int j = 0; j < 3; j++ )\n\t{\n\t\twork = roll_x( work );\n\t\tV.insert( work );\n\t\tfor ( int i = 0; i < 3; i++ )\n\t\t{\n\t\t\twork = roll_y( work );\n\t\t\tV.insert( work );\n\t\t}\n\t\twork = roll_y( work );\n\t}\n\n\twork = box;\n\tfor ( int j = 0; j < 3; j++ )\n\t{\n\t\twork = roll_z( work );\n\t\tV.insert( work );\n\t\tfor ( int i = 0; i < 3; i++ )\n\t\t{\n\t\t\twork = roll_y( work );\n\t\t\tV.insert( work );\n\t\t}\n\t\twork = roll_y( work );\n\t}\n\n}\n\nint main( void )\n{\n\t// Redツ、Yellowツ、Blueツ、Magentaツ、Greenツ、Cyan\n\tmap <string, int> hash_table;\n\thash_table[\"Red\"]\t\t= 1;\n\thash_table[\"Yellow\"]\t= 2;\n\thash_table[\"Blue\"]\t\t= 3;\n\thash_table[\"Magenta\"]\t= 4;\n\thash_table[\"Green\"]\t\t= 5;\n\thash_table[\"Cyan\"]\t\t= 6;\n\n\tint n;\n\twhile ( cin >> n && n )\n\t{\n\t\tint cnt = 0;\n\t\tset < VI > V;\n\t\tVI box(6);\n\t\tstring color;\n\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tfor ( int j = 0; j < 6; j++ )\n\t\t\t{\n\t\t\t\tcin >> color;\n\t\t\t\tbox[j] = hash_table[color];\n\t\t\t}\n\n\t\t\tif ( V.find( box ) != V.end() )\n\t\t\t\tcnt ++;\n\n\t\t\tregister_box( box, V );\n\t\t}\n\n\t\tcout << cnt << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#define rep(i, n) for ( int i = 0; i < n; i++ )\n#define REP(i, s, e) for ( int i = s; i <= e; i++ )\nusing namespace std;\n#define MAX 100\n\nclass Cube{\n    public:\n    string f[6];\n    Cube(){}\n    void roll_z(){ roll(1, 2, 4, 3);}\n    void roll_y(){ roll(0, 2, 5, 3);}\n    void roll_x(){ roll(0, 1, 5, 4);}\n    void roll(int i, int j, int k, int l){\n\tstring t = f[i]; f[i] = f[j]; f[j] = f[k]; f[k] = f[l]; f[l] = t;\n    }\n};\n\nCube C[MAX];\nint n;\n\nbool eq( Cube c1, Cube c2 ){\n    rep(i, 6) if ( c1.f[i] != c2.f[i] ) return false;\n    return true;\n}\n\nbool equal( Cube c1, Cube c2 ){\n    rep(i, 6){\n\trep(j, 4){\n\t    if ( eq(c1, c2) ) return true;\n\t    c1.roll_z();\n\t}\n\tif ( i % 2 == 0 ) c1.roll_y();\n\telse c1.roll_x();\n    }\n    return false;\n}\n\nmain(){\n    while( cin >> n && n ){\n\trep(i, n) rep(j, 6) cin >> C[i].f[j];\n\tint cnt = 0;\n\tREP(i,0,n-1) {\n\t    bool hasSame = false;\n\t    REP(j, i+1, n-1){\n\t\tif ( equal(C[i], C[j] ) ) hasSame = true;\n\t    }\n\t    if ( !hasSame ) cnt++;\n\t}\n\tcout << n - cnt << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <set>\n#include <map>\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define ALL(A) A.begin(), A.end()\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\n\nstatic const int trans[][6] = \t{\n\t\t\t\t\t\t\t\t\t{ 0, 1, 2, 3, 4, 5 },\t// no rotation \n\t\t\t\t\t\t\t\t\t{ 2, 1, 5, 0, 4, 3 },\t// left rotation\n\t\t\t\t\t\t\t\t\t{ 3, 1, 0, 5, 4, 2 }, \t// right rotation\n\t\t\t\t\t\t\t\t\t{ 1, 5, 2, 3, 0, 4 },\t// top rotation\n\t\t\t\t\t\t\t\t\t{ 4, 0, 2, 3, 5, 1 },\t// bottom rotation\n\t\t\t\t\t\t\t\t\t{ 0, 2, 4, 1, 3, 5 }\t// front and buttom fixed right 90 ratate \n\t\t\t\t\t\t\t\t};\nset <vector <char> > comb;\n\nbool is_same (vector <char> s, int i, vector <char> & t )\n{\n\tbool found = false;\n\trep (j, 6 ){\n\t\tt[j] = s[trans[i][j]];\n\t} // end rep\n\tif (comb.count (t ) ){\n\t\tfound = true;\n\t} // end if\n\n\treturn found;\n}\n\nint main()\n{\n\tconst string color[6] = { \"Red\", \"Cyan\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\" };\n\tmap<string, char> C;\n\trep (i, 6 )\n\t\tC[color[i]] = color[i][0];\n\n\n\tint n;\n\twhile (cin >> n && n ){\n\t\tcomb.clear();\n\t\tvector <vector <char> > c(n, vector <char> (6 ) );\n\t\trep (i, n ){\n\t\t\trep (j, 6 ){\n\t\t\t\tstring in;\n\t\t\t\tcin >> in;\n\t\t\t\tc[i][j] = C[in];\n\t\t\t} // end rep\n\t\t} // end rep\n\t\tfor (int i = 0; i < n; i++ ){\n\t\t\tbool found = false;\n\t\t\tvector <char> t(6, 0 );\n\t\t\trep (j, 5 ){\n\t\t\t\tif (is_same (c[i], j, t ) ){\n\t\t\t\t\tfound = true;  \n\t\t\t\t\tbreak;\n\t\t\t\t} // end if\n\t\t\t\tvector <char> s = t;\n\t\t\t\tvector <char> r(6, 0 );\n\t\t\t\trep (k, 3 )\n\t\t\t\tif (is_same (s, 5, r ) ){\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}else{\n\t\t\t\t\ts = r;\n\t\t\t\t} // end if\n\t\t\t\tvector <char> tt = t;\t\t\t\n\t\t\t\tif (is_same (t, j, tt ) ){\n\t\t\t\t\tfound = true; \n\t\t\t\t\tbreak;\n\t\t\t\t} // end if\n\t\t\t\ts = tt;\n\t\t\t\trep (k, 3 )\n\t\t\t\tif (is_same (s, 5, r ) ){\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}else{\n\t\t\t\t\ts = r;\n\t\t\t\t} // end if\n\t\t\t} // end rep\n\t\t\tif (!found ){\n\t\t\t\tcomb.insert (c[i] );\n\t\t\t} // end if\t\t\t\n\t\t} // end for\n\t\tint res = comb.size();\n\t\tcout << n - res << endl;\n\t} // end loop\n\n\t\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\nshort h(vector<int> &id){\n\tshort r=0,i=0;\n\tfor(;i<6;i++)r=r*6+id[i];\n\treturn r;\n}\n\n// http://www.prefield.com/algorithm/misc/dice.html\nenum FACE { TOP, LEFT, FRONT, BACK, RIGHT, BOTTOM };\nclass dice {\npublic:\n  dice(vector<int>&v):id(v) {}\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_x2() { roll(TOP, FRONT, BOTTOM, BACK); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_y2() { roll(TOP, RIGHT, BOTTOM, LEFT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  void roll_z2() { roll(FRONT, LEFT, BACK, RIGHT); }\n  void all_rolls(set<short>&s){\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        s.insert(h(id));\n  }\n  vector<int> id;\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    int tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n};\n\nint main(){\n\tmap<char,int>m;\n\tm['R']=0,m['Y']=1,m['B']=2,m['M']=3,m['G']=4,m['C']=5;\n\tstring str;\n\tvector<int>v(6);\n\tint n,i,j,r;\n\tfor(;cin>>n,n;){\n\t\tset<short>s;\n\t\tfor(r=i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++)cin>>str,v[j]=m[str[0]];\n\t\t\tif(s.find(h(v))!=s.end())r++;\n\t\t\telse{\n\t\t\t\tdice d(v);\n\t\t\t\td.all_rolls(s);\n\t\t\t}\n\t\t}\n\t\tcout<<r<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define rep2(x,from,to) for(int x=(from);(x)<(to);(x)++)\n#define rep(x,to) rep2(x,0,to)\nusing namespace std;\nstring color[6] =  {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\nint* south(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = buf;\n\treturn c;\n}\nint* east(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nint* round(int c[6]) {\n\tint buf = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nbool check(int d1[6], int d2[6]) {\n\trep(i,6) {\n\t\tif(i%2)d1 = south(d1);\n\t\telse d1 = east(d1);\n\t\trep(j,4) {\n\t\t\td1 = round(d1);\n\t\t\tbool f = 1;\n\t\t\trep(k,6) {\n\t\t\t\tif(d1[k] != d2[k]) {\n\t\t\t\t\tf = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\tif(f) return true;\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tint n, d[30][6] = {};\n\tstring s;\n\twhile(cin >> n, n) {\n\t\trep(i,n) {\n\t\t\trep(j,6) {\n\t\t\t\tcin >> s;\n\t\t\t\trep(k,6) {\n\t\t\t\t\tif(color[k] == s) d[i][j] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint a[30];\n\t\tbool used[30] = {};\n\t\trep(i,n) a[i] = i;\n\t\trep(i,n) {\n\t\t\trep2(j,i+1,n) {\n\t\t\t\tif(check(d[i],d[j])) {\n\t\t\t\t\ta[j] = i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\trep(i,n) used[a[i]] = true;\n\t\tint ret = 0;\n\t\trep(i,n) {\n\t\t\tif(!used[i]) ret++;\n\t\t}\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nstruct cube {\n\tvector<string>v;\n\tint E = 2, S = 1, U = 0;\n\tvoid rotate(char C) {\n\t\tint a = E, b = S;\n\t\tswitch (C) {\n\t\tcase'E':E = U; U = 5 - a; break;\n\t\tcase'S':S = U; U = 5 - b; break;\n\t\tcase'L':E = S; S = 5 - a; break;\n\t\t}\n\t}\n\tbool operator==(cube b) {\n\t\trep(i, 2){\n\t\t\trep(j, 4) {\n\t\t\t\trep(k, 4) {\n\t\t\t\t\tif (v[E] == b.v[b.E] && v[5 - E] == b.v[5 - b.E] && v[S] == b.v[b.S] && v[5 - S] == b.v[5 - b.S] && v[U] == b.v[b.U] && v[5 - U] == b.v[5 - b.U])return true;\n\t\t\t\t\trotate('S');\n\t\t\t\t}\n\t\t\t\trotate('E');\n\t\t\t}\n\t\t\trotate('L');\n\t\t}\n\t\treturn false;\n\t}\n};\ncube s[30];\nbool used[30];\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\trep(i, n) {\n\t\t\ts[i].v = vector<string>(6);\n\t\t\trep(j, 6)cin >> s[i].v[j];\n\t\t}\n\t\tvector<int>v[30];\n\t\trep(i, n)for (int j = i + 1; j < n; j++) {\n\t\t\tif (s[i] == s[j]) {\n\t\t\t\tv[i].push_back(j);\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\tmemset(used, 0, sizeof(used));\n\t\trep(i, n) {\n\t\t\tif (used[i])continue;\n\t\t\tcnt++;\n\t\t\tfor (int j : v[i])used[j] = true;\n\t\t}\n\t\tprintf(\"%d\\n\", n - cnt);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<vector>\n#include<string>\n#include<algorithm>\nusing namespace std;\nint colornum(string color){\n  //cout<<color<<endl;\n  if(color==\"Red\")return 0;\n  if(color==\"Yellow\")return 1;\n  if(color==\"Blue\")return 2;\n  if(color==\"Magenta\")return 3;\n  if(color==\"Green\")return 4;\n  if(color==\"Cyan\")return 5;\n  return 0;\n}\n\nint main(){\n  int n;\n  while(true){\n    cin>>n;\n    if(!n)break;\n    set<int> dice;\n    for(int i=0;i<n;i++){\n      int d=0;\n      int red = 0;\n      vector<string> colors(6);\n      for(int j=0;j<6;j++){\n\tcin>>colors[j];\n\tif (colors[j]==\"Red\")\n\t  red = j;\n      }\n      d = colornum(colors[5-red])*1296;\n      int side[4];\n      if(red==0)side[0] = 1,side[1]=2;\n      if(red==1)side[0] = 0,side[1]=3;\n      if(red==2)side[0] = 0,side[1]=1;\n      if(red==3)side[0] = 0,side[1]=4;\n      if(red==4)side[0] = 0,side[1]=2;\n      if(red==5)side[0] = 1,side[1]=4;\n      side[2] = 5-side[0];\n      side[3] = 5-side[1];\n      int dmin = 1296;\n      for(int j=0;j<4;j++){\n\tint dd = 0;\n\tfor(int k=0;k<4;k++){\n\t  dd *= 6;\n\t  dd += colornum(colors[side[(j+k)%4]]);\n\t}\n\tif(dd<dmin)dmin=dd;\n      }\n      d += dmin;\n      dice.insert(d);\n    }\n    cout<<(n-dice.size())<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <set>\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstdio>\n#include <cstring>\n#include <iterator>\n#include <bitset>\n#include <unordered_set>\n#include <unordered_map>\n#include <fstream>\n#include <iomanip>\n#include <cassert>\n#include <utility>\n#include <memory>\n#include <functional>\n#include <deque>\n#include <cctype>\n#include <ctime>\n#include <numeric>\n#include <list>\n#include <iomanip>\n\n#if __cplusplus >= 201103L\n#include <array>\n#include <tuple>\n#include <initializer_list>\n#include <forward_list>\n\n#define cauto const auto&\n#else\n\n#endif\n\nusing namespace std;\n\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef vector<int> vint;\ntypedef vector<vector<int> > vvint;\ntypedef vector<long long> vll, vLL;\ntypedef vector<vector<long long> > vvll, vvLL;\n\n#define VV(T) vector<vector< T > >\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v, int a, int b, const T &t = T()){\n    v.assign(a, vector<T>(b, t));\n}\n\ntemplate <class F, class T>\nvoid convert(const F &f, T &t){\n    stringstream ss;\n    ss << f;\n    ss >> t;\n}\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define F first\n#define S second\n#define mkp make_pair\n#define RALL(v) (v).rbegin(),(v).rend()\n#define DEBUG\n#ifdef DEBUG\n#define dump(x)  cout << #x << \" = \" << (x) << endl;\n#define debug(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << \" \" << __FILE__ << endl;\n#else\n#define dump(x) \n#define debug(x) \n#endif\n\n#define MOD 1000000007LL\n#define EPS 1e-8\n#define INF 0x3f3f3f3f\n#define INFL 0x3f3f3f3f3f3f3f3fLL\n#define maxs(x,y) x=max(x,y)\n#define mins(x,y) x=min(x,y)\n\nmap<string,int> dict;\n\n//saikoro\n \ntypedef vector<int> Dice;\nenum {TOP, FRONT, RIGHT, LEFT, BACK, BOTTOM};\n#define rotate_swap(x, a, b, c, d) swap(x[a], x[b]); swap(x[b], x[c]); swap(x[c], x[d]);\n \nvoid rotate_r(Dice& dice) {rotate_swap(dice, TOP, LEFT, BOTTOM, RIGHT);}\nvoid rotate_l(Dice& dice) {rotate_swap(dice, TOP, RIGHT, BOTTOM, LEFT);}\nvoid rotate_f(Dice& dice) {rotate_swap(dice, TOP, BACK, BOTTOM, FRONT);}\nvoid rotate_b(Dice& dice) {rotate_swap(dice, TOP, FRONT, BOTTOM, BACK);}\nvoid rotate_w(Dice& dice) {rotate_swap(dice, BACK, LEFT, FRONT, RIGHT);}\nvoid rotate_c(Dice& dice) {rotate_swap(dice, BACK, RIGHT, FRONT, LEFT);}\n \nvector<Dice> generate_all(Dice dice) {\n \tvector<Dice> res;\n  \tfor (int i = 0; i < 6; ++i) {\n    \tfor (int j = 0; j < 4; ++j){\n    \t\tres.emplace_back(dice), rotate_w(dice);\n    \t}\n\t    if (i % 2) rotate_f(dice);\n\t    else rotate_r(dice);\n\t}\n\treturn res;\n}\n\n\nvoid mainmain(){\n\tdict[\"Red\"] = 0;\n\tdict[\"Yellow\"] = 1;\n\tdict[\"Blue\"] = 2;\n\tdict[\"Magenta\"] = 3;\n\tdict[\"Green\"] = 4;\n\tdict[\"Cyan\"] = 5;\n\tint n;\n\twhile(cin>>n,n){\n\t\tvector<Dice> v(n);\n\t\trep(i,n){\n\t\t\tv[i] = Dice(6);\n\t\t\trep(j,6){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tv[i][j] = dict[s];\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\trep(i,n){\n\t\t\tbool ok = true;\n\t\t\trep(j,i){\n\t\t\t\tvector<Dice> tmp = generate_all(v[j]);\n\t\t\t\trep(k, tmp.size()){\n\t\t\t\t\tif(tmp[k] == v[i]) ok = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ok){\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\tcout << n - cnt << endl;\n\t}\n}\n\n\nsigned main() {\n    ios_base::sync_with_stdio(false);\n    cin.tie(0);\n    cout<<fixed<<setprecision(20);\n    mainmain();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint box[30][6];\nbool turn(int x,int change[6],int a,int b,int c,int d){\n  int temp;\n  //手前\n  for(int i=0;i<a;i++){\n    temp=change[0];\n    change[0]=change[4];\n    change[4]=change[5];\n    change[5]=change[1];\n    change[1]=temp;\n  }\n  for(int i=0;i<b;i++){\n    temp=change[0];\n    change[0]=change[1];\n    change[1]=change[5];\n    change[5]=change[4];\n    change[4]=temp;\n  }\n  for(int i=0;i<c;i++){\n    temp=change[0];\n    change[0]=change[3];\n    change[3]=change[5];\n    change[5]=change[2];\n    change[2]=temp;\n  }\n  for(int i=0;i<d;i++){\n    temp=change[0];\n    change[0]=change[2];\n    change[2]=change[5];\n    change[5]=change[3];\n    change[3]=temp;\n  }\n  if(change[0]==box[x][0] && change[1]==box[x][1] && change[2]==box[x][2] && change[3]==box[x][3] && change[4]==box[x][4] && change[5]==box[x][5]){\n    return true;\n  }\n  else return false;\n}\nint main(){\n  int n;\n  while(cin>> n,n){\n    int ans=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tstring s;\n\tcin>> s;\n\tif(s==\"Red\") box[i][j]=0;\n\telse if(s==\"Yellow\")  box[i][j]=1;\n\telse if(s==\"Blue\")    box[i][j]=2;\n\telse if(s==\"Magenta\") box[i][j]=3;\n\telse if(s==\"Green\")   box[i][j]=4;\n\telse if(s==\"Cyan\")    box[i][j]=5;\n      }\n    }\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n\tif(i==j) continue;\n\tint change[6];\n\tchange[0]=box[j][0]; change[1]=box[j][1];\n\tchange[2]=box[j][2]; change[3]=box[j][3];\n\tchange[4]=box[j][4]; change[5]=box[j][5];\n\tfor(int a=0;a<4;a++){\n\t  for(int b=0;b<4;b++){\n\t    for(int c=0;c<4;c++){\n\t      for(int d=0;d<4;d++){\n\t\tif(turn(i,change,a,b,c,d)){\n\t\t  ans++;\n\t\t  a=4;b=4;c=4;d=4;\n\t\t}\n\t      }\n\t    }\n\t  }\n\t}\n      }\n    }\n    cout<< ans/2<< endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n//define\n#define int long long\n#define UNIQUE(v) v.erase(unique(all(v)), v.end());\n#define ZIP(v) sort(all(v)),UNIQUE(v)\n#define ADD(a, b) a = (a + b) % mod\n#define SUB(a, b) a = (a+mod-b)%mod\n#define MUL(a, b) a = (a * b) % mod\n#define repi(i,m,n) for(int i = m;i < n;i++)\n#define drep(i,n,m) for(int i = n;i >= m;i--)\n#define rep(i,n) repi(i,0,n)\n#define rrep(i,n) repi(i,1,n+1)\n#define chmin(x,y) x = min(x,y)\n#define chmax(x,y) x = max(x,y)\n#define all(v) v.begin(),v.end()\n#define rall(v) v.rbegin(), v.rend()\n#define dmp(x,y) make_pair(x,y)\n#define pb(x) push_back(x)\n#define fi first\n#define se second\n\n//template\ntemplate <typename T, typename U>\nostream &operator<<(ostream &os, const pair<T, U> &p){\n  os << p.first << \" \" << p.second;return os;\n}\ntemplate <typename T>\nostream &operator<<(ostream &os, const vector<T> &v){\n  for (auto it = v.begin();it != v.end();++it){\n    if (it != v.begin())os << \" \";os << *it;\n  }return os;\n}\ntemplate<typename T, int SIZE>\nint array_length(const T (&)[SIZE]){return SIZE;}\ntemplate<typename T, int N>\nvoid print(const T (&a)[N], int s = N, int t = -1, bool f = true){\n\tif(t == -1){rep(i,s){if(i)cout << \" \";cout << a[i];}}\n\telse repi(i,s,t){if(i!=s)cout << \" \";cout << a[i];}\n\tif(f)cout << \"\\n\";\n}\ntemplate<typename T, int N1, int N2>\nvoid print(const T (&a)[N1][N2], int h = N1, int w = N2){\n\trep(i,h){rep(j,w){cout << a[i][j] << \" \\n\"[j==w-1];}}\n}\n\n//typedef\ntypedef pair<int,int> P;\ntypedef pair<int, P> PP;\ntypedef pair<P, int> Pi;\ntypedef vector<int> vi;\ntypedef deque<int> dq;\nconst int inf = 1e9+7;\nconst int INF = 1e18+7;\n\n\n\n\nclass UnionFind{\npublic:\n\tvector<int> ran, par;\n\tvoid init(int n){\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\tran.push_back(0);\n\t\t}\n\t}\n\t\n\tint find(int x){\n\t\tif(par[x] == x)return x;\n\t\treturn par[x] = find(par[x]);\n\t}\n\t\n\tvoid unite(int x, int y){\n\t\tx = find(par[x]);\n\t\ty = find(par[y]);\n\t\tif(x == y)return;\n\t\tif(ran[x] < ran[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(par[x] == par[y])ran[x]++;\n\t\t}\n\t}\n\t\n\tbool same(int x, int y){\n\t\treturn find(par[x]) == find(par[y]);\n\t}\n};\n\ntemplate <typename T>class Box;\ntemplate <typename T>ostream& operator<<(ostream &, const Box<T> &);\ntemplate<typename T>class Box{\npublic:\n\tT top;\n  T back, left, right, head;\n  T bottom;\n\tT a[6];\n\tvoid init(T TOP, T BACK, T LEFT, T RIGHT, T HEAD, T BOTTOM){\n\t\ttop = TOP;back = BACK;left = LEFT;\n\t\tright = RIGHT;head = HEAD;bottom = BOTTOM;\n\t\ta[0] = top;a[1] = back;a[2] = left;\n\t\ta[3] = right;a[4] = head;a[5] = bottom;\n\t}\n\tfriend ostream &operator<<<T>(ostream &os, const Box &B);\n\tbool operator==(const Box& b) const {\n\t\treturn(top    == b.top   &&\n\t\t\t\t\t back   == b.back  &&\n\t\t\t\t\t left   == b.left  &&\n\t\t\t\t\t right  == b.right &&\n\t\t\t\t\t head   == b.head  &&\n\t\t\t\t\t bottom == b.bottom);\n\t}\n\tvoid rotate(T &d1, T &d2, T &d3, T &d4){\n\t\tT tmp = d1;\n\t\td1 = d2;d2 = d3;d3 = d4;\n\t\td4 = tmp;\n\t}\n\tvoid rotate_forward(){rotate(top, head, bottom, back);}\n\tvoid rotate_right(){rotate(top, left, bottom, right);}\n\tvoid rotate_spin(){rotate(head, right, back, left);}\n\tfriend ostream & operator<< <>(ostream &, const Box<T> & B);\n};\ntemplate <typename T>\nostream & operator<<(ostream & os, const Box<T> & B){\n\tos <<  \"  \" \t\t\t\t<< B.back   << endl;\n\tos << B.left << \" \" << B.bottom << \" \" << B.right << \" \" << B.top << endl;\n\tos <<  \"  \" \t\t\t\t<< B.head   << endl;\n\treturn os;\n}\n\nbool same(Box<string> a, Box<string> b){\n\trep(i,4){\n\t\ta.rotate_forward();\n\t\trep(j,4){\n\t\t\ta.rotate_right();\n\t\t\trep(k,4){\n\t\t\t\ta.rotate_spin();\n\t\t\t\tif(a == b)return true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nsigned main(){\n\twhile(1){\n\t\tint n;\n\t\tscanf(\"%lld\", &n);\n\t\tif(n == 0)break;\n\t\tBox<string> B[n];\n\t\tUnionFind uf;uf.init(n);\n\t\trep(i,n){\n\t\t\tstring str[6];\n\t\t\trep(j,6)cin >> str[j];\n\t\t\tB[i].init(str[5], str[4], str[3], str[2], str[1], str[0]);\n\t\t}\n\t\tint ans = 0;\n\t\trep(i,n)rep(j,n){\n\t\t\tif(same(B[i], B[j]))uf.unite(i, j);\n\t\t}\n\t\trep(i,n)ans += (uf.find(i) == i);\n\t\tprintf(\"%lld\\n\", n-ans);\n\t}\n\treturn 0;\n}\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint data[30][6];\n\nbool judge(int);\n\nmain(){\n  string in;\n  int n;\n  while(1){\n    cin >> n;\n    if(n==0) break;\n    int count=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tcin >> in;\n\tif(in==\"Red\") data[i][j]=1;\n\tif(in==\"Yellow\") data[i][j]=2;\n\tif(in==\"Blue\") data[i][j]=3;\n\tif(in==\"Magenta\") data[i][j]=4;\n\tif(in==\"Green\") data[i][j]=5;\n\tif(in==\"Cyan\") data[i][j]=6;\n      }\n      if(judge(i)) count++;\n    }\n    int ans=n-count;\n    if(ans<0) ans=0;\n    cout << ans << endl;\n  }\n  return 0;\n}\n\nbool judge(int n){\n  if(n==0) return true;\n  int tmp[6];\n  for(int i=0;i<6;i++){\n    tmp[i]=data[n][i];\n  }\n  for(int i=0;i<n;i++){\n    for(int j=0;j<4;j++){\n      for(int k=0;k<4;k++){\n\tif(tmp[0]==data[i][0] && tmp[1]==data[i][1] && tmp[2]==data[i][2] && tmp[3]==data[i][3] && tmp[4]==data[i][4] && tmp[5]==data[i][5]) return false;\n\tint tt[6];\n\tfor(int l=0;l<6;l++){\n\t  tt[l]=tmp[l];\n\t}\n\ttt[0]=tmp[1];\n\ttt[1]=tmp[5];\n\ttt[2]=tmp[2];\n\ttt[3]=tmp[3];\n\ttt[4]=tmp[0];\n\ttt[5]=tmp[4];\n\tfor(int l=0;l<6;l++){\n\t  tmp[l]=tt[l];\n\t}\n      }\n      int t[6];\n      for(int k=0;k<6;k++){\n\tt[k]=tmp[k];\n      }\n      t[0]=tmp[3];\n      t[1]=tmp[1];\n      t[2]=tmp[0];\n      t[3]=tmp[5];\n      t[4]=tmp[4];\n      t[5]=tmp[2];\n      for(int k=0;k<6;k++){\n\ttmp[k]=t[k];\n      }\n    }\n  }\n  return true;\n}"
  },
  {
    "language": "C++",
    "code": "// Tazoe\n\n#include <iostream>\n#include <string>\nusing namespace std;\n\nvoid roll01(int c[6])\n{\n\tint tmp = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = tmp;\n}\n\nvoid roll02(int c[6])\n{\n\tint tmp = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = tmp;\n}\n\nvoid roll12(int c[6])\n{\n\tint tmp = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = tmp;\n}\n\nvoid rotate(int c[6])\n{\n\tif(c[0]==1){\n\t\t;\n\t}\n\telse if(c[1]==1){\n\t\troll01(c);\n\t}\n\telse if(c[2]==1){\n\t\troll02(c);\n\t}\n\telse if(c[3]==1){\n\t\troll02(c);\n\t\troll02(c);\n\t\troll02(c);\n\t}\n\telse if(c[4]==1){\n\t\troll01(c);\n\t\troll01(c);\n\t\troll01(c);\n\t}\n\telse if(c[5]==1){\n\t\troll02(c);\n\t\troll02(c);\n\t}\n\n\tif(c[1]==2){\n\t\t;\n\t}\n\telse if(c[2]==2){\n\t\troll12(c);\n\t}\n\telse if(c[4]==2){\n\t\troll12(c);\n\t\troll12(c);\n\t}\n\telse if(c[3]==2){\n\t\troll12(c);\n\t\troll12(c);\n\t\troll12(c);\n\t}\n\telse if(c[1]==3){\n\t\t;\n\t}\n\telse if(c[2]==3){\n\t\troll12(c);\n\t}\n\telse if(c[4]==3){\n\t\troll12(c);\n\t\troll12(c);\n\t}\n\telse if(c[3]==3){\n\t\troll12(c);\n\t\troll12(c);\n\t\troll12(c);\n\t}\n}\n\nint main()\n{\n\twhile(true){\n\t\tint n;\n\t\tcin >> n;\n\n\t\tif(n==0)\n\t\t\tbreak;\n\n\t\tint C[30][6];\n\t\tfor(int i=0; i<n; i++){\n\t\t\tfor(int j=0; j<6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\n\t\t\t\tif(str==\"Red\")\n\t\t\t\t\tC[i][j] = 1;\n\t\t\t\telse if(str==\"Yellow\")\n\t\t\t\t\tC[i][j] = 2;\n\t\t\t\telse if(str==\"Blue\")\n\t\t\t\t\tC[i][j] = 3;\n\t\t\t\telse if(str==\"Magenta\")\n\t\t\t\t\tC[i][j] = 4;\n\t\t\t\telse if(str==\"Green\")\n\t\t\t\t\tC[i][j] = 5;\n\t\t\t\telse if(str==\"Cyan\")\n\t\t\t\t\tC[i][j] = 6;\n\t\t\t}\n\t\t}\n\n\t\tfor(int i=0; i<n; i++){\n\t\t\trotate(C[i]);\n\t\t}\n\n\t\tfor(int i=0; i<n-1; i++){\n\t\t\tfor(int j=i+1; j<n; j++){\n\t\t\t\tif(C[i][1]>C[j][1]\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]>C[j][2])\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]==C[j][2]&&C[i][3]>C[j][3])\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]==C[j][2]&&C[i][3]==C[j][3]&&C[i][4]>C[j][4])\n\t\t\t\t ||(C[i][1]==C[j][1]&&C[i][2]==C[j][2]&&C[i][3]==C[j][3]&&C[i][4]==C[j][4]&&C[i][5]>C[j][5])){\n\t\t\t\t\tfor(int k=0; k<6; k++){\n\t\t\t\t\t\tint tmp = C[i][k];\n\t\t\t\t\t\tC[i][k] = C[j][k];\n\t\t\t\t\t\tC[j][k] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tint m = n;\n\t\tfor(int i=1; i<n; i++){\n\t\t\tbool flg = true;\n\t\t\tfor(int j=0; j<6; j++){\n\t\t\t\tif(C[i][j]!=C[i-1][j]){\n\t\t\t\t\tflg = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(flg){\n\t\t\t\tm--;\n\t\t\t}\n\t\t}\n\n\t\tcout << n-m << '\\n';\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\n\nclass UnionFind\n{\npublic:\n\tvector<int> data;\n\tUnionFind(int size):data(size, -1){}\n\t\n\tbool unionSet(int x, int y)\n\t{\n\t\tx = root(x); y=root(y);\n\t\tif(x != y)\n\t\t{\n\t\t\tif(data[y] < data[x]) swap(x, y);\n\t\t\tdata[x] += data[y]; data[y] = x;\n\t\t}\n\t\treturn x != y;\n\t}\n\t\n\tint root(int x)\n\t{\n\t\treturn data[x] < 0 ? x:data[x]=root(data[x]);\n\t}\n};\n\nclass Dice\n{\npublic:\n\tDice(string m[6])\n\t{\n\t\tf[TOP]=0; f[FRONT]=1; f[LEFT]=2;\n\t\tf[RIGHT]=3; f[BACK]=4; f[BOTTOM]=5;\n\t\t\n\t\tfor(int i=0; i<6; i++)\n\t\t\tval[i]=m[i];\n\t}\n\t\n\tvoid rotated(FACE a, FACE b, FACE c, FACE d)\n\t{\n\t\tint tmp = f[a];\n\t\tf[a]=f[b];\n\t\tf[b]=f[c];\n\t\tf[c]=f[d];\n\t\tf[d]=tmp;\n\t}\n\t\n\tvector<Dice> all_rotate()\n\t{\n\t\tvector<Dice> t;\n\t\tfor(int i=0; i<6; (i&1?rotateY():rotateX()), i++)\n\t\tfor(int j=0; j<4; rotateZ(), j++)\n\t\t\tt.push_back(*this);\n\t\t\t\n\t\treturn t;\n\t}\n\t\n\tvoid rotateX() { rotated(TOP, BACK, BOTTOM, FRONT); }\n\tvoid rotateY() { rotated(TOP, LEFT, BOTTOM, RIGHT); }\n\tvoid rotateZ() { rotated(FRONT, RIGHT, BACK, LEFT); }\n\t\n\tstring GetVal(FACE fe) { return val[f[fe]]; }\n\n\t\n\tint f[6];\n\tstring val[6];\n};\n\nbool isequal(vector<Dice>& a, vector<Dice>& b)\n{\n\tfor(int k=0; k<a.size(); k++) \n\tfor(int j=0; j<b.size(); j++)\n\t{\n\t\tbool g=true;\n\t\tfor(int i=0; i<6; i++)\n\t\t{\n\t\t\tif(a[k].GetVal(i)!=b[j].GetVal(i))\n\t\t\t{\n\t\t\t\tg=false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(g) return true;\n\t}\n\t\n\treturn false;\n}\n\nint main()\n{\n\tint N;\n\twhile(cin >> N, N)\n\t{\n\t\tvector<Dice> d;\n\t\tfor(int i=0; i<N; i++)\n\t\t{\n\t\t\tstring s[6];\n\t\t\tfor(int j=0; j<6; j++)\n\t\t\t\tcin >> s[j];\n\t\t\t\t\n\t\t\td.push_back(s);\n\t\t}\n\t\t\n\t\tvector<vector<Dice> > face;\n\t\tfor(int i=0; i<d.size(); i++)\n\t\t\tface.push_back(d[i].all_rotate());\n\t\t\n\t\tint ans=0;\n\t\tUnionFind uf(N);\n\t\t\n\t\tfor(int i=0; i<N; i++)\n\t\tfor(int j=i+1; j<N; j++)\n\t\t{\n\t\t\tif(i==j) continue;\n\t\t\tif(isequal(face[j], face[i]))\n\t\t\t{\n\t\t\t\tif(uf.unionSet(i,j))\n\t\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n//ifstream ifs(\"input.txt\");\n//#define cin ifs\n\n// 24ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    int face[3][4];\n\npublic:\n  int getFace(const int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n    return -1;\n  }\n  Dice(const vector<int> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n\t  for(int i=0;i<3;i++)for(int j=0;j<4;j++)face[i][j]=-1;\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n    \tint tmp = face[2][1];\n    \tface[2][1]=face[1][2];\n    \tface[1][2]=face[0][1];\n    \tface[0][1]=face[1][0];\n    \tface[1][0]=tmp;\n    \tround++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tint tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tint tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tmap<string,int> dict;\n\t\tdict[\"Cyan\"]=0;\n\t\tdict[\"Yellow\"]=1;\n\t\tdict[\"Red\"]=2;\n\t\tdict[\"Magenta\"]=3;\n\t\tdict[\"Green\"]=4;\n\t\tdict[\"Blue\"]=5;\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(dict[s]);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\t// ¡ÜÅÉo»µ½p^[ðo^\n\t\tset<vector<int> > svs;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<int> vs2;\n\t\t\t// ¡ñÌÊðÂ­é\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\t// ±ÌÊª¡ÜÅo»µÄ¢êÎAcontinue\n\t\t\tif(svs.find(vs2)!=svs.end())continue;\n\t\t\t// »¤ÅÈ¯êÎAJEgðâ·\n\t\t\tcnt++;\n\t\t\t// ¡ñÌ_CXÌSu«ûðo^\n\t\t\tfor(int j=0;j<28;j++){\n\t\t\t\tvector<int> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\t// u«ûðo^\n\t\t\t\tsvs.insert(vs);\n\t\t\t\t// _CXðñ]\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\t// o»µ½p^[ÌðAn©çø­\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nchar cube[30][6];\n\nint main()\n{\n\tint n;\n\twhile(cin >> n){\n\t\tif(n==0)\n\t\t\tbreak;\n\t\tstring str;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin >> str;\n\t\t\t\tcube[i][j] = str[0];\n\t\t\t}\n\t\t}\n\t\tint count = 0;\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tbool flag=false,flug=false;\n\t\t\tstring so = \"\";\n\t\t\tso += cube[i][3];\n\t\t\tso += cube[i][0];\n\t\t\tso += cube[i][2];\n\t\t\tso += cube[i][5];\n\t\t\tfor(int j=i+1;j<n;j++){\n\t\t\t\t//2,5ツ板サツ津ィ\n\t\t\t\tif((cube[i][1] == cube[j][1] && cube[i][4] == cube[j][4]) || (cube[i][1] == cube[j][4] && cube[i][4] == cube[j][1]))\n\t\t\t\t\tflag = true;\n\t\t\t\t//ツ残ツづィツ板サツ津ィ\n\t\t\t\tstring ds = \"\";\n\t\t\t\tds += cube[j][3];\n\t\t\t\tds += cube[j][0];\n\t\t\t\tds += cube[j][2];\n\t\t\t\tds += cube[j][5];\n\t\t\t\tds += ds;\n\t\t\t\tstring dds = \"\";\n\t\t\t\tdds += cube[j][5];\n\t\t\t\tdds += cube[j][2];\n\t\t\t\tdds += cube[j][0];\n\t\t\t\tdds += cube[j][3];\n\t\t\t\tdds += dds;\n\t\t\t\tfor(int i=0;i<8;i++){\n\t\t\t\t\tif(so[0] == ds[i]){\n\t\t\t\t\t\tflug = true;\n\t\t\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\t\t\tif(so[j] != ds[i+j])\n\t\t\t\t\t\t\t\tflug = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(flug)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(so[0] == dds[i]){\n\t\t\t\t\t\tflug = true;\n\t\t\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\t\t\tif(so[j] != dds[i+j])\n\t\t\t\t\t\t\t\tflug = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(flug)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flag && flug){\n\t\t\t\t\tcount++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << count << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring a, b, c, d, e, f;\nint n;\nint main(){\n  while(cin >> n, n){\n    set<int> num;\n    for(int i = 0;i < n;i++){\n      cin >> a >> b >> c >> d >> e >> f;\n      int p = (int)(b[0] + e[0]) * (int)(c[0] + d[0]) * (int)(a[0] + f[0]);\n      if(((a<f) + (b<e) + (c<d)) % 3)p *= -1;\n      num.insert(p);\n    }\n    cout << n - num.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<ctype.h>\n#include<string>\n#include<cmath>\n#include<math.h>\n#include<vector>\n#include<stdlib.h>\n#include<algorithm>\n#include<functional>\n\nusing namespace std;\n\n#define OUT cout <<\n#define IN cin >>\n#define E << endl;\n#define FOR(i,a,b) for(int i = a;i < b;i++)\n\nint n;\n\nvoid input(){\n\tIN n;\n}\n\nclass Dice{\n\tprivate:\n\t\tstring temp;\n\tpublic:\n\t\tstring c[6];\n\t\tDice(){}\n\t\tvoid roll(int axis){\n\t\t\tif(axis == 1){\n\t\t\t\ttemp = c[1];\n\t\t\t\tc[1] = c[2];\n\t\t\t\tc[2] = c[6];\n\t\t\t\tc[6] = c[5];\n\t\t\t\tc[5] = temp;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ttemp = c[2];\n\t\t\t\tc[2] = c[4];\n\t\t\t\tc[4] = c[5];\n\t\t\t\tc[5] = c[3];\n\t\t\t\tc[3] = temp;\n\t\t\t}\n\t\t}\n\t\tvoid getd(string& c1, string& c2, string& c3, string& c4, string& c5, string& c6){\n\t\t\tc1 = c[0];\n\t\t\tc2 = c[1];\n\t\t\tc3 = c[2];\n\t\t\tc4 = c[3];\n\t\t\tc5 = c[4];\n\t\t\tc6 = c[5];\n\t\t}\n\n\t\tvoid input(){\n\t\t\tFOR(i,0,6){\n\t\t\t\tIN c[i];\n\t\t\t}\n\t\t}\n\n};\n\nint main(){\n\twhile(true){\n\t\tinput();\n\t\tif(n == 0)break;\n\t\tint count = 0;\n\t\tbool match[n];\n\t\tFOR(i, 0, n){\n\t\t\tmatch[i] = false;\n\t\t}\n\t\tstring str1[6];\n\t\tstring str2[6];\t\n\n\t\tvector<Dice> dice;\n\t\n\t\tdice.resize(n);\n\t\tFOR(i, 0, n){\n\t\t\tdice[i].input();\n\t\t}\n\t\t\t\n\n\t\tFOR(i, 0, n - 1){\n\t\t\tFOR(j, i, n - 1){\n\t\t\t\tbool flag2 = false;\n\t\t\t\tFOR(x, 0, 4){\n\t\t\t\t\tFOR(y, 0, 4){\n\t\t\t\t\t\tdice[j].getd(str1[0],str1[1],str1[2],str1[3],str1[4],str1[5]);\n\t\t\t\t\t\tdice[j + 1].getd(str2[0],str2[1],str2[2], str2[3],str2[4],str2[5]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbool flag1 = true;\n\t\t\t\t\t\tFOR(d, 0, 6){\t\t\t\t\t\n\t\t\t\t\t\t\tif(str1[d] != str2[d]){\n\t\t\t\t\t\t\t\tflag1 == false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(flag1){\n\t\t\t\t\t\t\tif(match[j] == false){\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tflag2 = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmatch[j + 1] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflag1 = true;\n\t\t\t\t\t\n\t\t\t\t\t\tdice[j].roll(y);\n\t\t\t\t\t}\n\t\t\t\t\tdice[j].roll(x);\n\t\t\t\t}\n\t\t\t\tif(flag2){\n\t\t\t\t\tcount++;\n\t\t\t\t\t//OUT \"count++ \" << i << \" \" << j  E\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\n\t\tOUT count E\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate_h( std::vector <int> box );\nstd::vector <int> rotate_v( std::vector <int> box );\n\n// ¡Éñ]³¹éÖ\nstd::vector <int> rotate_h( std::vector <int> box )\n{\n\t// ¡ñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\t\n\tint tmp\t= box[0];\n\tbox[0]\t= box[2];\n\tbox[2]\t= box[5];\n\tbox[5]\t= box[3];\n\tbox[3]\t= tmp;\n\n\treturn box;\n\n}\n\n// cÉñ]³¹éÖ\nstd::vector <int> rotate_v( std::vector <int> box )\n{\n\t// cñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\tint tmp = box[0];\n\tbox[0] = box[4];\n\tbox[4] = box[5];\n\tbox[5] = box[1];\n\tbox[1] = tmp;\n\n\treturn box;\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Green\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tif( j > 0 )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_h( box );\n\t\t\t\t}\n\t\t\t\ttable.insert( box );\n\t\t\t\t\n\t\t\t\t// c\n\t\t\t\tfor( int k = 0; k < 4; ++k )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_v( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n//??????????????§??\\??????????????¨??????\nconst int TOP=0,BOTTOM=1,FRONT=2,BACK=3,LEFT=4,RIGHT=5;\n\ntemplate<class T>\nclass dice{\npublic:\n    dice(){\n        for(int i=0;i<6;i++)id[i]=i;\n    }\n\n    T& operator[](int f){return var[id[f]];}\n    const T& operator[](int f)const{return var[id[f]];}\n\n    //???????????????????????´????????????\n    bool operator==(const dice<T>&b)const{\n        const dice<T>&a=*this;\n        for(int i=0;i<6;i++)if(a[i]!=b[i])return false;\n        return true;\n    }\n\n    //????¨??????¢??????\n    void roll_x(){roll(TOP,BACK,BOTTOM,FRONT);}\n    void roll_y(){roll(TOP,LEFT,BOTTOM,RIGHT);}\n    void roll_z(){roll(FRONT,RIGHT,BACK,LEFT);}\n\n    //?????¢??????????????\\???24???????????¶????????????\n    vector<dice<T> >all_rolls(){\n        vector<dice<T> >ret;\n        for(int k=0;k<6;(k&1?roll_y():roll_x()),k++){\n            for(int i=0;i<4;roll_z(),i++){\n                ret.push_back(*this);\n            }\n        }\n        return ret;\n    }\n\n    bool equivalent_to(const dice<T>& di){\n        vector<dice<T> >vec=all_rolls();\n        for(int i=0;i<vec.size();i++){\n            if(vec[i]==di)return true;\n        }\n        return false;\n    }\nprivate:\n    void roll(int a,int b,int c,int d){\n        int tmp=id[a];\n        id[a]=id[b];id[b]=id[c];\n        id[c]=id[d];id[d]=tmp;\n    }\n\n    T var[6];\n    int id[6];\n};\n\nint main(){\n    int N;\n    while(cin>>N,N){\n        vector<dice<string> >vec;\n\n        int cnt=0;\n        while(N--){\n            dice<string>d;\n            cin>>d[TOP];\n            cin>>d[FRONT];\n            cin>>d[RIGHT];\n            cin>>d[LEFT];\n            cin>>d[BACK];\n            cin>>d[BOTTOM];\n\n            bool ok=true;\n            for(int i=0;i<vec.size();i++)\n                if(vec[i].equivalent_to(d))ok=false;\n            if(ok)vec.push_back(d);\n            else cnt++;\n        }\n\n        cout<<cnt<<endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<(n);i++)\nusing namespace std;\n\nstruct cube {\n\tvector<string>v;\n\tint E = 0, S = 1, U = 2;\n\tvoid rotate(char C) {\n\t\tint a = E, b = S;\n\t\tswitch (C) {\n\t\tcase'E':E = U; U = 5 - a; break;\n\t\tcase'S':S = U; U = 5 - b; break;\n\t\tcase'L':E = S; S = 5 - a; break;\n\t\t}\n\t}\n\tbool operator==(cube b) {\n\t\trep(i, 4){\n\t\t\trep(j, 4) {\n\t\t\t\trep(k, 4) {\n\t\t\t\t\tif (v[E] == b.v[b.E] && v[5 - E] == b.v[5 - b.E] && v[S] == b.v[b.S] && v[5 - S] == b.v[5 - b.S] && v[U] == b.v[b.U] && v[5 - U] == b.v[5 - b.U])return true;\n\t\t\t\t\trotate('S');\n\t\t\t\t}\n\t\t\t\trotate('E');\n\t\t\t}\n\t\t\trotate('L');\n\t\t}\n\t\treturn false;\n\t}\n};\ncube s[30];\nbool used[30];\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\trep(i, n) {\n\t\t\ts[i].v = vector<string>(6);\n\t\t\trep(j, 6)cin >> s[i].v[j];\n\t\t}\n\t\tvector<int>v[30];\n\t\trep(i, n)for (int j = i + 1; j < n; j++) {\n\t\t\tif (s[i] == s[j]) {\n\t\t\t\tv[i].push_back(j);\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\tmemset(used, 0, sizeof(used));\n\t\trep(i, n) {\n\t\t\tif (used[i])continue;\n\t\t\tcnt++;\n\t\t\tfor (int j : v[i])used[j] = true;\n\t\t}\n\t\tprintf(\"%d\\n\", n - cnt);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint main()\n{\n\tint i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n\tchar c[8];\n\tchar color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n\n\tscanf(\"%d\", &n);\n\twhile (n > 0) {\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tfor (i1 = 0; i1 < 6; i1++) {\n\t\t\t\tscanf(\"%s\", c);\n\t\t\t\tfor (i2 = 0; i2 < 6; i2++) {\n\t\t\t\t\tif (strcmp(c, color[i2]) == 0) {\n\t\t\t\t\t\td[i0][i1] = i2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tm = 0;\n\t\tfor (i0 = 0; i0 < n; i0++)\n\t\t\ts[i0] = 1;\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tif (s[i0] > 0) {\n\t\t\t\tm++;\n\t\t\t\ts[i0] = 0;\n\t\t\t\tfor (i1 = i0+1; i1 < n; i1++) {\n\t\t\t\t\tsw = 0;\n\t\t\t\t\tfor (i2 = 0; i2 < 3 && sw == 0; i2++) {\n\t\t\t\t\t\tfor (i3 = 0; i3 < 6 && sw == 0; i3++) {\n\t\t\t\t\t\t\tif (d[i0][i2] == d[i1][i3]) {\n\t\t\t\t\t\t\t\tif (d[i0][5-i2] != d[i1][5-i3])\n\t\t\t\t\t\t\t\t\tsw = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sw == 0)\n\t\t\t\t\t\ts[i1] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", n-m);\n\t\tscanf(\"%d\", &n);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n\n#define rep(i,n) for(int i=0;i<n;i++)\n\nint main(void){\n\twhile(1){\n\t\tint n;\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tint sonzai[6][6][6][6][6][6];\n\t\trep(a,6){\n\t\t\trep(b,6){\n\t\t\t\trep(c,6){\n\t\t\t\t\trep(d,6){\n\t\t\t\t\t\trep(e,6){\n\t\t\t\t\t\t\trep(f,6){\n\t\t\t\t\t\t\t\tsonzai[a][b][c][d][e][f]=0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tint now[6];\n\t\tfor(int q=0;q<n;q++){\n\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\tchar str[10];\n\t\t\t\tscanf(\"%s\",str);\n\t\t\t\tswitch(str[0]){\n\t\t\t\t\tcase 'C':now[i]=0;break;\n\t\t\t\t\tcase 'Y':now[i]=1;break;\n\t\t\t\t\tcase 'R':now[i]=2;break;\n\t\t\t\t\tcase 'M':now[i]=3;break;\n\t\t\t\t\tcase 'G':now[i]=4;break;\n\t\t\t\t\tcase 'B':now[i]=5;break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint temp;\n\t\t\tfor(int i=0;i<4;i++){\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\t\n\t\t\t\t\tsonzai[now[0]][now[1]][now[2]][now[3]][now[4]][now[5]]=1;\n\t\t\t\t\t\n\t\t\t\t\ttemp=now[2];\n\t\t\t\t\tnow[2]=now[4];\n\t\t\t\t\tnow[4]=now[3];\n\t\t\t\t\tnow[3]=now[1];\n\t\t\t\t\tnow[1]=temp;\n\t\t\t\t}\n\t\t\t\ttemp=now[0];\n\t\t\t\tnow[0]=now[2];\n\t\t\t\tnow[2]=now[5];\n\t\t\t\tnow[5]=now[3];\n\t\t\t\tnow[3]=temp;\n\t\t\t}\n\t\t\ttemp=now[0];\n\t\t\tnow[0]=now[1];\n\t\t\tnow[1]=now[5];\n\t\t\tnow[5]=now[4];\n\t\t\tnow[4]=temp;\n\t\t\t\n\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\t\n\t\t\t\tsonzai[now[0]][now[1]][now[2]][now[3]][now[4]][now[5]]=1;\n\t\t\t\t\n\t\t\t\ttemp=now[2];\n\t\t\t\tnow[2]=now[4];\n\t\t\t\tnow[4]=now[3];\n\t\t\t\tnow[3]=now[1];\n\t\t\t\tnow[1]=temp;\n\t\t\t}\n\t\t\t\n\t\t\ttemp=now[0];\n\t\t\tnow[0]=now[1];\n\t\t\tnow[1]=now[5];\n\t\t\tnow[5]=now[4];\n\t\t\tnow[4]=temp;\n\t\t\ttemp=now[0];\n\t\t\tnow[0]=now[1];\n\t\t\tnow[1]=now[5];\n\t\t\tnow[5]=now[4];\n\t\t\tnow[4]=temp;\n\t\t\t\n\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\t\n\t\t\t\tsonzai[now[0]][now[1]][now[2]][now[3]][now[4]][now[5]]=1;\n\t\t\t\t\n\t\t\t\ttemp=now[2];\n\t\t\t\tnow[2]=now[4];\n\t\t\t\tnow[4]=now[3];\n\t\t\t\tnow[3]=now[1];\n\t\t\t\tnow[1]=temp;\n\t\t\t}\n\t\t}\n\t\tint cont=0;\n\t\trep(a,6){\n\t\t\trep(b,6){\n\t\t\t\trep(c,6){\n\t\t\t\t\trep(d,6){\n\t\t\t\t\t\trep(e,6){\n\t\t\t\t\t\t\trep(f,6){\n\t\t\t\t\t\t\t\tcont+=sonzai[a][b][c][d][e][f];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-cont/24);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nmain(){\n  int n;\n  string saikoro[50];\n  int ans=0;\n  while(1){\n    ans=0;\n    cin>>n;\n    if(n==0)break;\n    string s;\n    for(int i=0;i<n;i++){\n      saikoro[i]=\"\";\n      for(int j=0;j<6;j++){\n\tcin>>s;\n\tstring c;\n\tc=s[0];\n\tsaikoro[i]+=c;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=i+1;j<n;j++){\n\t//cout<<saikoro[i]<<\" \"<<saikoro[j]<<endl;\n\tint cnt=0;\n\tfor(int k=0;k<3;k++){\n\t  for(int l=0;l<3;l++){\n\t    //cout<<saikoro[i][k]<<saikoro[i][6-k-1]<<\" \"<<saikoro[j][l]<<saikoro[j][6-l-1]<<endl;\n\t    if((saikoro[i][k]==saikoro[j][l]&&saikoro[i][6-k-1]==saikoro[j][6-l-1])||(saikoro[i][k]==saikoro[j][6-l-1]&&saikoro[i][6-k-1]==saikoro[j][l])){\n\t      cnt++;\n\t    }\n\t  }\n\t}\n\t//cout<<cnt<<endl;\n\tif(cnt==3){\n\t  ans++;\n\t}\n      }\n    }\n    cout<<ans<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<iostream>\n#include<vector>\n#include<set>\n#include<queue>\n\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<int(n);i++)\n#define reps(i,n) for(int i=1;i<=int(n);i++)\n\n#define f first\n#define s second\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin>>n;\n\t\t\n\t\tif(n==0)break;\n\t\t\n\t\tset<vector<int> > ch;\n\t\t\n\t\trep(pp,n){\n\t\t\tvector<int> a;\n\t\t\trep(j,6){\n\t\t\t\tstring sa;\n\t\t\t\tcin>>sa;\n\t\t\t\tswitch(sa[0]){\n\t\t\t\t\tcase 'C':a.push_back(0);break;\n\t\t\t\t\tcase 'Y':a.push_back(1);break;\n\t\t\t\t\tcase 'R':a.push_back(2);break;\n\t\t\t\t\tcase 'M':a.push_back(3);break;\n\t\t\t\t\tcase 'G':a.push_back(4);break;\n\t\t\t\t\tcase 'B':a.push_back(5);break;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\trep(i,4){\n\t\t\t\tint temp=a[0];\n\t\t\t\ta[0]=a[4];\n\t\t\t\ta[4]=a[5];\n\t\t\t\ta[5]=a[1];\n\t\t\t\ta[1]=temp;\n\t\t\t\t\n\t\t\t\trep(j,4){\n\t\t\t\t\ttemp=a[0];\n\t\t\t\t\ta[0]=a[2];\n\t\t\t\t\ta[2]=a[5];\n\t\t\t\t\ta[5]=a[3];\n\t\t\t\t\ta[3]=temp;\n\t\t\t\t\t\n\t\t\t\t\trep(k,4){\n\t\t\t\t\t\ttemp=a[1];\n\t\t\t\t\t\ta[1]=a[2];\n\t\t\t\t\t\ta[2]=a[4];\n\t\t\t\t\t\ta[4]=a[3];\n\t\t\t\t\t\ta[3]=temp;\n\t\t\t\t\t\t\n\t\t\t\t\t\tch.insert(a);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",(n-ch.size()/24));\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring face[6];\nint n;\nint main(){\n  while(cin >> n, n){\n    set<string> ans;\n    for(int j = 0;j < n;j++){\n      cin >> face[0] >> face[1] >> face[2] >> face[3] >> face[4] >> face[5];\n      string p;\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[1]);\n\tswap(face[1], face[5]);\n\tswap(face[5], face[3]);\n      }\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[2]);\n\tswap(face[2], face[5]);\n\tswap(face[5], face[4]);\n      }\n      for(int i = 1;i < 5;i++){\n\tif(i == 1)p = face[i];\n\tp = min(p, face[i]);\n      }\n      while(face[1] != p){\n\tswap(face[1], face[4]);\n\tswap(face[3], face[4]);\n\tswap(face[2], face[3]);\n      }\n      string res =\"\";\n      for(int i = 0;i < 6;i++){\n\tres += face[i][0];\n      }\n      cout << res << endl;\n      ans.insert(res);\n    }\n    cout << n - ans.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n//#define int long long\nusing namespace std;\n\nstruct Dice\n{\n\tint c[6];\t//??????????????????\n\n\tDice() {}\n\n\t//c0:???, c1:??????, c2:???, c3:?\\\\, c4:???, c5:???\n\tDice(int c0, int c1, int c2, int c3, int c4, int c5)\n\t{\n\t\tc[0] = c0; c[1] = c1; c[2] = c2; c[3] = c3; c[4] = c4; c[5] = c5;\n\t}\n\n\tvoid temae()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[3]; c[3] = c[5]; c[5] = c[1];\n\t\tc[1] = temp;\n\t}\n\n\tvoid oku()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[1]; c[1] = c[5]; c[5] = c[3];\n\t\tc[3] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_migi()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[4]; c[4] = c[3]; c[3] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_hidari()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[2]; c[2] = c[3]; c[3] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_migi()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[4]; c[4] = c[5]; c[5] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_hidari()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[2]; c[2] = c[5]; c[5] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//1???????????\\?????????????????¢??????2????¨????????????´????????????????\\\\??????????????°3????\\\\????????????????????????\n\tvoid format()\n\t{\n\t\tif (c[0] == 1) {\n\t\t\t;\n\t\t} else if (c[1] == 1) {\n\t\t\toku();\n\t\t} else if (c[2] == 1) {\n\t\t\tz_hidari();\n\t\t} else if (c[3] == 1) {\n\t\t\ttemae();\n\t\t} else if (c[4] == 1) {\n\t\t\tz_migi();\n\t\t} else if (c[5] == 1) {\n\t\t\toku();\n\t\t\toku();\n\t\t}\n\n\t\tif (c[1] == 2)\n\t\t{\n\t\t\ty_migi();\n\t\t\ty_migi();\n\t\t} else if (c[2] == 2) {\n\t\t\ty_migi();\n\t\t} else if (c[4] == 2) {\n\t\t\ty_hidari();\n\t\t} else if (c[3] == 2) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (c[1] == 3)\n\t\t\t{\n\t\t\t\ty_migi();\n\t\t\t\ty_migi();\n\t\t\t} else if (c[2] == 3) {\n\t\t\t\ty_migi();\n\t\t\t} else if (c[4] == 3) {\n\t\t\t\ty_hidari();\n\t\t\t}\n\t\t}\n\t}\n\n\tbool operator == (const Dice &d) const {\n\t\tDice td1 = Dice(c[0], c[1], c[2], c[3], c[4], c[5]);\n\t\tDice td2 = d;\n\n\t\ttd1.format();\n\t\ttd2.format();\n\n\t\trep(i,6)\n\t\t{\n\t\t\tif (td1.c[i] != td2.c[i]) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nint n;\nmap<string, int> c2n;\nstring color[6];\nint cc[6];\nDice d[30];\n\nsigned main()\n{\n\tc2n[\"Red\"] = 1;\n\tc2n[\"Yellow\"] = 2;\n\tc2n[\"Blue\"] = 3;\n\tc2n[\"Magenta\"] = 4;\n\tc2n[\"Green\"] = 5;\n\tc2n[\"Cyan\"] = 6;\n\n\twhile (true)\n\t{\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\trep(j,n)\n\t\t{\n\t\t\trep(i,6) cin>> color[i];\n\t\t\tcc[0] = c2n[color[0]];\n\t\t\tcc[1] = c2n[color[1]];\n\t\t\tcc[2] = c2n[color[2]];\n\t\t\tcc[3] = c2n[color[4]];\n\t\t\tcc[4] = c2n[color[3]];\n\t\t\tcc[5] = c2n[color[5]];\n\t\t\td[j] = Dice(cc[0], cc[1], cc[2], cc[3], cc[4], cc[5]);\n\t\t}\n\n\t\tint ans = 0;\n\t\tfor (int i=0; i<n; i++)\n\t\t{\n\t\t\tfor (int j=i+1; j<n; j++)\n\t\t\t{\n\t\t\t\tif (d[i] == d[j]) ans++;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101] = { 0 }, ruio = 0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tcout << b[i][j] << \",\";\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\n\t\tint tatuo = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1 &&b[i][1]!=-1) {\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i][1] + b[i][6] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i][1] + b[i][6] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\tif (tatuo > 0) break;\n\t\t\t\t}\n\t\t\t\tif (tatuo > 0) {\n\t\t\t\t\ttatuo = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << a-ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define rep2(x,from,to) for(int x=(from);(x)<(to);(x)++)\n#define rep(x,to) rep2(x,0,to)\nusing namespace std;\nstring color[6] =  {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\nint* south(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = buf;\n\treturn c;\n}\nint* east(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nint* round(int c[6]) {\n\tint buf = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nbool same(int d1[6], int d2[6]) {\n\tbool f = 1;\n\trep(i,4) {\n\t\td1 = south(d1);\n\t\trep(j,4) {\t\n\t\t\td1 = round(d1);\n\t\t\tf = 1;\n\t\t\trep(k,6) {\n\t\t\t\tif(d1[k] != d2[k]) {\n\t\t\t\t\tf = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\tif(f) return true;\n\t\t}\n\t}\n\trep(i,4) {\n\t\td1 = east(d1);\n\t\trep(j,4) {\n\t\t\td1 = round(d1);\n\t\t\tf = 1;\n\t\t\trep(k,6) {\n\t\t\t\tif(d1[k] != d2[k]) {\n\t\t\t\t\tf = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f) return true;\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tint n, d[30][6] = {};\n\tstring s;\n\twhile(cin >> n, n) {\n\t\trep(i,n) {\n\t\t\trep(j,6) {\n\t\t\t\tcin >> s;\n\t\t\t\trep(k,6) {\n\t\t\t\t\tif(color[k] == s) d[i][j] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint a[30] = {};\n\t\trep(i,n) {\n\t\t\trep2(j,i+1,n) {\n\t\t\t\tif(same(d[i],d[j])) {\n\t\t\t\t\ta[i]++, a[j]++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ret = 0;\n\t\trep(i,30) {\n\t\t\tif(a[i]) ret++;\n\t\t}\n\t\tif(ret) ret--;\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <cstring>\nusing namespace std;\nstruct cube\n{\n    vector< string > v;\n    int E = 2,S=1,U=0;\n    void rotate( char C )\n    {\n        int a=E, b=S;\n        switch(C)\n        {\n            case 'E':E=U;U=5-a;break;\n            case 'S':S=U;U=5-b;break;\n            case 'L':E=S;S=5-a;break;\n        }\n    }\n    bool operator==(cube b)\n    {\n        for( int i = 0; i < 2; i++ )\n        {\n            for(int i=0;i<4;i++)\n            {\n                for(int i = 0; i < 4; i++ )\n                {\n                    if (v[E] == b.v[b.E] && v[5 - E] == b.v[5 - b.E] && v[S] == b.v[b.S] && v[5 - S] == b.v[5 - b.S] && v[U] == b.v[b.U] && v[5 - U] == b.v[5 - b.U])return true;\n                    rotate('S');\n                }\n                rotate('E');\n            }\n            rotate('L');\n        }\n        return false;\n    }\n};\ncube s[30];\nbool used[30];\nmain()\n{\n    int n;\n    while( cin >> n, n )\n    {\n        for( int i = 0; i < n; i++ )\n        {\n            s[i].v = vector< string > (6);\n            for( int j = 0; j < 6; j++ )cin >> s[i].v[j];\n            \n        }\n            vector< int > v[30];\n            for( int i = 0; i < n; i++ )\n            {\n                for( int j = i + 1; j < n; j++ )\n                {\n                    if( s[i] == s[j] )v[i].emplace_back( j );\n                }\n            }\n            int cnt = 0;\n            memset( used, 0, sizeof( used ) );\n            for( int i = 0; i < n; i++ )\n            {\n                if( used[i] )continue;\n                cnt++;\n                for( int  j : v[i] )\n                {\n                    used[j] = true;\n                }\n            }\n            printf( \"%d\\n\", n - cnt );\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvoid roll_x(vector<int> &v) {\n  vector<int> res = v;\n  \n  res[0] = v[4];\n  res[1] = v[0];\n  res[5] = v[1];\n  res[4] = v[5];\n  v = res;\n}\n\nvoid roll_y(vector<int> &v) {\n  vector<int> res = v;\n  res[0] = v[3];\n  res[2] = v[0];\n  res[5] = v[2];\n  res[3] = v[5];\n  v = res;\n}\n\nvoid roll_z(vector<int> &v) {\n  vector<int> res = v;\n  res[1] = v[2];\n  res[2] = v[4];\n  res[4] = v[3];\n  res[3] = v[1];\n  v = res;\n}\n\nvoid allpattern(vector<int> v, vector<vector<int> > &out) {\n  out.clear();  \n  for(int i = 0; i < 6; i++) {\n    if( i & 1 ) roll_x(v);\n    else roll_y(v);\n    for(int j = 0; j < 4; j++) {\n      roll_z(v);\n      out.push_back(v);\n    }\n  }\n  \n}\n\nbool same(vector<int> a, vector<int> b) {\n  vector<vector<int> > aa, bb;\n  \n  allpattern(b, bb);\n\n  for(int i = 0; i < bb.size(); i++) \n    if( bb[i] == a ) return true;\n  return false;\n}\n\nbool dup(vector< vector<int> > have, vector<int> b) {\n  for(int i = 0; i < (int)have.size(); i++) {\n    if( same( have[i], b ) ) return true;\n  }\n  return false;\n}\n\nint main() {\n  for(int N; cin >> N, N; ) {\n\n    vector<int> dice[N];\n\n    for(int n = 0; n < N; n++) {\n      for(int i = 0; i < 6; i++) {\n        string s; cin >> s;\n        dice[n].push_back( s[0] - 'A' );\n      }\n    }\n    \n    vector< vector<int> > uni;\n    for(int i = 0; i < N; i++) {\n      if( ! dup(uni, dice[i]) ) {\n        uni.push_back( dice[i] );\n      }\n    }\n\n    cout << N - (int)uni.size() << endl;\n    \n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<map>\n#include<set>\n#include<string>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\ntypedef vector<int> D;\nint R[][6]={{0,3,1,4,2,5},{2,1,5,0,4,3},{4,0,2,3,5,1}};\nvoid rot(D &d,int a){\n\tD r(6); rep(i,6)r[i]=R[a][d[i]]; d=r;\n}\nint main(){\n\tmap<string,int> M; M[\"Red\"]=0,M[\"Yellow\"]=1,\n\tM[\"Blue\"]=2,M[\"Magenta\"]=3,M[\"Green\"]=4,M[\"Cyan\"]=5;\n\tint n;\n\twhile(cin>>n,n){\n\t\tset<D> s,alld; string b;\n\t\trep(ii,n){\n\t\t\tD d(6),t(6);\n\t\t\talld.clear();\n\t\t\trep(jj,6)cin>>b,d[jj]=M[b];\n\t\t\trep(i,4)rep(j,4)rep(k,4){\n\t\t\t\tt=d;\n\t\t\t\trep(p,i)rot(t,0);rep(q,j)rot(t,1);rep(r,k)rot(t,2);\n\t\t\t\talld.insert(t);\n\t\t\t}\n\t\t\ts.insert(*alld.begin());\n\t\t}\n\t\tcout<<n-s.size()<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n//#define int long long\nusing namespace std;\n\nstruct Dice\n{\n\tint c[6];\t//??????????????????\n\n\tDice() {}\n\n\t//c0:???, c1:??????, c2:???, c3:?\\\\, c4:???, c5:???\n\tDice(int c0, int c1, int c2, int c3, int c4, int c5)\n\t{\n\t\tc[0] = c0; c[1] = c1; c[2] = c2; c[3] = c3; c[4] = c4; c[5] = c5;\n\t}\n\n\tvoid temae()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[3]; c[3] = c[5]; c[5] = c[1];\n\t\tc[1] = temp;\n\t}\n\n\tvoid oku()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[1]; c[1] = c[5]; c[5] = c[3];\n\t\tc[3] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_migi()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[4]; c[4] = c[3]; c[3] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_hidari()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[2]; c[2] = c[3]; c[3] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_migi()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[4]; c[4] = c[5]; c[5] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_hidari()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[2]; c[2] = c[5]; c[5] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//1???????????\\?????????????????¢??????2????¨????????????´????????????????\\\\??????????????°3????\\\\????????????????????????\n\tvoid format()\n\t{\n\t\tif (c[0] == 1) {\n\t\t\t;\n\t\t} else if (c[1] == 1) {\n\t\t\toku();\n\t\t} else if (c[2] == 1) {\n\t\t\tz_hidari();\n\t\t} else if (c[3] == 1) {\n\t\t\ttemae();\n\t\t} else if (c[4] == 1) {\n\t\t\tz_migi();\n\t\t} else if (c[5] == 1) {\n\t\t\toku();\n\t\t\toku();\n\t\t}\n\n\t\tif (c[1] == 2)\n\t\t{\n\t\t\ty_migi();\n\t\t\ty_migi();\n\t\t} else if (c[2] == 2) {\n\t\t\ty_migi();\n\t\t} else if (c[4] == 2) {\n\t\t\ty_hidari();\n\t\t} else if (c[3] == 2) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (c[1] == 3)\n\t\t\t{\n\t\t\t\ty_migi();\n\t\t\t\ty_migi();\n\t\t\t} else if (c[2] == 3) {\n\t\t\t\ty_migi();\n\t\t\t} else if (c[4] == 3) {\n\t\t\t\ty_hidari();\n\t\t\t}\n\t\t}\n\t}\n\n\tbool operator == (const Dice &d) const {\n\t\tDice td1 = Dice(c[0], c[1], c[2], c[3], c[4], c[5]);\n\t\tDice td2 = d;\n\n\t\ttd1.format();\n\t\ttd2.format();\n\n\t\trep(i,6)\n\t\t{\n\t\t\tif (td1.c[i] != td2.c[i]) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nint n;\nmap<string, int> c2n;\nstring color[6];\nint cc[6];\nDice d[30];\nbool used[30];\n\nsigned main()\n{\n\tc2n[\"Red\"] = 1;\n\tc2n[\"Yellow\"] = 2;\n\tc2n[\"Blue\"] = 3;\n\tc2n[\"Magenta\"] = 4;\n\tc2n[\"Green\"] = 5;\n\tc2n[\"Cyan\"] = 6;\n\n\twhile (true)\n\t{\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\trep(j,n)\n\t\t{\n\t\t\trep(i,6) cin >> color[i];\n\t\t\tcc[0] = c2n[color[0]];\n\t\t\tcc[1] = c2n[color[1]];\n\t\t\tcc[2] = c2n[color[2]];\n\t\t\tcc[3] = c2n[color[4]];\n\t\t\tcc[4] = c2n[color[3]];\n\t\t\tcc[5] = c2n[color[5]];\n\t\t\td[j] = Dice(cc[0], cc[1], cc[2], cc[3], cc[4], cc[5]);\n\t\t}\n\n\t\trep(i,n) used[i] = false;\n\n\t\tint ans = 0;\n\t\tfor (int i=0; i<n; i++)\n\t\t{\n\t\t\tfor (int j=i+1; j<n; j++)\n\t\t\t{\n\t\t\t\tif (d[i] == d[j] && used[j] == false;)\n\t\t\t\t{\n\t\t\t\t\tans++;\n\t\t\t\t\tused[j] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[31][7],d[31],f[31],g,h,i,j,k,l,o,x;\n\tchar z[31][7][10];\n\twhile(1){\n\t\tscanf(\"%d\",&a);\n\t\tif(a==0) break;\n\t\tfor(i=0;i<a;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",z[i][j]);\n\t\t\t\tif(z[i][j][0]=='R') s[i][j]=0;\n\t\t\t\tif(z[i][j][0]=='Y') s[i][j]=1;\n\t\t\t\tif(z[i][j][0]=='B') s[i][j]=2;\n\t\t\t\tif(z[i][j][0]=='M') s[i][j]=3;\n\t\t\t\tif(z[i][j][0]=='G') s[i][j]=4;\n\t\t\t\tif(z[i][j][0]=='C') s[i][j]=5;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++) f[i]=0;\n\t\tg=0;\n\t\tfor(i=0;i<a-1;i++){\n\t\t\tif(f[i]==0){\n\t\t\t\tfor(j=i+1;j<a;j++){\n\t\t\t\t\tfor(k=0;k<5;k++){\n\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\ts[j][1]=s[j][0];\n\t\t\t\t\t\ts[j][0]=s[j][4];\n\t\t\t\t\t\ts[j][4]=s[j][5];\n\t\t\t\t\t\ts[j][5]=h;\n\t\t\t\t\t\t//printf(\"%d\\n\",s[j][5]);\n\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==1) break;\n\t\t\t\t\t}\n\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\ts[j][2]=s[j][5];\n\t\t\t\t\t\ts[j][5]=s[j][3];\n\t\t\t\t\t\ts[j][3]=s[j][0];\n\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\ts[j][2]=s[j][0];\n\t\t\t\t\t\ts[j][0]=s[j][3];\n\t\t\t\t\t\ts[j][3]=s[j][5];\n\t\t\t\t\t\ts[j][5]=h;\n\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==0){\n\t\t\t\t\t\t\th=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t\t//printf(\"%d\\n\",s[j][5]);\n\t\t\t\t\t\t\tfor(l=0;l<4;l++){\n\t\t\t\t\t\t\tx=0;\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=h;\n\t\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\th=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][5];\n\t\t\t\t\t\t\ts[j][5]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=s[j][0];\n\t\t\t\t\t\t\ts[j][0]=h;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",g);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <utility>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <functional>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <cassert>\n \nusing namespace std;\n \n#define REP(i,s,e) for(int i=(s); i<(int)(e); i++)\n#define rep(i,n) REP(i, 0, n)\n#define pb push_back\n#define mp make_pair\n#define all(r) (r).begin(),(r).end()\n#define rall(r) (r).rbegin(),(r).rend()\n#define fi first\n#define se second\n \ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi> vii;\ntypedef vector<ll> vl;\ntypedef vector<vl> vll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n \n\n \nconst int INF = 1e9;\nconst double EPS = 1e-8;\nconst int mod = 1e9 + 7;\nconst ll LINF = 1e18;\nconst double PI = acos(-1);\n\nstruct Input\n{\n\tint n;\n\tchar c;\n\tchar str[1024];\n\tstring s;\n\tll l;\n\tint nextInt(){\n\t\tscanf(\"%d\", &n);\n\t\treturn n;\n\t}\n\tll nextLong(){\n\t\tscanf(\"%lld\", &l);\n\t\treturn l;\n\t}\n\tchar nextChar(){\n\t\tscanf(\"%c\", &c);\n\t\treturn c;\n\t}\n\tstring next(){\n\t\tscanf(\"%s\", str);\n\t\treturn string(str);\n\t}\n\tstring nextLine(){\n\t\tgetline(cin, s);\n\t\treturn s;\n\t}\n};\nInput in;\n\nstruct Dice\n{\n    vi d;\n    static const int top = 0, frt = 1, rit = 2, lft = 3, bck = 4, btm = 5;\n    Dice(){\n        rep(i, 6) d.pb(i + 1);\n    }\n    Dice(vi d):d(d){}\n    Dice(int _d[]){\n        rep(i, 6) d.pb(_d[i]);\n    }\n    void spin(int f1, int f2, int f3, int f4){\n        int tmp = d[f1];\n        d[f1] = d[f2];\n        d[f2] = d[f3];\n        d[f3] = d[f4];\n        d[f4] = tmp;\n    }\n    void spinN(){\n        spin(top, frt, btm, bck);\n    }\n    void spinS(){\n        spin(top, bck, btm, frt);\n    }\n    void spinE(){\n        spin(top, lft, btm, rit);\n    }\n    void spinW(){\n        spin(top, rit, btm, lft);\n    }\n    void spinCW(){\n        spin(frt, rit, bck, lft);\n    }\n    void spinCCW(){\n        spin(frt, lft, bck, rit);\n    }\n \n    void spin(char c){  \n        if(c == 'N') spinN();\n        else if(c == 'S') spinS();\n        else if(c == 'E') spinE();\n        else if(c == 'W') spinW();  \n    }\n    void spin(string s){\n        for(char c : s){\n            spin(c);\n        }\n    }\n    void spin(int t, int f){\n        rep(i, 4){\n            if(d[top] == t) break;\n            spinN();\n        }\n        rep(i, 4){\n            if(d[top] == t) break;\n            spinE();\n        }\n        rep(i, 4){\n            if(d[frt] == f) break;\n            spinCW();\n        }\n    }\n    void spinTop(int f){\n        if(f == frt) spinN();\n        else if(f == btm) rep(i, 2) spinN();\n        else if(f == bck) spinS();\n        else if(f == lft) spinE();\n        else if(f == rit) spinW();\n    }\n \n    void spinSmall(){\n        Dice tmp(d);\n        rep(i, 6){\n            if(tmp[top] < d[i]) continue;\n            Dice d2(d);\n            d2.spinTop(i);\n            rep(j, 4){\n                if(d2 < tmp) tmp.d = d2.d;\n                d2.spinCW();\n            }\n        }\n        d = tmp.d;\n    }\n \n    int operator[] (int n) const{\n        return d[n];\n    }\n    bool operator == (const Dice& dice) const{\n        rep(i, 6){\n            if(d[i] != dice[i]) return false;\n        }\n        return true;\n    }\n    bool operator < (const Dice& dice) const{\n        rep(i, 6) {\n            if(d[i] != dice[i]) return d[i] < dice[i];\n        }\n        return false;\n    }\n};\n\n\nint main(){\n\tmap<string, int> mp;\n\tmp[\"Cyan\"]\t\t= 0;\n\tmp[\"Yellow\"]\t= 1;\n\tmp[\"Red\"]\t\t= 2;\n\tmp[\"Magenta\"]\t= 3;\n\tmp[\"Green\"]\t\t= 4;\n\tmp[\"Blue\"]\t\t= 5;\n\n\twhile(1){\n\t\tint n = in.nextInt();\n\t\tif(n == 0) break;\n\n\t\tvector<Dice> d;\n\t\tint t[6];\n\t\trep(i, n) {\n\t\t\trep(j, 6) t[j] = mp[in.next()];\n\t\t\td.pb(t);\n\t\t\td.back().spinSmall();\n\t\t}\n\n\t\tsort(all(d));\n\n\t\tint ans = 0;\n\t\trep(i, d.size() - 1) if(d[i] == d[i+1]) ans++;\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t\t// rep(i, n){\n\t\t// \trep(j, 6) printf(\" %d\", d[i][j]);\n\t\t// \tprintf(\"\\n\");\n\t\t// }\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\n\n#define rotate_swap(x,a,b,c,d) swap(x.a,x.b);swap(x.b,x.c);swap(x.c,x.d);\n \nclass Dice{\npublic:\n  int top,front,right,left,back,bottom;\n  bool operator<(const Dice &a)const{\n    if (top != a.top)return top < a.top;\n    if (front != a.front)return front < a.front;\n    if (right != a.right)return right < a.right;\n    if (left != a.left)return left < a.left;\n    if (back != a.back)return back < a.back;\n    if (bottom != a.bottom)return bottom < a.bottom;\n    return false;\n  }\n};\n \nvoid rotate_r(Dice &x){\n rotate_swap(x,top,left,bottom,right);\n}\n \nvoid rotate_l(Dice &x){\n rotate_swap(x,top,right,bottom,left);\n}\n \nvoid rotate_f(Dice &x){\n rotate_swap(x,top,back,bottom,front);\n}\n \nvoid rotate_b(Dice &x){\n rotate_swap(x,top,front,bottom,back);\n}\n \nvoid rotate_cw(Dice &x){\n  rotate_swap(x,back,left,front,right);\n}\n \nvoid rotate_ccw(Dice &x){\n  rotate_swap(x,back,right,front,left);\n}\n \nDice data[24];\n\nvoid generate_all(Dice &x){\n  rep(i,6){\n   rep(j,4){\n     data[i*4+j]=x;\n     rotate_cw(x);\n   }\n   if (i%2 == 0)rotate_r(x);\n   else rotate_f(x);\n }\n}\n\nmain(){\n  string hoge[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"};\n  int n;\n  while(cin>>n && n){\n    set<Dice> S;\n    rep(i,n){\n      int a[6];\n      rep(j,6){\n\tstring tmp;\n\tcin>>tmp;\n\trep(k,6)if (hoge[k] == tmp)a[j]=k;\n      }\n      Dice d={a[0],a[1],a[2],a[3],a[4],a[5]};\n      generate_all(d);\n      bool isok=true;\n      rep(j,24){\n\tif (S.find(data[j]) != S.end()){\n\t  isok=false;\n\t}\n      }\n      if (isok)S.insert(d);\n    }\n    cout << n-S.size() << endl;\n  }\n  return false;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstring s[33][6];\nint c7(int a,int b){\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][4]&&s[a][4]==s[b][3]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][2]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][4]&&s[a][2]==s[b][3]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][3]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][4]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][0]==s[b][3])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][2]&&s[a][2]==s[b][3]&&s[a][3]==s[b][4]&&s[a][4]==s[b][1]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][3]&&s[a][2]==s[b][4]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][4]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][3]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][5]==s[b][2])return 1;\n  return 0;\n}\nint main(){\n  int n;\n  while(cin>>n,n){\n    int sum=0;\n    for(int i=0;i<n;i++)\n      for(int j=0;j<6;j++)\n        cin>>s[i][j];\n    for(int i=0;i<n;i++){\n      int p=0;\n      for(int j=i+1;j<n;j++){\n        if(c7(i,j))p++;\n      }\n      if(p)sum++;\n    }\n    cout<<sum<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdlib>\nusing namespace std;\n\nstruct datum {\n\tchar str[6];\n};\n\ndatum data[30];\n\nchar now[6];\nchar temp[6];\n\nvoid rotate() {\n\tchar temp;\n\ttemp = now[0];\n\tnow[0] = now[2];\n\tnow[2] = now[5];\n\tnow[5] = now[3];\n\tnow[3] = temp;\n}\n\nvoid spin () {\n\tchar temp;\n\ttemp = now[1];\n\tnow[1] = now[2];\n\tnow[2] = now[4];\n\tnow[4] = now[3];\n\tnow[3] = temp;\n}\n\nint compare ( const void * a, const void * b ) {\n\tconst datum x = *((datum*)a);\n\tconst datum y = *((datum*)b);\n\n\tfor ( int i=0; i<6; i++ ) {\n\t\tif ( x.str[i] != y.str[i] )\n\t\t\treturn x.str[i] - y.str[i];\n\t}\n\treturn 0;\n}\n\n\nint main () {\n\twhile ( true ) {\n\t\tint n;\n\t\tcin >> n;\n\n\t\tif ( n == 0 ) \n\t\t\tbreak;\n\n\t\tstring str;\n\t\tfor ( int i=0; i<n; i++ ) {\n\t\t\tfor ( int j=0; j<6; j++ ) {\n\t\t\t\t\n\t\t\t\tcin >> str;\n\t\t\t\tnow[j] = str[0];\n\t\t\t}\n\n\t\t\tif ( now[1] == 'B' || now[4] == 'B' ) {\n\t\t\t\tspin();\n\t\t\t}\n\t\t\twhile ( now[0] != 'B' ) {\n\t\t\t\t\trotate();\n\t\t\t}\n\n\t\t\tif ( now[5] == 'Y' ) {\n\t\t\t\twhile ( now[1] != 'C' ) {\n\t\t\t\t\tspin();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile ( now[1] != 'Y' ) {\n\t\t\t\t\tspin();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( int j=0; j<6; j++ ) {\n\t\t\t\tdata[i].str[j] = now[j];\n\t\t\t}\n\t\t}\n\n\t\tqsort ( data, n, sizeof(datum), compare);\n\n\t\tint count = 0;\n\n\t\tfor ( int i=0; i<n-1; i++ ) {\n\t\t\tbool hit = true;\n\t\t\tfor ( int j=0; j<6; j++ ) {\n\t\t\t\tif ( data[i].str[j] != data[i+1].str[j] ) {\n\t\t\t\t\thit = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( hit ) \n\t\t\t\tcount ++;\n\t\t}\n\n\t\tcout << count << endl;\n\t}\n}\n\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\nstruct UnionFind{\n  vector< int > data;\n  UnionFind(int sz) {\n    data.assign(sz, -1);\n  }\n  int Find(int k) {\n    return(data[k] < 0 ? k : data[k] = Find(data[k]));\n  }\n  void Unite(int a, int b) {\n    a = Find(a), b = Find(b);\n    if(a == b) return;\n    data[a] += data[b];\n    data[b] = a;\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n\nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\n\nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      if(a == b) return(true); \n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    UnionFind uf(n);\n\n    boxes.resize(n);\n    int ret = 0;\n\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    for(int i = 0; i < n; i++) {\n      for(int j = i + 1; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) uf.Unite(i, j);\n      }\n    }\n    for(int i = 0; i < n; i++) {\n      ret += uf.Find(i) == i;\n    }\n    cout << n - ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint main(){\n    int i,j,n,k[100],count=0;\n    char c1[100],c2[100],c3[100],c4[100],c5[100],c6[100];\n    for(j=0;j<100;j++){\n    cin>>n;\n    for(i=0;i<n;i++){\n        cin>>c1>>c2>>c3>>c4>>c5>>c6;\n        k[i]=c1[i]>>c2[i]>>c3[i]>>c4[i]>>c5[i]>>c6[i];\n        if(k[i]==k[i]){\n            count++;\n        }\n    }\n        if(n==0){\n            break;\n        }\n        cout<<count<<endl;\n        count=0;\n}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\n// http://www.prefield.com/algorithm/misc/dice.html\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\nclass dice {\npublic:\n\tdice(int top,int front,int right,int left,int back,int bottom) {\n\t\tid[TOP] = top; id[FRONT] = front; id[RIGHT] = right;\n\t\tid[LEFT] = left; id[BACK] = back; id[BOTTOM] = bottom;\n\t}\n\tint& operator[] (FACE f) { return id[f]; }\n\tconst int& operator[] (FACE f) const { return id[f]; }\n\tbool operator==(const dice &b) const {\n\t\tconst dice &a = *this;\n\t\treturn a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n\t\t\ta[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n\t\t\t a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n\t}\n\tvoid roll_north() { roll(TOP, FRONT, BOTTOM, BACK); }\n\tvoid roll_south() { roll(TOP, BACK, BOTTOM, FRONT); }\n\tvoid roll_east() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n\tvoid roll_west() { roll(TOP, RIGHT, BOTTOM, LEFT); }\n\tvoid roll_right() { roll(FRONT, LEFT, BACK, RIGHT); }\n\tvoid roll_left() { roll(FRONT, RIGHT, BACK, LEFT); }\n\tvoid all_rolls(set<long long> &s){\n\t\tfor (int k = 0; k < 6; (k&1?roll_east():roll_north()),++k)\n\t\t\tfor (int i = 0; i < 4; roll_right(), ++i)\n\t\t\t\ts.insert(((long long)id[TOP]<<40) | ((long long)id[FRONT]<<32) | (id[RIGHT]<<24) | (id[LEFT]<<16) | (id[BACK]<<8) | (id[BOTTOM]<<0));\n\t}\nprivate:\n\tvoid roll(FACE a, FACE b, FACE c, FACE d){\n\t\tint tmp = id[a];\n\t\tid[a] = id[b]; id[b] = id[c];\n\t\tid[c] = id[d]; id[d] = tmp;\n\t}\n\tint id[6];\n};\n\nint main(){\n\tstring str;\n\tint d[6];\n\tint n,i,j,r;\n\tfor(;cin>>n,n;){\n\t\tset<long long>s;\n\t\tfor(r=i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++)cin>>str,d[j]=str[0];\n\t\t\tlong long x=((long long)d[0]<<40) | ((long long)d[1]<<32) | (d[2]<<24) | (d[3]<<16) | (d[4]<<8) | (d[5]<<0);\n\t\t\tif(s.find(x)!=s.end())r++;\n\t\t\telse{\n\t\t\t\tdice di(d[0],d[1],d[2],d[3],d[4],d[5]);\n\t\t\t\tdi.all_rolls(s);\n\t\t\t}\n\t\t}\n\t\tcout<<r<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n#include <cstdio>\n#include <iostream>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n#include <complex>\n \nusing namespace std;\n \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P > PP;\n \nint tx[] = {0,1,0,-1};\nint ty[] = {-1,0,1,0};\n \nstatic const double EPS = 1e-10;\n\nenum dir {\n  TOP,\n  FRONT,\n  REAR,\n  BOTTOM,\n  LEFT,\n  RIGHT\n};\n\n\nmap<string,int> dict;\n\nclass Dice {\npublic:\n  int surface[6];\n\n  Dice(const vector<string>& colors){\n    surface[TOP] = dict[colors[0]];\n    surface[FRONT] = dict[colors[3]];\n    surface[BOTTOM] = dict[colors[5]];\n    surface[REAR] = dict[colors[2]];\n    surface[RIGHT] = dict[colors[1]];\n    surface[LEFT] = dict[colors[4]];\n  }\n\n  bool is_visited(set<string>& visited){\n    bool res = true;\n    for(int i=0;i<6;i++){\n      for(int j=0;j<6;j++){\n\tfor(int k=0;k<6;k++){\n\t  int tmp[6];\n\t  memcpy(tmp,surface,sizeof(int)*6);\n\t  \n\t  pitch(i);\n\t  yaw(j);\n\t  roll(k);\n\t  if(visited.count(getkey()) == 0){\n\t    res = false;\n\t    visited.insert(getkey());\n\t  }\n\t  memcpy(surface,tmp,sizeof(int)*6);\n\t}\n      }\n    }\n\n    return res;\n  }\n  \n  void pitch(int num){\n    //FRONT,BOTTOM,REAR,TOP\n    for(int i=0;i<num;i++){\n      int next[6];\n      memcpy(next,surface,sizeof(int)*6);\n      next[FRONT] = surface[BOTTOM];\n      next[BOTTOM] = surface[REAR];\n      next[REAR] = surface[TOP];\n      next[TOP] = surface[FRONT];\n      memcpy(surface,next,sizeof(int)*6);\n    }\n  }\n  void yaw(int num){\n    //LEFT,FRONT,RIGHT,REAR\n    for(int i=0;i<num;i++){\n      int next[6];\n      memcpy(next,surface,sizeof(int)*6);\n      next[LEFT] = surface[FRONT];\n      next[FRONT] = surface[RIGHT];\n      next[RIGHT] = surface[REAR];\n      next[REAR] = surface[LEFT];\n      memcpy(surface,next,sizeof(int)*6);\n    }\n  }\n  void roll(int num){\n    //TOP,LEFT,BOTTOM,RIGHT\n    for(int i=0;i<num;i++){\n      int next[6];\n      memcpy(next,surface,sizeof(int)*6);\n      next[TOP] = surface[LEFT];\n      next[LEFT] = surface[BOTTOM];\n      next[BOTTOM] = surface[RIGHT];\n      next[RIGHT] = surface[TOP];\n      memcpy(surface,next,sizeof(int)*6);\n    }\n  }\n\n  string getkey(){\n    string res = \"\";\n    res.push_back('0' + surface[TOP]);\n    res.push_back('0' + surface[FRONT]);\n    res.push_back('0' + surface[BOTTOM]);\n    res.push_back('0' + surface[REAR]);\n    res.push_back('0' + surface[RIGHT]);\n    res.push_back('0' + surface[LEFT]);\n\n    return res;\n  }\n};\n\nint main(){\n  int n;\n  dict[\"Red\"] = 1;\n  dict[\"Yellow\"] = 2;\n  dict[\"Blue\"] = 3;\n  dict[\"Magenta\"] = 4;\n  dict[\"Green\"] = 5;\n  dict[\"Cyan\"] = 6;\n\n  while(~scanf(\"%d\",&n)){\n    if(n == 0) break;\n    set<string> visited;\n\n    int count = 0;\n    for(int i=0;i<n;i++){\n      vector<string> colors;\n      for(int j=0;j<6;j++){\n\tstring color;\n\tcin >> color;\n\tcolors.push_back(color);\n      }\n      Dice d(colors);\n      if(!d.is_visited(visited)){\n\tcount++;\n      }\n    }\n\n    printf(\"%d\\n\",n - count);\n  }\n}\n  "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\nusing namespace std;\nstring s[50][6];\nint d[12][6]={\n  {0,1,2,3,4,5},\n  {0,2,3,4,1,5},\n  {0,3,4,1,2,5},\n  {0,4,1,2,3,5},\n  \n  {0,1,2,3,4,5},\n  {2,1,3,4,0,5},\n  {3,1,4,0,2,5},\n  {4,1,0,2,3,5},\n  \n  {0,1,2,3,4,5},\n  {1,4,2,3,5,0},\n  {4,5,2,3,0,1},\n  {5,0,2,3,1,4}\n};\nint main(){\n  int n;\n  while(cin>>n&&n){\n    int ans=0;\n    lol(i,n){\n      lol(j,6)cin>>s[i][j];\n      bool same=false;\n      lol(j,i){\n\tlol(r,12){\n\t  bool ok=true;\n\t  lol(k,6){\n\t    if(s[i][k]!=s[j][d[r][k]])ok=false;\n\t  }\n\t  if(ok)same=true;\n\t}\n      }\n      if(same)ans++;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int i,j,k,l,m,o,n,a[30][7],ans,c;\n  string str;\n  bool f;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    for(int t=0;t<n;t++){\n      for(i=1;i<7;i++){\n\tcin >> str;\n\tif(str == \"Cyan\") a[t][i] = 1;\n\telse if(str == \"Yellow\") a[t][i] = 2;\n\telse if(str == \"Red\") a[t][i] = 3;\n\telse if(str == \"Magenta\") a[t][i] = 4;\n\telse if(str == \"Green\") a[t][i] = 5;\n\telse a[t][i] = 6;\n      }\n    }\n    ans = 0;\n\n    for(i=0;i<n-1;i++){\n      for(j=i+1;j<n;j++){\n\tf = false;\n\tfor(k=1;k<7;k++){\n\t  for(l=1;l<7;l++){\n\t    if(a[i][k] == a[j][l] /*&& a[i][7-k] == a[j][7-l]*/){\n\t      f = true;\n\t      int c1[4],c2[4];\n\t      if(k == 1){\n\t\tc1[0] = 5;\n\t\tc1[1] = 3;\n\t\tc1[2] = 2;\n\t\tc1[3] = 4;\n\t      }\n\t      if(l == 1){\n\t\tc2[0] = 5;\n\t\tc2[1] = 3;\n\t\tc2[2] = 2;\n\t\tc2[3] = 4;\n\t      }\n\t      if(k == 2){\n\t\tc1[0] = 1;\n\t\tc1[1] = 3;\n\t\tc1[2] = 5;\n\t\tc1[3] = 4;\n\t      }\n\t      if(l == 2){\n\t\tc2[0] = 1;\n\t\tc2[1] = 3;\n\t\tc2[2] = 5;\n\t\tc2[3] = 4;\n\t      }\n\t      if(k == 3){\n\t\tc1[0] = 5;\n\t\tc1[1] = 6;\n\t\tc1[2] = 2;\n\t\tc1[3] = 1;\n\t      }\n\t      if(l == 3){\n\t\tc2[0] = 5;\n\t\tc2[1] = 6;\n\t\tc2[2] = 2;\n\t\tc2[3] = 1;\n\t      }\n\t      if(k == 4){\n\t\tc1[0] = 5;\n\t\tc1[1] = 1;\n\t\tc1[2] = 2;\n\t\tc1[3] = 6;\n\t      }\n\t      if(l == 4){\n\t\tc2[0] = 5;\n\t\tc2[1] = 1;\n\t\tc2[2] = 2;\n\t\tc2[3] = 6;\n\t      }\n\t      if(k == 5){\n\t\tc1[0] = 6;\n\t\tc1[1] = 3;\n\t\tc1[2] = 1;\n\t\tc1[3] = 4;\n\t      }\n\t      if(l == 5){\n\t\tc2[0] = 6;\n\t\tc2[1] = 3;\n\t\tc2[2] = 1;\n\t\tc2[3] = 4;\n\t      }\n\t      if(k == 6){\n\t\tc1[0] = 5;\n\t\tc1[1] = 4;\n\t\tc1[2] = 2;\n\t\tc1[3] = 3;\n\t      }\n\t      if(l == 6){\n\t\tc2[0] = 5;\n\t\tc2[1] = 4;\n\t\tc2[2] = 2;\n\t\tc2[3] = 3;\n\t      }\n\n\t      for(m=0;m<4;m++){\n\t\tc = 0;\n\t\tfor(o=0;o<4;o++){\n\t\t  if(a[i][c1[o]] == a[i][c2[(o+m)%4]]) c++;\n\t\t}\n\t\tif(c == 4){\n\t\t  ans++;\n\t\t  break;\n\t\t}\n\t      }\n\t    }\n\t    if(f) break;\n\t  }\n\t  if(f) break;\n\t}\n      }\n    }\n\n    cout << ans << endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#define rep(i, n) for ( int i = 0; i < n; i++ )\nusing namespace std;\n#define MAX 100\nclass Cube{\n    public:\n    string f[6];\n    Cube(){}\n    void roll_z(){ roll(1, 2, 4, 3);}\n    void roll_y(){ roll(0, 2, 5, 3);}\n    void roll_x(){ roll(0, 1, 5, 4);}\n    void roll(int i, int j, int k, int l){\n\tstring t = f[i]; f[i] = f[j]; f[j] = f[k]; f[k] = f[l]; f[l] = t;\n    }\n};\n\nCube C[MAX];\nint n;\n\nbool eq( Cube c1, Cube c2 ){\n    rep(i, 6) if ( c1.f[i] != c2.f[i] ) return false;\n    return true;\n}\n\nbool equal( Cube c1, Cube c2 ){\n    rep(i, 6){\n\trep(j, 4){\n\t    if ( eq(c1, c2) ) return true;\n\t    c1.roll_z();\n\t}\n\tif ( i % 2 == 0 ) c1.roll_y();\n\telse c1.roll_x();\n    }\n    return false;\n}\n\nmain(){\n    while( cin >> n && n ){\n\trep(i, n) rep(j, 6) cin >> C[i].f[j];\n\tint cnt = 0;\n\trep(i,n) {\n\t    bool hasSame = false;\n\t    for(int j=i+1; j<=n-1;j++) if (equal(C[i],C[j])) hasSame = true;\n\t    if ( !hasSame ) cnt++;\n\t}\n\tcout << n - cnt << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <map>\n#include <tuple>\n#include <set>\n#include <string>\n\nusing namespace std;\n\n#define int long long\n\nsigned main() {\n\tmap<char, int> colorID;\n\tcolorID.emplace('R', 0);\n\tcolorID.emplace('Y', 1);\n\tcolorID.emplace('B', 2);\n\tcolorID.emplace('M', 3);\n\tcolorID.emplace('G', 4);\n\tcolorID.emplace('C', 5);\n\n\twhile (true) {\n\t\tint n;\n\t\tcin >> n;\n\t\tif (n == 0)break;\n\n\t\tvector<vector<int>> colors(n, vector<int>(6));\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 6; j++) {\n\t\t\t\tstring s;\n\t\t\t\tcin >> s;\n\t\t\t\tcolors[i][j] = colorID[s[0]];\n\t\t\t}\n\n\t\t\twhile (colors[i][0] != 0) {\n\t\t\t\tint zeroI = 0;\n\t\t\t\tfor (; zeroI < 6; zeroI++) {\n\t\t\t\t\tif (colors[i][zeroI] == 0)break;\n\t\t\t\t}\n\n\t\t\t\tif (zeroI == 2 || zeroI == 3 || zeroI == 5) {\n\t\t\t\t\tswap(colors[i][3], colors[i][0]);\n\t\t\t\t\tswap(colors[i][0], colors[i][2]);\n\t\t\t\t\tswap(colors[i][2], colors[i][5]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tswap(colors[i][4], colors[i][0]);\n\t\t\t\t\tswap(colors[i][0], colors[i][1]);\n\t\t\t\t\tswap(colors[i][1], colors[i][5]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint sideMin = min(\n\t\t\t\tmin(colors[i][1], colors[i][2]),\n\t\t\t\tmin(colors[i][3], colors[i][4]));\n\t\t\twhile (colors[i][1] != sideMin) {\n\t\t\t\tswap(colors[i][1], colors[i][2]);\n\t\t\t\tswap(colors[i][2], colors[i][4]);\n\t\t\t\tswap(colors[i][4], colors[i][3]);\n\t\t\t}\n\t\t}\n\n\t\tset<vector<int>> color_set;\n\t\tfor (int i = 0; i < n; i++)color_set.emplace(colors[i]);\n\n\t\tcout << n - color_set.size() << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\n\nbool func(string s1[7], string s2[7])\n{\n\tbool f = true, fs[7];\n\tstring s3[7];\n\tfill(fs, fs+7, true);\n\t\n\tfor(int i = 1; i <= 3 && f; i++){\n\t\tfor(int j = 1; j <= 6 && f; j++){\n\t\t\tif(s1[i] == s2[j]){\n\t\t\t\tif(!fs[j]){\n\t\t\t\t\tf = false;\n\t\t\t\t} else {\n\t\t\t\t\tfs[j] = fs[7-j] = false;\n\t\t\t\t\ts3[i] = s2[j];\n\t\t\t\t\ts3[7-i] = s2[7-j];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/*\n\tcout << endl;\n\tcout << \"s1 : \";\n\tfor(int i = 1; i <= 6; i++){\n\t\tcout << s1[i] << \" \";\n\t}\n\tcout << endl;\n\tcout << \"s2 : \";\n\tfor(int i = 1; i <= 6; i++){\n\t\tcout << s2[i] << \" \";\n\t}\n\tcout << endl;\n\tcout << \"s3 : \";\n\tfor(int i = 1; i <= 6; i++){\n\t\tif(s3[i].size() == 0){\n\t\t\tcout << \"NONE\" << \" \";\n\t\t\tcontinue;\n\t\t}\n\t\tcout << s3[i] << \" \";\n\t}\n\tcout << endl;\n\t*/\n\tfor(int i = 1; i <= 6 && f; i++){\n\t\tif(s1[i] != s3[i]){\n\t\t\tf = false;\n\t\t}\n\t}\n\t/*\n\tif(f){\n\t\tcout << \"matching\" << endl;\n\t} else {\n\t\tcout << \"not matching\" << endl;\n\t}\n\tcout << endl;\n\t*/\n\treturn !f;\n}\n\nint main()\n{\n\tint n, c;\n\tstring s[31][7];\n\tbool f[31];\n\t\n\twhile(cin>>n&&n){\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = 1; j <= 6; j++){\n\t\t\t\tcin >> s[i][j];\n\t\t\t}\n\t\t}\n\t\tc = 0;\n\t\tfill(f, f+31, true);\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = i+1; j < n; j++){\n\t\t\t\tf[j] = func(s[i], s[j]) & f[j];\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tif(f[i]){\n\t\t\t\tc++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << (n-c) << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nenum Color {\n    Red, Yellow, Blue,\n    Magenta, Green, Cyan\n};\n\nstruct Dice {\n    Color dice[6];\n};\n\nbool Rotate(const Dice &a, Dice &b, int d)\n{\n    if (d == 1) {\n        swap(b.dice[0], b.dice[4]);\n        swap(b.dice[0], b.dice[1]);\n    }\n    else if (d == 2) {\n        swap(b.dice[0], b.dice[3]);\n        swap(b.dice[0], b.dice[2]);\n        swap(b.dice[2], b.dice[5]);\n    }\n    else if (d == 3) {\n        swap(b.dice[0], b.dice[2]);\n        swap(b.dice[0], b.dice[5]);\n        swap(b.dice[0], b.dice[3]);\n    }\n    else if (d == 4) {\n        swap(b.dice[0], b.dice[1]);\n        swap(b.dice[0], b.dice[4]);\n    }\n    else if (d == 5) {\n        swap(b.dice[0], b.dice[5]);\n        swap(b.dice[2], b.dice[3]);\n    }\n\n    if (a.dice[5] != b.dice[5])\n        return false;\n\n    for (int i = 0; i < 3; ++i) {\n        bool flag = true;\n        for (int j = 0; j < 6; ++j)\n            if (a.dice[j] != b.dice[j]) {\n                flag = false;\n                break;\n            }\n        if (flag)\n            return true;\n\n        for (int j = 1; j <= 3; ++j)\n            swap(b.dice[j], b.dice[j + 1]);\n    }\n\n    return false;\n}\n\nbool isSame(const Dice &a, Dice &b)\n{\n    for (int i = 0; i < 6; ++i)\n        if (a.dice[0] == b.dice[i]) {\n            if (Rotate(a, b, i))\n                return true;\n        }\n\n    return false;\n}\n\nint main()\n{\n    int n;\n\n    while (cin >> n, n) {\n        Dice obj[n];\n        string inp;\n\n        for (int i = 0; i < n; ++i)\n            for (int j = 0; j < 6; ++j) {\n                cin >> inp;\n\n                if (inp == \"Red\")\n                    obj[i].dice[j] = Red;\n                else if (inp == \"Yellow\")\n                    obj[i].dice[j] = Yellow;\n                else if (inp == \"Blue\")\n                    obj[i].dice[j] = Blue;\n                else if (inp == \"Magenta\")\n                    obj[i].dice[j] = Magenta;\n                else if (inp == \"Green\")\n                    obj[i].dice[j] = Green;\n                else if (inp == \"Cyan\")\n                    obj[i].dice[j] = Cyan;\n            }\n\n        int same = 0;\n        for (int i = 0; i < n; ++i)\n            for (int j = i + 1; j < n; ++j)\n                if (isSame(obj[i], obj[j]))\n                    ++same;\n\n        cout << same << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#define rep(i, n) for ( int i = 0; i < n; i++ )\nusing namespace std;\n#define MAX 100\nclass Cube{\n    public:\n    string f[6];\n    Cube(){}\n    void roll_z(){ roll(1, 2, 4, 3);}\n    void roll_y(){ roll(0, 2, 5, 3);}\n    void roll_x(){ roll(0, 1, 5, 4);}\n    void roll(int i, int j, int k, int l){\n\tstring t = f[i]; f[i] = f[j]; f[j] = f[k]; f[k] = f[l]; f[l] = t;\n    }\n};\n\nCube C[MAX];\nint n;\n\nbool eq( Cube c1, Cube c2 ){\n    rep(i, 6) if ( c1.f[i] != c2.f[i] ) return false;\n    return true;\n}\n\nbool equal( Cube c1, Cube c2 ){\n    rep(i, 6){\n\trep(j, 4){\n\t    if ( eq(c1, c2) ) return true;\n\t    c1.roll_z();\n\t}\n\tif ( i % 2 == 0 ) c1.roll_y();\n\telse c1.roll_x();\n    }\n    return false;\n}\n\nmain(){\n    while( cin >> n && n ){\n\trep(i, n) rep(j, 6) cin >> C[i].f[j];\n\tint cnt = 0;\n\trep(i,n) {\n\t    bool hasSame = false;\n\t    for(int j=i+1; j<=n-1;j++) if (equal(C[i],C[j])) {hasSame = true;break;}\n\t    if ( !hasSame ) cnt++;\n\t}\n\tcout << n - cnt << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n\nusing namespace std;\n \nenum { TOP = 0, BOTTOM, FRONT, BACK, LEFT, RIGHT };\nenum { WEST = 0, NORTH, EAST, SOUTH };\n \nclass Dice\n{\npublic:\n  int num[6];\n   \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n   \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n       \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n       \n    }\n     \n  }\n   \npublic:\n  \n  Dice() {\n  }\n  \n  Dice(int t, int f)\n  {\n    num[TOP] = t; num[BOTTOM] = 7-t;\n    num[FRONT] = f; num[BACK] = 7-f;\n     \n    switch(num[TOP])\n      {\n      case 1:\n        switch(num[FRONT]) {\n        case 3: num[LEFT] = 2; break;\n        case 5: num[LEFT] = 3; break;\n        case 4: num[LEFT] = 5; break;\n        case 2: num[LEFT] = 4; break;\n        }\n        break;\n      case 2:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 3; break;\n        case 3: num[LEFT] = 6; break;\n        case 4: num[LEFT] = 1; break;\n        case 6: num[LEFT] = 4; break;\n        }\n        break;\n      case 3:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 5; break;\n        case 2: num[LEFT] = 1; break;\n        case 6: num[LEFT] = 2; break;\n        case 5: num[LEFT] = 6; break;\n        }\n        break;\n      case 4:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 2; break;\n        case 2: num[LEFT] = 6; break;\n        case 5: num[LEFT] = 1; break;\n        case 6: num[LEFT] = 5; break;\n        }\n        break;\n      case 5:\n        switch(num[FRONT]) {\n        case 1: num[LEFT] = 4; break;\n        case 3: num[LEFT] = 1; break;\n        case 4: num[LEFT] = 6; break;\n        case 6: num[LEFT] = 3; break;\n        }\n        break;\n      case 6:\n        switch(num[FRONT]) {\n        case 2: num[LEFT] = 3; break;\n        case 3: num[LEFT] = 5; break;\n        case 4: num[LEFT] = 2; break;\n        case 5: num[LEFT] = 4; break;\n        }\n        break;\n      }\n    num[RIGHT] = 7-num[LEFT];\n  }\n\n  bool operator == (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      for(int j=0; j<4; j++) {\n        rhs.roll(NORTH);\n        rhs.roll(WEST);\n        for(int k=0; k<6; k++) if(num[k]!=rhs.num[k]) continue;\n        return true;\n      }\n    }\n    return false;\n  }\n};\n\nstring cols[]={\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\nmap<string, int> mp;\n\nint main() {\n  \n  for(int i=0; i<6; i++) mp[cols[i]] = i;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      string s; int t, f;\n      cin >> s; t = mp[s];\n      cin >> s; f = mp[s];\n      d.push_back(Dice(t, f));\n      for(int j=2; j<6; j++) {\n        string s; cin >> s;\n      }\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i] == d[j]) {\n            cnt++;\n            d.erase(d.begin()+i); update = true; goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << N-cnt << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint cc(int,int);\n\nint main(){\n  int i,j,k,l,m,o,n,a[30][7],ans,c;\n  string str;\n  bool f;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    for(int t=0;t<n;t++){\n      for(i=1;i<7;i++){\n\tcin >> str;\n\tif(str == \"Cyan\") a[t][i] = 1;\n\telse if(str == \"Yellow\") a[t][i] = 2;\n\telse if(str == \"Red\") a[t][i] = 3;\n\telse if(str == \"Magenta\") a[t][i] = 4;\n\telse if(str == \"Green\") a[t][i] = 5;\n\telse a[t][i] = 6;\n      }\n    }\n    ans = 0;\n\n    for(i=0;i<n-1;i++){\n      for(j=i+1;j<n;j++){\n\tf = false;\n\tfor(k=1;k<7;k++){\n\t  for(l=1;l<7;l++){\n\t    if(a[i][k] == a[j][l] && a[i][7-k] == a[j][7-l]){\n\t      f = true;\n\n\t      int c1[4],c2[4];\n\t      for(m=0;m<4;m++){\n\t\tc1[m] = cc(k,m);\n\t\tc2[m] = cc(l,m);\n\t      }\n\n\t      for(m=0;m<4;m++){\n\t      c = 0;\n\t\tfor(o=0;o<4;o++){\n\t\t  if(a[i][c1[o]] == a[j][c2[(o+m)%4]]) c++;\n\t\t}\n\t\tif(c == 4){\n\t\t  ans++;\n\t\t  break;\n\t\t}\n\t      }\n\t    }\n\t    if(f) break;\n\t  }\n\t  if(f) break;\n\t}\n      }\n    }\n\n    cout << ans << endl;\n\n  }\n  return 0;\n}\n\n\nint cc(int a,int b){\n\n  if(a == 1){\n    if(b == 0) return 5;\n    if(b == 1) return 3;\n    if(b == 2) return 2;\n    if(b == 3) return 4;\n  }\n  if(a == 2){\n    if(b == 0) return 1;\n    if(b == 1) return 3;\n    if(b == 2) return 5;\n    if(b == 3) return 4;\n  }\n  \n  if(a == 3){\n    if(b == 0) return 5;\n    if(b == 1) return 6;\n    if(b == 2) return 2;\n    if(b == 3) return 1;\n  }\n  \n  if(a == 4){\n    if(b == 0) return 5;\n    if(b == 1) return 1;\n    if(b == 2) return 2;\n    if(b == 3) return 6;\n  }\n  \n  if(a == 5){\n    if(b == 0) return 6;\n    if(b == 1) return 3;\n    if(b == 2) return 1;\n    if(b == 3) return 4;\n  }\n  \n  if(a == 6){\n    if(b == 0) return 5;\n    if(b == 1) return 4;\n    if(b == 2) return 2;\n    if(b == 3) return 3;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n \nenum { TOP=0, FRONT=1, LEFT=2, RIGHT=3, BACK=4, BOTTOM=5 };\nenum { WEST = 0, NORTH=1, EAST=2, SOUTH=3 };\n \nclass Dice\n{\npublic:\n  int num[6];\n   \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n   \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n       \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n       \n    }\n     \n  }\n   \npublic:\n  \n  Dice() {\n  }\n  \n  Dice(int t, int f, int l, int r, int b, int m)\n  {\n    num[TOP] = t, num[FRONT] = f, num[LEFT] = l, num[RIGHT] = r, num[BACK] = b, num[BOTTOM] = m;\n  }\n  Dice(vector<int> v)\n  {\n    num[TOP] = v[0], num[FRONT] = v[1], num[LEFT] = v[2], num[RIGHT] = v[3], num[BACK] = v[4], num[BOTTOM] = v[5];\n  }\n  \n  bool equals (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      for(int j=0; j<4; j++) {\n        rhs.roll(WEST);\n        bool ng = false;\n        for(int k=0; k<6; k++) {\n          if(num[k]!=rhs.num[k]) { ng = true; break; }\n        }\n        if(ng) continue;\n        return true;\n      }\n    }\n    return false;\n  }\n};\n\nmap<string, int> mp;\n\nint main() {\n  \n  mp[\"Red\"]=0, mp[\"Yellow\"]=1, mp[\"Blue\"]=2, mp[\"Magenta\"]=3, mp[\"Green\"]=4, mp[\"Cyan\"]=5;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      swap(v[2], v[3]);\n      d.push_back(Dice(v));\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equals(d[j])) {\n            d.erase(d.begin()+j);\n            update = true; cnt ++;\n            goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << cnt << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint main()\n{\n\tint i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n\tchar c[8];\n\tchar color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n\n\tscanf(\"%d\", &n);\n\twhile (n > 0) {\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tfor (i1 = 0; i1 < 6; i1++) {\n\t\t\t\tscanf(\"%s\", c);\n\t\t\t\tfor (i2 = 0; i2 < 6; i2++) {\n\t\t\t\t\tif (strcmp(c, color[i2]) == 0) {\n\t\t\t\t\t\td[i0][i1] = i2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tm = 0;\n\t\tfor (i0 = 0; i0 < n; i0++)\n\t\t\ts[i0] = 1;\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tif (s[i0] > 0) {\n\t\t\t\tm++;\n\t\t\t\ts[i0] = 0;\n\t\t\t\tfor (i1 = i0+1; i1 < n; i1++) {\n\t\t\t\t\tsw = 0;\n\t\t\t\t\tfor (i2 = 0; i2 < 3 && sw == 0; i2++) {\n\t\t\t\t\t\tfor (i3 = 0; i3 < 6 && sw == 0; i3++) {\n\t\t\t\t\t\t\tif (d[i0][i2] == d[i1][i3]) {\n\t\t\t\t\t\t\t\tif (d[i0][5-i2] != d[i1][5-i3])\n\t\t\t\t\t\t\t\t\tsw = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sw == 0)\n\t\t\t\t\t\ts[i1] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", n-m);\n\t\tscanf(\"%d\", &n);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nstring s[10][6];\nint c7(int a,int b){\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][4]&&s[a][4]==s[b][3]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][2]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][4]&&s[a][2]==s[b][3]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][0]&&s[a][1]==s[b][3]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][4]&&s[a][5]==s[b][5])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][1]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][4])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][3])return 1;\n  if(s[a][0]==s[b][2]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][0]==s[b][3])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][1]&&s[a][2]==s[b][2]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][2]&&s[a][2]==s[b][3]&&s[a][3]==s[b][4]&&s[a][4]==s[b][1]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][3]&&s[a][2]==s[b][4]&&s[a][3]==s[b][1]&&s[a][4]==s[b][2]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][5]&&s[a][1]==s[b][4]&&s[a][2]==s[b][1]&&s[a][3]==s[b][2]&&s[a][4]==s[b][3]&&s[a][5]==s[b][0])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][0]&&s[a][2]==s[b][3]&&s[a][3]==s[b][5]&&s[a][4]==s[b][2]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][2]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][5]&&s[a][2]==s[b][2]&&s[a][3]==s[b][0]&&s[a][4]==s[b][3]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][4]&&s[a][1]==s[b][3]&&s[a][2]==s[b][5]&&s[a][3]==s[b][2]&&s[a][4]==s[b][0]&&s[a][5]==s[b][1])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][0]&&s[a][2]==s[b][4]&&s[a][3]==s[b][3]&&s[a][4]==s[b][5]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][1]&&s[a][2]==s[b][0]&&s[a][3]==s[b][3]&&s[a][4]==s[b][4]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][5]&&s[a][2]==s[b][1]&&s[a][3]==s[b][3]&&s[a][4]==s[b][0]&&s[a][5]==s[b][2])return 1;\n  if(s[a][0]==s[b][3]&&s[a][1]==s[b][4]&&s[a][2]==s[b][5]&&s[a][3]==s[b][3]&&s[a][4]==s[b][1]&&s[a][5]==s[b][2])return 1;\n  return 0;\n}\nint main(){\n  int n;\n  while(cin>>n,n){\n    int sum=0;\n    for(int i=0;i<n;i++)\n      for(int j=0;j<6;j++)\n        cin>>s[i][j];\n    for(int i=0;i<n;i++){\n      int p=0;\n      for(int j=i+1;j<n;j++){\n        if(c7(i,j))p++;\n      }\n      if(p)sum++;\n    }\n    cout<<sum<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n\nusing namespace std;\n\nclass Box{\npublic:\n\tstring c1,c2,c3,c4,c5,c6;\n\n\tbool operator==( const Box& lhs ){\n\t\treturn c1 == lhs.c1 && c2 == lhs.c2 && c3 == lhs.c3 && c4 == lhs.c4 && c5 == lhs.c5 && c6 == lhs.c6;\n\t}\n\n\tvoid rotatet(){\n\t\tstring d1,d2;\n\t\td1 = c1;\n\t\tc1 = c5;\n\t\td2 = c2;\n\t\tc2 = d1;\n\t\tc5 = c6;\n\t\tc6 = d2;\n\t}\n\n\tvoid rotatey(){\n\t\tstring d1,d2;\n\t\td1 = c1;\n\t\tc1 = c3;\n\t\td2 = c4;\n\t\tc4 = d1;\n\t\tc3 = c6;\n\t\tc6 = d2;\n\t}\n};\n\n\nint main( void )\n{\n\tint n;\n\tBox box[31];\n\tbool check[31];\n\n\twhile( cin >> n && n != 0 ){\n\t\tfor( int i = 0;i < 31;i++ ) check[i] = false;\n\t\tfor( int i = 0;i < n;i++ ){\n\t\t\tcin >> box[i].c1 >>  box[i].c2 >>  box[i].c3 >>  box[i].c4 >>  box[i].c5 >>  box[i].c6; \n\t\t}\n\n\t\tint count = 0;\n\n\t\tfor( int i = 0;i < n;i++ ){\n\t\t\tcheck[i] = true;\n\t\t\tfor( int j = i;j < n;j++ ){\n\t\t\t\tif( check[j] == false ){\n\t\t\t\t\tfor( int k = 0;k < 4;k++ ){\n\t\t\t\t\t\tbox[j].rotatet();\n\t\t\t\t\t\tfor( int n = 0;n < 4;n++ ){\n\t\t\t\t\t\t\tbox[j].rotatey();\n\t\t\t\t\t\t\tif( box[i] == box[j] ){\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\tcheck[j] = true;\n\t\t\t\t\t\t\t\tgoto END;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\nEND:;\n\t\t\t}\n\t\t}\n\t\tcout << count << endl;\n\t}\n\t\t\t\t\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#ifndef ___Rank_Union_Find\n#define ___Rank_Union_Find\n\n#include <vector>\n\n// ------ Class ------ //\nclass UnionFind {\nprivate:\n\tunsigned size_; std::vector<unsigned> par, rank;\npublic:\n\tUnionFind() : size_(0), par(std::vector<unsigned>()), rank(std::vector<unsigned>()) {};\n\tUnionFind(unsigned size__) : size_(size__) {\n\t\tpar.resize(size_); rank.resize(size_);\n\t\tfor (unsigned i = 0; i < size_; i++) par[i] = i, rank[i] = 0;\n\t}\n\tunsigned size() { return size_; }\n\tunsigned root(unsigned x) { return par[x] == x ? x : par[x] = root(par[x]); }\n\tbool same(unsigned x, unsigned y) { return root(x) == root(y); }\n\tvoid unite(unsigned x, unsigned y) {\n\t\tx = root(x), y = root(y);\n\t\tif (x == y) return;\n\t\tif (rank[x] < rank[y]) par[x] = y;\n\t\telse if (rank[x] == rank[y]) par[y] = x, rank[x]++;\n\t\telse par[y] = x;\n\t}\n\tbool operator==(const UnionFind &u) { return par == u.par; }\n\tbool operator!=(const UnionFind &u) { return par != u.par; }\n};\n\n#endif\n\n#include <set>\n#include <string>\n#include <vector>\n#include <iostream>\nusing namespace std;\nvector<int> x, y; int t;\nbool same(vector<int> a, vector<int> b) {\n\tfor (int i = 0; i < 4; i++) {\n\t\tfor (int j = 0; j < 4; j++) {\n\t\t\tfor (int k = 0; k < 4; k++) {\n\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\tstring s;\n\t\t\t\t\tfor (int m = 0; m < i; m++) s += 'N';\n\t\t\t\t\tfor (int m = 0; m < j; m++) s += 'E';\n\t\t\t\t\tfor (int m = 0; m < k; m++) s += 'S';\n\t\t\t\t\tfor (int m = 0; m < l; m++) s += 'W';\n\t\t\t\t\tfor (int i = 0; i < s.size(); i++) {\n\t\t\t\t\t\tt = a[0];\n\t\t\t\t\t\tswitch (s[i]) {\n\t\t\t\t\t\tcase 'N':\n\t\t\t\t\t\t\ta[0] = a[1];\n\t\t\t\t\t\t\ta[1] = a[5];\n\t\t\t\t\t\t\ta[5] = a[4];\n\t\t\t\t\t\t\ta[4] = t;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'E':\n\t\t\t\t\t\t\ta[0] = a[3];\n\t\t\t\t\t\t\ta[3] = a[5];\n\t\t\t\t\t\t\ta[5] = a[2];\n\t\t\t\t\t\t\ta[2] = t;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'S':\n\t\t\t\t\t\t\ta[0] = a[4];\n\t\t\t\t\t\t\ta[4] = a[5];\n\t\t\t\t\t\t\ta[5] = a[1];\n\t\t\t\t\t\t\ta[1] = t;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'W':\n\t\t\t\t\t\t\ta[0] = a[2];\n\t\t\t\t\t\t\ta[2] = a[5];\n\t\t\t\t\t\t\ta[5] = a[3];\n\t\t\t\t\t\t\ta[3] = t;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (a == b) return true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\nint n; string s;\nint main() {\n\twhile (cin >> n, n) {\n\t\tvector<vector<int> > v(n, vector<int>(6));\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 6; j++) {\n\t\t\t\tcin >> s;\n\t\t\t\tv[i][j] = s[0];\n\t\t\t}\n\t\t}\n\t\tUnionFind uf(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\t\tif (same(v[i], v[j])) uf.unite(i, j);\n\t\t\t}\n\t\t}\n\t\tset<int> s_;\n\t\tfor (int i = 0; i < n; i++) s_.insert(uf.root(i));\n\t\tcout << n - s_.size() << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//http://qiita.com/Nabetani/items/f3cca410428f90333e28\n//http://nabetani.sakura.ne.jp/hena/ord12rotdice/\n#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\nint make_hash(vector<int> &cube)\n{\n    int ret;\n     \n    ret = 0;\n    for (int i = 0; i < 6; i++){\n        ret = ret * 6 + cube[i];\n    }\n     \n    return (ret);\n}\n\n// http://www.prefield.com/algorithm/misc/dice.html\nenum FACE { TOP, LEFT, FRONT, BACK, RIGHT, BOTTOM };\nclass dice {\npublic:\n  dice(vector<int>&v):id(v) {}\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_x2() { roll(TOP, FRONT, BOTTOM, BACK); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_y2() { roll(TOP, RIGHT, BOTTOM, LEFT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  void roll_z2() { roll(FRONT, LEFT, BACK, RIGHT); }\n  void all_rolls(set<int>&s){\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        s.insert(make_hash(id));\n  }\n  vector<int> id;\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    int tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n};\n\n\n\nint main(){\n\tmap<char,int>m;\n\tm['R']=0,m['Y']=1,m['B']=2,m['M']=3,m['G']=4,m['C']=5;\n\tstring str;\n\tint n,i,j,r,x;\n\tfor(;cin>>n,n;){\n\t\tset<int>s;\n\t\tfor(r=i=0;i<n;i++){\n\t\t\tvector<int>v;\n\t\t\tfor(j=0;j<6;j++)cin>>str,v.push_back(m[str[0]]);\n\t\t\tx=make_hash(v);\n\t\t\t//cout<<\"---\"<<x<<endl;\n\t\t\tif(s.find(x)!=s.end())r++;\n\t\t\telse{\n\t\t\t\tdice d(v);\n\t\t\t\td.all_rolls(s);\n\t\t\t}\n//set<int>::iterator it=s.begin();\n//for(;it!=s.end();it++,cout<<endl)cout<<(*it);\n\t\t}\n\t\tcout<<r<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nstruct kyu_bu{\n  string kyu[7];\n  bool h;\n};\nkyu_bu p[30];\nint main(){\n  int n,start,cou,index;\n  int roop[7]={0,2,3,4,5,6,1};\n  while(cin >> n){\n    if(n==0) break;\n    int count = 0;\n    for(int i=0;i<n;i++){\n      for(int j=1;j<=6;j++) cin >> p[i].kyu[j];\n      p[i].h = true;\n    }\n    for(int i=0;i<n;i++){\n      if(!p[i].h) continue;\n      for(int j=i+1;j<n;j++){\n\tif(!p[j].h) continue;\n\tbool ok = true;;\n\tfor(int g=1;g<=3;g++){\n\t  if(!ok) break;\n\t  for(int k=1;k<=6;k++){\n\t    if(p[i].kyu[g]==p[j].kyu[k]){\n\t      if(p[i].kyu[6-g+1]!=p[j].kyu[6-k+1]) ok = false;\n\t    }\n\t  }\n\t}\n\tif(ok) count++;\n      }\n    }\n    cout << count << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint main(){\n  char c1[30][10],c2[30][10],c3[30][10],c4[30][10],c5[30][10],c6[30][10];\n  int n;\n  while(1){\n    int flag=0;\n    int count=0;\n    int ans=0;\n    cin>>n;\n    if(n==0) break;\n    \n    for(int i=0;i<n;i++){\n      scanf(\"%s %s %s %s %s %s\",c1[i],c2[i],c3[i],c4[i],c5[i],c6[i]);\n    }\n    for(int i=0;i<n-1;i++){\n      for(int j=i+1;j<n;j++){\n\tif(strcmp(c6[i],c6[j])==0 && strcmp(c1[i],c1[j])==0){\n\t  count++;\n\t}\n      }\n    }\n    printf(\"%d\\n\",count);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\nusing namespace std;\n\nvoid shift(vector<char> &box, int set[4]){\n\tfor(int i = 0;i < 3;i++){\n\t\tswap(box[set[i]], box[set[i + 1]]);\n\t}\n}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tvector<char> box[30];\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tbox[i].resize(6);\n\t\t\tfor(int j = 0;j < 6;j++){\n\t\t\t\tstring in;\n\t\t\t\tcin >> in;\n\t\t\t\tbox[i][j] = in[0];\n\t\t\t}\n\t\t}\n\t\tint shiftSet[3][4] = {\n\t\t\t{1, 2, 4, 3},\n\t\t\t{0, 2, 5, 3},\n\t\t\t{0, 1 ,5, 4}\n\t\t};\n\t\tint ans = 0;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tfor(int j = i + 1;j < n;j++){\n\t\t\t\tvector<char> buf = box[j];\n\t\t\t\t//相手\n\t\t\t\tfor(int x = 0;x < 4;x++){\n\t\t\t\t\tfor(int y = 0;y < 4;y++){\n\t\t\t\t\t\tfor(int z = 0;z < 4;z++){\n\t\t\t\t\t\t\tif(box[i] == buf){\n\t\t\t\t\t\t\t\tans++;\n\t\t\t\t\t\t\t\tgoto END;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshift(buf, shiftSet[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshift(buf, shiftSet[1]);\n\t\t\t\t\t}\n\t\t\t\t\tshift(buf, shiftSet[2]);\n\t\t\t\t}\n\t\t\t}\nEND:;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\n#define rep(i,n)  for(int i=0; i<n; i++)\n\nstring rot1( string s ){\n\tstring res = s;\n\tres[0] = s[1];\n\tres[1] = s[5];\n\tres[5] = s[4];\n\tres[4] = s[0];\n\treturn res;\n}\n\nstring rot2( string s ){\n\tstring res = s;\n\tres[0] = s[2];\n\tres[2] = s[5];\n\tres[5] = s[3];\n\tres[3] = s[0];\n\treturn res;\n}\n\nstring rot3( string s ){\n\tstring res = s;\n\tres[1] = s[2];\n\tres[2] = s[4];\n\tres[4] = s[3];\n\tres[3] = s[1];\n\treturn res;\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n, n ){\n\t\tstring obj[30];\n\t\trep(i,n){\n\t\t\trep(j,6){\n\t\t\t\tstring in;\n\t\t\t\tcin >> in;\n\t\t\t\tobj[i] += in[0];\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\trep(i,n){\n\t\t\tfor(int j=i+1; j<n; j++){\n\t\t\t\tbool found = false;\n\t\t\t\trep(k,6){\n\t\t\t\t\trep(l,4){\n\t\t\t\t\t\tif( obj[i] == obj[j] ){\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tobj[j] = rot3(obj[j]);\n\t\t\t\t\t}\n\t\t\t\t\tif(found)\tbreak;\n\t\t\t\t\tif(k%2)\tobj[j] = rot1(obj[j]);\n\t\t\t\t\telse\tobj[j] = rot2(obj[j]);\n\t\t\t\t}\n\t\t\t\tif(found)\tcnt++;\n\t\t\t}\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n\nusing namespace std;\n\nint rot[6][4] = {{2, 4, 3, 1}, {2, 0, 3, 5}, {5, 4, 0, 1}, {0, 4, 5, 1}, {2, 5, 3, 0}, {3, 4, 2, 1}};\n\nstring board[30][6];\n\nbool same(int a, int b)\n{\n\tfor (int i = 0; i < 6; i++){\n\t\tfor (int j = 0; j < 6; j++){\n\t\t\tif (board[a][i] != board[b][j]) continue;\n\t\t\tfor (int dx = 0; dx < 4; dx++){\n\t\t\t\tbool same = true;\n\t\t\t\tfor (int k = 0; k < 4; k++){\n\t\t\t\t\tif (board[a][rot[i][(k + dx) % 4]] != board[b][rot[j][k]])\n\t\t\t\t\t\tsame = false;\n\t\t\t\t}\n\t\t\t\tif (same) return (true);\n\t\t\t}\n\t\t}\n\t}\n\treturn (false);\n}\n\nint main()\n{\n\tint n;\n\twhile (scanf(\"%d\", &n) && n){\n\t\tint ct = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 6; j++){\n\t\t\t\tchar tmp[64];\n\t\t\t\tscanf(\"%s\", tmp);\n\t\t\t\tboard[i][j] = tmp;\n\t\t\t}\n\t\t\tbool ok = true;\n\t\t\tfor (int j = 0; j < i; j++) if (same(i, j)) ok = false;\n\t\t\tct += ok;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", n - ct);\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Dice {\n\tvector<int> val;\n\tDice(){ val.resize(6); }\n\tbool operator == (const Dice &t) const {\n\t\treturn val == t.val;\n\t}\n\tbool operator != (const Dice &t) const {\n\t\treturn val != t.val;\n\t}\n\tbool operator < (const Dice &t) const {\n\t\treturn val < t.val;\n\t}\n\tvoid rotate_right(){\n\t\tint tmp = val[1];\n\t\tval[1] = val[2];\n\t\tval[2] = val[4];\n\t\tval[4] = val[3];\n\t\tval[3] = tmp;\n\t}\n\tvoid roll_front(){\n\t\tint tmp = val[0];\n\t\tval[0] = val[1];\n\t\tval[1] = val[5];\n\t\tval[5] = val[4];\n\t\tval[4] = tmp;\n\t}\n\tvoid roll_right(){\n\t\tint tmp = val[0];\n\t\tval[0] = val[3];\n\t\tval[3] = val[5];\n\t\tval[5] = val[2];\n\t\tval[2] = tmp;\n\t}\n\tvector<Dice> all_pattern(){\n\t\tvector<Dice> res;\n\t\tDice d = *this;\n\t\tfor (int i = 0; i < 6; i++){\n\t\t\tfor (int j = 0; j < 4; j++){\n\t\t\t\tres.push_back(d);\n\t\t\t\td.rotate_right();\n\t\t\t}\n\t\t\tif (i == 0) d.roll_front();\n\t\t\telse if (i < 5) d.roll_right();\n\t\t\telse d.roll_front();\n\t\t}\n\t\treturn res;\n\t}\n};\n\nstruct UnionFind {\n\tvector<int> parent;\n\t\n\tUnionFind(int n){\n\t\tparent.resize(n);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tparent[i] = i;\n\t\t}\n\t}\n\t\n\tint find(int x){\n\t\tif (parent[x] == x) return x;\n\t\treturn parent[x] = find(parent[x]);\n\t}\n\t\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n\t\n\tbool unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif (x == y) return false;\n\t\tparent[x] = y;\n\t\treturn true;\n\t}\n};\n\nmap<string, int> ctoi;\nint n;\nvector<Dice> dices;\n\nbool check(const vector<Dice> &A, const vector<Dice> &B)\n{\n\tfor (int i = 0; i < A.size(); i++){\n\t\tfor (int j = 0; j < B.size(); j++){\n\t\t\tif (A[i] == B[j]) return true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvoid solve()\n{\n\tvector<vector<Dice> > pats;\n\tUnionFind uf(n);\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tpats.push_back(dices[i].all_pattern());\n\t}\n\t\n\tint res = 0;\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tfor (int j = i + 1; j < n; j++){\n\t\t\tvector<Dice> &A = pats[i];\n\t\t\tvector<Dice> &B = pats[j];\n\t\t\tif (check(A, B)){\n\t\t\t\tres += uf.unite(i, j);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\", res);\n}\n\nint main()\n{\n\tctoi[\"Red\"] = 0;\n\tctoi[\"Yellow\"] = 1;\n\tctoi[\"Blue\"] = 2;\n\tctoi[\"Magenta\"] = 3;\n\tctoi[\"Green\"] = 4;\n\tctoi[\"Cyan\"] = 5;\n\t\n\twhile (scanf(\"%d\", &n), n){\n\t\tdices.clear();\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tDice d;\n\t\t\tfor (int j = 0; j < 6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\t\t\t\td.val[j] = ctoi[str];\n\t\t\t}\n\t\t\tdices.push_back(d);\n\t\t}\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <set>\nusing namespace std;\n\n// http://www.prefield.com/algorithm/misc/dice.html\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\nclass dice {\npublic:\n\tdice(int top,int front,int right,int left,int back,int bottom) {\n\t\tid[TOP] = top; id[FRONT] = front; id[RIGHT] = right;\n\t\tid[LEFT] = left; id[BACK] = back; id[BOTTOM] = bottom;\n\t}\n\tint& operator[] (FACE f) { return id[f]; }\n\tconst int& operator[] (FACE f) const { return id[f]; }\n\tbool operator==(const dice &b) const {\n\t\tconst dice &a = *this;\n\t\treturn a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n\t\t\ta[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n\t\t\t a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n\t}\n\tvoid roll_north() { roll(TOP, FRONT, BOTTOM, BACK); }\n\tvoid roll_south() { roll(TOP, BACK, BOTTOM, FRONT); }\n\tvoid roll_east() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n\tvoid roll_west() { roll(TOP, RIGHT, BOTTOM, LEFT); }\n\tvoid roll_right() { roll(FRONT, LEFT, BACK, RIGHT); }\n\tvoid roll_left() { roll(FRONT, RIGHT, BACK, LEFT); }\n\tvoid all_rolls(set<long long> &s){\n\t\tfor (int k = 0; k < 6; (k&1?roll_east():roll_north()),++k)\n\t\t\tfor (int i = 0; i < 4; roll_right(), ++i)\n\t\t\t\ts.insert(((long long)id[TOP]<<40) | ((long long)id[FRONT]<<32) | (id[RIGHT]<<24) | (id[LEFT]<<16) | (id[BACK]<<8) | (id[BOTTOM]<<0));\n\t}\nprivate:\n\tvoid roll(FACE a, FACE b, FACE c, FACE d){\n\t\tint tmp = id[a];\n\t\tid[a] = id[b]; id[b] = id[c];\n\t\tid[c] = id[d]; id[d] = tmp;\n\t}\n\tint id[6];\n};\n\nint main(){\n\tstring str;\n\tint d[6];\n\tint n,i,j,r;\n\tfor(;cin>>n,n;){\n\t\tset<long long>s;\n\t\tfor(r=i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++)cin>>str,d[j]=str[0];\n\t\t\tlong long x=((long long)d[0]<<40) | ((long long)d[1]<<32) | (d[2]<<24) | (d[3]<<16) | (d[4]<<8) | (d[5]<<0);\n\t\t\tif(s.find(x)!=s.end())r++;\n\t\t\telse{\n\t\t\t\tdice di(d[0],d[1],d[2],d[3],d[4],d[5]);\n\t\t\t\tdi.all_rolls(s);\n\t\t\t}\n\t\t}\n\t\tcout<<r<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n\nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\nvoid RolL(BOX& B) {\n  string temp = B.left;\n  B.left = B.top;\n  B.top = B.right;\n  B.right = B.buttom;\n  B.buttom = temp;\n}\n\n\nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      for(int m = 0; m < 4; m++) {\n        RolL(a);\n        if(a == b) return(true);\n      }\n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    boxes.resize(n);\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    int ret = 0;\n    for(int i = 0; i < n; i++) {\n      for(int j = i + 1; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) ++ret;\n      }\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "# define _CRT_SECURE_NO_WARNINGS 1\n# define _USE_MATH_DEFINES\n# include <iostream>\n# include <numeric>\n# include <string>\n# include <bitset>\n# include <vector>\n# include <algorithm>\n# include <cstdlib>\n# include <cstdio>\n# include <cstring>\n# include <cstdlib>\n# include <iomanip>\n# include <queue>\n# include <sstream>\n# include <climits>\n# include <complex>\n# include <cmath>\n# include <list>\n# include <functional>\n# include <string>\n# include <ctime>\n# include <set>\n# include <forward_list>\n# include <map>\n# include <stack>\nusing namespace std;\n# define INF ((int)(1<<25))\n# define REP(i,n) for(int i=0;i<(int)n;i++)\n# define FOR(i,n) REP(i,n)\n# define FORI(i,k,n) for(int i=k;i<(int)n;i++)\n# define TORAD 2.0*M_PI/360.0\n# define INT(x) int x;cin>>x;\n# define ALL(x) begin(x),end(x)\n# define RALL(x) (x).rbegin(),(x).rend()\n# define DEBUG(x) cout<<#x<<\":\"<<x<<endl;\n# define EPS 1e-12\n#ifdef _MSC_VER\n#include <intrin.h>\n#define __builtin_popcount __popcnt\n#endif\ntypedef long long lint;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef pair<int, pii> piii;\nconst int dx[4] = { 0,1,0,-1 }, dy[4] = { -1,0,1,0 };\ntemplate<class T> void debug(T a) { for (auto i : a)cout << i << endl; }\n\nstruct dice\n{\n\tstring o;\n\tvs a;\n\tdice(string _a)\n\t{\n\t\to = _a;\n\t\tinit();\n\t}\n\tstring & operator[](int n) { return a[n]; }\n\n\tvoid init()\n\t{\n\t\tstring s;\n\t\tint d[6][10] = { { -1 },{ 1,-1 },{ 0,0,0,1,-1 },{ 0,1,-1 },{ 0,0,1,-1 },{ 1,1,-1 } };\n\t\tFOR(i, 6)\n\t\t{\n\t\t\ts = o;\n\t\t\tFOR(j, 10)\n\t\t\t{\n\t\t\t\tif (d[i][j] == -1)break;\n\t\t\t\tif (d[i][j] == 1)sn(s);\n\t\t\t\telse se(s);\n\t\t\t}\n\t\t\tFOR(j, 4)\n\t\t\t{\n\t\t\t\ta.push_back(s);\n\t\t\t\tse(s);\n\t\t\t}\n\t\t}\n\t}\n\n\tvoid sn(string &s)\n\t{\n\t\tswap(s[1], s[5]);\n\t\tswap(s[2], s[1]);\n\t\tswap(s[6], s[2]);\n\t}\n\tvoid se(string &s)\n\t{\n\t\tswap(s[2], s[3]);\n\t\tswap(s[4], s[2]);\n\t\tswap(s[5], s[4]);\n\t}\n};\n\nint main()\n{\n\tint n;\n\twhile (cin >> n, n)\n\t{\n\t\tvector<dice> a;\n\t\tFOR(i, n)\n\t\t{\n\t\t\tstring o=\" \";\n\t\t\tFOR(j, 6)\n\t\t\t{\n\t\t\t\tstring s; cin >> s;\n\t\t\t\to += s[0];\n\t\t\t}\n\t\t\tdice d(o);\n\t\t\tbool ok = true;\n\t\t\tFOR(j, a.size())\n\t\t\t{\n\t\t\t\tFOR(k, a[j].a.size())\n\t\t\t\t{\n\t\t\t\t\tif (o == a[j][k])ok = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ok)a.push_back(d);\n\t\t}\n\t\tcout << n - a.size() << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#define lol(i,n) for(int i=0;i<n;i++)\n#define mod 1000000007\ntypedef long long ll;\nusing namespace std;\nstring s[50][6];\nint d[12][6]={\n  {0,1,2,3,4,5},\n  {0,2,3,4,1,5},\n  {0,3,4,1,2,5},\n  {0,4,1,2,3,5},\n  \n  {0,1,2,3,4,5},\n  {3,1,0,5,4,2},\n  {5,1,3,2,4,0},\n  {2,1,5,0,4,3},\n  \n  {0,1,2,3,4,5},\n  {1,4,2,3,5,0},\n  {4,5,2,3,0,1},\n  {5,0,2,3,1,4}\n};\nint main(){\n  int n;\n  while(cin>>n&&n){\n    int ans=0;\n    lol(i,n){\n      lol(j,6)cin>>s[i][j];\n      bool same=false;\n      lol(j,i){\n\tlol(r,12){\n\t  bool ok=true;\n\t  lol(k,6){\n\t    if(s[i][k]!=s[j][d[r][k]])ok=false;\n\t  }\n\t  if(ok)same=true;\n\t}\n      }\n      if(same)ans++;\n    }\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint main(void)\n{\n\tint n,f[30],i,j,k,x,cnt,l,flg;\n\tchar pat1[7],pat2[7];\n\tchar a[30][6],buf[10],wk;\n\twhile(1)\t{\n\t\tscanf(\" %d\",&n);\n\t\tif(n==0)\tbreak;\n\t\tfor(i=0;i<n;i++)\t{\n\t\t\tfor(j=0;j<6;j++)\t{\n\t\t\t\tscanf(\"%s\",buf);\n\t\t\t\ta[i][j]=buf[0];\n\t\t\t}\n\t\t}\n//\t\tfor(i=0;i<n;i++)\t{\n//\t\t\tfor(j=0;j<6;j++)\tprintf(\"%c\",a[i][j]);\n//\t\t\tprintf(\"\\n\");\n//\t\t}\n\t\tpat1[6]='\\0';\tpat2[6]='\\0';\n\t\tfor(i=0;i<n;i++)\tf[i]=0;\n\t\tfor(i=0;i<n-1;i++)\t{\n\t\t\tfor(j=i+1;j<n;j++)\t{\n\t\t\t\tfor(k=0;k<6;k++)\t{\n\t\t\t\t\tpat1[k]=a[i][k];\n\t\t\t\t\tpat2[k]=a[j][k];\n\t\t\t\t}\n\t\t\t\tflg=0;\n\t\t\t\tfor(k=0;k<4;k++)\t{\n\t\t\t\t\twk=pat1[0];\n\t\t\t\t\tpat1[0]=pat1[2];\n\t\t\t\t\tpat1[2]=pat1[5];\n\t\t\t\t\tpat1[5]=pat1[3];\n\t\t\t\t\tpat1[3]=wk;\n\t\t\t\t\tfor(l=0;l<4;l++)\t{\n\t\t\t\t\t\twk=pat1[1];\n\t\t\t\t\t\tpat1[1]=pat1[3];\n\t\t\t\t\t\tpat1[3]=pat1[4];\n\t\t\t\t\t\tpat1[4]=pat1[2];\n\t\t\t\t\t\tpat1[2]=wk;\n\t\t\t\t\t\tif(strcmp(pat1,pat2)==0)\t{\n\t\t\t\t\t\t\tflg=1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(k=0;k<4;k++)\t{\n\t\t\t\t\twk=pat1[0];\n\t\t\t\t\tpat1[0]=pat1[1];\n\t\t\t\t\tpat1[1]=pat1[5];\n\t\t\t\t\tpat1[5]=pat1[4];\n\t\t\t\t\tpat1[4]=wk;\n\t\t\t\t\tfor(l=0;l<4;l++)\t{\n\t\t\t\t\t\twk=pat1[1];\n\t\t\t\t\t\tpat1[1]=pat1[3];\n\t\t\t\t\t\tpat1[3]=pat1[4];\n\t\t\t\t\t\tpat1[4]=pat1[2];\n\t\t\t\t\t\tpat1[2]=wk;\n\t\t\t\t\t\tif(strcmp(pat1,pat2)==0)\t{\n\t\t\t\t\t\t\tflg=1;\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(flg==1)\t{\n\t\t\t\t\tf[j]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcnt=0;\n\t\tfor(i=0;i<n;i++)\tcnt+=f[i];\n\t\tprintf(\"%d\\n\",cnt);\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<math.h>\nint main(void)\n{\n\tint a,s[31][7],d[31],f[31],g,h,i,j,k,l,o,x;\n\tchar z[31][7][10];\n\twhile(1){\n\t\tscanf(\"%d\",&a);\n\t\tif(a==0) break;\n\t\tfor(i=0;i<a;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",z[i][j]);\n\t\t\t\tif(z[i][j][0]=='R') s[i][j]=0;\n\t\t\t\tif(z[i][j][0]=='Y') s[i][j]=1;\n\t\t\t\tif(z[i][j][0]=='B') s[i][j]=2;\n\t\t\t\tif(z[i][j][0]=='M') s[i][j]=3;\n\t\t\t\tif(z[i][j][0]=='G') s[i][j]=4;\n\t\t\t\tif(z[i][j][0]=='C') s[i][j]=5;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<a;i++) f[i]=0;\n\t\tg=0;\n\t\tfor(i=0;i<a-1;i++){\n\t\t\tif(f[i]==0){\n\t\t\t\tfor(j=i+1;j<a;j++){\n\t\t\t\t\tx=0;\n\t\t\t\t\tfor(k=0;k<5;k++){\n\t\t\t\t\t\th=s[j][0];\n\t\t\t\t\t\ts[j][0]=s[j][1];\n\t\t\t\t\t\ts[j][1]=s[j][5];\n\t\t\t\t\t\ts[j][5]=s[j][4];\n\t\t\t\t\t\ts[j][4]=h;\n\t\t\t\t\t\tfor(l=0;l<5;l++){\n\t\t\t\t\t\t\th=s[j][1];\n\t\t\t\t\t\t\ts[j][1]=s[j][2];\n\t\t\t\t\t\t\ts[j][2]=s[j][4];\n\t\t\t\t\t\t\ts[j][4]=s[j][3];\n\t\t\t\t\t\t\ts[j][3]=h;\n\t\t\t\t\t//\t\tfor(o=0;o<6;o++) printf(\"%d %d\\n\",s[i][o],s[j][o]);\n\t\t\t\t\t\t\t\n\t\t\t\t\t//\t\tprintf(\"\\n\\n\");\n\t\t\t\t\t\t\tfor(o=0;o<6;o++){\n\t\t\t\t\t\t\t\tif(s[i][o]!=s[j][o]) break;\n\t\t\t\t\t\t\t\telse x++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(x==6){\n\t\t\t\t\t\t\t\tf[j]=1;\n\t\t\t\t\t\t\t\tg++;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(f[j]==1) break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t//\tprintf(\"\\n\\n\");\n\t\t}\n\t\tprintf(\"%d\\n\",g);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint box[30][6];\nbool turn(int x,int change[6],int a,int b,int c,int d){\n  int temp;\n  //手前\n  for(int i=0;i<a;i++){\n    temp=change[0];\n    change[0]=change[4];\n    change[4]=change[5];\n    change[5]=change[1];\n    change[1]=temp;\n    if(change[0]==box[x][0] && change[1]==box[x][1] && change[2]==box[x][2] && change[3]==box[x][3] && change[4]==box[x][4] && change[5]==box[x][5]){\n      return true;\n    }\n  }\n  \n  for(int i=0;i<b;i++){\n    temp=change[0];\n    change[0]=change[1];\n    change[1]=change[5];\n    change[5]=change[4];\n    change[4]=temp;\n    if(change[0]==box[x][0] && change[1]==box[x][1] && change[2]==box[x][2] && change[3]==box[x][3] && change[4]==box[x][4] && change[5]==box[x][5]){\n      return true;\n    }\n  }\n  for(int i=0;i<c;i++){\n    temp=change[0];\n    change[0]=change[3];\n    change[3]=change[5];\n    change[5]=change[2];\n    change[2]=temp;\n    if(change[0]==box[x][0] && change[1]==box[x][1] && change[2]==box[x][2] && change[3]==box[x][3] && change[4]==box[x][4] && change[5]==box[x][5]){\n      return true;\n    }\n  }\n  for(int i=0;i<d;i++){\n    temp=change[0];\n    change[0]=change[2];\n    change[2]=change[5];\n    change[5]=change[3];\n    change[3]=temp;\n    if(change[0]==box[x][0] && change[1]==box[x][1] && change[2]==box[x][2] && change[3]==box[x][3] && change[4]==box[x][4] && change[5]==box[x][5]){\n      return true;\n    }\n  }\n  if(change[0]==box[x][0] && change[1]==box[x][1] && change[2]==box[x][2] && change[3]==box[x][3] && change[4]==box[x][4] && change[5]==box[x][5]){\n    return true;\n  }\n  return false;\n}\nint main(){\n  int n;\n  while(cin>> n,n){\n    int ans=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tstring s;\n\tcin>> s;\n\tif(s==\"Red\") box[i][j]=0;\n\telse if(s==\"Yellow\")  box[i][j]=1;\n\telse if(s==\"Blue\")    box[i][j]=2;\n\telse if(s==\"Magenta\") box[i][j]=3;\n\telse if(s==\"Green\")   box[i][j]=4;\n\telse if(s==\"Cyan\")    box[i][j]=5;\n      }\n    }\n    \n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n\tif(i==j) continue;\n\tint change[6];\n\tchange[0]=box[j][0]; change[1]=box[j][1];\n\tchange[2]=box[j][2]; change[3]=box[j][3];\n\tchange[4]=box[j][4]; change[5]=box[j][5];\n\tfor(int a=0;a<4;a++){\n\t  for(int b=0;b<4;b++){\n\t    for(int c=0;c<4;c++){\n\t      for(int d=0;d<4;d++){\n\t\tif(turn(i,change,a,b,c,d)){\n\t\t  ans++;\n\t\t  a=4;b=4;c=4;d=4;\n\t\t}\n\t      }\n\t    }\n\t  }\n\t}\n      }\n    }\n    cout<< ans/2<< endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nenum Color {\n    Red, Yellow, Blue,\n    Magenta, Green, Cyan\n};\n\nstruct Dice {\n    Color dice[6];\n};\n\nbool Rotate(const Dice &a, Dice &b, int d)\n{\n    if (d == 1) {\n        swap(b.dice[0], b.dice[4]);\n        swap(b.dice[0], b.dice[1]);\n    }\n    else if (d == 2) {\n        swap(b.dice[0], b.dice[3]);\n        swap(b.dice[0], b.dice[2]);\n        swap(b.dice[2], b.dice[5]);\n    }\n    else if (d == 3) {\n        swap(b.dice[0], b.dice[2]);\n        swap(b.dice[0], b.dice[5]);\n        swap(b.dice[0], b.dice[3]);\n    }\n    else if (d == 4) {\n        swap(b.dice[0], b.dice[1]);\n        swap(b.dice[0], b.dice[4]);\n    }\n    else if (d == 5) {\n        swap(b.dice[0], b.dice[5]);\n        swap(b.dice[2], b.dice[3]);\n    }\n\n    if (a.dice[5] != b.dice[5])\n        return false;\n\n    for (int i = 0; i < 3; ++i) {\n        bool flag = true;\n        for (int j = 0; j < 6; ++j)\n            if (a.dice[j] != b.dice[j]) {\n                flag = false;\n                break;\n            }\n        if (flag)\n            return true;\n\n        for (int j = 1; j <= 3; ++j)\n            swap(b.dice[j], b.dice[j + 1]);\n    }\n\n    return false;\n}\n\nbool isSame(const Dice &a, Dice &b)\n{\n    for (int i = 0; i < 6; ++i)\n        if (a.dice[0] == b.dice[i]) {\n            if (Rotate(a, b, i))\n                return true;\n        }\n\n    return false;\n}\n\nint main()\n{\n    int n;\n\n    while (cin >> n, n) {\n        Dice obj[n];\n        string inp;\n\n        for (int i = 0; i < n; ++i)\n            for (int j = 0; j < 6; ++j) {\n                cin >> inp;\n\n                if (inp == \"Red\")\n                    obj[i].dice[j] = Red;\n                else if (inp == \"Yellow\")\n                    obj[i].dice[j] = Yellow;\n                else if (inp == \"Blue\")\n                    obj[i].dice[j] = Blue;\n                else if (inp == \"Magenta\")\n                    obj[i].dice[j] = Magenta;\n                else if (inp == \"Green\")\n                    obj[i].dice[j] = Green;\n                else if (inp == \"Cyan\")\n                    obj[i].dice[j] = Cyan;\n            }\n\n        vector<bool> used(n, false);\n        int same = 0;\n        for (int i = 0; i < n; ++i) {\n            if (!used[i])\n                for (int j = i + 1; j < n; ++j) {\n                    if (isSame(obj[i], obj[j])) {\n                        used[j] = true;\n                        ++same;\n                    }\n                }\n        }\n\n        cout << same << endl;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        vector<vector<string>> v;\n        for(int j=0; j < n; j++){\n            vector<string> c(6);\n            for(int i=0; i< 6; i++){\n                cin >> c[i];\n            }\n            string a, b, d;\n            a = c[0] + c[5]; b = c[1] + c[4]; d = c[2] + c[3];\n            sort(a.begin(), a.end());\n            sort(b.begin(), b.end());\n            sort(d.begin(), d.end());\n            vector<string> p(3);\n            p[0] = a; p[1] = b; p[2] = d;\n            sort(p.begin(), p.end());\n            bool is = false;\n            for(int i=0; i < v.size(); i++) if(v[i] == p) is = true;\n            if(!is)v.push_back(p);\n        }\n        cout << n-v.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\ntypedef std::pair<int,P> State;\n\nconst int INF = 1001001001;\n\n// S N E W(南北東西)\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\nconst int MAX_N = 30;\n\nclass UnionFind{\npublic:\n    UnionFind(){}\n    UnionFind(int n){\n        REP(i, n){\n            par[i] = i;\n            rank[i] = 0;\n        }\n    }\n    int find(int x){\n        if(x == par[x])return x;\n        return par[x] = find(par[x]);\n    }\n    bool same(int x, int y){\n        return find(x) == find(y);\n    }\n    void unite(int x, int y){\n        x = find(x);\n        y = find(y);\n        if(x == y){return;}\n        \n        if(rank[x] > rank[y]){\n            par[y] = x;\n        }else{\n            par[x] = y;\n            if(rank[x] == rank[y]){rank[y]++;}\n        }\n    }\nprivate:\n    int rank[MAX_N], par[MAX_N];\n};\n\nint N;\nint dices[30][6];\nstd::string colors[6] = {\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\nconst std::vector<int> route[] = {\n    {0, 1, 5, 4},\n    {1, 2, 4, 3}\n}, remaining[] = {{2, 3}, {0, 5}};\n\nbool same(int i, int j){\n    // a: ルート, b: 始点, c: 方向\n    REP(a, 2){\n        REP(b, 4){\n            REP(c, 2){\n                REP(d, 2){\n                    REP(e, 4){\n                        REP(f, 2){\n                            int x = b, y = e;\n                            bool can = true;\n                            REP(g, 4){\n                                if(dices[i][route[a][x]] != dices[j][route[d][y]]){can = false; break;}\n                                x = (x + dy[c] + 4) % 4; y = (y + dy[f] + 4) % 4;\n                            }\n                            if(!can){continue;}\n                            if((dices[i][remaining[a][0]] == dices[j][remaining[d][0]] &&\n                                dices[i][remaining[a][1]] == dices[j][remaining[d][1]]) ||\n                               (dices[i][remaining[a][0]] == dices[j][remaining[d][1]] &&\n                                dices[i][remaining[a][1]] == dices[j][remaining[d][0]])){\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return false;\n}\n\nint main(){\n    while(std::cin >> N, N){\n        UnionFind uf(N);\n\n        REP(i, N){\n            REP(j, 6){\n                std::string s;\n                std::cin >> s;\n\n                REP(k, 6){\n                    if(s == colors[k]){dices[i][j] = k;}\n                }\n            }\n        }\n\n        REP(i, N){\n            FOR(j, i+1, N){\n                if(same(i, j)){\n                    uf.unite(i, j);\n                }\n            }\n        }\n\n        int res = N;\n        REP(i, N){\n            if(i == uf.find(i)){res -= 1;}\n        }\n\n        std::cout << res << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<string>\n#include<vector>\n#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nvoid rotx(vector<int> &cube)\n{\n\tvector<int> tmp=cube;\n\tcube[0]=tmp[3];\n\tcube[1]=tmp[1];\n\tcube[2]=tmp[0];\n\tcube[3]=tmp[5];\n\tcube[4]=tmp[4];\n\tcube[5]=tmp[2];\n}\n\nvoid roty(vector<int> &cube)\n{\n\tvector<int> tmp=cube;\n\tcube[0]=tmp[1];\n\tcube[1]=tmp[5];\n\tcube[2]=tmp[2];\n\tcube[3]=tmp[3];\n\tcube[4]=tmp[0];\n\tcube[5]=tmp[4];\n}\n\nint main()\n{\n\tmap<string,int> mp;\n\tmp[\"Red\"]=0;\n\tmp[\"Yellow\"]=1;\n\tmp[\"Blue\"]=2;\n\tmp[\"Magenta\"]=3;\n\tmp[\"Green\"]=4;\n\tmp[\"Cyan\"]=5;\n\n\tfor(int n;cin>>n,n;){\n\t\tvector< vector<int> > cube(n);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<int> c(6);\n\t\t\tstring s;\n\t\t\tfor(int j=0;j<6;j++)\tcin>>s,c[j]=mp[s];\n\n\t\t\tvector<int> cmax=c;\n\t\t\tfor(int x=0;x<4;x++,rotx(c))\n\t\t\t\tfor(int y=0;y<4;y++,roty(c))cmax=max(cmax,c);\n\t\t\troty(c);\n\t\t\trotx(c);\n\t\t\tfor(int y=0;y<4;y++,roty(c))\tcmax=max(cmax,c);\n\t\t\trotx(c);\n\t\t\trotx(c);\n\t\t\tfor(int y=0;y<4;y++,roty(c))\tcmax=max(cmax,c);\n\n\t\t\tcube[i]=cmax;\n\t\t}\n\t\tsort(cube.begin(),cube.end());\n\t\tcube.erase(unique(cube.begin(),cube.end()),cube.end());\n\t\tcout<<n-cube.size()<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<set>\n#include<string>\nusing namespace std;\nset<string> memo;\n\nvoid flatRound(string& xai)\n{\n\tchar t=xai[2];\n\txai[2]=xai[1];\n\txai[1]=xai[3];\n\txai[3]=xai[4];\n\txai[4]=t;\n\tmemo.insert(xai);\n}\n\nvoid northRound(string& xai)\n{\n\tchar t=xai[0];\n\txai[0]=xai[1];\n\txai[1]=xai[5];\n\txai[5]=xai[4];\n\txai[4]=t;\n}\n\nvoid eastRound(string& xai)\n{\n\tchar t=xai[0];\n\txai[0]=xai[3];\n\txai[3]=xai[5];\n\txai[5]=xai[2];\n\txai[2]=t;\n}\n\nvoid allRoundIn(string xai)\n{\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tfor(int j=0;j<4;j++)\n\t\t{\n\t\t\tflatRound(xai);\n\t\t}\n\t\teastRound(xai);\n\t}\n\tnorthRound(xai);\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tflatRound(xai);\n\t}\n\tnorthRound(xai);\n\tnorthRound(xai);\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tflatRound(xai);\n\t}\n}\n\nvoid setData(int n)\n{\n\tchar text[8];\n\tstring xai = \"000000\";\n\tint redundancy=0;\n\tmemo.clear();\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tfor(int j=0;j<6;j++)\n\t\t{\n\t\t\tscanf(\"%s\",text);\n\t\t\txai[j]=text[0];\n\t\t}\n\t\tif(memo.find(xai)==memo.end())\n\t\t{\n\t\t\tallRoundIn(xai);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tredundancy++;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",redundancy);\n}\n\nint main()\n{\n\tint n;\n\twhile(1)\n\t{\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0) break;\n\t\tsetData(n);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n\n#pragma warning(disable:4996)\nusing namespace std;\n\nconst int N=30;\nvector<int>rot_l(vector<int>&v) {\n\tint k=v[1];\n\tv[1]=v[2];\n\tv[2]=v[4];\n\tv[4]=v[3];\n\tv[3]=k;\n\treturn v;\n}\nvector<int>rot_u(vector<int>&v) {\n\tint k=v[1];\n\tv[1]=v[0];\n\tv[0]=v[4];\n\tv[4]=v[5];\n\tv[5]=k;\n\treturn v;\n}\nvector<int>zero_top(vector<int>v) {\n\t{\n\t\tint x = find(v.begin(), v.end(), 0) - v.begin();\n\t\tif (x == 0) {\n\n\t\t}\n\t\telse if (x == 1) {\n\t\t\trot_u(v);\n\t\t\trot_u(v);\n\t\t\trot_u(v);\n\t\t}\n\t\telse if (x == 5) {\n\t\t\trot_u(v);\n\t\t\trot_u(v);\n\t\t\t\n\t\t}\n\t\telse if (x == 4) {\n\t\t\trot_u(v);\n\t\t}\n\t\telse if (x == 2) {\n\t\t\trot_l(v); \n\t\t\trot_u(v);\n\t\t\trot_u(v);\n\t\t\trot_u(v);\n\t\t}\n\t\telse if (x == 3) {\n\t\t\trot_l(v);\n\t\t\trot_u(v);\n\t\t}\n\t}\n\tassert(v[0]==0);\n\treturn v;\n}\nbool same(vector<int>l, vector<int>r) {\n\tl=zero_top(l);\n\tr=zero_top(r);\n\tfor (int i = 0; i < 4; ++i) {\n\t\tif(l==r)return true;\n\t\trot_l(l);\n\t}\n\treturn false;\n}\n\nint main() {\n\twhile (true) {\n\t\tint N; cin >> N;if(!N)break;\n\t\tvector<vector<int>>cubes;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tstring color_st = \"MRYBGC\";\n\t\t\tvector<int>v;\n\t\t\tfor (int j = 0; j < 6; ++j) {\n\t\t\t\tstring st; cin >> st;\n\t\t\t\tint k = color_st.find(st[0]);\n\t\t\t\tv.push_back(k);\n\t\t\t}\n\t\t\tbool ok=true;\n\t\t\tfor (auto cube : cubes) {\n\t\t\t\tif(same(cube,v))ok=false;\n\t\t\t}\n\t\t\tif (ok) {\n\t\t\t\tcubes.emplace_back(v);\n\t\t\t}\n\t\t}\n\t\tcout<<N-cubes.size()<<endl;\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <vector>\n#include <string>\nusing namespace std;\nclass Cube{\npublic:\n\tint c[6];\n\tCube(){}\n\tbool operator == (const Cube &p) const{\n\t\tfor(int i=0;i<6;i++)if(c[i]!=p.c[i])return false;\n\t\treturn true;\n\t}\n\tvoid r1(){\n\t\tint tmp[6];\n\t\tfor(int i=0;i<6;i++)tmp[i]=c[i];\n\t\tc[0]=tmp[4];\n\t\tc[1]=tmp[0];\n\t\tc[4]=tmp[5];\n\t\tc[5]=tmp[1];\n\t\treturn;\n\t}\n\tvoid r2(){\n\t\tint tmp[6];\n\t\tfor(int i=0;i<6;i++)tmp[i]=c[i];\n\t\tc[0]=tmp[2];\n\t\tc[2]=tmp[5];\n\t\tc[3]=tmp[0];\n\t\tc[5]=tmp[3];\n\t\treturn;\n\t}\n\tvoid r3(){\n\t\tint tmp[6];\n\t\tfor(int i=0;i<6;i++)tmp[i]=c[i];\n\t\tc[1]=tmp[3];\n\t\tc[2]=tmp[1];\n\t\tc[3]=tmp[4];\n\t\tc[4]=tmp[2];\n\t\treturn;\n\t}\n};\nbool onaji(Cube &a,Cube &b){\n\tfor(int i=0;i<4;i++){\n\t\tfor(int j=0;j<4;j++){\n\t\t\tif(a==b)return true;\n\t\t\ta.r1();\n\t\t}\n\t\ta.r2();\n\t}\n\ta.r3();\n\tfor(int j=0;j<4;j++){\n\t\tif(a==b)return true;\n\t\ta.r1();\n\t}\n\ta.r3();a.r3();\n\tfor(int j=0;j<4;j++){\n\t\tif(a==b)return true;\n\t\ta.r1();\n\t}\n\treturn false;\n}\nint GetID(string s){\n\tif(s==\"Red\")return 1;\n\tif(s==\"Yellow\")return 2;\n\tif(s==\"Blue\")return 3;\n\tif(s==\"Magenta\")return 4;\n\tif(s==\"Green\")return 5;\n\tif(s==\"Cyan\")return 6;\n}\nint main()\n{\n\tint n;\n\twhile(cin>>n&&n){\n\t\tCube sta[30];\n\t\tvector<Cube> ans;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tstring s;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin>>s;\n\t\t\t\tsta[i].c[j]=GetID(s);\n\t\t\t}\n\t\t\tbool neww=true;\n\t\t\tfor(auto it=ans.begin();it<ans.end();it++){\n\t\t\t\tCube tmp;tmp=ans.at(it-ans.begin());\n\t\t\t\tif(onaji(tmp,sta[i]))neww=false;\n\t\t\t}\n\t\t\tif(neww)ans.push_back(sta[i]);\n\t\t}\n\t\tcout<<n-(int)ans.size()<<endl;\n\t}\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\nusing namespace std;\nint main(){\nlong n,i,j,k;\nstring c,s[30],s2;\nwhile(cin>>n){\nif(n==0)break;\nfor(j=0;j<n;j++){\ns[j]=\"      \";\nfor(i=0;i<6;i++){\ncin>>c;\nif(c==\"Red\")s[j][i]='r';\nelse if(c==\"Yellow\")s[j][i]='y';\nelse if(c==\"Blue\")s[j][i]='b';\nelse if(c==\"Magenta\")s[j][i]='m';\nelse if(c==\"Green\")s[j][i]='g';\nelse if(c==\"Cyan\")s[j][i]='c';\n}\ni=s[j].find('r');\n     if(i==1){s2=\"\";s2+=s[j][1];s2+=s[j][2];s2+=s[j][0];s2+=s[j][5];s2+=s[j][3];s2+=s[j][4];s[j]=s2;}\nelse if(i==2){s2=\"\";s2+=s[j][2];s2+=s[j][0];s2+=s[j][1];s2+=s[j][4];s2+=s[j][5];s2+=s[j][3];s[j]=s2;}\nelse if(i==3){s2=\"\";s2+=s[j][3];s2+=s[j][1];s2+=s[j][0];s2+=s[j][5];s2+=s[j][4];s2+=s[j][1];s[j]=s2;}\nelse if(i==4){s2=\"\";s2+=s[j][4];s2+=s[j][0];s2+=s[j][2];s2+=s[j][3];s2+=s[j][5];s2+=s[j][1];s[j]=s2;}\nelse if(i==5){s2=\"\";s2+=s[j][5];s2+=s[j][2];s2+=s[j][1];s2+=s[j][4];s2+=s[j][3];s2+=s[j][0];s[j]=s2;}\ni=s[j].find('y');\n     if(i==2){s2=\"\";s2+=s[j][0];s2+=s[j][2];s2+=s[j][4];s2+=s[j][1];s2+=s[j][3];s2+=s[j][5];s[j]=s2;}\nelse if(i==3){s2=\"\";s2+=s[j][0];s2+=s[j][3];s2+=s[j][1];s2+=s[j][4];s2+=s[j][2];s2+=s[j][5];s[j]=s2;}\nelse if(i==4){s2=\"\";s2+=s[j][0];s2+=s[j][4];s2+=s[j][3];s2+=s[j][2];s2+=s[j][1];s2+=s[j][5];s[j]=s2;}\nelse if(i==5){\ni=s[j].find('m');\n     if(i==2){s2=\"\";s2+=s[j][0];s2+=s[j][2];s2+=s[j][4];s2+=s[j][1];s2+=s[j][3];s2+=s[j][5];s[j]=s2;}\nelse if(i==3){s2=\"\";s2+=s[j][0];s2+=s[j][3];s2+=s[j][1];s2+=s[j][4];s2+=s[j][2];s2+=s[j][5];s[j]=s2;}\nelse if(i==4){s2=\"\";s2+=s[j][0];s2+=s[j][4];s2+=s[j][3];s2+=s[j][2];s2+=s[j][1];s2+=s[j][5];s[j]=s2;}\n}\n}\nfor(k=0,i=0;i<n;i++){\nfor(j=i+1;j<n;j++){\nif(s[i]==s[j])k++;\n}\n}\ncout<<k<<endl;\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n#define FOREACH( TYPE, TARGET, IT ) \\\n\tfor( (TYPE)::iterator IT = (TARGET).begin(); IT != (TARGET).end(); ++(IT) )\n\n// Ö\nstd::vector <int> rotate_h( std::vector <int> box );\nstd::vector <int> rotate_v( std::vector <int> box );\n\n// ¡Éñ]³¹éÖ\nstd::vector <int> rotate_h( std::vector <int> box )\n{\n\t// ¡ñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\t\n\tint tmp\t= box[0];\n\tbox[0]\t= box[2];\n\tbox[2]\t= box[5];\n\tbox[5]\t= box[3];\n\tbox[3]\t= tmp;\n\n\treturn box;\n\n}\n\n// cÉñ]³¹éÖ\nstd::vector <int> rotate_v( std::vector <int> box )\n{\n\t// cñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\tint tmp = box[0];\n\tbox[0] = box[4];\n\tbox[4] = box[5];\n\tbox[5] = box[1];\n\tbox[1] = tmp;\n\n\treturn box;\n\n}\n\n// Gg[|Cg\nint main()\n{\n\t// §ûÌÌ6ÊðyLÅFt¯µ½àÌðìiÆµÄoWµ½\n\t// §ûÌðñ]³¹éÆ¯¶gÝí¹ÉÈÁÄµÜ¤±ÆÉCªt¢½\n\t// d¡ð³­µ½Æ«ÇÁÅ½Âìè¼·Kvª é©ßé\n\n\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Green\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tif( j > 0 )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_h( box );\n\t\t\t\t}\n\t\t\t\ttable.insert( box );\n\t\t\t\t\n\t\t\t\t// c\n\t\t\t\tfor( int k = 0; k < 4; ++k )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_v( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// debug\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<stdio.h>\n#include<ctype.h>\n#include<string>\n#include<cmath>\n#include<math.h>\n#include<vector>\n#include<stdlib.h>\n#include<algorithm>\n#include<functional>\n\nusing namespace std;\n\n#define OUT cout <<\n#define IN cin >>\n#define E << endl;\n#define FOR(i,a,b) for(int i = a;i < b;i++)\n\nint n;\n\nvoid input(){\n\tIN n;\n}\n\nclass Dice{\n\tprivate:\n\t\tstring temp;\n\tpublic:\n\t\tstring c[6];\n\t\tDice(){}\n\t\tvoid roll(int axis){\n\t\t\tswitch(axis){\n\t\t\tcase 0:\n\t\t\t\ttemp = c[0];\n\t\t\t\tc[0] = c[1];\n\t\t\t\tc[1] = c[5];\n\t\t\t\tc[5] = c[4];\n\t\t\t\tc[4] = temp;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\ttemp = c[1];\n\t\t\t\tc[1] = c[3];\n\t\t\t\tc[3] = c[4];\n\t\t\t\tc[4] = c[2];\n\t\t\t\tc[2] = temp;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\ttemp = c[0];\n\t\t\t\tc[0] = c[2];\n\t\t\t\tc[2] = c[5];\n\t\t\t\tc[5] = c[3];\n\t\t\t\tc[3] = temp;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tOUT \"switch error!!!!!!\\n\" E\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvoid getd(string& c1, string& c2, string& c3, string& c4, string& c5, string& c6){\n\t\t\tc1 = c[0];\n\t\t\tc2 = c[1];\n\t\t\tc3 = c[2];\n\t\t\tc4 = c[3];\n\t\t\tc5 = c[4];\n\t\t\tc6 = c[5];\n\t\t}\n\n\t\tvoid input(){\n\t\t\tFOR(i,0,6){\n\t\t\t\tIN c[i];\n\t\t\t}\n\t\t}\n\n};\n\nint main(){\n\twhile(true){\n\t\tinput();\n\t\tif(n == 0)break;\n\t\tint count = 0;\n\t\tbool match[n];\n\t\tFOR(i, 0, n){\n\t\t\tmatch[i] = false;\n\t\t}\n\t\tstring str1[6];\n\t\tstring str2[6];\t\n\n\t\tvector<Dice> dice;\n\t\n\t\tdice.resize(n);\n\t\tFOR(i, 0, n){\n\t\t\tdice[i].input();\n\t\t}\n\t\t\t\n\n\t\tFOR(i, 0, n - 1){\n\t\t\tFOR(j, i + 1, n){\n\t\t\t\tbool flag2 = false;\n\t\t\t\tFOR(z, 0, 4){\n\t\t\t\tFOR(x, 0, 4){\n\t\t\t\t\tFOR(y, 0, 4){\n\t\t\t\t\t\tdice[i].getd(str1[0],str1[1],str1[2],str1[3],str1[4],str1[5]);\n\t\t\t\t\t\tdice[j].getd(str2[0],str2[1],str2[2],str2[3],str2[4],str2[5]);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//printf(\"\\n%s %s %s %s %s %s \\n\",str1[0].c_str(),str1[1].c_str(),str1[2].c_str(),str1[3].c_str(),str1[4].c_str(),str1[5].c_str());\n\t\t\t\t\t\t//printf(\"%s %s %s %s %s %s \\n\\n\",str2[0].c_str(),str2[1].c_str(),str2[2].c_str(),str2[3].c_str(),str2[4].c_str(),str2[5].c_str());\n\n\t\t\t\t\t\tbool flag1 = true;\n\t\t\t\t\t\tFOR(d, 0, 6){\t\t\t\t\t\n\t\t\t\t\t\t\tif(str1[d] != str2[d]){\n\t\t\t\t\t\t\t\tflag1 = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(flag1){\n\t\t\t\t\t\t\tif(match[i] == false){\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tflag2 = true;\n\t\t\t\t\t\t\t\t//printf(\"%s %s %s %s %s %s \\n\",str1[0].c_str(),str1[1].c_str(),str1[2].c_str(),str1[3].c_str(),str1[4].c_str(),str1[5].c_str());\n\t\t\t\t\t\t\t\t//printf(\"%s %s %s %s %s %s \\n\",str2[0].c_str(),str2[1].c_str(),str2[2].c_str(),str2[3].c_str(),str2[4].c_str(),str2[5].c_str());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmatch[j] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tflag1 = true;\n\t\t\t\t\t\n\t\t\t\t\t\tdice[i].roll(1);\n\t\t\t\t\t}\n\t\t\t\t\tdice[i].roll(0);\n\t\t\t\t}\n\t\t\t\tdice[i].roll(2);\n\t\t\t\t}\n\t\t\t\t//OUT i << \" \" << j << \" \" << flag2 E\n\t\t\t\tif(flag2){\n\t\t\t\t\tcount++;\n\t\t\t\t\t//OUT \"count++ \" << i << \" \" << j  E\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\n\t\tOUT count E\n\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n  \nusing namespace std;\n \n#define rep(i,n) for(int i = 0 ; i < n ; i++) \n \nclass Cube {\nprivate:\n    string tmp;\npublic:\n    string d[6];\n  \n    void rollN() {\n\ttmp = d[0];\n\td[0] = d[1];\n\td[1] = d[5];\n\td[5] = d[4];\n\td[4] = tmp;\n    }\n  \n    void rollW() {\n\ttmp = d[0];\n\td[0] = d[2];\n\td[2] = d[5];\n\td[5] = d[3];\n\td[3] = tmp;\n    }\n \n    void rotation() {\n\ttmp = d[1];\n\td[1] = d[3];\n\td[3] = d[4];\n\td[4] = d[2];\n\td[2] = tmp;\n    }\n \n    bool judge(Cube &C) {\n\trep(i,6){\n\t    if(d[i] != C.d[i]){\n\t\treturn false;\n\t    }\n\t}\n\treturn true;\n    }\n \n    bool equals(Cube &C) {\n\trep(i,3){\n\t    rollN();\n\t    if(d[0] == C.d[0]){\n\t\tbreak;\n\t    }\n\t    rollW();\n\t    if(d[0] == C.d[0]){\n\t\tbreak;\n\t    }\n\t}\n\trep(i,4){\n\t    if(judge(C)){\n\t\treturn true;\n\t    }\n\t    rotation();\n\t}\n\treturn false;\n    }\n};\n  \nint main()\n{\n    int N;\n \n    while (cin >> N, N) {\n\tCube cube[N];\n\trep (i, N) {\n\t    rep (j, 6) {\n\t\tcin >> cube[i].d[j];\n\t    }\n\t}   \n\tint ans = 0;\n\tbool used[N];\n\tmemset(used, false, sizeof(used));\n\trep (i, N-1) {\n\t    for (int j = i+1; j < N; j++) {\n\t\tif (cube[i].equals(cube[j]) && !used[j]) {\n\t\t    used[j] = true;\n\t\t    ans++;\n\t\t}\n\t    }\n\t}\n\tcout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<vector>\n#include<functional>\n#include<cmath>\n#include<map>\n#include<stack>\n#include<set>\n#include<numeric>\n#include<limits>\n\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pi;\ntypedef pair<ll, ll> pl;\ntypedef pair<ll, char> plc;\n\nstruct color {\n\tstring c1, c2, c3, c4, c5, c6;\n};\n\nint main()\n{\n\tint n; \n\twhile (cin >> n, n) {\n\t\tvector<color> v(n);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> v[i].c1 >> v[i].c2 >> v[i].c3 >> v[i].c4 >> v[i].c5 >> v[i].c6;\n\t\t}\n\n\t\tint cnt = 0;\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tmap<string, string> m;\n\t\t\tm[v[i].c1] = v[i].c6;\n\t\t\tm[v[i].c6] = v[i].c1;\n\t\t\tm[v[i].c2] = v[i].c5;\n\t\t\tm[v[i].c5] = v[i].c2;\n\t\t\tm[v[i].c3] = v[i].c4;\n\t\t\tm[v[i].c4] = v[i].c3;\n\t\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\t\tif (m[v[j].c1] == v[j].c6) {\n\t\t\t\t\tif (m[v[j].c2] == v[j].c5) {\n\t\t\t\t\t\tif (m[v[j].c3] == v[j].c4)\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <cmath>\n#include <cstdio>\n#include <functional>\n#include <numeric>\n#include <stack>\n#include <queue>\n#include <map>\n#include <set>\n#include <utility>\n#include <sstream>\n#include <complex>\n#include <fstream>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(long long i=(a);i<(b);i++)\n#define REP(i,N) for(long long i=0;i<(N);i++)\n#define ALL(s) (s).begin(),(s).end()\n#define fi first\n#define se second\n\n#define PI acos(-1.0)\n#define INF 1000000007\n#define EPS 1e-10\n#define MAX_M 100100\n\ntypedef long long ll;\ntypedef pair<ll, ll> P;\ntypedef pair<double, double> PD;\ntypedef pair<string, ll> PS;\ntypedef vector<ll> V;\ntypedef pair<P, char> PC;\n\nstruct Dice{\n\tstring me[6];\n\t\n\tvoid Init(string a[6]){\n\t\tfor (int i = 0; i < 6; i++){\n\t\t\tme[i] = a[i];\n\t\t}\n\t}\n\n\tbool check(Dice d2){\n\t\tfor (int i = 0; i < 6; i++){\n\t\t\tif (d2.me[i] != me[i])return false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tvoid print(){\n\t\tfor (int i = 0; i < 6; i++){\n\t\t\tcout << me[i] << \" \";\n\t\t}\n\t\tcout << endl;\n\t}\n};\n\nint n;\nstring a[6];\nDice d[110];\nbool F[100];\n\nint main(){\n\twhile (cin >> n&&n){\n\t\tfill(F, F + 100, 1);\n\t\tREP(i, n){\n\t\t\tREP(j, 6)cin >> a[j];\n\t\t\td[i].Init(a);\n\t\t}\n\t\tbool f = 0;\n\t\tREP(k, n){\n\t\t\tif (F[k]){\n\t\t\t\tFOR(l, k + 1, n){\n\t\t\t\t\tREP(i, 4){\n\t\t\t\t\t\tREP(j, 4){\n\t\t\t\t\t\t\tif (d[k].check(d[l]))F[l] = 0;\n\t\t\t\t\t\t\tswap(d[k].me[1], d[k].me[2]);\n\t\t\t\t\t\t\tswap(d[k].me[2], d[k].me[4]);\n\t\t\t\t\t\t\tswap(d[k].me[4], d[k].me[3]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tREP(j, 4){\n\t\t\t\t\t\t\tif (d[k].check(d[l]))F[l] = 0;\n\t\t\t\t\t\t\tswap(d[k].me[0], d[k].me[1]);\n\t\t\t\t\t\t\tswap(d[k].me[1], d[k].me[5]);\n\t\t\t\t\t\t\tswap(d[k].me[5], d[k].me[4]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswap(d[k].me[0], d[k].me[2]);\n\t\t\t\t\t\tswap(d[k].me[2], d[k].me[5]);\n\t\t\t\t\t\tswap(d[k].me[5], d[k].me[3]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint co = 0;\n\t\tREP(i, n)if (F[i])co++;\n\t\tcout << n - co << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\nusing namespace std;\n\nbool arrequshift(int a1[], int a2[], int size){\n\tfor(int i = 0;i < size;i++){\n\t\tbool equ = true;\n\t\tfor(int j = 0;j < size;j++){\n\t\t\tif(a1[j] != a2[(i + j) % size]){\n\t\t\t\tequ = false;\n\t\t\t}\n\t\t}\n\t\tif(equ) return true;\n\t}\n\treturn false;\n}\n\nbool arrequ(int a1[], int a2[], int size){\n\tif(arrequshift(a1, a2, size)) return true;\n\tfor(int i = 0;i < size / 2;i++){\n\t\tswap(a2[i], a2[size - i - 1]);\n\t}\n\tif(arrequshift(a1, a2, size)) return true;\n\treturn false;\n}\n\nint main_(){\n\tint a1[4], a2[4];\n\tfor(int i = 0;i < 4;i++) cin >> a1[i];\n\tfor(int i = 0;i < 4;i++) cin >> a2[i];\n\tcout << arrequ(a1, a2, 4) << endl;\n\treturn 0;\n}\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0) break;\n\t\tint box[30][6] = {0};\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tfor(int j = 0;j < 6;j++){\n\t\t\t\tstring c;\n\t\t\t\tcin >> c;\n\t\t\t\tif(c == \"Red\") box[i][j] = 0;\n\t\t\t\telse if(c == \"Yellow\") box[i][j] = 1;\n\t\t\t\telse if(c == \"Blue\") box[i][j] = 2;\n\t\t\t\telse if(c == \"Magenta\") box[i][j] = 3;\n\t\t\t\telse if(c == \"Green\") box[i][j] = 4;\n\t\t\t\telse if(c == \"Cyan\") box[i][j] = 5;\n\t\t\t}\n\t\t}\n\t\tint set1[3][4] = {\n\t\t\t{1, 2, 4, 3}, \n\t\t\t{0, 2, 5, 3},\n\t\t\t{0, 1 ,5, 4}\n\t\t};\n\t\tint set2[3][2] = {\n\t\t\t{0, 5},\n\t\t\t{1, 4},\n\t\t\t{2, 3}\n\t\t};\n\t\tint ans = 0;\n\t\tfor(int i1 = 0;i1 < n;i1++){\n\t\t\tfor(int i2 = i1 + 1;i2 < n;i2++){\n\t\t\t\tint a1[4] = {0}, a2[4] = {0}, b1[2] = {0}, b2[2] = {0};\n\t\t\t\tfor(int j = 0;j < 3;j++){\n\t\t\t\t\tfor(int k = 0;k < 4;k++){\n\t\t\t\t\t\ta1[k] = box[i1][set1[j][k]];\n\t\t\t\t\t\ta2[k] = box[i2][set1[j][k]];\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k = 0;k < 2;k++){\n\t\t\t\t\t\tb1[k] = box[i1][set2[j][k]];\n\t\t\t\t\t\tb2[k] = box[i2][set2[j][k]];\n\t\t\t\t\t}\n\t\t\t\t\tif(arrequ(a1, a2, 4) && arrequ(b1, b2, 2)){\n\t\t\t\t\t\t//cout << i1 << \" & \" << i2 << endl;\n\t\t\t\t\t\tans++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <string>\n#include <set>\n#include <utility>\n\nusing die = std::pair<char, std::string>;\n\ndie get_die() {\n  char a, b, c, d, e, f;\n  scanf(\" %c%*s %c%*s %c%*s %c%*s %c%*s %c%*s\",\n        &a, &b, &c, &d, &e, &f);\n\n  char bot;\n  std::string side;\n  if (a == 'R') {\n    bot = f;\n    side += b;\n    side += c;\n    side += e;\n    side += d;\n  } else if (b == 'R') {\n    bot = e;\n    side += c;\n    side += a;\n    side += d;\n    side += f;\n  } else if (c == 'R') {\n    bot = d;\n    side += f;\n    side += e;\n    side += a;\n    side += b;\n  } else if (d == 'R') {\n    bot = c;\n    side += a;\n    side += e;\n    side += f;\n    side += b;\n  } else if (e == 'R') {\n    bot = b;\n    side += d;\n    side += a;\n    side += c;\n    side += f;\n  } else if (f == 'R') {\n    bot = a;\n    side += b;\n    side += d;\n    side += e;\n    side += c;\n  }\n\n  std::string mside = side;\n  for (int i = 1; i < 4; ++i) {\n    std::rotate(side.begin(), side.begin()+1, side.end());\n    mside = std::min(mside, side);\n  }\n\n  return {bot, mside};\n}\n\nint testcase_ends() {\n  size_t n;\n  scanf(\"%zu\", &n);\n  if (n == 0) return 1;\n\n  std::set<die> d;\n  for (size_t i = 0; i < n; ++i) {\n    d.insert(get_die());\n  }\n  printf(\"%zu\\n\", n-d.size());\n  return 0;\n}\n\nint main() {\n  while (!testcase_ends()) {}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <list>\n#include <cmath>\n#include <fstream>\n#include <algorithm>\n#include <string>\n#include <queue>\n#include <set>\n#include <map>\n#include <complex>\n#include <iterator>\n#include <cstdlib>\n#include <cstring>\n#include <sstream>\n\nusing namespace std;\n\n#define EPS (1e-10)\n#define EQ(a,b) (abs((a) - (b)) < EPS)\n#define EQV(a,b) (EQ((a).real(),(b).real()) && EQ((a).imag(),(b).imag()))\n\ntypedef complex<double> P;\ntypedef pair<P,P> Edge;\ntypedef long long ll;\n\n// 25(28)ñÅ³ÉàÇé\nclass Dice{\nprivate:\n  int yoko;\n  int tate;\n  int round;\n\nprivate:\n    string face[3][4];\n\npublic:\n  // int getFace(int i,int j)const{\n  //   return face[i][j];\n  // }\n  string getFace(int idx)const{\n    if(idx==0)\n      return face[1][1];\n    else if(idx==1)\n      return face[2][1];\n    else if(idx==2)\n      return face[1][2];\n    else if(idx==3)\n      return face[1][0];\n    else if(idx==4)\n      return face[0][1];\n    else if(idx==5)\n      return face[1][3];\n  }\n  Dice(vector<string> &v){\n    init();\n    face[1][1]=v[0];\n    face[2][1]=v[1];\n    face[1][2]=v[2];\n    face[1][0]=v[3];\n    face[0][1]=v[4];\n    face[1][3]=v[5];\n  }\nprivate:\n  // _CXÌú»\n  void init(){\n//    for(int i = 0; i < 3; i++){\n//      for(int j = 0; j < 4; j++){\n//    \t  face[i][j]=-1;\n//      }\n//    }\n    yoko=0;\n    tate=0;\n    round=0;\n  }\npublic:\n  // _CXÌñ]\n  void rotate(){\n    if(round<4){\n      string tmp = face[2][1];\n      face[2][1]=face[1][2];\n      face[1][2]=face[0][1];\n      face[0][1]=face[1][0];\n      face[1][0]=tmp;\n      round++;\n    }\n    if(round>=4){\n    \tround=0;\n    \t// àÇÁÄ«½çA¡ÌXbgðñ]³¹é\n    \tif(yoko<4){\n    \t\tstring tmp = face[1][3];\n    \t\tfor(int i = 2; i >= 0; i--){\n    \t\t\tface[1][i+1]=face[1][i];\n    \t\t}\n    \t\tface[1][0]=tmp;\n    \t\tyoko++;\n    \t}\n    \t// àÇÁÄ«½çAcÌXbgðñ]³¹é\n    \tif(yoko>=4){\n    \t\tif(tate<4){\n    \t\t\ttate++;\n    \t\t\tstring tmp = face[1][3];\n    \t\t\tface[1][3]=face[0][1];\n    \t\t\tfor(int i = 0; i < 2; i++){\n    \t\t\t\tface[i][1]=face[i+1][1];\n    \t\t\t}\n    \t\t\tface[2][1]=tmp;\n    \t\t}\n    \t\tif(tate>=4){\n    \t\t\tround=0;\n    \t\t\ttate=0;\n    \t\t\tyoko=0;\n    \t\t}\n    \t}\n    }\n  };\n};\n\nint main(){\n\n\tint n;\n\twhile(cin>>n&&n!=0){\n\t\tvector<Dice> vd;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tvector<string> vs;\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring s;\n\t\t\t\tcin>>s;\n\t\t\t\tvs.push_back(s);\n\t\t\t}\n\t\t\tvd.push_back(Dice(vs));\n\t\t}\n\t\tint cnt=0;\n\t\tset<vector<string> > svs;\n\t\tfor(int i=0;i<vd.size();i++){\n\t\t\tDice &dice=vd[i];\n\t\t\tvector<string> vs2;\n\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\tvs2.push_back(dice.getFace(k));\n\t\t\tif(svs.find(vs2)!=svs.end())\n\t\t\t\tcontinue;\n\t\t\tcnt++;\n\t\t\tfor(int j=0;j<24;j++){\n\t\t\t\tvector<string> vs;\n\t\t\t\tfor(int k=0;k<6;k++)\n\t\t\t\t\tvs.push_back(dice.getFace(k));\n\t\t\t\tsvs.insert(vs);\n\t\t\t\tdice.rotate();\n\t\t\t}\n\t\t}\n\t\tcout<<n-cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string.h>\n#include <string>\nusing namespace std;\n\ntypedef vector<string> Dice;\n\nvoid rotate_front(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[4];\n\tdice[4] = dice[5];\n\tdice[5] = dice[1];\n\tdice[1] = t;\n}\n\nvoid rotate_right(Dice& dice)\n{\n\tstring t = dice[0];\n\tdice[0] = dice[3];\n\tdice[3] = dice[5];\n\tdice[5] = dice[2];\n\tdice[2] = t;\n}\n\nvoid rotate_clock(Dice& dice)\n{\n\tstring t = dice[1];\n\tdice[1] = dice[2];\n\tdice[2] = dice[4];\n\tdice[4] = dice[3];\n\tdice[3] = t;\n}\n\nvoid rotate(Dice& dice, string top)\n{\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_front(dice);\n\t}\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tif(dice[0] == top) return;\n\t\trotate_right(dice);\n\t}\n}\n\nbool match(Dice d1, Dice d2)\n{\n\tif(d1[0] != d2[0]) return false;\n\tif(d1[5] != d2[5]) return false;\n\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tbool is_match = true;\n\t\tfor(int j=1; j<5; j++)\n\t\t{\n\t\t\tif(d1[j] != d2[j])\n\t\t\t{\n\t\t\t\tis_match = false;\n\t\t\t\tbreak;\n\t\t\t} \n\t\t}\n\t\tif(is_match) return true;\n\t\t\n\t\trotate_clock(d2);\n\t}\n\n\treturn false;\n}\n\nint table[6];\n\nint main()\n{\n\tint T;\n\tstring color;\n\tvector<Dice> dices;\n\n\twhile(cin >> T, T)\n\t{\n\t\tdices = vector<Dice>(T);\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tfor(int i=0; i<6; i++)\n\t\t\t{\n\t\t\t\tcin >> color;\n\t\t\t\tdices[t].push_back(color);\n\t\t\t}\n\t\t\tif(t != 0) rotate(dices[t], dices[0][0]);\n\t\t}\n\n\t\tint c = 0;\n\t\tfor(int t=0; t<T; t++)\n\t\t{\n\t\t\tbool is_match = false;\n\t\t\tfor(int i=0; i<t; i++)\n\t\t\t{\n\t\t\t\tif(match(dices[t], dices[i]))\n\t\t\t\t{\n\t\t\t\t\tis_match = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!is_match) c++;\n\t\t}\n\n\t\tprintf(\"%d\\n\", T-c);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n\nusing namespace std;\nbool func2(string s1[7], string s2[7]);\nbool func3(string s1[7], string s2[7]);\nvoid rtt(string s[7]);\nvoid swp(string s[7], int u, int v);\n\nbool func(string s1[7], string s2[7])\n{\n\tif(!func2(s1, s2)){\n\t\treturn false;\n\t}\n\t\n\tswp(s2, 1, 6);\n\tif(!func2(s1, s2)){\n\t\treturn false;\n\t}\n\tswp(s2, 1, 6);\n\t\n\tswp(s2, 1, 2);\n\tswp(s2, 5, 6);\n\tif(!func2(s1, s2)){\n\t\treturn false;\n\t}\n\t\n\tswp(s2, 2, 5);\n\tif(!func2(s1, s2)){\n\t\treturn false;\n\t}\n\tswp(s2, 2, 5);\n\tswp(s2, 1, 2);\n\tswp(s2, 5, 6);\n\t\n\tswp(s2, 1, 3);\n\tswp(s2, 4, 6);\n\tif(!func2(s1, s2)){\n\t\treturn false;\n\t}\n\tswp(s2, 3, 4);\n\tif(!func2(s1, s2)){\n\t\treturn false;\n\t}\n\tswp(s2, 3, 4);\n\tswp(s2, 1, 3);\n\tswp(s2, 4, 6);\n\t\n\treturn true;\n}\n\nbool func2(string s1[7], string s2[7])\n{\n\tstring str;\n\t\n\tif(!func3(s1, s2)){\n\t\treturn false;\n\t}\n\trtt(s2);\n\tif(!func3(s1, s2)){\n\t\treturn false;\n\t}\n\trtt(s2);\n\tif(!func3(s1, s2)){\n\t\treturn false;\n\t}\n\trtt(s2);\n\tif(!func3(s1, s2)){\n\t\treturn false;\n\t}\n\trtt(s2);\n\t\n\tswp(s2, 3, 4);\n\tif(!func3(s1, s2)){\n\t\treturn false;\n\t}\n\tswp(s2, 3, 4);\n\tswp(s2, 2, 5);\n\tif(!func3(s1, s2)){\n\t\treturn false;\n\t}\n\tswp(s2, 2, 5);\n\t\n\treturn true;\n}\n\nbool func3(string s1[7], string s2[7])\n{\n\tbool f = false;\n\tfor(int i = 1; i <= 6; i++){\n\t\tif(s1[i] != s2[i]){\n\t\t\tf = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\treturn f;\n}\n\nvoid rtt(string s[7])\n{\n\tstring str;\n\tstr = s[2];\n\ts[2] = s[3];\n\ts[3] = s[4];\n\ts[4] = s[5];\n\ts[5] = str;\n\t\n\treturn ;\n}\n\nvoid swp(string s[7], int u, int v)\n{\n\tstring str;\n\tstr = s[u];\n\ts[u] = s[v];\n\ts[v] = str;\n\t\n\treturn ;\n}\n\nint main()\n{\n\tint n, c;\n\tstring cubes[31][7];\n\tbool f[31];\n\t\n\twhile(cin>>n&&n){\n\t\tc = 0;\n\t\tfill(f, f+31, true);\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = 1; j <= 6; j++){\n\t\t\t\tcin >> cubes[i][j];\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = i+1; j < n && f[i]; j++){\n\t\t\t\tf[j] = func(cubes[i], cubes[j]);\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tif(f[i]){\n\t\t\t\tc++;\n\t\t\t}\n\t\t}\n\t\tcout << n-c << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n#define vvl(v,w,h,init) vector<vector<ll>> v(w,vector<ll>(h,init))\n#define mp(a,b) make_pair(a,b)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int inf = ((1<<30)-1)*2+1 ;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0,1,-1,1,-1};\nconst int dx[] = {0,-1,0,1,1,-1,-1,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\ntemplate<typename T,typename U>\nll FindErase(T &v,U tar){\n  ll cnt = 0;\n  for(auto it = v.begin(); it != v.end();){\n    if(*it == tar){\n      it = v.erase(it);\n      ++cnt;\n    }\n    else{\n      ++it;\n    }\n  }\n  return cnt;\n}\n\nenum{\n  t = 0,f ,r ,b ,l ,d ,\n};\nclass Dice{\n  public:\n    array<int,6> D;\n    Dice(){\n      D = {1,2,3,4,5,6};\n    }\n    Dice(array<int,6> d){\n      D = d;\n    }\n    void Spin(int dir){\n      if(dir == l){//\n        swap(D[t],D[r]);\n        swap(D[r],D[d]);\n        swap(D[d],D[l]);\n      }\n      else if(dir == r){\n        swap(D[t],D[l]);\n        swap(D[l],D[d]);\n        swap(D[d],D[r]);\n      }\n      else if(dir == f){\n        swap(D[t],D[b]);\n        swap(D[b],D[d]);\n        swap(D[d],D[f]);\n      }\n      else if(dir == b){\n        swap(D[t],D[f]);\n        swap(D[f],D[d]);\n        swap(D[d],D[b]);\n      }\n      else if(dir == d){//leftspin\n        swap(D[f],D[r]);\n        swap(D[r],D[b]);\n        swap(D[b],D[l]);\n      }\n      else if(dir == t){\n        swap(D[f],D[l]);\n        swap(D[l],D[b]);\n        swap(D[b],D[r]);\n      }\n    }\n    void MatchDice(int T,int F){\n      rep(i,4){\n        Spin(r);\n        if(D[t] == T)break;\n      }\n      if(D[t] != T){\n        rep(i,4){\n          Spin(f);\n          if(D[t] == T)break;\n        }\n      }\n      rep(i,4){\n        Spin(t);\n        if(D[f] == F) break;\n      }\n    }\n    int& operator[](const int i){\n      return D[i];\n    }\n    bool operator==(Dice& di2){\n      rep(i,4){\n        di2.Spin(r);\n        rep(j,4){\n          di2.Spin(t);\n          rep(k,4){\n            di2.Spin(r);\n            if(D == di2.D){\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    }\n    friend ostream& operator<<(ostream& os,const Dice& di){\n      os << \"t f r l b d\\n\" ;\n      rep(i,6){\n        if(i) os << ' ';\n        os << di.D[i] ;\n      }\n      return os;\n    }\n};\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  map<string,int> m;\n  m[\"Cyan\"] = 0,m[\"Yellow\"] =1,m[\"Red\"]=2,m[\"Magenta\"] = 3, m[\"Green\"] = 4, m[\"Blue\"] = 5;\n  ll n;\n  while(cin >> n && n){\n    vector<Dice> di(n);\n    string s,s1,s2,s3,s4,s5;\n    vector<Dice> st;\n    rep(i,n){\n      cin >> s >> s1 >> s2 >> s3 >> s4 >> s5;\n      di[i][t] = m[s];\n      di[i][f] = m[s];\n      di[i][r] = m[s];\n      di[i][l] = m[s];\n      di[i][b] = m[s];\n      di[i][d] = m[s];\n      if(st.size() == 0){\n        st.push_back(di[i]);\n      }\n      else{\n        rep(j,st.size()){\n          if(st[j] == di[i]){\n            break;\n          }\n          if(j == st.size()-1){\n            st.push_back(di[i]);\n          }\n        }\n      }\n    }\n    cout << n - st.size()<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint main(){\n    int i,j,n,k[100],count=0;\n    char c1[100],c2[100],c3[100],c4[100],c5[100],c6[100];\n    for(j=0;j<100;j++){\n    cin>>n;\n    for(i=0;i<n;i++){\n        cin>>c1>>c2>>c3>>c4>>c5>>c6;\n        k[i]=c1[i]>>c2[i]>>c3[i]>>c4[i]>>c5[i]>>c6[i];\n    }\n        if(k[i]==k[i]){\n            count++;\n        }\n        if(n==0){\n            break;\n        }\n        cout<<count<<endl;\n        count=0;\n}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<map>\n#include<set>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\ntypedef vector<int> D;\nint R[][6]={{0,3,1,4,2,5},{2,1,5,0,4,3},{4,0,2,3,5,1}};\nvoid rot(D &d,int a){\n\tD r(6); rep(i,6)r[i]=d[R[a][i]]; d=r;\n}\nint main(){\n\tmap<char,int> M; M['R']=0,M['Y']=1,M['B']=2,M['M']=3,M['G']=4,M['C']=5;\n\tint n;\n\twhile(cin>>n,n){\n\t\tset<D> s,alld; char b[9];\n\t\trep(ii,n){\n\t\t\tD d(6),t(6);\n\t\t\talld.clear();\n\t\t\trep(jj,6)cin>>b,d[jj]=M[b[0]];\n\t\t\trep(i,4)rep(j,4)rep(k,4){\n\t\t\t\tt=d;\n\t\t\t\trep(p,i)rot(t,0);rep(q,j)rot(t,1);rep(r,k)rot(t,2);\n\t\t\t\talld.insert(t);\n\t\t\t}\n\t\t\ts.insert(*alld.begin());\n\t\t}\n\t\tcout<<n-s.size()<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101],kotaneet=0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tkotaneet = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1) {\n\t\t\t\t\t//cout << \"tatuya0\" << endl;\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t//cout << \"tatuya1\" << endl;\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t//cout << \"tatuya2\" << endl;\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\t//cout << \"tatuya3\" << endl;\n\t\t\t\t\t\t\t\tkotaneet++;\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << kotaneet << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\nclass UnionFind{\nprivate:\n  vector< int > rank, p;\n  void link(int x,int y){\n    if(rank[x] > rank[y]){\n      p[y] = x;\n    }else{\n      p[x] = y;\n      if(rank[x] == rank[y]) rank[y]++;\n    }\n  }\npublic:\n  UnionFind(int size){\n    rank.resize(size,0);\n    p.resize(size,0);\n    for(int i = 0; i < rank.size(); i++){\n      p[i] = i, rank[i] = 0;\n    }\n  }\n  void Unite(int x,int y){\n    if(Find(x) != Find(y)) link(Find(x),Find(y));\n  }\n  int Find(int x){\n    return( x != p[x] ? p[x] = Find(p[x]) : p[x]);\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n \nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\nvoid RolL(BOX& B) {\n  string temp = B.left;\n  B.left = B.top;\n  B.top = B.right;\n  B.right = B.buttom;\n  B.buttom = temp;\n}\n \n \nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      for(int m = 0; m < 4; m++) {\n        RolL(a);\n        if(a == b) return(true);\n      }\n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    UnionFind uf(n);\n\n    boxes.resize(n);\n    int ret = 0;\n\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) uf.Unite(i, j);\n      }\n    }\n    for(int i = 0; i < n; i++) {\n      ret += uf.Find(i) == i;\n    }\n    cout << n - ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<string>\nusing namespace std;\nint x[6][6] = { { 0,3,5,2,4,0 },{ 4,0,1,6,0,3 },{ 2,6,0,0,1,5 },{ 5,1,0,0,6,2 },{ 3,0,6,1,0,4 },{ 0,4,2,5,3,0 } };\nvector<int>z[1000]; int Ty[1000], cnt;\nbool solve(vector<int>p1, vector<int>p2) {\n\tint b[7] = { 0,0,0,0,0,0,0 }, maxn = 0, a[6] = { 0,0,0,0,0,0 };\n\tfor (int i = 0; i < 6; i++) { b[p1[i]]++; b[p2[i]]++; }\n\tfor (int i = 0; i < 7; i++)maxn = max(maxn, b[i]);\n\tif (maxn >= 6)return true;\n\tfor (int i = 0; i < 6; i++) {\n\t\tfor (int j = 0; j < 6; j++) {\n\t\t\tif (p1[j] == p2[i]) a[i] = j;\n\t\t}\n\t}\n\tif (x[a[0]][a[1]] == a[2] + 1) return true;\n\treturn false;\n}\nint main() {\n\twhile (true) {\n\t\tint n; cin >> n; if (n == 0)break;\n\t\tfor (int i = 0; i < 1000; i++)z[i].clear();\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0; j < 6; j++) {\n\t\t\t\tstring S; cin >> S;\n\t\t\t\tif (S[0] == 'C')z[i].push_back(1);\n\t\t\t\tif (S[0] == 'M')z[i].push_back(2);\n\t\t\t\tif (S[0] == 'Y')z[i].push_back(3);\n\t\t\t\tif (S[0] == 'R')z[i].push_back(4);\n\t\t\t\tif (S[0] == 'B')z[i].push_back(5);\n\t\t\t\tif (S[0] == 'G')z[i].push_back(6);\n\t\t\t}\n\t\t}\n\t\tcnt = 1; for (int i = 0; i < 1000; i++)Ty[i] = -1; Ty[0] = 1;\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tfor (int j = 0; j < i; j++) {\n\t\t\t\tif (solve(z[i], z[j]) == true)Ty[i] = Ty[j];\n\t\t\t}\n\t\t\tif (Ty[i] == -1) { cnt++; Ty[i] = cnt; }\n\t\t}\n\t\tcout << n - cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint N;\nint main()\n{\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0)return 0;\n\t\tint X[30][6];\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring SS;\n\t\t\t\tcin >> SS;\n\t\t\t\tif(SS==\"Cyan\")X[i][j]=0;\n\t\t\t\tif(SS==\"Yellow\")X[i][j]=1;\n\t\t\t\tif(SS==\"Red\")X[i][j]=2;\n\t\t\t\tif(SS==\"Magenta\")X[i][j]=3;\n\t\t\t\tif(SS==\"Green\")X[i][j]=4;\n\t\t\t\tif(SS==\"Blue\")X[i][j]=5;\n\t\t\t}\n\t\t}\n\t\tint cou=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tbool F=true;\n\t\t\tfor(int j=i+1;j<N;j++){\n\t\t\t\t//equal->false\n\t\t\t\tfor(int k=0;k<6;k++){\n\t\t\t\t\tfor(int l=0;l<4;l++){\n\t\t\t\t\t\tbool FF=false;\n\t\t\t\t\t\tfor(int m=0;m<6;m++){\n\t\t\t\t\t\t\t//if(i==0&&j==1)printf(\"%d \",X[i][m]);\n\t\t\t\t\t\t\tif(X[i][m]!=X[j][m])FF=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if(i==0&&j==1)printf(\"\\n\");\n\t\t\t\t\t\tif(!FF)F=false;\n\t\t\t\t\t\tint t=X[i][1];\n\t\t\t\t\t\tX[i][1]=X[i][2];\n\t\t\t\t\t\tX[i][2]=X[i][4];\n\t\t\t\t\t\tX[i][4]=X[i][3];\n\t\t\t\t\t\tX[i][3]=t;\n\t\t\t\t\t}\n\t\t\t\t\tif(k==0){\n\t\t\t\t\t\tint t=X[i][0];\n\t\t\t\t\t\tX[i][0]=X[i][1];\n\t\t\t\t\t\tX[i][1]=X[i][5];\n\t\t\t\t\t\tX[i][5]=X[i][4];\n\t\t\t\t\t\tX[i][4]=t;\n\t\t\t\t\t}\n\t\t\t\t\tif(k==1){\n\t\t\t\t\t\tint t=X[i][0];\n\t\t\t\t\t\tX[i][0]=X[i][2];\n\t\t\t\t\t\tX[i][2]=X[i][5];\n\t\t\t\t\t\tX[i][5]=X[i][3];\n\t\t\t\t\t\tX[i][3]=t;\n\t\t\t\t\t}\n\t\t\t\t\tif(k==2){\n\t\t\t\t\t\tint t=X[i][2];\n\t\t\t\t\t\tX[i][2]=X[i][3];\n\t\t\t\t\t\tX[i][3]=t;\n\t\t\t\t\t\tt=X[i][5];\n\t\t\t\t\t\tX[i][5]=X[i][0];\n\t\t\t\t\t\tX[i][0]=t;\n\t\t\t\t\t}\n\t\t\t\t\tif(k==3){\n\t\t\t\t\t\tint t=X[i][0];\n\t\t\t\t\t\tX[i][0]=X[i][3];\n\t\t\t\t\t\tX[i][3]=X[i][5];\n\t\t\t\t\t\tX[i][5]=X[i][2];\n\t\t\t\t\t\tX[i][2]=t;\n\t\t\t\t\t}\n\t\t\t\t\tif(k==4){\n\t\t\t\t\t\tint t=X[i][0];\n\t\t\t\t\t\tX[i][0]=X[i][1];\n\t\t\t\t\t\tX[i][1]=X[i][5];\n\t\t\t\t\t\tX[i][5]=X[i][4];\n\t\t\t\t\t\tX[i][4]=t;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(F)cou++;\n\t\t}\n\t\tprintf(\"%d\\n\",N-cou);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<string>\n#include<iostream>\nusing namespace std;\nclass CUBE{\nprivate:\n\tstring men[6];\npublic:\n\tvoid spinl(){string temp;temp=men[0];men[0]=men[2];men[2]=men[5];men[5]=men[3];men[3]=temp;}\n\tvoid spinu(){string temp;temp=men[0];men[0]=men[1];men[1]=men[5];men[5]=men[4];men[4]=temp;}\n\tstring get(int element){return men[element]; }\n\tvoid set(){cin>>men[0]>>men[1]>>men[2]>>men[3]>>men[4]>>men[5];}\n};\nCUBE *cube;\nint main(){\n\tint n;\n\tint *flg;\n\tint counter=0;\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\t\t//初期化\n\t\tcounter=0;\n\t\tcube=new CUBE [n];\n\t\t//入力部\n\t\tflg=new int [n];\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcube[i].set();\n\t\t\tflg[i]=0;\n\t\t}\n\t\t//処理部\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=i+1;j<n;j++){\n\t\t\t\tif(cube[i].get(0)==cube[j].get(0)&&cube[i].get(1)==cube[j].get(1)&&cube[i].get(2)==cube[j].get(2)&&cube[i].get(3)==cube[j].get(3)&&cube[i].get(4)==cube[j].get(4)&&cube[i].get(5)==cube[j].get(5)){\n\t\t\t\t\tflg[j]=1;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor(int n1=0;n1<4;n1++){\n\t\t\t\t\t\tcube[j].spinl();\n\t\t\t\t\t\tfor(int n2=0;n2<4;n2++){\n\t\t\t\t\t\t\tcube[j].spinu();\n\t\t\t\t\t\t\tif(cube[i].get(0)==cube[j].get(0)&&cube[i].get(1)==cube[j].get(1)&&cube[i].get(2)==cube[j].get(2)&&cube[i].get(3)==cube[j].get(3)&&cube[i].get(4)==cube[j].get(4)&&cube[i].get(5)==cube[j].get(5)){\n\t\t\t\t\t\t\t\tflg[j]=1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcounter+=flg[i];\n\t\t}\n\t\tprintf(\"%d\\n\",counter);\n\t\tdelete []cube;\n\t\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\nint H[6][6] = {\n\t{1,5,2,3,0,4}, // North : 奥へ移動   ( y:-1 )\n\t{3,1,0,5,4,2}, // East  : 右へ移動   ( x:+1 )\n\t{2,1,5,0,4,3}, // West  : 左へ移動   ( x:-1 )\n\t{4,0,2,3,5,1}, // South : 手前へ移動 ( y:+1 )\n\t{0,2,4,1,3,5}, // Right : 右回りに回転 (移動なし)\n\t{0,3,1,4,2,5}  // Left  : 左回りに回転 (移動なし)\n};\n\n// サイコロライブラリ\n// d[0] := top,   d[1] := front \n// d[2] := right, d[3] := left\n// d[4] := back,  d[5] := bottom\nenum{TOP, FRONT, RIGHT, LEFT, BACK, BOTTOM};\nstruct Cube{\n\tvector<string> d;\n\t// コンストラクタで初期化\n\tCube(vector<string> v){\n\t\tif( v.size() == 6 ){\n\t\t\td = v;\n\t\t}else{\n\t\t\td = vector<string>(6);\n\t\t}\n\t}\n\tCube(){ d = vector<string>(6); }\n\t// dirの方向に回転 (副作用なし)\n\tCube roll(int dir){\n\t\tCube result = (*this);\n\t\tvector<string> d_(6);\n\t\tfor(int i = 0 ; i < 6 ; i++ ){\n\t\t\td_[i] = d[ H[dir][i] ];\n\t\t}\n\t\tresult.d = d_;\n\t\treturn result;\n\t}\n\tvoid debug(){\n\t\tfor(int i=0 ; i < 6 ; i++ ){\n\t\t\tcout << (*this).d[i] << \" \";\n\t\t}\n\t\tcout << endl;\n\t}\n\tbool operator==(const Cube& c){\n\t\tfor(int i=0 ; i < 6 ; i++ ){\n\t\t\tif( c.d[i] != (*this).d[i] )\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\tbool is_same(Cube c){\n\t\tCube c_[24];\n\t\tc_[0] = c;\n\t\tc_[1] = c.roll(0);\n\t\tc_[2] = c.roll(1);\n\t\tc_[3] = c.roll(2);\n\t\tc_[4] = c.roll(3);\n\t\tc_[5] = (c.roll(0)).roll(0);\n\t\t\n\t\tfor(int i=6 ; i < 12 ; i++ ){\n\t\t\tc_[i] = c_[i-6].roll(4);\n\t\t}\n\t\tfor(int i=12 ; i < 18 ; i++ ){\n\t\t\tc_[i] = c_[i-6].roll(4);\n\t\t}\n\t\tfor(int i=18 ; i < 24 ; i++ ){\n\t\t\tc_[i] = c_[i-6].roll(4);\n\t\t}\n\t\t\n\t\tfor(int i=0 ; i < 24 ; i++ ){\n\t\t\tif( c_[i] == (*this) )\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n};\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<Cube> v;\n\t\t \n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tCube c;\n\t\t\tfor(int j=0 ; j < 6 ; j++ ){\n\t\t\t\tstring s;\n\t\t\t\tcin >> s;\n\t\t\t\tc.d[j] = s;\n\t\t\t}\n\t\t\tbool flag = true;\n\t\t\tfor(int j=0 ; j < v.size() ; j++ ){\n\t\t\t\tif( c.is_same( v[j] ) ) flag = false;\n\t\t\t}\n\t\t\t\n\t\t\tif( flag ){\n\t\t\t\tv.push_back( c );\n\t\t\t}\n\t\t}\n\t\tcout << (n - v.size()) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint main()\n{\n\tint i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n\tchar c[8];\n\tchar color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n\n\tscanf(\"%d\", &n);\n\twhile (n > 0) {\n\t\t\t\t\t// ??????????????\\???\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tfor (i1 = 0; i1 < 6; i1++) {\n\t\t\t\tscanf(\"%s\", c);\n\t\t\t\tfor (i2 = 0; i2 < 6; i2++) {\n\t\t\t\t\tif (strcmp(c, color[i2]) == 0) {\n\t\t\t\t\t\td[i0][i1] = i2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\t\t// ????????????????????????\n\t\tm = 0;\n\t\tfor (i0 = 0; i0 < n; i0++)\n\t\t\ts[i0] = 1;\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tif (s[i0] > 0) {\n\t\t\t\tm++;\n\t\t\t\ts[i0] = 0;\n\t\t\t\tfor (i1 = i0+1; i1 < n; i1++) {\n\t\t\t\t\tsw = 0;\n\t\t\t\t\tfor (i2 = 0; i2 < 3 && sw == 0; i2++) {\n\t\t\t\t\t\tfor (i3 = 0; i3 < 6 && sw == 0; i3++) {\n\t\t\t\t\t\t\tif (d[i0][i2] == d[i1][i3]) {\n\t\t\t\t\t\t\t\tif (d[i0][5-i2] != d[i1][5-i3])\n\t\t\t\t\t\t\t\t\tsw = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sw == 0)\n\t\t\t\t\t\ts[i1] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\t\t// ??????\n\t\tprintf(\"%d\\n\", n-m);\n\t\t\t\t\t// ?¬?????????????\n\t\tscanf(\"%d\", &n);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream> \n#include <sstream> \n#include <iomanip> \n#include <algorithm> \n#include <cmath> \n#include <string> \n#include <vector> \n#include <list> \n#include <queue> \n#include <stack> \n#include <set> \n#include <map> \n#include <bitset> \n#include <numeric> \n#include <climits> \n#include <cfloat> \nusing namespace std; \n\nclass Dice\n{\npublic:\n    vector<char> pip; // ì¼kãºÌÚ\n    Dice(){\n        pip.assign(6, -1);\n    }\n    void roll(int d){ // ì¼kE¶Éñ]\n        int dir[][4] = {{4,2,5,0},{4,3,5,1},{4,0,5,2},{4,1,5,3},{0,3,2,1},{0,1,2,3}};\n        char tmp = pip[dir[d][0]];\n        for(int i=0; i<3; ++i)\n            pip[dir[d][i]] = pip[dir[d][i+1]];\n        pip[dir[d][3]] = tmp;\n    }\n    bool operator==(const Dice& d) const{\n        return pip == d.pip;\n    }\n};\n\nbool same(Dice& dice1, Dice& dice2)\n{\n    for(int i=0; i<6; ++i){\n        if(i < 4)\n            dice1.roll(0);\n        else{\n            dice1.roll(1);\n            if(i == 5)\n                dice1.roll(1);\n        }\n        for(int j=0; j<4; ++j){\n            dice1.roll(4);\n            if(dice1 == dice2)\n                return true;\n        }\n    }\n    return false;\n}\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<Dice> dice(n);\n        for(int i=0; i<n; ++i){\n            vector<string> s(6);\n            for(int j=0; j<6; ++j)\n                cin >> s[j];\n\n            dice[i].pip[4] = s[0][0];\n            dice[i].pip[0] = s[1][0];\n            dice[i].pip[1] = s[2][0];\n            dice[i].pip[3] = s[3][0];\n            dice[i].pip[2] = s[4][0];\n            dice[i].pip[5] = s[5][0];\n        }\n\n        int ret = 0;\n        for(int i=0; i<n; ++i){\n            for(int j=i+1; j<n; ++j){\n                if(same(dice[i], dice[j])){\n                    ++ ret;\n                    break;\n                }\n            }\n        }\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\n// http://www.prefield.com/algorithm/misc/dice.html\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\nclass dice {\npublic:\n\tdice(int top,int front,int right,int left,int back,int bottom) {\n\t\tid[TOP] = top; id[FRONT] = front; id[RIGHT] = right;\n\t\tid[LEFT] = left; id[BACK] = back; id[BOTTOM] = bottom;\n\t}\n\tvoid roll_north() { roll(TOP, FRONT, BOTTOM, BACK); }\n\tvoid roll_south() { roll(TOP, BACK, BOTTOM, FRONT); }\n\tvoid roll_east() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n\tvoid roll_west() { roll(TOP, RIGHT, BOTTOM, LEFT); }\n\tvoid roll_right() { roll(FRONT, LEFT, BACK, RIGHT); }\n\tvoid roll_left() { roll(FRONT, RIGHT, BACK, LEFT); }\n\tvoid all_rolls(set<long long> &s){\n\t\tfor (int k = 0; k < 6; (k&1?roll_east():roll_north()),++k)\n\t\t\tfor (int i = 0; i < 4; roll_right(), ++i)\n\t\t\t\ts.insert(((long long)id[TOP]<<40) | ((long long)id[FRONT]<<32) | (id[RIGHT]<<24) | (id[LEFT]<<16) | (id[BACK]<<8) | (id[BOTTOM]<<0));\n\t}\nprivate:\n\tvoid roll(FACE a, FACE b, FACE c, FACE d){\n\t\tint tmp = id[a];\n\t\tid[a] = id[b]; id[b] = id[c];\n\t\tid[c] = id[d]; id[d] = tmp;\n\t}\n\tint id[6];\n};\n\nint main(){\n\tstring str;\n\tint d[6];\n\tint n,i,j,r;\n\tfor(;cin>>n,n;){\n\t\tset<long long>s;\n\t\tfor(r=i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++)cin>>str,d[j]=str[0];\n\t\t\tlong long x=((long long)d[0]<<40) | ((long long)d[1]<<32) | (d[2]<<24) | (d[3]<<16) | (d[4]<<8) | (d[5]<<0);\n\t\t\tif(s.find(x)!=s.end())r++;\n\t\t\telse{\n\t\t\t\tdice di(d[0],d[1],d[2],d[3],d[4],d[5]);\n\t\t\t\tdi.all_rolls(s);\n\t\t\t}\n\t\t}\n\t\tcout<<r<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring face[6];\nint n;\nint main(){\n  while(cin >> n, n){\n    set<string> ans;\n    for(int j = 0;j < n;j++){\n      cin >> face[0] >> face[1] >> face[2] >> face[3] >> face[4] >> face[5];\n      string p;\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[1]);\n\tswap(face[1], face[5]);\n\tswap(face[5], face[4]);\n      }\n      for(int i = 0;i < 4;i++){\n\tif(face[0] == \"Blue\")break;\n\tswap(face[0], face[2]);\n\tswap(face[2], face[5]);\n\tswap(face[5], face[3]);\n      }\n      for(int i = 1;i < 5;i++){\n\tif(i == 1)p = face[i];\n\tp = min(p, face[i]);\n      }\n      while(face[1] != p){\n\tswap(face[1], face[4]);\n\tswap(face[3], face[4]);\n\tswap(face[2], face[3]);\n      }\n      string res =\"\";\n      for(int i = 0;i < 6;i++){\n\tres += face[i][0];\n      }\n      ans.insert(res);\n    }\n    cout << n - ans.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<set>\n#include<vector>\n#include<cstdio>\n\n#define REP(i,s,n) for(int i=s;i<n;i++)\n#define rep(i,n) REP(i,0,n)\n#define inf (1<<29)\n\nusing namespace std;\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\ntemplate <class T>\nclass dice {\npublic:\n  dice() {\n    id[TOP] = 0; id[FRONT] = 1; id[LEFT] = 2;\n    id[RIGHT] = 3; id[BACK] = 4; id[BOTTOM] = 5;\n  }\n  T& operator[] (FACE f) { return var[id[f]]; }\n  const T& operator[] (FACE f) const { return var[id[f]]; }\n  bool operator==(const dice<T>& b) const {\n    const dice<T> &a = *this;\n    return a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n      a[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n      a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n  }\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  vector<dice> all_rolls() {\n    vector<dice> ret;\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        ret.push_back(*this);\n    return ret;\n  }\n  bool equivalent_to(const dice& di) {\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        if (*this == di) return true;\n    return false;\n  }\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    T tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n  T var[6];\n  int id[6];\n};\n\nFACE face[] = {TOP,FRONT,RIGHT,LEFT,BACK,BOTTOM};\n\nclass UnionFind\n{\npublic:\n  int par[40];\n\n  void init(int n){ rep(i,n)par[i] = i; }\n\n  int find(int x)\n  {\n    if(x == par[x])return x;\n    return par[x] = find(par[x]);\n  }\n\n  void unit(int x,int y)\n  {\n    x = find(x), y = find(y);\n    if(x != y)par[x] = y;\n    find(x),find(y);\n  }\n\n};\n\nint main()\n{\n  int n;\n  while(cin >> n,n)\n    {\n      dice<char> dices[n];\n      string fc;\n      rep(i,n)rep(j,6)\n\t{\n\t  cin >> fc;\n\t  dices[i][face[j]] = fc[0];\n\t}\n      \n\n      UnionFind uf;\n      uf.init(n);\n      rep(i,n)REP(j,i+1,n)\n\tif(dices[i].equivalent_to(dices[j]))uf.unit(i,j);\n\n      set<int> ans;\n      rep(i,n)ans.insert(uf.find(i));\n\n      cout << n - ans.size() << endl;\n\n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\nint rot[24][6] = {\n    {0,1,2,3,4,5}, {0,2,4,1,3,5}, {0,4,3,2,1,5}, {0,3,1,4,2,5},\n    {1,5,2,3,0,4}, {1,2,0,5,3,4}, {1,0,3,2,5,4}, {1,3,5,0,2,4},\n    {2,5,4,1,0,3}, {2,4,0,5,1,3}, {2,0,1,4,5,3}, {2,1,5,0,4,3},\n    {3,4,5,0,1,2}, {3,5,1,4,0,2}, {3,1,0,5,4,2}, {3,0,4,1,5,2},\n    {4,0,2,3,5,1}, {4,2,5,0,3,1}, {4,5,3,2,0,1}, {4,3,0,5,2,1},\n    {5,4,2,3,1,0}, {5,2,1,4,3,0}, {5,1,3,2,4,0}, {5,3,4,1,2,0}\n};\n\nint main() {\n    int n;\n    while (cin >> n, n) {\n        vector<vector<string> > work;\n        for (int i=0; i<n; ++i) {\n            vector<string> v(6);\n            for (int j=0; j<6; ++j) {\n                cin >> v[j];\n            }\n            work.push_back(v);\n        }\n        int res = 0;\n        for (int i=0; i<n; ++i) {\n            bool ok = true;\n            for (int j=i+1; j<n && ok; ++j) {\n                for (int k=0; k<24 && ok; ++k) {\n                    if (work[i][0] == work[j][rot[k][0]] &&\n                        work[i][1] == work[j][rot[k][1]] &&\n                        work[i][2] == work[j][rot[k][2]] &&\n                        work[i][3] == work[j][rot[k][3]] &&\n                        work[i][4] == work[j][rot[k][4]] &&\n                        work[i][5] == work[j][rot[k][5]]) {\n                        ok = false;\n                    }\n                }\n            }\n            if ( ! ok) ++res;\n        }\n        cout << res << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n\nint translate(char Head){\n\tswitch(Head){\n\tcase 'R':return 0;\n\tcase 'Y':return 1;\n\tcase 'B':return 2;\n\tcase 'M':return 3;\n\tcase 'G':return 4;\n\tcase 'C':return 5;\n\t}\n\treturn -1; //must not reach here\n}\n\nclass Dice{\npublic:\n\tDice(){\n\t\tnum_of_data = 0;\n\t};\n\n\tvoid roll(char dst){\n\t\tswitch(dst){\n\t\tcase 'E':\n\t\t\tsetNumber(number[3],number[1],number[0],number[5],number[4],number[2]);\n\t\t\tbreak;\n\t\tcase 'N':\n\t\t\tsetNumber(number[1],number[5],number[2],number[3],number[0],number[4]);\n\t\t\tbreak;\n\t\tcase 'S':\n\t\t\tsetNumber(number[4],number[0],number[2],number[3],number[5],number[1]);\n\t\t\tbreak;\n\t\tcase 'W':\n\t\t\tsetNumber(number[2],number[1],number[5],number[0],number[4],number[3]);\n\t\t\tbreak;\n\t\t}\n\t};\n\n\tbool isNewPattern(int inputed[]){\n\t\tchar order[25] = \"NNNNWNNNWNNNENNNENNNWNNN\";\n\n\t\tfor(int i = 0; i < num_of_data; i++){\n\t\t\tfor(int k = 0; k < 6; k++)number[k] = data_bank[i][k];\n\t\t\tfor(int k = 0; k < 24; k++){\n\t\t\t\troll(order[k]);\n\t\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\t\tif(inputed[j] != number[j])\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif(j == 5)\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tvoid init(){\n\t\tnum_of_data = 0;\n\t}\n\n\tint getNumOfData(){\n\t\treturn num_of_data;\n\t}\n\n\tvoid addData(int table[6]){\n\t\tdata_bank[num_of_data][0] = table[0];\n\t\tdata_bank[num_of_data][1] = table[1];\n\t\tdata_bank[num_of_data][2] = table[2];\n\t\tdata_bank[num_of_data][3] = table[3];\n\t\tdata_bank[num_of_data][4] = table[4];\n\t\tdata_bank[num_of_data][5] = table[5];\n\t\tnum_of_data++;\n\t}\n\nprivate:\n\n\tvoid setNumber(int n0,int n1,int n2,int n3,int n4,int n5){\n\t\tnumber[0] = n0;\n\t\tnumber[1] = n1;\n\t\tnumber[2] = n2;\n\t\tnumber[3] = n3;\n\t\tnumber[4] = n4;\n\t\tnumber[5] = n5;\n\t}\nprivate:\n\tint number[6];\n\tint data_bank[30][6];\n\tint num_of_data;\n};\n\nint main(){\n\tint n,tmp[6];\n\tchar c1[10],c2[10],c3[10],c4[10],c5[10],c6[10];\n\tDice dice;\n\n\twhile(true){\n\t\tscanf(\"%d\",&n);\n\t\tif(n == 0)break;\n\n\t\tdice.init();\n\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tscanf(\"%s %s %s %s %s %s\",c1,c2,c3,c4,c5,c6);\n\t\t\ttmp[0] = translate(c1[0]);\n\t\t\ttmp[1] = translate(c2[0]);\n\t\t\ttmp[2] = translate(c3[0]);\n\t\t\ttmp[3] = translate(c4[0]);\n\t\t\ttmp[4] = translate(c5[0]);\n\t\t\ttmp[5] = translate(c6[0]);\n\n\t\t\tif(dice.isNewPattern(tmp)){\n\t\t\t\tdice.addData(tmp);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-dice.getNumOfData());\n\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<algorithm>\n#include<iostream>\n#include<string>\n#include<set>\nusing namespace std;\nstring a, b, c, d, e, f;\nint n;\nint main(){\n  while(cin >> n, n){\n    set<int> num;\n    for(int i = 0;i < n;i++){\n      cin >> a >> b >> c >> d >> e >> f;\n      int p = (int)(b[0] + e[0]) * (int)(c[0] + d[0]) * (int)(a[0] + f[0]);\n      if(((a<f) + (b<e) + (c<d)) % 2)p *= -1;\n      num.insert(p);\n    }\n    cout << n - num.size() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint data[30][6];\n\nbool judge(int);\n\nmain(){\n  string in;\n  int n;\n  while(1){\n    cin >> n;\n    if(n==0) break;\n    int count=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tcin >> in;\n\tif(in==\"Red\") data[i][j]=1;\n\tif(in==\"Yellow\") data[i][j]=2;\n\tif(in==\"Blue\") data[i][j]=3;\n\tif(in==\"Magenta\") data[i][j]=4;\n\tif(in==\"Green\") data[i][j]=5;\n\tif(in==\"Cyan\") data[i][j]=6;\n      }\n      if(judge(i)) count++;\n    }\n    int ans=n-count;\n    if(ans<0) ans=0;\n    cout << ans << endl;\n  }\n  return 0;\n}\n\nbool judge(int n){\n  if(n==0) return true;\n  int tmp[6];\n  for(int i=0;i<6;i++){\n    tmp[i]=data[n][i];\n  }\n  for(int i=0;i<n;i++){\n    for(int j=0;j<4;j++){\n      for(int k=0;k<4;k++){\n\tfor(int a=0;a<4;a++){\n\t  if(tmp[0]==data[i][0] && tmp[1]==data[i][1] && tmp[2]==data[i][2] && tmp[3]==data[i][3] && tmp[4]==data[i][4] && tmp[5]==data[i][5]) return false;\n\t  int ttt[6];\n\t  for(int b=0;b<6;b++){\n\t    ttt[b]=tmp[b];\n\t  }\n\t  ttt[0]=tmp[0];\n\t  ttt[1]=tmp[2];\n\t  ttt[2]=tmp[4];\n\t  ttt[3]=tmp[1];\n\t  ttt[4]=tmp[3];\n\t  ttt[5]=tmp[5];\n\t  for(int b=0;b<6;b++){\n\t    tmp[b]=ttt[b];\n\t  }\n\t}\n\tint tt[6];\n\tfor(int l=0;l<6;l++){\n\t  tt[l]=tmp[l];\n\t}\n\ttt[0]=tmp[1];\n\ttt[1]=tmp[5];\n\ttt[2]=tmp[2];\n\ttt[3]=tmp[3];\n\ttt[4]=tmp[0];\n\ttt[5]=tmp[4];\n\tfor(int l=0;l<6;l++){\n\t  tmp[l]=tt[l];\n\t}\n      }\n      int t[6];\n      for(int k=0;k<6;k++){\n\tt[k]=tmp[k];\n      }\n      t[0]=tmp[3];\n      t[1]=tmp[1];\n      t[2]=tmp[0];\n      t[3]=tmp[5];\n      t[4]=tmp[4];\n      t[5]=tmp[2];\n      for(int k=0;k<6;k++){\n\ttmp[k]=t[k];\n      }\n    }\n  }\n  return true;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <set>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n#define mp std::make_pair\n\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef std::pair<int,int> P;\ntypedef std::pair<int,P> State;\n\nconst int INF = 1001001001;\n\n// S N E W(南北東西)\nconst int dx[8] = {0, 0, 1, -1, 1, 1, -1, -1}, dy[8] = {1, -1, 0, 0, 1, -1, 1, -1};\n\nconst int MAX_N = 30;\n\nclass UnionFind{\npublic:\n    UnionFind(){}\n    UnionFind(int n){\n        REP(i, n){\n            par[i] = i;\n            rank[i] = 0;\n        }\n    }\n    int find(int x){\n        if(x == par[x])return x;\n        return par[x] = find(par[x]);\n    }\n    bool same(int x, int y){\n        return find(x) == find(y);\n    }\n    void unite(int x, int y){\n        x = find(x);\n        y = find(y);\n        if(x == y){return;}\n        \n        if(rank[x] > rank[y]){\n            par[y] = x;\n        }else{\n            par[x] = y;\n            if(rank[x] == rank[y]){rank[y]++;}\n        }\n    }\nprivate:\n    int rank[MAX_N], par[MAX_N];\n};\n\nint N;\nint dices[30][6];\nstd::string colors[6] = {\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\nconst std::vector<int> route[] = {\n    {0, 1, 5, 4},\n    {1, 2, 4, 3}\n}, remaining[] = {{2, 3}, {0, 5}};\n\nbool same(int i, int j){\n    // a: ルート, b: 始点, c: 方向\n    REP(a, 2){\n        REP(b, 4){\n            REP(c, 2){\n                REP(d, 2){\n                    REP(e, 4){\n                        REP(f, 2){\n                            int x = b, y = e;\n                            bool can = true;\n                            REP(g, 4){\n                                if(dices[i][route[a][x]] != dices[j][route[d][y]]){can = false; break;}\n                                x = (x + dy[c] + 4) % 4; y = (y + dy[f] + 4) % 4;\n                            }\n                            if(!can){continue;}\n                            if((dices[i][remaining[a][0]] == dices[j][remaining[d][0]] &&\n                                dices[i][remaining[a][1]] == dices[j][remaining[d][1]]) ||\n                               (dices[i][remaining[a][0]] == dices[j][remaining[d][1]] &&\n                                dices[i][remaining[a][1]] == dices[j][remaining[d][0]])){\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return false;\n}\n\nint main(){\n    while(std::cin >> N, N){\n        UnionFind uf(N);\n\n        REP(i, N){\n            REP(j, 6){\n                std::string s;\n                std::cin >> s;\n\n                REP(k, 6){\n                    if(s == colors[k]){dices[i][j] = k;}\n                }\n            }\n        }\n\n        REP(i, N){\n            FOR(j, i+1, N){\n                if(same(i, j)){\n                    uf.unite(i, j);\n                }\n            }\n        }\n\n        int res = N;\n        REP(i, N){\n            if(i == uf.find(i)){res -= 1;}\n        }\n\n        std::cout << res << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate_x( std::vector <int> box );\nstd::vector <int> rotate_y( std::vector <int> box );\nstd::vector <int> rotate_z( std::vector <int> box );\n\n\n// xÉñ]³¹éÖ\nstd::vector <int> rotate_x( std::vector <int> box )\n{\n\t// xñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\tint tmp = box[0];\n\tbox[0] = box[4];\n\tbox[4] = box[5];\n\tbox[5] = box[1];\n\tbox[1] = tmp;\n\n\treturn box;\n\n}\n\n\n// yÉñ]³¹éÖ\nstd::vector <int> rotate_v( std::vector <int> box )\n{\n\t// yñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c1, c4, c2, c5, c3, c6\n\n\tint tmp = box[1];\n\tbox[1] = box[3];\n\tbox[3] = box[4];\n\tbox[4] = box[2];\n\tbox[2] = tmp;\n\n\treturn box;\n\n}\n\n// zÉñ]³¹éÖ\nstd::vector <int> rotate_z( std::vector <int> box )\n{\n\t// zñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\t\n\tint tmp\t= box[0];\n\tbox[0]\t= box[2];\n\tbox[2]\t= box[5];\n\tbox[5]\t= box[3];\n\tbox[3]\t= tmp;\n\n\treturn box;\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\t/*\n\t// debug\n\tstd::vector <int> test( 6, 0 );\n\tfor( int i = 0; i < 6; ++i )\n\t{\n\t\ttest[i] = i + 1;\n\t}\n\n\tfor( int j = 0; j < 4; ++j )\n\t{\n\t\tif( j > 0 )\n\t\t{\n\t\t\ttest = rotate_h( test );\n\t\t}\n\t\tprintf( \"¡\\n\" );\n\t\tfor( int l = 0; l < 6; ++l )\n\t\t{\n\t\t\tprintf( \"%d: %d\\n\", l, test[l] );\n\t\t}\n\t\tputs( \"//==================================================\" );\n\t\t\n\t\t// c\n\t\tfor( int k = 0; k < 4; ++k )\n\t\t{\n\t\t\ttest = rotate_v( test );\n\t\t\tprintf( \"c\\n\" );\n\t\t\tfor( int l = 0; l < 6; ++l )\n\t\t\t{\n\t\t\t\tprintf( \"%d: %d\\n\", l, test[l] );\n\t\t\t}\n\t\t\tputs( \"//==================================================\" );\n\t\t}\n\t}\n\t// debug\n\t*/\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Grdeen\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\n\t\t\t// x\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tbox = rotate_x( box );\n\t\t\t\ttable.insert( box );\n\t\t\t}\n\n\t\t\t// y\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tbox = rotate_y( box );\n\t\t\t\ttable.insert( box );\n\t\t\t}\n\n\t\t\t// z\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tbox = rotate_z( box );\n\t\t\t\ttable.insert( box );\n\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<set>\nusing namespace std;\n#define pb push_back\nint N;\nint co(int i,int j,int k){\n\tif(i>j)swap(i,j);\n\tif(i>k)swap(i,k);\n\tif(j>k)swap(j,k);\n\treturn i*36+j*6+k;\n}\nint main()\n{\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0)return 0;\n\t\tint X[6];\n\t\tset<vector<int> >S;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring SS;\n\t\t\t\tcin >> SS;\n\t\t\t\tif(SS==\"Cyan\")X[j]=0;\n\t\t\t\tif(SS==\"Yellow\")X[j]=1;\n\t\t\t\tif(SS==\"Red\")X[j]=2;\n\t\t\t\tif(SS==\"Magenta\")X[j]=3;\n\t\t\t\tif(SS==\"Green\")X[j]=4;\n\t\t\t\tif(SS==\"Blue\")X[j]=5;\n\t\t\t}\n\t\t\tvector<int>XX;\n\t\t\tXX.pb(co(X[0],X[1],X[2]));\n\t\t\tXX.pb(co(X[1],X[2],X[5]));\n\t\t\tXX.pb(co(X[0],X[1],X[3]));\n\t\t\tXX.pb(co(X[1],X[3],X[5]));\n\t\t\tXX.pb(co(X[0],X[4],X[2]));\n\t\t\tXX.pb(co(X[4],X[2],X[5]));\n\t\t\tXX.pb(co(X[0],X[4],X[3]));\n\t\t\tXX.pb(co(X[4],X[3],X[5]));\n\t\t\tsort(XX.begin(),XX.end());\n\t\t\tS.insert(XX);\n\t\t}\n\t\tprintf(\"%d\\n\",N-(int)S.size());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <iostream>\n\nusing namespace std;\n\nint n;\nstring str[31][6];\n\nbool roll(int x,int y){\n\tbool flag2=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][1];\n\t\tstr[y][1]=str[y][2];\n\t\tstr[y][2]=str[y][4];\n\t\tstr[y][4]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tbool flag=true;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tif(str[y][j]!=str[x][j])flag=false;\n\t\t}\n\t\tif(flag)flag2=true;\n\t}\n\treturn flag2;\n}\n\nbool check(int x,int y){\n\tbool flag=true;\n\tif(roll(x,y))flag=false;\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][1],str[y][4]);\n\tif(roll(x,y))flag=false;\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][1],str[y][4]);\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\treturn flag;\n}\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin >> str[i][j];\n\t\t\t}\n\t\t}\n\t\tint cnt=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tbool flag=true;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(!check(i,j))flag=false;\n\t\t\t}\n\t\t\tif(flag)cnt++;\n\t\t}\n\t\tprintf(\"%d\\n\",n-cnt);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define int long long\nusing namespace std;\n\nclass dice{\npublic:\n    string top, bottom, right, left, front, back;\n    void North();\n    void East();\n    void South();\n    void West();\n    void clockRotate();\n};\nvoid dice:: North(){\n    string tmp = top;\n    top = front;\n    front = bottom;\n    bottom = back;\n    back = tmp;\n}\nvoid dice:: East(){\n    string tmp = top;\n    top = left;\n    left = bottom;\n    bottom = right;\n    right = tmp;\n}\nvoid dice:: South(){\n    string tmp = top;\n    top = back;\n    back = bottom;\n    bottom = front;\n    front = tmp;\n}\nvoid dice:: West(){\n    string tmp = top;\n    top = right;\n    right = bottom;\n    bottom = left;\n    left = tmp;\n}\nvoid dice:: clockRotate(){\n    string tmp = front;\n    front = right;\n    right = back;\n    back = left;\n    left = tmp;\n}\n\nbool sameDice(dice d1, dice d2){\n    string s = \"NRRRRNRRRRNRRRRNRRRRERRRRERRRRERRRR\";\n    rep(i, 0, s.size()){\n        if(d1.top == d2.top && d1.front == d2.front && d1.right == d2.right && d1.back == d2.back && d1.left == d2.left && d1.bottom == d2.bottom){\n            return true;\n        }\n        if(s[i] == 'N') d1.North();\n        else if(s[i] == 'E') d1.East();\n        else if(s[i] == 'S') d1.South();\n        else if(s[i] == 'W') d1.West();\n        else if(s[i] == 'R') d1.clockRotate();\n    }\n    return false;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        vector<dice> dices;\n        dice d;\n        rep(i, 0, n){\n            cin >> d.top >> d.front >> d.right >> d.left >> d.back >> d.bottom;\n            dices. push_back(d);\n        }\n        vector<int> f(n);\n        rep(i ,0, n) f[i] = i;\n        rep(i, 0, n){\n            rep(j, i + 1, n){\n                if(sameDice(dices[i], dices[j])){\n                    f[i] = f[j];\n                }\n            }\n        }\n        set<int> st;\n        rep(i, 0, n){\n            st.insert(f[i]);\n        }\n        cout << n - st.size() << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i,n) for(int i=0;i<n;i++)\n//#define int long long\nusing namespace std;\n\nstruct Dice\n{\n\tint c[6];\t//??????????????????\n\n\tDice() {}\n\n\t//c0:???, c1:??????, c2:???, c3:?\\\\, c4:???, c5:???\n\tDice(int c0, int c1, int c2, int c3, int c4, int c5)\n\t{\n\t\tc[0] = c0; c[1] = c1; c[2] = c2; c[3] = c3; c[4] = c4; c[5] = c5;\n\t}\n\n\tvoid temae()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[3]; c[3] = c[5]; c[5] = c[1];\n\t\tc[1] = temp;\n\t}\n\n\tvoid oku()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[1]; c[1] = c[5]; c[5] = c[3];\n\t\tc[3] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_migi()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[4]; c[4] = c[3]; c[3] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//y????????¢??????\n\tvoid y_hidari()\n\t{\n\t\tint temp = c[1];\n\t\tc[1] = c[2]; c[2] = c[3]; c[3] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_migi()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[4]; c[4] = c[5]; c[5] = c[2];\n\t\tc[2] = temp;\n\t}\n\n\t//z????????¢??????\n\tvoid z_hidari()\n\t{\n\t\tint temp = c[0];\n\t\tc[0] = c[2]; c[2] = c[5]; c[5] = c[4];\n\t\tc[4] = temp;\n\t}\n\n\t//1???????????\\?????????????????¢??????2????¨????????????´????????????????\\\\??????????????°3????\\\\????????????????????????\n\tvoid format()\n\t{\n\t\tif (c[0] == 1) {\n\t\t\t;\n\t\t} else if (c[1] == 1) {\n\t\t\toku();\n\t\t} else if (c[2] == 1) {\n\t\t\tz_hidari();\n\t\t} else if (c[3] == 1) {\n\t\t\ttemae();\n\t\t} else if (c[4] == 1) {\n\t\t\tz_migi();\n\t\t} else if (c[5] == 1) {\n\t\t\toku();\n\t\t\toku();\n\t\t}\n\n\t\tif (c[1] == 2)\n\t\t{\n\t\t\ty_migi();\n\t\t\ty_migi();\n\t\t} else if (c[2] == 2) {\n\t\t\ty_migi();\n\t\t} else if (c[4] == 2) {\n\t\t\ty_hidari();\n\t\t} else if (c[3] == 2) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (c[1] == 3)\n\t\t\t{\n\t\t\t\ty_migi();\n\t\t\t\ty_migi();\n\t\t\t} else if (c[2] == 3) {\n\t\t\t\ty_migi();\n\t\t\t} else if (c[4] == 3) {\n\t\t\t\ty_hidari();\n\t\t\t}\n\t\t}\n\t}\n\n\tbool operator == (const Dice &d) const {\n\t\tDice td1 = Dice(c[0], c[1], c[2], c[3], c[4], c[5]);\n\t\tDice td2 = d;\n\n\t\ttd1.format();\n\t\ttd2.format();\n\n\t\trep(i,6)\n\t\t{\n\t\t\tif (td1.c[i] != td2.c[i]) return false;\n\t\t}\n\t\treturn true;\n\t}\n};\n\nint n;\nmap<string, int> c2n;\nstring color[6];\nint cc[6];\nDice d[30];\n\nsigned main()\n{\n\tc2n[\"Red\"] = 1;\n\tc2n[\"Yellow\"] = 2;\n\tc2n[\"Blue\"] = 3;\n\tc2n[\"Magenta\"] = 4;\n\tc2n[\"Green\"] = 5;\n\tc2n[\"Cyan\"] = 6;\n\n\twhile (true)\n\t{\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\trep(j,n)\n\t\t{\n\t\t\trep(i,6) cin>> color[i];\n\t\t\tcc[0] = c2n[color[0]];\n\t\t\tcc[1] = c2n[color[1]];\n\t\t\tcc[2] = c2n[color[2]];\n\t\t\tcc[3] = c2n[color[4]];\n\t\t\tcc[4] = c2n[color[3]];\n\t\t\tcc[5] = c2n[color[5]];\n\t\t\td[j] = Dice(cc[0], cc[1], cc[2], cc[3], cc[4], cc[5]);\n\t\t}\n\n\t\tint ans = 0;\n\t\tfor (int i=0; i<n; i++)\n\t\t{\n\t\t\tfor (int j=i+1; j<n; j++)\n\t\t\t{\n\t\t\t\tif (d[i] == d[j]) ans++;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<string>\n#include<map>\n#include<queue>\n#include<set>\n\nusing namespace std;\n\n#define rep(i,n) for(int i=0;i<n;i++)\n#define reps(i,n) for(int i=1;i<=n;i++)\n\nclass S{\n\tpublic:\n\tvector<int> a;\n\tS(){}\n\tS(vector<int> a):a(a){}\n\tvoid x(){\n\t\tint tmp = a[0];\n\t\ta[0]=a[4];\n\t\ta[4]=a[5];\n\t\ta[5]=a[1];\n\t\ta[1]=tmp;\n\t}\n\tvoid y(){\n\t\tint tmp = a[1];\n\t\ta[1]=a[2];\n\t\ta[2]=a[4];\n\t\ta[4]=a[3];\n\t\ta[3]=tmp;\n\t}\n\tvoid z(){\n\t\tint tmp = a[0];\n\t\ta[0]=a[2];\n\t\ta[2]=a[5];\n\t\ta[5]=a[3];\n\t\ta[3]=tmp;\n\t}\n};\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\t\n\t\tmap<vector<int>,int> memo;\n\t\t\n\t\trep(i,n){\n\t\t\tvector<int> b;\n\t\t\trep(j,6){\n\t\t\t\tstring a;\n\t\t\t\tcin>>a;\n\t\t\t\tswitch(a[0]){\n\t\t\t\t\tcase 'C':b.push_back(0);break;\n\t\t\t\t\tcase 'Y':b.push_back(1);break;\n\t\t\t\t\tcase 'R':b.push_back(2);break;\n\t\t\t\t\tcase 'M':b.push_back(3);break;\n\t\t\t\t\tcase 'G':b.push_back(4);break;\n\t\t\t\t\tcase 'B':b.push_back(5);break;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tS si = S(b);\n\t\t\trep(j,4){\n\t\t\t\tsi.x();\n\t\t\t\trep(k,4){\n\t\t\t\t\tsi.y();\n\t\t\t\t\trep(p,4){\n\t\t\t\t\t\tsi.z();\n\t\t\t\t\t\tmemo[si.a]=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",n-(memo.size()/24));\n\t\t\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define rep(i, a, n) for(int i = a; i < n; i++)\n#define repb(i, a, b) for(int i = a; i >= b; i--)\n#define all(a) a.begin(), a.end()\n#define int long long\nusing namespace std;\n\nclass dice{\npublic:\n    string top, bottom, right, left, front, back;\n    void North();\n    void East();\n    void South();\n    void West();\n    void clockRotate();\n};\nvoid dice:: North(){\n    string tmp = top;\n    top = front;\n    front = bottom;\n    bottom = back;\n    back = tmp;\n}\nvoid dice:: East(){\n    string tmp = top;\n    top = left;\n    left = bottom;\n    bottom = right;\n    right = tmp;\n}\nvoid dice:: South(){\n    string tmp = top;\n    top = back;\n    back = bottom;\n    bottom = front;\n    front = tmp;\n}\nvoid dice:: West(){\n    string tmp = top;\n    top = right;\n    right = bottom;\n    bottom = left;\n    left = tmp;\n}\nvoid dice:: clockRotate(){\n    string tmp = front;\n    front = right;\n    right = back;\n    back = left;\n    left = tmp;\n}\n\nbool sameDice(dice d1, dice d2){\n    string s = \"NRRRRNRRRRNRRRRNRRRRERRRRERRRRERRRR\";\n    rep(i, 0, s.size()){\n        if(d1.top == d2.top && d1.front == d2.front && d1.right == d2.right && d1.back == d2.back && d1.left == d2.left && d1.bottom == d2.bottom){\n            return true;\n        }\n        if(s[i] == 'N') d1.North();\n        else if(s[i] == 'E') d1.East();\n        else if(s[i] == 'S') d1.South();\n        else if(s[i] == 'W') d1.West();\n        else if(s[i] == 'R') d1.clockRotate();\n    }\n    return false;\n}\n\nsigned main(){\n    int n;\n    while(cin >> n, n){\n        vector<dice> dices;\n        dice d;\n        int ans = 0;\n        rep(i, 0, n){\n            cin >> d.top >> d.front >> d.right >> d.left >> d.back >> d.bottom;\n            dices. push_back(d);\n        }\n        rep(i, 0, n){\n            rep(j, i + 1, n){\n                if(sameDice(dices[i], dices[j])) ans++;\n            }\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\nchar cube[30][6];\n\nint main()\n{\n\tint n;\n\twhile(cin >> n){\n\t\tif(n==0)\n\t\t\tbreak;\n\t\tstring str;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin >> str;\n\t\t\t\tcube[i][j] = str[0];\n\t\t\t}\n\t\t}\n\t\tint count = 0;\n\t\tfor(int i=0;i<n-1;i++){\n\t\t\tbool flag=false,flug=false;\n\t\t\tstring so = \"\";\n\t\t\tso += cube[i][3];\n\t\t\tso += cube[i][0];\n\t\t\tso += cube[i][2];\n\t\t\tso += cube[i][5];\n\t\t\tfor(int j=i+1;j<n;j++){\n\t\t\t\t//2,5»è\n\t\t\t\tif((cube[i][1] == cube[j][1] && cube[i][4] == cube[j][4]) || (cube[i][1] == cube[j][4] && cube[i][4] == cube[j][1]))\n\t\t\t\t\tflag = true;\n\t\t\t\t//cè»è\n\t\t\t\tstring ds = \"\";\n\t\t\t\tds += cube[j][3];\n\t\t\t\tds += cube[j][0];\n\t\t\t\tds += cube[j][2];\n\t\t\t\tds += cube[j][5];\n\t\t\t\tstring dds = \"\";\n\t\t\t\tdds += cube[j][5];\n\t\t\t\tdds += cube[j][2];\n\t\t\t\tdds += cube[j][0];\n\t\t\t\tdds += cube[j][3];\n\t\t\t\tif(so == ds || so == dds)\n\t\t\t\t\tflug = true;\n\t\t\t\tif(flag && flug){\n\t\t\t\t\tcount++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t//ÇÁ¿à¨kÅJEg{{uCN\n\t\t\t}\n\t\t}\n\t\tcout << count << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <complex>\n#include <algorithm>\n#include <vector>\n#include <stack>\n#include <string>\n#include <queue>\n#include <cmath>\n#include <math.h>\n#include <numeric>\n#include <list>\n#include <sstream>\n#include <fstream>\n#include <iomanip>\n#include <climits>\n#include <set>\n#include <memory.h>\n#include <memory>\n#include <cstdio>\n#include <cstdlib>\n#include <cctype>\n#include <cassert>\n#include <map>\n#include <cassert>\n#include <time.h>\n#include <ctime>\n\nusing namespace std;\n\ntypedef complex<double> xy_t;\ntypedef pair<xy_t, xy_t> line;\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<int , P> PP;\ntypedef pair<int, string> Ps;\ntypedef vector<int> vec;\ntypedef vector<vec> mat;\nconst int INF = 1 << 27;\nconst double EPS = 1e-9;\nconst double PI = 3.1415926535897932384626433832795;\nconst int CLK = CLOCKS_PER_SEC;\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define rep2(i, m, n) for(int i = m; i < n; i++)\n\nint dice[24][6] = {\n\t{0, 1, 2, 4, 3, 5}, {0, 2, 4, 3, 1, 5}, {0, 4, 3, 1, 2, 5}, {0, 3, 1, 2, 4, 5},\n\t{1, 5, 2, 0, 3, 4}, {1, 2, 0, 3, 5, 4}, {1, 0, 3, 5, 2, 4}, {1, 3, 5, 2, 0, 4},\n\t{2, 1, 5, 4, 0, 3}, {2, 5, 4, 0, 1, 3}, {2, 4, 0, 1, 5, 3}, {2, 0, 1, 5, 4, 3},\n\t{3, 1, 0, 4, 5, 2}, {3, 0, 4, 5, 1, 2}, {3, 4, 5, 1, 0, 2}, {3, 5, 1, 0, 4, 2},\n\t{4, 0, 2, 5, 3, 1}, {4, 2, 5, 3, 0, 1}, {4, 5, 3, 0, 2, 1}, {4, 3, 0, 2, 5, 1},\n\t{5, 1, 3, 4, 2, 0}, {5, 3, 4, 2, 1, 0}, {5, 4, 2, 1, 3, 0}, {5, 2, 1, 3, 4, 0}\n};\n\nmap<vector<string>, bool> used;\n\n\nint main(){\n\tvector<string> vs(6, \"\");\n\tvector<string> cs(6, \"\");\n\tint n, res;\n\twhile(cin >> n && n ){\n\t\tres = 0;\n\t\tused.clear();\n\t\trep(i, n){\n\t\t\trep(j, 6) cin >> cs[j];\n\t\t\trep(j, 24){\n\t\t\t\trep(k, 6){\n\t\t\t\t\tvs[k] = cs[dice[j][k]];\n\t\t\t\t}\n\t\t\t\tif(used[vs]) res++;\n\t\t\t\tused[vs] = true;\n\t\t\t}\n\t\t}\n\t\tcout << res / 24 << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\nusing namespace std;\nconst int N = 6;\nstruct T{string f[N];}c,d,e;\n\nbool operator<(const T&l,const T&r)\n{\n\tfor(int i=0;i<N;++i)\n\t{\n\t\tif(l.f[i]<r.f[i]) return true;\n\t\telse if(l.f[i]>r.f[i]) return false;\n\t}\n\treturn false;\n}\nvoid r(T&r,int a[4])\n{\n\tstring t = r.f[a[0]];\n\tfor(int i=1;i<4;++i) r.f[a[i-1]] = r.f[a[i]];\n\tr.f[a[3]]=t;\n}\nint main()\n{\n\tint n,i,j,k,a[N][4]={\n\t\t{1,2,4,3},\n\t\t{0,2,5,3},\n\t\t{0,1,5,4},\n\t\t{0,1,5,4},\n\t\t{0,2,5,3},\n\t\t{1,2,4,3},\n\t};\n\twhile(cin>>n,n)\n\t{\n\t\tset<T>s;\n\t\tfor(i=0;i<n;++i)\n\t\t{\n\t\t\tfor(j=0;j<N;++j)cin>>c.f[j];\n\t\t\t\n\t\t\td=c;\n\t\t\tfor(j=0;j<4;++j)\n\t\t\t{\n\t\t\t\tr(d, a[0]);\n\t\t\t\tfor(k=0;k<4;++k)\n\t\t\t\t{\n\t\t\t\t\tr(d,a[1]);\n\t\t\t\t\ts.insert(d);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j=0;j<4;++j)\n\t\t\t{\n\t\t\t\tr(d,a[2]);\n\t\t\t\tfor(k=0;k<4;++k)\n\t\t\t\t{\n\t\t\t\t\tr(d,a[1]);\n\t\t\t\t\ts.insert(d);\n\t\t\t\t}\n\t\t\t}\n\t\t\t;\n\t\t}\n\t\tprintf(\"%d\\n\",n-s.size()/24);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define pb push_back\n#define fr first\n#define sc second\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef pair<int,pii> pip; \nconst int INF = (1<<25);\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\n\nint main(){\n  int n;\n  int ans=0;\n  int box[30][6];\n  bool b[30][30];\n  int samenum;\n  while(cin>> n,n){\n    ans=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n    \tb[i][j]=false;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tstring s;\n\tcin>> s;\n\tif(s==\"Red\") box[i][j]=0;\n\telse if(s==\"Yellow\") box[i][j]=1;\n\telse if(s==\"Blue\") box[i][j]=2;\n\telse if(s==\"Magenta\") box[i][j]=3;\n\telse if(s==\"Green\") box[i][j]=4;\n\telse if(s==\"Cyan\") box[i][j]=5;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n\tif(i==j) continue;\n\tif(b[i][j]==true) continue;\n\tb[i][j]=b[j][i]=true;\n\tfor(int k=0;k<6;k++){\n\t  if(box[i][0]==box[j][k]){\n\t    samenum=k; break;\n\t  }\n\t}\n\tif(box[j][samenum]-box[i][0]==0){\n\t  if(box[i][5]==box[j][5]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==1){\n\t  if(box[i][5]==box[j][4]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==2){\n\t  if(box[i][5]==box[j][3]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==3){\n\t  if(box[i][5]==box[j][2]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==4){\n\t  if(box[i][5]==box[j][1]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==5){\n\t  if(box[i][5]==box[j][0]){\n\t    ans++;\n\t  }\n\t}\n      }\n    }\n    cout<< ans<< endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint main(){\n  char c1[30][10],c2[30][10],c3[30][10],c4[30][10],c5[30][10],c6[30][10];\n  int n;\n  while(1){\n    int flag=0;\n    int count=0;\n    int ans=0;\n    cin>>n;\n    if(n==0) break;\n    \n    for(int i=0;i<n;i++){\n      scanf(\"%s %s %s %s %s %s\",c1[i],c2[i],c3[i],c4[i],c5[i],c6[i]);\n    }\n    for(int i=0;i<n-1;i++){\n      for(int j=i+1;j<n;j++){\n\tif(strcmp(c6[i],c6[j])==0){\n\t  count++;\n\t}\n      }\n    }\n    printf(\"%d\\n\",count);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define rep(i,n)for(int i=0;i<n;i++)\nusing namespace std;\n\nstring s[30][6];\nbool used[30];\nbool equal(string*a, string*b) {\n\trep(i, 6) {\n\t\tif (a[i] != b[i])return false;\n\t}\n\treturn true;\n}\nbool rotate(string*a, string*b) {\n\tstring s[6];\n\trep(j, 3) {\n\t\trep(i, 6)s[i] = a[i];\n\t\ta[4] = s[0]; a[0] = s[1]; a[1] = s[4];\n\t\trep(i, 4) {\n\t\t\trep(k, 6)s[k] = a[k];\n\t\t\ta[3] = s[0]; a[0] = s[2]; a[2] = s[5]; a[5] = s[3];\n\t\t\tif (equal(a, b))return true;\n\t\t}\n\t}\n\treturn false;\n}\nbool judge(string*a, string*b) {\n\tstring s[6];\n\tif (rotate(a, b))return true;\n\trep(i, 6)s[i] = a[i];\n\ta[3] = s[4]; a[2] = s[1]; a[1] = s[3]; a[4] = s[2];\n\tif (rotate(a, b))return true;\n\trep(i, 6)s[i] = a[i];\n\ta[3] = s[1]; a[0] = s[2]; a[2] = s[4]; a[5] = s[3]; a[1] = s[5]; a[0] = s[4];\n\tif (rotate(a, b))return true;\n\treturn false;\n}\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\trep(i, n)rep(j, 6)cin >> s[i][j];\n\t\tvector<int>v[30];\n\t\trep(i, n)for (int j = i + 1; j < n; j++) {\n\t\t\tif (judge(s[i], s[j])) {\n\t\t\t\tv[i].push_back(j);\n\t\t\t}\n\t\t}\n\t\tint cnt = 0;\n\t\tmemset(used, 0, sizeof(used));\n\t\trep(i, n) {\n\t\t\tif (used[i])continue;\n\t\t\tcnt++;\n\t\t\tfor (int j : v[i])used[j] = true;\n\t\t}\n\t\tprintf(\"%d\\n\", n - cnt);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n??\nint main()\n{\n????????int i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n????????char c[8];\n????????char color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n??\n????????scanf(\"%d\", &n);\n????????while (n > 0) {\n????????????????for (i0 = 0; i0 < n; i0++) {\n????????????????????????for (i1 = 0; i1 < 6; i1++) {\n????????????????????????????????scanf(\"%s\", c);\n????????????????????????????????for (i2 = 0; i2 < 6; i2++) {\n????????????????????????????????????????if (strcmp(c, color[i2]) == 0) {\n????????????????????????????????????????????????d[i0][i1] = i2;\n????????????????????????????????????????????????break;\n????????????????????????????????????????}\n????????????????????????????????}\n????????????????????????}\n????????????????}\n????????????????m = 0;\n????????????????for (i0 = 0; i0 < n; i0++)\n????????????????????????s[i0] = 1;\n????????????????for (i0 = 0; i0 < n; i0++) {\n????????????????????????if (s[i0] > 0) {\n????????????????????????????????m++;\n????????????????????????????????s[i0] = 0;\n????????????????????????????????for (i1 = i0+1; i1 < n; i1++) {\n????????????????????????????????????????sw = 0;\n????????????????????????????????????????for (i2 = 0; i2 < 6 && sw == 0; i2++) {\n????????????????????????????????????????????????for (i3 = 0; i3 < 6 && sw == 0; i3++) {\n????????????????????????????????????????????????????????if (d[i0][i2] == d[i1][i3]) {\n????????????????????????????????????????????????????????????????if (d[i0][5-i2] != d[i1][5-i3])\n????????????????????????????????????????????????????????????????????????sw = 1;\n????????????????????????????????????????????????????????}\n????????????????????????????????????????????????}\n????????????????????????????????????????}\n????????????????????????????????????????if (sw == 0)\n????????????????????????????????????????????????s[i1] = 0;\n????????????????????????????????}\n????????????????????????}\n????????????????}\n????????????????printf(\"%d\\n\", n-m);\n????????????????scanf(\"%d\", &n);\n????????}\n??\n????????return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101];\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint kotaneet = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1) {\n\t\t\t\t\t//cout << \"tatuya0\" << endl;\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t//cout << \"tatuya1\" << endl;\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t//cout << \"tatuya2\" << endl;\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\t//cout << \"tatuya3\" << endl;\n\t\t\t\t\t\t\t\tkotaneet++;\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << kotaneet << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n \nenum { TOP=0, FRONT=1, LEFT=2, RIGHT=3, BACK=4, BOTTOM=5 };\nenum { WEST = 0, NORTH=1, EAST=2, SOUTH=3 };\n \nclass Dice\n{\npublic:\n  int num[6];\n   \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n   \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n       \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n       \n    }\n     \n  }\n   \npublic:\n  \n  Dice() {\n  }\n  \n  Dice(int t, int f, int l, int r, int b, int m)\n  {\n    num[TOP] = t, num[FRONT] = f, num[LEFT] = l, num[RIGHT] = r, num[BACK] = b, num[BOTTOM] = m;\n  }\n  Dice(vector<int> v)\n  {\n    num[TOP] = v[0], num[FRONT] = v[1], num[LEFT] = v[2], num[RIGHT] = v[3], num[BACK] = v[4], num[BOTTOM] = v[5];\n  }\n  \n  bool equals (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      for(int j=0; j<4; j++) {\n        rhs.roll(WEST);\n        bool ng = false;\n        for(int k=0; k<6; k++) {\n          if(num[k]!=rhs.num[k]) { ng = true; break; }\n        }\n        if(ng) continue;\n        return true;\n      }\n    }\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      for(int j=0; j<4; j++) {\n        rhs.roll(EAST);\n        bool ng = false;\n        for(int k=0; k<6; k++) {\n          if(num[k]!=rhs.num[k]) { ng = true; break; }\n        }\n        if(ng) continue;\n        return true;\n      }\n    }\n    return false;\n  }\n};\n\nmap<string, int> mp;\n\nint main() {\n  \n  mp[\"Red\"]=0, mp[\"Yellow\"]=1, mp[\"Blue\"]=2, mp[\"Magenta\"]=3, mp[\"Green\"]=4, mp[\"Cyan\"]=5;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      swap(v[2], v[3]);\n      d.push_back(Dice(v));\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equals(d[j])) {\n            d.erase(d.begin()+j);\n            update = true; cnt ++;\n            goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << cnt << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#define rep2(x,from,to) for(int x=(from);(x)<(to);(x)++)\n#define rep(x,to) rep2(x,0,to)\nusing namespace std;\nstring color[6] =  {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\nint* south(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[1];\n\tc[1] = c[5];\n\tc[5] = c[4];\n\tc[4] = buf;\n\treturn c;\n}\nint* east(int c[6]) {\n\tint buf = c[0];\n\tc[0] = c[2];\n\tc[2] = c[5];\n\tc[5] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nint* round(int c[6]) {\n\tint buf = c[1];\n\tc[1] = c[2];\n\tc[2] = c[4];\n\tc[4] = c[3];\n\tc[3] = buf;\n\treturn c;\n}\nbool check(int d1[6], int d2[6]) {\n\trep(i,6) {\n\t\tif(i%2)d1 = south(d1);\n\t\telse d1 = east(d1);\n\t\trep(j,4) {\t\n\t\t\td1 = round(d1);\n\t\t\tbool f = 1;\n\t\t\trep(k,6) {\n\t\t\t\tif(d1[k] != d2[k]) {\n\t\t\t\t\tf = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\tif(f) return true;\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tint n, d[30][6] = {};\n\tstring s;\n\twhile(cin >> n, n) {\n\t\trep(i,n) {\n\t\t\trep(j,6) {\n\t\t\t\tcin >> s;\n\t\t\t\trep(k,6) {\n\t\t\t\t\tif(color[k] == s) d[i][j] = k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint a[30] = {};\n\t\trep(i,n) {\n\t\t\trep2(j,i+1,n) {\n\t\t\t\tif(check(d[i],d[j])) {\n\t\t\t\t\ta[i]++, a[j]++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ret = 0;\n\t\trep(i,30) {\n\t\t\tif(a[i]) ret++;\n\t\t}\n\t\tif(ret) ret--;\n\t\tcout << ret << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<set>\n#include<vector>\n#include<string>\n#include<algorithm>\nusing namespace std;\nint colornum(string color){\n  //cout<<color<<endl;\n  if(color==\"Red\")return 0;\n  if(color==\"Yellow\")return 1;\n  if(color==\"Blue\")return 2;\n  if(color==\"Magenta\")return 3;\n  if(color==\"Green\")return 4;\n  if(color==\"Cyan\")return 5;\n  return 0;\n}\n\nint main(){\n  int n;\n  while(true){\n    cin>>n;\n    if(!n)break;\n    set<int> dice;\n    for(int i=0;i<n;i++){\n      int d=0;\n      int red = 0;\n      vector<string> colors(6);\n      for(int j=0;j<6;j++){\n\tcin>>colors[j];\n\tif (colors[j]==\"Red\")\n\t  red = j;\n      }\n      d = colornum(colors[5-red])*1296;\n      int side[4];\n      if(red==0)side[0] = 1,side[1]=2;\n      if(red==1)side[0] = 0,side[1]=3;\n      if(red==2)side[0] = 0,side[1]=1;\n      if(red==3)side[0] = 0,side[1]=4;\n      if(red==4)side[0] = 0,side[1]=2;\n      if(red==5)side[0] = 1,side[1]=3;\n      side[2] = 5-side[0];\n      side[3] = 5-side[1];\n      int dmin = 1296;\n      for(int j=0;j<4;j++){\n\tint dd = 0;\n\tfor(int k=0;k<4;k++){\n\t  dd *= 6;\n\t  dd += colornum(colors[side[(j+k)%4]]);\n\t}\n\tif(dd<dmin)dmin=dd;\n      }\n      d += dmin;\n      cout<<d<<endl;\n      dice.insert(d);\n    }\n    cout<<(n-dice.size())<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\nusing namespace std;\n\nint same[][4] = {\n\t{1, 2, 4, 3},\n\t{5, 2, 0, 3},\n\t{1, 5, 4, 0},\n\t{1, 0, 4, 5},\n\t{0, 2, 5, 3},\n\t{1, 3, 4, 2},\n};\n\nint s2i(string s) {\n\tif(s == \"Red\")\n\t\treturn 0;\n\tif(s == \"Yellow\")\n\t\treturn 1;\n\tif(s == \"Blue\")\n\t\treturn 2;\n\tif(s == \"Magenta\")\n\t\treturn 3;\n\tif(s == \"Green\")\n\t\treturn 4;\n\tif(s == \"Cyan\")\n\t\treturn 5;\n\treturn -1;\n}\n\nbool eq(vector<int> a, vector<int> b) {\n\tint indx0, indx1;\n\tfor(int i = 0; i < 6; i++) {\n\t\tif(a[i] == 0)\n\t\t\tindx0 = i;\n\t\tif(b[i] == 0)\n\t\t\tindx1 = i;\n\t}\n\n\tfor(int i = 0; i < 4; i++) {\n\t\tbool flg = true;\n\t\tfor(int j = 0; j < 4; j++) {\n\t\t\tflg &= a[same[indx0][j]] == b[same[indx1][(j + i) % 4]];\n\t\t}\n\t\tif(flg)\n\t\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n, n) {\n\t\tvector<vector<int> > v;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tvector<int> tmp;\n\t\t\tfor(int j = 0; j < 6; j++) {\n\t\t\t\tstring s;\n\t\t\t\tcin >> s;\n\t\t\t\ttmp.push_back(s2i(s));\n\t\t\t}\n\t\t\tbool flg = true;\n\t\t\tfor(int j = 0; j < v.size(); j++) {\n\t\t\t\tif(eq(v[j], tmp)) {\n\t\t\t\t\tflg = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flg)\n\t\t\t\tv.push_back(tmp);\n\t\t}\n\n\t\tcout << n - v.size() << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <string.h>\nusing namespace std;\n\nint g[24][3] = { {0, 1, 2}, {0, 2, 4}, {0, 4, 3}, {0, 3, 1}, {1, 5, 2},\n\t\t\t\t{1, 2, 0}, {1, 0, 3}, {1, 3, 5}, {2, 0, 1}, {2, 1, 5},\n\t\t\t\t{2, 5, 4}, {2, 4, 0}, {3, 1, 0}, {3, 0, 4}, {3, 4, 5},\n\t\t\t\t{3, 5, 1}, {4, 0, 2}, {4, 2, 5}, {4, 5, 3}, {4, 3, 0},\n\t\t\t\t{5, 2, 1}, {5, 1, 3}, {5, 3, 4}, {5, 4, 2} };\n\nbool ck(string* a, string* b) {\n\tint k = 0;\n\twhile (b[k] != a[0])\n\t\tk++;\n\n\tif (b[5 - k] == a[5]) {\n\t\tint l = 0;\n\t\twhile (b[l] != a[1])\n\t\t\tl++;\n\n\t\tif (b[5 - l] == a[4]) {\n\t\t\tint u = 0;\n\t\t\twhile (b[u] != a[2])\n\t\t\t\tu++;\n\n\t\t\tfor(int i = 0; i < 24; i++)\n\t\t\t\tif (g[i][0] == k && g[i][1] == l && g[i][2] == u)\n\t\t\t\t\treturn 1;\n\t\t}\n\t}\n\n\treturn 0;\n}\n\nint main()\n{\t\n\tint n;\n\n\tcin >> n;\n\n\twhile (n > 0) {\n\t\tstring c[30][6];\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tfor (int j = 0; j < 6; j++)\n\t\t\t\tcin >> c[i][j];\n\n\t\tbool f[30];\n\t\tmemset(f, 0, sizeof(f));\n\n\t\tfor (int i = 0; i < n - 1; i++) {\n\t\t\tfor (int j = i + 1; j < n; j++) {\n\t\t\t\tif (ck(c[i], c[j]))\n\t\t\t\t\tf[j] = 1;\n\t\t\t}\n\t\t}\n\n\t\tint m = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tif (f[i])\n\t\t\t\tm++;\n\n\t\tcout << m << endl;\n\n\t\tcin >> n;\n\t}\n\t\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,flg[31],i,j,k,cnt;\n\tchar cube[31][10][10];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0) break;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++) scanf(\"%s\",&cube[i][j]);\n\t\t\tflg[i]=0;\n\t\t}\n\t\tfor(i=0;i<n;i++){\t\n\t\t\tfor(j=0;j<3;j++){\n\t\t\t\tfor(k=i+1;k<n;k++){\n\t\t\t\t\tif(j==0){\n\t\t\t\t\t\tif(cube[i][j][0]!=cube[k][0][0]&&cube[i][j][0]!=cube[k][5][0]) break;\n\t\t\t\t\t}\n\t\t\t\t\telse if(j==1){\n\t\t\t\t\t\tif(cube[i][j][0]!=cube[k][1][0]&&cube[i][j][0]!=cube[k][4][0]) break;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(cube[i][j][0]!=cube[k][2][0]&&cube[i][j][0]!=cube[k][3][0]) break;\n\t\t\t\t\t\telse flg[k]=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcnt=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tif(flg[i]==1) cnt++;\n\t\t}\n\t\tprintf(\"%d\\n\",cnt);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define sc second\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef pair<int,pii> pip; \nconst int INF = (1<<25);\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\n\nint main(){\n  int n;\n  int ans=0;\n  int box[30][6];\n  bool b[30][30];\n  int samenum;\n  while(cin>> n,n){\n    ans=0;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n    \tb[i][j]=false;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<6;j++){\n\tstring s;\n\tcin>> s;\n\tif(s==\"Red\") box[i][j]=0;\n\telse if(s==\"Yellow\") box[i][j]=1;\n\telse if(s==\"Blue\") box[i][j]=2;\n\telse if(s==\"Magenta\") box[i][j]=3;\n\telse if(s==\"Green\") box[i][j]=4;\n\telse if(s==\"Cyan\") box[i][j]=5;\n      }\n    }\n    for(int i=0;i<n;i++){\n      for(int j=0;j<n;j++){\n\tif(i==j) continue;\n\tif(b[i][j]==true) continue;\n\tb[i][j]=b[j][i]=true;\n\tfor(int k=0;k<6;k++){\n\t  if(box[i][0]==box[j][k]){\n\t    samenum=k; break;\n\t  }\n\t}\n\tif(box[j][samenum]-box[i][0]==0){\n\t  if(box[i][5]==box[j][5]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==1){\n\t  if(box[i][5]==box[j][4]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==2){\n\t  if(box[i][5]==box[j][3]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==3){\n\t  if(box[i][5]==box[j][2]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==4){\n\t  if(box[i][5]==box[j][1]){\n\t    ans++;\n\t  }\n\t}\n\telse if(box[j][samenum]-box[i][0]==5){\n\t  if(box[i][5]==box[j][0]){\n\t    ans++;\n\t  }\n\t}\n      }\n    }\n    cout<< ans<< endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _CRT_SECURE_NO_WARNINGS\n#include<cstdio>\n#include<cmath>\n#include<sstream>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<utility>\n#include<iomanip>\n#include<vector>\n#include<string>\n#include<queue>\n#include<stack>\n#include<map>\n#include<list>\n#include<set>\n#include<stdlib.h>\n#include<time.h>\n#define rep(i,n) for(int i=0;i<(int)n;i++)\n#define repp(i,k,n) for(int i=k;i<(int)n;i++)\nusing namespace std;\nconst int dx[4] = { 0, 1, 0, -1 }, dy[4] = { 1, 0, -1, 0 };\nconst int dX[8] = { 0, 1, 1, 1, 0, -1, -1, -1 }, dY[8] = { 1, 1, 0, -1, -1, -1, 0, 1 };\nstruct XY\n{\n\tint x;\n\tint y;\n};\nvector<long long> Prime;\nvoid SieveOfEratosthenes(long long e) //setup vector<long long>Prime(~x)\n{\n\tbool *x=new bool[e];\n\tfor (long long i = 0; i <= e; i++)x[i] = false;\n\tfor (long long i = 2; i <= e; i++)\n\t{\n\t\tif (x[i]);\n\t\telse\n\t\t{\n\t\t\tPrime.push_back(i);\n\t\t\tfor (long long l = i; l <= e; l += i)x[l] = true;\n\t\t}\n\t}\n\treturn;\n}\nint StringToInt(string a)\n{\n\tstringstream ss;\n\tint x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nstring IntToString(int a)\n{\n\tstringstream ss;\n\tstring x;\n\tss << a;\n\tss >> x;\n\treturn x;\n}\nint GetRandom(int MIN, int MAX)\n{\n\tstatic int flag=0;\n\tif (flag == 0)\n\t{\n\t\tsrand((unsigned int)time(NULL));\n\t\tflag = 1;\n\t}\n\treturn MIN + (int)(rand()*(MAX - MIN + 1.0) / (1.0 + RAND_MAX));\n}\nint in()\n{\n\tint x;\n\tcin >> x;\n\treturn x;\n}\nvoid outl(string a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid outl(int a)\n{\n\tcout << a << endl;\n\treturn;\n}\nvoid out(string a)\n{\n\tcout << a;\n\treturn;\n}\nvoid out(int a)\n{\n\tcout << a;\n\treturn;\n}\n/*\n(char)'1' - (int)48 = (int)1;\n???1111181\n (char)A=(int)65\n (char)a=(int)97\n*/\n////////////////////////////////////////////////////\n\nint main()\n{\n\tint n;\n\twhile (cin >> n&&n)\n\t{\n\t\tint ans = 0;\n\t\tmap<string, int> x;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tstring z;\n\t\t\tint as = 1;\n\t\t\tfor (int l = 0; l < 6; l++)\n\t\t\t{\n\t\t\t\tchar now[10];\n\t\t\t\tcin >> now;\n\t\t\t\tz += now[0];\n\t\t\t}\n\t\t\tfor (int q = 0; q < 6; q++)\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < 4; i++)\n\t\t\t\t{\n\t\t\t\t\tif (x.count(z))as = 0;\n\t\t\t\t\tswap(z[4], z[3]);\n\t\t\t\t\tswap(z[4], z[1]);\n\t\t\t\t\tswap(z[4], z[2]);\n\t\t\t\t}\n\t\t\t\tstring nn;\n\t\t\t\tnn += z[5];\n\t\t\t\trep(i, 5)nn += z[i];\n\t\t\t\tz = nn;\n\t\t\t}\n\t\t\tans += as;\n\t\t\tfor (int q = 0; q < 6; q++)\n\t\t\t{\n\t\t\t\tfor (int i = 0; i < 4; i++)\n\t\t\t\t{\n\t\t\t\t\tx[z] = 1;\n\t\t\t\t\tswap(z[4], z[3]);\n\t\t\t\t\tswap(z[4], z[1]);\n\t\t\t\t\tswap(z[4], z[2]);\n\t\t\t\t}\n\t\t\t\tstring nn;\n\t\t\t\tnn += z[5];\n\t\t\t\trep(i, 5)nn += z[i];\n\t\t\t\tz = nn;\n\t\t\t}\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate_x( std::vector <int> box );\nstd::vector <int> rotate_y( std::vector <int> box );\nstd::vector <int> rotate_z( std::vector <int> box );\n\n\n// xÉñ]³¹éÖ\nstd::vector <int> rotate_x( std::vector <int> box )\n{\n\t// xñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\tint tmp = box[0];\n\tbox[0] = box[4];\n\tbox[4] = box[5];\n\tbox[5] = box[1];\n\tbox[1] = tmp;\n\n\treturn box;\n\n}\n\n\n// yÉñ]³¹éÖ\nstd::vector <int> rotate_y( std::vector <int> box )\n{\n\t// yñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c1, c4, c2, c5, c3, c6\n\n\tint tmp = box[1];\n\tbox[1] = box[3];\n\tbox[3] = box[4];\n\tbox[4] = box[2];\n\tbox[2] = tmp;\n\n\treturn box;\n\n}\n\n// zÉñ]³¹éÖ\nstd::vector <int> rotate_z( std::vector <int> box )\n{\n\t// zñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\t\n\tint tmp\t= box[0];\n\tbox[0]\t= box[2];\n\tbox[2]\t= box[5];\n\tbox[5]\t= box[3];\n\tbox[3]\t= tmp;\n\n\treturn box;\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\t/*\n\t// debug\n\tstd::vector <int> test( 6, 0 );\n\tfor( int i = 0; i < 6; ++i )\n\t{\n\t\ttest[i] = i + 1;\n\t}\n\n\tfor( int j = 0; j < 4; ++j )\n\t{\n\t\tif( j > 0 )\n\t\t{\n\t\t\ttest = rotate_h( test );\n\t\t}\n\t\tprintf( \"¡\\n\" );\n\t\tfor( int l = 0; l < 6; ++l )\n\t\t{\n\t\t\tprintf( \"%d: %d\\n\", l, test[l] );\n\t\t}\n\t\tputs( \"//==================================================\" );\n\t\t\n\t\t// c\n\t\tfor( int k = 0; k < 4; ++k )\n\t\t{\n\t\t\ttest = rotate_v( test );\n\t\t\tprintf( \"c\\n\" );\n\t\t\tfor( int l = 0; l < 6; ++l )\n\t\t\t{\n\t\t\t\tprintf( \"%d: %d\\n\", l, test[l] );\n\t\t\t}\n\t\t\tputs( \"//==================================================\" );\n\t\t}\n\t}\n\t// debug\n\t*/\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Grdeen\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\n\t\t\t// x\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tbox = rotate_x( box );\n\t\t\t\ttable.insert( box );\n\t\t\t}\n\n\t\t\t// y\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tbox = rotate_y( box );\n\t\t\t\ttable.insert( box );\n\t\t\t}\n\n\t\t\t// z\n\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t{\n\t\t\t\tbox = rotate_z( box );\n\t\t\t\ttable.insert( box );\n\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\n#include <map>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<30;\n\nbool eq(string *s1, string *s2) {\n  REP(k,4) {\n    bool f = true;\n    REP(i,4) {\n      if (s1[i] != s2[(i+k)%4])\n        f = false;\n    }\n    if (f)\n      return true;\n  }\n  return false;\n}\n\nint main() {\n  int hoge[6][4] = {{1,3,4,2},{0,2,5,3},{0,4,5,1}\n                    ,{0,1,5,4},{0,3,5,2},{1,2,4,3}};\n  int n;\n  while(cin >> n, n) {\n    string side[n][4];\n    REP(iii,n) {\n      string s[6];\n      int p;\n      REP(i,6) {\n        cin >> s[i];\n        if (s[i] == \"Red\")\n          p = i;\n      }\n      REP(i,4)\n        side[iii][i] = s[hoge[p][i]];\n    }\n    long long kaburi = 0;\n    REP(i,n) {\n      REP(j,n)\n        if (eq(side[i], side[j])) {\n          kaburi++;\n        }\n    }\n    // cout << kaburi << endl;\n    kaburi -= n;\n    // cout << kaburi << endl;\n    REP(i,n) {\n      if (i*(i+1) == kaburi) {\n        cout << i << endl;\n        break;\n      }\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ld = long double;\n\nstruct cube {\n\n    vector<string> c;\n\n    cube(): c(6) {}\n\n    static bool is_same(cube a, cube b) {\n\n        {\n            bool r = true;\n            for (int l = 0; l < 6; l++) {\n                if (a.c[l] != b.c[l]) {\n                    r = false;\n                    break;\n                }\n            }\n            if (r) return true;\n        }\n        \n        for (int i = 0; i < 4; i++) {\n            for (int j = 0; j < 4; j++) {\n                for (int k = 0; k < 4; k++) {\n                    string temp = b.c[3];\n                    b.c[3] = b.c[5];\n                    b.c[5] = b.c[2];\n                    b.c[2] = b.c[0];\n                    b.c[0] = temp;\n                    bool r = true;\n                    for (int l = 0; l < 6; l++) {\n                        if (a.c[l] != b.c[l]) {\n                            r = false;\n                            break;\n                        }\n                    }\n                    if (r) return true;\n                }\n                string temp = b.c[4];\n                b.c[4] = b.c[5];\n                b.c[5] = b.c[1];\n                b.c[1] = b.c[0];\n                b.c[0] = temp;\n            }\n            string temp = b.c[3];\n            b.c[3] = b.c[4];\n            b.c[4] = b.c[2];\n            b.c[2] = b.c[1];\n            b.c[1] = temp;\n        }\n\n        return false;\n\n    }\n\n\n};\n\nint main() {\n\n    ll n;\n    while (cin >> n, n) {\n\n        vector<cube> cb(n);\n        for (ll i = 0; i < n; i++) {\n            for (ll j = 0; j < 6; j++) {\n                cin >> cb[i].c[j];\n            }\n        }\n\n        ll ans = 0;\n        for (ll i = 0; i < n; i++) {\n            bool is_kaburi = false;\n            for (ll j = 0; j < i; j++) {\n                if (cube::is_same(cb[i], cb[j])) {\n                    is_kaburi = true;\n                    break;\n                }\n            }\n            if (is_kaburi) {\n                ans++;\n            }\n        }\n\n        cout << ans << endl;\n\n    }\n\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Dice {\n\tvector<int> val;\n\tDice(){ val.resize(6); }\n\tbool operator == (const Dice &t) const {\n\t\treturn val == t.val;\n\t}\n\tbool operator != (const Dice &t) const {\n\t\treturn val != t.val;\n\t}\n\tbool operator < (const Dice &t) const {\n\t\treturn val < t.val;\n\t}\n\tvoid rotate_right(){\n\t\tint tmp = val[1];\n\t\tval[1] = val[2];\n\t\tval[2] = val[4];\n\t\tval[4] = val[3];\n\t\tval[3] = tmp;\n\t}\n\tvoid roll_front(){\n\t\tint tmp = val[0];\n\t\tval[0] = val[1];\n\t\tval[1] = val[5];\n\t\tval[5] = val[4];\n\t\tval[4] = tmp;\n\t}\n\tvoid roll_right(){\n\t\tint tmp = val[0];\n\t\tval[0] = val[3];\n\t\tval[3] = val[5];\n\t\tval[5] = val[2];\n\t\tval[2] = tmp;\n\t}\n\tvector<Dice> all_pattern(){\n\t\tvector<Dice> res;\n\t\tDice d = *this;\n\t\tfor (int i = 0; i < 6; i++){\n\t\t\tfor (int j = 0; j < 4; j++){\n\t\t\t\tres.push_back(d);\n\t\t\t\td.rotate_right();\n\t\t\t}\n\t\t\tif (i == 0) d.roll_front();\n\t\t\telse if (i < 5) d.roll_right();\n\t\t\telse d.roll_front();\n\t\t}\n\t\treturn res;\n\t}\n};\n\nstruct UnionFind {\n\tvector<int> parent;\n\t\n\tUnionFind(int n){\n\t\tparent.resize(n);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tparent[i] = i;\n\t\t}\n\t}\n\t\n\tint find(int x){\n\t\tif (parent[x] == x) return x;\n\t\treturn parent[x] = find(parent[x]);\n\t}\n\t\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n\t\n\tbool unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif (x == y) return false;\n\t\tparent[x] = y;\n\t}\n};\n\nmap<string, int> ctoi;\nint n;\nvector<Dice> dices;\n\nbool check(const vector<Dice> &A, const vector<Dice> &B)\n{\n\tfor (int i = 0; i < A.size(); i++){\n\t\tfor (int j = 0; j < B.size(); j++){\n\t\t\tif (A[i] == B[j]) return true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvoid solve()\n{\n\tvector<vector<Dice> > pats;\n\tUnionFind uf(n);\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tpats.push_back(dices[i].all_pattern());\n\t}\n\t\n\tint res = 0;\n\t\n\tfor (int i = 0; i < n; i++){\n\t\tfor (int j = i + 1; j < n; j++){\n\t\t\tvector<Dice> &A = pats[i];\n\t\t\tvector<Dice> &B = pats[j];\n\t\t\tif (!uf.same(i, j)){\n\t\t\t\tif (check(A, B)){\n\t\t\t\t\tuf.unite(i, j);\n\t\t\t\t\tres++;\n\t\t\t\t\tcontinue;\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\", res);\n}\n\nint main()\n{\n\tctoi[\"Red\"] = 0;\n\tctoi[\"Yellow\"] = 1;\n\tctoi[\"Blue\"] = 2;\n\tctoi[\"Magenta\"] = 3;\n\tctoi[\"Green\"] = 4;\n\tctoi[\"Cyan\"] = 5;\n\t\n\twhile (scanf(\"%d\", &n), n){\n\t\tdices.clear();\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tDice d;\n\t\t\tfor (int j = 0; j < 6; j++){\n\t\t\t\tstring str;\n\t\t\t\tcin >> str;\n\t\t\t\td.val[j] = ctoi[str];\n\t\t\t}\n\t\t\tdices.push_back(d);\n\t\t}\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\n#define inf 1000000000\n\nusing namespace std;\n\nint main(){\n\twhile(1){\n\t\tint n;\n\t\tcin>>n;\n\t\tif(!n)break;\n\t\tint check[6][6][6][6][6][6]={0};\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint s[7];\n\t\t\tfor(int j=1;j<=6;j++){\n\t\t\t\tstring a;\n\t\t\t\tcin>>a;\n\t\t\t\tswitch(a[0]){\n\t\t\t\t\tcase 'C':s[j]=0;break;\n\t\t\t\t\tcase 'Y':s[j]=1;break;\n\t\t\t\t\tcase 'R':s[j]=2;break;\n\t\t\t\t\tcase 'M':s[j]=3;break;\n\t\t\t\t\tcase 'G':s[j]=4;break;\n\t\t\t\t\tcase 'B':s[j]=5;break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint bin;\n\t\t\tfor(int i=0;i<4;i++){\n\t\t\t\tbin=s[1];\n\t\t\t\ts[1]=s[5];\n\t\t\t\ts[5]=s[6];\n\t\t\t\ts[6]=s[2];\n\t\t\t\ts[2]=bin;\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\tbin=s[2];\n\t\t\t\t\ts[2]=s[3];\n\t\t\t\t\ts[3]=s[5];\n\t\t\t\t\ts[5]=s[4];\n\t\t\t\t\ts[4]=bin;\n\t\t\t\t\tcheck[s[1]][s[2]][s[3]][s[4]][s[5]][s[6]]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t\t\tbin=s[1];\n\t\t\t\t\ts[1]=s[3];\n\t\t\t\t\ts[3]=s[6];\n\t\t\t\t\ts[6]=s[4];\n\t\t\t\t\ts[4]=bin;\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\tbin=s[2];\n\t\t\t\t\ts[2]=s[3];\n\t\t\t\t\ts[3]=s[5];\n\t\t\t\t\ts[5]=s[4];\n\t\t\t\t\ts[4]=bin;\n\t\t\t\t\tcheck[s[1]][s[2]][s[3]][s[4]][s[5]][s[6]]=1;\n\t\t\t\t}\n\t\t\t\t\tbin=s[1];\n\t\t\t\t\ts[1]=s[3];\n\t\t\t\t\ts[3]=s[6];\n\t\t\t\t\ts[6]=s[4];\n\t\t\t\t\ts[4]=bin;\n\t\t\t\t\tbin=s[1];\n\t\t\t\t\ts[1]=s[3];\n\t\t\t\t\ts[3]=s[6];\n\t\t\t\t\ts[6]=s[4];\n\t\t\t\t\ts[4]=bin;\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\tbin=s[2];\n\t\t\t\t\ts[2]=s[3];\n\t\t\t\t\ts[3]=s[5];\n\t\t\t\t\ts[5]=s[4];\n\t\t\t\t\ts[4]=bin;\n\t\t\t\t\tcheck[s[1]][s[2]][s[3]][s[4]][s[5]][s[6]]=1;\n\t\t\t\t}\n\t\t}\n\t\t\n\t\tint cont=0;\n\t\tfor(int a=0;a<6;a++)\n\t\tfor(int b=0;b<6;b++)\n\t\tfor(int c=0;c<6;c++)\n\t\tfor(int d=0;d<6;d++)\n\t\tfor(int e=0;e<6;e++)\n\t\tfor(int f=0;f<6;f++)\n\t\tcont+=check[a][b][c][d][e][f];\n\t\t\n\t\tprintf(\"%d\\n\",n-cont/24);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n \nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\n \nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n \nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\n \nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      if(a == b) return(true);\n    }\n  }\n  return(false);\n}\n \nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    boxes.resize(n);\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.left >> b.back >> b.buttom;\n    }\n    int ret = 0;\n    for(int i = 0; i < n; i++) {\n      for(int j = i + 1; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) {\n           ++ret;\n           break;\n        }\n      }\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <string>\n \n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define FFOR(i,a,b) for(int i=(a);i<=(b);i++)\n#define REP(i,b) FOR(i,0,b)\n#define RREP(i,b) FFOR(i,1,b)\n#define PB push_back\n#define F first\n#define S second\n#define BE(c) c.begin(),c.end()\nusing namespace std;\ntypedef long long LL;\ntypedef LL ut;\ntypedef long double ld;\ntypedef pair<ut,ut> pr;\ntypedef vector<pr> Vpr;\ntypedef vector<ut> VI;\ntypedef pair<ut,pr> ppr;\ntypedef priority_queue<pr,Vpr, greater<pr> > PQ;\nconst int SIZE=5+3*1e+4;\nconst ut INF=1<<30;\nconst ld eps=1e-6;\nconst LL p=7+1e+9;\n\nmap<string, int> colors;\nint main(){\n\tint n;\n\tcolors[\"Red\"] = 0;\n\tcolors[\"Magenta\"] = 1;\n\tcolors[\"Blue\"] = 2;\n\tcolors[\"Green\"] = 3;\n\tcolors[\"Yellow\"] = 4;\n\tcolors[\"Cyan\"] = 5;\n\t\n\twhile(cin >> n && n){\n\t\tvector<Vpr> vec;\n\t\tint ans = 0;\n\t\tREP(i,n){\n\t\t\tstring s[6];\n\t\t\tREP(j,6){\n\t\t\t\tcin >> s[j];\n\t\t\t}\n\t\t\tVpr tmp;\n\t\t\tREP(j,3){\n\t\t\t\ttmp.PB(pr(min(colors[s[j]], colors[s[6 - j - 1]]), max(colors[s[j]], colors[s[6 - j - 1]])));\n\t\t\t}\n\t\t\tsort(BE(tmp));\n\t\t\tbool H = false;\n\t\t\tREP(j,vec.size()){\n\t\t\t\tbool ok = true;\n\t\t\t\tREP(k,3){\n\t\t\t\t\tif(!(vec[j][k].F == tmp[k].F && vec[j][k].S == tmp[k].S)){\n\t\t\t\t\t\tok = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(ok){\n\t\t\t\t\tH = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(H){\n\t\t\t\tans++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvec.PB(tmp);\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <set>\nusing namespace std;\n\ntypedef vector <int> VI;\n\nVI roll_y( VI& box )\n{\n\tVI work = box;\n\twork[0] = box[2];\n\twork[2] = box[5];\n\twork[5] = box[3];\n\twork[3] = box[0];\n\treturn work;\n}\n\nVI roll_x( VI& box )\n{\n\tVI work = box;\n\twork[5] = box[1];\n\twork[1] = box[0];\n\twork[0] = box[4];\n\twork[4] = box[5];\n\treturn work;\n}\n\nVI roll_z( VI& box )\n{\n\tVI work = box;\n\twork[3] = box[4];\n\twork[4] = box[2];\n\twork[2] = box[1];\n\twork[1] = box[3];\n\treturn work;\n}\n\nvoid register_box( VI& box, set <VI>& V )\n{\n\tV.insert( box );\n\n\tVI work;\n\t\n\twork = box;\n\tfor ( int i = 0; i < 3; i++ )\n\t{\n\t\twork = roll_y( work );\n\t\tV.insert( work );\n\t}\n\n\twork = box;\n\tfor ( int j = 0; j < 3; j++ )\n\t{\n\t\twork = roll_x( work );\n\t\tfor ( int i = 0; i < 3; i++ )\n\t\t{\n\t\t\twork = roll_y( work );\n\t\t\tV.insert( work );\n\t\t}\n\t\twork = roll_y( work );\n\t}\n\n\twork = box;\n\tfor ( int j = 0; j < 3; j++ )\n\t{\n\t\twork = roll_z( work );\n\t\tfor ( int i = 0; i < 3; i++ )\n\t\t{\n\t\t\twork = roll_y( work );\n\t\t\tV.insert( work );\n\t\t}\n\t\twork = roll_y( work );\n\t}\n\n}\n\nint main( void )\n{\n\t// Redツ、Yellowツ、Blueツ、Magentaツ、Greenツ、Cyan\n\tmap <string, int> hash_table;\n\thash_table[\"Red\"]\t\t= 1;\n\thash_table[\"Yellow\"]\t= 2;\n\thash_table[\"Blue\"]\t\t= 3;\n\thash_table[\"Magenta\"]\t= 4;\n\thash_table[\"Green\"]\t\t= 5;\n\thash_table[\"Cyan\"]\t\t= 6;\n\n\tint n;\n\twhile ( cin >> n && n )\n\t{\n\t\tint cnt = 0;\n\t\tset < VI > V;\n\t\tVI box(6);\n\t\tstring color;\n\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tfor ( int j = 0; j < 6; j++ )\n\t\t\t{\n\t\t\t\tcin >> color;\n\t\t\t\tbox[j] = hash_table[color];\n\t\t\t}\n\n\t\t\tif ( V.find( box ) != V.end() )\n\t\t\t\tcnt ++;\n\n\t\t\tregister_box( box, V );\n\t\t}\n\n\t\tcout << cnt << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "main(){char* l=\"RYBMGC\";int i,j,n,a,c[6],f,s,t[4],r[][4]={{1,2,4,3},{5,2,0,3},{0,1,5,4},{0,4,5,1},{0,2,5,3},{2,1,3,4}};while(scanf(\"%d\",&n),n){a=0;int u[9999]={0};while(n--){char b[16];for(i=0;i<6;++i){scanf(\"%s\",b);for(j=0;l[j]!=*b;++j);c[i]=j;if(j==0)f=i;}for(i=0;i<4;++i)t[i]=c[r[f][i]];for(i=0;i<3;++i){s=0;for(j=0;j<4;++j)s=s*10+t[(i+j)%4];if(u[s]){++a;break;}else u[s]=1;}}printf(\"%d\\n\",a);}exit(0);}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<set>\nusing namespace std;\n#define pb push_back\nint N;\nint co(int i,int j,int k){\n\tif(i>j)swap(i,j);\n\tif(i>k)swap(i,k);\n\tif(j>k)swap(j,k);\n\treturn i*36+j*6+k;\n}\nint co2(int i,int j){\n\tif(i>j)swap(i,j);\n\treturn i*6+j;\n}\nint main()\n{\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0)return 0;\n\t\tint X[6];\n\t\tset<vector<int> >S;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring SS;\n\t\t\t\tcin >> SS;\n\t\t\t\tif(SS==\"Cyan\")X[j]=0;\n\t\t\t\tif(SS==\"Yellow\")X[j]=1;\n\t\t\t\tif(SS==\"Red\")X[j]=2;\n\t\t\t\tif(SS==\"Magenta\")X[j]=3;\n\t\t\t\tif(SS==\"Green\")X[j]=4;\n\t\t\t\tif(SS==\"Blue\")X[j]=5;\n\t\t\t}\n\t\t\tvector<int>XX;\n\t\t\tXX.pb(co2(X[0],X[5]));\n\t\t\tXX.pb(co2(X[1],X[4]));\n\t\t\tXX.pb(co2(X[2],X[3]));\n\t\t\tXX.pb(co(X[0],X[1],X[2]));\n\t\t\tXX.pb(co(X[1],X[2],X[5]));\n\t\t\tXX.pb(co(X[0],X[1],X[3]));\n\t\t\tXX.pb(co(X[1],X[3],X[5]));\n\t\t\tXX.pb(co(X[0],X[4],X[2]));\n\t\t\tXX.pb(co(X[4],X[2],X[5]));\n\t\t\tXX.pb(co(X[0],X[4],X[3]));\n\t\t\tXX.pb(co(X[4],X[3],X[5]));\n\t\t\tsort(XX.begin(),XX.end());\n\t\t\tS.insert(XX);\n\t\t}\n\t\tprintf(\"%d\\n\",N-(int)S.size());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string.h>\nusing namespace std;\nint main() {\n\tint a, b[101][101] = { 0 }, ruio = 0;\n\tchar str[101];\n\twhile (1) {\n\t\tcin >> a;\n\t\tif (a == 0)return 0;\n\t\truio = a;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tif (strstr(str, \"Red\") != NULL) {\n\t\t\t\t\tb[i][j] = 1;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Yellow\") != NULL) {\n\t\t\t\t\tb[i][j] = 2;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Blue\") != NULL) {\n\t\t\t\t\tb[i][j] = 3;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Magenta\") != NULL) {\n\t\t\t\t\tb[i][j] = 4;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Green\") != NULL) {\n\t\t\t\t\tb[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif (strstr(str, \"Cyan\") != NULL) {\n\t\t\t\t\tb[i][j] = 6;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= 6; j++) {\n\t\t\t\tcout << b[i][j] << \",\";\n\t\t\t}\n\t\t\tcout << endl;\n\t\t}\n\n\t\tint tatuo = 0;\n\t\tfor (int i = 1; i <= a; i++) {\n\t\t\tfor (int j = 1; j <= a; j++) {\n\t\t\t\tif (j != i && b[j][1] != -1 && b[i][1] != -1) {\n\t\t\t\t\tif (b[i][1] + b[i][6] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t//\tif (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (b[i][3] + b[i][4] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i][1] + b[i][6] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//if (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (b[i][3] + b[i][4] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\telse if (b[i][1] + b[i][6] == b[j][2] + b[j][5]) {\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//if (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (b[i][3] + b[i][4] == b[j][3] + b[j][4]) {\n\t\t\t\t\t\t\tif (b[i][2] + b[i][5] == b[j][1] + b[j][6]) {\n\t\t\t\t\t\t\t\tb[i][1] = -1;\n\t\t\t\t\t\t\t\truio--;\n\t\t\t\t\t\t\t\ttatuo++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//if (tatuo > 0)break;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if (tatuo > 0)break;\n\t\t\t\t\t}\n\t\t\t\t\t//if (tatuo > 0) break;\n\t\t\t\t}\n\t\t\t\t//if (tatuo > 0) {\n\t\t\t\t\t//tatuo = 0;\n\t\t\t\t\t//break;\n\t\t\t\t//}\n\t\t\t}\n\t\t}\n\t\tcout << a - ruio << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<complex>\n#include<algorithm>\n#include<set>\n#include<map>\n#define rep(i,n) for(int i = 0;i < n ; ++i)\n\nusing namespace std;\n\nusing ll = long long;\n\nstruct die{\n    int u,d,l,r,b,f;\n    die(vector<int> a){\n        f=a[0];\n        u=a[1];\n        l=a[2];\n        r=a[3];\n        d=a[4];\n        b=a[5];\n\n        if(b==0){\n            swap(b,f);\n            swap(l,r);\n        }\n        if(d==0){\n            int tmp = d;\n            d = b; b = u; u = f; f = tmp;\n        } \n        if(u==0){\n            int tmp = u;\n            u = b; b = d; d = f; f = tmp;\n        }\n        if(l==0){\n            int tmp = l;\n            l = b; b = r; r = f; f = tmp;\n        }\n        if(r==0){\n            int tmp = r;\n            r = b; b = l; l = f; f = tmp;\n        }\n        int mi = min({u,d,l,r});\n        while(u!=mi){\n           int tmp = r;\n            r = u; u = l; l = d; d = tmp; \n        }\n    }\n    bool operator==(const die rhs)const{\n        return (f==rhs.f&&b==rhs.b&&u==rhs.u&&d==rhs.d&&l==rhs.l&&r==rhs.r);\n    }\n};\n\nmap<string, int> mp;\nvoid solve(int n){\n    vector<die> d;\n    rep(i,n){\n        vector<int> a(6);\n        rep(j,6){\n            string s;cin>>s;\n            a[j]=mp[s];\n        }\n        die di(a);\n        d.push_back(di);\n    }\n    vector<int> used(n);\n    int ans = 0;\n    rep(i,n){\n        if(used[i]){\n            ++ans;\n            continue;\n        }\n        for(int j = i+1;j<n;j++){\n            if(d[i]==d[j])used[j]=true;\n        }\n    }\n    cout<<ans<<endl;\n}\nint main(){\n     mp[\"Cyan\"]=0;\n     mp[\"Yellow\"]=1;\n     mp[\"Red\"]=2;\n     mp[\"Magenta\"]=3;\n     mp[\"Green\"]=4;\n     mp[\"Blue\"]=5;\n     int n;\n     while(cin>>n,n!=0)solve(n);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nvoid rotate(string& a,string& b,string& c,string& d)\n{\n\tstring temp=a;\n\ta=b;\n\tb=c;\n\tc=d;\n\td=temp;\n}\nvoid turnx(vector<string>& d)\n{\n\trotate(d[0],d[2],d[5],d[3]);\n}\nvoid turny(vector<string>& d)\n{\n\trotate(d[0],d[4],d[5],d[1]);\n}\nvoid turnz(vector<string>& d)\n{\n\trotate(d[1],d[3],d[4],d[2]);\n}\nvoid turnmin(vector<string>& d)\n{\n\tvector<string> res=d;\n\tfor(int i=0;i<6;i++){\n\t\tfor(int j=0;j<4;j++){\n\t\t\tres=min(res,d);\n\t\t\tturnz(d);\n\t\t}\n\t\t(i&1?turnx:turny)(d);\n\t}\n\td=res;\n}\n\nint main()\n{\n\tfor(int n;cin>>n,n;){\n\t\tvector<vector<string> > ds(n,vector<string>(6));\n\t\tfor(int i=0;i<n;i++)\n\t\t\tfor(int j=0;j<6;j++)\n\t\t\t\tcin>>ds[i][j];\n\t\t\n\t\tfor(int i=0;i<n;i++)\n\t\t\tturnmin(ds[i]);\n\t\t\n\t\tsort(ds.begin(),ds.end());\n\t\tds.erase(unique(ds.begin(),ds.end()),ds.end());\n\t\t\n\t\tcout<<n-ds.size()<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n\nusing namespace std;\n\nstruct DATA{\n  string s1, s2, s3, s4, s5, s6;\n};\n\nvoid Swap(string&, string&, string&, string&);\nDATA MakeData(string, string, string, string, string, string);\nint SearchTheSame(DATA, DATA);\n\nint main(){\n  int i, j, n, x;\n  string s1, s2, s3, s4, s5, s6;\n  DATA _data;\n  vector<DATA> data;\n\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n\n    for(i=0; i<n; ++i){\n      cin >> s1 >> s2 >> s3 >> s4 >> s5 >> s6;\n\n      if(s2 == \"Red\"){\n\tSwap(s1, s2, s6, s5);\n      }else if(s3 == \"Red\"){\n\tSwap(s1, s3, s6, s4);\n      }else if(s4 == \"Red\"){\n\tSwap(s1, s4, s6, s3);\n      }else if(s5 == \"Red\"){\n\tSwap(s1, s5, s6, s2);\n      }else if(s6 == \"Red\"){\n\tSwap(s1, s2, s6, s5);\n\tSwap(s1, s2, s6, s5);\n      }\n\n      _data = MakeData(s1, s2, s3, s4, s5, s6);\n\n      for(j=0, x=0; j<data.size(); ++j){\n\tif(SearchTheSame(data[j], _data) == 1){\n\t  x = 1;\n\t  break;\n\t}\n      }\n      if(x == 0) data.push_back(_data);\n    }\n\n    cout << n-data.size() << endl;\n    data.clear();\n  }\n  return 0;\n}\n\nvoid Swap(string& a, string& b, string& c, string& d){\n  string e;\n  e = a;\n  a = b;\n  b = c;\n  c = d;\n  d = e;\n}\n\nDATA MakeData(string s1, string s2, string s3, string s4, string s5, string s6){\n  DATA data;\n  data.s1 = s1;\n  data.s2 = s2;\n  data.s3 = s3;\n  data.s4 = s4;\n  data.s5 = s5;\n  data.s6 = s6;\n  return data;\n}\n\nint SearchTheSame(DATA data1, DATA data2){\n  if(data1.s1 == data2.s1 && data1.s2 == data2.s2 && data1.s3 == data2.s3 && \n     data1.s4 == data2.s4 && data1.s5 == data2.s5 && data1.s6 == data2.s6)\n    return 1;\n\n  Swap(data2.s2, data2.s3, data2.s5, data2.s4);\n\n  if(data1.s1 == data2.s1 && data1.s2 == data2.s2 && data1.s3 == data2.s3 && \n     data1.s4 == data2.s4 && data1.s5 == data2.s5 && data1.s6 == data2.s6)\n    return 1;\n\n  Swap(data2.s2, data2.s3, data2.s5, data2.s4);\n\n  if(data1.s1 == data2.s1 && data1.s2 == data2.s2 && data1.s3 == data2.s3 && \n     data1.s4 == data2.s4 && data1.s5 == data2.s5 && data1.s6 == data2.s6)\n    return 1;\n\n  Swap(data2.s2, data2.s3, data2.s5, data2.s4);\n\n  if(data1.s1 == data2.s1 && data1.s2 == data2.s2 && data1.s3 == data2.s3 && \n     data1.s4 == data2.s4 && data1.s5 == data2.s5 && data1.s6 == data2.s6)\n    return 1;\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "bool debug=false;\n#include <vector>\n#include <iostream>\n#include <map>\nusing namespace std;\n#define PB push_back\nmap<string,int> m;\nint t=1;\nstruct cube{\n\tint s[6];\n\tvoid in(){\n\t\tstring temp;\n\t\tfor(int i=0;i<6;i++){\n\t\t\tcin>>temp;\n\t\t\tif(m.find(temp)==m.end())s[i]=m[temp]=t++;\n\t\t\telse s[i]=m[temp];\n\t\t}\n\t}\n\tvoid out(){\n\t\tif(debug){\n\t\t\tfor(int i=0;i<6;i++)cout<<s[i]<<\" \";\n\t\t\tcout<<endl;\n\t\t}\n\t}\n\tbool operator ==(const cube &a){for(int i=0;i<6;i++)if(s[i]!=a.s[i])return false;return true;}\n};\ncube Arotate(cube c){\n\tcube temp;\n\ttemp.s[0]=c.s[3];\n\ttemp.s[1]=c.s[1];\n\ttemp.s[2]=c.s[0];\n\ttemp.s[3]=c.s[5];\n\ttemp.s[4]=c.s[4];\n\ttemp.s[5]=c.s[2];\n\tif(debug)temp.out();\n\treturn temp;\n}\ncube Brotate(cube c){\n\tcube temp;\n\ttemp.s[0]=c.s[0];\n\ttemp.s[1]=c.s[3];\n\ttemp.s[2]=c.s[1];\n\ttemp.s[3]=c.s[4];\n\ttemp.s[4]=c.s[2];\n\ttemp.s[5]=c.s[5];\n\tif(debug)temp.out();\n\treturn temp;\n}\ncube Crotate(cube c){\n\tcube temp;\t\n\ttemp.s[0]=c.s[1];\n\ttemp.s[1]=c.s[5];\n\ttemp.s[2]=c.s[2];\n\ttemp.s[3]=c.s[3];\n\ttemp.s[4]=c.s[0];\n\ttemp.s[5]=c.s[4];\n\tif(debug)temp.out();\n\treturn temp;\n}\nvoid solve(int n){\n\tbool f;\n\tvector<cube> v;\n\tcube temp;\n\tfor(int y=0;y<n;y++){\n\t\ttemp.in();\n\t\tif(v.empty())v.PB(temp);\n\t\telse{\n\t\t\tf=true;\n\t\t\tfor(int i=0;i<4;i++){\n\t\t\t\ttemp=Arotate(temp);\n\t\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\t\ttemp=Brotate(temp);\n\t\t\t\t\tfor(int k=0;k<4;k++){\n\t\t\t\t\t\ttemp=Crotate(temp);\n\t\t\t\t\t\tfor(cube x:v)if(temp==x)f=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f)v.PB(temp);\n\t\t\tif(debug)cout<<\"done\"<<endl;\n\t\t}\n\t}\n\tcout<<n-(int)v.size()<<endl;\n}\nint main(){\n\tint n;\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tsolve(n);\n\t}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n \nenum { TOP=0, FRONT=1, LEFT=2, RIGHT=3, BACK=4, BOTTOM=5 };\nenum { WEST = 0, NORTH=1, EAST=2, SOUTH=3 };\n \nclass Dice\n{\nprivate:\n  int num[6];\n  \npublic:\n   \n  int getTop()    { return num[TOP];    }\n  int getBottom() { return num[BOTTOM]; }\n  int getFront()  { return num[FRONT];  }\n  int getBack()   { return num[BACK];   }\n  int getLeft()   { return num[LEFT];   }\n  int getRight()  { return num[RIGHT];  }\n   \n  void roll(int dir)\n  {\n    int tmp;\n    switch(dir) {\n    case EAST:\n      tmp = num[RIGHT];\n      num[RIGHT] = num[TOP];\n      num[TOP] = num[LEFT];\n      num[LEFT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case WEST:\n      tmp = num[LEFT];\n      num[LEFT] = num[TOP];\n      num[TOP] = num[RIGHT];\n      num[RIGHT] = num[BOTTOM];\n      num[BOTTOM] = tmp;\n      break;\n       \n    case NORTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[FRONT];\n      num[FRONT] = num[TOP];\n      num[TOP] = num[BACK];\n      num[BACK] = tmp;\n      break;\n       \n    case SOUTH:\n      tmp = num[BOTTOM];\n      num[BOTTOM] = num[BACK];\n      num[BACK] = num[TOP];\n      num[TOP] = num[FRONT];\n      num[FRONT] = tmp;\n      break;\n       \n    }\n  }\n  \n  void rightHandedRoll() {\n    int tmp = num[FRONT];\n    num[FRONT] = num[RIGHT];\n    num[RIGHT] = num[BACK];\n    num[BACK] = num[LEFT];\n    num[LEFT] = tmp;\n  }\n   \n  Dice() {\n  }\n  \n  Dice(int t, int f, int l, int r, int b, int m)\n  {\n    num[TOP] = t, num[FRONT] = f, num[LEFT] = l, num[RIGHT] = r, num[BACK] = b, num[BOTTOM] = m;\n  }\n  Dice(vector<int> v)\n  {\n    num[TOP] = v[0], num[FRONT] = v[1], num[LEFT] = v[2], num[RIGHT] = v[3], num[BACK] = v[4], num[BOTTOM] = v[5];\n  }\n  \n  bool equals (Dice rhs) const {\n    for(int i=0; i<4; i++) {\n      rhs.roll(NORTH);\n      if(num[TOP] == rhs.getTop()) break;\n      rhs.roll(WEST);\n      if(num[TOP] == rhs.getTop()) break;\n    }\n    for(int i=0; i<4; i++) {\n      if(check(rhs)) return true;\n      else rhs.rightHandedRoll();\n    }\n    return false;\n  }\n  \nprivate:\n  bool check(const Dice& rhs) const {\n    for(int i=0; i<6; i++) {\n      if(num[i]!=rhs.num[i]) return false;\n    }\n    return true;\n  }\n  \n};\n\nmap<string, int> mp;\n\nint main() {\n  \n  mp[\"Red\"]=0, mp[\"Yellow\"]=1, mp[\"Blue\"]=2, mp[\"Magenta\"]=3, mp[\"Green\"]=4, mp[\"Cyan\"]=5;\n  int N;\n  while(cin >> N && N) {\n    vector<Dice> d;\n    for(int i=0; i<N; i++) {\n      vector<int> v(6);\n      for(int j=0; j<6; j++) {\n        string s; cin >> s; v[j] = mp[s];\n      }\n      swap(v[2], v[3]);\n      d.push_back(Dice(v));\n    }\n    \n    int cnt = 0;\n    bool update = true;\n    while(update) {\n      update = false;\n      for(int i=0; i<d.size(); i++) {\n        for(int j=i+1; j<d.size(); j++) {\n          if(d[i].equals(d[j])) {\n            d.erase(d.begin()+j);\n            update = true; cnt ++;\n            goto NEXT;\n          }\n        }\n      }\n    NEXT:;\n    }\n    cout << cnt << endl;\n  }\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <string>\n#include <cmath>\n#include <stack>\n#include <vector>\n#include <map>\n#include <set>\n#include <queue>\n#include <list>\n#include <iostream>\n#include <sstream>\n#include <climits>\n#include <cfloat>\n#include <complex>\n\nusing namespace std;\n\nint main()\n{\n\tchar* color = \"RYBMGC\";\n\tint n;\n\twhile (scanf(\"%d\", &n), n)\n\t{\n\t\tint ans = 0;\n\n\t\tset<int> used;\n\t\twhile (n--)\n\t\t{\n\t\t\tint c[6];\n\t\t\tchar buf[16];\n\t\t\tint fixed;\n\t\t\tfor (int i = 0; i < 6; ++i)\n\t\t\t{\n\t\t\t\tscanf(\" %s\", buf);\n\t\t\t\tint j;\n\t\t\t\tfor (j = 0; color[j] != *buf; ++j)\n\t\t\t\t\t;\n\t\t\t\tc[i] = j;\n\t\t\t\tif (j == 0)\n\t\t\t\t\tfixed = i;\n\t\t\t}\n\t\t\tint r[][4] = { \n\t\t\t\t{ 1, 2, 4, 3 },\n\t\t\t\t{ 5, 2, 0, 3 },\n\t\t\t\t{ 0, 1, 5, 4 },\n\t\t\t\t{ 0, 4, 5, 1 },\n\t\t\t\t{ 0, 2, 5, 3 },\n\t\t\t\t{ 2, 1, 3, 4 }\n\t\t\t};\n\t\t\tint rota[4];\n\t\t\tfor (int i = 0; i < 4; ++i)\n\t\t\t\trota[i] = c[r[fixed][i]];\n\n\t\t\tbool u = false;\n\t\t\tfor (int i = 0; i < 3; ++i)\n\t\t\t{\n\t\t\t\tint s = 0;\n\t\t\t\tfor (int j = 0; j < 4; ++j)\n\t\t\t\t\ts = s*10 + rota[(i+j) % 4];\n\t\t\t\tif (used.count(s))\n\t\t\t\t{\n\t\t\t\t\t++ans;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tused.insert(s);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n#include<stack>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\ntypedef vector<string> vstring;\ntypedef vector<pint> vpint;\ntypedef stringstream SS;\n\nstruct Edge{int to,from,cost;};\n\n#ifdef DEBUG\n#define debug cout\n#else\nSS ss;\n#define debug ss\n#endif\n\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\n#define rep(i,n) for(int i=0;i<(n);++i)\n#define repn(i,m,n) for(int i=(m);i<=(n);++i)\n#define repd(i,n) for(int i=(n)-1;i>=0;--i)\n#define repnd(i,m,n) for(int i=(n);i>=(m);--i)\n#define rep0(i,n) for(i=0;i<(n);++i)\n#define repn0(i,m,n) for(i=(m);i<=(n);++i)\n#define repd0(i,n) for(i=(n)-1;i>=0;--i)\n#define repnd0(i,m,n) for(i=(n);i>=(m);--i)\n#define all(n) n.begin(),n.end()\n#define sz(n) ((int)(n).size())\n#define IL for(;;)\n#define MP make_pair\n#define PB push_back\n#define X second\n#define Y first\n#define PUTLINE debug<<\"LINE:\"<<__LINE__<<endl;\n\nconst int INF = 2147483647/3;\nconst double EPS = 1e-10;\nconst double PI = acos(-1.0);\n\nconst int dx[]={1,-1,0,0,1,-1,1,-1,0};\nconst int dy[]={0,0,1,-1,1,-1,-1,1,0};\n\nvstring h(vstring s,int n){\n\tif(n==0)return s;\n\tvstring ss;\n\tss.PB(s[0]);\n\tss.PB(s[3]);\n\tss.PB(s[1]);\n\tss.PB(s[4]);\n\tss.PB(s[2]);\n\tss.PB(s[5]);\n\treturn h(ss,n-1);\n}\n\nvstring g(vstring s,int n){\n\tint pos[6][6]={\n\t\t{0,1,2,3,4,5},\n\t\t{1,5,2,3,0,4},\n\t\t{2,1,5,0,4,3},\n\t\t{3,1,0,5,4,2},\n\t\t{4,0,2,3,5,1},\n\t\t{5,4,2,3,1,0},\n\t};\n\tvstring res;\n\trep(i,6)res.PB(s[pos[n][i]]);\n\treturn res;\n}\n\nint main() {\n\tIL{\n\t\tint n;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tvector<vstring> dice;\n\t\tvstring rotdice[40][24];\n\t\trep(i,n){\n\t\t\tstring s;\n\t\t\tvstring v;\n\t\t\trep(i,6){\n\t\t\t\tcin>>s;\n\t\t\t\tv.PB(s);\n\t\t\t}\n\t\t\tdice.PB(v);\n\t\t}\n\t\trep(k,n){\n\t\t\trep(i,6){\n\t\t\t\tvstring v=g(dice[k],i);\n\t\t\t\trep(j,4){\n\t\t\t\t\trotdice[k][i*4+j]=h(v,j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ng[40]={};\n\t\trep(i,n)repn(j,i+1,n-1){\n\t\t\trep(k,24){\n\t\t\t\tif(rotdice[j][k]==dice[i])ng[j]=1;\n\t\t\t}\n\t\t}\n\t\tint res=0;\n\t\trep(i,n)res+=ng[i];\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint N;\nint main()\n{\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0)return 0;\n\t\tint X[6];\n\t\tset<int>S;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tstring SS;\n\t\t\t\tcin >> SS;\n\t\t\t\tif(SS==\"Cyan\")X[j]=0;\n\t\t\t\tif(SS==\"Yellow\")X[j]=1;\n\t\t\t\tif(SS==\"Red\")X[j]=2;\n\t\t\t\tif(SS==\"Magenta\")X[j]=3;\n\t\t\t\tif(SS==\"Green\")X[j]=4;\n\t\t\t\tif(SS==\"Blue\")X[j]=5;\n\t\t\t}\n\t\t\tif(X[0]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=1;i<5;i++){\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==1){\n\t\t\t\t\tsum=X[1]+X[2]*6+X[4]*36+X[3]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==2){\n\t\t\t\t\tsum=X[2]+X[4]*6+X[3]*36+X[1]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==3){\n\t\t\t\t\tsum=X[4]+X[3]*6+X[1]*36+X[2]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==4){\n\t\t\t\t\tsum=X[3]+X[1]*6+X[2]*36+X[4]*216;\n\t\t\t\t}\n\t\t\t\t//printf(\"%d\\n\",sum);\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[5]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=1;i<5;i++){\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==1){\n\t\t\t\t\tsum=X[1]+X[3]*6+X[4]*36+X[2]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==2){\n\t\t\t\t\tsum=X[3]+X[4]*6+X[2]*36+X[1]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==3){\n\t\t\t\t\tsum=X[4]+X[2]*6+X[1]*36+X[3]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==4){\n\t\t\t\t\tsum=X[2]+X[1]*6+X[3]*36+X[4]*216;\n\t\t\t\t}\n\t\t\t\t//printf(\"%d\\n\",sum);\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[1]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\t\tif(i==1||i==4)continue;\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==0){\n\t\t\t\t\tsum=X[0]+X[2]*6+X[5]*36+X[3]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==2){\n\t\t\t\t\tsum=X[2]+X[5]*6+X[3]*36+X[0]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==5){\n\t\t\t\t\tsum=X[5]+X[3]*6+X[0]*36+X[2]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==3){\n\t\t\t\t\tsum=X[3]+X[0]*6+X[2]*36+X[5]*216;\n\t\t\t\t}\n\t\t\t\t//printf(\"%d\\n\",sum);\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[4]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\t\tif(i==1||i==4)continue;\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==0){\n\t\t\t\t\tsum=X[0]+X[3]*6+X[5]*36+X[2]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==2){\n\t\t\t\t\tsum=X[3]+X[5]*6+X[2]*36+X[0]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==5){\n\t\t\t\t\tsum=X[5]+X[2]*6+X[0]*36+X[3]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==3){\n\t\t\t\t\tsum=X[2]+X[0]*6+X[3]*36+X[5]*216;\n\t\t\t\t}\n\t\t\t\t//printf(\"%d\\n\",sum);\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[2]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\t\tif(i==2||i==3)continue;\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==4){\n\t\t\t\t\tsum=X[4]+X[0]*6+X[1]*36+X[5]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==0){\n\t\t\t\t\tsum=X[0]+X[1]*6+X[5]*36+X[4]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==1){\n\t\t\t\t\tsum=X[1]+X[5]*6+X[4]*36+X[0]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==5){\n\t\t\t\t\tsum=X[5]+X[4]*6+X[0]*36+X[1]*216;\n\t\t\t\t}\n\t\t\t\t//printf(\"%d\\n\",sum);\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\tif(X[3]==0){\n\t\t\t\tint minc=7,minci;\n\t\t\t\tfor(int i=0;i<6;i++){\n\t\t\t\t\tif(i==2||i==3)continue;\n\t\t\t\t\tif(minc>X[i]){\n\t\t\t\t\t\tminci=i;\n\t\t\t\t\t\tminc=X[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint sum=0;\n\t\t\t\tif(minci==4){\n\t\t\t\t\tsum=X[4]+X[5]*6+X[1]*36+X[0]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==0){\n\t\t\t\t\tsum=X[5]+X[1]*6+X[0]*36+X[4]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==1){\n\t\t\t\t\tsum=X[1]+X[0]*6+X[4]*36+X[5]*216;\n\t\t\t\t}\n\t\t\t\tif(minci==5){\n\t\t\t\t\tsum=X[0]+X[4]*6+X[5]*36+X[1]*216;\n\t\t\t\t}\n\t\t\t\t//printf(\"%d\\n\",sum);\n\t\t\t\tS.insert(sum);\n\t\t\t}\n\t\t\n\t\t}\n\t\tprintf(\"%d\\n\",N-(int)S.size());\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string.h>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint main(){\n    int i,j,n,k[100],count=0;\n    char c1[100],c2[100],c3[100],c4[100],c5[100],c6[100];\n    for(j=0;j<100;j++){\n    cin>>n;\n    for(i=0;i<n;i++){\n        cin>>c1>>c2>>c3>>c4>>c5>>c6;\n        k[i]=c1[i]>>c2[i]>>c3[i]>>c4[i]>>c5[i]>>c6[i];\n    }\n        if(k[i]==k[i]){\n            count++;\n        }\n        cout<<count<<endl;\n        count=0;\n        if(c1==0){\n            break;\n        }\n}\n    \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <set>\n\nusing namespace std;\n\nset<unsigned int> hashList;\n\nint make_face(char input)\n{\n\tint ret;\n\t\n\tswitch (input){\n\t  case 'R': ret = 0; break;\n\t  case 'G': ret = 1; break;\n\t  case 'B': ret = 2; break;\n\t  case 'C': ret = 3; break;\n\t  case 'M': ret = 4; break;\n\t  case 'Y': ret = 5; break;\n\t}\n\t\n\treturn (ret);\n}\n\nunsigned int make_hash(int cube[])\n{\n\tint ret;\n\t\n\tret = 0;\n\tfor (int i = 0; i < 6; i++){\n\t\tret = ret * 6 + cube[i];\n\t}\n\t\n\treturn (ret);\n}\n\nint rote_x(int cube[])\n{\n\tint temp;\n\t\n\ttemp = cube[1];\n\tcube[1] = cube[3];\n\tcube[3] = cube[4];\n\tcube[4] = cube[2];\n\tcube[2] = temp;\n\t\n\treturn (0);\n}\n\nint rote_y(int cube[])\n{\n\tint temp;\n\t\n\ttemp = cube[0];\n\tcube[0] = cube[3];\n\tcube[3] = cube[5];\n\tcube[5] = cube[2];\n\tcube[2] = temp;\n\t\n\treturn (0);\n}\n\nint rote_z(int cube[])\n{\n\tint temp;\n\t\n\ttemp = cube[0];\n\tcube[0] = cube[4];\n\tcube[4] = cube[5];\n\tcube[5] = cube[1];\n\tcube[1] = temp;\n\t\n\treturn (0);\n}\n\nint main(void)\n{\n\tint cube[6];\n\tint ans;\n\tint n;\n\t\n\twhile (1){\n\t\thashList.clear();\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\t\n\t\tif (n == 0){\n\t\t\t break;\n\t\t}\n\t\t\n\t\tans = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tfor (int j = 0; j < 6; j++){\n\t\t\t\tchar str[20];\n\t\t\t\t\n\t\t\t\tscanf(\"%s\", str);\n\t\t\t\tcube[j] = make_face(str[0]);\n\t\t\t}\n\t\t\tif (hashList.find(make_hash(cube)) != hashList.end()){\n\t\t\t\tans++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (int i = 0; i < 4; i++){\n\t\t\t\tfor (int j = 0; j < 4; j++){\n\t\t\t\t\tfor (int k = 0; k < 4; k++){\n\t\t\t\t\t\thashList.insert(make_hash(cube));\n\t\t\t\t\t\trote_x(cube);\n\t\t\t\t\t}\n\t\t\t\t\trote_y(cube);\n\t\t\t\t}\n\t\t\t\trote_z(cube);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C++",
    "code": "\n// Trouble in Shinagawa's Artifacts\n//  URL: http://rose.u-aizu.ac.jp/onlinejudge/ProblemSet/description.jsp?id=0198&lang=jp\n\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <set>\n\n// Ö\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d );\nstd::vector <int> rotate_x( std::vector <int> box );\nstd::vector <int> rotate_y( std::vector <int> box );\nstd::vector <int> rotate_z( std::vector <int> box );\n\n// ñ]\nstd::vector <int> rotate( std::vector <int> box, int a, int b, int c, int d )\n{\n\tint tmp = box[a];\n\tbox[a] = box[b];\n\tbox[b] = box[c];\n\tbox[c] = box[d];\n\tbox[d] = tmp;\n\n\treturn box;\n}\n\n// xÉñ]³¹éÖ\nstd::vector <int> rotate_x( std::vector <int> box )\n{\n\t// xñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c5, c1, c3, c4, c6, c2\n\n\treturn rotate( box, 0, 4, 5, 1 );\n\n}\n\n\n// yÉñ]³¹éÖ\nstd::vector <int> rotate_y( std::vector <int> box )\n{\n\t// yñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c1, c4, c2, c5, c3, c6\n\n\treturn rotate( box, 1, 3, 4, 2 );\n\n}\n\n// zÉñ]³¹éÖ\nstd::vector <int> rotate_z( std::vector <int> box )\n{\n\t// zñ]\n\t// c1, c2, c3, c4, c5, c6 : default\n\t// c3, c2, c6, c1, c5, c4\n\n\treturn rotate( box, 0, 2 ,5 ,3 );\n\n}\n\n// Gg[|Cg\nint main()\n{\n\n\t// Ï\n\tint n;\n\tint answer;\n\tchar color[32];\n\tstd::vector <int> box( 6, 0 );\n\tstd::set < std::vector <int> > table;\n\n\twhile( 1 )\n\t{\n\t\t// ú»\n\t\tanswer = 0;\n\t\ttable.clear();\n\t\tfor( int i = 0; i < 6; ++i )\n\t\t{\n\t\t\tbox[i] = 0;\n\t\t}\n\n\t\t// üÍ\n\t\tstd::fflush( stdin );\n\t\tstd::scanf( \"%d\", &n );\n\n\t\t// üÍÌIíèF[ÐÆÂ\n\t\tif( n == 0 ) break;\n\n\t\t// nÌ¾¯ÇÝÞ\n\t\tfor( int i = 0; i < n; ++i )\n\t\t{\n\t\t\tstd::fflush( stdin );\n\n\t\t\t// FîñðüÍ\n\t\t\tfor( int j = 0; j < 6; ++j )\n\t\t\t{\n\t\t\t\tstd::scanf( \"%s\", color );\n\n\t\t\t\t// µ¢â·¢æ¤É¶ñ¨®ÉÏ·\n\t\t\t\t// F: Red, Yellow, Blue, Magenta, Green, Cyan\n\t\t\t\tif( std::strcmp( \"Red\", color ) == 0 )\n\t\t\t\t\tbox[j] = 1;\n\t\t\t\telse if( std::strcmp( \"Yellow\", color ) == 0 )\n\t\t\t\t\tbox[j] = 2;\n\t\t\t\telse if( std::strcmp( \"Blue\", color ) == 0 )\n\t\t\t\t\tbox[j] = 3;\n\t\t\t\telse if( std::strcmp( \"Magenta\", color ) == 0 )\n\t\t\t\t\tbox[j] = 4;\n\t\t\t\telse if( std::strcmp( \"Grdeen\", color ) == 0 )\n\t\t\t\t\tbox[j] = 5;\n\t\t\t\telse if( std::strcmp( \"Cyan\", color ) == 0 )\n\t\t\t\t\tbox[j] = 6;\n\t\t\t}\n\n\t\t\t// insertÌOÉ¯¶àÌªÈ¢©T·\n\t\t\t// ¯¶àÌª Á½çJEg\n\t\t\tif( table.find( box ) != table.end() )\n\t\t\t{\n\t\t\t\t++answer;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// insertµÄ¨­\n\t\t\t// ¡¨cx3ð4ñ\n\n\t\t\tfor( int k = 0; k < 6; ++k )\n\t\t\t{\n\t\t\t\t// x\n\t\t\t\tfor( int j = 0; j < 4; ++j )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_x( box );\n\t\t\t\t\ttable.insert( box );\n\t\t\t\t}\n\n\t\t\t\tif( k % 2 == 0 )\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_y( box );\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tbox = rotate_z( box );\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// oÍ\n\t\tstd::printf( \"%d\\n\", answer );\n\n\t}\n\n} // main()"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<30;\n\nenum FACE { TOP, BOTTOM, FRONT, BACK, LEFT, RIGHT };\ntemplate <class T>\nclass dice {\npublic:\n  dice(T *v) {\n    id[TOP] = 0; id[FRONT] = 1; id[LEFT] = 3;\n    id[RIGHT] = 2; id[BACK] = 4; id[BOTTOM] = 5;\n    REP(i,6)\n      var[i] = v[i];\n  }\n  T& operator[] (FACE f) { return var[id[f]]; }\n  const T& operator[] (FACE f) const { return var[id[f]]; }\n  bool operator==(const dice<T>& b) const {\n    const dice<T> &a = *this;\n    return a[TOP] == b[TOP] && a[BOTTOM] == b[BOTTOM] &&\n           a[FRONT] == b[FRONT] && a[BACK] == b[BACK] &&\n           a[LEFT] == b[LEFT] && a[RIGHT] == b[RIGHT];\n  }\n  void roll_x() { roll(TOP, BACK, BOTTOM, FRONT); }\n  void roll_y() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n  void roll_z() { roll(FRONT, RIGHT, BACK, LEFT); }\n  vector<dice> all_rolls() {\n    vector<dice> ret;\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        ret.push_back(*this);\n    return ret;\n  }\n  bool equivalent_to(const dice& di) {\n    for (int k = 0; k < 6; (k&1?roll_y():roll_x()),++k)\n      for (int i = 0; i < 4; roll_z(), ++i)\n        if (*this == di) return true;\n    return false;\n  }\nprivate:\n  void roll(FACE a, FACE b, FACE c, FACE d) {\n    int tmp = id[a];\n    id[a] = id[b]; id[b] = id[c];\n    id[c] = id[d]; id[d] = tmp;\n  }\n  T var[6];\n  int id[6];\n};\n\nint main() {\n  int n;\n  while(cin>>n,n) {\n    vector<dice<string> > v;\n    REP(i,n) {\n      string s[6];\n      REP(j,6)\n        cin >> s[j];\n      v.push_back(dice<string>(s));\n    }\n    vector<bool> f(n);\n    int num = 0;\n    REP(i,n) {\n      if (f[i]) continue;\n      num++;\n      for(int j=i+1; j<n; ++j) {\n        if (f[j]) continue;\n        if (v[i].equivalent_to(v[j])) {\n          f[j] = true;\n        }\n      }\n    }\n    cout << n-num << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\nclass UnionFind{\nprivate:\n  vector< int > rank, p;\n  void link(int x,int y){\n    if(rank[x] > rank[y]){\n      p[y] = x;\n    }else{\n      p[x] = y;\n      if(rank[x] == rank[y]) rank[y]++;\n    }\n  }\npublic:\n  UnionFind(int size){\n    rank.resize(size,0);\n    p.resize(size,0);\n    for(int i = 0; i < rank.size(); i++){\n      p[i] = i, rank[i] = 0;\n    }\n  }\n  void Unite(int x,int y){\n    if(Find(x) != Find(y)) link(Find(x),Find(y));\n  }\n  int Find(int x){\n    return( x != p[x] ? p[x] = Find(p[x]) : p[x]);\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n \nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\nvoid RolL(BOX& B) {\n  string temp = B.left;\n  B.left = B.top;\n  B.top = B.right;\n  B.right = B.buttom;\n  B.buttom = temp;\n}\n \n \nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      for(int m = 0; m < 4; m++) {\n        RolL(a);\n        if(a == b) return(true);\n      }\n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    UnionFind uf(n);\n\n    boxes.resize(n);\n    int ret = 0;\n\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.left >> b.back >> b.buttom;\n    }\n    for(int i = 0; i < n; i++) {\n      for(int j = 0; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) uf.Unite(i, j);\n      }\n    }\n    for(int i = 0; i < n; i++) {\n      ret += uf.Find(i) == i;\n    }\n    cout << n - ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nstruct BOX {\n  string top;\n  string back, left, right, head;\n  string buttom;\n  bool operator==(const BOX& b) const {\n    return(top    == b.top   &&\n           back   == b.back  &&\n           left   == b.left  &&\n           right  == b.right &&\n           head   == b.head  &&\n           buttom == b.buttom);\n  }\n};\n\nvoid Roll(BOX& B)\n{\n  string temp = B.head;\n  B.head = B.right;\n  B.right = B.back;\n  B.back = B.left;\n  B.left = temp;\n}\n\nvoid RoLL(BOX& B) {\n  string temp = B.head;\n  B.head = B.top;\n  B.top = B.back;\n  B.back = B.buttom;\n  B.buttom = temp;\n}\nvoid RolL(BOX& B) {\n  string temp = B.left;\n  B.left = B.top;\n  B.top = B.right;\n  B.right = B.buttom;\n  B.buttom = temp;\n}\n\n\nbool Myon(BOX& a, BOX& b)\n{\n  for(int k = 0; k < 4; k++) {\n    Roll(a);\n    for(int l = 0; l < 4; l++) {\n      RoLL(a);\n      for(int m = 0; m < 4; m++) {\n        RolL(a);\n        if(a == b) return(true);\n      }\n    }\n  }\n  return(false);\n}\n\nint main()\n{\n  int n;\n  vector< BOX > boxes;\n  while(cin >> n, n) {\n    boxes.resize(n);\n    for(int i = 0; i < n; i++) {\n      BOX &b = boxes[i];\n      cin >> b.top >> b.head >> b.right >> b.back >> b.left >> b.buttom;\n    }\n    int ret = 0;\n    for(int i = 0; i < n; i++) {\n      for(int j = i + 1; j < n; j++) {\n        if(Myon(boxes[i], boxes[j])) {\n          ++ret;\n          break;\n        }\n      }\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <string>\n#include <iostream>\n\nusing namespace std;\n\nint n;\nstring str[31][6];\n\nbool roll(int x,int y){\n\tbool flag2=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][1];\n\t\tstr[y][1]=str[y][2];\n\t\tstr[y][2]=str[y][4];\n\t\tstr[y][4]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tbool flag=true;\n\t\tfor(int j=0;j<6;j++){\n\t\t\tif(str[y][j]!=str[x][j])flag=false;\n\t\t}\n\t\tif(flag)flag2=true;\n\t}\n\treturn flag2;\n}\n\nbool check(int x,int y){\n\tbool flag=true;\n\tif(roll(x,y))flag=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][1],str[y][4]);\n\tif(roll(x,y))flag=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][1],str[y][4]);\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][2],str[y][3]);\n\tif(roll(x,y))flag=false;\n\tfor(int i=0;i<4;i++){\n\t\tstring st=str[y][0];\n\t\tstr[y][0]=str[y][2];\n\t\tstr[y][2]=str[y][5];\n\t\tstr[y][5]=str[y][3];\n\t\tstr[y][3]=st;\n\t\tif(roll(x,y))flag=false;\n\t}\n\tswap(str[y][0],str[y][5]);\n\tswap(str[y][2],str[y][3]);\n\treturn flag;\n}\n\nint main(void){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\tcin >> str[i][j];\n\t\t\t}\n\t\t}\n\t\tint cnt=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tbool flag=true;\n\t\t\tfor(int j=0;j<i;j++){\n\t\t\t\tif(!check(i,j))flag=false;\n\t\t\t}\n\t\t\tif(flag)cnt++;\n\t\t}\n\t\tprintf(\"%d\\n\",n-cnt);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <math.h>\n#include <vector>\n#include <set>\n\nusing namespace std;\ntypedef long long LL;\nstatic const double EPS = 1e-9;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) FOR(i,0,n) \n\nint main(void){  \n  int n;\n  vector<string> col;\n  col.push_back(\"Red\");\n  col.push_back(\"Yellow\");\n  col.push_back(\"Blue\");\n  col.push_back(\"Magenta\");\n  col.push_back(\"Green\");\n  col.push_back(\"Cyan\");\n  while(cin>>n,n){\n    int c[30][6] = {0};\n    int check[30] = {0};\n    int t[30][6];\n    REP(i,n)\n      REP(j,6){\n        string tmp;\n        cin >> tmp;\n        REP(k,6){\n          if(col[k] == tmp){\n            c[i][j] = k;\n            break;\n          }\n        }\n      }\n    int count = 0;\n    REP(i,n)\n      REP(j,6)\n        t[i][c[i][j]] = c[i][5-j];\n    REP(i,n){\n      if(check[i] == 0){\n        int check1=0;\n        REP(l,3){\n          if(c[i][l]>2) check1++;\n        }\n        FOR(j,i+1,n){\n          int check2 = 0;\n          int check3 = 0;\n          bool f = true;\n          REP(k,6){\n            if(t[i][k] != t[j][k]) f=false;\n          }\n          REP(l,3){\n            if(c[j][l]>2) check2++;\n          }\n          REP(l,3){\n            if(c[i][l] != c[j][l] && c[i][l] != t[j][c[j][l]]) check3++;\n          }\n          if(check3>0) check3--;\n          if((check1+check2+check3)%2!=0) f=false;\n          if(f){\n            check[j] = 1;\n            count++;\n          }\n        }\n      }\n    }\n    cout<<count<<endl;\n  }\n}"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative\nimport Control.Monad\nimport Control.Monad.ST\nimport qualified Data.ByteString as BS\nimport Data.Functor\nimport Data.Function\nimport Data.Monoid\nimport Data.Maybe\nimport Data.List\nimport qualified Data.Foldable as Foldable\nimport qualified Data.Set as Set\n--import qualified Data.Sequence as Sequence\nimport Data.List.Split\nimport Data.Bits\nimport Data.Char\nimport Data.Ix\nimport Data.Ratio\nimport Data.Ord\nimport Data.Tuple\nimport Data.Array\n--import Data.Array.Unboxed\n--import Data.Array.IArray\nimport Data.Array.MArray\nimport Data.Array.IO\nimport Data.Array.ST\nimport Data.IORef\nimport Data.STRef\n-- import System.IO.Unsafe\n\n-- templete\nreadInt = read :: String -> Int\nreadInteger = read :: String -> Integer\nreadDouble = read :: String -> Double\ngetInt = readLn :: IO Int\ngetInts = map readInt . words <$> getLine\ngetInteger = readLn :: IO Integer\ngetIntegers = map readInteger . words <$> getLine\ngetDouble = readLn :: IO Double\ngetDoubles = map readDouble . words <$> getLine\nsjoin :: (Show a) => [a] -> String\nsjoin = unwords . map show\ntjoin :: (Show a, Show b) => (a, b) -> String\ntjoin (x, y) = show x ++ (' ' : show y)\ncond :: a -> a -> Bool -> a\ncond t f c = if c then t else f\napply2 :: (a -> a -> b) -> [a] -> b\napply2 f [x,y] = f x y\napply3 :: (a -> a -> a -> b) -> [a] -> b\napply3 f [x,y,z] = f x y z\napply4 :: (a -> a -> a -> a -> b) -> [a] -> b\napply4 f [x,y,z,w] = f x y z w\nfnTuple :: (a -> b, a -> c) -> a -> (b, c)\nfnTuple (f,g) a = (f a, g a)\nreplace :: (Eq a) => a -> a -> [a] -> [a]\nreplace x y = map (\\z -> if z==x then y else z)\nbinMap :: (a -> a -> b) -> [a] -> [b]\nbinMap f (x:xs@(y:_)) = f x y : binMap f xs\nbinMap _ _ = []\nsplitRec :: Int -> [a] -> [[a]]\nsplitRec _ [] = []\nsplitRec n xs = let (y,ys) = splitAt n xs in y : splitRec n ys\ninfixl 7 `divCeil`\ndivCeil :: Integral a => a -> a -> a\nx `divCeil` y = (x+y-1) `div` y\ncoverC :: Ord a => (a, a) -> a -> Bool\ncoverC (l,r) x = l<=x && x<=r\ncoverH :: Ord a => (a, a) -> a -> Bool\ncoverH (l,r) x = l<=x && x<r\nibsearch :: (Int -> Bool) -> (Int,Int) -> Int\nibsearch f (ok,ng) = if abs (ok-ng) <= 1 then ok else let mid = (ok + ng) `div` 2 in ibsearch f (if f mid then (mid,ng) else (ok,mid))\n-- templete\n\ndata Color = Red | Yellow | Blue | Magenta | Green | Cyan deriving (Show, Eq, Ord, Read)\n\ntype Cube = [Color]\n\nrotateC [c1,c2,c3,c4,c5,c6] = [c1,c3,c5,c2,c4,c6]\nmoveC [c1,c2,c3,c4,c5,c6] = [c2,c6,c3,c4,c1,c5]\n\nnormalize :: Cube -> Cube\nnormalize c = let c' = minimum [c, moveC c, moveC $ moveC c, moveC $ moveC $ moveC c, moveC $ rotateC c, moveC $ rotateC $ rotateC $ rotateC c] in minimum $ take 4 $ iterate rotateC c'\n\nmain = do\n    n <- getInt\n    unless (n==0) $ do\n        (n-) . length . group . sort . map (normalize . map read . words) <$> replicateM n getLine >>= print >> main\n    \n"
  },
  {
    "language": "Haskell",
    "code": "import Control.Applicative ((<$>), (<*>))\nimport Control.Monad\nimport Data.List\n\nmain :: IO ()\nmain = do\n  n <- getl toInt\n  unless (n == 0) $ do\n    solve n <$> replicateM n (getl words) >>= print\n    main\n\nsolve :: Int -> [[String]] -> Int\nsolve n xs = n - ((length . nubBy sameDice . map roll) xs)\n\nroll :: [String] -> [String]\nroll [c1,\"Red\",c3,c4,c5,c6] = [\"Red\",c6,c3,c4,c1,c5]\nroll [c1,c2,\"Red\",c4,c5,c6] = [\"Red\",c2,c6,c1,c5,c4]\nroll [c1,c2,c3,\"Red\",c5,c6] = [\"Red\",c2,c1,c6,c5,c3]\nroll [c1,c2,c3,c4,\"Red\",c6] = [\"Red\",c1,c3,c4,c6,c2]\nroll [c1,c2,c3,c4,c5,\"Red\"] = [\"Red\",c2,c4,c3,c5,c1]\nroll x = x\n\nsameDice :: [String] -> [String] -> Bool\nsameDice xs [c1,c2,c3,c4,c5,c6] = xs `elem` ys\n  where ys = [[c1,c4,c2,c5,c3,c6],[c1,c5,c4,c3,c2,c6],[c1,c3,c5,c2,c4,c6],[c1,c2,c3,c4,c5,c6]]\n\ntoInt :: String -> Int\ntoInt s = read s\n\ngetl :: (String -> a) -> IO a\ngetl f = f <$> getLine"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[101],c2[101],c3[101],c4[101],c5[101],c6[101];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tz=0;\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",n);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint C[6],F[6][6][6][6][6];\nvoid rotate(a,b,c,d){\n\tint t;\n\tt=C[a];\n\tC[a]=C[b];\n\tC[b]=C[c];\n\tC[c]=C[d];\n\tC[d]=t;\n}\nvoid normalize(){\n\tint i,m;\n\twhile(C[1]==0||C[4]==0)\n\t\trotate(1,2,4,3);\n\twhile(C[0]!=0)\n\t\trotate(0,2,5,3);\n\tm=1;\n\tfor(i=2;i<=4;i++)\n\t\tif(C[i]<C[m])\n\t\t\tm=i;\n\tm=C[m];\n\twhile(C[1]!=m)\n\t\trotate(1,2,4,3);\n}\nint main(){\n\tint n,i,*p,remain;\n\tchar str[10];\n\tchar*table=\"RYBMGC\";\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tmemset(F,0,sizeof(F));\n\t\tremain=n;\n\t\tfor(;n--;){\n\t\t\tfor(i=0;i<6;i++){\n\t\t\t\tscanf(\"%s\",str);\n\t\t\t\tC[i]=strchr(table,str[0])-table;\n\t\t\t}\n\t\t\tnormalize();\n\t\t\tp=&F[C[1]][C[2]][C[3]][C[4]][C[5]];\n\t\t\tif(*p==0){\n\t\t\t\tremain--;\n\t\t\t\t*p=1;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",remain);\n\t}\n\texit(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tint n,i,j,k;\n\tint min,minp;\n\tint color_id[30][6];\n\tint color_buf[2][6];\n\tchar color_name[12];\n\tint count;\n\twhile(1) {\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tfor(i=0;i<n;i++) {\n\t\t\tfor(j=0;j<6;j++) {\n\t\t\t\tscanf(\"%s\",color_name);\n\t\t\t\tswitch(color_name[0]) {\n\t\t\t\t\tcase 'R':\n\t\t\t\t\t\tcolor_buf[0][j]=0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\tcolor_buf[0][j]=1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'B':\n\t\t\t\t\t\tcolor_buf[0][j]=2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tcolor_buf[0][j]=3;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'G':\n\t\t\t\t\t\tcolor_buf[0][j]=4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tcolor_buf[0][j]=5;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++)color_buf[1][j]=color_buf[0][j];\n\t\t\tif(color_buf[0][0]==0) {\n\t\t\t\t/* do nothing */\n\t\t\t} else if(color_buf[0][1]==0) {\n\t\t\t\tcolor_buf[1][0]=color_buf[0][1];\n\t\t\t\tcolor_buf[1][1]=color_buf[0][5];\n\t\t\t\tcolor_buf[1][5]=color_buf[0][4];\n\t\t\t\tcolor_buf[1][4]=color_buf[0][0];\n\t\t\t} else if(color_buf[0][2]==0) {\n\t\t\t\tcolor_buf[1][0]=color_buf[0][2];\n\t\t\t\tcolor_buf[1][2]=color_buf[0][5];\n\t\t\t\tcolor_buf[1][5]=color_buf[0][3];\n\t\t\t\tcolor_buf[1][3]=color_buf[0][0];\n\t\t\t} else if(color_buf[0][3]==0) {\n\t\t\t\tcolor_buf[1][0]=color_buf[0][3];\n\t\t\t\tcolor_buf[1][3]=color_buf[0][5];\n\t\t\t\tcolor_buf[1][5]=color_buf[0][2];\n\t\t\t\tcolor_buf[1][2]=color_buf[0][0];\n\t\t\t} else if(color_buf[0][4]==0) {\n\t\t\t\tcolor_buf[1][0]=color_buf[0][4];\n\t\t\t\tcolor_buf[1][4]=color_buf[0][5];\n\t\t\t\tcolor_buf[1][5]=color_buf[0][1];\n\t\t\t\tcolor_buf[1][1]=color_buf[0][0];\n\t\t\t} else if(color_buf[0][5]==0) {\n\t\t\t\tcolor_buf[1][0]=color_buf[0][5];\n\t\t\t\tcolor_buf[1][3]=color_buf[0][2];\n\t\t\t\tcolor_buf[1][5]=color_buf[0][0];\n\t\t\t\tcolor_buf[1][2]=color_buf[0][3];\n\t\t\t}\n\t\t\tmin=10;minp=0;\n\t\t\tfor(j=1;j<5;j++) {\n\t\t\t\tif(color_buf[1][j]<min) {\n\t\t\t\t\tmin=color_buf[1][j];\n\t\t\t\t\tminp=j;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++)color_id[i][j]=color_buf[1][j];\n\t\t\tswitch(minp) {\n\t\t\t\tcase 1:\n\t\t\t\t\t/* do nothing */\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tcolor_id[i][1]=color_buf[1][2];\n\t\t\t\t\tcolor_id[i][2]=color_buf[1][4];\n\t\t\t\t\tcolor_id[i][4]=color_buf[1][3];\n\t\t\t\t\tcolor_id[i][3]=color_buf[1][1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tcolor_id[i][1]=color_buf[1][3];\n\t\t\t\t\tcolor_id[i][2]=color_buf[1][1];\n\t\t\t\t\tcolor_id[i][4]=color_buf[1][2];\n\t\t\t\t\tcolor_id[i][3]=color_buf[1][4];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tcolor_id[i][1]=color_buf[1][4];\n\t\t\t\t\tcolor_id[i][2]=color_buf[1][3];\n\t\t\t\t\tcolor_id[i][4]=color_buf[1][1];\n\t\t\t\t\tcolor_id[i][3]=color_buf[1][2];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcount=0;\n\t\tfor(i=0;i<n;i++) {\n\t\t\tfor(j=0;j<i;j++) {\n\t\t\t\tfor(k=0;k<6;k++) {\n\t\t\t\t\tif(color_id[i][k]!=color_id[j][k])break;\n\t\t\t\t}\n\t\t\t\tif(k>=6){count++;break;}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",count);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z=0;\n\tchar c1[101],c2[101],c3[101],c4[101],c5[101],c6[101];\n\twhile(n==0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tz=z-1;\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n    int n,i,j,z;\n   char c1[101][101],c2[101][101],c3[101][101],c4[101][101],c5[101][101],c6[101][101];\n   scanf(\"%d\",&n);\n    while(n!=0){\n    scanf(\"%d\",&n);\n    for(i=0;i<n;i++){\n        scanf(\"%s %s %s %s %s %s\",c1[i],c2[i],c3[i],c4[i],c5[i],c6[i]);\n    }\n    z=0;\n    for(i=0;i<n;i++){\n        for(j=i+1;j<n-1;j++){\n\n        if(c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]&& c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            z=z+1;\n        }\n        else if(c4[i][0]==c4[j][0] && c1[i][0]==c1[j][0] && c3[i][0]==c3[j][0] && c6[i][0]==c6[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c4[i][0]==c6[j][0] && c1[i][0]==c3[j][0] && c3[i][0]==c1[j][0] && c6[i][0]==c4[j][0]){\n            if(c5[i][0]==c2[j][0] && c2[i][0]==c5[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c3[i][0]==c3[j][0] && c1[i][0]==c1[j][0] && c4[i][0]==c4[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c4[j][0] && c3[i][0]==c1[j][0] && c1[i][0]==c3[j][0] && c4[i][0]==c6[j][0]){\n            if(c2[i][0]==c5[j][0] && c5[i][0]==c2[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c2[i][0]==c2[j][0] && c1[i][0]==c1[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            if(c4[i][0]==c4[j][0] && c3[i][0]==c3[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c2[i][0]==c6[j][0] && c1[i][0]==c5[j][0] && c5[i][0]==c1[j][0] && c6[i][0]==c2[j][0]){\n            if(c4[i][0]==c3[j][0] && c3[i][0]==c4[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c5[i][0]==c5[j][0] && c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]){\n            if(c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c2[j][0] && c5[i][0]==c1[j][0] && c1[i][0]==c5[j][0] && c2[i][0]==c6[j][0]){\n            if(c3[i][0]==c4[j][0] && c4[i][0]==c3[j][0]){\n                z=z+1;\n            }\n        }\n        }\n    }\n    printf(\"%d\\n\",z);\n    scanf(\"%d\",&n);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "// Aizu Vol-1 0198: Trouble in Shinagawa's Artifacts\n// 2017.8.17 bal4u@uu\n\n#include <stdio.h>\n#include <string.h>\n\nint r[24][7] = {\n\t{ 0,1,2,3,4,5,6 }, { 0,1,3,5,2,4,6 }, { 0,1,4,2,5,3,6 }, { 0,1,5,4,3,2,6 },\n\t{ 0,2,6,3,4,1,5 }, { 0,2,3,1,6,4,5 }, { 0,2,1,4,3,6,5 }, { 0,2,4,6,1,3,5 },\n\t{ 0,3,1,2,5,6,4 }, { 0,3,2,6,1,5,4 }, { 0,3,5,1,6,2,4 }, { 0,3,6,5,2,1,4 },\n\t{ 0,4,1,5,2,6,3 }, { 0,4,2,1,6,5,3 }, { 0,4,5,6,1,2,3 }, { 0,4,6,2,5,1,3 },\n\t{ 0,5,1,3,4,6,2 }, { 0,5,3,6,1,4,2 }, { 0,5,4,1,6,3,2 }, { 0,5,6,4,3,1,2 },\n\t{ 0,6,2,4,3,5,1 }, { 0,6,3,2,5,4,1 }, { 0,6,5,3,4,2,1 }, { 0,6,4,5,2,3,1 } };\n\nchar a[32][8];\nchar f[32];\n\nint same(int x, int y)\n{\n\tint i, j;\n\tchar buf[8];\n\tfor (i = 0; i < 24; i++) {\n\t\tfor (j = 1; j <= 6; j++) buf[j] = a[y][r[i][j]];\n\t\tif (strncmp(a[x] + 1, buf + 1, 6) == 0) return 1;\n\t}\n\treturn 0;\n}\n\nint main()\n{\n\tint n;\n\tint i, j, c;\n\tchar buf[10];\n\n\twhile (scanf(\"%d\", &n) == 1 && n) {\n\t\tfor (i = 0; i < n; i++) {\n\t\t\tf[i] = 0;\n\t\t\tfor (j = 1; j <= 6; j++) scanf(\"%s\", buf), a[i][j] = buf[0];\n\t\t}\n\t\tfor (i = 0; i < n; i++) {\n\t\t\tif (f[i]) continue;\n\t\t\tfor (j = i + 1; j < n; j++) if (same(i, j)) f[j] = 1;\n\t\t}\n\t\tfor (c = i = 0; i < n; i++) if (f[i]) c++;\n\t\tprintf(\"%d\\n\", c);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint n,i,j;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[30]={0},yokomen[30]={0},del=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\tif(i>0 && i<5)yokomen[i]+=color[0];\n\t\t\t\telse uesita[i]+=color[0];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tif(i>0 && i<5 && yokomen[i]==yokomen[i+1])del++;\n\t\t\telse if(uesita[i]==uesita[i+1])del++;\n\t\t}\n\t\tprintf(\"%d\\n\",n-del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(){\n\tint i,j,k,l,c,n;\n\tchar s[40][10][30];\n\tint e[6]={0,2,4,1,3,5};\n\tint d[30][6]={\n\t\t{0,1,2,3,4,5},\n\t\t{1,2,0,5,3,4},\n\t\t{2,1,5,0,4,3},\n\t\t{3,1,0,5,4,2},\n\t\t{4,3,0,5,2,1},\n\t\t{5,1,3,2,4,0},\n\t};\n\tfor(i=0;i<6;i++){\n\t\tfor(j=0;j<6;j++)d[20-i*4][j]=d[5-i][j];\n\t}\n\tfor(i=0;i<6;i++){\n\t\tfor(j=0;j<3;j++){\n\t\t\tfor(k=0;k<6;k++)d[i*4+j+1][k]=d[i*4+j][e[k]];\n\t\t}\n\t}\n\twhile(scanf(\"%d\",&n),n){\n\t\tfor(i=c=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++)scanf(\"%s\",s[i][j]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=i+1;j<n;j++){\n\t\t\t\tfor(k=0;k<24;k++){\n\t\t\t\t\tfor(l=0;l<6;l++){\n\t\t\t\t\t\tif(strcmp(s[i][l],s[j][d[k][l]]))goto NEXT;\n\t\t\t\t\t}\n\t\t\t\t\tc++;\n\t\t\t\t\tgoto END;\n\t\t\t\t\tNEXT:;\n\t\t\t\t}\n\t\t\t}\n\t\t\tEND:;\n\t\t}\n\t\tprintf(\"%d\\n\",c);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tz=0;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n-1;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t\tz=z-1;\n\t}\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint main()\n{\n\tint i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n\tchar c[8];\n\tchar color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n\n\tscanf(\"%d\", &n);\n\twhile (n > 0) {\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tfor (i1 = 0; i1 < 6; i1++) {\n\t\t\t\tscanf(\"%s\", c);\n\t\t\t\tfor (i2 = 0; i2 < 6; i2++) {\n\t\t\t\t\tif (strcmp(c, color[i2]) == 0) {\n\t\t\t\t\t\td[i0][i1] = i2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tm = 0;\n\t\tfor (i0 = 0; i0 < n; i0++)\n\t\t\ts[i0] = 1;\n\t\tfor (i0 = 0; i0 < n; i0++) {\n\t\t\tif (s[i0] > 0) {\n\t\t\t\tm++;\n\t\t\t\ts[i0] = 0;\n\t\t\t\tfor (i1 = i0+1; i1 < n; i1++) {\n\t\t\t\t\tsw = 0;\n\t\t\t\t\tfor (i2 = 0; i2 < 3 && sw == 0; i2++) {\n\t\t\t\t\t\tfor (i3 = 0; i3 < 6 && sw == 0; i3++) {\n\t\t\t\t\t\t\tif (d[i0][i2] == d[i1][i3]) {\n\t\t\t\t\t\t\t\tif (d[i0][5-i2] != d[i1][5-i3])\n\t\t\t\t\t\t\t\t\tsw = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (sw == 0)\n\t\t\t\t\t\ts[i1] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", n-m);\n\t\tscanf(\"%d\", &n);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\n\nint x[6][6]={{1,2,3,4,5,6},\n\t\t\t {2,6,3,4,1,5},\n\t\t\t {3,2,6,1,5,4},\n\t\t\t {4,2,1,6,5,3},\n\t\t\t {5,1,3,4,6,2},\n\t\t\t {6,2,4,3,5,1}};\nint y[4][6]={{1,2,3,4,5,6},\n\t\t\t {1,4,2,5,3,6},\n\t\t\t {1,5,4,3,2,6},\n\t\t\t {1,3,5,2,4,6}};\nint c[33][6],d[6];\nint func(char *s){\n\tif(strcmp(s,\"Red\")==0)return 0;\n\tif(strcmp(s,\"Yellow\")==0)return 1;\n\tif(strcmp(s,\"Blue\")==0)return 2;\n\tif(strcmp(s,\"Magenta\")==0)return 3;\n\tif(strcmp(s,\"Green\")==0)return 4;\n\tif(strcmp(s,\"Cyan\")==0)return 5;\n}\nint main(){\n\tint i,j,k,l,n,ans,f[33],r[33];\n\tchar t[15];\n\t\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tmemset(f,0,sizeof(f));\n\t\tans=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",t);\n\t\t\t\tc[i][j]=func(t);\n\t\t\t\t//printf(\"%d \",func(t));\n\t\t\t\tif(func(t)==0)r[i]=j;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++)d[j]=c[i][x[r[i]][j]-1];\n\t\t\tmemcpy(c[i],d,sizeof(int)*6);\n\t\t\t/*\n\t\t\tfor(k=0;k<4;k++){\n\t\t\t\tfor(j=0;j<6;j++)printf(\"%d \",c[i][y[k][j]-1]);\n\t\t\t\tprintf(\"\\n\");\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n\t\t\t*/\n\t\t\tfor(j=0;j<i;j++){\n\t\t\t\tif(f[j]==1)continue;\n\t\t\t\tfor(k=0;k<4;k++){\n\t\t\t\t\tfor(l=0;l<6;l++)if(c[i][y[k][l]-1]!=c[j][l])break;\n\t\t\t\t\tif(l==6){\n\t\t\t\t\t\tans++;f[j]=1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//printf(\"  ::%d\\n\\n\",ans);\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "C[6],F[6][6][6][6][6];T=\"RYBMGC\";s[2],i,*p,r,m;void R(a,b,c,d){int t;t=C[a];C[a]=C[b];C[b]=C[c];C[c]=C[d];C[d]=t;}main(n){for(;scanf(\"%d\",&n),n;printf(\"%d\\n\",r))for(memset(F,r=0,31104);n--;*p=1){for(i=6;i--;C[i]=strchr(T,*s&127)-T)scanf(\"%s\",s);for(;!C[1]|!C[4];)R(1,2,4,3);for(;*C;)R(0,2,5,3);for(m=i=1;++i<5;)C[i]<C[m]?m=i:0;for(m=C[m];C[1]-m;)R(1,2,4,3);p=&F[C[1]][C[2]][C[3]][C[4]][C[5]];r+=*p;}exit(0);}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tz=0;\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=1;j<n-1;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t\tbreak;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tz=z-1;\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}\n "
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse goto next;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++){if(check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tnext:;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,z=0;\n\tchar c1[101],c2[101],c3[101],c4[101],c5[101],c6[101];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tif(c4[i]==c4[i+1] && c1[i]==c1[i+1] && c3[i]==c3[i+1] && c6[i]==c6[i+1]){\n\t\t\tif(c5[i]==c5[i+1] && c2[i]==c2[i+1]){\n\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[i+1] && c1[i]==c3[i+1] && c3[i]==c1[i+1] && c6[i]==c4[i+1]){\n\t\t\tif(c5[i]==c2[i+1] && c2[i]==c5[i+1]){\n\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c5[i]==c5[i+1] && c1[i]==c1[i+1] && c2[i]==c2[i+1] && c6[i]==c6[i+1]){\n\t\t\tif(c3[i]==c3[i+1] && c4[i]==c4[i+1]){\n\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c5[i]==c6[i+1] && c1[i]==c2[i+1] && c2[i]==c1[i+1] && c6[i]==c5[i+1]){\n\t\t\tif(c3[i]==c4[i+1] && c4[i]==c3[i+1]){\n\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",z);\n\tz=0;\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\nint N,i,j,k,l,C[30][9],r,m[6][2]={{0,5},{2,3},{1,4},{5,0},{3,2},{4,1}},n[6][4]={{1,2,3,4},{0,2,3,4},{0,1,4,5},{4,3,2,1},{4,3,2,0},{5,4,1,0}};\nchar *S[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"},I[99],*p;\n\nint ch(int a[9],int b[9])\n{\n\tint i,j,k,x,y;\n\tfor(i=0;i<6;i++)\n\t\tfor(j=0;j<6;j++)\n\t\t\tif(a[m[i][0]]==b[m[j][0]]&&a[m[i][1]]==b[m[j][1]])\n\t\t\t\tfor(k=0;k<4;k++)\n\t\t\t\t{\n\t\t\t\t\tfor(x=0,y=k;x<4;x++,y=(y+1)%4)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(a[n[i][x]]!=b[n[j][y]])break;\n\t\t\t\t\t}\n\t\t\t\t\tif(x==4)return 1;\n\t\t\t\t}\n\treturn 0;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\\n\",&N),r=N;)\n\t{\n\t\tfor(i=0;i<N;i++)\n\t\t{\n\t\t\tgets(I);\n\t\t\tfor(j=0;(p=strtok(j==0?I:NULL,\" \"))!=NULL;j++)\n\t\t\t{\n\t\t\t\tfor(k=0;k<6;k++)\n\t\t\t\t\tif(strcmp(p,S[k])==0)\n\t\t\t\t\t\tC[i][j]=k;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<N;i++)\n\t\t\tfor(j=0;j<i;j++)\n\t\t\t{\n\t\t\t\tif(ch(C[i],C[j]))\n\t\t\t\t{\n\t\t\t\t\tr--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\tprintf(\"%d\\n\",N-r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z,o[1001][1001];\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\to[i][j]=0;\n\t\t}\n\t}\n\tz=0;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n-1;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t\tz=z-1;\n\t}\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tz=0;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\t\tif(i==j)continue;\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tz=z-1;\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n    int n,i,j,z;\n   char c1[101][101],c2[101][101],c3[101][101],c4[101][101],c5[101][101],c6[101][101];\n   scanf(\"%d\",&n);\n    while(n!=0){\n    for(i=0;i<n;i++){\n        scanf(\"%s %s %s %s %s %s\",c1[i],c2[i],c3[i],c4[i],c5[i],c6[i]);\n    }\n    z=0;\n    for(i=0;i<n;i++){\n        for(j=i+1;j<n-1;j++){\n\n        if(c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]&& c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            z=z+1;\n        }\n        else if(c4[i][0]==c4[j][0] && c1[i][0]==c1[j][0] && c3[i][0]==c3[j][0] && c6[i][0]==c6[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c4[i][0]==c6[j][0] && c1[i][0]==c3[j][0] && c3[i][0]==c1[j][0] && c6[i][0]==c4[j][0]){\n            if(c5[i][0]==c2[j][0] && c2[i][0]==c5[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c3[i][0]==c3[j][0] && c1[i][0]==c1[j][0] && c4[i][0]==c4[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c4[j][0] && c3[i][0]==c1[j][0] && c1[i][0]==c3[j][0] && c4[i][0]==c6[j][0]){\n            if(c2[i][0]==c5[j][0] && c5[i][0]==c2[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c2[i][0]==c2[j][0] && c1[i][0]==c1[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            if(c4[i][0]==c4[j][0] && c3[i][0]==c3[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c2[i][0]==c6[j][0] && c1[i][0]==c5[j][0] && c5[i][0]==c1[j][0] && c6[i][0]==c2[j][0]){\n            if(c4[i][0]==c3[j][0] && c3[i][0]==c4[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c5[i][0]==c5[j][0] && c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]){\n            if(c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0]){\n                z=z+1;\n            }\n        }\n        else if(c6[i][0]==c2[j][0] && c5[i][0]==c1[j][0] && c1[i][0]==c5[j][0] && c2[i][0]==c6[j][0]){\n            if(c3[i][0]==c4[j][0] && c4[i][0]==c3[j][0]){\n                z=z+1;\n            }\n        }\n        }\n    }\n    printf(\"%d\\n\",z);\n    scanf(\"%d\",&n);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\tif(col[0]=='Y')stk[j]=1;\n\t\t\t\tif(col[0]=='B')stk[j]=2;\n\t\t\t\tif(col[0]=='M')stk[j]=3;\n\t\t\t\tif(col[0]=='G')stk[j]=4;\n\t\t\t\tif(col[0]=='C')stk[j]=5;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n??\nint main()\n{\n????????int i0, i1, i2, i3, n, m, d[30][6], s[30], sw;\n????????char c[8];\n????????char color[6][8] = {\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n??\n????????scanf(\"%d\", &n);\n????????while (n > 0) {\n????????????????for (i0 = 0; i0 < n; i0++) {\n????????????????????????for (i1 = 0; i1 < 6; i1++) {\n????????????????????????????????scanf(\"%s\", c);\n????????????????????????????????for (i2 = 0; i2 < 6; i2++) {\n????????????????????????????????????????if (strcmp(c, color[i2]) == 0) {\n????????????????????????????????????????????????d[i0][i1] = i2;\n????????????????????????????????????????????????break;\n????????????????????????????????????????}\n????????????????????????????????}\n????????????????????????}\n????????????????}\n????????????????m = 0;\n????????????????for (i0 = 0; i0 < n; i0++)\n????????????????????????s[i0] = 1;\n????????????????for (i0 = 0; i0 < n; i0++) {\n????????????????????????if (s[i0] > 0) {\n????????????????????????????????m++;\n????????????????????????????????s[i0] = 0;\n????????????????????????????????for (i1 = i0+1; i1 < n; i1++) {\n????????????????????????????????????????sw = 0;\n????????????????????????????????????????for (i2 = 0; i2 < 6 && sw == 0; i2++) {\n????????????????????????????????????????????????for (i3 = 0; i3 < 6 && sw == 0; i3++) {\n????????????????????????????????????????????????????????if (d[i0][i2] == d[i1][i3]) {\n????????????????????????????????????????????????????????????????if (d[i0][5-i2] != d[i1][5-i3])\n????????????????????????????????????????????????????????????????????????sw = 1;\n????????????????????????????????????????????????????????}\n????????????????????????????????????????????????}\n????????????????????????????????????????}\n????????????????????????????????????????if (sw == 0)\n????????????????????????????????????????????????s[i1] = 0;\n????????????????????????????????}\n????????????????????????}\n????????????????}\n????????????????printf(\"%d\\n\", n-m);\n????????????????scanf(\"%d\", &n);\n????????}\n??\n????????return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0,k=-1;\n\t\tfor(i=0;i<=n;i++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5){\n\t\t\t\t\tif(uesita[k]==uesita[k+1])del++;\n\t\t\t\t}\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\tif(j==0 ||j==5)for(k=0;k<8;k++)uesita[i]+=color[k];\n\t\t\t\telse for(k=0;k<8;k++)yokomen[i]+=color[k];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tif(i==0 || i==5)if(uesita[i]==uesita[i+1])del++;\n\t\t\telse if(yokomen[i]==yokomen[i+1])del++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ Volume 1 Problem 0198 Trouble in Artist Shinagawa's Artifact\n\n#include <stdio.h>\n#include <string.h>\n\nint color_code(char *color)\n{\n    switch (*color){\n      case 'R':\n        return (0);\n        \n      case 'Y':\n        return (1);\n        \n      case 'B':\n        return (2);\n        \n      case 'M':\n        return (3);\n        \n      case 'G':\n        return (4);\n        \n      case 'C':\n        return (5);\n    }\n}\n\nint main(void)\n{\n    int artifact[30][6][6];\n    int tmp[6][6];\n    char color_str[8];\n    int color[6];\n    int n;\n    int i, j;\n    int no;\n    \n    \n    while (1){\n        scanf(\"%d\", &n);\n        if (n == 0){\n            break;\n        }\n        no = 0;\n        for (i = 0; i < n; i++){\n            for (j = 0; j < 6; j++){\n                scanf(\"%s\", color_str);\n                color[j] = color_code(color_str);\n            }\n    \n            memset(tmp, 0, sizeof(tmp));\n            tmp[color[0]][color[1]] = tmp[color[1]][color[0]] = 1;\n            tmp[color[0]][color[2]] = tmp[color[2]][color[0]] = 1;\n            tmp[color[0]][color[3]] = tmp[color[3]][color[0]] = 1;\n            tmp[color[0]][color[4]] = tmp[color[4]][color[0]] = 1;\n    \n            tmp[color[1]][color[2]] = tmp[color[2]][color[1]] = 1;\n            tmp[color[1]][color[3]] = tmp[color[3]][color[1]] = 1;\n            tmp[color[1]][color[5]] = tmp[color[5]][color[1]] = 1;\n    \n            tmp[color[2]][color[4]] = tmp[color[4]][color[2]] = 1;\n            tmp[color[2]][color[5]] = tmp[color[5]][color[2]] = 1;\n    \n            tmp[color[3]][color[4]] = tmp[color[4]][color[3]] = 1;\n            tmp[color[3]][color[5]] = tmp[color[5]][color[3]] = 1;\n    \n            tmp[color[4]][color[5]] = tmp[color[5]][color[4]] = 1;\n\n            for (j = 0; j < no; j++){\n                if (memcmp(artifact[j], tmp, sizeof(tmp)) == 0){\n                    break;\n                }\n            }\n            if (j == no){\n                memcpy(artifact[j], tmp, sizeof(tmp));\n                no++;\n            }\n        }\n        printf(\"%d\\n\", n -  no);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tz=0;\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=i+1;j<n-1;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={\"0\"},yokomen[6]={\"0\"},del=0,k=-1;\n\t\tfor(i=0;i<=n;i++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[9];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0,k=-1;\n\t\tfor(i=0;i<=n;i++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++){\n\t\t\tk++;\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "main(){char* l=\"RYBMGC\";int i,j,n,a,c[6],f,s,t[4],r[][4]={{1,2,4,3},{5,2,0,3},{0,1,5,4},{0,4,5,1},{0,2,5,3},{2,1,3,4}};while(scanf(\"%d\",&n),n){a=0;int u[9999]={0};while(n--){char b[16];for(i=0;i<6;++i){scanf(\"%s\",b);for(j=0;l[j]!=*b;++j);c[i]=j;if(j==0)f=i;}for(i=0;i<4;++i)t[i]=c[r[f][i]];for(i=0;i<3;++i){s=0;for(j=0;j<4;++j)s=s*10+t[(i+j)%4];if(u[s]){++a;break;}else u[s]=1;}}printf(\"%d\\n\",a);}exit(0);}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tz=0;\n\tfor(i=0;i<n-1;i++){\n\t\tfor(j=i+1;j<n-1;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tfprintf(stderr,\"%f\\n\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse stk[j]=8;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++){if(stk[j]<6 && check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tfor(j=0;j<6;j++){printf(\"%d\",stk2[j]);}printf(\"\\n\");\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tprintf(\"%d\\n\",cube[k]);\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tnext:;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tz=0;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n-1;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t\tz=z-1;\n\t}\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "\n#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z=0;\n\tchar c1[101],c2[101],c3[101],c4[101],c5[101],c6[101];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=0;j<n;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tz=z-1;\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tfprintf(stderr,\"%s \",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse stk[j]=8;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfprintf(stderr,\"\\n\");\n\t\t\tfor(j=0;j<6;j++){if(stk[j]<6 && check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tnext:;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse stk[j]=8;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++){if(stk[j]<6 && check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tnext:;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[50];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tfprintf(stderr,\"%s\\n\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse stk[j]=8;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++){if(stk[j]<6 && check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tnext:;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(void){\n\tint n,i,j,k,del;\n\tchar color[30][6][8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tfor(i=del=0;i<n;i++)for(j=0;j<6;j++)scanf(\"%s\",&color[i][j]);\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tif(j==0 || j==5){\n\t\t\t\t\tif(!strcmp(color[i][j],color[i+1][j])){\n\t\t\t\t\t\tdel++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(!strcmp(color[i][j],color[i+1][j])){\n\t\t\t\t\tdel++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\nint N,i,j,k,l,C[30][9],r,m[6][4]={{1,2,4,3},{5,2,0,3},{1,5,4,0},{1,0,4,5},{0,2,5,3},{1,3,4,2}};\nchar *S[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"},I[99],*p;\n\nint ch(int a[9],int b[9])\n{\n\tint i,j,x,y,t1[4],t2[4];\n\tfor(i=0;i<6;i++)\n\t{\n\t\tif(a[0]==b[i])\n\t\t{\n\t\t\tfor(j=0;j<4;j++)\n\t\t\t{\n\t\t\t\tt1[j]=a[m[0][j]];\n\t\t\t\tt2[j]=b[m[i][j]];\n\t\t\t}\n\t\t\tfor(j=0;j<4;j++)\n\t\t\t{\n\t\t\t\tfor(x=0,y=j;x<4;x++,y=(y+1)%4)\n\t\t\t\t\tif(t1[x]!=t2[y])\n\t\t\t\t\t\tbreak;\n\t\t\t\tif(x==4)return 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\\n\",&N),r=N;)\n\t{\n\t\tfor(i=0;i<N;i++)\n\t\t{\n\t\t\tgets(I);\n\t\t\tfor(j=0;(p=strtok(j==0?I:NULL,\" \"))!=NULL;j++)\n\t\t\t{\n\t\t\t\tfor(k=0;k<6;k++)\n\t\t\t\t\tif(strcmp(p,S[k])==0)\n\t\t\t\t\t\tC[i][j]=k;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<N;i++)\n\t\t\tfor(j=0;j<i;j++)\n\t\t\t{\n\t\t\t\tif(ch(C[i],C[j]))\n\t\t\t\t{\n\t\t\t\t\tr--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\tprintf(\"%d\\n\",N-r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(void){\n\tint n,i,j,k,del;\n\tchar color[30][6][8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tfor(i=del=0;i<n;i++)for(j=0;j<6;j++)scanf(\"%s\",&color[i][j]);\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tif(j==0 || j==5)if(!strcmp(color[i][j],color[i+1][j])){\n\t\t\t\t\tdel++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif(i>0 && i<5)if(!strcmp(color[i][j],color[i+1][j])){\n\t\t\t\t\tdel++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del-1);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\twhile(n!=0){\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tz=0;\n\t\tfor(j=0;j<n;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",z);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0,k=-1;\n\t\tfor(i=0;i<=n;i++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1]){\n\t\t\t\t\tdel++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse if(yokomen[k]==yokomen[k+1]){\n\t\t\t\t\tdel++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[50],red,front;\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nvoid roll(int dir){\n\tif(dir==0){swap(&stk[0],&stk[2]);swap(&stk[2],&stk[5]);swap(&stk[5],&stk[3]);}\n\tif(dir==1){swap(&stk[0],&stk[3]);swap(&stk[3],&stk[5]);swap(&stk[5],&stk[2]);}\n\tif(dir==2){swap(&stk[0],&stk[1]);swap(&stk[1],&stk[5]);swap(&stk[5],&stk[4]);}\n\tif(dir==3){swap(&stk[0],&stk[4]);swap(&stk[4],&stk[5]);swap(&stk[5],&stk[1]);}\n\tif(dir==4){swap(&stk[1],&stk[2]);swap(&stk[2],&stk[4]);swap(&stk[4],&stk[3]);}\n\tif(dir==5){swap(&stk[1],&stk[3]);swap(&stk[3],&stk[4]);swap(&stk[4],&stk[2]);}\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tif(col[0]=='R'){stk[j]=0;red=j;}\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t}\n\t\t\t\n\t\t\tif(red==1)roll(2);\n\t\t\telse if(red==2)roll(0);\n\t\t\telse if(red==3)roll(1);\n\t\t\telse if(red==4)roll(3);\n\t\t\telse if(red==5){roll(0);roll(0);}\n\n\t\t\tif(stk[5]==1)front=2; else front=1;\n\t\t\twhile(stk[1]!=front)roll(4);\n\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++)cube[k]=cube[k]*10+stk[j];\n\t\t\t\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tcontinue;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[100];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\nint N,i,j,k,C[30][9],r,m[3][2]={{0,5},{2,3},{1,4}};\nchar *S[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"},I[99],*p;\n\nint f(int a,int b,int c,int d){return (a==c&&b==d)||(a==d&&b==c);}\n\nint ch(int a[9],int b[9])\n{\n\tint i,j,x,y;\n\tfor(i=0;i<3;i++)\n\t\tfor(j=0;j<3;j++)\n\t\t\tif(f(a[m[i][0]],a[m[i][1]],b[m[j][0]],b[m[j][1]]))\n\t\t\t\tfor(x=0;x<3;x++)\n\t\t\t\t\tfor(y=0;y<3;y++)\n\t\t\t\t\t\tif(x!=i&&y!=j&&f(a[m[x][0]],a[m[x][1]],b[m[y][0]],b[m[y][1]]))\n\t\t\t\t\t\t\treturn 1;\n\treturn 0;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\\n\",&N),r=N;)\n\t{\n\t\tfor(i=0;i<N;i++)\n\t\t{\n\t\t\tgets(I);\n\t\t\tfor(j=0;(p=strtok(j==0?I:NULL,\" \"))!=NULL;j++)\n\t\t\t{\n\t\t\t\tfor(k=0;k<6;k++)\n\t\t\t\t\tif(strcmp(p,S[k])==0)\n\t\t\t\t\t\tC[i][j]=k;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<N;i++)\n\t\t\tfor(j=0;j<i;j++)\n\t\t\t{\n\t\t\t\tif(ch(C[i],C[j]))\n\t\t\t\t{\n\t\t\t\t\tr--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\tprintf(\"%d\\n\",N-r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse stk[j]=8;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfor(j=0;j<6;j++){if(stk[j]<6 && check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tfor(j=0;j<6;j++){printf(\"%d\",stk2[j]);}printf(\"\\n\");\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tprintf(\"%d\\n\",cube[k]);\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tcontinue;\n\t\t\tnext:fprintf(stderr,\"EROOR\");\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0,k=-1;\n\t\tfor(i=0;i<=n;i++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);break;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tz=0;\n\t\tfor(j=0;j<n;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",n);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[30]={0},yokomen[30]={0},del=0,k=-1;\n\t\tfor(i=0;i<=n;i++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0 && n<31){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tif(i==0 || i==5)if(uesita[i]==uesita[i+1])del++;\n\t\t\telse if(yokomen[i]==yokomen[i+1])del++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n>0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5)if(uesita[k]==uesita[k+1])del++;\n\t\t\t\tif(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\twhile(n!=0){\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tz=0;\n\t\tfor(j=0;j<n;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",n);\n\tscanf(\"%d\",&n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint main(void){\n\tint n,i,j,k,del;\n\tchar color[30][6][8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tfor(i=del=0;i<n;i++)for(j=0;j<6;j++)scanf(\"%s\",&color[i][j]);\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tif(j==0 || j==5){\n\t\t\t\t\tif(!strcmp(color[i][j],color[i+1][j])){\n\t\t\t\t\t\tdel++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(!strcmp(color[i][j],color[i+1][j])){\n\t\t\t\t\tdel++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del-1);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\nint N,i,j,k,l,C[30][9],r,t,m[6][2]={{0,5},{2,3},{1,4},{5,0},{3,2},{4,1}},n[6][4]={{1,2,3,4},{0,2,3,4},{0,1,4,5},{4,3,2,1},{4,3,2,0},{5,4,1,0}};\nchar *S[6]={\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"},I[99],*p;\n\nint f(int a,int b,int c,int d){return (a==c&&b==d)||(a==d&&b==c);}\n\nint ch(int a[9],int b[9])\n{\n\tint i,j,k,x,y;\n\tfor(i=0;i<6;i++)\n\t\tfor(j=0;j<6;j++)\n\t\t\tif(t=f(a[m[i][0]],a[m[i][1]],b[m[j][0]],b[m[j][1]]))\n\t\t\t\tfor(k=0;k<4;k++)\n\t\t\t\t{\n\t\t\t\t\tfor(x=0,y=k;x<4;x++,y=(y+1)%4)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(a[n[i][x]]!=b[n[j][y]])break;\n\t\t\t\t\t}\n\t\t\t\t\tif(x==4)return 1;\n\t\t\t\t}\n\treturn 0;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\\n\",&N),r=N;)\n\t{\n\t\tfor(i=0;i<N;i++)\n\t\t{\n\t\t\tgets(I);\n\t\t\tfor(j=0;(p=strtok(j==0?I:NULL,\" \"))!=NULL;j++)\n\t\t\t{\n\t\t\t\tfor(k=0;k<6;k++)\n\t\t\t\t\tif(strcmp(p,S[k])==0)\n\t\t\t\t\t\tC[i][j]=k;\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<N;i++)\n\t\t\tfor(j=0;j<i;j++)\n\t\t\t{\n\t\t\t\tif(ch(C[i],C[j]))\n\t\t\t\t{\n\t\t\t\t\tr--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\tprintf(\"%d\\n\",N-r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntypedef long long int ll;\n \nint main()\n{\n    int n,a,b;\n    int c;\n    int d[100];\n    cin >> n >> a >> b >> c;\n    for(int i=0;i<n;i++)cin >> d[i];\n    sort(d,d+n);\n    int ans=c/a;\n    int co=c;\n    int price=a;\n    for(int i=n-1;i>=0;i--){\n        co+=d[i];\n        price+=b;\n        ans=max(ans,co/price);\n        printf(\"%d\\n\",ans);\n    }\n    printf(\"%d\\n\",ans);\n    return 0;\n}\nint main()\n{\n\tint d=0,c=0,a,n,taro[100],hana[100],i,j,F[100]={};\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\t\n\t\tscanf(\"%d\",&a);\n\t\tF[a]=1;\n\t}\n\tfor(i=1;i<=n*2;i++){\t\n\t\tif(F[i]==1){\n\t\t\ttaro[c]=i;\n\t\t\tc++;\n\n\t\t}\n\t\telse {\n\t\t\thana[d]=i;\n\t\t\td++;\n\t\t}\n\t\t// \n\t}\n\n\n\treturn 0;\n}\n\n\n#include<stdio.h>\nint kaijo(int);\nint main(void)\n{\n\tint n,a;\n\tscanf(\"%d\",&n);\n\ta=kaijo(n);\n\tprintf(\"%d\",a);\n\treturn 0;\n}\nint kaijo(int n)\n{\n\tif(n==1) return 1;\n\t\treturn n*kaijo(n-1);\n}\n\n#include<iostream>\nusing namespace std;\nint main(void)\n{\n\tint i,j,h,c=0,w,e,k,min=9999;\n\tint a[101],b[101],c[101],d[26][61];\n\tcin>>h;\n\tfor(i=0;i<26;i++){\n\t\tfor(j=0;j<62;j++){\n\t\t\td[i][j]=0;\n\t\t}\n\t}\n\tfor(i=0;i<h;i++){\n\t\t\tcin>>a[i]>>b[i];\n\t}\n\tcin>>w;\n\tfor(i=0;i<w;i++){\n\t\t\tcin>>a[i+h]>>b[i+h];\n\t}\n\t//for(i=0;i<h+w;i++){\n\t//\t\tcout<<a[i]<<b[i]<<endl;\n\t//}\n\tfor(i=0;i<w+h;i++){\n\t\t\td[a[i]][b[i]]++;\n\t}\n\tfor(i=0;i<w+h;i++){\n\t\t\t\n\t}\n\n\n\treturn 0;\n}*/\n#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z,A[101]={0};\n   char c1[101][101],c2[101][101],c3[101][101],c4[101][101],c5[101][101],c6[101][101];\n   scanf(\"%d\",&n);\n    while(n!=0){\n\t\tfor(i=0;i<n;i++){\n\t\tA[i]=0;\n\t\t}\n    for(i=0;i<n;i++){\n        scanf(\"%s %s %s %s %s %s\",c1[i],c2[i],c3[i],c4[i],c5[i],c6[i]);\n    }\n\tz=0;\n    for(i=0;i<n-1;i++){\n        for(j=i+1;j<n;j++){\n\t\t\tif(A[j]==1) continue;\n        if(c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]&& c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            z=z+1;\n\t\t\t//printf(\"%d %d\\n\",i,j);\n\t\t\tA[j]=1;\n        }\n        else if(c4[i][0]==c4[j][0] && c1[i][0]==c1[j][0] && c3[i][0]==c3[j][0] && c6[i][0]==c6[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c4[i][0]==c6[j][0] && c1[i][0]==c3[j][0] && c3[i][0]==c1[j][0] && c6[i][0]==c4[j][0]){\n            if(c5[i][0]==c2[j][0] && c2[i][0]==c5[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c3[i][0]==c3[j][0] && c1[i][0]==c1[j][0] && c4[i][0]==c4[j][0]){\n            if(c5[i][0]==c5[j][0] && c2[i][0]==c2[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c4[j][0] && c3[i][0]==c1[j][0] && c1[i][0]==c3[j][0] && c4[i][0]==c6[j][0]){\n            if(c2[i][0]==c5[j][0] && c5[i][0]==c2[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c2[i][0]==c2[j][0] && c1[i][0]==c1[j][0] && c5[i][0]==c5[j][0] && c6[i][0]==c6[j][0]){\n            if(c4[i][0]==c4[j][0] && c3[i][0]==c3[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c2[i][0]==c6[j][0] && c1[i][0]==c5[j][0] && c5[i][0]==c1[j][0] && c6[i][0]==c2[j][0]){\n            if(c4[i][0]==c3[j][0] && c3[i][0]==c4[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c6[j][0] && c5[i][0]==c5[j][0] && c1[i][0]==c1[j][0] && c2[i][0]==c2[j][0]){\n            if(c3[i][0]==c3[j][0] && c4[i][0]==c4[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        else if(c6[i][0]==c2[j][0] && c5[i][0]==c1[j][0] && c1[i][0]==c5[j][0] && c2[i][0]==c6[j][0]){\n            if(c3[i][0]==c4[j][0] && c4[i][0]==c3[j][0]){\n                z=z+1;\n\t\t\t\tA[j]=1;\n            }\n        }\n        }\n    }\n    printf(\"%d\\n\",z);\n    scanf(\"%d\",&n);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\tif(j==0 ||j==5)uesita[i]+=color[0];\n\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t}\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tif(i==0 || i==5)if(uesita[i]==uesita[i+1])del++;\n\t\t\telse if(yokomen[i]==yokomen[i+1])del++;\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void)\n{\n\tint n,i,j,z;\n\tchar c1[1001],c2[1001],c3[1001],c4[1001],c5[1001],c6[1001];\n\tscanf(\"%d\",&n);\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%s %s %s %s %s %s\",&c1[i],&c2[i],&c3[i],&c4[i],&c5[i],&c6[i]);\n\t}\n\tfor(i=0;i<n;i++){\n\t\tz=0;\n\t\tfor(j=0;j<n;j++){\n\t\tif(c1[i]==c1[j] && c2[i]==c2[j] && c3[i]==c3[j] && c4[i]==c4[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tz=z+1;\n\t\t}\n\t\telse if(c4[i]==c4[j] && c1[i]==c1[j] && c3[i]==c3[j] && c6[i]==c6[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c4[i]==c6[j] && c1[i]==c3[j] && c3[i]==c1[j] && c6[i]==c4[j]){\n\t\t\tif(c5[i]==c2[j] && c2[i]==c5[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c3[i]==c3[j] && c1[i]==c1[j] && c4[i]==c4[j]){\n\t\t\tif(c5[i]==c5[j] && c2[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c4[j] && c3[i]==c1[j] && c1[i]==c3[j] && c4[i]==c6[j]){\n\t\t\tif(c2[i]==c5[j] && c5[i]==c2[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c2[j] && c1[i]==c1[j] && c5[i]==c5[j] && c6[i]==c6[j]){\n\t\t\tif(c4[i]==c4[j] && c3[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c2[i]==c6[j] && c1[i]==c5[j] && c5[i]==c1[j] && c6[i]==c2[j]){\n\t\t\tif(c4[i]==c3[j] && c3[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c6[j] && c5[i]==c5[j] && c1[i]==c1[j] && c2[i]==c2[j]){\n\t\t\tif(c3[i]==c3[j] && c4[i]==c4[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\telse if(c6[i]==c2[j] && c5[i]==c1[j] && c1[i]==c5[j] && c2[i]==c6[j]){\n\t\t\tif(c3[i]==c4[j] && c4[i]==c3[j]){\n\t\t\t\tz=z+1;\n\t\t\t}\n\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",n);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <math.h>\n#include <stdlib.h>\n\nint i,j,k,n,cube[50],stk[6],stk2[6],check[6];\nchar col[10];\n\nvoid swap (int* x,int* y){\n\tint z;\n\tz=*x;\n\t*x=*y;\n\t*y=z;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n)*n){\n\t\tk=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\tfor(j=0;j<6;j++){\n\t\t\t\tscanf(\"%s\",col);\n\t\t\t\tfprintf(stderr,\"%s\",col);\n\t\t\t\tif(col[0]=='R')stk[j]=0;\n\t\t\t\telse if(col[0]=='Y')stk[j]=1;\n\t\t\t\telse if(col[0]=='B')stk[j]=2;\n\t\t\t\telse if(col[0]=='M')stk[j]=3;\n\t\t\t\telse if(col[0]=='G')stk[j]=4;\n\t\t\t\telse if(col[0]=='C')stk[j]=5;\n\t\t\t\telse stk[j]=8;\n\t\t\t\tcheck[j]=0;\n\t\t\t}\n\t\t\tfprintf(stderr,\"\\n\");\n\t\t\tfor(j=0;j<6;j++){if(stk[j]<6 && check[stk[j]]<1)check[stk[j]]++; else goto next;}\n\t\t\tfor(j=0;j<6;j++){stk2[stk[j]]=stk[5-j];}\n\t\t\tcube[k]=0;\n\t\t\tfor(j=0;j<6;j++){cube[k]=cube[k]*10+stk2[j];}\n\t\t\tfor(j=0;j<k;j++){if(cube[j]==cube[k])break;}\n\t\t\tif(j==k)k++;\n\t\t\tnext:;\n\t\t}\n\t\tprintf(\"%d\\n\",n-k);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(void){\n\tint i,j,k,n;\n\tchar color[8];\n\twhile(scanf(\"%d\",&n),n!=0){\n\t\tint uesita[6]={0},yokomen[6]={0},del=0;\n\t\tfor(i=0,k=-1;i<=n;i++,k++){\n\t\t\tif(i<n){\n\t\t\t\tfor(j=0;j<6;j++){\n\t\t\t\t\tscanf(\"%s\",&color);\n\t\t\t\t\tif(j==0 || j==5)uesita[i]+=color[0];\n\t\t\t\t\telse yokomen[i]+=color[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(k>=0){\n\t\t\t\tif(k==0 || k==5 && uesita[k]==uesita[k+1])del++;\n\t\t\t\telse if(yokomen[k]==yokomen[k+1])del++;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Kotlin",
    "code": "import java.lang.Math.*\nfun main(args: Array<String>?): Unit {\n    while(true){\n        val n = readLine()!!.trim().toInt()\n        if (n == 0) break\n        val dices = List(n){Dice(readLine()!!.trim().split(' ')).normalization()}.distinct()\n        println(n - dices.size)\n    }\n}\nenum class Color : Comparable<Color>{\n    Red, Yellow, Blue, Magenta, Green, Cyan\n}\nfun String.asColor(): Color {\n    return when(this){\n        \"Red\" -> Color.Red\n        \"Yellow\" -> Color.Yellow\n        \"Blue\" -> Color.Blue\n        \"Magenta\" -> Color.Magenta\n        \"Green\" -> Color.Green\n        \"Cyan\" -> Color.Cyan\n        else -> TODO()\n    }\n}\ndata class Dice(val top: Color, val bottom: Color, val up: Color, val down: Color, val right: Color, val left: Color) : Comparable<Dice> {\n    override fun compareTo(other: Dice): Int {\n        return listOf(top, bottom, up, down, right, left).compareTo(listOf(other.top, other.bottom, other.up, other.down, other.right, other.left))\n    }\n    fun normalization(): Dice = allPerspective().min()!!\n    private fun allPerspective(): List<Dice> {\n        return listOf(this, rotateUp(), rotateDown(), rotateRight(), rotateLeft(), flip()).flatMap{listOf(it, it.rotate90(), it.rotate180(), it.rotate270())}\n    }\n    private fun rotateUp(): Dice = Dice(down, up, top, bottom, right, left)\n    private fun rotateDown(): Dice = rotateUp().rotateUp().rotateUp()\n    private fun rotateRight(): Dice = Dice(left, right, up, down, top, bottom)\n    private fun rotateLeft(): Dice = rotateRight().rotateRight().rotateRight()\n    private fun flip(): Dice = rotateRight().rotateRight()\n    private fun rotate90(): Dice = Dice(top, bottom, left, right, up, down)\n    private fun rotate180(): Dice = rotate90().rotate90()\n    private fun rotate270(): Dice = rotate90().rotate90().rotate90()\n    companion object {\n        operator fun invoke(faces: List<String>): Dice {\n            return Dice(faces[0].asColor(), faces[5].asColor(), faces[4].asColor(), faces[1].asColor(), faces[2].asColor(), faces[3].asColor())\n        }\n    }\n}\nfun <T: Comparable<T>> List<T>.compareTo(that: List<T>): Int {\n    for ((a, b) in this.zip(that)) {\n        if (a != b) return a.compareTo(b)\n    }\n    return this.size.compareTo(that.size)\n}\n"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n\tpublic static void main(String[]agrs){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tString[][] list = new String[n][6];\n\t\t\tboolean[] a = new boolean[n];\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tfor(int j = 0; j < 6; j++) {\n\t\t\t\t\tlist[i][j] = sc.next();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tIN:for(int j = i+1; j < n; j++) {\n\t\t\t\t\tif(a[i]) continue;\n\t\t\t\t\tfor(int k = 0; k < 8; k++) {\n\t\t\t\t\t\t\tx(list[j]);\n\t\t\t\t\t\tfor(int l = 0; l < 8; l++) {\n\t\t\t\t\t\t\ty(list[j]);\n\t\t\t\t\t\t\tif(c(list[i],list[j])) {\n\t\t\t\t\t\t\t\ta[j] = true;\n\t\t\t\t\t\t\t\tcontinue IN;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(a[i]) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n\t\n\tstatic void x(String[] a) {\n\t\tString tmp = a[1];\n\t\ta[1] = a[3];\n\t\ta[3] = a[4];\n\t\ta[4] = a[2];\n\t\ta[2] = tmp;\n\t}\n\tstatic void y(String[] a) {\n\t\tString tmp = a[0];\n\t\ta[0] = a[3];\n\t\ta[3] = a[5];\n\t\ta[5] = a[2];\n\t\ta[2] = tmp;\n\t}\n\tstatic boolean c(String[] a, String[] b) {\n\t\tfor(int i = 0; i < 6; i++) {\n\t\t\tif(!a[i].equals(b[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static class Pair{\n\t\tprivate String str1,str2;\n\t\t\n\t\tpublic Pair(String str1,String str2){\n\t\t\tthis.str1 = str1;\n\t\t\tthis.str2 = str2;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic boolean equals(Object o){\n\t\t\tif(o instanceof Pair){\n\t\t\t\tPair another = (Pair) o;\n\t\t\t\t\n\t\t\t\tif((another.str1.equals(this.str1) && another.str2.equals(this.str2))\n\t\t\t\t\t\t|| (another.str1.equals(this.str2) && another.str2.equals(this.str1))){\n\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\tpublic static class Cube{\n\t\tprivate Pair[] colors;\n\t\t\n\t\tpublic Cube(String[] str){\n\t\t\tcolors = new Pair[3];\n\t\t\tcolors[0] = new Pair(str[0],str[5]);\n\t\t\tcolors[1] = new Pair(str[1],str[4]);\n\t\t\tcolors[2] = new Pair(str[2],str[3]);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic boolean equals(Object o){\n\t\t\tif(o instanceof Cube){\n\t\t\t\tCube another = (Cube) o;\n\t\t\t\t\n\t\t\t\tfor(int i = 0; i < 3; i++){\n\t\t\t\t\tboolean found = false;\n\t\t\t\t\tfor(int j = 0; j < 3; j++){\n\t\t\t\t\t\tif(this.colors[i].equals(another.colors[j])){\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(found == false){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = Integer.parseInt(sc.nextLine());\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tCube[] array = new Cube[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tarray[i] = new Cube(sc.nextLine().split(\" \"));\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfor(int j = i+1; j < n; j++){\n\t\t\t\t\tif(array[i].equals(array[j])){\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(count);\n\t\t}\n\t\t\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tString name = \"CYRMGB\";\n\t\n\t//サイコロ\t//dice is, 1 = south, 2 = east, 0 = top, 5 = bottom, 3 = west, 4 = north;\n\tclass Dice{\n\t\tStringBuilder dice;\n\t\tpublic Dice(String dice) {\n\t\t\tthis.dice = new StringBuilder(dice);\n\t\t}\n\t\tprivate void slide() {\n\t\t\tswap(1,3,4,2);\n\t\t}\n\t\tprivate void turn(char c) {\n\t\t\tswitch(c){\n\t\t\tcase 'n': swap(0,4,5,1); break;\n\t\t\tcase 's': swap(0,1,5,4); break;\n\t\t\tcase 'w': swap(0,3,5,2); break;\n\t\t\tcase 'e': swap(0,2,5,3); break;\n\t\t\t}\n\t\t}\n\t\tprivate void swap(int i, int j, int k, int l) {\n\t\t\tchar temp = dice.charAt(l);\n\t\t\tdice.setCharAt(l, dice.charAt(k));\n\t\t\tdice.setCharAt(k, dice.charAt(j));\n\t\t\tdice.setCharAt(j, dice.charAt(i));\n\t\t\tdice.setCharAt(i, temp);\n\t\t}\n\t}\n\t\n\t//サイコロが同じかどうか判定する\n\tprivate boolean isSame(Dice aa, Dice bb) {\n\t\tString [] order = {\"\", \"n\", \"s\", \"w\", \"e\", \"nn\"};\n\t\tString [] revorder = {\"\", \"s\", \"n\", \"e\", \"w\", \"nn\"};\n\t\tDice a = new Dice(aa.dice.toString());\n\t\tDice b = new Dice(bb.dice.toString());\n\t\tfor(int i = 0; i < order.length ; i++){\n\t\t\tfor(int j = 0; j < order[i].length(); j++){\n\t\t\t\tchar c = order[i].charAt(j);\n\t\t\t\tb.turn(c);\n\t\t\t}\n\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\tb.slide();\n\t\t\t\tif(a.dice.toString().equals(b.dice.toString())){\n\t\t\t\t\t\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int j = 0; j < revorder[i].length(); j++){\n\t\t\t\tchar c = revorder[i].charAt(j);\n\t\t\t\tb.turn(c);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tDice [] d = new Dice[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tStringBuilder tempdice = new StringBuilder();\n\t\t\t\tfor(int j = 1; j <= 6; j++){\n\t\t\t\t\tString s = sc.next().charAt(0) + \"\";\n\t\t\t\t\ttempdice.append(name.indexOf(s));\n\t\t\t\t}\n\t\t\t\td[i] = new Dice(tempdice.toString());\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfor(int j = i + 1; j < n; j++){\n\t\t\t\t\tif(isSame(d[i], d[j])){\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n\n\tprivate void debug(Object... o) { System.out.println(\"debug = \" + Arrays.deepToString(o)); }\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    ArrayList<char[]> color,list;\n    ArrayList<String> clist;\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        clist = new ArrayList<String>();\n        clist.add(\"Red\");\n        clist.add(\"Yellow\");\n        clist.add(\"Blue\");\n        clist.add(\"Magenta\");\n        clist.add(\"Green\");\n        clist.add(\"Cyan\");\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            color = new ArrayList<char[]>();\n            int cnt = 0;\n            for(int i=0; i<n; i++){\n                char[] c = new char[6];\n                for(int j=0; j<6; j++) c[j] = (char)clist.indexOf(sc.next());\n                if(same(c)) cnt++;\n                else color.add(c);\n            }\n\n            System.out.println(cnt);\n        }\n    }\n\n    int[][] rotate = {{1,2,4,3},{0,4,5,1},{0,2,5,3}};\n\n    boolean same(char[] dice){\n        list = new ArrayList<char[]>();\n        for(int i=0; i<4; i++){\n            dice = rotate(dice,0);\n            for(int j=0; j<4; j++){\n                dice = rotate(dice,1);\n                for(int l=0; l<4; l++){\n                    dice = rotate(dice,2);\n                    list.add(dice);\n                }\n            }\n        }\n\n        for(int i=0; i<list.size(); i++){\n            char[] s1 = list.get(i);\n            for(int j=0; j<color.size(); j++){\n                boolean boo = false;\n                char[] s2 = color.get(j);\n                for(int k=0; k<6; k++){\n                    if(s1[k]!=s2[k]){\n                        boo = false;\n                        break;\n                    }\n                    boo = true;\n                }\n                if(boo) return true;\n            }\n        }\n        return false;\n    }\n\n    char[] rotate(char[] dice, int idx){\n        char[] res = new char[6];\n        for(int i=0; i<6; i++) res[i] = dice[i];\n\n        char tmp = res[rotate[idx][3]];\n        for(int i=3; i>0; i--) res[rotate[idx][i]] = res[rotate[idx][i-1]];\n        res[rotate[idx][0]] = tmp;\n        return res;\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    String[][] set,color;\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n            set = new String[n][6];\n            color = new String[n][4];\n            int cnt = 0;\n            for(int i=0; i<n; i++){\n                for(int j=0; j<6; j++) set[i][j] = sc.next();\n                getColor(i);\n                for(int j=0; j<i; j++){\n                    boolean same = false;\n                    for(int k=0; k<4; k++){\n                        for(int l=0; l<4; l++){\n                            if(!color[i][l].equals(color[j][(l+k)%4])){\n                                same = false;\n                                break;\n                            }\n                            same = true;\n                        }\n                        if(same) break;\n                    }\n                    if(same){\n                        cnt++;\n                        break;\n                    }\n                }\n            }\n\n            System.out.println(cnt);\n        }\n    }\n\n    void getColor(int idx){\n        int num = 0;\n        for(int i=0; i<6; i++){\n            if(set[idx][i].equals(\"Cyan\")) num = i;\n        }\n\n        if(num==0){\n            color[idx][0] = set[idx][1];\n            color[idx][1] = set[idx][2];\n            color[idx][2] = set[idx][4];\n            color[idx][3] = set[idx][3];\n        }else if(num==1){\n            color[idx][0] = set[idx][5];\n            color[idx][1] = set[idx][2];\n            color[idx][2] = set[idx][0];\n            color[idx][3] = set[idx][3];\n        }else if(num==2){\n            color[idx][0] = set[idx][1];\n            color[idx][1] = set[idx][5];\n            color[idx][2] = set[idx][4];\n            color[idx][3] = set[idx][0];\n        }else if(num==3){\n            color[idx][0] = set[idx][1];\n            color[idx][1] = set[idx][0];\n            color[idx][2] = set[idx][4];\n            color[idx][3] = set[idx][5];\n        }else if(num==4){\n            color[idx][0] = set[idx][0];\n            color[idx][1] = set[idx][2];\n            color[idx][2] = set[idx][5];\n            color[idx][3] = set[idx][3];\n        }else if(num==5){\n            color[idx][0] = set[idx][1];\n            color[idx][1] = set[idx][3];\n            color[idx][2] = set[idx][4];\n            color[idx][3] = set[idx][2];\n        }\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\n//Trouble in Artist Shinagawa's Artifact\npublic class Main{\n\n\tstatic class Dice <T>{\n\tpublic T[] id;\n\t\tenum Face{TOP, BOTTOM, FRONT, BACK, RIGHT, LEFT};\n\n\t\tpublic T get(Face f){\n\t\t\treturn id[f.ordinal()];\n\t\t}\n\n\t\tpublic Dice<T> copy(){\n\t\t\treturn new Dice<T>(id[0], id[1], id[2], id[3], id[4], id[5]);\n\t\t}\n\n\t\tpublic Dice() {\n\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\tT[] tid = (T[])new Object[6];\n\t\t\tid = tid;\n\t\t}\n\n\t\tpublic Dice(T top, T bottom, T front, T back, T right, T left) {\n\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\tT[] tid = (T[])new Object[6];\n\t\t\tid = tid;\n\t\t\tid[Face.TOP.ordinal()] = top;\n\t\t\tid[Face.BOTTOM.ordinal()]= bottom;\n\t\t\tid[Face.FRONT.ordinal()] = front;\n\t\t\tid[Face.BACK.ordinal()] = back;\n\t\t\tid[Face.RIGHT.ordinal()] = right;\n\t\t\tid[Face.LEFT.ordinal()] = left;\n\t\t}\n\n\t\t//true: Xツ篠イツ陛サツ古シツづ可偲ィツ前ツづ可転ツつェツつキ\n\t\t//false: Xツ篠イツ陛サツ古シツづ可可慊づ可転ツつェツつキ\n\t\tvoid rollX(boolean isReverse) {\n\t\t\tif(!isReverse) roll(Face.TOP, Face.FRONT, Face.BOTTOM, Face.BACK);\n\t\t\telse roll(Face.TOP, Face.BACK, Face.BOTTOM, Face.FRONT);\n\t\t}\n\n\t\t//true: Yツ篠イツ陛サツ古シツづ可債カツづ鳴転ツつェツつキ\n\t\t//false: Yツ篠イツ陛サツ古シツづ可右ツづ鳴転ツつェツつキ\n\t\tvoid rollY(boolean isReverse) {\n\t\t\tif(!isReverse) roll(Face.TOP, Face.LEFT, Face.BOTTOM, Face.RIGHT);\n\t\t\telse roll(Face.TOP, Face.RIGHT, Face.BOTTOM, Face.LEFT);\n\t\t}\n\n\t\t//true: Zツ篠イツ陛サツ古シツづ可右ツづ鳴嘉アツつキ\n\t\t//false: Zツ篠イツ陛サツ古シツづ可債カツづ鳴嘉アツつキ\n\t\tvoid rollZ(boolean isReverse) {\n\t\t\tif(!isReverse) roll(Face.FRONT, Face.LEFT, Face.BACK, Face.RIGHT);\n\t\t\telse roll(Face.FRONT, Face.RIGHT, Face.BACK, Face.LEFT);\n\t\t}\n\n\t\tprivate void roll(Face w, Face x, Face y, Face z) {\n\t\t\tT tmp = id[w.ordinal()];\n\t\t\tid[w.ordinal()] = id[x.ordinal()];\n\t\t\tid[x.ordinal()] = id[y.ordinal()];\n\t\t\tid[y.ordinal()] = id[z.ordinal()];\n\t\t\tid[z.ordinal()] = tmp;\n\t\t}\n\n\t\t@Override\n\t\tpublic boolean equals(Object o) {\n\t\t\tif(!(o instanceof Dice<?>))return false;\n\t\t\t@SuppressWarnings(\"unchecked\")\n\t\t\tDice<T> d = (Dice<T>)o;\n\t\t\tfor(Face f : Face.values()){\n\t\t\t\tif(!id[f.ordinal()].equals(d.id[f.ordinal()])){\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tboolean isEquivalent(Dice<T> d) {\n\t\t\tfor(int i=0; i<6; i++) {\n\t\t\t\tfor(int j=0; j<4; j++) {\n\t\t\t\t\tif(this.equals(d)) return true;\n\t\t\t\t\trollZ(false);\n\t\t\t\t}\n\t\t\t\tif(i%2==1) rollY(false);\n\t\t\t\telse rollX(false);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tList<Dice<T>> getAllState(){\n\t\t\tList<Dice<T>> lst = new ArrayList<Dice<T>>();\n\t\t\tfor(int i = 0; i < 6; i++){\n\t\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\t\tlst.add(new Dice<T>(id[Face.TOP.ordinal()], id[Face.BOTTOM.ordinal()], id[Face.FRONT.ordinal()], id[Face.BACK.ordinal()], id[Face.RIGHT.ordinal()], id[Face.LEFT.ordinal()]));\n\t\t\t\t\trollZ(false);\n\t\t\t\t}\n\t\t\t\tif(i%2 == 1) rollY(false);\n\t\t\t\telse rollX(false);\n\t\t\t}\n\t\t\treturn lst;\n\t\t}\n\n\t\t@Override\n\t\tpublic int hashCode() {\n\t\t\tint hash = 31;\n\t\t\tfor(Face f : Face.values()){\n\t\t\t\thash += hash*17+id[f.ordinal()].hashCode();\n\t\t\t}\n\t\t\treturn hash;\n\t\t}\n}\n\n\n\t@SuppressWarnings(\"unchecked\")\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tDice<String>[] d = new Dice[n];\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tString[] s = new String[6];\n\t\t\t\tfor(int j=0;j<6;j++)s[j]=sc.next();\n\t\t\t\td[i] = new Dice<String>(s[0],s[5],s[1],s[4],s[2],s[3]);\n\t\t\t}\n\t\t\tint c = 0;\n\t\t\tboolean[] u = new boolean[n];\n\t\t\tArrays.fill(u, true);\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tif(u[i]){\n\t\t\t\t\tc++;\n\t\t\t\t\tfor(int j=i+1;j<n;j++){\n\t\t\t\t\t\tboolean f = true;\n\t\t\t\t\t\tfor(Dice<String> t:d[j].getAllState())if(d[i].equals(t)){f = false;break;}\n\t\t\t\t\t\tif(!f)u[j]=false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n-c);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic HashMap<String,Integer> m = new HashMap<String,Integer>();\n\tstatic Dice[] d ;\n\tstatic{\n\t\tm.put(\"Cyan\", 0);\n\t\tm.put(\"Yellow\", 1);\n\t\tm.put(\"Red\", 2);\n\t\tm.put(\"Magenta\", 3);\n\t\tm.put(\"Green\", 4);\n\t\tm.put(\"Blue\", 5);\n\t}\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\td = new Dice[N];\n\t\t\tfor(int i =0;i<N;i++){\n\t\t\t\tint[] a = new int[6];\n\t\t\t\tfor(int j = 0;j<6;j++){\n\t\t\t\t\ta[j]=m.get(cin.next());\n\t\t\t\t}\n\t\t\t\td[i]=new Dice(a[0],a[1],a[2],a[3],a[4],a[5]);\n\t\t\t\t\n\t\t\t}\n\t\t\tint count=0;\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint j=0;\n\t\t\t\tfor(j = i+1;j<N;j++){\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\td[j].turn();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(j==N){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(N-count);\n\t\t}\n\t}\n\tstatic boolean sameTop(int i,int j){\n\t\tfor(int k=0;k<4;k++){\n\t\t\tif(d[i].same(d[j])){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\td[i].turn();\n\t\t}\t\t\n\t\treturn false;\n\t}\n}\nclass Dice{\n\tint top;\n\tint a;\n\tint b;\n\tint c;\n\tint d;\n\tint bottom;\n\tDice(int x,int y,int z,int w,int i,int j){\n\t\ttop=x;\n\t\ta=y;\n\t\tb=z;\n\t\tc=w;\n\t\td=i;\n\t\tbottom=j;\n\t}\n\tboolean same(Dice d){\n\t\tif(this.top==d.top&&this.a==d.a&&this.b==d.b\n\t\t\t\t&&this.c==d.c&&this.d==d.d&&this.bottom==d.bottom){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic void updown(){\n\t\tint tmp = top;\n\t\ttop = bottom;\n\t\tbottom = tmp;\n\t}\n\tvoid roll(){\n\t\tint tmp = top;\n\t\ttop = c;\n\t\tc = bottom;\n\t\tbottom=a;\n\t\ta = tmp;\n\t}\n\tvoid turn(){\n\t\tint tmp=a;\n\t\ta=b;\n\t\tb=c;\n\t\tc=d;\n\t\td=tmp;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\t\n\tpublic static class Pair{\n\t\tprivate String str1,str2;\n\t\t\n\t\tpublic Pair(String str1,String str2){\n\t\t\tthis.str1 = str1;\n\t\t\tthis.str2 = str2;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic boolean equals(Object o){\n\t\t\tif(o instanceof Pair){\n\t\t\t\tPair another = (Pair) o;\n\t\t\t\t\n\t\t\t\tif((another.str1.equals(this.str1) && another.str2.equals(this.str2))\n\t\t\t\t\t\t|| (another.str1.equals(this.str2) && another.str2.equals(this.str1))){\n\t\t\t\t\treturn true;\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\tpublic static class Cube{\n\t\tprivate Pair[] colors;\n\t\t\n\t\tpublic Cube(String[] str){\n\t\t\tcolors = new Pair[3];\n\t\t\tcolors[0] = new Pair(str[0],str[5]);\n\t\t\tcolors[1] = new Pair(str[1],str[4]);\n\t\t\tcolors[2] = new Pair(str[2],str[3]);\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic boolean equals(Object o){\n\t\t\tif(o instanceof Cube){\n\t\t\t\tCube another = (Cube) o;\n\t\t\t\t\n\t\t\t\tfor(int i = 0; i < 3; i++){\n\t\t\t\t\tboolean found = false;\n\t\t\t\t\tfor(int j = 0; j < 3; j++){\n\t\t\t\t\t\tif(this.colors[i].equals(another.colors[j])){\n\t\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(found == false){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = Integer.parseInt(sc.nextLine());\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tArrayList<Cube> array = new ArrayList<Cube>(n);\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tarray.add(new Cube(sc.nextLine().split(\" \")));\n\t\t\t}\n\t\t\t\n\t\t\tfor(int i = 0; i < array.size(); i++){\n\t\t\t\tfor(int j = array.size()-1; j > i; j--){\n\t\t\t\t\tif(array.get(i).equals(array.get(j))){\n\t\t\t\t\t\tarray.remove(j);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(n - array.size());\n\t\t}\n\t\t\n\t}\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    ArrayList<String[]> color;\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            color = new ArrayList<String[]>();\n            int cnt = 0;\n            for(int i=0; i<n; i++){\n                String[] s = new String[6];\n                for(int j=0; j<6; j++) s[j] = sc.next();\n                if(same(s)) cnt++;\n                else color.add(s);\n            }\n\n            System.out.println(cnt);\n        }\n    }\n\n    int[][] rotate = {{1,2,4,3},{0,4,5,1},{0,2,5,3}};\n\n    boolean same(String[] dice){\n        ArrayList<String[]> list = new ArrayList<String[]>();\n        list.add(dice);\n\n        for(int i=0; i<4; i++){\n            dice = rotate(dice,0);\n            for(int j=0; j<4; j++){\n                dice = rotate(dice,1);\n                for(int l=0; l<4; l++){\n                    dice = rotate(dice,2);\n                    list.add(dice);\n                }\n            }\n        }\n\n        for(int i=0; i<list.size(); i++){\n            String[] s1 = list.get(i);\n            for(int j=0; j<color.size(); j++){\n                boolean boo = false;\n                String[] s2 = color.get(j);\n                for(int k=0; k<6; k++){\n                    if(!s1[k].equals(s2[k])){\n                        boo = false;\n                        break;\n                    }\n                    boo = true;\n                }\n                if(boo) return true;\n            }\n        }\n        return false;\n    }\n\n    String[] rotate(String[] dice, int idx){\n        String tmp = dice[rotate[idx][3]];\n        for(int i=1; i<3; i++) dice[rotate[idx][i]] = dice[rotate[idx][i-1]];\n        dice[rotate[idx][0]] = tmp;\n        return dice;\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tint n, cnt;\n\tint[][] c;\n\tchar[] list = new char[]{'R','Y','B','M','G','C'};\n\t\n\tvoid up(int m){\n\t\tint tmp = c[m][0];\n\t\tc[m][0] = c[m][1];\n\t\tc[m][1] = c[m][5];\n\t\tc[m][5] = c[m][4];\n\t\tc[m][4] = tmp;\n\t}\n\t\n\tvoid right(int m){\n\t\tint tmp = c[m][1];\n\t\tc[m][1] = c[m][3];\n\t\tc[m][3] = c[m][4];\n\t\tc[m][4] = c[m][2];\n\t\tc[m][2] = tmp;\n\t}\n\t\n\tboolean check(int m){\n\t\tfor(int i=m-1;i>=0;i--){\n\t\t\tint cc = 0;\n\t\t\tfor(int j=0;j<6;j++) if(c[i][j]==c[m][j]) cc++;\n\t\t\tif(cc==6) return true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tvoid func(int m){\n\t\tfor(int i=0;i<6;i++){\n\t\t\tif(i==4) right(m);\n\t\t\tif(i>=4) up(m);\n\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\tif(check(m)) return;\n\t\t\t\tright(m);\n\t\t\t}\n\t\t\tif(i!=5) up(m);\n\t\t}\n\t\tcnt++;\n\t}\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tn = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\t\n\t\t\tc = new int[n][6];\n\t\t\tcnt = 1;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\t\tchar a = sc.next().charAt(0);\n\t\t\t\t\tfor(int k=0;k<6;k++){\n\t\t\t\t\t\tif(a==list[k]){\n\t\t\t\t\t\t\tc[i][j] = k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(i!=0) func(i);\n\t\t\t}\n\t\t\tSystem.out.println(n-cnt);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tString name = \"CYRMGB\";\n\t\n\t//サイコロ\t//dice is, 2 = south, 3 = east, 1 = top, 6 = bottom, 4 = west, 5 = north;\n\tclass Dice{\n\t\tint [] dice;\n\t\tpublic Dice(int[] dice) {\n\t\t\tthis.dice = dice;\n\t\t}\n\t\tprivate void slide() {\n\t\t\tswap(2,4,5,3);\n\t\t}\n\t\tprivate void turn(char c) {\n\t\t\tswitch(c){\n\t\t\tcase 'n': swap(1,5,6,2); break;\n\t\t\tcase 's': swap(1,2,6,5); break;\n\t\t\tcase 'w': swap(1,4,6,3); break;\n\t\t\tcase 'e': swap(1,3,6,4); break;\n\t\t\t}\n\t\t}\n\t\tprivate void swap(int i, int j, int k, int l) {\n\t\t\tint temp = dice[l];\n\t\t\tdice[l] = dice[k];\n\t\t\tdice[k] = dice[j];\n\t\t\tdice[j] = dice[i];\n\t\t\tdice[i] = temp;\n\t\t}\n\t\t@Override\n\t\tpublic String toString() {\n\t\t\treturn \"Dice [dice=\" + Arrays.toString(dice) + \"]\";\n\t\t}\n\t\t\n\t}\n\t\n\t//サイコロが同じかどうか判定する\n\tprivate boolean isSame(Dice aa, Dice bb) {\n\t\tString [] order = {\"\", \"n\", \"s\", \"w\", \"e\", \"nn\"};\n\t\tString [] revorder = {\"\", \"s\", \"n\", \"e\", \"w\", \"nn\"};\n\t\tDice a = new Dice(aa.dice);\n\t\tDice b = new Dice(bb.dice);\n\t\tfor(int i = 0; i < order.length ; i++){\n\t\t\tfor(int j = 0; j < order[i].length(); j++){\n\t\t\t\tchar c = order[i].charAt(j);\n\t\t\t\tb.turn(c);\n\t\t\t}\n\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\tb.slide();\n\t\t\t\tif(a.toString().equals(b.toString())){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int j = 0; j < revorder[i].length(); j++){\n\t\t\t\tchar c = revorder[i].charAt(j);\n\t\t\t\tb.turn(c);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tDice [] d = new Dice[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tint [] tempdice = new int[7];\n\t\t\t\tfor(int j = 1; j <= 6; j++){\n\t\t\t\t\tString s = sc.next().charAt(0) + \"\";\n\t\t\t\t\ttempdice[j] = name.indexOf(s);\n\t\t\t\t}\n\t\t\t\td[i] = new Dice(tempdice);\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfor(int j = i + 1; j < n; j++){\n\t\t\t\t\tif(isSame(d[i], d[j])){\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n\n\tprivate void debug(Object... o) { System.out.println(\"debug = \" + Arrays.deepToString(o)); }\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tint mod = 1000000007;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tDice[] dice = new Dice[N];\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tdice[i] = new Dice(sc.next(), sc.next(), sc.next(), sc.next(),\n\t\t\t\t\t\tsc.next(), sc.next());\n\t\t\t\tdice[i].swap();\n\t\t\t}\n\t\t\tint match = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tfor (int j = i + 1; j < N; j++) {\n\t\t\t\t\tDice diceNow = dice[i];\n\t\t\t\t\tDice diceCmp = dice[j];\n\t\t\t\t\tfor (int k = 0; k < 4; k++) {\n\t\t\t\t\t\tdiceCmp.roll_back();\n\t\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(match);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tclass Dice {\n\t\tString top;\n\t\tString front;\n\t\tString right;\n\t\tString back;\n\t\tString left;\n\t\tString reverse;\n\n\t\tpublic Dice(String top, String front, String right, String back,\n\t\t\t\tString left, String reverse) {\n\t\t\tsuper();\n\t\t\tthis.top = top;\n\t\t\tthis.front = front;\n\t\t\tthis.right = right;\n\t\t\tthis.back = back;\n\t\t\tthis.left = left;\n\t\t\tthis.reverse = reverse;\n\t\t}\n\n\t\tvoid disp() {\n\t\t\tSystem.out.print(this.top + \" \" + this.front + \" \" + this.right\n\t\t\t\t\t+ \" \" + this.back + \" \" + this.left + \" \" + this.reverse);\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tvoid rotate_parallel() {\n\t\t\tString tmp = this.back;\n\t\t\tthis.back = this.right;\n\t\t\tthis.right = this.front;\n\t\t\tthis.front = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tvoid roll_back() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.front;\n\t\t\tthis.front = this.reverse;\n\t\t\tthis.reverse = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\n\t\tvoid roll_front() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.back;\n\t\t\tthis.back = this.reverse;\n\t\t\tthis.reverse = this.front;\n\t\t\tthis.front = tmp;\n\t\t}\n\n\t\tvoid roll_right() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.left;\n\t\t\tthis.left = this.reverse;\n\t\t\tthis.reverse = this.right;\n\t\t\tthis.right = tmp;\n\t\t}\n\n\t\tvoid roll_left() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.right;\n\t\t\tthis.right = this.reverse;\n\t\t\tthis.reverse = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tboolean coincide(Dice cmp) {\n\t\t\tif (this.front.equals(cmp.front) && this.top.equals(cmp.top)\n\t\t\t\t\t&& this.back.equals(cmp.back)\n\t\t\t\t\t&& this.right.equals(cmp.right)\n\t\t\t\t\t&& this.left.equals(cmp.left)\n\t\t\t\t\t&& this.reverse.equals(cmp.reverse)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvoid swap() {\n\t\t\tString tmp = this.left;\n\t\t\tthis.left = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(int[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class Main {\n\t\n\tpublic static class Dice{\n\t\tint p1, p2, p3, p4, p5, p6;\n\n\t\tpublic Dice(int p1, int p2, int p3, int p4, int p5, int p6) {\n\t\t\tsuper();\n\t\t\tthis.p1 = p1;\n\t\t\tthis.p2 = p2;\n\t\t\tthis.p3 = p3;\n\t\t\tthis.p4 = p4;\n\t\t\tthis.p5 = p5;\n\t\t\tthis.p6 = p6;\n\t\t}\n\n\t\t@Override\n\t\tpublic boolean equals(Object obj) {\n\t\t\tif(obj instanceof Dice){\n\t\t\t\tDice ano = (Dice) obj;\n\t\t\t\treturn this.p1 == ano.p1 && \n\t\t\t\t\t\tthis.p2 == ano.p2 &&\n\t\t\t\t\t\tthis.p3 == ano.p3 &&\n\t\t\t\t\t\tthis.p4 == ano.p4 &&\n\t\t\t\t\t\tthis.p5 == ano.p5 &&\n\t\t\t\t\t\tthis.p6 == ano.p6;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t@Override\n\t\tpublic String toString() {\n\t\t\treturn \"Dice [p1=\" + p1 + \", p2=\" + p2 + \", p3=\" + p3 + \", p4=\"\n\t\t\t\t\t+ p4 + \", p5=\" + p5 + \", p6=\" + p6 + \"]\";\n\t\t}\n\t}\n\t\n\tpublic static class Pair implements Comparable<Pair>{\n\t\tint p1, p2;\n\t\t\n\t\tpublic Pair(int t1, int t2){\n\t\t\tif(t1 > t2){\n\t\t\t\tp1 = t2;\n\t\t\t\tp2 = t1;\n\t\t\t}else{\n\t\t\t\tp1 = t1;\n\t\t\t\tp2 = t2;\n\t\t\t}\n\t\t}\n\n\t\t@Override\n\t\tpublic int compareTo(Pair o) {\n\t\t\treturn this.p1 - o.p1;\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tString[] names = {\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\n\t\t\n\t\twhile(true){\n\t\t\tfinal int n = sc.nextInt();\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tDice[] array = new Dice[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tint[] numbers = new int[6];\n\t\t\t\t\n\t\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\t\tString str = sc.next();\n\t\t\t\t\t\n\t\t\t\t\tfor(int k = 0; k < 6; k++){\n\t\t\t\t\t\tif(str.equals(names[k])){\n\t\t\t\t\t\t\tnumbers[j] = k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tPair[] pairs = \n\t\t\t\t\t{\n\t\t\t\t\t\tnew Pair(numbers[0], numbers[5]),\n\t\t\t\t\t\tnew Pair(numbers[1], numbers[4]),\n\t\t\t\t\t\tnew Pair(numbers[2], numbers[3]),\n\t\t\t\t\t};\n\t\t\t\tArrays.sort(pairs);\n\t\t\t\t\n\t\t\t\tarray[i] = new Dice(pairs[0].p1, pairs[0].p2, pairs[1].p1, pairs[1].p2, pairs[2].p1, pairs[2].p2);\n\t\t\t}\n\t\t\t\n//\t\t\tfor(int i = 0; i < n; i++){\n//\t\t\t\tSystem.out.println(array[i]);\n//\t\t\t}\n\t\t\t\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tif(array[i] == null){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = 0; j < n; j++){\n\t\t\t\t\tif(array[j] == null || array[i] == null || (i == j)){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(array[i].equals(array[j])){\n\t\t\t\t\t\tarray[j] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tif(array[i] != null){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n - count);\n\t\t}\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tint mod = 1000000007;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tDice[] dice = new Dice[N];\n\t\t\tboolean[] fake = new boolean[N];\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tdice[i] = new Dice(sc.next(), sc.next(), sc.next(), sc.next(),\n\t\t\t\t\t\tsc.next(), sc.next());\n\t\t\t\tdice[i].swap();\n\t\t\t}\n\t\t\tint match = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tDice diceNow = dice[i];\n\t\t\t\tfor (int j = i + 1; j < N; j++) {\n\t\t\t\t\tif (fake[j]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tDice diceCmp = dice[j];\n\t\t\t\t\tfor (int k = 0; k < 4; k++) {\n\t\t\t\t\t\tdiceCmp.roll_back();\n\t\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\t\tfake[j] = true;\n\t\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tfake[j] = true;\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tfake[j] = true;\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(match);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tclass Dice {\n\t\tString top;\n\t\tString front;\n\t\tString right;\n\t\tString back;\n\t\tString left;\n\t\tString reverse;\n\n\t\tpublic Dice(String top, String front, String right, String back,\n\t\t\t\tString left, String reverse) {\n\t\t\tsuper();\n\t\t\tthis.top = top;\n\t\t\tthis.front = front;\n\t\t\tthis.right = right;\n\t\t\tthis.back = back;\n\t\t\tthis.left = left;\n\t\t\tthis.reverse = reverse;\n\t\t}\n\n\t\tvoid disp() {\n\t\t\tSystem.out.print(this.top + \" \" + this.front + \" \" + this.right\n\t\t\t\t\t+ \" \" + this.back + \" \" + this.left + \" \" + this.reverse);\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tvoid rotate_parallel() {\n\t\t\tString tmp = this.back;\n\t\t\tthis.back = this.right;\n\t\t\tthis.right = this.front;\n\t\t\tthis.front = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tvoid roll_back() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.front;\n\t\t\tthis.front = this.reverse;\n\t\t\tthis.reverse = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\n\t\tvoid roll_front() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.back;\n\t\t\tthis.back = this.reverse;\n\t\t\tthis.reverse = this.front;\n\t\t\tthis.front = tmp;\n\t\t}\n\n\t\tvoid roll_right() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.left;\n\t\t\tthis.left = this.reverse;\n\t\t\tthis.reverse = this.right;\n\t\t\tthis.right = tmp;\n\t\t}\n\n\t\tvoid roll_left() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.right;\n\t\t\tthis.right = this.reverse;\n\t\t\tthis.reverse = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tboolean coincide(Dice cmp) {\n\t\t\tif (this.front.equals(cmp.front) && this.top.equals(cmp.top)\n\t\t\t\t\t&& this.back.equals(cmp.back)\n\t\t\t\t\t&& this.right.equals(cmp.right)\n\t\t\t\t\t&& this.left.equals(cmp.left)\n\t\t\t\t\t&& this.reverse.equals(cmp.reverse)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvoid swap() {\n\t\t\tString tmp = this.left;\n\t\t\tthis.left = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(int[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic HashMap<String,Integer> m = new HashMap<String,Integer>();\n\tstatic Dice[] d ;\n\tstatic{\n\t\tm.put(\"Cyan\", 0);\n\t\tm.put(\"Yellow\", 1);\n\t\tm.put(\"Red\", 2);\n\t\tm.put(\"Magenta\", 3);\n\t\tm.put(\"Green\", 4);\n\t\tm.put(\"Blue\", 5);\n\t}\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\td = new Dice[N];\n\t\t\tfor(int i =0;i<N;i++){\n\t\t\t\tint[] a = new int[6];\n\t\t\t\tfor(int j = 0;j<6;j++){\n\t\t\t\t\ta[j]=m.get(cin.next());\n\t\t\t\t}\n\t\t\t\td[i]=new Dice(a[5],a[1],a[2],a[4],a[3],a[0]);\n\t\t\t\t\n\t\t\t}\n\t\t\tint count=0;\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint j=0;\n\t\t\t\tfor(j = i+1;j<N;j++){\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\td[j].turn();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(j==N){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(N-count);\n\t\t}\n\t}\n\tstatic boolean sameTop(int i,int j){\n\t\tfor(int k=0;k<4;k++){\n\t\t\tif(d[i].same(d[j])){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\td[i].turn();\n\t\t}\t\t\n\t\treturn false;\n\t}\n}\nclass Dice{\n\tint top;\n\tint a;\n\tint b;\n\tint c;\n\tint d;\n\tint bottom;\n\tDice(int x,int y,int z,int w,int i,int j){\n\t\ttop=x;\n\t\ta=y;\n\t\tb=z;\n\t\tc=w;\n\t\td=i;\n\t\tbottom=j;\n\t}\n\tboolean same(Dice d){\n\t\tif(this.top==d.top&&this.a==d.a&&this.b==d.b\n\t\t\t\t&&this.c==d.c&&this.d==d.d&&this.bottom==d.bottom){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic void updown(){\n\t\tint tmp = top;\n\t\ttop = bottom;\n\t\tbottom = tmp;\n\t}\n\tvoid roll(){\n\t\tint tmp = top;\n\t\ttop = c;\n\t\tc = bottom;\n\t\tbottom=a;\n\t\ta = tmp;\n\t}\n\tvoid turn(){\n\t\tint tmp=a;\n\t\ta=b;\n\t\tb=c;\n\t\tc=d;\n\t\td=tmp;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    ArrayList<String[]> color;\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            color = new ArrayList<String[]>();\n            int cnt = 0;\n            for(int i=0; i<n; i++){\n                String[] s = new String[6];\n                for(int j=0; j<6; j++) s[j] = sc.next();\n                if(same(s)) cnt++;\n                color.add(s);\n            }\n\n            System.out.println(cnt);\n        }\n    }\n\n    int[][] rotate = {{1,2,4,3},{0,4,5,1},{0,2,5,3}};\n\n    boolean same(String[] dice){\n        ArrayList<String[]> list = new ArrayList<String[]>();\n        list.add(dice);\n\n        for(int i=0; i<4; i++){\n            dice = rotate(dice,0);\n            list.add(dice);\n            for(int j=0; j<4; j++){\n                dice = rotate(dice,1);\n                list.add(dice);\n                for(int l=0; l<4; l++){\n                    dice = rotate(dice,2);\n                    list.add(dice);\n                }\n            }\n        }\n\n        for(int i=0; i<list.size(); i++){\n            String[] s1 = list.get(i);\n            for(int j=0; j<color.size(); j++){\n                boolean boo = false;\n                String[] s2 = color.get(j);\n                for(int k=0; k<6; k++){\n                    if(!s1[k].equals(s2[k])){\n                        boo = false;\n                        break;\n                    }\n                    boo = true;\n                }\n                if(boo) return true;\n            }\n        }\n        return false;\n    }\n\n    String[] rotate(String[] dice, int idx){\n        String tmp = dice[rotate[idx][3]];\n        for(int i=1; i<3; i++) dice[rotate[idx][i]] = dice[rotate[idx][i-1]];\n        dice[rotate[idx][0]] = tmp;\n        return dice;\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tString name = \"CYRMGB\";\n\t\n\t//サイコロ\t//dice is, 2 = south, 3 = east, 1 = top, 6 = bottom, 4 = west, 5 = north;\n\tclass Dice{\n\t\tint [] dice;\n\t\tpublic Dice(int[] dice) {\n\t\t\tthis.dice = dice;\n\t\t}\n\t\tprivate void slide() {\n\t\t\tswap(2,4,5,3);\n\t\t}\n\t\tprivate void turn(char c) {\n\t\t\tswitch(c){\n\t\t\tcase 'n': swap(1,5,6,2); break;\n\t\t\tcase 's': swap(1,2,6,5); break;\n\t\t\tcase 'w': swap(1,4,6,3); break;\n\t\t\tcase 'e': swap(1,3,6,4); break;\n\t\t\t}\n\t\t}\n\t\tprivate void swap(int i, int j, int k, int l) {\n\t\t\tint temp = dice[l];\n\t\t\tdice[l] = dice[k];\n\t\t\tdice[k] = dice[j];\n\t\t\tdice[j] = dice[i];\n\t\t\tdice[i] = temp;\n\t\t}\n\t}\n\t\n\tprivate void doit(){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tDice [] d = new Dice[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tint [] tempdice = new int[7];\n\t\t\t\tfor(int j = 1; j <= 6; j++){\n\t\t\t\t\tString s = sc.next().charAt(0) + \"\";\n\t\t\t\t\ttempdice[j] = name.indexOf(s);\n\t\t\t\t}\n\t\t\t\td[i] = new Dice(tempdice);\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfor(int j = i + 1; j < n; j++){\n\t\t\t\t\tif(isSame(d[i], d[j])){\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n\t\n\tprivate boolean isSame(Dice aa, Dice bb) {\n\t\tString [] order = {\"\", \"n\", \"s\", \"w\", \"e\", \"nn\"};\n\t\tString [] revorder = {\"\", \"s\", \"n\", \"e\", \"w\", \"nn\"};\n\t\tDice a = new Dice(aa.dice);\n\t\tDice b = new Dice(bb.dice);\n\t\tfor(int i = 0; i < order.length ; i++){\n\t\t\t\n\t\t\tfor(int j = 0; j < order[i].length(); j++){\n\t\t\t\tchar c = order[i].charAt(j);\n\t\t\t\tb.turn(c);\n\t\t\t}\n\t\t\t\n\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\tb.slide();\n\t\t\t\tboolean res = comp(a, b);\n\t\t\t\tif(res){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfor(int j = 0; j < revorder[i].length(); j++){\n\t\t\t\tchar c = revorder[i].charAt(j);\n\t\t\t\tb.turn(c);\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate boolean comp(Dice a, Dice b) {\n\t\tfor(int i = 1; i <= 6; i++){\n\t\t\tif(a.dice[i] != b.dice[i]) return false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate void debug(Object... o) { System.out.println(\"debug = \" + Arrays.deepToString(o)); }\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().doit();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n\tpublic static void main(String[]agrs){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tString[][] list = new String[n][6];\n\t\t\tboolean[] a = new boolean[n];\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tfor(int j = 0; j < 6; j++) {\n\t\t\t\t\tlist[i][j] = sc.next();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tIN:for(int j = i+1; j < n; j++) {\n\t\t\t\t\tif(a[i]) continue;\n\t\t\t\t\tfor(int k = 0; k < 4; k++) {\n\t\t\t\t\t\t\tx(list[j]);\n\t\t\t\t\t\tfor(int l = 0; l < 4; l++) {\n\t\t\t\t\t\t\ty(list[j]);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(c(list[i],list[j])) {\n\t\t\t\t\t\t\t\ta[j] = true;\n\t\t\t\t\t\t\t\tcontinue IN;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(a[i]) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n\t\n\tstatic void x(String[] a) {\n\t\tString tmp = a[1];\n\t\ta[1] = a[3];\n\t\ta[3] = a[4];\n\t\ta[4] = a[2];\n\t\ta[2] = tmp;\n\t}\n\tstatic void y(String[] a) {\n\t\tString tmp = a[0];\n\t\ta[0] = a[3];\n\t\ta[3] = a[5];\n\t\ta[5] = a[2];\n\t\ta[2] = tmp;\n\t}\n\tstatic boolean c(String[] a, String[] b) {\n\t\tfor(int i = 0; i < 6; i++) {\n\t\t\tif(!a[i].equals(b[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tint mod = 1000000007;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tDice[] dice = new Dice[N];\n\t\t\tboolean[] fake = new boolean[N];\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tdice[i] = new Dice(sc.next(), sc.next(), sc.next(), sc.next(),\n\t\t\t\t\t\tsc.next(), sc.next());\n\t\t\t}\n\t\t\tint match = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tDice diceNow = dice[i];\n\t\t\t\tfor (int j = i + 1; j < N; j++) {\n\t\t\t\t\tif (fake[j]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tDice diceCmp = dice[j];\n\t\t\t\t\tfor (int k = 0; k < 4; k++) {\n\t\t\t\t\t\tdiceCmp.roll_back();\n\t\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\t\tfake[j] = true;\n\t\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tfake[j] = true;\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tfake[j] = true;\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(match);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tclass Dice {\n\t\tString top;\n\t\tString front;\n\t\tString right;\n\t\tString back;\n\t\tString left;\n\t\tString reverse;\n\n\t\tpublic Dice(String top, String front, String right, String back,\n\t\t\t\tString left, String reverse) {\n\t\t\tsuper();\n\t\t\tthis.top = top;\n\t\t\tthis.front = front;\n\t\t\tthis.right = right;\n\t\t\tthis.back = back;\n\t\t\tthis.left = left;\n\t\t\tthis.reverse = reverse;\n\t\t}\n\n\t\tvoid disp() {\n\t\t\tSystem.out.print(this.top + \" \" + this.front + \" \" + this.right\n\t\t\t\t\t+ \" \" + this.back + \" \" + this.left + \" \" + this.reverse);\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tvoid rotate_parallel() {\n\t\t\tString tmp = this.back;\n\t\t\tthis.back = this.right;\n\t\t\tthis.right = this.front;\n\t\t\tthis.front = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tvoid roll_back() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.front;\n\t\t\tthis.front = this.reverse;\n\t\t\tthis.reverse = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\n\t\tvoid roll_front() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.back;\n\t\t\tthis.back = this.reverse;\n\t\t\tthis.reverse = this.front;\n\t\t\tthis.front = tmp;\n\t\t}\n\n\t\tvoid roll_right() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.left;\n\t\t\tthis.left = this.reverse;\n\t\t\tthis.reverse = this.right;\n\t\t\tthis.right = tmp;\n\t\t}\n\n\t\tvoid roll_left() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.right;\n\t\t\tthis.right = this.reverse;\n\t\t\tthis.reverse = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tboolean coincide(Dice cmp) {\n\t\t\tif (this.front.equals(cmp.front) && this.top.equals(cmp.top)\n\t\t\t\t\t&& this.back.equals(cmp.back)\n\t\t\t\t\t&& this.right.equals(cmp.right)\n\t\t\t\t\t&& this.left.equals(cmp.left)\n\t\t\t\t\t&& this.reverse.equals(cmp.reverse)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tvoid swap() {\n\t\t\tString tmp = this.left;\n\t\t\tthis.left = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(int[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tstatic HashMap<String,Integer> m = new HashMap<String,Integer>();\n\tstatic Dice[] d ;\n\tstatic{\n\t\tm.put(\"Cyan\", 0);\n\t\tm.put(\"Yellow\", 1);\n\t\tm.put(\"Red\", 2);\n\t\tm.put(\"Magenta\", 3);\n\t\tm.put(\"Green\", 4);\n\t\tm.put(\"Blue\", 5);\n\t}\n\tpublic static void main(String[] args) {\n\t\tScanner cin = new Scanner(System.in);\n\t\twhile(true){\n\t\t\tint N = cin.nextInt();\n\t\t\tif(N==0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\td = new Dice[N];\n\t\t\tfor(int i =0;i<N;i++){\n\t\t\t\tint[] a = new int[6];\n\t\t\t\tfor(int j = 0;j<6;j++){\n\t\t\t\t\ta[i]=m.get(cin.next());\n\t\t\t\t}\n\t\t\t\td[i]=new Dice(a[0],a[1],a[2],a[3],a[4],a[5]);\n\t\t\t}\n\t\t\tint count=0;\n\t\t\tfor(int i = 0;i<N;i++){\n\t\t\t\tint j=0;\n\t\t\t\tfor(j = i+1;j<N;j++){\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\td[j].turn();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\td[j].roll();\n\t\t\t\t\td[j].roll();\n\t\t\t\t\tif(sameTop(i,j)){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(j==N){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(N-count);\n\t\t}\n\t}\n\tstatic boolean sameTop(int i,int j){\n\t\tfor(int k=0;k<4;k++){\n\t\t\tif(d[i].same(d[j])){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\td[i].turn();\n\t\t}\t\t\n\t\treturn false;\n\t}\n}\nclass Dice{\n\tint top;\n\tint a;\n\tint b;\n\tint c;\n\tint d;\n\tint bottom;\n\tDice(int x,int y,int z,int w,int i,int j){\n\t\ttop=x;\n\t\ta=y;\n\t\tb=z;\n\t\tc=w;\n\t\td=i;\n\t\tbottom=j;\n\t}\n\tboolean same(Dice d){\n\t\tif(this.top==d.top&&this.a==d.a&&this.b==d.b\n\t\t\t\t&&this.c==d.c&&this.d==d.d&&this.bottom==d.bottom){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tpublic void updown(){\n\t\tint tmp = top;\n\t\ttop = bottom;\n\t\tbottom = tmp;\n\t}\n\tvoid roll(){\n\t\tint tmp = top;\n\t\ttop = c;\n\t\tc = bottom;\n\t\tbottom=a;\n\t\ta = tmp;\n\t}\n\tvoid turn(){\n\t\tint tmp=a;\n\t\ta=b;\n\t\tb=c;\n\t\tc=d;\n\t\td=tmp;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    ArrayList<String[]> color,list;\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            color = new ArrayList<String[]>();\n            int cnt = 0;\n            for(int i=0; i<n; i++){\n                String[] s = new String[6];\n                for(int j=0; j<6; j++) s[j] = sc.next();\n                if(same(s)) cnt++;\n                else color.add(s);\n            }\n\n            System.out.println(cnt);\n        }\n    }\n\n    int[][] rotate = {{1,2,4,3},{0,4,5,1},{0,2,5,3}};\n\n    boolean same(String[] dice){\n        list = new ArrayList<String[]>();\n        for(int i=0; i<4; i++){\n            dice = rotate(dice,0);\n            for(int j=0; j<4; j++){\n                dice = rotate(dice,1);\n                for(int l=0; l<4; l++){\n                    dice = rotate(dice,2);\n                    list.add(dice);\n                }\n            }\n        }\n\n        for(int i=0; i<list.size(); i++){\n            String[] s1 = list.get(i);\n            for(int j=0; j<color.size(); j++){\n                boolean boo = false;\n                String[] s2 = color.get(j);\n                for(int k=0; k<6; k++){\n                    if(!s1[k].equals(s2[k])){\n                        boo = false;\n                        break;\n                    }\n                    boo = true;\n                }\n                if(boo) return true;\n            }\n        }\n        return false;\n    }\n\n    String[] rotate(String[] dice, int idx){\n        String[] res = new String[6];\n        for(int i=0; i<6; i++) res[i] = dice[i];\n        String tmp = res[rotate[idx][3]];\n        for(int i=3; i>0; i--) res[rotate[idx][i]] = res[rotate[idx][i-1]];\n        res[rotate[idx][0]] = tmp;\n        return res;\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class Main {\n\t\n\tpublic static class Dice{\n\t\tint p1, p2, p3, p4, p5, p6;\n\n\t\tpublic Dice(int p1, int p2, int p3, int p4, int p5, int p6) {\n\t\t\tsuper();\n\t\t\tthis.p1 = p1;\n\t\t\tthis.p2 = p2;\n\t\t\tthis.p3 = p3;\n\t\t\tthis.p4 = p4;\n\t\t\tthis.p5 = p5;\n\t\t\tthis.p6 = p6;\n\t\t}\n\n\t\t@Override\n\t\tpublic boolean equals(Object obj) {\n\t\t\tif(obj instanceof Dice){\n\t\t\t\tDice ano = (Dice) obj;\n\t\t\t\treturn this.p1 == ano.p1 && \n\t\t\t\t\t\tthis.p2 == ano.p2 &&\n\t\t\t\t\t\tthis.p3 == ano.p3 &&\n\t\t\t\t\t\tthis.p4 == ano.p4 &&\n\t\t\t\t\t\tthis.p5 == ano.p5 &&\n\t\t\t\t\t\tthis.p6 == ano.p6;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t@Override\n\t\tpublic String toString() {\n\t\t\treturn \"Dice [p1=\" + p1 + \", p2=\" + p2 + \", p3=\" + p3 + \", p4=\"\n\t\t\t\t\t+ p4 + \", p5=\" + p5 + \", p6=\" + p6 + \"]\";\n\t\t}\n\t}\n\t\n\tpublic static class Pair implements Comparable<Pair>{\n\t\tint p1, p2;\n\t\t\n\t\tpublic Pair(int t1, int t2){\n\t\t\tif(t1 > t2){\n\t\t\t\tp1 = t2;\n\t\t\t\tp2 = t1;\n\t\t\t}else{\n\t\t\t\tp1 = t1;\n\t\t\t\tp2 = t2;\n\t\t\t}\n\t\t}\n\n\t\t@Override\n\t\tpublic int compareTo(Pair o) {\n\t\t\treturn this.p1 - o.p1;\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tString[] names = {\"Red\", \"Yellow\", \"Blue\", \"Magenta\", \"Green\", \"Cyan\"};\n\t\t\n\t\twhile(true){\n\t\t\tfinal int n = sc.nextInt();\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tDice[] array = new Dice[n];\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tint[] numbers = new int[6];\n\t\t\t\t\n\t\t\t\tfor(int j = 0; j < 6; j++){\n\t\t\t\t\tString str = sc.next();\n\t\t\t\t\t\n\t\t\t\t\tfor(int k = 0; k < 6; k++){\n\t\t\t\t\t\tif(str.equals(names[k])){\n\t\t\t\t\t\t\tnumbers[j] = k;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tPair[] pairs = \n\t\t\t\t\t{\n\t\t\t\t\t\tnew Pair(numbers[0], numbers[5]),\n\t\t\t\t\t\tnew Pair(numbers[1], numbers[4]),\n\t\t\t\t\t\tnew Pair(numbers[2], numbers[3]),\n\t\t\t\t\t};\n\t\t\t\tArrays.sort(pairs);\n\t\t\t\t\n\t\t\t\tarray[i] = new Dice(pairs[0].p1, pairs[0].p2, pairs[1].p1, pairs[1].p2, pairs[2].p1, pairs[2].p2);\n\t\t\t}\n\t\t\t\n\t\t\t//for(int i = 0; i < n; i++){\n\t\t\t//\tSystem.out.println(array[i]);\n\t\t\t//}\n\t\t\t\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tif(array[i] == null){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = i + 1; j < n; j++){\n\t\t\t\t\tif(array[i].equals(array[j])){\n\t\t\t\t\t\tarray[j] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tif(array[i] != null){\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n - count);\n\t\t}\n\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static class Cube{\n\t\tint top;\n\t\tint front;\n\t\tint right;\n\t\tint left;\n\t\tint back;\n\t\tint bottom;\n\t\t\n\t\tpublic Cube(int top, int front, int right, int left, int back,int bottom) {\n\t\t\tsuper();\n\t\t\tthis.top = top;\n\t\t\tthis.front = front;\n\t\t\tthis.right = right;\n\t\t\tthis.left = left;\n\t\t\tthis.back = back;\n\t\t\tthis.bottom = bottom;\n\t\t}\n\t\t\n\t\t@Override\n\t\tpublic String toString() {\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\t\n\t\t\tsb.append(str[top]);\n\t\t\tsb.append(\" \" + str[front]);\n\t\t\tsb.append(\" \" + str[right]);\n\t\t\tsb.append(\" \" + str[left]);\n\t\t\tsb.append(\" \" + str[back]);\n\t\t\tsb.append(\" \" + str[bottom]);\n\t\t\t\n\t\t\treturn sb.toString();\n\t\t}\n\n\t\t@Override\n\t\tpublic boolean equals(Object obj) {\n\t\t\tif (this == obj){\n\t\t\t\treturn true;\n\t\t\t}else if (obj == null){\n\t\t\t\treturn false;\n\t\t\t}else if (!(obj instanceof Cube)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tCube other = (Cube) obj;\n\t\t\t\n\t\t\tboolean flag = false;\n\t\t\tfor(int i = 0; i < 4; i++){\n\t\t\t\tother.up_turn();\n\t\t\t\t\n\t\t\t\tfor(int j = 0; j < 4; j++){\n\t\t\t\t\tother.right_turn();\n\t\t\t\t\t\n\t\t\t\t\tfor(int k = 0; k < 4; k++){\n\t\t\t\t\t\tother.twist_turn();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(flag){\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}else if(this.left     == other.left \n\t\t\t\t\t\t\t\t&& this.right  == other.right\n\t\t\t\t\t\t\t\t&& this.back   == other.back\n\t\t\t\t\t\t\t\t&& this.bottom == other.bottom\n\t\t\t\t\t\t\t\t&& this.top    == other.top\n\t\t\t\t\t\t\t\t&& this.front  == other.front){\n\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\t//System.out.println(\"[\" + this + \"] [\" + other + \"] \" + flag);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn flag;\n\t\t}\n\n\t\tpublic void up_turn(){\n\t\t\tfinal int next_top = front;\n\t\t\tfinal int next_front = bottom;\n\t\t\tfinal int next_bottom = back;\n\t\t\tfinal int next_back = top;\n\t\t\tfinal int next_right = right;\n\t\t\tfinal int next_left = left;\n\t\t\t\n\t\t\ttop = next_top;\n\t\t\tfront = next_front;\n\t\t\tright = next_right;\n\t\t\tleft = next_left;\n\t\t\tback = next_back;\n\t\t\tbottom = next_bottom;\n\t\t}\n\t\t\n\t\tpublic void right_turn(){\n\t\t\tfinal int next_top = top;\n\t\t\tfinal int next_front = left;\n\t\t\tfinal int next_bottom = bottom;\n\t\t\tfinal int next_back = right;\n\t\t\tfinal int next_right = front;\n\t\t\tfinal int next_left = back;\n\t\t\t\n\t\t\ttop = next_top;\n\t\t\tfront = next_front;\n\t\t\tright = next_right;\n\t\t\tleft = next_left;\n\t\t\tback = next_back;\n\t\t\tbottom = next_bottom;\n\t\t}\n\t\t\n\t\tpublic void twist_turn(){\n\t\t\tfinal int next_top = left;\n\t\t\tfinal int next_front = front;\n\t\t\tfinal int next_bottom = right;\n\t\t\tfinal int next_back = back;\n\t\t\tfinal int next_right = top;\n\t\t\tfinal int next_left = bottom;\n\t\t\t\n\t\t\ttop = next_top;\n\t\t\tfront = next_front;\n\t\t\tright = next_right;\n\t\t\tleft = next_left;\n\t\t\tback = next_back;\n\t\t\tbottom = next_bottom;\n\t\t}\n\t}\n\t\n\tpublic static String[] str = new String[]{\"Cyan\", \"Yellow\", \"Red\", \"Magenta\", \"Green\", \"Blue\"};\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\tHashMap<String, Integer> map = new HashMap<String, Integer>();\n\t\tfor(int i = 0; i < str.length; i++){\n\t\t\tmap.put(str[i], i);\n\t\t}\n\t\t\n\t\twhile(true){\n\t\t\tfinal int n = sc.nextInt();\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tArrayList<Cube> cubes = new ArrayList<Cube>(n);\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfinal int top    = map.get(sc.next());\n\t\t\t\tfinal int front  = map.get(sc.next());\n\t\t\t\tfinal int right  = map.get(sc.next());\n\t\t\t\tfinal int left   = map.get(sc.next());\n\t\t\t\tfinal int back   = map.get(sc.next());\n\t\t\t\tfinal int bottom = map.get(sc.next());\n\t\t\t\t\n\t\t\t\tcubes.add(new Cube(top, front, right, left, back, bottom));\n\t\t\t\t\n\t\t\t\t//System.out.println(cubes);\n\t\t\t}\n\t\t\t//cubes.get(1).up_turn();\n\t\t\t//System.out.println(cubes.get(0).equals(cubes.get(1)));\n\t\t\t\n\t\t\tfor(int i = 0; i < cubes.size(); i++){\n\t\t\t\tCube cube = cubes.get(i);\n\t\t\t\t\n\t\t\t\tfor(int j = cubes.size() - 1; j > i; j--){\n\t\t\t\t\tif(cube.equals(cubes.get(j))){\n\t\t\t\t\t\t//System.out.println(\"t\");\n\t\t\t\t\t\tcubes.remove(j);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(n - cubes.size());\n\t\t\t\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.Set;\n\npublic class Main {\n    static int ans;\n\n    public static void main(String[] args) throws Exception {\n        Scanner sc = new Scanner(System.in);\n        Map<String, Integer> color = new HashMap<String, Integer>();\n        color.put(\"Red\", 1);\n        color.put(\"Yellow\", 2);\n        color.put(\"Blue\", 3);\n        color.put(\"Magenta\", 4);\n        color.put(\"Green\", 5);\n        color.put(\"Cyan\", 6);\n        while (true) {\n            int n = sc.nextInt();\n            if (n == 0)\n                break;\n            Set<String> set = new HashSet<String>();\n            for (int i = 0; i < n; i++) {\n                Dice d = new Dice(color.get(sc.next()), color.get(sc.next()),\n                        color.get(sc.next()), color.get(sc.next()),\n                        color.get(sc.next()), color.get(sc.next()));\n                for (int j = 0; j < 4; j++) {\n                    d = d.North();\n                    for (int k = 0; k < 4; k++) {\n                        d = d.Right();\n                        set.add(d.toString());\n                    }\n                }\n                d = d.East();\n                for (int k = 0; k < 4; k++) {\n                    d = d.Right();\n                    set.add(d.toString());\n                }\n                d = d.East().East();\n                for (int k = 0; k < 4; k++) {\n                    d = d.Right();\n                    set.add(d.toString());\n                }\n            }\n            System.out.println(n - set.size() / 24);\n        }\n    }\n}\n\nclass Dice {\n    Integer cs[] = new Integer[7];\n\n    Dice(Integer c1, Integer c2, Integer c3, Integer c4, Integer c5, Integer c6) {\n        cs[1] = c1;\n        cs[2] = c2;\n        cs[3] = c3;\n        cs[4] = c4;\n        cs[5] = c5;\n        cs[6] = c6;\n    }\n\n    public Dice North() {\n        return new Dice(cs[2], cs[6], cs[3], cs[4], cs[1], cs[5]);\n    }\n\n    public Dice East() {\n        return new Dice(cs[4], cs[2], cs[1], cs[6], cs[5], cs[3]);\n    }\n\n    public Dice Right() {\n        return new Dice(cs[1], cs[4], cs[2], cs[5], cs[3], cs[6]);\n    }\n\n    public String toString() {\n        return Arrays.toString(cs);\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\tint n, cnt;\n\tint[][] c;\n\t\n\tvoid up(int m){\n\t\tint tmp = c[m][0];\n\t\tc[m][0] = c[m][1];\n\t\tc[m][1] = c[m][5];\n\t\tc[m][5] = c[m][4];\n\t\tc[m][4] = tmp;\n\t}\n\t\n\tvoid right(int m){\n\t\tint tmp = c[m][1];\n\t\tc[m][1] = c[m][3];\n\t\tc[m][3] = c[m][4];\n\t\tc[m][4] = c[m][2];\n\t\tc[m][2] = tmp;\n\t}\n\t\n\tboolean check(int m){\n\t\tfor(int i=m-1;i>=0;i--){\n\t\t\tint cc = 0;\n\t\t\tfor(int j=0;j<6;j++) if(c[i][j]==c[m][j]) cc++;\n\t\t\tif(cc==6) return true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tboolean func(int m){\n\t\tfor(int i=0;i<4;i++){\n\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\tif(check(m)) return true;\n\t\t\t\tright(m);\n\t\t\t}\n\t\t\tup(m);\n\t\t}\n\t\tright(m);\n\t\tup(m);\n\t\tfor(int i=0;i<4;i++){\n\t\t\tif(check(m)) return true;\n\t\t\tright(m);\n\t\t}\n\t\tup(m);\n\t\tup(m);\n\t\tfor(int i=0;i<4;i++){\n\t\t\tif(check(m)) return true;\n\t\t\tright(m);\n\t\t}\n\t\tcnt++;\n\t\treturn false;\n\t}\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tn = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\t\n\t\t\tc = new int[n][6];\n\t\t\tcnt = 1;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=0;j<6;j++){\n\t\t\t\t\tchar a = sc.next().charAt(0);\n\t\t\t\t\tif(a=='R') c[i][j] = 0;\n\t\t\t\t\telse if(a=='Y') c[i][j] = 1;\n\t\t\t\t\telse if(a=='B') c[i][j] = 2;\n\t\t\t\t\telse if(a=='M') c[i][j] = 3;\n\t\t\t\t\telse if(a=='G') c[i][j] = 4;\n\t\t\t\t\telse if(a=='C') c[i][j] = 5;\n\t\t\t\t}\n\t\t\t\tif(i!=0) func(i);\n\t\t\t}\n\t\t\tSystem.out.println(n-cnt);\n\t\t}\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main {\n\tMyScanner sc = new MyScanner();\n\tScanner sc2 = new Scanner(System.in);\n\tint mod = 1000000007;\n\n\tvoid run() {\n\t\tfor (;;) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tDice[] dice = new Dice[N];\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tdice[i] = new Dice(sc.next(), sc.next(), sc.next(), sc.next(),\n\t\t\t\t\t\tsc.next(), sc.next());\n\t\t\t}\n\t\t\tint match = 0;\n\t\t\tfor (int i = 0; i < N; i++) {\n\t\t\t\tfor (int j = i + 1; j < N; j++) {\n\t\t\t\t\tDice diceNow = dice[i];\n\t\t\t\t\tDice diceCmp = dice[j];\n\t\t\t\t\tfor (int k = 0; k < 4; k++) {\n\t\t\t\t\t\tdiceCmp.roll_back();\n\t\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tdiceCmp.roll_right();\n\t\t\t\t\tfor (int l = 0; l < 4; l++) {\n\t\t\t\t\t\tdiceCmp.rotate_parallel();\n\t\t\t\t\t\tif (diceNow.coincide(diceCmp)) {\n\t\t\t\t\t\t\tmatch++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(match);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tclass Dice {\n\t\tString top;\n\t\tString front;\n\t\tString right;\n\t\tString back;\n\t\tString left;\n\t\tString reverse;\n\n\t\tpublic Dice(String top, String front, String right, String back,\n\t\t\t\tString left, String reverse) {\n\t\t\tsuper();\n\t\t\tthis.top = top;\n\t\t\tthis.front = front;\n\t\t\tthis.right = right;\n\t\t\tthis.back = back;\n\t\t\tthis.left = left;\n\t\t\tthis.reverse = reverse;\n\t\t}\n\n\t\tvoid disp() {\n\t\t\tSystem.out.print(this.top + \" \" + this.front + \" \" + this.right\n\t\t\t\t\t+ \" \" + this.back + \" \" + this.left + \" \" + this.reverse);\n\t\t\tSystem.out.println();\n\t\t}\n\n\t\tvoid rotate_parallel() {\n\t\t\tString tmp = this.back;\n\t\t\tthis.back = this.right;\n\t\t\tthis.right = this.front;\n\t\t\tthis.front = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tvoid roll_back() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.front;\n\t\t\tthis.front = this.reverse;\n\t\t\tthis.reverse = this.back;\n\t\t\tthis.back = tmp;\n\t\t}\n\n\t\tvoid roll_front() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.back;\n\t\t\tthis.back = this.reverse;\n\t\t\tthis.reverse = this.front;\n\t\t\tthis.front = tmp;\n\t\t}\n\n\t\tvoid roll_right() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.left;\n\t\t\tthis.left = this.reverse;\n\t\t\tthis.reverse = this.right;\n\t\t\tthis.right = tmp;\n\t\t}\n\n\t\tvoid roll_left() {\n\t\t\tString tmp = this.top;\n\t\t\tthis.top = this.right;\n\t\t\tthis.right = this.reverse;\n\t\t\tthis.reverse = this.left;\n\t\t\tthis.left = tmp;\n\t\t}\n\n\t\tboolean coincide(Dice cmp) {\n\t\t\tif (this.front.equals(cmp.front) && this.top.equals(cmp.top)\n\t\t\t\t\t&& this.back.equals(cmp.back)\n\t\t\t\t\t&& this.right.equals(cmp.right)\n\t\t\t\t\t&& this.left.equals(cmp.left)\n\t\t\t\t\t&& this.reverse.equals(cmp.reverse)) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\tvoid debug(Object... o) {\n\t\tSystem.out.println(Arrays.deepToString(o));\n\t}\n\n\tvoid debug2(int[][] array) {\n\t\tfor (int i = 0; i < array.length; i++) {\n\t\t\tfor (int j = 0; j < array[i].length; j++) {\n\t\t\t\tSystem.out.print(array[i][j]);\n\t\t\t}\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\n\tclass MyScanner {\n\t\tint nextInt() {\n\t\t\ttry {\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (c != '-' && (c < '0' || '9' < c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tif (c == '-')\n\t\t\t\t\treturn -nextInt();\n\t\t\t\tint res = 0;\n\t\t\t\tdo {\n\t\t\t\t\tres *= 10;\n\t\t\t\t\tres += c - '0';\n\t\t\t\t\tc = System.in.read();\n\t\t\t\t} while ('0' <= c && c <= '9');\n\t\t\t\treturn res;\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\n\t\tdouble nextDouble() {\n\t\t\treturn Double.parseDouble(next());\n\t\t}\n\n\t\tString next() {\n\t\t\ttry {\n\t\t\t\tStringBuilder res = new StringBuilder(\"\");\n\t\t\t\tint c = System.in.read();\n\t\t\t\twhile (Character.isWhitespace(c))\n\t\t\t\t\tc = System.in.read();\n\t\t\t\tdo {\n\t\t\t\t\tres.append((char) c);\n\t\t\t\t} while (!Character.isWhitespace(c = System.in.read()));\n\t\t\t\treturn res.toString();\n\t\t\t} catch (Exception e) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\n    ArrayList<char[]> color,list;\n    ArrayList<String> clist,alist;\n\n    void solve(){\n        Scanner sc = new Scanner(System.in);\n\n        clist = new ArrayList<String>();\n        clist.add(\"Red\");\n        clist.add(\"Yellow\");\n        clist.add(\"Blue\");\n        clist.add(\"Magenta\");\n        clist.add(\"Green\");\n        clist.add(\"Cyan\");\n\n        while(true){\n            int n = sc.nextInt();\n            if(n==0) break;\n\n            color = new ArrayList<char[]>();\n            int cnt = 0;\n            for(int i=0; i<n; i++){\n                char[] c = new char[6];\n                for(int j=0; j<6; j++) c[j] = (char)clist.indexOf(sc.next());\n                if(same(c)) cnt++;\n                else color.add(c);\n            }\n\n            System.out.println(cnt);\n        }\n    }\n\n    int[][] rotate = {{1,2,4,3},{0,4,5,1},{0,2,5,3}};\n\n    boolean same(char[] dice){\n        list = new ArrayList<char[]>();\n        alist = new ArrayList<String>();\n        for(int i=0; i<4; i++){\n            dice = rotate(dice,0);\n            for(int j=0; j<4; j++){\n                dice = rotate(dice,1);\n                for(int l=0; l<4; l++){\n                    dice = rotate(dice,2);\n                    String ns = String.valueOf(dice);\n                    if(!alist.contains(ns)){\n                        list.add(dice);\n                        alist.add(ns);\n                    }\n                }\n            }\n        }\n\n        for(int i=0; i<list.size(); i++){\n            char[] s1 = list.get(i);\n            for(int j=0; j<color.size(); j++){\n                boolean boo = false;\n                char[] s2 = color.get(j);\n                for(int k=0; k<6; k++){\n                    if(s1[k]!=s2[k]){\n                        boo = false;\n                        break;\n                    }\n                    boo = true;\n                }\n                if(boo) return true;\n            }\n        }\n        return false;\n    }\n\n    char[] rotate(char[] dice, int idx){\n        char[] res = new char[6];\n        for(int i=0; i<6; i++) res[i] = dice[i];\n\n        char tmp = res[rotate[idx][3]];\n        for(int i=3; i>0; i--) res[rotate[idx][i]] = res[rotate[idx][i-1]];\n        res[rotate[idx][0]] = tmp;\n        return res;\n    }\n\n    public static void main(String[] args){\n        new Main().solve();\n    }\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.*;\nimport java.util.*;\n\n\n// 2011/10/23\n\n// 0198 L[u\npublic class Main {\n\n\tint[] roundR(int[] cube) {\n\t\tint[] newCube = new int[6];\n\t\tSystem.arraycopy(cube, 0, newCube, 0, 6);\n\t\tnewCube[0] = cube[1];\n\t\tnewCube[1] = cube[5];\n\t\tnewCube[5] = cube[4];\n\t\tnewCube[4] = cube[0];\n\t\treturn newCube;\n\t}\n\t\n\tint[] roundU(int[] cube) {\n\t\tint[] newCube = new int[6];\n\t\tSystem.arraycopy(cube, 0, newCube, 0, 6);\n\t\tnewCube[1] = cube[2];\n\t\tnewCube[2] = cube[4];\n\t\tnewCube[4] = cube[3];\n\t\tnewCube[3] = cube[1];\n\t\treturn newCube;\n\t}\n\t\n\t// L[u 24Ï»\n\tint[] change(int[] cube, int n) {\n\t\n\t\tint men = n / 4;\n\t\tif (men == 0) {\n\t\t\t;\n\t\t}\n\t\telse if (men == 1) {\n\t\t\tcube = roundR(cube);\n\t\t}\n\t\telse if (men == 2) {\n\t\t\tcube = roundR(cube);\n\t\t\tcube = roundR(cube);\n\t\t}\n\t\telse if (men == 3) {\n\t\t\tcube = roundR(cube);\n\t\t\tcube = roundR(cube);\n\t\t\tcube = roundR(cube);\n\t\t}\n\t\telse if (men == 4) {\n\t\t\tcube = roundU(cube);\n\t\t\tcube = roundR(cube);\n\t\t}\n\t\telse {\n\t\t\tcube = roundU(cube);\n\t\t\tcube = roundR(cube);\n\t\t\tcube = roundR(cube);\n\t\t\tcube = roundR(cube);\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n % 4; i++) {\n\t\t\tcube = roundU(cube);\n\t\t}\n\t\treturn cube;\n\t}\n\t\n\t// 2ÂÌL[uª¯¶©Ç¤©\n\tboolean equals(int[] cube1, int[] cube2) {\n\t\t\n\t\tfor(int i = 0; i < 24; i++) {\n\t\t\tint[] c = change(cube1, i);\n\t\t\tboolean b = Arrays.equals(c, cube2);\n\t\t\tif (b)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\t\n\n\t// C return falseÅ¨µÜ¢\n\tboolean main() throws IOException {\n\n\t\tint n = readIntArray()[0];\n\t\tif (n == 0)\n\t\t\treturn false;\n\t\t\n\t\tString[] colors = new String[] {\"Red\",\"Yellow\",\"Blue\",\"Magenta\",\"Green\",\"Cyan\"};\n\t\t\n\t\tint[][] cubes = new int[n][];\n\t\t\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tString s = reader.readLine();\n\t\t\tString[] sp = s.split(\" \");\n\t\t\t\n\t\t\tint[] cube = new int[6];\n\t\t\tcubes[i] = cube;\n\t\t\tfor(int j = 0; j < 6; j++) {\n\t\t\t\tString color = sp[j];\n\t\t\t\tint c = Arrays.asList(colors).indexOf(color);\n\t\t\t\tcube[j] = c;\n//\t\t\t\tSystem.out.printf(\"%d\\n\", c);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint eqCnt = 0;\n\t\tfor(int i = 0; i < n; i++) {\n\t\t\tboolean eq = false;\n\t\t\tfor(int j = i + 1; j < n; j++) {\n\t\t\t\tif (equals(cubes[i], cubes[j])) {\n\t\t\t\t\teq = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (eq) {\n\t\t\t\teqCnt++;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tlog.printf(\"eqCnt = %d\\n\", eqCnt);\n\t\tSystem.out.printf(\"%d\\n\", eqCnt);\n\t\t\n\t\treturn true; // ³íI¹ Ö\n\t}\n\t\n\n//\tprivate final static boolean DEBUG = true;  // debug\n\tprivate final static boolean DEBUG = false; // release\n\n\tpublic static void main(String[] args) throws IOException {\n\n\t\tif (DEBUG) {\n\t\t\tlog = System.out;\n\t\t\t\n\t\t\tString inputStr = \"3:Cyan Yellow Red Magenta Green Blue:Cyan Yellow Red Magenta Green Blue:Red Yellow Magenta Blue Green Cyan:0:\";\n\n\t\t\tinputStr = inputStr.replace(\":\", \"\\n\");\n\n\t\t\treader = new BufferedReader(new StringReader(inputStr)); \n\n\t\t}\n\t\telse {\n\t\t\tlog = new PrintStream(new OutputStream() { public void write(int b) {} } ); // «ÌÄ\n\t\t\treader = new BufferedReader(new InputStreamReader(System.in)); // R\\[©ç\n\t\t}\n\t\t\n\t\tint N = Integer.MAX_VALUE;\n\t\t//int N = readIntArray()[0];\n\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tboolean b = new Main().main();\n\t\t\tif (!b)\n\t\t\t\tbreak;\n\t\t}\t\t\n\t\t\n\t\treader.close();\n\t}\n\n\t\n\tstatic PrintStream log;\n\tstatic BufferedReader reader;\n\t\n\n\t// WüÍæè1sªÌæØè¶æØèÅÌ®lðÇÞ\n\t// EOFÌêÍnullðÔ·\n\tprivate static int[] readIntArray() throws IOException {\n\n\t\tString s = null;\n\t\tfor(;;) {\n\t\t\ts = reader.readLine();\n//\t\t\tlog.printf(\"%s\\n\", s);\n\t\t\tif (s == null)\n\t\t\t\treturn null;\n\t\t\ts = s.trim();\n\t\t\tif (s.length() != 0) // ¦¦¦@Ç¤àËRósðÇÞ±Æª éBÇÝòÎ·Æ¤Ü­¢­çµ¢BBBB\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tString[] sp = s.split(\"[ ,]\"); // æØè¶ÍXy[X©J}\n\t\tint[] a = new int[sp.length];\n\t\tfor(int i = 0; i < sp.length; i++) {\n\t\t\ta[i] = Integer.parseInt(sp[i]);\n\t\t}\n\t\treturn a;\n\t}\n\t\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\npublic class Main{\n\tpublic static void main(String[]agrs){\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile(true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tString[][] list = new String[n][6];\n\t\t\tboolean[] a = new boolean[n];\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tfor(int j = 0; j < 6; j++) {\n\t\t\t\t\tlist[i][j] = sc.next();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tIN:for(int j = i+1; j < n; j++) {\n\t\t\t\t\tif(a[i]) continue;\n\t\t\t\t\tfor(int k = 0; k < 4; k++) {\n\t\t\t\t\t\t\tx(list[j]);\n\t\t\t\t\t\tfor(int l = 0; l < 4; l++) {\n\t\t\t\t\t\t\ty(list[j]);\n\t\t\t\t\t\t\tfor(int m = 0; m < 4; m++) {\n\t\t\t\t\t\t\t\tz(list[j]);\n\t\t\t\t\t\t\t\tif(c(list[i],list[j])) {\n\t\t\t\t\t\t\t\t\ta[j] = true;\n\t\t\t\t\t\t\t\t\tcontinue IN;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tint count = 0;\n\t\t\tfor(int i = 0; i < n; i++) {\n\t\t\t\tif(a[i]) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(count);\n\t\t}\n\t}\n\t\n\tstatic void x(String[] a) {\n\t\tString tmp = a[1];\n\t\ta[1] = a[3];\n\t\ta[3] = a[4];\n\t\ta[4] = a[2];\n\t\ta[2] = tmp;\n\t}\n\tstatic void y(String[] a) {\n\t\tString tmp = a[0];\n\t\ta[0] = a[3];\n\t\ta[3] = a[5];\n\t\ta[5] = a[2];\n\t\ta[2] = tmp;\n\t}\n\tstatic void z(String[] a) {\n\t\tString tmp = a[0];\n\t\ta[0] = a[1];\n\t\ta[1] = a[5];\n\t\ta[5] = a[4];\n\t\ta[4] = tmp;\n\t}\n\tstatic boolean c(String[] a, String[] b) {\n\t\tfor(int i = 0; i < 6; i++) {\n\t\t\tif(!a[i].equals(b[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\n/**\n * テ」ツつオテ」ツつ、テ」ツつウテ」ツδュテ」ツつ津ィツ。ツィテ」ツ?凖」ツつッテ」ツδゥテ」ツつケ\n */\nclass Dice{\n  String t, s, e, n, w, b;\n\n  /**\n   * テ」ツつウテ」ツδウテ」ツつケテ」ツδ暗」ツδゥテ」ツつッテ」ツつソ\n   * @param t テ、ツクツ甘ゥツ敖「\n   * @param s テ・ツ債療ゥツ敖「\n   * @param e テヲツ敖アテゥツ敖「\n   * @param n テ・ツ個療ゥツ敖「\n   * @param w ティツ・ツソテゥツ敖「\n   * @param b テ、ツクツ凝ゥツ敖「\n   */\n  Dice(String t, String s, String e, String n, String w, String b){\n    this.t = t;\n    this.s = s;\n    this.e = e;\n    this.n = n;\n    this.w = w;\n    this.b = b;\n  }\n\n  /**\n   * テ、ツクツ甘ゥツ敖「テ」ツ?古ヲツ敖アテゥツ敖「テ」ツ?ォテヲツ敖・テ」ツつ凝」ツつ暗」ツ??」ツ?ォテ・ツ崢榲ィツサツ「\n   * @return テ・ツ崢榲ィツサツ「テ・ツセツ古」ツ?ョテ」ツつオテ」ツつ、テ」ツつウテ」ツδュ\n   */\n  public Dice moveEast(){\n    return new Dice(w, s, t, n, b, e);\n  }\n\n  /**\n   * テ、ツクツ甘ゥツ敖「テ」ツ?古・ツ個療ゥツ敖「テ」ツ?ォテヲツ敖・テ」ツつ凝」ツつ暗」ツ??」ツ?ォテ・ツ崢榲ィツサツ「\n   * @return テ・ツ崢榲ィツサツ「テ・ツセツ古」ツ?ョテ」ツつオテ」ツつ、テ」ツつウテ」ツδュ\n   */\n  public Dice moveNorth(){\n    return new Dice(s, b, e, t, w, n);\n  }\n\n  /**\n   * テ・ツ個療ゥツ敖「テ」ツ?古ヲツ敖アテゥツ敖「テ」ツ?ォテヲツ敖・テ」ツつ凝」ツつ暗」ツ??」ツ?ォテ・ツ崢榲ィツサツ「\n   * @return テ・ツ崢榲ィツサツ「テ・ツセツ古」ツ?ョテ」ツつオテ」ツつ、テ」ツつウテ」ツδュ\n   */\n  public Dice moveRight(){\n    return new Dice(t, e, n, w, s, b);\n  }\n\n  /**\n   * テ・ツシツ陛ヲツ閉ーテ」ツ?ォテヲツクツ。テ」ツ?陛」ツつ古」ツ?淌」ツつオテ」ツつ、テ」ツつウテ」ツδュテ」ツ?ィthisテ」ツ?古・ツ?ィテ」ツ?湘・ツ青古」ツ?佚」ツ?凝」ツ?ゥテ」ツ??」ツ?凝・ツ按、テ・ツョツ堙」ツ?凖」ツつ?\n   * @param dice thisテ」ツ?ィテヲツッツ氾ィツシツε」ツ?療」ツ?淌」ツ??」ツつオテ」ツつ、テ」ツつウテ」ツδュ\n   * @return テ・ツ?ィテ」ツ?湘・ツ青古」ツ?佚」ツ?ェテ」ツつ嘉」ツ?ーtrue, テ・ツ青古」ツ?佚」ツ?ァテ」ツ?ェテ」ツ??」ツ?ェテ」ツつ嘉」ツ?ーfalse\n   */\n  public boolean equals(Dice dice){\n    return\n      this.t.equals(dice.t) &&\n      this.s.equals(dice.s) &&\n      this.e.equals(dice.e) &&\n      this.n.equals(dice.n) &&\n      this.w.equals(dice.w) &&\n      this.b.equals(dice.b);\n  }\n\n  /**\n   * テ」ツδ湘」ツδε」ツつキテ」ツδ・テ・ツ?、テ」ツつ津ィツソツ氾」ツ??\n   * @return テ」ツδ湘」ツδε」ツつキテ」ツδ・テ・ツ?、\n   */\n  public int hashCode(){\n    return\n      t.hashCode() +\n      s.hashCode() +\n      e.hashCode() +\n      n.hashCode() +\n      w.hashCode() +\n      b.hashCode();\n  }\n\n  /**\n   * テ」ツつオテ」ツつ、テ」ツつウテ」ツδュテ」ツつ津・ツ崢榲ィツサツ「テ」ツ?療」ツ?ヲテ・ツ?ィテ」ツ?ヲテ」ツ?ョテァツ環カテヲツ?凝」ツつ津ァツ板淌ヲツ按静」ツ?療」ツ?ヲティツソツ氾」ツ??\n   * @return テ・ツ崢榲ィツサツ「テ・ツセツ古」ツ?ョテ・ツ?ィテ」ツ?ヲテ」ツ?ョテァツ環カテヲツ??\n   */\n  public ArrayList<Dice> getAllStates(){\n    ArrayList<Dice> states = new ArrayList<Dice>();\n    Dice dice = new Dice(t, s, e, n, w, b);\n\n    for(int i = 0; i < 6; i++){\n      for(int j = 0; j < 4; j++){\n        states.add(dice);\n        dice = dice.moveRight();\n      }\n      if(i < 4) dice = dice.moveNorth();\n      if(i == 3) dice = dice.moveEast();\n      if(i == 4) dice = dice.moveEast().moveEast();\n    }\n\n    return states;\n  }\n}\n\npublic class Main{\n  public static void main(String[] args){\n    Scanner sc = new Scanner(System.in);\n\n    while(true){\n      int n = sc.nextInt();\n      if(n == 0) break;\n\n      //テ」ツ?禿」ツ?ョテ」ツδェテ」ツつケテ」ツδ暗」ツ?ォテ・ツ?・テ」ツ?」テ」ツ?ヲテ」ツ??」ツつ凝」ツつオテ」ツつ、テ」ツつウテ」ツδュテ」ツ?ッテ」ツ??・ツ?ィテ」ツ?ヲテゥツ?陛」ツ??、ツスツ愿・ツ督?\n      ArrayList<Dice> uniq = new ArrayList<Dice>();\n\n      for(int i = 0; i < n; i++){\n        String[] c = new String[6];\n\n        for(int j = 0; j < 6; j++){\n          c[j] = sc.next();\n        }\n\n        boolean addFlg = true;\n        Dice d = new Dice(c[0], c[1], c[2], c[4], c[3], c[5]);\n        ArrayList<Dice> states1 = d.getAllStates();\n\n        for(Dice dice : uniq){\n          ArrayList<Dice> states2 = dice.getAllStates();\n\n          if(hasCommonDice(states1, states2)){\n            addFlg = false;\n            break;\n          }\n        }\n\n        if(addFlg){\n          uniq.add(d);\n        }\n      }\n\n      System.out.println(n - uniq.size());\n    }\n  }\n\n  /**\n   * 2テ」ツ?、テ」ツ?ョテ」ツδェテ」ツつケテ」ツδ暗」ツ?ォテ・ツ?アテゥツ?堙」ツ?療」ツ?淌」ツつオテ」ツつ、テ」ツつウテ」ツδュテ」ツ?古」ツ?づ」ツつ凝」ツ?凝・ツ按、テ・ツョツ堙」ツ?凖」ツつ?\n   * @param states1 テ」ツδェテ」ツつケテ」ツδ暗ッツシツ妥」ツ?、テァツ崢ョ\n   * @param states2 テ」ツδェテ」ツつケテ」ツδ暗ッツシツ津」ツ?、テァツ崢ョ\n   * @return true:テ・ツ?アテゥツ?堙」ツ?ョテ」ツ?陛」ツ??」ツ?禿」ツつ催」ツ?古」ツ?づ」ツつ? false:テ・ツ?アテゥツ?堙」ツ?ョテ」ツ?陛」ツ??」ツ?禿」ツつ催」ツ?古」ツ?ェテ」ツ??\n   */\n  public static boolean hasCommonDice(ArrayList<Dice> states1, ArrayList<Dice> states2){\n    for(int i = 0; i < states1.size(); i++){\n      for(int j = 0; j < states2.size(); j++){\n        if(states1.get(i).equals(states2.get(j))){\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\n\t\t\tHashSet<Dice> set = new HashSet<Dice>();\n\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tset.add(new Dice(sc.next(),sc.next(),sc.next(),sc.next(),sc.next(),sc.next()));\n\t\t\t}\n\n\t\t\tSystem.out.println(n - set.size());\n\t\t}\n\t}\n}\n\nclass Dice{\n\tString t,b,w,e,n,s;\n\n\tDice(String t,String s,String e,String w,String n,String b){\n\t\tthis.t = t;\n\t\tthis.s = s;\n\t\tthis.e = e;\n\t\tthis.w = w;\n\t\tthis.n = n;\n\t\tthis.b = b;\n\t}\n\n\tpublic boolean equals(Object o){\n\t\tDice d = (Dice)o;\n\n\t\tfor(int i=0;i<4;i++){\n\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\tfor(int k=0;k<4;k++){\n\t\t\t\t\tif(this.equals2(d)) return true;\n\t\t\t\t\td.move(0);\n\t\t\t\t}\n\t\t\t\td.move(1);\n\t\t\t}\n\t\t\td.move(2);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tboolean equals2(Dice d){\n\t\treturn\n\t\t\tt.equals(d.t) && b.equals(d.b) && w.equals(d.w) &&\n\t\t\te.equals(d.e) && n.equals(d.n) && s.equals(d.s);\n\t}\n\n\tpublic int hashCode(){\n\t\treturn 0;\n\t}\n\n\tvoid move(int dir){\n\t\tDice d = this.copy();\n\n\t\tswitch(dir){\n\t\tcase 0:\n\t\t\tt = d.s;\n\t\t\tb = d.n;\n\t\t\tn = d.t;\n\t\t\ts = d.b;\n\t\t\tbreak;\n\n\t\tcase 1:\n\t\t\tt = d.w;\n\t\t\tb = d.e;\n\t\t\tw = d.b;\n\t\t\te = d.t;\n\t\t\tbreak;\n\n\t\tcase 2:\n\t\t\tw = d.s;\n\t\t\te = d.n;\n\t\t\tn = d.w;\n\t\t\ts = d.e;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic String toString(){\n\t\treturn String.format(\"[%s,%s,%s,%s,%s,%s]\",t,s,e,w,n,b);\n\t}\n\n\tDice copy(){\n\t\treturn new Dice(t,s,e,w,n,b);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\n\t\t\tHashSet<Dice> set = new HashSet<Dice>();\n\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tset.add(new Dice(sc.next(),sc.next(),sc.next(),sc.next(),sc.next(),sc.next()));\n\t\t\t}\n\n\t\t\tSystem.out.println(n - set.size());\n\t\t}\n\t}\n}\n\nclass Dice{\n\tString t,b,w,e,n,s;\n\n\tDice(String t,String s,String e,String w,String n,String b){\n\t\tthis.t = t;\n\t\tthis.s = s;\n\t\tthis.e = e;\n\t\tthis.w = w;\n\t\tthis.n = n;\n\t\tthis.b = b;\n\t}\n\n\tpublic boolean equals(Object o){\n\t\tDice d = (Dice)o;\n\n\t\tfor(int i=0;i<4;i++){\n\t\t\tfor(int j=0;j<4;j++){\n\t\t\t\tif(this.equals2(d)) return true;\n\t\t\t\td.move(0);\n\t\t\t}\n\t\t\td.move(1);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tboolean equals2(Dice d){\n\t\treturn\n\t\t\tt.equals(d.t) && b.equals(d.b) && w.equals(d.w) &&\n\t\t\te.equals(d.e) && n.equals(d.n) && s.equals(d.s);\n\t}\n\n\tpublic int hashCode(){\n\t\treturn 0;\n\t}\n\n\tvoid move(int dir){\n\t\tDice d = this.copy();\n\n\t\tswitch(dir){\n\t\tcase 0:\n\t\t\tt = d.s;\n\t\t\tb = d.n;\n\t\t\tn = d.t;\n\t\t\ts = d.b;\n\t\t\tbreak;\n\n\t\tcase 1:\n\t\t\tt = d.w;\n\t\t\tb = d.e;\n\t\t\tw = d.b;\n\t\t\te = d.t;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic String toString(){\n\t\treturn String.format(\"[%s,%s,%s,%s,%s,%s]\",t,s,e,w,n,b);\n\t}\n\n\tDice copy(){\n\t\treturn new Dice(t,s,e,w,n,b);\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.HashSet;\nimport java.util.Scanner;\n\npublic class Main {\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\tint n;\n\t\tint xi[][];\n\t\tHashSet<Integer> list = new HashSet<Integer>();\n\n\t\twhile (true) {\n\t\t\tn = sc.nextInt();\n\t\t\tif (n == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\txi = new int[n][6];\n\t\t\tlist.clear();\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tfor (int j = 0; j < 6; j++) {\n\t\t\t\t\tString s = sc.next();\n\t\t\t\t\tif (s.equals(\"Red\")) {\n\t\t\t\t\t\txi[i][j] = 1;\n\t\t\t\t\t} else if (s.equals(\"Yellow\")) {\n\t\t\t\t\t\txi[i][j] = 2;\n\t\t\t\t\t} else if (s.equals(\"Blue\")) {\n\t\t\t\t\t\txi[i][j] = 3;\n\t\t\t\t\t} else if (s.equals(\"Magenta\")) {\n\t\t\t\t\t\txi[i][j] = 4;\n\t\t\t\t\t} else if (s.equals(\"Green\")) {\n\t\t\t\t\t\txi[i][j] = 5;\n\t\t\t\t\t} else if (s.equals(\"Cyan\")) {\n\t\t\t\t\t\txi[i][j] = 6;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tint id1 = 0;\n\t\t\tint id2 = 0;\n\t\t\tint id3 = 0;\n\t\t\tint id4 = 0;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif (xi[i][0] != 1) {\n\t\t\t\t\tfor (int j = 0; j < 6; j++) {\n\t\t\t\t\t\tif (xi[i][j] == 1) {\n\t\t\t\t\t\t\tid1 = j;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (id1 == 5) {\n\t\t\t\t\t\tid2 = 1;\n\t\t\t\t\t\tid3 = 0;\n\t\t\t\t\t\tid4 = 4;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tid2 = 5;\n\t\t\t\t\t\tid3 = 5 - id1;\n\t\t\t\t\t\tid4 = 0;\n\t\t\t\t\t}\n\t\t\t\t\twhile (xi[i][0] != 1) {\n\t\t\t\t\t\tint tmp = xi[i][id1];\n\t\t\t\t\t\txi[i][id1] = xi[i][id2];\n\t\t\t\t\t\txi[i][id2] = xi[i][id3];\n\t\t\t\t\t\txi[i][id3] = xi[i][id4];\n\t\t\t\t\t\txi[i][id4] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tid1 = 1;\n\t\t\t\tid2 = 2;\n\t\t\t\tid3 = 4;\n\t\t\t\tid4 = 3;\n\t\t\t\tif (xi[i][5] == 2) {\n\t\t\t\t\twhile (xi[i][1] != 3) {\n\t\t\t\t\t\tint tmp = xi[i][id1];\n\t\t\t\t\t\txi[i][id1] = xi[i][id2];\n\t\t\t\t\t\txi[i][id2] = xi[i][id3];\n\t\t\t\t\t\txi[i][id3] = xi[i][id4];\n\t\t\t\t\t\txi[i][id4] = tmp;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\twhile (xi[i][1] != 2) {\n\t\t\t\t\t\tint tmp = xi[i][id1];\n\t\t\t\t\t\txi[i][id1] = xi[i][id2];\n\t\t\t\t\t\txi[i][id2] = xi[i][id3];\n\t\t\t\t\t\txi[i][id3] = xi[i][id4];\n\t\t\t\t\t\txi[i][id4] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint x = 0;\n\t\t\t\tfor (int j = 0; j < 6; j++) {\n\t\t\t\t\tx *= 10;\n\t\t\t\t\tx += xi[i][j];\n\t\t\t\t}\n\t\t\t\tif (!list.contains(x)) {\n\t\t\t\t\tlist.add(x);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(n - list.size());\n\t\t}\n\t}\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace _0198\n{\n    public class Program\n\n    {\n        public static void Main(string[] args)\n        {\n            while (true)\n            {\n                int n = RInt();\n                if (n == 0) break;\n\n                int cnt = 0;\n                List<string> pips = new List<string>();\n\n                for (int i = 0 ; i < n ; i++)\n                {\n                    string[] items = RStAr();\n                    string pip = new string(items.Select(x => x[0]).ToArray());\n                    if (!pips.Contains(pip))\n                    {\n                        cnt++;\n                        foreach (var item in GetAllRoll(pip)) pips.Add(item);\n                    }\n                }\n                Console.WriteLine(n - cnt);\n            }\n        }\n\n        private static IEnumerable<string> GetAllRoll(string v)\n        {\n            yield return new string(new char[] { v[0], v[1], v[2], v[3], v[4], v[5] });\n            yield return new string(new char[] { v[0], v[2], v[4], v[1], v[3], v[5] });\n            yield return new string(new char[] { v[0], v[4], v[3], v[2], v[1], v[5] });\n            yield return new string(new char[] { v[0], v[3], v[1], v[4], v[2], v[5] });\n\n            yield return new string(new char[] { v[1], v[0], v[3], v[2], v[5], v[4] });\n            yield return new string(new char[] { v[1], v[3], v[5], v[0], v[2], v[4] });\n            yield return new string(new char[] { v[1], v[5], v[2], v[3], v[0], v[4] });\n            yield return new string(new char[] { v[1], v[2], v[0], v[5], v[3], v[4] });\n\n            yield return new string(new char[] { v[2], v[5], v[4], v[1], v[0], v[3] });\n            yield return new string(new char[] { v[2], v[4], v[0], v[5], v[1], v[3] });\n            yield return new string(new char[] { v[2], v[0], v[1], v[4], v[5], v[3] });\n            yield return new string(new char[] { v[2], v[1], v[5], v[0], v[4], v[3] });\n\n            yield return new string(new char[] { v[3], v[0], v[4], v[1], v[5], v[2] });\n            yield return new string(new char[] { v[3], v[4], v[5], v[0], v[1], v[2] });\n            yield return new string(new char[] { v[3], v[5], v[1], v[4], v[0], v[2] });\n            yield return new string(new char[] { v[3], v[1], v[0], v[5], v[4], v[2] });\n\n            yield return new string(new char[] { v[4], v[0], v[2], v[3], v[5], v[1] });\n            yield return new string(new char[] { v[4], v[2], v[5], v[0], v[3], v[1] });\n            yield return new string(new char[] { v[4], v[5], v[3], v[2], v[0], v[1] });\n            yield return new string(new char[] { v[4], v[3], v[0], v[5], v[2], v[1] });\n\n            yield return new string(new char[] { v[5], v[1], v[3], v[2], v[4], v[0] });\n            yield return new string(new char[] { v[5], v[3], v[4], v[1], v[2], v[0] });\n            yield return new string(new char[] { v[5], v[4], v[2], v[3], v[1], v[0] });\n            yield return new string(new char[] { v[5], v[2], v[1], v[4], v[3], v[0] });\n\n        }\n\n\n        static string RSt() { return Console.ReadLine(); }\n        static int RInt() { return int.Parse(Console.ReadLine().Trim()); }\n        static long RLong() { return long.Parse(Console.ReadLine().Trim()); }\n        static double RDouble() { return double.Parse(Console.ReadLine()); }\n        static string[] RStAr(char sep = ' ') { return Console.ReadLine().Trim().Split(sep); }\n        static int[] RIntAr(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => int.Parse(e)); }\n        static long[] RLongAr(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => long.Parse(e)); }\n        static double[] RDoubleAr(char sep = ' ') { return Array.ConvertAll(Console.ReadLine().Trim().Split(sep), e => double.Parse(e)); }\n        static string WAr<T>(IEnumerable<T> array, string sep = \" \") { return string.Join(sep, array.Select(x => x.ToString()).ToArray()); }\n    }\n\n}\n\n"
  },
  {
    "language": "JavaScript",
    "code": "function move(d1,d2,d3,d4,d5,d6){\n   var x=this.toString();\n   if(x==\"N\")return [d2,d6,d3,d4,d1,d5];\n   if(x==\"E\")return [d4,d2,d1,d6,d5,d3];\n}\nfunction roll(d1,d2,d3,d4,d5,d6){\n   return [d1,d3,d5,d2,d4,d6];\n}\nfunction rolls(arr){\n   for(var i=0;i<4;i++){\n      obj[arr.join(\",\")]=true;\n      arr=roll.apply(null,arr);\n   }\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var n=Arr.shift()-0;\n   if(n==0)break;\n   var OBJ={};\n   var result=\"Yes\";\n   var cnt=0;\n   for(var i=0;i<n;i++){\n      var obj={};\n      var color=\"Red,Yellow,Blue,Magenta,Green,Cyan\".split(\",\");\n      var dice=(Arr.shift()).split(\" \");\n      dice=dice.map(function(v){return color.indexOf(v);});\n      for(var j=0;j<4;j++){\n         rolls(dice);\n         dice=move.apply(\"N\",dice);\n      }\n      dice=move.apply(\"E\",dice);\n      rolls(dice);\n      dice=move.apply(\"E\",dice);\n      dice=move.apply(\"E\",dice);\n      rolls(dice);\n      for(var k in obj){\n         if(OBJ.hasOwnProperty(k)){cnt++;break;}\n         else OBJ[k]=true;\n      }\n   }\n   console.log(cnt);\n}"
  },
  {
    "language": "Ruby",
    "code": "### constant\n\nCS2CN = {\n  \"Red\" => 1, \"Yellow\" => 2, \"Blue\" => 3,\n  \"Magenta\" => 4, \"Green\" => 5, \"Cyan\" => 6\n}\n\n### subroutines\n\ndef rot_x!(cb)\n  # 1:+y -> 2:+z -> 4:-y -> 3:-z -> 1:+y\n  tmp = cb[1]\n  cb[1] = cb[3]\n  cb[3] = cb[4]\n  cb[4] = cb[2]\n  cb[2] = tmp\nend\n\ndef rot_y!(cb)\n  # 2:+z -> 0:+x -> 3:-z -> 5:-x -> 2:+z\n  tmp = cb[2]\n  cb[2] = cb[5]\n  cb[5] = cb[3]\n  cb[3] = cb[0]\n  cb[0] = tmp\nend\n\ndef rot_z!(cb)\n  # 0:+x -> 1:+y -> 5:-x -> 4:-y -> 0:+x\n  tmp = cb[0]\n  cb[0] = cb[4]\n  cb[4] = cb[5]\n  cb[5] = cb[1]\n  cb[1] = tmp\nend\n\ndef calc_cbi(cb)\n  cbi = 0\n  for cn in cb\n    cbi = cbi * 10 + cn\n  end\n  cbi\nend\n\ndef normalized_cbi(cb)\n  cb0 = cb.clone\n\n  while cb0[0] != 1\n    (cb0[1] != 1) ? rot_y!(cb0) : rot_z!(cb0)\n  end\n\n  min_cbi = calc_cbi(cb0)\n  3.times.each do\n    rot_x!(cb0)\n    cbi = calc_cbi(cb0)\n    min_cbi = cbi if min_cbi > cbi\n  end\n\n  min_cbi\nend\n\n### main\n\nwhile true\n  n = gets.strip.to_i\n  break if n == 0\n\n  cbis = []\n  short = 0\n\n  n.times.each do\n    cb = gets.strip.split(' ').map{|s| CS2CN[s]}\n\n    cbi = normalized_cbi(cb)\n\n    if cbis.include? cbi\n      short += 1\n    else\n      cbis << cbi\n    end\n  end\n\n  puts short\nend"
  },
  {
    "language": "Ruby",
    "code": "class Dice\n    @faces = nil\n \n    def initialize arr\n        @faces = arr\n    end\n\n    def rotate news\n        f = @faces.dup\n        case news\n        when \"N\"\n            @faces = [f[1], f[5], f[2], f[3], f[0], f[4]]\n        when \"E\"\n            @faces = [f[3], f[1], f[0], f[5], f[4], f[2]]\n        when \"W\"\n            @faces = [f[2], f[1], f[5], f[0], f[4], f[3]]\n        when \"S\"\n            @faces = [f[4], f[0], f[2], f[3], f[5], f[1]]\n        end\n    end\n \n    def right top, front\n        \"SWSWS\".each_char{|c|\n            break if @faces[0] == front\n            rotate c\n        }\n        rotate \"S\"\n        \"WWW\".each_char{|c|\n            break if @faces[0] == top\n            rotate c\n        }\n        @faces[2]\n    end\n \n    def same? faces2\n        return true if @faces == faces2\n        \"WWWWSWWWWSWWWWSWWWWSWSWWWWSSWWW\".each_char{|c|\n            rotate c\n            return true if @faces == faces2\n        }\n        return false\n    end\nend\n \nwhile true\n    n = gets.to_i\n    break if n == 0\n    arr = [gets.chomp.split]\n    (n-1).times{\n        line = gets.chomp.split\n        dice = Dice.new(line)\n        same = false\n        arr.each{|line2|\n            if dice.same?(line2)\n                same = true\n                break\n            end\n        }\n        arr << line unless same\n    }\n    puts n - arr.length\nend\n"
  },
  {
    "language": "Ruby",
    "code": "### constant\n\nCS2CN = {\n  \"Red\" => 1, \"Yellow\" => 2, \"Blue\" => 3,\n  \"Magenta\" => 4, \"Green\" => 5, \"Cyan\" => 6\n}\n\n### subroutines\n\ndef rot_x!(cb)\n  # 1:+y -> 2:+z -> 4:-y -> 3:-z -> 1:+y\n  tmp = cb[1]\n  cb[1] = cb[3]\n  cb[3] = cb[4]\n  cb[4] = cb[2]\n  cb[2] = tmp\nend\n\ndef rot_y!(cb)\n  # 2:+z -> 0:+x -> 3:-z -> 5:-x -> 2:+z\n  tmp = cb[2]\n  cb[2] = cb[5]\n  cb[5] = cb[3]\n  cb[3] = cb[0]\n  cb[0] = tmp\nend\n\ndef rot_z!(cb)\n  # 0:+x -> 1:+y -> 5:-x -> 4:-y -> 0:+x\n  tmp = cb[0]\n  cb[0] = cb[4]\n  cb[4] = cb[5]\n  cb[5] = cb[1]\n  cb[1] = tmp\nend\n\ndef calc_cbi(cb)\n  cbi = 0\n  for cn in cb\n    cbi = cbi * 10 + cn\n  end\n  cbi\nend\n\ndef normalized_cbi(cb)\n  cb0 = cb.clone\n\n  while cb0[0] != 1\n    (cb0[1] != 1) ? rot_y!(cb0) : rot_z!(cb0)\n  end\n\n  min_cbi = calc_cbi(cb0)\n\n  3.times.each do\n    rot_x!(cb0)\n    cbi = calc_cbi(cb0)\n    min_cbi = cbi if min_cbi > cbi\n  end\n\n  min_cbi\nend\n\n### main\n\nwhile true\n  n = gets.strip.to_i\n  break if n == 0\n\n  cbis = {}\n  short = 0\n\n  n.times.each do\n    cb = gets.strip.split(' ').map{|s| CS2CN[s]}\n\n    cbi = normalized_cbi(cb)\n\n    if ! cbis[cbi].nil?\n      short += 1\n    else\n      cbis[cbi] = 1\n    end\n  end\n\n  puts short\nend"
  },
  {
    "language": "Ruby",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n#include <cassert>\n#include <iostream>\n#include <cctype>\n#include <sstream>\n#include <string>\n#include <list>\n#include <vector>\n#include <queue>\n#include <set>\n#include <stack>\n#include <map>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <complex>\n#include <fstream>\nusing namespace std;\ntypedef long long ll;\nconst double EPS = 1e-9;\ntypedef vector<int> vint;\ntypedef pair<int, int> pint;\n#define rep(i, n) REP(i, 0, n)\n#define ALL(v) v.begin(), v.end()\n#define MSG(a) cout << #a << \" \" << a << endl;\n#define REP(i, x, n) for(int i = x; i < n; i++)\ntemplate<class T> T RoundOff(T a){ return int(a+.5-(a<0)); }\ntemplate<class T, class C> void chmax(T& a, C b){ if(a < b) a = b; }\ntemplate<class T, class C> void chmin(T& a, C b){ if(b < a) a = b; }\ntemplate<class T, class C> pair<T, C> mp(T a, C b){ return make_pair(a, b); }\n\nint trans[6][6] =\n{\n\t{1, 3, 4, 5, 2, 6},\n\t{5, 1, 3, 4, 6, 2},\n\t{4, 2, 1, 6, 5, 3},\n\t{3, 2, 6, 1, 5, 4},\n\t{2, 6, 3, 4, 1, 5},\n\t{6, 5, 3, 4, 2, 1}\t\n};\n\nstruct Cube\n{\n\tvector<string> colors;\n\tCube() : colors(6) {}\n\t\n\tCube rotate(int s)\n\t{\n\t\tvector<string> tmp(6);\n\t\trep(i, 6) tmp[trans[s][i]-1] = colors[i];\n\t\tcolors = tmp;\n\t\t\n\t\treturn *this;\n\t}\n};\n\nbool same(Cube a, Cube b)\n{\n\trep(i, 6) if(a.colors[0] == b.colors[i]) b.rotate(i);\n\t\n\trep(i, 4) if(a.colors == b.rotate(0).colors) return true;\n\t\n\treturn false;\n}\n\nstruct UnionFind {\n\tvector<int> data;\n\tUnionFind(int size) : data(size, -1) { }\n\tbool unite(int x, int y) {\n\t\tx = root(x); y = root(y);\n\t\tif (x != y) {\n\t\t\tif (data[y] < data[x]) swap(x, y);\n\t\t\tdata[x] += data[y]; data[y] = x;\n\t\t}\n\t\treturn x != y;\n\t}\n\tbool same(int x, int y) {\n\t\treturn root(x) == root(y);\n\t}\n\tint root(int x) {\n\t\treturn data[x] < 0 ? x : data[x] = root(data[x]);\n\t}\n\tint size(int x) {\n\t\treturn -data[root(x)];\n\t}\n\tint count() {\n\t\tint res = 0;\n\t\trep(i, data.size()) res += data[i] < 0;\n\t\treturn res;\n\t}\n};\n\nint main()\n{\n    int n;\n\twhile(cin >> n && n)\n\t{\n\t\tint ans = 0;\n\t\tvector<Cube> cubes(n);\n\t\t\n\t\trep(i, n) rep(j, 6) cin >> cubes[i].colors[j];\n\t\t\n\t\tUnionFind uft(n);\n\t\trep(i, n) REP(j, i+1, n) uft.unite(i, j);\n\t\t\n\t\tcout << uft.count() << endl;\n\t}\n}"
  },
  {
    "language": "Ruby",
    "code": "table = [[0, 1, 2, 3, 4, 5], [3, 1, 0, 5, 4, 2], [1, 5, 2, 3, 0, 4],\n         [4, 0, 2, 3, 5, 1], [2, 1, 5, 0, 4, 3], [0, 2, 4, 1, 3, 5],\n         [0, 3, 1, 4, 2, 5], [5, 1, 3, 2, 4, 0], [1, 2, 0, 5, 3, 4],\n         [4, 3, 0, 5, 2, 1], [3, 0, 4, 1, 5, 2], [3, 5, 1, 4, 0, 2],\n         [5, 4, 2, 3, 1, 0], [2, 5, 4, 1, 0, 3], [1, 3, 5, 0, 2, 4],\n         [2, 0, 1, 4, 5, 3], [4, 2, 5, 0, 3, 1], [0, 4, 3, 2, 1, 5],\n         [1, 0, 3, 2, 5, 4], [4, 5, 3, 2, 0, 1], [5, 3, 4, 1, 2, 0],\n         [5, 2, 1, 4, 3, 0], [2, 4, 0, 5, 1, 3], [3, 4, 5, 0, 1, 2]]\ncolor_table = %w(Red Yellow Blue Magenta Green Cyan).map\n                .with_index {|c, i| [c, i]}.to_h\n\nuntil (n = gets.to_i).zero?\n  dices = n.times.map { gets.split.map {|c_name| color_table[c_name]} }\n  pool = []\n  count = 0\n  \n  dices.each do |color|\n    check_f = true\n    table.each do |t|\n      next_dice = t.map {|idx| color[idx]}\n      if pool.include?(next_dice)\n        count += 1 if check_f\n        check_f = false\n      else\n        pool << next_dice\n      end\n    end\n  end\n  \n  puts count\nend\n"
  },
  {
    "language": "Ruby",
    "code": "class Die\n  attr_reader :top, :bottom, :front, :back, :left, :right\n  def initialize(list)\n    @top, @front, @right, @left, @back, @bottom = list\n    roll(:clockwise) if @left == \"Red\" || @right == \"Red\"\n    until @top == \"Red\"\n      roll(:front)\n    end\n    front = (@bottom != \"Cyan\") ? \"Cyan\" : \"Green\"\n    4.times do\n      break if @front == front\n      roll(:clockwise)\n    end\n  end\n  def roll(direction)\n    case direction\n      when :front\n        @front, @top, @back, @bottom = [@front, @top, @back, @bottom].rotate(1)\n      when :clockwise\n        @front, @right, @back, @left = [@front, @right, @back, @left].rotate(1)\n    end\n  end\n  def eql?(other)\n    [@top, @bottom, @front, @back, @left, @right] == [other.top, other.bottom, other.front, other.back, other.left, other.right]\n  end\n  def hash\n    [@top, @bottom, @front, @back, @left, @right].hash\n  end\nend\n\nuntil (n = gets.to_i).zero?\n  dice = n.times.map{Die.new(gets.split)}\n  p n - dice.uniq.size\nend"
  },
  {
    "language": "Ruby",
    "code": "a=%w(012345 152304 215043 310542 402351 513240).map{|l|l.chars.map &:to_i}\nb=[nil,[0,3,1,4,2,5],a[0],[0,4,3,2,1,5],[0,2,4,1,3,5]]\np (n=$_.to_i)-(1..n).map{l=gets.split\nm=a[l.index\"Red\"].map{|i|l[i]}\n(b[m.index\"Blue\"]||b[m.index\"Cyan\"]).map{|i|m[i]}}.uniq.size while gets>?1"
  },
  {
    "language": "Ruby",
    "code": "### constant\n\nCS2CN = {\n  \"Red\" => 1, \"Yellow\" => 2, \"Blue\" => 3,\n  \"Magenta\" => 4, \"Green\" => 5, \"Cyan\" => 6\n}\n\n### subroutines\n\ndef rot_x!(cb)\n  # 1:+y -> 2:+z -> 4:-y -> 3:-z -> 1:+y\n  tmp = cb[1]\n  cb[1] = cb[3]\n  cb[3] = cb[4]\n  cb[4] = cb[2]\n  cb[2] = tmp\nend\n\ndef rot_y!(cb)\n  # 2:+z -> 0:+x -> 3:-z -> 5:-x -> 2:+z\n  tmp = cb[2]\n  cb[2] = cb[5]\n  cb[5] = cb[3]\n  cb[3] = cb[0]\n  cb[0] = tmp\nend\n\ndef rot_z!(cb)\n  # 0:+x -> 1:+y -> 5:-x -> 4:-y -> 0:+x\n  tmp = cb[0]\n  cb[0] = cb[4]\n  cb[4] = cb[5]\n  cb[5] = cb[1]\n  cb[1] = tmp\nend\n\ndef calc_cbi(cb)\n  cbi = 0\n  for cn in cb\n    cbi = cbi * 10 + cn\n  end\n  cbi\nend\n\ndef normalized_cbi(cb)\n  cb0 = cb.clone\n  #puts \"normalizing #{cb0}..\"\n\n  while cb0[0] != 1\n    (cb0[1] != 1 && cb0[4] != 1) ? rot_y!(cb0) : rot_z!(cb0)\n  end\n\n  min_cbi = calc_cbi(cb0)\n\n  3.times.each do\n    rot_x!(cb0)\n    cbi = calc_cbi(cb0)\n    min_cbi = cbi if min_cbi > cbi\n  end\n\n  #puts \"  #{cb0}->#{min_cbi}\"\n  min_cbi\nend\n\n### main\n\nwhile true\n  n = gets.strip.to_i\n  break if n == 0\n\n  cbis = {}\n  short = 0\n\n  n.times.each do\n    cb = gets.strip.split(' ').map{|s| CS2CN[s]}\n\n    cbi = normalized_cbi(cb)\n    #p [cb, cbi]\n\n    if ! cbis[cbi].nil?\n      short += 1\n    else\n      cbis[cbi] = 1\n    end\n  end\n\n  puts short\nend"
  },
  {
    "language": "Ruby",
    "code": "loop do\n    n = gets.to_i\n    break if n == 0\n    k = n\n    hash = {}\n    n.times do\n        dice = [0] + gets.chomp.split\n        class << dice\n            def roll!\n                self[1], self[3], self[6], self[4] = self[3], self[6], self[4], self[1]\n            end\n            def spin!\n                self[2], self[3], self[5], self[4] = self[3], self[5], self[4], self[2]\n            end\n        end\n        if dice[6] == 'Red'\n            2.times { dice.roll! }\n        elsif dice[1] != 'Red'\n            dice.spin! until dice[3] == 'Red'\n            dice.roll! \n        end\n        c = dice[2..5].min\n        dice.spin! until dice[2] == c\n        k -= 1 if hash[dice] \n        hash[dice] = 1\n    end\n    p n - k\nend"
  },
  {
    "language": "Go",
    "code": "package main\n\nimport (\n\t\"bufio\"\n\t\"os\"\n\t\"strconv\"\n\t\"strings\"\n\t\t\"reflect\"\n\t\"fmt\"\n)\n\nvar scanner = bufio.NewScanner(os.Stdin)\n\nfunc main() {\n\t// 上面の色を固定してから、左右方向に回転して一致するものがあるかを調べる\n\tround := [][]int{\n\t\t{1,2,3,4,5,6}, {1,3,5,2,4,6}, {1,4,2,5,3,6}, {1,5,4,3,2,6}, // c1を上面に固定して回転\n\t\t{2,6,3,4,1,5}, {2,3,1,6,4,5}, {2,1,4,3,6,5}, {2,4,6,1,3,5}, // c2を上面に固定して回転\n\t\t{3,1,2,5,6,4}, {3,2,6,1,5,4}, {3,5,1,6,2,4}, {3,6,5,2,1,4}, // c3を上面に固定して回転\n\t\t{4,1,5,2,6,3}, {4,2,1,6,5,3}, {4,5,6,1,2,3}, {4,6,2,5,1,3}, // c4を上面に固定して回転\n\t\t{5,1,3,4,6,2}, {5,3,6,1,4,2}, {5,4,1,6,3,2}, {5,6,4,3,1,2}, // c5を上面に固定して回転\n\t\t{6,2,4,3,5,1}, {6,3,2,5,4,1}, {6,5,3,4,2,1}, {6,4,5,2,3,1}, // c6を上面に固定して回転\n\n\t}\n\tfor scanner.Scan() {\n\t\tn, _ := strconv.Atoi(scanner.Text())\n\t\tif n == 0 {\n\t\t\tbreak\n\t\t}\n\t\tcubes := make([][]string, n)\n\t\tfor i := 0; i < n; i++ {\n\t\t\tscanner.Scan()\n\t\t\tcubes[i] = strings.Split(scanner.Text(), \" \")\n\t\t}\n\t\tcheck := func(a, b int) bool {\n\t\t\ttmp := make([]string, 6)\n\t\t\tfor i := 0; i < 24; i++ {\n\t\t\t\tfor j := 0; j < 6; j++ {\n\t\t\t\t\ttmp[j] = cubes[b][round[i][j]-1]\n\t\t\t\t}\n\t\t\t\tif reflect.DeepEqual(tmp, cubes[a]) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false\n\t\t}\n\t\ttbl := make([]int, n)\n\t\t// 全ての組み合わせを調べる\n\t\tfor i := 0; i < n; i++ {\n\t\t\tif tbl[i] == 1 {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tfor j := i+1; j < n; j++ {\n\t\t\t\tif check(i, j) {\n\t\t\t\t\ttbl[j] = 1\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfmt.Println(sum(tbl))\n\t}\n}\n\nfunc sum(a []int) int {\n\tret := 0\n\tfor _, v := range a {\n\t\tret += v\n\t}\n\treturn ret\n}\n"
  },
  {
    "language": "D",
    "code": "import std.stdio;\nimport std.c.stdio;\nimport std.range;\nimport std.array;\nimport std.functional;\nimport std.algorithm;\nimport std.conv;\nimport std.container;\nimport std.math;\nimport std.numeric;\nimport std.string;\nimport std.c.string;\nimport std.regex;\nimport std.typecons;\n\nclass Dice {\n    enum { TOP, FRONT, RIGHT, LEFT, BACK, BOTTOM }\n    char v[6];\n    override bool opEquals(Object o) const {\n        Dice d = cast(Dice)o;\n        foreach (i; 0 .. 6) {\n            if (v[i] != d.v[i]) return false;\n        }\n        return true;\n    }\n    void rollX() { roll(TOP, FRONT, BOTTOM, BACK); }\n    void rollY() { roll(TOP, LEFT, BOTTOM, RIGHT); }\n    void rollZ() { roll(FRONT, RIGHT, BACK, LEFT); }\n    void roll() (int a, int b, int c, int d) {\n        char t = v[a];\n        v[a] = v[b]; v[b] = v[c]; v[c] = v[d]; v[d] = t;\n    }\n    Dice dup() const {\n        Dice ret = new Dice;\n        foreach (i; 0 .. 6) {\n            ret.v[i] = v[i];\n        }\n        return ret;\n    }\n    Dice[] allState() const {\n        Dice[] Ret;\n        Dice d = this.dup;\n        foreach (i; 0 .. 6) {\n            if (i % 2 == 0) d.rollX();\n            else            d.rollY();\n            foreach (j; 0 .. 4) {\n                d.rollZ();\n                Ret ~= d.dup;\n            }\n        }\n        return Ret;\n    }\n    bool isSameDice(in Dice d) const {\n        Dice[] states = allState;\n        return states.any!((a) => a == d);\n    }\n    override string toString() const {\n        return \"Dice: \" ~ v.to!string;\n    }\n}\n \nvoid main() {\n    int N;\n    Dice[] Ds;\n    bool input() {\n        scanf(\"%d\\n\", &N);\n        if (N == 0) return false;\n        Ds = new Dice[N];\n        foreach (i; 0 .. N) {\n            Ds[i] = new Dice;\n            auto F = readln.chomp.split(\" \");\n            foreach (j; 0 .. 6) {\n                Ds[i].v[j] = F[j][0];\n            }\n        }\n        return true;\n    }\n    void solve() {\n        auto dup = new bool[N];\n        int A = 0;\n        foreach (i; 0 .. N) {\n            if (dup[i]) continue;\n            foreach (j; i + 1 .. N) {\n                if (!dup[j] && Ds[i].isSameDice(Ds[j])) {\n                    dup[j] = true;\n                    A++;\n                }\n            }\n        }\n        writeln(dup.count!\"a\");\n    }\n    while (input) solve;\n}"
  },
  {
    "language": "Python",
    "code": "def equal(B):\n    temp=B[:]\n    S=set()\n    for i in range(4):\n        for j in range(4):\n            for k in range(4):\n                roll(0,2,5,3,temp)\n                S.add(tuple(temp))\n            roll(0,1,5,4,temp)\n        roll(1,2,4,3,temp)\n    return S\n\ndef roll(i,j,k,l,temp):\n    t=temp[i]\n    temp[i]=temp[j]\n    temp[j]=temp[k]\n    temp[k]=temp[l]\n    temp[l]=t\n\nwhile True:\n    n=input()\n    if n==0:break\n    L=[raw_input().split() for i in range(n)]\n    cnt=0\n    for i in range(n-1):\n        for j in range(i+1,n):\n            S=equal(L[j])\n            if tuple(L[i]) in S:\n                cnt+=1\n    print cnt"
  },
  {
    "language": "Python",
    "code": "def equal(B):\n    temp=B[:]\n    S=set()\n    for i in range(4):\n        for j in range(4):\n            for k in range(4):\n                roll(0,2,5,3,temp)\n                S.add(tuple(temp))\n                L.append(temp)\n            roll(0,1,5,4,temp)\n        roll(1,2,4,3,temp)\n    return S\n\ndef roll(i,j,k,l,temp):\n    t=temp[i]\n    temp[i]=temp[j]\n    temp[j]=temp[k]\n    temp[k]=temp[l]\n    temp[l]=t\n\nwhile True:\n    n=input()\n    if n==0:break\n    L=[raw_input().split() for i in range(n)]\n    cnt=0\n    for i in range(n-1):\n        for j in range(i+1,n):\n            S=equal(L[j])\n            if tuple(L[i]) in S:\n                cnt+=1\n                break\n    print cnt"
  },
  {
    "language": "Python",
    "code": "def roll(i,j,k,l,temp):\n    t=temp[i]\n    temp[i]=temp[j]\n    temp[j]=temp[k]\n    temp[k]=temp[l]\n    temp[l]=t\n\ndef equal(A,B):\n    temp=B[:]\n    for i in range(4):\n        print temp\n        for j in range(4):\n            for k in range(4):\n                roll(0,2,5,3,temp)\n                if A==temp:return True\n            roll(0,1,5,4,temp)\n        roll(1,2,4,3,temp)\n    return False\n\n\nwhile True:\n    n=input()\n    if n==0:break\n    L=[raw_input().split() for i in range(n)]\n    cnt=0\n    for i in range(n-1):\n        for j in range(i+1,n):\n            if equal(L[i],L[j]):\n                cnt+=1\n    print cnt"
  },
  {
    "language": "Python",
    "code": "def to_top_red(cube):\n  c1, c2, c3, c4, c5, c6 = cube\n  if c2 == \"Red\":\n    c1, c2, c6, c5 = c2, c6, c5, c1\n  elif c3 == \"Red\":\n    c1, c4, c6, c3 = c3, c1, c4, c6\n  elif c4 == \"Red\":\n    c1, c4, c6, c3 = c4, c6, c3, c1\n  elif c5 == \"Red\":\n    c1, c5, c6, c2 = c5, c6, c2, c1\n  elif c6 == \"Red\":\n    c1, c2, c6, c5 = c6, c5, c1, c2\n  return (c1, c2, c3, c4, c5, c6)\n\ndef regist(cube, cube_dic):\n  c1, c2, c3, c4, c5, c6 = cube\n  cube_dic[(c1, c2, c3, c4, c5, c6)] = True\n  cube_dic[(c1, c4, c2, c5, c3, c6)] = True\n  cube_dic[(c1, c3, c5, c2, c4, c6)] = True\n  cube_dic[(c1, c5, c4, c3, c2, c6)] = True\n\nwhile True:\n  n = int(input())\n  if n == 0:\n    break\n\n  cube_dic = {}\n  ans = 0\n  \n  for _ in range(n):\n    cube = to_top_red(input().split())\n    if cube in cube_dic:\n      ans += 1\n    else:\n      regist(cube, cube_dic)\n  \n  print(ans)\n"
  },
  {
    "language": "Python",
    "code": "def roll(i,j,k,l,temp):\n    t=temp[i]\n    temp[i]=temp[j]\n    temp[j]=temp[k]\n    temp[k]=temp[l]\n    temp[l]=t\n\ndef equal(A,B):\n    temp=B[:]\n    for i in range(4):\n        for j in range(4):\n            for k in range(4):\n                roll(0,2,5,3,temp)\n                if A==temp:return True\n            roll(0,1,5,4,temp)\n            if A==temp:return True\n        roll(1,2,4,3,temp)\n        if A==temp:return True\n    return False\n\n\nwhile True:\n    n=input()\n    if n==0:break\n    L=[raw_input().split() for i in range(n)]\n    cnt=0\n    for i in range(n-1):\n        for j in range(i+1,n):\n            if equal(L[i],L[j]):\n                cnt+=1\n    print cnt"
  },
  {
    "language": "Python",
    "code": "N = ((4,2,1,3),(0,2,5,3),(4,5,1,0),(4,0,1,5),(5,2,0,3),(4,3,1,2))\nwhile True:\n    n = input()\n    if n == 0:\n        break\n    s = set()\n    for _ in xrange(n):\n        L = raw_input().split()\n        M = [L[i] for i in N[L.index(\"Red\")]]\n        if \"Blue\" in M:\n            i = M.index(\"Blue\")\n        else:\n            i = M.index(\"Cyan\")\n        s.add(tuple(M[i:] + M[:i]))\n    print n - len(s)"
  },
  {
    "language": "Python",
    "code": "roll = [\n(0,1,2,4,3,5),\n(4,0,2,5,3,1),\n(3,1,0,4,5,2),\n(1,5,2,0,3,4),\n(2,1,5,4,0,3),\n(5,4,2,1,3,0)]\n\ndef zero_move_to_left(xi):\n    r = roll[xi[0]]\n    return [r[i] for i in xi]\n\ndef sort_middle_face(xi):\n    m = xi[1:-1] \n    min_m = min(m)\n    while m[0] != min_m:\n        m = [m[1],m[3],m[0],m[2]]\n    return xi[:1] + m + xi[-1:]\n\nimport sys\nf = sys.stdin\n\n\nstr2i = {'Blue':0, 'Cyan':1, 'Green':2, 'Magenta':3, 'Red':4, 'Yellow':5}\n\nimport collections\nwhile True:\n    n = int(f.readline())\n    if n == 0:\n        break\n    c = collections.Counter()\n    for i in range(n):\n        xi = [str2i[w] for w in f.readline().split()]\n        xi = zero_move_to_left(xi)\n        xi = sort_middle_face(xi)\n        c[tuple(xi)] += 1\n    print(n - len(c))"
  },
  {
    "language": "Python",
    "code": "import copy\n\n\nclass Dice:\n    def __init__(self, a, b, c, d, e, f):\n        self.top = a\n        self.front = b\n        self.right = c\n        self.left = d\n        self.behind = e\n        self.bottom = f\n\n    def S(self):\n        self.top, self.front, self.behind, self.bottom = self.behind, self.top, self.bottom, self.front\n\n    def N(self):\n        self.behind, self.top, self.bottom, self.front = self.top, self.front, self.behind, self.bottom\n\n    def E(self):\n        self.top, self.bottom, self.left, self.right = self.left, self.right, self.bottom, self.top\n\n    def W(self):\n        self.left, self.right, self.bottom, self.top = self.top, self.bottom, self.left, self.right\n\n    def spin(self):\n        self.left, self.behind, self.right, self.front = self.front, self.left, self.behind, self.right\n\n    def __eq__(self, _dice2):\n        dice2 = copy.deepcopy(_dice2)\n        for i in range(4):\n            if self._eqaul(dice2):\n                return True\n            dice2.spin()\n        dice2 = copy.deepcopy(_dice2)\n        dice2.N()\n        dice2.N()\n        for i in range(4):\n            if self._eqaul(dice2):\n                return True\n            dice2.spin()\n        dice2 = copy.deepcopy(_dice2)\n        dice2.N()\n        for i in range(4):\n            if self._eqaul(dice2):\n                return True\n            dice2.spin()\n        dice2 = copy.deepcopy(_dice2)\n        dice2.E()\n        for i in range(4):\n            if self._eqaul(dice2):\n                return True\n            dice2.spin()\n        dice2 = copy.deepcopy(_dice2)\n        dice2.W()\n        for i in range(4):\n            if self._eqaul(dice2):\n                return True\n            dice2.spin()\n        dice2 = copy.deepcopy(_dice2)\n        dice2.S()\n        for i in range(4):\n            if self._eqaul(dice2):\n                return True\n            dice2.spin()\n        return False\n\n    def _eqaul(self, dice2):\n        return self.front == dice2.front and self.behind == dice2.behind and self.left == dice2.left and self.right == dice2.right and self.top == dice2.top and self.bottom == dice2.bottom\n\n    def __repr__(self):\n        return \",\".join([str(object=i) for i in (self.top, self.front, self.right, self.left, self.behind, self.bottom)])\n\n\nwhile True:\n    n=int(input())\n    if n==0:\n        break\n    dices=[]\n    for i in range(n):\n        c=input().split(\" \")\n        dice=Dice(*c)\n        if (dice in dices)==False:\n            dices.append(dice)\n    print(n-len(dices))\n\n"
  },
  {
    "language": "Python",
    "code": "roll = [\n(0,1,2,3,4,5),\n(1,5,2,3,0,4),\n(2,1,5,0,4,3),\n(3,1,0,5,4,2),\n(4,0,2,3,5,1),\n(5,4,2,3,1,0)]\n\ndef zero_move_to_left(xi):\n    r = roll[xi.index(0)]\n    return [xi[ri] for ri in r]\n\ndef sort_middle_face(xi):\n    m = xi[1:-1] \n    min_m = min(m)\n    while m[0] != min_m:\n        m = [m[1],m[3],m[0],m[2]]\n    return xi[:1] + m + xi[-1:]\n\nimport sys\nf = sys.stdin\n\n\nstr2i = {'Blue':0, 'Cyan':1, 'Green':2, 'Magenta':3, 'Red':4, 'Yellow':5}\n\nimport collections\nwhile True:\n    n = int(f.readline())\n    if n == 0:\n        break\n    c = collections.Counter()\n    for i in range(n):\n        xi = [str2i[w] for w in f.readline().split()]\n        xi = zero_move_to_left(xi)\n        xi = sort_middle_face(xi)\n        c[tuple(xi)] += 1\n    print(n - len(c))"
  },
  {
    "language": "Python",
    "code": "D = [\n    (1, 5, 2, 3, 0, 4), # 'U'\n    (3, 1, 0, 5, 4, 2), # 'R'\n    (4, 0, 2, 3, 5, 1), # 'D'\n    (2, 1, 5, 0, 4, 3), # 'L'\n]\np_dice = (0, 0, 0, 1, 1, 2, 2, 3)*3\n\ndef rotate_dice(L0):\n    L = L0[:]\n    for k in p_dice:\n        yield L\n        L[:] = (L[e] for e in D[k])\n\nwhile 1:\n    N = int(input())\n    if N == 0:\n        break\n    res = []\n    for i in range(N):\n        cube = input().split()\n        for dice in rotate_dice(cube):\n            if dice in res:\n                break\n        else:\n            res.append(cube)\n    print(N - len(res))\n"
  },
  {
    "language": "Python",
    "code": "# AOJ 0198 Trouble in Shinagawa's Artifacts\n# Python3 2018.6.20 bal4u\n\nr = [ \\\n\t[0,1,2,3,4,5,6], [0,1,3,5,2,4,6], [0,1,4,2,5,3,6], [0,1,5,4,3,2,6], \\\n\t[0,2,6,3,4,1,5], [0,2,3,1,6,4,5], [0,2,1,4,3,6,5], [0,2,4,6,1,3,5], \\\n\t[0,3,1,2,5,6,4], [0,3,2,6,1,5,4], [0,3,5,1,6,2,4], [0,3,6,5,2,1,4], \\\n\t[0,4,1,5,2,6,3], [0,4,2,1,6,5,3], [0,4,5,6,1,2,3], [0,4,6,2,5,1,3], \\\n\t[0,5,1,3,4,6,2], [0,5,3,6,1,4,2], [0,5,4,1,6,3,2], [0,5,6,4,3,1,2], \\\n\t[0,6,2,4,3,5,1], [0,6,3,2,5,4,1], [0,6,5,3,4,2,1], [0,6,4,5,2,3,1]]\n\ndef same(x, y):\n\tt = ['']*7\n\tfor i in range(24):\n\t\tfor j in range(1, 7): t[j] = a[y][r[i][j]]\n\t\tif a[x] == t: return True\n\treturn False\n\nwhile True:\n\tn = int(input())\n\tif n == 0: break\n\tf = [0]*n\n\ta = [['' for j in range(7)] for i in range(n)]\n\tfor i in range(n):\n\t\ts = list(input().split())\n\t\tfor j in range(6): a[i][j+1] = s[j]\n\tfor i in range(n):\n\t\tif f[i] == 1: continue\n\t\tfor j in range(i+1, n):\n\t\t\tif same(i, j): f[j] = 1\n\tprint(sum(f))\n\n"
  },
  {
    "language": "Python",
    "code": "def roll(i,j,k,l,temp):\n    t=temp[i]\n    temp[i]=temp[j]\n    temp[j]=temp[k]\n    temp[k]=temp[l]\n    temp[l]=t\n\ndef equal(A,B):\n    for i in range(6):\n        for j in range(4):\n            if A==B:return True\n            roll(1,2,4,3,A)\n        if i%2==0:\n            roll(0,2,5,3,A)\n        else:\n            roll(0,1,5,4,A)\n    return False\n\nwhile True:\n    n=input()\n    if n==0:break\n    L=[raw_input().split() for i in range(n)]\n    cnt=0\n    for i in range(n-1):\n        for j in range(i+1,n):\n            if equal(L[i],L[j]):\n                cnt+=1\n    print cnt"
  },
  {
    "language": "Python",
    "code": "def roll(i,j,k,l,temp):\n    t=temp[i]\n    temp[i]=temp[j]\n    temp[j]=temp[k]\n    temp[k]=temp[l]\n    temp[l]=t\n\ndef equal(A,B):\n    temp=B[:]\n    for i in range(3):\n        for j in range(3):\n            for k in range(3):\n                roll(0,2,5,3,temp)\n                if A==temp:return True\n            roll(0,1,5,4,temp)\n            if A==temp:return True\n        roll(1,2,4,3,temp)\n        if A==temp:return True\n    return False\n\n\nwhile True:\n    n=input()\n    if n==0:break\n    L=[raw_input().split() for i in range(n)]\n    cnt=0\n    for i in range(n-1):\n        for j in range(i+1,n):\n            if equal(L[i],L[j]):\n                cnt+=1\n    print cnt"
  },
  {
    "language": "Python",
    "code": "roll = [\n(0,1,2,3,4,5),\n(3,0,2,5,4,1),\n(4,1,0,3,5,2),\n(1,5,2,0,4,3),\n(2,1,5,3,0,4),\n(5,3,2,1,4,0)]\n\ndef zero_move_to_left(xi):\n    r = roll[xi[0]]\n    return [r[i] for i in xi]\n\ndef sort_middle_face(xi):\n    m = xi[1:-1] \n    min_m = min(m)\n    while m[0] != min_m:\n        m = m[1:] + m[:1]\n    return xi[:1] + m + xi[-1:]\n\nimport sys\nf = sys.stdin\n\n\nstr2i = {'Blue':0, 'Cyan':1, 'Green':2, 'Magenta':3, 'Red':4, 'Yellow':5}\n\nimport collections\nwhile True:\n    n = int(f.readline())\n    if n == 0:\n        break\n    c = collections.Counter()\n    for i in range(n):\n        xi = [str2i[w] for w in f.readline().split()]\n        xi = zero_move_to_left(xi)\n        xi = sort_middle_face(xi)\n        c[tuple(xi)] += 1\n    print(n - len(c))"
  },
  {
    "language": "Python",
    "code": "class Dice:\n    same_dice_index = ((0, 1, 2, 3, 4, 5), (0, 2, 4, 1, 3, 5), (0, 3, 1, 4, 2, 5),\n                       (0, 4, 3, 2, 1, 5), (1, 0, 3, 2, 5, 4), (1, 2, 0, 5, 3, 4),\n                       (1, 3, 5, 0, 2, 4), (1, 5, 2, 3, 0, 4), (2, 0, 1, 4, 5, 3),\n                       (2, 1, 5, 0, 4, 3), (2, 4, 0, 5, 1, 3), (2, 5, 4, 1, 0, 3),\n                       (3, 0, 4, 1, 5, 2), (3, 1, 0, 5, 4, 2), (3, 4, 5, 0, 1, 2),\n                       (3, 5, 1, 4, 0, 2), (4, 0, 2, 3, 5, 1), (4, 2, 5, 0, 3, 1),\n                       (4, 3, 0, 5, 2, 1), (4, 5, 3, 2, 0, 1), (5, 1, 3, 2, 4, 0),\n                       (5, 2, 1, 4, 3, 0), (5, 3, 4, 1, 2, 0), (5, 4, 2, 3, 1, 0))\n\n    def __init__(self, str_list):\n        self.faces = str_list\n\n    def is_same(self, dice):\n        for i in Dice.same_dice_index:\n            for n, j in enumerate(i):\n                if dice.faces[n] != self.faces[j]:\n                    break\n            else:\n                return True\n        return False\n\n    def is_unique(self, dices_list):\n        for i in dices_list:\n            if self.is_same(i):\n                return False\n        return True\n\ndef solve():\n    from sys import stdin\n    f_i = stdin\n    \n    ans_list = []\n    \n    while True:\n        n = int(f_i.readline())\n        \n        if n == 0:\n            break\n        \n        dices = [Dice(f_i.readline().split()) for i in range(n)]\n        \n        ans = 0\n        while dices:\n            tmp_dices = []\n            d1 = dices.pop()\n            for d2 in dices:\n                if d1.is_same(d2):\n                    ans += 1\n                else:\n                    tmp_dices.append(d2)\n            dices = tmp_dices\n        \n        ans_list.append(ans)\n    \n    print('\\n'.join(map(str, ans_list)))\n\nsolve()\n"
  }
]