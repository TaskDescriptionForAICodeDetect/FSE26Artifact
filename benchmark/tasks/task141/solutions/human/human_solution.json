[
  {
    "language": "Scala",
    "code": "import scala.annotation.tailrec\n\nobject Main extends App {\n\n  import scala.io.StdIn._\n  f\n\n  def f: Unit = {\n    val n = readLine.trim.toInt\n    if (n == 0) return\n    val num = toCh(List.tabulate(n){ _ ⇒ readLine.trim.toInt})\n    println(n - search(num))\n    f\n  }\n  def search(list: List[Ch]): Int = {\n    def sub(prev: List[Ch], current: Ch, post: List[Ch], max: Int = 0): Int = {\n      prev match {\n        case c::t ⇒ sub(t, c, current::post, List(max, changeFirst(prev, current, post), changeLast(prev, current, post)).max)\n        case _ ⇒ List(max, changeFirst(prev, current, post), changeLast(prev, current, post)).max\n      }\n    }\n    list match {\n      case Nil ⇒ 0\n      case h::t ⇒ sub(t, h, Nil)\n    }\n  }\n  def changeFirst(prev: List[Ch], current: Ch, post: List[Ch]): Int = {\n    (prev, current, post) match {\n      case (Ch(a, n)::t, Ch(_, 1), Ch(b, m)::u) if a == b && n + m >= 3 ⇒ n + m + 1 + remove(t, u)\n      case (Ch(_, n)::t, Ch(a, m), _) if n >= 3 ⇒ if (m == 1) n + 1 + remove(t, post) else n + 1 + remove(t, Ch(a, m - 1)::post)\n      case _ ⇒ 0\n    }\n  }\n  def changeLast(prev: List[Ch], current: Ch, post: List[Ch]): Int = {\n    (prev, current, post) match {\n      case (Ch(a, n)::t, Ch(_, 1), Ch(b, m)::u) if a == b && n + m >= 3 ⇒ n + m + 1 + remove(t, u)\n      case (_, Ch(a, n), Ch(_, m)::t) if m >= 3 ⇒ if (n == 1) m + 1 + remove(prev, t) else m + 1 + remove(Ch(a, n - 1)::prev, t)\n      case _ ⇒ 0\n    }\n  }\n  def remove(prev: List[Ch], post: List[Ch]): Int = {\n    (prev, post) match {\n      case (Ch(a, n)::t, Ch(b, m)::u) if a == b && n + m >= 4 ⇒ n + m + remove(t, u)\n      case _ ⇒ 0\n    }\n  }\n  @tailrec\n  def toCh(list:List[Int], res: List[Ch] = Nil): List[Ch] = {\n    list match {\n      case Nil ⇒ res\n      case h::t ⇒ res match {\n        case Nil ⇒ toCh(t, Ch(h, 1)::res)\n        case Ch(c, n)::rt if c == h ⇒ toCh(t, Ch(c, n + 1)::rt)\n        case _ ⇒ toCh(t, Ch(h, 1)::res)\n      }\n    }\n  }\n  case class Ch(color: Int, num: Int)\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n\nint main(){\n\tvector<int> v;\n\tint n;\n\twhile(cin>>n,n){\n\t\tv.resize(n);\n\t\tfor(int i=0;i<n;i++)cin>>v[i];\n\t\tint ans=n;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(v[i]==j)continue;\n\t\t\t\tint prev=v[i];\n\t\t\t\tv[i]=j;\n\t\t\t\tint a=i,b=i+1;\n\t\t\t\twhile(1){\n\t\t\t\t\tint c=1;\n\t\t\t\t\twhile(0<a&&v[a]==v[a-1])a--,c++;\n\t\t\t\t\twhile(b<n &&v[a]==v[b])b++,c++;\n\t\t\t\t\tif(c<4){\n\t\t\t\t\t\tans=min(ans,n-b+a+c);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(--a==-1){\n\t\t\t\t\t\tans=min(ans,n-b+1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(b==n){\n\t\t\t\t\t\tans=min(ans,a);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tv[i]=prev;\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\n#define mp make_pair\n\ntemplate<class T> void pv(T a, T b) { for (T i = a; i != b; ++i) cout << *i << \" \"; cout << endl; }\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\nint color[10010];\n\nint main() {\n\tint a,b,i,n,res;\n\twhile(n=in()){\n\t\tres=n;\n\t\tfor(i=0;i<n;i++){\n\t\t\tcolor[i]=in();\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tint j,c,r;\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\ta=b=i;\n\t\t\t\tr=n;\n\t\t\t\tc=j;\n\t\t\t\twhile(a-1>=0&&color[a-1]==c)a--;\n\t\t\t\twhile(b+1<n&&color[b+1]==c)b++;\n\t\t\t\tif(b-a<3)continue;\n\t\t\t\tr-=b-a+1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(a==0||b==n-1)break;\n\t\t\t\t\ta--;b++;\n\t\t\t\t\tif(color[a]!=color[b])break;\n\t\t\t\t\tc=color[a];\n\t\t\t\t\twhile(a-1>=0&&color[a-1]==c)a--;\n\t\t\t\t\twhile(b+1<n&&color[b+1]==c)b++;\n\t\t\t\t\tif(b-a-(n-r)<3)break;\n\t\t\t\t\tr-=b-a-(n-r)+1;\n\t\t\t\t}\n//cout<<i<<\" \"<<j<<\" \"<<r<<endl;\n\t\t\t\tchmin(res,r);\n\t\t\t}\n\t\t}\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#pragma GCC optimize(\"Ofast\")\n#define all(x) (x).begin(),(x).end()\n#define rep(i,n) for(int (i)=0;i<(n);i++)\n#define REP(i,m,n) for(int (i)=(m);(i)<(n);(i)++)\n#define INF LLONG_MAX - 100\n#define MOD 1000000007\n#define fcout cout << fixed << setprecision(15)\n#define int long long\n#define yorn(f) puts((f)?\"Yes\":\"No\")\n#define YORN(f) puts((f)?\"YES\":\"NO\")\n#define lowb lower_bound\n#define upb upper_bound\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef priority_queue<int> pque;\nint gcd(int a,int b){return b?gcd(b,a%b):a;};\nint lcm(int a,int b){return a/gcd(a,b)*b;};\nint mod(int a,int b){return (a+b-1)/b;};\nint month[12] = {31,28,31,30,31,30,31,31,30,31,30,31};\ntemplate<typename A, size_t N, typename T>\nvoid Fill(A(&array)[N],const T &val){std::fill((T*)array,(T*)(array+N),val);}\ntemplate<class T>inline bool chmax(T& a,T b){if(a<b){a=b;return true;}return false;};\ntemplate<class T>inline bool chmin(T& a,T b){if(a>b){a=b;return true;}return false;};\n\nint N;\nint a[10010];\n\nint chain(int x, int c) {\n\tint l = x - 1, r = x + 1;\n\twhile(1) {\n\t\tif(l == -1 && r == N) break;\n\t\tint ch_l = 0, ch_r = 0;\n\t\tint color;\n\t\tbool is_fir = 0; // 初回のみの判定\n\n\t\t// 初回\n\t\tif(l == x - 1 && r == x + 1) {\n\t\t\tcolor = c;\n\t\t\tis_fir = 1;\n\t\t}\n\t\telse if(l != -1) color = a[l];\n\t\telse color = a[r];\n\n\t\t// 初回でないとき　\n\t\tif(0 <= l && r < N && !is_fir && a[l] != a[r]) break;\n\t\tfor(int i = l; i >= 0; i--) {\n\t\t\tif(color == a[i]) ch_l++;\n\t\t\telse break;\n\t\t}\n\t\tfor(int i = r; i < N; i++) {\n\t\t\tif(color == a[i]) ch_r++;\n\t\t\telse break;\n\t\t}\n\n\t\t// 連鎖判定\n\t\tif(ch_l + ch_r >= 4 || (ch_l + ch_r >= 3 && is_fir)) {\n\t\t\tl -= ch_l;\n\t\t\tr += ch_r;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// 個数の計算\n\tif(l == x - 1 && r == x + 1) return N;\n\treturn N - (r - l - 1);\n}\n\nsigned main() {\n\tcin.tie(0);\n\tcout.tie(0);\n\tios::sync_with_stdio(false);\n\n    while(cin >> N, N) {\n        rep(i, N) cin >> a[i];\n\tint ans = INF;\n\trep(i, N) {\n\t\trep(j, 3) chmin(ans, chain(i, j));\n\t}\n\n\tcout << ans << endl;\n    }\n\t\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<map>\n#include<set>\n#include<list>\n#include<iomanip>\n#include<vector>\n#include<random>\n#include<functional>\n#include<algorithm>\n#include<cstdio>\n#include<unordered_map>\nusing namespace std;\n//---------------------------------------------------\n//????????????????????????????????????\n#define int long long\n#define str string\n#define rep(i,j) for(int i=0;i<(int)(j);i++)\ntypedef long long ll;\ntypedef long double ld;\nconst ll inf = 4523372036854775807;\nconst ll Mod = 1000000007;\nconst ll gosenchou = 5000000000000000;\nshort gh[2][4] = { { 0,0,-1,1 },{ -1,1,0,0 } };\nstruct P {\n\tll pos, cost;\n};\nbool operator<(P a, P b) { return a.cost < b.cost; }\nbool operator>(P a, P b) { return a.cost > b.cost; }\nstruct B {//??£??\\???????????¨???\n\tll to, cost;\n};\nstruct S {//???????????±?????\\???????????°\n\tint from, to, cost;\n};\nstruct H {\n\tint x, y;\n};\nbool operator<(H a, H b) {\n\tif (a.x != b.x) return a.x < b.x;\n\treturn a.y < b.y;\n}\nbool operator>(H a, H b) {\n\tif (a.x != b.x) return a.x > b.x;\n\treturn a.y > b.y;\n}\nll gcm(ll i, ll j) {//?????§??¬?´???°\n\tif (i > j) swap(i, j);\n\tif (i == 0) return j;\n\treturn gcm(j%i, i);\n}\nld rad(ld a, ld b, ld c, ld d) {\n\treturn sqrt(pow(a - c, 2) + pow(b - d, 2));\n}//rad?????§?¨???????2??????????????¢\nint ari(int a, int b, int c) {\n\treturn (a + b)*c / 2;\n}//????????°?????????\nbool suf(ld a, ld b, ld c, ld d) {\n\tif (b <= c || d <= a) return 0;\n\treturn 1;\n}//[a,b),[c,d)\n//---------------------------------------------------\n//+++++++++++++++++++++++++++++++++++++++++++++++++++\nint n, a[10000];\nbool b[10000];\nint solve() {\n\tfill(b, b + n, 1);\n\tbool l = 1;\n\twhile (l) {\n\t\tl = 0;\n\t\tfor (int i = 0; i < n; ) {\n\t\t\tif (!b[i])\n\t\t\t\tcontinue;\n\t\t\tint j = i, sum = 0;\n\t\t\twhile (j < n && (a[i] == a[j] || !b[j])) {\n\t\t\t\tj++;\n\t\t\t\tif (b[j])\n\t\t\t\t\tsum++;\n\t\t\t}\n\t\t\tif (sum >= 4) {\n\t\t\t\tfor (int x = i; x < j; x++)\n\t\t\t\t\tb[x] = 0;\n\t\t\t\tl = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti = j;\n\t\t}\n\t}\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++)\n\t\tif (b[i])\n\t\t\tans++;\n\treturn ans;\n}\nsigned main() {\n\twhile (cin >> n&&n != 0) {\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcin >> a[i];\n\t\tint ans = inf;\n\t\tif (n < 4) {\n\t\t\tcout << n << endl;\n\t\t\treturn 0;\n\t\t}\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint f = a[i];\n\t\t\tif (i < n - 1 && a[i + 1] != a[i]) {\n\t\t\t\ta[i] = a[i + 1];\n\t\t\t\tans = min(ans, solve());\n\t\t\t\ta[i] = f;\n\t\t\t}\n\t\t\telse if (i > 0 && a[i - 1] != a[i]) {\n\t\t\t\ta[i] = a[i - 1];\n\t\t\t\tans = min(ans, solve());\n\t\t\t\ta[i] = f;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\tgetchar(); getchar();\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\n\nint main(){\n  int n;\n  vector<int> a;\n\n  while(scanf(\"%d\",&n) && n){\n    a.resize(n);\n    for(int i=0;i<n;i++)scanf(\"%d\",&a[i]);\n\n    int ans = n;\n    for(int i=0;i<n;i++){\n      for(int j=1;j<=3;j++){\n\tif(a[i] == j)continue;\n\n\tvector<int> v = a;\n\tv[i] = j;\n\n\n\tfor(;;){\n\t  int prv = 0,color = a[0],num = 1;\n\t  for(int i=1;i<(int)v.size();i++){\n\t    if(v[i] == color)num++;\n\t    else{\n\t      if(4<=num)break;\n\t      color = v[i];\n\t      num = 1;\n\t      prv = i;\n\t    }\n\t  }\n\n\t  if(4<=num)for(int i=0;i<num;i++)v.erase(v.begin()+prv);\n\t  else break;\n\t}\n\tans = min(ans,(int)v.size());\n      }\n    }\n    printf(\"%d\\n\",ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n\nint m;\nint C[10000];\nint L[10000];\n\nvoid input(const int n){\n\tm=0;\n\tcin >> C[m];\n\tL[m] = 1;\n\tfor(int i=1; i<n; ++i){\n\t\tint c;\n\t\tcin >> c;\n\t\t\n\t\tif(C[m] == c){\n\t\t\t++L[m];\n\t\t}else{\n\t\t\t++m;\n\t\t\tC[m] = c;\n\t\t\tL[m] = 1;\n\t\t}\n\t}\n\t++m;\n}\n\nint check(int low, int hih){\n\tint ret = 0;\n\tif(0 <= low && L[low] >= 4 && (hih>=m || C[low] != C[hih])){\n\t\tret += L[low];\n\t\tlow --;\n\t}\n\tif( hih<m && L[hih]>=4 && (low<0 || C[low] != C[hih])){\n\t\tret += L[hih];\n\t\thih ++;\n\t}\n\twhile(0 <= low && hih < m && C[low] == C[hih] && L[low] + L[hih] >= 4){\n\t\tret += L[low] + L[hih];\n\t\tlow--;\n\t\thih++;\n\t}\n\treturn ret;\n}\n\nint solve(){\n\tint ret = 0;\n\tfor(int i=0; i<m; ++i){\n\t\tL[i]--;\n\t\tif(i+1 < m){\n\t\t\tL[i+1]++;\n\t\t\tif(L[i]>0){\n\t\t\t\tret = max(ret, check(i  , i+1));\n\t\t\t}else{\n\t\t\t\tret = max(ret, check(i-1, i+1));\n\t\t\t}\n\t\t\tL[i+1]--;\n\t\t}\n\t\tif(i-1 >= 0){\n\t\t\tL[i-1]++;\n\t\t\tif(L[i]>0){\n\t\t\t\tret = max(ret, check(i-1, i));\n\t\t\t}else{\n\t\t\t\tret = max(ret, check(i-1, i+1));\n\t\t\t}\n\t\t\tL[i-1]--;\n\t\t}\n\t\tL[i]++;\n\t}\n\treturn ret;\n}\n\nint main(){\n\twhile(true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tinput(n);\n\t\tcout << (n - solve()) << endl;\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input;\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t}\n\n\t\tint answer = 10000000;\n\t\tvector<int> points;\n\t\tfor(int i=1;i<array.size()-1;i++){\n\t\t\tif(array[i-1] != array[i] || array[i+1] != array[i]){\n\t\t\t\tpoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<points.size();i++){\n\t\t\tstring memo = array;\n\t\t\tvector<char> list;\n\t\t\tif(memo[points[i]] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[points[i]] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[points[i]] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[10001]={};\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(memo.size() == 0){\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tint size = memo.size();\n\t\t\t\tanswer = min(answer,size);\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nbool ignore[N];\nint chain[N];\n\nvoid clear_ignore()\n{\n    fill( ignore, ignore + N, false );\n}\n\nvoid clear()\n{\n    fill( chain, chain + N, 0 );\n    clear_ignore();\n}\n\n\nint del( int const num, int const befig )\n{\n    int ignum = 0;\n    int begin = 0, count = 0, last = chain[0];\n    for( int i=0; i<=num; ++i ) {\n        if ( i < num && ignore[i] )\n            continue;\n        int const cur = ( i < num ) ? chain[i] : -1;\n        if ( cur == last ) {\n            ++count;\n        } else {\n            if ( ( i - begin ) >= ( 4 + befig ) ) {\n                for( int ii=begin; ii<i; ++ii ) {\n                    if ( !ignore[ii] ) {\n                        ignore[ii] = true;\n                        ++ignum;\n                    }\n                }\n            }\n            begin = i;\n            count = 0;\n            last = chain[i];\n        }\n        if ( i == num )\n            break;\n    }\n    if ( ignum == 0 )\n        return 0;\n\n    while( int const p = del( num, befig + ignum ) )\n        ignum += p;\n    \n    return ignum;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        int max_n = n - del( n, 0 );\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                clear_ignore();\n                chain[i] = ii;\n                \n                if ( i > 1 && chain[i-1] != chain[i] && i < n-1 && chain[i] != chain[i+1] )\n                    continue;\n\n                int const num = n - del( n, 0 );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define N_MAX 10000\nusing namespace std;\n\nint N;\nint M[N_MAX];\n\nvoid fall(int m[]) {\n  for(int i = N-1; i >= 0; i--) {\n    if(i-1 >= 0 && m[i] == 0 && m[i-1] != 0) {\n      int j;\n      for(j = i+1; j < N && m[j] == 0; j++);\n      j--;\n      m[j] = m[i-1];\n      m[i-1] = 0;\n    }\n  }\n}\n\nint del(int m[]) {\n  int delNum = 0;\n  int cnt[4];\n  int bfr = -1;\n  for(int i = 0; i < N; i++) {\n    if(m[i] != bfr) {\n      cnt[0] = cnt[1] = cnt[2] = cnt[3] = 0;\n    }\n    if(m[i] != 0) {\n      cnt[m[i]]++;\n    }\n    bfr = m[i];\n    if(cnt[bfr] == 4) {\n      for(int j = 0; j < 4; j++) {\n\tm[i-j] = 0;\n\tdelNum++;\n      }\n    } else if(cnt[bfr] > 4) {\n      m[i] = 0;\n      delNum++;\n    }\n  }\n  return delNum;\n}\n\nint high(int m[]) {\n  for(int i = N-1; i >= 0; i--) {\n    if(m[i] == 0) return N-i-1;\n  }\n  return N;\n}\n\nvoid cp(int m[]) {\n  for(int i = 0; i < N; i++) {\n    m[i] = M[i];\n  }\n}\n\nint solve() {\n  int mini = N;\n  int m[N_MAX];\n  for(int i = 0; i < N; i++) {\n    for(int j = 1; j <= 3; j++) {\n      if(M[i] == j) continue;\n      cp(m);\n      m[i] = j;\n      while(del(m)) {\n\tfall(m);\n      }\n      mini = min(mini, high(m));\n    }\n  }\n  return mini;\n}\n\nint main() {\n  while( ( cin >> N ) && N ) {\n    for(int i = 0; i < N; i++) {\n      cin >> M[i];\n    }\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define reps(i,b,n) for(int i = b ; i < n ; ++i )\n#define rep(i,n) reps(i,0,n)\n#define INF (1 << 30)\nint n,table[10000];\nint solve(int l){\n  int r = l + 1 , cnt = n;\n  while(true){\n    int color = table[l] , dis = 0;\n    while(table[l] == color && l >= 0 && ++dis) l--;\n    while(table[r] == color && r < n && ++dis) r++;\n    if(dis < 4) return cnt;\n    else cnt -= dis;\n  }\n}\nint main(){\n  while(cin >> n , n){\n    int ans = INF;\n    rep(i,n) cin >> table[i];\n    rep(i,n) reps(j,1,4) swap(j,table[i]) , ans = min(ans,solve(i)) , swap(j,table[i]);\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "\n\n#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\nint s = 0;\npair<int, int> color[2][20000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[100];\n\nvoid check(int bb, int ss)\n{\n\tlost[1] = lost[0];\n\tint count = 1;\n\tfor (int i = bb; i < n; i++)\n\t{\n\t\tif (color[1][bb].second == color[1][i].second && color[1][i].first != 0)\n\t\t{\n\t\t\tcolor[1][i].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse if (color[1][bb].second == color[1][i + lost[1]].second && color[1][i + lost[1]].first != 0)\n\t\t{\n\t\t\tcolor[1][i + lost[1]].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tbb--;\n\n\tif (lost[0] != lost[1])\n\t{\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb - 1].second)\n\t\t\t{\n\t\t\t\tbb--;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb + count + lost[0]].second)\n\t\t\t{\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (count >= 4)\n\t\t{\n\t\t\tcheck(bb, ss);\n\t\t}\n\t}\n\tresult[ss] = min(result[ss], n - lost[0]);\n}\n\nint main()\n{\n\tfor (;; s++)\n\t{\n\t\tcin >> n;\n\n\t\tif (n == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int a = 0; a < 10000; a++)\n\t\t{\n\t\t\tcolor[0][a].first = 1;\n\t\t}\n\n\t\tresult[s] = n;\n\n\t\tfor (int a = 0; a < n; a++)\n\t\t{\n\t\t\tcin >> color[0][a].second;\n\t\t}\n\n\t\tfor (a = 0; a < n-3; a++)\n\t\t{\n\t\t\tfor (; b < n - 3; b++)\n\t\t\t{\n\t\t\t\tlost[0] = 0;\n\t\t\t\tfor (int t = 0; t < n; t++)\n\t\t\t\t{\n\t\t\t\t\tcolor[1][t] = color[0][t];\n\t\t\t\t}\n\t\t\t\tif (color[1][b] == color[1][b + 1] && color[1][b + 1] == color[1][b + 2])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 3] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[1][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 2] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 1] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int t = 0; t < s; t++)\n\t{\n\t\tcout << result[t] << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4) tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.clear();\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      fprintf(stderr, \"1\");\n      tmp[i] = j;\n      fprintf(stderr, \"1\");\n      res = min(res, solve());\n    }\n    \n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\t//cout<<\"wwww\"<<endl;\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\t//cout<<\"ttttt\"<<endl;\n\t\tif(c>=4){\n\t\t\tfor(int z=0;z<c;z++){\n\t\t\t\t//cout<<\"jjjjj\"<<endl;\n\t\t\t\tif((j+z)>n)break;\n\t\t\t\tb[i+z]=b[j+z];\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\t//cout<<n-c<<endl;\n\t\t\t//cout<<i<<\" \"<<j<<\" \"<<c<<\" \"<<n<<\" \"<<n-c<<endl;\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n, ans;\nint a[10000];\n\nint d(int x, int c){\n\tint b[n];\n\tfor(int i=0; i<n; i++){\n\t\tb[i] = a[i];\n\t}\n\tb[x] = c;\n\twhile(1){\n\t\tbool f = false;\n\t\tfor(int i=0; i<n-3; i++){\n\t\t\tif(b[i] != 0){\n\t\t\t\tif(b[i] == b[i+1] && b[i] == b[i+2] && b[i] == b[i+3]){\n\t\t\t\t\tf = true;\n\t\t\t\t\tint e = b[i];\n\t\t\t\t\tb[i] = 0;\n\t\t\t\t\tb[i+1] = 0;\n\t\t\t\t\tb[i+2] = 0;\n\t\t\t\t\tb[i+3] = 0;\n\t\t\t\t\tfor(int j=i+4; j<n; j++){\n\t\t\t\t\t\tif(b[j] == e) b[j] = 0;\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j=i; j<n; j++){\n\t\t\t\t\t\tif(b[j] == 0){\n\t\t\t\t\t\t\tfor(int k=j+1; k<n; k++){\n\t\t\t\t\t\t\t\tif(b[k] != 0){\n\t\t\t\t\t\t\t\t\tb[j] = b[k];\n\t\t\t\t\t\t\t\t\tb[k] = 0;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!f) break;\n\t}\n\tint g = 0;\n\tfor(int i=0; i<n; i++){\n\t\tif(b[i] != 0) g++;\n\t}\n\tif(g == 6){\n\t\tprintf(\"\\n\");\n\t\tfor(int i=0; i<n; i++){\n\t\t\tprintf(\"%d\\n\", b[i]);\n\t\t}\n\t}\n\treturn g;\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(int i=0; i<10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\tans = 100100100;\n\t\tfor(int i=0; i<n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\tfor(int i=0; i<n; i++){\n\t\t\tfor(int j=1; j<4; j++){\n\t\t\t\tif(a[i] != j) ans = min(ans, d(i, j));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define Rep(i,N) for(int i = 0; i < N; i++)\ntypedef pair<int,int> Pi;\n#define F first\n#define S second\n#define pb push_back\n#define INF 1 << 28\n\ninline void chmin(int &a,int b) {\n  a = min(a,b);\n}\n\ninline void chmax(int &a,int b) {\n  a = max(a,b);\n}\n\nint main()\n{\n  int N;\n  while(cin >> N,N) {\n    int data[10005];\n    vector<Pi>val;\n    int save = -1, cnt;\n    Rep(i,N) {\n      cin >> data[i]; --data[i];\n      if(data[i] == save)cnt++;\n      else {\n\tif(save != -1)val.pb(Pi(save,cnt));\n\tcnt = 1;\n\tsave = data[i];\n      }\n    }\n    val.pb(Pi(save,cnt));\n    int m[2] = {0,val.size() - 1};\n    int of[2] = {-1,1};\n    int maxv = -INF;\n    Rep(i,val.size()) {\n      if(val[i].S == 3) {\n\t++val[i].S;\n\tRep(j,2) {\n\t  if(i != m[j]) {\n\t    int s = i + of[j], sum = 0, k, l;\n\t    --val[s].S;\n\t    if(val[s].S == 0)s += of[j];\n\t    if(j)k = i,l = s;\n\t    else k = s,l = i;\n\t    while(k >= 0 && l < val.size()) {\n\t      if(val[k].F == val[l].F) {\n\t\tint value = val[k].S + val[l].S;\n\t\tif(value >= 4)k--,l++,sum += value;\n\t\telse break;\n\t      } else if(val[k].S >= 4) {\n\t\tsum += val[k--].S;\n\t      } else if(val[l].S >= 4) {\n\t\tsum += val[l--].S;\n\t      } else {\n\t\tbreak;\n\t      }\n\t    }\n\t    chmax(maxv,sum);\n\t    ++val[s].S;\n\t  }\n\t}\n\t--val[i].S;\n      }\n    }\n    if(maxv == -INF)maxv = 0;\n    cout << N - maxv << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\nint main(void){\n\n    for(;;){\n        int n;\n        int a[10005]={0};\n        int b[10005]={0};\n        int z[10005]={0};\n        int y=0;\n        int k=0;\n        int w,q;\n        int count=0,m;\n        cin>> n;\n        if(n==0)break;\n        m=n;\n        int j=0,flag=0,flag2=0;\n        for(int i=0;i<n;i++){\n            cin >> a[i];\n            b[i]=a[i];\n        }\n\n\n                for(w=1;w<=3;w++){\n                    for(q=0;q<n;q++){\n                        for(int c=0;c<n;c++){\n                            a[c]=b[c];\n                        }\n                        a[q]=w;\n                        //cout<<a[q]<<\"+\"<<q<<endl;\n                        for(int p=0;p<n;p++){\n                            if(a[p+1]!=0&&a[p]!=0&&a[p]==a[p+1]){\n                                for(k=0;k<n-p;k++){\n                                    //cout<<k<<\"!\"<<p<<endl;\n                                    if(a[p+k]!=a[p+k+1])break;\n\n                                }\n\n\n                        if(k>=3){\n\n\n\n\n                for(;;){\n                    flag=0;\n                    j=0;\n                    for(int i=0;i<n;i++){\n                        if(a[i+1]!=0&&a[i]!=0&&a[i]==a[i+1]){\n\n                            for(j=0;j<n-i;j++){\n\n                                if(a[i+j]!=a[i+j+1]){\n\n                                     //cout<<i<<\".\"<<j<<endl;\n                                     break;\n                                }\n\n                            }\n                            if(j>=3){\n                                flag=1;\n                                for(int g=0;g<j+1;g++){\n                                    if(i+g<n){\n                                        a[i+g]=-1;\n                                       // cout<<\"oo\"<<i+g<<endl;\n\n\n\n                                    }\n                                }\n                                for(int s=0;s<n;s++){\n                                    if(a[s]==-1){\n                                        for(int t=s;t<n;t++){\n                                      //     cout<<i<<\"+++\"<<j<<endl;\n                                            a[t]=a[t+j+1];\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if(flag==0)break;\n                }\n                        }\n                    }\n                }\n\n\n\n\n\n                count=0;\n                for(int i=0;i<n;i++){\n                    if(a[i]!=0)count++;\n                }\n               // cout<<m<<\"#\"<<count<<\"--a[\"<<q<<\"]=\"<<w<<endl;\n                m=min(count,m);\n                    }\n                }\n\n\n        cout<<m<<endl;\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define INF 100000005\n#define MAX 100001\n#define dmp make_pair\n#define dpb push_back\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\n\nint a[10000];\nint solve(int p, int n){\n\tint l = p-1, r = p+1, t;\n\tint s1, s2, ans = 0, f = 1;\n\twhile(0 <= l){\n\t\tt = a[l];\n\t\ts1 = s2 = 0;\n\t\tif(f)s1 = 1, f = 0;\n\t\t//if(p == 5)printf(\"%d %d %d\\n\", l, r, t);\n\t\twhile(0 <= l && a[l] == t){\n\t\t\ts1++;l--;\n\t\t}\n\t\twhile(r < n && a[r] == t){\n\t\t\ts2++;r++;\n\t\t}\n\t\tif(s1+s2 >= 4){\n\t\t\tans += s1+s2;\n\t\t}else break;\n\t}\n\treturn n-ans;\n}\n\nint main(){\n\tint n, ans;\n\twhile(1){\n\tscanf(\"%d\", &n);\n\t\tans = INF;\n\t\trep(i,n)scanf(\"%d\", &a[i]);\n\t\tfor(int i = 1;i < n-1;i++){\n\t\t\tans = min(ans, solve(i, n));\n\t\t}\n\t\tif(ans == INF)printf(\"%d\\n\", n-1);\n\t\telse printf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000]={0},o[10000]={0};\ninline int X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t\tif(u>=4){\n\t\t\tt=1;\n\t\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t\t}\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(f,0,sizeof(f));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif( (i!=n-1&&p[i]!=p[i+1]&&1+f[i+1]>=4) || i!=0&&p[i]!=p[i-1]&&1+f[i-1]>=4||p[i+1]==p[i-1]&&i!=0&&i!=n-1&&f[i]+f[i+1]+f[i-1]>=4&&f[i]==1){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\n\t\t\t\t\tm=min(m,X(n));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include \"iostream\"\n#include \"climits\"\n#include \"list\"\n#include \"queue\"\n#include \"stack\"\n#include \"set\"\n#include \"functional\"\n#include \"algorithm\"\n#include \"math.h\"\n#include \"utility\"\n#include \"string\"\n#include \"map\"\n#include \"unordered_map\"\n#include \"iomanip\"\n#include \"random\"\n\nusing namespace std;\nconst long long int MOD = 1000000007;\n\nint N;\nint num[10000];\nint box[10000];\nint t, b;\nint ans;\nint bag;\nint fig;\nint color;\n\nint main(){\n\tcin >> N;\n\twhile (N) {\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> num[i];\n\t\t\tnum[i]--;\n\t\t}\n\t\tans = N;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tbox[i] = num[i];\n\t\t}\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 0; j < 3; j++) {\n\t\t\t\tif (box[i] == j)continue;\n\t\t\t\tbox[i] = j;\n\t\t\t\tbag = 1;\n\t\t\t\tt = i;\n\t\t\t\tb = i;\n\t\t\t\tfor (int k = t - 1; k >= 0; k--) {\n\t\t\t\t\tif (num[k] == j) {\n\t\t\t\t\t\tbag++;\n\t\t\t\t\t\tt = k;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tfor (int k = b + 1; k < N; k++) {\n\t\t\t\t\tif (num[k] == j) {\n\t\t\t\t\t\tbag++;\n\t\t\t\t\t\tb = k;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tif (bag < 4) {\n\t\t\t\t\tbox[i] = num[i];\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfig = 0;\n\t\t\t\twhile (bag > 3) {\n\t\t\t\t\tfig += bag;\n\t\t\t\t\tans = min(ans, N - fig);\n\t\t\t\t\tbag = 0;\n\t\t\t\t\tif (t - 1 < 0)continue;\n\t\t\t\t\tif (b + 1 >= N)continue;\n\t\t\t\t\tcolor = t - 1;\n\t\t\t\t\tfor (int k = t - 1; k >= 0; k--) {\n\t\t\t\t\t\tif (num[k] == num[color]) {\n\t\t\t\t\t\t\tbag++;\n\t\t\t\t\t\t\tt = k;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = b + 1; k < N; k++) {\n\t\t\t\t\t\tif (num[k] == num[color]) {\n\t\t\t\t\t\t\tbag++;\n\t\t\t\t\t\t\tb = k;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t\tcin >> N;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nstd::vector<Chainber> v;\n\nint water(int uChain, int lChain){\n\tint res = 0;\n\n\tfor(;uChain>=0&&lChain<v.size();uChain--,lChain++){\n\t\tif((v[uChain].color == v[lChain].color) && (v[uChain].size + v[lChain].size >= 4)){\n\t\t\tres += v[uChain].size + v[lChain].size;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nint fish(int i, int abs){\n\tint res = 0, uChain = i-1, lChain = i+1;\n\tres = v[i].size + 1;\n\tv[i+abs].size--;\n\tif(!v[i+abs].size){\n\t\tif(i+abs*2 >= 0 && v[i].color == v[i+abs*2].color){\n\t\t\tres += v[i+abs*2].size;\n\t\t\t*(abs<0?&uChain:&lChain) = i+abs*3;\n\t\t}else{\n\t\t\t*(abs<0?&uChain:&lChain) = i+abs*2;\n\t\t}\n\t}\n\n\tres += water(uChain, lChain);\n\n\tv[i+abs].size++;\n\n\treturn res;\n}\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\t\tv.clear();\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tif(v[i].size >= 3){\n\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t}\n\t\t}\n\n\t\tif(v.size() >= 3){\n\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\tint destroyChara = 0,\n\t\t\t\t\tupperChara = i-1, lowerChara = i+1;\n\t\t\t\t//v[i]が両辺一個を変える\n\t\n\t\t\t\tif(v[i].size >= 3){\n\n\t\t\t\t\tminChara = std::min(minChara,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tn - std::max(fish(i, -1),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t fish(i, 1)));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n#include <stack>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nbool used[10005];\n\nvoid prints(stack<P> st) {\n\twhile(st.size()) {\n\t\tP p = st.top(); st.pop();\n\t\tcout << \"(\" << p.first << \",\" << p.second << \") \";\n\t}\n\tcout << endl;\n}\n\nint func(vector<int> v) {\n\tstack<P> st;\n\n\trep(i, v.size()) {\n\t\tint len = 1;\n\t\tREP(j, i+1, v.size()) {\n\t\t\tif(v[i] == v[j]) {\n\t\t\t\ti++;\n\t\t\t\tlen++;\n\t\t\t\tcontinue;\n\t\t\t} else break;\n\t\t}\n\n\t\tif(len >= 4) continue;\n\t\telse {\n\t\t\tif(st.size() == 0) {\n\t\t\t\tst.push(mp(v[i], len));\n\t\t\t} else {\n\t\t\t\tP p = st.top();\n\t\t\t\tif(p.first == v[i]) {\n\t\t\t\t\tst.pop();\n\t\t\t\t\tif(p.second + len < 4) {\n\t\t\t\t\t\tst.push(mp(v[i], p.second + len));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tst.push(mp(v[i], len));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// prints(st);\n\t}\n\n\tint ret = 0;\n\twhile(st.size()) {\n\t\tret += st.top().second;\n\t\tst.pop();\n\t}\n\treturn ret;\n}\n\nint main() {\n\tint n;\n\tcin >> n;\n\n\tvector<int> v(n);\n\trep(i, n) cin >> v[i];\n\n\tint ans = n + 1;\n\trep(i, n) {\n\t\tint t = v[i];\n\n\t\tv[i] = 1;\n\t\tans = min(ans, func(v));\n\n\t\tv[i] = 2;\n\t\tans = min(ans, func(v));\n\n\t\tv[i] = 3;\n\t\tans = min(ans, func(v));\n\n\t\tv[i] = t;\n\t}\n\n\tcout << ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <vector>\n#include <string>\n#include <map>\n#include <queue>\n#include <cstdlib>\n#include <algorithm>\n#include <iterator>\nusing namespace std;\n\n/*\nconst int MAX_E=2*(100-1);\nconst int MAX_V=100;\nconst long long int INF=100000000;\nstruct edge { int from,to,cost;};\nedge es[MAX_E];\n//int d[MAX_V];\nint V,E;\nvoid shortest_path(int s,int e,vector<int>& d);\nint main(){\n\tint n,k;\n\twhile(cin >> n >> k&&n!=0&&k!=0){\n\t\tint V=n;\n\t\tint E=2*(n-1);\n\t\tvector<int> land(V);\n\t\tint l=0;\n\t\tfor(int i=0; i<E; ++i){\n\t\t\tes[i].cost=-1;\n\t\t\tes[i].from=-1;\n\t\t\tes[i].to=-1;\n\t\t}\n\t\tfor(int i=0; i<k; ++k){\n\t\t\tint m;\n\t\t\tcin >> m;\n\t\t\tif(m==0){\n\t\t\t\tint a,b;\n\t\t\t\tcin >> a >> b;\n\t\t\t\tshortest_path(a,b,land);\n\t\t\t\tcout << land[b] << \"\\n\";\n\t\t\t} else if(m==1){\n\t\t\t\tint c,d,e;\n\t\t\t\tcin >> c >> d >> e;\n\t\t\t\tes[l].from=c;\n\t\t\t\tes[l].to=d;\n\t\t\t\tes[l].cost=e;\n\t\t\t\tes[l+1].from=d;\n\t\t\t\tes[l+1].to=c;\n\t\t\t\tes[l+1].cost=e;\n\t\t\t\tl+=2;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n\nvoid shortest_path(int s,int e,vector<int>& d){\n\tcout << \"ok1\\n\";\n\tfor(int i=0; i<V; ++i) {\n\t\tcout << \"ok\\n\";\n\t\td[i]=INF;\n\t}\n\td[s]=0;\n\twhile(true){\n\t\tcout << \"ok2\\n\";\n\t\tbool update=false;\n\t\tfor(int i=0; i<E; ++i){\n\t\t\tedge e=es[i];\n\t\t\tif(d[e.from]!=INF&&d[e.to]>d[e.from]+e.cost){\n\t\t\t\td[e.to]=d[e.from]+e.cost;\n\t\t\t\tupdate=true;\n\t\t\t}\n\t\t}\n\t\tif(!update) break;\n\t}\n}\n*/\n\nconst int INF=100000000;\nint main(){\n\tint n;\n\twhile(cin >> n&&n!=0){\n\t\tvector<int> color;\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tint t;\n\t\t\tcin >> t;\n\t\t\tcolor.push_back(t);\n\t\t}\n\t\tint maxDel=INF;\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tfor(int j=1; j<=3; ++j){\n\t\t\t\tif(color[i]==j) continue;\n\t\t\t\tint up=i-1;\n\t\t\t\tint down=i+1;\n\t\t\t\tint sum=0;\n\t\t\t\tint c=1;\n\t\t\t\tint col=j;\n\t\t\t\twhile(1){\n\t\t\t\t\tint nCal=-1;\n\t\t\t\t\twhile(1){\n\t\t\t\t\t\tif(up<0) break;\n\t\t\t\t\t\tif(color[up]!=col){\n\t\t\t\t\t\t\tnCal=color[up];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tup--;\n\t\t\t\t\t\tc++;\n\t\t\t\t\t}\n\t\t\t\t\twhile(1){\n\t\t\t\t\t\tif(down>=n) break;\n\t\t\t\t\t\tif(color[down]!=col){\n\t\t\t\t\t\t\tif(nCal==-1) nCal=color[down];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t++down;\n\t\t\t\t\t\t++c;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\tsum+=c;\n\t\t\t\t\t} else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tc=0;\n\t\t\t\t\tif(nCal==-1){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcol=nCal;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmaxDel=min(maxDel,n-sum);\n\t\t\t}\n\t\t}\n\t\tcout << maxDel << \"\\n\";\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n, sum, sub, puyo[10000];\n\n\nvoid solve(int a, int b){\n\twhile(puyo[--a] == puyo[++b]){\n\t\tfor(int i = a; i > 0; i--){\n\t\t\tsum++;\n\t\t\tif(puyo[i] != puyo[i - 1]){\n\t\t\t\ta = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i = b; i < n; i++){\n\t\t\tsum++;\n\t\t\tif(puyo[i] != puyo[i + 1]){\n\t\t\t\tb = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(sum >= 4){\n\t\t\tsub -= sum;\n\t\t} else{\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tsum = 0;\n\t}\n\t\n\treturn;\n}\n\n\nint main() {\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tint ans = 1000000;\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tsub = n;\n\t\t\t\n\t\t\tif(puyo[i - 1] == puyo[i + 1]){\n\t\t\t\tsum = 1;\n\t\t\t\tsolve(i, i);\n\t\t\t} else{\n\t\t\t\tif(puyo[i - 3] == puyo[i - 2] && puyo[i - 2] == puyo[i - 1]){\n\t\t\t\t\tsum = 0;\n\t\t\t\t\tsub -= 4;\n\t\t\t\t\tsolve(i - 3, i);\n\t\t\t\t}\n\t\t\t\tif(puyo[i + 1] == puyo[i + 2] && puyo[i + 2] == puyo[i + 3]){\n\t\t\t\t\tsum = 0;\n\t\t\t\t\tsub -= 4;\n\t\t\t\t\tsolve(i, i + 3);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(vector<Pair> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(vector<int> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(vector<Pair> v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n\tfor (int i = 0, j = 0; j<a.size();){\n\t\tif (a[j] == a[j + 1])j++;\n\t\telse {\n\t\t\tif (j - i>2){\n\t\t\t\ta.erase(a.begin() + i, a.begin() + j + 1);\n\t\t\t\ti = j = 0;\n\t\t\t}\n\t\t\telse j++, i = j;\n\t\t}\n\t}\n\treturn a.size();\n}\n\nint main(void){\n\tint n, m;\n\tvector<int>a;\n\n\twhile (cin >> n, n){\n\t\ta.clear();\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tcin >> m;\n\t\t\ta.push_back(m);\n\t\t}\n\n\t\tint ans = 100000000;\n\t\tfor (int i = 0; i<a.size(); i++){\n\t\t\tif ((i != 0 && a[i - 1] != a[i]) && (i + 1 != n && a[i + 1] != a[i])) continue;\n\t\t\tint temp = a[i];\n\t\t\tfor (int j = 1; j<4; j++){\n\t\t\t\tif (temp != j){\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tans = min(ans, Erase(a));\n\t\t\t\t}\n\t\t\t}\n\t\t\ta[i] = temp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nvoid counter(int);\n\nint color,n,m,puyo[10000],N;\n\nint main(){\n\n  int Min,number,original;\n  bool check;\n  \n  while(1){\n    \n    cin >>N;\n    \n    if(N == 0)break;\n    \n    Min=10001;\n    \n    for(int i=0 ; i < N ; i++){\n      cin >>puyo[i];\n    }\n    \n    for(int k=1 ; k < N-1 ; k++){\n      \n      if(puyo[k-1] == puyo[k+1]){\n\t\n\toriginal=puyo[k];\n\tpuyo[k]=puyo[k-1];\n\t\n\tcheck = true;\n\t\n\twhile(1){\n\t  \n\t  if(check == false)break;\n\t  \n\t  check=false;\n\t  \n\t  for(int i=0 ; i < N ; i++){\n\t    n=0;\n\t    m=0;\n\t    if(puyo[i] !=0 ){\n\t      color=puyo[i];\n\t      counter(i);\n\t    }      \n\t    if(n >= 4){\n\t      for(int j=0 ; j < m ; j++){\n\t\tpuyo[i+j]=0;\n\t\tcheck=true;\n\t      }\n\t    }\n\t  } \n\t}\n\t\n\tnumber=0;\n\tfor(int i=0 ; i < N ; i++){\n\t  if(puyo[i] != 0)number++;\n\t}\n\t\n\tif(number < Min)Min = number;\n\t\n\tpuyo[k]=original;\n\t\n      }\n    }\n    \n    cout <<Min<<endl;\n    \n  }\n  return 0;\n}\nvoid counter(int i){\n  \n  m++;\n  \n  if(puyo[i] != 0){\n    n++;\n  }\n  \n  if( i >= 0 && i < N-1 ){\n    if(color == puyo[i+1] || puyo[i+1] == 0){\n      counter(i+1);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<map>\n#include<set>\n#include<vector>\n#include<algorithm>\n#include<string.h>\n#include<queue>\n#include<stack>\n#include<climits>\n#include<cmath>\n#include<stdio.h>\nusing namespace std;\n\nint ar[10002];\n\nint main(){\n    int n;\n    while(cin>>n,n){;\n        for(int i=0;i<n;i++){\n            cin>>ar[i];\n        }\n        int ans=INT_MAX;\n        for(int i=0;i<n;i++){\n            int cur=ar[i];\n            for(int j=1;j<=3;j++){\n                ar[i]=j;\n                int l=i,r=i;\n                while(1){\n                    int dl=0;\n                    int dr=0;\n                    while(l-dl>0&&ar[l-dl-1]==ar[r]){\n                        dl++;\n                    }\n                    while(r+dr<n-1&&ar[r+dr+1]==ar[l]){\n                        dr++;\n                    }\n                    if(l>=0&&r<=n-1&&dl+dr+1+(l!=r)>3){\n                        l-=dl+1;r+=dr+1;\n                    } else {\n                        break;\n                    }\n                }\n                ans=min(l+1+n-r,ans);\n            }\n            ar[i]=cur;\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4) tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.clear();\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    \n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\nint main(void){\n\n    for(;;){\n        int n;\n        int a[10005]={0};\n        int b[10005]={0};\n        int z[10005]={0};\n        int y=0;\n        int k=0;\n        int w,q;\n        int count=0,m;\n        cin>> n;\n        if(n==0)break;\n        m=n;\n        int j=0,flag=0,flag2=0;\n        for(int i=0;i<n;i++){\n            cin >> a[i];\n            b[i]=a[i];\n        }\n\n\n                for(w=1;w<=3;w++){\n                    for(q=1;q<n-1;q++){\n                        for(int c=0;c<n;c++){\n                            a[c]=b[c];\n                        }\n                        a[q]=w;\n                        //cout<<a[q]<<\"+\"<<q<<endl;\n                        for(int p=0;p<n;p++){\n                            if(a[p+1]!=0&&a[p]!=0&&a[p]==a[p+1]){\n                                for(k=0;k<n-p;k++){\n                                    //cout<<k<<\"!\"<<p<<endl;\n                                    if(a[p+k]!=a[p+k+1])break;\n\n                                }\n\n\n                        if(k>=3){\n\n\n\n\n                for(;;){\n                    flag=0;\n                    j=0;\n                    for(int i=0;i<n;i++){\n                        if(a[i+1]!=0&&a[i]!=0&&a[i]==a[i+1]){\n\n                            for(j=0;j<n-i;j++){\n\n                                if(a[i+j]!=a[i+j+1]){\n\n                                     //cout<<i<<\".\"<<j<<endl;\n                                     break;\n                                }\n\n                            }\n                            if(j>=3){\n                                flag=1;\n                                for(int g=0;g<j+1;g++){\n                                    if(i+g<n){\n                                        a[i+g]=-1;\n                                       // cout<<\"oo\"<<i+g<<endl;\n\n\n\n                                    }\n                                }\n                                for(int s=0;s<n;s++){\n                                    if(a[s]==-1){\n                                        for(int t=s;t<n;t++){\n                                      //     cout<<i<<\"+++\"<<j<<endl;\n                                            a[t]=a[t+j+1];\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if(flag==0)break;\n                }\n                        }\n                    }\n                }\n\n\n\n\n\n                count=0;\n                for(int i=0;i<n;i++){\n                    if(a[i]!=0)count++;\n                }\n               // cout<<m<<\"#\"<<count<<\"--a[\"<<q<<\"]=\"<<w<<endl;\n                m=min(count,m);\n                    }\n                }\n\n\n        cout<<m<<endl;\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nint chain(int idx,int col);\nint model[10002];\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = n;\n      memset(model,0,sizeof(model));\n      for(int i = 0;i < n;i++){\n         scanf(\"%d\",&model[i]);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return n;\n   int c[10002];\n   int f[10002] = {0};\n   for(int i = 0;i < n;i++){\n      if(idx == i)\n         c[i] = col;\n      else c[i] = model[i];\n   }\n   c[n] = 100;\n\n   while(1){\n      int flag = 0;\n      int curr = c[0],cnt = 1;\n      for(int i = 1;i <= n;i++){\n         if(c[i] == 0) continue;\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 1;\n               for(int j = 0;j < cnt;j++){\n                  if(f[i-1-j] == 1) cnt++;\n                  f[i-1-j] = 1;\n                  c[i-1-j] = 0;\n               }\n               break;\n            }\n            cnt = 1;\n         }\n      }\n      if(flag == 0) break;\n   }\n\n   int cnt = 0;\n   for(int i = 0;i < n;i++){\n      if(f[i] == 0) cnt++;\n   }\n   return cnt;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint main(void){\n\tfor(;;){\n            int ans=10000;\n            int n;\n            cin>>n;\n\n            if(n==0)break;\n            int puyo[11000]={0};\n            for(int i=0;i<n;i++){\n                cin>>puyo[i];\n            }\n            //in\n            int sub;\n            for(int a=0;a<n;a++){\n                for(int b=1;b<=3;b++){\n                    sub=puyo[a];\n                    puyo[a]=b;\n                    int mem=-1,cnt=1;\n                    int meml=0;\n                    int left=n;\n                    //つながり検出\n                        for(int i=1;i<n;i++){\n                            if(puyo[i]==puyo[i-1]){\n                                cnt++;\n                            }\n                            else cnt=1;\n                            if(cnt>=4){\n                                meml=max(meml,cnt);\n                                mem=i-meml;\n                                //memは連鎖するぷよの一つ上\n                                //memeは連鎖するぷよの一つ下\n\n                            }\n                        }\n                        left-=meml;\n\n                    int rem=meml;\n                    //つながり検出\n                    //連鎖計算\n                    //cout<<\"-\"<<meml<<endl;\n\n                    for(;;){\n                    int meme=mem+meml+1;\n                    int kem=mem;\n                    rem=1;\n                   // cout<<mem<<\" \"<<meme<<endl;\n                        for(int i=mem-1;i>=0;i--){\n                            if(puyo[i]==puyo[kem]){\n                                rem++;\n                        //        cout<<rem<<\"-\"<<i<<endl;\n\n                            }\n                            else {\n                                mem=i;\n                                break;\n                            }\n                        }\n                        for(int j=meme;j<n;j++){\n                            if(puyo[j]==puyo[kem]){\n                                rem++;\n                         //       cout<<rem<<\"+\"<<j<<endl;\n\n                            }\n                            else {\n                                meme=j;\n                                break;\n                            }\n                        }\n                        if(rem>=4){\n                       //     cout<<\"0\";\n                        }\n                        else break;\n                        left-=rem;\n                        meml+=rem;\n                    }\n                    ans=min(ans,left);\n                    puyo[a]=sub;\n                }\n            }\n            //連鎖計算\n            cout<<ans<<endl;\n\n\t}\n\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = 100000;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = 10000;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tif (start == 0)break;\n\t\t\t\t\tif (end == num - 1)break;\n\t\t\t\t\tstart -=(left+1);\n\t\t\t\t\tend +=(right+1);\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start)ans = num - end + start;\n\t\t\t}\n\t\t}\n\t\tif (ans != num)ans++;\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n \nusing namespace std;\n \ntypedef vector<int> vi;\n \nint n;\n \nint f(vi a, int n, int idx)\n{\n\tvi kesu;\n \n\tfor (int i = idx + 1; i < n; ++i) {\n\t\tif (a[i] != a[idx]) break;\n\t\tkesu.push_back(i);\n\t}\n\tfor (int i = idx - 1; i >= 0; --i) {\n\t\tif (a[i] != a[idx]) break;\n\t\tkesu.push_back(i);\n\t}\n \n\tif (kesu.size() < 3) return n;\n \n\twhile (!kesu.empty()) {\n\t\ta[kesu.back()] = 0;\n\t\tkesu.pop_back();\n\t}\n\ta[idx] = 0;\n \n\tvi b;\n \n\tint nextidx = -1;\n \n\tfor (int i = 0; i < n; ++i) {\n\t\tif (a[i]) {\n\t\t\tb.push_back(a[i]);\n\t\t\tif (nextidx == -1 && i >= 1 && a[i - 1] == 0) {\n\t\t\t\tnextidx = b.size() - 1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (nextidx == -1) {\n\t\t\t\tif (!b.empty()) {\n\t\t\t\t\tnextidx = i - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n \n   return f(b, b.size(), nextidx); \n}\n \nint calc(vi a, int n, int idx)\n{\n\tvi b = a;\n\tif (idx >= 3 && a[idx - 1] == a[idx - 2] && a[idx - 2] == a[idx - 3]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx <= n - 4 && a[idx + 1] == a[idx + 2] && a[idx + 2] == a[idx + 3]) {\n\t\tb[idx] = b[idx + 1];\n\t} else if (idx >= 2 && idx <= n - 2 && a[idx - 1] == a[idx - 2] && a[idx - 1] == a[idx + 1]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx >= 1 && idx <= n - 3 && a[idx - 1] == a[idx + 1] && a[idx - 1] == a[idx + 2]) {\n\t\tb[idx] = b[idx - 1];\n\t} else {\n\t\treturn n;\n\t}\n \n\treturn f(b, b.size(), idx);\n}\n \nint main()\n{\n\twhile (scanf(\"%d\", &n), n) {\n\t\tvi arr;\n \n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tint a; scanf(\"%d\", &a);\n\t\t\tarr.push_back(a);\n\t\t}\n \n\t\tint mi = 10001;\n \n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tmi = min(mi, calc(arr, arr.size(), i));\n\t\t}\n \n\t\tprintf(\"%d\\n\", mi);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\nint tmp[11234][3];\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color][1]; i <= bound[num][color][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color][1] - 1] == A[bound[num][color][0] + 1]) {\n\t\t\tres += solve(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t}\n\t\telse {\n\t\t\tint tmp = 0;\n\t\t\ttmp += how_same(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t\ttmp += how_same(bound[num][color][1] - 1, A[bound[num][color][1] - 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t}\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\t// printf(\"%d\", ans);\n\t\t\t\t\t// printf(\"(%d,%d)\\n\", i + 1, j);\n\t\t\t\t\tfor (int k = 0; k < N; ++k) {\n\t\t\t\t\t\t// printf(\"%d\", A[k]);\n\t\t\t\t\t\tA[k] = memo_A[k];\n\t\t\t\t\t}\n\t\t\t\t\t// printf(\"\\n----------\\n\");\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\n#include<utility>\n#include<cmath>\n#include<ctime>\n#include<complex>\n\nusing namespace std;\n\n#define REP(i,s,e) for(int i=int(s);i<=int(e);i++)\n#define rep(i,n) for(int i=0;i<int(n);i++)\n\n\nvoid f(vector<int>& x){\n\n\tint r=x.size();\n    if(r<4) return;\n    else{\n\n    \tint p;\n        bool b=false;\n    \t\tREP(i,0,r-4){\n    \t\tif(x[i]==x[i+1] && x[i]==x[i+2] && x[i]==x[i+3]){\n    \t\t\tp=i; b=true; break;\n    \t\t}\n    \t\t}\n\n            if(b){\n                if((x[p]!=x[p+4] && p+4<r) || p+4==r){ x.erase(x.begin()+p,x.begin()+p+4); f(x);}\n                else if(x[p]==x[p+4] && ((x[p]!=x[p+5] && p+5<r) || p+5==r)){ x.erase(x.begin()+p,x.begin()+p+5); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && ((x[p]!=x[p+6] && p+6<r) || p+6==r)){ x.erase(x.begin()+p,x.begin()+p+6); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]==x[p+6] && p+6<r){ x.erase(x.begin()+p,x.begin()+p+7); f(x);}\n\n              }\n\n            else return;\n\n    }\n\n\t}\n\nint main(){\n\n\twhile(1){\n\n\t\tint N,a;\n\t\tvector<int>s;\n\n\t\tcin >> N;\n\t\tif(N==0) break;\n\n\t\trep(i,N){\n\t\t\tcin >> a;\n\t\t\ts.push_back(a);\n\t\t}\n\n\t\tif(N<4){ cout << N << endl;}\n\t\telse{\n\n\t\t\tvector<pair<int,int> >v;\n\n\t\t\tREP(i,0,N-4){\n\t\t\t\tif(s[i]!=s[i+1] && s[i+1]==s[i+2] && s[i+1]==s[i+3])\n\t\t\t\tv.push_back(make_pair(i,s[i+1]));\n\t\t\t}\n\n\t\t\tREP(i,3,N-1){\n\t\t\t\tif(s[i]!=s[i-1] && s[i-1]==s[i-2] && s[i-1]==s[i-3])\n\t\t\t\tv.push_back(make_pair(i,s[i-1]));\n\t\t\t}\n\n\t\t\tREP(i,1,N-3){\n\t\t\t\tif(s[i]!=s[i-1] && s[i-1]==s[i+1] && s[i-1]==s[i+2])\n\t\t\t\tv.push_back(make_pair(i,s[i-1]));\n\t\t\t}\n\n\t\t\tREP(i,2,N-2){\n\t\t\t\tif(s[i]!=s[i-1] && s[i-1]==s[i-2] && s[i-1]==s[i+1])\n\t\t\t\tv.push_back(make_pair(i,s[i-1]));\n\t\t\t}\n\n\t\t\tsort(v.begin(),v.end());\n\t\t\tvector<pair<int,int> >::iterator it=unique(v.begin(),v.end());\n\t\t\tv.erase(it,v.end());\n\n\t\t\tvector<int>s1=s;\n\t\t\tif(v.empty()) cout << N << endl;\n\t\t\telse{\n\t\t\tint M=10000;\n\t\t\trep(i,v.size()){\n\t\t\t\ts1[v[i].first]=v[i].second;\n\t\t\t\tf(s1);\n\t\t\t\tif(M>s1.size()) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t     cout << M << endl;\n\n\t    }\n\n\t\ts.clear(); v.clear();\n\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n\nint calc( vector<int> src, int p, int q ){\n\tint i, j;\n\n\tdo {\n\t\tfor( i=0; src[p-i]==src[p] && p-i>0; i++ );\n\t\tfor( j=0; src[q+j]==src[q] && q+j<src.size(); j++ );\n\t\tif( i+j < 4 ) return p+src.size()-q;\n\t\tp -= i; q += j;\n\t} while( src[p] == src[q] );\n\n\treturn p+src.size()-q;\n}\n\nint main(void)\n{\n\tint n, M, i, tmp, new_val;\n\tvector<int> chain;\n\n\twhile( cin >> n, n!=0 ){\n\t\tchain.resize(n+1);\n\n\t\tchain[0] = chain[n] = 0;\n\t\tfor( i=1; i<=n; i++ )\n\t\t\tcin >> chain[i];\n\n\t\tM = 10001;\n\t\tfor( i=2; i<n; i++ ){\n\t\t\tif( chain[i]!=chain[i-1] ){\n\t\t\t\ttmp = chain[i];\n\t\t\t\tchain[i] = chain[i-1];\n\t\t\t\tnew_val = calc( chain, i-1, i );\n\t\t\t\tif( M > new_val )\n\t\t\t\t\tM = new_val;\n\t\t\t\tchain[i] = tmp;\n\t\t\t}\n\t\t\tif( chain[i]!=chain[i+1] ){\n\t\t\t\ttmp = chain[i];\n\t\t\t\tchain[i] = chain[i+1];\n\t\t\t\tnew_val = calc( chain, i, i+1 );\n\t\t\t\tif( M > new_val )\n\t\t\t\t\tM = new_val;\n\t\t\t\tchain[i] = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << M << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\n#include<utility>\n#include<cmath>\n#include<ctime>\n#include<complex>\n\nusing namespace std;\n\n#define REP(i,s,e) for(int i=int(s);i<=int(e);i++)\n#define rep(i,n) for(int i=0;i<int(n);i++)\n\nvector<int>s;\nvoid f(vector<int>& x){\n\n\tint r=x.size();\n    if(r<4) return;\n    else{\n\n    \tint p;\n        bool b=false;\n    \t\tREP(i,0,r-4){\n    \t\tif(x[i]==x[i+1] && x[i]==x[i+2] && x[i]==x[i+3]){\n    \t\t\tp=i; b=true; break;\n    \t\t}\n    \t\t}\n\n            if(b){\n                if((x[p]!=x[p+4] && p+4<r) || p+4==r){ x.erase(x.begin()+p,x.begin()+p+4); f(x);}\n                else if(x[p]==x[p+4] && ((x[p]!=x[p+5] && p+5<r) || p+5==r)){ x.erase(x.begin()+p,x.begin()+p+5); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && ((x[p]!=x[p+6] && p+6<r) || p+6==r)){ x.erase(x.begin()+p,x.begin()+p+6); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]==x[p+6] && p+6<r){ x.erase(x.begin()+p,x.begin()+p+7); f(x);}\n\n              }\n\n            else return;\n\n    }\n\n\t}\n\nint main(){\n\n\twhile(1){\n\n\t\tint N,a;\n\n\t\tcin >> N;\n\t\tif(N==0) break;\n\n\t\trep(i,N){\n\t\t\tcin >> a;\n\t\t\ts.push_back(a);\n\t\t}\n\n\t\tif(N<4){ cout << N << endl;}\n\t\telse{\n\n\t\tvector<int>s1=s; int M=10000;\n\t\trep(i,N){\n\n\t\t\tif((s1[i]==1 && s1[i+1]!=1 && s1[i-1]!=1 && i-1>=0 && i+1<N) || s1[0]==1 || s1[N-1]==1){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif((s1[i]==2 && s1[i+1]!=2 && s1[i-1]!=2 && i-1>=0 && i+1<N) || s1[0]==2 || s1[N-1]==2){\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif((s1[i]==3 && s1[i+1]!=3 && s1[i-1]!=3 && i-1>=0 && i+1<N) || s1[0]==3 || s1[N-1]==3){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t}\n\n\t\tcout << M << endl;\n\n\t\ts.clear();\n\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <iostream>\n#include <vector>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, T b) { if(b < a) a = b; }\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tfor(int n; cin >> n, n;) {\n\t\tvector<int> c(1, 1), color;\n\t\tint first;\n\t\tcin >> first;\n\n\t\tcolor.push_back(first);\n\t\t\n\t\tfor(int i = 1; i < n; ++i) {\n\t\t\tint in;\n\t\t\tcin >> in;\n\n\t\t\tif(in == color[color.size() - 1])\n\t\t\t\t++c[c.size() - 1];\n\n\t\t\telse {\n\t\t\t\tcolor.push_back(in);\n\t\t\t\tc.push_back(1);\n\t\t\t}\n\t\t}\n\n\t\tint ans = n;\n\t\tfor(int i = 1; i < c.size() - 1; ++i) {\n\t\t\tif(c[i] == 1 && color[i - 1] == color[i + 1] && c[i - 1] + c[i + 1] >= 3) {\n\t\t\t\tint l = i - 1, r = i + 1;\n\t\t\t\twhile(l >= 0 && r < c.size() && color[l] == color[r] && c[l] + c[r] >= 4) {\n\t\t\t\t\t--l;\n\t\t\t\t\t++r;\n\t\t\t\t}\n\n\t\t\t\tint tmp = 0;\n\t\t\t\tfor(int j = 0; j <= l; ++j)\n\t\t\t\t\ttmp += c[j];\n\n\t\t\t\tfor(int j = r; j < c.size(); ++j)\n\t\t\t\t\ttmp += c[j];\n\n\t\t\t\tchmin(ans, tmp);\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nvoid counter(int);\n\nint color,n,m,puyo[10000],N;\n\nint main(){\n\n  int Min,number,puyo_original[10000];\n  bool check;\n  \n  while(1){\n    \n    cin >>N;\n    \n    if(N == 0)break;\n    \n    Min=10001;\n    \n    for(int i=0 ; i < N ; i++){\n      cin >>puyo_original[i];\n    }\n    \n    for(int k=0 ; k < N ; k++){\n      for(int l=1 ; l < 4 ; l++){\n\t\n\tfor(int i=0 ; i < N ; i++){\n\t  puyo[i]=puyo_original[i];\n\t}\n\t\n\tpuyo[k]=l;\n\t\n\tcheck = true;\n\t\n\twhile(1){\n\t  \n\t  if(check == false)break;\n\t  \n\t  check=false;\n\t  \n\t  for(int i=0 ; i < N ; i++){\n\t    n=0;\n\t    m=0;\n\t    if(puyo[i] !=0 ){\n\t      color=puyo[i];\n\t      counter(i);\n\t    }      \n\t    if(n >= 4){\n\t      for(int j=0 ; j < m ; j++){\n\t\tpuyo[i+j]=0;\n\t\tcheck=true;\n\t      }\n\t    }\n\t  } \n\t}\n\t\n\tnumber=0;\n\tfor(int i=0 ; i < N ; i++){\n\t  if(puyo[i] != 0)number++;\n\t}\n\t\n\tif(number < Min)Min = number;\n\t\n      }\n    }\n\n    cout <<Min<<endl;\n    \n  }\n  return 0;\n}\nvoid counter(int i){\n  \n  m++;\n  \n  if(puyo[i] != 0){\n    n++;\n  }\n  \n  if( i >= 0 && i < N ){\n    if(color == puyo[i+1] || puyo[i+1] == 0){\n      counter(i+1);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#define INF (500000)\nusing namespace std;\n\nint array[20000];\n\nint main()\n{\n\tint N;\n\twhile (scanf(\"%d\", &N), N){\n\t\tmemset(array, 0, sizeof(array));\n\t\t\n\t\tfor (int i = 1; i <= N; i++){\n\t\t\tscanf(\"%d\", &array[i]);\n\t\t}\n\t\t\n\t\tint mini = INF;\n\t\t\n\t\tfor (int i = 1; i <= N; i++){\n\t\t\tfor (int j = 0; j < 2; j++){\n\t\t\t\tarray[i] = array[i] % 3 + 1;\n\t\t\t\t\n\t\t\t\tint u = i;\n\t\t\t\tint d = i;\n\t\t\t\tint color;\n\t\t\t\tint cnt = 4;\n\t\t\t\tint sum = 0;\n\t\t\t\t\n\t\t\t\twhile (cnt >= 4) {\n\t\t\t\t\tif (sum == 0){\n\t\t\t\t\t\tcnt = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcnt = 0;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (array[d + 1] == 0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcolor = array[d + 1];\n\t\t\t\t\t\n\t\t\t\t\twhile (array[u - 1] == color){\n\t\t\t\t\t\tu--;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t\twhile (array[d + 1] == color){\n\t\t\t\t\t\td++;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (cnt >= 4){\n\t\t\t\t\t\tsum += cnt;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmini = min(mini, N - sum);\n\t\t\t}\n\t\t\t\n\t\t\tarray[i] = array[i] % 3 + 1;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", mini);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+2);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+1]);\n        }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int tmp = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = tmp;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 9999999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t/*\n\t\t\t// 色を変えたところで意味のない部分は考えない(悪いけどごり押し) ここから-----\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tif (character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i == N - 1)\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j && character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ----- ここまで\n\t\t\t*/\n\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k++)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 最初から探索し直す\n\t\t\t\t\tk = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\n\t\t\tans = min(ans , (int)search.size());\n\t\t\t// 0なら探索終了\n\t\t\tif (search.empty() == true)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f){\n    f = 0;\n    int n = tmp[0], c = 0;\n    rep(i, N){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.clear();\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    \n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\n\nint main(){\n\tint n = 0;\n\tint color[][2] = {{0, 0}, {2, 3}, {1, 3}, {1, 2}};\n\twhile(cin >> n && n != 0){\n\t\tvector<int> line;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint tmp = 0;\n\t\t\tcin >> tmp;\n\t\t\tline.push_back(tmp);\n\t\t}\n\n\t\tint minch = n;\n\t\tfor(int i = 0; i < n; i++){ \n\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\tvector<int> copyline = line;\n\t\t\t\tif(i == 0){\n\t\t\t\t\tif(color[line[i]][j] != line[i+1]) continue;\n\t\t\t\t}\n\t\t\t\telse if(i == n-1){\n\t\t\t\t\tif(color[line[i]][j] != line[i-1]) continue;\n\t\t\t\t}\n\t\t\t\telse if(color[line[i]][j] != line[i+1] && color[line[i]][j] != line[i-1]) continue;\n\t\t\t\tcopyline[i] = color[line[i]][j];\n\t\t\t\tint count = 1;\n\t\t\t\tfor(int k = 0; k < n-1; k++){\n\t\t\t\t\tif(!copyline[k]) continue;\n\t\t\t\t\tint progress = 1;\n\t\t\t\t\twhile(!copyline[k+progress] && k+progress<copyline.size()) progress++;\n\t\t\t\t\tif(copyline[k] != copyline[k+progress]){\n\t\t\t\t\t\tif(count >= 4){\n\t\t\t\t\t\t\tint target = copyline[k];\n\t\t\t\t\t\t\tfor(int l = k; copyline[l] == 0 || copyline[l] == target; l--){\n\t\t\t\t\t\t\t\tcopyline[l] = 0;\n\t\t\t\t\t\t\t\tif(!l) break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tk = -1;\n\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse count = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse count++;\n\t\t\t\t}\n\n\t\t\t\tif(count >= 4){\n\t\t\t\t\tint target = copyline[n-1];\n\t\t\t\t\tfor(int l = n-1; copyline[l] == 0 || copyline[l] == target; l--){\n\t\t\t\t\t\tcopyline[l] = 0;\n\t\t\t\t\t\tif(!l) break;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tint chnum = 0;\n\t\t\t\tfor(int k = 0; k < n; k++){\n\t\t\t\t\tif(copyline[k]) chnum++;\n\t\t\t\t}\n\n\t\t\t\tminch = minch > chnum ? chnum : minch;\n\t\t\t}\n\t\t}\n\n\t\tcout << minch << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, deque<int>&r) {\n\tif (l.empty() || r.empty())return 0;\n\tint lt = l.back();\n\tint rt = r[0];\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num>=3) {\n\t\t\tint ls = l.size();\n\t\t\tfor (int i = a + 1; i < ls; ++i) {\n\t\t\t\tl.pop_back();\n\t\t\t}\n\t\t\tfor (int i = 0; i < b; ++i) {\n\t\t\t\tr.pop_front();\n\t\t\t}\n\t\t\treturn num+ getans(l, r);\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint getans(const vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\tvector<int>l(as.begin(), as.begin() + f);\n\t\tdeque<int> r;\n\t\tfor (int i = t + 1; i < as.size(); ++i) {\n\t\t\tr.push_back(as[i]);\n\t\t}\n\t\treturn (t-f+1)+getans(l, r);\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\tcreated : 15/12/30\n// \tautor   : Rp7rf\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstdio>\n#include <set>\n\nusing namespace std;\n#define rep(i,a) for(int i = 0 ; i < a ; i ++)\n#define loop(i,a,b) for(int i = a ; i < b ; i ++)\n#define mp make_pair\n#define pb push_back\n#define f first\n#define s second\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nint main(void){\n\tint n,in;\n\twhile(cin>>n,n){\n\t\tcin>>in;\n\n\t\tvector<pii> v;\n\t\tv.pb(mp(in,1));\n\t\tint input = n;\n\t\twhile(--input){\n\t\t\tcin>>in;\n\t\t\tif(v[v.size()-1].first == in){\n\t\t\t\tv[v.size()-1].s ++;\n\t\t\t}else{\n\t\t\t\tv.pb(mp(in,1));\n\t\t\t}\n\t\t}\n\t\tint ret = n;\n\t\trep(i,v.size()){\n\t\t\tif(v[i].s == 1){\n\t\t\t\tint now = n;\n\t\t\t\tint l = i - 1 , r = i + 1;\n\t\t\t\twhile(0 <= l && r < v.size()){\n\t\t\t\t\tif(v[l].s + v[r].s >= 4 && v[l].f == v[r].f){\n\t\t\t\t\t\tnow = now - (v[l].s + v[r].s);\n\t\t\t\t\t//\tcout<<\"cal\"<<l<<\" \"<<r<<\" \"<<now<<endl;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tl --; r ++;\n\t\t\t\t}\n\t\t\t\tif(now != n)now --;\n\t\t\t\tret = min(ret,now);\n\t\t\t}\n\t\t\t//cout<<v[i].f<<\" \"<<v[i].s<<endl;\n\t\t}\n\t\tcout<<ret<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<stack>\n\nusing namespace std;\n\n#define PII pair<int,int>\n\nint x[10020];\nint N;\n\nvector< PII > S;\n\nvoid pa(){\n\tfor(int i = 0; i < N; i++){\n\t\tprintf(\"%s\",x[i]==1?\"Ô\":x[i]==2?\"Â\":\"©\");\n\t}puts(\"\");\n}\n\nint func(){\n\tint now = 1;\n\tint ret = 0;\n\tPII t;\n\t\n\tfor(int i = 0; i < N ; i++){\n\t\tif(x[i] == x[i+1]){\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(S.size() > 0){\n//\t\t\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\t\t\tif(now > 3){\n\t\t\t\t\t\n\t\t\t\t}else if(S.top().first == x[i] && S.top().second + now > 3){\n//\t\t\t\t\tprintf(\"popA\\n\");\n\t\t\t\t\tS.pop();\n\t\t\t\t}else{\n\t\t\t\t\tt.first = x[i];\n\t\t\t\t\tt.second = now;\n\t\t\t\t\tS.push(t);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tPII t;\n\t\t\t\tt.first = x[i];\n\t\t\t\tt.second = now;\n\t\t\t\tS.push(t);\n\t\t\t}\n\t\t\tnow = 1;\n\t\t}\n\t}\n\t/*\n\tif(x[N-1] == S.top().first && S.top().second > 2){\n\t\tS.pop();\n\t}else {\n\t\tS.push(PII(x[N-1],1));\n\t}\n\t*/\n//\tprintf(\"size() = %d\\n\",S.size());\n\tint size = S.size();\n\tfor(int i = 0; i < size; i++){\n//\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\tret += S.top().second;\n\t\tS.pop();\n\t}\n//\tprintf(\"return %2d\\n\",ret);\n\treturn ret;\n}\n\t\t\t\t\n\nint main(void){\n\twhile(scanf(\"%d\", &N) && N != 0){\n\t\tint M=2000000000;\n\t\t\n\t\tfor(int i = N-1; i >= 0; i--){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\tx[N] = 0;\n//\t\tpa();\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 1; j < 4; j++){\n\t\t\t\tif(x[i] != j && ( x-1 > -1 && x[i-1] == x[i]) || (x[i] == x[i+1]) ){\n\t\t\t\t\tx[N+1] = x[i];\n\t\t\t\t\tx[i] = j;\n//\t\t\t\t\tputs(\"---\");\n//\t\t\t\t\tpa();\n\t\t\t\t\tM = min(func(),M);\n\t\t\t\t\tx[i] = x[N+1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", M);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, deque<int>&r) {\n\tif (l.empty() || r.empty())return 0;\n\tint lt = l.back();\n\tint rt = r[0];\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num>=3) {\n\t\t\tint ls = l.size();\n\t\t\tfor (int i = a + 1; i < ls; ++i) {\n\t\t\t\tl.pop_back();\n\t\t\t}\n\t\t\tfor (int i = 0; i < b; ++i) {\n\t\t\t\tr.pop_front();\n\t\t\t}\n\t\t\treturn num+ getans(l, r);\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint getans(const vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\tvector<int>l(as.begin(), as.begin() + f);\n\t\tdeque<int> r;\n\t\tfor (int i = t + 1; i < as.size(); ++i) {\n\t\t\tr.push_back(as[i]);\n\t\t}\n\t\treturn (t-f+1)+getans(l, r);\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (scanf(\"%d\", &n), n){\n\t\tmemset(chain, 0, sizeof(chain));\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){ ans = max(ccount(s, g, cnt), ans); }\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 10001\nint arr[MAX],N;\n\nint solve(int p){\n  int lp = p, rp = p+1;\n\n  while(true){\n    if(lp <= 0 || rp >= N+1) break;\n    int color = arr[lp],l,r;\n    for(l = lp ; arr[l] == color ; l--);\n    for(r = rp ; arr[r] == color ; r++);\n    if(l <= 0 || r >= N+1) return MAX; \n    if((r-rp)+(lp-l) < 4) break;\n    lp = l, rp = r;\n  }\n  return N - rp + lp + 1;\n}\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 1 ; i <= N ; i++){\n      cin >> arr[i]; arr[i]--;\n    }\n\n    int ans = MAX;\n    for(int i = 1 ; i <= N ; i++){\n      int tmp = arr[i];\n      for(int j = 0 ; j < 3 ; j++){\n        if(j == arr[i]) continue;\n        arr[i] = j;\n        ans = min(ans,solve(i));        \n      }\n      arr[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n\tbreak;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tdeque<Block> tmp = stage;\n\tint prev_color = tmp[i].color;\n\tint prev_size = tmp[i].size;\n\tif(color = prev_color) continue;\n\n\ttmp[i].color = color;\n\ttmp[i].size = 1;\n\n\ttmp.insert(tmp.begin()+i,Block(prev_color,prev_size));\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<bits/stdc++.h>\n\n#define int long long int\n#define rep(a,b,c) for(int a=b;a<c;a++)\n#define repm(a,b,c) for(int a=(b-1);a>=c;a--)\n#define pb push_back\n#define str string\n#define sf(a) scanfs(\"%d\",&a)\n#define pb push_back\n#define mp make_pair\n#define Fi first\n#define Se second\n#define ALL(v) (v).begin(), (v).end()\n\nusing namespace std;\n\nconst int INF = 1e18 + 9;\nconst int Mod = 1e9 + 7;\ninline int replac(str s){double ans=0;rep(i,0,s.length()){ans+=(s[i]-'0')*pow(10,s.length()-i-1);}return (int)ans;}\ninline string numstr(int m){str s=\"\";while(m>0){char c;int a=m/10;if(a>0)a=m%(a*10);else a=m;c=(char)('0'+a);s+=c;m/=10;}str st=\"\";for(int i=s.size()-1;i>=0;i--){st+=s[i];}return st;}\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef vector<pii> vii;\nint chara[100005];\nsigned main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n,t,m,a[2],len=2;\n    while(1){\n    cin >> n;\n    if(n==0)break;\n    rep(i,0,n){\n        cin >> chara[i];\n    }\n    int ans=n;\n    rep(i,0,n){\n        int res=n;int col=chara[i];\n        int ma=i-1,us=i+1;\n        int ren=1;\n        while(1){\n        int col=chara[ma];\n        //if(i)cout << ma <<endl;\n        for(int j=ma;;j--){\n            if(j>=0&&col==chara[j])ren++;\n            else {ma=j;break;}\n        }\n        for(int j=us;;j++){\n            if(j<n&&col==chara[j])ren++;\n            else {us=j;break;}\n        }\n        if(ren>=4){\n            res-=ren;\n            ren=0;\n        }else{\n            break;\n        }\n        }\n        //if(res==2)cout << i << endl;\n        ans=min(ans,res);\n    }\n    cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1<<30;\n//aoj 0534\nvp tmp;\nint r,l,co;\nvoid f(){\n\twhile(1){\n\t\tif(r<0||l>=tmp.size())return;\n\t\tint t=tmp[r].second+tmp[l].second;\n\t\tif(tmp[r].first==tmp[l].first&&t>=4){\n\t\t\tco+=t;\n\t\t\tr--;l++;\n\t\t}else break;\n\t}\n}\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi q(n);\n\t\tvp in;\n\t\trep(i,n)cin>>q[i];\n\t\tq.pb(0);\n\t\tco=0;\n\t\tloop(i,1,n+1){\n\t\t\tif(q[i]!=q[i-1]){\n\t\t\t\tin.pb(pii(q[i-1],co));\n\t\t\t\tco=1;\n\t\t\t}else co++;\n\t\t}\n\t\tint out=0;\n\t\trep(i,in.size())if(in[i].second==3){\n\t\t\tif(i){\n\t\t\t\ttmp=in;\n\t\t\t\ttmp[i-1].second--;\n\t\t\t\tr=i-1;l=i+1;\n\t\t\t\tco=4;\n\t\t\t\tif(tmp[i-1].second==0){\n\t\t\t\t\tr-=2;\n\t\t\t\t\tif(i>1)co+=tmp[i-2].second;\n\t\t\t\t}\n\t\t\t\tf();\n\t\t\t\tout=max(out,co);\n\t\t\t}\n\t\t\tif(i!=in.size()-1){\n\t\t\t\ttmp=in;\n\t\t\t\ttmp[i+1].second--;\n\t\t\t\tr=i-1;l=i+1;\n\t\t\t\tco=4;\n\t\t\t\tif(tmp[i+1].second==0){\n\t\t\t\t\tl+=2;\n\t\t\t\t\tif(i<in.size()-2)co+=tmp[i+2].second;\n\t\t\t\t}\n\t\t\t\tf();\n\t\t\t\tout=max(out,co);\n\t\t\t}\n\t\t}\n\t\tcout<<n-out<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<functional>\n#include<algorithm>\nusing namespace std;\nint main(void)\n{\n\tint n,a[10000],mx,i,j,cnt,p1,p2,x,cnt2,wk;\n\twhile(1)\t{\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)\tbreak;\n\t\tfor(i=0;i<n;i++)\tscanf(\"%d\",&a[i]);\n\t\tmx=0;\n\t\tfor(i=1;i<n;i++)\t{\n\t\t\tif(a[i]!=a[i-1])\t{\n\t//\t\t\tprintf(\"i=%d\\n\",i);\n\t\t\t\twk=a[i];\n\t\t\t\ta[i]=a[i-1];\n\t\t\t\tp1=i-1;\tp2=i;\n\t\t\t\tcnt2=0;\n\t\t\t\twhile(1)\t{\n\t\t\t\t\tcnt=0;\n\t\t\t\t\tx=p1;\n\t\t\t\t\twhile(a[x]==a[p1])\t{\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\tp1--;\n\t\t\t\t\t\tif(p1<0)\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\twhile(a[x]==a[p2])\t{\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\tp2++;\n\t\t\t\t\t\tif(p2>=n)\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt<4)\tbreak;\n\t\t\t\t\telse cnt2+=cnt;\n\t\t\t\t\tif(p1<0 || p2>=n)\tbreak;\n\t\t\t\t}\n\t\t\t\ta[i]=wk;\n\t\t\t\tmx=max(mx,cnt2);\n\t\t\t\twk=a[i-1];\n\t\t\t\ta[i-1]=a[i];\n\t\t\t\tp1=i-1;\tp2=i;\n\t\t\t\tcnt2=0;\n\t\t\t\twhile(1)\t{\n\t\t\t\t\tcnt=0;\n\t\t\t\t\tx=p1;\n\t\t\t\t\twhile(a[x]==a[p1])\t{\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\tp1--;\n\t\t\t\t\t\tif(p1<0)\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\twhile(a[x]==a[p2])\t{\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\tp2++;\n\t\t\t\t\t\tif(p2>=n)\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt<4)\tbreak;\n\t\t\t\t\telse cnt2+=cnt;\n\t\t\t\t\tif(p1<0 || p2>=n)\tbreak;\n\t\t\t\t}\n\t\t\t\tmx=max(mx,cnt2);\t\n\t\t\t\ta[i-1]=wk;\n\t\t\t}\t\t\n\t\t}\n\t\tprintf(\"%d\\n\",n-mx);\n\t}\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <tuple>\n# include <unordered_map>\n# include <numeric>\n# include <complex>\nusing namespace std;\nusing LL = long long;\nusing ULL = unsigned long long;\nconstexpr int INF = 2000000000;\nconstexpr int HINF = INF / 2;\nconstexpr double DINF = 100000000000000000.0;\nconstexpr long long LINF = 9223372036854775807;\nconstexpr long long HLINF = 4500000000000000000;\nconst double PI = acos(-1);\nint dx[4] = { 0,1,0,-1 }, dy[4] = { 1,0,-1,0 };\n# define ALL(x)     (x).begin(),(x).end()\n# define UNIQ(c)    (c).erase(unique(ALL((c))), end((c)))\n# define mp         make_pair\n# define eb         emplace_back\n# define FOR(i,a,b) for(int i=(a);i<(b);++i)\n# define REP(i,n)   FOR(i,0,n)\n# define INIT       std::ios::sync_with_stdio(false);std::cin.tie(0);\n\nint ch[10101];\n\nint main() {\n\tint n;\n\twhile (cin >> n) {\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> ch[i];\n\t\t}\n\t\tch[0] = ch[n + 1] = 5;\n\t\tint ans = 0;\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\tint color = j;\n\t\t\t\tint sum = 0, count = 1;\n\t\t\t\tint left = i - 1, right = i + 1;\n\t\t\t\twhile (1) {\n\t\t\t\t\twhile (ch[left] == color)left--, count++;\n\t\t\t\t\twhile (ch[right] == color)right++, count++;\n\t\t\t\t\tif (count < 4)break;\n\t\t\t\t\tsum += count;\n\t\t\t\t\tcount = 0;\n\t\t\t\t\tif (ch[left] != ch[right])break;\n\t\t\t\t\tcolor = ch[left];\n\t\t\t\t}\n\t\t\t\tans = max(ans, sum);\n\t\t\t}\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint n, sum, sub, puyo[10000];\n\n\nvoid solve(int a, int b){\n\twhile(puyo[--a] == puyo[++b]){\n\t\tfor(int i = a; i >= 0; i--){\n\t\t\tsum++;\n\t\t\tif(puyo[i] != puyo[i - 1]){\n\t\t\t\ta = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i = b; i < n; i++){\n\t\t\tsum++;\n\t\t\tif(puyo[i] != puyo[i + 1]){\n\t\t\t\tb = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(sum >= 4){\n\t\t\tsub -= sum;\n\t\t} else{\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tsum = 0;\n\t}\n\t\n\treturn;\n}\n\n\nint main() {\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tint ans = 1000000;\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tsub = n;\n\t\t\t\n\t\t\tif(puyo[i - 1] == puyo[i + 1]){\n\t\t\t\tsum = 1;\n\t\t\t\tsolve(i, i);\n\t\t\t} else{\n\t\t\t\tif(puyo[i - 3] == puyo[i - 2] && puyo[i - 2] == puyo[i - 1]){\n\t\t\t\t\tsum = 0;\n\t\t\t\t\tsub -= 4;\n\t\t\t\t\tsolve(i - 3, i);\n\t\t\t\t}\n\t\t\t\tif(puyo[i + 1] == puyo[i + 2] && puyo[i + 2] == puyo[i + 3]){\n\t\t\t\t\tsum = 0;\n\t\t\t\t\tsub -= 4;\n\t\t\t\t\tsolve(i, i + 3);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF (1<<29)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define CLR(a) memset(a,0,sizeof(a))\nconst int dx[] = {-1,0,0,1},dy[] = {0,1,-1,0};\n\ntypedef long long int ll;\n\nusing namespace std;\n\nint main(){\n    while(true){\n\tint n;\n\tcin >> n;\n\tif(n==0)break;\n\tvector<int> v(n);\n\tstring s = \"\";\n\tREP(i,n){\n\t    cin >> v[i];\n\t}\n\tvector< pair<int,int> > pv;\n\tREP(i,n){\n\t    int tv = v[i];\n\t    int count = 0;\n\t    while(tv==v[i]){\n\t\tcount++;\n\t\ti++;\n\t    }\n\t    i--;\n\t    pv.PB( pair<int,int>(tv,count));\n\t}\n\tint ans = 100000000;\n\tREP(i,pv.size()) cout << pv[i].first << \" \" << pv[i].second<< endl;\n\tREP(i,pv.size()){\n\t    FOR(j,1,4){\n\t\tint ltemp = -1;\n\t\tint rtemp = 1;\n\t\tint color = j;\n\t\tint tans = 0;\n\t\tint sum = 1;\n\t\twhile(true){\n\t\t    if(ltemp+i >= 0 && color == pv[i+ltemp].first){\n\t\t\tsum += pv[i+ltemp].second;\n\t\t    }\n\t\t    if(rtemp+i < pv.size() && color == pv[i+rtemp].first){\n\t\t\tsum += pv[i+rtemp].second;\n\t\t    }\n\t\t    if(sum <= 3){\n\t\t\tif(!(ltemp == -1 && rtemp == 1)) tans += pv[i].second;\n\t\t\ttans = n - tans;\n\t\t\tans = min(ans,tans);\n\t\t\tbreak;\n\t\t    }else{\n\t\t\tif(color == pv[i+ltemp].first) {\n\t\t\t    tans += pv[i+ltemp].second;\n\t\t\t    ltemp--;\n\t\t\t}\n\t\t\tif(color == pv[i+rtemp].first) {\n\t\t\t    tans += pv[i+rtemp].second;\n\t\t\t    rtemp++;\n\t\t\t}\n\t\t    }\n\t\t    if(i+ltemp>=0){\n\t\t\tcolor = pv[i+ltemp].first;\n\t\t    }else if(i+rtemp<pv.size()){\n\t\t\tcolor = pv[i+rtemp].first;\n\t\t    }\n\t\t    sum = 0;\n\t\t}\n\t    }\n\t}\n\tcout << ans << endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4) tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.clear();\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    int res = N;\n    tmp.clear();\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    \n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input;\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t}\n\t\t\n\t\tvector<int> onePoints;\n\t\t\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(array[i-1] != array[i] && array[i] != array[i+1]){\n\t\t\t\tonePoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint answer = 100000;\n\t\tfor(int i=0;i<onePoints.size();i++){\n\t\t\tstring memo = array;\n\t\t\t\n\t\t\t/*\n\t\t\tchar a = array[min(onePoints[i] + 1,int(array.size()) - 2)];\n\t\t\tint count1=0;\n\t\t\tint count2=0;\n\t\t\tfor(int j=onePoints[i]+2;j<memo.size();j++){\n\t\t\t\tif(a != array[j]){\n\t\t\t\t\tcount1 = j - onePoints[i]+2 + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ta = array[max(0,onePoints[i] - 1)];\n\t\t\tfor(int j=onePoints[i]-2;j>=0;j--){\n\t\t\t\tif(a != array[j]){\n\t\t\t\t\tcount2 = onePoints[i]-2 - j + 1;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tint color[3]={};\n\t\t\tcolor[array[onePoints[i]+1] - '1'] += count1;\n\t\t\tcolor[array[onePoints[i]+1] - '1'] += count2;\n\t\t\tint colormax = max(max(color[0],color[1]),color[2]);\n\t\t\tif(colormax == color[0]){\n\t\t\t\tmemo[onePoints[i]] = '1';\n\t\t\t}else if(colormax == color[1]){\n\t\t\t\tmemo[onePoints[i]] = '2';\n\t\t\t}else{\n\t\t\t\tmemo[onePoints[i]] = '3';\n\t\t\t}\n\t\t\t */\n\t\t\t\n//\t\t\tmemo[onePoints[i]] = max(color[0],color[1],color[2]);\n\t\t\tvector<char> list;\n\t\t\tif(memo[onePoints[i]] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[onePoints[i]] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[onePoints[i]] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[101]={};\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tint size = memo.size();\n\t\t\t\tanswer = min(answer,size);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tcout << answer << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n// 消えるかどうか\nbool check2(vector<int>& v, int pos){\n\tint cnt = 0;\n\tfor(int i=pos-4 ; i < v.size() && i <= pos+4 ; i++ ){\n\t\tif( i < 0 ){\n\t\t\tcontinue;\n\t\t}else if( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\treturn false;\n}\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\t\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tif( check2(v,i) ){\n\t\t\t\t\tans = min( ans , check( v ));\n\t\t\t\t}\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  while(1){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    auto v3 = v2;\n    auto it = v2.begin();\n    ll si = v2.size(),ans = inf,sum;\n    REP(i,1,si){\n      if(v2[i].se == 1){\n        sum = 0;\n        v2[i-1].se++;\n        v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n          if(sum > ans) break;\n        }\n        ans = min(ans,sum);\n        v2 = v3;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = num;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = num;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tif(start-(left+1)>=0)\tstart -=(left+1);\n\t\t\t\t\telse start = -1;\n\t\t\t\t\tif (end + (right + 1) < num)end += right + 1;\n\t\t\t\t\telse end = num;\n\t\t\t\t\tif (start < 0)break;\n\t\t\t\t\tif (end >= num)break;\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start+1)ans = num - end + start+1;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\r\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define INF 100000005\n#define MAX 100001\n#define dmp make_pair\n#define dpb push_back\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\n\nint a[10000];\nint solve(int p, int n){\n\tint l = p-1, r = p+1, t;\n\tint s1, s2, ans = 0, f = 1;\n\twhile(0 <= l){\n\t\tt = a[l];\n\t\ts1 = s2 = 0;\n\t\tif(f)s1 = 1, f = 0;\n\t\t\n\t\twhile(0 <= l && a[l] == t){s1++;l--;}\n\t\twhile(r < n && a[r] == t){s2++;r++;}\n\t\tif(s1+s2 >= 4)ans += s1+s2;\n\t\telse break;\n\t}\n\treturn n-ans;\n}\n\nint main(){\n\tint n, ans;\n\twhile(1){\n\tscanf(\"%d\", &n);\n\t\tans = INF;\n\t\trep(i,n)scanf(\"%d\", &a[i]);\n\t\tif(!n)break;\n\t\tfor(int i = 1;i < n-1;i++){\n\t\t\tans = min(ans, solve(i, n));\n\t\t}\n\t\tif(ans == INF)printf(\"%d\\n\", n-1);\n\t\telse printf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<int> color(n);\n        for(int i=0; i<n; ++i)\n            cin >> color[i];\n\n        int ret = n;\n        for(int i=0; i<n; ++i){\n            int j = i-1;\n            int k = i+1;\n            while(j >= 0 && k < n){\n                if(color[j] != color[k])\n                    break;\n                int j1 = j;\n                while(j1 >= 0 && color[j1] == color[j])\n                    -- j1;\n                int k1 = k;\n                while(k1 < n && color[k1] == color[k])\n                    ++ k1;\n                int num = j - j1 + k1 - k;\n                if(k - j == 2)\n                    ++ num;\n                if(num < 4)\n                    break;\n                j = j1;\n                k = k1;\n                ret = min(ret, j+1 + n-k);\n            }\n        }\n\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n, p; vector<int>a, b;\nint solve(vector<int>x, int Y, int C) {\n\tint L = Y, R = Y;\n\twhile (true) {\n\t\tif (L == R)\n\t\t{\n\t\t\tint a1 = 0;\n\t\t\tfor (int i = L - 1; i >= 0; i--) {\n\t\t\t\tif (x[i] != C) { a1 = i + 1; break; }\n\t\t\t}\n\t\t\tint a2 = x.size() - 1;\n\t\t\tfor (int i = R + 1; i < x.size(); i++) {\n\t\t\t\tif (x[i] != C) { a2 = i - 1; break; }\n\t\t\t}\n\t\t\tif (a2 - a1 <= 2) { return x.size(); }\n\t\t\tL = a1; R = a2;\n\t\t}\n\t\telse {\n\t\t\tif (L == 0 || R == x.size() - 1 || x[L - 1] != x[R + 1]) { return x.size() - (R - L + 1); }\n\t\t\tint a1 = 0;\n\t\t\tC = x[L - 1];\n\t\t\tfor (int i = L - 1; i >= 0; i--) {\n\t\t\t\tif (x[i] != C) { a1 = i + 1; break; }\n\t\t\t}\n\t\t\tint a2 = x.size() - 1;\n\t\t\tfor (int i = R + 1; i < x.size(); i++) {\n\t\t\t\tif (x[i] != C) { a2 = i - 1; break; }\n\t\t\t}\n\t\t\tif ((a2 - a1) - (R - L) <= 3) { return x.size() - (R - L + 1); }\n\t\t\tL = a1; R = a2;\n\t\t}\n\t}\n}\nint main() {\n\twhile(true) {\n\t\tcin >> n; if (n == 0)break;\n\t\tfor (int i = 0; i < n; i++) { cin >> p; a.push_back(p); }\n\t\tint maxn = n; b = a;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\ta[i] = j;\n\t\t\t\tmaxn = min(maxn, solve(a, i, j));\n\t\t\t\ta[i] = b[i];\n\t\t\t}\n\t\t}\n\t\tcout << maxn << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\nint main(void){\n\n    for(;;){\n        int n;\n        int a[10005]={0};\n        int b[10005]={0};\n        int count=0,m;\n        cin>> n;\n        if(n==0)break;\n        m=n;\n        int j=0,flag=0,flag2=0;\n        for(int i=0;i<n;i++){\n            cin >> a[i];\n            b[i]=a[i];\n        }\n        for(int y=1;y<3;y++){\n            for(int z=1;z<n-1;z++){\n                for(int i=0;i<n;i++){\n                    a[i]=b[i];\n                }\n\n                a[z]=y;\n                for(;;){\n                    flag=0;\n                    j=0;\n                    for(int i=0;i<n;i++){\n                        if(a[i+1]!=0&&a[i]!=0&&a[i]==a[i+1]){\n\n                            for(j=0;j<n-i;j++){\n\n                                if(a[i+j]!=a[i+j+1]){\n\n                                     //cout<<i<<\".\"<<j<<endl;\n                                     break;\n                                }\n\n                            }\n                            if(j>=3){\n                                flag=1;\n                                for(int g=0;g<j+1;g++){\n                                    if(i+g<n){\n                                        a[i+g]=-1;\n                                      //  cout<<\"oo\"<<i+g<<endl;\n\n\n\n                                    }\n                                }\n                                for(int s=0;s<n;s++){\n                                    if(a[s]==-1){\n                                        for(int t=s;t<n;t++){\n                                          //  cout<<i<<\"+++\"<<j<<endl;\n                                            a[t]=a[t+j+1];\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if(flag==0)break;\n                }\n\n\n\n\n\n                count=0;\n                for(int i=0;i<n;i++){\n                    if(a[i]!=0)count++;\n                }\n                m=min(count,m);\n            }\n        }\n\n        cout<<m<<endl;\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//連鎖は、色を変えた場所付近から起こる＆0連鎖になるものをわざわざ消す必要はない。\n//ということで、シミュレーションの前に、（色を変えるべき場所,色）の候補を絞る。\n#include<iostream>\nusing namespace std;\n\nint n;\nint input[10000];\n\nint erase( int pos, int num ){\n\tstatic int data[10000];\n\tint i,j;\n\tfor( i = 0; i < n; i++ ){\n\t\tdata[i] = input[i];\n\t}\n\tdata[pos] = num;\n\t\n\tbool eflag = true;\n\twhile( eflag ){\n\t\teflag = false;\n\t\tfor( i = 0; i < n-3; i++ ){\n\t\t\tif( data[i] == 0 )\n\t\t\t\tcontinue;\n\t\t\t\t\n\t\t\tint erased = 0;\n\t\t\tfor( j = 1; i+j < n; j++ ){\n\t\t\t\tif( data[i+j] == 0 ){\n\t\t\t\t\terased++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( data[i] != data[i+j] )\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif( j-erased >= 4 ){\n\t\t\t\teflag = true;\n\t\t\t\t//消す\n\t\t\t\tint st = i, ed = i+j;\n\t\t\t\tfor( j = st; j < ed; j++ ){\n\t\t\t\t\tdata[j] = 0;\n\t\t\t\t}\n\t\t\t\t//ここでbreakをするとTLE確実。\n\t\t\t}\n\t\t}\n\t}\n\tint ret = n;\n\tfor( i = 0; i < n; i++ ){\n\t\tif( data[i] == 0 )\n\t\t\tret--;\n\t}\n\treturn ret;\n}\n\nint main(){\n\tint i,j;\n\t\n\twhile( cin >> n ){\n\t\tif(!n)break;\n\t\tfor( i = 0; i < n; i++ ){\n\t\t\tcin >> input[i];\n\t\t}\n\t\n\t\tint ans = n;\n\t\tfor( i = 0; i < n; i++ ){\n\t\t\tfor( j = 1; j <= 3; j++ ){\n\t\t\t\tint l,r;\n\t\t\t\tfor( l = i-1; l >= 0; l-- ){\n\t\t\t\t\tif( input[l] != j )\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfor( r = i+1; r < n; r++ ){\n\t\t\t\t\tif( input[r] != j )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif( r - l - 1 >= 4 ){\n\t\t\t\t\t\tans = min( ans, erase( i, j ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,target,R,L,ans,Lastans,Rsum,Lsum,a, number[11000];\nint right(int in);\nint left (int in);\n\nint main(){\n\n    while(1){\n    cin >> n;\n    if(n==0)break;\n    Lastans=n;\n   number[11000]={0};\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n                a=number[i];\n                number[i]=j;\n\n            while(1){\n            if(Rsum==0&&Lsum==0)target=j;\n            else if(number[i-Lsum-1]!=number[i+Rsum+1])break;\n            else target=number[i+Rsum+1];\n\n            R=right(i);\n            L=left(i);\n            if(R+L>=3&&Rsum==0&&Lsum==0){\n                Rsum+=R;\n                Lsum+=L;\n            }else if(R+L>=4){\n                Rsum+=R;\n                Lsum+=L;\n            }else break;\n                    }\n                ans=n-Rsum-Lsum-1;\n                if(ans<Lastans-1)Lastans=ans;\n\n                Lsum=0;\n                Rsum=0;\n                number[i]=a;\n\n                }\n\n            }\n\n            cout << Lastans << endl;\n\n    }\n    return 0;\n}\n\n\n\nint right(int in){\n\n    int sum=0;\n    while(1){\n    if(in+Rsum==n)break;\n    in++;\n    if(number[in+Rsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}\n\nint left(int in){\n\n    int sum=0;\n    while(1){\n    if(in-Lsum==-1)break;\n    in--;\n    if(number[in-Lsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint n;\nint c[10000];\n\n\nint solve(int l) {\n\tint r = l + 1, res = n;\n\n\twhile (l >= 0 && r < n) {\n\t\tint color = c[l];\n\t\tint count = 0;\n\t\tfor (; l >= 0 && c[l] == color; l--, count++);\n\t\tfor (; r < n && c[r] == color; r++, count++);\n\n\t\tif (count < 4) break;\n\t\tres -= count;\n\t}\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint ans;\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tREP(i, n) scanf(\"%d\", &c[i]);\n\n\t\tans = n;\n\t\tREP(i, n) {\n\t\t\tint tmp = c[i];\n\t\t\tREP(j, 3) {\n\t\t\t\tc[i] = j + 1;\n\t\t\t\tans = min(ans, solve(i));\n\t\t\t}\n\t\t\tc[i] = tmp;\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#define INF 1e+9\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n,mi = INF;\n\tvector<P> vec;\n\tcin >> n;\n\tif(n <= 3){\n\t\tcout << n << endl;\n\t\treturn 0;\n\t}\n\tint cnt = 1,c;\n\tfor(int i = 0;i < n;i++){\n\t\tint a;\n\t\tcin >> a;\n\t\tif(!i) c = a;\n\t\telse if(c != a){\n\t\t\tvec.push_back(P(c,cnt));\n\t\t\tc = a;\n\t\t\tcnt = 1;\n\t\t}else cnt++;\n\t}\n\tvec.push_back(P(c,cnt));\n\tint v = vec.size();\n\tfor(int i = 0;i < v;i++){\n\t\tint sum = 0;\n\t\tvec = vec;\n\t\tif(!i){\n\t\t\tif(vec[1].second == 3){\n\t\t\t\tsum += 4;\n\t\t\t\tif(v >= 3 && vec[0].second + vec[2].second >= 5 && vec[0].first == vec[2].first) sum += vec[0].second + vec[2].second - 1;\n\t\t\t}\n\t\t}\n\t\telse if(i == v - 1){\n\t\t\tif(vec[v - 2].second == 3){\n\t\t\t\tsum += 4;\n\t\t\t\tif(v >= 3 && vec[v - 1].second + vec[v - 3].second >= 5 && vec[v - 1].first == vec[v - 3].first) sum += vec[v - 1].second + vec[v - 3].second - 1;\n\t\t\t}\n\t\t}else{\n\t\t\tif(vec[i].second == 1 && vec[i - 1].first == vec[i + 1].first && vec[i - 1].second + vec[i + 1].second >= 3){\n\t\t\t\tsum = 1 + vec[i - 1].second + vec[i + 1].second;\n\t\t\t\tint l = i - 2,r = i + 2;\n\t\t\t\twhile(l && r < v){\n\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tmi = min(mi,n - sum);\n\t\t\t}\n\t\t\tif(vec[i - 1].second == 3){\n\t\t\t\tsum = 4;\n\t\t\t\tint l = i - 2,r = i;\n\t\t\t\tvec[i].second--;\n\t\t\t\twhile(l && r < v){\n\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tvec[i].second++;\n\t\t\t\tmi = min(mi,n - sum);\n\t\t\t}\n\t\t\tif(vec[i + 1].second == 3){\n\t\t\t\tsum = 4;\n\t\t\t\tint l = i,r = i + 2;\n\t\t\t\tvec[i].second--;\n\t\t\t\twhile(l && r < v){\n\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tvec[i].second++;\n\t\t\t\tmi = min(mi,n - sum);\n\t\t\t}\n\t\t}\n\t\tmi = min(mi,n - sum);\n\t}\n\tcout << mi << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <cstddef>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tunsigned short N, A; size_t MAX = 15000;\n\n\t\tvector<char> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tif (N == 0) { break; }\n\n\t\tfor (unsigned short i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (unsigned short i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (char j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<char> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (unsigned short k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (char l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1 && E[k] == E[k + 1])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<29;\n\nint main() {\n  int n;\n  while(cin>>n,n) {\n    int a[n];\n    REP(i,n)\n      cin>>a[i];\n    int res = 0;\n    \n    REP(i,n) {\n      int dn = 0;\n      for (int c=1; c<=3; ++c) {\n        int hazime = 1;\n        for (int j=i-1, k=i+1;j>=0 || k<n; ) {\n          int cc;\n          if (!hazime) {\n            if (j >= 0) cc = a[j];\n            else cc = a[k];\n          }\n          else cc = c;\n//          printf(\"%d,%d %d %d:\\n\",j,k,cc, i);\n          //if (a[k] != cc) break;\n          int ue = 0, shita = 0;\n          while (j >= 0 && cc == a[j]) {\n            ++ue;\n            --j;\n          }\n          while (k < n  && cc == a[k]) {\n            ++shita;\n            ++k;\n          }\n//          printf(\"ue=%d,shita=%d\\n\",ue,shita);\n          if (ue + shita >= 4-hazime) dn += ue+shita + hazime;\n          else break;\n          hazime = 0;\n        }\n        res = max(res, dn);\n      }\n    }\n    cout << n-res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\twhile(true){\n\t\tint n, leftend, rightend, ans = 1000000000, puyo[10000];\n\t\tbool same[10000];\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t\tif(puyo[i] == puyo[i - 1] && i > 0){\n\t\t\t\tsame[i - 1] = 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tint sub = n, puyopuyo = 0;\n\t\t\tleftend = rightend = i;\n\t\t\t\n\t\t\twhile(puyo[--leftend] == puyo[++rightend]){\n\t\t\t\tfor(int j = 1; j < n; j++){\n\t\t\t\t\tif(same[leftend - j] == 0){\n\t\t\t\t\t\tleftend = leftend - j + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(int j = 0; j < n; j++){\n\t\t\t\t\tif(same[rightend + j] == 0){\n\t\t\t\t\t\trightend = rightend + j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpuyopuyo = rightend - leftend + 1 - puyopuyo;\n\t\t\t\t\n\t\t\t\tif(puyopuyo >= 4){\n\t\t\t\t\tsub -= puyopuyo;\n\t\t\t\t} else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1 << 30;\n\nint main()\n{\n  int N;\n  while (cin >> N) {\n    if (N == 0)\n      break;\n\n    vector<int> c(N+2);\n    for (int i = 0; i < N; ++i)\n      cin >> c[i+1];\n    // sentinel\n    c[0] = INF;\n    c[N+1] = -INF;\n\n    int ans = 0;\n    for (int i = 1; i <= N; ++i) {\n      for (int j = 1; j <= 3; ++j) {\n        if (c[i] == j)\n          continue;\n\n        int tmp = c[i];\n        c[i] = j;\n\n        int up = i, down = i, sum = 0;\n        while (c[up] == c[down]) {\n          int color = c[up], cnt = 0;\n          if (up == i)\n            --cnt;\n\n          while (up > 0 && c[up] == color) {\n            --up;\n            ++cnt;\n          }\n          while (down <= N && c[down] == color) {\n            ++down;\n            ++cnt;\n          }\n          if (cnt >= 4)\n            sum += cnt;\n          else\n            break;\n        }\n\n        c[i] = tmp;\n        ans = max(ans, sum);\n      }\n    }\n    cout << N-ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(int r, int l, vector<PII> v) {\n\tint res = 0;\n\tREP(i, v.size()) res += v[i].second;\n\n\twhile (r >= 0 && l < v.size()) {\n\t\tint color = v[r].first;\n\t\tint count = 0;\n\t\twhile (r >= 0 && v[r].first == color) {\n\t\t\tcount += v[r].second;\n\t\t\tr--;\n\t\t}\n\t\twhile (l < v.size() && v[l].first == color) {\n\t\t\tcount += v[l].second;\n\t\t\tl++;\n\t\t}\n\n\t\tif (count < 4) break;\n\t\tres -= count;\n\t}\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(i-1, i, p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() - 1 && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(i, i+1, p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+2, -1);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+1]);\n        }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int t = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = t;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <set>\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstdio>\n#include <cstring>\n#include <iterator>\n#include <bitset>\n//#include <utility>\n//#include <memory>\n//#include <functional>\n//#include <deque>\n//#include <cctype>\n//#include <ctime>\n//#include <numeric>\n//#include <list>\n//#include <iomanip>\n\n//#if __cplusplus >= 201103L\n//#include <array>\n//#include <tuple>\n//#include <initializer_list>\n//#include <unordered_set>\n//#include <unordered_map>\n//#include <forward_list>\n//\n//#define cauto const auto&\n//#else\n\n//#endif\n\nusing namespace std;\n\n\nnamespace{\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef vector<int> vint;\ntypedef vector<vector<int> > vvint;\ntypedef vector<long long> vll, vLL;\ntypedef vector<vector<long long> > vvll, vvLL;\n\n#define VV(T) vector<vector< T > >\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v, int a, int b, const T &t = T()){\n    v.assign(a, vector<T>(b, t));\n}\n\ntemplate <class F, class T>\nvoid convert(const F &f, T &t){\n    stringstream ss;\n    ss << f;\n    ss >> t;\n}\n\n\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define F first\n#define S second\n#define mkp make_pair\n#define RALL(v) (v).rbegin(),(v).rend()\n\n\n#define MOD 1000000007LL\n#define EPS 1e-8\nstatic const int INF=1<<24;\n// map<pii,int> ma;\nvint v;\nint n;\n/*\n3\n2\n1\n1\n2\n3\n2\n2\n2\n1\n1\n3\n*/\nint foo(pii a){\n\t// if(ma.count(a)) return ma[a];\n\t// cout<<a.F<<\" \"<<a.S<<endl;\n\tint ret=a.S-a.F+1;\n\tpii b=a;\n\tb.F--;\n\tb.S++;\n\twhile(1){\n\t\twhile(b.F>0&&v[b.F-1]==v[b.F]){\n\t\t\tb.F--;\n\t\t}\n\t\twhile(b.S<n+1&&v[b.S+1]==v[b.S]){\n\t\t\tb.S++;\n\t\t}\n\t\tif(v[b.F]==v[b.S]&&b.S-b.F+1-ret>=4){\n\t\t\tret=b.S-b.F+1;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t\tb.F--;\n\t\tb.S++;\n\t}\n\treturn ret;\n}\nvoid mainmain(){\n\twhile(cin>>n,n){\n\t\tv=vint(n+2,0);\n\t\t// ma.clear();\n\t\trep(i,n) cin>>v[i+1];\n\t\tif(n<=3){\n\t\t\tcout<<n<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\t// map<pii,bool> ma;\n\t\tint ans=0;\n\t\treep(i,1,n+1){\n\t\t\tpii t(i-1,i+1);\n\t\t\twhile(t.F>0&&v[t.F-1]==v[t.F]){\n\t\t\t\tt.F--;\n\t\t\t}\n\t\t\twhile(t.S<n+1&&v[t.S+1]==v[t.S]){\n\t\t\t\tt.S++;\n\t\t\t}\n\t\t\t// cout<<\"aa \"<<i<<\" \"<<t.F<<\" \"<<t.S<<endl;\n\t\t\tif(v[i-1]==v[i+1]){\n\t\t\t\tif(t.S+1-t.F>=4){\n\t\t\t\t\t// cout<<i<<\" \"<<0<<endl;\n\t\t\t\t\tans=max(ans,foo(t));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(i-t.F+1>=4){\n\t\t\t\t\t// cout<<i<<\" \"<<1<<endl;\n\t\t\t\t\tans=max(ans,foo(pii(t.F,i)));\n\t\t\t\t}\n\t\t\t\tif(t.S-i+1>=4){\n\t\t\t\t\t// cout<<i<<\" \"<<2<<endl;\n\t\t\t\t\tans=max(ans,foo(pii(i,t.S)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<n-ans<<endl;\n\t}\n}\n\n\n\n}\nmain() try{\n    mainmain();\n}\ncatch(...){\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint rem(PArray& arr)\n{\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tif(i != 0 && i != n - 1 && (arr[i - 1].second != j + 1 || arr[i + 1].second != j + 1))\n\t\t\t\t\tcontinue;\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint rensa(vector<int> vec){\n  vector<int> tmp;\n  for(int i = 0 ; i+3 < vec.size() ; i++ ){\n    if(vec[i] == vec[i+1] && vec[i+1] == vec[i+2] \n       && vec[i+2] == vec[i+3]){\n      int r = i+3;\n\n      while(vec[r+1] == vec[r] && r+1 < vec.size())r++;\n      tmp.clear();\n      for(int j = 0 ; j < vec.size() ; j++ ){\n\tif(j < i || r < j )tmp.push_back(vec[j]);\n      }\n      vec.clear();\n      copy(tmp.begin(),tmp.end(),back_inserter(vec));\n\n      i = 0;\n    }\n  }\n  return vec.size();\n}\n\nint main(){\n  int n;\n  vector<int> cha;\n  while( cin >> n,n){\n    cha.clear();\n    for(int i = 0 ; i < n ; i++ ){\n      int a;\n      cin >> a;\n      cha.push_back(a);\n    }\n    int ret = cha.size();\n    for(int i = 0 ; i < cha.size() ; i++ ){\n      vector<int> tmp;\n\n      tmp.clear();\n      copy(cha.begin(),cha.end(),back_inserter(tmp));\n\n      if(0 <= i && i < cha.size()-1){\n\n\ttmp[i] = cha[i+1];\n\tint l,r;\n\tl = r = i;\n\n\twhile(tmp[l-1] == tmp[l] && l >= 1){\n\t  l--;\n\t}\n\n\twhile(tmp[r+1] == tmp[r] && r <= tmp.size()-1){\n\t  r++;\n\t}\n\n\tif(3<=r-l){\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n\n      tmp.clear();\n      copy(cha.begin(),cha.end(),back_inserter(tmp));\n      if(1<= i && i < cha.size()){\n\ttmp[i] = cha[i-1];\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] && l >= 1){\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r] && r <= tmp.size()-1){\n\t  r++;\n\t}\n\n\tif(3 <= r-l ){\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; i >= 0, chain[a] == chain[i]; i--, len++);\n\tfor (j = b; j < n, chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (true){\n\t\tscanf(\"%d\", &n);\n\t\tif (!n)return 0;\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; s >= 0, chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; g < n, chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <cmath>\n#include <set>\n#include <map>\n#include <iostream>\n\nusing namespace std;\ntypedef long long ll;\n\n\nint n;\nvector<int> in(100000);\n\nint dfs(int s){\n    int re=n,c=in[s];\n    int l=s,r=s,f,p=1;\n    \n    while(1){\n        f=0;\n        \n        if(0<l && in[l-1]==c){\n            l--;\n            f++;\n            p++;\n        }\n        if(r<n-1 && in[r+1]==c){\n            r++;\n            f++;\n            p++;\n        }\n        \n        if(f){\n            f=0;\n        }else{\n            if(p>=4){\n                re-=p;\n            }else{\n                return re;\n            }\n            if(0<l && r<n-1 && in[l-1]==in[r+1]){\n                l--;\n                r++;\n                p=2;\n                c=in[l];\n            }else{\n                return re;\n            }\n        }\n    }\n}\n\nvoid calc(){\n    int memo=0,ans=100001;\n    \n    for(int i=0;i<n;i++){\n        scanf(\"%d\",&in[i]);\n    }\n    \n    for(int i=0;i<n;i++){\n        memo=in[i];\n        for(int j=1;j<=3;j++){\n            if(memo!=j){\n                in[i]=j;\n                ans=min(ans,dfs(i));\n            }\n        }\n        in[i]=memo;\n    }\n    \n    printf(\"%d\\n\",ans);\n    \n    return;\n}\n\nint main(){\n    while(1){\n    \n        scanf(\"%d\",&n);\n        \n        if(n==0)\n            break;\n        \n        calc();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<\" \";}\n#define dumpl(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\ntemplate<class T> bool chmax(T &a, const T &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a > b) { a = b; return true; } return false; }\n\n#define REMOVE(v,a) v.erase(remove(v.begin(),v.end(),a),v.end())\nconst int CHAIN = 4;\nclass Field {\npublic:\n\tvector<int> v;\n\tField(const vector<int> &v) :v(v) {}\n\tbool clear() {\n\t\tbool cleared = false;\n\t\tvector<int> c(v.size(), 1);\n\t\trep(i, 1, v.size()) {\n\t\t\tif (v[i - 1] == v[i])c[i] = c[i - 1] + 1;\n\t\t}\n\t\tint i = v.size() - 1;\n\t\tint cc = 0;\n\t\twhile (i) {\n\t\t\tif (c[i] >= CHAIN)cc = c[i];\n\t\t\tif (cc) {\n\t\t\t\tv[i] = INF;\n\t\t\t\tcc--;\n\t\t\t\tcleared = true;\n\t\t\t}\n\t\t\ti--;\n\t\t}\n\t\tREMOVE(v, INF);\n\t\treturn cleared;\n\t}\n};\n\nsigned main() {\n\tfor (int N; cin >> N&&N;) {\n\t\tvector<int> v(N); rep(i, 0, N) { cin >> v[i]; }\n\t\tint ans = INF;\n\t\trep(i, 0, N)rep(j, 1, 4) {\n\t\t\tvector<int> tmp = v;\n\t\t\ttmp[i] = j;\n\t\t\tField F(tmp);\n\t\t\twhile (F.clear());\n\t\t\tchmin(ans, (int)F.v.size());\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <list>\n#include <algorithm>\n\nusing namespace std;\n\n#define RED (0)\n#define BLUE (1)\n#define YELLOW (2)\n\nint ans;\n\nvoid erase(int table[], int n)\n{\n\tlist<int> l;\n\tlist<int>::iterator it;\n\tlist<int>::iterator it2;\n\t\n\tl.assign(table, table + n);\n\t\n\tit = l.begin();\n\twhile (it != l.end()){\n\t\tint count = 0;\n\t\tit2 = it;\n\t\twhile (it2 != l.end() && *it2 == *it){\n\t\t\tit2++;\n\t\t\tcount++;\n\t\t}\n\t\t\n\t\t\n\t\tif (count >= 4){\n\t\t\tl.erase(it, it2);\n\t\t\tit = l.begin();\n\t\t}\n\t\telse {\n\t\t\tit = it2;\n\t\t}\n\t}\n\t\n\tans = min(ans, (int)(l.size()));\n\t\n}\n\nint main(void)\n{\n\tint table[10000];\n\tint n;\n\t\n\twhile (1){\n\t\tans = 1000000;\n\t\tcin >> n;\n\t\t\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tcin >> table[i];\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint tmp = table[i];\n\t\t\t\n\t\t\tfor (int j = 0; j < 3; j++){\n\t\t\t\ttable[i] = j;\n\t\t\t\terase(table, n);\n\t\t\t}\n\t\t\ttable[i] = tmp;\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(vector<PII> v) {\n\tbool f = true;\n\tint res = 0, r, l;\n\n\tFOR(i, 1, v.size()) if (v[i-1].first == v[i].first) {\n\t\tv[i-1].second += v[i].second;\n\t\tv.erase(v.begin() + i);\n\t\ti--;\n\t}\n\n\tREP(i, v.size()) if (v[i].second >= 4) {\n\t\tr = i - 1;\n\t\tl = i + 1;\n\t\tbreak;\n\t}\n\n\twhile (f) {\n\t\tf = false;\n\t\tif (r >= 0 && l < v.size() && v[r].first == v[l].first && v[r].second + v[l].second >= 4) {\n\t\t\tr--; l++;\n\t\t\tf = true;\n\t\t}\n\t}\n\t\n\tfor (int i = 0; i <= r; ++i) res += v[i].second;\n\tfor (int i = l; i < v.size(); ++i) res += v[i].second;\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int inf = 99999;\n\nint check(vector<int> vec, int n)\n{\n\tint c = 0, t = n;\n\t\n\twhile(t-1 >= 0 && vec[t-1] == vec[t]){\n\t\tt--;\n\t}\n\t\n\tfor(int i = 1; i <= 3 && t+i < vec.size(); i++){\n\t\tif(vec[t] != vec[t+i]){\n\t\t\tbreak;\n\t\t}\n\t\tc++;\n\t}\n\tif(c == 3){\n\t\treturn t;\n\t}\n\t\n\treturn -1;\n}\n\nint func(vector<int> vec, int n)\n{\n\tvector<int> v = vec;\n\tint t = n;\n\t\n\twhile(v.size()){\n\t\tt = check(v, t);\n\t\tif(t == -1){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\twhile(t+1 < v.size() && v[t+1] == v[t]){\n\t\t\tv.erase(v.begin()+(t+1));\n\t\t}\n\t\tv.erase(v.begin()+t);\n\t}\n\t\n\treturn v.size();\n}\n\nint main()\n{\n\tint n, s, t;\n\t\n\twhile(cin>>n && n){\n\t\tvector<int> vec;\n\t\twhile(n--){\n\t\t\tcin >> t;\n\t\t\tvec.push_back(t);\n\t\t}\n\t\ts = inf;\n\t\t\n\t\tfor(int i = 0; i < vec.size(); i++){\n\t\t\tfor(int j = 1; j <= 3; j++){\n\t\t\t\tt = vec[i];\n\t\t\t\tvec[i] = j;\n\t\t\t\ts = min(s, func(vec, i));\n\t\t\t\tvec[i] = t;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << s << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(vector<PII> v) {\n\tbool f;\n\tint res, r, l;\n\n\tFOR(i, 1, v.size()) if (v[i-1].first == v[i].first) {\n\t\tv[i-1].second += v[i].second;\n\t\tv.erase(v.begin() + i);\n\t\ti--;\n\t}\n\n\tREP(i, v.size()) if (v[i].second >= 4) {\n\t\tr = i - 1;\n\t\tl = i + 1;\n\t\tbreak;\n\t}\n\n\tdo {\n\t\tf = false;\n\t\tif (r >= 0 && l < v.size() && v[r].first == v[l].first && v[r].second + v[l].second >= 4) {\n\t\t\tr--; l++;\n\t\t\tf = true;\n\t\t}\n\t} while (f);\n\t\n\tres = 0;\n\tfor (int i = 0; i <= r; ++i) res += v[i].second;\n\tfor (int i = l; i < v.size(); ++i) res += v[i].second;\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() - 1 && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint arr[10002];\n\nint main(){\n    int n;\n    while(cin >> n, n){\n        char x;\n        // 4は番兵\n        arr[0] = 4;\n        for(int i = 1; i <= n; i++){\n            cin >> arr[i];\n        }\n        arr[n+1] = 4;\n\n        int delMax = 0;\n        for(int i = 1; i <= n; i++){\n            for(int j = 1; j <= 3; j++){\n                int l = i-1, r = i+1, tmpdel = 0, tmpcnt = 1, color = j;\n                while(1){\n                    while(arr[l] == color)   l--, tmpcnt++;\n                    while(arr[r] == color)   r++, tmpcnt++;\n                    if(tmpcnt >= 4) tmpdel += tmpcnt;\n                    else            break;\n                    tmpcnt = 0;\n                    if(arr[l] != arr[r])    break;\n                    color = arr[l];\n                }\n                delMax = max(delMax, tmpdel);\n            }\n        }\n\n        cout << n - delMax << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\nint s = 0;\npair<int, int> color[2][10000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[100];\n\nvoid check(int bb, int ss)\n{\n\tlost[1] = lost[0];\n\tint count = 1;\n\tfor (int i = bb; i < n; i++)\n\t{\n\t\tif (color[1][bb].second == color[1][i].second)\n\t\t{\n\t\t\tcolor[1][i].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse if (color[1][bb].second == color[1][i + lost[1]].second)\n\t\t{\n\t\t\tcolor[1][i + lost[1]].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tbb--;\n\n\tif (lost[0] != lost[1])\n\t{\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb - 1].second)\n\t\t\t{\n\t\t\t\tbb--;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb + count + lost[0]].second)\n\t\t\t{\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (count >= 4)\n\t\t{\n\t\t\tcheck(bb, ss);\n\t\t}\n\t}\n\tresult[ss] = min(result[ss], n - lost[0]);\n}\n\nint main()\n{\n\tfor (;; s++)\n\t{\n\t\tcin >> n;\n\n\t\tif (n == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int a = 0; a < 10000; a++)\n\t\t{\n\t\t\tcolor[0][a].first = 1;\n\t\t}\n\n\t\tresult[s] = n;\n\n\t\tfor (int a = 0; a < n; a++)\n\t\t{\n\t\t\tcin >> color[0][a].second;\n\t\t}\n\n\t\tfor (a = 0; a < n-3; a++)\n\t\t{\n\t\t\tlost[0] = 0;\n\t\t\tfor (int t = 0; t < n; t++)\n\t\t\t{\n\t\t\t\tcolor[1][t] = color[0][t];\n\t\t\t}\n\t\t\tfor (; b < n - 3; b++)\n\t\t\t{\n\t\t\t\tif (color[1][b] == color[1][b + 1] && color[1][b + 1] == color[1][b + 2])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 4] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t\telse if (color[1][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 2] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 1] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int t = 0; t < s; t++)\n\t{\n\t\tcout << result[t] << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\nusing ll = long long;\nusing ld =long double;\n//#define int ll\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 9999999\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef pair<int,pii> piii;\n#define mp make_pair\nint simulate(vector<pii>cal,int index){\n    cal.erase(cal.begin()+index);\n    while(true){\n        bool flag=false;\n        rep(i,cal.size()){\n            if(i==0)continue;\n            if(cal[i-1].first==cal[i].first&&cal[i-1].second+cal[i].second>=4){\n                rep(j,2)cal.erase(cal.begin()+i-1);\n                flag=true;\n                break;\n            }\n        }\n        if(!flag)break;\n    }\n    int temp=0;\n    rep(i,cal.size())temp+=cal[i].second;\n    return temp;\n}\nsigned main(){\n    int n;\n    while(cin>>n,n){\n        vector<int>v(n);\n        rep(i,n)cin>>v[i];\n        vector<pii>cal;\n        pii cnt=mp(0,0);\n        rep(i,v.size()){\n            if(!i)cnt=pii(v[i],1);\n            else{\n                if(cnt.first==v[i])cnt=mp(cnt.first,cnt.second+1);\n                else{\n                    cal.push_back(cnt);\n                    cnt=mp(v[i],1);\n                }\n            }\n        }\n        cal.push_back(cnt);\n        vector<int>cnd;\n        int ans=INF;\n        if(v.size()==0)return (cout<<n<<endl),0;\n        rep(i,cal.size())cmin(ans,simulate(cal,i));\n        cout<<ans<<endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input;\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t}\n\t\t\n\t\tvector<int> onePoints;\n\t\t\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(array[i-1] != array[i] && array[i] != array[i+1]){\n\t\t\t\tonePoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint answer = 100000;\n\t\tfor(int i=0;i<onePoints.size();i++){\n\t\t\tstring memo = array;\n\t\t\tchar a = array[min(onePoints[i] + 1,int(array.size()) - 1)];\n\t\t\tint count1=0;\n\t\t\tint count2=0;\n\t\t\tfor(int j=onePoints[i]+2;j<memo.size();j++){\n\t\t\t\tif(a != array[j]){\n\t\t\t\t\tcount1 = j - onePoints[i]+2 + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ta = array[max(0,onePoints[i] - 1)];\n\t\t\tfor(int j=onePoints[i]-2;j>=0;j--){\n\t\t\t\tif(a != array[j]){\n\t\t\t\t\tcount2 = onePoints[i]-2 - j + 1;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tint color[3]={};\n\t\t\tcolor[array[onePoints[i]+1] - '1'] += count1;\n\t\t\tcolor[array[onePoints[i]+1] - '1'] += count2;\n\t\t\tint colormax = max(max(color[0],color[1]),color[2]);\n\t\t\tif(colormax == color[0]){\n\t\t\t\tmemo[onePoints[i]] = '1';\n\t\t\t}else if(colormax == color[1]){\n\t\t\t\tmemo[onePoints[i]] = '2';\n\t\t\t}else{\n\t\t\t\tmemo[onePoints[i]] = '3';\n\t\t\t}\n\t\t\t\n//\t\t\tmemo[onePoints[i]] = max(color[0],color[1],color[2]);\n\t\t\t\n\t\t\tbool isChanged = true;\n\t\t\tint continuity[101]={};\n\t\t\tcontinuity[0] = 1;\n\t\t\twhile(isChanged){\n\t\t\t\tint Max = 1;\n\t\t\t\tint where = 0;\n\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(Max >= 4){\n\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t}else{\n\t\t\t\t\tisChanged = false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\tint size = memo.size();\n\t\t\tanswer = min(answer,size);\n\t\t\t\n\t\t}\n\t\tcout << answer << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "5000\n1\n1\n2\n3\n1\n2\n2\n1\n1\n2\n2\n3\n3\n2\n3\n3\n1\n3\n1\n2\n1\n2\n3\n1\n2\n3\n1\n1\n2\n2\n2\n3\n3\n2\n3\n2\n2\n1\n2\n3\n3\n1\n3\n3\n2\n3\n2\n3\n2\n2\n2\n1\n1\n3\n2\n2\n2\n3\n3\n2\n1\n2\n1\n3\n2\n1\n2\n1\n1\n2\n2\n2\n1\n2\n2\n3\n2\n2\n2\n3\n2\n3\n3\n3\n1\n2\n2\n3\n1\n3\n2\n1\n2\n1\n3\n3\n2\n2\n2\n3\n1\n1\n3\n3\n3\n2\n1\n3\n2\n1\n1\n2\n2\n1\n2\n1\n2\n1\n1\n2\n2\n1\n3\n3\n2\n1\n2\n3\n2\n1\n2\n3\n1\n2\n1\n2\n1\n3\n3\n3\n1\n2\n3\n1\n3\n2\n3\n1\n2\n2\n2\n3\n2\n3\n3\n1\n1\n2\n3\n1\n2\n3\n1\n2\n3\n1\n3\n1\n3\n2\n3\n2\n1\n1\n1\n3\n3\n1\n2\n1\n3\n3\n1\n3\n1\n3\n3\n1\n1\n2\n2\n3\n3\n1\n1\n1\n2\n3\n3\n3\n1\n3\n3\n2\n1\n2\n3\n1\n1\n1\n3\n2\n1\n3\n1\n1\n3\n2\n3\n1\n3\n2\n1\n3\n1\n2\n3\n3\n1\n1\n3\n3\n2\n1\n1\n2\n1\n2\n2\n3\n2\n2\n2\n1\n3\n1\n3\n2\n2\n3\n1\n2\n1\n3\n2\n2\n2\n1\n3\n3\n2\n3\n2\n2\n2\n1\n2\n1\n2\n2\n1\n3\n1\n3\n1\n3\n1\n3\n2\n2\n2\n1\n3\n3\n1\n2\n1\n3\n3\n3\n2\n1\n1\n1\n2\n2\n3\n1\n1\n2\n1\n1\n3\n1\n3\n1\n1\n1\n2\n1\n2\n3\n3\n2\n3\n1\n1\n1\n2\n3\n1\n2\n2\n3\n1\n2\n1\n1\n3\n2\n2\n3\n3\n1\n1\n2\n2\n3\n3\n2\n1\n3\n1\n1\n3\n1\n2\n2\n2\n3\n3\n2\n3\n1\n3\n3\n1\n1\n3\n2\n2\n2\n1\n1\n3\n1\n2\n1\n1\n1\n3\n3\n1\n1\n3\n1\n3\n3\n1\n1\n3\n2\n2\n2\n3\n3\n3\n1\n2\n3\n1\n2\n3\n3\n3\n1\n2\n1\n1\n3\n2\n1\n1\n2\n2\n2\n1\n1\n2\n1\n3\n2\n1\n2\n1\n3\n1\n2\n2\n2\n1\n2\n2\n2\n1\n2\n3\n3\n1\n2\n1\n3\n3\n1\n1\n1\n3\n2\n1\n1\n3\n3\n2\n1\n1\n2\n1\n1\n1\n3\n3\n3\n2\n1\n1\n3\n2\n1\n3\n1\n3\n3\n1\n1\n2\n1\n3\n3\n2\n3\n3\n1\n1\n3\n3\n2\n1\n2\n1\n3\n1\n1\n3\n1\n2\n1\n3\n3\n2\n3\n2\n1\n2\n1\n3\n2\n1\n3\n1\n1\n1\n3\n2\n2\n3\n1\n1\n2\n2\n1\n3\n2\n1\n3\n2\n2\n2\n1\n3\n1\n1\n3\n2\n3\n3\n3\n2\n1\n1\n1\n3\n3\n2\n1\n1\n3\n2\n3\n1\n3\n3\n3\n2\n3\n1\n2\n2\n1\n2\n3\n1\n2\n3\n3\n1\n1\n1\n3\n3\n1\n1\n1\n3\n2\n2\n2\n3\n1\n2\n3\n2\n1\n3\n1\n1\n1\n2\n1\n3\n2\n3\n3\n3\n1\n1\n1\n3\n1\n1\n1\n2\n3\n1\n2\n3\n2\n2\n1\n2\n1\n2\n2\n2\n1\n1\n3\n2\n3\n2\n3\n3\n3\n1\n3\n2\n1\n1\n2\n2\n1\n1\n1\n3\n1\n3\n2\n3\n2\n1\n2\n1\n2\n3\n1\n3\n1\n3\n3\n1\n2\n2\n2\n3\n2\n1\n2\n2\n1\n2\n3\n1\n1\n1\n3\n1\n2\n3\n3\n3\n1\n2\n3\n2\n3\n2\n3\n1\n2\n2\n3\n3\n2\n3\n3\n1\n3\n1\n3\n3\n2\n1\n1\n2\n1\n3\n1\n2\n1\n1\n1\n3\n2\n1\n1\n1\n3\n3\n3\n2\n3\n1\n2\n1\n2\n2\n1\n2\n3\n3\n1\n3\n1\n3\n1\n2\n2\n2\n3\n2\n2\n1\n2\n1\n3\n2\n2\n1\n2\n3\n1\n3\n1\n1\n3\n2\n3\n1\n1\n3\n3\n1\n2\n3\n1\n1\n3\n1\n1\n1\n3\n2\n2\n1\n2\n1\n3\n1\n3\n1\n1\n3\n1\n1\n2\n2\n2\n3\n1\n3\n2\n1\n1\n3\n1\n3\n1\n2\n2\n2\n1\n1\n1\n2\n3\n1\n3\n2\n3\n3\n3\n1\n2\n1\n1\n1\n3\n1\n2\n3\n1\n3\n3\n2\n3\n2\n3\n1\n3\n2\n3\n3\n2\n1\n3\n1\n1\n3\n2\n2\n2\n3\n2\n1\n3\n3\n1\n3\n2\n3\n3\n2\n1\n1\n1\n3\n1\n2\n2\n1\n1\n2\n1\n1\n2\n3\n3\n3\n2\n3\n1\n1\n2\n3\n1\n1\n3\n2\n1\n1\n1\n2\n2\n2\n1\n2\n1\n2\n3\n1\n3\n1\n3\n2\n2\n1\n2\n1\n3\n3\n2\n3\n2\n3\n2\n1\n2\n1\n3\n1\n3\n2\n3\n1\n2\n3\n2\n2\n2\n1\n2\n2\n3\n2\n1\n3\n1\n3\n1\n1\n2\n2\n1\n2\n2\n1\n2\n3\n2\n1\n2\n1\n2\n3\n3\n3\n2\n1\n3\n1\n2\n3\n2\n3\n3\n3\n1\n2\n1\n1\n1\n2\n3\n2\n3\n1\n1\n1\n3\n2\n3\n3\n1\n3\n3\n2\n3\n2\n3\n2\n2\n2\n1\n1\n1\n3\n1\n3\n2\n1\n3\n1\n3\n1\n3\n3\n1\n1\n3\n2\n1\n2\n3\n3\n3\n1\n1\n1\n2\n1\n2\n2\n1\n2\n2\n3\n3\n2\n1\n2\n1\n3\n1\n3\n1\n3\n1\n3\n3\n3\n1\n3\n2\n3\n2\n1\n3\n1\n2\n2\n1\n2\n1\n1\n2\n3\n1\n2\n1\n2\n2\n3\n3\n1\n3\n2\n3\n3\n2\n2\n1\n2\n1\n2\n1\n3\n1\n2\n1\n3\n1\n3\n1\n2\n1\n2\n2\n2\n3\n3\n2\n1\n3\n1\n1\n1\n2\n2\n3\n2\n3\n1\n2\n3\n3\n3\n2\n2\n2\n1\n2\n2\n2\n3\n3\n2\n2\n2\n3\n3\n1\n3\n1\n1\n2\n3\n3\n2\n1\n2\n3\n1\n3\n3\n3\n1\n3\n2\n1\n3\n1\n2\n2\n3\n2\n2\n3\n2\n3\n1\n2\n2\n1\n1\n1\n2\n3\n2\n3\n2\n3\n3\n3\n1\n2\n1\n2\n3\n3\n2\n3\n2\n2\n1\n3\n1\n1\n2\n3\n3\n3\n1\n2\n3\n2\n3\n1\n3\n1\n1\n1\n3\n2\n1\n1\n1\n3\n1\n1\n1\n2\n2\n2\n3\n3\n2\n2\n3\n3\n3\n2\n1\n3\n3\n1\n2\n1\n3\n1\n2\n1\n1\n2\n2\n2\n3\n2\n1\n3\n2\n1\n3\n2\n2\n3\n2\n3\n1\n1\n3\n3\n2\n1\n1\n2\n3\n1\n1\n1\n2\n3\n1\n2\n1\n1\n3\n1\n2\n3\n1\n1\n3\n3\n1\n2\n1\n2\n1\n2\n3\n3\n3\n2\n2\n1\n2\n3\n3\n3\n1\n2\n3\n1\n3\n2\n2\n1\n3\n1\n1\n2\n1\n3\n1\n3\n1\n3\n3\n3\n1\n2\n1\n2\n1\n2\n1\n3\n1\n1\n1\n3\n3\n3\n1\n2\n3\n2\n3\n2\n1\n3\n1\n2\n1\n2\n3\n2\n2\n1\n2\n2\n1\n2\n3\n3\n3\n1\n3\n1\n2\n3\n3\n2\n2\n1\n1\n1\n2\n2\n1\n1\n3\n1\n3\n2\n1\n1\n3\n2\n1\n3\n1\n1\n2\n1\n2\n1\n2\n2\n2\n1\n1\n3\n2\n2\n3\n2\n1\n1\n2\n1\n2\n1\n3\n1\n3\n3\n2\n2\n1\n3\n3\n2\n3\n2\n1\n3\n1\n3\n3\n3\n1\n2\n2\n3\n2\n2\n2\n1\n3\n3\n3\n2\n1\n3\n2\n1\n2\n1\n3\n2\n1\n2\n3\n3\n3\n1\n3\n1\n1\n2\n1\n3\n1\n1\n3\n3\n3\n2\n3\n2\n2\n2\n3\n1\n3\n3\n2\n3\n3\n1\n3\n2\n1\n2\n2\n2\n3\n3\n2\n1\n1\n2\n3\n3\n1\n3\n3\n1\n3\n2\n3\n1\n2\n1\n3\n1\n1\n2\n2\n3\n1\n3\n3\n3\n1\n1\n3\n1\n1\n1\n2\n2\n1\n3\n1\n1\n2\n1\n1\n3\n3\n1\n1\n3\n2\n1\n1\n3\n2\n2\n1\n1\n2\n1\n3\n2\n2\n2\n1\n1\n1\n2\n3\n2\n1\n3\n2\n2\n1\n1\n1\n2\n2\n2\n3\n1\n1\n1\n3\n2\n1\n3\n3\n2\n3\n1\n1\n3\n2\n1\n1\n1\n2\n3\n1\n1\n1\n2\n3\n2\n1\n1\n2\n1\n1\n2\n2\n2\n1\n2\n2\n3\n1\n1\n1\n2\n2\n1\n2\n2\n3\n2\n2\n2\n3\n1\n2\n2\n2\n1\n1\n2\n1\n2\n2\n2\n1\n1\n2\n3\n3\n1\n2\n1\n2\n2\n2\n3\n3\n2\n3\n3\n1\n2\n1\n3\n1\n3\n2\n3\n3\n3\n1\n3\n1\n3\n2\n1\n1\n2\n3\n3\n1\n1\n3\n1\n1\n2\n1\n1\n1\n2\n3\n2\n3\n1\n2\n2\n1\n3\n3\n1\n3\n2\n2\n3\n2\n3\n1\n2\n2\n3\n1\n3\n2\n1\n3\n2\n3\n1\n1\n3\n1\n1\n1\n2\n1\n1\n2\n1\n1\n3\n3\n2\n1\n2\n2\n1\n1\n1\n2\n2\n3\n3\n1\n1\n3\n1\n1\n1\n2\n3\n1\n1\n2\n3\n1\n2\n1\n1\n2\n2\n3\n1\n1\n3\n1\n1\n2\n2\n2\n1\n1\n3\n2\n1\n1\n1\n2\n1\n1\n1\n2\n1\n3\n1\n2\n1\n3\n3\n1\n2\n2\n1\n3\n3\n3\n1\n1\n1\n2\n2\n1\n2\n1\n1\n1\n3\n2\n1\n1\n3\n1\n3\n1\n3\n2\n3\n1\n1\n2\n1\n3\n2\n3\n1\n2\n3\n3\n2\n1\n2\n1\n3\n1\n3\n3\n1\n3\n1\n3\n3\n3\n2\n1\n2\n3\n3\n1\n1\n3\n1\n2\n2\n3\n2\n3\n3\n3\n2\n1\n1\n3\n2\n3\n1\n1\n3\n1\n1\n3\n2\n2\n3\n3\n2\n2\n1\n2\n3\n1\n2\n3\n2\n3\n1\n3\n1\n2\n2\n3\n2\n3\n3\n1\n3\n2\n3\n3\n3\n1\n3\n1\n2\n2\n2\n1\n3\n3\n2\n1\n1\n3\n2\n2\n2\n3\n2\n3\n2\n3\n3\n2\n3\n3\n2\n1\n2\n2\n1\n3\n2\n1\n2\n1\n1\n2\n2\n2\n1\n1\n3\n2\n3\n3\n3\n1\n3\n2\n2\n3\n3\n3\n1\n1\n2\n2\n3\n2\n1\n2\n3\n3\n3\n1\n3\n1\n3\n1\n1\n1\n3\n2\n2\n2\n1\n3\n2\n1\n3\n3\n3\n1\n1\n3\n3\n1\n1\n3\n1\n1\n3\n2\n2\n3\n1\n3\n2\n3\n3\n2\n2\n2\n1\n2\n3\n3\n3\n2\n2\n1\n1\n1\n2\n1\n1\n1\n3\n3\n3\n2\n1\n2\n1\n3\n2\n2\n1\n2\n2\n1\n3\n2\n2\n1\n3\n3\n1\n1\n3\n1\n2\n3\n1\n3\n1\n1\n1\n2\n1\n2\n2\n3\n1\n3\n2\n2\n1\n2\n1\n3\n1\n1\n3\n1\n2\n1\n1\n1\n2\n1\n1\n3\n3\n1\n2\n3\n1\n3\n1\n2\n3\n3\n3\n1\n2\n3\n3\n2\n3\n2\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n1\n3\n3\n1\n1\n1\n2\n1\n1\n2\n2\n2\n3\n1\n1\n2\n2\n3\n2\n2\n3\n3\n3\n1\n2\n1\n2\n2\n3\n3\n2\n1\n3\n3\n3\n1\n2\n2\n3\n1\n2\n3\n2\n2\n1\n1\n3\n3\n1\n2\n3\n2\n2\n2\n1\n1\n3\n3\n2\n1\n2\n3\n3\n1\n3\n2\n3\n2\n1\n3\n2\n3\n3\n3\n1\n2\n2\n3\n3\n1\n2\n3\n3\n2\n3\n2\n1\n1\n1\n2\n1\n1\n3\n3\n2\n2\n1\n2\n1\n1\n2\n3\n2\n2\n3\n2\n3\n1\n3\n1\n3\n2\n3\n3\n1\n1\n1\n2\n3\n3\n2\n1\n1\n1\n2\n3\n3\n2\n3\n1\n2\n3\n3\n1\n3\n3\n3\n1\n1\n3\n2\n2\n3\n1\n2\n3\n2\n2\n2\n3\n3\n2\n2\n3\n1\n3\n3\n1\n1\n1\n2\n1\n3\n1\n3\n1\n1\n1\n2\n1\n2\n1\n3\n3\n3\n1\n2\n2\n2\n1\n3\n1\n3\n3\n3\n2\n2\n2\n3\n2\n3\n3\n1\n1\n1\n3\n3\n1\n2\n3\n1\n1\n1\n2\n3\n2\n1\n1\n2\n2\n3\n1\n2\n2\n3\n3\n2\n3\n3\n3\n1\n2\n2\n3\n2\n2\n3\n2\n3\n2\n3\n2\n3\n1\n3\n2\n1\n3\n3\n2\n2\n1\n1\n2\n1\n2\n2\n1\n2\n3\n3\n1\n1\n3\n1\n1\n2\n1\n2\n2\n1\n2\n1\n2\n2\n2\n1\n3\n1\n2\n2\n1\n2\n2\n2\n1\n1\n1\n3\n3\n3\n2\n1\n2\n3\n1\n1\n2\n1\n2\n2\n3\n2\n1\n1\n1\n3\n2\n2\n1\n3\n3\n3\n2\n1\n3\n1\n2\n2\n1\n2\n1\n2\n1\n1\n2\n1\n3\n1\n1\n3\n1\n1\n2\n1\n3\n2\n1\n3\n3\n1\n3\n3\n2\n1\n2\n1\n1\n2\n1\n3\n3\n3\n1\n1\n2\n3\n2\n1\n2\n1\n1\n3\n1\n3\n1\n3\n1\n3\n3\n2\n1\n2\n1\n2\n2\n2\n1\n3\n1\n2\n3\n1\n3\n2\n3\n2\n3\n2\n2\n1\n3\n2\n3\n2\n3\n3\n3\n2\n2\n1\n3\n1\n1\n1\n3\n3\n1\n2\n2\n1\n2\n1\n3\n1\n1\n1\n3\n1\n3\n2\n3\n2\n3\n2\n1\n2\n3\n1\n1\n3\n3\n2\n1\n1\n3\n3\n2\n3\n1\n1\n2\n1\n3\n1\n2\n2\n1\n1\n3\n1\n2\n2\n3\n3\n1\n3\n2\n3\n3\n1\n3\n1\n1\n2\n3\n2\n2\n2\n3\n1\n3\n3\n1\n3\n1\n3\n3\n3\n1\n2\n1\n1\n3\n2\n1\n3\n3\n2\n3\n2\n1\n1\n1\n2\n1\n3\n2\n2\n2\n1\n1\n2\n1\n3\n3\n1\n1\n1\n2\n2\n3\n3\n3\n1\n3\n3\n3\n1\n1\n1\n3\n3\n1\n1\n2\n2\n2\n1\n2\n2\n2\n3\n3\n3\n1\n1\n3\n3\n3\n2\n3\n3\n2\n2\n3\n1\n1\n1\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n2\n3\n3\n2\n3\n1\n1\n3\n3\n1\n2\n2\n2\n3\n3\n3\n1\n1\n1\n2\n2\n3\n3\n3\n1\n1\n3\n1\n1\n2\n3\n1\n1\n1\n2\n1\n1\n2\n2\n3\n3\n3\n2\n1\n1\n3\n3\n3\n1\n1\n2\n3\n3\n3\n1\n1\n2\n2\n3\n3\n3\n1\n2\n2\n2\n3\n3\n1\n1\n1\n3\n3\n1\n1\n3\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n3\n2\n3\n3\n2\n3\n2\n2\n1\n1\n1\n3\n2\n2\n3\n3\n1\n1\n2\n2\n1\n1\n1\n3\n3\n3\n2\n2\n1\n1\n2\n2\n2\n3\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n2\n2\n3\n3\n2\n2\n2\n3\n1\n2\n2\n1\n2\n2\n2\n3\n3\n3\n1\n3\n3\n2\n1\n2\n1\n1\n2\n2\n3\n1\n1\n3\n3\n2\n1\n1\n2\n2\n3\n3\n1\n1\n3\n3\n3\n2\n2\n2\n3\n1\n1\n1\n2\n2\n2\n3\n3\n2\n2\n1\n1\n3\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n2\n1\n1\n1\n2\n2\n2\n3\n1\n1\n2\n3\n3\n3\n2\n2\n2\n3\n3\n1\n1\n3\n3\n3\n1\n1\n3\n3\n3\n1\n1\n1\n2\n3\n3\n3\n1\n3\n3\n2\n1\n1\n3\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n1\n1\n2\n2\n1\n1\n2\n2\n3\n3\n3\n1\n1\n1\n3\n3\n3\n1\n2\n3\n3\n3\n1\n1\n3\n3\n2\n2\n3\n1\n1\n1\n3\n3\n3\n2\n1\n1\n1\n3\n2\n1\n1\n3\n3\n2\n2\n1\n3\n3\n3\n2\n1\n1\n1\n2\n2\n3\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n1\n1\n3\n3\n1\n2\n1\n1\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n2\n1\n1\n1\n2\n2\n1\n1\n3\n3\n2\n1\n2\n3\n3\n3\n1\n1\n2\n1\n1\n1\n3\n3\n3\n2\n3\n3\n3\n2\n2\n1\n1\n2\n2\n2\n1\n1\n2\n2\n1\n1\n2\n2\n3\n3\n2\n2\n2\n3\n3\n2\n2\n3\n1\n1\n2\n2\n1\n1\n2\n2\n3\n3\n2\n1\n1\n1\n2\n2\n1\n1\n3\n3\n3\n1\n3\n2\n1\n3\n3\n2\n2\n2\n1\n3\n3\n1\n1\n2\n2\n2\n1\n1\n1\n2\n1\n1\n1\n2\n2\n3\n3\n3\n2\n3\n2\n1\n1\n2\n2\n1\n1\n1\n2\n2\n1\n2\n2\n1\n1\n2\n1\n1\n3\n3\n2\n2\n2\n1\n1\n3\n3\n3\n2\n2\n1\n3\n2\n1\n1\n2\n2\n2\n1\n3\n3\n2\n1\n2\n2\n3\n2\n2\n2\n1\n3\n3\n3\n1\n3\n3\n3\n1\n1\n1\n3\n3\n1\n1\n2\n2\n2\n3\n3\n2\n2\n1\n2\n2\n2\n3\n2\n1\n1\n3\n3\n2\n2\n3\n3\n2\n1\n1\n2\n1\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n1\n2\n2\n2\n3\n2\n2\n2\n3\n3\n3\n2\n2\n3\n3\n2\n2\n2\n1\n1\n2\n3\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n3\n3\n3\n1\n3\n3\n1\n3\n3\n3\n1\n3\n3\n2\n2\n1\n1\n1\n2\n1\n3\n3\n2\n2\n1\n1\n1\n2\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n2\n2\n3\n3\n2\n2\n3\n3\n3\n1\n1\n1\n2\n3\n3\n1\n3\n3\n3\n2\n2\n1\n1\n2\n2\n1\n1\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n1\n1\n2\n2\n2\n1\n3\n1\n3\n3\n3\n2\n2\n3\n3\n1\n1\n2\n2\n1\n1\n3\n3\n3\n1\n1\n2\n2\n2\n1\n1\n2\n2\n2\n3\n3\n3\n1\n2\n3\n2\n1\n1\n2\n1\n1\n1\n2\n2\n2\n3\n2\n2\n2\n1\n3\n1\n2\n2\n3\n2\n3\n3\n1\n2\n2\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n3\n1\n3\n1\n3\n1\n2\n2\n3\n3\n1\n2\n2\n2\n1\n1\n3\n1\n1\n2\n2\n1\n2\n2\n3\n3\n3\n2\n1\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n3\n3\n3\n2\n1\n1\n1\n3\n3\n2\n2\n1\n2\n2\n2\n1\n3\n3\n3\n1\n1\n1\n3\n3\n1\n2\n2\n2\n3\n1\n1\n3\n3\n1\n1\n3\n2\n2\n2\n1\n1\n1\n3\n3\n1\n1\n1\n2\n2\n3\n3\n3\n2\n2\n2\n1\n2\n2\n2\n3\n3\n3\n2\n1\n1\n2\n2\n1\n3\n1\n1\n1\n2\n1\n1\n1\n3\n3\n3\n1\n1\n3\n3\n1\n1\n1\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n3\n3\n2\n2\n2\n1\n1\n2\n2\n2\n1\n1\n3\n3\n3\n1\n1\n1\n3\n1\n1\n3\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n3\n1\n1\n2\n3\n3\n3\n1\n1\n3\n3\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n3\n2\n1\n1\n2\n2\n3\n3\n3\n2\n2\n1\n1\n2\n2\n1\n1\n1\n3\n3\n1\n2\n1\n1\n1\n3\n3\n3\n1\n2\n2\n1\n1\n2\n2\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n2\n2\n2\n3\n3\n3\n2\n2\n1\n1\n2\n2\n1\n1\n2\n2\n3\n3\n1\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n1\n3\n1\n2\n2\n1\n1\n3\n3\n3\n1\n1\n3\n3\n3\n1\n3\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n2\n2\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n1\n1\n3\n3\n3\n1\n1\n2\n2\n2\n1\n1\n3\n3\n3\n1\n1\n1\n2\n2\n2\n1\n1\n2\n2\n2\n3\n2\n1\n1\n1\n2\n2\n3\n3\n3\n2\n2\n1\n3\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n3\n2\n1\n1\n1\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n2\n1\n1\n1\n2\n2\n3\n3\n3\n1\n1\n2\n2\n2\n3\n3\n1\n1\n1\n2\n2\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n2\n2\n1\n1\n1\n2\n2\n1\n1\n1\n3\n3\n3\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n2\n2\n1\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n2\n3\n3\n1\n1\n2\n2\n1\n1\n1\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n1\n1\n1\n3\n3\n3\n1\n1\n1\n2\n3\n3\n3\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n1\n3\n2\n2\n1\n1\n1\n2\n2\n1\n1\n1\n3\n1\n1\n2\n2\n1\n1\n1\n3\n3\n3\n2\n2\n3\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n2\n2\n2\n1\n1\n3\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n1\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n1\n1\n3\n3\n1\n1\n3\n3\n2\n2\n2\n1\n2\n2\n2\n3\n3\n1\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n1\n1\n1\n3\n2\n2\n2\n1\n1\n1\n2\n3\n2\n2\n2\n1\n1\n1\n2\n2\n3\n3\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n3\n2\n1\n1\n1\n2\n2\n1\n1\n2\n2\n2\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n2\n2\n2\n3\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n3\n2\n1\n1\n1\n2\n2\n3\n3\n3\n2\n2\n1\n1\n3\n3\n3\n1\n1\n3\n3\n3\n1\n1\n1\n3\n1\n1\n1\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n1\n2\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n1\n2\n2\n3\n1\n1\n1\n2\n2\n3\n3\n3\n1\n1\n1\n2\n2\n2\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n2\n2\n2\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n1\n2\n2\n2\n1\n1\n3\n3\n1\n1\n1\n2\n2\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n1\n1\n3\n3\n3\n2\n2\n2\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n2\n2\n3\n2\n2\n2\n3\n1\n1\n1\n2\n2\n2\n1\n1\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n2\n2\n2\n1\n2\n2\n2\n3\n3\n3\n1\n1\n2\n2\n1\n1\n1\n2\n3\n3\n3\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n3\n1\n1\n3\n3\n3\n1\n1\n2\n2\n1\n1\n3\n3\n3\n2\n2\n1\n1\n2\n2\n2\n3\n3\n1\n1\n1\n2\n2\n3\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n2\n2\n2\n3\n1\n3\n3\n3\n2\n2\n3\n3\n3\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n1\n3\n3\n1\n3\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n3\n3\n2\n2\n3\n3\n2\n2\n2\n3\n3\n3\n1\n1\n1\n2\n2\n2\n3\n3\n1\n1\n1\n3\n2\n2\n2\n1\n1\n1\n3\n1\n1\n1\n3\n3\n3\n1\n1\n3\n3\n2\n2\n3\n2\n2\n2\n1\n1\n1\n3\n3\n3\n2\n2\n2\n1\n2\n2\n2\n1\n1\n2\n2\n2\n3\n3\n2\n2\n2\n3\n3\n3\n1\n1\n2\n2\n3\n3\n2\n2\n1\n3\n3\n3\n2\n2\n3\n3\n3\n1\n1\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n3\n3\n3\n2\n2\n1\n1\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n3\n1\n1\n1\n3\n3\n3\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n3\n2\n3\n3\n3\n2\n2\n1\n1\n1\n2\n3\n3\n3\n2\n2\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n1\n1\n2\n2\n2\n1\n1\n1\n3\n3\n2\n2\n2\n3\n3\n3\n1\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n2\n3\n3\n2\n1\n1\n3\n3\n1\n1\n1\n3\n3\n1\n1\n1\n3\n3\n3\n2\n1\n1\n1\n3\n3\n2\n2\n1\n1\n3\n3\n2\n2\n2\n1\n1\n3\n3\n3\n1\n1\n2\n2\n2\n3\n2\n2\n1\n1\n2\n2\n2\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n2\n2\n2\n1\n1\n3\n3\n3\n2\n2\n2\n1\n1\n1\n3\n3\n1\n1\n1\n3\n3\n3\n2\n2\n2\n3\n3\n3\n2\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n2\n2\n2\n1\n3\n3\n3\n2\n2\n2\n3\n3\n2\n2\n2\n3\n1\n1\n1\n3\n3\n2\n2\n1\n1\n1\n2\n2\n2\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n3\n1\n1\n1\n3\n3\n2\n2\n2\n1\n1\n3\n3\n3\n1\n1\n1\n2\n2\n2\n1\n1\n3\n2\n3\n1\n2\n3\n3\n2\n2\n3\n1\n3\n2\n3\n1\n1\n1\n3\n3\n1\n2\n3\n2\n2\n3\n1\n1\n3\n3\n2\n1\n1\n1\n2\n3\n3\n1\n3\n1\n1\n1\n2\n3\n2\n3\n2\n2\n2\n3\n1\n1\n2\n1\n3\n3\n3\n2\n3\n2\n1\n1\n3\n3\n2\n1\n2\n2\n3\n2\n1\n3\n1\n1\n2\n1\n2\n1\n2\n3\n1\n3\n3\n2\n1\n3\n2\n2\n3\n2\n2\n1\n2\n3\n2\n1\n3\n1\n2\n1\n2\n3\n1\n3\n3\n1\n1\n1\n3\n2\n3\n3\n2\n2\n3\n1\n3\n3\n2\n2\n1\n1\n2\n1\n2\n3\n2\n3\n3\n1\n3\n1\n2\n2\n1\n1\n2\n1\n1\n2\n1\n1\n1\n2\n2\n1\n3\n2\n3\n2\n3\n3\n2\n2\n1\n2\n3\n3\n1\n2\n3\n2\n3\n3\n2\n2\n1\n2\n1\n3\n3\n2\n3\n1\n3\n2\n1\n1\n3\n1\n3\n2\n3\n1\n2\n2\n3\n2\n2\n2\n1\n2\n3\n2\n3\n1\n1\n1\n3\n1\n1\n2\n2\n1\n2\n1\n2\n3\n1\n2\n1\n2\n1\n2\n1\n1\n1\n3\n2\n2\n3\n1\n3\n1\n3\n1\n3\n2\n3"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n#define col first\n#define cn second\n\ntypedef pair<int, int> PR;\n\npair<int, int> puyo[10000+10] , tmp;\n\nint sum;\n\n\nint chek(int , /*PR[10000 + 10],*/ int ,int,int);\n\n\nint main()\n{\n\tint n;\n\tint pn=0;\n\n\tint a;\n\n\tint i;\n\n\tint sa=0;\n\n\twhile (cin >> n, n != 0)\n\t{\n\t\tsa = 0;\n\t\tsum = n;\n\t\tpn = 0;\n\n\t\tcin >> a;\n\t\tpuyo[pn].col = a;\n\t\tpuyo[pn].cn = 1;\n\n\n\t\tfor (i = 1; i < n; i++)\n\t\t{\n\t\t\tcin >> a;\n\n\t\t\tif (puyo[pn].col == a)\n\t\t\t{\n\t\t\t\tpuyo[pn].cn++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpn++;\n\t\t\t\tpuyo[pn].col = a;\n\t\t\t\tpuyo[pn].cn = 1;\n\t\t\t}\n\t\t}\n\n\t\tpn++;\n\n\t\tfor (i = 1; i < pn - 1; i++)\n\t\t{\n\n\t\t\tif (puyo[i].cn == 3)\n\t\t\t{\n\t\t\t\tif (puyo[i + 1].col == puyo[i - 1].col && puyo[i + 1].cn + puyo[i - 1].cn >= 5)\n\t\t\t\t{\n\t\t\t\t\t//tmp = puyo[i + 1];\n\t\t\t\t\t//puyo[i + 1].cn--;\n\n\t\t\t\t\tsa = 3 + puyo[i + 1].cn + puyo[i - 1].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 2, i + 2, sa));\n\t\t\t\t\t//puyo[i + 1] = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( puyo[i+1].cn==1 && puyo[i].col == puyo[i+2].col )\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i + 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i + 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i + 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 1, i + 3, sa));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n/*\n\t\t\tif (puyo[i - 1].cn == 1 && puyo[i].col == puyo[i - 2].col)\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i - 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i - 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i - 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 3, i + 1, sa));\n\t\t\t\t}\n\t\t\t}\n*/\n\t\t\t\n\t\t}\n\t\t\n\t\tcout << sum << endl;\n\t}\n\treturn 0;\n}\n\n\nint chek(int pn/*, PR tp[10000 + 10]*/, int go, int ba , int sa)\n{\n\tif (puyo[go].col == puyo[ba].col && puyo[go].cn + puyo[ba].cn >= 4)\n\t{\n\t\tsa += puyo[go].cn + puyo[ba].cn;\n\n\t\tif (go - 1 >= 0 && ba + 1 < pn)\n\t\t{\n\t\t\treturn chek(pn, go - 1, ba + 1, sa);\n\t\t}\n\n\t}\n\n\treturn sa;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint check(vector<int> c)\n{\n  bool f=1;\n  int cnt;\n  vector<int>::iterator it,pre;\n  while(f){\n    cnt=f=0;\n    it=pre=c.begin();\n    for(it++;it!=c.end();it++){\n      if(*it==*pre){\n\tcnt++;\n      }else if(cnt<3){\n\tcnt=0;\n      }else{\n\twhile(cnt-->=0){\n\t  it--;\n\t  pre=it;\n\t  c.erase(pre);\n\t}\n\tf=1;\n\tbreak;\n      }\n      pre=it;\n    }\n  }\n  return c.size();\n}\n\nint main()\n{\n  int N,i,color,t;\n  int min,rest;\n  while(cin>>N,N){\n    vector<int> chara(N);\n    for(i=0;i<N;i++)cin>>chara[i];\n    min=N;\n    for(i=3;i<N;i++){\n      if(chara[i-3]==chara[i-2] && chara[i-3]==chara[i-1])color=chara[i-1];\n      else if(i+1<N && chara[i-2]==chara[i-1] && chara[i-2]==chara[i+1])color=chara[i-1];\n      else if(i+2<N && chara[i-1]==chara[i+1] && chara[i-1]==chara[i+2])color=chara[i-1];\n      else if(i+3<N && chara[i+1]==chara[i+2] && chara[i+1]==chara[i+3])color=chara[i+1];\n      else continue;\n      t=chara[i];chara[i]=color;\n      rest=check(chara);\n      chara[i]=t;\n      if(min>rest)min=rest;\n    }\n    printf(\"%d\\n\",min);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <algorithm>\n#include <utility>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <climits>\n#include <cassert>\nusing namespace std;\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int, int> pii;\ntypedef long long ll;\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define EACH(t,i,c) for(t::iterator i=(c).begin(); i!=(c).end(); ++i)\nconst double EPS = 1e-10;\nconst double PI  = acos(-1.0);\n\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi c(n);\n\t\tREP(i,n){\n\t\t\tcin>>c[i];\n\t\t}\n\t\tint best=n;\n\t\tREP(pos,n){\n\t\t\tFOR(chg,1,3+1){\n\t\t\t\tint t=pos-1,b=pos+1;\n\t\t\t\tint cnt=0;\n\t\t\t\tint color=chg;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(t<0||b>=n){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tint tcnt=cnt==0?1:0;\n\t\t\t\t\twhile(t>=0&&c[t]==color){\n\t\t\t\t\t\tt--;\n\t\t\t\t\t\ttcnt++;\n\t\t\t\t\t}\n\t\t\t\t\tint bcnt=0;\n\t\t\t\t\twhile(b<n&&c[b]==color){\n\t\t\t\t\t\tb++;\n\t\t\t\t\t\tbcnt++;\n\t\t\t\t\t}\n\t\t\t\t\tif(tcnt+bcnt<4){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt+=tcnt+bcnt;\n\t\t\t\t\tcolor=c[t];\n\t\t\t\t}\n\t\t\t\tbest=min(best,n-cnt);\n\t\t\t}\n\t\t}\n\t\tcout<<best<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\tfor(z=e;z<x;z++){\n\t\t\tif(o[e]==o[z])u++;\n\t\t\telse if(o[z]==0)w++;\n\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\nwhile(1){\n\tint n,i,j,m,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(p,0,sizeof(p));\n\tmemset(o,0,sizeof(o));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=0&&i!=n-1&&p[i]!=p[i-1]&&p[i]!=p[i+1]||i==0&&p[i]!=p[i+1]||i==n&&p[i]!=p[n-1])\n\t\tfor(j=1;j<4;j++){\n\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\to[i]=j;\n\t\t\tm=min(m,X(n));\n\t\t}\n\n\t}\n\tcout<<m<<endl;\n}\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; unsigned MAX = 15000;\n\n\t\tvector<int> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<int> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (int l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (E[k] == E[k + 1])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "Unacceptable submission"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main() {\n\tint n,a,c = -1,cnt = 1;\n\tvector<P> chain;\n\tcin >> n;\n\tfor(int i = 0;i < n;i++) {\n\t\tcin >> a;\n\t\tif(a == c) cnt++;\n\t\telse{\n\t\t\tif(c != -1) chain.push_back(P(cnt,c));\n\t\t\tcnt = 1;\n\t\t\tc = a;\n\t\t}\n\t}\n\tchain.push_back(P(cnt,c));\n\tint mi = (int)1e+9;\n\tfor(int i = 0;i < chain.size();i++){\n\t\tif(i != 0 && i != chain.size() - 1 && chain[i].first == 1){\n\t\t\tint left = i - 1,right = i + 1,sum = 0;\n\t\t\twhile(1){\n\t\t\t\tif(left < 0 || right >= chain.size()) break;\n\t\t\t\tif(chain[left].second != chain[right].second || (right - left > 2 && chain[left].first + chain[right].first < 4) || (right - left == 2 && chain[left].first + chain[right].first < 3)) break;\n\t\t\t\tleft--;\n\t\t\t\tright++;\n\t\t\t}\n\t\t\tfor(int j = 0;j <= left;j++) sum += chain[j].first;\n\t\t\tfor(int j = right;j < chain.size();j++) sum += chain[j].first;\n\t\t\tif(right - left == 2) sum++;\n\t\t\tmi = min(mi,sum);\n\t\t}\n\t}\n\tcout << mi << endl;\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\n\nint main()\n{\n  int N;\n  while(cin >> N, N){\n    vector<int> c(N+1); FOR(i,0,N) scanf(\"%d\",&c[i]);\n    c[N] = 10;\n    // i??????????????´??????\n    int ans = 1e9;\n    FOR(i,0,N) {\n      // 2?????????\n      FOR(j,1,4) {\n        vector<int> chain = c;\n        if(chain[i] == j) continue;\n        chain[i] = j;\n        FOR(k,0,10000) {\n          bool del = false;\n          int cnt = 0;\n          FOR(l,0,(int)chain.size()-1) {\n            if(chain[l] == chain[l+1]) cnt++;\n            else {\n              if(cnt >= 3) {\n                chain.erase(chain.begin() + l - cnt, chain.begin() + l + 1);\n                del = true;\n                break;\n              }\n              cnt = 0;\n            }\n          }\n          if(!del) {\n            ans = min(ans, (int)chain.size() - 1);\n            break;\n          }\n        }\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n  for(int i=0,j=0;j<a.size();){\n    if(a[j]==a[j+1])j++;\n    else {\n      if(j-i>2){\n\ta.erase(a.begin()+i,a.begin()+j+1);\n\ti=j=0;\n      }\n      else j++,i=j;\n    }\n  }\n  return a.size();\n}\n\nint main(void){\n  int n,m;\n  vector<int>a;\n\n  while(cin >> n,n){\n    a.clear();\n    for(int i=0;i<n;i++){\n      cin >> m;\n      a.push_back(m);\n    }\n\n    int ans=100000000;\n    for(int i=0;i<a.size();i++){\n      int temp=a[i];\n      for(int j=1;j<4;j++){\n\tif(temp!=j){\n\t  a[i]=j;\n\t  ans=min(ans,Erase(a));\n\t}\n      }\n      a[i]=temp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000],o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m=10001,l;\n\tcin>>n;\n\tif(n==0)break;\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=n-1&&p[i]!=p[i+1]&&f[i]+f[i+1]>=4||i!=0&&p[i]!=p[i-1]&&f[i]+f[i-1]>=4){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\n\t\t\t\t\tm=min(m,X(n));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2, v3;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2-1);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i][0]=0;\n\t\t\tsave[i]=0;\n\t\t}\n\t\tlist[0]=0;\n\t\tlist[1]=0;\n\t\tlist[2]=0;\n\t\tlist[3]=0;\n\t\tans=INF;\n\t\tv1=v3;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef tuple<int, int> duo;\nconst int dx[] = {0, 0, 1, -1, 1, 1, -1, -1};\nconst int dy[] = {1, -1, 0, 0, 1, -1, 1, -1};\nconst int Mod = 1000000000 + 0;\n//{{{ templates\n#define TT_ template<typename T>inline\n#define TTF_ template<typename T,typename F>inline\nTT_ T sq(T x){return x*x;}\nTT_ T In(){T x;cin>>x;return x;}\nTT_ void Out(T&x){cout<<x;}\nTT_ void sort(T&v){sort(begin(v),end(v));}\nTT_ void revs(T&v){reverse(begin(v),end(v));}\nTT_ void uniq(T&v){sort(v);v.erase(unique(begin(v),end(v)),end(v));}\nTT_ int ubnd(T&v,typename T::value_type x){return upper_bound(begin(v),end(v),x)-begin(v);}\nTT_ int lbnd(T&v,typename T::value_type x){return lower_bound(begin(v),end(v),x)-begin(v);}\nTTF_ void inpt(T&v,int n,F f){for(v.reserve(n);n--;v.emplace_back(f()));}\nTTF_ void show(T&v,F f,string d=\" \",string e=\"\\n\"){int i=0;for(auto&x:v)i++&&(cout<<d),f(x);cout<<e;}\nTT_ typename T::iterator minel(T&v){return min_element(begin(v),end(v));}\nTT_ typename T::iterator maxel(T&v){return max_element(begin(v),end(v));}\n\ninline void fast_io(){ios_base::sync_with_stdio(0);cin.tie(0);}\ninline int in(){int x;scanf(\"%d\",&x);return x;}\ninline ll pow_mod(ll a,ll k,ll m){ll r=1;for(;k>0;a=a*a%m,k>>=1)if(k&1)r=r*a%m;return r;}\ninline ll mod_inv(ll a,ll p){return pow_mod(a,p-2,p);}\n//}}} priority_queue queue deque front stringstream max_element min_element insert count make_tuple\n\ntemplate<typename T>\nstruct Cont {\n  T v;\n  int count;\n  Cont(T v, int count) : v(v), count(count) {}\n};\n\ntemplate<typename T>\nvector<Cont<T>> RLE(const vector<T>& x){\n  vector<Cont<T>> rle;\n  for (auto s = begin(x); s != end(x);){\n    auto sc = s;\n    while (s != end(x) && *sc == *s) ++s;\n    rle.emplace_back(*sc, s - sc);\n  }\n  return rle;\n}\n\ntemplate<typename T>\nint solve(const vector<T>& rle, int s, int k){\n  stack<T> S;\n  queue<T> Q;\n  for (int i = 0; i <= s; i++) S.push(rle[i]);\n  switch (k){\n    case 0:\n      Q.push(T(rle[s].v, rle[s + 1].count));\n      Q.push(rle[s + 2]);\n      break;\n    case 1:\n      Q.push(T(rle[s + 2].v, rle[s + 1].count + rle[s + 2].count));\n      break;\n    case 2:\n      Q.push(T(rle[s].v, 1));\n      Q.push(T(rle[s + 1].v, rle[s + 1].count - 1));\n      Q.push(rle[s + 2]);\n      break;\n    case 3:\n      S.top().count--;\n      S.push(T(rle[s + 1].v, 1));\n      Q.push(rle[s + 1]);\n      Q.push(rle[s + 2]);\n      break;\n  }\n  const int N = rle.size();\n  for (int i = s + 3; i < N; i++) Q.push(rle[i]);\n  int ans = 0;\n  while (!S.empty() && !Q.empty()){\n    Cont<int> st = S.top();\n    Cont<int> qf = Q.front();\n    if (st.v != qf.v) break;\n    if (st.count + qf.count < 4) break;\n    ans += st.count + qf.count;\n    S.pop();\n    Q.pop();\n  }\n  return ans;\n}\n\nint main()\n{\n  // 1-3 3-1 -> 0\n  // n-1-m   -> 1\n  // 3-2 3-3 -> 2\n  // 2-3     -> 3\n  while (int N = in()){\n    vector<int> v;\n    inpt(v, N, in);\n    auto rle = RLE(v);\n    rle.emplace_back(-0xDEAD, -0xBEEF);\n    rle.emplace_back(-0xDEAD, -0xBEEF);\n    int maxi = 0;\n    for (int i = 0; i < rle.size() - 2; i++){\n      if (rle[i].count + rle[i + 1].count == 4 && rle[i].count != 2) maxi = max(maxi, solve(rle, i, 0));\n      if (rle[i + 1].count == 1 && rle[i].v == rle[i + 2].v) maxi = max(maxi, solve(rle, i, 1));\n      if (rle[i].count == 3 && rle[i + 1].count > 1) maxi = max(maxi, solve(rle, i, 2));\n      if (rle[i].count == 2 && rle[i + 1].count == 3) maxi = max(maxi, solve(rle, i, 3));\n    }\n    printf(\"%d\\n\", N - maxi);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//連鎖は、色を変えた場所付近から起こる＆0連鎖になるものをわざわざ消す必要はない。\n//ということで、シミュレーションの前に、（色を変えるべき場所,色）の候補を絞る。\n#include<iostream>\nusing namespace std;\n\nint n;\nint input[10000];\n\nint erase( int pos, int num ){\n\tstatic int data[10000];\n\tint i,j;\n\tfor( i = 0; i < n; i++ ){\n\t\tdata[i] = input[i];\n\t}\n\tdata[pos] = num;\n\t\n\tbool eflag = true;\n\twhile( eflag ){\n\t\teflag = false;\n\t\tfor( i = 0; i < n-3; i++ ){\n\t\t\tif( data[i] == 0 )\n\t\t\t\tcontinue;\n\t\t\t\t\n\t\t\tint erased = 0;\n\t\t\tfor( j = 1; i+j < n; j++ ){\n\t\t\t\tif( data[i+j] == 0 ){\n\t\t\t\t\terased++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( data[i] != data[i+j] )\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif( j-erased >= 4 ){\n\t\t\t\teflag = true;\n\t\t\t\t//消す\n\t\t\t\tint st = i, ed = i+j;\n\t\t\t\tfor( j = st; j < ed; j++ ){\n\t\t\t\t\tdata[j] = 0;\n\t\t\t\t}\n\t\t\t\t//ここでbreakをするとTLE確実。\n\t\t\t}\n\t\t}\n\t}\n\tint ret = n;\n\tfor( i = 0; i < n; i++ ){\n\t\tif( data[i] == 0 )\n\t\t\tret--;\n\t}\n\treturn ret;\n}\n\nint main(){\n\tint i,j;\n\t\n\twhile( cin >> n ){\n\t\tif(!n)break;\n\t\tfor( i = 0; i < n; i++ ){\n\t\t\tcin >> input[i];\n\t\t}\n\t\n\t\tint ans = n;\n\t\tfor( i = 0; i < n; i++ ){\n\t\t\tfor( j = 1; j <= 3; j++ ){\n\t\t\t\tint l,r;\n\t\t\t\tfor( l = i-1; l >= 0; l-- ){\n\t\t\t\t\tif( input[l] != j )\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfor( r = i+1; r < n; r++ ){\n\t\t\t\t\tif( input[r] != j )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif( r - l - 1 >= 4 ){\n\t\t\t\t\t\tans = min( ans, erase( i, j ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//breakしなかった場合の処理も書こう(戒め\n\t\t\t\tif( r - l - 1 >= 4 ){\n\t\t\t\t\tans = min( ans, erase( i, j ) );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//34\n#include<iostream>\n#include<vector>\n\nusing namespace std;\n\nint main(){\n  for(int n;cin>>n,n;){\n    vector<int> vo(n+1);\n    for(int i=0;i<n;i++){\n      cin>>vo[i];\n    }\n    vo[n]=-1;\n    int ans=1<<30;\n    for(int i=0;i<n;i++){\n      for(int j=0;j<3;j++){\n\tvector<int> v=vo;\n\tv[i]=j;\n\tfor(;;){\n\t  bool va=false;\n\t  int c=0;\n\t  int p=-1;\n\t  for(int i=0;i<v.size();i++){\n\t    if(v[i]!=p){\n\t      if(c>=4){\n\t\tv.erase(v.begin()+i-c,v.begin()+i);\n\t\tva=true;\n\t\tbreak;\n\t      }else{\n\t\tp=v[i];\n\t\tc=1;\n\t      }\n\t    }else{\n\t      c++;\n\t    }\n\t  }\n\t  if(!va)break;\n\t}\n\tif(ans>v.size()){\n\t  ans=v.size();\n\t}\n      }\n    }\n    cout<<ans-1<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\twhile(true){\n\t\tint n, a, b, ans = 1000000, puyo[10000];\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tint  sum = 0, sub = n;\n\t\t\ta = b = i;\n\t\t\t\n\t\t\twhile(puyo[--a] == puyo[++b]){\n\t\t\t\tfor(int j = a; j < n; j--){\n\t\t\t\t\tif(puyo[j] != puyo[j - 1]){\n\t\t\t\t\t\ta = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = b; j < n; j++){\n\t\t\t\t\tif(puyo[j] != puyo[j + 1]){\n\t\t\t\t\t\tb = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(b - a + 1 >= 4){\n\t\t\t\t\tsum = b - a + 1;\n\t\t\t\t} else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsub -= sum;\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(const vector<Pair>& v)\n{\n\t// テゥツ鳴「テヲツ閉ーテ」ツつ津・ツョツ淌ィツ。ツ古」ツ?凖」ツつ凝」ツ?淌」ツ?ウテ」ツ?ォテ・ツョツ」ティツィツ?」ツ?凖」ツつ凝」ツ?ィテ」ツδ。テ」ツδ「テ」ツδェテ」ツ?古ィツカツウテ」ツつ甘」ツ?ェテ」ツ?湘」ツ?ェテ」ツつ凝」ツ?ョテ」ツ?ァテゥツ敖凖ァツ堋?」ツ?ォテァツ板ィテヲツ?湘」ツ?凖」ツつ?\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(const vector<int>& v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(const vector<Pair> &v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\t\t\t\tif(!((i > 0 && chain[i-1] == color) ||\n\t\t\t\t\t\t (i + 1 < N && chain[i+1] == color))) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    deque<Block> tmp_stage;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\ttmp_stage = stage;\n\tint prev_color = tmp_stage[i].color;\n\tint prev_size = tmp_stage[i].size;\n\n\ttmp_stage[i].color = color;\n\ttmp_stage[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp_stage.insert(tmp_stage.begin()+i,b);\n\t}\n\n\tres = min(res,check_stage(tmp_stage));\n\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nconst int INF = 1 << 24;\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tif(v[i].size >= 3){\n\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t}\n\t\t}\n\n\t\tif(v.size() >= 3){\n\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\tint destroyChara = 0,\n\t\t\t\t\tupperChara = i-1, lowerChara = i+1;\n\t\t\t\t//v[i]が両辺一個を変える\n\t\t\t\tif(v[i].size >= 3){\n\t\t\t\t\tdestroyChara = v[i].size + 1;\n\t\t\t\t\tv[i-1].size--;\n\t\t\t\t\tif(!v[i-1].size){\n\t\t\t\t\t\tif(i-2 >= 0 && v[i].color == v[i-2].color){\n\t\t\t\t\t\t\tdestroyChara += v[i-2].size;\n\t\t\t\t\t\t\tupperChara = i-3;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tupperChara = i-2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif((v[upperChara].color == v[lowerChara].color) && (v[upperChara].size + v[lowerChara].size >= 4)){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\tv[i-1].size++;\n\t\t\t\t\t\n\t\t\t\t\tupperChara = i-1, lowerChara = i+1;\n\t\t\t\t\tdestroyChara = v[i].size + 1;\n\t\t\t\t\tv[i+1].size--;\n\t\t\t\t\tif(!v[i+1].size){\n\t\t\t\t\t\tif(i+2 < v.size() && v[i].color == v[i+2].color){\n\t\t\t\t\t\t\tdestroyChara += v[i+2].size;\n\t\t\t\t\t\t\tlowerChara = i+3;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif((v[upperChara].color == v[lowerChara].color) && (v[upperChara].size + v[lowerChara].size >= 4)){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\tv[i+1].size++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <cmath>\n#include <algorithm>\n#include <stack>\n#include <queue>\n\nusing namespace std;\n\nint minimum,N;\n\nstruct Info{\n\tInfo(){\n\t\tcolor = succeed_num = 0;\n\t\tdeleted = false;\n\t}\n\tint color,succeed_num;\n\tbool deleted;\n};\n\nint calc(Info* info,int left,int right){\n\tint sum = 0;\n\n\twhile(left >= 0 && right <= N-1){\n\t\tif(info[left].color != info[right].color && info[left].succeed_num == 4){\n\t\t\tsum += 4;\n\t\t\tleft--;\n\t\t}else if(info[left].color != info[right].color && info[right].succeed_num == 4){\n\t\t\tsum += 4;\n\t\t\tright++;\n\t\t}else if(info[left].color == info[right].color && info[left].succeed_num + info[right].succeed_num >= 4){\n\t\t\tsum += info[left].succeed_num + info[right].succeed_num;\n\t\t\tleft--;\n\t\t\tright++;\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn N - sum;\n}\n\nvoid func(){\n\n\tif(N == 1){\n\t\tprintf(\"1\\n\");\n\t\treturn;\n\t}\n\n\tInfo info[N];\n\n\tint pre,count,tmp,index = 0;\n\tscanf(\"%d\",&pre);\n\n\tcount = 1;\n\n\tfor(int loop = 1; loop < N; loop++){\n\t\tscanf(\"%d\",&tmp);\n\n\t\tif(tmp == pre){\n\t\t\tcount++;\n\t\t\tif(loop == N-1){\n\t\t\t\tinfo[index].color = pre;\n\t\t\t\tinfo[index].succeed_num = count;\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}else{\n\t\t\tinfo[index].color = pre;\n\t\t\tinfo[index].succeed_num = count;\n\t\t\tindex++;\n\t\t\tcount = 1;\n\t\t\tif(loop == N-1){\n\t\t\t\tinfo[index].color = tmp;\n\t\t\t\tinfo[index].succeed_num = 1;\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\t\tpre = tmp;\n\t}\n\n\tminimum = N;\n\n\tfor(int i = 0; i <= index-1; i++){\n\t\tif((i > 0 && info[i-1].succeed_num == 3) || (i <= index-2 && info[i+1].succeed_num == 3) || (i > 0 && i <= index-2 && info[i-1].color == info[i+1].color\n\t\t                                                          && info[i-1].succeed_num + info[i+1].succeed_num >= 3)){\n\t\t\tif(info[i].succeed_num == 1){\n\t\t\t\tif(info[i-1].color == info[i+1].color){\n\t\t\t\t\tInfo new_info[index];\n\t\t\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\t\t\tnew_info[i-1].succeed_num += 1;\n\t\t\t\t\ttmp = calc(new_info,i-1,i+1);\n\t\t\t\t\tminimum = min(minimum,tmp);\n\t\t\t\t}else{\n\t\t\t\t\tInfo new_info[index];\n\t\t\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\t\t\tnew_info[i].color = info[i-1].color;\n\t\t\t\t\ttmp = calc(new_info,i-1,i);\n\t\t\t\t\tminimum = min(minimum,tmp);\n\t\t\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\t\t\tnew_info[i].color = info[i+1].color;\n\t\t\t\t\ttmp = calc(new_info,i,i+1);\n\t\t\t\t\tminimum = min(minimum,tmp);\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tInfo new_info[index];\n\t\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\t\tnew_info[i].succeed_num -= 1;\n\t\t\t\tnew_info[i-1].succeed_num += 1;\n\t\t\t\ttmp = calc(new_info,i-1,i);\n\t\t\t\tminimum = min(minimum,tmp);\n\n\t\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\t\tnew_info[i].succeed_num -= 1;\n\t\t\t\tnew_info[i+1].succeed_num += 1;\n\t\t\t\ttmp = calc(new_info,i,i+1);\n\t\t\t\tminimum = min(minimum,tmp);\n\t\t\t}\n\t\t}else if(i == 0 && info[i+1].succeed_num == 3){\n\n\t\t\tInfo new_info[index];\n\n\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\tnew_info[i].succeed_num -= 1;\n\t\t\tnew_info[i+1].succeed_num += 1;\n\t\t\ttmp = calc(new_info,i,i+1);\n\t\t\tminimum = min(minimum,tmp);\n\t\t}else if(i == index-1 && info[i-1].succeed_num == 3){\n\n\t\t\tInfo new_info[index];\n\t\t\tfor(int k = 0; k < index; k++)new_info[k] = info[k];\n\t\t\tnew_info[i].succeed_num -= 1;\n\t\t\tnew_info[i-1].succeed_num += 1;\n\t\t\ttmp = calc(new_info,i-1,i);\n\t\t\tminimum = min(minimum,tmp);\n\t\t}\n\t}\n\n\tprintf(\"%d\\n\",minimum);\n\n}\n\nint main(){\n\n\twhile(true){\n\t\tscanf(\"%d\",&N);\n\t\tif(N == 0)break;\n\n\t\tfunc();\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\n\nbool checkMatchcolor(int charindex, int colorindex, vector<int> &line, int *color){\n\tif(charindex == 0){\n\t\tif(color[colorindex] != line[charindex+1]) return false;\n\t}\n\telse if(charindex == line.size()-1){\n\t\tif(color[colorindex] != line[charindex-1]) return false;\n\t}\n\telse if(color[colorindex] != line[charindex+1] && color[colorindex] != line[charindex-1]) return false;\n\treturn true;\n}\n\nvoid changeZero(vector<int> &line, int index){\n\tint target = line[index];\n\tfor(int i = index; line[i] == 0 || line[i] == target; i--){\n\t\tline[i] = 0;\n\t\tif(!i) break;\n\t}\n}\n\nint main(){\n\tint n = 0;\n\tint color[][2] = {{0, 0}, {2, 3}, {1, 3}, {1, 2}};\n\twhile(cin >> n && n != 0){\n\t\tvector<int> line;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint tmp = 0;\n\t\t\tcin >> tmp;\n\t\t\tline.push_back(tmp);\n\t\t}\n\n\t\tint minch = n;\n\t\tfor(int i = 0; i < n; i++){ \n\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\tvector<int> copyline = line;\n\t\t\t\tif(!checkMatchcolor(i, j, copyline, color[line[i]])) continue;\n\t\t\t\tcopyline[i] = color[line[i]][j];\n\t\t\t\tint count = 1;\n\t\t\t\tfor(int k = 0; k < n-1; k++){\n\t\t\t\t\tif(!copyline[k]) continue;\n\t\t\t\t\tint progress = 1;\n\t\t\t\t\twhile(!copyline[k+progress] && k+progress<copyline.size()) progress++;\n\t\t\t\t\tif(copyline[k] != copyline[k+progress]){\n\t\t\t\t\t\tif(count >= 4){\n\t\t\t\t\t\t\tchangeZero(copyline, k);\n\t\t\t\t\t\t\tk = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse count++;\n\t\t\t\t}\n\n\t\t\t\tif(count >= 4){\n\t\t\t\t\tchangeZero(copyline, n-1);\n\t\t\t\t}\n\n\t\t\t\tint chnum = 0;\n\t\t\t\tfor(int k = 0; k < n; k++){\n\t\t\t\t\tif(copyline[k]) chnum++;\n\t\t\t\t}\n\n\t\t\t\tminch = minch > chnum ? chnum : minch;\n\t\t\t}\n\t\t}\n\n\t\tcout << minch << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<map>\n#include<set>\n#include<vector>\n#include<algorithm>\n#include<string.h>\n#include<queue>\n#include<stack>\n#include<climits>\n#include<cmath>\n#include<stdio.h>\nusing namespace std;\n\nint ar[10002];\n\nint main(){\n   // freopen(\"/Users/shitian/Downloads/in.txt\",\"r\",stdin);\n    int n;\n    while(cin>>n,n){;\n        for(int i=0;i<n;i++){\n            cin>>ar[i];\n        }\n        int ans=INT_MAX;\n        for(int i=0;i<n;i++){\n            int cur=ar[i];\n            for(int j=1;j<=3;j++){\n                ar[i]=j;\n                int l=i,r=i;\n                while(1){\n                    while(l>0&&ar[l-1]==ar[r]){\n                        l--;\n                    }\n                    while(r<n-1&&ar[r+1]==ar[l]){\n                        r++;\n                    }\n                    if(l>0&&r<n-1&&r-l+1>3){\n                        l--;r++;\n                    } else {\n                        break;\n                    }\n                    //cout<<\"i: \"<<i<<\"  j: \"<<j<<\"   l: \"<<l<<\"   r: \"<<r<<endl;\n                }\n                ans=min(l+n-r+2,ans);\n            }\n            ar[i]=cur;\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, deque<int>&r) {\n\tif (l.empty() || r.empty())return 0;\n\tint lt = l.back();\n\tint rt = r[0];\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num>=3) {\n\t\t\tint ls = l.size();\n\t\t\tfor (int i = a + 1; i < ls; ++i) {\n\t\t\t\tl.pop_back();\n\t\t\t}\n\t\t\tfor (int i = 0; i < b; ++i) {\n\t\t\t\tr.pop_front();\n\t\t\t}\n\t\t\treturn num+1 + getans(l, r);\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint getans(const vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\tvector<int>l(as.begin(), as.begin() + f);\n\t\tdeque<int> r;\n\t\tfor (int i = t + 1; i < as.size(); ++i) {\n\t\t\tr.push_back(as[i]);\n\t\t}\n\t\treturn (t-f+1)+getans(l, r);\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <cstddef>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; size_t MAX = 15000;\n\n\t\tvector<char> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tif (N == 0) { break; }\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (char j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<char> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (char l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1 && E[k] == E[k + 1])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    deque<Block> tmp_stage;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\ttmp_stage = stage;\n\tint prev_color = tmp_stage[i].color;\n\tint prev_size = tmp_stage[i].size;\n\n\ttmp_stage[i].color = color;\n\ttmp_stage[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp_stage.insert(tmp_stage.begin()+i,b);\n\t}\n\n\tres = min(res,check_stage(tmp_stage));\n\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define pb\t\t\tpush_back\n#define mp\t\t\tmake_pair\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\n\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tif (n == 0) break;\n\t\t\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tvector <int> point;\n\t\tfor (int i = 1; i < v.sz - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (4 <= tmp){\n\t\t\t\t\tpoint.pb(i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (point.empty()){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tfor (int i = 0; i < point.sz; i++){\n\t\t\tvector <P> a(v);\n\t\t\ta[point[i]].fir = a[point[i] + 1].fir = a[point[i] - 1].fir = 0;\n\t\t\tint up = point[i] - 2, down = point[i] + 2, sum = 0;\n\t\t\twhile (0 <= up && down <= (a.sz - 1)){\n\t\t\t\tif (a[up].sec + a[down].sec < 4) break;\n\t\t\t\telse if (a[up].fir == a[down].fir){\n\t\t\t\t\ta[up].fir = a[down].fir = 0;\n\t\t\t\t\tup--;\n\t\t\t\t\tdown++;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tfor (int j = 0; j < a.sz; j++){\n\t\t\t\tif (a[j].fir != 0){\n\t\t\t\t\tsum += a[j].sec;\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = min(res, sum);\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+4, -1);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+2]);\n        }\n        v[0] = 100; v[n+3] = 100;\n        int ans = 0;\n        for (int i = 2; i <= n+1; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int t = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                    if(v[l] != v[r]) break;\n                }\n                v[i] = t;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\nusing namespace std;\nint num;//キャラクタの最大数\nvector<int> vec;//キャラクタの格納\nint ans;//出力する答え\n//\nint Input();//入力\nvoid Show();//現在のキャラクタの表示\nint Delete();//同じキャラクタが4つ連なったら消滅させる。消滅できなかったら0を返す\nint Combo();//コンボさせる。戻り値は残ったキャラクタ数\nint Calc();\n//\nint main(void)\n{\n\twhile(Input()){\n\t\tprintf(\"%d\\n\",Calc());\n\t}\n\t\tfflush(stdin);\n\t\tgetchar();\n\treturn 0;\n}\n//\nint Input()\n{\n\tint ibuf;\n\tscanf(\"%d\",&num);\n\tif(num!=0){\n\t\tfor(int f1=0;f1<num;f1++){\n\t\t\tscanf(\"%d\",&ibuf);\n\t\t\tvec.push_back(ibuf);\n\t\t}\n\t}\n\telse return 0;\n\treturn 1;\n}\n//\nvoid Show()\n{\n\tprintf(\"Show~\\n\");\n\tfor(int f1=0;f1<(int)vec.size();f1++){\n\t\tprintf(\"%d\\n\",vec[f1]);\n\t}\n\tprintf(\"~Show\\n\");\n}\n//\nint Delete()\n{\n\tint mem;\n\tint ret=0;\n\tfor(int f1=0;f1<(int)vec.size()-3;f1++){\n\t\tif(vec[f1]==vec[f1+1]&&vec[f1]==vec[f1+2]&&vec[f1]==vec[f1+3]){\n\t\t\tret=1;\n\t\t\tmem=vec[f1];\n\t\t\tfor(int f2=f1;f2<(int)vec.size();f2++){\n\t\t\t\tif(mem==vec[f2]){\n\t\t\t\t\tvec.erase(vec.begin()+f2);\n\t\t\t\t\tf2--;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\n//\nint Combo()\n{\n\tvector<int> mem;\n\tint ret;\n\tmem=vec;\n\twhile(Delete());\n\tret=vec.size();\n\tvec=mem;\n\treturn ret;\n}\n//\nint Calc()\n{\n\tvector<int> mem=vec;\n\tint ret=10001;\n\tfor(int f1=0;f1<(int)vec.size();f1++){\n\t\tfor(int f2=1;f2<=3;f2++){\n\t\t\tvec=mem;\n\t\t\tif(vec[f1]!=f2){\n\t\t\t\tvec[f1]=f2;\n\t\t\t\tint m=Combo();\n\t\t\t\tret>m?ret=m:0;\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cmath>\n#include<climits>\n#include<iostream>\n#include<algorithm>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<list>\n#include<map>\n#include<set>\ntypedef long long ll;\ntypedef unsigned long long ull;\nusing namespace std;\n#define pb push_back\nint dy[]={0, 0, 1, -1, 0};\nint dx[]={1, -1, 0, 0, 0};\n\n#define FOR(i,a,b) for (int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define REP(i,n) for (int i=0;i<(n);i++)\n#define RREP(i,n) for (int i=(n)-1;i>=0;i--)\nint n,c[10001],c2[10001];\nint main(){\n    while(true){\n        cin >> n;\n        if(n == 0)\n            break;\n        REP(i,n)\n            cin >> c[i];\n        int mini = n;\n        REP(i,n){\n            int s = c[i];\n            FOR(j,1,4){\n                if(s == j)\n                    continue;\n\n                c[i] = j;\n\n                int l = i;\n                int r = i;\n                int cou = 0;\n                int center = c[i];\n                while(true){\n\n                    while(l - 1 >= 0 && c[l - 1] == center)l--;\n                    while(r + 1 < n && c[r + 1] == center)r++;\n\n                    if(r - l + 1  - cou < 4)break;\n\n                    cou = r - l + 1;\n\n                    if(l == 0 || r == n - 1 || c[l - 1] !=  c[r + 1])\n                        break;\n                    center = c[l - 1];\n                }\n                mini = min(mini,n - cou);\n            }\n            c[i] = s;\n        }\n        cout << mini << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\nusing namespace std;\n\nint n;\nchar character[10000] = {0};\n\nint chain(int start) {\n\n\tint counttop[10000] = {0};\n\tint countbottom[10000] = {0};\n\tint i, j, k;\n\tint ans = n;\n\n\tj = 0;\n\tfor(i = start; i >= 0; i--) {\n\t\tif(i == start || i == start-1) {\n\t\t} else if(character[i] != character[i+1]) {\n\t\t\tj++;\n\t\t}\n\t\tcounttop[j]++;\n\t}\n\tk = 0;\n\tfor(i = start+1; i <= n; i++) {\n\t\tif(i == start+1) {\n\t\t} else if(character[i] != character[i-1]) {\n\t\t\tk++;\n\t\t}\n\t\tcountbottom[k]++;\n\t}\n\tj = min(j, k);\n\tfor(i = 0; i <= j; i++) {\n\t\tif((counttop[i] + countbottom[i]) < 4) {\n\t\t\tbreak;\n\t\t} else {\n\t\t\tans -= counttop[i];\n\t\t\tans -= countbottom[i];\n\t\t}\n\t}\n\tcout << start << \" return \" << ans << endl << endl;\n\treturn ans;\n}\n\nint main() {\n\n\t//ifstream cin(\"INPUT.txt\");\n\t//ofstream cout(\"OUTPUT.txt\");\n\n\twhile(cin >> n, n != 0) {\n\n\t\tint ans = n;\n\t\tint i;\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tcin >> character[i];\n\t\t}\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tif(i+3 < n && character[i+1] == character[i+2] && character[i+1] == character[i+3]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t} else if(i+2 < n && character[i-1] == character[i+1] && character[i-1] == character[i+2]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t} else if(i+1 < n && character[i-2] == character[i-1] && character[i-2] == character[i+1]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t} else if(i > 2 && character[i-3] == character[i-2] && character[i-3] == character[i-1]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<int> color(n);\n        for(int i=0; i<n; ++i)\n            cin >> color[i];\n\n        int ret = n;\n        for(int i=0; i<2*n; ++i){\n            int tmp = color[i/2];\n            int j = i/2;\n            int k = i/2;\n            if(i % 2 == 0){\n                if(i/2+1 >= n)\n                    continue;\n                color[i/2] = color[i/2+1];\n                ++ k;\n            }else{\n                if(i/2-1 < 0)\n                    continue;\n                color[i/2] = color[i/2-1];\n                -- j;\n            }\n            while(j >= 0 && k < n){\n                if(color[j] != color[k])\n                    break;\n                int j1 = j;\n                while(j1 >= 0 && color[j1] == color[j])\n                    -- j1;\n                int k1 = k;\n                while(k1 < n && color[k1] == color[k])\n                    ++ k1;\n                int num = j - j1 + k1 - k;\n                if(num < 4)\n                    break;\n                j = j1;\n                k = k1;\n                ret = min(ret, j+1 + n-k);\n            }\n            color[i/2] = tmp;\n        }\n\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std; \n\t\n\n\tbool can(vector<int> chars,int i){\n\t\t\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\tchars[i]=j;\n\t\t\tif(i<=2){\n\t\t\tif(chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3])return true;\n\t\t\t}\n\t\t\t\n\t\telse if(i>=chars.size()-3){\n\t\t\tif(chars[i]==chars[i-1]&&chars[i-1]==chars[i-2]&&chars[i-2]==chars[i-3])return true;\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tif(chars[i]==chars[i-1]&&chars[i-1]==chars[i-2]&&chars[i-2]==chars[i-3]||chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3])return true;\n\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tint solve(vector<int>chars,int a,int b){//a番目のキャラをb色に変えたときのシュミレーション\n\t\tchars[a]=b;\n\t\t\n\t\t\n\t\t\n\t\twhile(true){\n\t\tbool flag=false;\n\t\tfor(int i=0;i<chars.size()-3;i++){\n\t\t\tif(chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3]){\n\t\t\t\tint j=i;\n\t\t\t\t\twhile(chars[j]==chars[i]){\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int k=i;k<j;k++){\n\t\t\t\tif(i<chars.size())chars.erase(chars.begin()+i);\n\t\t\t\t}\n\t\t\t\tflag=true;\n\t\t\t}\n\t\t\n\t\t}\n\t\t\t\tif(!flag)break;\n\t\n\t\n\t\t}\n\t\treturn chars.size();\n\t}\nint main(){\n\tint N,m;\n\tint ans=150000;\n\twhile(cin>>N,N){\n\tvector<int>chars;\n\t\n\tfor(int i=0;i<N;i++)cin>>m,chars.push_back(m);\n\t\tans=chars.size();\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(can(chars,i))ans=min(solve(chars,i,j),ans);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t\tchars.clear();\n\t\t ans=15000;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <vector>\n#include <string>\n#include <map>\n#include <queue>\n#include <cstdlib>\n#include <algorithm>\n#include <iterator>\nusing namespace std;\n\n/*\nconst int MAX_E=2*(100-1);\nconst int MAX_V=100;\nconst long long int INF=100000000;\nstruct edge { int from,to,cost;};\nedge es[MAX_E];\n//int d[MAX_V];\nint V,E;\nvoid shortest_path(int s,int e,vector<int>& d);\nint main(){\n\tint n,k;\n\twhile(cin >> n >> k&&n!=0&&k!=0){\n\t\tint V=n;\n\t\tint E=2*(n-1);\n\t\tvector<int> land(V);\n\t\tint l=0;\n\t\tfor(int i=0; i<E; ++i){\n\t\t\tes[i].cost=-1;\n\t\t\tes[i].from=-1;\n\t\t\tes[i].to=-1;\n\t\t}\n\t\tfor(int i=0; i<k; ++k){\n\t\t\tint m;\n\t\t\tcin >> m;\n\t\t\tif(m==0){\n\t\t\t\tint a,b;\n\t\t\t\tcin >> a >> b;\n\t\t\t\tshortest_path(a,b,land);\n\t\t\t\tcout << land[b] << \"\\n\";\n\t\t\t} else if(m==1){\n\t\t\t\tint c,d,e;\n\t\t\t\tcin >> c >> d >> e;\n\t\t\t\tes[l].from=c;\n\t\t\t\tes[l].to=d;\n\t\t\t\tes[l].cost=e;\n\t\t\t\tes[l+1].from=d;\n\t\t\t\tes[l+1].to=c;\n\t\t\t\tes[l+1].cost=e;\n\t\t\t\tl+=2;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n\nvoid shortest_path(int s,int e,vector<int>& d){\n\tcout << \"ok1\\n\";\n\tfor(int i=0; i<V; ++i) {\n\t\tcout << \"ok\\n\";\n\t\td[i]=INF;\n\t}\n\td[s]=0;\n\twhile(true){\n\t\tcout << \"ok2\\n\";\n\t\tbool update=false;\n\t\tfor(int i=0; i<E; ++i){\n\t\t\tedge e=es[i];\n\t\t\tif(d[e.from]!=INF&&d[e.to]>d[e.from]+e.cost){\n\t\t\t\td[e.to]=d[e.from]+e.cost;\n\t\t\t\tupdate=true;\n\t\t\t}\n\t\t}\n\t\tif(!update) break;\n\t}\n}\n*/\n\nconst int INF=100000000;\nint main(){\n\tint n;\n\twhile(cin >> n&&n!=0){\n\t\tvector<int> color;\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tint t;\n\t\t\tcin >> t;\n\t\t\tcolor.push_back(t);\n\t\t}\n\t\tint maxDel=INF;\n\t\tfor(int i=0; i<n; ++i){\n\t\t\tfor(int j=1; j<=3; ++j){\n\t\t\t\tif(color[i]==j) continue;\n\t\t\t\tint up=i-1;\n\t\t\t\tint down=i+1;\n\t\t\t\tint sum=0;\n\t\t\t\tint c=1;\n\t\t\t\tbool first=true;\n\t\t\t\tint col=j;\n\t\t\t\twhile(1){\n\t\t\t\t\tint nCal=-1;\n\t\t\t\t\twhile(1){\n\t\t\t\t\t\tif(up<0) break;\n\t\t\t\t\t\tif(color[up]!=col){\n\t\t\t\t\t\t\tnCal=color[up];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tup--;\n\t\t\t\t\t\tc++;\n\t\t\t\t\t}\n\t\t\t\t\twhile(1){\n\t\t\t\t\t\tif(down>=n) break;\n\t\t\t\t\t\tif(color[down]!=col){\n\t\t\t\t\t\t\tif(nCal==-1) nCal=color[down];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t++down;\n\t\t\t\t\t\t++c;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\tsum+=c;\n\t\t\t\t\t} else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tc=0;\n\t\t\t\t\tif(nCal==-1){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcol=nCal;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmaxDel=min(maxDel,n-sum);\n\t\t\t}\n\t\t}\n\t\tcout << maxDel << \"\\n\";\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4) tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.clear();\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    \n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-9;\ntypedef vector<int> vi;\ntypedef long long ll;\ntypedef pair<int,int> pii;\nint N;\nint ans=1e9;\nint color[10005];\nint indexhash[10005];\nstruct balls\n{\n  int color,chain;\n  balls(int color,int chain):\n    color(color),chain(chain){};\n};\n\nvoid solve(vector<balls> data,int index)\n{\n  vector<balls> savedata=data;\n  int rest=N;\n  int l=-1;\n  int r=-1;\n  int now=indexhash[index];\n  //cout << index << endl;\n  if(index>1 && index<N)\n    {\n      l=indexhash[index-1];\n      r=indexhash[index+1];\n      if(l==r && now==l && now==r) return;\n      if((now==l && now!=r && data[r].chain<3) ||\n\t (now==r && now!=l && data[l].chain<3)) return;\n      if(now==l && now!=r && data[r].chain==3)\n\t{\n\t  r++;\n\t  data[l].chain--;\n\t  rest-=4;\n\t  while(1)\n\t    {\n\t      if(r>=int(data.size()) || l<0) \n\t\t{\n\t\t  ans=min(ans,rest);\n\t\t  return;\n\t\t}\n\t      if(data[l].color==data[r].color && \n\t\t data[l].chain+data[r].chain>=4)\n\t\t{\n\t\t  rest-=(data[l].chain+data[r].chain);\n\t\t}\n\t      else\n\t\t{\n\t\t  ans=min(ans,rest);\n\t\t  return;\n\t\t}\n\t      l--,r++;\n\t    }\n\t}\n      if(now==r && now!=l && data[l].chain==3)\n\t{\n\t  l--;\n\t  data[r].chain--;\n\t  rest-=4;\n\t  while(1)\n\t    {\n\t      if(r>=int(data.size()) || l<0) \n\t\t{\n\t\t  ans=min(ans,rest);\n\t\t  return;\n\t\t}\n\t      if(data[l].color==data[r].color && \n\t\t data[l].chain+data[r].chain>=4)\n\t\t{\n\t\t  rest-=(data[l].chain+data[r].chain);\n\t\t}\n\t      else\n\t\t{\n\t\t  ans=min(ans,rest);\n\t\t  return;\n\t\t}\n\t      l--,r++;\n\t    }\n\t}\n      if(now!=l && now!=r && l!=r && data[l].color!=data[r].color)\n\t{\n\t  if(data[l].chain>=3)\n\t    {\n\t      l--;\n\t      rest-=4;\n\t      while(1)\n\t\t{\n\t\t  if(r>=int(data.size()) || l<0) \n\t\t    {\n\t\t      ans=min(ans,rest);\n\t\t      break;\n\t\t    }\n\t\t  if(data[l].color==data[r].color && \n\t\t     data[l].chain+data[r].chain>=4)\n\t\t    {\n\t\t      rest-=(data[l].chain+data[r].chain);\n\t\t    }\n\t\t  else\n\t\t    {\n\t\t      ans=min(ans,rest);\n\t\t      break;\n\t\t    }\n\t\t  l--,r++;\n\t\t}\n\t    }\n\t  data=savedata;\n\t  rest=N;\n\t  if(data[r].chain>=3)\n\t    {\n\t      r++;\n\t      rest-=4;\n\t      while(1)\n\t\t{\n\t\t  if(r>=int(data.size()) || l<0) \n\t\t    {\n\t\t      ans=min(ans,rest);\n\t\t      return;\n\t\t    }\n\t\t  if(data[l].color==data[r].color && \n\t\t     data[l].chain+data[r].chain>=4)\n\t\t    {\n\t\t      rest-=(data[l].chain+data[r].chain);\n\t\t    }\n\t\t  else\n\t\t    {\n\t\t      ans=min(ans,rest);\n\t\t      return;\n\t\t    }\n\t\t  l--,r++;\n\t\t}\n\t    }\n\t}\n      if(now!=l && now!=r && l!=r && data[l].color==data[r].color)\n\t{\n\t  if(1+data[l].chain+data[r].chain>=4)\n\t    {\n\t      rest-=(1+data[l].chain+data[r].chain);\n\t      while(1)\n\t\t{\n\t\t  l--;\n\t\t  r++;\n\t\t  if(r>=int(data.size()) || l<0) \n\t\t    {\n\t\t      ans=min(ans,rest);\n\t\t      return;\n\t\t    }\n\t\t  if(data[l].color==data[r].color && \n\t\t     data[l].chain+data[r].chain>=4)\n\t\t    {\n\t\t      rest-=(data[l].chain+data[r].chain);\n\t\t    }\n\t\t  else\n\t\t    {\n\t\t      ans=min(ans,rest);\n\t\t      return;\n\t\t    }\n\t\t}\n\t    }\n\t}\n    }\n  else if(index==1)\n    {\n      if(indexhash[index]==indexhash[index+1]) return;\n      else\n\t{\n\t  r=indexhash[index+1];\n\t  if(data[r].chain==3)\n\t    {\n\t      rest-=4;\n\t      ans=min(ans,rest);\n\t      return;\n\t    }\n\t}\n    }\n  else if(index==N)\n    {\n      if(indexhash[index]==indexhash[index-1]) return;\n      else\n\t{\n\t  l=indexhash[index-1];\n\t  if(data[l].chain==3)\n\t    {\n\t      rest-=4;\n\t      ans=min(ans,rest);\n\t      return;\n\t    }\n\t}\n    }\n  \n}\n\nint main(void)\n{\n  while(cin >> N && N)\n    {\n      ans=1e9;\n      vector<balls> firstballs;\n      for(int i=1;i<=N;i++)\n\t{\n\t  cin >> color[i];\n\t}\n      int nowcolor=color[1];\n      int nowchain=1;\n      indexhash[1]=0;\n      for(int i=2;i<=N;i++)\n\t{\n\t  indexhash[i-1]=int(firstballs.size());\n\t  if(nowcolor==color[i]) nowchain++;\n\t  else\n\t    {\n\t      firstballs.push_back(balls(nowcolor,nowchain));\n\t      //indexhash[i-1]=int(firstballs.size()-1);\n\t      nowchain=1;\n\t      nowcolor=color[i];\n\t      if(i==N) \n\t\t{\n\t\t  firstballs.push_back(balls(nowcolor,nowchain));\n\t\t  indexhash[i]=int(firstballs.size()-1);\n\t\t  break;\n\t\t}\n\t    }\n\t  if(i==N)\n\t    {\n\t      //indexhash[i-1]=int(firstballs.size()-1);\n\t      firstballs.push_back(balls(nowcolor,nowchain));\n\t      indexhash[i]=int(firstballs.size()-1);\n\t    }\n\t}\n      /*\n      for(int i=1;i<=N;i++)\n\t{\n\t  cout << indexhash[i] << ' ';\n\t}\n      cout << endl;\n      for(int i=0;i<int(firstballs.size());i++)\n\t{\n\t  cout << firstballs[i].color << ' ' << firstballs[i].chain << endl;\n\t  }*/\n      for(int i=1;i<=N;i++) solve(firstballs,i);\n      if(ans==1e9)\n\t{\n\t  cout << N << endl;\n\t}\n      else\n\t{\n\t  cout << ans << endl;\n\t}\n    }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\nint main(void){\n\n    for(;;){\n        int n;\n        int a[10005]={0};\n        int b[10005]={0};\n        int z[10005]={0};\n        int y=0;\n        int k=0;\n        int w,q;\n        int count=0,m;\n        cin>> n;\n        if(n==0)break;\n        m=n;\n        int j=0,flag=0,flag2=0;\n        for(int i=0;i<n;i++){\n            cin >> a[i];\n            b[i]=a[i];\n        }\n\n\n                for(w=1;w<=3;w++){\n                    for(q=0;q<n;q++){\n                        for(int c=0;c<n;c++){\n                            a[c]=b[c];\n                        }\n                        a[q]=w;\n                        //cout<<a[q]<<\"+\"<<q<<endl;\n                        for(int p=0;p<n;p++){\n                            if(a[p+1]!=0&&a[p]!=0&&a[p]==a[p+1]){\n                                for(k=0;k<n-p;k++){\n                                    //cout<<k<<\"!\"<<p<<endl;\n                                    if(a[p+k]!=a[p+k+1])break;\n\n                                }\n\n\n                        if(k>=3){\n\n\n\n\n                for(;;){\n                    flag=0;\n                    j=0;\n                    for(int i=0;i<n;i++){\n                        if(a[i+1]!=0&&a[i]!=0&&a[i]==a[i+1]){\n\n                            for(j=0;j<n-i;j++){\n\n                                if(a[i+j]!=a[i+j+1]){\n\n                                     //cout<<i<<\".\"<<j<<endl;\n                                     break;\n                                }\n\n                            }\n                            if(j>=3){\n                                flag=1;\n                                for(int g=0;g<j+1;g++){\n                                    if(i+g<n){\n                                        a[i+g]=-1;\n                                       // cout<<\"oo\"<<i+g<<endl;\n\n\n\n                                    }\n                                }\n                                for(int s=0;s<n;s++){\n                                    if(a[s]==-1){\n                                        for(int t=s;t<n;t++){\n                                      //     cout<<i<<\"+++\"<<j<<endl;\n                                            a[t]=a[t+j+1];\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if(flag==0)break;\n                }\n                        }\n                    }\n                }\n\n\n\n\n\n                count=0;\n                for(int i=0;i<n;i++){\n                    if(a[i]!=0)count++;\n                }\n               // cout<<m<<\"#\"<<count<<\"--a[\"<<q<<\"]=\"<<w<<endl;\n                m=min(count,m);\n                    }\n                }\n\n\n        //cout<<m<<endl;\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ZERO(a) memset(a,0,sizeof(a))\n\nint n;\nint a[100010];\n\nbool is_inRange(int x) {\n    return (0<=x and x<=n+1);\n}\n\nint calc(int p, int c) {\n    int l=p, r=p;\n\n    int cnt = 1;\n    while((is_inRange(l-1) or is_inRange(r+1)) and a[l-1]==c and a[r+1]==c) {\n        int c1=0, c2=0;\n        while(a[l-1]==c) l--, c1++;\n        while(a[r+1]==c) r++, c2++;\n        if(c1+c2 < 4) break;\n        cnt += c1 + c2;\n        c = a[l-1];\n        if(c == 0 or a[r+1]==0) break;\n    }\n\n    return cnt * (cnt != 1);\n}\n\nint main() {\n    while(cin>>n && n) {\n        ZERO(a);\n        FOR(i,1,n+1) scanf(\"%d\",&a[i]); // 1-indexed\n\n        int mx = -1;\n        FOR(pos, 1, n+1) {\n            int nc = a[pos];\n            FOR(color, 1, 4) {\n                if(color == nc) continue;\n                int cnt = calc(pos, color);\n                mx = max(mx, cnt);\n            }\n        }\n\n        printf(\"%d\\n\", n - mx);\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<\" \";}\n#define dumpl(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\ntemplate<class T> bool chmax(T &a, const T &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a > b) { a = b; return true; } return false; }\nint N;\nbool inrange(int i) { return 0 <= i&&i < N; }\n\nsigned main() {\n\tfor (; cin >> N&&N;) {\n\t\tvector<int> v(N); rep(i, 0, N) { cin >> v[i]; }\n\t\tint ans = INF;\n\t\trep(i, 0, N)rep(j, 1, 4) {\n\t\t\tint tmp = N;\n\t\t\tint l = i - 1, r = i + 1;\n\t\t\tint color = j;\n\t\t\tint cnt = 1;\n\t\t\twhile (true) {\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (!inrange(l))break;\n\t\t\t\t\tif (v[l] != color)break;\n\t\t\t\t\tl--, cnt++;\n\t\t\t\t}\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (!inrange(r))break;\n\t\t\t\t\tif (v[r] != color)break;\n\t\t\t\t\tr++, cnt++;\n\t\t\t\t}\n\t\t\t\tif (cnt >= 4) {\n\t\t\t\t\ttmp -= cnt;\n\t\t\t\t\tcnt = 0;\n\t\t\t\t\tif (inrange(l))color = v[l];\n\t\t\t\t\telse if (inrange(r))color = v[r];\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tchmin(ans, tmp);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint check(vector<int> character, int i, int color)\n{\n  if(character[i] == color) return character.size();\n\n  character[i] = color;\n  vector<int>::iterator it;\n  while( 1 ){\n    it = search_n(character.begin(), character.end(), 4, color);\n    while(it!=character.end() && *it==color) it = character.erase(it);\n    if(it==character.end())break;\n    color = *it;\n  }\n\n  return character.size();\n}\n\nint main()\n{\n  int N, M;\n  while(cin>>N, N){\n    vector<int> character(N);\n    for(int i=0; i<N; i++) cin>>character[i];\n\n    M = 100000;\n    for(int i=0; i<N; i++){\n      for(int color=1; color<=3; color++){\n        M = min(M, check(character, i, color));\n      }\n    }\n    cout<<M<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint color[10010];\nint N;\nint ans;\n\nint solve(int x, int cc){\n  if(color[x] == cc) return N;\n  int cnt = 1;\n  int back, forward;\n  \n  for(back = x-1 ; back >= 0 ; back--){\n    if(cc == color[back]) cnt++;\n    else break;\n  }\n  for(forward = x+1 ; forward < N ; forward++){\n    if(cc == color[forward]) cnt++;\n    else break;\n  }\n  \n  int res = N-cnt;\n  \n  if(cnt < 4) return N;\n  else if(back < 0 || N <= forward) return res;\n  else if(color[back] != color[forward]) return res;\n  \n    while(1){\n      int tmp = 0;\n      cc = color[back];\n      for( ; back >= 0 ; back--){\n\tif(cc == color[back]) tmp++;\n\telse break;\n      }\n      for( ; forward < N ; forward++){\n\tif(cc == color[forward]) tmp++;\n\telse break;\n      }\n      if(tmp < 4) return res;\n      else if(back < 0 || N <= forward) return res-tmp;\n      else if(color[back] != color[forward]) return res-tmp;\n    \n      res -= tmp;\n    }\n    return res;\n}\n\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 0 ; i < N ; i++) cin >> color[i];\n    int ans = 10010;\n    for(int i = 0 ; i < N ; i++){\n      for(int c  = 1 ; c <= 3 ; c++){\n\tans = min(ans, solve(i, c));   \n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n\n    "
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdio>\n#include <iostream>\n#include <map>\n#include <cmath>\n#include <queue>\n#include <set>\n#include <sstream>\n#include <stack>\n#include <string>\n#include <vector>\n#include <stdlib.h>\n#include <stdio.h>\n#include <bitset>\n#include <cstring>\nusing namespace std;\n#define FOR(I,A,B) for(int I = (A); I < (B); ++I)\n#define CLR(mat) memset(mat, 0, sizeof(mat))\ntypedef long long ll;\n\nint main()\n{\n  int N; while(cin >> N){\n    vector<int> c(N+1); FOR(i,0,N) scanf(\"%d\",&c[i]);\n    c[N] = 10;\n    // i??????????????´??????\n    int ans = 1e9;\n    FOR(i,0,N) {\n      // 2?????????\n      FOR(j,1,4) {\n        vector<int> chain = c;\n        if(chain[i] == j) continue;\n        chain[i] = j;\n        FOR(k,0,10000) {\n          bool del = false;\n          int cnt = 0;\n          FOR(l,0,(int)chain.size()-1) {\n            if(chain[l] == chain[l+1]) cnt++;\n            else {\n              if(cnt >= 3) {\n                chain.erase(chain.begin() + l - cnt, chain.begin() + l + 1);\n                del = true;\n                break;\n              }\n              cnt = 0;\n            }\n          }\n          if(!del) {\n            ans = min(ans, (int)chain.size() - 1);\n            break;\n          }\n        }\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\tcreated : 15/12/30\n// \tautor   : Rp7rf\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstdio>\n#include <set>\n\nusing namespace std;\n#define rep(i,a) for(int i = 0 ; i < a ; i ++)\n#define loop(i,a,b) for(int i = a ; i < b ; i ++)\n#define mp make_pair\n#define pb push_back\n#define f first\n#define s second\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\n\nint main(void){\n\tint n,in;\n\twhile(cin>>n,n){\n\t\tcin>>in;\n\n\t\tvector<pii> v;\n\t\tv.pb(mp(in,1));\n\t\tint input = n;\n\t\twhile(--input){\n\t\t\tcin>>in;\n\t\t\tif(v[v.size()-1].first == in){\n\t\t\t\tv[v.size()-1].s ++;\n\t\t\t}else{\n\t\t\t\tv.pb(mp(in,1));\n\t\t\t}\n\t\t}\n\t\tint ret = n;\n\t\trep(i,v.size()){\n\t\t\tif(v[i].s == 1){\n\t\t\t\tint now = n;\n\t\t\t\tint l = i - 1 , r = i + 1;\n\t\t\t\twhile(0 <= l && r < v.size()){\n\t\t\t\t\tif(v[l].s + v[r].s >= 4 && v[l].f == v[r].f){\n\t\t\t\t\t\tnow = now - (v[l].s + v[r].s);\n\t\t\t\t\t//\tcout<<\"cal\"<<l<<\" \"<<r<<\" \"<<now<<endl;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tl --; r ++;\n\t\t\t\t}\n\t\t\t\tif(now != n)now --;\n\t\t\t\tret = min(ret,now);\n\t\t\t}\n\t\t\t//cout<<v[i].f<<\" \"<<v[i].s<<endl;\n\t\t}\n\t\tcout<<ret<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n#define INF (1<<29)//INF\n#define F first\n#define S second\n#define VS vector<string>\n#define VI vector<int>\n#define REPI(i,s,n) for(int i=s;i<n;i++)//s??????n????????????i?????????\n#define REPJ(j,s,n) for(int j=s;j<n;j++)//s??????n????????????i?????????\n#define RREPI(i,s,n) for(int i=s;i>=n;i--)//s??????n??\\?????????i?????????\n#define RREPJ(j,s,n) for(int j=s;j>=n;j--)//s??????n??\\?????????j?????????\n#define ALL(a) a.begin(),a.end()//???????????¨??????????????? sort(ALL(vec))????????????\n#define SET(a,c) memset(a,c,sizeof(a));//a???c???0or1?????§???????????????\n#define DEBUGONE(x) cout<<#x<<\" : \"<<x<<endl;//??????????????§??????????????°?????¨???\n#define DEBUGTWO(x,y) cout<<#x<<\" : \"<<x<<\" \"<<#y<<\" : \"<<y<<endl;//??????????????§??????????????°?????¨???\n#define DEBUGTHREE(x,y,z) cout<<#x<<\" : \"<<x<<\" \"<<#y<<\" : \"<<y<<\" \"<<#z<<\" : \"<<z<<endl;//??????????????§??????????????°?????¨???\n#define OUTONE(x) cout<<x<<endl;//??????????????°?????¨???\n#define OUTTWO(x,y) cout<<x<<\" \"<<y<<endl;//??????????????°?????¨???\n#define OUTTHREE(x,y,z) cout<<x<<\" \"<<y<<\" \"<<z<<endl;//??????????????°?????¨???\ntypedef long long int64;\ntypedef pair<string,int> Psi;\ntypedef pair<int64,int64> Pii;\nmain(){\n  Pii ruiseki[10005];\n  int n;\n  int p=1;\n  while(cin>>n,n){\n    p=1;\n    REPI(i,0,10005) ruiseki[i]=Pii(0,0);\n    int num,before;\n    cin>>before;\n    int cnt=1;\n    REPI(i,1,n){\n      cin>>num;\n    if(before==num){\n      cnt++;\n    }\n    else{\n      ruiseki[p]=Pii(before,cnt);\n      cnt=1;\n      p++;\n    }\n    before=num;\n    }\n    ruiseki[p]=Pii(before,cnt);\n    p++;\n    int ans=0;\n    REPI(i,1,p){\n      int left=i-1;\n      int right=i+1;\n      int sum=0;\n      if(left>=0&&right<=p&&ruiseki[left].F==ruiseki[right].F&&ruiseki[left].S+ruiseki[right].S>=3){\n\tsum+=ruiseki[left].S+ruiseki[right].S+1;\n\tleft--;\n\tright++;\n\twhile(left>=0&&right<=p&&ruiseki[left].F==ruiseki[right].F&&ruiseki[left].S+ruiseki[right].S>=4){\n\t  sum+=ruiseki[left].S+ruiseki[right].S;\n\t  left--;\n\t  right++;\n\t}\n\tans=max(ans,sum);\n      }\n    }\n    OUTONE(n-ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nstruct A\n{\n    bool ignore[N];\n};\nint chain[N];\n\nvoid clear()\n{\n    fill( chain, chain + N, 0 );\n}\n\n\nint del( int const num, int const befig, A& ig )\n{\n    int ignum = 0;\n    int begin = 0, count = 0, last = chain[0];\n    for( int i=0; i<=num; ++i ) {\n        if ( i < num && ig.ignore[i] )\n            continue;\n        int const cur = ( i < num ) ? chain[i] : -1;\n        if ( cur == last ) {\n            ++count;\n        } else {\n            if ( ( i - begin ) >= ( 4 + befig ) ) {\n                for( int ii=begin; ii<i; ++ii ) {\n                    if ( !ig.ignore[ii] ) {\n                        ig.ignore[ii] = true;\n                        ++ignum;\n                    }\n                }\n            }\n            begin = i;\n            count = 0;\n            last = chain[i];\n        }\n        if ( i == num )\n            break;\n    }\n    if ( ignum == 0 )\n        return 0;\n\n    while( int const p = del( num, befig + ignum, ig ) )\n        ignum += p;\n    \n    return ignum;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        A ig;\n        int const befig = del( n, 0, ig );\n        int max_n = n - befig;\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                A d = ig;\n                chain[i] = ii;\n                \n                if ( ( i > 1 && chain[i-1] != chain[i] ) && ( i < n-1 && chain[i] != chain[i+1] ) )\n                    continue;\n\n                int const num = n - del( n, befig, d );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <deque>\n#include <list>\n#include <queue>\n#include <stack>\n#include <vector>\n#include <utility>\n#include <algorithm>\n#include <map>\n#include <set>\n#include <complex>\n#include <cmath>\n#include <limits>\n#include <cfloat>\n#include <climits>\n#include <ctime>\n#include <cassert>\n#include <numeric>\n#include <functional>\n#include <bitset>\n\nusing namespace std;\n\nsigned main(){\n    \n    while(1){\n        int n; cin >> n;\n        if(n == 0) break;\n        vector<int> a(n + 2);\n        for(int i = 1; i <= n; i++){\n            cin >> a[i];\n        }\n    \n        a[0] = a[n + 1] = -1;\n        int ans = n;\n\n        for(int i = 1; i <= n; i++){\n            //cout << \"i = \" << i << endl;\n            int tmp = a[i];\n            for(int j = 1; j <= 3; j++){\n                a[i] = j;\n                \n                int l, r;\n                l = r = i;\n                int hoge = 0;\n                while(1){\n                    \n                    if(a[l] == -1 || a[r] == -1 || a[l] != a[r]){\n                        //cout << i << \" \" << j << \" \" << hoge << endl;\n                        ans = min(ans, n - hoge);\n                        break;\n                    }\n\n                    int cnt = 2;\n                    if(l == r) cnt--;\n                    int curColor = a[l];\n                    // 右へ---\n                    while(a[r + 1] == curColor){\n                        r++;\n                        cnt++;\n                    }\n                    // 左へ\n                    while(a[l - 1] == curColor){\n                        l--;\n                        cnt++;\n                    }\n                    \n                    if(cnt >= 4){\n                        l--;\n                        r++;\n                        hoge += cnt;\n                    }else{\n\n                        //cout << i << \" \" << j << \" \" << hoge << endl;\n                        ans = min(ans, n - hoge);\n                        break;\n                    }\n                }\n            }\n            a[i] = tmp;\n        }\n\n        cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(int l, int r, vector<PII> v) {\n\tint res = 0;\n\tREP(i, v.size()) res += v[i].second;\n\n\twhile (l >= 0 && r < v.size()) {\n\t\tint color = v[l].first;\n\t\tint count = 0;\n\t\tfor (; l >= 0 && v[l].first == color; l--) count += v[l].second;\n\t\tfor (; r < v.size() && v[r].first == color; r++) count += v[r].second;\n\n\t\tif (count < 4) break;\n\t\tres -= count;\n\t}\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(i-1, i, p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() - 1 && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(i, i+1, p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nstruct A\n{\n    short ignore[N];\n};\nint chain[N];\n\nvoid clear()\n{\n    fill_n( chain, N, 0 );\n}\n\n\nint del( int const num, int befig, A& ig )\n{\n    int p = 0;\n    for(;;) {\n        int ignum = 0;\n        int begin = 0, count = 0, last = chain[0];\n        for( int i=0; i<=num; ++i ) {\n            if ( i < num && ig.ignore[i] )\n                continue;\n            int const cur = ( i < num ) ? chain[i] : -1;\n            if ( cur == last ) {\n                ++count;\n            } else {\n                if ( ( i - begin ) >= ( 4 + befig ) ) {\n                    ignum = i - begin - befig;\n                    fill_n( ig.ignore + begin, i - begin, true );\n                }\n                begin = i;\n                count = 0;\n                last = chain[i];\n            }\n            if ( i == num )\n                break;\n        }\n        if ( ignum == 0 )\n            break;\n        befig += ignum;\n        p += ignum;\n    }\n    \n    return p;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        A ig;\n        int const befig = del( n, 0, ig );\n        int max_n = n - befig;\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                chain[i] = ii;\n                \n                if ( ( i > 1 && chain[i-1] != chain[i] ) && ( i < n-1 && chain[i] != chain[i+1] ) )\n                    continue;\n\n                A d = ig;\n                int const num = n - del( n, befig, d );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000][2]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\tfor(z=e;z<x;z++){\n\t\t\tif(o[e]==o[z])u++;\n\t\t\telse if(o[z]==0)w++;\n\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n}\nif(t==1)return X(x);\nfor(e=0;e<x;e++){\n\tif(o[e]!=0)g++;\n}\nreturn g;\n}\nint main(){\nwhile(1){\n\tint n,i,j,m=10001,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(f,0,sizeof(f));\n\tmemset(p,0,sizeof(p));\n\tmemset(o,0,sizeof(o));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tf[i][1]=p[i];\n\t\tif(i!=0&&p[i]==p[i-1])f[i][0]=f[i-1][0];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i][0]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0;i<n;i++){\n\t\tfor(j=1;j<4;j++){\n\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\to[i]=j;\n\t\t\tm=min(m,X(n));\n\t\t}\n\n\t}\n\tcout<<m<<endl;\n}\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nmain(){\nwhile(true){\nint x[15000],n,i,j,k,l,m,y[15000],b,c,d,p[15000],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i] = x[i] = y[i];}\nc=0;d=0;m=n;d=m;\nminx=99999;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){goto z;}\np[i] = x[i] = j;\nb=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l = k + 1; l < m; l++){p[l-b] = p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=std::min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\", minx);}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nvector<P> remove(vector<P>& a){\n\tbool flag = false;\n\tvector<P> a_;\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\tif( a[i].second <= 0 || a[i].second >= 4 ){\n\t\t\tflag = true;\n\t\t}else{\n\t\t\tif( !a_.empty() && a_[a_.size()-1].first == a[i].first ){\n\t\t\t\tflag = true;\n\t\t\t\ta_[a_.size()-1].second += a[i].second;\n\t\t\t}else{\n\t\t\t\ta_.push_back( a[i] );\n\t\t\t}\n\t\t}\n\t}\n\tif( flag ) return remove(a_);\n\treturn a_;\n}\n\nint sum(vector<P>& a){\n\tint s = 0;\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\ts += a[i].second;\n\t}\n\treturn s;\n}\n\nint solve(vector<P>& a){\n\tint ans = sum(a);\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\tif( 0 <= i-1 ){\n\t\t\t// 1つ前の色に変える.\n\t\t\tint c = a[i-1].first;\n\t\t\tvector<P> a_ = a;\n\t\t\ta_[i].second--;\n\t\t\ta_[i-1].second++;\n\t\t\ta_ = remove(a_);\n\t\t\tans = min( ans , sum(a_) );\n\t\t}\n\t\tif( i+1 < a.size() ){\n\t\t\t// 1つ後ろの色に変える.\n\t\t\tint c = a[i+1].first;\n\t\t\tvector<P> a_ = a;\n\t\t\ta_[i].second--;\n\t\t\ta_[i+1].second++;\n\t\t\ta_ = remove(a_);\n\t\t\tans = min( ans , sum(a_) );\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\tvector<P> a;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( i == 0 ){\n\t\t\t\ta.push_back( P(v[i],1) );\n\t\t\t}else if( v[i-1] == v[i] ){\n\t\t\t\ta[a.size()-1].second++;\n\t\t\t}else{\n\t\t\t\ta.push_back( P(v[i],1) );\n\t\t\t}\n\t\t}\n\t\tcout << solve( a ) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint chain(string s)\n{\n  while(true)\n  {\n    int cnt = 1;\n    char c = 'a';\n    bool b = false;\n    for(int i = 0; i < s.length(); i++)\n    {\n      if(c == s[i])\n        cnt++;\n      else if(s[i] != 'a')\n        cnt = 1;\n      if(s[i] != 'a')\n        c = s[i];\n      if(cnt == 4)\n      {\n        b = true;\n        int mm = 0;\n        for(int j = 0; ; j++)\n        {\n          if(s[i - j] != 'a')\n          {\n            s[i - j] = 'a';\n            mm++;\n          }\n          if(mm == 4)\n            break;\n        }\n      }\n      if(cnt >= 4)\n        s[i] = 'a';\n    }\n    if(!b)\n    {\n      int ans = 0;\n      for(int i = 0; i < s.length(); i++)\n        ans += s[i] != 'a';\n      return ans;\n    }\n  }\n}\n\nint main()\n{\n  while(true)\n  {\n    int N;\n    cin >> N;\n    if(!N)\n      return 0;\n    string s = \"\";\n    for(int i = 0; i < N; i++)\n    {\n      char c;\n      cin >> c;\n      s += c;\n    }\n    int ans = 1 << 30;\n    for(int i = 0 ; i < s.length(); i++)\n    {\n      char tmp = s[i];\n      s[i] = '1';\n      ans = min(ans, chain(s));\n      s[i] = '2';\n      ans = min(ans, chain(s));\n      s[i] = '3';\n      ans = min(ans, chain(s));\n      s[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nusing ll = long long;\nusing ull = unsigned long long;\n\n#define REP(i,n) for(long long i = 0; i < (n); i++)\n#define FOR(i, m, n) for(long long i = (m);i < (n); ++i)\n#define ALL(obj) (obj).begin(),(obj).end()\n\ntemplate<class T> using V = vector<T>;\ntemplate<class T, class U> using P = pair<T, U>;\n\nconst ll MOD = (ll)1e9 + 7;\nconst ll MOD2 = 998244353;\nconst ll LLINF = (ll)1e18;\nconst ll INTINF = (ll)1e9;\nconst long double PI = 3.1415926535897932384626433;\n\ntemplate <class T> void corner(bool flg, T hoge) {if (flg) {cout << hoge << endl; exit(0);}}\ntemplate <class T, class U>ostream &operator<<(ostream &o, const map<T, U>&obj) {o << \"{\"; for (auto &x : obj) o << \" {\" << x.first << \" : \" << x.second << \"}\" << \",\"; o << \" }\"; return o;}\ntemplate <class T>ostream &operator<<(ostream &o, const set<T>&obj) {o << \"{\"; for (auto itr = obj.begin(); itr != obj.end(); ++itr) o << (itr != obj.begin() ? \", \" : \"\") << *itr; o << \"}\"; return o;}\ntemplate <class T>ostream &operator<<(ostream &o, const multiset<T>&obj) {o << \"{\"; for (auto itr = obj.begin(); itr != obj.end(); ++itr) o << (itr != obj.begin() ? \", \" : \"\") << *itr; o << \"}\"; return o;}\ntemplate <class T>ostream &operator<<(ostream &o, const vector<T>&obj) {o << \"{\"; for (int i = 0; i < (int)obj.size(); ++i)o << (i > 0 ? \", \" : \"\") << obj[i]; o << \"}\"; return o;}\ntemplate <class T, class U>ostream &operator<<(ostream &o, const pair<T, U>&obj) {o << \"{\" << obj.first << \", \" << obj.second << \"}\"; return o;}\ntemplate <template <class tmp>  class T, class U> ostream &operator<<(ostream &o, const T<U> &obj) {o << \"{\"; for (auto itr = obj.begin(); itr != obj.end(); ++itr)o << (itr != obj.begin() ? \", \" : \"\") << *itr; o << \"}\"; return o;}\nvoid print(void) {cout << endl;}\ntemplate <class Head> void print(Head&& head) {cout << head;print();}\ntemplate <class Head, class... Tail> void print(Head&& head, Tail&&... tail) {cout << head << \" \";print(forward<Tail>(tail)...);}\ntemplate <class T> void chmax(T& a, const T b){a=max<T>(a,b);}\ntemplate <class T> void chmin(T& a, const T b){a=min<T>(a,b);}\nvoid YN(bool flg) {cout << ((flg) ? \"YES\" : \"NO\") << endl;}\nvoid Yn(bool flg) {cout << ((flg) ? \"Yes\" : \"No\") << endl;}\nvoid yn(bool flg) {cout << ((flg) ? \"yes\" : \"no\") << endl;}\n\nint main() {\n\twhile(1){\n\t\tint N; cin >> N;\n\t\tif(N==0) return 0;\n\t\tV<int> X(N);\n\t\tREP(i,N) cin >> X[i];\n\t\tV<P<int,int>> v;\n\t\tv.push_back({X[0],1});\n\t\tfor(int i = 1; i < N; ++i){\n\t\t\tif(v.back().first==X[i]) v.back().second++;\n\t\t\telse v.push_back({X[i],1});\n\t\t}\n\t\tint ans = N;\n\t\tfor(int i = 0; i < v.size(); ++i){\n\t\t\tif(v[i].second !=1) continue;\n\t\t\tint cnt = 1;\n\t\t\tfor(int j = 1; 0 <= i - j && i + j < v.size(); ++j){\n\t\t\t\tif(v[i-j].first!=v[i+j].first) break;\n\t\t\t\tif(v[i-j].second+v[i+j].second<4) break;\n\t\t\t\tcnt += v[i-j].second+v[i+j].second;\n\t\t\t}\n\t\t\tchmin(ans,N-(cnt!=1?cnt:0));\n\t\t}\n\t\tfor(int i = 1; i < v.size() - 1; ++i){\n\t\t\tif(v[i].second !=3) continue;\n\t\t\tint cnt = 4;\n\t\t\tif(v[i-1].first == v[i+1].first && v[i-1].second+v[i+1].second - 1 >= 4){\n\t\t\t\tcnt += v[i-1].second+v[i+1].second - 1;\n\t\t\t\tfor(int j = 2; 0 <= i - j && i + j < v.size(); ++j){\n\t\t\t\t\tif(v[i-j].first!=v[i+j].first) break;\n\t\t\t\t\tif(v[i-j].second+v[i+j].second<4) break;\n\t\t\t\t\tcnt += v[i-j].second+v[i+j].second;\n\t\t\t\t}\n\t\t\t}\n\t\t\tchmin(ans,N-cnt);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint check(vector<int> character, int i, int color)\n{\n  if(character[i] == color) return character.size();\n\n  character[i] = color;\n  bool vanished = true;\n  while(vanished){\n    int count = 0;\n    int top, bottom;\n    for(top=i; top>=0 && character[top]==color; top--){\n      count++;\n    }\n    for(bottom=i+1; bottom<character.size() && character[bottom]==color; bottom++){\n      count++;\n    }\n    top++;\n    bottom--;\n\n    if(count<4){\n      vanished = false;\n    }else{\n      character.erase(character.begin()+top, character.begin()+bottom+1);\n      i = min(top, (int)character.size()-1);\n      color=character[i];\n    }\n  }\n\n  return character.size();\n}\n\nint main()\n{\n  int N, M;\n  while(cin>>N, N){\n    vector<int> character(N);\n    for(int i=0; i<N; i++) cin>>character[i];\n\n    M = 100000;\n    for(int i=0; i<N; i++){\n      for(int color=1; color<=3; color++){\n        M = min(M, check(character, i, color));\n      }\n    }\n    cout<<M<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n\tfor (int i = 0, j = 0; j<a.size();){\n\t\tif (a[j] == a[j + 1])j++;\n\t\telse {\n\t\t\tif (j - i>2){\n\t\t\t\ta.erase(a.begin() + i, a.begin() + j + 1);\n\t\t\t\ti = j = 0;\n\t\t\t}\n\t\t\telse j++, i = j;\n\t\t}\n\t}\n\treturn a.size();\n}\n\nint main(void){\n\tint n, m;\n\tvector<int>a;\n\n\twhile (cin >> n, n){\n\t\ta.resize(n);\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\n\t\tint ans = 100000000;\n\t\tfor (int i = 0; i<a.size(); i++){\n\t\t\tint temp = a[i];\n\t\t\tfor (int j = 1; j<4; j++){\n\t\t\t\tif (temp != j){\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tans = min(ans, Erase(a));\n\t\t\t\t}\n\t\t\t}\n\t\t\ta[i] = temp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint rensa(vector<int> vec){\n  vector<int> tmp;\n  for(int i = 0 ; i+3 < vec.size() ; i++ ){\n    if(vec[i] == vec[i+1] && vec[i+1] == vec[i+2] \n       && vec[i+2] == vec[i+3]){\n      int r = i+3;\n\n      while(vec[r+1] == vec[r] && r+1 < vec.size())r++;\n      //      cout << i << ' ' << r << endl; \n      tmp.clear();\n      for(int j = 0 ; j < vec.size() ; j++ ){\n\tif(j < i || r < j )tmp.push_back(vec[j]);\n      }\n      vec.clear();\n      copy(tmp.begin(),tmp.end(),back_inserter(vec));\n      /*      cout << \"---------------------\" << endl;\n      for(int k = 0 ; k < vec.size() ; k++ )cout << vec[i];\n      cout << endl; \n      cout << \"---------------------\" << endl;*/\n      i = 0;\n    }\n  }\n  return vec.size();\n}\n\nint main(){\n  int n;\n  vector<int> cha;\n  while( cin >> n,n){\n    cha.clear();\n    for(int i = 0 ; i < n ; i++ ){\n      int a;\n      cin >> a;\n      cha.push_back(a);\n    }\n    /*    cout << \"----------hajimeari----------\" << endl;\n    for(int i = 0 ; i  < cha.size() ; i++)cout << cha[i];\n    cout << \"----------hajimeari----------\" << endl;\n    cout << endl;*/\n    int ret = cha.size();\n    for(int i = 0 ; i < cha.size() ; i++ ){\n      vector<int> tmp;\n      tmp.clear();\n      copy(cha.begin(),cha.end(),back_inserter(tmp));\n\n      if(0 <= i && i < cha.size()-1){\n\ttmp[i] = cha[i+1];\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] && l >= 1){\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r] && r <= tmp.size()-1){\n\t  r++;\n\t}\n\tif(3<=r-l){\n\t  /*\t  cout << \" a \" << endl;\n\t  cout << i << endl;\n\t  cout << l << ' ' << r << endl;*/\n\n\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n      tmp.clear();\n      copy(cha.begin(),cha.end(),back_inserter(tmp));\n      //\t  for(int k = 0 ; k < tmp.size() ; k++ )cout << tmp[k];\n      //\t  cout << endl;\n      if(1<= i && i < cha.size()){\n\ttmp[i] = cha[i-1];\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] && l >= 1){\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r] && r <= tmp.size()-1){\n\t  r++;\n\t}\n\n\tif(3 <= r-l ){\n\t  /*\t  cout << \" b \" << endl;\n\t\t  cout << l << ' ' << r << endl;*/\n\t  //\t  for(int k = 0 ; k < tmp.size() ; k++ )cout << tmp[k];\n\t  //\t  cout << endl;\n\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define vi vector<int>\n#define vvi vector<vector<int> >\n#define vl vector<ll>\n#define vvl vector<vector<ll>>\n#define vb vector<bool>\n#define vc vector<char>\n#define vs vector<string>\nusing ll = long long;\nusing ld =long double;\n//#define int ll\n#define INF 1e9\n#define EPS 0.0000000001\n#define rep(i,n) for(int i=0;i<n;i++)\n#define loop(i,s,n) for(int i=s;i<n;i++)\n#define all(in) in.begin(), in.end()\ntemplate<class T, class S> void cmin(T &a, const S &b) { if (a > b)a = b; }\ntemplate<class T, class S> void cmax(T &a, const S &b) { if (a < b)a = b; }\n#define MAX 9999999\nusing namespace std;\ntypedef pair<int, int> pii;\ntypedef pair<int,pii> piii;\n#define mp make_pair\nvoid simulate(vector<pii>&cal,int index){\n    cal.erase(cal.begin()+index);\n    while(true){\n        bool flag=false;\n        rep(i,cal.size()){\n            if(i==0)continue;\n            if(cal[i-1].first==cal[i].first&&cal[i-1].second+cal[i].second>=4){\n                rep(j,2)cal.erase(cal.begin()+i-1);\n                flag=true;\n                break;\n            }\n        }\n        if(!flag)break;\n    }\n}\nsigned main(){\n    int n;\n    while(cin>>n,n){\n        vector<int>v(n);\n        rep(i,n)cin>>v[i];\n        vector<pii>cal;\n        pii cnt=mp(0,0);\n        rep(i,v.size()){\n            if(!i)cnt=pii(v[i],1);\n            else{\n                if(cnt.first==v[i])cnt=mp(cnt.first,cnt.second+1);\n                else{\n                    cal.push_back(cnt);\n                    cnt=mp(v[i],1);\n                }\n            }\n        }\n        cal.push_back(cnt);\n        int comp=0;\n        int del_index=INF;\n        rep(i,cal.size()){\n            if(i==0||i==cal.size()-1)continue;\n            if(cal[i].second!=1)continue;\n            if(cal[i-1].first==cal[i+1].first&&cal[i-1].second+cal[i+1].second>=4){\n                int mel=cal[i-1].second+cal[i+1].second;\n                if(mel>comp){\n                    comp=mel;\n                    del_index=i;\n                }\n            }\n        }\n        if(del_index==INF)return (cout<<n<<endl),0;\n        simulate(cal,del_index);\n        int ans=0;\n        rep(i,cal.size())ans+=cal[i].second;\n        cout<<ans<<endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\n#include<math.h>\n#include<queue>\n#include<set>\n#include<map>\n#include<random>\n#include<functional>\n#include<utility>\n\ntypedef long long ll;\n\n#define rep(i,n) for(int i=0; i<n; i++)\n#define pb push_back\n#define P pair<int, int>\n#define PLI pair<ll, int>\n#define PLL pair<ll, ll>\n#define VI vector<int>\n#define VII vector<VI>\n\nusing namespace std;\n\n\nint main() {\n\tint N;\n\twhile (cin >> N, N)\n\t{\n\t\tVI c = VI(N + 2);\n\t\tfor (int i = 1; i <= N; i++) cin >> c[i];\n\n\t\tint mx = 0;\n\t\tfor (int i = 1; i <= N; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\tint l = i - 1, r = i + 1, tmp = 0, cnt = 1, col = j;\n\t\t\t\twhile (true)\n\t\t\t\t{\n\t\t\t\t\twhile (c[l] == col) l--, cnt++;\n\t\t\t\t\twhile (c[r] == col) r++, cnt++;\n\t\t\t\t\tif (cnt < 4) break;\n\t\t\t\t\ttmp += cnt;\n\t\t\t\t\tif (c[l] != c[r]) break;\n\t\t\t\t\tcnt = 0;\n\t\t\t\t\tcol = c[r];\n\t\t\t\t}\n\t\t\t\tmx = max(mx, tmp);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - mx << endl;\n\t}\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#pragma GCC optimize(\"Ofast\")\n#include <iostream> // cout, endl, cin\n#include <string> // string, to_string, stoi\n#include <vector> // vector\n#include <algorithm> // min, max, swap, sort, reverse, lower_bound, upper_bound\n#include <utility> // pair, make_pair\n#include <tuple> // tuple, make_tuple\n#include <cstdint> // int64_t, int*_t\n#include <cstdio> // printf\n#include <map> // map\n#include <queue> // queue, priority_queue\n#include <set> // set\n#include <stack> // stack\n#include <deque> // deque\n#include <unordered_map> // unordered_map\n#include <unordered_set> // unordered_set\n#include <bitset> // bitset\n#include <cctype> // isupper, islower, isdigit, toupper, tolower\n#include <iomanip> // setprecision\n#include <complex> // complex\n#include <functional>\n#include <math.h> \n#define enld '\\n'\nusing namespace std;\nusing ll = long long;\nusing P = pair<int,int>;\nconstexpr ll INF = 1e18;\nconstexpr int inf = 1e9;\n// constexpr ll mod = 1000000007;\nconstexpr ll mod2 = 998244353;\nconst int dx[8] = {1, 0, -1, 0,1,1,-1,-1};\nconst int dy[8] = {0, 1, 0, -1,1,-1,1,-1};\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\n// ---------------------------------------------------------------------------\n\n\nint main(){\n  ios::sync_with_stdio(false);\n  cin.tie(nullptr);\n  while(1){\n    int N;\n    cin >> N;\n    if(N == 0) break;\n    vector<int> A(N);\n    for(int i=0; i<N; i++){\n      cin >> A[i];\n    }\n    int ans = 0;\n    for(int i=0; i<N; i++){\n      for(int j=1; j<=3; j++){\n        swap(A[i],j);\n        int l = i;\n        int r = i+1;\n        int cnt = 0;\n        while(0<=l && r<N){\n          int now = A[l];\n          int temp = 1;\n          while(1){\n            if(1<=l && A[l-1]==now){\n              temp++;\n              l--;\n              continue;\n            }\n            if(r<N && A[r]==now){\n              r++;\n              temp++;\n              continue;\n            }\n            break;\n          }\n          if(temp < 4){\n            break;\n          }else{\n            cnt += temp;\n          }\n          l--;\n        }\n        chmax(ans,cnt);\n        swap(A[i],j);\n      }\n    }\n    cout << N-ans << \"\\n\";\n  }\n  return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  while(1){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    auto v3 = v2;\n    auto it = v2.begin();\n    ll si = v2.size(),ans = inf,sum;\n    REP(i,1,si){\n      sum = 0;\n      if(v2[i].se == 1){\n        v2[i-1].se++;\n        v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n        }\n        if(ans > sum){\n          ans = min(ans,sum);\n        }\n        v2 = v3;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n\nint n;\nint a[100010];\n\nint main(){\n\tcin.tie(0);\n  ios::sync_with_stdio(false);\n\n    while(true) {\n\tcin >> n;\n\tif(n==0) break;\n\tfor (int i = 1; i <= n; i++) cin >> a[i];\n\ta[0] = a[n+1] = 4;\n\n\tint res = 0;\n\tn += 2;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\tint color = j;\n\t\t\tint sum = 0, cnt = 1;\n\t\t\tint l = i - 1, r = i + 1;\n\t\t\twhile (true) {\n\t\t\t\twhile (a[l] == color) l--, cnt++;\n\t\t\t\twhile (a[r] == color) r++, cnt++;\n\t\t\t\tif (cnt < 4) break;\n\t\t\t\tsum += cnt;\n\t\t\t\tcnt = 0;\n\t\t\t\tif (a[l] != a[r]) break;\n\t\t\t\tcolor = a[l];\n\t\t\t}\n\t\t\tres = max(res, sum);\n\t\t}\n\t}\n\n\tcout << n - res - 2 << endl;\n    }\n\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\nint make_ballstack(vector<int>& balls) {\n    int n=(int)balls.size();\n    stack<pair<int,int> > stk_ball;\n    int length;\n    int ans=0;\n\n    for(int i=0; i<n; ++i) {\n        if(stk_ball.empty()) {\n            balls[i];\n            length=1;\n            ans=1;\n            stk_ball.push(make_pair(balls[i],length));\n        } else if(stk_ball.top().first==balls[i]) {\n            length=stk_ball.top().second; stk_ball.pop();\n            ++length;\n            ++ans;\n            stk_ball.push(make_pair(balls[i],length));\n        } else {\n            length=stk_ball.top().second;\n            if(length>=4) {\n                ans-=length;\n                stk_ball.pop();\n                if(stk_ball.empty()) {\n                    stk_ball.push(make_pair(balls[i],1));\n                } else if(stk_ball.top().first!=balls[i]) {\n                    stk_ball.push(make_pair(balls[i],1));\n                } else {\n                    length=stk_ball.top().second;\n                    stk_ball.pop();\n                    stk_ball.push(make_pair(balls[i],length+1));\n                }\n            } else {\n                stk_ball.push(make_pair(balls[i],1));\n            }\n            ++ans;\n        }\n    }\n    if(stk_ball.top().second >= 4) {\n        ans-=stk_ball.top().second;\n        stk_ball.pop();\n    }\n    return ans;\n}\n\n\n\nint main() {\n    int N;\n\n    cin >> N;\n\n    while(N!=0) {\n        vector<int> balls;\n        set<pair<int,int> > mark;\n        int cont=1;\n        int temp;\n        int ans=N;\n\n        for(int i=0; i<N; ++i) {\n            cin >> temp;\n            balls.push_back(temp);\n            if(i>=1 && temp==balls[i-1]) ++cont;\n            else {\n                if(cont==3) {\n                    mark.insert(make_pair(i,balls[i-1]));\n                    if(i>=4) {\n                        mark.insert(make_pair(i-4,balls[i-1]));\n                    }\n                }\n                cont=1;\n            };\n\n        }\n\n        for(auto x:mark) {\n            int tempc=balls[x.first];\n            balls[x.first]=x.second;\n            ans=min(ans,make_ballstack(balls));\n            balls[x.first]=tempc;\n        }\n\n        cout << ans << endl;\n\n        cin >> N;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tscanf(\"%d\", &y[i]);\n\t\t\tx[i]=y[i];\n\t\t\tp[i]=x[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tfor(int k=0;k<n;k++){\n\t\t\t\t\tp[k]=y[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\", minx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-4;q++){\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tfor(int i=1;i<=s-4;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint c[10001];\nbool map[10001];\nint n;\nvoid DFS(int key){\n    if(key<0||key>=n)return;\n    int bef,aft;\n    bef=key-1;\n    while(true){\n        if(bef<0)break;\n        if(map[bef]&&c[bef]!=c[key])break;\n        bef--;\n    }\n    bef++;\n    aft=key+1;\n    while(true){\n        if(aft==n)break;\n        if(map[aft]&&c[aft]!=c[key])break;\n        aft++;\n    }\n    aft--;\n    int cnt=0;\n    for(int i=bef;i<=aft;i++)cnt+=map[i];\n    if(cnt>3){\n        for(int i=bef;i<=aft;i++)map[i]=false;\n        DFS(bef-1);\n    }\n}\nint main(){\n    while(true){\n    cin>>n;\n    if(n==0)break;\n    int ans=n;\n    for(int i=0;i<n;i++)cin>>c[i];\n    for(int ch=0;ch<n;ch++){\n        int keep=c[ch];\n        for(int aft=1;aft<=3;aft++){\n            if(aft!=keep){\n                c[ch]=aft;\n                for(int i=0;i<n;i++)map[i]=true;\n                DFS(ch);\n                int cnt=0;\n                for(int i=0;i<n;i++)cnt+=map[i];\n                ans=min(ans,cnt);\n            }\n        }\n        c[ch]=keep;\n    }\n    cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n//09-3 連鎖\n#include<iostream>\n#include<fstream>\n#include<stdio.h>\n#include<math.h>\n#include<time.h>\n#include<string>\n#include<vector>\n#include<map>\n#include<list>\n#include<set>\n#include<stack>\n#include<queue>\n#include<cstdlib>\n#include<algorithm>\n#include<random>\n#include<cassert>\nusing namespace std;\n#include<boost/multiprecision/cpp_int.hpp>\nnamespace boost_multiprecision = boost::multiprecision;\n#define LL long long\n#define CINT boost_multiprecision::cpp_int\n#undef INT_MIN\n#undef INT_MAX\n#define INT_MIN -2147483648\n#define INT_MAX 2147483647\n#define LL_MIN -9223372036854775808\n#define LL_MAX 9223372036854775807\n#define segment_size 65536\n#define ROOP() while(true)\n\nint N;\nvector<int> c;\n\nint top(int a){\n    int re = a;\n    while(c[re] == c[a]){\n        re--;\n        if(re <= -1) return 0;\n    }\n    return re+1;\n}\n\nint bottom(int a){\n    int re = a;\n    while(c[re] == c[a]){\n        re++;\n        if(re >= N) return N-1;\n    }\n    return re-1;\n}\n\nint del(int x, int y){//x番目からy番目を消した時\n    if(x==0 && y==N-1) return 0;\n    int t = top(x-1);\n    int b = bottom(y+1);\n    if(x-1 < 0){\n        if(b-y >= 4) return del(0,b);\n    }\n    else if(y+1 > N-1){\n        if(x-t >= 4) return del(t,N-1);\n    }\n    else if(c[x-1] == c[y+1]){\n        if(b-y + x-t >= 4) return del(t,b);\n    }\n    return N-(y-x+1);\n}\n\nint main(){\n    ROOP(){\n        cin >> N;\n        if(N == 0) break;\n        c.clear();\n        for(int i=0; i<N; i++){\n            int tmp;\n            cin >> tmp;\n            c.push_back(tmp);\n        }\n\n        int answer = N;\n        if(c[0]!=c[1] && bottom(1)>=3) answer = min(answer,del(0,bottom(1)));\n        if(c[N-1]!=c[N-2] && top(N-2)<=N-4) answer = min(answer,del(top(N-2),N-1));\n        for(int i=1; i+1<N; i++){\n            int t = top(i-1);\n            int b = bottom(i+1);\n            if(c[i-1]==c[i+1]){\n                if(b - t + 1 >= 4){\n                    answer = min(answer,del(t,b));\n                }\n            }\n            else{\n                if(i - t + 1 >= 4){\n                    answer = min(answer,del(t,i));\n                }\n                if(b - i + 1 >= 4){\n                    answer = min(answer,del(i,b));\n                }\n            }\n        }\n        cout << answer << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nvoid debug(vector<P>& v){\n\tcout << \"[debug]\" << endl;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tcout << \"(\" << v[i].first << \",\" << v[i].second << \")\" << endl;\n\t}\n\tcout << endl;\n}\n\nvector<P> remove(vector<P> a){\n\tbool flag = false;\n\tvector<P> a_;\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\tif( a[i].second <= 0 || a[i].second >= 4 ){\n\t\t\tflag = true;\n\t\t}else{\n\t\t\tif( !a_.empty() && a_[a_.size()-1].first == a[i].first ){\n\t\t\t\tflag = true;\n\t\t\t\ta_[a_.size()-1].second += a[i].second;\n\t\t\t}else{\n\t\t\t\ta_.push_back( a[i] );\n\t\t\t}\n\t\t}\n\t}\n\tif( flag ) return remove(a_);\n\treturn a_;\n}\n\nint sum(vector<P>& a){\n\tint s = 0;\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\ts += a[i].second;\n\t}\n\treturn s;\n}\n\nint solve(vector<P>& a){\n\tint ans = sum(a);\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\tif( 0 <= i-1 ){\n\t\t\t// 1つ前の色に変える.\n\t\t\tint c = a[i-1].first;\n\t\t\tvector<P> a_ = a;\n\t\t\ta_[i].second--;\n\t\t\ta_[i-1].second++;\n\t\t\ta_ = remove(a_);\n\t\t\t/*if( sum(a_) < ans ){\n\t\t\t\tcout << \"change:\" << i << \" color:\" << c << endl;\n\t\t\t\tdebug(a_);\n\t\t\t}*/\n\t\t\tans = min( ans , sum(a_) );\n\t\t}\n\t\tif( i+1 < a.size() ){\n\t\t\t// 1つ後ろの色に変える.\n\t\t\tint c = a[i+1].first;\n\t\t\tvector<P> a_ = a;\n\t\t\ta_[i].second--;\n\t\t\ta_[i+1].second++;\n\t\t\ta_ = remove(a_);\n\t\t\t/*if( sum(a_) < ans ){\n\t\t\t\tcout << \"change:\" << i << \" color:\" << c << endl;\n\t\t\t\tdebug(a_);\n\t\t\t}*/\n\t\t\tans = min( ans , sum(a_) );\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\tvector<P> a;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( i == 0 ){\n\t\t\t\ta.push_back( P(v[i],1) );\n\t\t\t}else if( v[i-1] == v[i] ){\n\t\t\t\ta[a.size()-1].second++;\n\t\t\t}else{\n\t\t\t\ta.push_back( P(v[i],1) );\n\t\t\t}\n\t\t}\n\t\tcout << solve( a ) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n\nusing namespace std;\n\nint make_ballstack(vector<int>& balls) {\n    int n=(int)balls.size();\n    stack<pair<int,int> > stk_ball;\n    int length;\n    int ans=0;\n\n    for(int i=0; i<n; ++i) {\n        if(stk_ball.empty()) {\n            balls[i];\n            length=1;\n            ans=1;\n            stk_ball.push(make_pair(balls[i],length));\n        } else if(stk_ball.top().first==balls[i]) {\n            length=stk_ball.top().second; stk_ball.pop();\n            ++length;\n            ++ans;\n            stk_ball.push(make_pair(balls[i],length));\n        } else {\n            length=stk_ball.top().second;\n            if(length>=4) {\n                ans-=length;\n                stk_ball.pop();\n                if(stk_ball.empty()) {\n                    stk_ball.push(make_pair(balls[i],1));\n                } else if(stk_ball.top().first!=balls[i]) {\n                    stk_ball.push(make_pair(balls[i],1));\n                } else {\n                    length=stk_ball.top().second;\n                    stk_ball.pop();\n                    stk_ball.push(make_pair(balls[i],length+1));\n                }\n            } else {\n                stk_ball.push(make_pair(balls[i],1));\n            }\n            ++ans;\n        }\n    }\n    if(stk_ball.top().second >= 4) {\n        ans-=stk_ball.top().second;\n        stk_ball.pop();\n    }\n    return ans;\n}\n\n\n\nint main() {\n    int N;\n\n    cin >> N;\n\n    while(N!=0) {\n        vector<int> balls;\n        int temp;\n        int ans=N;\n\n        for(int i=0; i<N; ++i) {\n            cin >> temp;\n            balls.push_back(temp);\n        }\n\n        for(int i=0; i<N; ++i) {\n            balls[i]=balls[i]%3+1;\n            ans=min(ans,make_ballstack(balls));\n            balls[i]=balls[i]%3+1;\n            ans=min(ans,make_ballstack(balls));\n            balls[i]=balls[i]%3+1;\n        }\n\n        cout << ans << endl;\n\n        cin >> N;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define for0(i, n) for(int i = 0; i < (n); i++)\n#define for1(i, n) for(int i = 1; i <= (n);i++)\nusing namespace std;\nint input() {\n\tint r;\n\tcin >> r;\n\t//scanf(\"%lld\", &r);\n\treturn r;\n}\nint n, a[10101];\nvoid solve() {\n\tfor1(i, n)a[i] = input();\n\tif (n < 4) { cout << n << \"\\n\"; return; }\n\tint p = n, l, r;\n\ta[n + 1] = 0;\n\tr = 2; while (a[2] == a[r + 1])r++; if (r >= 4)p = n - r;\n\tl = n - 1; while (a[l - 1] == a[n - 1])l--; if (l <= n - 3)p = min(p, l - 1);\n\tfor (int i = 2; i < n; i++) {\n\t\tint c = a[i];\n\t\tif (a[i] != a[i - 1]) {\n\t\t\ta[i] = a[i - 1];\n\t\t\tl = i - 1, r = i;\n\t\t\twhile (a[l] == a[r]) {\n\t\t\t\tint cnt = 2;\n\t\t\t\twhile (a[l - 1] == a[l]) { l--; cnt++; }\n\t\t\t\twhile (a[r + 1] == a[r]) { r++; cnt++; }\n\t\t\t\tif (cnt >= 4) { p = min(p, n - (r++ - --l)); if (l < 1 || n < r)break; }\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t\tif (a[i] != a[i + 1] && a[i - 1] != a[i + 1]) {\n\t\t\ta[i] = a[i + 1];\n\t\t\tl = i, r = i + 1;\n\t\t\twhile (a[l] == a[r]) {\n\t\t\t\tint cnt = 2;\n\t\t\t\twhile (a[l - 1] == a[l]) { l--; cnt++; }\n\t\t\t\twhile (a[r + 1] == a[r]) { r++; cnt++; }\n\t\t\t\tif (cnt >= 4) { p = min(p, n - (r++ - --l)); if (l < 1 || n < r)break; }\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t\ta[i] = c;\n\t}\n\tcout << p << \"\\n\"; return;\n}\nsigned main() {\n\twhile (n = input())solve();\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main() {\n    while (true) {\n        int n;\n        cin >> n;\n        if (n == 0) return 0;\n        vector<int> color(n);\n        for (int i = 0; i < n; ++i) {\n            cin >> color[i];\n        }\n        vector<pair<int,int>> a;\n        int now = 1;\n        for (int i = 0; i < n - 1; ++i) {\n            if (color[i] != color[i + 1]) {\n                a.emplace_back(pair<int,int>(now, color[i]));\n                now = 1;\n            } else {\n                ++now;\n            }\n        }\n        a.emplace_back(pair<int,int>(now, color[n - 1]));\n        int ans = 0;\n        for (int i = 1; i < a.size() - 1; ++i) {\n            int left = i - 1;\n            int right = i + 1;\n            int cnt = 0;\n            if (a[left].second == a[right].second && a[left].first + a[right].first >= 3) {\n                cnt += a[left].first + a[right].first + a[i].first;\n                --left;\n                ++right;\n                while (left >= 0 || right < a.size()) {\n                    if (a[left].first + a[right].first >= 4 && a[left].second == a[right].second) {\n                        cnt += a[left].first + a[right].first;\n                        --left;\n                        ++right;\n                    } else {\n                        break;\n                    }\n                }\n                ans = max(ans, cnt);\n            }\n        }\n        cout << n - ans << '\\n';\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main() {\n\tint *line;\n\tint size;\n\twhile (cin >> size &&size!= 0) {\n\t\tline = new int[size + 2];\n\t\tline[0] = 0;\n\t\tline[size + 1] = 0;\n\t\tint answer = size;\n\t\tint count;\n\t\tint forward;\n\t\tint back;\n\t\tint moto;\n\t\tint nsize;\n\t\tint color;\n\t\tfor (int i = 1; i <= size; ++i) {\n\t\t\tcin >> line[i];\n\t\t}\n\t\tfor (int i = 1; i <= size; ++i) {\n\t\t\tmoto = line[i];\n\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\tnsize = size;\n\t\t\t\tline[i] = j;\n\t\t\t\tforward = i;\n\t\t\t\tback = i - 1;\n\t\t\t\twhile (true) {\n\t\t\t\t\tcount = 0;\n\t\t\t\t\tif (line[forward]) {\n\t\t\t\t\t\tcolor = line[forward];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcolor = line[back];\n\t\t\t\t\t}\n\t\t\t\t\twhile (color == line[forward]) {\n\t\t\t\t\t\t++forward;\n\t\t\t\t\t\t++count;\n\t\t\t\t\t}\n\t\t\t\t\twhile (color == line[back]) {\n\t\t\t\t\t\t--back;\n\t\t\t\t\t\t++count;\n\t\t\t\t\t}\n\t\t\t\t\tif (count >= 4) {\n\t\t\t\t\t\tnsize -= count;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (nsize < answer) {\n\t\t\t\t\tanswer = nsize;\n\t\t\t\t}\n\t\t\t}\n\t\t\tline[i] = moto;\n\t\t}\n\t\tcout << answer << endl;\n\t\tdelete line;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define N_MAX 10000\nusing namespace std;\n\nint N;\nint M[N_MAX];\n\nint del(int m[]) {\n  int delNum = 0;\n  int cnt[4];\n  int bfr = -1;\n  int pos[4];\n  for(int i = 0; i < N; i++) {\n    if(m[i] == 0) continue;\n    if(m[i] != bfr) {\n      cnt[0] = cnt[1] = cnt[2] = cnt[3] = 0;\n    }\n    if(cnt[m[i]] < 4) pos[cnt[m[i]]] = i;\n    cnt[m[i]]++;\n    bfr = m[i];\n\n    if(cnt[bfr] > 4) {\n      m[i] = 0;\n      delNum++;\n    }\n    if(cnt[bfr] == 4) {\n      for(int j = 0; j < 4; j++) {\n\tm[pos[j]] = 0;\n\tdelNum++;\n      }\n    }\n  }\n  return delNum;\n}\n\nint high(int m[]) {\n  int h = 0;\n  for(int i = N-1; i >= 0; i--) {\n    if(m[i] != 0) h++;\n  }\n  return h;\n}\n\nvoid cp(int m[]) {\n  for(int i = 0; i < N; i++) {\n    m[i] = M[i];\n  }\n}\n\nint solve() {\n  int mini = N;\n  int m[N_MAX];\n  for(int i = 0; i < N; i++) {\n    for(int j = 1; j <= 3; j++) {\n      if(M[i] == j) continue;\n      cp(m);\n      m[i] = j;\n      while(del(m));\n      mini = min(mini, high(m));\n    }\n  }\n  return mini;\n}\n\nint main() {\n  while( ( cin >> N ) && N ) {\n    for(int i = 0; i < N; i++) {\n      cin >> M[i];\n    }\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage,int change_idx){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=change_idx-3;i<change_idx+3 && i+1 < stage.size();i++){\n      if(i < 0) continue;\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tchange_idx = i;\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n\n    deque<Block> tmp_stage1;\n    deque<Block> tmp_stage2;\n\t\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\ttmp_stage1 = stage;\n\ttmp_stage2 = stage;\n\tint prev_color = stage[i].color;\n\tint prev_size = stage[i].size;\n\n\ttmp_stage1[i].color = color;\n\ttmp_stage1[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp_stage1.insert(tmp_stage1.begin()+i+1,b);\n\t  tmp_stage2.insert(tmp_stage2.begin()+i,b);\n\t  res = min(res,check_stage(tmp_stage1,i));\n\t  res = min(res,check_stage(tmp_stage2,i));\n\t}\n\telse{\n\t  res = min(res,check_stage(tmp_stage1,i));\n\t}\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define pb\t\t\tpush_back\n#define mp\t\t\tmake_pair\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\n\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tif (n == 0) break;\n\t\t\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < v.sz - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= v.sz){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres += v[i].sec;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(vector<PII> v) {\n\tbool f = true;\n\tint res = 0;\n\n\twhile (f) {\n\t\tf = false;\n\t\tFOR(i, 1, v.size()) {\n\t\t\tif (v[i-1].first == v[i].first) {\n\t\t\t\tv[i-1].second += v[i].second;\n\t\t\t\tv.erase(v.begin() + i);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\tREP(i, v.size()) if (v[i].second >= 4) {\n\t\t\tf = true;\n\t\t\tv.erase(v.begin() + i);\n\t\t\ti--;\n\t\t}\n\n\t\tREP(i,v.size()) cout << v[i].first << \" \" << v[i].second << endl;\n\t}\n\tREP(i, v.size()) res += v[i].second;\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF (1<<29)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define CLR(a) memset(a,0,sizeof(a))\nconst int dx[] = {-1,0,0,1},dy[] = {0,1,-1,0};\n\ntypedef long long int ll;\n\nusing namespace std;\n\nint main(){\n    while(true){\n\tint n;\n\tcin >> n;\n\tif(n==0)break;\n\tvector<int> v(n);\n\tstring s = \"\";\n\tREP(i,n){\n\t    cin >> v[i];\n\t}\n\tvector< pair<int,int> > pv;\n\tREP(i,n){\n\t    int tv = v[i];\n\t    int count = 0;\n\t    while(tv==v[i]){\n\t\tcount++;\n\t\ti++;\n\t    }\n\t    i--;\n\t    pv.PB( pair<int,int>(tv,count));\n\t}\n\tint ans = 100000000;\n\tREP(i,pv.size()){\n\t    FOR(j,1,4){\n\t\tint ltemp = -1;\n\t\tint rtemp = 1;\n\t\tint color = j;\n\t\tint tans = 0;\n\t\tint sum = 1;\n\t\twhile(true){\n\t\t    if(ltemp+i >= 0 && color == pv[i+ltemp].first){\n\t\t\tsum += pv[i+ltemp].second;\n\t\t    }\n\t\t    if(rtemp+i < pv.size() && color == pv[i+rtemp].first){\n\t\t\tsum += pv[i+rtemp].second;\n\t\t    }\n\t\t    if(sum <= 3){\n\t\t\tif(!(ltemp == -1 && rtemp == 1)) tans += pv[i].second;\n\t\t\ttans = n - tans;\n\t\t\tans = min(ans,tans);\n\t\t\tbreak;\n\t\t    }else{\n\t\t\tif(color == pv[i+ltemp].first) {\n\t\t\t    tans += pv[i+ltemp].second;\n\t\t\t    ltemp--;\n\t\t\t}\n\t\t\tif(color == pv[i+rtemp].first) {\n\t\t\t    tans += pv[i+rtemp].second;\n\t\t\t    rtemp++;\n\t\t\t}\n\t\t    }\n\t\t    if(i+ltemp>=0){\n\t\t\tcolor = pv[i+ltemp].first;\n\t\t    }else if(i+rtemp<pv.size()){\n\t\t\tcolor = pv[i+rtemp].first;\n\t\t    }\n\t\t    sum = 0;\n\t\t}\n\t    }\n\t}\n\tcout << ans << endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <string>\n#include <cstring>\n#include <cctype>\n#include <cmath>\n#include <stack>\n#include <queue>\n#include <vector>\n#include <set>\n#include <map>\n#include <list>\n#include <stdio.h>\n#include <string.h>\n#include <cstdlib>\n#include <math.h>\n#include <bitset>\n#include <iterator>\n#include <iomanip>\n#include <sstream>\n#define INF 2000000000\nusing namespace std;\nint dx[4]={1,0,-1,0},dy[4]={0,1,0,-1};\n#define sym cout<<\"-----------\"<<endl;\n#define ll long long\n#define PL pair<long long, long long>\n#define P pair<int,int>\n#define mk make_pair\n#define en endl\n#define WHITE 0\n#define BLACK 2\n#define GRAY 1\n#define RE return 0\n#define int ll\n\n#define MAX 10005\n\nint n;\nsigned main(){\n  while(cin>>n&&n){\n    int a[MAX];\n    for(int i=0; i<n; i++) cin>>a[i];\n    int minl=INF;\n    \n    for(int i=0; i<n; i++){\n      int moto=a[i];\n      for(int j=1; j<=3; j++){\n        a[i]=j;\n        int left=i,right=i+1;\n        int search=j;\n        int cnt=n;\n        while(1){\n          search=a[left];\n          int c=0;\n          while(left>=0&&search==a[left]){\n            left--;\n            c++;\n          }\n          while(right<n&&search==a[right]){\n            right++;\n            c++;\n          }\n          if(c<4) break;\n          else cnt-=c;\n        }\n        minl=min(minl,cnt);\n      }\n      a[i]=moto;\n    }\n    \n    cout<<minl<<en;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <string>\n#include <algorithm>\nusing namespace std;\nint up=0,down=0,x[1001];\nint upp,downn,d=0,c,length,mi=1000000;\nint lensa(int a,int b){\nwhile(1){\nupp=x[a+1];\na++;\nif(upp==b){\nup++;\n}else{\nbreak;\n}}\na-=up;\na--;\nwhile(1){\ndownn=x[a-1];\na--;\nif(downn==b){\ndown++;\n}else{\nbreak;\n}}\nif(up+down+1>=4){\nd=1;\nfor(int f=1;f<=up;f++){\nx[a+f]=0;\n}\nfor(int f=0;f<=down;f++){\nx[a-f]=0;\n}length-=up+down+1;}\nwhile(d==1){\nupp=a+1+up;\nc=upp;\ndownn=a-1-down;\nint cc=downn;\nup=0; down=0;\nwhile(1){\nfor(int r=0;;r++){\nif(x[upp+r]==x[upp]){\nup++;\n}else if(x[upp+r]!=0){\nupp=upp+r;\nbreak;\n}}break;}\nwhile(1){\nfor(int r=0;;r++){\nif(x[downn-r]==x[c]){\ndown++;\n}else if(x[downn-r]!=0){\ndownn=downn-r;\nbreak;}}\nbreak;}\nd=0;\nif(up+down>=4){\nd=1;\nfor(int f=0;f<up;f++){x[c+f]=0;}\nfor(int f=0;f<down;f++){x[d-f]=0;}\nlength-=up+down;\n\n}}return length;}\nint main(){\nint n,l;\nscanf(\"%d\",&n);\nlength=n;\nfor(int i=0;i<n;i++){\nscanf(\"%d\",&x[i]);\n}\nfor(int i=0;i<n;i++){\nfor(int j=1;j<=3;j++){\nif(x[i]!=j){\nif(mi>lensa(i,j)){\nmi=lensa(i,j);\n}\n}}}\nprintf(\"%d\\n\",mi);\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\nint rensa(string str){\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2] \n       && str[i+2] == str[i+3]){\n      int r = i+3;\n      while(str[i] == str[r] && r < str.size())r++;\n      str = str.substr(0,i) + str.substr(r,str.size()-r);\n      i = 0;\n    }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n\n  while( cin >> n,n){\n  string cha = \"\";\n  for(int i = 0 ; i < n ; i++ ){\n    cin >> ch;\n    cha+=ch;  \n  }\n  int ret = cha.size();\n  for(int i = 0 ; i < cha.size() ; i++ ){\n  string tmp = cha;\n  if(0 <= i && i < cha.size()-1){\n    tmp[i] = cha[i+1];\n    ret =  min(ret,rensa(tmp));\n  }\n  tmp = cha;\n  if(1<= i && i < cha.size()){\n    tmp[i] = cha[i-1];\n    ret =  min(ret,rensa(tmp));\n  }\n  }\n  cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  rep(i,v.size()){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else if(it->se > 3){\n        f = false;\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    ll si = v2.size(),ans = inf,sum;\n    v2.push_back(make_pair(inf,0));\n    auto v3 = v2;\n    auto it = v2.begin();\n    rep(j,v2.size()){\n      sum += v2[j].se;\n    }\n    REP(i,0,si){\n      sum = 0;\n      v2[i+1].se++;\n      v2[i].se--;\n      if(v2[i].se == 0)\n        v2.erase(it + i);\n      chain(v2);\n      rep(j,v2.size()){\n        sum += v2[j].se;\n      }\n      ans = min(ans,sum);\n      v2 = v3;\n      sum = 0;\n      if(i>1){\n        v2[i-1].se++;\n        v2[i].se--;\n        if(v2[i].se == 0)\n          v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n        }\n        ans = min(ans,sum);\n      }\n      v2 = v3;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\nint make_ballstack(vector<int>& balls) {\n    int n=(int)balls.size();\n    stack<pair<int,int> > stk_ball;\n    int length;\n    int ans=0;\n\n    for(int i=0; i<n; ++i) {\n        if(stk_ball.empty()) {\n            balls[i];\n            length=1;\n            ans=1;\n            stk_ball.push(make_pair(balls[i],length));\n        } else if(stk_ball.top().first==balls[i]) {\n            length=stk_ball.top().second; stk_ball.pop();\n            ++length;\n            ++ans;\n            stk_ball.push(make_pair(balls[i],length));\n        } else {\n            length=stk_ball.top().second;\n            if(length>=4) {\n                ans-=length;\n                stk_ball.pop();\n                if(stk_ball.empty()) {\n                    stk_ball.push(make_pair(balls[i],1));\n                } else if(stk_ball.top().first!=balls[i]) {\n                    stk_ball.push(make_pair(balls[i],1));\n                } else {\n                    length=stk_ball.top().second;\n                    stk_ball.pop();\n                    stk_ball.push(make_pair(balls[i],length+1));\n                }\n            } else {\n                stk_ball.push(make_pair(balls[i],1));\n            }\n            ++ans;\n        }\n    }\n    if(stk_ball.top().second >= 4) {\n        ans-=stk_ball.top().second;\n        stk_ball.pop();\n    }\n    return ans;\n}\n\n\n\nint main() {\n    int N;\n\n    cin >> N;\n\n    while(N!=0) {\n        vector<int> balls;\n        set<pair<int,int> > mark;\n        int cont=1;\n        int temp;\n        int ans=N;\n\n        for(int i=0; i<N; ++i) {\n            cin >> temp;\n            balls.push_back(temp);\n            if(i>=1 && temp==balls[i-1]) ++cont;\n            else {\n                if(cont==3) {\n                    mark.insert(make_pair(i,balls[i-1]));\n                    if(i>=4) {\n                        mark.insert(make_pair(i-4,balls[i-1]));\n                    }\n                }\n                cont=1;\n            };\n\n        }\n\n        for(auto x:mark) {\n            int tempc=balls[x.first];\n            balls[x.first]=x.second;\n            ans=min(ans,make_ballstack(balls));\n            balls[x.first]=tempc;\n        }\n\n        cout << ans << endl;\n\n        cin >> N;\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-4;q++){\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tfor(int i=1;i<=s-4;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint n;\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while (true) {\n        cin >> n;\n        if (n == 0) break;\n        int ch[n] = {};\n        rep(i, n) cin >> ch[i];\n        int ans = 1e12;\n        rep(i, n)rep2(j, 1, 4){\n            int nokori = n;\n            int l = i - 1;\n            int r = i + 1;\n            int cnt = 1;\n            int color = j;\n            while (true) {\n                while (r < n) {\n                    if (ch[r] == color) cnt++;\n                    else break;\n                    r++;\n                }\n                while (l > 0) {\n                    if (ch[l] == color) cnt++;\n                    else break;\n                    l--;\n                }\n                if (cnt < 4) break;\n                nokori -= cnt;\n                if (nokori < 4) break;\n                cnt = 0;\n                if (r < n) color = ch[r];\n                else if (l > 0) color = ch[l];\n                else break;\n            }\n            ans = min(ans, nokori);\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=check[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nint compute_remaining_characters(const vector<int>& characters,int idx,int color){\n  int prev_lhs = idx;\n  int prev_rhs = idx - 1;\n  int lhs = idx;\n  int rhs = idx;\n\n  for(int round = 0; round <= characters.size(); round++){\n    color = characters[lhs];\n    while(lhs >= 0){\n      if(characters[lhs] == color){\n\tlhs--;\n      }\n      else{\n\tbreak;\n      }\n    }\n    while(rhs < characters.size()){\n      if(characters[rhs] == color){\n\trhs++;\n      }\n      else{\n\tbreak;\n      }\n    }\n    if(lhs < 0) lhs++;\n    if(rhs >= characters.size()) rhs--;\n    \n    if((rhs - lhs + 1)-(prev_rhs-prev_lhs + 1) < 4){\n      break;\n    }\n    prev_lhs = lhs;\n    prev_rhs = rhs;\n    \n    //next pos\n    lhs--;\n    rhs++;\n  }\n  return characters.size() - (prev_rhs - prev_lhs + 1);\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    vector<int> characters;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n      characters.push_back(color);\n    }\n\n    int res = n;\n    for(int idx=0;idx<characters.size();idx++){\n      for(int color=1;color<=3;color++){\n\tvector<int> store = characters;\n\tcharacters[idx] = color;\n\tres = min(res,compute_remaining_characters(characters,idx,color));\n\tcharacters = store;\n      }\n    }\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\nint tmp[11234][3];\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color - 1][1]; i <= bound[num][color - 1][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color - 1][1] - 1] != A[bound[num][color - 1][0] + 1]) {\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t}\n\t\telse { res += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]); }\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\tfor (int k = 0; k < N; ++k) { A[k] = memo_A[k]; }\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<stack>\n\nusing namespace std;\n\n#define PII pair<int,int>\n\nint x[10020];\nint N;\n\nstack< PII > S;\n\nvoid pa(){\n\tfor(int i = 0; i < N; i++){\n\t\tprintf(\"%s\",x[i]==1?\"Ô\":x[i]==2?\"Â\":\"©\");\n\t}puts(\"\");\n}\n\nint func(){\n\tint now = 1;\n\tint ret = 0;\n\tPII t;\n\tint c = 1;\n\tfor(int i = 0; i < N; i++){\n\t\tif(x[i] == x[i+1]){\n\t\t\tif(c>3)break;\n\t\t\tc++;\n\t\t}\n\t\telse c = 1;\n\t}\n\t\n\tfor(int i = 0; i < N ; i++){\n\t\tif(x[i] == x[i+1]){\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(S.size() > 0){\n//\t\t\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\t\t\tif(now > 3){\n\t\t\t\t\t\n\t\t\t\t}else if(S.top().first == x[i] && S.top().second + now > 3){\n//\t\t\t\t\tprintf(\"popA\\n\");\n\t\t\t\t\tS.pop();\n\t\t\t\t}else{\n\t\t\t\t\tt.first = x[i];\n\t\t\t\t\tt.second = now;\n\t\t\t\t\tS.push(t);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tPII t;\n\t\t\t\tt.first = x[i];\n\t\t\t\tt.second = now;\n\t\t\t\tS.push(t);\n\t\t\t}\n\t\t\tnow = 1;\n\t\t}\n\t}\n\t/*\n\tif(x[N-1] == S.top().first && S.top().second > 2){\n\t\tS.pop();\n\t}else {\n\t\tS.push(PII(x[N-1],1));\n\t}\n\t*/\n//\tprintf(\"size() = %d\\n\",S.size());\n\tint size = S.size();\n\tfor(int i = 0; i < size; i++){\n//\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\tret += S.top().second;\n\t\tS.pop();\n\t}\n//\tprintf(\"return %2d\\n\",ret);\n\treturn ret;\n}\n\t\t\t\t\n\nint main(void){\n\twhile(scanf(\"%d\", &N) && N != 0){\n\t\tint M=2000000000;\n\t\t\n\t\tfor(int i = N-1; i >= 0; i--){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\tx[N] = 0;\n//\t\tpa();\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 1; j < 4; j++){\n\t\t\t\tif(x[i] != j && ( i-1 > -1 && x[i-1] == j) || (j == x[i+1]) ){\n\t\t\t\t\tx[N+1] = x[i];\n\t\t\t\t\tx[i] = j;\n//\t\t\t\t\tputs(\"---\");\n//\t\t\t\t\tpa();\n\t\t\t\t\tM = min(func(),M);\n\t\t\t\t\tx[i] = x[N+1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", M);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tif(v.size() >= 2){\n\t\t\tfor(int i=1;i<v.size();i++){\n\t\t\t\tif(v[i].color == v[i-1].color){\n\t\t\t\t\tif(v[i].size >= 3){\n\t\t\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t\t\t}else if(v[i-1].size >= 3){\n\t\t\t\t\t\tminChara = std::min(minChara, n - (v[i-1].size + 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\t\tif(v[i].size == 1 && v[i-1].color == v[i+1].color && v[i-1].size + v[i+1].size + 1 >= 4){\n\t\t\t\t\t\tint destroyChara = v[i-1].size + v[i+1].size + 1,\n\t\t\t\t\t\t\tupperChara = i-2,\n\t\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\t\tif(v[upperChara].color == v[lowerChara].color && v[upperChara].size + v[lowerChara].size >= 4){\n\t\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint solve(vector<int> cols,int st){\n    int l=st,r=st;\n    for(;;){\n        int ncol=cols[l];\n        int befl=l,befr=r;\n        for(;l>=0;l--){\n            if(cols[l]!=ncol){\n                l++;\n                break;\n            }\n        }\n        if(l<0)l=0;\n        for(;r<cols.size();r++){\n            if(cols[r]!=ncol){\n                r--;\n                break;\n            }\n        }\n        if(r>=cols.size())r=cols.size()-1;\n        int va=(r-befr)+(befl-l);\n        if(befl==befr)va+=1;\n        else va+=2;\n        printf(\"%d\\n\",va);\n        if(va==cols.size())return 0;\n        if(va<4){\n            r=befr;\n            l=befl;\n            break;\n        }\n        l--;\n        r++;\n    }\n    return cols.size()-(r-l-1);\n}\nint main(){\n    for(;;){\n        int n;\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        vector<int> cols(n);\n        for(int i=0;i<n;i++){\n            scanf(\"%d\",&cols[i]);\n            cols[i]-=1;\n        }\n        int mi=n;\n        for(int i=0;i<n;i++){\n            vector<bool> able(3,true);\n            able[cols[i]]=false;\n            for(int j=0;j<3;j++){\n                if(able[j]){\n                    int te=cols[i];\n                    cols[i]=j;\n                    mi=min(mi,solve(cols,i));\n                    cols[i]=te;\n                }\n            }\n        }\n        printf(\"%d\\n\",mi);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = 100000;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = 10000;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tstart -=(left+1);\n\t\t\t\t\tend +=(right+1);\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start)ans = num - end + start;\n\t\t\t}\n\t\t}\n\t\tif (ans != num)ans++;\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n \nusing namespace std;\n \ntypedef vector<int> vi;\n \nint n;\n \nint f(vi a, int n, int idx)\n{\n\tvi kesu;\n \n\tfor (int i = idx + 1; i < n; ++i) {\n\t\tif (a[i] != a[idx]) break;\n\t\tkesu.push_back(i);\n\t}\n\tfor (int i = idx - 1; i >= 0; --i) {\n\t\tif (a[i] != a[idx]) break;\n\t\tkesu.push_back(i);\n\t}\n \n\tif (kesu.size() < 3) return n;\n \n    while (kesu.size()) {\n\t\ta[kesu.back()] = 0;\n\t\tkesu.pop_back();\n\t}\n\ta[idx] = 0;\n \n\tvi b;\n \n\tint nextidx = -1;\n \n\tfor (int i = 0; i < n; ++i) {\n\t\tif (a[i]) {\n\t\t\tb.push_back(a[i]);\n\t\t\tif (nextidx == -1 && i >= 1 && a[i - 1] == 0) {\n\t\t\t\tnextidx = b.size() - 1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (nextidx == -1) {\n                if (b.size()) {\n\t\t\t\t\tnextidx = i - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n \n   return f(b, b.size(), nextidx); \n}\n \nint calc(vi a, int n, int idx)\n{\n\tvi b = a;\n\tif (idx >= 3 && a[idx - 1] == a[idx - 2] && a[idx - 2] == a[idx - 3]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx <= n - 4 && a[idx + 1] == a[idx + 2] && a[idx + 2] == a[idx + 3]) {\n\t\tb[idx] = b[idx + 1];\n\t} else if (idx >= 2 && idx <= n - 2 && a[idx - 1] == a[idx - 2] && a[idx - 1] == a[idx + 1]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx >= 1 && idx <= n - 3 && a[idx - 1] == a[idx + 1] && a[idx - 1] == a[idx + 2]) {\n\t\tb[idx] = b[idx - 1];\n\t} else {\n\t\treturn n;\n\t}\n \n\treturn f(b, b.size(), idx);\n}\n \nint main()\n{\n\twhile (scanf(\"%d\", &n), n) {\n\t\tvi arr;\n \n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tint a; scanf(\"%d\", &a);\n\t\t\tarr.push_back(a);\n\t\t}\n \n\t\tint mi = 10001;\n \n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tmi = min(mi, calc(arr, arr.size(), i));\n\t\t}\n \n\t\tprintf(\"%d\\n\", mi);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint a[10000];\nbool t[10000];\nint n,ans;\nvoid DFS(int cnt){\n\tint cha=0;\n\tint set=0,pp;\n\tfor(int i=0;i<n;i++){\n\t\tif(t[i]==true){\n\t\tif(set==a[i]){\n\t\t\tpp++;\n\t\t}\n\t\telse{\n\t\t\tif(pp>3){\n\t\t\t\tfor(int j=0;j<pp;j++){\n\t\t\t\t\tt[i-j-1]=false;\n\t\t\t\t\tcha++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tset=a[i];\n\t\t\tpp=1;\n\t\t}\n\t\t}\n\t}\n\tif(pp>3){\n\t\tfor(int j=0;j<pp;j++){\n\t\t\tt[n-j-1]=false;\n\t\t\tcha++;\n\t\t}\n\t}\n\tcnt+=cha;\n\tans=max(ans,cnt);\n\tif(cha==0)return;\n\telse{\n\t\tDFS(cnt);\n\t}\n}\nint main(){\n\twhile(true){\n\tcin>>n;\n\tif(n==0)break;\n\tans=0;\n\tfor(int i=0;i<n;i++)cin>>a[i];\n\tfor(int i=0;i<n;i++){\n\t\tint keep=a[i];\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tfor(int k=0;k<n;k++)t[k]=true;\n\t\t\tif(keep!=j){\n\t\t\t\ta[i]=j;\n\t\t\t\tDFS(0);\n\t\t\t}\n\t\t}\n\t\ta[i]=keep;\n\t}\n\tcout<<n-ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint N;\nvector<int> G;\n\nint erase() {\n  int res = N;\n  bool update = true;\n  do {\n    bool f = G[5] == 2;\n    update = false;\n    for(int i = 0, k = 0; i <= N; ++i) {\n      if(i == N || i && G[i] != G[i-1]) {\n        if(k >= 4 && G[i-1]) {\n          update = true;\n          int ni = i;\n          while(k--) {\n            G[--ni] = 0;\n            --res;\n          }\n        }\n        k = 1;\n      } else {\n        ++k;\n      }\n    }\n    for(int i = N - 1, j = N - 1; i >= 0; --i) {\n      if(G[i] != 0) {\n        int tmp = G[i];\n        G[i] = 0;\n        G[j--] = tmp;\n      }\n    }\n  } while(update);\n  return res;\n}\n\nint main() {\n  cin >> N;\n  G.resize(N);\n  for(int i = 0; i < N; ++i) {\n    cin >> G[i];\n  }\n  int res = N;\n  for(int i = 0; i < N; ++i) {\n    for(int j = 1; j <= 3; ++j) {\n      vector<int> tmp = G;\n      G[i] = j;\n      res = min(res, erase());\n      G = tmp;\n    }\n  }\n  cout << res << endl;\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tans = min( ans , check( v ));\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint rem(PArray& arr)\n{\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tif(i != 0 && i != n - 1 && (arr[i - 1].second != j - 1 || arr[i + 1].second != j - 1))\n\t\t\t\t\tcontinue;\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <set>\n#include <map>\n#include <sstream>\n#include <string>\n#include <cstdio>\n#include <stack>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <functional>\n#include <cstring>\n#include <tuple>\n#include <utility>\n#include <list>\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef vector<int> Array;\ntypedef pair<int, int> P;\n\nconst LL LINF = 1LL << 60;\nconst LL MOD = 1000000009;\n#define rep(i,n) for(int i=0;i<(int)n;++i)\n#define all(c) (c).begin(), (c).end()\n\nstruct edge{ LL to, cost; edge(int t, LL c) :to(t), cost(c){} };\n\nint main()\n{\n\tint n;\n\twhile (cin >> n && n)\n\t{\n\t\tvector<int> arr(n);\n\t\trep(i, n){ cin >> arr[i]; arr[i]--; }\n\n\t\tint ans = (1 << 29);\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tfor (int j = 0; j < 4; j++)\n\t\t\t{\n\t\t\t\tif (arr[i] == j) continue;\n\t\t\t\tint buf = arr[i];\n\t\t\t\tarr[i] = j;\n\t\t\t\tlist<P> list;\n\t\t\t\tlist.emplace_back(arr[0], 1);\n\t\t\t\tfor (int k = 1; k < n; k++)\n\t\t\t\t{\n\t\t\t\t\tif ((--list.end())->first == arr[k]) (--list.end())->second++;\n\t\t\t\t\telse list.emplace_back(arr[k], 1);\n\t\t\t\t}\n\t\t\t\tfor (auto it = list.begin(); it != list.end(); it++)\n\t\t\t\t{\n\t\t\t\t\tif (it->second >= 4)\n\t\t\t\t\t{\n\t\t\t\t\t\tauto tit = it;\n\t\t\t\t\t\tif (it != list.begin()) it--;\n\t\t\t\t\t\telse it++;\n\t\t\t\t\t\tlist.erase(tit);\n\n\t\t\t\t\t\tif (it == list.end()) break;\n\t\t\t\t\t\tauto nit = ++it;\n\t\t\t\t\t\tit--;\n\t\t\t\t\t\tif (it->first == nit->first)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tit->second += nit->second;\n\t\t\t\t\t\t\tlist.erase(nit);\n\t\t\t\t\t\t\tif (it == list.end()) break;\n\t\t\t\t\t\t\tif (it != list.begin()) it--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tint tmp = 0;\n\t\t\t\tfor (auto p : list) tmp += p.second;\n\t\t\t\tans = min(ans, tmp);\n\n\t\t\t\tarr[i] = buf;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = num;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = num;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tif(start-(left+1)>=0)\tstart -=(left+1);\n\t\t\t\t\telse start = -1;\n\t\t\t\t\tif (end + (right + 1) < num)end += right + 1;\n\t\t\t\t\telse end = num;\n\t\t\t\t\tif (start == 0)break;\n\t\t\t\t\tif (end == num)break;\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start+1)ans = num - end + start+1;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(void){\n    int n,i,i2,a[10000],b[10000],cmb,cmbc,ans,nkr,tf;\n    cin>>n;\n    while(n!=0){\n        ans=n;\n        for(i=0;i<n;i++){\n            cin>>a[i];\n        }\n        for(int I=0;I<n*2;I++){\n            for(i=0;i<n;i++)b[i]=a[i];\n            if(I%2==0){\n                if(b[I/2]==3)b[I/2]=1;\n                else b[I/2]++;\n            }\n            else{\n                if(b[I/2]==1)b[I/2]=3;\n                else b[I/2]--;\n            }\n            nkr=n;\n            //?¶????????????¨????????????????????§\n            do{\n                //??????????????§??????\n                tf=0;\n                cmb=1;\n                cmbc=b[0];\n                for(i=1;i<n;i++){\n                    if(cmbc==b[i]){\n                        cmb++;\n                    }\n                    else{\n                        if(cmb>=4){\n                            tf=1;\n                            break;\n                        }\n                        else{\n                            cmb=1;\n                            cmbc=b[i];\n                        }\n                    }\n                }\n                //?????????????¶?????????´???\n                if(tf==1){\n                    /*for(i2=0;i2<n;i2++)cout<<b[i2]<<' ';\n                    cout<<endl;*/\n                    for(i2=i;i2<nkr;i2++){\n                        b[i2-cmb]=b[i2];\n                        b[i2]=0;\n                    }\n                    nkr-=cmb;\n                    //cout<<nkr<<endl;\n                }\n            }while(tf!=0);\n            if(ans>nkr)ans=nkr;\n        }\n        cout<<ans<<endl;\n        cin>>n;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint color[10010];\nint N;\nint ans;\n\nint solve(int x, int cc){\n  if(color[x] == cc) return N;\n  int cnt = 1;\n  int back, forward;\n  \n  for(back = x-1 ; back >= 0 ; back--){\n    if(cc == color[back])cnt++;\n    else break;\n  }\n  for(forward = x+1 ; forward < N ; forward++){\n    if(cc == color[forward]) cnt++;\n    else break;\n  }\n  \n  int res = N-cnt;\n  \n  if(cnt < 4) return N;\n  else if(back < 0 || N <= forward) return res;\n  else if(color[back] != color[forward]) return res;\n  \n    while(1){\n      int tmp = 0;\n      cc = color[back];\n      for( ; back >= 0 ; back--){\n\tif(cc == color[back]) tmp++;\n\telse break;\n      }\n      for( ; forward < N ; forward++){\n\tif(cc == color[forward]) tmp++;\n\telse break;\n      }\n      if(cnt < 4) return res;\n      else if(back < 0 || N <= forward) return res-tmp;\n      else if(color[back] != color[forward]) return res-tmp;\n    \n      res -= tmp;\n    }\n    return res;\n}\n\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 0 ; i < N ; i++) cin >> color[i];\n    int ans = 10010;\n    for(int i = 0 ; i < N ; i++){\n      for(int c  = 1 ; c <= 3 ; c++){\n\tans = min(ans, solve(i, c));   \n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n\n    "
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\tint n, ma = 0;\n\tscanf(\"%d\", &n);\n\tfor (int i = 0; i < n; i++)\n\t\tscanf(\"%d\", &chain[i]);\n\tfor (int i = 0; i < n; i++){\n\t\tchar default = chain[i];\n\t\tfor (int j = 1; j <= 3; j++){\n\t\t\tchain[i] = j;\n\t\t\tint s, g, cnt = 1;\n\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\tif (cnt >= 4){ ma = max(ccount(s, g, cnt), ma); }\n\t\t}\n\t\tchain[i] = default;\n\t}\n\tprintf(\"%d\\n\", n - ma);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 2012/12/13 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nint no(int C[10002], int i, int c)\n{\n\tint p = i-1;\n\tint q = i+1;\n\n\tint nc = 1;\n\n\twhile(C[p]==c){\n\t\tnc++;\n\t\tp--;\n\t}\n\twhile(C[q]==c){\n\t\tnc++;\n\t\tq++;\n\t}\n\n\tif(nc<4)\n\t\treturn 0;\n\n\tint sum = nc;\n\n\twhile(C[p]!=0&&C[q]!=0&&C[p]==C[q]){\n\t\tc = C[p];\n\t\tnc = 0;\n\n\t\twhile(C[p]==c){\n\t\t\tnc++;\n\t\t\tp--;\n\t\t}\n\t\twhile(C[q]==c){\n\t\t\tnc++;\n\t\t\tq++;\n\t\t}\n\n\t\tif(nc<4)\n\t\t\tbreak;\n\n\t\tsum += nc;\n\t}\n\n\treturn sum;\n}\n\nint main()\n{\nwhile(true){\n\tint N;\n\tcin >> N;\n\nif(N==0)\nbreak;\n\n\tint C[10002];\n\tC[0] = 0;\n\tfor(int i=1; i<=N; i++){\n\t\tcin >> C[i];\n\t}\n\tC[N+1] = 0;\n\n\tint M = N;\n\tfor(int i=1; i<=N; i++){\n\t\tfor(int j=1; j<=3; j++){\n\t\t\tint n = no(C, i, j);\n\n\t\t\tif(N-n<M){\n\t\t\t\tM = N-n;\n\t\t\t}\n\t\t}\n\t}\n\n\tcout << M << '\\n';\n}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std; \n\t\n\n\tbool can(vector<int> chars,int i){\n\t\t\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\tchars[i]=j;\n\t\t\tif(i<=2){\n\t\t\tif(chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3])return true;\n\t\t\t}\n\t\t\t\n\t\telse if(i>=chars.size()-3){\n\t\t\tif(chars[i]==chars[i-1]&&chars[i-1]==chars[i-2]&&chars[i-2]==chars[i-3])return true;\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tif(chars[i]==chars[i-1]&&chars[i-1]==chars[i-2]&&chars[i-2]==chars[i-3]||chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3])return true;\n\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t\n\tint solve(vector<int>chars,int a,int b){//a番目のキャラをb色に変えたときのシュミレーション\n\t\tchars[a]=b;\n\t\t\n\t\t\n\t\t\n\t\twhile(true){\n\t\tbool flag=false;\n\t\tfor(int i=0;i<chars.size()-3;i++){\n\t\t\tif(chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3]){\n\t\t\t\tint j=i;\n\t\t\t\t\twhile(chars[j]==chars[i]){\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int k=i;k<j;k++){\n\t\t\t\tchars.erase(chars.begin()+i);\n\t\t\t\t}\n\t\t\t\tflag=true;\n\t\t\t}\n\t\t\n\t\t}\n\t\t\t\tif(!flag)break;\n\t\n\t\n\t\t}\n\t\treturn chars.size();\n\t}\nint main(){\n\tint N,m;\n\tint ans=150000;\n\twhile(cin>>N,N){\n\tvector<int>chars;\n\t\n\tfor(int i=0;i<N;i++)cin>>m,chars.push_back(m);\n\t\tans=chars.size();\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(can(chars,i))ans=min(solve(chars,i,j),ans);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t\tchars.clear();\n\t\t ans=15000;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nint c[10005] = {0},d[10005] = {0};\nusing namespace std;\nint func(int s,int t){\n    int x = 0;\n    while(c[s] == c[t] && d[s]+d[t] >= 4){\n        x += d[s]+d[t];\n        s -= d[s];\n        t += d[t];\n    }\n}\nint main(){\n    int n;\n    while(scanf(\"%d\",&n),n){\n        c[0] = 5;\n        c[n+1] = 6;\n        d[0] = d[n+1] = 0;\n        scanf(\"%d\",&c[1]);\n        int x;\n        x = c[1];\n        int y = 1;\n        for(int i = 2;i <= n+1; i++){\n            if(i < n+1)scanf(\"%d\",&c[i]);\n            if(c[i] != x){\n                for(int j = 1;j <= y; j++)d[i-j] = y;\n                y = 1;\n                x = c[i];\n            }\n            else y++;\n        }\n        int ans = 0;\n        int s = 0,t = 0;\n        for(int i = 1;i <= n; i++){\n            if(c[i-1] == c[i+1]){\n                if(c[i-1]!= c[i] && d[i-1] + d[i+1] >= 3){\n                    s = (i-1) - d[i-1];\n                    t = (i+1) + d[i+1];\n                    ans = max(ans,d[i-1]+1+func(s,t));\n                }\n            }\n            else {\n                if(c[i-1] != c[i] && d[i-1] >= 3){\n                    s = (i-1) - d[i-1];\n                    if(c[i] == c[i+1]){\n                        t = i;\n                        x = 0;\n                    }\n                    else {\n                        s = i -1;\n                        x = 1;\n                    }\n                    ans = max(ans,d[i+1]+x+func(s,t));\n                }\n                if(c[i+1] != c[i] && d[i+1] >= 3){\n                    t = (i+1) + d[i+1];\n                    if(c[i] == c[i-1]){\n                        s = i;\n                        x = 0;\n                    }\n                    else {\n                        s = i;\n                        x = 1;\n                    }\n                    ans = max(ans,d[i+1]+x+func(s,t));\n                }\n            }\n        }\n        //printf(\"%d\\n\",ans);\n        printf(\"%d\\n\",n-ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, deque<int>&r) {\n\tint lt = l.back();\n\tint rt = r[0];\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num>=3) {\n\t\t\tint ls = l.size();\n\t\t\tfor (int i = a + 1; i < ls; ++i) {\n\t\t\t\tl.pop_back();\n\t\t\t}\n\t\t\tfor (int i = 0; i < b; ++i) {\n\t\t\t\tr.pop_front();\n\t\t\t}\n\t\t\treturn num+1 + getans(l, r);\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint getans(const vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\tvector<int>l(as.begin(), as.begin() + f);\n\t\tdeque<int> r;\n\t\tfor (int i = t + 1; i < as.size(); ++i) {\n\t\t\tr.push_back(as[i]);\n\t\t}\n\t\treturn (t-f+1)+getans(l, r);\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n\nint main(){\n\tvector<int> v;\n\tint n;\n\twhile(cin>>n,n){\n\t\tv.resize(n);\n\t\tfor(int i=0;i<n;i++)cin>>v[i];\n\t\tint ans=n;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(v[i]==j)continue;\n\t\t\t\tint prev=v[i];\n\t\t\t\tv[i]=j;\n\t\t\t\tint a=i,b=i+1;\n\t\t\t\twhile(1){\n\t\t\t\t\tint c=1;\n\t\t\t\t\twhile(0<a&&v[a]==v[a-1])a--,c++;\n\t\t\t\t\twhile(b<n &&v[a]==v[b])b++,c++;\n\t\t\t\t\tif(c<4){\n\t\t\t\t\t\tans=min(ans,n-b+a+c);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(--a==-1){\n\t\t\t\t\t\tans=min(ans,n-b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(b==n){\n\t\t\t\t\t\tans=min(ans,a+1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tv[i]=prev;\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n#include <string>\n#include <functional>\n#include <math.h>\n#include <utility>\n#define INF 100000000\nusing namespace std;\ntypedef pair<int,int> P;\nint N,ans;\nvector<int> vec,vec2,tmp;\nvoid deal(int t){\n\tint fir=0;\n\tint color=0;\n\tbool update=true;\n\twhile(update){\n\t\tupdate=false;\n\t\tfir=max(t-6,0);\n\t\tfor(int i=max(t-6,0);i<min(t+6,(int)tmp.size());i++){\n\t\t\tif(tmp[i]==color)continue;\n\t\t\tint count=i-fir;\n\t\t\tif(count>=4){\t\t\n\t\t\t\twhile(count--)tmp.erase(fir+tmp.begin());\n\t\t\t\tt=fir;\n\t\t\t\tupdate=true;\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\tfir=i;color=tmp[i];\n\t\t\t}\n\t\t}\n\t}\n\treturn;\n}\nint main()\n{\n\twhile(cin>>N&&N){\n\t\tvec.clear();vec2.clear();ans=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint tmp;cin>>tmp;\n\t\t\tvec.push_back(tmp);\n\t\t}\n\t\tfor(int i=0;i<N;i++){\n\t\t\tbool flag=false;\n\t\t\tif(1<=i&&i<N-1)if(vec[i-1]==vec[i+1]&&vec[i-1]!=vec[i])flag=true;\n\t\t\tif(i<N-3&&!flag)if(vec[i+1]==vec[i+2]&&vec[i+1]==vec[i+3])flag=true;\n\t\t\tif(3<=i&&!flag)if(vec[i-1]==vec[i-2]&&vec[i-1]==vec[i-3])flag=true;\n\t\t\tif(flag)vec2.push_back(i);\n\t\t}\n\t\tif(vec2.empty()){cout<<ans<<endl;continue;}\n\t\tfor(int i=0;i<(int)vec2.size();i++){\n\t\t\tint m=vec2[i];\n\t\t\tif(m!=0){\n\t\t\t\ttmp=vec;tmp[m]=vec[m-1];deal(m);\n\t\t\t\tans=min(ans,(int)tmp.size());\n\t\t\t\tif(m==N-1)continue;\n\t\t\t\tif(vec[m-1]!=vec[m+1]){\n\t\t\t\t\ttmp=vec;tmp[m]=vec[m+1];deal(m);\n\t\t\t\t\tans=min(ans,(int)tmp.size());\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\ttmp=vec;tmp[m]=vec[m+1];deal(m);\n\t\t\t\tans=min(ans,(int)tmp.size());\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(){\n\tint N,a[10000],b[10000],i,i2,i3,cc,tf,combo,combocolor,ans=-1,longer,ic;\n\tcin>>N;\n\tfor(i=0;i<N;i++)cin>>a[i];\n\tfor(i=0;i<N*2;i++){\n\t\tfor(i2=0;i2<N;i2++)b[i2]=a[i2];\n\t\tif(i%2==0){\n\t\t\tif(b[i/2]==1)b[i/2]=2;\n\t\t\telse if(b[i/2]==2)b[i/2]=3;\n\t\t\telse b[i/2]=1;\n\t\t}\n\t\telse{\n\t\t\tif(b[i/2]==1)b[i/2]=3;\n\t\t\telse if(b[i/2]==2)b[i/2]=1;\n\t\t\telse b[i/2]=2;\n\t\t}\n\t\tlonger=N;\n\t\tdo{\n\t\t\ttf=0;\n\t\t\tcombo=1;\n\t\t\tcombocolor=b[0];\n\t\t\tfor(i2=1;i2<N;i2++){\n\t\t\t\tif(b[i2]==combocolor)combo++;\n\t\t\t\telse if(combo>=4){\n\t\t\t\t\t\ttf=1;\n\t\t\t\t\t\tfor(i3=i2-combo;i3<i2;i3++){\n\t\t\t\t\t\t\tb[i3]=0;\n\t\t\t\t\t\t\tlonger--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor(i3=i2;i3<N;i3++){\n\t\t\t\t\t\t\tb[i3-combo]=b[i3];\n\t\t\t\t\t\t\tb[i3]=0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\t\t\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcombo=1;\n\t\t\t\t\tcombocolor=b[i2];\n\t\t\t\t}\n\t\t\t}\n\t\t}while(tf!=0);\n\t\tif(ans==-1)ans=longer;\n\t\telse if(ans>longer)ans=longer;\n\t}\n\tcout<<ans<<endl;\n\t//for(ic=0;ic<N;ic++){cout<<b[ic]<<' ';}cout<<endl;\n}\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\nint rensa(string str){\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2] \n       && str[i+2] == str[i+3]){\n      int r = i+3;\n      while(str[i] == str[r] && r < str.size())r++;\n      str = str.substr(0,i) + str.substr(r,str.size()-r);\n      i = 0;\n    }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n\n  while( cin >> n,n){\n    string cha = \"\";\n    for(int i = 0 ; i < n ; i++ ){\n      cin >> ch;\n      cha+=ch;  \n    }\n    int ret = cha.size();\n    for(int i = 0 ; i < cha.size() ; i++ ){\n      string tmp = cha;\n      if(0 <= i && i < cha.size()-1){\n\ttmp[i] = cha[i+1];\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] ){\n\t  if(l < 1)break;\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r]){\n\t  if( r > tmp.size()-1)break;\n\t  r++;\n\t}\n\tif(3<=r-l){\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n      tmp = cha;\n      if(1<= i && i < cha.size()){\n\ttmp[i] = cha[i-1];\n\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] ){\n\t  if(l < 1)break;\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r]){\n\t  if( r > tmp.size()-1)break;\n\t  r++;\n\t}\n\n\tif(3 <= r-l ){\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<pair<int,int>> tougou(vector<pair<int,int>> x){\n\tint siz=x.size();\n\tpair<int,int> p;\n\tif(siz!=0)p=x[0];\n\tvector<pair<int,int>> ans;\n\tfor(int i=1;i<siz;i++){\n\t\tif(p.first!=x[i].first){\n\t\t\tans.push_back(p);\n\t\t\tp=x[i];\n\t\t}\n\t\telse {\n\t\t\tp.second+=x[i].second;\n\t\t}\n\t}\n\tans.push_back(p);\n\treturn ans;\n}\n\nint solve(vector<pair<int,int>> x){\n\tvector<pair<int,int>> vp;\n\tint siz=x.size();\n\tbool update;\n\tfor(;;){\n\t\tupdate=false;\n\t\tfor(int i=0;i<siz;i++){\n\t\t\tif(x[i].second<4){\n\t\t\t\tvp.push_back(x[i]);\n\t\t\t}\n\t\t\telse update=true;\n\t\t}\n\t\tif(!update)break;\n\t\tx=tougou(vp);\n\t\tsiz=x.size();\n\t\tvp.clear();\n\t}\n\t//if(update)return solve(tougou(vp));\n\tsiz=vp.size();\n\tint ans=0;\n\tfor(int i=0;i<siz;i++){\n\t\tans+=vp[i].second;\n\t}\n\treturn ans;\n}\n\nint main(){\nwhile(1){\n\tint n,a,ans=100000;\n\tpair<int,int> p;\n\tp.second=1;\n\tvector<pair<int,int>> vp;\n\tscanf(\"%d\",&n);\n\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&p.first);\n\t\tvp.push_back(p);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tint sav=vp[i].first;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tvp[i].first=j;\n\t\t\tint an=solve(tougou(vp));\n\t\t\tif(an<ans)ans=an;\n\t\t}\n\t\tvp[i].first=sav;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> plli;\ntypedef pair<int,pii> pipii;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<vi> vvi;\ntypedef vector<vvi> vvvi;\ntypedef vector<pii> vpii;\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n);i>0;i--)\n#define rrep2(i,a,b) for (int i=(a);i>b;i--)\n#define pb push_back\n#define fi first\n#define se second\n#define all(a) (a).begin(),(a).end()\n\nconst ll mod = 1e9 + 7;\nconst ll INF = 1<<30;\nconst int dx4[4] = {1, 0, -1, 0};\nconst int dy4[4] = {0, 1, 0, -1};\nconst int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nconst int dy8[8] = {0, 1, -1, 1, -1, 0, 1, -1};\nconst double pi = 3.141592653589793;\n\nint n;\n\nsigned main(){\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    while (true) {\n        cin >> n;\n        if (n == 0) break;\n        int ch[n] = {};\n        rep(i, n) cin >> ch[i];\n        int ans = 1e12;\n        rep(i, n)rep2(j, 1, 4){\n            int nokori = n;\n            int l = i - 1;\n            int r = i + 1;\n            int cnt = 1;\n            int color = j;\n            while (true) {\n                while (r < n) {\n                    if (ch[r] == color) cnt++;\n                    else break;\n                    r++;\n                }\n                while (l >= 0) {\n                    if (ch[l] == color) cnt++;\n                    else break;\n                    l--;\n                }\n                if (cnt < 4) break;\n                nokori -= cnt;\n                if (nokori < 4) break;\n                cnt = 0;\n                if (r < n) color = ch[r];\n                else if (l >= 0) color = ch[l];\n                else break;\n            }\n            ans = min(ans, nokori);\n        }\n        cout << ans << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define lgt\t\t\tlength()\n#define rep(i,n)\tfor (int i = 0; i < n; i++)\n#define ALL(X)\t\t(X).begin(),(X).end()\n#define RALL(X)\t\t(X).rbegin(),(X).rend()\n#define pb\t\t\tpush_back\n#define SORT(a)\t\tsort(ALL(a));\n#define RSORT(a)\tsort(RALL(a));\n#define mp\t\t\tmake_pair\n#define dump(x)\t\tcerr<<#x<<\" = \"<<(x)<<endl;\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nint toInt(string s){int v;istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\nvs form(string a,char s){vs v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(b);b=\"\";}else b+=a[i];}v.pb(b);return v;}\nvi formint(string a,char s){vi v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(toInt(b));b=\"\";}else b+=a[i];}v.pb(toInt(b));return v;}\n\nconst double EPS=1e-10,PI=acos(-1.0);\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n//\t\t\t\tcout << \"*\" << prev << \" \" << num << endl;\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < v.sz - 1; i++){\n\t\t\tcout << \"*\" << i + 1 << endl;\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= v.sz){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define r(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint n,ans,a[10001],tmp;\nint right(int p,int cr){\n  int r=p,x=1;\n  while(r+1<n&&a[r+1]==cr)r++,x++;\n  if(x>=4) return 1;\n  else return 0;\n}\nint left(int p,int cl){\n  int l=p,x=1;\n  while(l-1>=0&&a[l-1]==cl)l--,x++;\n  if(x>=4) return 1;\n  else return 0;\n}\nint mid(int pl,int pr,int cl,int cr){\n  int l=pl,r=pr,x=2;\n  if(pl==pr)x--;\n  while(l-1>=0&&a[l-1]==cl)l--,x++;\n  while(r+1<n&&a[r+1]==cr)r++,x++;\n  if(x>=4) return 1;\n  else return 0;\n}\nint ch(int p){\n  int l=p,r=p,c=1;\n  while(1){\n    if(l<0&&r>=n||!c)break;\n    c=0;\n    int pl=a[l],pr=a[r];\n    if(l>=0&&r<n&&a[l]==a[r]){\n      if(mid(l,r,a[l],a[r])){\n        while(l-1>=0&&a[l-1]==pl)l--,c++;\n        while(r+1<n&&a[r+1]==pr)r++,c++;\n        l--;r++;\n      }\n    }\n    else if(r>=n){\n      if(left(l,a[l])){\n        while(l-1>=0&&a[l-1]==pl)l--,c++;\n        l--;\n      }\n    }\n    else if(l<0){\n      if(right(r,a[r])){\n        while(r+1<n&&a[r+1]==pr)r++,c++;\n        r++;\n      }\n    }\n  }\n  return abs(l+1-0)+abs(n-r);\n}\nint main(){\n  while(cin>>n,n){\n    ans=114514;\n    r(i,n)cin>>a[i];\n    r(i,n)r(j,3){\n      tmp=a[i];\n      a[i]=j+1;\n      ans=min(ans,ch(i));\n      a[i]=tmp;\n    }\n    cout<<min(ans,n)<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\nint ans;\nint rem(PArray& arr)\n{\n\tif(arr.size() == 0) return 0;\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t\tif(ans < ret) return INF;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tans = n;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tscanf(\"%d\", &y[i]);\n\t\t\tp[i] = x[i] = y[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){\n\t\t\t\t\tgoto loopend;\n\t\t\t\t}\n\t\t\t\tp[i] = x[i] = j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tfor(int k=0;k<n;k++){\n\t\t\t\t\tp[k]=y[k];\n\t\t\t\t}\n\t\t\t\tloopend:;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", minx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color][1]; i <= bound[num][color][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color][1] - 1] == A[bound[num][color][0] + 1]) {\n\t\t\tres += solve(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t}\n\t\telse {\n\t\t\tint tmp = 0;\n\t\t\ttmp += how_same(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t\ttmp += how_same(bound[num][color][1] - 1, A[bound[num][color][1] - 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t}\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tmemset(bound, 0, sizeof(bound));\n\t\tans = INF;\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\t// printf(\"%d\", ans);\n\t\t\t\t\t// printf(\"(%d,%d)\\n\", i + 1, j);\n\t\t\t\t\tfor (int k = 0; k < N; ++k) {\n\t\t\t\t\t\t// printf(\"%d\", A[k]);\n\t\t\t\t\t\tA[k] = memo_A[k];\n\t\t\t\t\t}\n\t\t\t\t\t// printf(\"\\n----------\\n\");\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#define min(x, y) ((x) < (y) ? (x) : (y))\n\nint main(){\n  while(1){\n\n    int n, balls[10007], i;\n    scanf(\"%d\", &n);\n    if(n == 0)return 0;\n    \n    balls[0] = -1;\n    balls[n + 1] = -2;\n    for(i = 1;i <= n;i++){\n      scanf(\"%d\", balls + i);\n    }\n    int res = n;\n    for(i = 1;i <= n;i++){\n      int up, down, ans, old = balls[i];\n      balls[i] = balls[i + 1];\n      up = i + 1;\n      down = i;\n      ans = 0;\n      while(balls[up] == balls[down]){\n\tint erased = 0, color = balls[up];\n\twhile(balls[up] == color){\n\t  up++;\n\t  erased++;\n\t}\n\twhile(balls[down] == color){\n\t  down--;\n\t  erased++;\n\t}\n\tif(erased >= 4){\n\t  ans += erased;\n\t}\n\telse break;\n      }\n      res = min(res, n - ans);\n      \n      balls[i] = balls[i - 1];\n      up = i;\n      down = i - 1;\n      ans = 0;\n      while(balls[up] == balls[down]){\n\tint erased = 0, color = balls[up];\n\twhile(balls[up] == color){\n\t  up++;\n\t  erased++;\n\t}\n\twhile(balls[down] == color){\n\t  down--;\n\t  erased++;\n\t}\n\tif(erased >= 4){\n\t  ans += erased;\n\t}\n\telse break;\n      \n      }\n      res = min(res, n - ans);\n      \n      balls[i] = old;\n    }\n    printf(\"%d\\n\", res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4) tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.resize(N);\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    tmp.resize(N);\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,d[10000];\nint tt(int x,int c){\n  int y=x+1,k=n;\n  x--;\n  while(1){\n    bool f=0;\n    int t=1,nx=x,ny=y;\n    for(int i=x;i>=0;i--)\n      if(c==d[i])t++,nx=i,f=1;\n      else break;\n    if(f)nx--,f=0;\n    for(int i=y;i<n;i++)\n      if(c==d[i])t++,ny=i,f=1;\n      else break;\n    if(f)ny++;\n    if(t<4)break;\n     if(nx)c=d[nx],x=nx-1,y=ny;\n    else if(ny!=n)c=d[ny],x=nx,y=ny+1;\n    k-=t;\n  }\n  return k;\n}\n\nint main(){\n  while(cin>>n,n){\n    for(int i=0;i<n;i++)cin>>d[i];\n    int ans=n;\n    for(int i=0;i<n;i++)\n      for(int j=1;j<=3;j++)\n\tans=min(ans,tt(i,j));\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<climits>\nusing namespace std;\n\nint d[1000];\n\nint check(int N)\n{\n  bool f=1;\n  int cnt,i,j;\n  while(f){\n    f=0;\n    cnt=1;\n    for(i=1;i<N;i++){\n      if(d[i]==d[i-1]){\n\tcnt++;\n      }else if(cnt<4){\n\tcnt=1;\n      }else{\n\tf=1;\n\tN-=cnt;\n\tfor(j=i-cnt;j<N;j++)d[j]=d[j+cnt];\n\tbreak;\n      }\n    }\n  }\n  return N;\n}\n\nint main()\n{\n  int N,i,j,k,c[1000];\n  int min,rest;\n  while(cin>>N,N){\n    for(i=0;i<N;i++)scanf(\"%d\",c+i);\n    min=INT_MAX;\n    for(i=0;i<N;i++){\n      for(j=1;j<=3;j++){\n\tif(c[i]==j)continue;\n\tfor(k=0;k<N;k++)d[k]=c[k];\n\td[i]=j;\n\trest=check(N);\n\tif(min>rest)min=rest;\n      }\n    }\n    printf(\"%d\\n\",min);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){cout<<ans<<endl; exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint check(vector<int> v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tans = min( ans , check( v ));\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cctype>\n#include<cmath>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<set>\n#include<map>\n#include<bitset>\n#include<utility>\n#include<string>\n\nusing namespace std;\n\nint ky[10005];\nint bre(int t,int b,int c);\nint brea(int t,int b,int c);\nint n;\n\nmain(){\n  int ans=99999;\n  int temp;\n  while(1){\n    cin >> n;\n    if(n==0) break;\n    memset(ky,0,sizeof(ky));\n    ans=99999;\n    for(int i=1;i<=n;i++){\n      cin >> ky[i];\n    }\n    for(int i=1;i<=n;i++){\n      for(int j=1;j<=3;j++){\n\tif(ky[i]!=j && ans>(temp=bre(i,i+1,j))){\n\t  ans=temp;\n\t}\n      }\n    }\n    printf(\"%d\\n\",ans);\n  }\n}\n\nint bre(int t,int b,int c){\n  int i,j;\n  for(i=t-1;c==ky[i] && ky[i]!=0;i--){\n    ;\n  }\n  for(j=b;c==ky[j] && ky[j]!=0;j++){\n    ;\n  }\n  if((t-(i+1))+(j-b)+1>=4){\n      return bre(i,j,ky[i]);\n  }\n  return n-(b-t-1);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<list>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\nconst int N = 10000;\n\n/*\n  pos ã¯4åé£ç¶ã«ãªã£ãä½ç½®\n */\nint solve(int n,int pos,vector<pair<int,int> > in){\n  int l = pos,r = pos;\n  int tmp = -in[pos].second;//ï¼åãããã\n  while(0 <= l && (in[l].second == 0 || in[l].first == in[pos].first))tmp += in[l].second,l--;\n  while(r <= (int)in.size() && (in[r].second == 0 || in[r].first == in[pos].first) )tmp += in[r].second,r++;\n  /*\n  rep(i,in.size()){\n    cout <<\"(\" << in[i].first <<\",\" << in[i].second <<\") \";\n  }\n  cout << endl;\n  cout << l <<\" \"<< pos <<\" \" << r << \" \"<< tmp << endl;\n  */\n  if (tmp < 4)return n;\n  n -= tmp;\n\n  while(true){\n    if (l < 0 || r == in.size())break;\n    if (in[l].first != in[r].first)break;\n    if (in[l].second + in[r].second < 4)break;\n    n -= in[l].second+in[r].second;\n    l--;r++;\n  }\n  return n;\n}\n\nmain(){\n  int n;\n  while(cin>>n &&n){\n    int prev = -1,cnt=0;\n    vector<pair<int,int> > a;\n    rep(i,n){\n      int tmp;\n      cin>>tmp;\n      if (tmp != prev){\n\tif (prev != -1){\n\t  a.push_back(make_pair(prev,cnt));\n\t}\n\tprev = tmp;\n\tcnt = 1;\n      }else cnt++;\n    }\n    a.push_back(make_pair(prev,cnt));\n    //rep(i,a.size())cout <<\"(\" << a[i].first <<\",\" << a[i].second <<\") \";cout << endl;\n    int mini = n;\n    rep(i,(int)a.size()){\n      if (i-1 >= 0){\n\ta[i].second--;a[i-1].second++;\n\tmini=min(mini,solve(n,i-1,a));\n\ta[i].second++;a[i-1].second--;\n      }\n      if (i+1 < a.size()){\n\ta[i].second--;a[i+1].second++;\n\tmini=min(mini,solve(n,i+1,a));\n\ta[i].second++;a[i+1].second--;\n      }\n    }\n    cout << mini << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \ntypedef vector<int> vi;\n \nint n;\n \nint f(vi a, int n, int idx)\n{\n\tvi kesu;\n \n\tfor (int i = idx + 1; i < n; ++i) {\n\t\tif (a[i] != a[idx]) break;\n\t\tkesu.push_back(i);\n\t}\n\tfor (int i = idx - 1; i >= 0; --i) {\n\t\tif (a[i] != a[idx]) break;\n\t\tkesu.push_back(i);\n\t}\n \n\tif (kesu.size() < 3) return n;\n \n\twhile (!kesu.empty()) {\n\t\ta[kesu.back()] = 0;\n\t\tkesu.pop_back();\n\t}\n\ta[idx] = 0;\n \n\tvi b;\n \n\tint nextidx = -1;\n \n\tfor (int i = 0; i < n; ++i) {\n\t\tif (a[i]) {\n\t\t\tb.push_back(a[i]);\n\t\t\tif (nextidx == -1 && i >= 1 && a[i - 1] == 0) {\n\t\t\t\tnextidx = b.size() - 1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (nextidx == -1) {\n\t\t\t\tif (!b.empty()) {\n\t\t\t\t\tnextidx = i - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n \n   return f(b, b.size(), nextidx); \n}\n \nint calc(vi a, int n, int idx)\n{\n\tvi b = a;\n\tif (idx >= 3 && a[idx - 1] == a[idx - 2] && a[idx - 2] == a[idx - 3]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx <= n - 4 && a[idx + 1] == a[idx + 2] && a[idx + 2] == a[idx + 3]) {\n\t\tb[idx] = b[idx + 1];\n\t} else if (idx >= 2 && idx <= n - 2 && a[idx - 1] == a[idx - 2] && a[idx - 1] == a[idx + 1]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx >= 1 && idx <= n - 3 && a[idx - 1] == a[idx + 1] && a[idx - 1] == a[idx + 2]) {\n\t\tb[idx] = b[idx - 1];\n\t} else {\n\t\treturn n;\n\t}\n \n\treturn f(b, b.size(), idx);\n}\n \nint main()\n{\n\twhile (scanf(\"%d\", &n), n) {\n\t\tvi arr;\n \n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tint a; scanf(\"%d\", &a);\n\t\t\tarr.push_back(a);\n\t\t}\n \n\t\tint mi = 10001;\n \n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tmi = min(mi, calc(arr, arr.size(), i));\n\t\t}\n \n\t\tprintf(\"%d\\n\", mi);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<int> color(n);\n        for(int i=0; i<n; ++i)\n            cin >> color[i];\n\n        int ret = n;\n        for(int i=0; i<n; ++i){\n            int j = i-1;\n            int k = i+1;\n            while(j > 0 && k < n){\n                if(color[j] != color[k])\n                    break;\n                int j1 = j;\n                while(j1 >= 0 && color[j1] == color[j])\n                    -- j1;\n                int k1 = k;\n                while(k1 < n && color[k1] == color[k])\n                    ++ k1;\n                int num = j - j1 + k1 - k;\n                if(k - j == 2)\n                    ++ num;\n                if(num < 4)\n                    break;\n                j = j1;\n                k = k1;\n                ret = min(ret, j+1 + n-k);\n            }\n        }\n\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f){\n    f = 0;\n    int n = tmp[0], c = 0;\n    rep(i, N){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    \n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nmain(){\nwhile(true){\nint x[11000],n,i,j,k,l,m,y[11000],b,c,d,p[11000],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}\nc=0;d=0;m=n;d=m;\nminx=99999;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1&&y[i-1]!=j&&y[i+1]!=j){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=std::min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\",minx);}\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\n#include <map>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\nbool operator < (Pair a, Pair b) { return a.size != b.size ? a.size < b.size : a.color < b.color; }\n\nmap<vector<Pair>, vector<Pair> > memo;\n\nvector<Pair> compless(const vector<Pair>& v)\n{\n\tif(memo[v].size() != 0) return memo[v];\n\t// 関数を実行するたびに宣言するとメモリが足りなくなるので静的に用意する\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn memo[v] = res;\n}\n\nvector<Pair> compless(const vector<int>& v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(const vector<Pair> &v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\t\t\t\tif(!((i > 0 && chain[i-1] == color) ||\n\t\t\t\t\t\t (i + 1 < N && chain[i+1] == color))) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\n\nint main(){\n\tint n = 0;\n\tint color[][2] = {{0, 0}, {2, 3}, {1, 3}, {1, 2}};\n\twhile(cin >> n && n != 0){\n\t\tvector<int> line;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint tmp = 0;\n\t\t\tcin >> tmp;\n\t\t\tline.push_back(tmp);\n\t\t}\n\n\t\tint minch = 1000000;\n\t\tfor(int i = 0; i < n; i++){ \n\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\tvector<int> copyline = line;\n\t\t\t\tif(i == 0){\n\t\t\t\t\tif(color[line[i]][j] != line[i+1]) continue;\n\t\t\t\t}\n\t\t\t\telse if(i == n-1){\n\t\t\t\t\tif(color[line[i]][j] != line[i-1]) continue;\n\t\t\t\t}\n\t\t\t\telse if(color[line[i]][j] != line[i+1] && color[line[i]][j] != line[i-1]) continue;\n\t\t\t\tcopyline[i] = color[line[i]][j];\n\t\t\t\tint count = 1;\n\t\t\t\tfor(int k = 0; k < n-1; k++){\n\t\t\t\t\tif(!copyline[k]) continue;\n\t\t\t\t\tint progress = 1;\n\t\t\t\t\twhile(!copyline[k+progress] && k+progress<copyline.size()) progress++;\n\t\t\t\t\tif(copyline[k] != copyline[k+progress]){\n\t\t\t\t\t\tif(count >= 4){\n\t\t\t\t\t\t\tint target = copyline[k];\n\t\t\t\t\t\t\tfor(int l = k; copyline[l] == 0 || copyline[l] == target; l--){\n\t\t\t\t\t\t\t\tcopyline[l] = 0;\n\t\t\t\t\t\t\t\tif(!l) break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tk = -1;\n\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse count = 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tint chnum = 0;\n\t\t\t\tfor(int k = 0; k < n; k++){\n\t\t\t\t\tif(copyline[k]) chnum++;\n\t\t\t\t}\n\n\t\t\t\tminch = minch > chnum ? chnum : minch;\n\t\t\t}\n\t\t}\n\n\t\tcout << minch << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n#include <string>\n#include <functional>\n#include <math.h>\n#include <utility>\n#define INF 100000000\nusing namespace std;\ntypedef pair<int,int> P;\nint N,ans;\nvector<int> vec,vec2,tmp;\nvoid deal(int t){\n\tint fir=0;\n\tint color=0;\n\tbool update=true;\n\twhile(update){\n\t\tupdate=false;\n\t\tfir=max(t-4,0);\n\t\tfor(int i=max(t-4,0);i<min(t+5,(int)tmp.size());i++){\n\t\t\tif(tmp[i]==color)continue;\n\t\t\tint count=i-fir;\n\t\t\tif(i-fir>=4){\t\t\n\t\t\t\twhile(count--)tmp.erase(fir+tmp.begin());\n\t\t\t\tt=fir;\n\t\t\t\tupdate=true;\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\tfir=i;color=tmp[i];\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\twhile(cin>>N&&N){\n\t\tvec.clear();vec2.clear();ans=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint tmp;cin>>tmp;\n\t\t\tvec.push_back(tmp);\n\t\t}\n\t\tfor(int i=1;i<(int)vec.size()-1;i++){\n\t\t\tif(vec[i-1]==vec[i+1]&&vec[i-1]!=vec[i])vec2.push_back(i);\n\t\t}\n\t\tif(vec2.empty()){cout<<ans<<endl;continue;}\n\t\tfor(int i=0;i<(int)vec2.size();i++){\n\t\t\ttmp=vec;\n\t\t\tint t=vec2[i];\n\t\t\ttmp[t]=tmp[t-1];\n\t\t\tdeal(t);\n\t\t\tans=min(ans,(int)tmp.size());\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint chain(int idx,int col);\nvector<int>model;\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = INF;\n      model.clear();\n      for(int i = 0;i < n;i++){\n         int col; scanf(\"%d\",&col);\n         model.push_back(col);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return INF;\n   vector<int> c;\n   for(int i = 0;i < n;i++){\n      if(i == idx) c.push_back(col);\n      else c.push_back(model[i]);\n   }\n\n   int flag = 1;\n   while(flag){\n      int cnt = 1,curr = c[0];\n      for(int i = 1;i < c.size();i++){\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 0;\n               for(int j = 0;j < cnt;j++){\n                  vector<int>::iterator it = c.erase(c.begin()+i-cnt);\n               }\n            }\n            cnt = 1;\n         }\n      }\n      flag = 1-flag;\n   }\n   return c.size();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<list>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\nconst int N = 10000;\n\n/*\n  pos ã¯4åé£ç¶ã«ãªã£ãä½ç½®\n */\nint solve(int n,int pos,vector<pair<int,int> > in){\n  int l = pos,r = pos;\n  int tmp = -in[pos].second;//ï¼åãããã\n  while(0 <= l && (in[l].second == 0 || in[l].first == in[pos].first))tmp += in[l].second,l--;\n  while(r < (int)in.size() && (in[r].second == 0 || in[r].first == in[pos].first) )tmp += in[r].second,r++;\n  if (tmp < 4)return n;\n  n -= tmp;\n\n  while(true){\n    if (l < 0 || r == in.size())break;\n    if (in[l].first != in[r].first)break;\n    if (in[l].second + in[r].second < 4)break;\n    n = n -(in[l].second+in[r].second);\n    l--;r++;\n  }\n  return n;\n}\n\nmain(){\n  int n;\n  while(cin>>n &&n){\n    int prev = -1,cnt=0;\n    vector<pair<int,int> > a;\n    rep(i,n){\n      int tmp;\n      cin>>tmp;\n      if (tmp != prev){\n\tif (prev != -1){\n\t  a.push_back(make_pair(prev,cnt));\n\t}\n\tprev = tmp;\n\tcnt = 1;\n      }else cnt++;\n    }\n    a.push_back(make_pair(prev,cnt));\n    //rep(i,a.size())cout <<\"(\" << a[i].first <<\",\" << a[i].second <<\") \";cout << endl;\n    int mini = n;\n    rep(i,(int)a.size()){\n      if (i-1 >= 0){\n\ta[i].second--;a[i-1].second++;\n\tmini=min(mini,solve(n,i-1,a));\n\ta[i].second++;a[i-1].second--;\n      }\n      if (i+1 < a.size()){\n\ta[i].second--;a[i+1].second++;\n\tmini=min(mini,solve(n,i+1,a));\n\ta[i].second++;a[i+1].second--;\n      }\n    }\n    cout << mini << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n#include <string>\n#include <functional>\n#include <math.h>\n#include <utility>\n#define INF 100000000\nusing namespace std;\ntypedef pair<int,int> P;\nint N,ans;\nvector<int> vec,vec2,tmp;\nvoid deal(int t){\n\tint fir=0;\n\tint las=0;\n\tint color=0;\n\tbool update=true;\n\twhile(update){\n\t\tupdate=false;\n\t\tfor(int i=max(t-4,0);i<(int)tmp.size();i++){\n\t\t\tif(tmp[i]==color)continue;\n\t\t\tint count=i-fir;\n\t\t\tif(i-fir>=4){\t\t\n\t\t\t\twhile(count--)tmp.erase(fir+tmp.begin());\n\t\t\t\tt=fir;\n\t\t\t\tupdate=true;\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\tfir=i;color=tmp[i];\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\twhile(cin>>N&&N){\n\t\tvec.clear();vec2.clear();ans=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint tmp;cin>>tmp;\n\t\t\tvec.push_back(tmp);\n\t\t}\n\t\tfor(int i=1;i<(int)vec.size()-1;i++){\n\t\t\tif(vec[i-1]==vec[i+1]&&vec[i-1]!=vec[i])vec2.push_back(i);\n\t\t}\n\t\tif(vec2.empty()){cout<<ans<<endl;continue;}\n\t\tfor(int i=0;i<(int)vec2.size();i++){\n\t\t\ttmp=vec;\n\t\t\tint t=vec2[i];\n\t\t\ttmp[t]=tmp[t-1];\n\t\t\tdeal(t);\n\t\t\tans=min(ans,(int)tmp.size());\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n\nvector<int>v;\n\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tv.clear();\n\t\tv.push_back(10);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tv.push_back(a);\n\t\t}\n\t\tv.push_back(10);\n\n\t\tint ans = n;\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tint sk = i, ek = i;//erased kukan\n\t\t\tint lp = 0;\n\t\t\twhile (1) {\n\t\t\t\tint l = 0, r = 0;\n\t\t\t\tfor (int j = ek+1; j < v.size(); j++) {\n\t\t\t\t\tif (v[j] != v[ek+1])break;\n\t\t\t\t\tr++;\n\t\t\t\t}\n\t\t\t\tfor (int j = sk - 1; j > -1; j--) {\n\t\t\t\t\tif (v[j] != v[sk-1])break;\n\t\t\t\t\tl++;\n\t\t\t\t}\n\t\t\t\tint cs = 4;\n\t\t\t\tif (!lp)cs--;\n\n\t\t\t\tif (l != 0 && r != 0) {\n\t\t\t\t\tif (v[ek + 1] != v[sk - 1])break;\n\t\t\t\t}\n\n\t\t\t\tif (l + r >= cs) {\n\t\t\t\t\tsk -= l;\n\t\t\t\t\tek += r;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t\tlp++;\n\t\t\t}\n\t\tif(lp)ans = min(ans, n -( ek - sk+1));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(int (i)=0;(i)<(n);(i)++)\n#define pp pair<int,int>\n#define ll long long\n#define ld long double\nint inf=100000000;\nll INF=5000000000000000000;\nll MOD=1000000007;\n\n\nint main() {\n    while (true){\n    int n;\n    cin >> n;\n    if (n==0) return 0;\n    pp v;\n    vector<pp> a(0);\n    int u;\n    cin >> u;\n    v.first=u;\n    v.second=1;\n    a.push_back(v);\n    for (int i=1;i<n;i++){\n        cin >> u;\n        if (u==a.at(a.size()-1).first) a.at(a.size()-1).second++;\n        else {\n            v.first=u;v.second=1;\n            a.push_back(v);\n        }\n    }\n    int ans=0;\n    rep(i,a.size()){\n        \n        if (a.at(i).second==1){\n            int an=0;\n            int l=1;\n            while (true){\n                if (i-l==-1 || i+l==a.size()) break;\n                if (l==1 && a.at(i-l).first==a.at(i+l).first && a.at(i-l).second+a.at(i+l).second+1>=4) an+=1+a.at(i-l).second+a.at(i+l).second;\n                else if (a.at(i-l).first==a.at(i+l).first && a.at(i-l).second+a.at(i+l).second>=4) an+=a.at(i-l).second+a.at(i+l).second;\n                else break;\n                l++;\n            }\n            ans=max(ans,an);\n            an=0;\n            l=1;\n            while (true){\n                if (i-l+1==-1 || i+l==a.size()) break;\n                if (a.at(i-l+1).first==a.at(i+l).first && a.at(i-l+1).second+a.at(i+l).second>=4) an+=a.at(i-l+1).second+a.at(i+l).second;\n                else if (l==1 && a.at(i-l+1).second+a.at(i+l).second>=4) an+a.at(i-l+1).second+a.at(i+l).second;\n                else break;\n                l++;\n            }\n            ans=max(ans,an);\n            an=0;\n            l=1;\n            while (true){\n                if (i-l==-1 || i+l-1==a.size()) break;\n                if (a.at(i-l).first==a.at(i+l-1).first && a.at(i-l).second+a.at(i+l-1).second>=4) an+=a.at(i-l).second+a.at(i+l-1).second;\n                else if (l==1 && a.at(i-l).second+a.at(i+l-1).second>=4) an+a.at(i-l).second+a.at(i+l-1).second;\n                else break;\n                l++;\n            }\n            ans=max(ans,an);\n        }\n        else {\n            int an=0;\n            int l=1;\n            while (true){\n                if (i-l+2==-1 || i+l==a.size()) break;\n                if (l!=2 && l!=1 && a.at(i-l+2).first==a.at(i+l).first && a.at(i-l+2).second+a.at(i+l).second>=4) an+=a.at(i-l+2).second+a.at(i+l).second;\n                else if (l==1 && 1+a.at(i+l).second>=4) an+=4;\n                else if (l==2 && a.at(i).second-1+a.at(i+l).second>=4) an+=a.at(i).second-1+a.at(i+l).second;\n                else break;\n                l++;\n            }\n            ans=max(ans,an);\n            an=0;\n            l=1;\n            while (true){\n                if (i-l==-1 || i+l-2==a.size()) break;\n                if (l!=2 && l!=1 && a.at(i-l).first==a.at(i+l-2).first && a.at(i-l).second+a.at(i+l-2).second>=4) an+=a.at(i-l).second+a.at(i+l-2).second;\n                else if (l==1 && 1+a.at(i-l).second>=4) an+=4;\n                else if (l==2 && a.at(i).second-1+a.at(i-l).second>=4) an+=a.at(i).second-1+a.at(i-l).second;\n                else break;\n                l++;\n            }\n            ans=max(ans,an);\n        }\n    }\n    cout << n-ans << endl;\n}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\nusing namespace std;\nint main()\n{\n\t\n\tint N,cnt = 0,totalIN = 0,in[2],max = 0;\n\tpair<int,int> IN[10000],now;\n\tbool change;\n\n\tscanf(\"%d\",&N);\n\tfor(int i = 0; i < N; i++){\n\t\tscanf(\"%d\",&in[i%2]);\n\t\tif(i == 0 || in[i%2] == in[(i+1)%2]){\n\t\t\tcnt++;\n\t\t}\n\t\telse{\n\t\t\tIN[totalIN].first = in[(i+1)%2];\n\t\t\tIN[totalIN].second = cnt;\n\t\t\ttotalIN++;\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif(cnt != 0){\n\t\tIN[totalIN].first = in[(N+1)%2];\n\t\tIN[totalIN].second = cnt;\n\t}\n\telse{\n\t\ttotalIN--;\n\t}\n\n\tfor(int i = 0; i < totalIN; i++){\n\t\tcnt = IN[i].second + 1;\n\t\tif(IN[i+1].second == 1){\n\t\t\tif((i+1) != totalIN){\n\t\t\t\tif(IN[i].first == IN[i+2].first){\n\t\t\t\t\tcnt += IN[i+2].second;\n\t\t\t\t\tnow.first = i-1;\n\t\t\t\t\tnow.second = i+3;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tnow.first = i-1;\n\t\t\t\t\tnow.second = i+2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnow.first = i-1;\n\t\t\t\tnow.second = i+1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tnow.first = i-1;\n\t\t\tnow.second = i+1;\n\t\t}\n\t\tIN[i+1].second--;\n\n\t\tif(cnt >= 4){\n\t\t\twhile(now.first >= 0 && now.second <= totalIN){\n\t\t\t\tif(IN[now.first].first == IN[now.second].first){\n\t\t\t\t\tif((IN[now.first].second + IN[now.second].second) >= 4){\n\t\t\t\t\t\tcnt += (IN[now.first].second + IN[now.second].second);\n\t\t\t\t\t\tnow.first--;\n\t\t\t\t\t\tnow.second++;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(max < cnt){\n\t\t\t\tmax = cnt;\n\t\t\t}\n\t\t}\n\n\t\tIN[i+1].second++;\n\t}\n\n\tprintf(\"%d\\n\",N-max);\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\nint rensa(string str){\n  if(!(str.find(\"1111\")!=string::npos ||str.find(\"2222\")!=string::npos ||\n       str.find(\"3333\")!=string::npos))return str.size();\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2] \n       && str[i+2] == str[i+3]){\n      int r = i+3;\n      while(str[i] == str[r] && r < str.size())r++;\n      str = str.substr(0,i) + str.substr(r,str.size()-r);\n      i = 0;\n    }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n\n  while( cin >> n,n){\n  string cha = \"\";\n  for(int i = 0 ; i < n ; i++ ){\n    cin >> ch;\n    cha+=ch;  \n  }\n  int ret = cha.size();\n  for(int i = 0 ; i < cha.size() ; i++ ){\n  string tmp = cha;\n  if(0 <= i && i < cha.size()-1){\n    tmp[i] = cha[i+1];\n    ret =  min(ret,rensa(tmp));\n  }\n  tmp = cha;\n  if(1<= i && i < cha.size()){\n    tmp[i] = cha[i-1];\n    ret =  min(ret,rensa(tmp));\n  }\n  }\n  cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<29;\n\nint main() {\n  int n;\n  while(cin>>n,n) {\n    int a[n];\n    REP(i,n)\n      cin>>a[i];\n    int res = 0;\n    \n    for (int i=1; i<n; ++i)\n      if (a[i] != a[0]) {\n        if (i+1 >= 4)\n          res = i+1;\n        break;\n      }\n    for (int i=n-2; i>=0; --i)\n      if (a[i] != a[n-1]) {\n        if (n-i >= 4)\n          res = max(res,n-i);\n        break;\n      }\n//    cout << \" \" << res << endl;\n    for (int i=1; i<n-1; ++i) {\n      int dn = 0;\n      int hazime = 1;\n      for (int j=i-1, k=i+1;j>=0 && k<n; ) {\n        if (a[j] != a[k]) break;\n        //         printf(\"%d,%d\\n\",j,k);\n        int c = a[j];\n        int ue = 0, shita = 0;\n        while (j >= 0 && c == a[j]) {\n          ++ue;\n          --j;\n        }\n        while (k < n  && c == a[k]) {\n          ++shita;\n          ++k;\n        }\n        //printf(\"ue=%d,shita=%d\\n\",ue,shita);\n        if (ue + shita >= 4-hazime) dn += ue+shita + hazime;\n        else break;\n        hazime = 0;\n      }\n      res = max(res, dn);\n    }\n    cout << n-res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n#define col first\n#define cn second\n\ntypedef pair<int, int> PR;\n\npair<int, int> puyo[10000+10] , tmp;\n\nint sum;\n\n\nint chek(int , /*PR[10000 + 10],*/ int ,int,int);\n\n\nint main()\n{\n\tint n;\n\tint pn=0;\n\n\tint a;\n\n\tint i;\n\n\tint sa=0;\n\n\twhile (cin >> n, n != 0)\n\t{\n\t\tsa = 0;\n\t\tsum = n;\n\t\tpn = 0;\n\n\t\tcin >> a;\n\t\tpuyo[pn].col = a;\n\t\tpuyo[pn].cn = 1;\n\n\n\t\tfor (i = 1; i < n; i++)\n\t\t{\n\t\t\tcin >> a;\n\n\t\t\tif (puyo[pn].col == a)\n\t\t\t{\n\t\t\t\tpuyo[pn].cn++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpn++;\n\t\t\t\tpuyo[pn].col = a;\n\t\t\t\tpuyo[pn].cn = 1;\n\t\t\t}\n\t\t}\n\n\t\tpn++;\n\n\t\tfor (i = 1; i < pn - 1; i++)\n\t\t{\n\n\t\t\tif (puyo[i].cn == 3)\n\t\t\t{\n\t\t\t\tif (puyo[i + 1].col == puyo[i - 1].col && puyo[i + 1].cn + puyo[i - 1].cn >= 5)\n\t\t\t\t{\n\t\t\t\t\t//tmp = puyo[i + 1];\n\t\t\t\t\t//puyo[i + 1].cn--;\n\n\t\t\t\t\tsa = 3 + puyo[i + 1].cn + puyo[i - 1].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 2, i + 2, sa));\n\t\t\t\t\t//puyo[i + 1] = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( puyo[i+1].cn==1 && puyo[i].col == puyo[i+2].col )\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i + 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i + 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i + 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 1, i + 3, sa));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n/*\n\t\t\tif (puyo[i - 1].cn == 1 && puyo[i].col == puyo[i - 2].col)\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i - 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i - 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i - 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 3, i + 1, sa));\n\t\t\t\t}\n\t\t\t}\n*/\n\t\t\t\n\t\t}\n\t\t\n\t\tcout << sum << endl;\n\t}\n\treturn 0;\n}\n\n\nint chek(int pn/*, PR tp[10000 + 10]*/, int go, int ba , int sa)\n{\n\tif (puyo[go].col == puyo[ba].col && puyo[go].cn + puyo[ba].cn >= 4)\n\t{\n\t\tsa += puyo[go].cn + puyo[ba].cn;\n\n\t\tif (go - 1 >= 0 && ba + 1 < pn)\n\t\t{\n\t\t\treturn chek(pn, go - 1, ba + 1, sa);\n\t\t}\n\n\t}\n\n\treturn sa;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std; \n\t\n\n\tint solve(vector<int>chars,int a,int b){//a番目のキャラをb色に変えたときのシュミレーション\n\t\tchars[a]=b;\n\t\t\n\t\twhile(true){\n\t\tbool flag=false;\n\t\tfor(int i=0;i<chars.size()-3;i++){\n\t\t\tif(chars[i]==chars[i+1]&&chars[i+1]==chars[i+2]&&chars[i+2]==chars[i+3]){\n\t\t\t\tint j=i;\n\t\t\t\t\twhile(chars[j]==chars[i]){\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int k=i;k<j;k++){\n\t\t\t\tchars.erase(chars.begin()+i);\n\t\t\t\t}\n\t\t\t\tflag=true;\n\t\t\t}\n\t\t\n\t\t}\n\t\t\t\tif(!flag)break;\n\t\n\t\n\t\t}\n\t\treturn chars.size();\n\t}\nint main(){\n\tint N,m;\n\tint ans=150000;\n\twhile(cin>>N,N){\n\tvector<int>chars;\n\tfor(int i=0;i<N;i++)cin>>m,chars.push_back(m);\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tans=min(solve(chars,i,j),ans);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t\tchars.clear();\n\t\t ans=15000;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<math.h>\nusing namespace std;\nint main() {\n\tint n, ball[10001];\n\twhile (cin >> n, n) {\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tcin >> ball[i];\n\t\t}\n\t\tint ans = n;\n\t\tfor (int i = 1; i < n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\tint on = i - 1, un = i + 1, del = 1, clr = j, dsum = 0;\n\t\t\t\twhile (1) {\n\t\t\t\t\twhile (on >= 0 && ball[on] == clr) {\n\t\t\t\t\t\ton--;\n\t\t\t\t\t\tdel++;\n\t\t\t\t\t}\n\t\t\t\t\twhile (un < n&&ball[un] == clr) {\n\t\t\t\t\t\tun++;\n\t\t\t\t\t\tdel++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (del < 4)break;\n\t\t\t\t\tif (del >= 4) {\n\t\t\t\t\t\tdsum += del;\n\t\t\t\t\t\tclr = ball[on];\n\t\t\t\t\t\tdel = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\t\t\t\t\tif (on < 0 || un >= n) break;\n\t\t\t\t\tif (n - dsum < 4)break;\n\t\t\t\t}\n\t\t\t\tans = min(ans, n - dsum);\n\t\t\t}\n\t\t}\n\t\t\tcout << ans << endl;\n\t}\n\t\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<vector>\n#include<list>\n#include<algorithm>\n#include<iostream>\n#include<string>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\nusing namespace std;  \nint f(int a[],int b[],int j,int k,int l,int mn){\n  int sm;\n  while(k!=0&&l!=j){\n    if(a[k]==a[l]&&b[k]+b[l]>3){\n      k--;\n      l++;\n    }else\n      break;\n  }\n  sm=0;\n  for(;k>0;k--)\n    sm+=b[k];\n  for(;l<j;l++)\n    sm+=b[l];\n  if(mn==-1||mn>sm)\n    mn=sm;\n  return mn;\n}\nint main(){\n  int i,j,k,l;\n  int a[10002],b[10002],n;\n  int mn;\n  a[0]=b[0]=0;\n  while(cin>>n&&n){\n    j=1;\n    for(i=0;i<n;i++){\n      cin>>a[j];\n      if(a[j-1]==a[j])\n\tb[j-1]++;\n      else{\n\tb[j]=1;\n\tj++;\n      }\n    }\n    a[j]=b[j]=0;\n    mn=-1;\n    for(i=2;i<j;i++){\n      if(i+1<j&&b[i]==1&&a[i-1]==a[i+1]&&b[i-1]+b[i]+b[i+1]==4)\n\tmn=f(a,b,j,i-2,i+2,mn);\n      if(b[i-1]>2){\n\tif(b[i]!=1)\n\t  l=i;\n\telse{\n\t  if(a[i-1]==a[i+1])\n\t    l=i+2;\n\t  else\n\t    l=i+1;\n\t}\n\tmn=f(a,b,j,i-2,l,mn);\n      }\n      if(b[i]>2){\n\tif(b[i-1]!=1)\n\t  k=i-1;\n\telse{\n\t  if(a[i-2]==a[i])\n\t    k=i-3;\n\t  else\n\t    k=i-2;\n\t}\n\tmn=f(a,b,j,k,i+1,mn);\n      }\t\n    }\n    if(mn==-1)\n      cout<<n<<endl;\n    else\n      cout<<mn<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n  for(int i=0,j=0;j<a.size();){\n    if(a[j]==a[j+1])j++;\n    else {\n      if(j-i>2){\n\ta.erase(a.begin()+i,a.begin()+j+1);\n\ti=j=0;\n      }\n      else j++,i=j;\n    }\n  }\n  return a.size();\n}\n\nint main(void){\n  int n,m;\n  vector<int>a;\n\n  while(cin >> n,n){\n    a.clear();\n    for(int i=0;i<n;i++){\n      cin >> m;\n      a.push_back(m);\n    }\n\n    int ans=100000000;\n    for(int i=0;i<a.size();i++){\n      int temp=a[i];\n      for(int j=1;j<4;j++){\n\tif(temp!=j){\n\t  a[i]=j;\n\t  ans=min(ans,Erase(a));\n\t}\n      }\n      a[i]=temp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <map>\n#include <list>\n#include <set>\n#include <numeric>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <cstring>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <complex>\n#include <cassert>\n#include <iomanip>\n#include <tuple>\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> P;\n\nvoid exec() {\n\tvector<int> col;\n\tvector<int> num;\n\tcol.push_back(-1);\n\tnum.push_back(0);\n\tint n;\n\tcin >> n;\n\tif(n==0)exit(0);\n\tfor(int i=0;i<n;i++){\n\t\tint v;\n\t\tcin >> v;\n\t\tif(col.back()==v){\n\t\t\tnum.back()++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcol.push_back(v);\n\t\t\tnum.push_back(1);\n\t\t}\n\t}\n\tcol.push_back(-2);\n\tnum.push_back(0);\n\tint ret=0;\n\tfor(int i=1;i<col.size()-1;i++){\n\t\tif(num[i]==1){\n\t\t\tfor(int k=1;k<=3;k++){\n\t\t\t\tint i0=i-1,i1=i+1;\n\t\t\t\tint m=1;\n\t\t\t\tif(col[i-1]==k){\n\t\t\t\t\tm+=num[i-1];\n\t\t\t\t\ti0=i-2;\n\t\t\t\t}\n\t\t\t\tif(col[i+1]==k){\n\t\t\t\t\tm+=num[i+1];\n\t\t\t\t\ti1=i+2;\n\t\t\t\t}\n\t\t\t\tif(m>=4){\n\t\t\t\t\twhile(col[i0]==col[i1]){\n\t\t\t\t\t\tint s=num[i0]+num[i1];\n\t\t\t\t\t\tif(s<4)break;\n\t\t\t\t\t\tm+=s;\n\t\t\t\t\t\ti0--;\n\t\t\t\t\t\ti1++;\n\t\t\t\t\t}\n\t\t\t\t\tret=max(ret,m);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(num[i-1]==3)\n\t\t\t{\n\t\t\t\tint m=4;\n\t\t\t\tif(col[i-2]==col[i]&&num[i-2]+num[i]-1>=4){\n\t\t\t\t\tm+=num[i-2]+num[i]-1;\n\t\t\t\t\tint i0=i-3;\n\t\t\t\t\tint i1=i+1;\n\t\t\t\t\twhile(col[i0]==col[i1]){\n\t\t\t\t\t\tint s=num[i0]+num[i1];\n\t\t\t\t\t\tif(s<4)break;\n\t\t\t\t\t\tm+=s;\n\t\t\t\t\t\ti0--;\n\t\t\t\t\t\ti1++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tret=max(ret,m);\n\t\t\t}\n\t\t\tif(num[i+1]==3){\n\t\t\t\tint m=4;\n\t\t\t\tif(col[i]==col[i+2]&&num[i]-1+num[i+2]>=4){\n\t\t\t\t\tm+=num[i]-1+num[i+2];\n\t\t\t\t\tint i0=i-1;\n\t\t\t\t\tint i1=i+3;\n\t\t\t\t\twhile(col[i0]==col[i1]){\n\t\t\t\t\t\tint s=num[i0]+num[i1];\n\t\t\t\t\t\tif(s<4)break;\n\t\t\t\t\t\tm+=s;\n\t\t\t\t\t\ti0--;\n\t\t\t\t\t\ti1++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tret=max(ret,m);\n\t\t\t}\n\t\t}\n\t}\n\tcout << n-ret << endl;\n}\nint main(){\n\twhile(1)exec();\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(vector<Pair> v)\n{\n\t// 関数を実行するたびに宣言するとメモリが足りなくなるので静的に用意する\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(vector<int> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(vector<Pair> v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\nint rensa(string str){\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2] \n       && str[i+2] == str[i+3]){\n      int r = i+3;\n      while(str[i] == str[r] && r < str.size())r++;\n      str = str.substr(0,i) + str.substr(r,str.size()-r);\n      i = 0;\n    }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n\n  while( cin >> n,n){\n  string cha = \"\";\n  for(int i = 0 ; i < n ; i++ ){\n    cin >> ch;\n    cha+=ch;  \n  }\n  int ret = cha.size();\n  for(int i = 0 ; i < cha.size()-1 ; i++ ){\n  string tmp = cha;\n  tmp[i] = cha[i+1];\n  ret =  min(ret,rensa(tmp));\n  }\n  for(int i = 1 ; i < cha.size() ; i++ ){\n  string tmp = cha;\n  tmp[i] = cha[i-1];\n  ret =  min(ret,rensa(tmp));\n  }\n  cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4){\n      tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n    }\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.resize(N);\n    rep(i, N){\n      scanf(\"%d\", &chara[i]);\n      //      chara.PB(c);\n    }\n\n    tmp.resize(N);\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a) for(int i=0;i<a;i++)\n#define inf 612695281\n\nint hoge =0;\nint chain[10002][2];\nint n;\n\n\nint solve(int where,int h){\n\tint copy=chain[where][0];\n\tchain[where][0]--;\n\tint re=0;\n\tint b=where;\n\tint a=where;\n\t//cout<<a<<b;\n\tif(h==0 and b==0){chain[where][0]=copy;/*cout<<\"W\"<<endl;*/return re;}\n\tif(h==1 and a==hoge-1){chain[where][0]=copy;/*cout<<\"E\"<<endl;*/return re;}\n\tif(h==0 and chain[b-1][0]<3){chain[where][0]=copy;/*cout<<\"T\"<<endl;*/return re;}\n\tif(h==1 and chain[a+1][0]<3){chain[where][0]=copy;/*cout<<\"U\"<<endl;*/return re;}\n\t\n\tif(0==0){\n\t\t//cout<<\"     \"<<b<<\"    \";\n\t\t//cout<<chain[b-1][1]<<chain[b+1][1];\n\t\tif(chain[b][0]!=0 or chain[b-1][1]!=chain[b+1][1]){\n\t\t\tif(h==0){re+=chain[b-1][0]+1;b=b-2;/*cout<<\"R\";*/}\n\t\t\telse{re+=chain[a+1][0]+1;a=a+2;/*cout<<\"K\";*/}\n\t\t}\n\t\telse if(h==0){re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"L\";*/}\n\t\telse{re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"P\";*/}\n\t}\n\twhile(1){\n\t\tif(b>0 and a<hoge-1){\n\t\t\tif(chain[a][1]==chain[b][1]){\n\t\t\t\tif(chain[b][0]+chain[a][0]>=4){\n\t\t\t\t\tre+=chain[b][0]+chain[a][0];\n\t\t\t\t\tb--;a++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\t/*cout<<\" \"<<re;*/\n\tchain[where][0]=copy;\n\treturn re;\n}\n\nint main(){\n\twhile(1){\n\tcin>>n;\n\tif(n==0){break;}\n\tFOR(i,10002){chain[i][0]=chain[i][1]=0;}\n\thoge=0;\n\tint last=0;\n\tint howlong=0;\n\tFOR(i,n){\n\t\tint u;\n\t\tcin>>u;\n\t\tif(u==last or last==0){howlong++;last=u;}\n\t\telse{\n\t\t\tchain[hoge][1]=last;\n\t\t\tlast=u;\n\t\t\tchain[hoge][0]=howlong;\n\t\t\thowlong=1;\n\t\t\thoge++;\n\t\t}\n\t}\n\tchain[hoge][1]=last;chain[hoge][0]=howlong;hoge++;\n\t//FOR(i,hoge){cout<<chain[i][0]<<chain[i][1]<<endl;}\n\tint ans=-inf;\n\tFOR(i,hoge){\n\t\tans=max(ans,solve(i,0));//cout<<endl;\n\t\tans=max(ans,solve(i,1));//cout<<endl;\n\t}\n\tcout<<n-ans<<endl;\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nint chr[10000],N;\nint solve(int n) {\n\tint count=1,check=chr[n];\n\tint i,j;\n\tfor(i=n-1;i>=0;i--)\n\t\tif(chr[i]!=check)break;else count++;\n\tfor(j=n+1;j<N;j++)\n\t\tif(chr[j]!=check)break;else count++;\n\tif(count>=4) {\n\t\tif(i==-1||j==N)return count;\n\t\tif(chr[i]!=chr[j])return count;\n\t\tint add;\n\t\twhile(i>=0&&j<N) {\n\t\t\tadd=0;\n\t\t\tcheck=chr[i];\n\t\t\tfor(i;i>=0;i--)\n\t\t\t\tif(chr[i]!=check)break;else add++;\n\t\t\tcheck=chr[j];\n\t\t\tfor(j;j<N;j++)\n\t\t\t\tif(chr[j]!=check)break;else add++;\n\t\t\tif(add>=4)count+=add;else break;\n\t\t}\n\t\treturn count;\n\t}else return 0;\n}\nint main() {\n\twhile(scanf(\"%d\",&N),N) {\n\t\tfor(int i=0;i<N;i++)\n\t\t\tscanf(\"%d\",&chr[i]);\n\t\tint res=0,ret,tmp;\n\t\tfor(int i=0;i<N;i++) {\n\t\t\ttmp=chr[i];\n\t\t\tfor(int j=1;j<=3;j++) {\n\t\t\t\tif(tmp==j)continue;\n\t\t\t\tchr[i]=j;\n\t\t\t\tret=solve(i);\n\t\t\t\tif(res<ret)res=ret;\n\t\t\t}\n\t\t\tchr[i]=tmp;\n\t\t}\n\t\tprintf(\"%d\\n\",N-res);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n\nusing namespace std;\n\nconst int MAX = 10001;\n\nint N, ans, num[MAX], data[MAX],cop[MAX];\n\nvoid Copy(int pos, int col){\n  \n  for(int i = 0; i < N; i++)\n    cop[i] = data[i];\n\n  cop[pos] = col;\n\n}\n\nvoid del(int pos, int number,int rev){\n  \n  for(int i = pos+1; i <= rev; i++)\n    cop[i-number] = cop[i];\n\n  for(int i = rev; i > rev-number; i--)\n    cop[i] = 0;\n}\n\nvoid play(){\n  while(1){\n    int rev = 0;\n    fill(num,num+MAX,1);\n    for(int i = 0; cop[i] != 0; i++,rev++)\n      if(i && cop[i] == cop[i-1]) num[i] = num[i-1]+1;\n      \n   \n    bool flg = true;\n\n    for(int i = rev-1; i >= 0; i--)\n      if(num[i] >= 4){\n\tdel(i,num[i],rev);\n\tflg = false;\n\tbreak;\n      }\n\n    if(flg){\n      ans = min(ans,rev);\n      break;\n    }\n  }\n}\n\nvoid solve(){\n  \n  for(int i = 0; i < N; i++)\n    for(int j = 1; j <= 3; j++)\n      if(data[i] != j){\n\tCopy(i,j);\n\tplay();\n      }\n}\n\nvoid init(){\n\n  fill(data,data+MAX,0);\n  fill(num,num+MAX,1);\n  fill(cop,cop+MAX,0);\n  ans = MAX;\n\n}\n\nint main(){\n  while(scanf(\"%d\",&N) && N){\n    init();\n    for(int i = 0; i < N; i++)\n      scanf(\"%d\",&data[i]);\n    solve();\n    printf(\"%d\\n\",ans);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint table[10000];\nint a;\nint solve(int b){\n\tint search=table[b];\n\tint left=b;\n\tint right=b+1;\n\tint ret=a;\n\twhile(1){\n\t\tsearch=table[left];\n\t\tint count=0;\n\t\twhile(table[left]==search&&left>=0){\n\t\t\tleft--;\n\t\t\tcount++;\n\t\t}\n\t\twhile(table[right]==search&&right<a){\n\t\t\tright++;\n\t\t\tcount++;\n\t\t}\n\t\tif(count<4)break;\n\t\telse ret-=count;\n\t}\n\treturn ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&a),a){\n\t\tint ret=99999999;\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",table+i);\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint moto=table[i];\n\t\t\ttable[i]=1;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=2;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=3;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=moto;\n\t\t}\n\t\tprintf(\"%d\\n\",ret);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF (1<<29)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define CLR(a) memset(a,0,sizeof(a))\nconst int dx[] = {-1,0,0,1},dy[] = {0,1,-1,0};\n\ntypedef long long int ll;\n\nusing namespace std;\n\nint main(){\n    while(true){\n\tint n;\n\tcin >> n;\n\tif(n==0)break;\n\tvector<int> v(n);\n\tstring s = \"\";\n\tREP(i,n){\n\t    cin >> v[i];\n\t}\n\tvector< pair<int,int> > pv;\n\tREP(i,n){\n\t    int tv = v[i];\n\t    int count = 0;\n\t    while(tv==v[i]){\n\t\tcount++;\n\t\ti++;\n\t    }\n\t    i--;\n\t    pv.PB( pair<int,int>(tv,count));\n\t}\n\tint ans = 100000000;\n\tREP(i,pv.size()) cout << pv[i].first << \" \" << pv[i].second<< endl;\n\tREP(i,pv.size()){\n\t    FOR(j,1,4){\n\t\tint ltemp = -1;\n\t\tint rtemp = 1;\n\t\tint color = j;\n\t\tint tans = 0;\n\t\twhile(true){\n\t\t    int sum = 1;\n\t\t    if(ltemp+i >= 0 && color == pv[i+ltemp].first){\n\t\t\tsum += pv[i+ltemp].second;\n\t\t    }\n\t\t    if(rtemp+i < pv.size() && color == pv[i+rtemp].first){\n\t\t\tsum += pv[i+rtemp].second;\n\t\t    }\n\t\t    if(sum <= 3){\n\t\t\tif(!(ltemp == -1 && rtemp == 1)) tans += pv[i].second;\n\t\t\ttans = n - tans;\n\t\t\tans = min(ans,tans);\n\t\t\tbreak;\n\t\t    }else{\n\t\t\tif(color == pv[i+ltemp].first) {\n\t\t\t    tans += pv[i+ltemp].second;\n\t\t\t    ltemp--;\n\t\t\t}\n\t\t\tif(color == pv[i+rtemp].first) {\n\t\t\t    tans += pv[i+rtemp].second;\n\t\t\t    rtemp++;\n\t\t\t}\n\t\t    }\n\t\t    if(i+ltemp>=0){\n\t\t\tcolor = pv[i+ltemp].first;\n\t\t    }else if(i+rtemp<pv.size()){\n\t\t\tcolor = pv[i+rtemp].first;\n\t\t    }\n\t\t}\n\t    }\n\t}\n\tcout << ans << endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cmath>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n    while(1){\n        int N;\n        int fie[10001];\n        int ans=100000;\n        cin>>N;\n        if(N==0)break;\n        for(int i=0;i<N;i++)cin>>fie[i];\n        for(int i=0;i<N;i++){\n            int memo=fie[i],l=i,r=i,cou=1;\n            for(int j=1;j<=3;j++){\n                fie[i]=j;\n                l=i,r=i,cou=1;\n                while(1){\n                    //printf(\"[%d][%d][%d][%d][%d]\\n\",i,j,l,r,cou);\n                    int fg=1;\n                    if(l!=0){\n                        if(fie[l]==fie[l-1]){\n                            l--;\n                            cou++;\n                            fg=0;\n                        }\n                    }\n                    if(r!=N-1){\n                        if(fie[r]==fie[r+1]){\n                            r++;\n                            cou++;\n                            fg=0;\n                        }\n                    }\n                    if(fg==1&&(cou<4))break;\n                    if(fg==1&&(l==0||r==N-1)){cou=0;break;}\n                    if(fg==1&&fie[l-1]!=fie[r+1]){cou=0;break;}\n                    if(fg==1){\n                        l--,r++;\n                        cou=2;\n                    }\n                }\n                //printf(\"[%d]\\n\",(l-0)+((N-1)-r)+cou);\n                ans=min(ans,(l-0)+((N-1)-r)+cou);\n                fie[i]=memo;\n            }\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#define min(a, b) ((a) < (b) ? (a) : (b))\nint n,c[10000];\nint no(int i,int color){\n    int ue=i-1,shita=i+1,x=1,y=n;\n    if (c[ue]==color) {\n        ue--;\n        x++;\n    }\n    if (c[shita]==color) {\n        shita++;\n        x++;\n    }\n    if (x==1) {\n        return n;\n    }\n    while (ue!=-1&&shita!=n) {\n        while (ue!=-1&&c[ue]==color) {\n            ue--;\n            x++;\n        }\n        while (shita!=n&&c[shita]==color) {\n            shita++;\n            x++;\n        }\n        if (x>=4) {\n            y-=x;\n            x=0;\n            if (c[ue]!=c[shita]) {\n                return y;\n            }\n            color=c[ue];\n        }else{\n            return y;\n        }\n    }\n    return y;\n}\n \nint main(){\n    while (1) {\n        int i,j,ans;\n        scanf(\"%d\",&n);\n        if (n==0) {\n            return 0;\n        }\n        ans=n;\n        for (i=0; i<n; i++) {\n            scanf(\"%d\",&c[i]);\n        }\n        for (i=0; i<n; i++) {\n            for (j=1; j<=3; j++) {\n                ans=min(ans, no(i,j));\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int, int> P;\nint N;\n\nint main() {\n  while (cin >> N) {\n    if (N == 0) break;\n    vector<P> v;\n    v.push_back(P(0, 1));\n\n    int lc = -1;\n    for (int i=0; i<N; i++) {\n      int c;\n      cin >> c;\n      if (c != lc) {\n        v.push_back(P(c, 0));\n        lc = c;\n      }\n      v[v.size()-1].second++;\n    }\n    v.push_back(P(0, 1));\n\n    int L = v.size();\n    int A = 0;\n    for (int i=1; i<L-1; i++) {\n      int c = v[i].first;\n      for (int nc=1; nc<=3; nc++) {\n        if (nc == c) continue;\n\n        int l = i, r = i, s = 1;\n        if (v[i].second == 1) {\n          if (v[l-1].first == nc) l--, s+=v[l].second;\n          if (v[r+1].first == nc) r++, s+=v[r].second;\n          if (s >= 4) {\n            A = max(A, s);\n            while (v[l-1].first == v[r+1].first && v[l-1].second + v[r+1].second >= 4) {\n              l--, r++;\n              s += v[l].second + v[r].second;\n              A = max(A, s);\n            }\n          }\n        }\n        else {\n          for (int k=0; k<2; k++) {\n            if (k == 0 && v[l-1].first == nc) l--, s+=v[l].second;\n            if (k == 1 && v[r+1].first == nc) r++, s+=v[r].second;\n            if (s >= 4) {\n              A = max(A, s);\n              while (v[l-1].first == v[r+1].first && v[l-1].second + v[r+1].second >= 4) {\n                l--, r++;\n                s += v[l].second + v[r].second;\n                A = max(A, s);\n              }\n            }\n          }\n        }\n      }\n    }\n    cout << N - A << \"\\n\";\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint rem(PArray& arr)\n{\n\tif(arr.size() == 0) return 0;\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tif(i != 0 && i != n - 1 && (arr[i - 1].second != j + 1 || arr[i + 1].second != j + 1))\n\t\t\t\t\tcontinue;\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n\n\n#define mp       make_pair\n#define pb       push_back\n#define all(x)   (x).begin(),(x).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\nvector<int> ball;\nvector<int> tmp;\nint n;\nint ans;\nvoid check(){\n\tint cnt = 0;\n\tint first;\n\tbool flag = false;\n\tfor(int i = 0;i < ball.size();){\n\t\tif(ball[i]==ball[i+1]){//同じ物が続く\n\t\t\tcnt++;\n\t\t\tif(!flag){\n\t\t\t\tfirst = i;\n\t\t\t\tflag = true;\n\t\t\t}\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}else if(cnt >=3){//四連続以上\n\t\t\tint lenght = first + cnt + 1;\n\t\t\tvector<int>::iterator it = ball.erase(ball.begin()+first,ball.begin()+lenght);\n\t\t\tflag =false;\n\t\t\tcnt = 0;\n\t\t\ti = 0;\n\t\t\tcontinue;\n\t\t}\n\t\tflag = false;\n\t\tcnt = 0;\n\t\ti++;\n\t}\n\tint sp =ball.size();\n\t/*cout <<\"change = \"<<n<<endl;\n\trep(i,ball.size()){\n\t\tcout <<\"ball = \"<<ball[i]<<endl;\n\t}\n\tcout <<endl;\n\t */\n\tans = min(ans,sp);\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)\n\t\t\tbreak;\n\t\tball.clear();\n\t\tans  =INF;\n\t\tint x;\n\t\trep(i,n){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tball.push_back(x);\n\t\t}\n\t\ttmp = ball;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tif(ball[i]==1){\n\t\t\t\tball[i]= 2;\n\t\t\t\tcheck();\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 3;\n\t\t\t\tcheck();\n\t\t\t\tball = tmp;\n\t\t\t}else if(ball[i]==2){\n\t\t\t\tball[i]= 1;\n\t\t\t\tcheck();\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 3;\n\t\t\t\tcheck();\n\t\t\t\tball = tmp;\n\t\t\t}else if(ball[i]==3){\n\t\t\t\tball[i]= 2;\n\t\t\t\tcheck();\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 1;\n\t\t\t\tcheck();\n\t\t\t\tball = tmp;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2, v3;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2-1);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\t//x[i][0]=0;\n\t\t\t//save[i]=0;\n\t\t}\n\t\t//list[0]=0;\n\t\t//list[1]=0;\n\t\t//list[2]=0;\n\t\t//list[3]=0;\n\t\tans=INF;\n\t\tv1=v3;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint check(const vector<int> &v, int cp){\n\tint lp = cp, rp = cp + 1;\n\twhile(lp > 0){\n\t\tint c = v[lp];\n\t\tint tl, tr;\n\t\tfor(tl = lp; v[tl] == c; --tl);\n\t\tfor(tr = rp; v[tr] == c; ++tr);\n\t\tif((lp - tl) + (tr - rp) < 4){\n\t\t\tbreak;\n\t\t}\n\t\tlp = tl;\n\t\trp = tr;\n\t}\n\treturn lp + (v.size() - 1 - rp);\n}\n\nint main(){\n\tint n;\n\twhile(scanf(\"%d\", &n), n){\n\t\tvector<int> v(n + 2);\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tscanf(\"%d\", &v[i]);\n\t\t}\n\n\t\tint ans = n;\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tint c = v[i];\n\t\t\tfor(int j = 1; j <= 2; ++j){\n\t\t\t\tint t = (c + j) % 3;\n\t\t\t\tif(!t){ t = 3; }\n\t\t\t\tv[i] = t;\n\t\t\t\tans = min(ans, check(v, i));\n\t\t\t}\n\t\t\tv[i] = c;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a) for(int i=0;i<a;i++)\n#define inf 612695281\n\nint hoge =0;\nint chain[10002][2];\nint n;\n\n\nint solve(int where,int h){\n\tint copy=chain[where][0];\n\tchain[where][0]--;\n\tint re=0;\n\tint b=where;\n\tint a=where;\n\t//cout<<a<<b;\n\tif(h==0 and b==0){chain[where][0]=copy;/*cout<<\"W\"<<endl;*/return re;}\n\tif(h==1 and a==hoge-1){chain[where][0]=copy;/*cout<<\"E\"<<endl;*/return re;}\n\tif(h==0 and chain[b-1][0]<3){chain[where][0]=copy;/*cout<<\"T\"<<endl;*/return re;}\n\tif(h==1 and chain[a+1][0]<3){chain[where][0]=copy;/*cout<<\"U\"<<endl;*/return re;}\n\t\n\tif(0==0){\n\t\t//cout<<\"     \"<<b<<\"    \";\n\t\t//cout<<chain[b-1][1]<<chain[b+1][1];\n\t\tif(chain[b][0]!=0 or chain[b-1][1]!=chain[b+1][1]){\n\t\t\tif(h==0){re+=chain[b-1][0]+1;b=b-2;/*cout<<\"R\";*/}\n\t\t\telse{re+=chain[a+1][0]+1;a=a+2;/*cout<<\"K\";*/}\n\t\t}\n\t\telse if(h==0){re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"L\";*/}\n\t\telse{re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"P\";*/}\n\t}\n\twhile(1){\n\t\tif(b>=0 and a<=hoge-1){\n\t\t\tif(chain[a][1]==chain[b][1]){\n\t\t\t\tif(chain[b][0]+chain[a][0]>=4){\n\t\t\t\t\tre+=chain[b][0]+chain[a][0];\n\t\t\t\t\tb--;a++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\t/*cout<<\" \"<<re;*/\n\tchain[where][0]=copy;\n\treturn re;\n}\n\nint main(){\n\twhile(1){\n\tcin>>n;\n\tif(n==0){break;}\n\tFOR(i,10002){chain[i][0]=chain[i][1]=0;}\n\thoge=0;\n\tint last=0;\n\tint howlong=0;\n\tFOR(i,n){\n\t\tint u;\n\t\tcin>>u;\n\t\tif(u==last or last==0){howlong++;last=u;}\n\t\telse{\n\t\t\tchain[hoge][1]=last;\n\t\t\tlast=u;\n\t\t\tchain[hoge][0]=howlong;\n\t\t\thowlong=1;\n\t\t\thoge++;\n\t\t}\n\t}\n\tchain[hoge][1]=last;chain[hoge][0]=howlong;hoge++;\n\t//FOR(i,hoge){cout<<chain[i][0]<<chain[i][1]<<endl;}\n\tint ans=-inf;\n\tFOR(i,hoge){\n\t\tans=max(ans,solve(i,0));//cout<<endl;\n\t\tans=max(ans,solve(i,1));//cout<<endl;\n\t}\n\tcout<<n-ans<<endl;\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (scanf(\"%d\", &n), n){\n\t\tmemset(chain, 0, sizeof(chain));\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))\n#define each(itr,c) for(__typeof(c.begin()) itr=c.begin(); itr!=c.end(); ++itr)\n#define all(x) (x).begin(),(x).end()\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n\nint main()\n{\n    int n;\n    while(cin >>n,n)\n    {\n        vector<int> a(n);\n        rep(i,n) scanf(\" %d\", &a[i]);\n\n        int ans=n;\n\n        //?????????????????????????????????\n        rep(i,n)for(int j=1; j<=3; ++j)\n        {\n            if(a[i]==j) continue;\n\n            int tmp=n;\n\n            //???????????????\n            vector<int> c(a);\n            c[i]=j;\n\n            //top,bottom\n            int t=i,b=i;\n            int st=t,sb=b;\n\n            int col=j;\n\n            //printf(\"i,j= %d, %d\\n\",i,j);\n            bool first=true;\n            while(1)\n            {\n                while(t>=0 && c[t]==col) --t;\n                while(b<n && c[b]==col) ++b;\n\n                //printf(\" t=%d, st=%d, sb=%d, b=%d\\n\", t,st,sb,b);\n\n                int num=(b-sb)+(st-t);\n                if(first)\n                {\n                    num-=1;\n                    first=false;\n                }\n                //printf(\" num=%d\\n\",num);\n\n                if(num>=4)\n                {\n                    //?¶???????\n                    tmp-=num;\n                    st=t;\n                    sb=b;\n                }\n                else break;\n\n                if(t==-1 && b==n) break;\n                else if(t==-1) col=c[b];\n                else if(b==n) col=c[t];\n                else\n                {\n                    if(c[t]==c[b]) col=c[t];\n                    else break;\n                }\n            }\n\n            ans=min(ans,tmp);\n        }\n\n        cout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nint compute_remaining_characters(const vector<int>& characters,int idx,int color){\n  int prev_lhs = idx;\n  int prev_rhs = idx - 1;\n  int lhs = idx;\n  int rhs = idx;\n\n  for(int round = 0; round <= characters.size(); round++){\n    color = characters[lhs];\n    for(;lhs >= 0;lhs--){\n      if(characters[lhs] != color){\n\tlhs++;\n\tbreak;\n      }\n    }\n    for(;rhs < characters.size();rhs++){\n      if(characters[rhs] != color){\n\trhs--;\n\tbreak;\n      }\n    }\n    if(lhs < 0) lhs++;\n    if(rhs >= characters.size()) rhs--;\n    \n    if((rhs - lhs + 1)-(prev_rhs-prev_lhs + 1) < 4){\n      break;\n    }\n    prev_lhs = lhs;\n    prev_rhs = rhs;\n    \n    //next pos\n    lhs--;\n    rhs++;\n  }\n  return characters.size() - (prev_rhs - prev_lhs + 1);\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    vector<int> characters;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n      characters.push_back(color);\n    }\n\n    int res = n;\n    for(int idx=0;idx<characters.size();idx++){\n      for(int color=1;color<=3;color++){\n\tvector<int> store = characters;\n\tcharacters[idx] = color;\n\tres = min(res,compute_remaining_characters(characters,idx,color));\n\tcharacters = store;\n      }\n    }\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint n,cou,num,ans,str[2][10010];\nint rest_count(int up,int down,int sum)\n{\n    if(up == 0 || down == cou + 1)return sum;\n    if(str[0][down + 1] == str[0][up - 1] && str[1][down + 1] + str[1][up - 1] >= 4)return rest_count(up - 1,down + 1,sum + str[1][down + 1] + str[1][up - 1]);\n    return sum;\n}\nint main()\n{\n    while(scanf(\"%d\",&n),n)\n    {\n        cou = -1;\n        ans = n;\n        for(int i = 0; i < n; i++)\n        {\n            scanf(\"%d\",&num);\n            if(i == 0 || num != str[0][cou])\n            {\n                cou++;\n                str[0][cou] = num;\n                str[1][cou] = 1;\n            }\n            else str[1][cou]++;\n        }\n        for(int i = 0; i < cou + 1; i++)\n        {\n            if(str[1][i] == 1)\n            {\n                if(str[0][i - 1] == str[0][i + 1] && str[1][i - 1] + str[1][i + 1] >= 3 && i != 0 && i != cou + 1)ans = min(ans,n - rest_count(i - 1,i + 1,str[1][i - 1] + str[1][i + 1] + 1));\n                if(str[1][i - 1] >= 3 && i != 0)ans = min(ans,n - rest_count(i - 1,i,1 + str[1][i - 1]));\n                if(str[1][i + 1] >= 3 && i != cou + 1)ans = min(ans,n - rest_count(i,i + 1,1 + str[1][i + 1]));\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\nusing namespace std;\n\nint main(){\n\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>y[i];\n\t\t\tx[i]=y[i];\n\t\t\tp[i]=x[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tp[i]=y[i];\n\t\t\t}\n\t\t}\n\t\tcout<<minx<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\n#define INF 1e6\nusing namespace std;\n\n\nint del(string s){\n\tbool hoge=true;\n\tstring temp;\n\twhile(hoge){\n\t\thoge=false;\n\t\tint dt[s.size()];\n\t\trep(i,s.size())dt[i]=0;\n\t\trep(i,s.size()){\n\t\t\tif(i==0)dt[i]=1;\n\t\t\telse{\n\t\t\t\tif(s[i-1]==s[i])dt[i]=dt[i-1]+1;\n\t\t\t\telse dt[i]=1;\n\t\t\t}\n\t\t}\n\t\ttemp=\"\";\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(dt[i]>3){\n\t\t\t\thoge=true;\n\t\t\t\ti-=dt[i];\n\t\t\t\ti++;\n\t\t\t}else temp+=s[i];\n\t\t}\n\t\ts=temp;\n\t}\n\treturn temp.size();\n}\n\nint func(string s){\n\tint mians=INF;\n\trep(p,s.size()){\n\t\tstring alt=s;\n\t\tloop(c,1,4){\n\t\t\talt[p]=(char)(c+'0');\n\t\t\tmians=min(mians,del(alt));\n\t\t}\n\t}\n\treturn mians;\n}\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tstring s=\"\";\n\t\tchar ch;\n\t\trep(i,n){cin>>ch;s+=ch;}\n\t\tcout<<func(s)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <algorithm>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll,ll> P;\ntypedef double db;\nll n,cnt;\nll a[10000];\nvector<P> G;\n\nll solve(ll x){//G[x]???????????¨????????£???\n\tll res=0;\n\tll l=x,r=x;\n\tll now;\n\twhile(l>0&&G[l-1].first==G[x].first||G[l-1].second==0) l--;\n\twhile(r<n-1&&G[r+1].first==G[x].first||G[r+1].second==0) r++;\n\tfor(ll i=l;i<=r;i++) res+=G[i].second;\n\tif(res<=3) return 0;\n\tl--;\n\tr++;\n\twhile(1){\n\t\tif(l<0||n<=r||G[r].first!=G[l].first) return res;\n\t\tcnt=G[r].second+G[l].second;\n\t\tif(cnt<=3) return res;\n\t\tres+=cnt;\n\t\tl--;\n\t\tr++;\n\t}\n}\n\n\nll prev,ans=0;\nint main()\n{while(1){\n\tscanf(\"%lld\",&n);\n\tif(!n) return 0;\n\tans=0;\n\tG.clear();\n\tfor(ll i=0;i<n;i++){\n\t\tscanf(\"%lld\",&a[i]);\n\t\tif(i>0&&a[i]==a[i-1]){\n\t\t\tG[G.size()-1].second++;\n\t\t}\n\t\telse{\n\t\t\tG.push_back(P(a[i],1));\n\t\t}\n\t}\n\tll N=G.size();\n\tfor(ll i=0;i<N-1;i++){\n\t\tprev=G[i].first;\n\t\tG[i].second++;\n\t\tG[i+1].second--;\n\t\tans=max(ans,solve(i));\n\t\tG[i].second-=2;\n\t\tG[i+1].second+=2;\n\t\tans=max(ans,solve(i+1));\n\t\tG[i].second++;\n\t\tG[i+1].second--;\n\t}\n\tprintf(\"%lld\\n\",n-ans);\n}}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <iostream>\n#include <vector>\nusing namespace std;\n\ntemplate<class T> inline void chmin(T& a, T b) { if(b < a) a = b; }\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\tfor(int n; cin >> n, n;) {\n\t\tvector<int> c(1, 1), color;\n\t\tint first;\n\t\tcin >> first;\n\n\t\tcolor.push_back(first);\n\t\t\n\t\tfor(int i = 1; i < n; ++i) {\n\t\t\tint in;\n\t\t\tcin >> in;\n\n\t\t\tif(in == color[color.size() - 1])\n\t\t\t\t++c[c.size() - 1];\n\n\t\t\telse {\n\t\t\t\tcolor.push_back(in);\n\t\t\t\tc.push_back(1);\n\t\t\t}\n\t\t}\n\n\t\tint ans = n;\n\t\tfor(int i = 1; i < c.size() - 1; ++i) {\n\t\t\tif(c[i] == 1 || c[i] == 3) {\n\t\t\t\tif(c[i] == 3)\n\t\t\t\t\t--c[i - 1];\n\n\t\t\t\tint l = i - 1, r = i + 1;\n\t\t\t\twhile(l >= 0 && r < c.size() && color[l] == color[r] && c[l] + c[r] >= 4) {\n\t\t\t\t\t--l;\n\t\t\t\t\t++r;\n\t\t\t\t}\n\n\t\t\t\tint tmp = 0;\n\t\t\t\tfor(int j = 0; j <= l; ++j)\n\t\t\t\t\ttmp += c[j];\n\n\t\t\t\tfor(int j = r; j < c.size(); ++j)\n\t\t\t\t\ttmp += c[j];\n\n\t\t\t\tif(c[i] == 3)\n\t\t\t\t\t++c[i - 1];\n\n\t\t\t\telse if(l == i - 1)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tchmin(ans, tmp);\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn EXIT_SUCCESS;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n\nusing namespace std;\n\nint n;\n\nint search(int num, int a[20000]){\n\tint ref = a[num];\n\tint ans = 0;\n\tfor(int i = 1; i <= 3; i++){\n\t\ta[num] = i;\n\t\tint ind1 = num;\n\t\tint ind2 = num;\n\t\twhile(true){\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(a[ind1] != a[ind2]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint cnt = 2;\n\t\t\tif(ind1 == ind2){\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\twhile(ind1 > 0 && a[ind1] == a[ind1 - 1]){\n\t\t\t\tind1--;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\twhile(ind2 < n - 1 && a[ind2] == a[ind2 + 1]){\n\t\t\t\tind2++;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(cnt < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tind1--;\n\t\t\tind2++;\n\t\t}\n\t\t//cout << num << \" \" << i << \" \" << ind1 << \" \" << ind2 << endl;\n\t\tans = max(ans, ind2 - ind1 - 1);\n\t}\n\ta[num] = ref;\n\tif(ans < 4){\n\t\tans = 0;\n\t}\n\treturn ans;\n}\n\nint main(){\n\t\n\tint a[20000];\n\t\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tans = max(ans, search(i, a));\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tscanf(\"%d\", &y[i]);\n\t\t\tx[i]=y[i];\n\t\t\tp[i]=x[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){\n\t\t\t\t\tgoto loopend;\n\t\t\t\t}\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tfor(int k=0;k<n;k++){\n\t\t\t\t\tp[k]=y[k];\n\t\t\t\t}\n\t\t\t\tloopend:;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", minx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 99999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t\n\t\t\t// 色を変えたところで意味のない部分は考えない(悪いけどごり押し) ここから-----\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tif (character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i == N - 1)\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j && character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ----- ここまで\n\t\t\t\n\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k++)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 最初から探索し直す\n\t\t\t\t\tk = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tans = min(ans , (int)search.size());\n\t\t\t// 0なら探索終了\n\t\t\tif (search.empty() == true)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntypedef long long int ll;\nint n,a[10000];\n\nint main()\n{\n\tfor(;;){\n\tint x=0;\n\tcin >> n;\n\tif(n==0)return 0;\n\tint pro=n;\n\tfor(int i=0;i<n;i++)cin >> a[i];\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t     if(a[i]!=j){\n\t     int u=a[i];\n\t     a[i]=j;\n\t     int ans=0;\n\t     int p=i;\n\t     int q=i;\n\t     int s=1;\n\t     while(p>0||q<n-1){\n\t\t     while(p>0&&a[p]==a[p-1])p--,s++;\n\t\t     while(q<n-1&&a[q]==a[q+1])q++,s++;\n\t\t     if(s>=4){\n\t\t\t     ans+=s;\n\t\t\t     if(a[p--]!=a[q++])break;\n\t\t\t     s=2;\n\t\t\t     continue;\n\t\t     }\n\t\t         break;\n             }\n\t\t     \n\t         pro=min(pro,n-ans);\n\t\t\t a[i]=u;\n\t\t\t }\n\t\t }\n\t}\n\tprintf(\"%d\\n\",pro);\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    int pre = 0, cnt = 0, in, size = 0, ans = 100000;\n    vector<P> data;\n    data.push_back(P(0, 0));\n    for(int i=0;i<n;i++){\n      cin >> in;\n      if(in != pre){\n        data.push_back(P(pre, cnt));\n        size += cnt;\n        cnt = 0;\n      }\n      pre = in;\n      cnt++;\n    }\n    if(n < 4){\n      cout << n << endl;\n      continue;\n    }\n    data.push_back(P(pre, cnt));\n    data.push_back(P(0, 0));\n    size += cnt;\n    for(int i=1;i<data.size()-1;i++){\n      int l = i-1, r = i+1, rem = size;\n      bool f = true;\n      //cout << i << \"-----\" << endl;\n      while(1){\n        //cout << l << ' ' << r << endl;\n        if(data[l].first != data[r].first && data[l].first && data[r].first) break;\n        int sum = data[l].second + data[r].second;\n        if(f) sum++;\n        if(sum < 4) break;\n        rem -= sum;\n        if(data[l].first == 0 || data[r].first == 0) break;\n        l--;\n        r++;\n        f = false;\n      }\n      ans = min(ans, rem);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n#include <string>\n#include <functional>\n#include <math.h>\n#include <utility>\n#define INF 100000000\nusing namespace std;\ntypedef pair<int,int> P;\nint N,ans;\nvector<int> vec,vec2,tmp;\nvoid deal(int t){\n\tint fir=0;\n\tbool update=true;\n\twhile(update){\n\t\tupdate=false;\n\t\tfir=max(t-6,0);\n\t\tint color=0;\n\t\tfor(int i=max(t-6,0);i<min(t+6,(int)tmp.size());i++){\n\t\t\tif(tmp[i]==color&&i!=tmp.size()-1)continue;\n\t\t\tint count=i-fir;\n\t\t\tif(i==tmp.size()-1)count++;\n\t\t\tif(count>=4){\t\t\n\t\t\t\twhile(count--)tmp.erase(fir+tmp.begin());\n\t\t\t\tt=fir;\n\t\t\t\tupdate=true;\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\tfir=i;color=tmp[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn;\n}\nint main()\n{\n\twhile(cin>>N&&N){\n\t\tvec.clear();vec2.clear();ans=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint tmp;cin>>tmp;\n\t\t\tvec.push_back(tmp);\n\t\t}\n\t\tfor(int i=0;i<N;i++){\n\t\t\tbool flag=false;\n\t\t\tif(1<=i&&i<N-1)if(vec[i-1]==vec[i+1]&&vec[i-1]!=vec[i])flag=true;\n\t\t\tif(i<N-3&&!flag)if(vec[i+1]==vec[i+2]&&vec[i+1]==vec[i+3])flag=true;\n\t\t\tif(3<=i&&!flag)if(vec[i-1]==vec[i-2]&&vec[i-1]==vec[i-3])flag=true;\n\t\t\tif(flag)vec2.push_back(i);\n\t\t}\n\t\tif(vec2.empty()){cout<<ans<<endl;continue;}\n\t\tfor(int i=0;i<(int)vec2.size();i++){\n\t\t\tint m=vec2[i];\n\t\t\tif(m!=0){\n\t\t\t\ttmp=vec;tmp[m]=vec[m-1];deal(m);\n\t\t\t\tans=min(ans,(int)tmp.size());\n\t\t\t\tif(m==N-1)continue;\n\t\t\t\tif(vec[m-1]!=vec[m+1]){\n\t\t\t\t\ttmp=vec;tmp[m]=vec[m+1];deal(m);\n\t\t\t\t\tans=min(ans,(int)tmp.size());\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\ttmp=vec;tmp[m]=vec[m+1];deal(m);\n\t\t\t\tans=min(ans,(int)tmp.size());\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nconst int INF = 1 << 24;\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tif(v[i].size >= 3){\n\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t}\n\t\t}\n\n\t\tif(v.size() >= 3){\n\t\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\t\tif(v[i].size == 1){\n\t\t\t\t\t\tint destroyChara = 0,\n\t\t\t\t\t\t\tupperChara = i-1,\n\t\t\t\t\t\t\tlowerChara = i+1;\n\t\t\t\t\t\tif(v[i-1].size + 1 >= 4){\n\t\t\t\t\t\t\tdestroyChara = v[i-1].size + 1;\n\t\t\t\t\t\t\tupperChara = i-2;\n\t\t\t\t\t\t\tif(v[i-1].color == v[i+1].color){\n\t\t\t\t\t\t\t\tdestroyChara += v[i+1].size;\n\t\t\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}else if(v[i+1].size + 1 >= 4){\n\t\t\t\t\t\t\tdestroyChara = v[i+1].size + 1;\n\t\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\t\t\tif(v[i-1].color == v[i+1].color){\n\t\t\t\t\t\t\t\tdestroyChara += v[i-1].size;\n\t\t\t\t\t\t\t\tupperChara = i-2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tupperChara = -1;\n\t\t\t\t\t\t\tlowerChara = v.size();\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\t\tif(v[upperChara].color == v[lowerChara].color && v[upperChara].size + v[lowerChara].size >= 4){\n\t\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[1001]={0};\nint b[1001]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\t/*for(int s=0;s<n;s++){\n\t\tcout<<b[s];\n\t}\n\tcout<<endl;*/\n\tif(b[i]==b[j]&&j<n){\n\t\t//cout<<\"wwww\"<<endl;\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\t//cout<<\"ttttt\"<<endl;\n\t\tif(c>=4){\n\t\t\tfor(int z=0;z<c;z++){\n\t\t\t\t//cout<<\"jjjjj\"<<endl;\n\t\t\t\tif((j+z)>n)break;\n\t\t\t\tb[i+z]=b[j+z];\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tcout<<ans<<endl;\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "\nclass P\n  attr_accessor :color, :size\n  def initialize(color=0, size=0)\n    @color = color\n    @size  = size\n  end\nend\n\n# [Pair] -> [Pair]\ndef compless1(v)\n  res = [v[0]]\n\n  v[1..(-1)].each do |e|\n    if e.color == res[-1].color\n      res[-1].size += e.size\n    else\n      res << e\n    end\n  end\n\n  res\nend\n\n# [Int] -> [Pair]\ndef compless2(v)\n  res = []\n\n  v.each{ |e| res << P.new(e, 1) }\n\n  compless1(res)\nend\n\n\n\n# main\nwhile (n = gets.chomp.to_i) != 0\n  chain = []\n  n.times { chain << gets.chomp.to_i }\n\n  best = 0\n  n.times do |i|\n    1.upto(3) do |color|\n      buf = chain.dup\n      buf[i] = color\n      v = compless2(buf)\n\n      cnt = 0\n      loop do\n        v = compless1(v)\n\n        nv = v.reject{ |e| e.size >= 4 }\n\n        break if v == nv\n        cnt += v.inject(0) { |acc, e| acc + (e.size >= 4 ? e.size : 0) }\n        v = nv\n\n        break if v == []\n      end\n\n      best = [best, cnt].max\n    end\n  end\n\n  puts (n - best)\nend"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <bitset>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\n\nstatic const int INF = 1e9;\n\nint erace(int n, vector<int> v, int num, int c){//??°???????????°?????°????????????????????????????????´??? ?????????????????????\n\tint n_tmp = n;\n\tint l = num;//??????????????´????????????\n\tint r = num + 1;\n\tint color = c;//???????????´????????°?????????????????????\n\twhile(1){\n\t\t// rep(i, n) printf(\"%d\", v[i]);\n\t\t// printf(\"\\n\");\n\t\tint cnt = 0;//????????°????????£?¶???????????????°\n\t\t//?????´???????????????????????£?¶????????????????\n\t\twhile(0 <= l && v[l] == color){\n      \t\tcnt++;\n      \t\tl--;//??????????????°???\n    \t}\n    \t//?????´???????????????????????£?¶????????????????\n    \twhile(r < n && v[r] == color){//n??????????????£????????°??£???\n      \t\tcnt++;\n      \t\tr++;//??????????????°???\n    \t}\n    \t// printf(\"num %d l %d r %d\\n\", num, l, r);\n   \t\tif(cnt >= 4){\n   \t\t\t// printf(\"num %d l %d r %d\\n\", num, l, r);\n    \t\tn_tmp -= cnt;//??£?¶?????????°??????????¶????\n    \t\tif(v[l] == v[r]){\n\t    \t\tcolor = v[l];//?¬?????¶????????¶???????????????´??°??????\n\t    \t\t// printf(\"color %d\\n\", color);\n\t    \t}\n    \t\telse break;//?¶???????????????????????????????????????§???????????°???????????\\????¶????????????¨?????????\n    \t}else{\n    \t\tbreak;//???????¶???????????????°???????????\\????¶????????????¨?????????\n    \t}\n\t}\n\treturn n_tmp;\n}\n\nint main(void){\n\twhile(1){\n\t\tint n; scanf(\"%d\", &n);\n\t\tif(n == 0) return 0;\n\t\tvector<int> v(n);\n\t\trep(i, n) scanf(\"%d\", &v[i]);\n\t\tint ans = INF;\n\t\t//??¨??¢?´¢\n\t\trep(i, n){//?????????????????¨????????????\n\t\t\tint tmp = v[i];\n\t\t\t//???????????????\n\t\t\treps(j, 1, 4){\n\t\t\t\tif(tmp == j) continue;\n\t\t\t\tv[i] = j;\n\t\t\t\tans = min(ans, erace(n, v, i, j));\n\t\t\t}\n\t\t\tv[i] = tmp;//????????????\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint c[10001];\nbool map[10001];\nint n;\nvoid DFS(int key){\n\tif(key<0||key>=n)return;\n\tint bef,aft;\n\tbef=key-1;\n\twhile(true){\n\t\tif(bef<0)break;\n\t\tif(map[bef]&&c[bef]!=c[key])break;\n\t\tbef--;\n\t}\n\tbef++;\n\taft=key+1;\n\twhile(true){\n\t\tif(aft==n)break;\n\t\tif(map[aft]&&c[aft]!=c[key])break;\n\t\taft++;\n\t}\n\taft--;\n\tint cnt=0;\n\tfor(int i=bef;i<=aft;i++)cnt+=map[i];\n\tif(cnt>3){\n\t\tfor(int i=bef;i<=aft;i++)map[i]=false;\n\t\tDFS(bef-1);\n\t}\n}\nint main(){\n\twhile(true){\n\tcin>>n;\n\tif(n==0)break;\n\tint ans=n;\n\tfor(int i=0;i<n;i++)cin>>c[i];\n\tfor(int ch=0;ch<n;ch++){\n\t\tint keep=c[ch];\n\t\tfor(int aft=1;aft<=3;aft++){\n\t\t\tif(aft!=keep){\n\t\t\t\tc[ch]=aft;\n\t\t\t\tfor(int i=0;i<n;i++)map[i]=true;\n\t\t\t\tDFS(ch);\n\t\t\t\tint cnt=0;\n\t\t\t\tfor(int i=0;i<n;i++)cnt+=map[i];\n\t\t\t\tans=min(ans,cnt);\n\t\t\t}\n\t\t}\n\t\tc[ch]=keep;\n\t}\n\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage,int change_idx){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=change_idx-3;i<change_idx+3 && i+1 < stage.size();i++){\n      if(i < 0) continue;\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tchange_idx = i;\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\tdeque<Block> tmp_stage1 = stage;\n\tdeque<Block> tmp_stage2 = stage;\n\tint prev_color = stage[i].color;\n\tint prev_size = stage[i].size;\n\n\ttmp_stage1[i].color = color;\n\ttmp_stage1[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp_stage1.insert(tmp_stage1.begin()+i+1,b);\n\t  tmp_stage2.insert(tmp_stage2.begin()+i,b);\n\t  res = min(res,check_stage(tmp_stage1,i));\n\t  res = min(res,check_stage(tmp_stage2,i));\n\t}\n\telse{\n\t  res = min(res,check_stage(tmp_stage1,i));\n\t}\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\t//cout<<\"wwww\"<<endl;\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\t//cout<<\"ttttt\"<<endl;\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\t//cout<<\"jjjjj\"<<endl;\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\t//cout<<n-c<<endl;\n\t\t\tcout<<i<<\" \"<<j<<\" \"<<c<<\" \"<<n<<\" \"<<n-c<<endl;\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t\telse{\n\t\t\t/*cout<<\"WWWWWWW\"<<endl;\n\t\t\tfor(int u=0;u<n;u++){\n\t\t\t\tcout<<b[u];\n\t\t\t}\n\t\t\tcout<<endl;*/\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef vector <int> VI;\n\nvoid print_test( VI& t )\n{\n\tfor ( VI::iterator it = t.begin(); it != t.end(); it++ )\n\t{\n\t\tcout << *it << \" \";\n\t}\n\tcout << endl;\n}\n\nint simulate( VI& s )\n{\n\tVI result = s;\n\tVI::iterator left = result.end();\n\tVI::iterator right = result.end();\n\n\tfor ( VI::iterator it = result.begin(); it != result.end(); it++ )\n\t{\n\t\tif ( left == result.end() )\n\t\t{\n\t\t\tleft = it;\n\t\t}\n\t\telse if ( *left != *it )\n\t\t{\n\t\t\tright = it-1;\n\t\t\tif ( right - left + 1 >= 4 )\n\t\t\t{\n\t\t\t\tresult.erase( left, it );\n\t\t\t\tit = result.begin();\n\t\t\t\tright = result.end();\n\t\t\t\tleft = result.end();\n\t\t\t}\n\t\t\telse\n\t\t\t\tleft = it;\n\t\t}\n\t}\n\treturn result.size();\n}\n\nvoid change_color( int& now )\n{\n\tint next = now + 1;\n\tif ( next > 3 ) next = 1;\n\tnow = next;\n}\n\nint main( void )\n{\n\tint n;\n\twhile ( cin >> n && n )\n\t{\n\t\tVI source(n);\n\t\tfor ( int i = 0; i < n; i++ ) cin >> source[i];\n\n\t\tint answer = 1<<24;\n\t\tfor ( int i = 0; i < n; i++ )\n\t\t{\n\t\t\tVI next = source;\n\t\t\tfor ( int j = 0; j < 2; j++ )\n\t\t\t{\n\t\t\t\tchange_color( next[i] );\n\t\t\t\tanswer = min(answer, simulate( next ) );\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint solve(int start, const vector<int> &t){\n  int n = t.size();\n  int top = start;\n  int bottom = start + 1;\n  int res = n;\n\n  while(0 <= top && bottom < n){\n    int kind = t[top]; //今から消えるであろうキャラクタの色\n    int cnt = 0;\n\n    //kindと同じ色である間、上に向かって数える\n    while(0 <= top && t[top] == kind){\n      cnt++;\n      top--;\n    }\n\n    //kindと同じ色である間、下に向かって数える\n    while(bottom < n && t[bottom] == kind){\n      cnt++;\n      bottom++;\n    }\n\n    //4個未満なら、消えない＝終わり\n    if(cnt < 4) break;\n\n    //4個以上なら、消える\n    res -= cnt;\n  }\n\n  return res;\n}\n\nint main(){\n  while(1){\n    int n;\n    cin >> n;\n    if(n == 0) break;\n\n    vector<int> t(n);\n\n    for(int i = 0; i < n; i++){\n      cin >> t[i];\n    }\n\n    //答えは最大でもn個\n    int ans = n;\n\n    //色を変える場所を決める\n    for(int i = 0; i < n; i++){\n      vector<int> nt = t;\n\n      //[i]を何色に変えるかを決める\n      for(int j = 1; j <= 3; j++){\n        nt[i] = j;\n        ans = min(ans, solve(i, nt));\n      }\n    }\n\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//\tcreated : 15/12/30\n// \tautor   : Rp7rf\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstdio>\n#include <set>\n\nusing namespace std;\n#define rep(i,a) for(long long i = 0 ; i < a ; i ++)\n#define loop(i,a,b) for(long longs i = a ; i < b ; i ++)\n#define mp make_pair\n#define pb push_back\n#define f first\n#define s second\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef long long ll;\nint main(void){\n\tll n,in;\n\twhile(cin>>n,n){\n\t\tcin>>in;\n\t\tvector<pii> v;\n\t\tv.pb(mp(in,1));\n\t\tll input = n;\n\t\twhile(--input){\n\t\t\tcin>>in;\n\t\t\tif(v[v.size()-1].first == in){\n\t\t\t\tv[v.size()-1].s ++;\n\t\t\t}else{\n\t\t\t\tv.pb(mp(in,1));\n\t\t\t}\n\t\t}\n\t\tll ret = n;\n\t\trep(i,v.size()){\n\t\t\t\tll now = n;\n\t\t\t\tll l = i - 1 , r = i + 1;\n\t\t\t\twhile(0 <= l && r < v.size()){\n\t\t\t\t\tif(v[l].s + v[r].s >= 4 && v[l].f == v[r].f){\n\t\t\t\t\t\tnow = now - (v[l].s + v[r].s);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tl --; r ++;\n\t\t\t\t}\n\t\t\t\tif(now != n)now -=v[i].s;\n\t\t\t\tret = min(ret,now);\n\t\t\t\n\t\t\t//cout<<v[i].f<<\" \"<<v[i].s<<endl;\n\t\t}\n\t\tcout<<ret<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n\nvector<int>v;\n\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tv.clear();\n\t\tv.push_back(10);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tv.push_back(a);\n\t\t}\n\t\tv.push_back(10);\n\n\t\tint ans = n;\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tint sk = i, ek = i;//erased kukan\n\t\t\tint lp = 0;\n\t\t\twhile (1) {\n\t\t\t\tint l = 0, r = 0;\n\t\t\t\tfor (int j = ek + 1; j < v.size(); j++) {\n\t\t\t\t\tif (v[j] != v[ek + 1])break;\n\t\t\t\t\tr++;\n\t\t\t\t}\n\t\t\t\tfor (int j = sk - 1; j > -1; j--) {\n\t\t\t\t\tif (v[j] != v[sk - 1])break;\n\t\t\t\t\tl++;\n\t\t\t\t}\n\n\t\t\t\tif (lp) {\n\t\t\t\t\tif (v[ek + 1] != v[sk - 1])break;\n\t\t\t\t\tif (l + r >= 4) {\n\t\t\t\t\t\tsk -= l;\n\t\t\t\t\t\tek += r;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (v[ek + 1] != v[sk - 1]) {\n\t\t\t\t\t\tif (l >= 3) {\n\t\t\t\t\t\t\tsk -= l;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (r >= 3 ) {\n\t\t\t\t\t\t\tek += l;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (l + r >= 4) {\n\t\t\t\t\t\t\tsk -= l;\n\t\t\t\t\t\t\tek += r;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\tlp++;\n\t\t\t}\n\t\tif(lp)ans = min(ans, n -( ek - sk+1));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nint a[10000],n;\nint F(int k,int x)\n{\n\tint i,j,r=0,t=a[k];\n\ta[k]=x;\n\tfor(i=k;i>0&&a[i]==a[i-1];--i);\n\tfor(j=k;j+1<n&&a[j]==a[j+1];++j);\n\ta[k]=t;\n\tif(j-i<3)return 0;\n\tr=j-i+1;\n\tfor(;;)\n\t{\n\t\tif(--i<0||++j>=n||a[i]-a[j])break;\n\t\tt=2;\n\t\tfor(;i>0&&a[i]==a[i-1];--i)++t;\n\t\tfor(;j+1<n&&a[j]==a[j+1];++j)++t;\n\t\tif(t<4)break;\n\t\tr+=t;\n\t}\n\treturn r;\n}\nint main()\n{\n\tint i,r;\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\tfor(r=i=0;i<n;++i)scanf(\"%d\",a+i);\n\t\tfor(i=0;i<n;++i)\n\t\t{\n\t\t\tr=std::max(r,F(i,(a[i])%3+1));\n\t\t\tr=std::max(r,F(i,(a[i]+1)%3+1));\n\t\t}\n\t\tprintf(\"%d\\n\",n-r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nvoid counter(int);\n\nint color,n,m,puyo[10000],N;\n\nint main(){\n\n  int Min,number,original;\n  bool check;\n  \n  while(1){\n    \n    cin >>N;\n    \n    if(N == 0)break;\n    \n    Min=N;\n    \n    for(int i=0 ; i < N ; i++){\n      cin >>puyo[i];\n    }\n    \n    for(int k=0 ; k < N ; k++){\n      for(int l=1 ; l < 4 ; l++){\n\t\n\toriginal=puyo[k];\n\tpuyo[k]=l;\n\t\n\tcheck = true;\n\t\n\twhile(1){\n\t  \n\t  if(check == false)break;\n\t  \n\t  check=false;\n\t  \n\t  for(int i=0 ; i < N ; i++){\n\t    n=0;\n\t    m=0;\n\t    if(puyo[i] !=0 ){\n\t      color=puyo[i];\n\t      counter(i);\n\t    }      \n\t    if(n >= 4){\n\t      for(int j=0 ; j < m ; j++){\n\t\tpuyo[i+j]=0;\n\t\tcheck=true;\n\t      }\n\t    }\n\t  } \n\t}\n\t\n\tnumber=0;\n\tfor(int i=0 ; i < N ; i++){\n\t  if(puyo[i] != 0)number++;\n\t}\n\t\n\tif(number < Min)Min = number;\n\t\n\tpuyo[k]=original;\n\t\n      }\n    }\n    \n    cout <<Min<<endl;\n    \n  }\n  \n  return 0;\n}\nvoid counter(int i){\n  \n  m++;\n  \n  if(puyo[i] != 0){\n    n++;\n  }\n  \n  if( i >= 0 && i < N-1 ){\n    if(color == puyo[i+1] || puyo[i+1] == 0){\n      counter(i+1);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <iostream>\n#include <string>\n#include <algorithm>\nusing namespace std;\n\nint main(){\n  int i,j,n,a[10000],b[10000],ans;\n  bool f[10000],f2;\n  while(1){\n    cin >> n;\n    if(n == 0) break;\n    for(i=0;i<n;i++){\n      cin >> a[i];\n      f[i] = false;\n    }\n\n    for(i=1;i<n-3;i++){\n      if(a[i] == a[i+1] && a[i] == a[i+2]){\n\tf[i-1] = f[i+3] = true;\n      }\n      if(a[i-1] == a[i] && a[i-1] && a[i+2]) f[i+1] = true;\n      if(a[i-1] == a[i+1] && a[i-1] && a[i+2]) f[i] = true;\n    }\n\n    ans = n;\n\n    for(i=0;i<n;i++){\n      if(f[i]){\n\tfor(j=0;j<n;j++) b[j] = a[j];\n\tif(b[i-1] == b[i-2]) b[i] = b[i-1];\n\telse if(b[i+1] && b[i+2]) b[i] = b[i+1];\n\tint m = n;\n\twhile(1){\n\t  f2 = false;\n\t  for(j=0;j<m-3;j++){\n\t    if(b[j] == b[j+1] && b[j] == b[j+2] && b[j] == b[j+3]){\n\t      f2 = true;\n\t      int l = 4;\n\t      for(int k=j+4;k<m;k++){\n\t\tif(b[j] == b[k]) l++;\n\t\telse break;\n\t      }\n\n\t      for(int k=j+l;k<m;k++){\n\t\tb[k-l] = b[k];\n\t      }\n\t      m -= l;\n\t    }\n\t  }\n\t  if(!f2){\n\t    ans = min(ans,m);\n\t    break;\n\t  }\n\t}\n      }\n    }\n\n    cout << ans << endl;\n\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\n\nint n;\nint a[10000];\nint b[10001];\nint ans = 1e9;\n\nint c(int x, int y){ //change b[x] to y return remaining\n\tb[x] = y;\n\tint e = n;\n\tbool f = true;\n\twhile(f){\n\t\tf = false;\n\t\tint d = 1;\n\t\tint p = b[0];\n\t\tfor(int i=1; i<n+1; ++i){\n\t\t\tif(b[i] == 4) continue;\n\t\t\tif(b[i] == p) ++d;\n\t\t\telse{\n\t\t\t\tif(d > 3){\n\t\t\t\t\tf = true;\n\t\t\t\t\tint j = 0, l = i-1;\n\t\t\t\t\twhile(j < d){\n\t\t\t\t\t\tif(b[l] == 4){\n\t\t\t\t\t\t\t--l;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tb[l] = 4;\n\t\t\t\t\t\t++j;\n\t\t\t\t\t\t--l;\n\t\t\t\t\t\t--e;\n/*\t\t\t\t\t\tfor(int k=0; k<n; ++k) printf(\"%d \", b[k]);\n\t\t\t\t\t\tprintf(\"\\n\");\n*/\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\td = 1;\n\t\t\t}\n\t\t\tp = b[i];\n\t\t}\n\t}\n/*\tif(x == 5){\n\t\tfor(int i=0; i<n; ++i) printf(\"%d \", b[i]);\n\t\tprintf(\"\\n\");\n\t}\n*/\treturn e;\n}\n\nint main(){\n\twhile(1){\n\t\tmemset(a, 0, sizeof(a));\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) return 0;\n\t\tfor(int i=0; i<n; ++i) scanf(\"%d\", &a[i]);\n\t\tans = 1e9;\n\n\t\tfor(int i=0; i<n; ++i)\n\t\t\tfor(int j=1; j<4; ++j){\n\t\t\t\tfor(int k=0; k<n; ++k) b[k] = a[k];\n\t\t\t\tans = min(ans, c(i, j));\n//\t\t\t\tprintf(\"%d %d\\n\", i, j);\n//\t\t\t\tprintf(\"%d\\n\", ans);\n\t\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\nint chain(string s)\n{\n  while(true)\n  {\n    int cnt = 1;\n    char c = 'a';\n    bool b = false;\n    for(int i = 0; i < s.length(); i++)\n    {\n      if(c == s[i])\n        cnt++;\n      else\n        cnt = 1;\n      c = s[i];\n      if(cnt == 4)\n      {\n        b = true;\n        int st = i - 3;\n        for(; c == s[i]; i++)\n          c = s[i - 1];\n        s.erase(st, i - st);\n      }\n      if(b)\n        break;\n    }\n    if(!b)\n      return s.length();\n  }\n}\n\nint main()\n{\n  while(true)\n  {\n    int N;\n    cin >> N;\n    if(!N)\n      return 0;\n    string s = \"\";\n    for(int i = 0; i < N; i++)\n    {\n      char c;\n      cin >> c;\n      s += c;\n    }\n    int ans = 1 << 30;\n    for(int i = 0 ; i < s.length(); i++)\n    {\n      char tmp = s[i];\n      for(char j = '1'; j <= '3'; j++)\n      {\n        if(s[i] == j)\n          continue;\n        s[i] = j;\n        ans = min(ans, chain(s));\n      }\n      s[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n  int n;\n  while(cin >> n,n){\n    string s;\n    char c;\n    int i,j,k;\n    for(i=0;i<n;i++){\n      cin >> c;\n      s+=c;\n    }\n    int l,r,x,y;\n    int ans = n;\n    for(i=0;i<n;i++){\n      for(k=1;k<3;k++){\n\tl=i-1;r=i+1;x=1;y=0;c=k+'0';\n\twhile(1){\n\t  while(l>=0&&s[l]==c){\n\t    x++;\n\t    l--;\n\t  }\n\t  while(r<n&&s[r]==c){\n\t    x++;\n\t    r++;\n\t  }\n\t  if(x<4) break;\n\t  y+=x;\n\t  x=0;\n\t  if(l<0||n<=r) break;\n\t  if(s[l]!=s[r]) break;\n\t  c=s[l];\n\t}\n\t//cout << i << k << \":\" << y << endl;\n\tans=min(ans,n-y);\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nint table[10001];\nint a;\n\nusing namespace std;\nint solve(int b){\n\tint serch=table[b];\n\tint left=b;\n\tint right=b+1;\n\tint ret=a;\n\twhile(1){\n\t\tserch=table[left];\n\t\tint count=0;\n\t\twhile(table[left]==serch&&left>=0){\n\t\t\tleft--;\n\t\t\tcount++;\n\t\t}\n\t\twhile(table[right]==serch&&right<a){\n\t\t\tright++;\n\t\t\tcount++;\n\t\t}\n\t\tif(count<4)break;\n\t\telse ret-=count;\n\t\n\t}\n\t\treturn ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&a),a){\n\t\tint ret=9999999;\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",&table[i]);\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint temp=table[i];\n\t\t\ttable[i]=1;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=2;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=3;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=temp;\n\t\t}\n\t\tprintf(\"%d\\n\",ret);\n\t}\n\treturn 0;\n\t}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstring>\n#include <algorithm>\nint main()\n{\n\tint N;\n\tint memo[10000];\n\tint puyo[10000];\n\twhile(std::cin>>N,N){\n\t\tint c = 0;\n\t\tint k = -1;\n\t\tmemset(memo,0,sizeof(memo));\n\t\tfor(int i=0; i<N; i++){\n\t\t\tint a; std::cin>>a;\n\t\t\tif( c==a )memo[k]++;\n\t\t\telse{ k++; memo[k]++; c=a; puyo[k]=c; }\n\t\t}\n\t\tk++;\n\t\t/*\n\t\tfor(int i=0; i<k; i++){\n\t\t\tprintf(\"memo[%d]:%d  puyo[%d]:%d\\n\",i,memo[i],i,puyo[i]);\n\t\t}*/\n\t\t\n\t\tint ans = N;\n\t\tfor(int i=0; i<k; i++){\n\t\t\tif( i>0 && i+1<k && memo[i]==1 && puyo[i-1]==puyo[i+1] &&\n\t\t\t\t memo[i-1]+memo[i+1]+1>=4 ){\n\t\t\t\t \n\t\t\t\t int l = i-2;\n\t\t\t\t int r = i+2;\n\t\t\t\t for(; l>=0 && r<k; ){\n\t\t\t\t\tif( !(puyo[r]==puyo[l] && memo[r]+memo[l]>=4) )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tl--; r++;\n\t\t\t\t }\n\t\t\t\t int sum = 0;\n\t\t\t\t while(l>=0)sum += memo[l--];\n\t\t\t\t while(r<k)sum += memo[r++];\n\t\t\t\t ans = std::min(sum,ans);\n\t\t\t\t continue;\n\t\t\t}\n\t\t\t\n\t\t\tif( i>0 && memo[i-1]+1>=4 ){\n\t\t\t\tint l = i-2;\n\t\t\t\tint r = memo[i]==1 ? i+1 : i;\n\t\t\t\tfor(;l>=0 && r<k;){\n\t\t\t\t\tif( !(puyo[r]==puyo[l] && memo[r]+memo[l]>=4) )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tl--; r++;\n\t\t\t\t}\n\t\t\t\tint sum = 0;\n\t\t\t\twhile(l>=0)sum += memo[l--];\n\t\t\t\twhile(r<k)sum += memo[r++];\n\t\t\t\tans = std::min(sum,ans);\n\t\t\t}\n\t\t\t\n\t\t\tif( i+1<k && memo[i+1]+1>=4 ){\n\t\t\t\tint l = memo[i]==1 ? i-1 : i;\n\t\t\t\tint r = i+2;\n\t\t\t\tfor(;l>=0 && r<k;){\n\t\t\t\t\tif( !(puyo[r]==puyo[l] && memo[r]+memo[l]>=4) )\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tl--; r++;\n\t\t\t\t}\n\t\t\t\tint sum = 0;\n\t\t\t\twhile(l>=0)sum += memo[l--];\n\t\t\t\twhile(r<k)sum += memo[r++];\n\t\t\t\tans = std::min(sum,ans);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n#define col first\n#define cn second\n\ntypedef pair<int, int> PR;\n\npair<int, int> puyo[10000+10] , tmp;\n\nint sum;\n\n\nint chek(int , /*PR[10000 + 10],*/ int ,int,int);\n\n\nint main()\n{\n\tint n;\n\tint pn=0;\n\n\tint a;\n\n\tint i;\n\n\tint sa=0;\n\n\twhile (cin >> n, n != 0)\n\t{\n\t\tsa = 0;\n\t\tsum = n;\n\t\tpn = 0;\n\n\t\tcin >> a;\n\t\tpuyo[pn].col = a;\n\t\tpuyo[pn].cn = 1;\n\n\n\t\tfor (i = 1; i < n; i++)\n\t\t{\n\t\t\tcin >> a;\n\n\t\t\tif (puyo[pn].col == a)\n\t\t\t{\n\t\t\t\tpuyo[pn].cn++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpn++;\n\t\t\t\tpuyo[pn].col = a;\n\t\t\t\tpuyo[pn].cn = 1;\n\t\t\t}\n\t\t}\n\n\t\tpn++;\n\n\t\tfor (i = 1; i < pn - 1; i++)\n\t\t{\n\n\t\t\tif (puyo[i].cn == 3)\n\t\t\t{\n\t\t\t\tif (puyo[i + 1].col == puyo[i - 1].col && puyo[i + 1].cn + puyo[i - 1].cn >= 5)\n\t\t\t\t{\n\t\t\t\t\t//tmp = puyo[i + 1];\n\t\t\t\t\t//puyo[i + 1].cn--;\n\n\t\t\t\t\tsa = 3 + puyo[i + 1].cn + puyo[i - 1].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 2, i + 2, sa));\n\t\t\t\t\t//puyo[i + 1] = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( puyo[i+1].cn==1 && puyo[i].col == puyo[i+2].col )\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i + 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i + 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i + 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 1, i + 3, sa));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (puyo[i - 1].cn == 1 && puyo[i].col == puyo[i - 2].col)\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i - 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i - 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i - 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 3, i + 1, sa));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << sum << endl;\n\t}\n\treturn 0;\n}\n\n\nint chek(int pn/*, PR tp[10000 + 10]*/, int go, int ba , int sa)\n{\n\tif (puyo[go].col == puyo[ba].col && puyo[go].cn + puyo[ba].cn >= 4)\n\t{\n\t\tsa += puyo[go].cn + puyo[ba].cn;\n\n\t\tif (go - 1 >= 0 && ba < pn)\n\t\t{\n\t\t\treturn chek(pn, go - 1, ba + 1, sa);\n\t\t}\n\n\t}\n\n\treturn sa;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-4;q++){\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tfor(int i=1;i<=s-4;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=j-1;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nconst int MAX = 10001;\ntypedef pair<int,int> P;\n\nint N, ans;\nP num[MAX];\nshort data[MAX],cop[MAX];\n\nvoid Copy(int pos, int col){\n  \n  for(int i = 0; i < N; i++)\n    cop[i] = data[i];\n\n  cop[pos] = col;\n\n}\n\nvoid del(int pos, int number,int rev){\n\n  for(int i = pos+1; i <= rev; i++)\n    cop[i-number] = cop[i];\n\n  fill(&cop[rev-number],&cop[rev],0);\n}\n\nvoid play(){\n \n  int rev = -1;\n  fill(num,num+MAX,P(1,0));\n  int s = 0;\n  for(int i = 0; cop[i] != 0; i++,s++){\n    if(i && cop[i] == cop[i-1]) num[rev].first++;\n    else {\n      rev++;\n      num[rev].second = cop[i];\n    }\n  }\n  \n  \n  int now = s, r,l;\n  \n  for(int i = rev; i >=0; i--){\n    \n    if(num[i].first >= 4){\n      now -= num[i].first;\n      r = i+1;\n      l = i-1;\n      while(r <= rev && l >= 0){\n\tif(num[r].second == num[l].second &&\n\t   num[r].first+num[l].first >= 4 && num[r].second){\n\n\t  now -= num[r].first+num[l].first;\n\t  r++;\n\t  l--;\n\t}else break;\n      }\n      break;\n    }\n    }\n  ans = min(ans,now);\n  /*\n    bool flg = true;\n\n    for(int i = rev-1; i >= 0; i--)\n      if(num[i] >= 4){\n\tdel(i,num[i],rev);\n\tflg = false;\n\tbreak;\n      }\n\n    if(flg){\n      ans = min(ans,rev);\n      break;\n    }\n    */\n  \n}\n\nvoid solve(){\n  \n  for(int i = 0; i < N; i++)\n    for(int j = 1; j <= 3; j++)\n      if(data[i] != j){\n\tCopy(i,j);\n\tplay();\n      }\n}\n\nvoid init(){\n\n  fill(data,data+MAX,0);\n  fill(cop,cop+MAX,0);\n  ans = MAX;\n\n}\n\nint main(){\n  while(cin >> N && N){\n    init();\n    for(int i = 0; i < N; i++)\n      cin >> data[i];\n  \n    solve();\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n, p; vector<int>a, b;\nint solve(vector<int>x, int Y, int C) {\n\tint L = Y, R = Y;\n\twhile (true) {\n\t\tif (L == R)\n\t\t{\n\t\t\tint a1 = 0;\n\t\t\tfor (int i = L - 1; i >= 0; i--) {\n\t\t\t\tif (x[i] != C) { a1 = i + 1; break; }\n\t\t\t}\n\t\t\tint a2 = x.size() - 1;\n\t\t\tfor (int i = R + 1; i < x.size(); i++) {\n\t\t\t\tif (x[i] != C) { a2 = i - 1; break; }\n\t\t\t}\n\t\t\tif (a2 - a1 <= 2) { return x.size(); }\n\t\t\tL = a1; R = a2;\n\t\t}\n\t\telse {\n\t\t\tif (L == 0 || R == x.size() - 1 || x[L - 1] != x[R + 1]) { return x.size() - (R - L + 1); }\n\t\t\tint a1 = 0;\n\t\t\tC = x[L - 1];\n\t\t\tfor (int i = L - 1; i >= 0; i--) {\n\t\t\t\tif (x[i] != C) { a1 = i + 1; break; }\n\t\t\t}\n\t\t\tint a2 = x.size() - 1;\n\t\t\tfor (int i = R + 1; i < x.size(); i++) {\n\t\t\t\tif (x[i] != C) { a2 = i - 1; break; }\n\t\t\t}\n\t\t\tif ((a2 - a1) - (R - L) <= 3) { return x.size() - (R - L + 1); }\n\t\t\tL = a1; R = a2;\n\t\t}\n\t}\n}\nint main() {\n\twhile(true) {\n\t\tcin >> n; if (n == 0)break;\n\t\ta.clear(); b.clear();\n\t\tfor (int i = 0; i < n; i++) { cin >> p; a.push_back(p); }\n\t\tint maxn = n; b = a;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\ta[i] = j;\n\t\t\t\tmaxn = min(maxn, solve(a, i, j));\n\t\t\t\ta[i] = b[i];\n\t\t\t}\n\t\t}\n\t\tcout << maxn << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(void){\n    int n,i,i2,a[10000],b[10000],cmb,cmbc,ans,nkr,tf;\n    cin>>n;\n    while(n!=0){\n        ans=n;\n        for(i=0;i<n;i++){\n            cin>>a[i];\n        }\n        for(int I=0;I<n*2;I++){\n            for(i=0;i<n;i++)b[i]=a[i];\n            if(I%2==0){\n                if(b[I/2]==3)b[I/2]=1;\n                else b[I/2]++;\n            }\n            else{\n                if(b[I/2]==1)b[I/2]=3;\n                else b[I/2]--;\n            }\n            nkr=n;\n            //?¶????????????¨????????????????????§\n            do{\n                //??????????????§??????\n                tf=0;\n                cmb=1;\n                cmbc=b[0];\n                for(i=1;i<n;i++){\n                    if(cmbc==b[i]){\n                        cmb++;\n                    }\n                    else{\n                        if(cmb>=4){\n                            tf=1;\n                            break;\n                        }\n                        else{\n                            cmb=1;\n                            cmbc=b[i];\n                        }\n                    }\n                }\n                //?????????????¶?????????´???\n                if(tf==1){\n                    /*for(i2=0;i2<n;i2++)cout<<b[i2]<<' ';\n                    cout<<endl;*/\n                    for(i2=i;i2<nkr;i2++){\n                        b[i2-cmb]=b[i2];\n                        b[i2]=0;\n                    }\n                    nkr-=cmb;\n                    //cout<<nkr<<endl;\n                }\n            }while(tf!=0);\n            if(ans>nkr)ans=nkr;\n        }\n        cout<<ans<<endl;\n        cin>>n;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nconst int INF = 1 << 24;\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tif(v[i].size >= 3){\n\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t}\n\t\t}\n\n\t\tif(v.size() >= 3){\n\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\tint destroyChara = 0,\n\t\t\t\t\tupperChara = i-1, lowerChara = i+1;\n\t\t\t\t//v[i]が両辺一個を変える\n\t\t\t\tif(v[i].size >= 3){\n\t\t\t\t\tdestroyChara = v[i].size + 1;\n\t\t\t\t\tv[i-1].size--;\n\t\t\t\t\tif(!v[i-1].size){\n\t\t\t\t\t\tif(v[i].color == v[i-2].color){\n\t\t\t\t\t\t\tdestroyChara += v[i-2].size;\n\t\t\t\t\t\t\tupperChara = i-3;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tupperChara = i-2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif((v[upperChara].color == v[lowerChara].color) && (v[upperChara].size + v[lowerChara].size >= 4)){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\tv[i-1].size++;\n\t\t\t\t\t\n\t\t\t\t\tdestroyChara = v[i].size + 1;\n\t\t\t\t\tv[i+1].size--;\n\t\t\t\t\tif(!v[i+1].size){\n\t\t\t\t\t\tif(v[i].color == v[i+2].color){\n\t\t\t\t\t\t\tdestroyChara += v[i+2].size;\n\t\t\t\t\t\t\tlowerChara = i+3;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif((v[upperChara].color == v[lowerChara].color) && (v[upperChara].size + v[lowerChara].size >= 4)){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\tv[i+1].size++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "<?php\nclass AOJ0534 {\n    var $T;\n    var $TC;\n    var $L;\n    var $LC;\n\n    public function init() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        $in = file_get_contents('/dev/stdin');\n        $L = explode( \"\\n\", trim($in) );\n        $LC = count($L);\n        $T = array();\n        $TC = 0;\n    }\n    \n    public function input() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        for ( $i = 0; $i < $LC; ++ $i ) {\n            if ( $L[$i] == \"0\" ) break;\n            $n = $L[$i++];\n            $T[$TC] = array();\n            for ( $j = 0; $j < $n; ++ $j ) {\n                $T[$TC][] = intval($L[$i++]);\n            }\n            $TC++;\n            $i--;\n        }\n    }\n\n    public function check($s) {\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $key = str_repeat( $i, 4 );\n            if ( strstr( $s, $key ) ) return true;\n        }\n        return false;\n    }\n\n    public function calc($s) {\n        while ( $this->check($s) ) {\n            for ( $i = 1; $i <= 3; ++ $i ) {\n                $regexp = \"/\".$i.\"{4,}/\";\n                $s = preg_replace( $regexp, '', $s );\n            }\n        }\n        return $res = strlen($s);\n    }\n\n    public function check_around( $s, $k ) {\n        $res = 0;\n        $n = strlen($s);\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k - $i - 1;\n            if ( $id < 0 ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k + $i + 1;\n            if ( $id >= $n ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        return $res + 1;\n    }\n    \n    public function solve($s_) {\n        $res = PHP_INT_MAX;\n        $s = implode('', $s_);\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $regexp = \"/\".$i.\"{4,}/\";\n            $s = preg_replace( $regexp, str_repeat($i, 4), $s );\n        }\n        $n = strlen($s);\n        for ( $i = 0; $i < $n; ++ $i ) {\n            $t = $s;\n            for ( $j = 1; $j <= 3; ++ $j ) {\n                if ( $t[$i] == $j ) continue;\n                $t[$i] = $j;\n                if ( $this->check_around( $t, $i ) < 4 ) continue;\n                if ( ( $i-1 >= 0 && $t[$i-1] == $j ) || ( $i+1 < $n && $t[$i+1] == $j ) ) {\n                    $res = min( $res, $this->calc($t) );\n                }\n            }\n        }\n        return $res;\n    }\n    \n    public function run() {\n        $this->init();\n        $this->input();\n        foreach ( $this->T as $test ) {\n            echo $this->solve($test).\"\\n\";\n        }\n    }\n}\n$instance = new AOJ0534;\n$instance->run();"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t    int n,c1[10001],c2[10001],c3[10001],masatoy,max=4,maxi=0,maxj=0,xc=0,hirotada=0;\n    \tmemset(c1,0,sizeof(c1));\n    \tmemset(c2,0,sizeof(c2));\n    \tmemset(c3,0,sizeof(c3));\n    \tfor(int i=0;i<10000;i++)\n    \t\tc2[i]=i+1;\n    \tcin>>n;\n    \tif(n==0)return 0;\n    \thirotada=n;\n    \tfor(int i=0;i<n;i++){\n    \t\tcin>>c1[i];\n    \t\tc3[i]=c1[i];\n    \t}\n    \tfor(int i=0;i<n;i++){\n    \t\tmasatoy=c1[i];\n    \t\tfor(int j=1;j<=3;j++){\n    \t\t\tif(c1[i]!=j){\n    \t\t\t\tc3[i]=j;\n    \t\t\n    \t\tint x=0,y=0,xi=i,xj=i;\n    \t\t\t\twhile(c3[xi]==c3[xi+1]&&xi<n){\n    \t\t\t\t\txi++;\n    \t\t\t\t\tx++;\n    \t\t\t\t}\n    \t\t\t\twhile(c3[xj]==c3[xj-1]&&xj>-1){\n    \t\t\t\t\txj--;\n    \t\t\t\t\ty++;\n    \t\t\t\t}\n    \t\t\t\tif(max<=x+y+1){\n    \t\t\t\t\tmax=x+y+1;\n    \t\t\t\t\tmaxi=xi;\n    \t\t\t\t\tmaxj=xj;\n    \t\t\t\t}\n    \t\t\t}\n    \t\tc3[i]=masatoy;\n    \t\t}\n    \t}\n    \tif(maxj!=maxi){\n    \t\tfor(int i=maxj;i<=maxi;i++){//???????????????????????????????????????\n    \t\t\tc2[i]=0;\n    \t\t}\n    \t}\n    \tint sum=1;\n    \tfor(int i=0;i<n;i++){\n    \t\tif(c2[i]!=0){\n    \t\t\tif(xc==0){\n    \t\t\t\txc=c1[i];\n    \t\t\t}\n    \t\t\telse if(xc==c1[i]){\n    \t\t\t\tsum++;\n    \t\t\t}\n    \t\t\telse {\n    \t\t\t\tif(sum>=4){\n    \t\t\t\t\thirotada-=sum;\n    \t\t\t\t}\n    \t\t\t\tsum=1;\n    \t\t\t\txc=0;\n    \t\t\t}\n    \t\t}\n    \t\telse{\n    \t\t\thirotada--;\n    \t\t}\n    \t}\n    \tsum=0;\n    \tcout<<sum<<endl;\n    \t//cout<<\"--------------\"<<endl;\n    \tfor(int i=0;i<n;i++){\n    \t//\tif(c2[i]!=0)cout<<c1[i]<<endl;\n    \t}\n       // cout<<\"?????????\"<<hirotada<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m=10001,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(p,0,sizeof(p));\n\tmemset(o,0,sizeof(o));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=1;j<=3;j++){\n\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\to[i]=j;\n\t\t\tm=min(m,X(n));\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\tint n, ma = 0;\n\tscanf(\"%d\", &n);\n\tfor (int i = 0; i < n; i++)\n\t\tscanf(\"%d\", &chain[i]);\n\tfor (int i = 0; i < n; i++){\n\t\tchar def = chain[i];\n\t\tfor (int j = 1; j <= 3; j++){\n\t\t\tchain[i] = j;\n\t\t\tint s, g, cnt = 1;\n\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\tif (cnt >= 4){ ma = max(ccount(s, g, cnt), ma); }\n\t\t}\n\t\tchain[i] = def;\n\t}\n\tprintf(\"%d\\n\", n - ma);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#define N_MAX 10000\nusing namespace std;\n\nint N;\nint M[N_MAX];\n\nint del(int m[]) {\n  int delNum = 0;\n  int cnt[4];\n  int bfr = -1;\n  int pos[4];\n  for(int i = 0; i < N; i++) {\n    if(m[i] == 0) continue;\n    if(m[i] != bfr) {\n      cnt[0] = cnt[1] = cnt[2] = cnt[3] = 0;\n    }\n    if(cnt[m[i]] < 4) pos[cnt[m[i]]] = i;\n    cnt[m[i]]++;\n    bfr = m[i];\n\n    if(cnt[bfr] > 4) {\n      m[i] = 0;\n      delNum++;\n    }\n    if(cnt[bfr] == 4) {\n      for(int j = 0; j < 4; j++) {\n\tm[pos[j]] = 0;\n\tdelNum++;\n      }\n    }\n  }\n  return delNum;\n}\n\nint high(int m[]) {\n  int h = 0;\n  for(int i = N-1; i >= 0; i--) {\n    if(m[i] != 0) h++;\n  }\n  return h;\n}\n\nvoid cp(int m[]) {\n  for(int i = 0; i < N; i++) {\n    m[i] = M[i];\n  }\n}\n\nint solve() {\n  int mini = N;\n  int m[N_MAX];\n\n  int qsize = 0;\n  int qp[N_MAX];\n  int qc[N_MAX];\n\n  int cnt[4];\n  int bfr = -1;\n  int pos[4];\n  for(int i = 0; i < N; i++) {\n    if(M[i] != bfr) {\n      cnt[0] = cnt[1] = cnt[2] = cnt[3] = 0;\n    }\n    if(cnt[M[i]] < 3) pos[cnt[M[i]]] = i;\n    cnt[M[i]]++;\n    bfr = M[i];\n    if(cnt[bfr] == 3) {\n      if(pos[0]-1 >= 0) {\n\tqp[qsize] = pos[0]-1;\n\tqc[qsize] = bfr;\n\tqsize++;\n      }\n      if(pos[3]+1 < N) {\n\tqp[qsize] = pos[2]+1;\n\tqc[qsize] = bfr;\n\tqsize++;\n      }\n    }\n  }\n\n  for(int i = 0; i < qsize; i++) {\n    cp(m);\n    m[qp[i]] = qc[i];\n    while(del(m));\n    mini = min(mini, high(m));\n  }\n  return mini;\n}\n\nint main() {\n  while( ( cin >> N ) && N ) {\n    for(int i = 0; i < N; i++) {\n      cin >> M[i];\n    }\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,target,R,L,ans,Lastans,Rsum,Lsum,a, number[11000];\nint right(int in);\nint left (int in);\n\nint main(){\n\n    while(1){\n    cin >> n;\n    if(n==0)break;\n    Lastans=n;\n   number[10000]={0};\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n                a=number[i];\n                number[i]=j;\n\n            while(1){\n\n            if(number[i-Lsum-1]!=number[i+Rsum+1])break;\n            else target=number[i+Rsum+1];\n\n            R=right(i);\n            L=left(i);\n            if(R+L>=3&&Rsum==0&&Lsum==0){\n                Rsum+=R;\n                Lsum+=L;\n            }else if(R+L>=4){\n                Rsum+=R;\n                Lsum+=L;\n            }else break;\n                    }\n                ans=n-Rsum-Lsum-1;\n                if(ans<Lastans-1)Lastans=ans;\n\n                Lsum=0;\n                Rsum=0;\n                number[i]=a;\n\n                }\n\n            }\n\n            cout << Lastans << endl;\n\n    }\n    return 0;\n}\n\n\n\nint right(int in){\n\n    int sum=0;\n    while(1){\n    in++;\n    if(in+Rsum==n)break;\n    if(number[in+Rsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}\n\nint left(int in){\n\n    int sum=0;\n    while(1){\n    in--;\n    if(in-Lsum==-1)break;\n    if(number[in-Lsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\n#include<utility>\n#include<cmath>\n#include<ctime>\n#include<complex>\n\nusing namespace std;\n\n#define REP(i,s,e) for(int i=int(s);i<=int(e);i++)\n#define rep(i,n) for(int i=0;i<int(n);i++)\n\nvector<int>s;\nvoid f(vector<int>& x){\n\n\tint r=x.size();\n    if(r<4) return;\n    else{\n\n    \tint p;\n        bool b=false;\n    \t\tREP(i,0,r-4){\n    \t\tif(x[i]==x[i+1] && x[i]==x[i+2] && x[i]==x[i+3]){\n    \t\t\tp=i; b=true; break;\n    \t\t}\n    \t\t}\n\n            if(b){\n                if(x[p]!=x[p+4] && p+4<=r){ x.erase(x.begin()+p,x.begin()+p+4); f(x);}\n                else if(x[p]==x[p+4] && p+4<r){ x.erase(x.begin()+p,x.begin()+p+5); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && p+5<r){ x.erase(x.begin()+p,x.begin()+p+6); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]==x[p+6] && p+6<r){ x.erase(x.begin()+p,x.begin()+p+7); f(x);}\n\n              }\n\n            else return;\n\n    }\n\n\t}\n\nint main(){\n\n\twhile(1){\n\n\t\tint N,a;\n\n\t\tcin >> N;\n\t\tif(N==0) break;\n\n\t\trep(i,N){\n\t\t\tcin >> a;\n\t\t\ts.push_back(a);\n\t\t}\n\n\t\tif(N<4){ cout << N << endl;}\n\t\telse{\n\n\t\tvector<int>s1=s; int M=10000;\n\t\trep(i,N){\n\n\t\t\tif((s1[i]==1 && s1[i+1]!=1 && i+1<N) || s1[N-1]==1){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif((s1[i]==2 && s1[i+1]!=2 && i+1<N) || s1[N-1]==2){\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif((s1[i]==3 && s1[i+1]!=3 && i+1<N) || s1[N-1]==3){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t}\n\n\t\tcout << M << endl;\n\n\t\ts.clear();\n\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint n,chain[10000];\n\nint fig(int b){\n\tint a = b-1,c = b+1,color,res = 0;\n\tif(a>=0){//b == 0のバターンを弾く\n\t\tint s = 1;\n\t\tcolor = chain[a];\n\t\twhile(a>=0 && color==chain[a])a--,s++;\n\t\twhile(c<n && color==chain[c])c++,s++;\n\t\tif(s>=4)while(a>=0 && c<n){\n\t\t\tint t = 0;\n\t\t\tcolor = chain[a];\n\t\t\twhile(a>=0 && color==chain[a])a--,t++;\n\t\t\twhile(c<n && color==chain[c])c++,t++;\n\t\t\tif(t>=4) s+=t;\n\t\t\telse break;\n\t\t}\n\t\telse s = 0;\n\t\tres = s;\n\t\ta = b-1;c = b+1;\n\t}\n\tif(c<n&&(a<0||chain[a]!=chain[c])){//b == n-1のパターンとchain[a] == chain[c]のパターンを弾く\n\t\tint s = 1;\n\t\tcolor = chain[c];\n\t\twhile(a>=0 && color==chain[a])a--,s++;\n\t\twhile(c<n && color==chain[c])c++,s++;\n\t\tif(s>=4)while(a>=0 && c<n){\n\t\t\tint t = 0;\n\t\t\tcolor = chain[a];\n\t\t\twhile(a>=0 && color==chain[a])a--,t++;\n\t\t\twhile(c<n && color==chain[c])c++,t++;\n\t\t\tif(t>=4) s+=t;\n\t\t\telse break;\n\t\t}\n\t\telse s = 0;\n\t\tres = max(res,s);\n\t}\n\treturn res;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&n),n){\n\t\tint del = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tscanf(\"%d\",chain+i);\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++) del = max(del,fig(i));\n\t\tprintf(\"%d\\n\",n-del);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n#include <stack>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nbool used[10005];\n\nvoid prints(stack<P> st) {\n\twhile(st.size()) {\n\t\tP p = st.top(); st.pop();\n\t\tcout << \"(\" << p.first << \",\" << p.second << \") \";\n\t}\n\tcout << endl;\n}\n\nint func(vector<int> v) {\n\tstack<P> st;\n\n\trep(i, v.size()) {\n\t\tint len = 1;\n\t\tREP(j, i+1, v.size()) {\n\t\t\tif(v[i] == v[j]) {\n\t\t\t\ti++;\n\t\t\t\tlen++;\n\t\t\t\tcontinue;\n\t\t\t} else break;\n\t\t}\n\n\t\tif(len >= 4) continue;\n\t\telse {\n\t\t\tif(st.size() == 0) {\n\t\t\t\tst.push(mp(v[i], len));\n\t\t\t} else {\n\t\t\t\tP p = st.top();\n\t\t\t\tif(p.first == v[i]) {\n\t\t\t\t\tst.pop();\n\t\t\t\t\tif(p.second + len < 4) {\n\t\t\t\t\t\tst.push(mp(v[i], p.second + len));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tst.push(mp(v[i], len));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// prints(st);\n\t}\n\n\tint ret = 0;\n\twhile(st.size()) {\n\t\tret += st.top().second;\n\t\tst.pop();\n\t}\n\treturn ret;\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n) {\n\n\t\tvector<int> v(n);\n\t\trep(i, n) cin >> v[i];\n\n\t\tint ans = n + 1;\n\t\trep(i, n) {\n\t\t\tint t = v[i];\n\n\t\t\tv[i] = 1;\n\t\t\tif(i == 0) {\n\t\t\t\tv[i] = v[i+1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else if(i == n-1) {\n\t\t\t\tv[i] = v[i-1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else {\n\t\t\t\tif(v[i+1] == v[i-1]) {\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t} else {\n\t\t\t\t\tv[i] = v[i-1];\n\t\t\t\t\tans = min(ans, func(v));\n\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tv[i] = t;\n\t\t}\n\n\t\t// cout << \"n:\" << n << \"  ans:\";\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n#include <stack>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint func(vector<int>& v) {\n\tstack<P> st;\n\tint n = v.size(), ret = 0;\n\n\trep(i, n) {\n\t\tint len = 1, c = v[i];\n\t\tREP(j, i+1, n) {\n\t\t\tif(c == v[j]) {\n\t\t\t\ti++;\n\t\t\t\tlen++;\n\t\t\t\tcontinue;\n\t\t\t} else break;\n\t\t}\n\n\t\tif(len >= 4) continue;\n\t\telse {\n\t\t\tif(st.size() == 0) {\n\t\t\t\tst.push(mp(c, len));\n\t\t\t\tret += len;\n\t\t\t} else {\n\t\t\t\tP p = st.top();\n\t\t\t\tif(p.first == c) {\n\t\t\t\t\tif(p.second + len < 4) {\n\t\t\t\t\t\tst.top().second += len;\n\t\t\t\t\t\tret += len;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tst.pop();\n\t\t\t\t\t\tret -= p.second;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tst.push(mp(c, len));\n\t\t\t\t\tret += len;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// prints(st);\n\t}\n\n\t// int ret = 0;\n\t// while(st.size()) {\n\t// \tret += st.top().second;\n\t// \tst.pop();\n\t// }\n\treturn ret;\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n) {\n\n\t\tvector<int> v(n);\n\t\trep(i, n) cin >> v[i];\n\n\t\tint ans = n + 1;\n\t\trep(i, n) {\n\t\t\tint t = v[i];\n\n\t\t\tv[i] = 1;\n\t\t\tif(i == 0) {\n\t\t\t\tv[i] = v[i+1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else if(i == n-1) {\n\t\t\t\tv[i] = v[i-1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else {\n\t\t\t\tif(v[i+1] == v[i-1]) {\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t} else {\n\t\t\t\t\tv[i] = v[i-1];\n\t\t\t\t\tans = min(ans, func(v));\n\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tv[i] = t;\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1000000000\nusing namespace std;\n\nint ary[10010];\nint main(){\n\tint N,res;\n\twhile(true){\n\t\tcin>>N;\n\t\tif(N==0) break;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tcin>>ary[i];\n\t\t}\n\t\tary[0]=0;ary[N+1]=4;\n\n\t\tres=INF;\n\t\tint cnt;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tint lpa=i-1,tlpa=i,rpa=i+1,trpa=i+1;\n\t\t\twhile(ary[lpa]==ary[rpa]){\n\t\t\t\twhile(lpa>0&&ary[lpa]==ary[lpa-1])lpa--;\n\t\t\t\twhile(rpa<N+1&&ary[rpa]==ary[rpa+1])rpa++;\n\t\t\t\tlpa=max(0,lpa-1);rpa=min(N+1,rpa+1);\n\t\t\t\tif((tlpa-lpa)+(rpa-trpa)<4){\n\t\t\t\t\tlpa=tlpa;rpa=trpa;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttlpa=lpa;trpa=rpa;\n\t\t\t}\n\t\t\tres=min(res,lpa+(N+1-rpa));\n\t\t}\n\t\tif(res<=N-4)cout<<res<<endl;\n\t\telse cout<<N<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nstd::vector<std::pair<int, int>> st;\n\nbool solve() {\n    int n;\n    std::cin >> n;\n    if (n == 0) return false;\n\n    std::vector<int> cs(n);\n    for (auto& c : cs) std::cin >> c;\n\n    int ans = n;\n    for (int i = 0; i < n; ++i) {\n        int pc = cs[i];\n\n        for (int nc = 1; nc <= 3; ++nc) {\n            if (i != 0 && nc == pc) continue;\n            cs[i] = nc;\n\n            st.emplace_back(0, 0);\n            for (auto c : cs) {\n                if (st.back().first != c &&\n                    st.back().second >= 4) {\n                    st.pop_back();\n                }\n\n                if (st.back().first == c) {\n                    ++st.back().second;\n                } else {\n                    st.emplace_back(c, 1);\n                }\n            }\n\n            if (st.back().second >= 4) st.pop_back();\n\n            int ret = 0;\n            while (!st.empty()) {\n                ret += st.back().second;\n                st.pop_back();\n            }\n\n            ans = std::min(ans, ret);\n        }\n        cs[i] = pc;\n    }\n\n    std::cout << ans << \"\\n\";\n    return true;\n}\n\nint main() {\n    std::cin.tie(nullptr);\n    std::ios::sync_with_stdio(false);\n\n    while (solve()) {}\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  rep(i,v.size()){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    auto v3 = v2;\n    auto it = v2.begin();\n    ll si = v2.size(),ans = inf,sum;\n    REP(i,1,si){\n      if(v2[i].se == 1){\n        sum = 0;\n        v2[i-1].se++;\n        v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n          if(sum > ans) break;\n        }\n        ans = min(ans,sum);\n        v2 = v3;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n,chr[10000];\nint go(int p,int dir){\n    int cr=chr[p];\n    while(chr[p]==cr){\n        if(dir==-1&&p<0)break;\n        if(dir==1&&p>=n)break;\n        p+=dir;\n    }\n    return p;\n}\nint del(int sp){\n    int u=sp,d=sp;\n    while(chr[u]==chr[d]){\n        int _u=go(u,-1),_d=go(d,1);\n        int dif=u-_u+(_d-d);\n        if(u==d)dif--;\n        if(dif<4)break;\n        u=_u;d=_d;\n        if(u<0||d>=n)break;\n    }\n    int ans=u+1+(n-d);\n    if(d==u)ans--;\n    return ans;\n\n}\nint main(){\n    while(cin>>n,n){\n        for(int i=0;i<n;i++)cin>>chr[i];\n        int Min=10000;\n\n        for(int i=0;i<n;i++){\n            for(int j=1;j<=3;j++){\n                if(chr[i]==j)continue;\n                int k=chr[i];\n                chr[i]=j;\n                Min=min(Min,del(i));\n                chr[i]=k;\n            }\n        }\n        cout<<Min<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <fstream>\n#include <complex>\n#include <stack>\n#include <queue>\n\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> PII;\nstatic const double EPS = 1e-5;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) FOR(i,0,n)\n\nvector<int> a;\nvector<int> b;\nint N;\nint M;\nbool f(){\n  //REP(i,b.size()){cout<<b[i]<<\",\";} cout<<endl;\n  bool ret = false;\n  int first = b[0];\n  int fi = 0;\n  FOR(i,1,b.size()){\n    if(b[i]==first&&i==N-1){\n      if(i-fi>=3){\n        b.erase(b.begin()+fi,b.end());\n        ret = true;\n      }\n    }else if(b[i]!=first){\n      if(i-fi>=4){\n        b.erase(b.begin()+fi,b.begin()+i);\n        ret = true;\n      }\n      first = b[i];\n      fi = i;\n    }\n  }\n  M = min(M,(int)b.size());\n  return ret;\n}\nint main(){\n  while(cin>>N){\n    if(N==0) break;\n    a.clear();\n    REP(i,N){int tmp; cin>>tmp; a.push_back(tmp);}\n    M = a.size();\n    REP(i,N-3){\n      if(a[i+1]==a[i+2]&&a[i+1]==a[i+3]){\n        b = a;\n        b[i] = b[i+1];\n        while(f());\n      }\n    }\n    FOR(i,3,N){\n      if(a[i-3]==a[i-2]&&a[i-3]==a[i-1]){\n        b = a;\n        b[i] = b[i-1];\n        while(f());\n      }\n    }\n    FOR(i,1,N-1){\n      if(a[i-1]==a[i+1]){\n        b = a;\n        b[i] = b[i+1];\n        while(f());\n      }\n    }\n    cout<<M<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(vector<Pair> v)\n{\n\t// 関数を実行するたびに宣言するとメモリが足りなくなるので静的に用意する\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(vector<int> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(vector<Pair> v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tdeque<Block> tmp = stage;\n\tint prev_color = tmp[i].color;\n\tint prev_size = tmp[i].size;\n\n\ttmp[i].color = color;\n\ttmp[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp.insert(tmp.begin()+i+1,b);\n\t}\n\n\tres = min(res,check_stage(tmp));\n\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n\nusing namespace std;\ntypedef pair<int, int> P;\n\nint N;\nvector<P> input;\n\nint simulate(vector<P> v) {\n\tbool f = false;\n\twhile (!f) {\n\t\tf = true;\n\t\tfor (int i = 0; i < v.size() - 1; ) {\n\t\t\tif (v[i].first == v[i + 1].first) {\n\t\t\t\tif (v[i].second + v[i + 1].second >= 4) {\n\t\t\t\t\tv.erase(v.begin() + i), v.erase(v.begin() + i);\n\t\t\t\t\tf = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t}\n\tint res = 0;\n\t\n\tfor (int i = 0; i < v.size(); i++)res += v[i].second;\n\n\treturn res;\n}\n\nint main() {\n\twhile (1) {\n\t\tcin >> N;\n\t\tif (N == 0)break;\n\t\tinput.clear();\n\n\t\tint length = 1;\n\t\tint tama;\n\t\t{\n\t\t\tcin >> tama;\n\t\t}\n\t\tfor (int i = 1; i < N; i++) {\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tif (a == tama)length++;\n\t\t\telse {\n\t\t\t\tinput.push_back(P(tama, length));\n\t\t\t\tlength = 1, tama = a;\n\t\t\t}\n\t\t}\n\t\tinput.push_back(P(tama, length));\n\n\t\tint ans = simulate(input);\n\t\tfor (int i = 1; i < input.size() - 1; i++) {\n\n\t\t\tif (input[i].second == 1 &&\n\t\t\t\tinput[i - 1].first == input[i + 1].first &&\n\t\t\t\tinput[i - 1].second + 1 + input[i + 1].second >= 4) {\n\t\t\t\tauto tmp = input;\n\t\t\t\t\n\t\t\t\ttmp.erase(tmp.begin() + i - 1),\n\t\t\t\t\ttmp.erase(tmp.begin() + i - 1),\n\t\t\t\t\ttmp.erase(tmp.begin() + i - 1);\n\n\t\t\t\tans = min(ans, simulate(tmp));\n\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,number[11000],po[11000],target,R,L,ans,Lastans,but,target1,target2;\nint right(int in);\nint left (int in);\nvoid Rdelete (int in);\nvoid Ldelete (int in);\n\nint main(){\n\n    while(1){\n\n    cin >> n;\n    if(n==0)break;\n    Lastans=n;\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        po[i]=number[i];\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n\n            target=j;\n\n            while(1){\n\n            if(target1!=target2&&but>=1)break;\n            else target=target1;\n\n            R=right(i);\n            L=left(i);\n            if(R+L+1>=4&&but==0){\n                number[i]=0;\n                but++;\n                Rdelete(i);\n                Ldelete(i);\n            }else if(R+L>=4&&but>=1){\n\n                but++;\n                Rdelete(i);\n                Ldelete(i);\n            }\n            else but=0;\n\n            if(but==0)break;\n\n            }\n\n            for(int k=0;k<n;k++){\n                if(number[k]==po[k])ans++;\n                else if(number[k]!=po[k])number[k]=po[k];\n                        }\n                if(ans<Lastans)Lastans=ans;\n\n\n                ans=0;\n\n        }\n    }\n\n    cout << Lastans << endl;\n\n    }\n\n\n    return 0;\n\n}\n\nvoid Rdelete(int in){\n    while(1){\n    in++;\n    if(in==n)break;\n    if(target==number[in])number[in]=0;\n    else if(number[in]==0);\n    else break;\n    }\n}\n\nvoid Ldelete(int in){\n    while(1){\n    in--;\n    if(in==-1)break;\n    if(target==number[in])number[in]=0;\n    else if(number[in]==0);\n    else break;\n    }\n}\n\nint right(int in){\n    int sum=0;\n    while(1){\n    in++;\n    if(in==n)break;\n    if(number[in]==target)sum++;\n    else if(number[in]==0);\n    else {\n        target1=number[in];\n        break;\n        }\n    }\n    return sum;\n}\n\nint left(int in){\n    int sum=0;\n    while(1){\n    in--;\n    if(in==-1)break;\n    if(number[in]==target)sum++;\n    else if(number[in]==0);\n    else {\n        target2=number[in];\n        break;\n        }\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t\n\t\t\t// 色を変えたところで意味のない部分は考えない(悪いけどごり押し) ここから-----\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tif (character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i == N - 1)\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j && character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ----- ここまで\n\t\t\t\n\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k++)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 最初から探索し直す\n\t\t\t\t\tk = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tans = min(ans , (int)search.size());\n\t\t\t// 0なら探索終了\n\t\t\tif (search.empty() == true)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n// #define int long long   // <-----!!!!!!!!!!!!!!!!!!!\n\n#define rep(i,n) for (int i=0;i<(n);i++)\n#define rep2(i,a,b) for (int i=(a);i<(b);i++)\n#define rrep(i,n) for (int i=(n)-1;i>=0;i--)\n#define rrep2(i,a,b) for (int i=(b)-1;i>=(a);i--)\n#define all(a) (a).begin(),(a).end()\n\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef tuple<int, int, int> TUPLE;\ntypedef vector<int> V;\ntypedef vector<V> VV;\ntypedef vector<VV> VVV;\n\nconst int MAX_N = 10000;\n\nint n;\nint a[MAX_N];\n\n// la[i][j] = num of color j \"successive\" in the left of i (excluding i)\nint la[MAX_N][3];\nint ra[MAX_N][3];\n\n// calc num of remnants when change a[s] to c\nint calcNumRem(int s, int c) {\n    if (la[s][c] + 1 + ra[s][c] < 4) {\n        return n;\n    }\n\n    int l = s - la[s][c];\n    int r = s + ra[s][c];\n\n    bool flag = true;\n    while (flag) {\n        flag = false;\n        rep(j, 3) {\n            if (la[l][j] + ra[r][j] >= 4) {\n                l -= la[l][j];\n                r += ra[r][j];\n                flag = true;\n                break;\n            }\n        }\n    }\n\n    return n - (r - l + 1);\n}\n\nvoid init() {\n    rep(i, n) {\n        a[i] = 0;\n        rep(j, 3) la[i][j] = 0, ra[i][j] = 0;\n    }\n}\n\nsigned main() {\n    std::ios::sync_with_stdio(false);\n    std::cin.tie(0);\n\n    while (cin >> n, n) {\n        init();\n\n        rep(i, n) {\n            cin >> a[i];\n            a[i]--;\n        }\n\n        rep2(i, 1, n) {\n            la[i][a[i - 1]] += la[i - 1][a[i - 1]] + 1;\n        }\n\n        rrep(i, n - 1) {\n            ra[i][a[i + 1]] += ra[i + 1][a[i + 1]] + 1;\n        }\n\n        int ans = n;\n        rep(i, n) {\n            rep(j, 3) {\n                ans = min(ans, calcNumRem(i, j));\n            }\n        }\n\n        cout << ans << endl;\n    }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\t/*for(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}*/\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nint chr[10000],N;\nint solve(int n) {\n\tint count=1,check=chr[n];\n\tint i,j;\n\tfor(i=n-1;i>=0;i--)\n\t\tif(chr[i]!=check)break;else count++;\n\tfor(j=n+1;j<N;j++)\n\t\tif(chr[j]!=check)break;else count++;\n\tif(count>=4) {\n\t\tif(i==-1||j==N)return count;\n\t\tif(chr[i]!=chr[j])return count;\n\t\tint add;\n\t\twhile(i>=0&&j<N) {\n\t\t\tadd=0;\n\t\t\tcheck=chr[i];\n\t\t\tfor(i;i>=0;i--)\n\t\t\t\tif(chr[i]!=check)break;else add++;\n\t\t\tfor(j;j<N;j++)\n\t\t\t\tif(chr[j]!=check)break;else add++;\n\t\t\tif(add>=4)count+=add;else break;\n\t\t}\n\t\treturn count;\n\t}else return 0;\n}\nint main() {\n\twhile(scanf(\"%d\",&N),N) {\n\t\tfor(int i=0;i<N;i++)\n\t\t\tscanf(\"%d\",&chr[i]);\n\t\tint res=0,ret,tmp;\n\t\tfor(int i=0;i<N;i++) {\n\t\t\ttmp=chr[i];\n\t\t\tfor(int j=1;j<=3;j++) {\n\t\t\t\tif(tmp==j)continue;\n\t\t\t\tchr[i]=j;\n\t\t\t\tret=solve(i);\n\t\t\t\tif(res<ret)res=ret;\n\t\t\t}\n\t\t\tchr[i]=tmp;\n\t\t}\n\t\tprintf(\"%d\\n\",N-res);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\nint s = 0;\npair<int, int> color[2][10000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[100];\n\nvoid check(int bb, int ss)\n{\n\tlost[1] = lost[0];\n\tint count = 1;\n\tfor (int i = bb; i < n; i++)\n\t{\n\t\tif (color[1][bb].second == color[1][i].second)\n\t\t{\n\t\t\tcolor[1][i].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse if (color[1][bb].second == color[1][i + lost[1]].second)\n\t\t{\n\t\t\tcolor[1][i + lost[1]].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tbb--;\n\n\tif (lost[0] != lost[1])\n\t{\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb - 1].second)\n\t\t\t{\n\t\t\t\tbb--;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb + count + lost[0]].second)\n\t\t\t{\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (count >= 4)\n\t\t{\n\t\t\tcheck(bb, ss);\n\t\t}\n\t}\n\tresult[ss] = min(result[ss], n - lost[0]);\n}\n\nint main()\n{\n\tfor (;; s++)\n\t{\n\t\tcin >> n;\n\n\t\tif (n == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int a = 0; a < 10000; a++)\n\t\t{\n\t\t\tcolor[0][a].first = 1;\n\t\t}\n\n\t\tresult[s] = n;\n\n\t\tfor (int a = 0; a < n; a++)\n\t\t{\n\t\t\tcin >> color[0][a].second;\n\t\t}\n\n\t\tfor (a = 0; a < n-3; a++)\n\t\t{\n\t\t\tlost[0] = 0;\n\t\t\tfor (int t = 0; t < n; t++)\n\t\t\t{\n\t\t\t\tcolor[1][t] = color[0][t];\n\t\t\t}\n\t\t\tfor (; b < n - 3; b++)\n\t\t\t{\n\t\t\t\tif (color[1][b] == color[1][b + 1] && color[1][b + 1] == color[1][b + 2])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 4] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t\telse if (color[1][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 2] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 1] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int t = 0; t < s; t++)\n\t{\n\t\tcout << result[t] << endl;\n\t}\n\n\tgetchar();\n\tgetchar();\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\n\tint n,prevColor,wantColor;\n\tint color[10002];\n\twhile(cin >> n,n){\n\t\tint ret = 0;\n\t\tcolor[0] = -1;\n\t\tcolor[n+1] = -2;\n\t\tfor(int i=0;i<n;i++){\t\n\t\t\tcin >> color[i+1];\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int cColor=1;cColor<=3;cColor++){\n\t\t\t\tif(cColor == color[i])continue;\n\t\t\t\tprevColor = color[i]; color[i] = cColor;\n\t\t\t\t\n\t\t\t\tint get = 0;\n\t\t\t\t\n\t\t\t\tint right = i , left = i;\n\t\t\t\tbool first = true;\n\t\t\t\twhile(color[right] == color[left]){\n\t\t\t\t\twantColor = color[right];\n\t\t\t\t\tint count = (first?-1:0); // <- ?\n\t\t\t\t\tfirst = false;\n\t\t\t\t\tbool leftStop = true , rightStop = true;\n\t\t\t\t\twhile(leftStop || rightStop){\n\t\t\t\t\t\tif(rightStop && color[right] == wantColor){\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\tright++;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\trightStop = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(leftStop && color[left] == wantColor){\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\tleft--;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tleftStop = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(count < 4)break; // <- ?\n\t\t\t\t\tget += count;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(get >= 4){\n\t\t\t\t\tret = max(ret,get); // <- ?\n\t\t\t\t}\n\t\t\t\tcolor[i] = prevColor;\n\t\t\t}\n\t\t}\n\t\tcout << n-ret << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color][1]; i <= bound[num][color][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color][1] - 1] == A[bound[num][color][0] + 1]) {\n\t\t\tres += solve(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t}\n\t\telse {\n\t\t\tint tmp = 0;\n\t\t\ttmp += how_same(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t\ttmp += how_same(bound[num][color][1] - 1, A[bound[num][color][1] - 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t}\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tmemset(bound, 0, sizeof(bound));\n\t\tans = INF;\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\t// printf(\"%d\", ans);\n\t\t\t\t\t// printf(\"(%d,%d)\\n\", i + 1, j);\n\t\t\t\t\tfor (int k = 0; k < N; ++k) {\n\t\t\t\t\t\t// printf(\"%d\", A[k]);\n\t\t\t\t\t\tA[k] = memo_A[k];\n\t\t\t\t\t}\n\t\t\t\t\t// printf(\"\\n----------\\n\");\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nbool ignore[N];\nint chain[N];\n\nvoid clear_ignore()\n{\n    fill( ignore, ignore + N, false );\n}\n\nvoid clear()\n{\n    fill( chain, chain + N, 0 );\n    clear_ignore();\n}\n\n\nint del( int const num, int const befig )\n{\n    int ignum = 0;\n    int begin = 0, count = 0, last = chain[0];\n    for( int i=0; i<=num; ++i ) {\n        if ( i < num && ignore[i] )\n            continue;\n        int const cur = ( i < num ) ? chain[i] : -1;\n        if ( cur == last ) {\n            ++count;\n        } else {\n            if ( ( i - begin ) >= ( 4 + befig ) ) {\n                for( int ii=begin; ii<i; ++ii ) {\n                    if ( !ignore[ii] ) {\n                        ignore[ii] = true;\n                        ++ignum;\n                    }\n                }\n            }\n            begin = i;\n            count = 0;\n            last = chain[i];\n        }\n        if ( i == num )\n            break;\n    }\n    if ( ignum == 0 )\n        return 0;\n\n    while( int const p = del( num, befig + ignum ) )\n        ignum += p;\n    \n    return ignum;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        int max_n = N;\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                clear_ignore();\n                chain[i] = ii;\n                \n                if ( i > 1 && chain[i-1] != chain[i] )\n                    continue;\n                if ( i < n-1 && chain[i] != chain[i+1] )\n                    continue;\n\n                int const num = n - del( n, 0 );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n\nvector<int>v;\n\nint main() {\n\tint n;\n\twhile (cin >> n, n) {\n\t\tv.clear();\n\t\tv.push_back(10);\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tv.push_back(a);\n\t\t}\n\t\tv.push_back(10);\n\n\t\tint ans = 1e7;\n\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tint sk = i, ek = i;//erased kukan\n\t\t\tint lp = 0;\n\t\t\twhile (1) {\n\t\t\t\tint l = 0, r = 0;\n\t\t\t\tfor (int j = ek+1; j < v.size(); j++) {\n\t\t\t\t\tif (v[j] != v[ek-1])break;\n\t\t\t\t\tr++;\n\t\t\t\t}\n\t\t\t\tfor (int j = sk - 1; j > -1; j--) {\n\t\t\t\t\tif (v[j] != v[sk+1])break;\n\t\t\t\t\tl++;\n\t\t\t\t}\n\t\t\t\tint cs = 4;\n\t\t\t\tif (!lp)cs--;\n\n\t\t\t\tif (l + r >= cs) {\n\t\t\t\t\tsk -= l;\n\t\t\t\t\tek += r;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t\tlp++;\n\t\t\t}\n\t\t\tans = min(ans, n -( ek - sk));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <algorithm>\n#include <functional>\n#include <vector>\n#include <utility>\n#include <cstring>\n#include <iomanip>\n#include <numeric>\n#include <cmath>\nusing namespace std;\ntypedef long long ll;\nconst int INF = 1<<30;\nconst int MOD = 1e9 + 7;\nint calc(vector<int> &color, int pos)\n{\n    int c = color[pos];\n    int res = 0, left = pos, right = pos + 1;\n    int cnt;\n    while(true)\n    {\n        cnt = 0;\n        while(left >= 0)\n        {\n            if(color[left] != c) break;\n            left--;\n            cnt++;\n        }\n        while(right < color.size())\n        {\n            if(color[right] != c) break;\n            right++;\n            cnt++;\n        }\n        if(cnt < 4) break;\n        res += cnt;\n        if(color[left] != color[right]) break;\n        c = color[left];\n    }\n    return res;\n}\nint solve(vector<int> &color, const int n)\n{\n    int res = 0;\n    for(int i = 1; i <= n; i++)\n    {\n        for(int c = 1; c <= 3; c++)\n        {\n            if(color[i] == c) continue;\n            int tmp = color[i];\n            color[i] = c;\n            res = max(res, calc(color, i));\n            color[i] = tmp;\n        }\n    }\n    return n - res;\n}\nint main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    int n;\n    while(cin >> n, n)\n    {\n        vector<int> color(n);\n        for(int i = 0; i < n; i++) cin >> color[i];\n        cout << solve(color, n) << endl;\n    }\n    return 0;\n}\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\t/*for(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t}*/\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1000000000\nusing namespace std;\n\nint ary[10010];\nint main(){\n\tint N,res;\n\twhile(true){\n\t\tcin>>N;\n\t\tif(N==0) break;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tcin>>ary[i];\n\t\t}\n\t\tary[0]=0;ary[N+1]=4;\n\n\t\tres=INF;\n\t\tint cnt;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tint lpa=i-1,tlpa=i-1,rpa=i+1,trpa=i+1;\n\t\t\twhile(ary[lpa]==ary[rpa]){\n\t\t\t\twhile(lpa>0&&ary[lpa]==ary[lpa-1])lpa--;\n\t\t\t\twhile(rpa<N+1&&ary[rpa]==ary[rpa+1])rpa++;\n\t\t\t\tlpa=max(0,lpa-1);rpa=min(N+1,rpa+1);\n\t\t\t\tif((tlpa-lpa)+(rpa-trpa)<4){\n\t\t\t\t\tlpa=tlpa;rpa=trpa;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttlpa=lpa;trpa=rpa;\n\t\t\t}\n\t\t\tres=min(res,lpa+(N+1-rpa));\n\t\t}\n\t\tif(res<=N-4)cout<<res<<endl;\n\t\telse cout<<N<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <climits>\n#include <algorithm>\nusing namespace std;\nint changecolour(char *c, int N, int pos, int colour){\n\tchar *d = (char *)malloc(sizeof(char) * N);\n\tfor(int i = 0; i < N; i++)\n\t\td[i] = c [i];\n\td[pos] = colour;\n\n\tbool changed = true;\n\twhile(changed){\n\t\tint last = 0, cnt = 1;\n\t\tchanged = false;\n\t\tfor(int i = 0; i <= N; i++){\n\t\t\tif(last == (i != N ? d[i] : 0)){\n\t\t\t\tcnt++;\n\t\t\t}else{\n\t\t\t\tif(cnt > 3){\n\t\t\t\t\tfor(int j = i - cnt; j < N - cnt; j++){\n\t\t\t\t\t\td[j] = d[j + cnt];\n\t\t\t\t\t}\n\t\t\t\t\tN -= cnt;\n\t\t\t\t\tchanged = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlast = d[i];\n\t\t\t\tcnt = 1;\n\t\t\t}\n\t\t}\n\t}\n\tfree(d);\n\treturn N;\n}\ninline char shouldchange(int x, char *c, int N){\n\t// There are following patterns which should  be changed:\n\t/* x??? */ if((N - x - 1) >= 3) if(c[x + 1] == c[x + 2] && c[x + 1] == c[x + 3]) return c[x + 1];\n\t/* ?x?? */ if((N - x - 1) >= 2 && (x >= 1)) if(c[x - 1] == c[x + 1] && c[x - 1] == c[x + 2]) return c[x - 1];\n\t/* ??x? */ if((N - x - 1) >= 1 && (x >= 2)) if(c[x - 2] == c[x - 1] && c[x - 2] == c[x + 1]) return c[x - 2];\n\t/* ???x */ if(x >= 3) if(c[x - 3] == c[x - 2] && c[x - 3] == c[x - 1]) return c[x - 3];\n\treturn 0;\n\t\n}\nint main()\n{\n\tint N;\n\twhile(scanf(\"%d\\n\", &N), N){\n\t\tint M = N;\n\t\tchar c[10000];\n\t\tfor(int i = 0; i < N; i++)\n\t\t\tscanf(\"%hhd\\n\", &c[i]);\n\t\tif(N > 3){\n\t\t\tfor(int i = 0, colour = 0; i < N; i++)\n\t\t\t\tif((colour = shouldchange(i, c, N)) != 0)\n\t\t\t\t\tM = min(M, changecolour(c, N, i, colour));\n\n\t\t}\n\t\tprintf(\"%d\\n\", M);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntypedef long long int ll;\nint n,a[10000];\n\nint main()\n{\n\tfor(;;){\n\tint x=0;\n\tcin >> n;\n\tif(n==0)return 0;\n\tint pro=n;\n\tfor(int i=0;i<n;i++)cin >> a[i];\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t     if(a[i]!=j){\n\t     int u=a[i];\n\t     a[i]=j;\n\t     int ans=0;\n\t     int p=i;\n\t     int q=i;\n\t     int s=1;\n\t     while(p>0||q<n-1){\n\t\t     while(p>0&&a[p]==a[p-1])p--,s++;\n\t\t     while(q<n-1&&a[q]==a[q+1])q++,s++;\n\t\t     if(s>=4){\n\t\t\t     ans+=s;\n\t\t\t     if(a[--p]!=a[++q])break;\n\t\t\t     s=2;\n\t\t\t     continue;\n\t\t     }\n\t\t         break;\n             }\n\t\t     \n\t         pro=min(pro,n-ans);\n\t\t\t a[i]=u;\n\t\t\t }\n\t\t }\n\t}\n\tprintf(\"%d\\n\",pro);\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint n, a[10000];\n\nint po(int l)\n{\n  int r = l + 1;\n  int cnt = n;\n  while (1){\n    int c = a[l], d = 0;\n    while (a[l] == c && l >= 0){\n      l--;\n      d++;\n    }\n    while (a[r] == c && r < n){\n      r++;\n      d++;\n    }\n\n    if (d < 4) return cnt;\n    cnt -= d;\n  }\n}\n\nint main()\n{\n  while (cin >> n, n) {\n    for (int i = 0; i < n; i++){\n      cin >> a[i];\n    }\n\n    int ans = 1e9;\n    for (int i = 0; i < n; i++){\n      for (int j = 1; j <= 3; j++){\n        swap(j, a[i]);\n        ans = min(ans, po(i));\n        swap(j, a[i]);\n      }\n    }\n\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <vector>\n#include <array>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <cmath>\n#include <map>\n#include <set>\n\n#define INF_LL 9000000000000000000\n#define INF 2000000000\n\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> PII;\n\nclass Union_find{\nprivate:\n\tvector<int> par;\n\tvector<int> rank;\n\tint n;\n\npublic:\n\tUnion_find(int a){\n\t\tn = a;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\trank.push_back(0);\n\t\t}\n\t}\n\n\tint find(int x){\n\t\tif(par[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn par[x] = find(par[x]);\n\t\t}\n\t}\n\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y) return;\n\n\t\tif(rank[x] < rank[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t}\n\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n\nint chain[10002];\n\nint no(int idx){\n\tint c = 1;\n\tint p = idx - 1;\n\tint q = idx + 1;\n\tint res = 0;\n\twhile(chain[p] == chain[idx]){\n\t\tp--;\n\t\tc++;\n\t}\n\twhile(chain[q] == chain[idx]){\n\t\tq++;\n\t\tc++;\n\t}\n\twhile(c >= 4){\n\t\tres += c;\n\t\tc = 0;\n\t\tif(chain[q] != chain[p]) return res;\n\t\tif(chain[q] == chain[p] && chain[p] == -1) return res;\n\n\t\tint org = chain[p];\n\t\twhile(chain[p] == org){\n\t\t\tp--;\n\t\t\tc++;\n\t\t}\n\t\twhile(chain[q] == org){\n\t\t\tq++;\n\t\t\tc++;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint N;\n\tint res = 0;\n\tfill(chain, chain+10002, -1);\n\twhile(cin >> N && N){\n\t\tREP(i, N){\n\t\t\tcin >> chain[i+1];\n\t\t\tchain[i+1]--;\n\t\t}\n\t\tREP(i, N){\n\t\t\tREP(j, 3){\n\t\t\t\tint tmp = chain[i+1];\n\t\t\t\tchain[i+1] = j;\n\t\t\t\tres = max(res, no(i+1));\n\t\t\t\tchain[i+1] = tmp;\n\t\t\t}\n\t\t}\n\t\tcout << N-res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    int pre = 0, cnt = 0, in, size = 0, ans = 100000;\n    vector<P> data;\n    data.push_back(P(0, 0));\n    for(int i=0;i<n;i++){\n      cin >> in;\n      if(in != pre){\n        data.push_back(P(pre, cnt));\n        size += cnt;\n        cnt = 0;\n      }\n      pre = in;\n      cnt++;\n    }\n    if(n < 4){\n      cout << n << endl;\n      continue;\n    }\n    data.push_back(P(pre, cnt));\n    data.push_back(P(0, 0));\n    size += cnt;\n    for(int i=0;i<data.size();i++){\n      int l = i-1, r = i+1, rem = size;\n      bool f = true;\n      while(0<=l&&l<data.size()&&0<=r&&r<data.size()){\n        if(data[l].first != data[r].first && data[l].first && data[r].first) break;\n        int sum = data[l].second + data[r].second;\n        if(f) sum++;\n        if(sum < 4) break;\n        rem -= sum;\n        l--;\n        r++;\n        f = false;\n      }\n      ans = min(ans, rem);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n    res = 0;\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\ti--;\n\tupdate = true;\n      }\n    }\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n  for(int i=0,j=0;j<a.size();){\n    if(a[j]==a[j+1])j++;\n    else {\n      if(j-i>2){\n\ta.erase(a.begin()+i,a.begin()+j+1);\n\ti=j=0;\n      }\n      else j++,i=j;\n    }\n  }\n  return a.size();\n}\n\nint main(void){\n  int n,m;\n  vector<int>a;\n\n  while(cin >> n,n){\n    a.clear();\n    for(int i=0;i<n;i++){\n      cin >> m;\n      a.push_back(m);\n    }\n\n    int ans=100000000;\n    for(int i=0;i<a.size();i++){\n      int temp=a[i];\n      for(int j=1;j<4;j++){\n\tif(temp!=j){\n\t  a[i]=j;\n\t  ans=min(ans,Erase(a));\n\t}\n      }\n      a[i]=temp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <string>\n#include <vector>\n#include <sstream>\n#include <iostream>\n#include <algorithm>\n#include <map>\n#include <list>\n#include <set>\n#include <numeric>\n#include <queue>\n#include <stack>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <cstring>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <complex>\n#include <cassert>\n#include <iomanip>\n#include <tuple>\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int,int> P;\n\nvoid exec() {\n\tvector<int> col;\n\tvector<int> num;\n\tcol.push_back(-1);\n\tnum.push_back(0);\n\tint n;\n\tcin >> n;\n\tif(n==0)exit(0);\n\tfor(int i=0;i<n;i++){\n\t\tint v;\n\t\tcin >> v;\n\t\tif(col.back()==v){\n\t\t\tnum.back()++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcol.push_back(v);\n\t\t\tnum.push_back(1);\n\t\t}\n\t}\n\tcol.push_back(-2);\n\tnum.push_back(0);\n\tint ret=0;\n\tfor(int i=1;i<col.size()-1;i++){\n\t\tif(num[i]==1){\n\t\t\tfor(int k=1;k<=3;k++){\n\t\t\t\tint i0=i-1,i1=i+1;\n\t\t\t\tint m=1;\n\t\t\t\tif(col[i-1]==k){\n\t\t\t\t\tm+=num[i-1];\n\t\t\t\t\ti0=i-2;\n\t\t\t\t}\n\t\t\t\tif(col[i+1]==k){\n\t\t\t\t\tm+=num[i+1];\n\t\t\t\t\ti1=i+2;\n\t\t\t\t}\n\t\t\t\tif(m>=4){\n\t\t\t\t\twhile(col[i0]==col[i1]){\n\t\t\t\t\t\tm+=num[i0]+num[i1];\n\t\t\t\t\t\ti0--;\n\t\t\t\t\t\ti1++;\n\t\t\t\t\t}\n\t\t\t\t\tret=max(ret,m);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(num[i-1]==3)\n\t\t\t{\n\t\t\t\tint m=4;\n\t\t\t\tif(col[i-2]==col[i]){\n\t\t\t\t\tm+=num[i-2]+num[i]-1;\n\t\t\t\t\tint i0=i-3;\n\t\t\t\t\tint i1=i+1;\n\t\t\t\t\twhile(col[i0]==col[i1]){\n\t\t\t\t\t\tm+=num[i0]+num[i1];\n\t\t\t\t\t\ti0--;\n\t\t\t\t\t\ti1++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tret=max(ret,m);\n\t\t\t}\n\t\t\tif(num[i+1]==3){\n\t\t\t\tint m=4;\n\t\t\t\tif(col[i]==col[i+2]){\n\t\t\t\t\tm+=num[i]-1+num[i+2];\n\t\t\t\t\tint i0=i-1;\n\t\t\t\t\tint i1=i+3;\n\t\t\t\t\twhile(col[i0]==col[i1]){\n\t\t\t\t\t\tm+=num[i0]+num[i1];\n\t\t\t\t\t\ti0--;\n\t\t\t\t\t\ti1++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tret=max(ret,m);\n\t\t\t}\n\t\t}\n\t}\n\tcout << n-ret << endl;\n}\nint main(){\n\twhile(1)exec();\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 10001\nint arr[MAX+2],N;\n\nint solve(int p){\n  int lp = p, rp = p+1;\n\n  while(true){\n    if(lp <= 0 || rp >= N+1) break;\n    int color = arr[lp],l,r;\n    for(l = lp ; arr[l] == color ; l--){\n      if(l <= 0) break; \n    }\n    for(r = rp ; arr[r] == color ; r++){\n      if(r >= MAX+1) break;\n    }\n    if(l <= 0 || r >= N+1) return MAX; \n    if((r-rp)+(lp-l) < 4) break;\n    lp = l, rp = r;\n  }\n  return N - rp + lp + 1;\n}\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 1 ; i <= N ; i++){\n      cin >> arr[i]; arr[i]--;\n    }\n\n    int ans = MAX;\n    for(int i = 1 ; i <= N ; i++){\n      int tmp = arr[i];\n      for(int j = 0 ; j < 3 ; j++){\n        if(j == arr[i]) continue;\n        arr[i] = j;\n        ans = min(ans,solve(i));        \n      }\n      arr[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\n\n//#define int long long\n#define DBG 1\n#define dump(o) if(DBG){cerr<<#o<<\" \"<<(o)<<\" \";}\n#define dumpl(o) if(DBG){cerr<<#o<<\" \"<<(o)<<endl;}\n#define dumpc(o) if(DBG){cerr<<#o; for(auto &e:(o))cerr<<\" \"<<e;cerr<<endl;}\n#define rep(i,a,b) for(int i=(a);i<(b);i++)\n#define rrep(i,a,b) for(int i=(b)-1;i>=(a);i--)\n#define all(c) begin(c),end(c)\nconst int INF = sizeof(int) == sizeof(long long) ? 0x3f3f3f3f3f3f3f3fLL : 0x3f3f3f3f;\nconst int MOD = (int)(1e9 + 7);\ntemplate<class T> bool chmax(T &a, const T &b) { if (a < b) { a = b; return true; } return false; }\ntemplate<class T> bool chmin(T &a, const T &b) { if (a > b) { a = b; return true; } return false; }\nint N;\nbool inrange(int i) { return 0 <= i&&i < N; }\n\nsigned main() {\n\tfor (; cin >> N&&N;) {\n\t\tvector<int> v(N); rep(i, 0, N) { cin >> v[i]; }\n\t\tint ans = INF;\n\t\trep(i, 0, N)rep(j, 1, 4) {\n\t\t\tint tmp = N;\n\t\t\tint l = i - 1, r = i + 1;\n\t\t\tint color = j;\n\t\t\tint cnt = 1;\n\t\t\twhile (true) {\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (!inrange(l))break;\n\t\t\t\t\tif (v[l] != color)break;\n\t\t\t\t\tl++, cnt++;\n\t\t\t\t}\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (!inrange(r))break;\n\t\t\t\t\tif (v[r] != color)break;\n\t\t\t\t\tr++, cnt++;\n\t\t\t\t}\n\t\t\t\tif (cnt >= 4) {\n\t\t\t\t\ttmp -= cnt;\n\t\t\t\t\tcnt = 0;\n\t\t\t\t\tcolor = v[l];\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tchmin(ans, tmp);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nconst int MAX = 10001;\n\nint N, ans, num[MAX];\nshort data[MAX],cop[MAX];\n\nvoid Copy(int pos, int col){\n  \n  for(int i = 0; i < N; i++)\n    cop[i] = data[i];\n\n  cop[pos] = col;\n\n}\n\nvoid del(int pos, int number,int rev){\n\n  for(int i = pos+1; i <= rev; i++)\n    cop[i-number] = cop[i];\n\n  fill(&cop[rev-number],&cop[rev],0);\n}\n\nvoid play(){\n  while(1){\n    int rev = 0;\n    fill(num,num+MAX,1);\n\n    int pos, maxnum = 0;\n\n    for(int i = 0; cop[i] != 0; i++,rev++){\n      if(i && cop[i] == cop[i-1]) num[i] = num[i-1]+1;\n      if(maxnum < num[i]){\n\tpos = i;\n\tmaxnum = num[i];\n      }\n    }\n    if(maxnum >= 4){\n      del(pos,maxnum,rev);\n    }else{\n      ans = min(ans,rev);\n      break;\n    }\n   \n    /*   bool flg = true;\n\n    for(int i = rev-1; i >= 0; i--)\n      if(num[i] >= 4){\n\tdel(i,num[i],rev);\n\tflg = false;\n\tbreak;\n      }\n\n    if(flg){\n      ans = min(ans,rev);\n      break;\n    }\n    */\n  }\n}\n\nvoid solve(){\n  \n  for(int i = 0; i < N; i++)\n    for(int j = 1; j <= 3; j++)\n      if(data[i] != j){\n\tCopy(i,j);\n\tplay();\n      }\n}\n\nvoid init(){\n\n  fill(data,data+MAX,0);\n  fill(num,num+MAX,1);\n  fill(cop,cop+MAX,0);\n  ans = MAX;\n\n}\n\nint main(){\n  while(cin >> N && N){\n    init();\n    for(int i = 0; i < N; i++)\n      cin >> data[i];\n  \n    solve();\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    int pre = 0, cnt = 0, in, size = 0, ans = 100000;\n    vector<P> data;\n    data.push_back(P(0, 0));\n    for(int i=0;i<n;i++){\n      cin >> in;\n      if(in != pre){\n        data.push_back(P(pre, cnt));\n        size += cnt;\n        cnt = 0;\n      }\n      pre = in;\n      cnt++;\n    }\n    data.push_back(P(pre, cnt));\n    data.push_back(P(0, 0));\n    size += cnt;\n    for(int i=0;i<data.size();i++){\n      int l = i-1, r = i+1, rem = size;\n      bool f = true;\n      while(0<=l&&l<data.size()&&0<=r&&r<data.size()){\n        if(data[l].first != data[r].first && data[l].first && data[r].first) break;\n        int sum = data[l].second + data[r].second;\n        if(f) sum++;\n        if(sum < 4) break;\n        rem -= sum;\n        l--;\n        r++;\n        f = false;\n      }\n      ans = min(ans, rem);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 200000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define EQ(a,b) (abs((a)-(b))<EPS)\nvi puyopuyo;\nint main()\n{\n\twhile(1)\n\t{\n\t\tpuyopuyo.clear();\n\t\tint n;\n\t\tcin >> n;\n\t\tint ans=n;\n\t\tif(n==0)break;\n\t\tpuyopuyo.pb(-1);\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint k;\n\t\t\tcin >> k;\n\t\t\tpuyopuyo.pb(k);\n\t\t}\n\t\tpuyopuyo.pb(-12);\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tint tmp=puyopuyo[i];\n\t\t\tint top=i+1;\n\t\t\tint under=i;\n\t\t\tint res=n;\n\t\t\tpuyopuyo[under]=puyopuyo[top];\n\t\t\twhile(puyopuyo[under]==puyopuyo[top])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(tmp2==puyopuyo[under])\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\ttop=i;\n\t\t\tunder=i-1;\n\t\t\tres=n;\n\t\t\tpuyopuyo[top]=puyopuyo[under];\n\t\t\twhile(puyopuyo[top]==puyopuyo[under])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(puyopuyo[under]==tmp2)\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n                        puyopuyo[i]=tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint calc(vector<int> a){\n  a.push_back(-1);  \n\n  while(1){\n    int s=0,t=0;\n    for(int i=1;i<(int)a.size();i++)\n      if(a[i]!=a[i-1]){\n\tif(i-s>=4){t=i;break;}\n\ts=i;\n      }\n    if(t-s<4)break;\n    a.erase(a.begin()+s,a.begin()+t);\n  }\n  return a.size()-1;\n}\n\nint main(){\n  int n;\n  vector <int> a;\n  while(cin>>n,n){\n    a.resize(n);\n    for(int i=0;i<n;i++) cin>>a[i];\n    int ans=a.size();\n\n    for(int i=0;i<(int)a.size();i++)\n      for(int j=1;j<=3;j++)\n\tif(a[i]!=j){\n\t  int tmp=a[i];\n\t  a[i]=j;\n\t  ans=min(ans,calc(a));\n\t  a[i]=tmp;\n\t}\n    cout << ans<<endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<pair<int,int>> tougou(vector<pair<int,int>> x){\n\tint siz=x.size();\n\tpair<int,int> p;\n\tif(siz!=0)p=x[0];\n\tvector<pair<int,int>> ans;\n\tfor(int i=1;i<siz;i++){\n\t\tif(p.first!=x[i].first){\n\t\t\tans.push_back(p);\n\t\t\tp=x[i];\n\t\t}\n\t\telse {\n\t\t\tp.second+=x[i].second;\n\t\t}\n\t}\n\tans.push_back(p);\n\treturn ans;\n}\n\nint solve(vector<pair<int,int>> x){\n\tvector<pair<int,int>> vp;\n\tint siz=x.size();\n\tbool update;\n\tfor(;;){\n\t\tupdate=false;\n\t\tfor(int i=0;i<siz;i++){\n\t\t\tif(x[i].second<4){\n\t\t\t\tvp.push_back(x[i]);\n\t\t\t}\n\t\t\telse update=true;\n\t\t}\n\t\tif(!update)break;\n\t\tx=tougou(vp);\n\t\tsiz=x.size();\n\t\tvp.clear();\n\t}\n\t//if(update)return solve(tougou(vp));\n\tsiz=vp.size();\n\tint ans=0;\n\tfor(int i=0;i<siz;i++){\n\t\tans+=vp[i].second;\n\t}\n\treturn ans;\n}\n\nint main(){\nwhile(1){\n\tint n,a,ans=100000;\n\tpair<int,int> p;\n\tp.second=1;\n\tvector<pair<int,int>> vp;\n\tscanf(\"%d\",&n);\n\tif(n==0)break;\n\tans=n;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&p.first);\n\t\tvp.push_back(p);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tint sav=vp[i].first;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tbool c=false;\n\t\t\tif(i>=3)if(vp[i-3].first==vp[i-2].first&&vp[i-2].first==vp[i-1].first&&vp[i-1].first==j)c=true;\n\t\t\tif(i>=2)if(vp[i+1].first==vp[i-2].first&&vp[i-2].first==vp[i-1].first&&vp[i-1].first==j)c=true;\n\t\t\tif(i>=1)if(vp[i+1].first==vp[i+2].first&&vp[i+2].first==vp[i-1].first&&vp[i-1].first==j)c=true;\n\t\t\tif(vp[i+1].first==vp[i+2].first&&vp[i+2].first==vp[i+3].first&&vp[i+3].first==j)c=true;\n\t\t\tif(c){\n\t\t\t\tvp[i].first=j;\n\t\t\t\tint an=solve(tougou(vp));\n\t\t\t\tif(an<ans)ans=an;\n\t\t\t}\n\t\t}\n\t\tvp[i].first=sav;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n\nusing namespace std;\n\nint n;\n\nint search(int num, int a[20000]){\n\tint ref = a[num];\n\tint ans = 0;\n\tfor(int i = 1; i <= 3; i++){\n\t\ta[num] = i;\n\t\tint ind1 = num;\n\t\tint ind2 = num;\n\t\tint ind1_p = ind1;\n\t\tint ind2_p = ind2;\n\t\twhile(true){\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(a[ind1] != a[ind2]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint cnt = 2;\n\t\t\tif(ind1 == ind2){\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\twhile(ind1 > 0 && a[ind1] == a[ind1 - 1]){\n\t\t\t\tind1--;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\twhile(ind2 < n - 1 && a[ind2] == a[ind2 + 1]){\n\t\t\t\tind2++;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(cnt < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tind1_p = ind1;\n\t\t\tind2_p = ind2;\n\t\t\tind1--;\n\t\t\tind2++;\n\t\t}\n\t\t//cout << num << \" \" << i << \" \" << ind1_p << \" \" << ind2_p << endl;\n\t\tans = max(ans, ind2_p - ind1_p + 1);\n\t}\n\ta[num] = ref;\n\tif(ans < 4){\n\t\tans = 0;\n\t}\n\treturn ans;\n}\n\nint main(){\n\t\n\tint a[20000];\n\t\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tans = max(ans, search(i, a));\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nint chain(int idx,int col);\nint model[101];\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = n;\n      memset(model,0,sizeof(model));\n      for(int i = 0;i < n;i++){\n         scanf(\"%d\",&model[i]);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return n;\n   int c[102];\n   int f[102] = {0};\n   for(int i = 0;i < n;i++){\n      if(idx == i)\n         c[i] = col;\n      else c[i] = model[i];\n   }\n   c[n] = 100;\n\n   while(1){\n      int flag = 0;\n      int curr = c[0],cnt = 1;\n      for(int i = 1;i <= n;i++){\n         if(c[i] == 0) continue;\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 1;\n               for(int j = 0;j < cnt;j++){\n                  if(f[i-1-j] == 1) cnt++;\n                  f[i-1-j] = 1;\n                  c[i-1-j] = 0;\n               }\n               break;\n            }\n            cnt = 1;\n         }\n      }\n      if(flag == 0) break;\n   }\n\n   int cnt = 0;\n   for(int i = 0;i < n;i++){\n      if(f[i] == 0) cnt++;\n   }\n   return cnt;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint N;\nvector<int> G;\n\nint erase() {\n  int res = N;\n  bool update = true;\n  do {\n    bool f = G[5] == 2;\n    update = false;\n    for(int i = 0, k = 0; i <= N; ++i) {\n      if(i == N || i && G[i] != G[i-1]) {\n        if(k >= 4 && G[i-1]) {\n          update = true;\n          int ni = i;\n          while(k--) {\n            G[--ni] = 0;\n            --res;\n          }\n        }\n        k = 1;\n      } else {\n        ++k;\n      }\n    }\n    for(int i = N - 1, j = N - 1; i >= 0; --i) {\n      if(G[i] != 0) {\n        int tmp = G[i];\n        G[i] = 0;\n        G[j--] = tmp;\n      }\n    }\n  } while(update);\n  return res;\n}\n\nint main() {\n  while(cin >> N && N) {\n    G.resize(N);\n    for(int i = 0; i < N; ++i) {\n      cin >> G[i];\n    }\n    int res = N;\n    for(int i = 0; i < N; ++i) {\n      for(int j = 1; j <= 3; ++j) {\n        vector<int> tmp = G;\n        G[i] = j;\n        res = min(res, erase());\n        G = tmp;\n      }\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ZERO(a) memset(a,0,sizeof(a))\n\nint n;\nint a[100010];\n\nbool is_inRange(int x) {\n    return (0<=x and x<=n+2);\n}\n\nint calc(int p, int c) {\n    int l = p, r = p;\n\n    int cnt = 1;\n    bool deleted = false;\n    while(is_inRange(l-1) or is_inRange(r+1) or a[l-1]==c or a[r+1]==c) {\n        int c1=0, c2=0;\n        while(a[l-1]==c) l--, c1++;\n        while(a[r+1]==c) r++, c2++;\n        if(p==4) {\n            //cout<<l<<\" \"<<r<<endl;\n            //cout<<c1+c2<<endl;\n        }\n        if(c1+c2+1 < 4) break;\n        cnt += c1 + c2;\n        deleted = true;\n        c = a[l-1];\n        if(c == 0 or a[r+1]==0) break;\n    }\n\n    return cnt * deleted;\n}\n\nint main() {\n    while(cin>>n && n) {\n        ZERO(a);\n        FOR(i,1,n+1) scanf(\"%d\",&a[i]); // 1-indexed\n\n        int mx = -1;\n        FOR(pos, 1, n+1) {\n            int nc = a[pos];\n            FOR(color, 1, 4) {\n                if(color == nc) continue;\n                int cnt = calc(pos, color);\n                \n                mx = max(mx, cnt);\n            }\n        }\n\n        printf(\"%d\\n\", n - mx);\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nint rensa(int ue,int sita,int count);\nint n,s[10000];\nint list[10000],color[10000];\nint main(){\n\tint i,j;\n\tint maxcount[200]={0};\n\tint mcor = 0;\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tfor(i=0;i<n;i++)cin>>s[i];\n\t\tint lcsle,t,count;\n\t\tlcsle=0;\n\t\tfor(i=0;i<n;){\n\t\t\tt=s[i];\n\t\t\tcount=1;\n\t\t\tfor(i++;s[i]==t;i++)count++;\n\t\t\tlist[lcsle]=count;\n\t\t\tcolor[lcsle]=t;\n\t\t\tlcsle++;\n\t\t}\n\t\t//探索開始(配列の上書きは極力行わない)\t\n\t\tmaxcount[mcor] = 0;\n\t\tfor(i=0;i<lcsle;i++){\n\t\t\tif(list[i]==1){\n\t\t\t\tt = color[i];\n\t\t\t\tfor(j=1;j<4;j++){\n\t\t\t\t\tcount=0;\n\t\t\t\t\tcolor[i]=j;\n\t\t\t\t\tif(i>0 && i<lcsle-1 && color[i-1]==color[i] \n\t\t\t\t\t&& color[i] == color[i+1]){\n\t\t\t\t\t\tcount=list[i-1]+list[i]+list[i+1];\n\t\t\t\t\tif(count>=4)\n\t\t\t\t\t\tcount=rensa(i-2,i+2,count);\n\t\t\t\t\t}\n\t\t\t\t\telse if(i>0 && color[i-1]==color[i]){\n\t\t\t\t\t\tcount=list[i-1]+list[i];\n\t\t\t\t\tif(count>=4)\n\t\t\t\t\t\tcount=rensa(i-2,i+1,count);\n\t\t\t\t\t}\n\t\t\t\t\telse if(i<lcsle-1 && color[i]==color[i+1]){\n\t\t\t\t\t\tcount=list[i]+list[i+1];\n\t\t\t\t\t\tif(count>=4)\n\t\t\t\t\t\t\tcount=rensa(i-1,i+2,count);\n\t\t\t\t\t}\n\t\t\t\t\tif(count>maxcount[mcor]&&count>=4)\n\t\t\t\t\t\tmaxcount[mcor]=count;\n\t\t\t\t}\n\t\t\t\tcolor[i]=t;\n\t\t\t}\n\t\t\t//上を消すか下を消すかで変わる\n\t\t\telse{\n\t\t\t\tcount=0;\n\t\t\t\tif(i>0&&list[i-1]==3){\n\t\t\t\t\tlist[i]--;\n\t\t\t\t\tcount = rensa(i-2,i,4);\n\t\t\t\t\tlist[i]++;\n\t\t\t\t}\n\t\t\t\telse if(i<lcsle-1&&list[i+1]==3){\n\t\t\t\t\tlist[i]--;\n\t\t\t\t\tcount = rensa(i,i+2,4);\n\t\t\t\t\tlist[i]++;\n\t\t\t\t}\n\t\t\t\tif(maxcount[mcor]<count&&count>=4)\n\t\t\t\t\tmaxcount[mcor]=count;\n\t\t\t}\t\n\t\t}\n\t\tmaxcount[mcor] = n-maxcount[mcor];\n\t\tmcor++;\n\t}\n\tfor(i = 0;i < mcor;i++)\n\t\tcout << maxcount[i] << endl;\n\treturn 0;\n}\n\nint rensa(int ue,int sita,int count){\n\tif(ue >= 0 && sita < n)\n\tif(ue<0||sita>=n||color[ue]!=color[sita]){\n\t\treturn count;\n\t}\n\tcount+=list[ue]+list[sita];\n\treturn (ue-1,sita+1,count);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nconst int INF = 1 << 24;\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tfor(int i=0;i<v.size();i++){\n\t\t\tif(v[i].size >= 3){\n\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t}\n\t\t}\n\n\t\tif(v.size() >= 3){\n\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\tint destroyChara = 0,\n\t\t\t\t\tupperChara = i-1, lowerChara = i+1;\n\t\t\t\t//v[i]が両辺一個を変える\n\t\t\t\tif(v[i].size >= 3){\n\t\t\t\t\tdestroyChara = v[i].size + 1;\n\t\t\t\t\tv[i-1].size--;\n\t\t\t\t\tif(!v[i-1].size)upperChara = i-2;\n\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif((v[upperChara].color == v[lowerChara].color) && (v[upperChara].size + v[lowerChara].size >= 4)){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\tv[i-1].size++;\n\t\t\t\t\t\n\t\t\t\t\tdestroyChara = v[i].size + 1;\n\t\t\t\t\tv[i+1].size--;\n\t\t\t\t\tif(!v[i+1].size)lowerChara = i+2;\n\t\t\t\t\t\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif((v[upperChara].color == v[lowerChara].color) && (v[upperChara].size + v[lowerChara].size >= 4)){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\tv[i+1].size++;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<map>\n#include<set>\n#include<list>\n#include<iomanip>\n#include<vector>\n#include<random>\n#include<functional>\n#include<algorithm>\n#include<cstdio>\n#include<unordered_map>\nusing namespace std;\n//---------------------------------------------------\n//????????????????????????????????????\n#define int long long\n#define str string\n#define rep(i,j) for(int i=0;i<(int)(j);i++)\ntypedef long long ll;\ntypedef long double ld;\nconst ll inf = 4523372036854775807;\nconst ll Mod = 1000000007;\nconst ll gosenchou = 5000000000000000;\nshort gh[2][4] = { { 0,0,-1,1 },{ -1,1,0,0 } };\nstruct P {\n\tll pos, cost;\n};\nbool operator<(P a, P b) { return a.cost < b.cost; }\nbool operator>(P a, P b) { return a.cost > b.cost; }\nstruct B {//??£??\\???????????¨???\n\tll to, cost;\n};\nstruct S {//???????????±?????\\???????????°\n\tint from, to, cost;\n};\nstruct H {\n\tint x, y;\n};\nbool operator<(H a, H b) {\n\tif (a.x != b.x) return a.x < b.x;\n\treturn a.y < b.y;\n}\nbool operator>(H a, H b) {\n\tif (a.x != b.x) return a.x > b.x;\n\treturn a.y > b.y;\n}\nll gcm(ll i, ll j) {//?????§??¬?´???°\n\tif (i > j) swap(i, j);\n\tif (i == 0) return j;\n\treturn gcm(j%i, i);\n}\nld rad(ld a, ld b, ld c, ld d) {\n\treturn sqrt(pow(a - c, 2) + pow(b - d, 2));\n}//rad?????§?¨???????2??????????????¢\nint ari(int a, int b, int c) {\n\treturn (a + b)*c / 2;\n}//????????°?????????\nbool suf(ld a, ld b, ld c, ld d) {\n\tif (b <= c || d <= a) return 0;\n\treturn 1;\n}//[a,b),[c,d)\n//---------------------------------------------------\n//+++++++++++++++++++++++++++++++++++++++++++++++++++\nint n, a[10000], b[10000];\nint solve() {\n\tbool c[10000];\n\tfor (int i = 0; i < n; i++)\n\t\tc[i] = 1;\n\tbool l = 1;\n\twhile (l) {\n\t\tl = 0;\n\t\tfor (int i = 0; i < n; ) {\n\t\t\tint j = i, sum = 0;\n\t\t\twhile (j<n&&(a[i] == a[j]||!c[j])) {\n\t\t\t\tj++;\n\t\t\t\tif (c[j])\n\t\t\t\t\tsum++;\n\t\t\t}\n\t\t\tif (sum >= 4) {\n\t\t\t\tfor (int x = i; x < j; x++)\n\t\t\t\t\tc[x] = 0;\n\t\t\t\tl = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti = j;\n\t\t}\n\t}\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++)\n\t\tif (c[i])\n\t\t\tans++;\n\treturn ans;\n}\nsigned main() {\n\twhile (cin >> n&&n != 0) {\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcin >> a[i];\n\t\tint ans = solve();\n\t\tif (ans == 0) {\n\t\t\tint sum = 0;\n\t\t\tfor (int i = 0; i < n; ) {\n\t\t\t\tint j = i;\n\t\t\t\twhile (j < n&&a[i] == a[j])\n\t\t\t\t\tj++;\n\t\t\t\tsum = max(sum, j - i);\n\t\t\t}\n\t\t\tif (sum >= 5)\n\t\t\t\tans = 1;\n\t\t\telse\n\t\t\t\tans = sum;\n\t\t}\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint j = i - 1, sum1 = 0, sum2 = 0;\n\t\t\twhile (j >= 0 && a[i - 1] == a[j] && sum1 <= 4)\n\t\t\t\tsum1++, j--;\n\t\t\tj = i + 1;\n\t\t\twhile (j < n && a[i + 1] == a[j] && sum2 <= 4)\n\t\t\t\tsum2++, j++;\n\t\t\tif ((i != 0 && i < n - 1 && a[i - 1] == a[i + 1] && sum1 + sum2 >= 4 && a[i - 1] != a[i]) ||\n\t\t\t\t(i == 0 && i < n - 1 && sum2 >= 4 && a[i + 1] != a[i]) ||\n\t\t\t\t(i > 0 && i == n - 1 && sum1 >= 4 && a[i - 1] != a[i])) {\n\t\t\t\tint f = a[i];\n\t\t\t\tif (i == 0) a[i] = a[i + 1];\n\t\t\t\telse a[i] = a[i - 1];\n\t\t\t\tans = min(ans, solve());\n\t\t\t\ta[i] = f;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\tgetchar(); getchar();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint N;\nint ary[10010];\n//a???c???????????¨\nint puyo(int a,int c){\n\tint motoc=ary[a];\n\tint C=c;\n\tary[a]=C;\n\tint l,r,ml,mr,tmp,cnt;\n\tml=mr=l=r=a;\n\tcnt=0;\n\twhile(ary[l]==C){\n\t\tl--;\n\t\tif(l<0) break;\n\t}\n\twhile(ary[r]==C){\n\t\tr++;\n\t\tif(r>=N) break;\n\t}\n\ttmp=abs(ml-l)+abs(mr-r)-1;\n\tif(tmp<4){\n\t\tary[a]=motoc;\n\t\treturn N;\n\t}\n\tif(l<0){\n\t\tary[a]=motoc;\n\t\treturn N-r;\n\t}\n\tif(r>=N){\n\t\tary[a]=motoc;\n\t\treturn l+1;\n\t}\n\tcnt=tmp;\n\tif(ary[l]!=ary[r]){\n\t\tary[a]=motoc;\n\t\treturn N-cnt;\n\t}\n\twhile(1){\n\t\tC=ary[l];\n\t\tml=l;\n\t\tmr=r;\n\t\twhile(ary[l]==C){\n\t\t\tl--;\n\t\t\tif(l<0) break;\n\t\t}\n\t\twhile(ary[r]==C){\n\t\t\tr++;\n\t\t\tif(r>=N) break;\n\t\t}\n\t\ttmp=abs(ml-l)+abs(mr-r);\n\t\tif(tmp<4){\n\t\t\tary[a]=motoc;\n\t\t\treturn N-cnt;\n\t\t}\n\t\tif(l<0){\n\t\t\tary[a]=motoc;\n\t\t\treturn N-r;\n\t\t}\n\t\tif(r>=N){\n\t\t\tary[a]=motoc;\n\t\t\treturn l+1;\n\t\t}\n\t\tcnt+=tmp;\n\t\tif(ary[l]!=ary[r]){\n\t\t\tary[a]=motoc;\n\t\t\treturn N-cnt;\n\t\t}\n\t}\n}\n\nint main(){\n\tint cnt;\n\twhile(1){\n\t\tcin>>N;\n\t\tif(N==0) break;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tcin>>ary[i];\n\t\t}\n\t\tcnt=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\t//cout<<i<<\"???\"<<j<<\"?????????????????¨\"<<puyo(i,j)<<\"????????????\"<<endl;\n\t\t\t\tcnt=min(cnt,puyo(i,j));\n\t\t\t}\n\t\t}\n\t\tcout<<cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\nusing namespace std;\n\n\nint del(string s){\n\tbool hoge=true;\n\tstring temp;\n\twhile(hoge){\n\t\thoge=false;\n\t\tint dt[s.size()];\n\t\trep(i,s.size())dt[i]=0;\n\t\trep(i,s.size()){\n\t\t\tif(i==0)dt[i]=1;\n\t\t\telse{\n\t\t\t\tif(s[i-1]==s[i])dt[i]=dt[i-1]+1;\n\t\t\t\telse dt[i]=1;\n\t\t\t}\n\t\t}\n\t\ttemp=\"\";\n\t\tfor(int i=s.size()-1;i>=0;i--){\n\t\t\tif(dt[i]>3){\n\t\t\t\thoge=true;\n\t\t\t\ti-=dt[i];\n\t\t\t\ti++;\n\t\t\t}else temp+=s[i];\n\t\t}\n\t\ts=temp;\n\t}\n\treturn temp.size();\n}\n\nint func(string s){\n\tint mians=s.size();\n\trep(p,s.size()){\n\t\tstring alt=s;\n\t\tloop(c,1,4){\n\t\t\talt[p]=(char)(c+'0');\n\t\t\tint left,right;left=right=p;\n\t\t\twhile(alt[right]==alt[p])right++;\n\t\t\twhile(alt[left]==alt[p])left--;\n\t\t\tif((right-1-left)<4)continue;\n\t\t\tmians=min(mians,del(alt));\n\t\t}\n\t}\n\treturn mians;\n}\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tstring s=\"\";\n\t\tchar ch;\n\t\trep(i,n){cin>>ch;s+=ch;}\n\t\tcout<<func(s)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint chain(int idx,int col);\nvector<int>model;\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = INF;\n      model.clear();\n      for(int i = 0;i < n;i++){\n         int col; scanf(\"%d\",&col);\n         model.push_back(col);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return INF;\n   vector<int> c;\n   c.reserve(model.size());\n   copy(model.begin(),model.end(), back_inserter(c));\n   vector<int>::iterator it = c.insert(c.begin()+idx,col);\n   it = c.erase(c.begin()+idx+1);\n\n   int flag = 1;\n   while(flag){\n      int cnt = 1,curr = c[0];\n      for(int i = 1;i < c.size();i++){\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 0;\n                  vector<int>::iterator it = c.erase(c.begin()+i-cnt,c.begin()+i);\n                  for(int j = 0;j < c.size();j++){\n                     printf(\"%d \",c[j]);\n                  }\n                  printf(\"\\n\");\n                  break;\n            }\n            cnt = 1;\n         }\n      }\n      flag = 1-flag;\n   }\n   return c.size();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k;\nint s = 0;\npair<int, int> color[2][10000];//color[a][b] = (c,d) a:0なら原本、1ならチェック用コピー b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[100];\n\nvoid check(int bb, int ss)\n{\n\tint count[3] = { 1, 0, 0 };//全体、左、右\n\twhile (bb - count[1] >= 0 && color[1][bb].second == color[1][bb - count[1]].second)\n\t{\n\t\tcolor[1][bb - count[1]].first = 0;\n\t\tcount[1]++;\n\t}\n\twhile (bb + count[0] < n&&color[1][bb].second == color[1][bb + count[0]].second)\n\t{\n\t\tcolor[1][bb + count[0]].first = 0;\n\t\tcount[0]++;\n\t}\n\tcount[0] += count[1]-1;\n\t//ここまで一回目\n\tfor (int i = 0;; i++)\n\t{\n\t\tif (ss == 3 && count[0] >= 2100)\n\t\t{\n\t\t\tss = ss;\n\t\t}\n\t\twhile (bb - count[1] >= 1 && color[1][bb - 1].second == color[1][bb - 1 - count[1]].second)\n\t\t{\n\t\t\tcount[1]++;\n\t\t}\n\t\twhile (bb + count[0] + count[2] < n&&color[1][bb - 1].second == color[1][bb + count[0] + count[2]].second)\n\t\t{\n\t\t\tcount[2]++;\n\t\t}\n\t\tif (count[1] + count[2] >= 4)\n\t\t{\n\t\t\tfor (int x = 0; x < count[1]; x++)\n\t\t\t{\n\t\t\t\tcolor[1][bb - 1 - x].first = 0;\n\t\t\t}\n\t\t\tfor (int x = 0; x < count[2]; x++)\n\t\t\t{\n\t\t\t\tcolor[1][bb + count[0] + x].first = 0;\n\t\t\t}\n\t\t\tcount[0] += count[1] + count[2];\n\t\t\tbb -= count[1];\n\t\t\tcount[1] = 0;\n\t\t\tcount[2] = 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tresult[ss] = min(result[ss], n - count[0]);\n}\n\nint main()\n{\n\tfor (;; s++)\n\t{\n\t\tcin >> n;\n\n\t\tif (n == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int a = 0; a < 10000; a++)\n\t\t{\n\t\t\tcolor[0][a].first = 1;\n\t\t}\n\n\t\tresult[s] = n;\n\n\t\tfor (int a = 0; a < n; a++)\n\t\t{\n\t\t\tcin >> color[0][a].second;\n\t\t}\n\n\t\tfor (a = 0; a < n-3; a++)\n\t\t{\n\t\t\tfor (; b < n - 3; b++)\n\t\t\t{\n\t\t\t\tfor (int t = 0; t < n; t++)\n\t\t\t\t{\n\t\t\t\t\tcolor[1][t] = color[0][t];\n\t\t\t\t}\n\t\t\t\tif (color[1][b] == color[1][b + 1] && color[1][b + 1] == color[1][b + 2])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 3] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[1][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 2] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 1] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[a][b + 1] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b] = color[1][b + 1];\n\t\t\t\t\tcheck(b - 1, s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int t = 0; t < s; t++)\n\t{\n\t\tcout << result[t] << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 200000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define EQ(a,b) (abs((a)-(b))<EPS)\nvi puyopuyo;\nint main()\n{\n\twhile(1)\n\t{\n\t\tpuyopuyo.clear();\n\t\tint n;\n\t\tcin >> n;\n\t\tint ans=n;\n\t\tif(n==0)break;\n\t\tpuyopuyo.pb(-1);\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint k;\n\t\t\tcin >> k;\n\t\t\tpuyopuyo.pb(k);\n\t\t}\n\t\tpuyopuyo.pb(-12);\n\t\tfor(int i=1;i<=puyopuyo.size();i++)\n\t\t{\n\t\t\tint tmp=puyopuyo[i];\n\t\t\tint top=i+1;\n\t\t\tint under=i;\n\t\t\tint res=n;\n\t\t\tpuyopuyo[under]=puyopuyo[top];\n\t\t\twhile(puyopuyo[under]==puyopuyo[top])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(tmp2==puyopuyo[under])\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\ttop=i;\n\t\t\tunder=i-1;\n\t\t\tres=n;\n\t\t\tpuyopuyo[top]=puyopuyo[under];\n\t\t\twhile(puyopuyo[top]==puyopuyo[under])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(puyopuyo[under]==tmp2)\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\tpuyopuyo[i]=tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nmain(){\nwhile(true){\nint x[9000],n,i,j,k,l,m,y[9000],b,c,d,p[9000],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i] = x[i] = y[i];}\nc=0;d=0;m=n;d=m;\nminx=99999;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l = k + 1; l < m; l++){p[l-b] = p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=std::min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\", minx);}\n}"
  },
  {
    "language": "C++",
    "code": "// 単純な全探索\n#include <fstream>\n#include <iostream>\n#include <cmath>\n#include <vector>\n#include <queue>\n#include <utility>\n#include <algorithm>\nusing namespace std;\nint N;\nvector<int> a;\n\nint cnt_same_clr(int i, bool incre) { // inclre = true なら i 増加\n  int cnt = 0;\n  int clr = a[i];\n  if (incre) {\n    while(i < N && a[i] == clr) {\n      cnt++;\n      i++;\n    }\n  } else {\n    while(i >= 0 && a[i] == clr) {\n      cnt++;\n      i--;\n    }\n  }\n  return cnt;\n}\n\nint main() {\n  // ifstream cin(\"../test.txt\");\n  while (true) {\n    cin >> N;\n    if (!N) break;\n    a = vector<int>(N);\n    for (int i = 0; i < N; i++) {\n      cin >> a[i];\n    }\n\n    int left_min = N;\n    for (int i = 1; i < N-1; i++) {\n      if (a[i-1] == a[i+1] && a[i] != a[i-1]) {\n        int tmp = a[i];\n        a[i] = a[i-1]; // 一時的\n        int cnt = 0;\n        int f = i-1;\n        int e = i;\n        while (f >= 0 && e < N && a[f] == a[e]) {\n          int cnt_f = cnt_same_clr(f, false);\n          int cnt_e = cnt_same_clr(e, true);\n          if (cnt_f + cnt_e < 4) break;\n          cnt++;\n          f -= cnt_f;\n          e += cnt_e;\n        }\n        // 残ったキャラ数を計算\n        int left = N - (e - f - 1);\n        left_min = min(left, left_min);\n\n        a[i] = tmp; // 色を戻す\n      }\n    }\n\n    cout << left_min << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c<4)continue;\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\tfor(z=e;z<x;z++){\n\t\t\tif(o[e]==o[z])u++;\n\t\t\telse if(o[z]==0)w++;\n\t\t\telse break;\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m=10001,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(p,0,sizeof(p));\n\tmemset(o,0,sizeof(o));\n\tfor(i=0;i<n;i++)cin>>p[i];\nm=n;\n\tfor(i=0;i<n;i++){\n\t\tfor(j=1;j<=3;j++){\n\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\to[i]=j;\n\t\t\tm=min(m,X(n));\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main()\n{\n\tint n=0;\n\twhile(cin >> n && n)\n\t{\n\t\tint set[100000]={};\n\t\tint data[100000]={};\n\t\tint ans=n;\n\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tcin>>data[i];\n\t\t}\n\t\tfor(int z=0;z<n;z++)\n\t\t{\n\t\t\tfor(int i=0;i<n;i++)set[i]=data[i];\n\t\t\tset[z]=0;\n\t\t\tint flag=0;\n\n\t\t\twhile(1)\n\t\t\t{\n\t\t\t\tflag=0;\n\t\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\t{\n\t\t\t\t\tif(!set[i])i++;\n\n\t\t\t\t\tint j=i;\n\t\t\t\t\tint count=0;\n\t\t\t\t\twhile(set[i]==set[j] || !set[j])\n\t\t\t\t\t{\n\t\t\t\t\t\tj++;\n\t\t\t\t\t\tif(set[j])count++;\n\t\t\t\t\t}\n\t\t\t\t\tif(count>=4)\n\t\t\t\t\t{\n\t\t\t\t\t\tflag=1;\n\t\t\t\t\t\tfor(int k=i;k<j;k++)set[k]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(!flag)break;\n\t\t\t}\n\t\t\t\n\t\t\tint cc=0;\n\t\t\tfor(int i=0;i<n;i++)if(set[i])cc++;\n\t\t\tans=min(ans,cc);\n\t\t}\n\t\tif(ans==n-1)ans++;\n\t\tcout << ans << endl;\n\t}\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define INF 100000005\n#define MAX 100001\n#define dmp make_pair\n#define dpb push_back\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\n\nint a[10000];\nint solve(int p, int n){\n\tint l = p-1, r = p+1, t;\n\tint s1, s2, ans = 0, f = 1;\n\twhile(0 <= l){\n\t\tt = a[l];\n\t\ts1 = s2 = 0;\n\t\tif(f)s1 = 1, f = 0;\n\t\t//if(p == 5)printf(\"%d %d %d\\n\", l, r, t);\n\t\twhile(0 <= l && a[l] == t){\n\t\t\ts1++;l--;\n\t\t}\n\t\twhile(r < n && a[r] == t){\n\t\t\ts2++;r++;\n\t\t}\n\t\tif(s1+s2 >= 4){\n\t\t\tans += s1+s2;\n\t\t}else break;\n\t}\n\treturn n-ans;\n}\n\nint main(){\n\tint n, ans;\n\twhile(){\n\tscanf(\"%d\", &n);\n\t\tans = INF;\n\t\trep(i,n)scanf(\"%d\", &a[i]);\n\t\tfor(int i = 1;i < n-1;i++){\n\t\t\tans = min(ans, solve(i, n));\n\t\t}\n\t\tif(ans == INF)printf(\"%d\\n\", n-1);\n\t\telse printf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint c[10002];\n\nint rensa(int i,int n){\n  int a=i,b=i;\n  int p=-1;\n  while(0<=a&&c[a]==c[b]&&b<n){\n    while(0<=a&&c[a]==c[b])a--,p++;\n    while(c[a+1]==c[b]&&b<n)b++,p++;\n    if(p<4)return n-(b-a)+1+p;\n    p=0;\n  }\n}\n\nint main(){\n  int n;\n  while(cin>>n,n){\n    for(int i=0;i<n;i++)cin>>c[i];\n    int m=n;\n    for(int i=0;i<n;i++){\n      c[i]=c[i]%3+1;\n      m=min(m,rensa(i,n));\n      c[i]=c[i]%3+1;\n      m=min(m,rensa(i,n));\n      c[i]=c[i]%3+1;\n    }\n    cout<<m<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define lgt\t\t\tlength()\n#define rep(i,n)\tfor (int i = 0; i < n; i++)\n#define ALL(X)\t\t(X).begin(),(X).end()\n#define RALL(X)\t\t(X).rbegin(),(X).rend()\n#define pb\t\t\tpush_back\n#define SORT(a)\t\tsort(ALL(a));\n#define RSORT(a)\tsort(RALL(a));\n#define mp\t\t\tmake_pair\n#define dump(x)\t\tcerr<<#x<<\" = \"<<(x)<<endl;\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nint toInt(string s){int v;istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\nvs form(string a,char s){vs v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(b);b=\"\";}else b+=a[i];}v.pb(b);return v;}\nvi formint(string a,char s){vi v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(toInt(b));b=\"\";}else b+=a[i];}v.pb(toInt(b));return v;}\n\nconst double EPS=1e-10,PI=acos(-1.0);\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < v.sz - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= v.sz){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nvoid counter(int);\n\nint color,n,m,puyo[10000],N;\n\nint main(){\n\n  int Min,number,original;\n  bool check,check2;\n  \n  while(1){\n    \n    cin >>N;\n    \n    if(N == 0)break;\n    \n    Min=N;\n    \n    for(int i=0 ; i < N ; i++){\n      cin >>puyo[i];\n    }\n    \n    for(int k=0 ; k < N ; k++){\n      for(int l=1 ; l < 4 ; l++){\n\t\n\toriginal=puyo[k];\n\tpuyo[k]=l;\n\t\n\tcheck = true;\n\tcheck2 =false;\n\t\n\twhile(1){\n\t  \n\t  if(check == false)break;\n\t  \n\t  check=false;\n\t  \n\t  for(int i=0 ; i < N ; i++){\n\t    n=0;\n\t    m=0;\n\t    if(puyo[i] !=0 ){\n\t      color=puyo[i];\n\t      counter(i);\n\t    }      \n\t    if(n >= 4){\n\t      for(int j=0 ; j < m ; j++){\n\t\tpuyo[i+j]=0;\n\t\tcheck=true;\n\t\tcheck2=true;\n\t      }\n\t    }\n\t  } \n\t}\n\t\n\tif(check2 == true){\n\t  number=0;\n\t  for(int i=0 ; i < N ; i++){\n\t    if(puyo[i] != 0)number++;\n\t  }\n\t  if(number < Min)Min = number;\n\t}\n\tpuyo[k]=original;\n\t\n      }\n    }\n    \n    cout <<Min<<endl;\n    \n  }\n  \n  return 0;\n}\nvoid counter(int i){\n  \n  m++;\n  \n  if(puyo[i] != 0){\n    n++;\n  }\n  \n  if( i >= 0 && i < N-1 ){\n    if(color == puyo[i+1] || puyo[i+1] == 0){\n      counter(i+1);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nconst int MAX = 10001;\n\nint N, ans, num[MAX];\nshort data[MAX],cop[MAX];\n\nvoid Copy(int pos, int col){\n  \n  for(int i = 0; i < N; i++)\n    cop[i] = data[i];\n\n  cop[pos] = col;\n\n}\n\nvoid del(int pos, int number,int rev){\n\n  \n  for(int i = pos+1; i <= rev; i++)\n    cop[i-number] = cop[i];\n\n  for(int i = rev; i > rev-number; i--)\n    cop[i] = 0;\n}\n\nvoid play(){\n  while(1){\n    int rev = 0;\n    fill(num,num+MAX,1);\n    for(int i = 0; cop[i] != 0; i++,rev++)\n      if(i && cop[i] == cop[i-1]) num[i] = num[i-1]+1;\n      \n   \n    bool flg = true;\n\n    for(int i = rev-1; i >= 0; i--)\n      if(num[i] >= 4){\n\tdel(i,num[i],rev);\n\tflg = false;\n\tbreak;\n      }\n\n    if(flg){\n      ans = min(ans,rev);\n      break;\n    }\n  }\n}\n\nvoid solve(){\n  \n  for(int i = 0; i < N; i++)\n    for(int j = 1; j <= 3; j++)\n      if(data[i] != j){\n\tCopy(i,j);\n\tplay();\n      }\n}\n\nvoid init(){\n\n  fill(data,data+MAX,0);\n  fill(num,num+MAX,1);\n  fill(cop,cop+MAX,0);\n  ans = MAX;\n\n}\n\nint main(){\n  while(cin >> N && N){\n    init();\n    for(int i = 0; i < N; i++)\n      cin >> data[i];\n    solve();\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <utility>\n#include <vector>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\nint main()\n{\n    while (1)\n    {\n        int n, a[10010], cnt=1, p_v, ans=0;\n        vector<pair<int, int>> vec;\n        cin>>n;\n        if (n==0) break;\n        for (int i=n-1; i>=0; i--) cin>>a[i];\n        p_v=a[0];\n        for (int i=1; i<n; i++)\n        {\n            if (a[i]!=p_v)\n            {\n                vec.push_back({p_v, cnt});\n                cnt=1;\n                p_v=a[i];\n            }\n            else cnt++;\n        }\n        vec.push_back({p_v, cnt});\n        for (auto u=vec.begin(); u!=vec.end(); u++)\n        {\n            auto v=vec.begin();\n            u++;\n            cnt=0;\n            if (u==vec.end()) break;\n            if (u->second!=3) u--;\n            else\n            {\n                u--;\n                stack<pair<int, int>> stk;\n                for (; v<=u; v++)\n                {\n                    stk.push({v->first, v->second});\n                }\n                v=u;\n                cnt=4;\n                u++;\n                if (v->second==1)\n                {\n                    stk.pop();\n                    if (!stk.empty() && stk.top().first==u->first) { cnt+=stk.top().second; stk.pop(); }\n                }\n                else stk.top().second-=1;\n                u--;\n                v++; v++;\n                for (; v!=vec.end() && !stk.empty(); v++)\n                {\n                    if (stk.top().first==v->first && stk.top().second+v->second>=4)\n                    {\n                        cnt+=stk.top().second+v->second;\n                        stk.pop();\n                    }\n                    else { v=vec.end(); v--; }\n                }\n            }\n            ans=max(ans, cnt);\n        }\n        for (auto u=vec.begin(); u!=vec.end(); u++)\n        {\n            auto v=vec.begin();\n            if (u==vec.begin()) u++;\n            u--;\n            cnt=0;\n            if (u->second!=3) u++;\n            else\n            {\n                stack<pair<int, int>> stk;\n                for (; v<u; v++)\n                {\n                    stk.push({v->first, v->second});\n                }\n                cnt=4;\n                v=u;\n                v++;\n                if (v->second==1)\n                {\n                    v++;\n                    if (v->first==u->first) { cnt+=v->second; v++; }\n                }\n                else v->second-=1;\n                u++;\n                for (; v!=vec.end() && !stk.empty(); v++)\n                {\n                    if (stk.top().first==v->first && stk.top().second+v->second>=4)\n                    {\n                        cnt+=stk.top().second+v->second;\n                        stk.pop();\n                    }\n                    else { v=vec.end(); v--; }\n                }\n            }\n            ans=max(ans, cnt);\n        }\n        cout<<n-ans<<'\\n';\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){cout<<ans<<endl; exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n\tint n,mn,c[10000];\n\twhile(cin>>n,n){\n\t\tmn=1<<30;\n\t\trep(i,n)cin>>c[i];\n\t\trep(i,n)rep(j,3){\n\t\t\tint clr=0,use=c[i];\n\t\t\tc[i]=j+1;\n\t\t\tfor(int p=i,q=i,s=1;p>0||q<n-1;){\n\t\t\t\twhile(p>0&&c[p]==c[p-1])p--,s++;\n\t\t\t\twhile(q<n-1&&c[q]==c[q+1])q++,s++;\n\t\t\t\tif(s>3){\n\t\t\t\t\tclr+=s;\n\t\t\t\t\tif(c[--p]!=c[++q])break;\n\t\t\t\t\ts=2; continue;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(mn>n-clr)mn=n-clr; c[i]=use;\n\t\t}\n\t\tcout<<mn<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define reps(i,f,n) for(int i=(f);i<(n);i++)\nstatic const int INF = 1e9;\n\nint erace(int n, vector<int> v, int num, int c){//?????????????????°?????????????????°???????????????????????????????????´??? ?????????????????????\n\tint n_tmp = n;//?????£???????????????????????????\n\tint l = num;//??????????????´????????????\n\tint r = num + 1;\n\tint color = c;//???????????´????????°?????????????????????\n\twhile(1){\n\t\tint cnt = 0;//????????°????????£?¶???????????????°\n\t\t//?????´???????????????????????£?¶????????????????\n\t\twhile(0 <= l && v[l] == color){\n      \t\tcnt++;\n      \t\tl--;//??????????????°???\n    \t}\n    \t//?????´???????????????????????£?¶????????????????\n    \twhile(r < n && v[r] == color){//n??????????????£????????°??£???\n      \t\tcnt++;\n      \t\tr++;//??????????????°???\n    \t}\n   \t\tif(cnt >= 4){\n    \t\tn_tmp -= cnt;//??£?¶?????????°??????????¶????\n    \t\tif(v[l] == v[r]){\n\t    \t\tcolor = v[l];//?¬?????¶???????????????´??°??????\n\t    \t}\n    \t\telse break;//?¶???????????????????????????????????????§???????????°???????????\\????¶????????????¨?????????\n    \t}else{\n    \t\tbreak;//???????¶???????????????°???????????\\????¶????????????¨?????????\n    \t}\n\t}\n\treturn n_tmp;\n}\n\nint main(void){\n\twhile(1){\n\t\tint n; scanf(\"%d\", &n);\n\t\tif(n == 0) return 0;\n\t\tvector<int> v(n);\n\t\trep(i, n) scanf(\"%d\", &v[i]);\n\t\tint ans = INF;//?????????\n\t\t//??¨??¢?´¢\n\t\trep(i, n){//?????????????????¨????????????\n\t\t\tint tmp = v[i];\n\t\t\t//???????????????\n\t\t\treps(j, 1, 4){//???????????????\n\t\t\t\tif(tmp == j) continue;\n\t\t\t\tv[i] = j;\n\t\t\t\tans = min(ans, erace(n, v, i, j));\n\t\t\t}\n\t\t\tv[i] = tmp;//??????????????????????????????\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 10000\nint arr[MAX],N;\n\nint solve(int p){\n  int lp = p, rp = p+1;\n\n  while(true){\n    if(lp < 0 || rp >= N) break;\n    int color = arr[lp],l = lp,r = rp;\n    for(int i = lp ; arr[i] == color ; i--) l = i;\n    for(int i = rp ; arr[i] == color ; i++) r = i;\n    l--; r++;\n    if((r-rp)+(lp-l) < 4) break;\n    lp = l, rp = r;\n  }\n  return N - rp + lp + 1;\n}\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 0 ; i < N ; i++){\n      cin >> arr[i]; arr[i]--;\n    }\n\n    int ans = MAX;\n    for(int i = 0 ; i < N ; i++){\n      int tmp = arr[i];\n      for(int j = 0 ; j < 3 ; j++){\n        if(j == arr[i]) continue;\n        arr[i] = j;\n        if(i == 5 && j == 1){\n          ans = min(ans,solve(i));   \n        }\n        \n      }\n      arr[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define INF ( 1 << 30 )\nint data[10000], n;\nint solve(int right){\n  int left = right + 1, size = n;\n  while(\"Misuya\"){\n    int dis = 0, now = data[right];\n    while(right >= 0 && data[right] == now ) dis++,right--;\n    while(left < n && data[left] == now ) dis++,left++;\n    if(dis < 4) break;\n    else size -= dis;\n  }\n  return size;\n}\nint main(){\n  while(cin >> n , n){\n    for(int i = 0 ; i < n ; i++ ) cin >> data[i];\n    int ret = INF;\n    for(int i = 0 ; i < n ; i++ ){\n      for(int j = 0 ; j < 4 ; j++ ){\n        swap(data[i],j);\n        ret = min( ret, solve(i));\n        swap(data[i],j);\n      }\n    }\n    cout << ret << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\nusing namespace std;\nbool chain();\n\nint main()\n{\n\twhile(chain()){}\n\treturn 0;\n}\nbool chain()\n{\n\tint N,cnt = 0,totalIN = 0,in[2],max = 0;\n\tpair<int,int> IN[10000],now;\n\tbool change;\n\n\tscanf(\"%d\",&N);\n\t\n\tif(N == 0)\n\t\treturn false;\n\t\n\tfor(int i = 0; i < N; i++){\n\t\tscanf(\"%d\",&in[i%2]);\n\t\tif(i == 0 || in[i%2] == in[(i+1)%2]){\n\t\t\tcnt++;\n\t\t}\n\t\telse{\n\t\t\tIN[totalIN].first = in[(i+1)%2];\n\t\t\tIN[totalIN].second = cnt;\n\t\t\ttotalIN++;\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif(cnt != 0){\n\t\tIN[totalIN].first = in[(N+1)%2];\n\t\tIN[totalIN].second = cnt;\n\t}\n\telse{\n\t\ttotalIN--;\n\t}\n\n\tfor(int i = 0; i < totalIN; i++){\n\t\tcnt = IN[i].second + 1;\n\t\tif(IN[i+1].second == 1){\n\t\t\tif((i+1) != totalIN){\n\t\t\t\tif(IN[i].first == IN[i+2].first){\n\t\t\t\t\tcnt += IN[i+2].second;\n\t\t\t\t\tnow.first = i-1;\n\t\t\t\t\tnow.second = i+3;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tnow.first = i-1;\n\t\t\t\t\tnow.second = i+2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnow.first = i-1;\n\t\t\t\tnow.second = i+1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tnow.first = i-1;\n\t\t\tnow.second = i+1;\n\t\t}\n\t\tIN[i+1].second--;\n\n\t\tif(cnt >= 4){\n\t\t\twhile(now.first >= 0 && now.second <= totalIN){\n\t\t\t\tif(IN[now.first].first == IN[now.second].first){\n\t\t\t\t\tif((IN[now.first].second + IN[now.second].second) >= 4){\n\t\t\t\t\t\tcnt += (IN[now.first].second + IN[now.second].second);\n\t\t\t\t\t\tnow.first--;\n\t\t\t\t\t\tnow.second++;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(max < cnt){\n\t\t\t\tmax = cnt;\n\t\t\t}\n\t\t}\n\n\t\tIN[i+1].second++;\n\t}\n\n\tprintf(\"%d\\n\",N-max);\n\n\treturn true;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct block{\n\tint color, many;\n};\n\nint chain(vector<block> line, vector<block>::iterator p, int down, int up)\n{\n\tint total = 0;\n\tvector<block>::iterator pm, pp;\n\tpm = p + down;\n\tpp = p + up;\n\n\twhile (true){\n\t\tpm--; pp++;\n\t\tif (pm == line.begin() || pp == line.end() - 1) break;\n\t\tif (pp == line.end() - 1)break;\n\t\tif (pm->color != pp->color || pm->many + pp->many < 4) break;\n\t\ttotal += pm->many + pp->many;\n\t}\n\treturn total;\n}\n\nint main()\n{\n\twhile (true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n) break;\n\t\tvector<block> line;\n\t\tvector<block>::iterator p;\n\t\tint max = 0;\n\n\t\tconst block END = { 0, 0 };\n\t\tline.push_back(END);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint in;\n\t\t\tp = line.end() - 1;\n\t\t\tcin >> in;\n\t\t\tif (!line.empty() && p->color == in){\n\t\t\t\tp->many++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tblock newblock = { in, 1 };\n\t\t\t\tline.push_back(newblock);\n\t\t\t}\n\t\t}\n\t\tline.push_back(END);\n\n\t\tfor (p = line.begin() + 1; p != line.end() - 1; p++){\n\t\t\tif (p->many == 1){\n\t\t\t\tif ((p - 1)->color == (p + 1)->color && (p - 1)->many + (p + 1)->many >= 3){\n\t\t\t\t\tint sum = chain(line, p, -1, +1) + (p - 1)->many + (p + 1)->many + 1;\n\t\t\t\t\tmax = (max < sum) ? sum : max;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif ((p - 1)->many == 3){\n\t\t\t\t\t\tint sum = chain(line, p, -1, 0) + 4;\n\t\t\t\t\t\tmax = (max < sum) ? sum : max;\n\t\t\t\t\t}\n\t\t\t\t\tif ((p + 1)->many == 3){\n\t\t\t\t\t\tint sum = chain(line, p, 0, +1) + 4;\n\t\t\t\t\t\tmax = (max < sum) ? sum : max;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << n - max << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t\tif(u>=4){\n\t\t\tt=1;\n\t\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t\t}\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(f,0,sizeof(f));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif( (i!=n-1&&p[i]!=p[i+1]&&1+f[i+1]>=4) || i!=0&&p[i]!=p[i-1]&&1+f[i-1]>=4||p[i+1]==p[i-1]&&i!=0&&i!=n-1&&f[i]+f[i+1]+f[i-1]>=4&&f[i]==1){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\n\t\t\t\t\tm=min(m,X(n));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tcin>>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>y[i];\n\t\t\tx[i]=y[i];\n\t\t\tp[i]=x[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tp[i]=y[i];\n\t\t\t}\n\t\t}\n\t\tcout<<minx<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint color[10010];\nint N;\n\nint solve(int x, int cc){\n  if(color[x] == cc) return N;\n  int cnt = 1;\n  int back, forward;\n  \n  for(back = x-1 ; back >= 0 ; back--){\n    if(cc == color[back]) cnt++;\n    else break;\n  }\n  for(forward = x+1 ; forward < N ; forward++){\n    if(cc == color[forward]) cnt++;\n    else break;\n  }\n  \n  int res = N-cnt;\n  \n  if(cnt < 4) return N;\n  else if(back < 0 || N <= forward) return res; // ツ端ツづーツ湘?つオツつスツ湘ェツ債?\n  else if(color[back] != color[forward]) return res; // ツつュツづ?づつつ「ツづ?づ?ツ古つ暗按湘」ツづ可づ按づァツづ按つゥツづ?つスツ湘ェツ債?\n  \n    while(1){\n      int tmp = 0;\n      cc = color[back];\n      for( ; back >= 0 ; back--){\n\tif(cc == color[back]) tmp++;\n\telse break;\n      }\n      for( ; forward < N ; forward++){\n\tif(cc == color[forward]) tmp++;\n\telse break;\n      }\n      if(tmp < 4) return res;\n      else if(back < 0 || N <= forward) return res-tmp;\n      else if(color[back] != color[forward]) return res-tmp;\n    \n      res -= tmp;\n    }\n    return res;\n}\n\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 0 ; i < N ; i++) cin >> color[i];\n    int ans = 10010;\n    for(int i = 0 ; i < N ; i++){\n      for(int c  = 1 ; c <= 3 ; c++){\n\tans = min(ans, solve(i, c));   \n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n\n    "
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint ar[10000];\nint n;\nint i,j;\n\nint min(int a,int b){\n\tif(a<=b)return a;\n\telse return b;\n}\n\nint calc(int s1,int s2,int color){\n\tint c=0;\n\tint os1=s1;\n\tint os2=s2;\n\twhile(ar[s1]==color){\n\t\tc++;\n\t\ts1--;\n\t\tif(s1<0)break;\n\t}\n\twhile(ar[s2]==color){\n\t\tc++;\n\t\ts2++;\n\t\tif(s2>n-1)break;\n\t}\n\tif(c<4)return os1+1+(n-os2);\n\tif(s1<0||s2>n-1||ar[s1]!=ar[s2])return s1+1+(n-s2);\n\treturn calc(s1,s2,ar[s1]);\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)return 0;\n\t\tint ans=n;\n\t\tfor(i=0;i<n;i++)scanf(\"%d\",&ar[i]);\n\t\tfor(i=0;i<n-1;i++){\n\t\t\tint oi1=ar[i+1];\n\t\t\tint oi2=ar[i];\n\t\t\tar[i+1]=ar[i];\n\t\t\tans=min(ans,calc(i,i+1,ar[i]));\n\t\t\tar[i]=oi1;\n\t\t\tar[i+1]=oi1;\n\t\t\tans=min(ans,calc(i,i+1,ar[i+1]));\n\t\t\tar[i]=oi2;\n\t\t\tar[i+1]=oi1;\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n2[10001]={0};\nint masatoy(int,int);\nint main(){\n    while(1){\n    int n,minx=0;\n    cin>>n;\n    if(n==0)return 0;\n    for(int i=0;i<n;i++)cin>>n2[i];\n    for(int i=0;i<n;i++){\n        int hideo=n2[i];\n        for(int j=1;j<=3;j++){\n            n2[i]=j;\n            minx=max(minx,masatoy(n,i));\n        }\n        n2[i]=hideo;\n    }\n    cout<<n-minx<<endl;\n    }\n}\nint masatoy(int n,int j){\n    int under=j, above=j+1,sum1=0,sum2=0,cnt=0,place;\n    while(1){\n        sum1=0;\n        sum2=0;\n        place=n2[under];\n        for(int i=under;i>=0&&n2[i]==place;i--){\n            sum1++;\n            under--;\n        }\n        for(int i=above;i<n&&n2[i]==place;i++){\n            sum2++;\n            above++;\n        }\n        if(sum1+sum2>3){\n            //under-=(sum1);\n            //above+=(sum2);\n            cnt+=sum1+sum2;\n        }\n        else break;\n    }\n    //cout<<under<<\" \"<<above<<endl;\n    //cout<<endl;\n    return cnt;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<pair<int,int>> tougou(vector<pair<int,int>> x){\n\tint siz=x.size();\n\tpair<int,int> p;\n\tp=x[0];\n\tvector<pair<int,int>> ans;\n\tfor(int i=1;i<siz;i++){\n\t\tif(p.first!=x[i].first){\n\t\t\tans.push_back(p);\n\t\t\tp=x[i];\n\t\t}\n\t\telse {\n\t\t\tp.second+=x[i].second;\n\t\t}\n\t}\n\tans.push_back(p);\n\treturn ans;\n}\n\nint solve(vector<pair<int,int>> x){\n\tvector<pair<int,int>> vp;\n\tint siz=x.size();\n\tbool update=false;\n\tfor(int i=0;i<siz;i++){\n\t\tif(x[i].second<4){\n\t\t\tvp.push_back(x[i]);\n\t\t}\n\t\telse update=true;\n\t}\n\tif(update)return solve(tougou(vp));\n\tsiz=vp.size();\n\tint ans=0;\n\tfor(int i=0;i<siz;i++){\n\t\tans+=vp[i].second;\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint n,a,ans=100000;\n\tpair<int,int> p;\n\tp.second=1;\n\tvector<pair<int,int>> vp;\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&p.first);\n\t\tvp.push_back(p);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tint sav=vp[i].first;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tvp[i].first=j;\n\t\t\tint an=solve(tougou(vp));\n\t\t\tif(an<ans)ans=an;\n\t\t}\n\t\tvp[i].first=sav;\n\t}\n\tprintf(\"%d\\n\",ans);\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nmain(){while(true){int x[11000],n,i,j,k,l,m,y[11000],b,c,d,p[11000],w;scanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}c=0;d=0;m=n;d=m;w=99999;\nfor(i=0;i<n;i++){for(j=1;j<=3;j++){if(i>=1&&y[i-1]!=j&&y[i+1]!=j){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){if(p[k]==p[k+1]){b++;}\nelse{if(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}m=d;}\nif(c==0){break;}\nelse{c=0;}}\nw=std::min(w,m);x[i]=y[i];\nfor(k=0;k<n;k++){p[k]=y[k];}\nz:;\n}}printf(\"%d\\n\",w);}}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint solve(vector<int> cols,int st){\n    int l=st,r=st;\n    for(;;){\n        int ncol=cols[l];\n        int befl=l,befr=r;\n        for(;l>=0;l--){\n            if(cols[l]!=ncol){\n                l++;\n                break;\n            }\n        }\n        for(;r<cols.size();r++){\n            if(cols[r]!=ncol){\n                r--;\n                break;\n            }\n        }\n        int va=(r-befr)+(befl-l);\n        if(befl==befr)va+=1;\n        else va+=2;\n        if(va==cols.size())break;\n        if(va<4){\n            r=befr;\n            l=befl;\n            break;\n        }\n        l--;\n        r++;\n    }\n    return cols.size()-(r-l-1);\n}\nint main(){\n    for(;;){\n        int n;\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        vector<int> cols(n);\n        for(int i=0;i<n;i++){\n            scanf(\"%d\",&cols[i]);\n            cols[i]-=1;\n        }\n        int mi=n;\n        for(int i=0;i<n;i++){\n            vector<bool> able(3,true);\n            able[cols[i]]=false;\n            for(int j=0;j<3;j++){\n                if(able[j]){\n                    int te=cols[i];\n                    cols[i]=j;\n                    mi=min(mi,solve(cols,i));\n                    cols[i]=te;\n                }\n            }\n        }\n        printf(\"%d\\n\",mi);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <climits>\n#include <algorithm>\nusing namespace std;\nint n, col[10000];\nint calc(int x, int c) {\n    if (col[x]==c) return n;\n    int p=x-1, q=x+1;\n    int cnt=1;\n    for (;p>=0;p--) {\n        if (col[p]==c) cnt++;\n        else break;\n    }\n    for (;q<n; q++) {\n        if (col[q]==c) cnt++;\n        else break;\n    }\n    if (cnt<4) return n;\n    else if (p<0||q>=n) return n-cnt;\n    else if (col[p]!=col[q]) return n-cnt;\n\n    int res=n-cnt;\n    while (true) {\n        cnt=0;\n        c=col[p];\n        for (;p>=0;p--) {\n            if (col[p]==c) cnt++;\n            else break;\n        }\n        for (;q<n; q++) {\n            if (col[q]==c) cnt++;\n            else break;\n        }\n        if (cnt<4) return res;\n        else if (p<0||q>=n) return res-cnt;\n        else if (col[p]!=col[q]) return res-cnt;\n        res-=cnt;\n    }\n    return res;\n}\nint main() {\n    while (scanf(\"%d\",&n)) {\n        if (!n) break;\n        for (int i=0; i<n; i++) {\n            scanf(\"%d\",&col[i]);\n        }\n        int res=INT_MAX/2;\n        for (int i=0; i<n; i++) {\n            for (int j=1; j<=3; j++) {\n                res=min(res,calc(i,j));\n            }\n        }\n        printf(\"%d\\n\",res);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n#define col first\n#define cn second\n\ntypedef pair<int, int> PR;\n\npair<int, int> puyo[10000+10] , tmp;\n\nint sum;\n\n\nint chek(int , /*PR[10000 + 10],*/ int ,int,int);\n\n\nint main()\n{\n\tint n;\n\tint pn=0;\n\n\tint a;\n\n\tint i;\n\n\tint sa=0;\n\n\twhile (cin >> n, n != 0)\n\t{\n\t\tsa = 0;\n\t\tsum = n;\n\t\tpn = 0;\n\n\t\tcin >> a;\n\t\tpuyo[pn].col = a;\n\t\tpuyo[pn].cn = 1;\n\n\n\t\tfor (i = 1; i < n; i++)\n\t\t{\n\t\t\tcin >> a;\n\n\t\t\tif (puyo[pn].col == a)\n\t\t\t{\n\t\t\t\tpuyo[pn].cn++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpn++;\n\t\t\t\tpuyo[pn].col = a;\n\t\t\t\tpuyo[pn].cn = 1;\n\t\t\t}\n\t\t}\n\n\t\tpn++;\n\n\t\tfor (i = 1; i < pn - 1; i++)\n\t\t{\n\n\t\t\tif (puyo[i].cn == 3)\n\t\t\t{\n\t\t\t\tif (puyo[i + 1].col == puyo[i - 1].col && puyo[i + 1].cn + puyo[i - 1].cn >= 5)\n\t\t\t\t{\n\t\t\t\t\t//tmp = puyo[i + 1];\n\t\t\t\t\t//puyo[i + 1].cn--;\n\n\t\t\t\t\tsa = 3 + puyo[i + 1].cn + puyo[i - 1].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 2, i + 2, sa));\n\t\t\t\t\t//puyo[i + 1] = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( puyo[i+1].cn==1 && puyo[i].col == puyo[i+2].col )\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i + 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i + 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i + 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 1, i + 3, sa));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (puyo[i - 1].cn == 1 && puyo[i].col == puyo[i - 2].col)\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i - 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i - 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i - 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 3, i + 1, sa));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << sum << endl;\n\t}\n\treturn 0;\n}\n\n\nint chek(int pn/*, PR tp[10000 + 10]*/, int go, int ba , int sa)\n{\n\tif (puyo[go].col == puyo[ba].col && puyo[go].cn + puyo[ba].cn >= 4)\n\t{\n\t\tsa += puyo[go].cn + puyo[ba].cn;\n\n\t\tif (go - 1 >= 0 && ba < pn)\n\t\t{\n\t\t\treturn chek(pn, go - 1, ba + 1, sa);\n\t\t}\n\n\t}\n\n\treturn sa;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i, n) for(int i = 0;i < n;i++)\n#define REPR(i, n) for(int i = n;i >= 0;i--)\n#define FOR(i, m, n) for(int i = m;i < n;i++)\n#define FORR(i, m, n) for(int i = m;i >= n;i--)\n#define SORT(v, n) sort(v, v+n);\n#define VSORT(v) sort(v.begin(), v.end());\n#define llong long long\n#define INF 999999999\n#define all(v) begin(v), end(v)\nusing namespace std;\ntypedef pair<int, int> P;\ntypedef pair<llong, llong> LP;\ntypedef pair<int, P> PP;\ntypedef pair<llong, LP> LPP;\n    \nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\n\nint n;\n    \nbool check(vector<int>& color){\n    if(color.size() < 4) return false;\n    \n    int cnt = 1;\n    FOR(i, 1, n){\n        if(color[i-1] == color[i]) cnt++;\n        else{\n            if(cnt >= 4){\n                color.erase(color.begin()+(i-cnt), color.begin()+i);\n                return true;\n            }\n            \n            cnt = 1;\n        }\n    }\n    \n    if(cnt >= 4){\n        color.erase(color.begin()+(n-cnt), color.end());\n    }\n    \n    return false;\n}\n    \nint solve(){\n    vector<int> v(n);\n    REP(i, n) cin >> v[i];\n    \n    int ans = INF;\n    vector<int> color;\n    REP(i, n){\n        color = v;\n        if(color[i] == 1) color[i] = 2;\n        else if(color[i] == 2) color[i] = 3;\n        else color[i] = 1;\n        while(check(color)){}\n        if(ans > color.size()) ans = color.size();\n        \n        color = v;\n        if(color[i] == 1) color[i] = 3;\n        else if(color[i] == 2) color[i] = 1;\n        else color[i] = 2;\n        while(check(color)){}\n        if(ans > color.size()) ans = color.size();\n    }\n    \n    cout << ans << endl;\n}\n\nint main(){\n    while(true){\n        cin >> n;\n        if(!n) return 0;\n        solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n  int n;\n  vector<int> a;\n\n  while(scanf(\"%d\",&n) && n){\n    a.resize(n);\n    for(int i=0;i<n;i++)scanf(\"%d\",&a[i]);\n\n    int ans = n;\n    for(int i=0;i<n;i++){\n      for(int j=1;j<=3;j++){\n\tif(a[i] == j)continue;\n\tif( (i && a[i-1]==j) || (i==n-1 && a[i+1]==j) ){\n\t  vector<int> v = a;\n\t  v[i] = j;\n\t  \n\t  \n\t  for(;;){\n\t    int prv = 0,color = a[0],num = 1;\n\t    for(int i=1;i<(int)v.size();i++){\n\t      if(v[i] == color)num++;\n\t      else{\n\t\tif(4<=num)break;\n\t\tcolor = v[i];\n\t\tnum = 1;\n\t\tprv = i;\n\t      }\n\t    }\n\t    \n\t    if(4<=num)for(int i=0;i<num;i++)v.erase(v.begin()+prv);\n\t    else break;\n\t  }\n\t  ans = min(ans,(int)v.size());\n\t}\n      }\n    }\n    printf(\"%d\\n\",ans);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint ch[10005];\nint N;\n\nvoid pa(int h[],int n){\n\tfor(int i = 0; i < n; i++){\n\t\tif(h[i])printf(\"%s\",h[i]==1?\"Ô \":h[i]==2?\"Â \":h[i]==3?\"© \":\"\");\n\t}puts(\"\");\n}\n\nint func(int h[]){\n\tint count = 1;\n\tint ans = 0;\n\tint lasnum;\n\tint n = N;\n\tbool up = true;\n\t\n\twhile(up){\n\t\t\n\t\tup = false;\n\t\tcount = 1;\n\t\t\n\t\tfor(int i = 1; i < n; i++){\n\t\t\tif(!h[i])continue;\n\t\t\telse if(h[i] == h[i-1])count++;\n\t\t\telse if(count > 3){\n\t\t\t\tfor(int j = i; j < n; j++)h[j-count] = h[j];\n\t\t\t\tn-=count;\n\t\t\t\tup = true;\n\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\tcount = 1;\n\t\t\t}\n\t\t\tlasnum = 0;\n\t\t}\n//\t\tpa(h,n);\n\t}\n\tfor(int i = 0 ;i < n; i++)if(h[i])ans++;\t\n\t\n\treturn ans;\n}\n\t\n\nint main(void){\n\tint ANS;\n\tint c[3] = {1,2,3};\n\twhile(scanf(\"%d\", &N) && N != 0){\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tscanf(\"%d\", &ch[i]);\n\t\t}\n\t\tANS = func(ch);\n\t\tfor(int i = 0 ; i < N-1; i++){\n\t\t\tint temp = ch[i];\n\t\t\tfor(int j = 0; j < 3; j++){\n\t\t\t\tif(temp != c[j])ch[i] = c[j];\n\t\t\t\tANS = min( ANS, func(ch) );\n\t\t\t}\n\t\t\tch[i] = temp;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ANS);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include <cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n\tfor (int i = 0, j = 0; j<a.size();){\n\t\tif (a[j] == a[j + 1])j++;\n\t\telse {\n\t\t\tif (j - i>2){\n\t\t\t\ta.erase(a.begin() + i, a.begin() + j + 1);\n\t\t\t\ti = j = 0;\n\t\t\t}\n\t\t\telse j++, i = j;\n\t\t}\n\t}\n\treturn a.size();\n}\n\nint main(void){\n\tint n, m;\n\tvector<int>a;\n\n\twhile (cin >> n, n){\n\t\ta.resize(n);\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\n\t\tint ans = 100000000;\n\t\tfor (int i = 0; i<a.size(); i++){\n\t\t\tint temp = a[i];\n\t\t\tfor (int j = 1; j<4; j++){\n\t\t\t\tif (temp != j){\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tans = min(ans, Erase(a));\n\t\t\t\t}\n\t\t\t}\n\t\t\ta[i] = temp;\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\nint check(string a)\n{\n\tbool aho = false;\n\tdo\n\t{\n\t\taho = false;\n\t\tint hoge = 4;\n\t\tstring gg;\n\t\tgg = \"1111\";\n\t\tif (a.find(gg)!=string::npos)\n\t\t{\n\t\t\twhile (1)\n\t\t\t{\n\t\t\t\tgg.append(\"1\");\n\t\t\t\tif (a.find(gg) == string::npos)\n\t\t\t\t{\n\t\t\t\t\tgg.erase(gg.end());\n\t\t\t\t\ta.erase(a.find(gg), a.find(gg)+ hoge);\n\t\t\t\t\taho = true;\n\t\t\t\t\thoge = 4;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thoge++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tgg = \"2222\";\n\t\tif (a.find(gg) != string::npos)\n\t\t{\n\t\t\twhile (1)\n\t\t\t{\n\t\t\t\tgg.append(\"2\");\n\t\t\t\tif (a.find(gg) == string::npos)\n\t\t\t\t{\n\t\t\t\t\tgg.erase(gg.end()-1);\n\t\t\t\t\ta.erase(a.find(gg), a.find(gg) + hoge);\n\t\t\t\t\taho = true;\n\t\t\t\t\thoge = 4;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thoge++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tgg = \"3333\";\n\t\tif (a.find(gg) != string::npos)\n\t\t{\n\t\t\twhile (1)\n\t\t\t{\n\t\t\t\tgg.append(\"3\");\n\t\t\t\tif (a.find(gg) == string::npos)\n\t\t\t\t{\n\t\t\t\t\tgg.erase(gg.end());\n\t\t\t\t\ta.erase(a.find(gg), a.find(gg) + hoge);\n\t\t\t\t\taho = true;\n\t\t\t\t\thoge = 4;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thoge++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t} while (aho);\n\treturn a.size()-1;\n}\nint main()\n{\n\tint n;\n\tstring a;\n\tstring r;\n\twhile (cin >> n)\n\t{\n\t\tif (n == 0)return 0;\n\t\tint ans = n;\n\t\tfor (int I = 0; I < n; I++){\n\t\t\tcin >> r;\n\t\t\ta.append(r);\n\t\t}\n\t\tfor (int I = 0; I < n; I++){\n\t\t\tfor (int i = 1; i < 4; i++)\n\t\t\t{\n\t\t\t\tchar h = a[I];\n\t\t\t\tswitch (i)\n\t\t\t\t{\n\t\t\t\tcase 1:\n\t\t\t\t\ta[I] = '1';\n\t\t\t\t\tans = min(ans, check(a));\n\t\t\t\t\ta[I] = h;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\ta[I] = '2';\n\t\t\t\t\tans = min(ans, check(a));\n\t\t\t\t\ta[I] = h;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\ta[I] = '3';\n\t\t\t\t\tans = min(ans, check(a));\n\t\t\t\t\ta[I] = h;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\t/*for(int s=0;s<n;s++){\n\t\tcout<<b[s];\n\t}\n\tcout<<endl;*/\n\tif(b[i]==b[j]&&j<n){\n\t\t//cout<<\"wwww\"<<endl;\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\t//cout<<\"ttttt\"<<endl;\n\t\tif(c>=4){\n\t\t\tfor(int z=0;z<c;z++){\n\t\t\t\t//cout<<\"jjjjj\"<<endl;\n\t\t\t\tif((j+z)>n)break;\n\t\t\t\tb[i+z]=b[j+z];\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\t//cout<<ans<<endl;\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = 100000;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = 10000;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tstart -=(left+1);\n\t\t\t\t\tend +=(right+1);\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start+1)ans = num - end + start+1;\n\t\t\t}\n\t\t}\n\t\tif (ans > num)ans = num;\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "# include <iostream>\n# include <algorithm>\n# include <vector>\n# include <string>\n# include <set>\n# include <map>\n# include <cmath>\n# include <iomanip>\n# include <functional>\n# include <utility>\n# include <stack>\n# include <queue>\n# include <list>\n# include <tuple>\n# include <unordered_map>\n# include <numeric>\n# include <complex>\nusing namespace std;\nusing LL = long long;\nusing ULL = unsigned long long;\nconstexpr int INF = 2000000000;\nconstexpr int HINF = INF / 2;\nconstexpr double DINF = 100000000000000000.0;\nconstexpr long long LINF = 9223372036854775807;\nconstexpr long long HLINF = 4500000000000000000;\nconst double PI = acos(-1);\nint dx[4] = { 0,1,0,-1 }, dy[4] = { 1,0,-1,0 };\n# define ALL(x)     (x).begin(),(x).end()\n# define UNIQ(c)    (c).erase(unique(ALL((c))), end((c)))\n# define mp         make_pair\n# define eb         emplace_back\n# define FOR(i,a,b) for(int i=(a);i<(b);++i)\n# define REP(i,n)   FOR(i,0,n)\n# define INIT       std::ios::sync_with_stdio(false);std::cin.tie(0);\n\nint ch[10101];\n\nint main() {\n\tint n;\n\twhile (cin >> n&&n) {\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tcin >> ch[i];\n\t\t}\n\t\tch[0] = ch[n + 1] = 5;\n\t\tint ans = 0;\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\tint color = j;\n\t\t\t\tint sum = 0, count = 1;\n\t\t\t\tint left = i - 1, right = i + 1;\n\t\t\t\twhile (1) {\n\t\t\t\t\twhile (ch[left] == color)left--, count++;\n\t\t\t\t\twhile (ch[right] == color)right++, count++;\n\t\t\t\t\tif (count < 4)break;\n\t\t\t\t\tsum += count;\n\t\t\t\t\tcount = 0;\n\t\t\t\t\tif (ch[left] != ch[right])break;\n\t\t\t\t\tcolor = ch[left];\n\t\t\t\t}\n\t\t\t\tans = max(ans, sum);\n\t\t\t}\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<list>\nstd::list<int>o,l;\nstd::list<int>::iterator i,j,k,z;\nint f()\n{\n\tint x;\n\tfor(i=l.begin();i!=l.end();)\n\t{\n\t\tx=1;\n\t\tfor(j=i,++j;j!=l.end();++j)\n\t\t{\n\t\t\tif(*i==*j)++x;\n\t\t\telse break;\n\t\t}\n\t\tif(x>3)\n\t\t{\n\t\t\ti=l.erase(i,j);\t\n\t\t\tif(l.empty())return 0;\n\t\t\tif(i!=l.begin())\n\t\t\t{\n\t\t\t\tfor(k=i,--k;k!=l.begin()&&*k==*i;--k);\n\t\t\t\ti=k;\n\t\t\t}\n\t\t}\n\t\telse i=j;\n\t}\n\treturn l.size();\n}\nint main()\n{\n\tint n,x,y,r;\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\to.clear();\n\t\tr=n;\n\t\twhile(n--)scanf(\"%d\",&x),o.push_back(x);\n\t\tfor(z=o.begin();z!=o.end();++z)\n\t\t{\n\t\t\tfor(y=0;;)\n\t\t\t{\n\t\t\t\t*z=*z%3+1;\n\t\t\t\tl=o;\n\t\t\t\tif(++y>2)break;\n\t\t\t\tx=f(),r=(r<x?r:x);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\n#define col first\n#define cn second\n\ntypedef pair<int, int> PR;\n\npair<int, int> puyo[10000+10] , tmp;\n\nint sum;\n\n\nint chek(int , /*PR[10000 + 10],*/ int ,int,int);\n\n\nint main()\n{\n\tint n;\n\tint pn=0;\n\n\tint a;\n\n\tint i;\n\n\tint sa=0;\n\n\twhile (cin >> n, n != 0)\n\t{\n\t\tsa = 0;\n\t\tsum = n;\n\t\tpn = 0;\n\n\t\tcin >> a;\n\t\tpuyo[pn].col = a;\n\t\tpuyo[pn].cn = 1;\n\n\n\t\tfor (i = 1; i < n; i++)\n\t\t{\n\t\t\tcin >> a;\n\n\t\t\tif (puyo[pn].col == a)\n\t\t\t{\n\t\t\t\tpuyo[pn].cn++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tpn++;\n\t\t\t\tpuyo[pn].col = a;\n\t\t\t\tpuyo[pn].cn = 1;\n\t\t\t}\n\t\t}\n\n\t\tpn++;\n\n\t\tfor (i = 1; i < pn - 1; i++)\n\t\t{\n\n\t\t\tif (puyo[i].cn == 3)\n\t\t\t{\n\t\t\t\tif (puyo[i + 1].col == puyo[i - 1].col && puyo[i + 1].cn + puyo[i - 1].cn >= 5)\n\t\t\t\t{\n\t\t\t\t\t//tmp = puyo[i + 1];\n\t\t\t\t\t//puyo[i + 1].cn--;\n\n\t\t\t\t\tsa = 3 + puyo[i + 1].cn + puyo[i - 1].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 2, i + 2, sa));\n\t\t\t\t\t//puyo[i + 1] = tmp;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( puyo[i+1].cn==1 && puyo[i].col == puyo[i+2].col )\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i + 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i + 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i + 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 1, i + 3, sa));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n/*\n\t\t\tif (puyo[i - 1].cn == 1 && puyo[i].col == puyo[i - 2].col)\n\t\t\t{\n\t\t\t\tif (puyo[i].cn + puyo[i - 2].cn >= 3)\n\t\t\t\t{\n\t\t\t\t\t//puyo[i - 1].cn--;\n\t\t\t\t\tsa = 1 + puyo[i].cn + puyo[i - 2].cn;\n\n\t\t\t\t\tsum = min(sum, n - chek(pn, i - 3, i + 1, sa));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n*/\n\t\t\n\t\tcout << sum << endl;\n\t}\n\treturn 0;\n}\n\n\nint chek(int pn/*, PR tp[10000 + 10]*/, int go, int ba , int sa)\n{\n\tif (puyo[go].col == puyo[ba].col && puyo[go].cn + puyo[ba].cn >= 4)\n\t{\n\t\tsa += puyo[go].cn + puyo[ba].cn;\n\n\t\tif (go - 1 >= 0 && ba + 1 < pn)\n\t\t{\n\t\t\treturn chek(pn, go - 1, ba + 1, sa);\n\t\t}\n\n\t}\n\n\treturn sa;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <vector>\n#include <stack>\n\nusing namespace std;\n\nint count(stack<int> s) {\n    stack<int> tmp;\n    int find;\n    int times = 0;\n\n    if (s.empty()) return 0;\n\n    find = s.top();\n\n    while (!s.empty() && s.top() == find) {\n        tmp.push(s.top());\n        times++;\n        s.pop();\n    }\n\n    return times;\n} \n\nint main() {\n    while (1) {\n        int i;\n        int n;\n        vector<int> characters;\n        vector<pair<int, int> > var;\n        int d[4];\n        int color[3];\n        int save;\n        int min_size;\n\n        scanf(\"%d\", &n);\n        if (n == 0) return 0;\n\n        min_size = n;\n\n        for (i=0;i<3;i++) color[i] = 0;\n        for (i=0;i<4;i++) d[i] = -1-i;\n\n        for (i=0;i<n;i++) {\n            int j;\n            int k;\n\n            scanf(\"%d\", &k);\n            k--;\n\n            characters.push_back(k);\n\n            color[k]++;\n            if(d[0] >= 0) color[d[0]]--;\n\n            for (j=0;j<3;j++) {\n                d[j] = d[j+1];\n            }\n\n            d[3] = k;\n\n            for (j=0;j<3;j++) {\n                if (color[j] == 3) {\n                    int l;\n                    for (l=0;l<4;l++) {\n                        if (d[l] != j) {\n                            if (var.empty() || var.back() != make_pair(i + l - 3, j))\n                                var.push_back(make_pair(i + l - 3, j));\n                        }\n                    }\n                }\n            }\n        }\n\n        for (i=0;i<var.size();i++) {\n            int j;\n            stack<int> process;\n            int now_color = -1;\n\n            save = characters[var[i].first];\n            characters[var[i].first] = var[i].second;\n\n            for (j=0;j<characters.size();j++) {\n                int times;\n\n                if (characters[j] != now_color) {\n                    times = count(process);\n                    if (times >= 4) {\n                        for (;times;times--) process.pop();\n                    }\n\n                    now_color = characters[j];\n                }\n\n                process.push(characters[j]);\n            }\n\n            if (min_size > process.size()) min_size = process.size();\n            characters[var[i].first] = save;\n        }\n\n        printf(\"%d\\n\", min_size);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define Rep(i,N) for(int i = 0; i < N; i++)\ntypedef pair<int,int> Pi;\n#define F first\n#define S second\n#define pb push_back\n#define INF 1 << 28\n\ninline void chmin(int &a,int b) {\n  a = min(a,b);\n}\n\ninline void chmax(int &a,int b) {\n  a = max(a,b);\n}\nint N;\nint data[10005];\n\nint calc(int p, int c)\n{\n  int left, right;\n  int save = data[p];\n  data[p] = c;\n  left = p,right = p + 1;\n  int ret = 0;\n  while(true) {\n    int cnt = 0;\n    for(;left >= 0 && data[left] == c;left--,cnt++);\n    for(;right < N && data[right] == c;right++,cnt++);\n    if(cnt >= 4)ret += cnt;\n    else break;\n    if(left < 0 || right >= N)break;\n    c = data[left];\n  }\n  data[p] = save;\n  return ret;\n}\n\nint main()\n{\n  while(cin >> N,N) {\n    int ans = N;\n    Rep(i,N) {\n      cin >> data[i]; --data[i];\n    }\n    Rep(i,N) Rep(j,3) chmin(ans,N - calc(i,j));\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n    res = 0;\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n\tif(round > 0) break;\n      }\n    }\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n\tif(round > 0) break;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = INF;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (scanf(\"%d\", &n), n){\n\t\tmemset(chain, 0, sizeof(chain));\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){ ans = max(ccount(s, g, cnt), ans); }\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<stack>\n#define F first\n#define S second\n\nusing namespace std;\ntypedef pair<int,int> P;\nint N;\n\nint calc(vector<int>& vec,int p)\n{\n  if(vec.size() < 4)\n    return 0;\n\n  stack<int> A,B;\n  for(int i=0;i<=p;i++)\n    A.push(vec[i]);\n  for(int i=vec.size()-1;i>p;i--)\n    B.push(vec[i]);\n \n  bool update;\n  while(true)\n    {\n      update = false;\n      if(A.empty() && B.empty())\n\tbreak;\n\n      if(!A.empty() && ! B.empty()  && A.top() == B.top())\n\t{\t \n\t  int c = A.empty()?B.top():A.top();\n\t  int cnt = 0;\n\t  while(!A.empty() && A.top() == c)\n\t    cnt++,A.pop();\n\t  while(!B.empty() && B.top() == c)\n\t    cnt++,B.pop();\n\t  if(cnt < 4)\n\t      return A.size() + B.size() + cnt;\n\t  update = true;\n\t}\n      else \n\t{\n\t  stack<int> C,D;\n\t  int cnt = 0;\n\t  int c; \n\t  bool pre = false,pre2 = false;\n\t \n\t  if(!A.empty())\n\t    { \n\t      c = A.top();\n\t      while(!A.empty() && A.top() == c)\n\t\tcnt++,C.push(A.top()),A.pop();\n\t      \n\t      if(cnt < 4)\n\t\twhile(!C.empty())\n\t\t  A.push(C.top()),C.pop();\n\t      else \n\t\tpre = true;\n\t    }\t \n\t  if(!B.empty())\n\t    {\n\t      cnt = 0,c = B.top();\n\t      while(!B.empty() && B.top() == c)\n\t\tcnt++,D.push(B.top()),B.pop();\n\n\t      if(cnt < 4)\n\t\twhile(!D.empty())\n\t\t  B.push(D.top()),D.pop();\n\t      else \n\t\tpre2 = true;\n\t    }\n\n\t  if(pre || pre2)\n\t    update = true;\n\n\t}\n      if(!update)\n\tbreak;\n    }\n\n  return A.size()+B.size();\n}\n\nint main()\n{\n  while(cin >> N,N)\n    {\n      vector<int> vec; \n      vec.resize(N); \n      for(int i=0;i<N;i++)\n\tcin >> vec[i];\n\n      int ans = (1<<29);\n      for(int i=0;i<N;i++)\n\t{\n\t  int pre_color = vec[i];\n\t  for(int j=1;j<=3;j++)\n\t    vec[i] = j,ans = min(ans,calc(vec,i));\n\t  vec[i] = pre_color;\n\t}\n\t\n      cout << ans << endl;\n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\nint main(){\n    int n,oridrop[10002],workdrop[4][10002],bef,judge,ans,minans;\n    while(1){\n        scanf(\"%d\",&n);\n        ans=n,minans=n;\n        if(n==0)\n            break;\n        for(int i=n;i>0;i--)\n            scanf(\"%d\",&oridrop[i]);\n        for(int i=1;i<=n;i++){\n            for(int j=1;j<=n;j++){\n                workdrop[1][j]=oridrop[j];\n                workdrop[2][j]=oridrop[j];\n                workdrop[3][j]=oridrop[j];\n            }\n            for(int j=1;j<=3;j++){\n                workdrop[j][i]=j;\n                judge=1;\n                for(int k=1;k<=ans;k++){\n                    if(bef==workdrop[j][k]&&k!=1)\n                        judge++;\n                    else\n                        judge=1;\n                    bef=workdrop[j][k];\n                    if(4<=judge&&workdrop[j][k]!=workdrop[j][k+1]){\n                        ans-=judge;\n                        if(ans<minans)\n                            minans=ans;\n                        for(int l=k+1;l<=ans;l++)\n                            workdrop[j][l]=workdrop[j][l+judge];\n                        break;\n                    }\n                }\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define lgt\t\t\tlength()\n#define rep(i,n)\tfor (int i = 0; i < n; i++)\n#define ALL(X)\t\t(X).begin(),(X).end()\n#define RALL(X)\t\t(X).rbegin(),(X).rend()\n#define pb\t\t\tpush_back\n#define SORT(a)\t\tsort(ALL(a));\n#define RSORT(a)\tsort(RALL(a));\n#define mp\t\t\tmake_pair\n#define dump(x)\t\tcerr<<#x<<\" = \"<<(x)<<endl;\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nint toInt(string s){int v;istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\nvs form(string a,char s){vs v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(b);b=\"\";}else b+=a[i];}v.pb(b);return v;}\nvi formint(string a,char s){vi v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(toInt(b));b=\"\";}else b+=a[i];}v.pb(toInt(b));return v;}\n\nconst double EPS=1e-10,PI=acos(-1.0);\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tif (n == 0) break;\n\t\t\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tif (i + 1 != n - 1) prev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num + 1));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < v.sz - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= v.sz){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nint compute_remaining_characters(const vector<int>& characters,int idx,int color){\n  int prev_lhs = idx;\n  int prev_rhs = idx - 1;\n  int lhs = idx;\n  int rhs = idx;\n\n  for(int round = 0; round <= characters.size(); round++){\n    color = characters[lhs];\n    while(lhs >= 0){\n      if(characters[lhs] == color){\n\tlhs--;\n      }\n      else{\n\tbreak;\n      }\n    }\n    while(rhs < characters.size()){\n      if(characters[rhs] == color){\n\trhs++;\n      }\n      else{\n\tbreak;\n      }\n    }\n    if(lhs < 0) lhs++;\n    if(rhs >= characters.size()) rhs--;\n    \n    if((rhs - lhs + 1)-(prev_rhs-prev_lhs + 1) < 4){\n      break;\n    }\n    prev_lhs = lhs;\n    prev_rhs = rhs;\n    \n    //next pos\n    lhs--;\n    rhs--;\n  }\n  return characters.size() - (prev_rhs - prev_lhs + 1);\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    vector<int> characters;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n      characters.push_back(color);\n    }\n\n    int res = n;\n    for(int idx=0;idx<characters.size();idx++){\n      for(int color=1;color<=3;color++){\n\tvector<int> store = characters;\n\tcharacters[idx] = color;\n\tres = min(res,compute_remaining_characters(characters,idx,color));\n\tcharacters = store;\n      }\n    }\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint chain(int idx,int col);\nvector<int>model;\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = INF;\n      model.clear();\n      for(int i = 0;i < n;i++){\n         int col; scanf(\"%d\",&col);\n         model.push_back(col);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return INF;\n   vector<int> c;\n   c.reserve(model.size());\n   copy(model.begin(),model.end(), back_inserter(c));\n   vector<int>::iterator it = c.insert(c.begin()+idx,col);\n   it = c.erase(c.begin()+idx+1);\n\n   int flag = 1;\n   while(flag){\n      int cnt = 1,curr = c[0];\n      for(int i = 1;i < c.size();i++){\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 0;\n                  vector<int>::iterator it = c.erase(c.begin()+i-cnt,c.begin()+i);\n                  break;\n            }\n            cnt = 1;\n         }\n      }\n      flag = 1-flag;\n   }\n   return c.size();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ZERO(a) memset(a,0,sizeof(a))\n\nint n;\nint a[100010];\n\nbool is_inRange(int l, int r) {\n    return (1<=l and r<=n);\n}\n\nint calc(int p) {\n    int ret = 0;\n    int l = p, r = p;\n    while(is_inRange(l,r)) {\n        if(a[l] != a[r]) return ret;\n        int cnt = 0 , t = a[l];\n        if(l == r) cnt = -1;\n\n        while(1 <= l and a[l] == t) l--, cnt++;\n        while(r <= n and a[r] == t) r++, cnt++;\n        if(cnt >= 4) ret += cnt;\n    }\n\n    return ret;\n}\n\nint main() {\n    while(cin>>n && n) {\n        ZERO(a);\n        FOR(i,1,n+1) scanf(\"%d\",&a[i]); // 1-indexed\n\n        int cnt = -1;\n        FOR(pos, 1, n+1) {\n            int tmp = a[pos];\n            FOR(color, 1, 4) {\n                if(color == tmp) continue;\n                a[pos] = color;\n                cnt = max(cnt, calc(pos));\n            }\n            a[pos] = tmp;\n        }\n\n        printf(\"%d\\n\", n - cnt);\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,target,R,L,ans,Lastans,Rsum,Lsum,a, number[11000];\nint right(int in);\nint left (int in);\n\nint main(){\n\n    while(1){\n    cin >> n;\n    if(n==0)break;\n    Lastans=n;\n   number[11000]={0};\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n                a=number[i];\n                number[i]=j;\n\n            while(1){\n\n            if(number[i-Lsum-1]!=number[i+Rsum+1])break;\n            else target=number[i+Rsum+1];\n\n            R=right(i);\n            L=left(i);\n            if(R+L>=3&&Rsum==0&&Lsum==0){\n                Rsum+=R;\n                Lsum+=L;\n            }else if(R+L>=4){\n                Rsum+=R;\n                Lsum+=L;\n            }else break;\n                    }\n                ans=n-Rsum-Lsum-1;\n                if(ans<Lastans-1)Lastans=ans;\n\n                Lsum=0;\n                Rsum=0;\n                number[i]=a;\n\n                }\n\n            }\n\n            cout << Lastans << endl;\n\n    }\n    return 0;\n}\n\n\n\nint right(int in){\n\n    int sum=0;\n    while(1){\n    if(in+Rsum==n)break;\n    in++;\n    if(number[in+Rsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}\n\nint left(int in){\n\n    int sum=0;\n    while(1){\n    if(in-Lsum==-1)break;\n    in--;\n    if(number[in-Lsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,number[11000],po[11000],target,R,L,ans,Lastans,but;\nint right(int in);\nint left (int in);\nvoid Rdelete (int in);\nvoid Ldelete (int in);\n\nint main(){\n\n    cin >> n;\n\n    Lastans=n;\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        po[i]=number[i];\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n\n            target=j;\n\n            while(1){\n                but=0;\n\n            R=right(i);\n            L=left(i);\n            if(R+L+1>3){\n                Rdelete(i);\n                Ldelete(i);\n                but=1;\n                    }\n\n            if(but==0)break;\n\n            }\n\n            for(int k=0;k<n;k++){\n                if(number[k]!=po[k]){\n                        ans++;\n                        number[k]=po[k];\n                            }\n                        }\n                if(ans<Lastans&&ans!=0)Lastans=ans;\n                ans=0;\n\n               \n        }\n    }\n\n    cout << Lastans << endl;\n\n\n    return 0;\n\n}\n\nvoid Rdelete(int in){\n    while(1){\n    in++;\n    if(in==n)break;\n    if(target==number[in])number[in]=0;\n    else if(number[in]==0);\n    else break;\n    }\n}\n\nvoid Ldelete(int in){\n    while(1){\n    in--;\n    if(in==-1)break;\n    if(target==number[in])number[in]=0;\n    else if(number[in]==0);\n    else break;\n    }\n}\n\nint right(int in){\n    int sum=0;\n    while(1){\n    in++;\n    if(in==n)break;\n    if(number[in]==target)sum++;\n    else if(number[in]==0);\n    else break;\n    }\n    return sum;\n}\n\nint left(int in){\n    int sum=0;\n    while(1){\n    in--;\n    if(in==-1)break;\n    if(number[in]==target)sum++;\n    else if(number[in]==0);\n    else break;\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,n)\tfor(int i=a;i<n;i++)\n\nint main(){\n\tint n;\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0)\treturn 0;\n\t\tvector<int> a(n);\n\t\trep(i,0,n)\tcin>>a[i];\n\t\tint ans=(1<<30);\n\t\trep(i,0,n){\n\t\t\trep(j,1,4){\n\t\t\t\tvector<int> b(a);\n\t\t\t\tif(b[i]==j)\tcontinue;\n\t\t\t\tb[i]=j;\n\t\t\t\tint m=n,cur=i;\n\t\t\t\tint cnt=1,o=i,u=i;\n\t\t\t\twhile(true){\n\t\t\t\t\tcnt=0;\n\t\t\t\t\to=u=cur;\n\t\t\t\t\twhile(o>1&&b[cur]==b[o-1])\to--,cnt++;\n\t\t\t\t\twhile(u<m&&b[cur]==b[u])\tu++,cnt++;\n\t\t\t\t\tif(cnt<4)\tbreak;\n\t\t\t\t\tb.erase(b.begin()+o,b.begin()+u);\tm-=cnt;\n\t\t\t\t\tcur=o;\n\t\t\t\t}\n\t\t\t\tans=min(ans,m);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000]={0},o[10000]={0};\n/*int X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}*/\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m,l;\n\tcin>>n;\n\tif(n==0)break;\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=n-1&&p[i]!=p[i+1]&&f[i]+f[i+1]>=4||i!=0&&p[i]!=p[i-1]&&f[i]+f[i-1]>=4){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\nt=1;\nwhile(t!=0){\nint e,z,u,k,g=0,w;\nt=0;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\n}\n\t\t\t\t\tm=min(m,g);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nint n;\nint ans;\nint a[10010];\n\nvoid solve(){\n\tans = n;\n\tfor(int i = 0; i < n; i++) scanf(\"%d\", &a[i]);\n\tfor(int i = 0; i < n; i++){\n\t\tfor(int j = 1; j <= 3; j++){\n\t\t\tint s = i, e = i, cnt = 1, tmp = n, color = j;\n\t\t\tif(a[i] == j) continue;\n\t\t\twhile(true){\n\t\t\t\twhile(true){\n\t\t\t\t\tif(s-1 >= 0 && a[s-1] == color){\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\ts--;\n\t\t\t\t\t} else break;\n\t\t\t\t}\n\t\t\t\twhile(true){\n\t\t\t\t\tif(e+1 < n && a[e+1] == color){\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\te++;\n\t\t\t\t\t} else break;\n\t\t\t\t}\n\t\t\t\tif(cnt >= 4){\n\t\t\t\t\ttmp -= cnt;\n\t\t\t\t\tif(tmp <= 3) break;\n\t\t\t\t\tif(s-1 >= 0) color = a[s-1];\n\t\t\t\t\telse if(e+1 < n) color = a[e+1];\n\t\t\t\t\tcnt = 0;\n\t\t\t\t} else break;\n\t\t\t}\n\t\t\tif(ans > tmp) ans = tmp;\n\t\t}\n\t}\n\tprintf(\"%d\\n\", ans);\n}\n\nint main(){\n\twhile(scanf(\"%d\", &n), n) solve();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main() {\n\tint n,a,c = -1,cnt = 1;\n\tvector<P> chain;\n\twhile(cin >> n,n){\n\tfor(int i = 0;i < n;i++) {\n\t\tcin >> a;\n\t\tif(a == c) cnt++;\n\t\telse{\n\t\t\tif(c != -1) chain.push_back(P(cnt,c));\n\t\t\tcnt = 1;\n\t\t\tc = a;\n\t\t}\n\t}\n\tchain.push_back(P(cnt,c));\n\tint mi = (int)1e+9;\n\tfor(int i = 0;i < chain.size();i++){\n\t\tif(i != 0 && i != chain.size() - 1 && chain[i].first == 1){\n\t\t\tint left = i - 1,right = i + 1,sum = 0;\n\t\t\twhile(1){\n\t\t\t\tif(left < 0 || right >= chain.size()) break;\n\t\t\t\tif(chain[left].second != chain[right].second || (right - left > 2 && chain[left].first + chain[right].first < 4) || (right - left == 2 && chain[left].first + chain[right].first < 3)) break;\n\t\t\t\tleft--;\n\t\t\t\tright++;\n\t\t\t}\n\t\t\tfor(int j = 0;j <= left;j++) sum += chain[j].first;\n\t\t\tfor(int j = right;j < chain.size();j++) sum += chain[j].first;\n\t\t\tif(right - left == 2) sum++;\n\t\t\tmi = min(mi,sum);\n\t\t}\n\t}\n\tcout << mi << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<queue>\n#include<utility>\n#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<numeric>\n#include<functional>\n#include<string>\n#include<iostream>\nusing namespace std;\nconst long long int one = 1;\nconst long long int big = (one<<40);\ntypedef long long int llint;\nbool solve(void){\n\tint h,i,N,ans,gen,up,down,moto,kesu,Ckesu;\n\tint C[10005];\n\tscanf(\"%d\",&N);\n\tif(N==0){return false;}\n\tans=N;\n\tC[0]=4;\n\tfor(i=1;i<=N;i++){\n\t\tscanf(\"%d\",&C[i]);\n\t}\n\tC[N+1]=4;\n\tfor(h=1;h<=N;h++){\n\t\tmoto=C[h];\n\t\tC[h]=1;\n\t\tup=h;\n\t\tdown=h+1;\n\t\tgen=0;\n\t\twhile(C[up]==C[down]){\n\t\t\tkesu=0;\n\t\t\tCkesu=C[up];\n\t\t\twhile(Ckesu==C[up]){\n\t\t\t\tup--;kesu++;\n\t\t\t}\n\t\t\twhile(Ckesu==C[down]){\n\t\t\t\tdown++;kesu++;\n\t\t\t}\n\t\t\tif(kesu<4){ break; }\n\t\t\tgen+=kesu;\n\t\t}\n\t\tans=min(ans,N-gen);\n\t\tC[h]=2;\n\t\tup=h;\n\t\tdown=h+1;\n\t\tgen=0;\n\t\twhile(C[up]==C[down]){\n\t\t\tkesu=0;\n\t\t\tCkesu=C[up];\n\t\t\twhile(Ckesu==C[up]){\n\t\t\t\tup--;kesu++;\n\t\t\t}\n\t\t\twhile(Ckesu==C[down]){\n\t\t\t\tdown++;kesu++;\n\t\t\t}\n\t\t\tif(kesu<4){ break; }\n\t\t\tgen+=kesu;\n\t\t}\n\t\tans=min(ans,N-gen);\n\t\tC[h]=3;\n\t\tup=h;\n\t\tdown=h+1;\n\t\tgen=0;\n\t\twhile(C[up]==C[down]){\n\t\t\tkesu=0;\n\t\t\tCkesu=C[up];\n\t\t\twhile(Ckesu==C[up]){\n\t\t\t\tup--;kesu++;\n\t\t\t}\n\t\t\twhile(Ckesu==C[down]){\n\t\t\t\tdown++;kesu++;\n\t\t\t}\n\t\t\tif(kesu<4){ break; }\n\t\t\tgen+=kesu;\n\t\t}\n\t\tans=min(ans,N-gen);\n\t\tC[h]=moto;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn true;\n}\nint main(void){\n\twhile(solve()){}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, deque<int>&r) {\n\tint lt = !l.empty()?l.back():-1;\n\tint rt =!r.empty()? r[0]:-1;\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num>=3) {\n\t\t\tint ls = l.size();\n\t\t\tfor (int i = a + 1; i < ls; ++i) {\n\t\t\t\tl.pop_back();\n\t\t\t}\n\t\t\tfor (int i = 0; i < b; ++i) {\n\t\t\t\tr.pop_front();\n\t\t\t}\n\t\t\treturn num+1 + getans(l, r);\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint getans(const vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\tvector<int>l(as.begin(), as.begin() + f);\n\t\tdeque<int> r;\n\t\tfor (int i = t + 1; i < as.size(); ++i) {\n\t\t\tr.push_back(as[i]);\n\t\t}\n\t\treturn (t-f+1)+getans(l, r);\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\t\t\t\t\t\n\t\tint minChara = n;\n\n\t\tif(v.size() >= 2){\n\t\t\tfor(int i=0;i<v.size();i++){\n\t\t\t\tif(v[i].size >= 3){\n\t\t\t\t\tminChara = std::min(minChara, n - (v[i].size + 1));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\t\tif(v[i].size == 1 && v[i-1].color == v[i+1].color && v[i-1].size + v[i+1].size + 1 >= 4){\n\t\t\t\t\t\tint destroyChara = v[i-1].size + v[i+1].size + 1,\n\t\t\t\t\t\t\tupperChara = i-2,\n\t\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\t\tif(v[upperChara].color == v[lowerChara].color && v[upperChara].size + v[lowerChara].size >= 4){\n\t\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\n\t\tstd::cout << minChara << std::endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\nint check(vector<int> c)\n{\n  bool f=1;\n  int cnt,i,j;\n  vector<int>::iterator it,it2;\n  while(f){\n    cnt=f=0;\n    it=it2=c.begin();\n    for(it++;it!=c.end();it++){\n      if(*it==*it2){\n\tcnt++;\n      }else if(cnt>=3){\n\tfor(;cnt>=0;cnt--){\n\t  it--;\n\t  it2=it;\n\t  c.erase(it2);\n\t}\n\tf=1;\n\tbreak;\n      }else{\n\tcnt=0;\n      }\n      it2=it;\n    }\n  }\n  return c.size();\n}\n\nint main()\n{\n  int N,i,j;\n  int min,rest;\n  while(cin>>N,N){\n    vector<int> chara(N);\n    for(i=0;i<N;i++)cin>>chara[i];\n    min=INT_MAX;\n    for(i=0;i<N;i++){\n      for(j=1;j<=3;j++){\n\tif(chara[i]==j)continue;\n\tint t=chara[i];\n\tchara[i]=j;\n\trest=check(chara);\n\tchara[i]=t;\n\tif(min>rest)min=rest;\n      }\n    }\n    printf(\"%d\\n\",min);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n\nint right(int iro[],int kazu[],int m,int len){\n\tint l=1;int r=3;\n\twhile(true){\n\t\tif(iro[m-l]==iro[m+r] && 4<=kazu[m-l]+kazu[m+r]){\n\t\t\tl+=1;\n\t\t\tr+=1;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t}\n\tint w=0;\n\tfor(int n=0;n<=m-l;n++){\n\t\tw+=kazu[n];\n\t}\n\tfor(int aa=m+r;aa<=len;aa++){\n\t\tw+=kazu[aa];\n\t}\n\treturn w;\n}\n\n\n\nint left(int iro[],int kazu[],int m,int len){\n\tint l=3;int r=1;\n\twhile(true){\n\t\tif(iro[m-l]==iro[m+r]&&4<=kazu[m-l]+kazu[m+r]){\n\t\t\tl+=1;\n\t\t\tr+=1;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t}\n\tint w=0;\n\tfor(int n=0;n<=m-l;n++){\n\t\tw+=kazu[n];\n\t}\n\tfor(int aa=m+r;aa<=len;aa++){\n\t\tw+=kazu[aa];\n\t\n\t}\n\treturn w;\n}\n\n\n\n\n\nint thright(int iro[],int kazu[],int m,int len){\n\tkazu[m]+=1;\n\tkazu[m+1]-=1;\n\tint l=1;\n\tint r=1;\n\tint w=0;\n\twhile(true){\n\t\tif(iro[m-l]==iro[m+r]&&4<=kazu[m-l]+kazu[m+r]){\n\t\t\tl+=1;\n\t\t\tr+=1;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(int n=0;n<=m-l;n++){\n\t\tw+=kazu[n];\n\t}\n\tfor(int aa=m+r;aa<=len;aa++){\n\t\tw+=kazu[aa];\n\t}\n\tkazu[m]-=1;\n\tkazu[m+1]+=1;\nreturn w;\n}\n\n\nint thleft(int iro[],int kazu[],int m,int len){\n\tkazu[m]+=1;\n\tkazu[m-1]-=1;\n\tint l=1;\n\tint r=1;\n\tint w=0;\n\twhile(true){\n\t\tif(iro[m-l]==iro[m+r]&&4<=kazu[m-l]+kazu[m+r]){\n\t\t\tl+=1;\n\t\t\tr+=1;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor(int n=0;n<=m-l;n++){\n\t\tw+=kazu[n];\n\t}\n\tfor(int aa=m+r;aa<=len;aa++){\n\t\tw+=kazu[aa];\n\t}\n\tkazu[m]-=1;\n\tkazu[m-1]+=1;\nreturn w;\n}\n\n\n\n\nint main(){\n\twhile(true){\n\t\t\n\t\tint kazu[10000]={};\n\t\tint iro[10000]={};\n\t\tint a,b,c;\n\t\tint len=1;\n\t\tcin >> a;\n\t\tif(a==0){\n\t\t\tbreak;\n\t\t}\n\t\tcin >> c;\n\t\tint z=0;\n\t\tiro[0]={c};\n\t\tkazu[0]={1};\n\t\tfor(int n=0;n<a-1;n++){\n\t\t\tcin >> b;\n\t\t\tif(c!=b){\n\t\t\t\tz+=1;\n\t\t\t\tiro[z]={b};\n\t\t\t\tc=b;\n\t\t\t\tlen+=1;\n\t\t\t}\n\t\t\tkazu[z]+=1;\n\t\t}\n\t\tint anser=a;\n\t\tfor(int m=0;m<len;m++){\n\t\t\tif(kazu[m]>=2){\n\t\t\t\tif(m!=len&&iro[m]==iro[m+2]&&kazu[m+1]==1){\n\t\t\t\t\tanser=min(anser,right(iro,kazu,m,len));\n\t\t\t\t}\n\t\t\t\tif(m!=0&&iro[m]==iro[m-2]&&kazu[m-1]==1){\n\t\t\t\t\tanser=min(anser,left(iro,kazu,m,len));\n\t\t\t\t}\n\t\t\t\tif(kazu[m]==3){\n\t\t\t\t\tif(m!=len){\n\t\t\t\t\t\tanser=min(anser,thright(iro,kazu,m,len));\n\t\t\t\t\t}\n\t\t\t\t\tif(m!=0){\n\t\t\t\t\t\tanser=min(anser,thleft(iro,kazu,m,len));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\n\t\t}\n\t\tprintf(\"%d\\n\",anser);\n\t}\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define INF (1 << 29)\n\nint chain(vector<int> A, int N)\n{\n\twhile (true)\n\t{\n\t\tfor (int i = 4; i <= N; ++i)\n\t\t{\n\t\t\tfor (int j = 0; j <= N - i; ++j)\n\t\t\t{\n\t\t\t\tfor (int k = 0; k < i - 1; ++k)\n\t\t\t\t{\n\t\t\t\t\tif (A[j + k] != A[j + k + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tgoto Exit1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tA.erase(A.begin() + j, A.begin() + j + i);\n\n\t\t\t\tgoto Exit2;\n\n\t\t\tExit1:;\n\t\t\t}\n\t\t\tgoto Exit3;\n\n\t\tExit2:;\n\t\t}\n\t}\n\nExit3:;\n\n\treturn A.size();\n}\n\nint main()\n{\n\tint N; cin >> N;\n\n\tvector<int> C1(N);\n\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tcin >> C1[i];\n\t}\n\n\tint Ans = INF;\n\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tvector<int> C2;\n\n\t\tC2 = C1;\n\n\t\tfor (int j = 1; j < 4; ++j)\n\t\t{\n\t\t\tC2[i] = j;\n\n\t\t\tAns = min(Ans, chain(C2, N));\n\t\t}\n\t}\n\n\tcout << Ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n, ans;\nint a[10000];\n\nint d(int x, int c){\n\tint b[n];\n\tfor(int i=0; i<n; i++){\n\t\tb[i] = a[i];\n\t}\n\tb[x] = c;\n\twhile(1){\n\t\tbool f = false;\n\t\tfor(int i=0; i<n-3; i++){\n\t\t\tif(b[i] != 0){\n\t\t\t\tif(b[i] == b[i+1] && b[i] == b[i+2] && b[i] == b[i+3]){\n\t\t\t\t\tf = true;\n\t\t\t\t\tint e = b[i];\n\t\t\t\t\tb[i] = 0;\n\t\t\t\t\tb[i+1] = 0;\n\t\t\t\t\tb[i+2] = 0;\n\t\t\t\t\tb[i+3] = 0;\n\t\t\t\t\tfor(int j=i+4; j<n; j++){\n\t\t\t\t\t\tif(b[j] == e) b[j] = 0;\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j=i; j<n; j++){\n\t\t\t\t\t\tif(b[j] == 0){\n\t\t\t\t\t\t\tfor(int k=j+1; k<n; k++){\n\t\t\t\t\t\t\t\tif(b[k] != 0){\n\t\t\t\t\t\t\t\t\tb[j] = b[k];\n\t\t\t\t\t\t\t\t\tb[k] = 0;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!f) break;\n\t}\n\tint g = 0;\n\tfor(int i=0; i<n; i++){\n\t\tif(b[i] != 0) g++;\n\t}\n\treturn g;\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) break;\n\t\tfor(int i=0; i<10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\tans = 100100100;\n\t\tfor(int i=0; i<n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\tfor(int i=1; i<n-4; i++){\n\t\t\tif(a[i] == a[i+1] && a[i] == a[i+2]){\n\t\t\t\tfor(int j=1; j<4; j++){\n\t\t\t\t\tif(a[i] == j){\n\t\t\t\t\t\tans = min(ans, d(i-1, j));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=n-2; i>1; i--){\n\t\t\tif(a[i] == a[i-1] && a[i] == a[i-2]){\n\t\t\t\tfor(int j=1; j<4; j++){\n\t\t\t\t\tif(a[i] == j){\n\t\t\t\t\t\tans = min(ans, d(i+1, j));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nmain(){while(true){int x[11000],n,i,j,k,l,m,y[11000],b,c,d,p[11000],w;scanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}c=0;d=0;m=n;d=m;w=99999;\nfor(i=0;i<n;i++){for(j=1;j<=3;j++){if(i>=1&&y[i-1]!=j&&y[i+1]!=j){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){if(p[k]==p[k+1]){b++;}\nelse{if(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}m=d;}\nif(c==0){break;}\nelse{c=0;}}\nw=std::min(w,m);x[i]=y[i];\nfor(k=0;k<n;k++){p[k]=y[k];}\nz:;\n}}printf(\"%d\\n\",w);}}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = num;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = num;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 1; i < num-1; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tstart -=(left+1);\n\t\t\t\t\tend +=(right+1);\n\t\t\t\t\tif (start == 0)break;\n\t\t\t\t\tif (end == num)break;\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start+1)ans = num - end + start+1;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\n#include<utility>\n#include<cmath>\n#include<ctime>\n#include<complex>\n\nusing namespace std;\n\n#define REP(i,s,e) for(int i=int(s);i<=int(e);i++)\n#define rep(i,n) for(int i=0;i<int(n);i++)\n\nvector<int>s;\nvoid f(vector<int>& x){\n\n\tint r=x.size();\n    if(r<4) return;\n    else{\n\n    \tint p;\n        bool b=false;\n    \t\tREP(i,0,r-4){\n    \t\tif(x[i]==x[i+1] && x[i]==x[i+2] && x[i]==x[i+3]){\n    \t\t\tp=i; b=true; break;\n    \t\t}\n    \t\t}\n\n            if(b){\n                if(x[p]!=x[p+4] && p+4<=r){ x.erase(x.begin()+p,x.begin()+p+4); f(x);}\n                if(x[p]==x[p+4] && x[p]!=x[p+5] && p+5<=r){ x.erase(x.begin()+p,x.begin()+p+5); f(x);}\n                if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]!=x[p+6] && p+6<=r){ x.erase(x.begin()+p,x.begin()+p+6); f(x);}\n                if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]==x[p+6] && p+6<r){ x.erase(x.begin()+p,x.begin()+p+7); f(x);}\n\n              }\n\n            else return;\n\n    }\n\n\t}\n\nint main(){\n\n\twhile(1){\n\n\t\tint N,a;\n\n\t\tcin >> N;\n\t\tif(N==0) break;\n\n\t\trep(i,N){\n\t\t\tcin >> a;\n\t\t\ts.push_back(a);\n\t\t}\n\n\t\tif(N<4){ cout << N << endl;}\n\t\telse{\n\n\t\tvector<int>s1=s; int M=10000;\n\t\trep(i,N){\n\n\t\t\tif(s1[i]==1){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif(s1[i]==2){\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif(s1[i]==3){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t}\n\n\t\tcout << M << endl;\n\n\t\ts.clear();\n\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+4, -1);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+2]);\n        }\n        v[0] = 100; v[n+3] = 100;\n        int ans = INF<int>;\n        for (int i = 2; i <= n+1; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int t = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = t;\n                ans = min(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=check[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "     #include <bits/stdc++.h>\n\n//    #include <boost/multiprecision/cpp_int.hpp>\n #define int long long\n #define inf  1000000007\n #define pa pair<int,int>\n #define ll long long\n #define pal pair<double,double>\n #define ppap pair<pa,int>\n//  #define PI 3.14159265358979323846\n  #define paa pair<int,char>\n  #define  mp make_pair\n  #define  pb push_back\n  #define EPS (1e-10)\n                                          \n    int dx[8]={0,-1,0,1,1,1,-1,-1};\n    int dy[8]={1,0,-1,0,-1,1,1,-1};\n                                            using namespace std;\n                                   \t\t\tclass pa3{\n                                            \tpublic:\n                                            \tint x,y,z;\n                                            \tpa3(int x=0,int y=0,int z=0):x(x),y(y),z(z) {}\n                                            \tbool operator < (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\t return z<p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                   \t\t\t\tbool operator > (const pa3 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\t return z>p.z;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa3 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z;\n                                            \t}\n                                            \t\tbool operator != (const pa3 &p) const{\n                                            \t\t\treturn !( x==p.x && y==p.y && z==p.z);\n                                            \t}\n                                            \n                                            };\n                                            \n                                            class pa4{\n                                            \tpublic:\n                                            \tdouble x;\n                                            \tint y,z,w;\n                                            \tpa4(double x=0,int y=0,int z=0,int w=0):x(x),y(y),z(z),w(w) {}\n                                            \tbool operator < (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x<p.x;\n                                            \t\tif(y!=p.y) return y<p.y;\n                                            \t\tif(z!=p.z)return z<p.z;\n                                            \t\treturn w<p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator > (const pa4 &p) const{\n                                            \t\tif(x!=p.x) return x>p.x;\n                                            \t\tif(y!=p.y) return y>p.y;\n                                            \t\tif(z!=p.z)return z>p.z;\n                                            \t\treturn w>p.w;\n                                            \t\t//return x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa4 &p) const{\n                                            \t\treturn x==p.x && y==p.y && z==p.z &&w==p.w;\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            class pa2{\n                                            \tpublic:\n                                            \tint x,y;\n                                            \tpa2(int x=0,int y=0):x(x),y(y) {}\n                                            \tpa2 operator + (pa2 p) {return pa2(x+p.x,y+p.y);}\n                                            \tpa2 operator - (pa2 p) {return pa2(x-p.x,y-p.y);}\n                                            \tbool operator < (const pa2 &p) const{\n                                            \t\treturn y != p.y ? y<p.y: x<p.x;\n                                            \t}\n                                            \tbool operator > (const pa2 &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const pa2 &p) const{\n                                            \t\treturn abs(x-p.x)==0 && abs(y-p.y)==0;\n                                            \t}\n                                            \tbool operator != (const pa2 &p) const{\n                                            \t\treturn !(abs(x-p.x)==0 && abs(y-p.y)==0);\n                                            \t}\n                                            \t\t\n                                            \n                                            };\n                                            \n/*\n                                            class Point{\n                                            \tpublic:\n                                            \tdouble x,y;\n                                            \tPoint(double x=0,double y=0):x(x),y(y) {}\n                                            \tPoint operator + (Point p) {return Point(x+p.x,y+p.y);}\n                                            \tPoint operator - (Point p) {return Point(x-p.x,y-p.y);}\n                                            \tPoint operator * (double a) {return Point(x*a,y*a);}\n                                            \tPoint operator / (double a) {return Point(x/a,y/a);}\n                                            \tdouble absv() {return sqrt(norm());}\n                                            \tdouble norm() {return x*x+y*y;}\n                                            \tbool operator < (const Point &p) const{\n                                            \t\treturn x != p.x ? x<p.x: y<p.y;\n                                            \t}\n                                            \tbool operator == (const Point &p) const{\n                                            \t\treturn fabs(x-p.x)<EPS && fabs(y-p.y)<EPS;\n                                            \t}\n                                            };\n                                            typedef Point Vector;\n                                     #define pl pair<int,pas>\n                                            struct Segment{\n                                            Point p1,p2;\n                                            };\n                                             double dot(Vector a,Vector b){\n                                            \treturn a.x*b.x+a.y*b.y;\n                                            }\n                                            double cross(Vector a,Vector b){\n                                            \treturn a.x*b.y-a.y*b.x;\n                                            }\n                                        \n                bool parareru(Point a,Point b,Point c,Point d){\n                //\tif(abs(cross(a-b,d-c))<EPS)cout<<\"dd \"<<cross(a-b,d-c)<<endl;\n                \treturn abs(cross(a-b,d-c))<EPS;\n                }\n                double distance_ls_p(Point a, Point b, Point c) {\n                  if ( dot(b-a, c-a) < EPS ) return (c-a).absv();\n                  if ( dot(a-b, c-b) < EPS ) return (c-b).absv();\n                  return abs(cross(b-a, c-a)) / (b-a).absv();\n                }\n                bool is_intersected_ls(Segment a,Segment b) {\n                \tif(a.p1==b.p1||a.p2==b.p1||a.p1==b.p2||a.p2==b.p2) return false;\n                \tif(parareru((a.p2),(a.p1),(a.p1),(b.p2))&&parareru((a.p2),(a.p1),(a.p1),(b.p1))){\n                //\t\tcout<<\"sss\"<<endl;\n                \t\tif(dot(a.p1-b.p1,a.p1-b.p2)<EPS) return true;\n                \t\tif(dot(a.p2-b.p1,a.p2-b.p2)<EPS) return true;\n                \t\tif(dot(a.p1-b.p1,a.p2-b.p1)<EPS) return true;\n                \t\tif(dot(a.p1-b.p2,a.p2-b.p2)<EPS) return true;\n                \t\treturn false;\n                \t}\n                  else return ( cross(a.p2-a.p1, b.p1-a.p1) * cross(a.p2-a.p1, b.p2-a.p1) < EPS ) && ( cross(b.p2-b.p1, a.p1-b.p1) * cross(b.p2-b.p1, a.p2-b.p1) < EPS );\n                }\n                 \n                double segment_dis(Segment a,Segment b){\n                \tif(is_intersected_ls(a,b))return 0;\n                \tdouble r=distance_ls_p(a.p1, a.p2, b.p1);\n                \tr=min(r,distance_ls_p(a.p1, a.p2, b.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p2));\n                \tr=min(r,distance_ls_p(b.p1, b.p2, a.p1));\n                \treturn r;\n                }\n                Point intersection_ls(Segment a, Segment b) {\n                  Point ba = b.p2-b.p1;\n                  double d1 = abs(cross(ba, a.p1-b.p1));\n                  double d2 = abs(cross(ba, a.p2-b.p1));\n                  double t = d1 / (d1 + d2);\n                 \n                  return a.p1 + (a.p2-a.p1) * t;\n                }\n */                \n                                string itos( int i ) {\n                                ostringstream s ;\n                                s << i ;\n                                return s.str() ;\n                                }\n                                 \n                                int gcd(int v,int b){\n                                \tif(v>b) return gcd(b,v);\n                                \tif(v==b) return b;\n                                \tif(b%v==0) return v;\n                                \treturn gcd(v,b%v);\n                                }\n                 \n                                double distans(double x1,double y1,double x2,double y2){\n                                \tdouble rr=(x1-x2)*(x1-x2)+(y1-y2)*(y1-y2);\n                                \treturn sqrt(rr);\n                                \t\n                                }\n                                int mod;\n                                \n                int pr[500010];\n                int inv[500010];\n                \n                int beki(int wa,int rr,int warukazu){\n                \tif(rr==0) return 1%warukazu;\n                \tif(rr==1) return wa%warukazu;\n                \tif(rr%2==1) return (beki(wa,rr-1,warukazu)*wa)%warukazu;\n                \tint zx=beki(wa,rr/2,warukazu);\n                \treturn (zx*zx)%warukazu;\n                }\n    double bekid(double w,int r){\n    \tif(r==0) return 1.0;\n    \tif(r==1) return w;\n    \tif(r%2) return bekid(w,r-1)*w;\n    \tdouble f=bekid(w,r/2);\n    \treturn f*f;\n    }\n                \n    \t\t\tint comb(int nn,int rr){\n    \t\t\t\tint r=pr[nn]*inv[rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\tr*=inv[nn-rr];\n    \t\t\t\tr%=mod;\n    \t\t\t\treturn r;\n    \t\t\t}\n                \n                void gya(int ert){\n                \tpr[0]=1;\n                \tfor(int i=1;i<ert;i++){\n                \t\tpr[i]=(pr[i-1]*i)%mod;\n                \t}\n                \tfor(int i=0;i<ert;i++) inv[i]=beki(pr[i],mod-2,mod);\n                \t\n                }\n                \n              //   cin.tie(0);\n    \t\t//\tios::sync_with_stdio(false);\n    \t\t\t//priority_queue<pa3,vector<pa3>,greater<pa3>> pq;            \n                 //sort(ve.begin(),ve.end(),greater<int>());\n                                         //----------------kokomade tenpure------------\n                //vector<double> ans(100000000),ans2(100000000)\n      \nint a[100020];\nint n;\n\nint solve(){\n\tvector<pa> ve;\n\t\n\tve.pb(mp(a[0],1));\n\tfor(int i=1;i<n;i++){\n\t\tif(ve.back().first==a[i]) ve.back().second++;\n\t\telse ve.pb(mp(a[i],1));\n\t}\n\tint l=ve.size();\n\tint d=-1;\n\tfor(int i=0;i<l;i++){\n\t\tif(ve[i].second>=4) d=i;\n\t}\n\tif(d==-1) return n;\n\tint noz=ve[d].second;\n\tint k=1;\n\twhile(1){\n\t\tif(d-k<0|| d+k>=l) break;\n\t\tif(ve[d-k].first!=ve[d+k].first)break;\n\t\tif(ve[d-k].second+ve[d+k].second<=3)break;\n\t\tnoz+=ve[d-k].second+ve[d+k].second;\n\t\tk++;\n\t}\n\treturn n-noz;\n}\n\n  signed main(){\n    \t       cin.tie(0);\n    \t\t\tios::sync_with_stdio(false);\n  \twhile(1){\ncin>>n;\n  \t\tif(n==0) break;\n  \tfor(int i=0;i<n;i++)cin>>a[i];\n  \tint ans=n;\n  \tfor(int i=0;i<n;i++){\n  \t\tif(i>0 && a[i]!=a[i-1]){\n  \t\t\tint t=a[i];\n  \t\t\ta[i]=a[i-1];\n  \t\t\tans=min(ans,solve());\n  \t\t\ta[i]=t;\n  \t\t}\n  \t\tif(i+1<n && a[i]!=a[i+1]){\n  \t\t\tint t=a[i];\n  \t\t\ta[i]=a[i+1];\n  \t\t\tans=min(ans,solve());\n  \t\t\ta[i]=t;\n  \t\t}\n  \t\t\n  \t}\n  \tcout<<ans<<endl;\n  \t}\n  \treturn 0;\n    }\n\n"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\nint tmp[11234][3];\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color - 1][1]; i <= bound[num][color - 1][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color - 1][1] - 1] != A[bound[num][color - 1][0] + 1]) {\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t}\n\t\telse { res += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]); }\n\t}\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\tif (A[i] != -1) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\t// printf(\"ans = %d  when : (%d,%d)\\n\", tmp[i][j], i + 1, j);\n\t\t\t\t\tfor (int k = 0; k < N; ++k) {\n\t\t\t\t\t\tif (A[k] != -1) {\n\t\t\t\t\t\t\t// printf(\"%d\", A[k]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// printf(\"0\");\n\t\t\t\t\t\t\tA[k] = memo_A[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// printf(\"\\n---------------------------------------------\\n\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i, n) for(int i = 0;i < n;i++)\n#define REPR(i, n) for(int i = n;i >= 0;i--)\n#define FOR(i, m, n) for(int i = m;i < n;i++)\n#define FORR(i, m, n) for(int i = m;i >= n;i--)\n#define SORT(v, n) sort(v, v+n);\n#define VSORT(v) sort(v.begin(), v.end());\n#define llong long long\n#define INF 999999999\n#define all(v) begin(v), end(v)\nusing namespace std;\ntypedef pair<int, int> P;\ntypedef pair<llong, llong> LP;\ntypedef pair<int, P> PP;\ntypedef pair<llong, LP> LPP;\n    \nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\n\nint n;\n    \nbool check(vector<int>& color){\n    if(color.size() < 4) return false;\n    \n    int cnt = 1;\n    FOR(i, 1, n){\n        if(color[i-1] == color[i]) cnt++;\n        else{\n            if(cnt >= 4){\n                color.erase(color.begin()+(i-cnt), color.begin()+i);\n                return true;\n            }\n            \n            cnt = 1;\n        }\n    }\n    \n    if(cnt >= 4){\n        color.erase(color.begin()+(n-cnt), color.end());\n    }\n    \n    return false;\n}\n    \nint solve(){\n    vector<int> v(n);\n    REP(i, n) cin >> v[i];\n    \n    int ans = INF;\n    vector<int> color;\n    REP(i, n){\n        color = v;\n        if(color[i] == 1) color[i] = 2;\n        else if(color[i] == 2) color[i] = 3;\n        else color[i] = 1;\n        while(check(color)){}\n        if(ans > color.size()) ans = color.size();\n        \n        color = v;\n        if(color[i] == 1) color[i] = 3;\n        else if(color[i] == 2) color[i] = 1;\n        else color[i] = 2;\n        while(check(color)){}\n        if(ans > color.size()) ans = color.size();\n    }\n    \n    cout << ans << endl;\n}\n\nint main(){\n    while(true){\n        cin >> n;\n        if(!n) return 0;\n        solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define INF (1 << 29)\n\nint N, Ans = INF;\n\nvector<int> C1;\nvector<int> C2;\n\nvoid dfs()\n{\n\tif (C2.size() > 3)\n\t{\n\t\tfor (int i = C2.size(); i > 3; --i)\n\t\t{\n\t\t\tfor (int j = 0; j < C2.size() - i + 1; ++j)\n\t\t\t{\n\t\t\t\tfor (int k = j; k < j + i - 1; ++k)\n\t\t\t\t{\n\t\t\t\t\tif (C2[k] != C2[k + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tgoto Exit1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tC2.erase(C2.begin() + j, C2.begin() + j + i);\n\n\t\t\t\tgoto Exit2;\n\n\t\t\tExit1:;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (false)\n\t{\n\t\tExit2:;\n\n\t\tdfs();\n\t}\n}\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tcin >> N;\n\n\t\tif (N == 0) { break; }\n\n\t\tC1.resize(N);\n\n\t\tfor (int i = 0; i < N; ++i) { cin >> C1[i]; }\n\n\t\tfor (int i = 0; i < N; ++i)\n\t\t{\n\t\t\tfor (int j = 1; j < 4; ++j)\n\t\t\t{\n\t\t\t\tC2 = C1;\n\n\t\t\t\tC2[i] = j;\n\n\t\t\t\tdfs();\n\n\t\t\t\tAns = min(Ans, (int)C2.size());\n\t\t\t}\n\t\t}\n\n\t\tcout << Ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\nint table[10001];\nint a;\n\nint solve(int b){\n\tint serch=table[b];\n\tint left=b;\n\tint right=b+1;\n\tint ret=a;\n\twhile(1){\n\t\tserch=table[left];\n\t\tint count=0;\n\t\twhile(table[left]==serch&&left>=0){\n\t\t\tleft--;\n\t\t\tcount++;\n\t\t}\n\t\twhile(table[right]==serch&&right<a){\n\t\t\tright++;\n\t\t\tcount++;\n\t\t}\n\t\tif(count<4)break;\n\t\telse ret-=count;\n\t\n\t}\n\t\treturn ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&a),a){\n\t\tint ret=9999999;\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",&table[i]);\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint temp=table[i];\n\t\t\ttable[i]=1;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=2;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=3;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=temp;\n\t\t}\n\t\tprintf(\"%d\\n\",ret);\n\t}\n\treturn 0;\n\t}\n\n\t "
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10002];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; i >= 0 && chain[a] == chain[i]; i--, len++);\n\tfor (j = b; j < n&&chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (true){\n\t\tscanf(\"%d\", &n);\n\t\tif (!n)return 0;\n\t\tint ans = 0;\n\t\tscanf(\"%s\", chain);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; s >= 0 && chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; g < n&&chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint n, m;\nvector<int> a;\n\nint up(int p) {\n\twhile (p > 0 && a[p] == a[p - 1])\n\t\tp--;\n\treturn p;\n}\n\nint dn(int q) {\n\twhile (q < n - 1 && a[q] == a[q + 1])\n\t\tq++;\n\treturn q;\n}\n\nvoid ct(int p, int q, int p1, int q1) {\n\twhile (q - q1 + p1 - p > 1 && p >= 0 && q < n) {\n\t\tm = min(m, n - q + p - 1);\n\n\t\tp--;\n\t\tq++;\n\t\tp1 = p;\n\t\tq1 = q;\n\t\tif (p >= 0 && q < n && a[p] == a[q]) {\n\t\t\tp = up(p);\n\t\t\tq = dn(q);\n\t\t}\n\t}\n}\n\nint main()\n{\n\tcin >> n;\n\n\twhile (n > 0) {\n\t\ta.resize(n);\n\t\tm = n;\n\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcin >> a[i];\n\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tif (i > 0 && i < n - 1 && a[i - 1] != a[i] && a[i - 1] == a[i + 1])\n\t\t\t\tct(up(i - 1), dn(i + 1), i, i + 1);\n\t\t\telse {\n\t\t\t\tif (i < n - 3 && a[i] != a[i + 1])\n\t\t\t\t\tct(i, dn(i + 1), i, i + 1);\n\t\t\t\tif (i > 2 && a[i] != a[i - 1])\n\t\t\t\t\tct(up(i - 1), i, i - 1, i);\n\t\t\t}\n\t\t}\n\n\t\tcout << m << endl;\n\n\t\tcin >> n;\n\t}\n\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n\n#define rep(i, n) for(int i = 0; i < (n); ++i)\n\nusing namespace std;\n\nint n;\nint x[10000];\n\nint main(){\n\twhile(true){\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\trep(i, n){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\tint ans = n;\n\t\trep(i, n){\n\t\t\tint c = x[i];\n\t\t\tfor(int j = -1; j <= 1; j += 2){\n\t\t\t\tif(i + j < 0 || i + j >= n){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tx[i] = x[i + j];\n\t\t\t\tint k = 0;\n\t\t\t\tint s = i, t = i;\n\t\t\t\twhile(s >= 0){\n\t\t\t\t\tint d = x[s];\n\t\t\t\t\twhile(s >= 0 && x[s] == d){\n\t\t\t\t\t\t--s;\n\t\t\t\t\t}\n\t\t\t\t\twhile(t < n && x[t] == d){\n\t\t\t\t\t\t++t;\n\t\t\t\t\t}\n\t\t\t\t\tif((t - s - 1) - k < 4){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tk = t - s - 1;\n\t\t\t\t\tans = min(n - k, ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tx[i] = c;\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps=1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, vector<int>&r) {\n\tint lt = l.back();\n\tint rt = r[0];\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num>=3) {\n\t\t\treturn num+1 + getans(vector<int>(l.begin(), l.begin() + a+1), vector<int>(r.begin() + b, r.end()));\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n}\nint getans(vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\treturn (t-f+1)+getans(vector<int>(as.begin(), as.begin() + f), vector<int>(as.begin() + t+1, as.end()));\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (scanf(\"%d\", &n), n){\n\t\tint ma = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){ ma = max(ccount(s, g, cnt), ma); }\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ma);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 200000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define EQ(a,b) (abs((a)-(b))<EPS)\nvi puyopuyo;\nint main()\n{\n\twhile(1)\n\t{\n\t\tpuyopuyo.clear();\n\t\tint n;\n\t\tint ans=n;\n\t\tcin >> n;\n\t\tif(n==0)break;\n\t\tpuyopuyo.pb(-1);\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint k;\n\t\t\tcin >> k;\n\t\t\tpuyopuyo.pb(k);\n\t\t}\n\t\tpuyopuyo.pb(-12);\n\t\tfor(int i=1;i<=puyopuyo.size();i++)\n\t\t{\n\t\t\tint tmp=puyopuyo[i];\n\t\t\tint top=i+1;\n\t\t\tint under=i;\n\t\t\tint res=n;\n\t\t\tpuyopuyo[under]=puyopuyo[top];\n\t\t\twhile(puyopuyo[under]==puyopuyo[top])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(tmp2==puyopuyo[under])\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\ttop=i;\n\t\t\tunder=i-1;\n\t\t\tres=n;\n\t\t\tpuyopuyo[top]=puyopuyo[under];\n\t\t\twhile(puyopuyo[top]==puyopuyo[under])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(puyopuyo[under]==tmp2)\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\tpuyopuyo[i]=tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\nint n,d[10000];\nint tt(int x,int c){\n  int y=x+1,k=n;\n  x--;\n  while(1){\n    int t=1,nx=x,ny=y;\n    for(int i=x;i>=0;i--)\n      if(c==d[i])t++,nx=i;\n      else break;\n    for(int i=y;i<n;i++)\n      if(c==d[i])t++,ny=i;\n      else break;\n    if(t<4)break;\n    nx--,ny++;\n    if(nx)c=d[nx],x=nx-1,y=ny;\n    else if(ny!=n)c=d[ny],x=nx,y=ny+1;\n    k-=t;\n  }\n  return k;\n}\n\nint main(){\n  while(cin>>n,n){\n    for(int i=0;i<n;i++)cin>>d[i];\n    int ans=n;\n    for(int i=0;i<n;i++)\n      for(int j=1;j<=3;j++)\n\tans=min(ans,tt(i,j));\n    cout<<ans<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <stdio.h>\n#include <vector>\nusing namespace std;\n\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input[10];\n\t\t\tscanf(\"%s\",input);\n\t\t\tarray += input[0];\n\t\t}\n\n\t\tint answer = 10000000;\n\t\tvector<int> points;\n\t\tfor(int i=1;i<array.size()-1;i++){\n\t\t\tif(array[i-1] != array[i] || array[i+1] != array[i]){\n\t\t\t\tpoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<points.size();i++){\n\t\t\tstring memo = array;\n\t\t\tvector<char> list;\n\t\t\tif(memo[points[i]] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[points[i]] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[points[i]] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[10001]={};\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(memo.size() == 0){\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tint size = memo.size();\n\t\t\t\tanswer = min(answer,size);\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "// 2011/10/22 Tazoe\n\n#include <iostream>\nusing namespace std;\n\nint no(int C[10002], int i, int c)\n{\n\tint sum = 0;\n\tint nc = 1;\n\tint p = i-1;\n\tint q = i+1;\n\n\twhile(C[p]==c){\n\t\tnc++;\n\t\tp--;\n\t}\n\twhile(C[q]==c){\n\t\tnc++;\n\t\tq++;\n\t}\n\n\tif(nc<4)\n\t\treturn 0;\n\telse\n\t\tsum = nc;\n\n\twhile(true){\n\t\tif(C[p]==0||C[q]==0||C[p]!=C[q])\n\t\t\treturn sum;\n\n\t\tc = C[p];\n\t\tnc = 0;\n\n\t\twhile(C[p]==c){\n\t\t\tnc++;\n\t\t\tp--;\n\t\t}\n\t\twhile(C[q]==c){\n\t\t\tnc++;\n\t\t\tq++;\n\t\t}\n\n\t\tif(nc<4)\n\t\t\treturn sum;\n\t\telse\n\t\t\tsum += nc;\n\t}\n\n\treturn -1;\n}\n\nint main()\n{\n\twhile(true){\n\t\tint N;\n\t\tcin >> N;\n\t\tif(N==0)\n\t\t\tbreak;\n\n\t\tint C[10002];\n\t\tC[0] = 0;\n\t\tfor(int i=1; i<=N; i++)\n\t\t\tcin >> C[i];\n\t\tC[N+1] = 0;\n\n\t\tint M = N;\n\t\tfor(int i=1; i<=N; i++){\n\t\t\tfor(int j=1; j<=3; j++){\n\t\t\t\tint n = no(C, i, j);\n\t\t\t\tif(N-n<M)\n\t\t\t\t\tM = N-n;\n\t\t\t}\n\t\t}\n\n\t\tcout << M << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <map>\n#include <utility>\n#include <functional>\n\nusing namespace std;\n\nint n;\n\nint chain(vector<int> chara, int s, int color) {\n\tchara[s] = color;\n\tint size = n;\n\tbool change = true;\n\twhile (change) {\n\t\tchange = false;\n\t\tfor (int i = 0, j = 0; j < size; i = j) {\n\t\t\twhile (j < size && chara[i] == chara[j])\n\t\t\t\tj++;\n\t\t\tif (j - i >= 4) {\n\t\t\t\tchara.erase(chara.begin() + i, chara.begin() + j);\n\t\t\t\tchange = true;\n\t\t\t\tsize = chara.size();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chara.size();\n}\n\nint main() {\n\twhile (cin >> n && n != 0) {\n\t\tvector<int> chara(n);\n\t\tint ans = n;\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tcin >> chara[i];\n\t\t}\n\n\t\tchain(chara, 5, 2);\n\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\tif (chara[i] != j)\n\t\t\t\t\tans = min(ans, chain(chara, i, j));\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n  for(int i=0,j=0;j<a.size();){\n    if(a[j]==a[j+1])j++;\n    else {\n      if(j-i>2){\n\ta.erase(a.begin()+i,a.begin()+j+1);\n\ti=j=0;\n      }\n      else j++,i=j;\n    }\n  }\n  return a.size();\n}\n\nint main(void){\n  int n,m;\n  vector<int>a;\n\n  while(cin >> n,n){\n    a.clear();\n    for(int i=0;i<n;i++){\n      cin >> m;\n      a.push_back(m);\n    }\n\n    int ans=100000000;\n    for(int i=0;i<a.size();i++){\n      int temp=a[i];\n      for(int j=1;j<4;j++){\n\tif(temp!=j){\n\t  a[i]=j;\n\t  ans=min(ans,Erase(a));\n\t}\n      }\n      a[i]=temp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <complex>\n#include <cstring>\n#include <cstdlib>\n#include <string>\n#include <cmath>\n#include <queue>\nusing namespace std;\n\n#define REP(i,n) for(int i=0;i<(int)n;++i)\n#define FOR(i,c) for(__typeof((c).begin())i=(c).begin();i!=(c).end();++i)\n#define ALL(c) (c).begin(), (c).end()\nconst int INF = 1<<29;\n\nint main() {\n  int n;\n  while(cin>>n,n) {\n    int a[n];\n    REP(i,n)\n      cin>>a[i];\n    int res = 0;\n    REP(i,n) {\n      int dn = 0;\n      int hazime = 1;\n      for (int j=i-1, k=i+1;j>=0 && k<n; ) {\n        if (a[j] != a[k]) break;\n        //   printf(\"%d,%d\\n\",j,k);\n        int c = a[j];\n        int ue = 0, shita = 0;\n        while (j >= 0 && c == a[j]) {\n          ++ue;\n          --j;\n        }\n        while (k < n  && c == a[k]) {\n          ++shita;\n          ++k;\n        }\n        //printf(\"ue=%d,shita=%d\\n\",ue,shita);\n        if (ue + shita >= 4-hazime) dn += ue+shita + hazime;\n        else break;\n        hazime = 0;\n      }\n      res = max(res, dn);\n    }\n    cout << n-res << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\t/*for(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}*/\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\nusing namespace std;\nint num;//キャラクタの最大数\nvector<int> vec;//キャラクタの格納\nint ans;//出力する答え\n//\nint Input();//入力\nvoid Show();//現在のキャラクタの表示\nint Delete();//同じキャラクタが4つ連なったら消滅させる。消滅できなかったら0を返す\nint Combo();//コンボさせる。戻り値は残ったキャラクタ数\nint Calc();//最高の手順を探す\n//\nint main(void)\n{\n\twhile(Input()){\n\t\tprintf(\"%d\\n\",Calc());\n\t}\n\t\tfflush(stdin);\n\t\tgetchar();\n\treturn 0;\n}\n//\nint Input()\n{\n\tvec.clear();\n\tint ibuf;\n\tscanf(\"%d\",&num);\n\tif(num!=0){\n\t\tfor(int f1=0;f1<num;f1++){\n\t\t\tscanf(\"%d\",&ibuf);\n\t\t\tvec.push_back(ibuf);\n\t\t}\n\t}\n\telse return 0;\n\treturn 1;\n}\n//\nvoid Show()\n{\n\tprintf(\"Show~\\n\");\n\tfor(int f1=0;f1<(int)vec.size();f1++){\n\t\tprintf(\"%d\\n\",vec[f1]);\n\t}\n\tprintf(\"~Show\\n\");\n}\n//\nint Delete()\n{\n\tint mem;\n\tint ret=0;\n\tfor(int f1=0;f1<(int)vec.size()-3;f1++){\n\t\tif(vec[f1]==vec[f1+1]&&vec[f1]==vec[f1+2]&&vec[f1]==vec[f1+3]){\n\t\t\tret=1;\n\t\t\tmem=vec[f1];\n\t\t\tfor(int f2=f1;f2<(int)vec.size();f2++){\n\t\t\t\tif(mem==vec[f2]){\n\t\t\t\t\tvec.erase(vec.begin()+f2);\n\t\t\t\t\tf2--;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn ret;\n}\n//\nint Combo()\n{\n\tvector<int> mem;\n\tint ret;\n\tmem=vec;\n\twhile(Delete());\n\tret=vec.size();\n\tvec=mem;\n\treturn ret;\n}\n//\nint Calc()\n{\n\tvector<int> mem=vec;\n\tint ret=10001;\n\t//\n\tfor(int f1=1;f1<(int)vec.size()-1;f1++){\n\t\tvec=mem;\n\t\tif(vec[f1]!=vec[f1-1]){\n\t\t\tfor(int f2=1;f2<=3;f2++){\n\t\t\t\tvec[f1]=f2;\n\t\t\t\tint m=Combo();\n\t\t\t\tret>m?ret=m:0;\n\t\t\t}\n\t\t}\n\t}\n\tvec=mem;\n\t//\n\treturn ret;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint chain(int idx,int col);\nvector<int>model;\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = INF;\n      model.clear();\n      for(int i = 0;i < n;i++){\n         int col; scanf(\"%d\",&col);\n         model.push_back(col);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return INF;\n   vector<int> c;\n   c.reserve(model.size());\n   copy(model.begin(),model.end(), back_inserter(c));\n   vector<int>::iterator it = c.insert(c.begin()+idx,col);\n   it = c.erase(c.begin()+idx+1);\n\n   int flag = 1;\n   while(flag){\n      int cnt = 1,curr = c[0];\n      for(int i = 1;i < c.size();i++){\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 0;\n                  vector<int>::iterator it = c.erase(c.begin()+i-cnt,c.begin()+i);\n            }\n            cnt = 1;\n         }\n      }\n      flag = 1-flag;\n   }\n   return c.size();\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage,int change_idx){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=change_idx-3;i<change_idx+3 && i+1 < stage.size();i++){\n      if(i < 0) continue;\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tchange_idx = i;\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    deque<Block> tmp_stage;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\ttmp_stage = stage;\n\tint prev_color = tmp_stage[i].color;\n\tint prev_size = tmp_stage[i].size;\n\n\ttmp_stage[i].color = color;\n\ttmp_stage[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp_stage.insert(tmp_stage.begin()+i+1,b);\n\t}\n\n\tres = min(res,check_stage(tmp_stage,i));\n\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+4, -1);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+2]);\n        }\n        v[0] = 100; v[n+3] = 100;\n        int ans = 0;\n        for (int i = 2; i <= n+1; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int t = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = t;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nmain(){while(true){int x[11000],n,i,j,k,l,m,y[11000],b,c,d,p[11000],w;scanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}c=0;d=0;m=n;d=m;w=99999;\nfor(i=0;i<n;i++){for(j=1;j<=3;j++){if(i>=1&&y[i-1]!=j&&y[i+1]!=j){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){if(p[k]==p[k+1]){b++;}\nelse{if(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}m=d;}\nif(c==0){break;}\nelse{c=0;}}\nw=std::min(w,m);x[i]=y[i];\nfor(k=0;k<n;k++){p[k]=y[k];}\nz:;\n}}printf(\"%d\\n\",w);}}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <set>\n#include <algorithm>\n#define INF 1000000\nusing namespace std;\n\nint ary[10010];\n\nint main(){\n\tint N;\n\tint PN,Col,MN,PT,MT,ans,HG,unn,cnt;\n\tset<int> se;\n\tset<int>::iterator it;\n\twhile(1){\n\t\tcin>>N;\n\t\tif(N==0) break;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tcin>>ary[i];\n\t\t}\n\t\tary[0]=4;ary[N+1]=5;\n\t\tse.clear();\n\n\t\tfor(int i=2;i<N;i++){\n\t\t\tif(ary[i-1]==ary[i+1]&&ary[i-1]!=ary[i]) se.insert(i);\n\t\t}\n\t\tse.insert(1);\n\t\tse.insert(N);\n\t\tit=se.begin();\n\t\tans=INF;\n\t\twhile(it!=se.end()){\n\t\t\tif(*it!=1){\n\t\t\t\tCol=ary[*it-1];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tCol=ary[*it+1];\n\t\t\t}\n\t\t\tPT=MT=PN=MN=*it;\n\t\t\tHG=1;cnt=0;\n\t\t\twhile(1){\n\t\t\t\t//cout<<\" \"<<*it<<\" PT\"<<PT<<\" MT\"<<MT<<\" cnt\"<<cnt;//\n\t\t\t\tdo{\n\t\t\t\t\tMN--;\n\t\t\t\t}while(ary[MN]==Col);\n\t\t\t\t//MN???Col??§??????\n\t\t\t\tdo{\n\t\t\t\t\tPN++;\n\t\t\t\t}while(ary[PN]==Col);\n\t\t\t\t//PN???Col??§??????\n\t\t\t\t\n\t\t\t\tunn=abs(MT-MN)+abs(PT-PN)-HG;\n\t\t\t\t//cout<<\" unn\"<<unn<<endl;//\n\t\t\t\tif(unn<4){\n\t\t\t\t\tans=min((N-cnt),ans);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcnt+=unn;\n\t\t\t\tif(HG)HG=0;\n\t\t\t\tMT=MN;\n\t\t\t\tPT=PN;\n\t\t\t\tif(MN==0||PN==N+1||ary[MN]!=ary[PN]){\n\t\t\t\t\tans=min((N-cnt),ans);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tCol=ary[MN];\n\t\t\t}\n\t\t\t//cout<<*it<<\" ans\"<<ans<<endl;//\n\t\t\tit++;\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nbool ignore[N];\nint chain[N];\n\nvoid clear_ignore()\n{\n    fill( ignore, ignore + N, false );\n}\n\nvoid clear()\n{\n    \n    fill( chain, chain + N, 0 );\n    clear_ignore();\n}\n\n\nint del( int const num, int const befig )\n{\n    int ignum = 0;\n    int begin = 0, count = 0, last = chain[0];\n    for( int i=0; i<=num; ++i ) {\n        if ( i < num && ignore[i] )\n            continue;\n        int const cur = ( i < num ) ? chain[i] : -1;\n        if ( cur == last ) {\n            ++count;\n        } else {\n            if ( ( i - begin ) >= ( 4 + befig ) ) {\n                for( int ii=begin; ii<i; ++ii ) {\n                    if ( !ignore[ii] ) {\n                        ignore[ii] = true;\n                        ++ignum;\n                    }\n                }\n            }\n            begin = i;\n            count = 0;\n            last = chain[i];\n        }\n        if ( i == num )\n            break;\n    }\n    if ( ignum == 0 )\n        return 0;\n\n    while( int const p = del( num, befig + ignum ) )\n        ignum += p;\n    \n    return ignum;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        int max_n = N;\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                clear_ignore();\n                chain[i] = ii;\n                \n                int const num = n - del( n, 0 );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n        \n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint rem(PArray& arr)\n{\n\tif(arr.size() == 0) return 0;\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tint ans = n;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color][1]; i <= bound[num][color][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color][1] - 1] == A[bound[num][color][0] + 1]) {\n\t\t\tres += solve(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t}\n\t\telse {\n\t\t\tint tmp = 0;\n\t\t\ttmp += how_same(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t\ttmp += how_same(bound[num][color][1] - 1, A[bound[num][color][1] - 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t}\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tmemset(bound, 0, sizeof(bound));\n\t\tans = INF;\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\tfor (int k = 0; k < N; ++k) {\n\t\t\t\t\t\tA[k] = memo_A[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct block{\n\tint color, many;\n};\n\nint chain(vector<block> line, vector<block>::iterator p, int down, int up)\n{\n\tint total = 0;\n\tvector<block>::iterator pm, pp;\n\tpm = p + down;\n\tpp = p + up;\n\n\twhile (true){\n\t\tpm--; pp++;\n\t\tif (pm == line.begin() || pp == line.end() - 1) break;\n\t\tif (pp == line.end() - 1)break;\n\t\tif (pm->color != pp->color || pm->many + pp->many < 4) break;\n\t\ttotal += pm->many + pp->many;\n\t}\n\treturn total;\n}\n\nint main()\n{\n\twhile (true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n) break;\n\t\tvector<block> line;\n\t\tvector<block>::iterator p;\n\t\tint max = 0;\n\n\t\tconst block END = { 0, 0 };\n\t\tline.push_back(END);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint in;\n\t\t\tp = line.end() - 1;\n\t\t\tcin >> in;\n\t\t\tif (!line.empty() && p->color == in){\n\t\t\t\tp->many++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tblock newblock = { in, 1 };\n\t\t\t\tline.push_back(newblock);\n\t\t\t}\n\t\t}\n\t\tline.push_back(END);\n\n\t\tfor (p = line.begin() + 1; p != line.end() - 1; p++){\n\t\t\tif (p->many == 1){\n\t\t\t\tif ((p - 1)->color == (p + 1)->color && (p - 1)->many + (p + 1)->many >= 4){\n\t\t\t\t\tint sum = chain(line, p, -1, +1) + (p - 1)->many + (p + 1)->many + 1;\n\t\t\t\t\tmax = (max < sum) ? sum : max;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif ((p - 1)->many == 3){\n\t\t\t\t\t\tint sum = chain(line, p, -1, 0) + 4;\n\t\t\t\t\t\tmax = (max < sum) ? sum : max;\n\t\t\t\t\t}\n\t\t\t\t\tif ((p + 1)->many == 3){\n\t\t\t\t\t\tint sum = chain(line, p, 0, +1) + 4;\n\t\t\t\t\t\tmax = (max < sum) ? sum : max;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcout << n - max << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nmain(){\nwhile(true){\nint x[11000],n,i,j,k,l,m,y[11000],b,c,d,p[11000],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}\nc=0;d=0;m=n;d=m;\nminx=99999;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1&&y[i-1]!=j&&y[i+1]!=j)){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=std::min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\",minx);}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(vector<PII> v) {\n\tbool f = true;\n\tint res = 0, r, l;\n\n\tFOR(i, 1, v.size()) if (v[i-1].first == v[i].first) {\n\t\tv[i-1].second += v[i].second;\n\t\tv.erase(v.begin() + i);\n\t\ti--;\n\t}\n\n\tREP(i, v.size()) if (v[i].second >= 4) {\n\t\tr = i - 1;\n\t\tl = i + 1;\n\t\tbreak;\n\t}\n\n\twhile (f) {\n\t\tf = false;\n\t\tif (r >= 0 && l < v.size() && v[r].first == v[l].first && v[r].second + v[l].second >= 4) {\n\t\t\tr--; l++;\n\t\t\tf = true;\n\t\t}\n\t}\n\t\n\tfor (int i = 0; i <= r; ++i) res += v[i].second;\n\tfor (int i = l; i < v.size(); ++i) res += v[l].second;\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[1001]={0};\nint b[1001]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\t/*for(int s=0;s<n;s++){\n\t\tcout<<b[s];\n\t}\n\tcout<<endl;*/\n\tif(b[i]==b[j]&&j<n){\n\t\t//cout<<\"wwww\"<<endl;\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\t//cout<<\"ttttt\"<<endl;\n\t\tif(c>=4){\n\t\t\tfor(int z=0;z<c;z++){\n\t\t\t\t//cout<<\"jjjjj\"<<endl;\n\t\t\t\tif((j+z)>n)break;\n\t\t\t\tb[i+z]=b[j+z];\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tcout<<ans<<endl;\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n#include <stack>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nbool used[10005];\n\nvoid prints(stack<P> st) {\n\twhile(st.size()) {\n\t\tP p = st.top(); st.pop();\n\t\tcout << \"(\" << p.first << \",\" << p.second << \") \";\n\t}\n\tcout << endl;\n}\n\nint func(vector<int> v) {\n\tstack<P> st;\n\n\trep(i, v.size()) {\n\t\tint len = 1;\n\t\tREP(j, i+1, v.size()) {\n\t\t\tif(v[i] == v[j]) {\n\t\t\t\ti++;\n\t\t\t\tlen++;\n\t\t\t\tcontinue;\n\t\t\t} else break;\n\t\t}\n\n\t\tif(len >= 4) continue;\n\t\telse {\n\t\t\tif(st.size() == 0) {\n\t\t\t\tst.push(mp(v[i], len));\n\t\t\t} else {\n\t\t\t\tP p = st.top();\n\t\t\t\tif(p.first == v[i]) {\n\t\t\t\t\tst.pop();\n\t\t\t\t\tif(p.second + len < 4) {\n\t\t\t\t\t\tst.push(mp(v[i], p.second + len));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tst.push(mp(v[i], len));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// prints(st);\n\t}\n\n\tint ret = 0;\n\twhile(st.size()) {\n\t\tret += st.top().second;\n\t\tst.pop();\n\t}\n\treturn ret;\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n) {\n\n\t\tvector<int> v(n);\n\t\trep(i, n) cin >> v[i];\n\n\t\tint ans = n + 1;\n\t\trep(i, n) {\n\t\t\tint t = v[i];\n\n\t\t\tv[i] = 1;\n\t\t\tans = min(ans, func(v));\n\n\t\t\tv[i] = 2;\n\t\t\tans = min(ans, func(v));\n\n\t\t\tv[i] = 3;\n\t\t\tans = min(ans, func(v));\n\n\t\t\tv[i] = t;\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\nusing namespace std;\n\nint n;\nchar character[10000] = {0};\n\nint chain(int start) {\n\n\tint counttop[10000] = {0};\n\tint countbottom[10000] = {0};\n\tchar counttchar[10000];\n\tchar countbchar[10000];\n\tint i, j, k;\n\tint ans = n;\n\n\tj = 0;\n\tfor(i = start; i >= 0; i--) {\n\t\tif(i == start || i == start-1) {\n\t\t\tcounttchar[j] = character[i];\n\t\t} else if(character[i] != character[i+1]) {\n\t\t\tj++;\n\t\t\tcounttchar[j] = character[i];\n\t\t}\n\t\tcounttop[j]++;\n\t}\n\tk = 0;\n\tfor(i = start+1; i <= n; i++) {\n\t\tif(i == start+1) {\n\t\t\tcountbchar[k] = character[i];\n\t\t} else if(character[i] != character[i-1]) {\n\t\t\tk++;\n\t\t\tcountbchar[k] = character[i];\n\t\t}\n\t\tcountbottom[k]++;\n\t}\n\tj = min(j, k);\n\tfor(i = 0; i <= j; i++) {\n\t\tif((counttop[i] + countbottom[i]) < 4 || counttchar[i] != countbchar[i]) {\n\t\t\tbreak;\n\t\t} else {\n\t\t\tans -= counttop[i];\n\t\t\tans -= countbottom[i];\n\t\t}\n\t}\n\n\treturn ans;\n}\n\nint main() {\n\n\t//ifstream cin(\"INPUT.txt\");\n\t//ofstream cout(\"OUTPUT.txt\");\n\n\twhile(cin >> n, n != 0) {\n\n\t\tint ans = n;\n\t\tint i;\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tcin >> character[i];\n\t\t}\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tif(i+3 < n && character[i+1] == character[i+2] && character[i+1] == character[i+3]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t} else if(i+2 < n && character[i-1] == character[i+1] && character[i-1] == character[i+2]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t} else if(i+1 < n && character[i-2] == character[i-1] && character[i-2] == character[i+1]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t} else if(i > 2 && character[i-3] == character[i-2] && character[i-3] == character[i-1]) {\n\t\t\t\tans = min(ans, chain(i));\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n\nusing namespace std;\n\ntypedef\tvector<int>\tvi;\n\nint chain(vi py,int u,int l){\n\tint n=py.size(),rem=(u+1)+(n-l);\n\tif(u<0 || n<=l)\treturn rem;\n\n\tint color=py[u],cnt=0;\n\tfor(;u>=0;u--,cnt++){\n\t\tif(py[u]!=color)\tbreak;\n\t}\n\tfor(;l<n;l++,cnt++){\n\t\tif(py[l]!=color)\tbreak;\n\t}\n\tif(cnt>=4)\treturn chain(py,u,l);\n\treturn rem;\n}\n\nint main(){\n\tfor(int n;scanf(\"%d\",&n),n;){\n\t\tvi py(n);\n\t\tfor(int i=0;i<n;i++)\tscanf(\"%d\",&py[i]);\n\n\t\tint pymin=1<<30;\n\t\tfor(int i=0;i<n;i++)for(int c=1;c<=3;c++){\n\t\t\tif(py[i]!=c){\n\t\t\t\tint tmp=py[i];\n\t\t\t\tpy[i]=c;\n\t\t\t\tif(i>0 && py[i-1]==c)\t\t\tpymin=min(pymin,chain(py,i-1,i));\n\t\t\t\telse if(i<n-1 && py[i+1]==c)\tpymin=min(pymin,chain(py,i,i+1));\n\t\t\t\tpy[i]=tmp;\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\",pymin);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#define loop(i,a,b) for(int i=a;i<b;i++)\n#define rep(i,a) loop(i,0,a)\n#define INF 1e6\nusing namespace std;\n\n\nint del(string s){\n\tbool hoge=true;\n\twhile(hoge){\n\t\thoge=false;\n\t\tint dt[s.size()];\n\t\trep(i,s.size())dt[i]=0;\n\t\trep(i,s.size()){\n\t\t\tif(i==0)dt[i]=1;\n\t\t\telse{\n\t\t\t\tif(s[i-1]==s[i])dt[i]=dt[i-1]+1;\n\t\t\t\telse dt[i]=1;\n\t\t\t}\n\t\t}\n\t\trep(i,s.size()){\n\t\t\tif(dt[i]>3){\n\t\t\t\thoge=true;\n\t\t\t\tchar ch=s[i];\n\t\t\t\tint left,right;\n\t\t\t\tleft=i;\n\t\t\t\twhile(s[left]==ch){\n\t\t\t\t\ts.erase(left,1);\n\t\t\t\t\tleft--;\n\t\t\t\t}\n\t\t\t\tright=left+1;\n\t\t\t\twhile(s[right]==ch){\n\t\t\t\t\ts.erase(right,1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn s.size();\n}\n\nint func(string s){\n\tint mians=INF;\n\trep(p,s.size()){\n\t\tstring alt=s;\n\t\tloop(c,1,4){\n\t\t\talt[p]=(char)(c+'0');\n\t\t\tmians=min(mians,del(alt));\n\t\t}\n\t}\n\treturn mians;\n}\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tstring s=\"\";\n\t\tchar ch;\n\t\trep(i,n){cin>>ch;s+=ch;}\n\t\tcout<<func(s)<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<deque>\nusing namespace std;\ndeque<int>deq;\nint n,a,b,z,cnt,key,t[10000],mn,sum,u[10000];\nvoid judge(){\n  while(!deq.empty())deq.pop_back();\n \n  for(int i=0;i<z;i++){\n    if(t[i]/10==0)continue;\n    if(deq.empty()){\n      if(t[i]/10<4)deq.push_back(t[i]);\n      continue;\n    }\n    if(deq.back()%10==t[i]%10){\n      a=t[i]+(deq.back()/10)*10;\n      deq.pop_back();\n      if(a/10<4)deq.push_back(a);\n    }else{\n      if(t[i]/10<4)deq.push_back(t[i]);\n    }\n  }\n  sum=0;\n  while(!deq.empty()){\n    sum+=deq.back()/10;\n    deq.pop_back();\n  }\n  if(mn>sum){\n    mn=sum;\n  }\n   \n}\nint main(){\n  while(1){\n    cin>>n;\n    if(n==0)break;\n    cin>>key;\n    cnt=1;\n    z=0;\n    mn=99999;\n    for(int i=1;i<n;i++){\n      cin>>a;\n      if(key==a){\n    cnt++;\n      }else{\n    t[z++]=cnt*10+key;\n    key=a;\n    cnt=1;\n      }\n    }\n    t[z++]=cnt*10+key;\n    for(int k=0;k<z;k++)u[k]=t[k];\n    for(int i=0;i<z;i++){\n      if(i>0){\n    //t[i]=u[i]-10;\n    //t[i-1]=u[i-1]+10;\n    //judge();\n \n    t[i]=u[i]+10;\n    t[i-1]=u[i-1]-10;\n    judge();\n \n    t[i]=u[i];\n    t[i-1]=u[i-1];\n      }\n      if(i<z-1){\n    t[i]=u[i]+10;\n    t[i+1]=u[i+1]-10;\n    judge();\n \n    //t[i]=u[i]-10;\n    //t[i+1]=u[i+1]+10;\n    //judge();\n     \n    t[i]=u[i];\n    t[i+1]=u[i+1];\n \n      }\n       \n    }\n     \n    cout<<mn<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tcin>>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>y[i];\n\t\t\tx[i]=y[i];\n\t\t\tp[i]=x[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tp[i]=y[i];\n\t\t\t}\n\t\t}\n\t\tcout<<minx<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\n#include <stdio.h>\nusing namespace std;\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\t/*\n\t\t\tchar input;\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t\t */\n\t\t\tint input;\n\t\t\tscanf(\"%d\",&input);\n\t\t\tarray += ('0'+input);\n\t\t}\n\n\t\tint answer = 10000000;\n\t\tvector<int> points;\n\t\tfor(int i=1;i<array.size()-1;i++){\n\t\t\tif(array[i-1] != array[i] || array[i+1] != array[i]){\n\t\t\t\tpoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<points.size();i++){\n\t\t\tstring memo = array;\n\t\t\tvector<char> list;\n\t\t\tif(memo[points[i]] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[points[i]] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[points[i]] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[10001];\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(memo.size() == 0){\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tanswer = min(answer,int(memo.size()));\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 200000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define EQ(a,b) (abs((a)-(b))<EPS)\nvi puyopuyo;\nint main()\n{\n\twhile(1)\n\t{\n\t\tpuyopuyo.clear();\n\t\tint n;\n\t\tcin >> n;\n\t\tint ans=n;\n\t\tif(n==0)break;\n\t\tpuyopuyo.pb(-1);\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint k;\n\t\t\tcin >> k;\n\t\t\tpuyopuyo.pb(k);\n\t\t}\n\t\tpuyopuyo.pb(-12);\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tint tmp=puyopuyo[i];\n\t\t\tint top=i+1;\n\t\t\tint under=i;\n\t\t\tint res=n;\n\t\t\tpuyopuyo[under]=puyopuyo[top];\n\t\t\twhile(puyopuyo[under]==puyopuyo[top])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(tmp2==puyopuyo[under])\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\ttop=i;\n\t\t\tunder=i-1;\n\t\t\tres=n;\n\t\t\tpuyopuyo[top]=puyopuyo[under];\n\t\t\twhile(puyopuyo[top]==puyopuyo[under])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(puyopuyo[under]==tmp2)\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t\tpuyopuyo[i]=tmp;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define INF 100000005\n#define MAX 100001\n#define dmp make_pair\n#define dpb push_back\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\n\nint a[10000];\nint solve(int p, int n){\n\tint l = p-1, r = p+1, t;\n\tint s1, s2, ans = 0, f = 1;\n\twhile(0 <= l){\n\t\tt = a[l];\n\t\ts1 = s2 = 0;\n\t\tif(f)s1 = 1, f = 0;\n\t\t//if(p == 5)printf(\"%d %d %d\\n\", l, r, t);\n\t\twhile(0 <= l && a[l] == t){\n\t\t\ts1++;l--;\n\t\t}\n\t\twhile(r < n && a[r] == t){\n\t\t\ts2++;r++;\n\t\t}\n\t\tif(s1+s2 >= 4){\n\t\t\tans += s1+s2;\n\t\t}else break;\n\t}\n\treturn n-ans;\n}\n\nint main(){\n\tint n, ans = INF;\n\tscanf(\"%d\", &n);\n\trep(i,n)scanf(\"%d\", &a[i]);\n\tfor(int i = 1;i < n-1;i++){\n\t\tans = min(ans, solve(i, n));\n\t}\n\tif(ans == INF)printf(\"%d\\n\", n-1);\n\telse printf(\"%d\\n\", ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n  for(int i=0,j=0;j<a.size();){\n    if(a[j]==a[j+1])j++;\n    else {\n      if(j-i>2){\n\ta.erase(a.begin()+i,a.begin()+j+1);\n\ti=j=0;\n      }\n      else j++,i=j;\n    }\n  }\n  return a.size();\n}\n\nint main(void){\n  int n,m;\n  vector<int>a;\n\n  while(cin >> n,n){\n    a.clear();\n    for(int i=0;i<n;i++){\n      cin >> m;\n      a.push_back(m);\n    }\n\n    int ans=100000000;\n    for(int i=0;i<a.size();i++){\n      int temp=a[i];\n      for(int j=1;j<4;j++){\n\tif(temp!=j){\n\t  a[i]=j;\n\t  ans=min(ans,Erase(a));\n\t}\n      }\n      a[i]=temp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-4;q++){\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tfor(int i=1;i<=s-4;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = num;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = num;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t//\tprintf(\"%d?????????%d????????§??????\\n\", i, j);\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\t//printf(\"%d???????????¨%d?????????????????????\\n\", start, end);\n\t\t\t\t\tfor (int k = end; k < num; k++) {\n\t\t\t\t\t\tif (color[k] != now&&i!=k)break;\n\t\t\t\t\t//\tprintf(\"%d \", k);\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t//\tprintf(\"\\n\");\n\t\t\t\t\tfor (int k = start; k >= 0; k--) {\n\t\t\t\t\t\tif (color[k] != now&&i!=k)break;\n\t\t\t\t\t//\tprintf(\"%d \", k);\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t//\tprintf(\"\\n\");\n\t\t\t\t\tif (left + right < 4&&end!=start)break;\n\t\t\t\t\tif (left + right < 5 && end == start)break;\n\t\t\t\t\tif(start-(left)>=0)\tstart -=(left);\n\t\t\t\t\telse start = -1;\n\t\t\t\t\tif (end + (right) < num)end += right;\n\t\t\t\t\telse end = num;\n\t\t\t\t\tif (start < 0)break;\n\t\t\t\t\tif (end >= num)break;\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start+1)ans = num - end + start+1;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\r\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n \nusing namespace std;\n \n#define MAX 10000\nint arr[MAX+2],N;\n \nint solve(int p){\n    int lp = p, rp = p+1;\n \n    while(true){\n\tif(lp <= 0 || rp >= N+1) break;\n\tint color = arr[lp],l,r;\n\tfor(l = lp ; arr[l] == color ; l--);\n\tfor(r = rp ; arr[r] == color ; r++);\n\tif((r-rp)+(lp-l) < 4) break;\n\tlp = l, rp = r;\n    }\n    return N - rp + lp + 1;\n}\n \nint main(){\n    while(cin >> N, N){\n\tmemset(arr,0,sizeof(arr));\n\tfor(int i = 1 ; i <= N ; i++){\n\t    cin >> arr[i]; \n\t}\n\tint ans = MAX;\n\tfor(int i = 1 ; i <= N ; i++){\n\t    int tmp = arr[i];\n\t    for(int j = 0 ; j < 3 ; j++){\n\t\tif(arr[i] == j+1) continue;\n\t\tarr[i] = j+1;\n\t\tans = min(ans,solve(i));   \n\t    }\n\t    arr[i] = tmp;\n\t}\n\tcout << ans << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a) for(int i=0;i<a;i++)\n#define inf 612695281\n\nint hoge =0;\nint chain[10000][2];\nint n;\n\n\nint solve(int where,int h){\n\tint copy=chain[where][0];\n\tchain[where][0]--;\n\tint re=0;\n\tint b=where;\n\tint a=where;\n\t//cout<<a<<b;\n\tif(h==0 and b==0){chain[where][0]=copy;/*cout<<\"W\"<<endl;*/return re;}\n\tif(h==1 and a==hoge-1){chain[where][0]=copy;/*cout<<\"E\"<<endl;*/return re;}\n\tif(h==0 and chain[b-1][0]<3){chain[where][0]=copy;/*cout<<\"T\"<<endl;*/return re;}\n\tif(h==1 and chain[a+1][0]<3){chain[where][0]=copy;/*cout<<\"U\"<<endl;*/return re;}\n\t\n\tif(0==0){\n\t\t//cout<<\"     \"<<b<<\"    \";\n\t\t//cout<<chain[b-1][1]<<chain[b+1][1];\n\t\tif(chain[b][0]!=0 or chain[b-1][1]!=chain[b+1][1]){\n\t\t\tif(h==0){re+=chain[b-1][0]+1;b=b-2;/*cout<<\"R\";*/}\n\t\t\telse{re+=chain[a+1][0]+1;a=a+2;/*cout<<\"K\";*/}\n\t\t}\n\t\telse if(h==0){re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"L\";*/}\n\t\telse{re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"P\";*/}\n\t}\n\twhile(1){\n\t\tif(b>0 and a<hoge-1){\n\t\t\tif(chain[a][1]==chain[b][1]){\n\t\t\t\tif(chain[b][0]+chain[a][0]>=4){\n\t\t\t\t\tre+=chain[b][0]+chain[a][0];\n\t\t\t\t\tb--;a++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\t/*cout<<\" \"<<re;*/\n\tchain[where][0]=copy;\n\treturn re;\n}\n\nint main(){\n\twhile(1){\n\tcin>>n;\n\tif(n==0){break;}\n\thoge=0;\n\tint last=0;\n\tint howlong=0;\n\tFOR(i,n){\n\t\tint u;\n\t\tcin>>u;\n\t\tif(u==last or last==0){howlong++;last=u;}\n\t\telse{\n\t\t\tchain[hoge][1]=last;\n\t\t\tlast=u;\n\t\t\tchain[hoge][0]=howlong;\n\t\t\thowlong=1;\n\t\t\thoge++;\n\t\t}\n\t}\n\tchain[hoge][1]=last;chain[hoge][0]=howlong;hoge++;\n\t//FOR(i,hoge){cout<<chain[i][0]<<chain[i][1]<<endl;}\n\tint ans=-inf;\n\tFOR(i,hoge){\n\t\tans=max(ans,solve(i,0));//cout<<endl;\n\t\tans=max(ans,solve(i,1));//cout<<endl;\n\t}\n\tcout<<n-ans<<endl;\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n    res = 0;\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = INF;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint sim(const vector<int> &v, int start) {\n    int l = start, r = start+1;\n    while(true) {\n        int pl = l, pr = r;\n        int color = v[l];\n        while(l >= 0 && v[l] == color) --l;\n        while(r < v.size() && v[r] == color) ++r;\n        if(pl-l + r-pr < 4) {\n            l = pl;\n            r = pr;\n            break;\n        }\n    }\n    return l+1 + v.size()-r;\n}\n\nint main() {\n    while(true) {\n        int N;\n        cin >> N;\n        if(!N) break;\n\n        vector<int> v(N);\n        for(int i = 0; i < N; ++i) {\n            cin >> v[i];\n        }\n        int ans = N+100;\n        for(int i = 0; i < N; ++i) {\n            v[i] = 1+v[i]%3;\n            ans = min(ans, sim(v, i));\n            v[i] = 1+v[i]%3;\n            ans = min(ans, sim(v, i));\n            v[i] = 1+v[i]%3;\n        }\n        cout << ans << endl;\n    }\n    return 0;\n}\n    "
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint color[10005],leng,go;\nint ens(int h,int yu){\n\tcolor[h]=yu;\n\tint a=h,b=h;\n\tbool w=true;\n\tint s=0,u=0,ans=leng;\n\twhile(1){\n\tint c=a,d=b;\n\twhile(a>=1){\n\t\tif(color[a]==color[c]){\n\t\t\ts++;\n\t\t\ta--;\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n\twhile(b<=leng){\n\t\tif(color[b]==color[d]){\n\t\t\tu++;\n\t\t\tb++;\n\t\t}else{\n\t\t\tbreak;\n\t}\n\t}\n\tif(w){\n\t\tif(s+u>=5){\n\t\t\t\tans-=(s+u-1);\n\t\t\t\ts=0;\n\t\t\t\tu=0;\n\t\t\t\tw=false;\n\t\t}\n\t\tif(w){\n\t\t\treturn ans;\n\t\t\tbreak;\n\t\t}\n\t}else{\n\t\tif(s+u>=4){\n\t\t\tif(color[c]==color[d]){\n\t\t\t\tans-=(s+u);\n\t\t\t\ts=0;\n\t\t\t\tu=0;\n\t\t\t}else{\n\t\t\t\treturn ans; break;\n\t\t\t}\n\t}else{\n\t\treturn ans; break;\n\t\t}\n\t}\n\n}\n}\n\tint main(){\n\t\twhile(1){\n\t\tint num;\n\t\tscanf(\"%d\",&leng);\n\t\tif(leng==0) break;\n\t\tnum=100000;\n\t\tfor(int i=1;i<=leng;i++){\n\t\t\tscanf(\"%d\",&color[i]);\n\t\t}\n\t\tcolor[0]=color[2];\n\t\tcolor[leng+1]=color[leng-1];\n\t\tfor(int i=1;i<=leng;i++){\n\t\t\tgo=color[i];\n\t\t\tnum=min(num,ens(i,1));\n\t\t\tnum=min(num,ens(i,2));\n\t\t\tnum=min(num,ens(i,3));\n\t\t\tcolor[i]=go;\n\t\t}\n\t\tprintf(\"%d\\n\",num);\n\t}\n\t\treturn 0;\n\t}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <vector>\n#include <array>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <cmath>\n#include <map>\n#include <set>\n\n#define INF_LL 9000000000000000000\n#define INF 2000000000\n\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> PII;\n\nclass Union_find{\nprivate:\n\tvector<int> par;\n\tvector<int> rank;\n\tint n;\n\npublic:\n\tUnion_find(int a){\n\t\tn = a;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\trank.push_back(0);\n\t\t}\n\t}\n\n\tint find(int x){\n\t\tif(par[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn par[x] = find(par[x]);\n\t\t}\n\t}\n\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y) return;\n\n\t\tif(rank[x] < rank[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t}\n\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n\nint chain[10002];\n\nint no(int idx){\n\tint c = 1;\n\tint p = idx - 1;\n\tint q = idx + 1;\n\tint res = 0;\n\twhile(chain[p] == chain[idx]){\n\t\tp--;\n\t\tc++;\n\t}\n\twhile(chain[q] == chain[idx]){\n\t\tq++;\n\t\tc++;\n\t}\n\twhile(c >= 4){\n\t\tres += c;\n\t\tc = 0;\n\t\tif(chain[q] != chain[p]) return res;\n\t\tif(chain[q] == chain[p] && chain[p] == -1) return res;\n\n\t\tint org = chain[p];\n\t\twhile(chain[p] == org){\n\t\t\tp--;\n\t\t\tc++;\n\t\t}\n\t\twhile(chain[q] == org){\n\t\t\tq++;\n\t\t\tc++;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint N;\n\tint res = 0;\n\tfill(chain, chain+10002, -1);\n\twhile(cin >> N && N){\n\tREP(i, N){\n\t\tcin >> chain[i+1];\n\t}\n\tREP(i, N){\n\t\tREP(j, 3){\n\t\t\tint tmp = chain[i+1];\n\t\t\tchain[i+1] = j;\n\t\t\tres = max(res, no(i+1));\n\t\t\tchain[i+1] = tmp;\n\t\t}\n\t}\n\tcout << N-res << endl;\n}\n}"
  },
  {
    "language": "C++",
    "code": "//実際に配列にコピーして云々する方法\n#include<iostream>\nusing namespace std;\n\nint n;\nint input[10000];\n\nint erase( int pos, int num ){\n\tstatic int data[10000];\n\tint i,j;\n\tfor( i = 0; i < n; i++ ){\n\t\tdata[i] = input[i];\n\t}\n\tdata[pos] = num;\n\t\n\tbool eflag = true;\n\twhile( eflag ){\n\t\teflag = false;\n\t\tfor( i = 0; i < n-3; i++ ){\n\t\t\tif( data[i] == 0 )\n\t\t\t\tcontinue;\n\t\t\t\t\n\t\t\tint erased = 0;\n\t\t\tfor( j = 1; i+j < n; j++ ){\n\t\t\t\tif( data[i+j] == 0 ){\n\t\t\t\t\terased++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( data[i] != data[i+j] )\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif( j-erased >= 4 ){\n\t\t\t\teflag = true;\n\t\t\t\t//消す\n\t\t\t\tint st = i, ed = i+j;\n\t\t\t\tfor( j = st; j < ed; j++ ){\n\t\t\t\t\tdata[j] = 0;\n\t\t\t\t}\n\t\t\t\t//ここでbreakをするとTLE確実。\n\t\t\t}\n\t\t}\n\t}\n\tint ret = n;\n\tfor( i = 0; i < n; i++ ){\n\t\tif( data[i] == 0 )\n\t\t\tret--;\n\t}\n\treturn ret;\n}\n\nint main(){\n\tint i,j,k;\n\t\n\twhile( cin >> n ){\n\t\tif(!n)break;\n\t\tfor( i = 0; i < n; i++ ){\n\t\t\tcin >> input[i];\n\t\t}\n\t\n\t\tint ans = 19191919;\n\t\tfor( i = 0; i < n; i++ ){\n\t\t\tfor( j = 1; j <= 3; j++ ){\n\t\t\t\tans = min( ans, erase( i, j ) );\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint n;\n\nint solve(int l, const vector<PII>& v) {\n\tint r = l + 1, res = n;\n\n\twhile (l >= 0 && r < v.size()) {\n\t\tint color = v[l].first;\n\t\tint count = 0;\n\t\tfor (; l >= 0 && v[l].first == color; l--) count += v[l].second;\n\t\tfor (; r < v.size() && v[r].first == color; r++) count += v[r].second;\n\n\t\tif (count < 4) break;\n\t\tres -= count;\n\t}\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint in; cin >> in;\n\t\t\tif (a == in) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = in;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tREP(j, 3) {\n\t\t\t\t\tp[i].first = j+1;\n\t\t\t\t\tans = min(ans, solve(i - 1, p));\n\t\t\t\t\tans = min(ans, solve(i, p));\n\t\t\t\t}\n\t\t\t\t/*\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(i-1, p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() - 1 && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(i, p));\n\t\t\t\t}\n\t\t\t\t*/\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(int)(b);++i)\n#define rep(i,n) FOR(i,0,n)\n#define ZERO(a) memset(a,0,sizeof(a))\n\nint n;\nint a[100010];\n\nbool is_inRange(int x) {\n    return (0<=x and x<=n+2);\n}\n\nint calc(int p, int c) {\n    int l=p, r=p;\n\n    int cnt = 1;\n    while((is_inRange(l-1) or is_inRange(r+1)) and a[l-1]==c and a[r+1]==c) {\n        int c1=0, c2=0;\n        while(a[l-1]==c) l--, c1++;\n        while(a[r+1]==c) r++, c2++;\n        if(c1+c2 < 4) break;\n        cnt += c1 + c2;\n        c = a[l-1];\n        if(c == 0 or a[r+1]==0) break;\n    }\n\n    return cnt * (cnt != 1);\n}\n\nint main() {\n    while(cin>>n && n) {\n        ZERO(a);\n        FOR(i,1,n+1) scanf(\"%d\",&a[i]); // 1-indexed\n\n        int mx = -1;\n        FOR(pos, 1, n+1) {\n            int nc = a[pos];\n            FOR(color, 1, 4) {\n                if(color == nc) continue;\n                int cnt = calc(pos, color);\n                mx = max(mx, cnt);\n            }\n        }\n\n        printf(\"%d\\n\", n - mx);\n    }\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define Rep(i,N) for(int i = 0; i < N; i++)\ntypedef pair<int,int> Pi;\n#define F first\n#define S second\n#define pb push_back\n#define INF 1 << 28\n\ninline void chmin(int &a,int b) {\n  a = min(a,b);\n}\n\ninline void chmax(int &a,int b) {\n  a = max(a,b);\n}\n\nint main()\n{\n  int N;\n  while(cin >> N,N) {\n    int data[10005];\n    vector<Pi>val;\n    int save = -1, cnt;\n    Rep(i,N) {\n      cin >> data[i]; --data[i];\n      if(data[i] == save)cnt++;\n      else {\n\tif(save != -1)val.pb(Pi(save,cnt));\n\tcnt = 1;\n\tsave = data[i];\n      }\n    }\n    val.pb(Pi(save,cnt));\n    int m[2] = {0,val.size() - 1};\n    int of[2] = {-1,1};\n    int maxv = -INF;\n    Rep(i,val.size()) {\n      if(val[i].S == 3) {\n\t++val[i].S;\n\tRep(j,2) {\n\t  if(i != m[j]) {\n\t    int s = i + of[j], sum = 0, k, l;\n\t    --val[s].S;\n\t    if(val[s].S == 0)s += of[j];\n\t    if(j)k = i,l = s;\n\t    else k = s,l = i;\n\t    while(k >= 0 && l < val.size()) {\n\t      if(val[k].F == val[l].F) {\n\t\tint value = val[k].S + val[l].S;\n\t\tif(value >= 4)k--,l++,sum += value;\n\t\telse break;\n\t      } else if(val[k].S >= 4) {\n\t\tk--,sum += val[k].S;\n\t      } else if(val[l].S >= 4) {\n\t\tl++,sum += val[l].S;\n\t      } else {\n\t\tbreak;\n\t      }\n\t    }\n\t    chmax(maxv,sum);\n\t    ++val[s].S;\n\t  }\n\t}\n\t--val[i].S;\n      }\n    }\n    if(maxv == -INF)maxv = 0;\n    cout << N - maxv << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n\tbreak;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\npair<int,int> c[10000];\nint cnt;\n\nint test(int i, int j){\n  int ret = 0;\n\n  if(c[j].s == 0){\n    if(j==i+1) j++;\n    else j--;\n  }\n\n  if(j >= 0 && j < cnt && c[i].f == c[j].f){\n    int sum = c[i].f + c[j].s;\n    if(sum >= 4){\n      ret += sum;\n    }else{\n      return 0;\n    }\n  }else{\n    if(c[i].s != 4) return 0;\n    ret += 4;\n    j == i;\n  }\n\n  if(j > i) swap(i,j);\n  i++; j--;\n\n  if(j >= 0  && c[j].s == 0) j--;\n  if(i < cnt && c[i].s == 0) i++;\n\n  while(j >= 0 && i < cnt){\n    if(c[i].f != c[j].f) break;\n    int sum = c[i].s + c[j].s;\n    if(sum >= 4){\n      ret += sum;\n      i++; j--;\n    }else{\n      break;\n    }\n  }\n\n  return ret;\n}\n\nint main(){\n  int n;\n  while(n = getInt()){\n    cnt = 0;\n    REP(i,n){\n      int tmp = getInt();\n      if(cnt == 0){\n        c[cnt].f = tmp;\n        c[cnt].s = 1;\n        cnt++;\n      }else{\n        if(c[cnt-1].f == tmp)\n          c[cnt-1].s++;\n        else{\n          c[cnt].f = tmp;\n          c[cnt].s = 1;\n          cnt++;\n        }\n      }\n    }\n\n    int ans = n;\n    //REP(i,cnt) printf(\"%d: %d\\n\",c[i].f, c[i].s);\n\n    REP(i,cnt){\n      if(i != 0){\n        c[i-1].s++;\n        c[i].s--;\n        ans = min(ans, n-test(i-1,i));\n        c[i].s++;\n        c[i-1].s--;\n      }\n      if(i != cnt-1){\n        c[i+1].s++;\n        c[i].s--;\n        ans = min(ans, n-test(i+1,i));\n        c[i].s++;\n        c[i+1].s--;\n      }\n      //printf(\"%d: ans=%d\\n\",i,ans);\n    }\n\n    printf(\"%d\\n\",ans);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n// 消えるかどうか\nbool check2(vector<int>& v, int pos){\n\tint cnt = 0;\n\tfor(int i=pos-4 ; i < v.size() && i <= pos+4 ; i++ ){\n\t\tif( i < 0 ){\n\t\t\tcontinue;\n\t\t}else if( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\treturn false;\n}\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\t\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tif( check2(v,i) ){\n\t\t\t\t\tans = min( ans , check( v ));\n\t\t\t\t}\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    int pre = 0, cnt = 0, in, size = 0, ans = 100000;\n    vector<P> data;\n    for(int i=0;i<n;i++){\n      cin >> in;\n      if(in != pre){\n        data.push_back(P(pre, cnt));\n        size += cnt;\n        cnt = 0;\n      }\n      pre = in;\n      cnt++;\n    }\n    data.push_back(P(pre, cnt));\n    size += cnt;\n    for(int i=0;i<data.size();i++){\n      int l = i-1, r = i+1, rem = size;\n      bool f = true;\n      while(0<=l&&l<data.size()&&0<=r&&r<data.size()){\n        if(data[l].first != data[r].first) break;\n        int sum = data[l].second + data[r].second;\n        if(f) sum++;\n        if(sum >= 4) rem -= sum;\n        l--;\n        r++;\n        f = false;\n      }\n      ans = min(ans, rem);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <vector>\n#include <array>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <cmath>\n#include <map>\n#include <set>\n\n#define INF_LL 9000000000000000000\n#define INF 2000000000\n\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> PII;\n\nclass Union_find{\nprivate:\n\tvector<int> par;\n\tvector<int> rank;\n\tint n;\n\npublic:\n\tUnion_find(int a){\n\t\tn = a;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\trank.push_back(0);\n\t\t}\n\t}\n\n\tint find(int x){\n\t\tif(par[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn par[x] = find(par[x]);\n\t\t}\n\t}\n\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y) return;\n\n\t\tif(rank[x] < rank[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t}\n\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n\nint chain[10002];\n\nint no(int idx){\n\tint c = 1;\n\tint p = idx - 1;\n\tint q = idx + 1;\n\tint res = 0;\n\twhile(chain[p] == chain[idx]){\n\t\tp--;\n\t\tc++;\n\t}\n\twhile(chain[q] == chain[idx]){\n\t\tq++;\n\t\tc++;\n\t}\n\twhile(c >= 4){\n\t\tres += c;\n\t\tc = 0;\n\t\tif(chain[q] != chain[p]) return res;\n\t\tif(chain[q] == chain[p] && chain[p] == -1) return res;\n\n\t\tint org = chain[p];\n\t\twhile(chain[p] == org){\n\t\t\tp--;\n\t\t\tc++;\n\t\t}\n\t\twhile(chain[q] == org){\n\t\t\tq++;\n\t\t\tc++;\n\t\t}\n\t}\n\treturn res;\n}\n\nint main(void){\n\tint N;\n\tfill(chain, chain+10002, -1);\n\twhile(cin >> N && N){\n\t\tint res = 0;\n\t\tREP(i, N){\n\t\t\tcin >> chain[i+1];\n\t\t\tchain[i+1]--;\n\t\t}\n\t\tREP(i, N){\n\t\t\tREP(j, 3){\n\t\t\t\tint tmp = chain[i+1];\n\t\t\t\tchain[i+1] = j;\n\t\t\t\tres = max(res, no(i+1));\n\t\t\t\tchain[i+1] = tmp;\n\t\t\t}\n\t\t}\n\t\tcout << N-res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <cstddef>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; size_t MAX = 15000;\n\n\t\tvector<int> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<int> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (int l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (E[k] == E[k + 1])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  rep(i,v.size()){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    auto v3 = v2;\n    auto it = v2.begin();\n    ll si = v2.size(),ans = inf,sum;\n    REP(i,1,si){\n      if(v2[i].se == 1){\n        sum = 0;\n        v2[i-1].se++;\n        v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n          if(sum > ans) break;\n        }\n        ans = min(ans,sum);\n        v2 = v3;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  rep(i,v.size()){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else if(it->se > 3){\n        f = false;\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    ll si = v2.size(),ans = inf,sum;\n    v2.push_back(make_pair(inf,0));\n    auto v3 = v2;\n    auto it = v2.begin();\n    rep(j,v2.size()){\n      sum += v2[j].se;\n    }\n    REP(i,0,si){\n      sum = 0;\n      v2[i+1].se++;\n      v2[i].se--;\n      if(v2[i].se == 0)\n        v2.erase(it + i);\n      chain(v2);\n      rep(j,v2.size()){\n        sum += v2[j].se;\n      }\n      ans = min(ans,sum);\n      v2 = v3;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\n#include<unordered_map>\n#include<unordered_set>\n#pragma warning(disable:4996)\nusing namespace std;\nusing ld = long double;\ntemplate<class T>\nusing Table = vector<vector<T>>;\nconst ld eps = 1e-9;\n\n//// < \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\a.txt\" > \"D:\\D_Download\\Visual Studio 2015\\Projects\\programing_contest_c++\\Debug\\b.answer\"\n\n\nint getans(vector<int>&l, deque<int>&r) {\n\tif (l.empty() || r.empty())return 0;\n\tint lt = l.back();\n\tint rt = r[0];\n\tint a = l.size() - 1;\n\twhile (a >= 0) {\n\t\tif (lt == l[a]) {\n\t\t\ta--;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tint b = 0;\n\twhile (b <= r.size() - 1) {\n\t\tif (rt == r[b]) {\n\t\t\tb++;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (lt == rt) {\n\t\tint num = (l.size() - 1) - a + b;\n\t\tif (num >= 4) {\n\t\t\tint ls = l.size();\n\t\t\tfor (int i = a + 1; i < ls; ++i) {\n\t\t\t\tl.pop_back();\n\t\t\t}\n\t\t\tfor (int i = 0; i < b; ++i) {\n\t\t\t\tr.pop_front();\n\t\t\t}\n\t\t\treturn num + getans(l, r);\n\t\t}\n\t\telse {\n\t\t\treturn 0;\n\t\t}\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint getans(const vector<int>&as, int a) {\n\tint f = a;\n\tint t = a;\n\tint color = as[a];\n\twhile (f >= 0) {\n\t\tif (color == as[f])f--;\n\t\telse break;\n\t}\n\tf++;\n\twhile (t <= as.size() - 1) {\n\t\tif (color == as[t])t++;\n\t\telse break;\n\t}\n\tt--;\n\tif (t - f >= 3) {\n\t\tvector<int>l(as.begin(), as.begin() + f);\n\t\tdeque<int> r;\n\t\tfor (int i = t + 1; i < as.size(); ++i) {\n\t\t\tr.push_back(as[i]);\n\t\t}\n\t\treturn (t - f + 1) + getans(l, r);\n\t}\n\telse {\n\t\treturn 0;\n\t}\n}\nint main() {\n\twhile (1) {\n\t\tint N; cin >> N;\n\t\tif (!N)break;\n\t\tvector<int>as(N);\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tcin >> as[i];\n\t\t\tas[i]--;\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < N; ++i) {\n\t\t\tfor (int j = 0; j < 3; ++j) {\n\t\t\t\tint a = as[i];\n\t\t\t\tas[i] = j;\n\t\t\t\tans = max(ans, getans(as, i));\n\t\t\t\tas[i] = a;\n\n\t\t\t}\n\t\t}\n\t\tcout << N - ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] != k && v[i+1] != k ) continue;\n\t\t\t\t\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tans = min( ans , check( v ));\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cctype>\n#include<math.h>\n#include<string>\n#include<string.h>\n#include<stack>\n#include<queue>\n#include<vector>\n#include<utility>\n#include<set>\n#include<map>\n#include<stdlib.h>\n#include<iomanip>\n\nusing namespace std;\n\n#define ll long long\n#define ld long double\n#define EPS 0.0000000001\n#define INF 1e9\n#define LINF (ll)INF*INF\n#define MOD 1000000007\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define loop(i,a,n) for(int i=a;i<(n);i++)\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\n\n#define int ll //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\ntypedef vector<int> vi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\ntypedef vector<pii> vp;\n\nint gcd(int a, int b){\n    if(b==0) return a;\n    return gcd(b,a%b);\n}\nint lcm(int a, int b){\n    return a/gcd(a,b)*b;\n}\n\nvi a;\nint n;\n\nint f(int ind, int col){\n    int ret = 0;\n    int l = ind;\n    int r = ind+1;\n    while(1){\n        int cnt = 0;\n        while(l >= 0 && a[l] == col){\n            cnt++;\n            l--;\n        }\n        while(r < n && a[r] == col){\n            cnt++;\n            r++;\n        }\n        if(cnt >= 4){\n            ret += cnt;\n            if(l < 0 || r >= n) break;\n            if(a[l] == a[r])col = a[l];\n        }else{\n            break;\n        }\n    }\n    return ret;\n}\n\nsigned main(void) {\n    while(cin >> n, n){\n        a = vi (n);\n        rep(i,n)cin >> a[i];\n\n        int ans = 0;\n        rep(i,n)rep(j,3){\n            int t = a[i];\n            a[i] = j;\n            ans = max(ans, f(i,j));\n            a[i] = t;\n        }\n        cout << n - ans << endl;\n    }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\t/*for(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}*/\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n\nint n;\nint ans;\nint a[1010];\n\nvoid solve(){\n\tans = n;\n\tfor(int i = 0; i < n; i++) scanf(\"%d\", &a[i]);\n\tfor(int i = 0; i < n; i++){\n\t\tfor(int j = 1; j <= 3; j++){\n\t\t\tint s = i, e = i, cnt = 1, tmp = n, color = j;\n\t\t\tif(a[i] == j) continue;\n\t\t\twhile(true){\n\t\t\t\twhile(true){\n\t\t\t\t\tif(s-1 >= 0 && a[s-1] == color){\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\ts--;\n\t\t\t\t\t} else break;\n\t\t\t\t}\n\t\t\t\twhile(true){\n\t\t\t\t\tif(e+1 >= 0 && a[e+1] == color){\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\te++;\n\t\t\t\t\t} else break;\n\t\t\t\t}\n\t\t\t\tif(cnt >= 4){\n\t\t\t\t\ttmp -= cnt;\n\t\t\t\t\tif(tmp <= 3) break;\n\t\t\t\t\tif(s-1 >= 0) color = a[s-1];\n\t\t\t\t\telse if(e+1 < n) color = a[s-1];\n\t\t\t\t\tcnt = 0;\n\t\t\t\t} else break;\n\t\t\t}\n\t\t\tif(ans > tmp) ans = tmp;\n\t\t}\n\t}\n\tprintf(\"%d\\n\", ans);\n}\n\nint main(){\n\twhile(scanf(\"%d\", &n), n) solve();\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct block{\n  int color,many;\n};\n\nint main()\n{\n  while(true){\n    int n;\n    cin >> n;\n    if(!n) break;\n    vector<block> line;\n    vector<block>::iterator p;\n    int max = 0;\n\n    for(int i = 0; i < n; i++){\n      int in;\n      cin >> in;\n      p = line.end() - 1;\n      if(!line.empty() && p->color == in){\n\tp->many++;\n      }\n      else{\n\tblock newblock={in, 1};\n\tline.push_back(newblock);\n      }\n    }\n\n    //chain\n    vector<block>::iterator pp, pm;\n    for(p = line.begin() + 1; p != line.end() - 1; p++){\n      if((p - 1)->color == (p + 1)->color && (p - 1)->many + (p + 1)->many >= 3){\n\tint chain = (p - 1)->many + (p + 1)->many + 1;\n\tpm = p - 1;\n\tpp = p + 1; \n\twhile(true){\n\t  pm--;\n\t  pp++;\n\t  if(pm != line.begin() - 1 && pp != line.end() && pp->many + pm->many >= 4){\n\t    chain += pp->many + pm->many;\n\t  }\n\t  else{\n\t    max = (max < chain) ? chain : max;\n\t    break;\n\t  }\n\t}\n      }\n    }\n\n    cout << n - max << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\nusing namespace std;\n\nint charcter[10000];\nint n;\n\nint chain(int istart, int color) {\n\tint ctop[10000] = {0};\n\tint cbottom[10000] = {0};\n\tint i, j, cc, mod;\n\tmod = 0;\n\n\tj = 0;\n\tfor(i = istart-1; i >= 0; i--) {\n\t\tif(charcter[i] == color)\n\t\t\tcontinue;\n\t\tif(charcter[i] != charcter[i+1]) {\n\t\t\tj++;\n\t\t}\n\t\tctop[j]++;\n\t}\n\tcc = j;\n\tj = 0;\n\tfor(i = istart+1; i <= n; i++) {\n\t\tif(charcter[i] == color) {\n\t\t\tcontinue;\n\t\t}\n\t\tif(charcter[i] != charcter[i-1]) {\n\t\t\tj++;\n\t\t}\n\t\tcbottom[j]++;\n\t}\n\tcc = max(cc, j);\n\tfor(i = 1; i <= cc+1; i++) {\n\t\tif(ctop[i] + cbottom[i] < 4) {\n\t\t\tbreak;\n\t\t} else {\n\t\t\tctop[i] = 0;\n\t\t\tcbottom[i] = 0;\n\t\t}\n\t}\n\tfor(i = 1; i <= cc+1; i++) {\n\t\tmod += ctop[i];\n\t\tmod += cbottom[i];\n\t}\n\n\treturn mod;\n}\n\nint main() {\n\n\t//ifstream cin(\"INPUT.txt\");\n\t//ofstream cout(\"OUTPUT.txt\");\n\n\tint i;\n\n\twhile(cin >> n, n != 0) {\n\n\t\tint minc = n;\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tcin >> charcter[i];\n\t\t}\n\t\tfor(i = 0; i < n-1; i++) {\n\t\t\tif(charcter[i+1] == charcter[i+2] && charcter[i+1] == charcter[i+3]) {\n\t\t\t\tminc = min(minc, chain(i, charcter[i+1]));\n\t\t\t}\n\t\t\tif(charcter[i-1] == charcter[i+1] && charcter[i-1] == charcter[i+2]) {\n\t\t\t\tminc = min(minc, chain(i, charcter[i+1]));\n\t\t\t}\n\t\t\tif(charcter[i-2] == charcter[i-1] && charcter[i-2] == charcter[i+1]) {\n\t\t\t\tminc = min(minc, chain(i, charcter[i+1]));\n\t\t\t}\n\t\t}\n\t\tcout << minc << endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#define INF 1e+9\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n;\n\twhile(cin >> n,n){\n\t\tint mi = INF;\n\t\tvector<P> vec;\n\t\tif(n <= 3){\n\t\t\tcout << n << endl;\n\t\t\tfor(int i = 0;i < n;i++) cin >> mi;\n\t\t\tcontinue;\n\t\t}\n\t\tint cnt = 1,c;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tif(!i) c = a;\n\t\t\telse if(c != a){\n\t\t\t\tvec.push_back(P(c,cnt));\n\t\t\t\tc = a;\n\t\t\t\tcnt = 1;\n\t\t\t}else cnt++;\n\t\t}\n\t\tvec.push_back(P(c,cnt));\n\t\tint v = vec.size();\n\t\tfor(int i = 0;i < v;i++){\n\t\t\tint sum = 0;\n\t\t\tvec = vec;\n\t\t\tif(!i){\n\t\t\t\tif(vec[1].second == 3){\n\t\t\t\t\tsum += 4;\n\t\t\t\t\tif(v >= 3 && vec[0].second + vec[2].second >= 5 && vec[0].first == vec[2].first) sum += vec[0].second + vec[2].second - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i == v - 1){\n\t\t\t\tif(vec[v - 2].second == 3){\n\t\t\t\t\tsum += 4;\n\t\t\t\t\tif(v >= 3 && vec[v - 1].second + vec[v - 3].second >= 5 && vec[v - 1].first == vec[v - 3].first) sum += vec[v - 1].second + vec[v - 3].second - 1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(vec[i].second == 1 && vec[i - 1].first == vec[i + 1].first && vec[i - 1].second + vec[i + 1].second >= 3){\n\t\t\t\t\tsum = 1 + vec[i - 1].second + vec[i + 1].second;\n\t\t\t\t\tint l = i - 2,r = i + 2;\n\t\t\t\t\twhile(l && r < v){\n\t\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tmi = min(mi,n - sum);\n\t\t\t\t}\n\t\t\t\tif(vec[i - 1].second == 3){\n\t\t\t\t\tsum = 4;\n\t\t\t\t\tint l = i - 2,r = i;\n\t\t\t\t\tvec[i].second--;\n\t\t\t\t\twhile(l && r < v){\n\t\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tvec[i].second++;\n\t\t\t\t\tmi = min(mi,n - sum);\n\t\t\t\t}\n\t\t\t\tif(vec[i + 1].second == 3){\n\t\t\t\t\tsum = 4;\n\t\t\t\t\tint l = i,r = i + 2;\n\t\t\t\t\tvec[i].second--;\n\t\t\t\t\twhile(l && r < v){\n\t\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tvec[i].second++;\n\t\t\t\t\tmi = min(mi,n - sum);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi = min(mi,n - sum);\n\t\t}\n\t\tcout << mi << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//シュミレーション(オンラインジャッジではTLEになる)\n#include<stdio.h>\n\nchar d[10000];\t//最初のデータ\nchar c[10000];\n\nvoid memcpy(char *Dist,char *Src,char size){\n\tfor(int i = 0;i < size;i++)\n\t{\n\t\tDist[i] = Src[i];\n\t}\n}\n\nint Solve(int N){\n\tint i,j,k,l;\n\tint ans = 10000;\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tscanf(\"%d\",d+i);\n\t}\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tfor(j = 1;j < 4;j++)\n\t\t{\n\t\t\tif(d[i] == j)\n\t\t\t\tcontinue;\n\t\t\t//コピー\n\t\t\tmemcpy( c , d , N);\n\t\t\tc[i] = j;\n\n\t\t\tint now = N;\n\t\t\tbool lensa;\n\n\t\t\tdo{\n\t\t\t\tlensa = false;\n\t\t\t\tfor(k = 0;k < N;k++)\n\t\t\t\t{\n\t\t\t\t\tif(c[k] == 0)\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tint cnt = 0;\n\t\t\t\t\tfor(l = k; l < N;l++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(c[k] == c[l])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(c[l] != 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt > 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tlensa = true;\n\t\t\t\t\t\tfor( int x = k; x < l;x++)\n\t\t\t\t\t\t\tc[x] = 0;\n\t\t\t\t\t\tnow -= cnt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}while(lensa);\n\n\t\t\tif(ans > now){\n\t\t\t\t//printf(\"%d\\n\",now);\n\t\t\t\tans = now;\n\t\t\t}\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint i;\n\tint N;\n\tint ans[100];\n\tfor(i = 0; scanf(\"%d\",&N) ;i++){\n\t\tif(N == 0)\n\t\t\tbreak;\n\t\tans[i] = Solve(N);\n\t}\n\tfor(int j = 0;j < i;j++){\n\t\tprintf(\"%d\\n\",ans[j]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#define P pair<int,int>\nusing namespace std;\n\nint a;\nint c[10000];\nP d[10000];\nint chain() {\n\tint sum = 0,k=-1;\n\tfor (int b = 0; b < a; b++) {\n\t\tint e = b;\n\t\tfor (; e < a; e++) {\n\t\t\tif (c[b] != c[e+1])break;\n\t\t}\n\t\td[sum] = P(c[b], e-b + 1);\n\t\tif (e - b+1 > 3)k = sum;\n\t\tb = e;\n\t\tsum++;\n\t}\n\tif (k == -1)return 0;\n\tint s = d[k].second;\n\tfor (int p = 1;; p++) {\n\t\tif (k - p < 0 || k + p >= sum)break;\n\t\tif (d[k - p].first == d[k + p].first&&d[k - p].second + d[k + p].second > 3)s += d[k - p].second + d[k + p].second;\n\t}\n\treturn s;\n}\nint main() {\n\twhile (cin >> a, a) {\n\t\tfor (int b = 0; b < a; b++)scanf(\"%d\", &c[b]);\n\t\tint MAX = 0;\n\t\tfor (int e = 0; e < a; e++) {\n\t\t\tfor (int f = 1; f <= 3; f++) {\n\t\t\t\tif (c[e] == f)continue;\n\t\t\t\tint copy = c[e]; c[e] = f;\n\t\t\t\tMAX = max(MAX, chain());\n\t\t\t\tc[e] = copy;\n\t\t\t}\n\t\t}\n\t\tcout << a - MAX << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\n\nint n;\nint a[10000];\nint b[10001];\nint ans = 1e9;\n\nint c(int x, int y){ //change b[x] to y return remaining\n\tb[x] = y;\n\tint e = n;\n\tbool f = true;\n\twhile(f){\n\t\tf = false;\n\t\tint d = 1;\n\t\tint p = b[0];\n\t\tfor(int i=1; i<n+1; ++i){\n\t\t\tif(b[i] == 4) continue;\n\t\t\tif(b[i] == p) ++d;\n\t\t\telse{\n\t\t\t\tif(d > 3){\n\t\t\t\t\tf = true;\n\t\t\t\t\tint j = 0, l = i-1;\n\t\t\t\t\twhile(j < d){\n\t\t\t\t\t\tif(b[l] == 4){\n\t\t\t\t\t\t\t--l;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tb[l] = 4;\n\t\t\t\t\t\t++j;\n\t\t\t\t\t\t--l;\n\t\t\t\t\t\t--e;\n/*\t\t\t\t\t\tfor(int k=0; k<n; ++k) printf(\"%d \", b[k]);\n\t\t\t\t\t\tprintf(\"\\n\");\n*/\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\td = 1;\n\t\t\t}\n\t\t\tp = b[i];\n\t\t}\n\t}\n/*\tif(x == 5){\n\t\tfor(int i=0; i<n; ++i) printf(\"%d \", b[i]);\n\t\tprintf(\"\\n\");\n\t}\n*/\treturn e;\n}\n\nint main(){\n\twhile(1){\n\t\tmemset(a, 0, sizeof(a));\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0) return 0;\n\t\tfor(int i=0; i<n; ++i) scanf(\"%d\", &a[i]);\n\t\tans = 1e9;\n\n\t\tfor(int i=0; i<n; ++i)\n\t\t\tfor(int j=1; j<4; ++j){\n\t\t\t\tfor(int k=0; k<n; ++k) b[k] = a[k];\n\t\t\t\tif(a[i] != j){\n\t\t\t\t\tans = min(ans, c(i, j));\n\t\t\t\t}\n//\t\t\t\tprintf(\"%d %d\\n\", i, j);\n//\t\t\t\tprintf(\"%d\\n\", ans);\n\t\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntypedef long long int ll;\nint n,a[10000];\nint no(int i,int c){\n\tint u=a[i];\n\ta[i]=c;\n\tint ans=0;\n\tint p=i;\n\tint q=i;\n\tint s=1;\n\twhile(p>0||q<n-1){\n\t\twhile(p>0&&a[p]==a[p-1])p--,s++;\n\t\twhile(q<n-1&&a[q]==a[q+1])q++,s++;\n\t\tif(s>3){\n\t\t\tans+=s;\n\t\t\tif(a[p--]!=a[q++])break;\n\t\t\ts=2;\n\t\t\tcontinue;\n\t\t}\n\t\tbreak;\n\t}\n\ta[i]=u;\n\treturn ans;\n}\nint main()\n{\n\tfor(;;){\n\tint x;\n\tcin >> n;\n\tif(n==0)return 0;\n\tint ans=n;\n\tfor(int i=0;i<n;i++)cin >> a[i];\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tif(a[i]!=j){\n\t\t\t\tx=no(i,j);\n\t\t\t}\n\t\t\tans=min(ans,n-x);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\n#define INF (1 << 29)\n\nint N, Ans = INF;\n\nvector<int> C1;\nvector<int> C2;\n\nvoid dfs()\n{\n\tif (C2.size() > 3)\n\t{\n\t\tfor (int i = C2.size(); i > 3; --i)\n\t\t{\n\t\t\tfor (int j = 0; j < C2.size() - i + 1; ++j)\n\t\t\t{\n\t\t\t\tfor (int k = j; k < j + i - 1; ++k)\n\t\t\t\t{\n\t\t\t\t\tif (C2[k] != C2[k + 1])\n\t\t\t\t\t{\n\t\t\t\t\t\tgoto Exit1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tC2.erase(C2.begin() + j, C2.begin() + j + i);\n\n\t\t\t\tgoto Exit2;\n\n\t\t\tExit1:;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (false)\n\t{\n\t\tExit2:;\n\n\t\tdfs();\n\t}\n}\n\nint main()\n{\n\tcin >> N;\n\n\tC1.resize(N);\n\n\tfor (int i = 0; i < N; ++i) { cin >> C1[i]; }\n\n\tfor (int i = 0; i < N; ++i)\n\t{\n\t\tfor (int j = 1; j < 4; ++j)\n\t\t{\n\t\t\tC2 = C1;\n\n\t\t\tC2[i] = j;\n\n\t\t\tdfs();\n\n\t\t\tAns = min(Ans, (int)C2.size());\n\t\t}\n\t}\n\n\tcout << Ans << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint n,cou,num,ans,str[2][10010];\nint rest_count(int up,int down,int sum)\n{\n    if(up == 0 || down == cou + 1)return sum;\n    if(str[0][down + 1] == str[0][up - 1] && str[1][down + 1] + str[1][up - 1] >= 4)return rest_count(up - 1,down + 1,sum + str[1][down + 1] + str[1][up - 1]);\n    return sum;\n}\nint main()\n{\n    while(scanf(\"%d\",&n),n)\n    {\n        cou = -1;\n        ans = n;\n        for(int i = 0; i < n; i++)\n        {\n            scanf(\"%d\",&num);\n            if(i == 0 || num != str[0][cou])\n            {\n                cou++;\n                str[0][cou] = num;\n                str[1][cou] = 1;\n            }\n            else str[1][cou]++;\n        }\n        for(int i = 0; i < cou; i++)\n        {\n            printf(\"%d %d\\n\",str[0][i],str[1][i]);\n        }\n        for(int i = 0; i < cou; i++)\n        {\n            if(str[1][i] == 1)\n            {\n                if(str[0][i - 1] == str[0][i + 1] && str[1][i - 1] + str[1][i + 1] >= 3 && i != 0 && i != cou + 1)ans = min(ans,n - rest_count(i - 1,i + 1,str[1][i - 1] + str[1][i + 1] + 1));\n                if(str[1][i - 1] >= 3 && i != 0)ans = min(ans,n - rest_count(i - 1,i,1 + str[1][i - 1]));\n                if(str[1][i + 1] >= 3 && i != cou + 1)ans = min(ans,n - rest_count(i,i + 1,1 + str[1][i + 1]));\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<stack>\n\nusing namespace std;\n\n#define PII pair<int,int>\n\nint x[10020];\nint N;\n\nstack< PII > S;\n\nvoid pa(){\n\tfor(int i = 0; i < N; i++){\n\t\tprintf(\"%s\",x[i]==1?\"Ô\":x[i]==2?\"Â\":\"©\");\n\t}puts(\"\");\n}\n\nint func(){\n\tint now = 1;\n\tint ret = 0;\n\tPII t;\n\tint c = 1;\n\tfor(int i = 0; i < N; i++){\n\t\tif(x[i] == x[i+1]){\n\t\t\tif(c>3)break;\n\t\t\tc++;\n\t\t}\n\t\telse c = 1;\n\t}\n\tif(c<4)return N;\n\tfor(int i = 0; i < N ; i++){\n\t\tif(x[i] == x[i+1]){\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(S.size() > 0){\n//\t\t\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\t\t\tif(now > 3){\n\t\t\t\t\t\n\t\t\t\t}else if(S.top().first == x[i] && S.top().second + now > 3){\n//\t\t\t\t\tprintf(\"popA\\n\");\n\t\t\t\t\tS.pop();\n\t\t\t\t}else{\n\t\t\t\t\tt.first = x[i];\n\t\t\t\t\tt.second = now;\n\t\t\t\t\tS.push(t);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tPII t;\n\t\t\t\tt.first = x[i];\n\t\t\t\tt.second = now;\n\t\t\t\tS.push(t);\n\t\t\t}\n\t\t\tnow = 1;\n\t\t}\n\t}\n\t/*\n\tif(x[N-1] == S.top().first && S.top().second > 2){\n\t\tS.pop();\n\t}else {\n\t\tS.push(PII(x[N-1],1));\n\t}\n\t*/\n//\tprintf(\"size() = %d\\n\",S.size());\n\tint size = S.size();\n\tfor(int i = 0; i < size; i++){\n//\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\tret += S.top().second;\n\t\tS.pop();\n\t}\n//\tprintf(\"return %2d\\n\",ret);\n\treturn ret;\n}\n\t\t\t\t\n\nint main(void){\n\twhile(scanf(\"%d\", &N) && N != 0){\n\t\tint M=2000000000;\n\t\t\n\t\tfor(int i = N-1; i >= 0; i--){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\tx[N] = 0;\n//\t\tpa();\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 1; j < 4; j++){\n\t\t\t\tif(x[i] != j && ( i-1 > -1 && x[i-1] == j) || (j == x[i+1]) ){\n\t\t\t\t\tx[N+1] = x[i];\n\t\t\t\t\tx[i] = j;\n//\t\t\t\t\tputs(\"---\");\n//\t\t\t\t\tpa();\n\t\t\t\t\tM = min(func(),M);\n\t\t\t\t\tx[i] = x[N+1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", M);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <string>\n#include <vector>\n#include <array>\n#include <queue>\n#include <algorithm>\n#include <utility>\n#include <cmath>\n#include <map>\n#include <set>\n\n#define INF_LL 9000000000000000000\n#define INF 2000000000\n\n#define REP(i, n) for(int i = 0;i < (n);i++)\n#define FOR(i, a, b) for(int i = (a);i < (b);i++)\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> PII;\n\nclass Union_find{\nprivate:\n\tvector<int> par;\n\tvector<int> rank;\n\tint n;\n\npublic:\n\tUnion_find(int a){\n\t\tn = a;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tpar.push_back(i);\n\t\t\trank.push_back(0);\n\t\t}\n\t}\n\n\tint find(int x){\n\t\tif(par[x] == x){\n\t\t\treturn x;\n\t\t}else{\n\t\t\treturn par[x] = find(par[x]);\n\t\t}\n\t}\n\n\tvoid unite(int x, int y){\n\t\tx = find(x);\n\t\ty = find(y);\n\t\tif(x == y) return;\n\n\t\tif(rank[x] < rank[y]){\n\t\t\tpar[x] = y;\n\t\t}else{\n\t\t\tpar[y] = x;\n\t\t\tif(rank[x] == rank[y]) rank[x]++;\n\t\t}\n\t}\n\n\tbool same(int x, int y){\n\t\treturn find(x) == find(y);\n\t}\n};\n\nint chain(vector<int> c, int i){\n\tint res = 1;\n\tfor(int id = i-1;id >= 0 && c[i] == c[id];id--){\n\t\tres++;\n\t}\n\tfor(int id = i+1;id < c.size() && c[i] == c[id];id++){\n\t\tres++;\n\t}\n\treturn res;\n}\n\n\nint main(void){\n\tvector<int> c;\n\tint res;\n\tint N;\n\twhile(cin >> N && N){\n\t\tres = N;\n\t\tREP(i, N){\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tc.push_back(--a);\n\t\t}\n\t\tREP(i, c.size()){\n\t\t\tREP(col, 3){\n\t\t\t\tvector<int> c2(c);\n\t\t\t\tc2[i] = col;\n\t\t\t\tif(chain(c2, i) < 4) continue;\n\n\t\t\t\tint point = i;\n\t\t\t\twhile(chain(c2, point) >= 4){\n\t\t\t\t\tfor(int id = point-1;id >= 0 && c2[id] == c2[point];id--){\n\t\t\t\t\t\tc2[id] = -1;\n\t\t\t\t\t}\n\t\t\t\t\tfor(int id = point+1;id < c2.size() && c2[id] == c2[point];id++){\n\t\t\t\t\t\tc2[id] = -1;\n\t\t\t\t\t}\n\t\t\t\t\tc2[point] = -1;\n\t\t\t\t\tvector<int> a;\n\t\t\t\t\tREP(j, c2.size()){\n\t\t\t\t\t\tif(c2[j] != -1) a.push_back(c2[j]);\n\t\t\t\t\t}\n\t\t\t\t\tc2 = a;\n\n\t\t\t\t\tREP(j, c2.size()){\n\t\t\t\t\t\tif(chain(c2, j) >= 4){\n\t\t\t\t\t\t\tpoint = j;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tres = min(res, (int)c2.size());\n\t\t\t}\n\t\t}\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n#include <cstring>\n#include <string>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <map>\n#include <set>\n#include <bitset>\n#include <numeric>\n#include <utility>\n#include <iomanip>\n#include <algorithm>\n#include <functional>\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector<int> vint;\ntypedef vector<long long> vll;\ntypedef pair<int,int> pint;\ntypedef pair<long long, long long> pll;\n\n#define MP make_pair\n#define PB push_back\n#define ALL(s) (s).begin(),(s).end()\n#define EACH(i, s) for (__typeof__((s).begin()) i = (s).begin(); i != (s).end(); ++i)\n#define COUT(x) cout << #x << \" = \" << (x) << \" (L\" << __LINE__ << \")\" << endl\n\ntemplate<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }\ntemplate<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }\ntemplate<class T1, class T2> ostream& operator << (ostream &s, pair<T1,T2> P) \n{ return s << '<' << P.first << \", \" << P.second << '>'; }\ntemplate<class T> ostream& operator << (ostream &s, vector<T> P) \n{ for (int i = 0; i < P.size(); ++i) { if (i > 0) { s << \" \"; } s << P[i]; } return s; }\ntemplate<class T1, class T2> ostream& operator << (ostream &s, map<T1,T2> P) \n{ EACH(it, P) { s << \"<\" << it->first << \"->\" << it->second << \"> \"; } return s; }\n\n\n\nconst int MAX = 10100;\n\nint n;\nint a[MAX];\n\nint check(int i, int ic) {\n    int res = 0;\n    int c = ic;\n    int tmp = 1;\n    for (int j = i-1, k = i+1; j >= 0 && k <= n+1; ) {\n        if (a[j] == c) { \n            --j;\n            ++tmp;\n            continue;\n        }\n        else {\n            if (a[k] == c) {\n                ++k;\n                ++tmp;\n                continue;\n            }\n            else {\n                if (tmp >= 4) res += tmp;\n                else {\n                    //cout << i << \", \" << ic << \" : \" << res << endl;\n                    return res;\n                }\n                \n                c = a[j];\n                tmp = 0;\n            }\n        }\n    }\n    //cout << i << \", \" << ic << \" : \" << res << endl;\n    return res;\n}\n\nint main() {\n    //freopen( \"/Users/macuser/Dropbox/Contest/input.in\", \"r\", stdin );\n    while (cin >> n) {\n        if (n == 0) break;\n        \n        memset(a, 0, sizeof(a));\n        for (int i = 0; i < n; ++i) cin >> a[i+1];\n        \n        int res = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int c = 1; c <= 3; ++c) {\n                int tmp = check(i, c);\n                chmax(res, tmp);\n            }\n        }\n        \n        cout << n-res << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef pair<int, int> pii;\n\nint n;\nvector<int> a;\n\nint f(int si, int c) {\n  int l = si, r = si;\n  while (l >= 1 && a[l - 1] == c) l--;\n  while (r <= n && a[r + 1] == c) r++;\n  if (r - l + 1 < 4) return 0;\n\n  int res = r - l + 1;\n  l--, r++;\n  while (a[l] == a[r]) {\n    int suml = 1, sumr = 1;\n    while (l >= 1 && a[l - 1] == a[l]) l--, suml++;\n    while (r <= n && a[r + 1] == a[r]) r++, sumr++;\n    if (suml + sumr < 4) return res;\n    res += suml + sumr;\n    l--, r++;\n  }\n  return res;\n}\n\nint main(void) {\n  while (cin >> n, n) {\n    a.resize(n + 2, 0);\n    for (int i = 1; i <= n; i++) {\n      cin >> a[i];\n    }\n\n    int ans = n;\n    for (int i = 1; i <= n; i++) {\n      for (int j = 1; j <= 3; j++) {\n        ans = min(ans, n - f(i, j));\n      }\n    }\n\n    cout << ans << endl;\n  }\n\n  return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<deque>\n#include<map>\n#include<set>\n#include<string>\n#include<sstream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<cctype>\n#include<climits>\nusing namespace std;\n#define REP(i, j) for(int i = 0; i < j; i++)\n#define FOR(i, j, k) for(int i = j; i < k; i++)\n#define P pair<int, int>\nconst int INF = INT_MAX / 2;\n\nint n;\n\nvector<P> makeVecP(vector<int> v){\n    vector<P> ret;\n    int i = 0, j = 0;\n    while(i < n){\n        while(j < n && v[i] == v[j]) j++;\n        ret.push_back( P(v[i], j - i) );\n        i = j;\n    }\n    return ret;\n}\n\nint cntBall(vector<P> v, int left, int right){\n    int cnt = 0;\n    while(left >= 0 && right < v.size() && v[left].first == v[right].first && v[left].second + v[right].second >= 4){\n        cnt += ((left == right)? v[left].second : (v[left].second + v[right].second));\n        left--; right++;\n        if(v[left].second == 0) left--;\n        if(v[right].second == 0) right++;\n    }\n    return n - cnt;\n}\n\nint main(){\n    while(cin >>n && n){\n        vector<int> tmp(n); REP(i, n) cin >>tmp[i];\n        vector<P> v = makeVecP(tmp);\n\n        int ans = n;\n        REP(i, v.size()){\n            if(v[i].second >= 3){\n                v[i].second++;\n                if(i - 1 >= 0){\n                    v[i - 1].second--;\n                    ans = min(ans, cntBall(v, i, i));\n                    v[i - 1].second++;\n                }\n                if(i + 1 < v.size()){\n                    v[i + 1].second--;\n                    ans = min(ans, cntBall(v, i, i));\n                    v[i + 1].second++;\n                }\n                v[i].second--;\n            }\n            else if(i - 1 >= 0 && i + 1 < v.size() && v[i - 1].first == v[i + 1].first && v[i - 1].second + v[i + 1].second >= 3){\n                v[i].second--;\n                v[i - 1].second++;\n                ans = min(ans, cntBall(v, i - 1, i + 1));\n                v[i - 1].second--;\n                v[i].second++;\n            }\n        }\n        cout <<ans <<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nvoid counter(int);\n\nint color,n,m,puyo[10000],N;\n\nint main(){\n\n  int Min,number,original;\n  bool check;\n  \n  while(1){\n    \n    cin >>N;\n    \n    if(N == 0)break;\n    \n    Min=N;\n    \n    for(int i=0 ; i < N ; i++){\n      cin >>puyo[i];\n    }\n    \n    for(int k=1 ; k < N-1 ; k++){\n      \n      if(puyo[k-1] == puyo[k+1]){\n\t\n\toriginal=puyo[k];\n\tpuyo[k]=puyo[k-1];\n\t\n\tcheck = true;\n\t\n\twhile(1){\n\t  \n\t  if(check == false)break;\n\t  \n\t  check=false;\n\t  \n\t  for(int i=0 ; i < N ; i++){\n\t    n=0;\n\t    m=0;\n\t    if(puyo[i] !=0 ){\n\t      color=puyo[i];\n\t      counter(i);\n\t    }      \n\t    if(n >= 4){\n\t      for(int j=0 ; j < m ; j++){\n\t\tpuyo[i+j]=0;\n\t\tcheck=true;\n\t      }\n\t    }\n\t  } \n\t}\n\t\n\tnumber=0;\n\tfor(int i=0 ; i < N ; i++){\n\t  if(puyo[i] != 0)number++;\n\t}\n\t\n\tif(number < Min)Min = number;\n\t\n\tpuyo[k]=original;\n\t\n      }\n    }\n    \n    cout <<Min<<endl;\n    \n  }\n  return 0;\n}\nvoid counter(int i){\n  \n  m++;\n  \n  if(puyo[i] != 0){\n    n++;\n  }\n  \n  if( i >= 0 && i < N-1 ){\n    if(color == puyo[i+1] || puyo[i+1] == 0){\n      counter(i+1);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<cassert>\n#include<iostream>\n#include<sstream>\n#include<string>\n#include<vector>\n#include<queue>\n#include<set>\n#include<map>\n#include<utility>\n#include<numeric>\n#include<algorithm>\n#include<bitset>\n#include<complex>\n\nusing namespace std;\n\ntypedef long long Int;\ntypedef vector<int> vint;\ntypedef pair<int,int> pint;\n#define mp make_pair\n\ntemplate<class T> void pv(T a, T b) { for (T i = a; i != b; ++i) cout << *i << \" \"; cout << endl; }\ntemplate<class T> void chmin(T &t, T f) { if (t > f) t = f; }\ntemplate<class T> void chmax(T &t, T f) { if (t < f) t = f; }\nint in() { int x; scanf(\"%d\", &x); return x; }\n\nint color[10010];\n\nint main() {\n\tint a,b,i,n,res;\n\twhile(n=in()){\n\t\tres=n;\n\t\tfor(i=0;i<n;i++){\n\t\t\tcolor[i]=in();\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tint j,c,r;\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\ta=b=i;\n\t\t\t\tr=n;\n\t\t\t\tc=j;\n\t\t\t\twhile(a-1>=0&&color[a-1]==c)a--;\n\t\t\t\twhile(b+1<n&&color[b+1]==c)b++;\n\t\t\t\tif(b-a<3)continue;\n\t\t\t\tr-=b-a+1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(a==0||b==n-1)break;\n\t\t\t\t\ta--;b++;\n\t\t\t\t\tc=color[a];\n\t\t\t\t\twhile(a-1>=0&&color[a-1]==c)a--;\n\t\t\t\t\twhile(b+1<n&&color[b+1]==c)b++;\n\t\t\t\t\tif(b-a-(n-r)<3)break;\n\t\t\t\t\tr-=b-a-(n-r)+1;\n\t\t\t\t}\n\t\t\t\tchmin(res,r);\n\t\t\t}\n\t\t}\n\t\tcout<<res<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\nint s = 0;\npair<int, int> color[2][10000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[100];\n\nvoid check(int bb, int ss)\n{\n\tlost[1] = lost[0];\n\tint count = 1;\n\tfor (int i = bb; i < n; i++)\n\t{\n\t\tif (color[1][bb].second == color[1][i].second)\n\t\t{\n\t\t\tcolor[1][i].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse if (color[1][bb].second == color[1][i + lost[1]].second)\n\t\t{\n\t\t\tcolor[1][i + lost[1]].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tbb--;\n\n\tif (lost[0] != lost[1])\n\t{\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb - 1].second)\n\t\t\t{\n\t\t\t\tbb--;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[1][bb].second == color[1][bb + count + lost[0]].second)\n\t\t\t{\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (count >= 4)\n\t\t{\n\t\t\tcheck(bb, ss);\n\t\t}\n\t}\n\tresult[ss] = min(result[ss], n - lost[0]);\n}\n\nint main()\n{\n\tfor (;; s++)\n\t{\n\t\tcin >> n;\n\n\t\tif (n == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int a = 0; a < 10000; a++)\n\t\t{\n\t\t\tcolor[0][a].first = 1;\n\t\t}\n\n\t\tresult[s] = n;\n\n\t\tfor (int a = 0; a < n; a++)\n\t\t{\n\t\t\tcin >> color[0][a].second;\n\t\t}\n\n\t\tfor (a = 0; a < n-3; a++)\n\t\t{\n\t\t\tlost[0] = 0;\n\t\t\tfor (int t = 0; t < n; t++)\n\t\t\t{\n\t\t\t\tcolor[1][t] = color[0][t];\n\t\t\t}\n\t\t\tfor (; b < n - 3; b++)\n\t\t\t{\n\t\t\t\tif (color[1][b] == color[1][b + 1] && color[1][b + 1] == color[1][b + 2])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 4] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t\telse if (color[1][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 2] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 1] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t\tb += 4;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int t = 0; t < s; t++)\n\t{\n\t\tcout << result[t] << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint solve(vector<PII> u) {\n\tbool f;\n\tvector<PII> v = u;\n\tint res, r, l;\n\n\tFOR(i, 1, v.size()) if (v[i-1].first == v[i].first) {\n\t\tv[i-1].second += v[i].second;\n\t\tv.erase(v.begin() + i);\n\t\ti--;\n\t}\n\n\tREP(i, v.size()) if (v[i].second >= 4) {\n\t\tr = i - 1;\n\t\tl = i + 1;\n\t\tbreak;\n\t}\n\n\tdo {\n\t\tf = false;\n\t\tif (r >= 0 && l < v.size() && v[r].first == v[l].first && v[r].second + v[l].second >= 4) {\n\t\t\tr--; l++;\n\t\t\tf = true;\n\t\t}\n\t} while (f);\n\t\n\tres = 0;\n\tfor (int i = 0; i <= r; ++i) res += v[i].second;\n\tfor (int i = l; i < v.size(); ++i) res += v[i].second;\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint n, a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint tmp; cin >> tmp;\n\t\t\tif (a == tmp) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = tmp;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() - 1 && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\t\tREP(i, p.size()) cout << p[i].first << \" \" << p[i].second << endl;\n\t\tcout << ans << endl;\n\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip>\n#include <complex>\n#include <string>\n#include <vector>\n#include <list>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm>\n#include <numeric>\n#include <typeinfo>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <ctime>\n\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<\"=\"<<(n)<<endl\n#define debug(n) cout<<__FILE__<<\",\"<<__LINE__<<\": #\"<<#n<<\"=\"<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define rep(i,n) repi(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define foreach(i,c) for(iter(c) i=(c).begin();i!=(c).end();i++)\n#define allof(c) (c).begin(),(c).end()\n#define mp make_pair\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nint simulate(const vi& a,int changedpos)\n{\n\tint li=changedpos,ri=changedpos;\n\tfor(;;){\n\t\tint color=a[ri];\n\t\tint li2,ri2;\n\t\tfor(li2=li-1;;li2--){\n\t\t\tif(li2<0 || a[li2]!=color){\n\t\t\t\tli2++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor(ri2=ri;ri2<a.size() && a[ri2]==color;ri2++)\n\t\t\t;\n\t\tif((ri2-li2)-(ri-li)>=4){\n\t\t\tli=li2;\n\t\t\tri=ri2;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t\tif(li==0 || ri==a.size() || a[li-1]!=a[ri])\n\t\t\tbreak;\n\t}\n\treturn a.size()-(ri-li);\n}\n\nint main()\n{\n\tfor(int n;cin>>n,n;){\n\t\tvi a(n);\n\t\trep(i,n)\n\t\t\tcin>>a[i];\n\t\t\n\t\tint res=1<<29;\n\t\trep(i,n){\n\t\t\tint temp=a[i];\n\t\t\trepi(j,1,4){\n\t\t\t\tif(j==temp)\n\t\t\t\t\tcontinue;\n\t\t\t\ta[i]=j;\n\t\t\t\tres=min(res,simulate(a,i));\n\t\t\t}\n\t\t\ta[i]=temp;\n\t\t}\n\t\t\n\t\tcout<<res<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nstruct A\n{\n    bool ignore[N];\n};\nint chain[N];\n\nvoid clear()\n{\n    fill( chain, chain + N, 0 );\n}\n\n\nint del( int const num, int const befig, A& ig )\n{\n    int ignum = 0;\n    int begin = 0, count = 0, last = chain[0];\n    for( int i=0; i<=num; ++i ) {\n        if ( i < num && ig.ignore[i] )\n            continue;\n        int const cur = ( i < num ) ? chain[i] : -1;\n        if ( cur == last ) {\n            ++count;\n        } else {\n            if ( ( i - begin ) >= ( 4 + befig ) ) {\n                for( int ii=begin; ii<i; ++ii ) {\n                    if ( !ig.ignore[ii] ) {\n                        ig.ignore[ii] = true;\n                        ++ignum;\n                    }\n                }\n            }\n            begin = i;\n            count = 0;\n            last = chain[i];\n        }\n        if ( i == num )\n            break;\n    }\n    if ( ignum == 0 )\n        return 0;\n\n    while( int const p = del( num, befig + ignum, ig ) )\n        ignum += p;\n    \n    return ignum;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        A ig;\n        int const befig = del( n, 0, ig );\n        int max_n = n - befig;\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                A d = ig;\n                chain[i] = ii;\n                \n                if ( ( i > 1 && chain[i-1] != chain[i] ) || ( i < n-1 && chain[i] != chain[i+1] ) )\n                    continue;\n\n                int const num = n - del( n, befig, d );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n#include <stack>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nbool used[10005];\n\nvoid prints(stack<P> st) {\n\twhile(st.size()) {\n\t\tP p = st.top(); st.pop();\n\t\tcout << \"(\" << p.first << \",\" << p.second << \") \";\n\t}\n\tcout << endl;\n}\n\nint func(vector<int>& v) {\n\tstack<P> st;\n\tint n = v.size();\n\n\trep(i, n) {\n\t\tint len = 1, c = v[i];\n\t\tREP(j, i+1, n) {\n\t\t\tif(c == v[j]) {\n\t\t\t\ti++;\n\t\t\t\tlen++;\n\t\t\t\tcontinue;\n\t\t\t} else break;\n\t\t}\n\n\t\tif(len >= 4) continue;\n\t\telse {\n\t\t\tif(st.size() == 0) {\n\t\t\t\tst.push(mp(c, len));\n\t\t\t} else {\n\t\t\t\tP p = st.top();\n\t\t\t\tif(p.first == c) {\n\t\t\t\t\tif(p.second + len < 4) {\n\t\t\t\t\t\tst.top().second += len;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tst.pop();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tst.push(mp(c, len));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// prints(st);\n\t}\n\n\tint ret = 0;\n\twhile(st.size()) {\n\t\tret += st.top().second;\n\t\tst.pop();\n\t}\n\treturn ret;\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n) {\n\n\t\tvector<int> v(n);\n\t\trep(i, n) cin >> v[i];\n\n\t\tint ans = n + 1;\n\t\trep(i, n) {\n\t\t\tint t = v[i];\n\n\t\t\tv[i] = 1;\n\t\t\tif(i == 0) {\n\t\t\t\tv[i] = v[i+1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else if(i == n-1) {\n\t\t\t\tv[i] = v[i-1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else {\n\t\t\t\tif(v[i+1] == v[i-1]) {\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t} else {\n\t\t\t\t\tv[i] = v[i-1];\n\t\t\t\t\tans = min(ans, func(v));\n\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tv[i] = t;\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nusing namespace std;\n\nint max(int a, int b){\n\tif(a > b) return a;\n\treturn b;\n}\n\nint main(){\n\tconst int MAX_N = 10000;\n\tint N, ball[MAX_N];\n\tint ub, lb, base, res, ans;\n\t\n\twhile(true){\n\t\tscanf(\"%d\", &N);\n\t\t\n\t\tif(N == 0) break;\n\t\t\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tscanf(\"%d\", &ball[i]);\n\t\t}\n\t\t\n\t\tres = 0;\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 1; j <= 3; j++){\n\t\t\t\tub = i - 1; lb = i + 1;\n\t\t\t\tans = 0; base = j;\n\t\t\t\twhile(true){\n\t\t\t\t\twhile(ub >= 0 && ball[ub] == base) ub--;\n\t\t\t\t\twhile(lb < N && ball[lb] == base) lb++;\n\t\t\t\t\tif(lb - ub - 1 - ans >= 4){\n\t\t\t\t\t\tans += lb - ub - 1 - ans;\n\t\t\t\t\t\tif(ub < 0 || lb >= N || ball[ub] != ball[lb]) break;\n\t\t\t\t\t\tbase = ball[ub];\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tres = max(ans, res);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", N - res);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n;q++){\n\t\t\tfor(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j+1;\n\t\t\t\t\t\tfor(int w=i;w<=j;w++){\n\t\t\t\t\t\t\tcheck[w]=check[d];\n\t\t\t\t\t\t\td++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//i=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nmain(){while(true){int x[11000],n,i,j,k,l,m,y[11000],b,c,d,p[11000],w;scanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}c=0;d=0;m=n;d=m;w=99999;\nfor(i=0;i<n;i++){for(j=1;j<=3;j++){if(i>=1&&y[i-1]!=j&&y[i+1]!=j){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){if(p[k]==p[k+1]){b++;}\nelse{if(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}m=d;}\nif(c==0){break;}\nelse{c=0;}}\nw=std::min(w,m);x[i]=y[i];\nfor(k=0;k<n;k++){p[k]=y[k];}\nz:\n}}printf(\"%d\\n\",w);}}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,n)\tfor(int i=a;i<n;i++)\n\nint main(){\n\tint n;\n\twhile(true){\n\t\tcin>>n;\n\t\tif(n==0)\treturn 0;\n\t\tvector<int> a(n);\n\t\trep(i,0,n)\tcin>>a[i];\n\t\tint ans=(1<<30);\n\t\trep(i,0,n){\n\t\t\trep(j,1,4){\n\t\t\t\tvector<int> b(a);\n\t\t\t\tif(b[i]==j)\tcontinue;\n\t\t\t\tb[i]=j;\n\t\t\t\tint m=n,cur=i;\n\t\t\t\twhile(true){\n\t\t\t\t\tint cnt=0;\n\t\t\t\t\tint o=cur,u=cur;\n\t\t\t\t\twhile(o-1>=0&&b[cur]==b[o-1])\to--,cnt++;\n\t\t\t\t\twhile(u<m&&b[cur]==b[u])\tu++,cnt++;\n\t\t\t\t\tif(cnt<4)\tbreak;\n\t\t\t\t\tb.erase(b.begin()+o,b.begin()+u);\tm-=cnt;\n\t\t\t\t\tcur=o;\n\t\t\t\t}\n\t\t\t\tans=min(ans,m);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\t"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <fstream>\n#include <complex>\nusing namespace std;\n\n//conversion\n//------------------------------------------\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long, long> PLL;\ntypedef long long LL;\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\nconst double EPS = 1e-12;\nconst double INF = 1e12;\n\nint N;\nint a[10003];\nint pari(int pos){\n\tint l=pos-1,r=pos+1;\n\tint sum=0,temp=1;\n\tint nowc=(a[l]!=0)?a[l]:a[r];\n\t\n\twhile(l>=0&&r<=N+1){\n\t\tif(a[l]!=nowc&&a[r]!=nowc){\n\t\t\tif(temp>=4){\n\t\t\t\tsum+=temp;\n\t\t\t\ttemp=0;\n\t\t\t\tnowc=(a[l]!=0)?a[l]:a[r];\n\t\t\t\tif(nowc==0)return sum;\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(a[l]==nowc){\n\t\t\ttemp++;\n\t\t\tl--;\n\t\t}\n\t\tif(a[r]==nowc){\n\t\t\ttemp++;\n\t\t\tr++;\n\t\t}\n\t}\n\treturn sum;\n}\n\nint main(){\n\t\n\twhile(cin>>N){\n\t\tif(N==0)break;\n\t\tCLR(a);\n\t\tREP(i,N)cin>>a[i+1];\n\t\tint maxi=0;\n\t\tFOR(i,1,N){\n\t\t\tif(a[i]!=a[i-1]&&a[i]!=a[i+1]){\n\t\t\t\tmaxi=max(pari(i),maxi);\n\t\t\t}\n\t\t}\n\t\tcout<<N-maxi<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 9999999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t\n\t\t\t// 色を変えたところで意味のない部分は考えない(悪いけどごり押し) ここから-----\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tif (character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i == N - 1)\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j && character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ----- ここまで\n\t\t\t\n\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k++)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 最初から探索し直す\n\t\t\t\t\tk = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\n\t\t\tans = min(ans , (int)search.size());\n\t\t\t// 0なら探索終了\n\t\t\tif (search.empty() == true)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\n\nint main(){\n\tint n = 0;\n\tint color[][2] = {{0, 0}, {2, 3}, {1, 3}, {1, 2}};\n\twhile(cin >> n && n != 0){\n\t\tvector<int> line;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint tmp = 0;\n\t\t\tcin >> tmp;\n\t\t\tline.push_back(tmp);\n\t\t}\n\n\t\tint minch = 1000000;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\tvector<int> copyline = line;\n\t\t\t\tcopyline[i] = color[line[i]][j];\n\t\t\t\tint count = 1;\n\t\t\t\tfor(int k = 0; k < n-1; k++){\n\t\t\t\t\tif(!copyline[k]) continue;\n\t\t\t\t\tint progress = 1;\n\t\t\t\t\twhile(!copyline[k+progress] && k+progress<copyline.size()) progress++;\n\t\t\t\t\tif(copyline[k] != copyline[k+progress]){\n\t\t\t\t\t\tif(count >= 4){\n\t\t\t\t\t\t\tint target = copyline[k];\n\t\t\t\t\t\t\tfor(int l = k; copyline[l] == 0 || copyline[l] == target; l--){\n\t\t\t\t\t\t\t\tcopyline[l] = 0;\n\t\t\t\t\t\t\t\tif(!l) break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tk = -1;\n\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse count = 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tint chnum = 0;\n\t\t\t\tfor(int k = 0; k < n; k++){\n\t\t\t\t\tif(copyline[k]) chnum++;\n\t\t\t\t}\n\n\t\t\t\tminch = minch > chnum ? chnum : minch;\n\t\t\t}\n\t\t}\n\n\t\tcout << minch << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 2000000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define EQ(a,b) (abs((a)-(b))<EPS)\nvi p;\nvi puyo,tmp;\nint n;\nint ans;\nvector<int>::iterator it1,it2;\nvoid init()\n{\n\tp.clear();\n\tfor(int i=0;i<sz(tmp);i++)\n\t{\n\t\tint cnt=0;\n\t\tint k=tmp[i];\n\t\tfor(int j=i;j<sz(tmp);j++)\n\t\t{\n\t\t\tif(tmp[j]==k)cnt++;\n\t\t\telse break;\n\t\t}\n\t\tp.pb(cnt);\n\t}\n}\nbool cal()\n{\n\tit2=p.begin();\n\tit1=tmp.begin();\n\tbool flag=false;\n\tfor(int i=0;i<sz(p);i++)\n\t{\n\t\tif(*it2>=4)\n\t\t{\n\t\t\tflag=true;\n\t\t\tbreak;\n\t\t}\n\t\tit2++;\n\t\tit1++;\n\t}\n\treturn flag;\n}\nvoid erase()\n{\n\tint r=*it2;\n\tfor(int i=0;i<r;i++)\n\t{\n\t\ttmp.erase(it1);\n\t\tit1++;\n\t}\n\treturn;\n}\nint change(int place,int color)\n{\n\ttmp.clear();\n\ttmp=puyo;\n\ttmp[place]=color;\n\tbool f=false;\n\twhile(1)\n\t{\n\t\tinit();\n\t\tf=cal();\n\t\tif(f)\n\t\t{\n\t\t\terase();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn sz(tmp);\n}\nint main()\n{\n\twhile(1)\n\t{\n\t\tcin >> n;\n\t\tif(n==0)break;\n\t\tans=INF;\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint k;\n\t\t\tcin >> k;\n\t\t\tpuyo.pb(k);\n\t\t}\n\t\treverse(puyo.begin(),puyo.end());\n\t\tfor(int i=0;i<sz(puyo);i++)\n\t\t{\n\t\t\tfor(int j=1;j<=3;j++)\n\t\t\t{\n\t\t\t\tif(puyo[i]==j)continue;\n\t\t\t\tans=min(ans,change(i,j));\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n//typedef\n//-------------------------#include <bits/stdc++.h>\n \nconst double pi = 3.141592653589793238462643383279;\n \n \nusing namespace std;\n \n//conversion\n//------------------------------------------\ninline int toInt(string s) { int v; istringstream sin(s); sin >> v; return v; }\ntemplate<class T> inline string toString(T x) { ostringstream sout; sout << x; return sout.str(); }\ninline int readInt() { int x; scanf(\"%d\", &x); return x; }\n \n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long long, long long> PLL;\ntypedef pair<int, PII> TIII;\ntypedef long long LL;\ntypedef unsigned long long ULL;\ntypedef vector<LL> VLL;\ntypedef vector<VLL> VVLL;\n \n \n//container util\n \n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define SQ(a) ((a)*(a))\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n \n \n//repetition\n//------------------------------------------\n#define FOR(i,s,n) for(int i=s;i<(int)n;++i)\n#define REP(i,n) FOR(i,0,n)\n#define MOD 1000000007\n \n#define rep(i, a, b) for(int i = a; i < (b); ++i)\n#define trav(a, x) for(auto& a : x)\n#define all(x) x.begin(), x.end()\n#define sz(x) (int)(x).size()\n \ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef vector<int> vi;\nconst double EPS = 1E-8;\n \n#define chmin(x,y) x=min(x,y)\n#define chmax(x,y) x=max(x,y)\n \nclass UnionFind {\npublic:\n    vector <int> par; \n    vector <int> siz; \n\n    UnionFind(int sz_): par(sz_), siz(sz_, 1) {\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n    void init(int sz_) {\n        par.resize(sz_);\n        siz.assign(sz_, 1LL);\n        for (ll i = 0; i < sz_; ++i) par[i] = i;\n    }\n \n    int root(int x) { \n        while (par[x] != x) {\n            x = par[x] = par[par[x]];\n        }\n        return x;\n    }\n \n    bool merge(int x, int y) {\n        x = root(x);\n        y = root(y);\n        if (x == y) return false;\n        if (siz[x] < siz[y]) swap(x, y);\n        siz[x] += siz[y];\n        par[y] = x;\n        return true;\n    }\n \n    bool issame(int x, int y) { \n        return root(x) == root(y);\n    }\n \n    int size(int x) { \n        return siz[root(x)];\n    }\n};\n \n \nll modPow(ll x, ll n, ll mod = MOD){\n    if(n <= 0) return 1;\n    ll res = 1;\n    while(n){\n        if(n&1) res = (res * x)%mod;\n \n        res %= mod;\n        x = x * x %mod;\n        n >>= 1;\n    }\n    return res;\n}\n \n#define SIEVE_SIZE 5000000+10\nbool sieve[SIEVE_SIZE];\nvoid makeSieve(){\n    for(int i=0; i<SIEVE_SIZE; ++i) sieve[i] = true;\n    sieve[0] = sieve[1] = false;\n    for(int i=2; i*i<SIEVE_SIZE; ++i) if(sieve[i]) for(int j=2; i*j<SIEVE_SIZE; ++j) sieve[i*j] = false;\n}\n \nbool isprime(ll n){\n    if(n == 0 || n == 1) return false;\n    for(ll i=2; i*i<=n; ++i) if(n%i==0) return false;\n    return true;\n}\n \nconst int MAX = 2000010;\nlong long fac[MAX], finv[MAX], inv[MAX];\n \n// テーブルを作る前処理\nvoid COMinit() {\n    fac[0] = fac[1] = 1;\n    finv[0] = finv[1] = 1;\n    inv[1] = 1;\n    for (int i = 2; i < MAX; i++){\n        fac[i] = fac[i - 1] * i % MOD;\n        inv[i] = MOD - inv[MOD%i] * (MOD / i) % MOD;\n        finv[i] = finv[i - 1] * inv[i] % MOD;\n    }\n}\n \n// 二項係数計算\nlong long COM(int n, int k){\n    if (n < k) return 0;\n    if (n < 0 || k < 0) return 0;\n    return fac[n] * (finv[k] * finv[n - k] % MOD) % MOD;\n}\n \nlong long extGCD(long long a, long long b, long long &x, long long &y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n    long long d = extGCD(b, a%b, y, x);\n    y -= a/b * x;\n    return d;\n}\n// 負の数にも対応した mod (a = -11 とかでも OK) \ninline long long mod(long long a, long long m) {\n    return (a % m + m) % m;\n}\n \n// 逆元計算 (ここでは a と m が互いに素であることが必要)\nlong long modinv(long long a, long long m) {\n    long long x, y;\n    extGCD(a, m, x, y);\n    return mod(x, m); // 気持ち的には x % m だが、x が負かもしれないので\n}\nll GCD(ll a, ll b){\n    \n    if(b == 0) return a;\n    return GCD(b, a%b);\n}\n\n\nint main() {\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    //cout << fixed << setprecision(15);\n\n    int N; \n    while(cin >> N, N){\n    vector<int> v(N);\n    for(int i=0; i<N; i++) cin >> v[i];\n\n    if(N ==1 || N==2 || N==3){\n        cout << N << endl;\n        return 0;\n    }\n    int ans = N;\n    if(v[1] == v[2] && v[2] == v[3]){\n        ans = N-4;\n    }\n    if(v[N-2] == v[N-3] && v[N-3] == v[N-4]){\n        ans = N-4;\n    }\n\n\n    for(int i=1; i<N-1; i++){\n        queue<int> q1, q2;\n \n        // 赤 1\n        int color = 1;\n        int ct = 1;\n        int lb = i-1, ub = i+1;\n        int tmpl=i-1, tmpr = i+1; \n        bool pass = false;\n        while(1){\n            \n            while(lb>=0 && v[lb] == color){\n                lb--;\n                ct++;\n            }\n            while(ub<N && v[ub] == color){\n                ub++;\n                ct++;\n            }\n\n            if(ct>=4){\n                pass = true;\n                tmpl = lb, tmpr = ub;\n            }else{\n                break;\n            }\n            ct = 0;\n            if(lb == -1 && ub == N) break;\n            else if(lb == -1){\n                color = v[ub];\n            }else if(ub == N){\n                color = v[lb];\n            }else{\n                color = v[lb];\n            }\n        }\n        if(pass){\n            ans = min(ans, N-(tmpr-tmpl-1));\n        }\n        // 黄 3\n\n        color = 3;\n        ct = 1;\n        lb = i-1, ub = i+1;\n        tmpl=i-1, tmpr = i+1;\n        pass = false;\n        while(1){\n            \n            while(lb>=0 && v[lb] == color){\n                lb--;\n                ct++;\n            }\n            while(ub<N && v[ub] == color){\n                ub++;\n                ct++;\n            }\n\n            if(ct>=4){\n                pass = true;\n                tmpl = lb, tmpr = ub;\n            }else{\n                break;\n            }\n            ct = 0;\n            if(lb == -1 && ub == N) break;\n            else if(lb == -1){\n                color = v[ub];\n            }else if(ub == N){\n                color = v[lb];\n            }else{\n                color = v[lb];\n            }\n        }\n        if(pass){\n            //消した数は ub-lb+1;\n            ans = min(ans, N-(tmpr-tmpl-1));\n        }\n        // 青 2\n        color = 2;\n        ct = 1;\n        lb = i-1, ub = i+1;\n        tmpl=i-1, tmpr = i+1;\n        pass = false;\n        while(1){\n            \n            while(lb>=0 && v[lb] == color){\n                lb--;\n                ct++;\n            }\n            while(ub<N && v[ub] == color){\n                ub++;\n                ct++;\n            }\n\n            if(ct>=4){\n                pass = true;\n                tmpl = lb, tmpr = ub;\n            }else{\n                break;\n            }\n            ct = 0;\n            if(lb == -1 && ub == N) break;\n            else if(lb == -1){\n                color = v[ub];\n            }else if(ub == N){\n                color = v[lb];\n            }else{\n                color = v[lb];\n            }\n        }\n        if(pass){\n            //消した数は ub-lb+1;\n            ans = min(ans, N-(tmpr-tmpl-1));\n        }\n    }\n\n    cout << ans << endl;\n    }\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nint c[10005] = {0},d[10005] = {0};\nusing namespace std;\nint func(int s,int t){\n    int x = 0;\n    while(c[s] == c[t] && d[s]+d[t] >= 4){\n        x += d[s]+d[t];\n        s = s-d[s];\n        t += d[t];\n    }\n    return x;\n}\nint main(){\n    int n;\n    while(scanf(\"%d\",&n),n){\n        c[0] = 5;\n        c[n+1] = 6;\n        d[0] = d[n+1] = 0;\n        scanf(\"%d\",&c[1]);\n        int x;\n        x = c[1];\n        int y = 1;\n        for(int i = 2;i <= n+1; i++){\n            if(i < n+1)scanf(\"%d\",&c[i]);\n            if(c[i] != x){\n                for(int j = 1;j <= y; j++)d[i-j] = y;\n                y = 1;\n                x = c[i];\n            }\n            else y++;\n        }\n        int ans = 0;\n        int s = 0,t = 0;\n        for(int i = 1;i <= n; i++){\n            if(c[i-1] == c[i+1]){\n                if(c[i-1]!= c[i] && d[i-1] + d[i+1] >= 3){\n                    s = (i-1) - d[i-1];\n                    t = (i+1) + d[i+1];\n                    ans = max(ans,d[i-1]+d[i+1]+1+func(s,t));\n                }\n            }\n            else {\n                if(c[i-1] != c[i] && d[i-1] >= 3){\n                    s = (i-1) - d[i-1];\n                    if(c[i] == c[i+1]){\n                        t = i;\n                        x = 0;\n                    }\n                    else {\n                        t = i + 1;\n                        x = 1;\n                    }\n                    ans = max(ans,d[i-1]+x+func(s,t));\n                }\n                if(c[i+1] != c[i] && d[i+1] >= 3){\n                    t = (i+1) + d[i+1];\n                    if(c[i] == c[i-1]){\n                        s = i;\n                        x = 0;\n                    }\n                    else {\n                        s = i-1;\n                        x = 1;\n                    }\n                    ans = max(ans,d[i+1]+x+func(s,t));\n                }\n            }\n        }\n        //printf(\"%d\\n\",ans);\n        printf(\"%d\\n\",n-ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < n; i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < n; i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tx[list[x[i][0]]][1] = i;\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; unsigned MAX = 15000;\n\n\t\tvector<int> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<int> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (int l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (E[k] == E[k + 1])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\nint tmp[11234][3];\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color - 1][1]; i <= bound[num][color - 1][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color - 1][1] - 1] != A[bound[num][color - 1][0] + 1]) {\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t}\n\t\telse { res += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]); }\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\t// for (int k = 0; k < N; ++k) { A[k] = memo_A[k]; }\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\nint main(){\n    int n,oridrop[10002],workdrop[4][10002],bef,judge,ans,minans;\n    while(1){\n        scanf(\"%d\",&n);\n        ans=n,minans=n;\n        if(n==0)\n            break;\n        for(int i=n;i>0;i--)\n            scanf(\"%d\",&oridrop[i]);\n        for(int i=1;i<=n;i++){\n            for(int j=1;j<=n;j++){\n                workdrop[1][j]=oridrop[j];\n                workdrop[2][j]=oridrop[j];\n                workdrop[3][j]=oridrop[j];\n            }\n            for(int j=1;j<=3;j++){\n                workdrop[j][i]=j;\n                ans=n;\n                judge=1;\n\n                /*\n                printf(\"\\n==========\\n[%d]wo[%d]ni\\n==========\\n\",i,j);\n                */\n\n                for(int k=1;k<=ans;k++){\n\n                    /*\n                    printf(\"[%d]|[%d][%d]\\n\",k,workdrop[j][k],ans);\n                    */\n\n                    if(bef==workdrop[j][k]&&k!=1)\n                        judge++;\n                    else\n                        judge=1;\n\n                    /*\n                    printf(\"[%d][%d]\\n\",bef,judge);\n                    */\n\n                    bef=workdrop[j][k];\n                    if(4<=judge&&(workdrop[j][k]!=workdrop[j][k+1]||k==ans)){\n                        ans-=judge;\n                        if(ans<minans)\n                            minans=ans;\n                        for(int l=k-judge+1;l<=ans;l++)\n                            workdrop[j][l]=workdrop[j][l+judge];\n\n                        /*\n                        for(int l=1;l<=8;l++){\n                            printf(\"[%d]\",workdrop[j][l]);\n                        puts(\"\");\n                        */\n\n                        workdrop[j][ans+1]=0;\n                        k=0;\n                    }\n                }\n            }\n        }\n        printf(\"%d\\n\",minans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=i+c;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=check[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<deque>\n#include<map>\n#include<set>\n#include<string>\n#include<sstream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<cctype>\n#include<climits>\nusing namespace std;\n#define REP(i, j) for(int i = 0; i < j; i++)\n#define FOR(i, j, k) for(int i = j; i < k; i++)\n#define P pair<int, int>\nconst int INF = INT_MAX / 2;\nconst int N = 10000;\n\nint n;\n\nbool isOK(int left, int right){\n    return true;\n}\n\nint check(vector<int> c, int left, int right){\n    int ret = 0;\n    while(left >= 0 || right < n){\n        //cout <<\"! \" <<left <<\", \" <<right <<endl;\n        if(c[left] != c[right] && left >= 0 && right < n){\n            ret += 2;\n            left--;\n            right++;\n            continue;\n        }\n\n        int cnt = 0;\n        int fir_c = c[left];\n        while(c[left] == fir_c && left >= 0){ left--; cnt++; };\n        while(c[right] == fir_c && right < n){ right++; cnt++; };\n        //cout <<\"cnt = \" <<cnt <<endl;\n        if(cnt < 4) ret += cnt;\n        //cout <<\"@ \" <<cnt <<\", left = \" <<left <<\", right = \" <<right <<endl;\n    }\n    return ret;\n}\n\nint main(){\n    while(cin >>n && n){\n        vector<int> c(n);\n        REP(i, n) cin >>c[i];\n        int ans = n;\n\n        REP(i, n){\n            FOR(j, 1, 4){\n                if(c[i] == j) continue;\n                int tmp = c[i];\n                c[i] = j;\n\n                //debug\n                //REP(z, n) cout <<c[z] <<\", \"; cout <<endl;\n\n                int left = i, right = i;\n                while(c[left] == c[i] && left >= 0) left--;\n                while(c[right] == c[i] && right < n) right++;\n                //debug\n                //cout <<\"now = \" <<i <<\", left = \" <<left <<\", right = \" <<right <<endl;\n                if(right - left - 1 >= 4) ans = min(ans, check(c, left, right));\n                //debug\n                //cout <<ans <<endl <<endl;\n                c[i] = tmp;\n            }\n        }\n        cout <<ans <<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1<<28;\n\nint n;\nvector<int> cs;\n\nint chain(int p) {\n    int up = 0, down = 0;\n    int ub = p;\n    while (ub < n && cs[++ub] == cs[p]);\n    int lb = p;\n    while (lb >= 0 && cs[--lb] == cs[p]);\n\n    if (ub - lb < 5) return n;\n\n    if (cs[ub] != cs[lb]) return n - (ub - lb) + 1;\n\n    while (true) {\n        if (lb < 0 || ub >= n) break;\n        if (cs[ub] != cs[lb]) break;\n        int dup = 2;\n        int org = cs[ub];\n\n        int org_ub = ub;\n        int org_lb = lb;\n\n        while (ub < cs.size() && cs[++ub] == org) dup++;\n        while (lb >= 0 && cs[--lb] == org) dup++;\n        //cout << \"dup: \" << dup << endl;\n        if (dup < 4) {\n            ub = org_ub;\n            lb = org_lb;\n            break;\n        }\n    }\n    //cout << \"ub: \" << ub << \" lb: \" << lb << endl;\n    return n - (ub - lb) + 1;\n}\n\nint main() {\n    while (cin >> n, n) {\n        cs.clear(); cs.resize(n);\n\n        cs.push_back(5);\n        for (int i = 0; i < n; i++) {\n            cin >> cs[i];\n            cs[i]--;\n        }\n        cs.push_back(5);\n\n        int minLen = INF;\n        for (int i = 0; i < cs.size(); i++) {\n            int org = cs[i];\n            cs[i] = (org+1) % 3;\n            minLen = min(minLen, chain(i));\n            cs[i] = (org+2) % 3;\n            minLen = min(minLen, chain(i));\n            cs[i] = org;\n        }\n\n        cout << minLen << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t\tif(u>=4){\n\t\t\tt=1;\n\t\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t\t}\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m,l;\n\tcin>>n;\n\tif(n==0)break;\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=n-1&&p[i]!=p[i+1]&&f[i]+f[i+1]>=4||i!=0&&p[i]!=p[i-1]&&f[i]+f[i-1]>=4){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\n\t\t\t\t\tm=min(m,X(n));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\nint s[10002];\nint main(){\n\twhile(1){\n\tint n,ans;\n\tcin >> n;\n\tif(n == 0)break;\n\tans = n;\n\tfor(int i = 1;i <= n;i++)cin >> s[i];\n\n\tfor(int i = 1;i <= n-3;i++){\n\t\tint ch[4]={0};\n\t\tfor(int j = 0;j <= 3;j++)ch[s[i+j]]++;\n\t\tif(max(ch[1],max(ch[2],ch[3])) != 3)continue;\n\t\tint hi;\n\t\tfor(int u = 1;u <= 3;u++)if(ch[u] == 3)hi = u;\n\t\tint r = i,l = i+3;\n\t\twhile(r-1 >= 1 && s[r-1] == hi)r--;\n\t\twhile(l+1 <= n && s[l+1] == hi)l++;\n\t\tr--,l++;\n\t\ts[0] = 4,s[n+1] = 5;\n\t\twhile(r >= 1 && l <= n){\n\t\t\tif(s[r] != s[l])break;\n\t\t\tint nr = r,nl = l;\n\t\t\tint co = 2;\n\t\t\twhile(nr-1 >= 1 && s[nr-1] == s[r])nr--,co++;\n\t\t\twhile(nl+1 <= n && s[nl+1] == s[l])nl++,co++;\n\t\t\tif(co < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tr = nr,l = nl;\n\t\t\tif(r == 1 || l == n)goto out;\n\t\t\tif(s[r-1] != s[l+1])goto out;\n\t\t\tr--,l++;\n\t\t}\n\t\tr++,l--;\n\t\tout:\n\t\t;\n\t\tans = min(ans,r-1+n-l);\n\t}\n\tprintf(\"%d\\n\",ans);\n}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<map>\n#include<set>\n#include<queue>\n#include<cstdio>\n#include<climits>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<sstream>\n#include<numeric>\n\n#define f first\n#define s second\n#define mp make_pair\n\n#define REP(i,n) for(int i=0; i<(int)(n); i++)\n#define FOR(i,c) for(__typeof((c).begin()) i=(c).begin(); i!=(c).end(); i++)\n#define ALL(c) (c).begin(), (c).end()\n\nusing namespace std;\n\ntypedef unsigned int uint;\ntypedef long long ll;\n\nint getInt(){\n  int ret = 0,c;\n  c = getchar();\n  while(!isdigit(c)) c = getchar();\n  while(isdigit(c)){\n    ret *= 10;\n    ret += c - '0';\n    c = getchar();\n  }\n  return ret;\n}\n\npair<int,int> c[10000];\nint cnt;\n\nint test(int i, int j){\n  int ret = 0;\n\n  if(c[i].f == c[j].f){\n    int sum = c[i].s + c[j].s;\n    if(sum >= 4) ret += 4;\n    i++; j--;\n  }else{\n    if(c[i].s >= 4) ret += c[i++].s;\n    if(c[j].s >= 4) ret += c[j--].s;\n  }\n\n  if(j >= 0  && c[j].s == 0) j--;\n  if(i < cnt && c[i].s == 0) i++;\n\n  while(j >= 0 && i < cnt){\n    if(c[i].f != c[j].f) break;\n    int sum = c[i].s + c[j].s;\n    if(sum >= 4){\n      ret += sum;\n      i++; j--;\n    }else{\n      break;\n    }\n  }\n\n  return ret;\n}\n\nint main(){\n  int n;\n  while(n = getInt()){\n    cnt = 0;\n    REP(i,n){\n      int tmp = getInt();\n      if(cnt == 0){\n        c[cnt].f = tmp;\n        c[cnt].s = 1;\n        cnt++;\n      }else{\n        if(c[cnt-1].f == tmp)\n          c[cnt-1].s++;\n        else{\n          c[cnt].f = tmp;\n          c[cnt].s = 1;\n          cnt++;\n        }\n      }\n    }\n\n    int ans = n;\n    //REP(i,cnt) printf(\"%d: %d\\n\",c[i].f, c[i].s);\n\n    REP(i,cnt){\n      if(i != 0){\n        c[i-1].s++;\n        c[i].s--;\n        ans = min(ans, n-test(i,i-1));\n        c[i].s++;\n        c[i-1].s--;\n      }\n      if(i != cnt-1){\n        c[i+1].s++;\n        c[i].s--;\n        ans = min(ans, n-test(i+1,i));\n        c[i].s++;\n        c[i+1].s--;\n      }\n      //printf(\"%d: ans=%d\\n\",i,ans);\n    }\n\n    printf(\"%d\\n\",ans);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n\nstruct Chainber{\n\tint color, size;\n};\n\nint main(){\n\tint n;\n\twhile(std::cin >> n, n){\n\n\t\tstd::vector<Chainber> v;\n\n\t\tint prev_color = 0, size = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint color;\n\t\t\tstd::cin >> color;\n\t\t\tif(prev_color != color && prev_color){\n\t\t\t\tv.push_back({prev_color, size});\n\t\t\t\tsize = 0;\n\t\t\t}\n\t\t\tsize++;\n\t\t\tprev_color = color;\n\t\t}\n\t\tv.push_back({prev_color, size});\n\n\t\t// for(auto c : v){\n\t\t// \tstd::cout << \"color: \" << c.color << \" size: \" << c.size << std::endl;\n\t\t// }\n\t\n\t\tif(v.size() <= 2){\n\t\t\tstd::cout << n << std::endl;\n\t\t}else{//n >= 3\n\t\t\tint minChara = n;\n\t\t\tfor(int i=1;i<v.size()-1;i++){\n\t\t\t\tif(v[i].size == 1 && v[i-1].color == v[i+1].color && v[i-1].size + v[i+1].size + 1 >= 4){\n\t\t\t\t\tint destroyChara = v[i-1].size + v[i+1].size + 1,\n\t\t\t\t\t\tupperChara = i-2,\n\t\t\t\t\t\tlowerChara = i+2;\n\t\t\t\t\tfor(;upperChara>=0&&lowerChara<v.size();upperChara--,lowerChara++){\n\t\t\t\t\t\tif(v[upperChara].color == v[lowerChara].color && v[upperChara].size + v[lowerChara].size >= 4){\n\t\t\t\t\t\t\tdestroyChara += v[upperChara].size + v[lowerChara].size;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tminChara = std::min(minChara, n - destroyChara);\n\t\t\t\t}\n\t\t\t}\n\t\t\tstd::cout << minChara << std::endl;\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t\tfree(b);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <map>\n#include <stack>\n \n#define FOR(i, a, b) for(int i = (a); i < (b); i++)\n#define rep(i, n) for(int i = 0; i < (n); i++)\n#define MP make_pair\n#define X first\n#define Y second\n \nusing namespace std;\n \ntypedef vector<int> vi;\ntypedef pair<int, int> P;\n\nconst int INF = 1<<29;\n\nint dp[151][11][80];\n\nint n;\nint v[10001];\nint check(int p, int c){\n\tint up = p-1, down = p+1;\n\tint res = 0, cnt = 1;\n\twhile(1){\n\t\twhile(v[up] == c && up >= 0) up--, cnt++;\n\t\twhile(v[down] == c && down < n) down++, cnt++;\n\t\tif(cnt < 4) return res;\n\t\tres += cnt;\n\t\tcnt = 0;\n\t\tif(up >= 0) c = v[up];\n\t\telse if(down < n) c = v[down];\n\t}\n}\n\nint main(){\n\twhile(cin >> n, n){\n\t\trep(i, n) cin >> v[i];\n\t\tint ans = 0;\n\t\trep(i, n){\n\t\t\tFOR(j, 1, 3){\n\t\t\t\tans = max(ans, check(i, j));\n\t\t\t}\n\t\t}\n\t\tcout << n-ans << endl;\n\t}\n \n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <vector>\n#include <list>\n#include <string>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <iostream>\n#include <sstream>\nusing namespace std;\n\ntypedef long long int64;\nconst int inf = (int)1e9;\n\nint calc(int it1, int it2, vector<pair<int, int> > &b, vector<int> &sum, int n)\n{\n\twhile(it1 >= 0 && it2 < b.size()) {\n\t\tif(b[it1].second <= 0) {\n\t\t\tit1 -= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif(b[it2].second <= 0) {\n\t\t\tit1 += 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif(b[it1].first != b[it2].first || b[it1].second + b[it2].second < 4) \n\t\t\tbreak;\n\t\t\tit1 -= 1, it2 += 1;\n\t}\n\t\t\t\t\n\tint score = n - (sum[it2 - 1] - sum[it1]);\n\treturn score;\n}\n\nint main()\n{\n\twhile(true) {\n\t\t\n\t\tint n;\n\t\tvector<pair<int, int> > b;\n\t\tvector<int> sum;\n\t\tint prev = -1;\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0)\n\t\t\tbreak;\n\t\tb.reserve(n);\n\t\tfor(int i = 0; i < n; ++i) {\n\t\t\tint t;\n\t\t\tscanf(\"%d\", &t);\n\t\t\tif(prev != t)\n\t\t\t\tb.push_back(make_pair(t, 1));\n\t\t\telse\n\t\t\t\tb[b.size() - 1].second += 1;\n\t\t\tprev = t;\n\t\t}\n\t\tsum.resize(b.size(), 0);\n\t\tsum[0] = b[0].second;\n\t\tfor(int i = 1; i < sum.size(); ++i)\n\t\t\tsum[i] = sum[i - 1] + b[i].second;\n\t\t\n\t\tint ans = n;\n\t\t\n\t\tfor(int start = 0; start < b.size(); ++start) {\n\t\t\t\n\t\t\tb[start].second -= 1;\n\t\t\t\n\t\t\tif(start > 0 && b[start - 1].second >= 3) {\n\t\t\t\tint it1 = start - 2, it2 = start;\n\t\t\t\tint score = calc(it1, it2, b, sum, n);\n\t\t\t\tans = min(score, ans);\n\t\t\t}\n\t\t\t\n\t\t\tif(start < b.size() - 1 && b[start + 1].second >= 3) {\n\t\t\t\tint it1 = start, it2 = start + 2;\n\t\t\t\tint score = calc(it1, it2, b, sum, n);\n\t\t\t\tans = min(score, ans);\n\t\t\t}\n\t\t\t\n\t\t\tif(start > 0 && start < b.size() - 1 && b[start].second == 0 && \n\t\t\t\tb[start - 1].first == b[start + 1].first &&\n\t\t\t\tb[start - 1].second + b[start + 1].second >= 3) {\n\t\t\t\tint it1 = start - 2, it2 = start + 2;\n\t\t\t\tint score = calc(it1, it2, b, sum, n);\n\t\t\t\tans = min(score, ans);\n\t\t\t}\n\t\t\t\n\t\t\tb[start].second += 1;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn 0;\n}\n\n/* ハラスメントに負けず */\n/* 0完太陽にも負けず */\n/* はやく人権を獲得したい */\n/* nullmineralが書きましたが */\n/* 責任はまったくとりません */"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1<<30;\n//aoj 0534\nvp tmp;\nint r,l,co;\nvoid f(){\n\twhile(1){\n\t\tif(r<0||l>=tmp.size())return;\n\t\tint t=tmp[r].second+tmp[l].second;\n\t\tif(tmp[r].first==tmp[l].first&&t>=4){\n\t\t\tco+=t;\n\t\t\tr--;l++;\n\t\t}else break;\n\t}\n}\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi q(n);\n\t\tvp in;\n\t\trep(i,n)cin>>q[i];\n\t\tq.pb(0);\n\t\tco=1;\n\t\tloop(i,1,n+1){\n\t\t\tif(q[i]!=q[i-1]){\n\t\t\t\tin.pb(pii(q[i-1],co));\n\t\t\t\tco=1;\n\t\t\t}else co++;\n\t\t}\n\t\tint out=0;\n\t\trep(i,in.size())if(in[i].second==3){\n\t\t\tif(i){\n\t\t\t\ttmp=in;\n\t\t\t\ttmp[i-1].second--;\n\t\t\t\tr=i-1;l=i+1;\n\t\t\t\tco=4;\n\t\t\t\tif(tmp[i-1].second==0){\n\t\t\t\t\tr-=2;\n\t\t\t\t\tif(i>1)co+=tmp[i-2].second;\n\t\t\t\t}\n\t\t\t\tf();\n\t\t\t\tout=max(out,co);\n\t\t\t}\n\t\t\tif(i!=in.size()-1){\n\t\t\t\ttmp=in;\n\t\t\t\ttmp[i+1].second--;\n\t\t\t\tr=i-1;l=i+1;\n\t\t\t\tco=4;\n\t\t\t\tif(tmp[i+1].second==0){\n\t\t\t\t\tl+=2;\n\t\t\t\t\tif(i<in.size()-2)co+=tmp[i+2].second;\n\t\t\t\t}\n\t\t\t\tf();\n\t\t\t\tout=max(out,co);\n\t\t\t}\n\t\t}\n\t\tcout<<n-out<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nint check(vector<int> character, int i, int color)\n{\n  if(character[i] == color) return character.size();\n\n  character[i] = color;\n  vector<int>::iterator top, bottom;\n  while( 1 ){\n    top = search_n(character.begin(), character.end(), 4, color);\n    bottom = top;\n    while(bottom!=character.end() && *bottom==color)bottom++;\n    if(top==character.end())break;\n    character.erase(top,bottom);\n    color = *bottom;\n  }\n\n  return character.size();\n}\n\nint main()\n{\n  int N, M;\n  while(cin>>N, N){\n    vector<int> character(N);\n    for(int i=0; i<N; i++) cin>>character[i];\n\n    M = 100000;\n    for(int i=0; i<N; i++){\n      for(int color=1; color<=3; color++){\n        M = min(M, check(character, i, color));\n      }\n    }\n    cout<<M<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nint chain[10002];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; i >= 0 && chain[a] == chain[i]; i--, len++);\n\tfor (j = b; j < n&&chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (true){\n\t\tscanf(\"%d\", &n);\n\t\tif (!n)return 0;\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)scanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; s >= 0 && chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; g < n&&chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint check(vector<int> ju){\n cont:\n  int color = ju[0],cnt = 1,tc = 0,place;\n  for(int i=1;i<ju.size();i++){\n    if(color != ju[i]){\n      color = ju[i]; tc = cnt; cnt = 1;\n    }\n    else if(color == ju[i]){\n      if(cnt == 1) place = i-1; \n      cnt++;\n    }\n    if(tc >= 4){\n      ju.erase(ju.begin() + place,ju.begin() + place + tc);\n      cout << endl;\n      goto cont;\n    }\n  }\n  return ju.size();\n}\n\nint main(){\n  int n;\n  while(cin >> n,n){\n    vector <int> v;\n    for(int i=0;i<n;i++){\n      int t; cin >> t; v.push_back(t);\n    }\n    int ans = (1 << 25),tmp;\n    for(int i=0;i<n;i++){\n      for(int j=1;j<=3;j++){\n\tif(j != v[i]){\n\t  tmp = v[i]; v[i] = j;\n\t  ans = min(check(v),ans);\n\t  v[i] = tmp;\n\t}\n      }\n    }\n    cout << ans << endl;\n    v.resize(0);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<pair<int,int>> tougou(vector<pair<int,int>> x){\n\tint siz=x.size();\n\tpair<int,int> p;\n\tp=x[0];\n\tvector<pair<int,int>> ans;\n\tfor(int i=1;i<siz;i++){\n\t\tif(p.first!=x[i].first){\n\t\t\tans.push_back(p);\n\t\t\tp=x[i];\n\t\t}\n\t\telse {\n\t\t\tp.second+=x[i].second;\n\t\t}\n\t}\n\tans.push_back(p);\n\treturn ans;\n}\n\nint solve(vector<pair<int,int>> x){\n\tvector<pair<int,int>> vp;\n\tint siz=x.size();\n\tbool update=false;\n\tfor(int i=0;i<siz;i++){\n\t\tif(x[i].second<4){\n\t\t\tvp.push_back(x[i]);\n\t\t}\n\t\telse update=true;\n\t}\n\tif(update)return solve(tougou(vp));\n\tsiz=vp.size();\n\tint ans=0;\n\tfor(int i=0;i<siz;i++){\n\t\tans+=vp[i].second;\n\t}\n\treturn ans;\n}\n\nint main(){\nwhile(1){\n\tint n,a,ans=100000;\n\tpair<int,int> p;\n\tp.second=1;\n\tvector<pair<int,int>> vp;\n\tscanf(\"%d\",&n);\n\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&p.first);\n\t\tvp.push_back(p);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tint sav=vp[i].first;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tvp[i].first=j;\n\t\t\tint an=solve(tougou(vp));\n\t\t\tif(an<ans)ans=an;\n\t\t}\n\t\tvp[i].first=sav;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\n}"
  },
  {
    "language": "C++",
    "code": "//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <fstream>\n#include <complex>\nusing namespace std;\n\n//conversion\n//------------------------------------------\ninline int toInt(string s) {int v; istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\n\n//math\n//-------------------------------------------\ntemplate<class T> inline T sqr(T x) {return x*x;}\n\n//typedef\n//------------------------------------------\ntypedef vector<int> VI;\ntypedef vector<VI> VVI;\ntypedef vector<string> VS;\ntypedef pair<int, int> PII;\ntypedef pair<long, long> PLL;\ntypedef long long LL;\n//container util\n//------------------------------------------\n#define ALL(a)  (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(), (a).rend()\n#define PB push_back\n#define MP make_pair\n#define SZ(a) int((a).size())\n#define EACH(i,c) for(typeof((c).begin()) i=(c).begin(); i!=(c).end(); ++i)\n#define EXIST(s,e) ((s).find(e)!=(s).end())\n#define SORT(c) sort((c).begin(),(c).end())\n\n//repetition\n//------------------------------------------\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n)  FOR(i,0,n)\n\n//constant\n//--------------------------------------------\n\n//clear memory\n#define CLR(a) memset((a), 0 ,sizeof(a))\n\nconst double EPS = 1e-12;\nconst double INF = 1e12;\n\nint N;\nint a[10003];\nint pari(int pos){\n\tint l=pos-1,r=pos+1;\n\tint sum1=0,sum2=0,temp=1;\n\tint nowc=(a[l]!=0)?a[l]:a[r];\n\t\n\twhile(1){\n\t\tif(a[l]!=nowc&&a[r]!=nowc||a[l]==0&&a[r]==0){\n\t\t\tif(temp>=4){\n\t\t\t\tsum1+=temp;\n\t\t\t\ttemp=0;\n\t\t\t\tnowc=max(a[l],a[r]);\n\t\t\t\tif(nowc==0)break;\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(a[l]==nowc){\n\t\t\ttemp++;\n\t\t\tl--;\n\t\t}\n\t\tif(a[r]==nowc){\n\t\t\ttemp++;\n\t\t\tr++;\n\t\t}\n\t}\n\ttemp=1;l=pos-1,r=pos+1;\n\tnowc=(a[r]!=0)?a[r]:a[l];\n\twhile(1){\n\t\t//cout<<temp<<\" \"<<nowc<<endl;\n\t\tif(a[l]!=nowc&&a[r]!=nowc||a[l]==0&&a[r]==0){\n\t\t\tif(temp>=4){\n\t\t\t\tsum2+=temp;\n\t\t\t\ttemp=0;\n\t\t\t\tnowc=max(a[l],a[r]);\n\t\t\t\tif(nowc==0)break;\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(a[l]==nowc){\n\t\t\ttemp++;\n\t\t\tl--;\n\t\t}\n\t\tif(a[r]==nowc){\n\t\t\ttemp++;\n\t\t\tr++;\n\t\t}\n\t}\n\treturn max(sum1,sum2);\n}\n\nint main(){\n\t\n\twhile(cin>>N){\n\t\tif(N==0)break;\n\t\tCLR(a);\n\t\tREP(i,N)cin>>a[i+1];\n\t\tint maxi=0;\n\t\tFOR(i,1,N+1){\n\t\t\tmaxi=max(pari(i),maxi);\n\t\t}\n\t\tcout<<N-maxi<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <map>\n#include <set>\n#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <cstdio>\n#include <cstring>\n#include <iterator>\n#include <bitset>\n//#include <utility>\n//#include <memory>\n//#include <functional>\n//#include <deque>\n//#include <cctype>\n//#include <ctime>\n//#include <numeric>\n//#include <list>\n//#include <iomanip>\n\n//#if __cplusplus >= 201103L\n//#include <array>\n//#include <tuple>\n//#include <initializer_list>\n//#include <unordered_set>\n//#include <unordered_map>\n//#include <forward_list>\n//\n//#define cauto const auto&\n//#else\n\n//#endif\n\nusing namespace std;\n\n\nnamespace{\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef pair<ll,ll> pll;\n\ntypedef vector<int> vint;\ntypedef vector<vector<int> > vvint;\ntypedef vector<long long> vll, vLL;\ntypedef vector<vector<long long> > vvll, vvLL;\n\n#define VV(T) vector<vector< T > >\n\ntemplate <class T>\nvoid initvv(vector<vector<T> > &v, int a, int b, const T &t = T()){\n    v.assign(a, vector<T>(b, t));\n}\n\ntemplate <class F, class T>\nvoid convert(const F &f, T &t){\n    stringstream ss;\n    ss << f;\n    ss >> t;\n}\n\n\n#define reep(i,a,b) for(int i=(a);i<(b);++i)\n#define rep(i,n) reep((i),0,(n))\n#define ALL(v) (v).begin(),(v).end()\n#define PB push_back\n#define F first\n#define S second\n#define mkp make_pair\n#define RALL(v) (v).rbegin(),(v).rend()\n\n\n#define MOD 1000000007LL\n#define EPS 1e-8\nstatic const int INF=1<<24;\n// map<pii,int> ma;\nvint v;\nint n;\n/*\n3\n2\n1\n1\n2\n3\n2\n2\n2\n1\n1\n3\n*/\nint foo(pii a){\n\t// if(ma.count(a)) return ma[a];\n\t// cout<<a.F<<\" \"<<a.S<<endl;\n\tint ret=a.S-a.F+1;\n\tpii b=a;\n\tb.F--;\n\tb.S++;\n\twhile(1){\n\t\twhile(b.F>0&&v[b.F-1]==v[b.F]){\n\t\t\tb.F--;\n\t\t}\n\t\twhile(b.S<n+1&&v[b.S+1]==v[b.S]){\n\t\t\tb.S++;\n\t\t}\n\t\tif(v[b.F]==v[b.S]&&b.S-b.F+1-ret>=4){\n\t\t\tret=b.S-b.F+1;\n\t\t}\n\t\telse{\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ret;\n}\nvoid mainmain(){\n\twhile(cin>>n,n){\n\t\tv=vint(n+2,0);\n\t\t// ma.clear();\n\t\trep(i,n) cin>>v[i+1];\n\t\tif(n<=3){\n\t\t\tcout<<n<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\t// map<pii,bool> ma;\n\t\tint ans=0;\n\t\treep(i,1,n+1){\n\t\t\tpii t(i-1,i+1);\n\t\t\twhile(t.F>0&&v[t.F-1]==v[t.F]){\n\t\t\t\tt.F--;\n\t\t\t}\n\t\t\twhile(t.S<n+1&&v[t.S+1]==v[t.S]){\n\t\t\t\tt.S++;\n\t\t\t}\n\t\t\t// cout<<\"aa \"<<i<<\" \"<<t.F<<\" \"<<t.S<<endl;\n\t\t\tif(v[i-1]==v[i+1]){\n\t\t\t\tif(t.S+1-t.F>=4){\n\t\t\t\t\t// cout<<i<<\" \"<<0<<endl;\n\t\t\t\t\tans=max(ans,foo(t));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(i-t.F+1>=4){\n\t\t\t\t\t// cout<<i<<\" \"<<1<<endl;\n\t\t\t\t\tans=max(ans,foo(pii(t.F,i)));\n\t\t\t\t}\n\t\t\t\tif(t.S-i+1>=4){\n\t\t\t\t\t// cout<<i<<\" \"<<2<<endl;\n\t\t\t\t\tans=max(ans,foo(pii(i,t.S)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<n-ans<<endl;\n\t}\n}\n\n\n\n}\nmain() try{\n    mainmain();\n}\ncatch(...){\n}"
  },
  {
    "language": "C++",
    "code": "#include \"bits/stdc++.h\"\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\n#define INF 1<<30\n#define LINF 1LL<<60\n\n/*\n<url:https://www.ioi-jp.org/joi/2008/2009-yo-prob_and_sol/2009-yo-t3/2009-yo-t3.html>\nñ‚ëËï∂============================================================\néüÇÃÇÊÇ§Ç»ÉQÅ[ÉÄÇ™Ç†ÇÈÅD\n\nÇ†ÇÈÉLÉÉÉâÉNÉ^Å[Ç™èc 1 óÒÇ… N å¬ï¿ÇÒÇ≈Ç¢ÇÈÅD \nÇ±ÇÍÇÁÇÃÉLÉÉÉâÉNÉ^Å[ÇÃêFÇÕê‘ÅCê¬ÅCâ©ÇÃÇ¢Ç∏ÇÍÇ©Ç≈Ç†ÇËÅC \nèâä˙èÛë‘Ç≈ìØÇ∂êFÇÃÉLÉÉÉâÉNÉ^Å[Ç™4Ç¬à»è„òAë±ÇµÇƒï¿ÇÒÇ≈Ç¢ÇÈÇ±Ç∆ÇÕÇ»Ç¢ÅD\nÉvÉåÅ[ÉÑÅ[ÇÕÅCÇ†ÇÈà íuÇÃÉLÉÉÉâÉNÉ^Å[ÇëIÇ—ëºÇÃêFÇ…ïœçXÇ∑ÇÈÇ±Ç∆Ç™Ç≈Ç´ÇÈÅD \nÇ±ÇÃëÄçÏÇ…ÇÊÇËìØÇ∂êFÇÃÉLÉÉÉâÉNÉ^Å[Ç™4Ç¬à»è„òAë±ÇµÇƒï¿Ç‘Ç∆ÇªÇÍÇÁÇÃÉLÉÉÉâÉNÉ^Å[ÇÕè¡ñ≈Ç∑ÇÈÅD\nÉLÉÉÉâÉNÉ^Å[Ç™è¡ñ≈Ç∑ÇÈÇ±Ç∆Ç…ÇÊÇËêVÇΩÇ…ìØÇ∂êFÇÃÉLÉÉÉâÉNÉ^Å[Ç™4Ç¬à»è„òAë±ÇµÇƒï¿Ç‘Ç∆\nÇªÇÍÇÁÇÃÉLÉÉÉâÉNÉ^Å[Ç‡è¡ñ≈ÇµÅCìØÇ∂êFÇÃÉLÉÉÉâÉNÉ^Å[Ç™4Ç¬à»è„òAë±ÇµÇƒï¿ÇÒÇ≈Ç¢ÇÈâ”èäÇ™\nÇ»Ç≠Ç»ÇÈÇ‹Ç≈Ç±ÇÃòAçΩÇÕë±Ç≠ÅD\nÇ±ÇÃÉQÅ[ÉÄÇÃñ⁄ìIÇÕÅC è¡ñ≈ÇµÇ»Ç¢Ç≈écÇ¡ÇƒÇ¢ÇÈÉLÉÉÉâÉNÉ^Å[êîÇÇ»ÇÈÇ◊Ç≠è≠Ç»Ç≠Ç∑ÇÈÇ±Ç∆Ç≈Ç†ÇÈÅD\n=================================================================\nâê‡=============================================================\niî‘ñ⁄ÇÃÉLÉÉÉâÉNÉ^Å[ÇÃêFÇ™XÇ∆Ç∑ÇÈÇ∆ÅAiî‘ñ⁄ÇÃÉLÉÉÉâÉNÉ^Å[ÇXà»äOÇÃêFÇ…ïœâªÇ≥ÇπÇΩÇ∆Ç´ÅA\nÇ«Ç±Ç‹Ç≈è¡ñ≈Ç≥ÇπÇÈÇ±Ç∆Ç™Ç≈Ç´ÇÈÇÃÇ©Çé¿ç€Ç…ÉVÉÖÉ~ÉåÅ[ÉVÉáÉìÇ∑ÇÍÇŒÇÊÇ¢\n================================================================\n*/\nint main(void) {\n\tcin.tie(0); ios::sync_with_stdio(false);\n\tll N;\n    while(cin >> N,N){\n\tvector<ll> C(N);\n\tfor (int i = 0; i < N;i++) cin >> C[i];\n\tll res = INF;\n\tfor (int i = 0; i < N;i++) {\n\t\tll l = i - 1, r = i + 1;\n\t\tfor (int j = 1; j <= 3;j++) {\n\t\t\tif (j == C[i])continue;\n\t\t\tll cnt = 1;\n\t\t\tll nC = j;\n\t\t\tll pre_l = i, pre_r = i;\n\t\t\twhile (true) {\n\t\t\t\tif (r < N) {\n\t\t\t\t\tif (C[r] == nC) {\n\t\t\t\t\t\tcnt++; r++;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (l >= 0) {\n\t\t\t\t\tif (C[l] == nC) {\n\t\t\t\t\t\tcnt++; l--;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (cnt < 4)break;\n\t\t\t\tpre_l = l; pre_r = r;\n\t\t\t\tif (l < 0 || r >= N)break;\n\t\t\t\tif (C[l] != C[r])break;\n\t\t\t\tcnt = 2;\n\t\t\t\tnC = C[l];\n\t\t\t\tl--; r++;\n\t\t\t}\n\t\t\tll temp = max(pre_l + 1, 0LL) + max(0LL, N - pre_r);\n\t\t\tif (pre_l == pre_r) temp--;\n\t\t\tres = min(res, temp);\n\t\t}\n\t}\n\tcout << res << endl;\n    }\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include\"bits/stdc++.h\"\nusing namespace std;\nint n,n2[20001]={0},max2[3]={0},maxx=3;\nint chain_under(int,int,int);\nint chain_above(int,int,int);\nvoid tansaku(int,int,int);\n//int n,n2[20001]={0},max2[3]={0},max=0;\nint main(){\n    cin>>n;\n    while(n!=0){\n        memset(n2,0,sizeof(n2));\n        maxx=3;\n        int sum=n;\n        for(int i=0;i<n;i++){\n            cin>>n2[i];\n        }\n        for(int i=0;i<n;i++){\n            for(int j=1;j<=3;j++){\n                if(n2[i]!=j){\n                    int sum_under=chain_under(j,i,0);\n                    int sum_above=chain_above(j,i,0);\n                    if(maxx<1+sum_under+sum_above){\n                        maxx=1+sum_under+sum_above;\n                        max2[0]=i-sum_under;max2[1]=i+sum_above;\n                    }\n                }\n            }\n        }\n        if(maxx>3)tansaku(max2[0],max2[1]+1,maxx);\n        while(1){\n            bool judge=true;\n            for(int i=0;i<n&&n2[i]!=0;i++){\n                int sum_under=chain_under(n2[i],i,0);\n                int sum_above=chain_above(n2[i],i,0);\n               // cout<<i-sum_under<<\"  \"<<i+sum_above<<endl;\n                if(3<1+sum_under+sum_above){\n                    max2[0]=i-sum_under;max2[1]=i+sum_above;\n                    tansaku(max2[0],max2[1]+1,1+sum_under+sum_above);\n                    judge=false;\n                    //cout<<\"?????????\";\n                }\n            }\n            if(judge==true)break;\n        }\n        sum=0;\n        for(int i=0;i<n;i++){\n            if(n2[i]!=0)sum++;\n        }\n        /*for(int i=0;i<n;i++){\n            cout<<n2[i]<<endl;\n        }*/\n        cout<<sum<<endl;\n        cin>>n;\n    }\n}\nint chain_under(int j,int i,int sum){\n    for(int x=i-1;x>=0&&n2[x]==j;x--)sum++;\n    return sum;\n}\nint chain_above(int j,int i,int sum){\n    for(int x=i+1;x<n&&n2[x]==j;x++)sum++;\n    return sum;\n}\nvoid tansaku(int i,int j,int maxp){\n    //cout<<\"maxp???\"<<maxp<<endl;\n    for(int x=0;x<maxp;x++){\n        n2[i+x]=n2[j+x];\n        n2[j+x]=0;\n      //  cout<<\"?????????\"<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<time.h>\nusing namespace std;\nint main()\n{\t/*\n\ttime_t T1,T2;\n\n\ttime(&T1);*/\n\t\n\tint N,cnt = 0,totalIN = 0,in[2],max = 0;\n\tpair<int,int> IN[10000],now;\n\tbool change;\n\n\tscanf(\"%d\",&N);\n\tfor(int i = 0; i < N; i++){\n\t\tscanf(\"%d\",&in[i%2]);\n\t\tif(i == 0 || in[i%2] == in[(i+1)%2]){\n\t\t\tcnt++;\n\t\t}\n\t\telse{\n\t\t\tIN[totalIN].first = in[(i+1)%2];\n\t\t\tIN[totalIN].second = cnt;\n\t\t\ttotalIN++;\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif(cnt != 0){\n\t\tIN[totalIN].first = in[(N+1)%2];\n\t\tIN[totalIN].second = cnt;\n\t}\n\telse{\n\t\ttotalIN--;\n\t}\n\t/*\n\tfor(int i = 0; i <= totalIN; i++){\n\t\tprintf(\"%d %d\\n\",IN[i].first,IN[i].second);\n\t}*/\n\n\tfor(int i = 0; i < totalIN; i++){\n\t\tcnt = IN[i].second + 1;\n\t\tif(IN[i+1].second == 1){\n\t\t\tif((i+1) != totalIN){\n\t\t\t\tif(IN[i].first == IN[i+2].first){\n\t\t\t\t\tcnt += IN[i+2].second;\n\t\t\t\t\tnow.first = i-1;\n\t\t\t\t\tnow.second = i+3;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tnow.first = i-1;\n\t\t\t\t\tnow.second = i+2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnow.first = i-1;\n\t\t\t\tnow.second = i+1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tnow.first = i-1;\n\t\t\tnow.second = i+1;\n\t\t}\n\t\tIN[i+1].second--;\n\n\t\t//printf(\"@%d %d %d@\\n\",now.first,now.second,i);\n\n\t\tif(cnt >= 4){\n\t\t\twhile(now.first >= 0 && now.second <= totalIN){\n\t\t\t\tif(IN[now.first].first == IN[now.second].first){\n\t\t\t\t\tif((IN[now.first].second + IN[now.second].second) >= 4){\n\t\t\t\t\t\tcnt += (IN[now.first].second + IN[now.second].second);\n\t\t\t\t\t\tnow.first--;\n\t\t\t\t\t\tnow.second++;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t//printf(\"|%d %d|\\n\",cnt,i);\n\t\t\tif(max < cnt){\n\t\t\t\tmax = cnt;\n\t\t\t}\n\t\t}\n\n\t\tIN[i+1].second++;\n\t}\n\n\tprintf(\"%d\\n\",N-max);\n\n\t/*\n\ttime(&T2);\n\tprintf(\"%ds\\n\",T2-T1);\n\t*/\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint rem(PArray& arr)\n{\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tint ans = INF;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n \nint n;\nint chain[10002];\n \nint ccount(int a, int b, int cnt){\n    if (chain[a] != chain[b])return cnt;\n    int len = 0;\n    int i, j;\n    for (i = a; i >= 0 && chain[a] == chain[i]; i--, len++);\n    for (j = b; j < n&&chain[b] == chain[j]; j++, len++);\n    if (len < 4)return cnt;\n    if (i == -1 || j == n)return cnt + len;\n    return ccount(i, j, cnt + len);\n}\n \nint main(){\n    while (true){\n        scanf(\"%d\", &n);\n        if (!n)return 0;\n        int ans = 0;\n        for (int i = 0; i < n; i++)scanf(\"%d\", &chain[i]);\n        for (int i = 0; i < n; i++){\n            char def = chain[i];\n            for (int j = 1; j <= 3; j++){\n                chain[i] = j;\n                int s, g, cnt = 1;\n                for (s = i - 1; s >= 0 && chain[s] == chain[i]; s--, cnt++);\n                for (g = i + 1; g < n&&chain[g] == chain[i]; g++, cnt++);\n                if (cnt >= 4){\n                    if (s == -1 || g == n)ans = max(cnt, ans);\n                    else ans = max(ccount(s, g, cnt), ans);\n                }\n            }\n            chain[i] = def;\n        }\n        printf(\"%d\\n\", n - ans);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+2);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+1]);\n        }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int tmp_ = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = tmp_;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint ar[10000];\nint n;\nint i,j;\n\nint min(int a,int b){\n\tif(a<=b)return a;\n\telse return b;\n}\n\nint calc(int s1,int s2,int color){\n\tint c=0;\n\tint os1=s1;\n\tint os2=s2;\n\twhile(ar[s1]==color){\n\t\tc++;\n\t\ts1--;\n\t\tif(s1<0)break;\n\t}\n\twhile(ar[s2]==color){\n\t\tc++;\n\t\ts2++;\n\t\tif(s2>n-1)break;\n\t}\n\tprintf(\"%d %d %d\\n\",s1,s2,c);\n\tif(c<4)return os1+1+(n-os2);\n\tif(s1<0||s2>n-1||ar[s1]!=ar[s2])return s1+1+(n-s2);\n\treturn calc(s1,s2,ar[s1]);\n}\n\nint main(){\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)return 0;\n\t\tint ans=n;\n\t\tfor(i=0;i<n;i++)scanf(\"%d\",&ar[i]);\n\t\tfor(i=0;i<n-1;i++){\n\t\t\tint oi1=ar[i+1];\n\t\t\tint oi2=ar[i];\n\t\t\tar[i+1]=ar[i];\n\t\t\tans=min(ans,calc(i,i+1,ar[i]));\n\t\t\tif(ans==n-2)ans+=2;\n\t\t\tar[i]=oi1;\n\t\t\tar[i+1]=oi1;\n\t\t\tans=min(ans,calc(i,i+1,ar[i+1]));\n\t\t\tar[i]=oi2;\n\t\t\tar[i+1]=oi1;\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\tint n,num[10001]={0};\n\twhile(cin >> n && n){\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> num[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tint sum=0;\n\t\t\t\tif(num[i]!=j){\n\t\t\t\t\tint cou = 1;\n\t\t\t\t\tint head=i-1;\n\t\t\t\t\twhile(head >= 0 && num[head] == j){\n\t\t\t\t\t\tcou++; head--;\n\t\t\t\t\t}\n\t\t\t\t\tint tail=i+1;\n\t\t\t\t\twhile(tail < n && num[tail] == j){\n\t\t\t\t\t\tcou++; tail++;\n\t\t\t\t\t}\n\t\t\t\t\tif(cou >= 4){\n\t\t\t\t\t\tsum += cou;\n\t\t\t\t\t\tbool flg = true;\n\t\t\t\t\t\twhile(flg && head >= 0 && tail < n && num[head] == num[tail]){\n\t\t\t\t\t\t\tint co = num[head];\n\t\t\t\t\t\t\tint cnt = 2;\n\t\t\t\t\t\t\thead--; tail++;\n\t\t\t\t\t\t\twhile(head >= 0 && num[head] == co){\n\t\t\t\t\t\t\t\tcnt++; head--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhile(tail < n && num[tail] == co){\n\t\t\t\t\t\t\t\tcnt++; tail++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(cnt >= 4) sum += cnt;\n\t\t\t\t\t\t\telse flg = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tans = max(ans,sum);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << n-ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<pair<int,int>> tougou(vector<pair<int,int>> x){\n\tint siz=x.size();\n\tpair<int,int> p;\n\tp=x[0];\n\tvector<pair<int,int>> ans;\n\tfor(int i=1;i<siz;i++){\n\t\tif(p.first!=x[i].first){\n\t\t\tans.push_back(p);\n\t\t\tp=x[i];\n\t\t}\n\t\telse {\n\t\t\tp.second+=x[i].second;\n\t\t}\n\t}\n\tans.push_back(p);\n\treturn ans;\n}\n\nint solve(vector<pair<int,int>> x){\n\tvector<pair<int,int>> vp;\n\tint siz=x.size();\n\tbool update;\n\tfor(;;){\n\t\tupdate=false;\n\t\tfor(int i=0;i<siz;i++){\n\t\t\tif(x[i].second<4){\n\t\t\t\tvp.push_back(x[i]);\n\t\t\t}\n\t\t\telse update=true;\n\t\t}\n\t\tif(!update)break;\n\t\tx=tougou(vp);\n\t\tsiz=x.size();\n\t\tvp.clear();\n\t}\n\t//if(update)return solve(tougou(vp));\n\tsiz=vp.size();\n\tint ans=0;\n\tfor(int i=0;i<siz;i++){\n\t\tans+=vp[i].second;\n\t}\n\treturn ans;\n}\n\nint main(){\nwhile(1){\n\tint n,a,ans=100000;\n\tpair<int,int> p;\n\tp.second=1;\n\tvector<pair<int,int>> vp;\n\tscanf(\"%d\",&n);\n\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&p.first);\n\t\tvp.push_back(p);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tint sav=vp[i].first;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tvp[i].first=j;\n\t\t\tint an=solve(tougou(vp));\n\t\t\tif(an<ans)ans=an;\n\t\t}\n\t\tvp[i].first=sav;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t\tfree(b);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#define rep(i,n) for(int i=0;i<n;i++)\nusing namespace std;\nint main(){\n\tint n,mn,c[10000];\n\twhile(cin>>n,n){\n\t\tmn=1<<30;\n\t\trep(i,n)cin>>c[i];\n\t\trep(i,n)rep(j,3){\n\t\t\tint clr=0,use=c[i];\n\t\t\tc[i]=j+1;\n\t\t\t//ツ湘つオ\n\t\t\tfor(int p=i,q=i,s=1;p>0&&q<n-1;){\n\t\t\t\twhile(p>0&&c[p]==c[p-1])p--,s++;\n\t\t\t\twhile(q<n-1&&c[q]==c[q+1])q++,s++;\n\t\t\t\tif(s>3){\n\t\t\t\t\tclr+=s;\n\t\t\t\t\tif(c[--p]!=c[++q])break;\n\t\t\t\t\ts=2; continue;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(mn>n-clr)mn=n-clr; c[i]=use;\n\t\t}\n\t\tcout<<mn<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n, p; vector<int>a, b;\nint solve(vector<int>x) {\n\tint cnt = 0;\n\twhile (true) {\n\t\tvector<int>y;\n\t\tint chain = 1;\n\t\tfor (int i = 1; i < x.size(); i++) {\n\t\t\tif (x[i] == x[i - 1])chain++;\n\t\t\telse {\n\t\t\t\tif (chain <= 3) {\n\t\t\t\t\tfor (int j = i - 1; j >= i - chain; j--) {\n\t\t\t\t\t\ty.push_back(x[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchain = 1;\n\t\t\t}\n\t\t}\n\t\tif (chain >= 1 && chain <= 3) {\n\t\t\tfor (int j = x.size() - 1; j >= x.size() - chain; j--) {\n\t\t\t\ty.push_back(x[j]);\n\t\t\t}\n\t\t}\n\t\tif (x.size() == y.size()) { return y.size(); }\n\t\tx = y; cnt++;\n\t}\n}\nint main() {\n\twhile(true) {\n\t\tcin >> n; if (n == 0)break;\n\t\tfor (int i = 0; i < n; i++) { cin >> p; a.push_back(p); }\n\t\tint maxn = n; b = a;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\ta[i] = j;\n\t\t\t\tmaxn = min(maxn, solve(a));\n\t\t\t\ta[i] = b[i];\n\t\t\t}\n\t\t}\n\t\tcout << maxn << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nconst int INF = 1<<28;\n\nint n;\nvector<int> cs;\n\nint chain(int p) {\n    int up = 0, down = 0;\n    int ub = p;\n    while (ub < n && cs[++ub] == cs[p]);\n    int lb = p;\n    while (lb >= 0 && cs[--lb] == cs[p]);\n\n    if (ub - lb < 5) return n;\n\n    if (cs[ub] != cs[lb]) return n - (ub - lb) + 1;\n\n    while (true) {\n        int dup = 0;\n        int org = cs[ub];\n        while (ub < n && cs[++ub] == org) dup++;\n        while (lb >= 0 && cs[--lb] == org) dup++;\n        if (dup < 4) break;\n    }\n    return n - (ub - lb) + 1;\n}\n\nint main() {\n    while (cin >> n, n) {\n        cs.clear(); cs.resize(n);\n        for (int i = 0; i < n; i++) {\n            cin >> cs[i];\n            cs[i]--;\n        }\n\n        int minLen = chain(0);\n        for (int i = 0; i < n; i++) {\n            int org = cs[i];\n            cs[i] = (org+1) % 3;\n            minLen = min(minLen, chain(i));\n            cs[i] = (org+2) % 3;\n            minLen = min(minLen, chain(i));\n            cs[i] = org;\n        }\n\n        cout << minLen << endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<stack>\n\nusing namespace std;\n\n#define PII pair<int,int>\n\nint x[10020];\nint N;\n\nstack< PII > S;\n\nvoid pa(){\n\tfor(int i = 0; i < N; i++){\n\t\tprintf(\"%s\",x[i]==1?\"Ô\":x[i]==2?\"Â\":\"©\");\n\t}puts(\"\");\n}\n\nint func(){\n\tint now = 1;\n\tint ret = 0;\n\tPII t;\n\t\n\tfor(int i = 0; i < N ; i++){\n\t\tif(x[i] == x[i+1]){\n\t\t\tnow++;\n\t\t}else{\n\t\t\tif(S.size() > 0){\n//\t\t\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\t\t\tif(now > 3){\n\t\t\t\t\t\n\t\t\t\t}else if(S.top().first == x[i] && S.top().second + now > 3){\n//\t\t\t\t\tprintf(\"popA\\n\");\n\t\t\t\t\tS.pop();\n\t\t\t\t}else{\n\t\t\t\t\tt.first = x[i];\n\t\t\t\t\tt.second = now;\n\t\t\t\t\tS.push(t);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tPII t;\n\t\t\t\tt.first = x[i];\n\t\t\t\tt.second = now;\n\t\t\t\tS.push(t);\n\t\t\t}\n\t\t\tnow = 1;\n\t\t}\n\t}\n\t/*\n\tif(x[N-1] == S.top().first && S.top().second > 2){\n\t\tS.pop();\n\t}else {\n\t\tS.push(PII(x[N-1],1));\n\t}\n\t*/\n//\tprintf(\"size() = %d\\n\",S.size());\n\tint size = S.size();\n\tfor(int i = 0; i < size; i++){\n//\t\tprintf(\"%sª%2dÂ\\n\", S.top().first==1?\"Ô\":S.top().first==2?\"Â\":\"©\", S.top().second);\n\t\tret += S.top().second;\n\t\tS.pop();\n\t}\n//\tprintf(\"return %2d\\n\",ret);\n\treturn ret;\n}\n\t\t\t\t\n\nint main(void){\n\twhile(scanf(\"%d\", &N) && N != 0){\n\t\tint M=2000000000;\n\t\t\n\t\tfor(int i = N-1; i >= 0; i--){\n\t\t\tscanf(\"%d\", &x[i]);\n\t\t}\n\t\tx[N] = 0;\n//\t\tpa();\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tfor(int j = 1; j < 4; j++){\n\t\t\t\tif(x[i] != j){\n\t\t\t\t\tx[N+1] = x[i];\n\t\t\t\t\tx[i] = j;\n//\t\t\t\t\tputs(\"---\");\n//\t\t\t\t\tpa();\n\t\t\t\t\tM = min(func(),M);\n\t\t\t\t\tx[i] = x[N+1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", M);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<stack>\n#include<map>\n#include<set>\n#include<vector>\n#include<complex>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<cmath>\n#include<cctype>\n#include<cstring>\n#include<cassert>\nusing namespace std;\n \n#define REP(i,x,n) for(int i = x ; i < (int)(n) ; i++)\n#define rep(i,n) REP(i, 0, n)\n#define f first\n#define s second\n#define mp make_pair\n#define pb push_back\n \ntypedef pair<int,int> P;\ntypedef long long ll;\n \nstatic const int INF = (1<<29);\nstatic const double EPS = 1e-9;\nstatic const double PI = acos(-1.0);\n \nint n;\nint ch[10000];\n \nint del(int idx, int c){\n  int total = 0;\n  int color = c;\n  int l = idx;\n  int r = idx + 1;\n  while(true){\n    int count = 0;\n    while(0 <= l && ch[l]==color){\n      count++;\n      l--;\n    }\n    while(r < n && ch[r]==color){\n      count++;\n      r++;\n    }\n    if(count >= 4){\n      total += count;\n     // if(l==-1 || r==n) break;\n      if(ch[l]==ch[r]) color = ch[l]; \n    }\n    else break;\n  }\n  return total;\n}\n \nint solve(){\n  int count = 0;\n  for(int i = 0 ; i < n ;i++){\n    for(int j = 1; j <= 3 ; j++){\n      if(ch[i]==j) continue;\n      int tmp = ch[i];\n      ch[i] = j;\n      count = max(count,del(i,j));\n      ch[i] = tmp;\n    }\n  }\n  return n - count;\n}\n \nint main(){\n  while(cin >> n, n){\n    rep(i,n) scanf(\"%d\",&ch[i]);\n    cout << solve() << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <cstddef>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; size_t MAX = 15000;\n\n\t\tvector<int> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tif (N == 0) { break; }\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<int> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (int l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (E[k] == E[k + 1])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct block{\n  int color, many;\n};\n\nint main()\n{\n  while(true){\n    int n;\n    cin >> n;\n    if(!n) break;\n    vector<block> line;\n    vector<block>::iterator p;\n    int max = 0;\n\n    for(int i = 0; i < n; i++){\n      int in;\n      cin >> in;\n      p = line.end() - 1;\n      if(!line.empty() && p->color == in){\n\tp->many++;\n      }\n      else{\n\tblock newblock = {in, 1};\n\tline.push_back(newblock);\n      }\n    }\n\n    //chain\n    vector<block>::iterator pp, pm;\n    for(p = line.begin() + 1; p != line.end() - 1; p++){\n      if(p->many == 1  && (p - 1)->color == (p + 1)->color && (p - 1)->many + (p + 1)->many >= 3){\n\tint chain = (p - 1)->many + (p + 1)->many + 1;\n\tpm = p - 1;\n\tpp = p + 1; \n\twhile(true){\n\t  pm--;\n\t  pp++;\n\t  if(pm != line.begin() - 1 && pp != line.end() && pp->many + pm->many >= 4){\n\t    chain += pp->many + pm->many;\n\t  }\n\t  else{\n\t    max = (max < chain) ? chain : max;\n\t    break;\n\t  }\n\t}\n      }\n    }\n\n    cout << n - max << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <stack>\n#include <queue>\n#include <deque>\n#include <set>\n#include <map>\n#include <algorithm>\t// require sort next_permutation count __gcd reverse etc.\n#include <cstdlib>\t// require abs exit atof atoi \n#include <cstdio>\t\t// require scanf printf\n#include <functional>\n#include <numeric>\t// require accumulate\n#include <cmath>\t\t// require fabs\n#include <climits>\n#include <limits>\n#include <cfloat>\n#include <iomanip>\t// require setw\n#include <sstream>\t// require stringstream \n#include <cstring>\t// require memset\n#include <cctype>\t\t// require tolower, toupper\n#include <fstream>\t// require freopen\n#include <ctime>\t\t// require srand\n#define rep(i,n) for(int i=0;i<(n);i++)\n#define ALL(A) A.begin(), A.end()\n#define INF 10000\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair<int, int> P;\nint n;\nint chain[10005];\nint no[4][10005];\n\nvoid calc_no (int cnt, int curr, int p, int q, int first_color, int curr_color )\n{\t\n\tint s1 = 0, s2 = 0;\n\tfor (; p > 0 && chain[p] == curr_color; p--, s1++ );\n\tfor (; q <= n && chain[q] == curr_color; q++, s2++ );\n\tint len = s1 + s2 + (cnt == 0 ? 1 : 0 );\n\tif (len >= 4 ){\n\t\tno[first_color][curr] += len;\n\t\tif (chain[p] == chain[q] )\n\t\t\tcalc_no (cnt+1, curr, p, q, first_color, chain[p] );\n\t} // end if\n}\n\nint main()\n{\n//\tcut here before submit \n//\tfreopen (\"testcase.chain\", \"r\", stdin );\n\twhile (scanf (\"%d\", &n ), n ){\n\t\tmemset (chain, -1, sizeof (chain ) );\n\t\tchain[0] = 0;\n\t\tfor (int i = 1; i <= n; i++ ){\n\t\t\tscanf (\"%d\", &chain[i] );\n\t\t} // end rep\n\n\t\tmemset (no, 0, sizeof (no ) );\n\t\tfor (int i = 1; i <= n; i++ ){\n\t\t\tfor (int j = 1; j <= 3; j++ ){\n\t\t\t\tcalc_no (0, i, i-1, i+1, j, j );\n\t\t\t} // end rep\n\t\t} // end for\n\t\tint res = INF;\n\t\tfor (int i = 1; i <= n; i++ ){\n\t\t\tfor (int j = 1; j <= 3; j++ ){\n\t\t\t\tres = min (res, n-no[j][i] );\n\t\t\t} // end rep\n\t\t} // end for\n\t\tprintf (\"%d\\n\", res );\n\t} // end while\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n\nusing namespace std;\n\nint n;\n\nint search(int num, int a[20000]){\n\tint ref = a[num];\n\tint ans = 0;\n\tfor(int i = 1; i <= 3; i++){\n\t\ta[num] = i;\n\t\tint ind1 = num;\n\t\tint ind2 = num;\n\t\twhile(true){\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(a[ind1] != a[ind2]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint cnt = 2;\n\t\t\tif(ind1 == ind2){\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\twhile(ind1 >= 0 && a[ind1] == a[ind1 - 1]){\n\t\t\t\tind1--;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\twhile(ind2 <= n - 1 && a[ind2] == a[ind2 + 1]){\n\t\t\t\tind2++;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(cnt < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tind1--;\n\t\t\tind2++;\n\t\t}\n\t\t//cout << num << \" \" << i << \" \" << ind1 << \" \" << ind2 << endl;\n\t\tans = max(ans, ind2 - ind1 - 1);\n\t}\n\ta[num] = ref;\n\tif(ans < 4){\n\t\tans = 0;\n\t}\n\treturn ans;\n}\n\nint main(){\n\t\n\tint a[20000];\n\t\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tans = max(ans, search(i, a));\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    int pre = 0, cnt = 0, in, size = 0, ans = 100000;\n    vector<P> data;\n    for(int i=0;i<n;i++){\n      cin >> in;\n      if(in != pre){\n        data.push_back(P(pre, cnt));\n        size += cnt;\n        cnt = 0;\n      }\n      pre = in;\n      cnt++;\n    }\n    data.push_back(P(pre, cnt));\n    size += cnt;\n    for(int i=0;i<data.size();i++){\n      int l = i-1, r = i+1;\n      int rem = size;\n      while(0<=l&&l<data.size()&&0<=r&&r<data.size()){\n        if(data[l].first != data[r].first) break;\n        int sum = data[l].second + data[r].second;\n        if(sum >= 4) rem -= sum;\n        l--;\n        r++;\n      }\n      if(rem != size) rem--;\n      ans = min(ans, rem);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "// 素朴な全探索\n#include <fstream>\n#include <iostream>\n#include <cmath>\n#include <vector>\n#include <queue>\n#include <utility>\n#include <algorithm>\nusing namespace std;\nint N;\nvector<int> a;\n\nint cnt_same_clr(int i, bool incre) { // inclre = true なら i 増加\n  int cnt = 0;\n  int clr = a[i];\n  if (incre) {\n    while(i < N && a[i] == clr) {\n      cnt++;\n      i++;\n    }\n  } else {\n    while(i >= 0 && a[i] == clr) {\n      cnt++;\n      i--;\n    }\n  }\n  return cnt;\n}\n\nint cnt_left(int i, int clr) {\n  int tmp = a[i];\n  a[i] = clr; // 一時的に a[i] を変更\n  int cnt = 0;\n  int f = i;\n  int e = i;\n  if (a[i] == a[i+1])\n    e++;\n  else\n    f++;\n  while (f >= 0 && e < N && a[f] == a[e]) {\n    int cnt_f = cnt_same_clr(f, false);\n    int cnt_e = cnt_same_clr(e, true);\n    if (cnt_f + cnt_e < 4) break;\n    cnt++;\n    f -= cnt_f;\n    e += cnt_e;\n  }\n  a[i] = tmp; // 色を戻す\n\n  // 残ったキャラ数を計算\n  int left = N - (e - f - 1);\n  // cout << N << \" \" << left << endl;\n  return left;\n}\n\nint main() {\n  // ifstream cin(\"../test.txt\");\n  while (true) {\n    cin >> N;\n    if (!N) break;\n    a = vector<int>(N);\n    for (int i = 0; i < N; i++) {\n      cin >> a[i];\n    }\n\n    int left_min = N;\n    int three = 0;\n    for (int i = 1; i < N-1; i++) {\n\n      if (a[i-1] == a[i+1] && a[i] != a[i-1]) {\n        left_min = min(left_min, cnt_left(i, a[i-1]));\n      }\n\n      if (three == 2) {\n        left_min = min(left_min, cnt_left(i, a[i-1]));\n      }\n      if (a[i] == a[i-1])\n        three++;\n      else\n        three = 0;\n    }\n    three = 0;\n    for (int i = N-2; i > 0; i--) {\n      if (three == 2) {\n        left_min = min(left_min, cnt_left(i, a[i+1]));\n      }\n\n      if (a[i] == a[i+1])\n        three++;\n      else\n        three = 0;\n    }\n\n    cout << left_min << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nconst int INF=100000000;\n\nint main(){\n\n\tint n;\n\twhile(cin>>n&&n!=0){\n\tvector<int> v;\n\tfor(int i = 0; i < n; i++){\n\t\tint t;\n\t\tcin>>t;\n\t\tv.push_back(t);\n\t}\n\tint maxDel=INF;\n\tfor(int i = 0; i < n; i++){\n\t\tfor(int j = 1; j <= 3; j++){\n\t\t\t//if(i==5&&j==2){\n\t\t\t//\tcout<<endl;\n\t\t\t//}\n\t\t\tif(v[i]==j)\n\t\t\t\tcontinue;\n\t\t\tint up=i-1;\n\t\t\tint down=i+1;\n\t\t\tint sum=0;\n\t\t\tint c=1;\n\t\t\tbool first=true;\n\t\t\tint col=j;\n\t\t\t// ¼[ÖTõð©¯é\n\t\t\twhile(1){\n\t\t\t\t// upeer\n\t\t\t\tint nCal=-1;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(up<0)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif(v[up]!=col){\n\t\t\t\t\t\tnCal=v[up];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tup--;\n\t\t\t\t\tc++;\n\t\t\t\t}\n\t\t\t\t// lower\n\t\t\t\twhile(1){\n\t\t\t\t\tif(down>=n)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif(v[down]!=col){\n\t\t\t\t\t\tif(nCal==-1)\n\t\t\t\t\t\t\tnCal=v[down];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdown++;\n\t\t\t\t\tc++;\n\t\t\t\t}\n\t\t\t\t// àµvª4ÈãÈçíðs¤\n\t\t\t\tif(c>=4){\n\t\t\t\t\tsum+=c;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tc=0;\n\t\t\t\tif(nCal==-1)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\tcol=nCal;\n\t\t\t}\n\t\t\t//if(first){\n\t\t\t//\tfirst=false;\n\t\t\t//}\n\t\t\tmaxDel=min(maxDel,n-sum);\n\t\t}\n\t}\n\tcout<<maxDel<<endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define lgt\t\t\tlength()\n#define rep(i,n)\tfor (int i = 0; i < n; i++)\n#define ALL(X)\t\t(X).begin(),(X).end()\n#define RALL(X)\t\t(X).rbegin(),(X).rend()\n#define pb\t\t\tpush_back\n#define SORT(a)\t\tsort(ALL(a));\n#define RSORT(a)\tsort(RALL(a));\n#define mp\t\t\tmake_pair\n#define dump(x)\t\tcerr<<#x<<\" = \"<<(x)<<endl;\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nint toInt(string s){int v;istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\nvs form(string a,char s){vs v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(b);b=\"\";}else b+=a[i];}v.pb(b);return v;}\nvi formint(string a,char s){vi v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(toInt(b));b=\"\";}else b+=a[i];}v.pb(toInt(b));return v;}\n\nconst double EPS=1e-10,PI=acos(-1.0);\nconst int INF=2100000000;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tvector <P> v;\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n//\t\t\t\tcout << \"*\" << prev << \" \" << num << endl;\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < n - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= v.sz){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n// 消えるかどうか\nbool check2(vector<int>& v, int pos){\n\tint cnt = 0;\n\tfor(int i=pos-4 ; i < v.size() && i <= pos+4 ; i++ ){\n\t\tif( i < 0 ){\n\t\t\tcontinue;\n\t\t}else if( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\treturn false;\n}\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\tif( 0 <= i-1 && i+1 < n ){\n\t\t\t\t\tif( v[i-1] != k && v[i+1] != k ) continue;\n\t\t\t\t\tif( v[i-1] == v[i] && v[i+1] != k ) continue;\n\t\t\t\t\tif( v[i+1] == v[i] && v[i-1] != k ) continue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tif( check2(v,i) ){\n\t\t\t\t\tans = min( ans , check( v ));\n\t\t\t\t}\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#define a 99999\nmain(){\nwhile(true){\nint x[a],n,i,j,k,l,m,y[a],b,c,d,p[a],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i]=x[i]=y[i];}\nc=0;d=0;m=n;d=m;\nminx=a;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1&&y[i-1]!=j&&y[i+1]!=j){goto z;}\np[i]=x[i]=j;b=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l=k+1;l<m;l++){p[l-b]=p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=std::min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\",minx);}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<string>\n#include<cmath>\n#include<queue>\n#include<map>\n#include<set>\n#include<list>\n#include<iomanip>\n#include<vector>\n#include<random>\n#include<functional>\n#include<algorithm>\n#include<cstdio>\n#include<unordered_map>\nusing namespace std;\n//---------------------------------------------------\n//????????????????????????????????????\n#define int long long\n#define str string\n#define rep(i,j) for(int i=0;i<(int)(j);i++)\ntypedef long long ll;\ntypedef long double ld;\nconst ll inf = 4523372036854775807;\nconst ll Mod = 1000000007;\nconst ll gosenchou = 5000000000000000;\nshort gh[2][4] = { { 0,0,-1,1 },{ -1,1,0,0 } };\nstruct P {\n\tll pos, cost;\n};\nbool operator<(P a, P b) { return a.cost < b.cost; }\nbool operator>(P a, P b) { return a.cost > b.cost; }\nstruct B {//??£??\\???????????¨???\n\tll to, cost;\n};\nstruct S {//???????????±?????\\???????????°\n\tint from, to, cost;\n};\nstruct H {\n\tint x, y;\n};\nbool operator<(H a, H b) {\n\tif (a.x != b.x) return a.x < b.x;\n\treturn a.y < b.y;\n}\nbool operator>(H a, H b) {\n\tif (a.x != b.x) return a.x > b.x;\n\treturn a.y > b.y;\n}\nll gcm(ll i, ll j) {//?????§??¬?´???°\n\tif (i > j) swap(i, j);\n\tif (i == 0) return j;\n\treturn gcm(j%i, i);\n}\nld rad(ld a, ld b, ld c, ld d) {\n\treturn sqrt(pow(a - c, 2) + pow(b - d, 2));\n}//rad?????§?¨???????2??????????????¢\nint ari(int a, int b, int c) {\n\treturn (a + b)*c / 2;\n}//????????°?????????\nbool suf(ld a, ld b, ld c, ld d) {\n\tif (b <= c || d <= a) return 0;\n\treturn 1;\n}//[a,b),[c,d)\n//---------------------------------------------------\n//+++++++++++++++++++++++++++++++++++++++++++++++++++\nint n, a[10000], b[10000];\nint solve() {\n\tbool c[10000];\n\tfor (int i = 0; i < n; i++)\n\t\tc[i] = 1;\n\tbool l = 1;\n\twhile (l) {\n\t\tl = 0;\n\t\tfor (int i = 0; i < n; ) {\n\t\t\tint j = i, sum = 0;\n\t\t\twhile (j<n&&(a[i] == a[j]||!c[j])) {\n\t\t\t\tj++;\n\t\t\t\tif (c[j])\n\t\t\t\t\tsum++;\n\t\t\t}\n\t\t\tif (sum >= 4) {\n\t\t\t\tfor (int x = i; x <= j; x++)\n\t\t\t\t\tc[x] = 0;\n\t\t\t\tl = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti = j;\n\t\t}\n\t}\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++)\n\t\tif (c[i])\n\t\t\tans++;\n\treturn ans;\n}\nsigned main() {\n\twhile (cin >> n&&n != 0) {\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tcin >> a[i];\n\t\tint ans = solve();\n\t\tif (ans == 0) {\n\t\t\tint sum = 0;\n\t\t\tfor (int i = 0; i < n; ) {\n\t\t\t\tint j = i;\n\t\t\t\twhile (j < n&&a[i] == a[j])\n\t\t\t\t\tj++;\n\t\t\t\tsum = max(sum, j - i);\n\t\t\t\ti = j;\n\t\t\t}\n\t\t\tif (sum >= 5)\n\t\t\t\tans = 1;\n\t\t\telse\n\t\t\t\tans = sum;\n\t\t}\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tint j = i - 1, sum1 = 0, sum2 = 0;\n\t\t\twhile (j >= 0 && a[i - 1] == a[j] && sum1 <= 4)\n\t\t\t\tsum1++, j--;\n\t\t\tj = i + 1;\n\t\t\twhile (j < n && a[i + 1] == a[j] && sum2 <= 4)\n\t\t\t\tsum2++, j++;\n\t\t\tif ((i != 0 && i < n - 1 && a[i - 1] == a[i + 1] && sum1 + sum2 >= 4 && a[i - 1] != a[i]) ||\n\t\t\t\t(i == 0 && i < n - 1 && sum2 >= 4 && a[i + 1] != a[i]) ||\n\t\t\t\t(i > 0 && i == n - 1 && sum1 >= 4 && a[i - 1] != a[i])) {\n\t\t\t\tint f = a[i];\n\t\t\t\tif (i == 0) a[i] = a[i + 1];\n\t\t\t\telse a[i] = a[i - 1];\n\t\t\t\tans = min(ans, solve());\n\t\t\t\ta[i] = f;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\tgetchar(); getchar();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < tmp.size(); i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4){\n      tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n    }\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.resize(N);\n    rep(i, N){\n      scanf(\"%d\", &chara[i]);\n    }\n\n    tmp.resize(N);\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <map>\n#include <cmath>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,a) FOR(i,0,a)\n#define SQR(a) ((a)*(a))\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int,int> pr;\ntypedef pair<pr,ll> ppr;\ntypedef vector<pr> vpr;\nconst int INF=1<<30;\nint n;\nint count(int ball[10001]){\n\tint count=0,s=0,e=-1;\n\tFOR(i,1,n+1){\n\t\tif(ball[i]==ball[i-1])\n\t\tcontinue;\n\t\tif(i-count>=4){\n\t\t\te=i-1;\n\t\t\ts=count;\n\t\t\tbreak;\n\t\t}\n\t\tcount=i;\n\t}\n\twhile(s && ball[e+1]==ball[s-1]){\n\t\tint ne=e+1,ns=s-1;\n\t\twhile(ball[ne+1]==ball[e]) ne++;\n\t\twhile(ns && ball[ns-1]==ball[s]) ns--;\n\t\tif(ne-e+ns-s>=4){\n\t\t\te=ne;\n\t\t\ts=ns;\n\t\t}\n\t\telse \n\t\tbreak;\n\t}\n\treturn e-s+1;\n}\nint main() {\n\t\n\twhile(cin >> n && n){\n\tint ball[10001]={},maxim =0;\n\tREP(i,n)\n\t\tcin >> ball[i];\n\tball[n]=-1;\n\tFOR(i,1,4)\n\t\tREP(j,n)\n\t\t\tif(ball[j]!=i){\n\t\t\t\tint base=ball[j];\n\t\t\t\tball[j]=i;\n\t\t\t\tmaxim =max(maxim,count(ball));\n\t\t\t\tball[j]=base;\n\t\t\t}\n\tcout << n-maxim << endl;\n\t}\n\t// your code goes here\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input;\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t}\n\n\t\tint answer = 10000000;\n\t\tfor(int i=0;i<array.size();i++){\n\t\t\tstring memo = array;\n\t\t\tvector<char> list;\n\t\t\tif(memo[i] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[i] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[i] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[10001]={};\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(memo.size() == 0){\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tint size = memo.size();\n\t\t\t\tanswer = min(answer,size);\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <algorithm>\nusing namespace std;\n\nint charcter[10000];\nint n;\n\nint chain(int istart, int color) {\n\tint ctop[10000] = {0};\n\tint cbottom[10000] = {0};\n\tint i, j, cc, mod;\n\tmod = 0;\n\n\tj = 0;\n\tfor(i = istart-1; i >= 0; i--) {\n\t\tif(charcter[i] == color)\n\t\t\tcontinue;\n\t\tif(charcter[i] != charcter[i+1]) {\n\t\t\tj++;\n\t\t}\n\t\tctop[j]++;\n\t}\n\tcc = j;\n\tj = 0;\n\tfor(i = istart+1; i <= n; i++) {\n\t\tif(charcter[i] == color) {\n\t\t\tcontinue;\n\t\t}\n\t\tif(charcter[i] != charcter[i-1]) {\n\t\t\tj++;\n\t\t}\n\t\tcbottom[j]++;\n\t}\n\tcc = max(cc, j);\n\tfor(i = 1; i <= cc+1; i++) {\n\t\tif(ctop[i] + cbottom[i] < 4) {\n\t\t\tbreak;\n\t\t} else {\n\t\t\tctop[i] = 0;\n\t\t\tcbottom[i] = 0;\n\t\t}\n\t}\n\tfor(i = 1; i <= cc+1; i++) {\n\t\tmod += ctop[i];\n\t\tmod += cbottom[i];\n\t}\n\n\treturn mod;\n}\n\nint main() {\n\n\t//ifstream cin(\"INPUT.txt\");\n\t//ofstream cout(\"OUTPUT.txt\");\n\n\tint i;\n\n\twhile(cin >> n, n != 0) {\n\n\t\tint minc = n;\n\t\tfor(i = 0; i < n; i++) {\n\t\t\tcin >> charcter[i];\n\t\t}\n\t\tfor(i = 0; i < n-3; i++) {\n\t\t\tif(charcter[i+1] == charcter[i+2] && charcter[i+1] == charcter[i+3]) {\n\t\t\t\tminc = min(minc, chain(i, charcter[i+1]));\n\t\t\t}\n\t\t}\n\t\tcout << minc << endl;\n\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = 100000;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = 10000;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tif (start == 0)break;\n\t\t\t\t\tif (end == num - 1)break;\n\t\t\t\t\tstart -=(left);\n\t\t\t\t\tend +=(right);\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start - 1];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start)ans = num - end + start;\n\t\t\t}\n\t\t}\n\t\tif (ans != num)ans--;\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nint const N = 10000;\n\nstruct A\n{\n    short ignore[N];\n};\nint chain[N];\n\nvoid clear()\n{\n    fill_n( chain, N, 0 );\n}\n\n\nint del( int const num, int const befig, A& ig )\n{\n    int ignum = 0;\n    int begin = 0, count = 0, last = chain[0];\n    for( int i=0; i<=num; ++i ) {\n        if ( i < num && ig.ignore[i] )\n            continue;\n        int const cur = ( i < num ) ? chain[i] : -1;\n        if ( cur == last ) {\n            ++count;\n        } else {\n            if ( ( i - begin ) >= ( 4 + befig ) ) {\n                ignum = i - begin - befig;\n                fill_n( ig.ignore + begin, ignum, true );\n            }\n            begin = i;\n            count = 0;\n            last = chain[i];\n        }\n        if ( i == num )\n            break;\n    }\n    if ( ignum == 0 )\n        return 0;\n\n    while( int const p = del( num, befig + ignum, ig ) )\n        ignum += p;\n    \n    return ignum;\n}\n\n\nint main()\n{\n    int n;\n    while( cin >> n ) {\n        if ( n == 0 )\n            break;\n\n        clear();\n        for( int iii=0; iii<n; ++iii ) {\n            cin >> chain[iii];\n        }\n\n        A ig;\n        int const befig = del( n, 0, ig );\n        int max_n = n - befig;\n        for( int i=0; i<n; ++i ) {\n            int const gen = chain[i];\n            for( int ii=1; ii<=3; ++ii ) {\n                chain[i] = ii;\n                \n                if ( ( i > 1 && chain[i-1] != chain[i] ) && ( i < n-1 && chain[i] != chain[i+1] ) )\n                    continue;\n\n                A d = ig;\n                int const num = n - del( n, befig, d );\n                if ( num < max_n )\n                    max_n = num;\n            }\n            chain[i] = gen;\n        }\n\n        cout << max_n << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\nusing namespace std;\n\nint N;\nstring str;\nint solve(int i, char color){\n    string sim;\n    int h, t;\n    sim = str;\n    sim[i] = color;\n    while(true){\n        for(h=i;h>=0 && sim[h]==color;h--);\n        h++;\n        for(t=i;t<N && sim[t]==color;t++);\n        if(t-h<4) break;\n        sim.erase(h,t-h);\n        i = h;\n        color = sim[h];\n    }\n    return sim.size();\n}\n        \nint main(){\n    string A;\n    char before;\n    int diff;\n    int a,b,c,d,e;\n    int m;\n    cin >> N;\n    while(N){\n        for(int i=0;i<N;i++){\n            cin >> A;\n            str += A;\n        }\n        before = '4';\n        m = N;\n        for(int i=0;i<N;i++){\n            if(str[i] != str[i+1]){\n                a = i<N-3 && str[i+3] == str[i+2];\n                b = i<N-2 && str[i+2] == str[i+1];\n                c = i<N-1 && i>0 && str[i-1] == str[i+1];\n                d = i>1 && str[i-2] == str[i-1];\n                e = i>2 && str[i-3] == str[i-2];\n                if(a && b){\n                    m = min(m, solve(i,str[i+1]));\n                }else if(b && c){\n                    m = min(m, solve(i,str[i+1]));\n                }else if(c && d){\n                    m = min(m, solve(i,str[i+1]));\n                }\n                if(d && e){\n                    m = min(m, solve(i,str[i-1]));\n                }\n            }\n        }\n        str.clear();\n        cout << m << endl;\n        cin >> N;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n\nusing namespace std;\n\nint n;\n\nint search(int num, int a[20000]){\n\tint ref = a[num];\n\tint ans = 0;\n\tfor(int i = 1; i <= 3; i++){\n\t\ta[num] = i;\n\t\tint ind1 = num;\n\t\tint ind2 = num;\n\t\twhile(true){\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(a[ind1] != a[ind2]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint cnt = 2;\n\t\t\tif(ind1 == ind2){\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\twhile(ind1 >= 0 && a[ind1] == a[ind1 - 1]){\n\t\t\t\tind1--;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\twhile(ind2 <= n - 1 && a[ind2] == a[ind2 + 1]){\n\t\t\t\tind2++;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(cnt < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tind1--;\n\t\t\tind2++;\n\t\t}\n\t\t//cout << num << \" \" << i << \" \" << ind1 << \" \" << ind2 << endl;\n\t\tans = max(ans, ind2 - ind1 - 1);\n\t}\n\ta[num] = ref;\n\tif(ans < 4){\n\t\tans = 0;\n\t}\n\treturn ans;\n}\n\nint main(){\n\t\n\tint a[20000];\n\t\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tans = max(ans, search(i, a));\n\t\t}\n\t\tcout << n - ans << endl;\n\t\twhile(ans < 0){}\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; i >= 0 && chain[a] == chain[i]; i--, len++);\n\tfor (j = b; j < n&&chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (true){\n\t\tscanf(\"%d\", &n);\n\t\tif (!n)return 0;\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; s >= 0 && chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; g < n&&chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\nint table[10001];\nint a;\n\nusing namespace std;\nint solve(int b){\n\tint serch=table[b];\n\tint left=b;\n\tint right=b+1;\n\tint ret=a;\n\twhile(1){\n\t\tserch=table[left];\n\t\tint count=0;\n\t\twhile(table[left]==serch&&left>=0){\n\t\t\tleft--;\n\t\t\tcount++;\n\t\t}\n\t\twhile(table[right]==serch&&right<a){\n\t\t\tright++;\n\t\t\tcount++;\n\t\t}\n\t\tif(count<4)break;\n\t\telse ret-=count;\n\t\n\t}\n\t\treturn ret;\n}\nint main(){\n\twhile(scanf(\"%d\",&a),a){\n\t\tint ret=9999999;\n\t\tfor(int i=0;i<a;i++)scanf(\"%d\",&table[i]);\n\t\tfor(int i=0;i<a;i++){\n\t\t\tint temp=table[i];\n\t\t\ttable[i]=1;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=2;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=3;\n\t\t\tret=min(solve(i),ret);\n\t\t\ttable[i]=temp;\n\t\t}\n\t\tprintf(\"%d\\n\",ret);\n\t}\n\t\n\t}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\n#define P pair<int,int>\nusing namespace std;\n\nint a;\nint c[10000];\nP d[10000];\nint chain() {\n\tint sum = 0,k=-1;\n\tfor (int b = 0; b < a; b++) {\n\t\tint e = b;\n\t\tfor (; e < a; e++) {\n\t\t\tif (c[b] != c[e+1])break;\n\t\t}\n\t\td[sum] = P(c[b], e-b + 1);\n\t\tif (e - b+1 > 3)k = sum;\n\t\tb = e;\n\t\tsum++;\n\t}\n\tif (k == -1)return 0;\n\tint s = d[k].second;\n\tfor (int p = 1;; p++) {\n\t\tif (k - p < 0 || k + p >= sum)break;\n\t\tif (d[k - p].first == d[k + p].first&&d[k - p].second + d[k + p].second > 3)s += d[k - p].second + d[k + p].second;\n\t\telse break;\n\t}\n\treturn s;\n}\nint main() {\n\twhile (cin >> a, a) {\n\t\tfor (int b = 0; b < a; b++)scanf(\"%d\", &c[b]);\n\t\tint MAX = 0;\n\t\tfor (int e = 0; e < a; e++) {\n\t\t\tfor (int f = 1; f <= 3; f++) {\n\t\t\t\tif (c[e] == f)continue;\n\t\t\t\tint copy = c[e]; c[e] = f;\n\t\t\t\tMAX = max(MAX, chain());\n\t\t\t\tc[e] = copy;\n\t\t\t}\n\t\t}\n\t\tcout << a - MAX << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<queue>\nusing namespace std;\n#define MP make_pair\n#define F(i,n) for(int i=0;i<n;i++)\n#define F_(i,q,n,x) for(int i=q+1;i<n&&x<2;i++)\nint sais[10001],ans;\nint main()\n{\n\tint tas=0,n, x, cnt = 0, act=0,z,y,siz,siz_,now;\n\tvector<int> v,v_;\n\tpair<int, int> p;\n\tqueue<pair<int, int> > que;\n\tcin >> n;\n\tans = n;\n\tF(i, n)\n\t{\n\t\tcin >> x;\n\t\tv.push_back(x);\n\t}\n\tF(i, n)\n\t{\n\t\tact = 0;\n\t\tcnt = 0;\n\t\tF_(j,i, n, cnt)\n\t\t{\n\t\t\tif (v[i] == v[j])\n\t\t\t\tact++;\n\t\t\telse\n\t\t\t{\n\t\t\t\tcnt++;\n\t\t\t\tif (act >= 2&&cnt==2)\n\t\t\t\t{\n\t\t\t\t\tque.push(MP(i, j));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\twhile(!que.empty())\n\t{\n\t\tz = que.front().first;\n\t\ty = que.front().second;\n\t\tque.pop();\n\t\tv_ = v;\n\t\tv_.erase(v_.begin() + z, v_.begin() + y);\n\t\tdo {\n\t\t\tsiz_ = v_.size();\n\t\t\tsiz = v_.size();\n\t\t\tnow = v_[0];\n\t\t\tz = 0;\n\t\t\tcnt = 0;\n\t\t\tfor(int i=1;i<siz;i++)\n\t\t\t{\n\t\t\t\tif (now == v_[i])\n\t\t\t\t\tcnt++;\n\t\t\t\telse if (cnt <= 2)\n\t\t\t\t{\n\t\t\t\t\tz = i;\n\t\t\t\t\tnow = v_[i];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ty = i;\n\t\t\t\t\tv_.erase(v_.begin() + z, v_.begin() + y);\n\t\t\t\t\tsiz_ = v_.size();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} while (siz != siz_);\n\t\tsais[tas]=siz;\n\t\ttas++;\n\t}\n\tfor (int i = 0; i < tas; i++)\n\t{\n\t\tif (ans > sais[i])\n\t\t\tans = sais[i];\n\t}\n/*\tF(i, n)\n\t{\n\tz = que.front().first;\n\ty = que.front().second;\n\tcout << z << y << endl;\n\n\t}*/\n\tcout << ans<<endl;\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2, v3;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i][0]=0;\n\t\t\tsave[i]=0;\n\t\t}\n\t\tlist[0]=0;\n\t\tlist[1]=0;\n\t\tlist[2]=0;\n\t\tlist[3]=0;\n\t\tans=INF;\n\t\tv1=v3;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <cstdio>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n\nint n;\nint c[10000];\n\n\nint solve(int l) {\n\tint r = l + 1, res = n;\n\n\twhile (l >= 0 && r < n) {\n\t\tint color = c[l];\n\t\tint count = 0;\n\t\tfor (; l >= 0 && c[l] == color; l--, count++);\n\t\tfor (; r < n && c[r] == color; r++, count++);\n\n\t\tif (count < 4) break;\n\t\tres -= count;\n\t}\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint ans;\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\n\t\tREP(i, n) scanf(\"%d\", &c[i]);\n\n\t\tans = n;\n\t\tREP(i, n) {\n\t\t\tint tmp = c[i];\n\t\t\tREP(j, 3) {\n\t\t\t\tc[i] = j + 1;\n\t\t\t\tans = min(ans, solve(i));\n\t\t\t}\n\t\t\tc[i] = tmp;\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\nusing namespace std;\n\nint main() {\n\tint n,m,co,minn,nn,m1,m2,chn,chk;\n\tint c[10002]={};\n\tint nu[10002]={};\n\twhile(1){\n\t\tcin >> n;\n\t\tif(n==0){return 0;}\n\t\tc[0]=0;nu[0]=1;\n\t\tm=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin >> co;\n\t\t\tif(c[m]==co){\n\t\t\t\tnu[m]++;\n\t\t\t}else{\n\t\t\t\t//cout << c[m] <<\":\"<< nu[m] << \" \";\n\t\t\t\tm++;\n\t\t\t\tc[m]=co;\n\t\t\t\tnu[m]=1;\n\t\t\t}\n\t\t}\n\t\t\t\t//cout << c[m] <<\":\"<< nu[m] << endl;\n\t\tc[m+1]=0;nu[m+1]=1;\n\t\t\n\t\tminn=n;\n\t\tfor(int i=1;i<=m;i++){\n\t\t\tnn=n;chn=0;\n\t\t\tif(nu[i]==1&&c[i-1]==c[i+1]){\n\t\t\t\tm1=i-1;m2=i+1;chk=0;\n\t\t\t\tchn=1+nu[i-1]+nu[i+1];\n\t\t\t}else{\n\t\t\t\tif(nu[i]==3){\n\t\t\t\t\tm1=i;m2=i;chk=-1;\n\t\t\t\t\tchn=4;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile(c[m1]==c[m2] && chn>=4){\n\t\t\t\tnn-=chn;\n\t\t\t\tm1=m1-1;m2=m2+1;\n\t\t\t\tchn=nu[m1]+nu[m2]+chk;\n\t\t\t\tchk=0;\n\t\t\t}\n\t\t\tif(minn>nn){minn=nn;}\n\t\t}\n\t\tcout << minn << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <vector>\n#include <map>\n#include <stack>\n#include <queue>\n#include <algorithm>\n\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,j) FOR(i,0,j)\n\nconst int INF = 1 << 24;\n\ntypedef unsigned long long ull;\n\nstruct Chain{\n    int color, length;\n};\n\nint n;\nstd::vector<Chain> v;\nint fall(int l, int r){\n    int res = 0;\n\n    while(1){\n        if(l < 0 || r >= v.size()){return res;}\n        \n        if(v[l].length + v[r].length >= 4){\n            res += v[l].length + v[r].length;\n            l--; r++;\n        }else{\n            return res;\n        }\n    }\n}\n\nint main(){\n    while(std::cin >> n, n){\n        v.clear();\n\n        int flag = 0, prev_color, length = 0;\n        REP(i, n){\n            int c;\n            std::cin >> c;\n            if(flag && prev_color != c){\n                v.push_back({prev_color, length});\n                flag = 0;\n                length = 0;\n            }\n        \n            if(!flag){flag = 1;}\n            prev_color = c;\n            length++;\n        }\n\n        v.push_back({prev_color, length});\n\n        // for(auto c : v){\n        //     std::cout << c.color << \",\" << c.length << std::endl;\n        // }\n\n        int res = n;\n\n        if(v.size() >= 2 && v[0].length + 1 >= 4){\n            res = std::min(res, n - (v[0].length + 1));\n        }\n        //std::cout << res << std::endl;\n\n        if(v.size() >= 2 && 1 + v[v.size()-1].length >= 4){\n            res = std::min(res, n - (1 + v[v.size()-1].length));\n        }\n        //std::cout << res << std::endl;\n\n        FOR(i, 1, v.size()-1){\n            int l = i-1, r = i+1;\n        \n            if(v[l].color == v[r].color && v[i].length == 1 && v[l].length + v[i].length + v[r].length >= 4){\n                res = std::min(res, n - fall(l-1, r+1) - (v[l].length + v[i].length + v[r].length));\n            }else if(v[l].length + 1 >= 4){\n                v[i].length--;\n                res = std::min(res, n - fall(l-1, i) - (v[l].length + 1));\n                v[i].length++;\n            }else if(v[r].length + 1 >= 4){\n                v[i].length--;\n                res = std::min(res, n - fall(i, r+1) - (v[r].length + 1));\n                v[i].length++;\n            }\n\n            //std::cout << i << \",\" << res << std::endl;\n        }\n\n        std::cout << res << std::endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nmain(){\nwhile(true){\nint x[15000],n,i,j,k,l,m,y[15000],b,c,d,p[15000],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i] = x[i] = y[i];}\nc=0;d=0;m=n;d=m;\nminx=99999;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){goto z;}\np[i] = x[i] = j;\nb=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l = k + 1; l < m; l++){p[l-b] = p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\", minx);}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <fstream>\n#include <sstream>\n#include <iomanip>\n#include <complex>\n#include <string>\n#include <vector>\n#include <list>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <set>\n#include <map>\n#include <bitset>\n#include <functional>\n#include <utility>\n#include <algorithm>\n#include <numeric>\n#include <typeinfo>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <ctime>\n\nusing namespace std;\n\n#define dump(n) cout<<\"# \"<<#n<<\"=\"<<(n)<<endl\n#define debug(n) cout<<__FILE__<<\",\"<<__LINE__<<\": #\"<<#n<<\"=\"<<(n)<<endl\n#define repi(i,a,b) for(int i=int(a);i<int(b);i++)\n#define rep(i,n) repi(i,0,n)\n#define iter(c) __typeof((c).begin())\n#define foreach(i,c) for(iter(c) i=(c).begin();i!=(c).end();i++)\n#define allof(c) (c).begin(),(c).end()\n#define mp make_pair\n\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<string> vs;\ntypedef pair<int,int> pii;\n\nint simulate(vi a)\n{\n\tlist<int> l(allof(a));\n\tfor(;;){\n\t\t//foreach(i,l)\n\t\t//\tcout<<*i<<\" \";\n\t\t//cout<<endl;\n\t\tbool changed=false;\n\t\tfor(iter(l) i=l.begin();i!=l.end();){\n\t\t\titer(l) j=find_if(i,l.end(),not1(bind2nd(equal_to<int>(),*i)));\n\t\t\tif(distance(i,j)>=4){\n\t\t\t\ti=l.erase(i,j);\n\t\t\t\tchanged=true;\n\t\t\t}\n\t\t\telse\n\t\t\t\ti=j;\n\t\t}\n\t\tif(!changed)\n\t\t\tbreak;\n\t}\n\treturn l.size();\n}\n\nint main()\n{\n\tfor(int n;cin>>n,n;){\n\t\tvi a(n);\n\t\trep(i,n)\n\t\t\tcin>>a[i];\n\t\t\n\t\tint res=1<<29;\n\t\trep(i,n){\n\t\t\tint temp=a[i];\n\t\t\trepi(j,1,4){\n\t\t\t\tif(j==temp)\n\t\t\t\t\tcontinue;\n\t\t\t\ta[i]=j;\n\t\t\t\tres=min(res,simulate(a));\n\t\t\t}\n\t\t\ta[i]=temp;\n\t\t}\n\t\t\n\t\tcout<<res<<endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n    res = 0;\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = INF;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n      for(int color=1;color<=3;color++){\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include <cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n\tfor (int i = 0, j = 0; j<a.size();){\n\t\tif (a[j] == a[j + 1])j++;\n\t\telse {\n\t\t\tif (j - i>2){\n\t\t\t\ta.erase(a.begin() + i, a.begin() + j + 1);\n\t\t\t\ti = j = 0;\n\t\t\t}\n\t\t\telse j++, i = j;\n\t\t}\n\t}\n\treturn a.size();\n}\n\nint main(void){\n\tint n, m;\n\tvector<int>a;\n\n\twhile (cin >> n, n){\n\t\ta.resize(n);\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\n\t\tint ans = 100000000;\n\t\tfor (int i = 0; i<a.size(); i++){\n\t\t\tint temp = a[i];\n\t\t\tfor (int j = 1; j<4; j++){\n\t\t\t\tif (temp != j){\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tans = min(ans, Erase(a));\n\t\t\t\t}\n\t\t\t}\n\t\t\ta[i] = temp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nint main()\n{\n\twhile (true){\n\t\tint n;\n\t\tcin >> n;\n\t\tif (!n) break;\n\t\tvector<int> line;\n\t\tvector<int>::iterator p;\n\t\tint max = 0;\n\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint in;\n\t\t\tcin >> in;\n\t\t\tline.push_back(in);\n\t\t}\n\n\t\tfor (p = line.begin(); p != line.end(); p++){\n\t\t\tfor (int i = 1; i <= 3; i++){\n\t\t\t\tvector<int>::iterator pp, pm;\n\t\t\t\tpm = p - 1;\n\t\t\t\tpp = p + 1;\n\t\t\t\tint now = i, total = 0;\n\t\t\t\tbool flag = false;\n\n\t\t\t\twhile (true){\n\t\t\t\t\tint chain = 0;\n\t\t\t\t\twhile (pm != line.begin() - 1 && *pm == now){\n\t\t\t\t\t\tpm--; chain++;\n\t\t\t\t\t}\n\t\t\t\t\twhile (pp != line.end() && *pp == now){\n\t\t\t\t\t\tpp++; chain++;\n\t\t\t\t\t}\n\t\t\t\t\tif (flag ? (chain >= 4) : (chain >= 3)){\n\t\t\t\t\t\ttotal += (flag ? chain : chain + 1);\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tif (pm == line.begin() - 1 || pp == line.end()) break;\n\t\t\t\t\t\tnow = *pm;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tmax = (total > max) ? total : max;\n\t\t\t}\n\t\t}\n\t\tcout << n - max << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef vector <int> VI;\n\nvoid print_test( VI& t )\n{\n\tfor ( VI::iterator it = t.begin(); it != t.end(); it++ )\n\t{\n\t\tcout << *it << \" \";\n\t}\n\tcout << endl;\n}\n\nint simulate( VI& s )\n{\n\tVI result = s;\n\tVI::iterator left = result.end();\n\tVI::iterator right = result.end();\n\n\tfor ( VI::iterator it = result.begin(); it != result.end(); it++ )\n\t{\n\t\tif ( left == result.end() )\n\t\t{\n\t\t\tleft = it;\n\t\t}\n\t\telse if ( *left != *it )\n\t\t{\n\t\t\tright = it-1;\n\t\t\tif ( right - left + 1 >= 4 )\n\t\t\t{\n\t\t\t\tresult.erase( left, it );\n\t\t\t\tit = result.begin();\n\t\t\t\tright = result.end();\n\t\t\t\tleft = result.end();\n\t\t\t}\n\t\t\telse\n\t\t\t\tleft = it;\n\t\t}\n\t}\n\treturn result.size();\n}\n\nvoid change_color( int& now )\n{\n\tint next = now + 1;\n\tif ( next > 3 ) next = 1;\n\tnow = next;\n}\n\nint main( void )\n{\n\tint n; cin >> n;\n\tVI source(n);\n\tfor ( int i = 0; i < n; i++ ) cin >> source[i];\n\n\tint answer = 1<<24;\n\tfor ( int i = 0; i < n; i++ )\n\t{\n\t\tVI next = source;\n\t\tfor ( int j = 0; j < 2; j++ )\n\t\t{\n\t\t\tchange_color( next[i] );\n\t\t\tanswer = min(answer, simulate( next ) );\n\t\t}\n\t}\n\tcout << answer << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define ll long long\n#define rep(i,n) for(int i=0;i<n;i++)\n#define rrep(i,n) for(int i=1;i<=n;i++)\n#define drep(i,n) for(int i=n;i>=0;i--)\n#define INF 100000005\n#define MAX 100001\n#define dmp make_pair\n#define dpb push_back\n#define fi first\n#define se second\nusing namespace std;\n//__gcd(a,b), __builtin_popcount(a);\n\nint a[10000];\nint solve(int p, int n){\n\tint l = p-1, r = p+1, t;\n\tint s1, s2, ans = 0, f = 1;\n\twhile(0 <= l){\n\t\tt = a[l];\n\t\ts1 = s2 = 0;\n\t\tif(f)s1 = 1, f = 0;\n\t\t//if(p == 5)printf(\"%d %d %d\\n\", l, r, t);\n\t\twhile(0 <= l && a[l] == t){\n\t\t\ts1++;l--;\n\t\t}\n\t\twhile(r < n && a[r] == t){\n\t\t\ts2++;r++;\n\t\t}\n\t\tif(s1+s2 >= 4){\n\t\t\tans += s1+s2;\n\t\t}else break;\n\t}\n\treturn n-ans;\n}\n\nint main(){\n\tint n, ans;\n\twhile(1){\n\tscanf(\"%d\", &n);\n\t\tans = INF;\n\t\trep(i,n)scanf(\"%d\", &a[i]);\n\t\tif(!n)break;\n\t\tfor(int i = 1;i < n-1;i++){\n\t\t\tans = min(ans, solve(i, n));\n\t\t}\n\t\tif(ans == INF)printf(\"%d\\n\", n-1);\n\t\telse printf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(void){\n    int n,i,i2,a[10000],b[10000],cmb,cmbc,ans,nkr,tf;\n    cin>>n;\n    while(n!=0){\n        ans=n;\n        for(i=0;i<n;i++){\n            cin>>a[i];\n        }\n        for(int I=0;I<n*2;I++){\n            for(i=0;i<n;i++)b[i]=a[i];\n            if(I%2==0){\n                if(b[I/2]==3)b[I/2]=1;\n                else b[I/2]++;\n            }\n            else{\n                if(b[I/2]==1)b[I/2]=3;\n                else b[I/2]--;\n            }\n            nkr=n;\n            //?¶????????????¨????????????????????§\n            do{\n                //??????????????§??????\n                tf=0;\n                cmb=1;\n                cmbc=b[0];\n                for(i=1;i<n;i++){\n                    if(b[i]==0)continue;\n                    if(cmbc==b[i]){\n                        cmb++;\n                    }\n                    else{\n                        if(cmb>=4){\n                            tf=1;\n                            break;\n                        }\n                        else{\n                            cmb=1;\n                            cmbc=b[i];\n                        }\n                    }\n                }\n                //?????????????¶?????????´???\n                if(tf==1){\n                    /*for(i2=0;i2<n;i2++)cout<<b[i2]<<' ';\n                    cout<<endl;*/\n                    for(i2=i-cmb;i2<i;i2++){\n                        b[i2]=0;\n                    }\n                    nkr-=cmb;\n                    //cout<<nkr<<endl;\n                }\n            }while(tf!=0);\n            if(ans>nkr)ans=nkr;\n        }\n        cout<<ans<<endl;\n        cin>>n;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; chain[a] == chain[i]; i--, len++);\n\tfor (j = b; chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (true){\n\t\tmemset(chain, 0, sizeof(chain));\n\t\tscanf(\"%d\", &n);\n\t\tif (!n)return 0;\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t\tscanf(\"%d\", &chain[i]);\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+2);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+1]);\n        }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int tmp_ = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = tmp_;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 10000\nint arr[MAX+2],N;\n\nint solve(int p){\n  int lp = p, rp = p+1;\n\n  while(true){\n    if(lp <= 0 || rp >= N+1) break;\n    int color = arr[lp],l,r;\n    for(l = lp ; arr[l] == color ; l--);\n    for(r = rp ; arr[r] == color ; r++);\n    if((r-rp)+(lp-l) < 4) break;\n    lp = l, rp = r;\n  }\n  return N - rp + lp + 1;\n}\n\nint main(){\n  while(cin >> N, N){\n    memset(arr,0,sizeof(arr));\n    for(int i = 1 ; i <= N ; i++){\n      cin >> arr[i]; \n    }\n    int ans = MAX;\n    for(int i = 1 ; i <= N ; i++){\n      int tmp = arr[i];\n      for(int j = 0 ; j < 3 ; j++){\n        if(arr[i] == j+1) continue;\n        arr[i] = j+1;\n        ans = min(ans,solve(i));   \n      }\n      arr[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<map>\n#include<algorithm>\nusing namespace std;\n\nmap<string,bool> hash;\n\nint check(string s)\n{\n  if(hash.insert(make_pair(s,true)).second==0)\n    return s.size();\n\n  //  cout<<s<<endl;\n\n  bool del=false;\n  char tmp=s[0];\n  int cnt=1;\n  int i=1;\n  for(;i<s.size();i++)\n    {\n      if(tmp==s[i])\n\tcnt++;\n      else\n      if(tmp!=s[i])\n\t{\n\t  if(cnt>=4)\n\t    {\n\t      //sakuzyo\n\t      //   cout<<i-cnt<<\" \"<<cnt<<endl;\n\t      s.erase(i-cnt,cnt);\t     \n\t      i=i-cnt-1;\n\t      del=true;\n\t      \n\t      //\t      cout<<s<<endl;\n\t      break;\n\t      \n\t    }\n\t  cnt=1;\n\t  tmp=s[i];\n\t}\n    }\n  if(!del)\n    {\n      if(cnt>=4)\n\t{\n\t  //sakuzyo\n\t  //\t  cout<<i-cnt<<\" \"<<i-1<<endl;\n\t  s.erase(i-cnt);\n\t  del=true;\n\t  // cout<<s<<endl;\n\t}\n    }\n  \n  if(del)\n    return check(s);\n  else\n    return s.size();\n}\n\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      hash.clear();\n      string s;\n      char t;\n\n      for(int i=0;i<n;i++)\n\t{\n\t  cin>>t;\n\t  s+=t;\n\t}\n      int ans=n;\n      \n      for(int i=0;i<n;i++)\n\t{\n\t  if(i>0 && s[i]!=s[i-1])\n\t    {\n\t      string tmp=s;\n\t      tmp[i]=tmp[i-1];\n\t      ans=min(ans,check(tmp));\n\t    }\n\t  if(i+1<n && s[i]!=s[i+1])\n\t    {\n\t      string tmp=s;\n\t      tmp[i]=tmp[i+1];\n\t      ans=min(ans,check(tmp));\n\t    }\n\t}\n      cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; i >= 0 && chain[a] == chain[i]; i--, len++);\n\tfor (j = b; j < n&&chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (true){\n\t\tscanf(\"%d\", &n);\n\t\tif (!n)return 0;\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tscanf(\"%c\", &chain[i]);\n\t\t\tchain[i] -= 48;\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; s >= 0 && chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; g < n&&chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint main() {\n\tcin.tie(0);\n\tios::sync_with_stdio(false);\n\n\twhile(true){\n\t\tint n; cin >> n;\n\t\tif(n == 0) break;\n\t\tvector<P> a;\n\t\tint t1,t2; int cnt = 1;\n\t\tcin >> t1;\n\t\tfor (int i = 1;i < n;i++){\n\t\t\tcin >> t2;\n\t\t\tif(t1 != t2){\n\t\t\t\ta.push_back(P(t1,cnt));\n\t\t\t\tcnt = 1;\n\t\t\t}else{\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tt1 = t2;\n\t\t}\n\t\ta.push_back(P(t1,cnt));\n\t\tint ans;\n\t\tif(a[1].second == 3 ) ans = n-4;\n\t\telse if(a[a.size()-1].second == 3) ans = n-4;\n\t\telse ans = n;\n\t\tfor (int i = 1;i < a.size()-1;i++){\n\t\t\tcnt = 0;\n\t\t\tif(a[i].second == 1){\n\t\t\t\tint x = i-1, y = i+1;\n\t\t\t\tif(a[x].first == a[y].first && a[x].second+a[y].second >= 3){\n\t\t\t\t\tcnt += a[x].second+a[y].second+1;\n\t\t\t\t\tx--; y++;\n\t\t\t\t\twhile(x >= 0 && y < a.size()){\n\t\t\t\t\t\tif(a[x].first == a[y].first && a[x].second+a[y].second >= 4){\n\t\t\t\t\t\t\tcnt += a[x].second+a[y].second;\n\t\t\t\t\t\t\tx--; y++;\n\t\t\t\t\t\t}else break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(n-cnt,ans);\n\t\t\tcnt = 0;\n\t\t\tif(a[i-1].second == 3){\n\t\t\t\tcnt = 4;\n\t\t\t\tint x = i-2, y = i;\n\t\t\t\tif(a[x].first == a[y].first && a[x].second+a[y].second >= 5){\n\t\t\t\t\tcnt +=  a[x].second+a[y].second-1;\n\t\t\t\t\tx--;y++;\n\t\t\t\t\twhile(x >= 0 && y < a.size()){\n\t\t\t\t\t\tif(a[x].first == a[y].first && a[x].second+a[y].second >= 4){\n\t\t\t\t\t\t\tcnt += a[x].second+a[y].second;\n\t\t\t\t\t\t\tx--; y++;\n\t\t\t\t\t\t}else break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tans = min(n-cnt,ans);\n\t\t\tif(a[i+1].second == 3){\n\t\t\t\tcnt = 4;\n\t\t\t\tint x = i, y = i+2;\n\t\t\t\tif(a[x].first == a[y].first && a[x].second+a[y].second >= 5){\n\t\t\t\t\tcnt +=  a[x].second+a[y].second-1;\n\t\t\t\t\tx--;y++;\n\t\t\t\t\twhile(x >= 0 && y < a.size()){\n\t\t\t\t\t\tif(a[x].first == a[y].first && a[x].second+a[y].second >= 4){\n\t\t\t\t\t\t\tcnt += a[x].second+a[y].second;\n\t\t\t\t\t\t\tx--; y++;\n\t\t\t\t\t\t}else break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\nint rensa(string str){\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2] \n       && str[i+2] == str[i+3]){\n      int r = i+3;\n      while(str[i] == str[r] && r < str.size())r++;\n      str = str.substr(0,i) + str.substr(r,str.size()-r);\n      i = 0;\n    }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n\n  while( cin >> n,n){\n  string cha = \"\";\n  for(int i = 0 ; i < n ; i++ ){\n    cin >> ch;\n    cha+=ch;  \n  }\n  int ret = cha.size();\n  for(int i = 0 ; i < cha.size()-1 ; i++ ){\n  string tmp = cha;\n  tmp[i] = cha[i+1];\n  if(tmp.find(\"1111\")!=string::npos ||tmp.find(\"2222\")!=string::npos ||\n     tmp.find(\"3333\")!=string::npos  )ret =  min(ret,rensa(tmp));\n  }\n  for(int i = 1 ; i < cha.size() ; i++ ){\n  string tmp = cha;\n  tmp[i] = cha[i-1];\n  if(tmp.find(\"1111\")!=string::npos ||tmp.find(\"2222\")!=string::npos ||\n     tmp.find(\"3333\")!=string::npos  )ret =  min(ret,rensa(tmp));\n  }\n  cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main() {\n    while (true) {\n        int n;\n        cin >> n;\n        if (n == 0)break;\n        \n        vector<int> a(n);\n        for (int i = 0; i < n; i++)cin >> a[i];\n\n        vector<vector<int>> v;\n        v.push_back({-1, 1});\n        int current_color = a[0];\n        int len = 0;\n        for (int i = 0; i < n; i++) {\n            if (current_color == a[i])len++;\n            else {\n                v.push_back({current_color, len});\n                current_color = a[i];\n                len = 1;\n            }\n        }\n        v.push_back({current_color, len});\n        v.push_back({-2, 1});\n\n        int max_remove = 0;\n        for (int i = 1; i < v.size() - 1; i++) {\n            int l, r;\n            int current_remove;\n            if (v[i][1] == 1 && v[i - 1][0] == v[i + 1][0]) {\n                l = i;\n                r = i;\n                current_remove = 0;\n\n                v[i - 1][1]++;\n                while (v[l - 1][0] == v[r + 1][0] && v[l - 1][1] + v[r + 1][1] >= 4) {\n                    l--;\n                    r++;\n                    current_remove += v[l][1] + v[r][1];\n                }\n                v[i - 1][1]--;\n\n                max_remove = max(max_remove, current_remove);\n            }\n            if (v[i - 1][1] >= 3) {\n                l = i - 1;\n                r = v[i][1] == 1 ? i : i - 1;\n                current_remove = v[i - 1][1] + 1;\n\n                v[i][1]--;\n                while (v[l - 1][0] == v[r + 1][0] && v[l - 1][1] + v[r + 1][1] >= 4) {\n                    l--;\n                    r++;\n                    current_remove += v[l][1] + v[r][1];\n                }\n                v[i][1]++;\n\n                max_remove = max(max_remove, current_remove);\n            }\n            if (v[i + 1][1] >= 3) {\n                l = v[i][1] == 1 ? i : i + 1;\n                r = i + 1;\n                current_remove = v[i + 1][1] + 1;\n\n                v[i][1]--;\n                while (v[l - 1][0] == v[r + 1][0] && v[l - 1][1] + v[r + 1][1] >= 4) {\n                    l--;\n                    r++;\n                    current_remove += v[l][1] + v[r][1];\n                }\n                v[i][1]++;\n\n                max_remove = max(max_remove, current_remove);\n            }\n        }\n\n        cout << n - max_remove << endl;\n    }\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <queue>\n#include <map>\n#include <cmath>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define REP(i,a) FOR(i,0,a)\n#define SQR(a) ((a)*(a))\nusing namespace std;\ntypedef long long int ll;\ntypedef pair<int,int> pr;\ntypedef pair<pr,ll> ppr;\ntypedef vector<pr> vpr;\nconst int INF=1<<30;\nint n;\nint count(int ball[10001]){\n\tint count=0,s=0,e=-1;\n\tFOR(i,1,n+1){\n\t\tif(ball[i]==ball[i-1])\n\t\tcontinue;\n\t\tif(i-count>=4){\n\t\t\te=i-1;\n\t\t\ts=count;\n\t\t\tbreak;\n\t\t}\n\t\tcount=i;\n\t}\n\twhile(s && ball[e+1]==ball[s-1]){\n\t\tint ne=e+1,ns=s-1;\n\t\twhile(ball[ne+1]==ball[e+1]) ne++;\n\t\twhile(ns && ball[ns-1]==ball[s-1]) ns--;\n\t\tif(ne-e+s-ns>=4){\n\t\t\te=ne;\n\t\t\ts=ns;\n\t\t}\n\t\telse \n\t\tbreak;\n\t}\n\treturn e-s+1;\n}\nint main() {\n\t\n\twhile(cin >> n && n){\n\tint ball[10001]={},maxim =0;\n\tREP(i,n)\n\t\tcin >> ball[i];\n\tball[n]=-1;\n\tFOR(i,1,4)\n\t\tREP(j,n)\n\t\t\tif(ball[j]!=i){\n\t\t\t\tint base=ball[j];\n\t\t\t\tball[j]=i;\n\t\t\t\tmaxim =max(maxim,count(ball));\n\t\t\t\tball[j]=base;\n\t\t\t}\n\tcout << n-maxim << endl;\n\t}\n\t// your code goes here\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\nvector<int>v;\nint ans=0;\n\nint check(int n,int res,vector<int>v){\n\tif(v.size()<3)return res;\n\t\n\tfor(int i=0;i<n;i++){\n\t\t\t\tint bf=0,af=0;\n\t\t\t\tint now=i;\n\t\t\t\twhile(1){\n\t\t\t\t\tif(now==0)break;\n\t\t\t\t\tif(v[now]==v[i]){\n\t\t\t\t\t\tbf++;\n\t\t\t\t\t\tnow--;\n\t\t\t\t\t\t}\n\t\t\t\t\telse break;\t\n\t\t\t\t\t}\n\t\t\t\t\tnow=i;\n\t\t\t\t\t\n\t\t\t\twhile(1){\n\t\t\t\t\tif(now==n-1)break;\n\t\t\t\t\tif(v[now]==v[i]){\n\t\t\t\t\t\taf++;\n\t\t\t\t\t\tnow++;\n\t\t\t\t\t\t}\n\t\t\t\t\telse break;\t\n\t\t\t\t\t}\t\n\t\t\t\t\t\n\t\t\t\t\tvector<int>hozon;\n\t\t\t\t\tif(bf+af+1>=4){\n\t\t\t\t\t\tfor(int j=0;j<bf+af+1;j++)hozon.push_back(i-bf+j);\n\t\t\t\t\t\t}\n\t\t\t\t\tv.erase(v.begin()+i-bf,v.begin()+i+af);\n\t\t\t\t\tans=max(ans,res);\n\t\t\t\t\tcheck(v.size(),res+1,v);\n\t\t\t\t\tfor(int j=0;j<hozon.size();j++)v.insert(v.begin()+i-bf,hozon[j]);\n\t\t\t\t\thozon.clear();\t\n\t\t\t\t}\n\t\t\treturn 0;\t\n\t}\n\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tv.clear();\n\t\tfor(int i=0;i<n;i++){\n\t\t\tint a;\n\t\t\tcin>>a;\n\t\t\tv.push_back(a);\n\t\t\t}\n\t\t\tcheck(n,0,v);\n\t\t\tcout<<ans<<endl;\n\t\t}\n\t\treturn 0;\n\t}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nint n;\nint calc(int* aaa,int l){\n  int cnt = 0;\n  int r = l+1;\n  int ans = n;\n  while(true){\n    cnt = 0;\n    int color = aaa[l];\n    while(0<= l&&aaa[l] == color){\n      cnt++;\n      l--;\n    }\n    while(n > r&& aaa[r] == color){\n      cnt++;\n      r++;\n    }\n    if(cnt < 4)break;\n    else ans -= cnt;\n  }\n  return ans;\n}\n\nint main(){\n  int aaa[10000];\n  int ans = 900000;\n  while(true){\n    cin >> n;\n    if(n == 0)break;\n    ans = 90000;\n    for(int i = 0; i < n; i++){\n      cin >> aaa[i];\n    }\n    for(int i = 0; i < n-1; i++){\n      int temp = aaa[i];\n      for(int j = 1; j < 4; j++){\n        aaa[i] = j;\n        ans = min(ans,calc(aaa,i));\n      }\n      aaa[i] = temp;\n    }\n    cout << ans << endl;\n  }\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tcin>>n;\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>y[i];\n\t\t\tx[i]=y[i];\n\t\t\tp[i]=x[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tfor(int k=0;k<n;k++){\n\t\t\t\t\tp[k]=y[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<minx<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>r[i];\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=check[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#include <iostream>\n#include <memory>\n#include <memory.h>\n#include <fstream>\n#include <cmath>\n#include <math.h>\n#include <numeric>\n#include <vector>\n#include <stack>\n#include <string>\n#include <queue>\n#include <sstream>\n#include <cstdlib>\n#include <cassert>\n#include <cstdio>\n#include <map>\n#include <iomanip>\n#include <list>\n#include <cctype>\n#include <algorithm>\n#include <complex>\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define rep2(i, m, n) for(int i = m; i < n; i++)\nusing namespace std;\n\ntypedef complex<double> xy_t;\ntypedef pair<xy_t, xy_t> line;\ntypedef long long ll;\ntypedef pair<int, int> P;\ntypedef pair<double, double> Pd;\ntypedef pair<int, P> PP;\ntypedef pair<int, PP> PPP;\nconst int INF = 1 << 29;\nconst double EPS = 1E-10;\n\n#define rep(i, n) for(int i = 0; i < n; i++)\n#define rep2(i, m, n) for(int i = m; i < n; i++)\n\nint n;\nint chain[10000];\n\nint calc(int v){\n\tint res = 0;\n\tint l = v, r = v;\n\twhile(0 <= l && r < n){\n\t\tif(chain[l] != chain[r]) return res;\n\t\tint c = l == r ? -1 : 0, t = chain[l];\n\t\twhile(0 <= l && chain[l] == t) l--, c++;\n\t\twhile(r < n && chain[r] == t) r++, c++;\n\t\tif(c >= 4) res += c;\n\t}\n\treturn res;\n}\n\nint main(){\n\twhile(cin >> n && n){\n\t\tint cnt = 0;\n\t\trep(i, n){\n\t\t\tcin >> chain[i];\n\t\t\tchain[i]--;\n\t\t}\n\t\trep(i, n){\n\t\t\tint c = chain[i];\n\t\t\trep(j, 3){\n\t\t\t\tchain[i] = j;\n\t\t\t\tcnt = max(calc(i), cnt);\n\t\t\t}\n\t\t\tchain[i] = c;\n\t\t}\n\t\tcout << n - cnt << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\n\nvoid counter(int);\n\nint color,n,m,puyo[10000],N;\n\nint main(){\n\n  int Min,number,original;\n  bool check;\n  \n  while(1){\n    \n    cin >>N;\n    \n    if(N == 0)break;\n    \n    Min=10001;\n    \n    for(int i=0 ; i < N ; i++){\n      cin >>puyo[i];\n    }\n    \n    for(int k=0 ; k < N ; k++){\n      \n      if(k >=1 && puyo[k-1] == puyo[k+1]){\n\t\n\toriginal=puyo[k];\n\tpuyo[k]=puyo[k-1];\n\t\n\tcheck = true;\n\t\n\twhile(1){\n\t  \n\t  if(check == false)break;\n\t  \n\t  check=false;\n\t  \n\t  for(int i=0 ; i < N ; i++){\n\t    n=0;\n\t    m=0;\n\t    if(puyo[i] !=0 ){\n\t      color=puyo[i];\n\t      counter(i);\n\t    }      \n\t    if(n >= 4){\n\t      for(int j=0 ; j < m ; j++){\n\t\tpuyo[i+j]=0;\n\t\tcheck=true;\n\t      }\n\t    }\n\t  } \n\t}\n\t\n\tnumber=0;\n\tfor(int i=0 ; i < N ; i++){\n\t  if(puyo[i] != 0)number++;\n\t}\n\t\n\tif(number < Min)Min = number;\n\t\n\tpuyo[k]=original;\n\t\n      }\n    }\n    \n    cout <<Min<<endl;\n    \n  }\n  return 0;\n}\nvoid counter(int i){\n  \n  m++;\n  \n  if(puyo[i] != 0){\n    n++;\n  }\n  \n  if( i >= 0 && i < N ){\n    if(color == puyo[i+1] || puyo[i+1] == 0){\n      counter(i+1);\n    }\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <cstring>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <fstream>\n#include <complex>\n#include <stack>\n#include <queue>\n\nusing namespace std;\ntypedef long long LL;\ntypedef pair<int, int> PII;\nstatic const double EPS = 1e-5;\n\n#define FOR(i,k,n) for (int i=(k); i<(int)(n); ++i)\n#define REP(i,n) FOR(i,0,n)\n\nvector<int> a;\nvector<int> b;\nint N;\nint M;\nbool f(){\n  //REP(i,b.size()){cout<<b[i]<<\",\";} cout<<endl;\n  bool ret = false;\n  int first = b[0];\n  int fi = 0;\n  FOR(i,1,b.size()){\n    if(b[i]==first&&i==b.size()-1){\n      if(i-fi>=3){\n        b.erase(b.begin()+fi,b.end());\n        ret = true;\n      }\n    }else if(b[i]!=first){\n      if(i-fi>=4){\n        b.erase(b.begin()+fi,b.begin()+i);\n        ret = true;\n      }\n      first = b[i];\n      fi = i;\n    }\n  }\n  M = min(M,(int)b.size());\n  return ret;\n}\nint main(){\n  while(cin>>N){\n    if(N==0) break;\n    a.clear();\n    REP(i,N){int tmp; cin>>tmp; a.push_back(tmp);}\n    M = a.size();\n    REP(i,N-3){\n      if(a[i+1]==a[i+2]&&a[i+1]==a[i+3]){\n        b = a;\n        b[i] = b[i+1];\n        while(f());\n      }\n    }\n    FOR(i,3,N){\n      if(a[i-3]==a[i-2]&&a[i-3]==a[i-1]){\n        b = a;\n        b[i] = b[i-1];\n        while(f());\n      }\n    }\n    FOR(i,1,N-1){\n      if(a[i-1]==a[i+1]){\n        b = a;\n        b[i] = b[i+1];\n        while(f());\n      }\n    }\n    cout<<M<<endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+2);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+1]);\n        }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int tmp_ = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = tmp_;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,target,R,L,ans,Lastans,Rsum,Lsum,a, number[11000];\nint right(int in);\nint left (int in);\n\nint main(){\n\n    while(1){\n    cin >> n;\n    if(n==0)break;\n    Lastans=n;\n   number[10000]={0};\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n                a=number[i];\n                number[i]=j;\n\n            while(1){\n                 \n            if(i+Rsum==n-1||i-Lsum==0)break;\n            if(number[i-Lsum-1]!=number[i+Rsum+1])break;\n            else target=number[i+Rsum+1];\n\n            R=right(i);\n            L=left(i);\n            if(R+L>=3&&Rsum==0&&Lsum==0){\n                Rsum+=R;\n                Lsum+=L;\n            }else if(R+L>=4){\n                Rsum+=R;\n                Lsum+=L;\n            }else break;\n                    }\n                ans=n-Rsum-Lsum-1;\n                if(ans<Lastans-1)Lastans=ans;\n\n                Lsum=0;\n                Rsum=0;\n                number[i]=a;\n\n                }\n\n            }\n\n            cout << Lastans << endl;\n\n    }\n    return 0;\n}\n\n\n\nint right(int in){\n    //cout << \"R \"  << in << \" \" << in+Rsum  << \" \" << target<< endl;\n    int sum=0;\n    while(1){\n    in++;\n    if(in+Rsum==n)break;\n    if(number[in+Rsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}\n\nint left(int in){\n\n    int sum=0;\n    while(1){\n    in--;\n    if(in-Lsum==-1)break;\n    if(number[in-Lsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = 100000;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = 10000;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 3)break;\n\t\t\t\t\tif (start == 0)break;\n\t\t\t\t\tstart -=(left+1);\n\t\t\t\t\tend +=(right);\n\t\t\t\t\tnow = color[start - 1];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start)ans = num - end + start;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nint n,py[10000];\n\nint chain(int u,int l){\n\tint rem=(u+1)+(n-l);\n\tif(u<0 || n<=l)\treturn rem;\n\n\tint color=py[u],cnt=0;\n\tfor(;u>=0;u--,cnt++){\n\t\tif(py[u]!=color)\tbreak;\n\t}\n\tfor(;l<n;l++,cnt++){\n\t\tif(py[l]!=color)\tbreak;\n\t}\n\tif(cnt>=4)\treturn chain(u,l);\n\treturn rem;\n}\n\nint main(){\n\tfor(;scanf(\"%d\",&n),n;){\n\t\tfor(int i=0;i<n;i++)\tscanf(\"%d\",&py[i]);\n\n\t\tint pymin=1<<30;\n\t\tfor(int i=0;i<n;i++)for(int c=1;c<=3;c++){\n\t\t\tif(py[i]!=c){\n\t\t\t\tint tmp=py[i];\n\t\t\t\tpy[i]=c;\n\t\t\t\tif(i>0 && py[i-1]==c)\t\t\tpymin=min(pymin,chain(i-1,i));\n\t\t\t\telse if(i<n-1 && py[i+1]==c)\tpymin=min(pymin,chain(i,i+1));\n\t\t\t\tpy[i]=tmp;\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\",pymin);\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tscanf(\"%d\", &y[i]);\n\t\t\tp[i] = x[i] = y[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){\n\t\t\t\t\tgoto loopend;\n\t\t\t\t}\n\t\t\t\tp[i] = x[i] = j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b >= 4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l = k + 1; l < m; l++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tp[l-b] = p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td -= b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tfor(int k=0;k<n;k++){\n\t\t\t\t\tp[k]=y[k];\n\t\t\t\t}\n\t\t\t\tloopend:;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", minx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#define INF 1e+9\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nint main(){\n\tint n;\n\twhile(cin >> n,n){\n\t\tint mi = INF;\n\t\tvector<P> vec;\n\t\tif(n <= 3){\n\t\t\tcout << n << endl;\n\t\t\tfor(int i = 0;i < n;i++) cin >> mi;\n\t\t\tcontinue;\n\t\t}\n\t\tint cnt = 1,c;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tint a;\n\t\t\tcin >> a;\n\t\t\tif(!i) c = a;\n\t\t\telse if(c != a){\n\t\t\t\tvec.push_back(P(c,cnt));\n\t\t\t\tc = a;\n\t\t\t\tcnt = 1;\n\t\t\t}else cnt++;\n\t\t}\n\t\tvec.push_back(P(c,cnt));\n\t\tint v = vec.size();\n\t\tfor(int i = 0;i < v;i++){\n\t\t\tint sum = 0;\n\t\t\tvec = vec;\n\t\t\tif(!i){\n\t\t\t\tif(vec[1].second == 3){\n\t\t\t\t\tsum = 4;\n\t\t\t\t\tif(v >= 3 && vec[0].second + vec[2].second >= 5 && vec[0].first == vec[2].first) sum += vec[0].second + vec[2].second - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(i == v - 1){\n\t\t\t\tif(vec[v - 2].second == 3){\n\t\t\t\t\tsum = 4;\n\t\t\t\t\tif(v >= 3 && vec[v - 1].second + vec[v - 3].second >= 5 && vec[v - 1].first == vec[v - 3].first) sum += vec[v - 1].second + vec[v - 3].second - 1;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(vec[i].second == 1 && vec[i - 1].first == vec[i + 1].first && vec[i - 1].second + vec[i + 1].second >= 3){\n\t\t\t\t\tsum = 1 + vec[i - 1].second + vec[i + 1].second;\n\t\t\t\t\tint l = i - 2,r = i + 2;\n\t\t\t\t\twhile(l >= 0 && r < v){\n\t\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tmi = min(mi,n - sum);\n\t\t\t\t}\n\t\t\t\tif(vec[i - 1].second == 3){\n\t\t\t\t\tsum = 4;\n\t\t\t\t\tint l = i - 2,r = i;\n\t\t\t\t\tvec[i].second--;\n\t\t\t\t\tif(vec[i].second == 0) r++;\n\t\t\t\t\twhile(l >= 0 && r < v){\n\t\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tvec[i].second++;\n\t\t\t\t\tmi = min(mi,n - sum);\n\t\t\t\t}\n\t\t\t\tif(vec[i + 1].second == 3){\n\t\t\t\t\tsum = 4;\n\t\t\t\t\tint l = i,r = i + 2;\n\t\t\t\t\tvec[i].second--;\n\t\t\t\t\tif(vec[i].second == 0) l--;\n\t\t\t\t\twhile(l >= 0 && r < v){\n\t\t\t\t\t\tif(vec[l].first == vec[r].first && vec[l].second + vec[r].second >= 4){\n\t\t\t\t\t\t\tsum += vec[l--].second + vec[r++].second;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tvec[i].second++;\n\t\t\t\t\tmi = min(mi,n - sum);\n\t\t\t\t}\n\t\t\t}\n\t\t\tmi = min(mi,n - sum);\n\t\t}\n\t\tcout << mi << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(void){\n    int n,i,i2,a[10000],b[10000],cmb,cmbc,ans,nkr,tf;\n    cin>>n;\n    while(n!=0){\n        ans=n;\n        for(i=0;i<n;i++){\n            cin>>a[i];\n        }\n        for(int I=0;I<n*2;I++){\n            for(i=0;i<n;i++)b[i]=a[i];\n            if(I%2==0){\n                if(b[I/2]==3)b[I/2]=1;\n                else b[I/2]++;\n            }\n            else{\n                if(b[I/2]==1)b[I/2]=3;\n                else b[I/2]--;\n            }\n            nkr=n;\n            //?¶????????????¨????????????????????§\n            do{\n                //??????????????§??????\n                tf=0;\n                cmb=1;\n                cmbc=b[0];\n                for(i=1;i<n;i++){\n                    if(b[i]==0)continue;\n                    if(cmbc==b[i]){\n                        cmb++;\n                    }\n                    else{\n                        if(cmb>=4){\n                            tf=1;\n                            break;\n                        }\n                        else{\n                            cmb=1;\n                            cmbc=b[i];\n                        }\n                    }\n                }\n                //?????????????¶?????????´???\n                if(tf==1){\n                    /*for(i2=0;i2<n;i2++)cout<<b[i2]<<' ';\n                    cout<<endl;*/\n                    for(i2=i-cmb;i2<i;i2++){\n                        b[i2]=0;\n                    }\n                    nkr-=cmb;\n                    //cout<<nkr<<endl;\n                }\n            }while(tf!=0);\n            if(ans>nkr)ans=nkr;\n        }\n        cout<<ans<<endl;\n        cin>>n;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<climits>\nusing namespace std;\n\nint check(vector<int> c)\n{\n  bool f=1;\n  int cnt,i,j;\n  vector<int>::iterator it,it2;\n  while(f){\n    cnt=f=0;\n    it=it2=c.begin();\n    for(it++;it!=c.end();it++){\n      if(*it==*it2){\n\tcnt++;\n      }else if(cnt>=3){\n\tfor(;cnt>=0;cnt--){\n\t  it--;\n\t  it2=it;\n\t  c.erase(it2);\n\t}\n\tf=1;\n\tbreak;\n      }else{\n\tcnt=0;\n      }\n      it2=it;\n    }\n  }\n  return c.size();\n}\n\nint main()\n{\n  int N,i,j;\n  int min,rest;\n  while(cin>>N,N){\n    vector<int> chara(N);\n    for(i=0;i<N;i++)cin>>chara[i];\n    min=INT_MAX;\n    for(i=0;i<N;i++){\n      for(j=1;j<=3;j++){\n\tif(chara[i]==j)continue;\n\tint t=chara[i];\n\tchara[i]=j;\n\trest=check(chara);\n\tchara[i]=t;\n\tif(min>rest)min=rest;\n      }\n    }\n    printf(\"%d\\n\",min);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  while(1){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if((it+1) != v.end() && it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else if(it->se > 3){\n        f = false;\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    ll si = v2.size(),ans = inf,sum;\n    v2.push_back(make_pair(inf,0));\n    auto v3 = v2;\n    auto it = v2.begin();\n    rep(j,v2.size()){\n      sum += v2[j].se;\n    }\n    REP(i,0,si){\n      sum = 0;\n      v2[i+1].se++;\n      v2[i].se--;\n      if(v2[i].se == 0)\n        v2.erase(it + i);\n      chain(v2);\n      rep(j,v2.size()){\n        sum += v2[j].se;\n      }\n      ans = min(ans,sum);\n      v2 = v3;\n      sum = 0;\n      if(i>1){\n        v2[i-1].se++;\n        v2[i].se--;\n        if(v2[i].se == 0)\n          v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n        }\n        ans = min(ans,sum);\n      }\n      v2 = v3;\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tif( 0 <= i-1 && i+1 < n && v[i-1] == v[i] && v[i] == v[i+1] ) continue;\n\t\t\t\n\t\t\tfor(int k=1 ; k <= 3 ; k++ ){\n\t\t\t\tif( k == v[i] ) continue;\n\t\t\t\tif( 0 <= i-1 && i+1 < n ){\n\t\t\t\t\tif( v[i-1] != k && v[i+1] != k ) continue;\n\t\t\t\t\tif( v[i-1] == v[i] && v[i+1] != k ) continue;\n\t\t\t\t\tif( v[i+1] == v[i] && v[i-1] != k ) continue;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = k;\n\t\t\t\tans = min( ans , check( v ));\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<list>\nstd::list<int>o,l;\nstd::list<int>::iterator i,j,z;\nint f()\n{\n\tint x;\n\tfor(i=l.begin();i!=l.end();)\n\t{\n\t\tx=1;\n\t\tfor(j=i,++j;j!=l.end();++j)\n\t\t{\n\t\t\tif(*i==*j)++x;\n\t\t\telse if(x>3)\n\t\t\t{\n\t\t\t\tl.erase(i,j);\n\t\t\t\tgoto N;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\ti=j;\n\t\tcontinue;\nN:;\n\t\ti=l.begin();\n\t}\n\treturn l.size();\n}\nint main()\n{\n\tint n,x,y,r;\n\twhile(scanf(\"%d\",&n),n)\n\t{\n\t\to.clear();\n\t\tr=n;\n\t\twhile(n--)scanf(\"%d\",&x),o.push_back(x);\n\t\tfor(z=o.begin();z!=o.end();++z)\n\t\t{\n\t\t\tfor(y=0;;)\n\t\t\t{\n\t\t\t\t*z=*z%3+1;\n\t\t\t\tl=o;\n\t\t\t\tif(++y>2)break;\n\t\t\t\tx=f(),r=(r<x?r:x);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<set>\n#include<list>\n#include<cmath>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<complex>\n#include<cstdlib>\n#include<cstring>\n#include<numeric>\n#include<sstream>\n#include<iostream>\n#include<algorithm>\n#include<functional>\n\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\nvector<int> ball;\nvector<int> tmp;\nint n;\nint ans;\nvoid check(int n){\n\tint cnt = 0;\n\tint first;\n\tbool flag = false;\n\tfor(int i = 0;i < ball.size();){\n\t\tif(ball[i]==ball[i+1]){//同じ物が続く\n\t\t\tcnt++;\n\t\t\tif(!flag){\n\t\t\t\tfirst = i;\n\t\t\t\tflag = true;\n\t\t\t}\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}else if(cnt >=3){//四連続以上\n\t\t\tvector<int>::iterator it = ball.erase(ball.begin()+first,ball.begin()+first+cnt+1);\n\t\t\tflag =false;\n\t\t\tcnt = 0;\n\t\t\ti = 0;\n\t\t\tcontinue;\n\t\t}\n\t\tflag = false;\n\t\tcnt = 0;\n\t\ti++;\n\t}\n\tint sp =ball.size();\n\t/*cout <<\"change = \"<<n<<endl;\n\trep(i,ball.size()){\n\t\tcout <<\"ball = \"<<ball[i]<<endl;\n\t}\n\tcout <<endl;\n\t */\n\tans = min(ans,sp);\n}\n\nint main(){\n\twhile(cin>>n,n){\n\t\tball.clear();\n\t\ttmp.clear();\n\t\tans  =INF;\n\t\tint x;\n\t\trep(i,n){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tball.push_back(x);\n\t\t}\n\t\ttmp = ball;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tif(ball[i]==1){\n\t\t\t\tball[i]= 2;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 3;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t}else if(ball[i]==2){\n\t\t\t\tball[i]= 1;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 3;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t}else if(ball[i]==3){\n\t\t\t\tball[i]= 2;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 1;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std ;\n\n#define pb(n) push_back(n)\n#define fi first\n#define se second\n#define all(r) (r).begin(),(r).end()\n#define gsort(st,en) sort((st),(en),greater<int>())\n#define vmax(ary) *max_element(all(ary))\n#define vmin(ary) *min_element(all(ary))\n#define debug(x) cout<<#x<<\": \"<<x<<endl\n#define fcout(n) cout<<fixed<<setprecision((n))\n#define scout(n) cout<<setw(n)\n#define vary(type,name,size,init) vector< type> name(size,init)\n\n#define rep(i,n) for(int i = 0; i < (int)(n);++i)\n#define REP(i,a,b) for(int i = (a);i < (int)(b);++i)\n#define repi(it,array) for(auto it = array.begin(),end = array.end(); it != end;++it)\n#define repa(n,array) for(auto &n :(array))\n\nusing ll = long long;\nusing vi = vector<int>;\nusing vl = vector<ll>;\nusing dict = map<string,int>;\nusing pii = pair<int,int> ;\nusing pll = pair<ll,ll> ;\n\nconst int mod = 1000000007;\nconstexpr int imax = ((1<<30)-1)*2+1 ;\nconstexpr int inf = 100000000;\nconstexpr double PI = acos(-1.0) ;\ndouble eps = 1e-10 ;\nconst int dy[] = {-1,0,1,0};\nconst int dx[] = {0,-1,0,1};\n\ninline bool value(int x,int y,int w,int h){\n  return (x >= 0 && x < w && y >= 0 && y < h);\n}\n\ntemplate<typename T>\nvoid Unique(vector<T> &v){\n  sort(all(v));\n  v.erase(unique(all(v)),v.end());\n}\n\ntemplate<typename T>\nT ston(string& str, T n){\n  istringstream sin(str) ;\n  T num ;\n  sin >> num ;\n  return num ;\n}\n\nvoid Ans(bool f){\n  if(f) cout << \"YES\"<<endl;\n  else cout << \"NO\"<<endl;\n}\n\nvoid chain(vector<pll> &v){\n  bool f = true;\n  rep(i,v.size()){\n    f = true;\n    for(auto it = v.begin(); it != v.end();){\n      if(it->fi == (it+1)->fi && it->se + (it+1)->se > 3){\n        f = false;\n        it = v.erase(it);\n        it = v.erase(it);\n      }\n      else\n        ++it;\n    }\n    if(f) break;\n  }\n}\n\nint main(){\n  cin.tie(0);\n  ios::sync_with_stdio(false);\n  ll n;\n  while(cin >> n && n){\n    vector<ll> v(n);\n    vector<pair<ll,ll>> v2;\n    ll a = inf,cnt = 0;\n    rep(i,n){\n      cin >> v[i];\n      if(a == inf){\n        a = v[i];\n        ++cnt;\n      }\n      else{\n        if(v[i] != a){\n          v2.push_back(make_pair(a,cnt));\n          a = v[i];\n          cnt = 1;\n        }\n        else\n          ++cnt;\n      }\n    }\n    v2.push_back(make_pair(a,cnt));\n    v2.push_back(make_pair(inf,0));\n    auto v3 = v2;\n    auto it = v2.begin();\n    ll si = v2.size(),ans = inf,sum;\n    REP(i,1,si){\n      if(v2[i].se == 1){\n        sum = 0;\n        v2[i+1].se++;\n        v2.erase(it + i);\n        chain(v2);\n        rep(j,v2.size()){\n          sum += v2[j].se;\n          if(sum > ans) break;\n        }\n        ans = min(ans,sum);\n        v2 = v3;\n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\n// 消えるかどうか\nbool check2(vector<int>& v, int pos){\n\tint cnt = 0;\n\tfor(int i=pos-4 ; i < v.size() && i <= pos+4 ; i++ ){\n\t\tif( i < 0 ){\n\t\t\tcontinue;\n\t\t}else if( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\treturn false;\n}\n\nint check(vector<int>& v){\n\tint cnt=0;\n\tbool flag = false;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tif( i == 0 ){\n\t\t\tcnt = 1;\n\t\t}else if( v[i-1] == v[i] ){\n\t\t\tcnt += 1;\n\t\t}else{\n\t\t\tif( cnt >= 4 ){\n\t\t\t\tfor(int k = i-cnt ; k < i ; k++ ){\n\t\t\t\t\tv[k] = -1;\n\t\t\t\t}\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcnt = 1;\n\t\t}\n\t}\n\tif( flag ){\n\t\tvector<int> next;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( v[i] == -1 ) continue;\n\t\t\tnext.push_back( v[i] );\n\t\t}\n\t\treturn check( next );\n\t}\n\treturn v.size();\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\t\n\t\tint ans = v.size();\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tint a = -1, b = -1, t;\n\t\t\tif( 0 <= i-1 ){\n\t\t\t\ta = v[i-1];\n\t\t\t}\n\t\t\tif( i+1 < n ){\n\t\t\t\tb = v[i+1];\n\t\t\t}\n\t\t\tif( a != -1 && a != v[i] ){\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = a;\n\t\t\t\tif( check2(v,i) ){\n\t\t\t\t\tans = min( ans , check( v ));\n\t\t\t\t}\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t\tif( b != -1 && b != v[i] && a != b ){\n\t\t\t\tint t = v[i];\n\t\t\t\tv[i] = b;\n\t\t\t\tif( check2(v,i) ){\n\t\t\t\t\tans = min( ans , check( v ));\n\t\t\t\t}\n\t\t\t\tv[i] = t;\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include \"stdio.h\"\n\nint color[10000] = {};\nint num;\nint start;\nint end;\nint now;\nint right;\nint left;\nint ans = 10000;\n\nint max(int a, int b) {\n\tif (a > b)return a;\n\treturn b;\n}\n\nint min(int a, int b) {\n\tif (a < b)return a;\n\treturn b;\n}\n\nint main() {\n\tans = 100000;\n\tscanf(\"%d\", &num);\n\twhile (num != 0) {\n\t\tans = 10000;\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tscanf(\"%d\", &color[i]);\n\t\t}\n\t\tfor (int i = 0; i < num; i++) {\n\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\tif (color[i] == j) break;\n\t\t\t\tstart = i;\n\t\t\t\tend = i;\n\t\t\t\tnow = j;\n\t\t\t\twhile (1) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t\tright = 0;\n\t\t\t\t\tfor (int k = end, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k + l == num)break;\n\t\t\t\t\t\tif (color[k + l] != now)break;\n\t\t\t\t\t\tright++;\n\t\t\t\t\t}\n\t\t\t\t\tfor (int k = start, l = 1; l < 4; l++) {\n\t\t\t\t\t\tif (k - l == -1)break;\n\t\t\t\t\t\tif (color[k - l] != now)break;\n\t\t\t\t\t\tleft++;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + right < 2&&end!=start)break;\n\t\t\t\t\tif (left + right < 3 && end == start)break;\n\t\t\t\t\tif (start == 0)break;\n\t\t\t\t\tif (end == num - 1)break;\n\t\t\t\t\tstart -=(left+1);\n\t\t\t\t\tend +=(right+1);\n\t\t\t\t\tif (color[start] != color[end])break;\n\t\t\t\t\tnow = color[start - 1];\n\t\t\t\t}\n\t\t\t\tif (ans > num - end + start)ans = num - end + start;\n\t\t\t}\n\t\t}\n\t\tif (ans != num)ans++;\n\t\tprintf(\"%d\\n\", ans);\n\t\tscanf(\"%d\", &num);\t\t\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <math.h>\n#include <utility>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint saiki( vector<int> color, vector<int> num, int up, int down, int n ) {\n\twhile(true) {\n\t\tif ( color[up] != color[down] || num[up] + num[down] < 4 ) break;\n\t\tn -= num[up] + num[down];\n\t\tup--;\n\t\tdown++;\n\t}\n\treturn n;\n}\n\nint main(){\n\twhile(true) {\n\n\t\tint n;\n\t\tcin >> n;\n\t\tif ( n == 0 ) break;\n\n\t\tvector<int> color;\n\t\tvector<int> num;\n\t\tint input;\n\n\t\tcolor.push_back(-1);\n\t\tnum.push_back(0);\n\t\tfor ( int i = 0; i < n; i++ ) {\n\t\t\tcin >> input;\n\t\t\tif ( color[ color.size()-1 ] == input ) {\n\t\t\t\tnum[ num.size()-1 ]++;\n\t\t\t}else {\n\t\t\t\tcolor.push_back(input);\n\t\t\t\tnum.push_back(1);\n\t\t\t}\n\t\t}\n\t\tcolor.push_back(-1);\n\t\tnum.push_back(0);\n\n\t\tint m = n;\n\n\t\tfor ( int i = 1; i < color.size()-2; i++ ) {\n\t\t\tif ( num[i] == 1 ) {\n\t\t\t\tif ( color[i-1] == color[i+1] && num[i-1] + num[i+1] >= 3 ) {\n\t\t\t\t\tm = min( m,saiki( color, num, i-2, i+2, n - ( num[i-1]+num[i+1]+1 ) ) );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( num[i-1] == 3 ) {\n\t\t\t\tif ( num[i] == 1 ) {\n\t\t\t\t\tm = min( m,saiki( color, num, i-2, i+1, n - 4 ) );\n\t\t\t\t}else {\n\t\t\t\t\tnum[i]--;\n\t\t\t\t\tm = min( m,saiki( color, num, i-2, i, n - 4 ) );\n\t\t\t\t\tnum[i]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( num[i+1] == 3 ) {\n\t\t\t\tif ( num[i] == 1 ) {\n\t\t\t\t\tm = min( m,saiki( color, num, i-1, i+2, n - 4 ) );\n\t\t\t\t}else {\n\t\t\t\t\tnum[i]--;\n\t\t\t\t\tm = min( m,saiki( color, num, i, i+2, n - 4 ) );\n\t\t\t\t\tnum[i]++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << m << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <cstddef>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; size_t MAX = 15000;\n\n\t\tvector<int> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tif (N == 0) { break; }\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<int> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (E[k + 1] == E[k + 2])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (E[k + 2] == E[k + 3])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfor (int l = 0; l < 3; l++)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\twhile (k < E.size() - 1)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif (E[k] == E[k + 1])\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint main()\n{\n\tios::sync_with_stdio(false), cin.tie(0);\n\tint N;\n\twhile (cin >> N, N) {\n\t\tvector<int> x(N);\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tcin >> x[i];\n\t\t}\n\t\tint res = 0;\n\t\tfor (int i = 0; i < N; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\tint lb = i - 1, ub = i + 1, cnt = 1;\n\t\t\t\twhile (0 <= lb && x[lb] == j) {\n\t\t\t\t\tcnt++;\n\t\t\t\t\tlb--;\n\t\t\t\t}\n\t\t\t\twhile (ub < N && x[ub] == j) {\n\t\t\t\t\tcnt++;\n\t\t\t\t\tub++;\n\t\t\t\t}\n\t\t\t\tif (cnt >= 4) {\n\t\t\t\t\twhile (0 <= lb && ub < N && x[lb] == x[ub]) {\n\t\t\t\t\t\tint v = x[lb], add = 0;\n\t\t\t\t\t\twhile (0 <= lb && x[lb] == v) {\n\t\t\t\t\t\t\tadd++;\n\t\t\t\t\t\t\tlb--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (ub < N && x[ub] == v) {\n\t\t\t\t\t\t\tadd++;\n\t\t\t\t\t\t\tub++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (add <= 3) break;\n\t\t\t\t\t\tcnt += add;\n\t\t\t\t\t}\n\t\t\t\t\tres = max(res, cnt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << N - res << endl;\n\t}\n\treturn 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint color[10010];\nint N;\n\nint solve(int x, int cc){\n  if(color[x] == cc) return N;\n  int cnt = 1;\n  int back, forward;\n  \n  for(back = x-1 ; back >= 0 ; back--){\n    if(cc == color[back]) cnt++;\n    else break;\n  }\n  for(forward = x+1 ; forward < N ; forward++){\n    if(cc == color[forward]) cnt++;\n    else break;\n  }\n  \n  int res = N-cnt;\n  \n  if(cnt < 4) return N;\n  else if(back < 0 || N <= forward) return res; // ツ端ツづーツ湘?つオツつスツ湘ェツ債?\n  else if(color[back] != color[forward]) return res; // ツ禿アツ連ツ債スツづ可づつづ按つェツづァツづ按つ「ツ湘ェツ債?\n  \n  while(1){\n    int tmp = 0;\n    cc = color[back];\n    for( ; back >= 0 ; back--){\n      if(cc == color[back]) tmp++;\n      else break;\n    }\n    for( ; forward < N ; forward++){\n      if(cc == color[forward]) tmp++;\n      else break;\n    }\n    if(tmp < 4) return res;\n    else if(back < 0 || N <= forward) return res-tmp;\n    else if(color[back] != color[forward]) return res-tmp;\n    \n    res -= tmp;\n  }\n  return res;\n}\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 0 ; i < N ; i++) cin >> color[i];\n    int ans = 10010;\n    for(int i = 0 ; i < N ; i++){\n      for(int c  = 1 ; c <= 3 ; c++){\n\tans = min(ans, solve(i, c));   \n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\ntypedef vector <int> VI;\n\nint simulate( VI& s )\n{\n\tVI result = s;\n\tVI::iterator left = s.end();\n\tVI::iterator right = s.end();\n\n\tfor ( VI::iterator it = s.begin(); it != s.end(); it++ )\n\t{\n\t\tif ( left == s.end() )\n\t\t{\n\t\t\tleft = it;\n\t\t}\n\t\telse if ( *left != *it )\n\t\t{\n\t\t\tright = it-1;\n\t\t\tif ( right - left + 1 >= 4 )\n\t\t\t{\n\t\t\t\ts.erase( left, it );\n\t\t\t\tit = s.begin();\n\t\t\t\tright = s.end();\n\t\t\t\tleft = s.end();\n\t\t\t}\n\t\t\telse\n\t\t\t\tleft = it;\n\t\t}\n\t}\n\treturn s.size();\n}\n\nvoid change_color( int& now )\n{\n\tint next = now + 1;\n\tif ( next > 3 ) next = 1;\n\tnow = next;\n}\n\nvoid print_test( VI& t )\n{\n\tfor ( VI::iterator it = t.begin(); it != t.end(); it++ )\n\t{\n\t\tcout << *it << \" \";\n\t}\n\tcout << endl;\n}\n\nint main( void )\n{\n\tint n; cin >> n;\n\tVI source(n);\n\tfor ( int i = 0; i < n; i++ ) cin >> source[i];\n\n\tint answer = 1<<24;\n\tfor ( int i = 0; i < n; i++ )\n\t{\n\t\tVI next = source;\n\t\tfor ( int j = 0; j < 2; j++ )\n\t\t{\n\t\t\tchange_color( next[i] );\n\t\t\tanswer = min(answer, simulate( next ) );\n\t\t}\n\t}\n\tcout << answer << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <math.h>\n#include <utility>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint saiki( vector<int> color, vector<int> num, int up, int down, int n ) {\n\twhile(true) {\n\t\tif ( color[up] != color[down] || num[up] + num[down] < 4 ) break;\n\t\tn -= num[up] + num[down];\n\t\tup--;\n\t\tdown++;\n\t}\n\treturn n;\n}\n\nint main(){\n\twhile(true) {\n\n\t\tint n;\n\t\tcin >> n;\n\t\tif ( n == 0 ) break;\n\n\t\tvector<int> color;\n\t\tvector<int> num;\n\t\tint input;\n\n\t\tcolor.push_back(-1);\n\t\tnum.push_back(0);\n\t\tfor ( int i = 0; i < n; i++ ) {\n\t\t\tcin >> input;\n\t\t\tif ( color[ color.size()-1 ] == input ) {\n\t\t\t\tnum[ num.size()-1 ]++;\n\t\t\t}else {\n\t\t\t\tcolor.push_back(input);\n\t\t\t\tnum.push_back(1);\n\t\t\t}\n\t\t}\n\t\tcolor.push_back(-1);\n\t\tnum.push_back(0);\n\n\t\tint m = n;\n\n\t\tfor ( int i = 1; i < color.size()-2; i++ ) {\n\t\t\tif ( num[i] == 1 ) {\n\t\t\t\tif ( color[i-1] == color[i+1] && num[i-1] + num[i+1] >= 3 ) {\n\t\t\t\t\tm = min( m,saiki( color, num, i-2, i+2, n - ( num[i-1]+num[i+1]+1 ) ) );\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( num[i-1] == 3 ) {\n\t\t\t\tif ( num[i] == 1 ) {\n\t\t\t\t\tm = min( m,saiki( color, num, i-2, i+1, n - 4 ) );\n\t\t\t\t}else {\n\t\t\t\t\tm = min( m,saiki( color, num, i-2, i, n - 4 ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( num[i+1] == 3 ) {\n\t\t\t\tif ( num[i] == 1 ) {\n\t\t\t\t\tm = min( m,saiki( color, num, i-1, i+2, n - 4 ) );\n\t\t\t\t}else {\n\t\t\t\t\tm = min( m,saiki( color, num, i, i+2, n - 4 ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << m << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string>\n#include<vector>\n#include<list>\n\nusing namespace std;\n\nint st[10001];\n\nint solve(int ai,int col,int n){\n  int tamp=st[ai];\n  int tmp=ai;\n  st[ai]=col;\n  int bi=ai;\n  int temp=col;\n  int count;\n\n  int at,bt;\n\n  do{\n    at=ai;\n    bt=bi;\n    count=0;\n    while(st[ai]==col){\n      ai--;\n      count++;\n      if(ai<0)break;\n    }\n    while(st[bi]==col){\n      bi++;\n      count++;\n      if(bi>=n) break;\n    }\n    col=st[ai];\n    //cout << \"count\" << count << endl;\n  }while(count>3);\n\n  //  cout << ai << \"&\" << bi << endl;\n\n  st[tmp]=tamp;\n\n  return at+1 + (n-bt);\n}\n\nmain(){\n  while(1){\n    int n;\n    cin >> n;\n\n    if(n==0) break; //nªOÌÆ«I¹\n\n    for(int i=0;i<n;i++)//üÍ\n      cin >> st[i];\n\n    int temp=st[0];//OñÌ\n    int tco=0,tp=0;//tcoª¯¶¾Á½ñAtpªÁ¹éêÉÈé©àµêÈ¢êðêIÉÛ¶\n    int j=0;//á¤Æ±\n    int tmp[10001][2];//[Á¹éê][Ï¦éF]\n    int m=0;//Á¹éêÌ\n\n    //  cout <<\"aa\" << endl;\n\n    for(int i=0;i<n;i++){\n      //    cout << i << \"...\" << st[i] << endl;\n      if(temp==st[i])\n\ttco++;//¯¶¾Á½çCNg\n      else{//áÁ½ç\n\tif(!j){\n\t  tp=i;\n\t  j++;\n\t}\n\telse{\n\t  if(tco>2){\n\t    //  cout << \"koko\" << tp << \" & \" << temp << endl;\n\t    tmp[m][0]=tp;\n\t    tmp[m][1]=temp;\n\t    m++;\n\t  }\n\t  j=0;\n\t  i=tp;\n\t  tco=0;\n\t  temp=st[i];\n\t  i--;\n\t}\n      }\t\n    }\n\n    int ans=n,atmp;\n    //   cout << \"   \" << endl;\n    for(int i=0;i<m;i++){\n      //cout << tmp[i][0] << \"ÔÚ\" << endl;\n      //cout << tmp[i][1] << \"F\" << endl;\n \n      atmp=solve(tmp[i][0],tmp[i][1],n);\n      if(atmp < ans)\n\tans=atmp;\n    }\n    cout << ans <<endl;\n  }\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\twhile(true){\n\t\tint n, a, b, ans = 1000000, puyo[10000];\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tint  sum = 0, sub = n;\n\t\t\ta = b = i;\n\t\t\t\n\t\t\twhile(puyo[--a] == puyo[++b]){\n\t\t\t\tfor(int j = a; j < n; j--){\n\t\t\t\t\tif(puyo[j] != puyo[j - 1]){\n\t\t\t\t\t\ta = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = b; j < n; j++){\n\t\t\t\t\tif(puyo[j] != puyo[j + 1]){\n\t\t\t\t\t\tb = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsum = b - a + 1 - sum;\n\t\t\t\tif(sum >= 4){\n\t\t\t\t\tsub -= sum;\n\t\t\t\t} else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n/*\n \t@hunachi\n\nhttps://www.ioi-jp.org/joi/problem_archive-light.html\n\n??????????????????????????§???.\n\n\n */\n\n#include<iostream>\n#include<stdlib.h>\n#include<math.h>\n#include<string>\n#include<stdio.h>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<stack>\n\n#define int long long int\n#define rep(a,b,c) for(int a=b;a<c;a++)\n#define repm(a,b,c) for(int a=(b-1);a>=c;a--)\n#define pb push_back\n#define str string\n#define sf(a) scanfs(\"%d\",&a)\n#define pb push_back\n#define mp make_pair\n#define Fi first\n#define Se second\n#define ALL(v) (v).begin(), (v).end()\n\nusing namespace std;\n\nconst int INF = 1e9 + 9;\nconst int Mod = 1e9 + 7;\ninline int replac(str s){double ans=0;rep(i,0,s.length()){ans+=(s[i]-'0')*pow(10,s.length()-i-1);}return (int)ans;}\n\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\n\nvector<pii> vii;\nint tama,maru[10005],memo[10005][10005];\nint m(int ta,int f,int l,int po){\n    if(memo[f][l]>-1)return memo[f][l];\n    else if(ta>=tama)return memo[f][l]=0;\n    else if(tama>=po||f<0||l>=(tama-1))return memo[f][l]=tama;\n    else {\n        int ftama,tamakazu=1,k=0;\n        if(f>0){\n            ftama=maru[f-1];\n            k=f-2;\n        }else{\n            ftama=maru[f];\n            k=f-1;\n        }\n        int fn,ln;\n        for(int i=k;i>=0;i--){\n            if(ftama==maru[i])tamakazu++;\n            else{\n                fn=i;\n                break;\n            }\n        }\n        for(int i=l+1;i<tama;i++){\n            if(ftama==maru[i])tamakazu++;\n            else {\n                ln=i;\n                break;\n            }\n        }\n        if(tamakazu>=4){\n            return memo[f][l]=m(ta,fn,ln,po+tamakazu);\n        }else{\n            return memo[f][l]=max(po,m(ta+1,ta+1,ta+1,0));\n        }\n    }\n}\n\nsigned main()\n{\n    cin.tie(0);\n    ios::sync_with_stdio(false);\n    cin >> tama;\n    rep(i,0,tama){\n        cin >> maru[i];\n    }\n    int ans=tama-m(0,0,0,0);\n    cout << ans << endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n\nusing namespace std;\n\nint n;\n\nint search(int num, int a[20000]){\n\tint ref = a[num];\n\tint ans = 0;\n\tfor(int i = 1; i <= 3; i++){\n\t\ta[num] = i;\n\t\tint ind1 = num - 1;\n\t\tint ind2 = num;\n\t\twhile(true){\n\t\t\tif(ind1 <= 0 || ind2 >= n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(a[ind1] != a[ind2]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint cnt = 2;\n\t\t\twhile(a[ind1] == a[ind1 - 1]){\n\t\t\t\tind1--;\n\t\t\t\tcnt++;\n\t\t\t\tif(ind1 <= 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile(a[ind2] == a[ind2 + 1]){\n\t\t\t\tind2++;\n\t\t\t\tcnt++;\n\t\t\t\tif(ind2 >= n - 1){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(cnt < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tind1--;\n\t\t\tind2++;\n\t\t}\n\t\t//cout << num << \" \" << i << \" \" << ind1 << \" \" << ind2 << endl;\n\t\tans = max(ans, ind2 - ind1 - 1);\n\t}\n\ta[num] = ref;\n\tif(ans < 4){\n\t\tans = 0;\n\t}\n\treturn ans;\n}\n\nint main(){\n\t\n\tint a[20000];\n\t\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tans = max(ans, search(i, a));\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\nint s,n;\nvoid takahashi(){\n\tfor(int i=1;i<=s-4;i++){\n\t\tint c=1;\n\t\tint j=i+1;\n\t\twhile(check[i]==check[j]){\n\t\t\tc++;\n\t\t\tj++;\n\t\t}\n\t\tif(c>=4){\n\t\t\ts-=c;\n\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\tif(w+c>n)break;\n\t\t\t\tcheck[w]=r[w+c];\n\t\t\t}\n\t\ti=i-3;\n\t\t}\n\t}\n}\nint main(){\n\twhile(1){\n\t\tint ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tmemset(r,0,sizeof(r));\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-4;q++){\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\ts=n;\n\t\t\t\ttakahashi();\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <iomanip>\n#include <cstdlib>\nusing namespace std;\n\nint shoukyo(int*,int);\nint nokori;\nbool check(int*,int);\nvoid hyouji(int*);\n\nint main(){\n\tint a[10000],b[10000];\n\tint n,i,j,k,l;\n\tint chP,chC;\n\tint mini;\n\t\n\twhile(1){\n\t\t\n\t\tcin>>n;\n\t\tif(n==0){break;}\n\t\tnokori=n;\n\t\tfor(i=n-1;i>=0;i--){\n\t\tcin>>b[i];\n\t}\n\t//hyouji(b);\n\t\tmini=n;\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tfor(j=0;j<n-1;j++){\n\t\t\tfor(i=0;i<n;i++){\n\t\t\t\ta[i]=b[i];\n\t\t\t}\n\t\t\n\t\t\tnokori=n;\n\t\t\ta[j]=a[j+1];\n\t\t\tk=1;\n\t\t\twhile(k==1){\n\t\t\t\tif(nokori<4){break;}\n\t\t\t\tfor(int i=0;i<nokori-3;i++){\n\t\t\t\t\tk=check(a,i);\n\t\t\t\t\tif(k==1){i=0;}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(nokori<mini){\n\t\t\t\tmini=nokori;\n\t\t\t}\n\t\t}\n\t\tfor(j=1;j<n;j++){\n\t\t\tfor(i=0;i<n;i++){\n\t\t\t\ta[i]=b[i];\n\t\t\t}\n\t\t\tnokori=n;\n\t\t\ta[j]=a[j-1];\n\t\t\tk=1;\n\t\t\twhile(k==1){\n\t\t\t\tif(nokori<4){break;}\n\t\t\t\tfor(int i=0;i<nokori-3;i++){\n\t\t\t\t\tk=check(a,i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(nokori<mini){mini=nokori;}\n\t\t}\n\t\tcout<<mini<<endl;\n\t\t\t\t\n\t\n\t}\n\treturn 0;\n}\n\nint shoukyo(int a[],int p){\n\tint k=4;\n\twhile(k+p<nokori&&a[p]==a[k+p]){\n\t\tk++;\n\t}\n\t\n\t\n\tfor(int i=p;i<nokori-k;i++){\n\t\ta[i]=a[i+k];\n\t\t\n\t}\n\tnokori=nokori-k;\n\n\n\t\n\t\n\treturn 0;\n}\n\n\nbool check(int a[],int i){\n\tif(abs(a[i]-a[i+1])+abs(a[i+1]-a[i+2])+abs(a[i+2]-a[i+3])==0){\n\t\t//hyouji(a);\n\t\tshoukyo(a,i);\n\t\treturn 1;\n\t}\n\treturn 0;\n}\n\nvoid hyouji(int a[]){\n\tfor(int i=0;i<nokori;i++){\n\t\tcout<<a[i]<<\" \";\n\t}\n\tcout<<endl;\n\treturn;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\nint data[10000];\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    for(int i=0;i<n;i++) cin >> data[i];\n    int ans = n;\n    for(int i=0;i<n;i++){\n      for(int j=1;j<=3;j++){\n        if(data[i] == j) continue;\n        int c = j, l = i, r = i, cnt = 0, tmp = data[i];\n        data[i] = j;\n        while(0<=l&&l<n&&0<=r&&r<n){\n          if(data[l] != data[r]) break;\n          c = data[l];\n          for(;0<=l-1 && data[l-1] == c;l--);\n          for(;r+1<n && data[r+1] == c;r++);\n          int num = r - l - cnt + 1;\n          if(num < 4) break;\n          cnt += num;\n          l--;\n          r++;\n        }\n        data[i] = tmp;\n        ans = min(ans, n-cnt);\n      }\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint bound[11234][3][2];\nint ans = INF;\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color - 1][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tif (how_same(num, color) >= 4) {\n\t\tres += how_same(num, color);\n\t\tfor (int i = bound[num][color - 1][1]; i <= bound[num][color - 1][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color - 1][1] - 1] != A[bound[num][color - 1][0] + 1]) {\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t\tres += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]);\n\t\t}\n\t\telse { res += solve(bound[num][color - 1][0] + 1, A[bound[num][color - 1][1] - 1]); }\n\t}\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\tif (A[i] != -1) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(vector<Pair> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(vector<int> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(vector<Pair> v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint color[10005],leng;\nint ans(int h){\n\tint a=h-1,b=h+1;\n\tbool w=true;\n\tint s=0,u=0,ans=leng;\n\twhile(1){\n\tint c=a,d=b;\n\twhile(a>=1){\n\t\tif(color[a]==color[c]){\n\t\t\ts++;\n\t\t\ta--;\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n\twhile(b<=leng){\n\t\tif(color[b]==color[d]){\n\t\t\tu++;\n\t\t\tb++;\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(w){\n\t\tif(s+u>=3){\n\t\t\tif(color[c]==color[d]){\n\t\t\t\tans-=(s+u+1);\n\t\t\t\ts=0;\n\t\t\t\tu=0;\n\t\t\t\tw=false;\n\t\t}\n\t}\n\t\tif(w){\n\t\t\treturn ans;\n\t\t\tbreak;\n\t\t}\n\t}else{\n\t\tif(s+u>=4){\n\t\t\tif(color[c]==color[d]){\n\t\t\t\tans-=(s+u);\n\t\t\t\ts=0;\n\t\t\t\tu=0;\n\t\t}else{\n\t\t\treturn ans;break;\n\t\t\t}\n\t}else{\n\t\treturn ans; break;\n\t\t}\n\t}\n}\n}\n\tint main(){\n\t\twhile(1){\n\t\tint num;\n\t\tscanf(\"%d\",&leng);\n\t\tif(leng==0) break;\n\t\tnum=100000;\n\t\tfor(int i=1;i<=leng;i++){\n\t\t\tscanf(\"%d\",&color[i]);\n\t\t}\n\t\tfor(int i=1;i<=leng;i++){\n\t\t\tnum=min(num,ans(i));\n\t\t}\n\t\tprintf(\"%d\\n\",num);\n\t}\n\t\treturn 0;\n\t}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <climits>\n#include <string>\n#include <vector>\n#include <cmath>\n\nusing namespace std;\n\n#define str to_string\n#define rep(i, n) for (int i=0; i<int(n); i++)\n#define all(c) (c).begin(), (c).end()\n\n#define MAX_N 10001\n\nint n;\nint table[MAX_N], table_orig[MAX_N];\n\nint cons_left, cons_right;\n\nint countNokori() {\n  int count = 0;\n  rep(i, n) {\n    if (table[i] != -1) count++;\n  }\n  return count;\n}\n\n// offset??¨????????£?¶????????????????????????????\nint countCons(int offset) {\n  int count_l = 0, count_r = 0;\n  \n  int x = table[offset];\n  if (x == -1) {\n    // -1??§??£?¶????????????????????????? (??????-1,??????+1???????????????)????????????countCons????????¨??????\n    int i = offset;\n    while (i >= 0 && (table[i] == -1)) i--;\n    return countCons(i);\n  }\n  else {\n    // left\n    if (true) {\n      int i = offset-1;\n      while (i >= 0 && (table[i] == x || table[i] == -1)) {\n        i--;\n        if (table[i] != -1) count_l++;\n      }\n      cons_left = i+1;\n    }\n\n    // right\n    if (true) {\n      int i = offset+1;\n      while (i <= n-1 && (table[i] == x || table[i] == -1)) {\n        i++;\n        if (table[i] != -1) count_r++;\n      }\n      cons_right = i-1;\n    }\n    \n    return count_l + 1 + count_r;\n  }\n}\n\nint simulate(int offset, int value) {\n  table[offset] = value;\n\n  while (true) {\n    int c = countCons(offset);\n\n    if (c >= 4) {\n      for (int i=cons_left; i<=cons_right; i++) table[i] = -1;\n    }\n    else break;\n  }\n  //\n  return countNokori();\n}\n\nint main() {\n  while (true) {\n    cin >> n;\n    if (n == 0) break;\n    rep(i, n) {\n      int k; cin >> k;\n      table_orig[i] = k-1; // 0, 1, 2\n    }\n\n    int answer = INT_MAX;\n    rep(offset, n) rep(x, 3) {\n      rep(i, n) table[i] = table_orig[i];\n      answer = min(answer, simulate(offset, x));\n    }\n    cout << answer << '\\n';\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    deque<Block> tmp_stage;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\ttmp_stage = stage;\n\tint prev_color = tmp_stage[i].color;\n\tint prev_size = tmp_stage[i].size;\n\n\ttmp_stage[i].color = color;\n\ttmp_stage[i].size = 1;\n\n\tif(prev_size > 1){\n\t  Block b(prev_color,prev_size-1);\n\t  tmp_stage.insert(tmp_stage.begin()+i+1,b);\n\t}\n\n\tres = min(res,check_stage(tmp_stage));\n\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//シュミレーション\n#include<stdio.h>\n\nint d[10000];\t//最初のデータ\nint c[10000];\n\nvoid memcpy(int *Dist,int *Src,int size){\n\tfor(int i = 0;i < size;i++)\n\t{\n\t\tDist[i] = Src[i];\n\t}\n}\n\nint Solve(int N){\n\tint i,j,k,l;\n\tint ans = 10000;\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tscanf(\"%d\",d+i);\n\t}\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tfor(j = 1;j < 4;j++)\n\t\t{\n\t\t\tif(d[i] == j)\n\t\t\t\tcontinue;\n\t\t\t//コピー\n\t\t\tmemcpy( c , d , N);\n\t\t\tc[i] = j;\n\n\t\t\tint now = N;\n\t\t\tbool lensa;\n\n\t\t\tdo{\n\t\t\t\tlensa = false;\n\t\t\t\tfor(k = 0;k < N;k++)\n\t\t\t\t{\n\t\t\t\t\tif(c[k] == 0)\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tint cnt = 0;\n\t\t\t\t\tfor(l = k; l < N;l++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(c[k] == c[l])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(c[l] != 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt > 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tlensa = true;\n\t\t\t\t\t\tfor( int x = k; x < l;x++)\n\t\t\t\t\t\t\tc[x] = 0;\n\t\t\t\t\t\tnow -= cnt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}while(lensa);\n\n\t\t\tif(ans > now){\n\t\t\t\t//printf(\"%d\\n\",now);\n\t\t\t\tans = now;\n\t\t\t}\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint i;\n\tint N;\n\tint ans[100];\n\tfor(i = 0; scanf(\"%d\",&N) ;i++){\n\t\tif(N == 0)\n\t\t\tbreak;\n\t\tans[i] = Solve(N);\n\t}\n\tfor(int j = 0;j < i;j++){\n\t\tprintf(\"%d\\n\",ans[j]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f){\n    f = 0;\n    int n = tmp[0], c = 0;\n    rep(i, N){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  scanf(\"%d\", &N);\n  rep(i, N){\n    scanf(\"%d\", &c);\n    chara.PB(c);\n  }\n\n  int res = N;\n  rep(i, N) REP(j, 1, 4){\n    if(chara[i] == j) continue;\n    tmp = chara;\n    tmp[i] = j;\n    res = min(res, solve());\n  }\n\n  printf(\"%d\\n\", res);\n  \n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<list>\nusing namespace std;\n#define REP(i,b,n) for(int i=b;i<n;i++)\n#define rep(i,n)   REP(i,0,n)\nconst int N = 10000;\n\n/*\n  pos ã¯4åé£ç¶ã«ãªã£ãä½ç½®\n */\nint solve(int n,int pos,vector<pair<int,int> > in){\n  int l = pos,r = pos;\n  int tmp = in[pos].second;\n  while(0 <= l-1 && (in[l-1].second == 0 || in[l-1].first == in[pos].first))tmp += in[l-1].second,l--;\n  while(r+1 <= in.size() && (in[r+1].second == 0 || in[r+1].first == in[pos].first) )tmp += in[r+1].second,r++;\n\n  if (tmp < 4)return n;\n  n -= tmp;\n\n  l--;r++;\n  while(true){\n    if (l < 0 || r == in.size())break;\n    if (in[l].first != in[r].first)break;\n    if (in[l].second + in[r].second < 4)break;\n    n -= in[l].second+in[r].second;\n    l--;r++;\n  }\n  return n;\n}\n\nmain(){\n  int n;\n  while(cin>>n &&n){\n    int prev = -1,cnt=0;\n    vector<pair<int,int> > a;\n    rep(i,n){\n      int tmp;\n      cin>>tmp;\n      if (tmp != prev){\n\tif (prev != -1){\n\t  a.push_back(make_pair(prev,cnt));\n\t}\n\tprev = tmp;\n\tcnt = 1;\n      }else cnt++;\n    }\n    a.push_back(make_pair(prev,cnt));\n    int mini = n;\n    rep(i,(int)a.size()){\n      if (i-1 >= 0){\n\ta[i].second--;a[i-1].second++;\n\tmini=min(mini,solve(n,i-1,a));\n\ta[i].second++;a[i-1].second--;\n      }\n      if (i+1 < a.size()){\n\ta[i].second--;a[i+1].second++;\n\tmini=min(mini,solve(n,i+1,a));\n\ta[i].second++;a[i+1].second--;\n      }\n    }\n    cout << mini << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <string>\n#include <cstring>\n#include <algorithm>\n#include <sstream>\n#include <map>\n#include <set>\n#include <stack>\n\n#define REP(i,k,n) for(int i=k;i<n;i++)\n#define rep(i,n) for(int i=0;i<n;i++)\n#define INF 1<<30\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\n\nint func(vector<int>& v) {\n\tstack<P> st;\n\tint n = v.size(), ret = 0;\n\n\trep(i, n) {\n\t\tint len = 1, c = v[i];\n\t\tREP(j, i+1, n) {\n\t\t\tif(c == v[j]) {\n\t\t\t\ti++;\n\t\t\t\tlen++;\n\t\t\t\tcontinue;\n\t\t\t} else break;\n\t\t}\n\n\t\tif(len >= 4) continue;\n\t\telse {\n\t\t\tif(st.size() == 0) {\n\t\t\t\tst.push(mp(c, len));\n\t\t\t\tret += len;\n\t\t\t} else {\n\t\t\t\tP p = st.top();\n\t\t\t\tif(p.first == c) {\n\t\t\t\t\tif(p.second + len < 4) {\n\t\t\t\t\t\tst.top().second += len;\n\t\t\t\t\t\tret += len;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tst.pop();\n\t\t\t\t\t\tret -= p.second;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tst.push(mp(c, len));\n\t\t\t\t\tret += len;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ret;\n}\n\nint main() {\n\tint n;\n\twhile(cin >> n && n) {\n\n\t\tvector<int> v(n);\n\t\trep(i, n) cin >> v[i];\n\n\t\tint ans = n + 1;\n\t\trep(i, n) {\n\t\t\tint t = v[i];\n\n\t\t\tv[i] = 1;\n\t\t\tif(i == 0) {\n\t\t\t\tv[i] = v[i+1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else if(i == n-1) {\n\t\t\t\tv[i] = v[i-1];\n\t\t\t\tans = min(ans, func(v));\n\t\t\t} else {\n\t\t\t\tif(v[i+1] == v[i-1]) {\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t} else {\n\t\t\t\t\tv[i] = v[i-1];\n\t\t\t\t\tans = min(ans, func(v));\n\n\t\t\t\t\tv[i] = v[i+1];\n\t\t\t\t\tans = min(ans, func(v));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tv[i] = t;\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <vector>\n#include <string>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <algorithm>\n\nusing namespace std;\n\n#define rep(i,j) REP((i), 0, (j))\n#define REP(i,j,k) for(int i=(j);(i)<(k);++i)\n#define BW(a,x,b) ((a)<=(x)&&(x)<=(b))\n#define ALL(v) (v).begin(), (v).end()\n#define LENGTHOF(x) (sizeof(x) / sizeof(*(x)))\n#define AFILL(a, b) fill((int*)a, (int*)(a + LENGTHOF(a)), b)\n#define MP make_pair\n#define PB push_back\n#define F first\n#define S second\n#define INF 1 << 30\n#define EPS 1e-10\n\ntypedef pair<int, int> pi;\ntypedef pair<int, pi> pii;\ntypedef vector<int> vi;\ntypedef queue<int> qi;\ntypedef long long ll;\n\nint N, c;\nvi chara, tmp;\n\nint solve(){\n  int f = 1;\n  while(f && !tmp.empty()){\n    f = 0;\n    int n = tmp[0], c = 0;\n    int i;\n    for(i = 0; i < N; i++){\n      if(tmp[i] == n) c++;\n      else{\n\tif(c >= 4){\n\t  f = 1;\n\t  break;\n\t}else{\n\t  n = tmp[i];\n\t  c = 1;\n\t}\n      }\n    }\n    if(c >= 4) tmp.erase(tmp.begin()+i-c, tmp.begin()+i);\n  }\n  return (int)tmp.size();\n}\n\nint main(){\n  while(scanf(\"%d\", &N) && N){\n    chara.resize(N);\n    rep(i, N){\n      scanf(\"%d\", &c);\n      chara.PB(c);\n    }\n\n    tmp.resize(N);\n    int res = N;\n    rep(i, N) REP(j, 1, 4){\n      if(chara[i] == j) continue;\n      tmp = chara;\n      tmp[i] = j;\n      res = min(res, solve());\n      if(res == 0) break;\n    }\n    printf(\"%d\\n\", res);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nbool solve(){\n    int n;\n    cin >> n;\n    if(n == 0) return false;\n    vector<int> a(n);\n    for(int i=0;i<n;i++){\n        cin >> a[i];\n    }\n    int ans = n;\n    for(int i=1;i<n-1;i++){\n        int t = a[i];\n        for(int j=1;j<=3;j++){\n            if(a[i-1]!=j && a[i+1]!=j) continue;\n            a[i] = j;\n            for(int l=i,r=i,cnt=1;l>=0&&r<n;cnt=2,l--,r++){\n                if(a[l] != a[r]) break;\n                while(l>0 && a[l-1]==a[l]){\n                    cnt++;\n                    l--;\n                }\n                while(r<n-1 && a[r]==a[r+1]){\n                    cnt++;\n                    r++;\n                }\n                if(cnt>=4){\n                    ans = min(ans, n-(r-l+1));\n                }else{\n                    break;\n                }\n            }\n        }\n        a[i] = t;\n    }\n    cout << ans << endl;\n    return true;\n}\n\nint main(){\n    while(solve());\n    return 0;\n}\n\n"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint n,cou,num,ans,str[2][10010];\nint rest_count(int up,int down,int sum)\n{\n    if(up == 0 || down == cou)return sum;\n    if(str[0][down + 1] == str[0][up - 1] && str[1][down + 1] + str[1][up - 1] >= 4)return rest_count(up - 1,down + 1,sum + str[1][down + 1] + str[1][up - 1]);\n    return sum;\n}\nint main()\n{\n    while(scanf(\"%d\",&n),n)\n    {\n        cou = -1;\n        ans = n;\n        for(int i = 0; i < n; i++)\n        {\n            scanf(\"%d\",&num);\n            if(i == 0 || num != str[0][cou])\n            {\n                cou++;\n                str[0][cou] = num;\n                str[1][cou] = 1;\n            }\n            else str[1][cou]++;\n        }\n        for(int i = 0; i < cou + 1; i++)\n        {\n            if(str[1][i] == 1)\n            {\n                if(str[0][i - 1] == str[0][i + 1] && str[1][i - 1] + str[1][i + 1] >= 3 && i != 0 && i != cou)ans = min(ans,n - rest_count(i - 1,i + 1,str[1][i - 1] + str[1][i + 1] + 1));\n                if(str[1][i - 1] >= 3 && i != 0)ans = min(ans,n - rest_count(i - 1,i,1 + str[1][i - 1]));\n                if(str[1][i + 1] >= 3 && i != cou)ans = min(ans,n - rest_count(i,i + 1,1 + str[1][i + 1]));\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 10001\nint arr[MAX+2],N;\n\nint solve(int p){\n  int lp = p, rp = p+1;\n\n  while(true){\n    if(lp <= 0 || rp >= N+1) break;\n    int color = arr[lp],l,r;\n    for(l = lp ; arr[l] == color ; l--){\n      if(l <= 0) break; \n    }\n    for(r = rp ; arr[r] == color ; r++){\n      if(r >= MAX+1) break;\n    }\n    if((r-rp)+(lp-l) < 4) break;\n    lp = l, rp = r;\n  }\n  return N - rp + lp + 1;\n}\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 1 ; i <= N ; i++){\n      cin >> arr[i]; arr[i]--;\n    }\n\n    int ans = MAX;\n    for(int i = 1 ; i <= N ; i++){\n      int tmp = arr[i];\n      for(int j = 0 ; j < 3 ; j++){\n        if(j == arr[i]) continue;\n        arr[i] = j;\n        ans = min(ans,solve(i));        \n      }\n      arr[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<ctime>\n#include<cmath>\n#include<cstring>\n#include<cctype>\n#include<complex>\n#include<iostream>\n#include<sstream>\n#include<algorithm>\n#include<functional>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<map>\n#include<set>\n#include<bitset>\nusing namespace std;\nconst int dx[] = {1,0,-1,0},dy[] = {0,1,0,-1};\n#define INF 1e+8\n#define EPS 1e-8\n#define rep(i,j) for(int i = 0; i < (j); i++)\n#define reps(i,j,k) for(int i = (j); i < (k); i++)\ntypedef long long ll;\ntypedef pair < int , int > Pii;\nvector < int > stage;\nbool used[12800];\nbool check[12800];\nint n;\nint simulate(int dep,int con){\n\tif(dep == n){\n\t\tint cnt = 0;\n\t\trep(i,n)if(used[i] == 0){cnt++;}\n\t\treturn cnt;\n\t}\n\tif(used[dep] == 1)return simulate(dep+1,0);\n\tif(stage[dep] == stage[dep+1] && used[dep+1] != 1){\n\t\tcheck[dep] = check[dep+1] = 1;\n\t\treturn simulate(dep+1,con+1);\n\t}\n\telse if(used[dep+1] == 1){\n\t\tint x = dep;\n\t\twhile(used[++x]!=0);\n\t\tif(stage[dep] == stage[x]){\n\t\t\t\n\t\t\tcheck[dep] = check[x] = 1;\n\t\t\treturn simulate(x,con+1);\n\t\t}\n\t\telse{\n\t\t\trep(i,n)if(check[i] == 1)check[i] = 0;\n\t\t\treturn simulate(x,0);\n\t\t}\n\t}\n\telse{\n\t\tif(con>=3){\n\t\t\trep(i,n)if(check[i] == 1){check[i] = 0;used[i] = 1;}\n\t\t\treturn simulate(0,0);\n\t\t}\n\t\telse{\n\t\t\trep(i,n)if(check[i] == 1)check[i] = 0;\n\t\t\tsimulate(dep+1,0);\n\t\t}\n\t}\n}\nint main(){\n\twhile(scanf(\"%d\",&n),n){\n\t\tstage.clear();\n\t\tmemset(used,0,sizeof(0));\n\t\trep(i,n){\n\t\t\tint tmp;\n\t\t\tscanf(\"%d\",&tmp);\n\t\t\tstage.push_back(tmp);\n\t\t}\n\t\tint ans = n;\n\t\trep(i,n-4){\n\t\t\tmemset(used,0,sizeof(used));\n\t\t\tif(stage[i] == stage[i+1] && stage[i] == stage[i+2]){\n\t\t\t\tint x = stage[i+3];\n\t\t\t\tstage[i+3] = stage[i];\n\t\t\t\tans = min(simulate(0,0),ans);\n\t\t\t\tstage[i+3] = x;\n\t\t\t}\n\t\t\telse if(stage[i] == stage[i+1] && stage[i] == stage[i+3]){\n\t\t\t\tint x = stage[i+2];\n\t\t\t\tstage[i+2] = stage[i];\n\t\t\t\tans = min(simulate(0,0),ans);\n\t\t\t\tstage[i+2] = x;\n\t\t\t}\n\t\t\telse if(stage[i] == stage[i+2] && stage[i] == stage[i+3]){\n\t\t\t\tint x = stage[i+1];\n\t\t\t\tstage[i+1] = stage[i];\n\t\t\t\tans = min(simulate(0,0),ans);\n\t\t\t\tstage[i+1] = x;\n\t\t\t}\n\t\t\telse if(stage[i+1] == stage[i+2] && stage[i+1] == stage[i+3]){\n\t\t\t\tint x = stage[i];\n\t\t\t\tstage[i] = stage[i+1];\n\t\t\t\tans = min(simulate(0,0),ans);\n\t\t\t\tstage[i] = x;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint n,cou,num,ans,str[2][10010];\nint rest_count(int up,int down,int sum)\n{\n    if(up == 0 || down == cou)return sum;\n    if(str[0][down + 1] == str[0][up - 1] && str[1][down + 1] + str[1][up - 1] >= 4)return rest_count(up - 1,down + 1,sum + str[1][down + 1] + str[1][up - 1]);\n    return sum;\n}\nint main()\n{\n    while(scanf(\"%d\",&n),n)\n    {\n        cou = -1;\n        ans = n;\n        for(int i = 0; i < n; i++)\n        {\n            scanf(\"%d\",&num);\n            if(i == 0 || num != str[0][cou])\n            {\n                cou++;\n                str[0][cou] = num;\n                str[1][cou] = 1;\n            }\n            else str[1][cou]++;\n        }\n        for(int i = 0; i < cou + 1; i++)\n        {\n            if(str[1][i] == 1)\n            {\n                if(str[0][i - 1] == str[0][i + 1] && str[1][i - 1] + str[1][i + 1] >= 3 && i != 0 && i != cou)ans = min(ans,n - rest_count(i - 1,i + 1,str[1][i - 1] + str[1][i + 1] + 1));\n                if(str[1][i - 1] >= 3 && i != 0)ans = min(ans,n - rest_count(i - 1,i,1 + str[1][i - 1]));\n                if(str[1][i + 1] >= 3 && i != cou)ans = min(ans,n - rest_count(i,i + 1,1 + str[1][i + 1]));\n            }\n            if(str[1][i - 1] >= 3 && i != 0)\n            {\n                str[1][i]--;\n                ans = min(ans,n - rest_count(i - 1,i - 1,1 + str[1][i - 1]));\n                str[1][i]++;\n            }\n            if(str[1][i + 1] >= 3 && i != cou)\n            {\n                str[1][i]--;\n                ans = min(ans,n - rest_count(i + 1,i + 1,1 + str[1][i + 1]));\n                str[1][i]++;\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\nint main(){\n    int n;\n    while(cin>>n && n){\n        vector<int> chars;\n        int c,count;\n        int tmp=0;\n        for(int i=0;i<n;++i){\n            cin>>c;\n            chars.push_back(c);\n        }\n        int maxsum=0;\n        for(int i=1;i<n-1;++i){\n            int curb=i,curf=i;\n            int color=chars[i-1];\n            int dsum=0;\n            int back=1,forwd=0;            \n            while(true){                \n                while(curb-back>=0&&chars[curb-back]==color) ++back;\n                while(curf+forwd<n-1&&chars[curf+forwd+1]==color) ++forwd;\n                if(back+forwd<4) break;\n                dsum += back + forwd;                \n                curb -= back;curf += forwd;color=chars[curb];\n                back=0;forwd=0;\n            }\n            maxsum=max(maxsum,dsum);\n        }\n        cout<<chars.size()-maxsum<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define loop(i,n) for(int i=0;i<n;i++)\nint c[10002];\nstack<int> s;\nqueue<int> q;\n\nint rensa(int p,int n){\n  while(!s.empty())s.pop();\n  while(!q.empty())q.pop();\n  loop(i,n){\n    if(i<p)s.push(c[i]);\n    else if(i>p)q.push(c[i]);\n  }\n  int r=1;\n  while(!s.empty()&&c[p]==s.top()){\n    r++;\n    s.pop();\n  }\n  while(!q.empty()&&c[p]==q.front()){\n    r++;\n    q.pop();\n  }\n  if(r<4)return s.size()+q.size()+r;\n  while(!s.empty()&&!q.empty()&&s.top()==q.front()){\n    int color=s.top();\n    r=0;\n    while(!s.empty()&&color==s.top()){\n      r++;\n      s.pop();\n    }\n    while(!q.empty()&&color==q.front()){\n      r++;\n      q.pop();\n    }\n    if(r<4)return s.size()+q.size()+r;\n  }\n  return s.size()+q.size();\n}\n\nint main(){\n  int n;\n  while(cin>>n,n){\n    loop(i,n)cin>>c[i];\n    int m=n;\n    loop(i,n){\n      c[i]=c[i]%3+1;\n      m=min(m,rensa(i,n));\n      c[i]=c[i]%3+1;\n      m=min(m,rensa(i,n));\n      c[i]=c[i]%3+1;\n    }\n    cout<<m<<endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input;\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t}\n\t\t\n\t\tvector<int> onePoints;\n\t\t\n\t\tfor(int i=1;i<n-1;i++){\n\t\t\tif(array[i-1] != array[i] && array[i] != array[i+1]){\n\t\t\t\tonePoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\t\n\t\tint answer = 10000000;\n\t\tfor(int i=0;i<onePoints.size();i++){\n\t\t\tstring memo = array;\n\t\t\t\n\t\t\t/*\n\t\t\tchar a = array[min(onePoints[i] + 1,int(array.size()) - 2)];\n\t\t\tint count1=0;\n\t\t\tint count2=0;\n\t\t\tfor(int j=onePoints[i]+2;j<memo.size();j++){\n\t\t\t\tif(a != array[j]){\n\t\t\t\t\tcount1 = j - onePoints[i]+2 + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ta = array[max(0,onePoints[i] - 1)];\n\t\t\tfor(int j=onePoints[i]-2;j>=0;j--){\n\t\t\t\tif(a != array[j]){\n\t\t\t\t\tcount2 = onePoints[i]-2 - j + 1;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tint color[3]={};\n\t\t\tcolor[array[onePoints[i]+1] - '1'] += count1;\n\t\t\tcolor[array[onePoints[i]+1] - '1'] += count2;\n\t\t\tint colormax = max(max(color[0],color[1]),color[2]);\n\t\t\tif(colormax == color[0]){\n\t\t\t\tmemo[onePoints[i]] = '1';\n\t\t\t}else if(colormax == color[1]){\n\t\t\t\tmemo[onePoints[i]] = '2';\n\t\t\t}else{\n\t\t\t\tmemo[onePoints[i]] = '3';\n\t\t\t}\n\t\t\t */\n\t\t\t\n//\t\t\tmemo[onePoints[i]] = max(color[0],color[1],color[2]);\n\t\t\tvector<char> list;\n\t\t\tif(memo[onePoints[i]] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[onePoints[i]] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[onePoints[i]] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[10001]={};\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tint size = memo.size();\n\t\t\t\tanswer = min(answer,size);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tcout << answer << endl;\n\t\t\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <list>\n#include <map>\n#include <set>\n#include <deque>\n#include <stack>\n#include <queue>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <string>\n#include <cstring>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define lgt\t\t\tlength()\n#define rep(i,n)\tfor (int i = 0; i < n; i++)\n#define ALL(X)\t\t(X).begin(),(X).end()\n#define RALL(X)\t\t(X).rbegin(),(X).rend()\n#define pb\t\t\tpush_back\n#define SORT(a)\t\tsort(ALL(a));\n#define RSORT(a)\tsort(RALL(a));\n#define mp\t\t\tmake_pair\n#define dump(x)\t\tcerr<<#x<<\" = \"<<(x)<<endl;\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\ntypedef vector<int> vi;\ntypedef vector<string> vs;\n\nint toInt(string s){int v;istringstream sin(s);sin>>v;return v;}\ntemplate<class T> inline string toString(T x) {ostringstream sout;sout<<x;return sout.str();}\nvs form(string a,char s){vs v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(b);b=\"\";}else b+=a[i];}v.pb(b);return v;}\nvi formint(string a,char s){vi v;string b;rep(i,a.lgt){if(a[i]==s){v.pb(toInt(b));b=\"\";}else b+=a[i];}v.pb(toInt(b));return v;}\n\nconst double EPS=1e-10,PI=acos(-1.0);\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n//\t\t\t\tcout << \"*\" << prev << \" \" << num << endl;\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < n - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= v.sz){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres++;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int, int> P;\nint N;\n\nint main() {\n  while (cin >> N) {\n    if (N == 0) break;\n    vector<P> v;\n    v.push_back(P(0, 0));\n\n    int lc = -1;\n    for (int i=0; i<N; i++) {\n      int c;\n      cin >> c;\n      if (c != lc) {\n        v.push_back(P(c, 0));\n        lc = c;\n      }\n      v[v.size()-1].second++;\n    }\n    v.push_back(P(0, 0));\n\n    int L = v.size();\n    int A = 0;\n    for (int i=1; i<L-1; i++) {\n      int c = v[i].first;\n      for (int nc=1; nc<=3; nc++) {\n        if (nc == c) continue;\n\n        if (v[i].second == 1) {\n          int l = i, r = i, s = 1;\n          if (v[l-1].first == nc) l--, s+=v[l].second;\n          if (v[r+1].first == nc) r++, s+=v[r].second;\n          if (s >= 4) {\n            A = max(A, s);\n            while (v[l-1].first == v[r+1].first && v[l-1].second + v[r+1].second >= 4) {\n              l--, r++;\n              s += v[l].second + v[r].second;\n              A = max(A, s);\n            }\n          }\n        }\n        else {\n          int l = i, r = i;\n          for (int k=0; k<2; k++) {\n            int s = 1;\n            vector<P> g(v.size()+1);\n            for (int j=0; j<v.size(); j++) {\n              if (j < i) g[j]   = v[j];\n              if (j > i) g[j+1] = v[j];\n\n              if (j == i) {\n                if (k == 0) {\n                  g[i] = P(nc, 1);\n                  g[i+1] = P(v[i].first, v[i].second-1);\n                }\n                if (k == 1) {\n                  l = i+1, r = i+1;\n                  g[i] = P(v[i].first, v[i].second-1);\n                  g[i+1] = P(nc, 1);\n                }\n              }\n            }\n            if (g[l-1].first == nc) l--, s+=g[l].second;\n            if (g[r+1].first == nc) r++, s+=g[r].second;\n            if (s >= 4) {\n              A = max(A, s);\n              while (g[l-1].first == g[r+1].first && g[l-1].second + g[r+1].second >= 4) {\n                l--, r++;\n                s += g[l].second + g[r].second;\n                A = max(A, s);\n              }\n            }\n          }\n        }\n      }\n    }\n    cout << N - A << \"\\n\";\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\nusing namespace std;\nint main(void){\n    int n,i,i2,a[10000],b[10000],cmb,cmbc,ans,nkr,tf,cnt;\n    cin>>n;\n    while(n!=0){\n        ans=n;\n        for(i=0;i<n;i++){\n            cin>>a[i];\n        }\n        for(int I=0;I<n*2;I++){\n            for(i=0;i<n;i++)b[i]=a[i];\n            if(I%2==0){\n                if(b[I/2]==3)b[I/2]=1;\n                else b[I/2]++;\n            }\n            else{\n                if(b[I/2]==1)b[I/2]=3;\n                else b[I/2]--;\n            }\n            nkr=n;\n            //?¶????????????¨????????????????????§\n            do{\n                //??????????????§??????\n                tf=0;\n                cmb=1;\n                cmbc=b[0];\n                for(i=1;i<n;i++){\n                    if(b[i]==0)continue;\n                    if(cmbc==b[i]){\n                        cmb++;\n                    }\n                    else{\n                        if(cmb>=4){\n                            tf=1;\n                            break;\n                        }\n                        else{\n                            cmb=1;\n                            cmbc=b[i];\n                        }\n                    }\n                }\n                //?????????????¶?????????´???\n                if(tf==1){\n                    /*for(i2=0;i2<n;i2++)cout<<b[i2]<<' ';\n                    cout<<endl;*/\n                    cnt=0;\n                    for(i2=i-cmb;i2<n;i2++){\n                        if(b[i2]!=0){\n                            b[i2]=0;\n                            cnt++;\n                        }\n                        if(cnt>=cmb)break;\n                    }\n                    nkr-=cmb;\n                    //cout<<nkr<<endl;\n                }\n            }while(tf!=0);\n            if(ans>nkr)ans=nkr;\n        }\n        cout<<ans<<endl;\n        cin>>n;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<=1)break;\n    for(;d[k]==d[k+1];k++)if(k>=n)break;//printf(\"%d %d\\n\",j,k);\n    if(k-j<3+c)break;\n    if(d[j-1]==d[k+1]){\n      if(j>1)j--;\n      if(k<n)k++;\n      c=k-j+1;\n    }\n    else break;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,max,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+1]);\n    }\n    max=0;\n    if(n>3){\n      for(i=1;i<=n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}\n\t  "
  },
  {
    "language": "C++",
    "code": "//シュミレーション(オンラインジャッジではTLEになる)\n#include<stdio.h>\n\nchar d[10000];\t//最初のデータ\nchar c[10000];\n\nvoid memcpy(char *Dist,char *Src,int size){\n\tfor(int i = 0;i < size;i++)\n\t{\n\t\tDist[i] = Src[i];\n\t}\n}\n\nint Solve(int N){\n\tint i,j,k,l;\n\tint ans = 10000;\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tscanf(\"%d\",d+i);\n\t}\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tfor(j = 1;j < 4;j++)\n\t\t{\n\t\t\tif(d[i] == j)\n\t\t\t\tcontinue;\n\t\t\t//コピー\n\t\t\tmemcpy( c , d , N);\n\t\t\tc[i] = j;\n\n\t\t\tint now = N;\n\t\t\tbool lensa;\n\n\t\t\tdo{\n\t\t\t\tlensa = false;\n\t\t\t\tfor(k = 0;k < N;k++)\n\t\t\t\t{\n\t\t\t\t\tif(c[k] == 0)\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tint cnt = 0;\n\t\t\t\t\tfor(l = k; l < N;l++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(c[k] == c[l])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(c[l] != 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt > 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tlensa = true;\n\t\t\t\t\t\tfor( int x = k; x < l;x++)\n\t\t\t\t\t\t\tc[x] = 0;\n\t\t\t\t\t\tnow -= cnt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}while(lensa);\n\n\t\t\tif(ans > now){\n\t\t\t\t//printf(\"%d\\n\",now);\n\t\t\t\tans = now;\n\t\t\t}\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint i;\n\tint N;\n\tint ans[100];\n\tfor(i = 0; scanf(\"%d\",&N) ;i++){\n\t\tif(N == 0)\n\t\t\tbreak;\n\t\tans[i] = Solve(N);\n\t}\n\tfor(int j = 0;j < i;j++){\n\t\tprintf(\"%d\\n\",ans[j]);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(vector<Pair> v)\n{\n\t// 関数を実行するたびに宣言するとメモリが足りなくなるので静的に用意する\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(vector<int> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(vector<Pair> v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\t\t\t\tif(!((i > 0 && chain[i-1] == color) ||\n\t\t\t\t\t\t (i + 1 < N && chain[i+1] == color))) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\n\nint rensa(string str){\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2] \n       && str[i+2] == str[i+3]){\n      int r = i+3;\n      while(str[i] == str[r] && r < str.size())r++;\n      str = str.substr(0,i) + str.substr(r,str.size()-r);\n      i = 0;\n    }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n\n  while( cin >> n,n){\n    string cha = \"\";\n    for(int i = 0 ; i < n ; i++ ){\n      cin >> ch;\n      cha+=ch;  \n    }\n    int ret = cha.size();\n    for(int i = 0 ; i < cha.size() ; i++ ){\n      string tmp = cha;\n      if(0 <= i && i < cha.size()-1){\n\n\ttmp[i] = cha[i+1];\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] && l >= 1){\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r] && r <= tmp.size()-1){\n\t  r++;\n\t}\n\tif(3<=r-l){\n\n\t  /*\tcout << \" a \" << endl;\n\t  cout << i << endl;\n\t  cout << l << ' ' << r << endl;\n\t  cout << tmp << endl;*/\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n      tmp = cha;\n      if(1<= i && i < cha.size()){\n\ttmp[i] = cha[i-1];\n\n\tint l,r;\n\tl = r = i;\n\twhile(tmp[l-1] == tmp[l] && l >= 1){\n\t  l--;\n\t}\n\twhile(tmp[r+1] == tmp[r] && r <= tmp.size()-1){\n\t  r++;\n\t}\n\n\tif(3 <= r-l ){\n\t  /*\tcout << \" b \" << endl;\n\tcout << l << ' ' << r << endl;\n\tcout << tmp << endl;*/\n\t  ret =  min(ret,rensa(tmp));\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstatic const int MAX_N = 10000;\n\nint N;\nint a[MAX_N];\n\nint main(){\n\tfor(;;){\n\t\tscanf(\"%d\", &N);\n\t\tif(N == 0) break;\n\t\tfor(int i = 0; i < N; i++) scanf(\"%d\", &a[i]);\n\t\tint res = N;\n\t\tfor(int i = 0; i < N; i++){\n\t\t\tint bf = a[i];\n\t\t\tfor(int j = 1; j <= 3; j++){\n\t\t\t\tif(j == a[i]) continue;\n\t\t\t\ta[i] = j;\n\t\t\t\tint num_vanish = 0;\n\t\t\t\tint prev = i, next = i;\n\t\t\t\tfor(;;){\n\t\t\t\t\tint cnt;\n\t\t\t\t\tif(prev == i && next == i) cnt = 1;\n\t\t\t\t\telse cnt = 2;\n\t\t\t\t\twhile(prev > 0 && a[prev - 1] == a[prev]){\n\t\t\t\t\t\tprev--;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t\twhile(next < N - 1 && a[next + 1] == a[next]){\n\t\t\t\t\t\tnext++;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt < 4) break;\n\t\t\t\t\tnum_vanish += cnt;\n\t\t\t\t\tprev--; next++;\n\t\t\t\t\tif(a[prev] != a[next]) break;\n\t\t\t\t}\n\t\t\t\tres = min(res, N - num_vanish);\n\t\t\t}\n\t\t\ta[i] = bf;\n\t\t}\n\t\tprintf(\"%d\\n\", res);\n\t}\n\treturn 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define FOR(i,a,b) for(int i=(a);i<(b);i++)\n#define RFOR(i,a,b) for(int i=(b) - 1;i>=(a);i--)\n#define REP(i,n) for(int i=0;i<(n);i++)\n#define RREP(i,n) for(int i=n-1;i>=0;i--)\n\n#define PB push_back\n#define INF (1<<29)\n#define ALL(a) (a).begin(),(a).end()\n#define RALL(a) (a).rbegin(),(a).rend()\n#define CLR(a) memset(a,0,sizeof(a))\nconst int dx[] = {-1,0,0,1},dy[] = {0,1,-1,0};\n\ntypedef long long int ll;\n\nusing namespace std;\n\nint main(){\n    while(true){\n\tint n;\n\tcin >> n;\n\tif(n==0)break;\n\tvector<int> v(n);\n\tstring s = \"\";\n\tREP(i,n){\n\t    cin >> v[i];\n\t}\n\tvector< pair<int,int> > pv;\n\tREP(i,n){\n\t    int tv = v[i];\n\t    int count = 0;\n\t    while(tv==v[i]){\n\t\tcount++;\n\t\ti++;\n\t    }\n\t    i--;\n\t    pv.PB( pair<int,int>(tv,count));\n\t}\n\tint ans = 100000000;\n\tREP(i,pv.size()) cout << pv[i].first << \" \" << pv[i].second<< endl;\n\tREP(i,pv.size()){\n\t    FOR(j,1,4){\n\t\tint ltemp = -1;\n\t\tint rtemp = 1;\n\t\tint color = j;\n\t\twhile(true){\n\t\t    int sum = 1;\n\t\t    if(ltemp+i >= 0 && color == pv[i+ltemp].first){\n\t\t\tsum += pv[i+ltemp].second;\n\t\t    }\n\t\t    if(rtemp+i < pv.size() && color == pv[i+rtemp].first){\n\t\t\tsum += pv[i+rtemp].second;\n\t\t    }\n\t\t    if(sum <= 3){\n\t\t\tint tans = 0;\n\t\t\tif(ltemp == -1 && rtemp == 1) tans += pv[i].second;\n\t\t\tREP(k,i+ltemp+1) tans += pv[k].second;\n\t\t\tFOR(k,i+rtemp,pv.size()) tans += pv[k].second;\n\t\t\tans = min(ans,tans);\n\t\t\tbreak;\n\t\t    }else{\n\t\t\tif(color == pv[i+ltemp].first) ltemp--;\n\t\t\tif(color == pv[i+rtemp].first) rtemp++;\n\t\t    }\n\t\t    if(i+ltemp>=0){\n\t\t\tcolor = pv[i+ltemp].first;\n\t\t    }else if(i+rtemp<pv.size()){\n\t\t\tcolor = pv[i+rtemp].first;\n\t\t    }\n\t\t}\n\t    }\n\t}\n\tcout << ans << endl;\n\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n\nint check(int *data,int  N);\nint change_data(int *data,int N,int x,int c);\n\nint main(void){\n\tint N,i,j,m,min=10001;\n\tint data[10005]={};\n\n\twhile(1){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0){break;}\n\t\tfor(i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t}\n\t\tfor(i=1;i<4;i++){\n\t\t\tfor(j=0;j<N;j++){\n\t\t\t\tm=change_data(&data[0],N,j,i);\n\t\t\t\tif(m<min){min=m;}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t\tmin=10001;\n\t}\n\treturn 0;\n}\n\nint change_data(int *data,int N,int x,int c){\n\tint i,temp[10005]={};\n\tfor(i=0;i<N;i++){temp[i]=*(data+i);}\n\ttemp[x]=c;\n   return check(&temp[0],N);\n}\nint check(int *data,int N){\n\tint i,j,c=0,p=0,temp[10005]={};\n\tfor(i=0;i<N;i++){\n\t\tj=i+1;\n\t\twhile(*(data+i)==*(data+j)){\n\t\t\tj++;\n\t\t}\n\t\tif((j-i)>=4){i=j;c++;}\n\t\ttemp[p]=*(data+i);\n\t\tp++;\n\t}\n\n\tif(c!=0){p=check(&temp[0],p);}\n\treturn p;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\nint s = 0;\npair<int, int> color[2][20000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[100];\n\nvoid check(int bb, int ss)\n{\n\tint count[3] = { 0, 0, 0 };//全体、左、右\n\twhile (bb + count[0] < n&&color[1][bb].second == color[1][bb + count[0]].second)\n\t{\n\t\tcolor[1][bb + count[0]].first = 0;\n\t\tcount[0]++;\n\t}\n\t//ここまで一回目\n\tfor (int i = 0;; i++)\n\t{\n\t\twhile (bb - count[1] >= 1 && color[1][bb - 1].second == color[1][bb - 1 - count[1]].second)\n\t\t{\n\t\t\tcount[1]++;\n\t\t}\n\t\twhile (bb + count[0] + count[2] < n&&color[1][bb - 1].second == color[1][bb + count[0] + count[2]].second)\n\t\t{\n\t\t\tcount[2]++;\n\t\t}\n\t\tif (count[1] + count[2] >= 4)\n\t\t{\n\t\t\tfor (int x = 0; x < count[1]; x++)\n\t\t\t{\n\t\t\t\tcolor[1][bb - 1 - x].first = 0;\n\t\t\t}\n\t\t\tfor (int x = 0; x < count[2]; x++)\n\t\t\t{\n\t\t\t\tcolor[1][bb + count[0] + x].first = 0;\n\t\t\t}\n\t\t\tcount[0] += count[1] + count[2];\n\t\t\tbb -= count[1];\n\t\t\tcount[1] = 0;\n\t\t\tcount[2] = 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tresult[ss] = min(result[ss], n - count[0]);\n}\n\nint main()\n{\n\tfor (;; s++)\n\t{\n\t\tcin >> n;\n\n\t\tif (n == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\tfor (int a = 0; a < 10000; a++)\n\t\t{\n\t\t\tcolor[0][a].first = 1;\n\t\t}\n\n\t\tresult[s] = n;\n\n\t\tfor (int a = 0; a < n; a++)\n\t\t{\n\t\t\tcin >> color[0][a].second;\n\t\t}\n\n\t\tfor (a = 0; a < n-3; a++)\n\t\t{\n\t\t\tfor (; b < n - 3; b++)\n\t\t\t{\n\t\t\t\tlost[0] = 0;\n\t\t\t\tfor (int t = 0; t < n; t++)\n\t\t\t\t{\n\t\t\t\t\tcolor[1][t] = color[0][t];\n\t\t\t\t}\n\t\t\t\tif (color[1][b] == color[1][b + 1] && color[1][b + 1] == color[1][b + 2])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 3] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[1][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 2] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t\t{\n\t\t\t\t\tcolor[1][b + 1] = color[1][b];\n\t\t\t\t\tcheck(b, s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int t = 0; t < s; t++)\n\t{\n\t\tcout << result[t] << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(vector<Pair> v)\n{\n\t// 関数を実行するたびに宣言するとメモリが足りなくなるので静的に用意する\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(vector<int> v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(vector<Pair> v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\t\t\t\tif(!((i > 0 && chain[i-1] == color) ||\n\t\t\t\t\t\t (i + 1 < N && chain[i+1] == color))) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\twhile(true){\n\t\tint n, a, b, ans = 1000000, puyo[10000];\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tint  sum = 0, sub = n;\n\t\t\ta = b = i;\n\t\t\t\n\t\t\twhile(puyo[--a] == puyo[++b]){\n\t\t\t\tfor(int j = a; j < n; j--){\n\t\t\t\t\tif(puyo[j] != puyo[j - 1]){\n\t\t\t\t\t\ta = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = b; j < n; j++){\n\t\t\t\t\tif(puyo[j] != puyo[j + 1]){\n\t\t\t\t\t\tb = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsum = b - a + 1 - sum;\n\t\t\t\tif(sum >= 4){\n\t\t\t\t\tsub -= b - a + 1;\n\t\t\t\t} else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<int> color(n);\n        for(int i=0; i<n; ++i)\n            cin >> color[i];\n\n        if(n == 4){\n            if(color[1] == color[2] && (color[0] == color[1] || color[1] == color[2]))\n                cout << 0 << endl;\n            else\n                cout << 4 << endl;\n            continue;\n        }\n\n        int ret = n;\n        for(int i=0; i<n; ++i){\n            int j = i-1;\n            int k = i+1;\n            while(j >= 0 && k < n){\n                if(color[j] != color[k])\n                    break;\n                int j1 = j;\n                while(j1 >= 0 && color[j1] == color[j])\n                    -- j1;\n                int k1 = k;\n                while(k1 < n && color[k1] == color[k])\n                    ++ k1;\n                int num = j - j1 + k1 - k;\n                if(k - j == 2)\n                    ++ num;\n                if(num < 4)\n                    break;\n                j = j1;\n                k = k1;\n                ret = min(ret, j+1 + n-k);\n            }\n        }\n\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n    res = 0;\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n\tif(round > 0) break;\n      }\n    }\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n\tif(round > 0) break;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = INF;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n      for(int color=1;color<=3;color++){\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "\n#include<iostream>\n#include<climits>\nusing namespace std;\n\nint check(int c[],int N)\n{\n  bool f=1;\n  int cnt,i,j;\n  while(f){\n    f=0;\n    cnt=1;\n    for(i=1;i<N;i++){\n      if(c[i]==c[i-1]){\n\tcnt++;\n      }else if(cnt<4){\n\tcnt=1;\n      }else{\n\tf=1;\n\tN-=cnt;\n\tfor(j=i-cnt;j<N;j++)c[j]=c[j+cnt];\n\tbreak;\n      }\n    }\n  }\n  return N;\n}\n\nint main()\n{\n  int N,i,j,k,c[1000],t;\n  int min,rest;\n  while(cin>>N,N){\n    for(i=0;i<N;i++)scanf(\"%d\",c+i);\n    min=INT_MAX;\n    for(i=0;i<N;i++){\n      for(j=1;j<=3;j++){\n\tif(c[i]==j)continue;\n\tt=c[i];c[i]=j;\n\trest=check(c,N);\n\tc[i]=t;\n\tif(min>rest)min=rest;\n      }\n    }\n    printf(\"%d\\n\",min);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <vector>\n#include <list>\n#include <string>\n#include <set>\n#include <map>\n#include <queue>\n#include <stack>\n#include <algorithm>\n#include <iostream>\n#include <sstream>\nusing namespace std;\n\ntypedef long long int64;\nconst int inf = (int)1e9;\n\nint calc(int it1, int it2, vector<pair<int, int> > &b, vector<int> &sum, int n)\n{\n\twhile(it1 >= 0 && it2 < b.size()) {\n\t\tif(b[it1].second <= 0) {\n\t\t\tit1 -= 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif(b[it2].second <= 0) {\n\t\t\tit2 += 1;\n\t\t\tcontinue;\n\t\t}\n\t\tif(b[it1].first != b[it2].first || b[it1].second + b[it2].second < 4) \n\t\t\tbreak;\n\t\tit1 -= 1, it2 += 1;\n\t}\n\t\t\t\t\n\tint score = n - (sum[it2 - 1] - sum[it1]);\n\treturn score;\n}\n\nint main()\n{\n\twhile(true) {\n\t\t\n\t\tint n;\n\t\tvector<pair<int, int> > b;\n\t\tvector<int> sum;\n\t\tint prev = -1;\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif(n == 0)\n\t\t\tbreak;\n\t\tb.reserve(n);\n\t\tfor(int i = 0; i < n; ++i) {\n\t\t\tint t;\n\t\t\tscanf(\"%d\", &t);\n\t\t\tif(prev != t)\n\t\t\t\tb.push_back(make_pair(t, 1));\n\t\t\telse\n\t\t\t\tb[b.size() - 1].second += 1;\n\t\t\tprev = t;\n\t\t}\n\t\tsum.resize(b.size(), 0);\n\t\tsum[0] = b[0].second;\n\t\tfor(int i = 1; i < sum.size(); ++i)\n\t\t\tsum[i] = sum[i - 1] + b[i].second;\n\t\t\n\t\tint ans = n;\n\t\t\n\t\tfor(int start = 0; start < b.size(); ++start) {\n\t\t\t\n\t\t\tb[start].second -= 1;\n\t\t\t\n\t\t\tif(start > 0 && b[start - 1].second >= 3) {\n\t\t\t\tint it1 = start - 2, it2 = start;\n\t\t\t\tint score = calc(it1, it2, b, sum, n);\n\t\t\t\tans = min(score, ans);\n\t\t\t}\n\t\t\t\n\t\t\tif(start < b.size() - 1 && b[start + 1].second >= 3) {\n\t\t\t\tint it1 = start, it2 = start + 2;\n\t\t\t\tint score = calc(it1, it2, b, sum, n);\n\t\t\t\tans = min(score, ans);\n\t\t\t}\n\t\t\t\n\t\t\tif(start > 0 && start < b.size() - 1 && b[start].second == 0 && \n\t\t\t\tb[start - 1].first == b[start + 1].first &&\n\t\t\t\tb[start - 1].second + b[start + 1].second >= 3) {\n\t\t\t\tint it1 = start - 2, it2 = start + 2;\n\t\t\t\tint score = calc(it1, it2, b, sum, n);\n\t\t\t\tans = min(score, ans);\n\t\t\t}\n\t\t\t\n\t\t\tb[start].second += 1;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn 0;\n}\n\n/* ハラスメントに負けず */\n/* 0完太陽にも負けず */\n/* はやく人権を獲得したい */\n/* nullmineralが書きましたが */\n/* 責任はまったくとりません */"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef tuple<int, int> duo;\nconst int dx[] = {0, 0, 1, -1, 1, 1, -1, -1};\nconst int dy[] = {1, -1, 0, 0, 1, -1, 1, -1};\nconst int Mod = 1000000000 + 0;\n//{{{ templates\n#define TT_ template<typename T>inline\n#define TTF_ template<typename T,typename F>inline\nTT_ T sq(T x){return x*x;}\nTT_ T In(){T x;cin>>x;return x;}\nTT_ void Out(T&x){cout<<x;}\nTT_ void sort(T&v){sort(begin(v),end(v));}\nTT_ void revs(T&v){reverse(begin(v),end(v));}\nTT_ void uniq(T&v){sort(v);v.erase(unique(begin(v),end(v)),end(v));}\nTT_ int ubnd(T&v,typename T::value_type x){return upper_bound(begin(v),end(v),x)-begin(v);}\nTT_ int lbnd(T&v,typename T::value_type x){return lower_bound(begin(v),end(v),x)-begin(v);}\nTTF_ void inpt(T&v,int n,F f){for(v.reserve(n);n--;v.emplace_back(f()));}\nTTF_ void show(T&v,F f,string d=\" \",string e=\"\\n\"){int i=0;for(auto&x:v)i++&&(cout<<d),f(x);cout<<e;}\nTT_ typename T::iterator minel(T&v){return min_element(begin(v),end(v));}\nTT_ typename T::iterator maxel(T&v){return max_element(begin(v),end(v));}\n\ninline void fast_io(){ios_base::sync_with_stdio(0);cin.tie(0);}\ninline int in(){int x;scanf(\"%d\",&x);return x;}\ninline ll pow_mod(ll a,ll k,ll m){ll r=1;for(;k>0;a=a*a%m,k>>=1)if(k&1)r=r*a%m;return r;}\ninline ll mod_inv(ll a,ll p){return pow_mod(a,p-2,p);}\n//}}} priority_queue queue deque front stringstream max_element min_element insert count make_tuple\n\nvector<duo> RLE(const vector<int>& x){\n  vector<duo> rle;\n  for (auto s = begin(x); s != end(x);){\n    auto sc = s;\n    while (s != end(x) && *sc == *s) ++s;\n    rle.emplace_back(*sc, s - sc);\n  }\n  return rle;\n}\n\nint solve(const vector<duo>& rle, int it, bool b)\n{\n  const int N = rle.size();\n  stack<duo> st;\n  queue<duo> Q;\n  for (int i = 0; i <= it; i++) st.push(rle[i]);\n  if (b){\n    int t, c;\n    tie(t, c) = rle[it + 2];\n    Q.push(duo(t, c + 1));\n    for (int i = it + 3; i < N; i++) Q.push(rle[i]);\n  }\n  else {\n    int t, c;\n    tie(t, c) = rle[it];\n    Q.push(duo(t, 1));\n    tie(t, c) = rle[it + 1];\n    Q.push(duo(t, c - 1));\n    for (int i = it + 2; i < N; i++) Q.push(rle[i]);\n  }\n  int ans = 0;\n  while (!st.empty() && !Q.empty()){\n    int ts, cs;\n    int tq, cq;\n    tie(ts, cs) = st.top();\n    tie(tq, cq) = Q.front();\n    if (ts != tq) break;\n    if (cs + cq < 4) break;\n    ans += cs + cq;\n    st.pop();\n    Q.pop();\n  }\n  return ans;\n}\n\nint main()\n{\n  while (int N = in()){\n    vector<int> v;\n    inpt(v, N, in);\n    auto rle = RLE(v);\n    rle.emplace_back(-0xDEAD, -0xBEEF);\n    rle.emplace_back(-0xDEAD, -0xBEEF);\n    int maxi = 0;\n    for (int i = 0; i < rle.size() - 2; i++){\n      int t, c;\n      tie(t, c) = rle[i];\n      if (c == 3) maxi = max(maxi, solve(rle, i, false));\n      else {\n        int nt, nc;\n        int nnt, nnc;\n        tie(nt, nc) = rle[i + 1];\n        tie(nnt, nnc) = rle[i + 2];\n        if (nc != 1) continue;\n        if (t == nnt && c + nnc + 1 >= 4) maxi = max(maxi, solve(rle, i, true));\n      }\n    }\n    printf(\"%d\\n\", N - maxi);\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "//\n//  main.cpp\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main(){\t\n\twhile(1){\n\t\tint n;\n\t\tcin >> n;\n\t\tif(n == 0)break;\n\t\tstring array;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tchar input;\n//\t\t\tscanf(\"%c\\n\",&input);\n\t\t\tcin >> input;\n\t\t\tarray += input;\n\t\t}\n\n\t\tint answer = 10000000;\n\t\tvector<int> points;\n\t\tfor(int i=1;i<array.size()-1;i++){\n\t\t\tif(array[i-1] != array[i] || array[i+1] != array[i]){\n\t\t\t\tpoints.push_back(i);\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<points.size();i++){\n\t\t\tstring memo = array;\n\t\t\tvector<char> list;\n\t\t\tif(memo[points[i]] == '1'){\n\t\t\t\tlist.push_back('2');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else if(memo[points[i]] == '2'){\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('3');\n\t\t\t}else{\n\t\t\t\tlist.push_back('1');\n\t\t\t\tlist.push_back('2');\n\t\t\t}\n\t\t\t\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tmemo[points[i]] = list[k];\n\t\t\t\tbool isChanged = true;\n\t\t\t\tint continuity[10001];\n\t\t\t\tcontinuity[0] = 1;\n\t\t\t\twhile(isChanged){\n\t\t\t\t\tint Max = 1;\n\t\t\t\t\tint where = 0;\n\t\t\t\t\tfor(int j=1;j<memo.size();j++){\n\t\t\t\t\t\tif(memo[j-1] == memo[j]){\n\t\t\t\t\t\t\tcontinuity[j] = continuity[j-1] + 1;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcontinuity[j] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(Max != max(Max,continuity[j])){\n\t\t\t\t\t\t\twhere = j;\n\t\t\t\t\t\t\tMax = max(Max,continuity[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(Max >= 4){\n\t\t\t\t\t\tmemo.erase(memo.begin() + where - Max + 1,memo.begin() + where + 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(memo.size() == 0){\n\t\t\t\t\t\tisChanged = false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tanswer = min(answer,int(memo.size()));\n\t\t\t}\n\t\t}\n\t\tcout << answer << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n;\nchar chain[10000];\n\nint ccount(int a, int b, int cnt){\n\tif (chain[a] != chain[b])return cnt;\n\tint len = 0;\n\tint i, j;\n\tfor (i = a; i >= 0 && chain[a] == chain[i]; i--, len++);\n\tfor (j = b; j < n&&chain[b] == chain[j]; j++, len++);\n\tif (len < 4)return cnt;\n\tif (i == -1 || j == n)return cnt + len;\n\treturn ccount(i, j, cnt + len);\n}\n\nint main(){\n\twhile (scanf(\"%d\", &n), n){\n\t\tint ans = 0;\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tint d;\n\t\t\tscanf(\"%d\", &d);\n\t\t\tchain[i] = d;\n\t\t}\n\t\tfor (int i = 0; i < n; i++){\n\t\t\tchar def = chain[i];\n\t\t\tfor (int j = 1; j <= 3; j++){\n\t\t\t\tchain[i] = j;\n\t\t\t\tint s, g, cnt = 1;\n\t\t\t\tfor (s = i - 1; s >= 0 && chain[s] == chain[i]; s--, cnt++);\n\t\t\t\tfor (g = i + 1; g < n&&chain[g] == chain[i]; g++, cnt++);\n\t\t\t\tif (cnt >= 4){\n\t\t\t\t\tif (s == -1 || g == n)ans = max(cnt, ans);\n\t\t\t\t\telse ans = max(ccount(s, g, cnt), ans);\n\t\t\t\t}\n\t\t\t}\n\t\t\tchain[i] = def;\n\t\t}\n\t\tprintf(\"%d\\n\", n - ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k++)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 最初から探索し直す\n\t\t\t\t\tk = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 0以外の最小値を探す\n\t\t\tif (search.size() != 0)\n\t\t\t{\n\t\t\t\tans = min(ans , (int)search.size());\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2, v3;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2-1);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i][0]=0;\n\t\t\tsave[i]=0;\n\t\t}\n\t\t//list[0]=0;\n\t\t//list[1]=0;\n\t\t//list[2]=0;\n\t\t//list[3]=0;\n\t\tans=INF;\n\t\tv1=v3;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n    res = 0;\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\ti--;\n\tupdate = true;\n      }\n    }\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = INF;\n    for(int i=0;i<stage.size();i++){\n      if(stage[i].size != 1) continue;\n\n\n      for(int color=1;color<=3;color++){\n\tif(stage[i].color == color) continue;\n\n\tdeque<Block> tmp = stage;\n\ttmp[i].color = color;\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <sstream>\n#include <iomanip>\n#include <algorithm>\n#include <cmath>\n#include <string>\n#include <vector>\n#include <list>\n#include <queue>\n#include <stack>\n#include <set>\n#include <map>\n#include <bitset>\n#include <numeric>\n#include <climits>\n#include <cfloat>\nusing namespace std;\n\nint main()\n{\n    for(;;){\n        int n;\n        cin >> n;\n        if(n == 0)\n            return 0;\n\n        vector<int> color(n);\n        for(int i=0; i<n; ++i)\n            cin >> color[i];\n\n        int ret = n;\n        for(int i=0; i<n; ++i){\n            int j = i-1;\n            int k = i+1;\n            while(j > 0 && k < n){\n                if(color[j] != color[k])\n                    break;\n                int j1 = j;\n                while(j1 > 0 && color[j1] == color[j])\n                    -- j1;\n                int k1 = k;\n                while(k1 < n && color[k1] == color[k])\n                    ++ k1;\n                int num = j - j1 + k1 - k;\n                if(num < 4)\n                    break;\n                j = j1;\n                k = k1;\n                ret = min(ret, j+1 + n-k);\n            }\n        }\n\n        cout << ret << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nmain(){\nwhile(true){\nint x[15000],n,i,j,k,l,m,y[15000],b,c,d,p[15000],minx;\nscanf(\"%d\", &n);\nif(n==0){break;}\nfor(i=0;i<n;i++){scanf(\"%d\", &y[i]);p[i] = x[i] = y[i];}\nc=0;d=0;m=n;d=m;\nminx=99999;\nfor(i=0;i<n;i++){\nfor(j=1;j<=3;j++){\nif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){goto z;}\np[i] = x[i] = j;\nb=1;d=n;\nwhile(true){c=0;\nfor(k=0;k<m;k++){\nif(p[k]==p[k+1]){b++;}\nelse{\nif(b >= 4){\nfor(l = k + 1; l < m; l++){p[l-b] = p[l];}\nd -= b;c++;\nfor(l=d;l<m;l++){p[l]=0;}\n}\nb=1;}   \nm=d;}\nif(c==0){break;}\nelse{c=0;}\n}\nminx=std::min(minx,m);x[i]=y[i];\nfor(int k=0;k<n;k++){p[k]=y[k];}\nz:;\n}\n}\nprintf(\"%d\\n\", minx);}\n}"
  },
  {
    "language": "C++",
    "code": "//\n//\n//  Codeforces: ganariya\n//  AtCoder: ganariya2525\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMHBYYYWMMMM#BYYTTTYWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMB9O1==?????zzCC111>>;;;;;;;;;;;<?TMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMM9Olll=l======??????????>>>>>>;;;;;;;;;:;?TMMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMMMM9ttlllllllll=l=======?????????>>>>>>;;;;;;;;;;?TMMMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMMMBOttOtttttltlllllllll=======??????????>>>>>>>;;;;;;?TMMMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMMMBttwOtttttttttttttlllllllll========?????????>>>>>>;;;;;<TMMMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMMBrwZrttttttttttttttttttlllllllllll======???????????>>>>>>;;?HMMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMMSw0trtrrtrtrttrtttttttttttttlllOllllll========????<<zz??>>>>>>ZMMMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMMMX0ttrtrOOttrttrttOOttttttttttttltwllllllllll========??wy?????>>>vZMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMM0ttrI+wV1rtttttttwZtttttttltttOwylOXOllllllllllll=l====1dkz???????vZdMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMSrrwrtwZCjttttttttwSttOlllltllllwtXOlZkOlllllllllllllll==z+dk===?????X2JMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMBrtwwtrw0<jttttttttOXllOttltllttllOZwHOtXkyltlllllllllllllll<+XZ======?dk?JMMMMMMMMMMMM\n//  MMMMMMMMMMMMStwdZtwXC<+ttttttOOOd6ltZlltllllttllStWWOOHWytttttltltOllltllz:zHllll===zX=?dMMMMMMMMMMM\n//  MMMMMMMMMMBrwdKOtwW3;;zrttttwZwXRlldOllltltlltttwlXvktdXWytltttttttOttlttl<<dklllllllZ===dMMMMMMMMMM\n//  MMMMMMMMM8tQM#ttwW3;;;1trttwSwfUOlORltllltlllllldtX>dktDOWOtlttltttOOttltO<;+WOllllllXlllzMMMMMMMMMM\n//  MMMMMMMM9OdM#Ottd$;;;;;<?1z0OKjRltd0llltOllllllldZX>?WOw_WWOtttttttttOttI<;;<dkttttllllllldMMMMMMMMM\n//  MMMMMMM9wMMMSttwS<;;;;>;;;J<j>(I<?U111zltllllllld0X>~dkwl(WkttlttlOOwWk<;;:;;zHttttttwOllllMMMMMMMMM\n//  MMMMMMBdMMM8tttdI+zttttttdSXt~dlzXwlllzzOzzzzzlldkW<~?kOk~?sx++++jdHmH6+++<;;jdZtttttdkOtlldMMMMMMMM\n//  MMMMM#dMMM#tttw0+tttttttdKdf((RsdfRllllldZllltlldWK~~_W0w_~OWOlOdgg9ZtOWOtttz+wktttttdpktttwMMMMMMMM\n//  MMMMMWMMMMSlttdIttttttOdWHH>~(IzWDRll=llzRlllzlldk$>++dkd<~_XkdgH9tttttdktttt+OkrttrtdfpkttOMMMMMMMM\n//  MMMMNWMMM#Zttlk=tttttOXWWd$_.(IdW1R=llll=SlllzOldK<_._(kd6+-(MM9lltttttrWktttztWZttrwXppWttrMMMMMMMM\n//  MMMMNMMMM#lltwDzttllOXyW0X:..(OXk<Rl=ll=lwOlllOld3<``.(Rd>~?CdklllltttttXdXttzOWktrwwWpfpkrtMMMMMMMM\n//  MMMMMMMMM@ltldIzlttOXyW$w$```(OyD(Rl==llldZ=llIlw;~```-Xd:~~~~UkylltttAyHdgSrzObRtOXwpfppWrrMMMMMMMM\n//  MMMMMMMMM@llldtlllldVyW+d>```.wZ$ wl==lI=wRl=ll=w<```` dd_..~~(RZXOQdggHH9ZwrzwHWrdXXppfppkrMMMMMMMM\n//  MMMMMMMMM#llldlltlwyyyD(S-...,Wk] zI=l=llzWzl=l=P~```` jZ``...~zQkH@MBUtrZtrtldHRdSdpfpffpkwMMMMMMMM\n//  MMMMNMMMMNZllXtllldVyW3(Mf=<ONMHP~(k===l=zdk=lld3```...(C````..(M96lttttrrtrrtdHWHXpfpppfpRwMMMMMMMM\n//  MMMMMMMMMMNzzWZllzyyyy(W@`  =~MWK6 jz=lzlzvRz=lZ`.I+JgkWm&-. `..(ZltlttttrtttrWWHppfppfpppSdMMMMMMMM\n//  MMMMMMMMMMMkAWRllzVyyS_(b    .MNHU-(Uz=lI={XkzO>.dVT7<TMHMNHHx-.(kwZyltttrtrrdHHpfppfpffpp0dMMMMMMMM\n//  MMMMMMMMMMMMKyWzOzyyyk.`<!  hdWMH]``(S==t=l(kX2 ?_`    WMMHH#HH+.XwkwOttttrwrZ~(HfpfpppfpWwXMMMMMMMM\n//  MMMMMMMMMMMMMHWROOyyyW;` `. (WVM#b```(0=zzz wX!```  a.dM#NM@N(4WhXkXkWtttttwd3O_(HpffpfpfWwSMMMMMMMM\n//  MMMMMMMMMMMMNZvWzXXyyXP```-_ ?o+?!````.4=Z=`(:````  HpbNNMHHH (C=XXyWZWttrdwf:(>.dfppffppSXSMMMMMMMM\n//  MMMMMMMMMMMMMRzuHzXyZXH.``````````````` ?zz ``````` ZKvTHHbWt `` XZyyHZWOdSZ<::~`(fpfpfffXp0WMMMMMMM\n//  MMMMMMMMMMMMMKzyyHvyZZW____.`````````````.I_```````` ?nJzX7^````.WXWyyHyWKZ<:::_`Jffpfpfpfp0WMMMMMMM\n//  MMMMMMMMMMMMM@zZyZWwWyXo-_~(~ ```````````` `````````````` _`````.WXkyyVWmWc::<~ .HffppfffffkXMMMMMMM\n//  MMMMMMMMMMMMMKzZZZZXkUXr~....```````....```````````` ...  ````..JXWWyyW83vXx~..WfffVfWVffffkdMMMMMMM\n//  MMMMMMMMMMMMMRzZZZZZZZZb````````````<````````````./<~._<_.____`(WfdyW3<:~~(XWkVVVVVVVHVVVVV0dMMMMMMM\n//  MMMMMMMMMMMMMSzZZZZZZZWX-```````````````````````````.......~~._j9jX=_~~_(XZyVHHkyyyyWHyyykykOMMMMMMM\n//  MMMMMMMMMMMMMSzuuuuuZXWZW,```````````````````````````````.``..(3<! ...JWyyXWyyyWHkyyWHyyyHyklMMMMMMM\n//  MMMMMMMMMMMMNXzuuuXXuXSuuXh,```````` .... ```````````````````_~ .JWyyyyZyy0HyyZyyZyZXWZZZWHZIdMMMMMM\n//  MMMMMMMMMMMMNwtuuuXkuXXuuuuXh,``````(:::~<?71(,``````````````.(UMNUkZZZZZZZHZZ0ZZZZZWWZZZWNXIdMMMMMM\n//  MMMMMMMMMMMMNKOzuzXkuXuuuuuXuXW, ```` _~~~:~~(}```````````.(YC;::<kCfZZZZXO#ZZVZZZZZMZZuuMMNXzMMMMMM\n//  MMMMMMMMMMMMHKOzzuXkzdzzzzuXXzuuU&.``````````````````` .JY>::::;;J=:dZuZuZd#uuruuuud#uuuXMMMNXdMMMMM\n//  MMMMMMMMMMMMMNOvzzXkvMRzzzzXKzuzzzXh, `````````````..JC<;:;;:;;+7<:~(HHuXIdNuuzuuuXMSuuuWMMMMROMMMMM\n//  MMMMMMMMMMMMMNvvvrdkvM#vzzzzHzzzzzuzzUG. ``` ...JdY<:;:;:::;;+v<~~~:(HpHmzMNXZzuzzd#zzzdMMMMMMRdMMMM\n//  MMMMMMMMMMMMMNwrrvdRrMNwvvvvdRvvvzwkzzzzXWWHY=~~O+::::::::<+<~~~~~~~dppppWMMkZzzzwM#zzdMMMMMMMMNMMMM\n//  MMMMMMMMMMMMMM#rrrwRrMMbOrrOZNkrvvvXwvvvvvwX;.~._W_:::::(?!~~~~~~~~(HpppppppHWdvwM#XwdMMMMMMMMMMNMMM\n//  MMMMMMMMMMMMMMNyrrrRrWMMmzOrzdNyrrrZNvrwQWWfb....(r~~_J>_.....~.~~-dpfpffpfpppWHHMNdMMMMMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMNrtrStdMMMNxzrzMNmrrrdNWfVfffP._-.(~_J!............JpfpffpfpfffpppWNppppHMMMMMMMMMMMM\n//  MMMMMMMMMMMMMMMMNOtXtdMMMMMNxzZMMNmgHyVVVVVW%..?/(.,(x-..........(HfffpffpffpffWHHffpffppfVyyWMMMMMM\n\n\n//include\n//------------------------------------------\n#include <vector>\n#include <list>\n#include <map>\n#include <unordered_map>\n#include <climits>\n#include <set>\n#include <unordered_set>\n#include <deque>\n#include <stack>\n#include <bitset>\n#include <algorithm>\n#include <functional>\n#include <numeric>\n#include <utility>\n#include <sstream>\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cmath>\n#include <cstdlib>\n#include <cctype>\n#include <string>\n#include <cstring>\n#include <ctime>\n#include <queue>\n#include <random>\n#include <complex>\n#include <regex>\n#include <locale>\n#include <random>\n#include <type_traits>\n\nusing namespace std;\n\n#define SHOW_VECTOR(v) {std::cerr << #v << \"\\t:\";for(const auto& xxx : v){std::cerr << xxx << \" \";}std::cerr << \"\\n\";}\n#define SHOW_MAP(v){std::cerr << #v << endl; for(const auto& xxx: v){std::cerr << xxx.first << \" \" << xxx.second << \"\\n\";}}\n\nusing LL = long long;\n\n//~~~~~~~~~~~~~~~~~~~~~_(＾～＾ ｣ ∠)_~~~~~~~~~~~~~~~~~~~~~\n\nint main() {\n\n    while (true) {\n\n        int n;\n        cin >> n;\n\n        if (n == 0) break;\n\n        vector<int> a(n);\n        for (int i = 0; i < n; i++) scanf(\"%d\", &a[i]);\n\n        int ans = n;\n        for (int p = 0; p < n; p++) {\n            int ori = a[p];\n            for (int c = 1; c <= 3; c++) {\n                if (c == ori) continue;\n                int sum = 0;\n                a[p] = c;\n                int l = p, r = p;\n                while (l >= 0 && a[l] == c)l--;\n                while (r < n && a[r] == c) r++;\n                sum += p - l + r - p - 1;\n                if (sum <= 3) continue;\n                vector<pair<int, int>> left;\n                vector<pair<int, int>> right;\n                for (int i = l, j = l; i >= 0; i = j) {\n                    while (j >= 0 && a[i] == a[j]) j--;\n                    left.push_back(make_pair(a[i], i - j));\n                }\n                for (int i = r, j = r; i < n; i = j) {\n                    while (j < n && a[i] == a[j])j++;\n                    right.push_back(make_pair(a[i], j - i));\n                }\n                for (int i = 0; i < min(left.size(), right.size()); i++) {\n                    if (left[i].first != right[i].first) break;\n                    if (left[i].second + right[i].second <= 3) break;\n                    sum += left[i].second + right[i].second;\n                }\n                ans = min(ans, n - sum);\n            }\n            a[p] = ori;\n        }\n\n        cout << ans << endl;\n    }\n\n    return 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\npair<int,int> color[10000][10000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result[10000];\n\nvoid check(int aa, int bb)\n{\n\tlost[1] = lost[0];\n\tint count = 1;\n\tfor (int i = bb; i < n; i++)\n\t{\n\t\tif (color[aa][bb].second == color[aa][i].second)\n\t\t{\n\t\t\tcolor[aa][i].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse if (color[aa][bb].second == color[aa][i + lost[1]].second)\n\t\t{\n\t\t\tcolor[aa][i + lost[1]].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\t\t\n\tbb--;\n\n\tif (lost[0] != lost[1])\n\t{\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[aa][bb].second == color[aa][bb - 1].second)\n\t\t\t{\n\t\t\t\tbb--;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[aa][bb].second == color[aa][bb + count + lost[0]].second)\n\t\t\t{\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (count >= 4)\n\t\t{\n\t\t\tcheck(aa, bb);\n\t\t}\n\t}\n\tresult[aa] = n - lost[0];\n}\n\nint main()\n{\n\tcin >> n;\n\n\tfor (int a = 0; a < 10000; a++)\n\t{\n\t\tcolor[0][a].first = 1;\n\t\tresult[a] = n;\n\t}\n\n\tfor (int a = 0; a < n; a++)\n\t{\n\t\tcin >> color[0][a].second;\n\t\tfor (int b = 1; b < n; b++)\n\t\t{\n\t\t\tcolor[b][a] = color[0][a];\n\t\t}\n\t}\n\n\tfor (; a < n; a++)\n\t{\n\t\tlost[0] = 0;\n\t\tfor (; b < n - 3; b++)\n\t\t{\n\t\t\tif (color[a][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 2])\n\t\t\t{\n\t\t\t\tcolor[a][b + 4] = color[a][b];\n\t\t\t\tcheck(a, b);\n\t\t\t\tb += 4;\n\t\t\t}\n\t\t\telse if (color[a][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t{\n\t\t\t\tcolor[a][b + 2] = color[a][b];\n\t\t\t\tcheck(a, b);\n\t\t\t\tb += 4;\n\t\t\t}\n\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t{\n\t\t\t\tcolor[a][b + 1] = color[a][b];\n\t\t\t\tcheck(a, b);\n\t\t\t\tb += 4;\n\t\t\t}\n\t\t}\n\t}\n\n\tsort(result, result + n);\n\n\tcout << result[0] << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#include <vector>\nusing namespace std;\nint n,ans;\nint x[12000]={},y[12000];\nint searchplass(int now){\n\tint sum=1,last=now;\n\t/*x[now]が0以外の時のみ使う*/\n\tint m=x[now];\n\tfor(int i=now+1;i<11001;i++){\n\t\tif(x[i]==0){\n\t\t\tcontinue;\n\t\t}else if(m==x[i]){\n\t\t\tsum++;\n\t\t}else{\n\t\t\tlast=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(sum>=4){\n\t\tfor(int i=now;i<=last;i++){\n\t\t\tx[i]=0;\n\t\t}\n\t\treturn sum;\n\t}else{\n\t\treturn sum;\n\t}\n}\nint searchminass(int now){\n\tint sum=1,last=now;\n\t/*x[now]が0以外の時のみ使う*/\n\tint m=x[now];\n\tfor(int i=now-1;i>=0;i--){\n\t\tif(x[i]==0){\n\t\t\tcontinue;\n\t\t}else if(m==x[i]){\n\t\t\tsum++;\n\t\t}else{\n\t\t\tlast=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif(sum>=4){\n\t\tfor(int i=now;i>=last;i--){\n\t\t\tx[i]=0;\n\t\t}\n\t\treturn sum;\n\t}else{\n\t\treturn sum;\n\t}\n}\nint main(){\n\tint num=0,ans1,begin,end;\n\tscanf(\"%d\",&n);\n\tans1=n,ans=n;\n\tfor(int i=0;i<n;i++){\n\t\tint a;\n\t\tscanf(\"%d\",&a);\n\t\tx[1000+i]=a;\n\t\ty[1000+i]=a;\n\t}\n\tfor(int i=1000;i<1000+n;i++){\n\t\tfor(int j=1000;j<1000+n;j++){\n\t\t\tif(x[j]!=y[j]){\n\t\t\t\tx[j]=y[j];\n\t\t\t}\n\t\t}\n\t\tint z=x[i-1];\n\t\tfor(int j=i-2;j>=1000;j--){\n\t\t\tif(x[j]==z){\n\t\t\t\tnum++;\n\t\t\t}else{\n\t\t\t\tbegin=j+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor(int j=i+1;j<1000+n;j++){\n\t\t\tif(x[j]==z){\n\t\t\t\tnum++;\n\t\t\t}else{\n\t\t\t\tend=j-1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(num>=3){\n\t\t\tx[i]=z;\n\t\t\tfor(int k=begin;k<=end;k++){\n\t\t\t\tx[k]=0;\n\t\t\t}\n\t\t\tans-=(num+1);\n\t\t\tnum=0;\n\t\t\tint b,e;\n\t\twhile(x[begin-1]==x[end+1]){\n\t\t\tif(searchminass(begin-1)+searchplass(end+1)>=4){\n\t\t\t\tans-=(searchminass(begin-1)+searchplass(end+1));\n\t\t\t\tfor(int g=begin-2;;g--){\n\t\t\t\t\tif(x[begin-1]==x[g]){\n\t\t\t\t\t\tx[g]=0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tb=g;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor(int g=end+2;;g++){\n\t\t\t\t\tif(x[end+1]==x[g]){\n\t\t\t\t\t\tx[g]=0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\te=g;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tx[begin-1]=0;\n\t\t\t\tx[end+1]=0;\n\t\t\t\tbegin=b;\n\t\t\t\tend=e;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tans1=min(ans,ans1);\n\t}else{\n\t\tcontinue;\n\t\t}\n\t\tans=n;\n\t}\n\tprintf(\"%d\\n\",ans1);\n\tscanf(\"%d\",&ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct block{\n  int color, many;\n};\n\nint main()\n{\n  while(true){\n    int n;\n    cin >> n;\n    if(!n) break;\n    vector<block> line;\n    vector<block>::iterator p;\n    int max = 0;\n\n    for(int i = 0; i < n; i++){\n      int in;\n      cin >> in;\n      p = line.end() - 1;\n      if(!line.empty() && p->color == in){\n\tp->many++;\n      }\n      else{\n\tblock newblock = {in, 1};\n\tline.push_back(newblock);\n      }\n    }\n\n    //chain\n    vector<block>::iterator pp, pm;\n    for(p = line.begin() + 1; p != line.end() - 1; p++){\n      if(p->many == 1  && (p - 1)->color == (p + 1)->color && (p - 1)->many + (p + 1)->many >= 3){\n\tint chain = (p - 1)->many + (p + 1)->many + 1;\n\tpm = p - 1;\n\tpp = p + 1; \n\twhile(true){\n\t  pm--;\n\t  pp++;\n\t  if(pm != line.begin() - 1 && pp != line.end() && pp->color ==pm->color && pp->many + pm->many >= 4){\n\t    chain += pp->many + pm->many;\n\t  }\n\t  else{\n\t    max = (max < chain) ? chain : max;\n\t    break;\n\t  }\n\t}\n      }\n    }\n\n    cout << n - max << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <string.h>\nusing namespace std;\nint no[4][100001],color[100001];\nint n;\nvoid calc_color(int depth,int first_pos,int first_color,int l,int r,int curr_color){\n  int s1 = 0,s2 = 0;\n  for(;l > 0&& color[l] == curr_color ;l--,s1++);\n  for(;r <= n&& color[r] == curr_color ;r++,s2++);\n  int len = s1 + s2 + (depth == 0 ? 1:0); \n  if(4 <= len){\n\n    no[first_color][first_pos] += len;\n    if(color[l] == color[r]){\n      calc_color(depth+1,first_pos,first_color,l,r,color[l]);\n    }\n  }\n}\n\nint main(){\n\n  while( cin >> n,n ){\n    fill(color,color + 100001,-1 );\n\n    for(int i = 1 ; i <= n ; i++ ){\n      for(int j = 1 ; j <= 3 ; j++ ){\n\tno[j][i] = 0; \n      }\n    }\n    for(int i = 1 ; i <= n ; i++ ){\n      cin >> color[i];\n    }\n\n    for(int i = 1 ; i <= n ; i++ ){\n      for(int j = 1 ; j <= 3 ; j++ ){\n\tcalc_color(0,i,j,i-1,i+1,j);\n      }\n    }\n    int res = n;\n    for(int i = 1 ; i <= n ; i++ ){\n      for(int j = 1 ; j <= 3 ; j++ ){\n\tres = min(res,n-no[j][i]);\n      }\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nvector<pair<int,int>> tougou(vector<pair<int,int>> x){\n\tint siz=x.size();\n\tpair<int,int> p;\n\tp=x[0];\n\tvector<pair<int,int>> ans;\n\tfor(int i=1;i<siz;i++){\n\t\tif(p.first!=x[i].first){\n\t\t\tans.push_back(p);\n\t\t\tp=x[i];\n\t\t}\n\t\telse {\n\t\t\tp.second+=x[i].second;\n\t\t}\n\t}\n\tans.push_back(p);\n\treturn ans;\n}\n\nint solve(vector<pair<int,int>> x){\n\tvector<pair<int,int>> vp;\n\tint siz=x.size();\n\tbool update=false;\n\tfor(int i=0;i<siz;i++){\n\t\tif(x[i].second<4){\n\t\t\tvp.push_back(x[i]);\n\t\t}\n\t\telse update=true;\n\t}\n\tif(update)return solve(tougou(vp));\n\tsiz=vp.size();\n\tint ans=0;\n\tfor(int i=0;i<siz;i++){\n\t\tans+=vp[i].second;\n\t}\n\treturn ans;\n}\n\nint main(){\nwhile(1){\n\tint n,a,ans=100000;\n\tpair<int,int> p;\n\tp.second=1;\n\tvector<pair<int,int>> vp;\n\tscanf(\"%d\",&n);\n\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&p.first);\n\t\tvp.push_back(p);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tint sav=vp[i].first;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tvp[i].first=j;\n\t\t\tint an=solve(tougou(vp));\n\t\t\tif(an<ans)ans=an;\n\t\t}\n\t\tvp[i].first=sav;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\nreturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <vector>\n#include <stack>\n\nusing namespace std;\n\nvoid count(stack<int> *s) {\n    int find;\n    int times = 0;\n\n    if (s->empty()) return;\n\n    find = s->top();\n\n    while (!s->empty() && find == s->top()) {\n        times++;\n        s->pop();\n    }\n\n    if (times >= 4) return;\n\n    for(;times;times--) s->push(find);\n} \n\nint main() {\n    while (1) {\n        int i;\n        int n;\n        vector<int> characters;\n        vector<pair<int, int> > var;\n        int d[4];\n        int save;\n        int min_size;\n\n        scanf(\"%d\", &n);\n        if (n == 0) return 0;\n\n        min_size = n;\n\n        for (i=0;i<4;i++) d[i] = -1-i;\n\n        for (i=0;i<n;i++) {\n            int j;\n            int k;\n\n            scanf(\"%d\", &k);\n            k--;\n\n            characters.push_back(k);\n\n            for (j=0;j<3;j++) {\n                d[j] = d[j+1];\n            }\n\n            d[3] = k;\n\n            if (d[0] == d[1] && d[1] == d[2]) {\n                if (var.empty() || var.back() != make_pair(i, d[0]))\n                    var.push_back(make_pair(i, d[0]));\n            }\n\n            if (d[0] == d[1] && d[1] == d[3]) {\n                if (var.empty() || var.back() != make_pair(i-1, d[1]))\n                    var.push_back(make_pair(i-1, d[1]));\n            }\n\n            if (d[0] == d[2] && d[2] == d[3]) {\n                if (var.empty() || var.back() != make_pair(i-2, d[2]))\n                    var.push_back(make_pair(i-2, d[2]));\n            }\n\n            if (d[1] == d[2] && d[2] == d[3]) {\n                if (var.empty() || var.back() != make_pair(i-3, d[3]))\n                    var.push_back(make_pair(i-3, d[3]));\n            }\n        }\n\n        for (i=0;i<var.size();i++) {\n            int j;\n            stack<int> process;\n            int now_color = -1;\n\n            save = characters[var[i].first];\n            characters[var[i].first] = var[i].second;\n\n            for (j=0;j<characters.size();j++) {\n                int times;\n\n                if (characters[j] != now_color) {\n                    count(&process);\n                    now_color = characters[j];\n                }\n\n                process.push(characters[j]);\n            }\n\n            if (min_size > process.size()) min_size = process.size();\n            characters[var[i].first] = save;\n        }\n\n        printf(\"%d\\n\", min_size);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <list>\n#include <map>\n#include <string>\n#include <functional>\n#include <math.h>\n#include <utility>\n#define INF 100000000\nusing namespace std;\ntypedef pair<int,int> P;\nint N,ans;\nvector<int> vec,vec2,tmp;\nvoid deal(){\n\tint fir=0;\n\tint las=0;\n\tint color=0;\n\tbool update=true;\n\twhile(update){\n\t\tupdate=false;\n\t\tfor(int i=0;i<(int)tmp.size();i++){\n\t\t\tif(tmp[i]==color)continue;\n\t\t\tint count=i-fir;\n\t\t\tif(i-fir>=4){\t\t\n\t\t\t\twhile(count--)tmp.erase(fir+tmp.begin());\n\t\t\t\tupdate=true;\n\t\t\t}else{\n\t\t\t\tfir=i;color=tmp[i];\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\twhile(cin>>N&&N){\n\t\tvec.clear();vec2.clear();ans=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tint tmp;cin>>tmp;\n\t\t\tvec.push_back(tmp);\n\t\t}\n\t\tfor(int i=1;i<(int)vec.size()-1;i++){\n\t\t\tif(vec[i-1]==vec[i+1]&&vec[i-1]!=vec[i])vec2.push_back(i);\n\t\t}\n\t\tif(vec2.empty()){cout<<ans<<endl;continue;}\n\t\tfor(int i=0;i<(int)vec2.size();i++){\n\t\t\ttmp=vec;\n\t\t\ttmp[vec2[i]]=tmp[vec2[i]-1];\n\t\t\tdeal();\n\t\t\tans=min(ans,(int)tmp.size());\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<string>\n#include<algorithm>\t\n#include<map>\n#include<set>\n#include<utility>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<cstdio>\n#include<sstream>\n#include<iomanip>\n#define loop(i,a,b) for(int i=a;i<b;i++) \n#define rep(i,a) loop(i,0,a)\n#define pb push_back\n#define mp make_pair\n#define all(in) in.begin(),in.end()\n#define shosu(x) fixed<<setprecision(x)\nusing namespace std;\n//kaewasuretyuui\ntypedef long long ll;\ntypedef pair<int,int> pii;\ntypedef vector<int> vi;\ntypedef vector<vi> vvi;\ntypedef vector<pii> vp;\ntypedef vector<vp> vvp;\ntypedef pair<int,pii> pip;\ntypedef vector<pip>vip;\nconst double PI=acos(-1);\nconst double EPS=1e-8;\nconst int inf=1<<30;\n//aoj 0534\nvp tmp;\nint r,l,co;\nvoid f(){\n\twhile(1){\n\t\tif(r<0||l>=tmp.size())return;\n\t\tint t=tmp[r].second+tmp[l].second;\n\t\tif(tmp[r].first==tmp[l].first&&t>=4){\n\t\t\tco+=t;\n\t\t\tr--;l++;\n\t\t}else break;\n\t}\n}\nint main(){\n\tint n;\n\twhile(cin>>n,n){\n\t\tvi q(n);\n\t\tvp in;\n\t\trep(i,n)cin>>q[i];\n\t\tq.pb(0);\n\t\tloop(i,1,n+1){\n\t\t\tif(q[i]!=q[i-1]){\n\t\t\t\tin.pb(pii(q[i-1],co));\n\t\t\t\tco=1;\n\t\t\t}else co++;\n\t\t}\n\t\tint out=0;\n\t\trep(i,in.size())if(in[i].second==3){\n\t\t\tif(i){\n\t\t\t\ttmp=in;\n\t\t\t\ttmp[i-1].second--;\n\t\t\t\tr=i-1;l=i+1;\n\t\t\t\tco=4;\n\t\t\t\tif(tmp[i-1].second==0){\n\t\t\t\t\tr-=2;\n\t\t\t\t\tif(i>1)co+=tmp[i-2].second;\n\t\t\t\t}\n\t\t\t\tf();\n\t\t\t\tout=max(out,co);\n\t\t\t}\n\t\t\tif(i!=in.size()-1){\n\t\t\t\ttmp=in;\n\t\t\t\ttmp[i+1].second--;\n\t\t\t\tr=i-1;l=i+1;\n\t\t\t\tco=4;\n\t\t\t\tif(tmp[i+1].second==0){\n\t\t\t\t\tl+=2;\n\t\t\t\t\tif(i<in.size()-2)co+=tmp[i+2].second;\n\t\t\t\t}\n\t\t\t\tf();\n\t\t\t\tout=max(out,co);\n\t\t\t}\n\t\t}\n\t\tcout<<n-out<<endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\n\nint check(vector<int> ju){\n cont:\n  int color = ju[0],cnt = 1,tc = 0,place;\n  for(int i=1;i<ju.size();i++){\n    if(color != ju[i]){\n      color = ju[i]; tc = cnt; cnt = 1;\n    }\n    else if(color == ju[i]){\n      if(cnt == 1) place = i-1; \n      cnt++;\n    }\n    if(tc >= 4){\n      ju.erase(ju.begin() + place,ju.begin() + place + tc);\n      goto cont;\n    }\n  }\n  if(cnt >= 4) ju.erase(ju.begin() + place,ju.begin() + place + cnt);\n  return ju.size();\n}\n\nint main(){\n  int n;\n  while(cin >> n,n){\n    vector <int> v;\n    for(int i=0;i<n;i++){\n      int t; cin >> t; v.push_back(t);\n    }\n    int ans = (1 << 25),tmp;\n    for(int i=0;i<n;i++){\n      for(int j=1;j<=3;j++){\n\tif(j != v[i]){\n\t  tmp = v[i]; v[i] = j;\n\t  ans = min(check(v),ans);\n\t  v[i] = tmp;\n\t}\n      }\n    }\n    cout << ans << endl;\n    v.resize(0);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\n#include<utility>\n#include<cmath>\n#include<ctime>\n#include<complex>\n\nusing namespace std;\n\n#define REP(i,s,e) for(int i=int(s);i<=int(e);i++)\n#define rep(i,n) for(int i=0;i<int(n);i++)\n\nvector<int>s;\nvoid f(vector<int>& x){\n\n\tint r=x.size();\n    if(r<4) return;\n    else{\n\n    \tint p;\n        bool b=false;\n    \t\tREP(i,0,r-4){\n    \t\tif(x[i]==x[i+1] && x[i]==x[i+2] && x[i]==x[i+3]){\n    \t\t\tp=i; b=true; break;\n    \t\t}\n    \t\t}\n\n            if(b){\n                if((x[p]!=x[p+4] && p+4<r) || p+4==r){ x.erase(x.begin()+p,x.begin()+p+4); f(x);}\n                else if(x[p]==x[p+4] && ((x[p]!=x[p+5] && p+5<r) || p+5==r)){ x.erase(x.begin()+p,x.begin()+p+5); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && ((x[p]!=x[p+6] && p+6<r) || p+6==r)){ x.erase(x.begin()+p,x.begin()+p+6); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]==x[p+6] && p+6<r){ x.erase(x.begin()+p,x.begin()+p+7); f(x);}\n\n              }\n\n            else return;\n\n    }\n\n\t}\n\nint main(){\n\n\twhile(1){\n\n\t\tint N,a;\n\n\t\tcin >> N;\n\t\tif(N==0) break;\n\n\t\trep(i,N){\n\t\t\tcin >> a;\n\t\t\ts.push_back(a);\n\t\t}\n\n\t\tif(N<4){ cout << N << endl;}\n\t\telse{\n\n\t\tvector<int>s1=s; int M=10000;\n\t\trep(i,N){\n\n\t\t\tif(s1[i]==1){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif(s1[i]==2){\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif(s1[i]==3){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t}\n\n\t\tcout << M << endl;\n\n\t\ts.clear();\n\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\ntypedef pair<string,int>P;\nstring chain;\nint cnt; \nint rensa(string str){\n  int l,r;\n  for(int i = 0 ; i < str.size()-3 ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2]&&\n       str[i+2] == str[i+3]){\n      l = i;\n      r = i+3;\n      while(str[l] == str[r] && r < str.size()-1 )r++;\n      if(l < 0 || str.size() < r  )break;\n      str = str.substr(0,l) + str.substr(r,str.size() - r);\n      i = 0;\n     }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n  while(cin >> n,n){\n    chain = \"\";\n    for(int i = 0 ; i < n ; i++ ){\n      cin >> ch;\n      chain+=ch;\n    }\n    int ret = 1000000;\n    for(int i = 0 ; i < chain.size()-1 ; i++ ){\n      string tmp = chain;\n      if(tmp[i]!=chain[i+1]){\n\tcnt = 0;\n\ttmp[i] = chain[i+1];\n\tint dep = i,inp = i+1;\n\n\twhile(tmp[dep] == tmp[i-1] && dep >= 1 && i >= 1)--dep;\n\twhile(tmp[inp] == tmp[i+2] && inp < chain.size()-1 &&\n\t      i+2 < chain.size())++inp;\n\tif(inp-dep >= 3 && 0 <= dep && inp < chain.size()){\n\tret = min(rensa(tmp),ret);\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\n\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cctype>\n#include<cmath>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<set>\n#include<map>\n#include<bitset>\n#include<utility>\n#include<string>\n\nusing namespace std;\n\nint ky[10005];\nint bre(int t,int b,int c);\nint brea(int t,int b,int c);\nint n;\n\nmain(){\n  int ans=99999;\n  int temp;\n  cin >> n;\n  for(int i=1;i<=n;i++){\n    cin >> ky[i];\n  }\n  for(int i=1;i<=n;i++){\n    for(int j=1;j<=3;j++){\n      if(ky[i]!=j && ans>(temp=bre(i,i+1,j))){\n\tans=temp;\n      }\n    }\n  }\n  printf(\"%d\\n\",ans);\n}\n\nint bre(int t,int b,int c){\n  int i,j;\n  for(i=t-1;c==ky[i] && ky[i]!=0;i--){\n    ;\n  }\n  for(j=b;c==ky[j] && ky[j]!=0;j++){\n    ;\n  }\n  if((t-(i+1))+(j-b)+1>=4){\n      return bre(i,j,ky[i]);\n  }\n\n  //  printf(\"%d\\n\",n-(b-t-1));\n  return n-(b-t-1);\n}\n\nint brea(int t,int b,int c){\n  int i,j;\n  for(i=t;c==ky[i] && ky[i]!=0;i--){\n    ;\n  }\n  for(j=b+1;c==ky[j] && ky[j]!=0;j++){\n    ;\n  }\n  if((t-i)+(j-b-1)+1>=4){\n    if(ky[i]!=0){\n    return bre(i,j,ky[i]);\n    }\n    else if(ky[j]!=0){\n      return brea(i,j,ky[j]);\n    }\n  }\n\n  //  printf(\"%d\\n\",n-(b-t-1));\n  return n-(b-t-1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\ntypedef pair<string,int>P;\nstring chain;\nint cnt; \nint rensa(string str){\n  int l,r;\n  for(int i = 0 ; i < str.size()-3 ; i++ ){\n    if(str[i] == str[i+1] && str[i+1] == str[i+2]&&\n       str[i+2] == str[i+3]){\n      l = i;\n      r = i+3;\n      while(str[l] == str[r] && r < str.size() )r++;\n      if(l < 0 || str.size() < r  )break;\n      str = str.substr(0,l) + str.substr(r,str.size() - r);\n      i = 0;\n     }\n  }\n\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n  while(cin >> n,n){\n    chain = \"\";\n    for(int i = 0 ; i < n ; i++ ){\n      cin >> ch;\n      chain+=ch;\n    }\n    int dep,inp;\n    int ret = chain.size();\n    for(int i = 0 ; i < chain.size() ; i++ ){\n\n      string tmp = chain;\n      if(tmp[i]!=chain[i+1] || tmp[i] != chain[i-1]){\n\tcnt = 0;\n\ttmp[i] = chain[i+1];\n\tint dep = i,inp = i+1;\n\twhile(tmp[dep] == tmp[i-1] && dep >= 1 && i >= 1)--dep;\n\twhile(tmp[inp] == tmp[i+2] && inp < chain.size()-1 &&\n\t      i+2 < chain.size())++inp;\n\tif(inp-dep >= 3 && 0 <= dep && inp < chain.size()){\n\tret = min(rensa(tmp),ret);\n\n\t}else if(tmp[i] != chain[i-1] && i == chain.size()-1){\n\n\t  cnt = 0;\n\t  tmp[i] = chain[i-1];\n\t  int dep = i,inp = chain.size()-1;\n\t  while(tmp[dep] == tmp[i-1] && dep >= 1 && i >= 1)--dep;\n\n\t  if(inp-dep >= 3 && 0 <= dep && inp < chain.size()){\n\t    ret = min(rensa(tmp),ret);\n\t  }\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n\nusing namespace std;\n\n#define MAX 10001\nint arr[MAX+2],N;\n\nint solve(int p){\n  int lp = p, rp = p+1;\n\n  while(true){\n    if(lp <= 0 || rp >= N+1) break;\n    int color = arr[lp],l,r;\n    for(l = lp ; arr[l] == color ; l--){\n     if(l <= 0) break; \n    }\n    for(r = rp ; arr[r] == color ; r++){\n      if(r >= MAX+1) break;\n    }\n    if((r-rp)+(lp-l) < 4) break;\n    lp = l, rp = r;\n  }\n  return N - rp + lp + 1;\n}\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 1 ; i <= N ; i++){\n      cin >> arr[i]; arr[i]--;\n    }\n\n    int ans = MAX;\n    for(int i = 1 ; i <= N ; i++){\n      int tmp = arr[i];\n      for(int j = 0 ; j < 3 ; j++){\n        arr[i] = j;\n        ans = min(ans,solve(i));        \n      }\n      arr[i] = tmp;\n    }\n    cout << ans << endl;\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstring>\n#include<map>\n#include<algorithm>\nusing namespace std;\n\nmap<string,bool> hash;\n\nint check(string s)\n{\n  //  if(hash.insert(make_pair(s,true)).second==0)\n  //  return s.size();\n\n  //  cout<<s<<endl;\n\n  bool del=false;\n  char tmp=s[0];\n  int cnt=1;\n  int i=1;\n  for(;i<s.size();i++)\n    {\n      if(tmp==s[i])\n\tcnt++;\n      else\n      if(tmp!=s[i])\n\t{\n\t  if(cnt>=4)\n\t    {\n\t      //sakuzyo\n\t      //   cout<<i-cnt<<\" \"<<cnt<<endl;\n\t      s.erase(i-cnt,cnt);\t     \n\t      i=i-cnt-1;\n\t      del=true;\n\t      \n\t      //\t      cout<<s<<endl;\n\t      break;\n\t      \n\t    }\n\t  cnt=1;\n\t  tmp=s[i];\n\t}\n    }\n  if(!del)\n    {\n      if(cnt>=4)\n\t{\n\t  //sakuzyo\n\t  //\t  cout<<i-cnt<<\" \"<<i-1<<endl;\n\t  s.erase(i-cnt);\n\t  del=true;\n\t  // cout<<s<<endl;\n\t}\n    }\n  \n  if(del)\n    return check(s);\n  else\n    return s.size();\n}\n\nint main()\n{\n  int n;\n  for(;cin>>n,n;)\n    {\n      hash.clear();\n      string s;\n      char t;\n\n      for(int i=0;i<n;i++)\n\t{\n\t  cin>>t;\n\t  s+=t;\n\t}\n      int ans=n;\n      \n      for(int i=0;i<n;i++)\n\t{\n\t  if(i>0 && s[i]!=s[i-1])\n\t    {\n\t      string tmp=s;\n\t      tmp[i]=tmp[i-1];\n\t      ans=min(ans,check(tmp));\n\t    }\n\t  if(i+1<n && s[i]!=s[i+1])\n\t    {\n\t      string tmp=s;\n\t      tmp[i]=tmp[i+1];\n\t      ans=min(ans,check(tmp));\n\t    }\n\t}\n      cout<<ans<<endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <stack>\n#include <queue>\n#include <map>\n#include <bitset>\n#include <algorithm>\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n\nusing namespace std;\n\nint main(){\n\tint n = 0;\n\tint color[][2] = {{0, 0}, {2, 3}, {1, 3}, {1, 2}};\n\twhile(cin >> n && n != 0){\n\t\tvector<int> line;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tint tmp = 0;\n\t\t\tcin >> tmp;\n\t\t\tline.push_back(tmp);\n\t\t}\n\n\t\tint minch = 1000000;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tfor(int j = 0; j < 2; j++){\n\t\t\t\tvector<int> copyline = line;\n\t\t\t\tcopyline[i] = color[line[i]][j];\n\t\t\t\tint count = 1;\n\t\t\t\tfor(int k = 0; k < n-1; k++){\n\t\t\t\t\tif(!copyline[k]) continue;\n\t\t\t\t\tint progress = 1;\n\t\t\t\t\twhile(!copyline[k+progress] && k+progress<copyline.size()) progress++;\n\t\t\t\t\tif(copyline[k] != copyline[k+progress]){\n\t\t\t\t\t\tif(count >= 4){\n\t\t\t\t\t\t\tint target = copyline[k];\n\t\t\t\t\t\t\tfor(int l = k; copyline[l] == 0 || copyline[l] == target; l--){\n\t\t\t\t\t\t\t\tcopyline[l] = 0;\n\t\t\t\t\t\t\t\tif(!l) break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tk = -1;\n\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse count = 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tint chnum = 0;\n\t\t\t\tfor(int k = 0; k < n; k++){\n\t\t\t\t\tif(copyline[k]) chnum++;\n\t\t\t\t}\n\n\t\t\t\tif(minch > chnum) minch = chnum;\n\t\t\t\t//minch = minch > chnum ? chnum : minch;\n\t\t\t}\n\t\t}\n\n\t\tcout << minch << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "/*\n *\n *\n */\n\n\n#include <iostream>\n#include <vector>\nusing namespace std;\n\nstruct Pair{ int color, size; Pair(int c=0, int s=0) : color(c), size(s) {} };\n\n\nvector<Pair> compless(const vector<Pair>& v)\n{\n\t// 関数を実行するたびに宣言するとメモリが足りなくなるので静的に用意する\n\tstatic vector<Pair> res;\n\tres.clear();\n\tres.push_back(v[0]);\n\t\n\tfor(int i = 1, t = 0; i < v.size(); i++) {\n\t\tif(res[t].color == v[i].color) {\n\t\t\tres[t].size += v[i].size;\n\t\t} else {\n\t\t\tres.push_back(v[i]);\n\t\t\tt++;\n\t\t}\n\t}\n\n\treturn res;\n}\n\nvector<Pair> compless(const vector<int>& v)\n{\n\tstatic vector<Pair> res;\n\tres.clear();\n\n\tfor(int i = 0; i < v.size(); i++) res.push_back(Pair(v[i], 1));\n\n\treturn compless(res);\n}\n\npair<vector<Pair>, int> remove(const vector<Pair> &v)\n{\n\tint res = 0;\n\tstatic vector<Pair> nv;\n\tnv.clear();\n\n\tfor(int i = 0; i < v.size(); i++) {\n\t\tif(v[i].size < 4) nv.push_back(v[i]);\n\t\telse res += v[i].size;\n\t}\n\n\treturn make_pair(nv, res);\n}\n\nint main()\n{\n\tfor(int N; cin >> N && N; ) {\n\t\tvector<int> chain(N, 0);\n\t\tfor(int i = 0; i < N; i++) cin >> chain[i];\n\n\t\tint best = 0;\n\t\tfor(int i = 0; i < N; i++) {\n\t\t\tfor(int color = 1; color <= 3; color++) {\n\t\t\t\tif(color == chain[i]) continue;\n\t\t\t\tif(!((i > 0 && chain[i-1] == color) ||\n\t\t\t\t\t\t (i + 1 < N && chain[i+1] == color))) continue;\n\n\t\t\t\tauto buf = chain; buf[i] = color;\n\t\t\t\tvector<Pair> v = compless(buf);\n\n\t\t\t\tint cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tv = compless(v);\n\t\t\t\t\tauto tmp = remove(v);\n\t\t\t\t\t\n\t\t\t\t\tif(tmp.second == 0) break;\n\n\t\t\t\t\tv = tmp.first;\n\t\t\t\t\tcnt += tmp.second;\n\n\t\t\t\t\tif(v.size() == 0) break;\n\t\t\t\t}\n\n\t\t\t\tbest = max(best, cnt);\n\t\t\t}\n\t\t}\n\n\t\tcout << N - best << endl;\n\t}\t\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cctype>\n#include<cmath>\n#include<iostream>\n#include<algorithm>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<set>\n#include<map>\n#include<bitset>\n#include<utility>\n#include<string>\n\nusing namespace std;\n\nint ky[10005];\nint bre(int t,int b,int c);\nint n;\n\nmain(){\n  int ans=99999;\n  int temp;\n  cin >> n;\n  for(int i=1;i<=n;i++){\n    cin >> ky[i];\n  }\n  for(int i=1;i<=n;i++){\n    for(int j=1;j<=3;j++){\n      if(ky[i]!=j && ans>(temp=bre(i,i+1,j))){\n\tans=temp;\n      }\n    }\n  }\n  printf(\"%d\\n\",ans);\n}\n\nint bre(int t,int b,int c){\n  int i,j;\n  for(i=t-1;c==ky[i];i--){\n    ;\n  }\n  for(j=b;c==ky[j];j++){\n    ;\n  }\n  if((t-(i+1))+(j-b)+1>=4){\n    /*\n      puts(\"A\");\n      printf(\"%d\\n\",(t-(i+1))+(j-b)+1);\n      printf(\"p%d %d\\n\",i,j);\n    */\n    return bre(i,j,ky[i]);\n  }\n  //  printf(\"%d\\n\",n-(b-t-1));\n  return n-(b-t-1);\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#define INF 1000000000\nusing namespace std;\n\nint ary[10010];\nint main(){\n\tint N,res;\n\twhile(true){\n\t\tcin>>N;\n\t\tif(N==0) break;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tcin>>ary[i];\n\t\t}\n\t\tary[0]=0;ary[N+1]=4;\n\n\t\tres=INF;\n\t\tint cnt;\n\t\tfor(int i=1;i<=N;i++){\n\t\t\tint lpa=i-1,tlpa=i-1,rpa=i+1,trpa=i+1;\n\t\t\twhile(ary[lpa]==ary[rpa]){\n\t\t\t\twhile(lpa>0&&ary[lpa]==ary[lpa-1])lpa--;\n\t\t\t\twhile(rpa<N+1&&ary[rpa]==ary[rpa+1])rpa++;\n\t\t\t\tlpa=max(0,lpa-1);rpa=min(N+1,rpa+1);\n\t\t\t\tif((tlpa-lpa)+(rpa-trpa)<4){\n\t\t\t\t\tlpa=tlpa;rpa=trpa;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttlpa=lpa;trpa=rpa;\n\t\t\t}\n\t\t\tres=min(res,lpa+(N+1-rpa));\n\t\t}\n\t\tif(res<=N-4)cout<<res<<endl;\n\t\telse cout<<N<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\nusing namespace std;\nint main(){\n\twhile(1){\n\t\tint n,ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tint r[10001]={0};\n\t\tint check[10001]={0};\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-3;q++){\n\t\t\t/*for(int p=1;p<=n;p++){\n\t\t\t\tcheck[p]=r[p];\n\t\t\t}*/\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\tint s=n;\n\t\t\t\tint f=0;\n\t\t\t\tfor(int i=1;i<=s-3;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\twhile(check[i]==check[j]){\n\t\t\t\t\t\tc++;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tint d=j;\n\t\t\t\t\t\tfor(int w=i;w<=i+c;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=1;\n\t\t\t\t\t}\n\t\t\t\t\t/*for(int z=1;z<=s;z++){\n\t\t\t\t\t\tcout<<check[z];\n\t\t\t\t\t}\n\t\t\t\t\tcout<<endl;*/\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<string.h>\n#include<stdlib.h>\nusing namespace std;\nint r[10001]={0};\nint check[10001]={0};\nint s,n;\nint takahashi(int i,int j,int c){\n\tif(check[i]!=check[j])return c;\n\ttakahashi(i,j+1,c+1); \n}\nint main(){\n\twhile(1){\n\t\tint ans=99999;\n\t\tcin>>n;\n\t\tif(n==0)break;\n\t\tmemset(r,0,sizeof(r));\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&r[i]);\n\t\t}\n\t\tfor(int q=1;q<=n-4;q++){\n\t\t\tmemcpy(check,r,sizeof(int) *n);\n\t\t\tfor(int x=1;x<=3;x++){\n\t\t\t\tif(check[q]==x)continue;\n\t\t\t\tcheck[q]=x;\n\t\t\t\ts=n;\n\t\t\t\tfor(int i=1;i<=s-4;i++){\n\t\t\t\t\tint c=1;\n\t\t\t\t\tint j=i+1;\n\t\t\t\t\tc=takahashi(i,j,1);\n\t\t\t\t\tif(c>=4){\n\t\t\t\t\t\ts-=c;\n\t\t\t\t\t\tfor(int w=i;w<=s;w++){\n\t\t\t\t\t\t\tif(w+c>n)break;\n\t\t\t\t\t\t\tcheck[w]=r[w+c];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti=i-3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans=min(ans,s);\n\t\t\t\tif(ans==0){printf(\"%d\\n\",ans); exit(EXIT_SUCCESS);}\n\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\t\t\n\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint n,cou,num,ans,str[2][10010];\nint rest_count(int up,int down,int sum)\n{\n    if(up == 0 || down == cou)return sum;\n    if(str[0][down + 1] == str[0][up - 1] && str[1][down + 1] + str[1][up - 1] >= 4)return rest_count(up - 1,down + 1,sum + str[1][down + 1] + str[1][up - 1]);\n    return sum;\n}\nint main()\n{\n    while(scanf(\"%d\",&n),n)\n    {\n        cou = -1;\n        ans = n;\n        for(int i = 0; i < n; i++)\n        {\n            scanf(\"%d\",&num);\n            if(i == 0 || num != str[0][cou])\n            {\n                cou++;\n                str[0][cou] = num;\n                str[1][cou] = 1;\n            }\n            else str[1][cou]++;\n        }\n        for(int i = 0; i < cou + 1; i++)\n        {\n            if(str[1][i] == 1)\n            {\n                if(str[0][i - 1] == str[0][i + 1] && str[1][i - 1] + str[1][i + 1] >= 3 && i != 0 && i != cou)ans = min(ans,n - rest_count(i - 1,i + 1,str[1][i - 1] + str[1][i + 1] + 1));\n                if(str[1][i - 1] >= 3 && i != 0)ans = min(ans,n - rest_count(i - 1,i,1 + str[1][i - 1]));\n                if(str[1][i + 1] >= 3 && i != cou)ans = min(ans,n - rest_count(i,i + 1,1 + str[1][i + 1]));\n            }\n            if(str[1][i - 1] >= 3 && i != 0)ans = min(ans,n - str[1][i - 1] - 1);\n            if(str[1][i + 1] >= 3 && i != cou)ans = min(ans,n - str[1][i + 1] - 1);\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n\nusing namespace std;\nint main(void){\n    int n;\n    int a[10005]={0};\n    int b[10005]={0};\n    int count=0,m;\n    for(;;){\n        cin>> n;\n        if(n==0)break;\n        m=n;\n        int j=0,flag=0,flag2=0;\n        for(int i=0;i<n;i++){\n            cin >> a[i];\n            b[i]=a[i];\n        }\n        for(int y=1;y<3;y++){\n            for(int z=0;z<n;z++){\n                for(int i=0;i<n;i++){\n                    a[i]=b[i];\n                }\n\n                a[z]=y;\n                for(;;){\n                    flag=0;\n                    j=0;\n                    for(int i=0;i<n;i++){\n                        if(a[i+1]!=0&&a[i]!=0&&a[i]==a[i+1]){\n\n                            for(j=0;j<n-i;j++){\n\n                                if(a[i+j]!=a[i+j+1]){\n\n                                     //cout<<i<<\".\"<<j<<endl;\n                                     break;\n                                }\n\n                            }\n                            if(j>=3){\n                                flag=1;\n                                for(int g=0;g<j+1;g++){\n                                    if(i+g<n){\n                                        a[i+g]=-1;\n                                      //  cout<<\"oo\"<<i+g<<endl;\n\n\n\n                                    }\n                                }\n                                for(int s=0;s<n;s++){\n                                    if(a[s]==-1){\n                                        for(int t=s;t<n;t++){\n                                          //  cout<<i<<\"+++\"<<j<<endl;\n                                            a[t]=a[t+j+1];\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if(flag==0)break;\n                }\n\n\n\n\n\n                count=0;\n                for(int i=0;i<n;i++){\n                    if(a[i]!=0)count++;\n                }\n                m=min(count,m);\n            }\n        }\n\n        cout<<m<<endl;\n    }\n\n\n\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000]={0},o[10000]={0};\n/*int X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}*/\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m,l,t,g;\n\tcin>>n;\n\tif(n==0)break;\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif(i!=n-1&&p[i]!=p[i+1]&&f[i]+f[i+1]>=4||i!=0&&p[i]!=p[i-1]&&f[i]+f[i-1]>=4){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\ng=0;\nt=1;\nwhile(t!=0){\nint e,z,u,k,w;\nt=0;\nfor(e=0;e<n;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<n;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n\tif(o[e]!=0)g++;\n}\n}\n\t\t\t\t\tm=min(m,g);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdint>\n#include <vector>\n#include <algorithm>\n#include <utility>\n#include <tuple>\n\nbool kieru(std::vector<int> const& a, size_t i) {\n  size_t res = 1;\n  for (size_t j = i+1; j < a.size(); ++j) {\n    if (a[j] != a[i]) break;\n    ++res;\n  }\n  for (size_t j = i-1; j < a.size(); --j) {\n    if (a[j] != a[i]) break;\n    ++res;\n  }\n  return res >= 4;\n}\n\nsize_t neko(std::vector<int> const& a) {\n  std::vector<int> dq;\n  size_t n = a.size();\n  int last = -1;\n  size_t ren = 0;\n  for (size_t i = 0; i < n; ++i) {\n    if (last == a[i]) {\n      ++ren;\n      dq.push_back(a[i]);\n    } else {\n      last = a[i];\n      dq.push_back(a[i]);\n      ren = 0;\n      for (size_t j = 1; j <= dq.size(); ++j) {\n        if (dq[dq.size()-j] != last) break;\n        ++ren;\n      }\n    }\n    if (ren >= 4) {\n      while (!dq.empty() && dq.back() == last) {\n        dq.pop_back();\n      }\n    }\n    // for (size_t j = 0; j < dq.size(); ++j)\n    //   fprintf(stderr, \"%d%c\", dq[j], j+1<dq.size()? ' ':'\\n');\n  }\n  return dq.size();\n}\n\nint testcase_ends() {\n  size_t n;\n  scanf(\"%zu\", &n);\n  if (n == 0) return 1;\n\n  std::vector<int> a(n);\n  for (auto& ai: a) scanf(\"%d\", &ai);\n\n  size_t res = n;\n  for (size_t i = 0; i < n; ++i) {\n    int tmp = a[i];\n    if (i-1 < n && a[i-1] != a[i]) {\n      a[i] = a[i-1];\n      if (kieru(a, i)) {\n        // fprintf(stderr, \"[%zu] <- %d\\n\", i, a[i-1]);\n        res = std::min(res, neko(a));\n      }\n    }\n    if (i+1 < n && a[i+1] != a[i]) {\n      a[i] = a[i+1];\n      if (kieru(a, i)) {\n        // fprintf(stderr, \"[%zu] <- %d\\n\", i, a[i+1]);\n        res = std::min(res, neko(a));\n      }\n    }\n    a[i] = tmp;\n  }\n\n  printf(\"%zu\\n\", res);\n  return 0;\n}\n\nint main() {\n  while (!testcase_ends()) {}\n}\n\n"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 9999999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t\n\t\t\t// 色を変えたところで意味のない部分は考えない(悪いけどごり押し) ここから-----\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tif (character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i == N - 1)\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j && character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ----- ここまで\n\t\t\t\n\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k += cnt)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 途中から探索し直す\n\t\t\t\t\tk = - 1;\n\t\t\t\t\tcnt = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\n\t\t\tans = min(ans , (int)search.size());\n\t\t\t// 0なら探索終了\n\t\t\tif (search.empty() == true)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#define _USE_MATH_DEFINES\n#define INF 0x3f3f3f3f\n\n#include <iostream>\n#include <cstdio>\n#include <sstream>\n#include <cmath>\n#include <cstdlib>\n#include <algorithm>\n#include <queue>\n#include <stack>\n#include <limits>\n#include <map>\n#include <string>\n#include <cstring>\n#include <set>\n#include <deque>\n#include <bitset>\n#include <list>\n#include <cctype>\n#include <utility>\n  \nusing namespace std;\n  \ntypedef long long ll;\ntypedef pair <int,int> P;\ntypedef pair <int,P> PP;\n  \nstatic const double EPS = 1e-8;\n  \nstatic const int tx[] = {0,1,0,-1};\nstatic const int ty[] = {-1,0,1,0};\n\nclass Block{\npublic:\n  int color;\n  int size;\n  Block(int _c,int _s) : color(_c),size(_s){}\n};\n\nint check_stage(deque<Block>& stage){\n\n  int res = 0;\n  int max_round = stage.size();\n  for(int round=0;round<max_round;round++){\n    bool update = false;\n\n    for(int i=0;i+1<stage.size();i++){\n      if(stage[i].color == stage[i+1].color){\n\tBlock b(stage[i].color,stage[i].size+stage[i+1].size);\n\tstage.erase(stage.begin()+i,stage.begin()+i+2);\n\tstage.insert(stage.begin()+i,b);\n\tupdate = true;\n\tbreak;\n      }\n    }\n\n    res = 0;\n    for(int i=0;i<stage.size();i++){\n      res += stage[i].size;\n      if(stage[i].size >= 4){\n\tstage.erase(stage.begin()+i);\n\tupdate = true;\n      }\n    }\n    if(!update) break;\n  }\n  return res;\n}\n\nint main(){\n  int n;\n  while(~scanf(\"%d\",&n)){\n    if(n==0) break;\n\n    deque<Block> stage;\n    queue<int> que;\n    int prev = -1;\n    for(int i=0;i<n;i++){\n      int color;\n      scanf(\"%d\",&color);\n\n      if(i==0 || color == prev){\n\tque.push(color);\n      }\n      else{\n\tstage.push_back(Block(prev,que.size()));\n\twhile(!que.empty()) que.pop();\n\tque.push(color);\n      }\n      prev = color;\n    }\n\n    if(!que.empty()){\n      stage.push_back(Block(prev,que.size()));\n    }\n\n    int res = n;\n    for(int i=0;i<stage.size();i++){\n      for(int color=1;color<=3;color++){\n\tdeque<Block> tmp = stage;\n\tint prev_color = tmp[i].color;\n\tint prev_size = tmp[i].size;\n\ttmp[i].color = color;\n\ttmp[i].size = 1;\n\n\ttmp.insert(tmp.begin()+i,Block(prev_color,prev_size));\n\tres = min(res,check_stage(tmp));\n      }\n    }\n\n    printf(\"%d\\n\",res);\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint a, b, n, k, lost[3];\npair<int,int> color[10000][10000];//color[a][b] = (c,d) a:何本目か b:何番目のキャラか c:0なら消えてる、1ならまだある d:色\nint result;\n\nvoid check(int aa, int bb)\n{\n\tlost[1] = lost[0];\n\tint count = 1;\n\tfor (int i = bb; i < n; i++)\n\t{\n\t\tif (color[aa][bb].second == color[aa][i].second)\n\t\t{\n\t\t\tcolor[aa][i].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse if (color[aa][bb].second == color[aa][i + lost[1]].second)\n\t\t{\n\t\t\tcolor[aa][i + lost[1]].first = 0;\n\t\t\tlost[0]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\t\t\n\tbb--;\n\n\tif (lost[0] != lost[1])\n\t{\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[aa][bb].second == color[aa][bb - 1].second)\n\t\t\t{\n\t\t\t\tbb--;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tfor (;;)\n\t\t{\n\t\t\tif (color[aa][bb].second == color[aa][bb + count + lost[0]].second)\n\t\t\t{\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (count >= 4)\n\t\t{\n\t\t\tcheck(aa, bb);\n\t\t}\n\t}\n\tresult = min(result, n - lost[0]);\n}\n\nint main()\n{\n\tcin >> n;\n\n\tfor (int a = 0; a < 10000; a++)\n\t{\n\t\tcolor[0][a].first = 1;\n\t}\n\n\tresult = n;\n\n\tfor (int a = 0; a < n; a++)\n\t{\n\t\tcin >> color[0][a].second;\n\t\tfor (int b = 1; b < n; b++)\n\t\t{\n\t\t\tcolor[b][a] = color[0][a];\n\t\t}\n\t}\n\n\tfor (; a < n; a++)\n\t{\n\t\tlost[0] = 0;\n\t\tfor (; b < n - 3; b++)\n\t\t{\n\t\t\tif (color[a][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 2])\n\t\t\t{\n\t\t\t\tcolor[a][b + 4] = color[a][b];\n\t\t\t\tcheck(a, b);\n\t\t\t\tb += 4;\n\t\t\t}\n\t\t\telse if (color[a][b] == color[a][b + 1] && color[a][b + 1] == color[a][b + 3])\n\t\t\t{\n\t\t\t\tcolor[a][b + 2] = color[a][b];\n\t\t\t\tcheck(a, b);\n\t\t\t\tb += 4;\n\t\t\t}\n\t\t\telse if (color[a][b] == color[a][b + 2] && color[a][b + 2] == color[a][b + 3])\n\t\t\t{\n\t\t\t\tcolor[a][b + 1] = color[a][b];\n\t\t\t\tcheck(a, b);\n\t\t\t\tb += 4;\n\t\t\t}\n\t\t}\n\t}\n\n\tcout << result << endl;\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <map>\n#include <vector>\n\nusing namespace std;\n\ntypedef pair<int, int> P;\n\nmain(){\n  int n;\n  while(cin >> n && n){\n    int pre = 0, cnt = 0, in, size = 0;\n    vector<P> data;\n    data.push_back(P(0, 0));\n    for(int i=0;i<n;i++){\n      cin >> in;\n      if(in != pre){\n        data.push_back(P(pre, cnt));\n        size += cnt;\n        cnt = 0;\n      }\n      pre = in;\n      cnt++;\n    }\n    if(n < 4){\n      cout << n << endl;\n      continue;\n    }\n    data.push_back(P(pre, cnt));\n    data.push_back(P(0, 0));\n    size += cnt;\n    int ans = size;\n    for(int i=1;i<data.size()-1;i++){\n      int l = i-1, r = i+1, rem = size;\n      bool f = true;\n      //cout << i << \"-----\" << endl;\n      while(1){\n        //cout << l << ' ' << r << endl;\n        if(data[l].first != data[r].first && data[l].first && data[r].first) break;\n        int sum = data[l].second + data[r].second;\n        if(f) sum++;\n        if(sum < 4) break;\n        rem -= sum;\n        if(data[l].first == 0 || data[r].first == 0) break;\n        l--;\n        r++;\n        f = false;\n      }\n      ans = min(ans, rem);\n    }\n    cout << ans << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nint chain(int idx,int col);\nint model[102];\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = n;\n      memset(model,0,sizeof(model));\n      for(int i = 0;i < n;i++){\n         scanf(\"%d\",&model[i]);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return n;\n   int c[102];\n   int f[102] = {0};\n   for(int i = 0;i < n;i++){\n      if(idx == i)\n         c[i] = col;\n      else c[i] = model[i];\n   }\n   c[n] = 100;\n\n   while(1){\n      int flag = 0;\n      int curr = c[0],cnt = 1;\n      for(int i = 1;i <= n;i++){\n         if(c[i] == 0) continue;\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 1;\n               for(int j = 0;j < cnt;j++){\n                  if(f[i-1-j] == 1) cnt++;\n                  f[i-1-j] = 1;\n                  c[i-1-j] = 0;\n               }\n               break;\n            }\n            cnt = 1;\n         }\n      }\n      if(flag == 0) break;\n   }\n\n   int cnt = 0;\n   for(int i = 0;i < n;i++){\n      if(f[i] == 0) cnt++;\n   }\n   return cnt;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <algorithm>\n#define INF (500000)\nusing namespace std;\n\nint array[20000];\n\nint main()\n{\n\tint N;\n\twhile (scanf(\"%d\", &N), N){\n\t\tmemset(array, 0, sizeof(array));\n\t\t\n\t\tfor (int i = 1; i <= N; i++){\n\t\t\tscanf(\"%d\", &array[i]);\n\t\t}\n\t\t\n\t\tint mini = INF;\n\t\t\n\t\tfor (int i = 1; i <= N; i++){\n\t\t\tfor (int j = 0; j < 2; j++){\n\t\t\t\tarray[i] = array[i] % 3 + 1;\n\t\t\t\t\n\t\t\t\tint u = i;\n\t\t\t\tint d = i;\n\t\t\t\tint color = array[i];\n\t\t\t\tint cnt = 4;\n\t\t\t\tint sum = 0;\n\t\t\t\t\n\t\t\t\twhile (cnt >= 4) {\n\t\t\t\t\tif (sum == 0){\n\t\t\t\t\t\tcnt = 1;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcnt = 0;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (array[d + 1] == 0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcolor = array[d + 1];\n\t\t\t\t\t\n\t\t\t\t\twhile (array[u - 1] == color){\n\t\t\t\t\t\tu--;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t\twhile (array[d + 1] == color){\n\t\t\t\t\t\td++;\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (cnt >= 4){\n\t\t\t\t\t\tsum += cnt;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmini = min(mini, N - sum);\n\t\t\t}\n\t\t\t\n\t\t\tarray[i] = array[i] % 3 + 1;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", mini);\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\nusing namespace std;\n\nstruct block{\n  int color, many;\n};\n\nint main()\n{\n  while(true){\n    int n;\n    cin >> n;\n    if(!n) break;\n    vector<block> line;\n    vector<block>::iterator p;\n    int max = 0;\n\n    for(int i = 0; i < n; i++){\n      int in;\n      cin >> in;\n      p = line.end() - 1;\n      if(!line.empty() && p->color == in){\n\tp->many++;\n      }\n      else{\n\tblock newblock = {in, 1};\n\tline.push_back(newblock);\n      }\n    }\n\n    //chain\n    vector<block>::iterator pp, pm;\n    for(p = line.begin() + 1; p != line.end() - 1; p++){\n      if(p->many == 1  && (p - 1)->color == (p + 1)->color && (p - 1)->many + (p + 1)->many >= 3){\n\tint chain = (p - 1)->many + (p + 1)->many + 1;\n\tpm = p - 1;\n\tpp = p + 1; \n\twhile(true){\n\t  pm--;\n\t  pp++;\n\t  if(pm != line.begin() - 1 && pp != line.end() && pp->color ==pm->color && pp->many + pm->many >= 4){\n\t    chain += pp->many + pm->many;\n\t  }\n\t  else{\n\t    max = (max < chain) ? chain : max;\n\t    break;\n\t  }\n\t}\n      }\n    }\n\n    cout << n - max << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<stack>\n#include<map>\n#include<cmath>\n#define F first\n#define S second\n\nusing namespace std;\ntypedef pair<int,int> P;\nint N;\n\nint calc(vector<int>& vec,int p)\n{\n  if(vec.size() < 4)\n    return 0;\n\n  //cout << \"--- --- \"<< endl;\n  //for(int i=0;i<vec.size();i++)\n  //cout << vec[i] << endl;\n\n  stack<int> A,B;\n  for(int i=0;i<=p;i++)\n    A.push(vec[i]);\n  for(int i=vec.size()-1;i>p;i--)\n    B.push(vec[i]);\n \n  bool update;\n  while(true)\n    {\n      update = false;\n    \n      if(A.empty() && B.empty())\n\tbreak;\n      //cout << A.top() << \" A-B \" << B.top() << endl;  \n      if(!A.empty() && ! B.empty()  && A.top() == B.top())\n\t{\t \n\t  int c = A.empty()?B.top():A.top();\n\t  int cnt = 0;\n\t  while(!A.empty() && A.top() == c)\n\t    cnt++,A.pop();\n\t  while(!B.empty() && B.top() == c)\n\t    cnt++,B.pop();\n\t  if(cnt < 4)\n\t    {\n\t      //cout << p << \" <> \" << vec[p] <<  \" = return \" << A.size()+B.size()+cnt << endl;\n\t      return A.size() + B.size() + cnt;\n\t    }\t \n\t  update = true;\n\t \n\t}\n      else \n\t{\n\t  stack<int> C,D;\n\t  int cnt = 0;\n\t  int c; \n\t  bool pre = false,pre2 = false;\n\t \n\t  if(!A.empty())\n\t    { \n\t      c = A.top();\n\t      while(!A.empty() && A.top() == c)\n\t\tcnt++,C.push(A.top()),A.pop();\n\t      \n\t      if(cnt < 4)\n\t\twhile(!C.empty())\n\t\t  A.push(C.top()),C.pop();\n\t      else \n\t\tpre = true;\n\t    }\t \n\t  if(!B.empty())\n\t    {\n\t      cnt = 0,c = B.top();\n\t      while(!B.empty() && B.top() == c)\n\t\tcnt++,D.push(B.top()),B.pop();\n\n\t      if(cnt < 4)\n\t\twhile(!D.empty())\n\t\t  B.push(D.top()),D.pop();\n\t      else \n\t\tpre2 = true;\n\t    }\n\n\t  if(pre || pre2)\n\t    update = true;\n\n\t}\n      if(!update)\n\tbreak;\n    }\n  //cout << p << \" -> \" << vec[p] <<  \" = return \" << A.size()+B.size() << endl;\n  return A.size()+B.size();\n\n}\n\nint main()\n{\n  while(cin >> N,N)\n    {\n      vector<int> vec; \n      vec.resize(N); \n      for(int i=0;i<N;i++)\n\tcin >> vec[i];\n\n      int ans = (1<<29);\n      for(int i=0;i<N;i++)\n\t{\n\t  int pre_color = vec[i];\n\t  for(int j=1;j<=3;j++)\n\t    {\n\t      vec[i] = j;\n\t      ans = min(ans,calc(vec,i));\n\t    }\n\t  vec[i] = pre_color;\n\t}\n\t\n\n      cout << ans << endl;\n    }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <string.h>\n#include <algorithm>\n#define INF\t123456789\n\nint N, A[11234];\nint memo_A[11234];\nint bound[11234][3][2];\nint ans = INF;\n\nint how_same(int num, int color) {\n\tint s1 = 0, s2 = 0;\n\tfor (int i = num + 1; i < N; ++i) {\n\t\tif (A[i] == color) { ++s1; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][0] = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (int i = num - 1; i >= 0; --i) {\n\t\tif (A[i] == color) { ++s2; }\n\t\telse if (A[i] != -1) {\n\t\t\tbound[num][color][1] = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn s1 + s2 + 1;\n}\n\nint solve(int num, int color) {\n\tint res = 0;\n\tres += how_same(num, color);\n\tif (res >= 4) {\n\t\tfor (int i = bound[num][color][1]; i <= bound[num][color][0]; ++i) { A[i] = -1; }\n\t\tif (A[bound[num][color][1] - 1] == A[bound[num][color][0] + 1]) {\n\t\t\tres += solve(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t}\n\t\telse {\n\t\t\tint tmp = 0;\n\t\t\ttmp += how_same(bound[num][color][0] + 1, A[bound[num][color][0] + 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t\ttmp += how_same(bound[num][color][1] - 1, A[bound[num][color][1] - 1]);\n\t\t\tif (tmp < 4) { tmp = 0; }\n\t\t}\n\t}\n\tif (res < 4) { res = 0; }\n\treturn res;\n}\n\nint main(void) {\n\twhile (true) {\n\t\tscanf(\"%d\", &N);\n\t\tif (N == 0) { break; }\n\t\tmemset(bound, 0, sizeof(bound));\n\t\tans = INF;\n\t\tfor (int i = 0; i < N; ++i) { scanf(\"%d\", &A[i]); }\n\n\t\tfor (int i = 0; i < N; ++i) { memo_A[i] = A[i]; }\n\t\tfor (int i = 1; i < N - 1; ++i) {\n\t\t\t\tfor (int j = 1; j <= 3; ++j) {\n\t\t\t\t\tans = std::min(ans, N - solve(i, j));\n\t\t\t\t\tfor (int k = 0; k < N; ++k) {\n\t\t\t\t\t\tA[k] = memo_A[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\nusing namespace std;\n\ntypedef pair<int, int> pii;\nvector<pii> v;\nint N, len;\n\n\n\nint searching(int a, int b) {\n\n\tif(v[a].first != v[b].first || a < 0 || b >= N || v[a].second+v[b].second < 4) return 0;\n\t\n\treturn searching(a-1, b+1) + v[a].second+v[b].second;\n\t\n}\n\nint search(int a) {\n\n\tint ret = 0;\n\n\tif(a > 0) {\n\t\tif(v[a-1].second == 1) {\n\t\t\tret += 4;\n\t\t\tif(v[a].first == v[a-2].first && a-2 >= 0) {\n\t\t\t\tret += v[a-2].second + searching(a-3, a+1);\n\t\t\t} else {\n\t\t\t\tret += searching(a-2, a+1);\n\t\t\t}\n\t\t} else {\n\t\t\tret += 4;\n\t\t\tif(v[a-2].first == v[a+1].first && v[a-2].second + v[a+1].second > 4) {\n\t\t\t\tret += v[a-2].second + v[a+1].second - 1;\n\t\t\t\tret += searching(a-3, a+2);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint temp = ret;\n\tret = 0;\n\t\n\tif(a < len) {\n\t\tif(v[a+1].second == 1) {\n\t\t\tret += 4;\n\t\t\tif(v[a].first == v[a+2].first && a+2 < len) {\n\t\t\t\tret += v[a+2].second + searching(a-1, a+3);\n\t\t\t} else {\n\t\t\t\tret += searching(a-1, a+2);\n\t\t\t}\n\t\t} else {\n\t\t\tret += 4;\n\t\t\tif(v[a-1].first == v[a+2].first && v[a-1].second + v[a+2].second > 4) {\n\t\t\t\tret += v[a-1].second + v[a+2].second - 1;\n\t\t\t\tret += searching(a-2, a+3);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn max(temp, ret);\n}\n\nint main() {\n\n\tint i;\n\n\twhile(cin >> N, N) {\n\t\n\t\tv.clear();\n\n\t\tint last, temp, num = 1;\n\t\tcin >> temp;\n\t\tfor(i = 1; i < N; i++) {\n\t\t\tlast = temp;\n\t\t\tcin >> temp;\n\t\t\tif(last == temp) {\n\t\t\t\tnum++;\n\t\t\t} else {\n\t\t\t\tv.push_back(pii(last, num));\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t}\n\t\tv.push_back(pii(last, num));\n\t\tlen = v.size();\n\t\t\n\t\tint ans = N;\n\t\tfor(i = 0; i < len; i++) {\n\t\t\tif(v[i].second < 3) continue;\n\t\t\tans = min(ans, N-search(i));\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t\t\n\t\t/* ---debug\n\t\tfor(i = 0; i < v.size(); i++) {\n\t\t\tcout << v[i].first << \" \" << v[i].second << endl;\n\t\t}\n\t\t*/\n\t\t\n\t}\n\n\treturn 0;\n\n}"
  },
  {
    "language": "C++",
    "code": "\n\n\n\n\n\n\n\n// C言語\n\n#include <cstdio>\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\n#define MAX\t10000\n\n\n// 解法(分けた方が見やすいかなと思って関数にした)\nint Answer(int N , vector<int> character)\n{\n\tint ans = 9999999;\n\t// 消す基準となる玉の位置\n\tfor (int i = 0; i < N; i++)\n\t{\n\t\t// k : 変えた後の色\n\t\tfor (int j = 1; j <= 3; j++)\n\t\t{\n\t\t\t\n\t\t\t// 色を変えたところで意味のない部分は考えない(悪いけどごり押し) ここから-----\n\t\t\tif (i == 0)\n\t\t\t{\n\t\t\t\tif (character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (i == N - 1)\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (character[i - 1] != j && character[i + 1] != j)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ----- ここまで\n\t\t\t\n\n\t\t\t// vectorをコピーし、指定した要素を削除する\n\t\t\tvector<int>search(character);\n\t\t\tvector<int>::iterator it = search.begin() + i;\n\t\t\tit = search.erase(it);\n\t\t\tsearch.insert(it , j);\n\n\t\t\tint cnt = 1;\n\t\t\tfor (int k = 0; k < search.size(); k++)\n\t\t\t{\n\t\t\t\tcnt = 1;\n\t\t\t\tfor (int l = k + 1; l < search.size(); l++)\n\t\t\t\t{\n\t\t\t\t\tif (search[k] != search[l])\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t\t\t// 4つ以上なら削除する\n\t\t\t\tif (cnt >= 4)\n\t\t\t\t{\n\t\t\t\t\tit = search.begin() + k;\n\t\t\t\t\tsearch.erase(it , it + cnt);\n\t\t\t\t\t// 最初から探索し直す\n\t\t\t\t\tk = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\n\t\t\tans = min(ans , (int)search.size());\n\t\t\t// 0なら探索終了\n\t\t\tif (search.empty() == true)\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn ans;\n}\n\t\n\nint main(void)\n{\n\tint N;\n\tvector<int> character;\n\n\twhile (1)\n\t{\n\t\t// 宣言やら入力やら\n\t\tint ans = 0;\n\t\tint i;\n\t\tcin >> N;\n\t\tif (N == 0)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tcharacter.resize(N);\n\t\tfor (i = 0; i < N; i++)\n\t\t{\n\t\t\tcin >> character[i];\n\t\t}\n\n\t\tans = Answer(N , character);\n\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <vector>\n#include <cstddef>\n#include <algorithm>\n\n#pragma warning(disable : 4996)\n\nusing namespace std;\n\nint main()\n{\n\twhile (true)\n\t{\n\t\tint N, A; size_t MAX = 15000;\n\n\t\tvector<int> D;\n\n\t\tscanf(\"%d\", &N);\n\n\t\tif (N == 0) { break; }\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tscanf(\"%d\", &A);\n\n\t\t\tD.push_back(A);\n\t\t}\n\n\t\tfor (int i = 0; i < N; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= 3; j++)\n\t\t\t{\n\t\t\t\tif (D[i] != j)\n\t\t\t\t{\n\t\t\t\t\tvector<int> E(D.begin(), D.end());\n\n\t\t\t\t\tE[i] = j;\n\n\t\t\t\t\tfor (int k = 0; k < E.size() - 3; k++)\n\t\t\t\t\t{\n\n\t\t\t\t\tloop:;\n\n\t\t\t\t\t\tif (E.size() <= 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (E[k] == E[k + 1] && E[k + 1] == E[k + 2] && E[k + 2] == E[k + 3])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (int l = 0; l < 3; l++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twhile (k < E.size() - 1 && E[k] == E[k + 1])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (k < E.size())\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tE.erase(E.begin() + k);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tk = 0;\n\n\t\t\t\t\t\t\tgoto loop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tMAX = min(E.size(), MAX);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf(\"%d\\n\", MAX);\n\t}\n\n\treturn 0;\n}\n\n// Time : O( 3n ^ 3 )"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef pair<int,int> pint;\n\nint main(){\n    int n;\n    while(cin>>n && n){\n        vector<pint> tget;\n        vector<int> chars;\n        int c,count;\n        int tmp=0;\n        for(int i=0;i<n;++i){\n            cin>>c;\n            chars.push_back(c);\n        }\n        int maxsum=0;\n        for(int i=1;i<n-1;++i){\n            int curb=i,curf=i;\n            int color=chars[i-1];\n            int dsum=0;\n            int back=1,forwd=0;            \n            while(true){                \n                while(curb-back>=0&&chars[curb-back]==color) ++back;\n                while(curf+forwd<n-1&&chars[curf+forwd+1]==color) ++forwd;\n                if(back+forwd<4) break;\n                dsum += back + forwd;                \n                curb -= back;curf += forwd;color=chars[curb];\n                back=0;forwd=0;\n            }\n            maxsum=max(maxsum,dsum);\n        }\n        cout<<chars.size()-maxsum<<endl;\n    }\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n\nint color[10010];\nint N;\nint ans;\n\nint solve(int x, int cc){\n  if(color[x] == cc) return N;\n  int cnt = 1;\n  int back, forward;\n  \n  for(back = x-1 ; back >= 0 ; back--){\n    if(cc == color[back]) cnt++;\n    else break;\n  }\n  for(forward = x+1 ; forward < N ; forward++){\n    if(cc == color[forward]) cnt++;\n    else break;\n  }\n  \n  int res = N-cnt;\n  \n  if(cnt < 4) return N;\n  else if(back < 0 || N <= forward) return N;\n  else if(color[back] != color[forward]) return N;\n  \n    while(1){\n      int tmp = 0;\n      cc = color[back];\n      for( ; back >= 0 ; back--){\n\tif(cc == color[back]) tmp++;\n\telse break;\n      }\n      for( ; forward < N ; forward++){\n\tif(cc == color[forward]) tmp++;\n\telse break;\n      }\n      if(cnt < 4) return res;\n      else if(back < 0 || N <= forward) return res-tmp;\n      else if(color[back] != color[forward]) return res-tmp;\n    \n      res -= tmp;\n    }\n    return res;\n}\n\n\nint main(){\n  while(cin >> N, N){\n    for(int i = 0 ; i < N ; i++) cin >> color[i];\n    int ans = 1001000;\n    for(int i = 0 ; i < N ; i++){\n      for(int c  = 1 ; c <= 3 ; c++){\n\tans = min(ans, solve(i, c));   \n      }\n    }\n    cout << ans << endl;\n  }\n  return 0;\n}\n\n\n    "
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n\nusing namespace std;\n\nint Erase(vector<int> a){\n\tfor (int i = 0, j = 0; j<a.size();){\n\t\tif (a[j] == a[j + 1])j++;\n\t\telse {\n\t\t\tif (j - i>2){\n\t\t\t\ta.erase(a.begin() + i, a.begin() + j + 1);\n\t\t\t\ti = j = 0;\n\t\t\t}\n\t\t\telse j++, i = j;\n\t\t}\n\t}\n\treturn a.size();\n}\n\nint main(void){\n\tint n, m;\n\tvector<int>a;\n\n\twhile (cin >> n, n){\n\t\ta.resize(n);\n\t\tfor (int i = 0; i<n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\n\t\tint ans = 100000000;\n\t\tfor (int i = 0; i<a.size(); i++){\n\t\t\tint temp = a[i];\n\t\t\tfor (int j = 1; j<4; j++){\n\t\t\t\tif (temp != j){\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tans = min(ans, Erase(a));\n\t\t\t\t}\n\t\t\t}\n\t\t\ta[i] = temp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\twhile(true){\n\t\tint n, a, b, ans = 1000000, puyo[10000];\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tint  sum = 0, sub = n;\n\t\t\ta = b = i;\n\t\t\t\n\t\t\twhile(puyo[--a] == puyo[++b]){\n\t\t\t\tfor(int j = a; j < n; j--){\n\t\t\t\t\tif(puyo[j] != puyo[j - 1]){\n\t\t\t\t\t\ta = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = b; j < n; j++){\n\t\t\t\t\tif(puyo[j] != puyo[j + 1]){\n\t\t\t\t\t\tb = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(b - a + 1 >= 4){\n\t\t\t\t\tsum = b - a + 1;\n\t\t\t\t} else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsub -= sum;\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<sstream>\n#include<cstdio>\n#include<cstdlib>\n#include<vector>\n#include<string>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<set>\n#include<map>\n#include<algorithm>\n#include<functional>\n#include<utility>\n#include<cmath>\n#include<ctime>\n#include<complex>\n\nusing namespace std;\n\n#define REP(i,s,e) for(int i=int(s);i<=int(e);i++)\n#define rep(i,n) for(int i=0;i<int(n);i++)\n\nvector<int>s;\nvoid f(vector<int>& x){\n\n\tint r=x.size();\n    if(r<4) return;\n    else{\n\n    \tint p;\n        bool b=false;\n    \t\tREP(i,0,r-4){\n    \t\tif(x[i]==x[i+1] && x[i]==x[i+2] && x[i]==x[i+3]){\n    \t\t\tp=i; b=true; break;\n    \t\t}\n    \t\t}\n\n            if(b){\n                if(x[p]!=x[p+4] && p+4<=r){ x.erase(x.begin()+p,x.begin()+p+4); f(x);}\n                else if(x[p]==x[p+4] && p+4<r){ x.erase(x.begin()+p,x.begin()+p+5); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && p+5<r){ x.erase(x.begin()+p,x.begin()+p+6); f(x);}\n                else if(x[p]==x[p+4] && x[p]==x[p+5] && x[p]==x[p+6] && p+6<r){ x.erase(x.begin()+p,x.begin()+p+7); f(x);}\n\n              }\n\n            else return;\n\n    }\n\n\t}\n\nint main(){\n\n\twhile(1){\n\n\t\tint N,a;\n\n\t\tcin >> N;\n\t\tif(N==0) break;\n\n\t\trep(i,N){\n\t\t\tcin >> a;\n\t\t\ts.push_back(a);\n\t\t}\n\n\t\tif(N<4){ cout << N << endl;}\n\t\telse{\n\n\t\tvector<int>s1=s; int M=10000;\n\t\trep(i,N){\n\n\t\t\tif(s1[i]==1){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif(s1[i]==2){\n\t\t\t\ts1[i]=3; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t\tif(s1[i]==3){\n\t\t\t\ts1[i]=2; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\n\t\t\t\ts1[i]=1; f(s1);\n\t\t\t\tif(s1.size()<M) M=s1.size();\n\t\t\t\ts1=s;\n\t\t\t}\n\n\t\t}\n\n\t\tcout << M << endl;\n\n\t\ts.clear();\n\n\t\t}\n\n\t}\n\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <climits>\n#include <cfloat>\n#include <ctime>\n#include <map>\n#include <utility>\n#include <set>\n#include <iostream>\n#include <memory>\n#include <string>\n#include <vector>\n#include <algorithm>\n#include <functional>\n#include <sstream>\n#include <complex>\n#include <stack>\n#include <queue>\n#include <numeric>\n\nusing namespace std;\n\n#ifdef _MSC_VER\n#define __typeof__ decltype\n\ntemplate <class T>\nint __builtin_popcount(T n) { return n ? 1 + __builtin_popcount(n & (n - 1)) : 0; }\n#endif\n\n#define foreach(it, c) for (__typeof__((c).begin()) it=(c).begin(); it != (c).end(); ++it)\n#define all(c) (c).begin(), (c).end()\n#define rall(c) (c).rbegin(), (c).rend()\n#define popcount __builtin_popcount\n\ntemplate <class T> void max_swap(T& a, const T b) { a = max(a, b); }\ntemplate <class T> void min_swap(T& a, const T b) { a = min(a, b); }\n\nconst double EPS = 1e-10;\ntypedef long long ll;\ntypedef pair<int, int> pint;\n\n\nint main()\n{\n\tint n, p[10100];\n\twhile (scanf(\"%d\", &n), n)\n\t{\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tscanf(\"%d\", p + i);\n\n\t\tint res = n;\n\t\tfor (int i = 0; i < n; ++i)\n\t\t{\n\t\t\tfor (int c = 1; c <= 3; ++c)\n\t\t\t{\n\t\t\t\tint low, high;\n\t\t\t\tlow = i - 1, high = i + 1;\n\t\t\t\tint same = 1, color = c;\n\t\t\t\tint vanish = 0;\n\t\t\t\twhile (true)\n\t\t\t\t{\n\t\t\t\t\twhile (low >= 0 && p[low] == color)\n\t\t\t\t\t\t--low, ++same;\n\t\t\t\t\twhile (high < n && p[high] == color)\n\t\t\t\t\t\t++high, ++same;\n\n\t\t\t\t\tif (same < 4)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tvanish += same;\n\t\t\t\t\tsame = 0;\n\t\t\t\t\tcolor = p[low];\n\t\t\t\t}\n\n\t\t\t\tmin_swap(res, n - vanish);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", res);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint main(void)\n{\n\tint n,m,i,j,l,a[10000],w,flg,f[10000],x,k,p,h;\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0) break;\n\t\tm=100000;\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&a[i]);\n\t\t}\n\t\tfor(i=0;i<n;i++){\n\t\t\tw=a[i];\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\ta[i]=j;\n\t\t\t\tfor(l=0;l<n;l++) f[l]=a[l];\n\t\t\t\tx=n;\n\t\t\t\twhile(1){\n\t\t\t\t\th=1; k=0; flg=0; p=f[0];\n\t\t\t\t\tfor(l=1;l<x;l++){\n\t\t\t\t\t\tif(f[l]==p){\n\t\t\t\t\t\t\th++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(h>=4){\n\t\t\t\t\t\t\t\tflg=1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tk=l;\n\t\t\t\t\t\t\t\th=1;\n\t\t\t\t\t\t\t\tp=f[l];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(flg==1){\n\t\t\t\t\t\tfor(l=k;l<x-h;l++){\n\t\t\t\t\t\t\tf[l]=f[l+h];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tx=x-h;\n\t\t\t\t\t}\n\t\t\t\t\telse break;\n\t\t\t\t}\n\t\t\t\tif(m>x) m=x;\n\t\t\t}\n\t\t\ta[i]=w;\n\t\t}\n\t\tprintf(\"%d\\n\",m);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\nint chr[10000],N;\nint solve(int n) {\n\tint count=1,check=chr[n];\n\tint i,j;\n\tfor(i=n-1;i>=0;i--)\n\t\tif(chr[i]!=check)break;else count++;\n\tfor(j=n+1;j<N;j++)\n\t\tif(chr[j]!=check)break;else count++;\n\tif(count>=4) {\n\t\tif(i==-1||j==N)return count;\n\t\tif(chr[i]!=chr[j])return count;\n\t\tint add;\n\t\twhile(i>=0&&j<N) {\n\t\t\tadd=0;\n\t\t\tcheck=chr[i];\n\t\t\tfor(i;i>=0;i--)\n\t\t\t\tif(chr[i]!=check)break;else add++;\n\t\t\tfor(j;j<N;j++)\n\t\t\t\tif(chr[j]!=check)break;else add++;\n\t\t\tif(add>=4)count+=add;else break;\n\t\t}\n\t\treturn count;\n\t}else return 0;\n}\nint main() {\n\tFILE *in=fopen(\"input.txt\",\"r\");\n\twhile(fscanf(in,\"%d\",&N),N) {\n\t\tfor(int i=0;i<N;i++)\n\t\t\tfscanf(in,\"%d\",&chr[i]);\n\t\tint res=0,ret,tmp;\n\t\tfor(int i=0;i<N;i++) {\n\t\t\ttmp=chr[i];\n\t\t\tfor(int j=1;j<=3;j++) {\n\t\t\t\tif(tmp==j)continue;\n\t\t\t\tchr[i]=j;\n\t\t\t\tret=solve(i);\n\t\t\t\tif(res<ret)res=ret;\n\t\t\t}\n\t\t\tchr[i]=tmp;\n\t\t}\n\t\tprintf(\"%d\\n\",N-res);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "// 素朴な全探索\n#include <fstream>\n#include <iostream>\n#include <cmath>\n#include <vector>\n#include <queue>\n#include <utility>\n#include <algorithm>\nusing namespace std;\nint N;\nvector<int> a;\n\nint cnt_same_clr(int i, bool incre) { // inclre = true なら i 増加\n  int cnt = 0;\n  int clr = a[i];\n  if (incre) {\n    while(i < N && a[i] == clr) {\n      cnt++;\n      i++;\n    }\n  } else {\n    while(i >= 0 && a[i] == clr) {\n      cnt++;\n      i--;\n    }\n  }\n  return cnt;\n}\n\nint cnt_left(int i, int clr) {\n  int tmp = a[i];\n  a[i] = clr; // 一時的に a[i] を変更\n  int cnt = 0;\n  int f = i;\n  int e = i;\n  if (a[i] == a[i+1])\n    e++;\n  else\n    f++;\n  while (f >= 0 && e < N && a[f] == a[e]) {\n    int cnt_f = cnt_same_clr(f, false);\n    int cnt_e = cnt_same_clr(e, true);\n    if (cnt_f + cnt_e < 4) break;\n    cnt++;\n    f -= cnt_f;\n    e += cnt_e;\n  }\n  a[i] = tmp; // 色を戻す\n\n  // 残ったキャラ数を計算\n  int left = N - (e - f - 1);\n  // cout << N << \" \" << left << endl;\n  return left;\n}\n\nint main() {\n  ifstream cin(\"../test.txt\");\n  while (true) {\n    cin >> N;\n    if (!N) break;\n    a = vector<int>(N);\n    for (int i = 0; i < N; i++) {\n      cin >> a[i];\n    }\n\n    int left_min = N;\n    int three = 0;\n    for (int i = 1; i < N-1; i++) {\n\n      if (a[i-1] == a[i+1] && a[i] != a[i-1]) {\n        left_min = min(left_min, cnt_left(i, a[i-1]));\n      }\n\n      if (three == 2) {\n        left_min = min(left_min, cnt_left(i, a[i-1]));\n      }\n      if (a[i] == a[i-1])\n        three++;\n      else\n        three = 0;\n    }\n    three = 0;\n    for (int i = N-2; i > 0; i--) {\n      if (three == 2) {\n        left_min = min(left_min, cnt_left(i, a[i+1]));\n      }\n\n      if (a[i] == a[i+1])\n        three++;\n      else\n        three = 0;\n    }\n\n    cout << left_min << endl;\n  }\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\n\nusing namespace std;\n\n#define FOR(i,a,b) for(int i=(a);i<(b);++i)\n#define REP(i,n) FOR(i,0,n)\n#define PB push_back\n#define MP make_pair\n\ntypedef pair<int, int> PII;\n\nint n;\n\nint solve(int l, const vector<PII>& v) {\n\tint r = l + 1, res = n;\n\n\twhile (l >= 0 && r < v.size()) {\n\t\tint color = v[l].first;\n\t\tint count = 0;\n\t\tfor (; l >= 0 && v[l].first == color; l--) count += v[l].second;\n\t\tfor (; r < v.size() && v[r].first == color; r++) count += v[r].second;\n\n\t\tif (count < 4) break;\n\t\tres -= count;\n\t}\n\treturn res;\n}\n\nint main() {\n\twhile (true) {\n\t\tint a, b, ans;\n\t\tvector<PII> p;\n\n\t\tcin >> n;\n\t\tif (n == 0) break;\n\t\ta = -1; b = 0;\n\t\tREP(i, n) {\n\t\t\tint in; cin >> in;\n\t\t\tif (a == in) b++;\n\t\t\telse {\n\t\t\t\tp.PB(MP(a, b));\n\t\t\t\ta = in;\n\t\t\t\tb = 1;\n\t\t\t}\n\t\t}\n\t\tp.PB(MP(a, b));\n\t\tp.erase(p.begin());\n\n\t\tans = n;\n\t\tREP(i, p.size()) {\n\t\t\tif (p[i].second == 1) {\n\t\t\t\tint tmp = p[i].first;\n\t\t\t\tif (i > 0 && p[i-1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i-1].first;\n\t\t\t\t\tans = min(ans, solve(i-1, p));\n\t\t\t\t}\n\t\t\t\tif (i < p.size() - 1 && p[i+1].second >= 3) {\n\t\t\t\t\tp[i].first = p[i+1].first;\n\t\t\t\t\tans = min(ans, solve(i, p));\n\t\t\t\t}\n\t\t\t\tp[i].first = tmp;\n\t\t\t}\n\t\t}\n\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n\nusing namespace std;\n\ntypedef vector<int> vi;\n\nint n;\n\nint f(vi a, int n, int idx)\n{\n\tvi kesu;\n\n\tfor (int i = idx + 1; i < n; ++i) {\n\t\tif (a[i] != a[idx]) break;\n        kesu.push_back(i);\n\t}\n\tfor (int i = idx - 1; i >= 0; --i) {\n\t\tif (a[i] != a[idx]) break;\n        kesu.push_back(i);\n\t}\n\n    if (kesu.size() < 3) return n;\n\n    while (!kesu.empty()) {\n        a[kesu.back()] = 0;\n        kesu.pop_back();\n    }\n    a[idx] = 0;\n\n\tvi b;\n\n\tint nextidx = -1;\n\n\tfor (int i = 0; i < n; ++i) {\n\t\tif (a[i]) {\n\t\t\tb.push_back(a[i]);\n\t\t\tif (nextidx == -1 && i >= 1 && a[i - 1] == 0) {\n\t\t\t\tnextidx = b.size() - 1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (nextidx == -1) {\n\t\t\t\tif (!b.empty()) {\n\t\t\t\t\tnextidx = i - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n   return f(b, b.size(), nextidx); \n}\n\nint calc(vi a, int n, int idx)\n{\n\tvi b = a;\n\tif (idx >= 3 && a[idx - 1] == a[idx - 2] && a[idx - 2] == a[idx - 3]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx <= n - 4 && a[idx + 1] == a[idx + 2] && a[idx + 2] == a[idx + 3]) {\n\t\tb[idx] = b[idx + 1];\n\t} else if (idx >= 2 && idx <= n - 2 && a[idx - 1] == a[idx - 2] && a[idx - 1] == a[idx + 1]) {\n\t\tb[idx] = b[idx - 1];\n\t} else if (idx >= 1 && idx <= n - 3 && a[idx - 1] == a[idx + 1] && a[idx - 1] == a[idx + 2]) {\n\t\tb[idx] = b[idx - 1];\n\t} else {\n\t\treturn n;\n\t}\n\n\treturn f(b, b.size(), idx);\n}\n\nint main()\n{\n\twhile (cin >> n, n) {\n        vi arr;\n\n        for (int i = 0; i < n; ++i) {\n            int a; cin >> a;\n            arr.push_back(a);\n        }\n\n        int mi = 10001;\n\n        for (int i = 0; i < n; ++i) {\n            mi = min(mi, calc(arr, arr.size(), i));\n        }\n\n        cout << mi << endl;\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#define min(a,b) ((a)<=(b)?(a):(b))\nint C[10000],N;\nint solve(int x) {\n\tint i,j,count=1;\n\tfor(i=x-1;i>=0;i--) if(C[x]!=C[i]) break; else count++;\n\tfor(j=x+1;j<N;j++) if(C[x]!=C[j]) break; else count++;\n\tif(count<4) return N;\n\tif(C[i]!=C[j]) return N-count;\n\twhile(i>=0 && j<N) {\n\t\tint chr=C[i],Count=0;\n\t\tfor(i;i>=0;i--) if(C[i]!=chr) break; else Count++;\n\t\tfor(j;j<N;j++) if(C[j]!=chr) break; else Count++;\n\t\tif(Count<4) break; else count+=Count;\n\t}\n\treturn N-count;\n}\nint main() {\n\twhile(scanf(\"%d\",&N),N) {\n\t\tfor(int i=0;i<N;i++) scanf(\"%d\",&C[i]);\n\t\tint ans=1<<30;\n\t\tfor(int i=0;i<N;i++) {\n\t\t\tint chr=C[i];\n\t\t\tfor(int j=1;j<=3;j++) {\n\t\t\t\tif(chr==j) continue;\n\t\t\t\tC[i]=j;\n\t\t\t\tans=min(ans,solve(i));\n\t\t\t}\n\t\t\tC[i]=chr;\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <algorithm>\n#include <cstdint>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <numeric>\n#include <queue>\n#include <set>\n#include <stack>\n#include <string>\n#include <utility>\n#include <vector>\n\nusing namespace std;\n#define REP(i, n) for (int i = 0; i < n; i++)\n#define FOR(i, s, t) for (int i = s; i < t; i++)\n#define ALL(obj) obj.begin(), obj.end()\n\nconst int iINF = 1e9;\nconst long long llINF = 1e18;\nconst int MOD = 1e9 + 7;\ntemplate <class T>\ninline bool chmax(T& a, T b) {\n    if (a < b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\ntemplate <class T>\ninline bool chmin(T& a, T b) {\n    if (a > b) {\n        a = b;\n        return 1;\n    }\n    return 0;\n}\n\ntemplate <int MOD>\nstruct ModInt {\n    long long val;\n    constexpr ModInt(long long v = 0) noexcept : val(v % MOD) {\n        if (val < 0) val += MOD;\n    }\n    constexpr int getmod() { return MOD; }\n    constexpr ModInt operator-() const noexcept { return val ? MOD - val : 0; }\n    constexpr ModInt operator+(const ModInt& r) const noexcept { return ModInt(*this) += r; }\n    constexpr ModInt operator-(const ModInt& r) const noexcept { return ModInt(*this) -= r; }\n    constexpr ModInt operator*(const ModInt& r) const noexcept { return ModInt(*this) *= r; }\n    constexpr ModInt operator/(const ModInt& r) const noexcept { return ModInt(*this) /= r; }\n    constexpr ModInt& operator+=(const ModInt& r) noexcept {\n        val += r.val;\n        if (val >= MOD) val -= MOD;\n        return *this;\n    }\n    constexpr ModInt& operator-=(const ModInt& r) noexcept {\n        val -= r.val;\n        if (val < 0) val += MOD;\n        return *this;\n    }\n    constexpr ModInt& operator*=(const ModInt& r) noexcept {\n        val = val * r.val % MOD;\n        return *this;\n    }\n    constexpr ModInt& operator/=(const ModInt& r) noexcept {\n        long long a = r.val, b = MOD, u = 1, v = 0;\n        while (b) {\n            long long t = a / b;\n            a -= t * b;\n            swap(a, b);\n            u -= t * v;\n            swap(u, v);\n        }\n        val = val * u % MOD;\n        if (val < 0) val += MOD;\n        return *this;\n    }\n    constexpr bool operator==(const ModInt& r) const noexcept { return this->val == r.val; }\n    constexpr bool operator!=(const ModInt& r) const noexcept { return this->val != r.val; }\n    friend constexpr ostream& operator<<(ostream& os, const ModInt<MOD>& x) noexcept { return os << x.val; }\n\n    friend constexpr istream& operator>>(istream& is, ModInt<MOD>& x) noexcept { return is >> x.val; }\n    friend constexpr ModInt<MOD> modpow(const ModInt<MOD>& a, long long n) noexcept {\n        if (n == 0) return 1;\n        auto t = modpow(a, n / 2);\n        t = t * t;\n        if (n & 1) t = t * a;\n        return t;\n    }\n};\n\nusing mint = ModInt<MOD>;\n\nlong long modPow(long long x, long long n, long long mod) {\n    long long res = 1;\n    while (n > 0) {\n        if (n & 1) res = res * x % mod;\n        x = x * x % mod;\n        n >>= 1;\n    }\n    return res;\n}\n\nlong long extGCD(long long a, long long b, long long& x, long long& y) {\n    if (b == 0) {\n        x = 1;\n        y = 0;\n        return a;\n    }\n\n    long long d = extGCD(b, a % b, y, x);\n    y -= a / b * x;\n    return d;\n}\n\nlong long gcd(long long a, long long b) {\n    if (b == 0) {\n        return a;\n    } else {\n        return gcd(b, a % b);\n    }\n}\n\nlong long lcm(long long a, long long b) { return a / gcd(a, b) * b; }\n\ntemplate <typename T>\nmap<T, int> compress(vector<T> x) {\n    map<T, int> res;\n    sort(x.begin(), x.end());\n    x.erase(unique(x.begin(), x.end()), x.end());\n    for (int i = 0; i < x.size(); i++) {\n        res[x[i]] = i;\n    }\n\n    return res;\n}\n\ntemplate <typename T>\nint former(const vector<T>& v, T x) {\n    return upper_bound(v.begin(), v.end(), x) - v.begin() - 1;\n}\n\ntemplate <typename T>\nint latter(const vector<T>& v, T x) {\n    return lower_bound(v.begin(), v.end(), x) - v.begin();\n}\n\ntemplate <typename T>\nusing Vec = vector<T>;\ntemplate <typename T>\nusing VVec = vector<vector<T>>;\nusing LL = long long;\nvoid solve(int N) {\n    vector<int> a(N + 2);\n    REP(i, N) { cin >> a[i + 1]; }\n    a[0] = 4;\n    a[N + 1] = 4;\n    int ans = 0;\n    FOR(p, 1, N + 1) {\n        FOR(c, 1, 4) {\n            int l = p - 1, r = p + 1, cnt = 1, color = c, sum = 0;\n            while (1) {\n                while (a[l] == color) l--, cnt++;\n                while (a[r] == color) r++, cnt++;\n                if (cnt >= 4)\n                    sum += cnt;\n                else\n                    break;\n\n                cnt = 0;\n                if (a[l] != a[r]) break;\n                color = a[l];\n            }\n            chmax(ans, sum);\n        }\n    }\n\n    cout << N - ans << endl;\n    return;\n}\n\nint main() {\n    int N;\n    while (cin >> N && N) {\n        solve(N);\n    }\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <iomanip>\n#include <map>\n#include <set>\n#include <queue>\n#include <stack>\n#include <numeric>\n#include <bitset>\n\nstatic const int MOD = 1000000007;\nusing ll = int64_t;\nusing namespace std;\n\ntemplate<class T> constexpr T INF = ::numeric_limits<T>::max()/32*15+208;\n\n\nint main() {\n    int n;\n    while(cin >> n, n){\n        vector<int> v(n+2);\n        for (int i = 0; i < n; ++i) {\n            scanf(\"%d\", &v[i+1]);\n        }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= 3; ++j) {\n                int tmp_ = v[i];\n                v[i] = j;\n                int valid = 1, l = i, r = i, c = 0;\n                while(valid){\n                    valid = 0;\n                    while(v[l-1] == v[l]) l--;\n                    while(v[r+1] == v[r]) r++;\n                    if(r-l+1-c >= 4){\n                        valid = 1;\n                        c += r-l+1-c;\n                        l--; r++;\n                    }\n                }\n                v[i] = tmp_;\n                ans = max(ans, c);\n            }\n        }\n        cout << n-ans << \"\\n\";\n    };\n\n    return 0;\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <vector>\n\nusing namespace std;\n\nint n;\n\nint search(int num, int a[20000]){\n\tint ref = a[num];\n\tint ans = 0;\n\tfor(int i = 1; i <= 3; i++){\n\t\ta[num] = i;\n\t\tint ind1 = num;\n\t\tint ind2 = num;\n\t\twhile(true){\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(a[ind1] != a[ind2]){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tint cnt = 2;\n\t\t\tif(ind1 == ind2){\n\t\t\t\tcnt--;\n\t\t\t}\n\t\t\twhile(ind1 >= 0 && a[ind1] == a[ind1 - 1]){\n\t\t\t\tind1--;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\twhile(ind2 <= n - 1 && a[ind2] == a[ind2 + 1]){\n\t\t\t\tind2++;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t\tif(cnt < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(ind1 < 0 || ind2 > n - 1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tind1--;\n\t\t\tind2++;\n\t\t}\n\t\t//cout << num << \" \" << i << \" \" << ind1 << \" \" << ind2 << endl;\n\t\tans = max(ans, ind2 - ind1 - 1);\n\t}\n\ta[num] = ref;\n\tif(ans < 4){\n\t\tans = 0;\n\t}\n\treturn ans;\n}\n\nint main(){\n\t\n\tint a[20000];\n\t\n\twhile(true){\n\t\tcin >> n;\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> a[i];\n\t\t}\n\t\tint ans = 0;\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tans = max(ans, search(i, a));\n\t\t}\n\t\tcout << n - ans << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n#include <cassert>\n#include <iostream>\n#include <cctype>\n#include <sstream>\n#include <string>\n#include <list>\n#include <vector>\n#include <queue>\n#include <set>\n#include <stack>\n#include <map>\n#include <utility>\n#include <numeric>\n#include <algorithm>\n#include <iterator>\n#include <bitset>\n#include <complex>\n#include <fstream>\nusing namespace std;\ntypedef long long ll;\nconst double EPS = 1e-9;\ntypedef vector<int> vint;\ntypedef pair<int, int> pint;\n#define rep(i, n) REP(i, 0, n)\n#define ALL(v) v.begin(), v.end()\n#define MSG(a) cout << #a << \" \" << a << endl;\n#define REP(i, x, n) for(int i = x; i < n; i++)\ntemplate<class T> T RoundOff(T a){ return int(a+.5-(a<0)); }\ntemplate<class T, class C> void chmax(T& a, C b){ if(a < b) a = b; }\ntemplate<class T, class C> void chmin(T& a, C b){ if(b < a) a = b; }\ntemplate<class T, class C> pair<T, C> mp(T a, C b){ return make_pair(a, b); }\n\nstruct Dango\n{\n\tint number;\n\tint color;\n\t\n\tDango() {}\n\tDango(int num, int col) : number(num), color(col) {}\n};\n\n// return delete block number\nint rensa(vector<Dango>& dango, int index)\n{\t\n\tif(0 < index && index < dango.size() && dango[index - 1].color == dango[index].color && 4 <= dango[index - 1].number + dango[index].number)\n\t{\n\t\tint ret = dango[index - 1].number + dango[index].number;\n\t\t\n\t\tdango.erase(dango.begin() + index - 1);\n\t\tdango.erase(dango.begin() + index - 1);\n\t\t\n\t\treturn rensa(dango, index - 1) + ret;\n\t}\n\t\n\tif(0 <= index && index < dango.size() && 4 <= dango[index].number)\n\t{\n\t\tint ret = dango[index].number;\n\t\t\n\t\tdango.erase(dango.begin() + index);\n\t\t\n\t\treturn rensa(dango, index) + ret;\n\t}\n\t\n\tif(0 < index && index <= dango.size() && 4 <= dango[index - 1].number)\n\t{\n\t\tint ret = dango[index - 1].number;\n\t\t\n\t\tdango.erase(dango.begin() + index - 1);\n\t\t\n\t\treturn rensa(dango, index - 1) + ret;\n\t}\n\t\n\treturn 0;\n}\n\nint main()\n{\n    for(int n; cin >> n && n;)\n\t{\n\t\tvector<Dango> dango;\n\t\t\n\t\tint m = 0;\n\t\trep(i, n)\n\t\t{\n\t\t\tint color;\n\t\t\tcin >> color;\n\t\t\t\n\t\t\tif(i != 0 && dango[m - 1].color == color) dango[m - 1].number++;\n\t\t\telse dango.push_back(Dango(1, color)), m++;\n\t\t}\n\t\t\n\t\tint res = n;\n\t\t\n\t\t// ツ前ツづ可債づュツつケツづ古」ツづォツつェツ陛渉つヲツづゥ\n\t\trep(i, m - 1) // if(dango[i + 1].number == 3)\n\t\t{\n\t\t\tvector<Dango> v(dango);\n\t\t\t\n\t\t\tv[i].number--;\n\t\t\tv[i + 1].number++;\n\t\t\t\n\t\t\tif(v[i].number == 0) v.erase(v.begin() + i);\n\t\t\t\n\t\t\tchmin(res, n - rensa(v, i + 1));\n\t\t}\n\t\t\n\t\t// ツ古」ツづォツづ可債づュツつケツづ前ツつェツ陛渉つヲツづゥ\n\t\tREP(i, 1, m) // if(dango[i - 1].number == 3)\n\t\t{\n\t\t\tvector<Dango> v(dango);\n\t\t\t\n\t\t\tv[i].number--;\n\t\t\tv[i - 1].number++;\n\t\t\t\n\t\t\tif(v[i].number == 0) v.erase(v.begin() + i);\n\t\t\t\n\t\t\tchmin(res, n - rensa(v, i));\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <vector>\n#include <iostream>\n\nusing namespace std;\n\n#define sz\t\t\tsize()\n#define pb\t\t\tpush_back\n#define mp\t\t\tmake_pair\n#define fir\t\t\tfirst\n#define sec\t\t\tsecond\n\ntypedef pair<int,int> P;\n\nconst int INF=100000;\n\nvector <P> v;\n\nint main(void)\n{\n\tint n;\n\twhile (cin >> n, n){\n\t\tif (n == 0) break;\n\t\t\n\t\tv.clear();\n\t\tint num = 1, tmp, prev;\n\t\tint res = 0, place = INF;\n\t\t\n\t\tcin >> prev;\n\t\tfor (int i = 0; i < n - 1; i++){\n\t\t\tcin >> tmp;\n\t\t\tif (tmp == prev) num++;\n\t\t\telse {\n\t\t\t\tv.pb(mp(prev, num));\n\t\t\t\tnum = 1;\n\t\t\t}\n\t\t\tprev = tmp;\n\t\t}\n\t\tv.pb(mp(prev, num));\n\t\t\n\t\tint m = 3;\n\t\tfor (int i = 1; i < v.sz - 1; i++){\n\t\t\tif (v[i - 1].fir == v[i + 1].fir && v[i].sec == 1){\n\t\t\t\ttmp = v[i - 1].sec + v[i].sec + v[i + 1].sec;\n\t\t\t\tif (m < tmp){\n\t\t\t\t\tplace = i;\n\t\t\t\t\tm = tmp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (place == INF){\n\t\t\tcout << n << endl;\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tv[place].fir = v[place + 1].fir = v[place - 1].fir = 0;\n\t\tint up = place - 2, down = place + 2;\n\t\twhile (0 <= up && down <= (v.sz - 1)){\n\t\t\tif (v[up].sec + v[down].sec < 4) break;\n\t\t\telse if (v[up].fir == v[down].fir){\n\t\t\t\tv[up].fir = v[down].fir = 0;\n\t\t\t\tup--;\n\t\t\t\tdown++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\tfor (int i = 0; i < v.sz; i++){\n\t\t\tif (v[i].fir != 0){\n\t\t\t\tres += v[i].sec;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << res << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <stdio.h>\n#include <algorithm>\n\nusing namespace std;\n\nint disp(int block[], int c, int n)\n{\n\tint p, q;\n\tint i, j;\n\t\n\tfor (i = 1; block[c + i] == block[c]; i++);\n\tfor (j = 1; block[c - j] == block[c]; j++);\n\t\n\tif (i + j - 1 >= 4){\n\t\tp = c + i;\n\t\tq = c - j;\n\t}\n\telse {\n\t\treturn (n);\n\t}\n\t\n\twhile (block[p] != -1 && block[q] != -1){\n\t\tif (block[p] != block[q]){\n\t\t\tbreak;\n\t\t}\n\t\tfor (i = 1; block[p + i] == block[p]; i++);\n\t\tfor (j = 1; block[q - j] == block[q]; j++);\n\t\t\n\t\tif (i + j >= 4){\n\t\t\tp += i;\n\t\t\tq -= j;\n\t\t}\n\t\telse {\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tint ret = 0;\n\tfor (int i = p; block[i] != -1; i++){\n\t\tret++;\n\t}\n\tfor (int i = q; block[i] != -1; i--){\n\t\tret++;\n\t}\n\t\n\treturn (ret);\n}\n\nint main(void)\n{\n\tint block[10002];\n\tint n;\n\tint ans;\n\t\n\twhile (1){\n\t\tscanf(\"%d\", &n);\n\t\t\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tblock[0] = block[n + 1] = -1;\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tscanf(\"%d\", &block[i]);\n\t\t\tblock[i]--;\n\t\t}\n\t\t\n\t\tans = 10000;\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tblock[i] = (block[i] + 1) % 3;\n\t\t\tans = min(disp(block, i, n), ans);\n\t\t\tblock[i] = (block[i] + 1) % 3;\n\t\t\tans = min(disp(block, i, n), ans);\n\t\t\tblock[i] = (block[i] + 1) % 3;\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n\nusing namespace std;\n\nint n;\nint a[10010],b[10010],co[10010];\n\nint solve(int l,int r){\n    \n    while(co[l] == co[r] && a[l]+b[r] >= 4){\n        l = l-a[l];\n        r = r+b[r];\n    }\n    \n    return (l+n-r+1);\n}\n\nint main(){\n    \n    int ans;\n    while(cin >> n,n!=0){\n        \n        co[0] = -1;\n        co[n+1] = -1;\n        a[0] = 0;\n        a[n+1] = 0;\n        for(int i=1;i<=n;i++){\n            cin >> co[i];\n            if(co[i] == co[i-1]) a[i] = a[i-1]+1;\n            else a[i] = 1;\n        }\n    \n        b[0] = 0;\n        b[n+1] = 0;\n        for(int i=n;i>0;i--){\n            if(co[i] == co[i+1]) b[i] = b[i+1]+1;\n            else b[i] = 1;\n        }\n        \n        ans = n;\n        for(int i=1;i<=n;i++){\n        \n            if(a[i-1] >= 3 || b[i+1] >= 3 || co[i-1] == co[i+1] && a[i-1]+b[i+1] >= 3){\n                \n                int l = (i-1)-a[i-1];\n                int r = (i+1)+b[i+1];\n            \n                if(co[i-1] == co[i+1]) ans = min(ans,solve(l,r));\n                else {\n                    if(a[i-1] >= 3) ans = min(ans,solve(l,i+1));\n                    if(b[i+1] >= 3) ans = min(ans,solve(i-1,r));\n                }\n        \n            }\n        \n        }\n        cout << ans << endl;\n    }\n    \n    return(0);\n}\n"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <map>\n#include <algorithm>\nusing namespace std;\n\ntypedef pair<int,int> P;\n\nvoid debug(vector<P>& v){\n\tcout << \"[debug]\" << endl;\n\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\tcout << \"(\" << v[i].first << \",\" << v[i].second << \")\" << endl;\n\t}\n\tcout << endl;\n}\n\nvector<P> remove(vector<P>& a){\n\tbool flag = false;\n\tvector<P> a_;\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\tif( a[i].second <= 0 || a[i].second >= 4 ){\n\t\t\tflag = true;\n\t\t}else{\n\t\t\tif( !a_.empty() && a_[a_.size()-1].first == a[i].first ){\n\t\t\t\tflag = true;\n\t\t\t\ta_[a_.size()-1].second += a[i].second;\n\t\t\t}else{\n\t\t\t\ta_.push_back( a[i] );\n\t\t\t}\n\t\t}\n\t}\n\tif( flag ) return remove(a_);\n\treturn a_;\n}\n\nint sum(vector<P>& a){\n\tint s = 0;\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\ts += a[i].second;\n\t}\n\treturn s;\n}\n\nint solve(vector<P>& a){\n\tint ans = sum(a);\n\tfor(int i=0 ; i < a.size() ; i++ ){\n\t\tif( 0 <= i-1 ){\n\t\t\t// 1つ前の色に変える.\n\t\t\tint c = a[i-1].first;\n\t\t\tvector<P> a_ = a;\n\t\t\ta_[i].second--;\n\t\t\ta_[i-1].second++;\n\t\t\ta_ = remove(a_);\n\t\t\t/*if( sum(a_) < ans ){\n\t\t\t\tcout << \"change:\" << i << \" color:\" << c << endl;\n\t\t\t\tdebug(a_);\n\t\t\t}*/\n\t\t\tans = min( ans , sum(a_) );\n\t\t}\n\t\tif( i+1 < a.size() ){\n\t\t\t// 1つ後ろの色に変える.\n\t\t\tint c = a[i+1].first;\n\t\t\tvector<P> a_ = a;\n\t\t\ta_[i].second--;\n\t\t\ta_[i+1].second++;\n\t\t\ta_ = remove(a_);\n\t\t\t/*if( sum(a_) < ans ){\n\t\t\t\tcout << \"change:\" << i << \" color:\" << c << endl;\n\t\t\t\tdebug(a_);\n\t\t\t}*/\n\t\t\tans = min( ans , sum(a_) );\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main(){\n\tint n;\n\twhile( cin >> n , n ){\n\t\tvector<int> v(n);\n\t\tfor(int i=0 ; i < n ; i++ ){\n\t\t\tcin >> v[i];\n\t\t}\n\t\tvector<P> a;\n\t\tfor(int i=0 ; i < v.size() ; i++ ){\n\t\t\tif( i == 0 ){\n\t\t\t\ta.push_back( P(v[i],1) );\n\t\t\t}else if( v[i-1] == v[i] ){\n\t\t\t\ta[a.size()-1].second++;\n\t\t\t}else{\n\t\t\t\ta.push_back( P(v[i],1) );\n\t\t\t}\n\t\t}\n\t\tcout << solve( a ) << endl;\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<cmath>\n#include<map>\n#include<set>\n#include<vector>\n#include<algorithm>\n#include<string.h>\n#include<queue>\n#include<stack>\n#include<climits>\n#include<cmath>\n#include<stdio.h>\nusing namespace std;\n\nint ar[10002];\n\nint main(){\n    int n;\n    cin>>n;\n    for(int i=0;i<n;i++){\n        cin>>ar[i];\n    }\n    int ans=INT_MAX;\n    for(int i=0;i<n;i++){\n        int cur=ar[i];\n        for(int j=1;j<=3;j++){\n            ar[i]=j;\n            int l=i,r=i;\n            while(1){\n                while(l>0&&ar[l-1]==ar[r]){\n                    l--;\n                }\n                while(r<n-1&&ar[r+1]==ar[l]){\n                    r++;\n                }\n                if(l>0&&r<n-1&&r-l+1>3){\n                    l--;r++;\n                } else {\n                    break;\n                }\n            }\n            ans=min(l+n-r+2,ans);\n        }\n        ar[i]=cur;\n    }\n    cout<<ans<<endl;\n    return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <cstring>\n#include <cstdlib>\n#include <cmath>\n#include <complex>\n#include <string>\n#include <sstream>\n#include <algorithm>\n#include <vector>\n#include <queue>\n#include <stack>\n#include <functional>\n#include <iostream>\n#include <map>\n#include <set>\nusing namespace std;\ntypedef pair<int,int> P;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\n#define pu push\n#define pb push_back\n#define mp make_pair\n#define eps 1e-9\n#define INF 200000000\n#define sz(x) ((int)(x).size())\n#define fi first\n#define sec second\n#define EQ(a,b) (abs((a)-(b))<EPS)\nvi puyopuyo;\nint main()\n{\n\twhile(1)\n\t{\n\t\tpuyopuyo.clear();\n\t\tint n;\n\t\tint ans=n;\n\t\tcin >> n;\n\t\tif(n==0)break;\n\t\tpuyopuyo.pb(INF);\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tint k;\n\t\t\tcin >> k;\n\t\t\tpuyopuyo.pb(k);\n\t\t}\n\t\tpuyopuyo.pb(-INF);\n\t\tfor(int i=1;i<=puyopuyo.size();i++)\n\t\t{\n\t\t\tint tmp=puyopuyo[i];\n\t\t\tint top=i+1;\n\t\t\tint under=i;\n\t\t\tint res=n;\n\t\t\tpuyopuyo[under]=puyopuyo[top];\n\t\t\twhile(puyopuyo[under]==puyopuyo[top])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top+1]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(tmp2==puyopuyo[under-1])\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\ttop=i;\n\t\t\tunder=i-1;\n\t\t\tres=n;\n\t\t\tpuyopuyo[top]=puyopuyo[under];\n\t\t\twhile(puyopuyo[top]==puyopuyo[under])\n\t\t\t{\n\t\t\t\tint remove=0;\n\t\t\t\tint tmp2=puyopuyo[top];\n\t\t\t\twhile(puyopuyo[top]==tmp2)\n\t\t\t\t{\n\t\t\t\t\ttop++;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\twhile(puyopuyo[under]==tmp2)\n\t\t\t\t{\n\t\t\t\t\tunder--;\n\t\t\t\t\tremove++;\n\t\t\t\t}\n\t\t\t\tif(remove>=4)\n\t\t\t\t{\n\t\t\t\t\tres-=remove;\n\t\t\t\t}\n\t\t\t\telse break;\n\t\t\t}\n\t\t\tans=min(ans,res);\n\t\t\tpuyopuyo[i]=tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i,a) for(int i=0;i<a;i++)\n#define inf 612695281\n\nint hoge =0;\nint chain[10000][2];\nint n;\n\n\nint solve(int where,int h){\n\tint copy=chain[where][0];\n\tchain[where][0]--;\n\tint re=0;\n\tint b=where;\n\tint a=where;\n\t//cout<<a<<b;\n\tif(h==0 and b==0){chain[where][0]=copy;/*cout<<\"W\"<<endl;*/return re;}\n\tif(h==1 and a==hoge-1){chain[where][0]=copy;/*cout<<\"E\"<<endl;*/return re;}\n\tif(h==0 and chain[b-1][0]<3){chain[where][0]=copy;/*cout<<\"T\"<<endl;*/return re;}\n\tif(h==1 and chain[a+1][0]<3){chain[where][0]=copy;/*cout<<\"U\"<<endl;*/return re;}\n\t\n\tif(0==0){\n\t\t//cout<<\"     \"<<b<<\"    \";\n\t\t//cout<<chain[b-1][1]<<chain[b+1][1];\n\t\tif(chain[b][0]!=0 or chain[b-1][1]!=chain[b+1][1]){\n\t\t\tif(h==0){re+=chain[b-1][0]+1;b=b-2;/*cout<<\"R\";*/}\n\t\t\telse{re+=chain[a+1][0]+1;a=a+2;/*cout<<\"K\";*/}\n\t\t}\n\t\telse if(h==0){re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"L\";*/}\n\t\telse{re+=chain[b-1][0]+1+chain[b+1][0];b=b-2;a=a+2;/*cout<<\"P\";*/}\n\t}\n\twhile(1){\n\t\tif(b>0 and a<hoge-1){\n\t\t\tif(chain[a][1]==chain[b][1]){\n\t\t\t\tif(chain[b][0]+chain[a][0]>=4){\n\t\t\t\t\tre+=chain[b][0]+chain[a][0];\n\t\t\t\t\tb--;a++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbreak;\n\t}\n\t/*cout<<\" \"<<re;*/\n\tchain[where][0]=copy;\n\treturn re;\n}\n\nint main(){\n\tcin>>n;\n\tint last=0;\n\tint howlong=0;\n\tFOR(i,n){\n\t\tint u;\n\t\tcin>>u;\n\t\tif(u==last or last==0){howlong++;last=u;}\n\t\telse{\n\t\t\tchain[hoge][1]=last;\n\t\t\tlast=u;\n\t\t\tchain[hoge][0]=howlong;\n\t\t\thowlong=1;\n\t\t\thoge++;\n\t\t}\n\t}\n\tchain[hoge][1]=last;chain[hoge][0]=howlong;hoge++;\n\t//FOR(i,hoge){cout<<chain[i][0]<<chain[i][1]<<endl;}\n\tint ans=-inf;\n\tFOR(i,hoge){\n\t\tans=max(ans,solve(i,0));//cout<<endl;\n\t\tans=max(ans,solve(i,1));//cout<<endl;\n\t}\n\tcout<<n-ans<<endl;\n}"
  },
  {
    "language": "C++",
    "code": "#include <cstdio>\n#include <utility>\n#include <vector>\n#include <stack>\n\nusing namespace std;\n\nvoid count(stack<int> *s) {\n    int find;\n    int times = 0;\n\n    if (s->empty()) return;\n\n    find = s->top();\n\n    while (!s->empty() && find == s->top()) {\n        times++;\n        s->pop();\n    }\n\n    if (times >= 4) return;\n\n    for(;times;times--) s->push(find);\n} \n\nint main() {\n    while (1) {\n        int i;\n        int n;\n        vector<int> characters;\n        vector<pair<int, int> > var;\n        int d[4];\n        int save;\n        int min_size;\n\n        scanf(\"%d\", &n);\n        if (n == 0) return 0;\n\n        min_size = n;\n\n        for (i=0;i<4;i++) d[i] = -1-i;\n\n        for (i=0;i<n;i++) {\n            int j;\n            int k;\n\n            scanf(\"%d\", &k);\n            k--;\n\n            characters.push_back(k);\n\n            for (j=0;j<3;j++) {\n                d[j] = d[j+1];\n            }\n\n            d[3] = k;\n\n            if (d[0] == d[1] && d[1] == d[2]) {\n                if (var.empty() || var.back() != make_pair(i, d[0]))\n                    var.push_back(make_pair(i, d[0]));\n            }\n\n            if (d[0] == d[1] && d[1] == d[3]) {\n                if (var.empty() || var.back() != make_pair(i-1, d[1]))\n                    var.push_back(make_pair(i-1, d[1]));\n            }\n\n            if (d[0] == d[2] && d[2] == d[3]) {\n                if (var.empty() || var.back() != make_pair(i-2, d[2]))\n                    var.push_back(make_pair(i-2, d[2]));\n            }\n\n            if (d[1] == d[2] && d[2] == d[3]) {\n                if (var.empty() || var.back() != make_pair(i-3, d[3]))\n                    var.push_back(make_pair(i-3, d[3]));\n            }\n        }\n\n        for (i=0;i<var.size();i++) {\n            int j;\n            stack<int> process;\n            int now_color = -1;\n\n            save = characters[var[i].first];\n            characters[var[i].first] = var[i].second;\n\n            for (j=0;j<characters.size();j++) {\n                if (characters[j] != now_color) {\n                    count(&process);\n                    now_color = characters[j];\n                }\n\n                process.push(characters[j]);\n            }\n\n            count(&process);\n\n            if (min_size > process.size()) min_size = process.size();\n            characters[var[i].first] = save;\n        }\n\n        printf(\"%d\\n\", min_size);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint check(char block[],int idx,int size);\nint main(void){\n\tint n;\n\twhile(scanf(\"%d\",&n),n){\n\t\tint mi = 10001;\n\t\tchar block[10001];\n\t\tfor(int i = 0;i < n;i++){scanf(\"%s\",&block[i]);block[i] -= '0';}\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tfor(int j = 0;j < 3;j++){\n\t\t\t\tchar _block[10001];\n\t\t\t\tstrcpy(_block,block);\n\t\t\t\t_block[i] = (char)(j+1);\n\t\t\t\tmi = min(mi,check(_block,i,n));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",mi);\n\t}\n\treturn 0;\n}\n\nint check(char block[],int idx,int size){\n\twhile(size > 3){\n\t\tint upper = idx;\n\t\tint low = idx;\n\t\tint low_cnt = 0,upper_cnt = 0;\n\t\tfor(int i = idx-1;i >= 0; i--){\n\t\t\tif(block[i] == block[idx]){low_cnt++;}\n\t\t\telse break;\n\t\t}\n\t\tfor(int i = idx+1;i < size;i++){\n\t\t\tif(block[i] == block[idx]) upper_cnt++;\n\t\t\telse break;\n\t\t}\n\t\tint cnt = low_cnt + upper_cnt+1;\n\t\tif(cnt < 4){\n\t\t\treturn size;\n\t\t}\n\t\t\n\t\tfor(int i = 0;i < size - (idx+upper_cnt);i++){\n\t\t\tblock[idx-low_cnt+i] = block[idx+upper_cnt+i+1];\n\t\t}\n\t\t\n\t\tsize -= cnt;\n\t\tidx -= low_cnt;\n\t}\n\treturn size;\n}"
  },
  {
    "language": "C++",
    "code": "//シュミレーション\n#include<stdio.h>\n\nint N;\nint d[10000];\t//最初のデータ\nint c[10000];\n\nvoid memcpy(int *Dist,int *Src,int size){\n\tfor(int i = 0;i < size;i++)\n\t{\n\t\tDist[i] = Src[i];\n\t}\n}\n\nint main(){\n\tint i,j,k,l;\n\tint ans = 10000;\n\n\tscanf(\"%d\",&N);\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tscanf(\"%d\",d+i);\n\t}\n\n\tfor(i = 0;i < N;i++)\n\t{\n\t\tfor(j = 1;j < 4;j++)\n\t\t{\n\t\t\tif(d[i] == j)\n\t\t\t\tcontinue;\n\t\t\t//コピー\n\t\t\tmemcpy( c , d , N);\n\t\t\tc[i] = j;\n\n\t\t\tint now = N;\n\t\t\tbool lensa;\n\n\t\t\tdo{\n\t\t\t\tlensa = false;\n\t\t\t\tfor(k = 0;k < N;k++)\n\t\t\t\t{\n\t\t\t\t\tif(c[k] == 0)\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tint cnt = 0;\n\t\t\t\t\tfor(l = k; l < N;l++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(c[k] == c[l])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(c[l] != 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(cnt > 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tlensa = true;\n\t\t\t\t\t\tfor( int x = k; x < l;x++)\n\t\t\t\t\t\t\tc[x] = 0;\n\t\t\t\t\t\tnow -= cnt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}while(lensa);\n\n\t\t\tif(ans > now){\n\t\t\t\t//printf(\"%d\\n\",now);\n\t\t\t\tans = now;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n#include<algorithm>\n#include<vector>\n#include<queue>\nusing namespace std;\ntypedef long long ll;\n\nint N,A[10000];\n\nint check(int k,int I){\n\tint a[10000];\n\tfor(int i=0;i<N;i++) if(k==i) a[i]=I; else a[i]=A[i];\n\tint check=1;\n\twhile(check){\n\t\tcheck=0;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tif(a[i]!=4){\n\t\t\t\tint c=1;\n\t\t\t\tfor(int j=i+1;j<N;j++){\n\t\t\t\t\tif(a[j]==4) continue;\n\t\t\t\t\tif(a[j]!=a[i]||c>=4) break;\n\t\t\t\t\t\tc++;\n\t\t\t\t}\n\t\t\t\tif(c>=4){\n\t\t\t\t\tcheck=1;int e=a[i];\n\t\t\t\t\tfor(int j=i;j<N;j++){\n\t\t\t\t\t\tif(a[j]==4) continue;\n\t\t\t\t\t\tif(a[j]!=e) break;\n\t\t\t\t\t\ta[j]=4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tint count=0;\n\tfor(int i=0;i<N;i++) if(a[i]!=4) count++;\n\treturn count;\n}\n\nint main(){\n\twhile(scanf(\"%d\",&N),N){\n\t\tfor(int i=0;i<N;i++) scanf(\"%d\",&A[i]);\n\t\tint res=N;int z=0;\n\t\tfor(int k=0;k<N;k++){\n\t\t\tfor(int i=1;i<=3;i++){\n\t\t\t\tint x=0;\n\t\t\t\tfor(int j=k+1;j<N;j++) if(A[j]==i) x++; else break;\n\t\t\t\tfor(int j=k-1;j>=0;j--) if(A[j]==i) x++; else break;\n\t\t\t\tif(x>=3) res=min(res,check(k,i));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <vector>\n\nusing namespace std;\n\nconst int inf = 99999;\n\nint check(vector<int> vec)\n{\n\tint r = -1;\n\t\n\tfor(int i = 0, c = 1; i < vec.size()-1; i++, c=1){\n\t\twhile(i+c < vec.size() && vec[i] == vec[i+c]){\n\t\t\tc++;\n\t\t}\n\t\tif(c > 3){\n\t\t\tr = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\treturn r;\n}\n\nint func(vector<int> vec)\n{\n\tvector<int> v = vec;\n\t\n\twhile(1){\n\t\tint t = check(v);\n\t\tif(t == -1){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\twhile(t+1 < v.size() && v[t+1] == v[t]){\n\t\t\tv.erase(v.begin()+(t+1));\n\t\t}\n\t\tv.erase(v.begin()+t);\n\t}\n\t\n\treturn v.size();\n}\n\nint main()\n{\n\tint n, s, t;\n\t\n\twhile(cin>>n && n){\n\t\tvector<int> vec;\n\t\twhile(n--){\n\t\t\tcin >> t;\n\t\t\tvec.push_back(t);\n\t\t}\n\t\ts = inf;\n\t\t\n\t\tfor(int i = 0; i < vec.size(); i++){\n\t\t\tfor(int j = 1; j <= 3; j++){\n\t\t\t\tt = vec[i];\n\t\t\t\tvec[i] = j;\n\t\t\t\ts = min(s, func(vec));\n\t\t\t\tvec[i] = t;\n\t\t\t}\n\t\t}\n\t\t\n\t\tcout << s << endl;\n\t}\n\t\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n\nusing namespace std;\n\nstring chain;\nint cnt; \nint rensa(string str){\n  int l,r;\n  for(int i = 0 ; i+3 < str.size() ; i++ ){\n\n    if(str[i] == str[i+1] && str[i+1] == str[i+2]&&\n       str[i+2] == str[i+3]){\n      l = i;\n      r = i+3;\n\n      while(str[l] == str[r] && r < str.size() )r++; \n      if(l < 0 || str.size() < r  )break;\n      str = str.substr(0,l) + str.substr(r,str.size() - r);\n      i = 0;\n\n     }\n  }\n  return str.size();\n}\n\nint main(){\n  int n;\n  char ch;\n  while(cin >> n,n){\n    chain = \"\";\n    for(int i = 0 ; i < n ; i++ ){\n      cin >> ch;\n      chain+=ch;\n    }\n    int dep,inp;\n    int ret = chain.size();\n\n    for(int i = 0 ; i < chain.size() ; i++ ){\n\n      string tmp = chain;\n\n      if(0 <= i && i < chain.size() - 1 && tmp[i] != tmp[i+1]){\n\tcnt = 0;\n\ttmp[i] = chain[i+1];\n\tdep = i,inp = i+1;\n\twhile(tmp[dep] == tmp[i-1] && dep >= 1 && i >= 1)--dep;\n\twhile(tmp[inp] == tmp[i+2] && inp < chain.size()-1 &&\n\t      i+2 < chain.size())++inp;\n\tif(inp-dep >= 3 ){\n\t  ret = min(rensa(tmp),ret);\n\t}\n      }\n      tmp = chain;\n      if(1 <= i && i < chain.size() && tmp[i] != tmp[i-1] ){\n\tcnt = 0;\n\ttmp[i] = chain[i-1];\n\tdep = i-1,inp = i;\n\twhile(tmp[dep] == tmp[i-2] && dep >= 1 && i >= 1)--dep;\n\twhile(tmp[inp] == tmp[i+1] && inp < chain.size()-1 &&\n\t      i+1 < chain.size())++inp;\n\tif(inp-dep >= 3){\n\t  ret = min(rensa(tmp),ret);\n\t}\n      }\n    }\n    cout << ret << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nint main(){\n\twhile(true)\n\t{\n\t\tint x[15000],n,m,y[15000],b,c,d,p[15000],minx;\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0){\n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<n;i++){\n\t\t\tscanf(\"%d\", &y[i]);\n\t\t\tp[i] = x[i] = y[i];\n\t\t}\n\t\tc=0;\n\t\td=0;\n\t\tm=n;\n\t\td=m;\n\t\tminx=100000;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(i>=1 && (y[i-1]!=j && y[i+1]!=j)){\n\t\t\t\t\tgoto loopend;\n\t\t\t\t}\n\t\t\t\tx[i]=j;\n\t\t\t\tp[i]=j;\n\t\t\t\t//combo\n\t\t\t\tb=1;\n\t\t\t\td=n;\n\t\t\t\twhile(true){\n\t\t\t\t\tc=0;\n\t\t\t\t\tfor(int k=0;k<m;k++){\n\t\t\t\t\t\tif(p[k]==p[k+1]){\n\t\t\t\t\t\t\tb += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tif(b>=4){\n\t\t\t\t\t\t\t\t//erase\n\t\t\t\t\t\t\t\tfor(int l=k+1;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l-b]=p[l];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\td-=b;\n\t\t\t\t\t\t\t\tc++;\n\t\t\t\t\t\t\t\tfor(int l=d;l<m;l++){\n\t\t\t\t\t\t\t\t\tp[l]=0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tb=1;\n\t\t\t\t\t\t}\t\n\t\t\t\t\t\tm=d;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(c==0){\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tc=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tminx=min(minx,m);\n\t\t\t\tx[i]=y[i];\n\t\t\t\tfor(int k=0;k<n;k++){\n\t\t\t\t\tp[k]=y[k];\n\t\t\t\t}\n\t\t\t\tloopend:;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", minx);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},f[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\t\tfor(z=e;z<x;z++){\n\t\t\t\tif(o[e]==o[z])u++;\n\t\t\t\telse if(o[z]==0)w++;\n\t\t\t\telse break;\n\t\t}\n\t\tif(u>=4){\n\t\t\tt=1;\n\t\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t\t}\n\t}\n\tif(o[e]!=0)g++;\n}\nif(t==1)return X(x);\nreturn g;\n}\nint main(){\n//int a[1000],b=0;\nwhile(1){\n\tint n,i,j,m,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(f,0,sizeof(f));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tif(p[i]==p[i-1]&&i!=0)f[i]=f[i-1];\n\t\telse{\n\t\t\tfor(j=i;j<n;j++){\n\t\t\t\tif(p[i]==p[j])f[i]++;\n\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t}\n\tm=n;\n\tfor(i=0;i<n;i++){\n\t\tif( (i!=n-1&&p[i]!=p[i+1]&&1+f[i+1]>=4) || i!=0&&p[i]!=p[i-1]&&1+f[i-1]>=4||p[i+1]==p[i-1]&&i!=0&&i!=n-1&&f[i]+f[i+1]+f[i-1]>=4&&f[i]==1){\n\t\t\tfor(j=1;j<=3;j++){\n\t\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\t\tif(o[i]!=j){\n\t\t\t\t\to[i]=j;\n\t\t\t\t\tm=min(m,X(n));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/*a[b]=m;\n\tb++;*/\n\tcout<<m<<endl;\n}\n//for(int r=0;r<b;r++)cout<<a[r]<<endl;\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include<stdio.h>\n#include<iostream>\n#include<string>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nint p[10000]={0},o[10000]={0};\nint X(int x){\nint e,z,u,t=0,k,g=0,w;\nfor(e=0;e<x;e++){\n\tu=0;\n\tw=0;\n\tif(o[e]!=0){\n\tfor(z=e;z<x;z++){\n\t\t\tif(o[e]==o[z])u++;\n\t\t\telse if(o[z]==0)w++;\n\t\t\telse break;\n\t\t}\n\t}\n\tif(u>=4){\n\t\tt=1;\n\t\tfor(k=0;k<w+u;k++)o[e+k]=0;\n\t}\n}\nif(t==1)return X(x);\nfor(e=0;e<x;e++){\n\tif(o[e]!=0)g++;\n}\nreturn g;\n}\nint main(){\nwhile(1){\n\tint n,i,j,m=10001,l;\n\tcin>>n;\n\tif(n==0)break;\n\tmemset(p,0,sizeof(p));\n\tmemset(o,0,sizeof(o));\n\tfor(i=0;i<n;i++)cin>>p[i];\n\tfor(i=0;i<n;i++){\n\t\tfor(j=1;j<4;j++){\n\t\t\tfor(l=0;l<n;l++)o[l]=p[l];\n\t\t\to[i]=j;\n\t\t\tm=min(m,X(n));\n\t\t}\n\n\t}\n\tcout<<m<<endl;\n}\nreturn 0;\n}\n\t\t"
  },
  {
    "language": "C++",
    "code": "#include<bits/stdc++.h>\n\nusing namespace std;\nint n,s,target,R,L,ans,Lastans,Rsum,Lsum,a, number[11000];\nint right(int in);\nint left (int in);\n\nint main(){\n\n    while(1){\n    cin >> n;\n    if(n==0)break;\n    Lastans=n;\n   number[10000]={0};\n\n    for(int i=0;i<n;i++){\n        cin >> s;\n        number[i]=s;\n    }\n\n    for(int i=0;i<n;i++){\n        for(int j=1;j<4;j++){\n                a=number[i];\n                number[i]=j;\n\n            while(1){\n\n            if(number[i-Lsum-1]!=number[i+Rsum+1])break;\n            else target=number[i+Rsum+1];\n\n            R=right(i);\n            L=left(i);\n            if(R+L>=3&&Rsum==0&&Lsum==0){\n                Rsum+=R;\n                Lsum+=L;\n            }else if(R+L>=4){\n                Rsum+=R;\n                Lsum+=L;\n            }else break;\n                    }\n                ans=n-Rsum-Lsum-1;\n                if(ans<Lastans-1)Lastans=ans;\n\n                Lsum=0;\n                Rsum=0;\n                number[i]=a;\n\n                }\n\n            }\n\n            cout << Lastans << endl;\n\n    }\n    return 0;\n}\n\n\n\nint right(int in){\n\n    int sum=0;\n    while(1){\n    in++;\n    if(in+Rsum==n)break;\n    if(number[in+Rsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}\n\nint left(int in){\n\n    int sum=0;\n    while(1){\n    in--;\n    if(in-Lsum==-1)break;\n    if(number[in-Lsum]==target)sum++;\n    else break;\n    }\n    return sum;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<algorithm>\n#include<string.h>\n#include<stdio.h>\nusing namespace std;\nint a[10010]={0};\nint b[10010]={0};\nint ans=1001,w;\nvoid kotani(int i,int j,int c,int n);\nint main(){\n\twhile(1){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\tw=n;\n\t\tans=n;\n\t\tif(n==0)break;\n\tfor(int i=0;i<n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tmemcpy(b,a,sizeof(int) *n);\n\t\t\tif(b[i]!=j){\n\t\t\t\tb[i]=j;\n\t\t\t\tkotani(0,1,1,n);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\t}\n}\nvoid kotani(int i,int j,int c,int n){\n\tif(b[i]==b[j]&&j<n){\n\t\t//cout<<\"wwww\"<<endl;\n\t\tkotani(i,j+1,c+1,n);\n\t}\n\telse{\n\t\t//cout<<\"ttttt\"<<endl;\n\t\tif(c>=4){\n\t\t\tint u=0;\n\t\t\tfor(int z=j;z<n;z++){\n\t\t\t\t//cout<<\"jjjjj\"<<endl;\n\t\t\t\tb[i+u]=b[z];\n\t\t\t\tu++;\n\t\t\t}\n\t\t\tans=min(ans,n-c);\n\t\t\t//cout<<n-c<<endl;\n\t\t\t//cout<<i<<\" \"<<j<<\" \"<<c<<\" \"<<n<<\" \"<<n-c<<endl;\n\t\t\tkotani(0,1,1,n-c);\n\t\t}\n\t\telse if(i+1<n){\n\t\t\tkotani(i+1,i+2,1,n);\n\t\t}\n\t\telse{\n\t\t\t/*cout<<\"WWWWWWW\"<<endl;\n\t\t\tfor(int u=0;u<n;u++){\n\t\t\t\tcout<<b[u];\n\t\t\t}\n\t\t\tcout<<endl;*/\n\t\t}\n\t}\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\n#include <string>\n#include <vector>\n#include <map>\n#include <sstream>\n#include <functional>\n#include <numeric>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <stack>\n#include <set>\n\nusing namespace std;\n\n#define ALL(co) co.begin(), co.end()\n#define tpl(...) make_tuple(__VA_ARGS__)\n\ntypedef long long LL;\ntypedef pair<int, int> P; typedef pair<int, P> IP; typedef pair<P, P> PP;\ntypedef vector<int> Array; typedef vector<vector<int> > Array2;\ntypedef vector<LL> LArray; typedef vector<P> PArray; typedef vector<string> SArray;\n\nconst int INF = 1 << 29;\nconst LL LINF = 1LL << 60;\n\ninline int getInt() { int itiv; return (cin >> itiv, itiv); }\ntemplate <typename T> void readAll(vector<T>& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i]; }\ntemplate <typename T, typename U> void readAll(vector<pair<T, U> >& vec) { for (int i = 0, size = vec.size(); i < size; i++) cin >> vec[i].first >> vec[i].second; }\ntemplate < typename T > inline string toString( const T &a ){ ostringstream oss; oss << a; return oss.str(); };\ninline bool between(int min, int max, int n) { return min <= n && n <= max; }\ninline bool inRange(int begin, int end, int n) { return begin <= n && n < end; }\ninline bool inRange(int size, int n) { return 0 <= n && n < size; }\n\nint dx[] = { -1, 0, 1, 0 }, dy[] = { 0, -1, 0, 1 };\nint dr[] = { 0, -1, 0, 1 }, dc[] = { -1, 0, 1, 0 };\n\nint m, n;\n\nint rem(PArray& arr)\n{\n\tif(arr.size() == 0) return 0;\n\tint pre = 0;\n\tint preSize = arr.size();\n\tPArray next;\n\tfor(auto x : arr)\n\t{\n\t\tif(pre != x.second)\n\t\t\tnext.push_back(P(x.first, x.second));\n\t\telse next[next.size() - 1].first += x.first;\n\t\tpre = x.second;\n\t}\n\tfor (int i = 0; i < next.size(); i++)\n\t{\n\t\tif(next[i].first >= 4)\n\t\t{\n\t\t\tnext.erase(next.begin() + i);\n\t\t\ti--;\n\t\t}\n\t}\n\tif(preSize != next.size()) return rem(next);\n\t\n\tint ret = 0;\n\tfor(auto x : next)\n\t{\n\t\tret += x.first;\n\t}\n\treturn ret;\n}\n\nint main(void)\n{\n\tios::sync_with_stdio(false);\n\twhile(cin >> n && n)\n\t{\n\t\tPArray arr(n);\n\t\tint pre = 0;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint col = getInt();\n\t\t\tarr[i].first = 1;\n\t\t\tarr[i].second = col;\n\t\t}\n\t\tint ans = n;\n\t\tfor (int i = 0; i < n; i++)\n\t\t{\n\t\t\tint tmp = arr[i].second;\n\t\t\tfor (int j = 0; j < 3; j++)\n\t\t\t{\n\t\t\t\tif(i != 0 && i != n - 1 && (arr[i - 1].second != j + 1 || arr[i + 1].second != j + 1))\n\t\t\t\t\tcontinue;\n\t\t\t\tarr[i].second = j + 1;\n\t\t\t\tans = min(ans, rem(arr));\n\t\t\t}\n\t\t\tarr[i].second = tmp;\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "//AOJ 0524 chain\n#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2, v3;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2 - 1);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t\tans=INF;\n\t\tv1=v3;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\n#define REP(i, n) for(int i = 0;i < n;i++)\n#define REPR(i, n) for(int i = n;i >= 0;i--)\n#define FOR(i, m, n) for(int i = m;i < n;i++)\n#define FORR(i, m, n) for(int i = m;i >= n;i--)\n#define SORT(v, n) sort(v, v+n);\n#define VSORT(v) sort(v.begin(), v.end());\n#define llong long long\n#define INF 999999999\n#define all(v) begin(v), end(v)\nusing namespace std;\ntypedef pair<int, int> P;\ntypedef pair<llong, llong> LP;\ntypedef pair<int, P> PP;\ntypedef pair<llong, LP> LPP;\n    \nint dy[]={0, 0, 1, -1};\nint dx[]={1, -1, 0, 0};\n\n\nint n;\n    \nbool check(vector<int>& color){\n    int m = color.size();\n    if(color.size() < 4) return false;\n    \n    int cnt = 1;\n    FOR(i, 1, m){\n        if(color[i-1] == color[i]) cnt++;\n        else{\n            if(cnt >= 4 && i >= cnt){\n                color.erase(color.begin()+(i-cnt), color.begin()+i);\n                return true;\n            }\n            \n            cnt = 1;\n        }\n    }\n    \n    if(cnt >= 4){\n        color.erase(color.begin()+(m-cnt), color.end());\n    }\n    \n    return false;\n}\n    \nint solve(){\n    vector<int> v(n);\n    REP(i, n) cin >> v[i];\n    \n    int ans = INF;\n    vector<int> color;\n    REP(i, n){\n        color = v;\n        if(color[i] == 1) color[i] = 2;\n        else if(color[i] == 2) color[i] = 3;\n        else color[i] = 1;\n        while(check(color)){}\n        if(ans > color.size()) ans = color.size();\n        \n        color = v;\n        if(color[i] == 1) color[i] = 3;\n        else if(color[i] == 2) color[i] = 1;\n        else color[i] = 2;\n        while(check(color)){}\n        if(ans > color.size()) ans = color.size();\n    }\n    \n    cout << ans << endl;\n}\n\nint main(){\n    while(true){\n        cin >> n;\n        if(!n) return 0;\n        solve();\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<string>\nusing namespace std;\nint check(string a)\n{\n\tbool aho = false;\n\tdo\n\t{\n\t\taho = false;\n\t\tint hoge = 4;\n\t\tstring gg;\n\t\tgg = \"1111\";\n\t\tif (a.find(gg)!=string::npos)\n\t\t{\n\t\t\twhile (1)\n\t\t\t{\n\t\t\t\tgg.append(\"1\");\n\t\t\t\tif (a.find(gg) == string::npos)\n\t\t\t\t{\n\t\t\t\t\tgg.erase(gg.end()-1);\n\t\t\t\t\ta.erase(a.find(gg), a.find(gg)+ hoge);\n\t\t\t\t\taho = true;\n\t\t\t\t\thoge = 4;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thoge++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tgg = \"2222\";\n\t\tif (a.find(gg) != string::npos)\n\t\t{\n\t\t\twhile (1)\n\t\t\t{\n\t\t\t\tgg.append(\"2\");\n\t\t\t\tif (a.find(gg) == string::npos)\n\t\t\t\t{\n\t\t\t\t\tgg.erase(gg.end()-1);\n\t\t\t\t\ta.erase(a.find(gg), a.find(gg) + hoge);\n\t\t\t\t\taho = true;\n\t\t\t\t\thoge = 4;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thoge++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tgg = \"3333\";\n\t\tif (a.find(gg) != string::npos)\n\t\t{\n\t\t\twhile (1)\n\t\t\t{\n\t\t\t\tgg.append(\"3\");\n\t\t\t\tif (a.find(gg) == string::npos)\n\t\t\t\t{\n\t\t\t\t\tgg.erase(gg.end()-1);\n\t\t\t\t\ta.erase(a.find(gg), a.find(gg) + hoge);\n\t\t\t\t\taho = true;\n\t\t\t\t\thoge = 4;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\thoge++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t} while (aho);\n\treturn a.size()-1;\n}\nint main()\n{\n\tint n;\n\tstring a;\n\tstring r;\n\twhile (cin >> n)\n\t{\n\t\tif (n == 0)return 0;\n\t\tint ans = n;\n\t\tfor (int I = 0; I < n; I++){\n\t\t\tcin >> r;\n\t\t\ta.append(r);\n\t\t}\n\t\tfor (int I = 0; I < n; I++){\n\t\t\tfor (int i = 1; i < 4; i++)\n\t\t\t{\n\t\t\t\tchar h = a[I];\n\t\t\t\tswitch (i)\n\t\t\t\t{\n\t\t\t\tcase 1:\n\t\t\t\t\ta[I] = '1';\n\t\t\t\t\tans = min(ans, check(a));\n\t\t\t\t\ta[I] = h;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\ta[I] = '2';\n\t\t\t\t\tans = min(ans, check(a));\n\t\t\t\t\ta[I] = h;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\ta[I] = '3';\n\t\t\t\t\tans = min(ans, check(a));\n\t\t\t\t\ta[I] = h;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\n\n\n\n}"
  },
  {
    "language": "C++",
    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nint N;\nvector<int> G;\nvector<pair<int, int> > V;\n\nint erase(int s) {\n  int res = N;\n  while(res) {\n    int a, b;\n    for(a = s + 1; a <= N; ++a) {\n      if(a == N || G[s] != G[a]) break;\n    }\n    --a;\n    for(b = s - 1; b >= -1; --b) {\n      if(b == -1 || G[s] != G[b]) break;\n    }\n    ++b;\n    if(a - b + 1 >= 4) {\n      s = min(N - 1, a + 1);\n      res -= a - b + 1;\n      for(int i = b; i <= a; ++i) G[i] = 0;\n      for(int i = N - 1, j = N - 1; i >= 0; --i) {\n        if(G[i] != 0) {\n          int tmp = G[i];\n          G[i] = 0;\n          G[j--] = tmp;\n        }\n      }\n    } else {\n      break;\n    }\n  }\n  return res;\n}\n\nint main() {\n  while(cin >> N && N) {\n    G.resize(N);\n    for(int i = 0; i < N; ++i) {\n      cin >> G[i];\n    }\n    int res = N;\n    for(int i = 0; i < N; ++i) {\n      for(int j = 1; j <= 3; ++j) {\n        vector<int> tmp = G;\n        G[i] = j;\n        res = min(res, erase(i));\n        G = tmp;\n      }\n    }\n    cout << res << endl;\n  }\n  return 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n, p; vector<int>a, b;\nint solve(vector<int>x, int Y) {\n\tint L = Y, R = Y;\n\twhile (true) {\n\t\tif (L == R) {\n\t\t\tint LL = 100000000;\n\t\t\tfor (int i = L - 1; i >= 0; i--) {\n\t\t\t\tif (x[i] != x[i + 1]) { LL = i + 1; break; }\n\t\t\t}\n\t\t\tif (LL == 100000000) { LL = 0; }\n\t\t\tint RR = 100000000;\n\t\t\tfor (int i = R + 1; i <= x.size() - 1; i++) {\n\t\t\t\tif (x[i] != x[i - 1]) { RR = i - 1; break; }\n\t\t\t}\n\t\t\tif (RR == 100000000) { RR = x.size() - 1; }\n\t\t\tif (RR - LL <= 2) { return x.size(); }\n\t\t\tR = RR; L = LL;\n\t\t}\n\t\telse {\n\t\t\tint LL = 100000000;\n\t\t\tfor (int i = L - 2; i >= 0; i--) {\n\t\t\t\tif (x[i] != x[i + 1]) { LL = i + 1; break; }\n\t\t\t}\n\t\t\tif (LL == 100000000) { LL = 0; }\n\t\t\tint RR = 100000000;\n\t\t\tfor (int i = R + 2; i <= x.size() - 1; i++) {\n\t\t\t\tif (x[i] != x[i - 1]) { RR = i - 1; break; }\n\t\t\t}\n\t\t\tif (RR == 100000000) { RR = x.size() - 1; }\n\t\t\tif (L == 0 || R == x.size() - 1 || x[L - 1] != x[R + 1]) { return x.size() - (R - L + 1); }\n\t\t\tif ((RR - LL) - (R - L) <= 3) { return x.size() - (R - L + 1); }\n\t\t\tR = RR; L = LL;\n\t\t}\n\t}\n}\nint main() {\n\twhile(true) {\n\t\tcin >> n; if (n == 0)break;\n\t\tfor (int i = 0; i < n; i++) { cin >> p; a.push_back(p); }\n\t\tint maxn = n; b = a;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\ta[i] = j;\n\t\t\t\tmaxn = min(maxn, solve(a, i));\n\t\t\t\ta[i] = b[i];\n\t\t\t}\n\t\t}\n\t\tcout << maxn << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint solve(vector<int> cols,int st){\n    int l=st,r=st;\n    for(int ix=0;;ix++){\n        int ncol=cols[l];\n        int befl=l,befr=r;\n        for(;l>=0;l--){\n            if(cols[l]!=ncol){\n                l++;\n                break;\n            }\n        }\n        if(l<0)l=0;\n        for(;r<cols.size();r++){\n            if(cols[r]!=ncol){\n                r--;\n                break;\n            }\n        }\n        if(r>=cols.size())r=cols.size()-1;\n        int va=(r-befr)+(befl-l);\n        if(befl==befr)va+=1;\n        else va+=2;\n        if(va==cols.size())return 0;\n        if(va<4){\n            r=befr;\n            l=befl;\n            break;\n        }\n        l--;\n        r++;\n    }\n    return cols.size()-(r-l-1);\n}\nint main(){\n    for(;;){\n        int n;\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        vector<int> cols(n);\n        for(int i=0;i<n;i++){\n            scanf(\"%d\",&cols[i]);\n            cols[i]-=1;\n        }\n        int mi=n;\n        for(int i=0;i<n;i++){\n            vector<bool> able(3,true);\n            able[cols[i]]=false;\n            for(int j=0;j<3;j++){\n                if(able[j]){\n                    int te=cols[i];\n                    cols[i]=j;\n                    mi=min(mi,solve(cols,i));\n                    cols[i]=te;\n                }\n            }\n        }\n        printf(\"%d\\n\",mi);\n    }\n}"
  },
  {
    "language": "C++",
    "code": "#include<map>\n#include<set>\n#include<list>\n#include<cmath>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<complex>\n#include<cstdlib>\n#include<cstring>\n#include<numeric>\n#include<sstream>\n#include<iostream>\n#include<algorithm>\n#include<functional>\n\n#define mp       make_pair\n#define pb       push_back\n#define all(x)   (x).begin(),(x).end()\n#define rep(i,n) for(int i=0;i<(n);i++)\n\nusing namespace std;\n\ntypedef    long long          ll;\ntypedef    unsigned long long ull;\ntypedef    vector<bool>       vb;\ntypedef    vector<int>        vi;\ntypedef    vector<vb>         vvb;\ntypedef    vector<vi>         vvi;\ntypedef    pair<int,int>      pii;\n\nconst int INF=1<<29;\nconst double EPS=1e-9;\n\nconst int dx[]={1,0,-1,0},dy[]={0,-1,0,1};\nvector<int> ball;\nvector<int> tmp;\nint n;\nint ans;\nvoid check(int n){\n\tint cnt = 0;\n\tint first;\n\tbool flag = false;\n\tfor(int i = 0;i < ball.size();){\n\t\tif(ball[i]==ball[i+1]){//同じ物が続く\n\t\t\tcnt++;\n\t\t\tif(!flag){\n\t\t\t\tfirst = i;\n\t\t\t\tflag = true;\n\t\t\t}\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t}else if(cnt >=3){//四連続以上\n\t\t\tvector<int>::iterator it = ball.erase(ball.begin()+first,ball.begin()+first+cnt+1);\n\t\t\tflag =false;\n\t\t\tcnt = 0;\n\t\t\ti = 0;\n\t\t\tcontinue;\n\t\t}\n\t\tflag = false;\n\t\tcnt = 0;\n\t\ti++;\n\t}\n\tint sp =ball.size();\n\t/*cout <<\"change = \"<<n<<endl;\n\trep(i,ball.size()){\n\t\tcout <<\"ball = \"<<ball[i]<<endl;\n\t}\n\tcout <<endl;\n\t */\n\tans = min(ans,sp);\n}\n\nint main(){\n\twhile(cin>>n,n){\n\t\tball.clear();\n\t\ttmp.clear();\n\t\tans  =INF;\n\t\trep(i,n){\n\t\t\tint x;\n\t\t\tcin>>x;\n\t\t\tball.push_back(x);\n\t\t}\n\t\ttmp = ball;\n\t\tfor(int i = 0;i < n;i++){\n\t\t\tif(ball[i]==1){\n\t\t\t\tball[i]= 2;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 3;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t}else if(ball[i]==2){\n\t\t\t\tball[i]= 1;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 3;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t}else if(ball[i]==3){\n\t\t\t\tball[i]= 2;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t\tball[i] = 1;\n\t\t\t\tcheck(i);\n\t\t\t\tball = tmp;\n\t\t\t}\n\t\t}\n\t\tcout <<ans<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int INF = 100000000;\nint n, x[10001][2], list[4], save[10001], l1 = 0, l2 = 0, ans = INF;\nvector<int> v1, v2, v3;\nint solve(int a){\n\tl1 = 0; l2 = 0;\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a + i] == v2[a]){\n\t\t\tl1++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tfor (int i = 1; i < v2.size(); i++){\n\t\tif (v2[a - i] == v2[a]){\n\t\t\tl2++;\n\t\t}\n\t\telse\n\t\t\tbreak;\n\t}\n\tif (l1 + l2 >= 3){\n\t\tv2.erase(v2.begin() + a - l2, v2.begin() + a + l1 + 1);\n\t\tsolve(a - l2-1);\n\t}\n\telse{\n\t\treturn v2.size();\n\t}\n}\nint main(){\n\twhile (true){\n\t\tcin >> n;\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tcin >> x[i][0];\n\t\t\tv1.push_back(x[i][0]);\n\t\t\tif (i - list[x[i][0]] == 2){\n\t\t\t\tsave[i - 1] = 2;\n\t\t\t}\n\t\t\tlist[x[i][0]] = i;\n\t\t\tif (x[i][0] == x[i - 1][0] && x[i][0] == x[i - 2][0]){\n\t\t\t\tsave[i + 1] = 1;\n\t\t\t\tsave[i - 3] = 1;\n\t\t\t}\n\t\t}\n\t\tfor (int i = 1; i <= n; i++){\n\t\t\tif (save[i] == 1){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tif (x[i + 1][0] == x[i + 2][0] && x[i + 1][0] == x[i + 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\t}\n\t\t\t\telse if (x[i - 1][0] == x[i - 2][0] && x[i - 1][0] == x[i - 3][0]){\n\t\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\t}\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i + 1][0] == x[i + 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i + 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse if (save[i] == 2 && x[i - 1][0] == x[i - 2][0]){\n\t\t\t\tv2 = v1;\n\t\t\t\tv2.erase(v2.begin() + i - 1);\n\t\t\t\tv2.insert(v2.begin() + i - 1, x[i - 1][0]);\n\t\t\t\tans = min(solve(i - 1), ans);\n\t\t\t}\n\t\t\telse save[i] = 0;\n\t\t}\n\t\tcout << ans << endl;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i][0]=0;\n\t\t\tsave[i]=0;\n\t\t}\n\t\tlist[0]=0;\n\t\tlist[1]=0;\n\t\tlist[2]=0;\n\t\tlist[3]=0;\n\t\tans=INF;\n\t\tv1=v3;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include<cstdio>\n#include<vector>\n#include<algorithm>\n#define INF 100000000\nusing namespace std;\nint chain(int idx,int col);\nvector<int>model;\nint n;\nint main(void){\n   while(scanf(\"%d\",&n),n){\n      int mi = INF;\n      model.clear();\n      for(int i = 0;i < n;i++){\n         int col; scanf(\"%d\",&col);\n         model.push_back(col);\n      }\n\n      for(int i = 0;i < n;i++){\n         for(int j = 1;j <= 3;j++){\n            mi = min(mi,chain(i,j));\n         }\n      }\n      printf(\"%d\\n\",mi);\n   }\n   return 0;\n}\n\nint chain(int idx,int col){\n   if(model[idx] == col) return INF;\n   vector<int> c;\n   c.reserve(model.size());\n   copy(model.begin(),model.end(), back_inserter(c));\n   vector<int>::iterator it = c.insert(c.begin()+idx,col);\n   it = c.erase(c.begin()+idx+1);\n\n   int flag = 1;\n   while(flag){\n      int cnt = 1,curr = c[0];\n      for(int i = 1;i < c.size();i++){\n         if(c[i] == curr) cnt++;\n         else{\n            curr = c[i];\n            if(cnt >= 4){\n               flag = 0;\n               for(int j = 0;j < cnt;j++){\n                  vector<int>::iterator it = c.erase(c.begin()+i-cnt);\n               }\n            }\n            cnt = 1;\n         }\n      }\n      flag = 1-flag;\n   }\n   return c.size();\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint N;\nint ary[10010];\n//a???c???????????¨\nint puyo(int a,int c){\n\tint motoc=ary[a];\n\tint C=c;\n\tary[a]=C;\n\tint l,r,ml,mr,tmp,cnt;\n\tml=mr=l=r=a;\n\tcnt=0;\n\twhile(ary[l]==C){\n\t\tl--;\n\t\tif(l<0) break;\n\t}\n\twhile(ary[r]==C){\n\t\tr++;\n\t\tif(r>=N) break;\n\t}\n\ttmp=abs(ml-l)+abs(mr-r)-1;\n\tif(tmp<4){\n\t\tary[a]=motoc;\n\t\treturn N;\n\t}\n\tif(l<0){\n\t\tary[a]=motoc;\n\t\treturn N-r+1;\n\t}\n\tif(r>=N){\n\t\tary[a]=motoc;\n\t\treturn l+1;\n\t}\n\tcnt=tmp;\n\tif(ary[l]!=ary[r]){\n\t\tary[a]=motoc;\n\t\treturn N-cnt;\n\t}\n\twhile(1){\n\t\tC=ary[l];\n\t\tml=l;\n\t\tmr=r;\n\t\twhile(ary[l]==C){\n\t\t\tl--;\n\t\t\tif(l<0) break;\n\t\t}\n\t\twhile(ary[r]==C){\n\t\t\tr++;\n\t\t\tif(r>=N) break;\n\t\t}\n\t\ttmp=abs(ml-l)+abs(mr-r);\n\t\tif(tmp<4){\n\t\t\tary[a]=motoc;\n\t\t\treturn N-cnt;\n\t\t}\n\t\tif(l<0){\n\t\t\tary[a]=motoc;\n\t\t\treturn N-r+1;\n\t\t}\n\t\tif(r>=N){\n\t\t\tary[a]=motoc;\n\t\t\treturn l+1;\n\t\t}\n\t\tcnt+=tmp;\n\t\tif(ary[l]!=ary[r]){\n\t\t\tary[a]=motoc;\n\t\t\treturn N-cnt;\n\t\t}\n\t}\n}\n\nint main(){\n\tint cnt;\n\twhile(1){\n\t\tcin>>N;\n\t\tif(N==0) break;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tcin>>ary[i];\n\t\t}\n\t\tcnt=N;\n\t\tfor(int i=0;i<N;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\t//cout<<i<<\"???\"<<j<<\"?????????????????¨\"<<puyo(i,j)<<\"????????????\"<<endl;\n\t\t\t\tcnt=min(cnt,puyo(i,j));\n\t\t\t}\n\t\t}\n\t\tcout<<cnt<<endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C++",
    "code": "#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint main() {\n\twhile(true){\n\t\tint n, a, b, ans = 1000000, puyo[10000];\n\t\tcin >> n;\n\t\t\n\t\tif(n == 0){\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcin >> puyo[i];\n\t\t}\n\t\t\n\t\tfor(int i = 1; i < n - 1; i++){\n\t\t\tint  sum = 0, sub = n;\n\t\t\ta = b = i;\n\t\t\t\n\t\t\twhile(puyo[--a] == puyo[++b]){\n\t\t\t\tfor(int j = a; j < n; j--){\n\t\t\t\t\tif(puyo[j] != puyo[j - 1]){\n\t\t\t\t\t\ta = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(int j = b; j < n; j++){\n\t\t\t\t\tif(puyo[j] != puyo[j + 1]){\n\t\t\t\t\t\tb = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsum = b - a + 1 - sum;\n\t\t\t\tif(sum >= 4){\n\t\t\t\t\tsub -= sum;\n\t\t\t\t} else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tans = min(ans, sub);\n\t\t}\n\t\t\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "Haskell",
    "code": "import Control.Monad (replicateM)\nimport Data.List (group)\n\nmain = do\n    n <- readLn\n    if n == 0 then return () else do\n        seq <- replicateM n readLn\n        print (solve n seq)\n        main\n\n\nsolve :: Int -> [Int] -> Int\nsolve n seq = n - maxChainLength\n    where\n    seq' = map (\\s -> (head s, length s)) $ group seq\n\n    maxChainLength = maximum chainLengths\n\n    chainLengths = chainLengths' [head seq'] (tail seq')\n        where\n        chainLengths' _ [] = []\n        chainLengths' seq1@((t1,c1):_) seq2@((t2,c2):seq2')\n            = l1 : l2 : chainLengths' ((t2,c2):seq1) seq2'\n            where\n            l1 = chainLength (change t2 seq1) seq2\n            l2 = chainLength seq1 (change t1 seq2)\n\nchainLength :: [(Int,Int)] -> [(Int,Int)] -> Int\nchainLength seq1 seq2 = chainLength' seq1 seq2 0\n    where\n    chainLength' [] _ acc = acc\n    chainLength' _ [] acc = acc\n    chainLength' ((t1,c1):seq1) ((t2,c2):seq2) acc\n        | t1 == t2 && c1 + c2 >= 4 = chainLength' seq1 seq2 (acc+c1+c2)\n        | otherwise = acc\n\nchange :: Int -> [(Int,Int)] -> [(Int,Int)]\nchange _ [] = []\nchange t ((t1,1):[]) = [(t,1)]\nchange t ((t1,1):(t2,c2):seq)\n    | t == t2 = (t,c2+1):seq\n    | otherwise = (t,1):(t2,c2):seq\nchange t ((t1,c1):seq) = (t,1):(t1,c1-1):seq"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\n  int i,j;\n  do{\n  for(i = 0;chara[p-i] == chara[p];i++);\n  for(j = 0;chara[q+i] == chara[q];j++);\n  if(i + j < 4) return p-q+n;\n  p -= i;q += j;\n  }while(chara[p] == chara[q]);\n\n  return p-q+n;\n\n}\n\nint main(){\n  int n,temp,i,chara[10009],Min,m;\n\n  while(1){\n    scanf(\"%d\",&n);\n    Min = 10001;\n    if(n == 0) {break;}\n    chara[0] = chara[n+1] = 0;\n\n    for(i=1;i<n+1;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n\n    for(i=2;i<n;i++){\n      if(chara[i] != chara[i-1]){\n        temp = chara[i];\n        chara[i] = chara[i-1];\n        m = chain(chara,i-1,i,n);\n        if(Min > m) Min = m;\n        chara[i] = temp;\n      }\n      if(chara[i] != chara[i+1]){\n        temp = chara[i];\n        chara[i] = chara[i+1];\n        m = chain(chara,i,i+1,n);\n        if(Min > m) Min = m;\n        chara[i] = temp;\n      }        \n    }\n\n    printf(\"%d\\n\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint min(int a, int b)\n{\n\tif (a <= b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nint Chain(int b[10000], int n)\n{\n\tint i, j;\n\tint count;\n\tint color;\n\tint a[10000];\n\t\n\tfor (i = 0; i < n; i++){\n\t\ta[i] = b[i];\n\t}\n\t\n\tfor (i = 0; i < n - 4; i++){\n\t\tif (a[i] != 0 && a[i] == a[i + 1] && a[i] == a[i + 2] && a[i] == a[i + 3]){\n\t\t\t#if 0\n\t\t\tprintf(\"-----\\n\");\n\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d\\n\", a[j]);\n\t\t\t}\n\t\t\tprintf(\"-----\\n\");\n\t\t\t#endif\n\t\t\t\n\t\t\tcount = 0;\n\t\t\tcolor = a[i];\n\t\t\t\n\t\t\tfor (j = i; a[j] == color; j++){\n\t\t\t\ta[j] = 0;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = 0; i + j + count < 10000; j++){\n\t\t\t\ta[i + j] = a[i + j + count];\n\t\t\t\ta[i + j + count] = 0;\n\t\t\t}\n\t\t\t\n\t\t\t#if 0\n\t\t\tprintf(\"-----\\n\");\n\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d\\n\", a[j]);\n\t\t\t}\n\t\t\tprintf(\"-----\\n\");\n\t\t\tgetch();\n\t\t\t#endif\n\t\t\t\n\t\t\ti = 0;\n\t\t}\n\t\t\n\t}\n\t\n\tcount = 0;\n\twhile (a[count] != 0){\n\t\tcount++;\n\t}\n\t\n\treturn (count);\n}\n\nint main(void)\n{\n\tint n;\n\tint i, j;\n\tint a[10000];\n\tint ans;\n\tint color;\n\t\n\twhile (1){\n\t\tfor (i = 0; i < 10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tans = n;\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n - 4; i++){\n\t\t\tint count[3] = {0, 0, 0};\n\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\tif (a[j] - 1 >= 0){\n\t\t\t\t\tcount[a[j] - 1]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolor = 0;\n\t\t\tfor (j = 0; j < 3; j++){\n\t\t\t\tif (count[j] == 3){\n\t\t\t\t\tcolor = j + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (color != 0){\n\t\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\t\tint buf;\n\t\t\t\t\tbuf = a[j];\n\t\t\t\t\ta[j] = color;\n\t\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\t\ta[j] = buf;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=b-5;c<b+5;c++){\n\t\tif(c>=0 && c<=n-1){\n\t\t\tif(chara3[c]==chara3[c+1]){\n\t\t\t\ts++;\n\t\t\t\tif(s>=4 && c==n-1){\n\t\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t\t}\n\t\t\t\t\tn-=s;\n\t\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t\trensa(chara3,b-1,n);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s>=4){\n\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t}\n\t\t\t\tn-=s;\n\t\t\t\tif(ans>n)ans=n;\n\t\t\t\trensa(chara3,b,n);\n\t\t\t}else{\n\t\t\t\ts=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);             \n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby ,int p ,int BEGIN )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\t//printf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\tint Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t\twhile( Len != strlen( color ) )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\tLen = strlen( color ) ;\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t//\tprintf( \"st %d %d\\n\" ,st ,begin[ p ] ) ;\n\n\t\t\tUNION( color ,rby ,st ,begin[ p ] ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\t\n\t\tprintf( \"%d\\n\" ,strlen( color ) - 1 ) ;\n\t}\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint min(int a, int b)\n{\n\tif (a <= b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nint Chain(int a[10000], int n)\n{\n\tint i, j;\n\tint count;\n\tint color;\n\t\n\tfor (i = 0; i < n - 4; i++){\n\t\tif (a[i] != 0 && a[i] == a[i + 1] && a[i] == a[i + 2] && a[i] == a[i + 3]){\n\t\t\tcount = 0;\n\t\t\tcolor = a[i];\n\t\t\t\n\t\t\tfor (j = i; a[j] == color; j++){\n\t\t\t\ta[j] = 0;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = 0; j < count; j++){\n\t\t\t\ta[i + j] = a[i + j + count];\n\t\t\t\ta[i + j + count] = 0;\n\t\t\t}\n\t\t\t\n\t\t\ti = 0;\n\t\t}\n\t}\n\t\n\tcount = 0;\n\twhile (a[count] != 0){\n\t\tcount++;\n\t}\n\t\n\treturn (count);\n}\n\nint main(void)\n{\n\tint n;\n\tint i, j;\n\tint a[10000];\n\tint ans;\n\tint color;\n\t\n\twhile (1){\n\t\tfor (i = 0; i < 10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tans = n;\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n - 4; i++){\n\t\t\tint count[3] = {0, 0, 0};\n\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\tif (a[j] - 1 >= 0){\n\t\t\t\t\tcount[a[j] - 1]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolor = 0;\n\t\t\tfor (j = 0; j < 3; j++){\n\t\t\t\tif (count[j] == 3){\n\t\t\t\t\tcolor = j + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (color != 0){\n\t\t\t\tint buf;\n\t\t\t\tbuf = a[i];\n\t\t\t\ta[i] = color;\n\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\ta[i] = buf;\n\t\t\t\t\n\t\t\t\tbuf = a[i + 3];\n\t\t\t\ta[i + 3] = a[i];\n\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\ta[i + 3] = buf;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint check(int *data,int  N);\nint change_data(int *data,int N,int x,int c);\n\nint main(void){\n\tint N,i,j,m,min=10001;\n\tint data[10005]={};\n\n\twhile(1){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0){break;}\n\t\tfor(i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t}\n\t\tfor(i=1;i<4;i++){\n\t\t\tfor(j=0;j<N;j++){\n\t\t\t\tm=change_data(&data[0],N,j,i);\n\t\t\t\tif(m<min){min=m;}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t\tmin=10001;\n\t}\n\treturn 0;\n}\n\nint change_data(int *data,int N,int x,int c){\n\tint i,temp[10005]={};\n\tfor(i=0;i<N;i++){temp[i]=*(data+i);}\n\ttemp[x]=c;\n   return check(&temp[0],N);\n}\nint check(int *data,int N){\n\tint i,j,c=0,p=0,d[10005]={},temp[10005]={0};\n\tfor(i=0;i<N;i++){d[i]=*(data+i);}\n\tdo{\n\t\tp=0;c=0;\n\tfor(i=0;i<N;i++){\n\t\tj=i+1;\n\t\twhile(d[i]==d[j]){\n\t\t\tj++;\n\t\t}\n\t\tif((j-i)>=4){i=j;c++;}\n\t\ttemp[p]=d[i];\n\t\tp++;\n\t}\n\tfor(i=0;i<p;i++){d[i]=temp[i];N=p;}\n\t}while(c!=0);\n\treturn p;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint min(int a, int b)\n{\n\tif (a <= b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nint Chain(int b[10000], int n)\n{\n\tint i, j;\n\tint count;\n\tint color;\n\tint a[10000];\n\t\n\tfor (i = 0; i < n; i++){\n\t\ta[i] = b[i];\n\t}\n\t\n\tfor (i = 0; i < n - 4; i++){\n\t\tif (a[i] != 0 && a[i] == a[i + 1] && a[i] == a[i + 2] && a[i] == a[i + 3]){\n\t\t\t#if 0\n\t\t\tprintf(\"-----\\n\");\n\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d\\n\", a[j]);\n\t\t\t}\n\t\t\tprintf(\"-----\\n\");\n\t\t\t#endif\n\t\t\t\n\t\t\tcount = 0;\n\t\t\tcolor = a[i];\n\t\t\t\n\t\t\tfor (j = i; a[j] == color; j++){\n\t\t\t\ta[j] = 0;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = 0; i + j + count < 10000; j++){\n\t\t\t\ta[i + j] = a[i + j + count];\n\t\t\t\ta[i + j + count] = 0;\n\t\t\t}\n\t\t\t\n\t\t\t#if 0\n\t\t\tprintf(\"-----\\n\");\n\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d\\n\", a[j]);\n\t\t\t}\n\t\t\tprintf(\"-----\\n\");\n\t\t\tgetch();\n\t\t\t#endif\n\t\t\t\n\t\t\ti = 0;\n\t\t}\n\t\t\n\t}\n\t\n\tcount = 0;\n\twhile (a[count] != 0){\n\t\tcount++;\n\t}\n\t\n\tif (count == 4 && a[0] == a[1] && a[0] == a[2] && a[0] == a[3]){\n\t\treturn (0);\n\t}\n\t\n\treturn (count);\n}\n\nint main(void)\n{\n\tint n;\n\tint i, j;\n\tint a[10000];\n\tint ans;\n\tint color;\n\t\n\twhile (1){\n\t\tfor (i = 0; i < 10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tans = n;\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n - 4; i++){\n\t\t\tint count[3] = {0, 0, 0};\n\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\tif (a[j] - 1 >= 0){\n\t\t\t\t\tcount[a[j] - 1]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolor = 0;\n\t\t\tfor (j = 0; j < 3; j++){\n\t\t\t\tif (count[j] >= 3){\n\t\t\t\t\tcolor = j + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (color != 0){\n\t\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\t\tint buf;\n\t\t\t\t\tbuf = a[j];\n\t\t\t\t\ta[j] = color;\n\t\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\t\ta[j] = buf;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdbool.h>\n\nint main(void){\n  int min, minloc, je, i, pet, itung=0;\n  int apa, minus, flag, oke, ip, m, z, imn;\n  int array[1000];  \n\n  do{\n    scanf(\"%d\", &je);\n    int init[je], ini[je];\n    \n    min = je;\n    if(je==0)\n      break;\n    for(i=0; i<je; i++)\n      scanf(\"%d\", &init[i]);\n    \n    for(i=0; i<je; i++){\n      for(pet=1; pet<4; pet++){\n\tfor(z=0; z<je; z++)\n\t  ini[z]=init[z];\n\t\n\tini[i]=pet;\n\toke=ini[0];\n\tflag=1; minus=0; apa=1;\n\twhile(flag==1){\n\t  flag=0;\n\t  for(ip=1; ip<je; ip++){\n\t    if(ini[ip]==-1)\n\t      ;\n\t    else if(ini[ip] == oke)\n\t      apa++;\n\t    else if(ini[ip] != oke){\n\t      oke=ini[ip];\n\t      if(apa>=4){\n\t\tfor(m=minus; m<ip; m++)\n\t\t  ini[m]=-1;\n\t\tflag=1;\n\t      }\n\t      minus=ip;\n\t      apa = 1;\n\t    }\n\t  }\n\t}\n\n\tminloc=0;\n\tfor(imn=0; imn<je; imn++)\n\t  if(ini[imn]!=-1)\n\t    minloc++;\n\tif(minloc<min)\n\t  min=minloc;\n      }\n    }\n    array[itung++]=min;\n  }while(true);\n  array[itung++]=0;\n  \n  for(i=0;array[i]!=0 ; i++)\n    printf(\"%d\\n\",array[i]);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint main( void )\n{\n\tint N ;\n\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\n\t\t\tif( rby[ i ] == 1 && i != 1 && i != p )\n\t\t\t{\n\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;\n\n\t\t\t\t\tif( prev < 1 || next > p )\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{\n\t\t\t\tif( i == 1 || i == p )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] + 1 : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\tprintf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\t//int Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t/*\twhile( 1 )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\t\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t\tprintf( \"st %d %d\\n\" ,st ,end ) ;\n\n\t\t\tUNION( color ,rby ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\tLen = strlen( color ) ;\n\n\t\tprintf( \"%d\\n\" ,Len - 1   ) ;*/\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\t\t//\tprintf( \"%d %d\\n\" ,rby[ i ] ,i % p ) ;\n\t\t\tif( rby[ i ] == 1 && i % p > 1 )\n\t\t\t{\n\t\t\t\tfor( j = 1 ; i + j <= p ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;//printf( \"%3d\\n\" ,prev ) ;\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;//printf( \"\\n%d\\n\" ,kale ) ; \n\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{\n\t\t\t\tif( i == 1 || i == p )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] + 1 : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; i + j <= p ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] - 1 > 3 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] - 1 ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}\n/*\n\n*/"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#define min(a, b) ((a) < (b) ? (a) : (b))\ntypedef struct block{\n    int color,number;\n}block;\nint main(){\n    while (1) {\n        int n;\n        scanf(\"%d\",&n);\n        if (n==0) {\n            return 0;\n        }\n        block b[10000];\n        int rcolor,i,j,x=0,start=0,end=0,ans=n;\n        scanf(\"%d\",&rcolor);\n        for (i=1; i<n; i++) {\n            int c;\n            scanf(\"%d\",&c);\n            if (rcolor==c) {\n                end=i;\n            }else{\n                b[x].color=rcolor;\n                b[x].number=end-start+1;\n                rcolor=c;\n                start=end=i;\n                x++;\n            }\n        }\n        if (start==n-1) {\n            b[x].color=rcolor;\n            b[x].number=1;\n            x++;\n        }\n        for (i=0; i<x; i++) {\n            int y=0,ue=i-1,shita=i+1,flag=0;\n            if (b[i].number==1) {\n                while (b[ue].color==b[shita].color&&b[ue].number+b[shita].number>=4) {\n                    flag=1;\n                    ue--;\n                    shita++;\n                }\n                for (j=0; j<=ue; j++) {\n                    y+=b[j].number;\n                }\n                for (j=x-1; j>=shita; j--) {\n                    y+=b[j].number;\n                }\n                if (flag) {\n                    ans=min(ans, y);\n                }\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\tprintf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\t//int Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t/*\twhile( 1 )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\t\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t\tprintf( \"st %d %d\\n\" ,st ,end ) ;\n\n\t\t\tUNION( color ,rby ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\tLen = strlen( color ) ;\n\n\t\tprintf( \"%d\\n\" ,Len - 1   ) ;*/\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\t\t//\tprintf( \"%d %d\\n\" ,rby[ i ] ,i % p ) ;\n\t\t\tif( rby[ i ] == 1 && i != 1 && i != p )\n\t\t\t{//printf( \"kale = %d\\n\" ,kale ) ;\n\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;//printf( \"%3d\\n\" ,prev ) ;\n\n\t\t\t\t\tif( prev < 1 || next > p )\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{//printf( \"\\n%d\\n\" ,rby[ prev ] ) ;\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;//printf( \"\\n%d\\n\" ,kale ) ; \n\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{//printf( \"\\n%d\\n\" ,i ) ;\n\t\t\t\tif( i == 1 || i == p )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] + 1 : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{//printf( \"%d %d\\n\" ,prev ,next ) ;\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t\t{//printf( \"\\n%d\\n\" ,kale ) ;\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//printf( \"prev %d  next %d  %d\\n\" ,prev ,next ,kale ) ;\n\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//printf( \"\\n%d\\n\" ,kale ) ;\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0534: Chain\n// 2017.10.26 bal4u@uu\n\n#include <stdio.h>\n#include <stdlib.h>\n\nchar a[10002]; int n;\nint f[6] = { 0, 1, 2, 3, 1, 2 };\n\nint no(int p, int c)\n{\n\tint i, j, k;\n\n\tfor (i = p-1; i >= 0 && a[i] == c; i--);\n\ti++;\n\tfor (j = p+1; j < n && a[j] == c; j++);\n\tj--;\n\tk = j - i + 1;\n\tif (k < 4) return 0;\n\n\twhile (i > 0 && j < n-1 && a[i-1] == a[j+1]) {\n\t\tc = a[--i];\n\t\tfor (; i >= 0 && a[i] == c; i--);\n\t\ti++;\n\t\tfor (j++; j < n && a[j] == c; j++);\n\t\tj--;\n\t\tk = j - i + 1;\n\t}\n\treturn k;\n}\n\nint main()\n{\n\tint i, j, x, max; \n\tchar buf[12];\n\n\twhile (fgets(buf, 10, stdin) && *buf != '0') {\n\t\tn = atoi(buf);\n\t\tfor (i = 0; i < n; i++) fgets(buf, 10, stdin), a[i] = *buf & 0xf;\n\t\tfor (max = 0, i = 0; i < n; i++) for (j = 1; j <= 2; j++) {\n\t\t\tx = no(i, f[a[i]+j]);\n\t\t\tif (x > max) { max = x; if (max == n) goto done; }\n\t\t}\ndone:\tprintf(\"%d\\n\", n - max);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\n  int i,j;\n  do{\n  for(i = 0;chara[p-i] == chara[p];i++);\n  for(j = 0;chara[q+i] == chara[q];j++);\n  if(i + j < 4) return p-q+n;\n  p -= i;q += j;\n  }while(chara[p] == chara[q]);\n\n  return p-q+n;\n\n}\n\nint main(){\n  int n,temp,i,chara[10009],Min,m;\n\n  while(1){\n    scanf(\"%d\",&n);\n    Min = 10001;\n    if(n == 0) {break;}\n    chara[0] = chara[n+1] = 0;\n\n    for(i=1;i<n+1;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n\n    for(i=2;i<n+1;i++){\n      if(chara[i] != chara[i-1]){\n        temp = chara[i];\n        chara[i] = chara[i-1];\n        m = chain(chara,i-1,i,n);\n        if(Min > m) Min = m;\n        chara[i] = temp;\n      }\n      if(chara[i] != chara[i+1]){\n        temp = chara[i];\n        chara[i] = chara[i+1];\n        m = chain(chara,i,i+1,n);\n        if(Min > m) Min = m;\n        chara[i] = temp;\n      }        \n    }\n\n    printf(\"%d\\n\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main (void){\n    int n,i,j,kumi,cr[10005],ans,r,b,y,de;\n    for(;;){\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        kumi=0,ans=0;\n        for(i=0;i<10004;i++){\n            cr[i]=4;\n        }\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&cr[i]);\n        }\n        for(i=0;i<n-4;i++){\n            r=0,b=0,y=0;\n            for(j=kumi;j<kumi+4;j++){\n                if(cr[j]==1)r++;\n                else if(cr[j]==2)b++;\n                else if(cr[j]==3)y++;\n            }\n            if(r==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=1;\n                }\n            }\n            else if(b==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=2;\n                }\n            }\n            else if(y==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=3;\n                }\n            }\n            if(r==3||b==3||y==3){\n                for(j=kumi;j<n;j++){\n                    if(cr[kumi]!=cr[j]){\n                        de=j-kumi;\n                        break;\n                    }\n                }\n                for(j=kumi;j<n;j++){\n                    cr[j]=cr[de+j];\n                }\n                kumi=kumi-(de-kumi);\n            }\n            else kumi++;\n        }\n        for(i=0;i<n;i++){\n            if(cr[i]==4)break;\n            ans++;\n        }\n        printf(\"%d\\n\",ans);\n    }\nreturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby ,int p ,int BEGIN )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\t//printf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\tint Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t\twhile( 1 )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\tLen = strlen( color ) ;\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t//\tprintf( \"st %d %d\\n\" ,st ,begin[ p ] ) ;\n\n\t\t\tUNION( color ,rby ,st ,begin[ p ] ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\t\n\t\tprintf( \"%d\\n\" ,strlen( color ) - 1 ) ;\n\t}\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint n,a[100];\nint b,i,j;\nunsigned long long int dp[102][22];\n\nint main(void){\n\tscanf(\"%d\",&n);\n\tfor(b=0;b<n;b++){\n\t\tscanf(\"%d\", &a[b]);\n\t}\n\tdp[1][a[0]]=1;\n\tfor(i=1;i<n-1;i++){\n\t\tfor(j=0;j<=20;j++){\n\t\t\tif(dp[i][j]>0){\n\t\t\t\tint plus=j+a[i];\n\t\t\t\tint minus=j-a[i];\n        \t                if(plus>=0 && plus<=20){\n\t\t\t\t\tdp[i+1][plus]+=dp[i][j];\n\t\t\t\t}\n\t\t\t\tif(minus>=0 && minus<=20){\n\t\t\t\t\tdp[i+1][minus]+=dp[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\",dp[n-1][a[n-1]]);\n\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <stdbool.h>\n\nint main(void){\n  int min, minloc, je, i, pet, itung=0;\n  int apa, minus, flag, oke, ip, m, z, imn, kok;\n  int array[100];  \n\n  do{\n    scanf(\"%d\", &je);\n    int ini[je];\n    \n    min = je;\n    if(je==0)\n      break;\n    for(i=0; i<je; i++)\n      scanf(\"%d\", &ini[i]);\n    \n    for(i=0; i<je; i++){\n      for(pet=1; pet<4; pet++){\n\tkok = ini[i];\n\tini[i]=pet;\n\toke=ini[0];\n\tflag=1; minus=0; apa=1;\n\twhile(flag==1){\n\t  flag=0;\n\t  for(ip=1; ip<je; ip++){\n\t    if(ini[ip]==-1)\n\t      ;\n\t    else if(ini[ip] == oke)\n\t      apa++;\n\t    else if(ini[ip] != oke){\n\t      oke=ini[ip];\n\t      if(apa>=4){\n\t\tfor(m=minus; m<ip; m++)\n\t\t  ini[m]=-1;\n\t\tflag=1;\n\t      }\n\t      minus=ip;\n\t      apa = 1;\n\t    }\n\t  }\n\t}\n\n\tminloc=0;\n\tfor(imn=0; imn<je; imn++)\n\t  if(ini[imn]!=-1)\n\t    minloc++;\n\tif(minloc<min)\n\t  min=minloc;\n\tini[i] = kok;\n      }\n    }\n    array[itung++]=min;\n  }while(true);\n  array[itung++]=0;\n  \n  for(i=0;array[i]!=0 ; i++)\n    printf(\"%d\\n\",array[i]);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-1 && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\terease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (i >= 0 && ball[i] == col){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (i < n && ball[i] == col){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[30001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                for (k = 0; k < n; k++){\n                    temp_2[k] = temp[k];\n                }\n                for (k = 0; k < n - end; k++){\n                    temp[start + k] = temp_2[end + k + 1];\n                }\n                n -= (end - start + 1);\n                i = 0;\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        n = 0;\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[30001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < n; j++){\n                    temp[j] = ball[j];\n                }\n                for (j = 0; j < ans - bottom; j++){\n                    temp[top + j] = ball[bottom + j + 1];\n                }\n                comp = chain(temp, top, bottom, ans);\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[30001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            if (i == 0 || i == n - 1 || !(ball[i] == ball[i - 1] && ball[i] == ball[i + 1])){\n                ans = min(ans, count(i, n, ball));\n                if (ans == 0){\n                    break;\n                }\n            }\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A0534\nMaximum Sum Sequence\n*/\n#include <stdio.h>\n#include <string.h>\n#define DEBUG 0\n#define RELEASE 1\nint check_erase_if_1_ball_change(char * str,int len)\n{\n  int i,j;\n  int equals;\n  int ret;\n\n  equals = 0;\n  \n  for(i=0;i<len;i++)\n    for(j=i+1;j<len;j++)\n      equals += ((i!=j)&&str[i]==str[j])?1:0;\n  ret=(equals*2 == (len-1)*(len-2))?(-1):0;\n\n#if DEBUG\n  printf(\"E=%d L=%d R=%d\\n\",equals,len,ret);\n#endif\n  return(ret);\n}    \n\nint all_erase(char * str,int len)\n{ int a,b;\n  \n#if DEBUG\n  int i;\n  printf(\"V=\");\n  for(i=0;i<len;i++)\n    printf(\"%c\",str[i]);\n  printf(\"\\n\");\n#endif\n\n  if(len < 4)\n    return(0);\n\n  if(len < 8)\n    return(check_erase_if_1_ball_change(str,len));\n      \n  \n  a=((str[0] == str[1])?1:0)+1;\n  if(a>1)\n    a += ((str[0] == str[2])?1:0);\n  b=((str[0] == str[len-1])?1:0);\n  if(b)\n    b +=((str[0] == str[len-2])?1:0);\n  if(b == 2)\n    b +=((str[0] == str[len-3] )?1:0);\n\n  \n/*printf(\"%d %d %d\\n\",len,a,b);*/\n\n  if(a+b > 3)\n    return(all_erase(str+a ,len-a-b));\n  else\n    return(0);\n}\n\nmain()\n{\n  char str[10001];\n  int i,j,len;\n#if RELEASE\n  scanf(\"%d\",&len);\n  \n  for(i=0;i<len;i++)\n    scanf(\" %c\",&(str[i]));\n#else\n    scanf(\"%s\",str);\n    len =strlen(str);\n#endif\n     for(j=len;j>=4;j--)\n       {\n         /*printf(\"j=%d\\n\",j);*/\n         for(i=0;i<len-j+1;i++)\n           {\n             /*printf(\"i=%d,j=%d\\n\",i,j);*/\n             if(all_erase(str+i,j))\n               {\n                 printf(\"%d\\n\",len-j);\n                 goto END;\n               }\n           }\n       }\n  printf(\"%d\\n\",len);\nEND:\n      ;\n    \nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint m[10001][2];\nint main()\n{\n  int n,i,j,k,l,c;\n  for(;;){\n    scanf(\"%d\",&n);\n    if(n==0) break;\n    memset(m,0,sizeof(m));\n    scanf(\"%d\",&c);\n    j = 1;\n    l = 1;\n    k = c;\n    for(i=1;i<n;i++){\n      scanf(\"%d\",&c);\n      if(c == k) l++;\n      else {\n\tm[j][0] = k;\n\tm[j++][1] = l;\n\tl = 1;\n\tk = c;\n      }\n    }\n    m[j][0] = k;\n    m[j++][1] = l;\n    /*\n    for(i=1;i<j;i++){\n      printf(\"%d %d\\n\",m[i][0],m[i][1]);\n    }\n    */\n    for(i=1;i<j;i++){\n      if(m[i][1] == 1){\n\tif(m[i-1][0] == m[i+1][0] && m[i-1][1] + m[i+1][1] > 2){\n\t  k = i - 2; l = i + 2;\n\t}else if(m[i-1][1] == 3){\n\t  k = i - 2; l = i + 1;\n\t}else if(m[i+1][1] == 3){\n\t  k = i - 1; l = i + 2;\n\t}else{\n\t  continue;\n\t}\n\twhile(k > 0 && l < j && m[k][0] == m[l][0] && m[k][1] + m[l][1] > 3){\n\t  k--; l++;\n\t}\n\tc = 0;\n\twhile(k > 0) c += m[k--][1];\n\twhile(l < j) c += m[l++][1];\n\tif(n > c) n = c;\n      }else{\n\tif(m[i-1][1] == 3){\n\t  k = i - 2; l = i;\n\t}else if(m[i+1][1] == 3){\n\t  k = i; l = i + 2;\n\t}else{\n\t  continue;\n\t}\n\tm[i][1]--;\n\twhile(k > 0 && l < j && m[k][0] == m[l][0] && m[k][1] + m[l][1] > 3){\n\t  k--; l++;\n\t}\n\tc = 0;\n\twhile(k > 0) c += m[k--][1];\n\twhile(l < j) c += m[l++][1];\n\tif(n > c) n = c;\n\tm[i][1]++;\n      }\n    }\n    printf(\"%d\\n\",n);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\t\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n\t\tfor(i=0;i<n;i++)scanf(\"%c\\n\",&str[i]);\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\t*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\t*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\n\n\tchar ss[10002];\n\tint len;\n\tchar *p,*q;\n\tint i;\n\t\n\tstrcpy(ss,s);\n\tif(strstr(ss,\"1111\")==NULL && strstr(ss,\"2222\")==NULL && strstr(ss,\"1111\")==NULL) return strlen(ss);\n\t\n\tif(q=strstr(ss,\"1111\")){\n\t\tfor(p=q;*p=='1';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"2222\")){\n\t\tfor(p=q;*p=='2';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"3333\")){\n\t\tfor(p=q;*p=='3';p++);\n\t\tstrcpy(q,p);\n\t}\n\t\n\tlen=chain(ss);\n\treturn len;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main (void){\n    int n,i,j,kumi,cr[10005],ans,r,b,y,de;\n    for(;;){\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        kumi=0,ans=0;\n        for(i=0;i<10005;i++){\n            cr[i]=4;\n        }\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&cr[i]);\n        }\n        for(i=0;i<n-4;i++){\n            r=0,b=0,y=0;\n            for(j=kumi;j<kumi+4;j++){\n                if(cr[j]==1)r++;\n                else if(cr[j]==2)b++;\n                else if(cr[j]==3)y++;\n            }\n            if(r==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=1;\n                }\n            }\n            else if(b==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=2;\n                }\n            }\n            else if(y==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=3;\n                }\n            }\n            if(r==3||b==3||y==3){\n                for(j=kumi;j<n;j++){\n                    if(cr[kumi]!=cr[j]){\n                        de=j-kumi;\n                        break;\n                    }\n                }\n                for(j=kumi;j<n;j++){\n                    cr[j]=cr[de+j];\n                }\n                kumi=kumi-(de-kumi);\n            }\n            else kumi++;\n        }\n        for(i=0;i<n;i++){\n            if(cr[i]==4)break;\n            ans++;\n        }\n        printf(\"%d\\n\",ans);\n    }\nreturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tint a;\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\t\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n//\t\tfor(i=0;i<n;i++)scanf(\"%c\\n\",&str[i]);\n\t\tfor(i=0;i<n;i++){scanf(\"%d\\n\",&a);str[i]='1'+(a-1);}\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n//printf(\"%s\\n\",str);\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\t*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\t*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\n//printf(\"in %s\\n\",s);\n\tchar ss[10002];\n\tint len;\n\tchar *p,*q;\n\tint i;\n\t\n\tstrcpy(ss,s);\n\n\twhile(1){\n\tif(strstr(ss,\"1111\")==NULL && strstr(ss,\"2222\")==NULL && strstr(ss,\"3333\")==NULL) return strlen(ss);\n\t\n\tif(q=strstr(ss,\"1111\")){\n\t\tfor(p=q;*p=='1';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"2222\")){\n\t\tfor(p=q;*p=='2';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"3333\")){\n\t\tfor(p=q;*p=='3';p++);\n\t\tstrcpy(q,p);\n\t}\n\t}\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tint a;\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\t\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n//\t\tfor(i=0;i<n;i++)scanf(\"%c\\n\",&str[i]);\n\t\tfor(i=0;i<n;i++){scanf(\"%d\\n\",&a);str[i]='1'+(a-1);}\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\t*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\t*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\n//printf(\"in%s\\n\",s);\n\tchar ss[10002];\n\tint len;\n\tchar *p,*q;\n\tint i;\n\t\n\tstrcpy(ss,s);\n\tif(strstr(ss,\"1111\")==NULL && strstr(ss,\"2222\")==NULL && strstr(ss,\"3333\")==NULL) return strlen(ss);\n\t\n\tif(q=strstr(ss,\"1111\")){\n\t\tfor(p=q;*p=='1';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"2222\")){\n\t\tfor(p=q;*p=='2';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"3333\")){\n\t\tfor(p=q;*p=='3';p++);\n\t\tstrcpy(q,p);\n\t}\n\t\n\tlen=chain(ss);\n\treturn len;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\n  int i,j;\n  do{\n  for(i = 0;chara[p-i] == chara[p];i++);\n  for(j = 0;chara[q+i] == chara[q];j++);\n  if(i + j < 4) return p-q+n;\n  p -= i;q += j;\n  }while(chara[p] == chara[q]);\n\n  return p-q+n;\n\n}\n\nint main(){\n  int n,temp,i,chara[10001],Min,m;\n\n  while(1){\n    scanf(\"%d\",&n);\n    Min = 10001;\n    if(n == 0) break;\n    chara[0] = chara[n] = 0;\n\n    for(i=1;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n\n    for(i=2;i<n;i++){\n      if(chara[i] != chara[i-1]){\n        temp = chara[i];\n        chara[i] = chara[i-1];\n        m = chain(chara,i-1,i,n);\n        if(Min > m) Min = m;\n        chara[i] = temp;\n      }\n      if(chara[i] != chara[i+1]){\n        temp = chara[i];\n        chara[i] = chara[i+1];\n        m = chain(chara,i,i+1,n);\n        if(Min > m) Min = m;\n        chara[i] = temp;\n      }        \n    }\n\n    printf(\"%d\\n\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (i >= 0 && ball[i] == col){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (i < n && ball[i] == col){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[30001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                for (k = 0; k < n; k++){\n                    temp_2[k] = temp[k];\n                }\n                for (k = 0; k < n; k++){\n                    temp[start + k] = temp_2[end + k + 1];\n                }\n                i = 0;\n                n -= (end - start + 1);\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        return (0);\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[30001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < n; j++){\n                    temp[j] = ball[j];\n                }\n                for (j = 0; j < ans - bottom; j++){\n                    temp[top + j] = ball[bottom + j + 1];\n                }\n                comp = chain(temp, top, bottom, ans);\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[30001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            if (i == 0 || i == n - 1 || !(ball[i] == ball[i - 1] && ball[i] == ball[i + 1])){\n                ans = min(ans, count(i, n, ball));\n                if (ans == 0){\n                    break;\n                }\n            }\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\n#define N_MAX 10000\n\n#define PUYO 4\n\nint n, a[N_MAX];\n\ntypedef struct {\n\tint howmany;\n\tint color;\n} blockdata;\n\nint blocks;\n\nblockdata b[N_MAX];\n\nint max(int a,int b){return(a<b)?b:a;}\n\nint setblocks () {\n\tint i;\n\tchar ball = 0;\n\n\tblocks = 0;\n\tfor (i = 0; i < n; i++) {\n\t\tif (ball == a[i]) {\n\t\t\tb[blocks - 1].howmany++;\n\t\t} else {\n\t\t\tblocks++;\n\n\t\t\tb[blocks - 1].howmany = 1;\n\t\t\tb[blocks - 1].color = ball = a[i];\n\t\t}\n\t}\n\n\t// for (i = 0; i < blocks; i++) {\n\t// \tprintf(\"%d x%d\\n\", b[i].color, b[i].howmany);\n\t// }\n\n\treturn blocks;\n}\n\nint tael (int i) {\n\tint first, last;\n\tint chainlong = 1;\n\tint ans = 0;\n\t\n\tfirst = i - 1;\n\tlast  = i + 1;\n\n\tif (first >= 0 && last < blocks && b[i].howmany != 1) {\n\t\tchainlong += max(b[first].howmany, b[last].howmany);\n\t\treturn ((chainlong >= PUYO) ? chainlong : 0);\n\t}\n\n\twhile (first >= 0 && last < blocks) {\n\t\tchainlong += b[first].howmany + b[last].howmany;\n\n\t\tif ((b[first].color != b[last].color) || chainlong < PUYO)\n\t\t\treturn ans;\n\n\t\tans += chainlong;\n\t\tchainlong = 0;\n\n\t\tfirst--, last++;\n\t}\n\n\treturn ans;\n}\n\nint front (int i) {\n\tint first, last;\n\tint chainlong = 0;\n\tint ans = 0;\n\n\tfirst = i - 1;\n\tlast  = i;\n\n\tif (first >= 0 && b[i].howmany != 1) {\n\t\tchainlong = b[first].howmany + 1;\n\t\treturn ((chainlong >= PUYO) ? chainlong : 0);\n\t}\n\n\twhile (first >= 0 && last < blocks) {\n\t\tchainlong = b[first].howmany + b[last].howmany;\n\n\t\tif ((last != i && b[first].color != b[last].color) || chainlong < PUYO)\n\t\t\treturn ans;\n\t\t\n\t\tans += chainlong;\n\t\tchainlong = 0;\n\n\t\tfirst--, last++;\n\t}\n\n\treturn ans;\n}\n\nint rear (int i) {\n\tint first, last;\n\tint chainlong = 0;\n\tint ans = 0;\n\t\n\tfirst = i;\n\tlast  = i + 1;\n\n\tif (last < blocks && b[i].howmany != 1) {\n\t\tchainlong = 1 + b[last].howmany;\n\t\treturn ((chainlong >= PUYO) ? chainlong : 0);\n\t}\n\n\twhile (first >= 0 && last < blocks) {\n\t\tchainlong = b[first].howmany + b[last].howmany;\n\n\t\tif ((first != i && b[first].color != b[last].color) || chainlong < PUYO)\n\t\t\treturn ans;\n\n\t\tans += chainlong;\n\t\tchainlong = 0;\n\n\t\tfirst--, last++;\n\t}\n\n\treturn ans;\n}\n\nint solve () {\n\tint ans = 0;\n\tint i;\n\n\tsetblocks();\n\n\tfor (i = 0; i < blocks; i++) {\n\t\tint maybe;\n\n\t\tif (b[i - 1].color == b[i + 1].color) {\n\t\t\tans = max(tael(i), ans);\n\t\t} else {\n\t\t\tans = max(front(i), ans);\n\n\t\t\tans = max(rear(i), ans);\n\t\t}\n\n\t\t\n\t}\n\n\treturn printf(\"%d\\n\", n - ans);\n}\n\nint in () {\n\tint i;\n\n\tscanf(\"%d\", &n);\n\tif (!n) return 0;\n\t\n\tfor (i = 0; i < n; i++) {\n\t\tscanf(\"%d\", &a[i]);\n\t}\n\treturn 1;\n}\n\n\nint main (void) {\n\twhile (in()) {\n\t\tsolve();\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<0)break;\n    for(;d[k]==d[k+1];k++)if(k>n)break;\n    if(k-j<3+c)break;\n    j--;\n    k++;\n    c=k-j+1;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,j,k,max,c,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+2]);\n    }\n    max=0;\n    if(n>3){\n      for(i=0;i<n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main(){\n  int n,i,j,k,max;\n  while(scanf(\"%d\",&n),n){\n    int d[10000]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i]);\n    }\n    max=1;\n    if(n>3){\n      if(d[1]==d[2]&&d[1]==d[3])max=5;\n      if(d[n-2]==d[n-3]&&d[n-2]==d[n-4])max=5;\n      for(i=1;i<n;i++){\n\tif(d[i-1]==d[i+1]){\n\t  j=i-1;\n\t  k=i+1;//printf(\"%d %d %d %d\\n\",j,k,d[j],d[k]);\n\t  while(d[j]==d[k]){\n\t    for(;d[j]==d[j-1];j--);\n\t    for(;d[k]==d[k+1];k++);\n\t    if(k-j<4)break;\n\t    j--;\n\t    k++;\n\t  }//printf(\"%d %d %d\\n\",j,k,d[k]);\n\t  if(k-j>4&&max<k-j)max=k-j;\n\t}\n      }\n    }\n    printf(\"%d\\n\",n-max+1);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A0534\nChain\n*/\n#include <stdio.h>\n#include <string.h>\n#define DEBUG 0\n#define RELEASE 1\nint check_erase_if_1_ball_change(char * str,int len)\n{\n  int i,j;\n  int equals;\n  int ret;\n\n  equals = 0;\n  \n  for(i=0;i<len;i++)\n    for(j=i+1;j<len;j++)\n      equals += ((i!=j)&&str[i]==str[j])?1:0;\n  ret=(equals*2 == (len-1)*(len-2))?(-1):0;\n\n#if DEBUG\n  printf(\"E=%d L=%d R=%d\\n\",equals,len,ret);\n#endif\n  return(ret);\n}    \n\nint all_erase(char * str,int len,int top)\n{ int a,b;\n  \n#if DEBUG\n  int i;\n  printf(\"V=\");\n  for(i=0;i<len;i++)\n    printf(\"%c\",str[i]);\n  printf(\"\\n\");\n#endif\n  if(top == 0 && len == 3 && str[0] == str[1] && str[1]==str[2])\n    return(-1);\n  if(len < 4)\n    return(0);\n\n  if(len < 8)\n    return(check_erase_if_1_ball_change(str,len));\n      \n  \n  a=((str[0] == str[1])?1:0)+1;\n  if(a>1)\n    a += ((str[0] == str[2])?1:0);\n  b=((str[0] == str[len-1])?1:0);\n  if(b)\n    b +=((str[0] == str[len-2])?1:0);\n  if(b == 2)\n    b +=((str[0] == str[len-3] )?1:0);\n\n  \n/*printf(\"%d %d %d\\n\",len,a,b);*/\n\n  if(a+b > 3)\n    return(all_erase(str+a ,len-a-b,0));\n  else\n    return(0);\n}\n\nmain()\n{\n  char str[10001];\n  int i,j,len;\n#if RELEASE\n  while(EOF != scanf(\"%d\",&len) && len > 0)\n  {\n  for(i=0;i<len;i++)\n    scanf(\" %c\",&(str[i]));\n#else\n    scanf(\"%s\",str);\n    len =strlen(str);\n#endif\n     for(j=len;j>=4;j--)\n       {\n         /*printf(\"j=%d\\n\",j);*/\n         for(i=0;i<len-j+1;i++)\n           {\n             /*printf(\"i=%d,j=%d\\n\",i,j);*/\n             if(all_erase(str+i,j,-1))\n               {\n                 printf(\"%d\\n\",len-j);\n                 goto END;\n               }\n           }\n       }\n  printf(\"%d\\n\",len);\nEND:\n  ;\n#if RELEASE\n}\n#endif\n\nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count11,count2,count22,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  m = count1 + count2;\n\n  while(1){\n    for(c = i+ count1+1;c < n ;c++ ){\n      if(chara[c] == chara[c+1]) count11++;\n      else {\n        count11++;c = n;k = chara[c];\n        }\n            \n      }\n    for(c = i-count2-1;c > 0 ;c-- ){\n      if(chara[c] == chara[c-1] && chara[c-1] == k ) count22++; \n      else {    \n        count22++;c = 0;\n        }  \n      }      \n      \n    if(count11 + count22 < 4) break;\n    count1 += count11;count2 += count22;\n    m = m + count11 + count22;\n    count11 = count22 = 0;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n    Min = 0;\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\nint i,j;\ndo{\nfor(i = 0;chara[p-i] == chara[p];i++);\nfor(j = 0;chara[q+j] == chara[q];j++);\nif(i + j < 4) {return p-q+n-1;}\np -= i;q += j;\n}while(chara[p] == chara[q]);\n\nreturn p-q+n-1;\n\n}\n\nint main(){\nint n,temp,i,Min,m;\n\n\nint chara[10009];\n\nwhile(scanf(\"%d\",&n) && n != 0){\n\nMin = 10001;\nchara[0] = chara[n+1] = 0;\n\nfor(i=1;i<n+1;i++){\nscanf(\"%d\",&chara[i]);\n}\n\nfor(i=2;i<n;i++){\nif(chara[i] != chara[i-1]){\ntemp = chara[i];\nchara[i] = chara[i-1];\nm = chain(chara,i-1,i,n);\nif(Min > m) {Min = m;}\nchara[i] = temp;\n}\nif(chara[i] != chara[i+1]){\ntemp = chara[i];\nchara[i] = chara[i+1];\nm = chain(chara,i,i+1,n);\nif(Min > m) {Min = m;}\nchara[i] = temp;\n}\n}\n\nprintf(\"%d\\n\",Min);\n}\n\nreturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<limits.h>\nint main(void)\n{\n\tint n,c[10001],g,t,l,r,a,min,i,j;\n\twhile(1)\n\t{\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0)\n\t\tbreak;\n\t\tfor(i=1; i<=n; i++)\n\t\tscanf(\"%d\", &c[i]);\n\t\tmin=INT_MAX;\n\t\tfor(i=1; i<=n; i++)\n\t\t{\n\t\t\tfor(j=1; j<4; j++)\n\t\t\t{\n\t\t\t\tg=n;\n\t\t\t\tt=1;\n\t\t\t\tl=i-1;\n\t\t\t\tr=i+1;\n\t\t\t\twhile(c[l]==j&&l>0)\n\t\t\t\t{\n\t\t\t\t\tt++;\n\t\t\t\t\tl--;\n\t\t\t\t}\n\t\t\t\twhile(c[r]==j&&r<=n)\n\t\t\t\t{\n\t\t\t\t\tt++;\n\t\t\t\t\tr++;\n\t\t\t\t}\n\t\t\t\tif(t>3)\n\t\t\t\t{\n\t\t\t\t\twhile(1)\n\t\t\t\t\t{\n\t\t\t\t\t\tg-=t;\n\t\t\t\t\t\tt=0;\n\t\t\t\t\t\tif(l>0)\n\t\t\t\t\t\ta=c[l];\n\t\t\t\t\t\telse if(r<=n)\n\t\t\t\t\t\ta=c[r];\n\t\t\t\t\t\telse\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\twhile(c[l]==a&&l>0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tt++;\n\t\t\t\t\t\t\tl--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile(c[r]==a&&r<=n)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tt++;\n\t\t\t\t\t\t\tr++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(t<4)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(min>g)\n\t\t\t\tmin=g;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\", min);\n\t}\n\t\n\treturn 0;\n}\n"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\nint main(){\n\tint N;\n\tint rensa;\n\tint count;\n\tint i,j,k;//ループに用いるカウント\n\tint a,b,end,start;\n\tint color;\n\tscanf(\"%d\",&N);\n\twhile(N!=0){\n\t\tint data[N];\n\t\trensa=10000;//最小値を更新していく\n\t\tfor(i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t}\n\t\tfor(i=0;i<N;i++){//開始地点\n\t\t\tfor(j=1;j<4;j++){//変更色\n\t\t\t\tprintf(\"%dを%dに\\n\",i,j);\n\t\t\t\tcount=1;\n\t\t\t\tcolor=j;\n\t\t\t\ta=0;\n\t\t\t\tb=0;\n\t\t\t\t//色をjに変更（基準）\n\t\t\t\tk=i-1;//基準より前で同じ色のものを探す。\n\t\t\t\twhile(k>=0&&data[k]==color){\n\t\t\t\t\ta++;\n\t\t\t\t\tprintf(\"%dは同色\\n\",k);\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t\tk=i+1;//基準より後ろで同じ色のものを探す。\n\t\t\t\twhile(k<N&&data[k]==color){\n\t\t\t\t\tb++;\n\t\t\t\t\tprintf(\"%dは同色\\n\",k);\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t\twhile(1){\n\t\t\t\t\tif(a+b>=4&&data[i-a-1]==data[i+b+1]){//実際に消せたなら続行\n\t\t\t\t\t\tcount+=a+b;\n\t\t\t\t\t\tprintf(\"%d個消えました。通算%d個\\n\",a+b,count);\n\t\t\t\t\t\tstart=i-a;\n\t\t\t\t\t\tend=i+b;\n\t\t\t\t\t\ta=0;\n\t\t\t\t\t\tb=0;\n\t\t\t\t\t\tif(end+1==N||start==0){\n\t\t\t\t\t\t\tprintf(\"gotoが機能\\n\");\n\t\t\t\t\t\t\tgoto END;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tk=start-1;\n\t\t\t\t\t\tcolor=data[k];\n\t\t\t\t\t\tprintf(\"色は%d\\n\",color);\n\t\t\t\t\t\twhile(k>=0&&data[k]==color){\n\t\t\t\t\t\t\ta++;\n\t\t\t\t\t\t\tprintf(\"%dは同色\\n\",k);\n\t\t\t\t\t\t\tk--;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tk=end+1;\n\t\t\t\t\t\twhile(k<N&&data[k]==color){\n\t\t\t\t\t\t\tb++;\n\t\t\t\t\t\t\tprintf(\"%dは同色\\n\",k);\n\t\t\t\t\t\t\tk++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(a+b>=4){\n\t\t\t\t\t\t\tcount+=a+b;\n\t\t\t\t\t\t\tprintf(\"%d個消えました。通算%d個\\n\",a+b,count);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tEND:\n\t\t\t\t\t\tcount=N-count;\n\t\t\t\t\t\tif(count<rensa){\n\t\t\t\t\t\t\trensa=count;\n\t\t\t\t\t\t\tprintf(\"最小値の更新:%dに\\n\",rensa);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(rensa+1==N){\n\t\t\trensa++;\n\t\t}\n\t\tprintf(\"%d\\n\",rensa);\n\t\tscanf(\"%d\",&N);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=b-4;c<b+4;c++){\n\t\tif(c<0 | c>=n)break;\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\tif(ans>n)ans=n;\n\t\t\trensa(chara3,b,n);\n\t\t}else{\n\t\t\ts=1;\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tint a;\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\tchar c;\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n\t\tfor(i=0;i<n;i++){scanf(\"%d\\n\",&a);str[i]='1'+(a-1);}\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n//printf(\"%s\\n\",str);\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\tc=*p;*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\t*p=c;\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\tc=*(p+1);*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\t*(p+1)=c;\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\tc=*(p+2);*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\t*(p+2)=c;\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\tc=*(p+3);*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\t*(p+3)=c;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\n//printf(\"in %s\\n\",s);\n\tchar ss[10002];\n\tint len,d;\n\tchar *p,*q;\n\tint i;\n\tchar c;\n\tstrcpy(ss,s);\n\tif((p=strstr(ss,\"1111\"))!=NULL){\n\t\tq=p;\n\t\twhile(*q==*p)q++;\n\t}else if((p=strstr(ss,\"2222\"))!=NULL){\n\t\tq=p;\n\t\twhile(*q==*p)q++;\n\t}else if((p=strstr(ss,\"3333\"))!=NULL){\n\t\tq=p;\n\t\twhile(*q==*p)q++;\n\t}\n//printf(\"%s\\t\",ss);printf(\"p=%d\\tq=%d\\tq-p=%d\\n\",p-ss,q-ss,q-p);\t\n\td=q-p;\n\twhile(p>ss && q<&ss[strlen(ss)]){\n\t\tp--;\n\t\tc=*p;\n\t\tif(*q!=c)break;\n\t\twhile(p>=ss && *p==c)p--;\n\t\tp++;\n\t\twhile(q<&ss[strlen(ss)] && *q==c)q++;\n\t\tif(q-p<d+4)break;\n\t\td=q-p;\n//printf(\"%s\\t\",ss);printf(\"p=%d\\tq=%d\\tq-p=%d\\n\",p-ss,q-ss,q-p);\t\n\t}\n\t\n\treturn strlen(ss)-d;\n\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint chara[10000],n;\n\nint search(int num,int color){\n\tint s,e,sum,total,p;\n\ts=num;\n\te=num;\n\tsum=1;\n\ttotal=0;\n\twhile(1){\n\t\tdo{\n\t\t\tp=sum;\n\t\tif(s>0){\n\t\t\tif(chara[s-1]==color){\n\t\t\t\ts--;\n\t\t\t\tsum++;\n\t\t\t}\n\t\t}\n\t\tif(e<n-1){\n\t\t\tif(chara[e+1]==color){\n\t\t\t\te++;\n\t\t\t\tsum++;\n\t\t\t}\n\t\t}\n\t\t}while(sum-p>0);\n\t\tif(sum<4) break;\n\t\ttotal+=sum;\n\t\tif(s==0 || e==n-1) break;\n\t\tif(chara[s-1]!=chara[e+1]) break;\n\t\tcolor=chara[s-1];\n\t\tsum=0;\n\t}\n\treturn total;\n}\n\nint main(){\n\tint i,max,a;\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0) break;\n\t\tfor(i=0;i<n;i++){\n\t\t\tscanf(\"%d\",&chara[i]);\n\t\t\tchara[i]--;\n\t\t}\n\t\tmax=0;\n\t\tfor(i=0;i<n;i++){\n\t\t\ta=search(i,(chara[i]+1)%3);\n\t\t\tmax=(a>max)?a:max;\n\t\t\ta=search(i,(chara[i]+2)%3);\n\t\t\tmax=(a>max)?a:max;\n\t\t}\n\t\tprintf(\"%d\\n\",n-max);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint ball[10001];\n\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint color(int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    int dx, ddx;\n    i = *top - 1;\n    dx = 0;\n    while (i >= 0 && ball[i] == col){\n        *top = i;\n        i--;\n        dx++;\n    }\n    \n    i = *bottom + 1;\n    ddx = 0;\n    while (i < n && ball[i] == col){\n        *bottom = i;\n        i++;\n        ddx++;\n    }\n    return(dx + ddx);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, t;\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            top = bottom = check;\n            t = 0;\n            if (color(i, n, &top, &bottom) >= 3){\n                while (top - 1 >= 0 && bottom + 1 < n && ball[top - 1] == ball[bottom + 1] && color(ball[top - 1], n, &top, &bottom) >= 4){\n                    t = bottom - top + 1;\n                }\n                ans = min(ans, n - t);\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    \n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            if (i == 0 || i == n - 1 || !(ball[i] == ball[i - 1] && ball[i] == ball[i + 1])){\n                ans = min(ans, count(i, n, ball));\n                if (ans == 0){\n                    break;\n                }\n            }\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint N,i,j,c[10001],e[10001],m[6]={0,1,2,3,1,2},t,r;\n\nint ch(int *x,int l)\n{\n\tint s,t;\n\tfor(s=0;s<l;s++)\n\t{\n\t\tfor(t=s;t<l&&x[s]==x[t];t++);\n\t\tif(t-s>=4)\n\t\t{\n\t\t\tmemmove(x+s,x+t,(N-s)*4);\n\t\t\treturn ch(x,l-(t-s));\n\t\t}\n\t}\n\treturn l;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\",&N),N;)\n\t{\n\t\tmemset(c,-1,sizeof(c));\n\t\tfor(i=0;i<N;i++)\n\t\t\tscanf(\"%d\",&c[i]);\n\t\tmemcpy(e,c,sizeof(c));\n\t\tfor(i=0,r=N;i<N;i++)\n\t\t{\n\t\t\tfor(j=1;j<3;j++)\n\t\t\t{\n\t\t\t\tmemcpy(c,e,sizeof(c));\n\t\t\t\tc[i]=m[c[i]+j];\n\t\t\t\tt=0;\n\t\t\t\tt=ch(c,N);\n\t\t\t\tr=r>t?t:r;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=b-4;c<b+4;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\tif(ans>n)ans=n;\n\t\t\trensa(chara3,b-4,n);\n\t\t}\n\t\telse{\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint check(int *data,int  N);\nint change_data(int *data,int N,int x,int c);\n\nint main(void){\n\tint N,i,j,m,min=10001;\n\tint data[10005]={};\n\n\twhile(1){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0){break;}\n\t\tfor(i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t}\n\t\tfor(i=1;i<4;i++){\n\t\t\tfor(j=0;j<N;j++){\n\t\t\t\tm=change_data(&data[0],N,j,i);\n\t\t\t\tif(m<min){min=m;}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t\tmin=10001;\n\t}\n\treturn 0;\n}\n\nint change_data(int *data,int N,int x,int c){\n\tint i,temp[10005]={};\n\tfor(i=0;i<N;i++){temp[i]=*(data+i);}\n\ttemp[x]=c;\n   return check(&temp[0],N);\n}\nint check(int *data,int N){\n\tint i,j,c=0,p=0,temp[10005]={};\n\tfor(i=0;i<N;i++){\n\t\tj=i+1;\n\t\twhile(*(data+i)==*(data+j)){\n\t\t\tj++;\n\t\t}\n\t\tif((j-i)>=4){i=j;c++;}\n\t\ttemp[p]=*(data+i);\n\t\tp++;\n\t}\n\n\tif(c!=0){p=check(&temp[0],p);}\n\treturn p;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=b-5;c<b+5;c++){\n\t\tif(c>=0 && c<=n-1){\n\t\t\tif(chara3[c]==chara3[c+1]){\n\t\t\t\ts++;\n\t\t\t\tif(s>=4 && c==n-1){\n\t\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t\t}\n\t\t\t\t\tn-=s;\n\t\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t\trensa(chara3,b-1,n);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s>=4){\n\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t}\n\t\t\t\tn-=s;\n\t\t\t\tif(ans>n)ans=n;\n\t\t\t\trensa(chara3,b,n);\n\t\t\t}else{\n\t\t\t\ts=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);             \n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (ball[i] == col && i >= 0){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (ball[i] == col && i < n){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[20001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                for (k = 0; k < n; k++){\n                    temp_2[k] = temp[k];\n                }\n                memset(temp, -1, sizeof(temp));\n                for (k = 0; k < n; k++){\n                    temp[k] = temp_2[k];\n                }\n                for (k = 0; k < n; k++){\n                    temp[start + k] = temp_2[end + k + 1];\n                }\n                n -= (end - start + 1);\n                i = 0;\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        n = 0;\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[20001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < n; j++){\n                    temp[j] = ball[j];\n                }\n                for (j = 0; j < ans; j++){\n                    temp[top + j] = ball[bottom + j + 1];\n                }\n                comp = chain(temp, top, bottom, ans);\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[20001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            ans = min(ans, count(i, n, ball));\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define Max(x,y) ((x>y)?x:y)\nint c[10005],d[10005];\nint func(int s,int t){\n\tint x=0;\n\twhile(c[s]==c[t] && d[s]+d[t]>=4){\n\t\tx+=d[s]+d[t];\n\t\ts=s-d[s];\n\t\tt=t+d[t];\n\t}\n\t//printf(\" %d %d\\n\",s,t);\n\treturn x;\n}\nint main(){\n\tint i,j,n,x,y,s,t,ans;\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tc[0]=5;c[n+1]=6;\n\t\td[0]=d[n+1]=0;\n\t\tscanf(\"%d\",&c[1]);\n\t\tx=c[1];y=1;\n\t\tfor(i=2;i<=n+1;i++){\n\t\t\tif(i<n+1)scanf(\"%d\",&c[i]);\n\t\t\tif(c[i]!=x){\n\t\t\t\tfor(j=1;j<=y;j++)\n\t\t\t\t\td[i-j]=y;\n\t\t\t\ty=1;\n\t\t\t\tx=c[i];\n\t\t\t}else y++;\n\t\t}\n\t\t//for(i=1;i<=n;i++)printf(\"%d \",d[i]);\n\t\t//printf(\"\\n\");\n\t\tans=0;\n\t\tfor(i=1;i<=n;i++){\n\t\t\ts=i-1;t=i+1;\n\t\t\tif(c[s]==c[t] && c[s]!=c[i] && d[s]+d[t]>=3){\n\t\t\t\ts=s-d[s];\n\t\t\t\tt=t+d[t];\n\t\t\t\tans=Max(ans,d[i-1]+d[i+1]+1+func(s,t));\n\t\t\t\t//printf(\"%d:%d\\n\",i,d[i-1]+d[i+1]+1+func(s,t));\n\t\t\t}else{\n\t\t\t\tif(c[s]!=c[i] && d[s]>=3){\n\t\t\t\t\ts=s-d[s];\n\t\t\t\t\tans=Max(ans,d[i-1]+1+func(s,t));\n\t\t\t\t\t//printf(\"%d:%d\\n\",i,d[i-1]+1+func(s,t));\n\t\t\t\t}\n\t\t\t\tif(c[t]!=c[i] && d[t]>=3){\n\t\t\t\t\tt=t+d[t];\n\t\t\t\t\tans=Max(ans,d[i+1]+1+func(s,t));\n\t\t\t\t\t//printf(\"%d:%d\\n\",i,d[i+1]+1+func(s,t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\n  int i,j;\n  do{\n  for(i = 0;chara[p-i] == chara[p];i++);\n  for(j = 0;chara[q+i] == chara[q];j++);\n    if(i + j < 4) {return p-q+n;}\n  p -= i;q += j;\n  }while(chara[p] == chara[q]);\n\n  return p-q+n;\n\n}\n\nint main(){\n  int n,temp,i,chara[10009],Min,m;\n\n  while(scanf(\"%d\",&n) && n != 0){\n    Min = 10001;\n    chara[0] = chara[n+1] = 0;\n\n    for(i=1;i<n+1;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n\n    for(i=2;i<n+1;i++){\n      if(chara[i] != chara[i-1]){\n        temp = chara[i];\n        chara[i] = chara[i-1];\n        m = chain(chara,i-1,i,n);\n        if(Min > m) {Min = m;}\n        chara[i] = temp;\n      }\n      if(chara[i] != chara[i+1]){\n        temp = chara[i];\n        chara[i] = chara[i+1];\n        m = chain(chara,i,i+1,n);\n        if(Min > m) {Min = m;}\n        chara[i] = temp;\n      }        \n    }\n\n    printf(\"%d\\n\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0534: Chain\n// 2017.10.26 bal4u@uu\n\n#include <stdio.h>\n#include <stdlib.h>\n\nchar a[10002]; int n;\nint f[6] = { 0, 1, 2, 3, 1, 2 };\n\nint no(int p, int c)\n{\n\tint i, j, k, cnt;\n\n\tfor (i = p-1; i >= 0 && a[i] == c; i--);\n\ti++;\n\tfor (j = p+1; j < n && a[j] == c; j++);\n\tj--;\n\tif ((k = j - i + 1) < 4) return 0;\n\tcnt = k;\n\n\twhile (i > 0 && j < n-1 && a[i-1] == a[j+1]) {\n\t\tc = a[--i];\n\t\tfor (; i >= 0 && a[i] == c; i--);\n\t\ti++;\n\t\tfor (j++; j < n && a[j] == c; j++);\n\t\tj--;\n\t\tk = j - i + 1 - cnt;\n\t\tif (k < 4) break;\n\t\tcnt += k;\n\t}\n\treturn cnt;\n}\n\nint main()\n{\n\tint i, j, x, max; \n\tchar buf[10];\n\n\twhile (fgets(buf, 8, stdin) && *buf != '0') {\n\t\tn = atoi(buf);\n\t\tfor (i = 0; i < n; i++) fgets(buf, 8, stdin), a[i] = *buf & 0xf;\n\t\tfor (max = 0, i = 0; i < n; i++) for (j = 1; j <= 2; j++) {\n\t\t\tx = no(i, f[a[i]+j]);\n\t\t\tif (x > max) { max = x; if (max == n) goto done; }\n\t\t}\ndone:\tprintf(\"%d\\n\", n - max);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count2,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  m = count1 + count2\n\n  while(1){\n    for(c = i+ count1+1;c < n ;c++ ){\n      if(chara[c] == chara[c+1]) count1++;\n      else {\n        count1++;c = n;k = chara[c]\n        }\n      }      \n      }\n    for(c = i-count2-1;c > 0 ;c-- ){\n      if(chara[c] == chara[c-1] && chara[c-1] == k ) count2++; \n      else {    \n        count2++;c = 0;\n        }  \n      }      \n      }\n    if(count1 + count2 < 2) break;\n    m = m + count1 + count2;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\tprintf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\t//int Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t/*\twhile( 1 )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\t\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t\tprintf( \"st %d %d\\n\" ,st ,end ) ;\n\n\t\t\tUNION( color ,rby ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\tLen = strlen( color ) ;\n\n\t\tprintf( \"%d\\n\" ,Len - 1   ) ;*/\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\t\t//\tprintf( \"%d %d\\n\" ,rby[ i ] ,i % p ) ;\n\t\t\tif( rby[ i ] == 1 && i % p > 1 )\n\t\t\t{\n\t\t\t\tfor( j = 1 ; i + j <= p ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;//printf( \"%3d\\n\" ,prev ) ;\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;//printf( \"\\n%d\\n\" ,kale ) ; \n\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{\n\t\t\t\tif( i == 1 || i == p )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; i + j <= p ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] - 1 > 3 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] - 1 ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}\n/*\n\n*/"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A0534\nMaximum Sum Sequence\n*/\n#include <stdio.h>\n#include <string.h>\nint check_erase_if_1_ball_change(char * str,int len)\n{\n  int i,j;\n  int equals;\n\n  equals = 0;\n  \n  for(i=0;i<len;i++)\n    for(j=i+1;j<len;j++)\n      equals += ((i!=j)&&str[i]==str[j])?1:0;\n/*printf(\"E=%d L=%d\\n\",equals,len);*/\n  return((equals*2 == (len-1)*(len-2))?(-1):0);\n\n}    \nint all_erase(char * str,int len)\n{ int a,b;\n  \n#if 0\n  int i;\n  for(i=0;i<len;i++)\n    printf(\"%c\",str[i]);\n  printf(\"\\n\");\n#endif\n\n  if(len < 3)\n    return(0);\n\n  if(check_erase_if_1_ball_change(str,len))\n    {\n      /*printf(\":G\\n\");*/\n      return(-1);\n    }\n\n  \n  a=((str[0] == str[1])?1:0)+1;\n  if(a)\n    a += ((str[0] == str[2])?1:0);\n  b=((str[0] == str[len-1])?1:0);\n  if(b)\n    b +=((str[0] == str[len-2])?1:0);\n  if(b == 2)\n    b +=((str[0] == str[len-3] )?1:0);\n\n  \n/*printf(\"%d %d %d\\n\",len,a,b);*/\n\n  if(a+b > 3)\n    return(all_erase(str+a ,len-a-b));\n  else\n    return(0);\n}\n\nmain()\n{\n  char str[1000];\n  int i,j,len;\n#if 1\n  scanf(\"%d\",&len);\n  \n  for(i=0;i<len;i++)\n    scanf(\" %c\",&(str[i]));\n#else\n    scanf(\"%s\",str);\n    len =strlen(str);\n#endif\n     for(j=len;j>4;j--)\n       {\n         /*printf(\"j=%d\\n\",j);*/\n         for(i=0;i<len-j+1;i++)\n           {\n             /*printf(\"i=%d,j=%d\\n\",i,j);*/\n             if(all_erase(str+i,j))\n               {\n                 printf(\"%d\\n\",len-j);\n                 goto END;\n               }\n           }\n       }\nEND:\n      ;\n    \nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\n  int i,j;\n  do{\n  for(i = 0;chara[p-i] == chara[p];i++);\n  for(j = 0;chara[q+i] == chara[q];j++);\n    if(i + j < 4) {return p-q+n;}\n  p -= i;q += j;\n  }while(chara[p] == chara[q]);\n\n  return p-q+n;\n\n}\n\nint main(){\n  int n,temp,i,Min,m;\n\n  while(1){\n    int chara[10009];\n    scanf(\"%d\",&n);\n    if(n == 0){break;}\n    Min = 10001;\n    chara[0] = chara[n+1] = 0;\n\n    for(i=1;i<n+1;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n\n    for(i=2;i<n;i++){\n      if(chara[i] != chara[i-1]){\n        temp = chara[i];\n        chara[i] = chara[i-1];\n        m = chain(chara,i-1,i,n);\n        if(Min > m) {Min = m;}\n        chara[i] = temp;\n      }\n      if(chara[i] != chara[i+1]){\n        temp = chara[i];\n        chara[i] = chara[i+1];\n        m = chain(chara,i,i+1,n);\n        if(Min > m) {Min = m;}\n        chara[i] = temp;\n      }        \n    }\n    for(i=1;i<n+1;i++){\n      chara[i] = 0;\n    }\n    printf(\"%d\\n\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count11,count2,count22,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  m = count1 + count2 + 1;\n  while(1){\n    count11 = count22 = 0;\n    for(c = i+ count1+1;c < n ;c++ ){\n      if(chara[c] == chara[c+1]) count11++;\n      else {\n        count11++;c = n;k = chara[c];\n        }\n            \n      }\n    for(c = i-count2-1;c > 0 ;c-- ){\n      if(chara[c] == k) count22++; \n      else {    \n        c = 0;\n        }  \n      }      \n      \n    if(count11 + count22 < 4) break;\n    count1 += count11;count2 += count22;\n    m = m + count11 + count22;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n    Min = 0;\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count11,count2,count22,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  m = count1 + count2;\n\n  while(1){\n    for(c = i+ count1+1;c < n ;c++ ){\n      if(chara[c] == chara[c+1]) count11++;\n      else {\n        count11++;c = n;k = chara[c];\n        }\n            \n      }\n    for(c = i-count2-1;c > 0 ;c-- ){\n      if(chara[c] == chara[c-1] && chara[c-1] == k ) count22++; \n      else {    \n        count22++;c = 0;\n        }  \n      }      \n      \n    if(count11 + count22 < 4) break;\n    count1 += count11;count2 += count22;\n    m = m + count11 + count22;\n    count11 = count22 = 0;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-1 && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\terease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<=1)break;\n    for(;d[k]==d[k+1];k++)if(k>=n)break;//printf(\"%d %d\\n\",j,k);\n    if(k-j<3+c)break;\n    if(j>1)j--;\n    if(k<n)k++;\n    c=k-j+1;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,j,k,max,c,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+1]);\n    }\n    max=0;\n    if(n>3){\n      for(i=1;i<=n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s){\n\t\t\tif(ans>n)ans=n;\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])if(chara[b-1]==a || chara[b+1]==a)erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\nint N,i,j,c[10001],e[10001],m[7]={0,1,2,3,1,2,3},t,r;\n\nint ch(int *x,int p)\n{\n\tint lp=p,rp=p+1,cl,lt,rt;\n\twhile(lp>=0)\n\t{\n\t\tcl=c[lp];\n\t\tfor(lt=lp;c[lt]==cl;lt--);\n\t\tfor(rt=rp;c[rt]==cl;rt++);\n\t\tif((lp-lt)+(rt-rp)<4)\n\t\t\tbreak;\n\t\t\tlp=lt,rp=rt;\n\t}\n\treturn lp+(N-rp)+1;\n}\n\nint main()\n{\n\tfor(;scanf(\"%d\",&N),N;)\n\t{\n\t\tmemset(c,-1,sizeof(c));\n\t\tfor(i=0;i<N;i++)\n\t\t\tscanf(\"%d\",&c[i]);\n\t\tmemcpy(e,c,sizeof(c));\n\t\tfor(i=0,r=N;i<N;i++)\n\t\t{\n\t\t\tfor(j=1;j<3;j++)\n\t\t\t{\n\t\t\t\tmemcpy(c,e,sizeof(c));\n\t\t\t\tc[i]=m[c[i]+j];\n\t\t\t\tt=ch(c,i);\n\t\t\t\tr=r>t?t:r;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",r);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A0534\nMaximum Sum Sequence\n*/\n#include <stdio.h>\n#include <string.h>\n#define DEBUG 0\n#define RELEASE 1\nint check_erase_if_1_ball_change(char * str,int len)\n{\n  int i,j;\n  int equals;\n  int ret;\n\n  equals = 0;\n  \n  for(i=0;i<len;i++)\n    for(j=i+1;j<len;j++)\n      equals += ((i!=j)&&str[i]==str[j])?1:0;\n  ret=(equals*2 == (len-1)*(len-2))?(-1):0;\n\n#if DEBUG\n  printf(\"E=%d L=%d R=%d\\n\",equals,len,ret);\n#endif\n  return(ret);\n}    \n\nint all_erase(char * str,int len)\n{ int a,b;\n  \n#if DEBUG\n  int i;\n  printf(\"V=\");\n  for(i=0;i<len;i++)\n    printf(\"%c\",str[i]);\n  printf(\"\\n\");\n#endif\n\n  if(len < 4)\n    return(0);\n\n  if(len < 8)\n    return(check_erase_if_1_ball_change(str,len));\n      \n  \n  a=((str[0] == str[1])?1:0)+1;\n  if(a>1)\n    a += ((str[0] == str[2])?1:0);\n  b=((str[0] == str[len-1])?1:0);\n  if(b)\n    b +=((str[0] == str[len-2])?1:0);\n  if(b == 2)\n    b +=((str[0] == str[len-3] )?1:0);\n\n  \n/*printf(\"%d %d %d\\n\",len,a,b);*/\n\n  if(a+b > 3)\n    return(all_erase(str+a ,len-a-b));\n  else\n    return(0);\n}\n\nmain()\n{\n  char str[10001];\n  int i,j,len;\n#if RELEASE\n  while(EOF != scanf(\"%d\",&len) && len > 0)\n  {\n  for(i=0;i<len;i++)\n    scanf(\" %c\",&(str[i]));\n#else\n    scanf(\"%s\",str);\n    len =strlen(str);\n#endif\n     for(j=len;j>=4;j--)\n       {\n         /*printf(\"j=%d\\n\",j);*/\n         for(i=0;i<len-j+1;i++)\n           {\n             /*printf(\"i=%d,j=%d\\n\",i,j);*/\n             if(all_erase(str+i,j))\n               {\n                 printf(\"%d\\n\",len-j);\n                 goto END;\n               }\n           }\n       }\n  printf(\"%d\\n\",len);\nEND:\n  ;\n#if RELEASE\n}\n#endif\n\nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (i >= 0 && ball[i] == col){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (i < n && ball[i] == col){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[30001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                for (k = 0; k < n; k++){\n                    temp_2[k] = temp[k];\n                }\n                for (k = 0; k < n; k++){\n                    temp[start + k] = temp_2[end + k + 1];\n                }\n                n -= (end - start + 1);\n                i = 0;\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        n = 0;\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[30001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < n; j++){\n                    temp[j] = ball[j];\n                }\n                for (j = 0; j < ans; j++){\n                    temp[top + j] = ball[bottom + j + 1];\n                }\n                comp = chain(temp, top, bottom, ans);\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[30001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            ans = min(ans, count(i, n, ball));\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\nint i,j;\ndo{\nfor(i = 0;chara[p-i] == chara[p];i++);\nfor(j = 0;chara[q+j] == chara[q];j++);\nif(i + j < 4) {return p-q+n;}\np -= i;q += j;\n}while(chara[p] == chara[q]);\n\nreturn p-q+n;\n\n}\n\nint main(){\nint n,temp,i,Min,m;\n\n\nint chara[10009];\n\nwhile(scanf(\"%d\",&n) && n != 0){\n\nMin = 10001;\nchara[0] = chara[n+1] = 0;\n\nfor(i=1;i<n+1;i++){\nscanf(\"%d\",&chara[i]);\n}\n\nfor(i=2;i<n;i++){\nif(chara[i] != chara[i-1]){\ntemp = chara[i];\nchara[i] = chara[i-1];\nm = chain(chara,i-1,i,n);\nif(Min > m) {Min = m;}\nchara[i] = temp;\n}\nif(chara[i] != chara[i+1]){\ntemp = chara[i];\nchara[i] = chara[i+1];\nm = chain(chara,i,i+1,n);\nif(Min > m) {Min = m;}\nchara[i] = temp;\n}\n}\n\nprintf(\"%d\\n\",Min);\n}\n\nreturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (i >= 0 && ball[i] == col){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (i < n && ball[i] == col){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[30001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                n -= (end - start + 1);\n                for (k = 0; k < n; k++){\n                    if (k < start){\n                        temp_2[k] = temp[k];\n                    }\n                    else {\n                        temp_2[k] = temp[(end - start + 1) + k];\n                    }\n                }\n                for (k = 0; k < n; k++){\n                    temp[k] = temp_2[k];\n                }\n                i = 0;\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        return (0);\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[30001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < ans; j++){\n                    if (j < top){\n                        temp[j] = ball[j];\n                    }\n                    else {\n                        temp[j] = ball[(bottom - top + 1) + j];\n                    }\n                }\n                comp = 100000;\n                if (temp[top - 1] == temp[top]){\n                    comp = chain(temp, top, bottom, ans);\n                }\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[30001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            if (i == 0 || i == n - 1 || !(ball[i] == ball[i - 1] && ball[i] == ball[i + 1])){\n                ans = min(ans, count(i, n, ball));\n                if (ans == 0){\n                    break;\n                }\n            }\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-1){\n\t\t\tif(ans>n)ans=n;\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (ball[i] == col && i >= 0){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (ball[i] == col && i < n){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[20001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                for (k = 0; k < n; k++){\n                    temp_2[k] = temp[k];\n                }\n                memset(temp, -1, sizeof(temp));\n                for (k = 0; k < n; k++){\n                    temp[k] = temp_2[k];\n                }\n                for (k = 0; k < n; k++){\n                    temp[start + k] = temp_2[end + k + 1];\n                }\n                n -= (end - start + 1);\n                i = 0;\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        n = 0;\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[20001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < n; j++){\n                    temp[j] = ball[j];\n                }\n                for (j = 0; j < ans; j++){\n                    temp[top + j] = ball[bottom + j + 1];\n                }\n                comp = chain(temp, top, bottom, ans);\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[20001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            if (ball[i] != ball[i - 1] || ball[i] != ball[i + 1]){\n                ans = min(ans, count(i, n, ball));\n            }\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\t\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n\t\tfor(i=0;i<n;i++)scanf(\"%c\\n\",&str[i]);\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\t*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\t*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\nprintf(\"in %s\\n\",s);\n\tchar ss[10002];\n\tint len;\n\tchar *p,*q;\n\tint i;\n\t\n\tstrcpy(ss,s);\n\tif(strstr(ss,\"1111\")==NULL && strstr(ss,\"2222\")==NULL && strstr(ss,\"3333\")==NULL) return strlen(ss);\n\t\n\tif(q=strstr(ss,\"1111\")){\n\t\tfor(p=q;*p=='1';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"2222\")){\n\t\tfor(p=q;*p=='2';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"3333\")){\n\t\tfor(p=q;*p=='3';p++);\n\t\tstrcpy(q,p);\n\t}\n\t\n\tlen=chain(ss);\n\treturn len;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint check(int *data,int  N);\nint change_data(int *data,int N,int x,int c);\n\nint main(void){\n\tint N,i,j,m,min=10001;\n\tint data[10005]={};\n\n\twhile(1){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0){break;}\n\t\tfor(i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t}\n\t\tfor(i=1;i<4;i++){\n\t\t\tfor(j=0;j<N;j++){\n\t\t\t\tm=change_data(&data[0],N,j,i);\n\t\t\t\tif(m<min){min=m;}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t\tmin=10001;\n\t}\n\treturn 0;\n}\n\nint change_data(int *data,int N,int x,int c){\n\tint i,j,count,p,d[10005]={},temp[10005]={};\n\tfor(i=0;i<N;i++){d[i]=*(data+i);}\n\td[x]=c;\n\tdo{\n\t\tp=0;count=0;\n\tfor(i=0;i<N;i++){\n\t\tj=i+1;\n\t\twhile(d[i]==d[j]){\n\t\t\tj++;\n\t\t}\n\t\tif((j-i)>=4){i=j;count++;}\n\t\ttemp[p]=d[i];\n\t\tp++;\n\t}\n\tfor(i=0;i<p;i++){d[i]=temp[i];N=p;}\n\t}while(count!=0);\n\n\treturn N;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count2,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  count1 = count2 = m = 0;\n\n  while(1){\n    for(c = i;c < n ;c++ ){\n      if(chara[c] == 0 && chara[c+1] != 0) k = chara[c+1];\n      if(chara[c] != 0 && chara[c] == chara[c+1] && chara[c+1] == k) count1++;\n      else {\n        if(chara[c] != 0){\n        count1++;c = n;\n        }\n      }      \n      }\n    for(c = i;c > 0 ;c-- ){\n      if(chara[c] != 0 && chara[c] == chara[c-1] && chara[c-1] == k) count2++; \n      else {    \n        if(chara[c] != 0){  \n        count2++;c = 0;\n        }  \n      }      \n      }\n    if(count1 + count2 < 2) break;\n    m = m + count1 + count2 + 2;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n#define Max(x,y) ((x>y)?x:y)\nint c[10005],d[10005];\nint func(int s,int t){\n\tint x=0;\n\twhile(c[s]==c[t] && d[s]+d[t]>=4){\n\t\tx+=d[s]+d[t];\n\t\ts=s-d[s];\n\t\tt=t+d[t];\n\t}\n\t//printf(\" %d %d\\n\",s,t);\n\treturn x;\n}\nint main(){\n\tint i,j,n,x,y,s,t,ans;\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tc[0]=5;c[n+1]=6;\n\t\td[0]=d[n+1]=0;\n\t\tscanf(\"%d\",&c[1]);\n\t\tx=c[1];y=1;\n\t\tfor(i=2;i<=n+1;i++){\n\t\t\tif(i<n+1)scanf(\"%d\",&c[i]);\n\t\t\tif(c[i]!=x){\n\t\t\t\tfor(j=1;j<=y;j++)\n\t\t\t\t\td[i-j]=y;\n\t\t\t\ty=1;\n\t\t\t\tx=c[i];\n\t\t\t}else y++;\n\t\t}\n\t\t//for(i=1;i<=n;i++)printf(\"%d \",d[i]);\n\t\t//printf(\"\\n\");\n\t\tans=0;\n\t\tfor(i=1;i<=n;i++){\n\t\t\tif(c[i-1]==c[i+1]){\n\t\t\t\tif(c[i-1]!=c[i] && d[i-1]+d[i+1]>=3){\n\t\t\t\t\ts=(i-1)-d[i-1];\n\t\t\t\t\tt=(i+1)+d[i+1];\n\t\t\t\t\tans=Max(ans,d[i-1]+d[i+1]+1+func(s,t));\n\t\t\t\t\t//printf(\"%d:%d\\n\",i,d[i-1]+d[i+1]+1+func(s,t));\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(c[i-1]!=c[i] && d[i-1]>=3){\n\t\t\t\t\ts=(i-1)-d[i-1];\n\t\t\t\t\tif(c[i]==c[i+1])t=i,x=0;\n\t\t\t\t\telse t=i+1,x=1;\n\t\t\t\t\tans=Max(ans,d[i-1]+x+func(s,t));\n\t\t\t\t\t//printf(\"%d:%d\\n\",i,d[i-1]+1+func(s,t));\n\t\t\t\t}\n\t\t\t\tif(c[i+1]!=c[i] && d[i+1]>=3){\n\t\t\t\t\tt=(i+1)+d[i+1];\n\t\t\t\t\tif(c[i]==c[i-1])s=i,x=0;\n\t\t\t\t\telse s=i-1,x=1;\n\t\t\t\t\tans=Max(ans,d[i+1]+x+func(s,t));\n\t\t\t\t\t//printf(\"%d:%d\\n\",i,d[i+1]+1+func(s,t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count2,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  m = count1 + count2;\n\n  while(1){\n    for(c = i+ count1+1;c < n ;c++ ){\n      if(chara[c] == chara[c+1]) count1++;\n      else {\n        count1++;c = n;k = chara[c];\n        }\n            \n      }\n    for(c = i-count2-1;c > 0 ;c-- ){\n      if(chara[c] == chara[c-1] && chara[c-1] == k ) count2++; \n      else {    \n        count2++;c = 0;\n        }  \n      }      \n      \n    if(count1 + count2 < 2) break;\n    m = m + count1 + count2;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<=1)break;\n    for(;d[k]==d[k+1];k++)if(k>=n)break;//printf(\"%d %d\\n\",j,k);\n    if(k-j<3+c)break;\n    if(d[j-1]==d[k+1]){\n      if(j>1)j--;\n      if(k<n)k++;\n      c=k-j+1;\n    }\n    else break;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,max,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+1]);\n    }\n    max=0;\n    if(n>3){\n      for(i=1;i<=n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}\n\t  "
  },
  {
    "language": "C",
    "code": "a[10002],N,p,q,k,s,m;main(i,j,c,k){for(;scanf(\"%d\",&N)*N;printf(\"%d\\n\",N-m)){for(i=N;*a=a[N+1]=m=i;)scanf(\"%d\",a+i--);for(;i++<N;)for(j=3;j--;s-k>m?m=s-k:0)for(a[p=i]=a[i]%3+1,q=i+1,s=0,k=4;k>3;s+=k){c=a[p];for(k=1;c&&a[--p]==c;)k++;for(;c&&a[q]==c;q++)k++;}}}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=b-4;c<b+4;c++){\n\t\tif(c>=0 && c<=n-1){\n\t\t\tif(chara3[c]==chara3[c+1]){\n\t\t\t\ts++;\n\t\t\t\tif(s>=4 && c==n){\n\t\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t\t}\n\t\t\t\t\tn-=s;\n\t\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t\trensa(chara3,b,n);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s>=4){\n\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t}\n\t\t\t\tn-=s;\n\t\t\t\tif(ans>n)ans=n;\n\t\t\t\trensa(chara3,b,n);\n\t\t\t}else{\n\t\t\t\ts=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\n\nint main(void) {\n    int N, c[10000];\n    int l, u, l1, u1, l2, u2, c1, c2, i, j, color, score, min_score;\n    while (scanf(\"%d\\n\", &N) != EOF && N) {\n        for (i = 0; i < N; i++) {\n            scanf(\"%d\", &c[i]);\n        }\n        min_score = N;\n        for (i = 0; i < N; i++) {\n            for (j = 1; j <= 2; j++) {\n                color = (c[i] - 1 + j) % 3 + 1;\n                l = u = i;\n                l1 = u1 = l2 = i;\n                u2 = i + 1;\n                while (1) {\n                    for (; l1 > 0; l1--) {\n                        if (c[l1-1] != color) break;\n                    }\n                    for (; u2 < N; u2++) {\n                        if (c[u2] != color) break;\n                    }\n                    if (u1 - l1 + u2 - l2 < 4) break;\n                    l = l1;\n                    u = u2;\n                    color = c[u2];\n                    u1 = l1;\n                    l2 = u2;\n                }\n                score = N - (u - l);\n                if (score < min_score) min_score = score;\n            }\n            \n        }\n        printf(\"%d\\n\", min_score);\n    }\n    return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<=1)break;\n    for(;d[k]==d[k+1];k++)if(k>=n)break;//printf(\"%d %d\\n\",j,k);\n    if(k-j<3+c)break;\n    if(d[j-1]==d[k+1]){\n      if(j>1)j--;\n      if(k<n)k++;\n      c=k-j+1;\n    }\n    else break;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,j,k,max,c,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+1]);\n    }\n    max=0;\n    if(n>3){\n      for(i=1;i<=n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}\n\t  "
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint main(void) {\n\tlong max;\n\tlong where;\n\tlong ue;\n\tlong sita;\n\tlong uebak;\n\tlong sitabak;\n\tlong kazu;\n\tint kaeruiro;\n\tint currentiro;\n\tint retu[10000];\n\tlong i;\n\tlong result;\n\tchar kieta;\n\twhile(1) {\n\t\tscanf(\"%d\",&max);\n\t\tif(max==0)break;\n\t\tfor(i=0;i<max;i++) {\n\t\t\tscanf(\"%d\",&retu[i]);\n\t\t}\n\t\tresult=max;\n\t\tfor(where=0;where<max;where++) {\n\t\t\tfor(kaeruiro=1;kaeruiro<4;kaeruiro++) {\n\t\t\t\tcurrentiro=kaeruiro;\n\t\t\t\tue=where-1;\n\t\t\t\tsita=where+1;\n\t\t\t\tkazu=1;\n\t\t\t\tkieta=0;\n\t\t\t\tdo {\n\t\t\t\t\tuebak=ue;\n\t\t\t\t\tsitabak=sita;\n\t\t\t\t\tfor(ue=ue;ue>=0;ue--) {\n\t\t\t\t\t\tif(retu[ue]!=currentiro)break;\n\t\t\t\t\t\tkazu++;\n\t\t\t\t\t}\n\t\t\t\t\tfor(sita=sita;sita<max;sita++) {\n\t\t\t\t\t\tif(retu[sita]!=currentiro)break;\n\t\t\t\t\t\tkazu++;\n\t\t\t\t\t}\n\t\t\t\t\tif(kazu<4) {\n\t\t\t\t\t\tue=uebak;\n\t\t\t\t\t\tsita=sitabak;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tkieta=1;\n\t\t\t\t\tif(retu[ue]!=retu[sita])break;\n\t\t\t\t\tif(ue==-1 && sita==max)break;\n\t\t\t\t\tkazu=0;\n\t\t\t\t\tcurrentiro=retu[ue];\n\t\t\t\t} while(1);\n\t\t\t\tif(kieta==0)ue++;\n\t\t\t\tif(ue+1+max-sita<result)result=ue+1+max-sita;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",result);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])if(chara[b-1]==a || chara[b+1]==a)erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(chara[b-1]==a | chara[b+1]==a)erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint p=0;\n\tint s=1;\n\tfor(c=b-5;c<b+5;c++){\n\t\tif(c>=0 && c<=n-1){\n\t\t\tif(chara3[c]==chara3[c+1]){\n\t\t\t\ts++;\n\t\t\t\tif(s>=4 && c==n-1){\n\t\t\t\t\tp=0;\n\t\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t\t}\n\t\t\t\t\tn-=s;\n\t\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t\t//if()\n\t\t\t\t\trensa(chara3,c-s,n);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s>=4){\n\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t}\n\t\t\t\tn-=s;\n\t\t\t\tif(ans>n)ans=n;\n\t\t\t\trensa(chara3,b,n);\n\t\t\t}else{\n\t\t\t\ts=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);             \n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\terease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<=1)break;\n    for(;d[k]==d[k+1];k++)if(k>=n)break;//printf(\"%d %d\\n\",j,k);\n    if(k-j<3+c)break;\n    if(d[j-1]==d[k+1]){\n      if(j>1)j--;\n      if(k<n)k++;\n      c=k-j+1;\n    }\n    else break;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,j,k,max,c,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+1]);\n    }\n    max=0;\n    if(n>3){\n      for(i=1;i<=n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\tprintf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\t//int Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t/*\twhile( 1 )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\t\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t\tprintf( \"st %d %d\\n\" ,st ,end ) ;\n\n\t\t\tUNION( color ,rby ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\tLen = strlen( color ) ;\n\n\t\tprintf( \"%d\\n\" ,Len - 1   ) ;*/\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\t\t//\tprintf( \"%d %d\\n\" ,rby[ i ] ,i % p ) ;\n\t\t\tif( rby[ i ] == 1 && i % p > 1 )\n\t\t\t{\n\t\t\t\tfor( j = 1 ; i + j <= p ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;//printf( \"%3d\\n\" ,prev ) ;\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;//printf( \"\\n%d\\n\" ,kale ) ; \n\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{\n\t\t\t\tif( i == 1 || i == p )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] + 1 : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; i + j <= p ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] - 1 > 3 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] - 1 ;\n\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}\n/*\n\n*/"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nint rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s){\n\t\t\tif(ans>n)ans=n;\n\t\t\treturn 0;\n\t\t}\n\t}\n}\n\nint erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])if(chara[b-1]==a || chara[b+1]==a)erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main (void){\n    int a,n,i,j,kumi,cr[10005],ans,r,b,y,de;\n    for(;;){\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        kumi=0,ans=0;\n        for(i=0;i<10005;i++){\n            cr[i]=4;\n        }\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&a);\n            cr[i]=a;\n        }\n        for(i=0;i<n-4;i++){\n            r=0,b=0,y=0;\n            for(j=kumi;j<kumi+4;j++){\n                if(cr[j]==1)r++;\n                else if(cr[j]==2)b++;\n                else if(cr[j]==3)y++;\n            }\n            if(r==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=1;\n                }\n            }\n            else if(b==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=2;\n                }\n            }\n            else if(y==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=3;\n                }\n            }\n            if(r==3||b==3||y==3){\n                for(j=kumi;j<n;j++){\n                    if(cr[kumi]!=cr[j]){\n                        de=j-kumi;\n                        break;\n                    }\n                }\n                for(j=kumi;j<n;j++){\n                    cr[j]=cr[de+j];\n                }\n                kumi=kumi-(de-kumi);\n            }\n            else kumi++;\n        }\n        for(i=0;i<n;i++){\n            if(cr[i]==4)break;\n            ans++;\n        }\n        printf(\"%d\\n\",ans);\n    }\nreturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-1 && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tprintf(\"\\n\");\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\terease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint main (void){\n    int n,i,j,kumi,cr[10010],ans,r,b,y,de;\n    for(;;){\n        scanf(\"%d\",&n);\n        if(n==0)break;\n        kumi=0,ans=0;\n        for(i=0;i<10010;i++){\n            cr[i]=4;\n        }\n        for(i=0;i<n;i++){\n            scanf(\"%d\",&cr[i]);\n        }\n        for(i=0;i<n-4;i++){\n            r=0,b=0,y=0;\n            for(j=kumi;j<kumi+4;j++){\n                if(cr[j]==1)r++;\n                else if(cr[j]==2)b++;\n                else if(cr[j]==3)y++;\n            }\n            if(r==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=1;\n                }\n            }\n            else if(b==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=2;\n                }\n            }\n            else if(y==3){\n                for(j=kumi;j<kumi+4;j++){\n                    cr[j]=3;\n                }\n            }\n            if(r==3||b==3||y==3){\n                for(j=kumi;j<n;j++){\n                    if(cr[kumi]!=cr[j]){\n                        de=j-kumi;\n                        break;\n                    }\n                }\n                for(j=kumi;j<n;j++){\n                    cr[j]=cr[de+j];\n                }\n                kumi=kumi-(de-kumi);\n            }\n            else kumi++;\n        }\n        for(i=0;i<n;i++){\n            if(cr[i]==4)break;\n            ans++;\n        }\n        printf(\"%d\\n\",ans);\n    }\nreturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint min(int a, int b)\n{\n\tif (a <= b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nint Chain(int a[10000], int n)\n{\n\tint i, j;\n\tint count;\n\tint color;\n\t\n\tprintf(\"chain ok\\n\");\n\t\n\tfor (i = 0; i < n - 4; i++){\n\t\tif (a[i] != 0 && a[i] == a[i + 1] && a[i] == a[i + 2] && a[i] == a[i + 3]){\n\t\t\tcount = 0;\n\t\t\tcolor = a[i];\n\t\t\t\n\t\t\tfor (j = i; a[j] == color; j++){\n\t\t\t\ta[j] = 0;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = 0; j < count; j++){\n\t\t\t\ta[i + j] = a[i + j + count];\n\t\t\t\ta[i + j + count] = 0;\n\t\t\t}\n\t\t\t\n\t\t\ti = 0;\n\t\t}\n\t}\n\t\n\tcount = 0;\n\twhile (a[count] != 0){\n\t\tcount++;\n\t}\n\tprintf(\"count = %d\\n\", count);\n\t\n\treturn (count);\n}\n\nint main(void)\n{\n\tint n;\n\tint i;\n\tint a[10000];\n\tint ans;\n\t\n\t\n\twhile (1){\n\t\tfor (i = 0; i < 10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tans = n;\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\t\n\t\tfor (i = 1; i < n - 3; i++){\n\t\t\tif (a[i] == a[i + 1] && a[i] == a[i + 2]){\n\t\t\t\tint buf;\n\t\t\t\tbuf = a[i - 1];\n\t\t\t\ta[i - 1] = a[i];\n\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\ta[i - 1] = buf;\n\t\t\t\t\n\t\t\t\tbuf = a[i + 3];\n\t\t\t\ta[i + 3] = a[i];\n\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\ta[i + 3] = buf;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A0534\nMaximum Sum Sequence\n*/\n#include <stdio.h>\n#include <string.h>\nint check_erase_if_1_ball_change(char * str,int len)\n{\n  int i,j;\n  int equals;\n\n  equals = 0;\n  \n  for(i=0;i<len;i++)\n    for(j=i+1;j<len;j++)\n      equals += ((i!=j)&&str[i]==str[j])?1:0;\n/*printf(\"E=%d L=%d\\n\",equals,len);*/\n  return((equals*2 == (len-1)*(len-2))?(-1):0);\n\n}    \nint all_erase(char * str,int len)\n{ int a,b;\n  \n#if 0\n  int i;\n  for(i=0;i<len;i++)\n    printf(\"%c\",str[i]);\n  printf(\"\\n\");\n#endif\n\n  if(len < 3)\n    return(0);\n\n  if(check_erase_if_1_ball_change(str,len))\n    {\n      /*printf(\":G\\n\");*/\n      return(-1);\n    }\n\n  \n  a=((str[0] == str[1])?1:0)+1;\n  if(a)\n    a += ((str[0] == str[2])?1:0);\n  b=((str[0] == str[len-1])?1:0);\n  if(b)\n    b +=((str[0] == str[len-2])?1:0);\n  if(b == 2)\n    b +=((str[0] == str[len-3] )?1:0);\n\n  \n/*printf(\"%d %d %d\\n\",len,a,b);*/\n\n  if(a+b > 3)\n    return(all_erase(str+a ,len-a-b));\n  else\n    return(0);\n}\n\nmain()\n{\n  char str[10001];\n  int i,j,len;\n#if 1\n  scanf(\"%d\",&len);\n  \n  for(i=0;i<len;i++)\n    scanf(\" %c\",&(str[i]));\n#else\n    scanf(\"%s\",str);\n    len =strlen(str);\n#endif\n     for(j=len;j>=4;j--)\n       {\n         /*printf(\"j=%d\\n\",j);*/\n         for(i=0;i<len-j+1;i++)\n           {\n             /*printf(\"i=%d,j=%d\\n\",i,j);*/\n             if(all_erase(str+i,j))\n               {\n                 printf(\"%d\\n\",len-j);\n                 goto END;\n               }\n           }\n       }\n  printf(\"%d\\n\",len);\nEND:\n      ;\n    \nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])if(chara[b-1]==a || chara[b+1]==a)erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "/*\nAizuOnline A0534\nMaximum Sum Sequence\n*/\n#include <stdio.h>\n#include <string.h>\n#define DEBUG 0\n#define RELEASE 1\nint check_erase_if_1_ball_change(char * str,int len)\n{\n  int i,j;\n  int equals;\n  int ret;\n\n  equals = 0;\n  \n  for(i=0;i<len;i++)\n    for(j=i+1;j<len;j++)\n      equals += ((i!=j)&&str[i]==str[j])?1:0;\n  ret=(equals*2 == (len-1)*(len-2))?(-1):0;\n\n#if DEBUG\n  printf(\"E=%d L=%d R=%d\\n\",equals,len,ret);\n#endif\n  return(ret);\n}    \n\nint all_erase(char * str,int len)\n{ int a,b;\n  \n#if DEBUG\n  int i;\n  printf(\"V=\");\n  for(i=0;i<len;i++)\n    printf(\"%c\",str[i]);\n  printf(\"\\n\");\n#endif\n\n  if(len < 4)\n    return(0);\n\n  if(len < 8)\n    return(check_erase_if_1_ball_change(str,len));\n      \n  \n  a=((str[0] == str[1])?1:0)+1;\n  if(a>1)\n    a += ((str[0] == str[2])?1:0);\n  b=((str[0] == str[len-1])?1:0);\n  if(b)\n    b +=((str[0] == str[len-2])?1:0);\n  if(b == 2)\n    b +=((str[0] == str[len-3] )?1:0);\n\n  \n/*printf(\"%d %d %d\\n\",len,a,b);*/\n\n  if(a+b > 3)\n    return(all_erase(str+a ,len-a-b));\n  else\n    return(0);\n}\n\nmain()\n{\n  char str[10001];\n  int i,j,len;\n#if RELEASE\n  while(EOF != scanf(\"%d\",&len) && len > 0)\n  {\n  for(i=0;i<len;i++)\n    scanf(\" %c\",&(str[i]));\n#else\n    scanf(\"%s\",str);\n    len =strlen(str);\n#endif\n     for(j=len;j>=4;j--)\n       {\n         /*printf(\"j=%d\\n\",j);*/\n         for(i=0;i<len-j+1;i++)\n           {\n             /*printf(\"i=%d,j=%d\\n\",i,j);*/\n             if(all_erase(str+i,j))\n               {\n                 printf(\"%d\\n\",len-j);\n                 goto END;\n               }\n           }\n       }\n  printf(\"%d\\n\",len);\nEND:\n  ;\n#if RELEASE\n}\n#endif\n\nreturn(0);\n}"
  },
  {
    "language": "C",
    "code": "a[10002],N,p,q,k,s,m;main(i,j,c,k){for(;scanf(\"%d\",&N)*N;printf(\"%d\\n\",N-m)){for(i=N;*a=a[N+1]=m=i;)scanf(\"%d\",a+i--);for(;i++<N;)for(j=3;j--;s-k>m?m=s-k:0)for(a[p=i]=a[i]%3+1,q=i+1,s=0,k=4;k>3;s+=k){c=a[p];for(k=1;a[--p]==c;)k++;for(;a[q]==c;q++)k++;}}}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=b-4;c<b+4;c++){\n\t\tif(c>=0 && c<=n-1){\n\t\t\tif(chara3[c]==chara3[c+1]){\n\t\t\t\ts++;\n\t\t\t\tif(s>=4 && c==n-1){\n\t\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t\t}\n\t\t\t\t\tn-=s;\n\t\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t\trensa(chara3,b,n);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s>=4){\n\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t}\n\t\t\t\tn-=s;\n\t\t\t\tif(ans>n)ans=n;\n\t\t\t\trensa(chara3,b,n);\n\t\t\t}else{\n\t\t\t\ts=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);             \n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n#include<string.h>\n\n\n\n#define DEL 4\n\nint N ;\n\nint st ;\nint end ;\n\n\n\nint max( int a ,int b )\n{\n\treturn a > b ? a : b ;\n}\n\nvoid UNION( char *color ,int *rby )\n{\n\tchar front[ 10000 + 2 ] ;\n\tchar back[ 10000 + 2 ] ;\n\n\tsprintf( back ,\"%s\" ,color + end ) ;\n\n\tcolor[ st ] = '\\0' ;\n\n\tsprintf( front ,\"%s\" ,color ) ;\n\tsprintf( color ,\"%s%s\" ,front ,back ) ;\n\n\tprintf( \"A %s\\n%s\\n\" ,front ,back ) ;\n}\n\nint maxP( char *RBY ,int *rby ,int P  ,int *begin )\n{\n\tint ret ;\n\tint kale ;\n\tint maxy = 0 ;\n\tint p ;\n\n\tint i ;\n\tfor( i = 1 ; i <= P ; ++i )\n\t{\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\tkale = rby[ i - 1 ] + rby[ i ] + rby[ i + 1 ] ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\tst = begin[ i - 1 ] ;\n\t\t\t\tend = begin[ i ] + rby[ i + 1 ] + 1 ;\n\t\t\t}\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\tif( maxy < kale )\n\t\t\t{\n\t\t\t\tmaxy = kale ;\n\n\t\t\t\t//if( i < P )\n\t\t\t\t//{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t//}\n\n\t\t\t/*\telse\n\t\t\t\t{\n\t\t\t\t\tst = begin[ i ] ;\n\t\t\t\t\tend = begin[ i ] + rby[ i ] ;\n\t\t\t\t}*/\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\tif( rby[ i ] == 1 && RBY[ i - 1 ] == RBY[ i + 1 ] )\n\t\t{\n\t\t\t kale = rby[ i - 1 ] + rby[ i + 1 ] + 1 ;\n\n\t\t//\t p = i ;\n\n\t\t\t //printf( \"p = %d kale = %d\\n\" ,i ,kale ) ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t//\tp = i ;\n\n\t\t//\tprintf( \"p = %d rby = %d\\n\" ,i ,rby[ i ] ) ;\n\n\t\t\t/*\n\t\t\tif( rby[ i ] > rby[ i + 1 ] )\n\t\t\t{\n\t\t\t\tkale = rby[ i ] + 1 ;\n\n\t\t\t\tp = i ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\tkale = rby[ i + 1 ] + 1 ;\n\n\t\t\t\tp = i + 1 ;\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\tif( maxy < kale )\n\t\t{\n\t\t\tmaxy = kale ;\n\n\t\t\tret = i ;\n\n\t\t\tif( i == P )\n\t\t\t{\n\t\t\t\tst = begin[ i ] ;\n\t\t\t}\n\t\t}*/\n\t}\n\t/*\n\tif( maxy > 3 )\n\t{\n\t\tif( RBY[ ret - 1 ] == RBY[ ret + 1 ] )\n\t\t{\n\t\t\t--ret ;\n\n\t\t\tend = begin[ i - 1 ] + rby[ ret ] + rby[ ret + 1 ] + rby[ ret + 2 ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\tend = begin[ ret ] + maxy ;\n\t\t\trby[ ret ] = maxy ;\n\t\t}\n\t}\n\n\telse\n\t{\n\t\trby[ ret ] = 3 ;\n\t}\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}*/\n\n\tif( st == 0 )\n\t{\n\t\tst = 1 ;\n\t}\n\n\treturn maxy ;\n\n//\tprintf( \"ret = %d kale = %d\\n\" ,ret ,maxy ) ;\n\n\t//return ret ;\n}\n\nint CNT( char *color ,char *RBY ,int *rby ,int *begin )\n{\n\tint ret = 0 ;\n\n\tint LEN = strlen( color ) ;\n\n\tint i ;\n\tfor( i = 1 ; i <= LEN ; ++i )\n\t{\n\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t{\n\t\t\tif( RBY[ ret ] != color[ i ] )\n\t\t\t{\n\t\t\t\t++ret ;\n\t\t\t}\n\n\t\t\t++rby[ ret ] ;\n\t\t}\n\n\t\telse\n\t\t{\n\t\t\t++ret ;\n\n\t\t\tif( rby[ ret ] == 0 )\n\t\t\t{\n\t\t\t\trby[ ret ] = 1 ;\n\t\t\t}\n\n\t\t\tbegin[ ret ] = i ;\n\t\t}\n\n\t\tRBY[ ret ] = color[ i ] ;\n\t}\n\n\treturn ret ;\n}\n\n\nint main( void )\n{\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint begin[ 10000 + 2 ] = { 0 } ;\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\tcolor[ 0 ] = 4 ;\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}//printf( \"%s\\n\" ,color ) ;\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\t//printf( \"%c%c%c\\n\" ,color[ i - 1 ] ,color[ i ] ,color[ i + 1 ] ) ;\n\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\n\t\t\t\tbegin[ p ] = i ;\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}//printf( \"%s\\n\" ,color) ;puts(\"\") ;\n\n\t\t//printf( \"%s\\n\" ,RBY + 1 ) ;\n\n\t\t//int Len = 0 ;\n\n\t\t/*for( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tprintf( \"rby = %d \" ,rby[ i ] ) ;\n\t\t}puts( \"\" ) ;*/\n\t\t\n\t/*\twhile( 1 )\n\t\t{\n\t\t\t//int st ;\n\n\t\t\t\n\n\t\t\tif( DEL > maxP( RBY ,rby ,p  ,begin ) )break;\n\t\t//\tprintf( \"\\n%d\\n\" ,p ) ;\n\n\t\t\tprintf( \"st %d %d\\n\" ,st ,end ) ;\n\n\t\t\tUNION( color ,rby ) ;\n\n\t\t\t\t//printf( \"%s\\n\" ,color ) ;\n\t\t//\tprintf( \"%s\\n\" ,color ) ;\n\n\t\t\tmemset( RBY ,0 ,sizeof RBY ) ;\n\t\t\tmemset( rby ,0 ,sizeof rby ) ;\n\n\t\t\tp = CNT( color ,RBY ,rby ,begin ) ;\n\n\t\t\t//break ;\n\t\t}\n\n\t\t//printf( \"%d %d\\n\" ,Len ,strlen( color ) ) ;\n\t\tLen = strlen( color ) ;\n\n\t\tprintf( \"%d\\n\" ,Len - 1   ) ;*/\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\t\t//\tprintf( \"%d %d\\n\" ,rby[ i ] ,i % p ) ;\n\t\t\tif( rby[ i ] == 1 && i != 1 && i != p )\n\t\t\t{//printf( \"kale = %d\\n\" ,kale ) ;\n\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;//printf( \"%3d\\n\" ,prev ) ;\n\n\t\t\t\t\tif( prev < 1 )\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{//printf( \"\\n%d\\n\" ,rby[ prev ] ) ;\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;//printf( \"\\n%d\\n\" ,kale ) ; \n\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{//printf( \"\\n%d\\n\" ,i ) ;\n\t\t\t\tif( i == 1 || i == p )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] + 1 : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{//printf( \"%d %d\\n\" ,prev ,next ) ;\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t\t{//printf( \"\\n%d\\n\" ,kale ) ;\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//printf( \"prev %d  next %d  %d\\n\" ,prev ,next ,kale ) ;\n\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t++prev ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//printf( \"\\n%d\\n\" ,kale ) ;\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}\n/*\n12\n3\n3\n2\n2\n1\n1\n1\n2\n2\n2\n3\n3\n\n*/"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\nint min(int a, int b)\n{\n    if (a > b){\n        return (b);\n    }\n    return (a);\n}\n\nint switch_color(int *ball, int check, int col, int n, int *top, int *bottom)\n{\n    int i, j;\n    \n    *top = check;\n    i = check - 1;\n    while (i >= 0 && ball[i] == col){\n        *top = i;\n        i--;\n    }\n    \n    *bottom = check;\n    i = check + 1;\n    while (i < n && ball[i] == col){\n        *bottom = i;\n        i++;\n    }\n    return(*bottom - *top + 1);\n}\n\nint chain(int *temp, int start, int end, int n)\n{\n    int i, j, k;\n    int temp_2[30001];\n    \n    i = 0;\n    while (i != n && n >= 0){\n        for (j = 1; j <= 3; j++){\n            if (temp[i] == j && switch_color(temp, i, j, n, &start, &end) >= 4){\n                memset(temp_2, -1, sizeof(temp_2));\n                n -= (end - start + 1);\n                for (k = 0; k < n; k++){\n                    if (k < start){\n                        temp_2[k] = temp[k];\n                    }\n                    else {\n                        temp_2[k] = temp[(end - start + 1) + k];\n                    }\n                }\n                for (k = 0; k < n; k++){\n                    temp[k] = temp_2[k];\n                }\n                i = 0;\n            }\n        }\n        i++;\n    }\n    if (n < 0){\n        return (0);\n    }\n    return (n);\n}\n\nint count(int check, int n, int *ball)\n{\n    int i, j;\n    int top, bottom;\n    int ans, comp;\n    int temp[30001];\n    \n    ans = 100000;\n    for (i = 1; i <= 3; i++){\n        if (ball[check] != i){\n            if (switch_color(ball, check, i, n, &top, &bottom) >= 4){\n                ans = n - (bottom - top + 1);\n                memset(temp, -1, sizeof(temp));\n                for (j = 0; j < n; j++){\n                    temp[j] = ball[j];\n                }\n                for (j = 0; j < ans - bottom; j++){\n                   temp[top + j] = ball[bottom + j + 1];\n                }\n                comp = chain(temp, top, bottom, ans);\n                ans = min(comp, ans);\n                if (ans == 0){\n                    break;\n                }\n            }\n            if (ans == 0){\n                break;\n            }\n        }\n    }\n    if (ans == 100000){\n        return (n);\n    }\n    return (ans);\n}\n\nint main(void)\n{\n    int ball[30001];\n    int n;\n    int i;\n    int ans;\n    \n    while (1){\n        scanf(\"%d\", &n);\n        \n        if (n == 0){\n            break;\n        }\n        \n        memset(ball, -1, sizeof(ball));\n        for (i = 0; i < n; i++){\n            scanf(\"%d\", &ball[i]);\n        }\n        \n        ans = 100000;\n        for (i = 0; i < n; i++){\n            if (i == 0 || i == n - 1 || !(ball[i] == ball[i - 1] && ball[i] == ball[i + 1])){\n                ans = min(ans, count(i, n, ball));\n                if (ans == 0){\n                    break;\n                }\n            }\n        }\n        \n        printf(\"%d\\n\", ans);\n    }\n    \n    return (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint min(int a, int b)\n{\n\tif (a <= b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nint Chain(int b[10000], int n)\n{\n\tint i, j;\n\tint count;\n\tint color;\n\tint a[10000];\n\t\n\tfor (i = 0; i < n; i++){\n\t\ta[i] = b[i];\n\t}\n\t\n\tfor (i = 0; i < n - 4; i++){\n\t\tif (a[i] != 0 && a[i] == a[i + 1] && a[i] == a[i + 2] && a[i] == a[i + 3]){\n\t\t\t#if 0\n\t\t\tprintf(\"-----\\n\");\n\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d\\n\", a[j]);\n\t\t\t}\n\t\t\tprintf(\"-----\\n\");\n\t\t\t#endif\n\t\t\t\n\t\t\tcount = 0;\n\t\t\tcolor = a[i];\n\t\t\t\n\t\t\tfor (j = i; a[j] == color; j++){\n\t\t\t\ta[j] = 0;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = 0; a[i + j + count] != 0; j++){\n\t\t\t\ta[i + j] = a[i + j + count];\n\t\t\t\ta[i + j + count] = 0;\n\t\t\t}\n\t\t\t\n\t\t\t#if 0\n\t\t\tprintf(\"-----\\n\");\n\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d\\n\", a[j]);\n\t\t\t}\n\t\t\tprintf(\"-----\\n\");\n\t\t\tgetch();\n\t\t\t#endif\n\t\t\t\n\t\t\ti = 0;\n\t\t}\n\t\t\n\t}\n\t\n\tcount = 0;\n\twhile (a[count] != 0){\n\t\tcount++;\n\t}\n\t\n\treturn (count);\n}\n\nint main(void)\n{\n\tint n;\n\tint i, j;\n\tint a[10000];\n\tint ans;\n\tint color;\n\t\n\twhile (1){\n\t\tfor (i = 0; i < 10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tans = n;\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\t\n\t\tfor (i = 0; i < n - 4; i++){\n\t\t\tint count[3] = {0, 0, 0};\n\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\tif (a[j] - 1 >= 0){\n\t\t\t\t\tcount[a[j] - 1]++;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolor = 0;\n\t\t\tfor (j = 0; j < 3; j++){\n\t\t\t\tif (count[j] == 3){\n\t\t\t\t\tcolor = j + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (color != 0){\n\t\t\t\tfor (j = i; j < i + 4; j++){\n\t\t\t\t\tint buf;\n\t\t\t\t\tbuf = a[j];\n\t\t\t\t\ta[j] = color;\n\t\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\t\ta[j] = buf;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\t\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n\t\tfor(i=0;i<n;i++)scanf(\"%c\\n\",&str[i]);\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\t*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\t*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\n\tchar ss[10002];\n\tint len;\n\tchar *p,*q;\n\tint i;\n\t\n\tstrcpy(ss,s);\n\tif(strstr(ss,\"1111\")==NULL && strstr(ss,\"2222\")==NULL && strstr(ss,\"3333\")==NULL) return strlen(ss);\n\t\n\tif(q=strstr(ss,\"1111\")){\n\t\tfor(p=q;*p=='1';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"2222\")){\n\t\tfor(p=q;*p=='2';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"3333\")){\n\t\tfor(p=q;*p=='3';p++);\n\t\tstrcpy(q,p);\n\t}\n\t\n\tlen=chain(ss);\n\treturn len;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int p,int q,int n){\nint i,j;\ndo{\nfor(i = 0;chara[p-i] == chara[p];i++);\nfor(j = 0;chara[q+i] == chara[q];j++);\nif(i + j < 4) {return p-q+n-1;}\np -= i;q += j;\n}while(chara[p] == chara[q]);\n\nreturn p-q+n-1;\n\n}\n\nint main(){\nint n,temp,i,Min,m;\n\n\nint chara[10009];\n  \n  while(scanf(\"%d\",&n) && n != 0){\n\nMin = 10001;\nchara[0] = chara[n+1] = 0;\n\nfor(i=1;i<n+1;i++){\nscanf(\"%d\",&chara[i]);\n}\n\nfor(i=2;i<n;i++){\nif(chara[i] != chara[i-1]){\ntemp = chara[i];\nchara[i] = chara[i-1];\nm = chain(chara,i-1,i,n);\nif(Min > m) {Min = m;}\nchara[i] = temp;\n}\nif(chara[i] != chara[i+1]){\ntemp = chara[i];\nchara[i] = chara[i+1];\nm = chain(chara,i,i+1,n);\nif(Min > m) {Min = m;}\nchara[i] = temp;\n}\n}\n\nprintf(\"%d\\n\",Min);\n}\n\nreturn 0;\n} "
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int b,int n){\n\tint a,c,d;\n\tint p,q;\n\tint s=1;\n\tfor(c=b-5;c<b+5;c++){\n\t\tif(c>=0 && c<=n-1){\n\t\t\tif(chara3[c]==chara3[c+1]){\n\t\t\t\ts++;\n\t\t\t\tif(s>=4 && c==n-1){\n\t\t\t\t\t/*for(a=0;a<n;a++){\n\t\t\t\t\t\tprintf(\"%d\\n\",chara3[a]);\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"\\n\"); */\n\t\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t\t}\n\t\t\t\t\tn-=s;\n\t\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t\t/*printf(\"%d\\n\",c-s+1);\n\t\t\t\t\tprintf(\"\\n\");   */\n\t\t\t\t\trensa(chara3,c-s+1,n);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s>=4){\n\t\t\t\t/*for(a=0;a<n;a++){\n\t\t\t\t\tprintf(\"%d\\n\",chara3[a]);\n\t\t\t\t}\n\t\t\t\tprintf(\"\\n\"); */\n\t\t\t\tfor(d=0;d<s;d++){\n\t\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t\t}\n\t\t\t\tn-=s;\n\t\t\t\tif(ans>n)ans=n;\n\t\t\t\t/*printf(\"%d\\n\",c-s+1);\n\t\t\t\tprintf(\"\\n\"); */\n\t\t\t\trensa(chara3,c-s+1,n);\n\t\t\t}else{\n\t\t\t\ts=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\trensa(chara2,b,n);             \n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(scanf(\"%d\",&n),n){\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\tif(a!=chara[b])erease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h> \n\nint ans=0;\n\nvoid rensa(int chara3[10000],int n){\n\tint c,d;\n\tint s=1;\n\tfor(c=0;c<n;c++){\n\t\tif(chara3[c]==chara3[c+1])s++;\n\t\telse if(s>=4){\n\t\t\tfor(d=0;d<s;d++){\n\t\t\t\tchara3[c-d]=chara3[c-d+s];\n\t\t\t}\n\t\t\tn-=s;\n\t\t\trensa(chara3,n);\n\t\t}\n\t\telse s=1;\n\t\tif(c==n-4+s && ans>n)ans=n;\n\t}\n}\n\nvoid erease(int chara[10000],int a,int b,int n){\n\tint c,d;\n\tint chara2[10000];\n\tfor(c=0;c<n;c++){\n\t\tchara2[c]=chara[c];\n\t}\n\tchara2[b]=a;\n\tif(chara2[b]==chara2[b+1] | chara2[b]==chara2[b-1]);else return;\n\trensa(chara2,n);\n\t\n}\n\nint main(void){\n\tint a,b,c;\n\tint n;\n\tint chara[10000];\n\twhile(1){\n\t\tscanf(\"%d\",&n);\n\t\tif(n==0)break;\n\t\tans=n;\n\t\tfor(a=0;a<n;a++){\n\t\t\tscanf(\"%d\",&chara[a]);\n\t\t}\n\t\tfor(b=0;b<n;b++){\n\t\t\tfor(a=1;a<=3;a++){\n\t\t\t\terease(chara,a,b,n);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\nint check(int *data,int  N);\nint change_data(int *data,int N,int x,int c);\n\nint main(void){\n\tint N,i,j,m,min=10001;\n\tint data[10005]={};\n\n\twhile(1){\n\t\tscanf(\"%d\",&N);\n\t\tif(N==0){break;}\n\t\tfor(i=0;i<N;i++){\n\t\t\tscanf(\"%d\",&data[i]);\n\t\t}\n\t\tfor(i=1;i<4;i++){\n\t\t\tfor(j=0;j<N;j++){\n\t\t\t\tm=change_data(&data[0],N,j,i);\n\t\t\t\tif(m<min){min=m;}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",min);\n\t\tmin=10001;\n\t}\n\treturn 0;\n}\n\nint change_data(int *data,int N,int x,int c){\n\tint i,temp[10005]={};\n\tfor(i=0;i<N;i++){temp[i]=*(data+i);}\n\ttemp[x]=c;\n   return check(&temp[0],N);\n}\nint check(int *data,int N){\n\tint i,j,c=0,p=0,d[10005]={},temp[10005]={0};\n\tfor(i=0;i<N;i++){d[i]=*(data+i);}\n\tdo{\n\tfor(i=0;i<N;i++){\n\t\tj=i+1;\n\t\twhile(d[i]==d[j]){\n\t\t\tj++;\n\t\t}\n\t\tif((j-i)>=4){i=j;c++;}\n\t\ttemp[p]=d[i];\n\t\tp++;\n\t}\n\tfor(i=0;i<p;i++){d[i]=temp[i];}\n\t}while(c!=0);\n\treturn p;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint min(int a, int b)\n{\n\tif (a <= b){\n\t\treturn (a);\n\t}\n\treturn (b);\n}\n\nint Chain(int a[10000], int n)\n{\n\tint i, j;\n\tint count;\n\tint color;\n\t\n\tfor (i = 0; i < n - 4; i++){\n\t\tif (a[i] != 0 && a[i] == a[i + 1] && a[i] == a[i + 2] && a[i] == a[i + 3]){\n\t\t\tcount = 0;\n\t\t\tcolor = a[i];\n\t\t\t\n\t\t\tfor (j = i; a[j] == color; j++){\n\t\t\t\ta[j] = 0;\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\t\n\t\t\tfor (j = 0; j < count; j++){\n\t\t\t\ta[i + j] = a[i + j + count];\n\t\t\t\ta[i + j + count] = 0;\n\t\t\t}\n\t\t\t\n\t\t\ti = 0;\n\t\t}\n\t}\n\t\n\tcount = 0;\n\twhile (a[count] != 0){\n\t\tcount++;\n\t}\n\t\n\treturn (count);\n}\n\nint main(void)\n{\n\tint n;\n\tint i;\n\tint a[10000];\n\tint ans;\n\t\n\t\n\twhile (1){\n\t\tfor (i = 0; i < 10000; i++){\n\t\t\ta[i] = 0;\n\t\t}\n\t\t\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0){\n\t\t\tbreak;\n\t\t}\n\t\tans = n;\n\t\t\n\t\tfor (i = 0; i < n; i++){\n\t\t\tscanf(\"%d\", &a[i]);\n\t\t}\n\t\t\n\t\tfor (i = 1; i < n - 3; i++){\n\t\t\tif (a[i] == a[i + 1] && a[i] == a[i + 2]){\n\t\t\t\tint buf;\n\t\t\t\tbuf = a[i - 1];\n\t\t\t\ta[i - 1] = a[i];\n\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\ta[i - 1] = buf;\n\t\t\t\t\n\t\t\t\tbuf = a[i + 3];\n\t\t\t\ta[i + 3] = a[i];\n\t\t\t\tans = min(ans, Chain(a, n));\n\t\t\t\ta[i + 3] = buf;\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\nint n;\nint f(int i,int d[10004]){\n  int c,j,k;\n  c=0;\n  j=k=i;\n  while(1){\n    for(;d[j]==d[j-1];j--)if(j<=1)break;\n    for(;d[k]==d[k+1];k++)if(k>=n)break;//printf(\"%d %d\\n\",j,k);\n    if(k-j<3+c)break;\n    if(d[j-1]==d[k+1]){\n      if(j>1)j--;\n      if(k<n)k++;\n      c=k-j+1;\n    }\n    else break;\n  }\n  if(k-j>2)c=k-j+1;//printf(\"%d %d %d %d\\n\",i,j,k,c);\n  return c;\n}\nint main(){\n  int i,max,r,m;\n  while(scanf(\"%d\",&n),n){\n    int d[10004]={0};\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&d[i+1]);\n    }\n    max=0;\n    if(n>3){\n      for(i=1;i<=n;i++){\n\tm=d[i];\n\tif(m!=1){\n\t  d[i]=1;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=2){\n\t  d[i]=2;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\tif(m!=3){\n\t  d[i]=3;\n\t  r=f(i,d);\n\t  if(max<r)max=r;\n\t}\n\td[i]=m;\n      }\n    }\n    printf(\"%d\\n\",n-max);\n  }\n  return 0;\n}\n\t  "
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#include <string.h>\n\nint chain(char *s);\n\nint main(){\n\n\tint n;\n\tchar str[10002];\n\tint a;\n\tchar strbak[10002];\n\tint min,l;\n\tint i;\n\tchar *p;\n\t\n\t\n\twhile(1){\n\t\tscanf(\"%d\\n\",&n);\n\t\tif(!n)break;\n\t\ti=0;\n//\t\tfor(i=0;i<n;i++)scanf(\"%c\\n\",&str[i]);\n\t\tfor(i=0;i<n;i++){scanf(\"%d\\n\",&a);str[i]='1'+(a-1);}\n\t\tstr[i]='\\0';\n\t\tstrcpy(strbak,str);\n//printf(\"%s\\n\",str);\t\t\n\t\tmin=strlen(str);\n\t\tfor(p=str;*(p+3);p++){\n\t\t\tif(*(p+1)==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*p=*(p+1);l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+2)&&*(p+2)==*(p+3)){\n\t\t\t\t*(p+1)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+3)){\n\t\t\t\t*(p+2)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t\tif(*p==*(p+1)&&*(p+1)==*(p+2)){\n\t\t\t\t*(p+3)=*p;l=chain(str);if(l<min)min=l;\n\t\t\t\tstrcpy(str,strbak);\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%d\\n\",min);\n\t\t\n\t}\n\treturn 0;\n}\n\n\nint chain(char *s){\n//printf(\"in %s\\n\",s);\n\tchar ss[10002];\n\tint len;\n\tchar *p,*q;\n\tint i;\n\t\n\tstrcpy(ss,s);\n\n\twhile(1){\n\tif(strstr(ss,\"1111\")==NULL && strstr(ss,\"2222\")==NULL && strstr(ss,\"3333\")==NULL) return strlen(ss);\n\t\n\tif(q=strstr(ss,\"1111\")){\n\t\tfor(p=q;*p=='1';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"2222\")){\n\t\tfor(p=q;*p=='2';p++);\n\t\tstrcpy(q,p);\n\t}else if(q=strstr(ss,\"3333\")){\n\t\tfor(p=q;*p=='3';p++);\n\t\tstrcpy(q,p);\n\t}\n\t}\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint check(int p, int *d, int n);\nint get_c(int p, int *d, int n);\nvoid change(int pos, int color, int *d, int n);\nint skip(int *pos, int *d, int n);\n\nint main(void)\n{\n\tint c[10000];\n\tint t[10000];\n\tint n;\n\tint i, j;\n\tint min;\n\tint color;\n\tint remain;\n\t\n    while (1){\n    \tscanf(\"%d\", &n);\n    \tif (n == 0){\n            break;\n    \t}\n        \n    \tfor (i = 0; i < n; i++){\n    \t\tscanf(\"%d\", &c[i]);\n    \t}\n    \n    \tmin = n;\n    \tfor (i = 0; i < n; i++){\n    \t\tcolor = check(i, c, n);\n    /*\t\tprintf(\"<%d-%d>\", i, color);\n    */\t\t\n    \t\tif (color != 0){\n    \t\t\tfor (j = 0; j < n; j++){\n    \t\t\t\tt[j] = c[j];\n    \t\t\t}\n    \t\t\t\n    /*\t\t\tprintf(\"<p=%d c=%d>\", i, color);\n    */\t\t\t\n    \t\t\tchange(i, color, t, n);\n    \t\t\t\n    \t\t\tremain = 0;\n    \t\t\tfor (j = 0; j < n; j++){\n    \t\t\t\tif (t[j] != -1){\n    \t\t\t\t\tremain++;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t\t\n    /*\t\t\tprintf(\"[remain=%d]\", remain);\n    */\n    \t\t\tif (min > remain){\n    \t\t\t\tmin = remain;\n    \t\t\t}\n    \t\t}\n    \t}\n    \t\n    \tprintf(\"%d\\n\", min);\n    }\n   \treturn (0);\n}\n    \nint check(int p, int *d, int n)\n{\n\tint c;\n\tint i;\n\t\n\tc = get_c(p + 1, d, n);\n\tif (c != 0){\n\t\tfor (i = 2; i <= 3; i++){\n\t\t\tif (c != get_c(p + i, d, n)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (i == 4){\n\t\t\treturn (c);\n\t\t}\n\t}\n\t\n\tc = get_c(p - 1, d, n);\n\tif (c != 0){\n\t\tfor (i = 1; i <= 2; i++){\n\t\t\tif (c != get_c(p + i, d, n)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (i == 3){\n\t\t\treturn (c);\n\t\t}\n\t}\n\t\n\tc = get_c(p + 1, d, n);\n\tif (c != 0){\n\t\tfor (i = -2; i <= -1; i++){\n\t\t\tif (c != get_c(p + i, d, n)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (i == 0){\n\t\t\treturn (c);\n\t\t}\n\t}\n\t\n\tc = get_c(p - 1, d, n);\n\tif (c != 0){\n\t\tfor (i = -3; i <= -2; i++){\n\t\t\tif (c != get_c(p + i, d, n)){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (i == -1){\n\t\t\treturn (c);\n\t\t}\n\t}\n\treturn (0);\n}\n\nint get_c(int p, int *d, int n)\n{\n\tif (p < 0 || p >= n){\n\t\treturn (0);\n\t}\n\t\n\treturn (d[p]);\n}\n\nvoid change(int pos, int color, int *d, int n)\n{\n\tint flag;\n\tint i, j;\n\tint p;\n\tint c;\n\tint l;\n\t\n\td[pos] = color;\n\t\n\tdo {\n\t\tflag = 0;\n\t\tfor (i = 0; i < n - 3; i++){\n\t\t\t\n/*\t\t\tfor (j = 0; j < n; j++){\n\t\t\t\tprintf(\"%d \", d[j]);\n\t\t\t}\n\t\t\tprintf(\"\\n\");\n*/\t\t\t\n\t\t\t\n\t\t\tl = 1;\n\t\t\tif (skip(&i, d, n) == -1){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tc = d[i];\n\t\t\tp = i;\n\t\t\t\n\t\t\twhile (1) {\n\t\t\t\tp++;\n\t\t\t\tif (skip(&p, d, n) == -1){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (c == d[p]){\n\t\t\t\t\tl++;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n/*\t\t\tprintf(\"<<l = %d>>\", l);\n*/\t\t\tif (l >= 4){\n\t\t\t\tflag = 1;\n\t\t\t\tfor (j = i; j < n; j++){\n\t\t\t\t\tif (d[j] != -1){\n\t\t\t\t\t\tif (d[j] == c){\n/*\t\t\t\t\t\t\tprintf(\"[%d]\", j);\n*/\t\t\t\t\t\t\td[j] = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} while (flag == 1);\n}\n\t\n\t\nint skip(int *pos, int *d, int n)\n{\n\twhile (d[*pos] == -1){\n\t\t(*pos)++;\n\t\tif (*pos >= n){\n\t\t\treturn (-1);\n\t\t}\n\t}\n\t\n\treturn (0);\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n\nint chain(int chara[],int i,int j,int n){\n  int count1,count2,c,k,m;\n  count1 = count2 = 0;\n  chara[i] = j;\n  for(c = i;chara[i] == chara[i+1] && i < n-1 ;c++){\n    count1++;\n  }\n   for(c = i;chara[i] == chara[i-1] && i > 0 ;c--){\n    count2++;\n  }\n  if(count1 + count2 < 3) return 0;\n  else {\n    for(c = i - count2;c <= i + count1;c++){\n      chara[c] = 0;\n    }\n  }\n  m = count1 + count2;\n\n  while(1){\n    for(c = i+ count1+1;c < n ;c++ ){\n      if(chara[c] == chara[c+1]) count1++;\n      else {\n        count1++;c = n;k = chara[c];\n        }\n            \n      }\n    for(c = i-count2-1;c > 0 ;c-- ){\n      if(chara[c] == chara[c-1] && chara[c-1] == k ) count2++; \n      else {    \n        count2++;c = 0;\n        }  \n      }      \n      \n    if(count1 + count2 < 4) break;\n    m = m + count1 + count2;\n  }\n\n  return n-m ;\n}\n\nint main(){\n  int n,t,i,chara[10000],Min,temp;\n\n  while(1){\n    scanf(\"%d\",&n);\n\n    if(n == 0) break;\n\n    for(i=0;i<n;i++){\n      scanf(\"%d\",&chara[i]);\n    }\n    for(i=0;i<n;i++){\n      if(chara[i] == 1){\n        temp = chain(chara,i,2,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n       if(chara[i] == 2){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,3,n)) temp = chain(chara,i,3,n);\n      if(Min > temp) Min = temp;\n      }\n            if(chara[i] == 3){\n        temp = chain(chara,i,1,n);\n        if(temp > chain(chara,i,2,n)) temp = chain(chara,i,2,n);\n      if(Min > temp) Min = temp;\n      }\n    }\n\n    printf(\"%d\",Min);\n  }\n\n  return 0;\n}"
  },
  {
    "language": "C",
    "code": "#include<stdio.h>\n\n\n\nint main( void )\n{\n\tint N ;\n\n\twhile( 1 )\n\t{\n\t\tscanf( \"%d\" ,&N ) ;\n\n\t\tif( N == 0 )\n\t\t{\n\t\t\treturn 0 ;\n\t\t}\n\n\t\tint p = 0 ;\n\n\t\tint maxy = 0 ;\n\n\t\tchar RBY[ 10000 + 2 ] = { 0 } ;\n\t\tchar color[ 10000 + 2 ] = { 0 } ;\n\n\t\t\n\t\tint rby[ 10000 + 2 ] = { 0 } ;\n\n\t\tint i ,j ;\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tscanf( \"%*c%c\" ,color + i ) ;\n\t\t}\n\n\t\tfor( i = 1 ; i <= N ; ++i )\n\t\t{\n\t\t\tif( color[ i ] == color[ i - 1 ] || color[ i ] == color[ i + 1 ] )\n\t\t\t{\n\t\t\t\tif( color[ i ] != RBY[ p ] )\n\t\t\t\t{\n\t\t\t\t\t++p ;\n\t\t\t\t}\n\n\t\t\t\t++rby[ p ] ;\n\t\t\t}\n\n\t\t\telse\n\t\t\t{\n\t\t\t\t++p ;\n\n\t\t\t\tif( rby[ p ] == 0 )\n\t\t\t\t{\n\t\t\t\t\trby[ p ] = 1 ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tRBY[ p ] = color[ i ] ;\n\t\t}\n\n\t\tfor( i = 1 ; i <= p ; ++i )\n\t\t{\n\t\t\tint next ;\n\t\t\tint prev ;\n\n\t\t\tint kale = 0 ;\n\n\t\t\tif( rby[ i ] == 1 && i % p > 1 )\n\t\t\t{\n\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t{\n\t\t\t\t\tnext = i + j ;\n\t\t\t\t\tprev = i - j ;\n\n\t\t\t\t\tif( prev < 1 || next > p )\n\t\t\t\t\t{\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t{\n\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\t\t\t\t\t}\n\n\t\t\t\t\telse if( kale > 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxy = maxy < kale + rby[ i ] ? kale + rby[ i ] : maxy ;\n\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telse if( rby[ i ] > 2 )\n\t\t\t{\n\t\t\t\tif( i % p < 2 )\n\t\t\t\t{\n\t\t\t\t\tmaxy = maxy < rby[ i ] + 1 ? rby[ i ] + 1 : maxy ;\n\t\t\t\t}\n\n\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tprev = i - 1 ;\n\t\t\t\t\tnext = i + 1 ;\n\n\t\t\t\t\tfor( j = 1 ; ; ++j )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( j == 1 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkale += rby[ i ] + rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse if( RBY[ prev ] == RBY[ next ] && rby[ prev ] + rby[ next ] > 3 )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tkale += rby[ prev ] + rby[ next ] ;\n\n\t\t\t\t\t\t\t++next ;\n\t\t\t\t\t\t\t--prev ;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmaxy = maxy < kale ? kale : maxy ;\n\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprintf( \"%d\\n\" ,N - maxy ) ;\n\t}\n}"
  },
  {
    "language": "C",
    "code": "// AOJ 0534: Chain\n// 2017.10.26 bal4u@uu\n\n#include <stdio.h>\n#include <stdlib.h>\nchar *gets();\n\nchar a[10002]; int n;\nint f[6] = { 0, 1, 2, 3, 1, 2 };\n\nint no(int p, int c)\n{\n\tint i, j, k;\n\n\tfor (i = p-1; i >= 0 && a[i] == c; i--);\n\ti++;\n\tfor (j = p+1; j < n && a[j] == c; j++);\n\tj--;\n\tk = j - i + 1;\n\tif (k < 4) return 0;\n\n\twhile (i > 0 && j < n-1 && a[i-1] == a[j+1]) {\n\t\tc = a[--i];\n\t\tfor (; i >= 0 && a[i] == c; i--);\n\t\ti++;\n\t\tfor (j++; j < n && a[j] == c; j++);\n\t\tj--;\n\t\tk = j - i + 1;\n\t}\n\treturn k;\n}\n\nint main()\n{\n\tint i, j, x, max; \n\tchar buf[10];\n\n\twhile (gets(buf) && *buf != '0') {\n\t\tn = atoi(buf);\n\t\tfor (i = 0; i < n; i++) gets(buf), a[i] = *buf & 0xf;\n\t\tfor (max = 0, i = 0; i < n; i++) for (j = 1; j <= 2; j++) {\n\t\t\tx = no(i, f[a[i]+j]);\n\t\t\tif (x > max) { max = x; if (max == n) goto done; }\n\t\t}\ndone:\tprintf(\"%d\\n\", n - max);\n\t}\n\treturn 0;\n}"
  },
  {
    "language": "C",
    "code": "#include <stdio.h>\n#define min(a, b) ((a) < (b) ? (a) : (b))\nint n,c[10000];\nint no(int i,int color){\n    int ue=i-1,shita=i+1,x=1,y=n;\n    if (c[ue]==color) {\n        ue--;\n        x++;\n    }\n    if (c[shita]==color) {\n        shita++;\n        x++;\n    }\n    if (x==1) {\n        return n;\n    }\n    while (ue!=-1&&shita!=n) {\n        while (ue!=-1&&c[ue]==color) {\n            ue--;\n            x++;\n        }\n        while (shita!=n&&c[shita]==color) {\n            shita++;\n            x++;\n        }\n        if (x>=4) {\n            y-=x;\n            x=0;\n            if (c[ue]!=c[shita]) {\n                return y;\n            }\n            color=c[ue];\n        }else{\n            return y;\n        }\n    }\n    return y;\n}\n\nint main(){\n    while (1) {\n        int i,j,ans;\n        scanf(\"%d\",&n);\n        if (n==0) {\n            return 0;\n        }\n        ans=n;\n        for (i=0; i<n; i++) {\n            scanf(\"%d\",&c[i]);\n        }\n        for (i=0; i<n; i++) {\n            for (j=1; j<=3; j++) {\n                ans=min(ans, no(i,j));\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.awt.Point;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.ArrayList;\nimport java.util.ListIterator;\nimport java.util.PriorityQueue;\nimport java.util.Scanner;\nimport java.util.TreeSet;\n\npublic class Main {\n\t\n\tpublic static class Segment{\n\t\tint length, color;\n\n\t\tpublic Segment(int length, int color) {\n\t\t\tsuper();\n\t\t\tthis.length = length;\n\t\t\tthis.color = color;\n\t\t}\n\n\t\t@Override\n\t\tpublic String toString() {\n\t\t\treturn \"Segment [length=\" + length + \", color=\" + color + \"]\";\n\t\t}\n\t}\n\t\n\tpublic static int remove(ArrayList<Segment> seg_list, int left, int right){\n\t\tint reduce = 0;\n\t\t\n\t\twhile(left >= 0 && right < seg_list.size()){\n\t\t\tif(seg_list.get(left).color != seg_list.get(right).color){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tfinal int len = seg_list.get(left).length + seg_list.get(right).length;\n\t\t\tif(len < 4){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tleft--;\n\t\t\tright++;\n\t\t\treduce += len;\n\t\t}\n\t\t\n\t\treturn reduce;\n\t}\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tfinal int n = sc.nextInt();\n\t\t\t\n\t\t\tif(n == 0){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tArrayList<Segment> seg_list = new ArrayList<Main.Segment>();\n\t\t\tfor(int i = 0; i < n; i++){\n\t\t\t\tfinal int color = sc.nextInt();\n\t\t\t\t\n\t\t\t\tif(seg_list.isEmpty()){\n\t\t\t\t\tseg_list.add(new Segment(1, color));\n\t\t\t\t}else if(seg_list.get(seg_list.size() - 1).color == color){\n\t\t\t\t\tseg_list.get(seg_list.size() - 1).length++;\n\t\t\t\t}else{\n\t\t\t\t\tseg_list.add(new Segment(1, color));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tint min = n;\n\t\t\t\n\t\t\tfor(int divide = 0; divide < seg_list.size(); divide++){\n\t\t\t\tif(seg_list.get(divide).length == 1){\n\t\t\t\t\t//\n\t\t\t\t\t//--xxxo---\n\t\t\t\t\tif(divide != 0 && seg_list.get(divide - 1).length >= 3){\n\t\t\t\t\t\tfinal int len = 1 + seg_list.get(divide - 1).length;\n\t\t\t\t\t\tmin = Math.min(min, n - len - remove(seg_list, divide - 2, divide + 1));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//oxxx\n\t\t\t\t\tif(divide != seg_list.size() - 1 && seg_list.get(divide + 1).length >= 3){\n\t\t\t\t\t\tfinal int len = 1 + seg_list.get(divide + 1).length;\n\t\t\t\t\t\tmin = Math.min(min, n - len - remove(seg_list, divide - 1, divide + 2));\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//xxoxx\n\t\t\t\t\tif(divide != 0 && divide != seg_list.size() - 1 &&\n\t\t\t\t\t\t\tseg_list.get(divide - 1).color == seg_list.get(divide + 1).color){\n\t\t\t\t\t\tfinal int len = seg_list.get(divide - 1).length + seg_list.get(divide + 1).length + 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(len >= 4){\n\t\t\t\t\t\t\tmin = Math.min(min, n - len - remove(seg_list, divide - 2, divide + 2));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t//--xxxo---\n\t\t\t\t\tif(divide != 0 && seg_list.get(divide - 1).length >= 3){\n\t\t\t\t\t\tfinal int len = seg_list.get(divide - 1).length + 1;\n\t\t\t\t\t\tseg_list.get(divide).length--;\n\t\t\t\t\t\tmin = Math.min(min, n - len - remove(seg_list, divide - 2, divide));\n\t\t\t\t\t\tseg_list.get(divide).length++;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//oxxx\n\t\t\t\t\tif(divide != seg_list.size() - 1 && seg_list.get(divide + 1).length >= 3){\n\t\t\t\t\t\tfinal int len = 1 + seg_list.get(divide + 1).length;\n\t\t\t\t\t\tseg_list.get(divide).length--;\n\t\t\t\t\t\tmin = Math.min(min, n - len - remove(seg_list, divide, divide + 2));\n\t\t\t\t\t\tseg_list.get(divide).length++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\t\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\n\t\t\tArrayList<Integer> t = new ArrayList<Integer>();\n\t\t\tfor(int i=0;i<n;i++) t.add(sc.nextInt());\n\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int i=1;i<t.size();i++){\n\t\t\t\tint top = 1;\n\t\t\t\tint bottom = i<t.size()-1 ? 1 : 0;\n\n\t\t\t\tfor(int j=i-2;j>=0 && t.get(j) == t.get(j+1);j--,top++);\n\t\t\t\tfor(int j=i+2;j<t.size() && t.get(j) == t.get(j-1);j++,bottom++);\n\n\t\t\t\tif(top == 3){\n\t\t\t\t\tans = Math.min(ans,solve(n,t,i,t.get(i-1)));\n\t\t\t\t}\n\t\t\t\tif(i+1 < t.size() &&\n\t\t\t\t\t (bottom == 3 && t.get(i-1) != t.get(i+1) ||\n\t\t\t\t\t\ttop + bottom >= 3 && t.get(i-1) == t.get(i+1))){\n\t\t\t\t\tans = Math.min(ans,solve(n,t,i,t.get(i+1)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(ans == Integer.MAX_VALUE ? n : ans);\n\t\t}\n\t}\n\n\tprivate static int solve(int n,ArrayList<Integer> tt,int pos,int col){\n\t\tint res = n;\n\t\tArrayList<Integer> t = new ArrayList<Integer>(tt);\n\t\tt.set(pos,col);\n\n\t\twhile(pos < t.size() && t.get(pos) == col){\n\t\t\tt.remove(pos);\n\t\t\tres--;\n\t\t}\n\t\twhile(--pos >= 0 && t.get(pos) == col){\n\t\t\tt.remove(pos);\n\t\t\tres--;\n\t\t}\n\n\t\twhile(t.size() >= 4){\n\t\t\tif(pos < 0) break;\n\n\t\t\tint top = 0;\n\t\t\tint bottom = 0;\n\n\t\t\tfor(int j=pos-1;j>=0 && t.get(j) == t.get(j+1);j--,top++);\n\t\t\tfor(int j=pos+1;j<t.size() && t.get(j) == t.get(j-1);j++,bottom++);\n\t\t\tif(top + bottom + 1 < 4) break;\n\n\t\t\tcol = t.get(pos);\n\t\t\twhile(pos < t.size() && t.get(pos) == col){\n\t\t\t\tt.remove(pos);\n\t\t\t\tres--;\n\t\t\t}\n\t\t\twhile(--pos >= 0 && t.get(pos) == col){\n\t\t\t\tt.remove(pos);\n\t\t\t\tres--;\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main{\n    static void kowasu(int[] ini, int flag){\n\tint apa=1, minus=0, oke=ini[0];\n\t\n\tflag=0;\n\tfor(int i=1; i<ini.length; i++){\n\t    if(ini[i]==-1)\n\t\t;\n\t    else if(ini[i] == oke)\n\t\tapa++;\n\t    else if(ini[i] != oke){\n\t\toke=ini[i];\n\t\tif(apa>=4){\n\t\t    for(int m=minus; m<i; m++)\n\t\t\tini[m]=-1;\n\t\t    flag=1;\n\t\t}\n\t\tminus=i;\n\t\tapa = 1;\n\t    }\n\t}\n\t\n\tif(flag==1)\n\t    kowasu(ini,flag);\n\t\n    }\n    \n    public static void main(String[] args){\n\ttry{\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t    ArrayList<Integer> array = new ArrayList<Integer>();\n\t    do{\n\t\tint min, minloc, je = Integer.valueOf(br.readLine());\n\t\tint[] ini = new int[je];\n\t\tint[] init = new int[je];\n\t\tmin = je;\n\t\tif(je==0)\n\t\t    break;\n\t\tfor(int i=0; i<je; i++)\n\t\t    init[i] = Integer.valueOf(br.readLine());\n\t\t\n\t\tfor(int i=0; i<je; i++){\n\t\t    for(int pet=1; pet<4; pet++){\n\t\t\tfor(int im=0; im<init.length; im++)\n\t\t\t    ini[im] = init[im];\n\t\t\tini[i]=pet;\n\t\t\tkowasu(ini,1);\n\t\t\tminloc=0;\n\t\t\tfor(int kk=0; kk<je; kk++)\n\t\t\t    if(ini[kk]!=-1)\n\t\t\t\tminloc++;\n\t\t\tif(minloc<min)\n\t\t\t    min=minloc;\n\t\t    }\n\t\t}\n\t\tarray.add(min);\n\t    }while(true);\n\n\t    for(int u=0; u<array.size(); u++)\n\t\tSystem.out.println(array.get(u));\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = n;\n\t\t\tArrayList<Data> al = new ArrayList<Data>();\n\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\tint color = list[k];\n\t\t\t\tif (k == 0)\n\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\telse {\n\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tal.addAll(queue);\n\t\t\tqueue.clear();\n\t\t\tfor(int i = 0; i < al.size(); i++) {\n\t\t\t\tif(i != al.size()-1 && 1 + al.get(i+1).count >= 4) {\n\t\t\t\t\tal.get(i+1).count++;\n\t\t\t\t\tal.get(i).count--;\n\t\t\t\t\tqueue.addAll(al);\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) queue.pollLast();\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).count++;\n\t\t\t\t\tal.get(i+1).count--;\n\t\t\t\t}\n\t\t\t\tif(i != 0 && 1 + al.get(i-1).count >= 4) {\n\t\t\t\t\tal.get(i-1).count++;\n\t\t\t\t\tal.get(i).count--;\n\t\t\t\t\tqueue.addAll(al);\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) queue.pollLast();\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).count++;\n\t\t\t\t\tal.get(i-1).count--;\n\t\t\t\t}\n\t\t\t\telse if(i != 0 && i != al.size()-1 && al.get(i).count == 1 && al.get(i-1).color == al.get(i+1).color && al.get(i-1).count + al.get(i+1).count + 1 >= 4) {\n\t\t\t\t\tint pre = al.get(i).color;\n\t\t\t\t\tal.get(i).color = al.get(i-1).color;\n\t\t\t\t\tqueue.addAll(al);\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) queue.pollLast();\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).color = pre;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\n\t}\n\n\n\n\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\n\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\nimport static java.lang.Integer.parseInt;\n\n/**\n * Chain\n * JOI 2009 予選3\n */\npublic class Main {\n\n\tprivate static int[] C;\n\n\tpublic static void main(String[] args) throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\tString line;\n\t\tString[] words;\n\n\t\twhile ((line = br.readLine()) != null && !line.isEmpty()) {\n\n\t\t\tint N = parseInt(line);\n\t\t\tif (N == 0) break;\n\n\t\t\tC = new int[N + 2];\n\n\t\t\tC[N + 1] = 4;\n\n\t\t\tfor (int i = 1; i <= N; i++) {\n\t\t\t\tC[i] = parseInt(br.readLine());\n\t\t\t}\n\n\t\t\tint ans = 0;\n\n\t\t\tfor (int i = 1; i <= N; i++) {\n\t\t\t\tif (C[i] != 1) ans = Math.max(ans, solve(i, 1));\n\t\t\t\tif (C[i] != 2) ans = Math.max(ans, solve(i, 2));\n\t\t\t\tif (C[i] != 3) ans = Math.max(ans, solve(i, 3));\n\t\t\t}\n\n\t\t\tSystem.out.println(N - ans);\n\t\t}\n\t}\n\n\tprivate static int solve(int i, int c) {\n\n\t\tint p = i, q = i, l = 0, r = 0, ret = 0;\n\n\t\twhile (C[p - 1] == c) {\n\t\t\tl++;\n\t\t\tp--;\n\t\t}\n\t\twhile (C[q + 1] == c) {\n\t\t\tr++;\n\t\t\tq++;\n\t\t}\n\t\tif (l + r + 1 >= 4) {\n\t\t\tret = l + r + 1;\n\t\t\tret += solve2(p, q);\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tprivate static int solve2(int p, int q) {\n\n\t\tint l = 0, r = 0, ret = 0;\n\n\t\tif (C[p - 1] == C[q + 1]) {\n\t\t\tint c = C[p - 1];\n\t\t\twhile (C[p - 1] == c) {\n\t\t\t\tp--;\n\t\t\t\tl++;\n\t\t\t}\n\t\t\twhile (C[q + 1] == c) {\n\t\t\t\tq++;\n\t\t\t\tr++;\n\t\t\t}\n\t\t\tif (l + r >= 4) {\n\t\t\t\tret += l + r;\n\t\t\t\tret += solve2(p, q);\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t}\n}\n"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor (int i = 0; i < n; i++) sb.append(sc.nextInt());\n\t\t\tboolean flg = false;\n\t\t\twhile(!flg) {\n\t\t\t\tflg = true;\n\t\t\t\tfor(int i=0;i<sb.length();) {\n\t\t\t\t\tint j=i;\n\t\t\t\t\twhile( i<sb.length() && sb.charAt(i) == sb.charAt(j) ) i++;\n\t\t\t\t\tif(i-j >= 4) {\n\t\t\t\t\t\tsb = new StringBuilder(sb.subSequence(0, j) + sb.substring(i));\n\t\t\t\t\t\tflg = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tdebug(sb);\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<sb.length();i++) for(int c=1;c<=3;c++){\n\t\t\t\tStringBuilder tmp = new StringBuilder(sb.substring(0, i) + c + sb.substring(i+1));\n\t\t\t\tdebug(tmp);\n\t\t\t\tint l = i, r = i, cnt = 0;\n\t\t\t\twhile(l>=0) {\n\t\t\t\t\tint cc = tmp.charAt(l) - '0';\n\t\t\t\t\twhile( l > 0 && cc == ( tmp.charAt(l-1) - '0') ) l--;\n\t\t\t\t\twhile( r < sb.length()-1 && cc == ( tmp.charAt(r+1) - '0' )) r++;\n\t\t\t\t\tdebug(l, r, r-l-cnt+1);\n\t\t\t\t\tif( r-l-cnt+1 < 4 ) break;\n\t\t\t\t\tcnt += r-l+1;\n\t\t\t\t\tl--;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmin = min(sb.length() - (r-l<4? 0: r-l), min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n//\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif(i != 0 && i != n-1) {\n\t\t\t\t\tif(list[i-1] == list[i+1] || list[i-1] == list[i]) continue;\n\t\t\t\t}\n\t\t\t\tint pre = list[i];\n\t\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\t\tif (pre == j)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tlist[i] = j;\n\t\t\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\t\t\tint color = list[k];\n\t\t\t\t\t\tif (k == 0)\n\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\tboolean check = false;\n\t\t\t\t\twhile (!queue.isEmpty() || !queue2.isEmpty()) {\n\t\t\t\t\t\tif (queue.isEmpty()) {\n\t\t\t\t\t\t\tqueue.addAll(queue2);\n\t\t\t\t\t\t\tqueue2.clear();\n\t\t\t\t\t\t\tif (!check)\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcheck = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} else if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tsum += queue.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t}\n\t\t\t\tlist[i] = pre;\n\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t}\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\t\n\t\n\t\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor (int i = 0; i < n; i++) sb.append(sc.nextInt());\n\t\t\t\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<n;i++) for(int c=1;c<3;c++){\n\t\t\t\tStringBuilder tmp = new StringBuilder(sb.substring(0, i) + c + sb.substring(i+1));\n\t\t\t\twhile(true) {\n\t\t\t\t\tint s = 0, g = 0; \n\t\t\t\t\tfor(s=0;s<tmp.length();s++) {\n\t\t\t\t\t\tg = s;\n\t\t\t\t\t\twhile(g < tmp.length() && tmp.charAt(s) == tmp.charAt(g)) g++;\n\t\t\t\t\t\tif(g-s>3) break;\n\t\t\t\t\t}\n\t\t\t\t\tif( g-s<=3 ) break;\n\t\t\t\t\ttmp = new StringBuilder(tmp.substring(0, s) + tmp.substring(g));\n\t\t\t\t}\n\t\t\t\tmin = min(tmp.length(), min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor (int i = 0; i < n; i++) sb.append(sc.nextInt());\n\t\t\tdebug(sb);\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<n;i++) for(int c=1;c<=3;c++){\n\t\t\t\tStringBuilder tmp = new StringBuilder(sb.substring(0, i) + c + sb.substring(i+1));\n\t\t\t\tdebug(tmp);\n\t\t\t\tint l = i, r = i, cnt = 0;\n\t\t\t\twhile(true) {\n\t\t\t\t\tint cc = tmp.charAt(l) - '0';\n\t\t\t\t\twhile( l > 0 && cc == ( tmp.charAt(l-1) - '0') ) l--;\n\t\t\t\t\twhile( r < n-1 && cc == ( tmp.charAt(r+1) - '0' )) r++;\n\t\t\t\t\tdebug(l, r, r-l-cnt+1);\n\t\t\t\t\tif( r-l-cnt+1 < 4 ) break;\n\t\t\t\t\tcnt += r-l+1;\n\t\t\t\t\tl--;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmin = min(n - (r-l<4? 0: r-l), min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n//\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main{\n\tpublic static int[] copy(int[] a){\n\t\tint[] result = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++){\n\t\t\tresult[i] = a[i];\n\t\t}\n\t\treturn result;\n\t}\n\t \n\tpublic static int[] arrange(int[] a, int start, int end){\n\t\tint[] result = new int[a.length+start-end];\n\t\tfor(int i = 0; i < start; i++){\n\t\t\tresult[i] = a[i];\n\t\t}\n\t\tfor(int i = start; i < result.length; i++){\n\t\t\tresult[i] = a[i+end-start];\n\t\t}\n\t\treturn result;\n\t}\n\t\t\n\tpublic static int[] vanish(int[] a){\n\t\tint key = a[0];\n\t\tint count = 1;\n\t\tfor(int i = 1; i < a.length; i++){\n\t\t\tif( a[i] == key ){\n\t\t\t\tcount++;\n\t\t\t} else {\n\t\t\t\tkey = a[i];\n\t\t\t\tif( count >= 4 ){\n\t\t\t\t\ta = arrange(a, i-count, i);\n\t\t\t\t\ti = 1;\n\t\t\t\t\tkey = a[0];\n\t\t\t\t}\n\t\t\t\tcount = 1;\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t}\n\t\n\tpublic static int solve(int[] a){\n\t\tint[] x = copy(a);\n\t\tx[0] = x[1];\n\t\tx = vanish(x);\n\t\tint min = x.length;\n\t\tfor(int i = 1; i < a.length-1; i++){\t\t\n\t\t\tif( a[i] != a[i-1] || a[i] != a[i+1] ){\n\t\t\t\tif( a[i] != a[i-1] ){\n\t\t\t\t\tint[] y = copy(a);\n\t\t\t\t\ty[i] = y[i-1];\n\t\t\t\t\ty = vanish(y);\n\t\t\t\t\tif( y.length < min ){\n\t\t\t\t\t\tmin = y.length;\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\tif( a[i] != a[i+1] ){\n\t\t\t\t\tint[] y = copy(a);\n\t\t\t\t\ty[i] = y[i+1];\n\t\t\t\t\ty = vanish(y);\n\t\t\t\t\tif( y.length < min ){\n\t\t\t\t\t\tmin = y.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tx = copy(a);\n\t\tx[x.length-2] = x[x.length-1];\n\t\tx = vanish(x);\n\t\tif( x.length < min ){\n\t\t\tmin = x.length;\n\t\t}\n\t\t\n\t\treturn min;\n\t}\n\n\tpublic static void main(String[] args){\n\t\tScanner stdIn = new Scanner(System.in);\n\t\t\n\t\tint[] M = new int[100];\n\t\tint N = stdIn.nextInt();\n\t\tint index = 0;\n\t\twhile( N != 0 ){\n\t\t\tint[] c = new int[N];\n\t\t\tfor(int i = 0; i < N; i++){\n\t\t\t\tc[i] = stdIn.nextInt();\n\t\t\t}\n\t\t\tM[index] = solve(c);\n\t\t\tindex++;\n\t\t\tN = stdIn.nextInt();\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < index; i++){\n\t\t\tSystem.out.println(M[i]);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main {\n\n\tstatic Scanner sc = new Scanner(System.in);\n\tstatic int[] v;\n\n\tstatic int solve(int pos, int c) {\n\t\tint tmp = v[pos];\n\t\tv[pos] = c;\n\t\tint up = pos;\n\t\tint dp = pos;\n\t\tint count = 0;\n\t\twhile (0 <= up && dp < v.length && v[up] == v[dp]) {\n\t\t\tint color = v[up];\n\t\t\tint num = up == dp ? -1 : 0;\n\t\t\twhile (0 <= up && v[up] == color) {\n\t\t\t\t--up;\n\t\t\t\t++num;\n\t\t\t}\n\t\t\twhile (dp < v.length && v[dp] == color) {\n\t\t\t\t++dp;\n\t\t\t\t++num;\n\t\t\t}\n\t\t\tif (num < 4) break;\n\t\t\tcount += num;\n\t\t}\n\t\tv[pos] = tmp;\n\t\treturn count;\n\t}\n\n\tpublic static void main(String[] args) {\n\t\twhile (true) {\n\t\t\tint N = sc.nextInt();\n\t\t\tif (N == 0) break;\n\t\t\tv = new int[N];\n\t\t\tfor (int i = 0; i < N; ++i) {\n\t\t\t\tv[i] = sc.next().charAt(0) - '0';\n\t\t\t}\n\t\t\tint ans = 0;\n\t\t\tfor (int i = 0; i < N; ++i) {\n\t\t\t\tint u = i == 0 ? -1 : v[i - 1];\n\t\t\t\tint d = i == N - 1 ? -1 : v[i + 1];\n\t\t\t\tif (u != -1 && u != v[i]) {\n\t\t\t\t\tans = Math.max(ans, solve(i, u));\n\t\t\t\t}\n\t\t\t\tif (d != -1 && d != v[i] && u != d) {\n\t\t\t\t\tans = Math.max(ans, solve(i, d));\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(N - ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\nclass Main{\n\tpublic static void main(String args[]){\n\t\tScanner s=new Scanner(System.in);\n\t\twhile(true){\n\t\tint n=s.nextInt();\n\t\tif(n==0)System.exit(0);\n\t\tint[] table=new int[n];\n\t\tfor(int i=0;i<table.length;i++){\n\t\t\ttable[i]=s.nextInt();\n\t\t}\n\t\tint min=1000000;\n\t\tint aaa=0;\n\t\tfor(int i=0;i<table.length;i++){\n\t\t\tint[] nowtable=table.clone();\n\t\t\tnowtable[i]=1;\n\t\t\tif((aaa=solve(nowtable))<min)min=aaa;\n\t\t\t//System.out.println(Arrays.toString(nowtable));\n\t\t\tnowtable[i]=2;\n\t\t\tsolve(nowtable);\n\t\t\tif((aaa=solve(nowtable))<min)min=aaa;\n\t\t\t//System.out.println(Arrays.toString(nowtable));\n\t\t\tnowtable[i]=3;\n\t\t\tsolve(nowtable);\n\t\t\tif((aaa=solve(nowtable))<min)min=aaa;\n\t\t\t//System.out.println(Arrays.toString(nowtable));\n\t\t\tnowtable[i]=table[i];\n\t\t}\n\t\t//System.out.println(solve(table));\n\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tstatic int solve(int[] takeshiw){\n\t\tint now=0;\n\t\tint val=0;\n\t\tint[] takeshi=takeshiw.clone();\n\t\tfor(int i=0;i<takeshi.length+1;++i){\n\t\t\tif(i==takeshi.length){\n\t\t\t\tif(val>=4){\n\t\t\t\t\tint yaranaika=i;\n\t\t\t\t\tfor(int j=yaranaika-1;j>yaranaika-val-1;j--){\n\t\t\t\t\t\tif(takeshi[j]==0)yaranaika--;\n\t\t\t\t\t\ttakeshi[j]=0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(takeshi[i]==0){\n\t\t\t\t//System.out.println(\"B\");\n\t\t\t}else if(now==0){\n\t\t\t\tnow=takeshi[i];\n\t\t\t\tval++;\n\t\t\t\t//System.out.println(\"A\");\n\t\t\t}else if(now==takeshi[i]){\n\t\t\t\tval++;\n\t\t\t\t//System.out.println(\"C\");\n\t\t\t}else if(val>=4){\n\t\t\t\tint yaranaika=i;\n\t\t\t\tfor(int j=yaranaika-1;j>yaranaika-val-1;j--){\n\t\t\t\t\tif(takeshi[j]==0)yaranaika--;\n\t\t\t\t\ttakeshi[j]=0;\n\t\t\t\t}\n\t\t\t\ti=0;\n\t\t\t\tif(i<0)i=0;\n\t\t\t\tnow=takeshi[i];\n\t\t\t\tval=1;\n\t\t\t\t//System.out.println(\"D\");\n\t\t\t}else{\n\t\t\t\tval=1;\n\t\t\t\tnow=takeshi[i];\n\t\t\t\t//System.out.println(\"E\");\n\t\t\t}\n\t\t}\n\t\tint kiyoto=0;\n\t\tfor(int i=0;i<takeshi.length;i++){\n\t\t\tif(takeshi[i]!=0)kiyoto++;\n\t\t}\n\t\t//System.out.println(Arrays.toString(takeshi));\n\t\treturn kiyoto;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.Scanner;\n\npublic class Main{\n\tpublic static int[] copy(int[] a){\n\t\tint[] result = new int[a.length];\n\t\tfor(int i = 0; i < a.length; i++){\n\t\t\tresult[i] = a[i];\n\t\t}\n\t\treturn result;\n\t}\n\t \n\tpublic static int[] arrange(int[] a, int start, int end){\n\t\tint[] result = new int[a.length+start-end];\n\t\tfor(int i = 0; i < start; i++){\n\t\t\tresult[i] = a[i];\n\t\t}\n\t\tfor(int i = start; i < result.length; i++){\n\t\t\tresult[i] = a[i+end-start];\n\t\t}\n\t\treturn result;\n\t}\n\t\t\n\tpublic static int[] vanish(int[] a){\n\t\tint key = a[0];\n\t\tint count = 1;\n\t\tfor(int i = 1; i < a.length; i++){\n\t\t\tif( a[i] == key ){\n\t\t\t\tcount++;\n\t\t\t\tif( i == a.length-1 && count >= 4){\n\t\t\t\t\ta = arrange(a, i+1-count, i+1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tkey = a[i];\n\t\t\t\tif( count >= 4 ){\n\t\t\t\t\ta = arrange(a, i-count, i);\n\t\t\t\t\ti = 0;\n\t\t\t\t\tkey = a[0];\n\t\t\t\t}\n\t\t\t\tcount = 1;\n\t\t\t}\n\t\t}\n\t\treturn a;\n\t}\n\t\n\tpublic static int solve(int[] a){\n\t\tint[] x = copy(a);\n\t\tx[0] = x[1];\n\t\tx = vanish(x);\n\t\tint min = x.length;\n\t\tfor(int i = 1; i < a.length-1; i++){\t\t\n\t\t\tif( a[i] != a[i-1] || a[i] != a[i+1] ){\n\t\t\t\tif( a[i] != a[i-1] ){\n\t\t\t\t\tint[] y = copy(a);\n\t\t\t\t\ty[i] = y[i-1];\n\t\t\t\t\ty = vanish(y);\n\t\t\t\t\tif( y.length < min ){\n\t\t\t\t\t\tmin = y.length;\n\t\t\t\t\t}\n\t\t\t\t} \n\t\t\t\tif( a[i] != a[i+1] ){\n\t\t\t\t\tint[] y = copy(a);\n\t\t\t\t\ty[i] = y[i+1];\n\t\t\t\t\ty = vanish(y);\n\t\t\t\t\tif( y.length < min ){\n\t\t\t\t\t\tmin = y.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tx = copy(a);\n\t\tx[x.length-2] = x[x.length-1];\n\t\tx = vanish(x);\n\t\tif( x.length < min ){\n\t\t\tmin = x.length;\n\t\t}\n\t\t\n\t\treturn min;\n\t}\n\n\tpublic static void main(String[] args){\n\t\tScanner stdIn = new Scanner(System.in);\n\t\t\n\t\tint[] M = new int[100];\n\t\tint N = stdIn.nextInt();\n\t\tint index = 0;\n\t\twhile( N != 0 ){\n\t\t\tint[] c = new int[N];\n\t\t\tfor(int i = 0; i < N; i++){\n\t\t\t\tc[i] = stdIn.nextInt();\n\t\t\t}\n\t\t\tM[index] = solve(c);\n\t\t\tindex++;\n\t\t\tN = stdIn.nextInt();\n\t\t}\n\t\t\n\t\tfor(int i = 0; i < index; i++){\n\t\t\tSystem.out.println(M[i]);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport static java.lang.Math.*;\n\nclass Pair {\n\n    final int color;\n    final int count;\n\n    Pair( final int color, final int count ) {\n\tthis.color = color;\n\tthis.count = count;\n    }\n\n    public String toString() {\n\treturn String.format( \"(%d, %d)\", color, count );\n    }    \n}\n\nclass Main {\n\n    public static void main( final String[] args ) {\n\n\tfinal Scanner stdin = new Scanner( System.in );\n\tfinal ArrayList<Pair> lst = new ArrayList<Pair>();\n\n\tfinal int n = stdin.nextInt();\n\t\n\tint color = stdin.nextInt();\n\tint count = 1;\n\tfor ( int i = 0; i < n - 1; i++ ) {\n\t    final int pcolor = stdin.nextInt();\n\t    if ( color == pcolor ) {\n\t\tcount++;\n\t    } else {\n\t\tlst.add( new Pair( color, count ) );\n\t\tcolor = pcolor;\n\t\tcount = 1;\n\t    }\n\t}\n\tlst.add( new Pair( color, count ) );\n\n\t//System.err.println( lst );\n\n\tint minSize = n;\n\tfor ( int i = 1; i < lst.size() - 1; i++ ) {\n\t    if ( lst.get( i ).count == 1 && lst.get( i - 1 ).color == lst.get( i + 1 ).color ) {\n\t\tfinal int reduceNum = simulate( lst, i );\n\t\tif ( minSize > n - reduceNum ) {\n\t\t    minSize = n - reduceNum;\n\t\t}\n\t    }\n\t}\n\tSystem.out.println( minSize );\n    }\n\n    static int simulate( final ArrayList<Pair> lst, final int index ) {\n\t\n\tint number = 0;\n\tfinal int initNum = lst.get( index - 1 ).count + lst.get( index ).count + lst.get( index + 1 ).count;\n\t//System.err.printf( \"%d: %s, %s, %s\\n\", index, lst.get( index - 1 ), lst.get( index ), lst.get( index + 1 ) );\n\tif ( initNum >= 4 ) {\n\t    number = initNum;\n\t} else {\n\t    return number;\n\t}\n\tint dist = 2;\n\twhile ( 0 <= index - dist && index + dist < lst.size() &&\n\t\tlst.get( index - dist ).color == lst.get( index + dist ).color ) {\n\n\t    final int pNumber = lst.get( index - dist ).count + lst.get( index + dist ).count;\n\t    if ( pNumber >= 4 ) {\n\t\tnumber += pNumber;\n\t\tdist++;\n\t    } else {\n\t\treturn number;\n\t    }\n\t}\n\treturn number;\t\t\n    }    \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport static java.lang.Math.*;\n\nclass Pair {\n\n    final int color;\n    final int count;\n\n    Pair( final int color, final int count ) {\n\tthis.color = color;\n\tthis.count = count;\n    }\n\n    public String toString() {\n\treturn String.format( \"(%d, %d)\", color, count );\n    }    \n}\n\nclass Main {\n\n    public static void main( final String[] args ) {\n\n\tfinal Scanner stdin = new Scanner( System.in );\n\n\twhile( true ) {\n\n\t    final int n = stdin.nextInt();\n\t    if ( n == 0 ){\n\t\tbreak;\n\t    }\n\t    final ArrayList<Pair> lst = new ArrayList<Pair>();\n\t\n\t    int color = stdin.nextInt();\n\t    int count = 1;\n\t    for ( int i = 0; i < n - 1; i++ ) {\n\t\tfinal int pcolor = stdin.nextInt();\n\t\tif ( color == pcolor ) {\n\t\t    count++;\n\t\t} else {\n\t\t    lst.add( new Pair( color, count ) );\n\t\t    color = pcolor;\n\t\t    count = 1;\n\t\t}\n\t    }\n\t    lst.add( new Pair( color, count ) );\n\n\t    int minSize = n;\n\t    for ( int i = 1; i < lst.size() - 1; i++ ) {\n\t\tif ( lst.get( i ).count == 1 && lst.get( i - 1 ).color == lst.get( i + 1 ).color ) {\n\t\t    final int reduceNum = simulate( lst, i );\n\t\t    if ( minSize > n - reduceNum ) {\n\t\t\tminSize = n - reduceNum;\n\t\t    }\n\t\t}\n\t    }\n\t    System.out.println( minSize );\n\t}\n    }\n\n    static int simulate( final ArrayList<Pair> lst, final int index ) {\n\t\n\tint number = 0;\n\tfinal int initNum = lst.get( index - 1 ).count + lst.get( index ).count + lst.get( index + 1 ).count;\n\n\tif ( initNum >= 4 ) {\n\t    number = initNum;\n\t} else {\n\t    return 0;\n\t}\n\tint dist = 2;\n\twhile ( 0 <= index - dist && index + dist < lst.size() &&\n\t\tlst.get( index - dist ).color == lst.get( index + dist ).color ) {\n\n\t    final int pNumber = lst.get( index - dist ).count + lst.get( index + dist ).count;\n\t    if ( pNumber >= 4 ) {\n\t\tnumber += pNumber;\n\t\tdist++;\n\t    } else {\n\t\treturn number;\n\t    }\n\t}\n\treturn number;\t\t\n    }    \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tint[] a = new int[n+2];\n\t\t\tfor(int i=1;i<=n;i++) a[i] = sc.nextInt();\n\t\t\ta[0] = 4;\n\t\t\ta[n+1] = 5;\n\t\t\t\n\t\t\tint max = 0;\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\t\tif(a[i]!=j){\n\t\t\t\t\t\tint p = i+1;\n\t\t\t\t\t\tint q = i-1;\n\t\t\t\t\t\tint r = j;\n\t\t\t\t\t\tint sum = 0;\n\t\t\t\t\t\twhile(true){\n\t\t\t\t\t\t\twhile(a[p]==r) p++;\n\t\t\t\t\t\t\twhile(a[q]==r) q--;\n\t\t\t\t\t\t\tif(p-q-1-sum<4){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsum = p-q-1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(a[p]!=a[q]){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tr = a[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n-max);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tint pre = list[i];\n\t\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\t\tif (pre == j)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tlist[i] = j;\n\t\t\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\t\t\tint color = list[k];\n\t\t\t\t\t\tif (k == 0)\n\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\tboolean check = false;\n\t\t\t\t\twhile (!queue.isEmpty() || !queue2.isEmpty()) {\n\t\t\t\t\t\tif (queue.isEmpty()) {\n\t\t\t\t\t\t\tqueue.addAll(queue2);\n\t\t\t\t\t\t\tqueue2.clear();\n\t\t\t\t\t\t\tif (!check)\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcheck = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} else if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tsum += queue.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t}\n\t\t\t\tlist[i] = pre;\n\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t}\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\t\n\t\n\t\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\nimport java.util.LinkedList;\n\n\n \npublic class Main {\n  public static void main(String[] args) {\n    InputReader sc = new InputReader(System.in);\n\n    while(true){\n      int n = sc.nextInt();\n      if(n == 0){break;}\n      int[] colors = new int[n];\n      for(int i = 0; i < n; i++){\n        colors[i] = sc.nextInt();\n      }\n\n      int minnokori = n;\n\n  //端っこの処理だけは、特別に行おう\n      if((colors[1] == colors[2] && colors[2] == colors[3]) || (colors[n - 3] == colors[n - 2] && colors[n - 4] == colors[n - 3])){\n        minnokori = n - 4;\n      }\n\n      for(int i = 1; i < n - 1; i++){\n        int allcount = 0;\n        int nowcolor = colors[i] % 3 + 1;\n        boolean chaining = true;\n        int nowleft = i - 1; int nowright = i + 1;\n        int count = 1;\n        while(chaining){\n          while(nowleft >= 0){\n            if(colors[nowleft] == nowcolor){\n              count++;\n              nowleft--;\n            }else{\n              break;\n            }\n          }\n          while(nowright < n){\n            if(colors[nowright] == nowcolor){\n              count++;\n              nowright++;\n            }else{\n              break;\n            }\n          }\n          if(count >= 4){\n            allcount += count;\n            count = 0;\n            if(nowleft >= 0 && nowright < n){\n              nowcolor = colors[nowleft];\n            }\n          }else{\n            chaining = false;\n          }\n        }\n        if(minnokori > n - allcount){\n          minnokori = n - allcount;\n        }\n      }  \n\n      for(int i = 1; i < n - 1; i++){\n        int allcount = 0;\n        int nowcolor = 3;\n        if(colors[i] >= 2){\n          nowcolor = colors[i] - 1;\n        }\n        boolean chaining = true;\n        int nowleft = i - 1; int nowright = i + 1;\n        int count = 1;\n        while(chaining){\n          while(nowleft >= 0){\n            if(colors[nowleft] == nowcolor){\n              count++;\n              nowleft--;\n            }else{\n              break;\n            }\n          }\n          while(nowright < n){\n            if(colors[nowright] == nowcolor){\n              count++;\n              nowright++;\n            }else{\n              break;\n            }\n          }\n          if(count >= 4){\n            allcount += count;\n            count = 0;\n            if(nowleft >= 0 && nowright < n){\n              nowcolor = colors[nowleft];\n            }\n          }else{\n            chaining = false;\n          }\n        }\n        if(minnokori > n - allcount){\n          minnokori = n - allcount;\n        }\n\n      }  \n\n      System.out.println(minnokori);\n    }\n \n  \n  }\n \n  \n \n  static class InputReader {\n      private InputStream stream;\n      private byte[] buf = new byte[1024];\n      private int curChar;\n      private int numChars;\n      private SpaceCharFilter filter;\n\n      public InputReader(InputStream stream) {\n          this.stream = stream;\n      }\n \n      public int next() {\n          if (numChars == -1)\n              throw new InputMismatchException();\n          if (curChar >= numChars) {\n              curChar = 0;\n              try {\n                  numChars = stream.read(buf);\n              } catch (IOException e) {\n                  throw new InputMismatchException();\n              }\n              if (numChars <= 0)\n                  return -1;\n          }\n          return buf[curChar++];\n      }\n \n      public String nextStr() {\n        int c = next();\n        while(isSpaceChar(c)){c = next();}\n        StringBuffer str = new StringBuffer();\n        do{\n          str.append((char)c);\n          c = next();\n        }while(!isSpaceChar(c));\n        return str.toString();\n      }\n\n      public int nextInt() {\n          int c = next();\n          while (isSpaceChar(c))\n              c = next();\n          int sgn = 1;\n          if (c == '-') {\n              sgn = -1;\n              c = next();\n          }\n          int res = 0;\n          do {\n              if (c < '0' || c > '9')\n                  throw new InputMismatchException();\n              res *= 10;\n              res += c - '0';\n              c = next();\n          } while (!isSpaceChar(c));\n          return res * sgn;\n      }\n \n      public boolean isSpaceChar(int c) {\n          if (filter != null)\n              return filter.isSpaceChar(c);\n          return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n      }\n \n      public interface SpaceCharFilter {\n          public boolean isSpaceChar(int ch);\n      }\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif(i != 0 && i != n-1) {\n\t\t\t\t\tif(list[i-1] == list[i] && list[i] == list[i+1]) continue;\n\t\t\t\t}\n\t\t\t\tint pre = list[i];\n\t\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\t\tif (pre == j)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tlist[i] = j;\n\t\t\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\t\t\tint color = list[k];\n\t\t\t\t\t\tif (k == 0)\n\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\tboolean check = false;\n\t\t\t\t\twhile (!queue.isEmpty() || !queue2.isEmpty()) {\n\t\t\t\t\t\tif (queue.isEmpty()) {\n\t\t\t\t\t\t\tqueue.addAll(queue2);\n\t\t\t\t\t\t\tqueue2.clear();\n\t\t\t\t\t\t\tif (!check)\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcheck = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} else if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tsum += queue.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t}\n\t\t\t\tlist[i] = pre;\n\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t}\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\t\n\t\n\t\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.Math.*;\n\npublic class Main {\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) a[i] = sc.nextInt();\n\t\t\t\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<n;i++) for(int c=1;c<=3;c++){\n\t\t\t\tint tmp = a[i];\n\t\t\t\ta[i] = c;\n\t\t\t\tint l = i, r = i, cnt = 0;\n\t\t\t\twhile(l>=0) {\n\t\t\t\t\tint cc = a[l];\n\t\t\t\t\twhile( l > 0 && cc == a[l-1] ) l--;\n\t\t\t\t\twhile( r < n-1 && cc == a[r+1] ) r++;\n\t\t\t\t\tif( r-l-cnt+1 < 4 ) break;\n\t\t\t\t\tcnt += r-l-cnt+1;\n\t\t\t\t\tl--;\n\t\t\t\t}\n\t\t\t\ta[i] = tmp;\n\t\t\t\tmin = min(n - cnt, min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.LinkedList;\nimport java.util.Scanner;\n\n//Chain\npublic class Main{\n\n\tclass R{\n\t\tint c, len;\n\t\tpublic R(int c, int len) {\n\t\t\tthis.c = c;\n\t\t\tthis.len = len;\n\t\t}\n\t}\n\n\tint chain(LinkedList<R> l, int s, int t){\n\t\tint res = 0;\n\t\tint n = l.size();\n\t\twhile(s>=0&&t<n){\n\t\t\tif(l.get(s).c==l.get(t).c&&l.get(s).len+l.get(t).len>=4){\n\t\t\t\tres+=l.get(s).len+l.get(t).len;\n\t\t\t\ts--; t++;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tvoid run(){\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0)break;\n\t\t\tLinkedList<R> l = new LinkedList<R>();\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tint c = sc.nextInt();\n\t\t\t\tif(l.isEmpty()||l.get(l.size()-1).c!=c){\n\t\t\t\t\tl.add(new R(c, 1));\n\t\t\t\t}\n\t\t\t\telse l.get(l.size()-1).len++;\n\t\t\t}\n\t\t\tint min = n;\n\t\t\tint N = l.size();\n\t\t\tfor(int i=0;i<N;i++){\n\t\t\t\tR r = l.get(i);\n\t\t\t\tif(i>0){\n\t\t\t\t\tif(l.get(i-1).len==3){\n\t\t\t\t\t\tR t = new R(l.get(i-1).c, 1);\n\t\t\t\t\t\tR in = new R(r.c, r.len-1);\n\t\t\t\t\t\tl.remove(i);\n\t\t\t\t\t\tif(in.len>0)l.add(i, in);\n\t\t\t\t\t\tl.add(i, t);\n\t\t\t\t\t\tint L = chain(l, i-1, i);\n\t\t\t\t\t\tmin = Math.min(min, n-L);\n\t\t\t\t\t\tl.remove(i);\n\t\t\t\t\t\tif(in.len>0)l.remove(i);\n\t\t\t\t\t\tl.add(i, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(i+1<N){\n\t\t\t\t\tif(l.get(i+1).len==3){\n\t\t\t\t\t\tR t = new R(l.get(i+1).c, 1);\n\t\t\t\t\t\tR in = new R(r.c, r.len-1);\n\t\t\t\t\t\tl.remove(i);\n\t\t\t\t\t\tl.add(i, t);\n\t\t\t\t\t\tif(in.len>0)l.add(i, in);\n\t\t\t\t\t\tint L = chain(l, i, i+1);\n\t\t\t\t\t\tmin = Math.min(min, n-L);\n\t\t\t\t\t\tl.remove(i);\n\t\t\t\t\t\tif(in.len>0)l.remove(i);\n\t\t\t\t\t\tl.add(i, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(i>0&&i+1<N&&r.len==1&&l.get(i-1).c==l.get(i+1).c&&l.get(i-1).len+l.get(i+1).len>=3){\n\t\t\t\t\tR in = new R(l.get(i-1).c, l.get(i-1).len+1);\n\t\t\t\t\tR pre = l.get(i-1);\n\t\t\t\t\tl.remove(i);\n\t\t\t\t\tl.remove(i-1);\n\t\t\t\t\tl.add(i-1, in);\n\t\t\t\t\tint L = chain(l, i-1, i);\n\t\t\t\t\tmin = Math.min(min, n-L);\n\t\t\t\t\tl.remove(i-1);\n\t\t\t\t\tl.add(i-1, pre);\n\t\t\t\t\tl.add(i, r);\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\npublic class Main {\n\tpublic static int product4(int[] a){\n\t\treturn a[0]*a[1]*a[2]*a[3];\n\t}\n\n\tpublic static int puyo(int[] a){\n\t\tint answer = a.length;\n\t\tboolean flag = true;\n\t\twhile(flag&&answer>=4){\n\t\t\tfor (int i=0;i<answer-3;i++){\n\t\t\t\tflag = false;\n\t\t\t\tif(a[i] == a[i+1] &&a[i] == a[i+2] &&a[i] == a[i+3]){\n\t\t\t\t\tint hit = a[i];\n\t\t\t\t\tint ren = 3;\n\t\t\t\t\twhile(i+ren+1 < answer){\n\t\t\t\t\t\tif(a[i+ren+1] != hit){break;}\n\t\t\t\t\t\tren++;\n\t\t\t\t\t}\n\t\t\t\t\tfor(int j=i; j<answer-ren-1; j++){\n\t\t\t\t\t\ta[j] = a[j+ren+1];\n\t\t\t\t\t}\n\t\t\t\t\tanswer -= ren+1;\n\t\t\t\t\tflag = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn answer;\n\t}\n\n\tpublic static void main(String[] args)throws IOException {\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t\twhile(true){\n\t\t\tint n = Integer.parseInt(br.readLine());\n\t\t\tif(n==0){break;}\n\n\t\t\tint[] cha = new int[n];\n\t\t\tfor (int i=0; i<n; i++){\n\t\t\t\tcha[i] = Integer.parseInt(br.readLine());\n\t\t\t}\n\t\t\tint answer = n;\n\t\t\tfor(int i=0;i<n-3;i++){\n\t\t\t\tint[] chain = new int[n];\n\t\t\t\tfor(int j=0; j<n; j++){\n\t\t\t\t\tchain[j]=cha[j];\n\t\t\t\t}\n\t\t\t\tint pro = product4(Arrays.copyOfRange(chain, i, i+4));\n\t\t\t\tif(pro==2 || pro==3|| pro==8|| pro==24|| pro==27|| pro==54){\n\t\t\t\t\tint hit = chain[i];\n\t\t\t\t\tif (hit == chain[i+1]){\n\t\t\t\t\t\tchain[i+2] = chain[i+3] = hit;\n\t\t\t\t\t}else if(hit == chain[i+2]){\n\t\t\t\t\t\tchain[i+1] = hit;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tchain[i] = chain[i+1];\n\t\t\t\t\t}\n\t\t\t\t\tanswer = Math.min(answer, puyo(chain));\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(answer);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor (int i = 0; i < n; i++) sb.append(sc.nextInt());\n\t\t\tdebug(sb);\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<n;i++) for(int c=1;c<=3;c++){\n\t\t\t\tStringBuilder tmp = new StringBuilder(sb.substring(0, i) + c + sb.substring(i+1));\n\t\t\t\tdebug(tmp);\n\t\t\t\tint l = i, r = i, cnt = 0;\n\t\t\t\twhile(l>=0) {\n\t\t\t\t\tint cc = tmp.charAt(l) - '0';\n\t\t\t\t\twhile( l > 0 && cc == ( tmp.charAt(l-1) - '0') ) l--;\n\t\t\t\t\twhile( r < n-1 && cc == ( tmp.charAt(r+1) - '0' )) r++;\n\t\t\t\t\tdebug(l, r, r-l-cnt+1);\n\t\t\t\t\tif( r-l-cnt+1 < 4 ) break;\n\t\t\t\t\tcnt += r-l+1;\n\t\t\t\t\tl--;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmin = min(n - (r-l<4? 0: r-l), min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n//\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor (int i = 0; i < n; i++) sb.append(sc.nextInt());\n\t\t\tdebug(sb);\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<n;i++) for(int c=1;c<=3;c++){\n\t\t\t\tStringBuilder tmp = new StringBuilder(sb.substring(0, i) + c + sb.substring(i+1));\n\t\t\t\tLinkedList<P> stack = new LinkedList<P>();\n\t\t\t\tstack.add(new P(0, 0));\n\t\t\t\tdebug(tmp);\n\t\t\t\tfor(int j=0;j<n;j++) {\n\t\t\t\t\tint k = j;\n\t\t\t\t\twhile(k<n && tmp.charAt(j) == tmp.charAt(k)) k++;\n\t\t\t\t\t\n\t\t\t\t\tP past = stack.removeLast();\n\t\t\t\t\tif( past.c == tmp.charAt(j)-'0' && past.t + k-j >= 4 );\n\t\t\t\t\telse { \n\t\t\t\t\t\tstack.addLast(past); \n\t\t\t\t\t\tif( k-j<=3 )\n\t\t\t\t\t\t\tstack.addLast(new P(tmp.charAt(j)-'0', k-j));\n\t\t\t\t\t}\n\t\t\t\t\tj = k-1;\n\t\t\t\t}\n\t\t\t\tfor (P p : stack) debug(p.c, p.t);\n\t\t\t\tint sum = 0;\n\t\t\t\tfor (P p : stack) sum += p.t;\n\t\t\t\tmin = min(sum, min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\t\n\tclass P {\n\t\tint c, t;\n\t\tP(int c, int t) {\n\t\t\tthis.c = c;\n\t\t\tthis.t = t;\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n//\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport static java.lang.Math.*;\n\nclass Pair {\n\n    final int color;\n    final int count;\n\n    Pair( final int color, final int count ) {\n\tthis.color = color;\n\tthis.count = count;\n    }    \n}\n\nclass Main {\n\n    public static void main( final String[] args ) {\n\n\tfinal Scanner stdin = new Scanner( System.in );\n\tfinal ArrayList<Pair> lst = new ArrayList<Pair>();\n\n\tfinal int n = stdin.nextInt();\n\t\n\tint color = stdin.nextInt();\n\tint count = 1;\n\tfor ( int i = 0; i < n - 1; i++ ) {\n\t    final int pcolor = stdin.nextInt();\n\t    if ( color == pcolor ) {\n\t\tcount++;\n\t    } else {\n\t\tlst.add( new Pair( color, count ) );\n\t\tcolor = pcolor;\n\t\tcount = 1;\n\t    }\n\t}\n\tlst.add( new Pair( color, count ) );\n\n\tint minSize = n;\n\tfor ( int i = 1; i < lst.size() - 1; i++ ) {\n\t    if ( lst.get( i - 1 ).color == lst.get( i + 1 ).color ) {\n\t\tfinal int reduceNum = simulate( lst, i );\n\t\tif ( minSize > n - reduceNum ) {\n\t\t    minSize = n - reduceNum;\n\t\t}\n\t    }\n\t}\n\tSystem.out.println( minSize );\n    }\n\n    static int simulate( final ArrayList<Pair> lst, final int index ) {\n\t\n\tint number = 0;\n\tfinal int initNum = lst.get( index - 1 ).count + lst.get( index ).count + lst.get( index + 1 ).count;\n\tif ( initNum >= 4 ) {\n\t    number = initNum;\n\t} else {\n\t    return number;\n\t}\n\tint dist = 2;\n\twhile ( 0 <= index - dist && index + dist < lst.size() &&\n\t\tlst.get( index - dist ).color == lst.get( index + dist ).color ) {\n\n\t    final int pNumber = lst.get( index - dist ).count + lst.get( index + dist ).count;\n\t    if ( pNumber >= 4 ) {\n\t\tnumber += pNumber;\n\t\tdist++;\n\t    } else {\n\t\treturn number;\n\t    }\n\t}\n\treturn number;\t\t\n    }    \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tint[] a = new int[n+2];\n\t\t\tfor(int i=1;i<=n;i++) a[i] = sc.nextInt();\n\t\t\ta[0] = 4;\n\t\t\ta[n] = 5;\n\t\t\t\n\t\t\tint max = 0;\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\t\tif(a[i]!=j){\n\t\t\t\t\t\tint p = i+1;\n\t\t\t\t\t\tint q = i-1;\n\t\t\t\t\t\tint r = j;\n\t\t\t\t\t\tint sum = 0;\n\t\t\t\t\t\twhile(true){\n\t\t\t\t\t\t\twhile(p<=n && a[p]==r) p++;\n\t\t\t\t\t\t\twhile(q>0 && a[q]==r) q--;\n\t\t\t\t\t\t\tif(p-q-1<4){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsum = p-q-1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(a[p]!=a[q]){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tr = a[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n-max);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.PrintWriter;\nimport java.util.Arrays;\nimport java.util.InputMismatchException;\nimport java.util.LinkedList;\n\n\n \npublic class Main {\n  public static void main(String[] args) {\n    InputReader sc = new InputReader(System.in);\n\n    while(true){\n      int n = sc.nextInt();\n      if(n == 0){break;}\n      int[] colors = new int[n];\n      for(int i = 0; i < n; i++){\n        colors[i] = sc.nextInt();\n      }\n\n      int minnokori = n;\n\n  //端っこの処理だけは、特別に行おう\n      if((colors[1] == colors[2] && colors[2] == colors[3]) || (colors[n - 3] == colors[n - 2] && colors[n - 4] == colors[n - 3])){\n        minnokori = n - 4;\n      }\n\n      for(int i = 1; i < n - 1; i++){\n        int allcount = 0;\n        int nowcolor = (colors[i] + 1) % 3 + 1;\n        boolean chaining = true;\n        int nowleft = i - 1; int nowright = i + 1;\n        int count = 1;\n        while(chaining){\n          while(nowleft >= 0){\n            if(colors[nowleft] == nowcolor){\n              count++;\n              nowleft--;\n            }else{\n              break;\n            }\n          }\n          while(nowright < n){\n            if(colors[nowright] == nowcolor){\n              count++;\n              nowright++;\n            }else{\n              break;\n            }\n          }\n          if(count >= 4){\n            allcount += count;\n            count = 0;\n            if(nowleft >= 0 && nowright < n){\n              nowcolor = colors[nowleft];\n            }\n          }else{\n            chaining = false;\n          }\n        }\n        if(minnokori > n - allcount){\n          minnokori = n - allcount;\n        }\n      }  \n\n      for(int i = 1; i < n - 1; i++){\n        int allcount = 0;\n        int nowcolor = 3;\n        if(colors[i] >= 2){\n          nowcolor = colors[i] - 1;\n        }\n        boolean chaining = true;\n        int nowleft = i - 1; int nowright = i + 1;\n        int count = 1;\n        while(chaining){\n          while(nowleft >= 0){\n            if(colors[nowleft] == nowcolor){\n              count++;\n              nowleft--;\n            }else{\n              break;\n            }\n          }\n          while(nowright < n){\n            if(colors[nowright] == nowcolor){\n              count++;\n              nowright++;\n            }else{\n              break;\n            }\n          }\n          if(count >= 4){\n            allcount += count;\n            count = 0;\n            if(nowleft >= 0 && nowright < n){\n              nowcolor = colors[nowleft];\n            }\n          }else{\n            chaining = false;\n          }\n        }\n        if(minnokori > n - allcount){\n          minnokori = n - allcount;\n        }\n\n      }  \n\n      System.out.println(minnokori);\n    }\n \n  \n  }\n \n  \n \n  static class InputReader {\n      private InputStream stream;\n      private byte[] buf = new byte[1024];\n      private int curChar;\n      private int numChars;\n      private SpaceCharFilter filter;\n\n      public InputReader(InputStream stream) {\n          this.stream = stream;\n      }\n \n      public int next() {\n          if (numChars == -1)\n              throw new InputMismatchException();\n          if (curChar >= numChars) {\n              curChar = 0;\n              try {\n                  numChars = stream.read(buf);\n              } catch (IOException e) {\n                  throw new InputMismatchException();\n              }\n              if (numChars <= 0)\n                  return -1;\n          }\n          return buf[curChar++];\n      }\n \n      public String nextStr() {\n        int c = next();\n        while(isSpaceChar(c)){c = next();}\n        StringBuffer str = new StringBuffer();\n        do{\n          str.append((char)c);\n          c = next();\n        }while(!isSpaceChar(c));\n        return str.toString();\n      }\n\n      public int nextInt() {\n          int c = next();\n          while (isSpaceChar(c))\n              c = next();\n          int sgn = 1;\n          if (c == '-') {\n              sgn = -1;\n              c = next();\n          }\n          int res = 0;\n          do {\n              if (c < '0' || c > '9')\n                  throw new InputMismatchException();\n              res *= 10;\n              res += c - '0';\n              c = next();\n          } while (!isSpaceChar(c));\n          return res * sgn;\n      }\n \n      public boolean isSpaceChar(int c) {\n          if (filter != null)\n              return filter.isSpaceChar(c);\n          return c == ' ' || c == '\\n' || c == '\\r' || c == '\\t' || c == -1;\n      }\n \n      public interface SpaceCharFilter {\n          public boolean isSpaceChar(int ch);\n      }\n  }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tint[] a = new int[n+2];\n\t\t\tfor(int i=1;i<=n;i++) a[i] = sc.nextInt();\n\t\t\ta[0] = 4;\n\t\t\ta[n+1] = 5;\n\t\t\t\n\t\t\tint max = 0;\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\t\tif(a[i]!=j){\n\t\t\t\t\t\tint p = i+1;\n\t\t\t\t\t\tint q = i-1;\n\t\t\t\t\t\tint r = j;\n\t\t\t\t\t\tint sum = 0;\n\t\t\t\t\t\twhile(true){\n\t\t\t\t\t\t\twhile(p<=n && a[p]==r) p++;\n\t\t\t\t\t\t\twhile(q>0 && a[q]==r) q--;\n\t\t\t\t\t\t\tif(p-q-1<4){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsum = p-q-1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(a[p]!=a[q]){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tr = a[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n-max);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main{\n    static void kowasu(int[] ini, int flag){\n\tint apa=1, minus=0, oke=ini[0];\n\t\n\twhile(flag==1){\n\t    flag=0;\n\t    for(int i=1; i<ini.length; i++){\n\t\tif(ini[i]==-1)\n\t\t    ;\n\t\telse if(ini[i] == oke)\n\t\t    apa++;\n\t\telse if(ini[i] != oke){\n\t\t    oke=ini[i];\n\t\t    if(apa>=4){\n\t\t\tfor(int m=minus; m<i; m++)\n\t\t\t    ini[m]=-1;\n\t\t\tflag=1;\n\t\t    }\n\t\t    minus=i;\n\t\t    apa = 1;\n\t\t}\n\t    }\n\t}\n    }\n    \n    public static void main(String[] args){\n\ttry{\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t    ArrayList<Integer> array = new ArrayList<Integer>();\n\t    \n\t    do{\n\t\tint min, minloc, je = Integer.valueOf(br.readLine());\n\t\tint[] init = new int[je];\n\t\t\n\t\tmin = je;\n\t\tif(je==0)\n\t\t    break;\n\t\tfor(int i=0; i<je; i++)\n\t\t    init[i] = Integer.valueOf(br.readLine());\n\t\t\n\t\tfor(int i=0; i<je; i++){\n\t\t    for(int pet=1; pet<4; pet++){\n\t\t\tint[] ini = init.clone();\n\t\t\tini[i]=pet;\n\t\t\tkowasu(ini,1);\n\t\t\tminloc=0;\n\t\t\tfor(int kk=0; kk<je; kk++)\n\t\t\t    if(ini[kk]!=-1)\n\t\t\t\tminloc++;\n\t\t\tif(minloc<min)\n\t\t\t    min=minloc;\n\t\t    }\n\t\t}\n\t\tarray.add(min);\n\t    }while(true);\n\n\t    for(int u=0; u<array.size(); u++)\n\t\tSystem.out.println(array.get(u));\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\nimport java.io.*;\nimport static java.lang.Math.*;\n\nclass Main {\n\n    public static void main( final String[] args ) {\n\n\tfinal Scanner stdin = new Scanner( System.in );\n\n\twhile( true ) {\n\n\t    final int n = stdin.nextInt();\n\t    if ( n == 0 ){\n\t\tbreak;\n\t    }\n\n\t    int[] color = new int[ n ];\n\t    for ( int i = 0; i < n; i++ ) {\n\t\tcolor[ i ] = stdin.nextInt();\n\t    }\n\t    int minSize = n;\n\t    for ( int i = 0; i < n; i++ ) {\n\t\tint preColor = color[ i ];\n\t\tif ( preColor != 1 ) {\n\t\t    color[ i ] = 1;\n\t\t    minSize = Math.min( minSize, n - simulate( color, i ) );\n\t\t}\n\t\tif ( preColor != 2 ) {\n\t\t    color[ i ] = 2;\n\t\t    minSize = Math.min( minSize, n - simulate( color, i ) );\n\t\t}\n\t\tif ( preColor != 3 ) {\n\t\t    color[ i ] = 3;\n\t\t    minSize = Math.min( minSize, n - simulate( color, i ) );\n\t\t}\n\t\tcolor[ i ] = preColor;\n\t    }\n\t    System.out.println( minSize );\n\t}\t\n    }\n\n    static int simulate( final int[] color, final int index ) {\n\t\n\tint left = index;\n\tint right = index;\n\tint number = 0;\n\t//System.err.printf( \"%d, %s\\n\", index, Arrays.toString( color ) );\n\n\twhile ( 0 <= left && right < color.length && color[ left ] == color[ right ] ) {\n\t    final int pColor = color[ left ];\n\t    int localCount = 0;\n\t    while ( 0 <= left && color[ left ] == pColor ) {\n\t\tif ( left != right ) {\n\t\t    localCount++;\n\t\t}\n\t\tleft--;\n\t    }\n\t    while( right < color.length && color[ right ] == pColor ) {\n\t\tright++;\n\t\tlocalCount++;\n\t    }\n\t    if ( localCount >= 4 ) {\n\t\t//System.err.printf( \"remove: (left, right, localCount) = (%d, %d, %d)\\n\", left, right, localCount );\n\t\tnumber += localCount;\n\t    }\n\t}\n\treturn number;\n    }    \n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\t\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\t\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n==0) break;\n\t\t\tint[] a = new int[n];\n\t\t\tfor(int i=0;i<n;i++) a[i] = sc.nextInt();\n\t\t\n\t\t\tint max = 0;\n\t\t\tfor(int i=0;i<n;i++){\n\t\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\t\tif(a[i]!=j){\n\t\t\t\t\t\tint p = i+1;\n\t\t\t\t\t\tint q = i-1;\n\t\t\t\t\t\tint r = j;\n\t\t\t\t\t\tint sum = 0;\n\t\t\t\t\t\twhile(true){\n\t\t\t\t\t\t\twhile(p<n && a[p]==r) p++;\n\t\t\t\t\t\t\twhile(q>=0 && a[q]==r) q--;\n\t\t\t\t\t\t\tif(p-q-1<4){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsum = p-q-1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(a[p]!=a[q]){\n\t\t\t\t\t\t\t\tmax = Math.max(max, sum);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tr = a[p];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(n-max);\n\t\t}\n\t}\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() throws IOException {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = scanner.nextInt();\n\t\t\tint ans = n;\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\t\tif (a[i] == j)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tint tmp = a[i];\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tint l = i;\n\t\t\t\t\tint r = i;\n\t\t\t\t\tint cnt = 0;\n\t\t\t\t\twhile (l >= 0) {\n\t\t\t\t\t\tint cc = a[l];\n\t\t\t\t\t\twhile (l > 0 && cc == a[l - 1])\n\t\t\t\t\t\t\tl--;\n\t\t\t\t\t\twhile (r < n - 1 && cc == a[r + 1])\n\t\t\t\t\t\t\tr++;\n\t\t\t\t\t\tif (r - l - cnt + 1 < 4)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcnt += r - l - cnt + 1;\n\t\t\t\t\t\tl--;\n\t\t\t\t\t}\n\t\t\t\t\ta[i] = tmp;\n\t\t\t\t\tans = Math.min(ans, n - cnt);\n\t\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main{\n    public static void main(String[] args){\n\ttry{\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t    ArrayList<Integer> array = new ArrayList<Integer>();\n\t    \n\t    do{\n\t\tint min, minloc, je = Integer.valueOf(br.readLine());\n\t\tint[] init = new int[je];\n\t\t\n\t\tmin = je;\n\t\tif(je==0)\n\t\t    break;\n\t\tfor(int i=0; i<je; i++)\n\t\t    init[i] = Integer.valueOf(br.readLine());\n\t\t\n\t\tfor(int i=0; i<je; i++){\n\t\t    for(int pet=1; pet<4; pet++){\n\t\t\tint[] ini = init.clone();\n\t\t\tini[i]=pet;\n\t\t\t\n\t\t\tint apa=1, minus=0, flag=1, oke=ini[0];\n\t\t\twhile(flag==1){\n\t\t\t    flag=0;\n\t\t\t    for(int ip=1; ip<ini.length; ip++){\n\t\t\t\tif(ini[ip]==-1)\n\t\t\t\t    ;\n\t\t\t\telse if(ini[ip] == oke)\n\t\t\t\t    apa++;\n\t\t\t\telse if(ini[ip] != oke){\n\t\t\t\t    oke=ini[ip];\n\t\t\t\t    if(apa>=4){\n\t\t\t\t\tfor(int m=minus; m<ip; m++)\n\t\t\t\t\t    ini[m]=-1;\n\t\t\t\t\tflag=1;\n\t\t\t\t    }\n\t\t\t\t    minus=ip;\n\t\t\t\t    apa = 1;\n\t\t\t\t}\n\t\t\t    }\n\t\t\t}\n\t\t\t\n\t\t\tminloc=0;\n\t\t\tfor(int kk=0; kk<je; kk++)\n\t\t\t    if(ini[kk]!=-1)\n\t\t\t\tminloc++;\n\t\t\tif(minloc<min)\n\t\t\t    min=minloc;\n\t\t    }\n\t\t}\n\t\tarray.add(min);\n\t    }while(true);\n\t    \n\t    for(int u=0; u<array.size(); u++)\n\t\tSystem.out.println(array.get(u));\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\n\t\tScanner scan = new Scanner(System.in);\n\t\t// Scanner scan = new Scanner(new\n\t\t// File(\"D:\\\\UserArea\\\\J0124567\\\\Downloads\\\\0531-input.txt\"));\n\n\t\twhile (scan.hasNext()) {\n\n\t\t\tint n = scan.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tChs chs = new Chs(n);\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tchs.add(scan.nextInt());\n\t\t\tSystem.out.print(chs.rem());\n\t\t}\n\n\t\tscan.close();\n\t\tSystem.exit(0);\n\n\t}\n}\n\nclass Chs {\n\tpublic Chs(int n) {\n\t\tcol = new int[n + 1];\n\t\trep = new int[n + 1];\n\t\tN = n;\n\t}\n\n\tpublic int rem() {\n\t\tint max = 0;\n\t\tfor (int i = 1; i <= last; i++) {\n\t\t\tint x = this.erase(i);\n\t\t\tif (x > max)\n\t\t\t\tmax = x;\n\t\t}\n\t\treturn max;\n\t}\n\n\tprivate int erase(int i) {\n\t\tint max = 0;\n\t\tif (rep[i] == 1) {\n\t\t\tif (col[i - 1] == col[i + 1] && rep[i - 1] + rep[i + 1] >= 3) {\n\t\t\t\tint x = rep[i - 1] + rep[i + 1] + 1 + this.next(i - 2, i + 2);\n\t\t\t\tif (x > max)\n\t\t\t\t\tmax = x;\n\t\t\t} else {\n\t\t\t\tif (rep[i - 1] >= 3) {\n\t\t\t\t\tint x = rep[i - 1] + 1 + this.next(i - 2, i + 1);\n\t\t\t\t\tif (x > max)\n\t\t\t\t\t\tmax = x;\n\t\t\t\t}\n\t\t\t\tif (rep[i + 1] >= 3) {\n\t\t\t\t\tint x = rep[i - 1] + 1 + this.next(i - 1, i + 2);\n\t\t\t\t\tif (x > max)\n\t\t\t\t\t\tmax = x;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (rep[i - 1] >= 3) {\n\t\t\t\tint x = rep[i - 1] + 1;\n\t\t\t\trep[i]--;\n\t\t\t\tx += this.next(i - 2, i);\n\t\t\t\trep[i]++;\n\t\t\t\tif (x > max)\n\t\t\t\t\tmax = x;\n\t\t\t}\n\t\t\tif (rep[i + 1] >= 3) {\n\t\t\t\tint x = rep[i + 1] + 1;\n\t\t\t\trep[i]--;\n\t\t\t\tx += this.next(i, i + 2);\n\t\t\t\trep[i]++;\n\t\t\t\tif (x > max)\n\t\t\t\t\tmax = x;\n\t\t\t}\n\t\t}\n\t\treturn N - max;\n\t}\n\n\tprivate int next(int low, int hi) {\n\t\tint x = 0;\n\t\tfor (int i = 0; col[low - i] == col[hi + i]; i++)\n\t\t\tif (rep[low - i] + rep[hi + i] >= 4)\n\t\t\t\tx += rep[low - i] + rep[hi + i];\n\t\treturn x;\n\t}\n\n\tpublic void add(int c) {\n\t\tif (col[last] == 0 || col[last] == c) {\n\t\t\tcol[last] = c;\n\t\t\trep[last]++;\n\t\t} else {\n\t\t\tcol[++last] = c;\n\t\t\trep[last]++;\n\t\t}\n\t}\n\n\tint last = 1;\n\tint[] col;\n\tint[] rep;\n\tint N;\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main{\n    static void kowasu(int[] ini, int flag){\n\tint apa=1, minus=0, oke=ini[0];\n\t\n\tflag=0;\n\tfor(int i=1; i<ini.length; i++){\n\t    if(ini[i]==-1)\n\t\t;\n\t    else if(ini[i] == oke)\n\t\tapa++;\n\t    else if(ini[i] != oke){\n\t\toke=ini[i];\n\t\tif(apa>=4){\n\t\t    for(int m=minus; m<i; m++)\n\t\t\tini[m]=-1;\n\t\t    flag=1;\n\t\t}\n\t\tminus=i;\n\t\tapa = 1;\n\t    }\n\t}\n\t\n\tif(flag==1)\n\t    kowasu(ini,flag);\n\t\n    }\n    \n    public static void main(String[] args){\n\ttry{\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t    ArrayList<Integer> array = new ArrayList<Integer>();\n\t    do{\n\t\tint min, minloc, je = Integer.valueOf(br.readLine());\n\t\tint[] ini = new int[je];\n\t\tint[] init = new int[je];\n\t\tmin = je;\n\t\tif(je==0)\n\t\t    break;\n\t\tfor(int i=0; i<je; i++)\n\t\t    init[i] = Integer.valueOf(br.readLine());\n\t\t\n\t\tfor(int i=0; i<je; i++){\n\t\t    for(int pet=1; pet<4; pet++){\n\t\t\tfor(int im=0; im<init.length; im++)\n\t\t\t    ini[im] = init[im];\n\t\t\tini[i]=pet;\n\t\t\tkowasu(ini,1);\n\t\t\tminloc=0;\n\t\t\tfor(int kk=0; kk<je; kk++)\n\t\t\t    if(ini[kk]!=-1)\n\t\t\t\tminloc++;\n\t\t\tif(minloc<min)\n\t\t\t    min=minloc;\n\t\t    }\n\t\t}\n\t\tarray.add(min);\n\t    }while(true);\n\n\t    for(int u=0; u<array.size(); u++)\n\t\tSystem.out.println(array.get(u));\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = Integer.MAX_VALUE;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tif(i != 0 && i != n-1) {\n\t\t\t\t\tif(list[i-1] == list[i] && list[i] == list[i+1]) continue;\n\t\t\t\t}\n\t\t\t\tint pre = list[i];\n\t\t\t\tfor (int j = 1; j <= 3; j++) {\n\t\t\t\t\tif (pre == j) continue;\n\t\t\t\t\tlist[i] = j;\n\t\t\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\t\t\tint color = list[k];\n\t\t\t\t\t\tif (k == 0)\n\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\tboolean check = false;\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tcheck = true;\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t}\n\t\t\t\tlist[i] = pre;\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\n\t}\n\n\n\n\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\n\n\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main{\n    static void kowasu(int[] ini, int flag){\n\tint apa=1, minus=0, oke=ini[0];\n\t\n\tflag=0;\n\tfor(int i=1; i<ini.length; i++){\n\t    if(ini[i]==-1)\n\t\t;\n\t    else if(ini[i] == oke)\n\t\tapa++;\n\t    else if(ini[i] != oke){\n\t\toke=ini[i];\n\t\tif(apa>=4){\n\t\t    for(int m=minus; m<i; m++)\n\t\t\tini[m]=-1;\n\t\t    flag=1;\n\t\t}\n\t\tminus=i;\n\t\tapa = 1;\n\t    }\n\t}\n\t\n\tif(flag==1)\n\t    kowasu(ini,flag);\n\t\n    }\n    \n    public static void main(String[] args){\n\ttry{\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t    ArrayList<Integer> array = new ArrayList<Integer>();\n\t    \n\t    do{\n\t\tint min, minloc, je = Integer.valueOf(br.readLine());\n\t\tint[] init = new int[je];\n\t\t\n\t\tmin = je;\n\t\tif(je==0)\n\t\t    break;\n\t\tfor(int i=0; i<je; i++)\n\t\t    init[i] = Integer.valueOf(br.readLine());\n\t\t\n\t\tfor(int i=0; i<je; i++){\n\t\t    for(int pet=1; pet<4; pet++){\n\t\t\tint[] ini = init.clone();\n\t\t\tini[i]=pet;\n\t\t\tkowasu(ini,1);\n\t\t\tminloc=0;\n\t\t\tfor(int kk=0; kk<je; kk++)\n\t\t\t    if(ini[kk]!=-1)\n\t\t\t\tminloc++;\n\t\t\tif(minloc<min)\n\t\t\t    min=minloc;\n\t\t    }\n\t\t}\n\t\tarray.add(min);\n\t    }while(true);\n\n\t    for(int u=0; u<array.size(); u++)\n\t\tSystem.out.println(array.get(u));\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = n;\n\t\t\tArrayList<Data> al = new ArrayList<Data>();\n\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\tint color = list[k];\n\t\t\t\tif (k == 0)\n\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\telse {\n\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tal.addAll(queue);\n\t\t\tqueue.clear();\n\t\t\tfor(int i = 0; i < al.size(); i++) {\n\t\t\t\tif(i != al.size()-1 && 1 + al.get(i+1).count >= 4) {\n\t\t\t\t\tal.get(i+1).count++;\n\t\t\t\t\tal.get(i).count--;\n\t\t\t\t\tqueue.addAll(al);\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) {\n\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).count++;\n\t\t\t\t\tal.get(i+1).count--;\n\t\t\t\t}\n\t\t\t\tif(i != 0 && 1 + al.get(i-1).count >= 4) {\n\t\t\t\t\tal.get(i-1).count++;\n\t\t\t\t\tal.get(i).count--;\n\t\t\t\t\tqueue.addAll(al);\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) {\n\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).count++;\n\t\t\t\t\tal.get(i-1).count--;\n\t\t\t\t}\n\t\t\t\telse if(i != 0 && i != al.size()-1 && al.get(i).count == 1 && al.get(i-1).color == al.get(i+1).color && al.get(i-1).count + al.get(i+1).count + 1 >= 4) {\n\t\t\t\t\tint pre = al.get(i).color;\n\t\t\t\t\tal.get(i).color = al.get(i-1).color;\n\t\t\t\t\tqueue.addAll(al);\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) {\n\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (queue2.isEmpty()) {\n\t\t\t\t\t\t\tif (queue.peekLast().count >= 4) {\n\t\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tsum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).color = pre;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\n\t}\n\n\n\n\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\n\n\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.io.IOException;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws IOException {\n\n\t\tnew Main().run();\n\t}\n\n\tprivate void run() throws IOException {\n\t\tScanner scanner = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = scanner.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tint[] a = new int[n];\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\ta[i] = scanner.nextInt();\n\n\t\t\tint ans = n;\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tfor (int j = 1; j < 4; j++) {\n\t\t\t\t\tif (a[i] == j)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tint tmp = a[i];\n\t\t\t\t\ta[i] = j;\n\t\t\t\t\tint l = i;\n\t\t\t\t\tint r = i;\n\t\t\t\t\tint cnt = 0;\n\t\t\t\t\twhile (0 <= l) {\n\t\t\t\t\t\tint cc = a[l];\n\t\t\t\t\t\twhile (l > 0 && cc == a[l - 1])\n\t\t\t\t\t\t\tl--;\n\t\t\t\t\t\twhile (r < n - 1 && cc == a[r + 1])\n\t\t\t\t\t\t\tr++;\n\t\t\t\t\t\tif (r - l - cnt < 3)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcnt = r - l + 1;\n\t\t\t\t\t\tl--;\n\t\t\t\t\t}\n\t\t\t\t\ta[i] = tmp;\n\t\t\t\t\tans = Math.min(ans, n - cnt);\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(ans);\n\t\t}\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main{\n\tpublic static void main(String[] args){\n\t\tScanner sc = new Scanner(System.in);\n\n\t\twhile(true){\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\n\t\t\tLinkedList<Integer> t = new LinkedList<Integer>();\n\t\t\tfor(int i=0;i<n;i++) t.add(sc.nextInt());\n\n\t\t\tint ans = Integer.MAX_VALUE;\n\t\t\tfor(int i=1;i<t.size();i++){\n\t\t\t\tint top = 1;\n\t\t\t\tint bottom = i<t.size()-1 ? 1 : 0;\n\n\t\t\t\tfor(int j=i-2;j>=0 && t.get(j) == t.get(j+1);j--,top++);\n\t\t\t\tfor(int j=i+2;j<t.size() && t.get(j) == t.get(j-1);j++,bottom++);\n\n\t\t\t\tif(top == 3){\n\t\t\t\t\tans = Math.min(ans,solve(n,t,i,t.get(i-1)));\n\t\t\t\t}\n\t\t\t\tif(i+1 < t.size() &&\n\t\t\t\t\t (bottom == 3 && t.get(i-1) != t.get(i+1) ||\n\t\t\t\t\t\ttop + bottom >= 3 && t.get(i-1) == t.get(i+1))){\n\t\t\t\t\tans = Math.min(ans,solve(n,t,i,t.get(i+1)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tSystem.out.println(ans == Integer.MAX_VALUE ? n : ans);\n\t\t}\n\t}\n\n\tprivate static int solve(int n,LinkedList<Integer> tt,int pos,int col){\n\t\tint res = n;\n\t\tLinkedList<Integer> t = new LinkedList<Integer>(tt);\n\t\tt.set(pos,col);\n\n\t\twhile(pos < t.size() && t.get(pos) == col){\n\t\t\tt.remove(pos);\n\t\t\tres--;\n\t\t}\n\t\twhile(--pos >= 0 && t.get(pos) == col){\n\t\t\tt.remove(pos);\n\t\t\tres--;\n\t\t}\n\n\t\twhile(t.size() >= 4){\n\t\t\tif(pos < 0) break;\n\n\t\t\tint top = 0;\n\t\t\tint bottom = 0;\n\n\t\t\tfor(int j=pos-1;j>=0 && t.get(j) == t.get(j+1);j--,top++);\n\t\t\tfor(int j=pos+1;j<t.size() && t.get(j) == t.get(j-1);j++,bottom++);\n\t\t\tif(top + bottom + 1 < 4) break;\n\n\t\t\tcol = t.get(pos);\n\t\t\twhile(pos < t.size() && t.get(pos) == col){\n\t\t\t\tt.remove(pos);\n\t\t\t\tres--;\n\t\t\t}\n\t\t\twhile(--pos >= 0 && t.get(pos) == col){\n\t\t\t\tt.remove(pos);\n\t\t\t\tres--;\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "\nimport java.util.*;\n\nimport static java.lang.Math.*;\nimport static java.util.Arrays.*;\n\npublic class Main {\n\n\tint INF = 1 << 28;\n\n\tvoid run() {\n\t\tScanner sc = new Scanner(System.in);\n\t\tfor(;;) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif( n == 0 ) break;\n\t\t\t\n\t\t\tStringBuilder sb = new StringBuilder();\n\t\t\tfor (int i = 0; i < n; i++) sb.append(sc.nextInt());\n\t\t\t\n\t\t\tdebug(sb);\n\t\t\tint min = n;\n\t\t\tfor(int i=0;i<sb.length();i++) for(int c=1;c<=3;c++){\n\t\t\t\tStringBuilder tmp = new StringBuilder(sb.substring(0, i) + c + sb.substring(i+1));\n\t\t\t\tdebug(tmp);\n\t\t\t\tint l = i, r = i, cnt = 0;\n\t\t\t\twhile(l>=0) {\n\t\t\t\t\tint cc = tmp.charAt(l) - '0';\n\t\t\t\t\twhile( l > 0 && cc == ( tmp.charAt(l-1) - '0') ) l--;\n\t\t\t\t\twhile( r < sb.length()-1 && cc == ( tmp.charAt(r+1) - '0' )) r++;\n\t\t\t\t\tdebug(l, r, r-l-cnt+1);\n\t\t\t\t\tif( r-l-cnt+1 < 4 ) break;\n\t\t\t\t\tcnt += r-l-cnt+1;\n\t\t\t\t\tl--;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tmin = min(sb.length() - cnt, min);\n\t\t\t}\n\t\t\t\n\t\t\tSystem.out.println(min);\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) {\n\t\tnew Main().run();\n\t}\n\n\tvoid debug(Object... os) {\n//\t\tSystem.err.println(Arrays.deepToString(os));\n\t}\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String[] args) throws FileNotFoundException {\n\n\t\tScanner scan = new Scanner(System.in);\n\t\t// Scanner scan = new Scanner(new\n\t\t// File(\"D:\\\\UserArea\\\\J0124567\\\\Downloads\\\\0534-input.txt\"));\n\n\t\twhile (scan.hasNext()) {\n\n\t\t\tint n = scan.nextInt();\n\t\t\tif (n == 0)\n\t\t\t\tbreak;\n\t\t\tChs chs = new Chs(n);\n\t\t\tfor (int i = 0; i < n; i++)\n\t\t\t\tchs.add(scan.nextInt());\n\t\t\tSystem.out.println(chs.rem());\n\t\t}\n\n\t\tscan.close();\n\t\tSystem.exit(0);\n\n\t}\n}\n\nclass Chs {\n\tpublic Chs(int n) {\n\t\tcol = new int[n + 1];\n\t\trep = new int[n + 1];\n\t\tN = n;\n\t}\n\n\tpublic int rem() {\n\t\t// this.print();\n\n\t\tint max = 0;\n\t\tfor (int i = 1; i <= last; i++) {\n\t\t\tint x = this.erase(i);\n\t\t\tif (x > max)\n\t\t\t\tmax = x;\n\t\t}\n\t\treturn N - max;\n\t}\n\n\tprivate void print() {\n\t\tfor (int i = 1; col[i] > 0; i++)\n\t\t\tSystem.out.println(i + \": Col \" + col[i] + \" Rep \" + rep[i]);\n\t}\n\n\tprivate int erase(int i) {\n\t\tint max = 0;\n\t\tif (rep[i] == 1) {\n\t\t\tif (col[i - 1] == col[i + 1] && rep[i - 1] + rep[i + 1] >= 3) {\n\t\t\t\tint x = rep[i - 1] + rep[i + 1] + 1 + this.next(i - 2, i + 2);\n\t\t\t\tif (x > max)\n\t\t\t\t\tmax = x;\n\t\t\t} else {\n\t\t\t\tif (rep[i - 1] >= 3) {\n\t\t\t\t\tint x = rep[i - 1] + 1 + this.next(i - 2, i + 1);\n\t\t\t\t\tif (x > max)\n\t\t\t\t\t\tmax = x;\n\t\t\t\t}\n\t\t\t\tif (rep[i + 1] >= 3) {\n\t\t\t\t\tint x = rep[i + 1] + 1 + this.next(i - 1, i + 2);\n\t\t\t\t\tif (x > max)\n\t\t\t\t\t\tmax = x;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (rep[i - 1] >= 3) {\n\t\t\t\tint x = rep[i - 1] + 1;\n\t\t\t\trep[i]--;\n\t\t\t\tx += this.next(i - 2, i);\n\t\t\t\trep[i]++;\n\t\t\t\tif (x > max)\n\t\t\t\t\tmax = x;\n\t\t\t}\n\t\t\tif (rep[i + 1] >= 3) {\n\t\t\t\t// System.out.print(i+\" \");\n\t\t\t\tint x = rep[i + 1] + 1;\n\t\t\t\trep[i]--;\n\t\t\t\tx += this.next(i, i + 2);\n\t\t\t\trep[i]++;\n\t\t\t\tif (x > max)\n\t\t\t\t\tmax = x;\n\t\t\t}\n\t\t}\n\t\treturn max;\n\t}\n\n\tprivate int next(int low, int hi) {\n\t\tint x = 0;\n\t\tfor (int i = 0; col[low - i] == col[hi + i] && col[low - i] > 0; i++)\n\t\t\tif (rep[low - i] + rep[hi + i] >= 4)\n\t\t\t\tx += rep[low - i] + rep[hi + i];\n\t\treturn x;\n\t}\n\n\tpublic void add(int c) {\n\t\tif (col[last] == 0 || col[last] == c) {\n\t\t\tcol[last] = c;\n\t\t\trep[last]++;\n\t\t} else {\n\t\t\tcol[++last] = c;\n\t\t\trep[last]++;\n\t\t}\n\t}\n\n\tint last = 1;\n\tint[] col;\n\tint[] rep;\n\tint N;\n}"
  },
  {
    "language": "Java",
    "code": "import java.io.*;\nimport java.util.*;\n\nclass Main{\n    public static void main(String[] args){\n\ttry{\n\t    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\t    ArrayList<Integer> array = new ArrayList<Integer>();\n\t    int min, minloc, je, i, pet;\n\t    int apa, minus, flag, oke, ip, kk, u;\n\t    \n\t    do{\n\t\tje = Integer.valueOf(br.readLine());\n\t\tint[] init = new int[je];\n\t\t\n\t\tmin = je;\n\t\tif(je==0)\n\t\t    break;\n\t\tfor(i=0; i<je; i++)\n\t\t    init[i] = Integer.valueOf(br.readLine());\n\t\t\n\t\tfor(i=0; i<je; i++){\n\t\t    for(pet=1; pet<4; pet++){\n\t\t\tint[] ini = init.clone();\n\t\t\tini[i]=pet;\n\t\t\toke=ini[0];\n\t\t\tflag=1; minus=0; apa=1;\n\t\t\twhile(flag==1){\n\t\t\t    flag=0;\n\t\t\t    for(ip=1; ip<ini.length; ip++){\n\t\t\t\tif(ini[ip]==-1)\n\t\t\t\t    ;\n\t\t\t\telse if(ini[ip] == oke)\n\t\t\t\t    apa++;\n\t\t\t\telse if(ini[ip] != oke){\n\t\t\t\t    oke=ini[ip];\n\t\t\t\t    if(apa>=4){\n\t\t\t\t\tfor(int m=minus; m<ip; m++)\n\t\t\t\t\t    ini[m]=-1;\n\t\t\t\t\tflag=1;\n\t\t\t\t    }\n\t\t\t\t    minus=ip;\n\t\t\t\t    apa = 1;\n\t\t\t\t}\n\t\t\t    }\n\t\t\t}\n\t\t\t\n\t\t\tminloc=0;\n\t\t\tfor(kk=0; kk<je; kk++)\n\t\t\t    if(ini[kk]!=-1)\n\t\t\t\tminloc++;\n\t\t\tif(minloc<min)\n\t\t\t    min=minloc;\n\t\t    }\n\t\t}\n\t\tarray.add(min);\n\t    }while(true);\n\t    \n\t    for(u=0; u<array.size(); u++)\n\t\tSystem.out.println(array.get(u));\n\t}catch(Exception e){\n\t    System.out.println(\"Error\");\n\t}\n    }\n}"
  },
  {
    "language": "Java",
    "code": "import java.util.*;\n\npublic class Main {\n\n\tpublic static void main(String[] args) {\n\t\tScanner sc = new Scanner(System.in);\n\t\twhile (true) {\n\t\t\tint n = sc.nextInt();\n\t\t\tif(n == 0) break;\n\t\t\tint[] list = new int[n];\n\t\t\tfor (int i = 0; i < n; i++) {\n\t\t\t\tlist[i] = sc.nextInt();\n\t\t\t}\n\t\t\tint min = n;\n\t\t\tArrayList<Data> al = new ArrayList<Data>();\n\t\t\tArrayDeque<Data> queue = new ArrayDeque<Data>();\n\t\t\tfor (int k = 0; k < n; k++) {\n\t\t\t\tint color = list[k];\n\t\t\t\tif (k == 0)\n\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\telse {\n\t\t\t\t\tif (queue.peekFirst().color == color) {\n\t\t\t\t\t\tData tmp = queue.pollFirst();\n\t\t\t\t\t\ttmp.count++;\n\t\t\t\t\t\tqueue.addFirst(tmp);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tqueue.addFirst(new Data(color, 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tal.addAll(queue);\n\t\t\tCollections.reverse(al);\n\t\t\tqueue.clear();\n\t\t\t\n\t\t\tfor(int i = 0; i < al.size(); i++) {\n\t\t\t\tif(i != al.size()-1 && 1 + al.get(i+1).count >= 4) {\n\t\t\t\t\tal.get(i+1).count++;\n\t\t\t\t\tal.get(i).count--;\n\t\t\t\t\tfor(int j = 0; j < al.size(); j++) {\n\t\t\t\t\t\tqueue.add(new Data(al.get(j).color,al.get(j).count));\n\t\t\t\t\t}\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) {\n\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (queue2.isEmpty()) {\n\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tif(queue2.peekLast().count >= 4) queue2.pollLast();\n\t\t\t\t\t\telse sum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).count++;\n\t\t\t\t\tal.get(i+1).count--;\n\t\t\t\t}\n\t\t\t\tif(i != 0 && 1 + al.get(i-1).count >= 4) {\n\t\t\t\t\tal.get(i-1).count++;\n\t\t\t\t\tal.get(i).count--;\n\t\t\t\t\tfor(int j = 0; j < al.size(); j++) {\n\t\t\t\t\t\tqueue.add(new Data(al.get(j).color,al.get(j).count));\n\t\t\t\t\t}\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) {\n\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (queue2.isEmpty()) {\n\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tif(queue2.peekLast().count >= 4) queue2.pollLast();\n\t\t\t\t\t\telse sum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).count++;\n\t\t\t\t\tal.get(i-1).count--;\n\t\t\t\t}\n\t\t\t\tif(i != 0 && i != al.size()-1 && al.get(i).count == 1 && al.get(i-1).color == al.get(i+1).color && al.get(i-1).count + al.get(i+1).count + 1 >= 4) {\n\t\t\t\t\tint pre = al.get(i).color;\n\t\t\t\t\tal.get(i).color = al.get(i-1).color;\n\t\t\t\t\tfor(int j = 0; j < al.size(); j++) {\n\t\t\t\t\t\tqueue.add(new Data(al.get(j).color,al.get(j).count));\n\t\t\t\t\t}\n\t\t\t\t\t//\n\t\t\t\t\tArrayDeque<Data> queue2 = new ArrayDeque<Data>();\n\t\t\t\t\twhile (!queue.isEmpty()) {\n\t\t\t\t\t\tif(queue.peekLast().count == 0) {\n\t\t\t\t\t\t\tqueue.pollLast();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (queue2.isEmpty()) {\n\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tif (queue.peekLast().color == queue2.peekFirst().color) {\n\t\t\t\t\t\t\t\tData tmp = queue2.pollFirst();\n\t\t\t\t\t\t\t\ttmp.count += queue.pollLast().count;\n\t\t\t\t\t\t\t\tqueue2.addFirst(tmp);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\telse if (queue2.peekFirst().count >= 4) {\n\t\t\t\t\t\t\t\tqueue2.pollFirst();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tqueue2.addFirst(queue.pollLast());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tint sum = 0;\n\t\t\t\t\twhile (!queue2.isEmpty()) {\n\t\t\t\t\t\tif(queue2.peekLast().count >= 4) queue2.pollLast();\n\t\t\t\t\t\telse sum += queue2.pollLast().count;\n\t\t\t\t\t}\n\t\t\t\t\tmin = Math.min(min, sum);\n\t\t\t\t\t//\n\t\t\t\t\tqueue.clear();\n\t\t\t\t\tal.get(i).color = pre;\n\t\t\t\t}\n\t\t\t}\n\t\t\tSystem.out.println(min);\n\t\t}\n\n\t}\n\n\n\n\n\tstatic class Data {\n\t\tint color;\n\t\tint count;\n\t\tData(int a, int b) {\n\t\t\tcolor = a;\n\t\t\tcount = b;\n\t\t}\n\t}\n\n\n\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Globalization;\nusing System.IO;\n\nnamespace AOJ2\n{\n    class Program\n    {\n\n        private static StreamScanner sc = new StreamScanner(Console.OpenStandardInput());\n        static void Main()\n        {\n            while (true)\n            {\n                var n = int.Parse(sc.Scan());\n                var minNum = n;\n                if (n == 0) break;\n                var data = new int[n];\n                for (int i = 0; i < n; i++)\n                {\n                    data[i] = int.Parse(sc.Scan());\n                }\n\n                for (int i = 0; i < n; i++)\n                {\n                    // ??£????????????????????????\n                    if (i > 0 && data[i] != data[i - 1])\n                    {\n                        var datac = (int[])data.Clone();\n                        datac[i] = data[i - 1];\n                        var first = Solve(datac.ToList());\n                        if (minNum > first) minNum = first;\n                    }\n                    if (i < n - 1 && data[i] != data[i + 1])\n                    {\n                        var datac = (int[])data.Clone();\n                        datac[i] = datac[i + 1];\n                        var second = Solve(datac.ToList());\n                        if (minNum > second) minNum = second;\n                    }\n                }\n\n                Console.WriteLine(minNum);\n\n            }\n        }\n        private static int Solve(List<int> data)\n        {\n            var before = 0;\n            var start = 0;\n            var end = 0;\n            data.Add(0);\n            for (int i = 0; i < data.Count; i++)\n            {\n                if (before == data[i])\n                {\n                    end = i;\n                }\n                else\n                {\n                    if (end - start + 1 > 3)\n                    {\n                        data.RemoveRange(start, end - start + 1);\n                        return Solve(data);\n                    }\n                    else\n                    {\n                        before = data[i];\n                        start = i;\n                        end = i;\n                    }\n                }\n            }\n            return data.Count - 1;\n        }\n    }\n\n    public class StreamScanner\n    {\n        public StreamScanner(Stream stream) { str = stream; }\n        private readonly Stream str;\n        private readonly byte[] buf = new byte[1024];\n        private int len, ptr;\n        private byte read()\n        {\n            if (ptr >= len)\n            {\n                ptr = 0;\n                if ((len = str.Read(buf, 0, 1024)) <= 0)\n                {\n                    return 0;\n                }\n            }\n            return buf[ptr++];\n        }\n        public char Char()\n        {\n            byte b = 0;\n            do b = read();\n            while (b < 33 || 126 < b);\n            return (char)b;\n        }\n        public string Scan()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b >= 33 && b <= 126; b = (char)read())\n                sb.Append(b);\n            return sb.ToString();\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Globalization;\nusing System.IO;\n\nnamespace AOJ2\n{\n    class Program\n    {\n\n        private static StreamScanner sc = new StreamScanner(Console.OpenStandardInput());\n        static void Main()\n        {\n            while (true)\n            {\n                var n = int.Parse(sc.Scan());\n                var minNum = n;\n                if (n == 0) break;\n                var data = new int[n];\n                for (int i = 0; i < n; i++)\n                {\n                    data[i] = int.Parse(sc.Scan());\n                }\n                var flg = false;\n                for (int i = 1; i < n; i++)\n                {\n                    if (i + 3 > n - 1)\n                    {\n                        i = n - 5;\n                        flg = true;\n                    }\n                    if (data[i + 1] == data[i + 2] && data[i + 1] == data[i + 3])\n                    {\n                        var datac = (int[])data.Clone();\n                        datac[i] = data[i + 1];\n                        minNum = Check(minNum, datac);\n                    }\n                    else if (data[i] == data[i + 2] && data[i] == data[i + 3])\n                    {\n                        var datac = (int[])data.Clone();\n                        datac[i + 1] = data[i];\n                        minNum = Check(minNum, datac);\n                        i += 1;\n                    }\n                    else if (data[i] == data[i + 1] && data[i] == data[i + 3])\n                    {\n                        var datac = (int[])data.Clone();\n                        datac[i + 2] = data[i];\n                        minNum = Check(minNum, datac);\n                        i += 1;\n                    }\n                    else if (data[i] == data[i + 1] && data[i] == data[i + 2])\n                    {\n                        var datac = (int[])data.Clone();\n                        datac[i + 3] = data[i];\n                        minNum = Check(minNum, datac);\n                        i += 2;\n                    }\n                    if (flg) break;\n\n                }\n\n                Console.WriteLine(minNum);\n\n            }\n        }\n\n        private static int Check(int minNum, int[] data)\n        {\n            var ans = Solve(data.ToList());\n            return minNum > ans ? ans : minNum;\n        }\n        private static int Solve(List<int> data)\n        {\n            var before = 0;\n            var start = 0;\n            var end = 0;\n            for (int i = 0; i < data.Count; i++)\n            {\n                if (before == data[i])\n                {\n                    end = i;\n                    if (i == data.Count - 1 && end - start + 1 > 3)\n                    {\n                        data.RemoveRange(start, end - start + 1);\n                        return Solve(data);\n                    }\n                }\n                else\n                {\n                    if (end - start + 1 > 3)\n                    {\n                        data.RemoveRange(start, end - start + 1);\n                        return Solve(data);\n                    }\n                    else\n                    {\n                        before = data[i];\n                        start = i;\n                        end = i;\n                    }\n                }\n            }\n            return data.Count;\n        }\n    }\n\n    public class StreamScanner\n    {\n        public StreamScanner(Stream stream) { str = stream; }\n        private readonly Stream str;\n        private readonly byte[] buf = new byte[1024];\n        private int len, ptr;\n        private byte read()\n        {\n            if (ptr >= len)\n            {\n                ptr = 0;\n                if ((len = str.Read(buf, 0, 1024)) <= 0)\n                {\n                    return 0;\n                }\n            }\n            return buf[ptr++];\n        }\n        public char Char()\n        {\n            byte b = 0;\n            do b = read();\n            while (b < 33 || 126 < b);\n            return (char)b;\n        }\n        public string Scan()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b >= 33 && b <= 126; b = (char)read())\n                sb.Append(b);\n            return sb.ToString();\n        }\n    }\n}"
  },
  {
    "language": "C#",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Globalization;\nusing System.IO;\n\nnamespace AOJ2\n{\n    class Program\n    {\n        \n        private static StreamScanner sc = new StreamScanner(Console.OpenStandardInput());\n        static void Main()\n        {\n            while (true)\n            {\n                var n = int.Parse(sc.Scan());\n                var minNum = n;\n                if (n == 0) break;\n                var data = new int[n];\n                for (int i = 0; i < n; i++)\n                {\n                    data[i]=int.Parse(sc.Scan());\n                }\n\n                for (int i = 0; i < n; i++)\n                {\n                    var datac = (int[])data.Clone();\n                    datac[i] = datac[i] == 3 ? 1 : datac[i] + 1;\n                    var first = Solve(datac.ToList());\n                    if (minNum > first) minNum = first;\n                    datac[i] = datac[i] == 3 ? 1 : datac[i] + 1;\n                    var second = Solve(datac.ToList());\n                    if (minNum > second) minNum = second;\n                }\n                \n                Console.WriteLine(minNum);\n\n            }\n        }\n        private static int Solve(List<int> data)\n        {\n            var before = 0;\n            var start = 0;\n            var end = 0;\n            for (int i = 0; i < data.Count; i++)\n            {\n                if (before == data[i])\n                {\n                    end = i;\n                }\n                else\n                {\n                    if (end - start + 1 > 3)\n                    {\n                        data.RemoveRange(start, end - start + 1);\n                        return Solve(data);\n                    }\n                    else\n                    {\n                        before = data[i];\n                        start = i;\n                        end = i;\n                    }\n                }\n            }\n            return data.Count;\n        }\n    }\n\n    public class StreamScanner\n    {\n        public StreamScanner(Stream stream) { str = stream; }\n        private readonly Stream str;\n        private readonly byte[] buf = new byte[1024];\n        private int len, ptr;\n        private byte read()\n        {\n            if (ptr >= len)\n            {\n                ptr = 0;\n                if ((len = str.Read(buf, 0, 1024)) <= 0)\n                {\n                    return 0;\n                }\n            }\n            return buf[ptr++];\n        }\n        public char Char()\n        {\n            byte b = 0;\n            do b = read();\n            while (b < 33 || 126 < b);\n            return (char)b;\n        }\n        public string Scan()\n        {\n            var sb = new StringBuilder();\n            for (var b = Char(); b >= 33 && b <= 126; b = (char)read())\n                sb.Append(b);\n            return sb.ToString();\n        }\n    }\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   var L=0;\n   while(L!=x.length){\n      L=x.length;\n      x=x.replace(/1111+|2222+|3333+/,\"\");\n   }\n   if(min>x.length)min=x.length;\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0)break;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   var str=arr.join(\"\");\n   for(var i=0;i<N;i++){\n      if(i<N)bomb(str.slice(0,i)+arr[i+1]+str.slice(i+1,str.length));\n      if(i>0)bomb(str.slice(0,i)+arr[i-1]+str.slice(i+1,str.length));\n   }\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   var L=0;\n   while(L!=x.length){\n      L=x.length;\n      x=x.replace(/1{4,}|2{4,}|3{4,}/,\"\");\n   }\n   min=Math.min(min,x.length);\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0)break;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   var str=arr.join(\"\");\n   for(var i=0;i<N;i++){\n      var A=arr.slice();\n      var B=arr.slice();\n      if(i<N-1)A[i]=A[i+1];\n      if(i>0)B[i]=B[i-1];\n      bomb(A.join(\"\"));\n      bomb(B.join(\"\"));\n   }\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   var str=\"\";\n   for(var i=0;i<x.length;i++){\n      str+=x[i];\n   }\n   x=str;\n   var L=0;\n   while(L!=x.length){\n      L=x.length;\n      x=x.replace(/1111+|2222+|3333+/,\"\");\n   }\n   min=Math.min(min,x.length);\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nvar I=0;\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0 || I==4)break;\n   I++;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   for(var i=0;i<N;i++){\n      var memo=arr[i];\n      if(i<N-1)arr[i]=arr[i+1];\n      bomb(arr);\n      if(i>0)arr[i]=arr[i-1];\n      bomb(arr);\n      arr[i]=memo;\n   }\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   var str=\"\";\n   for(var i=0;i<x.length;i++){\n      str+=x[i];\n   }\n   var L=0;\n   while(L!=str.length){\n      L=str.length;\n      str=str.replace(/1111+|2222+|3333+/,\"\");\n   }\n   min=Math.min(min,str.length);\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0)break;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   for(var i=0;i<N;i++){\n      var memo=arr[i];\n      if(i<N-1){\n         arr[i]=arr[i+1];\n         bomb(arr);\n      }\n      if(i>0){\n         arr[i]=arr[i-1];\n         bomb(arr);\n      }\n      arr[i]=memo;\n   }\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   var s=\"\";\n   var xLength=x.length;\n   for(var i=0;i<xLength;i++)s+=x[i];\n   var L=0;\n   while(L!=s.length){\n      L=s.length;\n      s=s.replace(/1111+|2222+|3333+/,\"\");\n   }\n   if(min>s.length)min=s.length;\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0)break;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   for(var i=0;i<N;i++){\n      var memo=arr[i];\n      if(i<N-1){\n         arr[i]=arr[i+1];\n         bomb(arr);\n      }\n      if(i>0){\n         arr[i]=arr[i-1];\n         bomb(arr);\n      }\n      arr[i]=memo;\n   }\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   while(/1{4,}|2{4,}|3{4,}/.test(x)){\n      x=x.replace(/1{4,}|2{4,}|3{4,}/g,\"\");\n   }\n   min=Math.min(min,x.length);\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0)break;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   var str=arr.join(\"\");\n   for(var i=0;i<N;i++){\n      var A=arr.slice();\n      var B=arr.slice();\n      if(i<N-1)A[i]=A[i+1];\n      if(i>0)B[i]=B[i-1];\n      bomb(A.join(\"\"));\n      bomb(B.join(\"\"));\n   }\n   console.log(min);\n}"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   while(/1{4,}|2{4,}|3{4,}/.test(x)){\n      x=x.replace(/1{4,}|2{4,}|3{4,}/g,\"\");\n   }\n   min=Math.min(min,x.length);\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nvar N=Arr.shift()-0;\nvar arr=[];\nfor(var i=0;i<N;i++){\n   var v=Arr.shift()-0;\n   arr.push(v);\n}\nvar min=Infinity;\nvar str=arr.join(\"\");\nfor(var i=0;i<N;i++){\n   var A=arr.slice();\n   var B=arr.slice();\n   if(i<N-1)A[i]=A[i+1];\n   if(i>0)B[i]=B[i-1];\n   bomb(A.join(\"\"));\n   bomb(B.join(\"\"));\n}\nconsole.log(min);"
  },
  {
    "language": "JavaScript",
    "code": "function bomb(x){\n   var L=0;\n   while(L!=x.length){\n      L=x.length;\n      x=x.replace(/1{4,}|2{4,}|3{4,}/g,\"\");\n   }\n   min=Math.min(min,x.length);\n}\nvar input = require('fs').readFileSync('/dev/stdin', 'utf8');\nvar Arr=(input.trim()).split(\"\\n\");\nwhile(true){\n   var N=Arr.shift()-0;\n   if(N==0)break;\n   var arr=[];\n   for(var i=0;i<N;i++){\n      var v=Arr.shift()-0;\n      arr.push(v);\n   }\n   var min=Infinity;\n   var str=arr.join(\"\");\n   for(var i=0;i<N;i++){\n      var A=arr.slice();\n      var B=arr.slice();\n      if(i<N-1)A[i]=A[i+1];\n      if(i>0)B[i]=B[i-1];\n      bomb(A.join(\"\"));\n      bomb(B.join(\"\"));\n   }\n   console.log(min);\n}"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 1]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n\n    if _count[idx]!=1\n      if shift<0\n      else\n        _chain.insert(idx+1, color)\n        _count.insert(idx+1, 1)\n      end\n    end\n\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1\n      if count[i-1]>2\n        queue<<[i, chain[i-1]]\n      elsif count[i+1]>2\n        queue<<[i, chain[i+1]]\n      elsif chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n        queue<<[i, chain[i-1]]\n      end\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color=queue.shift\n    _chain[idx]=color\n\n    if _chain[idx-1]==_chain[idx]\n      idx-=1\n    end\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx]==_chain[idx-1]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count.map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 0]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n\n    if _count[idx]!=1\n      if shift<0\n        _chain.insert(idx, color)\n        _count.insert(idx, 1)\n      else\n        _chain.insert(idx+1, color)\n        _count.insert(idx+1, 1)\n      end\n    end\n\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "## subroutines\n\ndef erase(as, k)\n  da = as[k]\n  k0 = k - 1\n  k1 = k + 1\n\n  er = 0\n  seq = 1\n\n  loop do\n    while as[k0] == da\n      k0 -= 1\n      seq += 1\n    end\n    while as[k1] == da\n      k1 += 1\n      seq += 1\n    end\n\n    return er if seq < 4\n\n    er += seq\n    seq = 0\n\n    return er if as[k0] != as[k1] || k0 <= 0 || k1 > as.length\n\n    da = as[k0]\n  end\nend\n\n### main\n\nloop do\n  n = gets.strip.to_i\n  break if n == 0\n\n  as = n.times.map{gets.strip.to_i}\n  nas = as.length\n  as.unshift 0\n  as.push 0\n  #p as\n\n  max_er = 0\n\n  for k in (1..nas)\n    ak = as[k]\n    for i in (0..1)\n      as[k] = (ak + i) % 3 + 1\n      er = erase(as, k)\n      max_er = er if max_er < er\n    end\n\n    as[k] = ak\n  end\n\n  puts (n - max_er)\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1]]\n    end\n  end\n\n  min=n+1\n  while !queue.empty?\n    _chain=chain.dup\n    _count=count.dup\n    idx, color=queue.shift\n    _chain[idx]=color\n    idx-=1\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx]==_chain[idx-1]\n        idx-=1\n      end\n    end\n    sum=0\n    _count.each do |c|\n      sum+=c\n    end\n    if sum<min\n      min=sum\n    end\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 0]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "\nclass P\n  attr_accessor :color, :size\n  def initialize(color=0, size=0)\n    @color = color\n    @size  = size\n  end\nend\n\n# [Pair] -> [Pair]\ndef compless1(v)\n  res = [v[0]]\n\n  v[1..(-1)].each do |e|\n    if e.color == res[-1].color\n      res[-1].size += e.size\n    else\n      res << e\n    end\n  end\n\n  res\nend\n\n# [Int] -> [Pair]\ndef compless2(v)\n  res = []\n\n  v.each{ |e| res << P.new(e, 1) }\n\n  compless1(res)\nend\n\n\n\n# main\nwhile (n = gets.chomp.to_i) != 0\n  chain = []\n  n.times { chain << gets.chomp.to_i }\n\n  best = 0\n  n.times do |i|\n    1.upto(3) do |color|\n      buf = chain.dup\n      buf[i] = color\n      v = compless2(buf)\n\n      cnt = 0\n      loop do\n        v = compless1(v)\n\n        nv = v.reject{ |e| e.size >= 4 }\n\n        break if v == nv\n        cnt += v.inject(0) { |acc, e| acc + (e.size >= 4 ? e.size : 0) }\n        v = nv\n      end\n\n      best = [best, cnt].max\n    end\n  end\n\n  puts (n - best)\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 1]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n\n    if _count[idx]!=1\n      if shift>0\n        _chain.insert(idx, color)\n      else\n        _count.insert(idx+1, 1)\n      end\n    end\n\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1\n      if count[i-1]>2\n        queue<<[i, chain[i-1]]\n      elsif count[i+1]>2\n        queue<<[i, chain[i+1]]\n      elsif chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n        queue<<[i, chain[i-1]]\n      end\n    end\n  end\n\n  p queue\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color=queue.shift\n    _chain[idx]=color\n\n    if _chain[idx-1]==_chain[idx]\n      idx-=1\n    end\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx]==_chain[idx-1]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count.map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1\n      if count[i-1]>2\n        queue<<[i, chain[i-1], -1]\n      elsif count[i+1]>2\n        queue<<[i, chain[i+1], 0]\n      elsif chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n        queue<<[i, chain[i-1], -1]\n      end\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1\n      if count[i-1]>2\n        queue<<[i, chain[i-1], -1]\n      elsif count[i+1]>2\n        queue<<[i, chain[i+1], 0]\n      elsif chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n        queue<<[i, chain[i-1], -1]\n      end\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count.map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 1]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n\n    if _count[idx]!=1\n      if shift<0\n        _chain.insert(idx, color)\n      else\n        _count.insert(idx+1, 1)\n      end\n    end\n\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "\nclass P\n  attr_accessor :color, :size\n  def initialize(color=0, size=0)\n    @color = color\n    @size  = size\n  end\nend\n\n# [Pair] -> [Pair]\ndef compless1(v)\n  res = [v[0]]\n\n  v[1..(-1)].each do |e|\n    if e.color == res[-1].color\n      res[-1].size += e.size\n    else\n      res << e\n    end\n  end\n\n  res\nend\n\n# [Int] -> [Pair]\ndef compless2(v)\n  res = []\n\n  v.each{ |e| res << P.new(e, 1) }\n\n  compless1(res)\nend\n\n\n\n# main\nwhile (n = gets.chomp.to_i) != 0\n  chain = []\n  n.times { chain << gets.chomp.to_i }\n\n  best = 0\n  n.times do |i|\n    1.upto(3) do |color|\n      buf = chain.dup\n      buf[i] = color\n      v = compless2(buf)\n\n      cnt = 0\n      loop do\n        v = compless1(v)\n\n        nv = v.reject{ |e| e.size >= 4 }\n\n        break if v == nv\n        cnt += v.inject(0) { |acc, e| acc + (e.size >= 4 ? e.size : 0) }\n        v = nv\n\n        break if v == []\n      end\n\n      best = [best, cnt].max\n    end\n  end\n\n  puts (n - best)\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 0]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i-1]>2\n      queue<<[i, chain[i-1], -1]\n    elsif count[i+1]>2\n      queue<<[i, chain[i+1], 1]\n    end\n  end\n\n  # 連鎖\n  min=n\n  while !queue.empty?\n\n    _chain=chain.dup\n    _count=count.dup\n\n    idx, color, shift=queue.shift\n    _chain[idx]=color\n\n    if _count[idx]!=1\n      if shift<0\n        _chain.insert(idx, color)\n        _count.insert(idx, 1)\n      else\n        _chain.insert(idx+1, color)\n        _count.insert(idx+1, 1)\n      end\n    end\n\n    idx+=shift\n\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx-1]==_chain[idx]\n        idx-=1\n      end\n    end\n\n    sum=0\n    _count[1..-2].map { |c| sum+=c }\n    min=sum if sum<min\n\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "Ruby",
    "code": "#\n# Chain\n#\n\nwhile (n=gets.to_i)!=0\n\n  queue=[]\n  chain=[0]\n  count=[0]\n\n  n.times do\n    char=gets.to_i\n    if char==chain[-1]\n      count[-1]+=1\n    else\n      chain<<char\n      count<<1\n    end\n  end\n  chain<<0\n  count<<0\n\n  # 色を変える候補\n  2.upto(chain.size-2) do |i|\n    if count[i]==1 && chain[i-1]==chain[i+1] && count[i-1]+count[i+1]>2\n      queue<<[i, chain[i-1]]\n    end\n  end\n\n  min=n\n  while !queue.empty?\n    _chain=chain.dup\n    _count=count.dup\n    idx, color=queue.shift\n    _chain[idx]=color\n    idx-=1\n    while _chain[idx]==_chain[idx+1]\n      _count[idx]+=_count[idx+1]\n      _chain.delete_at(idx+1)\n      _count.delete_at(idx+1)\n      if _count[idx]>3\n        _chain.delete_at(idx)\n        _count.delete_at(idx)\n      end\n      if _chain[idx]==_chain[idx-1]\n        idx-=1\n      end\n    end\n    sum=0\n    _count.each do |c|\n      sum+=c\n    end\n    if sum<min\n      min=sum\n    end\n  end\n\n  puts min\n\nend"
  },
  {
    "language": "PHP",
    "code": "<?php\nclass AOJ0534 {\n    var $T;\n    var $TC;\n    var $L;\n    var $LC;\n\n    public function init() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        $in = file_get_contents('/dev/stdin');\n        $L = explode( \"\\n\", trim($in) );\n        $LC = count($L);\n        $T = array();\n        $TC = 0;\n    }\n    \n    public function input() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        for ( $i = 0; $i < $LC; ++ $i ) {\n            if ( $L[$i] == \"0\" ) break;\n            $n = $L[$i++];\n            $T[$TC] = array();\n            for ( $j = 0; $j < $n; ++ $j ) {\n                $T[$TC][] = intval($L[$i++]);\n            }\n            $TC++;\n            $i--;\n        }\n    }\n\n    public function check($s) {\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $key = str_repeat( $i, 4 );\n            if ( strstr( $s, $key ) ) return true;\n        }\n        return false;\n    }\n\n    public function calc($s) {\n        while ( $this->check($s) ) {\n            for ( $i = 1; $i <= 3; ++ $i ) {\n                $regexp = \"/\".$i.\"{4,}/\";\n                $s = preg_replace( $regexp, '', $s );\n            }\n        }\n        return $res = strlen($s);\n    }\n\n    public function check_around( $s, $k ) {\n        $res = 0;\n        $n = strlen($s);\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k - $i - 1;\n            if ( $id < 0 ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k + $i + 1;\n            if ( $id >= $n ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        return $res + 1;\n    }\n    \n    public function solve($s_) {\n        $res = PHP_INT_MAX;\n        $s = implode('', $s_);\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $regexp = \"/\".$i.\"{4,}/\";\n            $s = preg_replace( $regexp, str_repeat($i, 4), $s );\n        }\n        $n = strlen($s);\n        for ( $i = 0; $i < $n; ++ $i ) {\n            $t = $s;\n            for ( $j = 1; $j <= 3; ++ $j ) {\n                if ( $t[$i] == $j ) continue;\n                $t[$i] = $j;\n                if ( $this->check_around( $t, $i ) < 4 ) continue;\n                if ( ( $i-1 >= 0 && $t[$i-1] == $j ) || ( $i+1 < $n && $t[$i+1] == $j ) ) {\n                    $res = min( $res, $this->calc($t) );\n                }\n            }\n        }\n        return $res;\n    }\n    \n    public function run() {\n        $this->init();\n        $this->input();\n        foreach ( $this->T as $test ) {\n            echo $this->solve($test).\"\\n\";\n        }\n    }\n}\n\n$instance = new AOJ0534;\n$instance->run();"
  },
  {
    "language": "PHP",
    "code": "<?php\nclass AOJ0534 {\n    var $T;\n    var $TC;\n    var $L;\n    var $LC;\n\n    public function init() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        $in = file_get_contents('/dev/stdin');\n        $L = explode( \"\\n\", trim($in) );\n        $LC = count($L);\n        $T = array();\n        $TC = 0;\n    }\n    \n    public function input() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        for ( $i = 0; $i < $LC; ++ $i ) {\n            if ( $L[$i] == \"0\" ) break;\n            $n = $L[$i++];\n            $T[$TC] = array();\n            for ( $j = 0; $j < $n; ++ $j ) {\n                $T[$TC][] = intval($L[$i++]);\n            }\n            $TC++;\n            $i--;\n        }\n    }\n\n    public function check($s) {\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $key = str_repeat( $i, 4 );\n            if ( strstr( $s, $key ) ) return true;\n        }\n        return false;\n    }\n\n    public function calc($s) {\n        while ( $this->check($s) ) {\n            for ( $i = 1; $i <= 3; ++ $i ) {\n                $regexp = \"/\".$i.\"{4,}/\";\n                $s = preg_replace( $regexp, '', $s );\n            }\n        }\n        return $res = strlen($s);\n    }\n\n    public function check_around( $s, $k ) {\n        $res = 0;\n        $n = strlen($s);\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k - $i - 1;\n            if ( $id < 0 ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k + $i + 1;\n            if ( $id >= $n ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        return $res + 1;\n    }\n    \n    public function solve($s_) {\n        $res = PHP_INT_MAX;\n        $s = implode('', $s_);\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $regexp = \"/\".$i.\"{4,}/\";\n            $s = preg_replace( $regexp, str_repeat($i, 4), $s );\n        }\n        $n = strlen($s);\n        for ( $i = 0; $i < $n; ++ $i ) {\n            $t = $s;\n            for ( $j = 1; $j <= 3; ++ $j ) {\n                if ( $t[$i] == $j ) continue;\n                $t[$i] = $j;\n                if ( $this->check_around( $t, $i ) < 4 ) continue;\n                if ( ( $i-1 >= 0 && $t[$i-1] == $j ) || ( $i+1 < $n && $t[$i+1] == $j ) ) {\n                    $res = min( $res, $this->calc($t) );\n                }\n            }\n        }\n        return $res;\n    }\n    \n    public function run() {\n        $this->init();\n        $this->input();\n        foreach ( $this->T as $test ) {\n            echo $this->solve($test).\"\\n\";\n        }\n    }\n}\n\n(new AOJ0534)->run();\n\n?>"
  },
  {
    "language": "PHP",
    "code": "\n<?php\nclass AOJ0534 {\n    var $T;\n    var $TC;\n    var $L;\n    var $LC;\n\n    public function init() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        $in = file_get_contents('/dev/stdin');\n        $L = explode( \"\\n\", trim($in) );\n        $LC = count($L);\n        $T = array();\n        $TC = 0;\n    }\n    \n    public function input() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        for ( $i = 0; $i < $LC; ++ $i ) {\n            if ( $L[$i] == \"0\" ) break;\n            $n = $L[$i++];\n            $T[$TC] = array();\n            for ( $j = 0; $j < $n; ++ $j ) {\n                $T[$TC][] = intval($L[$i++]);\n            }\n            $TC++;\n            $i--;\n        }\n    }\n\n    public function check($s) {\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $key = str_repeat( $i, 4 );\n            if ( strstr( $s, $key ) ) return true;\n        }\n        return false;\n    }\n\n    public function calc($s) {\n        while ( $this->check($s) ) {\n            for ( $i = 1; $i <= 3; ++ $i ) {\n                $regexp = \"/\".$i.\"{4,}/\";\n                $s = preg_replace( $regexp, '', $s );\n            }\n        }\n        return $res = strlen($s);\n    }\n\n    public function check_around( $s, $k ) {\n        $res = 0;\n        $n = strlen($s);\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k - $i - 1;\n            if ( $id < 0 ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k + $i + 1;\n            if ( $id >= $n ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        return $res + 1;\n    }\n    \n    public function solve($s_) {\n        $res = PHP_INT_MAX;\n        $s = implode('', $s_);\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $regexp = \"/\".$i.\"{4,}/\";\n            $s = preg_replace( $regexp, str_repeat($i, 4), $s );\n        }\n        $n = strlen($s);\n        for ( $i = 0; $i < $n; ++ $i ) {\n            $t = $s;\n            for ( $j = 1; $j <= 3; ++ $j ) {\n                if ( $t[$i] == $j ) continue;\n                $t[$i] = $j;\n                if ( $this->check_around( $t, $i ) < 4 ) continue;\n                if ( ( $i-1 >= 0 && $t[$i-1] == $j ) || ( $i+1 < $n && $t[$i+1] == $j ) ) {\n                    $res = min( $res, $this->calc($t) );\n                }\n            }\n        }\n        return $res;\n    }\n    \n    public function run() {\n        $this->init();\n        $this->input();\n        foreach ( $this->T as $test ) {\n            echo $this->solve($test).\"\\n\";\n        }\n    }\n}\n\n(new AOJ0534)->run();"
  },
  {
    "language": "PHP",
    "code": "<?php\nclass AOJ0534 {\n    var $T;\n    var $TC;\n    var $L;\n    var $LC;\n\n    public function init() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        $in = file_get_contents('/dev/stdin');\n        $L = explode( \"\\n\", trim($in) );\n        $LC = count($L);\n        $T = array();\n        $TC = 0;\n    }\n    \n    public function input() {\n        $L = &$this->L;\n        $LC = &$this->LC;\n        $T = &$this->T;\n        $TC = &$this->TC;\n        \n        for ( $i = 0; $i < $LC; ++ $i ) {\n            if ( $L[$i] == \"0\" ) break;\n            $n = $L[$i++];\n            $T[$TC] = array();\n            for ( $j = 0; $j < $n; ++ $j ) {\n                $T[$TC][] = intval($L[$i++]);\n            }\n            $TC++;\n            $i--;\n        }\n    }\n\n    public function check($s) {\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $key = str_repeat( $i, 4 );\n            if ( strstr( $s, $key ) ) return true;\n        }\n        return false;\n    }\n\n    public function calc($s) {\n        while ( $this->check($s) ) {\n            for ( $i = 1; $i <= 3; ++ $i ) {\n                $regexp = \"/\".$i.\"{4,}/\";\n                $s = preg_replace( $regexp, '', $s );\n            }\n        }\n        return $res = strlen($s);\n    }\n\n    public function check_around( $s, $k ) {\n        $res = 0;\n        $n = strlen($s);\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k - $i - 1;\n            if ( $id < 0 ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        for ( $i = 0; $i < 4; ++ $i ) {\n            $id = $k + $i + 1;\n            if ( $id >= $n ) break;\n            if ( $s[$k] != $s[$id] ) break;\n            $res ++;\n        }\n        return $res + 1;\n    }\n    \n    public function solve($s_) {\n        $res = PHP_INT_MAX;\n        $s = implode('', $s_);\n        for ( $i = 1; $i <= 3; ++ $i ) {\n            $regexp = \"/\".$i.\"{4,}/\";\n            $s = preg_replace( $regexp, str_repeat($i, 4), $s );\n        }\n        $n = strlen($s);\n        for ( $i = 0; $i < $n; ++ $i ) {\n            $t = $s;\n            for ( $j = 1; $j <= 3; ++ $j ) {\n                if ( $t[$i] == $j ) continue;\n                $t[$i] = $j;\n                if ( $this->check_around( $t, $i ) < 4 ) continue;\n                if ( ( $i-1 >= 0 && $t[$i-1] == $j ) || ( $i+1 < $n && $t[$i+1] == $j ) ) {\n                    $res = min( $res, $this->calc($t) );\n                }\n            }\n        }\n        return $res;\n    }\n    \n    public function run() {\n        $this->init();\n        $this->input();\n        foreach ( $this->T as $test ) {\n            echo $this->solve($test).\"\\n\";\n        }\n    }\n}\n\n(new AOJ0534)->run();\n\n?>"
  },
  {
    "language": "Python",
    "code": "w={*'123'}\nfor e in iter(input,'0'):\n n=m=int(e);a=[input()for _ in[0]*n]\n for i in range(n):\n  for j in w-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    while t<len(b):\n     t=len(b)\n     for x in w-{c}:\n      if x in b[s+1:]:t=min(t,b.index(x,s+1))\n     if t-s>3:t-=1;f=1;b=b[:s]+b[t+1:];break\n     elif t==len(b):break\n     else:s,c=t,b[t]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "# p周辺の4つは消えることが前提\ndef erase(array, i, N):\n    if array[i - 1] == array[i]:\n        up = i - 1\n        down = i\n    elif array[i] == array[i + 1]:\n        up = i\n        down = i + 1\n    else:\n        return N - 2\n\n    while True:\n        if array[up] == -1 or array[down] == -1 or not array[up] == array[down]:\n            return up + N - down - 1\n        save_up = up\n        save_down = down\n        c = array[up]\n        while array[up] == c:\n            up -= 1\n        while array[down] == c:\n            down += 1\n\n        if save_up - up + down - save_down < 4:\n            return save_up + N - save_down - 1\n\n\n\ndef main():\n    while True:\n        N = int(input())\n        if N == 0:\n            return\n        a = [-1]\n        for i in range(N):\n            a.append(int(input()))\n        a.append(-1)\n\n        min_erased = N\n        for i in range(1, N + 1):\n            save = a[i]\n            a[i] = save % 3 + 1\n            min_erased = min(min_erased, erase(a, i, N + 2))\n            a[i] = (save + 1) % 3 + 1\n            min_erased = min(min_erased, erase(a, i, N + 2))\n            a[i] = save\n\n        print(min_erased)\n\n\nif __name__ == '__main__':\n    main()\n\n\n\n"
  },
  {
    "language": "Python",
    "code": "for e in iter(input,'0'):\n n=m=int(e);a=[input()for _ in[0]*n]\n for i in range(n):\n  for j in {*'123'}-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    for k in range(1,len(b)):\n     if b[k]==c:t=k\n     elif t-s>2:f=1;break\n     else:s=t=k;c=b[k]\n    if f:b=b[:s]+b[t+1:]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "def product4(a):\n    return a[0]*a[1]*a[2]*a[3]\n\ndef puyo(a):\n    ans = len(a)\n    while True:\n        ans = len(a)\n        for i in range(len(a)-3):\n            if a[i] == a[i+1] == a[i+2] == a[i+3]:\n                hit = a[i]\n                ren = 3\n                while i+ren+1 < len(a):\n                    if a[i+ren+1] != hit: break\n                    ren += 1\n                del a[i:i+ren+1]\n                break\n        else:\n            break\n    return ans\n\nwhile True:\n    n = int(input())\n    if n==0: break\n\n    cha = []\n    for i in range(n):\n        cha.append(int(input()))\n\n    ans = n\n    for i in range(len(cha)-3):\n        chain = cha.copy()\n        if product4(chain[i:i+4]) in [2,3,8,24,27,54]:\n            hit = chain[i]\n            if hit == chain[i+1]:\n                chain[i+2] = chain[i+3] = hit\n            elif hit == chain[i+2]:\n                chain[i+1] = hit\n            else:\n                chain[i] = chain[i+1]\n            ans = min(ans,puyo(chain))\n    print(ans)"
  },
  {
    "language": "Python",
    "code": "INF = 100000\nwhile True:\n  n = int(input())\n  if not n: break\n  lst = [int(input()) for _ in range(n)]\n\n  def check(x):\n    c1 = c2 = lst[x]\n    l = r = x\n    b = 0\n    for i in range(r, n):\n      if lst[i] != c2:\n        r = i - 1\n        break\n    else:\n      r = n - 1\n\n    for i in range(l, -1, -1):\n      if lst[i] != c1:\n        l = i + 1\n        break\n    else:\n      l = 0\n\n    if r - l - b < 3:\n      return n\n    else:\n      b = r - l\n\n    while l > 0 and r < n - 1:\n      c1 = lst[l - 1]\n      c2 = lst[r + 1]\n      if c1 != c2:\n        break\n      else:\n        for i in range(r + 1,n):\n          if lst[i] != c2:\n            r = i - 1\n            break\n        else:\n          r = n - 1\n           \n        for i in range(l - 1, -1, -1):\n          if lst[i] != c1:\n            l = i + 1\n            break\n        else:\n          l = 0\n\n        if r - l - b < 4:\n          break\n        else:\n          b = r - l\n    return n - (b + 1)\n\n  ans = INF\n  for i in range(n):\n    lst[i] = (lst[i] + 1) % 3 + 1\n    ans = min(ans, check(i))\n    lst[i] = (lst[i] + 1) % 3 + 1\n    ans = min(ans, check(i))\n    lst[i] = (lst[i] + 1) % 3 + 1\n  print(ans)\n"
  },
  {
    "language": "Python",
    "code": "import sys\nr=sys.stdin.readline\nw={*'123'}\nfor e in iter(r,'0\\n'):\n n=m=int(e);a=[r()[:-1]for _ in[0]*n]\n for i in range(n):\n  for j in w-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    while t<len(b):\n     t=len(b)\n     for x in w-{c}:\n      if x in b[s+1:]:t=min(t,b.index(x,s+1))\n     if t-s>3:t-=1;f=1;b=b[:s]+b[t+1:];break\n     elif t==len(b):break\n     else:s,c=t,b[t]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "def product4(a):\n    return a[0]*a[1]*a[2]*a[3]\n\ndef puyo(a):\n    ans = len(a)\n    for i in range(len(a)-3):\n        if a[i] == a[i+1] == a[i+2] == a[i+3]:\n            hit = a[i]\n            ren = 3\n            while i+ren+1 < len(a):\n                if a[i+ren+1] != hit: break\n                ren += 1\n            ans = min(ans, puyo(a[:i]+a[i+ren+1:]))\n    return ans\n\nwhile True:\n    n = int(input())\n    if n==0: break\n\n    cha = []\n    for i in range(n):\n        cha.append(int(input()))\n\n    ans = n\n    for i in range(len(cha)-3):\n        chain = cha.copy()\n        if product4(chain[i:i+4]) in [2,3,8,24,27,54]:\n            hit = chain[i]\n            if hit == chain[i+1]:\n                chain[i+2] = chain[i+3] = hit\n            elif hit == chain[i+2]:\n                chain[i+1] = hit\n            else:\n                chain[i] = chain[i+1]\n        ans = min(ans,puyo(chain))\n    print(ans)"
  },
  {
    "language": "Python",
    "code": "def cara(n):\n\tkazu=[]\n\tilo=[]\n\ta=int(input())\n\tuna=a\n\tkazu.append(1)\n\tilo.append(a)\n\tfor n in range(n-1):\n\t\ta=int(input())\n\t\tif una==a:\n\t\t\tkazu[-1]+=1\n\t\telse:\n\t\t\tkazu.append(1)\n\t\t\tilo.append(a)\n\t\t\tuna=a\n\treturn ilo,kazu\ndef kes(ilo,kazu):\n\tk=10000\n\tunanseer=sum(kazu)\n\tanseer=sum(kazu)\n\tfor p in range(len(ilo)):\n\t\tn=0\n\t\tif kazu[p]>=3 :\n\t\t\tanseer=kurabe(ilo,kazu,p)\n\t\tn=0\n\t\tif p+2 < len(ilo) and ilo[p]==ilo[p+2] and kazu[p]+kazu[p+2]>=3 and kazu[p+1]==1:\n\t\t\twhile p+2+n<len(ilo) and p-n>=0 and ilo[p-n]==ilo[p+2+n] and kazu[p-n]+kazu[p+2+n]>=4:\n\t\t\t\tn+=1\n\t\t\tif n>2500:\n\t\t\t\tprint(n)\n\t\t\tunanseer=kensa(ilo,kazu,n,p)\n\t\tif unanseer<anseer:\n\t\t\tanseer=unanseer\n\t\tif anseer<k: \n\t\t\tk=anseer\n\treturn k\ndef kensa(ilo,kazu,n,p):\n\tk=0\n\tif n==0:\n\t\tfor w in range(len(kazu)):\n\t\t\tk+=kazu[w]\n\telse:\n\t\tfor q in range(0,p-n+1):\n\t\t\tk+=kazu[q]\n\t\tfor i in range(p+2+n,len(kazu)):\n\t\t\tk+=kazu[i]\n\treturn k\ndef kurabe(ilo,kazu,p):\n\tn=0\n\ta=0\n\tb=0\n\tk=0\n\t\n\t#上からもらう\n\tif p+1 < len(ilo):\n\t\tkazu[p+1]-=1\n\t\tkazu[p]+=1\n\t\twhile 0<p-a and len(kazu)>p+1+a and ilo[p+1+a]==ilo[p-1-a] and kazu[p+1+a]+kazu[p-1-a]>=4:\n\t\t\ta+=1\n\t\tkazu[p+1]+=1\n\t\tkazu[p]-=1\n\n\t#下からもらう\n\tif p-1 >= 0:\n\t\tkazu[p-1]-=1\n\t\tkazu[p]+=1\n\t\twhile len(kazu)>p+1+b and 0<p-b and ilo[p+b+1]==ilo[p-1-b] and kazu[p+b+1]+kazu[p-1-b]>=4:\n\t\t\tb+=1\n\t\tkazu[p-1]+=1\n\t\tkazu[p]-=1\n\tif a<b:\n\t\tn=b\n\telse:\n\t\tn=a\n\tfor q in range(0,p-n):\n\t\t\tk+=kazu[q]\n\tfor i in range(p+n,len(kazu)):\n\t\t\tk+=kazu[i]\n\tk-=3\n\treturn k\n\nwhile True:\n\tn=int(input())\n\tif n==0:\n\t\tbreak\n\tilo,kazu=cara(n)\n\tprint(kes(ilo,kazu))\n"
  },
  {
    "language": "Python",
    "code": "for e in iter(input,'0'):\n n=m=int(e);a=[input()for _ in[0]*n]\n for i in range(n):\n  for j in{*'123'}-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    while t<len(b):\n     t=len(b)\n     for x in{*'123'}-{c}:\n      if x in b[s+1:]:t=min(t,b.index(x,s+1))\n     if t-s>3:t-=1;f=1;b=b[:s]+b[t+1:];break\n     elif t==len(b):break\n     else:s,c=t,b[t]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "import sys\nr=sys.stdin.readline\nw={*'123'}\nfor e in iter(r,'0'):\n n=m=int(e);a=[r()for _ in[0]*n]\n for i in range(n):\n  for j in w-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    while t<len(b):\n     t=len(b)\n     for x in w-{c}:\n      if x in b[s+1:]:t=min(t,b.index(x,s+1))\n     if t-s>3:t-=1;f=1;b=b[:s]+b[t+1:];break\n     elif t==len(b):break\n     else:s,c=t,b[t]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "def solve():\n  INF = 100000\n  while True:\n    n = int(input())\n    if not n: break\n    lst = [int(input()) for _ in range(n)]\n  \n    def check(x):\n      c1 = c2 = lst[x]\n      l = r = x\n      b = 0\n      for i in range(r, n):\n        if lst[i] != c2:\n          r = i - 1\n          break\n      else:\n        r = n - 1\n  \n      for i in range(l, -1, -1):\n        if lst[i] != c1:\n          l = i + 1\n          break\n      else:\n        l = 0\n  \n      if r - l - b < 3:\n        return n\n      else:\n        b = r - l\n  \n      while l > 0 and r < n - 1:\n        c1 = lst[l - 1]\n        c2 = lst[r + 1]\n        if c1 != c2:\n          break\n        else:\n          for i in range(r + 1,n):\n            if lst[i] != c2:\n              r = i - 1\n              break\n          else:\n            r = n - 1\n             \n          for i in range(l - 1, -1, -1):\n            if lst[i] != c1:\n              l = i + 1\n              break\n          else:\n            l = 0\n  \n          if r - l - b < 4:\n            break\n          else:\n            b = r - l\n      return n - (b + 1)\n  \n    ans = INF\n    for i in range(n):\n      lst[i] = (lst[i] + 1) % 3 + 1\n      ans = min(ans, check(i))\n      lst[i] = (lst[i] + 1) % 3 + 1\n      ans = min(ans, check(i))\n      lst[i] = (lst[i] + 1) % 3 + 1\n    print(ans)\nsolve()\n"
  },
  {
    "language": "Python",
    "code": "w={*'123'}\nfor e in iter(input,'0'):\n n=m=int(e);a=[input()for _ in[0]*n]\n for i in range(n):\n  for j in w-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    while t<len(b):\n     t=len(b)\n     for x in w-{c}:\n      if x in b[s+1:]:t=min(t,b.index(x,s+1))\n     if t-s>3:t-=1;f=1;b=b[:s]+b[t+1:];break\n     elif t==len(b):break\n     else:s,c=t,b[t]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "import sys\nr=sys.stdin.readline\nfor e in iter(r,'0\\n'):\n n=m=int(e);a=[r()for _ in[0]*n]\n for i in range(n):\n  for j in {*'123'}-{a[i]}:\n   b=a[:i]+[j]+a[i+1:]\n   f=1\n   while f:\n    s=t=f=0;c=b[0]\n    for k in range(1,len(b)):\n     if b[k]==c:t=k\n     elif t-s>2:f=1;break\n     else:s=t=k;c=b[k]\n    if f:b=b[:s]+b[t+1:]\n   m=min(m,len(b))\n print(m)\n"
  },
  {
    "language": "Python",
    "code": "def g():\n import sys\n r=sys.stdin.readline\n w={*'123'}\n for e in iter(r,'0\\n'):\n  n=m=int(e);a=[r()[:-1]for _ in[0]*n]\n  for i in range(n):\n   for j in w-{a[i]}:\n    b=a[:i]+[j]+a[i+1:]\n    f=1\n    while f:\n     s=t=f=0;c=b[0]\n     while t<len(b):\n      t=len(b)\n      for x in w-{c}:\n       if x in b[s+1:]:t=min(t,b.index(x,s+1))\n      if t-s>3:t-=1;f=1;b=b[:s]+b[t+1:];break\n      elif t==len(b):break\n      else:s,c=t,b[t]\n    m=min(m,len(b))\n  print(m)\nif __name__ == '__main__':\n    g()\n"
  },
  {
    "language": "Python",
    "code": "def solve():\n  INF = 100000\n  while True:\n    n = int(input())\n    if not n: break\n    lst = [int(input()) for _ in range(n)]\n  \n    def check(x):\n      c = lst[x]\n      l = r = x\n      b = 0\n      for i in range(r, n):\n        if lst[i] != c:\n          r = i - 1\n          break\n      else:\n        r = n - 1\n  \n      for i in range(l, -1, -1):\n        if lst[i] != c:\n          l = i + 1\n          break\n      else:\n        l = 0\n  \n      if r - l - b < 3:\n        return n\n      else:\n        b = r - l\n  \n      while l > 0 and r < n - 1:\n        c = lst[l - 1]\n        if c != lst[r + 1]:\n          break\n        else:\n          for i in range(r + 1,n):\n            if lst[i] != c:\n              r = i - 1\n              break\n          else:\n            r = n - 1\n             \n          for i in range(l - 1, -1, -1):\n            if lst[i] != c:\n              l = i + 1\n              break\n          else:\n            l = 0\n  \n          if r - l - b < 4:\n            break\n          else:\n            b = r - l\n      return n - (b + 1)\n  \n    ans = INF\n    for i in range(n):\n      lst[i] = (lst[i]) % 3 + 1\n      ans = min(ans, check(i))\n      lst[i] = (lst[i]) % 3 + 1\n      ans = min(ans, check(i))\n      lst[i] = (lst[i]) % 3 + 1\n    print(ans)\nsolve()\n"
  },
  {
    "language": "Python",
    "code": "def g():\n import sys\n r=sys.stdin.readline\n for e in iter(r,'0\\n'):\n  n,m=int(e),[];a=[r()for _ in[0]*n]\n  for i in range(n):\n   for j in {*'123'}-{a[i]}:\n    b=a[:i]+[j]+a[i+1:]\n    f=1\n    while f:\n     s=t=f=0;c=b[0]\n     for k in range(1,len(b)):\n      if b[k]==c:t=k\n      elif t-s>2:f=1;break\n      else:s=t=k;c=b[k]\n     if f:b=b[:s]+b[t+1:]\n    m+=[len(b)]\n  print(min(m))\nif'__main__'==__name__:g()\n"
  },
  {
    "language": "Python",
    "code": "def doChain(ar, si, ei):\n\tp, c = 0, []  #p:ar[i]のcolor, c:4連続以上のarのindex\n\tfor i in range(si, ei):\n\t\tif ar[i]==p:\n\t\t\tc.append(i)\n\t\t\tif i==len(ar)-1 and len(c)>=4:\n\t\t\t\tdel ar[min(c):max(c)+1]\n\t\t\t\treturn True, max(0, si-3),min(ei+5, len(ar))\n\t\telse:\n\t\t\tif len(c)>=4:\n\t\t\t\tdel ar[min(c):max(c)+1]\n\t\t\t\treturn True, max(0, si-3),min(ei+5, len(ar))\n\t\t\tp = ar[i]\n\t\t\tc = [i]\n\treturn False, 0, len(ar)\n\n\nwhile True:\n\tN = int(input())\n\tif N==0: break\n\tA = [int(input()) for _ in range(N)]\n\tminvalue = N\n\tfor j in range(len(A)-1):\n\t\tB = A[:]\n\t\tif B[j+1]!=B[j]:\n\t\t\tB[j+1] = B[j]\n\t\t\tresult = True\n\t\t\tsi, ei = max(0, j-3), min(j+5, len(A))\n\t\t\twhile result==True:\n\t\t\t\tresult, si, ei = doChain(B, si, ei)\n\t\t\t\tif len(B)<minvalue:\n\t\t\t\t\tminvalue = len(B)\n\n\tprint(minvalue)\n\n"
  },
  {
    "language": "Python",
    "code": "while True:\n    n = int(input())\n    if not n:\n        break\n\n    puyos = []\n    pre = int(input())\n    cnt = 1\n    for _ in range(n - 1):\n        p = int(input())\n        if pre != p:\n            puyos.append((pre, cnt))\n            pre = p\n            cnt = 0\n        cnt += 1\n    puyos.append((pre, cnt))\n    lp = len(puyos)\n\n    min_puyo = n\n    for i, puyo in enumerate(puyos):\n        color, num = puyo\n        if num == 2:\n            continue\n        tn, j = n, 1\n        while True:\n            if i - j < 0 or i + j >= lp:\n                break\n\n            tp_c, tp_n = puyos[i - j]\n            up_c, up_n = puyos[i + j]\n            if tp_c != up_c:\n                break\n\n            first_adjust = 0\n            if j == 1:\n                if num == 1:\n                    first_adjust = 1\n                else:\n                    first_adjust = -1\n                    tn -= 4\n\n            dp = tp_n + up_n + first_adjust\n            if dp < 4:\n                break\n            tn -= dp\n            j += 1\n        if min_puyo > tn:\n            min_puyo = tn\n    print(min_puyo)"
  },
  {
    "language": "Python",
    "code": "INF = 100000\nwhile True:\n  n = int(input())\n  if not n: break\n  lst = [int(input()) for _ in range(n)]\n\n  def check(x):\n    c1 = c2 = lst[x]\n    l = r = x\n    b = 0\n    for i in range(r, n):\n      if lst[i] != c2:\n        r = i - 1\n        break\n    else:\n      r = i\n\n    for i in range(l, -1, -1):\n      if lst[i] != c1:\n        l = i + 1\n        break\n    else:\n      l = i\n\n    if r - l - b < 3:\n      return n\n    else:\n      b = r - l\n    while l > 0 and r < n - 1:\n      c1 = lst[l - 1]\n      c2 = lst[r + 1]\n      if c1 != c2:\n        break\n      else:\n        for i in range(r + 1,n):\n          if lst[i] != c2:\n            r = i - 1\n            break\n        else:\n          r = i\n           \n        for i in range(l - 1, -1, -1):\n          if lst[i] != c1:\n            l = i + 1\n            break\n        else:\n          l = i\n\n        if r - l - b < 3:\n          break\n        else:\n          b = r - l\n    return n - (r - l + 1)\n\n  ans = INF\n  for i in range(n):\n    lst[i] = (lst[i] + 1) % 3\n    ans = min(ans, check(i))\n    lst[i] = (lst[i] + 1) % 3\n    ans = min(ans, check(i))\n    lst[i] = (lst[i] + 1) % 3\n  print(ans)\n"
  },
  {
    "language": "Python",
    "code": "def myinput(n):\n\tC=[int(input())]\n\tL=[1]\n\tfor i in range(1,n):\n\t\tc = int(input())\n\t\tif C[-1] == c:\n\t\t\tL[-1]+=1\n\t\telse:\n\t\t\tC.append(c)\n\t\t\tL.append(1)\n\treturn [C,L]\n\ndef check(C,L,low, hih):\n\tm = len(C)\n\tret = 0\n\tif 0<=low and L[low]>=4 and (hih>=m or C[low] != C[hih]):\n\t\tret += L[low]\n\t\tlow -= 1\n\tif hih<m and L[hih]>=4 and (low<0 or C[low] != C[hih]):\n\t\tret += L[hih]\n\t\thih += 1\n\twhile 0 <= low and hih < m and C[low] == C[hih] and L[low] + L[hih] >= 4:\n\t\tret += L[low] + L[hih]\n\t\tlow -= 1\n\t\thih += 1\n\treturn ret\n\ndef solve(C,L):\n\tm = len(C)\n\tret = 0\n\tfor i in range(m):\n\t\tL[i]-=1\n\t\tif i+1 < m:\n\t\t\tL[i+1]+=1\n\t\t\tif L[i]>0:\n\t\t\t\tret = max(ret, check(C, L, i  , i+1))\n\t\t\telse:\n\t\t\t\tret = max(ret, check(C, L, i-1, i+1))\n\t\t\tL[i+1]-=1\n\t\tif i-1 >= 0:\n\t\t\tL[i-1]+=1\n\t\t\tif L[i]>0:\n\t\t\t\tret = max(ret, check(C, L, i-1, i))\n\t\t\telse:\n\t\t\t\tret = max(ret, check(C, L, i-1, i+1))\n\t\t\tL[i-1]-=1\n\t\tL[i]+=1\n\treturn ret\n\nwhile True:\n\tn = int(input())\n\tif n == 0:\n\t\tbreak\n\tC,L = myinput(n)\n\tprint(n - solve(C,L))\n\n"
  },
  {
    "language": "Python",
    "code": "while True:\n    n = int(input())\n    if not n:\n        break\n\n    puyos = []\n    pre = int(input())\n    cnt = 1\n    for _ in range(n - 1):\n        p = int(input())\n        if pre != p:\n            puyos.append((pre, cnt))\n            pre = p\n            cnt = 0\n        cnt += 1\n    puyos.append((pre, cnt))\n    lp = len(puyos)\n\n    min_puyo = n\n    for i, puyo in enumerate(puyos):\n        color, num = puyo\n        if num > 1:\n            continue\n        tn, j = n, 1\n        while True:\n            if i - j < 0 or i + j >= lp:\n                break\n            tp_c, tp_n = puyos[i - j]\n            up_c, up_n = puyos[i + j]\n            if tp_c != up_c:\n                break\n            dp = tp_n + up_n + int(j == 1)\n            if dp < 4:\n                break\n            tn -= dp\n            j += 1\n        if min_puyo > tn:\n            min_puyo = tn\n    print(min_puyo)"
  },
  {
    "language": "Python",
    "code": "def g():\n import sys\n r=sys.stdin.readline\n for e in iter(r,'0\\n'):\n  n=m=int(e);a=[r()for _ in[0]*n]\n  for i in range(n):\n   for j in {*'123'}-{a[i]}:\n    b=a[:i]+[j]+a[i+1:]\n    f=1\n    while f:\n     s=t=f=0;c=b[0]\n     for k in range(1,len(b)):\n      if b[k]==c:t=k\n      elif t-s>2:f=1;break\n      else:s=t=k;c=b[k]\n     if f:b=b[:s]+b[t+1:]\n    m=min(m,len(b))\n  print(m)\nif'__main__'==__name__:g()\n"
  },
  {
    "language": "Rust",
    "code": "#[allow(unused_imports)]\nuse std::io::{stdin, Read, StdinLock};\n#[allow(unused_imports)]\nuse std::cmp::{max, min, Ordering};\n#[allow(unused_imports)]\nuse std::str::FromStr;\n#[allow(unused_imports)]\nuse std::collections::{HashSet, HashMap, BinaryHeap, VecDeque};\n#[allow(unused_imports)]\nuse std::vec::Vec;\n\n#[allow(dead_code)]\nconst INF: i32 = 1000_000_000;\n#[allow(dead_code)]\nconst INFLL: i64 = 1000_000_000_000_000_000;\n#[allow(dead_code)]\nconst EPS: f64 = 1.0e-10;\n#[allow(dead_code)]\nconst MOD: i32 = 1000_000_007;\n#[allow(dead_code)]\nconst MODLL: i64 = 1000_000_007;\n\nstruct Scanner<'a> {\n    cin: StdinLock<'a>,\n}\n\n#[allow(dead_code)]\nimpl<'a> Scanner<'a> {\n    fn new(cin: StdinLock<'a>) -> Scanner<'a> {\n        Scanner {cin: cin}\n    }\n    fn read1<T: FromStr>(&mut self) -> Option<T> {\n        let token = self.cin.by_ref().bytes().map(|c| c.unwrap() as char)\n                    .skip_while(|c| c.is_whitespace())\n                    .take_while(|c| !c.is_whitespace())\n                    .collect::<String>();\n        token.parse::<T>().ok()\n    }\n    fn read<T: FromStr>(&mut self) -> T {\n        self.read1().unwrap()\n    }\n}\n\n\n\nfn solve(tower: &Vec<i32>) -> i32 {\n    let n = tower.len();\n    let (mut kind, mut cnt) = (tower[0], 1);\n    let mut k: Vec<(i32, i32)> = Vec::new();\n    for i in 1..n {\n        if kind == tower[i] {\n            cnt += 1;\n        } else {\n            k.push((kind, cnt));\n            kind = tower[i];\n            cnt = 1;\n        }\n    }\n    k.push((kind, cnt));\n    let k = k;\n\n    let mut stack: Vec<(i32, i32)> = Vec::new();\n    for (kind, cnt) in k {\n        let m = stack.len();\n        if cnt >= 4 {\n            continue;\n        }\n        if stack.len() == 0 || stack[m - 1].0 != kind || stack[m - 1].1 + cnt < 4 {\n            stack.push((kind, cnt));\n        } else {\n            stack.pop();\n        }\n    }\n\n    let mut ans = 0;\n    for (_, cnt) in stack {\n        ans += cnt;\n    }\n\n    ans\n}\n\nfn main() {\n    let cin = stdin();\n    let cin = cin.lock();\n    let mut sc = Scanner::new(cin);\n\n    loop {\n        let n: usize = sc.read();\n        if n == 0 {\n            break;\n        }\n        let mut t: Vec<i32> = vec![0; n];\n        for i in 0..n {\n            t[i] = sc.read();\n        }\n\n        let mut ans = INF;\n        for i in 0..n {\n            let tmp = t[i];\n            for j in 1..4 {\n                if tmp == j {\n                    continue;\n                }\n                if i != 0 && t[i - 1] == j || i != n - 1 && t[i + 1] == j {\n                    t[i] = j;\n                    ans = min(ans, solve(&t));\n                }\n            }\n            t[i] = tmp;\n        }\n        println!(\"{}\", ans);\n    }\n}\n"
  },
  {
    "language": "Rust",
    "code": "use std::cmp;\n\nfn main(){\n  loop {\n    let n: usize = read();\n    \n    if n == 0 { break; }\n\n    let mut cv: Vec<u32> = vec![4];\n\n    for _ in 0 .. n {\n      cv.push(read())\n    }\n\n    cv.push(5);\n\n    let mut mxn: usize = 0;\n\n    for i in 1 .. n + 1 {\n      mxn = cmp::max(mxn,\n        cmp::max(chain(&cv, i, 1),\n          cmp::max(chain(&cv, i, 2),\n            chain(&cv, i, 3)\n          )\n        )\n      );\n    }\n\n    println!(\"{}\", n - mxn);\n  }\n}\n\nfn read<T>() -> T\n  where T: std::str::FromStr,\n        T::Err: std::fmt::Debug\n{\n  let mut buf = String::new();\n  std::io::stdin().read_line(&mut buf).expect(\"failed to read\");\n  buf.trim().parse().unwrap()\n}\n\nfn chain(v: &Vec<u32>, i: usize, c: u32) -> usize {\n  let mut p: usize = i - 1;\n  let mut q: usize = i + 1;\n  let mut n: usize;\n  \n  while v[p] == c { p -= 1; }\n  while v[q] == c { q += 1; }\n\n  if q - p - 1 >= 4 {\n    n = q - p - 1;\n    \n    loop {\n      if v[p] == v[q] {\n        let tc = v[p];\n        while v[p] == tc { p -= 1; }\n        while v[q] == tc { q += 1; }\n        if q - p - 1 - n >= 4 {\n          n = q - p - 1;\n        } else {\n          break;\n        }\n      } else {\n        break;\n      }\n    }\n  } else {\n    n = 0;\n  }\n  \n  n\n}\n\n"
  }
]