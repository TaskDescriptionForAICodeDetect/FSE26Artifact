Takahashi has an undirected graph with N vertices and edges represented by pairs (u_i, v_i). He constructs a new graph with N^2 vertices, labeled by pairs of integers (a, b) where 1 <= a, b <= N. An edge is created between vertices (a, b) and (a', b') if there are edges between a and a' and between b and b' in the original graph. The task is to determine the number of connected components in this new graph.