Snuke is buying a lamp. The lamp's brightness can be adjusted to m levels using two buttons. The 'forward' button increases the brightness by 1 (wrapping around to 1 when at m), and the 'favorite' button sets the brightness to a preset favorite level x. Snuke will change the brightness n-1 times, starting from an initial level a_1 to levels a_2, a_3, ..., a_n. The task is to determine the minimum number of button presses required when the favorite level x is optimally chosen.