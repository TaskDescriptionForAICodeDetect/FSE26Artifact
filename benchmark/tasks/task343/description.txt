A brave princess from a poor country is set to marry into another country for political reasons. However, there are assassins aiming to kill her along the way. You need to ensure she reaches her destination safely while also considering her wish to take a new route. You must hire escorts to protect her from thieves and assassins on the dangerous path. The cost of hiring escorts is determined by the distance traveled. Given a budget L, your task is to minimize the number of thieves and assassins that could attack the princess before she reaches her destination. You will be given multiple datasets, each specifying the number of waypoints (N), the number of roads (M), and the budget (L), followed by M lines detailing the roads between waypoints, including their distance and the number of potential attackers. Your output should state the minimum number of attackers for each dataset.