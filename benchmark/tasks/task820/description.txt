You are given a board consisting of N horizontal rows and N vertical columns of square cells. Each cell can either be empty or occupied by an obstacle. If an empty cell contains a digit from 1 to 9, it is denoted by that digit; if it contains an obstacle, it is represented by '#'. A cell Y is reachable from cell X if they are different, both are empty, and you can move from X to Y by moving right or down to adjacent empty cells. The task is to find the sum of the products of the digits written on cell X and cell Y for all pairs (X,Y) such that cell Y is reachable from cell X.