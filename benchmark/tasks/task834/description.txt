Consider a grid of squares with 10^9 rows and N columns. For each i from 1 to N, there are h_i remaining squares in the i-th column. Paint the squares either red or blue under the condition that for all 1 ≤ i ≤ N-1 and 1 ≤ j ≤ min(h_i, h_{i+1})-1, there are exactly two squares painted red and two squares painted blue among the squares (i, j), (i, j+1), (i+1, j), and (i+1, j+1). Calculate the number of ways to paint the squares modulo 10^9+7.