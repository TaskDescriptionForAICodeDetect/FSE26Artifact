You are given a tree with N vertices. The i-th edge connects Vertex a_i and Vertex b_i. You also have a string S of length N consisting of 0s and 1s, where the i-th character represents the number of pieces on Vertex i. Snuke will repeatedly choose two pieces that are at least 2 units apart and move them closer together. The goal is to determine if it's possible to bring all pieces to the same vertex and, if so, find the minimum number of moves required.